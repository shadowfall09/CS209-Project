{"items":[{"tags":["java","webrtc","rtp","dtls","srtp"],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679935328,"creation_date":1679935328,"question_id":75858280,"body_markdown":"Is it possible to get the master key (secret) after the `SSEngine` has complete the handshake? I use the `TLS` handshake of a `DTLS` connection to get the keys for an `SRTP` data.\r\n","title":"How to get master secret from an SSLEngine after handshake?","body":"<p>Is it possible to get the master key (secret) after the <code>SSEngine</code> has complete the handshake? I use the <code>TLS</code> handshake of a <code>DTLS</code> connection to get the keys for an <code>SRTP</code> data.</p>\n"},{"tags":["java","sqlite","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1679896587,"post_id":75850617,"comment_id":133796491,"body_markdown":"With that method signature, you may have to pass an instance of `IdentifierResult` as the last argument when calling the method. MyBatis, then, assigns the generated key to the `id` field of the instance (assuming that `IdentifierResult` is a POJO-ish mutable object).","body":"With that method signature, you may have to pass an instance of <code>IdentifierResult</code> as the last argument when calling the method. MyBatis, then, assigns the generated key to the <code>id</code> field of the instance (assuming that <code>IdentifierResult</code> is a POJO-ish mutable object)."},{"owner":{"account_id":257096,"reputation":75,"user_id":538283,"accept_rate":75,"display_name":"Catie"},"score":0,"creation_date":1679924287,"post_id":75850617,"comment_id":133803102,"body_markdown":"This is Java, so if I wasn&#39;t passing an appropriate object there then it wouldn&#39;t compile. However, the id field cannot be properly populated because the id field in the table itself is null.","body":"This is Java, so if I wasn&#39;t passing an appropriate object there then it wouldn&#39;t compile. However, the id field cannot be properly populated because the id field in the table itself is null."},{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1679931952,"post_id":75850617,"comment_id":133805533,"body_markdown":"What I meant was that you cannot pass `null` as the last argument. I&#39;m not familiar with SQLite very much, but it seems to work fine. Try this portable [demo](https://github.com/harawata/mybatis-issues/tree/master/so-75850617).","body":"What I meant was that you cannot pass <code>null</code> as the last argument. I&#39;m not familiar with SQLite very much, but it seems to work fine. Try this portable <a href=\"https://github.com/harawata/mybatis-issues/tree/master/so-75850617\" rel=\"nofollow noreferrer\">demo</a>."},{"owner":{"account_id":257096,"reputation":75,"user_id":538283,"accept_rate":75,"display_name":"Catie"},"score":0,"creation_date":1679933037,"post_id":75850617,"comment_id":133805881,"body_markdown":"My initial reaction was &#39;well of COURSE you can&#39;t pass null&#39; but if you&#39;re accounting for it I&#39;m sure you&#39;ve probably seen someone do it &#128549; Finally figured this one out, it was a SQL problem after all. Will write it up when I get a sec.","body":"My initial reaction was &#39;well of COURSE you can&#39;t pass null&#39; but if you&#39;re accounting for it I&#39;m sure you&#39;ve probably seen someone do it üò• Finally figured this one out, it was a SQL problem after all. Will write it up when I get a sec."},{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1679942501,"post_id":75850617,"comment_id":133808257,"body_markdown":"People surprise me every once in a while &#128513; Anyway, I&#39;m glad to know that you found the cause. &#127881;","body":"People surprise me every once in a while üòÅ Anyway, I&#39;m glad to know that you found the cause. üéâ"}],"answers":[{"tags":[],"owner":{"account_id":257096,"reputation":75,"user_id":538283,"accept_rate":75,"display_name":"Catie"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679935282,"creation_date":1679935282,"answer_id":75858272,"question_id":75850617,"body_markdown":"Turns out this had nothing to do with MyBatis or my code at all and was just a compounding of a couple smaller mistakes:\r\n\r\n1. My project was loading a sqlite db file with improperly initialized tables, causing my various attempts at changing the create statements to be basically ignored.\r\n2. A single file containing all my create statements was [only executing the first statement](https://stackoverflow.com/questions/2928184/only-first-table-in-create-table-statement-being-created).\r\n\r\nI deleted the bad resource and split my creates out into individual files and, except for the places where my frantic testing lead me to mess up my DAO mappers, things are running smoothly. &#128077;","title":"SQLite + MyBatis inserting null value for autoincrement primary key","body":"<p>Turns out this had nothing to do with MyBatis or my code at all and was just a compounding of a couple smaller mistakes:</p>\n<ol>\n<li>My project was loading a sqlite db file with improperly initialized tables, causing my various attempts at changing the create statements to be basically ignored.</li>\n<li>A single file containing all my create statements was <a href=\"https://stackoverflow.com/questions/2928184/only-first-table-in-create-table-statement-being-created\">only executing the first statement</a>.</li>\n</ol>\n<p>I deleted the bad resource and split my creates out into individual files and, except for the places where my frantic testing lead me to mess up my DAO mappers, things are running smoothly. üëç</p>\n"}],"owner":{"account_id":257096,"reputation":75,"user_id":538283,"accept_rate":75,"display_name":"Catie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679935282,"creation_date":1679865481,"question_id":75850617,"body_markdown":"I am attempting to use a single MyBatis implementation in my Java/Gradle project to read/write from either a live MySQL instance or a static SQLite instance (currently using a file for debugging purposes, but hopefully in memory long term). Everything is working fine with MySQL, but for some reason when I use SQLite the integer primary key (which should be mirroring rowID afaik) is being written as null. At first I thought maybe this was how the rowID alias was implemented, but once a record is inserted it cannot be fetched using its rowID in the id field.\r\n\r\nCreate statement for the SQLite table:\r\n```\r\nDROP TABLE `event`;\r\nCREATE TABLE `event` (\r\n    `id` INTEGER PRIMARY KEY,\r\n    `time` DATETIME NOT NULL,\r\n    `duration` INT NOT NULL,\r\n    `summary_id` INT NOT NULL\r\n);\r\n```\r\n\r\nMyBatis mapper for get and insert:\r\n```\r\n@Select(&quot;SELECT * FROM event WHERE id=#{id}&quot;)\r\nEvent get(final int id);\r\n\r\n@Insert({&quot;INSERT INTO&quot;,\r\n    &quot;event(time, duration, summary_id)&quot;,\r\n    &quot;VALUES(#{e.time}, #{e.duration}, #{summaryId})&quot;})\r\n@Options(useGeneratedKeys=true, keyProperty = &quot;result.id&quot;)\r\nvoid insert(@Param(&quot;e&quot;) final Event item, @Param(&quot;summaryId&quot;) final int summaryId, @Param(&quot;result&quot;) final IdentifierResult result);\r\n\r\n```\r\n```IdentifierResult``` is a simple wrapper around an ```int``` that captures the id of the record created.\r\n\r\nI have tried creating the id with every valid combination of ```INTEGER```, ```NOT NULL```, and ```PRIMARY KEY``` with and without ```AUTOINCREMENT```, all with the same result. I have also tried writing a single dummy row immediately after creating the table with its id explicitly set to 1, but subsequent entries were still written with a null id.\r\n\r\nAny guidance would be greatly appreciated!","title":"SQLite + MyBatis inserting null value for autoincrement primary key","body":"<p>I am attempting to use a single MyBatis implementation in my Java/Gradle project to read/write from either a live MySQL instance or a static SQLite instance (currently using a file for debugging purposes, but hopefully in memory long term). Everything is working fine with MySQL, but for some reason when I use SQLite the integer primary key (which should be mirroring rowID afaik) is being written as null. At first I thought maybe this was how the rowID alias was implemented, but once a record is inserted it cannot be fetched using its rowID in the id field.</p>\n<p>Create statement for the SQLite table:</p>\n<pre><code>DROP TABLE `event`;\nCREATE TABLE `event` (\n    `id` INTEGER PRIMARY KEY,\n    `time` DATETIME NOT NULL,\n    `duration` INT NOT NULL,\n    `summary_id` INT NOT NULL\n);\n</code></pre>\n<p>MyBatis mapper for get and insert:</p>\n<pre><code>@Select(&quot;SELECT * FROM event WHERE id=#{id}&quot;)\nEvent get(final int id);\n\n@Insert({&quot;INSERT INTO&quot;,\n    &quot;event(time, duration, summary_id)&quot;,\n    &quot;VALUES(#{e.time}, #{e.duration}, #{summaryId})&quot;})\n@Options(useGeneratedKeys=true, keyProperty = &quot;result.id&quot;)\nvoid insert(@Param(&quot;e&quot;) final Event item, @Param(&quot;summaryId&quot;) final int summaryId, @Param(&quot;result&quot;) final IdentifierResult result);\n\n</code></pre>\n<p><code>IdentifierResult</code> is a simple wrapper around an <code>int</code> that captures the id of the record created.</p>\n<p>I have tried creating the id with every valid combination of <code>INTEGER</code>, <code>NOT NULL</code>, and <code>PRIMARY KEY</code> with and without <code>AUTOINCREMENT</code>, all with the same result. I have also tried writing a single dummy row immediately after creating the table with its id explicitly set to 1, but subsequent entries were still written with a null id.</p>\n<p>Any guidance would be greatly appreciated!</p>\n"},{"tags":["java","maven","google-app-engine","gwt"],"owner":{"account_id":412334,"reputation":33756,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679934561,"creation_date":1679934561,"question_id":75858164,"body_markdown":"I&#39;m trying to run `mvn appengine:devserver` on this project https://github.com/ArcBees/gae-studio\r\n\r\nI managed to get it to build (`mvn clean install -P demo`): \r\n\r\n```\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Reactor Summary for GAE Studio 1.1-SNAPSHOT:\r\n[INFO]\r\n[INFO] GAE Studio ......................................... SUCCESS [  2.824 s]\r\n[INFO] GAE-Studio Server .................................. SUCCESS [ 26.695 s]\r\n[INFO] GAE-Studio client .................................. SUCCESS [ 26.210 s]\r\n[INFO] gae-studio-webapp .................................. SUCCESS [04:46 min]\r\n[INFO] gae-studio-companion ............................... SUCCESS [ 24.651 s]\r\n[INFO] gae-studio-companion-ear ........................... SUCCESS [ 45.768 s]\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  06:52 min\r\n[INFO] Finished at: 2023-03-27T23:46:18+08:00\r\n[INFO] ------------------------------------------------------------------------\r\n```\r\n\r\nHowever running:\r\n\r\n` gae-studio ÓÇ∞ mvn appengine:devserver -pl gae-studio-webapp -P demo\r\n`\r\n\r\nThrows:\r\n\r\n```\r\nINFO] --- gwt-maven-plugin:2.7.0:compile (default) @ gae-studio-webapp ---\r\n[INFO] Loading inherited module &#39;com.arcbees.gaestudio.Production&#39;\r\n[INFO]    Loading inherited module &#39;com.arcbees.gaestudio.Common&#39;\r\n[INFO]       Loading inherited module &#39;com.google.gwt.inject.Inject&#39;\r\n[INFO]          Loading inherited module &#39;com.google.gwt.user.User&#39;\r\n[INFO]             Loading inherited module &#39;com.google.gwt.media.Media&#39;\r\n[INFO]                Loading inherited module &#39;com.google.gwt.user.UI&#39;\r\n[INFO]                   Loading inherited module &#39;com.google.gwt.resources.Resources&#39;\r\n[INFO]                      [WARN] Ignoring identical definition of the configuration property named CssResource.allowedFunctions (originally defined in com.arcbees.gaestudio.Common, redefined in com.google.gwt.resources.Resources)\r\n[INFO]       Loading inherited module &#39;com.google.gwt.appengine.channel.Channel&#39;\r\n[INFO]          [ERROR] Unable to find &#39;com/google/gwt/appengine/channel/Channel.gwt.xml&#39; on your classpath; could be a typo, or maybe you forgot to include a classpath entry for source?\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n```\r\n\r\nThough the GWT compiles on the `install` and the jar in the dependency:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.gwt.appengine&lt;/groupId&gt;\r\n            &lt;artifactId&gt;channel&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0&lt;/version&gt;\r\n            &lt;scope&gt;system&lt;/scope&gt;\r\n            &lt;systemPath&gt;${project.basedir}/lib/gwt-gae-channel-2.0.0.jar&lt;/systemPath&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nIs [in the directory][1]. What could be wrong with the maven build? \r\n\r\n\r\n  [1]: https://github.com/ArcBees/gae-studio/tree/master/gae-studio/gae-studio-client/lib","title":"Maven build failure with missing dependency on gwt+appengine channel library","body":"<p>I'm trying to run <code>mvn appengine:devserver</code> on this project <a href=\"https://github.com/ArcBees/gae-studio\" rel=\"nofollow noreferrer\">https://github.com/ArcBees/gae-studio</a></p>\n<p>I managed to get it to build (<code>mvn clean install -P demo</code>):</p>\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary for GAE Studio 1.1-SNAPSHOT:\n[INFO]\n[INFO] GAE Studio ......................................... SUCCESS [  2.824 s]\n[INFO] GAE-Studio Server .................................. SUCCESS [ 26.695 s]\n[INFO] GAE-Studio client .................................. SUCCESS [ 26.210 s]\n[INFO] gae-studio-webapp .................................. SUCCESS [04:46 min]\n[INFO] gae-studio-companion ............................... SUCCESS [ 24.651 s]\n[INFO] gae-studio-companion-ear ........................... SUCCESS [ 45.768 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  06:52 min\n[INFO] Finished at: 2023-03-27T23:46:18+08:00\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>However running:</p>\n<p><code>gae-studio ÓÇ∞ mvn appengine:devserver -pl gae-studio-webapp -P demo</code></p>\n<p>Throws:</p>\n<pre><code>INFO] --- gwt-maven-plugin:2.7.0:compile (default) @ gae-studio-webapp ---\n[INFO] Loading inherited module 'com.arcbees.gaestudio.Production'\n[INFO]    Loading inherited module 'com.arcbees.gaestudio.Common'\n[INFO]       Loading inherited module 'com.google.gwt.inject.Inject'\n[INFO]          Loading inherited module 'com.google.gwt.user.User'\n[INFO]             Loading inherited module 'com.google.gwt.media.Media'\n[INFO]                Loading inherited module 'com.google.gwt.user.UI'\n[INFO]                   Loading inherited module 'com.google.gwt.resources.Resources'\n[INFO]                      [WARN] Ignoring identical definition of the configuration property named CssResource.allowedFunctions (originally defined in com.arcbees.gaestudio.Common, redefined in com.google.gwt.resources.Resources)\n[INFO]       Loading inherited module 'com.google.gwt.appengine.channel.Channel'\n[INFO]          [ERROR] Unable to find 'com/google/gwt/appengine/channel/Channel.gwt.xml' on your classpath; could be a typo, or maybe you forgot to include a classpath entry for source?\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>Though the GWT compiles on the <code>install</code> and the jar in the dependency:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.gwt.appengine&lt;/groupId&gt;\n            &lt;artifactId&gt;channel&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${project.basedir}/lib/gwt-gae-channel-2.0.0.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Is <a href=\"https://github.com/ArcBees/gae-studio/tree/master/gae-studio/gae-studio-client/lib\" rel=\"nofollow noreferrer\">in the directory</a>. What could be wrong with the maven build?</p>\n"},{"tags":["java","redis","jedis","redis-cluster"],"answers":[{"tags":[],"owner":{"account_id":6573416,"reputation":167,"user_id":5080497,"accept_rate":0,"display_name":"azhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1556186455,"creation_date":1556186455,"answer_id":55846642,"question_id":55572470,"body_markdown":"I am facing the same issue, Keyspace notification is working intermittently (works 6 or 7 times out of 10). I read that one needs to subscribe to all of the master nodes in order to get the notifications. If it helps I have pasted my config file below :\r\n\r\n    KeySpaceNotificationMessageListener keySpaceNotificationMessageListener;\r\n    \r\n    \t@Value(&quot;${spring.redis.cluster.nodes}&quot;)\r\n    \tprivate String hostsAndPorts;\r\n    \r\n    \t@Bean\r\n    \tJedisConnectionFactory jedisConnectionFactory(RedisClusterConfiguration redisClusterConfiguration)\r\n    \t{\r\n    \t\treturn new JedisConnectionFactory(redisClusterConfiguration);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tMessageListenerAdapter messageListener() {\r\n    \t\treturn new MessageListenerAdapter(keySpaceNotificationMessageListener);\r\n    \t}\r\n    \r\n    \r\n    \t@Bean(name = &quot;cacheManager1&quot;)\r\n    \t@Primary\r\n    \tpublic RedisCacheManager redisCacheManager1()\r\n    \t{\r\n    \t\tRedisCacheConfiguration redisCacheConfiguration = RedisCacheConfiguration.defaultCacheConfig()\r\n    \t\t\t\t.disableCachingNullValues()\r\n    \t\t\t\t.entryTtl(Duration.ofMinutes(1))\r\n    \t\t\t\t.serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(RedisSerializer.json()));\r\n    \r\n    \t\tredisCacheConfiguration.usePrefix();\r\n    \r\n    \t\treturn RedisCacheManager.RedisCacheManagerBuilder.fromConnectionFactory(jedisConnectionFactory(redisClusterConfiguration()))\r\n    \t\t\t\t.cacheDefaults(redisCacheConfiguration).build();\r\n    \r\n    \t}\r\n    \r\n    \t@Bean(name = &quot;cacheManager2&quot;)\r\n    \tpublic RedisCacheManager redisCacheManager2( JedisConnectionFactory jedisConnectionFactory)\r\n    \t{\r\n    \t\tRedisCacheConfiguration redisCacheConfiguration = RedisCacheConfiguration.defaultCacheConfig()\r\n    \t\t\t\t.disableCachingNullValues()\r\n    \t\t\t\t.entryTtl(Duration.ofDays(1))\r\n    \t\t\t\t.serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(RedisSerializer.json()));\r\n    \r\n    \t\tredisCacheConfiguration.usePrefix();\r\n    \r\n    \t\treturn RedisCacheManager.RedisCacheManagerBuilder.fromConnectionFactory(jedisConnectionFactory(redisClusterConfiguration()))\r\n    \t\t\t\t.cacheDefaults(redisCacheConfiguration).build();\r\n    \r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic RedisClusterConfiguration redisClusterConfiguration()\r\n    \t{\r\n    \t\tString [] redisHostAndPorts = hostsAndPorts.split(&quot;,&quot;);\r\n    \r\n    \t\tSystem.out.println(Arrays.toString(redisHostAndPorts));\r\n    \t\tRedisClusterConfiguration redisClusterConfiguration = new RedisClusterConfiguration(Arrays.asList(redisHostAndPorts));\r\n    \t\treturn redisClusterConfiguration;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tRedisMessageListenerContainer redisContainer() {\r\n    \t\tfinal RedisMessageListenerContainer container = new RedisMessageListenerContainer();\r\n    \t\tcontainer.setConnectionFactory(jedisConnectionFactory(redisClusterConfiguration()));\r\n    \t\tcontainer.addMessageListener(messageListener(), new PatternTopic(&quot;__keyspace@*:*&quot;));\r\n    \t\tcontainer.setTaskExecutor(Executors.newFixedThreadPool(4));\r\n    \t\treturn container;\r\n    \t}\r\n    \r\n    \tpublic void setKeySpaceNotificationMessageListener(KeySpaceNotificationMessageListener keySpaceNotificationMessageListener)\r\n    \t{\r\n    \t\tthis.keySpaceNotificationMessageListener = keySpaceNotificationMessageListener;\r\n    \t}","title":"How to listen for keyspace notifications of redis cluster in java using jedis client?","body":"<p>I am facing the same issue, Keyspace notification is working intermittently (works 6 or 7 times out of 10). I read that one needs to subscribe to all of the master nodes in order to get the notifications. If it helps I have pasted my config file below :</p>\n\n<pre><code>KeySpaceNotificationMessageListener keySpaceNotificationMessageListener;\n\n    @Value(\"${spring.redis.cluster.nodes}\")\n    private String hostsAndPorts;\n\n    @Bean\n    JedisConnectionFactory jedisConnectionFactory(RedisClusterConfiguration redisClusterConfiguration)\n    {\n        return new JedisConnectionFactory(redisClusterConfiguration);\n    }\n\n    @Bean\n    MessageListenerAdapter messageListener() {\n        return new MessageListenerAdapter(keySpaceNotificationMessageListener);\n    }\n\n\n    @Bean(name = \"cacheManager1\")\n    @Primary\n    public RedisCacheManager redisCacheManager1()\n    {\n        RedisCacheConfiguration redisCacheConfiguration = RedisCacheConfiguration.defaultCacheConfig()\n                .disableCachingNullValues()\n                .entryTtl(Duration.ofMinutes(1))\n                .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(RedisSerializer.json()));\n\n        redisCacheConfiguration.usePrefix();\n\n        return RedisCacheManager.RedisCacheManagerBuilder.fromConnectionFactory(jedisConnectionFactory(redisClusterConfiguration()))\n                .cacheDefaults(redisCacheConfiguration).build();\n\n    }\n\n    @Bean(name = \"cacheManager2\")\n    public RedisCacheManager redisCacheManager2( JedisConnectionFactory jedisConnectionFactory)\n    {\n        RedisCacheConfiguration redisCacheConfiguration = RedisCacheConfiguration.defaultCacheConfig()\n                .disableCachingNullValues()\n                .entryTtl(Duration.ofDays(1))\n                .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(RedisSerializer.json()));\n\n        redisCacheConfiguration.usePrefix();\n\n        return RedisCacheManager.RedisCacheManagerBuilder.fromConnectionFactory(jedisConnectionFactory(redisClusterConfiguration()))\n                .cacheDefaults(redisCacheConfiguration).build();\n\n    }\n\n    @Bean\n    public RedisClusterConfiguration redisClusterConfiguration()\n    {\n        String [] redisHostAndPorts = hostsAndPorts.split(\",\");\n\n        System.out.println(Arrays.toString(redisHostAndPorts));\n        RedisClusterConfiguration redisClusterConfiguration = new RedisClusterConfiguration(Arrays.asList(redisHostAndPorts));\n        return redisClusterConfiguration;\n    }\n\n    @Bean\n    RedisMessageListenerContainer redisContainer() {\n        final RedisMessageListenerContainer container = new RedisMessageListenerContainer();\n        container.setConnectionFactory(jedisConnectionFactory(redisClusterConfiguration()));\n        container.addMessageListener(messageListener(), new PatternTopic(\"__keyspace@*:*\"));\n        container.setTaskExecutor(Executors.newFixedThreadPool(4));\n        return container;\n    }\n\n    public void setKeySpaceNotificationMessageListener(KeySpaceNotificationMessageListener keySpaceNotificationMessageListener)\n    {\n        this.keySpaceNotificationMessageListener = keySpaceNotificationMessageListener;\n    }\n</code></pre>\n"}],"owner":{"account_id":14291972,"reputation":203,"user_id":10323637,"display_name":"Imtiaz Hussain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2579,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":55846642,"answer_count":1,"score":2,"last_activity_date":1679934344,"creation_date":1554723106,"question_id":55572470,"body_markdown":"I am setting a server which can listen and send message about any event occur in the redis database. I am successful in getting notified about new events for redis host and port but not able to do so for redis cluster.\r\n\r\n```java\r\nGenericObjectPoolConfig config = new GenericObjectPoolConfig();\r\nconfig.setMaxTotal(30);\r\nconfig.setMaxWaitMillis(2000);\r\n\r\nSet&lt;HostAndPort&gt; jedisClusterNode = new HashSet&lt;HostAndPort&gt;();\r\njedisClusterNode.add(new HostAndPort(&quot;127.0.0.1&quot;, 7001));\r\n\r\nJedisCluster cluster1 = new JedisCluster(jedisClusterNode, config);\r\n\r\nString redisProperties = cluster1.getClusterNodes().toString().replaceAll(&quot;[{}]&quot;, &quot;&quot;);\r\nSet&lt;HostAndPort&gt; nodes = new HashSet&lt;&gt;();\r\nString[] mainArray = redisProperties.split(&quot;,&quot;);\r\nfor (int i = 0; i &lt; mainArray.length; i++) {\r\n    String[] equalArray = mainArray[i].split(&quot;=&quot;);\r\n    String mainData = equalArray[0];\r\n    String[] ipPortPair = mainData.split(&quot;:&quot;);\r\n    nodes.add(new HostAndPort(ipPortPair[0].trim(), Integer.valueOf(ipPortPair[1].trim())));\r\n}\r\n\r\nJedisCluster cluster = new JedisCluster(nodes, 10000, 1000, 1, config);\r\njedis.configSet(&quot;notify-keyspace-events&quot;, &quot;AKE&quot;); // For all kind of events\r\njedis.psubscribe(new KeyListenerCluster(), &quot;__keyevent@0__:*&quot;);\r\n```\r\n\r\nI am able to perform every other operation in using the redis-cluster but not able to do one thing. \r\n\r\n```java\r\ncluster.configSet(&quot;notify-keyspace-events&quot;, &quot;AKE&quot;); // For all kind of events\r\ncluster.psubscribe(new KeyListenerCluster(), &quot;__keyevent@0__:*&quot;);\r\n```\r\n","title":"How to listen for keyspace notifications of redis cluster in java using jedis client?","body":"<p>I am setting a server which can listen and send message about any event occur in the redis database. I am successful in getting notified about new events for redis host and port but not able to do so for redis cluster.</p>\n<pre class=\"lang-java prettyprint-override\"><code>GenericObjectPoolConfig config = new GenericObjectPoolConfig();\nconfig.setMaxTotal(30);\nconfig.setMaxWaitMillis(2000);\n\nSet&lt;HostAndPort&gt; jedisClusterNode = new HashSet&lt;HostAndPort&gt;();\njedisClusterNode.add(new HostAndPort(&quot;127.0.0.1&quot;, 7001));\n\nJedisCluster cluster1 = new JedisCluster(jedisClusterNode, config);\n\nString redisProperties = cluster1.getClusterNodes().toString().replaceAll(&quot;[{}]&quot;, &quot;&quot;);\nSet&lt;HostAndPort&gt; nodes = new HashSet&lt;&gt;();\nString[] mainArray = redisProperties.split(&quot;,&quot;);\nfor (int i = 0; i &lt; mainArray.length; i++) {\n    String[] equalArray = mainArray[i].split(&quot;=&quot;);\n    String mainData = equalArray[0];\n    String[] ipPortPair = mainData.split(&quot;:&quot;);\n    nodes.add(new HostAndPort(ipPortPair[0].trim(), Integer.valueOf(ipPortPair[1].trim())));\n}\n\nJedisCluster cluster = new JedisCluster(nodes, 10000, 1000, 1, config);\njedis.configSet(&quot;notify-keyspace-events&quot;, &quot;AKE&quot;); // For all kind of events\njedis.psubscribe(new KeyListenerCluster(), &quot;__keyevent@0__:*&quot;);\n</code></pre>\n<p>I am able to perform every other operation in using the redis-cluster but not able to do one thing.</p>\n<pre class=\"lang-java prettyprint-override\"><code>cluster.configSet(&quot;notify-keyspace-events&quot;, &quot;AKE&quot;); // For all kind of events\ncluster.psubscribe(new KeyListenerCluster(), &quot;__keyevent@0__:*&quot;);\n</code></pre>\n"},{"tags":["java","date","simpledateformat"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":4,"creation_date":1679912195,"post_id":75854457,"comment_id":133799821,"body_markdown":"FYI, those classes have been outdated for arguably more than 10 years. Use `java.time`","body":"FYI, those classes have been outdated for arguably more than 10 years. Use <code>java.time</code>"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1679914630,"post_id":75854457,"comment_id":133800430,"body_markdown":"By the way, regarding `sdf.parse(sdf.format(actualStep.getPlannedDate()))`, first letting `SimpleDateFormat` format a `Date` and then parse its result, is pretty cumbersome.","body":"By the way, regarding <code>sdf.parse(sdf.format(actualStep.getPlannedDate()))</code>, first letting <code>SimpleDateFormat</code> format a <code>Date</code> and then parse its result, is pretty cumbersome."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679937297,"post_id":75854457,"comment_id":133807014,"body_markdown":"I strongly recommend that you don‚Äôt use `SimpleDateFormat`, `Calendar` and `Date`. Those classes were poorly designed, the first in particular notoriously troublesome, and all are long outdated. Use `LocalDate` and `ChronoUnit.DAYS`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html).","body":"I strongly recommend that you don‚Äôt use <code>SimpleDateFormat</code>, <code>Calendar</code> and <code>Date</code>. Those classes were poorly designed, the first in particular notoriously troublesome, and all are long outdated. Use <code>LocalDate</code> and <code>ChronoUnit.DAYS</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679937647,"post_id":75854457,"comment_id":133807090,"body_markdown":"`TimeUnit` falsely assumes that a day is always 24 hours. You may have observed that summer time (DST) went into effect in great parts of Europe yesterday, Sunday 26 March (also observable from the different time zone abbreviations `CET` and `CEST` in your output). So that day was only 23 hours. So when measuring 7 days across that day you don‚Äôt get milliseconds enough for 7 * 24 hours, and `TimeUnit` truncates to 6 days instead of 7. When you add `1L`, you get 7 instead of the 8 you would normally get from the same operation.","body":"<code>TimeUnit</code> falsely assumes that a day is always 24 hours. You may have observed that summer time (DST) went into effect in great parts of Europe yesterday, Sunday 26 March (also observable from the different time zone abbreviations <code>CET</code> and <code>CEST</code> in your output). So that day was only 23 hours. So when measuring 7 days across that day you don‚Äôt get milliseconds enough for 7 * 24 hours, and <code>TimeUnit</code> truncates to 6 days instead of 7. When you add <code>1L</code>, you get 7 instead of the 8 you would normally get from the same operation."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679973228,"post_id":75854457,"comment_id":133813012,"body_markdown":"Today, March 28, I ran this code in Europe/Copenhagen time zone (one of the zones that had the spring forward this Sunday): `ChronoUnit.DAYS.between(LocalDate.parse(&quot;2023-03-21&quot;), LocalDate.now(ZoneId.systemDefault()))`. I got the correct count; `7`. Because `LocalDate` is independent of time zone and thus cannot be affected by summer time and such time anomalies.","body":"Today, March 28, I ran this code in Europe/Copenhagen time zone (one of the zones that had the spring forward this Sunday): <code>ChronoUnit.DAYS.between(LocalDate.parse(&quot;2023-03-21&quot;), LocalDate.now(ZoneId.systemDefault()))</code>. I got the correct count; <code>7</code>. Because <code>LocalDate</code> is independent of time zone and thus cannot be affected by summer time and such time anomalies."}],"answers":[{"comments":[{"owner":{"account_id":23104207,"reputation":161,"user_id":17506985,"display_name":"Cucumberbatch"},"score":0,"creation_date":1679918531,"post_id":75854707,"comment_id":133801385,"body_markdown":"When removing the +, I still get a delta of 8 days ! Thanks for the recommendations, I will look into that !","body":"When removing the +, I still get a delta of 8 days ! Thanks for the recommendations, I will look into that !"},{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1679919374,"post_id":75854707,"comment_id":133801588,"body_markdown":"Not sure why removing &quot;+&quot; didn&#39;t work, but really switch to java.time package, Date and especially SimpleDateFormat are very buggy and unreliable","body":"Not sure why removing &quot;+&quot; didn&#39;t work, but really switch to java.time package, Date and especially SimpleDateFormat are very buggy and unreliable"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679933968,"post_id":75854707,"comment_id":133806121,"body_markdown":"This is nonsense. `+day` and just `day` mean the same in Java. Did you confuse with `++day`?","body":"This is nonsense. <code>+day</code> and just <code>day</code> mean the same in Java. Did you confuse with <code>++day</code>?"}],"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679913253,"creation_date":1679913253,"answer_id":75854707,"question_id":75854457,"body_markdown":"I think your problem is in &quot;+day&quot; in line:\r\n\r\n    todayCalendar.add(Calendar.DAY_OF_WEEK, +day);\r\nTry to change it to just &quot;day&quot;. I suppose &#39;+&#39; may have worked as &quot;++&quot; incrementing your day from 7 to 8 before you added it to current day. \r\n&lt;br&gt;\r\nHowever, note that classes `Date` and `SimpleDateFormat` are deprecated and **STRONGLY** not recommended to be ever used except when you are working with legacy code. Please see `java.time` package available since java 8. Your relevant classes for your case would be [DateTimeFormatter][1], [LocalDate][2] and [Duration][3]\r\n&lt;br&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/index.html?java/time/format/DateTimeFormatter.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html","title":"Issue when comparing date with Java","body":"<p>I think your problem is in &quot;+day&quot; in line:</p>\n<pre><code>todayCalendar.add(Calendar.DAY_OF_WEEK, +day);\n</code></pre>\n<p>Try to change it to just &quot;day&quot;. I suppose '+' may have worked as &quot;++&quot; incrementing your day from 7 to 8 before you added it to current day.\n<br>\nHowever, note that classes <code>Date</code> and <code>SimpleDateFormat</code> are deprecated and <strong>STRONGLY</strong> not recommended to be ever used except when you are working with legacy code. Please see <code>java.time</code> package available since java 8. Your relevant classes for your case would be <a href=\"https://docs.oracle.com/javase/8/docs/api/index.html?java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">LocalDate</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\" rel=\"nofollow noreferrer\">Duration</a>\n<br></p>\n"},{"comments":[{"owner":{"account_id":23104207,"reputation":161,"user_id":17506985,"display_name":"Cucumberbatch"},"score":0,"creation_date":1679918488,"post_id":75854810,"comment_id":133801375,"body_markdown":"I removed the + and I still have a delta of 8 days, but thank you :D","body":"I removed the + and I still have a delta of 8 days, but thank you :D"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679933933,"post_id":75854810,"comment_id":133806110,"body_markdown":"This is nonsense. `+day` and just `day` mean the same in Java. Did you confuse with `++day`?","body":"This is nonsense. <code>+day</code> and just <code>day</code> mean the same in Java. Did you confuse with <code>++day</code>?"}],"tags":[],"owner":{"account_id":24404282,"reputation":236,"user_id":18332645,"display_name":"Istis"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679913968,"creation_date":1679913968,"answer_id":75854810,"question_id":75854457,"body_markdown":"You add 8 days in your unit test. `day = 7`, but you add `+day`, thats mean `day+1`. Remove + from `todayCalendar.add(Calendar.DAY_OF_WEEK, +day);` and it should be ok","title":"Issue when comparing date with Java","body":"<p>You add 8 days in your unit test. <code>day = 7</code>, but you add <code>+day</code>, thats mean <code>day+1</code>. Remove + from <code>todayCalendar.add(Calendar.DAY_OF_WEEK, +day);</code> and it should be ok</p>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1680015181,"post_id":75854814,"comment_id":133822424,"body_markdown":"The explanation is correct, which is why I upvoted. (1) You are still using the `TimeUnit` enum, and that enum is still falsely assuming that a day is always 24 hours. (2) So how do we handle the change from CET to CEST?","body":"The explanation is correct, which is why I upvoted. (1) You are still using the <code>TimeUnit</code> enum, and that enum is still falsely assuming that a day is always 24 hours. (2) So how do we handle the change from CET to CEST?"},{"owner":{"account_id":10759610,"reputation":12648,"user_id":7916438,"display_name":"tevemadar"},"score":1,"creation_date":1680019283,"post_id":75854814,"comment_id":133823670,"body_markdown":"@OleV.V. I just answered the *Does anyone know why, in one case, I get 8 days of difference and 7 in another while having a week apart ?* question, because that time only the nonsense posts were around with the `+day`. But I don&#39;t know the API-s at all, for an actual solution I&#39;d check these possible dupes: https://stackoverflow.com/questions/44617846/duration-with-daylight-saving, https://stackoverflow.com/questions/72909759/adding-minutes-to-localdatetime-gives-error-on-daylight-saving-days, or https://stackoverflow.com/questions/8827420/daylight-savings-time-cst-cdt-adding-minutes-issue","body":"@OleV.V. I just answered the <i>Does anyone know why, in one case, I get 8 days of difference and 7 in another while having a week apart ?</i> question, because that time only the nonsense posts were around with the <code>+day</code>. But I don&#39;t know the API-s at all, for an actual solution I&#39;d check these possible dupes: <a href=\"https://stackoverflow.com/questions/44617846/duration-with-daylight-saving\" title=\"duration with daylight saving\">stackoverflow.com/questions/44617846/&hellip;</a>, <a href=\"https://stackoverflow.com/questions/72909759/adding-minutes-to-localdatetime-gives-error-on-daylight-saving-days\" title=\"adding minutes to localdatetime gives error on daylight saving days\">stackoverflow.com/questions/72909759/&hellip;</a>, or <a href=\"https://stackoverflow.com/questions/8827420/daylight-savings-time-cst-cdt-adding-minutes-issue\" title=\"daylight savings time cst cdt adding minutes issue\">stackoverflow.com/questions/8827420/&hellip;</a>"},{"owner":{"account_id":10759610,"reputation":12648,"user_id":7916438,"display_name":"tevemadar"},"score":1,"creation_date":1680019384,"post_id":75854814,"comment_id":133823698,"body_markdown":"@Cucumberbatch you may want to check the listed topics if they help.","body":"@Cucumberbatch you may want to check the listed topics if they help."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1680019817,"post_id":75854814,"comment_id":133823824,"body_markdown":"Yeah, sure, sorry if I sounded too critical. Every answer has its limitations, and I stand by my upvote.","body":"Yeah, sure, sorry if I sounded too critical. Every answer has its limitations, and I stand by my upvote."}],"tags":[],"owner":{"account_id":10759610,"reputation":12648,"user_id":7916438,"display_name":"tevemadar"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679914005,"creation_date":1679914005,"answer_id":75854814,"question_id":75854457,"body_markdown":"It&#39;s the `+1L` in\r\n\r\n    long deltaDays = TimeUnit.DAYS.convert(diffInMillies, TimeUnit.MILLISECONDS) +1L;\r\n\r\nThat makes 7 into 8. Actually not the current reading is the one you should look at, but the prior one you tried to fix: originally you had 6 because of the CET-CEST change. As clock jumped an hour, there&#39;re 6 days and 23 hours between 20th of March 00:00 CET and 27th of March 00:00 CEST, then the difference got rounded downwards, to 6 days.","title":"Issue when comparing date with Java","body":"<p>It's the <code>+1L</code> in</p>\n<pre><code>long deltaDays = TimeUnit.DAYS.convert(diffInMillies, TimeUnit.MILLISECONDS) +1L;\n</code></pre>\n<p>That makes 7 into 8. Actually not the current reading is the one you should look at, but the prior one you tried to fix: originally you had 6 because of the CET-CEST change. As clock jumped an hour, there're 6 days and 23 hours between 20th of March 00:00 CET and 27th of March 00:00 CEST, then the difference got rounded downwards, to 6 days.</p>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679929500,"creation_date":1679929500,"answer_id":75857355,"question_id":75854457,"body_markdown":"Don‚Äôt use Strings for comparing numeric values.  Do not use SimpleDateFormat at all.\r\n\r\nCalendar by itself can do this:\r\n\r\n    Calendar calendar = Calendar.getInstance();\r\n    calendar.add(Calendar.DATE, 7);\r\n    int nextWeekYear = calendar.get(Calendar.YEAR);\r\n    int nextWeekMonth = calendar.get(Calendar.MONTH);\r\n    int nextWeekDay = calendar.get(Calendar.DATE);\r\n\r\n    calendar.Time(actualStep.getPlannedDate());\r\n    int plannedYear = calendar.get(Calendar.YEAR);\r\n    int plannedMonth = calendar.get(Calendar.MONTH);\r\n    int plannedDay = calendar.get(Calendar.DATE);\r\n\r\n    if (plannedYear == nextWeekYear &amp;&amp;\r\n        plannedMonth == nextWeekMonth &amp;&amp;\r\n        plannedDay == nextWeekDay) {\r\n\r\n        // ....\r\n    }\r\n\r\nAs others have pointed out, you are *much* better off using java.time.LocalDate instead of the old Date class.  Date is Java‚Äôs equivalent of C‚Äôs `time_t` type, which is just a count of milliseconds since the start of 1970.  The problem with using it for calendar dates is that timezones greatly complicate it.  For instance, consider this code:\r\n\r\n    Date date = new Date();\r\n    System.out.println(date.getTime());\r\n    System.out.println(date);\r\n\r\nIf I run it on my computer late in the evening, I will see:\r\n\r\n    1679972400000\r\n    Mon Mar 27 23:00:00 EDT 2023\r\n\r\nBut if I run the same code in the UK, I will see:\r\n\r\n    1679972400000\r\n    Tue Mar 28 04:00:00 BST 2023\r\n\r\nThe exact same Date value can be interpreted as a different calendar date, depending on where it‚Äôs run.\r\n\r\nBut if you use LocalDate, which is not affected by timezones, all of those problems cease to be a concern:\r\n\r\n    public class Step {\r\n        private LocalDate plannedDate = LocalDate.now();\r\n\r\n        public LocalDate getPlannedDate() {\r\n            return this.plannedDate;\r\n        }\r\n    }\r\n\r\n    // ...\r\n\r\n    if (actualStep.getPlannedDate().equals(LocalDate.now().plusDays(7)) {\r\n        // ...\r\n    }\r\n","title":"Issue when comparing date with Java","body":"<p>Don‚Äôt use Strings for comparing numeric values.  Do not use SimpleDateFormat at all.</p>\n<p>Calendar by itself can do this:</p>\n<pre><code>Calendar calendar = Calendar.getInstance();\ncalendar.add(Calendar.DATE, 7);\nint nextWeekYear = calendar.get(Calendar.YEAR);\nint nextWeekMonth = calendar.get(Calendar.MONTH);\nint nextWeekDay = calendar.get(Calendar.DATE);\n\ncalendar.Time(actualStep.getPlannedDate());\nint plannedYear = calendar.get(Calendar.YEAR);\nint plannedMonth = calendar.get(Calendar.MONTH);\nint plannedDay = calendar.get(Calendar.DATE);\n\nif (plannedYear == nextWeekYear &amp;&amp;\n    plannedMonth == nextWeekMonth &amp;&amp;\n    plannedDay == nextWeekDay) {\n\n    // ....\n}\n</code></pre>\n<p>As others have pointed out, you are <em>much</em> better off using java.time.LocalDate instead of the old Date class.  Date is Java‚Äôs equivalent of C‚Äôs <code>time_t</code> type, which is just a count of milliseconds since the start of 1970.  The problem with using it for calendar dates is that timezones greatly complicate it.  For instance, consider this code:</p>\n<pre><code>Date date = new Date();\nSystem.out.println(date.getTime());\nSystem.out.println(date);\n</code></pre>\n<p>If I run it on my computer late in the evening, I will see:</p>\n<pre><code>1679972400000\nMon Mar 27 23:00:00 EDT 2023\n</code></pre>\n<p>But if I run the same code in the UK, I will see:</p>\n<pre><code>1679972400000\nTue Mar 28 04:00:00 BST 2023\n</code></pre>\n<p>The exact same Date value can be interpreted as a different calendar date, depending on where it‚Äôs run.</p>\n<p>But if you use LocalDate, which is not affected by timezones, all of those problems cease to be a concern:</p>\n<pre><code>public class Step {\n    private LocalDate plannedDate = LocalDate.now();\n\n    public LocalDate getPlannedDate() {\n        return this.plannedDate;\n    }\n}\n\n// ...\n\nif (actualStep.getPlannedDate().equals(LocalDate.now().plusDays(7)) {\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679934328,"creation_date":1679933502,"answer_id":75858000,"question_id":75854457,"body_markdown":"# tl;dr\r\n\r\n&gt; I want to check that a date is the same day on the next week that today.\r\n\r\n    LocalDate            // Represent a date-only value. No time of day. No offset or time zone. \r\n    .now()               // Capture the current date as seen in the JVM‚Äôs current default time zone. \r\n    .getDayOfWeek()      // Get the `DayOfWeek` enum object for this date‚Äôs day of week: Monday though Sunday. \r\n    .equals( \r\n        someOtherDate\r\n        .getDayOfWeek()\r\n    )\r\n\r\n\r\n# Details\r\n\r\nYou are using terribly flawed date-time classes that are now legacy. These were years ago supplanted by the modern *java.time* classes defined in JSR 310. \r\n\r\nFurthermore, you are using a date-with-time class to represent a date-only value. So your choice of type is a misfit. And your unexpected results may be coming from related time zone issues such as Daylight Saving Time. \r\n\r\nFor a date-only value, use `java.time.LocalDate`. No time of day. No offset from UTC, nor time zone. No Daylight Saving Time. \r\n\r\nTo capture the current date, a time zone is required. For any given moment, the date varies around the globe by time zone. \r\n\r\nYou may want to use the JVM‚Äôs current time zone. Or you may want to query the user. \r\n\r\n    ZoneId z = ZoneId.systemDefault() ;\r\n\r\nGet the current date. \r\n\r\n\r\n    LocalDate today = LocalDate.now( z ) ;\r\n\r\nAdd a week. \r\n\r\n    LocalDate nextWeek = today.plusWeeks( 1 ) ;\r\n\r\nSubtract a week. \r\n\r\n    LocalDate weekAgo = today.minusWeeks( 1 ) ;\r\n\r\nTesting if same day of week. You can get the `DayOfWeek` enum object for any given date. \r\n\r\n    boolean sameDayOfWeek = today.getDayOfWeek().equals( someOtherDate.getDayOfWeek() ) ;","title":"Issue when comparing date with Java","body":"<h1>tl;dr</h1>\n<blockquote>\n<p>I want to check that a date is the same day on the next week that today.</p>\n</blockquote>\n<pre><code>LocalDate            // Represent a date-only value. No time of day. No offset or time zone. \n.now()               // Capture the current date as seen in the JVM‚Äôs current default time zone. \n.getDayOfWeek()      // Get the `DayOfWeek` enum object for this date‚Äôs day of week: Monday though Sunday. \n.equals( \n    someOtherDate\n    .getDayOfWeek()\n)\n</code></pre>\n<h1>Details</h1>\n<p>You are using terribly flawed date-time classes that are now legacy. These were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<p>Furthermore, you are using a date-with-time class to represent a date-only value. So your choice of type is a misfit. And your unexpected results may be coming from related time zone issues such as Daylight Saving Time.</p>\n<p>For a date-only value, use <code>java.time.LocalDate</code>. No time of day. No offset from UTC, nor time zone. No Daylight Saving Time.</p>\n<p>To capture the current date, a time zone is required. For any given moment, the date varies around the globe by time zone.</p>\n<p>You may want to use the JVM‚Äôs current time zone. Or you may want to query the user.</p>\n<pre><code>ZoneId z = ZoneId.systemDefault() ;\n</code></pre>\n<p>Get the current date.</p>\n<pre><code>LocalDate today = LocalDate.now( z ) ;\n</code></pre>\n<p>Add a week.</p>\n<pre><code>LocalDate nextWeek = today.plusWeeks( 1 ) ;\n</code></pre>\n<p>Subtract a week.</p>\n<pre><code>LocalDate weekAgo = today.minusWeeks( 1 ) ;\n</code></pre>\n<p>Testing if same day of week. You can get the <code>DayOfWeek</code> enum object for any given date.</p>\n<pre><code>boolean sameDayOfWeek = today.getDayOfWeek().equals( someOtherDate.getDayOfWeek() ) ;\n</code></pre>\n"}],"owner":{"account_id":23104207,"reputation":161,"user_id":17506985,"display_name":"Cucumberbatch"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75854814,"answer_count":5,"score":1,"last_activity_date":1679934328,"creation_date":1679911458,"question_id":75854457,"body_markdown":"I am encountering some issues right now when I compare two dates in Java.\r\n\r\nI want to check that a date is the same day on the next week that today.\r\n\r\nFirst, I am doing this: \r\n\r\n```\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;, Locale.getDefault());\r\n\r\n        Calendar todayCalendar = Calendar.getInstance();\r\n        Date today = sdf.parse(sdf.format(todayCalendar.getTime()));\r\n\r\n        Step step = actualStep.getStep();\r\n        Date plannedDate = sdf.parse(sdf.format(actualStep.getPlannedDate()));\r\n\r\n        long diffInMillies = Math.abs(today.getTime() - plannedDate.getTime());\r\n        long deltaDays = TimeUnit.DAYS.convert(diffInMillies, TimeUnit.MILLISECONDS) +1L;\r\n```\r\n\r\nWhen I check the different values, I get this: \r\n``` \r\nMon Mar 27 00:00:00 CEST 2023\r\nMon Mar 20 00:00:00 CET 2023\r\ndeltaDays: 7\r\n```\r\n\r\nSo I do get a difference of 7 days this way. The thing is I do not get the same when I&#39;m trying to do some unit tests:\r\n\r\n```\r\n        Calendar todayCalendar = Calendar.getInstance();\r\n        Date today = todayCalendar.getTime();\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n        Integer day = 7;\r\n        todayCalendar.add(Calendar.DAY_OF_WEEK, +day);\r\n        Date expectedReminderDay = sdf.parse(sdf.format(todayCalendar.getTime()));\r\n```\r\nThis time, I get: \r\n```\r\nMon Mar 27 00:00:00 CEST 2023\r\nMon Apr 03 00:00:00 CEST 2023\r\ndeltaDays: 8\r\n```\r\n\r\nDoes anyone know why, in one case, I get 8 days of difference and 7 in another while having a week apart ?\r\n\r\nThanks for reading ! ","title":"Issue when comparing date with Java","body":"<p>I am encountering some issues right now when I compare two dates in Java.</p>\n<p>I want to check that a date is the same day on the next week that today.</p>\n<p>First, I am doing this:</p>\n<pre><code>        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;, Locale.getDefault());\n\n        Calendar todayCalendar = Calendar.getInstance();\n        Date today = sdf.parse(sdf.format(todayCalendar.getTime()));\n\n        Step step = actualStep.getStep();\n        Date plannedDate = sdf.parse(sdf.format(actualStep.getPlannedDate()));\n\n        long diffInMillies = Math.abs(today.getTime() - plannedDate.getTime());\n        long deltaDays = TimeUnit.DAYS.convert(diffInMillies, TimeUnit.MILLISECONDS) +1L;\n</code></pre>\n<p>When I check the different values, I get this:</p>\n<pre><code>Mon Mar 27 00:00:00 CEST 2023\nMon Mar 20 00:00:00 CET 2023\ndeltaDays: 7\n</code></pre>\n<p>So I do get a difference of 7 days this way. The thing is I do not get the same when I'm trying to do some unit tests:</p>\n<pre><code>        Calendar todayCalendar = Calendar.getInstance();\n        Date today = todayCalendar.getTime();\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n        Integer day = 7;\n        todayCalendar.add(Calendar.DAY_OF_WEEK, +day);\n        Date expectedReminderDay = sdf.parse(sdf.format(todayCalendar.getTime()));\n</code></pre>\n<p>This time, I get:</p>\n<pre><code>Mon Mar 27 00:00:00 CEST 2023\nMon Apr 03 00:00:00 CEST 2023\ndeltaDays: 8\n</code></pre>\n<p>Does anyone know why, in one case, I get 8 days of difference and 7 in another while having a week apart ?</p>\n<p>Thanks for reading !</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1679896927,"post_id":75852253,"comment_id":133796540,"body_markdown":"Please don&#39;t post duplicate [questions](https://stackoverflow.com/questions/75852253/how-to-check-if-a-document-exists-in-a-firestore-collection). I&#39;ll write you an answer right away to the old question.","body":"Please don&#39;t post duplicate <a href=\"https://stackoverflow.com/questions/75852253/how-to-check-if-a-document-exists-in-a-firestore-collection\">questions</a>. I&#39;ll write you an answer right away to the old question."}],"owner":{"account_id":26210450,"reputation":13,"user_id":19889412,"display_name":"Raz Dar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679896874,"answer_count":0,"score":0,"last_activity_date":1679933992,"creation_date":1679893109,"question_id":75852253,"body_markdown":"I have an Android Studio project with 2 user collections: Trainers and Trainees. I want to make a method that receives the user&#39;s String email as input (the user&#39;s email is the document ID in both collections and a user can be either in the trainees collection or in the trainers collection not in both) and the method returns a boolean containing true if the user is a trainer and false if he isn&#39;t (meaning he is a trainee).\r\n\r\nWhat is the best way of doing this?\r\n\r\nI tried many things like this:\r\n\r\n    public static boolean isTrainer(String email)\r\n    {\r\n        FirebaseFirestore firestore = FirebaseFirestore.getInstance();\r\n        DocumentReference trainerRef = firestore.collection(&quot;trainers&quot;).document(email);\r\n        DocumentReference traineeRef = firestore.collection(&quot;trainees&quot;).document(email);\r\n        \r\n        // Check if the trainer document exists\r\n        Task\\&lt;DocumentSnapshot\\&gt; trainerTask = trainerRef.get();\r\n        boolean isTrainer = trainerTask.isSuccessful() &amp;&amp; trainerTask.getResult().exists();\r\n        \r\n        // Check if the trainee document exists\r\n        Task\\&lt;DocumentSnapshot\\&gt; traineeTask = traineeRef.get();\r\n        boolean isTrainee = traineeTask.isSuccessful() &amp;&amp; traineeTask.getResult().exists();\r\n        \r\n        // If the trainer document exists but the trainee document doesn&#39;t, the user is a trainer\r\n        Log.d(&quot;FirestoreExample&quot;, &quot;isTrainer: &quot; + isTrainer + &quot;, isTrainee: &quot; + isTrainee);\r\n        \r\n        return isTrainer &amp;&amp; !isTrainee;\r\n    }\r\n\r\nAnd other things but nothing worked.","title":"How to check if a document exists in a firestore collection","body":"<p>I have an Android Studio project with 2 user collections: Trainers and Trainees. I want to make a method that receives the user's String email as input (the user's email is the document ID in both collections and a user can be either in the trainees collection or in the trainers collection not in both) and the method returns a boolean containing true if the user is a trainer and false if he isn't (meaning he is a trainee).</p>\n<p>What is the best way of doing this?</p>\n<p>I tried many things like this:</p>\n<pre><code>public static boolean isTrainer(String email)\n{\n    FirebaseFirestore firestore = FirebaseFirestore.getInstance();\n    DocumentReference trainerRef = firestore.collection(&quot;trainers&quot;).document(email);\n    DocumentReference traineeRef = firestore.collection(&quot;trainees&quot;).document(email);\n    \n    // Check if the trainer document exists\n    Task\\&lt;DocumentSnapshot\\&gt; trainerTask = trainerRef.get();\n    boolean isTrainer = trainerTask.isSuccessful() &amp;&amp; trainerTask.getResult().exists();\n    \n    // Check if the trainee document exists\n    Task\\&lt;DocumentSnapshot\\&gt; traineeTask = traineeRef.get();\n    boolean isTrainee = traineeTask.isSuccessful() &amp;&amp; traineeTask.getResult().exists();\n    \n    // If the trainer document exists but the trainee document doesn't, the user is a trainer\n    Log.d(&quot;FirestoreExample&quot;, &quot;isTrainer: &quot; + isTrainer + &quot;, isTrainee: &quot; + isTrainee);\n    \n    return isTrainer &amp;&amp; !isTrainee;\n}\n</code></pre>\n<p>And other things but nothing worked.</p>\n"},{"tags":["java","json","jackson","hashmap","deserialization"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1679936584,"post_id":75858076,"comment_id":133806811,"body_markdown":"How does the deserialise step, in isolation, know the types of the values in the map?","body":"How does the deserialise step, in isolation, know the types of the values in the map?"},{"owner":{"account_id":18044566,"reputation":101,"user_id":13115896,"display_name":"sg2000"},"score":0,"creation_date":1679942653,"post_id":75858076,"comment_id":133808307,"body_markdown":"Not really. I assume this is why when we de-serialize it to a concrete object, it will explicitly cast them to the corresponding types. My question was if there is anyway i can indicate to the deserialization process?","body":"Not really. I assume this is why when we de-serialize it to a concrete object, it will explicitly cast them to the corresponding types. My question was if there is anyway i can indicate to the deserialization process?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1679945608,"post_id":75858076,"comment_id":133808940,"body_markdown":"You have to define the map as a class with each key as a field name in order to tie the classes in.","body":"You have to define the map as a class with each key as a field name in order to tie the classes in."}],"owner":{"account_id":18044566,"reputation":101,"user_id":13115896,"display_name":"sg2000"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679933944,"creation_date":1679933944,"question_id":75858076,"body_markdown":"I have an object i am serializing as a json and back using Jackson. It works fine when the fields are explicitly defined. One of the fields is a Map of &lt;string, Object&gt; as the values of the map can be one of many object types (Enum, concrete class etc). When i deserialize the json, the values in the hashmap seems to lose the type and are all converted to strings. as a result, i am not able to retrieve the data in its original form. Any idea how i can address this?\r\n\r\nThank you in advance\r\n\r\nSG","title":"java Json Map of objects deserialization","body":"<p>I have an object i am serializing as a json and back using Jackson. It works fine when the fields are explicitly defined. One of the fields is a Map of &lt;string, Object&gt; as the values of the map can be one of many object types (Enum, concrete class etc). When i deserialize the json, the values in the hashmap seems to lose the type and are all converted to strings. as a result, i am not able to retrieve the data in its original form. Any idea how i can address this?</p>\n<p>Thank you in advance</p>\n<p>SG</p>\n"},{"tags":["java","android","crash","runtime-error","runtimeexception"],"answers":[{"comments":[{"owner":{"account_id":28103257,"reputation":13,"user_id":21472214,"display_name":"A_37_Abhishek Shelar"},"score":0,"creation_date":1679939610,"post_id":75858001,"comment_id":133807597,"body_markdown":"thanks for the answer error is solved and I learned something new that&#39;s why thanks","body":"thanks for the answer error is solved and I learned something new that&#39;s why thanks"}],"tags":[],"owner":{"account_id":20093544,"reputation":51,"user_id":14733504,"display_name":"S∆°n Nguy·ªÖn"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679933507,"creation_date":1679933507,"answer_id":75858001,"question_id":75857874,"body_markdown":"You can easily check why the problem in this log:\r\n\r\n&gt; *Caused by: java.lang.ClassCastException: com.google.android.material.textfield.TextInputLayout cannot be cast\r\n&gt; to com.google.android.material.textfield.TextInputEditText*\r\n\r\nYou declare wrong view for variable Email. Try declare it with TextInputLayout.\r\n\r\nAnd one more thing, you shouldn&#39;t declare name of variable like &quot;Email,Username,Pass01&quot;. It will cause your project more difficult to maintain. Find naming convention to know more about it","title":"My app crashes and don&#39;t start the signup activity","body":"<p>You can easily check why the problem in this log:</p>\n<blockquote>\n<p><em>Caused by: java.lang.ClassCastException: com.google.android.material.textfield.TextInputLayout cannot be cast\nto com.google.android.material.textfield.TextInputEditText</em></p>\n</blockquote>\n<p>You declare wrong view for variable Email. Try declare it with TextInputLayout.</p>\n<p>And one more thing, you shouldn't declare name of variable like &quot;Email,Username,Pass01&quot;. It will cause your project more difficult to maintain. Find naming convention to know more about it</p>\n"}],"owner":{"account_id":28103257,"reputation":13,"user_id":21472214,"display_name":"A_37_Abhishek Shelar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75858001,"answer_count":1,"score":0,"last_activity_date":1679933507,"creation_date":1679932665,"question_id":75857874,"body_markdown":"i have tried everything when i run the app it runs but signup activity crashes and come back to the welcome screen.tell me what&#39;s the problem whether i&#39;m doing something wrong or it&#39;s any other problem.\r\nthis is signup activity code im using firebase\r\n\r\n```\r\npackage com.example.chatzone;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.text.TextUtils;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.android.material.textfield.TextInputEditText;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\n\r\npublic class SignUp extends AppCompatActivity {\r\n\r\n    TextInputEditText UserName;\r\n    TextInputEditText Email;\r\n    TextInputEditText Pass01;\r\n    TextInputEditText conPass01;\r\n    Button signUp;\r\n    String emailPattern = &quot;[a-zA-Z0-9._-]+@[a-z]+\\\\.+[a-z]+&quot;;\r\n\r\n    FirebaseAuth mAuth;\r\n    FirebaseUser mUser;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_sign_up);\r\n        UserName=findViewById(R.id.Username);\r\n        Email=findViewById(R.id.Email);\r\n        Pass01=findViewById(R.id.Password01);\r\n        conPass01=findViewById(R.id.Password02);\r\n        signUp=findViewById(R.id.Sign_Up02);\r\n        mAuth=FirebaseAuth.getInstance();\r\n        mUser=mAuth.getCurrentUser();\r\n\r\n        signUp.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n               creatUser();\r\n            }\r\n\r\n            private void creatUser() {\r\n                Intent i = getIntent();\r\n                String BD = i.getStringExtra(userInfo.t1);\r\n                String FN = i.getStringExtra(userInfo.t2);\r\n                String LN = i.getStringExtra(userInfo.t3);\r\n                String PN = i.getStringExtra(userInfo.t4);\r\n                String email=Email.getText().toString();\r\n                String UN=UserName.getText().toString();\r\n                String Pass=Pass01.getText().toString();\r\n                String conPass=conPass01.getText().toString();\r\n                if(!email.matches(emailPattern)){\r\n                    Toast.makeText(SignUp.this,&quot;Enter valid Email Address&quot;,Toast.LENGTH_SHORT).show();\r\n                }else if(Pass == conPass)\r\n                {\r\n                    Toast.makeText(SignUp.this,&quot;Password and Confirm Password does not match&quot;,Toast.LENGTH_SHORT).show();\r\n                }else if(Pass.length()&lt;6){\r\n                    Toast.makeText(SignUp.this,&quot;Password length should be Atleast 6 digit long&quot;,Toast.LENGTH_SHORT).show();\r\n                }else if(TextUtils.isEmpty(email) || TextUtils.isEmpty(UN) || TextUtils.isEmpty(Pass) || TextUtils.isEmpty(conPass))\r\n                {\r\n                    Toast.makeText(SignUp.this,&quot;Input Field can&#39;t be Empty&quot;,Toast.LENGTH_SHORT).show();\r\n                }else\r\n                {\r\n                    mAuth.createUserWithEmailAndPassword(email,Pass).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                            if(task.isSuccessful())\r\n                            {\r\n                                Toast.makeText(SignUp.this,&quot;Registration Successful&quot;,Toast.LENGTH_SHORT).show();\r\n                                nextAct();\r\n                            }\r\n                            else{\r\n                                Toast.makeText(SignUp.this,&quot;&quot;+task.getException(),Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n                \r\n            }\r\n\r\n            private void nextAct() {\r\n                Intent in = new Intent(SignUp.this,MainActivity.class);\r\n                startActivity(in);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\n\r\nthis is the error\r\n\r\n```\r\nFATAL EXCEPTION: main\r\nProcess: com.example.chatzone, PID: 30802\r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.chatzone/com.example.chatzone.SignUp}: java.lang.ClassCastException: com.google.android.material.textfield.TextInputLayout cannot be cast to com.google.android.material.textfield.TextInputEditText\r\n\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3754)\r\n\tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3912)\r\n\tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n\tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n\tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2319)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n\tat android.os.Looper.loop(Looper.java:239)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:8212)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:626)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1016)\r\nCaused by: java.lang.ClassCastException: com.google.android.material.textfield.TextInputLayout cannot be cast to com.google.android.material.textfield.TextInputEditText\r\n\tat com.example.chatzone.SignUp.onCreate(SignUp.java:35)\r\n\tat android.app.Activity.performCreate(Activity.java:8119)\r\n\tat android.app.Activity.performCreate(Activity.java:8103)\r\n\tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1359)\r\n\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3727)\r\n\tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3912)&#160;\r\n\tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)&#160;\r\n\tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n\tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2319)&#160;\r\n\tat android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n\tat android.os.Looper.loop(Looper.java:239)&#160;\r\n\tat android.app.ActivityThread.main(ActivityThread.java:8212)&#160;\r\n\tat java.lang.reflect.Method.invoke(Native Method)&#160;\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:626)&#160;\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1016)&#160;&#160;\r\n```\r\n\r\nthe logcat is showing this type of error please help me solve this\r\n\r\nXml cod:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.SignUp&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/step2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;50dp&quot;\r\n        android:fontFamily=&quot;@font/knewave01&quot;\r\n        android:text=&quot;Step 02: &quot;\r\n        android:textColor=&quot;#808080&quot;\r\n        android:textSize=&quot;50dp&quot;\r\n        android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/Usertxt&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/step2&quot;\r\n        android:layout_marginStart=&quot;15dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:fontFamily=&quot;@font/knewave01&quot;\r\n        android:text=&quot;User Info: &quot;\r\n        android:textColor=&quot;@color/CZColor&quot;\r\n        android:textSize=&quot;40sp&quot;\r\n        android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/UserNameText&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/Usertxt&quot;\r\n        android:layout_marginStart=&quot;15dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:text=&quot;Username:&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        android:textStyle=&quot;bold&quot;&gt;&lt;/TextView&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:layout_marginStart=&quot;15dp&quot;\r\n        android:layout_width=&quot;360dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/Username&quot;\r\n        android:hint=&quot;Username&quot;\r\n        app:startIconDrawable=&quot;@drawable/user&quot;\r\n        app:endIconMode=&quot;clear_text&quot;\r\n        app:endIconTint=&quot;#808080&quot;\r\n        app:boxStrokeColor=&quot;@color/CZColor&quot;\r\n        android:layout_below=&quot;@id/UserNameText&quot;&gt;\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:textColor=&quot;@color/CZColor&quot;&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputEditText&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/EmailText&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/Username&quot;\r\n        android:layout_marginStart=&quot;15dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:text=&quot;Email:&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        android:textStyle=&quot;bold&quot;&gt;&lt;/TextView&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:layout_marginStart=&quot;15dp&quot;\r\n        android:layout_width=&quot;360dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;Email&quot;\r\n        android:id=&quot;@+id/Email&quot;\r\n        app:startIconDrawable=&quot;@drawable/email&quot;\r\n        app:endIconMode=&quot;clear_text&quot;\r\n        app:endIconTint=&quot;#808080&quot;\r\n        app:boxStrokeColor=&quot;@color/CZColor&quot;\r\n        android:layout_below=&quot;@id/EmailText&quot;&gt;\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:textColor=&quot;@color/CZColor&quot;\r\n            android:inputType=&quot;textEmailAddress&quot;&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputEditText&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/PasswordText&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/Email&quot;\r\n        android:layout_marginStart=&quot;15dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:text=&quot;Password:&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        android:textStyle=&quot;bold&quot;&gt;&lt;/TextView&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:layout_marginStart=&quot;15dp&quot;\r\n        android:layout_width=&quot;360dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;Password&quot;\r\n        android:id=&quot;@+id/Password01&quot;\r\n        app:startIconDrawable=&quot;@drawable/key&quot;\r\n        app:endIconMode=&quot;password_toggle&quot;\r\n        app:endIconTint=&quot;#808080&quot;\r\n        app:boxStrokeColor=&quot;@color/CZColor&quot;\r\n        android:layout_below=&quot;@id/PasswordText&quot;&gt;\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:textColor=&quot;@color/CZColor&quot;\r\n            android:inputType=&quot;textPassword&quot;&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputEditText&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/PasswordText01&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/Password01&quot;\r\n        android:layout_marginStart=&quot;15dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:text=&quot;Confirm Password:&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        android:textStyle=&quot;bold&quot;&gt;&lt;/TextView&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:layout_marginStart=&quot;15dp&quot;\r\n        android:layout_width=&quot;360dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;Confirm Password&quot;\r\n        android:id=&quot;@+id/Password02&quot;\r\n        app:startIconDrawable=&quot;@drawable/key&quot;\r\n        app:endIconMode=&quot;clear_text&quot;\r\n        app:endIconTint=&quot;#808080&quot;\r\n        app:boxStrokeColor=&quot;@color/CZColor&quot;\r\n        android:layout_below=&quot;@id/PasswordText01&quot;&gt;\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:textColor=&quot;@color/CZColor&quot;&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputEditText&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/Sign_Up02&quot;\r\n        android:layout_width=&quot;170dp&quot;\r\n        android:layout_height=&quot;60dp&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_below=&quot;@id/Password02&quot;\r\n        android:layout_marginTop=&quot;15dp&quot;\r\n        android:text=&quot;SIGN UP&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        android:textStyle=&quot;bold&quot; /&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Already have account ?&quot;\r\n        android:textSize=&quot;22dp&quot;\r\n        android:textColor=&quot;#808080&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:layout_marginStart=&quot;50dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:layout_below=&quot;@+id/Sign_Up02&quot;\r\n        &gt;&lt;/TextView&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Sign In&quot;\r\n        android:textSize=&quot;23dp&quot;\r\n        android:textColor=&quot;@color/CZColor&quot;\r\n        android:layout_marginStart=&quot;285dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:layout_below=&quot;@+id/Sign_Up02&quot;\r\n        &gt;&lt;/TextView&gt;\r\n\r\n    &lt;ImageButton\r\n        android:id=&quot;@+id/imageButton&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;5dp&quot;\r\n        android:layout_marginTop=&quot;5dp&quot;\r\n        app:srcCompat=&quot;@drawable/back&quot;\r\n        android:background=&quot;@color/white&quot;\r\n        /&gt;\r\n    &lt;ProgressBar\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/progressBar01&quot;\r\n        android:indeterminate=&quot;true&quot;\r\n        android:layout_centerInParent=&quot;true&quot;\r\n        android:visibility=&quot;gone&quot;&gt;&lt;/ProgressBar&gt;\r\n&lt;/RelativeLayout&gt;\r\n```","title":"My app crashes and don&#39;t start the signup activity","body":"<p>i have tried everything when i run the app it runs but signup activity crashes and come back to the welcome screen.tell me what's the problem whether i'm doing something wrong or it's any other problem.\nthis is signup activity code im using firebase</p>\n<pre><code>package com.example.chatzone;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.text.TextUtils;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.android.material.textfield.TextInputEditText;\nimport com.google.firebase.auth.AuthResult;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\n\npublic class SignUp extends AppCompatActivity {\n\n    TextInputEditText UserName;\n    TextInputEditText Email;\n    TextInputEditText Pass01;\n    TextInputEditText conPass01;\n    Button signUp;\n    String emailPattern = &quot;[a-zA-Z0-9._-]+@[a-z]+\\\\.+[a-z]+&quot;;\n\n    FirebaseAuth mAuth;\n    FirebaseUser mUser;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_sign_up);\n        UserName=findViewById(R.id.Username);\n        Email=findViewById(R.id.Email);\n        Pass01=findViewById(R.id.Password01);\n        conPass01=findViewById(R.id.Password02);\n        signUp=findViewById(R.id.Sign_Up02);\n        mAuth=FirebaseAuth.getInstance();\n        mUser=mAuth.getCurrentUser();\n\n        signUp.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n               creatUser();\n            }\n\n            private void creatUser() {\n                Intent i = getIntent();\n                String BD = i.getStringExtra(userInfo.t1);\n                String FN = i.getStringExtra(userInfo.t2);\n                String LN = i.getStringExtra(userInfo.t3);\n                String PN = i.getStringExtra(userInfo.t4);\n                String email=Email.getText().toString();\n                String UN=UserName.getText().toString();\n                String Pass=Pass01.getText().toString();\n                String conPass=conPass01.getText().toString();\n                if(!email.matches(emailPattern)){\n                    Toast.makeText(SignUp.this,&quot;Enter valid Email Address&quot;,Toast.LENGTH_SHORT).show();\n                }else if(Pass == conPass)\n                {\n                    Toast.makeText(SignUp.this,&quot;Password and Confirm Password does not match&quot;,Toast.LENGTH_SHORT).show();\n                }else if(Pass.length()&lt;6){\n                    Toast.makeText(SignUp.this,&quot;Password length should be Atleast 6 digit long&quot;,Toast.LENGTH_SHORT).show();\n                }else if(TextUtils.isEmpty(email) || TextUtils.isEmpty(UN) || TextUtils.isEmpty(Pass) || TextUtils.isEmpty(conPass))\n                {\n                    Toast.makeText(SignUp.this,&quot;Input Field can't be Empty&quot;,Toast.LENGTH_SHORT).show();\n                }else\n                {\n                    mAuth.createUserWithEmailAndPassword(email,Pass).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n                        @Override\n                        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                            if(task.isSuccessful())\n                            {\n                                Toast.makeText(SignUp.this,&quot;Registration Successful&quot;,Toast.LENGTH_SHORT).show();\n                                nextAct();\n                            }\n                            else{\n                                Toast.makeText(SignUp.this,&quot;&quot;+task.getException(),Toast.LENGTH_SHORT).show();\n                            }\n                        }\n                    });\n                }\n                \n            }\n\n            private void nextAct() {\n                Intent in = new Intent(SignUp.this,MainActivity.class);\n                startActivity(in);\n            }\n        });\n    }\n\n\n\n}\n</code></pre>\n<p>this is the error</p>\n<pre><code>FATAL EXCEPTION: main\nProcess: com.example.chatzone, PID: 30802\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.chatzone/com.example.chatzone.SignUp}: java.lang.ClassCastException: com.google.android.material.textfield.TextInputLayout cannot be cast to com.google.android.material.textfield.TextInputEditText\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3754)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3912)\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2319)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:239)\n    at android.app.ActivityThread.main(ActivityThread.java:8212)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:626)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1016)\nCaused by: java.lang.ClassCastException: com.google.android.material.textfield.TextInputLayout cannot be cast to com.google.android.material.textfield.TextInputEditText\n    at com.example.chatzone.SignUp.onCreate(SignUp.java:35)\n    at android.app.Activity.performCreate(Activity.java:8119)\n    at android.app.Activity.performCreate(Activity.java:8103)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1359)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3727)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3912)¬†\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)¬†\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)¬†\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)¬†\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2319)¬†\n    at android.os.Handler.dispatchMessage(Handler.java:106)¬†\n    at android.os.Looper.loop(Looper.java:239)¬†\n    at android.app.ActivityThread.main(ActivityThread.java:8212)¬†\n    at java.lang.reflect.Method.invoke(Native Method)¬†\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:626)¬†\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1016)¬†¬†\n</code></pre>\n<p>the logcat is showing this type of error please help me solve this</p>\n<p>Xml cod:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.SignUp&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/step2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;50dp&quot;\n        android:fontFamily=&quot;@font/knewave01&quot;\n        android:text=&quot;Step 02: &quot;\n        android:textColor=&quot;#808080&quot;\n        android:textSize=&quot;50dp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/Usertxt&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/step2&quot;\n        android:layout_marginStart=&quot;15dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:fontFamily=&quot;@font/knewave01&quot;\n        android:text=&quot;User Info: &quot;\n        android:textColor=&quot;@color/CZColor&quot;\n        android:textSize=&quot;40sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/UserNameText&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/Usertxt&quot;\n        android:layout_marginStart=&quot;15dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:text=&quot;Username:&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;20dp&quot;\n        android:textStyle=&quot;bold&quot;&gt;&lt;/TextView&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:layout_marginStart=&quot;15dp&quot;\n        android:layout_width=&quot;360dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/Username&quot;\n        android:hint=&quot;Username&quot;\n        app:startIconDrawable=&quot;@drawable/user&quot;\n        app:endIconMode=&quot;clear_text&quot;\n        app:endIconTint=&quot;#808080&quot;\n        app:boxStrokeColor=&quot;@color/CZColor&quot;\n        android:layout_below=&quot;@id/UserNameText&quot;&gt;\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:textColor=&quot;@color/CZColor&quot;&gt;\n        &lt;/com.google.android.material.textfield.TextInputEditText&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/EmailText&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/Username&quot;\n        android:layout_marginStart=&quot;15dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:text=&quot;Email:&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;20dp&quot;\n        android:textStyle=&quot;bold&quot;&gt;&lt;/TextView&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:layout_marginStart=&quot;15dp&quot;\n        android:layout_width=&quot;360dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Email&quot;\n        android:id=&quot;@+id/Email&quot;\n        app:startIconDrawable=&quot;@drawable/email&quot;\n        app:endIconMode=&quot;clear_text&quot;\n        app:endIconTint=&quot;#808080&quot;\n        app:boxStrokeColor=&quot;@color/CZColor&quot;\n        android:layout_below=&quot;@id/EmailText&quot;&gt;\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:textColor=&quot;@color/CZColor&quot;\n            android:inputType=&quot;textEmailAddress&quot;&gt;\n        &lt;/com.google.android.material.textfield.TextInputEditText&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/PasswordText&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/Email&quot;\n        android:layout_marginStart=&quot;15dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:text=&quot;Password:&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;20dp&quot;\n        android:textStyle=&quot;bold&quot;&gt;&lt;/TextView&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:layout_marginStart=&quot;15dp&quot;\n        android:layout_width=&quot;360dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Password&quot;\n        android:id=&quot;@+id/Password01&quot;\n        app:startIconDrawable=&quot;@drawable/key&quot;\n        app:endIconMode=&quot;password_toggle&quot;\n        app:endIconTint=&quot;#808080&quot;\n        app:boxStrokeColor=&quot;@color/CZColor&quot;\n        android:layout_below=&quot;@id/PasswordText&quot;&gt;\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:textColor=&quot;@color/CZColor&quot;\n            android:inputType=&quot;textPassword&quot;&gt;\n        &lt;/com.google.android.material.textfield.TextInputEditText&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/PasswordText01&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/Password01&quot;\n        android:layout_marginStart=&quot;15dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:text=&quot;Confirm Password:&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;20dp&quot;\n        android:textStyle=&quot;bold&quot;&gt;&lt;/TextView&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:layout_marginStart=&quot;15dp&quot;\n        android:layout_width=&quot;360dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Confirm Password&quot;\n        android:id=&quot;@+id/Password02&quot;\n        app:startIconDrawable=&quot;@drawable/key&quot;\n        app:endIconMode=&quot;clear_text&quot;\n        app:endIconTint=&quot;#808080&quot;\n        app:boxStrokeColor=&quot;@color/CZColor&quot;\n        android:layout_below=&quot;@id/PasswordText01&quot;&gt;\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:textColor=&quot;@color/CZColor&quot;&gt;\n        &lt;/com.google.android.material.textfield.TextInputEditText&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/Sign_Up02&quot;\n        android:layout_width=&quot;170dp&quot;\n        android:layout_height=&quot;60dp&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_below=&quot;@id/Password02&quot;\n        android:layout_marginTop=&quot;15dp&quot;\n        android:text=&quot;SIGN UP&quot;\n        android:textSize=&quot;20dp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Already have account ?&quot;\n        android:textSize=&quot;22dp&quot;\n        android:textColor=&quot;#808080&quot;\n        android:textStyle=&quot;bold&quot;\n        android:layout_marginStart=&quot;50dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:layout_below=&quot;@+id/Sign_Up02&quot;\n        &gt;&lt;/TextView&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Sign In&quot;\n        android:textSize=&quot;23dp&quot;\n        android:textColor=&quot;@color/CZColor&quot;\n        android:layout_marginStart=&quot;285dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:layout_below=&quot;@+id/Sign_Up02&quot;\n        &gt;&lt;/TextView&gt;\n\n    &lt;ImageButton\n        android:id=&quot;@+id/imageButton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;5dp&quot;\n        android:layout_marginTop=&quot;5dp&quot;\n        app:srcCompat=&quot;@drawable/back&quot;\n        android:background=&quot;@color/white&quot;\n        /&gt;\n    &lt;ProgressBar\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/progressBar01&quot;\n        android:indeterminate=&quot;true&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        android:visibility=&quot;gone&quot;&gt;&lt;/ProgressBar&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","google-sheets","google-api"],"answers":[{"tags":[],"owner":{"account_id":23310874,"reputation":2081,"user_id":17390145,"display_name":"Giselle Valladares"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679933492,"creation_date":1679933119,"answer_id":75857945,"question_id":75854200,"body_markdown":"I found this [documentation](https://developers.google.com/sheets/api/guides/migration#delete_a_row) when Google Change from `v3 API` to `v4 API` , the `Delete a row` request changes to `deleteDimension` using the method `spreadsheets.batchUpdate`. \r\n\r\nThe request body should have this structure: \r\n\r\n*Note:  For example, the following removes the second row in `Sheet1`.*\r\n\r\n```\r\nPOST https://sheets.googleapis.com/v4/spreadsheets/spreadsheetId:batchUpdate\r\n\r\n       {\r\n            &quot;requests&quot;: [\r\n                {\r\n                    &quot;deleteDimension&quot;: {\r\n                        &quot;range&quot;:  {\r\n                            &quot;sheetId&quot;: 0,\r\n                            &quot;dimension&quot;: &quot;ROWS&quot;,\r\n                            &quot;startIndex&quot;: 1,\r\n                            &quot;endIndex&quot;: 2\r\n                        }\r\n                    }\r\n                }\r\n            ],\r\n        }\r\n```\r\n\r\nThis is a sample on how the request should look like: \r\n\r\n```\r\nDeleteDimensionRequest deleteRequest = new DeleteDimensionRequest() \r\n   .setRange(\r\n        new DimensionRange()\r\n            .setSheetId(0)\r\n            .setDimension(&quot;Row&quot;)\r\n            .setStartIndex(1)\r\n  );\r\n\r\nList&lt;Request&gt; requests = new ArrayList&lt;&gt;();\r\nrequests.add(new Request().setDeleteDimension(deleteRequest));\r\n\r\nBatchUpdateSpreadsheetRequest body = new BatchUpdateSpreadsheetRequest().setRequests(requests);\r\nsheetServices.spreadsheets().batchUpdate(SPREADSHEET_ID, body).execute()\r\n```\r\n\r\n\r\n**Reference:**\r\n - [MigraDelete a row](https://developers.google.com/sheets/api/guides/migration#delete_a_row)\r\n - [Method: spreadsheets.batchUpdate](https://developers.google.com/sheets/api/reference/rest/v4/spreadsheets/batchUpdate#deletedimensionrequest)\r\n - [DeleteDimensionRequest ](https://developers.google.com/sheets/api/reference/rest/v4/spreadsheets/request#deletedimensionrequest)\r\n - [Delete rows or columns](https://developers.google.com/sheets/api/samples/rowcolumn#delete_rows_or_columns)\r\n","title":"Delete a row in Google Sheets with Java using the Google Sheets API","body":"<p>I found this <a href=\"https://developers.google.com/sheets/api/guides/migration#delete_a_row\" rel=\"nofollow noreferrer\">documentation</a> when Google Change from <code>v3 API</code> to <code>v4 API</code> , the <code>Delete a row</code> request changes to <code>deleteDimension</code> using the method <code>spreadsheets.batchUpdate</code>.</p>\n<p>The request body should have this structure:</p>\n<p><em>Note:  For example, the following removes the second row in <code>Sheet1</code>.</em></p>\n<pre><code>POST https://sheets.googleapis.com/v4/spreadsheets/spreadsheetId:batchUpdate\n\n       {\n            &quot;requests&quot;: [\n                {\n                    &quot;deleteDimension&quot;: {\n                        &quot;range&quot;:  {\n                            &quot;sheetId&quot;: 0,\n                            &quot;dimension&quot;: &quot;ROWS&quot;,\n                            &quot;startIndex&quot;: 1,\n                            &quot;endIndex&quot;: 2\n                        }\n                    }\n                }\n            ],\n        }\n</code></pre>\n<p>This is a sample on how the request should look like:</p>\n<pre><code>DeleteDimensionRequest deleteRequest = new DeleteDimensionRequest() \n   .setRange(\n        new DimensionRange()\n            .setSheetId(0)\n            .setDimension(&quot;Row&quot;)\n            .setStartIndex(1)\n  );\n\nList&lt;Request&gt; requests = new ArrayList&lt;&gt;();\nrequests.add(new Request().setDeleteDimension(deleteRequest));\n\nBatchUpdateSpreadsheetRequest body = new BatchUpdateSpreadsheetRequest().setRequests(requests);\nsheetServices.spreadsheets().batchUpdate(SPREADSHEET_ID, body).execute()\n</code></pre>\n<p><strong>Reference:</strong></p>\n<ul>\n<li><a href=\"https://developers.google.com/sheets/api/guides/migration#delete_a_row\" rel=\"nofollow noreferrer\">MigraDelete a row</a></li>\n<li><a href=\"https://developers.google.com/sheets/api/reference/rest/v4/spreadsheets/batchUpdate#deletedimensionrequest\" rel=\"nofollow noreferrer\">Method: spreadsheets.batchUpdate</a></li>\n<li><a href=\"https://developers.google.com/sheets/api/reference/rest/v4/spreadsheets/request#deletedimensionrequest\" rel=\"nofollow noreferrer\">DeleteDimensionRequest </a></li>\n<li><a href=\"https://developers.google.com/sheets/api/samples/rowcolumn#delete_rows_or_columns\" rel=\"nofollow noreferrer\">Delete rows or columns</a></li>\n</ul>\n"}],"owner":{"account_id":16891449,"reputation":33,"user_id":12215074,"display_name":"Mateusz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679933492,"creation_date":1679910006,"question_id":75854200,"body_markdown":"I have an interface between my Java program and Google Sheets.\r\nI want to delete a row in Google Sheets as soon as my condition is true.\r\n\r\n\r\nIs there also a delete function? I haven&#39;t found anything in the documentation yet.\r\n\r\n\r\nSo far I have only found a function that clears the row.\r\nThis looks like this:\r\n\r\n      ClearValuesRequest requestBody = new ClearValuesRequest();\r\n      if (CALCNumber.toString().equals(BLNumber.get(0).toString())) {\r\n           Sheets.Spreadsheets.Values.Clear request =\r\n               sheets.spreadsheets().values().clear(spreadsheetId, &quot;sheet1!A2:AA2&quot;, requestBody);       \r\n           ClearValuesResponse deleteResponse = request.execute();\r\n           System.out.print(deleteResponse);\r\n      }\r\n\r\n","title":"Delete a row in Google Sheets with Java using the Google Sheets API","body":"<p>I have an interface between my Java program and Google Sheets.\nI want to delete a row in Google Sheets as soon as my condition is true.</p>\n<p>Is there also a delete function? I haven't found anything in the documentation yet.</p>\n<p>So far I have only found a function that clears the row.\nThis looks like this:</p>\n<pre><code>  ClearValuesRequest requestBody = new ClearValuesRequest();\n  if (CALCNumber.toString().equals(BLNumber.get(0).toString())) {\n       Sheets.Spreadsheets.Values.Clear request =\n           sheets.spreadsheets().values().clear(spreadsheetId, &quot;sheet1!A2:AA2&quot;, requestBody);       \n       ClearValuesResponse deleteResponse = request.execute();\n       System.out.print(deleteResponse);\n  }\n</code></pre>\n"},{"tags":["java","eclipse","debugging"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1435434785,"post_id":31092882,"comment_id":50202218,"body_markdown":"Are you inside your own code?","body":"Are you inside your own code?"},{"owner":{"account_id":357630,"reputation":10123,"user_id":697911,"accept_rate":53,"display_name":"user697911"},"score":0,"creation_date":1435435660,"post_id":31092882,"comment_id":50202467,"body_markdown":"what do you mean? I think yes. it is .","body":"what do you mean? I think yes. it is ."},{"owner":{"account_id":1483039,"reputation":8759,"user_id":1391924,"accept_rate":41,"display_name":"Chandrayya G K"},"score":1,"creation_date":1435569066,"post_id":31092882,"comment_id":50237342,"body_markdown":"which OS are you using?","body":"which OS are you using?"}],"answers":[{"tags":[],"owner":{"account_id":5570795,"reputation":2409,"user_id":4416221,"accept_rate":78,"display_name":"jotadepicas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435435697,"creation_date":1435435697,"answer_id":31093019,"question_id":31092882,"body_markdown":"You could try reseting the Perspective, closing and opening de variables view again, even restarting eclipse. Have a look at this similar question just in case: https://stackoverflow.com/questions/5490509/eclipse-debug-mode-variables-not-showing","title":"Eclipse debugger variables don&#39;t show name, only values","body":"<p>You could try reseting the Perspective, closing and opening de variables view again, even restarting eclipse. Have a look at this similar question just in case: <a href=\"https://stackoverflow.com/questions/5490509/eclipse-debug-mode-variables-not-showing\">Eclipse Debug Mode: Variables not showing</a></p>\n"},{"tags":[],"owner":{"account_id":2155961,"reputation":63,"user_id":1911192,"display_name":"Scuba"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1451363482,"creation_date":1451363482,"answer_id":34504451,"question_id":31092882,"body_markdown":"I tried everything found in the link that jotadepicas provided. It might be a combination of all those suggestions that lead up to me resolving the variable names not showing. \r\n\r\nAfter trying all of the suggestions, I clicked on the down arrow in debug variables tab --&gt; Layout --&gt; Select Columns. Both the Name and Value boxes were already checked. I simply clicked OK and the Name column displayed. This Select Columns and Show Columns under Layout were not available prior to all the previous steps. \r\n\r\nI am running Eclipse Mars 4.5.1 on Linux Mint 17.3.","title":"Eclipse debugger variables don&#39;t show name, only values","body":"<p>I tried everything found in the link that jotadepicas provided. It might be a combination of all those suggestions that lead up to me resolving the variable names not showing. </p>\n\n<p>After trying all of the suggestions, I clicked on the down arrow in debug variables tab --> Layout --> Select Columns. Both the Name and Value boxes were already checked. I simply clicked OK and the Name column displayed. This Select Columns and Show Columns under Layout were not available prior to all the previous steps. </p>\n\n<p>I am running Eclipse Mars 4.5.1 on Linux Mint 17.3.</p>\n"},{"tags":[],"owner":{"account_id":16832545,"reputation":52,"user_id":12170147,"display_name":"Yasine Deghaies"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636396272,"creation_date":1636396272,"answer_id":69888298,"question_id":31092882,"body_markdown":"It&#39;s a rendering problem in eclipse. click on the Variables Tab -&gt; click on the vertically three dots icon appearing in the corner-&gt; Layout - &gt; Select columns -&gt; Deselect all columns -&gt; apply -&gt; go back and select all columns .\r\n\r\nThis should work.","title":"Eclipse debugger variables don&#39;t show name, only values","body":"<p>It's a rendering problem in eclipse. click on the Variables Tab -&gt; click on the vertically three dots icon appearing in the corner-&gt; Layout - &gt; Select columns -&gt; Deselect all columns -&gt; apply -&gt; go back and select all columns .</p>\n<p>This should work.</p>\n"},{"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1680178689,"post_id":75857978,"comment_id":133856058,"body_markdown":"This will reset the entire perspective to default settings, however.","body":"This will reset the entire perspective to default settings, however."}],"tags":[],"owner":{"account_id":28139927,"reputation":1,"user_id":21503148,"display_name":"dino almirino"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679933440,"creation_date":1679933366,"answer_id":75857978,"question_id":31092882,"body_markdown":"Right click on the debug symbol in the upper right window, (near the button to close the whole eclipse program) click on reset and then again on reset prospective.\r\n\r\nEnd","title":"Eclipse debugger variables don&#39;t show name, only values","body":"<p>Right click on the debug symbol in the upper right window, (near the button to close the whole eclipse program) click on reset and then again on reset prospective.</p>\n<p>End</p>\n"}],"owner":{"account_id":357630,"reputation":10123,"user_id":697911,"accept_rate":53,"display_name":"user697911"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1679933440,"creation_date":1435434627,"question_id":31092882,"body_markdown":"![enter image description here][1]Please the the attached snapshot. In my debugger, I can only see the variable values, but no names. It&#39;s very annoying. what might cause this?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/3meLq.png","title":"Eclipse debugger variables don&#39;t show name, only values","body":"<p><img src=\"https://i.stack.imgur.com/3meLq.png\" alt=\"enter image description here\">Please the the attached snapshot. In my debugger, I can only see the variable values, but no names. It's very annoying. what might cause this?</p>\n"},{"tags":["java","jep","jepp"],"owner":{"account_id":14558886,"reputation":75,"user_id":10515589,"display_name":"Bruno Pinto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679933357,"creation_date":1679704112,"question_id":75839013,"body_markdown":"I&#39;m making a java application that needs to execute python scripts in runtime.\r\nI started by using Jython, but now I need to use CPython libraries, so I&#39;m experimenting with JEP.\r\n\r\nI&#39;ve installed JEP using the command `pip install jep` and I&#39;ve added jep as a project dependency in gradle\r\n\r\n    dependencies {\r\n        implementation &#39;black.ninia:jep:4.1.1&#39;\r\n    }\r\n\r\nIf I try to run the following java code:\r\n\r\n    try (Jep jep = new SharedInterpreter()) {\r\n        jep.eval(&quot;print(&#39;Hello world!&#39;)&quot;);\r\n    }\r\n\r\nI get the following exception:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no jep in java.library.path: ...\r\n\r\nWhat am I doing wrong?","title":"How to add JEP a java project using gradle?","body":"<p>I'm making a java application that needs to execute python scripts in runtime.\nI started by using Jython, but now I need to use CPython libraries, so I'm experimenting with JEP.</p>\n<p>I've installed JEP using the command <code>pip install jep</code> and I've added jep as a project dependency in gradle</p>\n<pre><code>dependencies {\n    implementation 'black.ninia:jep:4.1.1'\n}\n</code></pre>\n<p>If I try to run the following java code:</p>\n<pre><code>try (Jep jep = new SharedInterpreter()) {\n    jep.eval(&quot;print('Hello world!')&quot;);\n}\n</code></pre>\n<p>I get the following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no jep in java.library.path: ...\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","json","android-volley","android-livedata","android-diffutils"],"owner":{"account_id":28139802,"reputation":1,"user_id":21503040,"display_name":"Kranti Patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679933265,"creation_date":1679933265,"question_id":75857961,"body_markdown":"`your text`Updated working recyclerview to diffUtil which gets data in the form of json fro google sheet after initializing the diffUtil in adaper created method which shows invoke virtual method getting null from\r\n diffresult\r\n\r\nMAIN\r\n\r\n```\r\n            `    customAdapter = new Adapter(list);\r\n                customAdapter.diffUtilChangeData(list);\r\n                recyclerView.setAdapter(customAdapter);\r\n                swipeRefreshLayout.setRefreshing(false);`\r\n```\r\n\r\nADAPTER\r\n   \r\n```\r\n public void diffUtilChangeData(ArrayList &lt;Model_Class&gt; mData_Diff){\r\n        xDiffUtil x_diff = new xDiffUtil(this.mData,mData_Diff);\r\n        DiffUtil.DiffResult x_diff_Result =DiffUtil.calculateDiff(x_diff);\r\n        this.mData.clear();\r\n        this.mData.addAll(mData_Diff);\r\n        Log.d(&quot;99999999999999999999999999999999999999999999999diff&quot;, String.valueOf(mData_Diff));\r\n        x_diff_Result.dispatchUpdatesTo(this);\r\n\r\n```\r\n    }\r\n\r\napp crashes diectly on removing the diffUil it works fine again","title":"Updated to DiffUtil but getting null response in DiffResult used volley for data as json","body":"<p><code>your text</code>Updated working recyclerview to diffUtil which gets data in the form of json fro google sheet after initializing the diffUtil in adaper created method which shows invoke virtual method getting null from\ndiffresult</p>\n<p>MAIN</p>\n<pre><code>            `    customAdapter = new Adapter(list);\n                customAdapter.diffUtilChangeData(list);\n                recyclerView.setAdapter(customAdapter);\n                swipeRefreshLayout.setRefreshing(false);`\n</code></pre>\n<p>ADAPTER</p>\n<pre><code> public void diffUtilChangeData(ArrayList &lt;Model_Class&gt; mData_Diff){\n        xDiffUtil x_diff = new xDiffUtil(this.mData,mData_Diff);\n        DiffUtil.DiffResult x_diff_Result =DiffUtil.calculateDiff(x_diff);\n        this.mData.clear();\n        this.mData.addAll(mData_Diff);\n        Log.d(&quot;99999999999999999999999999999999999999999999999diff&quot;, String.valueOf(mData_Diff));\n        x_diff_Result.dispatchUpdatesTo(this);\n\n</code></pre>\n<pre><code>}\n</code></pre>\n<p>app crashes diectly on removing the diffUil it works fine again</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1679933593,"post_id":75857950,"comment_id":133806021,"body_markdown":"If you look at the documentation of [`EntityManager#merge(T)`](https://jakarta.ee/specifications/persistence/3.0/apidocs/jakarta.persistence/jakarta/persistence/entitymanager#merge(T)) (which I assume is what you&#39;re talking about), then you&#39;ll see it returns &quot;_the managed instance that the state was merged to_&quot;. So, it may return a completely different instance. If you continue using the instance you passed as an argument, then you may be working with an _unmanaged_ instance.","body":"If you look at the documentation of <a href=\"https://jakarta.ee/specifications/persistence/3.0/apidocs/jakarta.persistence/jakarta/persistence/entitymanager#merge(T)\" rel=\"nofollow noreferrer\"><code>EntityManager#merge(T)</code></a> (which I assume is what you&#39;re talking about), then you&#39;ll see it returns &quot;<i>the managed instance that the state was merged to</i>&quot;. So, it may return a completely different instance. If you continue using the instance you passed as an argument, then you may be working with an <i>unmanaged</i> instance."},{"owner":{"account_id":3479550,"reputation":699,"user_id":2911983,"accept_rate":72,"display_name":"itsmarziparzi"},"score":0,"creation_date":1679936091,"post_id":75857950,"comment_id":133806673,"body_markdown":"that&#39;s exactly what i mean. My question is why would it return a different instance? Within `save` if you look at it&#39;s case for when it does `persist`, you&#39;ll see that it looks like so `if (entityInformation.isNew(entity)) { em.persist(entity); return entity; }`. As in, it just returns the entity that&#39;s passed in. But for the case of merge it does this `return em.merge(entity);` First of all, I don&#39;t understand why `merge` would want to return a different instance in the first place","body":"that&#39;s exactly what i mean. My question is why would it return a different instance? Within <code>save</code> if you look at it&#39;s case for when it does <code>persist</code>, you&#39;ll see that it looks like so <code>if (entityInformation.isNew(entity)) { em.persist(entity); return entity; }</code>. As in, it just returns the entity that&#39;s passed in. But for the case of merge it does this <code>return em.merge(entity);</code> First of all, I don&#39;t understand why <code>merge</code> would want to return a different instance in the first place"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1679938524,"post_id":75857950,"comment_id":133807328,"body_markdown":"Because you&#39;re merging. You might be merging an unmanaged instance that already has a managed instance in the cache.","body":"Because you&#39;re merging. You might be merging an unmanaged instance that already has a managed instance in the cache."},{"owner":{"account_id":3479550,"reputation":699,"user_id":2911983,"accept_rate":72,"display_name":"itsmarziparzi"},"score":0,"creation_date":1679981796,"post_id":75857950,"comment_id":133813840,"body_markdown":"Sure but why can&#39;t the entity you are merging just be what is returned. Afterall, in essence you are replacing what is already there with what you are passing","body":"Sure but why can&#39;t the entity you are merging just be what is returned. Afterall, in essence you are replacing what is already there with what you are passing"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1679982077,"post_id":75857950,"comment_id":133813880,"body_markdown":"Because the framework is already managing an instance. It makes more sense to return the existing managed instance than to replace it just so you can continue using the unmanaged instance you were using before. Plus, that managed instance might be referenced elsewhere. When you `merge`, you get the managed instance back (even if it&#39;s the same one). The code calling `merge` is aware of this and can act accordingly. But if `merge` worked the way you suggest, then other code that references the managed instance suddenly has an unmanaged instance, which would be surprising.","body":"Because the framework is already managing an instance. It makes more sense to return the existing managed instance than to replace it just so you can continue using the unmanaged instance you were using before. Plus, that managed instance might be referenced elsewhere. When you <code>merge</code>, you get the managed instance back (even if it&#39;s the same one). The code calling <code>merge</code> is aware of this and can act accordingly. But if <code>merge</code> worked the way you suggest, then other code that references the managed instance suddenly has an unmanaged instance, which would be surprising."},{"owner":{"account_id":3479550,"reputation":699,"user_id":2911983,"accept_rate":72,"display_name":"itsmarziparzi"},"score":0,"creation_date":1679986043,"post_id":75857950,"comment_id":133814558,"body_markdown":"I&#39;m still a bit confused. Let&#39;s look at the `persist` case in regards to `save`. In the `persist` case, doesn&#39;t `persist` make the passed entity a managed instance? And then you are simply continuing using that managed instance","body":"I&#39;m still a bit confused. Let&#39;s look at the <code>persist</code> case in regards to <code>save</code>. In the <code>persist</code> case, doesn&#39;t <code>persist</code> make the passed entity a managed instance? And then you are simply continuing using that managed instance"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1679986667,"post_id":75857950,"comment_id":133814686,"body_markdown":"Yes, because _persisting_ involves **new** entities. There is no existing managed instance. _Merging_ may update an existing managed instance, in which case it needs to return said already-existing instance.","body":"Yes, because <i>persisting</i> involves <b>new</b> entities. There is no existing managed instance. <i>Merging</i> may update an existing managed instance, in which case it needs to return said already-existing instance."},{"owner":{"account_id":3479550,"reputation":699,"user_id":2911983,"accept_rate":72,"display_name":"itsmarziparzi"},"score":0,"creation_date":1679988407,"post_id":75857950,"comment_id":133815021,"body_markdown":"gotcha. That makes sense now!","body":"gotcha. That makes sense now!"}],"owner":{"account_id":3479550,"reputation":699,"user_id":2911983,"accept_rate":72,"display_name":"itsmarziparzi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679933169,"creation_date":1679933169,"question_id":75857950,"body_markdown":"I understand that merge is for updating an existing record, and persist is for inserting a new record.\r\n\r\nWhen `save` is called for the case of update, we return the return value of calling `merge`.\r\nBut I don&#39;t understand why we would want a new persistent instance on merge. Wouldn&#39;t the instance you are merging and the instance that is returned contain the same values?","title":"In JPA, what benefit is there for &quot;save&quot; to return a new persistent instance for the case of updates?","body":"<p>I understand that merge is for updating an existing record, and persist is for inserting a new record.</p>\n<p>When <code>save</code> is called for the case of update, we return the return value of calling <code>merge</code>.\nBut I don't understand why we would want a new persistent instance on merge. Wouldn't the instance you are merging and the instance that is returned contain the same values?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1680074021,"post_id":75857624,"comment_id":133833184,"body_markdown":"In your example, I don&#39;t see column names being different, instead, &quot;Column A | Column B&quot; are the same for all files. What do you mean?","body":"In your example, I don&#39;t see column names being different, instead, &quot;Column A | Column B&quot; are the same for all files. What do you mean?"}],"answers":[{"tags":[],"owner":{"account_id":28138516,"reputation":33,"user_id":21501907,"display_name":"babicsp"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679932831,"creation_date":1679932831,"answer_id":75857902,"question_id":75857624,"body_markdown":"You can use this:\r\n\r\n    @CsvBindAndJoinByName(column = &quot;FirstNameL,FirstName&quot;)\r\n    private String first_Name;","title":"Can we put OR condition in @CsvBindByName annotation to read multiple CSV files","body":"<p>You can use this:</p>\n<pre><code>@CsvBindAndJoinByName(column = &quot;FirstNameL,FirstName&quot;)\nprivate String first_Name;\n</code></pre>\n"}],"owner":{"account_id":28139263,"reputation":1,"user_id":21502573,"display_name":"RakhiJ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679932831,"creation_date":1679931116,"question_id":75857624,"body_markdown":"I have to read multiple CSV files and some CSV files, column name are different and values also different.\r\n\r\n**Example-:**\r\n\r\n CSV1 -:\r\n\r\n    | Column A | Column B |\r\n    | --- | --- |\r\n    | FirstNameL | LastNameL |\r\n\r\nCSV2 -:\r\n\r\n    | Column A | Column B |\r\n    | --- | --- |\r\n    | First_Name | Last_Name |\r\n\r\nCSV3 -:\r\n\r\n    | Column A | Column B |\r\n    | --- | --- |\r\n    | FirstNameL | LastNameL |\r\n\r\nI want to read both column name from single bean class (something like -: @CsvBindByName(column = &quot;FirstNameL&quot; OR  column = &quot;First_Name&quot;)  \r\n\r\n    public class Test {\r\n    @CsvBindByName(column = &quot;FirstNameL&quot;)\r\n    private String first_Name ;\r\n\r\n    @CsvBindByName(column = &quot;LastNameL&quot;)\r\n    private String last_Name;\r\n\r\n    //getters and setters\r\n    }","title":"Can we put OR condition in @CsvBindByName annotation to read multiple CSV files","body":"<p>I have to read multiple CSV files and some CSV files, column name are different and values also different.</p>\n<p><strong>Example-:</strong></p>\n<p>CSV1 -:</p>\n<pre><code>| Column A | Column B |\n| --- | --- |\n| FirstNameL | LastNameL |\n</code></pre>\n<p>CSV2 -:</p>\n<pre><code>| Column A | Column B |\n| --- | --- |\n| First_Name | Last_Name |\n</code></pre>\n<p>CSV3 -:</p>\n<pre><code>| Column A | Column B |\n| --- | --- |\n| FirstNameL | LastNameL |\n</code></pre>\n<p>I want to read both column name from single bean class (something like -: @CsvBindByName(column = &quot;FirstNameL&quot; OR  column = &quot;First_Name&quot;)</p>\n<pre><code>public class Test {\n@CsvBindByName(column = &quot;FirstNameL&quot;)\nprivate String first_Name ;\n\n@CsvBindByName(column = &quot;LastNameL&quot;)\nprivate String last_Name;\n\n//getters and setters\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":0,"creation_date":1679843626,"post_id":75848469,"comment_id":133789507,"body_markdown":"how about using the `ResourceLoader`? https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ResourceLoader.html#getResource(java.lang.String)","body":"how about using the <code>ResourceLoader</code>? <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ResourceLoader.html#getResource(java.lang.String)\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":0,"creation_date":1679843664,"post_id":75848469,"comment_id":133789518,"body_markdown":"I know. Can&#39;t use it because I have a uniform property which must either reference a Resources file, or a regular non-resource file (as described above).","body":"I know. Can&#39;t use it because I have a uniform property which must either reference a Resources file, or a regular non-resource file (as described above)."},{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":0,"creation_date":1679843850,"post_id":75848469,"comment_id":133789550,"body_markdown":"but with ResourceLoader you can use e.g.: &quot;file:C:/test.dat&quot;","body":"but with ResourceLoader you can use e.g.: &quot;file:C:/test.dat&quot;"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1679844386,"post_id":75848469,"comment_id":133789657,"body_markdown":"Spring!? - easy-&quot;peasy&quot;:`@Value(&quot;${file_location}&quot;)Resource myRss;` https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#resources !?","body":"Spring!? - easy-&quot;peasy&quot;:<code>@Value(&quot;${file_location}&quot;)Resource myRss;</code> <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#resources\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/reference/html/&zwnj;&#8203;&hellip;</a> !?"},{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":0,"creation_date":1679844545,"post_id":75848469,"comment_id":133789684,"body_markdown":"@dey Yes, I can, but the DevOps team has a Helm chart which lists normal absolute paths for this property, rather than `file:C:/...`. I think I might need a custom If-Else utility method to decide based on the presence of the substring `classpath:`.","body":"@dey Yes, I can, but the DevOps team has a Helm chart which lists normal absolute paths for this property, rather than <code>file:C:&#47;...</code>. I think I might need a custom If-Else utility method to decide based on the presence of the substring <code>classpath:</code>."}],"answers":[{"tags":[],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679929657,"creation_date":1679929657,"answer_id":75857381,"question_id":75848469,"body_markdown":"I ended up writing my own utility method that returns a `File` from either pathway.\r\n\r\n\tpublic static File getFileFromClasspathOrAbsolutePath(String filePath) {\r\n\t\t\r\n\t\tFile file = null;\r\n\t\t\r\n\t\tif (filePath != null) {\r\n\t\t\tif (filePath.startsWith(Constants.FILENAME_PATH_CLASSNAME_PREFIX)) { // &quot;classpath:&quot;\r\n\t\t\t\tURL url = Utils.class.getClassLoader().getResource(filePath.replace(Constants.FILENAME_PATH_CLASSNAME_PREFIX, &quot;&quot;));\r\n\t\t\t\tif (url != null) {\r\n\t\t\t\t\tfile = new File(url.getFile());\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfile = new File(filePath);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn file;\r\n\t}","title":"Spring Boot: File object must be constructed either from Resources file (classpath:) or a regular absolute path","body":"<p>I ended up writing my own utility method that returns a <code>File</code> from either pathway.</p>\n<pre><code>public static File getFileFromClasspathOrAbsolutePath(String filePath) {\n    \n    File file = null;\n    \n    if (filePath != null) {\n        if (filePath.startsWith(Constants.FILENAME_PATH_CLASSNAME_PREFIX)) { // &quot;classpath:&quot;\n            URL url = Utils.class.getClassLoader().getResource(filePath.replace(Constants.FILENAME_PATH_CLASSNAME_PREFIX, &quot;&quot;));\n            if (url != null) {\n                file = new File(url.getFile());\n            }\n        } else {\n            file = new File(filePath);\n        }\n    }\n    \n    return file;\n}\n</code></pre>\n"}],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75857381,"answer_count":1,"score":1,"last_activity_date":1679932763,"creation_date":1679842609,"question_id":75848469,"body_markdown":"My Spring Boot application has the standard structure of `src: main, test` each of which has a `/resources` subfolder.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI need to reference an existing file under `/resources`. When I do\r\n\r\n    InputStream inputStream = this.getClass().getClassLoader().getResourceAsStream(&quot;file.txt&quot;);\r\n\r\neverything works great. But when I construct a File as follows, including with `classpath:`, the file is invalid and `file.isValid()` returns false.\r\n\r\n\t\tFile f1 = new File(&quot;file.txt&quot;);\r\n\t\tFile f2 = new File(&quot;classpath:file.txt&quot;);\r\n\t\tFile f3 = new File(&quot;resources/file.txt&quot;);\r\n\t\tFile f4 = new File(&quot;classpath:resources/file.txt&quot;);\r\n\t\tFile f5 = new File(&quot;/resources/file.txt&quot;);\r\n\t\tFile f6 = new File(&quot;classpath:/resources/file.txt&quot;);\r\n\t\tFile f7 = new File(&quot;classpath:/file.txt&quot;);\r\n\r\nI can&#39;t use anything involving `getClass().getClassLoader().getResource()` and must use a dynamic file path because I&#39;m dealing with a property which works (1) either from a classpath reference in the source code or (2) as a real file, overridden on the server. So I have to get File objects in a uniform way -- it&#39;s a single property referencing this file. Are there any solutions?\r\n\r\ne.g.\r\n\r\n    file_location = classpath:file.txt # for local testing\r\n    file_location = /opt/dir/file.txt # server override\r\n\r\n[This thread][2] says that ClassLoader/Resource methods must be used with `File`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ka1R8.png\r\n  [2]: https://stackoverflow.com/questions/4359876/how-to-load-reference-a-file-as-a-file-instance-from-the-classpath","title":"Spring Boot: File object must be constructed either from Resources file (classpath:) or a regular absolute path","body":"<p>My Spring Boot application has the standard structure of <code>src: main, test</code> each of which has a <code>/resources</code> subfolder.</p>\n<p><a href=\"https://i.stack.imgur.com/Ka1R8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ka1R8.png\" alt=\"enter image description here\" /></a></p>\n<p>I need to reference an existing file under <code>/resources</code>. When I do</p>\n<pre><code>InputStream inputStream = this.getClass().getClassLoader().getResourceAsStream(&quot;file.txt&quot;);\n</code></pre>\n<p>everything works great. But when I construct a File as follows, including with <code>classpath:</code>, the file is invalid and <code>file.isValid()</code> returns false.</p>\n<pre><code>    File f1 = new File(&quot;file.txt&quot;);\n    File f2 = new File(&quot;classpath:file.txt&quot;);\n    File f3 = new File(&quot;resources/file.txt&quot;);\n    File f4 = new File(&quot;classpath:resources/file.txt&quot;);\n    File f5 = new File(&quot;/resources/file.txt&quot;);\n    File f6 = new File(&quot;classpath:/resources/file.txt&quot;);\n    File f7 = new File(&quot;classpath:/file.txt&quot;);\n</code></pre>\n<p>I can't use anything involving <code>getClass().getClassLoader().getResource()</code> and must use a dynamic file path because I'm dealing with a property which works (1) either from a classpath reference in the source code or (2) as a real file, overridden on the server. So I have to get File objects in a uniform way -- it's a single property referencing this file. Are there any solutions?</p>\n<p>e.g.</p>\n<pre><code>file_location = classpath:file.txt # for local testing\nfile_location = /opt/dir/file.txt # server override\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/4359876/how-to-load-reference-a-file-as-a-file-instance-from-the-classpath\">This thread</a> says that ClassLoader/Resource methods must be used with <code>File</code>.</p>\n"},{"tags":["java","jackson","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":9415985,"reputation":453,"user_id":10950827,"display_name":"scafrs"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679932447,"creation_date":1679932447,"answer_id":75857842,"question_id":75857492,"body_markdown":"To solve this I had to create an instance of ```ObjectMapper``` and set it to a ```JacksonDataFormat``` object that is finally the one used in Marshal EIP\r\n\r\nRoute\r\n\r\n    @Component\r\n    public class MyRoute extends RouteBuilder {\r\n    @Override\r\n    public void configure() throws Exception {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.registerModule(new JavaTimeModule());\r\n        JacksonDataFormat dataFormat = new JacksonDataFormat();\r\n        dataFormat.setObjectMapper(objectMapper);\r\n        from(&quot;direct:MyRoute&quot;)\r\n            .routeId(&quot;MyRoute&quot;)\r\n            .marshal(dataFormat);\r\n       }\r\n    }\r\n\r\nIf you know a more elegant way to do it you can suggest it :D","title":"Unit testing with camel causing InvalidDefinitionException Java 8 date/time &#39;java.time.LocalDate&#39; not supportend","body":"<p>To solve this I had to create an instance of <code>ObjectMapper</code> and set it to a <code>JacksonDataFormat</code> object that is finally the one used in Marshal EIP</p>\n<p>Route</p>\n<pre><code>@Component\npublic class MyRoute extends RouteBuilder {\n@Override\npublic void configure() throws Exception {\n    ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.registerModule(new JavaTimeModule());\n    JacksonDataFormat dataFormat = new JacksonDataFormat();\n    dataFormat.setObjectMapper(objectMapper);\n    from(&quot;direct:MyRoute&quot;)\n        .routeId(&quot;MyRoute&quot;)\n        .marshal(dataFormat);\n   }\n}\n</code></pre>\n<p>If you know a more elegant way to do it you can suggest it :D</p>\n"}],"owner":{"account_id":9415985,"reputation":453,"user_id":10950827,"display_name":"scafrs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75857842,"answer_count":1,"score":0,"last_activity_date":1679932447,"creation_date":1679930278,"question_id":75857492,"body_markdown":"I&#39;m trying to test a camel route that makes use of Marshal EIP with Jackson however when I try to convert a LocalDate I get an InvalidDefinitionException. I already added the module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to my dependencies and registered it without any success. Any suggestion what could be wrong? Also use property ```camel.dataformat.jackson.auto-discover-object-mapper=true``` but it doesn&#39;t work in tests\r\n\r\nRoute\r\n```\r\n@Component\r\npublic class MyRoute extends RouteBuilder {\r\n    @Override\r\n    public void configure() throws Exception {\r\n        from(&quot;direct:MyRoute&quot;)\r\n            .routeId(&quot;MyRoute&quot;)\r\n            .marshal()\r\n            .json(JsonLibrary.Jackson)\r\n    }\r\n}\r\n```\r\n\r\nTest\r\n```\r\n@SpringBootTest()\r\n@CamelSpringBootTest\r\n@EnableRouteCoverage\r\npublic class MyRouteTest {\r\n    @Autowired private CamelContext camelContext;\r\n\r\n    @Autowired private ProducerTemplate producerTemplate;\r\n\r\n    @Test\r\n    public void testMyRoute() throws Exception {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.registerModule(new JavaTimeModule());\r\n        Exchange ex = new DefaultExchange(camelContext);\r\n        Map&lt;String, Object&gt; map = new LinkedHashMap&lt;&gt;();\r\n        map.put(&quot;name&quot;, &quot;Rick&quot;);\r\n        map.put(&quot;birth-date&quot;, LocalDate.of(2023, 3, 27));\r\n        exchange.getMessage().setBody(map);\r\n        Exchange result = producerTemplate.send(&quot;direct:MyRoute&quot;, exchange);\r\n        // Asserts\r\n    }\r\n}\r\n```\r\n\r\ndependencies\r\n\r\n    configurations {\r\n        testImplementation.extendsFrom compileOnly\r\n    }\r\n\r\n    buildscript {\r\n        ext {\r\n            springBootVersion = &#39;3.0.2&#39;\r\n            camelVersion = &#39;4.0.0-M1&#39;\r\n        }\r\n    }\r\n\r\n    dependencies{\r\n        compileOnly group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-dependencies&#39;, version: springBootVersion\r\n        compileOnly group: &#39;org.apache.camel.springboot&#39;, name: &#39;camel-spring-boot-starter&#39;, version: camelVersion\r\n        compileOnly group: &#39;org.apache.camel.springboot&#39;, name: &#39;camel-jackson-starter&#39;, version: camelVersion\r\n        compileOnly group: &#39;com.fasterxml.jackson.datatype&#39;, name: &#39;jackson-datatype-jsr310&#39;, version: &#39;2.14.2&#39;\r\n        testImplementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-test&#39;, version: springBootVersion\r\n        testImplementation group: &#39;org.apache.camel&#39;, name: &#39;camel-test-spring-junit5&#39;, version: camelVersion\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n    }\r\n    \r\n   ","title":"Unit testing with camel causing InvalidDefinitionException Java 8 date/time &#39;java.time.LocalDate&#39; not supportend","body":"<p>I'm trying to test a camel route that makes use of Marshal EIP with Jackson however when I try to convert a LocalDate I get an InvalidDefinitionException. I already added the module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to my dependencies and registered it without any success. Any suggestion what could be wrong? Also use property <code>camel.dataformat.jackson.auto-discover-object-mapper=true</code> but it doesn't work in tests</p>\n<p>Route</p>\n<pre><code>@Component\npublic class MyRoute extends RouteBuilder {\n    @Override\n    public void configure() throws Exception {\n        from(&quot;direct:MyRoute&quot;)\n            .routeId(&quot;MyRoute&quot;)\n            .marshal()\n            .json(JsonLibrary.Jackson)\n    }\n}\n</code></pre>\n<p>Test</p>\n<pre><code>@SpringBootTest()\n@CamelSpringBootTest\n@EnableRouteCoverage\npublic class MyRouteTest {\n    @Autowired private CamelContext camelContext;\n\n    @Autowired private ProducerTemplate producerTemplate;\n\n    @Test\n    public void testMyRoute() throws Exception {\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.registerModule(new JavaTimeModule());\n        Exchange ex = new DefaultExchange(camelContext);\n        Map&lt;String, Object&gt; map = new LinkedHashMap&lt;&gt;();\n        map.put(&quot;name&quot;, &quot;Rick&quot;);\n        map.put(&quot;birth-date&quot;, LocalDate.of(2023, 3, 27));\n        exchange.getMessage().setBody(map);\n        Exchange result = producerTemplate.send(&quot;direct:MyRoute&quot;, exchange);\n        // Asserts\n    }\n}\n</code></pre>\n<p>dependencies</p>\n<pre><code>configurations {\n    testImplementation.extendsFrom compileOnly\n}\n\nbuildscript {\n    ext {\n        springBootVersion = '3.0.2'\n        camelVersion = '4.0.0-M1'\n    }\n}\n\ndependencies{\n    compileOnly group: 'org.springframework.boot', name: 'spring-boot-dependencies', version: springBootVersion\n    compileOnly group: 'org.apache.camel.springboot', name: 'camel-spring-boot-starter', version: camelVersion\n    compileOnly group: 'org.apache.camel.springboot', name: 'camel-jackson-starter', version: camelVersion\n    compileOnly group: 'com.fasterxml.jackson.datatype', name: 'jackson-datatype-jsr310', version: '2.14.2'\n    testImplementation group: 'org.springframework.boot', name: 'spring-boot-starter-test', version: springBootVersion\n    testImplementation group: 'org.apache.camel', name: 'camel-test-spring-junit5', version: camelVersion\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webclient"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679570598,"post_id":75821402,"comment_id":133746848,"body_markdown":"Please post the entire stacktrace. Right now you have only posted a fragment in the middle of the stacktrace.","body":"Please post the entire stacktrace. Right now you have only posted a fragment in the middle of the stacktrace."}],"answers":[{"tags":[],"owner":{"account_id":27543766,"reputation":1,"user_id":21020078,"display_name":"akshay mehta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679569408,"creation_date":1679569408,"answer_id":75822179,"question_id":75821402,"body_markdown":"I already worked on spring web-client and we almost connects with end-points which serves data in form of JSON your response also looks like a JSON response so you can try configuring ```application/json```.","title":"Spring WebClient content type application/javascript not supported","body":"<p>I already worked on spring web-client and we almost connects with end-points which serves data in form of JSON your response also looks like a JSON response so you can try configuring <code>application/json</code>.</p>\n"},{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679586267,"creation_date":1679586267,"answer_id":75825139,"question_id":75821402,"body_markdown":"By default, `WebClient` doesn&#39;t have codec for `application/javascript`. You would need to register additional codec for this `Content-Type`\r\n\r\n```\r\nvar APPLICATION_JAVASCRIPT = new MediaType(&quot;application&quot;, &quot;javascript&quot;);\r\n\r\nWebClient webClient = WebClient.builder()\r\n        .exchangeStrategies(\r\n                ExchangeStrategies.builder()\r\n                        .codecs(configurer -&gt;\r\n                                // register codec for media type application/javascript\r\n                                configurer.customCodecs().registerWithDefaultConfig(\r\n                                        new Jackson2JsonDecoder(objectMapper, APPLICATION_JAVASCRIPT)\r\n                                )\r\n                        )\r\n                        .build()\r\n        )\r\n        .build();\r\n```","title":"Spring WebClient content type application/javascript not supported","body":"<p>By default, <code>WebClient</code> doesn't have codec for <code>application/javascript</code>. You would need to register additional codec for this <code>Content-Type</code></p>\n<pre><code>var APPLICATION_JAVASCRIPT = new MediaType(&quot;application&quot;, &quot;javascript&quot;);\n\nWebClient webClient = WebClient.builder()\n        .exchangeStrategies(\n                ExchangeStrategies.builder()\n                        .codecs(configurer -&gt;\n                                // register codec for media type application/javascript\n                                configurer.customCodecs().registerWithDefaultConfig(\n                                        new Jackson2JsonDecoder(objectMapper, APPLICATION_JAVASCRIPT)\n                                )\n                        )\n                        .build()\n        )\n        .build();\n</code></pre>\n"}],"owner":{"account_id":9774998,"reputation":3031,"user_id":7245379,"display_name":"eHayik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75825139,"answer_count":2,"score":1,"last_activity_date":1679932257,"creation_date":1679564669,"question_id":75821402,"body_markdown":"How can I customize a *Spring WebClient* instance, to accept `content-type: application/javascript` and deserialize the JSON response body?\r\n\r\nI&#39;ve implemented a [simple example](https://github.com/ehayik/coindesk-client) using [WebClient](https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-webclient), which consumes the [CoinDesk API endpoint](https://api.coindesk.com/v1/bpi/currentprice.json) to get the Bitcoin Price Index (BPI) in real-time.\r\n\r\nI [reproduced the error](https://github.com/ehayik/coindesk-client/blob/master/src/test/java/com/github/ehayik/coindesk/btc/BitcoinPriceIndexClientTests.java) stubbing the endpoint with WireMock. \r\n\r\nThe endpoint response body content is JSON, however, its headers include `content-type: application/javascript`, as a result the *WebClient* throws the exception below:\r\n\r\n```text\r\norg.springframework.web.reactive.function.client.WebClientResponseException at WebClientResponseException.java:342\r\n        Caused by: org.springframework.web.reactive.function.UnsupportedMediaTypeException at BodyExtractors.java:206\r\n```\r\n[![enter image description here][1]][1]\r\n\r\nThis is the entire stacktrace:\r\n\r\n```txt\r\n200 OK from GET http://localhost:44027/bpi/currentprice.json\r\norg.springframework.web.reactive.function.client.WebClientResponseException: 200 OK from GET http://localhost:44027/bpi/currentprice.json\r\n\tat app//org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:342)\r\n\tat app//org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:213)\r\n\tat app//reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106)\r\n\tat app//reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onError(FluxOnErrorReturn.java:199)\r\n\tat app//reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onError(FluxDefaultIfEmpty.java:156)\r\n\tat app//reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544)\r\n\tat app//reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onError(FluxMapFuseable.java:142)\r\n\tat app//reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121)\r\n\tat app//reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onError(FluxMapFuseable.java:340)\r\n\tat app//reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onError(FluxFilterFuseable.java:382)\r\n\tat app//reactor.core.publisher.MonoCollect$CollectSubscriber.onError(MonoCollect.java:135)\r\n\tat app//reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134)\r\n\tat app//reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222)\r\n\tat app//reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134)\r\n\tat app//reactor.core.publisher.Operators.error(Operators.java:198)\r\n\tat app//reactor.netty.channel.FluxReceive.startReceiver(FluxReceive.java:191)\r\n\tat app//reactor.netty.channel.FluxReceive.subscribe(FluxReceive.java:148)\r\n\tat app//reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:62)\r\n\tat app//reactor.netty.ByteBufFlux.subscribe(ByteBufFlux.java:340)\r\n\tat app//reactor.core.publisher.Mono.subscribe(Mono.java:4485)\r\n\tat app//reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\r\n\tat app//reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544)\r\n\tat app//reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\r\n\tat app//reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)\r\n\tat app//reactor.core.publisher.Operators.error(Operators.java:198)\r\n\tat app//reactor.core.publisher.FluxError.subscribe(FluxError.java:43)\r\n\tat app//reactor.core.publisher.Flux.subscribe(Flux.java:8671)\r\n\tat app//reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onComplete(FluxConcatArray.java:258)\r\n\tat app//reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89)\r\n\tat app//reactor.core.publisher.FluxTakeWhile$TakeWhileSubscriber.onComplete(FluxTakeWhile.java:122)\r\n\tat app//reactor.core.publisher.FluxTakeWhile$TakeWhileSubscriber.onNext(FluxTakeWhile.java:96)\r\n\tat app//reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122)\r\n\tat app//reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)\r\n\tat app//reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122)\r\n\tat app//reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:379)\r\n\tat app//reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:411)\r\n\tat app//reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:734)\r\n\tat app//reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:113)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\tat app//io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\tat app//io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n\tat app//io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)\r\n\tat app//io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:333)\r\n\tat app//io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:454)\r\n\tat app//io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\r\n\tat app//io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\tat app//io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat app//io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat app//io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800)\r\n\tat app//io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)\r\n\tat app//io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397)\r\n\tat app//io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat app//io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat app//io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base@17/java.lang.Thread.run(Thread.java:833)\r\n\tSuppressed: java.lang.Exception: #block terminated with an error\r\n\t\tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:139)\r\n\t\tat reactor.core.publisher.Mono.block(Mono.java:1734)\r\n\t\tat org.springframework.web.service.invoker.HttpServiceMethod$ResponseFunction.execute(HttpServiceMethod.java:301)\r\n\t\tat org.springframework.web.service.invoker.HttpServiceMethod.invoke(HttpServiceMethod.java:110)\r\n\t\tat org.springframework.web.service.invoker.HttpServiceProxyFactory$HttpServiceMethodInterceptor.invoke(HttpServiceProxyFactory.java:278)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\t\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\r\n\t\tat jdk.proxy3/jdk.proxy3.$Proxy73.getPriceIndexOnRealTime(Unknown Source)\r\n\t\tat com.github.ehayik.coindesk.BitcoinPriceIndexClientTests.givenCurrentPriceRequestWhenExchangeThenCorrect(BitcoinPriceIndexClientTests.java:35)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\t\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\t\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\t\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\t\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\t\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\t\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\t\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\t\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\t\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\t\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\t\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\t\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\t\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\t\tat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\r\n\t\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\t\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\t\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\t\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\t\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\t\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\r\n\t\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\r\n\t\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\t\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: org.springframework.web.reactive.function.UnsupportedMediaTypeException: Content type &#39;application/javascript&#39; not supported for bodyType=com.github.ehayik.coindesk.BitcoinCurrentPrice\r\n\tat app//org.springframework.web.reactive.function.BodyExtractors.lambda$readWithMessageReaders$12(BodyExtractors.java:206)\r\n\tSuppressed: The stacktrace has been enhanced by Reactor, refer to additional information below: \r\nError has been observed at the following site(s):\r\n\t*__checkpoint ‚á¢ Body from GET http://localhost:44027/bpi/currentprice.json [DefaultClientResponse]\r\nOriginal Stack Trace:\r\n\t\tat app//org.springframework.web.reactive.function.BodyExtractors.lambda$readWithMessageReaders$12(BodyExtractors.java:206)\r\n\t\tat java.base@17/java.util.Optional.orElseGet(Optional.java:364)\r\n\t\tat app//org.springframework.web.reactive.function.BodyExtractors.readWithMessageReaders(BodyExtractors.java:202)\r\n\t\tat app//org.springframework.web.reactive.function.BodyExtractors.lambda$toMono$2(BodyExtractors.java:84)\r\n\t\tat app//org.springframework.web.reactive.function.client.DefaultClientResponse.body(DefaultClientResponse.java:134)\r\n\t\tat app//org.springframework.web.reactive.function.client.DefaultClientResponse.bodyToMono(DefaultClientResponse.java:154)\r\n\t\tat app//org.springframework.web.reactive.function.client.DefaultWebClient$DefaultResponseSpec.lambda$bodyToMono$2(DefaultWebClient.java:597)\r\n\t\tat app//reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:132)\r\n\t\tat app//reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)\r\n\t\tat app//reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)\r\n\t\tat app//reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onNext(FluxPeekFuseable.java:503)\r\n\t\tat app//reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)\r\n\t\tat app//reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854)\r\n\t\tat app//reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)\r\n\t\tat app//reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122)\r\n\t\tat app//reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)\r\n\t\tat app//reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)\r\n\t\tat app//reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)\r\n\t\tat app//reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)\r\n\t\tat app//reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)\r\n\t\tat app//reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onNext(MonoFlatMapMany.java:250)\r\n\t\tat app//reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)\r\n\t\tat app//reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2545)\r\n\t\tat app//reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136)\r\n\t\tat app//reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onSubscribeInner(MonoFlatMapMany.java:150)\r\n\t\tat app//reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onSubscribe(MonoFlatMapMany.java:245)\r\n\t\tat app//reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onSubscribe(FluxContextWrite.java:101)\r\n\t\tat app//reactor.core.publisher.FluxJust.subscribe(FluxJust.java:68)\r\n\t\tat app//reactor.core.publisher.Flux.subscribe(Flux.java:8671)\r\n\t\tat app//reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onNext(MonoFlatMapMany.java:195)\r\n\t\tat app//reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99)\r\n\t\tat app//reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onNext(FluxRetryWhen.java:174)\r\n\t\tat app//reactor.core.publisher.MonoCreate$DefaultMonoSink.success(MonoCreate.java:172)\r\n\t\tat app//reactor.netty.http.client.HttpClientConnect$HttpIOHandlerObserver.onStateChange(HttpClientConnect.java:435)\r\n\t\tat app//reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:710)\r\n\t\tat app//reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onStateChange(DefaultPooledConnectionProvider.java:195)\r\n\t\tat app//reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnection.onStateChange(DefaultPooledConnectionProvider.java:456)\r\n\t\tat app//reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:647)\r\n\t\tat app//reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:113)\r\n\t\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n\t\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\t\tat app//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\t\tat app//io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\r\n\t\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n\t\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\t\tat app//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\t\tat app//io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n\t\tat app//io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)\r\n\t\tat app//io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:333)\r\n\t\tat app//io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:454)\r\n\t\tat app//io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\r\n\t\tat app//io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n\t\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\r\n\t\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\t\tat app//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\t\tat app//io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\t\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\r\n\t\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\t\tat app//io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\t\tat app//io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800)\r\n\t\tat app//io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)\r\n\t\tat app//io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397)\r\n\t\tat app//io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\t\tat app//io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\t\tat app//io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\t\tat java.base@17/java.lang.Thread.run(Thread.java:833)\r\n\r\n```\r\n\r\n\r\nThis is the declarative client implementation:\r\n\r\n```java\r\n@HttpExchange(url = &quot;/bpi&quot;)\r\npublic interface BitcoinPriceIndexClient {\r\n\r\n    @GetExchange(value = &quot;/currentprice.json&quot;)\r\n    Mono&lt;BitcoinCurrentPrice&gt; getPriceIndexOnRealTime();\r\n}\r\n\r\n@Setter\r\npublic class BitcoinCurrentPrice {\r\n\r\n    private BitcoinPriceIndex bpi;\r\n\r\n    public List&lt;Price&gt; getPrices() {\r\n        return List.of(bpi.usdPrice, bpi.eurPrice, bpi.gbpPrice);\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    @JsonRootName(value = &quot;bpi&quot;)\r\n    public static class BitcoinPriceIndex {\r\n\r\n        @JsonProperty(&quot;USD&quot;)\r\n        private Price usdPrice;\r\n\r\n        @JsonProperty(&quot;GBP&quot;)\r\n        private Price gbpPrice;\r\n\r\n        @JsonProperty(&quot;EUR&quot;)\r\n        private Price eurPrice;\r\n    }\r\n\r\n    @Data\r\n    @Accessors(chain = true)\r\n    public static class Price {\r\n\r\n        private String code;\r\n\r\n        @JsonProperty(&quot;rate_float&quot;)\r\n        private Double rate;\r\n    }\r\n}\r\n```\r\n\r\nThis is the client&#39;s proxy creation:\r\n\r\n```java\r\n@Bean  \r\nBitcoinPriceIndexClient bitcoinPriceIndexClient(WebClient.Builder builder, @Value(&quot;${bpi-client.url}&quot;) String url) {  \r\n    var webClient = builder.baseUrl(url).build();  \r\n  \r\n    var httpServiceProxyFactory =  \r\n            HttpServiceProxyFactory.builder(forClient(webClient)).build();  \r\n  \r\n    return httpServiceProxyFactory.createClient(BitcoinPriceIndexClient.class);  \r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yL3Id.png","title":"Spring WebClient content type application/javascript not supported","body":"<p>How can I customize a <em>Spring WebClient</em> instance, to accept <code>content-type: application/javascript</code> and deserialize the JSON response body?</p>\n<p>I've implemented a <a href=\"https://github.com/ehayik/coindesk-client\" rel=\"nofollow noreferrer\">simple example</a> using <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-webclient\" rel=\"nofollow noreferrer\">WebClient</a>, which consumes the <a href=\"https://api.coindesk.com/v1/bpi/currentprice.json\" rel=\"nofollow noreferrer\">CoinDesk API endpoint</a> to get the Bitcoin Price Index (BPI) in real-time.</p>\n<p>I <a href=\"https://github.com/ehayik/coindesk-client/blob/master/src/test/java/com/github/ehayik/coindesk/btc/BitcoinPriceIndexClientTests.java\" rel=\"nofollow noreferrer\">reproduced the error</a> stubbing the endpoint with WireMock.</p>\n<p>The endpoint response body content is JSON, however, its headers include <code>content-type: application/javascript</code>, as a result the <em>WebClient</em> throws the exception below:</p>\n<pre><code>org.springframework.web.reactive.function.client.WebClientResponseException at WebClientResponseException.java:342\n        Caused by: org.springframework.web.reactive.function.UnsupportedMediaTypeException at BodyExtractors.java:206\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/yL3Id.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yL3Id.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the entire stacktrace:</p>\n<pre><code>200 OK from GET http://localhost:44027/bpi/currentprice.json\norg.springframework.web.reactive.function.client.WebClientResponseException: 200 OK from GET http://localhost:44027/bpi/currentprice.json\n    at app//org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:342)\n    at app//org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:213)\n    at app//reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106)\n    at app//reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onError(FluxOnErrorReturn.java:199)\n    at app//reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onError(FluxDefaultIfEmpty.java:156)\n    at app//reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544)\n    at app//reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onError(FluxMapFuseable.java:142)\n    at app//reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121)\n    at app//reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onError(FluxMapFuseable.java:340)\n    at app//reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onError(FluxFilterFuseable.java:382)\n    at app//reactor.core.publisher.MonoCollect$CollectSubscriber.onError(MonoCollect.java:135)\n    at app//reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134)\n    at app//reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222)\n    at app//reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134)\n    at app//reactor.core.publisher.Operators.error(Operators.java:198)\n    at app//reactor.netty.channel.FluxReceive.startReceiver(FluxReceive.java:191)\n    at app//reactor.netty.channel.FluxReceive.subscribe(FluxReceive.java:148)\n    at app//reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:62)\n    at app//reactor.netty.ByteBufFlux.subscribe(ByteBufFlux.java:340)\n    at app//reactor.core.publisher.Mono.subscribe(Mono.java:4485)\n    at app//reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\n    at app//reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544)\n    at app//reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\n    at app//reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)\n    at app//reactor.core.publisher.Operators.error(Operators.java:198)\n    at app//reactor.core.publisher.FluxError.subscribe(FluxError.java:43)\n    at app//reactor.core.publisher.Flux.subscribe(Flux.java:8671)\n    at app//reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onComplete(FluxConcatArray.java:258)\n    at app//reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89)\n    at app//reactor.core.publisher.FluxTakeWhile$TakeWhileSubscriber.onComplete(FluxTakeWhile.java:122)\n    at app//reactor.core.publisher.FluxTakeWhile$TakeWhileSubscriber.onNext(FluxTakeWhile.java:96)\n    at app//reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122)\n    at app//reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)\n    at app//reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122)\n    at app//reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:379)\n    at app//reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:411)\n    at app//reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:734)\n    at app//reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:113)\n    at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n    at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at app//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at app//io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\n    at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n    at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at app//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at app//io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n    at app//io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)\n    at app//io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:333)\n    at app//io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:454)\n    at app//io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\n    at app//io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n    at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\n    at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at app//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at app//io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\n    at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at app//io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at app//io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800)\n    at app//io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)\n    at app//io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397)\n    at app//io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at app//io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at app//io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base@17/java.lang.Thread.run(Thread.java:833)\n    Suppressed: java.lang.Exception: #block terminated with an error\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:139)\n        at reactor.core.publisher.Mono.block(Mono.java:1734)\n        at org.springframework.web.service.invoker.HttpServiceMethod$ResponseFunction.execute(HttpServiceMethod.java:301)\n        at org.springframework.web.service.invoker.HttpServiceMethod.invoke(HttpServiceMethod.java:110)\n        at org.springframework.web.service.invoker.HttpServiceProxyFactory$HttpServiceMethodInterceptor.invoke(HttpServiceProxyFactory.java:278)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\n        at jdk.proxy3/jdk.proxy3.$Proxy73.getPriceIndexOnRealTime(Unknown Source)\n        at com.github.ehayik.coindesk.BitcoinPriceIndexClientTests.givenCurrentPriceRequestWhenExchangeThenCorrect(BitcoinPriceIndexClientTests.java:35)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n        at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n        at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n        at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n        at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n        at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n        at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n        at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n        at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n        at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n        at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n        at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n        at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n        at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n        at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n        at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n        at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\n        at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n        at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n        at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n        at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n        at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n        at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\n        at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\n        at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n        at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: org.springframework.web.reactive.function.UnsupportedMediaTypeException: Content type 'application/javascript' not supported for bodyType=com.github.ehayik.coindesk.BitcoinCurrentPrice\n    at app//org.springframework.web.reactive.function.BodyExtractors.lambda$readWithMessageReaders$12(BodyExtractors.java:206)\n    Suppressed: The stacktrace has been enhanced by Reactor, refer to additional information below: \nError has been observed at the following site(s):\n    *__checkpoint ‚á¢ Body from GET http://localhost:44027/bpi/currentprice.json [DefaultClientResponse]\nOriginal Stack Trace:\n        at app//org.springframework.web.reactive.function.BodyExtractors.lambda$readWithMessageReaders$12(BodyExtractors.java:206)\n        at java.base@17/java.util.Optional.orElseGet(Optional.java:364)\n        at app//org.springframework.web.reactive.function.BodyExtractors.readWithMessageReaders(BodyExtractors.java:202)\n        at app//org.springframework.web.reactive.function.BodyExtractors.lambda$toMono$2(BodyExtractors.java:84)\n        at app//org.springframework.web.reactive.function.client.DefaultClientResponse.body(DefaultClientResponse.java:134)\n        at app//org.springframework.web.reactive.function.client.DefaultClientResponse.bodyToMono(DefaultClientResponse.java:154)\n        at app//org.springframework.web.reactive.function.client.DefaultWebClient$DefaultResponseSpec.lambda$bodyToMono$2(DefaultWebClient.java:597)\n        at app//reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:132)\n        at app//reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)\n        at app//reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)\n        at app//reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onNext(FluxPeekFuseable.java:503)\n        at app//reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)\n        at app//reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854)\n        at app//reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)\n        at app//reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122)\n        at app//reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)\n        at app//reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)\n        at app//reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)\n        at app//reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)\n        at app//reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)\n        at app//reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onNext(MonoFlatMapMany.java:250)\n        at app//reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)\n        at app//reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2545)\n        at app//reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136)\n        at app//reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onSubscribeInner(MonoFlatMapMany.java:150)\n        at app//reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onSubscribe(MonoFlatMapMany.java:245)\n        at app//reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onSubscribe(FluxContextWrite.java:101)\n        at app//reactor.core.publisher.FluxJust.subscribe(FluxJust.java:68)\n        at app//reactor.core.publisher.Flux.subscribe(Flux.java:8671)\n        at app//reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onNext(MonoFlatMapMany.java:195)\n        at app//reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99)\n        at app//reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onNext(FluxRetryWhen.java:174)\n        at app//reactor.core.publisher.MonoCreate$DefaultMonoSink.success(MonoCreate.java:172)\n        at app//reactor.netty.http.client.HttpClientConnect$HttpIOHandlerObserver.onStateChange(HttpClientConnect.java:435)\n        at app//reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:710)\n        at app//reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onStateChange(DefaultPooledConnectionProvider.java:195)\n        at app//reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnection.onStateChange(DefaultPooledConnectionProvider.java:456)\n        at app//reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:647)\n        at app//reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:113)\n        at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n        at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n        at app//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n        at app//io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\n        at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n        at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n        at app//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n        at app//io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n        at app//io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)\n        at app//io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:333)\n        at app//io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:454)\n        at app//io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\n        at app//io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n        at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\n        at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n        at app//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n        at app//io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n        at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\n        at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n        at app//io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n        at app//io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800)\n        at app//io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)\n        at app//io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397)\n        at app//io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n        at app//io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at app//io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base@17/java.lang.Thread.run(Thread.java:833)\n\n</code></pre>\n<p>This is the declarative client implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@HttpExchange(url = &quot;/bpi&quot;)\npublic interface BitcoinPriceIndexClient {\n\n    @GetExchange(value = &quot;/currentprice.json&quot;)\n    Mono&lt;BitcoinCurrentPrice&gt; getPriceIndexOnRealTime();\n}\n\n@Setter\npublic class BitcoinCurrentPrice {\n\n    private BitcoinPriceIndex bpi;\n\n    public List&lt;Price&gt; getPrices() {\n        return List.of(bpi.usdPrice, bpi.eurPrice, bpi.gbpPrice);\n    }\n\n    @SuppressWarnings(&quot;unused&quot;)\n    @JsonRootName(value = &quot;bpi&quot;)\n    public static class BitcoinPriceIndex {\n\n        @JsonProperty(&quot;USD&quot;)\n        private Price usdPrice;\n\n        @JsonProperty(&quot;GBP&quot;)\n        private Price gbpPrice;\n\n        @JsonProperty(&quot;EUR&quot;)\n        private Price eurPrice;\n    }\n\n    @Data\n    @Accessors(chain = true)\n    public static class Price {\n\n        private String code;\n\n        @JsonProperty(&quot;rate_float&quot;)\n        private Double rate;\n    }\n}\n</code></pre>\n<p>This is the client's proxy creation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean  \nBitcoinPriceIndexClient bitcoinPriceIndexClient(WebClient.Builder builder, @Value(&quot;${bpi-client.url}&quot;) String url) {  \n    var webClient = builder.baseUrl(url).build();  \n  \n    var httpServiceProxyFactory =  \n            HttpServiceProxyFactory.builder(forClient(webClient)).build();  \n  \n    return httpServiceProxyFactory.createClient(BitcoinPriceIndexClient.class);  \n}\n</code></pre>\n"},{"tags":["java","mysql","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"score":0,"creation_date":1678348133,"post_id":75681683,"comment_id":133515616,"body_markdown":"It looks like this might be a duplicate, there are lots of similar questions like https://stackoverflow.com/questions/28616569/error-creating-bean-with-name-springsecurityfilterchain, have you tried here?","body":"It looks like this might be a duplicate, there are lots of similar questions like <a href=\"https://stackoverflow.com/questions/28616569/error-creating-bean-with-name-springsecurityfilterchain\" title=\"error creating bean with name springsecurityfilterchain\">stackoverflow.com/questions/28616569/&hellip;</a>, have you tried here?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1678349880,"post_id":75681683,"comment_id":133516013,"body_markdown":"This code wouldn&#39;t even work with Spring Boot 3. So the dependencies you show here aren&#39;t your real dependencies (Spring Boot 3, or rather Spring Security 6, doesn&#39;t even include the `WebSecurityConfigurerAdapter`).","body":"This code wouldn&#39;t even work with Spring Boot 3. So the dependencies you show here aren&#39;t your real dependencies (Spring Boot 3, or rather Spring Security 6, doesn&#39;t even include the <code>WebSecurityConfigurerAdapter</code>)."}],"answers":[{"comments":[{"owner":{"account_id":26347676,"reputation":31,"user_id":21357565,"display_name":"Zetta_11"},"score":0,"creation_date":1678355186,"post_id":75681917,"comment_id":133517493,"body_markdown":"Could you tell me more how to connect Security with my db and how to give allowed pages to different roles?","body":"Could you tell me more how to connect Security with my db and how to give allowed pages to different roles?"},{"owner":{"account_id":26482382,"reputation":239,"user_id":20121447,"display_name":"Julio C&#233;sar Estravis"},"score":0,"creation_date":1678369908,"post_id":75681917,"comment_id":133521826,"body_markdown":"I&#39;m afraid I haven&#39;t used that kind of configuration. In the website I mentioned there are a couple of code snippets that will help you, though","body":"I&#39;m afraid I haven&#39;t used that kind of configuration. In the website I mentioned there are a couple of code snippets that will help you, though"},{"owner":{"account_id":26347676,"reputation":31,"user_id":21357565,"display_name":"Zetta_11"},"score":0,"creation_date":1678378864,"post_id":75681917,"comment_id":133524930,"body_markdown":"Ok, but anyway thank you a lot!","body":"Ok, but anyway thank you a lot!"},{"owner":{"account_id":26482382,"reputation":239,"user_id":20121447,"display_name":"Julio C&#233;sar Estravis"},"score":0,"creation_date":1678437768,"post_id":75681917,"comment_id":133535797,"body_markdown":"I did a bit of research and tests and I coded the DB security @Bean for you to try (see the edits). I corrected the queries a bit. You only need to add the antMatchers.","body":"I did a bit of research and tests and I coded the DB security @Bean for you to try (see the edits). I corrected the queries a bit. You only need to add the antMatchers."}],"tags":[],"owner":{"account_id":26482382,"reputation":239,"user_id":20121447,"display_name":"Julio C&#233;sar Estravis"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678450622,"creation_date":1678349495,"answer_id":75681917,"question_id":75681683,"body_markdown":"I would suggest you tried the *current* approach to Spring Security which is not to extend the `WebSecurityConfigurerAdapter` anymore ([check out here][1]). You would have to:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class MySecurityConfig {\r\n    \r\n        public DataSource dataSource;\r\n\r\n    public MySecurityConfig(DataSource dataSource) {\r\n        this.dataSource = dataSource;\r\n    }\r\n\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder auth)\r\n            throws Exception {\r\n        auth.jdbcAuthentication()\r\n                .dataSource(dataSource)\r\n                .passwordEncoder(NoOpPasswordEncoder.getInstance())\r\n                .usersByUsernameQuery(&quot;select username, password, active  AS enabled from usr where username=?&quot;)\r\n                .authoritiesByUsernameQuery(&quot;select u.username, ur.roles AS authority from usr u inner join user_role ur on u.id = ur.user_id where u.username=?&quot;);\r\n    }\r\n    \r\n        //customize this @Bean with your configuration\r\n        @Bean\r\n        public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\r\n            return http\r\n                    .csrf().disable()\r\n                    .authorizeExchange(exchanges -&gt; exchanges\r\n                            .anyExchange().authenticated()\r\n                    )\r\n                    .httpBasic(withDefaults())\r\n                    .build();\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter","title":"Spring Boot error creating bean with name WebSecurityConfiguration","body":"<p>I would suggest you tried the <em>current</em> approach to Spring Security which is not to extend the <code>WebSecurityConfigurerAdapter</code> anymore (<a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">check out here</a>). You would have to:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class MySecurityConfig {\n\n    public DataSource dataSource;\n\npublic MySecurityConfig(DataSource dataSource) {\n    this.dataSource = dataSource;\n}\n\n@Autowired\npublic void configureGlobal(AuthenticationManagerBuilder auth)\n        throws Exception {\n    auth.jdbcAuthentication()\n            .dataSource(dataSource)\n            .passwordEncoder(NoOpPasswordEncoder.getInstance())\n            .usersByUsernameQuery(&quot;select username, password, active  AS enabled from usr where username=?&quot;)\n            .authoritiesByUsernameQuery(&quot;select u.username, ur.roles AS authority from usr u inner join user_role ur on u.id = ur.user_id where u.username=?&quot;);\n}\n\n    //customize this @Bean with your configuration\n    @Bean\n    public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\n        return http\n                .csrf().disable()\n                .authorizeExchange(exchanges -&gt; exchanges\n                        .anyExchange().authenticated()\n                )\n                .httpBasic(withDefaults())\n                .build();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":26347676,"reputation":31,"user_id":21357565,"display_name":"Zetta_11"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1600,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75681917,"answer_count":1,"score":1,"last_activity_date":1679932234,"creation_date":1678347836,"question_id":75681683,"body_markdown":"I&#39;m trying to write a site in Spring Boot and ran into a problem when adding Spring Security to the project.\r\n\r\nConstantly throws this error:\r\n\r\n&gt;Error creating bean with name &#39;org.springframework.security.config.annotation.we b.configuration.WebSecurityConfiguration&#39;:  \r\nUnsatisfied dependency expressed through method &#39;setFilterChains&#39; parameter 0:  \r\nError creating bean with name &#39;defaultSecurityFilterChain&#39; defined in class path resource\r\n\r\nPOM: \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.klimmenkov.spring.hibernate&lt;/groupId&gt;\r\n    &lt;artifactId&gt;CourseWork&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;CourseWork&lt;/name&gt;\r\n    &lt;description&gt;TEST&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n \r\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n \r\n \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n \r\n    &lt;build&gt;\r\n \r\n    &lt;/build&gt;\r\n \r\n&lt;/project&gt;\r\n```\r\n\r\nConfig file:\r\n\r\n```\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.crypto.password.NoOpPasswordEncoder;\r\n \r\nimport javax.sql.DataSource;\r\n \r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n \r\n    @Autowired\r\n    private DataSource dataSource;\r\n \r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/registration&quot;, &quot;/home&quot;).permitAll()\r\n                    .anyRequest().authenticated()\r\n                .and()\r\n                    .formLogin()\r\n                    .loginPage(&quot;/login&quot;)\r\n                    .permitAll()\r\n                .and()\r\n                    .logout()\r\n                    .permitAll();\r\n    }\r\n \r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.jdbcAuthentication()\r\n                .dataSource(dataSource)\r\n                .passwordEncoder(NoOpPasswordEncoder.getInstance())\r\n                .usersByUsernameQuery(&quot;select username, password, active from usr where username=?&quot;)\r\n                .authoritiesByUsernameQuery(&quot;select u.username, ur.roles from usr u inner join user_role ur on u.id = ur.user_id where u.username=?&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI tried to change the version of the dependencies in the POM file, but nothing helped =(","title":"Spring Boot error creating bean with name WebSecurityConfiguration","body":"<p>I'm trying to write a site in Spring Boot and ran into a problem when adding Spring Security to the project.</p>\n<p>Constantly throws this error:</p>\n<blockquote>\n<p>Error creating bean with name 'org.springframework.security.config.annotation.we b.configuration.WebSecurityConfiguration':<br />\nUnsatisfied dependency expressed through method 'setFilterChains' parameter 0:<br />\nError creating bean with name 'defaultSecurityFilterChain' defined in class path resource</p>\n</blockquote>\n<p>POM:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.klimmenkov.spring.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;CourseWork&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;CourseWork&lt;/name&gt;\n    &lt;description&gt;TEST&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n \n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n \n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n \n \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n \n    &lt;build&gt;\n \n    &lt;/build&gt;\n \n&lt;/project&gt;\n</code></pre>\n<p>Config file:</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.crypto.password.NoOpPasswordEncoder;\n \nimport javax.sql.DataSource;\n \n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n \n    @Autowired\n    private DataSource dataSource;\n \n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                    .authorizeRequests()\n                    .antMatchers(&quot;/registration&quot;, &quot;/home&quot;).permitAll()\n                    .anyRequest().authenticated()\n                .and()\n                    .formLogin()\n                    .loginPage(&quot;/login&quot;)\n                    .permitAll()\n                .and()\n                    .logout()\n                    .permitAll();\n    }\n \n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.jdbcAuthentication()\n                .dataSource(dataSource)\n                .passwordEncoder(NoOpPasswordEncoder.getInstance())\n                .usersByUsernameQuery(&quot;select username, password, active from usr where username=?&quot;)\n                .authoritiesByUsernameQuery(&quot;select u.username, ur.roles from usr u inner join user_role ur on u.id = ur.user_id where u.username=?&quot;);\n    }\n}\n</code></pre>\n<p>I tried to change the version of the dependencies in the POM file, but nothing helped =(</p>\n"},{"tags":["java","android","android-emulator"],"comments":[{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":1,"creation_date":1677853045,"post_id":75628155,"comment_id":133424264,"body_markdown":"Could it be this? https://developer.android.com/about/versions/13/behavior-changes-13#granular-media-permissions &quot;Granular media permissions&quot;","body":"Could it be this? <a href=\"https://developer.android.com/about/versions/13/behavior-changes-13#granular-media-permissions\" rel=\"nofollow noreferrer\">developer.android.com/about/versions/13/&hellip;</a> &quot;Granular media permissions&quot;"},{"owner":{"account_id":11686705,"reputation":904,"user_id":8556269,"display_name":"SDIDSA"},"score":1,"creation_date":1677853311,"post_id":75628155,"comment_id":133424360,"body_markdown":"OH SHUCKS, I scanned through that page multiple times thinking it was &quot;optional&quot;, just now I noticed the use of the word &quot;must&quot; : ** you must request one or more of the following granular media permissions instead of the READ_EXTERNAL_STORAGE permission**","body":"OH SHUCKS, I scanned through that page multiple times thinking it was &quot;optional&quot;, just now I noticed the use of the word &quot;must&quot; : ** you must request one or more of the following granular media permissions instead of the READ_EXTERNAL_STORAGE permission**"},{"owner":{"account_id":11686705,"reputation":904,"user_id":8556269,"display_name":"SDIDSA"},"score":1,"creation_date":1677853466,"post_id":75628155,"comment_id":133424408,"body_markdown":"yes that was the issue, I just tried READ_MEDIA_IMAGES and the request shows properly and the handler is executed, thank you so much.\nconsider writing an answer and I&#39;ll mark it accepted","body":"yes that was the issue, I just tried READ_MEDIA_IMAGES and the request shows properly and the handler is executed, thank you so much. consider writing an answer and I&#39;ll mark it accepted"}],"answers":[{"tags":[],"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1679932220,"creation_date":1677862798,"answer_id":75629907,"question_id":75628155,"body_markdown":"As of Android 13 and above, apps that request `READ_EXTERNAL_STORAGE` must instead request one or more of the following more granular permissions:\r\n\r\n* `READ_MEDIA_IMAGES`\r\n* `READ_MEDIA_VIDEO`\r\n* `READ_MEDIA_AUDIO`\r\n\r\nReference: https://developer.android.com/about/versions/13/behavior-changes-13#granular-media-permissions","title":"READ_EXTERNAL_STORAGE Permission request not showing on emulator","body":"<p>As of Android 13 and above, apps that request <code>READ_EXTERNAL_STORAGE</code> must instead request one or more of the following more granular permissions:</p>\n<ul>\n<li><code>READ_MEDIA_IMAGES</code></li>\n<li><code>READ_MEDIA_VIDEO</code></li>\n<li><code>READ_MEDIA_AUDIO</code></li>\n</ul>\n<p>Reference: <a href=\"https://developer.android.com/about/versions/13/behavior-changes-13#granular-media-permissions\" rel=\"nofollow noreferrer\">https://developer.android.com/about/versions/13/behavior-changes-13#granular-media-permissions</a></p>\n"}],"owner":{"account_id":11686705,"reputation":904,"user_id":8556269,"display_name":"SDIDSA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":762,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75629907,"answer_count":1,"score":3,"last_activity_date":1679932220,"creation_date":1677852688,"question_id":75628155,"body_markdown":"I&#39;m trying to set up a way to register permission result handlers after the activity is initialized, by creating a `Map&lt;Integer, Runnable&gt;` to hold the handlers, when I request permission I use a randomly generated code and save a runnable to the Map of codes/handlers.\r\n\r\nHere&#39;s what I have so far in my activity class\r\n\r\n    private final HashMap&lt;Integer, Runnable&gt; onPermission = new HashMap&lt;&gt;();\r\n\r\n    //i call this from other classes to ask for a permission and register a handler\r\n    public void requestPermission(Runnable onGranted, String...permissions) {\r\n        int code = Permissions.permissionRequestCode();\r\n        onPermission.put(code, onGranted);\r\n        requestPermissions(permissions, code);\r\n    }\r\n\r\n    //overriding this method to check if the Map has a handler for the granted request\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        Runnable handler = onPermission.get(requestCode);\r\n        if (handler != null &amp;&amp; isGranted(grantResults)) {\r\n            handler.run();\r\n            onPermission.remove(requestCode);\r\n        }\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    }\r\n\r\n    //utility method to check if all the requested permissions are granted\r\n    private boolean isGranted(int[] results) {\r\n        for (int i : results) {\r\n            if (i != PackageManager.PERMISSION_GRANTED) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\nAnd here is an example of how this can be used, where `owner` is an my Activity instance :\r\n\r\n    private void readImages() {\r\n        if (ContextCompat.checkSelfPermission(owner, Manifest.permission.READ_EXTERNAL_STORAGE)\r\n                == PackageManager.PERMISSION_GRANTED) {\r\n            loadImages();\r\n        } else {\r\n            owner.requestPermission(this::loadImages, Manifest.permission.READ_EXTERNAL_STORAGE);\r\n        }\r\n    }\r\n\r\nNow running this on an actual device (Android 12, API 31), works exactly like I would expect (the request shows, and the handler is executed when the permission is granted), however on the emulator (Android 13, API 33), nothing shows when the permission is requested, and it remains &quot;not granted&quot;, the permission doesn&#39;t even show in the &quot;App info&quot; even though it&#39;s included in the manifest.\r\n\r\nReal device : \r\n\r\n[![screenshot from the real device][1]][1]\r\n\r\nEmulator : \r\n\r\n[![screenshot from the emulator][2]][2]\r\n\r\nMy manifest :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;Mesa&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.Mesa.NoActionBar&quot;\r\n            android:usesCleartextTraffic=&quot;true&quot;&gt;\r\n            &lt;activity\r\n                android:name=&quot;.app.Mesa&quot;\r\n                android:configChanges=&quot;uiMode|screenSize|colorMode&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:theme=&quot;@style/Theme.Mesa.NoActionBar&quot;\r\n                android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nMy build.gradle :\r\n\r\n    android {\r\n        compileSdk 33\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;org.luke.mesa&quot;\r\n            minSdk 24\r\n            targetSdk 33\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n            proguardFiles &#39;proguard-rules.pro&#39;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled true\r\n            }\r\n    \r\n            debug {\r\n                minifyEnabled false\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_11\r\n            targetCompatibility JavaVersion.VERSION_11\r\n            allprojects {\r\n                tasks.withType(JavaCompile){\r\n                    options.compilerArgs &lt;&lt;&quot;-Xlint:deprecation&quot;\r\n                }\r\n            }\r\n        }\r\n        buildFeatures {\r\n            viewBinding true\r\n            dataBinding true\r\n        }\r\n        packagingOptions {\r\n            resources {\r\n                merges += [&#39;META-INF/DEPENDENCIES&#39;]\r\n            }\r\n        }\r\n        namespace &#39;org.luke.mesa&#39;\r\n        dependenciesInfo {\r\n            includeInApk true\r\n            includeInBundle true\r\n        }\r\n        buildToolsVersion &#39;33.0.0&#39;\r\n    }\r\n\r\npossible duplicates which didn&#39;t solve my problem : \r\n\r\n- [No permissions granted on Android emulator][3]\r\n- [Permissions Dialog not showing in Android 11][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MU1Yd.jpg\r\n  [2]: https://i.stack.imgur.com/a2yhD.png\r\n  [3]: https://stackoverflow.com/questions/32213608/no-permissions-granted-on-android-emulator\r\n  [4]: https://stackoverflow.com/questions/69102394/permissions-dialog-not-showing-in-android-11","title":"READ_EXTERNAL_STORAGE Permission request not showing on emulator","body":"<p>I'm trying to set up a way to register permission result handlers after the activity is initialized, by creating a <code>Map&lt;Integer, Runnable&gt;</code> to hold the handlers, when I request permission I use a randomly generated code and save a runnable to the Map of codes/handlers.</p>\n<p>Here's what I have so far in my activity class</p>\n<pre><code>private final HashMap&lt;Integer, Runnable&gt; onPermission = new HashMap&lt;&gt;();\n\n//i call this from other classes to ask for a permission and register a handler\npublic void requestPermission(Runnable onGranted, String...permissions) {\n    int code = Permissions.permissionRequestCode();\n    onPermission.put(code, onGranted);\n    requestPermissions(permissions, code);\n}\n\n//overriding this method to check if the Map has a handler for the granted request\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    Runnable handler = onPermission.get(requestCode);\n    if (handler != null &amp;&amp; isGranted(grantResults)) {\n        handler.run();\n        onPermission.remove(requestCode);\n    }\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n}\n\n//utility method to check if all the requested permissions are granted\nprivate boolean isGranted(int[] results) {\n    for (int i : results) {\n        if (i != PackageManager.PERMISSION_GRANTED) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n<p>And here is an example of how this can be used, where <code>owner</code> is an my Activity instance :</p>\n<pre><code>private void readImages() {\n    if (ContextCompat.checkSelfPermission(owner, Manifest.permission.READ_EXTERNAL_STORAGE)\n            == PackageManager.PERMISSION_GRANTED) {\n        loadImages();\n    } else {\n        owner.requestPermission(this::loadImages, Manifest.permission.READ_EXTERNAL_STORAGE);\n    }\n}\n</code></pre>\n<p>Now running this on an actual device (Android 12, API 31), works exactly like I would expect (the request shows, and the handler is executed when the permission is granted), however on the emulator (Android 13, API 33), nothing shows when the permission is requested, and it remains &quot;not granted&quot;, the permission doesn't even show in the &quot;App info&quot; even though it's included in the manifest.</p>\n<p>Real device :</p>\n<p><a href=\"https://i.stack.imgur.com/MU1Yd.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MU1Yd.jpg\" alt=\"screenshot from the real device\" /></a></p>\n<p>Emulator :</p>\n<p><a href=\"https://i.stack.imgur.com/a2yhD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a2yhD.png\" alt=\"screenshot from the emulator\" /></a></p>\n<p>My manifest :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;Mesa&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Mesa.NoActionBar&quot;\n        android:usesCleartextTraffic=&quot;true&quot;&gt;\n        &lt;activity\n            android:name=&quot;.app.Mesa&quot;\n            android:configChanges=&quot;uiMode|screenSize|colorMode&quot;\n            android:exported=&quot;true&quot;\n            android:theme=&quot;@style/Theme.Mesa.NoActionBar&quot;\n            android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>My build.gradle :</p>\n<pre><code>android {\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;org.luke.mesa&quot;\n        minSdk 24\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        proguardFiles 'proguard-rules.pro'\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled true\n        }\n\n        debug {\n            minifyEnabled false\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n        allprojects {\n            tasks.withType(JavaCompile){\n                options.compilerArgs &lt;&lt;&quot;-Xlint:deprecation&quot;\n            }\n        }\n    }\n    buildFeatures {\n        viewBinding true\n        dataBinding true\n    }\n    packagingOptions {\n        resources {\n            merges += ['META-INF/DEPENDENCIES']\n        }\n    }\n    namespace 'org.luke.mesa'\n    dependenciesInfo {\n        includeInApk true\n        includeInBundle true\n    }\n    buildToolsVersion '33.0.0'\n}\n</code></pre>\n<p>possible duplicates which didn't solve my problem :</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/32213608/no-permissions-granted-on-android-emulator\">No permissions granted on Android emulator</a></li>\n<li><a href=\"https://stackoverflow.com/questions/69102394/permissions-dialog-not-showing-in-android-11\">Permissions Dialog not showing in Android 11</a></li>\n</ul>\n"},{"tags":["java","multithreading","concurrency","java.util.concurrent","concurrenthashmap"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1405969928,"post_id":24872732,"comment_id":38630977,"body_markdown":"First, there&#39;s only ~3k lines of code.","body":"First, there&#39;s only ~3k lines of code."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1405970047,"post_id":24872732,"comment_id":38631042,"body_markdown":"Besides which, since when is 6K lines of code &quot;enormous&quot;?","body":"Besides which, since when is 6K lines of code &quot;enormous&quot;?"},{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1405970144,"post_id":24872732,"comment_id":38631106,"body_markdown":"@HotLicks 6KLOC is a pretty monstrous single class. CHM gets some slack for including a bunch of nested classes.","body":"@HotLicks 6KLOC is a pretty monstrous single class. CHM gets some slack for including a bunch of nested classes."},{"owner":{"account_id":3089665,"reputation":31308,"user_id":2616073,"display_name":"dkatzel"},"score":0,"creation_date":1405970289,"post_id":24872732,"comment_id":38631186,"body_markdown":"@DaveNewton I think the OP was also counting comments + javadoc in the 6k total","body":"@DaveNewton I think the OP was also counting comments + javadoc in the 6k total"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1405971042,"post_id":24872732,"comment_id":38631584,"body_markdown":"@dkatzel Obviously, but they don&#39;t add to the complexity of the code. It&#39;s not 6KLoC.","body":"@dkatzel Obviously, but they don&#39;t add to the complexity of the code. It&#39;s not 6KLoC."},{"owner":{"account_id":2081572,"reputation":2454,"user_id":1853458,"accept_rate":85,"display_name":"veritas"},"score":0,"creation_date":1405973050,"post_id":24872732,"comment_id":38632677,"body_markdown":"@DaveNewton I think i&#39;ll edit my question for better language.","body":"@DaveNewton I think i&#39;ll edit my question for better language."},{"owner":{"account_id":2081572,"reputation":2454,"user_id":1853458,"accept_rate":85,"display_name":"veritas"},"score":0,"creation_date":1405973345,"post_id":24872732,"comment_id":38632814,"body_markdown":"@DaveNewton hi Dave i have edited my question focusing on  the main issue i wanted to ask. Thanks for pointing out why my question was unconstructive","body":"@DaveNewton hi Dave i have edited my question focusing on  the main issue i wanted to ask. Thanks for pointing out why my question was unconstructive"},{"owner":{"account_id":2081572,"reputation":2454,"user_id":1853458,"accept_rate":85,"display_name":"veritas"},"score":0,"creation_date":1405974858,"post_id":24872732,"comment_id":38633606,"body_markdown":"@Todd if you think if the edited question is now constructive and not too broad please vote to reopen it. Or suggest me to make the question better or anyother place where i can get my answer. thanks all","body":"@Todd if you think if the edited question is now constructive and not too broad please vote to reopen it. Or suggest me to make the question better or anyother place where i can get my answer. thanks all"},{"owner":{"account_id":1297739,"reputation":12185,"user_id":1248365,"accept_rate":62,"display_name":"Adi Inbar"},"score":0,"creation_date":1405975689,"post_id":24872732,"comment_id":38634015,"body_markdown":"It&#39;s still &quot;too broad&quot; as the term is used here. Stack Overflow is [a Q&amp;A resource, not a help forum](http://meta.stackoverflow.com/a/92115/228805). It&#39;s for specific questions about coding that can have definite correct answers. A question pointing to some code and asking in general terms for help understanding what it does or how it works is off-topic, as are requests for references, tutorials, or feature comparisons between products. You need to identify a specific question about the code--what part don&#39;t you understand, and what specifically don&#39;t you understand about it?","body":"It&#39;s still &quot;too broad&quot; as the term is used here. Stack Overflow is <a href=\"http://meta.stackoverflow.com/a/92115/228805\">a Q&amp;A resource, not a help forum</a>. It&#39;s for specific questions about coding that can have definite correct answers. A question pointing to some code and asking in general terms for help understanding what it does or how it works is off-topic, as are requests for references, tutorials, or feature comparisons between products. You need to identify a specific question about the code--what part don&#39;t you understand, and what specifically don&#39;t you understand about it?"},{"owner":{"account_id":1297739,"reputation":12185,"user_id":1248365,"accept_rate":62,"display_name":"Adi Inbar"},"score":0,"creation_date":1405975735,"post_id":24872732,"comment_id":38634039,"body_markdown":"Also, ***include all relevant information in the question*** rather than linking. Please read the following advice on asking questions: [Writing the perfect question](http://goo.gl/1tBMnR).","body":"Also, <b><i>include all relevant information in the question</i></b> rather than linking. Please read the following advice on asking questions: <a href=\"http://goo.gl/1tBMnR\" rel=\"nofollow noreferrer\">Writing the perfect question</a>."},{"owner":{"account_id":2081572,"reputation":2454,"user_id":1853458,"accept_rate":85,"display_name":"veritas"},"score":0,"creation_date":1405976821,"post_id":24872732,"comment_id":38634660,"body_markdown":"@AdiInbar thanks. I have narrowed down the question to be very specific. If you think if its not to broad. Please vote to reopen","body":"@AdiInbar thanks. I have narrowed down the question to be very specific. If you think if its not to broad. Please vote to reopen"},{"owner":{"account_id":2081572,"reputation":2454,"user_id":1853458,"accept_rate":85,"display_name":"veritas"},"score":0,"creation_date":1405976876,"post_id":24872732,"comment_id":38634683,"body_markdown":"@Eran Hi i edited my question to very specific, if you think its fine please vote for reopen","body":"@Eran Hi i edited my question to very specific, if you think its fine please vote for reopen"},{"owner":{"account_id":2081572,"reputation":2454,"user_id":1853458,"accept_rate":85,"display_name":"veritas"},"score":0,"creation_date":1405976922,"post_id":24872732,"comment_id":38634703,"body_markdown":"@DonBranson Hi i have edited my question to very specific, if you think its fine please vote for reopen","body":"@DonBranson Hi i have edited my question to very specific, if you think its fine please vote for reopen"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1408704392,"post_id":24872732,"comment_id":39700339,"body_markdown":"See http://openjdk.java.net/jeps/180 ‚Äú*In the case of high hash collisions, this will improve worst-case performance from O(n) to O(log n).*‚Äù","body":"See <a href=\"http://openjdk.java.net/jeps/180\" rel=\"nofollow noreferrer\">openjdk.java.net/jeps/180</a> ‚Äú<i>In the case of high hash collisions, this will improve worst-case performance from O(n) to O(log n).</i>‚Äù"},{"owner":{"account_id":2081572,"reputation":2454,"user_id":1853458,"accept_rate":85,"display_name":"veritas"},"score":0,"creation_date":1408815114,"post_id":24872732,"comment_id":39737325,"body_markdown":"@Holger thanks for the link its valuable","body":"@Holger thanks for the link its valuable"}],"answers":[{"comments":[{"owner":{"account_id":2081572,"reputation":2454,"user_id":1853458,"accept_rate":85,"display_name":"veritas"},"score":0,"creation_date":1405973944,"post_id":24872895,"comment_id":38633140,"body_markdown":"thanks i was looking for this kind of response only. Implementation is important for me as am writing some niche data structures to handle concurrency but for very specific requirements.  I tried to take good things various HasHMap implementations and various trade off. i dont&#39; need all the functionality of CHMv8 just some.. for example computeIfAbsent. Also wanted to know  how they take care of resizing?","body":"thanks i was looking for this kind of response only. Implementation is important for me as am writing some niche data structures to handle concurrency but for very specific requirements.  I tried to take good things various HasHMap implementations and various trade off. i dont&#39; need all the functionality of CHMv8 just some.. for example computeIfAbsent. Also wanted to know  how they take care of resizing?"},{"owner":{"account_id":198768,"reputation":1124,"user_id":443633,"display_name":"michaelok"},"score":0,"creation_date":1461689949,"post_id":24872895,"comment_id":61309382,"body_markdown":"&lt;i&gt;I think this also shows why you usually shouldn&#39;t care about implementation details on how a class you don&#39;t have to maintain works&lt;/i&gt; Until you run into problems, of course.","body":"&lt;i&gt;I think this also shows why you usually shouldn&#39;t care about implementation details on how a class you don&#39;t have to maintain works&lt;/i&gt; Until you run into problems, of course."}],"tags":[],"owner":{"account_id":3089665,"reputation":31308,"user_id":2616073,"display_name":"dkatzel"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1405970725,"creation_date":1405970045,"answer_id":24872895,"question_id":24872732,"body_markdown":"The main changes are to add `ConcurrentHashMap` specific implementations of the new Java 8 default `Map` methods with better concurrent implementations that rely on the internal details.  These changes required lots of new inner classes which bloat the .java file\r\n\r\nFor example, some of these methods include:\r\n\r\n[compute(K key, BiFunction&lt;? super K,? super V,? extends V&gt; remappingFunction)][1]\r\n\r\n[forEach(BiConsumer&lt;? super K,? super V&gt; action)][2]\r\n\r\n[merge(K key, V value, BiFunction&lt;? super V,? super V,? extends V&gt; remappingFunction)][3]\r\n\r\nJust to name a few.\r\n\r\nI think this also shows why you usually shouldn&#39;t care about implementation details on how a class you don&#39;t have to maintain works.  As long as the class follows the contract laid out in its javadoc, you should be agnostic of how it works since the implementation details can change in the future.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/Map.html#compute-K-java.util.function.BiFunction-\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/util/Map.html#forEach-java.util.function.BiConsumer-\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/util/Map.html","title":"ConcurrentHashMap jdk 8 Uses TreeNodes instead of List .. Why?","body":"<p>The main changes are to add <code>ConcurrentHashMap</code> specific implementations of the new Java 8 default <code>Map</code> methods with better concurrent implementations that rely on the internal details.  These changes required lots of new inner classes which bloat the .java file</p>\n\n<p>For example, some of these methods include:</p>\n\n<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Map.html#compute-K-java.util.function.BiFunction-\" rel=\"nofollow\">compute(K key, BiFunction remappingFunction)</a></p>\n\n<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Map.html#forEach-java.util.function.BiConsumer-\" rel=\"nofollow\">forEach(BiConsumer action)</a></p>\n\n<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow\">merge(K key, V value, BiFunction remappingFunction)</a></p>\n\n<p>Just to name a few.</p>\n\n<p>I think this also shows why you usually shouldn't care about implementation details on how a class you don't have to maintain works.  As long as the class follows the contract laid out in its javadoc, you should be agnostic of how it works since the implementation details can change in the future.</p>\n"}],"owner":{"account_id":2081572,"reputation":2454,"user_id":1853458,"accept_rate":85,"display_name":"veritas"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3416,"favorite_count":0,"down_vote_count":4,"up_vote_count":4,"accepted_answer_id":24872895,"answer_count":1,"score":0,"last_activity_date":1679932151,"creation_date":1405969522,"question_id":24872732,"body_markdown":"Hi i know the workings of `ConcurrentHashMap` before JDK 8. \r\nI also understood the code: it was pretty modular and not very hard to understand. \r\n\r\nThe code of `ConcurrentHashMap` in JDK 8 has changed a lot from its previous implementations.\r\n\r\nBecause this question was classified as too broad I will now try to be very specific.\r\n\r\nCHMv8 uses a TreeBin (a variant of RedBlackTree) for buckets rather than a linked list.\r\n\r\nSo my question what is the main advantage of using TreeBin over a linked list?\r\n\r\n[Source code here](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/util/concurrent/ConcurrentHashMap.java)\r\n","title":"ConcurrentHashMap jdk 8 Uses TreeNodes instead of List .. Why?","body":"<p>Hi i know the workings of <code>ConcurrentHashMap</code> before JDK 8. \nI also understood the code: it was pretty modular and not very hard to understand. </p>\n\n<p>The code of <code>ConcurrentHashMap</code> in JDK 8 has changed a lot from its previous implementations.</p>\n\n<p>Because this question was classified as too broad I will now try to be very specific.</p>\n\n<p>CHMv8 uses a TreeBin (a variant of RedBlackTree) for buckets rather than a linked list.</p>\n\n<p>So my question what is the main advantage of using TreeBin over a linked list?</p>\n\n<p><a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/util/concurrent/ConcurrentHashMap.java\" rel=\"nofollow noreferrer\">Source code here</a></p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679906855,"post_id":75853414,"comment_id":133798413,"body_markdown":"The class names in the stacktrace suggest you&#39;re using MySQL Connector/J version 5.1.x, not 8.0.x. Make sure you don&#39;t have some older version pulled in, or on the class path.","body":"The class names in the stacktrace suggest you&#39;re using MySQL Connector/J version 5.1.x, not 8.0.x. Make sure you don&#39;t have some older version pulled in, or on the class path."},{"owner":{"account_id":28134112,"reputation":1,"user_id":21498134,"display_name":"Kim"},"score":1,"creation_date":1679919675,"post_id":75853414,"comment_id":133801670,"body_markdown":"Thank you for reply. I found a MySQL Connector/J version 5.1.x in tomcat/lib, and after removing it, the problem was resolved.","body":"Thank you for reply. I found a MySQL Connector/J version 5.1.x in tomcat/lib, and after removing it, the problem was resolved."}],"owner":{"account_id":28134112,"reputation":1,"user_id":21498134,"display_name":"Kim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679931950,"answer_count":0,"score":0,"last_activity_date":1679931971,"creation_date":1679904293,"question_id":75853414,"body_markdown":"I&#39;m practicing create an SSM project and trying to connect to MySQL 8.0.32, but I&#39;m encountering some problems.\r\n\r\npom.xml\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.3.7.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.3.7.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.3.7.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.3.7.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.mybatis&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mybatis&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.4.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mybatis-generator-core&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.3.5&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.mybatis&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.3.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.mchange&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;c3p0&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.9.5.5&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;8.0.32&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jstl-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5&lt;/version&gt;\r\n\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.12&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\napplicationContext.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans ...&gt;\r\n\t\r\n\t&lt;context:component-scan base-package=&quot;com.example&quot;&gt;\r\n\t\t&lt;context:exclude-filter type=&quot;annotation&quot; expression=&quot;org.springframework.stereotype.Controller&quot;/&gt;\r\n\t&lt;/context:component-scan&gt;\r\n\r\n\t&lt;context:property-placeholder location=&quot;classpath:dbconfig.properties&quot;/&gt;\r\n\t&lt;bean id=&quot;pooledDataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;\r\n\t\t&lt;property name=&quot;jdbcUrl&quot; value=&quot;${jdbc.jdbcUrl}&quot;&gt;&lt;/property&gt;\r\n\t\t&lt;property name=&quot;driverClass&quot; value=&quot;${jdbc.driverClass}&quot;&gt;&lt;/property&gt;\r\n\t\t&lt;property name=&quot;user&quot; value=&quot;${jdbc.user}&quot;&gt;&lt;/property&gt;\r\n\t\t&lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot;&gt;&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;pooledDataSource&quot;&gt;&lt;/property&gt;\r\n\r\n\t\t&lt;property name=&quot;configLocation&quot; value=&quot;classpath:mybatis-config.xml&quot;&gt;&lt;/property&gt;\r\n\t\t&lt;property name=&quot;mapperLocations&quot; value=&quot;classpath:mapper/*.xml&quot;&gt;&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;\r\n\t\t&lt;property name=&quot;basePackage&quot; value=&quot;com.example.crud.dao&quot;&gt;&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;pooledDataSource&quot;&gt;&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\t\r\n\t&lt;aop:config&gt;\r\n\t\t&lt;aop:pointcut expression=&quot;execution(* com.example.crud.service..*(..))&quot; id=&quot;txPoint&quot;/&gt;\r\n\t\t&lt;aop:advisor advice-ref=&quot;txAdvice&quot; pointcut-ref=&quot;txPoint&quot;/&gt;\r\n\t&lt;/aop:config&gt;\r\n\r\n\t&lt;tx:advice id=&quot;txAdvice&quot; transaction-manager=&quot;transactionManager&quot;&gt;\r\n\t\t&lt;tx:attributes&gt;\r\n\t\t\t&lt;tx:method name=&quot;*&quot;/&gt;\r\n\t\t\t&lt;tx:method name=&quot;get*&quot; read-only=&quot;true&quot;/&gt;\r\n\t\t&lt;/tx:attributes&gt;\r\n\t&lt;/tx:advice&gt;\r\n\t\r\n&lt;/beans&gt;\r\n```\r\n\r\ndbconfig.properties\r\n\r\n```none\r\njdbc.jdbcUrl=jdbc:mysql://localhost:3306/DemoSSM?serverTimezone=GMT%2B8&amp;useSSL=false&amp;useUnicode=true&amp;characterEncoding=utf-8\r\njdbc.driverClass=com.mysql.cj.jdbc.Driver\r\njdbc.user=root\r\njdbc.password=system\r\n```\r\n\r\nCode\r\n\r\n```java\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n@ContextConfiguration(locations = {&quot;classpath:applicationContext.xml&quot;})\r\npublic class MapperTest {\r\n\t\r\n\t@Autowired\r\n\tDepartmentMapper departmentMapper;\r\n\t\r\n\t@Test\r\n\tpublic void testCRUD() {\r\n\r\n\t\tSystem.out.println(departmentMapper);\r\n\t\tDepartment vo = new Department();\r\n\t\tvo.setDeptName(&quot;RD&quot;);\r\n\t\tdepartmentMapper.insertSelective(vo);\r\n\t}\r\n}\r\n```\r\n\r\nthrows this:\r\n\r\n```none\r\ncom.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Could not create connection to database server.\r\n\tat sun.reflect.GeneratedConstructorAccessor16.newInstance(Unknown Source)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:377)\r\n\tat com.mysql.jdbc.Util.getInstance(Util.java:360)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:956)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:924)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:870)\r\n\tat com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2311)\r\n\tat com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2064)\r\n\tat com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:790)\r\n\tat com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:44)\r\n\tat sun.reflect.GeneratedConstructorAccessor9.newInstance(Unknown Source)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:377)\r\n\tat com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:395)\r\n\tat com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:325)\r\n\tat com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:175)\r\n\tat com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:220)\r\n\tat com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:206)\r\n\tat com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:203)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1176)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool.doAcquireAndDecrementPendingAcquiresWithinLockOnSuccess(BasicResourcePool.java:1163)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool.access$700(BasicResourcePool.java:44)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask.run(BasicResourcePool.java:1908)\r\n\tat com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:696)\r\nCaused by: java.lang.NullPointerException\r\n\tat com.mysql.jdbc.ConnectionImpl.getServerCharset(ConnectionImpl.java:2983)\r\n\tat com.mysql.jdbc.MysqlIO.sendConnectionAttributes(MysqlIO.java:1873)\r\n\tat com.mysql.jdbc.MysqlIO.proceedHandshakeWithPluggableAuthentication(MysqlIO.java:1802)\r\n\tat com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1206)\r\n\tat com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2234)\r\n\tat com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2265)\r\n\t... 18 more\r\n```\r\n\r\nI successfully generated files using MyBatis-Generator.\r\n\r\nI have upgraded the mysql-connector-j to 8.0.32, but the problem still persists.","title":"Can&#39;t connect to mysql 8.0.32 com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException","body":"<p>I'm practicing create an SSM project and trying to connect to MySQL 8.0.32, but I'm encountering some problems.</p>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;4.3.7.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;4.3.7.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n        &lt;version&gt;4.3.7.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n        &lt;version&gt;4.3.7.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n        &lt;artifactId&gt;mybatis&lt;/artifactId&gt;\n        &lt;version&gt;3.4.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;\n        &lt;artifactId&gt;mybatis-generator-core&lt;/artifactId&gt;\n        &lt;version&gt;1.3.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n        &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;\n        &lt;version&gt;1.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mchange&lt;/groupId&gt;\n        &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\n        &lt;version&gt;0.9.5.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n        &lt;version&gt;8.0.32&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl-api&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;2.5&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.12&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>applicationContext.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans ...&gt;\n    \n    &lt;context:component-scan base-package=&quot;com.example&quot;&gt;\n        &lt;context:exclude-filter type=&quot;annotation&quot; expression=&quot;org.springframework.stereotype.Controller&quot;/&gt;\n    &lt;/context:component-scan&gt;\n\n    &lt;context:property-placeholder location=&quot;classpath:dbconfig.properties&quot;/&gt;\n    &lt;bean id=&quot;pooledDataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;\n        &lt;property name=&quot;jdbcUrl&quot; value=&quot;${jdbc.jdbcUrl}&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;driverClass&quot; value=&quot;${jdbc.driverClass}&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;user&quot; value=&quot;${jdbc.user}&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot;&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;pooledDataSource&quot;&gt;&lt;/property&gt;\n\n        &lt;property name=&quot;configLocation&quot; value=&quot;classpath:mybatis-config.xml&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;mapperLocations&quot; value=&quot;classpath:mapper/*.xml&quot;&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;\n        &lt;property name=&quot;basePackage&quot; value=&quot;com.example.crud.dao&quot;&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;pooledDataSource&quot;&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;aop:config&gt;\n        &lt;aop:pointcut expression=&quot;execution(* com.example.crud.service..*(..))&quot; id=&quot;txPoint&quot;/&gt;\n        &lt;aop:advisor advice-ref=&quot;txAdvice&quot; pointcut-ref=&quot;txPoint&quot;/&gt;\n    &lt;/aop:config&gt;\n\n    &lt;tx:advice id=&quot;txAdvice&quot; transaction-manager=&quot;transactionManager&quot;&gt;\n        &lt;tx:attributes&gt;\n            &lt;tx:method name=&quot;*&quot;/&gt;\n            &lt;tx:method name=&quot;get*&quot; read-only=&quot;true&quot;/&gt;\n        &lt;/tx:attributes&gt;\n    &lt;/tx:advice&gt;\n    \n&lt;/beans&gt;\n</code></pre>\n<p>dbconfig.properties</p>\n<pre class=\"lang-none prettyprint-override\"><code>jdbc.jdbcUrl=jdbc:mysql://localhost:3306/DemoSSM?serverTimezone=GMT%2B8&amp;useSSL=false&amp;useUnicode=true&amp;characterEncoding=utf-8\njdbc.driverClass=com.mysql.cj.jdbc.Driver\njdbc.user=root\njdbc.password=system\n</code></pre>\n<p>Code</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = {&quot;classpath:applicationContext.xml&quot;})\npublic class MapperTest {\n    \n    @Autowired\n    DepartmentMapper departmentMapper;\n    \n    @Test\n    public void testCRUD() {\n\n        System.out.println(departmentMapper);\n        Department vo = new Department();\n        vo.setDeptName(&quot;RD&quot;);\n        departmentMapper.insertSelective(vo);\n    }\n}\n</code></pre>\n<p>throws this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Could not create connection to database server.\n    at sun.reflect.GeneratedConstructorAccessor16.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:377)\n    at com.mysql.jdbc.Util.getInstance(Util.java:360)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:956)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:924)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:870)\n    at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2311)\n    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2064)\n    at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:790)\n    at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:44)\n    at sun.reflect.GeneratedConstructorAccessor9.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:377)\n    at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:395)\n    at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:325)\n    at com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:175)\n    at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:220)\n    at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:206)\n    at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:203)\n    at com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1176)\n    at com.mchange.v2.resourcepool.BasicResourcePool.doAcquireAndDecrementPendingAcquiresWithinLockOnSuccess(BasicResourcePool.java:1163)\n    at com.mchange.v2.resourcepool.BasicResourcePool.access$700(BasicResourcePool.java:44)\n    at com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask.run(BasicResourcePool.java:1908)\n    at com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:696)\nCaused by: java.lang.NullPointerException\n    at com.mysql.jdbc.ConnectionImpl.getServerCharset(ConnectionImpl.java:2983)\n    at com.mysql.jdbc.MysqlIO.sendConnectionAttributes(MysqlIO.java:1873)\n    at com.mysql.jdbc.MysqlIO.proceedHandshakeWithPluggableAuthentication(MysqlIO.java:1802)\n    at com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1206)\n    at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2234)\n    at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2265)\n    ... 18 more\n</code></pre>\n<p>I successfully generated files using MyBatis-Generator.</p>\n<p>I have upgraded the mysql-connector-j to 8.0.32, but the problem still persists.</p>\n"},{"tags":["java","flyway"],"answers":[{"tags":[],"owner":{"account_id":417733,"reputation":2685,"user_id":793896,"display_name":"Grant Fritchey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679931788,"creation_date":1679931788,"answer_id":75857732,"question_id":75857387,"body_markdown":"What you&#39;re looking for is the baseline command. This rolls up all the migrations so that only new migrations are used. [You can read about it here][1].\r\n\r\n\r\n  [1]: https://documentation.red-gate.com/fd/baseline-184127456.html","title":"How decrease flyway migration","body":"<p>What you're looking for is the baseline command. This rolls up all the migrations so that only new migrations are used. <a href=\"https://documentation.red-gate.com/fd/baseline-184127456.html\" rel=\"nofollow noreferrer\">You can read about it here</a>.</p>\n"}],"owner":{"account_id":2626463,"reputation":11,"user_id":2273352,"display_name":"petrovich_s"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679931788,"creation_date":1679929675,"question_id":75857387,"body_markdown":"I have more 200 migration of flyway at the moment on prod project. It&#39;s problem for my tests, because they run long time. Is there a right way for decrease count migration files? Maybe best way begin of blank page? Data is very critical \r\n\r\n I&#39;ve no idea at the moment","title":"How decrease flyway migration","body":"<p>I have more 200 migration of flyway at the moment on prod project. It's problem for my tests, because they run long time. Is there a right way for decrease count migration files? Maybe best way begin of blank page? Data is very critical</p>\n<p>I've no idea at the moment</p>\n"},{"tags":["java","spring","spring-security","oauth","spring-cloud-feign"],"answers":[{"tags":[],"owner":{"account_id":446461,"reputation":2991,"user_id":839518,"accept_rate":80,"display_name":"Vladimir Salin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1516300977,"creation_date":1516300977,"answer_id":48328234,"question_id":48024725,"body_markdown":"For the history, hope that&#39;d help someone like me struggling with that.\r\n\r\nI didn&#39;t find a better way than the initial one and made a custom `InternalOAuth2Details` to hold a token value obtained from Spring&#39;s OAuth services. Then, in the `FeignAccessTokenRelyInterceptor` I simply check if current details are `InternalOAuth2Details` and try to get a token value from it, as follows:\r\n\r\n    @Override\r\n    public void apply(RequestTemplate template) {\r\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n\r\n        if (auth != null){\r\n            String tokenValue = null;\r\n            if (auth.getDetails() instanceof OAuth2AuthenticationDetails) {\r\n                OAuth2AuthenticationDetails details = (OAuth2AuthenticationDetails) auth.getDetails();\r\n                tokenValue = details.getTokenValue();\r\n            } else if (auth.getDetails() instanceof InternalOAuth2Details) {\r\n                InternalOAuth2Details details = (InternalOAuth2Details) auth.getDetails();\r\n                tokenValue = details.getTokenValue();\r\n            }\r\n            if (tokenValue == null) {\r\n                log.warn(&quot;Current token value is null&quot;);\r\n                return;\r\n            }\r\n            template.header(&quot;Authorization&quot;, &quot;Bearer &quot; + tokenValue);\r\n        }\r\n    }\r\n\r\nI bet it isn&#39;t the best solution, but it seems to work quite stable as of now.","title":"Enabling OAuth2 with Feign for scheduled cross-service tasks","body":"<p>For the history, hope that'd help someone like me struggling with that.</p>\n\n<p>I didn't find a better way than the initial one and made a custom <code>InternalOAuth2Details</code> to hold a token value obtained from Spring's OAuth services. Then, in the <code>FeignAccessTokenRelyInterceptor</code> I simply check if current details are <code>InternalOAuth2Details</code> and try to get a token value from it, as follows:</p>\n\n<pre><code>@Override\npublic void apply(RequestTemplate template) {\n    Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n\n    if (auth != null){\n        String tokenValue = null;\n        if (auth.getDetails() instanceof OAuth2AuthenticationDetails) {\n            OAuth2AuthenticationDetails details = (OAuth2AuthenticationDetails) auth.getDetails();\n            tokenValue = details.getTokenValue();\n        } else if (auth.getDetails() instanceof InternalOAuth2Details) {\n            InternalOAuth2Details details = (InternalOAuth2Details) auth.getDetails();\n            tokenValue = details.getTokenValue();\n        }\n        if (tokenValue == null) {\n            log.warn(\"Current token value is null\");\n            return;\n        }\n        template.header(\"Authorization\", \"Bearer \" + tokenValue);\n    }\n}\n</code></pre>\n\n<p>I bet it isn't the best solution, but it seems to work quite stable as of now.</p>\n"},{"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":2,"creation_date":1680175737,"post_id":75857625,"comment_id":133855337,"body_markdown":"Could you elaborate? How does this answer the question?","body":"Could you elaborate? How does this answer the question?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680448948,"post_id":75857625,"comment_id":133896715,"body_markdown":"As it‚Äôs currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it‚Äôs currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75857625/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28139590,"reputation":1,"user_id":21502859,"display_name":"declan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679931117,"creation_date":1679931117,"answer_id":75857625,"question_id":48024725,"body_markdown":"InternalOAuth2Details out of date\r\n","title":"Enabling OAuth2 with Feign for scheduled cross-service tasks","body":"<p>InternalOAuth2Details out of date</p>\n"}],"owner":{"account_id":446461,"reputation":2991,"user_id":839518,"accept_rate":80,"display_name":"Vladimir Salin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2401,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":48328234,"answer_count":2,"score":4,"last_activity_date":1679931117,"creation_date":1514560913,"question_id":48024725,"body_markdown":"I&#39;m trying to solve a puzzle with enabling OAuth2-based authentication for my Feign client that is used for cross-service communication. \r\n\r\nIn normal cases, when a user pushes a request through API, I&#39;m able to take all authentication details needed from the Spring&#39;s `SecurityContextHolder` (as it normally does its job and fills all the details objects) and enhance Feign&#39;s `Request` as follows:\r\n\r\n    public class FeignAccessTokenRelyInterceptor implements RequestInterceptor {\r\n        private static final Logger log = LoggerFactory.getLogger(FeignAccessTokenRelyInterceptor.class);\r\n    \r\n        @Override\r\n        public void apply(RequestTemplate template) {\r\n            Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n            if (auth != null){\r\n                String tokenValue = null;\r\n                if (auth.getDetails() instanceof OAuth2AuthenticationDetails) {\r\n                    OAuth2AuthenticationDetails details = (OAuth2AuthenticationDetails) auth.getDetails();\r\n                    tokenValue = details.getTokenValue();\r\n                }\r\n                if (tokenValue == null) {\r\n                    log.warn(&quot;Current token value is null&quot;);\r\n                    return;\r\n                }\r\n                template.header(&quot;Authorization&quot;, &quot;Bearer &quot; + tokenValue);\r\n            }\r\n        }\r\n    }\r\n\r\nHowever, when it comes to scheduled calls that are triggered inside the system, the `SecurityContext` is obviously empty. I&#39;m filling it with `UserInfoTokenServices` by manually requesting the access token by client credentials flow beforehand and loading user details:\r\n\r\n    OAuth2Authentication authentication = userInfoTokenServices.loadAuthentication(accessToken);\r\n    SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\nBut such construction doesn&#39;t fill `OAuth2Authentication.details`, on which I rely to get an access token. I tried extending `OAuth2AuthenticationDetails`, but the only constructor requires `HttpServletRequest` which is hard to get inside a scheduled task, and making a dummy instance of it feels like a bad choice.\r\n\r\nSo far, I see the only adequate option to make a separate custom implementation of details holder and pass it to `OAuth2Authentication` along with the access token I have. And then pick it up in `FeignAccessTokenRelyInterceptor`.\r\n\r\n**The question**\r\n\r\nMaybe there are some other options where I can store my access token in the security context and reliably get it from there, in order not to produce new custom classes?\r\n\r\nWill be glad for any help.\r\n\r\nSome related links I&#39;ve studied:\r\n\r\n - https://stackoverflow.com/questions/35056169/how-to-get-custom-user-info-from-oauth2-authorization-server-user-endpoint\r\n - https://stackoverflow.com/questions/40526361/spring-boot-spring-cloud-spring-security-how-to-correctly-obtain-an-oauth2\r\n - https://stackoverflow.com/questions/44297496/spring-feignclient-oauth2-and-scheduled-not-working\r\n - https://stackoverflow.com/questions/29684505/how-can-i-authenticate-a-system-user-for-scheduled-processes-in-spring","title":"Enabling OAuth2 with Feign for scheduled cross-service tasks","body":"<p>I'm trying to solve a puzzle with enabling OAuth2-based authentication for my Feign client that is used for cross-service communication. </p>\n\n<p>In normal cases, when a user pushes a request through API, I'm able to take all authentication details needed from the Spring's <code>SecurityContextHolder</code> (as it normally does its job and fills all the details objects) and enhance Feign's <code>Request</code> as follows:</p>\n\n<pre><code>public class FeignAccessTokenRelyInterceptor implements RequestInterceptor {\n    private static final Logger log = LoggerFactory.getLogger(FeignAccessTokenRelyInterceptor.class);\n\n    @Override\n    public void apply(RequestTemplate template) {\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n        if (auth != null){\n            String tokenValue = null;\n            if (auth.getDetails() instanceof OAuth2AuthenticationDetails) {\n                OAuth2AuthenticationDetails details = (OAuth2AuthenticationDetails) auth.getDetails();\n                tokenValue = details.getTokenValue();\n            }\n            if (tokenValue == null) {\n                log.warn(\"Current token value is null\");\n                return;\n            }\n            template.header(\"Authorization\", \"Bearer \" + tokenValue);\n        }\n    }\n}\n</code></pre>\n\n<p>However, when it comes to scheduled calls that are triggered inside the system, the <code>SecurityContext</code> is obviously empty. I'm filling it with <code>UserInfoTokenServices</code> by manually requesting the access token by client credentials flow beforehand and loading user details:</p>\n\n<pre><code>OAuth2Authentication authentication = userInfoTokenServices.loadAuthentication(accessToken);\nSecurityContextHolder.getContext().setAuthentication(authentication);\n</code></pre>\n\n<p>But such construction doesn't fill <code>OAuth2Authentication.details</code>, on which I rely to get an access token. I tried extending <code>OAuth2AuthenticationDetails</code>, but the only constructor requires <code>HttpServletRequest</code> which is hard to get inside a scheduled task, and making a dummy instance of it feels like a bad choice.</p>\n\n<p>So far, I see the only adequate option to make a separate custom implementation of details holder and pass it to <code>OAuth2Authentication</code> along with the access token I have. And then pick it up in <code>FeignAccessTokenRelyInterceptor</code>.</p>\n\n<p><strong>The question</strong></p>\n\n<p>Maybe there are some other options where I can store my access token in the security context and reliably get it from there, in order not to produce new custom classes?</p>\n\n<p>Will be glad for any help.</p>\n\n<p>Some related links I've studied:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/35056169/how-to-get-custom-user-info-from-oauth2-authorization-server-user-endpoint\">How to get custom user info from OAuth2 authorization server /user endpoint</a></li>\n<li><a href=\"https://stackoverflow.com/questions/40526361/spring-boot-spring-cloud-spring-security-how-to-correctly-obtain-an-oauth2\">Spring Boot / Spring Cloud / Spring Security: How to correctly obtain an OAuth2 Access Token in a scheduled task</a></li>\n<li><a href=\"https://stackoverflow.com/questions/44297496/spring-feignclient-oauth2-and-scheduled-not-working\">Spring @FeignClient , OAuth2 and @Scheduled not working</a></li>\n<li><a href=\"https://stackoverflow.com/questions/29684505/how-can-i-authenticate-a-system-user-for-scheduled-processes-in-spring\">How can I authenticate a system user for scheduled processes in Spring?</a></li>\n</ul>\n"},{"tags":["java","swing","jtextarea"],"comments":[{"owner":{"account_id":1205124,"reputation":94,"user_id":1174952,"display_name":"ntprintf"},"score":0,"creation_date":1623859213,"post_id":68006106,"comment_id":120199854,"body_markdown":"Could you please provide the code that you use. The problem on this topic is usually happen when you getSize() before these have actual size for example you call getSize before it render or call pack() or set visible on the root container. Another reason is the size is change by the layout you use.","body":"Could you please provide the code that you use. The problem on this topic is usually happen when you getSize() before these have actual size for example you call getSize before it render or call pack() or set visible on the root container. Another reason is the size is change by the layout you use."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1623860382,"post_id":68006106,"comment_id":120200401,"body_markdown":"Don&#39;t use  a null layout or AbsoluteLayout.  Swing was designed to be used with layout managers. Post an [mre] demonstrating your problem.","body":"Don&#39;t use  a null layout or AbsoluteLayout.  Swing was designed to be used with layout managers. Post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating your problem."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1623861132,"post_id":68006106,"comment_id":120200736,"body_markdown":"(1-) This question can&#39;t be answered because the OP has not provided the full context of the question. See the OP&#39;s last question for full context: https://stackoverflow.com/questions/68003700/how-to-resize-jtextarea-so-it-could-fit-all-text-in-it-and-make-the-jpanel-form","body":"(1-) This question can&#39;t be answered because the OP has not provided the full context of the question. See the OP&#39;s last question for full context: <a href=\"https://stackoverflow.com/questions/68003700/how-to-resize-jtextarea-so-it-could-fit-all-text-in-it-and-make-the-jpanel-form\" title=\"how to resize jtextarea so it could fit all text in it and make the jpanel form\">stackoverflow.com/questions/68003700/&hellip;</a>"},{"owner":{"account_id":17972371,"reputation":3,"user_id":13060801,"display_name":"progprog"},"score":0,"creation_date":1623900508,"post_id":68006106,"comment_id":120210408,"body_markdown":"@camickr Ah im sorry, im new here... Thank you for pointing out the best way to post. Also thank you for your answer too, that&#39;s helping me to find the answer today. I already changed my layout manager not null or absolute again, but using box layout. And for getting the height of the jTextarea, im calculating it manually because my width is constant value so i could calculate it using the logic of the George below.","body":"@camickr Ah im sorry, im new here... Thank you for pointing out the best way to post. Also thank you for your answer too, that&#39;s helping me to find the answer today. I already changed my layout manager not null or absolute again, but using box layout. And for getting the height of the jTextarea, im calculating it manually because my width is constant value so i could calculate it using the logic of the George below."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1623904552,"post_id":68006106,"comment_id":120211143,"body_markdown":"@progprog *for getting the height of the jTextarea, im calculating it manually* - how?   Your question asks how to calculate the height of the text, not the text area itself. You don&#39;t know how many lines there will be in the text area because of wrapping of the text. The solution provided by George only calculates the height of the text area itself, not of the text. *Also thank you for your answer too,* - well you should reply where the suggestion was given so that other who read the question/suggestion know it provided some help.","body":"@progprog <i>for getting the height of the jTextarea, im calculating it manually</i> - how?   Your question asks how to calculate the height of the text, not the text area itself. You don&#39;t know how many lines there will be in the text area because of wrapping of the text. The solution provided by George only calculates the height of the text area itself, not of the text. <i>Also thank you for your answer too,</i> - well you should reply where the suggestion was given so that other who read the question/suggestion know it provided some help."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1623939359,"post_id":68006106,"comment_id":120225116,"body_markdown":"@progprog You can get the height of the text in a single statement. But I guess that is not your requirement. Since you haven&#39;t posted an [mre] and clarified your requirement based on my comment above.","body":"@progprog You can get the height of the text in a single statement. But I guess that is not your requirement. Since you haven&#39;t posted an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and clarified your requirement based on my comment above."}],"answers":[{"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1623860995,"post_id":68006238,"comment_id":120200683,"body_markdown":"Unfortunately the OP hasn&#39;t learned how to ask a question with all the required information needed to solve a problem. Check out the OP&#39;s previous question for context: https://stackoverflow.com/questions/68003700/how-to-resize-jtextarea-so-it-could-fit-all-text-in-it-and-make-the-jpanel-form. This won&#39;t work because line wrapping is not done until the component is actually displayed so we won&#39;t know what the actual number of lines are until then. Once the text area is visible we can just use the getPreferredSize() method.","body":"Unfortunately the OP hasn&#39;t learned how to ask a question with all the required information needed to solve a problem. Check out the OP&#39;s previous question for context: <a href=\"https://stackoverflow.com/questions/68003700/how-to-resize-jtextarea-so-it-could-fit-all-text-in-it-and-make-the-jpanel-form\" title=\"how to resize jtextarea so it could fit all text in it and make the jpanel form\">stackoverflow.com/questions/68003700/&hellip;</a>. This won&#39;t work because line wrapping is not done until the component is actually displayed so we won&#39;t know what the actual number of lines are until then. Once the text area is visible we can just use the getPreferredSize() method."},{"owner":{"account_id":8803970,"reputation":6689,"user_id":6579265,"display_name":"George Z."},"score":0,"creation_date":1623861305,"post_id":68006238,"comment_id":120200810,"body_markdown":"@camickr Well, I did not know when OP wants to get the height. If OP wants the height when the textarea is visible, my answer works. But it was my assumption. I will wait for OP&#39;s feedback. If it does not work for him, I will delete my answer. Plus, if OP uses `null` layout, I assume he/she has problems with placing it, which means the textArea is not visible, which means my answer won&#39;t work.","body":"@camickr Well, I did not know when OP wants to get the height. If OP wants the height when the textarea is visible, my answer works. But it was my assumption. I will wait for OP&#39;s feedback. If it does not work for him, I will delete my answer. Plus, if OP uses <code>null</code> layout, I assume he/she has problems with placing it, which means the textArea is not visible, which means my answer won&#39;t work."},{"owner":{"account_id":17972371,"reputation":3,"user_id":13060801,"display_name":"progprog"},"score":0,"creation_date":1623900608,"post_id":68006238,"comment_id":120210426,"body_markdown":"@GeorgeZ. thank you for your answer, i could find my logic how to calculate height from your answer.","body":"@GeorgeZ. thank you for your answer, i could find my logic how to calculate height from your answer."}],"tags":[],"owner":{"account_id":8803970,"reputation":6689,"user_id":6579265,"display_name":"George Z."},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1623859197,"creation_date":1623859197,"answer_id":68006238,"question_id":68006106,"body_markdown":"(If I understood your question)\r\n\r\nJust take the number of lines that exist on the textArea and the height of each line and multiply them:\r\n\r\nAn example:\r\n\r\n    public class ProductsFrame extends JFrame {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(ProductsFrame::runExample);\r\n    \t}\r\n    \r\n    \tprivate static void runExample() {\r\n    \t\tJFrame frame = new JFrame();\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tJTextArea textArea = new JTextArea(10, 10);\r\n    \r\n    \t\tframe.setLayout(new BorderLayout());\r\n    \r\n    \t\tframe.add(new JScrollPane(textArea));\r\n    \r\n    \t\ttextArea.addCaretListener(e -&gt; {\r\n    \t\t\tint linesWithText = textArea.getLineCount();\r\n    \t\t\tint heightOfEachLine = textArea.getFontMetrics(textArea.getFont()).getHeight();\r\n    \r\n    \t\t\tint heightOfText = linesWithText * heightOfEachLine;\r\n    \r\n    \t\t\tSystem.out.println(&quot;TEXt HEIGHT:&quot; + heightOfText);\r\n    \t\t\tSystem.out.println(&quot;TEXT AREA HEIGHT:&quot; + textArea.getSize().height);\r\n    \t\t});\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    }\r\n\r\n","title":"How to know the height of the text contained in JTextArea?","body":"<p>(If I understood your question)</p>\n<p>Just take the number of lines that exist on the textArea and the height of each line and multiply them:</p>\n<p>An example:</p>\n<pre><code>public class ProductsFrame extends JFrame {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(ProductsFrame::runExample);\n    }\n\n    private static void runExample() {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        JTextArea textArea = new JTextArea(10, 10);\n\n        frame.setLayout(new BorderLayout());\n\n        frame.add(new JScrollPane(textArea));\n\n        textArea.addCaretListener(e -&gt; {\n            int linesWithText = textArea.getLineCount();\n            int heightOfEachLine = textArea.getFontMetrics(textArea.getFont()).getHeight();\n\n            int heightOfText = linesWithText * heightOfEachLine;\n\n            System.out.println(&quot;TEXt HEIGHT:&quot; + heightOfText);\n            System.out.println(&quot;TEXT AREA HEIGHT:&quot; + textArea.getSize().height);\n        });\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":283267,"reputation":847,"user_id":580672,"accept_rate":83,"display_name":"Philippp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679930548,"creation_date":1679930548,"answer_id":75857538,"question_id":68006106,"body_markdown":"I found `textArea.getPreferredScrollableViewportSize()` very helpful - it contains the area that the textfield would need to fully display without scrolling.","title":"How to know the height of the text contained in JTextArea?","body":"<p>I found <code>textArea.getPreferredScrollableViewportSize()</code> very helpful - it contains the area that the textfield would need to fully display without scrolling.</p>\n"}],"owner":{"account_id":17972371,"reputation":3,"user_id":13060801,"display_name":"progprog"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":68006238,"answer_count":2,"score":-3,"last_activity_date":1679930548,"creation_date":1623858681,"question_id":68006106,"body_markdown":"I already used `getPreferredSize()`, `getSize()`, `getMaximumSize()`, and `getMinimumSize()`. But none of them give me an accurate height of the text in the `JTextArea`.\r\n\r\n```\r\nJTextArea txt = new JTextArea();\r\ntxt.setColumns(20);\r\ntxt.setLineWrap(true);\r\ntxt.setRows(1);\r\ntxt.setToolTipText(&quot;&quot;);\r\ntxt.setWrapStyleWord(true);\r\ntxt.setAutoscrolls(false);\r\ntxt.setBorder(null);\r\ntxt.setText(&quot;Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry&#39;s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.&quot;);\r\nadd(txt, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 40, 540, -1));\r\nJOptionPane.ShowMessageDialog(null, txt.getPreferredSize().height);\r\n```\r\n\r\n","title":"How to know the height of the text contained in JTextArea?","body":"<p>I already used <code>getPreferredSize()</code>, <code>getSize()</code>, <code>getMaximumSize()</code>, and <code>getMinimumSize()</code>. But none of them give me an accurate height of the text in the <code>JTextArea</code>.</p>\n<pre><code>JTextArea txt = new JTextArea();\ntxt.setColumns(20);\ntxt.setLineWrap(true);\ntxt.setRows(1);\ntxt.setToolTipText(&quot;&quot;);\ntxt.setWrapStyleWord(true);\ntxt.setAutoscrolls(false);\ntxt.setBorder(null);\ntxt.setText(&quot;Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.&quot;);\nadd(txt, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 40, 540, -1));\nJOptionPane.ShowMessageDialog(null, txt.getPreferredSize().height);\n</code></pre>\n"},{"tags":["java","android","xml","android-studio","datepicker"],"answers":[{"tags":[],"owner":{"account_id":18348513,"reputation":8726,"user_id":13363205,"display_name":"iknow"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1596144802,"creation_date":1596144119,"answer_id":63181564,"question_id":63179980,"body_markdown":"The problem is with setting `Widget_Holo_ActionBar_Solid`. If You delete it You won&#39;t get error. Try to create Your own style in this way:\r\n\r\n\r\nstyles.xml:\r\n```\r\n&lt;style name=&quot;DatePickerDialogStyle&quot; parent=&quot;ThemeOverlay.AppCompat.Dialog&quot;&gt;\r\n    &lt;item name=&quot;colorAccent&quot;&gt;@color/date_picker_dialog_header_background&lt;/item&gt;  &lt;!--header background--&gt;\r\n    &lt;item name=&quot;android:windowBackground&quot;&gt;@color/date_picker_dialog_background&lt;/item&gt;     &lt;!--calendar background--&gt;\r\n    &lt;item name=&quot;android:colorControlActivated&quot;&gt;@color/date_picker_dialog_selected_day&lt;/item&gt; &lt;!--selected day--&gt;\r\n    &lt;item name=&quot;android:textColorPrimary&quot;&gt;@color/date_picker_dialog_selected_month&lt;/item&gt; &lt;!--days of the month--&gt;\r\n    &lt;item name=&quot;android:textColorSecondary&quot;&gt;@color/date_picker_dialog_day_of_week&lt;/item&gt;    &lt;!--days of the week--&gt;\r\n&lt;/style&gt;\r\n```\r\n\r\ncolors.xml\r\n```\r\n&lt;color name=&quot;date_picker_dialog_header_background&quot;&gt;@color/colorPrimaryDark&lt;/color&gt;\r\n&lt;color name=&quot;date_picker_dialog_background&quot;&gt;#00FFFFFF&lt;/color&gt;\r\n&lt;color name=&quot;date_picker_dialog_selected_day&quot;&gt;@color/colorAccent&lt;/color&gt;\r\n&lt;color name=&quot;date_picker_dialog_selected_month&quot;&gt;#B71C1C&lt;/color&gt;\r\n&lt;color name=&quot;date_picker_dialog_day_of_week&quot;&gt;#611B1B&lt;/color&gt;\r\n```\r\n\r\nAnd then add to create date picker:\r\n\r\n```\r\nDatePickerDialog dialog = new DatePickerDialog(\r\n        MainActivity.this,\r\n        R.style.DatePickerDialogStyle,\r\n        mDateSetListener,\r\n        year,\r\n        month,\r\n        day);\r\n```\r\n\r\nYou set `date_picker_dialog_background` to `#00FFFFFF` You don&#39;t have to call:\r\n```\r\ndialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\r\n```\r\n","title":"Date Picker Android Studio crash Error inflating class android.widget.DatePicker","body":"<p>The problem is with setting <code>Widget_Holo_ActionBar_Solid</code>. If You delete it You won't get error. Try to create Your own style in this way:</p>\n<p>styles.xml:</p>\n<pre><code>&lt;style name=&quot;DatePickerDialogStyle&quot; parent=&quot;ThemeOverlay.AppCompat.Dialog&quot;&gt;\n    &lt;item name=&quot;colorAccent&quot;&gt;@color/date_picker_dialog_header_background&lt;/item&gt;  &lt;!--header background--&gt;\n    &lt;item name=&quot;android:windowBackground&quot;&gt;@color/date_picker_dialog_background&lt;/item&gt;     &lt;!--calendar background--&gt;\n    &lt;item name=&quot;android:colorControlActivated&quot;&gt;@color/date_picker_dialog_selected_day&lt;/item&gt; &lt;!--selected day--&gt;\n    &lt;item name=&quot;android:textColorPrimary&quot;&gt;@color/date_picker_dialog_selected_month&lt;/item&gt; &lt;!--days of the month--&gt;\n    &lt;item name=&quot;android:textColorSecondary&quot;&gt;@color/date_picker_dialog_day_of_week&lt;/item&gt;    &lt;!--days of the week--&gt;\n&lt;/style&gt;\n</code></pre>\n<p>colors.xml</p>\n<pre><code>&lt;color name=&quot;date_picker_dialog_header_background&quot;&gt;@color/colorPrimaryDark&lt;/color&gt;\n&lt;color name=&quot;date_picker_dialog_background&quot;&gt;#00FFFFFF&lt;/color&gt;\n&lt;color name=&quot;date_picker_dialog_selected_day&quot;&gt;@color/colorAccent&lt;/color&gt;\n&lt;color name=&quot;date_picker_dialog_selected_month&quot;&gt;#B71C1C&lt;/color&gt;\n&lt;color name=&quot;date_picker_dialog_day_of_week&quot;&gt;#611B1B&lt;/color&gt;\n</code></pre>\n<p>And then add to create date picker:</p>\n<pre><code>DatePickerDialog dialog = new DatePickerDialog(\n        MainActivity.this,\n        R.style.DatePickerDialogStyle,\n        mDateSetListener,\n        year,\n        month,\n        day);\n</code></pre>\n<p>You set <code>date_picker_dialog_background</code> to <code>#00FFFFFF</code> You don't have to call:</p>\n<pre><code>dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12655492,"reputation":376,"user_id":9198161,"display_name":"DavidUps"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679930459,"creation_date":1679930459,"answer_id":75857520,"question_id":63179980,"body_markdown":"On Android &gt; 29 you can&#39;t set a `color.xml` only hex","title":"Date Picker Android Studio crash Error inflating class android.widget.DatePicker","body":"<p>On Android &gt; 29 you can't set a <code>color.xml</code> only hex</p>\n"}],"owner":{"display_name":"user9955719"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":964,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63181564,"answer_count":2,"score":1,"last_activity_date":1679930459,"creation_date":1596136990,"question_id":63179980,"body_markdown":"I know similar questions have been asked but they didn&#39;t seem to solve this particular case. \r\n\r\nthis is my xml (very simple just a text and a hint text to click to select date):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;#000000&quot;\r\n        tools:context=&quot;.moreUserInfo&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView10&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;97dp&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_marginStart=&quot;0dp&quot;\r\n            android:layout_marginTop=&quot;0dp&quot;\r\n            android:layout_marginEnd=&quot;0dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;Enter your birthday&quot;\r\n            android:textColor=&quot;#ffffff&quot;\r\n            android:textSize=&quot;20sp&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/tvDate&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_marginStart=&quot;3dp&quot;\r\n            android:layout_marginTop=&quot;91dp&quot;\r\n            android:layout_marginEnd=&quot;-3dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:hint=&quot;Select Date&quot;\r\n            android:textColor=&quot;#ffffff&quot;\r\n            android:textColorHint=&quot;#CEA6FFCC&quot;\r\n            android:textSize=&quot;20sp&quot; /&gt;\r\n    \r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\nthis is my .java class:\r\n\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.app.DatePickerDialog;\r\n    import android.graphics.Color;\r\n    import android.graphics.drawable.ColorDrawable;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.DatePicker;\r\n    import android.widget.TextView;\r\n    \r\n    import java.util.Calendar;\r\n    \r\n    import static android.R.style.Widget_Holo_ActionBar_Solid;\r\n    \r\n    public class moreUserInfo extends AppCompatActivity {\r\n    \r\n        private static final String TAG = &quot;moreUserInfo&quot;;\r\n    \r\n    \r\n        private TextView mDisplayDate;\r\n        private DatePickerDialog.OnDateSetListener mDateSetListener;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_more_user_info);\r\n            mDisplayDate = (TextView) findViewById(R.id.tvDate);\r\n            mDisplayDate.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Calendar cal = Calendar.getInstance();\r\n                    int year = cal.get(Calendar.YEAR);\r\n                    int month = cal.get(Calendar.MONTH);\r\n                    int day = cal.get(Calendar.DAY_OF_MONTH);\r\n    \r\n                    DatePickerDialog dialog = new DatePickerDialog(moreUserInfo.this, Widget_Holo_ActionBar_Solid, mDateSetListener, year,month,day);\r\n                    dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT)); //make transparent background.\r\n                    dialog.show();\r\n                }\r\n            });\r\n            mDateSetListener = new DatePickerDialog.OnDateSetListener() {\r\n                @Override\r\n                public void onDateSet(DatePicker datePicker, int i, int i1, int i2) {\r\n                    Log.d(TAG, &quot;onDateSet: date: &quot;+ i + &quot;/&quot; +i1 + &quot;/&quot; +i2);\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\nEverything seemed to be fine but when I run it, the app crashes after I click on &quot;Select Date&quot; textView with the following (huge) error message: \r\n\r\n    E/AnimationUtils: RuntimeException for unknown animation name, resouce ID #0x10a0026\r\n    E/AnimationUtils: loadAnimation: getConfiguration = {0 1.3 themeSeq = 0 showBtnBg = 0 214mcc7mnc [en_GB,es_ES] ldltr sw360dp w360dp h616dp 480dpi nrml long port finger -keyb/v/h -nav/h appBounds=Rect(0, 0 - 1080, 1920) s.70 mkbd/h}\r\n        loadAnimation: getDisplayMetrics = DisplayMetrics{density=3.0, width=1080, height=1920, scaledDensity=3.8999999, xdpi=435.42825, ydpi=431.57477}\r\n        loadAnimation: resourceName = android:anim/date_picker_fade_in_material\r\n    D/AndroidRuntime: Shutting down VM\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.example.filmmate, PID: 9738\r\n        android.view.InflateException: Binary XML file line #18: Binary XML file line #18: Error inflating class android.widget.DatePicker\r\n        Caused by: android.view.InflateException: Binary XML file line #18: Error inflating class android.widget.DatePicker\r\n        Caused by: java.lang.reflect.InvocationTargetException\r\n            at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n            at java.lang.reflect.Constructor.newInstance(Constructor.java:334)\r\n            at android.view.LayoutInflater.createView(LayoutInflater.java:647)\r\n            at com.android.internal.policy.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:58)\r\n            at android.view.LayoutInflater.onCreateView(LayoutInflater.java:720)\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:788)\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:492)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\r\n            at android.app.DatePickerDialog.&lt;init&gt;(DatePickerDialog.java:119)\r\n            at android.app.DatePickerDialog.&lt;init&gt;(DatePickerDialog.java:109)\r\n            at com.example.filmmate.moreUserInfo$1.onClick(moreUserInfo.java:40)\r\n            at android.view.View.performClick(View.java:6897)\r\n            at android.widget.TextView.performClick(TextView.java:12727)\r\n            at android.view.View$PerformClick.run(View.java:26101)\r\n            at android.os.Handler.handleCallback(Handler.java:789)\r\n            at android.os.Handler.dispatchMessage(Handler.java:98)\r\n            at android.os.Looper.loop(Looper.java:164)\r\n            at android.app.ActivityThread.main(ActivityThread.java:6944)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\r\n         Caused by: android.view.InflateException: Binary XML file line #33: Binary XML file line #18: Error inflating class com.android.internal.widget.DialogViewAnimator\r\n         Caused by: android.view.InflateException: Binary XML file line #18: Error inflating class com.android.internal.widget.DialogViewAnimator\r\n         Caused by: java.lang.reflect.InvocationTargetException\r\n            at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n            at java.lang.reflect.Constructor.newInstance(Constructor.java:334)\r\n            at android.view.LayoutInflater.createView(LayoutInflater.java:647)\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:790)\r\n            at android.view.LayoutInflater.parseInclude(LayoutInflater.java:965)\r\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:859)\r\n            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\r\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:866)\r\n            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\r\n            at android.widget.DatePickerCalendarDelegate.&lt;init&gt;(DatePickerCalendarDelegate.java:114)\r\n            at android.widget.DatePicker.createCalendarUIDelegate(DatePicker.java:200)\r\n            at android.widget.DatePicker.&lt;init&gt;(DatePicker.java:173)\r\n            at android.widget.DatePicker.&lt;init&gt;(DatePicker.java:145)\r\n            at android.widget.DatePicker.&lt;init&gt;(DatePicker.java:141)\r\n            at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n            at java.lang.reflect.Constructor.newInstance(Constructor.java:334)\r\n            at android.view.LayoutInflater.createView(LayoutInflater.java:647)\r\n            at com.android.internal.policy.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:58)\r\n            at android.view.LayoutInflater.onCreateView(LayoutInflater.java:720)\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:788)\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:492)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\r\n    E/AndroidRuntime:     at android.app.DatePickerDialog.&lt;init&gt;(DatePickerDialog.java:119)\r\n            at android.app.DatePickerDialog.&lt;init&gt;(DatePickerDialog.java:109)\r\n            at com.example.filmmate.moreUserInfo$1.onClick(moreUserInfo.java:40)\r\n            at android.view.View.performClick(View.java:6897)\r\n            at android.widget.TextView.performClick(TextView.java:12727)\r\n            at android.view.View$PerformClick.run(View.java:26101)\r\n            at android.os.Handler.handleCallback(Handler.java:789)\r\n            at android.os.Handler.dispatchMessage(Handler.java:98)\r\n            at android.os.Looper.loop(Looper.java:164)\r\n            at android.app.ActivityThread.main(ActivityThread.java:6944)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\r\n         Caused by: java.lang.NumberFormatException: For input string: &quot;res/drawable-xxhdpi-v4/ab_solid_dark_holo.9.png&quot;\r\n            at java.lang.Integer.parseInt(Integer.java:608)\r\n            at com.android.internal.util.XmlUtils.convertValueToInt(XmlUtils.java:133)\r\n            at android.content.res.TypedArray.getInt(TypedArray.java:375)\r\n            at android.view.animation.Animation.&lt;init&gt;(Animation.java:254)\r\n            at android.view.animation.AlphaAnimation.&lt;init&gt;(AlphaAnimation.java:40)\r\n            at android.view.animation.AnimationUtils.createAnimationFromXml(AnimationUtils.java:170)\r\n            at android.view.animation.AnimationUtils.createAnimationFromXml(AnimationUtils.java:145)\r\n            at android.view.animation.AnimationUtils.loadAnimation(AnimationUtils.java:110)\r\n            at android.widget.ViewAnimator.setInAnimation(ViewAnimator.java:314)\r\n            at android.widget.ViewAnimator.&lt;init&gt;(ViewAnimator.java:58)\r\n            at com.android.internal.widget.DialogViewAnimator.&lt;init&gt;(DialogViewAnimator.java:38)\r\n            \t... 39 more\r\n\r\n\r\nI know it&#39;s a strage issue or maybe a stupid question but help is really appreciated, thanks.\r\n","title":"Date Picker Android Studio crash Error inflating class android.widget.DatePicker","body":"<p>I know similar questions have been asked but they didn't seem to solve this particular case.</p>\n<p>this is my xml (very simple just a text and a hint text to click to select date):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#000000&quot;\n    tools:context=&quot;.moreUserInfo&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView10&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;97dp&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_marginStart=&quot;0dp&quot;\n        android:layout_marginTop=&quot;0dp&quot;\n        android:layout_marginEnd=&quot;0dp&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;Enter your birthday&quot;\n        android:textColor=&quot;#ffffff&quot;\n        android:textSize=&quot;20sp&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tvDate&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_marginStart=&quot;3dp&quot;\n        android:layout_marginTop=&quot;91dp&quot;\n        android:layout_marginEnd=&quot;-3dp&quot;\n        android:gravity=&quot;center&quot;\n        android:hint=&quot;Select Date&quot;\n        android:textColor=&quot;#ffffff&quot;\n        android:textColorHint=&quot;#CEA6FFCC&quot;\n        android:textSize=&quot;20sp&quot; /&gt;\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>this is my .java class:</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\n\nimport android.app.DatePickerDialog;\nimport android.graphics.Color;\nimport android.graphics.drawable.ColorDrawable;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.DatePicker;\nimport android.widget.TextView;\n\nimport java.util.Calendar;\n\nimport static android.R.style.Widget_Holo_ActionBar_Solid;\n\npublic class moreUserInfo extends AppCompatActivity {\n\n    private static final String TAG = &quot;moreUserInfo&quot;;\n\n\n    private TextView mDisplayDate;\n    private DatePickerDialog.OnDateSetListener mDateSetListener;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_more_user_info);\n        mDisplayDate = (TextView) findViewById(R.id.tvDate);\n        mDisplayDate.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Calendar cal = Calendar.getInstance();\n                int year = cal.get(Calendar.YEAR);\n                int month = cal.get(Calendar.MONTH);\n                int day = cal.get(Calendar.DAY_OF_MONTH);\n\n                DatePickerDialog dialog = new DatePickerDialog(moreUserInfo.this, Widget_Holo_ActionBar_Solid, mDateSetListener, year,month,day);\n                dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT)); //make transparent background.\n                dialog.show();\n            }\n        });\n        mDateSetListener = new DatePickerDialog.OnDateSetListener() {\n            @Override\n            public void onDateSet(DatePicker datePicker, int i, int i1, int i2) {\n                Log.d(TAG, &quot;onDateSet: date: &quot;+ i + &quot;/&quot; +i1 + &quot;/&quot; +i2);\n            }\n        };\n    }\n}\n</code></pre>\n<p>Everything seemed to be fine but when I run it, the app crashes after I click on &quot;Select Date&quot; textView with the following (huge) error message:</p>\n<pre><code>E/AnimationUtils: RuntimeException for unknown animation name, resouce ID #0x10a0026\nE/AnimationUtils: loadAnimation: getConfiguration = {0 1.3 themeSeq = 0 showBtnBg = 0 214mcc7mnc [en_GB,es_ES] ldltr sw360dp w360dp h616dp 480dpi nrml long port finger -keyb/v/h -nav/h appBounds=Rect(0, 0 - 1080, 1920) s.70 mkbd/h}\n    loadAnimation: getDisplayMetrics = DisplayMetrics{density=3.0, width=1080, height=1920, scaledDensity=3.8999999, xdpi=435.42825, ydpi=431.57477}\n    loadAnimation: resourceName = android:anim/date_picker_fade_in_material\nD/AndroidRuntime: Shutting down VM\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.filmmate, PID: 9738\n    android.view.InflateException: Binary XML file line #18: Binary XML file line #18: Error inflating class android.widget.DatePicker\n    Caused by: android.view.InflateException: Binary XML file line #18: Error inflating class android.widget.DatePicker\n    Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:334)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:647)\n        at com.android.internal.policy.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:58)\n        at android.view.LayoutInflater.onCreateView(LayoutInflater.java:720)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:788)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:492)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\n        at android.app.DatePickerDialog.&lt;init&gt;(DatePickerDialog.java:119)\n        at android.app.DatePickerDialog.&lt;init&gt;(DatePickerDialog.java:109)\n        at com.example.filmmate.moreUserInfo$1.onClick(moreUserInfo.java:40)\n        at android.view.View.performClick(View.java:6897)\n        at android.widget.TextView.performClick(TextView.java:12727)\n        at android.view.View$PerformClick.run(View.java:26101)\n        at android.os.Handler.handleCallback(Handler.java:789)\n        at android.os.Handler.dispatchMessage(Handler.java:98)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6944)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\n     Caused by: android.view.InflateException: Binary XML file line #33: Binary XML file line #18: Error inflating class com.android.internal.widget.DialogViewAnimator\n     Caused by: android.view.InflateException: Binary XML file line #18: Error inflating class com.android.internal.widget.DialogViewAnimator\n     Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:334)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:647)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:790)\n        at android.view.LayoutInflater.parseInclude(LayoutInflater.java:965)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:859)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:866)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\n        at android.widget.DatePickerCalendarDelegate.&lt;init&gt;(DatePickerCalendarDelegate.java:114)\n        at android.widget.DatePicker.createCalendarUIDelegate(DatePicker.java:200)\n        at android.widget.DatePicker.&lt;init&gt;(DatePicker.java:173)\n        at android.widget.DatePicker.&lt;init&gt;(DatePicker.java:145)\n        at android.widget.DatePicker.&lt;init&gt;(DatePicker.java:141)\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:334)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:647)\n        at com.android.internal.policy.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:58)\n        at android.view.LayoutInflater.onCreateView(LayoutInflater.java:720)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:788)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:492)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\nE/AndroidRuntime:     at android.app.DatePickerDialog.&lt;init&gt;(DatePickerDialog.java:119)\n        at android.app.DatePickerDialog.&lt;init&gt;(DatePickerDialog.java:109)\n        at com.example.filmmate.moreUserInfo$1.onClick(moreUserInfo.java:40)\n        at android.view.View.performClick(View.java:6897)\n        at android.widget.TextView.performClick(TextView.java:12727)\n        at android.view.View$PerformClick.run(View.java:26101)\n        at android.os.Handler.handleCallback(Handler.java:789)\n        at android.os.Handler.dispatchMessage(Handler.java:98)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6944)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\n     Caused by: java.lang.NumberFormatException: For input string: &quot;res/drawable-xxhdpi-v4/ab_solid_dark_holo.9.png&quot;\n        at java.lang.Integer.parseInt(Integer.java:608)\n        at com.android.internal.util.XmlUtils.convertValueToInt(XmlUtils.java:133)\n        at android.content.res.TypedArray.getInt(TypedArray.java:375)\n        at android.view.animation.Animation.&lt;init&gt;(Animation.java:254)\n        at android.view.animation.AlphaAnimation.&lt;init&gt;(AlphaAnimation.java:40)\n        at android.view.animation.AnimationUtils.createAnimationFromXml(AnimationUtils.java:170)\n        at android.view.animation.AnimationUtils.createAnimationFromXml(AnimationUtils.java:145)\n        at android.view.animation.AnimationUtils.loadAnimation(AnimationUtils.java:110)\n        at android.widget.ViewAnimator.setInAnimation(ViewAnimator.java:314)\n        at android.widget.ViewAnimator.&lt;init&gt;(ViewAnimator.java:58)\n        at com.android.internal.widget.DialogViewAnimator.&lt;init&gt;(DialogViewAnimator.java:38)\n            ... 39 more\n</code></pre>\n<p>I know it's a strage issue or maybe a stupid question but help is really appreciated, thanks.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1679920789,"post_id":75855686,"comment_id":133801964,"body_markdown":"Your pseudocode makes no sense to me. You never compare with the search, you never store in a result, and I don&#39;t see the point in storing that in a map of maps of maps. Please post actual code and say what issues you have with it.","body":"Your pseudocode makes no sense to me. You never compare with the search, you never store in a result, and I don&#39;t see the point in storing that in a map of maps of maps. Please post actual code and say what issues you have with it."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1679921741,"post_id":75855686,"comment_id":133802253,"body_markdown":"_Trying to switch to nested streams_ - this belies a more fundamental problem. Because __that does not reduce mental complexity whatsoever__. You&#39;re currently working on &quot;How do I make sonarlint shut up; I do not actually care about the problems it highlights, I merely want it to stop yapping&quot;. In which case, I have a very simple answer that works for this and many, many other problems: __Uninstall it__. What you _actually_ want is to analyse whether this is _actually_ complicated. I don&#39;t think it&#39;s too bad. However, &#39;turn it into lambdas&#39; isn&#39;t an answer. Think about it.","body":"<i>Trying to switch to nested streams</i> - this belies a more fundamental problem. Because <b>that does not reduce mental complexity whatsoever</b>. You&#39;re currently working on &quot;How do I make sonarlint shut up; I do not actually care about the problems it highlights, I merely want it to stop yapping&quot;. In which case, I have a very simple answer that works for this and many, many other problems: <b>Uninstall it</b>. What you <i>actually</i> want is to analyse whether this is <i>actually</i> complicated. I don&#39;t think it&#39;s too bad. However, &#39;turn it into lambdas&#39; isn&#39;t an answer. Think about it."},{"owner":{"account_id":1259977,"reputation":883,"user_id":1579877,"display_name":"Aron_dc"},"score":0,"creation_date":1679922295,"post_id":75855686,"comment_id":133802436,"body_markdown":"I don&#39;t think your data structure can properly map your usecase.","body":"I don&#39;t think your data structure can properly map your usecase."},{"owner":{"account_id":6021831,"reputation":163,"user_id":4728677,"display_name":"count_campeador"},"score":0,"creation_date":1679922974,"post_id":75855686,"comment_id":133802663,"body_markdown":"Added sample code @daniu","body":"Added sample code @daniu"}],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1679921926,"post_id":75855763,"comment_id":133802314,"body_markdown":"Perhaps you forgot the final line of the question (in your defense, OP kinda buried the lede a bit), but they need to return not return true; (their example does that, but, read the comment, it&#39;s not what they want), they need to return the &#39;chain&#39; - the Country, the City, and the District that caused the match to occur. As is, this doesn&#39;t answer the question. There&#39;s at least a chance of salvaging it, you still have `country`/`city`/`district` at the point-of-return.","body":"Perhaps you forgot the final line of the question (in your defense, OP kinda buried the lede a bit), but they need to return not return true; (their example does that, but, read the comment, it&#39;s not what they want), they need to return the &#39;chain&#39; - the Country, the City, and the District that caused the match to occur. As is, this doesn&#39;t answer the question. There&#39;s at least a chance of salvaging it, you still have <code>country</code>/<code>city</code>/<code>district</code> at the point-of-return."},{"owner":{"account_id":6021831,"reputation":163,"user_id":4728677,"display_name":"count_campeador"},"score":0,"creation_date":1679923449,"post_id":75855763,"comment_id":133802834,"body_markdown":"Tried to clarify my situation, please check my sample code/question again.","body":"Tried to clarify my situation, please check my sample code/question again."},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1679926962,"post_id":75855763,"comment_id":133803943,"body_markdown":"@count_campeador What&#39;s the issue? You can move the code modifying the Map into the `if (ret)` block.","body":"@count_campeador What&#39;s the issue? You can move the code modifying the Map into the <code>if (ret)</code> block."},{"owner":{"account_id":6021831,"reputation":163,"user_id":4728677,"display_name":"count_campeador"},"score":0,"creation_date":1679929028,"post_id":75855763,"comment_id":133804628,"body_markdown":"Hello @Unmitigated, this anyMatch loop worked for me. I tried this on my real code (not the one with cities, districts etc.) The inside boolean is successfully returned to the top after found, no unnecessary loops are executed after condition is satisfied. But the important thing I would like to say is sonarlink thinks this streams reduce cognitive complexity. I will edit my question with that outcome. Thank you!","body":"Hello @Unmitigated, this anyMatch loop worked for me. I tried this on my real code (not the one with cities, districts etc.) The inside boolean is successfully returned to the top after found, no unnecessary loops are executed after condition is satisfied. But the important thing I would like to say is sonarlink thinks this streams reduce cognitive complexity. I will edit my question with that outcome. Thank you!"}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679920177,"creation_date":1679920177,"answer_id":75855763,"question_id":75855686,"body_markdown":"You can use nested `Stream#anyMatch` (which is a short-circuiting operation), but it doesn&#39;t really reduce the cognitive complexity.\r\n\r\n```java\r\nreturn Countries.stream().anyMatch(country -&gt; \r\n\tcountry.getCities().stream().anyMatch(city -&gt; \r\n\t\tcity.getDistricts().stream().anyMatch(district -&gt; {\r\n\t\t\tboolean ret = district.getName().equals(search);\r\n\t\t\tif (ret) {\r\n\t\t\t\t// do something\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t})\r\n\t)\r\n);\r\n```","title":"Java break from nested Stream ForEach","body":"<p>You can use nested <code>Stream#anyMatch</code> (which is a short-circuiting operation), but it doesn't really reduce the cognitive complexity.</p>\n<pre class=\"lang-java prettyprint-override\"><code>return Countries.stream().anyMatch(country -&gt; \n    country.getCities().stream().anyMatch(city -&gt; \n        city.getDistricts().stream().anyMatch(district -&gt; {\n            boolean ret = district.getName().equals(search);\n            if (ret) {\n                // do something\n            }\n            return ret;\n        })\n    )\n);\n</code></pre>\n"}],"owner":{"account_id":6021831,"reputation":163,"user_id":4728677,"display_name":"count_campeador"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75855763,"answer_count":1,"score":-2,"last_activity_date":1679930097,"creation_date":1679919707,"question_id":75855686,"body_markdown":"Edit: Switched pseudo code to a runnable code example.\r\n\r\nEdit2: Sonarlink thinks nested streams reduce cognitive complexity, adding the outcome at the end of my question. Thank you @Unmitigated.\r\n\r\n\r\nI have some objects, lets say; countries, cities, districts. Countries have a list of cities, cities have a list of districts.\r\n\r\nI am trying to find a district by name and put that data in a Map.\r\n\r\nFor example: district name is &quot;Bastille&quot;. I try to find it by checking all countries&#39; all cities&#39; all districts. Here is an example code for my logic.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tSystem.out.println(&quot;Hello, World!&quot;);\r\n    \r\n    \t\tList&lt;Country&gt; countries = new ArrayList&lt;&gt;();\r\n    \r\n    \t\tCountry co1 = new Country();\r\n    \t\tco1.setName(&quot;USA&quot;);\r\n    \r\n    \t\tCity cit1 = new City();\r\n    \t\tcit1.setName(&quot;New York&quot;);\r\n    \r\n    \t\tDistrict d1 = new District();\r\n    \t\td1.setName(&quot;Manhattan&quot;);\r\n    \r\n    \t\tDistrict d2 = new District();\r\n    \t\td2.setName(&quot;Queens&quot;);\r\n    \r\n    \t\tcit1.setDistricts(Arrays.asList(d1, d2));\r\n    \t\tco1.setCities(Arrays.asList(cit1));\r\n    \r\n    \t\tcountries.add(co1);\r\n    \r\n    \r\n    \t\tCountry co2 = new Country();\r\n    \t\tco2.setName(&quot;France&quot;);\r\n    \r\n    \t\tCity cit2 = new City();\r\n    \t\tcit2.setName(&quot;Paris&quot;);\r\n    \r\n    \t\tDistrict d3 = new District();\r\n    \t\td3.setName(&quot;Bastille&quot;);\r\n    \r\n    \t\tDistrict d4 = new District();\r\n    \t\td4.setName(&quot;Montmarte&quot;);\r\n    \r\n    \t\tcit2.setDistricts(Arrays.asList(d3, d4));\r\n    \t\tco2.setCities(Arrays.asList(cit2));\r\n    \r\n    \t\tcountries.add(co1);\r\n    \t\tcountries.add(co2);\r\n    \r\n    \r\n    \r\n    \t\tHashMap&lt;String, HashMap&lt;String, HashMap&lt;String, String&gt;&gt;&gt; foundMap = new HashMap&lt;&gt;();\r\n    \r\n    \t\tboolean isFound = method1(countries, foundMap, &quot;Bastille&quot;);\r\n    \r\n    \t\tSystem.out.println(foundMap);\r\n    \r\n    \t}\r\n    \r\n    \tpublic static boolean method1(List&lt;Country&gt; countries, HashMap&lt;String, HashMap&lt;String, HashMap&lt;String, String&gt;&gt;&gt; foundMap, String search) {\r\n    \t\tfor(Country country : countries){\r\n    \t\t\tfor(City city : country.getCities()){\r\n    \t\t\t\tfor(District district : city.getDistricts()){\r\n    \t\t\t\t\tif(district.getName().equals(search)){\r\n    \r\n    \t\t\t\t\t\tif(!foundMap.containsKey(country.getName())){\r\n    \t\t\t\t\t\t\tfoundMap.put(country.getName(), new HashMap&lt;&gt;());\r\n    \t\t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t\tif(!foundMap.get(country.getName()).containsKey(city.getName())){\r\n    \t\t\t\t\t\t\tfoundMap.get(country.getName()).put(city.getName(), new HashMap&lt;&gt;());\r\n    \t\t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t\tfoundMap.get(country.getName()).get(city.getName()).put(district.getName(), &quot;Hello from &quot; + district.getName());\r\n    \r\n    \t\t\t\t\t\treturn true;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\treturn false;\r\n    \t}\r\n    }\r\nHere are the sample country, city, district classes;\r\n\r\n\r\n    import java.util.List;\r\n    \r\n    public class Country {\r\n    \r\n    \tString name;\r\n    \tList&lt;City&gt; cities;\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic List&lt;City&gt; getCities() {\r\n    \t\treturn cities;\r\n    \t}\r\n    \r\n    \tpublic void setCities(List&lt;City&gt; cities) {\r\n    \t\tthis.cities = cities;\r\n    \t}\r\n    }\r\n\r\n\r\n    import java.util.List;\r\n    \r\n    public class City {\r\n    \r\n    \tString name;\r\n    \tList&lt;District&gt; districts;\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic List&lt;District&gt; getDistricts() {\r\n    \t\treturn districts;\r\n    \t}\r\n    \r\n    \tpublic void setDistricts(List&lt;District&gt; districts) {\r\n    \t\tthis.districts = districts;\r\n    \t}\r\n    }\r\n\r\n\r\n    public class District {\r\n    \r\n    \tString name;\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    }\r\n\r\n\r\nThis example creates me the needed HashMap;\r\n\r\n{France={Paris={Bastille=Hello from Bastille}}}\r\n\r\nIn my situation, I need to check method1&#39;s return and throw an exception if this district is not found! (System should contain all the districts so &quot;not found&quot; is a failure)\r\n\r\nI also need all these country name, city name, district name (which these nested for loops provide me) to create this HashMap entry.\r\n\r\nSo is there a more elegant way to implement this logic with streams or other tool? (I am ok with this code but sonarlint is unhappy about &quot;cognitive complexity&quot; and I have to find a way to reduce that). \r\n\r\nTrying to switch to nested streams but I couldn&#39;t figure out how to use stream here. I can use some nested streams but I am not able to return true.\r\n\r\n    countries.getCities().forEach(city-&gt;{\r\n    ...\r\n    ...\r\n    //if district name is Bastille\r\n    return true; //Unexpected Return value because this is inside nested streams, not returning true from the method. If only &quot;return&quot; is used, I only returns from iterable to the outer stream.\r\n    }\r\n\r\nSo is there a better way to make both &quot;check if district exists&quot; and &quot;put all data in a hashmap&quot; logic run? Or only way to solve this is altering the algorithm?\r\n\r\n\r\n**Conclusion**: I am switching my code to the Unmitigated&#39;s answer.\r\n\r\nIn my real situation, I had to create 4 &quot;for&quot; loops then an &quot;if&quot; to check if condition is met, then some business logic with hashmap. Sonarlink thinks method&#39;s cognitive complexity was 30.\r\n\r\nAfter switching to nested streams with anyMatch, an inside boolean variable to check if condition is met then some business logic with hashmap and return; Sonarlink now says cognitive complexity dropped to 20. I think this is Sonarlink&#39;s misjudging because it ignores &quot;stream().anyMatch(...&quot;  but counts &quot;for(Obj o: List&lt;Obj&gt;)&quot;. \r\n\r\nThe problem was: my company did not allow higher level of complexity in methods, after this refactoring Sonarlink is happy.\r\n\r\n\r\n\r\n","title":"Java break from nested Stream ForEach","body":"<p>Edit: Switched pseudo code to a runnable code example.</p>\n<p>Edit2: Sonarlink thinks nested streams reduce cognitive complexity, adding the outcome at the end of my question. Thank you @Unmitigated.</p>\n<p>I have some objects, lets say; countries, cities, districts. Countries have a list of cities, cities have a list of districts.</p>\n<p>I am trying to find a district by name and put that data in a Map.</p>\n<p>For example: district name is &quot;Bastille&quot;. I try to find it by checking all countries' all cities' all districts. Here is an example code for my logic.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.List;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        System.out.println(&quot;Hello, World!&quot;);\n\n        List&lt;Country&gt; countries = new ArrayList&lt;&gt;();\n\n        Country co1 = new Country();\n        co1.setName(&quot;USA&quot;);\n\n        City cit1 = new City();\n        cit1.setName(&quot;New York&quot;);\n\n        District d1 = new District();\n        d1.setName(&quot;Manhattan&quot;);\n\n        District d2 = new District();\n        d2.setName(&quot;Queens&quot;);\n\n        cit1.setDistricts(Arrays.asList(d1, d2));\n        co1.setCities(Arrays.asList(cit1));\n\n        countries.add(co1);\n\n\n        Country co2 = new Country();\n        co2.setName(&quot;France&quot;);\n\n        City cit2 = new City();\n        cit2.setName(&quot;Paris&quot;);\n\n        District d3 = new District();\n        d3.setName(&quot;Bastille&quot;);\n\n        District d4 = new District();\n        d4.setName(&quot;Montmarte&quot;);\n\n        cit2.setDistricts(Arrays.asList(d3, d4));\n        co2.setCities(Arrays.asList(cit2));\n\n        countries.add(co1);\n        countries.add(co2);\n\n\n\n        HashMap&lt;String, HashMap&lt;String, HashMap&lt;String, String&gt;&gt;&gt; foundMap = new HashMap&lt;&gt;();\n\n        boolean isFound = method1(countries, foundMap, &quot;Bastille&quot;);\n\n        System.out.println(foundMap);\n\n    }\n\n    public static boolean method1(List&lt;Country&gt; countries, HashMap&lt;String, HashMap&lt;String, HashMap&lt;String, String&gt;&gt;&gt; foundMap, String search) {\n        for(Country country : countries){\n            for(City city : country.getCities()){\n                for(District district : city.getDistricts()){\n                    if(district.getName().equals(search)){\n\n                        if(!foundMap.containsKey(country.getName())){\n                            foundMap.put(country.getName(), new HashMap&lt;&gt;());\n                        }\n\n                        if(!foundMap.get(country.getName()).containsKey(city.getName())){\n                            foundMap.get(country.getName()).put(city.getName(), new HashMap&lt;&gt;());\n                        }\n\n                        foundMap.get(country.getName()).get(city.getName()).put(district.getName(), &quot;Hello from &quot; + district.getName());\n\n                        return true;\n                    }\n                }\n            }\n        }\n\n        return false;\n    }\n}\n</code></pre>\n<p>Here are the sample country, city, district classes;</p>\n<pre><code>import java.util.List;\n\npublic class Country {\n\n    String name;\n    List&lt;City&gt; cities;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public List&lt;City&gt; getCities() {\n        return cities;\n    }\n\n    public void setCities(List&lt;City&gt; cities) {\n        this.cities = cities;\n    }\n}\n\n\nimport java.util.List;\n\npublic class City {\n\n    String name;\n    List&lt;District&gt; districts;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public List&lt;District&gt; getDistricts() {\n        return districts;\n    }\n\n    public void setDistricts(List&lt;District&gt; districts) {\n        this.districts = districts;\n    }\n}\n\n\npublic class District {\n\n    String name;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p>This example creates me the needed HashMap;</p>\n<p>{France={Paris={Bastille=Hello from Bastille}}}</p>\n<p>In my situation, I need to check method1's return and throw an exception if this district is not found! (System should contain all the districts so &quot;not found&quot; is a failure)</p>\n<p>I also need all these country name, city name, district name (which these nested for loops provide me) to create this HashMap entry.</p>\n<p>So is there a more elegant way to implement this logic with streams or other tool? (I am ok with this code but sonarlint is unhappy about &quot;cognitive complexity&quot; and I have to find a way to reduce that).</p>\n<p>Trying to switch to nested streams but I couldn't figure out how to use stream here. I can use some nested streams but I am not able to return true.</p>\n<pre><code>countries.getCities().forEach(city-&gt;{\n...\n...\n//if district name is Bastille\nreturn true; //Unexpected Return value because this is inside nested streams, not returning true from the method. If only &quot;return&quot; is used, I only returns from iterable to the outer stream.\n}\n</code></pre>\n<p>So is there a better way to make both &quot;check if district exists&quot; and &quot;put all data in a hashmap&quot; logic run? Or only way to solve this is altering the algorithm?</p>\n<p><strong>Conclusion</strong>: I am switching my code to the Unmitigated's answer.</p>\n<p>In my real situation, I had to create 4 &quot;for&quot; loops then an &quot;if&quot; to check if condition is met, then some business logic with hashmap. Sonarlink thinks method's cognitive complexity was 30.</p>\n<p>After switching to nested streams with anyMatch, an inside boolean variable to check if condition is met then some business logic with hashmap and return; Sonarlink now says cognitive complexity dropped to 20. I think this is Sonarlink's misjudging because it ignores &quot;stream().anyMatch(...&quot;  but counts &quot;for(Obj o: List)&quot;.</p>\n<p>The problem was: my company did not allow higher level of complexity in methods, after this refactoring Sonarlink is happy.</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":1988337,"reputation":598,"user_id":1782997,"display_name":"Attila T"},"score":0,"creation_date":1665678134,"post_id":74058881,"comment_id":130760755,"body_markdown":"Move `@Autowired` from the attribute to the ctor in `UsersService`.","body":"Move <code>@Autowired</code> from the attribute to the ctor in <code>UsersService</code>."}],"answers":[{"comments":[{"owner":{"account_id":12437064,"reputation":141,"user_id":9057026,"display_name":"Luigi105"},"score":0,"creation_date":1665678881,"post_id":74058930,"comment_id":130760989,"body_markdown":"If I remove the constructor, I&#39;ve this compilation error: &quot;Variable &#39;usersRepository&#39; might not have been initialized&quot;","body":"If I remove the constructor, I&#39;ve this compilation error: &quot;Variable &#39;usersRepository&#39; might not have been initialized&quot;"},{"owner":{"account_id":25435554,"reputation":135,"user_id":19239331,"display_name":"Gun Slinger"},"score":0,"creation_date":1665680109,"post_id":74058930,"comment_id":130761358,"body_markdown":"have you tried extending JPArepository rather than JPAconnector?","body":"have you tried extending JPArepository rather than JPAconnector?"},{"owner":{"account_id":12437064,"reputation":141,"user_id":9057026,"display_name":"Luigi105"},"score":0,"creation_date":1665680708,"post_id":74058930,"comment_id":130761529,"body_markdown":"yes. In this case, I&#39;ve runtime error NullPointerException because &quot;usersRepository&quot; is null","body":"yes. In this case, I&#39;ve runtime error NullPointerException because &quot;usersRepository&quot; is null"},{"owner":{"account_id":25435554,"reputation":135,"user_id":19239331,"display_name":"Gun Slinger"},"score":0,"creation_date":1665681041,"post_id":74058930,"comment_id":130761619,"body_markdown":"are you sure that all your controller,service,repository package are in single springboot package like this  [spring-boot strucuture](https://www.google.com/url?sa=i&amp;url=https%3A%2F%2Fmedium.com%2Fthe-resonant-web%2Fspring-boot-2-0-project-structure-and-best-practices-part-2-7137bdcba7d3&amp;psig=AOvVaw2aF0JqmsVEMX6CFl7oDeUp&amp;ust=1665767538531000&amp;source=images&amp;cd=vfe&amp;ved=0CAwQjRxqFwoTCIjWqObZ3foCFQAAAAAdAAAAABAS)","body":"are you sure that all your controller,service,repository package are in single springboot package like this  <a href=\"https://www.google.com/url?sa=i&amp;url=https%3A%2F%2Fmedium.com%2Fthe-resonant-web%2Fspring-boot-2-0-project-structure-and-best-practices-part-2-7137bdcba7d3&amp;psig=AOvVaw2aF0JqmsVEMX6CFl7oDeUp&amp;ust=1665767538531000&amp;source=images&amp;cd=vfe&amp;ved=0CAwQjRxqFwoTCIjWqObZ3foCFQAAAAAdAAAAABAS\" rel=\"nofollow noreferrer\">spring-boot strucuture</a>"},{"owner":{"account_id":12437064,"reputation":141,"user_id":9057026,"display_name":"Luigi105"},"score":0,"creation_date":1665681502,"post_id":74058930,"comment_id":130761761,"body_markdown":"Yes, they are in the same package","body":"Yes, they are in the same package"}],"tags":[],"owner":{"account_id":25435554,"reputation":135,"user_id":19239331,"display_name":"Gun Slinger"},"comment_count":5,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1665677874,"creation_date":1665677874,"answer_id":74058930,"question_id":74058881,"body_markdown":"```\r\n    public UsersService(UsersRepository usersRepository) {\r\n        this.usersRepository = usersRepository;\r\n    }\r\n```\r\ntry removing this contructor","title":"&quot;No qualifying bean of type&quot; while using autowired in JPA Repository","body":"<pre><code>    public UsersService(UsersRepository usersRepository) {\n        this.usersRepository = usersRepository;\n    }\n</code></pre>\n<p>try removing this contructor</p>\n"},{"comments":[{"owner":{"account_id":12437064,"reputation":141,"user_id":9057026,"display_name":"Luigi105"},"score":0,"creation_date":1665679660,"post_id":74059017,"comment_id":130761239,"body_markdown":"Replicated this code but same mistake:  No qualifying bean of type &#39;com.repository.UsersRepository&#39; available:\n expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}","body":"Replicated this code but same mistake:  No qualifying bean of type &#39;com.repository.UsersRepository&#39; available:  expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}"},{"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"score":0,"creation_date":1665680018,"post_id":74059017,"comment_id":130761333,"body_markdown":"Could you should the code where you are injecting this UserService bean\nAlso, Have you changed the name JpaConnector to JpaRepository like above.","body":"Could you should the code where you are injecting this UserService bean Also, Have you changed the name JpaConnector to JpaRepository like above."},{"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"score":0,"creation_date":1665680040,"post_id":74059017,"comment_id":130761336,"body_markdown":"Also, try rebuilding or recompiling the project after the changes","body":"Also, try rebuilding or recompiling the project after the changes"},{"owner":{"account_id":12437064,"reputation":141,"user_id":9057026,"display_name":"Luigi105"},"score":0,"creation_date":1665680627,"post_id":74059017,"comment_id":130761500,"body_markdown":"I edited my question with the new code. I tried to remove the Autowired from the constructor (same problem) or to remove the constructor. In this last case, I had NullPointerException on usersRepository variable","body":"I edited my question with the new code. I tried to remove the Autowired from the constructor (same problem) or to remove the constructor. In this last case, I had NullPointerException on usersRepository variable"},{"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"score":0,"creation_date":1665682116,"post_id":74059017,"comment_id":130761971,"body_markdown":"Could you post your controller class too","body":"Could you post your controller class too"},{"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"score":0,"creation_date":1665682941,"post_id":74059017,"comment_id":130762205,"body_markdown":"Where you used userservice dependency as it seems there is some issue there too","body":"Where you used userservice dependency as it seems there is some issue there too"},{"owner":{"account_id":12437064,"reputation":141,"user_id":9057026,"display_name":"Luigi105"},"score":0,"creation_date":1665683555,"post_id":74059017,"comment_id":130762401,"body_markdown":"I did not implemented RestController yet, could it be a problem?","body":"I did not implemented RestController yet, could it be a problem?"},{"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"score":0,"creation_date":1665685447,"post_id":74059017,"comment_id":130762986,"body_markdown":"No that should not be a problem could you show the directory structure of your project","body":"No that should not be a problem could you show the directory structure of your project"},{"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"score":0,"creation_date":1665687094,"post_id":74059017,"comment_id":130763420,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/248786/discussion-between-sumit-and-luigi105).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/248786/discussion-between-sumit-and-luigi105\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"comment_count":9,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1665678782,"creation_date":1665678317,"answer_id":74059017,"question_id":74058881,"body_markdown":"It seems you do not have any primary key in your User table.\r\n\r\n\r\nJPA requires that every entity has an ID. So no, entity w/o an ID is not allowed. Try adding a primary key of type Integer as it is required when extending to the JPa repository as the second argument passed is the type of primary key. You can define a field as primary key by using `@Id` annotation. You can do something like below:\r\n\r\n\r\n    package com.model;\r\n    import javax.persistence.*;\r\n\r\n    @Entity\r\n    @Table(name=Constants.USERS, schema = Constants.SCHEMA)\r\n    public class Users {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY) \r\n        private int id;   //&lt;----like this\r\n    @Column(name= &quot;username&quot;, nullable=false)\r\n    private String username;\r\n\r\n    @Column(name=&quot;lastname&quot;, nullable = false)\r\n    private String lastname;\r\n\r\n    public Users() {\r\n    }\r\n\r\n    public Users(String username, String lastname) {\r\n        this.username = username;\r\n        this.lastname = lastname;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    public String getLastname() {\r\n        return lastname;\r\n    }\r\n\r\n    public void setLastname(String lastname) {\r\n        this.lastname = lastname;\r\n    }\r\n}\r\n\r\n\r\nKeep your repository same\r\n\r\n\r\nAlso , you do not have to write @Autowire on the field as the constructor will automatically inject the bean to the field\r\n\r\n\r\n \r\n\r\n    @Autowired   // this is not necessary you can remove this too\r\n        private final UsersRepository usersRepository;\r\n    \r\n        public UsersService(UsersRepository usersRepository) {\r\n            this.usersRepository = usersRepository;\r\n        }\r\n\r\n\r\nAlso, I think you should be extending to JpaRepository like below instead of JpaConnector\r\n\r\n    @Repository\r\n    public interface UsersRepository extends JpaRepository&lt;Users,Integer&gt; {\r\n    \r\n        public List&lt;Users&gt; findAll();\r\n        public long count(); // and no need to define function here\r\n    }\r\n\r\n","title":"&quot;No qualifying bean of type&quot; while using autowired in JPA Repository","body":"<p>It seems you do not have any primary key in your User table.</p>\n<p>JPA requires that every entity has an ID. So no, entity w/o an ID is not allowed. Try adding a primary key of type Integer as it is required when extending to the JPa repository as the second argument passed is the type of primary key. You can define a field as primary key by using <code>@Id</code> annotation. You can do something like below:</p>\n<pre><code>package com.model;\nimport javax.persistence.*;\n\n@Entity\n@Table(name=Constants.USERS, schema = Constants.SCHEMA)\npublic class Users {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY) \n    private int id;   //&lt;----like this\n@Column(name= &quot;username&quot;, nullable=false)\nprivate String username;\n\n@Column(name=&quot;lastname&quot;, nullable = false)\nprivate String lastname;\n\npublic Users() {\n}\n\npublic Users(String username, String lastname) {\n    this.username = username;\n    this.lastname = lastname;\n}\n\npublic Long getId() {\n    return id;\n}\n\npublic void setId(Long id) {\n    this.id = id;\n}\n\npublic String getUsername() {\n    return username;\n}\n\npublic void setUsername(String username) {\n    this.username = username;\n}\n\npublic String getLastname() {\n    return lastname;\n}\n\npublic void setLastname(String lastname) {\n    this.lastname = lastname;\n}\n</code></pre>\n<p>}</p>\n<p>Keep your repository same</p>\n<p>Also , you do not have to write @Autowire on the field as the constructor will automatically inject the bean to the field</p>\n<pre><code>@Autowired   // this is not necessary you can remove this too\n    private final UsersRepository usersRepository;\n\n    public UsersService(UsersRepository usersRepository) {\n        this.usersRepository = usersRepository;\n    }\n</code></pre>\n<p>Also, I think you should be extending to JpaRepository like below instead of JpaConnector</p>\n<pre><code>@Repository\npublic interface UsersRepository extends JpaRepository&lt;Users,Integer&gt; {\n\n    public List&lt;Users&gt; findAll();\n    public long count(); // and no need to define function here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":148297,"reputation":2213,"user_id":359974,"accept_rate":85,"display_name":"Federico Cristina"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679929931,"creation_date":1679929931,"answer_id":75857436,"question_id":74058881,"body_markdown":"You might need to specify the @EnableJpaRepository in your app, something like this:\r\n\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    ... \r\n\r\n    @SpringBootApplication\r\n    @EnableJpaRepositories\r\n    public class MyApplication {\r\n        ...\r\n    }","title":"&quot;No qualifying bean of type&quot; while using autowired in JPA Repository","body":"<p>You might need to specify the @EnableJpaRepository in your app, something like this:</p>\n<pre><code>import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n... \n\n@SpringBootApplication\n@EnableJpaRepositories\npublic class MyApplication {\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":12437064,"reputation":141,"user_id":9057026,"display_name":"Luigi105"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1792,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1679929931,"creation_date":1665677637,"question_id":74058881,"body_markdown":"I&#39;m trying to create a REST Service using Spring Boot and I&#39;m having problems using `@Autowired` between Service and Repositories.\r\n\r\nEDIT AFTER ANSWERS:\r\n\r\nThis is my code:\r\n\r\nEntity\r\n\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    @Table(name= Constants.USERS, schema = Constants.SCHEMA)\r\n    public class Users {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int id;   //&lt;----like this\r\n        @Column(name = &quot;username&quot;, nullable = false)\r\n        private String username;\r\n    \r\n        @Column(name = &quot;lastname&quot;, nullable = false)\r\n        private String lastname;\r\n    \r\n        public Users() {\r\n        }\r\n    \r\n        public Users(String username, String lastname) {\r\n            this.username = username;\r\n            this.lastname = lastname;\r\n        }\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getUsername() {\r\n            return username;\r\n        }\r\n    \r\n        public void setUsername(String username) {\r\n            this.username = username;\r\n        }\r\n    \r\n        public String getLastname() {\r\n            return lastname;\r\n        }\r\n    \r\n        public void setLastname(String lastname) {\r\n            this.lastname = lastname;\r\n        }\r\n    \r\n    }\r\n\r\nRepository\r\n\r\n \r\n\r\n       import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Repository\r\n    public interface UsersRepository extends JpaRepository&lt;Users,Integer&gt; {\r\n    \r\n        public List&lt;Users&gt; findAll();\r\n        public long count(); // and no need to define function here\r\n    }\r\n\r\n\r\n\r\nService\r\n\r\n     \r\n        import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    @Service\r\n    public class UsersService{\r\n    \r\n        private UsersRepository usersRepository;\r\n    \r\n        @Autowired\r\n        public UsersService(UsersRepository usersRepository) {\r\n            this.usersRepository = usersRepository;\r\n        }\r\n    \r\n    \r\n        public long count() {\r\n            long conteggio = usersRepository.count();\r\n            return conteggio;\r\n        }\r\n    }\r\n        \r\nThis is the traceback\r\n\r\n    Error creating bean with name &#39;usersService&#39; .Unsatisfied dependency expressed through \r\n    constructor paramet\r\n    er 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.repository.UsersRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}.\r\n    No qualifying bean of type &#39;com.intesasanpaolo.dsi.core.bear.ptrm0.connector.jpa.UsersRepository&#39; available:\r\n expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\r\n   \r\n\r\n","title":"&quot;No qualifying bean of type&quot; while using autowired in JPA Repository","body":"<p>I'm trying to create a REST Service using Spring Boot and I'm having problems using <code>@Autowired</code> between Service and Repositories.</p>\n<p>EDIT AFTER ANSWERS:</p>\n<p>This is my code:</p>\n<p>Entity</p>\n<pre><code>import javax.persistence.*;\n\n@Entity\n@Table(name= Constants.USERS, schema = Constants.SCHEMA)\npublic class Users {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;   //&lt;----like this\n    @Column(name = &quot;username&quot;, nullable = false)\n    private String username;\n\n    @Column(name = &quot;lastname&quot;, nullable = false)\n    private String lastname;\n\n    public Users() {\n    }\n\n    public Users(String username, String lastname) {\n        this.username = username;\n        this.lastname = lastname;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getLastname() {\n        return lastname;\n    }\n\n    public void setLastname(String lastname) {\n        this.lastname = lastname;\n    }\n\n}\n</code></pre>\n<p>Repository</p>\n<pre><code>   import org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Component;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\n\n@Repository\npublic interface UsersRepository extends JpaRepository&lt;Users,Integer&gt; {\n\n    public List&lt;Users&gt; findAll();\n    public long count(); // and no need to define function here\n}\n</code></pre>\n<p>Service</p>\n<pre><code>    import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class UsersService{\n\n    private UsersRepository usersRepository;\n\n    @Autowired\n    public UsersService(UsersRepository usersRepository) {\n        this.usersRepository = usersRepository;\n    }\n\n\n    public long count() {\n        long conteggio = usersRepository.count();\n        return conteggio;\n    }\n}\n    \n</code></pre>\n<p>This is the traceback</p>\n<pre><code>Error creating bean with name 'usersService' .Unsatisfied dependency expressed through \nconstructor paramet\ner 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.repository.UsersRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}.\nNo qualifying bean of type 'com.intesasanpaolo.dsi.core.bear.ptrm0.connector.jpa.UsersRepository' available:\n</code></pre>\n<p>expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}</p>\n"},{"tags":["java","string","spring-boot","whitespace"],"answers":[{"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1679929651,"creation_date":1679928885,"answer_id":75857257,"question_id":75856844,"body_markdown":"I don&#39;t think that is what is happening.  Open up your dev tools on the browser and look at what the browser is sending to the server (ie Network Tab).  I suspect the browser thinks it&#39;s a form submission and is encoding the payload with a form encoding.  You should also look at the mime-type being sent in the `Content-Type` header in dev tools.  If it&#39;s `multipart/form-data` or `application/x-www-form-urlencoded` then that&#39;s a pretty good indicator you&#39;re sending to the server that way.\r\n\r\nIf you are literally trying to send a String you&#39;d want the `Content-Type` header to be &quot;text/plain&quot; or &quot;text/plain;charset=utf-8&quot; since we aren&#39;t in ASCII anymore.  If you are trying to send plain text you&#39;ll have to do that with Javascript to make it work because you&#39;ll have to set that mime-type manually.  The browser won&#39;t do that on its own.\r\n\r\nBut, if you are trying to submit an HTML form then you should just let the browser do its thing, and change the server to use @ModelAttribute and remove @ResponseBody annotation.\r\n\r\nhttps://www.baeldung.com/spring-mvc-form-tutorial","title":"Java whitespaces in the @RequestBody string replaced by &#39;+&#39;","body":"<p>I don't think that is what is happening.  Open up your dev tools on the browser and look at what the browser is sending to the server (ie Network Tab).  I suspect the browser thinks it's a form submission and is encoding the payload with a form encoding.  You should also look at the mime-type being sent in the <code>Content-Type</code> header in dev tools.  If it's <code>multipart/form-data</code> or <code>application/x-www-form-urlencoded</code> then that's a pretty good indicator you're sending to the server that way.</p>\n<p>If you are literally trying to send a String you'd want the <code>Content-Type</code> header to be &quot;text/plain&quot; or &quot;text/plain;charset=utf-8&quot; since we aren't in ASCII anymore.  If you are trying to send plain text you'll have to do that with Javascript to make it work because you'll have to set that mime-type manually.  The browser won't do that on its own.</p>\n<p>But, if you are trying to submit an HTML form then you should just let the browser do its thing, and change the server to use @ModelAttribute and remove @ResponseBody annotation.</p>\n<p><a href=\"https://www.baeldung.com/spring-mvc-form-tutorial\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-mvc-form-tutorial</a></p>\n"}],"owner":{"account_id":13922050,"reputation":1,"user_id":10052214,"display_name":"Ekin Ilman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679929651,"creation_date":1679926670,"question_id":75856844,"body_markdown":"I am trying to send a string like &#39;Ekin Frontend&#39; in the request body and it is converted to &#39;Ekin+Frontend=&#39; at the backend.\r\nI think Springboot converts these whitespaces. Does anyone have any idea ?\r\n\r\nHere is my code block;\r\n\r\n    @PostMapping(&quot;/error&quot;)\r\n    public boolean addError( @RequestBody String errorMsg) {\r\n        ...\r\n    }\r\n\r\n","title":"Java whitespaces in the @RequestBody string replaced by &#39;+&#39;","body":"<p>I am trying to send a string like 'Ekin Frontend' in the request body and it is converted to 'Ekin+Frontend=' at the backend.\nI think Springboot converts these whitespaces. Does anyone have any idea ?</p>\n<p>Here is my code block;</p>\n<pre><code>@PostMapping(&quot;/error&quot;)\npublic boolean addError( @RequestBody String errorMsg) {\n    ...\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-flink"],"comments":[{"owner":{"account_id":3235605,"reputation":332,"user_id":2729922,"display_name":"Monika X"},"score":1,"creation_date":1679914370,"post_id":75853454,"comment_id":133800376,"body_markdown":"it seems to me that your topic is not configured properly. The exception says &quot;Failed to get metadata for topics [alerts_consumer_group_prod].&quot; and this is actually your groupId: allAlertsConsumerGroupID:alerts_consumer_group_prod","body":"it seems to me that your topic is not configured properly. The exception says &quot;Failed to get metadata for topics [alerts_consumer_group_prod].&quot; and this is actually your groupId: allAlertsConsumerGroupID:alerts_consumer_group_prod"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1679928984,"post_id":75853454,"comment_id":133804616,"body_markdown":"1) `.properties` files use `key=value` pairs, not with colons 2) Why do you need to run 4 brokers all on localhost?","body":"1) <code>.properties</code> files use <code>key=value</code> pairs, not with colons 2) Why do you need to run 4 brokers all on localhost?"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679929102,"creation_date":1679929102,"answer_id":75857297,"question_id":75853454,"body_markdown":"Typo. Notice the ordering of your constructor\r\n\r\n```\r\npublic AlertRouter(String bootstrapServer, String consumerGroupID, String topic\r\n```\r\n\r\nAnd the invocation\r\n\r\n```\r\nnew AlertRouter(bootstrapServer, alertTopic, alertConsumerGroupID\r\n```\r\n\r\n---\r\n\r\nRead the logs more closely, you&#39;ll see your **consumer group name** does not exist as a **topic**\r\n","title":"Flink Kafka consumer : Failed to get metadata for topics","body":"<p>Typo. Notice the ordering of your constructor</p>\n<pre><code>public AlertRouter(String bootstrapServer, String consumerGroupID, String topic\n</code></pre>\n<p>And the invocation</p>\n<pre><code>new AlertRouter(bootstrapServer, alertTopic, alertConsumerGroupID\n</code></pre>\n<hr />\n<p>Read the logs more closely, you'll see your <strong>consumer group name</strong> does not exist as a <strong>topic</strong></p>\n"}],"owner":{"account_id":7935210,"reputation":21,"user_id":5991506,"display_name":"Abhinav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":781,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679929102,"creation_date":1679904611,"question_id":75853454,"body_markdown":"I have a flink code which fetches data from kafka and prints to the console.\r\n\r\nIn a simple code which just has the flink code, it prints the data correctly.\r\n\r\nWhen I convert the code to a class structure, it stops the code and starts giving the below message\r\n\r\n```\r\n[SourceCoordinator-Source: Alert Router] ERROR org.apache.flink.runtime.source.coordinator.SourceCoordinatorContext - Exception while handling result from async call in SourceCoordinator-Source: Alert Router. Triggering job failover.\r\norg.apache.flink.util.FlinkRuntimeException: Failed to list subscribed topic partitions due to \r\n\tat org.apache.flink.connector.kafka.source.enumerator.KafkaSourceEnumerator.checkPartitionChanges(KafkaSourceEnumerator.java:234)\r\n\tat org.apache.flink.runtime.source.coordinator.ExecutorNotifier.lambda$null$1(ExecutorNotifier.java:83)\r\n\tat org.apache.flink.util.ThrowableCatchingRunnable.run(ThrowableCatchingRunnable.java:40)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.lang.RuntimeException: Failed to get metadata for topics [alerts_consumer_group_prod].\r\n\tat org.apache.flink.connector.kafka.source.enumerator.subscriber.KafkaSubscriberUtils.getTopicMetadata(KafkaSubscriberUtils.java:47)\r\n\tat org.apache.flink.connector.kafka.source.enumerator.subscriber.TopicListSubscriber.getSubscribedTopicPartitions(TopicListSubscriber.java:52)\r\n\tat org.apache.flink.connector.kafka.source.enumerator.KafkaSourceEnumerator.getSubscribedTopicPartitions(KafkaSourceEnumerator.java:219)\r\n\tat org.apache.flink.runtime.source.coordinator.ExecutorNotifier.lambda$notifyReadyAsync$2(ExecutorNotifier.java:80)\r\n\t... 6 more\r\nCaused by: java.util.concurrent.ExecutionException: org.apache.kafka.common.errors.UnknownTopicOrPartitionException: This server does not host this topic-partition.\r\n\tat java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)\r\n\tat java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)\r\n\tat org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:165)\r\n\tat org.apache.flink.connector.kafka.source.enumerator.subscriber.KafkaSubscriberUtils.getTopicMetadata(KafkaSubscriberUtils.java:44)\r\n\t... 9 more\r\nCaused by: org.apache.kafka.common.errors.UnknownTopicOrPartitionException: This server does not host this topic-partition.\r\n```\r\n\r\nThe server does host the topic and the partition (Have checked that multiple times)\r\n\r\nMy Code:\r\n\r\n**config.properties**\r\n\r\n```\r\nbootstrapServers:localhost:9092,localhost:9095,localhost:9097,localhost:9099\r\nallAlertsConsumerGroupID:alerts_consumer_group_prod\r\nallAlertsTopic:&lt;some topic&gt;\r\nallAlertsTopicParallelism:2\r\n```\r\n\r\n**Main Class**\r\n```\r\npackage allEvents;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.util.Properties;\r\n\r\npublic class AllEvents {\r\n    public static void main(String[] args) throws Exception {\r\n        String propertiesFile = &quot;./src/main/resources/config.properties&quot;;\r\n        Properties properties = new Properties();\r\n        FileInputStream fileInputStream = new FileInputStream(propertiesFile);\r\n        properties.load(fileInputStream);\r\n\r\n        String bootstrapServer = properties.getProperty(&quot;bootstrapServers&quot;);\r\n        String alertTopic = properties.getProperty(&quot;allAlertsTopic&quot;);\r\n        String alertConsumerGroupID = properties.getProperty(&quot;allAlertsConsumerGroupID&quot;);\r\n        int alertTopicParallelism = Integer.parseInt(properties.getProperty(&quot;allAlertsTopicParallelism&quot;));\r\n        System.out.println(&quot;Starting: &quot; + bootstrapServer + &quot;, Topic: &quot; + alertTopic + &quot;, ConsumerGroup: &quot; + alertConsumerGroupID + &quot;, Parallelism: &quot; + alertTopicParallelism);\r\n\r\n        AlertRouter alertRouter = new AlertRouter(bootstrapServer, alertTopic, alertConsumerGroupID, alertTopicParallelism);\r\n        alertRouter.routeAlerts();\r\n    }\r\n}\r\n```\r\n\r\n**Alert Router**\r\n\r\n```\r\npackage allEvents;\r\n\r\nimport org.apache.flink.api.common.eventtime.WatermarkStrategy;\r\nimport org.apache.flink.connector.jdbc.JdbcConnectionOptions;\r\nimport org.apache.flink.connector.jdbc.JdbcExecutionOptions;\r\nimport org.apache.flink.connector.jdbc.JdbcSink;\r\nimport org.apache.flink.connector.kafka.source.KafkaSource;\r\nimport org.apache.flink.connector.kafka.source.enumerator.initializer.OffsetsInitializer;\r\nimport org.apache.flink.connector.kafka.source.reader.deserializer.KafkaRecordDeserializationSchema;\r\nimport org.apache.flink.streaming.api.datastream.DataStream;\r\nimport org.apache.flink.streaming.api.datastream.SingleOutputStreamOperator;\r\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\r\nimport org.apache.flink.streaming.api.functions.ProcessFunction;\r\nimport org.apache.flink.util.Collector;\r\nimport org.apache.flink.util.OutputTag;\r\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\r\nimport org.apache.kafka.common.serialization.StringDeserializer;\r\n\r\nimport javax.xml.crypto.Data;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.Properties;\r\n\r\npublic class AlertRouter {\r\n    private String bootstrapServer;\r\n    private String consumerGroupID;\r\n    private String topic;\r\n    private int parallelism;\r\n\r\n    public AlertRouter(String bootstrapServer, String consumerGroupID, String topic, int parallelism) {\r\n        this.bootstrapServer = bootstrapServer;\r\n        this.consumerGroupID = consumerGroupID;\r\n        this.topic = topic;\r\n        this.parallelism = parallelism;\r\n    }\r\n\r\n    public void routeAlerts() throws Exception {\r\n        final StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n        env.setParallelism(this.parallelism);\r\n\r\n        Properties properties = new Properties();\r\n        properties.setProperty(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, this.bootstrapServer);\r\n        properties.setProperty(ConsumerConfig.GROUP_ID_CONFIG, this.consumerGroupID);\r\n        properties.setProperty(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\r\n        properties.setProperty(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, &quot;true&quot;);\r\n\r\n        System.out.println(&quot;Inside route Alerts: &quot; + properties);\r\n\r\n        String propertiesFile = &quot;./src/main/resources/config.properties&quot;;\r\n        Properties fileProps = new Properties();\r\n        FileInputStream fileInputStream = new FileInputStream(propertiesFile);\r\n        fileProps.load(fileInputStream);\r\n\r\n        KafkaSource&lt;String&gt; alertSourceKafka = KafkaSource.&lt;String&gt;builder()\r\n                .setBootstrapServers(this.bootstrapServer)\r\n                .setTopics(this.topic)\r\n                .setProperties(properties)\r\n                .setGroupId(this.consumerGroupID)\r\n                .setStartingOffsets(OffsetsInitializer.latest())\r\n           .setDeserializer(KafkaRecordDeserializationSchema.valueOnly(StringDeserializer.class))\r\n                .build();\r\n\r\n        System.out.println(&quot;Kafka Source: &quot; + this.bootstrapServer);\r\n\r\n        DataStream&lt;String&gt; alertsStream = env.fromSource(alertSourceKafka, WatermarkStrategy.noWatermarks(), &quot;Alert Router&quot;);\r\n\r\n\r\n        alertsStream.print(&quot;Alert Stream&quot;);\r\n        env.execute();\r\n    }\r\n}\r\n```\r\n\r\nCan someone please help me understand the issue here?","title":"Flink Kafka consumer : Failed to get metadata for topics","body":"<p>I have a flink code which fetches data from kafka and prints to the console.</p>\n<p>In a simple code which just has the flink code, it prints the data correctly.</p>\n<p>When I convert the code to a class structure, it stops the code and starts giving the below message</p>\n<pre><code>[SourceCoordinator-Source: Alert Router] ERROR org.apache.flink.runtime.source.coordinator.SourceCoordinatorContext - Exception while handling result from async call in SourceCoordinator-Source: Alert Router. Triggering job failover.\norg.apache.flink.util.FlinkRuntimeException: Failed to list subscribed topic partitions due to \n    at org.apache.flink.connector.kafka.source.enumerator.KafkaSourceEnumerator.checkPartitionChanges(KafkaSourceEnumerator.java:234)\n    at org.apache.flink.runtime.source.coordinator.ExecutorNotifier.lambda$null$1(ExecutorNotifier.java:83)\n    at org.apache.flink.util.ThrowableCatchingRunnable.run(ThrowableCatchingRunnable.java:40)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.RuntimeException: Failed to get metadata for topics [alerts_consumer_group_prod].\n    at org.apache.flink.connector.kafka.source.enumerator.subscriber.KafkaSubscriberUtils.getTopicMetadata(KafkaSubscriberUtils.java:47)\n    at org.apache.flink.connector.kafka.source.enumerator.subscriber.TopicListSubscriber.getSubscribedTopicPartitions(TopicListSubscriber.java:52)\n    at org.apache.flink.connector.kafka.source.enumerator.KafkaSourceEnumerator.getSubscribedTopicPartitions(KafkaSourceEnumerator.java:219)\n    at org.apache.flink.runtime.source.coordinator.ExecutorNotifier.lambda$notifyReadyAsync$2(ExecutorNotifier.java:80)\n    ... 6 more\nCaused by: java.util.concurrent.ExecutionException: org.apache.kafka.common.errors.UnknownTopicOrPartitionException: This server does not host this topic-partition.\n    at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)\n    at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)\n    at org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:165)\n    at org.apache.flink.connector.kafka.source.enumerator.subscriber.KafkaSubscriberUtils.getTopicMetadata(KafkaSubscriberUtils.java:44)\n    ... 9 more\nCaused by: org.apache.kafka.common.errors.UnknownTopicOrPartitionException: This server does not host this topic-partition.\n</code></pre>\n<p>The server does host the topic and the partition (Have checked that multiple times)</p>\n<p>My Code:</p>\n<p><strong>config.properties</strong></p>\n<pre><code>bootstrapServers:localhost:9092,localhost:9095,localhost:9097,localhost:9099\nallAlertsConsumerGroupID:alerts_consumer_group_prod\nallAlertsTopic:&lt;some topic&gt;\nallAlertsTopicParallelism:2\n</code></pre>\n<p><strong>Main Class</strong></p>\n<pre><code>package allEvents;\n\nimport java.io.FileInputStream;\nimport java.util.Properties;\n\npublic class AllEvents {\n    public static void main(String[] args) throws Exception {\n        String propertiesFile = &quot;./src/main/resources/config.properties&quot;;\n        Properties properties = new Properties();\n        FileInputStream fileInputStream = new FileInputStream(propertiesFile);\n        properties.load(fileInputStream);\n\n        String bootstrapServer = properties.getProperty(&quot;bootstrapServers&quot;);\n        String alertTopic = properties.getProperty(&quot;allAlertsTopic&quot;);\n        String alertConsumerGroupID = properties.getProperty(&quot;allAlertsConsumerGroupID&quot;);\n        int alertTopicParallelism = Integer.parseInt(properties.getProperty(&quot;allAlertsTopicParallelism&quot;));\n        System.out.println(&quot;Starting: &quot; + bootstrapServer + &quot;, Topic: &quot; + alertTopic + &quot;, ConsumerGroup: &quot; + alertConsumerGroupID + &quot;, Parallelism: &quot; + alertTopicParallelism);\n\n        AlertRouter alertRouter = new AlertRouter(bootstrapServer, alertTopic, alertConsumerGroupID, alertTopicParallelism);\n        alertRouter.routeAlerts();\n    }\n}\n</code></pre>\n<p><strong>Alert Router</strong></p>\n<pre><code>package allEvents;\n\nimport org.apache.flink.api.common.eventtime.WatermarkStrategy;\nimport org.apache.flink.connector.jdbc.JdbcConnectionOptions;\nimport org.apache.flink.connector.jdbc.JdbcExecutionOptions;\nimport org.apache.flink.connector.jdbc.JdbcSink;\nimport org.apache.flink.connector.kafka.source.KafkaSource;\nimport org.apache.flink.connector.kafka.source.enumerator.initializer.OffsetsInitializer;\nimport org.apache.flink.connector.kafka.source.reader.deserializer.KafkaRecordDeserializationSchema;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.datastream.SingleOutputStreamOperator;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.api.functions.ProcessFunction;\nimport org.apache.flink.util.Collector;\nimport org.apache.flink.util.OutputTag;\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.common.serialization.StringDeserializer;\n\nimport javax.xml.crypto.Data;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.Properties;\n\npublic class AlertRouter {\n    private String bootstrapServer;\n    private String consumerGroupID;\n    private String topic;\n    private int parallelism;\n\n    public AlertRouter(String bootstrapServer, String consumerGroupID, String topic, int parallelism) {\n        this.bootstrapServer = bootstrapServer;\n        this.consumerGroupID = consumerGroupID;\n        this.topic = topic;\n        this.parallelism = parallelism;\n    }\n\n    public void routeAlerts() throws Exception {\n        final StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(this.parallelism);\n\n        Properties properties = new Properties();\n        properties.setProperty(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, this.bootstrapServer);\n        properties.setProperty(ConsumerConfig.GROUP_ID_CONFIG, this.consumerGroupID);\n        properties.setProperty(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\n        properties.setProperty(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, &quot;true&quot;);\n\n        System.out.println(&quot;Inside route Alerts: &quot; + properties);\n\n        String propertiesFile = &quot;./src/main/resources/config.properties&quot;;\n        Properties fileProps = new Properties();\n        FileInputStream fileInputStream = new FileInputStream(propertiesFile);\n        fileProps.load(fileInputStream);\n\n        KafkaSource&lt;String&gt; alertSourceKafka = KafkaSource.&lt;String&gt;builder()\n                .setBootstrapServers(this.bootstrapServer)\n                .setTopics(this.topic)\n                .setProperties(properties)\n                .setGroupId(this.consumerGroupID)\n                .setStartingOffsets(OffsetsInitializer.latest())\n           .setDeserializer(KafkaRecordDeserializationSchema.valueOnly(StringDeserializer.class))\n                .build();\n\n        System.out.println(&quot;Kafka Source: &quot; + this.bootstrapServer);\n\n        DataStream&lt;String&gt; alertsStream = env.fromSource(alertSourceKafka, WatermarkStrategy.noWatermarks(), &quot;Alert Router&quot;);\n\n\n        alertsStream.print(&quot;Alert Stream&quot;);\n        env.execute();\n    }\n}\n</code></pre>\n<p>Can someone please help me understand the issue here?</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1679897422,"post_id":75852553,"comment_id":133796608,"body_markdown":"`System.out.println(&quot;you enter wrong Input&quot;);sc.next();` --&gt; `System.out.println(&quot;you enter wrong Input&quot;); continue;`","body":"<code>System.out.println(&quot;you enter wrong Input&quot;);sc.next();</code> --&gt; <code>System.out.println(&quot;you enter wrong Input&quot;); continue;</code>"},{"owner":{"account_id":27208510,"reputation":11,"user_id":20739698,"display_name":"Lord_Shiva_Mahadev"},"score":0,"creation_date":1679897748,"post_id":75852553,"comment_id":133796655,"body_markdown":"yes its works now thanks , can you explain a bit how its functioning? where i did wrong?","body":"yes its works now thanks , can you explain a bit how its functioning? where i did wrong?"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1679897933,"post_id":75852553,"comment_id":133796684,"body_markdown":"continue skips the rest of the execution, and goes to the next iteration (of any while/do-while/for loop) because of this, it skips `--count;` so count remains 1, `count&gt;0` evaluates to true","body":"continue skips the rest of the execution, and goes to the next iteration (of any while/do-while/for loop) because of this, it skips <code>--count;</code> so count remains 1, <code>count&gt;0</code> evaluates to true"},{"owner":{"account_id":27208510,"reputation":11,"user_id":20739698,"display_name":"Lord_Shiva_Mahadev"},"score":0,"creation_date":1679900620,"post_id":75852553,"comment_id":133797087,"body_markdown":"@experimentunit1998X thanks for your valuable reply.","body":"@experimentunit1998X thanks for your valuable reply."}],"owner":{"account_id":27208510,"reputation":11,"user_id":20739698,"display_name":"Lord_Shiva_Mahadev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1679929046,"creation_date":1679897165,"question_id":75852553,"body_markdown":"here is my code where i want to re-enter input if any miss match exception happens\r\n\r\nits date taking program where user can input date and its going to check it is valid date or not .\r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class P3 {\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tint day=0,month=0,year=0;\r\n\t\tScanner sc=new Scanner(System.in);\r\n\t\tint count=1;\r\n\t\tdo {\r\n\t\tSystem.out.println(&quot;===============================\\n===============================&quot;);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter (DD-MM-YYYY)&quot;);\r\n\t\t\r\n\t\ttry {\t\r\n\t\t\r\n\t\t //day Part\t\r\n\t\t System.out.print(&quot; DD: &quot;);\r\n\t\t day=sc.nextInt();\r\n\t\t if(day&lt;1||day&gt;31) {\r\n\t\t\t\tSystem.out.println(&quot;invalid day [range:1-31]\\nEnter Again&quot;);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t \r\n\t\t //Month Part\r\n\t\t System.out.print(&quot; MM: &quot;);\r\n\t\t month=sc.nextInt();\r\n\t\t if(month&lt;1||month&gt;12) {\r\n\t\t\t\tSystem.out.println(&quot;invalid month [range:1-12]\\nEnter Again&quot;);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\t\t \r\n\t\t //Year part\r\n\t\t System.out.print(&quot; YYYY: &quot;);\r\n\t\t year=sc.nextInt();\r\n\t\t if(year&lt;1900) {\r\n\t\tSystem.out.println(&quot;no support for year less then 1900 [range:1900-current]&quot;);\r\n\t\t\t\tSystem.exit(0);\r\n\t\t\t}\r\n\t\t \r\n\t\t System.out.println(&quot;Day: &quot;+day+&quot; Month: &quot;+month+&quot; year: &quot;+year);\r\n\t\t System.out.println(&quot;===============================\\n===============================&quot;);\r\n\t\t}\r\n\t\tcatch(InputMismatchException e) {\r\n\t\t\tSystem.out.println(&quot;you enter wrong Input&quot;);\r\n\t\t\tsc.next();\r\n\t\t}\r\n\t\t\t\r\n\t\t--count;\r\n\t\t}while(count&gt;0);\r\n\t\tsc.close();\r\n\t}\r\n}\r\n\t\r\n```\r\n\r\nthis is my catch block in above program i cant perform the re-input if exception happens please help me with this.","title":"Catch Exception (InputMissmatch) and want to re-enter input again","body":"<p>here is my code where i want to re-enter input if any miss match exception happens</p>\n<p>its date taking program where user can input date and its going to check it is valid date or not .</p>\n<pre><code>import java.util.*;\n\npublic class P3 {\n    public static void main(String[] args) {\n        \n        int day=0,month=0,year=0;\n        Scanner sc=new Scanner(System.in);\n        int count=1;\n        do {\n        System.out.println(&quot;===============================\\n===============================&quot;);\n        \n        System.out.println(&quot;Enter (DD-MM-YYYY)&quot;);\n        \n        try {   \n        \n         //day Part \n         System.out.print(&quot; DD: &quot;);\n         day=sc.nextInt();\n         if(day&lt;1||day&gt;31) {\n                System.out.println(&quot;invalid day [range:1-31]\\nEnter Again&quot;);\n                continue;\n            }\n         \n         //Month Part\n         System.out.print(&quot; MM: &quot;);\n         month=sc.nextInt();\n         if(month&lt;1||month&gt;12) {\n                System.out.println(&quot;invalid month [range:1-12]\\nEnter Again&quot;);\n                continue;\n            }        \n         //Year part\n         System.out.print(&quot; YYYY: &quot;);\n         year=sc.nextInt();\n         if(year&lt;1900) {\n        System.out.println(&quot;no support for year less then 1900 [range:1900-current]&quot;);\n                System.exit(0);\n            }\n         \n         System.out.println(&quot;Day: &quot;+day+&quot; Month: &quot;+month+&quot; year: &quot;+year);\n         System.out.println(&quot;===============================\\n===============================&quot;);\n        }\n        catch(InputMismatchException e) {\n            System.out.println(&quot;you enter wrong Input&quot;);\n            sc.next();\n        }\n            \n        --count;\n        }while(count&gt;0);\n        sc.close();\n    }\n}\n    \n</code></pre>\n<p>this is my catch block in above program i cant perform the re-input if exception happens please help me with this.</p>\n"},{"tags":["java","null","final","linkedblockingqueue"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1589425642,"post_id":61788265,"comment_id":109291571,"body_markdown":"They can&#39;t be `final` because they get changed. Make  a variable `final` doesn&#39;t guarantee it is never null. Your question does&#39;t tmake sense.","body":"They can&#39;t be <code>final</code> because they get changed. Make  a variable <code>final</code> doesn&#39;t guarantee it is never null. Your question does&#39;t tmake sense."}],"answers":[{"comments":[{"owner":{"account_id":18573848,"reputation":1,"user_id":13535064,"display_name":"caihuadaye"},"score":0,"creation_date":1589425170,"post_id":61788421,"comment_id":109291444,"body_markdown":"I meant  that last may be null (last == null)","body":"I meant  that last may be null (last == null)"}],"tags":[],"owner":{"account_id":11295905,"reputation":539,"user_id":8283437,"display_name":"tomtzook"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589426066,"creation_date":1589424381,"answer_id":61788421,"question_id":61788265,"body_markdown":"You are correct that `last` is equal to a `node` with a `null` value. However this is intentional. The `lock` is only meant to ensure that each thread can perform modifications in this class correctly. \r\n\r\nSometimes using `null` values is intentional, to indicate a lack of value (empty queue in this case). Because the variable is `private` it can only be modified from within the class, so as long as the one writing the class is aware of the possibility of `null`, everything is alright.\r\n\r\nI think you are confusing multiple different concepts which are not necessarily connected. Note that because `last` is `private` there is no publication. In addition `head` and `last` are meant to be modified, so they can&#39;t be `final`.\r\n\r\n### Edit\r\nPerhaps I misunderstood your question...\r\n\r\n`null` is never assigned to `last` directly. So the only place this could happen is in the constructor, before `last` is assigned `new Node&lt;E&gt;(null)`. Although we can be sure that the constructor finishes before it is used by many threads, there is no visibility guarantee for the values. \r\n\r\nHowever `put` uses a `lock` which does guarantees visibility in use. So if there was no `lock` used, then `last` could actually be `null`.","title":"Using ` LinkedBlockingQueue` may cause null pointer exception","body":"<p>You are correct that <code>last</code> is equal to a <code>node</code> with a <code>null</code> value. However this is intentional. The <code>lock</code> is only meant to ensure that each thread can perform modifications in this class correctly. </p>\n\n<p>Sometimes using <code>null</code> values is intentional, to indicate a lack of value (empty queue in this case). Because the variable is <code>private</code> it can only be modified from within the class, so as long as the one writing the class is aware of the possibility of <code>null</code>, everything is alright.</p>\n\n<p>I think you are confusing multiple different concepts which are not necessarily connected. Note that because <code>last</code> is <code>private</code> there is no publication. In addition <code>head</code> and <code>last</code> are meant to be modified, so they can't be <code>final</code>.</p>\n\n<h3>Edit</h3>\n\n<p>Perhaps I misunderstood your question...</p>\n\n<p><code>null</code> is never assigned to <code>last</code> directly. So the only place this could happen is in the constructor, before <code>last</code> is assigned <code>new Node&lt;E&gt;(null)</code>. Although we can be sure that the constructor finishes before it is used by many threads, there is no visibility guarantee for the values. </p>\n\n<p>However <code>put</code> uses a <code>lock</code> which does guarantees visibility in use. So if there was no <code>lock</code> used, then <code>last</code> could actually be <code>null</code>.</p>\n"},{"comments":[{"owner":{"account_id":18573848,"reputation":1,"user_id":13535064,"display_name":"caihuadaye"},"score":0,"creation_date":1589425236,"post_id":61788500,"comment_id":109291463,"body_markdown":"I meant that last may be null (last == null)","body":"I meant that last may be null (last == null)"},{"owner":{"account_id":8206242,"reputation":1370,"user_id":6175872,"display_name":"PatrickChen"},"score":0,"creation_date":1589428394,"post_id":61788500,"comment_id":109292247,"body_markdown":"I understand, but last is inited in the constructor method. `last = head = new Node&lt;E&gt;(null);` so last will not be null, only the fields inside is null","body":"I understand, but last is inited in the constructor method. <code>last = head = new Node&lt;E&gt;(null);</code> so last will not be null, only the fields inside is null"}],"tags":[],"owner":{"account_id":8206242,"reputation":1370,"user_id":6175872,"display_name":"PatrickChen"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589424954,"creation_date":1589424954,"answer_id":61788500,"question_id":61788265,"body_markdown":"Maybe you miss understanding about the  of Java&#39;s [continuous assignment][1]\r\n```java\r\n//first last is inited in the constructor\r\nlast = head = new Node&lt;E&gt;(null); // only the filed&#39;s value in last is null(item &amp; next)\r\n\r\n// enqueue\r\nlast = last.next = node;\r\n//equals:\r\nlast.next = node;\r\nlast = last.next;\r\n```\r\nOnly if you call `last.next` otherwise there will no NPE.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9440844/java-order-of-operations-using-two-assignment-operators-in-a-single-line","title":"Using ` LinkedBlockingQueue` may cause null pointer exception","body":"<p>Maybe you miss understanding about the  of Java's <a href=\"https://stackoverflow.com/questions/9440844/java-order-of-operations-using-two-assignment-operators-in-a-single-line\">continuous assignment</a></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>//first last is inited in the constructor\nlast = head = new Node&lt;E&gt;(null); // only the filed's value in last is null(item &amp; next)\n\n// enqueue\nlast = last.next = node;\n//equals:\nlast.next = node;\nlast = last.next;\n</code></pre>\n\n<p>Only if you call <code>last.next</code> otherwise there will no NPE.</p>\n"},{"tags":[],"owner":{"account_id":12223265,"reputation":8608,"user_id":8921755,"display_name":"Ivan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1589425347,"creation_date":1589425347,"answer_id":61788564,"question_id":61788265,"body_markdown":"According to this blog post https://shipilev.net/blog/2014/safe-public-construction/ even writing to one `final` property in constructor is enough to achieve safe initialization (and thus your object will be always published safely). And `capacity` property is declared as `final`.\r\n\r\n&gt;&gt;In short, we emit a trailing barrier in three cases:\r\n\r\n&gt;&gt;A final field was written. Notice we do not care about what field was actually written, we unconditionally emit the barrier before exiting the (initializer) method. That means if you have at least one final field write, the final fields semantics extend to every other field written in constructor.","title":"Using ` LinkedBlockingQueue` may cause null pointer exception","body":"<p>According to this blog post <a href=\"https://shipilev.net/blog/2014/safe-public-construction/\" rel=\"nofollow noreferrer\">https://shipilev.net/blog/2014/safe-public-construction/</a> even writing to one <code>final</code> property in constructor is enough to achieve safe initialization (and thus your object will be always published safely). And <code>capacity</code> property is declared as <code>final</code>.</p>\n\n<blockquote>\n  <blockquote>\n    <p>In short, we emit a trailing barrier in three cases:</p>\n    \n    <p>A final field was written. Notice we do not care about what field was actually written, we unconditionally emit the barrier before exiting the (initializer) method. That means if you have at least one final field write, the final fields semantics extend to every other field written in constructor.</p>\n  </blockquote>\n</blockquote>\n"}],"owner":{"account_id":18573848,"reputation":1,"user_id":13535064,"display_name":"caihuadaye"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":499,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":61788564,"answer_count":3,"score":-2,"last_activity_date":1679928690,"creation_date":1589423283,"question_id":61788265,"body_markdown":"I am learning java concurrent programming recently. I know that the `final` keyword can guarantee a safe publication. However, when I read the `LinkedBlockingQueue` source code, I found that the `head` and `last` field did not use the `final` keyword.  I found that the `enqueue` method is called in the `put` method, and the `enqueue` method directly assigns the value to `last.next`. At this time, `last` may be a `null` because `last` is not declared with `final`. Is my understanding correct? Although `lock` can guarantee `last` read and write thread safety, but can `lock`  guarantee that `last` is a correct initial value instead of `null`\r\n\r\n```java\r\npublic class LinkedBlockingQueue&lt;E&gt; extends AbstractQueue&lt;E&gt;\r\n        implements BlockingQueue&lt;E&gt;, java.io.Serializable {\r\ntransient Node&lt;E&gt; head;\r\nprivate transient Node&lt;E&gt; last;\r\npublic LinkedBlockingQueue(int capacity) {\r\n        if (capacity &lt;= 0) throw new IllegalArgumentException();\r\n        this.capacity = capacity;\r\n        last = head = new Node&lt;E&gt;(null);\r\n    }\r\n private void enqueue(Node&lt;E&gt; node) {\r\n        // assert putLock.isHeldByCurrentThread();\r\n        // assert last.next == null;\r\n        last = last.next = node;\r\n    }\r\n\r\npublic void put(E e) throws InterruptedException {\r\n        if (e == null) throw new NullPointerException();\r\n        // Note: convention in all put/take/etc is to preset local var\r\n        // holding count negative to indicate failure unless set.\r\n        int c = -1;\r\n        Node&lt;E&gt; node = new Node&lt;E&gt;(e);\r\n        final ReentrantLock putLock = this.putLock;\r\n        final AtomicInteger count = this.count;\r\n        putLock.lockInterruptibly();\r\n        try {\r\n            /*\r\n             * Note that count is used in wait guard even though it is\r\n             * not protected by lock. This works because count can\r\n             * only decrease at this point (all other puts are shut\r\n             * out by lock), and we (or some other waiting put) are\r\n             * signalled if it ever changes from capacity. Similarly\r\n             * for all other uses of count in other wait guards.\r\n             */\r\n            while (count.get() == capacity) {\r\n                notFull.await();\r\n            }\r\n            enqueue(node);\r\n            c = count.getAndIncrement();\r\n            if (c + 1 &lt; capacity)\r\n                notFull.signal();\r\n        } finally {\r\n            putLock.unlock();\r\n        }\r\n        if (c == 0)\r\n            signalNotEmpty();\r\n    }\r\n}\r\n```","title":"Using ` LinkedBlockingQueue` may cause null pointer exception","body":"<p>I am learning java concurrent programming recently. I know that the <code>final</code> keyword can guarantee a safe publication. However, when I read the <code>LinkedBlockingQueue</code> source code, I found that the <code>head</code> and <code>last</code> field did not use the <code>final</code> keyword.  I found that the <code>enqueue</code> method is called in the <code>put</code> method, and the <code>enqueue</code> method directly assigns the value to <code>last.next</code>. At this time, <code>last</code> may be a <code>null</code> because <code>last</code> is not declared with <code>final</code>. Is my understanding correct? Although <code>lock</code> can guarantee <code>last</code> read and write thread safety, but can <code>lock</code>  guarantee that <code>last</code> is a correct initial value instead of <code>null</code></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class LinkedBlockingQueue&lt;E&gt; extends AbstractQueue&lt;E&gt;\n        implements BlockingQueue&lt;E&gt;, java.io.Serializable {\ntransient Node&lt;E&gt; head;\nprivate transient Node&lt;E&gt; last;\npublic LinkedBlockingQueue(int capacity) {\n        if (capacity &lt;= 0) throw new IllegalArgumentException();\n        this.capacity = capacity;\n        last = head = new Node&lt;E&gt;(null);\n    }\n private void enqueue(Node&lt;E&gt; node) {\n        // assert putLock.isHeldByCurrentThread();\n        // assert last.next == null;\n        last = last.next = node;\n    }\n\npublic void put(E e) throws InterruptedException {\n        if (e == null) throw new NullPointerException();\n        // Note: convention in all put/take/etc is to preset local var\n        // holding count negative to indicate failure unless set.\n        int c = -1;\n        Node&lt;E&gt; node = new Node&lt;E&gt;(e);\n        final ReentrantLock putLock = this.putLock;\n        final AtomicInteger count = this.count;\n        putLock.lockInterruptibly();\n        try {\n            /*\n             * Note that count is used in wait guard even though it is\n             * not protected by lock. This works because count can\n             * only decrease at this point (all other puts are shut\n             * out by lock), and we (or some other waiting put) are\n             * signalled if it ever changes from capacity. Similarly\n             * for all other uses of count in other wait guards.\n             */\n            while (count.get() == capacity) {\n                notFull.await();\n            }\n            enqueue(node);\n            c = count.getAndIncrement();\n            if (c + 1 &lt; capacity)\n                notFull.signal();\n        } finally {\n            putLock.unlock();\n        }\n        if (c == 0)\n            signalNotEmpty();\n    }\n}\n</code></pre>\n"},{"tags":["java","arraylist","linked-list","internal","doubly-linked-list"],"answers":[{"comments":[{"owner":{"account_id":4550436,"reputation":11,"user_id":3695848,"display_name":"cj34cs"},"score":0,"creation_date":1401588339,"post_id":23975682,"comment_id":36941845,"body_markdown":"`public Object get(int i) throws IndexOutOfBoundsException {\n\n\t\tNode current = list.getFirst();\n\n\t\tfor (int x = 0; x &lt;= i; x++) {\n\n\t\t\tif (x != i) {\n\t\t\t\tcurrent = current.getNext();\n\t\t\t} else {\n\t\t\t\treturn current.getElement();\n\t\t\t}\n\t\t}\n\t\tthrow new IndexOutOfBoundsException();\n\t}`","body":"<code>public Object get(int i) throws IndexOutOfBoundsException {  \t\tNode current = list.getFirst();  \t\tfor (int x = 0; x &lt;= i; x++) {  \t\t\tif (x != i) { \t\t\t\tcurrent = current.getNext(); \t\t\t} else { \t\t\t\treturn current.getElement(); \t\t\t} \t\t} \t\tthrow new IndexOutOfBoundsException(); \t}</code>"},{"owner":{"account_id":4550436,"reputation":11,"user_id":3695848,"display_name":"cj34cs"},"score":0,"creation_date":1401588390,"post_id":23975682,"comment_id":36941854,"body_markdown":"Above is how I did my get(i) method","body":"Above is how I did my get(i) method"},{"owner":{"account_id":1154498,"reputation":1020,"user_id":1135469,"accept_rate":82,"display_name":"user1135469"},"score":0,"creation_date":1401591905,"post_id":23975682,"comment_id":36942397,"body_markdown":"Yep cool...so that will be the equivalent of me changing `return current;` to `return current.getElement()`?","body":"Yep cool...so that will be the equivalent of me changing <code>return current;</code> to <code>return current.getElement()</code>?"},{"owner":{"account_id":1154498,"reputation":1020,"user_id":1135469,"accept_rate":82,"display_name":"user1135469"},"score":0,"creation_date":1401592067,"post_id":23975682,"comment_id":36942419,"body_markdown":"We should also probably throw the exception before looping just for performance (made changes).","body":"We should also probably throw the exception before looping just for performance (made changes)."}],"tags":[],"owner":{"account_id":1154498,"reputation":1020,"user_id":1135469,"accept_rate":82,"display_name":"user1135469"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401592006,"creation_date":1401582261,"answer_id":23975682,"question_id":23975527,"body_markdown":"    public Object get(int i) throws IndexOutOfBoundsException {\r\n        if(list.size()&lt;=i) throw new IndexOutOfBoundsException();\r\n        Node current = list.getFirst();\r\n        for(int x = 0; x&lt;=i; x++){\r\n           if(x == i) return current.getElement();//Change this behaviour for remove and set\r\n           current = current.getNext();\r\n        }\r\n    }","title":"Implementation of ArrayList using a LinkedList","body":"<pre><code>public Object get(int i) throws IndexOutOfBoundsException {\n    if(list.size()&lt;=i) throw new IndexOutOfBoundsException();\n    Node current = list.getFirst();\n    for(int x = 0; x&lt;=i; x++){\n       if(x == i) return current.getElement();//Change this behaviour for remove and set\n       current = current.getNext();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4550436,"reputation":11,"user_id":3695848,"display_name":"cj34cs"},"score":0,"creation_date":1401585401,"post_id":23975683,"comment_id":36941413,"body_markdown":"Thanks for the help. I should of noticed the missing &quot;static&quot; for the methods. I see your point on implementing the methods inside the node class. Thanks again!","body":"Thanks for the help. I should of noticed the missing &quot;static&quot; for the methods. I see your point on implementing the methods inside the node class. Thanks again!"}],"tags":[],"owner":{"account_id":4541793,"reputation":26874,"user_id":3689450,"display_name":"VLAZ"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679928212,"creation_date":1401582281,"answer_id":23975683,"question_id":23975527,"body_markdown":"It seems like a fairly easy thing to do - just use the API exposed by your LinkedList and add some logic to it. Here is the bit you are missing\r\n\r\n    if (list.size() &lt; I) {\r\n        throw new IndexOutOfBoundsException()\r\n    }\r\n    \r\n    //get a starting point\r\n    Node node = list.getFirst();\r\n\r\n    //loop until you get to the specified position\r\n    while(I-- &gt; 0) {\r\n        node = list.getNext(node);\r\n    } \r\n    \r\n    //now node points at the node in position I - insert the new\r\n    //node before it to comply with the List interface\r\n    list.addBefore(node, e);\r\n\r\n    this.size++;\r\n\r\nI do have to note that your LinkedList implementation can be improved - first of all, the `getPrev()` `getNext()` `addBefore()` and `addAfter()` should be static, as you shouldn&#39;t have to use a LinkedList instance to call them. However, it would be even better if the methods were actually methods in Node, because that way the traversal and usage of the LinkedList would be way more easy. Here is how the above code would look like if the methods were in Node:\r\n\r\n    if (list.size() &lt; I) {\r\n        throw new IndexOutOfBoundsException()\r\n    }\r\n\r\n    //get a starting point\r\n    Node node = list.getFirst();\r\n\r\n    //loop until you get to the specified position\r\n    while(I-- &gt; 0) {\r\n        node = node.getNext();\r\n    } \r\n    \r\n    //now node points at the node in position I - insert the new\r\n    //node before it to comply with the List interface\r\n    node.addBefore(e);\r\n\r\n    this.size++;\r\n\r\nYou pretty much do not need the list at all - certainly you don&#39;t need to just pass extra parameters to some functions. You can still keep the (hopefully static) methods in Linked list that do the same thing, but they&#39;d just be proxies for the Node implementation of the methods, e.g.:\r\n\r\n    public static void addAfter(Node&lt;E&gt; node, E e) {\r\n        node.addAfter(e);\r\n    }\r\n\r\nI am not sure if you will need these methods in LinkedList but they can certainly be there for &quot;backwards compliance&quot;, if you will. \r\n\r\nThe fist bit of code is the implementation for `add()`, I am sure you can work out the rest, as they&#39;d do the same thing.","title":"Implementation of ArrayList using a LinkedList","body":"<p>It seems like a fairly easy thing to do - just use the API exposed by your LinkedList and add some logic to it. Here is the bit you are missing</p>\n<pre><code>if (list.size() &lt; I) {\n    throw new IndexOutOfBoundsException()\n}\n\n//get a starting point\nNode node = list.getFirst();\n\n//loop until you get to the specified position\nwhile(I-- &gt; 0) {\n    node = list.getNext(node);\n} \n\n//now node points at the node in position I - insert the new\n//node before it to comply with the List interface\nlist.addBefore(node, e);\n\nthis.size++;\n</code></pre>\n<p>I do have to note that your LinkedList implementation can be improved - first of all, the <code>getPrev()</code> <code>getNext()</code> <code>addBefore()</code> and <code>addAfter()</code> should be static, as you shouldn't have to use a LinkedList instance to call them. However, it would be even better if the methods were actually methods in Node, because that way the traversal and usage of the LinkedList would be way more easy. Here is how the above code would look like if the methods were in Node:</p>\n<pre><code>if (list.size() &lt; I) {\n    throw new IndexOutOfBoundsException()\n}\n\n//get a starting point\nNode node = list.getFirst();\n\n//loop until you get to the specified position\nwhile(I-- &gt; 0) {\n    node = node.getNext();\n} \n\n//now node points at the node in position I - insert the new\n//node before it to comply with the List interface\nnode.addBefore(e);\n\nthis.size++;\n</code></pre>\n<p>You pretty much do not need the list at all - certainly you don't need to just pass extra parameters to some functions. You can still keep the (hopefully static) methods in Linked list that do the same thing, but they'd just be proxies for the Node implementation of the methods, e.g.:</p>\n<pre><code>public static void addAfter(Node&lt;E&gt; node, E e) {\n    node.addAfter(e);\n}\n</code></pre>\n<p>I am not sure if you will need these methods in LinkedList but they can certainly be there for &quot;backwards compliance&quot;, if you will.</p>\n<p>The fist bit of code is the implementation for <code>add()</code>, I am sure you can work out the rest, as they'd do the same thing.</p>\n"}],"owner":{"account_id":4550436,"reputation":11,"user_id":3695848,"display_name":"cj34cs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679928212,"creation_date":1401580489,"question_id":23975527,"body_markdown":"I need to implement both a Queue and ArrayList by using an internal LinkedList. I created my DoublyLinkedList class and was able to implement it into my queue with no problem. The problem I am running into is that to add or delete to/from the ArrayList, the add/delete methods take in a integer for the index and an object/element. All my methods inside my DoublyLinkedList class take in either elements and/or Nodes.\r\n\r\nMy question is this, how can I implement my DoublyLinkedList methods inside my ArrayList when my DLL class doesn&#39;t take any int values in.\r\n\r\nI want to be able to add or delete the node by using the index, but I can&#39;t. Realistically, I would want something like list.addAfter(I) without I being an integer.\r\n\r\nNote: The goal of this assignment is to implement ADTs, so I can&#39;t modify the method signatures of the ArrayList ADT.\r\n\r\nDoublyLinedList Class  \r\n    \r\n    \r\n    public class DoublyLinkedList&lt;E&gt; {\r\n\r\n\tprivate Node&lt;E&gt; head;\r\n\r\n\tprivate Node&lt;E&gt; tail;\r\n\r\n\tprivate int size;\r\n\r\n\tpublic DoublyLinkedList() {\r\n\r\n\t\tthis.head = new Node&lt;E&gt;(null, null, null);\r\n\t\tthis.tail = new Node&lt;E&gt;(null, null, null);\r\n\t\tthis.size = 0;\r\n\r\n\t\thead.setNext(tail);\r\n\t\ttail.setPrev(head);\r\n\r\n\t}\r\n\r\n\tpublic int size() {\r\n\r\n\t\treturn size;\r\n\r\n\t}\r\n\r\n\tpublic boolean isEmpty() {\r\n\r\n\t\treturn size == 0;\r\n\t}\r\n\r\n\tpublic Node&lt;E&gt; getPrev(Node&lt;E&gt; n) {\r\n\r\n\t\treturn n.getPrev();\r\n\r\n\t}\r\n\r\n\tpublic Node&lt;E&gt; getNext(Node&lt;E&gt; n) {\r\n\r\n\t\treturn n.getNext();\r\n\r\n\t}\r\n\r\n\tpublic Node&lt;E&gt; getFirst() {\r\n\r\n\t\treturn head.getNext();\r\n\r\n\t}\r\n\r\n\tpublic Node&lt;E&gt; getLast() {\r\n\r\n\t\treturn tail.getPrev();\r\n\r\n\t}\r\n\r\n\tpublic E remove(Node&lt;E&gt; c) {\r\n\t\tNode&lt;E&gt; a = c.getPrev();\r\n\t\tNode&lt;E&gt; b = c.getNext();\r\n\t\tb.setNext(a);\r\n\t\ta.setPrev(b);\r\n\t\tc.setNext(null);\r\n\t\tc.setPrev(null);\r\n\t\tsize--;\r\n\t\treturn c.getElement();\r\n\t}\r\n\r\n\tpublic E removeFirst() {\r\n\t\treturn remove(head.getNext()); // first element is beyond header\r\n\t}\r\n\r\n\tpublic E removeLast() {\r\n\t\treturn remove(tail.getPrev());\r\n\t}\r\n\r\n\tpublic void addBefore(Node&lt;E&gt; node, E e) {\r\n\r\n\t\tNode&lt;E&gt; prev = getPrev(node);\r\n\r\n\t\tNode&lt;E&gt; n = new Node&lt;E&gt;(e, prev, node);\r\n\r\n\t\tnode.setPrev(n);\r\n\t\tprev.setNext(n);\r\n\r\n\t\tsize++;\r\n\r\n\t}\r\n\r\n\tpublic void addFirst(E e) {\r\n\r\n\t\taddAfter(head, e);\r\n\r\n\t}\r\n\r\n\tpublic void addLast(E e) {\r\n\r\n\t\taddBefore(tail, e);\r\n\r\n\t}\r\n\r\n\tpublic void addAfter(Node&lt;E&gt; node, E e) {\r\n\r\n\t\tNode&lt;E&gt; next = getNext(node);\r\n\r\n\t\tNode&lt;E&gt; n = new Node&lt;E&gt;(e, node, next);\r\n\t\tnode.setNext(n);\r\n\t\tnext.setPrev(n);\r\n\t\tsize++;\r\n\r\n\t}\r\n\r\n    }\r\n\r\nLArrayList class (my Arraylist implementation)\r\n\r\n    public class LArrayList implements List {\r\n\r\n\tprivate DoublyLinkedList list;\r\n\r\n\tprivate int size;\r\n\r\n\tpublic LArrayList() {\r\n\r\n\t\tthis.list = new DoublyLinkedList();\r\n\t\tthis.size = 0;\r\n\r\n\t}\r\n\r\n\tpublic int size() {\r\n\t\treturn size;\r\n\t}\r\n\r\n\tpublic boolean isEmpty() {\r\n\t\treturn size == 0;\r\n\t}\r\n\r\n\tpublic void add(int I, Object e) throws IndexOutOfBoundsException {\r\n\r\n\t\tif (isEmpty()) {\r\n\r\n\t\t\tlist.addFirst(e);\r\n\r\n\t\t}\r\n\r\n\t\t// HERE IS MY CONCERN. THESE FOUR METHODS ALL TAKE IN INT VALUES WHILE\r\n\t\t// NON OF MY DLL METHODS DO!\r\n\r\n\t}\r\n\r\n\tpublic Object get(int i) throws IndexOutOfBoundsException {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic Object remove(int i) throws IndexOutOfBoundsException {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic Object set(int I, Object e) throws IndexOutOfBoundsException {\r\n\t\treturn null;\r\n\t}\r\n\r\n    }","title":"Implementation of ArrayList using a LinkedList","body":"<p>I need to implement both a Queue and ArrayList by using an internal LinkedList. I created my DoublyLinkedList class and was able to implement it into my queue with no problem. The problem I am running into is that to add or delete to/from the ArrayList, the add/delete methods take in a integer for the index and an object/element. All my methods inside my DoublyLinkedList class take in either elements and/or Nodes.</p>\n\n<p>My question is this, how can I implement my DoublyLinkedList methods inside my ArrayList when my DLL class doesn't take any int values in.</p>\n\n<p>I want to be able to add or delete the node by using the index, but I can't. Realistically, I would want something like list.addAfter(I) without I being an integer.</p>\n\n<p>Note: The goal of this assignment is to implement ADTs, so I can't modify the method signatures of the ArrayList ADT.</p>\n\n<p>DoublyLinedList Class  </p>\n\n<pre><code>public class DoublyLinkedList&lt;E&gt; {\n\nprivate Node&lt;E&gt; head;\n\nprivate Node&lt;E&gt; tail;\n\nprivate int size;\n\npublic DoublyLinkedList() {\n\n    this.head = new Node&lt;E&gt;(null, null, null);\n    this.tail = new Node&lt;E&gt;(null, null, null);\n    this.size = 0;\n\n    head.setNext(tail);\n    tail.setPrev(head);\n\n}\n\npublic int size() {\n\n    return size;\n\n}\n\npublic boolean isEmpty() {\n\n    return size == 0;\n}\n\npublic Node&lt;E&gt; getPrev(Node&lt;E&gt; n) {\n\n    return n.getPrev();\n\n}\n\npublic Node&lt;E&gt; getNext(Node&lt;E&gt; n) {\n\n    return n.getNext();\n\n}\n\npublic Node&lt;E&gt; getFirst() {\n\n    return head.getNext();\n\n}\n\npublic Node&lt;E&gt; getLast() {\n\n    return tail.getPrev();\n\n}\n\npublic E remove(Node&lt;E&gt; c) {\n    Node&lt;E&gt; a = c.getPrev();\n    Node&lt;E&gt; b = c.getNext();\n    b.setNext(a);\n    a.setPrev(b);\n    c.setNext(null);\n    c.setPrev(null);\n    size--;\n    return c.getElement();\n}\n\npublic E removeFirst() {\n    return remove(head.getNext()); // first element is beyond header\n}\n\npublic E removeLast() {\n    return remove(tail.getPrev());\n}\n\npublic void addBefore(Node&lt;E&gt; node, E e) {\n\n    Node&lt;E&gt; prev = getPrev(node);\n\n    Node&lt;E&gt; n = new Node&lt;E&gt;(e, prev, node);\n\n    node.setPrev(n);\n    prev.setNext(n);\n\n    size++;\n\n}\n\npublic void addFirst(E e) {\n\n    addAfter(head, e);\n\n}\n\npublic void addLast(E e) {\n\n    addBefore(tail, e);\n\n}\n\npublic void addAfter(Node&lt;E&gt; node, E e) {\n\n    Node&lt;E&gt; next = getNext(node);\n\n    Node&lt;E&gt; n = new Node&lt;E&gt;(e, node, next);\n    node.setNext(n);\n    next.setPrev(n);\n    size++;\n\n}\n\n}\n</code></pre>\n\n<p>LArrayList class (my Arraylist implementation)</p>\n\n<pre><code>public class LArrayList implements List {\n\nprivate DoublyLinkedList list;\n\nprivate int size;\n\npublic LArrayList() {\n\n    this.list = new DoublyLinkedList();\n    this.size = 0;\n\n}\n\npublic int size() {\n    return size;\n}\n\npublic boolean isEmpty() {\n    return size == 0;\n}\n\npublic void add(int I, Object e) throws IndexOutOfBoundsException {\n\n    if (isEmpty()) {\n\n        list.addFirst(e);\n\n    }\n\n    // HERE IS MY CONCERN. THESE FOUR METHODS ALL TAKE IN INT VALUES WHILE\n    // NON OF MY DLL METHODS DO!\n\n}\n\npublic Object get(int i) throws IndexOutOfBoundsException {\n    return null;\n}\n\npublic Object remove(int i) throws IndexOutOfBoundsException {\n    return null;\n}\n\npublic Object set(int I, Object e) throws IndexOutOfBoundsException {\n    return null;\n}\n\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","optaplanner"],"comments":[{"owner":{"account_id":243786,"reputation":30863,"user_id":516167,"accept_rate":94,"display_name":"MariuszS"},"score":1,"creation_date":1389021156,"post_id":20952713,"comment_id":31470718,"body_markdown":"Do you know build tools like ant, maven or gradle?","body":"Do you know build tools like ant, maven or gradle?"},{"owner":{"account_id":15963,"reputation":1774,"user_id":34299,"display_name":"grudolf"},"score":0,"creation_date":1389037307,"post_id":20952713,"comment_id":31480402,"body_markdown":"I know about them, but so far I have used only make and .NET counterparts (NAnt, MSBuild). Which one of them should I pick if IntelliJ&#39;s build tool won&#39;t cut it?","body":"I know about them, but so far I have used only make and .NET counterparts (NAnt, MSBuild). Which one of them should I pick if IntelliJ&#39;s build tool won&#39;t cut it?"},{"owner":{"account_id":3712383,"reputation":1293,"user_id":3152071,"display_name":"bigjosh"},"score":1,"creation_date":1453662396,"post_id":20952713,"comment_id":57689289,"body_markdown":"Vote to correct this issue [here](https://youtrack.jetbrains.com/issue/IDEA-99596),","body":"Vote to correct this issue <a href=\"https://youtrack.jetbrains.com/issue/IDEA-99596\" rel=\"nofollow noreferrer\">here</a>,"}],"answers":[{"comments":[{"owner":{"account_id":15963,"reputation":1774,"user_id":34299,"display_name":"grudolf"},"score":6,"creation_date":1389034971,"post_id":20954612,"comment_id":31479015,"body_markdown":"There&#39;s no &quot;Use Existing Manifest&quot; button, however the Manifest file in Output Layout is pointing to the correct location (...\\src\\main\\java\\META-INF\\MANIFEST.MF)","body":"There&#39;s no &quot;Use Existing Manifest&quot; button, however the Manifest file in Output Layout is pointing to the correct location (...\\src\\main\\java\\META-INF\\MANIFEST.MF)"},{"owner":{"account_id":15963,"reputation":1774,"user_id":34299,"display_name":"grudolf"},"score":7,"creation_date":1389035187,"post_id":20954612,"comment_id":31479143,"body_markdown":"OK, had to delete the jar artifact and recreate it, this time as &quot;Empty&quot; instead of &quot;From modules with dependencies&quot;. Got the &quot;Create Manifest&quot; and &quot;Use Existing Manifest&quot; buttons, pointed to my Manifest and readded libraries and compile output.\n\nThere are two differences from before: a META_INF\\MANIFEST.INF is now explicitly included in output layout and the jar file seems to be generated correctly. :)","body":"OK, had to delete the jar artifact and recreate it, this time as &quot;Empty&quot; instead of &quot;From modules with dependencies&quot;. Got the &quot;Create Manifest&quot; and &quot;Use Existing Manifest&quot; buttons, pointed to my Manifest and readded libraries and compile output.  There are two differences from before: a META_INF\\MANIFEST.INF is now explicitly included in output layout and the jar file seems to be generated correctly. :)"},{"owner":{"account_id":3638908,"reputation":308,"user_id":3033603,"accept_rate":80,"display_name":"Andrew Breksa"},"score":0,"creation_date":1417207787,"post_id":20954612,"comment_id":42876485,"body_markdown":"This doesn&#39;t solve the problem, at least for me. jamahn&#39;s answer did work however.","body":"This doesn&#39;t solve the problem, at least for me. jamahn&#39;s answer did work however."},{"owner":{"account_id":6621553,"reputation":4538,"user_id":5113071,"accept_rate":55,"display_name":"Shawn Mehan"},"score":0,"creation_date":1447354289,"post_id":20954612,"comment_id":55131143,"body_markdown":"Comment added from low rep user @ ds-justice as follows - @grudolf&#39;s comment above about creating an empty Jar was the only thing that worked for me after several hours of struggling with an imported Gradle project. This is an important question, please consider reposting your comment as a separate answer.","body":"Comment added from low rep user @ ds-justice as follows - @grudolf&#39;s comment above about creating an empty Jar was the only thing that worked for me after several hours of struggling with an imported Gradle project. This is an important question, please consider reposting your comment as a separate answer."}],"tags":[],"owner":{"account_id":1424961,"reputation":30720,"user_id":1348743,"display_name":"Javaru"},"comment_count":4,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1389025996,"creation_date":1389025996,"answer_id":20954612,"question_id":20952713,"body_markdown":"To fix:\r\n\r\n 0. *File &gt; Project Structure*\r\n 0.  Under *Project Settings* on the left, select &quot;Artifacts&quot;\r\n 0. Find the JAR definition In the middle pane and select it\r\n 0. In the left pane of the &quot;Output Layout&quot; tab find the jar file in the list and select it\r\n 0. At the bottom, click the &quot;Use Existing Manifest&quot; button and select the manifest file that is in your project source.\r\n 0. Click OK and run the build","title":"Wrong Manifest.mf in IntelliJ IDEA created .jar","body":"<p>To fix:</p>\n\n<ol>\n<li><em>File > Project Structure</em></li>\n<li>Under <em>Project Settings</em> on the left, select \"Artifacts\"</li>\n<li>Find the JAR definition In the middle pane and select it</li>\n<li>In the left pane of the \"Output Layout\" tab find the jar file in the list and select it</li>\n<li>At the bottom, click the \"Use Existing Manifest\" button and select the manifest file that is in your project source.</li>\n<li>Click OK and run the build</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389080895,"creation_date":1389080895,"answer_id":20966492,"question_id":20952713,"body_markdown":"There are several ways to generate executable jars. Using IntelliJ&#39;s GUI feature is one good way. Another way is to use **Maven** (or similarly in gradle, buildr, etc) which is build-server friendly:\r\n\r\nIt&#39;s more or less copy pasteable from the optaplanner examples maven build:\r\n\r\n 1. The end-user jar (optaplanner-examples-*.jar) must [include the classpath of its dependencies in its manifest][1].\r\n 2. [The sh and bat script][2] must then run that jar with accordingly.\r\n\r\n\r\n  [1]: https://github.com/droolsjbpm/optaplanner/blob/master/optaplanner-examples/pom.xml#L45\r\n  [2]: https://github.com/droolsjbpm/optaplanner/tree/master/optaplanner-distribution/src/main/assembly/scripts","title":"Wrong Manifest.mf in IntelliJ IDEA created .jar","body":"<p>There are several ways to generate executable jars. Using IntelliJ's GUI feature is one good way. Another way is to use <strong>Maven</strong> (or similarly in gradle, buildr, etc) which is build-server friendly:</p>\n\n<p>It's more or less copy pasteable from the optaplanner examples maven build:</p>\n\n<ol>\n<li>The end-user jar (optaplanner-examples-*.jar) must <a href=\"https://github.com/droolsjbpm/optaplanner/blob/master/optaplanner-examples/pom.xml#L45\" rel=\"nofollow\">include the classpath of its dependencies in its manifest</a>.</li>\n<li><a href=\"https://github.com/droolsjbpm/optaplanner/tree/master/optaplanner-distribution/src/main/assembly/scripts\" rel=\"nofollow\">The sh and bat script</a> must then run that jar with accordingly.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1156186,"reputation":702,"user_id":1136729,"display_name":"Kumait"},"score":20,"creation_date":1418860095,"post_id":21074091,"comment_id":43502122,"body_markdown":"This is the correct answer indeed, it seems that Intellij IDEA is misplacing the META-INF folder when the project template is Maven","body":"This is the correct answer indeed, it seems that Intellij IDEA is misplacing the META-INF folder when the project template is Maven"},{"owner":{"account_id":141880,"reputation":13208,"user_id":349228,"display_name":"Maxence"},"score":0,"creation_date":1434469310,"post_id":21074091,"comment_id":49785998,"body_markdown":"In my case I had to change the layout of my project. I previously had a project with maven layout but I removed the support of maven. I recreate a project from scratch and now it works.","body":"In my case I had to change the layout of my project. I previously had a project with maven layout but I removed the support of maven. I recreate a project from scratch and now it works."},{"owner":{"account_id":297175,"reputation":4034,"user_id":602549,"display_name":"racs"},"score":1,"creation_date":1452718633,"post_id":21074091,"comment_id":57298955,"body_markdown":"This was not working for me, I had to move the Mainfest file to the root of the project.","body":"This was not working for me, I had to move the Mainfest file to the root of the project."},{"owner":{"account_id":5325117,"reputation":861,"user_id":4247360,"accept_rate":54,"display_name":"Daria"},"score":0,"creation_date":1460374912,"post_id":21074091,"comment_id":60696008,"body_markdown":"Is maven so stupid that places this file into wrong dir?  :^)","body":"Is maven so stupid that places this file into wrong dir?  :^)"},{"owner":{"account_id":1122017,"reputation":5063,"user_id":1110171,"display_name":"fruqi"},"score":0,"creation_date":1499677904,"post_id":21074091,"comment_id":76989454,"body_markdown":"@Kumait, the issue is still there in IntelliJ 2017.1.5. I&#39;m wondering if JetBrain team is aware of this.","body":"@Kumait, the issue is still there in IntelliJ 2017.1.5. I&#39;m wondering if JetBrain team is aware of this."},{"owner":{"account_id":1847987,"reputation":670,"user_id":1675235,"display_name":"Abhishek Saini"},"score":0,"creation_date":1511933508,"post_id":21074091,"comment_id":82048147,"body_markdown":"I don&#39;t know what&#39;s up with my IntelliJI IDEA 2017.2.6. But in my the problem appears with /resources folder also. Keeping it as src/META_INF/ worked for me.","body":"I don&#39;t know what&#39;s up with my IntelliJI IDEA 2017.2.6. But in my the problem appears with /resources folder also. Keeping it as src/META_INF/ worked for me."}],"tags":[],"owner":{"account_id":1403407,"reputation":3110,"user_id":1331754,"display_name":"jamhan"},"comment_count":6,"down_vote_count":1,"up_vote_count":275,"is_accepted":true,"score":274,"last_activity_date":1389526261,"creation_date":1389526261,"answer_id":21074091,"question_id":20952713,"body_markdown":"I had the same problem.\r\n\r\nMake sure your MANIFEST.MF is in:\r\n\r\n    src/main/resources/META_INF/\r\n\r\nNOT\r\n    \r\n    src/main/java/META_INF/\r\n\r\n","title":"Wrong Manifest.mf in IntelliJ IDEA created .jar","body":"<p>I had the same problem.</p>\n\n<p>Make sure your MANIFEST.MF is in:</p>\n\n<pre><code>src/main/resources/META_INF/\n</code></pre>\n\n<p>NOT</p>\n\n<pre><code>src/main/java/META_INF/\n</code></pre>\n"},{"comments":[{"owner":{"account_id":327604,"reputation":314,"user_id":650077,"display_name":"Arion Krause"},"score":0,"creation_date":1521632988,"post_id":33015735,"comment_id":85812018,"body_markdown":"I had this exact situation and reached the same conclusion as you did: newlines between &lt;Dependencies&gt; items worked in Eclipse, but not in Intellij IDEA.","body":"I had this exact situation and reached the same conclusion as you did: newlines between &lt;Dependencies&gt; items worked in Eclipse, but not in Intellij IDEA."}],"tags":[],"owner":{"account_id":4395834,"reputation":116,"user_id":5334095,"display_name":"marcelocesar"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444307102,"creation_date":1444307102,"answer_id":33015735,"question_id":20952713,"body_markdown":"I had a similar problem. \r\n\r\nThe problem was in file pom.xml.\r\n\r\n    &lt;archive&gt;\r\n      &lt;manifestEntries&gt;\r\n        &lt;Dependencies&gt;one.jar,\r\n                      two.rar, \r\n                      other.jar\r\n        &lt;/Dependencies&gt;\r\n      &lt;/manifestEntries&gt;\r\n    &lt;/archive&gt;\r\n\r\nI do not know for what reason this code works in eclipse, but not in IntelliJ\r\n\r\nThis it correct.\r\n\r\n    &lt;archive&gt;\r\n      &lt;manifestEntries&gt;\r\n        &lt;Dependencies&gt;one.jar, two.rar, other.jar&lt;/Dependencies&gt;\r\n      &lt;/manifestEntries&gt;\r\n    &lt;/archive&gt;\r\n\r\nManifest.mf worked!!!\r\n\r\nI hope this helps.\r\n","title":"Wrong Manifest.mf in IntelliJ IDEA created .jar","body":"<p>I had a similar problem. </p>\n\n<p>The problem was in file pom.xml.</p>\n\n<pre><code>&lt;archive&gt;\n  &lt;manifestEntries&gt;\n    &lt;Dependencies&gt;one.jar,\n                  two.rar, \n                  other.jar\n    &lt;/Dependencies&gt;\n  &lt;/manifestEntries&gt;\n&lt;/archive&gt;\n</code></pre>\n\n<p>I do not know for what reason this code works in eclipse, but not in IntelliJ</p>\n\n<p>This it correct.</p>\n\n<pre><code>&lt;archive&gt;\n  &lt;manifestEntries&gt;\n    &lt;Dependencies&gt;one.jar, two.rar, other.jar&lt;/Dependencies&gt;\n  &lt;/manifestEntries&gt;\n&lt;/archive&gt;\n</code></pre>\n\n<p>Manifest.mf worked!!!</p>\n\n<p>I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":5317286,"reputation":3404,"user_id":5368599,"accept_rate":68,"display_name":"Autumn"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1447796651,"creation_date":1447378238,"answer_id":33684513,"question_id":20952713,"body_markdown":"As noted in @grudolf&#39;s comment in one of the other answers, one way to do this (and the only one that worked for me in an imported Gradle project) is to create an empty jar as follows:\r\n\r\n  * Project Structure -&gt; Artifacts -&gt; + Jar -&gt; Empty\r\n  * Centre pane now has Create Manifest and Use Existing Manifest buttons.  Use one of these.\r\n  * I had difficulty if I extracted dependent libraries with their own manifests into the output root, they seemed to intermittently overwrite the new manually created manifest.  Messing around with order of operations seemed to make it work.\r\n\r\nUPDATE:\r\n-----------------\r\nThis is definitely a bug in Idea.  [This linked answer](https://stackoverflow.com/questions/17024715/create-an-excutable-jar-in-intellij-idea/23142480#23142480) works reliably when there are extracted directories.  In essence, you find your .idea/JARNAME.xml, add add the following element to the *very top* of the `&lt;root&gt;` element for your jar.  Any extracted elements above your new file-copy that contain a manifest will clobber your new manifest.\r\n\r\n      &lt;element id=&quot;directory&quot; name=&quot;/META-INF&quot;&gt;\r\n        &lt;element id=&quot;file-copy&quot; path=&quot;$PROJECT_DIR$/modulename/src/META-INF/MANIFEST.MF&quot; /&gt;\r\n      &lt;/element&gt;","title":"Wrong Manifest.mf in IntelliJ IDEA created .jar","body":"<p>As noted in @grudolf's comment in one of the other answers, one way to do this (and the only one that worked for me in an imported Gradle project) is to create an empty jar as follows:</p>\n\n<ul>\n<li>Project Structure -> Artifacts -> + Jar -> Empty</li>\n<li>Centre pane now has Create Manifest and Use Existing Manifest buttons.  Use one of these.</li>\n<li>I had difficulty if I extracted dependent libraries with their own manifests into the output root, they seemed to intermittently overwrite the new manually created manifest.  Messing around with order of operations seemed to make it work.</li>\n</ul>\n\n<h2>UPDATE:</h2>\n\n<p>This is definitely a bug in Idea.  <a href=\"https://stackoverflow.com/questions/17024715/create-an-excutable-jar-in-intellij-idea/23142480#23142480\">This linked answer</a> works reliably when there are extracted directories.  In essence, you find your .idea/JARNAME.xml, add add the following element to the <em>very top</em> of the <code>&lt;root&gt;</code> element for your jar.  Any extracted elements above your new file-copy that contain a manifest will clobber your new manifest.</p>\n\n<pre><code>  &lt;element id=\"directory\" name=\"/META-INF\"&gt;\n    &lt;element id=\"file-copy\" path=\"$PROJECT_DIR$/modulename/src/META-INF/MANIFEST.MF\" /&gt;\n  &lt;/element&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4976814,"reputation":131,"user_id":4002905,"display_name":"usbo"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1452604311,"creation_date":1452604311,"answer_id":34744643,"question_id":20952713,"body_markdown":"If you want to specify Main Class, you have to add this plugin to pom.xml:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;archive&gt;\r\n                &lt;manifest&gt;\r\n                    &lt;mainClass&gt;Form&lt;/mainClass&gt;\r\n                &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"Wrong Manifest.mf in IntelliJ IDEA created .jar","body":"<p>If you want to specify Main Class, you have to add this plugin to pom.xml:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.6&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;archive&gt;\n            &lt;manifest&gt;\n                &lt;mainClass&gt;Form&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n        &lt;/archive&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":6,"creation_date":1482437956,"post_id":41245953,"comment_id":69784638,"body_markdown":"[The record shows](https://stackoverflow.com/posts/39091278/revisions) I trimmed religious material from your post in August. Please note that [the community has discussed adding religious themes](https://meta.stackoverflow.com/questions/295810/do-we-allow-religious-invocations-in-questions-answers) into posts, and the answer is that we would rather they were left out. You are most welcome to add them into your profile or avatar, though.","body":"<a href=\"https://stackoverflow.com/posts/39091278/revisions\">The record shows</a> I trimmed religious material from your post in August. Please note that <a href=\"https://meta.stackoverflow.com/questions/295810/do-we-allow-religious-invocations-in-questions-answers\">the community has discussed adding religious themes</a> into posts, and the answer is that we would rather they were left out. You are most welcome to add them into your profile or avatar, though."}],"tags":[],"owner":{"account_id":333285,"reputation":2127,"user_id":659077,"accept_rate":0,"display_name":"Mohsen Abasi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482437141,"creation_date":1482248033,"answer_id":41245953,"question_id":20952713,"body_markdown":"To have no problem like Manifest, you should have a directory named &quot;META-INF&quot; in &quot;src&quot; directory. So, create it and put a file named &quot;MANIFEST.MF&quot; in it with the following contents:\r\n\r\n    Manifest-Version: 1.0\r\n    Main-Class: &lt;packageName&gt;.Main\r\n\r\nNot to forgot to replace the package&#39;s name containing Main class above!\r\n","title":"Wrong Manifest.mf in IntelliJ IDEA created .jar","body":"<p>To have no problem like Manifest, you should have a directory named \"META-INF\" in \"src\" directory. So, create it and put a file named \"MANIFEST.MF\" in it with the following contents:</p>\n\n<pre><code>Manifest-Version: 1.0\nMain-Class: &lt;packageName&gt;.Main\n</code></pre>\n\n<p>Not to forgot to replace the package's name containing Main class above!</p>\n"},{"tags":[],"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679927747,"creation_date":1679927747,"answer_id":75857047,"question_id":20952713,"body_markdown":"Please follow the steps detailed here\r\n\r\nhttps://www.jetbrains.com/help/idea/2022.2/convert-a-regular-project-into-a-maven-project.html#develop_with_maven\r\n\r\n&gt; Click the Build Project icon to build project. IntelliJ IDEA generates\r\n&gt; target folder. **Note that IntelliJ IDEA only compiles sources and\r\n&gt; doesn&#39;t create either JAR file or Manifest file.**\r\n&gt; \r\n&gt; Create a Manifest file in the resources directory.\r\n&gt; \r\n&gt; Right-click the directory, select New | Directory to create the\r\n&gt; META-INF subdirectory. Then right-click the subdirectory, select New |\r\n&gt; File to create the MANIFEST.MF file.\r\n&gt; \r\n&gt; the Manifest file Open the MANIFEST.MF file in the editor and add\r\n&gt; information about your main class.\r\n&gt; \r\n&gt; Check the following code:\r\n&gt; \r\n&gt; Main-Class: com.company.MyApp Alternatively, we can ask Maven to add\r\n&gt; this line of code into the MANIFEST.MF file with the following code in\r\n&gt; pom.xml:\r\n&gt; \r\n&gt; &lt;plugin&gt;\r\n&gt;     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n&gt;     &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n&gt;     &lt;configuration&gt;\r\n&gt;         &lt;archive&gt;\r\n&gt;             &lt;manifest&gt;\r\n&gt;                 &lt;mainClass&gt;\r\n&gt;                     com.company.MyApp\r\n&gt;                 &lt;/mainClass&gt;\r\n&gt;             &lt;/manifest&gt;\r\n&gt;         &lt;/archive&gt;\r\n&gt;     &lt;/configuration&gt; &lt;/plugin&gt; In your POM specify the Manifest file information, so you can use Maven to generate an executable jar file.\r\n&gt; \r\n&gt; POM with manifest Alternatively, you can execute package instead of\r\n&gt; the install command to achieve the same result.","title":"Wrong Manifest.mf in IntelliJ IDEA created .jar","body":"<p>Please follow the steps detailed here</p>\n<p><a href=\"https://www.jetbrains.com/help/idea/2022.2/convert-a-regular-project-into-a-maven-project.html#develop_with_maven\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/2022.2/convert-a-regular-project-into-a-maven-project.html#develop_with_maven</a></p>\n<blockquote>\n<p>Click the Build Project icon to build project. IntelliJ IDEA generates\ntarget folder. <strong>Note that IntelliJ IDEA only compiles sources and\ndoesn't create either JAR file or Manifest file.</strong></p>\n<p>Create a Manifest file in the resources directory.</p>\n<p>Right-click the directory, select New | Directory to create the\nMETA-INF subdirectory. Then right-click the subdirectory, select New |\nFile to create the MANIFEST.MF file.</p>\n<p>the Manifest file Open the MANIFEST.MF file in the editor and add\ninformation about your main class.</p>\n<p>Check the following code:</p>\n<p>Main-Class: com.company.MyApp Alternatively, we can ask Maven to add\nthis line of code into the MANIFEST.MF file with the following code in\npom.xml:</p>\n\n    org.apache.maven.plugins\n    maven-jar-plugin\n    \n        \n            \n                \n                    com.company.MyApp\n                \n            \n        \n      In your POM specify the Manifest file information, so you can use Maven to generate an executable jar file.\n<p>POM with manifest Alternatively, you can execute package instead of\nthe install command to achieve the same result.</p>\n</blockquote>\n"}],"owner":{"account_id":15963,"reputation":1774,"user_id":34299,"display_name":"grudolf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90076,"favorite_count":0,"down_vote_count":0,"up_vote_count":107,"accepted_answer_id":21074091,"answer_count":8,"score":107,"last_activity_date":1679927747,"creation_date":1389020320,"question_id":20952713,"body_markdown":"I&#39;m trying to package a project using OptaPlanner 6.0.1 libraries into a .jar through IntelliJ IDEA&#39;s jar artifact but instead of my manifest.mf containing the standard\r\n\r\n    Manifest-Version: 1.0\r\n    Main-Class: a.b.c.app\r\n\r\nthe jar uses the one supplied in ecj-3.7.2.jar, one of OptaPlanner&#39;s supporting libraries:\r\n\r\n    Manifest-Version: 1.0\r\n    Build-Jdk: 1.6.0_26\r\n    Built-By: ibrandt\r\n    Created-By: Apache Maven\r\n    Archiver-Version: Plexus Archiver\r\n\r\nBecause of this, a `&quot;no main manifest attribute, in appname.jar&quot;` error happens when trying to run the app. If I manually replace the manifest in .jar file with mine everything works correctly. Is there anything I can do to fix this?\r\n\r\nI keep the libraries in a separate /lib directory and they were added to the root of jar artifact as Extracted Directory, IntelliJ IDEA is v13.0.1.\r\n\r\n\r\n\r\n","title":"Wrong Manifest.mf in IntelliJ IDEA created .jar","body":"<p>I'm trying to package a project using OptaPlanner 6.0.1 libraries into a .jar through IntelliJ IDEA's jar artifact but instead of my manifest.mf containing the standard</p>\n\n<pre><code>Manifest-Version: 1.0\nMain-Class: a.b.c.app\n</code></pre>\n\n<p>the jar uses the one supplied in ecj-3.7.2.jar, one of OptaPlanner's supporting libraries:</p>\n\n<pre><code>Manifest-Version: 1.0\nBuild-Jdk: 1.6.0_26\nBuilt-By: ibrandt\nCreated-By: Apache Maven\nArchiver-Version: Plexus Archiver\n</code></pre>\n\n<p>Because of this, a <code>\"no main manifest attribute, in appname.jar\"</code> error happens when trying to run the app. If I manually replace the manifest in .jar file with mine everything works correctly. Is there anything I can do to fix this?</p>\n\n<p>I keep the libraries in a separate /lib directory and they were added to the root of jar artifact as Extracted Directory, IntelliJ IDEA is v13.0.1.</p>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0","spring-authorization-server"],"answers":[{"comments":[{"owner":{"account_id":2789435,"reputation":387,"user_id":2399972,"accept_rate":60,"display_name":"Colin Riddell"},"score":0,"creation_date":1679606027,"post_id":75825423,"comment_id":133756435,"body_markdown":"Amazing. Thanks for the detailed response. Should I keep requireExplicitSave set to false, for this. I don&#39;t quite understand this API. Seems all examples recommend to set that to false but still explicitly save anyway?!","body":"Amazing. Thanks for the detailed response. Should I keep requireExplicitSave set to false, for this. I don&#39;t quite understand this API. Seems all examples recommend to set that to false but still explicitly save anyway?!"},{"owner":{"account_id":21488921,"reputation":4730,"user_id":15835039,"display_name":"Steve Riesenberg"},"score":0,"creation_date":1679635941,"post_id":75825423,"comment_id":133760091,"body_markdown":"Well, you can set it to false if you want, but this example works with the default in 6.0 (true). You can review the 5.8 migration guide to understand these settings a bit more. It helps to know that since 6.0 was a major release with breaking changes, new settings like this one were added to 5.8 as a transitional release to allow configuring in a backwards compatible way if needed (false in this case). https://docs.spring.io/spring-security/reference/5.8/migration/index.html","body":"Well, you can set it to false if you want, but this example works with the default in 6.0 (true). You can review the 5.8 migration guide to understand these settings a bit more. It helps to know that since 6.0 was a major release with breaking changes, new settings like this one were added to 5.8 as a transitional release to allow configuring in a backwards compatible way if needed (false in this case). <a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/index.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/5.8/migration/&hellip;</a>"},{"owner":{"account_id":2789435,"reputation":387,"user_id":2399972,"accept_rate":60,"display_name":"Colin Riddell"},"score":0,"creation_date":1679911557,"post_id":75825423,"comment_id":133799633,"body_markdown":"I&#39;ve noticed that with this `UsernameAndPasswordAuthenticationToken`, the `OAuth2AuthorizationCodeRequestAuthenticationProvider` tries to find the consent with the principal name, which seems to be something like `org.springframework.security.oauth2.jwt.Jwt@20468362`. I still want to be able to use the pricipal name as setup in my authentication. So I wonder if I can&#39;t use this work-around?","body":"I&#39;ve noticed that with this <code>UsernameAndPasswordAuthenticationToken</code>, the <code>OAuth2AuthorizationCodeRequestAuthenticationProvider</code> tries to find the consent with the principal name, which seems to be something like <code>org.springframework.security.oauth2.jwt.Jwt@20468362</code>. I still want to be able to use the pricipal name as setup in my authentication. So I wonder if I can&#39;t use this work-around?"},{"owner":{"account_id":21488921,"reputation":4730,"user_id":15835039,"display_name":"Steve Riesenberg"},"score":0,"creation_date":1679927632,"post_id":75825423,"comment_id":133804142,"body_markdown":"I see. I didn&#39;t test that deeply. I&#39;ve updated the answer.","body":"I see. I didn&#39;t test that deeply. I&#39;ve updated the answer."}],"tags":[],"owner":{"account_id":21488921,"reputation":4730,"user_id":15835039,"display_name":"Steve Riesenberg"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679927580,"creation_date":1679587807,"answer_id":75825423,"question_id":75815537,"body_markdown":"In [Spring Security 6][1], the `SecurityContext` is indeed [no longer automatically saved][2] for every request (depending on the `sessionManagement()` config).\r\n\r\nThe behavior of saving the `SecurityContext` is now the responsibility of each individual authentication mechanism (usually a filter, such as `UsernamePasswordAuthenticationFilter`). When you are customizing authentication, you will usually need to handle saving the context yourself, as you are doing now.\r\n\r\nThe issue is that the type of `Authentication` in your case is [`JwtAuthenticationToken`][3], which is marked as `@Transient`. This means it will not be saved even if you call `securityContextRepository.saveContext(...)`. I&#39;m not clear how this was working in 0.3.0 (which used spring-security 5.7.x and included [this bug fix][4]). However, you can work around this by using another `Authentication` type that is non-`@Transient`, for example:\r\n\r\n\r\n```java\r\n@Controller\r\npublic class SsoController {\r\n    private final SecurityContextHolderStrategy securityContextHolderStrategy =\r\n            SecurityContextHolder.getContextHolderStrategy();\r\n\r\n    private final SecurityContextRepository securityContextRepository =\r\n            new HttpSessionSecurityContextRepository();\r\n\r\n    @GetMapping(&quot;/login&quot;)\r\n    public String login(\r\n            @RequestParam(&quot;response_type&quot;) String responseType,\r\n            @RequestParam(&quot;client_id&quot;) String clientId,\r\n            @RequestParam(&quot;scope&quot;) String scope,\r\n            @RequestParam(&quot;state&quot;) String state,\r\n            @RequestParam(&quot;redirect_uri&quot;) String redirectUri,\r\n            @RequestParam(&quot;nonce&quot;) String nonce,\r\n            @AuthenticationPrincipal Jwt jwt,\r\n            HttpServletRequest request,\r\n            HttpServletResponse response) {\r\n\r\n        List&lt;GrantedAuthority&gt; authorities =\r\n                AuthorityUtils.createAuthorityList(&quot;USER&quot;);\r\n        User user = new User(jwt.getSubject(), null, authorities);\r\n        UsernamePasswordAuthenticationToken authenticationResult =\r\n                UsernamePasswordAuthenticationToken.authenticated(\r\n                        user, null, authorities);\r\n\r\n        SecurityContext securityContext = this.securityContextHolderStrategy.createEmptyContext();\r\n        securityContext.setAuthentication(authenticationResult);\r\n        this.securityContextHolderStrategy.setContext(securityContext);\r\n        this.securityContextRepository.saveContext(securityContext, request, response);\r\n\r\n        return String.format(&quot;redirect:/oauth2/authorize?response_type=%s&amp;client_id=%s&amp;scope=%s&amp;state=%s&amp;redirect_uri=%s&amp;nonce=%s&quot;,\r\n                responseType, clientId, scope, state, redirectUri, nonce\r\n        );\r\n    }\r\n}\r\n```\r\n\r\n(I didn&#39;t include your example with `serverFqdn` verbatim as I don&#39;t know where that variable is coming from. Feel free to change this example as necessary to meet your needs.)\r\n\r\nNotice the pattern of creating an empty `SecurityContext` and populating it, and then setting it afterwards. In other words, you should treat the existing `SecurityContext` as immutable even though it isn&#39;t.\r\n\r\nAlso note that setting the `SecurityContext` in this `@Controller` is actually optional (since you don&#39;t need to do any additional processing in this request), only saving the context is required at this stage. I included it to complete the example.\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/migration/index.html\r\n  [2]: https://docs.spring.io/spring-security/reference/migration/servlet/session-management.html#_require_explicit_saving_of_securitycontextrepository\r\n  [3]: https://github.com/spring-projects/spring-security/blob/13f707a6d5b156ca43442d2ccfd5b554b0a33a9c/oauth2/oauth2-resource-server/src/main/java/org/springframework/security/oauth2/server/resource/authentication/JwtAuthenticationToken.java#L36\r\n  [4]: https://github.com/spring-projects/spring-security/issues/9992","title":"Upgrading to Spring Security 6 401&#39;s - sessions issue? - updating to SAS 1.0.1","body":"<p>In <a href=\"https://docs.spring.io/spring-security/reference/migration/index.html\" rel=\"nofollow noreferrer\">Spring Security 6</a>, the <code>SecurityContext</code> is indeed <a href=\"https://docs.spring.io/spring-security/reference/migration/servlet/session-management.html#_require_explicit_saving_of_securitycontextrepository\" rel=\"nofollow noreferrer\">no longer automatically saved</a> for every request (depending on the <code>sessionManagement()</code> config).</p>\n<p>The behavior of saving the <code>SecurityContext</code> is now the responsibility of each individual authentication mechanism (usually a filter, such as <code>UsernamePasswordAuthenticationFilter</code>). When you are customizing authentication, you will usually need to handle saving the context yourself, as you are doing now.</p>\n<p>The issue is that the type of <code>Authentication</code> in your case is <a href=\"https://github.com/spring-projects/spring-security/blob/13f707a6d5b156ca43442d2ccfd5b554b0a33a9c/oauth2/oauth2-resource-server/src/main/java/org/springframework/security/oauth2/server/resource/authentication/JwtAuthenticationToken.java#L36\" rel=\"nofollow noreferrer\"><code>JwtAuthenticationToken</code></a>, which is marked as <code>@Transient</code>. This means it will not be saved even if you call <code>securityContextRepository.saveContext(...)</code>. I'm not clear how this was working in 0.3.0 (which used spring-security 5.7.x and included <a href=\"https://github.com/spring-projects/spring-security/issues/9992\" rel=\"nofollow noreferrer\">this bug fix</a>). However, you can work around this by using another <code>Authentication</code> type that is non-<code>@Transient</code>, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class SsoController {\n    private final SecurityContextHolderStrategy securityContextHolderStrategy =\n            SecurityContextHolder.getContextHolderStrategy();\n\n    private final SecurityContextRepository securityContextRepository =\n            new HttpSessionSecurityContextRepository();\n\n    @GetMapping(&quot;/login&quot;)\n    public String login(\n            @RequestParam(&quot;response_type&quot;) String responseType,\n            @RequestParam(&quot;client_id&quot;) String clientId,\n            @RequestParam(&quot;scope&quot;) String scope,\n            @RequestParam(&quot;state&quot;) String state,\n            @RequestParam(&quot;redirect_uri&quot;) String redirectUri,\n            @RequestParam(&quot;nonce&quot;) String nonce,\n            @AuthenticationPrincipal Jwt jwt,\n            HttpServletRequest request,\n            HttpServletResponse response) {\n\n        List&lt;GrantedAuthority&gt; authorities =\n                AuthorityUtils.createAuthorityList(&quot;USER&quot;);\n        User user = new User(jwt.getSubject(), null, authorities);\n        UsernamePasswordAuthenticationToken authenticationResult =\n                UsernamePasswordAuthenticationToken.authenticated(\n                        user, null, authorities);\n\n        SecurityContext securityContext = this.securityContextHolderStrategy.createEmptyContext();\n        securityContext.setAuthentication(authenticationResult);\n        this.securityContextHolderStrategy.setContext(securityContext);\n        this.securityContextRepository.saveContext(securityContext, request, response);\n\n        return String.format(&quot;redirect:/oauth2/authorize?response_type=%s&amp;client_id=%s&amp;scope=%s&amp;state=%s&amp;redirect_uri=%s&amp;nonce=%s&quot;,\n                responseType, clientId, scope, state, redirectUri, nonce\n        );\n    }\n}\n</code></pre>\n<p>(I didn't include your example with <code>serverFqdn</code> verbatim as I don't know where that variable is coming from. Feel free to change this example as necessary to meet your needs.)</p>\n<p>Notice the pattern of creating an empty <code>SecurityContext</code> and populating it, and then setting it afterwards. In other words, you should treat the existing <code>SecurityContext</code> as immutable even though it isn't.</p>\n<p>Also note that setting the <code>SecurityContext</code> in this <code>@Controller</code> is actually optional (since you don't need to do any additional processing in this request), only saving the context is required at this stage. I included it to complete the example.</p>\n"}],"owner":{"account_id":2789435,"reputation":387,"user_id":2399972,"accept_rate":60,"display_name":"Colin Riddell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":713,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75825423,"answer_count":1,"score":1,"last_activity_date":1679927580,"creation_date":1679506510,"question_id":75815537,"body_markdown":"I&#39;m finally getting around to updating some old code from Spring Authorization Server 0.3.0 to 1.0.1. (which of course means updating to spring security 6.x)\r\n\r\nI have a custom flow which requires an initial JWT token to be validated before entering the main oauth flow ( from my older question and useful answer here: https://stackoverflow.com/a/69577014/2399972 ). This currently has the configuration as follows, **which works perfectly** as of `0.3.0` and SS 5.\r\n\r\nThis is my configuration. My understanding is that the first one is for the oauth endpoints, to allow them to accept sessions created in other requests? \r\n\r\nThe second chain is for my custom `/login` endpoint, which will pull off a bearer token, validate it and then redirect to the `/oauth/login....`. (as shown in the code block after this one).\r\n\r\n```java\r\n    @Bean\r\n    @Order(1)\r\n    public SecurityFilterChain authorizationServerSecurityFilterChain(HttpSecurity http)\r\n            throws Exception {\r\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\r\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.ALWAYS);\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    @Order(2)\r\n    public SecurityFilterChain standardSecurityFilterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests(\r\n                        authorize -&gt;\r\n                                authorize\r\n                                        .antMatchers(publicRoutes.toArray(new String[0]))\r\n                                        .permitAll()\r\n                                        .anyRequest()\r\n                                        .authenticated())\r\n                .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\r\n        http.csrf().disable();\r\n        http.headers().frameOptions().disable();\r\n\r\n        return http.build();\r\n    }\r\n\r\n```\r\n\r\nthis allows me to consume a bearer token on a `/login` endpoint on the same service, validate it, and then pass the flow to `/oauth2/authorize` - like so:\r\n\r\n```java\r\n    @GetMapping(&quot;/login&quot;)\r\n    public String login(\r\n            @RequestParam(&quot;response_type&quot;) String responseType,\r\n            @RequestParam(&quot;client_id&quot;) String clientId,\r\n            @RequestParam(&quot;scope&quot;) String scope,\r\n            @RequestParam(&quot;state&quot;) String state,\r\n            @RequestParam(&quot;redirect_uri&quot;) String redirectUri,\r\n            @RequestParam(&quot;nonce&quot;) String nonce,\r\n            Authentication authentication,\r\n            HttpServletRequest httpServletRequest,\r\n            HttpSession httpSession) {\r\n       \r\n        return String.format(\r\n                &quot;redirect:%s/oauth2/authorize?response_type=%s&amp;client_id=%s&amp;scope=%s&amp;state=%s&amp;nonce=%s&amp;redirect_uri=%s&quot;,\r\n                serverFqdn, responseType, clientId, scope, state, nonce, redirectUri);\r\n    }\r\n\r\n```\r\nSo - this all works on 0.3.0 and spring security 5.\r\n\r\n\r\n**On updating to `1.0.1` I get a 401 when the `/oauth2/authorize` is called that I can&#39;t figure out.**\r\n\r\nI&#39;m not 100% but I&#39;ve read *that the sessions are persisted differently in Spring Security 6*, so now need to explicitly save the session - **or something**? Here&#39;s my attempt at this:\r\n\r\n```java\r\n    @Bean\r\n    @Order(1)\r\n    public SecurityFilterChain authorizationServerSecurityFilterChain(HttpSecurity http)\r\n            throws Exception {\r\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\r\n\r\n        http.getConfigurer( OAuth2AuthorizationServerConfigurer.class)\r\n                .oidc( Customizer.withDefaults());\r\n        http\r\n        .sessionManagement().sessionCreationPolicy( SessionCreationPolicy.ALWAYS )\r\n        .and()\r\n        .securityContext(securityContext -&gt; securityContext\r\n            .requireExplicitSave( false )\r\n            .securityContextRepository( patchedDelegatingSecurityContextRepository )\r\n// or can this be any securityContextRepository that&#39;s here.. I assumed it needs to be a bean?\r\n        );\r\n        return http.build();\r\n    }\r\n\r\n```\r\n\r\nAnd on the jwt secured `/login` redir to oauth - it&#39;s the same as before, but now I&#39;m trying to save the session.\r\n\r\n```java\r\n   @GetMapping(&quot;/login&quot;)\r\n    public String login(\r\n            @RequestParam(&quot;response_type&quot;) String responseType,\r\n            @RequestParam(&quot;client_id&quot;) String clientId,\r\n            @RequestParam(&quot;scope&quot;) String scope,\r\n            @RequestParam(&quot;state&quot;) String state,\r\n            @RequestParam(&quot;redirect_uri&quot;) String redirectUri,\r\n            @RequestParam(&quot;nonce&quot;) String nonce,\r\n            Authentication authentication,\r\n            HttpServletRequest httpServletRequest,\r\n            HttpSession httpSession) {\r\n       \r\n      SecurityContext context = securityContextHolderStrategy.getContext();\r\n      context.setAuthentication(authentication);\r\n      SecurityContextHolder.setContext(context);\r\n      securityContextHolderStrategy.setContext( context );\r\n      sessionSecurityContextRepository.saveContext(context, httpServletRequest,response);\r\n\r\n        return String.format(\r\n                &quot;redirect:%s/oauth2/authorize?response_type=%s&amp;client_id=%s&amp;scope=%s&amp;state=%s&amp;nonce=%s&amp;redirect_uri=%s&quot;,\r\n                serverFqdn, responseType, clientId, scope, state, nonce, redirectUri);\r\n    }\r\n\r\n```\r\n\r\nDespite this, the session **doesn&#39;t seem to be saved**, not retrieved correctly - I think?\r\n\r\nOr is there something else I&#39;m totally missing here? All help and info very welcome.","title":"Upgrading to Spring Security 6 401&#39;s - sessions issue? - updating to SAS 1.0.1","body":"<p>I'm finally getting around to updating some old code from Spring Authorization Server 0.3.0 to 1.0.1. (which of course means updating to spring security 6.x)</p>\n<p>I have a custom flow which requires an initial JWT token to be validated before entering the main oauth flow ( from my older question and useful answer here: <a href=\"https://stackoverflow.com/a/69577014/2399972\">https://stackoverflow.com/a/69577014/2399972</a> ). This currently has the configuration as follows, <strong>which works perfectly</strong> as of <code>0.3.0</code> and SS 5.</p>\n<p>This is my configuration. My understanding is that the first one is for the oauth endpoints, to allow them to accept sessions created in other requests?</p>\n<p>The second chain is for my custom <code>/login</code> endpoint, which will pull off a bearer token, validate it and then redirect to the <code>/oauth/login....</code>. (as shown in the code block after this one).</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    @Order(1)\n    public SecurityFilterChain authorizationServerSecurityFilterChain(HttpSecurity http)\n            throws Exception {\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.ALWAYS);\n        return http.build();\n    }\n\n    @Bean\n    @Order(2)\n    public SecurityFilterChain standardSecurityFilterChain(HttpSecurity http) throws Exception {\n        http.authorizeRequests(\n                        authorize -&gt;\n                                authorize\n                                        .antMatchers(publicRoutes.toArray(new String[0]))\n                                        .permitAll()\n                                        .anyRequest()\n                                        .authenticated())\n                .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\n        http.csrf().disable();\n        http.headers().frameOptions().disable();\n\n        return http.build();\n    }\n\n</code></pre>\n<p>this allows me to consume a bearer token on a <code>/login</code> endpoint on the same service, validate it, and then pass the flow to <code>/oauth2/authorize</code> - like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @GetMapping(&quot;/login&quot;)\n    public String login(\n            @RequestParam(&quot;response_type&quot;) String responseType,\n            @RequestParam(&quot;client_id&quot;) String clientId,\n            @RequestParam(&quot;scope&quot;) String scope,\n            @RequestParam(&quot;state&quot;) String state,\n            @RequestParam(&quot;redirect_uri&quot;) String redirectUri,\n            @RequestParam(&quot;nonce&quot;) String nonce,\n            Authentication authentication,\n            HttpServletRequest httpServletRequest,\n            HttpSession httpSession) {\n       \n        return String.format(\n                &quot;redirect:%s/oauth2/authorize?response_type=%s&amp;client_id=%s&amp;scope=%s&amp;state=%s&amp;nonce=%s&amp;redirect_uri=%s&quot;,\n                serverFqdn, responseType, clientId, scope, state, nonce, redirectUri);\n    }\n\n</code></pre>\n<p>So - this all works on 0.3.0 and spring security 5.</p>\n<p><strong>On updating to <code>1.0.1</code> I get a 401 when the <code>/oauth2/authorize</code> is called that I can't figure out.</strong></p>\n<p>I'm not 100% but I've read <em>that the sessions are persisted differently in Spring Security 6</em>, so now need to explicitly save the session - <strong>or something</strong>? Here's my attempt at this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    @Order(1)\n    public SecurityFilterChain authorizationServerSecurityFilterChain(HttpSecurity http)\n            throws Exception {\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\n\n        http.getConfigurer( OAuth2AuthorizationServerConfigurer.class)\n                .oidc( Customizer.withDefaults());\n        http\n        .sessionManagement().sessionCreationPolicy( SessionCreationPolicy.ALWAYS )\n        .and()\n        .securityContext(securityContext -&gt; securityContext\n            .requireExplicitSave( false )\n            .securityContextRepository( patchedDelegatingSecurityContextRepository )\n// or can this be any securityContextRepository that's here.. I assumed it needs to be a bean?\n        );\n        return http.build();\n    }\n\n</code></pre>\n<p>And on the jwt secured <code>/login</code> redir to oauth - it's the same as before, but now I'm trying to save the session.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   @GetMapping(&quot;/login&quot;)\n    public String login(\n            @RequestParam(&quot;response_type&quot;) String responseType,\n            @RequestParam(&quot;client_id&quot;) String clientId,\n            @RequestParam(&quot;scope&quot;) String scope,\n            @RequestParam(&quot;state&quot;) String state,\n            @RequestParam(&quot;redirect_uri&quot;) String redirectUri,\n            @RequestParam(&quot;nonce&quot;) String nonce,\n            Authentication authentication,\n            HttpServletRequest httpServletRequest,\n            HttpSession httpSession) {\n       \n      SecurityContext context = securityContextHolderStrategy.getContext();\n      context.setAuthentication(authentication);\n      SecurityContextHolder.setContext(context);\n      securityContextHolderStrategy.setContext( context );\n      sessionSecurityContextRepository.saveContext(context, httpServletRequest,response);\n\n        return String.format(\n                &quot;redirect:%s/oauth2/authorize?response_type=%s&amp;client_id=%s&amp;scope=%s&amp;state=%s&amp;nonce=%s&amp;redirect_uri=%s&quot;,\n                serverFqdn, responseType, clientId, scope, state, nonce, redirectUri);\n    }\n\n</code></pre>\n<p>Despite this, the session <strong>doesn't seem to be saved</strong>, not retrieved correctly - I think?</p>\n<p>Or is there something else I'm totally missing here? All help and info very welcome.</p>\n"},{"tags":["java","processing","textures"],"answers":[{"comments":[{"owner":{"account_id":27873970,"reputation":3,"user_id":21283843,"display_name":"Aaaa Aa"},"score":0,"creation_date":1679932105,"post_id":75857009,"comment_id":133805581,"body_markdown":"i tried that and it did change the color of the shapes to a grey but i dont know how it got that color but it didnt change texture","body":"i tried that and it did change the color of the shapes to a grey but i dont know how it got that color but it didnt change texture"},{"owner":{"account_id":22988416,"reputation":30,"user_id":17114274,"display_name":"Nicolas Pellerin"},"score":0,"creation_date":1679932685,"post_id":75857009,"comment_id":133805769,"body_markdown":"Try creating a new sketch, adding ```the setup()``` and ```draw()``` functions, and adding the line ```img = loadImage(&quot;tree.jpg&quot;);``` to the ```setup()``` function. If the image does not load properly in this new sketch, it may be corrupted or in an unsupported format.","body":"Try creating a new sketch, adding <code>the setup()</code> and <code>draw()</code> functions, and adding the line <code>img = loadImage(&quot;tree.jpg&quot;);</code> to the <code>setup()</code> function. If the image does not load properly in this new sketch, it may be corrupted or in an unsupported format."}],"tags":[],"owner":{"account_id":22988416,"reputation":30,"user_id":17114274,"display_name":"Nicolas Pellerin"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679927520,"creation_date":1679927520,"answer_id":75857009,"question_id":75856866,"body_markdown":"The method you are using (```texture()```) is throwing this error, because this function only work with the P3D and OPENGL renderers in Processing. To fix this you should add P3D in your size at setup. Here is what is should look:\r\n\r\n```\r\nvoid setup() {\r\n  size(700, 600, P3D); \r\n  loadLabelsAndButtons();\r\n}\r\n```\r\n","title":"Texture not applying to shape in proccessing","body":"<p>The method you are using (<code>texture()</code>) is throwing this error, because this function only work with the P3D and OPENGL renderers in Processing. To fix this you should add P3D in your size at setup. Here is what is should look:</p>\n<pre><code>void setup() {\n  size(700, 600, P3D); \n  loadLabelsAndButtons();\n}\n</code></pre>\n"}],"owner":{"account_id":27873970,"reputation":3,"user_id":21283843,"display_name":"Aaaa Aa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679927520,"creation_date":1679926773,"question_id":75856866,"body_markdown":"I am trying to apply a image to the shape ive created. Each time the deforstation button is clicked it creates a graph and im trying to apply the picture i have in the folder as the texture so the shape is filled with trees instead of just black. i will add textures for the sea level and c02 as well so it changes for each graph i just want to figure the forest one out first so in the forest button i make the img variable as the forest picture. \r\n\r\ni get an error code in when i run in the console that says texture() is not available with this renderer.\r\n\r\n\r\n```\r\nTable table;\r\nIntList yearList;\r\nIntList graphedData;\r\nString fileName;\r\nString name;\r\nPImage img;\r\n\r\nvoid loadLabelsAndButtons() {\r\n  // Draw sea level button\r\n  fill(255); // added fill color\r\n\r\n  //c02 button\r\n  rect(50, 560, 150, 30, 18);\r\n  textSize(12);\r\n  textAlign(CENTER);\r\n  fill(0, 0, 0);\r\n  text(&quot;c02 Increase &quot;, 120, 580);\r\n\r\n\r\n  //sealevel button\r\n  fill(255); // added fill color\r\n  rect(250, 560, 150, 30, 18);\r\n  fill(0, 0, 0);\r\n  text(&quot;Sea increase&quot;, 320, 580);\r\n\r\n  //deaforstation button\r\n  fill(255); // added fill color\r\n  rect(450, 560, 150, 30, 18);\r\n  fill(0, 0, 0);\r\n  text(&quot;Deforestation&quot;, 520, 580);\r\n}\r\n\r\nvoid setup() {\r\n  size(700, 600);\r\n  loadLabelsAndButtons();\r\n}\r\n\r\nvoid draw() {\r\n}\r\n\r\nvoid mousePressed() {\r\n //sky map button\r\n  if (mouseX &gt; 50 &amp;&amp; mouseX &lt; 200 &amp;&amp; mouseY &gt; 560 &amp;&amp; mouseY &lt; 590) {\r\n    //calls forest map\r\n\r\n    drawGraph(&quot;sky.csv&quot;);\r\n    textSize(20);\r\n    text(&quot;Global c02 increase scince 1960&quot;, 350, 100);\r\n    textSize(12);\r\n    text(&quot;(Million metric tons)&quot;, 350, 125);\r\n    fill(128,128,128);\r\n    text(&quot;(Source: Global Carbon Project:)&quot;, 350, 145);\r\n  }\r\n   //sealevel map button\r\n  if (mouseX &gt; 250 &amp;&amp; mouseX &lt; 400 &amp;&amp; mouseY &gt; 560 &amp;&amp; mouseY &lt; 590) {\r\n    //calls seaslevel map\r\n    drawGraph(&quot;seaLevel.csv&quot;);\r\n    textSize(20);\r\n    text(&quot;United States sea-level increase scince 1960&quot;, 350, 100);\r\n    textSize(12);\r\n    text(&quot;(Millimeters)&quot;, 350, 125);\r\n    fill(128,128,128);\r\n    text(&quot;(Source:NOAA)&quot;, 350, 145);\r\n\r\n  }\r\n   //forest map button\r\n  if (mouseX &gt; 450 &amp;&amp; mouseX &lt; 600 &amp;&amp; mouseY &gt; 560 &amp;&amp; mouseY &lt; 590) {\r\n    //calls forest map\r\n**    img = loadImage(&quot;tree.jpg&quot;);\r\n**    drawGraph(&quot;deforest.csv&quot;);\r\n    \r\n    textSize(20);\r\n    text(&quot;Global deforestation scince 1960&quot;, 350, 100);\r\n    textSize(12);\r\n    text(&quot;(Million Hectares)&quot;, 350, 125);\r\n    fill(128,128,128);\r\n    text(&quot;(Source: Worl Data:)&quot;, 350, 145);\r\n\r\n  }\r\n}\r\n\r\nvoid drawGraph(String name) {\r\n  background(255);\r\n  //clear canvas\r\n  loadLabelsAndButtons();\r\n\r\n  //getsdata for new graph to draw\r\n  parseData(name);\r\n\r\n  //creates x axis\r\n  yearText();\r\n  int y = 600;\r\n  int x = 50;\r\n  int v = 0;\r\n**\r\n  textureMode(NORMAL);\r\n  texture(img);**\r\n\r\n  beginShape();\r\n  for (v = 0; v &lt; yearList.size(); v++) {\r\n\r\n    texture(img);\r\n    y = graphedData.get(v);\r\n\r\n    // align to the middle of the screen\r\n    vertex(x, (900 - y) / 2 + 50);\r\n    x = x + 50;\r\n  }\r\n  vertex(x-50, 900/2 + 50); // add vertex to complete the shape\r\n  endShape();\r\n  yearText();\r\n}\r\n\r\n//gets data for graphs from each spreadsheet\r\nvoid parseData(String fileName) {\r\n  //water levels\r\n  yearList = new IntList();\r\n  graphedData = new IntList();\r\n  table = loadTable(fileName, &quot;header&quot;);\r\n  for (TableRow row : table.rows()) {\r\n    int year = row.getInt(&quot;Year&quot;);\r\n    int yValue = row.getInt(&quot;Rise&quot;);\r\n    yearList.append(year);\r\n    graphedData.append(yValue);\r\n  }\r\n}\r\n\r\n//headers for x axis\r\nvoid yearText() {\r\n  int y = 0;\r\n  int yText = 0;\r\n  int x = 50;\r\n  int v = 0;\r\n  int xText = 0;\r\n  for (v = 0; v &lt; yearList.size(); v++) {\r\n    yText = graphedData.get(v);\r\n    xText = yearList.get(v);\r\n    y = (900 - yText) / 2 + 50;\r\n    fill(0);\r\n    textSize(12);\r\n    textAlign(CENTER);\r\n    text(yText, x, y - 10);\r\n    text(xText, x, 550);\r\n    x = x + 50;\r\n  }\r\n}\r\n```\r\n","title":"Texture not applying to shape in proccessing","body":"<p>I am trying to apply a image to the shape ive created. Each time the deforstation button is clicked it creates a graph and im trying to apply the picture i have in the folder as the texture so the shape is filled with trees instead of just black. i will add textures for the sea level and c02 as well so it changes for each graph i just want to figure the forest one out first so in the forest button i make the img variable as the forest picture.</p>\n<p>i get an error code in when i run in the console that says texture() is not available with this renderer.</p>\n<pre><code>Table table;\nIntList yearList;\nIntList graphedData;\nString fileName;\nString name;\nPImage img;\n\nvoid loadLabelsAndButtons() {\n  // Draw sea level button\n  fill(255); // added fill color\n\n  //c02 button\n  rect(50, 560, 150, 30, 18);\n  textSize(12);\n  textAlign(CENTER);\n  fill(0, 0, 0);\n  text(&quot;c02 Increase &quot;, 120, 580);\n\n\n  //sealevel button\n  fill(255); // added fill color\n  rect(250, 560, 150, 30, 18);\n  fill(0, 0, 0);\n  text(&quot;Sea increase&quot;, 320, 580);\n\n  //deaforstation button\n  fill(255); // added fill color\n  rect(450, 560, 150, 30, 18);\n  fill(0, 0, 0);\n  text(&quot;Deforestation&quot;, 520, 580);\n}\n\nvoid setup() {\n  size(700, 600);\n  loadLabelsAndButtons();\n}\n\nvoid draw() {\n}\n\nvoid mousePressed() {\n //sky map button\n  if (mouseX &gt; 50 &amp;&amp; mouseX &lt; 200 &amp;&amp; mouseY &gt; 560 &amp;&amp; mouseY &lt; 590) {\n    //calls forest map\n\n    drawGraph(&quot;sky.csv&quot;);\n    textSize(20);\n    text(&quot;Global c02 increase scince 1960&quot;, 350, 100);\n    textSize(12);\n    text(&quot;(Million metric tons)&quot;, 350, 125);\n    fill(128,128,128);\n    text(&quot;(Source: Global Carbon Project:)&quot;, 350, 145);\n  }\n   //sealevel map button\n  if (mouseX &gt; 250 &amp;&amp; mouseX &lt; 400 &amp;&amp; mouseY &gt; 560 &amp;&amp; mouseY &lt; 590) {\n    //calls seaslevel map\n    drawGraph(&quot;seaLevel.csv&quot;);\n    textSize(20);\n    text(&quot;United States sea-level increase scince 1960&quot;, 350, 100);\n    textSize(12);\n    text(&quot;(Millimeters)&quot;, 350, 125);\n    fill(128,128,128);\n    text(&quot;(Source:NOAA)&quot;, 350, 145);\n\n  }\n   //forest map button\n  if (mouseX &gt; 450 &amp;&amp; mouseX &lt; 600 &amp;&amp; mouseY &gt; 560 &amp;&amp; mouseY &lt; 590) {\n    //calls forest map\n**    img = loadImage(&quot;tree.jpg&quot;);\n**    drawGraph(&quot;deforest.csv&quot;);\n    \n    textSize(20);\n    text(&quot;Global deforestation scince 1960&quot;, 350, 100);\n    textSize(12);\n    text(&quot;(Million Hectares)&quot;, 350, 125);\n    fill(128,128,128);\n    text(&quot;(Source: Worl Data:)&quot;, 350, 145);\n\n  }\n}\n\nvoid drawGraph(String name) {\n  background(255);\n  //clear canvas\n  loadLabelsAndButtons();\n\n  //getsdata for new graph to draw\n  parseData(name);\n\n  //creates x axis\n  yearText();\n  int y = 600;\n  int x = 50;\n  int v = 0;\n**\n  textureMode(NORMAL);\n  texture(img);**\n\n  beginShape();\n  for (v = 0; v &lt; yearList.size(); v++) {\n\n    texture(img);\n    y = graphedData.get(v);\n\n    // align to the middle of the screen\n    vertex(x, (900 - y) / 2 + 50);\n    x = x + 50;\n  }\n  vertex(x-50, 900/2 + 50); // add vertex to complete the shape\n  endShape();\n  yearText();\n}\n\n//gets data for graphs from each spreadsheet\nvoid parseData(String fileName) {\n  //water levels\n  yearList = new IntList();\n  graphedData = new IntList();\n  table = loadTable(fileName, &quot;header&quot;);\n  for (TableRow row : table.rows()) {\n    int year = row.getInt(&quot;Year&quot;);\n    int yValue = row.getInt(&quot;Rise&quot;);\n    yearList.append(year);\n    graphedData.append(yValue);\n  }\n}\n\n//headers for x axis\nvoid yearText() {\n  int y = 0;\n  int yText = 0;\n  int x = 50;\n  int v = 0;\n  int xText = 0;\n  for (v = 0; v &lt; yearList.size(); v++) {\n    yText = graphedData.get(v);\n    xText = yearList.get(v);\n    y = (900 - yText) / 2 + 50;\n    fill(0);\n    textSize(12);\n    textAlign(CENTER);\n    text(yText, x, y - 10);\n    text(xText, x, 550);\n    x = x + 50;\n  }\n}\n</code></pre>\n"},{"tags":["java","spring"],"owner":{"account_id":7479022,"reputation":2651,"user_id":5684405,"accept_rate":57,"display_name":"mCs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679927518,"creation_date":1679927518,"question_id":75857008,"body_markdown":"For xml config with component-scan is not geting component in context, for given example the bean is not found as it \r\n\r\n    package com.example.demo;\r\n    \r\n    import com.example.demo.p_ack.MyBean; import org.springframework.context.support.ClassPathXmlApplicationContext;\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    public class DemoApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            ClassPathXmlApplicationContext context =\r\n                    new ClassPathXmlApplicationContext(&quot;context.xml&quot;);\r\n            System.out.println(&quot;Bean names: &quot; + Arrays.toString(context.getBeanNamesForType(MyBean.class)));\r\n    \r\n            MyBean annotatedBean = context.getBean(&quot;theComponent&quot;, MyBean.class);\r\n    \r\n        } }\r\n\r\ncontext.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n           http://www.springframework.org/schema/beans/spring-beans.xsd\r\n           http://www.springframework.org/schema/context\r\n           http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n    \r\n        &lt;context:component-scan base-package=&quot;com.example.demo.p_ack&quot;/&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\nMyBean.java\r\n\r\n    package com.example.demo.p_ack;\r\n    \r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component(&quot;theComponent&quot;)\r\n    @RequiredArgsConstructor(onConstructor = @__(@Autowired)) // no constructor boilerplate code\r\n    public class MyBean {\r\n    \r\n    }\r\n\r\nI keep getting empty array for `context.getBeanNamesForType` in `DemoApplication.java` and:\r\n\r\n&gt; Bean names: [] Exception in thread &quot;main&quot;\r\n&gt; org.springframework.beans.factory.NoSuchBeanDefinitionException: No\r\n&gt; bean named &#39;theComponent&#39; available \tat\r\n&gt; org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)\r\n&gt; \tat\r\n&gt; org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1138)\r\n&gt; \tat com.example.demo.DemoApplication.main(DemoApplication.java:19)\r\n\r\nHow to get `theComponent` bean?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R1urT.png","title":"Spring6: Why xml component-scan is not working with No bean named &#39;...&#39; available","body":"<p>For xml config with component-scan is not geting component in context, for given example the bean is not found as it</p>\n<pre><code>package com.example.demo;\n\nimport com.example.demo.p_ack.MyBean; import org.springframework.context.support.ClassPathXmlApplicationContext;\n\nimport java.util.Arrays;\n\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        ClassPathXmlApplicationContext context =\n                new ClassPathXmlApplicationContext(&quot;context.xml&quot;);\n        System.out.println(&quot;Bean names: &quot; + Arrays.toString(context.getBeanNamesForType(MyBean.class)));\n\n        MyBean annotatedBean = context.getBean(&quot;theComponent&quot;, MyBean.class);\n\n    } }\n</code></pre>\n<p>context.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n       http://www.springframework.org/schema/beans/spring-beans.xsd\n       http://www.springframework.org/schema/context\n       http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\n\n    &lt;context:component-scan base-package=&quot;com.example.demo.p_ack&quot;/&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>MyBean.java</p>\n<pre><code>package com.example.demo.p_ack;\n\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\n@Component(&quot;theComponent&quot;)\n@RequiredArgsConstructor(onConstructor = @__(@Autowired)) // no constructor boilerplate code\npublic class MyBean {\n\n}\n</code></pre>\n<p>I keep getting empty array for <code>context.getBeanNamesForType</code> in <code>DemoApplication.java</code> and:</p>\n<blockquote>\n<p>Bean names: [] Exception in thread &quot;main&quot;\norg.springframework.beans.factory.NoSuchBeanDefinitionException: No\nbean named 'theComponent' available   at\norg.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)\nat\norg.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)\nat\norg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)\nat\norg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)\nat\norg.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1138)\nat com.example.demo.DemoApplication.main(DemoApplication.java:19)</p>\n</blockquote>\n<p>How to get <code>theComponent</code> bean?</p>\n<p><a href=\"https://i.stack.imgur.com/R1urT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R1urT.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","sorting","input"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1679928017,"post_id":75856991,"comment_id":133804281,"body_markdown":"I tried your program and the input works fine. It&#39;s not sorting correctly, but it reads number and it only stops when I enter -1. Are you sure you saved your file and you&#39;re compiling and running the correct one?","body":"I tried your program and the input works fine. It&#39;s not sorting correctly, but it reads number and it only stops when I enter -1. Are you sure you saved your file and you&#39;re compiling and running the correct one?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1679928057,"post_id":75856991,"comment_id":133804291,"body_markdown":"Focus on your use of the scanner and how you enter the data. I guess there is a delimiter character that tells the scanner the first int is read. But then you need to clear this input so the scanner can read the next int. See also https://stackoverflow.com/a/49153311/4222206","body":"Focus on your use of the scanner and how you enter the data. I guess there is a delimiter character that tells the scanner the first int is read. But then you need to clear this input so the scanner can read the next int. See also <a href=\"https://stackoverflow.com/a/49153311/4222206\">stackoverflow.com/a/49153311/4222206</a>"},{"owner":{"account_id":25399627,"reputation":33,"user_id":19209356,"display_name":"ege.exe"},"score":0,"creation_date":1679929875,"post_id":75856991,"comment_id":133804912,"body_markdown":"Thank you for clarifying @FedericoklezCulloca - I had a question about what you said about not sorting correctly; am I making a logical error? Can you explain how? \n\nBut yes I tried emptying the input buffer using sc.nextLine() and it seems to have resolved the issue. I also opened and closed visual studio code and that seems to have worked somehow.","body":"Thank you for clarifying @FedericoklezCulloca - I had a question about what you said about not sorting correctly; am I making a logical error? Can you explain how?   But yes I tried emptying the input buffer using sc.nextLine() and it seems to have resolved the issue. I also opened and closed visual studio code and that seems to have worked somehow."},{"owner":{"account_id":25399627,"reputation":33,"user_id":19209356,"display_name":"ege.exe"},"score":0,"creation_date":1679930055,"post_id":75856991,"comment_id":133804970,"body_markdown":"Thank you for providing the link for Scanner class problems @Quegg, it seems as though my issue was leaving a newline character after taking input when not calling sc.nextLine() after taking the input every time. The issue is solved now because I now understand how to clear input buffer.","body":"Thank you for providing the link for Scanner class problems @Quegg, it seems as though my issue was leaving a newline character after taking input when not calling sc.nextLine() after taking the input every time. The issue is solved now because I now understand how to clear input buffer."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - ÈÄÄ„Åó„Åü"},"score":0,"creation_date":1679932249,"post_id":75856991,"comment_id":133805643,"body_markdown":"Are you not allowed to use `Collections.sort(my_array);`?","body":"Are you not allowed to use <code>Collections.sort(my_array);</code>?"},{"owner":{"account_id":25399627,"reputation":33,"user_id":19209356,"display_name":"ege.exe"},"score":0,"creation_date":1679932931,"post_id":75856991,"comment_id":133805850,"body_markdown":"No @DevilsHnd, I was not allowed to use any other prebuilt methods to solve this problem; however, I will keep the method you provided in mind the next time I try to solve a problem where I&#39;m permitted to use other methods.","body":"No @DevilsHnd, I was not allowed to use any other prebuilt methods to solve this problem; however, I will keep the method you provided in mind the next time I try to solve a problem where I&#39;m permitted to use other methods."}],"owner":{"account_id":25399627,"reputation":33,"user_id":19209356,"display_name":"ege.exe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679927435,"creation_date":1679927435,"question_id":75856991,"body_markdown":"```\r\nimport java.util.Scanner;\r\nimport java.util.ArrayList;\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        ArrayList&lt;Integer&gt; my_array = new ArrayList&lt;Integer&gt;();\r\n        while (true) {\r\n            System.out.println(&quot;Enter your input to add to the list. Type in &#39;-1&#39; to finish adding. &quot;);\r\n            int user_in = sc.nextInt();\r\n            if (user_in == -1) {\r\n                break;\r\n            } else {\r\n                my_array.add(user_in);\r\n            }\r\n        }\r\n        System.out.println(sort(my_array));\r\n    }\r\n    public static ArrayList&lt;Integer&gt; sort(ArrayList&lt;Integer&gt; arr) {\r\n        for (int i = 1; i &lt; arr.size(); i++) {\r\n            int key = arr.get(i);\r\n            int j = i;\r\n            while (j &gt; 0 &amp;&amp; arr.get(j-1) &gt; arr.get(j)) {\r\n                arr.set(j,arr.get(j-1));\r\n                j--;\r\n            }\r\n            arr.set(j,key);\r\n        }\r\n        return arr;\r\n    }\r\n}\r\n```\r\n\r\nI tried running this program in my compiler and it won&#39;t work, I have no idea as to why because I double checked both the main method and the sort method that I created; the problem I have is that whenever the user tries to add an element to the ArrayList they will instantly lose their ability to enter the second input before the program closes and returns some value(in this case the arraylist). I don&#39;t understand why the program instantly finishes after the user inputs the first value because the while loop should make it continue if I&#39;m not mistaken, so what am I doing wrong?\r\n\r\nI tried running the program on multiple online compilers and visual studio code but to no avail, I even ran some tests with CHATGPT and the bot cannot find an issue with it which is why I&#39;m confused. When I tried adding a continue statement in the while loop after the user inputs a value I got the same result.","title":"issue with taking input in a while loop for a sorting algorithm","body":"<pre><code>import java.util.Scanner;\nimport java.util.ArrayList;\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        ArrayList&lt;Integer&gt; my_array = new ArrayList&lt;Integer&gt;();\n        while (true) {\n            System.out.println(&quot;Enter your input to add to the list. Type in '-1' to finish adding. &quot;);\n            int user_in = sc.nextInt();\n            if (user_in == -1) {\n                break;\n            } else {\n                my_array.add(user_in);\n            }\n        }\n        System.out.println(sort(my_array));\n    }\n    public static ArrayList&lt;Integer&gt; sort(ArrayList&lt;Integer&gt; arr) {\n        for (int i = 1; i &lt; arr.size(); i++) {\n            int key = arr.get(i);\n            int j = i;\n            while (j &gt; 0 &amp;&amp; arr.get(j-1) &gt; arr.get(j)) {\n                arr.set(j,arr.get(j-1));\n                j--;\n            }\n            arr.set(j,key);\n        }\n        return arr;\n    }\n}\n</code></pre>\n<p>I tried running this program in my compiler and it won't work, I have no idea as to why because I double checked both the main method and the sort method that I created; the problem I have is that whenever the user tries to add an element to the ArrayList they will instantly lose their ability to enter the second input before the program closes and returns some value(in this case the arraylist). I don't understand why the program instantly finishes after the user inputs the first value because the while loop should make it continue if I'm not mistaken, so what am I doing wrong?</p>\n<p>I tried running the program on multiple online compilers and visual studio code but to no avail, I even ran some tests with CHATGPT and the bot cannot find an issue with it which is why I'm confused. When I tried adding a continue statement in the while loop after the user inputs a value I got the same result.</p>\n"},{"tags":["java","objectmapper","mapstruct"],"comments":[{"owner":{"account_id":19793538,"reputation":300,"user_id":14496012,"display_name":"centrumek"},"score":0,"creation_date":1612570214,"post_id":66020979,"comment_id":116817250,"body_markdown":"If all of these mappings have the same `TargetClass` and different `SourceClass` I think that there is no way to achieve that. You can experiment with some abstract class of `SourceClass` and maps all similar fields in one mapping method, but I didn&#39;t test yet if mapsturct allows you to have abstract class in argument method or it needs only concrete class. You can try and let know if it helps :)","body":"If all of these mappings have the same <code>TargetClass</code> and different <code>SourceClass</code> I think that there is no way to achieve that. You can experiment with some abstract class of <code>SourceClass</code> and maps all similar fields in one mapping method, but I didn&#39;t test yet if mapsturct allows you to have abstract class in argument method or it needs only concrete class. You can try and let know if it helps :)"}],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19775,"user_id":1115491,"display_name":"Filip"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1679927404,"creation_date":1612700671,"answer_id":66087884,"question_id":66020979,"body_markdown":"You can use [Mapping Composition](https://mapstruct.org/documentation/stable/reference/html/#mapping-composition) in order to avoid the duplication.\r\n\r\ne.g.\r\n\r\n```\r\n@Retention(RetentionPolicy.CLASS)\r\n@Mapping(target = &quot;tenantTitleId&quot;, expression = &quot;productID&quot;)\r\n@Mapping(target = &quot;tenantId&quot;, constant = &quot;MGM&quot;)\r\n@Mapping(target = &quot;titleName&quot;, expression = &quot;productDesc&quot;)\r\npublic @interface CommonMappings { }\r\n```\r\n\r\nAnd then your mapper will look like:\r\n\r\n```\r\n  ///Mapper 1\r\n  @CommonMappings\r\n  @Mapping(target = &quot;orders&quot;, source = &quot;order&quot;, qualifiedBy = ComplexMapper.class)\r\n  @BeanMapping(ignoreByDefault = true)\r\n  public abstract TargetClass toTargetClass(SourceClass sourceClass) throws Exception;\r\n\r\n  ///Mapper 2\r\n  @CommonMappings\r\n  @Mapping(target = &quot;orders&quot;, source = &quot;order&quot;, qualifiedBy = AnotherComplexMapper.class)\r\n  @BeanMapping(ignoreByDefault = true)\r\n  public abstract TargetClass toTargetClass(SourceClass sourceClass) throws Exception;\r\n```","title":"Avoid duplicate mapping in MapStruct","body":"<p>You can use <a href=\"https://mapstruct.org/documentation/stable/reference/html/#mapping-composition\" rel=\"nofollow noreferrer\">Mapping Composition</a> in order to avoid the duplication.</p>\n<p>e.g.</p>\n<pre><code>@Retention(RetentionPolicy.CLASS)\n@Mapping(target = &quot;tenantTitleId&quot;, expression = &quot;productID&quot;)\n@Mapping(target = &quot;tenantId&quot;, constant = &quot;MGM&quot;)\n@Mapping(target = &quot;titleName&quot;, expression = &quot;productDesc&quot;)\npublic @interface CommonMappings { }\n</code></pre>\n<p>And then your mapper will look like:</p>\n<pre><code>  ///Mapper 1\n  @CommonMappings\n  @Mapping(target = &quot;orders&quot;, source = &quot;order&quot;, qualifiedBy = ComplexMapper.class)\n  @BeanMapping(ignoreByDefault = true)\n  public abstract TargetClass toTargetClass(SourceClass sourceClass) throws Exception;\n\n  ///Mapper 2\n  @CommonMappings\n  @Mapping(target = &quot;orders&quot;, source = &quot;order&quot;, qualifiedBy = AnotherComplexMapper.class)\n  @BeanMapping(ignoreByDefault = true)\n  public abstract TargetClass toTargetClass(SourceClass sourceClass) throws Exception;\n</code></pre>\n"}],"owner":{"account_id":17176912,"reputation":647,"user_id":12432925,"display_name":"Carlos Gonzalez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2933,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679927404,"creation_date":1612324061,"question_id":66020979,"body_markdown":"I have two MapStruct mapper classes where some of the target/source classes and some of the fields are exactly the same:\r\n\r\n```\r\n  ///Mapper 1\r\n  @Mappings({\r\n          @Mapping(target = &quot;tenantTitleId&quot;, expression = &quot;java(order.getProductID())&quot;),\r\n          @Mapping(target = &quot;tenantId&quot;, constant = &quot;MGM&quot;),\r\n          @Mapping(target = &quot;titleName&quot;, expression = &quot;java(order.getProductDesc())&quot;),\r\n          @Mapping(target = &quot;orders&quot;, source = &quot;order&quot;, qualifiedBy = ComplexMapper.class),\r\n  })\r\n  @BeanMapping(ignoreByDefault = true)\r\n  public abstract TargetClass toTargetClass(SourceClass sourceClass) throws Exception;\r\n\r\n  ///Mapper 2\r\n  @Mappings({\r\n          @Mapping(target = &quot;tenantTitleId&quot;, expression = &quot;java(order.getProductID())&quot;),\r\n          @Mapping(target = &quot;tenantId&quot;, constant = &quot;MGM&quot;),\r\n          @Mapping(target = &quot;titleName&quot;, expression = &quot;java(order.getProductDesc())&quot;),\r\n          @Mapping(target = &quot;orders&quot;, source = &quot;order&quot;, qualifiedBy = AnotherComplexMapper.class),\r\n  })\r\n  @BeanMapping(ignoreByDefault = true)\r\n  public abstract TargetClass toTargetClass(SourceClass sourceClass) throws Exception;\r\n```\r\nThe first 3 mappings are exactly the same. Is there a way to not repeat this mapping the MapStruct way?","title":"Avoid duplicate mapping in MapStruct","body":"<p>I have two MapStruct mapper classes where some of the target/source classes and some of the fields are exactly the same:</p>\n<pre><code>  ///Mapper 1\n  @Mappings({\n          @Mapping(target = &quot;tenantTitleId&quot;, expression = &quot;java(order.getProductID())&quot;),\n          @Mapping(target = &quot;tenantId&quot;, constant = &quot;MGM&quot;),\n          @Mapping(target = &quot;titleName&quot;, expression = &quot;java(order.getProductDesc())&quot;),\n          @Mapping(target = &quot;orders&quot;, source = &quot;order&quot;, qualifiedBy = ComplexMapper.class),\n  })\n  @BeanMapping(ignoreByDefault = true)\n  public abstract TargetClass toTargetClass(SourceClass sourceClass) throws Exception;\n\n  ///Mapper 2\n  @Mappings({\n          @Mapping(target = &quot;tenantTitleId&quot;, expression = &quot;java(order.getProductID())&quot;),\n          @Mapping(target = &quot;tenantId&quot;, constant = &quot;MGM&quot;),\n          @Mapping(target = &quot;titleName&quot;, expression = &quot;java(order.getProductDesc())&quot;),\n          @Mapping(target = &quot;orders&quot;, source = &quot;order&quot;, qualifiedBy = AnotherComplexMapper.class),\n  })\n  @BeanMapping(ignoreByDefault = true)\n  public abstract TargetClass toTargetClass(SourceClass sourceClass) throws Exception;\n</code></pre>\n<p>The first 3 mappings are exactly the same. Is there a way to not repeat this mapping the MapStruct way?</p>\n"},{"tags":["java","android","classnotfoundexception","android-asset-studio"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1667674498,"post_id":74330586,"comment_id":131224634,"body_markdown":"&quot;All the other command line tools (sdkmanager, avdmanager, adb, etc) are all working seamlessly thus far&quot; -- the Image Asset wizard is not a command-line tool. It is part of Android Studio. &quot;I&#39;m loathe to install Android Studio IDE just for this&quot; -- have you considered using online equivalents? `android icon builder` in search engines turns up lots of options, such as https://appicon.co/.","body":"&quot;All the other command line tools (sdkmanager, avdmanager, adb, etc) are all working seamlessly thus far&quot; -- the Image Asset wizard is not a command-line tool. It is part of Android Studio. &quot;I&#39;m loathe to install Android Studio IDE just for this&quot; -- have you considered using online equivalents? <code>android icon builder</code> in search engines turns up lots of options, such as <a href=\"https://appicon.co/\" rel=\"nofollow noreferrer\">appicon.co</a>."},{"owner":{"account_id":14856125,"reputation":417,"user_id":10728583,"display_name":"Noscere"},"score":0,"creation_date":1667674589,"post_id":74330586,"comment_id":131224651,"body_markdown":"Thanks for this. It&#39;s amazing how many things you&#39;ve never noticed before no matter how (in)experienced one may be. Thanks for the quick reply. I shall try more searches with some different terms. I don&#39;t like relying on online tools when the functionality should work offline... but if it saves banging my head on the monitor, so be it :)","body":"Thanks for this. It&#39;s amazing how many things you&#39;ve never noticed before no matter how (in)experienced one may be. Thanks for the quick reply. I shall try more searches with some different terms. I don&#39;t like relying on online tools when the functionality should work offline... but if it saves banging my head on the monitor, so be it :)"}],"answers":[{"tags":[],"owner":{"account_id":3767479,"reputation":194,"user_id":3130610,"accept_rate":83,"display_name":"Fernando Jascovich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679927170,"creation_date":1679927170,"answer_id":75856945,"question_id":74330586,"body_markdown":"You can use [IconKitchen](https://icon.kitchen) which is online and works great.","title":"How can I launch Image Asset Studio (Android SDK commandline tools) from the command line?","body":"<p>You can use <a href=\"https://icon.kitchen\" rel=\"nofollow noreferrer\">IconKitchen</a> which is online and works great.</p>\n"}],"owner":{"account_id":14856125,"reputation":417,"user_id":10728583,"display_name":"Noscere"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679927170,"creation_date":1667674139,"question_id":74330586,"body_markdown":"I am trying to run [Image Asset Studio][1] from the Android SDK and am encountering an error I cannot solve.\r\n\r\nTo give a little bit of background, I am presently limited by an ageing laptop (AMD A4-5000, 8&amp;nbsp;GB RAM, 1&amp;nbsp;TB hybrid disk [256&amp;nbsp;MB? SSD]) and, whilst I don&#39;t really have any major issue with Android Studio IDE, I find it very bloated and eats up my CPU time and memory. Visual Studio Code on the other hand, suits my cross-platform developing needs almost perfectly, is lightweight and with a plethora of extensions covering all I have needed thus far.\r\n\r\nI am attempting to simply execute the Image Asset Studio *.jar* file from the command line and am encountering a *Class Not Found* error that suggests my paths might not be configured correctly, but as far as I can tell, all is well... all the other tools I have used have all worked as expected, but this is the first time I have tried to use one of the JAR applets from the /lib/ directory.\r\n\r\nI have the latest (AFAIK) Android SDK command-line tools installed in my home directory, and I am trying to launch the Image Asset Studio from the command line. Two examples I have tried are:\r\n\r\n&gt; ~/android/tools/lib$  **java asset-studio-26.0.0-dev.jar**\r\n&gt;\r\n&gt; ~/$  **java ./android/tools/lib/asset-studio-26.0.0-dev.jar**\r\n\r\nThese give me the following error, or variations thereof:\r\n\r\n&gt; Error: Could not find or load main class android.tools.lib.asset-studio-26.0.0-dev.jar\r\n&gt;\r\n&gt; Error: Could not find or load main class asset-studio-26.0.0-dev.jar\r\n\r\nAlso, I have tried with the *-jar* flag:\r\n\r\n&gt; ~$  **java -jar ~/android/tools/lib/asset-studio-26.0.0-dev.jar**\r\n&gt;\r\n&gt; no main manifest attribute, in /home/noscere/android/tools/lib/asset-studio-26.0.0-dev.jar\r\n\r\nDifferent error, same effect :-)\r\n\r\nI was previously getting a different error, which related to the wrong Java [JRE][2] being executed (I have 11 installed as well as the required 8 - solved with a quick `sudo update-alternatives --config java`). Here is my current Java version:\r\n\r\n&gt; ~/android$ **java -version**\r\n&gt;\r\n&gt; **openjdk version &quot;1.8.0_342&quot;**\r\n&gt; **OpenJDK Runtime Environment (build 1.8.0_342-8u342-b07-0ubuntu1~20.04-b07)**\r\n&gt;\r\n&gt; **OpenJDK 64-Bit Server VM (build 25.342-b07, mixed mode)**\r\n\r\nFor reference, **sdkmanager --version** gives an output of **7.0** - if that helps identify my SDK version.\r\n\r\nIs it possible to be successful in running any of the SDK Java apps from outside of the Studio IDE? All the other command line tools (sdkmanager, avdmanager, adb, etc.) are all working seamlessly thus far. In fact, I&#39;ve not encountered any issue with my Visual Studio Code + SDK command-line tools development environment (well, that hasn&#39;t quick-fixable), until now...\r\n\r\nMy environment variables relating to the Android SDK are as follows (and all correct):\r\n\r\n&gt; **export ANDROID_HOME=$HOME/android**\r\n&gt;\r\n&gt; **export PATH=$ANDROID_HOME/cmdline-tools/tools/bin:$PATH**\r\n&gt;\r\n&gt; **export PATH=$ANDROID_HOME/emulator:$PATH**\r\n&gt;\r\n&gt; **export PATH=$ANDROID_HOME/platform-tools:$PATH**\r\n&gt;\r\n&gt; **export REPO_OS_OVERRIDE=&quot;Linux&quot;**\r\n\r\nI&#39;m stumped. Google-searching has thus far been fruitless. I&#39;m loathe to install Android Studio IDE just for this, when I have successfully developed several apps over the years without needing it. I&#39;m loathe to admit defeat.\r\n\r\n  [1]: https://developer.android.com/studio/write/image-asset-studio\r\n  [2]: https://en.wikipedia.org/wiki/Java_virtual_machine#Java_Runtime_Environment\r\n\r\n\r\n","title":"How can I launch Image Asset Studio (Android SDK commandline tools) from the command line?","body":"<p>I am trying to run <a href=\"https://developer.android.com/studio/write/image-asset-studio\" rel=\"nofollow noreferrer\">Image Asset Studio</a> from the Android SDK and am encountering an error I cannot solve.</p>\n<p>To give a little bit of background, I am presently limited by an ageing laptop (AMD A4-5000, 8¬†GB RAM, 1¬†TB hybrid disk [256¬†MB? SSD]) and, whilst I don't really have any major issue with Android Studio IDE, I find it very bloated and eats up my CPU time and memory. Visual Studio Code on the other hand, suits my cross-platform developing needs almost perfectly, is lightweight and with a plethora of extensions covering all I have needed thus far.</p>\n<p>I am attempting to simply execute the Image Asset Studio <em>.jar</em> file from the command line and am encountering a <em>Class Not Found</em> error that suggests my paths might not be configured correctly, but as far as I can tell, all is well... all the other tools I have used have all worked as expected, but this is the first time I have tried to use one of the JAR applets from the /lib/ directory.</p>\n<p>I have the latest (AFAIK) Android SDK command-line tools installed in my home directory, and I am trying to launch the Image Asset Studio from the command line. Two examples I have tried are:</p>\n<blockquote>\n<p>~/android/tools/lib$  <strong>java asset-studio-26.0.0-dev.jar</strong></p>\n<p>~/$  <strong>java ./android/tools/lib/asset-studio-26.0.0-dev.jar</strong></p>\n</blockquote>\n<p>These give me the following error, or variations thereof:</p>\n<blockquote>\n<p>Error: Could not find or load main class android.tools.lib.asset-studio-26.0.0-dev.jar</p>\n<p>Error: Could not find or load main class asset-studio-26.0.0-dev.jar</p>\n</blockquote>\n<p>Also, I have tried with the <em>-jar</em> flag:</p>\n<blockquote>\n<p>~$  <strong>java -jar ~/android/tools/lib/asset-studio-26.0.0-dev.jar</strong></p>\n<p>no main manifest attribute, in /home/noscere/android/tools/lib/asset-studio-26.0.0-dev.jar</p>\n</blockquote>\n<p>Different error, same effect :-)</p>\n<p>I was previously getting a different error, which related to the wrong Java <a href=\"https://en.wikipedia.org/wiki/Java_virtual_machine#Java_Runtime_Environment\" rel=\"nofollow noreferrer\">JRE</a> being executed (I have 11 installed as well as the required 8 - solved with a quick <code>sudo update-alternatives --config java</code>). Here is my current Java version:</p>\n<blockquote>\n<p>~/android$ <strong>java -version</strong></p>\n<p><strong>openjdk version &quot;1.8.0_342&quot;</strong>\n<strong>OpenJDK Runtime Environment (build 1.8.0_342-8u342-b07-0ubuntu1~20.04-b07)</strong></p>\n<p><strong>OpenJDK 64-Bit Server VM (build 25.342-b07, mixed mode)</strong></p>\n</blockquote>\n<p>For reference, <strong>sdkmanager --version</strong> gives an output of <strong>7.0</strong> - if that helps identify my SDK version.</p>\n<p>Is it possible to be successful in running any of the SDK Java apps from outside of the Studio IDE? All the other command line tools (sdkmanager, avdmanager, adb, etc.) are all working seamlessly thus far. In fact, I've not encountered any issue with my Visual Studio Code + SDK command-line tools development environment (well, that hasn't quick-fixable), until now...</p>\n<p>My environment variables relating to the Android SDK are as follows (and all correct):</p>\n<blockquote>\n<p><strong>export ANDROID_HOME=$HOME/android</strong></p>\n<p><strong>export PATH=$ANDROID_HOME/cmdline-tools/tools/bin:$PATH</strong></p>\n<p><strong>export PATH=$ANDROID_HOME/emulator:$PATH</strong></p>\n<p><strong>export PATH=$ANDROID_HOME/platform-tools:$PATH</strong></p>\n<p><strong>export REPO_OS_OVERRIDE=&quot;Linux&quot;</strong></p>\n</blockquote>\n<p>I'm stumped. Google-searching has thus far been fruitless. I'm loathe to install Android Studio IDE just for this, when I have successfully developed several apps over the years without needing it. I'm loathe to admit defeat.</p>\n"},{"tags":["java","parallel-processing","java-stream","scalability"],"comments":[{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1679927425,"post_id":75856828,"comment_id":133804087,"body_markdown":"Does the mapper need to change the structure of the json-object? Otherwise, you&#39;d be sending the same thing if you just send the json as a string.","body":"Does the mapper need to change the structure of the json-object? Otherwise, you&#39;d be sending the same thing if you just send the json as a string."},{"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"score":0,"creation_date":1679930068,"post_id":75856828,"comment_id":133804977,"body_markdown":"I think it would be best to describe your objects a little more.  If the underlying data structures are different then you may have to go down the polymorphism route, but if they are slightly different you could have a single object that has optional fields, but it&#39;s the same object.  So this decision really depends upon your specific situation which wasn&#39;t included. Also WHO has this large quantity of data?  It is on the client?  Is it in a storage tier (ie DB)?","body":"I think it would be best to describe your objects a little more.  If the underlying data structures are different then you may have to go down the polymorphism route, but if they are slightly different you could have a single object that has optional fields, but it&#39;s the same object.  So this decision really depends upon your specific situation which wasn&#39;t included. Also WHO has this large quantity of data?  It is on the client?  Is it in a storage tier (ie DB)?"},{"owner":{"account_id":7454270,"reputation":67,"user_id":5667980,"display_name":"Joy"},"score":0,"creation_date":1679931343,"post_id":75856828,"comment_id":133805341,"body_markdown":"I am getting this data via a POST request in my db from where I fetch it. The reuqest body structure is like { id, description, tariffid, state, channelType, timeStamp}, but the api needs some processing to be done on the desciption, timeStamp and state, can&#39;t be directly mapped. Let&#39;s say I am able to do it somehow, is there any way to increase throughput?","body":"I am getting this data via a POST request in my db from where I fetch it. The reuqest body structure is like { id, description, tariffid, state, channelType, timeStamp}, but the api needs some processing to be done on the desciption, timeStamp and state, can&#39;t be directly mapped. Let&#39;s say I am able to do it somehow, is there any way to increase throughput?"}],"owner":{"account_id":7454270,"reputation":67,"user_id":5667980,"display_name":"Joy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679926559,"creation_date":1679926559,"question_id":75856828,"body_markdown":"Let&#39;s say I have a json data of multiple vendors in a large number of categories. I need to make post api calls for top 10 vendors of these hundreds of categories.\r\nHow can I do that in a scalable manner?\r\n\r\nEach category&#39;s post api call has a specific request body. How to map the specific json to each api call&#39;s expected request body? \r\n\r\nI was thinking something like :\r\n```\r\njson.stream\r\n    .parallel()\r\n    .map((x) -&gt; {\r\n        reqBody = jackson mapper for the request body;\r\n        return reqBody;\r\n    })\r\n    .forEach((body)-&gt; make post call);\r\n```\r\nI thought of polymorphism, but with large number of categories, it&#39;s difficult to have a common interface/parent class.\r\nHow to make it generic as a reusable library or a utility method?","title":"Scalability : Convert large list of objects into pojo and make api call","body":"<p>Let's say I have a json data of multiple vendors in a large number of categories. I need to make post api calls for top 10 vendors of these hundreds of categories.\nHow can I do that in a scalable manner?</p>\n<p>Each category's post api call has a specific request body. How to map the specific json to each api call's expected request body?</p>\n<p>I was thinking something like :</p>\n<pre><code>json.stream\n    .parallel()\n    .map((x) -&gt; {\n        reqBody = jackson mapper for the request body;\n        return reqBody;\n    })\n    .forEach((body)-&gt; make post call);\n</code></pre>\n<p>I thought of polymorphism, but with large number of categories, it's difficult to have a common interface/parent class.\nHow to make it generic as a reusable library or a utility method?</p>\n"},{"tags":["java","web-services","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1482449757,"post_id":41293106,"comment_id":69789118,"body_markdown":"Unrelated, but *why* are you using `DataOutputStream`?","body":"Unrelated, but <i>why</i> are you using <code>DataOutputStream</code>?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1482449760,"post_id":41293106,"comment_id":69789119,"body_markdown":"Where are you seeing &quot;Say+Hi=&quot;? Can you provide a [MCVE](http://stackoverflow.com/help/mcve)?","body":"Where are you seeing &quot;Say+Hi=&quot;? Can you provide a <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>?"},{"owner":{"account_id":1142124,"reputation":119,"user_id":1125706,"display_name":"Monsif Mabrouk"},"score":0,"creation_date":1482450105,"post_id":41293106,"comment_id":69789211,"body_markdown":"i am logging the received messages from client in a spingBoot application&#39;s log file. after step by step debug issue is from  wr.writeBytes(message);","body":"i am logging the received messages from client in a spingBoot application&#39;s log file. after step by step debug issue is from  wr.writeBytes(message);"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1482450209,"post_id":41293106,"comment_id":69789242,"body_markdown":"`DataOutputStream.writeBytes()` definitely does not do this, as you could have easily established for yourself by writing to something else with it, or reading the Javadoc. The problem could be with `HttpURLConnection`, although unlikely, but most likely it is at the receiving end. You need to debug further.","body":"<code>DataOutputStream.writeBytes()</code> definitely does not do this, as you could have easily established for yourself by writing to something else with it, or reading the Javadoc. The problem could be with <code>HttpURLConnection</code>, although unlikely, but most likely it is at the receiving end. You need to debug further."},{"owner":{"account_id":1142124,"reputation":119,"user_id":1125706,"display_name":"Monsif Mabrouk"},"score":0,"creation_date":1482450579,"post_id":41293106,"comment_id":69789346,"body_markdown":"Here is the the receiving end, all what is does is logging :\n\n`code`@RequestMapping(value = &quot;/subscribe&quot;, method = RequestMethod.POST)\n    public @ResponseBody String createNewUser(@RequestBody String message) {\n        log.info(message);}","body":"Here is the the receiving end, all what is does is logging :  <code>code</code>@RequestMapping(value = &quot;/subscribe&quot;, method = RequestMethod.POST)     public @ResponseBody String createNewUser(@RequestBody String message) {         log.info(message);}"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1482455539,"post_id":41293106,"comment_id":69790576,"body_markdown":"`HttpURLConnection` doesn&#39;t do it either. I checked. You could and should have done that yourself before posting.","body":"<code>HttpURLConnection</code> doesn&#39;t do it either. I checked. You could and should have done that yourself before posting."}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1482456189,"post_id":41293419,"comment_id":69790697,"body_markdown":"`HttpURLConnection` does not do this encoding, and neither (obviously) does `DataOutputStream.writeBytes()`. The problem is elsewhere.","body":"<code>HttpURLConnection</code> does not do this encoding, and neither (obviously) does <code>DataOutputStream.writeBytes()</code>. The problem is elsewhere."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1482457609,"post_id":41293419,"comment_id":69791006,"body_markdown":"@EJP You&#39;re right, `HttpURLConnection` is not adding the `+`, but it *is* defaulting content type to `application/x-www-form-urlencoded`, which means that the Servlet Container or the Spring Framework reads the content and parses it as parameters, and when you then ask for the content with `@RequestBody` (like OP does), it rebuilds them, with the side-effect of encoding spaces as `+`. The Servlet Container/Spring Framework wouldn&#39;t do that if the content type was something else, so I believe that setting the content type is still the solution to the problem.","body":"@EJP You&#39;re right, <code>HttpURLConnection</code> is not adding the <code>+</code>, but it <i>is</i> defaulting content type to <code>application&#47;x-www-form-urlencoded</code>, which means that the Servlet Container or the Spring Framework reads the content and parses it as parameters, and when you then ask for the content with <code>@RequestBody</code> (like OP does), it rebuilds them, with the side-effect of encoding spaces as <code>+</code>. The Servlet Container/Spring Framework wouldn&#39;t do that if the content type was something else, so I believe that setting the content type is still the solution to the problem."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1482458910,"post_id":41293419,"comment_id":69791259,"body_markdown":"You have it back to front. The Servlet container will *decode* + as spaces. There&#39;s no reason for the server side to encode.","body":"You have it back to front. The Servlet container will <i>decode</i> + as spaces. There&#39;s no reason for the server side to encode."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1482467189,"post_id":41293419,"comment_id":69792903,"body_markdown":"@EJP My point was that the POST payload was *consumed* when the &quot;form fields&quot; were processed as parameters, so when the method requests the full payload with the `@RequestBody` annotations, it has to be *rebuild* from the parameters. The rebuilding doesn&#39;t know that the original payload was incorrectly encoded, so it encodes it the way it was supposed to be encoded.","body":"@EJP My point was that the POST payload was <i>consumed</i> when the &quot;form fields&quot; were processed as parameters, so when the method requests the full payload with the <code>@RequestBody</code> annotations, it has to be <i>rebuild</i> from the parameters. The rebuilding doesn&#39;t know that the original payload was incorrectly encoded, so it encodes it the way it was supposed to be encoded."},{"owner":{"account_id":1142124,"reputation":119,"user_id":1125706,"display_name":"Monsif Mabrouk"},"score":1,"creation_date":1483439737,"post_id":41293419,"comment_id":70089008,"body_markdown":"@Andreas you were right, i set the content type to text/plain and it worked. thanks a lot.","body":"@Andreas you were right, i set the content type to text/plain and it worked. thanks a lot."}],"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":5,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1482468970,"creation_date":1482451295,"answer_id":41293419,"question_id":41293106,"body_markdown":"When you don&#39;t set the `Content-Type` request header (using `setRequestProperty()`), it defaults to `application/x-www-form-urlencoded`.\r\n\r\nWhen a POST request has content type `application/x-www-form-urlencoded`, the `ServletRequest.getParameter` methods can be used to extract the parameters from the request body. This *consumes* the request body, so any subsequent call to `getInputStream()` or `getReader()` will return null.\r\n\r\nWhen your Spring handler method asks for the request body with the `@RequestBody` annotation, and the body has already been consumed, Spring will rebuild the body from the parameters, in order to supply the method parameter (it is basically faking it). When Spring rebuilds the request body from the parsed parameters, it will URL encode them as required by the `application/x-www-form-urlencoded` content type. This encoding converts spaces to `+`.\r\n\r\nThe original request body with `Say Hi` was parsed as parameter `&quot;Say Hi&quot;` with value `&quot;&quot;` (parameter without `=` has empty value). When that is rebuilt in compliance with `application/x-www-form-urlencoded`, the parameter is encoded as `Say+Hi=`, which is what you&#39;re seeing.\r\n\r\nThis only happens if one of the `ServletRequest.getParameter` methods has been called, so you likely have a `Filter` that does that. If that filter was removed, the request body wouldn&#39;t have been consumed, and the `@RequestBody` parameter would have received the original request body.\r\n\r\nAnother way to prevent the problem is to send the request body as a `text/plain` content type, since that seems to be how you want it anyway, i.e. the request body is not actually `x-www-form-urlencoded`:\r\n\r\n    con.setRequestProperty(&quot;Content-Type&quot;, &quot;text/plain; charset=ISO-8859-1&quot;);\r\n\r\nOf course, if the request body truly *is* `x-www-form-urlencoded` content, like your commented code would suggest, then there shouldn&#39;t *be* any spaces, and there was no problem to begin with.\r\n\r\n**To recap:** Your problem is that you&#39;re sending arbitrary text in the POST body, but you didn&#39;t set the content type, so it defaulted to `application/x-www-form-urlencoded`, and your content doesn&#39;t conform to the specifications of that content type, i.e. your request is malformed and behaved unpredictably.","title":"Java writeBytes white space replaced by &#39;+&#39;","body":"<p>When you don't set the <code>Content-Type</code> request header (using <code>setRequestProperty()</code>), it defaults to <code>application/x-www-form-urlencoded</code>.</p>\n\n<p>When a POST request has content type <code>application/x-www-form-urlencoded</code>, the <code>ServletRequest.getParameter</code> methods can be used to extract the parameters from the request body. This <em>consumes</em> the request body, so any subsequent call to <code>getInputStream()</code> or <code>getReader()</code> will return null.</p>\n\n<p>When your Spring handler method asks for the request body with the <code>@RequestBody</code> annotation, and the body has already been consumed, Spring will rebuild the body from the parameters, in order to supply the method parameter (it is basically faking it). When Spring rebuilds the request body from the parsed parameters, it will URL encode them as required by the <code>application/x-www-form-urlencoded</code> content type. This encoding converts spaces to <code>+</code>.</p>\n\n<p>The original request body with <code>Say Hi</code> was parsed as parameter <code>\"Say Hi\"</code> with value <code>\"\"</code> (parameter without <code>=</code> has empty value). When that is rebuilt in compliance with <code>application/x-www-form-urlencoded</code>, the parameter is encoded as <code>Say+Hi=</code>, which is what you're seeing.</p>\n\n<p>This only happens if one of the <code>ServletRequest.getParameter</code> methods has been called, so you likely have a <code>Filter</code> that does that. If that filter was removed, the request body wouldn't have been consumed, and the <code>@RequestBody</code> parameter would have received the original request body.</p>\n\n<p>Another way to prevent the problem is to send the request body as a <code>text/plain</code> content type, since that seems to be how you want it anyway, i.e. the request body is not actually <code>x-www-form-urlencoded</code>:</p>\n\n<pre><code>con.setRequestProperty(\"Content-Type\", \"text/plain; charset=ISO-8859-1\");\n</code></pre>\n\n<p>Of course, if the request body truly <em>is</em> <code>x-www-form-urlencoded</code> content, like your commented code would suggest, then there shouldn't <em>be</em> any spaces, and there was no problem to begin with.</p>\n\n<p><strong>To recap:</strong> Your problem is that you're sending arbitrary text in the POST body, but you didn't set the content type, so it defaulted to <code>application/x-www-form-urlencoded</code>, and your content doesn't conform to the specifications of that content type, i.e. your request is malformed and behaved unpredictably.</p>\n"},{"tags":[],"owner":{"account_id":13922050,"reputation":1,"user_id":10052214,"display_name":"Ekin Ilman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679926246,"creation_date":1679926189,"answer_id":75856765,"question_id":41293106,"body_markdown":"I am facing with the same situation. I have this little code block in backend and I am trying to send a string like &#39;Ekin Frontend&#39; and it converts is &#39;Ekin+Frontend=&#39; at the backend.\r\n\r\nHere is my code block;\r\n\r\n    @PostMapping(&quot;/error&quot;)\r\n    public boolean addError( @RequestBody String errorMsg) {\r\n        ...\r\n    }","title":"Java writeBytes white space replaced by &#39;+&#39;","body":"<p>I am facing with the same situation. I have this little code block in backend and I am trying to send a string like 'Ekin Frontend' and it converts is 'Ekin+Frontend=' at the backend.</p>\n<p>Here is my code block;</p>\n<pre><code>@PostMapping(&quot;/error&quot;)\npublic boolean addError( @RequestBody String errorMsg) {\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":1142124,"reputation":119,"user_id":1125706,"display_name":"Monsif Mabrouk"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":990,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":41293419,"answer_count":2,"score":0,"last_activity_date":1679926246,"creation_date":1482449055,"question_id":41293106,"body_markdown":"when trying to do a post request using HttpURLConnection, white spaces in the message got replaced by &#39;+&#39; and &#39;=&#39; is added at the end of the String.\r\nI am using JDK 1.8.0_91, here is my code :\r\n\r\n \r\n\r\n    public void sendPost(String message) throws Exception {\r\n    String url = &quot;http://localhost:8081/subscribe&quot;;\r\n    \r\n            URL obj = new URL(url);\r\n            HttpURLConnection con = (HttpURLConnection) obj.openConnection();\r\n    \r\n            //add reuqest header\r\n            con.setRequestMethod(&quot;POST&quot;);\r\n            /*String urlParameters = &quot;sn=C02G8416DRJM&amp;cn=&amp;locale=&amp;caller=&amp;num=12345&quot;;*/\r\n    \r\n            // Send post request\r\n            con.setDoOutput(true);\r\n            DataOutputStream wr = new DataOutputStream(con.getOutputStream());\r\n            wr.writeBytes(message);\r\n            wr.flush();\r\n            wr.close();\r\n    }\r\n\r\nsendPost(&quot;Say Hi&quot;) would give on server side : Say+Hi=\r\n","title":"Java writeBytes white space replaced by &#39;+&#39;","body":"<p>when trying to do a post request using HttpURLConnection, white spaces in the message got replaced by '+' and '=' is added at the end of the String.\nI am using JDK 1.8.0_91, here is my code :</p>\n\n<pre><code>public void sendPost(String message) throws Exception {\nString url = \"http://localhost:8081/subscribe\";\n\n        URL obj = new URL(url);\n        HttpURLConnection con = (HttpURLConnection) obj.openConnection();\n\n        //add reuqest header\n        con.setRequestMethod(\"POST\");\n        /*String urlParameters = \"sn=C02G8416DRJM&amp;cn=&amp;locale=&amp;caller=&amp;num=12345\";*/\n\n        // Send post request\n        con.setDoOutput(true);\n        DataOutputStream wr = new DataOutputStream(con.getOutputStream());\n        wr.writeBytes(message);\n        wr.flush();\n        wr.close();\n}\n</code></pre>\n\n<p>sendPost(\"Say Hi\") would give on server side : Say+Hi=</p>\n"},{"tags":["java","kotlin","visual-studio-code","apache-poi","build.gradle"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":4,"creation_date":1679924877,"post_id":75856463,"comment_id":133803293,"body_markdown":"Using Kotlin with any IDE besides IntelliJ or Android Studio is just masochism. You&#39;ll have a hard time finding anyone that can help with that, because so few people are inflicting that on themselves.","body":"Using Kotlin with any IDE besides IntelliJ or Android Studio is just masochism. You&#39;ll have a hard time finding anyone that can help with that, because so few people are inflicting that on themselves."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1679925747,"post_id":75856463,"comment_id":133803540,"body_markdown":"Usually, source files go in a `src\\main\\kotlin` or `src\\main\\java` directory, which are the defaults expected by the Kotlin Gradle plugin. If you haven&#39;t configured in your Gradle files to point at the top level directory, you should move your code into one of those directories. But, I&#39;m not sure how this plays out in VS... If you&#39;re determined to use VS, expect to spend many hours debugging build issues like this instead of getting to write your actual code.","body":"Usually, source files go in a <code>src\\main\\kotlin</code> or <code>src\\main\\java</code> directory, which are the defaults expected by the Kotlin Gradle plugin. If you haven&#39;t configured in your Gradle files to point at the top level directory, you should move your code into one of those directories. But, I&#39;m not sure how this plays out in VS... If you&#39;re determined to use VS, expect to spend many hours debugging build issues like this instead of getting to write your actual code."},{"owner":{"account_id":26582014,"reputation":11,"user_id":20206528,"display_name":"GbreH"},"score":0,"creation_date":1679929530,"post_id":75856463,"comment_id":133804800,"body_markdown":"Thanks. So, I downloaded and installed IntelliJ IDEA. I added the following lines to my build.gradle.kts file: implementation &quot;org.apache.poi:poi-ooxml:5.2.0&quot; and implementation &quot;org.apache.poi:poi:5.2.0&quot;. However, I don&#39;t understand where I should add the poi-5.2.0.jar and poi-ooxml-5.2.0.jar files.","body":"Thanks. So, I downloaded and installed IntelliJ IDEA. I added the following lines to my build.gradle.kts file: implementation &quot;org.apache.poi:poi-ooxml:5.2.0&quot; and implementation &quot;org.apache.poi:poi:5.2.0&quot;. However, I don&#39;t understand where I should add the poi-5.2.0.jar and poi-ooxml-5.2.0.jar files."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1679929969,"post_id":75856463,"comment_id":133804944,"body_markdown":"You don‚Äôt need to add any jar files. Gradle uses Maven to download and include them in your compile path.","body":"You don‚Äôt need to add any jar files. Gradle uses Maven to download and include them in your compile path."},{"owner":{"account_id":26582014,"reputation":11,"user_id":20206528,"display_name":"GbreH"},"score":0,"creation_date":1679931254,"post_id":75856463,"comment_id":133805327,"body_markdown":"Cool - everything worked. How do I add a library from GitHub to the project (for example, https://github.com/VorTECHsa/refinery)?","body":"Cool - everything worked. How do I add a library from GitHub to the project (for example, <a href=\"https://github.com/VorTECHsa/refinery\" rel=\"nofollow noreferrer\">github.com/VorTECHsa/refinery</a>)?"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1679935095,"post_id":75856463,"comment_id":133806406,"body_markdown":"You need the Maven group ID, artifact ID, and version. String these together with colons after the word `implementation`, like in your code block above in your `dependencies` section of your `build.gradle` file. In the case of the project you linked, I see it listed under the Packages link. In this case, you need to add to the dependencies block `implementation &quot;com.vortexa.refinery:refinery:master.161&quot;` and then click the button to resync Gradle.","body":"You need the Maven group ID, artifact ID, and version. String these together with colons after the word <code>implementation</code>, like in your code block above in your <code>dependencies</code> section of your <code>build.gradle</code> file. In the case of the project you linked, I see it listed under the Packages link. In this case, you need to add to the dependencies block <code>implementation &quot;com.vortexa.refinery:refinery:master.161&quot;</code> and then click the button to resync Gradle."},{"owner":{"account_id":26582014,"reputation":11,"user_id":20206528,"display_name":"GbreH"},"score":0,"creation_date":1679935882,"post_id":75856463,"comment_id":133806609,"body_markdown":"I get an error: `untitled:main: Could not find com.vortexa.refinery:refinery:master.161`. Maybe I can clone the repository and connect it somehow?","body":"I get an error: <code>untitled:main: Could not find com.vortexa.refinery:refinery:master.161</code>. Maybe I can clone the repository and connect it somehow?"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1679936127,"post_id":75856463,"comment_id":133806686,"body_markdown":"Can you post your whole `build.gradle` file? Maybe start a new question about not being able to find the dependency since this is straying away from the question above. There are different ways to set up gradle, your project may differ depending on which wizard or tutorial you followed to create the new project. If there&#39;s a `settings.gradle` file, include that in your question, too.","body":"Can you post your whole <code>build.gradle</code> file? Maybe start a new question about not being able to find the dependency since this is straying away from the question above. There are different ways to set up gradle, your project may differ depending on which wizard or tutorial you followed to create the new project. If there&#39;s a <code>settings.gradle</code> file, include that in your question, too."},{"owner":{"account_id":26582014,"reputation":11,"user_id":20206528,"display_name":"GbreH"},"score":0,"creation_date":1679936869,"post_id":75856463,"comment_id":133806888,"body_markdown":"Ok. Thanks for the help with the necessary IDE. I am creating a new question.","body":"Ok. Thanks for the help with the necessary IDE. I am creating a new question."},{"owner":{"account_id":26582014,"reputation":11,"user_id":20206528,"display_name":"GbreH"},"score":0,"creation_date":1679938936,"post_id":75856463,"comment_id":133807443,"body_markdown":"https://stackoverflow.com/questions/75858676/how-to-configure-gradle-to-connect-to-the-repository-with-the-source-code-of-the","body":"<a href=\"https://stackoverflow.com/questions/75858676/how-to-configure-gradle-to-connect-to-the-repository-with-the-source-code-of-the\" title=\"how to configure gradle to connect to the repository with the source code of the\">stackoverflow.com/questions/75858676/&hellip;</a>"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1679990341,"post_id":75856463,"comment_id":133815466,"body_markdown":"try `gradle clean` clean project then rebuild `gradle build`.","body":"try <code>gradle clean</code> clean project then rebuild <code>gradle build</code>."}],"owner":{"account_id":26582014,"reputation":11,"user_id":20206528,"display_name":"GbreH"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":591,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679925622,"creation_date":1679924373,"question_id":75856463,"body_markdown":"I have added the following dependencies to my build.gradle file:\r\n```\r\ndependencies {\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;\r\n    implementation &quot;org.apache.poi:poi:5.2.0&quot;\r\n    implementation &quot;org.apache.poi:poi-ooxml:5.2.0&quot;\r\n}\r\n```\r\nThe output of the gradle --version command shows that I am using Gradle version 7.6.1. Additionally, the Kotlin version being used is 1.7.10 and the Groovy version is 3.0.13. The Apache Ant version being used is 1.10.11 and the JVM being used is version 17.0.6\r\nI receive a &quot;BUILD SUCCESSFUL&quot; message after running the command gradle build ‚Äìstacktrace.\r\n\r\nThe structure of my project is this:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/jP9ao.png)](https://i.stack.imgur.com/jP9ao.png)\r\n\r\nAnd have code:\r\n```\r\nimport org.apache.poi.ss.usermodel.*\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook\r\n\r\nimport java.io.FileOutputStream\r\n\r\nfun main(args: Array&lt;String&gt;) {\r\n    val workbook = XSSFWorkbook()\r\n    val sheet = workbook.createSheet(&quot;Sheet1&quot;)\r\n    val row = sheet.createRow(0)\r\n    val cell = row.createCell(0)\r\n    cell.setCellValue(&quot;Hello, World!&quot;)\r\n\r\n    val outputStream = FileOutputStream(&quot;example.xlsx&quot;)\r\n    workbook.write(outputStream)\r\n    workbook.close()\r\n}\r\n```\r\nAfter running I a get errors: \r\n\r\nhello.kt:1:12: error: unresolved reference: apache\r\nimport org.apache.poi.ss.usermodel.*\r\n           ^\r\nhello.kt:2:12: error: unresolved reference: apache\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook\r\n           ^\r\nhello.kt:7:20: error: unresolved reference: XSSFWorkbook\r\n    val workbook = XSSFWorkbook()\r\n                   ^\r\nI expect to make an excel file with the cell &quot;&quot;Hello, World!&quot;&quot;\r\n\r\nP.S. I work in VSCode and would not like to try anything else\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jP9ao.png","title":"What is the correct way to import and use Apache POI in a Kotlin project?","body":"<p>I have added the following dependencies to my build.gradle file:</p>\n<pre><code>dependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;\n    implementation &quot;org.apache.poi:poi:5.2.0&quot;\n    implementation &quot;org.apache.poi:poi-ooxml:5.2.0&quot;\n}\n</code></pre>\n<p>The output of the gradle --version command shows that I am using Gradle version 7.6.1. Additionally, the Kotlin version being used is 1.7.10 and the Groovy version is 3.0.13. The Apache Ant version being used is 1.10.11 and the JVM being used is version 17.0.6\nI receive a &quot;BUILD SUCCESSFUL&quot; message after running the command gradle build ‚Äìstacktrace.</p>\n<p>The structure of my project is this:</p>\n<p><a href=\"https://i.stack.imgur.com/jP9ao.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jP9ao.png\" alt=\"enter image description here\" /></a></p>\n<p>And have code:</p>\n<pre><code>import org.apache.poi.ss.usermodel.*\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook\n\nimport java.io.FileOutputStream\n\nfun main(args: Array&lt;String&gt;) {\n    val workbook = XSSFWorkbook()\n    val sheet = workbook.createSheet(&quot;Sheet1&quot;)\n    val row = sheet.createRow(0)\n    val cell = row.createCell(0)\n    cell.setCellValue(&quot;Hello, World!&quot;)\n\n    val outputStream = FileOutputStream(&quot;example.xlsx&quot;)\n    workbook.write(outputStream)\n    workbook.close()\n}\n</code></pre>\n<p>After running I a get errors:</p>\n<p>hello.kt:1:12: error: unresolved reference: apache\nimport org.apache.poi.ss.usermodel.*\n^\nhello.kt:2:12: error: unresolved reference: apache\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook\n^\nhello.kt:7:20: error: unresolved reference: XSSFWorkbook\nval workbook = XSSFWorkbook()\n^\nI expect to make an excel file with the cell &quot;&quot;Hello, World!&quot;&quot;</p>\n<p>P.S. I work in VSCode and would not like to try anything else</p>\n"},{"tags":["java","spring","serialization","jackson","java-time"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":1,"creation_date":1679926963,"post_id":75855289,"comment_id":133803944,"body_markdown":"What exactly is &quot;long&quot; format?\nDoes something like `{createdAt=2023-03-27T22:19:31.920571}` works for you?","body":"What exactly is &quot;long&quot; format? Does something like <code>{createdAt=2023-03-27T22:19:31.920571}</code> works for you?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1679932525,"post_id":75855289,"comment_id":133805716,"body_markdown":"`LocalDateTime` is the wrong class to use for tracking ‚Äúwhen created‚Äù. That class cannot represent a moment, a specific point on the timeline, as it lacks the context of a time zone or offset from UTC. You should be using `Instant` class, `Instant.now()`.","body":"<code>LocalDateTime</code> is the wrong class to use for tracking ‚Äúwhen created‚Äù. That class cannot represent a moment, a specific point on the timeline, as it lacks the context of a time zone or offset from UTC. You should be using <code>Instant</code> class, <code>Instant.now()</code>."},{"owner":{"account_id":3210091,"reputation":5835,"user_id":2710256,"accept_rate":46,"display_name":"breakline"},"score":0,"creation_date":1679937767,"post_id":75855289,"comment_id":133807124,"body_markdown":"We use UTC everywhere, its not a problem.","body":"We use UTC everywhere, its not a problem."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679961630,"post_id":75855289,"comment_id":133811612,"body_markdown":"When you use UTC, the correct classes to use are `Instant` and `OffsetDateTime` with an offset of zero. The exact choice depends, so I leave it to you.","body":"When you use UTC, the correct classes to use are <code>Instant</code> and <code>OffsetDateTime</code> with an offset of zero. The exact choice depends, so I leave it to you."}],"answers":[{"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1679925298,"post_id":75855489,"comment_id":133803423,"body_markdown":"This would require changing the `MyItem` class. If no annotations can be added, making even more invasive changes like this will also not possible.","body":"This would require changing the <code>MyItem</code> class. If no annotations can be added, making even more invasive changes like this will also not possible."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679961705,"post_id":75855489,"comment_id":133811618,"body_markdown":"This cannot work. I get *&#39;toInstant(java.time.ZoneOffset)&#39; in &#39;java.time.chrono.ChronoLocalDateTime&#39; cannot be applied to &#39;()&#39;*.","body":"This cannot work. I get <i>&#39;toInstant(java.time.ZoneOffset)&#39; in &#39;java.time.chrono.ChronoLocalDateTime&#39; cannot be applied to &#39;()&#39;</i>."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1680061025,"post_id":75855489,"comment_id":133831107,"body_markdown":"The code up there does not have that on the toInstant() either, why did you put that there! , Are you trying to tag on a timezone or are you trying to change the timezone, either way, they are the same moment as an epoch moment, that number would be the same. If the time must have at least a timezone tag then it must be in a ZonedDateTime or an OffsetDateTime. You would need to put in a property to hold the zone to have it stored as epoch second.","body":"The code up there does not have that on the toInstant() either, why did you put that there! , Are you trying to tag on a timezone or are you trying to change the timezone, either way, they are the same moment as an epoch moment, that number would be the same. If the time must have at least a timezone tag then it must be in a ZonedDateTime or an OffsetDateTime. You would need to put in a property to hold the zone to have it stored as epoch second."}],"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679919715,"creation_date":1679918333,"answer_id":75855489,"question_id":75855289,"body_markdown":"The question is what really goes into setCreatedAt......    Noticed also, some things use toEpochMilli() \r\n\r\n    long andthen = (LocalDateTime.now()).toInstant().getEpochSecond();\r\n    item.setCreatedAt(andthen);\r\n\r\n","title":"JavaTimeModule serialization force LocalDateTime to convert to Long/timestamp?","body":"<p>The question is what really goes into setCreatedAt......    Noticed also, some things use toEpochMilli()</p>\n<pre><code>long andthen = (LocalDateTime.now()).toInstant().getEpochSecond();\nitem.setCreatedAt(andthen);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679925226,"creation_date":1679925226,"answer_id":75856614,"question_id":75855289,"body_markdown":"&gt; Preferably something without annotating the class which is in another package.\r\n\r\nYou can use mix-ins for that. For instance:\r\n\r\n```\r\npublic interface MyItemMinIn {\r\n    @JsonSerialize(using = MyCustomSerializer.class)\r\n    LocalDateTime getCreatedAt();\r\n}\r\n```\r\n```\r\nobjectMapper.addMixIn(MyItem.class, MyItemMixIn.class);\r\n```\r\nThe `ObjectMapper` will now merge the mix-in interface with your own class for its mapping configuration.","title":"JavaTimeModule serialization force LocalDateTime to convert to Long/timestamp?","body":"<blockquote>\n<p>Preferably something without annotating the class which is in another package.</p>\n</blockquote>\n<p>You can use mix-ins for that. For instance:</p>\n<pre><code>public interface MyItemMinIn {\n    @JsonSerialize(using = MyCustomSerializer.class)\n    LocalDateTime getCreatedAt();\n}\n</code></pre>\n<pre><code>objectMapper.addMixIn(MyItem.class, MyItemMixIn.class);\n</code></pre>\n<p>The <code>ObjectMapper</code> will now merge the mix-in interface with your own class for its mapping configuration.</p>\n"}],"owner":{"account_id":3210091,"reputation":5835,"user_id":2710256,"accept_rate":46,"display_name":"breakline"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679925226,"creation_date":1679917092,"question_id":75855289,"body_markdown":"I have this code:\r\n\r\n    MyItem item = new MyItem();\r\n    item.setCreatedAt(LocalDateTime.now());\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.registerModule(new JavaTimeModule());\r\n    Map&lt;String, Object&gt; fieldsToSetOnInsert = objectMapper.convertValue(item, Map.class);\r\n\r\nProblem is this converts the &quot;createdAt&quot; field into an array, but I need it to be a timestamp (i.e. long) format. Is there a way to force this? \r\n\r\nI tried using this, but did not work:\r\n\r\n    objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, true);\r\n\r\nPreferably something without annotating the class which is in another package. Thanks","title":"JavaTimeModule serialization force LocalDateTime to convert to Long/timestamp?","body":"<p>I have this code:</p>\n<pre><code>MyItem item = new MyItem();\nitem.setCreatedAt(LocalDateTime.now());\nObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.registerModule(new JavaTimeModule());\nMap&lt;String, Object&gt; fieldsToSetOnInsert = objectMapper.convertValue(item, Map.class);\n</code></pre>\n<p>Problem is this converts the &quot;createdAt&quot; field into an array, but I need it to be a timestamp (i.e. long) format. Is there a way to force this?</p>\n<p>I tried using this, but did not work:</p>\n<pre><code>objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, true);\n</code></pre>\n<p>Preferably something without annotating the class which is in another package. Thanks</p>\n"},{"tags":["java","amazon-s3","aws-sdk"],"comments":[{"owner":{"account_id":303420,"reputation":10129,"user_id":2378643,"display_name":"Anon Coward"},"score":1,"creation_date":1679855641,"post_id":75849607,"comment_id":133791581,"body_markdown":"The [underlying S3 APIs](https://docs.aws.amazon.com/AmazonS3/latest/API/API_Operations_Amazon_Simple_Storage_Service.html) have no concept of a transaction or a way to upload multiple objects at once.  It&#39;s an oft requested feature for the SDKs to add one, but anything they add would look much like your code, and operate as a convivence just uploading multiple objects separately as a.","body":"The <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_Operations_Amazon_Simple_Storage_Service.html\" rel=\"nofollow noreferrer\">underlying S3 APIs</a> have no concept of a transaction or a way to upload multiple objects at once.  It&#39;s an oft requested feature for the SDKs to add one, but anything they add would look much like your code, and operate as a convivence just uploading multiple objects separately as a."}],"answers":[{"tags":[],"owner":{"account_id":26281505,"reputation":427,"user_id":19949926,"display_name":"rlhagerm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679925180,"creation_date":1679925180,"answer_id":75856607,"question_id":75849607,"body_markdown":"Are you able to use the S3 Transfer Manager? It has some methods for working with multiple files, such as [UploadDirectory][1].  There is an example of working with it in the [Example Code Library here][2].\r\n\r\n    public Integer uploadDirectory(S3TransferManager transferManager,\r\n                                       String sourceDirectory, String bucketName){\r\n            DirectoryUpload directoryUpload =\r\n                transferManager.uploadDirectory(UploadDirectoryRequest.builder()\r\n                    .source(Paths.get(sourceDirectory))\r\n                    .bucket(bucketName)\r\n                    .build());\r\n\r\n\r\n\r\n  [1]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/transfer/s3/S3TransferManager.html\r\n  [2]: https://docs.aws.amazon.com/code-library/latest/ug/s3_example_s3_UploadDirectoryToBucket_section.html","title":"How to upload multiple files to AWS S3 in Java using aws-java-sdk version 2?","body":"<p>Are you able to use the S3 Transfer Manager? It has some methods for working with multiple files, such as <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/transfer/s3/S3TransferManager.html\" rel=\"nofollow noreferrer\">UploadDirectory</a>.  There is an example of working with it in the <a href=\"https://docs.aws.amazon.com/code-library/latest/ug/s3_example_s3_UploadDirectoryToBucket_section.html\" rel=\"nofollow noreferrer\">Example Code Library here</a>.</p>\n<pre><code>public Integer uploadDirectory(S3TransferManager transferManager,\n                                   String sourceDirectory, String bucketName){\n        DirectoryUpload directoryUpload =\n            transferManager.uploadDirectory(UploadDirectoryRequest.builder()\n                .source(Paths.get(sourceDirectory))\n                .bucket(bucketName)\n                .build());\n</code></pre>\n"}],"owner":{"account_id":21012673,"reputation":79,"user_id":15440928,"display_name":"Mykyta Manuilenko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":716,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679925180,"creation_date":1679853868,"question_id":75849607,"body_markdown":"How to upload multiple files to AWS S3 using `aws-java-sdk` version 2? \r\n\r\nI can use a for-each loop and `s3Client.putObject(requestConfig, requestBody);`, but is it possible to achieve this without using a loop, I mean just call one method and pass a list of files there (something like `s3Client.putObjects(/* some args */);`)? \r\n\r\nAnd another question, if it is possible to upload multiple files to AWS S3 without using a loop, can it be done in a transactional way so that all files or none of them are uploaded?\r\n\r\nThis is how I&#39;m doing it right now, but is this the right approach?\r\n\r\n```Java\r\n    public void upload(String key, String mimetype, byte[] content) {\r\n        var bucket = this.configurationManager.getAwsConfig().getBucketName();\r\n\r\n        var requestConfig = this.preparePutObjectRequest(key, mimetype, bucket);\r\n        var requestBody = RequestBody.fromBytes(content);\r\n\r\n        this.s3Client.putObject(requestConfig, requestBody);\r\n    }\r\n\r\n    public void batchUpload(List&lt;UploadFileBO&gt; files) {\r\n        for (UploadFileBO file : files) {\r\n                this.upload(file.getKey(), file.getMimetype(), file.getContent());\r\n            }\r\n        }\r\n    }\r\n\r\n    private PutObjectRequest preparePutObjectRequest(String key, String mimetype, String bucket) {\r\n        return PutObjectRequest.builder()\r\n                .bucket(bucket)\r\n                .key(key)\r\n                .contentType(mimetype)\r\n                .build();\r\n    }\r\n```\r\n","title":"How to upload multiple files to AWS S3 in Java using aws-java-sdk version 2?","body":"<p>How to upload multiple files to AWS S3 using <code>aws-java-sdk</code> version 2?</p>\n<p>I can use a for-each loop and <code>s3Client.putObject(requestConfig, requestBody);</code>, but is it possible to achieve this without using a loop, I mean just call one method and pass a list of files there (something like <code>s3Client.putObjects(/* some args */);</code>)?</p>\n<p>And another question, if it is possible to upload multiple files to AWS S3 without using a loop, can it be done in a transactional way so that all files or none of them are uploaded?</p>\n<p>This is how I'm doing it right now, but is this the right approach?</p>\n<pre><code>    public void upload(String key, String mimetype, byte[] content) {\n        var bucket = this.configurationManager.getAwsConfig().getBucketName();\n\n        var requestConfig = this.preparePutObjectRequest(key, mimetype, bucket);\n        var requestBody = RequestBody.fromBytes(content);\n\n        this.s3Client.putObject(requestConfig, requestBody);\n    }\n\n    public void batchUpload(List&lt;UploadFileBO&gt; files) {\n        for (UploadFileBO file : files) {\n                this.upload(file.getKey(), file.getMimetype(), file.getContent());\n            }\n        }\n    }\n\n    private PutObjectRequest preparePutObjectRequest(String key, String mimetype, String bucket) {\n        return PutObjectRequest.builder()\n                .bucket(bucket)\n                .key(key)\n                .contentType(mimetype)\n                .build();\n    }\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"owner":{"account_id":16643925,"reputation":133,"user_id":12028677,"display_name":"Kampaii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679924818,"creation_date":1679924818,"question_id":75856542,"body_markdown":"I&#39;m struggling with suppress of events. I want to publish only latest record taken by window to fin topic.\r\n\r\n```java\r\nstream.groupByKey()\r\n            .windowedBy(TimeWindows.ofSizeWithNoGrace(Duration.ofSeconds(2)))\r\n            .reduce((party, newValue) -&gt; newValue)\r\n            .suppress(Suppressed.untilTimeLimit(Duration.ofSeconds(2), Suppressed.BufferConfig.unbounded()))\r\n            .to(finTopicName);\r\n```\r\n\r\nI pass sth like this(in tests, using TopologyTestDriver)\r\n\r\n    {1, {name: test}} // timeout 0s\r\n    {1, {name: test}} // timeout 0s\r\n    {1, {name: test}} // timeout 10s\r\n    {1, {name: test2}} // timeout 25s\r\n\r\nI expect that i would see test, test, test2 names as they should occur in separate windows but get only test, test, test. \r\n\r\nPlease explain why i don&#39;t get test2 as an output.\r\nAlso it would be great to understand of how to take latest event of the window, not the first","title":"Kafka streams suppress - take latest of window","body":"<p>I'm struggling with suppress of events. I want to publish only latest record taken by window to fin topic.</p>\n<pre class=\"lang-java prettyprint-override\"><code>stream.groupByKey()\n            .windowedBy(TimeWindows.ofSizeWithNoGrace(Duration.ofSeconds(2)))\n            .reduce((party, newValue) -&gt; newValue)\n            .suppress(Suppressed.untilTimeLimit(Duration.ofSeconds(2), Suppressed.BufferConfig.unbounded()))\n            .to(finTopicName);\n</code></pre>\n<p>I pass sth like this(in tests, using TopologyTestDriver)</p>\n<pre><code>{1, {name: test}} // timeout 0s\n{1, {name: test}} // timeout 0s\n{1, {name: test}} // timeout 10s\n{1, {name: test2}} // timeout 25s\n</code></pre>\n<p>I expect that i would see test, test, test2 names as they should occur in separate windows but get only test, test, test.</p>\n<p>Please explain why i don't get test2 as an output.\nAlso it would be great to understand of how to take latest event of the window, not the first</p>\n"},{"tags":["java","arrays","multithreading","threadpool"],"answers":[{"comments":[{"owner":{"account_id":18912023,"reputation":31,"user_id":13797899,"display_name":"Ashish Vashisht"},"score":0,"creation_date":1679839619,"post_id":75848085,"comment_id":133789002,"body_markdown":"I am still extending Thread not implementing Runnable and also not using &quot;Thread &quot; + i. But it works. Thanks for your help.","body":"I am still extending Thread not implementing Runnable and also not using &quot;Thread &quot; + i. But it works. Thanks for your help."}],"tags":[],"owner":{"account_id":27893346,"reputation":94,"user_id":21299216,"display_name":"Idk"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1679837733,"creation_date":1679837733,"answer_id":75848085,"question_id":75848070,"body_markdown":"```\r\nclass Solution {\r\n    \r\n    public int[] productExceptSelf(int[] nums) {\r\n        int[] answer = new int[nums.length];\r\n        Thread[] threads = new Thread[nums.length];    \r\n        ThreadGroup threadgrp = new ThreadGroup(&quot;&quot;);\r\n\r\n        IntStream.range(0, nums.length).forEach(i -&gt; {\r\n            threads[i] = new Thread(new Threaded(nums, answer, i), &quot;Thread &quot; + i);\r\n            threads[i].start();\r\n        });\r\n        \r\n        while(threadgrp.activeCount() &gt; 0){\r\n        \r\n        }\r\n        \r\n        return answer;\r\n    }\r\n}\r\n    \r\n \r\nclass Threaded implements Runnable {\r\n    \r\n    private int[] nums;\r\n    private int[] answer;\r\n    private int i;\r\n    \r\n    Threaded(int[] nums, int[] answer, int i) {\r\n        this.nums = nums;\r\n        this.answer = answer;\r\n        this.i = i;\r\n    }\r\n    \r\n    public void run() {\r\n        answer[i] = getProduct(nums, i);\r\n    }\r\n    \r\n    private int getProduct(int[] nums, int i) {\r\n        int x = 1;  \r\n        for (int j = 0; j &lt; nums.length; j++) {    \r\n            if (i != j) x = x * nums[j];      \r\n        }        \r\n        return x;\r\n    }\r\n}\r\n```\r\nTry this senpai","title":"Thread class not updating a shared array which belongs to calling class","body":"<pre><code>class Solution {\n    \n    public int[] productExceptSelf(int[] nums) {\n        int[] answer = new int[nums.length];\n        Thread[] threads = new Thread[nums.length];    \n        ThreadGroup threadgrp = new ThreadGroup(&quot;&quot;);\n\n        IntStream.range(0, nums.length).forEach(i -&gt; {\n            threads[i] = new Thread(new Threaded(nums, answer, i), &quot;Thread &quot; + i);\n            threads[i].start();\n        });\n        \n        while(threadgrp.activeCount() &gt; 0){\n        \n        }\n        \n        return answer;\n    }\n}\n    \n \nclass Threaded implements Runnable {\n    \n    private int[] nums;\n    private int[] answer;\n    private int i;\n    \n    Threaded(int[] nums, int[] answer, int i) {\n        this.nums = nums;\n        this.answer = answer;\n        this.i = i;\n    }\n    \n    public void run() {\n        answer[i] = getProduct(nums, i);\n    }\n    \n    private int getProduct(int[] nums, int i) {\n        int x = 1;  \n        for (int j = 0; j &lt; nums.length; j++) {    \n            if (i != j) x = x * nums[j];      \n        }        \n        return x;\n    }\n}\n</code></pre>\n<p>Try this senpai</p>\n"}],"owner":{"account_id":18912023,"reputation":31,"user_id":13797899,"display_name":"Ashish Vashisht"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75848085,"answer_count":1,"score":-1,"last_activity_date":1679924726,"creation_date":1679837566,"question_id":75848070,"body_markdown":"I tried to solve this problem on leetcode and was getting stuck at 19th test-case - Timeout so I tried to solve it with multi-threading.\r\n\r\nPlease find the code below:\r\n\r\n```java\r\nclass Solution {\r\n\r\n    public static int[] nums;\r\n    public static int[] answer;\r\n    public static Thread[] threads;\r\n\r\n    public int[] productExceptSelf(int[] nums) {\r\n\r\n        answer = new int[nums.length];\r\n        threads = new Thread[nums.length];    \r\n        ThreadGroup threadgrp = new ThreadGroup(&quot;&quot;);\r\n        \r\n        IntStream.range(0, nums.length).forEach(i -&gt; {\r\n        \r\n            threads[i] = new Threaded(threadgrp, i);\r\n            threads[i].start();\r\n        });\r\n        \r\n        while(threadgrp.activeCount() &gt; 0) {\r\n        }\r\n\r\n        return answer;\r\n\r\n    }\r\n}\r\n```    \r\n```java \r\nclass Threaded extends Thread {\r\n\r\n    int i;\r\n\r\n    Threaded(ThreadGroup obj, int i) {\r\n        this.i = i;\r\n    }\r\n\r\n    public void run() {\r\n        answer[i] = getProduct(nums, i);\r\n    }\r\n\r\n    public int getProduct(int[] nums, int i) {\r\n\r\n        int x = 1;\r\n\r\n        for(int j = 0; j &lt; nums.length; j++ ) {\r\n\r\n            if(i != j) x = x*nums[j];\r\n\r\n        }\r\n\r\n\r\n        return x;\r\n    }\r\n\r\n}\r\n```\r\nI wrote the code okay I think but it appears that output I&#39;m getting is 0,0,0,0 in the initial test case which is the just the value of answer[] array initialization.\r\nInput for test case is {1,2,3,4}\r\nSomehow, the threads are not able to update the answer[] array and get values from nums array. I even tried static. Earlier I was using a singleton instance of Solution.\r\n\r\nKindly assist.\r\n\r\nI tried without threading and it worked fine but wasn&#39;t fast enough. Then I created a subclass and also tried with inner class for thread. ","title":"Thread class not updating a shared array which belongs to calling class","body":"<p>I tried to solve this problem on leetcode and was getting stuck at 19th test-case - Timeout so I tried to solve it with multi-threading.</p>\n<p>Please find the code below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n\n    public static int[] nums;\n    public static int[] answer;\n    public static Thread[] threads;\n\n    public int[] productExceptSelf(int[] nums) {\n\n        answer = new int[nums.length];\n        threads = new Thread[nums.length];    \n        ThreadGroup threadgrp = new ThreadGroup(&quot;&quot;);\n        \n        IntStream.range(0, nums.length).forEach(i -&gt; {\n        \n            threads[i] = new Threaded(threadgrp, i);\n            threads[i].start();\n        });\n        \n        while(threadgrp.activeCount() &gt; 0) {\n        }\n\n        return answer;\n\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class Threaded extends Thread {\n\n    int i;\n\n    Threaded(ThreadGroup obj, int i) {\n        this.i = i;\n    }\n\n    public void run() {\n        answer[i] = getProduct(nums, i);\n    }\n\n    public int getProduct(int[] nums, int i) {\n\n        int x = 1;\n\n        for(int j = 0; j &lt; nums.length; j++ ) {\n\n            if(i != j) x = x*nums[j];\n\n        }\n\n\n        return x;\n    }\n\n}\n</code></pre>\n<p>I wrote the code okay I think but it appears that output I'm getting is 0,0,0,0 in the initial test case which is the just the value of answer[] array initialization.\nInput for test case is {1,2,3,4}\nSomehow, the threads are not able to update the answer[] array and get values from nums array. I even tried static. Earlier I was using a singleton instance of Solution.</p>\n<p>Kindly assist.</p>\n<p>I tried without threading and it worked fine but wasn't fast enough. Then I created a subclass and also tried with inner class for thread.</p>\n"},{"tags":["java","spring","avro"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679921467,"creation_date":1679921467,"answer_id":75855966,"question_id":75855876,"body_markdown":"You can iterate the map and put each key-value pair in a new map, while `toString()`-ing them.\r\n```\r\nMap&lt;CharSequence, CharSequence&gt; map = ...;\r\nMap&lt;String, String&gt; resultMap = new HashMap&lt;&gt;();\r\nfor (Map.Entry&lt;CharSequence, CharSequence&gt; entry : map.entrySet()) {\r\n  resultMap.put(entry.getKey().toString(), entry.getValue().toString());\r\n}\r\n```\r\nOr you can do the same using [Stream][1].\r\n```\r\nMap&lt;CharSequence, CharSequence&gt; map = ...;\r\nMap&lt;String, String&gt; resultMap = map.entrySet()\r\n      .stream()\r\n      .collect(Collectors.toMap(e -&gt; e.getKey().toString(), e -&gt; e.getValue().toString()));\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html","title":"How to convert avro generated Map&lt;CharSequence, CharSequence&gt; to Map&lt;String, String&gt;","body":"<p>You can iterate the map and put each key-value pair in a new map, while <code>toString()</code>-ing them.</p>\n<pre><code>Map&lt;CharSequence, CharSequence&gt; map = ...;\nMap&lt;String, String&gt; resultMap = new HashMap&lt;&gt;();\nfor (Map.Entry&lt;CharSequence, CharSequence&gt; entry : map.entrySet()) {\n  resultMap.put(entry.getKey().toString(), entry.getValue().toString());\n}\n</code></pre>\n<p>Or you can do the same using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\">Stream</a>.</p>\n<pre><code>Map&lt;CharSequence, CharSequence&gt; map = ...;\nMap&lt;String, String&gt; resultMap = map.entrySet()\n      .stream()\n      .collect(Collectors.toMap(e -&gt; e.getKey().toString(), e -&gt; e.getValue().toString()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679923872,"creation_date":1679923872,"answer_id":75856376,"question_id":75855876,"body_markdown":"It is possible to cause the Avro schema generator to use `String` instead of `CharSequence` as the mapping for an Avro string; see https://stackoverflow.com/questions/25118727.\r\n\r\nApparently, you can also change the type that Avro uses to represent a string in Java on a per-type basis; see https://stackoverflow.com/questions/49974241 and https://stackoverflow.com/a/35727432/139985.  However, this can be [a source of problems][1].  So beware.\r\n\r\nIf neither of these approaches are going to work for you, then you will need to do a conversion as per @ChaosFire&#39;s [answer][2].\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/AVRO-2838\r\n  [2]: https://stackoverflow.com/q/75855876/139985","title":"How to convert avro generated Map&lt;CharSequence, CharSequence&gt; to Map&lt;String, String&gt;","body":"<p>It is possible to cause the Avro schema generator to use <code>String</code> instead of <code>CharSequence</code> as the mapping for an Avro string; see <a href=\"https://stackoverflow.com/questions/25118727\">How to generate fields of type String instead of CharSequence using Avro?</a>.</p>\n<p>Apparently, you can also change the type that Avro uses to represent a string in Java on a per-type basis; see <a href=\"https://stackoverflow.com/questions/49974241\">Avro Schema - what is &quot;avro.java.string&quot;: &quot;String&quot;</a> and <a href=\"https://stackoverflow.com/a/35727432/139985\">https://stackoverflow.com/a/35727432/139985</a>.  However, this can be <a href=\"https://issues.apache.org/jira/browse/AVRO-2838\" rel=\"nofollow noreferrer\">a source of problems</a>.  So beware.</p>\n<p>If neither of these approaches are going to work for you, then you will need to do a conversion as per @ChaosFire's <a href=\"https://stackoverflow.com/q/75855876/139985\">answer</a>.</p>\n"}],"owner":{"account_id":5449054,"reputation":1020,"user_id":4334502,"accept_rate":30,"display_name":"ever alian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679923872,"creation_date":1679920885,"question_id":75855876,"body_markdown":"I have Avro generated Map that is with Map&lt;CharSequence, CharSequence&gt; type. But my existing method requires Map&lt;String, String&gt; parameter. How can I change Map&lt;CharSequence, CharSequence&gt; to Map&lt;String, String&gt; parameter?\r\n\r\n\r\n    public void someMethod(AvroType avroGenObj){\r\n      myMapMethod(avroGenObj.getInput()) // compile error as getInput returns Map&lt;CharSequence, CharSequence&gt;\r\n    }\r\n\r\n\r\n    private void myMapMethod(Map&lt;String, String&gt; map){\r\n\r\n    // to something\r\n\r\n    }\r\n\r\n","title":"How to convert avro generated Map&lt;CharSequence, CharSequence&gt; to Map&lt;String, String&gt;","body":"<p>I have Avro generated Map that is with Map&lt;CharSequence, CharSequence&gt; type. But my existing method requires Map&lt;String, String&gt; parameter. How can I change Map&lt;CharSequence, CharSequence&gt; to Map&lt;String, String&gt; parameter?</p>\n<pre><code>public void someMethod(AvroType avroGenObj){\n  myMapMethod(avroGenObj.getInput()) // compile error as getInput returns Map&lt;CharSequence, CharSequence&gt;\n}\n\n\nprivate void myMapMethod(Map&lt;String, String&gt; map){\n\n// to something\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-kafka","completable-future"],"answers":[{"comments":[{"owner":{"account_id":8210886,"reputation":814,"user_id":20390023,"display_name":"Wrapper"},"score":0,"creation_date":1679580975,"post_id":75823956,"comment_id":133749770,"body_markdown":"What I&#39;m trying to do is to provide to client code (i.e. library clients), what Kafka library from 3.0.0 is already providing, the possibility to use .whenComplete instead of ListenableFutureCallbacks. Yeah, we use 2.8.5 I think. Let me try to update based on your suggestion","body":"What I&#39;m trying to do is to provide to client code (i.e. library clients), what Kafka library from 3.0.0 is already providing, the possibility to use .whenComplete instead of ListenableFutureCallbacks. Yeah, we use 2.8.5 I think. Let me try to update based on your suggestion"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1679598525,"post_id":75823956,"comment_id":133754708,"body_markdown":"Yes; it&#39;s what I meant; I just tested it and it works fine; I added my test to my answer.","body":"Yes; it&#39;s what I meant; I just tested it and it works fine; I added my test to my answer."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1679663063,"post_id":75823956,"comment_id":133765848,"body_markdown":"Some exceptions (e.g. `SerializationException`) are thrown by the send; there is no future in those cases. If you want to hide that from the caller, you will need to return your own future and complete it (normally or exceptionally when the template&#39;s future completes, or exceptionally if the `execute` throws an exception.","body":"Some exceptions (e.g. <code>SerializationException</code>) are thrown by the send; there is no future in those cases. If you want to hide that from the caller, you will need to return your own future and complete it (normally or exceptionally when the template&#39;s future completes, or exceptionally if the <code>execute</code> throws an exception."},{"owner":{"account_id":8210886,"reputation":814,"user_id":20390023,"display_name":"Wrapper"},"score":0,"creation_date":1679680390,"post_id":75823956,"comment_id":133770527,"body_markdown":"Hopefully, last edit this time.","body":"Hopefully, last edit this time."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1679923392,"post_id":75823956,"comment_id":133802816,"body_markdown":"I think you are over complicating it (having to check for retryable exception). See my second edit.","body":"I think you are over complicating it (having to check for retryable exception). See my second edit."},{"owner":{"account_id":8210886,"reputation":814,"user_id":20390023,"display_name":"Wrapper"},"score":0,"creation_date":1679951856,"post_id":75823956,"comment_id":133810189,"body_markdown":"Tnx Gary for your time really. However with EDIT 2, if send() throws Exception (SerializationException, TopicAuthorizationExc) it goes to catch clause and I lose the purpose of RetryTemplate. Possible solution to place in catch blockK `int currentCount = ctx.getRetryCount();\n\nif (isRetriableException(e)) {\n   //decreasing &#39;retries&#39; by 1, since &#39;ctx.getRetryCount();&#39; starts from zero\n   //max attempts reached, wrap KafkaException\n   if (currentCount == (retries-1)) throw new MyExc(KAFKA_EX_PROD_PUBLISH_ERROR.findErrorMessage(), e);\n   throw e;\n}`","body":"Tnx Gary for your time really. However with EDIT 2, if send() throws Exception (SerializationException, TopicAuthorizationExc) it goes to catch clause and I lose the purpose of RetryTemplate. Possible solution to place in catch blockK <code>int currentCount = ctx.getRetryCount();  if (isRetriableException(e)) {    &#47;&#47;decreasing &#39;retries&#39; by 1, since &#39;ctx.getRetryCount();&#39; starts from zero    &#47;&#47;max attempts reached, wrap KafkaException    if (currentCount == (retries-1)) throw new MyExc(KAFKA_EX_PROD_PUBLISH_ERROR.findErrorMessage(), e);    throw e; }</code>"},{"owner":{"account_id":8210886,"reputation":814,"user_id":20390023,"display_name":"Wrapper"},"score":0,"creation_date":1679952400,"post_id":75823956,"comment_id":133810306,"body_markdown":"&#39;private boolean isRetriableException(Throwable t){\n\n   //base case 1\n   if (t == null){\n      return false;\n   }\n\n   //base case 2\n   String exceptionName = t.getClass().getName();\n   if (retriableExceptions.contains(exceptionName)){\n      return true;\n   }\n   return isRetriableException(t.getCause());\n}&#39;","body":"&#39;private boolean isRetriableException(Throwable t){     //base case 1    if (t == null){       return false;    }     //base case 2    String exceptionName = t.getClass().getName();    if (retriableExceptions.contains(exceptionName)){       return true;    }    return isRetriableException(t.getCause()); }&#39;"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1679974255,"post_id":75823956,"comment_id":133813107,"body_markdown":"Don‚Äôt put code in comments. It doesn‚Äôt make sense to retry a serialization exception, but you have a point about auth exceptions.","body":"Don‚Äôt put code in comments. It doesn‚Äôt make sense to retry a serialization exception, but you have a point about auth exceptions."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679923645,"creation_date":1679579785,"answer_id":75823956,"question_id":75823718,"body_markdown":"`completedFuture`\r\n\r\nYou are returning an already completed future, regardless of whether the callback has run yet; so the caller will always see a completed future.\r\n\r\nYou should return `future` from the execute method, then return `future.completable()` from the `asyncSend`.\r\n\r\nNote that, starting with version 3.0, the template returns a `CompletableFuture` instead of a `ListenableFuture`.\r\n\r\n__EDIT__\r\n\r\nI just tested it and it works as expected...\r\n\r\n```java\r\n@SpringBootApplication\r\n@EnableAsync\r\npublic class So75823718Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(So75823718Application.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tNewTopic topic() {\r\n\t\treturn TopicBuilder.name(&quot;so75823718&quot;).partitions(1).replicas(1).build();\r\n\t}\r\n\r\n\t@Bean\r\n\tApplicationRunner runner(Foo foo) {\r\n\t\treturn args -&gt; {\r\n\t\t\tCompletableFuture&lt;SendResult&lt;String, String&gt;&gt; future = foo.asyncSend(&quot;foo&quot;);\r\n\t\t\tfuture.whenComplete((sr, ex) -&gt; System.out.println(future + &quot;: &quot; + sr.getRecordMetadata()));\r\n\t\t};\r\n\t}\r\n\r\n\t@Bean\r\n\tTaskExecutor exec() {\r\n\t\treturn new SimpleAsyncTaskExecutor();\r\n\t}\r\n\r\n}\r\n\r\n@Component\r\nclass Foo {\r\n\r\n\tRetryTemplate template = new RetryTemplate();\r\n\r\n\t@Autowired\r\n\tKafkaTemplate&lt;String, String&gt; kafkaTemplate;\r\n\r\n\t@Async(&quot;exec&quot;)\r\n\tpublic CompletableFuture&lt;SendResult&lt;String, String&gt;&gt; asyncSend(final String message) throws Exception {\r\n\r\n\t\treturn this.template.execute(ctx -&gt; {\r\n\t\t\tfinal ListenableFuture&lt;SendResult&lt;String, String&gt;&gt; future = kafkaTemplate.send(&quot;so75823718&quot;, &quot;foo&quot;);\r\n\r\n\t\t\treturn future;\r\n\t\t}).completable();\r\n\t}\r\n\r\n}\r\n```\r\n```\r\njava.util.concurrent.CompletableFuture@7ebce1f7[Completed normally]: so75823718-0@12\r\n```\r\n\r\n__EDIT2__\r\n\r\n...and to catch direct exceptions on the `send()`...\r\n\r\n```java\r\npublic CompletableFuture&lt;SendResult&lt;String, String&gt;&gt; asyncSend(final String message) throws Exception {\r\n\r\n\tCompletableFuture&lt;SendResult&lt;String, String&gt;&gt; future = new CompletableFuture&lt;&gt;();\r\n\ttry {\r\n\t\tCompletableFuture&lt;SendResult&lt;String, String&gt;&gt; fut = this.template.execute(ctx -&gt; {\r\n\t\t\treturn kafkaTemplate.send(&quot;so75823718&quot;, &quot;foo&quot;);\r\n\t\t}).completable();\r\n\t\tfut.whenComplete((sr, ex) -&gt; {\r\n\t\t\tif (ex != null) {\r\n\t\t\t\tfuture.completeExceptionally(ex);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tfuture.complete(sr);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\tcatch (Exception ex) {\r\n\t\tfuture.completeExceptionally(ex);\r\n\t}\r\n\treturn future;\r\n}\r\n```\r\n","title":"CompletableFuture with Kafka&#39;s callback methods?","body":"<p><code>completedFuture</code></p>\n<p>You are returning an already completed future, regardless of whether the callback has run yet; so the caller will always see a completed future.</p>\n<p>You should return <code>future</code> from the execute method, then return <code>future.completable()</code> from the <code>asyncSend</code>.</p>\n<p>Note that, starting with version 3.0, the template returns a <code>CompletableFuture</code> instead of a <code>ListenableFuture</code>.</p>\n<p><strong>EDIT</strong></p>\n<p>I just tested it and it works as expected...</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableAsync\npublic class So75823718Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(So75823718Application.class, args);\n    }\n\n    @Bean\n    NewTopic topic() {\n        return TopicBuilder.name(&quot;so75823718&quot;).partitions(1).replicas(1).build();\n    }\n\n    @Bean\n    ApplicationRunner runner(Foo foo) {\n        return args -&gt; {\n            CompletableFuture&lt;SendResult&lt;String, String&gt;&gt; future = foo.asyncSend(&quot;foo&quot;);\n            future.whenComplete((sr, ex) -&gt; System.out.println(future + &quot;: &quot; + sr.getRecordMetadata()));\n        };\n    }\n\n    @Bean\n    TaskExecutor exec() {\n        return new SimpleAsyncTaskExecutor();\n    }\n\n}\n\n@Component\nclass Foo {\n\n    RetryTemplate template = new RetryTemplate();\n\n    @Autowired\n    KafkaTemplate&lt;String, String&gt; kafkaTemplate;\n\n    @Async(&quot;exec&quot;)\n    public CompletableFuture&lt;SendResult&lt;String, String&gt;&gt; asyncSend(final String message) throws Exception {\n\n        return this.template.execute(ctx -&gt; {\n            final ListenableFuture&lt;SendResult&lt;String, String&gt;&gt; future = kafkaTemplate.send(&quot;so75823718&quot;, &quot;foo&quot;);\n\n            return future;\n        }).completable();\n    }\n\n}\n</code></pre>\n<pre><code>java.util.concurrent.CompletableFuture@7ebce1f7[Completed normally]: so75823718-0@12\n</code></pre>\n<p><strong>EDIT2</strong></p>\n<p>...and to catch direct exceptions on the <code>send()</code>...</p>\n<pre class=\"lang-java prettyprint-override\"><code>public CompletableFuture&lt;SendResult&lt;String, String&gt;&gt; asyncSend(final String message) throws Exception {\n\n    CompletableFuture&lt;SendResult&lt;String, String&gt;&gt; future = new CompletableFuture&lt;&gt;();\n    try {\n        CompletableFuture&lt;SendResult&lt;String, String&gt;&gt; fut = this.template.execute(ctx -&gt; {\n            return kafkaTemplate.send(&quot;so75823718&quot;, &quot;foo&quot;);\n        }).completable();\n        fut.whenComplete((sr, ex) -&gt; {\n            if (ex != null) {\n                future.completeExceptionally(ex);\n            }\n            else {\n                future.complete(sr);\n            }\n        });\n    }\n    catch (Exception ex) {\n        future.completeExceptionally(ex);\n    }\n    return future;\n}\n</code></pre>\n"}],"owner":{"account_id":8210886,"reputation":814,"user_id":20390023,"display_name":"Wrapper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6554,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75823956,"answer_count":1,"score":0,"last_activity_date":1679923645,"creation_date":1679578552,"question_id":75823718,"body_markdown":"We&#39;re building a small wrapper library around Kafka. We&#39;re using older version where there is no `.whenComplete((response, throwable) -&gt; {...});` when calling `kafkaTemplate.send(...);`.\r\n\r\nInstead our library is doing following:\r\n\r\n1 Defining a `RetryTemplate` bean:\r\n\r\n    @Bean\r\n    public RetryTemplate prodRetryTemplate() {    \r\n       final RetryTemplate template = RetryTemplate.builder().maxAttempts(3)\r\n             .retryOn(TopicAuthorizationException.class).exponentialBackoff(1000, 2, 2000).build();\r\n       return template;\r\n    }\r\n\r\n2 Defining a asynchronous CompletableFuture method:\r\n\r\n\r\n    @Override\r\n    @Async(EXECUTOR_SERVICE) //we had defined Executor bean, it is ommited here\r\n    public CompletableFuture&lt;DtoResponse&gt; asyncSend(final Integer key, final String topic, final String message)\r\n          throws Exception {\r\n\r\n       final ProducerRecord&lt;K, V&gt; producerRecord = buildRecord(key, topic, message);\r\n\r\n       DtoRespons[] responseHolder = new DtoRespons[1];\r\n       template.execute(ctx -&gt;{\r\n    \r\n                final ListenableFuture&lt;SendResult&lt;Integer, String&gt;&gt; future = kafkaTemplate.send(producerRecord);\r\n                future.addCallback(new ListenableFutureCallback&lt;SendResult&lt;Integer, String&gt;&gt;() {\r\n    \r\n                   @Override\r\n                   public void onSuccess(final SendResult&lt;Integer, String&gt; result) {\r\n                      log.info(&quot;success...&quot;);\r\n                      responseHolder[0] = DtoResponse.builder()\r\n                            .error(null)\r\n                            .success(true)\r\n                            .msg(&quot;PUBLISHED&quot;)\r\n                            .build();\r\n                   }\r\n    \r\n                   @SneakyThrows\r\n                   @Override\r\n                   public void onFailure(final Throwable ex) {\r\n                      log.error(&quot;error...)\r\n                      throwError(producerRecord, eventName, ex); //do additional logging\r\n                   }\r\n                });\r\n    \r\n          return null; //to satisfy execute method from RetryTemplate\r\n       });\r\n    \r\n       return CompletableFuture.completedFuture(responseHolder[0]);\r\n    }\r\n\r\n\r\nMy question is straightforward, is it possible that once `asyncSend` is called that it returns `null` i.e. will line `return CompletableFuture.completedFuture(null);` be executed before `onSuccess` or `onFailure` are invoked?\r\n\r\nThat is, from client side:\r\n\r\n    public void myService(){  \r\n      MyLib lib = new MyLib();\r\n      CompletableFuture&lt;DtoResponse&gt; future = lib.sendAsync(key, topic, message);\r\n      future.whenComplete((result, throwable) -&gt; { \r\n         //is it possible that result and throwable both be null ??\r\n    \r\n        });\r\n    }\r\n\r\nUpdate 1:\r\n\r\nBased on professor&#39;s Gary comment. I am not sure if this is what you meant:\r\n\r\n    @Override\r\n    @Async(EXECUTOR_SERVICE)\r\n    public CompletableFuture&lt;SendResult&lt;Integer, String&gt;&gt; asyncSend(final Integer key, final String topic, final String message)\r\n          throws Exception {\r\n       final ProducerRecord&lt;Integer, String&gt; producerRecord = buildRecord(key, topic, message); //this can throw ex\r\n    \r\n       ListenableFuture&lt;SendResult&lt;Integer, String&gt;&gt; x = template.execute(ctx -&gt; {\r\n          final ListenableFuture&lt;SendResult&lt;Integer, String&gt;&gt; future = kafkaTemplate.send(producerRecord);\r\n    \r\n          return future;\r\n       });\r\n       CompletableFuture&lt;SendResult&lt;Integer, String&gt;&gt; completable = x.completable();\r\n    \r\n       return completable;\r\n    }\r\nThen the client code would have to check for `throwable` and for `SendResult&lt;Integer, String&gt;` within `.whenComplete()`. But this is not what I need. With  `SendResult&lt;Integer, String&gt;` client code still cannot tell whether messages is sent or not. How to circumvent this? Please let me know if I&#39;ve explained this in understandable way. Also, our library needs to do important logging in `onFailure` and `onSuccess`\r\n\r\nUpdate 2:\r\n\r\nAfter Gary&#39;s EDIT. \r\n\r\nThanks Gary for helping. However, at first this works, but problem occurs when exception as thrown. In that case `whenComplete` is not invoked, neither is `exceptionally` channel invoked. Let me explain.\r\n\r\nSo since we use secure Kafka in our `.yaml` file there are these properties:\r\n\r\n     properties:\r\n      security.protocol: &quot;SASL_SSL&quot;\r\n      sasl.mechanism: &quot;OAUTHBEARER&quot;\r\n      sasl.login.callback.handler.class: &quot;path.to.LoginCallBack&quot;\r\n      sasl.jaas.config: &gt;-\r\n        org.apache.kafka.common.security.oauthbearer.OAuthBearerLoginModule\r\n          required\r\n          oauth.token.endpoint.uri=&quot;sso-uri&quot;\r\n          oauth.ssl.endpoint.identification.algorithm=&quot;&quot;\r\n          oauth.ssl.truststore.type=&quot;JKS&quot;\r\n          oauth.client.id=&quot;kafka-client-id&quot;\r\n          oauth.client.secret=&quot;someSecret&quot;\r\n          oauth.username=&quot;username&quot;\r\n          oauth.password=&quot;password&quot;;\r\n\r\nI had changed value `oauth.client.id` to `dummy` in order to provoke `org.apache.kafka.common.KafkaException: Failed to construct kafka producer` and to see where the flow will end up.\r\n\r\nWhen line `kafkaTemplate.send(&quot;so75823718&quot;, &quot;foo&quot;);` is reached, it throws exception and that exception is not `ex` in `whenComplete`\r\n\r\n        @Bean\r\n    ApplicationRunner runner(Foo foo) {\r\n      return args -&gt; {\r\n            try {\r\n                CompletableFuture&lt;SendResult&lt;String, String&gt;&gt; future \r\n                 = foo.asyncSend(&quot;foo&quot;);\r\n                future.whenComplete((sr, ex) -&gt; {\r\n                    if (sr != null){\r\n                        System.out.println(&quot;success&quot;);\r\n                    } else if (ex != null){\r\n                        System.out.println(&quot;fail&quot;);\r\n                    }\r\n                });\r\n            } catch (Exception e){\r\n                System.out.println(&quot;not expected nor desired behavior \r\n                to have exception here&quot;);\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nI&#39;ve tried couple of things, but not worth of showing since they don&#39;t even compile. So my question is now, is it somehow possible to not force users of `asyncSend` to use try/catch instead just to use `whenComplete()` or `acceptThen/exceptionally` and that all error handling is done in `asyncSend`? \r\n\r\n UPDATE 3:\r\n\r\nReally hopping that is a final edit.\r\n\r\nSo I think I managed it like so:\r\n\r\nFirst, template\r\n\r\n    @Value(&quot;${kafkaExceptions:}&quot;)\r\n    private List&lt;String&gt; exceptions = new ArrayList&lt;&gt;();\r\n    \r\n        @Bean\r\n        public RetryTemplate template() throws ClassNotFoundException {\r\n           exceptions.add(TopicAuthorizationException.class.getName());\r\n           RetryTemplateBuilder retryTemplateBuilder = RetryTemplate.builder().maxAttempts(retries).retryOn(TopicAuthorizationException.class);\r\n           for (String exceptionClassName : exceptions){\r\n              retryTemplateBuilder.retryOn((Class&lt;? extends Throwable&gt;) Class.forName(exceptionClassName));\r\n           }\r\n           return retryTemplateBuilder.exponentialBackoff(1000, 2, 2000).build();\r\n        }\r\n\r\nThen,\r\n\r\n    @Async(&quot;exec&quot;)\r\n    public CompletableFuture&lt;SendResult&lt;K, V&gt;&gt; asyncSend(K key, String topic, V message, S) throws Exception {\r\n    \r\n       return template.execute(ctx -&gt; {\r\n    \r\n          try {\r\n             ProducerRecord&lt;K, V&gt; producerRecord = buildHeader(key, topic, msg); //can throw custom exception\r\n    \r\n             return kafkaTemplate.send(producerRecord).completable();\r\n          } catch (Exception e){\r\n             \r\n             if (reThrow(e)) throw e;\r\n    \r\n             return CompletableFuture.failedFuture(new CustomException(Enum.KAFKA_EX_PROD_PUBLISH_ERROR.findErrorMessage(),e));\r\n    \r\n          }\r\n       });\r\n    \r\n    }\r\n    \r\n    \r\n    private boolean reThrow(Exception e){\r\n       String retriableException = e.getClass().getName();\r\n       return retriableExceptions.contains(retriableException);\r\n    }\r\n\r\nIn this way I control `execute` invocations. I just need two confirmations.\r\n\r\n1. Can I be sure that if in `.whenComplete`, `sr` is non-null, that means that is equivalent of `onSuccess` (from ListenableFutureCallback) callback was called? There will be some business logic if `sr` is non-null.\r\n\r\n2. I can be sure that if in `.whenComplete`, `th` is non-null, that happened either because `onFailure` (from ListenableFutureCallback) happened or I completed future with failure? ","title":"CompletableFuture with Kafka&#39;s callback methods?","body":"<p>We're building a small wrapper library around Kafka. We're using older version where there is no <code>.whenComplete((response, throwable) -&gt; {...});</code> when calling <code>kafkaTemplate.send(...);</code>.</p>\n<p>Instead our library is doing following:</p>\n<p>1 Defining a <code>RetryTemplate</code> bean:</p>\n<pre><code>@Bean\npublic RetryTemplate prodRetryTemplate() {    \n   final RetryTemplate template = RetryTemplate.builder().maxAttempts(3)\n         .retryOn(TopicAuthorizationException.class).exponentialBackoff(1000, 2, 2000).build();\n   return template;\n}\n</code></pre>\n<p>2 Defining a asynchronous CompletableFuture method:</p>\n<pre><code>@Override\n@Async(EXECUTOR_SERVICE) //we had defined Executor bean, it is ommited here\npublic CompletableFuture&lt;DtoResponse&gt; asyncSend(final Integer key, final String topic, final String message)\n      throws Exception {\n\n   final ProducerRecord&lt;K, V&gt; producerRecord = buildRecord(key, topic, message);\n\n   DtoRespons[] responseHolder = new DtoRespons[1];\n   template.execute(ctx -&gt;{\n\n            final ListenableFuture&lt;SendResult&lt;Integer, String&gt;&gt; future = kafkaTemplate.send(producerRecord);\n            future.addCallback(new ListenableFutureCallback&lt;SendResult&lt;Integer, String&gt;&gt;() {\n\n               @Override\n               public void onSuccess(final SendResult&lt;Integer, String&gt; result) {\n                  log.info(&quot;success...&quot;);\n                  responseHolder[0] = DtoResponse.builder()\n                        .error(null)\n                        .success(true)\n                        .msg(&quot;PUBLISHED&quot;)\n                        .build();\n               }\n\n               @SneakyThrows\n               @Override\n               public void onFailure(final Throwable ex) {\n                  log.error(&quot;error...)\n                  throwError(producerRecord, eventName, ex); //do additional logging\n               }\n            });\n\n      return null; //to satisfy execute method from RetryTemplate\n   });\n\n   return CompletableFuture.completedFuture(responseHolder[0]);\n}\n</code></pre>\n<p>My question is straightforward, is it possible that once <code>asyncSend</code> is called that it returns <code>null</code> i.e. will line <code>return CompletableFuture.completedFuture(null);</code> be executed before <code>onSuccess</code> or <code>onFailure</code> are invoked?</p>\n<p>That is, from client side:</p>\n<pre><code>public void myService(){  \n  MyLib lib = new MyLib();\n  CompletableFuture&lt;DtoResponse&gt; future = lib.sendAsync(key, topic, message);\n  future.whenComplete((result, throwable) -&gt; { \n     //is it possible that result and throwable both be null ??\n\n    });\n}\n</code></pre>\n<p>Update 1:</p>\n<p>Based on professor's Gary comment. I am not sure if this is what you meant:</p>\n<pre><code>@Override\n@Async(EXECUTOR_SERVICE)\npublic CompletableFuture&lt;SendResult&lt;Integer, String&gt;&gt; asyncSend(final Integer key, final String topic, final String message)\n      throws Exception {\n   final ProducerRecord&lt;Integer, String&gt; producerRecord = buildRecord(key, topic, message); //this can throw ex\n\n   ListenableFuture&lt;SendResult&lt;Integer, String&gt;&gt; x = template.execute(ctx -&gt; {\n      final ListenableFuture&lt;SendResult&lt;Integer, String&gt;&gt; future = kafkaTemplate.send(producerRecord);\n\n      return future;\n   });\n   CompletableFuture&lt;SendResult&lt;Integer, String&gt;&gt; completable = x.completable();\n\n   return completable;\n}\n</code></pre>\n<p>Then the client code would have to check for <code>throwable</code> and for <code>SendResult&lt;Integer, String&gt;</code> within <code>.whenComplete()</code>. But this is not what I need. With  <code>SendResult&lt;Integer, String&gt;</code> client code still cannot tell whether messages is sent or not. How to circumvent this? Please let me know if I've explained this in understandable way. Also, our library needs to do important logging in <code>onFailure</code> and <code>onSuccess</code></p>\n<p>Update 2:</p>\n<p>After Gary's EDIT.</p>\n<p>Thanks Gary for helping. However, at first this works, but problem occurs when exception as thrown. In that case <code>whenComplete</code> is not invoked, neither is <code>exceptionally</code> channel invoked. Let me explain.</p>\n<p>So since we use secure Kafka in our <code>.yaml</code> file there are these properties:</p>\n<pre><code> properties:\n  security.protocol: &quot;SASL_SSL&quot;\n  sasl.mechanism: &quot;OAUTHBEARER&quot;\n  sasl.login.callback.handler.class: &quot;path.to.LoginCallBack&quot;\n  sasl.jaas.config: &gt;-\n    org.apache.kafka.common.security.oauthbearer.OAuthBearerLoginModule\n      required\n      oauth.token.endpoint.uri=&quot;sso-uri&quot;\n      oauth.ssl.endpoint.identification.algorithm=&quot;&quot;\n      oauth.ssl.truststore.type=&quot;JKS&quot;\n      oauth.client.id=&quot;kafka-client-id&quot;\n      oauth.client.secret=&quot;someSecret&quot;\n      oauth.username=&quot;username&quot;\n      oauth.password=&quot;password&quot;;\n</code></pre>\n<p>I had changed value <code>oauth.client.id</code> to <code>dummy</code> in order to provoke <code>org.apache.kafka.common.KafkaException: Failed to construct kafka producer</code> and to see where the flow will end up.</p>\n<p>When line <code>kafkaTemplate.send(&quot;so75823718&quot;, &quot;foo&quot;);</code> is reached, it throws exception and that exception is not <code>ex</code> in <code>whenComplete</code></p>\n<pre><code>    @Bean\nApplicationRunner runner(Foo foo) {\n  return args -&gt; {\n        try {\n            CompletableFuture&lt;SendResult&lt;String, String&gt;&gt; future \n             = foo.asyncSend(&quot;foo&quot;);\n            future.whenComplete((sr, ex) -&gt; {\n                if (sr != null){\n                    System.out.println(&quot;success&quot;);\n                } else if (ex != null){\n                    System.out.println(&quot;fail&quot;);\n                }\n            });\n        } catch (Exception e){\n            System.out.println(&quot;not expected nor desired behavior \n            to have exception here&quot;);\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I've tried couple of things, but not worth of showing since they don't even compile. So my question is now, is it somehow possible to not force users of <code>asyncSend</code> to use try/catch instead just to use <code>whenComplete()</code> or <code>acceptThen/exceptionally</code> and that all error handling is done in <code>asyncSend</code>?</p>\n<p>UPDATE 3:</p>\n<p>Really hopping that is a final edit.</p>\n<p>So I think I managed it like so:</p>\n<p>First, template</p>\n<pre><code>@Value(&quot;${kafkaExceptions:}&quot;)\nprivate List&lt;String&gt; exceptions = new ArrayList&lt;&gt;();\n\n    @Bean\n    public RetryTemplate template() throws ClassNotFoundException {\n       exceptions.add(TopicAuthorizationException.class.getName());\n       RetryTemplateBuilder retryTemplateBuilder = RetryTemplate.builder().maxAttempts(retries).retryOn(TopicAuthorizationException.class);\n       for (String exceptionClassName : exceptions){\n          retryTemplateBuilder.retryOn((Class&lt;? extends Throwable&gt;) Class.forName(exceptionClassName));\n       }\n       return retryTemplateBuilder.exponentialBackoff(1000, 2, 2000).build();\n    }\n</code></pre>\n<p>Then,</p>\n<pre><code>@Async(&quot;exec&quot;)\npublic CompletableFuture&lt;SendResult&lt;K, V&gt;&gt; asyncSend(K key, String topic, V message, S) throws Exception {\n\n   return template.execute(ctx -&gt; {\n\n      try {\n         ProducerRecord&lt;K, V&gt; producerRecord = buildHeader(key, topic, msg); //can throw custom exception\n\n         return kafkaTemplate.send(producerRecord).completable();\n      } catch (Exception e){\n         \n         if (reThrow(e)) throw e;\n\n         return CompletableFuture.failedFuture(new CustomException(Enum.KAFKA_EX_PROD_PUBLISH_ERROR.findErrorMessage(),e));\n\n      }\n   });\n\n}\n\n\nprivate boolean reThrow(Exception e){\n   String retriableException = e.getClass().getName();\n   return retriableExceptions.contains(retriableException);\n}\n</code></pre>\n<p>In this way I control <code>execute</code> invocations. I just need two confirmations.</p>\n<ol>\n<li><p>Can I be sure that if in <code>.whenComplete</code>, <code>sr</code> is non-null, that means that is equivalent of <code>onSuccess</code> (from ListenableFutureCallback) callback was called? There will be some business logic if <code>sr</code> is non-null.</p>\n</li>\n<li><p>I can be sure that if in <code>.whenComplete</code>, <code>th</code> is non-null, that happened either because <code>onFailure</code> (from ListenableFutureCallback) happened or I completed future with failure?</p>\n</li>\n</ol>\n"},{"tags":["java","yaml","snakeyaml"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1679923480,"post_id":75856293,"comment_id":133802842,"body_markdown":"Do you have getters and setters for your fields? Or is everything literally as posted?","body":"Do you have getters and setters for your fields? Or is everything literally as posted?"},{"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"score":0,"creation_date":1679926572,"post_id":75856293,"comment_id":133803824,"body_markdown":"`tables` must be either public or have a setter. Same for other fields.","body":"<code>tables</code> must be either public or have a setter. Same for other fields."}],"owner":{"account_id":5583416,"reputation":125,"user_id":4424628,"display_name":"Idan Cohen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679923350,"creation_date":1679923350,"question_id":75856293,"body_markdown":"I&#39;m trying to load YAML file content into custom objects I&#39;ve defined in Java, but no matter which modification I&#39;m doing, I still gets parsing error.\r\n\r\nThe project configure with Maven.\r\n\r\nThis is the YAML file content:\r\n```YAML\r\ntables:\r\n- cid: 10\r\n  sopClass: default\r\n  codeMeanings:\r\n    - codeMeaning: Alpha-adrenergic blocking agent\r\n      configurations:\r\n      - type: 0\r\n        Code Meaning: Alpha-adrenergic blocking agent\r\n        Code Value: C-80131\r\n        Coding Scheme Designator: SRT\r\n      - type: 1\r\n        Code Meaning: Alpha-adrenergic blocking agent\r\n        Code Value: &#39;67440007&#39;\r\n        Coding Scheme Designator: SCT\r\n```\r\n\r\nThe followings are the classes:\r\n\r\nCidTable.java:\r\n```Java\r\nimport java.util.List;\r\npublic class CidTable {\r\n    private List&lt;CodingSchemeTable&gt; tables;\r\n}\r\n```\r\n\r\nCodingSchemeTable.java:\r\n```Java\r\nimport java.util.List;\r\n\r\npublic class CodingSchemeTable {\r\n    private String cid;\r\n    private String sopClass;\r\n    private List&lt;CodeMeanings&gt; codeMeaning;\r\n}\r\n```\r\n\r\nCodeMeanings.java:\r\n```Java\r\nimport java.util.List;\r\n\r\npublic class CodeMeanings {\r\n    private String codeMeanings;\r\n    private List&lt;Configurations&gt; configurations;\r\n}\r\n```\r\n\r\nConfigurations.java:\r\n```Java\r\nimport java.util.List;\r\n\r\npublic class Configurations {\r\n    private List&lt;BasicCodeSequenceMacro&gt; codeSequenceMacros;\r\n}\r\n```\r\n\r\nBasicCodeSequenceMacro.java:\r\n```Java\r\npublic class BasicCodeSequenceMacro {\r\n    private int type;\r\n    private final String codeValue;\r\n    private final String codingSchemeDesignator;\r\n    private final String codeMeaning;\r\n}\r\n```\r\n\r\nI&#39;m getting the following error:\r\n```\r\nCannot create property=tables for JavaBean=com.test.common.CidTable@7d3d101b\r\n in &#39;reader&#39;, line 1, column 1:\r\n    tables:\r\n    ^\r\nUnable to find property &#39;tables&#39; on class: com.test.common.CidTable\r\n in &#39;reader&#39;, line 2, column 1:\r\n    - cid: 10\r\n    ^\r\n```\r\n\r\nWhat am I doing wrong?\r\nAlso, if there is another way to parse YAML in Java, please tall. I know that there is a library in cpp, which called `yaml-cpp` and it is great!\r\n\r\nThanks!\r\n\r\n\r\n\r\n","title":"Parse YAML file with SnakeYaml using custom classes","body":"<p>I'm trying to load YAML file content into custom objects I've defined in Java, but no matter which modification I'm doing, I still gets parsing error.</p>\n<p>The project configure with Maven.</p>\n<p>This is the YAML file content:</p>\n<pre><code>tables:\n- cid: 10\n  sopClass: default\n  codeMeanings:\n    - codeMeaning: Alpha-adrenergic blocking agent\n      configurations:\n      - type: 0\n        Code Meaning: Alpha-adrenergic blocking agent\n        Code Value: C-80131\n        Coding Scheme Designator: SRT\n      - type: 1\n        Code Meaning: Alpha-adrenergic blocking agent\n        Code Value: '67440007'\n        Coding Scheme Designator: SCT\n</code></pre>\n<p>The followings are the classes:</p>\n<p>CidTable.java:</p>\n<pre><code>import java.util.List;\npublic class CidTable {\n    private List&lt;CodingSchemeTable&gt; tables;\n}\n</code></pre>\n<p>CodingSchemeTable.java:</p>\n<pre><code>import java.util.List;\n\npublic class CodingSchemeTable {\n    private String cid;\n    private String sopClass;\n    private List&lt;CodeMeanings&gt; codeMeaning;\n}\n</code></pre>\n<p>CodeMeanings.java:</p>\n<pre><code>import java.util.List;\n\npublic class CodeMeanings {\n    private String codeMeanings;\n    private List&lt;Configurations&gt; configurations;\n}\n</code></pre>\n<p>Configurations.java:</p>\n<pre><code>import java.util.List;\n\npublic class Configurations {\n    private List&lt;BasicCodeSequenceMacro&gt; codeSequenceMacros;\n}\n</code></pre>\n<p>BasicCodeSequenceMacro.java:</p>\n<pre><code>public class BasicCodeSequenceMacro {\n    private int type;\n    private final String codeValue;\n    private final String codingSchemeDesignator;\n    private final String codeMeaning;\n}\n</code></pre>\n<p>I'm getting the following error:</p>\n<pre><code>Cannot create property=tables for JavaBean=com.test.common.CidTable@7d3d101b\n in 'reader', line 1, column 1:\n    tables:\n    ^\nUnable to find property 'tables' on class: com.test.common.CidTable\n in 'reader', line 2, column 1:\n    - cid: 10\n    ^\n</code></pre>\n<p>What am I doing wrong?\nAlso, if there is another way to parse YAML in Java, please tall. I know that there is a library in cpp, which called <code>yaml-cpp</code> and it is great!</p>\n<p>Thanks!</p>\n"},{"tags":["java","eclipse","jvm"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":2,"creation_date":1679922866,"post_id":75856176,"comment_id":133802629,"body_markdown":"Class file version 63 is Java 19, change the project Java compliance settings in Eclipse to be Java 17.","body":"Class file version 63 is Java 19, change the project Java compliance settings in Eclipse to be Java 17."},{"owner":{"account_id":457033,"reputation":5296,"user_id":856090,"accept_rate":55,"display_name":"porton"},"score":0,"creation_date":1679923150,"post_id":75856176,"comment_id":133802727,"body_markdown":"@greg-449 How to change the project Java compliance settings in Eclipse to be Java 17?","body":"@greg-449 How to change the project Java compliance settings in Eclipse to be Java 17?"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1679923255,"post_id":75856176,"comment_id":133802759,"body_markdown":"Project Properties &gt; Java Compiler","body":"Project Properties &gt; Java Compiler"}],"owner":{"account_id":457033,"reputation":5296,"user_id":856090,"accept_rate":55,"display_name":"porton"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679922664,"creation_date":1679922664,"question_id":75856176,"body_markdown":"I have a JDK-17 Eclipse project.\r\n\r\nI compile it using Eclipse and try to run using Eclipse. When I try to run:\r\n\r\n&gt; Error: LinkageError occurred while loading main class XXX.blockchainUI.MainWindow\r\n\tjava.lang.UnsupportedClassVersionError: XXX/blockchainUI/MainWindow has been compiled by a more recent version of the Java Runtime (class file version 63.0), this version of the Java Runtime only recognizes class file versions up to 61.0\r\n\r\nI have `java` symlinked to JDK-17 `java`:\r\n\r\n```\r\n$ ls -l /etc/alternatives/java*\r\nlrwxrwxrwx 1 root root 43 Mar 27 15:51 /etc/alternatives/java -&gt; /usr/lib/jvm/java-17-openjdk-amd64/bin/java\r\nlrwxrwxrwx 1 root root 53 Mar 27 15:51 /etc/alternatives/java.1.gz -&gt; /usr/lib/jvm/java-17-openjdk-amd64/man/man1/java.1.gz\r\nlrwxrwxrwx 1 root root 44 Mar 27 15:56 /etc/alternatives/javac -&gt; /usr/lib/jvm/java-17-openjdk-amd64/bin/javac\r\nlrwxrwxrwx 1 root root 54 Mar 27 15:56 /etc/alternatives/javac.1.gz -&gt; /usr/lib/jvm/java-17-openjdk-amd64/man/man1/javac.1.gz\r\nlrwxrwxrwx 1 root root 46 Mar 27 15:57 /etc/alternatives/javadoc -&gt; /usr/lib/jvm/java-17-openjdk-amd64/bin/javadoc\r\nlrwxrwxrwx 1 root root 56 Mar 27 15:57 /etc/alternatives/javadoc.1.gz -&gt; /usr/lib/jvm/java-17-openjdk-amd64/man/man1/javadoc.1.gz\r\nlrwxrwxrwx 1 root root 43 Jan 20 11:12 /etc/alternatives/javah -&gt; /usr/lib/jvm/java-8-openjdk-amd64/bin/javah\r\nlrwxrwxrwx 1 root root 53 Jan 20 11:12 /etc/alternatives/javah.1.gz -&gt; /usr/lib/jvm/java-8-openjdk-amd64/man/man1/javah.1.gz\r\nlrwxrwxrwx 1 root root 44 Mar 27 15:58 /etc/alternatives/javap -&gt; /usr/lib/jvm/java-17-openjdk-amd64/bin/javap\r\nlrwxrwxrwx 1 root root 54 Mar 27 15:58 /etc/alternatives/javap.1.gz -&gt; /usr/lib/jvm/java-17-openjdk-amd64/man/man1/javap.1.gz\r\n```\r\n\r\nNote that to be sure I cleaned all files under `bin/` directory, this does not help.","title":"Linkage error when I try to run my Java program in Eclipse","body":"<p>I have a JDK-17 Eclipse project.</p>\n<p>I compile it using Eclipse and try to run using Eclipse. When I try to run:</p>\n<blockquote>\n<p>Error: LinkageError occurred while loading main class XXX.blockchainUI.MainWindow\njava.lang.UnsupportedClassVersionError: XXX/blockchainUI/MainWindow has been compiled by a more recent version of the Java Runtime (class file version 63.0), this version of the Java Runtime only recognizes class file versions up to 61.0</p>\n</blockquote>\n<p>I have <code>java</code> symlinked to JDK-17 <code>java</code>:</p>\n<pre><code>$ ls -l /etc/alternatives/java*\nlrwxrwxrwx 1 root root 43 Mar 27 15:51 /etc/alternatives/java -&gt; /usr/lib/jvm/java-17-openjdk-amd64/bin/java\nlrwxrwxrwx 1 root root 53 Mar 27 15:51 /etc/alternatives/java.1.gz -&gt; /usr/lib/jvm/java-17-openjdk-amd64/man/man1/java.1.gz\nlrwxrwxrwx 1 root root 44 Mar 27 15:56 /etc/alternatives/javac -&gt; /usr/lib/jvm/java-17-openjdk-amd64/bin/javac\nlrwxrwxrwx 1 root root 54 Mar 27 15:56 /etc/alternatives/javac.1.gz -&gt; /usr/lib/jvm/java-17-openjdk-amd64/man/man1/javac.1.gz\nlrwxrwxrwx 1 root root 46 Mar 27 15:57 /etc/alternatives/javadoc -&gt; /usr/lib/jvm/java-17-openjdk-amd64/bin/javadoc\nlrwxrwxrwx 1 root root 56 Mar 27 15:57 /etc/alternatives/javadoc.1.gz -&gt; /usr/lib/jvm/java-17-openjdk-amd64/man/man1/javadoc.1.gz\nlrwxrwxrwx 1 root root 43 Jan 20 11:12 /etc/alternatives/javah -&gt; /usr/lib/jvm/java-8-openjdk-amd64/bin/javah\nlrwxrwxrwx 1 root root 53 Jan 20 11:12 /etc/alternatives/javah.1.gz -&gt; /usr/lib/jvm/java-8-openjdk-amd64/man/man1/javah.1.gz\nlrwxrwxrwx 1 root root 44 Mar 27 15:58 /etc/alternatives/javap -&gt; /usr/lib/jvm/java-17-openjdk-amd64/bin/javap\nlrwxrwxrwx 1 root root 54 Mar 27 15:58 /etc/alternatives/javap.1.gz -&gt; /usr/lib/jvm/java-17-openjdk-amd64/man/man1/javap.1.gz\n</code></pre>\n<p>Note that to be sure I cleaned all files under <code>bin/</code> directory, this does not help.</p>\n"},{"tags":["java","eclipse","jwt"],"comments":[{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":1,"creation_date":1679918230,"post_id":75855346,"comment_id":133801317,"body_markdown":"AWT is part of the java.desktop module: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/module-summary.html","body":"AWT is part of the java.desktop module: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/module-summary.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.desktop/&hellip;</a>"},{"owner":{"account_id":457033,"reputation":5296,"user_id":856090,"accept_rate":55,"display_name":"porton"},"score":0,"creation_date":1679918647,"post_id":75855346,"comment_id":133801411,"body_markdown":"@Puce How to install java.desktop on Ubuntu?","body":"@Puce How to install java.desktop on Ubuntu?"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1679920276,"post_id":75855346,"comment_id":133801824,"body_markdown":"just click `java.desktop`, expand the node, then you can find `java.awt`. (Default existing in JDK 9+ ~ JDK 17). You do not need to change anything.","body":"just click <code>java.desktop</code>, expand the node, then you can find <code>java.awt</code>. (Default existing in JDK 9+ ~ JDK 17). You do not need to change anything."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679920568,"post_id":75855346,"comment_id":133801894,"body_markdown":"@porton, if you use JDK 9+ ~ JDK 17, it will show java module name, not package. you must select one module like `java.desktop` then expand it, then it will show packages under the module.","body":"@porton, if you use JDK 9+ ~ JDK 17, it will show java module name, not package. you must select one module like <code>java.desktop</code> then expand it, then it will show packages under the module."},{"owner":{"account_id":457033,"reputation":5296,"user_id":856090,"accept_rate":55,"display_name":"porton"},"score":0,"creation_date":1679922412,"post_id":75855346,"comment_id":133802481,"body_markdown":"It worked after switching to JDK 17. Why doesn&#39;t it work with JDK 19 and JDK 20?","body":"It worked after switching to JDK 17. Why doesn&#39;t it work with JDK 19 and JDK 20?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1679922804,"post_id":75855346,"comment_id":133802608,"body_markdown":"@FedericoklezCulloca Your comment is misleading. headless JDK installs exist, but they _still_ have `javax.swing` and `java.awt` packages. These classes do not disappear in headless environments or installations. They are &#39;headless&#39; in the sense that attempting to do anything UI related with them results in a swift `HeadlessException`. Point is, &quot;I cannot find the java.awt package&quot; is not answered by &quot;.. perhaps you have a headless install&quot;. &quot;.. perhaps you have a headless install&quot; is the correct answer to: &quot;I got a `HeadlessException` - how come?&quot;.","body":"@FedericoklezCulloca Your comment is misleading. headless JDK installs exist, but they <i>still</i> have <code>javax.swing</code> and <code>java.awt</code> packages. These classes do not disappear in headless environments or installations. They are &#39;headless&#39; in the sense that attempting to do anything UI related with them results in a swift <code>HeadlessException</code>. Point is, &quot;I cannot find the java.awt package&quot; is not answered by &quot;.. perhaps you have a headless install&quot;. &quot;.. perhaps you have a headless install&quot; is the correct answer to: &quot;I got a <code>HeadlessException</code> - how come?&quot;."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1679923533,"post_id":75855346,"comment_id":133802859,"body_markdown":"@rzwitserloot noted, thanks. I&#39;ll delete my misleading comment.","body":"@rzwitserloot noted, thanks. I&#39;ll delete my misleading comment."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679922577,"creation_date":1679922577,"answer_id":75856158,"question_id":75855346,"body_markdown":"&gt; (On Ubuntu Linux) as you see from the screenshot, java.awt is missing in the list of Eclipse:\r\n\r\nYou&#39;re confused. __You already have `java.awt` - there is NOTHING you need to do!!__ - but read on, I think I know what you&#39;re confused about.\r\n\r\nThat list you pasted into your question is _a list of modules_. `java.awt` is not a module name and never has been. You&#39;re thinking of the `java.awt` in e.g. `java.awt.Button`, which is _a package name_. Not a module name.\r\n\r\nThe `java.awt` package lives in the `java.desktop` module which _you already have_ (it&#39;s in your pasted list. Regardless, __all__ JDKs have this module unless it is treeshaking which is highly unlikely. Even headless JDKs have this package; it&#39;s simply that interacting with most of the code in `java.awt` would cause a `HeadlessException` if you tried to use AWT on a headless environment / with a &#39;headless&#39; JDK installation).\r\n\r\nThus, __there is nothing you have to do - you already have it__.\r\n\r\nLet me take a guess as to what you are confused about:\r\n\r\nBy default, eclipse _ignores_ AWT. As in, the auto-complete dialog and &#39;find type&#39; dialog _do not show AWT classes even though they are available_.\r\n\r\nTry it: Type `class Test { java.awt.Button b = null; }` and note how _this code compiles fine without error - no need to install anything_.\r\n\r\nTo &#39;fix&#39; that, you open the preferences window of eclipse, type &#39;`type filter`&#39; in the filterbox (you&#39;re looking for `Java` &gt; `Appearance` &gt; `Type filters`), and _uncheck_ `java.awt` which you&#39;ll find in the filterlist and checked if you have a standard eclipse installation.\r\n\r\nEclipse disables it by default for good reason:\r\n\r\n* `java.awt` is mostly obsolete; java has 3 local-desktop GUI frameworks (AWT, Swing, and JavaFX), and AWT is by far the least used (and oldest) one.\r\n* The type names in the package clash with common names in other packages. For example, `java.awt.List` is a thing. The java ecosystem at large means, literally, `java.util.List` instead of `java.awt.List` in 99.999% of all cases someone types `List` in eclipse anywhere on the planet. Nevertheless, if you try to fix imports on `List`, eclipse is forced to ask you if you wanted `java.awt.List` or `java.util.List`, which is annoying for everybody, hence, eclipse, by default, acts like `java.awt` does not exist for such type searches.\r\n\r\nNB: Starting a new desktop client in AWT in 2023 seems.. unlikely to be what you really want to do here. A further guess is that you are following a literally 20 year old tutorial. It&#39;s rather likely the true answer you are looking for is &#39;use something else&#39;. At the very least, swing (`javax.swing` package, also in `java.desktop` module, also already installed). Possibly JavaFX (that does require a separate dep/install). Probably: Nevermind local desktop, build a webapp.\r\n","title":"java.awt is missing in Eclipse","body":"<blockquote>\n<p>(On Ubuntu Linux) as you see from the screenshot, java.awt is missing in the list of Eclipse:</p>\n</blockquote>\n<p>You're confused. <strong>You already have <code>java.awt</code> - there is NOTHING you need to do!!</strong> - but read on, I think I know what you're confused about.</p>\n<p>That list you pasted into your question is <em>a list of modules</em>. <code>java.awt</code> is not a module name and never has been. You're thinking of the <code>java.awt</code> in e.g. <code>java.awt.Button</code>, which is <em>a package name</em>. Not a module name.</p>\n<p>The <code>java.awt</code> package lives in the <code>java.desktop</code> module which <em>you already have</em> (it's in your pasted list. Regardless, <strong>all</strong> JDKs have this module unless it is treeshaking which is highly unlikely. Even headless JDKs have this package; it's simply that interacting with most of the code in <code>java.awt</code> would cause a <code>HeadlessException</code> if you tried to use AWT on a headless environment / with a 'headless' JDK installation).</p>\n<p>Thus, <strong>there is nothing you have to do - you already have it</strong>.</p>\n<p>Let me take a guess as to what you are confused about:</p>\n<p>By default, eclipse <em>ignores</em> AWT. As in, the auto-complete dialog and 'find type' dialog <em>do not show AWT classes even though they are available</em>.</p>\n<p>Try it: Type <code>class Test { java.awt.Button b = null; }</code> and note how <em>this code compiles fine without error - no need to install anything</em>.</p>\n<p>To 'fix' that, you open the preferences window of eclipse, type '<code>type filter</code>' in the filterbox (you're looking for <code>Java</code> &gt; <code>Appearance</code> &gt; <code>Type filters</code>), and <em>uncheck</em> <code>java.awt</code> which you'll find in the filterlist and checked if you have a standard eclipse installation.</p>\n<p>Eclipse disables it by default for good reason:</p>\n<ul>\n<li><code>java.awt</code> is mostly obsolete; java has 3 local-desktop GUI frameworks (AWT, Swing, and JavaFX), and AWT is by far the least used (and oldest) one.</li>\n<li>The type names in the package clash with common names in other packages. For example, <code>java.awt.List</code> is a thing. The java ecosystem at large means, literally, <code>java.util.List</code> instead of <code>java.awt.List</code> in 99.999% of all cases someone types <code>List</code> in eclipse anywhere on the planet. Nevertheless, if you try to fix imports on <code>List</code>, eclipse is forced to ask you if you wanted <code>java.awt.List</code> or <code>java.util.List</code>, which is annoying for everybody, hence, eclipse, by default, acts like <code>java.awt</code> does not exist for such type searches.</li>\n</ul>\n<p>NB: Starting a new desktop client in AWT in 2023 seems.. unlikely to be what you really want to do here. A further guess is that you are following a literally 20 year old tutorial. It's rather likely the true answer you are looking for is 'use something else'. At the very least, swing (<code>javax.swing</code> package, also in <code>java.desktop</code> module, also already installed). Possibly JavaFX (that does require a separate dep/install). Probably: Nevermind local desktop, build a webapp.</p>\n"}],"owner":{"account_id":457033,"reputation":5296,"user_id":856090,"accept_rate":55,"display_name":"porton"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":532,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679922577,"creation_date":1679917404,"question_id":75855346,"body_markdown":"(On Ubuntu Linux) as you see from the screenshot, `java.awt` is missing in the list of Eclipse:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI tried different versions of JDK, including 17. See also my configuration dialog where I try to add `awt`:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHow to make Eclipse see `java.awt`? (Now it produces errors when I try to use `java.awt`.)\r\n\r\n  [1]: https://i.stack.imgur.com/WXLwl.png\r\n  [2]: https://i.stack.imgur.com/DYknG.png","title":"java.awt is missing in Eclipse","body":"<p>(On Ubuntu Linux) as you see from the screenshot, <code>java.awt</code> is missing in the list of Eclipse:</p>\n<p><a href=\"https://i.stack.imgur.com/WXLwl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WXLwl.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried different versions of JDK, including 17. See also my configuration dialog where I try to add <code>awt</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/DYknG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DYknG.png\" alt=\"enter image description here\" /></a></p>\n<p>How to make Eclipse see <code>java.awt</code>? (Now it produces errors when I try to use <code>java.awt</code>.)</p>\n"},{"tags":["java","postgresql","spring-boot","spring-data-jpa","many-to-many"],"comments":[{"owner":{"account_id":26462151,"reputation":132,"user_id":20160920,"display_name":"Portal"},"score":0,"creation_date":1679921976,"post_id":75855945,"comment_id":133802335,"body_markdown":"are you setting the delete cascade property on these keys in the table when it was defined? I don&#39;t think delete cascade is the default in postgresql","body":"are you setting the delete cascade property on these keys in the table when it was defined? I don&#39;t think delete cascade is the default in postgresql"},{"owner":{"account_id":24094543,"reputation":29,"user_id":18067284,"display_name":"user"},"score":0,"creation_date":1679922361,"post_id":75855945,"comment_id":133802461,"body_markdown":"No i mean setting CascadeType properties in @ManyToMany","body":"No i mean setting CascadeType properties in @ManyToMany"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1679922842,"post_id":75855945,"comment_id":133802623,"body_markdown":"`@ManyToMany(cascade = CascadeType.ALL, ...)` would be the culprit or at least part of the problem. If you delete an `Attachment` JPA would cascade the delete down to `types`. Since I assume `Types` is independent from `Attachments` (i.e. those entries can exist even if there is no attachment at all) I&#39;d remove this cascading. You probably never need to create, delete or update types at the same time as attachments (create might be somewhat different though).","body":"<code>@ManyToMany(cascade = CascadeType.ALL, ...)</code> would be the culprit or at least part of the problem. If you delete an <code>Attachment</code> JPA would cascade the delete down to <code>types</code>. Since I assume <code>Types</code> is independent from <code>Attachments</code> (i.e. those entries can exist even if there is no attachment at all) I&#39;d remove this cascading. You probably never need to create, delete or update types at the same time as attachments (create might be somewhat different though)."},{"owner":{"account_id":24094543,"reputation":29,"user_id":18067284,"display_name":"user"},"score":0,"creation_date":1679922926,"post_id":75855945,"comment_id":133802648,"body_markdown":"So just removing properties from @ManyToMany will fix this?","body":"So just removing properties from @ManyToMany will fix this?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1679923050,"post_id":75855945,"comment_id":133802687,"body_markdown":"There may be more to this in the code you didn&#39;t share but removing the `cascade` or replacing it with an array of only the relevant values should help. You might want to read up on what cascading means in JPA to gain a better understanding on when to use it.","body":"There may be more to this in the code you didn&#39;t share but removing the <code>cascade</code> or replacing it with an array of only the relevant values should help. You might want to read up on what cascading means in JPA to gain a better understanding on when to use it."}],"owner":{"account_id":24094543,"reputation":29,"user_id":18067284,"display_name":"user"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679922522,"creation_date":1679921317,"question_id":75855945,"body_markdown":"I have spring boot application , and one part of it is storing files and their types .\r\nSo i have Attachment table for files, Type table for types and attachments_types for storing relation between them.\r\nFor example i have file that have id 123456 and type with id 1.\r\nso i have situation like this in my database.\r\n\r\nAttachments: \r\n\r\n | id     |   filename  |   fileType|\r\n |--------|-------------|-----------|\r\n | 123456 |   test.docx |   docx    |\r\n\r\n\r\n\r\n\r\nType\r\n\r\n| type_id     |   type_name|\r\n|--------|-------------|\r\n| 1|   &quot;TYPE_DOCX&quot;|\r\n\r\nattachments_types\r\nattachment_id     type_id\r\n123456            1\r\n\r\n\r\nand when i want to delete attachments from Attachments table it also deletes &quot;TYPE_DOCX&quot; from Type table. \r\nHow can i fix this\r\n\r\nthis is my Attachment entity\r\n        \r\n```\r\n@Entity\r\n@SuperBuilder\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(name = &quot;attachments&quot;)\r\npublic class Attachment  {\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid&quot;)\r\n    @GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\r\n    private UUID id;\r\n\r\n    private String fileName;\r\n\r\n    private String fileType;\r\n\r\n    @Lob\r\n    private byte[] data;\r\n\r\n    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n    @JoinTable(\r\n            name = &quot;attachments_types&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;attachment_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;type_id&quot;))\r\n    private Set&lt;Type&gt; types;\r\n\r\n```\r\n\r\nType entity\r\n\r\n```\r\n@Entity\r\n@SuperBuilder\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(name = &quot;type&quot;)\r\npublic class Type {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long typeId;\r\n\r\n    @Column(name = &quot;type_name&quot;)\r\n    private String typeName;\r\n\r\n}\r\n\r\n```\r\nAttachment repository \r\n\r\n\r\n\r\n```\r\n    @Transactional\r\n    void deleteByFileName(String fileName);\r\n\r\n    @Modifying\r\n    @Transactional\r\n    @Query(value = &quot;DELETE FROM attachments_types WHERE attachment_id = :attachment_id &quot;, nativeQuery = true)\r\n    void deleteFromAttachmentsTypes(@Param(&quot;attachment_id&quot;) UUID attachment_id);\r\n\r\n```\r\n\r\nand Attachment service\r\n\r\n\r\n```\r\n @Override\r\n    public void deleteFile(String fileName) {\r\n        var attachment = attachmentRepository.findByFileName(fileName).get();\r\n        \r\n        attachmentRepository.deleteFromAttachmentsTypes(attachment.getId());\r\n\r\n        attachmentRepository.deleteByFileName(fileName);\r\n    }\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI know that this can be maybe fix by changing CascadeType in @ManyToMany  properties but i dont know how\r\n","title":"Deleting objects from Database many to many","body":"<p>I have spring boot application , and one part of it is storing files and their types .\nSo i have Attachment table for files, Type table for types and attachments_types for storing relation between them.\nFor example i have file that have id 123456 and type with id 1.\nso i have situation like this in my database.</p>\n<p>Attachments:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>filename</th>\n<th>fileType</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>123456</td>\n<td>test.docx</td>\n<td>docx</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Type</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>type_id</th>\n<th>type_name</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>&quot;TYPE_DOCX&quot;</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>attachments_types\nattachment_id     type_id\n123456            1</p>\n<p>and when i want to delete attachments from Attachments table it also deletes &quot;TYPE_DOCX&quot; from Type table.\nHow can i fix this</p>\n<p>this is my Attachment entity</p>\n<pre><code>@Entity\n@SuperBuilder\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;attachments&quot;)\npublic class Attachment  {\n\n    @Id\n    @GeneratedValue(generator = &quot;uuid&quot;)\n    @GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\n    private UUID id;\n\n    private String fileName;\n\n    private String fileType;\n\n    @Lob\n    private byte[] data;\n\n    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JoinTable(\n            name = &quot;attachments_types&quot;,\n            joinColumns = @JoinColumn(name = &quot;attachment_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;type_id&quot;))\n    private Set&lt;Type&gt; types;\n\n</code></pre>\n<p>Type entity</p>\n<pre><code>@Entity\n@SuperBuilder\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;type&quot;)\npublic class Type {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long typeId;\n\n    @Column(name = &quot;type_name&quot;)\n    private String typeName;\n\n}\n\n</code></pre>\n<p>Attachment repository</p>\n<pre><code>    @Transactional\n    void deleteByFileName(String fileName);\n\n    @Modifying\n    @Transactional\n    @Query(value = &quot;DELETE FROM attachments_types WHERE attachment_id = :attachment_id &quot;, nativeQuery = true)\n    void deleteFromAttachmentsTypes(@Param(&quot;attachment_id&quot;) UUID attachment_id);\n\n</code></pre>\n<p>and Attachment service</p>\n<pre><code> @Override\n    public void deleteFile(String fileName) {\n        var attachment = attachmentRepository.findByFileName(fileName).get();\n        \n        attachmentRepository.deleteFromAttachmentsTypes(attachment.getId());\n\n        attachmentRepository.deleteByFileName(fileName);\n    }\n\n</code></pre>\n<p>I know that this can be maybe fix by changing CascadeType in @ManyToMany  properties but i dont know how</p>\n"},{"tags":["java","regex","replace"],"answers":[{"comments":[{"owner":{"account_id":5523754,"reputation":19832,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-oz·¥â ûS „ÉÑ"},"score":0,"creation_date":1425256187,"post_id":28800950,"comment_id":45875806,"body_markdown":"@Atuos That was just an example.","body":"@Atuos That was just an example."},{"owner":{"account_id":5029352,"reputation":3015,"user_id":4040102,"accept_rate":82,"display_name":"VeLKerr"},"score":0,"creation_date":1425256211,"post_id":28800950,"comment_id":45875813,"body_markdown":"Thanks for the answer. But what regexp I should use to call the `replace()` method only **once**?","body":"Thanks for the answer. But what regexp I should use to call the <code>replace()</code> method only <b>once</b>?"}],"tags":[],"owner":{"account_id":5523754,"reputation":19832,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-oz·¥â ûS „ÉÑ"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425255637,"creation_date":1425255637,"answer_id":28800950,"question_id":28800913,"body_markdown":"You can use `str.replace`, for example : \r\n\r\n    String str = &quot;http://www.google.com&quot;;\r\n    str.replace(&quot;http://&quot;,&quot;&quot;).replace(&quot;http:// www.&quot;,&quot;&quot;).replace(&quot;www.&quot;,&quot;&quot;);\r\n\r\nFor more information about [str.replace](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html)\r\n","title":"Java regex URL prefix removal","body":"<p>You can use <code>str.replace</code>, for example : </p>\n\n<pre><code>String str = \"http://www.google.com\";\nstr.replace(\"http://\",\"\").replace(\"http:// www.\",\"\").replace(\"www.\",\"\");\n</code></pre>\n\n<p>For more information about <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html\" rel=\"nofollow\">str.replace</a></p>\n"},{"comments":[{"owner":{"account_id":2227719,"reputation":887,"user_id":1966079,"display_name":"Guilherme"},"score":1,"creation_date":1621176731,"post_id":28801041,"comment_id":119410672,"body_markdown":"for https and http &quot;^(http[s]?://)?(www\\\\.)?&quot;","body":"for https and http &quot;^(http[s]?://)?(www\\\\.)?&quot;"}],"tags":[],"owner":{"account_id":121787,"reputation":11660,"user_id":315129,"accept_rate":93,"display_name":"vbezhenar"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1425256234,"creation_date":1425256234,"answer_id":28801041,"question_id":28800913,"body_markdown":"    newStr = str.replaceFirst(&quot;^(http://)?(www\\\\.)?&quot;, &quot;&quot;);\r\n\r\nplease note that `.` in regex means anything so you need to escape it, or you will strip first 4 symbols from `wwwiscool.com` and you probably don&#39;t want that. And you probably want to replace only the first matching prefix.\r\n","title":"Java regex URL prefix removal","body":"<pre><code>newStr = str.replaceFirst(\"^(http://)?(www\\\\.)?\", \"\");\n</code></pre>\n\n<p>please note that <code>.</code> in regex means anything so you need to escape it, or you will strip first 4 symbols from <code>wwwiscool.com</code> and you probably don't want that. And you probably want to replace only the first matching prefix.</p>\n"},{"tags":[],"owner":{"account_id":11010140,"reputation":1058,"user_id":8087820,"display_name":"Bholendra Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679922466,"creation_date":1679922466,"answer_id":75856133,"question_id":28800913,"body_markdown":"   // removing http\r\n            val withOutHttp=contentUrl!!.split(&quot;//&quot;)[1]\r\n\r\n            // removing www.domain.com\r\n            val splitUrl: MutableList&lt;String&gt; = withOutHttp.split(&quot;/&quot;).toMutableList()\r\n            splitUrl.removeAt(0)    // removing the host\r\n\r\n            // adding array to string\r\n            contentUrl=splitUrl.joinToString(&quot;/&quot;)","title":"Java regex URL prefix removal","body":"<p>// removing http\nval withOutHttp=contentUrl!!.split(&quot;//&quot;)[1]</p>\n<pre><code>        // removing www.domain.com\n        val splitUrl: MutableList&lt;String&gt; = withOutHttp.split(&quot;/&quot;).toMutableList()\n        splitUrl.removeAt(0)    // removing the host\n\n        // adding array to string\n        contentUrl=splitUrl.joinToString(&quot;/&quot;)\n</code></pre>\n"}],"owner":{"account_id":5029352,"reputation":3015,"user_id":4040102,"accept_rate":82,"display_name":"VeLKerr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2466,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":28801041,"answer_count":3,"score":0,"last_activity_date":1679922466,"creation_date":1425255362,"question_id":28800913,"body_markdown":"I have a set of URLs. Some of them have a string `www` as substring and some of them haven&#39;t. I need to remove prefixes in each URL. \r\nI tried remove this prefixes using many variants of regexp:\r\n\r\n    newStr = str.replaceAll(&quot;http://|http://www.&quot;, &quot;&quot;);\r\n    newStr = str.replaceAll(&quot;^http://|http://www.$&quot;, &quot;&quot;);\r\n    newStr = str.replaceAll(&quot;http://|http://www.&quot;, &quot;&quot;);\r\nwhere `str` - is an inputted URL string, and `newStr` is the URL after replacement.\r\nEach of these variants replaces only `http://` prefix, but `www.` remains in result. How I can change my regexp to remove `http://` string as well as `http://www.` string?\r\n\r\nI know that I can use `replaceAll()` twice:\r\n\r\n    newStr = str.replaceAll(&quot;http://&quot;, &quot;&quot;).replaceAll(&quot;www.&quot;, &quot;&quot;);\r\n\r\nBut what should I do to remain **one** `replaceAll()` and edit **only** the regular expression?","title":"Java regex URL prefix removal","body":"<p>I have a set of URLs. Some of them have a string <code>www</code> as substring and some of them haven't. I need to remove prefixes in each URL. \nI tried remove this prefixes using many variants of regexp:</p>\n\n<pre><code>newStr = str.replaceAll(\"http://|http://www.\", \"\");\nnewStr = str.replaceAll(\"^http://|http://www.$\", \"\");\nnewStr = str.replaceAll(\"http://|http://www.\", \"\");\n</code></pre>\n\n<p>where <code>str</code> - is an inputted URL string, and <code>newStr</code> is the URL after replacement.\nEach of these variants replaces only <code>http://</code> prefix, but <code>www.</code> remains in result. How I can change my regexp to remove <code>http://</code> string as well as <code>http://www.</code> string?</p>\n\n<p>I know that I can use <code>replaceAll()</code> twice:</p>\n\n<pre><code>newStr = str.replaceAll(\"http://\", \"\").replaceAll(\"www.\", \"\");\n</code></pre>\n\n<p>But what should I do to remain <strong>one</strong> <code>replaceAll()</code> and edit <strong>only</strong> the regular expression?</p>\n"},{"tags":["java","android","multithreading"],"comments":[{"owner":{"account_id":16044057,"reputation":175,"user_id":11579733,"display_name":"Ashish Datley"},"score":0,"creation_date":1679432231,"post_id":75804968,"comment_id":133720875,"body_markdown":"i want achieving textview color should be change of all textview parallelly/uniformly  at same time please help me","body":"i want achieving textview color should be change of all textview parallelly/uniformly  at same time please help me"},{"owner":{"account_id":21896421,"reputation":187,"user_id":17846979,"display_name":"RandomLonelyDev"},"score":0,"creation_date":1679573901,"post_id":75804968,"comment_id":133747669,"body_markdown":"Where in the program are you retrieving data? if that is also on the main thread, try moving it to a background thread.","body":"Where in the program are you retrieving data? if that is also on the main thread, try moving it to a background thread."},{"owner":{"account_id":16044057,"reputation":175,"user_id":11579733,"display_name":"Ashish Datley"},"score":0,"creation_date":1679579647,"post_id":75804968,"comment_id":133749341,"body_markdown":"i have update code with comments please see once again mention where i am retrieving data from firebase and where i am trying to set background color for instant basically trying to achieve change background color  of all text view whenever it update or change values  at same time but its changing only any one text view color randomly","body":"i have update code with comments please see once again mention where i am retrieving data from firebase and where i am trying to set background color for instant basically trying to achieve change background color  of all text view whenever it update or change values  at same time but its changing only any one text view color randomly"},{"owner":{"account_id":21896421,"reputation":187,"user_id":17846979,"display_name":"RandomLonelyDev"},"score":0,"creation_date":1679580095,"post_id":75804968,"comment_id":133749499,"body_markdown":"Have you checked to make sure you are receiving all the data?  If you are, then might I suggest looking into kotlin coroutines?","body":"Have you checked to make sure you are receiving all the data?  If you are, then might I suggest looking into kotlin coroutines?"},{"owner":{"account_id":16044057,"reputation":175,"user_id":11579733,"display_name":"Ashish Datley"},"score":0,"creation_date":1679601265,"post_id":75804968,"comment_id":133755329,"body_markdown":"yes am receiving all data application working fine but all doing on main thread i think and  i want to change background color according vale decease or increase at that time only rest of time should be default color value","body":"yes am receiving all data application working fine but all doing on main thread i think and  i want to change background color according vale decease or increase at that time only rest of time should be default color value"}],"owner":{"account_id":16044057,"reputation":175,"user_id":11579733,"display_name":"Ashish Datley"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679921955,"creation_date":1679422448,"question_id":75804968,"body_markdown":"I am trying to change background color Whenever Text view update but due to updating multiple text view background application stuck and not working due to main thread doing so much working can you help me here is my code how i can execute parallel without stuck application in android? \r\nNote; getting live data from Realtime database when OnStar(); method calls\r\n```\r\n \r\n                  @Override\r\n        public void onStart () {\r\n        super.onStart();\r\n\r\n//retriving data from firebase from here to \r\n\r\n        myRef.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n            try {\r\n\r\n\r\n\r\n                             gold9999rate = dataSnapshot.child(&quot;gold9999&quot;).getValue().toString();\r\n                            //tempgold9999=gold9999rate;\r\n                             gold9950rate = dataSnapshot.child(&quot;gold9950&quot;).getValue().toString();\r\n\r\n                             silver9999rate = dataSnapshot.child(&quot;silver9999&quot;).getValue().toString();\r\n                             silver9950rate = dataSnapshot.child(&quot;silver99&quot;).getValue().toString();\r\n\r\n                             goldcomexbuyrate = dataSnapshot.child(&quot;goldcomexbuy&quot;).getValue().toString();\r\n                             goldcomexsellrate = dataSnapshot.child(&quot;goldcomexsell&quot;).getValue().toString();\r\n                             goldcomexhighrate = dataSnapshot.child(&quot;goldcomexhigh&quot;).getValue().toString();\r\n                             goldcomexlowrate = dataSnapshot.child(&quot;goldcomexlow&quot;).getValue().toString();\r\n\r\n                            silvercomexbuyrate = dataSnapshot.child(&quot;silvercomexbuy&quot;).getValue().toString();\r\n                            silvercomexsellrate = dataSnapshot.child(&quot;silvercomexsell&quot;).getValue().toString();\r\n                            silvercomexhighrate = dataSnapshot.child(&quot;silvercomexhigh&quot;).getValue().toString();\r\n                            silvercomexlowrate = dataSnapshot.child(&quot;silvercomexlow&quot;).getValue().toString();\r\n\r\n                            inrcomexbuyrate = dataSnapshot.child(&quot;inrcomexbuy&quot;).getValue().toString();\r\n                            inrcomexsellrate = dataSnapshot.child(&quot;inrcomexsell&quot;).getValue().toString();\r\n                            inrcomexhighrate = dataSnapshot.child(&quot;inrcomexhigh&quot;).getValue().toString();\r\n                            inrcomexlowrate = dataSnapshot.child(&quot;inrcomexlow&quot;).getValue().toString();\r\n\r\n                            goldmcxbuyrate = dataSnapshot.child(&quot;goldmcxbuy&quot;).getValue().toString();\r\n                            goldmcxsellrate = dataSnapshot.child(&quot;goldmcxsell&quot;).getValue().toString();\r\n                            goldmcxhighrate = dataSnapshot.child(&quot;goldmcxhigh&quot;).getValue().toString();\r\n                            goldmcxlowrate = dataSnapshot.child(&quot;goldmcxlow&quot;).getValue().toString();\r\n\r\n                            silvermcxbuyrate = dataSnapshot.child(&quot;silvermcxbuy&quot;).getValue().toString();\r\n                            silvermcxsellrate = dataSnapshot.child(&quot;silvermcxsell&quot;).getValue().toString();\r\n                            silvermcxhighrate = dataSnapshot.child(&quot;silvermcxhigh&quot;).getValue().toString();\r\n                            silvermcxlowrate = dataSnapshot.child(&quot;silvermcxlow&quot;).getValue().toString();\r\n\r\n//till here then after \r\n//from here i am setting on textview  \r\n                            gold9999.setText(gold9999rate);\r\n\r\n\r\n                            gold9950.setText(gold9950rate);\r\n\r\n                            silver9999.setText(silver9999rate);\r\n                            silver9950.setText(silver9950rate);\r\n                            goldcomexbuy.setText(goldcomexbuyrate);\r\n\r\n\r\n                            goldcomexsell.setText(goldcomexsellrate);\r\n\r\n\r\n                            goldcomexhighlow.setText(goldcomexhighrate + &quot;/&quot; + goldcomexlowrate);\r\n\r\n                            silvercomexbuy.setText(silvercomexbuyrate);\r\n                            silvercomexsell.setText(silvercomexsellrate);\r\n                            silvercomexhighlow.setText(silvercomexhighrate + &quot;/&quot; + silvercomexlowrate);\r\n\r\n                            inrcomexbuy.setText(inrcomexbuyrate);\r\n                            inrcomexsell.setText(inrcomexsellrate);\r\n                            inrcomexhighlow.setText(inrcomexhighrate + &quot;/&quot; + inrcomexlowrate);\r\n\r\n                            mcxgoldbuy.setText(goldmcxbuyrate);\r\n                            mcxgoldsell.setText(goldmcxsellrate);\r\n                            mcxgoldhighlow.setText(goldmcxhighrate + &quot;/&quot; + goldmcxlowrate);\r\n\r\n                            mcxsilverbuy.setText(silvermcxbuyrate);\r\n                            mcxsilversell.setText(silvermcxsellrate);\r\n                            mcxsilverhighlow.setText(silvermcxhighrate + &quot;/&quot; + silvermcxlowrate);\r\n\r\n//till here now after i am trying to convert string value into integer &amp; float after store value in static previous vales compare with next coming values \r\n//here i am trying to using thread for run and  update background with colors \r\n//here i want to achieve change background color without lagg or stuck applcation while changing background color  \r\n  Thread t = new Thread(new Runnable() {\r\n                    public void run() {\r\n\r\n                            prevgold9999 = Integer.parseInt(gold9999rate);\r\n                            prevgold9950 = Integer.parseInt(gold9950rate);\r\n                            prevsilver9999 = Integer.parseInt(silver9999rate);\r\n                            prevsilver9950 = Integer.parseInt(silver9950rate);\r\n                            prevmcxgoldbuy = Integer.parseInt(goldmcxbuyrate);\r\n                            prevmcxgoldsell = Integer.parseInt(goldmcxsellrate);\r\n                            prevmcxsilverbuy = Integer.parseInt(silvermcxbuyrate);\r\n                            prevmcxsilversell = Integer.parseInt(silvermcxsellrate);\r\n                            prevgoldcomexbuy = Float.parseFloat(goldcomexbuyrate);\r\n                            prevgoldcomexsell = Float.parseFloat(goldcomexsellrate);\r\n                            prevsilvercomexbuy = Float.parseFloat(silvercomexbuyrate);\r\n                            prevsilvercomexsell = Float.parseFloat(silvercomexsellrate);\r\n                            previnrcomexbuy = Float.parseFloat(inrcomexbuyrate);\r\n                            previnrcomexsell = Float.parseFloat(inrcomexsellrate);\r\n\r\n                            \r\n\r\n                int nextgold9999=Integer.parseInt(gold9999rate);\r\n                int nextgold9950=Integer.parseInt(gold9950rate);\r\n                int nextsilver9999=Integer.parseInt(silver9999rate);\r\n                int nextsilver9950=Integer.parseInt(silver9950rate);\r\n                int nextmcxgoldbuy=Integer.parseInt(goldmcxbuyrate);\r\n                int nextmcxgoldsell=Integer.parseInt(goldmcxsellrate);\r\n                int nextmcxsilverbuy=Integer.parseInt(silvermcxbuyrate);\r\n                int nextmcxsilversell=Integer.parseInt(silvermcxsellrate);\r\n                float nextgoldcomexbuy= Float.parseFloat(goldcomexbuyrate);\r\n                float nextgoldcomexsell=Float.parseFloat(goldcomexsellrate);\r\n                float nextsilvercomexbuy=Float.parseFloat(silvercomexbuyrate);\r\n                float nextsilvercomexsell=Float.parseFloat(silvercomexsellrate);\r\n                float nextinrcomexbuy=Float.parseFloat(inrcomexbuyrate);\r\n                float  nextinrcomexsell=Float.parseFloat(inrcomexsellrate);\r\n\r\n\r\n                  \r\n requireActivity().runOnUiThread(new Runnable() {\r\n                            public void run() {\r\n\r\n                     \r\n                        gold9999.addTextChangedListener(new TextWatcher() {\r\n                            @Override\r\n                            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                                if (nextgold9999 &gt; prevgold9999) {\r\n                                 \r\n                                    gold9999.setBackgroundColor(getResources().getColor(R.color.rate_green));\r\n                                } else if (nextgold9999 &lt; prevgold9999) {\r\n                                    gold9999.setBackgroundColor(getResources().getColor(R.color.red));\r\n\r\n                                } else if (nextgold9999 == prevgold9999) {\r\n                                    gold9999.setBackgroundColor(getResources().getColor(R.color.bg_navigation_gray));\r\n                                    // \r\n                                }\r\n                                prevgold9999 = nextgold9999;\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void afterTextChanged(Editable editable) {\r\n\r\n                            }\r\n                        });\r\n\r\n                        gold9950.addTextChangedListener(new TextWatcher() {\r\n                            @Override\r\n                            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                                if (nextgold9950 &gt; prevgold9950) {\r\n                                    gold9950.setBackgroundColor(getResources().getColor(R.color.rate_green));\r\n          \r\n                                } else if (nextgold9950 &lt; prevgold9950) {\r\n                                    gold9950.setBackgroundColor(getResources().getColor(R.color.red));\r\n                                    \r\n                                } else if (nextgold9950 == prevgold9950) {\r\n                                    gold9950.setBackgroundColor(getResources().getColor(R.color.bg_navigation_gray));\r\n                                    \r\n                                }\r\n                                prevgold9950 = nextgold9950;\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void afterTextChanged(Editable editable) {\r\n\r\n                            }\r\n                        });\r\n\r\n                        silver9999.addTextChangedListener(new TextWatcher() {\r\n                            @Override\r\n                            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                                if (nextsilver9999 &gt; prevsilver9999) {\r\n                                    silver9999.setBackgroundColor(getResources().getColor(R.color.rate_green));\r\n                                    // \r\n                                } else if (nextsilver9999 &lt; prevsilver9999) {\r\n                                    silver9999.setBackgroundColor(getResources().getColor(R.color.red));\r\n                                    \r\n                                } else if (nextsilver9999 == prevsilver9999) {\r\n                                    silver9999.setBackgroundColor(getResources().getColor(R.color.bg_navigation_gray));\r\n                                   \r\n                                }\r\n                                prevsilver9999 = nextsilver9999;\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void afterTextChanged(Editable editable) {\r\n\r\n                            }\r\n                        });\r\n\r\n                        silver9950.addTextChangedListener(new TextWatcher() {\r\n                            @Override\r\n                            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                                if (nextsilver9950 &gt; prevsilver9950) {\r\n                                    silver9950.setBackgroundColor(getResources().getColor(R.color.rate_green));\r\n                                   \r\n                                } else if (nextsilver9950 &lt; prevsilver9950) {\r\n                                    silver9950.setBackgroundColor(getResources().getColor(R.color.red));\r\n                                    \r\n                                } else if (nextsilver9950 == prevsilver9950) {\r\n                                    silver9950.setBackgroundColor(getResources().getColor(R.color.bg_navigation_gray));\r\n                                    \r\n                                }\r\n                                prevsilver9950 = nextsilver9950;\r\n                            }\r\n\r\n                            @Override\r\n                            public void afterTextChanged(Editable editable) {\r\n\r\n                            }\r\n                        });\r\n\r\n                        mcxgoldbuy.addTextChangedListener(new TextWatcher() {\r\n                            @Override\r\n                            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                                if (nextmcxgoldbuy &gt; prevmcxgoldbuy) {\r\n                                    mcxgoldbuy.setBackgroundColor(getResources().getColor(R.color.rate_green));\r\n                                    \r\n                                } else if (nextmcxgoldbuy &lt; prevmcxgoldbuy) {\r\n                                    mcxgoldbuy.setBackgroundColor(getResources().getColor(R.color.red));\r\n                                    \r\n                                } else if (nextmcxgoldbuy == prevmcxgoldbuy) {\r\n                                    mcxgoldbuy.setBackgroundColor(getResources().getColor(R.color.bg_navigation_gray));\r\n                                    \r\n                                }\r\n                                prevmcxgoldbuy = nextmcxgoldbuy;\r\n                            }\r\n\r\n                            @Override\r\n                            public void afterTextChanged(Editable editable) {\r\n\r\n                            }\r\n                        });\r\n\r\n                        mcxgoldsell.addTextChangedListener(new TextWatcher() {\r\n                            @Override\r\n                            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                                if (nextmcxgoldsell &gt; prevmcxgoldsell) {\r\n                                    mcxgoldsell.setBackgroundColor(getResources().getColor(R.color.rate_green));\r\n                                    \r\n                                } else if (nextmcxgoldsell &lt; prevmcxgoldsell) {\r\n                                    mcxgoldsell.setBackgroundColor(getResources().getColor(R.color.red));\r\n                                    \r\n                                } else if (nextmcxgoldsell == prevmcxgoldsell) {\r\n                                    mcxgoldsell.setBackgroundColor(getResources().getColor(R.color.bg_navigation_gray));\r\n                                    \r\n                                }\r\n                                prevmcxgoldsell = nextmcxgoldsell;\r\n                            }\r\n\r\n                            @Override\r\n                            public void afterTextChanged(Editable editable) {\r\n\r\n                            }\r\n                        });\r\n\r\n\r\n                        mcxsilverbuy.addTextChangedListener(new TextWatcher() {\r\n                            @Override\r\n                            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                                if (nextmcxsilverbuy &gt; prevmcxsilverbuy) {\r\n                                    mcxsilverbuy.setBackgroundColor(getResources().getColor(R.color.rate_green));\r\n                                    \r\n                                } else if (nextmcxsilverbuy &lt; prevmcxsilverbuy) {\r\n                                    mcxsilverbuy.setBackgroundColor(getResources().getColor(R.color.red));\r\n                                    \r\n                                } else if (nextmcxsilverbuy == prevmcxsilverbuy) {\r\n                                    mcxsilverbuy.setBackgroundColor(getResources().getColor(R.color.bg_navigation_gray));\r\n                                    \r\n                                }\r\n                                prevmcxsilverbuy = nextmcxsilverbuy;\r\n                            }\r\n\r\n                            @Override\r\n                            public void afterTextChanged(Editable editable) {\r\n\r\n                            }\r\n                        });\r\n\r\n                        mcxsilversell.addTextChangedListener(new TextWatcher() {\r\n                            @Override\r\n                            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                                if (nextmcxsilversell &gt; prevmcxsilversell) {\r\n                                    mcxsilversell.setBackgroundColor(getResources().getColor(R.color.rate_green));\r\n                                    \r\n                                } else if (nextmcxsilversell &lt; prevmcxsilversell) {\r\n                                    mcxsilversell.setBackgroundColor(getResources().getColor(R.color.red));\r\n                                    \r\n                                } else if (nextmcxsilversell == prevmcxsilversell) {\r\n                                    mcxsilversell.setBackgroundColor(getResources().getColor(R.color.bg_navigation_gray));\r\n                                    \r\n                                }\r\n                                prevmcxsilversell = nextmcxsilversell;\r\n                            }\r\n\r\n                            @Override\r\n                            public void afterTextChanged(Editable editable) {\r\n\r\n                            }\r\n                        });\r\n\r\n                        goldcomexbuy.addTextChangedListener(new TextWatcher() {\r\n                            @Override\r\n                            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                                if (nextgoldcomexbuy &gt; prevgoldcomexbuy) {\r\n                                    goldcomexbuy.setBackgroundColor(getResources().getColor(R.color.rate_green));\r\n                                    \r\n                                } else if (nextgoldcomexbuy &lt; prevgoldcomexbuy) {\r\n                                    goldcomexbuy.setBackgroundColor(getResources().getColor(R.color.red));\r\n                                  \r\n                                } else if (nextgoldcomexbuy == prevgoldcomexbuy) {\r\n                                    goldcomexbuy.setBackgroundColor(getResources().getColor(R.color.bg_navigation_gray));\r\n                                    \r\n                                }\r\n                                prevgoldcomexbuy = nextgoldcomexbuy;\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void afterTextChanged(Editable editable) {\r\n\r\n                            }\r\n                        });\r\n\r\n\r\n                        goldcomexsell.addTextChangedListener(new TextWatcher() {\r\n                            @Override\r\n                            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                                if (nextgoldcomexsell &gt; prevgoldcomexsell) {\r\n                                    goldcomexsell.setBackgroundColor(getResources().getColor(R.color.rate_green));\r\n                                    \r\n                                } else if (nextgoldcomexsell &lt; prevgoldcomexsell) {\r\n                                    goldcomexsell.setBackgroundColor(getResources().getColor(R.color.red));\r\n                                    \r\n                                } else if (nextgoldcomexsell == prevgoldcomexsell) {\r\n                                    goldcomexsell.setBackgroundColor(getResources().getColor(R.color.bg_navigation_gray));\r\n                                    \r\n                                }\r\n                                prevgoldcomexsell = nextgoldcomexsell;\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void afterTextChanged(Editable editable) {\r\n\r\n                            }\r\n                        });\r\n\r\n                        silvercomexbuy.addTextChangedListener(new TextWatcher() {\r\n                            @Override\r\n                            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                                if (nextsilvercomexbuy &gt; prevsilvercomexbuy) {\r\n                                    silvercomexbuy.setBackgroundColor(getResources().getColor(R.color.rate_green));\r\n                                    \r\n                                } else if (nextsilvercomexbuy &lt; prevsilvercomexbuy) {\r\n                                    silvercomexbuy.setBackgroundColor(getResources().getColor(R.color.red));\r\n                                    \r\n                                } else if (nextsilvercomexbuy == prevsilvercomexbuy) {\r\n                                    silvercomexbuy.setBackgroundColor(getResources().getColor(R.color.bg_navigation_gray));\r\n                                    \r\n                                }\r\n                                prevsilvercomexbuy = nextsilvercomexbuy;\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void afterTextChanged(Editable editable) {\r\n\r\n                            }\r\n                        });\r\n\r\n                        silvercomexsell.addTextChangedListener(new TextWatcher() {\r\n                            @Override\r\n                            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                                if (nextsilvercomexsell &gt; prevsilvercomexsell) {\r\n                                    silvercomexsell.setBackgroundColor(getResources().getColor(R.color.rate_green));\r\n                                    \r\n                                } else if (nextsilvercomexsell &lt; prevsilvercomexsell) {\r\n                                    silvercomexsell.setBackgroundColor(getResources().getColor(R.color.red));\r\n\r\n 1. `List item`\r\n\r\n                                    \r\n                                } else if (nextsilvercomexsell == prevsilvercomexsell) {\r\n                                    silvercomexsell.setBackgroundColor(getResources().getColor(R.color.bg_navigation_gray));\r\n                                    \r\n                                }\r\n                                prevsilvercomexsell = nextsilvercomexsell;\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void afterTextChanged(Editable editable) {\r\n\r\n                            }\r\n                        });\r\n\r\n                        inrcomexbuy.addTextChangedListener(new TextWatcher() {\r\n                            @Override\r\n                            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                                if (nextinrcomexbuy &gt; previnrcomexbuy) {\r\n                                    inrcomexbuy.setBackgroundColor(getResources().getColor(R.color.rate_green));\r\n                                    \r\n                                } else if (nextinrcomexbuy &lt; previnrcomexbuy) {\r\n                                    inrcomexbuy.setBackgroundColor(getResources().getColor(R.color.red));\r\n                                    \r\n                                } else if (nextinrcomexbuy == previnrcomexbuy) {\r\n                                    inrcomexbuy.setBackgroundColor(getResources().getColor(R.color.bg_navigation_gray));\r\n                                                                    }\r\n                                previnrcomexbuy = nextinrcomexbuy;\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void afterTextChanged(Editable editable) {\r\n\r\n                            }\r\n                        });\r\n\r\n                        inrcomexsell.addTextChangedListener(new TextWatcher() {\r\n                            @Override\r\n                            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                                if (nextinrcomexsell &gt; previnrcomexsell) {\r\n                                    inrcomexsell.setBackgroundColor(getResources().getColor(R.color.rate_green));\r\n                                    \r\n                                } else if (nextinrcomexsell &lt; previnrcomexsell) {\r\n                                    inrcomexsell.setBackgroundColor(getResources().getColor(R.color.red));\r\n                                    \r\n                                } else if (nextinrcomexsell == previnrcomexsell) {\r\n                                    inrcomexsell.setBackgroundColor(getResources().getColor(R.color.bg_navigation_gray));\r\n                                    \r\n                                }\r\n                                previnrcomexsell = nextinrcomexsell;\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void afterTextChanged(Editable editable) {\r\n\r\n                            }\r\n                        });\r\n              }\r\n                        \r\n                });\r\n\r\n                    }\r\n                     });\r\n                        t.start();\r\n\r\n\r\n\r\n            }catch (Exception e){\r\n\r\n                e.printStackTrace();\r\n\r\n\r\n            }\r\n\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError databaseError) {\r\n                    Log.i(&quot;TAP&quot;,&quot;something wrong&quot;);\r\n                    String err=databaseError.toString();\r\n                    Toast toast=Toast.makeText(getContext(), err, Toast.LENGTH_SHORT);\r\n                    toast.setMargin(50,50);\r\n                    toast.show();\r\n\r\n                }\r\n            });\r\n\r\n        }       \r\n```","title":"How to change or trigger back ground color whenever multiple text view change/update Asynchronies?","body":"<p>I am trying to change background color Whenever Text view update but due to updating multiple text view background application stuck and not working due to main thread doing so much working can you help me here is my code how i can execute parallel without stuck application in android?\nNote; getting live data from Realtime database when OnStar(); method calls</p>\n<pre><code> \n                  @Override\n        public void onStart () {\n        super.onStart();\n\n//retriving data from firebase from here to \n\n        myRef.addValueEventListener(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n            try {\n\n\n\n                             gold9999rate = dataSnapshot.child(&quot;gold9999&quot;).getValue().toString();\n                            //tempgold9999=gold9999rate;\n                             gold9950rate = dataSnapshot.child(&quot;gold9950&quot;).getValue().toString();\n\n                             silver9999rate = dataSnapshot.child(&quot;silver9999&quot;).getValue().toString();\n                             silver9950rate = dataSnapshot.child(&quot;silver99&quot;).getValue().toString();\n\n                             goldcomexbuyrate = dataSnapshot.child(&quot;goldcomexbuy&quot;).getValue().toString();\n                             goldcomexsellrate = dataSnapshot.child(&quot;goldcomexsell&quot;).getValue().toString();\n                             goldcomexhighrate = dataSnapshot.child(&quot;goldcomexhigh&quot;).getValue().toString();\n                             goldcomexlowrate = dataSnapshot.child(&quot;goldcomexlow&quot;).getValue().toString();\n\n                            silvercomexbuyrate = dataSnapshot.child(&quot;silvercomexbuy&quot;).getValue().toString();\n                            silvercomexsellrate = dataSnapshot.child(&quot;silvercomexsell&quot;).getValue().toString();\n                            silvercomexhighrate = dataSnapshot.child(&quot;silvercomexhigh&quot;).getValue().toString();\n                            silvercomexlowrate = dataSnapshot.child(&quot;silvercomexlow&quot;).getValue().toString();\n\n                            inrcomexbuyrate = dataSnapshot.child(&quot;inrcomexbuy&quot;).getValue().toString();\n                            inrcomexsellrate = dataSnapshot.child(&quot;inrcomexsell&quot;).getValue().toString();\n                            inrcomexhighrate = dataSnapshot.child(&quot;inrcomexhigh&quot;).getValue().toString();\n                            inrcomexlowrate = dataSnapshot.child(&quot;inrcomexlow&quot;).getValue().toString();\n\n                            goldmcxbuyrate = dataSnapshot.child(&quot;goldmcxbuy&quot;).getValue().toString();\n                            goldmcxsellrate = dataSnapshot.child(&quot;goldmcxsell&quot;).getValue().toString();\n                            goldmcxhighrate = dataSnapshot.child(&quot;goldmcxhigh&quot;).getValue().toString();\n                            goldmcxlowrate = dataSnapshot.child(&quot;goldmcxlow&quot;).getValue().toString();\n\n                            silvermcxbuyrate = dataSnapshot.child(&quot;silvermcxbuy&quot;).getValue().toString();\n                            silvermcxsellrate = dataSnapshot.child(&quot;silvermcxsell&quot;).getValue().toString();\n                            silvermcxhighrate = dataSnapshot.child(&quot;silvermcxhigh&quot;).getValue().toString();\n                            silvermcxlowrate = dataSnapshot.child(&quot;silvermcxlow&quot;).getValue().toString();\n\n//till here then after \n//from here i am setting on textview  \n                            gold9999.setText(gold9999rate);\n\n\n                            gold9950.setText(gold9950rate);\n\n                            silver9999.setText(silver9999rate);\n                            silver9950.setText(silver9950rate);\n                            goldcomexbuy.setText(goldcomexbuyrate);\n\n\n                            goldcomexsell.setText(goldcomexsellrate);\n\n\n                            goldcomexhighlow.setText(goldcomexhighrate + &quot;/&quot; + goldcomexlowrate);\n\n                            silvercomexbuy.setText(silvercomexbuyrate);\n                            silvercomexsell.setText(silvercomexsellrate);\n                            silvercomexhighlow.setText(silvercomexhighrate + &quot;/&quot; + silvercomexlowrate);\n\n                            inrcomexbuy.setText(inrcomexbuyrate);\n                            inrcomexsell.setText(inrcomexsellrate);\n                            inrcomexhighlow.setText(inrcomexhighrate + &quot;/&quot; + inrcomexlowrate);\n\n                            mcxgoldbuy.setText(goldmcxbuyrate);\n                            mcxgoldsell.setText(goldmcxsellrate);\n                            mcxgoldhighlow.setText(goldmcxhighrate + &quot;/&quot; + goldmcxlowrate);\n\n                            mcxsilverbuy.setText(silvermcxbuyrate);\n                            mcxsilversell.setText(silvermcxsellrate);\n                            mcxsilverhighlow.setText(silvermcxhighrate + &quot;/&quot; + silvermcxlowrate);\n\n//till here now after i am trying to convert string value into integer &amp; float after store value in static previous vales compare with next coming values \n//here i am trying to using thread for run and  update background with colors \n//here i want to achieve change background color without lagg or stuck applcation while changing background color  \n  Thread t = new Thread(new Runnable() {\n                    public void run() {\n\n                            prevgold9999 = Integer.parseInt(gold9999rate);\n                            prevgold9950 = Integer.parseInt(gold9950rate);\n                            prevsilver9999 = Integer.parseInt(silver9999rate);\n                            prevsilver9950 = Integer.parseInt(silver9950rate);\n                            prevmcxgoldbuy = Integer.parseInt(goldmcxbuyrate);\n                            prevmcxgoldsell = Integer.parseInt(goldmcxsellrate);\n                            prevmcxsilverbuy = Integer.parseInt(silvermcxbuyrate);\n                            prevmcxsilversell = Integer.parseInt(silvermcxsellrate);\n                            prevgoldcomexbuy = Float.parseFloat(goldcomexbuyrate);\n                            prevgoldcomexsell = Float.parseFloat(goldcomexsellrate);\n                            prevsilvercomexbuy = Float.parseFloat(silvercomexbuyrate);\n                            prevsilvercomexsell = Float.parseFloat(silvercomexsellrate);\n                            previnrcomexbuy = Float.parseFloat(inrcomexbuyrate);\n                            previnrcomexsell = Float.parseFloat(inrcomexsellrate);\n\n                            \n\n                int nextgold9999=Integer.parseInt(gold9999rate);\n                int nextgold9950=Integer.parseInt(gold9950rate);\n                int nextsilver9999=Integer.parseInt(silver9999rate);\n                int nextsilver9950=Integer.parseInt(silver9950rate);\n                int nextmcxgoldbuy=Integer.parseInt(goldmcxbuyrate);\n                int nextmcxgoldsell=Integer.parseInt(goldmcxsellrate);\n                int nextmcxsilverbuy=Integer.parseInt(silvermcxbuyrate);\n                int nextmcxsilversell=Integer.parseInt(silvermcxsellrate);\n                float nextgoldcomexbuy= Float.parseFloat(goldcomexbuyrate);\n                float nextgoldcomexsell=Float.parseFloat(goldcomexsellrate);\n                float nextsilvercomexbuy=Float.parseFloat(silvercomexbuyrate);\n                float nextsilvercomexsell=Float.parseFloat(silvercomexsellrate);\n                float nextinrcomexbuy=Float.parseFloat(inrcomexbuyrate);\n                float  nextinrcomexsell=Float.parseFloat(inrcomexsellrate);\n\n\n                  \n requireActivity().runOnUiThread(new Runnable() {\n                            public void run() {\n\n                     \n                        gold9999.addTextChangedListener(new TextWatcher() {\n                            @Override\n                            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                            }\n\n                            @Override\n                            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                                if (nextgold9999 &gt; prevgold9999) {\n                                 \n                                    gold9999.setBackgroundColor(getResources().getColor(R.color.rate_green));\n                                } else if (nextgold9999 &lt; prevgold9999) {\n                                    gold9999.setBackgroundColor(getResources().getColor(R.color.red));\n\n                                } else if (nextgold9999 == prevgold9999) {\n                                    gold9999.setBackgroundColor(getResources().getColor(R.color.bg_navigation_gray));\n                                    // \n                                }\n                                prevgold9999 = nextgold9999;\n\n                            }\n\n                            @Override\n                            public void afterTextChanged(Editable editable) {\n\n                            }\n                        });\n\n                        gold9950.addTextChangedListener(new TextWatcher() {\n                            @Override\n                            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                            }\n\n                            @Override\n                            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                                if (nextgold9950 &gt; prevgold9950) {\n                                    gold9950.setBackgroundColor(getResources().getColor(R.color.rate_green));\n          \n                                } else if (nextgold9950 &lt; prevgold9950) {\n                                    gold9950.setBackgroundColor(getResources().getColor(R.color.red));\n                                    \n                                } else if (nextgold9950 == prevgold9950) {\n                                    gold9950.setBackgroundColor(getResources().getColor(R.color.bg_navigation_gray));\n                                    \n                                }\n                                prevgold9950 = nextgold9950;\n\n                            }\n\n                            @Override\n                            public void afterTextChanged(Editable editable) {\n\n                            }\n                        });\n\n                        silver9999.addTextChangedListener(new TextWatcher() {\n                            @Override\n                            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                            }\n\n                            @Override\n                            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                                if (nextsilver9999 &gt; prevsilver9999) {\n                                    silver9999.setBackgroundColor(getResources().getColor(R.color.rate_green));\n                                    // \n                                } else if (nextsilver9999 &lt; prevsilver9999) {\n                                    silver9999.setBackgroundColor(getResources().getColor(R.color.red));\n                                    \n                                } else if (nextsilver9999 == prevsilver9999) {\n                                    silver9999.setBackgroundColor(getResources().getColor(R.color.bg_navigation_gray));\n                                   \n                                }\n                                prevsilver9999 = nextsilver9999;\n\n                            }\n\n                            @Override\n                            public void afterTextChanged(Editable editable) {\n\n                            }\n                        });\n\n                        silver9950.addTextChangedListener(new TextWatcher() {\n                            @Override\n                            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                            }\n\n                            @Override\n                            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                                if (nextsilver9950 &gt; prevsilver9950) {\n                                    silver9950.setBackgroundColor(getResources().getColor(R.color.rate_green));\n                                   \n                                } else if (nextsilver9950 &lt; prevsilver9950) {\n                                    silver9950.setBackgroundColor(getResources().getColor(R.color.red));\n                                    \n                                } else if (nextsilver9950 == prevsilver9950) {\n                                    silver9950.setBackgroundColor(getResources().getColor(R.color.bg_navigation_gray));\n                                    \n                                }\n                                prevsilver9950 = nextsilver9950;\n                            }\n\n                            @Override\n                            public void afterTextChanged(Editable editable) {\n\n                            }\n                        });\n\n                        mcxgoldbuy.addTextChangedListener(new TextWatcher() {\n                            @Override\n                            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                            }\n\n                            @Override\n                            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                                if (nextmcxgoldbuy &gt; prevmcxgoldbuy) {\n                                    mcxgoldbuy.setBackgroundColor(getResources().getColor(R.color.rate_green));\n                                    \n                                } else if (nextmcxgoldbuy &lt; prevmcxgoldbuy) {\n                                    mcxgoldbuy.setBackgroundColor(getResources().getColor(R.color.red));\n                                    \n                                } else if (nextmcxgoldbuy == prevmcxgoldbuy) {\n                                    mcxgoldbuy.setBackgroundColor(getResources().getColor(R.color.bg_navigation_gray));\n                                    \n                                }\n                                prevmcxgoldbuy = nextmcxgoldbuy;\n                            }\n\n                            @Override\n                            public void afterTextChanged(Editable editable) {\n\n                            }\n                        });\n\n                        mcxgoldsell.addTextChangedListener(new TextWatcher() {\n                            @Override\n                            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                            }\n\n                            @Override\n                            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                                if (nextmcxgoldsell &gt; prevmcxgoldsell) {\n                                    mcxgoldsell.setBackgroundColor(getResources().getColor(R.color.rate_green));\n                                    \n                                } else if (nextmcxgoldsell &lt; prevmcxgoldsell) {\n                                    mcxgoldsell.setBackgroundColor(getResources().getColor(R.color.red));\n                                    \n                                } else if (nextmcxgoldsell == prevmcxgoldsell) {\n                                    mcxgoldsell.setBackgroundColor(getResources().getColor(R.color.bg_navigation_gray));\n                                    \n                                }\n                                prevmcxgoldsell = nextmcxgoldsell;\n                            }\n\n                            @Override\n                            public void afterTextChanged(Editable editable) {\n\n                            }\n                        });\n\n\n                        mcxsilverbuy.addTextChangedListener(new TextWatcher() {\n                            @Override\n                            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                            }\n\n                            @Override\n                            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                                if (nextmcxsilverbuy &gt; prevmcxsilverbuy) {\n                                    mcxsilverbuy.setBackgroundColor(getResources().getColor(R.color.rate_green));\n                                    \n                                } else if (nextmcxsilverbuy &lt; prevmcxsilverbuy) {\n                                    mcxsilverbuy.setBackgroundColor(getResources().getColor(R.color.red));\n                                    \n                                } else if (nextmcxsilverbuy == prevmcxsilverbuy) {\n                                    mcxsilverbuy.setBackgroundColor(getResources().getColor(R.color.bg_navigation_gray));\n                                    \n                                }\n                                prevmcxsilverbuy = nextmcxsilverbuy;\n                            }\n\n                            @Override\n                            public void afterTextChanged(Editable editable) {\n\n                            }\n                        });\n\n                        mcxsilversell.addTextChangedListener(new TextWatcher() {\n                            @Override\n                            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                            }\n\n                            @Override\n                            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                                if (nextmcxsilversell &gt; prevmcxsilversell) {\n                                    mcxsilversell.setBackgroundColor(getResources().getColor(R.color.rate_green));\n                                    \n                                } else if (nextmcxsilversell &lt; prevmcxsilversell) {\n                                    mcxsilversell.setBackgroundColor(getResources().getColor(R.color.red));\n                                    \n                                } else if (nextmcxsilversell == prevmcxsilversell) {\n                                    mcxsilversell.setBackgroundColor(getResources().getColor(R.color.bg_navigation_gray));\n                                    \n                                }\n                                prevmcxsilversell = nextmcxsilversell;\n                            }\n\n                            @Override\n                            public void afterTextChanged(Editable editable) {\n\n                            }\n                        });\n\n                        goldcomexbuy.addTextChangedListener(new TextWatcher() {\n                            @Override\n                            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                            }\n\n                            @Override\n                            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                                if (nextgoldcomexbuy &gt; prevgoldcomexbuy) {\n                                    goldcomexbuy.setBackgroundColor(getResources().getColor(R.color.rate_green));\n                                    \n                                } else if (nextgoldcomexbuy &lt; prevgoldcomexbuy) {\n                                    goldcomexbuy.setBackgroundColor(getResources().getColor(R.color.red));\n                                  \n                                } else if (nextgoldcomexbuy == prevgoldcomexbuy) {\n                                    goldcomexbuy.setBackgroundColor(getResources().getColor(R.color.bg_navigation_gray));\n                                    \n                                }\n                                prevgoldcomexbuy = nextgoldcomexbuy;\n\n                            }\n\n                            @Override\n                            public void afterTextChanged(Editable editable) {\n\n                            }\n                        });\n\n\n                        goldcomexsell.addTextChangedListener(new TextWatcher() {\n                            @Override\n                            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                            }\n\n                            @Override\n                            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                                if (nextgoldcomexsell &gt; prevgoldcomexsell) {\n                                    goldcomexsell.setBackgroundColor(getResources().getColor(R.color.rate_green));\n                                    \n                                } else if (nextgoldcomexsell &lt; prevgoldcomexsell) {\n                                    goldcomexsell.setBackgroundColor(getResources().getColor(R.color.red));\n                                    \n                                } else if (nextgoldcomexsell == prevgoldcomexsell) {\n                                    goldcomexsell.setBackgroundColor(getResources().getColor(R.color.bg_navigation_gray));\n                                    \n                                }\n                                prevgoldcomexsell = nextgoldcomexsell;\n\n                            }\n\n                            @Override\n                            public void afterTextChanged(Editable editable) {\n\n                            }\n                        });\n\n                        silvercomexbuy.addTextChangedListener(new TextWatcher() {\n                            @Override\n                            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                            }\n\n                            @Override\n                            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                                if (nextsilvercomexbuy &gt; prevsilvercomexbuy) {\n                                    silvercomexbuy.setBackgroundColor(getResources().getColor(R.color.rate_green));\n                                    \n                                } else if (nextsilvercomexbuy &lt; prevsilvercomexbuy) {\n                                    silvercomexbuy.setBackgroundColor(getResources().getColor(R.color.red));\n                                    \n                                } else if (nextsilvercomexbuy == prevsilvercomexbuy) {\n                                    silvercomexbuy.setBackgroundColor(getResources().getColor(R.color.bg_navigation_gray));\n                                    \n                                }\n                                prevsilvercomexbuy = nextsilvercomexbuy;\n\n                            }\n\n                            @Override\n                            public void afterTextChanged(Editable editable) {\n\n                            }\n                        });\n\n                        silvercomexsell.addTextChangedListener(new TextWatcher() {\n                            @Override\n                            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                            }\n\n                            @Override\n                            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                                if (nextsilvercomexsell &gt; prevsilvercomexsell) {\n                                    silvercomexsell.setBackgroundColor(getResources().getColor(R.color.rate_green));\n                                    \n                                } else if (nextsilvercomexsell &lt; prevsilvercomexsell) {\n                                    silvercomexsell.setBackgroundColor(getResources().getColor(R.color.red));\n\n 1. `List item`\n\n                                    \n                                } else if (nextsilvercomexsell == prevsilvercomexsell) {\n                                    silvercomexsell.setBackgroundColor(getResources().getColor(R.color.bg_navigation_gray));\n                                    \n                                }\n                                prevsilvercomexsell = nextsilvercomexsell;\n\n                            }\n\n                            @Override\n                            public void afterTextChanged(Editable editable) {\n\n                            }\n                        });\n\n                        inrcomexbuy.addTextChangedListener(new TextWatcher() {\n                            @Override\n                            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                            }\n\n                            @Override\n                            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                                if (nextinrcomexbuy &gt; previnrcomexbuy) {\n                                    inrcomexbuy.setBackgroundColor(getResources().getColor(R.color.rate_green));\n                                    \n                                } else if (nextinrcomexbuy &lt; previnrcomexbuy) {\n                                    inrcomexbuy.setBackgroundColor(getResources().getColor(R.color.red));\n                                    \n                                } else if (nextinrcomexbuy == previnrcomexbuy) {\n                                    inrcomexbuy.setBackgroundColor(getResources().getColor(R.color.bg_navigation_gray));\n                                                                    }\n                                previnrcomexbuy = nextinrcomexbuy;\n\n                            }\n\n                            @Override\n                            public void afterTextChanged(Editable editable) {\n\n                            }\n                        });\n\n                        inrcomexsell.addTextChangedListener(new TextWatcher() {\n                            @Override\n                            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                            }\n\n                            @Override\n                            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                                if (nextinrcomexsell &gt; previnrcomexsell) {\n                                    inrcomexsell.setBackgroundColor(getResources().getColor(R.color.rate_green));\n                                    \n                                } else if (nextinrcomexsell &lt; previnrcomexsell) {\n                                    inrcomexsell.setBackgroundColor(getResources().getColor(R.color.red));\n                                    \n                                } else if (nextinrcomexsell == previnrcomexsell) {\n                                    inrcomexsell.setBackgroundColor(getResources().getColor(R.color.bg_navigation_gray));\n                                    \n                                }\n                                previnrcomexsell = nextinrcomexsell;\n\n                            }\n\n                            @Override\n                            public void afterTextChanged(Editable editable) {\n\n                            }\n                        });\n              }\n                        \n                });\n\n                    }\n                     });\n                        t.start();\n\n\n\n            }catch (Exception e){\n\n                e.printStackTrace();\n\n\n            }\n\n\n                }\n\n                @Override\n                public void onCancelled(@NonNull DatabaseError databaseError) {\n                    Log.i(&quot;TAP&quot;,&quot;something wrong&quot;);\n                    String err=databaseError.toString();\n                    Toast toast=Toast.makeText(getContext(), err, Toast.LENGTH_SHORT);\n                    toast.setMargin(50,50);\n                    toast.show();\n\n                }\n            });\n\n        }       \n</code></pre>\n"},{"tags":["java","bufferedreader","lines"],"answers":[{"tags":[],"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1412589422,"creation_date":1412589422,"answer_id":26213845,"question_id":26213837,"body_markdown":"You are reading the line twice..\r\n\r\n    while ((read = in.readLine()) != null) { // here\r\n                read = in.readLine();      // and here\r\n\r\n","title":"BufferedReader is skipping every other line when reading my file in java","body":"<p>You are reading the line twice..</p>\n\n<pre><code>while ((read = in.readLine()) != null) { // here\n            read = in.readLine();      // and here\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5133345,"reputation":450,"user_id":4112836,"display_name":"Tal.Bary"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1412589711,"creation_date":1412589711,"answer_id":26213919,"question_id":26213837,"body_markdown":"You have error here: \r\n\r\n    while ((read = in.readLine()) != null) \r\n     read = in.readLine();\r\n\r\nyou should keep the read = in.readLine() in the while. and remove the other line.\r\n\r\n\r\n","title":"BufferedReader is skipping every other line when reading my file in java","body":"<p>You have error here: </p>\n\n<pre><code>while ((read = in.readLine()) != null) \n read = in.readLine();\n</code></pre>\n\n<p>you should keep the read = in.readLine() in the while. and remove the other line.</p>\n"},{"comments":[{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":0,"creation_date":1412590576,"post_id":26214058,"comment_id":41110185,"body_markdown":"Where is the answer here?","body":"Where is the answer here?"}],"tags":[],"owner":{"account_id":4669829,"reputation":55,"user_id":3781876,"display_name":"user3781876"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1412591472,"creation_date":1412590225,"answer_id":26214058,"question_id":26213837,"body_markdown":"pl try this  \r\n\r\nyou r using &quot;read = in.readLine())&quot; two times in while loop that why it is skiping the lomes\r\n\r\n  \r\n\r\n    public ArrayList&lt;String&gt; read(int checkDay, int checkMonth, int checkYear) {\r\n            ArrayList&lt;String&gt; events = new ArrayList&lt;String&gt;();\r\n            BufferedReader in = null;\r\n            String read;\r\n            try {\r\n                in = new BufferedReader(new FileReader(&quot;calendar.txt&quot;));\r\n                while ((read = in.readLine()) != null) {\r\n                        \r\n                    String[] split = read.split(&quot;,&quot;);\r\n                    System.out.println(read);\r\n        \r\n                    if (split[0].equals(Integer.toString(checkDay)) &amp;&amp; split[1].equals(Integer.toString(checkMonth)) &amp;&amp; split[2].equals(Integer.toString(checkYear))) {\r\n                        events.add(split[0] + &quot; : &quot; + split[1] + &quot;/&quot; + split[2] + &quot;/&quot; + split[3]);\r\n                    }\r\n        \r\n                }\r\n            } catch (IOException e) {\r\n                System.out.println(&quot;There was a problem: &quot; + e);\r\n                e.printStackTrace();\r\n        \r\n            } finally {\r\n                try {\r\n                    in.close();\r\n                } catch (Exception e) {\r\n                }\r\n        \r\n            }\r\n            return events;\r\n\r\n","title":"BufferedReader is skipping every other line when reading my file in java","body":"<p>pl try this  </p>\n\n<p>you r using \"read = in.readLine())\" two times in while loop that why it is skiping the lomes</p>\n\n<pre><code>public ArrayList&lt;String&gt; read(int checkDay, int checkMonth, int checkYear) {\n        ArrayList&lt;String&gt; events = new ArrayList&lt;String&gt;();\n        BufferedReader in = null;\n        String read;\n        try {\n            in = new BufferedReader(new FileReader(\"calendar.txt\"));\n            while ((read = in.readLine()) != null) {\n\n                String[] split = read.split(\",\");\n                System.out.println(read);\n\n                if (split[0].equals(Integer.toString(checkDay)) &amp;&amp; split[1].equals(Integer.toString(checkMonth)) &amp;&amp; split[2].equals(Integer.toString(checkYear))) {\n                    events.add(split[0] + \" : \" + split[1] + \"/\" + split[2] + \"/\" + split[3]);\n                }\n\n            }\n        } catch (IOException e) {\n            System.out.println(\"There was a problem: \" + e);\n            e.printStackTrace();\n\n        } finally {\n            try {\n                in.close();\n            } catch (Exception e) {\n            }\n\n        }\n        return events;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14064729,"reputation":111,"user_id":10159895,"display_name":"Jayant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679921665,"creation_date":1679921665,"answer_id":75856000,"question_id":26213837,"body_markdown":"may be usage of &quot;next()&quot; over &quot;nextLine()&quot; should resolve the issue:\r\n\r\n    System.out.println(&quot;Enter Emp ID: &quot;);\r\n\t\t\teid = scanner.nextInt();\r\n\r\n\t\t\tSystem.out.println(&quot;Enter Emp Name:&quot;);\r\n\t\t\tename = scanner.next();\r\n\r\n\t\t\tSystem.out.println(&quot;Enter Emp Salary:&quot;);\r\n\t\t\tesal = scanner.nextFloat();\r\n\r\n\t\t\tSystem.out.println(&quot;Enter Emp Address:&quot;);\r\n\t\t\teaddr = scanner.next();","title":"BufferedReader is skipping every other line when reading my file in java","body":"<p>may be usage of &quot;next()&quot; over &quot;nextLine()&quot; should resolve the issue:</p>\n<pre><code>System.out.println(&quot;Enter Emp ID: &quot;);\n        eid = scanner.nextInt();\n\n        System.out.println(&quot;Enter Emp Name:&quot;);\n        ename = scanner.next();\n\n        System.out.println(&quot;Enter Emp Salary:&quot;);\n        esal = scanner.nextFloat();\n\n        System.out.println(&quot;Enter Emp Address:&quot;);\n        eaddr = scanner.next();\n</code></pre>\n"}],"owner":{"account_id":5133318,"reputation":41,"user_id":4112812,"display_name":"Danny Radziewicz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9119,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1679921665,"creation_date":1412589379,"question_id":26213837,"body_markdown":"So Im working of reading a file containing appointments that I wrote to earlier in my code. I want to sift through the text file and find appointments on a certain date and add them to an ArrayList but when the BufferedReader goes through it, it skips ever other line... Heres my code\r\n\r\n    public ArrayList&lt;String&gt; read(int checkDay, int checkMonth, int checkYear) {\r\n\t\tArrayList&lt;String&gt; events = new ArrayList&lt;String&gt;();\r\n\t\tBufferedReader in = null;\r\n\t\tString read;\r\n\t\ttry {\r\n\t\t    in = new BufferedReader(new FileReader(&quot;calendar.txt&quot;));\r\n\t\t    while ((read = in.readLine()) != null) {\r\n\t\t        read = in.readLine();\r\n\t\t        \r\n\t\t        String[] split = read.split(&quot;,&quot;);\r\n\t\t        System.out.println(read);\r\n\t\t        \r\n\t\t        if (split[1].equals(Integer.toString(checkDay)) &amp;&amp; split[2].equals(Integer.toString(checkMonth)) &amp;&amp; split[3].equals(Integer.toString(checkYear))) {\r\n\t\t        \tevents.add(split[0] + &quot; : &quot; + split[1] + &quot;/&quot; + split[2] + &quot;/&quot; + split[3]);\r\n\t\t        }\r\n\t\t        \r\n\t\t    }\r\n\t\t} catch (IOException e) {\r\n\t\t    System.out.println(&quot;There was a problem: &quot; + e);\r\n\t\t    e.printStackTrace();\r\n\t\t    \r\n\t\t} finally {\r\n\t\t    try {\r\n\t\t        in.close();\r\n\t\t    } catch (Exception e) {\r\n\t\t    }\r\n\t\t    \r\n\t\t}\r\n\t\treturn events;\r\n\t}","title":"BufferedReader is skipping every other line when reading my file in java","body":"<p>So Im working of reading a file containing appointments that I wrote to earlier in my code. I want to sift through the text file and find appointments on a certain date and add them to an ArrayList but when the BufferedReader goes through it, it skips ever other line... Heres my code</p>\n\n<pre><code>public ArrayList&lt;String&gt; read(int checkDay, int checkMonth, int checkYear) {\n    ArrayList&lt;String&gt; events = new ArrayList&lt;String&gt;();\n    BufferedReader in = null;\n    String read;\n    try {\n        in = new BufferedReader(new FileReader(\"calendar.txt\"));\n        while ((read = in.readLine()) != null) {\n            read = in.readLine();\n\n            String[] split = read.split(\",\");\n            System.out.println(read);\n\n            if (split[1].equals(Integer.toString(checkDay)) &amp;&amp; split[2].equals(Integer.toString(checkMonth)) &amp;&amp; split[3].equals(Integer.toString(checkYear))) {\n                events.add(split[0] + \" : \" + split[1] + \"/\" + split[2] + \"/\" + split[3]);\n            }\n\n        }\n    } catch (IOException e) {\n        System.out.println(\"There was a problem: \" + e);\n        e.printStackTrace();\n\n    } finally {\n        try {\n            in.close();\n        } catch (Exception e) {\n        }\n\n    }\n    return events;\n}\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":3,"creation_date":1679920921,"post_id":75855842,"comment_id":133801997,"body_markdown":"It is not *hilarious* to have your code in a new line (I&#39;m sure most will agree). To make it readable, I&#39;ve edited your question, making it multi-line.","body":"It is not <i>hilarious</i> to have your code in a new line (I&#39;m sure most will agree). To make it readable, I&#39;ve edited your question, making it multi-line."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1679921085,"post_id":75855842,"comment_id":133802051,"body_markdown":"&quot;My plan was to make a new array that just contains the &#39;^&#39; char and then get the length of that array&quot; - why, if you can just count?","body":"&quot;My plan was to make a new array that just contains the &#39;^&#39; char and then get the length of that array&quot; - why, if you can just count?"},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":4,"creation_date":1679921093,"post_id":75855842,"comment_id":133802055,"body_markdown":"An _hilarious_ way to do it: [java 8 stream using filter and count](https://stackoverflow.com/questions/69401251/java-8-stream-using-filter-and-count)","body":"An <i>hilarious</i> way to do it: <a href=\"https://stackoverflow.com/questions/69401251/java-8-stream-using-filter-and-count\">java 8 stream using filter and count</a>"}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1679922527,"post_id":75855959,"comment_id":133802519,"body_markdown":"No need for boxing: `IntStream.range(0, arr.length).filter(i -&gt; arr[i] == &#39;^&#39;) .count();`","body":"No need for boxing: <code>IntStream.range(0, arr.length).filter(i -&gt; arr[i] == &#39;^&#39;) .count();</code>"}],"tags":[],"owner":{"account_id":14543078,"reputation":396,"user_id":10504150,"display_name":"Dimon"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679921435,"creation_date":1679921435,"answer_id":75855959,"question_id":75855842,"body_markdown":"If all you need is the number of &#39;^&#39; characters why not use `.count`?\r\n\r\n    long numberOfChars = IntStream.range(0, arr.length)\r\n        .mapToObj(i -&gt; arr[i])\r\n        .filter(n -&gt; n == &#39;^&#39;)\r\n        .count();","title":"how do I create a new char array with only certain elements from another char array using streams in java?","body":"<p>If all you need is the number of '^' characters why not use <code>.count</code>?</p>\n<pre><code>long numberOfChars = IntStream.range(0, arr.length)\n    .mapToObj(i -&gt; arr[i])\n    .filter(n -&gt; n == '^')\n    .count();\n</code></pre>\n"}],"owner":{"account_id":28137757,"reputation":1,"user_id":21501256,"display_name":"awc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679921561,"answer_count":1,"score":0,"last_activity_date":1679921435,"creation_date":1679920652,"question_id":75855842,"body_markdown":"I have an char array, and I want to get the number of the &#39;^&#39; char in that array. so if the array was `&#39;.&#39;, &#39;.&#39;, &#39;^&#39;, &#39;-&#39;, &#39;^&#39;` it would return 2. My plan was to make a new array that just contains the &#39;^&#39; char and then get the length of that array. I know this could be easily done with a for loop that loops over the array, but I think it would be cool to use streams as I&#39;ve just started learning about them and want more practice, and I think it would be hilarious to have a single massive line instead of a few lines for a for loop and if statement. (this code does not need to be readable)\r\n\r\nI have tried \r\n\r\n    char[] tentsInRow = IntStream.range(0, arr.length)\r\n        .filter(n -&gt; n == &#39;^&#39;)\r\n        .mapToObj(m -&gt; arr[m]).toArray();\r\nand\r\n\r\n    char[] tentsInRow = new String(getRow(i))\r\n        .chars()\r\n        .mapToObj(n -&gt; (char)n)\r\n        .filter(n -&gt; n.equals(&#39;^&#39;))\r\n        .toArray();\r\n\r\n`getRow(i)` returns a char array, and arr from the first line is the same thing\r\n\r\nboth of which give me the error: `Required type: char[] Provided: Object[]`\r\n\r\nI saw there was a toArray(`IntFunction&lt;a[]&gt; generator`) function I could use that I thought could work, but I wasn&#39;t sure how to use it.\r\n\r\nDoes anyone know how I can convert from an Object array to a char array in this line, or know any other way to do this with streams/lambdas? I can also just do it the boring way with a for loop, just thought this would be cool lol. First post here so go easy","title":"how do I create a new char array with only certain elements from another char array using streams in java?","body":"<p>I have an char array, and I want to get the number of the '^' char in that array. so if the array was <code>'.', '.', '^', '-', '^'</code> it would return 2. My plan was to make a new array that just contains the '^' char and then get the length of that array. I know this could be easily done with a for loop that loops over the array, but I think it would be cool to use streams as I've just started learning about them and want more practice, and I think it would be hilarious to have a single massive line instead of a few lines for a for loop and if statement. (this code does not need to be readable)</p>\n<p>I have tried</p>\n<pre><code>char[] tentsInRow = IntStream.range(0, arr.length)\n    .filter(n -&gt; n == '^')\n    .mapToObj(m -&gt; arr[m]).toArray();\n</code></pre>\n<p>and</p>\n<pre><code>char[] tentsInRow = new String(getRow(i))\n    .chars()\n    .mapToObj(n -&gt; (char)n)\n    .filter(n -&gt; n.equals('^'))\n    .toArray();\n</code></pre>\n<p><code>getRow(i)</code> returns a char array, and arr from the first line is the same thing</p>\n<p>both of which give me the error: <code>Required type: char[] Provided: Object[]</code></p>\n<p>I saw there was a toArray(<code>IntFunction&lt;a[]&gt; generator</code>) function I could use that I thought could work, but I wasn't sure how to use it.</p>\n<p>Does anyone know how I can convert from an Object array to a char array in this line, or know any other way to do this with streams/lambdas? I can also just do it the boring way with a for loop, just thought this would be cool lol. First post here so go easy</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore","nosql"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1679921344,"creation_date":1562153086,"answer_id":56869041,"question_id":56865294,"body_markdown":"**Edit:** 2023-03-27\r\n\r\nFirestore supports now [logical OR queries][1]. So now, you can perform OR queries on multiple fields. The option is available starting with Cloud Firestore version **24.4.5**.\r\n\r\nIn code, it will be as simple as:\r\n\r\n```\r\nval db = Firebase.firestore\r\nval citiesRef = db.collection(&quot;cities&quot;)\r\nval query = citiesRef.where(Filter.or(\r\n        Filter.equalTo(&quot;capital&quot;, true),\r\n        Filter.greaterThanOrEqualTo(&quot;population&quot;, 1000000)    \r\n))\r\n```\r\n\r\nWhich will return documents where the `capital` is set to `true` OR, documents where the population is greater than or equal to `1_000_000`.\r\n\r\n---\r\n\r\n&gt; I need to query the Games collection and find all games where selected team is either home team or away team.\r\n\r\nCloud Firestore official documentation is quite explicit regarding this kind of query. Unfortunately, there are some [query limitations](https://firebase.google.com/docs/firestore/query-data/queries), when it comes to Firestore:\r\n\r\n&gt; Cloud Firestore does not support the following types of queries:\r\n&gt;\r\n&gt;* Logical OR queries. In this case, you should create a separate query for each OR condition and merge the query results in your app.\r\n\r\nSo you cannot query a collection to find all games where selected team is **either** home team or away team in single go.\r\n\r\nA workaroung would be to query your database twice and combine the results of those queries client side. It&#39;s not perfect, since you need to query twice but I think it will do the trick.\r\n\r\nFor Android, this is how you can merge two queries locally:\r\n\r\n* https://stackoverflow.com/questions/50118345/firestore-merging-two-queries-locally\r\n\r\nBut, according to Frank van Puffelen&#39;s [answer](https://stackoverflow.com/a/56859552/5246885) regarding the same topic:\r\n\r\n&gt; OR queries, since those would require skipping through the index, which would make it impossible to guarantee the performance. Note that work is under way to support a subset of possible IN queries, so that you could query for something like &quot;give me all restaurants that serve either Thai or Italian food&quot;.\r\n\r\nYou can wait till this feature will be available or you can use my solution above.\r\n\r\n&gt; Should i have references to the teams by there firestore generated id or should i go for team names? \r\n\r\nIn most of the cases, we asually use user ids and not names, the reason being that names can change while ids not. But it&#39;s up to you to decide if it&#39;s better to search by names rather than by ids.\r\n\r\nP.S. If you&#39;re looking instead of `&quot;OR&quot;` query an `&quot;AND&quot;` query, please note that chaining multiple `whereTo()` calls is permitted.\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/firestore/query-data/queries#or_queries","title":"Nosql model structure","body":"<p><strong>Edit:</strong> 2023-03-27</p>\n<p>Firestore supports now <a href=\"https://firebase.google.com/docs/firestore/query-data/queries#or_queries\" rel=\"nofollow noreferrer\">logical OR queries</a>. So now, you can perform OR queries on multiple fields. The option is available starting with Cloud Firestore version <strong>24.4.5</strong>.</p>\n<p>In code, it will be as simple as:</p>\n<pre><code>val db = Firebase.firestore\nval citiesRef = db.collection(&quot;cities&quot;)\nval query = citiesRef.where(Filter.or(\n        Filter.equalTo(&quot;capital&quot;, true),\n        Filter.greaterThanOrEqualTo(&quot;population&quot;, 1000000)    \n))\n</code></pre>\n<p>Which will return documents where the <code>capital</code> is set to <code>true</code> OR, documents where the population is greater than or equal to <code>1_000_000</code>.</p>\n<hr />\n<blockquote>\n<p>I need to query the Games collection and find all games where selected team is either home team or away team.</p>\n</blockquote>\n<p>Cloud Firestore official documentation is quite explicit regarding this kind of query. Unfortunately, there are some <a href=\"https://firebase.google.com/docs/firestore/query-data/queries\" rel=\"nofollow noreferrer\">query limitations</a>, when it comes to Firestore:</p>\n<blockquote>\n<p>Cloud Firestore does not support the following types of queries:</p>\n<ul>\n<li>Logical OR queries. In this case, you should create a separate query for each OR condition and merge the query results in your app.</li>\n</ul>\n</blockquote>\n<p>So you cannot query a collection to find all games where selected team is <strong>either</strong> home team or away team in single go.</p>\n<p>A workaroung would be to query your database twice and combine the results of those queries client side. It's not perfect, since you need to query twice but I think it will do the trick.</p>\n<p>For Android, this is how you can merge two queries locally:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/50118345/firestore-merging-two-queries-locally\">Firestore - Merging two queries locally</a></li>\n</ul>\n<p>But, according to Frank van Puffelen's <a href=\"https://stackoverflow.com/a/56859552/5246885\">answer</a> regarding the same topic:</p>\n<blockquote>\n<p>OR queries, since those would require skipping through the index, which would make it impossible to guarantee the performance. Note that work is under way to support a subset of possible IN queries, so that you could query for something like &quot;give me all restaurants that serve either Thai or Italian food&quot;.</p>\n</blockquote>\n<p>You can wait till this feature will be available or you can use my solution above.</p>\n<blockquote>\n<p>Should i have references to the teams by there firestore generated id or should i go for team names?</p>\n</blockquote>\n<p>In most of the cases, we asually use user ids and not names, the reason being that names can change while ids not. But it's up to you to decide if it's better to search by names rather than by ids.</p>\n<p>P.S. If you're looking instead of <code>&quot;OR&quot;</code> query an <code>&quot;AND&quot;</code> query, please note that chaining multiple <code>whereTo()</code> calls is permitted.</p>\n"}],"owner":{"account_id":140016,"reputation":6473,"user_id":346012,"accept_rate":85,"display_name":"Marthin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56869041,"answer_count":1,"score":0,"last_activity_date":1679921344,"creation_date":1562139951,"question_id":56865294,"body_markdown":"How would you structure your Cloud Firestore db.\r\n\r\nI have collections of Teams, Arenas and Games:\r\n\r\n    public class Team {\r\n        public String name;\r\n        public String homeCourtId;\r\n    }\r\n    \r\n    public class Game{\r\n    \r\n        public String matchId;\r\n        public String date;\r\n        public Arena arena;\r\n        public Team homeTeam;\r\n        public Team awayTeam;\r\n    }\r\n    \r\n    \r\n    public class Arena {\r\n    \r\n        public String name;\r\n        public String phone;\r\n        public String email;\r\n        public String address;\r\n        public String postalCode;\r\n        public String city;\r\n        public String district;\r\n        public String cordLat;\r\n        public String cordLong;\r\n    \r\n    }\r\n\r\nA team can be a home team or away team in Games and a Game always has an Arena.\r\n\r\nSo currently my thought is to structure this as all games go into the Games collection and when i want to find out all games for a Team i need to query the Games collection and find all games where selected team is either home team or away team.\r\n\r\nShould I have references to the teams by there Firestore generated id or should I go for team names? Any pointers where i can read more about this?\r\n\r\nIs their a better way to structure my data in Firestore? (or any nosql db) ","title":"Nosql model structure","body":"<p>How would you structure your Cloud Firestore db.</p>\n\n<p>I have collections of Teams, Arenas and Games:</p>\n\n<pre><code>public class Team {\n    public String name;\n    public String homeCourtId;\n}\n\npublic class Game{\n\n    public String matchId;\n    public String date;\n    public Arena arena;\n    public Team homeTeam;\n    public Team awayTeam;\n}\n\n\npublic class Arena {\n\n    public String name;\n    public String phone;\n    public String email;\n    public String address;\n    public String postalCode;\n    public String city;\n    public String district;\n    public String cordLat;\n    public String cordLong;\n\n}\n</code></pre>\n\n<p>A team can be a home team or away team in Games and a Game always has an Arena.</p>\n\n<p>So currently my thought is to structure this as all games go into the Games collection and when i want to find out all games for a Team i need to query the Games collection and find all games where selected team is either home team or away team.</p>\n\n<p>Should I have references to the teams by there Firestore generated id or should I go for team names? Any pointers where i can read more about this?</p>\n\n<p>Is their a better way to structure my data in Firestore? (or any nosql db) </p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1623740027,"post_id":67981340,"comment_id":120156858,"body_markdown":"See https://stackoverflow.com/questions/36267354/java-string-replaceall-with-back-reference/36268323","body":"See <a href=\"https://stackoverflow.com/questions/36267354/java-string-replaceall-with-back-reference/36268323\" title=\"java string replaceall with back reference\">stackoverflow.com/questions/36267354/&hellip;</a>"},{"owner":{"account_id":6001966,"reputation":19298,"user_id":8967612,"display_name":"41686d6564"},"score":2,"creation_date":1623740720,"post_id":67981340,"comment_id":120157100,"body_markdown":"Does this answer your question? [Java String.replaceAll() with back reference](https://stackoverflow.com/questions/36267354/java-string-replaceall-with-back-reference)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/36267354/java-string-replaceall-with-back-reference\">Java String.replaceAll() with back reference</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user15793316"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679920477,"creation_date":1623749945,"answer_id":67983773,"question_id":67981340,"body_markdown":"Easy way, using `replaceAll` and `$1` for first group\r\n\r\n```\r\ntext.replaceAll(&quot;aaa(.*)bbb&quot;, &quot;$1&quot;); \r\n// or\r\ntext.replaceAll(&quot;^aaa(.*)bbb$&quot;, &quot;$1&quot;);  // match whole input string below\r\n```\r\n\r\n`replaceAll` searches all matches of first argument as regular expression and replaces it with second argument. Dollar in second argument are used to captures sequences (groups). To just replace once&lt;sup&gt;**1**&lt;/sup&gt;, use `replaceFirst()`.\r\n\r\nSimilar can be done with a `Matcher`:\r\n```\r\nMatcher matcher = Pattern.compile(&quot;aaa(.*)bbb&quot;).matcher(text);\r\nmatcher.replaceAll(&quot;$1&quot;);\r\n```\r\n\r\n----\r\n\r\nNote **1**: since using `(.*)`, the pattern will be found at most once - `.*` tries to match as much as possible. Example: if `text = &quot;aaa first bbb and aaa second bbb&quot;` the group in `aaa(.*)bbb` will match `&quot; first bbb and aaa second &quot;` - the largest sub-sequence between `aaa` and `bbb`. This can be *prevented* using `(.*?)` (reluctant quantifier) that tries to match the smallest sub-sequence possible.\r\n","title":"replacing regex pattern in java similar to notepad++","body":"<p>Easy way, using <code>replaceAll</code> and <code>$1</code> for first group</p>\n<pre><code>text.replaceAll(&quot;aaa(.*)bbb&quot;, &quot;$1&quot;); \n// or\ntext.replaceAll(&quot;^aaa(.*)bbb$&quot;, &quot;$1&quot;);  // match whole input string below\n</code></pre>\n<p><code>replaceAll</code> searches all matches of first argument as regular expression and replaces it with second argument. Dollar in second argument are used to captures sequences (groups). To just replace once<sup><strong>1</strong></sup>, use <code>replaceFirst()</code>.</p>\n<p>Similar can be done with a <code>Matcher</code>:</p>\n<pre><code>Matcher matcher = Pattern.compile(&quot;aaa(.*)bbb&quot;).matcher(text);\nmatcher.replaceAll(&quot;$1&quot;);\n</code></pre>\n<hr />\n<p>Note <strong>1</strong>: since using <code>(.*)</code>, the pattern will be found at most once - <code>.*</code> tries to match as much as possible. Example: if <code>text = &quot;aaa first bbb and aaa second bbb&quot;</code> the group in <code>aaa(.*)bbb</code> will match <code>&quot; first bbb and aaa second &quot;</code> - the largest sub-sequence between <code>aaa</code> and <code>bbb</code>. This can be <em>prevented</em> using <code>(.*?)</code> (reluctant quantifier) that tries to match the smallest sub-sequence possible.</p>\n"}],"owner":{"account_id":8566824,"reputation":507,"user_id":6419060,"accept_rate":0,"display_name":"G.ONE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679920477,"creation_date":1623739883,"question_id":67981340,"body_markdown":"I can replace \r\n(.*)  with \\1 in notepad++\r\nfor e.g. string\r\n\r\n**aaa hello how are u bbb**\r\n\r\nif i do below in notepad ++ it works\r\n\r\n    find : aaa(.*)bbb\r\n    replace: ccc \\1\r\n    \r\n    output: ccc hello how are u \r\n\r\nHow to do similar in JAVA , i can match pattern using str.matches but how to replace it as above\r\n","title":"replacing regex pattern in java similar to notepad++","body":"<p>I can replace\n(.*)  with \\1 in notepad++\nfor e.g. string</p>\n<p><strong>aaa hello how are u bbb</strong></p>\n<p>if i do below in notepad ++ it works</p>\n<pre><code>find : aaa(.*)bbb\nreplace: ccc \\1\n\noutput: ccc hello how are u \n</code></pre>\n<p>How to do similar in JAVA , i can match pattern using str.matches but how to replace it as above</p>\n"},{"tags":["java","security","path-traversal"],"comments":[{"owner":{"account_id":63815,"reputation":18827,"user_id":188704,"display_name":"Heath Hunnicutt"},"score":2,"creation_date":1267659993,"post_id":2375903,"comment_id":2352273,"body_markdown":"Don&#39;t forget to disallow access to the Windows special devices (NUL, COM1, etc.) which are present everywhere in the file system.","body":"Don&#39;t forget to disallow access to the Windows special devices (NUL, COM1, etc.) which are present everywhere in the file system."},{"owner":{"account_id":1396,"reputation":2865,"user_id":1867,"accept_rate":29,"display_name":"Rob Oxspring"},"score":0,"creation_date":1267661588,"post_id":2375903,"comment_id":2352381,"body_markdown":"Good thought Heath.  The following link appears to have a definitive list of Windows&#39; reserved file names: http://msdn.microsoft.com/en-us/library/aa365247(VS.85).aspx","body":"Good thought Heath.  The following link appears to have a definitive list of Windows&#39; reserved file names: <a href=\"http://msdn.microsoft.com/en-us/library/aa365247(VS.85).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/aa365247(VS.85).aspx</a>"},{"owner":{"account_id":120262,"reputation":51984,"user_id":312586,"accept_rate":99,"display_name":"kikito"},"score":0,"creation_date":1267696814,"post_id":2375903,"comment_id":2354830,"body_markdown":"Why can&#39;t you configure this on your Apache/IIS server instead?","body":"Why can&#39;t you configure this on your Apache/IIS server instead?"},{"owner":{"account_id":21815,"reputation":19742,"user_id":53328,"accept_rate":78,"display_name":"Martin Wickman"},"score":1,"creation_date":1267701545,"post_id":2375903,"comment_id":2355306,"body_markdown":"I really suggest that you write some unit tests for your method and test it with various  dangerous input until it returns what you expect it. That&#39;s the easiest way to achive piece of mind.","body":"I really suggest that you write some unit tests for your method and test it with various  dangerous input until it returns what you expect it. That&#39;s the easiest way to achive piece of mind."},{"owner":{"account_id":1814811,"reputation":633,"user_id":1650137,"display_name":"Zero3"},"score":1,"creation_date":1450199229,"post_id":2375903,"comment_id":56331962,"body_markdown":"There is a nice answer (using the new Java file IO API) here: http://stackoverflow.com/a/33084369/1650137","body":"There is a nice answer (using the new Java file IO API) here: <a href=\"http://stackoverflow.com/a/33084369/1650137\">stackoverflow.com/a/33084369/1650137</a>"}],"answers":[{"comments":[{"owner":{"account_id":61611,"reputation":66490,"user_id":183528,"accept_rate":95,"display_name":"rook"},"score":0,"creation_date":1267660206,"post_id":2375935,"comment_id":2352287,"body_markdown":"Actually that&#39;s not true,  a chroot can be used to put a running process onto a completely indipendant directory tree with its own /home /var /etc...   Also directory traversal within a chroot can still lead to nasty attacks,  even remote code execution.","body":"Actually that&#39;s not true,  a chroot can be used to put a running process onto a completely indipendant directory tree with its own /home /var /etc...   Also directory traversal within a chroot can still lead to nasty attacks,  even remote code execution."},{"owner":{"account_id":14903,"reputation":11622,"user_id":30997,"accept_rate":60,"display_name":"Sniggerfardimungus"},"score":0,"creation_date":1267731157,"post_id":2375935,"comment_id":2359311,"body_markdown":"Your first statement is true, though somewhat misleading.  You would generate your own mirror of the root system paths in a subdirectory - everything you need to run, including Java and related libraries.\n\nThe second statement is strong hyperbole, as it links chroot with the attack by implication.  If you have a hole that could lead to any attack, it should be patched as a separate issue.  chroot is there to minimize the impact of any potential security concern.\n\nIn the end, you cannot prove any code to be secure, you can only reduce your attack surface and decrease the potential for damage.","body":"Your first statement is true, though somewhat misleading.  You would generate your own mirror of the root system paths in a subdirectory - everything you need to run, including Java and related libraries.  The second statement is strong hyperbole, as it links chroot with the attack by implication.  If you have a hole that could lead to any attack, it should be patched as a separate issue.  chroot is there to minimize the impact of any potential security concern.  In the end, you cannot prove any code to be secure, you can only reduce your attack surface and decrease the potential for damage."}],"tags":[],"owner":{"account_id":14903,"reputation":11622,"user_id":30997,"accept_rate":60,"display_name":"Sniggerfardimungus"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1267660081,"creation_date":1267660081,"answer_id":2375935,"question_id":2375903,"body_markdown":"If you&#39;re running this on a unix machine (I&#39;m not sure if windows has something similar, but it might) you&#39;ll want to look at chroot.  Even if you think you hit all the ways for someone to refer up a few directories, it&#39;s nice to have the operating system there enforcing the fact.\r\n\r\n(chroot causes &#39;/&#39; to refer to some other directory, so &quot;/&quot; might be &quot;/home/me/project&quot; and &quot;/../../..&quot; is still &quot;/home/me/project&quot;.)\r\n\r\nEDIT:\r\n\r\nThere&#39;s a chroot system call as well as a chroot command-line tool.  I don&#39;t know if Java has a native method, but nothing would prevent you from running your server with the command-line tool.  This should, of course, be in addition to doing your best to prevent other path manipulations.","title":"What&#39;s the best way to defend against a path traversal attack?","body":"<p>If you're running this on a unix machine (I'm not sure if windows has something similar, but it might) you'll want to look at chroot.  Even if you think you hit all the ways for someone to refer up a few directories, it's nice to have the operating system there enforcing the fact.</p>\n\n<p>(chroot causes '/' to refer to some other directory, so \"/\" might be \"/home/me/project\" and \"/../../..\" is still \"/home/me/project\".)</p>\n\n<p>EDIT:</p>\n\n<p>There's a chroot system call as well as a chroot command-line tool.  I don't know if Java has a native method, but nothing would prevent you from running your server with the command-line tool.  This should, of course, be in addition to doing your best to prevent other path manipulations.</p>\n"},{"comments":[{"owner":{"account_id":2368466,"reputation":411,"user_id":2073670,"accept_rate":67,"display_name":"tekHedd"},"score":2,"creation_date":1550615531,"post_id":2378225,"comment_id":96331786,"body_markdown":"Filtering characters does not protect against directory traversal, unless it is OK with you that &quot;.&quot; is banned as a character in file names.","body":"Filtering characters does not protect against directory traversal, unless it is OK with you that &quot;.&quot; is banned as a character in file names."}],"tags":[],"owner":{"account_id":106222,"reputation":99819,"user_id":283055,"accept_rate":91,"display_name":"Tower"},"comment_count":1,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1451402721,"creation_date":1267696523,"answer_id":2378225,"question_id":2375903,"body_markdown":"You could check out the allowed characters in filenames (http://en.wikipedia.org/wiki/Filename) and filter out all non-allowed characters (white listing) and then you could be sure you&#39;ve got a filename there.","title":"What&#39;s the best way to defend against a path traversal attack?","body":"<p>You could check out the allowed characters in filenames (<a href=\"http://en.wikipedia.org/wiki/Filename\" rel=\"nofollow noreferrer\">http://en.wikipedia.org/wiki/Filename</a>) and filter out all non-allowed characters (white listing) and then you could be sure you've got a filename there.</p>\n"},{"tags":[],"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1679920121,"creation_date":1452178817,"answer_id":34658355,"question_id":2375903,"body_markdown":"NOTE: [This answer](https://stackoverflow.com/a/33084369/26510) to another similar question on StackOverflow may be the best approach.\r\n\r\nOtherwise, the following may help. It compares the canonical and absolute paths, and if they differ, then it&#39;ll fail. Only tested on a mac/linux system (ie no windows). \r\n\r\nThis is for the case where you want to allow the user to supply a relative path, not an absolute path, and you don&#39;t allow any parent directory references.\t\r\n\r\n    public void failIfDirectoryTraversal(String relativePath)\r\n\t{\r\n\t\tFile file = new File(relativePath);\r\n\r\n\t\tif (file.isAbsolute())\r\n\t\t{\r\n\t\t\tthrow new RuntimeException(&quot;Directory traversal attempt - absolute path not allowed&quot;);\r\n\t\t}\r\n\r\n\t\tString pathUsingCanonical;\r\n\t\tString pathUsingAbsolute;\r\n\t\ttry\r\n\t\t{\r\n\t\t\tpathUsingCanonical = file.getCanonicalPath();\r\n\t\t\tpathUsingAbsolute = file.getAbsolutePath();\r\n\t\t}\r\n\t\tcatch (IOException e)\r\n\t\t{\r\n\t\t\tthrow new RuntimeException(&quot;Directory traversal attempt?&quot;, e);\r\n\t\t}\r\n\r\n\r\n\t\t// Require the absolute path and canonicalized path match.\r\n\t\t// This is done to avoid directory traversal \r\n\t\t// attacks, e.g. &quot;1/../2/&quot; \r\n\t\tif (! pathUsingCanonical.equals(pathUsingAbsolute))\r\n\t\t{\r\n\t\t\tthrow new RuntimeException(&quot;Directory traversal attempt?&quot;);\r\n\t\t}\r\n\t}","title":"What&#39;s the best way to defend against a path traversal attack?","body":"<p>NOTE: <a href=\"https://stackoverflow.com/a/33084369/26510\">This answer</a> to another similar question on StackOverflow may be the best approach.</p>\n<p>Otherwise, the following may help. It compares the canonical and absolute paths, and if they differ, then it'll fail. Only tested on a mac/linux system (ie no windows).</p>\n<p>This is for the case where you want to allow the user to supply a relative path, not an absolute path, and you don't allow any parent directory references.</p>\n<pre><code>public void failIfDirectoryTraversal(String relativePath)\n{\n    File file = new File(relativePath);\n\n    if (file.isAbsolute())\n    {\n        throw new RuntimeException(&quot;Directory traversal attempt - absolute path not allowed&quot;);\n    }\n\n    String pathUsingCanonical;\n    String pathUsingAbsolute;\n    try\n    {\n        pathUsingCanonical = file.getCanonicalPath();\n        pathUsingAbsolute = file.getAbsolutePath();\n    }\n    catch (IOException e)\n    {\n        throw new RuntimeException(&quot;Directory traversal attempt?&quot;, e);\n    }\n\n\n    // Require the absolute path and canonicalized path match.\n    // This is done to avoid directory traversal \n    // attacks, e.g. &quot;1/../2/&quot; \n    if (! pathUsingCanonical.equals(pathUsingAbsolute))\n    {\n        throw new RuntimeException(&quot;Directory traversal attempt?&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1396,"reputation":2865,"user_id":1867,"accept_rate":29,"display_name":"Rob Oxspring"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46680,"favorite_count":0,"down_vote_count":1,"up_vote_count":49,"answer_count":3,"score":48,"last_activity_date":1679920121,"creation_date":1267659640,"question_id":2375903,"body_markdown":"I have a Java server implementation (TFTP if it matters to you) and I&#39;d like to ensure that it&#39;s not susceptible to path traversal attacks allowing access to files and locations that shouldn&#39;t be available.  \r\n\r\nMy best attempt at defending so far is to reject any entries that match `File.isAbsolute()` and then rely on `File.getCanonicalPath()` to resolve any `../` and `./` components out of the path.  Finally I ensure that the resulting path is still within the required root directory of my server:\r\n\r\n\tpublic String sanitize(final File dir, final String entry) throws IOException {\r\n\t\tif (entry.length() == 0) {\r\n\t\t\tthrow new PathTraversalException(entry);\r\n\t\t}\r\n\r\n\t\tif (new File(entry).isAbsolute()) {\r\n\t\t\tthrow new PathTraversalException(entry);\r\n\t\t}\r\n\r\n\t\tfinal String canonicalDirPath = dir.getCanonicalPath() + File.separator;\r\n\t\tfinal String canonicalEntryPath = new File(dir, entry).getCanonicalPath();\r\n\r\n\t\tif (!canonicalEntryPath.startsWith(canonicalDirPath)) {\r\n\t\t\tthrow new PathTraversalException(entry);\r\n\t\t}\r\n\r\n\t\treturn canonicalEntryPath.substring(canonicalDirPath.length());\r\n\t}\r\n\r\nAre there security issues that this misses? Are there better / faster to achieve the same result reliably?\r\n\r\nThe code needs to work consistently across Windows and Linux.","title":"What&#39;s the best way to defend against a path traversal attack?","body":"<p>I have a Java server implementation (TFTP if it matters to you) and I'd like to ensure that it's not susceptible to path traversal attacks allowing access to files and locations that shouldn't be available.  </p>\n\n<p>My best attempt at defending so far is to reject any entries that match <code>File.isAbsolute()</code> and then rely on <code>File.getCanonicalPath()</code> to resolve any <code>../</code> and <code>./</code> components out of the path.  Finally I ensure that the resulting path is still within the required root directory of my server:</p>\n\n<pre><code>public String sanitize(final File dir, final String entry) throws IOException {\n    if (entry.length() == 0) {\n        throw new PathTraversalException(entry);\n    }\n\n    if (new File(entry).isAbsolute()) {\n        throw new PathTraversalException(entry);\n    }\n\n    final String canonicalDirPath = dir.getCanonicalPath() + File.separator;\n    final String canonicalEntryPath = new File(dir, entry).getCanonicalPath();\n\n    if (!canonicalEntryPath.startsWith(canonicalDirPath)) {\n        throw new PathTraversalException(entry);\n    }\n\n    return canonicalEntryPath.substring(canonicalDirPath.length());\n}\n</code></pre>\n\n<p>Are there security issues that this misses? Are there better / faster to achieve the same result reliably?</p>\n\n<p>The code needs to work consistently across Windows and Linux.</p>\n"},{"tags":["java","velocity","libreoffice","xdocreport"],"owner":{"account_id":26806523,"reputation":1,"user_id":20397762,"display_name":"wims"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679919593,"creation_date":1679919593,"question_id":75855664,"body_markdown":"I have a service that generates pdf files from the output of our java backend. The pdf is generated from an .odt template using xdocreport, the template itself is scripted with velocity. The pdf view displays the backend data in a dynamic table that is generated once for each object we want to represent in the pdf. \r\n\r\nMy problem is that when rendering these tables at the bottom of a pdf page, the table might span across two different pages. I would prefer to not have these tables span two pages, but rather have them rendered entirely on a new page. \r\n\r\n\r\nDoes xdocreport have functionality for not splitting a table across two pages, but rather start rendering it at the top of a new page?\r\n\r\n\r\n\r\nI tried to uncheck the &quot;Allow table to split across pages and columns&quot; option in table properties in Libre Office. I also tried to disable both &quot;Allow row to break across pages and columns&quot; and &quot;Keep with next paragraph&quot;, but they seemed to not have an effect on the generated pdf","title":"How to render table to a new page if the table would span two pages with xdocreport, velocity and libreoffice","body":"<p>I have a service that generates pdf files from the output of our java backend. The pdf is generated from an .odt template using xdocreport, the template itself is scripted with velocity. The pdf view displays the backend data in a dynamic table that is generated once for each object we want to represent in the pdf.</p>\n<p>My problem is that when rendering these tables at the bottom of a pdf page, the table might span across two different pages. I would prefer to not have these tables span two pages, but rather have them rendered entirely on a new page.</p>\n<p>Does xdocreport have functionality for not splitting a table across two pages, but rather start rendering it at the top of a new page?</p>\n<p>I tried to uncheck the &quot;Allow table to split across pages and columns&quot; option in table properties in Libre Office. I also tried to disable both &quot;Allow row to break across pages and columns&quot; and &quot;Keep with next paragraph&quot;, but they seemed to not have an effect on the generated pdf</p>\n"},{"tags":["java","android","kotlin","android-permissions","android-13"],"comments":[{"owner":{"account_id":22331062,"reputation":51,"user_id":16552338,"display_name":"Mirek H&#253;bler"},"score":0,"creation_date":1674737896,"post_id":75246330,"comment_id":132780218,"body_markdown":"Hi, do you have notification permission declared in your AndroidManifest.xml?","body":"Hi, do you have notification permission declared in your AndroidManifest.xml?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1674738556,"post_id":75246330,"comment_id":132780426,"body_markdown":"Once the permission is granted requestPermissions() will not popup a dialog but trigger the onRequestPermissionsResult directly. Well not using ActivityCompat but registerForActivityResult(). new RequestPermission().","body":"Once the permission is granted requestPermissions() will not popup a dialog but trigger the onRequestPermissionsResult directly. Well not using ActivityCompat but registerForActivityResult(). new RequestPermission()."},{"owner":{"account_id":27626178,"reputation":21,"user_id":21086143,"display_name":"Shahzore Ahmed"},"score":0,"creation_date":1674742722,"post_id":75246330,"comment_id":132781837,"body_markdown":"Yes notification permission is declared in AndroidManifest.xml\n`&lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot;/&gt;`","body":"Yes notification permission is declared in AndroidManifest.xml <code>&lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot;&#47;&gt;</code>"},{"owner":{"account_id":27626178,"reputation":21,"user_id":21086143,"display_name":"Shahzore Ahmed"},"score":0,"creation_date":1674742819,"post_id":75246330,"comment_id":132781873,"body_markdown":"Yes I have also tried\n`registerForActivityResult(ActivityResultContracts.RequestPermission())`","body":"Yes I have also tried <code>registerForActivityResult(ActivityResultContracts.RequestPer&zwnj;&#8203;mission())</code>"},{"owner":{"account_id":5595387,"reputation":11077,"user_id":4433326,"accept_rate":67,"display_name":"Louis CAD"},"score":0,"creation_date":1677640148,"post_id":75246330,"comment_id":133376555,"body_markdown":"This might help you handle the edge cases of requesting permissions: https://github.com/LouisCAD/Splitties/tree/main/modules/permissions","body":"This might help you handle the edge cases of requesting permissions: <a href=\"https://github.com/LouisCAD/Splitties/tree/main/modules/permissions\" rel=\"nofollow noreferrer\">github.com/LouisCAD/Splitties/tree/main/modules/permissions</a>"}],"owner":{"account_id":27626178,"reputation":21,"user_id":21086143,"display_name":"Shahzore Ahmed"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1679922640,"answer_count":0,"score":2,"last_activity_date":1679919153,"creation_date":1674737172,"question_id":75246330,"body_markdown":"There are many questions on this topic already, I know. However, none of the answers I have found so far resolves the issue for me.\r\n\r\nThe problem is ActivityCompat.requestPermissions does not trigger a popup, asking the user to give permission for notifications.\r\n\r\nSetup:\r\n\r\n- Testing on physical device (Android 13, Samsung Galaxy S22 and Samsung Galaxy A51)\r\n- targetSdkVersion = 33\r\n- compileSdkVersion = 33\r\n- minSdkVersion = 23\r\n- AndroidManifest has permission: `&lt;uses-permission` `android:name=&quot;android.permission.POST_NOTIFICATIONS&quot;/&gt;`\r\n\r\n\r\nActivity declared in AndroidManifest\r\n\r\n```\r\n        &lt;activity android:name=&quot;.PostNotificationActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:screenOrientation=&quot;portrait&quot;/&gt;\r\n```\r\n\r\n\r\nClick on Enable Notification button:\r\n\r\n```\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.POST_NOTIFICATIONS) != PackageManager.PERMISSION_GRANTED) {\r\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.POST_NOTIFICATIONS)) {\r\n                ActivityCompat.requestPermissions(this, arrayOf(Manifest.permission.POST_NOTIFICATIONS),\r\n                    POST_NOTIFICATION_PERMISSION_CODE)\r\n\r\n            } else {\r\n                ActivityCompat.requestPermissions(this, arrayOf(Manifest.permission.POST_NOTIFICATIONS),\r\n                    POST_NOTIFICATION_PERMISSION_CODE)\r\n            }\r\n        }\r\n```\r\n\r\nand the callback is like so:\r\n\r\n```\r\n    override fun onRequestPermissionsResult(\r\n        requestCode: Int,\r\n        permissions: Array&lt;out String&gt;,\r\n        grantResults: IntArray\r\n    ) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults)\r\n\r\n        when(requestCode) {\r\n            POST_NOTIFICATION_PERMISSION_CODE -&gt; {\r\n                if (grantResults.size &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    Toast.makeText(applicationContext, &quot;Permission Granted&quot;, Toast.LENGTH_LONG).show()\r\n\r\n                } else {\r\n                    Toast.makeText(applicationContext, &quot;Permission Denied&quot;, Toast.LENGTH_LONG).show()\r\n                }\r\n\r\n                return\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nI have stepped through the code via the debugger, and can confirm that on first button click **requestPermissions** is called but no popup on device and **onRequestPermissionsResult** is also not trigger as well.\r\nAnd when again clicked the button **requestPermissions** is called with no popup on device but **onRequestPermissionsResult** is triggered now with **Permission Denied** and when press back previous activity is freezed.\r\n\r\nI have also tried using the new ActivityResultLauncher, but the behaviour is same no popup on device.\r\n","title":"POST_NOTIFICATIONS permission dialog not showing (Android 13, targetSdkVersion=33)","body":"<p>There are many questions on this topic already, I know. However, none of the answers I have found so far resolves the issue for me.</p>\n<p>The problem is ActivityCompat.requestPermissions does not trigger a popup, asking the user to give permission for notifications.</p>\n<p>Setup:</p>\n<ul>\n<li>Testing on physical device (Android 13, Samsung Galaxy S22 and Samsung Galaxy A51)</li>\n<li>targetSdkVersion = 33</li>\n<li>compileSdkVersion = 33</li>\n<li>minSdkVersion = 23</li>\n<li>AndroidManifest has permission: <code>&lt;uses-permission</code> <code>android:name=&quot;android.permission.POST_NOTIFICATIONS&quot;/&gt;</code></li>\n</ul>\n<p>Activity declared in AndroidManifest</p>\n<pre><code>        &lt;activity android:name=&quot;.PostNotificationActivity&quot;\n            android:exported=&quot;true&quot;\n            android:screenOrientation=&quot;portrait&quot;/&gt;\n</code></pre>\n<p>Click on Enable Notification button:</p>\n<pre><code>        if (ContextCompat.checkSelfPermission(this, Manifest.permission.POST_NOTIFICATIONS) != PackageManager.PERMISSION_GRANTED) {\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.POST_NOTIFICATIONS)) {\n                ActivityCompat.requestPermissions(this, arrayOf(Manifest.permission.POST_NOTIFICATIONS),\n                    POST_NOTIFICATION_PERMISSION_CODE)\n\n            } else {\n                ActivityCompat.requestPermissions(this, arrayOf(Manifest.permission.POST_NOTIFICATIONS),\n                    POST_NOTIFICATION_PERMISSION_CODE)\n            }\n        }\n</code></pre>\n<p>and the callback is like so:</p>\n<pre><code>    override fun onRequestPermissionsResult(\n        requestCode: Int,\n        permissions: Array&lt;out String&gt;,\n        grantResults: IntArray\n    ) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults)\n\n        when(requestCode) {\n            POST_NOTIFICATION_PERMISSION_CODE -&gt; {\n                if (grantResults.size &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                    Toast.makeText(applicationContext, &quot;Permission Granted&quot;, Toast.LENGTH_LONG).show()\n\n                } else {\n                    Toast.makeText(applicationContext, &quot;Permission Denied&quot;, Toast.LENGTH_LONG).show()\n                }\n\n                return\n            }\n        }\n    }\n</code></pre>\n<p>I have stepped through the code via the debugger, and can confirm that on first button click <strong>requestPermissions</strong> is called but no popup on device and <strong>onRequestPermissionsResult</strong> is also not trigger as well.\nAnd when again clicked the button <strong>requestPermissions</strong> is called with no popup on device but <strong>onRequestPermissionsResult</strong> is triggered now with <strong>Permission Denied</strong> and when press back previous activity is freezed.</p>\n<p>I have also tried using the new ActivityResultLauncher, but the behaviour is same no popup on device.</p>\n"},{"tags":["java","concurrency","volatile","java.util.concurrent"],"answers":[{"comments":[{"owner":{"account_id":1523181,"reputation":2433,"user_id":1422297,"accept_rate":100,"display_name":"Morteza Adi"},"score":0,"creation_date":1366534825,"post_id":16120114,"comment_id":23039759,"body_markdown":"I underestand in respect of data consistency we are safe here but we could have lost update here which make the class not threadsafe!!","body":"I underestand in respect of data consistency we are safe here but we could have lost update here which make the class not threadsafe!!"},{"owner":{"account_id":313546,"reputation":7830,"user_id":628242,"accept_rate":55,"display_name":"Lokesh"},"score":0,"creation_date":1366535140,"post_id":16120114,"comment_id":23039809,"body_markdown":"Its a singlevaluecache and only last update can stay!! all earlier updates will have to be garbage collected, isn&#39;t it. I dont understand what do you mean by lost update","body":"Its a singlevaluecache and only last update can stay!! all earlier updates will have to be garbage collected, isn&#39;t it. I dont understand what do you mean by lost update"},{"owner":{"account_id":1523181,"reputation":2433,"user_id":1422297,"accept_rate":100,"display_name":"Morteza Adi"},"score":0,"creation_date":1366687962,"post_id":16120114,"comment_id":23094079,"body_markdown":"Suppose singlevaluecache whitout syncornyzation incrementing singlevaluecach value may lead some lost update","body":"Suppose singlevaluecache whitout syncornyzation incrementing singlevaluecach value may lead some lost update"},{"owner":{"account_id":313546,"reputation":7830,"user_id":628242,"accept_rate":55,"display_name":"Lokesh"},"score":0,"creation_date":1366689779,"post_id":16120114,"comment_id":23094535,"body_markdown":"We are never incrementing singlevaluecache[Its Immutable], we simply replace the reference. The last reference update is value which will reflect.","body":"We are never incrementing singlevaluecache[Its Immutable], we simply replace the reference. The last reference update is value which will reflect."},{"owner":{"account_id":1523181,"reputation":2433,"user_id":1422297,"accept_rate":100,"display_name":"Morteza Adi"},"score":0,"creation_date":1366699217,"post_id":16120114,"comment_id":23097560,"body_markdown":"By incrementing i mean getting value of SingleValueCach increment it, constructing new SingleValueCash with new value and put it back! ( in general any manipulation MUST involve getting value from immutable Obj and create new Immutable Object from new values- Operation which i believe is not thread safe)","body":"By incrementing i mean getting value of SingleValueCach increment it, constructing new SingleValueCash with new value and put it back! ( in general any manipulation MUST involve getting value from immutable Obj and create new Immutable Object from new values- Operation which i believe is not thread safe)"},{"owner":{"account_id":313546,"reputation":7830,"user_id":628242,"accept_rate":55,"display_name":"Lokesh"},"score":1,"creation_date":1366704224,"post_id":16120114,"comment_id":23100021,"body_markdown":"Ok , i get your point now. Nowhere in this cache they talk about increment the value stored in SingleValueCache thats a completely separate issue and must be synchronized [should be handled separately]. Point mentioned in this implementation is that because cache stores an immutable object its thread safe. Now imagine if this was not immutable then one user might be calling getValue and another modifying SAME OBJECT, this is not thread safe. With current impl., get and modify of SAME object can&#39;t happen at same time due to immutability.","body":"Ok , i get your point now. Nowhere in this cache they talk about increment the value stored in SingleValueCache thats a completely separate issue and must be synchronized [should be handled separately]. Point mentioned in this implementation is that because cache stores an immutable object its thread safe. Now imagine if this was not immutable then one user might be calling getValue and another modifying SAME OBJECT, this is not thread safe. With current impl., get and modify of SAME object can&#39;t happen at same time due to immutability."},{"owner":{"account_id":1523181,"reputation":2433,"user_id":1422297,"accept_rate":100,"display_name":"Morteza Adi"},"score":0,"creation_date":1366720717,"post_id":16120114,"comment_id":23109652,"body_markdown":"Absolutely! So this strategy (replacing mutable object with Immutable) doesn&#39;t make sense. We have to always get the value from Immutable Object create new Immutable Object from new value and put the new one back! and it is not thread safe operation! but the book said the class is thread safe! and this was where i can&#39;t understand.","body":"Absolutely! So this strategy (replacing mutable object with Immutable) doesn&#39;t make sense. We have to always get the value from Immutable Object create new Immutable Object from new value and put the new one back! and it is not thread safe operation! but the book said the class is thread safe! and this was where i can&#39;t understand."},{"owner":{"account_id":313546,"reputation":7830,"user_id":628242,"accept_rate":55,"display_name":"Lokesh"},"score":0,"creation_date":1366725002,"post_id":16120114,"comment_id":23112406,"body_markdown":"My friend ... thts why we have volatile!! Thread safety is not broken. If immutableValue was not volatile then each thread will have its own cached value and this cache will not work.","body":"My friend ... thts why we have volatile!! Thread safety is not broken. If immutableValue was not volatile then each thread will have its own cached value and this cache will not work."},{"owner":{"account_id":313546,"reputation":7830,"user_id":628242,"accept_rate":55,"display_name":"Lokesh"},"score":0,"creation_date":1366725517,"post_id":16120114,"comment_id":23112743,"body_markdown":"Just wanted to add another point that, it will not be thread safe if get and reference change happen at same time. This will be prevented by Volatile, hence making it thread safe.","body":"Just wanted to add another point that, it will not be thread safe if get and reference change happen at same time. This will be prevented by Volatile, hence making it thread safe."},{"owner":{"account_id":1523181,"reputation":2433,"user_id":1422297,"accept_rate":100,"display_name":"Morteza Adi"},"score":0,"creation_date":1366778631,"post_id":16120114,"comment_id":23135179,"body_markdown":"Thanks @loki. to sum up, because of volatile, getting and changing reference of Immutable is thread safe but Increment value inside it (by creating new object) is a horse of different color and should handle separately! am i correct?","body":"Thanks @loki. to sum up, because of volatile, getting and changing reference of Immutable is thread safe but Increment value inside it (by creating new object) is a horse of different color and should handle separately! am i correct?"},{"owner":{"account_id":313546,"reputation":7830,"user_id":628242,"accept_rate":55,"display_name":"Lokesh"},"score":1,"creation_date":1366778717,"post_id":16120114,"comment_id":23135201,"body_markdown":"Absolutely. If this object was mutable then this implementation was not thread safe.","body":"Absolutely. If this object was mutable then this implementation was not thread safe."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1681352685,"post_id":16120114,"comment_id":134043780,"body_markdown":"Immutability doesn&#39;t imply thread safety. Either the object needs to use safe publication (e.g. through a volatile variable,  a lock etc).  Or the object needs to rely on initialization safety. Initialization safety is a fallback strategy so that objects that are published without safe publication, will not cause for example security problems. So if neither of these mechanisms is used, then an immutable object, doesn&#39;t need to guarantee thread safety.","body":"Immutability doesn&#39;t imply thread safety. Either the object needs to use safe publication (e.g. through a volatile variable,  a lock etc).  Or the object needs to rely on initialization safety. Initialization safety is a fallback strategy so that objects that are published without safe publication, will not cause for example security problems. So if neither of these mechanisms is used, then an immutable object, doesn&#39;t need to guarantee thread safety."}],"tags":[],"owner":{"account_id":313546,"reputation":7830,"user_id":628242,"accept_rate":55,"display_name":"Lokesh"},"comment_count":12,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1366459874,"creation_date":1366459335,"answer_id":16120114,"question_id":16119871,"body_markdown":"Immutability implies thread safety because once created no thread can modify it, so value will remain consistent across threads.\r\n\r\nIn the above example &quot;private volatile OneValueCache immutableValue&quot; can hold only one value at a time , so if thread 1 updated first and then thread 2 updated reference value then the last value will represented by &quot;onevaluecache&quot; and update of Thread 1 will be lost as you are storing only one reference value.\r\n\r\nAt no point in steps mentioned by you state of OneValueCache is inconsistent, so it is thread safe.\r\n\r\nEDIT: Some of Cases where state will not be consistent are:\r\n\r\n1. If immutableValue variable was not volatile then each thread will store its own copy, which means cache will not work properly.\r\n\r\n2. If OneValueCache  class was mutable then mutiple threads will look to change its value simultaneously which means state will not be consistent hence not thread safe.","title":"Does using volatile to publish immutable objects are safe?","body":"<p>Immutability implies thread safety because once created no thread can modify it, so value will remain consistent across threads.</p>\n\n<p>In the above example \"private volatile OneValueCache immutableValue\" can hold only one value at a time , so if thread 1 updated first and then thread 2 updated reference value then the last value will represented by \"onevaluecache\" and update of Thread 1 will be lost as you are storing only one reference value.</p>\n\n<p>At no point in steps mentioned by you state of OneValueCache is inconsistent, so it is thread safe.</p>\n\n<p>EDIT: Some of Cases where state will not be consistent are:</p>\n\n<ol>\n<li><p>If immutableValue variable was not volatile then each thread will store its own copy, which means cache will not work properly.</p></li>\n<li><p>If OneValueCache  class was mutable then mutiple threads will look to change its value simultaneously which means state will not be consistent hence not thread safe.</p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1681352008,"post_id":75855544,"comment_id":134043724,"body_markdown":"Caches on modern processors are always coherent; they are the source of truth. Cache coherence is taken care of by the cache coherence protocol. RAM is just a spill bucket for whatever doesn&#39;t fit into the cache and can be completely out of sync with what is in cache. Volatile ensures 3 things: atomicity, visibility and ordering.","body":"Caches on modern processors are always coherent; they are the source of truth. Cache coherence is taken care of by the cache coherence protocol. RAM is just a spill bucket for whatever doesn&#39;t fit into the cache and can be completely out of sync with what is in cache. Volatile ensures 3 things: atomicity, visibility and ordering."}],"tags":[],"owner":{"account_id":28137630,"reputation":21,"user_id":21501147,"display_name":"Tommy"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679918919,"creation_date":1679918639,"answer_id":75855544,"question_id":16119871,"body_markdown":"volatile keyword ensures that threads pull latest version of immutable object from shared memory rather than from a local cache (ex: cpu register, stack, etc.). However, if two threads read, modify and publish the object simultaneously to the same volatile variable, changes from one thread can get lost. To support such use cases, it is better to use mutex like synchronized keyword or a read-write lock.\r\n\r\nTypically, you would use volatile when only one thread publishes updated immutable objects to that volatile variable, but multiple threads read from it. In such cases, you do not worry about thread interference.\r\n\r\nIn Java, threads can cache (partial/full) copies of non-volatile variables into their own &quot;reserved&quot; memory space (ex: cpu register, stack, etc.). volatile keyword can be seen as a way to bypass these caches and ensure that thread gets fresh copy of object when you access and only when you access the volatile variable. \r\n","title":"Does using volatile to publish immutable objects are safe?","body":"<p>volatile keyword ensures that threads pull latest version of immutable object from shared memory rather than from a local cache (ex: cpu register, stack, etc.). However, if two threads read, modify and publish the object simultaneously to the same volatile variable, changes from one thread can get lost. To support such use cases, it is better to use mutex like synchronized keyword or a read-write lock.</p>\n<p>Typically, you would use volatile when only one thread publishes updated immutable objects to that volatile variable, but multiple threads read from it. In such cases, you do not worry about thread interference.</p>\n<p>In Java, threads can cache (partial/full) copies of non-volatile variables into their own &quot;reserved&quot; memory space (ex: cpu register, stack, etc.). volatile keyword can be seen as a way to bypass these caches and ensure that thread gets fresh copy of object when you access and only when you access the volatile variable.</p>\n"}],"owner":{"account_id":1523181,"reputation":2433,"user_id":1422297,"accept_rate":100,"display_name":"Morteza Adi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2402,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":16120114,"answer_count":2,"score":2,"last_activity_date":1679918919,"creation_date":1366457725,"question_id":16119871,"body_markdown":"Recently I read &quot;Java concurrency in practice&quot;\r\n\tSection --&gt; &quot;3.4.2 Example: Using volatile to publish immutable objects&quot;. \r\n\r\nHowever; I can&#39;t quietly understand it.\r\nHere is the situation!\r\n\r\nImmutable object is:\r\n\r\n\t@Immutable\r\n\tclass OneValueCache {\r\n\t\tprivate final BigInteger lastNumber;\r\n\t\tprivate final BigInteger[] lastFactors;\r\n\t\tpublic OneValueCache(BigInteger i, BigInteger[] factors) {\r\n\t\t\tlastNumber = i;\r\n\t\t\tlastFactors = Arrays.copyOf(factors, factors.length);\r\n\t\t}\r\n\t\tpublic BigInteger[] getFactors(BigInteger i) {\r\n\t\t\tif (lastNumber == null || !lastNumber.equals(i))\r\n\t\t\t\treturn null;\r\n\t\t\telse\r\n\t\t\t\treturn Arrays.copyOf(lastFactors, lastFactors.length);\r\n\t\t}\r\n\t}\r\n\r\nSuppose we have a servlet like this\r\n\r\n    public class MyServlet {\r\n\tprivate volatile OneValueCache immutableValue;\r\n\t.\r\n\t.\r\n \t\r\n\tpublic void service(){\r\n                .\r\n                // what this function do : gets value from immutable object increments its\r\n                // value and creates new Immutable object and put it back.\r\n                // \r\n                .\r\n\t\timmutableValue = new OneValueCache( lastNumber, lastFactor[]);\r\n\t\t.\r\n\t\t.\r\n\t\t.\r\n\t}\r\n\t.\r\n\t.\r\n\t.\r\n    }\r\n\r\n\r\nAccording the book MyServlet is Thread Safe because it publishes Immutable Object with volatile keyword!\r\n\r\nHowever I think there is a problem here!\r\n\r\nSuppose:\r\n\r\n Thread 1 in time 0 read the values from immutableValue to its stack var;\r\n\r\n Thread 2 in time 0 read the values from immutableValue to its stack var;\r\n\r\n Thread 1 in time 1 increment the values in stack variable and create new OneValueCache \r\n          object -which is immutable - and put it in immutableValue field variable;\r\n\r\n Thread 2 in time 2 increment the values in stack variable and create new OneValueCache\r\n          object -which is immutable - and put it in immutableValue field variable;\r\n\r\n\r\nThis way we lost Thread1 update so there is no ThreadSafty here!\r\n\r\nOn the contrary the book says:\r\n\r\n**&quot;\r\nThis combination of an immutable holder object for\r\nmultiple state variables related by an invariant, and a volatile reference used to\r\nensure its timely visibility, allows VolatileCachedFactorizer to be thread-safe\r\neven though it does no explicit locking.\r\n&quot;**\r\n\r\nCan anyone help me what am I missing here?\r\n\r\np.s: to more clarify, I know data consistency is held here. we can not have invalid OneValueCache state. but there is a chance for lost update here as my thread sequence shows. so the class is not thread safe!","title":"Does using volatile to publish immutable objects are safe?","body":"<p>Recently I read \"Java concurrency in practice\"\n    Section --> \"3.4.2 Example: Using volatile to publish immutable objects\". </p>\n\n<p>However; I can't quietly understand it.\nHere is the situation!</p>\n\n<p>Immutable object is:</p>\n\n<pre><code>@Immutable\nclass OneValueCache {\n    private final BigInteger lastNumber;\n    private final BigInteger[] lastFactors;\n    public OneValueCache(BigInteger i, BigInteger[] factors) {\n        lastNumber = i;\n        lastFactors = Arrays.copyOf(factors, factors.length);\n    }\n    public BigInteger[] getFactors(BigInteger i) {\n        if (lastNumber == null || !lastNumber.equals(i))\n            return null;\n        else\n            return Arrays.copyOf(lastFactors, lastFactors.length);\n    }\n}\n</code></pre>\n\n<p>Suppose we have a servlet like this</p>\n\n<pre><code>public class MyServlet {\nprivate volatile OneValueCache immutableValue;\n.\n.\n\npublic void service(){\n            .\n            // what this function do : gets value from immutable object increments its\n            // value and creates new Immutable object and put it back.\n            // \n            .\n    immutableValue = new OneValueCache( lastNumber, lastFactor[]);\n    .\n    .\n    .\n}\n.\n.\n.\n}\n</code></pre>\n\n<p>According the book MyServlet is Thread Safe because it publishes Immutable Object with volatile keyword!</p>\n\n<p>However I think there is a problem here!</p>\n\n<p>Suppose:</p>\n\n<p>Thread 1 in time 0 read the values from immutableValue to its stack var;</p>\n\n<p>Thread 2 in time 0 read the values from immutableValue to its stack var;</p>\n\n<p>Thread 1 in time 1 increment the values in stack variable and create new OneValueCache \n          object -which is immutable - and put it in immutableValue field variable;</p>\n\n<p>Thread 2 in time 2 increment the values in stack variable and create new OneValueCache\n          object -which is immutable - and put it in immutableValue field variable;</p>\n\n<p>This way we lost Thread1 update so there is no ThreadSafty here!</p>\n\n<p>On the contrary the book says:</p>\n\n<p><strong>\"\nThis combination of an immutable holder object for\nmultiple state variables related by an invariant, and a volatile reference used to\nensure its timely visibility, allows VolatileCachedFactorizer to be thread-safe\neven though it does no explicit locking.\n\"</strong></p>\n\n<p>Can anyone help me what am I missing here?</p>\n\n<p>p.s: to more clarify, I know data consistency is held here. we can not have invalid OneValueCache state. but there is a chance for lost update here as my thread sequence shows. so the class is not thread safe!</p>\n"},{"tags":["java","pdf","itext","documentation"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1679920655,"post_id":75855574,"comment_id":133801925,"body_markdown":"This sounds like you have a different iText version on your server (or multiple ones, and a different one is used here). The method in question has been in iText since version 2.1.2 - before that the argument was a `char` instead of an `int` - so you should look for an iText 2.1.1 or older.","body":"This sounds like you have a different iText version on your server (or multiple ones, and a different one is used here). The method in question has been in iText since version 2.1.2 - before that the argument was a <code>char</code> instead of an <code>int</code> - so you should look for an iText 2.1.1 or older."}],"owner":{"account_id":11175490,"reputation":31,"user_id":9562845,"display_name":"Vignesh Ramamoorthy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679918903,"creation_date":1679918903,"question_id":75855574,"body_markdown":"Am using com.lowagie.text-2.1.7 jar to convert my input docx file to PDF output. I had compiled my code and deployed it in the server.\r\nBut when I run my pdf convertor I am getting the following sets of error in the console\r\n\r\n&#160;\r\n\r\n```\r\n Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.lowagie.text.pdf.BaseFont.charExists(I)Z\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at fr.opensagres.xdocreport.itext.extension.font.FontGroup.getUnicodeGroup(FontGroup.java:37)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at fr.opensagres.poi.xwpf.converter.pdf.internal.PdfMapper.createAndAddChunks(PdfMapper.java:654)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at fr.opensagres.poi.xwpf.converter.pdf.internal.PdfMapper.visitText(PdfMapper.java:600)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at fr.opensagres.poi.xwpf.converter.pdf.internal.PdfMapper.visitText(PdfMapper.java:100)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at fr.opensagres.poi.xwpf.converter.core.XWPFDocumentVisitor.visitRun(XWPFDocumentVisitor.java:805)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at fr.opensagres.poi.xwpf.converter.pdf.internal.PdfMapper.visitRun(PdfMapper.java:526)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at fr.opensagres.poi.xwpf.converter.pdf.internal.PdfMapper.visitRun(PdfMapper.java:100)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at fr.opensagres.poi.xwpf.converter.core.XWPFDocumentVisitor.visitRuns(XWPFDocumentVisitor.java:647)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at fr.opensagres.poi.xwpf.converter.core.XWPFDocumentVisitor.visitParagraphBody(XWPFDocumentVisitor.java:467)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at fr.opensagres.poi.xwpf.converter.core.XWPFDocumentVisitor.visitParagraph(XWPFDocumentVisitor.java:358)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at fr.opensagres.poi.xwpf.converter.core.XWPFDocumentVisitor.visitBodyElements(XWPFDocumentVisitor.java:231)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at fr.opensagres.poi.xwpf.converter.core.XWPFDocumentVisitor.visitTableCellBody(XWPFDocumentVisitor.java:1141)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at fr.opensagres.poi.xwpf.converter.core.XWPFDocumentVisitor.visitCell(XWPFDocumentVisitor.java:1076)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at fr.opensagres.poi.xwpf.converter.core.XWPFDocumentVisitor.visitTableRow(XWPFDocumentVisitor.java:1024)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at fr.opensagres.poi.xwpf.converter.core.XWPFDocumentVisitor.visitTableBody(XWPFDocumentVisitor.java:918)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at fr.opensagres.poi.xwpf.converter.core.XWPFDocumentVisitor.visitTable(XWPFDocumentVisitor.java:900)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at fr.opensagres.poi.xwpf.converter.core.XWPFDocumentVisitor.visitBodyElements(XWPFDocumentVisitor.java:235)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at fr.opensagres.poi.xwpf.converter.pdf.internal.PdfMapper.visitFooter(PdfMapper.java:204)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at fr.opensagres.poi.xwpf.converter.pdf.internal.PdfMapper.visitFooter(PdfMapper.java:100)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at fr.opensagres.poi.xwpf.converter.core.XWPFDocumentVisitor.visitFooterRef(XWPFDocumentVisitor.java:1187)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at fr.opensagres.poi.xwpf.converter.core.MasterPageManager.visitHeadersFooters(MasterPageManager.java:225)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at fr.opensagres.poi.xwpf.converter.core.MasterPageManager.addSection(MasterPageManager.java:181)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at fr.opensagres.poi.xwpf.converter.core.MasterPageManager.compute(MasterPageManager.java:128)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at fr.opensagres.poi.xwpf.converter.core.MasterPageManager.initialize(MasterPageManager.java:91)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at fr.opensagres.poi.xwpf.converter.core.XWPFDocumentVisitor.visitBodyElements(XWPFDocumentVisitor.java:216)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at fr.opensagres.poi.xwpf.converter.core.XWPFDocumentVisitor.start(XWPFDocumentVisitor.java:183)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at fr.opensagres.poi.xwpf.converter.pdf.PdfConverter.doConvert(PdfConverter.java:57)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at fr.opensagres.poi.xwpf.converter.pdf.PdfConverter.doConvert(PdfConverter.java:39)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at fr.opensagres.poi.xwpf.converter.core.AbstractXWPFConverter.convert(AbstractXWPFConverter.java:46)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at DocGenCode.DocGenCode.PDFConverter(DocGenCode.java:80)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at DocGenCode.DocGenCode.createPDF1(DocGenCode.java:847)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; at DocumentGeneration.DocumentGeneration.main(DocumentGeneration.java:1261)\r\n ```\r\n\r\n\r\nI have already imported com.lowagie.text-2.1.7.jar along with fr.opensagres.xdocreport.itext.extension-2.0.1.jar,&#160;\r\nfr.opensagres.poi.xwpf.converter.pdf-2.0.1.jar, fr.opensagres.poi.xwpf.converter.core-2.0.1.jar. I had also placed these jars in the lib folder in the utility location of my server. Using my netbeans I just checked the jars and com.lowagie.text.pdf.BaseFont does have public boolean charExists(int i) {} function. But still am at a loss on why am getting such errors. Does anyone have an idea on what the issue is or provide me with any resources available to resolve this ?\r\n\r\n","title":"NoSuchMethodError error in java while converting docx file to pdf","body":"<p>Am using com.lowagie.text-2.1.7 jar to convert my input docx file to PDF output. I had compiled my code and deployed it in the server.\nBut when I run my pdf convertor I am getting the following sets of error in the console</p>\n<p>¬†</p>\n<pre><code> Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.lowagie.text.pdf.BaseFont.charExists(I)Z\n¬†¬†¬†¬†¬†¬†¬† at fr.opensagres.xdocreport.itext.extension.font.FontGroup.getUnicodeGroup(FontGroup.java:37)\n¬†¬†¬†¬†¬†¬†¬† at fr.opensagres.poi.xwpf.converter.pdf.internal.PdfMapper.createAndAddChunks(PdfMapper.java:654)\n¬†¬†¬†¬†¬†¬†¬† at fr.opensagres.poi.xwpf.converter.pdf.internal.PdfMapper.visitText(PdfMapper.java:600)\n¬†¬†¬†¬†¬†¬†¬† at fr.opensagres.poi.xwpf.converter.pdf.internal.PdfMapper.visitText(PdfMapper.java:100)\n¬†¬†¬†¬†¬†¬†¬† at fr.opensagres.poi.xwpf.converter.core.XWPFDocumentVisitor.visitRun(XWPFDocumentVisitor.java:805)\n¬†¬†¬†¬†¬†¬†¬† at fr.opensagres.poi.xwpf.converter.pdf.internal.PdfMapper.visitRun(PdfMapper.java:526)\n¬†¬†¬†¬†¬†¬†¬† at fr.opensagres.poi.xwpf.converter.pdf.internal.PdfMapper.visitRun(PdfMapper.java:100)\n¬†¬†¬†¬†¬†¬†¬† at fr.opensagres.poi.xwpf.converter.core.XWPFDocumentVisitor.visitRuns(XWPFDocumentVisitor.java:647)\n¬†¬†¬†¬†¬†¬†¬† at fr.opensagres.poi.xwpf.converter.core.XWPFDocumentVisitor.visitParagraphBody(XWPFDocumentVisitor.java:467)\n¬†¬†¬†¬†¬†¬†¬† at fr.opensagres.poi.xwpf.converter.core.XWPFDocumentVisitor.visitParagraph(XWPFDocumentVisitor.java:358)\n¬†¬†¬†¬†¬†¬†¬† at fr.opensagres.poi.xwpf.converter.core.XWPFDocumentVisitor.visitBodyElements(XWPFDocumentVisitor.java:231)\n¬†¬†¬†¬†¬†¬†¬† at fr.opensagres.poi.xwpf.converter.core.XWPFDocumentVisitor.visitTableCellBody(XWPFDocumentVisitor.java:1141)\n¬†¬†¬†¬†¬†¬†¬† at fr.opensagres.poi.xwpf.converter.core.XWPFDocumentVisitor.visitCell(XWPFDocumentVisitor.java:1076)\n¬†¬†¬†¬†¬†¬†¬† at fr.opensagres.poi.xwpf.converter.core.XWPFDocumentVisitor.visitTableRow(XWPFDocumentVisitor.java:1024)\n¬†¬†¬†¬†¬†¬†¬† at fr.opensagres.poi.xwpf.converter.core.XWPFDocumentVisitor.visitTableBody(XWPFDocumentVisitor.java:918)\n¬†¬†¬†¬†¬†¬†¬† at fr.opensagres.poi.xwpf.converter.core.XWPFDocumentVisitor.visitTable(XWPFDocumentVisitor.java:900)\n¬†¬†¬†¬†¬†¬†¬† at fr.opensagres.poi.xwpf.converter.core.XWPFDocumentVisitor.visitBodyElements(XWPFDocumentVisitor.java:235)\n¬†¬†¬†¬†¬†¬†¬† at fr.opensagres.poi.xwpf.converter.pdf.internal.PdfMapper.visitFooter(PdfMapper.java:204)\n¬†¬†¬†¬†¬†¬†¬† at fr.opensagres.poi.xwpf.converter.pdf.internal.PdfMapper.visitFooter(PdfMapper.java:100)\n¬†¬†¬†¬†¬†¬†¬† at fr.opensagres.poi.xwpf.converter.core.XWPFDocumentVisitor.visitFooterRef(XWPFDocumentVisitor.java:1187)\n¬†¬†¬†¬†¬†¬†¬† at fr.opensagres.poi.xwpf.converter.core.MasterPageManager.visitHeadersFooters(MasterPageManager.java:225)\n¬†¬†¬†¬†¬†¬†¬† at fr.opensagres.poi.xwpf.converter.core.MasterPageManager.addSection(MasterPageManager.java:181)\n¬†¬†¬†¬†¬†¬†¬† at fr.opensagres.poi.xwpf.converter.core.MasterPageManager.compute(MasterPageManager.java:128)\n¬†¬†¬†¬†¬†¬†¬† at fr.opensagres.poi.xwpf.converter.core.MasterPageManager.initialize(MasterPageManager.java:91)\n¬†¬†¬†¬†¬†¬†¬† at fr.opensagres.poi.xwpf.converter.core.XWPFDocumentVisitor.visitBodyElements(XWPFDocumentVisitor.java:216)\n¬†¬†¬†¬†¬†¬†¬† at fr.opensagres.poi.xwpf.converter.core.XWPFDocumentVisitor.start(XWPFDocumentVisitor.java:183)\n¬†¬†¬†¬†¬†¬†¬† at fr.opensagres.poi.xwpf.converter.pdf.PdfConverter.doConvert(PdfConverter.java:57)\n¬†¬†¬†¬†¬†¬†¬† at fr.opensagres.poi.xwpf.converter.pdf.PdfConverter.doConvert(PdfConverter.java:39)\n¬†¬†¬†¬†¬†¬†¬† at fr.opensagres.poi.xwpf.converter.core.AbstractXWPFConverter.convert(AbstractXWPFConverter.java:46)\n¬†¬†¬†¬†¬†¬†¬† at DocGenCode.DocGenCode.PDFConverter(DocGenCode.java:80)\n¬†¬†¬†¬†¬†¬†¬† at DocGenCode.DocGenCode.createPDF1(DocGenCode.java:847)\n¬†¬†¬†¬†¬†¬†¬† at DocumentGeneration.DocumentGeneration.main(DocumentGeneration.java:1261)\n</code></pre>\n<p>I have already imported com.lowagie.text-2.1.7.jar along with fr.opensagres.xdocreport.itext.extension-2.0.1.jar,¬†\nfr.opensagres.poi.xwpf.converter.pdf-2.0.1.jar, fr.opensagres.poi.xwpf.converter.core-2.0.1.jar. I had also placed these jars in the lib folder in the utility location of my server. Using my netbeans I just checked the jars and com.lowagie.text.pdf.BaseFont does have public boolean charExists(int i) {} function. But still am at a loss on why am getting such errors. Does anyone have an idea on what the issue is or provide me with any resources available to resolve this ?</p>\n"},{"tags":["java","tomcat","web-applications"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1679905789,"post_id":75853461,"comment_id":133798169,"body_markdown":"Note: Making a new URL connection and `crossContext` have nothing to do with each other. More important: As you ask for &quot;the best way&quot;: That&#39;s quite an opinionated question and depends on a lot of criteria that is not contained in your question. That&#39;s why opinionated questions are a reason for closing a question on stackoverflow. You might want to edit it to be less opinionated and more specific.","body":"Note: Making a new URL connection and <code>crossContext</code> have nothing to do with each other. More important: As you ask for &quot;the best way&quot;: That&#39;s quite an opinionated question and depends on a lot of criteria that is not contained in your question. That&#39;s why opinionated questions are a reason for closing a question on stackoverflow. You might want to edit it to be less opinionated and more specific."},{"owner":{"account_id":4133056,"reputation":532,"user_id":5967354,"display_name":"user27772"},"score":0,"creation_date":1679919004,"post_id":75853461,"comment_id":133801495,"body_markdown":"@OlafKock: Thank you for your valuable hints. I edited my question.","body":"@OlafKock: Thank you for your valuable hints. I edited my question."}],"owner":{"account_id":4133056,"reputation":532,"user_id":5967354,"display_name":"user27772"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679918856,"creation_date":1679904665,"question_id":75853461,"body_markdown":"In a running servlet request I need to request data from an other servlet of a different webapp running in the same Tomcat instance. Using new URL connections to the same Tomcat connector/port would work in general but it may run into deadlocks when max connection/threads ist reached.\r\n\r\nI&#39;m aware of the both methods *RequestDispatcher.forward()* and *RequestDispatcher.include()* in combination with Tomcat&#39;s *crossContext=true* option, but as far as I know, both methods are designed to work directly on the current *ServletResponse* instance which I don&#39;t want.\r\n\r\nAre there alternatives to those two approaches? I thought of creating and passing new *ServletRequest* and *ServletResponse* instances to one of the both *RequestDispatcher* methods above, but I could not find examples on this so far.\r\n\r\nAny ideas are appreciated.","title":"How to incoperate responses from other webapps running in same Tomcat instance?","body":"<p>In a running servlet request I need to request data from an other servlet of a different webapp running in the same Tomcat instance. Using new URL connections to the same Tomcat connector/port would work in general but it may run into deadlocks when max connection/threads ist reached.</p>\n<p>I'm aware of the both methods <em>RequestDispatcher.forward()</em> and <em>RequestDispatcher.include()</em> in combination with Tomcat's <em>crossContext=true</em> option, but as far as I know, both methods are designed to work directly on the current <em>ServletResponse</em> instance which I don't want.</p>\n<p>Are there alternatives to those two approaches? I thought of creating and passing new <em>ServletRequest</em> and <em>ServletResponse</em> instances to one of the both <em>RequestDispatcher</em> methods above, but I could not find examples on this so far.</p>\n<p>Any ideas are appreciated.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":315165,"reputation":697,"user_id":630779,"accept_rate":50,"display_name":"Matt Moran"},"score":0,"creation_date":1679786720,"post_id":75845073,"comment_id":133783703,"body_markdown":"Note that if I do specify a profile on the non-profiled service, the problem goes away, but, should we have to do that? Potentially that&#39;s a lot of classes to annotate if we&#39;re talking about a big system one is maintaining.","body":"Note that if I do specify a profile on the non-profiled service, the problem goes away, but, should we have to do that? Potentially that&#39;s a lot of classes to annotate if we&#39;re talking about a big system one is maintaining."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1679819155,"post_id":75845073,"comment_id":133786126,"body_markdown":"Beans without an `@Profile` (or whatever condition) are **always created** also the `@ActiveProfile` annotation is an testing annotation and is for use in tests **not** for use in main code. YOu can mark your non profile limited implementation with `@Primary` which means if no dedicated candidate can be found use this one.","body":"Beans without an <code>@Profile</code> (or whatever condition) are <b>always created</b> also the <code>@ActiveProfile</code> annotation is an testing annotation and is for use in tests <b>not</b> for use in main code. YOu can mark your non profile limited implementation with <code>@Primary</code> which means if no dedicated candidate can be found use this one."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1679821020,"post_id":75845073,"comment_id":133786340,"body_markdown":"&quot;If no profile is active, a default profile is enabled. The name of the default profile is `default` and it can be tuned using the `spring.profiles.default` Environment property..&quot; ..from [doc](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.profiles)","body":"&quot;If no profile is active, a default profile is enabled. The name of the default profile is <code>default</code> and it can be tuned using the <code>spring.profiles.default</code> Environment property..&quot; ..from <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.profiles\" rel=\"nofollow noreferrer\">doc</a>"},{"owner":{"account_id":315165,"reputation":697,"user_id":630779,"accept_rate":50,"display_name":"Matt Moran"},"score":0,"creation_date":1679916783,"post_id":75845073,"comment_id":133800936,"body_markdown":"@M.Deinum - can you redo that as an answer rather than as a comment? I think that&#39;s worked, &amp; deserves proper credit for answering the question. Thanks!","body":"@M.Deinum - can you redo that as an answer rather than as a comment? I think that&#39;s worked, &amp; deserves proper credit for answering the question. Thanks!"}],"answers":[{"comments":[{"owner":{"account_id":315165,"reputation":697,"user_id":630779,"accept_rate":50,"display_name":"Matt Moran"},"score":0,"creation_date":1679916287,"post_id":75845652,"comment_id":133800814,"body_markdown":"Yeah, to be fair this was just an exercise from Spring Framework Guru&#39;s &quot;Spring Framework 6 &amp; Spring Boot 3 Beginner to Guru&quot; course, rather than any kind of use in the field - there&#39;re definitely better ways to go about this that avoid what&#39;s essentially an out of control multi-classing smell. Thanks though.","body":"Yeah, to be fair this was just an exercise from Spring Framework Guru&#39;s &quot;Spring Framework 6 &amp; Spring Boot 3 Beginner to Guru&quot; course, rather than any kind of use in the field - there&#39;re definitely better ways to go about this that avoid what&#39;s essentially an out of control multi-classing smell. Thanks though."}],"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679799870,"creation_date":1679799870,"answer_id":75845652,"question_id":75845073,"body_markdown":"The `@Profile` annotation restricts the bean&#39;s creation, in the absence of `@Profile`, and with the presence of `@Service`, Spring will create the bean and add it to the application context.  Now, it&#39;s available for auto wiring just like any other bean of the same type.\r\n\r\nLooking at your use-case, it looks like you&#39;re creating support for i18n.  I don&#39;t think you want to use Profiles to drive this behavior.  For one reason, with each new language that you want to support, you&#39;ll have to create an entirely new instance of your GreetingService.  Spring has built-in support for i18n; simply create `message` files for each language you want to support, e.g.  Read up on their documentation for [MessageSource](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/MessageSource.html) and [Spring Internationalization](https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-internationalization.html).","title":"Spring Boot picks up non-profiled implementations of an interface along with profiled ones when an active profile is set","body":"<p>The <code>@Profile</code> annotation restricts the bean's creation, in the absence of <code>@Profile</code>, and with the presence of <code>@Service</code>, Spring will create the bean and add it to the application context.  Now, it's available for auto wiring just like any other bean of the same type.</p>\n<p>Looking at your use-case, it looks like you're creating support for i18n.  I don't think you want to use Profiles to drive this behavior.  For one reason, with each new language that you want to support, you'll have to create an entirely new instance of your GreetingService.  Spring has built-in support for i18n; simply create <code>message</code> files for each language you want to support, e.g.  Read up on their documentation for <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/MessageSource.html\" rel=\"nofollow noreferrer\">MessageSource</a> and <a href=\"https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-internationalization.html\" rel=\"nofollow noreferrer\">Spring Internationalization</a>.</p>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679918772,"creation_date":1679918772,"answer_id":75855562,"question_id":75845073,"body_markdown":"Beans without an `@Profile` (or whatever condition for that matter) are always created. \r\n\r\nYou can mark your non-profile limited implementation with `@Primary` which means if no dedicated candidate (through name or qualifier) can be found use this one.","title":"Spring Boot picks up non-profiled implementations of an interface along with profiled ones when an active profile is set","body":"<p>Beans without an <code>@Profile</code> (or whatever condition for that matter) are always created.</p>\n<p>You can mark your non-profile limited implementation with <code>@Primary</code> which means if no dedicated candidate (through name or qualifier) can be found use this one.</p>\n"}],"owner":{"account_id":315165,"reputation":697,"user_id":630779,"accept_rate":50,"display_name":"Matt Moran"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679918772,"creation_date":1679786541,"question_id":75845073,"body_markdown":"I&#39;ve been doing some illustrative programming for a course I&#39;m doing on Udemy, intended to show principles of Spring Boot dependency injection using Profiles and Qualifiers. \r\n\r\nThere&#39;s a Test that has an `@Autowired` controller. In the Controller it specifies `@ActiveProfiles(&quot;EN&quot;)` for the English `GreetingService`, and in the constructor it has a qualifier `@Qualifier(&quot;i18nService&quot;)` on the `GreetingService` parameter so that the constructor for the Controller wires in an i18nService English GreetingService. \r\n\r\nTrouble is there&#39;s also a `GreetingService` that has no `@Profile` set, and unless I specify a `@Profile` on it then Boot will attempt to wire both the English i18nService *and* the default, non-profiled version, that has no Qualifier or Profile set.\r\n\r\nWhy is this happening? Is there a good reason for it? Is there a convenient way to specify &quot;If there&#39;s a specified component you&#39;ve been told explicitly to wire in, and another more generic one that you haven&#39;t, wire in the one you&#39;ve been told to wire in &amp; leave the other well alone&quot;?\r\n\r\nCode is at https://github.com/Skiamakhos/Spring6DI/tree/main if folks want a look.","title":"Spring Boot picks up non-profiled implementations of an interface along with profiled ones when an active profile is set","body":"<p>I've been doing some illustrative programming for a course I'm doing on Udemy, intended to show principles of Spring Boot dependency injection using Profiles and Qualifiers.</p>\n<p>There's a Test that has an <code>@Autowired</code> controller. In the Controller it specifies <code>@ActiveProfiles(&quot;EN&quot;)</code> for the English <code>GreetingService</code>, and in the constructor it has a qualifier <code>@Qualifier(&quot;i18nService&quot;)</code> on the <code>GreetingService</code> parameter so that the constructor for the Controller wires in an i18nService English GreetingService.</p>\n<p>Trouble is there's also a <code>GreetingService</code> that has no <code>@Profile</code> set, and unless I specify a <code>@Profile</code> on it then Boot will attempt to wire both the English i18nService <em>and</em> the default, non-profiled version, that has no Qualifier or Profile set.</p>\n<p>Why is this happening? Is there a good reason for it? Is there a convenient way to specify &quot;If there's a specified component you've been told explicitly to wire in, and another more generic one that you haven't, wire in the one you've been told to wire in &amp; leave the other well alone&quot;?</p>\n<p>Code is at <a href=\"https://github.com/Skiamakhos/Spring6DI/tree/main\" rel=\"nofollow noreferrer\">https://github.com/Skiamakhos/Spring6DI/tree/main</a> if folks want a look.</p>\n"},{"tags":["java","database","spring-boot","docker","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679918756,"creation_date":1679918756,"answer_id":75855559,"question_id":75849655,"body_markdown":"After I deleted all images, volumes and container which I created before, I ran this command `docker-compose up --build`. Next, I tested the app to send any request and the issue disappeared.","title":"Spring Boot with docker-compose database connection issue through Apache Kafka for mongodb and mysql","body":"<p>After I deleted all images, volumes and container which I created before, I ran this command <code>docker-compose up --build</code>. Next, I tested the app to send any request and the issue disappeared.</p>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75855559,"answer_count":1,"score":-1,"last_activity_date":1679918756,"creation_date":1679854345,"question_id":75849655,"body_markdown":"I have a problem in my Spring Boot CQRS example running on docker. \r\nWhen I try to send any request from postman collection through postman, I get the successful message and I can see any data stored in MongoDB for account-cmd. Except for that, I get 204 No Content message for the account-query part as I cannot see any data stored in Mysql .\r\n\r\n\r\nHere is my docker-compose.yml shown below\r\n\r\n    version: &#39;3.9&#39;\r\n    \r\n    services:\r\n      account-cmd:\r\n        image: &#39;account-cmd:latest&#39;\r\n        build:\r\n          context: ./account.cmd\r\n        ports:\r\n          - &quot;5000:5000&quot;\r\n        depends_on:\r\n          - zookeeper\r\n          - kafka\r\n          - mongodb\r\n        environment:\r\n          - kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\r\n          - kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\r\n          - spring.data.mongodb.host=mongodb\r\n          - spring.data.mongodb.port=27017\r\n          - spring.data.mongodb.database=bankAccount\r\n          - server.port=5000\r\n          - spring.kafka.producer.bootstrap-servers=kafka:9092\r\n        networks:\r\n          - bankAccount\r\n    \r\n      account-query:\r\n        image: &#39;account-query:latest&#39;\r\n        build:\r\n          context: ./account.query\r\n        ports:\r\n          - &quot;5001:5001&quot;\r\n        depends_on:\r\n          - zookeeper\r\n          - kafka\r\n          - database\r\n        environment:\r\n          - spring.datasource.url=jdbc:mysql://database:3306/bankAccount?createDatabaseIfNotExist=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true\r\n          - server.port=5001\r\n          - spring.datasource.username=root\r\n          - spring.datasource.password=ippavlova_1990\r\n          - spring.kafka.consumer.group-id=bankaccConsumer\r\n          - spring.kafka.consumer.auto-offset-reset=earliest\r\n          - spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\n          - spring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer\r\n          - spring.kafka.consumer.properties.spring.json.trusted.packages=*\r\n          - spring.kafka.consumer.bootstrap-servers=kafka:9092\r\n        networks:\r\n          - bankAccount\r\n    \r\n      database:\r\n        container_name: mysql-database\r\n        image: &#39;mysql:latest&#39;\r\n        ports:\r\n          - &quot;3306:3306&quot;\r\n        restart: always\r\n        environment:\r\n          MYSQL_PASSWORD: ippavlova_1990\r\n          MYSQL_ROOT_PASSWORD: ippavlova_1990\r\n        volumes:\r\n          - db-data:/var/lib/mysql\r\n        networks:\r\n          - bankAccount\r\n        healthcheck:\r\n          test: [ &quot;CMD&quot;, &quot;mysqladmin&quot; ,&quot;ping&quot;, &quot;-h&quot;, &quot;localhost&quot; ]\r\n          timeout: 20s\r\n          retries: 10\r\n    \r\n    \r\n      mongodb:\r\n        image: &quot;mongo:latest&quot;\r\n        container_name: mongo-container\r\n        restart: always\r\n        ports:\r\n          - &quot;27017:27017&quot;\r\n        volumes:\r\n          - mongodb_data_container:/data/db\r\n        networks:\r\n          - bankAccount\r\n    \r\n      zookeeper:\r\n        image: &#39;bitnami/zookeeper:latest&#39;\r\n        restart: always\r\n        ports:\r\n          - &quot;2181:2181&quot;\r\n        volumes:\r\n          - &quot;zookeeper_data:/bitnami&quot;\r\n        environment:\r\n          - ALLOW_ANONYMOUS_LOGIN=yes\r\n        networks:\r\n          - bankAccount\r\n    \r\n      kafka:\r\n        image: &#39;bitnami/kafka:latest&#39;\r\n        ports:\r\n          - &#39;9092:9092&#39;\r\n          - &#39;9093:9093&#39;\r\n        environment:\r\n          - KAFKA_CFG_ZOOKEEPER_CONNECT=zookeeper:2181\r\n          - ALLOW_PLAINTEXT_LISTENER=yes\r\n          - KAFKA_CFG_LISTENER_SECURITY_PROTOCOL_MAP=CLIENT:PLAINTEXT,EXTERNAL:PLAINTEXT\r\n          - KAFKA_CFG_LISTENERS=CLIENT://:9092,EXTERNAL://:9093\r\n          - KAFKA_CFG_ADVERTISED_LISTENERS=CLIENT://kafka:9092,EXTERNAL://localhost:9093\r\n          - KAFKA_CFG_INTER_BROKER_LISTENER_NAME=CLIENT\r\n        depends_on:\r\n          - zookeeper\r\n        networks:\r\n          - bankAccount\r\n    \r\n    \r\n    volumes:\r\n      mongodb_data_container:\r\n      db-data:\r\n      zookeeper_data:\r\n        driver: local\r\n      kafka_data:\r\n        driver: local\r\n    \r\n    networks:\r\n      bankAccount:\r\n\r\nHow can I fix it?\r\n\r\n[![Link][1]][1]\r\n[![Link][2]][2]\r\n[![Link][3]][3]\r\n\r\nHere is the MongoDB commands to show the result\r\n\r\n    -&gt; docker exec -it mongo-container bash\r\n    -&gt; mongosh\r\n    -&gt; show dbs\r\n    -&gt; use eventStore\r\n    -&gt; db.eventStore.find({})\r\n\r\nHere is the Mysql commands to show the result\r\n\r\n    -&gt; docker exec -it mysql_container_name mysql -uroot -p\r\n    -&gt; Enter password: password\r\n    -&gt; USE bankAccount\r\n    -&gt; show tables;\r\n    -&gt; SELECT * FROM bank_account;\r\n\r\nHere is my repo : [Link][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EDxEI.png\r\n  [2]: https://i.stack.imgur.com/kaQEx.png\r\n  [3]: https://i.stack.imgur.com/BwYxk.png\r\n  [4]: https://github.com/Rapter1990/cqrs-example","title":"Spring Boot with docker-compose database connection issue through Apache Kafka for mongodb and mysql","body":"<p>I have a problem in my Spring Boot CQRS example running on docker.\nWhen I try to send any request from postman collection through postman, I get the successful message and I can see any data stored in MongoDB for account-cmd. Except for that, I get 204 No Content message for the account-query part as I cannot see any data stored in Mysql .</p>\n<p>Here is my docker-compose.yml shown below</p>\n<pre><code>version: '3.9'\n\nservices:\n  account-cmd:\n    image: 'account-cmd:latest'\n    build:\n      context: ./account.cmd\n    ports:\n      - &quot;5000:5000&quot;\n    depends_on:\n      - zookeeper\n      - kafka\n      - mongodb\n    environment:\n      - kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\n      - kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\n      - spring.data.mongodb.host=mongodb\n      - spring.data.mongodb.port=27017\n      - spring.data.mongodb.database=bankAccount\n      - server.port=5000\n      - spring.kafka.producer.bootstrap-servers=kafka:9092\n    networks:\n      - bankAccount\n\n  account-query:\n    image: 'account-query:latest'\n    build:\n      context: ./account.query\n    ports:\n      - &quot;5001:5001&quot;\n    depends_on:\n      - zookeeper\n      - kafka\n      - database\n    environment:\n      - spring.datasource.url=jdbc:mysql://database:3306/bankAccount?createDatabaseIfNotExist=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true\n      - server.port=5001\n      - spring.datasource.username=root\n      - spring.datasource.password=ippavlova_1990\n      - spring.kafka.consumer.group-id=bankaccConsumer\n      - spring.kafka.consumer.auto-offset-reset=earliest\n      - spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer\n      - spring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer\n      - spring.kafka.consumer.properties.spring.json.trusted.packages=*\n      - spring.kafka.consumer.bootstrap-servers=kafka:9092\n    networks:\n      - bankAccount\n\n  database:\n    container_name: mysql-database\n    image: 'mysql:latest'\n    ports:\n      - &quot;3306:3306&quot;\n    restart: always\n    environment:\n      MYSQL_PASSWORD: ippavlova_1990\n      MYSQL_ROOT_PASSWORD: ippavlova_1990\n    volumes:\n      - db-data:/var/lib/mysql\n    networks:\n      - bankAccount\n    healthcheck:\n      test: [ &quot;CMD&quot;, &quot;mysqladmin&quot; ,&quot;ping&quot;, &quot;-h&quot;, &quot;localhost&quot; ]\n      timeout: 20s\n      retries: 10\n\n\n  mongodb:\n    image: &quot;mongo:latest&quot;\n    container_name: mongo-container\n    restart: always\n    ports:\n      - &quot;27017:27017&quot;\n    volumes:\n      - mongodb_data_container:/data/db\n    networks:\n      - bankAccount\n\n  zookeeper:\n    image: 'bitnami/zookeeper:latest'\n    restart: always\n    ports:\n      - &quot;2181:2181&quot;\n    volumes:\n      - &quot;zookeeper_data:/bitnami&quot;\n    environment:\n      - ALLOW_ANONYMOUS_LOGIN=yes\n    networks:\n      - bankAccount\n\n  kafka:\n    image: 'bitnami/kafka:latest'\n    ports:\n      - '9092:9092'\n      - '9093:9093'\n    environment:\n      - KAFKA_CFG_ZOOKEEPER_CONNECT=zookeeper:2181\n      - ALLOW_PLAINTEXT_LISTENER=yes\n      - KAFKA_CFG_LISTENER_SECURITY_PROTOCOL_MAP=CLIENT:PLAINTEXT,EXTERNAL:PLAINTEXT\n      - KAFKA_CFG_LISTENERS=CLIENT://:9092,EXTERNAL://:9093\n      - KAFKA_CFG_ADVERTISED_LISTENERS=CLIENT://kafka:9092,EXTERNAL://localhost:9093\n      - KAFKA_CFG_INTER_BROKER_LISTENER_NAME=CLIENT\n    depends_on:\n      - zookeeper\n    networks:\n      - bankAccount\n\n\nvolumes:\n  mongodb_data_container:\n  db-data:\n  zookeeper_data:\n    driver: local\n  kafka_data:\n    driver: local\n\nnetworks:\n  bankAccount:\n</code></pre>\n<p>How can I fix it?</p>\n<p><a href=\"https://i.stack.imgur.com/EDxEI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EDxEI.png\" alt=\"Link\" /></a>\n<a href=\"https://i.stack.imgur.com/kaQEx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kaQEx.png\" alt=\"Link\" /></a>\n<a href=\"https://i.stack.imgur.com/BwYxk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BwYxk.png\" alt=\"Link\" /></a></p>\n<p>Here is the MongoDB commands to show the result</p>\n<pre><code>-&gt; docker exec -it mongo-container bash\n-&gt; mongosh\n-&gt; show dbs\n-&gt; use eventStore\n-&gt; db.eventStore.find({})\n</code></pre>\n<p>Here is the Mysql commands to show the result</p>\n<pre><code>-&gt; docker exec -it mysql_container_name mysql -uroot -p\n-&gt; Enter password: password\n-&gt; USE bankAccount\n-&gt; show tables;\n-&gt; SELECT * FROM bank_account;\n</code></pre>\n<p>Here is my repo : <a href=\"https://github.com/Rapter1990/cqrs-example\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","selenium-webdriver"],"owner":{"account_id":22682239,"reputation":21,"user_id":16852452,"display_name":"Mani Maran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679918726,"creation_date":1679918726,"question_id":75855556,"body_markdown":"I have two classes. Class A and Class B. I have created a number of tests and grouped them in Class A.\r\n\r\nIn Class B,I have another set of tests. Those tests on class B (which is my runner class) are dependent on group created in Class A.\r\n\r\nSo now,in my TestNG.xml,inside the class tag i have class B(runner class).When i run as TESTNG suite,the groups are not running since those are in another class.\r\n\r\nMy requirement is to run Class B along with groups in Class A.\r\n\r\nI can&#39;t be able to share the code due to company policy,Apologies in advance.","title":"Groups of one class should get run with another class in testng.xml","body":"<p>I have two classes. Class A and Class B. I have created a number of tests and grouped them in Class A.</p>\n<p>In Class B,I have another set of tests. Those tests on class B (which is my runner class) are dependent on group created in Class A.</p>\n<p>So now,in my TestNG.xml,inside the class tag i have class B(runner class).When i run as TESTNG suite,the groups are not running since those are in another class.</p>\n<p>My requirement is to run Class B along with groups in Class A.</p>\n<p>I can't be able to share the code due to company policy,Apologies in advance.</p>\n"},{"tags":["java","spring-boot","jackson","akka","microservices"],"comments":[{"owner":{"account_id":2510424,"reputation":540,"user_id":2183049,"display_name":"Habil"},"score":0,"creation_date":1595235301,"post_id":62991628,"comment_id":111393278,"body_markdown":"Check your jackson-databind dependency version. &quot;Caused by: java.lang.NoClassDefFoundError: com/fasterxml/jackson/databind/ser/std/ToStringSerializerBase&quot;","body":"Check your jackson-databind dependency version. &quot;Caused by: java.lang.NoClassDefFoundError: com/fasterxml/jackson/databind/ser/std/ToStringSerializerBas&zwnj;&#8203;e&quot;"},{"owner":{"account_id":36224,"reputation":895,"user_id":103190,"display_name":"ignasi35"},"score":1,"creation_date":1595236052,"post_id":62991628,"comment_id":111393656,"body_markdown":"To add to @Habil&#39;s comment. Make sure you are not mixing up jackson artifacts from different versions. You have an explicit dependency to `jackson-databind:2.9.8` but Akka artifacts probably have a transitive dependency (potentially a newer, non-compatible version fo Jackson).","body":"To add to @Habil&#39;s comment. Make sure you are not mixing up jackson artifacts from different versions. You have an explicit dependency to <code>jackson-databind:2.9.8</code> but Akka artifacts probably have a transitive dependency (potentially a newer, non-compatible version fo Jackson)."},{"owner":{"account_id":36224,"reputation":895,"user_id":103190,"display_name":"ignasi35"},"score":1,"creation_date":1595236103,"post_id":62991628,"comment_id":111393683,"body_markdown":"Unrelated: consider bumping your Akka version to a non-milestone. So, instead of using `2.6.0-M3` prefer the latest (as of this writing) `2.6.8`.","body":"Unrelated: consider bumping your Akka version to a non-milestone. So, instead of using <code>2.6.0-M3</code> prefer the latest (as of this writing) <code>2.6.8</code>."},{"owner":{"account_id":16607139,"reputation":197,"user_id":12001283,"display_name":"Ashen Jayawardena"},"score":0,"creation_date":1595267278,"post_id":62991628,"comment_id":111409618,"body_markdown":"thanks for your suggestions, actually upgrading my jackson core(not downgrading ) to the version fixed  2.11.0 the problem, i thought it was unstable though","body":"thanks for your suggestions, actually upgrading my jackson core(not downgrading ) to the version fixed  2.11.0 the problem, i thought it was unstable though"}],"answers":[{"tags":[],"owner":{"account_id":17474918,"reputation":11,"user_id":12863696,"display_name":"Raider bat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679918512,"creation_date":1679918512,"answer_id":75855524,"question_id":62991628,"body_markdown":"Upd **jackson-databind** version to **2.14.2**\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n      &lt;version&gt;2.14.2&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"How to fix org.springframework.beans.BeanInstantiationException: Failed to instantiate","body":"<p>Upd <strong>jackson-databind</strong> version to <strong>2.14.2</strong></p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n  &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n  &lt;version&gt;2.14.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":16607139,"reputation":197,"user_id":12001283,"display_name":"Ashen Jayawardena"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4078,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679918512,"creation_date":1595234401,"question_id":62991628,"body_markdown":"I&#39;m building a project from akka and spring, this is my POM.xml\r\n\r\n    &lt;project&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n    &lt;groupId&gt;WolfPack&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Worker-Service&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;akka.version&gt;2.6.0-M3&lt;/akka.version&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n        &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n        &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n        &lt;version&gt;3.10.0&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n       \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.typesafe.akka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;akka-actor_2.12&lt;/artifactId&gt;\r\n            &lt;version&gt;${akka.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.typesafe.akka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;akka-http_2.12&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;10.1.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.typesafe.akka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;akka-stream_2.12&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${akka.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.typesafe.akka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;akka-http-jackson_2.12&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;10.1.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\t\t\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.6.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;WorkerService&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nand i keep getting this error when i run \r\n\r\n    org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.datatype.jsr310.JavaTimeModule]: Unresolvable class definition; nested exception is java.lang.NoClassDefFoundError: com/fasterxml/jackson/databind/ser/std/ToStringSerializerBase\r\n    at org.springframework.beans.BeanUtils.instantiateClass (BeanUtils.java:149)\r\n    at org.springframework.http.converter.json.Jackson2ObjectMapperBuilder.registerWellKnownModulesIfAvailable (Jackson2ObjectMapperBuilder.java:805)\r\n    at org.springframework.http.converter.json.Jackson2ObjectMapperBuilder.configure (Jackson2ObjectMapperBuilder.java:669)\r\n    at org.springframework.http.converter.json.Jackson2ObjectMapperBuilder.build (Jackson2ObjectMapperBuilder.java:652)\r\n    at org.springframework.http.converter.json.MappingJackson2HttpMessageConverter.&lt;init&gt; (MappingJackson2HttpMessageConverter.java:59)\r\n    at org.springframework.http.converter.support.AllEncompassingFormHttpMessageConverter.&lt;init&gt; (AllEncompassingFormHttpMessageConverter.java:76)\r\n    at org.springframework.web.client.RestTemplate.&lt;init&gt; (RestTemplate.java:147)\r\n    at WorkerService.&lt;init&gt; (WorkerService.java:39)\r\n    at WorkerService.main (WorkerService.java:77)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:282)\r\n    at java.lang.Thread.run (Thread.java:834)\r\n     Caused by: java.lang.NoClassDefFoundError: com/fasterxml/jackson/databind/ser/std/ToStringSerializerBase\r\n    at java.lang.ClassLoader.defineClass1 (Native Method)\r\n    at java.lang.ClassLoader.defineClass (ClassLoader.java:1016)\r\n    at java.security.SecureClassLoader.defineClass (SecureClassLoader.java:174)\r\n    at java.net.URLClassLoader.defineClass (URLClassLoader.java:550)\r\n    at java.net.URLClassLoader$1.run (URLClassLoader.java:458)\r\n    at java.net.URLClassLoader$1.run (URLClassLoader.java:452)\r\n    at java.security.AccessController.doPrivileged (Native Method)\r\n    at java.net.URLClassLoader.findClass (URLClassLoader.java:451)\r\n    at java.lang.ClassLoader.loadClass (ClassLoader.java:588)\r\n    at java.lang.ClassLoader.loadClass (ClassLoader.java:521)\r\n    at java.lang.Class.getDeclaredConstructors0 (Native Method)\r\n    at java.lang.Class.privateGetDeclaredConstructors (Class.java:3137)\r\n    at java.lang.Class.getConstructor0 (Class.java:3342)\r\n    at java.lang.Class.getDeclaredConstructor (Class.java:2553)\r\n    at org.springframework.beans.BeanUtils.instantiateClass (BeanUtils.java:139)\r\n    at org.springframework.http.converter.json.Jackson2ObjectMapperBuilder.registerWellKnownModulesIfAvailable (Jackson2ObjectMapperBuilder.java:805)\r\n    at org.springframework.http.converter.json.Jackson2ObjectMapperBuilder.configure (Jackson2ObjectMapperBuilder.java:669)\r\n    at org.springframework.http.converter.json.Jackson2ObjectMapperBuilder.build (Jackson2ObjectMapperBuilder.java:652)\r\n    at org.springframework.http.converter.json.MappingJackson2HttpMessageConverter.&lt;init&gt; (MappingJackson2HttpMessageConverter.java:59)\r\n    at org.springframework.http.converter.support.AllEncompassingFormHttpMessageConverter.&lt;init&gt; (AllEncompassingFormHttpMessageConverter.java:76)\r\n    at org.springframework.web.client.RestTemplate.&lt;init&gt; (RestTemplate.java:147)\r\n    at WorkerService.&lt;init&gt; (WorkerService.java:39)\r\n    at WorkerService.main (WorkerService.java:77)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:282)\r\n    at java.lang.Thread.run (Thread.java:834)\r\n    Caused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.databind.ser.std.ToStringSerializerBase\r\n    at java.net.URLClassLoader.findClass (URLClassLoader.java:471)\r\n    at java.lang.ClassLoader.loadClass (ClassLoader.java:588)\r\n    at java.lang.ClassLoader.loadClass (ClassLoader.java:521)\r\n    at java.lang.ClassLoader.defineClass1 (Native Method)\r\n    at java.lang.ClassLoader.defineClass (ClassLoader.java:1016)\r\n    at java.security.SecureClassLoader.defineClass (SecureClassLoader.java:174)\r\n    at java.net.URLClassLoader.defineClass (URLClassLoader.java:550)\r\n    at java.net.URLClassLoader$1.run (URLClassLoader.java:458)\r\n    at java.net.URLClassLoader$1.run (URLClassLoader.java:452)\r\n    at java.security.AccessController.doPrivileged (Native Method)\r\n    at java.net.URLClassLoader.findClass (URLClassLoader.java:451)\r\n    at java.lang.ClassLoader.loadClass (ClassLoader.java:588)\r\n    at java.lang.ClassLoader.loadClass (ClassLoader.java:521)\r\n    at java.lang.Class.getDeclaredConstructors0 (Native Method)\r\n    at java.lang.Class.privateGetDeclaredConstructors (Class.java:3137)\r\n    at java.lang.Class.getConstructor0 (Class.java:3342)\r\n    at java.lang.Class.getDeclaredConstructor (Class.java:2553)\r\n    at org.springframework.beans.BeanUtils.instantiateClass (BeanUtils.java:139)\r\n    at org.springframework.http.converter.json.Jackson2ObjectMapperBuilder.registerWellKnownModulesIfAvailable (Jackson2ObjectMapperBuilder.java:805)\r\n    at org.springframework.http.converter.json.Jackson2ObjectMapperBuilder.configure (Jackson2ObjectMapperBuilder.java:669)\r\n    at org.springframework.http.converter.json.Jackson2ObjectMapperBuilder.build (Jackson2ObjectMapperBuilder.java:652)\r\n    at org.springframework.http.converter.json.MappingJackson2HttpMessageConverter.&lt;init&gt; (MappingJackson2HttpMessageConverter.java:59)\r\n    at org.springframework.http.converter.support.AllEncompassingFormHttpMessageConverter.&lt;init&gt; (AllEncompassingFormHttpMessageConverter.java:76)\r\n    at org.springframework.web.client.RestTemplate.&lt;init&gt; (RestTemplate.java:147)\r\n    at WorkerService.&lt;init&gt; (WorkerService.java:39)\r\n    at WorkerService.main (WorkerService.java:77)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:282)\r\n    at java.lang.Thread.run (Thread.java:834)\r\n\r\nI researched this problem and non of the solutions worked and i think most of them are outdated,  i tried  downgrading the jackson dependencies to various depths but nothing seemed to work,then i tried removing the jackson Core dependency that didn&#39;t work as well, there&#39;s no jackson dependency mismatch as well as you can see in the POM.xml.\r\n\r\nthe error log shows two java lines in my method java:39 and java:77, java:77 is just the instance the java:39 is called, and my java:39 is\r\n \r\n\r\n    private String[] workers  = restTemplate.getForObject(&quot;http://localhost:8082/workers&quot;, String[].class); \r\n\r\nthe json representation of the value return from posting a GET to`http://localhost:8082/workers` is\r\n\r\n    [\r\n    &quot;tim&quot;,\r\n    &quot;ashen&quot;\r\n    ]\r\n\r\n    \r\n\r\n\r\n","title":"How to fix org.springframework.beans.BeanInstantiationException: Failed to instantiate","body":"<p>I'm building a project from akka and spring, this is my POM.xml</p>\n<pre><code>&lt;project&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;WolfPack&lt;/groupId&gt;\n&lt;artifactId&gt;Worker-Service&lt;/artifactId&gt;\n&lt;version&gt;0.0.1&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;properties&gt;\n    &lt;akka.version&gt;2.6.0-M3&lt;/akka.version&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n    &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n    &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n    &lt;version&gt;3.10.0&lt;/version&gt;\n   &lt;/dependency&gt;\n   \n    &lt;dependency&gt;\n        &lt;groupId&gt;com.typesafe.akka&lt;/groupId&gt;\n        &lt;artifactId&gt;akka-actor_2.12&lt;/artifactId&gt;\n        &lt;version&gt;${akka.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.typesafe.akka&lt;/groupId&gt;\n        &lt;artifactId&gt;akka-http_2.12&lt;/artifactId&gt;\n        &lt;version&gt;10.1.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.typesafe.akka&lt;/groupId&gt;\n        &lt;artifactId&gt;akka-stream_2.12&lt;/artifactId&gt;\n        &lt;version&gt;${akka.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.typesafe.akka&lt;/groupId&gt;\n        &lt;artifactId&gt;akka-http-jackson_2.12&lt;/artifactId&gt;\n        &lt;version&gt;10.1.8&lt;/version&gt;\n    &lt;/dependency&gt;       \n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n        &lt;version&gt;2.9.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n        &lt;version&gt;2.9.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.9.8&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.6.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;mainClass&gt;WorkerService&lt;/mainClass&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>and i keep getting this error when i run</p>\n<pre><code>org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.datatype.jsr310.JavaTimeModule]: Unresolvable class definition; nested exception is java.lang.NoClassDefFoundError: com/fasterxml/jackson/databind/ser/std/ToStringSerializerBase\nat org.springframework.beans.BeanUtils.instantiateClass (BeanUtils.java:149)\nat org.springframework.http.converter.json.Jackson2ObjectMapperBuilder.registerWellKnownModulesIfAvailable (Jackson2ObjectMapperBuilder.java:805)\nat org.springframework.http.converter.json.Jackson2ObjectMapperBuilder.configure (Jackson2ObjectMapperBuilder.java:669)\nat org.springframework.http.converter.json.Jackson2ObjectMapperBuilder.build (Jackson2ObjectMapperBuilder.java:652)\nat org.springframework.http.converter.json.MappingJackson2HttpMessageConverter.&lt;init&gt; (MappingJackson2HttpMessageConverter.java:59)\nat org.springframework.http.converter.support.AllEncompassingFormHttpMessageConverter.&lt;init&gt; (AllEncompassingFormHttpMessageConverter.java:76)\nat org.springframework.web.client.RestTemplate.&lt;init&gt; (RestTemplate.java:147)\nat WorkerService.&lt;init&gt; (WorkerService.java:39)\nat WorkerService.main (WorkerService.java:77)\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\nat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke (Method.java:566)\nat org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:282)\nat java.lang.Thread.run (Thread.java:834)\n Caused by: java.lang.NoClassDefFoundError: com/fasterxml/jackson/databind/ser/std/ToStringSerializerBase\nat java.lang.ClassLoader.defineClass1 (Native Method)\nat java.lang.ClassLoader.defineClass (ClassLoader.java:1016)\nat java.security.SecureClassLoader.defineClass (SecureClassLoader.java:174)\nat java.net.URLClassLoader.defineClass (URLClassLoader.java:550)\nat java.net.URLClassLoader$1.run (URLClassLoader.java:458)\nat java.net.URLClassLoader$1.run (URLClassLoader.java:452)\nat java.security.AccessController.doPrivileged (Native Method)\nat java.net.URLClassLoader.findClass (URLClassLoader.java:451)\nat java.lang.ClassLoader.loadClass (ClassLoader.java:588)\nat java.lang.ClassLoader.loadClass (ClassLoader.java:521)\nat java.lang.Class.getDeclaredConstructors0 (Native Method)\nat java.lang.Class.privateGetDeclaredConstructors (Class.java:3137)\nat java.lang.Class.getConstructor0 (Class.java:3342)\nat java.lang.Class.getDeclaredConstructor (Class.java:2553)\nat org.springframework.beans.BeanUtils.instantiateClass (BeanUtils.java:139)\nat org.springframework.http.converter.json.Jackson2ObjectMapperBuilder.registerWellKnownModulesIfAvailable (Jackson2ObjectMapperBuilder.java:805)\nat org.springframework.http.converter.json.Jackson2ObjectMapperBuilder.configure (Jackson2ObjectMapperBuilder.java:669)\nat org.springframework.http.converter.json.Jackson2ObjectMapperBuilder.build (Jackson2ObjectMapperBuilder.java:652)\nat org.springframework.http.converter.json.MappingJackson2HttpMessageConverter.&lt;init&gt; (MappingJackson2HttpMessageConverter.java:59)\nat org.springframework.http.converter.support.AllEncompassingFormHttpMessageConverter.&lt;init&gt; (AllEncompassingFormHttpMessageConverter.java:76)\nat org.springframework.web.client.RestTemplate.&lt;init&gt; (RestTemplate.java:147)\nat WorkerService.&lt;init&gt; (WorkerService.java:39)\nat WorkerService.main (WorkerService.java:77)\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\nat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke (Method.java:566)\nat org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:282)\nat java.lang.Thread.run (Thread.java:834)\nCaused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.databind.ser.std.ToStringSerializerBase\nat java.net.URLClassLoader.findClass (URLClassLoader.java:471)\nat java.lang.ClassLoader.loadClass (ClassLoader.java:588)\nat java.lang.ClassLoader.loadClass (ClassLoader.java:521)\nat java.lang.ClassLoader.defineClass1 (Native Method)\nat java.lang.ClassLoader.defineClass (ClassLoader.java:1016)\nat java.security.SecureClassLoader.defineClass (SecureClassLoader.java:174)\nat java.net.URLClassLoader.defineClass (URLClassLoader.java:550)\nat java.net.URLClassLoader$1.run (URLClassLoader.java:458)\nat java.net.URLClassLoader$1.run (URLClassLoader.java:452)\nat java.security.AccessController.doPrivileged (Native Method)\nat java.net.URLClassLoader.findClass (URLClassLoader.java:451)\nat java.lang.ClassLoader.loadClass (ClassLoader.java:588)\nat java.lang.ClassLoader.loadClass (ClassLoader.java:521)\nat java.lang.Class.getDeclaredConstructors0 (Native Method)\nat java.lang.Class.privateGetDeclaredConstructors (Class.java:3137)\nat java.lang.Class.getConstructor0 (Class.java:3342)\nat java.lang.Class.getDeclaredConstructor (Class.java:2553)\nat org.springframework.beans.BeanUtils.instantiateClass (BeanUtils.java:139)\nat org.springframework.http.converter.json.Jackson2ObjectMapperBuilder.registerWellKnownModulesIfAvailable (Jackson2ObjectMapperBuilder.java:805)\nat org.springframework.http.converter.json.Jackson2ObjectMapperBuilder.configure (Jackson2ObjectMapperBuilder.java:669)\nat org.springframework.http.converter.json.Jackson2ObjectMapperBuilder.build (Jackson2ObjectMapperBuilder.java:652)\nat org.springframework.http.converter.json.MappingJackson2HttpMessageConverter.&lt;init&gt; (MappingJackson2HttpMessageConverter.java:59)\nat org.springframework.http.converter.support.AllEncompassingFormHttpMessageConverter.&lt;init&gt; (AllEncompassingFormHttpMessageConverter.java:76)\nat org.springframework.web.client.RestTemplate.&lt;init&gt; (RestTemplate.java:147)\nat WorkerService.&lt;init&gt; (WorkerService.java:39)\nat WorkerService.main (WorkerService.java:77)\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\nat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke (Method.java:566)\nat org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:282)\nat java.lang.Thread.run (Thread.java:834)\n</code></pre>\n<p>I researched this problem and non of the solutions worked and i think most of them are outdated,  i tried  downgrading the jackson dependencies to various depths but nothing seemed to work,then i tried removing the jackson Core dependency that didn't work as well, there's no jackson dependency mismatch as well as you can see in the POM.xml.</p>\n<p>the error log shows two java lines in my method java:39 and java:77, java:77 is just the instance the java:39 is called, and my java:39 is</p>\n<pre><code>private String[] workers  = restTemplate.getForObject(&quot;http://localhost:8082/workers&quot;, String[].class); \n</code></pre>\n<p>the json representation of the value return from posting a GET to<code>http://localhost:8082/workers</code> is</p>\n<pre><code>[\n&quot;tim&quot;,\n&quot;ashen&quot;\n]\n</code></pre>\n"},{"tags":["java","yaml","snakeyaml"],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679918292,"creation_date":1679918292,"question_id":75855483,"body_markdown":"Quickly linked with https://stackoverflow.com/questions/75739023/infinite-loop-while-reading-yaml-file-because-of-pointers, I have an issue while saving the yaml content.\r\n\r\nI have this yaml file:\r\n```yml\r\n&amp;id085\r\nminerate: &amp;id086\r\n  diamond: *id085\r\n  gold: *id085\r\n  iron: *id085\r\n  coal: *id086\r\n  ancient debris: *id085\r\n```\r\nI&#39;m doing like that:\r\n```java\r\npublic void save() {\r\n   Configuration config = YamlConfiguration.load(file);\r\n   config.set(&quot;minerate-full-mined&quot;, getFullMined());\r\n   serializeMinerate(minerate, config.createSection(&quot;minerate&quot;));\r\n   try {\r\n\t  YamlConfiguration.save(config, file);\r\n   } catch (IOException e) {\r\n      e.printStackTrace();\r\n   }\r\n}\r\n\r\nprivate int getFullMined() {\r\n   return fullMined;\r\n}\r\n\r\nprivate void serializeMinerate(Minerate minerate, Configuration minerateSection) {\r\n\tfor (Minerate.MinerateType minerateType : Minerate.MinerateType.values()) {\r\n\t\tString key = minerateType.getName().toLowerCase(Locale.ROOT);\r\n\t\tminerateSection.set(key, minerate.getMinerateType(minerateType));\r\n\t}\r\n}\r\n```\r\nIf you need it, you can find the object [`Minerate` here](https://github.com/Elikill58/Negativity/blob/v2/common/src/com/elikill58/negativity/universal/Minerate.java)\r\n\r\nThe error:\r\n```txt\r\nCaused by: java.lang.StackOverflowError\r\n\tat java.lang.String.valueOf(String.java:4215) ~[?:?]\r\n\tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n\tat java.util.AbstractMap.toString(AbstractMap.java:555) ~[?:?]\r\n\tat java.lang.String.valueOf(String.java:4215) ~[?:?]\r\n\tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n\tat java.util.AbstractMap.toString(AbstractMap.java:555) ~[?:?]\r\n\tat java.lang.String.valueOf(String.java:4215) ~[?:?]\r\n\tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n\tat java.util.AbstractMap.toString(AbstractMap.java:555) ~[?:?]\r\n\tat java.lang.String.valueOf(String.java:4215) ~[?:?]\r\n\tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n\tat java.util.AbstractMap.toString(AbstractMap.java:555) ~[?:?]\r\n\tat java.lang.String.valueOf(String.java:4215) ~[?:?]\r\n\tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n\tat java.util.AbstractMap.toString(AbstractMap.java:555) ~[?:?]\r\n\tat java.lang.String.valueOf(String.java:4215) ~[?:?]\r\n```\r\nIn the error, I can&#39;t find the exact line as there is too many lines.\r\n\r\nHow can I fix it?","title":"How to prevent snakeyaml from using pointers?","body":"<p>Quickly linked with <a href=\"https://stackoverflow.com/questions/75739023/infinite-loop-while-reading-yaml-file-because-of-pointers\">Infinite loop while reading yaml file because of pointers</a>, I have an issue while saving the yaml content.</p>\n<p>I have this yaml file:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>&amp;id085\nminerate: &amp;id086\n  diamond: *id085\n  gold: *id085\n  iron: *id085\n  coal: *id086\n  ancient debris: *id085\n</code></pre>\n<p>I'm doing like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void save() {\n   Configuration config = YamlConfiguration.load(file);\n   config.set(&quot;minerate-full-mined&quot;, getFullMined());\n   serializeMinerate(minerate, config.createSection(&quot;minerate&quot;));\n   try {\n      YamlConfiguration.save(config, file);\n   } catch (IOException e) {\n      e.printStackTrace();\n   }\n}\n\nprivate int getFullMined() {\n   return fullMined;\n}\n\nprivate void serializeMinerate(Minerate minerate, Configuration minerateSection) {\n    for (Minerate.MinerateType minerateType : Minerate.MinerateType.values()) {\n        String key = minerateType.getName().toLowerCase(Locale.ROOT);\n        minerateSection.set(key, minerate.getMinerateType(minerateType));\n    }\n}\n</code></pre>\n<p>If you need it, you can find the object <a href=\"https://github.com/Elikill58/Negativity/blob/v2/common/src/com/elikill58/negativity/universal/Minerate.java\" rel=\"nofollow noreferrer\"><code>Minerate</code> here</a></p>\n<p>The error:</p>\n<pre><code>Caused by: java.lang.StackOverflowError\n    at java.lang.String.valueOf(String.java:4215) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at java.util.AbstractMap.toString(AbstractMap.java:555) ~[?:?]\n    at java.lang.String.valueOf(String.java:4215) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at java.util.AbstractMap.toString(AbstractMap.java:555) ~[?:?]\n    at java.lang.String.valueOf(String.java:4215) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at java.util.AbstractMap.toString(AbstractMap.java:555) ~[?:?]\n    at java.lang.String.valueOf(String.java:4215) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at java.util.AbstractMap.toString(AbstractMap.java:555) ~[?:?]\n    at java.lang.String.valueOf(String.java:4215) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at java.util.AbstractMap.toString(AbstractMap.java:555) ~[?:?]\n    at java.lang.String.valueOf(String.java:4215) ~[?:?]\n</code></pre>\n<p>In the error, I can't find the exact line as there is too many lines.</p>\n<p>How can I fix it?</p>\n"},{"tags":["python","java","sql","redis","tags"],"answers":[{"tags":[],"owner":{"account_id":4160855,"reputation":3938,"user_id":5338708,"display_name":"Simon Prickett"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679918088,"creation_date":1679915839,"answer_id":75855102,"question_id":75848424,"body_markdown":"Here&#39;s the Redis commands for your scenario - to run these from a programming language you&#39;ll need to map them to a Redis Client, such as redis-py (https://github.com/redis/redis-py) for Python.  This is pretty straightforward as these map Redis commands to functions of the same name and the order of arguments is generally the same.\r\n\r\nStoring a string:\r\n\r\n```\r\n127.0.0.1:6379&gt; set mystring &quot;This is Database Systems.&quot;\r\nOK\r\n```\r\n\r\nGet length of a string:\r\n\r\n```\r\n127.0.0.1:6379&gt; strlen mystring\r\n(integer) 25\r\n```\r\n\r\nAppend sentence to the end of the string:\r\n\r\n```\r\n127.0.0.1:6379&gt; append mystring &quot; The course code is NDBS742.&quot;\r\n(integer) 53\r\n127.0.0.1:6379&gt; get mystring\r\n&quot;This is Database Systems. The course code is NDBS742.&quot;\r\n```\r\n\r\nExpire the key after 60 seconds:\r\n\r\n```\r\n127.0.0.1:6379&gt; expire mystring 60\r\n(integer) 1\r\n```\r\n\r\nAll commands documented at https://redis.io/commands/\r\n\r\nWith `redis-py` (`pip install redis`) your code looks like this:\r\n\r\n```python\r\nimport redis\r\n\r\n# Connect to Redis...\r\nr = redis.Redis(host=&quot;localhost&quot;, port=6379, decode_responses=True)\r\n\r\n# Store a string.\r\nr.set(&quot;mystring&quot;, &quot;This is Database Systems.&quot;)\r\n\r\n# Get the length of the string.\r\nprint(f&quot;Length: {r.strlen(&#39;mystring&#39;)}&quot;)\r\n\r\n# Append sentence to the end of the string.\r\nr.append(&quot;mystring&quot;, &quot; The course code is NDBS742.&quot;)\r\n\r\n# Get the value of the string back.\r\nprint(f&quot;mystring: {r.get(&#39;mystring&#39;)}&quot;)\r\n\r\n# Expire the key after 60 seconds.\r\nr.expire(&quot;mystring&quot;, 60)\r\n```\r\n\r\nLet&#39;s run that:\r\n\r\n```\r\n$ python main.py\r\nLength: 25\r\nmystring: This is Database Systems. The course code is NDBS742.\r\n```\r\n\r\nTested with Python 3.10.7, redis-py 4.5.3","title":"Can I get assistance with Redis commands that do the following?","body":"<p>Here's the Redis commands for your scenario - to run these from a programming language you'll need to map them to a Redis Client, such as redis-py (<a href=\"https://github.com/redis/redis-py\" rel=\"nofollow noreferrer\">https://github.com/redis/redis-py</a>) for Python.  This is pretty straightforward as these map Redis commands to functions of the same name and the order of arguments is generally the same.</p>\n<p>Storing a string:</p>\n<pre><code>127.0.0.1:6379&gt; set mystring &quot;This is Database Systems.&quot;\nOK\n</code></pre>\n<p>Get length of a string:</p>\n<pre><code>127.0.0.1:6379&gt; strlen mystring\n(integer) 25\n</code></pre>\n<p>Append sentence to the end of the string:</p>\n<pre><code>127.0.0.1:6379&gt; append mystring &quot; The course code is NDBS742.&quot;\n(integer) 53\n127.0.0.1:6379&gt; get mystring\n&quot;This is Database Systems. The course code is NDBS742.&quot;\n</code></pre>\n<p>Expire the key after 60 seconds:</p>\n<pre><code>127.0.0.1:6379&gt; expire mystring 60\n(integer) 1\n</code></pre>\n<p>All commands documented at <a href=\"https://redis.io/commands/\" rel=\"nofollow noreferrer\">https://redis.io/commands/</a></p>\n<p>With <code>redis-py</code> (<code>pip install redis</code>) your code looks like this:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import redis\n\n# Connect to Redis...\nr = redis.Redis(host=&quot;localhost&quot;, port=6379, decode_responses=True)\n\n# Store a string.\nr.set(&quot;mystring&quot;, &quot;This is Database Systems.&quot;)\n\n# Get the length of the string.\nprint(f&quot;Length: {r.strlen('mystring')}&quot;)\n\n# Append sentence to the end of the string.\nr.append(&quot;mystring&quot;, &quot; The course code is NDBS742.&quot;)\n\n# Get the value of the string back.\nprint(f&quot;mystring: {r.get('mystring')}&quot;)\n\n# Expire the key after 60 seconds.\nr.expire(&quot;mystring&quot;, 60)\n</code></pre>\n<p>Let's run that:</p>\n<pre><code>$ python main.py\nLength: 25\nmystring: This is Database Systems. The course code is NDBS742.\n</code></pre>\n<p>Tested with Python 3.10.7, redis-py 4.5.3</p>\n"}],"owner":{"account_id":28129934,"reputation":1,"user_id":21494706,"display_name":"Tshepang Chou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679918088,"creation_date":1679842204,"question_id":75848424,"body_markdown":"commands of Redis to do the following: \r\n\r\n1. Store this sentence in a string: ‚ÄúThis is Database Systems.‚Äù\r\n2. Display the length of the string\r\n3. Add the sentence ‚ÄúThe course code is NDBS742‚Äù to the end of the string so it reads as ‚ÄúThis is Database Systems. The course code is NDBS742.‚Äù\r\n4. Automatically delete the string from the database in 60 seconds.\r\n\r\n","title":"Can I get assistance with Redis commands that do the following?","body":"<p>commands of Redis to do the following:</p>\n<ol>\n<li>Store this sentence in a string: ‚ÄúThis is Database Systems.‚Äù</li>\n<li>Display the length of the string</li>\n<li>Add the sentence ‚ÄúThe course code is NDBS742‚Äù to the end of the string so it reads as ‚ÄúThis is Database Systems. The course code is NDBS742.‚Äù</li>\n<li>Automatically delete the string from the database in 60 seconds.</li>\n</ol>\n"},{"tags":["java","spring","unit-testing","mockito"],"comments":[{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":0,"creation_date":1679917889,"post_id":75855358,"comment_id":133801227,"body_markdown":"You mock the `sendEmail(...)`-method to throw an exception and `verify(...)` afterwards that it was called and that the correct result was returned from `sendSuccessEmail(...)`. Code coverage then will ensure that the catch block gets counted.","body":"You mock the <code>sendEmail(...)</code>-method to throw an exception and <code>verify(...)</code> afterwards that it was called and that the correct result was returned from <code>sendSuccessEmail(...)</code>. Code coverage then will ensure that the catch block gets counted."},{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":0,"creation_date":1679918259,"post_id":75855358,"comment_id":133801323,"body_markdown":"I did, but the caller methods are still flagged as untested in Jacoco. I have a line coveage requirements, code to unit tests: 0.91 vs 0.95","body":"I did, but the caller methods are still flagged as untested in Jacoco. I have a line coveage requirements, code to unit tests: 0.91 vs 0.95"},{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":0,"creation_date":1679918399,"post_id":75855358,"comment_id":133801354,"body_markdown":"Please specify what &quot;flagged as untested&quot; means.","body":"Please specify what &quot;flagged as untested&quot; means."},{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":0,"creation_date":1679918412,"post_id":75855358,"comment_id":133801357,"body_markdown":"Coverage ratio, code to unit tests.","body":"Coverage ratio, code to unit tests."},{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":0,"creation_date":1679918510,"post_id":75855358,"comment_id":133801377,"body_markdown":"And did you verify that the method that was mocked to throw an exception was called?","body":"And did you verify that the method that was mocked to throw an exception was called?"}],"answers":[{"comments":[{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":0,"creation_date":1679918283,"post_id":75855415,"comment_id":133801332,"body_markdown":"I can&#39;t access that logger from the unit test class.","body":"I can&#39;t access that logger from the unit test class."},{"owner":{"account_id":7254391,"reputation":835,"user_id":5533591,"accept_rate":100,"display_name":"ChristophE"},"score":0,"creation_date":1679918452,"post_id":75855415,"comment_id":133801367,"body_markdown":"If you cant access the logger than you cant do what you want to do. You need to find a way to access the logger.","body":"If you cant access the logger than you cant do what you want to do. You need to find a way to access the logger."}],"tags":[],"owner":{"account_id":7254391,"reputation":835,"user_id":5533591,"accept_rate":100,"display_name":"ChristophE"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679917808,"creation_date":1679917808,"answer_id":75855415,"question_id":75855358,"body_markdown":"You need to check if the log.error was correctly called.\r\n\r\nYou maybe need to mock your logger and then you can do something like this:\r\n\r\n    Mockito.verify(logger, Mockito.times(1)).error(&quot;AR11 Application: Could not send success email due to error:&quot;)","title":"How to unit-test with Mockito a method that tries and catches an Exception (&quot;when exception caught&quot;)?","body":"<p>You need to check if the log.error was correctly called.</p>\n<p>You maybe need to mock your logger and then you can do something like this:</p>\n<pre><code>Mockito.verify(logger, Mockito.times(1)).error(&quot;AR11 Application: Could not send success email due to error:&quot;)\n</code></pre>\n"}],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679917808,"creation_date":1679917501,"question_id":75855358,"body_markdown":"I&#39;ve already tested a method that `throws Exception` which is easy to check in Mockito. Suppose I have a method called `sendEmail` that  `throws Exception`:\r\n\r\n\r\n        Integer emailSmtpPortInvalid = 68;\r\n\r\n\t\torg.junit.jupiter.api.Assertions.assertThrows(jakarta.mail.MessagingException.class, \r\n\t\t\t      ()-&gt; \r\n\t\t\t      {\r\n\t\t\t    \t  emailServiceImpl.sendEmail(emailSmtpHost, emailSmtpPortInvalid, emailSmtpAddressFrom, emailSmtpAddressTo, &quot;Test Subject&quot;, &quot;Test Body&quot;);\r\n\t\t\t      }\r\n\t\t\t      );\r\n\r\nBut now I need to somehow provide test coverage for another method, `sendSuccessEmail`, which tries **and catches** any Exceptions. I need to do this to satisfy Jacoco&#39;s coverage requirements. What would be possible here? How do I **when an Exception** to re-throw it? I don&#39;t need to mock an Exception, I need to &quot;when&quot; it, e.g. when(Exception..).then(..) to be able to provide a unit test.\r\n\r\n\tpublic void sendSuccessEmail(Ar11ResultBean ar11ResultBean, String emailSmtpHost, Integer emailSmtpPort, String emailAddressFrom, String emailAddressTo) {\r\n\t\ttry {\r\n\t\t\tString emailBody = MessageFormat.format(Constants.EMAIL_BODY_SUCCESS, ar11ResultBean == null ? &quot;&quot; : ar11ResultBean.getRowsProcessed());\r\n\t\t\tsendEmail(emailSmtpHost, emailSmtpPort, emailAddressFrom, emailAddressTo, Constants.EMAIL_SUBJECT_SUCCESS, emailBody);\r\n\t\t} catch (Exception e) {\r\n\t\t\t// Log email error silently\r\n\t\t\tlog.error(&quot;AR11 Application: Could not send success email due to error: &quot;, e);\r\n\t\t}\r\n\t}\r\n\r\nI need something like **when exception caught**.","title":"How to unit-test with Mockito a method that tries and catches an Exception (&quot;when exception caught&quot;)?","body":"<p>I've already tested a method that <code>throws Exception</code> which is easy to check in Mockito. Suppose I have a method called <code>sendEmail</code> that  <code>throws Exception</code>:</p>\n<pre><code>    Integer emailSmtpPortInvalid = 68;\n\n    org.junit.jupiter.api.Assertions.assertThrows(jakarta.mail.MessagingException.class, \n              ()-&gt; \n              {\n                  emailServiceImpl.sendEmail(emailSmtpHost, emailSmtpPortInvalid, emailSmtpAddressFrom, emailSmtpAddressTo, &quot;Test Subject&quot;, &quot;Test Body&quot;);\n              }\n              );\n</code></pre>\n<p>But now I need to somehow provide test coverage for another method, <code>sendSuccessEmail</code>, which tries <strong>and catches</strong> any Exceptions. I need to do this to satisfy Jacoco's coverage requirements. What would be possible here? How do I <strong>when an Exception</strong> to re-throw it? I don't need to mock an Exception, I need to &quot;when&quot; it, e.g. when(Exception..).then(..) to be able to provide a unit test.</p>\n<pre><code>public void sendSuccessEmail(Ar11ResultBean ar11ResultBean, String emailSmtpHost, Integer emailSmtpPort, String emailAddressFrom, String emailAddressTo) {\n    try {\n        String emailBody = MessageFormat.format(Constants.EMAIL_BODY_SUCCESS, ar11ResultBean == null ? &quot;&quot; : ar11ResultBean.getRowsProcessed());\n        sendEmail(emailSmtpHost, emailSmtpPort, emailAddressFrom, emailAddressTo, Constants.EMAIL_SUBJECT_SUCCESS, emailBody);\n    } catch (Exception e) {\n        // Log email error silently\n        log.error(&quot;AR11 Application: Could not send success email due to error: &quot;, e);\n    }\n}\n</code></pre>\n<p>I need something like <strong>when exception caught</strong>.</p>\n"},{"tags":["java","docker","maven","pom.xml"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1679925050,"post_id":75855368,"comment_id":133803348,"body_markdown":"Why do you want to run the build in a docker container? Why not use a build server like Jenkins, Gitlab CI, GitHub actions?","body":"Why do you want to run the build in a docker container? Why not use a build server like Jenkins, Gitlab CI, GitHub actions?"},{"owner":{"account_id":21853807,"reputation":11,"user_id":16489257,"display_name":"Deonisiy"},"score":0,"creation_date":1679934553,"post_id":75855368,"comment_id":133806284,"body_markdown":"@JFabianMeier To be honest, I forgot about this tools. Anyway, I didn&#39;t use them unlike docker, so it will take some time to learn them","body":"@JFabianMeier To be honest, I forgot about this tools. Anyway, I didn&#39;t use them unlike docker, so it will take some time to learn them"}],"owner":{"account_id":21853807,"reputation":11,"user_id":16489257,"display_name":"Deonisiy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679917523,"creation_date":1679917523,"question_id":75855368,"body_markdown":"I&#39;m making microservice project, so parent project, named *obshaga* contains only pom.xml and modules (microservices). So I wanted to make this easy to deploy by using docker-compose, so first of all I made dockerfile in every project. For example, for example in microservice &quot;tg-dispatcher&quot; I wrote this Dockerfile:\r\n\r\n```\r\nFROM openjdk:11 as build\r\n\r\nWORKDIR /app\r\n\r\nCOPY .mvn/ .mvn\r\nCOPY mvnw pom.xml ./\r\nCOPY src ./src\r\n\r\nRUN [&quot;./mvnw&quot;, &quot;install&quot;]\r\n\r\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;./target/tg-dispatcher.jar&quot;]\r\n```\r\n\r\n`pom.xml` for parent project *obshaga*:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project ...&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.dompurrr&lt;/groupId&gt;\r\n    &lt;artifactId&gt;obshaga&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;modules&gt;\r\n        &lt;module&gt;tg-dispatcher&lt;/module&gt;\r\n        &lt;module&gt;node&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;telegrambot.starter.version&gt;6.1.0&lt;/telegrambot.starter.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.2&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.17&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.24&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.9.1.2184&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;report&lt;/id&gt;\r\n                        &lt;phase&gt;test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;reportFormat&gt;plain&lt;/reportFormat&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/*Test*.java&lt;/include&gt;\r\n                        &lt;include&gt;**/*IT*.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n`pom.xml` for child project *tg-dispatcher*:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project ...&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.dompurrr&lt;/groupId&gt;\r\n        &lt;artifactId&gt;obshaga&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;tg-dispatcher&lt;/artifactId&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.telegram&lt;/groupId&gt;\r\n            &lt;artifactId&gt;telegrambots-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;${telegrambot.starter.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;tg-dispatcher&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;repackage&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nSo when I try to build docker image for *tg-dispatcher*, I occure error:\r\n\r\n```\r\n[FATAL] Non-resolvable parent POM for org.dompurrr:tg-dispatcher:1.0-SNAPSHOT: Could not find artifact org.dompurrr:obshaga:pom:1.0-SNAPSHOT and &#39;parent.relativePath&#39; points at wrong local POM @ line 6, column 13\r\n @ \r\n[ERROR] The build could not read 1 project -&gt; [Help 1]\r\n[ERROR]   \r\n[ERROR]   The project org.dompurrr:tg-dispatcher:1.0-SNAPSHOT (/app/pom.xml) has 1 error\r\n[ERROR]     Non-resolvable parent POM for org.dompurrr:tg-dispatcher:1.0-SNAPSHOT: Could not find artifact org.dompurrr:obshaga:pom:1.0-SNAPSHOT and &#39;parent.relativePath&#39; points at wrong local POM @ line 6, column 13 -&gt; [Help 2]\r\n```\r\n\r\nI can easily `maven package` or `maven install` this outside of docker and do other things, so problem for me is to put all of this and orginise it inside docker.\r\n\r\nI found out that I might try to deploy parent project artifact to maven central, but it seems to be strange solution.\r\nIs there way to deploy it locally or inside docker container maybe?\r\nOr maybe there&#39;s other ways to solve this problem? Maybe i can re-organise project, so every microservice wouldn&#39;t be connected to parent project?","title":"Maven with docker, &quot;Non-resolvable parent POM&quot; for parent-child project","body":"<p>I'm making microservice project, so parent project, named <em>obshaga</em> contains only pom.xml and modules (microservices). So I wanted to make this easy to deploy by using docker-compose, so first of all I made dockerfile in every project. For example, for example in microservice &quot;tg-dispatcher&quot; I wrote this Dockerfile:</p>\n<pre><code>FROM openjdk:11 as build\n\nWORKDIR /app\n\nCOPY .mvn/ .mvn\nCOPY mvnw pom.xml ./\nCOPY src ./src\n\nRUN [&quot;./mvnw&quot;, &quot;install&quot;]\n\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;./target/tg-dispatcher.jar&quot;]\n</code></pre>\n<p><code>pom.xml</code> for parent project <em>obshaga</em>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project ...&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.dompurrr&lt;/groupId&gt;\n    &lt;artifactId&gt;obshaga&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;modules&gt;\n        &lt;module&gt;tg-dispatcher&lt;/module&gt;\n        &lt;module&gt;node&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;telegrambot.starter.version&gt;6.1.0&lt;/telegrambot.starter.version&gt;\n    &lt;/properties&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.2&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.24&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.9.1.2184&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;report&lt;/id&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;reportFormat&gt;plain&lt;/reportFormat&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*Test*.java&lt;/include&gt;\n                        &lt;include&gt;**/*IT*.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><code>pom.xml</code> for child project <em>tg-dispatcher</em>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project ...&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.dompurrr&lt;/groupId&gt;\n        &lt;artifactId&gt;obshaga&lt;/artifactId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;tg-dispatcher&lt;/artifactId&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.telegram&lt;/groupId&gt;\n            &lt;artifactId&gt;telegrambots-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;${telegrambot.starter.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;tg-dispatcher&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>So when I try to build docker image for <em>tg-dispatcher</em>, I occure error:</p>\n<pre><code>[FATAL] Non-resolvable parent POM for org.dompurrr:tg-dispatcher:1.0-SNAPSHOT: Could not find artifact org.dompurrr:obshaga:pom:1.0-SNAPSHOT and 'parent.relativePath' points at wrong local POM @ line 6, column 13\n @ \n[ERROR] The build could not read 1 project -&gt; [Help 1]\n[ERROR]   \n[ERROR]   The project org.dompurrr:tg-dispatcher:1.0-SNAPSHOT (/app/pom.xml) has 1 error\n[ERROR]     Non-resolvable parent POM for org.dompurrr:tg-dispatcher:1.0-SNAPSHOT: Could not find artifact org.dompurrr:obshaga:pom:1.0-SNAPSHOT and 'parent.relativePath' points at wrong local POM @ line 6, column 13 -&gt; [Help 2]\n</code></pre>\n<p>I can easily <code>maven package</code> or <code>maven install</code> this outside of docker and do other things, so problem for me is to put all of this and orginise it inside docker.</p>\n<p>I found out that I might try to deploy parent project artifact to maven central, but it seems to be strange solution.\nIs there way to deploy it locally or inside docker container maybe?\nOr maybe there's other ways to solve this problem? Maybe i can re-organise project, so every microservice wouldn't be connected to parent project?</p>\n"},{"tags":["java","intellij-idea","configuration"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1679798883,"post_id":75845605,"comment_id":133784585,"body_markdown":"Does any of the answers [here](https://stackoverflow.com/q/61034359/5133585) answer your question?","body":"Does any of the answers <a href=\"https://stackoverflow.com/q/61034359/5133585\">here</a> answer your question?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1679800698,"post_id":75845605,"comment_id":133784712,"body_markdown":"There&#39;s a green run button in the margin.","body":"There&#39;s a green run button in the margin."},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1679816260,"post_id":75845605,"comment_id":133785806,"body_markdown":"Does this answer your question? [Run button is greyed out - intellij](https://stackoverflow.com/questions/61034359/run-button-is-greyed-out-intellij)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/61034359/run-button-is-greyed-out-intellij\">Run button is greyed out - intellij</a>"}],"answers":[{"tags":[],"owner":{"account_id":16581218,"reputation":1,"user_id":13612863,"display_name":"Itay Sasson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679816578,"creation_date":1679816578,"answer_id":75846480,"question_id":75845605,"body_markdown":"Click on the pom.xml file and set it as maven project.\r\nIf it is not working, go to: file --&gt;invalidate caches and clear the data.\r\n\r\nIf you still have an  issue it seems like something related with the index&#39;s of your project.\r\n\r\nI had a similar issue so I right click on the project folder, and selected:\r\nrepair idea\r\n\r\nlet me know if it worked.","title":"how to setup intelli J configuration correctly?","body":"<p>Click on the pom.xml file and set it as maven project.\nIf it is not working, go to: file --&gt;invalidate caches and clear the data.</p>\n<p>If you still have an  issue it seems like something related with the index's of your project.</p>\n<p>I had a similar issue so I right click on the project folder, and selected:\nrepair idea</p>\n<p>let me know if it worked.</p>\n"},{"tags":[],"owner":{"account_id":11179248,"reputation":11910,"user_id":8203759,"display_name":"Konstantin Annikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679917518,"creation_date":1679917518,"answer_id":75855365,"question_id":75845605,"body_markdown":"Mark your src folder as sources in the folder&#39;s context menu. \r\n","title":"how to setup intelli J configuration correctly?","body":"<p>Mark your src folder as sources in the folder's context menu.</p>\n"}],"owner":{"account_id":16598358,"reputation":1,"user_id":11994708,"display_name":"James Huang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679917518,"creation_date":1679798550,"question_id":75845605,"body_markdown":"I was trying to a test file, but run button keeps gray. chatgpt told me to check configuration is correct, but I dont know what is correct.\r\n\r\n![run button remains gray](https://i.stack.imgur.com/sP93v.jpg)\r\n\r\n![dont know how to setup configuration](https://i.stack.imgur.com/jijdj.jpg)\r\n\r\nCould anyone please tell me what configuration is and how to set it up correctly?","title":"how to setup intelli J configuration correctly?","body":"<p>I was trying to a test file, but run button keeps gray. chatgpt told me to check configuration is correct, but I dont know what is correct.</p>\n<p><img src=\"https://i.stack.imgur.com/sP93v.jpg\" alt=\"run button remains gray\" /></p>\n<p><img src=\"https://i.stack.imgur.com/jijdj.jpg\" alt=\"dont know how to setup configuration\" /></p>\n<p>Could anyone please tell me what configuration is and how to set it up correctly?</p>\n"},{"tags":["java","hashmap"],"answers":[{"tags":[],"owner":{"account_id":19616408,"reputation":1,"user_id":14357777,"display_name":"alex miranda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679917467,"creation_date":1679433423,"answer_id":75806424,"question_id":75806389,"body_markdown":"I figured out what was wrong. Because I was looping through it and trying to remove something from it simultaneously, it caused a conflict. so instead I will create a new hashmap that contains the one I want to remove and then go through the new one and remove the ones from the main wordbank","title":"Error when trying to iterate through a hashmap in java with a for each loop","body":"<p>I figured out what was wrong. Because I was looping through it and trying to remove something from it simultaneously, it caused a conflict. so instead I will create a new hashmap that contains the one I want to remove and then go through the new one and remove the ones from the main wordbank</p>\n"},{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679435044,"creation_date":1679435044,"answer_id":75806591,"question_id":75806389,"body_markdown":"I know you said you figured it out, but since you are using a `HashMap`, there is a much easier way to do it using the built-in `removeAll` method.\r\n\r\nTry this\r\n```java\r\nvoid wordsContainingLetter(char c){\r\n  wordbank.keySet().removeAll(wordbank.entrySet().stream().filter(entry -&gt; entry.getKey().contains(String.valueOf(c))).map(Map.Entry::getKey).collect(\r\n        Collectors.toList()));\r\n}\r\n```","title":"Error when trying to iterate through a hashmap in java with a for each loop","body":"<p>I know you said you figured it out, but since you are using a <code>HashMap</code>, there is a much easier way to do it using the built-in <code>removeAll</code> method.</p>\n<p>Try this</p>\n<pre class=\"lang-java prettyprint-override\"><code>void wordsContainingLetter(char c){\n  wordbank.keySet().removeAll(wordbank.entrySet().stream().filter(entry -&gt; entry.getKey().contains(String.valueOf(c))).map(Map.Entry::getKey).collect(\n        Collectors.toList()));\n}\n</code></pre>\n"}],"owner":{"account_id":19616408,"reputation":1,"user_id":14357777,"display_name":"alex miranda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679917467,"creation_date":1679433067,"question_id":75806389,"body_markdown":"when i try to run this code \r\n```\r\nvoid wordsContainingLetter(char c){\r\n        for(String s:wordbank.keySet()){\r\n            char[] chars = s.toCharArray();\r\n            boolean contains=false;\r\n            for (char ch:chars) {\r\n                if(ch==c){\r\n                    contains=true;\r\n                    break;\r\n                }\r\n            }\r\n            if(!contains){\r\n                wordbank.remove(s);\r\n            }\r\n        }\r\n    }\r\n```\r\nit gives me this error on the for each loop`Exception in thread &quot;main&quot; java.util.ConcurrentModificationException`\r\nthis is the definition of the hashmap `HashMap&lt;String,Integer&gt; wordbank = new HashMap&lt;String,Integer&gt;();`\r\nit is not blank when the code is run\r\n\r\nim expecting the for each loop to iterate through the hashmap","title":"Error when trying to iterate through a hashmap in java with a for each loop","body":"<p>when i try to run this code</p>\n<pre><code>void wordsContainingLetter(char c){\n        for(String s:wordbank.keySet()){\n            char[] chars = s.toCharArray();\n            boolean contains=false;\n            for (char ch:chars) {\n                if(ch==c){\n                    contains=true;\n                    break;\n                }\n            }\n            if(!contains){\n                wordbank.remove(s);\n            }\n        }\n    }\n</code></pre>\n<p>it gives me this error on the for each loop<code>Exception in thread &quot;main&quot; java.util.ConcurrentModificationException</code>\nthis is the definition of the hashmap <code>HashMap&lt;String,Integer&gt; wordbank = new HashMap&lt;String,Integer&gt;();</code>\nit is not blank when the code is run</p>\n<p>im expecting the for each loop to iterate through the hashmap</p>\n"},{"tags":["java","yaml","snakeyaml"],"comments":[{"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"score":0,"creation_date":1678867998,"post_id":75739023,"comment_id":133614475,"body_markdown":"You can print the value because `toString()` contains a special check for the object itself, as described [here](https://bugs.openjdk.org/browse/JDK-4421469). However this only checks for direct self-references; if you were to have a cycle between two different maps this wouldn&#39;t work anymore, as described [here](https://bugs.openjdk.org/browse/JDK-6579224). Now for SnakeYAML, this is an *expected* feature because YAML caters to this problem. Thus I&#39;d open an issue with SnakeYAML if this doesn&#39;t work.","body":"You can print the value because <code>toString()</code> contains a special check for the object itself, as described <a href=\"https://bugs.openjdk.org/browse/JDK-4421469\" rel=\"nofollow noreferrer\">here</a>. However this only checks for direct self-references; if you were to have a cycle between two different maps this wouldn&#39;t work anymore, as described <a href=\"https://bugs.openjdk.org/browse/JDK-6579224\" rel=\"nofollow noreferrer\">here</a>. Now for SnakeYAML, this is an <i>expected</i> feature because YAML caters to this problem. Thus I&#39;d open an issue with SnakeYAML if this doesn&#39;t work."},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1678869973,"post_id":75739023,"comment_id":133615011,"body_markdown":"Thanks @flyx . Should I simply use like `contains(&quot;(This map)&quot;` or is there a way to check myself ? Also, is there a way to disable this feature from SnakeYAML ?","body":"Thanks @flyx . Should I simply use like <code>contains(&quot;(This map)&quot;</code> or is there a way to check myself ? Also, is there a way to disable this feature from SnakeYAML ?"},{"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"score":0,"creation_date":1678875465,"post_id":75739023,"comment_id":133616463,"body_markdown":"The feature is ‚Äûproperly serialize self-referential structures‚Äú. This feature is *expected* to be there in SnakeYAML, but apparently isn&#39;t implemented. From what I know of SnakeYAML&#39;s API, there isn&#39;t an option to enable it. You can check for self-references with recursive descent while storing the objects you have already visited in a map, though that doesn&#39;t help you writing the YAML, it only lets you recognize when you *would* run into an endless loop.","body":"The feature is ‚Äûproperly serialize self-referential structures‚Äú. This feature is <i>expected</i> to be there in SnakeYAML, but apparently isn&#39;t implemented. From what I know of SnakeYAML&#39;s API, there isn&#39;t an option to enable it. You can check for self-references with recursive descent while storing the objects you have already visited in a map, though that doesn&#39;t help you writing the YAML, it only lets you recognize when you <i>would</i> run into an endless loop."},{"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"score":0,"creation_date":1678875623,"post_id":75739023,"comment_id":133616499,"body_markdown":"You can try to use SnakeYAML&#39;s `Composer` API to deserialize the YAML file to `Node`s which *might* be serializable again, though I don&#39;t know for sure. However then you can&#39;t access your data via your `Configuration` object so I&#39;m unsure whether that&#39;s viable.","body":"You can try to use SnakeYAML&#39;s <code>Composer</code> API to deserialize the YAML file to <code>Node</code>s which <i>might</i> be serializable again, though I don&#39;t know for sure. However then you can&#39;t access your data via your <code>Configuration</code> object so I&#39;m unsure whether that&#39;s viable."}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679917435,"creation_date":1679917435,"answer_id":75855350,"question_id":75739023,"body_markdown":"I made a trick to skip it and prevent this type of issue, like that:\r\n\r\n\tConfiguration(File file, Map&lt;?, ?&gt; map, Configuration defaults) {\r\n\t\tthis.file = file;\r\n\t\tthis.self = new LinkedHashMap&lt;String, Object&gt;();\r\n\t\tthis.defaults = defaults;\r\n\t\tfor (Map.Entry&lt;?, ?&gt; entry : map.entrySet()) {\r\n\t\t\tString key = (entry.getKey() == null) ? &quot;null&quot; : entry.getKey().toString();\r\n\t\t\tif (entry.getValue() instanceof Map) {\r\n\t\t\t\tConfiguration nextDef = defaults == null ? null : defaults.getSection(key);\r\n\t\t\t\tString checkingStr = entry.getValue().toString();\r\n\t\t\t\tif (checkingStr.contains(key + &quot;=(this Map)&quot;) || checkingStr.contains(key + &quot;=(this Collection)&quot;))\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\tthis.self.put(key, new Configuration(file, (Map&lt;?, ?&gt;) entry.getValue(), nextDef == this ? null : nextDef)); // prevent infinite loop\r\n\t\t\t} else {\r\n\t\t\t\tthis.self.put(key, entry.getValue());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nWith `checkingStr.contains(key + &quot;=(this Map)&quot;) || checkingStr.contains(key + &quot;=(this Collection)&quot;)` I can skip all map to be added into themself.","title":"Infinite loop while reading yaml file because of pointers","body":"<p>I made a trick to skip it and prevent this type of issue, like that:</p>\n<pre><code>Configuration(File file, Map&lt;?, ?&gt; map, Configuration defaults) {\n    this.file = file;\n    this.self = new LinkedHashMap&lt;String, Object&gt;();\n    this.defaults = defaults;\n    for (Map.Entry&lt;?, ?&gt; entry : map.entrySet()) {\n        String key = (entry.getKey() == null) ? &quot;null&quot; : entry.getKey().toString();\n        if (entry.getValue() instanceof Map) {\n            Configuration nextDef = defaults == null ? null : defaults.getSection(key);\n            String checkingStr = entry.getValue().toString();\n            if (checkingStr.contains(key + &quot;=(this Map)&quot;) || checkingStr.contains(key + &quot;=(this Collection)&quot;))\n                continue;\n            this.self.put(key, new Configuration(file, (Map&lt;?, ?&gt;) entry.getValue(), nextDef == this ? null : nextDef)); // prevent infinite loop\n        } else {\n            this.self.put(key, entry.getValue());\n        }\n    }\n}\n</code></pre>\n<p>With <code>checkingStr.contains(key + &quot;=(this Map)&quot;) || checkingStr.contains(key + &quot;=(this Collection)&quot;)</code> I can skip all map to be added into themself.</p>\n"}],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75855350,"answer_count":1,"score":0,"last_activity_date":1679917435,"creation_date":1678833687,"question_id":75739023,"body_markdown":"I&#39;m reading and writing YML content into files. Some files are like that:\r\n```yml\r\n&amp;id001\r\nplayername: SomeName\r\nlang: fr_FR\r\nminerate-full-mined: *id001\r\n```\r\nThe issue is that the `minerate-full-mined` key refer to the first line of file, so it make an infinite loop.\r\n\r\nMy code:\r\n```java\r\nDumperOptions options = new DumperOptions();\r\noptions.setDefaultFlowStyle(DumperOptions.FlowStyle.BLOCK);\r\nYaml yaml = new Yaml(new Representer(options) {\r\n\t{\r\n\t\tthis.representers.put(Configuration.class, (data) -&gt; represent(((Configuration) data).self));\r\n\t}\r\n}, options);\r\n```\r\n\r\n```java\r\nprotected Map&lt;String, Object&gt; self;\r\nprotected Configuration defaults;\r\nprotected File file;\r\n\r\npublic Configuration() {\r\n    this(null);\r\n}\r\n\r\npublic Configuration(Configuration defaults) {\r\n    this(null, new LinkedHashMap&lt;String, Object&gt;(), defaults);\r\n}\r\n\r\npublic Configuration(File file, Map&lt;?, ?&gt; map, Configuration defaults) {\r\n\tthis.file = file;\r\n    this.self = new LinkedHashMap&lt;String, Object&gt;();\r\n    this.defaults = defaults;\r\n    for (Map.Entry&lt;?, ?&gt; entry : map.entrySet()) {\r\n        String key = (entry.getKey() == null) ? &quot;null&quot; : entry.getKey().toString();\r\n        if (entry.getValue() instanceof Map) {\r\n        \tthis.self.put(key, new Configuration(file, (Map&lt;?, ?&gt;) entry.getValue(), defaults == null ? null : defaults.getSection(key)));\r\n        } else {\r\n            this.self.put(key, entry.getValue());\r\n        }\r\n    }\r\n}\r\n```\r\nThe infinite loop is made at the line `this.self.put(key, new Configuration[...]);`.\r\n\r\nI tried to print `entry.getValue()`, and it&#39;s printed as `{playername: SomeName, lang: fr_FR, minerate-full-mined=(This Map)}`. So it can be detected, but I don&#39;t know that we can put a map on itself.\r\n\r\nHow can I prevent snakeyaml to take this in count ?","title":"Infinite loop while reading yaml file because of pointers","body":"<p>I'm reading and writing YML content into files. Some files are like that:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>&amp;id001\nplayername: SomeName\nlang: fr_FR\nminerate-full-mined: *id001\n</code></pre>\n<p>The issue is that the <code>minerate-full-mined</code> key refer to the first line of file, so it make an infinite loop.</p>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DumperOptions options = new DumperOptions();\noptions.setDefaultFlowStyle(DumperOptions.FlowStyle.BLOCK);\nYaml yaml = new Yaml(new Representer(options) {\n    {\n        this.representers.put(Configuration.class, (data) -&gt; represent(((Configuration) data).self));\n    }\n}, options);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>protected Map&lt;String, Object&gt; self;\nprotected Configuration defaults;\nprotected File file;\n\npublic Configuration() {\n    this(null);\n}\n\npublic Configuration(Configuration defaults) {\n    this(null, new LinkedHashMap&lt;String, Object&gt;(), defaults);\n}\n\npublic Configuration(File file, Map&lt;?, ?&gt; map, Configuration defaults) {\n    this.file = file;\n    this.self = new LinkedHashMap&lt;String, Object&gt;();\n    this.defaults = defaults;\n    for (Map.Entry&lt;?, ?&gt; entry : map.entrySet()) {\n        String key = (entry.getKey() == null) ? &quot;null&quot; : entry.getKey().toString();\n        if (entry.getValue() instanceof Map) {\n            this.self.put(key, new Configuration(file, (Map&lt;?, ?&gt;) entry.getValue(), defaults == null ? null : defaults.getSection(key)));\n        } else {\n            this.self.put(key, entry.getValue());\n        }\n    }\n}\n</code></pre>\n<p>The infinite loop is made at the line <code>this.self.put(key, new Configuration[...]);</code>.</p>\n<p>I tried to print <code>entry.getValue()</code>, and it's printed as <code>{playername: SomeName, lang: fr_FR, minerate-full-mined=(This Map)}</code>. So it can be detected, but I don't know that we can put a map on itself.</p>\n<p>How can I prevent snakeyaml to take this in count ?</p>\n"},{"tags":["java","eclipse","spring","maven"],"answers":[{"tags":[],"owner":{"account_id":3454996,"reputation":5649,"user_id":2893693,"accept_rate":83,"display_name":"J-J"},"comment_count":0,"down_vote_count":1,"up_vote_count":21,"is_accepted":true,"score":20,"last_activity_date":1528837287,"creation_date":1479900998,"answer_id":40763458,"question_id":40763263,"body_markdown":"Do a `mvn clean install`. &lt;br&gt;\r\nThis will clean whatever created from the previous build, then build your project and add the jars to your local maven repository (.m2\\repository)","title":"Maven: Could Not find Artifact when trying to include a project in another one using dependencies","body":"<p>Do a <code>mvn clean install</code>. <br>\nThis will clean whatever created from the previous build, then build your project and add the jars to your local maven repository (.m2\\repository)</p>\n"},{"comments":[{"owner":{"account_id":18281861,"reputation":121,"user_id":13310543,"display_name":"ranul"},"score":0,"creation_date":1699959959,"post_id":47061116,"comment_id":136593378,"body_markdown":"Watching the vids helped....","body":"Watching the vids helped...."}],"tags":[],"owner":{"account_id":11368887,"reputation":129,"user_id":8334977,"display_name":"Krithika "},"comment_count":1,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1509559689,"creation_date":1509559689,"answer_id":47061116,"question_id":40763263,"body_markdown":"I also faced the same problem...................Issue got resolved  \r\nDo a maven clean and install of the child project and then try\r\n\r\nmaven clean  and install of parent project.\r\n\r\nFor reference watch these  videos\r\nhttps://www.youtube.com/watch?v=2aNC1EAnpqo\r\nhttps://www.youtube.com/watch?v=EMfd2FwKKHY\r\n","title":"Maven: Could Not find Artifact when trying to include a project in another one using dependencies","body":"<p>I also faced the same problem...................Issue got resolved<br>\nDo a maven clean and install of the child project and then try</p>\n\n<p>maven clean  and install of parent project.</p>\n\n<p>For reference watch these  videos\n<a href=\"https://www.youtube.com/watch?v=2aNC1EAnpqo\" rel=\"noreferrer\">https://www.youtube.com/watch?v=2aNC1EAnpqo</a>\n<a href=\"https://www.youtube.com/watch?v=EMfd2FwKKHY\" rel=\"noreferrer\">https://www.youtube.com/watch?v=EMfd2FwKKHY</a></p>\n"},{"tags":[],"owner":{"account_id":14942598,"reputation":243,"user_id":10788795,"display_name":"J.Leupp"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1554231922,"creation_date":1554231922,"answer_id":55481891,"question_id":40763263,"body_markdown":"I was facing the same issue, I had a parent project that would fail on the Clean Install of a dependent project.\r\n\r\nI tried all of the above solutions to no avail, running clean install both in eclipse and from command line.\r\n\r\nI was able to solve by navigating to the Child Project and Running the following\r\n\r\n 1. Cleaning the project `mvn clean`\r\n 2. Setting as eclipse project `mvn eclipse:eclipse` (this forced download of missing jars)\r\n 3. Follow by clean install of Child project `mvn clean install -U`\r\n 4. Finally clean install on parent project `mvn clean install -DskipTests -P(if necessary a profile here) -U`\r\n\r\nThis helped when maven was not downloading jar&#39;s properly listed in the pom.xml, I was not able to find why clean install with Update Snapshots/etc. did not download the missing jars.\r\n ","title":"Maven: Could Not find Artifact when trying to include a project in another one using dependencies","body":"<p>I was facing the same issue, I had a parent project that would fail on the Clean Install of a dependent project.</p>\n\n<p>I tried all of the above solutions to no avail, running clean install both in eclipse and from command line.</p>\n\n<p>I was able to solve by navigating to the Child Project and Running the following</p>\n\n<ol>\n<li>Cleaning the project <code>mvn clean</code></li>\n<li>Setting as eclipse project <code>mvn eclipse:eclipse</code> (this forced download of missing jars)</li>\n<li>Follow by clean install of Child project <code>mvn clean install -U</code></li>\n<li>Finally clean install on parent project <code>mvn clean install -DskipTests -P(if necessary a profile here) -U</code></li>\n</ol>\n\n<p>This helped when maven was not downloading jar's properly listed in the pom.xml, I was not able to find why clean install with Update Snapshots/etc. did not download the missing jars.</p>\n"},{"tags":[],"owner":{"account_id":20434143,"reputation":29,"user_id":14992425,"display_name":"Niki Mozzon"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1679917293,"creation_date":1679917293,"answer_id":75855326,"question_id":40763263,"body_markdown":"I faced the same issue, I ran:\r\n\r\n        mvn compile dependency:tree\r\n\r\nand after that it compiled without any problem.","title":"Maven: Could Not find Artifact when trying to include a project in another one using dependencies","body":"<p>I faced the same issue, I ran:</p>\n<pre><code>    mvn compile dependency:tree\n</code></pre>\n<p>and after that it compiled without any problem.</p>\n"}],"owner":{"account_id":271745,"reputation":2411,"user_id":562436,"accept_rate":97,"display_name":"Hani Goc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139421,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"accepted_answer_id":40763458,"answer_count":4,"score":17,"last_activity_date":1679917293,"creation_date":1479900448,"question_id":40763263,"body_markdown":"## Problem description ##\r\n\r\nI have a project called `reservationVol` which I want to include in an mvc spring project called `reservationVolMvc`. I compiled and tested `reservationVol` on eclipse. I also use the maven commands: `mvn compile` and `mvn package`. All tests ran successfully.\r\n\r\nWhen I tried to compile `reservationVolMvc` using the `mvn compile` command I get the following error:\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO]                                                                         \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building reservationVolSpring 1.0-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    [WARNING] The POM for hani.reservationVol:reservationVol:jar:1.0-SNAPSHOT is missing, no dependency information available\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 0.688 s\r\n    [INFO] Finished at: 2016-11-23T12:25:21+01:00\r\n    [INFO] Final Memory: 6M/77M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal on project reservationVolSpring: Could not resolve dependencies for project formation.addstones:reservationVolSpring:war:1.0-SNAPSHOT: Could not find artifact hani.reservationVol:reservationVol:jar:1.0-SNAPSHOT -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\r\n\r\n\r\nThe following **pom.xml**  files represent the dependencies for respectively `reservationVol` and `reservationVolMvc`. I included the project `ReservationVol` in `reservationVolMvc` by using the following: \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;hani.reservationVol&lt;/groupId&gt;\r\n        &lt;artifactId&gt;reservationVol&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n----------\r\n# ReservationVol #\r\n\r\n\r\n      &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n            &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n            &lt;groupId&gt;hani.reservationVol&lt;/groupId&gt;\r\n            &lt;artifactId&gt;reservationVol&lt;/artifactId&gt;\r\n            &lt;packaging&gt;jar&lt;/packaging&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;name&gt;reservationVol&lt;/name&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                    &lt;version&gt;5.1.39&lt;/version&gt;\r\n                    &lt;scope&gt;compile&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n                \r\n                 &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                    &lt;version&gt;5.1.0.Final&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                \r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n                    &lt;version&gt;5.1.0.Final&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n                    &lt;version&gt;4.2.6.RELEASE&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n                    &lt;version&gt;4.2.6.RELEASE&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.1.1&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                \r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                    &lt;version&gt;4.12&lt;/version&gt;\r\n                    &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n               \r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n                    &lt;version&gt;4.2.5.RELEASE&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        \r\n            &lt;build&gt;\r\n              &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                  &lt;version&gt;3.3&lt;/version&gt;\r\n                  &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                  &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n              &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n            \r\n        &lt;/project&gt;\r\n\r\n\r\n----------\r\n# reservationVolMvc #\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;formation.addstones&lt;/groupId&gt;\r\n        &lt;artifactId&gt;reservationVolSpring&lt;/artifactId&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;reservationVolSpring&lt;/name&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                    &lt;groupId&gt;hani.reservationVol&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;reservationVol&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n                &lt;version&gt;4.2.6.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n                &lt;version&gt;4.2.6.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.0.GA&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n                &lt;version&gt;4.3.2.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.5.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n","title":"Maven: Could Not find Artifact when trying to include a project in another one using dependencies","body":"<h2>Problem description</h2>\n<p>I have a project called <code>reservationVol</code> which I want to include in an mvc spring project called <code>reservationVolMvc</code>. I compiled and tested <code>reservationVol</code> on eclipse. I also use the maven commands: <code>mvn compile</code> and <code>mvn package</code>. All tests ran successfully.</p>\n<p>When I tried to compile <code>reservationVolMvc</code> using the <code>mvn compile</code> command I get the following error:</p>\n<pre><code>[INFO] Scanning for projects...\n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building reservationVolSpring 1.0-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[WARNING] The POM for hani.reservationVol:reservationVol:jar:1.0-SNAPSHOT is missing, no dependency information available\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 0.688 s\n[INFO] Finished at: 2016-11-23T12:25:21+01:00\n[INFO] Final Memory: 6M/77M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal on project reservationVolSpring: Could not resolve dependencies for project formation.addstones:reservationVolSpring:war:1.0-SNAPSHOT: Could not find artifact hani.reservationVol:reservationVol:jar:1.0-SNAPSHOT -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\n</code></pre>\n<p>The following <strong>pom.xml</strong>  files represent the dependencies for respectively <code>reservationVol</code> and <code>reservationVolMvc</code>. I included the project <code>ReservationVol</code> in <code>reservationVolMvc</code> by using the following:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;hani.reservationVol&lt;/groupId&gt;\n    &lt;artifactId&gt;reservationVol&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<hr />\n<h1>ReservationVol</h1>\n<pre><code>  &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n        &lt;groupId&gt;hani.reservationVol&lt;/groupId&gt;\n        &lt;artifactId&gt;reservationVol&lt;/artifactId&gt;\n        &lt;packaging&gt;jar&lt;/packaging&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n        &lt;name&gt;reservationVol&lt;/name&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n                &lt;version&gt;5.1.39&lt;/version&gt;\n                &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;/dependency&gt;\n            \n             &lt;dependency&gt;\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n                &lt;version&gt;5.1.0.Final&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n                &lt;version&gt;5.1.0.Final&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n                &lt;version&gt;4.2.6.RELEASE&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n                &lt;version&gt;4.2.6.RELEASE&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\n                &lt;version&gt;2.1.1&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;dependency&gt;\n                &lt;groupId&gt;junit&lt;/groupId&gt;\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\n                &lt;version&gt;4.12&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n           \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n                &lt;version&gt;4.2.5.RELEASE&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    \n        &lt;build&gt;\n          &lt;plugins&gt;\n            &lt;plugin&gt;\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.3&lt;/version&gt;\n              &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n              &lt;/configuration&gt;\n            &lt;/plugin&gt;\n          &lt;/plugins&gt;\n        &lt;/build&gt;\n        \n    &lt;/project&gt;\n</code></pre>\n<hr />\n<h1>reservationVolMvc</h1>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;formation.addstones&lt;/groupId&gt;\n    &lt;artifactId&gt;reservationVolSpring&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;reservationVolSpring&lt;/name&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n                &lt;groupId&gt;hani.reservationVol&lt;/groupId&gt;\n                &lt;artifactId&gt;reservationVol&lt;/artifactId&gt;\n                &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n            &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;4.2.6.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;4.2.6.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.GA&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;4.3.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","algorithm","negative-number","mathematical-expressions","shunting-yard"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1679884567,"post_id":75851675,"comment_id":133795262,"body_markdown":"Step through your program in the debugger with the expression `-(1)`. Does that work?","body":"Step through your program in the debugger with the expression <code>-(1)</code>. Does that work?"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679890900,"post_id":75851675,"comment_id":133795917,"body_markdown":"Try making the grouping bracket operator constructs completely explicit. The first example appears horribly superfluous parasitic and deserving of erroneous behaviour because of the repeated levels on one value only, for accuracy of such an occurrence dynamically in code that &quot;single operated value&quot; should been clarified it&#39;s pole first before inserting to an equation.","body":"Try making the grouping bracket operator constructs completely explicit. The first example appears horribly superfluous parasitic and deserving of erroneous behaviour because of the repeated levels on one value only, for accuracy of such an occurrence dynamically in code that &quot;single operated value&quot; should been clarified it&#39;s pole first before inserting to an equation."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679891630,"post_id":75851675,"comment_id":133795981,"body_markdown":"All it seems to say is you have not committed a reliable assessment of the syntax rules required for consistent result to apply to the equation.. it&#39;s more like , get back to work.","body":"All it seems to say is you have not committed a reliable assessment of the syntax rules required for consistent result to apply to the equation.. it&#39;s more like , get back to work."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679917129,"creation_date":1679917129,"answer_id":75855299,"question_id":75851675,"body_markdown":"A minus symbol can be just the first character of a signed number (which your code processes that way), or a binary subtraction operator (which your code deals with), but also a unary operator, which your code does not deal with. Instead (as the comment in your code says) such occurrence of a minus symbol is ignored by it.\r\n\r\nYou would need to add logic to identify when a minus symbol represents a unary minus operator. Once you have that, you can also interpret a minus in front of an unsigned number as a unary minus operator so that the parsing of numbers can be limited to unsigned numbers only.\r\n\r\nAs the `postfixEval` function will need to distinguish between a binary minus operator and a unary minus operator, you could introduce a different character for one of the two. For instance, you could stack a tilde (`~`) in case a *unary* minus is intended. In that case `postfixEval` should only pop *one* value from its stack and negate it.\r\n\r\nSome other remarks:\r\n\r\n* Instead of comparing a character with `*`, `/`, `+` and `-`, inside the `calculate ` function, you could reuse the logic already implemented in `getPrecedence`. When that function returns a non-zero value, you know that the character was such an operator.\r\n* Instead of `postfixEval` converting calculated results back to string so they can be pushed back on the stack, have your stack store doubles, and convert in the other direction. This will involve fewer conversions.\r\n\r\nHere is the relevant part of your code updated with the above remarks. Comments indicate where changes occured:\r\n\r\n```\r\npublic class Main {\r\n    public static int getPrecedence(Character op) {\r\n        switch (op) {\r\n            case &#39;~&#39;: // Unary minus\r\n                return 101; // Greater than 100 means &quot;unary&quot;\r\n            case &#39;*&#39;:\r\n                return 2;\r\n            case &#39;/&#39;:\r\n                return 2;\r\n            case &#39;+&#39;:\r\n                return 1;\r\n            case &#39;-&#39;:\r\n                return 1;\r\n            default:\r\n                return 0;\r\n        }\r\n    }\r\n\r\n    public static double evalSimpleExpr(String operator, double a, double b) {\r\n        switch (operator) {\r\n            case &quot;*&quot;:\r\n                return b * a;\r\n            case &quot;/&quot;:\r\n                if (a == 0)\r\n                    return 0;\r\n                return b / a;\r\n            case &quot;+&quot;:\r\n                return b + a;\r\n            case &quot;-&quot;:\r\n                return b - a;\r\n            case &quot;~&quot;: // For unary minus (b is ignored)\r\n                return -a;\r\n            default:\r\n                return 0;\r\n        }\r\n    }\r\n\r\n    public static double calculate(String expression) {\r\n        char[] characters = expression.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;).toCharArray();\r\n        List&lt;String&gt; output = new ArrayList&lt;String&gt;();\r\n        Stack&lt;Character&gt; ops = new Stack&lt;Character&gt;();\r\n\r\n        for (int i = 0; i &lt; characters.length; i++) {\r\n            char token = characters[i]; // Let&#39;s use a variable for this\r\n            // If element represents an unsigned number, then push it into the stack &quot;output&quot;\r\n            if (Character.isDigit(token) || token == &#39;.&#39;) {\r\n                // Don&#39;t deal with negative sign -- deal with it elsewhere as a unary operator\r\n                String digits = &quot;&quot;;\r\n                // Collect all digits (and optional decimal point)\r\n                for (; i &lt; characters.length &amp;&amp; (Character.isDigit(characters[i]) || characters[i] == &#39;.&#39;); i++) {\r\n                    digits += characters[i];\r\n                }\r\n                i--;\r\n                output.add(digits);\r\n            } else if (token == &#39;(&#39;) {\r\n                ops.push(token);\r\n            } else if (token == &#39;)&#39;) {\r\n                while (!ops.empty() &amp;&amp; ops.peek() != &#39;(&#39;) {\r\n                    output.add(Character.toString(ops.pop()));\r\n                }\r\n                ops.pop();\r\n            } else if (getPrecedence(token) &gt; 0) {\r\n                // Determine whether operator is unary\r\n                if (i == 0 || getPrecedence(characters[i - 1]) &gt; 0 || characters[i - 1] == &#39;(&#39;) {\r\n                    if (token != &#39;-&#39;) continue; // Ignore unary + (it has no effect)\r\n                    ops.push(&#39;~&#39;); // Use a distinctive character for unary minus.\r\n                } else {\r\n                    while (!ops.empty() &amp;&amp; getPrecedence(ops.peek()) &gt;= getPrecedence(token)) {\r\n                        output.add(Character.toString(ops.pop()));\r\n                    }\r\n                    ops.push(token);\r\n                }\r\n            }\r\n        }\r\n\r\n        while (!ops.empty()) {\r\n            output.add(Character.toString(ops.pop()));\r\n        }\r\n        return postfixEval(output);\r\n    }\r\n\r\n    public static double postfixEval(List&lt;String&gt; postfix) {\r\n        Stack&lt;Double&gt; stack = new Stack&lt;Double&gt;(); // Use Double instead of String\r\n\r\n        for (String element : postfix) {\r\n            int prec = getPrecedence(element.charAt(0));\r\n            if (prec &gt;= 100) { // Unary \r\n                stack.push(evalSimpleExpr(element, stack.pop(), 0));\r\n            } else if (prec &gt; 0) { // Binary\r\n                stack.push(evalSimpleExpr(element, stack.pop(), stack.pop()));\r\n            } else {\r\n                stack.push(Double.parseDouble(element));\r\n            }\r\n        }\r\n\r\n        return stack.pop();\r\n    }\r\n```\r\n","title":"Java - multiple levels of negative signs in a mathematical expression evaluator program","body":"<p>A minus symbol can be just the first character of a signed number (which your code processes that way), or a binary subtraction operator (which your code deals with), but also a unary operator, which your code does not deal with. Instead (as the comment in your code says) such occurrence of a minus symbol is ignored by it.</p>\n<p>You would need to add logic to identify when a minus symbol represents a unary minus operator. Once you have that, you can also interpret a minus in front of an unsigned number as a unary minus operator so that the parsing of numbers can be limited to unsigned numbers only.</p>\n<p>As the <code>postfixEval</code> function will need to distinguish between a binary minus operator and a unary minus operator, you could introduce a different character for one of the two. For instance, you could stack a tilde (<code>~</code>) in case a <em>unary</em> minus is intended. In that case <code>postfixEval</code> should only pop <em>one</em> value from its stack and negate it.</p>\n<p>Some other remarks:</p>\n<ul>\n<li>Instead of comparing a character with <code>*</code>, <code>/</code>, <code>+</code> and <code>-</code>, inside the <code>calculate </code> function, you could reuse the logic already implemented in <code>getPrecedence</code>. When that function returns a non-zero value, you know that the character was such an operator.</li>\n<li>Instead of <code>postfixEval</code> converting calculated results back to string so they can be pushed back on the stack, have your stack store doubles, and convert in the other direction. This will involve fewer conversions.</li>\n</ul>\n<p>Here is the relevant part of your code updated with the above remarks. Comments indicate where changes occured:</p>\n<pre><code>public class Main {\n    public static int getPrecedence(Character op) {\n        switch (op) {\n            case '~': // Unary minus\n                return 101; // Greater than 100 means &quot;unary&quot;\n            case '*':\n                return 2;\n            case '/':\n                return 2;\n            case '+':\n                return 1;\n            case '-':\n                return 1;\n            default:\n                return 0;\n        }\n    }\n\n    public static double evalSimpleExpr(String operator, double a, double b) {\n        switch (operator) {\n            case &quot;*&quot;:\n                return b * a;\n            case &quot;/&quot;:\n                if (a == 0)\n                    return 0;\n                return b / a;\n            case &quot;+&quot;:\n                return b + a;\n            case &quot;-&quot;:\n                return b - a;\n            case &quot;~&quot;: // For unary minus (b is ignored)\n                return -a;\n            default:\n                return 0;\n        }\n    }\n\n    public static double calculate(String expression) {\n        char[] characters = expression.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;).toCharArray();\n        List&lt;String&gt; output = new ArrayList&lt;String&gt;();\n        Stack&lt;Character&gt; ops = new Stack&lt;Character&gt;();\n\n        for (int i = 0; i &lt; characters.length; i++) {\n            char token = characters[i]; // Let's use a variable for this\n            // If element represents an unsigned number, then push it into the stack &quot;output&quot;\n            if (Character.isDigit(token) || token == '.') {\n                // Don't deal with negative sign -- deal with it elsewhere as a unary operator\n                String digits = &quot;&quot;;\n                // Collect all digits (and optional decimal point)\n                for (; i &lt; characters.length &amp;&amp; (Character.isDigit(characters[i]) || characters[i] == '.'); i++) {\n                    digits += characters[i];\n                }\n                i--;\n                output.add(digits);\n            } else if (token == '(') {\n                ops.push(token);\n            } else if (token == ')') {\n                while (!ops.empty() &amp;&amp; ops.peek() != '(') {\n                    output.add(Character.toString(ops.pop()));\n                }\n                ops.pop();\n            } else if (getPrecedence(token) &gt; 0) {\n                // Determine whether operator is unary\n                if (i == 0 || getPrecedence(characters[i - 1]) &gt; 0 || characters[i - 1] == '(') {\n                    if (token != '-') continue; // Ignore unary + (it has no effect)\n                    ops.push('~'); // Use a distinctive character for unary minus.\n                } else {\n                    while (!ops.empty() &amp;&amp; getPrecedence(ops.peek()) &gt;= getPrecedence(token)) {\n                        output.add(Character.toString(ops.pop()));\n                    }\n                    ops.push(token);\n                }\n            }\n        }\n\n        while (!ops.empty()) {\n            output.add(Character.toString(ops.pop()));\n        }\n        return postfixEval(output);\n    }\n\n    public static double postfixEval(List&lt;String&gt; postfix) {\n        Stack&lt;Double&gt; stack = new Stack&lt;Double&gt;(); // Use Double instead of String\n\n        for (String element : postfix) {\n            int prec = getPrecedence(element.charAt(0));\n            if (prec &gt;= 100) { // Unary \n                stack.push(evalSimpleExpr(element, stack.pop(), 0));\n            } else if (prec &gt; 0) { // Binary\n                stack.push(evalSimpleExpr(element, stack.pop(), stack.pop()));\n            } else {\n                stack.push(Double.parseDouble(element));\n            }\n        }\n\n        return stack.pop();\n    }\n</code></pre>\n"}],"owner":{"account_id":23435158,"reputation":43,"user_id":17493356,"display_name":"TommyYOyoyo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75855299,"answer_count":1,"score":0,"last_activity_date":1679917129,"creation_date":1679883556,"question_id":75851675,"body_markdown":"I&#39;ve been trying to make a mathematical expression evaluator program (calculator) in java and I&#39;m stuck with a problem: I can&#39;t find a way to make the program support mathematical expressions with multi-levels of negative signs. \r\n\r\n\r\nThe expression\r\n```1 - -(-(-(-4)))```\r\n&#39;s result should be -3.0, but I&#39;m unable to make my program determine whether the number &quot;4&quot; is a negative number or not. My program returns 5 instead since it cannot determine correctly.\r\n\r\n\r\nAnother example is the expression \r\n```12*123/-(-5+2)```\r\nIt should return an answer of 492, but my program incorrectly returns -492.\r\n\r\n\r\nHere&#39;s the code I&#39;ve been working on: \r\n```\r\nimport java.util.*;\r\n\r\npublic class MathEvaluator {\r\n\r\n    // get the precedence order of an operator\r\n    public static int getPrecedence(Character op) {\r\n        switch (op) {\r\n            case &#39;*&#39;:\r\n                return 2;\r\n            case &#39;/&#39;:\r\n                return 2;\r\n            case &#39;+&#39;:\r\n                return 1;\r\n            case &#39;-&#39;:\r\n                return 1;\r\n            default:\r\n                return 0;\r\n        }\r\n    }\r\n\r\n    // evaluating simple math expressions between two floating point numbers\r\n    // order is reversed due to the stack sturcture (LIFO), b comes first while a\r\n    // comes after\r\n    public static double evalSimpleExpr(String operator, double a, double b) {\r\n        switch (operator) {\r\n            case &quot;*&quot;:\r\n                return b * a;\r\n            case &quot;/&quot;:\r\n                if (a == 0)\r\n                    return 0;\r\n                return b / a;\r\n            case &quot;+&quot;:\r\n                return b + a;\r\n            case &quot;-&quot;:\r\n                return b - a;\r\n            default:\r\n                return 0;\r\n        }\r\n    }\r\n\r\n    public static double calculate(String expression) {\r\n        System.out.println(&quot;[DEBUG]: &quot; + expression);\r\n        // make a new array of characters while removing all the whitespaces\r\n        char[] characters = expression.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;).toCharArray();\r\n\r\n        List&lt;String&gt; output = new ArrayList&lt;String&gt;();\r\n        Stack&lt;Character&gt; ops = new Stack&lt;Character&gt;();\r\n\r\n        mainLoop: for (int i = 0; i &lt; characters.length; i++) {\r\n\r\n            // if element is an integer / floating-point number / decimal point, then\r\n            // push it into the stack &quot;numbers&quot;\r\n            if (Character.isDigit(characters[i]) || characters[i] == &#39;.&#39;) {\r\n                // if the character before the current element is still a digit/decimal point,\r\n                // then ignore and continue scanning the next element\r\n                if (i &gt; 0 &amp;&amp; (Character.isDigit(characters[i - 1]) || characters[i - 1] == &#39;.&#39;))\r\n                    continue mainLoop;\r\n                String digits = &quot;&quot;;\r\n                // get the negative sign (if it exists for the number) and add it to the\r\n                // number\r\n                if (i &gt; 1 &amp;&amp; characters[i - 1] == &#39;-&#39;\r\n                        &amp;&amp; (characters[i - 2] == &#39;+&#39; || characters[i - 2] == &#39;-&#39; || characters[i - 2] == &#39;*&#39;\r\n                                || characters[i - 2] == &#39;/&#39; || characters[i - 2] == &#39;(&#39; || characters[i - 2] == &#39;)&#39;)) {\r\n                    digits += &quot;-&quot;;\r\n                } else if (i == 1 &amp;&amp; characters[0] == &#39;-&#39;) {\r\n                    digits += &quot;-&quot;;\r\n                }\r\n                // a loop to the right to get all digits in a number\r\n                digits += characters[i];\r\n                int j = i + 1;\r\n                while (!(j &gt;= characters.length) &amp;&amp; (Character.isDigit(characters[j]) || characters[j] == &#39;.&#39;)) {\r\n                    digits += characters[j];\r\n                    j += 1;\r\n                }\r\n\r\n                System.out.println(&quot;[NUMBER]: &quot; + digits);\r\n                output.add(digits);\r\n\r\n                // check if element is brace\r\n                // if its an opening brace, push it into the operator stack\r\n            } else if (characters[i] == &#39;(&#39;) {\r\n                ops.push(characters[i]);\r\n\r\n            // if its a closing brace, pop all the elements between the braces into the\r\n            // output queue one by one\r\n            } else if (characters[i] == &#39;)&#39;) {\r\n                while (!ops.empty() &amp;&amp; ops.peek() != &#39;(&#39;) {\r\n                    output.add(Character.toString(ops.pop()));\r\n                }\r\n                ops.pop();\r\n\r\n            // check if element is an operator\r\n            } else if (characters[i] == &#39;+&#39; || characters[i] == &#39;-&#39; || characters[i] == &#39;*&#39; || characters[i] == &#39;/&#39;) {\r\n                // ignoring negative signs\r\n                if (i &gt; 0 &amp;&amp; characters[i] == &#39;-&#39; &amp;&amp; (characters[i - 1] == &#39;+&#39; ||\r\n                        characters[i - 1] == &#39;-&#39;\r\n                        || characters[i - 1] == &#39;*&#39; || characters[i - 1] == &#39;/&#39; || characters[i - 1] == &#39;(&#39;)) {\r\n                    continue mainLoop;\r\n                } else if (i == 0 &amp;&amp; characters[i] == &#39;-&#39;) {\r\n                    continue mainLoop;\r\n                }\r\n                /* \r\n                 * check if the previous operator has priority over the current operator or if\r\n                 * the previous operator has the same priority as the current operator (if they\r\n                 * have the same priority,\r\n                 * then the previous operator should be applied before the current operator)\r\n                 * and pop the elements from the stack until the current operator takes the\r\n                 * priority\r\n                */\r\n                while (!ops.empty() &amp;&amp; getPrecedence(ops.peek()) &gt;= getPrecedence(characters[i])) {\r\n                    output.add(Character.toString(ops.pop()));\r\n                }\r\n                ops.push(characters[i]);\r\n            }\r\n        }\r\n\r\n        // push the rest of the operators from the stack to the output queue\r\n        while (!ops.empty()) {\r\n            output.add(Character.toString(ops.pop()));\r\n        }\r\n\r\n        System.out.println(output);\r\n\r\n        return postfixEval(output);\r\n    }\r\n\r\n    // evaluating the postfix expression\r\n    public static double postfixEval(List&lt;String&gt; postfix) {\r\n\r\n        Stack&lt;String&gt; stack = new Stack&lt;String&gt;();\r\n\r\n        for (String element : postfix) {\r\n            // if the element is an operator and the stack has more than two elements, apply\r\n            // the operator to the two last numbers from the stack\r\n            if (stack.size() &gt;= 2\r\n                    &amp;&amp; (element.equals(&quot;+&quot;) || element.equals(&quot;-&quot;) || element.equals(&quot;*&quot;) || element.equals(&quot;/&quot;))) {\r\n                stack.push(Double.toString(\r\n                        evalSimpleExpr(element, Double.parseDouble(stack.pop()), Double.parseDouble(stack.pop()))));\r\n            } else {\r\n                stack.push(element);\r\n            }\r\n        }\r\n\r\n        System.out.println(stack);\r\n        return Double.parseDouble(stack.pop());\r\n    }\r\n\r\n    // test\r\n    public static void main(String[] args) {\r\n        calculate(&quot;15+2*-12-(0.5+0.8*(8-1))/-0.1+0.5+0.5&quot;);\r\n        calculate(&quot;12* 123/-(-5 + 2)&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nThanks!\r\n","title":"Java - multiple levels of negative signs in a mathematical expression evaluator program","body":"<p>I've been trying to make a mathematical expression evaluator program (calculator) in java and I'm stuck with a problem: I can't find a way to make the program support mathematical expressions with multi-levels of negative signs.</p>\n<p>The expression\n<code>1 - -(-(-(-4)))</code>\n's result should be -3.0, but I'm unable to make my program determine whether the number &quot;4&quot; is a negative number or not. My program returns 5 instead since it cannot determine correctly.</p>\n<p>Another example is the expression\n<code>12*123/-(-5+2)</code>\nIt should return an answer of 492, but my program incorrectly returns -492.</p>\n<p>Here's the code I've been working on:</p>\n<pre><code>import java.util.*;\n\npublic class MathEvaluator {\n\n    // get the precedence order of an operator\n    public static int getPrecedence(Character op) {\n        switch (op) {\n            case '*':\n                return 2;\n            case '/':\n                return 2;\n            case '+':\n                return 1;\n            case '-':\n                return 1;\n            default:\n                return 0;\n        }\n    }\n\n    // evaluating simple math expressions between two floating point numbers\n    // order is reversed due to the stack sturcture (LIFO), b comes first while a\n    // comes after\n    public static double evalSimpleExpr(String operator, double a, double b) {\n        switch (operator) {\n            case &quot;*&quot;:\n                return b * a;\n            case &quot;/&quot;:\n                if (a == 0)\n                    return 0;\n                return b / a;\n            case &quot;+&quot;:\n                return b + a;\n            case &quot;-&quot;:\n                return b - a;\n            default:\n                return 0;\n        }\n    }\n\n    public static double calculate(String expression) {\n        System.out.println(&quot;[DEBUG]: &quot; + expression);\n        // make a new array of characters while removing all the whitespaces\n        char[] characters = expression.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;).toCharArray();\n\n        List&lt;String&gt; output = new ArrayList&lt;String&gt;();\n        Stack&lt;Character&gt; ops = new Stack&lt;Character&gt;();\n\n        mainLoop: for (int i = 0; i &lt; characters.length; i++) {\n\n            // if element is an integer / floating-point number / decimal point, then\n            // push it into the stack &quot;numbers&quot;\n            if (Character.isDigit(characters[i]) || characters[i] == '.') {\n                // if the character before the current element is still a digit/decimal point,\n                // then ignore and continue scanning the next element\n                if (i &gt; 0 &amp;&amp; (Character.isDigit(characters[i - 1]) || characters[i - 1] == '.'))\n                    continue mainLoop;\n                String digits = &quot;&quot;;\n                // get the negative sign (if it exists for the number) and add it to the\n                // number\n                if (i &gt; 1 &amp;&amp; characters[i - 1] == '-'\n                        &amp;&amp; (characters[i - 2] == '+' || characters[i - 2] == '-' || characters[i - 2] == '*'\n                                || characters[i - 2] == '/' || characters[i - 2] == '(' || characters[i - 2] == ')')) {\n                    digits += &quot;-&quot;;\n                } else if (i == 1 &amp;&amp; characters[0] == '-') {\n                    digits += &quot;-&quot;;\n                }\n                // a loop to the right to get all digits in a number\n                digits += characters[i];\n                int j = i + 1;\n                while (!(j &gt;= characters.length) &amp;&amp; (Character.isDigit(characters[j]) || characters[j] == '.')) {\n                    digits += characters[j];\n                    j += 1;\n                }\n\n                System.out.println(&quot;[NUMBER]: &quot; + digits);\n                output.add(digits);\n\n                // check if element is brace\n                // if its an opening brace, push it into the operator stack\n            } else if (characters[i] == '(') {\n                ops.push(characters[i]);\n\n            // if its a closing brace, pop all the elements between the braces into the\n            // output queue one by one\n            } else if (characters[i] == ')') {\n                while (!ops.empty() &amp;&amp; ops.peek() != '(') {\n                    output.add(Character.toString(ops.pop()));\n                }\n                ops.pop();\n\n            // check if element is an operator\n            } else if (characters[i] == '+' || characters[i] == '-' || characters[i] == '*' || characters[i] == '/') {\n                // ignoring negative signs\n                if (i &gt; 0 &amp;&amp; characters[i] == '-' &amp;&amp; (characters[i - 1] == '+' ||\n                        characters[i - 1] == '-'\n                        || characters[i - 1] == '*' || characters[i - 1] == '/' || characters[i - 1] == '(')) {\n                    continue mainLoop;\n                } else if (i == 0 &amp;&amp; characters[i] == '-') {\n                    continue mainLoop;\n                }\n                /* \n                 * check if the previous operator has priority over the current operator or if\n                 * the previous operator has the same priority as the current operator (if they\n                 * have the same priority,\n                 * then the previous operator should be applied before the current operator)\n                 * and pop the elements from the stack until the current operator takes the\n                 * priority\n                */\n                while (!ops.empty() &amp;&amp; getPrecedence(ops.peek()) &gt;= getPrecedence(characters[i])) {\n                    output.add(Character.toString(ops.pop()));\n                }\n                ops.push(characters[i]);\n            }\n        }\n\n        // push the rest of the operators from the stack to the output queue\n        while (!ops.empty()) {\n            output.add(Character.toString(ops.pop()));\n        }\n\n        System.out.println(output);\n\n        return postfixEval(output);\n    }\n\n    // evaluating the postfix expression\n    public static double postfixEval(List&lt;String&gt; postfix) {\n\n        Stack&lt;String&gt; stack = new Stack&lt;String&gt;();\n\n        for (String element : postfix) {\n            // if the element is an operator and the stack has more than two elements, apply\n            // the operator to the two last numbers from the stack\n            if (stack.size() &gt;= 2\n                    &amp;&amp; (element.equals(&quot;+&quot;) || element.equals(&quot;-&quot;) || element.equals(&quot;*&quot;) || element.equals(&quot;/&quot;))) {\n                stack.push(Double.toString(\n                        evalSimpleExpr(element, Double.parseDouble(stack.pop()), Double.parseDouble(stack.pop()))));\n            } else {\n                stack.push(element);\n            }\n        }\n\n        System.out.println(stack);\n        return Double.parseDouble(stack.pop());\n    }\n\n    // test\n    public static void main(String[] args) {\n        calculate(&quot;15+2*-12-(0.5+0.8*(8-1))/-0.1+0.5+0.5&quot;);\n        calculate(&quot;12* 123/-(-5 + 2)&quot;);\n    }\n\n}\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","swagger","swagger-ui","springfox"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":2,"creation_date":1679842438,"post_id":75848260,"comment_id":133789292,"body_markdown":"springfox is dead([2020](https://github.com/springfox/springfox)) &#128575;... Long live [springdoc](https://springdoc.org/)!&#129310;&#129310;","body":"springfox is dead(<a href=\"https://github.com/springfox/springfox\" rel=\"nofollow noreferrer\">2020</a>) üòø... Long live <a href=\"https://springdoc.org/\" rel=\"nofollow noreferrer\">springdoc</a>!ü§ûü§û"}],"answers":[{"tags":[],"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679906682,"creation_date":1679901931,"answer_id":75853083,"question_id":75848260,"body_markdown":"With `SpringBoot3` its recommended to use &lt;b&gt;org.springdoc&lt;/b&gt;. As suggested in comments \r\n\r\nAdd below dependency in your pom.xml, Update project do &lt;b&gt;mvn clean install&lt;/b&gt; &amp; if using spring-security whiltelist swagger-endpoint to not use authentication, Refer [this][1] answer for the same. \r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.0.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\n  [1]: https://stackoverflow.com/a/75752381/16769477","title":"Spring Boot + Swagger 2 not working (404)","body":"<p>With <code>SpringBoot3</code> its recommended to use <b>org.springdoc</b>. As suggested in comments</p>\n<p>Add below dependency in your pom.xml, Update project do <b>mvn clean install</b> &amp; if using spring-security whiltelist swagger-endpoint to not use authentication, Refer <a href=\"https://stackoverflow.com/a/75752381/16769477\">this</a> answer for the same.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n    &lt;version&gt;2.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n"}],"owner":{"account_id":2481267,"reputation":709,"user_id":2160696,"accept_rate":69,"display_name":"user2160696"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":495,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679917089,"creation_date":1679839596,"question_id":75848260,"body_markdown":"I`m  trying to add some API documentation to my web project (swagger-ui). However it gives me 404 on \r\nhttp://localhost:8080/swagger-ui/index.html \r\nand \r\nhttp://localhost:8080/swagger-ui.html\r\n\r\nHere is my Maven config:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;ru.racoonsoft&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mm-gate&lt;/artifactId&gt;\r\n    &lt;name&gt;MMGate&lt;/name&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;19&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.4&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;racoonsoft-repository&lt;/id&gt;\r\n            &lt;url&gt;http://racoonsoft.ru:8081/artifactory/racoonsoft/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;!-- Starter --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Retrofit --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.squareup.retrofit2&lt;/groupId&gt;\r\n            &lt;artifactId&gt;retrofit&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.squareup.retrofit2/adapter-rxjava3 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.squareup.retrofit2&lt;/groupId&gt;\r\n            &lt;artifactId&gt;adapter-rxjava3&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/io.reactivex.rxjava3/rxjava --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.reactivex.rxjava3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rxjava&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.squareup.retrofit2/adapter-rxjava2 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.squareup.retrofit2&lt;/groupId&gt;\r\n            &lt;artifactId&gt;adapter-rxjava3&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.squareup.retrofit2&lt;/groupId&gt;\r\n            &lt;artifactId&gt;converter-gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.squareup.okhttp3/logging-interceptor --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logging-interceptor&lt;/artifactId&gt;\r\n            &lt;version&gt;4.10.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n        &lt;!-- Utils --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ru.racoonsoft&lt;/groupId&gt;\r\n            &lt;artifactId&gt;racoon-utils&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Database --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.2.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n            &lt;version&gt;4.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ru.racoonsoft&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jdbc-template&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;spring-boot-crud&lt;/finalName&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;false&lt;/filtering&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;classifier&gt;exec&lt;/classifier&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nSwagger settings:\r\n```java\r\n@Configuration\r\npublic class SwaggerSettings {\r\n\r\n    @Bean\r\n    public Docket configApi() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n                .select()\r\n                .apis(RequestHandlerSelectors.any())\r\n                .paths(PathSelectors.any())\r\n                .build();\r\n    }\r\n}\r\n```\r\nOther configurations:\r\n```java\r\n@Configuration\r\npublic class WebConfiguration extends WebMvcConfigurationSupport {\r\n\r\n    @Autowired\r\n    protected AuthService authService;\r\n    @Autowired\r\n    protected AdminInterceptor adminInterceptor;\r\n\r\n    @Override\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        registry.addResourceHandler(&quot;/**&quot;)\r\n                .addResourceLocations(&quot;classpath:/assets&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void addInterceptors(InterceptorRegistry registry) {\r\n        registry.addInterceptor(new GateAuthInterceptor(authService)).addPathPatterns(&quot;/gate/**&quot;);\r\n        registry.addInterceptor(adminInterceptor).addPathPatterns(&quot;/admin/**&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI use OpenJDK 19 (Oracle).\r\n\r\nAny idea what the problem is?","title":"Spring Boot + Swagger 2 not working (404)","body":"<p>I`m  trying to add some API documentation to my web project (swagger-ui). However it gives me 404 on\nhttp://localhost:8080/swagger-ui/index.html\nand\nhttp://localhost:8080/swagger-ui.html</p>\n<p>Here is my Maven config:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;ru.racoonsoft&lt;/groupId&gt;\n    &lt;artifactId&gt;mm-gate&lt;/artifactId&gt;\n    &lt;name&gt;MMGate&lt;/name&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n    &lt;/parent&gt;\n\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;racoonsoft-repository&lt;/id&gt;\n            &lt;url&gt;http://racoonsoft.ru:8081/artifactory/racoonsoft/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- Starter --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Retrofit --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.retrofit2&lt;/groupId&gt;\n            &lt;artifactId&gt;retrofit&lt;/artifactId&gt;\n            &lt;version&gt;2.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.squareup.retrofit2/adapter-rxjava3 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.retrofit2&lt;/groupId&gt;\n            &lt;artifactId&gt;adapter-rxjava3&lt;/artifactId&gt;\n            &lt;version&gt;2.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.reactivex.rxjava3/rxjava --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.reactivex.rxjava3&lt;/groupId&gt;\n            &lt;artifactId&gt;rxjava&lt;/artifactId&gt;\n            &lt;version&gt;3.1.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.squareup.retrofit2/adapter-rxjava2 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.retrofit2&lt;/groupId&gt;\n            &lt;artifactId&gt;adapter-rxjava3&lt;/artifactId&gt;\n            &lt;version&gt;2.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.retrofit2&lt;/groupId&gt;\n            &lt;artifactId&gt;converter-gson&lt;/artifactId&gt;\n            &lt;version&gt;2.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.squareup.okhttp3/logging-interceptor --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n            &lt;artifactId&gt;logging-interceptor&lt;/artifactId&gt;\n            &lt;version&gt;4.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;!-- Utils --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ru.racoonsoft&lt;/groupId&gt;\n            &lt;artifactId&gt;racoon-utils&lt;/artifactId&gt;\n            &lt;version&gt;5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Database --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.2.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n            &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\n            &lt;version&gt;5.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n            &lt;version&gt;4.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ru.racoonsoft&lt;/groupId&gt;\n            &lt;artifactId&gt;jdbc-template&lt;/artifactId&gt;\n            &lt;version&gt;3.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;finalName&gt;spring-boot-crud&lt;/finalName&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;false&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;classifier&gt;exec&lt;/classifier&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Swagger settings:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class SwaggerSettings {\n\n    @Bean\n    public Docket configApi() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.any())\n                .paths(PathSelectors.any())\n                .build();\n    }\n}\n</code></pre>\n<p>Other configurations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebConfiguration extends WebMvcConfigurationSupport {\n\n    @Autowired\n    protected AuthService authService;\n    @Autowired\n    protected AdminInterceptor adminInterceptor;\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/**&quot;)\n                .addResourceLocations(&quot;classpath:/assets&quot;);\n    }\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(new GateAuthInterceptor(authService)).addPathPatterns(&quot;/gate/**&quot;);\n        registry.addInterceptor(adminInterceptor).addPathPatterns(&quot;/admin/**&quot;);\n    }\n}\n\n</code></pre>\n<p>I use OpenJDK 19 (Oracle).</p>\n<p>Any idea what the problem is?</p>\n"},{"tags":["java","liferay"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1495617098,"post_id":44153872,"comment_id":75324562,"body_markdown":"It&#39;s very unclear what you&#39;re actually trying to do. Are you trying to get the *current* date/time in a particular time zone? It sounds like you need to read https://codeblog.jonskeet.uk/2017/04/23/all-about-java-util-date/ - a `java.util.Date` doesn&#39;t *have* a time zone (or format).","body":"It&#39;s very unclear what you&#39;re actually trying to do. Are you trying to get the <i>current</i> date/time in a particular time zone? It sounds like you need to read <a href=\"https://codeblog.jonskeet.uk/2017/04/23/all-about-java-util-date/\" rel=\"nofollow noreferrer\">codeblog.jonskeet.uk/2017/04/23/all-about-java-util-date</a> - a <code>java.util.Date</code> doesn&#39;t <i>have</i> a time zone (or format)."},{"owner":{"account_id":4106439,"reputation":816,"user_id":3454205,"accept_rate":62,"display_name":"Akash"},"score":0,"creation_date":1495706949,"post_id":44153872,"comment_id":75369896,"body_markdown":"@JonSkeet , I am converting GMT time into different US timeZones. The same time is in sync with [CST](https://time.is/CST) &amp; [PST](https://time.is/PST) but giving different time for [EST](https://time.is/EST) &amp; [MST](https://time.is/MST)","body":"@JonSkeet , I am converting GMT time into different US timeZones. The same time is in sync with <a href=\"https://time.is/CST\" rel=\"nofollow noreferrer\">CST</a> &amp; <a href=\"https://time.is/PST\" rel=\"nofollow noreferrer\">PST</a> but giving different time for <a href=\"https://time.is/EST\" rel=\"nofollow noreferrer\">EST</a> &amp; <a href=\"https://time.is/MST\" rel=\"nofollow noreferrer\">MST</a>"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1495708292,"post_id":44153872,"comment_id":75370672,"body_markdown":"If you were &quot;converting&quot; that would require input in GMT. You don&#39;t have any such input. Furthermore, your method returns a `Date` - and a `Date` doesn&#39;t have a time zone. Please read the blog post I referred to.","body":"If you were &quot;converting&quot; that would require input in GMT. You don&#39;t have any such input. Furthermore, your method returns a <code>Date</code> - and a <code>Date</code> doesn&#39;t have a time zone. Please read the blog post I referred to."}],"answers":[{"comments":[{"owner":{"account_id":4106439,"reputation":816,"user_id":3454205,"accept_rate":62,"display_name":"Akash"},"score":0,"creation_date":1495706728,"post_id":44154949,"comment_id":75369752,"body_markdown":"Getting `Prohibited package name: java.time.format`","body":"Getting <code>Prohibited package name: java.time.format</code>"},{"owner":{"account_id":6280390,"reputation":3711,"user_id":4881608,"display_name":"Pallavi Sonal"},"score":0,"creation_date":1495707760,"post_id":44154949,"comment_id":75370364,"body_markdown":"Are you on JDK8 ? java.time package was introduced in JDK8","body":"Are you on JDK8 ? java.time package was introduced in JDK8"},{"owner":{"account_id":4106439,"reputation":816,"user_id":3454205,"accept_rate":62,"display_name":"Akash"},"score":0,"creation_date":1495708171,"post_id":44154949,"comment_id":75370591,"body_markdown":"I am using JDK7","body":"I am using JDK7"},{"owner":{"account_id":6280390,"reputation":3711,"user_id":4881608,"display_name":"Pallavi Sonal"},"score":0,"creation_date":1495708532,"post_id":44154949,"comment_id":75370824,"body_markdown":"Most of the java.time functionality is backported to JDK 7 with http://www.threeten.org/threetenbp/ , its worth utilizing this rather than using cumbersome legacy Date functionalities.","body":"Most of the java.time functionality is backported to JDK 7 with <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">threeten.org/threetenbp</a> , its worth utilizing this rather than using cumbersome legacy Date functionalities."}],"tags":[],"owner":{"account_id":6280390,"reputation":3711,"user_id":4881608,"display_name":"Pallavi Sonal"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495619663,"creation_date":1495619663,"answer_id":44154949,"question_id":44153872,"body_markdown":"This can be done in a much simpler way using java.time APIs. Use Instant to represent the time in UTC. It can be converted to time at any zone, and formatted to a particular pattern.\r\n    \r\n    DateTimeFormatter format = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\tInstant now = Instant.now();\r\n\tZonedDateTime dt = now.atZone(ZoneId.of(&quot;UTC-05:00&quot;));\r\n\tSystem.out.println(dt.format(format)); //2017-05-24 04:51:03\r\n\tZonedDateTime pstDate = now.atZone(ZoneId.of(&quot;UTC-07:00&quot;));\r\n\tSystem.out.println(pstDate.format(format)); //2017-05-24 02:51:03","title":"converting time from BST to American timeZones CST MST EST PST","body":"<p>This can be done in a much simpler way using java.time APIs. Use Instant to represent the time in UTC. It can be converted to time at any zone, and formatted to a particular pattern.</p>\n\n<pre><code>DateTimeFormatter format = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss\");\nInstant now = Instant.now();\nZonedDateTime dt = now.atZone(ZoneId.of(\"UTC-05:00\"));\nSystem.out.println(dt.format(format)); //2017-05-24 04:51:03\nZonedDateTime pstDate = now.atZone(ZoneId.of(\"UTC-07:00\"));\nSystem.out.println(pstDate.format(format)); //2017-05-24 02:51:03\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1679890085,"post_id":44180261,"comment_id":133795828,"body_markdown":"Actually, [real time zone names](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones) are in a format of `Continent/Region` such as `America/Chicago`.","body":"Actually, <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">real time zone names</a> are in a format of <code>Continent&#47;Region</code> such as <code>America&#47;Chicago</code>."}],"tags":[],"owner":{"account_id":4106439,"reputation":816,"user_id":3454205,"accept_rate":62,"display_name":"Akash"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1495714224,"creation_date":1495714224,"answer_id":44180261,"question_id":44153872,"body_markdown":"After so much of digging i have found that TimeZone won&#39;t give correct result on basis of time-zone \r\n&gt; (EST, CST, MST, PST)\r\n\r\nso in my method the param which i have passed as timeZone was coming as a\r\n &gt; (EST, CST, MST, PST)\r\n\r\nInstead of `EST, CST, MST, PST` i have passed `US/Eastern` `US/Pacific` `US/Mountain` `US/Central`, and it worked fine for me","title":"converting time from BST to American timeZones CST MST EST PST","body":"<p>After so much of digging i have found that TimeZone won't give correct result on basis of time-zone </p>\n\n<blockquote>\n  <p>(EST, CST, MST, PST)</p>\n</blockquote>\n\n<p>so in my method the param which i have passed as timeZone was coming as a</p>\n\n<blockquote>\n  <p>(EST, CST, MST, PST)</p>\n</blockquote>\n\n<p>Instead of <code>EST, CST, MST, PST</code> i have passed <code>US/Eastern</code> <code>US/Pacific</code> <code>US/Mountain</code> <code>US/Central</code>, and it worked fine for me</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679894587,"creation_date":1679891058,"answer_id":75852125,"question_id":44153872,"body_markdown":"# *java.time*\r\n\r\nUse modern *java.time* classes, not the terribly flawed legacy classes.\r\n\r\n&gt;new Date()));\r\n\r\nNo, capture the current moment using `Instant` class. This class represents a moment as seen with an offset of zero hours-minutes-seconds from UTC.\r\n\r\n    Instant instant = Instant.now() ;\r\n\r\n&gt; from GMT \r\n\r\nIn the realm of most business apps, GMT is equivalent to UTC. \r\n\r\nFor science and engineering, there is a difference. Irrelevant to most of us.\r\n\r\n&gt;to different USA time-zones\r\n\r\nThere are many time zones across the US and its territories. \r\n\r\nReal time zones have a name in format of `Continent/Region` such as `America/Chicago`, `America/Juneau`, `America/Kentucky/Louisville`, `America/Los_Angeles`, `Pacific/Guam`.\r\n\r\nSo you will need to be more specific.\r\n\r\n    List &lt; ZoneId &gt; zoneIds =\r\n        List.of(\r\n            ZoneId.of( &quot;America/Juneau&quot; ) ,\r\n            ZoneId.of( &quot;America/Los_Angeles&quot; ) ,\r\n            ZoneId.of( &quot;America/Chicago&quot; ) ,\r\n            ZoneId.of( &quot;America/New_York&quot; ) \r\n        )\r\n    ;\r\n    for ( ZoneId zoneId : zoneIds ) \r\n    {\r\n        ZonedDateTime zdt = instant.atZone( zoneId ) ;\r\n        String output = zdt.toString() ;  // Standard ISO 8601 format, wisely extended by appending the name of the time zone in square brackets.\r\n        System.out.println( output ) ;\r\n    }\r\n\r\nSee this code [run at Ideone.com][1].\r\n\r\n```none\r\n2023-03-27T04:23:55.441822Z\r\n2023-03-26T20:23:55.441822-08:00[America/Juneau]\r\n2023-03-26T21:23:55.441822-07:00[America/Los_Angeles]\r\n2023-03-26T23:23:55.441822-05:00[America/Chicago]\r\n2023-03-27T00:23:55.441822-04:00[America/New_York]\r\n```\r\n\r\nYou commented:\r\n\r\n&gt;CST &amp; PST but giving different time for EST &amp; MST \r\n\r\nSuch 2-4 character pseudo-zones are not real time zone names. They are not standardized. They are not unique. Use real time zone names as seen above.\r\n\r\n\r\n\r\n  [1]: https://ideone.com/ItNg11","title":"converting time from BST to American timeZones CST MST EST PST","body":"<h1><em>java.time</em></h1>\n<p>Use modern <em>java.time</em> classes, not the terribly flawed legacy classes.</p>\n<blockquote>\n<p>new Date()));</p>\n</blockquote>\n<p>No, capture the current moment using <code>Instant</code> class. This class represents a moment as seen with an offset of zero hours-minutes-seconds from UTC.</p>\n<pre><code>Instant instant = Instant.now() ;\n</code></pre>\n<blockquote>\n<p>from GMT</p>\n</blockquote>\n<p>In the realm of most business apps, GMT is equivalent to UTC.</p>\n<p>For science and engineering, there is a difference. Irrelevant to most of us.</p>\n<blockquote>\n<p>to different USA time-zones</p>\n</blockquote>\n<p>There are many time zones across the US and its territories.</p>\n<p>Real time zones have a name in format of <code>Continent/Region</code> such as <code>America/Chicago</code>, <code>America/Juneau</code>, <code>America/Kentucky/Louisville</code>, <code>America/Los_Angeles</code>, <code>Pacific/Guam</code>.</p>\n<p>So you will need to be more specific.</p>\n<pre><code>List &lt; ZoneId &gt; zoneIds =\n    List.of(\n        ZoneId.of( &quot;America/Juneau&quot; ) ,\n        ZoneId.of( &quot;America/Los_Angeles&quot; ) ,\n        ZoneId.of( &quot;America/Chicago&quot; ) ,\n        ZoneId.of( &quot;America/New_York&quot; ) \n    )\n;\nfor ( ZoneId zoneId : zoneIds ) \n{\n    ZonedDateTime zdt = instant.atZone( zoneId ) ;\n    String output = zdt.toString() ;  // Standard ISO 8601 format, wisely extended by appending the name of the time zone in square brackets.\n    System.out.println( output ) ;\n}\n</code></pre>\n<p>See this code <a href=\"https://ideone.com/ItNg11\" rel=\"nofollow noreferrer\">run at Ideone.com</a>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-03-27T04:23:55.441822Z\n2023-03-26T20:23:55.441822-08:00[America/Juneau]\n2023-03-26T21:23:55.441822-07:00[America/Los_Angeles]\n2023-03-26T23:23:55.441822-05:00[America/Chicago]\n2023-03-27T00:23:55.441822-04:00[America/New_York]\n</code></pre>\n<p>You commented:</p>\n<blockquote>\n<p>CST &amp; PST but giving different time for EST &amp; MST</p>\n</blockquote>\n<p>Such 2-4 character pseudo-zones are not real time zone names. They are not standardized. They are not unique. Use real time zone names as seen above.</p>\n"}],"owner":{"account_id":4106439,"reputation":816,"user_id":3454205,"accept_rate":62,"display_name":"Akash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44180261,"answer_count":3,"score":1,"last_activity_date":1679916862,"creation_date":1495616916,"question_id":44153872,"body_markdown":"I am converting time from GMT to different USA time-zones. For that, I have written a method which is returning the 1-hour prior time. if the time is 2:00 clock it&#39;s returning 1:00 clock\r\n\r\n    private static Date timeFormat(String timeZone) throws ParseException {\r\n        SimpleDateFormat sdfDate = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        DateFormat gmtFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        gmtFormat.setTimeZone(TimeZone.getTimeZone(TimeZone.getDefault().getID()));\r\n        Date date = null;\r\n        try {\r\n            date = gmtFormat.parse(sdfDate.format(new Date()));\r\n            LOG.info(&quot;GMT format time and date ==&gt;&gt; &quot;+date);\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n        DateFormat pstFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        pstFormat.setTimeZone(TimeZone.getTimeZone(timeZone));\r\n        String timedd = pstFormat.format(date);\r\n        LOG.info(&quot;Return the new time based on timezone : &quot;+pstFormat.format(date));\r\n        return gmtFormat.parse(timedd);\r\n    }\r\n\r\nCan anybody help me out what exactly is the issue, because a few months back the same method was working fine? Is it happening because of daylight saving time?\r\n","title":"converting time from BST to American timeZones CST MST EST PST","body":"<p>I am converting time from GMT to different USA time-zones. For that, I have written a method which is returning the 1-hour prior time. if the time is 2:00 clock it's returning 1:00 clock</p>\n\n<pre><code>private static Date timeFormat(String timeZone) throws ParseException {\n    SimpleDateFormat sdfDate = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n    DateFormat gmtFormat = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n    gmtFormat.setTimeZone(TimeZone.getTimeZone(TimeZone.getDefault().getID()));\n    Date date = null;\n    try {\n        date = gmtFormat.parse(sdfDate.format(new Date()));\n        LOG.info(\"GMT format time and date ==&gt;&gt; \"+date);\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n    DateFormat pstFormat = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n    pstFormat.setTimeZone(TimeZone.getTimeZone(timeZone));\n    String timedd = pstFormat.format(date);\n    LOG.info(\"Return the new time based on timezone : \"+pstFormat.format(date));\n    return gmtFormat.parse(timedd);\n}\n</code></pre>\n\n<p>Can anybody help me out what exactly is the issue, because a few months back the same method was working fine? Is it happening because of daylight saving time?</p>\n"},{"tags":["java","log4j2","archunit"],"answers":[{"comments":[{"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"score":1,"creation_date":1679916874,"post_id":75855177,"comment_id":133800958,"body_markdown":"AFAIK, ArchUnit (as of the current version 1.0.1) does not offer an API about the actual method call arguments, so I fear that this cannot be solved right now.","body":"AFAIK, ArchUnit (as of the current version 1.0.1) does not offer an API about the actual method call arguments, so I fear that this cannot be solved right now."},{"owner":{"account_id":148117,"reputation":3294,"user_id":359666,"accept_rate":74,"display_name":"Uros K"},"score":0,"creation_date":1679920035,"post_id":75855177,"comment_id":133801767,"body_markdown":"I see. I&#39;ll try to dig into the API a bit more to see if that is possible.","body":"I see. I&#39;ll try to dig into the API a bit more to see if that is possible."}],"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679916318,"creation_date":1679916318,"answer_id":75855177,"question_id":75854889,"body_markdown":"You&#39;re testing the types of the parameters, not the type of the arguments.\r\n\r\n[`Logger.error(String, Throwable)`](https://www.slf4j.org/api/org/slf4j/Logger.html#error-java.lang.String-java.lang.Throwable-) exists as a method, but for more args than that, you&#39;re using plain Objects.\r\n\r\ne.g. [`Logger.error(String, Object, Object)`](https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/Logger.html#error-java.lang.String-java.lang.Object-java.lang.Object-). Beyond 10 parameters, there&#39;s a varargs [`Logger.error(String, Object...)`](https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/Logger.html#error-java.lang.String-java.lang.Object...-) too.\r\n\r\nThe use of `rawParameterTypes` is wrong, but I&#39;m not familiar enough with ArchUnit&#39;s API to say what to replace it with.","title":"How to detect that one of the parameters in log.error is Throwable","body":"<p>You're testing the types of the parameters, not the type of the arguments.</p>\n<p><a href=\"https://www.slf4j.org/api/org/slf4j/Logger.html#error-java.lang.String-java.lang.Throwable-\" rel=\"nofollow noreferrer\"><code>Logger.error(String, Throwable)</code></a> exists as a method, but for more args than that, you're using plain Objects.</p>\n<p>e.g. <a href=\"https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/Logger.html#error-java.lang.String-java.lang.Object-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>Logger.error(String, Object, Object)</code></a>. Beyond 10 parameters, there's a varargs <a href=\"https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/Logger.html#error-java.lang.String-java.lang.Object...-\" rel=\"nofollow noreferrer\"><code>Logger.error(String, Object...)</code></a> too.</p>\n<p>The use of <code>rawParameterTypes</code> is wrong, but I'm not familiar enough with ArchUnit's API to say what to replace it with.</p>\n"}],"owner":{"account_id":148117,"reputation":3294,"user_id":359666,"accept_rate":74,"display_name":"Uros K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75855177,"answer_count":1,"score":1,"last_activity_date":1679916318,"creation_date":1679914374,"question_id":75854889,"body_markdown":"I am using log4j2 and logging the error as such:\r\n\r\n```java\r\nString param1 = &quot;param1&quot;;\r\ntry {\r\n  ...\r\n} catch (Exception e) {\r\n  log.error(&quot;This is an error: {}&quot;, param1, e);\r\n}\r\n```\r\nThis is my ArchUnit test, which tests that all the log.error calls contain throwable parameter:\r\n\r\n```java\r\nvoid errors_should_be_logged_with_context() {\r\n    ArchRule rule =\r\n        noClasses()\r\n            .should(\r\n                callMethodWhere(\r\n                        target(name(&quot;error&quot;))\r\n                            .and(target(owner(assignableTo(Logger.class))))\r\n                            .and(\r\n                                target(\r\n                                    rawParameterTypes(\r\n                                        new DescribedPredicate&lt;&gt;(\r\n                                            &quot;logger.error without exception context&quot;) {\r\n                                          @Override\r\n                                          public boolean test(List&lt;JavaClass&gt; methodParameters) {\r\n                                            boolean hasNoContext = methodParameters.size() &lt;= 1;\r\n                                            boolean hasNoExceptionInContext =\r\n                                                methodParameters.stream()\r\n                                                    .noneMatch(\r\n                                                        j -&gt; j.isAssignableTo(Throwable.class));\r\n                                            return hasNoContext || hasNoExceptionInContext;\r\n                                          }\r\n                                        }))))\r\n                    .as(&quot;use logger.error without context&quot;));\r\n    rule.check(ALL_CLASSES);\r\n  }\r\n```\r\nThe problem is that `j.isAssignableTo(Throwable.class))` is returning false for the parameter at index 2.\r\n\r\nTest works as expected if there are only 2 parameters in log.error call (string, throwable).\r\n\r\nHow should the test be modified to cover both scenarios?","title":"How to detect that one of the parameters in log.error is Throwable","body":"<p>I am using log4j2 and logging the error as such:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String param1 = &quot;param1&quot;;\ntry {\n  ...\n} catch (Exception e) {\n  log.error(&quot;This is an error: {}&quot;, param1, e);\n}\n</code></pre>\n<p>This is my ArchUnit test, which tests that all the log.error calls contain throwable parameter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void errors_should_be_logged_with_context() {\n    ArchRule rule =\n        noClasses()\n            .should(\n                callMethodWhere(\n                        target(name(&quot;error&quot;))\n                            .and(target(owner(assignableTo(Logger.class))))\n                            .and(\n                                target(\n                                    rawParameterTypes(\n                                        new DescribedPredicate&lt;&gt;(\n                                            &quot;logger.error without exception context&quot;) {\n                                          @Override\n                                          public boolean test(List&lt;JavaClass&gt; methodParameters) {\n                                            boolean hasNoContext = methodParameters.size() &lt;= 1;\n                                            boolean hasNoExceptionInContext =\n                                                methodParameters.stream()\n                                                    .noneMatch(\n                                                        j -&gt; j.isAssignableTo(Throwable.class));\n                                            return hasNoContext || hasNoExceptionInContext;\n                                          }\n                                        }))))\n                    .as(&quot;use logger.error without context&quot;));\n    rule.check(ALL_CLASSES);\n  }\n</code></pre>\n<p>The problem is that <code>j.isAssignableTo(Throwable.class))</code> is returning false for the parameter at index 2.</p>\n<p>Test works as expected if there are only 2 parameters in log.error call (string, throwable).</p>\n<p>How should the test be modified to cover both scenarios?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":80364,"reputation":90939,"user_id":227299,"accept_rate":72,"display_name":"Ruan Mendes"},"score":1,"creation_date":1679916083,"post_id":75855117,"comment_id":133800768,"body_markdown":"`this.catSpaceNumber = int catSpaceNo;` should be `this.catSpaceNumber = catSpaceNo;`","body":"<code>this.catSpaceNumber = int catSpaceNo;</code> should be <code>this.catSpaceNumber = catSpaceNo;</code>"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1679916084,"post_id":75855117,"comment_id":133800769,"body_markdown":"`this.name = _name;` as an aside, your `Pet` class doesn&#39;t have a `name` member.","body":"<code>this.name = _name;</code> as an aside, your <code>Pet</code> class doesn&#39;t have a <code>name</code> member."},{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1679916433,"post_id":75855117,"comment_id":133800859,"body_markdown":"In general I would recommend that when beginning to learn java to start small. Create a single small class with 1 or 2 attributes, then run and test that code and if it works keep adding more and more stuff. And work your way up like that, always adding and testing small parts of your code. Simply writing a few classes worth of code without testing and then only trying to compile it all at the end is a recipe for disaster for beginners as your errors will keep piling up.","body":"In general I would recommend that when beginning to learn java to start small. Create a single small class with 1 or 2 attributes, then run and test that code and if it works keep adding more and more stuff. And work your way up like that, always adding and testing small parts of your code. Simply writing a few classes worth of code without testing and then only trying to compile it all at the end is a recipe for disaster for beginners as your errors will keep piling up."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679916917,"post_id":75855117,"comment_id":133800973,"body_markdown":"As @OHGODSPIDERS says, start with much smaller, simpler tasks until you have a basic level of comfort with the language.","body":"As @OHGODSPIDERS says, start with much smaller, simpler tasks until you have a basic level of comfort with the language."},{"owner":{"account_id":27908723,"reputation":1,"user_id":21311360,"display_name":"Eddard Greybeard"},"score":0,"creation_date":1679930210,"post_id":75855117,"comment_id":133805020,"body_markdown":"petName wouldn&#39;t be the name member?","body":"petName wouldn&#39;t be the name member?"}],"owner":{"account_id":27908723,"reputation":1,"user_id":21311360,"display_name":"Eddard Greybeard"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679916138,"answer_count":0,"score":0,"last_activity_date":1679916188,"creation_date":1679915930,"question_id":75855117,"body_markdown":"Learning Java, so my code is probably a mess.\r\n\r\nPretty sure I&#39;m declaring the latter variables wrong, and learning to declare them properly will un-knot this mess.\r\n\r\nIt shows up whenever I get into the methods after the class declarations, and I start to define the &quot;get/set&quot; methods\r\n\r\nIt&#39;s a lab for a pet stay check-in/out system.  We have the pet superclass, and the cat/dog classes.  There&#39;s variables for the name, weight, grooming, space number, and so on for dogs whereas the cat just has the space number.  For the dog, the days stay is taken into consideration because if they&#39;re staying for 3 or more days, they have the option for grooming.  So, when we check in the dog, all these variables are part of the process, and the amount due is totaled:\r\n\r\n```\r\n//Pet Superclass\r\n\r\npublic class Pet {\r\n\t\r\n\t// Instance Variables\r\n\t\r\n\tprivate String petType;\r\n\tprivate String petName;\r\n\tprivate int petAge;\r\n\tprivate int dogSpaces;\r\n\tprivate int catSpaces;\r\n\tprivate int daysStay;\r\n\tprivate int amountDue;\r\n\t\r\n\tpublic Pet(String petType, String petName, int petAge, int dogSpaces, int catSpaces, int daysStay, double amountDue) {\r\n\t\tthis.petType = String type;\r\n\t\tthis.petName = String name;\r\n\t\tthis.petAge = int age;\r\n\t\tthis.dogSpaces = int _dogSpaces;\r\n\t\tthis.catSpaces = int _catSpaces;\r\n\t\tthis.daysStay = int _daysStay;\r\n\t\tthis.amountDue = double amtDue;\r\n\t}\r\n\t\t\t\r\n\t// get/set PetType\r\n\tpublic String getPetType() {return type;}\r\n\tpublic void setPetType(String _type) {\r\n\t\tthis.type = _type;\r\n\t}\r\n\t\r\n\t// get/set PetName\r\n\tpublic String getPetName() {return name;}\r\n\tpublic void setPetName(String _name) {\r\n\t\tthis.name = _name;\r\n\t}\r\n\t\r\n\t// get/set PetAge\r\n\tpublic int getPetAge() {return age;}\r\n\tpublic void setPetAge(int _age) {\r\n\t\tthis.age = _age;\r\n\t}\r\n\t\r\n\t// get/set DogSpaces\r\n\tpublic int getDogSpaces() {return _dogSpaces;}\r\n\tpublic void setDogSpaces (int dog_Spaces) {\r\n\t\tthis._dogspaces = dog_Spaces;\r\n\t}\r\n\t\r\n\t// get/set CatSpaces\r\n\tpublic int getCatSpaces() {return _catSpaces;}\r\n\tpublic void setCatSpaces(int cat_Spaces) {\r\n\t\tthis._catSpaces = cat_Spaces;\r\n\t}\r\n\t\r\n\t// get/set DaysStay\r\n\tpublic int getDaysStay() {return _daysStay;}\r\n\tpublic void setDaysStay(int days_stay) {\r\n\t\tthis._daysStay = days_stay;\r\n\t}\r\n\t\r\n\t// get/set AmountDue\r\n\tpublic double getAmountDue() {return amtDue;}\r\n\tpublic void setAmountDue(double _amtDue) {\r\n\t\tthis.amtDue = _amtDue;\r\n\t}\r\n\t\r\n// Constructor Declaration Dog Class\r\n\r\n\tclass Dog extends Pet {\r\n\t\tprivate int dogSpaceNumber;\r\n\t\tprivate double dogWeight;\r\n\t\tprivate String grooming;\r\n\t\r\n\t\tpublic Dog(int dogSpaceNumber, double dogWeight, String grooming) {\r\n\t\t\tthis.dogSpaceNumber = int dogSpaceNo;\r\n\t\t\tthis.dogWeight = double _dogWeight;\r\n\t\t\tthis.grooming = String _grooming;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t// get/set DogSpaceNumber\r\n\t\tpublic int getDogSpaceNumber() {return dogSpaceNo;}\r\n\t\tpublic void setDogSpaceNumber(int _dogSpaceNo) {\r\n\t\t\tthis.dogSpaceNo = _dogSpaceNo;\r\n\t\t}\r\n\t\t\r\n\t\t// get/set DogWeight\r\n\t\tpublic int getDogWeight() {return _dogWeight;}\r\n\t\tpublic void setDogWeight(double dog_Weight) {\r\n\t\t\tthis._dogWeight = dog_Weight;\r\n\t\t}\r\n\t\t\r\n\t\t// get/set Grooming\r\n\t\tpublic string getGrooming() {return _grooming;}\r\n\t\tpublic void setGrooming(String _Grooming) {\r\n\t\t\tthis._grooming = _Grooming;\r\n\t\t}\r\n\t\t\t\r\n\t}\r\n\r\n// Constructor Declaration Cat Class\r\n\r\n\tclass Cat extends Pet {\r\n\t\tprivate int catSpaceNumber;\r\n\t\r\n\t    public Cat(int catSpaceNumber) {\r\n\t\t    this.catSpaceNumber = int catSpaceNo;\r\n\t    }\r\n\t\r\n\t\r\n\t// get/set CatSpaceNumber\r\n\t    public int getCatSpaceNumber() {return catSpaceNo;}\r\n\t    public void setCatSpaceNumber(int _catSpaceNo) {\r\n\t\t    this.catSpaceNo = _catSpaceNo;\r\n\t    }\r\n    }\r\n }\r\n```\r\n\r\nI had a few errors before, an extra curly bracket that was out of place as well as a couple more that were messing up the encapsulation that java likes, as well as some typographical errors that were screwing with variable recognition, but this seems to be the last one, and I think it&#39;s because I&#39;m not declaring them properly, but googling the problem hasn&#39;t exactly given me an &quot;a-ha&quot; realization.\r\n\r\nWhat am I missing?\r\n\r\nI am getting `error: .class expected.` whereever I am trying to assign `String`s (`this.variable = `) and a ` ; expected/not statement` error whenever assigning ints.","title":"How do I fix the &quot;.class expected&quot; error in my code here?","body":"<p>Learning Java, so my code is probably a mess.</p>\n<p>Pretty sure I'm declaring the latter variables wrong, and learning to declare them properly will un-knot this mess.</p>\n<p>It shows up whenever I get into the methods after the class declarations, and I start to define the &quot;get/set&quot; methods</p>\n<p>It's a lab for a pet stay check-in/out system.  We have the pet superclass, and the cat/dog classes.  There's variables for the name, weight, grooming, space number, and so on for dogs whereas the cat just has the space number.  For the dog, the days stay is taken into consideration because if they're staying for 3 or more days, they have the option for grooming.  So, when we check in the dog, all these variables are part of the process, and the amount due is totaled:</p>\n<pre><code>//Pet Superclass\n\npublic class Pet {\n    \n    // Instance Variables\n    \n    private String petType;\n    private String petName;\n    private int petAge;\n    private int dogSpaces;\n    private int catSpaces;\n    private int daysStay;\n    private int amountDue;\n    \n    public Pet(String petType, String petName, int petAge, int dogSpaces, int catSpaces, int daysStay, double amountDue) {\n        this.petType = String type;\n        this.petName = String name;\n        this.petAge = int age;\n        this.dogSpaces = int _dogSpaces;\n        this.catSpaces = int _catSpaces;\n        this.daysStay = int _daysStay;\n        this.amountDue = double amtDue;\n    }\n            \n    // get/set PetType\n    public String getPetType() {return type;}\n    public void setPetType(String _type) {\n        this.type = _type;\n    }\n    \n    // get/set PetName\n    public String getPetName() {return name;}\n    public void setPetName(String _name) {\n        this.name = _name;\n    }\n    \n    // get/set PetAge\n    public int getPetAge() {return age;}\n    public void setPetAge(int _age) {\n        this.age = _age;\n    }\n    \n    // get/set DogSpaces\n    public int getDogSpaces() {return _dogSpaces;}\n    public void setDogSpaces (int dog_Spaces) {\n        this._dogspaces = dog_Spaces;\n    }\n    \n    // get/set CatSpaces\n    public int getCatSpaces() {return _catSpaces;}\n    public void setCatSpaces(int cat_Spaces) {\n        this._catSpaces = cat_Spaces;\n    }\n    \n    // get/set DaysStay\n    public int getDaysStay() {return _daysStay;}\n    public void setDaysStay(int days_stay) {\n        this._daysStay = days_stay;\n    }\n    \n    // get/set AmountDue\n    public double getAmountDue() {return amtDue;}\n    public void setAmountDue(double _amtDue) {\n        this.amtDue = _amtDue;\n    }\n    \n// Constructor Declaration Dog Class\n\n    class Dog extends Pet {\n        private int dogSpaceNumber;\n        private double dogWeight;\n        private String grooming;\n    \n        public Dog(int dogSpaceNumber, double dogWeight, String grooming) {\n            this.dogSpaceNumber = int dogSpaceNo;\n            this.dogWeight = double _dogWeight;\n            this.grooming = String _grooming;\n            \n        }\n        \n        // get/set DogSpaceNumber\n        public int getDogSpaceNumber() {return dogSpaceNo;}\n        public void setDogSpaceNumber(int _dogSpaceNo) {\n            this.dogSpaceNo = _dogSpaceNo;\n        }\n        \n        // get/set DogWeight\n        public int getDogWeight() {return _dogWeight;}\n        public void setDogWeight(double dog_Weight) {\n            this._dogWeight = dog_Weight;\n        }\n        \n        // get/set Grooming\n        public string getGrooming() {return _grooming;}\n        public void setGrooming(String _Grooming) {\n            this._grooming = _Grooming;\n        }\n            \n    }\n\n// Constructor Declaration Cat Class\n\n    class Cat extends Pet {\n        private int catSpaceNumber;\n    \n        public Cat(int catSpaceNumber) {\n            this.catSpaceNumber = int catSpaceNo;\n        }\n    \n    \n    // get/set CatSpaceNumber\n        public int getCatSpaceNumber() {return catSpaceNo;}\n        public void setCatSpaceNumber(int _catSpaceNo) {\n            this.catSpaceNo = _catSpaceNo;\n        }\n    }\n }\n</code></pre>\n<p>I had a few errors before, an extra curly bracket that was out of place as well as a couple more that were messing up the encapsulation that java likes, as well as some typographical errors that were screwing with variable recognition, but this seems to be the last one, and I think it's because I'm not declaring them properly, but googling the problem hasn't exactly given me an &quot;a-ha&quot; realization.</p>\n<p>What am I missing?</p>\n<p>I am getting <code>error: .class expected.</code> whereever I am trying to assign <code>String</code>s (<code>this.variable = </code>) and a <code> ; expected/not statement</code> error whenever assigning ints.</p>\n"},{"tags":["java","visibility","project-panama"],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1693212963,"post_id":75839430,"comment_id":135725544,"body_markdown":"Note that there‚Äôs an [API Note](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/foreign/package-summary.html#:~:text=of%20this%20API.-,API%20Note,-%3A) saying ‚Äú*Usual memory model guarantees, for example stated in 6.6 and 10.4, do not apply when accessing native memory segments as these segments are backed by off-heap regions of memory.*‚Äù but considering which chapters have been linked, I have the feeling that the author of this sentence uses the term ‚Äúmemory model‚Äù wrongly, as these chapters have nothing to do with the JMM.","body":"Note that there‚Äôs an <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/foreign/package-summary.html#:~:text=of%20this%20API.-,API%20Note,-%3A\" rel=\"nofollow noreferrer\">API Note</a> saying ‚Äú<i>Usual memory model guarantees, for example stated in 6.6 and 10.4, do not apply when accessing native memory segments as these segments are backed by off-heap regions of memory.</i>‚Äù but considering which chapters have been linked, I have the feeling that the author of this sentence uses the term ‚Äúmemory model‚Äù wrongly, as these chapters have nothing to do with the JMM."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1693222661,"post_id":75839430,"comment_id":135727316,"body_markdown":"Access control? Array access? How is that relevant for the memory model? Does that sentence mean I need to add specific synchronization mechanism to off-heap memory, as &quot;Usual memory model guarantees&quot; do not apply? What are those alternatives?","body":"Access control? Array access? How is that relevant for the memory model? Does that sentence mean I need to add specific synchronization mechanism to off-heap memory, as &quot;Usual memory model guarantees&quot; do not apply? What are those alternatives?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1693225083,"post_id":75839430,"comment_id":135727802,"body_markdown":"It irritates me as well. That‚Äôs why I said, I have the feeling, the author of the sentence uses the term ‚Äúmemory model‚Äù wrongly. I think, we have to request clarification from the JDK developers.","body":"It irritates me as well. That‚Äôs why I said, I have the feeling, the author of the sentence uses the term ‚Äúmemory model‚Äù wrongly. I think, we have to request clarification from the JDK developers."}],"tags":[],"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679712950,"creation_date":1679712950,"answer_id":75839430,"question_id":75836178,"body_markdown":"If you look at the [Specification for `BlockingQueue`][jd], you can find the following paragraph:\r\n\r\n&gt; Memory consistency effects: As with other concurrent collections, actions in a thread prior to placing an object into a `BlockingQueue` [*happen-before*](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/package-summary.html#MemoryVisibility) actions subsequent to the access or removal of that element from the `BlockingQueue` in another thread. \r\n\r\nAs `BlockingQueue` establishes a happen-before relationship, no additional synchronization is needed.\r\n\r\n[jd]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/BlockingQueue.html","title":"Can BlockingQueue make MemorySegment visible for multiple threads?","body":"<p>If you look at the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/BlockingQueue.html\" rel=\"nofollow noreferrer\">Specification for <code>BlockingQueue</code></a>, you can find the following paragraph:</p>\n<blockquote>\n<p>Memory consistency effects: As with other concurrent collections, actions in a thread prior to placing an object into a <code>BlockingQueue</code> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/package-summary.html#MemoryVisibility\" rel=\"nofollow noreferrer\"><em>happen-before</em></a> actions subsequent to the access or removal of that element from the <code>BlockingQueue</code> in another thread.</p>\n</blockquote>\n<p>As <code>BlockingQueue</code> establishes a happen-before relationship, no additional synchronization is needed.</p>\n"}],"owner":{"account_id":13798877,"reputation":45,"user_id":21010464,"display_name":"benrush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1679915871,"creation_date":1679675632,"question_id":75836178,"body_markdown":"I am using JDK20&#39;s FFI, and I need to pass a Object to a BlockingQueue to shared it from one thread to another. The Object contains several MemorySegment field, which belongs to `Arena.openShared()`. Before passing, I write some bytes into the MemorySegment using `MemorySegment.set(JAVA_BYTE, ..., ...)`. I don&#39;t know if the other thread would read exactly what I write, since I am not using `VarHandle.setVolatile()` to ensure its thread visibility. But as Java Objects, there should be locks in BlockingQueue to ensure it, I wonder if it&#39;s also appliable to the `MemorySegment`, that each byte would be flushed to the memory for other threads to see them.","title":"Can BlockingQueue make MemorySegment visible for multiple threads?","body":"<p>I am using JDK20's FFI, and I need to pass a Object to a BlockingQueue to shared it from one thread to another. The Object contains several MemorySegment field, which belongs to <code>Arena.openShared()</code>. Before passing, I write some bytes into the MemorySegment using <code>MemorySegment.set(JAVA_BYTE, ..., ...)</code>. I don't know if the other thread would read exactly what I write, since I am not using <code>VarHandle.setVolatile()</code> to ensure its thread visibility. But as Java Objects, there should be locks in BlockingQueue to ensure it, I wonder if it's also appliable to the <code>MemorySegment</code>, that each byte would be flushed to the memory for other threads to see them.</p>\n"},{"tags":["java","spring","spring-boot","spring-annotations","hibernate-validator"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1679911043,"post_id":75854099,"comment_id":133799491,"body_markdown":"Although it&#39;s a workaround (dirty one tbh), when i need to add custom error codes for an error, i tend to throw exceptions in the `ConstraintValidator` and gather data from the exception in the handler. The downside is that you can get information only for one error like this, it does not work if you need to know about all errors for example.","body":"Although it&#39;s a workaround (dirty one tbh), when i need to add custom error codes for an error, i tend to throw exceptions in the <code>ConstraintValidator</code> and gather data from the exception in the handler. The downside is that you can get information only for one error like this, it does not work if you need to know about all errors for example."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1679911881,"post_id":75854099,"comment_id":133799730,"body_markdown":"There is too much code missing (like the serialize/deserialize methods) to be able to answer this. Why not just specify the error message as json with interpolation for the error code (the same as for instance the Min/Max or Range annotation do, although with regular text)? I don&#39;t see why you would need to deserialize all the stuff.","body":"There is too much code missing (like the serialize/deserialize methods) to be able to answer this. Why not just specify the error message as json with interpolation for the error code (the same as for instance the Min/Max or Range annotation do, although with regular text)? I don&#39;t see why you would need to deserialize all the stuff."},{"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"score":0,"creation_date":1679915097,"post_id":75854099,"comment_id":133800531,"body_markdown":"Hi @M.Deinum, I have updated and added the missing utility class. &quot;Why not just specify the error message as JSON&quot; =&gt; Having JSON payloads on the top of annotation is not something advisable, it&#39;ll reduce readability and increase cognitive load.\n\n&quot;I don&#39;t see why you would need to deserialize all the stuff&quot; =&gt; There seems no way of throwing the custom exception in the &quot;MethodArgumentNotValidException&quot;","body":"Hi @M.Deinum, I have updated and added the missing utility class. &quot;Why not just specify the error message as JSON&quot; =&gt; Having JSON payloads on the top of annotation is not something advisable, it&#39;ll reduce readability and increase cognitive load.  &quot;I don&#39;t see why you would need to deserialize all the stuff&quot; =&gt; There seems no way of throwing the custom exception in the &quot;MethodArgumentNotValidException&quot;"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1679918851,"post_id":75854099,"comment_id":133801459,"body_markdown":"Not sure if just adding a simple json reduces the readability. It is just a small line, wrapping your current message in curly braces and appending a field. Unless you are shoehorning a complete complex JSON in there that would be different. You shouldn&#39;t be throwing exceptions from the validator in the first place. Adding to that if you know it is going to be json you know the structure, just add that as a string, and place the `message` and `erorrcode` in that string instead of using marshalling. The method you use is for applying templates.","body":"Not sure if just adding a simple json reduces the readability. It is just a small line, wrapping your current message in curly braces and appending a field. Unless you are shoehorning a complete complex JSON in there that would be different. You shouldn&#39;t be throwing exceptions from the validator in the first place. Adding to that if you know it is going to be json you know the structure, just add that as a string, and place the <code>message</code> and <code>erorrcode</code> in that string instead of using marshalling. The method you use is for applying templates."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1679919443,"post_id":75854099,"comment_id":133801607,"body_markdown":"Finally the original `ConstraintViolation` contains all the information you need. As it contains all the attributes from the annotation with their values in the, through accessing the `ConstraintDescriptor` (which is basically the interpretation of the annotation on the field/class whatever you annotated). So you should convert the `COnstraintViolationException` yourself instead of letting Spring convert it to a `MethodARgumentNotValidException` (although I believe it transfers, some of, the information as well).","body":"Finally the original <code>ConstraintViolation</code> contains all the information you need. As it contains all the attributes from the annotation with their values in the, through accessing the <code>ConstraintDescriptor</code> (which is basically the interpretation of the annotation on the field/class whatever you annotated). So you should convert the <code>COnstraintViolationException</code> yourself instead of letting Spring convert it to a <code>MethodARgumentNotValidException</code> (although I believe it transfers, some of, the information as well)."}],"answers":[{"comments":[{"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"score":0,"creation_date":1679984089,"post_id":75855099,"comment_id":133814183,"body_markdown":"Hi Mark, \nThanks for the valuable answer, it is really what I was looking for. \n\nI&#39;ve a question:\n1. Is there any way of throwing any other exception rather than MethodArgumentNotValidException?","body":"Hi Mark,  Thanks for the valuable answer, it is really what I was looking for.   I&#39;ve a question: 1. Is there any way of throwing any other exception rather than MethodArgumentNotValidException?"},{"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"score":0,"creation_date":1679987956,"post_id":75855099,"comment_id":133814930,"body_markdown":"Hey Zahid, happy to help. Regarding your other question on exception type ... Validator itself doesn&#39;t throw any exceptions; instead, it returns a collection of `ConstraintViolation`s. This `MethodArgumentNotValidException` comes from the Spring framework. I think if you move the validation from the controller level to your service level, you will get a `ConstraintViolationException` instead. But since it&#39;s inside of a framework... you won&#39;t be able to throw your custom exception easily...","body":"Hey Zahid, happy to help. Regarding your other question on exception type ... Validator itself doesn&#39;t throw any exceptions; instead, it returns a collection of <code>ConstraintViolation</code>s. This <code>MethodArgumentNotValidException</code> comes from the Spring framework. I think if you move the validation from the controller level to your service level, you will get a <code>ConstraintViolationException</code> instead. But since it&#39;s inside of a framework... you won&#39;t be able to throw your custom exception easily..."}],"tags":[],"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679915803,"creation_date":1679915803,"answer_id":75855099,"question_id":75854099,"body_markdown":"I&#39;d suggest taking a look at the [dynamic payload as part of ConstraintViolation][1]\r\n\r\nIf you want to provide some additional context in your violation, that could be one way to do it. This payload can be added through the context of `isValid(...)` as follows:\r\n\r\n    @Override\r\n    public boolean isValid(String value, ConstraintValidatorContext context) {\r\n        // First check that the context is of correct type and no exceptions will be thrown\r\n        if (context instanceof HibernateConstraintValidatorContext ) {\r\n            // unwrap the context and add a payload. It can be as simple as just the error code. \r\n            // It can be an object, or a map if multiple values are expected to be passed over:\r\n            context.unwrap( HibernateConstraintValidatorContext.class )\r\n                    .withDynamicPayload( errorCode );\r\n        }\r\n        // perform the actual validation:\r\n        return value != null &amp;&amp; !value.trim().isEmpty();\r\n    }\r\n\r\nNow on the handling side of things, you&#39;d need to access this payload. That can be done through unwrapping the `FieldError` that you&#39;ve been already working with. Something along the lines:\r\n\r\n    @ExceptionHandler\r\n    ResponseEntity&lt;Map&lt;String, Object&gt;&gt; handleMethodArgumentException(MethodArgumentNotValidException exception) {\r\n        Map&lt;String, Object&gt; body = new LinkedHashMap&lt;&gt;(1, 1);\r\n    \r\n        final List&lt;ErrorStructure&gt; errorStructures =\r\n                exception.getBindingResult().getFieldErrors().stream()\r\n                        .map(error -&gt; {\r\n                            // Since we passed a simple Long in the validator side we pass Long to get it back here:\r\n                            Long code = error.unwrap( HibernateConstraintViolation.class ).getDynamicPayload( Long.class );\r\n                            // do other stuff ...\r\n                            // ...\r\n                        })\r\n                        .toList();\r\n        body.put(&quot;messages&quot;, errorStructures);\r\n        return ResponseEntity.status(BAD_REQUEST).contentType(APPLICATION_JSON).body(body);\r\n    }\r\n\r\nThat should eliminate the need for marshalling JSON.\r\n\r\n  [1]: https://docs.jboss.org/hibernate/validator/6.2/reference/en-US/html_single/#section-dynamic-payload","title":"How to Throw a Custom Exception on Validation Failure Using a Custom Annotation in Spring Boot 3?","body":"<p>I'd suggest taking a look at the <a href=\"https://docs.jboss.org/hibernate/validator/6.2/reference/en-US/html_single/#section-dynamic-payload\" rel=\"nofollow noreferrer\">dynamic payload as part of ConstraintViolation</a></p>\n<p>If you want to provide some additional context in your violation, that could be one way to do it. This payload can be added through the context of <code>isValid(...)</code> as follows:</p>\n<pre><code>@Override\npublic boolean isValid(String value, ConstraintValidatorContext context) {\n    // First check that the context is of correct type and no exceptions will be thrown\n    if (context instanceof HibernateConstraintValidatorContext ) {\n        // unwrap the context and add a payload. It can be as simple as just the error code. \n        // It can be an object, or a map if multiple values are expected to be passed over:\n        context.unwrap( HibernateConstraintValidatorContext.class )\n                .withDynamicPayload( errorCode );\n    }\n    // perform the actual validation:\n    return value != null &amp;&amp; !value.trim().isEmpty();\n}\n</code></pre>\n<p>Now on the handling side of things, you'd need to access this payload. That can be done through unwrapping the <code>FieldError</code> that you've been already working with. Something along the lines:</p>\n<pre><code>@ExceptionHandler\nResponseEntity&lt;Map&lt;String, Object&gt;&gt; handleMethodArgumentException(MethodArgumentNotValidException exception) {\n    Map&lt;String, Object&gt; body = new LinkedHashMap&lt;&gt;(1, 1);\n\n    final List&lt;ErrorStructure&gt; errorStructures =\n            exception.getBindingResult().getFieldErrors().stream()\n                    .map(error -&gt; {\n                        // Since we passed a simple Long in the validator side we pass Long to get it back here:\n                        Long code = error.unwrap( HibernateConstraintViolation.class ).getDynamicPayload( Long.class );\n                        // do other stuff ...\n                        // ...\n                    })\n                    .toList();\n    body.put(&quot;messages&quot;, errorStructures);\n    return ResponseEntity.status(BAD_REQUEST).contentType(APPLICATION_JSON).body(body);\n}\n</code></pre>\n<p>That should eliminate the need for marshalling JSON.</p>\n"}],"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2085,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679915803,"creation_date":1679909332,"question_id":75854099,"body_markdown":"## 1. What I‚Äôm Trying to Achieve?\r\nI wanted to have a custom annotation that supports the `errorCode` along with the `errorMessage` parameter.\r\n\r\n    @NotBlank(message = &quot;Field X can&#39;t be Blank.&quot;, errorCode = 23442)\r\n\r\nSo, I create `NotBlank` annotation with the below schema.\r\n```\r\n@Documented\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({FIELD, PARAMETER})\r\n@Constraint(validatedBy = {NotBlankAnnotationProcessor.class})\r\npublic @interface NotBlank {\r\n  String message() default &quot;{commons.validation.constraints.NotBlank.message}&quot;;\r\n\r\n  @SuppressWarnings(&quot;unused&quot;)\r\n  Class&lt;?&gt;[] groups() default {};\r\n\r\n  @SuppressWarnings(&quot;unused&quot;)\r\n  Class&lt;? extends Payload&gt;[] payload() default {};\r\n\r\n  long errorCode() default 400;\r\n}\r\n```\r\nand it has an annotation processor for validation `NotBlankAnnotationProcessor`\r\n\r\n```\r\n@Getter\r\npublic class NotBlankAnnotationProcessor implements ConstraintValidator&lt;NotBlank, String&gt; {\r\n  private String message;\r\n  private long errorCode;\r\n\r\n  @Override\r\n  public void initialize(NotBlank annotation) {\r\n    message = annotation.message();\r\n    errorCode = annotation.errorCode();\r\n  }\r\n\r\n  @Override\r\n  public boolean isValid(String value, ConstraintValidatorContext context) {\r\n    boolean isValid = !Strings.isBlank(value);\r\n\r\n    if (isValid) {\r\n      return true;\r\n    }\r\n    context.disableDefaultConstraintViolation();\r\n    var serializedJSON = getSerializedObject(getMessage(), getErrorCode()); //marshaling \r\n    context.buildConstraintViolationWithTemplate(serializedJSON).addConstraintViolation();\r\n    return false;\r\n  }\r\n}\r\n```\r\n\r\nIn the line, `var serializedJSON = getSerializedObject(getMessage(), getErrorCode());` \r\n\r\nI&#39;m marshaling the message into a JSON payload with the `message` and `errorCode` as there seems no way of throwing the custom exception with the custom body. In the `exceptionHandler` I&#39;m able to unmarshal the JSON string so that&#39;s why I&#39;m marshaling and unmarshalling.\r\n\r\n\r\n```\r\n@ExceptionHandler\r\nResponseEntity&lt;Map&lt;String, Object&gt;&gt; handleMethodArgumentException(\r\n    MethodArgumentNotValidException exception) {\r\n  Map&lt;String, Object&gt; body = new LinkedHashMap&lt;&gt;(1, 1);\r\n\r\n  final List&lt;ErrorStructure&gt; errorStructures =\r\n      exception.getBindingResult().getFieldErrors().stream()\r\n          .map(error -&gt; deserialize(error.getDefaultMessage()))\r\n          .toList();\r\n  body.put(&quot;messages&quot;, errorStructures);\r\n  return ResponseEntity.status(BAD_REQUEST).contentType(APPLICATION_JSON).body(body);\r\n}\r\n```\r\n\r\nUtility class that I&#39;m using for marshaling and unmarshalling.\r\n\r\n```\r\npublic final class AnnotationProcessorToExceptionHandlerAdapter {\r\n\r\n  private static final ObjectMapper OBJECT_MAPPER = new ObjectMapper();\r\n\r\n  //NON-INSTANTIABLE UTILITY CLASS.\r\n  private AnnotationProcessorToExceptionHandlerAdapter() {\r\n    throw new AssertionError(&quot;No instance for you!&quot;);\r\n  }\r\n\r\n  @SneakyThrows\r\n  public static String getSerializedObject(final String errorMessage, final long errorCode) {\r\n    ErrorStructure errorStructure = new ErrorStructure(errorMessage, errorCode);\r\n    return OBJECT_MAPPER.writeValueAsString(errorStructure);\r\n  }\r\n\r\n  @SneakyThrows\r\n  public static ErrorStructure deserialize(final String serializedValue) {\r\n    return OBJECT_MAPPER.readValue(serializedValue, ErrorStructure.class);\r\n  }\r\n}\r\n```\r\n\r\n## 2. What Is the Problem?\r\n\r\nWhile the solution works perfectly fine. However, I&#39;m certain on the higher TPS (transaction per second) will cause performance issues as I am doing unnecessary marshaling and unmarshalling to work around.\r\n\r\n## 3. Alternatively, How I Don‚Äôt Want to Do?\r\n\r\nI don&#39;t want to include the `BindingResults` in hundreds of function parameters in the current codebase something like the below and check errors everywhere. \r\n```\r\nvoid onSomething(@RequestBody @Validated WithdrawMoney withdrawal, BindingResult errors) {\r\n  if (errors.hasErrors()) {\r\n           throw new ValidationException(errors);\r\n  }\r\n}\r\n```\r\n\r\n\r\n## 4. Recently Read Articles.\r\n\r\nI&#39;ve read the below answers:\r\n\r\nhttps://stackoverflow.com/questions/67440383/a-custom-annotation-can-throw-a-custom-exception-rather-than-methodargumentnotv\r\n\r\nhttps://stackoverflow.com/questions/72133950/how-to-make-custom-annotation-throw-an-error-instead-of-default-message\r\n\r\nhttps://stackoverflow.com/questions/62896233/how-to-throw-custom-exception-in-proper-way-when-using-javax-validation-valid\r\n\r\nhttps://stackoverflow.com/questions/51331679/spring-boot-how-to-return-my-own-validation-constraint-error-messages\r\n\r\nhttps://stackoverflow.com/questions/75568330/custom-validation-message-in-spring-boot-with-internationalization\r\n\r\n---\r\n\r\nAny help would be really appreciated!\r\n\r\nThanks.","title":"How to Throw a Custom Exception on Validation Failure Using a Custom Annotation in Spring Boot 3?","body":"<h2>1. What I‚Äôm Trying to Achieve?</h2>\n<p>I wanted to have a custom annotation that supports the <code>errorCode</code> along with the <code>errorMessage</code> parameter.</p>\n<pre><code>@NotBlank(message = &quot;Field X can't be Blank.&quot;, errorCode = 23442)\n</code></pre>\n<p>So, I create <code>NotBlank</code> annotation with the below schema.</p>\n<pre><code>@Documented\n@Retention(RetentionPolicy.RUNTIME)\n@Target({FIELD, PARAMETER})\n@Constraint(validatedBy = {NotBlankAnnotationProcessor.class})\npublic @interface NotBlank {\n  String message() default &quot;{commons.validation.constraints.NotBlank.message}&quot;;\n\n  @SuppressWarnings(&quot;unused&quot;)\n  Class&lt;?&gt;[] groups() default {};\n\n  @SuppressWarnings(&quot;unused&quot;)\n  Class&lt;? extends Payload&gt;[] payload() default {};\n\n  long errorCode() default 400;\n}\n</code></pre>\n<p>and it has an annotation processor for validation <code>NotBlankAnnotationProcessor</code></p>\n<pre><code>@Getter\npublic class NotBlankAnnotationProcessor implements ConstraintValidator&lt;NotBlank, String&gt; {\n  private String message;\n  private long errorCode;\n\n  @Override\n  public void initialize(NotBlank annotation) {\n    message = annotation.message();\n    errorCode = annotation.errorCode();\n  }\n\n  @Override\n  public boolean isValid(String value, ConstraintValidatorContext context) {\n    boolean isValid = !Strings.isBlank(value);\n\n    if (isValid) {\n      return true;\n    }\n    context.disableDefaultConstraintViolation();\n    var serializedJSON = getSerializedObject(getMessage(), getErrorCode()); //marshaling \n    context.buildConstraintViolationWithTemplate(serializedJSON).addConstraintViolation();\n    return false;\n  }\n}\n</code></pre>\n<p>In the line, <code>var serializedJSON = getSerializedObject(getMessage(), getErrorCode());</code></p>\n<p>I'm marshaling the message into a JSON payload with the <code>message</code> and <code>errorCode</code> as there seems no way of throwing the custom exception with the custom body. In the <code>exceptionHandler</code> I'm able to unmarshal the JSON string so that's why I'm marshaling and unmarshalling.</p>\n<pre><code>@ExceptionHandler\nResponseEntity&lt;Map&lt;String, Object&gt;&gt; handleMethodArgumentException(\n    MethodArgumentNotValidException exception) {\n  Map&lt;String, Object&gt; body = new LinkedHashMap&lt;&gt;(1, 1);\n\n  final List&lt;ErrorStructure&gt; errorStructures =\n      exception.getBindingResult().getFieldErrors().stream()\n          .map(error -&gt; deserialize(error.getDefaultMessage()))\n          .toList();\n  body.put(&quot;messages&quot;, errorStructures);\n  return ResponseEntity.status(BAD_REQUEST).contentType(APPLICATION_JSON).body(body);\n}\n</code></pre>\n<p>Utility class that I'm using for marshaling and unmarshalling.</p>\n<pre><code>public final class AnnotationProcessorToExceptionHandlerAdapter {\n\n  private static final ObjectMapper OBJECT_MAPPER = new ObjectMapper();\n\n  //NON-INSTANTIABLE UTILITY CLASS.\n  private AnnotationProcessorToExceptionHandlerAdapter() {\n    throw new AssertionError(&quot;No instance for you!&quot;);\n  }\n\n  @SneakyThrows\n  public static String getSerializedObject(final String errorMessage, final long errorCode) {\n    ErrorStructure errorStructure = new ErrorStructure(errorMessage, errorCode);\n    return OBJECT_MAPPER.writeValueAsString(errorStructure);\n  }\n\n  @SneakyThrows\n  public static ErrorStructure deserialize(final String serializedValue) {\n    return OBJECT_MAPPER.readValue(serializedValue, ErrorStructure.class);\n  }\n}\n</code></pre>\n<h2>2. What Is the Problem?</h2>\n<p>While the solution works perfectly fine. However, I'm certain on the higher TPS (transaction per second) will cause performance issues as I am doing unnecessary marshaling and unmarshalling to work around.</p>\n<h2>3. Alternatively, How I Don‚Äôt Want to Do?</h2>\n<p>I don't want to include the <code>BindingResults</code> in hundreds of function parameters in the current codebase something like the below and check errors everywhere.</p>\n<pre><code>void onSomething(@RequestBody @Validated WithdrawMoney withdrawal, BindingResult errors) {\n  if (errors.hasErrors()) {\n           throw new ValidationException(errors);\n  }\n}\n</code></pre>\n<h2>4. Recently Read Articles.</h2>\n<p>I've read the below answers:</p>\n<p><a href=\"https://stackoverflow.com/questions/67440383/a-custom-annotation-can-throw-a-custom-exception-rather-than-methodargumentnotv\">A custom annotation can throw a custom exception, rather than MethodArgumentNotValidException?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/72133950/how-to-make-custom-annotation-throw-an-error-instead-of-default-message\">How to make custom annotation throw an error instead of default message</a></p>\n<p><a href=\"https://stackoverflow.com/questions/62896233/how-to-throw-custom-exception-in-proper-way-when-using-javax-validation-valid\">How to throw custom exception in proper way when using @javax.validation.Valid?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/51331679/spring-boot-how-to-return-my-own-validation-constraint-error-messages\">Spring Boot how to return my own validation constraint error messages</a></p>\n<p><a href=\"https://stackoverflow.com/questions/75568330/custom-validation-message-in-spring-boot-with-internationalization\">Custom Validation Message in Spring Boot with internationalization?</a></p>\n<hr />\n<p>Any help would be really appreciated!</p>\n<p>Thanks.</p>\n"},{"tags":["java","aws-lambda","java-native-interface","alexa-skills-kit","quarkus"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1577710899,"post_id":59531126,"comment_id":105232078,"body_markdown":"I am not sure that this is a quarkus-problem. I would assume that it is a graalvm-problem. [The `LIMITATIONS`-page](https://github.com/oracle/graal/blob/master/substratevm/LIMITATIONS.md#java-native-interface--jni) of graalvm lists JNI as &quot;*mostly supported*&quot; and also references the [configuration page for JNI on `substrateVM`](https://github.com/oracle/graal/blob/master/substratevm/JNI.md). Maybe you want to take a look.","body":"I am not sure that this is a quarkus-problem. I would assume that it is a graalvm-problem. <a href=\"https://github.com/oracle/graal/blob/master/substratevm/LIMITATIONS.md#java-native-interface--jni\" rel=\"nofollow noreferrer\">The <code>LIMITATIONS</code>-page</a> of graalvm lists JNI as &quot;<i>mostly supported</i>&quot; and also references the <a href=\"https://github.com/oracle/graal/blob/master/substratevm/JNI.md\" rel=\"nofollow noreferrer\">configuration page for JNI on <code>substrateVM</code></a>. Maybe you want to take a look."},{"owner":{"account_id":4053051,"reputation":1158,"user_id":3331931,"accept_rate":43,"display_name":"fcracker79"},"score":0,"creation_date":1577715900,"post_id":59531126,"comment_id":105234276,"body_markdown":"Thanks @Turing85, I will have a look at it.\nP.S. Having given a look, it seems that threads are fully supported, but: `We have nearly full support for java.lang.Thread. Only deprecated methods, such as Thread.stop(), are not supported.`. So now I have to understand what references deprecated thread methods. I moved further somehow. Thanks!","body":"Thanks @Turing85, I will have a look at it. P.S. Having given a look, it seems that threads are fully supported, but: <code>We have nearly full support for java.lang.Thread. Only deprecated methods, such as Thread.stop(), are not supported.</code>. So now I have to understand what references deprecated thread methods. I moved further somehow. Thanks!"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1577954288,"post_id":59531126,"comment_id":105288648,"body_markdown":"Are you using the Quarkus lambda extension?","body":"Are you using the Quarkus lambda extension?"},{"owner":{"account_id":4053051,"reputation":1158,"user_id":3331931,"accept_rate":43,"display_name":"fcracker79"},"score":0,"creation_date":1578036673,"post_id":59531126,"comment_id":105316371,"body_markdown":"@geoand thanks, yes I am using that. It does not happen with a blank project. Also, if I add the same dependencies on a blank project, it does not happen. Now I am proceeding by gradually removing parts of my code to see what causes the issue.\nThat is very time consuming, so any advice would greatly help.","body":"@geoand thanks, yes I am using that. It does not happen with a blank project. Also, if I add the same dependencies on a blank project, it does not happen. Now I am proceeding by gradually removing parts of my code to see what causes the issue. That is very time consuming, so any advice would greatly help."}],"answers":[{"tags":[],"owner":{"account_id":4053051,"reputation":1158,"user_id":3331931,"accept_rate":43,"display_name":"fcracker79"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1578130680,"creation_date":1578044991,"answer_id":59576326,"question_id":59531126,"body_markdown":"Finally I have found the cause of my issue.\r\n\r\nIn the non-working version of my code, I use a factory of `com.amazon.ask.AlexaSkill` that is somehow injected in the entry point, as follows:\r\n\r\n```\r\npackage io.mirko.lambda;\r\n\r\nimport com.amazon.ask.AlexaSkill;\r\nimport com.amazon.ask.Skills;\r\nimport com.amazon.ask.dispatcher.request.handler.HandlerInput;\r\nimport com.amazon.ask.dispatcher.request.handler.RequestHandler;\r\nimport com.amazon.ask.model.RequestEnvelope;\r\nimport com.amazon.ask.model.ResponseEnvelope;\r\nimport com.amazon.ask.request.interceptor.GenericRequestInterceptor;\r\nimport io.mirko.lambda.handlers.*;\r\n\r\nimport javax.enterprise.context.ApplicationScoped;\r\nimport javax.enterprise.inject.Instance;\r\nimport javax.enterprise.inject.Produces;\r\nimport javax.inject.Inject;\r\nimport javax.inject.Named;\r\nimport java.util.*;\r\nimport java.util.stream.StreamSupport;\r\n\r\n\r\npublic class SkillFactory {\r\n    @Inject\r\n    Instance&lt;RequestHandler&gt; handlers;\r\n\r\n    @Produces\r\n    @ApplicationScoped\r\n    @Named\r\n    public AlexaSkill&lt;RequestEnvelope, ResponseEnvelope&gt; createSkill() {\r\n        return Skills.standard()\r\n                .addRequestHandlers(handlers.stream().toArray(RequestHandler[]::new))\r\n                .addRequestInterceptor(new GenericRequestInterceptor&lt;HandlerInput&gt;() {\r\n                    @Override\r\n                    public void process(HandlerInput handlerInput) {\r\n                        System.out.format(&quot;Processing %s\\n&quot;, handlerInput.getRequest());\r\n                    }\r\n                })\r\n                // Add your skill id below\r\n                //.withSkillId(&quot;&quot;)\r\n                .build();\r\n    }\r\n}\r\n\r\n...\r\n\r\npublic class SwearStreamLambda extends SkillStreamHandler {\r\n    @Named(&quot;swearStream&quot;)\r\n        public SwearStreamLambda() {\r\n            //noinspection unchecked\r\n            super((AlexaSkill&lt;RequestEnvelope, ResponseEnvelope&gt;)\r\n                getBean(new ParameterizedTypeImpl(AlexaSkill.class, RequestEnvelope.class, ResponseEnvelope.class)));\r\n\r\n```\r\n\r\nBy removing the `SkillFactory` class and moving its logic inside `SwearStreamLambda` class the compilation went well.\r\n\r\nSome notes:\r\n\r\n1. The issue is not related to CDI, as it is heavily used throughout the project\r\n2. The issue is not related to `@Produces` annotation, which is present in other parts of the project\r\n3. The issue is not related to `javax.enterprise.inject.Instance`, as its removal does not solve the issue\r\n\r\nAll in all, I could not find the root cause of the problem, but I consider my issue *solved*.\r\n\r\nP.S. The original problem is eradicated by building with the following:\r\n\r\n`mvn clean install -Pnative -Dnative-image.docker-build=true -Dquarkus.native.enable-jni=true`\r\n\r\nPlease see `https://github.com/quarkusio/quarkus/issues/6395#issuecomment-570755587`.\r\n\r\nThis does not solve all the problems, as Quarkus reflection has to be configured, but it solves the specific issue.","title":"Native Quarkus with AWS lambda does not build","body":"<p>Finally I have found the cause of my issue.</p>\n\n<p>In the non-working version of my code, I use a factory of <code>com.amazon.ask.AlexaSkill</code> that is somehow injected in the entry point, as follows:</p>\n\n<pre><code>package io.mirko.lambda;\n\nimport com.amazon.ask.AlexaSkill;\nimport com.amazon.ask.Skills;\nimport com.amazon.ask.dispatcher.request.handler.HandlerInput;\nimport com.amazon.ask.dispatcher.request.handler.RequestHandler;\nimport com.amazon.ask.model.RequestEnvelope;\nimport com.amazon.ask.model.ResponseEnvelope;\nimport com.amazon.ask.request.interceptor.GenericRequestInterceptor;\nimport io.mirko.lambda.handlers.*;\n\nimport javax.enterprise.context.ApplicationScoped;\nimport javax.enterprise.inject.Instance;\nimport javax.enterprise.inject.Produces;\nimport javax.inject.Inject;\nimport javax.inject.Named;\nimport java.util.*;\nimport java.util.stream.StreamSupport;\n\n\npublic class SkillFactory {\n    @Inject\n    Instance&lt;RequestHandler&gt; handlers;\n\n    @Produces\n    @ApplicationScoped\n    @Named\n    public AlexaSkill&lt;RequestEnvelope, ResponseEnvelope&gt; createSkill() {\n        return Skills.standard()\n                .addRequestHandlers(handlers.stream().toArray(RequestHandler[]::new))\n                .addRequestInterceptor(new GenericRequestInterceptor&lt;HandlerInput&gt;() {\n                    @Override\n                    public void process(HandlerInput handlerInput) {\n                        System.out.format(\"Processing %s\\n\", handlerInput.getRequest());\n                    }\n                })\n                // Add your skill id below\n                //.withSkillId(\"\")\n                .build();\n    }\n}\n\n...\n\npublic class SwearStreamLambda extends SkillStreamHandler {\n    @Named(\"swearStream\")\n        public SwearStreamLambda() {\n            //noinspection unchecked\n            super((AlexaSkill&lt;RequestEnvelope, ResponseEnvelope&gt;)\n                getBean(new ParameterizedTypeImpl(AlexaSkill.class, RequestEnvelope.class, ResponseEnvelope.class)));\n\n</code></pre>\n\n<p>By removing the <code>SkillFactory</code> class and moving its logic inside <code>SwearStreamLambda</code> class the compilation went well.</p>\n\n<p>Some notes:</p>\n\n<ol>\n<li>The issue is not related to CDI, as it is heavily used throughout the project</li>\n<li>The issue is not related to <code>@Produces</code> annotation, which is present in other parts of the project</li>\n<li>The issue is not related to <code>javax.enterprise.inject.Instance</code>, as its removal does not solve the issue</li>\n</ol>\n\n<p>All in all, I could not find the root cause of the problem, but I consider my issue <em>solved</em>.</p>\n\n<p>P.S. The original problem is eradicated by building with the following:</p>\n\n<p><code>mvn clean install -Pnative -Dnative-image.docker-build=true -Dquarkus.native.enable-jni=true</code></p>\n\n<p>Please see <code>https://github.com/quarkusio/quarkus/issues/6395#issuecomment-570755587</code>.</p>\n\n<p>This does not solve all the problems, as Quarkus reflection has to be configured, but it solves the specific issue.</p>\n"},{"tags":[],"owner":{"account_id":3904164,"reputation":2111,"user_id":3276902,"accept_rate":83,"display_name":"timguy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679915695,"creation_date":1663689341,"answer_id":73789500,"question_id":59531126,"body_markdown":"Just some update **for 2022**\r\n - There is an extension in quarkus which do some configuration already for transitive dependencies: https://github.com/quarkiverse/quarkus-amazon-alexa\r\n - You need GraalVM and docker installed\r\n - I just went to:\r\nhttps://code.quarkus.io/?b=GRADLE&amp;e=io.quarkiverse.amazonalexa%3Aquarkus-amazon-alexa&amp;extension-search=origin:platform%20alexa\r\n - download the zip\r\n - overwrite all of my existing project/skill.\r\n - small further adaptions to my existing skill as described here: https://quarkus.io/guides/writing-native-applications-tips\r\n - `gradlew build -x test -Dquarkus.package.type=native \r\n-Dquarkus.native.container-build=true`\r\n - upload functions.zip to AWS Lambda\r\n\r\n**Update 2023**\r\n\r\nI used quarkus to get simplified GraalVM and native build support to speed up start lambda start times.\r\nNowadays I would first try [SnapStart][1] which is jsut a configuration in your lambda.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/snapstart.html","title":"Native Quarkus with AWS lambda does not build","body":"<p>Just some update <strong>for 2022</strong></p>\n<ul>\n<li>There is an extension in quarkus which do some configuration already for transitive dependencies: <a href=\"https://github.com/quarkiverse/quarkus-amazon-alexa\" rel=\"nofollow noreferrer\">https://github.com/quarkiverse/quarkus-amazon-alexa</a></li>\n<li>You need GraalVM and docker installed</li>\n<li>I just went to:\n<a href=\"https://code.quarkus.io/?b=GRADLE&amp;e=io.quarkiverse.amazonalexa%3Aquarkus-amazon-alexa&amp;extension-search=origin:platform%20alexa\" rel=\"nofollow noreferrer\">https://code.quarkus.io/?b=GRADLE&amp;e=io.quarkiverse.amazonalexa%3Aquarkus-amazon-alexa&amp;extension-search=origin:platform%20alexa</a></li>\n<li>download the zip</li>\n<li>overwrite all of my existing project/skill.</li>\n<li>small further adaptions to my existing skill as described here: <a href=\"https://quarkus.io/guides/writing-native-applications-tips\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/writing-native-applications-tips</a></li>\n<li><code>gradlew build -x test -Dquarkus.package.type=native  -Dquarkus.native.container-build=true</code></li>\n<li>upload functions.zip to AWS Lambda</li>\n</ul>\n<p><strong>Update 2023</strong></p>\n<p>I used quarkus to get simplified GraalVM and native build support to speed up start lambda start times.\nNowadays I would first try <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/snapstart.html\" rel=\"nofollow noreferrer\">SnapStart</a> which is jsut a configuration in your lambda.</p>\n"}],"owner":{"account_id":4053051,"reputation":1158,"user_id":3331931,"accept_rate":43,"display_name":"fcracker79"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":957,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59576326,"answer_count":2,"score":2,"last_activity_date":1679915695,"creation_date":1577710134,"question_id":59531126,"body_markdown":"I am trying to use Quarkus native to build my AWS Lambda.\r\n\r\nMy setup is:\r\n\r\n* GraalVM 19.3.0\r\n* Java 11\r\n* Ubuntu \r\n\r\nWhen I run \r\n\r\n```bash\r\ndocker run -v /home/mypc/dev/java/quarkus/alexa_swear/target/&lt;my project&gt;-1.0-SNAPSHOT-native-image-source-jar:/project:z --user 1000:1000 --rm quay.io/quarkus/ubi-quarkus-native-image:19.2.1 -J-Djava.util.logging.manager=org.jboss.logmanager.LogManager --initialize-at-build-time= -H:InitialCollectionPolicy=com.oracle.svm.core.genscavenge.CollectionPolicy\\$BySpaceAndTime -jar &lt;my project&gt;-1.0-SNAPSHOT-runner.jar -J-Djava.util.concurrent.ForkJoinPool.common.parallelism=1 -H:FallbackThreshold=0 -H:+ReportExceptionStackTraces -H:+AddAllCharsets -H:EnableURLProtocols=http -H:-JNI --no-server -H:-UseServiceLoaderFeature -H:+StackTrace &lt;my project&gt;-1.0-SNAPSHOT-runner\r\n```\r\nI get the following error:\r\n```\r\n[alexa_swear-1.0-SNAPSHOT-runner:23]   (typeflow):  52,070.99 ms\r\n[alexa_swear-1.0-SNAPSHOT-runner:23]    (objects):  25,961.57 ms\r\n[alexa_swear-1.0-SNAPSHOT-runner:23]   (features):     803.41 ms\r\n[alexa_swear-1.0-SNAPSHOT-runner:23]     analysis:  81,015.48 ms\r\n[alexa_swear-1.0-SNAPSHOT-runner:23]     (clinit):   1,277.52 ms\r\n[alexa_swear-1.0-SNAPSHOT-runner:23]     universe:   4,416.32 ms\r\nError: Unsupported features in 5 methods\r\nDetailed message:\r\nCall path from entry point to java.lang.Runtime.traceInstructions(boolean): \r\n\tat java.lang.Runtime.traceInstructions(Runtime.java)\r\n\tat com.oracle.svm.reflect.Runtime_traceInstructions_91eaacf084b9d7e2af6dcc0028ee87fea9223b51_77.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat sun.net.www.protocol.http.NTLMAuthenticationProxy.isTrustedSite(NTLMAuthenticationProxy.java:102)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getServerAuthentication(HttpURLConnection.java:2481)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1743)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1498)\r\n\tat io.quarkus.amazon.lambda.runtime.AmazonLambdaRecorder$2.run(AmazonLambdaRecorder.java:171)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\tat com.oracle.svm.core.thread.JavaThreads.threadStartRoutine(JavaThreads.java:460)\r\n\tat com.oracle.svm.core.posix.thread.PosixJavaThreads.pthreadStartRoutine(PosixJavaThreads.java:193)\r\n\tat com.oracle.svm.core.code.IsolateEnterStub.PosixJavaThreads_pthreadStartRoutine_e1f4a8c0039f8337338252cd8734f63a79b5e3df(generated:0)\t... 6 more\r\nError: Image build request failed with exit status 1\r\n```\r\nThe above error is truncated: the same call stack points to different unsupported methods, such as `java.lang.Thread.stop`.\r\n\r\nMy basic understanding is that`io.quarkus.amazon.lambda.runtime.AmazonLambdaRecorder$2.run(AmazonLambdaRecorder.java` is referencing to some unsupported methods, such as `java.lang.Thread.resume()`. \r\nI have also tried with Quarkus 19.2.1 unsuccessfully.\r\n\r\nThe above command was executed by `mvn clean install -Pnative -Dnative-image.docker-build=true -e`.\r\n\r\n\r\n  [1]: https://github.com/oracle/graal/blob/b30f73aa905c63fb81c13e3c8fac7deeb5b523fe/substratevm/src/com.oracle.svm.core/src/com/oracle/svm/core/amd64/AMD64CPUFeatureAccess.java#L179","title":"Native Quarkus with AWS lambda does not build","body":"<p>I am trying to use Quarkus native to build my AWS Lambda.</p>\n\n<p>My setup is:</p>\n\n<ul>\n<li>GraalVM 19.3.0</li>\n<li>Java 11</li>\n<li>Ubuntu </li>\n</ul>\n\n<p>When I run </p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>docker run -v /home/mypc/dev/java/quarkus/alexa_swear/target/&lt;my project&gt;-1.0-SNAPSHOT-native-image-source-jar:/project:z --user 1000:1000 --rm quay.io/quarkus/ubi-quarkus-native-image:19.2.1 -J-Djava.util.logging.manager=org.jboss.logmanager.LogManager --initialize-at-build-time= -H:InitialCollectionPolicy=com.oracle.svm.core.genscavenge.CollectionPolicy\\$BySpaceAndTime -jar &lt;my project&gt;-1.0-SNAPSHOT-runner.jar -J-Djava.util.concurrent.ForkJoinPool.common.parallelism=1 -H:FallbackThreshold=0 -H:+ReportExceptionStackTraces -H:+AddAllCharsets -H:EnableURLProtocols=http -H:-JNI --no-server -H:-UseServiceLoaderFeature -H:+StackTrace &lt;my project&gt;-1.0-SNAPSHOT-runner\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>[alexa_swear-1.0-SNAPSHOT-runner:23]   (typeflow):  52,070.99 ms\n[alexa_swear-1.0-SNAPSHOT-runner:23]    (objects):  25,961.57 ms\n[alexa_swear-1.0-SNAPSHOT-runner:23]   (features):     803.41 ms\n[alexa_swear-1.0-SNAPSHOT-runner:23]     analysis:  81,015.48 ms\n[alexa_swear-1.0-SNAPSHOT-runner:23]     (clinit):   1,277.52 ms\n[alexa_swear-1.0-SNAPSHOT-runner:23]     universe:   4,416.32 ms\nError: Unsupported features in 5 methods\nDetailed message:\nCall path from entry point to java.lang.Runtime.traceInstructions(boolean): \n    at java.lang.Runtime.traceInstructions(Runtime.java)\n    at com.oracle.svm.reflect.Runtime_traceInstructions_91eaacf084b9d7e2af6dcc0028ee87fea9223b51_77.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.net.www.protocol.http.NTLMAuthenticationProxy.isTrustedSite(NTLMAuthenticationProxy.java:102)\n    at sun.net.www.protocol.http.HttpURLConnection.getServerAuthentication(HttpURLConnection.java:2481)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1743)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1498)\n    at io.quarkus.amazon.lambda.runtime.AmazonLambdaRecorder$2.run(AmazonLambdaRecorder.java:171)\n    at java.lang.Thread.run(Thread.java:748)\n    at com.oracle.svm.core.thread.JavaThreads.threadStartRoutine(JavaThreads.java:460)\n    at com.oracle.svm.core.posix.thread.PosixJavaThreads.pthreadStartRoutine(PosixJavaThreads.java:193)\n    at com.oracle.svm.core.code.IsolateEnterStub.PosixJavaThreads_pthreadStartRoutine_e1f4a8c0039f8337338252cd8734f63a79b5e3df(generated:0) ... 6 more\nError: Image build request failed with exit status 1\n</code></pre>\n\n<p>The above error is truncated: the same call stack points to different unsupported methods, such as <code>java.lang.Thread.stop</code>.</p>\n\n<p>My basic understanding is that<code>io.quarkus.amazon.lambda.runtime.AmazonLambdaRecorder$2.run(AmazonLambdaRecorder.java</code> is referencing to some unsupported methods, such as <code>java.lang.Thread.resume()</code>. \nI have also tried with Quarkus 19.2.1 unsuccessfully.</p>\n\n<p>The above command was executed by <code>mvn clean install -Pnative -Dnative-image.docker-build=true -e</code>.</p>\n"},{"tags":["java","azure","docker","nginx","proguard"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1679652772,"post_id":75831391,"comment_id":133763233,"body_markdown":"looks like network problem, check for network configuration of docker and azure side.","body":"looks like network problem, check for network configuration of docker and azure side."}],"answers":[{"comments":[{"owner":{"account_id":21430481,"reputation":1,"user_id":15786996,"display_name":"Shahzeb Iqbal"},"score":0,"creation_date":1680075167,"post_id":75855064,"comment_id":133833442,"body_markdown":"I run my app within Kubernetes","body":"I run my app within Kubernetes"}],"tags":[],"owner":{"account_id":26331226,"reputation":3311,"user_id":19991670,"display_name":"Pravallika KV"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679915544,"creation_date":1679915544,"answer_id":75855064,"question_id":75831391,"body_markdown":"&gt;I&#39;m having an issue where my obfuscated JAR file works fine on my local machine, but when I deploy it using Azure Pipeline, it fails to run, getting 502 bad gateway\r\n\r\nCheck if the below troubleshooting steps help you to fix the error 502 bad gateway:\r\n\r\n1.  Make sure your application is up and running.\r\n2.  Make sure that the port in which your application is running is exposed so that you can access your application.\r\n3.  Also, make sure to include obfuscated JAR while creating docker image.\r\n\r\nIf you are running your application on any other port, you can configure the port as shown below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/fV7Og.png)\r\n\r\n*I have reproduced your requirement in my environment, and I could access the endpoints of my application as shown below:*  \r\n\r\n![enter image description here](https://i.stack.imgur.com/8Gqf4.png)\r\n","title":"Spring boot proguard obfuscated JAR works locally but not on Azure Pipeline","body":"<blockquote>\n<p>I'm having an issue where my obfuscated JAR file works fine on my local machine, but when I deploy it using Azure Pipeline, it fails to run, getting 502 bad gateway</p>\n</blockquote>\n<p>Check if the below troubleshooting steps help you to fix the error 502 bad gateway:</p>\n<ol>\n<li>Make sure your application is up and running.</li>\n<li>Make sure that the port in which your application is running is exposed so that you can access your application.</li>\n<li>Also, make sure to include obfuscated JAR while creating docker image.</li>\n</ol>\n<p>If you are running your application on any other port, you can configure the port as shown below:</p>\n<p><img src=\"https://i.stack.imgur.com/fV7Og.png\" alt=\"enter image description here\" /></p>\n<p><em>I have reproduced your requirement in my environment, and I could access the endpoints of my application as shown below:</em></p>\n<p><img src=\"https://i.stack.imgur.com/8Gqf4.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":21430481,"reputation":1,"user_id":15786996,"display_name":"Shahzeb Iqbal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679915544,"creation_date":1679646296,"question_id":75831391,"body_markdown":"I&#39;m having an issue where my obfuscated JAR file works fine on my local machine, but when I deploy it using Azure Pipeline, it fails to run, getting 502 bad gateway. I&#39;m using Maven to build and package my project, and then pushing it to a Docker registry.\r\n\r\nhere is my pipeline details: \r\n```\r\n- task: Maven@3\r\n            inputs:\r\n              mavenPomFile: &#39;entity/pom.xml&#39;\r\n              mavenOptions: &#39;-Xmx3072m&#39;\r\n              javaHomeOption: &#39;JDKVersion&#39;\r\n              jdkVersionOption: &#39;1.11&#39;\r\n              jdkArchitectureOption: &#39;x64&#39;\r\n              publishJUnitResults: true\r\n              testResultsFiles: &#39;**/surefire-reports/TEST-*.xml&#39;\r\n              goals: &#39;install&#39;\r\n\r\n          - task: Maven@3\r\n            inputs:\r\n              mavenPomFile: &#39;common/pom.xml&#39;\r\n              mavenOptions: &#39;-Xmx3072m&#39;\r\n              javaHomeOption: &#39;JDKVersion&#39;\r\n              jdkVersionOption: &#39;1.11&#39;\r\n              jdkArchitectureOption: &#39;x64&#39;\r\n              publishJUnitResults: true\r\n              testResultsFiles: &#39;**/surefire-reports/TEST-*.xml&#39;\r\n              goals: &#39;install&#39;\r\n\r\n          - task: Maven@3\r\n            inputs:\r\n              mavenPomFile: &#39;security/pom.xml&#39;\r\n              mavenOptions: &#39;-Xmx3072m&#39;\r\n              javaHomeOption: &#39;JDKVersion&#39;\r\n              jdkVersionOption: &#39;1.11&#39;\r\n              jdkArchitectureOption: &#39;x64&#39;\r\n              publishJUnitResults: true\r\n              testResultsFiles: &#39;**/surefire-reports/TEST-*.xml&#39;\r\n              goals: &#39;install&#39;\r\n\r\n          - task: Maven@3\r\n            inputs:\r\n              mavenPomFile: &#39;search/pom.xml&#39;\r\n              mavenOptions: &#39;-Xmx3072m&#39;\r\n              javaHomeOption: &#39;JDKVersion&#39;\r\n              jdkVersionOption: &#39;1.11&#39;\r\n              jdkArchitectureOption: &#39;x64&#39;\r\n              publishJUnitResults: true\r\n              testResultsFiles: &#39;**/surefire-reports/TEST-*.xml&#39;\r\n              goals: &#39;install&#39;\r\n\r\n\r\n          - task: Maven@3\r\n            inputs:\r\n              mavenPomFile: &#39;backend/pom.xml&#39;\r\n              mavenOptions: &#39;-Xmx3072m&#39;\r\n              javaHomeOption: &#39;JDKVersion&#39;\r\n              jdkVersionOption: &#39;1.11&#39;\r\n              jdkArchitectureOption: &#39;x64&#39;\r\n              publishJUnitResults: true\r\n              testResultsFiles: &#39;**/surefire-reports/TEST-*.xml&#39;\r\n              goals: &#39;package&#39;\r\n\r\n          - task: Docker@2\r\n            inputs:\r\n              containerRegistry: &#39;registry&#39;\r\n              repository: &#39;my_repo&#39;\r\n              command: &#39;buildAndPush&#39;\r\n              Dockerfile: &#39;**/Dockerfile&#39;\r\n              tags: &#39;$(Build.BuildId).development&#39;\r\n\r\n          - task: PublishBuildArtifacts@1\r\n            inputs:\r\n              PathtoPublish: &#39;$(Build.ArtifactStagingDirectory)&#39;\r\n              ArtifactName: &#39;drop&#39;\r\n              publishLocation: &#39;Container&#39;\r\n```\r\n\r\nhere is my pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.timestreamgroup.reconstream&lt;/groupId&gt;\r\n    &lt;artifactId&gt;recon-ui-service&lt;/artifactId&gt;\r\n    &lt;name&gt;recon-ui-service&lt;/name&gt;\r\n    &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;description&gt;recon ui service&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;version.infinispan&gt;12.1.7.Final&lt;/version.infinispan&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.timestreamgroup.reconstream&lt;/groupId&gt;\r\n            &lt;artifactId&gt;recon-common&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-cloud-stream&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n               &lt;!-- &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;--&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.cronutils&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cron-utils&lt;/artifactId&gt;\r\n            &lt;version&gt;9.1.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.timestreamgroup.reconstream&lt;/groupId&gt;\r\n            &lt;artifactId&gt;recon-security&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.timestreamgroup.reconstream&lt;/groupId&gt;\r\n            &lt;artifactId&gt;recon-api-search&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-freemarker&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;no.api.freemarker&lt;/groupId&gt;\r\n            &lt;artifactId&gt;freemarker-java8&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.everit.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.everit.json.schema&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;8.4.1.jre8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.infinispan&lt;/groupId&gt;\r\n            &lt;artifactId&gt;infinispan-spring-boot-starter-embedded&lt;/artifactId&gt;\r\n            &lt;version&gt;${version.infinispan}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-oas&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.hateoas&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-hateoas&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-quartz&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!--     &lt;dependency&gt;\r\n                     &lt;groupId&gt;com.timestreamgroup.reconstream&lt;/groupId&gt;\r\n                     &lt;artifactId&gt;recon-parent&lt;/artifactId&gt;\r\n                     &lt;version&gt;0.0.1&lt;/version&gt;\r\n                     &lt;exclusions&gt;\r\n                         &lt;exclusion&gt;\r\n                             &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                             &lt;artifactId&gt;spring-cloud-stream&lt;/artifactId&gt;\r\n                         &lt;/exclusion&gt;\r\n                         &lt;exclusion&gt;\r\n                             &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n                             &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n                         &lt;/exclusion&gt;\r\n                     &lt;/exclusions&gt;\r\n                 &lt;/dependency&gt;\r\n                 --&gt;\r\n\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.4.1.Final&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.18.20&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n                            &lt;version&gt;0.2.0&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;compilerArg&gt;\r\n                            -Amapstruct.defaultComponentModel=spring\r\n                        &lt;/compilerArg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                    &lt;!--&lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;--&gt;\r\n                &lt;/configuration&gt;\r\n\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springdoc-openapi-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.2&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;integration-test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.github.wvengen&lt;/groupId&gt;\r\n                &lt;artifactId&gt;proguard-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;proguard&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;proguardVersion&gt;7.0.0&lt;/proguardVersion&gt;\r\n                    &lt;injar&gt;${project.build.finalName}.jar&lt;/injar&gt;\r\n                    &lt;outjar&gt;${project.build.finalName}.jar&lt;/outjar&gt;\r\n                    &lt;proguardInclude&gt;${project.basedir}/proguard.cfg&lt;/proguardInclude&gt;\r\n                    &lt;libs&gt;\r\n                        &lt;lib&gt;${java.home}&lt;/lib&gt;\r\n                    &lt;/libs&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;com.guardsquare&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;proguard-base&lt;/artifactId&gt;\r\n                        &lt;version&gt;7.0.0&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;repackage&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;com.timestreamgroup.reconstream.ui.service.ReconUiServiceApplication&lt;/mainClass&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;pre-integration-test&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;start&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;post-integration-test&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;stop&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;run&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;target&gt;\r\n                                &lt;delete file=&quot;${project.build.directory}/${project.build.finalName}_proguard_base.jar&quot;/&gt;\r\n                            &lt;/target&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n**App was started but endpoints are not accessible**\r\n\r\nHere&#39;s what I&#39;ve tried so far:\r\n\r\n- Checked the output of the Maven &#39;package&#39; goal to make sure that the obfuscated JAR file is being built correctly.\r\n- Made sure that the obfuscated JAR file is being included in the Docker image.\r\n- Checked if the Docker image is being deployed correctly to the target environment.\r\n- Checked the logs of the deployed application for any error messages or warnings.\r\n\r\nNone of these steps have helped me to solve the issue.\r\n\r\nAny ideas on what could be causing this issue or what other troubleshooting steps I could try?\r\n\r\nThanks in advance for your help!","title":"Spring boot proguard obfuscated JAR works locally but not on Azure Pipeline","body":"<p>I'm having an issue where my obfuscated JAR file works fine on my local machine, but when I deploy it using Azure Pipeline, it fails to run, getting 502 bad gateway. I'm using Maven to build and package my project, and then pushing it to a Docker registry.</p>\n<p>here is my pipeline details:</p>\n<pre><code>- task: Maven@3\n            inputs:\n              mavenPomFile: 'entity/pom.xml'\n              mavenOptions: '-Xmx3072m'\n              javaHomeOption: 'JDKVersion'\n              jdkVersionOption: '1.11'\n              jdkArchitectureOption: 'x64'\n              publishJUnitResults: true\n              testResultsFiles: '**/surefire-reports/TEST-*.xml'\n              goals: 'install'\n\n          - task: Maven@3\n            inputs:\n              mavenPomFile: 'common/pom.xml'\n              mavenOptions: '-Xmx3072m'\n              javaHomeOption: 'JDKVersion'\n              jdkVersionOption: '1.11'\n              jdkArchitectureOption: 'x64'\n              publishJUnitResults: true\n              testResultsFiles: '**/surefire-reports/TEST-*.xml'\n              goals: 'install'\n\n          - task: Maven@3\n            inputs:\n              mavenPomFile: 'security/pom.xml'\n              mavenOptions: '-Xmx3072m'\n              javaHomeOption: 'JDKVersion'\n              jdkVersionOption: '1.11'\n              jdkArchitectureOption: 'x64'\n              publishJUnitResults: true\n              testResultsFiles: '**/surefire-reports/TEST-*.xml'\n              goals: 'install'\n\n          - task: Maven@3\n            inputs:\n              mavenPomFile: 'search/pom.xml'\n              mavenOptions: '-Xmx3072m'\n              javaHomeOption: 'JDKVersion'\n              jdkVersionOption: '1.11'\n              jdkArchitectureOption: 'x64'\n              publishJUnitResults: true\n              testResultsFiles: '**/surefire-reports/TEST-*.xml'\n              goals: 'install'\n\n\n          - task: Maven@3\n            inputs:\n              mavenPomFile: 'backend/pom.xml'\n              mavenOptions: '-Xmx3072m'\n              javaHomeOption: 'JDKVersion'\n              jdkVersionOption: '1.11'\n              jdkArchitectureOption: 'x64'\n              publishJUnitResults: true\n              testResultsFiles: '**/surefire-reports/TEST-*.xml'\n              goals: 'package'\n\n          - task: Docker@2\n            inputs:\n              containerRegistry: 'registry'\n              repository: 'my_repo'\n              command: 'buildAndPush'\n              Dockerfile: '**/Dockerfile'\n              tags: '$(Build.BuildId).development'\n\n          - task: PublishBuildArtifacts@1\n            inputs:\n              PathtoPublish: '$(Build.ArtifactStagingDirectory)'\n              ArtifactName: 'drop'\n              publishLocation: 'Container'\n</code></pre>\n<p>here is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.timestreamgroup.reconstream&lt;/groupId&gt;\n    &lt;artifactId&gt;recon-ui-service&lt;/artifactId&gt;\n    &lt;name&gt;recon-ui-service&lt;/name&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;description&gt;recon ui service&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;version.infinispan&gt;12.1.7.Final&lt;/version.infinispan&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.timestreamgroup.reconstream&lt;/groupId&gt;\n            &lt;artifactId&gt;recon-common&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-cloud-stream&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n               &lt;!-- &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n                &lt;/exclusion&gt;--&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.cronutils&lt;/groupId&gt;\n            &lt;artifactId&gt;cron-utils&lt;/artifactId&gt;\n            &lt;version&gt;9.1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.timestreamgroup.reconstream&lt;/groupId&gt;\n            &lt;artifactId&gt;recon-security&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.timestreamgroup.reconstream&lt;/groupId&gt;\n            &lt;artifactId&gt;recon-api-search&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-freemarker&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;no.api.freemarker&lt;/groupId&gt;\n            &lt;artifactId&gt;freemarker-java8&lt;/artifactId&gt;\n            &lt;version&gt;1.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.everit.json&lt;/groupId&gt;\n            &lt;artifactId&gt;org.everit.json.schema&lt;/artifactId&gt;\n            &lt;version&gt;1.5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;8.4.1.jre8&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.infinispan&lt;/groupId&gt;\n            &lt;artifactId&gt;infinispan-spring-boot-starter-embedded&lt;/artifactId&gt;\n            &lt;version&gt;${version.infinispan}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-oas&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.hateoas&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-hateoas&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-quartz&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;!--     &lt;dependency&gt;\n                     &lt;groupId&gt;com.timestreamgroup.reconstream&lt;/groupId&gt;\n                     &lt;artifactId&gt;recon-parent&lt;/artifactId&gt;\n                     &lt;version&gt;0.0.1&lt;/version&gt;\n                     &lt;exclusions&gt;\n                         &lt;exclusion&gt;\n                             &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                             &lt;artifactId&gt;spring-cloud-stream&lt;/artifactId&gt;\n                         &lt;/exclusion&gt;\n                         &lt;exclusion&gt;\n                             &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n                             &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n                         &lt;/exclusion&gt;\n                     &lt;/exclusions&gt;\n                 &lt;/dependency&gt;\n                 --&gt;\n\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;1.4.1.Final&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;1.18.20&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                            &lt;version&gt;0.2.0&lt;/version&gt;\n                        &lt;/dependency&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;compilerArg&gt;\n                            -Amapstruct.defaultComponentModel=spring\n                        &lt;/compilerArg&gt;\n                    &lt;/compilerArgs&gt;\n                    &lt;!--&lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;--&gt;\n                &lt;/configuration&gt;\n\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n                &lt;artifactId&gt;springdoc-openapi-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.2&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.github.wvengen&lt;/groupId&gt;\n                &lt;artifactId&gt;proguard-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;proguard&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;proguardVersion&gt;7.0.0&lt;/proguardVersion&gt;\n                    &lt;injar&gt;${project.build.finalName}.jar&lt;/injar&gt;\n                    &lt;outjar&gt;${project.build.finalName}.jar&lt;/outjar&gt;\n                    &lt;proguardInclude&gt;${project.basedir}/proguard.cfg&lt;/proguardInclude&gt;\n                    &lt;libs&gt;\n                        &lt;lib&gt;${java.home}&lt;/lib&gt;\n                    &lt;/libs&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;com.guardsquare&lt;/groupId&gt;\n                        &lt;artifactId&gt;proguard-base&lt;/artifactId&gt;\n                        &lt;version&gt;7.0.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;com.timestreamgroup.reconstream.ui.service.ReconUiServiceApplication&lt;/mainClass&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;pre-integration-test&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;start&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;post-integration-test&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;stop&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;run&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;target&gt;\n                                &lt;delete file=&quot;${project.build.directory}/${project.build.finalName}_proguard_base.jar&quot;/&gt;\n                            &lt;/target&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>App was started but endpoints are not accessible</strong></p>\n<p>Here's what I've tried so far:</p>\n<ul>\n<li>Checked the output of the Maven 'package' goal to make sure that the obfuscated JAR file is being built correctly.</li>\n<li>Made sure that the obfuscated JAR file is being included in the Docker image.</li>\n<li>Checked if the Docker image is being deployed correctly to the target environment.</li>\n<li>Checked the logs of the deployed application for any error messages or warnings.</li>\n</ul>\n<p>None of these steps have helped me to solve the issue.</p>\n<p>Any ideas on what could be causing this issue or what other troubleshooting steps I could try?</p>\n<p>Thanks in advance for your help!</p>\n"},{"tags":["java","rest","redirect"],"answers":[{"comments":[{"owner":{"account_id":228918,"reputation":5202,"user_id":491527,"accept_rate":69,"display_name":"Matin Kh"},"score":0,"creation_date":1340196589,"post_id":11116782,"comment_id":14569256,"body_markdown":"This class you introduced &#39;UriBuilder&#39; has so many unimplemented methods. One cannot simply instantiate an instance from it.\nI used &#39;java.net.URI location = new java.net.URI(&quot;../index.jsp&quot;);\nResponse.temporaryRedirect(location);&#39; and still nothing happens.","body":"This class you introduced &#39;UriBuilder&#39; has so many unimplemented methods. One cannot simply instantiate an instance from it. I used &#39;java.net.URI location = new java.net.URI(&quot;../index.jsp&quot;); Response.temporaryRedirect(location);&#39; and still nothing happens."},{"owner":{"account_id":228918,"reputation":5202,"user_id":491527,"accept_rate":69,"display_name":"Matin Kh"},"score":1,"creation_date":1340863035,"post_id":11116782,"comment_id":14766505,"body_markdown":"I think we should add a code line like this:     \nthrow new WebApplicationException(Response.temporaryRedirect(location).build());","body":"I think we should add a code line like this:      throw new WebApplicationException(Response.temporaryRedirect(location)&zwnj;&#8203;.build());"}],"tags":[],"owner":{"account_id":123247,"reputation":1606,"user_id":317605,"accept_rate":20,"display_name":"sergiofbsilva"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1340185256,"creation_date":1340185256,"answer_id":11116782,"question_id":11116687,"body_markdown":"Create a URI using `javax.ws.rs.core.UriBuilder` that maps the parameters and other data you want to preserve. Then use `Response.temporaryRedirect` to return a redirect to the client and pass it the URI you‚Äôve built.","title":"Redirecting to a page using restful methods?","body":"<p>Create a URI using <code>javax.ws.rs.core.UriBuilder</code> that maps the parameters and other data you want to preserve. Then use <code>Response.temporaryRedirect</code> to return a redirect to the client and pass it the URI you‚Äôve built.</p>\n"},{"tags":[],"owner":{"account_id":228918,"reputation":5202,"user_id":491527,"accept_rate":69,"display_name":"Matin Kh"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1340862963,"creation_date":1340862963,"answer_id":11238789,"question_id":11116687,"body_markdown":"Finally I come to this conclusion that there are no other way than what I did:&lt;br&gt;\r\nSo here is my solution:\r\n        \r\n    try {\r\n\t\t\tjava.net.URI location = new java.net.URI(&quot;../index.jsp?msg=A_User_Added&quot;);\r\n\t\t\tthrow new WebApplicationException(Response.temporaryRedirect(location).build());\r\n\t\t} catch (URISyntaxException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n&lt;br&gt;\r\nBy adding this block to my code, I got what I needed. Hope it helps you as well.","title":"Redirecting to a page using restful methods?","body":"<p>Finally I come to this conclusion that there are no other way than what I did:<br>\nSo here is my solution:</p>\n\n<pre><code>try {\n        java.net.URI location = new java.net.URI(\"../index.jsp?msg=A_User_Added\");\n        throw new WebApplicationException(Response.temporaryRedirect(location).build());\n    } catch (URISyntaxException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p><br>\nBy adding this block to my code, I got what I needed. Hope it helps you as well.</p>\n"},{"comments":[{"owner":{"account_id":228918,"reputation":5202,"user_id":491527,"accept_rate":69,"display_name":"Matin Kh"},"score":0,"creation_date":1385781895,"post_id":20284575,"comment_id":30283353,"body_markdown":"Doesn&#39;t matter. The problem is now long gone","body":"Doesn&#39;t matter. The problem is now long gone"},{"owner":{"account_id":1965614,"reputation":1415,"user_id":1765981,"accept_rate":33,"display_name":"Shen liang"},"score":1,"creation_date":1385911534,"post_id":20284575,"comment_id":30313083,"body_markdown":"This question is for me too as beginner of java RS before I figure out the above answer through hours searching, study the source code and debugging. That is why I list down my finding to save others time and avoid the wrong approach since I can&#39;t find 1 very clear answer before.","body":"This question is for me too as beginner of java RS before I figure out the above answer through hours searching, study the source code and debugging. That is why I list down my finding to save others time and avoid the wrong approach since I can&#39;t find 1 very clear answer before."}],"tags":[],"owner":{"account_id":1965614,"reputation":1415,"user_id":1765981,"accept_rate":33,"display_name":"Shen liang"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679915331,"creation_date":1385724062,"answer_id":20284575,"question_id":11116687,"body_markdown":"It is not good idea to use the &quot;WebApplicationException&quot; in order to redirect the request. in Jersey (2.4.1) you should be able to redirect the request via the normal servlet way, (request.getServletContext().getRequestDispatcher().forward() or just response.sendRedirect())\r\n\r\nThe following is how Jersey process the request\r\n\r\n    org.glassfish.jersey.servlet.ServletContainer.service(HttpServletRequest request, HttpServletResponse response)\r\n          requestScope.runInScope\r\n               final ContainerResponse response = endpoint.apply(data)\r\n                      methodHandler.invoke(resource, method, args);\r\n               Responder.process(ContainerResponse);\r\n                     \r\n\r\nThat **methodHandler** is your REST service class, **method** is the function in that service class. \r\n\r\nThe step to redirect page become straightforward\r\n\r\n 1. Get the (request, response) through Jersey injection (@Context HttpServletRequest request, @Context HttpServletResponse response) in class field or function parameter\r\n\r\n 2. Call request.getServletContext().getRequestDispatcher() to get the dispatcher for &quot;forward&quot;\r\nor use Response.sendRedirect(url)\r\n\r\nOnce you application is returned (just null), Jersey will try to process the result in the &quot;Responder.process(ContainerResponse)&quot;. In this step, it will use response to set status (204 no contents for your null return). \r\n\r\nSo the key point here is you must finalize/close response object before return from your service function. Otherwise, Jersey may overwrite your output. \r\n\r\nSmall tips on why &quot;WebApplicationException&quot; can overwrite Jersey repsponse. It is because org.glassfish.jersey.server.ServerRuntime.mapException() will use the &quot;webApplicationException.getResponse()&quot; as the return response result. \r\n","title":"Redirecting to a page using restful methods?","body":"<p>It is not good idea to use the &quot;WebApplicationException&quot; in order to redirect the request. in Jersey (2.4.1) you should be able to redirect the request via the normal servlet way, (request.getServletContext().getRequestDispatcher().forward() or just response.sendRedirect())</p>\n<p>The following is how Jersey process the request</p>\n<pre><code>org.glassfish.jersey.servlet.ServletContainer.service(HttpServletRequest request, HttpServletResponse response)\n      requestScope.runInScope\n           final ContainerResponse response = endpoint.apply(data)\n                  methodHandler.invoke(resource, method, args);\n           Responder.process(ContainerResponse);\n                 \n</code></pre>\n<p>That <strong>methodHandler</strong> is your REST service class, <strong>method</strong> is the function in that service class.</p>\n<p>The step to redirect page become straightforward</p>\n<ol>\n<li><p>Get the (request, response) through Jersey injection (@Context HttpServletRequest request, @Context HttpServletResponse response) in class field or function parameter</p>\n</li>\n<li><p>Call request.getServletContext().getRequestDispatcher() to get the dispatcher for &quot;forward&quot;\nor use Response.sendRedirect(url)</p>\n</li>\n</ol>\n<p>Once you application is returned (just null), Jersey will try to process the result in the &quot;Responder.process(ContainerResponse)&quot;. In this step, it will use response to set status (204 no contents for your null return).</p>\n<p>So the key point here is you must finalize/close response object before return from your service function. Otherwise, Jersey may overwrite your output.</p>\n<p>Small tips on why &quot;WebApplicationException&quot; can overwrite Jersey repsponse. It is because org.glassfish.jersey.server.ServerRuntime.mapException() will use the &quot;webApplicationException.getResponse()&quot; as the return response result.</p>\n"},{"tags":[],"owner":{"account_id":4435870,"reputation":141,"user_id":3611742,"display_name":"Joey"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1399458340,"creation_date":1399458340,"answer_id":23515209,"question_id":11116687,"body_markdown":"change your code like this, the addUser() should return a Response Object\r\n\r\n    public Response addUser(@FormParam(&quot;username&quot;) String username,\r\n            @FormParam(&quot;password&quot;) String password,\r\n            @FormParam(&quot;id&quot;) String id,\r\n            @FormParam(&quot;group_name&quot;) String groupName,\r\n            @FormParam(&quot;authority_name&quot;) String authorityName,\r\n            @FormParam(&quot;authority_id&quot;) String authorityId\r\n            )\r\n    {\r\n        //Something will be done here\r\n    \r\n        java.net.URI location = new java.net.URI(&quot;../index.jsp?msg=A_User_Added&quot;);\r\n        return Response.temporaryRedirect(location).build()\r\n    \r\n    }\r\n\r\n ","title":"Redirecting to a page using restful methods?","body":"<p>change your code like this, the addUser() should return a Response Object</p>\n\n<pre><code>public Response addUser(@FormParam(\"username\") String username,\n        @FormParam(\"password\") String password,\n        @FormParam(\"id\") String id,\n        @FormParam(\"group_name\") String groupName,\n        @FormParam(\"authority_name\") String authorityName,\n        @FormParam(\"authority_id\") String authorityId\n        )\n{\n    //Something will be done here\n\n    java.net.URI location = new java.net.URI(\"../index.jsp?msg=A_User_Added\");\n    return Response.temporaryRedirect(location).build()\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7319500,"reputation":21,"user_id":5575949,"display_name":"Divya Jaiswal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1447841871,"creation_date":1447840814,"answer_id":33776906,"question_id":11116687,"body_markdown":"See below the usage of redirecting in web services:\r\n\r\n    public class LoginWebService {\r\n\t\t \r\n\t\t@POST\r\n\t\t@Path(&quot;/check&quot;)\r\n\t\tpublic Response checkDetails(@FormParam(&quot;name&quot;) String name,@FormParam(&quot;pass&quot;) String pass ) throws URISyntaxException  {\r\n\t\t\t\r\n\t\t\tURI uri = new URI(&quot;/login/success&quot;);\r\n\t\t\tURI uri2= new URI(&quot;http://localhost:9090/NewWebServiceproject/new/login/failure&quot;);\r\n\t\t\t\r\n\t\t\tif(name.equals(&quot;admin&quot;) &amp;&amp; pass.equals(&quot;pass&quot;))\r\n\t\t//@Path(&quot;http://localhost:8010/NewWebServiceproject/new/login/success&quot;);\r\n\t\t\t\t{\r\n\t\t\t\treturn Response.temporaryRedirect(uri).build();\r\n\t\t\t\t//Response.seeOther(uri);\r\n\t\t\t\t//return Response.status(200).entity(&quot;user successfully login&quot;).build();\r\n\t\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\treturn Response.temporaryRedirect(uri2).build();\r\n\t\t\t\t//Response.seeOther(uri2);\r\n\t\t\t\t//return Response.status(200).entity(&quot;user logon failed&quot;).build();\r\n\t\t\t\t}\r\n\t\t}\r\n\t\t@POST\r\n\t\t@Path(&quot;/success&quot;)\r\n\t\tpublic Response successpage()\r\n\t\t{\r\n\t\treturn Response.status(200).entity(&quot;user successfully login&quot;).build();\r\n\t\t}\r\n\t\t@POST\r\n\t\t@Path(&quot;/failure&quot;)\r\n\t\tpublic Response failurepage()\r\n\t\t{\r\n\t\treturn Response.status(200).entity(&quot;user logon failed&quot;).build();\r\n\t\t}\r\n\t}","title":"Redirecting to a page using restful methods?","body":"<p>See below the usage of redirecting in web services:</p>\n\n<pre><code>public class LoginWebService {\n\n    @POST\n    @Path(\"/check\")\n    public Response checkDetails(@FormParam(\"name\") String name,@FormParam(\"pass\") String pass ) throws URISyntaxException  {\n\n        URI uri = new URI(\"/login/success\");\n        URI uri2= new URI(\"http://localhost:9090/NewWebServiceproject/new/login/failure\");\n\n        if(name.equals(\"admin\") &amp;&amp; pass.equals(\"pass\"))\n    //@Path(\"http://localhost:8010/NewWebServiceproject/new/login/success\");\n            {\n            return Response.temporaryRedirect(uri).build();\n            //Response.seeOther(uri);\n            //return Response.status(200).entity(\"user successfully login\").build();\n            }\n        else\n        {\n            return Response.temporaryRedirect(uri2).build();\n            //Response.seeOther(uri2);\n            //return Response.status(200).entity(\"user logon failed\").build();\n            }\n    }\n    @POST\n    @Path(\"/success\")\n    public Response successpage()\n    {\n    return Response.status(200).entity(\"user successfully login\").build();\n    }\n    @POST\n    @Path(\"/failure\")\n    public Response failurepage()\n    {\n    return Response.status(200).entity(\"user logon failed\").build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":228918,"reputation":5202,"user_id":491527,"accept_rate":69,"display_name":"Matin Kh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58644,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":11116782,"answer_count":5,"score":10,"last_activity_date":1679915331,"creation_date":1340184953,"question_id":11116687,"body_markdown":"I&#39;ve created a page which asks user to fill some form fields and when he submits, the form is sent to a Restful method which you can see below:&lt;br&gt;\r\n        \r\n    @POST\r\n\t@Path(&quot;addUser&quot;)\r\n\t@Consumes(MediaType.APPLICATION_FORM_URLENCODED)\r\n\tpublic void addUser(@FormParam(&quot;username&quot;) String username,\r\n\t\t\t@FormParam(&quot;password&quot;) String password,\r\n\t\t\t@FormParam(&quot;id&quot;) String id,\r\n\t\t\t@FormParam(&quot;group_name&quot;) String groupName,\r\n\t\t\t@FormParam(&quot;authority_name&quot;) String authorityName,\r\n\t\t\t@FormParam(&quot;authority_id&quot;) String authorityId\r\n\t\t\t)\r\n    {\r\n        //Something will be done here\r\n    }\r\n&lt;br&gt;\r\nHow can I redirect the user at the end of this function to (let&#39;s say) index.jsp?","title":"Redirecting to a page using restful methods?","body":"<p>I've created a page which asks user to fill some form fields and when he submits, the form is sent to a Restful method which you can see below:<br></p>\n\n<pre><code>@POST\n@Path(\"addUser\")\n@Consumes(MediaType.APPLICATION_FORM_URLENCODED)\npublic void addUser(@FormParam(\"username\") String username,\n        @FormParam(\"password\") String password,\n        @FormParam(\"id\") String id,\n        @FormParam(\"group_name\") String groupName,\n        @FormParam(\"authority_name\") String authorityName,\n        @FormParam(\"authority_id\") String authorityId\n        )\n{\n    //Something will be done here\n}\n</code></pre>\n\n<p><br>\nHow can I redirect the user at the end of this function to (let's say) index.jsp?</p>\n"},{"tags":["java","jmeter","load-testing","throughput"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679915218,"creation_date":1679915218,"answer_id":75855009,"question_id":75854641,"body_markdown":"I don&#39;t think you will be able to &quot;put load&quot; using [JMeterUtils][1], it&#39;s just a helper class which allows you to set and get [JMeter Properties][2] \r\n\r\nThe &quot;load&quot; is generated by the [Thread Group][3] where you can set the desired number of threads (virtual users), ramp-up period, number of iterations, duration, etc. \r\n\r\nOnce started each thread begins executing [Samplers][4] as fast as it can. \r\n\r\nSo if you need to execute 72000 requests in 2 hours with 25 users you need the following setup:\r\n\r\n 1. Thread Group with 25 users, unlimited iteratinos and 2 hours duration:\r\n\r\n    [![enter image description here][5]][5]\r\n 2. A Sampler which will be executing the real work, i.e. sending a request to the system under test. A very minimal one which sends simple single GET request to http://example.com is below\r\n\r\n    [![enter image description here][6]][6]\r\n 3. A [Constant Throughput Timer][7] to limit JMeter to send requests at 10 requests per second rate\r\n\r\n    [![enter image description here][8]][8]\r\n\r\nIf you need to start the test from your Java application you can either run an existing [.jmx script][9] like outlined above using [StandardJMeterEngine][10] class or create the test from scratch using relevant JMeter API classes ([ThreadGroup][11], [TestPlan][12], [HTTPSamplerProxy][13], etc.)\r\n\r\n    \r\nIf you want to use properties which are set by your JMeterUtils class you can use [__P() function][14] like `${__P(load.thread-count-in-group,)}` \r\n\r\n[![enter image description here][15]][15]\r\n\r\n\r\n  [1]: https://jmeter.apache.org/api/org/apache/jmeter/util/JMeterUtils.html\r\n  [2]: https://jmeter.apache.org/usermanual/properties_reference.html\r\n  [3]: https://jmeter.apache.org/usermanual/component_reference.html#Thread_Group\r\n  [4]: https://jmeter.apache.org/usermanual/component_reference.html#samplers\r\n  [5]: https://i.stack.imgur.com/LbUNA.png\r\n  [6]: https://i.stack.imgur.com/5wueF.png\r\n  [7]: https://www.blazemeter.com/blog/jmeter-throughput\r\n  [8]: https://i.stack.imgur.com/MwFVF.png\r\n  [9]: https://cwiki.apache.org/confluence/display/JMETER/JmxTestPlan\r\n  [10]: https://jmeter.apache.org/api/org/apache/jmeter/engine/StandardJMeterEngine.html\r\n  [11]: https://jmeter.apache.org/api/org/apache/jmeter/threads/ThreadGroup.html\r\n  [12]: https://jmeter.apache.org/api/org/apache/jmeter/testelement/TestPlan.html\r\n  [13]: https://jmeter.apache.org/api/org/apache/jmeter/protocol/http/sampler/HTTPSamplerProxy.html\r\n  [14]: https://jmeter.apache.org/usermanual/functions.html#__P\r\n  [15]: https://i.stack.imgur.com/lmwTe.png","title":"Unable to understand JmeterUtils properties","body":"<p>I don't think you will be able to &quot;put load&quot; using <a href=\"https://jmeter.apache.org/api/org/apache/jmeter/util/JMeterUtils.html\" rel=\"nofollow noreferrer\">JMeterUtils</a>, it's just a helper class which allows you to set and get <a href=\"https://jmeter.apache.org/usermanual/properties_reference.html\" rel=\"nofollow noreferrer\">JMeter Properties</a></p>\n<p>The &quot;load&quot; is generated by the <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#Thread_Group\" rel=\"nofollow noreferrer\">Thread Group</a> where you can set the desired number of threads (virtual users), ramp-up period, number of iterations, duration, etc.</p>\n<p>Once started each thread begins executing <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#samplers\" rel=\"nofollow noreferrer\">Samplers</a> as fast as it can.</p>\n<p>So if you need to execute 72000 requests in 2 hours with 25 users you need the following setup:</p>\n<ol>\n<li><p>Thread Group with 25 users, unlimited iteratinos and 2 hours duration:</p>\n<p><a href=\"https://i.stack.imgur.com/LbUNA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LbUNA.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>A Sampler which will be executing the real work, i.e. sending a request to the system under test. A very minimal one which sends simple single GET request to <a href=\"http://example.com\" rel=\"nofollow noreferrer\">http://example.com</a> is below</p>\n<p><a href=\"https://i.stack.imgur.com/5wueF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5wueF.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>A <a href=\"https://www.blazemeter.com/blog/jmeter-throughput\" rel=\"nofollow noreferrer\">Constant Throughput Timer</a> to limit JMeter to send requests at 10 requests per second rate</p>\n<p><a href=\"https://i.stack.imgur.com/MwFVF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MwFVF.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n<p>If you need to start the test from your Java application you can either run an existing <a href=\"https://cwiki.apache.org/confluence/display/JMETER/JmxTestPlan\" rel=\"nofollow noreferrer\">.jmx script</a> like outlined above using <a href=\"https://jmeter.apache.org/api/org/apache/jmeter/engine/StandardJMeterEngine.html\" rel=\"nofollow noreferrer\">StandardJMeterEngine</a> class or create the test from scratch using relevant JMeter API classes (<a href=\"https://jmeter.apache.org/api/org/apache/jmeter/threads/ThreadGroup.html\" rel=\"nofollow noreferrer\">ThreadGroup</a>, <a href=\"https://jmeter.apache.org/api/org/apache/jmeter/testelement/TestPlan.html\" rel=\"nofollow noreferrer\">TestPlan</a>, <a href=\"https://jmeter.apache.org/api/org/apache/jmeter/protocol/http/sampler/HTTPSamplerProxy.html\" rel=\"nofollow noreferrer\">HTTPSamplerProxy</a>, etc.)</p>\n<p>If you want to use properties which are set by your JMeterUtils class you can use <a href=\"https://jmeter.apache.org/usermanual/functions.html#__P\" rel=\"nofollow noreferrer\">__P() function</a> like <code>${__P(load.thread-count-in-group,)}</code></p>\n<p><a href=\"https://i.stack.imgur.com/lmwTe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lmwTe.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5137581,"reputation":300,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679915218,"creation_date":1679912782,"question_id":75854641,"body_markdown":"I am trying to put load from my java application using Apache&#39;s JMeterUtils. I am new to Jmeter , I am a bit confused about the values I should put in to acheive 72k load in 2hours. \r\n\r\n    load.throughput.max=100 (load put per sec ?)\r\n    load.thread-count-in-group=25 (total number of threads runnings)\r\n    load.duration.seconds=7200 (load will run for 2hours)\r\n    load.ramp-up.duration.seconds=20 (time to bring all threads up)\r\n\r\nIs my understanding correct about these properties ? I was referring to below documentation  [JMeterUtils][1] but was not able to find any thing about these properties. Can somebody please correct me if I am wrong in my understanding. \r\n\r\n\r\n  [1]: http://svn.apache.org/repos/asf/jmeter/branches/rel-2-2/docs/api/org/apache/jmeter/util/JMeterUtils.html#loadProperties(java.lang.String)","title":"Unable to understand JmeterUtils properties","body":"<p>I am trying to put load from my java application using Apache's JMeterUtils. I am new to Jmeter , I am a bit confused about the values I should put in to acheive 72k load in 2hours.</p>\n<pre><code>load.throughput.max=100 (load put per sec ?)\nload.thread-count-in-group=25 (total number of threads runnings)\nload.duration.seconds=7200 (load will run for 2hours)\nload.ramp-up.duration.seconds=20 (time to bring all threads up)\n</code></pre>\n<p>Is my understanding correct about these properties ? I was referring to below documentation  <a href=\"http://svn.apache.org/repos/asf/jmeter/branches/rel-2-2/docs/api/org/apache/jmeter/util/JMeterUtils.html#loadProperties(java.lang.String)\" rel=\"nofollow noreferrer\">JMeterUtils</a> but was not able to find any thing about these properties. Can somebody please correct me if I am wrong in my understanding.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1679915072,"post_id":75854985,"comment_id":133800523,"body_markdown":"&quot;AccessDenied&quot; sounds pretty understandable. You aren&#39;t allowed to access whatever it is you are trying to access. Sounds like less of a programming error and more of a problem with the permissions of the filesystem","body":"&quot;AccessDenied&quot; sounds pretty understandable. You aren&#39;t allowed to access whatever it is you are trying to access. Sounds like less of a programming error and more of a problem with the permissions of the filesystem"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679915501,"post_id":75854985,"comment_id":133800618,"body_markdown":"You need to include the *full* stack trace in your question.","body":"You need to include the <i>full</i> stack trace in your question."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679920839,"post_id":75854985,"comment_id":133801976,"body_markdown":"I guess You run spring boot as a jar. then your code `FileSystemResource(&quot;./&quot;)` will access your jar file. not the working directory (I guess).  check your jar is include the zip file ?","body":"I guess You run spring boot as a jar. then your code <code>FileSystemResource(&quot;.&#47;&quot;)</code> will access your jar file. not the working directory (I guess).  check your jar is include the zip file ?"},{"owner":{"account_id":21884076,"reputation":107,"user_id":16171930,"display_name":"Aniket Thorat"},"score":0,"creation_date":1679926564,"post_id":75854985,"comment_id":133803821,"body_markdown":"no i am running it as spring boot app","body":"no i am running it as spring boot app"}],"owner":{"account_id":21884076,"reputation":107,"user_id":16171930,"display_name":"Aniket Thorat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679915008,"creation_date":1679915008,"question_id":75854985,"body_markdown":"I am trying to download zip from spring boot rest api but getting error.\r\n\r\n    java.nio.file.AccessDeniedException: .\r\n    \tat sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:83) ~[na:1.8.0_92]\r\n    \tat sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:97) ~[na:1.8.0_92] \r\n\r\nDownload file location.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PfQkw.png\r\n\r\nCode for downloading.\r\n\t\r\n\r\n    @PostMapping(&quot;/downlode&quot;)\r\n    \tpublic ResponseEntity&lt;FileSystemResource&gt; generator(@RequestBody Input input)\r\n    \t\t\tthrows IOException, JSONException, InterruptedException {\r\n    \t\t\r\n    \t\tFileSystemResource fileResource = new FileSystemResource(&quot;./&quot;);\r\n    \t\tHttpHeaders headers = new HttpHeaders();\r\n    \t\theaders.setContentType(MediaType.APPLICATION_OCTET_STREAM);\r\n    \t\tString filename = &quot;myarchive.zip&quot;;\r\n    \t\theaders.setContentDisposition(ContentDisposition.attachment().filename(filename).build());\r\n    \t\theaders.setContentLength(((FileSystemResource) fileResource).contentLength());\r\n    \t\treturn ResponseEntity.ok().headers(headers).body(fileResource);\r\n    \t} ","title":"Download Zip using Spring Boot","body":"<p>I am trying to download zip from spring boot rest api but getting error.</p>\n<pre><code>java.nio.file.AccessDeniedException: .\n    at sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:83) ~[na:1.8.0_92]\n    at sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:97) ~[na:1.8.0_92] \n</code></pre>\n<p>Download file location.</p>\n<p><a href=\"https://i.stack.imgur.com/PfQkw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PfQkw.png\" alt=\"enter image description here\" /></a></p>\n<p>Code for downloading.</p>\n<pre><code>@PostMapping(&quot;/downlode&quot;)\n    public ResponseEntity&lt;FileSystemResource&gt; generator(@RequestBody Input input)\n            throws IOException, JSONException, InterruptedException {\n        \n        FileSystemResource fileResource = new FileSystemResource(&quot;./&quot;);\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\n        String filename = &quot;myarchive.zip&quot;;\n        headers.setContentDisposition(ContentDisposition.attachment().filename(filename).build());\n        headers.setContentLength(((FileSystemResource) fileResource).contentLength());\n        return ResponseEntity.ok().headers(headers).body(fileResource);\n    } \n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":402018,"reputation":16610,"user_id":768935,"accept_rate":93,"display_name":"allprog"},"score":0,"creation_date":1381937431,"post_id":19407187,"comment_id":28767490,"body_markdown":"possible duplicate of [What is the order of the Constructors in this Java Code?](http://stackoverflow.com/questions/9904918/what-is-the-order-of-the-constructors-in-this-java-code)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/9904918/what-is-the-order-of-the-constructors-in-this-java-code\">What is the order of the Constructors in this Java Code?</a>"},{"owner":{"account_id":9439654,"reputation":470,"user_id":7266331,"display_name":"sarthakgupta072"},"score":0,"creation_date":1505886127,"post_id":19407187,"comment_id":79589685,"body_markdown":"See this Answer: [This](https://stackoverflow.com/questions/9586367/constructor-of-subclass-in-java)\nwill make your concepts more clearer.","body":"See this Answer: <a href=\"https://stackoverflow.com/questions/9586367/constructor-of-subclass-in-java\">This</a> will make your concepts more clearer."}],"answers":[{"comments":[{"owner":{"account_id":95764,"reputation":12019,"user_id":260633,"accept_rate":100,"display_name":"Dev"},"score":3,"creation_date":1381938568,"post_id":19407275,"comment_id":28768214,"body_markdown":"For further reading: [JLS 12.5 Creation of New Class Instances](http://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.5) specifies the 5 steps for processing a constructor. Arguments, Alt Constructors (Recursive), Super Constructors (Recursive), Initializers, and Body","body":"For further reading: <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.5\" rel=\"nofollow noreferrer\">JLS 12.5 Creation of New Class Instances</a> specifies the 5 steps for processing a constructor. Arguments, Alt Constructors (Recursive), Super Constructors (Recursive), Initializers, and Body"}],"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":1,"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1381936684,"creation_date":1381936684,"answer_id":19407275,"question_id":19407187,"body_markdown":"These are instance fields\r\n\r\n    private Bread b = new Bread();\r\n    private Cheese c = new Cheese();\r\n    private Lettuce l = new Lettuce();\r\n\r\nThey only exist (execute) if an instance is created.\r\n\r\nThe first thing that runs in your program is \r\n\r\n    public static void main(String[] args) {\r\n         new Sandwich();\r\n    }\r\n\r\nSuper constructors are called implicitly as the first thing in each constructor, ie. before `System.out.println`\r\n\r\n    class Meal {\r\n        Meal() { System.out.println(&quot;Meal()&quot;); }\r\n    }\r\n     \r\n    class Lunch extends Meal {\r\n        Lunch() { System.out.println(&quot;Lunch()&quot;); }\r\n    }\r\n    \r\n    class PortableLunch extends Lunch {\r\n        PortableLunch() { System.out.println(&quot;PortableLunch()&quot;);}\r\n    }\r\n\r\nAfter the `super()` calls, instance fields are instantiated again before the constructor code.\r\n\r\nThe order, reversed\r\n\r\n    new Sandwich(); // prints last\r\n    // the instance fields\r\n    super(); // new PortableLunch() prints third\r\n    super(); // new Lunch() prints second\r\n    super(); // new Meal(); prints first","title":"Java Constructors - Order of execution in an inheritance hierarchy","body":"<p>These are instance fields</p>\n\n<pre><code>private Bread b = new Bread();\nprivate Cheese c = new Cheese();\nprivate Lettuce l = new Lettuce();\n</code></pre>\n\n<p>They only exist (execute) if an instance is created.</p>\n\n<p>The first thing that runs in your program is </p>\n\n<pre><code>public static void main(String[] args) {\n     new Sandwich();\n}\n</code></pre>\n\n<p>Super constructors are called implicitly as the first thing in each constructor, ie. before <code>System.out.println</code></p>\n\n<pre><code>class Meal {\n    Meal() { System.out.println(\"Meal()\"); }\n}\n\nclass Lunch extends Meal {\n    Lunch() { System.out.println(\"Lunch()\"); }\n}\n\nclass PortableLunch extends Lunch {\n    PortableLunch() { System.out.println(\"PortableLunch()\");}\n}\n</code></pre>\n\n<p>After the <code>super()</code> calls, instance fields are instantiated again before the constructor code.</p>\n\n<p>The order, reversed</p>\n\n<pre><code>new Sandwich(); // prints last\n// the instance fields\nsuper(); // new PortableLunch() prints third\nsuper(); // new Lunch() prints second\nsuper(); // new Meal(); prints first\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1781636,"reputation":7670,"user_id":1624202,"accept_rate":61,"display_name":"Cruncher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381937082,"creation_date":1381936715,"answer_id":19407290,"question_id":19407187,"body_markdown":"    private Bread b = new Bread();\r\n    private Cheese c = new Cheese();\r\n    private Lettuce l = new Lettuce();\r\n\r\nThese initializers are put into the Sandwich constructor by the compiler after the super call to it&#39;s parent class. \r\n\r\nIf these were static, then they would happen first, because static initializers happen on class load.\r\n\r\n","title":"Java Constructors - Order of execution in an inheritance hierarchy","body":"<pre><code>private Bread b = new Bread();\nprivate Cheese c = new Cheese();\nprivate Lettuce l = new Lettuce();\n</code></pre>\n\n<p>These initializers are put into the Sandwich constructor by the compiler after the super call to it's parent class. </p>\n\n<p>If these were static, then they would happen first, because static initializers happen on class load.</p>\n"},{"tags":[],"owner":{"account_id":1018642,"reputation":1775,"user_id":1029621,"accept_rate":60,"display_name":"Eugen Halca"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1381936879,"creation_date":1381936879,"answer_id":19407344,"question_id":19407187,"body_markdown":"&gt;  even though their constructors where called after.\r\n\r\nNot after, here how construstor method looks like to compiler :\r\n\r\n    public Sandwich(){\r\n        super();// note this calls super constructor, which will call it&#39;s super and so on till Object&#39;s constructor\r\n        //initiate member variables\r\n        System.out.println(&quot;Sandwich()&quot;);\r\n    }","title":"Java Constructors - Order of execution in an inheritance hierarchy","body":"<blockquote>\n  <p>even though their constructors where called after.</p>\n</blockquote>\n\n<p>Not after, here how construstor method looks like to compiler :</p>\n\n<pre><code>public Sandwich(){\n    super();// note this calls super constructor, which will call it's super and so on till Object's constructor\n    //initiate member variables\n    System.out.println(\"Sandwich()\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":402018,"reputation":16610,"user_id":768935,"accept_rate":93,"display_name":"allprog"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1381937217,"creation_date":1381937217,"answer_id":19407486,"question_id":19407187,"body_markdown":"The first call in a constructor is always the `super(...)`. This call is automatically inserted by the compiler if you don&#39;t write it down explicitly. No calls on the constructed object can happen before the call to `super()` returned. After `super()` finished, the fields are initialized in the order of appearance and then the rest of the constructor is executed. ","title":"Java Constructors - Order of execution in an inheritance hierarchy","body":"<p>The first call in a constructor is always the <code>super(...)</code>. This call is automatically inserted by the compiler if you don't write it down explicitly. No calls on the constructed object can happen before the call to <code>super()</code> returned. After <code>super()</code> finished, the fields are initialized in the order of appearance and then the rest of the constructor is executed. </p>\n"},{"tags":[],"owner":{"account_id":2205705,"reputation":3873,"user_id":1948990,"accept_rate":20,"display_name":"matt forsythe"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1381937446,"creation_date":1381937446,"answer_id":19407587,"question_id":19407187,"body_markdown":"I think there are two things going on here that are throwing you off.  The first is that `main` is a static method, where as the member variables b, c, and l are non-static instance variables.  That means that they belong to the objects of the class, not the class itself.  So when the class is initialized to run the main method, the contructors of Bread, Cheese, and Lettuce are not called, since no instances of Sandwich have been created.\r\n\r\nNot until main actually run, and calls `new Sandwich()` are any objects actually constructed.  At that point, the order of operations is:\r\n&gt; 1. initialize member fields of the base class(es)\r\n&gt; 2. run the base class(es) constructor(s)\r\n&gt; 3. initialize member fields of this class\r\n&gt; 4. run the constructor of this class\r\n\r\nThis is done recursively, so in this case, the order would be\r\n&gt; 1. init fields of Meal (none)\r\n&gt; 2. run constructor of Meal (prints &quot;Meal&quot;)\r\n&gt; 3. init fields of Lunch (none)\r\n&gt; 4. run constructor of Lunch (prints &quot;Lunch&quot;)\r\n&gt; 5. init fields of PortableLunch (none)\r\n&gt; 6. run constructor of PortableLunch (prints &quot;PortableLunch&quot;)\r\n&gt; 7. init fields of Sandwich (prints &quot;Bread&quot;, &quot;Cheese&quot;, and &quot;Lettuce&quot;)\r\n&gt; 8. run constructor of Sandwich (prints &quot;Sandwich&quot;)\r\n\r\nThe purpose of this order is to ensure that the base class is fully initialized before any code in the subclass is run.  This is needed because the within the constructor of the sub-class, it may call a method on the base class.  Bad things would happen if that base class did not initialize its members first.","title":"Java Constructors - Order of execution in an inheritance hierarchy","body":"<p>I think there are two things going on here that are throwing you off.  The first is that <code>main</code> is a static method, where as the member variables b, c, and l are non-static instance variables.  That means that they belong to the objects of the class, not the class itself.  So when the class is initialized to run the main method, the contructors of Bread, Cheese, and Lettuce are not called, since no instances of Sandwich have been created.</p>\n\n<p>Not until main actually run, and calls <code>new Sandwich()</code> are any objects actually constructed.  At that point, the order of operations is:</p>\n\n<blockquote>\n  <ol>\n  <li>initialize member fields of the base class(es)</li>\n  <li>run the base class(es) constructor(s)</li>\n  <li>initialize member fields of this class</li>\n  <li>run the constructor of this class</li>\n  </ol>\n</blockquote>\n\n<p>This is done recursively, so in this case, the order would be</p>\n\n<blockquote>\n  <ol>\n  <li>init fields of Meal (none)</li>\n  <li>run constructor of Meal (prints \"Meal\")</li>\n  <li>init fields of Lunch (none)</li>\n  <li>run constructor of Lunch (prints \"Lunch\")</li>\n  <li>init fields of PortableLunch (none)</li>\n  <li>run constructor of PortableLunch (prints \"PortableLunch\")</li>\n  <li>init fields of Sandwich (prints \"Bread\", \"Cheese\", and \"Lettuce\")</li>\n  <li>run constructor of Sandwich (prints \"Sandwich\")</li>\n  </ol>\n</blockquote>\n\n<p>The purpose of this order is to ensure that the base class is fully initialized before any code in the subclass is run.  This is needed because the within the constructor of the sub-class, it may call a method on the base class.  Bad things would happen if that base class did not initialize its members first.</p>\n"}],"owner":{"account_id":222592,"reputation":1160,"user_id":481293,"accept_rate":66,"display_name":"ade19"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12445,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":19407275,"answer_count":5,"score":22,"last_activity_date":1679914906,"creation_date":1381936481,"question_id":19407187,"body_markdown":"Consider the code below:\r\n\r\n\t  class Meal {\r\n\t\tMeal() { System.out.println(&quot;Meal()&quot;); }\r\n\t  }\r\n\r\n\t  class Bread {\r\n\t\tBread() { System.out.println(&quot;Bread()&quot;); }\r\n\t  }\r\n\r\n\t  class Cheese {\r\n\t\tCheese() { System.out.println(&quot;Cheese()&quot;); }\r\n\t  }\r\n    public static void sdadsdt(){\r\n    \r\n    }\r\n\t  class Lettuce {\r\n\t\tLettuce() { System.out.println(&quot;Lettuce()&quot;); }\r\n\t  }\r\n\r\n\t  class Lunch extends Meal {\r\n\t\tLunch() { System.out.println(&quot;Lunch()&quot;); }\r\n\t  }\r\n\r\n\t  class PortableLunch extends Lunch {\r\n\t\tPortableLunch() { System.out.println(&quot;PortableLunch()&quot;);}\r\n\t  }\r\n\r\n\t  class Sandwich extends PortableLunch {\r\n\t\tprivate Bread b = new Bread();\r\n\t\tprivate Cheese c = new Cheese();\r\n\t\tprivate Lettuce l = new Lettuce();\r\n\t\tpublic Sandwich() {\r\n\t\t  System.out.println(&quot;Sandwich()&quot;);\r\n\t\t}\r\n\t\tpublic static void main(String[] args) {\r\n\t\t  new Sandwich();\r\n\t\t}\r\n\t  } \r\n\r\nBased on my understanding of class member initialization and the order of constructor execution, I expected the output to be:\r\n\r\n    Bread()\r\n    Cheese()\r\n    Lettuce()\r\n    Meal()\r\n    Lunch()\r\n    PortableLunch()    \r\n    Sandwich()\r\n\r\nI believed that the class members were initialized even before the main method was called. However, when I ran the program, I received the following output:\r\n\r\n    Meal()\r\n    Lunch()\r\n    PortableLunch()\r\n    Bread()\r\n    Cheese()\r\n    Lettuce()\r\n    Sandwich()\r\n\r\nI am confused as to why Meal(), Lunch(), and PortableLunch() are executed before Bread(), Cheese(), and Lettuce(), even though their constructors were called after.","title":"Java Constructors - Order of execution in an inheritance hierarchy","body":"<p>Consider the code below:</p>\n<pre><code>  class Meal {\n    Meal() { System.out.println(&quot;Meal()&quot;); }\n  }\n\n  class Bread {\n    Bread() { System.out.println(&quot;Bread()&quot;); }\n  }\n\n  class Cheese {\n    Cheese() { System.out.println(&quot;Cheese()&quot;); }\n  }\npublic static void sdadsdt(){\n\n}\n  class Lettuce {\n    Lettuce() { System.out.println(&quot;Lettuce()&quot;); }\n  }\n\n  class Lunch extends Meal {\n    Lunch() { System.out.println(&quot;Lunch()&quot;); }\n  }\n\n  class PortableLunch extends Lunch {\n    PortableLunch() { System.out.println(&quot;PortableLunch()&quot;);}\n  }\n\n  class Sandwich extends PortableLunch {\n    private Bread b = new Bread();\n    private Cheese c = new Cheese();\n    private Lettuce l = new Lettuce();\n    public Sandwich() {\n      System.out.println(&quot;Sandwich()&quot;);\n    }\n    public static void main(String[] args) {\n      new Sandwich();\n    }\n  } \n</code></pre>\n<p>Based on my understanding of class member initialization and the order of constructor execution, I expected the output to be:</p>\n<pre><code>Bread()\nCheese()\nLettuce()\nMeal()\nLunch()\nPortableLunch()    \nSandwich()\n</code></pre>\n<p>I believed that the class members were initialized even before the main method was called. However, when I ran the program, I received the following output:</p>\n<pre><code>Meal()\nLunch()\nPortableLunch()\nBread()\nCheese()\nLettuce()\nSandwich()\n</code></pre>\n<p>I am confused as to why Meal(), Lunch(), and PortableLunch() are executed before Bread(), Cheese(), and Lettuce(), even though their constructors were called after.</p>\n"},{"tags":["java","spring-boot","annotations"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679822237,"post_id":75846365,"comment_id":133786489,"body_markdown":"I think you need to read some annotation processor tutorials.","body":"I think you need to read some annotation processor tutorials."}],"owner":{"account_id":11324157,"reputation":41,"user_id":12067644,"display_name":"dan k"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679914637,"creation_date":1679814837,"question_id":75846365,"body_markdown":"I&#39;d like to create simple custom annotation which would be able to switch class string fields to upper case.\r\nI&#39;ve created annotation interface itself:\r\n\r\n```\r\n@Documented\r\n@Target(ElementType.FIELD)\r\n@Inherited\r\n@Retention(RetentionPolicy.SOURCE)\r\npublic @interface ToUpperCaseAnn {\r\n    String info() default &quot;No String value&quot;;\r\n}\r\n```\r\n\r\nand processor class:\r\n```\r\n@SupportedAnnotationTypes(&quot;org.example.ToUpperCaseAnn&quot;)\r\n@SupportedSourceVersion(SourceVersion.RELEASE_11)\r\n@AutoService(Processor.class)\r\npublic class ToUpperCaseAnnProcessor extends AbstractProcessor{\r\n\r\n    @Override\r\n    public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\r\n        for (TypeElement annotation : annotations) {\r\n            Set&lt;? extends Element&gt; annotatedElements = roundEnv.getElementsAnnotatedWith(annotation);\r\n            for (Element annotatedElement : annotatedElements) {\r\n                annotatedElement.toString().toUpperCase();\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nAnd also i&#39;ve modify pom.xml file:\r\n```\r\n&lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.5.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;compilerArgument&gt;\r\n                        -proc:none\r\n                    &lt;/compilerArgument&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\nAfter I&#39;ve tried to test this annotation by adding it to field in Main class:\r\n\r\n```\r\npublic class Main {\r\n    @ToUpperCaseAnn()\r\n    static String ts = &quot;abs&quot;;\r\n    public static void main(String[] args) {\r\n        System.out.println(ts);\r\n    }\r\n}\r\n```\r\nBut output was in lower case - &quot;abc&quot;\r\n\r\nSo, it seems like my processor class hadn&#39;t been used by compiler at all.\r\n\r\nMy questions are:\r\n1) How can i add processor class to &quot;compiler scope&quot;? I thought @SupportedAnnotationTypes would be enough :)\r\n\r\n2) Will it work even if compiler will use processor class? Like i modify elements but i don&#39;t understand where and how they are modifying :(\r\n```\r\nfor (Element annotatedElement : annotatedElements) {\r\n                annotatedElement.toString().toUpperCase();\r\n            }\r\n```\r\n\r\n\r\n","title":"Simple custom annotation Java","body":"<p>I'd like to create simple custom annotation which would be able to switch class string fields to upper case.\nI've created annotation interface itself:</p>\n<pre><code>@Documented\n@Target(ElementType.FIELD)\n@Inherited\n@Retention(RetentionPolicy.SOURCE)\npublic @interface ToUpperCaseAnn {\n    String info() default &quot;No String value&quot;;\n}\n</code></pre>\n<p>and processor class:</p>\n<pre><code>@SupportedAnnotationTypes(&quot;org.example.ToUpperCaseAnn&quot;)\n@SupportedSourceVersion(SourceVersion.RELEASE_11)\n@AutoService(Processor.class)\npublic class ToUpperCaseAnnProcessor extends AbstractProcessor{\n\n    @Override\n    public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n        for (TypeElement annotation : annotations) {\n            Set&lt;? extends Element&gt; annotatedElements = roundEnv.getElementsAnnotatedWith(annotation);\n            for (Element annotatedElement : annotatedElements) {\n                annotatedElement.toString().toUpperCase();\n            }\n        }\n\n        return true;\n    }\n}\n</code></pre>\n<p>And also i've modify pom.xml file:</p>\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;compilerArgument&gt;\n                        -proc:none\n                    &lt;/compilerArgument&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>After I've tried to test this annotation by adding it to field in Main class:</p>\n<pre><code>public class Main {\n    @ToUpperCaseAnn()\n    static String ts = &quot;abs&quot;;\n    public static void main(String[] args) {\n        System.out.println(ts);\n    }\n}\n</code></pre>\n<p>But output was in lower case - &quot;abc&quot;</p>\n<p>So, it seems like my processor class hadn't been used by compiler at all.</p>\n<p>My questions are:</p>\n<ol>\n<li><p>How can i add processor class to &quot;compiler scope&quot;? I thought @SupportedAnnotationTypes would be enough :)</p>\n</li>\n<li><p>Will it work even if compiler will use processor class? Like i modify elements but i don't understand where and how they are modifying :(</p>\n</li>\n</ol>\n<pre><code>for (Element annotatedElement : annotatedElements) {\n                annotatedElement.toString().toUpperCase();\n            }\n</code></pre>\n"},{"tags":["java","android","eclipse","methods","payment"],"comments":[{"owner":{"account_id":2032926,"reputation":24901,"user_id":1816093,"accept_rate":57,"display_name":"Drew"},"score":0,"creation_date":1450845049,"post_id":18024103,"comment_id":56598254,"body_markdown":"Does anyone think this isn&#39;t spam, see embedded content: http://i.imgur.com/srtvEAN.jpg","body":"Does anyone think this isn&#39;t spam, see embedded content: <a href=\"http://i.imgur.com/srtvEAN.jpg\" rel=\"nofollow noreferrer\">i.imgur.com/srtvEAN.jpg</a>"},{"owner":{"account_id":2032926,"reputation":24901,"user_id":1816093,"accept_rate":57,"display_name":"Drew"},"score":0,"creation_date":1450845134,"post_id":18024103,"comment_id":56598286,"body_markdown":"OP asks question then vanishes","body":"OP asks question then vanishes"}],"answers":[{"tags":[],"owner":{"account_id":1116875,"reputation":434,"user_id":1106024,"display_name":"Ronen Morecki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375635440,"creation_date":1375635440,"answer_id":18045298,"question_id":18024103,"body_markdown":"You are almost there\r\n\r\nWhat you are missing is the call that starts Zooz checkout:\r\n\r\nOn onCheckoutClick, you need to create the intent that contains all the data you would like to pass to Zooz activity (like you did), and then you need to start it.\r\n\r\nYou do it by calling to (after putting all extras on the intent) :\r\nstartActivityForResult(intent, ZooZ_Activity_ID);\r\n\r\nAlso, in the zip file you downloaded, you can find a sample app ‚Äì ZooZSample ‚Äì which contains the SDK and the code for how to start it.\r\n","title":"Why won&#39;t the Zooz payment code show up in my Android App?","body":"<p>You are almost there</p>\n\n<p>What you are missing is the call that starts Zooz checkout:</p>\n\n<p>On onCheckoutClick, you need to create the intent that contains all the data you would like to pass to Zooz activity (like you did), and then you need to start it.</p>\n\n<p>You do it by calling to (after putting all extras on the intent) :\nstartActivityForResult(intent, ZooZ_Activity_ID);</p>\n\n<p>Also, in the zip file you downloaded, you can find a sample app ‚Äì ZooZSample ‚Äì which contains the SDK and the code for how to start it.</p>\n"}],"owner":{"account_id":1449730,"reputation":7,"user_id":1367020,"display_name":"user1367020"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":537,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1679914529,"creation_date":1375469357,"question_id":18024103,"body_markdown":"I want to integrate Zooz&#39;s payment application with my Android App, however, Zooz will not show up. There are no errors given or stated, but when I run the app on the emulator or my phone it will not show up. The app runs as if the code is not there. I know my question is broad, but with no errors about Zooz given in the log cat and no red x&#39;s, I can&#39;t identify the specific problem. The app does not crash, it just operates as normal. Can someone please help me identify the cause of this, or why Zooz will not show up? I am attempting to use Zooz so items from my menu can be purchased.\r\n\r\nHere is the reference I used to integrate the code. I am very new to Java in general. I placed the SDK libraries and followed the steps and nothing comes up.\r\n\r\nhttps://app.zooz.com/portal/PortalController?cmd=resources\r\n\r\n\r\nThings I have tried:\r\n\r\nI have tried taking out the libraries and deleting all references to Zooz and then placing it back in from the start. I have tried hand writing the code instead of copy pasting from PDF step by step guide. I have checked the log cat for any references to Zooz to no avail, and the app runs on both my emulator and device. I have checked my references library, which when I click on a.class for example it says: The JAR file zooz_iap_1.4.4.6.jar has no source attachment. But it does not come up as an error. Should I try to attach a source? (I haven&#39;t yet.) Again, I am new to Android and I&#39;m unsure of what it means exactly, I don&#39;t want to ruin things indefinitely. I have tried to run the code with the invoice step and without the invoice integration step. I am unsure if it is optional or not, as it does not specify. I have also tried calling Zooz customer service but no one answer&#39;s the office phone nor the mobile phone. Can someone help me to identify the problem?\r\n\r\nHere is the code I am currently using, just in case it is needed for reference.\r\n\r\n    package com.carouseldemo.main;\r\n    \r\n    import android.app.Activity;\r\n    import android.content.Intent;\r\n    \r\n    import android.net.Uri;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.ContextMenu;\r\n    import android.view.ContextMenu.ContextMenuInfo;\r\n    import android.view.Menu;\r\n    import android.view.MenuItem;\r\n    import android.view.View.OnClickListener;\r\n    \r\n    import android.view.MenuInflater;\r\n    import android.view.View;\r\n    import android.webkit.WebView;\r\n    import android.widget.ImageView;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    import android.widget.FrameLayout;\r\n    import com.carouseldemo.controls.Carousel;\r\n    import com.carouseldemo.controls.CarouselAdapter;\r\n    import com.carouseldemo.controls.CarouselAdapter.AdapterContextMenuInfo;\r\n    import com.carouseldemo.controls.CarouselAdapter.OnItemClickListener;\r\n    import com.carouseldemo.controls.CarouselAdapter.OnItemSelectedListener;\r\n    import com.carouseldemo.controls.CarouselItem;\r\n    import com.powersourceinternational.main.R;\r\n    import com.zooz.android.lib.CheckoutActivity;\r\n    \r\n    public class MainActivity extends Activity {\r\n    \r\n    \tprivate static final String TAG = null;\r\n    \tprivate static final int ZooZ_Activity_ID = 0;\r\n    \r\n    \t@Override\r\n    \tpublic boolean onContextItemSelected(MenuItem item) {\r\n    \t\tint id = item.getItemId(); // you know which menu is clicked\r\n    \t\tint imageId = -1;\r\n    \t\tswitch (id) {\r\n    \t\tcase 1:\r\n    \t\t\timageId = R.drawable.productone;\r\n    \t\t\tbreak;\r\n    \t\tcase 2:\r\n    \t\t\timageId = R.drawable.product2;\r\n    \t\t\tbreak;\r\n    \t\tcase 3:\r\n    \t\t\timageId = R.drawable.product1;\r\n    \t\t\tbreak;\r\n    \t\tcase 4:\r\n    \t\t\timageId = R.drawable.product3;\r\n    \t\t\tbreak;\r\n    \t\tcase 5:\r\n    \t\t\timageId = R.drawable.product4;\r\n    \t\t\tbreak;\r\n    \t\tcase 6:\r\n    \t\t\timageId = R.drawable.product5;\r\n    \t\t\tbreak;\r\n    \t\tcase 7:\r\n    \t\t\timageId = R.drawable.product6;\r\n    \t\t\tbreak;\r\n    \t\tcase 8:\r\n    \t\t\timageId = R.drawable.product7;\r\n    \t\t\tbreak;\r\n    \t\tcase 9:\r\n    \t\t\timageId = R.drawable.product8;\r\n    \t\t\tbreak;\r\n    \t\tcase 90:\r\n    \t\t\timageId = R.drawable.product9andhalf;\r\n    \t\t\tbreak;\r\n    \t\tcase 91:\r\n    \t\t\timageId = R.drawable.product10;\r\n    \t\t\tbreak;\r\n    \t\tcase 10:\r\n    \t\t\timageId = R.drawable.chevy1;\r\n    \t\t\tbreak;\r\n    \t\tcase 11:\r\n    \t\t\timageId = R.drawable.nissanleaf;\r\n    \t\t\tbreak;\r\n    \t\tcase 12:\r\n    \t\t\timageId = R.drawable.honda;\r\n    \t\t\tbreak;\r\n    \t\tcase 13:\r\n    \t\t\timageId = R.drawable.prius;\r\n    \t\t\tbreak;\r\n    \t\tcase 14:\r\n    \t\t\timageId = R.drawable.tesla;\r\n    \t\t\tbreak;\r\n    \t\tcase 15:\r\n    \t\t\timageId = R.drawable.porsche;\r\n    \t\t\tbreak;\r\n    \t\tcase 16:\r\n    \t\t\timageId = R.drawable.fordfocus;\r\n    \t\t\tbreak;\r\n    \t\tcase 166:\r\n    \t\t\timageId = R.drawable.bmw;\r\n    \t\t\tbreak;\r\n    \t\tcase 167:\r\n    \t\t\timageId = R.drawable.fordc;\r\n    \t\t\tbreak;\r\n    \t\tcase 168:\r\n    \t\t\timageId = R.drawable.fisker;\r\n    \t\t\tbreak;\r\n    \r\n    \t\t// ...the same for the other ids\r\n    \t\t}\r\n    \t\tImageView popup = new ImageView(this);\r\n    \t\tpopup.setOnClickListener(new OnClickListener() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void onClick(View v) {\r\n    \t\t\t\t((FrameLayout) findViewById(android.R.id.content))\r\n    \t\t\t\t\t\t.removeView(v);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\t// set the image\r\n    \t\tpopup.setImageResource(imageId);\r\n    \t\t((FrameLayout) findViewById(android.R.id.content)).addView(popup);\r\n    \t\treturn super.onContextItemSelected(item);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean onCreateOptionsMenu(Menu menu) {\r\n    \t\tsuper.onCreateOptionsMenu(menu);\r\n    \t\tMenuInflater inflater = getMenuInflater();\r\n    \t\tinflater.inflate(R.menu.testmenu2, menu);\r\n    \t\t// your code...\r\n    \t\treturn true;\r\n    \r\n    \t}\r\n    \t\r\n    \tpublic void onCheckoutClick(View v) {\r\n    \t\t// create new intent CheckoutActivity\r\n    \t\tIntent intent = new Intent(this, CheckoutActivity.class);\r\n    \t\t// supply app-key on the intent\r\n    \t\tintent.putExtra(CheckoutActivity.\r\n    \t\tZOOZ_APP_KEY, &quot;b8d0ff11-c60b-400d-82a0-0ed694e238b0&quot;);\r\n    \t\t// supply transaction details (amount, currency)\r\n    \t\tintent.putExtra(CheckoutActivity.\r\n    \t\tZOOZ_AMOUNT, 33.5);\r\n    \t\tintent.putExtra(CheckoutActivity.\r\n    \t\tZOOZ_CURRENCY_CODE, &quot;USD&quot;);\r\n    \t\t// supply environment mode (sandbox or production)\r\n    \t\tintent.putExtra(CheckoutActivity.\r\n    \t\tZOOZ_IS_SANDBOX, true);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tprotected void onActivityResult(int requestCode, int resultCode, Intent\r\n    \tdata) {\r\n    \tif (requestCode == ZooZ_Activity_ID) {\r\n    \tswitch (resultCode) {\r\n    \tcase Activity.RESULT_OK:\r\n    \tLog.i(TAG, &quot;Succefuly paid. Your transaction id is: &quot; +\r\n    \tdata.getStringExtra(CheckoutActivity.\r\n    \tZOOZ_TRANSACTION_ID));\r\n    \tbreak;\r\n    \tcase Activity.RESULT_CANCELED:\r\n    \tif (data != null)\r\n    \tLog.e(TAG, &quot;Error, cannot complete payment with ZooZ.&quot;  + &quot;Error code: &quot; +\r\n    \tdata.getIntExtra(CheckoutActivity.ZOOZ_ERROR_CODE\r\n    \t, 0) + &quot;; Error Message: &quot; +\r\n    \tdata.getStringExtra(CheckoutActivity.ZOOZ_ERROR_MSG));\r\n    \tbreak; \r\n    \t}\r\n    \t}\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    \t@Override\r\n    \tpublic boolean onOptionsItemSelected(MenuItem item) {\r\n    \t\tWebView webView;\r\n    \t\t// int id = item.getItemId();\r\n    \t\t// int imageId = -1;\r\n    \t\tswitch (item.getItemId()) {\r\n    \r\n    \t\tcase R.id.item1:\r\n    \r\n    \t\t\tIntent browserIntent = new Intent(Intent.ACTION_VIEW,\r\n    \t\t\t\t\tUri.parse(&quot;http://www.powersourceinternational.com/&quot;));\r\n    \t\t\tstartActivity(browserIntent);\r\n    \r\n    \t\t\treturn true;\r\n    \r\n    \t\tcase R.id.item2:\r\n    \t\t\twebView = (WebView) findViewById(R.id.webview);\r\n    \t\t\twebView.getSettings().setJavaScriptEnabled(true);\r\n    \t\t\twebView.loadUrl(&quot;https://www.facebook.com/PowerSourceInternational&quot;);\r\n    \r\n    \t\t\t// imageId = R.drawable.hippo;\r\n    \t\t\t// WebView wv2 = (WebView) findViewById(R.id.webview);\r\n    \t\t\t// wv2.loadUrl(&quot;file:///android_asset/resume_page2.html&quot;);\r\n    \t\t\treturn true;\r\n    \r\n    \t\tcase R.id.item3:\r\n    \t\t\twebView = (WebView) findViewById(R.id.webview);\r\n    \t\t\twebView.getSettings().setJavaScriptEnabled(true);\r\n    \t\t\twebView.loadUrl(&quot;https://twitter.com/EnergyPSI&quot;);\r\n    \r\n    \t\t\treturn true;\r\n    \r\n    \t\tcase R.id.item4:\r\n    \t\t\twebView = (WebView) findViewById(R.id.webview);\r\n    \t\t\twebView.getSettings().setJavaScriptEnabled(true);\r\n    \t\t\twebView.loadUrl(&quot;http://pinterest.com/energypsi/&quot;);\r\n    \r\n    \t\t\treturn true;\r\n    \r\n    \t\t}\r\n    \r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \t// true if you want the menu to be displayed; false otherwise\r\n    \r\n    \t@Override\r\n    \tpublic void onCreateContextMenu(ContextMenu menu, View v,\r\n    \t\t\tContextMenuInfo menuInfo) {\r\n    \t\t// Just prepare ourself for unexpected arguments...\r\n    \r\n    \t\tif (menuInfo == null) {\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\tif (!(menuInfo instanceof AdapterContextMenuInfo)) {\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \r\n    \t\tAdapterContextMenuInfo mi = (AdapterContextMenuInfo) menuInfo;\r\n    \t\t// to identify the view according to this case values you could assing\r\n    \t\t// ids like this:\r\n    \t\t// case 0:\r\n    \t\t// menu.add(Menu.NONE, 1, Menu.NONE, &quot;menu title&quot;);\r\n    \t\t// menu.add(Menu.NONE, 2, Menu.NONE, &quot;menu title&quot;);\r\n    \t\t// menu.add(Menu.NONE, 3, Menu.NONE, &quot;menu title&quot;);\r\n    \t\t// menu.add(Menu.NONE, 4, Menu.NONE, &quot;menu title&quot;);\r\n    \t\t// etc\r\n    \t\t// case 1:\r\n    \t\t// menu.add(Menu.NONE, 1001, Menu.NONE, &quot;menu title&quot;);\r\n    \t\t// menu.add(Menu.NONE, 1002, Menu.NONE, &quot;menu title&quot;);\r\n    \t\t// menu.add(Menu.NONE, 1003, Menu.NONE, &quot;menu title&quot;);\r\n    \t\t// menu.add(Menu.NONE, 1004, Menu.NONE, &quot;menu title&quot;);\r\n    \t\t// etc\r\n    \t\t// case 2:\r\n    \t\t// menu.add(Menu.NONE, 2001, Menu.NONE, &quot;menu title&quot;);\r\n    \t\t// menu.add(Menu.NONE, 2002, Menu.NONE, &quot;menu title&quot;);\r\n    \t\t// etc\r\n    \t\t// this way the ids will be unique and in the onContextItemSelected\r\n    \t\t// method you&#39;ll be able to\r\n    \t\t// identify the current case(0, 1, 2, 3, 4, 5) and the id clicked\r\n    \t\tswitch (mi.position) {\r\n    \t\tcase 0:\r\n    \t\t\tmenu.add(Menu.NONE, 0, Menu.NONE, &quot;Products&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 1, Menu.NONE, &quot;EV2430WS Wall   $1200.00&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 2, Menu.NONE, &quot;EV230WSR 3R Wall $1800.00&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 3, Menu.NONE, &quot;EV Parking Sign $65.00&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 4, Menu.NONE, &quot;Pedestal 1 Outdoor $3000.00&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 5, Menu.NONE, &quot;Pedestal 2 Outdoor $4600.00&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 6, Menu.NONE, &quot;CT500 Wall Mount $2665.00&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 7, Menu.NONE, &quot;CT2020 Family $6500.00&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 8, Menu.NONE,\r\n    \t\t\t\t\t&quot;DC Fast Charge CHAdeMO $35000.00&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 9, Menu.NONE,\r\n    \t\t\t\t\t&quot;The Power Share: Call for pricing&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 90, Menu.NONE, &quot;Solar Canopy one-car $13500.00&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 91, Menu.NONE, &quot;Solar Canopy Two car $18500.00&quot;);\r\n    \t\t\tbreak;\r\n    \t\tcase 1:\r\n    \t\t\tmenu.add(Menu.NONE, 900, Menu.NONE, &quot;Top Ten Fuel Efficient Cars&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 10, Menu.NONE, &quot;Chevrolet Volt&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 11, Menu.NONE, &quot;Nissan Leaf&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 12, Menu.NONE, &quot;Honda&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 13, Menu.NONE, &quot;Toyota Prius&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 14, Menu.NONE, &quot;Tesla&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 15, Menu.NONE, &quot;Porsche&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 16, Menu.NONE, &quot;Ford Focus&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 166, Menu.NONE, &quot;BMW&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 167, Menu.NONE, &quot;Ford C&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 168, Menu.NONE, &quot;Fisker&quot;);\r\n    \t\t\tbreak;\r\n    \t\tcase 2:\r\n    \t\t\tmenu.add(Menu.NONE, 17, Menu.NONE, &quot;About Us&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 18, Menu.NONE, &quot;Our solution includes the following:&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 19, Menu.NONE, &quot;Comprehensive Energy Assessment&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 20, Menu.NONE, &quot;Energy Sustainability Strategy&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 21, Menu.NONE, &quot;Energy Solutions Design&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 22, Menu.NONE, &quot;Solutions Implementation&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 23, Menu.NONE, &quot;Savings Verification Process&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 24, Menu.NONE, &quot;Engery Solutions Development&quot;);\r\n    \t\t\tbreak;\r\n    \t\tcase 3:\r\n    \t\t\tmenu.add(Menu.NONE, 25, Menu.NONE, &quot;Consulting&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 26, Menu.NONE, &quot;Residential Site Survey: $250&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 27, Menu.NONE, &quot;Residential Energy Consulting: $250&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 28, Menu.NONE, &quot;Commercial Consulting: $1000&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 29, Menu.NONE, &quot;Energy Efficiency Site Audit: $500&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 30, Menu.NONE, &quot;Electric Vehicle Consulting: $250&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 31, Menu.NONE, &quot;Commercial Vehicle Consulting $500&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 32, Menu.NONE, &quot;Industrial Battery Bank: $500&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 321, Menu.NONE, &quot;EVSE Inspection $75.00/hr. $150 Fee&quot;);\r\n    \t\t\tbreak;\r\n    \t\tcase 4:\r\n    \t\t\tmenu.add(Menu.NONE, 33, Menu.NONE, &quot;Leasing&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 34, Menu.NONE, &quot;Single Wall Mounted Unit&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 35, Menu.NONE, &quot;Unit ID: EV230WSR&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 36, Menu.NONE, &quot;2 Year Plan: $148.00&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 37, Menu.NONE, &quot;3 Year Plan: $103.00&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 38, Menu.NONE, &quot;5 Year Plan: $78.00&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 39, Menu.NONE, &quot;Single Bollard Mounted Unit&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 40, Menu.NONE, &quot;Unit ID: EV230PSR&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 401, Menu.NONE, &quot;2 Year Plan: $242.00&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 403, Menu.NONE, &quot;3 Year Plan: $168.00&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 404, Menu.NONE, &quot;5 Year Plan: $115.00&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 405, Menu.NONE, &quot;Double Bollard Mounted Unit&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 406, Menu.NONE, &quot;Unit ID: EV230PDR&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 407, Menu.NONE, &quot;2 Year Plan: $315.00&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 408, Menu.NONE, &quot;3 Year Plan: $243.00&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 409, Menu.NONE, &quot;5 Year Plan: $166.00&quot;);\r\n    \t\t\tbreak;\r\n    \t\tcase 5:\r\n    \t\t\tmenu.add(Menu.NONE, 41, Menu.NONE, &quot;Contact Us&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 42, Menu.NONE, &quot;Phone: 678-951-0715&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 43, Menu.NONE,\r\n    \t\t\t\t\t&quot;Address: 6065 Roswell Road, Suite 500, Atlanta, Georgia 30328 &quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 44, Menu.NONE,\r\n    \t\t\t\t\t&quot;Website: Powersourceinternational.com&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 45, Menu.NONE,\r\n    \t\t\t\t\t&quot;Email: powersourcevids@gmail.com &quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 46, Menu.NONE, &quot;Fax: 678-951-8993&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 47, Menu.NONE,\r\n    \t\t\t\t\t&quot;Facebook: https://www.facebook.com/PowerSourceInternational&quot;);\r\n    \t\t\tmenu.add(Menu.NONE, 48, Menu.NONE,\r\n    \t\t\t\t\t&quot;Linkedin: http://www.linkedin.com/company/power-source-international&quot;);\r\n    \t\t\tbreak;\r\n    \t\tdefault:\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t\tsuper.onCreateContextMenu(menu, v, menuInfo);\r\n    \t}\r\n    \r\n    \t/** Called when the activity is first created. */\r\n    \t@Override\r\n    \tpublic void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tsetContentView(R.layout.main);\r\n    \r\n    \t\tfinal Carousel carousel = (Carousel) findViewById(R.id.carousel);\r\n    \t\tcarousel.setOnItemClickListener(new OnItemClickListener() {\r\n    \r\n    \t\t\tpublic void onItemClick(CarouselAdapter&lt;?&gt; parent, View view,\r\n    \t\t\t\t\tint position, long id) {\r\n    \t\t\t\tCarouselItem item = (CarouselItem) parent.getChildAt(position);\r\n    \r\n    \t\t\t\t// HERE: Force context menu\r\n    \t\t\t\tcarousel.showContextMenuForChild(item);\r\n    \t\t\t\tToast.makeText(\r\n    \t\t\t\t\t\tMainActivity.this,\r\n    \t\t\t\t\t\tString.format(&quot;%s has been clicked&quot;,\r\n    \t\t\t\t\t\t\t\t((CarouselItem) parent.getChildAt(position))\r\n    \t\t\t\t\t\t\t\t\t\t.getName()), Toast.LENGTH_SHORT).show();\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void onCreateContextMenu(ContextMenu menu, View v,\r\n    \t\t\t\t\tContextMenuInfo menuInfo) {\r\n    \r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean onCreateOptionsMenu(Menu menu) {\r\n    \t\t\t\tMenuInflater inflater = getMenuInflater();\r\n    \t\t\t\tinflater.inflate(R.menu.testmenu2, menu);\r\n    \r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean onContextItemSelected(MenuItem item) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean onOptionsItemSelected(MenuItem item) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \r\n    \t\t});\r\n    \r\n    \t\tcarousel.setOnItemSelectedListener(new OnItemSelectedListener() {\r\n    \r\n    \t\t\tpublic void onItemSelected(CarouselAdapter&lt;?&gt; parent, View view,\r\n    \t\t\t\t\tint position, long id) {\r\n    \r\n    \t\t\t\tfinal TextView txt = (TextView) (findViewById(R.id.selected_item));\r\n    \r\n    \t\t\t\tswitch (position) {\r\n    \t\t\t\tcase 0:\r\n    \t\t\t\t\ttxt.setText(&quot;The PSI Process was developed as a result of consulting methodologies and infrastructure training with companies like General Electric, MCI and IBM. The executives at PSI have over 80 years of combined experience in working with fortune 50 companies to deliver on time solutions that reduce cost. Our staff now has the ability to utilize more than two dozen proven approaches and technologies to provide long-term savings of up to 30% or more with fast project paybacks. That‚Äôs a promise we back up with an insurance policy underwritten by one of the world‚Äôs oldest A+ rated insurance companies to remove all financial risk from your decision to invest with our company.&quot;);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase 1:\r\n    \t\t\t\t\ttxt.setText(&quot;In an age when Energy-based Buzz-words abound, PSI works to make it simple as well as profitable for you our customer. All throughout our customer&#39;s environments, PSI efforts have produced positive results often beyond expectations. Whether you&#39;re looking at Materials environment, Public Installations, the Lodging Industry or Office Complex installations, PSI can effect cost saving benefits that will truly enhance your bottom line! Because each business is different and unique, let us come and show you how we can make our solutions work for you!&quot;);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase 2:\r\n    \t\t\t\t\ttxt.setText(&quot;Power Source International (PSI) is setting the pace for engineering and environmental companies for you, our customer. PSI evaluates each and every facet of your site, focused on providing energy sustainability solutions. By looking at all of the different areas, we are not trying for a ‚ÄúHome Run‚Äù but several smaller hits that provides you with an integrated winning vehicle to increase your bottom line &amp; your long-term competitive edge.&quot;);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase 3:\r\n    \t\t\t\t\ttxt.setText(&quot;PSI‚Äôs Executive Team has a broad based set of skills and experiences around consulting and implementation for industries in numerous sectors, including manufacturing, processing, transportation, healthcare, food and beverage,  hospitality, retail and government agencies. The Company has also teamed with leading companies in the solar, wind and energy management arena. The team is further supported by an internal Board of Advisors formed by professionals from research, universities and the private sector.&quot;);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase 4:\r\n    \t\t\t\t\ttxt.setText(&quot;Want to install an EV charging solution but don‚Äôt want to pay for it all at once? No problem! We have leasing options to fit almost every budget.&quot;);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase 5:\r\n    \t\t\t\t\ttxt.setText(&quot;If you would like more information from PSI, please fill in the form. For immediate assistance, please contact us at 678-951-0715.&quot;);\r\n    \r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t\tpublic void onNothingSelected(CarouselAdapter&lt;?&gt; parent) {\r\n    \t\t\t}\r\n    \r\n    \t\t});\r\n    \r\n    \t\tregisterForContextMenu(carousel);\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Why won&#39;t the Zooz payment code show up in my Android App?","body":"<p>I want to integrate Zooz's payment application with my Android App, however, Zooz will not show up. There are no errors given or stated, but when I run the app on the emulator or my phone it will not show up. The app runs as if the code is not there. I know my question is broad, but with no errors about Zooz given in the log cat and no red x's, I can't identify the specific problem. The app does not crash, it just operates as normal. Can someone please help me identify the cause of this, or why Zooz will not show up? I am attempting to use Zooz so items from my menu can be purchased.</p>\n\n<p>Here is the reference I used to integrate the code. I am very new to Java in general. I placed the SDK libraries and followed the steps and nothing comes up.</p>\n\n<p><a href=\"https://app.zooz.com/portal/PortalController?cmd=resources\" rel=\"nofollow\">https://app.zooz.com/portal/PortalController?cmd=resources</a></p>\n\n<p>Things I have tried:</p>\n\n<p>I have tried taking out the libraries and deleting all references to Zooz and then placing it back in from the start. I have tried hand writing the code instead of copy pasting from PDF step by step guide. I have checked the log cat for any references to Zooz to no avail, and the app runs on both my emulator and device. I have checked my references library, which when I click on a.class for example it says: The JAR file zooz_iap_1.4.4.6.jar has no source attachment. But it does not come up as an error. Should I try to attach a source? (I haven't yet.) Again, I am new to Android and I'm unsure of what it means exactly, I don't want to ruin things indefinitely. I have tried to run the code with the invoice step and without the invoice integration step. I am unsure if it is optional or not, as it does not specify. I have also tried calling Zooz customer service but no one answer's the office phone nor the mobile phone. Can someone help me to identify the problem?</p>\n\n<p>Here is the code I am currently using, just in case it is needed for reference.</p>\n\n<pre><code>package com.carouseldemo.main;\n\nimport android.app.Activity;\nimport android.content.Intent;\n\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.ContextMenu;\nimport android.view.ContextMenu.ContextMenuInfo;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.view.View.OnClickListener;\n\nimport android.view.MenuInflater;\nimport android.view.View;\nimport android.webkit.WebView;\nimport android.widget.ImageView;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport android.widget.FrameLayout;\nimport com.carouseldemo.controls.Carousel;\nimport com.carouseldemo.controls.CarouselAdapter;\nimport com.carouseldemo.controls.CarouselAdapter.AdapterContextMenuInfo;\nimport com.carouseldemo.controls.CarouselAdapter.OnItemClickListener;\nimport com.carouseldemo.controls.CarouselAdapter.OnItemSelectedListener;\nimport com.carouseldemo.controls.CarouselItem;\nimport com.powersourceinternational.main.R;\nimport com.zooz.android.lib.CheckoutActivity;\n\npublic class MainActivity extends Activity {\n\n    private static final String TAG = null;\n    private static final int ZooZ_Activity_ID = 0;\n\n    @Override\n    public boolean onContextItemSelected(MenuItem item) {\n        int id = item.getItemId(); // you know which menu is clicked\n        int imageId = -1;\n        switch (id) {\n        case 1:\n            imageId = R.drawable.productone;\n            break;\n        case 2:\n            imageId = R.drawable.product2;\n            break;\n        case 3:\n            imageId = R.drawable.product1;\n            break;\n        case 4:\n            imageId = R.drawable.product3;\n            break;\n        case 5:\n            imageId = R.drawable.product4;\n            break;\n        case 6:\n            imageId = R.drawable.product5;\n            break;\n        case 7:\n            imageId = R.drawable.product6;\n            break;\n        case 8:\n            imageId = R.drawable.product7;\n            break;\n        case 9:\n            imageId = R.drawable.product8;\n            break;\n        case 90:\n            imageId = R.drawable.product9andhalf;\n            break;\n        case 91:\n            imageId = R.drawable.product10;\n            break;\n        case 10:\n            imageId = R.drawable.chevy1;\n            break;\n        case 11:\n            imageId = R.drawable.nissanleaf;\n            break;\n        case 12:\n            imageId = R.drawable.honda;\n            break;\n        case 13:\n            imageId = R.drawable.prius;\n            break;\n        case 14:\n            imageId = R.drawable.tesla;\n            break;\n        case 15:\n            imageId = R.drawable.porsche;\n            break;\n        case 16:\n            imageId = R.drawable.fordfocus;\n            break;\n        case 166:\n            imageId = R.drawable.bmw;\n            break;\n        case 167:\n            imageId = R.drawable.fordc;\n            break;\n        case 168:\n            imageId = R.drawable.fisker;\n            break;\n\n        // ...the same for the other ids\n        }\n        ImageView popup = new ImageView(this);\n        popup.setOnClickListener(new OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n                ((FrameLayout) findViewById(android.R.id.content))\n                        .removeView(v);\n            }\n        });\n        // set the image\n        popup.setImageResource(imageId);\n        ((FrameLayout) findViewById(android.R.id.content)).addView(popup);\n        return super.onContextItemSelected(item);\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        super.onCreateOptionsMenu(menu);\n        MenuInflater inflater = getMenuInflater();\n        inflater.inflate(R.menu.testmenu2, menu);\n        // your code...\n        return true;\n\n    }\n\n    public void onCheckoutClick(View v) {\n        // create new intent CheckoutActivity\n        Intent intent = new Intent(this, CheckoutActivity.class);\n        // supply app-key on the intent\n        intent.putExtra(CheckoutActivity.\n        ZOOZ_APP_KEY, \"b8d0ff11-c60b-400d-82a0-0ed694e238b0\");\n        // supply transaction details (amount, currency)\n        intent.putExtra(CheckoutActivity.\n        ZOOZ_AMOUNT, 33.5);\n        intent.putExtra(CheckoutActivity.\n        ZOOZ_CURRENCY_CODE, \"USD\");\n        // supply environment mode (sandbox or production)\n        intent.putExtra(CheckoutActivity.\n        ZOOZ_IS_SANDBOX, true);\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent\n    data) {\n    if (requestCode == ZooZ_Activity_ID) {\n    switch (resultCode) {\n    case Activity.RESULT_OK:\n    Log.i(TAG, \"Succefuly paid. Your transaction id is: \" +\n    data.getStringExtra(CheckoutActivity.\n    ZOOZ_TRANSACTION_ID));\n    break;\n    case Activity.RESULT_CANCELED:\n    if (data != null)\n    Log.e(TAG, \"Error, cannot complete payment with ZooZ.\"  + \"Error code: \" +\n    data.getIntExtra(CheckoutActivity.ZOOZ_ERROR_CODE\n    , 0) + \"; Error Message: \" +\n    data.getStringExtra(CheckoutActivity.ZOOZ_ERROR_MSG));\n    break; \n    }\n    }\n    }\n\n\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        WebView webView;\n        // int id = item.getItemId();\n        // int imageId = -1;\n        switch (item.getItemId()) {\n\n        case R.id.item1:\n\n            Intent browserIntent = new Intent(Intent.ACTION_VIEW,\n                    Uri.parse(\"http://www.powersourceinternational.com/\"));\n            startActivity(browserIntent);\n\n            return true;\n\n        case R.id.item2:\n            webView = (WebView) findViewById(R.id.webview);\n            webView.getSettings().setJavaScriptEnabled(true);\n            webView.loadUrl(\"https://www.facebook.com/PowerSourceInternational\");\n\n            // imageId = R.drawable.hippo;\n            // WebView wv2 = (WebView) findViewById(R.id.webview);\n            // wv2.loadUrl(\"file:///android_asset/resume_page2.html\");\n            return true;\n\n        case R.id.item3:\n            webView = (WebView) findViewById(R.id.webview);\n            webView.getSettings().setJavaScriptEnabled(true);\n            webView.loadUrl(\"https://twitter.com/EnergyPSI\");\n\n            return true;\n\n        case R.id.item4:\n            webView = (WebView) findViewById(R.id.webview);\n            webView.getSettings().setJavaScriptEnabled(true);\n            webView.loadUrl(\"http://pinterest.com/energypsi/\");\n\n            return true;\n\n        }\n\n        return false;\n    }\n\n    // true if you want the menu to be displayed; false otherwise\n\n    @Override\n    public void onCreateContextMenu(ContextMenu menu, View v,\n            ContextMenuInfo menuInfo) {\n        // Just prepare ourself for unexpected arguments...\n\n        if (menuInfo == null) {\n            return;\n        }\n        if (!(menuInfo instanceof AdapterContextMenuInfo)) {\n            return;\n        }\n\n        AdapterContextMenuInfo mi = (AdapterContextMenuInfo) menuInfo;\n        // to identify the view according to this case values you could assing\n        // ids like this:\n        // case 0:\n        // menu.add(Menu.NONE, 1, Menu.NONE, \"menu title\");\n        // menu.add(Menu.NONE, 2, Menu.NONE, \"menu title\");\n        // menu.add(Menu.NONE, 3, Menu.NONE, \"menu title\");\n        // menu.add(Menu.NONE, 4, Menu.NONE, \"menu title\");\n        // etc\n        // case 1:\n        // menu.add(Menu.NONE, 1001, Menu.NONE, \"menu title\");\n        // menu.add(Menu.NONE, 1002, Menu.NONE, \"menu title\");\n        // menu.add(Menu.NONE, 1003, Menu.NONE, \"menu title\");\n        // menu.add(Menu.NONE, 1004, Menu.NONE, \"menu title\");\n        // etc\n        // case 2:\n        // menu.add(Menu.NONE, 2001, Menu.NONE, \"menu title\");\n        // menu.add(Menu.NONE, 2002, Menu.NONE, \"menu title\");\n        // etc\n        // this way the ids will be unique and in the onContextItemSelected\n        // method you'll be able to\n        // identify the current case(0, 1, 2, 3, 4, 5) and the id clicked\n        switch (mi.position) {\n        case 0:\n            menu.add(Menu.NONE, 0, Menu.NONE, \"Products\");\n            menu.add(Menu.NONE, 1, Menu.NONE, \"EV2430WS Wall   $1200.00\");\n            menu.add(Menu.NONE, 2, Menu.NONE, \"EV230WSR 3R Wall $1800.00\");\n            menu.add(Menu.NONE, 3, Menu.NONE, \"EV Parking Sign $65.00\");\n            menu.add(Menu.NONE, 4, Menu.NONE, \"Pedestal 1 Outdoor $3000.00\");\n            menu.add(Menu.NONE, 5, Menu.NONE, \"Pedestal 2 Outdoor $4600.00\");\n            menu.add(Menu.NONE, 6, Menu.NONE, \"CT500 Wall Mount $2665.00\");\n            menu.add(Menu.NONE, 7, Menu.NONE, \"CT2020 Family $6500.00\");\n            menu.add(Menu.NONE, 8, Menu.NONE,\n                    \"DC Fast Charge CHAdeMO $35000.00\");\n            menu.add(Menu.NONE, 9, Menu.NONE,\n                    \"The Power Share: Call for pricing\");\n            menu.add(Menu.NONE, 90, Menu.NONE, \"Solar Canopy one-car $13500.00\");\n            menu.add(Menu.NONE, 91, Menu.NONE, \"Solar Canopy Two car $18500.00\");\n            break;\n        case 1:\n            menu.add(Menu.NONE, 900, Menu.NONE, \"Top Ten Fuel Efficient Cars\");\n            menu.add(Menu.NONE, 10, Menu.NONE, \"Chevrolet Volt\");\n            menu.add(Menu.NONE, 11, Menu.NONE, \"Nissan Leaf\");\n            menu.add(Menu.NONE, 12, Menu.NONE, \"Honda\");\n            menu.add(Menu.NONE, 13, Menu.NONE, \"Toyota Prius\");\n            menu.add(Menu.NONE, 14, Menu.NONE, \"Tesla\");\n            menu.add(Menu.NONE, 15, Menu.NONE, \"Porsche\");\n            menu.add(Menu.NONE, 16, Menu.NONE, \"Ford Focus\");\n            menu.add(Menu.NONE, 166, Menu.NONE, \"BMW\");\n            menu.add(Menu.NONE, 167, Menu.NONE, \"Ford C\");\n            menu.add(Menu.NONE, 168, Menu.NONE, \"Fisker\");\n            break;\n        case 2:\n            menu.add(Menu.NONE, 17, Menu.NONE, \"About Us\");\n            menu.add(Menu.NONE, 18, Menu.NONE, \"Our solution includes the following:\");\n            menu.add(Menu.NONE, 19, Menu.NONE, \"Comprehensive Energy Assessment\");\n            menu.add(Menu.NONE, 20, Menu.NONE, \"Energy Sustainability Strategy\");\n            menu.add(Menu.NONE, 21, Menu.NONE, \"Energy Solutions Design\");\n            menu.add(Menu.NONE, 22, Menu.NONE, \"Solutions Implementation\");\n            menu.add(Menu.NONE, 23, Menu.NONE, \"Savings Verification Process\");\n            menu.add(Menu.NONE, 24, Menu.NONE, \"Engery Solutions Development\");\n            break;\n        case 3:\n            menu.add(Menu.NONE, 25, Menu.NONE, \"Consulting\");\n            menu.add(Menu.NONE, 26, Menu.NONE, \"Residential Site Survey: $250\");\n            menu.add(Menu.NONE, 27, Menu.NONE, \"Residential Energy Consulting: $250\");\n            menu.add(Menu.NONE, 28, Menu.NONE, \"Commercial Consulting: $1000\");\n            menu.add(Menu.NONE, 29, Menu.NONE, \"Energy Efficiency Site Audit: $500\");\n            menu.add(Menu.NONE, 30, Menu.NONE, \"Electric Vehicle Consulting: $250\");\n            menu.add(Menu.NONE, 31, Menu.NONE, \"Commercial Vehicle Consulting $500\");\n            menu.add(Menu.NONE, 32, Menu.NONE, \"Industrial Battery Bank: $500\");\n            menu.add(Menu.NONE, 321, Menu.NONE, \"EVSE Inspection $75.00/hr. $150 Fee\");\n            break;\n        case 4:\n            menu.add(Menu.NONE, 33, Menu.NONE, \"Leasing\");\n            menu.add(Menu.NONE, 34, Menu.NONE, \"Single Wall Mounted Unit\");\n            menu.add(Menu.NONE, 35, Menu.NONE, \"Unit ID: EV230WSR\");\n            menu.add(Menu.NONE, 36, Menu.NONE, \"2 Year Plan: $148.00\");\n            menu.add(Menu.NONE, 37, Menu.NONE, \"3 Year Plan: $103.00\");\n            menu.add(Menu.NONE, 38, Menu.NONE, \"5 Year Plan: $78.00\");\n            menu.add(Menu.NONE, 39, Menu.NONE, \"Single Bollard Mounted Unit\");\n            menu.add(Menu.NONE, 40, Menu.NONE, \"Unit ID: EV230PSR\");\n            menu.add(Menu.NONE, 401, Menu.NONE, \"2 Year Plan: $242.00\");\n            menu.add(Menu.NONE, 403, Menu.NONE, \"3 Year Plan: $168.00\");\n            menu.add(Menu.NONE, 404, Menu.NONE, \"5 Year Plan: $115.00\");\n            menu.add(Menu.NONE, 405, Menu.NONE, \"Double Bollard Mounted Unit\");\n            menu.add(Menu.NONE, 406, Menu.NONE, \"Unit ID: EV230PDR\");\n            menu.add(Menu.NONE, 407, Menu.NONE, \"2 Year Plan: $315.00\");\n            menu.add(Menu.NONE, 408, Menu.NONE, \"3 Year Plan: $243.00\");\n            menu.add(Menu.NONE, 409, Menu.NONE, \"5 Year Plan: $166.00\");\n            break;\n        case 5:\n            menu.add(Menu.NONE, 41, Menu.NONE, \"Contact Us\");\n            menu.add(Menu.NONE, 42, Menu.NONE, \"Phone: 678-951-0715\");\n            menu.add(Menu.NONE, 43, Menu.NONE,\n                    \"Address: 6065 Roswell Road, Suite 500, Atlanta, Georgia 30328 \");\n            menu.add(Menu.NONE, 44, Menu.NONE,\n                    \"Website: Powersourceinternational.com\");\n            menu.add(Menu.NONE, 45, Menu.NONE,\n                    \"Email: powersourcevids@gmail.com \");\n            menu.add(Menu.NONE, 46, Menu.NONE, \"Fax: 678-951-8993\");\n            menu.add(Menu.NONE, 47, Menu.NONE,\n                    \"Facebook: https://www.facebook.com/PowerSourceInternational\");\n            menu.add(Menu.NONE, 48, Menu.NONE,\n                    \"Linkedin: http://www.linkedin.com/company/power-source-international\");\n            break;\n        default:\n            break;\n        }\n        super.onCreateContextMenu(menu, v, menuInfo);\n    }\n\n    /** Called when the activity is first created. */\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n\n        final Carousel carousel = (Carousel) findViewById(R.id.carousel);\n        carousel.setOnItemClickListener(new OnItemClickListener() {\n\n            public void onItemClick(CarouselAdapter&lt;?&gt; parent, View view,\n                    int position, long id) {\n                CarouselItem item = (CarouselItem) parent.getChildAt(position);\n\n                // HERE: Force context menu\n                carousel.showContextMenuForChild(item);\n                Toast.makeText(\n                        MainActivity.this,\n                        String.format(\"%s has been clicked\",\n                                ((CarouselItem) parent.getChildAt(position))\n                                        .getName()), Toast.LENGTH_SHORT).show();\n\n            }\n\n            @Override\n            public void onCreateContextMenu(ContextMenu menu, View v,\n                    ContextMenuInfo menuInfo) {\n\n                // TODO Auto-generated method stub\n\n            }\n\n            @Override\n            public boolean onCreateOptionsMenu(Menu menu) {\n                MenuInflater inflater = getMenuInflater();\n                inflater.inflate(R.menu.testmenu2, menu);\n\n                // TODO Auto-generated method stub\n                return true;\n            }\n\n            @Override\n            public boolean onContextItemSelected(MenuItem item) {\n                // TODO Auto-generated method stub\n                return false;\n            }\n\n            @Override\n            public boolean onOptionsItemSelected(MenuItem item) {\n                // TODO Auto-generated method stub\n                return false;\n            }\n\n        });\n\n        carousel.setOnItemSelectedListener(new OnItemSelectedListener() {\n\n            public void onItemSelected(CarouselAdapter&lt;?&gt; parent, View view,\n                    int position, long id) {\n\n                final TextView txt = (TextView) (findViewById(R.id.selected_item));\n\n                switch (position) {\n                case 0:\n                    txt.setText(\"The PSI Process was developed as a result of consulting methodologies and infrastructure training with companies like General Electric, MCI and IBM. The executives at PSI have over 80 years of combined experience in working with fortune 50 companies to deliver on time solutions that reduce cost. Our staff now has the ability to utilize more than two dozen proven approaches and technologies to provide long-term savings of up to 30% or more with fast project paybacks. That‚Äôs a promise we back up with an insurance policy underwritten by one of the world‚Äôs oldest A+ rated insurance companies to remove all financial risk from your decision to invest with our company.\");\n                    break;\n                case 1:\n                    txt.setText(\"In an age when Energy-based Buzz-words abound, PSI works to make it simple as well as profitable for you our customer. All throughout our customer's environments, PSI efforts have produced positive results often beyond expectations. Whether you're looking at Materials environment, Public Installations, the Lodging Industry or Office Complex installations, PSI can effect cost saving benefits that will truly enhance your bottom line! Because each business is different and unique, let us come and show you how we can make our solutions work for you!\");\n                    break;\n                case 2:\n                    txt.setText(\"Power Source International (PSI) is setting the pace for engineering and environmental companies for you, our customer. PSI evaluates each and every facet of your site, focused on providing energy sustainability solutions. By looking at all of the different areas, we are not trying for a ‚ÄúHome Run‚Äù but several smaller hits that provides you with an integrated winning vehicle to increase your bottom line &amp; your long-term competitive edge.\");\n                    break;\n                case 3:\n                    txt.setText(\"PSI‚Äôs Executive Team has a broad based set of skills and experiences around consulting and implementation for industries in numerous sectors, including manufacturing, processing, transportation, healthcare, food and beverage,  hospitality, retail and government agencies. The Company has also teamed with leading companies in the solar, wind and energy management arena. The team is further supported by an internal Board of Advisors formed by professionals from research, universities and the private sector.\");\n                    break;\n                case 4:\n                    txt.setText(\"Want to install an EV charging solution but don‚Äôt want to pay for it all at once? No problem! We have leasing options to fit almost every budget.\");\n                    break;\n                case 5:\n                    txt.setText(\"If you would like more information from PSI, please fill in the form. For immediate assistance, please contact us at 678-951-0715.\");\n\n                    break;\n                }\n\n            }\n\n            public void onNothingSelected(CarouselAdapter&lt;?&gt; parent) {\n            }\n\n        });\n\n        registerForContextMenu(carousel);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","c#","android","unity-game-engine","avrdude"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1679887011,"post_id":75851684,"comment_id":133795484,"body_markdown":"1) Please don&#39;t use [images](https://meta.stackoverflow.com/q/285551/295004). 2) Have you been able to get it to work without Unity. The Unity wrapper will complicate testing. 3) The error looks similar to [Android cannot talk to Arduino using AVRDUDE](https://stackoverflow.com/q/15596376/295004) and [this one](https://stackoverflow.com/q/16910064/295004). Modern Android is quite locked down so the Unix/Linux way of accessing USB probably won&#39;t work. Feel free to look through [all existing tagged android/avrdude](https://stackoverflow.com/questions/tagged/android+avrdude) posts for leads.","body":"1) Please don&#39;t use <a href=\"https://meta.stackoverflow.com/q/285551/295004\">images</a>. 2) Have you been able to get it to work without Unity. The Unity wrapper will complicate testing. 3) The error looks similar to <a href=\"https://stackoverflow.com/q/15596376/295004\">Android cannot talk to Arduino using AVRDUDE</a> and <a href=\"https://stackoverflow.com/q/16910064/295004\">this one</a>. Modern Android is quite locked down so the Unix/Linux way of accessing USB probably won&#39;t work. Feel free to look through <a href=\"https://stackoverflow.com/questions/tagged/android+avrdude\">all existing tagged android/avrdude</a> posts for leads."},{"owner":{"account_id":27798794,"reputation":1,"user_id":21223622,"display_name":"Pig SimPle"},"score":0,"creation_date":1679891145,"post_id":75851684,"comment_id":133795945,"body_markdown":"The first time I posted, I was lacking. I&#39;ll fix it. Thank you for your comments.","body":"The first time I posted, I was lacking. I&#39;ll fix it. Thank you for your comments."}],"owner":{"account_id":27798794,"reputation":1,"user_id":21223622,"display_name":"Pig SimPle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679914512,"creation_date":1679883696,"question_id":75851684,"body_markdown":"I am trying to create an Avrdude plugin that can run on the Android platform in Unity. The Unity version I am using is 2021.3.9f1. \r\n\r\nI plan to run Avrdude with the .so file and utilize the https://github.com/mik3y/usb-serial-for-android library to open permissions and ports for USB devices connected to Android.\r\n\r\nBelow is the code I have written.\r\n\r\n##### Unity Avrdude\r\n\r\n```\r\npublic class PluginManager : MonoBehaviour\r\n{\r\n    string path;\r\n    string avrdudeconfPath;\r\n    string hexFilePath;\r\n    string avrduderunPath;\r\n\r\n\r\n    public AARManager aarManager;\r\n\r\n    private AndroidJavaObject usbManager;\r\n    private AndroidJavaObject usbInterface;\r\n    private AndroidJavaObject usbEndpoint;\r\n    private int VID;\r\n    private int PID;\r\n\r\n    string fromConfPath;\r\n    string toConfPath;\r\n    string fromHexPath;\r\n    string toHexPath;\r\n    string fromExePath;\r\n    string toExePath;\r\n\r\n    public Text soTestTxt;\r\n    public Text aarTestTxt;\r\n    public Button testBtn;\r\n    public Button testBtn2;\r\n\r\n    string teststring;\r\n    string testrunstring;\r\n    string testcomma;\r\n\r\n  \r\n    [DllImport(&quot;AvrdudeJNILib&quot;)]\r\n    private static extern void avrdude_main(\r\n    int argc, [MarshalAs(UnmanagedType.LPArray, ArraySubType = UnmanagedType.LPTStr)]\r\n    string[] argv, [MarshalAs(UnmanagedType.FunctionPtr)] MsgCallback cb,\r\n    [MarshalAs(UnmanagedType.FunctionPtr)] ExitCallback ec);\r\n\r\n    [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n    private delegate void MsgCallback(string message);\r\n    [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n    private delegate void ExitCallback(int exitCode);\r\n\r\n    private void Awake()\r\n    {\r\n    }\r\n    private void Start()\r\n    {\r\n    }\r\n    void OnDestroy()\r\n    {\r\n        \r\n    }\r\n    \r\n\r\n    [MonoPInvokeCallback(typeof(MsgCallback))]\r\n    public static void LogMessage(string message)\r\n    {\r\n        Debug.Log(message);\r\n    }\r\n\r\n    [MonoPInvokeCallback(typeof(ExitCallback))]\r\n    static void OnExit(int exitCode)\r\n    {\r\n        Debug.Log(&quot;Exited with code: &quot; + exitCode);\r\n    }\r\n\r\n    public void OnClickRunAvrdude()\r\n     {\r\n        StartCoroutine((new[] {\r\n             CopyFileAvrdudeConf(),\r\n             CopyFileHex()\r\n         }).GetEnumerator());\r\n        CheckUSBDevices();\r\n    }\r\n\r\n     public void OnClickRunAvrdude2()\r\n     {\r\n     }\r\n\r\n    IEnumerator CopyFileAvrdudeConf()\r\n    {\r\n        fromConfPath = Application.streamingAssetsPath + &quot;/&quot;;\r\n        toConfPath = Application.persistentDataPath + &quot;/&quot;;\r\n        string[] fileNamesToCopy = new string[] { &quot;avrdude.conf&quot; };\r\n\r\n        foreach (string fileName in fileNamesToCopy)\r\n        {\r\n            string fromFilePath = Path.Combine(fromConfPath, fileName);\r\n            string toFilePath = Path.Combine(toConfPath, fileName);\r\n\r\n            Debug.Log(&quot;Copying &quot; + fromFilePath + &quot; to &quot; + toFilePath);\r\n\r\n            if (Application.platform == RuntimePlatform.Android)\r\n            {\r\n                UnityWebRequest www = UnityWebRequest.Get(fromFilePath);\r\n                yield return www.SendWebRequest();\r\n\r\n                if (www.result == UnityWebRequest.Result.Success)\r\n                {\r\n                    File.WriteAllBytes(toFilePath, www.downloadHandler.data);\r\n                }\r\n                else\r\n                {\r\n                    Debug.Log(www.error);\r\n                }\r\n            }\r\n            else\r\n            {\r\n                File.Copy(fromFilePath, toFilePath, true);\r\n            }\r\n        }\r\n\r\n\r\n        string filePath = Path.Combine(Application.persistentDataPath, &quot;avrdude.conf&quot;);\r\n\r\n        if (File.Exists(filePath))\r\n        {\r\n            string contents = File.ReadAllText(filePath);\r\n            soTestTxt.text = Application.persistentDataPath;\r\n            Debug.Log(&quot;CONF File exists at path: &quot; + filePath);\r\n        }\r\n        else\r\n        {\r\n            Debug.LogError(&quot;CONF File does not exist at path: &quot; + filePath);\r\n        }\r\n    }\r\n\r\n    IEnumerator CopyFileHex()\r\n     {\r\n        fromHexPath = Application.streamingAssetsPath + &quot;/&quot;;\r\n        toHexPath = Application.persistentDataPath + &quot;/&quot;;\r\n        string[] fileNamesToCopy = new string[] { &quot;main.hex&quot; };\r\n\r\n        foreach (string fileName in fileNamesToCopy)\r\n        {\r\n            string fromFilePath = Path.Combine(fromHexPath, fileName);\r\n            string toFilePath = Path.Combine(toHexPath, fileName);\r\n\r\n            Debug.Log(&quot;Copying &quot; + fromFilePath + &quot; to &quot; + toFilePath);\r\n\r\n            if (Application.platform == RuntimePlatform.Android)\r\n            {\r\n                UnityWebRequest www = UnityWebRequest.Get(fromFilePath);\r\n                yield return www.SendWebRequest();\r\n\r\n                if (www.result == UnityWebRequest.Result.Success)\r\n                {\r\n                    File.WriteAllBytes(toFilePath, www.downloadHandler.data);\r\n                }\r\n                else\r\n                {\r\n                    Debug.LogError(www.error);\r\n                }\r\n            }\r\n            else\r\n            {\r\n                File.Copy(fromFilePath, toFilePath, true);\r\n            }\r\n        }\r\n\r\n\r\n        string filePath = Path.Combine(Application.persistentDataPath, &quot;main.hex&quot;);\r\n\r\n        if (File.Exists(filePath))\r\n        {\r\n            string contents = File.ReadAllText(filePath);\r\n            //soTestTxt.text = contents;\r\n            Debug.Log(&quot;HEX File exists at path: &quot; + filePath);\r\n        }\r\n        else\r\n        {\r\n            Debug.Log(&quot;HEX File does not exist at path: &quot; + filePath);\r\n        }\r\n    }\r\n     IEnumerator Runavrdudestart()\r\n     {\r\n        string[] argv = new string[] {\r\n            &quot;avrdude&quot;,\r\n            &quot;-C&quot;,\r\n            Application.persistentDataPath+&quot;/avrdude.conf&quot;,\r\n            &quot;-c&quot;,\r\n            &quot;stk500v2&quot;,\r\n            &quot;-p&quot;,\r\n            &quot;m8&quot;,\r\n            &quot;-P&quot;,\r\n            aarManager.getport,\r\n            &quot;-D&quot;,\r\n            &quot;-F&quot;,\r\n            &quot;-U&quot;,\r\n            &quot;flash:w:&quot;+ Application.persistentDataPath+&quot;/main.hex&quot;,\r\n            };\r\n\r\n        try\r\n        {\r\n            //avrdude_main(argv.Length, argv, logg, null);\r\n            avrdude_main(argv.Length, argv, LogMessage, OnExit);\r\n        }\r\n\r\n        catch (Exception e)\r\n        {\r\n            Debug.Log(&quot;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!&quot; + e);\r\n        }\r\n\r\n        yield break;\r\n    }\r\n}\r\n```\r\n\r\n##### Android Java serial library\r\n\r\n```\r\nimport android.app.Activity;\r\nimport android.app.PendingIntent;\r\nimport android.content.BroadcastReceiver;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.IntentFilter;\r\nimport android.hardware.usb.UsbDevice;\r\nimport android.hardware.usb.UsbDeviceConnection;\r\nimport android.hardware.usb.UsbManager;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class GetPermission  extends Activity {\r\n    private static final String ACTION_USB_PERMISSION = &quot;com.android.example.USB_PERMISSION&quot;;\r\n    private static PendingIntent mPermissionIntent;\r\n    private static UsbDevice device;\r\n    static UsbSerialPort port;\r\n    static UsbManager manager;\r\n    private static final int READ_WAIT_MILLIS = 2000;\r\n\r\n    public static String GetPortPermission(Context unityContext){\r\n\r\n        manager = (UsbManager) unityContext.getSystemService(Context.USB_SERVICE);\r\n        mPermissionIntent = PendingIntent.getBroadcast(unityContext, 0, new Intent(ACTION_USB_PERMISSION), 0);\r\n        IntentFilter filter = new IntentFilter(ACTION_USB_PERMISSION);\r\n        unityContext.registerReceiver(mUsbReceiver, filter);\r\n\r\n        device = null;\r\n        for(UsbDevice usbDevice : manager.getDeviceList().values())\r\n        {\r\n            if(usbDevice.getVendorId()==0x1a86&amp;&amp;usbDevice.getProductId()==0x7523)\r\n            {\r\n                device=usbDevice;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if(device!=null)\r\n        {\r\n            manager.requestPermission(device,mPermissionIntent);\r\n            UsbSerialDriver driver = UsbSerialProber.getDefaultProber().probeDevice(device);\r\n            port = driver.getPorts().get(0);\r\n\r\n            if(manager.hasPermission(device)){\r\n                UsbDeviceConnection connection = manager.openDevice(device);\r\n                try {\r\n                    port.open(connection);\r\n                    port.setParameters(115200, 8, UsbSerialPort.STOPBITS_1, UsbSerialPort.PARITY_NONE);\r\n                    System.out.println(port);\r\n                    System.out.println(&quot;@@@@@@@@@@@@@@@@@@&quot;+connection.releaseInterface(device.getInterface(0)));\r\n                    int fileDescriptor = connection.getFileDescriptor();\r\n                    if(fileDescriptor==-1)\r\n                    {\r\n                        System.out.println(&quot;!!!!!NotOpen!!!!!&quot;);\r\n                    }\r\n                    else\r\n                    {\r\n                        System.out.println(&quot;!!!!!Open!!!!!&quot;);\r\n                    }\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return device.getDeviceName();\r\n            } else {\r\n                return &quot;PermissionDenied&quot;;\r\n            }\r\n        } else {\r\n            return &quot;DeviceNotFound&quot;;\r\n        }\r\n\r\n\r\n        /*UsbDeviceConnection connection = manager.openDevice(device);\r\n\r\n        if (connection != null) {\r\n            System.out.println(&quot;UsbDeviceConnectOK!!!&quot;);\r\n\r\n            int fileDescriptor = connection.getFileDescriptor();\r\n\r\n            boolean isOpen = fileDescriptor &gt;= 0;\r\n\r\n            if (isOpen) {\r\n                System.out.println(&quot;USBPortOpen!!!&quot;);\r\n            } else {\r\n                System.out.println(&quot;USBPortClose!!!&quot;);\r\n            }\r\n\r\n        } else {\r\n            System.out.println(&quot;UsbDeviceConnectFail&quot;);\r\n        }\r\n\r\n        if(device!=null)\r\n        {\r\n            manager.requestPermission(device,mPermissionIntent);\r\n            UsbSerialDriver driver = UsbSerialProber.getDefaultProber().probeDevice(device);\r\n            UsbSerialPort port = driver.getPorts().get(0);\r\n\r\n            try {\r\n                port.open(connection);\r\n                port.setParameters(115200, 8, UsbSerialPort.STOPBITS_1, UsbSerialPort.PARITY_NONE);\r\n                System.out.println(port);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            return device.getDeviceName();\r\n        }\r\n        else {\r\n            return &quot;DeviceNotFound&quot;;\r\n        }*/\r\n    }\r\n\r\n\r\n    public static String ReadPort() throws IOException{\r\n        if(port==null||!port.isOpen())\r\n        {\r\n            return &quot;port is Null&quot;;\r\n        }\r\n        byte[] buffer = new byte[8192];\r\n        int len = port.read(buffer,READ_WAIT_MILLIS);\r\n        new String(buffer, 0, len);\r\n        return port.toString();\r\n    }\r\n\r\n\r\n    private static final BroadcastReceiver mUsbReceiver = new BroadcastReceiver() {\r\n        public void onReceive(Context context, Intent intent) {\r\n            String action = intent.getAction();\r\n            if (ACTION_USB_PERMISSION.equals(action)) {\r\n                synchronized (this) {\r\n                    UsbDevice device = (UsbDevice)intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\r\n\r\n                    if (intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, false)) {\r\n                        if(device != null){\r\n                            System.out.println(&quot;Permission OK!!!&quot;);\r\n                            System.out.println(device.getDeviceId());\r\n                            System.out.println(device.getInterfaceCount());\r\n                            System.out.println(device.getInterface(0));\r\n                            System.out.println(device.getVendorId());\r\n                            System.out.println(device.getProductId());\r\n\r\n                        }\r\n                    }\r\n                    else {\r\n                        System.out.println(&quot;Permission denied&quot;);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n}\r\n```\r\n\r\n##### Unity C# serial library\r\n\r\n```\r\npublic class AARManager : MonoBehaviour\r\n{\r\n    string response;\r\n    public string getport;\r\n    public string read;\r\n    void Start()\r\n    {\r\n    }\r\n    public void OnclickCheckPermission()\r\n    {   \r\n        AndroidJavaClass unityPlayer = new AndroidJavaClass(&quot;com.unity3d.player.UnityPlayer&quot;);\r\n        AndroidJavaObject activity = unityPlayer.GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;);\r\n        AndroidJavaObject context = activity.Call&lt;AndroidJavaObject&gt;(&quot;getApplicationContext&quot;);\r\n        AndroidJavaClass pluginClass = new AndroidJavaClass(&quot;com.hoho.android.usbserial.driver.GetPermission&quot;);\r\n        getport = pluginClass.CallStatic&lt;string&gt;(&quot;GetPortPermission&quot;, context);\r\n        Debug.Log(getport);\r\n        if(getport.Contains(&quot;dev&quot;))\r\n        {\r\n            read = pluginClass.CallStatic&lt;string&gt;(&quot;ReadPort&quot;);\r\n            Debug.Log(&quot;Readport@@@@@@@@@@&quot;+read);\r\n        }\r\n        else\r\n        {\r\n            Debug.Log(&quot;Init Failed!!!!!&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHowever, I get the following:\r\n\r\n```\r\n2023-03-27 11:59:20.551 10182 10202 Info Unity STEP:1 \r\n2023-03-27 11:59:20.552 10182 10202 Info Unity update_progress: no_tty \r\n2023-03-27 11:59:20.552 10182 10202 Info Unity STEP:2 \r\n2023-03-27 11:59:20.552 10182 10202 Info Unity System wide configuration file is &quot;/storage/emulated/0/Android/data/com.probo.newproed/files/avrdude.conf&quot;\r\n2023-03-27 11:59:20.552 10182 10202 Info Unity read_config: /storage/emulated/0/Android/data/com.probo.newproed/files/avrdude.conf\r\n2023-03-27 11:59:20.597 10182 10202 Info Unity STEP:3 \r\n2023-03-27 11:59:20.597 10182 10202 Info Unity avrdude: ser_open(): can&#39;t open device &quot;DeviceNotFound&quot;: No such file or directory\r\n2023-03-27 11:59:20.597 10182 10202 Info Unity exit(1)\r\n2023-03-27 11:59:20.599 10182 10202 Info Unity Exited with code: 0\r\n2023-03-27 11:59:20.599 10182 10202 Info Unity avrdude: ser_open(): can&#39;t set attributes for device &quot;DeviceNotFound&quot;: Not a typewriter\r\n2023-03-27 11:59:20.599 10182 10202 Info Unity exit(1)\r\n2023-03-27 11:59:20.599 10182 10202 Info Unity Exited with code: 0\r\n0001-01-01 00:00:00.000 -1 -1 Info  --------- beginning of crash\r\n2023-03-27 11:59:20.600 10182 10202 Fatal libc FORTIFY: FD_SET: file descriptor &lt; 0\r\n2023-03-27 11:59:20.600 10182 10202 Info Unity exit(ABNORMAL TERMINATION)\r\n2023-03-27 11:59:20.602 10182 10202 Info Unity Exited with code: -6\r\n```\r\n\r\nCan anyone give me some advice? I have been struggling for several months now. I am aware that it is possible to communicate with USB devices through TCP socket communication, but I have no knowledge or experience with TCP sockets.","title":"Avrdude Android plugin development in Unity","body":"<p>I am trying to create an Avrdude plugin that can run on the Android platform in Unity. The Unity version I am using is 2021.3.9f1.</p>\n<p>I plan to run Avrdude with the .so file and utilize the <a href=\"https://github.com/mik3y/usb-serial-for-android\" rel=\"nofollow noreferrer\">https://github.com/mik3y/usb-serial-for-android</a> library to open permissions and ports for USB devices connected to Android.</p>\n<p>Below is the code I have written.</p>\n<h5>Unity Avrdude</h5>\n<pre><code>public class PluginManager : MonoBehaviour\n{\n    string path;\n    string avrdudeconfPath;\n    string hexFilePath;\n    string avrduderunPath;\n\n\n    public AARManager aarManager;\n\n    private AndroidJavaObject usbManager;\n    private AndroidJavaObject usbInterface;\n    private AndroidJavaObject usbEndpoint;\n    private int VID;\n    private int PID;\n\n    string fromConfPath;\n    string toConfPath;\n    string fromHexPath;\n    string toHexPath;\n    string fromExePath;\n    string toExePath;\n\n    public Text soTestTxt;\n    public Text aarTestTxt;\n    public Button testBtn;\n    public Button testBtn2;\n\n    string teststring;\n    string testrunstring;\n    string testcomma;\n\n  \n    [DllImport(&quot;AvrdudeJNILib&quot;)]\n    private static extern void avrdude_main(\n    int argc, [MarshalAs(UnmanagedType.LPArray, ArraySubType = UnmanagedType.LPTStr)]\n    string[] argv, [MarshalAs(UnmanagedType.FunctionPtr)] MsgCallback cb,\n    [MarshalAs(UnmanagedType.FunctionPtr)] ExitCallback ec);\n\n    [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n    private delegate void MsgCallback(string message);\n    [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n    private delegate void ExitCallback(int exitCode);\n\n    private void Awake()\n    {\n    }\n    private void Start()\n    {\n    }\n    void OnDestroy()\n    {\n        \n    }\n    \n\n    [MonoPInvokeCallback(typeof(MsgCallback))]\n    public static void LogMessage(string message)\n    {\n        Debug.Log(message);\n    }\n\n    [MonoPInvokeCallback(typeof(ExitCallback))]\n    static void OnExit(int exitCode)\n    {\n        Debug.Log(&quot;Exited with code: &quot; + exitCode);\n    }\n\n    public void OnClickRunAvrdude()\n     {\n        StartCoroutine((new[] {\n             CopyFileAvrdudeConf(),\n             CopyFileHex()\n         }).GetEnumerator());\n        CheckUSBDevices();\n    }\n\n     public void OnClickRunAvrdude2()\n     {\n     }\n\n    IEnumerator CopyFileAvrdudeConf()\n    {\n        fromConfPath = Application.streamingAssetsPath + &quot;/&quot;;\n        toConfPath = Application.persistentDataPath + &quot;/&quot;;\n        string[] fileNamesToCopy = new string[] { &quot;avrdude.conf&quot; };\n\n        foreach (string fileName in fileNamesToCopy)\n        {\n            string fromFilePath = Path.Combine(fromConfPath, fileName);\n            string toFilePath = Path.Combine(toConfPath, fileName);\n\n            Debug.Log(&quot;Copying &quot; + fromFilePath + &quot; to &quot; + toFilePath);\n\n            if (Application.platform == RuntimePlatform.Android)\n            {\n                UnityWebRequest www = UnityWebRequest.Get(fromFilePath);\n                yield return www.SendWebRequest();\n\n                if (www.result == UnityWebRequest.Result.Success)\n                {\n                    File.WriteAllBytes(toFilePath, www.downloadHandler.data);\n                }\n                else\n                {\n                    Debug.Log(www.error);\n                }\n            }\n            else\n            {\n                File.Copy(fromFilePath, toFilePath, true);\n            }\n        }\n\n\n        string filePath = Path.Combine(Application.persistentDataPath, &quot;avrdude.conf&quot;);\n\n        if (File.Exists(filePath))\n        {\n            string contents = File.ReadAllText(filePath);\n            soTestTxt.text = Application.persistentDataPath;\n            Debug.Log(&quot;CONF File exists at path: &quot; + filePath);\n        }\n        else\n        {\n            Debug.LogError(&quot;CONF File does not exist at path: &quot; + filePath);\n        }\n    }\n\n    IEnumerator CopyFileHex()\n     {\n        fromHexPath = Application.streamingAssetsPath + &quot;/&quot;;\n        toHexPath = Application.persistentDataPath + &quot;/&quot;;\n        string[] fileNamesToCopy = new string[] { &quot;main.hex&quot; };\n\n        foreach (string fileName in fileNamesToCopy)\n        {\n            string fromFilePath = Path.Combine(fromHexPath, fileName);\n            string toFilePath = Path.Combine(toHexPath, fileName);\n\n            Debug.Log(&quot;Copying &quot; + fromFilePath + &quot; to &quot; + toFilePath);\n\n            if (Application.platform == RuntimePlatform.Android)\n            {\n                UnityWebRequest www = UnityWebRequest.Get(fromFilePath);\n                yield return www.SendWebRequest();\n\n                if (www.result == UnityWebRequest.Result.Success)\n                {\n                    File.WriteAllBytes(toFilePath, www.downloadHandler.data);\n                }\n                else\n                {\n                    Debug.LogError(www.error);\n                }\n            }\n            else\n            {\n                File.Copy(fromFilePath, toFilePath, true);\n            }\n        }\n\n\n        string filePath = Path.Combine(Application.persistentDataPath, &quot;main.hex&quot;);\n\n        if (File.Exists(filePath))\n        {\n            string contents = File.ReadAllText(filePath);\n            //soTestTxt.text = contents;\n            Debug.Log(&quot;HEX File exists at path: &quot; + filePath);\n        }\n        else\n        {\n            Debug.Log(&quot;HEX File does not exist at path: &quot; + filePath);\n        }\n    }\n     IEnumerator Runavrdudestart()\n     {\n        string[] argv = new string[] {\n            &quot;avrdude&quot;,\n            &quot;-C&quot;,\n            Application.persistentDataPath+&quot;/avrdude.conf&quot;,\n            &quot;-c&quot;,\n            &quot;stk500v2&quot;,\n            &quot;-p&quot;,\n            &quot;m8&quot;,\n            &quot;-P&quot;,\n            aarManager.getport,\n            &quot;-D&quot;,\n            &quot;-F&quot;,\n            &quot;-U&quot;,\n            &quot;flash:w:&quot;+ Application.persistentDataPath+&quot;/main.hex&quot;,\n            };\n\n        try\n        {\n            //avrdude_main(argv.Length, argv, logg, null);\n            avrdude_main(argv.Length, argv, LogMessage, OnExit);\n        }\n\n        catch (Exception e)\n        {\n            Debug.Log(&quot;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!&quot; + e);\n        }\n\n        yield break;\n    }\n}\n</code></pre>\n<h5>Android Java serial library</h5>\n<pre><code>import android.app.Activity;\nimport android.app.PendingIntent;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.hardware.usb.UsbDevice;\nimport android.hardware.usb.UsbDeviceConnection;\nimport android.hardware.usb.UsbManager;\n\nimport java.io.IOException;\n\npublic class GetPermission  extends Activity {\n    private static final String ACTION_USB_PERMISSION = &quot;com.android.example.USB_PERMISSION&quot;;\n    private static PendingIntent mPermissionIntent;\n    private static UsbDevice device;\n    static UsbSerialPort port;\n    static UsbManager manager;\n    private static final int READ_WAIT_MILLIS = 2000;\n\n    public static String GetPortPermission(Context unityContext){\n\n        manager = (UsbManager) unityContext.getSystemService(Context.USB_SERVICE);\n        mPermissionIntent = PendingIntent.getBroadcast(unityContext, 0, new Intent(ACTION_USB_PERMISSION), 0);\n        IntentFilter filter = new IntentFilter(ACTION_USB_PERMISSION);\n        unityContext.registerReceiver(mUsbReceiver, filter);\n\n        device = null;\n        for(UsbDevice usbDevice : manager.getDeviceList().values())\n        {\n            if(usbDevice.getVendorId()==0x1a86&amp;&amp;usbDevice.getProductId()==0x7523)\n            {\n                device=usbDevice;\n                break;\n            }\n        }\n\n        if(device!=null)\n        {\n            manager.requestPermission(device,mPermissionIntent);\n            UsbSerialDriver driver = UsbSerialProber.getDefaultProber().probeDevice(device);\n            port = driver.getPorts().get(0);\n\n            if(manager.hasPermission(device)){\n                UsbDeviceConnection connection = manager.openDevice(device);\n                try {\n                    port.open(connection);\n                    port.setParameters(115200, 8, UsbSerialPort.STOPBITS_1, UsbSerialPort.PARITY_NONE);\n                    System.out.println(port);\n                    System.out.println(&quot;@@@@@@@@@@@@@@@@@@&quot;+connection.releaseInterface(device.getInterface(0)));\n                    int fileDescriptor = connection.getFileDescriptor();\n                    if(fileDescriptor==-1)\n                    {\n                        System.out.println(&quot;!!!!!NotOpen!!!!!&quot;);\n                    }\n                    else\n                    {\n                        System.out.println(&quot;!!!!!Open!!!!!&quot;);\n                    }\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n                return device.getDeviceName();\n            } else {\n                return &quot;PermissionDenied&quot;;\n            }\n        } else {\n            return &quot;DeviceNotFound&quot;;\n        }\n\n\n        /*UsbDeviceConnection connection = manager.openDevice(device);\n\n        if (connection != null) {\n            System.out.println(&quot;UsbDeviceConnectOK!!!&quot;);\n\n            int fileDescriptor = connection.getFileDescriptor();\n\n            boolean isOpen = fileDescriptor &gt;= 0;\n\n            if (isOpen) {\n                System.out.println(&quot;USBPortOpen!!!&quot;);\n            } else {\n                System.out.println(&quot;USBPortClose!!!&quot;);\n            }\n\n        } else {\n            System.out.println(&quot;UsbDeviceConnectFail&quot;);\n        }\n\n        if(device!=null)\n        {\n            manager.requestPermission(device,mPermissionIntent);\n            UsbSerialDriver driver = UsbSerialProber.getDefaultProber().probeDevice(device);\n            UsbSerialPort port = driver.getPorts().get(0);\n\n            try {\n                port.open(connection);\n                port.setParameters(115200, 8, UsbSerialPort.STOPBITS_1, UsbSerialPort.PARITY_NONE);\n                System.out.println(port);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n            return device.getDeviceName();\n        }\n        else {\n            return &quot;DeviceNotFound&quot;;\n        }*/\n    }\n\n\n    public static String ReadPort() throws IOException{\n        if(port==null||!port.isOpen())\n        {\n            return &quot;port is Null&quot;;\n        }\n        byte[] buffer = new byte[8192];\n        int len = port.read(buffer,READ_WAIT_MILLIS);\n        new String(buffer, 0, len);\n        return port.toString();\n    }\n\n\n    private static final BroadcastReceiver mUsbReceiver = new BroadcastReceiver() {\n        public void onReceive(Context context, Intent intent) {\n            String action = intent.getAction();\n            if (ACTION_USB_PERMISSION.equals(action)) {\n                synchronized (this) {\n                    UsbDevice device = (UsbDevice)intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\n\n                    if (intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, false)) {\n                        if(device != null){\n                            System.out.println(&quot;Permission OK!!!&quot;);\n                            System.out.println(device.getDeviceId());\n                            System.out.println(device.getInterfaceCount());\n                            System.out.println(device.getInterface(0));\n                            System.out.println(device.getVendorId());\n                            System.out.println(device.getProductId());\n\n                        }\n                    }\n                    else {\n                        System.out.println(&quot;Permission denied&quot;);\n                    }\n                }\n            }\n        }\n    };\n}\n</code></pre>\n<h5>Unity C# serial library</h5>\n<pre><code>public class AARManager : MonoBehaviour\n{\n    string response;\n    public string getport;\n    public string read;\n    void Start()\n    {\n    }\n    public void OnclickCheckPermission()\n    {   \n        AndroidJavaClass unityPlayer = new AndroidJavaClass(&quot;com.unity3d.player.UnityPlayer&quot;);\n        AndroidJavaObject activity = unityPlayer.GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;);\n        AndroidJavaObject context = activity.Call&lt;AndroidJavaObject&gt;(&quot;getApplicationContext&quot;);\n        AndroidJavaClass pluginClass = new AndroidJavaClass(&quot;com.hoho.android.usbserial.driver.GetPermission&quot;);\n        getport = pluginClass.CallStatic&lt;string&gt;(&quot;GetPortPermission&quot;, context);\n        Debug.Log(getport);\n        if(getport.Contains(&quot;dev&quot;))\n        {\n            read = pluginClass.CallStatic&lt;string&gt;(&quot;ReadPort&quot;);\n            Debug.Log(&quot;Readport@@@@@@@@@@&quot;+read);\n        }\n        else\n        {\n            Debug.Log(&quot;Init Failed!!!!!&quot;);\n        }\n    }\n}\n</code></pre>\n<p>However, I get the following:</p>\n<pre><code>2023-03-27 11:59:20.551 10182 10202 Info Unity STEP:1 \n2023-03-27 11:59:20.552 10182 10202 Info Unity update_progress: no_tty \n2023-03-27 11:59:20.552 10182 10202 Info Unity STEP:2 \n2023-03-27 11:59:20.552 10182 10202 Info Unity System wide configuration file is &quot;/storage/emulated/0/Android/data/com.probo.newproed/files/avrdude.conf&quot;\n2023-03-27 11:59:20.552 10182 10202 Info Unity read_config: /storage/emulated/0/Android/data/com.probo.newproed/files/avrdude.conf\n2023-03-27 11:59:20.597 10182 10202 Info Unity STEP:3 \n2023-03-27 11:59:20.597 10182 10202 Info Unity avrdude: ser_open(): can't open device &quot;DeviceNotFound&quot;: No such file or directory\n2023-03-27 11:59:20.597 10182 10202 Info Unity exit(1)\n2023-03-27 11:59:20.599 10182 10202 Info Unity Exited with code: 0\n2023-03-27 11:59:20.599 10182 10202 Info Unity avrdude: ser_open(): can't set attributes for device &quot;DeviceNotFound&quot;: Not a typewriter\n2023-03-27 11:59:20.599 10182 10202 Info Unity exit(1)\n2023-03-27 11:59:20.599 10182 10202 Info Unity Exited with code: 0\n0001-01-01 00:00:00.000 -1 -1 Info  --------- beginning of crash\n2023-03-27 11:59:20.600 10182 10202 Fatal libc FORTIFY: FD_SET: file descriptor &lt; 0\n2023-03-27 11:59:20.600 10182 10202 Info Unity exit(ABNORMAL TERMINATION)\n2023-03-27 11:59:20.602 10182 10202 Info Unity Exited with code: -6\n</code></pre>\n<p>Can anyone give me some advice? I have been struggling for several months now. I am aware that it is possible to communicate with USB devices through TCP socket communication, but I have no knowledge or experience with TCP sockets.</p>\n"},{"tags":["java","android","android-intent","broadcastreceiver"],"answers":[{"tags":[],"owner":{"account_id":21069868,"reputation":1,"user_id":15486335,"display_name":"sheffik mohmad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679914387,"creation_date":1679914387,"answer_id":75854892,"question_id":64113237,"body_markdown":"We can not do unit test for android components without a device. However using Robolectric can make it work. Here is how i have implemented unit test for BroadcastReceiver.\r\n\r\n    @RunWith(RobolectricTestRunner.class)\r\n    @Config(sdk = 29)\r\n    @DoNotInstrument\r\n    public class BroadCastReceiverTest extends TestCase {\r\n      private Context context;\r\n      private YourReceiver yourReceiver;\r\n      private int expectedResponseCode = 500;\r\n      @Before\r\n      public void setup(){\r\n        yourReceiver = new YourReceiver();\r\n        context = RuntimeEnvironment.application.getApplicationContext();\r\n        intent = new Intent(Constants.ACTION_YOUR_ACTION);\r\n      }\r\n\r\n      @Test\r\n      public void testResponse(){\r\n        intent.putExtra(Constants.ERROR_CODE,500);\r\n        yourReceiver.onReceive(context,intent);\r\n        assertEquals(expectedResponseCode,yourReceiver.getResponseCode());\r\n\r\n      }\r\n    }","title":"Android Broadcast receiver unit test","body":"<p>We can not do unit test for android components without a device. However using Robolectric can make it work. Here is how i have implemented unit test for BroadcastReceiver.</p>\n<pre><code>@RunWith(RobolectricTestRunner.class)\n@Config(sdk = 29)\n@DoNotInstrument\npublic class BroadCastReceiverTest extends TestCase {\n  private Context context;\n  private YourReceiver yourReceiver;\n  private int expectedResponseCode = 500;\n  @Before\n  public void setup(){\n    yourReceiver = new YourReceiver();\n    context = RuntimeEnvironment.application.getApplicationContext();\n    intent = new Intent(Constants.ACTION_YOUR_ACTION);\n  }\n\n  @Test\n  public void testResponse(){\n    intent.putExtra(Constants.ERROR_CODE,500);\n    yourReceiver.onReceive(context,intent);\n    assertEquals(expectedResponseCode,yourReceiver.getResponseCode());\n\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":18790175,"reputation":11,"user_id":13702818,"display_name":"Joe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679914387,"creation_date":1601356114,"question_id":64113237,"body_markdown":"I am new to Android and learning `BroadcastReceiver`. I am trying to `sendBroadcast` Receiver from Android unit test, and trying to check if the intent action received by the receiver is valid. If I want to send intent data from receiver to unit test, what is the way.\r\n\r\n    public class ExampleUnitTest {\r\n        private Context mContext;\r\n        private AsyncTableProcess sgTable;\r\n        private final static String WHOLE_HOME_ASYNC = &quot;com.atv.intent.action.WHOLE_HOME_AE&quot;;\r\n    \r\n        // Executes each task synchronously using Architecture Components.\r\n        @Rule\r\n        public InstantTaskExecutorRule instantExecutorRule = new InstantTaskExecutorRule();\r\n    \r\n        @Before\r\n        public void setUp() throws Exception {\r\n            mContext = mock(Context.class);\r\n            sgTable = new AsyncTableProcess();\r\n        }\r\n        @Test\r\n        public void addition_isCorrect() {\r\n            IntentFilter filter = new IntentFilter(ConnectivityManager.CONNECTIVITY_ACTION);\r\n            filter.addAction(WHOLE_HOME_ASYNC);\r\n            mContext.registerReceiver(sgTable, filter);\r\n    \r\n            Intent intent = new Intent();\r\n            intent.setAction(WHOLE_HOME_ASYNC);\r\n            intent.putExtras(setWholeHomeBundleExtras());\r\n            mContext.sendBroadcast(intent);\r\n       }\r\n    }\r\n\r\n    public class AsyncTableProcess extends BroadcastReceiver {\r\n        private static final String sgsLiteWholeHomeAE = &quot;com.atv.intent.action.WHOLE_HOME_AE&quot;;\r\n    \r\n    \r\n        @Override\r\n        public void onReceive(final Context context, Intent intent) {\r\n            final String message = intent.getAction();\r\n    \r\n            //Response back to unitTest.\r\n            switch (message) {\r\n                case sgsLiteWholeHomeAE:\r\n                    Bundle extras = intent.getExtras();\r\n                    //updating hash table..\r\n                    break;\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n","title":"Android Broadcast receiver unit test","body":"<p>I am new to Android and learning <code>BroadcastReceiver</code>. I am trying to <code>sendBroadcast</code> Receiver from Android unit test, and trying to check if the intent action received by the receiver is valid. If I want to send intent data from receiver to unit test, what is the way.</p>\n<pre><code>public class ExampleUnitTest {\n    private Context mContext;\n    private AsyncTableProcess sgTable;\n    private final static String WHOLE_HOME_ASYNC = &quot;com.atv.intent.action.WHOLE_HOME_AE&quot;;\n\n    // Executes each task synchronously using Architecture Components.\n    @Rule\n    public InstantTaskExecutorRule instantExecutorRule = new InstantTaskExecutorRule();\n\n    @Before\n    public void setUp() throws Exception {\n        mContext = mock(Context.class);\n        sgTable = new AsyncTableProcess();\n    }\n    @Test\n    public void addition_isCorrect() {\n        IntentFilter filter = new IntentFilter(ConnectivityManager.CONNECTIVITY_ACTION);\n        filter.addAction(WHOLE_HOME_ASYNC);\n        mContext.registerReceiver(sgTable, filter);\n\n        Intent intent = new Intent();\n        intent.setAction(WHOLE_HOME_ASYNC);\n        intent.putExtras(setWholeHomeBundleExtras());\n        mContext.sendBroadcast(intent);\n   }\n}\n\npublic class AsyncTableProcess extends BroadcastReceiver {\n    private static final String sgsLiteWholeHomeAE = &quot;com.atv.intent.action.WHOLE_HOME_AE&quot;;\n\n\n    @Override\n    public void onReceive(final Context context, Intent intent) {\n        final String message = intent.getAction();\n\n        //Response back to unitTest.\n        switch (message) {\n            case sgsLiteWholeHomeAE:\n                Bundle extras = intent.getExtras();\n                //updating hash table..\n                break;\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","fileoutputstream","objectinputstream","objectoutputstream"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679914295,"post_id":75854791,"comment_id":133800357,"body_markdown":"Using the extension `.txt` for data used in combination with `ObjectInputStream` and `ObjectOutputStream` is suspicious, because `.txt` implies textual data, while `ObjectInputStream`/`ObjectOutputStream` use a **binary** serialization format.","body":"Using the extension <code>.txt</code> for data used in combination with <code>ObjectInputStream</code> and <code>ObjectOutputStream</code> is suspicious, because <code>.txt</code> implies textual data, while <code>ObjectInputStream</code>/<code>ObjectOutputStream</code> use a <b>binary</b> serialization format."},{"owner":{"account_id":19734231,"reputation":39,"user_id":14449082,"display_name":"Samuel W"},"score":0,"creation_date":1679915424,"post_id":75854791,"comment_id":133800599,"body_markdown":"@MarkRotteveel done some more reading so should it be a `.ser` file?","body":"@MarkRotteveel done some more reading so should it be a <code>.ser</code> file?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679919796,"post_id":75854791,"comment_id":133801708,"body_markdown":"*if (handle==accounts.getHandle())* that, btw, is wrong. `String.equals` is used to compare strings in Java","body":"<i>if (handle==accounts.getHandle())</i> that, btw, is wrong. <code>String.equals</code> is used to compare strings in Java"},{"owner":{"account_id":19734231,"reputation":39,"user_id":14449082,"display_name":"Samuel W"},"score":0,"creation_date":1679920645,"post_id":75854791,"comment_id":133801920,"body_markdown":"@g00se so ```if (handle.equals(accounts.getHandle()))``` ?","body":"@g00se so <code>if (handle.equals(accounts.getHandle()))</code> ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679922082,"post_id":75854791,"comment_id":133802360,"body_markdown":"Not sure what your question is there (or even if there *is* one), but if the (corrected) statement you&#39;ve just written equals true, in your previous code, it could easily equal false for the same value","body":"Not sure what your question is there (or even if there <i>is</i> one), but if the (corrected) statement you&#39;ve just written equals true, in your previous code, it could easily equal false for the same value"},{"owner":{"account_id":19734231,"reputation":39,"user_id":14449082,"display_name":"Samuel W"},"score":0,"creation_date":1679923141,"post_id":75854791,"comment_id":133802722,"body_markdown":"@g00se original question was what needs to replace the comment above the for loop, i.e. how do I go from the file to having a list that can be looped through","body":"@g00se original question was what needs to replace the comment above the for loop, i.e. how do I go from the file to having a list that can be looped through"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1679924538,"post_id":75854791,"comment_id":133803190,"body_markdown":"I was just making a side comment really, but since your main question seems to be unanswered for you, you should write `List&lt;Account&gt;` with your oos and read that with your ois, making it simple to then search for `Account`s to remove, or whatever","body":"I was just making a side comment really, but since your main question seems to be unanswered for you, you should write <code>List&lt;Account&gt;</code> with your oos and read that with your ois, making it simple to then search for <code>Account</code>s to remove, or whatever"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1679932037,"post_id":75854791,"comment_id":133805556,"body_markdown":"There is not an &quot;official&quot; extension for serialized objects. Some use .ser, some use .dat, others use .bin, etc, etc.","body":"There is not an &quot;official&quot; extension for serialized objects. Some use .ser, some use .dat, others use .bin, etc, etc."}],"owner":{"account_id":19734231,"reputation":39,"user_id":14449082,"display_name":"Samuel W"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679914230,"creation_date":1679913817,"question_id":75854791,"body_markdown":"I am trying to create an instance of the class ```Account``` and it cannot have the same ```handle``` as other accounts, which is checked using a for loop which compares the ```handle``` passed a parameter to the handles of the existing accounts, if it already exists then the exception ```IllegalHandleException``` is thrown\r\n\r\nHow do you go from having the read file to the list of the accounts, i.e. what needs to replace ```//listOfaccounts=list of each account``` before the for loop\r\n\r\n```java\r\npublic int createAccount(String handle) throws IllegalHandleException{\r\n    //checks if handle is already taken\r\n\tFileInputStream accountsFile=new FileInputStream(&quot;listOfAccounts.txt&quot;);\r\n\tObjectInputStream in=new ObjectInputStream(accountsFile);\r\n\r\n\t//listOfAccounts=list of each account \r\n\r\n\tfor (Account accounts : listOfAccounts){\r\n\t\tif (handle==accounts.getHandle()){\r\n\t\t\tthrow new IllegalHandleException(&quot;Handle Is Already Taken&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\t//create account\r\n\tAccount newAccount;\r\n\tnewAccount=new Account(handle);\r\n\r\n\t//add account to the stream\r\n\tFileOutputStream updatedAccountsFile=new FileOutputStream(&quot;listOfAccounts.txt&quot;);\r\n\tupdatedAccountsFile.write(newAccount.getUserID());\r\n\tObjectOutputStream out=new ObjectOutputStream(updatedAccountsFile);\r\n\r\n\t//return ID \r\n\treturn newAccount.getUserID();\r\n}\r\n```\r\n","title":"How to use ObjectInputStream to find a class instance in a list of instances","body":"<p>I am trying to create an instance of the class <code>Account</code> and it cannot have the same <code>handle</code> as other accounts, which is checked using a for loop which compares the <code>handle</code> passed a parameter to the handles of the existing accounts, if it already exists then the exception <code>IllegalHandleException</code> is thrown</p>\n<p>How do you go from having the read file to the list of the accounts, i.e. what needs to replace <code>//listOfaccounts=list of each account</code> before the for loop</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int createAccount(String handle) throws IllegalHandleException{\n    //checks if handle is already taken\n    FileInputStream accountsFile=new FileInputStream(&quot;listOfAccounts.txt&quot;);\n    ObjectInputStream in=new ObjectInputStream(accountsFile);\n\n    //listOfAccounts=list of each account \n\n    for (Account accounts : listOfAccounts){\n        if (handle==accounts.getHandle()){\n            throw new IllegalHandleException(&quot;Handle Is Already Taken&quot;);\n        }\n    }\n\n    //create account\n    Account newAccount;\n    newAccount=new Account(handle);\n\n    //add account to the stream\n    FileOutputStream updatedAccountsFile=new FileOutputStream(&quot;listOfAccounts.txt&quot;);\n    updatedAccountsFile.write(newAccount.getUserID());\n    ObjectOutputStream out=new ObjectOutputStream(updatedAccountsFile);\n\n    //return ID \n    return newAccount.getUserID();\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1533639776,"post_id":51724378,"comment_id":90410593,"body_markdown":"Oh boy, there&#39;s a lot going on here. Neither `Employee` nor `Address` should be a Spring bean (they&#39;re data objects, not service objects), using `context:annotation-driven` was the correct thing to do in the first place, and more broadly, XML-based hand-configuration is generally the old way of doing things. Your tutorial is obsolete (by casting `getBean`, for example), and I recommend starting with the Spring Boot Getting Started guides.","body":"Oh boy, there&#39;s a lot going on here. Neither <code>Employee</code> nor <code>Address</code> should be a Spring bean (they&#39;re data objects, not service objects), using <code>context:annotation-driven</code> was the correct thing to do in the first place, and more broadly, XML-based hand-configuration is generally the old way of doing things. Your tutorial is obsolete (by casting <code>getBean</code>, for example), and I recommend starting with the Spring Boot Getting Started guides."}],"answers":[{"tags":[],"owner":{"account_id":5559956,"reputation":13829,"user_id":9840318,"display_name":"Madhu Bhat"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1533641669,"creation_date":1533641669,"answer_id":51725796,"question_id":51724378,"body_markdown":"When you use `&lt;context:annotation-config /&gt;`, your **ApplicationContext.xml** should be like below.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n        xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n        http://www.springframework.org/schema/beans/spring-beans-4.3.xsd \r\n        http://www.springframework.org/schema/context\r\n     \thttp://www.springframework.org/schema/context/spring-context-4.3.xsd&quot;&gt;\r\n    &lt;context:annotation-config /&gt;\r\n    &lt;bean id =&quot;empbean&quot; class=&quot;com.stp.beans.Employee&quot;&gt;&lt;/bean&gt;\r\n    &lt;bean id =&quot;adrbean&quot; class=&quot;com.stp.beans.Address&quot;&gt;&lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\nYou had just missed the `context` related definitions.","title":"Autowired Annotation not working when using&lt;context:annotation-config /&gt; in ApplicationContext.xml","body":"<p>When you use <code>&lt;context:annotation-config /&gt;</code>, your <strong>ApplicationContext.xml</strong> should be like below.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n    http://www.springframework.org/schema/beans/spring-beans-4.3.xsd \n    http://www.springframework.org/schema/context\n    http://www.springframework.org/schema/context/spring-context-4.3.xsd\"&gt;\n&lt;context:annotation-config /&gt;\n&lt;bean id =\"empbean\" class=\"com.stp.beans.Employee\"&gt;&lt;/bean&gt;\n&lt;bean id =\"adrbean\" class=\"com.stp.beans.Address\"&gt;&lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>You had just missed the <code>context</code> related definitions.</p>\n"}],"owner":{"account_id":11435705,"reputation":756,"user_id":8383177,"accept_rate":43,"display_name":"Sai Teja Pakalapati"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1856,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":51725796,"answer_count":1,"score":0,"last_activity_date":1679914023,"creation_date":1533637210,"question_id":51724378,"body_markdown":"      &lt;context:annotation-config /&gt;\r\nwhen above line is added in ApplicationContext.xml file the Test.java is not running but when i add this it works but in the [tutorial][1]  i was going through it says both the methods work can someone help whats the problem with \r\nabove line of code.\r\n\r\n\t\t&lt;bean class=&quot;org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor&quot;/&gt;\r\n&gt; Employee.java\r\n\r\n\t\tpackage com.stp.beans;\r\n\r\n\t\timport org.springframework.beans.factory.annotation.Autowired;\r\n\r\n\t\tpublic class Employee {\r\n\t\t\tprivate Address empaddress;\r\n\r\n\t\t\tpublic Address getEmpaddress() {\r\n\t\t\t\treturn empaddress;\r\n\t\t\t}\r\n\t\t\t@Autowired\r\n\t\t\tpublic void setEmpaddress(Address empaddress) {\r\n\t\t\t\tthis.empaddress = empaddress;\r\n\t\t\t}\r\n\t\t}\r\n\r\n&gt; Address.java\r\n\r\n\r\n\t\tpackage com.stp.beans;\r\n\r\n\t\tpublic class Address {\r\n\t\t\tprivate String address;\r\n\r\n\t\t\tpublic String getAddress() {\r\n\t\t\t\treturn address;\r\n\t\t\t}\r\n\r\n\t\t\tpublic void setAddress(String address) {\r\n\t\t\t\tthis.address = address;\r\n\t\t\t}\r\n\t\t}\r\n\r\n&gt; ApplicationContext.xml\r\n\r\n\t\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t\t&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\t\t\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd&quot;&gt;\r\n        &lt;bean class=&quot;org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor&quot;/&gt;\r\n\t\t&lt;bean id =&quot;empbean&quot; class=&quot;com.stp.beans.Employee&quot;&gt;&lt;/bean&gt;\r\n\t\t&lt;bean id =&quot;adrbean&quot; class=&quot;com.stp.beans.Address&quot;&gt;&lt;/bean&gt;\r\n\t\t&lt;/beans&gt;\r\n&gt;Test.java\r\n\t\t\r\n        package com.stp.test;\r\n\r\n\t\timport org.springframework.context.ApplicationContext;\r\n\t\timport org.springframework.context.support.ClassPathXmlApplicationContext;\r\n\r\n\t\timport com.stp.beans.Employee;\r\n\r\n\t\tpublic class Test {\r\n\t\t\tpublic static void main(String[] args) {\r\n\t\t\t\tApplicationContext context = new ClassPathXmlApplicationContext(&quot;/com/stp/cfgs/ApplicationContext.xml&quot;);\r\n\t\t\t\tEmployee emp = (Employee) context.getBean(&quot;empbean&quot;);\r\n\t\t\t\tSystem.out.println(emp.getEmpaddress());\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n  [1]: https://www.mkyong.com/spring/spring-auto-wiring-beans-with-autowired-annotation/","title":"Autowired Annotation not working when using&lt;context:annotation-config /&gt; in ApplicationContext.xml","body":"<pre><code>  &lt;context:annotation-config /&gt;\n</code></pre>\n\n<p>when above line is added in ApplicationContext.xml file the Test.java is not running but when i add this it works but in the <a href=\"https://www.mkyong.com/spring/spring-auto-wiring-beans-with-autowired-annotation/\" rel=\"nofollow noreferrer\">tutorial</a>  i was going through it says both the methods work can someone help whats the problem with \nabove line of code.</p>\n\n<pre><code>    &lt;bean class=\"org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor\"/&gt;\n</code></pre>\n\n<blockquote>\n  <p>Employee.java</p>\n</blockquote>\n\n<pre><code>    package com.stp.beans;\n\n    import org.springframework.beans.factory.annotation.Autowired;\n\n    public class Employee {\n        private Address empaddress;\n\n        public Address getEmpaddress() {\n            return empaddress;\n        }\n        @Autowired\n        public void setEmpaddress(Address empaddress) {\n            this.empaddress = empaddress;\n        }\n    }\n</code></pre>\n\n<blockquote>\n  <p>Address.java</p>\n</blockquote>\n\n<pre><code>    package com.stp.beans;\n\n    public class Address {\n        private String address;\n\n        public String getAddress() {\n            return address;\n        }\n\n        public void setAddress(String address) {\n            this.address = address;\n        }\n    }\n</code></pre>\n\n<blockquote>\n  <p>ApplicationContext.xml</p>\n</blockquote>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd\"&gt;\n    &lt;bean class=\"org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor\"/&gt;\n    &lt;bean id =\"empbean\" class=\"com.stp.beans.Employee\"&gt;&lt;/bean&gt;\n    &lt;bean id =\"adrbean\" class=\"com.stp.beans.Address\"&gt;&lt;/bean&gt;\n    &lt;/beans&gt;\n</code></pre>\n\n<blockquote>\n  <p>Test.java</p>\n</blockquote>\n\n<pre><code>    package com.stp.test;\n\n    import org.springframework.context.ApplicationContext;\n    import org.springframework.context.support.ClassPathXmlApplicationContext;\n\n    import com.stp.beans.Employee;\n\n    public class Test {\n        public static void main(String[] args) {\n            ApplicationContext context = new ClassPathXmlApplicationContext(\"/com/stp/cfgs/ApplicationContext.xml\");\n            Employee emp = (Employee) context.getBean(\"empbean\");\n            System.out.println(emp.getEmpaddress());\n        }\n    }\n</code></pre>\n"},{"tags":["java","mysql","testing","junit"],"owner":{"account_id":8723226,"reputation":47,"user_id":6525680,"accept_rate":71,"display_name":"Tezen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679913360,"creation_date":1679913360,"question_id":75854729,"body_markdown":"I have a service test class where I want to test if updates to objects are being saved to my database. When I try to check this with an assertThat(countRowsInTableWhere...) My tests fail but when I actually run it, it works just fine. Why are the updated values not passed to the database in my tests?\r\n\r\nMy service class is the following:\r\n```\r\n@Service\r\n@Transactional(readOnly = true)\r\npublic class StorageContainerTransportService {\r\n    private final StorageContainerTransportRepository storageContainerTransportRepository;\r\n    private final StorageLocationService storageLocationService;\r\n    private final StorageContainerService storageContainerService;\r\n\r\n\r\n    public StorageContainerTransportService(StorageContainerTransportRepository storageContainerTransportRepository, StorageLocationService storageLocationService, StorageContainerService storageContainerService) {\r\n        this.storageContainerTransportRepository = storageContainerTransportRepository;\r\n        this.storageLocationService = storageLocationService;\r\n        this.storageContainerService = storageContainerService;\r\n    }\r\n\r\n    public StorageContainerTransport findById(long id) {\r\n        return storageContainerTransportRepository.findById(id).orElseThrow(() -&gt; new StorageContainerTransportNotFound(id));\r\n    }\r\n\r\n    @Transactional\r\n    public long createIncomingStorageContainerTransport(StorageContainer storageContainer) {\r\n        var mainStockAreaId = 100;\r\n        var emptyStorageLocation = storageLocationService.getOneEmptyStorageLocationFromStorageArea(mainStockAreaId);\r\n        if (emptyStorageLocation.isPresent()) {\r\n            storageContainer.setAssigned(true);\r\n            storageContainerService.updateStorageContainer(storageContainer);\r\n            emptyStorageLocation.get().setAssigned(true);\r\n            storageLocationService.updateStorageLocation(emptyStorageLocation.get());\r\n            var storageContainerTransport = new StorageContainerTransport(storageContainer, null, emptyStorageLocation.get());\r\n            storageContainerTransportRepository.save(storageContainerTransport);\r\n            return storageContainerTransport.getId();\r\n        } else {\r\n            return -1;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nAnd my test class is, where my final 2 `assertThat` statements give an error:\r\n```\r\n@SpringBootTest\r\n@Sql({&quot;/parts.sql&quot;,&quot;/storageArea.sql&quot;, &quot;/storageLocations.sql&quot; , &quot;/storageContainers.sql&quot; })\r\nclass StorageContainerTransportServiceTest extends AbstractTransactionalJUnit4SpringContextTests {\r\n    public static final String STORAGE_CONTAINER_TRANSPORTS = &quot;StorageContainerTransport&quot;;\r\n    public static final String STORAGE_CONTAINERS = &quot;StorageContainer&quot;;\r\n    public static final String STORAGE_LOCATIONS = &quot;StorageLocation&quot;;\r\n\r\n    private final StorageContainerTransportService storageContainerTransportService;\r\n    private final StorageContainerRepository storageContainerRepository;\r\n\r\n    public StorageContainerTransportServiceTest(StorageContainerTransportService storageContainerTransportService, StorageContainerRepository storageContainerRepository) {\r\n        this.storageContainerTransportService = storageContainerTransportService;\r\n        this.storageContainerRepository = storageContainerRepository;\r\n    }\r\n\r\n    private final long idOfTestContainer1 = 100;\r\n\r\n    @Test\r\n    void createIncomingStorageContainerTransport() throws Exception {\r\n        var storageContainer = storageContainerRepository.findById(idOfTestContainer1)\r\n                .orElseThrow(() -&gt; new StorageContainerNotFoundException(idOfTestContainer1));\r\n        var id = storageContainerTransportService.createIncomingStorageContainerTransport(storageContainer);\r\n        var storageContainerTransport = storageContainerTransportService.findById(id);\r\n        assertThat(countRowsInTableWhere(STORAGE_CONTAINER_TRANSPORTS, &quot;id = &quot; + id + &quot; and storageContainer_id = &quot; + idOfTestContainer1 + &quot; and origin_id is null&quot;)).isOne();\r\n        assertThat(countRowsInTableWhere(STORAGE_CONTAINERS, &quot;id = &quot; + storageContainer.getId() + &quot; and assigned is true&quot;)).isOne();\r\n        assertThat(countRowsInTableWhere(STORAGE_LOCATIONS, &quot;id = &quot; + storageContainerTransport.getDestination().getId()  + &quot; and assigned is true&quot;)).isOne();\r\n    }\r\n}\r\n```\r\n","title":"countRowsInTableWhere does not read updated values","body":"<p>I have a service test class where I want to test if updates to objects are being saved to my database. When I try to check this with an assertThat(countRowsInTableWhere...) My tests fail but when I actually run it, it works just fine. Why are the updated values not passed to the database in my tests?</p>\n<p>My service class is the following:</p>\n<pre><code>@Service\n@Transactional(readOnly = true)\npublic class StorageContainerTransportService {\n    private final StorageContainerTransportRepository storageContainerTransportRepository;\n    private final StorageLocationService storageLocationService;\n    private final StorageContainerService storageContainerService;\n\n\n    public StorageContainerTransportService(StorageContainerTransportRepository storageContainerTransportRepository, StorageLocationService storageLocationService, StorageContainerService storageContainerService) {\n        this.storageContainerTransportRepository = storageContainerTransportRepository;\n        this.storageLocationService = storageLocationService;\n        this.storageContainerService = storageContainerService;\n    }\n\n    public StorageContainerTransport findById(long id) {\n        return storageContainerTransportRepository.findById(id).orElseThrow(() -&gt; new StorageContainerTransportNotFound(id));\n    }\n\n    @Transactional\n    public long createIncomingStorageContainerTransport(StorageContainer storageContainer) {\n        var mainStockAreaId = 100;\n        var emptyStorageLocation = storageLocationService.getOneEmptyStorageLocationFromStorageArea(mainStockAreaId);\n        if (emptyStorageLocation.isPresent()) {\n            storageContainer.setAssigned(true);\n            storageContainerService.updateStorageContainer(storageContainer);\n            emptyStorageLocation.get().setAssigned(true);\n            storageLocationService.updateStorageLocation(emptyStorageLocation.get());\n            var storageContainerTransport = new StorageContainerTransport(storageContainer, null, emptyStorageLocation.get());\n            storageContainerTransportRepository.save(storageContainerTransport);\n            return storageContainerTransport.getId();\n        } else {\n            return -1;\n        }\n    }\n\n}\n\n</code></pre>\n<p>And my test class is, where my final 2 <code>assertThat</code> statements give an error:</p>\n<pre><code>@SpringBootTest\n@Sql({&quot;/parts.sql&quot;,&quot;/storageArea.sql&quot;, &quot;/storageLocations.sql&quot; , &quot;/storageContainers.sql&quot; })\nclass StorageContainerTransportServiceTest extends AbstractTransactionalJUnit4SpringContextTests {\n    public static final String STORAGE_CONTAINER_TRANSPORTS = &quot;StorageContainerTransport&quot;;\n    public static final String STORAGE_CONTAINERS = &quot;StorageContainer&quot;;\n    public static final String STORAGE_LOCATIONS = &quot;StorageLocation&quot;;\n\n    private final StorageContainerTransportService storageContainerTransportService;\n    private final StorageContainerRepository storageContainerRepository;\n\n    public StorageContainerTransportServiceTest(StorageContainerTransportService storageContainerTransportService, StorageContainerRepository storageContainerRepository) {\n        this.storageContainerTransportService = storageContainerTransportService;\n        this.storageContainerRepository = storageContainerRepository;\n    }\n\n    private final long idOfTestContainer1 = 100;\n\n    @Test\n    void createIncomingStorageContainerTransport() throws Exception {\n        var storageContainer = storageContainerRepository.findById(idOfTestContainer1)\n                .orElseThrow(() -&gt; new StorageContainerNotFoundException(idOfTestContainer1));\n        var id = storageContainerTransportService.createIncomingStorageContainerTransport(storageContainer);\n        var storageContainerTransport = storageContainerTransportService.findById(id);\n        assertThat(countRowsInTableWhere(STORAGE_CONTAINER_TRANSPORTS, &quot;id = &quot; + id + &quot; and storageContainer_id = &quot; + idOfTestContainer1 + &quot; and origin_id is null&quot;)).isOne();\n        assertThat(countRowsInTableWhere(STORAGE_CONTAINERS, &quot;id = &quot; + storageContainer.getId() + &quot; and assigned is true&quot;)).isOne();\n        assertThat(countRowsInTableWhere(STORAGE_LOCATIONS, &quot;id = &quot; + storageContainerTransport.getDestination().getId()  + &quot; and assigned is true&quot;)).isOne();\n    }\n}\n</code></pre>\n"},{"tags":["java","rest"],"comments":[{"owner":{"account_id":185700,"reputation":91879,"user_id":422597,"display_name":"Colin Hebert"},"score":0,"creation_date":1286878243,"post_id":3913502,"comment_id":4172406,"body_markdown":"It depends how you do rest calls in your application. Do you use a JaxRS implementation ? A particular one ? Are you doing requests manually ?","body":"It depends how you do rest calls in your application. Do you use a JaxRS implementation ? A particular one ? Are you doing requests manually ?"},{"owner":{"account_id":164508,"reputation":20235,"user_id":387298,"accept_rate":91,"display_name":"Questions"},"score":0,"creation_date":1286935203,"post_id":3913502,"comment_id":4180930,"body_markdown":"@Colin Hebert, thank you for your reply. But I have no ideas of the RESTful call. could you give me more information about different parts of the RESTful call.","body":"@Colin Hebert, thank you for your reply. But I have no ideas of the RESTful call. could you give me more information about different parts of the RESTful call."},{"owner":{"account_id":8696596,"reputation":76,"user_id":6507756,"display_name":"Gaurav J"},"score":0,"creation_date":1513764065,"post_id":3913502,"comment_id":82773243,"body_markdown":"checkout http restful client [click here](https://github.com/gsssoftwaresolution/easyrestfulclient)","body":"checkout http restful client <a href=\"https://github.com/gsssoftwaresolution/easyrestfulclient\" rel=\"nofollow noreferrer\">click here</a>"}],"answers":[{"comments":[{"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":7,"creation_date":1286879025,"post_id":3913557,"comment_id":4172521,"body_markdown":"The OP is not creating a RESTful application, he&#39;s making RESTful calls, i.e. like calling a Twitter API method resource.","body":"The OP is not creating a RESTful application, he&#39;s making RESTful calls, i.e. like calling a Twitter API method resource."},{"owner":{"account_id":430994,"reputation":3083,"user_id":814752,"accept_rate":79,"display_name":"Danny Bullis"},"score":0,"creation_date":1543090788,"post_id":3913557,"comment_id":93795429,"body_markdown":"@Qwerky - I think it&#39;d be helpful to include why you recommend Jersey in your answer.","body":"@Qwerky - I think it&#39;d be helpful to include why you recommend Jersey in your answer."}],"tags":[],"owner":{"account_id":198697,"reputation":18245,"user_id":443515,"accept_rate":56,"display_name":"Qwerky"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1429868655,"creation_date":1286878480,"answer_id":3913557,"question_id":3913502,"body_markdown":"There are several RESTful APIs around. I would recommend Jersey;\r\n\r\nhttps://jersey.java.net/\r\n\r\nClient API documentation is here;\r\n\r\nhttps://jersey.java.net/documentation/latest/index.html\r\n\r\n**Update**  \r\nLocation for the OAuth docs in the comment below is a dead link and has moved to  https://jersey.java.net/nonav/documentation/latest/security.html#d0e12334","title":"RESTful call in Java","body":"<p>There are several RESTful APIs around. I would recommend Jersey;</p>\n\n<p><a href=\"https://jersey.java.net/\" rel=\"nofollow noreferrer\">https://jersey.java.net/</a></p>\n\n<p>Client API documentation is here;</p>\n\n<p><a href=\"https://jersey.java.net/documentation/latest/index.html\" rel=\"nofollow noreferrer\">https://jersey.java.net/documentation/latest/index.html</a></p>\n\n<p><strong>Update</strong><br>\nLocation for the OAuth docs in the comment below is a dead link and has moved to  <a href=\"https://jersey.java.net/nonav/documentation/latest/security.html#d0e12334\" rel=\"nofollow noreferrer\">https://jersey.java.net/nonav/documentation/latest/security.html#d0e12334</a></p>\n"},{"comments":[{"owner":{"account_id":4986610,"reputation":1806,"user_id":4010017,"accept_rate":88,"display_name":"kaushalpranav"},"score":0,"creation_date":1634130580,"post_id":3913568,"comment_id":122943268,"body_markdown":"According to this - https://stackoverflow.com/questions/42365266/call-another-rest-api-from-my-server-in-spring-boot - [RestTemplate](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html) will be deprecated in a future version, use the more modern alternative [WebClient](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.html)","body":"According to this - <a href=\"https://stackoverflow.com/questions/42365266/call-another-rest-api-from-my-server-in-spring-boot\" title=\"call another rest api from my server in spring boot\">stackoverflow.com/questions/42365266/&hellip;</a> - <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\" rel=\"nofollow noreferrer\">RestTemplate</a> will be deprecated in a future version, use the more modern alternative <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.html\" rel=\"nofollow noreferrer\">WebClient</a>"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":1,"creation_date":1634666972,"post_id":3913568,"comment_id":123085465,"body_markdown":"@kaushalpranav my answer was true at the time, but things change. I suggest you add your own answer with WebClient","body":"@kaushalpranav my answer was true at the time, but things change. I suggest you add your own answer with WebClient"},{"owner":{"account_id":4986610,"reputation":1806,"user_id":4010017,"accept_rate":88,"display_name":"kaushalpranav"},"score":0,"creation_date":1634684123,"post_id":3913568,"comment_id":123090302,"body_markdown":"True. I used `RestTemplate` recently in my projects and didn&#39;t know of `WebClient`, so just wanted to direct people coming here to the newer alternative.","body":"True. I used <code>RestTemplate</code> recently in my projects and didn&#39;t know of <code>WebClient</code>, so just wanted to direct people coming here to the newer alternative."}],"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":3,"down_vote_count":3,"up_vote_count":36,"is_accepted":false,"score":33,"last_activity_date":1286878553,"creation_date":1286878553,"answer_id":3913568,"question_id":3913502,"body_markdown":"This is very complicated in java, which is why I would suggest using Spring&#39;s [`RestTemplate`][1] abstraction:\r\n\r\n    String result = \r\n    restTemplate.getForObject(\r\n        &quot;http://example.com/hotels/{hotel}/bookings/{booking}&quot;,\r\n        String.class,&quot;42&quot;, &quot;21&quot;\r\n    );\r\n\r\n**Reference:**\r\n\r\n - Spring Blog: [Rest in Spring 3\r\n   (RestTemplate)][2]\r\n - Spring Reference: [Accessing RESTful\r\n   services on the Client][3]\r\n - JavaDoc: [`RestTemplate`][4]\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/client/RestTemplate.html\r\n  [2]: http://blog.springsource.com/2009/03/27/rest-in-spring-3-resttemplate/\r\n  [3]: http://static.springsource.org/spring/docs/3.0.4.RELEASE/spring-framework-reference/html/remoting.html#rest-client-access\r\n  [4]: http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/client/RestTemplate.html\r\n","title":"RESTful call in Java","body":"<p>This is very complicated in java, which is why I would suggest using Spring's <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/client/RestTemplate.html\" rel=\"noreferrer\"><code>RestTemplate</code></a> abstraction:</p>\n\n<pre><code>String result = \nrestTemplate.getForObject(\n    \"http://example.com/hotels/{hotel}/bookings/{booking}\",\n    String.class,\"42\", \"21\"\n);\n</code></pre>\n\n<p><strong>Reference:</strong></p>\n\n<ul>\n<li>Spring Blog: <a href=\"http://blog.springsource.com/2009/03/27/rest-in-spring-3-resttemplate/\" rel=\"noreferrer\">Rest in Spring 3\n(RestTemplate)</a></li>\n<li>Spring Reference: <a href=\"http://static.springsource.org/spring/docs/3.0.4.RELEASE/spring-framework-reference/html/remoting.html#rest-client-access\" rel=\"noreferrer\">Accessing RESTful\nservices on the Client</a></li>\n<li>JavaDoc: <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/client/RestTemplate.html\" rel=\"noreferrer\"><code>RestTemplate</code></a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":198697,"reputation":18245,"user_id":443515,"accept_rate":56,"display_name":"Qwerky"},"score":1,"creation_date":1286878889,"post_id":3913576,"comment_id":4172500,"body_markdown":"There are some really good REST APIs around, I&#39;d recommend using one rather than reinventing the wheel.","body":"There are some really good REST APIs around, I&#39;d recommend using one rather than reinventing the wheel."},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":1,"creation_date":1286878939,"post_id":3913576,"comment_id":4172508,"body_markdown":"as I said: complicated as hell. (no, I did not downvote this, it&#39;s a perfectly valid solution)","body":"as I said: complicated as hell. (no, I did not downvote this, it&#39;s a perfectly valid solution)"},{"owner":{"account_id":4511,"reputation":139870,"user_id":6819,"accept_rate":72,"display_name":"Darrel Miller"},"score":4,"creation_date":1286883906,"post_id":3913576,"comment_id":4173255,"body_markdown":"@Qwerky  Client side API libraries are usually a violation of REST constraints.  They introduce far too much coupling.  Using a good HTTP library is a much better option in the long term.","body":"@Qwerky  Client side API libraries are usually a violation of REST constraints.  They introduce far too much coupling.  Using a good HTTP library is a much better option in the long term."}],"tags":[],"owner":{"account_id":42065,"reputation":53627,"user_id":122428,"display_name":"jitter"},"comment_count":3,"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1286878611,"creation_date":1286878611,"answer_id":3913576,"question_id":3913502,"body_markdown":"If you just need to make a simple call to a REST service from java you use something along these line\r\n\r\n    /*\r\n     * Stolen from http://xml.nig.ac.jp/tutorial/rest/index.html\r\n     * and http://www.dr-chuck.com/csev-blog/2007/09/calling-rest-web-services-from-java/\r\n    */\r\n    import java.io.*;\r\n    import java.net.*;\r\n    \r\n    public class Rest {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            URL url = new URL(INSERT_HERE_YOUR_URL);\r\n            String query = INSERT_HERE_YOUR_URL_PARAMETERS;\r\n    \r\n            //make connection\r\n            URLConnection urlc = url.openConnection();\r\n    \r\n            //use post mode\r\n            urlc.setDoOutput(true);\r\n            urlc.setAllowUserInteraction(false);\r\n    \r\n            //send query\r\n            PrintStream ps = new PrintStream(urlc.getOutputStream());\r\n            ps.print(query);\r\n            ps.close();\r\n    \r\n            //get result\r\n            BufferedReader br = new BufferedReader(new InputStreamReader(urlc\r\n                .getInputStream()));\r\n            String l = null;\r\n            while ((l=br.readLine())!=null) {\r\n                System.out.println(l);\r\n            }\r\n            br.close();\r\n    \t}\r\n    }","title":"RESTful call in Java","body":"<p>If you just need to make a simple call to a REST service from java you use something along these line</p>\n\n<pre><code>/*\n * Stolen from http://xml.nig.ac.jp/tutorial/rest/index.html\n * and http://www.dr-chuck.com/csev-blog/2007/09/calling-rest-web-services-from-java/\n*/\nimport java.io.*;\nimport java.net.*;\n\npublic class Rest {\n\n    public static void main(String[] args) throws IOException {\n        URL url = new URL(INSERT_HERE_YOUR_URL);\n        String query = INSERT_HERE_YOUR_URL_PARAMETERS;\n\n        //make connection\n        URLConnection urlc = url.openConnection();\n\n        //use post mode\n        urlc.setDoOutput(true);\n        urlc.setAllowUserInteraction(false);\n\n        //send query\n        PrintStream ps = new PrintStream(urlc.getOutputStream());\n        ps.print(query);\n        ps.close();\n\n        //get result\n        BufferedReader br = new BufferedReader(new InputStreamReader(urlc\n            .getInputStream()));\n        String l = null;\n        while ((l=br.readLine())!=null) {\n            System.out.println(l);\n        }\n        br.close();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":198697,"reputation":18245,"user_id":443515,"accept_rate":56,"display_name":"Qwerky"},"score":7,"creation_date":1286879958,"post_id":3913610,"comment_id":4172642,"body_markdown":"Don&#39;t reinvent the wheel, use one of the existing RESTful implementations.","body":"Don&#39;t reinvent the wheel, use one of the existing RESTful implementations."},{"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":16,"creation_date":1286880217,"post_id":3913610,"comment_id":4172688,"body_markdown":"It&#39;s not reinventing the wheel, I&#39;m saying you can use whatever `flavour` you want. Some want the default `URLConnection`, some wants `HttpClient`. Either way, it&#39;s there for you to use.","body":"It&#39;s not reinventing the wheel, I&#39;m saying you can use whatever <code>flavour</code> you want. Some want the default <code>URLConnection</code>, some wants <code>HttpClient</code>. Either way, it&#39;s there for you to use."},{"owner":{"account_id":164508,"reputation":20235,"user_id":387298,"accept_rate":91,"display_name":"Questions"},"score":0,"creation_date":1286938422,"post_id":3913610,"comment_id":4181149,"body_markdown":"@The Elite Gentleman, thank you for your reply. After checked the all of the library, I want to use the Apache HttpClient, would you mind to give me more reference about this one?","body":"@The Elite Gentleman, thank you for your reply. After checked the all of the library, I want to use the Apache HttpClient, would you mind to give me more reference about this one?"},{"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1286962870,"post_id":3913610,"comment_id":4183284,"body_markdown":"@Questions, the link to the HttpClient 4 examples seems to be broken, so if you have any questions (pun intended...lol), let me know....I deal with it almost daily.","body":"@Questions, the link to the HttpClient 4 examples seems to be broken, so if you have any questions (pun intended...lol), let me know....I deal with it almost daily."},{"owner":{"account_id":1866281,"reputation":6799,"user_id":1689770,"accept_rate":67,"display_name":"Jonathan"},"score":0,"creation_date":1542827748,"post_id":3913610,"comment_id":93712329,"body_markdown":"Please show example code of how to use these classes, rather than just noting their existence","body":"Please show example code of how to use these classes, rather than just noting their existence"},{"owner":{"account_id":430994,"reputation":3083,"user_id":814752,"accept_rate":79,"display_name":"Danny Bullis"},"score":0,"creation_date":1543090650,"post_id":3913610,"comment_id":93795390,"body_markdown":"@Jonathan - I&#39;d recommend going to the link provided and looking at code examples provided in the documentation for the actual library. Not only is it going to be more inclusive, but thorough and accurate as well...","body":"@Jonathan - I&#39;d recommend going to the link provided and looking at code examples provided in the documentation for the actual library. Not only is it going to be more inclusive, but thorough and accurate as well..."}],"tags":[],"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"comment_count":6,"down_vote_count":3,"up_vote_count":105,"is_accepted":true,"score":102,"last_activity_date":1397252056,"creation_date":1286878933,"answer_id":3913610,"question_id":3913502,"body_markdown":"If you are calling a RESTful service from a Service Provider (e.g Facebook, Twitter), you can do it with any *flavour* of your choice:\r\n\r\nIf you don&#39;t want to use external libraries, you can use `java.net.HttpURLConnection` or ` javax.net.ssl.HttpsURLConnection` (for SSL), but that is call encapsulated in a Factory type pattern in `java.net.URLConnection`.\r\nTo receive the result, you will have to `connection.getInputStream()` which returns you an `InputStream`. You will then have to convert your input stream to string and parse the string into it&#39;s representative object (e.g. XML, JSON, etc).\r\n\r\nAlternatively, [Apache HttpClient][1] (version 4 is the latest). It&#39;s more stable and robust than java&#39;s default `URLConnection` and it supports most (if not all) HTTP protocol (as well as it can be set to Strict mode). Your response will still be in `InputStream` and you can use it as mentioned above.\r\n\r\n\r\n----------\r\nDocumentation on HttpClient: http://hc.apache.org/httpcomponents-client-ga/tutorial/html/index.html\r\n\r\n  [1]: http://hc.apache.org/downloads.cgi","title":"RESTful call in Java","body":"<p>If you are calling a RESTful service from a Service Provider (e.g Facebook, Twitter), you can do it with any <em>flavour</em> of your choice:</p>\n\n<p>If you don't want to use external libraries, you can use <code>java.net.HttpURLConnection</code> or <code>javax.net.ssl.HttpsURLConnection</code> (for SSL), but that is call encapsulated in a Factory type pattern in <code>java.net.URLConnection</code>.\nTo receive the result, you will have to <code>connection.getInputStream()</code> which returns you an <code>InputStream</code>. You will then have to convert your input stream to string and parse the string into it's representative object (e.g. XML, JSON, etc).</p>\n\n<p>Alternatively, <a href=\"http://hc.apache.org/downloads.cgi\" rel=\"noreferrer\">Apache HttpClient</a> (version 4 is the latest). It's more stable and robust than java's default <code>URLConnection</code> and it supports most (if not all) HTTP protocol (as well as it can be set to Strict mode). Your response will still be in <code>InputStream</code> and you can use it as mentioned above.</p>\n\n<hr>\n\n<p>Documentation on HttpClient: <a href=\"http://hc.apache.org/httpcomponents-client-ga/tutorial/html/index.html\" rel=\"noreferrer\">http://hc.apache.org/httpcomponents-client-ga/tutorial/html/index.html</a></p>\n"},{"tags":[],"owner":{"account_id":167428,"reputation":525,"user_id":392222,"accept_rate":89,"display_name":"Joopiter"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1286879963,"creation_date":1286879963,"answer_id":3913747,"question_id":3913502,"body_markdown":"You can check out the [CXF][1]. You can visit the JAX-RS Article [here][2]\r\n\r\nCalling is as simple as this (quote):\r\n\r\n    BookStore store = JAXRSClientFactory.create(&quot;http://bookstore.com&quot;, BookStore.class);\r\n    // (1) remote GET call to http://bookstore.com/bookstore\r\n    Books books = store.getAllBooks();\r\n    // (2) no remote call\r\n    BookResource subresource = store.getBookSubresource(1);\r\n    // {3} remote GET call to http://bookstore.com/bookstore/1\r\n    Book b = subresource.getDescription();\r\n\r\n  [1]: http://cxf.apache.org/docs/jax-rs.html#JAX-RS-ClientAPI\r\n  [2]: http://cxf.apache.org/docs/jax-rs.html#JAX-RS-ClientAPI","title":"RESTful call in Java","body":"<p>You can check out the <a href=\"http://cxf.apache.org/docs/jax-rs.html#JAX-RS-ClientAPI\" rel=\"noreferrer\">CXF</a>. You can visit the JAX-RS Article <a href=\"http://cxf.apache.org/docs/jax-rs.html#JAX-RS-ClientAPI\" rel=\"noreferrer\">here</a></p>\n\n<p>Calling is as simple as this (quote):</p>\n\n<pre><code>BookStore store = JAXRSClientFactory.create(\"http://bookstore.com\", BookStore.class);\n// (1) remote GET call to http://bookstore.com/bookstore\nBooks books = store.getAllBooks();\n// (2) no remote call\nBookResource subresource = store.getBookSubresource(1);\n// {3} remote GET call to http://bookstore.com/bookstore/1\nBook b = subresource.getDescription();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2159998,"reputation":561,"user_id":1914380,"display_name":"AlexD"},"score":2,"creation_date":1509633092,"post_id":3916369,"comment_id":81104066,"body_markdown":"But still a great post. \nAnd I have to agree with &quot;99% of the time when people use the term REST, they really mean HTTP; ...The abstractions provided by various REST frameworks are therefore confusing and unhelpful.&quot;","body":"But still a great post.  And I have to agree with &quot;99% of the time when people use the term REST, they really mean HTTP; ...The abstractions provided by various REST frameworks are therefore confusing and unhelpful.&quot;"},{"owner":{"account_id":1544917,"reputation":5387,"user_id":1438660,"accept_rate":73,"display_name":"splungebob"},"score":2,"creation_date":1529416071,"post_id":3916369,"comment_id":88858942,"body_markdown":"In your Jersey example, where/how does the Form object get used?  It&#39;s created, but it doesn&#39;t appear to add anything to the example.","body":"In your Jersey example, where/how does the Form object get used?  It&#39;s created, but it doesn&#39;t appear to add anything to the example."},{"owner":{"account_id":5952060,"reputation":144,"user_id":4679747,"display_name":"Rene Lorenz"},"score":0,"creation_date":1697719372,"post_id":3916369,"comment_id":136316924,"body_markdown":"@splungebob this can be done on the &quot;request&quot;-Object of type Builder. In the lines above the given endoint is called via a GET (request.get()). A POST/PUT would be called by the appropriate method of the Builder object. E.g. Response response = request.put(Entity.entity(payload, MediaType.APPLICATION_JSON));, where &#39;payload&#39; might be a flattened JSON-String","body":"@splungebob this can be done on the &quot;request&quot;-Object of type Builder. In the lines above the given endoint is called via a GET (request.get()). A POST/PUT would be called by the appropriate method of the Builder object. E.g. Response response = request.put(Entity.entity(payload, MediaType.APPLICATION_JSON));, where &#39;payload&#39; might be a flattened JSON-String"}],"tags":[],"owner":{"account_id":4615,"reputation":51078,"user_id":7012,"accept_rate":83,"display_name":"Avi Flax"},"comment_count":3,"down_vote_count":0,"up_vote_count":171,"is_accepted":false,"score":171,"last_activity_date":1441029114,"creation_date":1286897650,"answer_id":3916369,"question_id":3913502,"body_markdown":"**Update:** It‚Äôs been almost 5 years since I wrote the answer below; today I have a different perspective.\r\n\r\n99% of the time when people use the term REST, they really mean HTTP; they could care less about ‚Äúresources‚Äù, ‚Äúrepresentations‚Äù, ‚Äústate transfers‚Äù, ‚Äúuniform interfaces‚Äù, ‚Äúhypermedia‚Äù, or any other [constraints or aspects of the REST architecture style identified by Fielding](https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm). The abstractions provided by various REST frameworks are therefore confusing and unhelpful.\r\n\r\nSo: you want to send HTTP requests using Java in 2015. You want an API that is clear, expressive, intuitive, idiomatic, simple. What to use? I no longer use Java, but for the past few years the Java HTTP client library that has seemed the most promising and interesting is [OkHttp](http://square.github.io/okhttp/). Check it out.\r\n\r\n----\r\n\r\nYou can definitely interact with RESTful web services by using `URLConnection` or [HTTPClient][1] to code HTTP requests.\r\n\r\nHowever, it&#39;s generally more desirable to use a library or framework which provides a simpler and more semantic API specifically designed for this purpose. This makes the code easier to write, read, and debug, and reduces duplication of effort. These frameworks generally implement some great features which aren&#39;t necessarily present or easy to use in lower-level libraries, such as content negotiation, caching, and authentication.\r\n\r\nSome of the most mature options are [Jersey][2], [RESTEasy][3], and [Restlet][4]. \r\n\r\nI&#39;m most familiar with Restlet, and Jersey, let&#39;s look at how we&#39;d make a `POST` request with both APIs.\r\n\r\n## Jersey Example ##\r\n\r\n    Form form = new Form();\r\n    form.add(&quot;x&quot;, &quot;foo&quot;);\r\n    form.add(&quot;y&quot;, &quot;bar&quot;);\r\n    \r\n    Client client = ClientBuilder.newClient();\r\n        \r\n    WebTarget resource = client.target(&quot;http://localhost:8080/someresource&quot;);\r\n\r\n    Builder request = resource.request();\r\n    request.accept(MediaType.APPLICATION_JSON);\r\n\r\n    Response response = request.get();\r\n\r\n    if (response.getStatusInfo().getFamily() == Family.SUCCESSFUL) {\r\n        System.out.println(&quot;Success! &quot; + response.getStatus());\r\n        System.out.println(response.getEntity());\r\n    } else {\r\n        System.out.println(&quot;ERROR! &quot; + response.getStatus());    \r\n        System.out.println(response.getEntity());\r\n    }\r\n\r\n\r\n## Restlet Example ##\r\n\r\n    Form form = new Form();\r\n    form.add(&quot;x&quot;, &quot;foo&quot;);\r\n    form.add(&quot;y&quot;, &quot;bar&quot;);\r\n\r\n    ClientResource resource = new ClientResource(&quot;http://localhost:8080/someresource&quot;);\r\n\r\n    Response response = resource.post(form.getWebRepresentation());\r\n\r\n    if (response.getStatus().isSuccess()) {\r\n        System.out.println(&quot;Success! &quot; + response.getStatus());\r\n        System.out.println(response.getEntity().getText());\r\n    } else {\r\n        System.out.println(&quot;ERROR! &quot; + response.getStatus());\r\n        System.out.println(response.getEntity().getText());\r\n    }\r\n\r\n\r\nOf course, GET requests are even simpler, and you can also specify things like entity tags and `Accept` headers, but hopefully these examples are usefully non-trivial but not too complex.\r\n\r\nAs you can see, Restlet and Jersey have similar client APIs. I believe they were developed around the same time, and therefore influenced each other.\r\n\r\nI find the Restlet API to be a little more semantic, and therefore a little clearer, but YMMV.\r\n\r\nAs I said, I&#39;m most familiar with Restlet, I&#39;ve used it in many apps for years, and I&#39;m very happy with it. It&#39;s a very mature, robust, simple, effective, active, and well-supported framework. I can&#39;t speak to Jersey or RESTEasy, but my impression is that they&#39;re both also solid choices.\r\n\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-client-ga/index.html\r\n  [2]: http://jersey.java.net/nonav/documentation/latest/user-guide.html#client-api\r\n  [3]: http://jboss.org/resteasy\r\n  [4]: http://wiki.restlet.org/docs_2.0/13-restlet/21-restlet/318-restlet/320-restlet.html","title":"RESTful call in Java","body":"<p><strong>Update:</strong> It‚Äôs been almost 5 years since I wrote the answer below; today I have a different perspective.</p>\n\n<p>99% of the time when people use the term REST, they really mean HTTP; they could care less about ‚Äúresources‚Äù, ‚Äúrepresentations‚Äù, ‚Äústate transfers‚Äù, ‚Äúuniform interfaces‚Äù, ‚Äúhypermedia‚Äù, or any other <a href=\"https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm\" rel=\"noreferrer\">constraints or aspects of the REST architecture style identified by Fielding</a>. The abstractions provided by various REST frameworks are therefore confusing and unhelpful.</p>\n\n<p>So: you want to send HTTP requests using Java in 2015. You want an API that is clear, expressive, intuitive, idiomatic, simple. What to use? I no longer use Java, but for the past few years the Java HTTP client library that has seemed the most promising and interesting is <a href=\"http://square.github.io/okhttp/\" rel=\"noreferrer\">OkHttp</a>. Check it out.</p>\n\n<hr>\n\n<p>You can definitely interact with RESTful web services by using <code>URLConnection</code> or <a href=\"http://hc.apache.org/httpcomponents-client-ga/index.html\" rel=\"noreferrer\">HTTPClient</a> to code HTTP requests.</p>\n\n<p>However, it's generally more desirable to use a library or framework which provides a simpler and more semantic API specifically designed for this purpose. This makes the code easier to write, read, and debug, and reduces duplication of effort. These frameworks generally implement some great features which aren't necessarily present or easy to use in lower-level libraries, such as content negotiation, caching, and authentication.</p>\n\n<p>Some of the most mature options are <a href=\"http://jersey.java.net/nonav/documentation/latest/user-guide.html#client-api\" rel=\"noreferrer\">Jersey</a>, <a href=\"http://jboss.org/resteasy\" rel=\"noreferrer\">RESTEasy</a>, and <a href=\"http://wiki.restlet.org/docs_2.0/13-restlet/21-restlet/318-restlet/320-restlet.html\" rel=\"noreferrer\">Restlet</a>. </p>\n\n<p>I'm most familiar with Restlet, and Jersey, let's look at how we'd make a <code>POST</code> request with both APIs.</p>\n\n<h2>Jersey Example</h2>\n\n<pre><code>Form form = new Form();\nform.add(\"x\", \"foo\");\nform.add(\"y\", \"bar\");\n\nClient client = ClientBuilder.newClient();\n\nWebTarget resource = client.target(\"http://localhost:8080/someresource\");\n\nBuilder request = resource.request();\nrequest.accept(MediaType.APPLICATION_JSON);\n\nResponse response = request.get();\n\nif (response.getStatusInfo().getFamily() == Family.SUCCESSFUL) {\n    System.out.println(\"Success! \" + response.getStatus());\n    System.out.println(response.getEntity());\n} else {\n    System.out.println(\"ERROR! \" + response.getStatus());    \n    System.out.println(response.getEntity());\n}\n</code></pre>\n\n<h2>Restlet Example</h2>\n\n<pre><code>Form form = new Form();\nform.add(\"x\", \"foo\");\nform.add(\"y\", \"bar\");\n\nClientResource resource = new ClientResource(\"http://localhost:8080/someresource\");\n\nResponse response = resource.post(form.getWebRepresentation());\n\nif (response.getStatus().isSuccess()) {\n    System.out.println(\"Success! \" + response.getStatus());\n    System.out.println(response.getEntity().getText());\n} else {\n    System.out.println(\"ERROR! \" + response.getStatus());\n    System.out.println(response.getEntity().getText());\n}\n</code></pre>\n\n<p>Of course, GET requests are even simpler, and you can also specify things like entity tags and <code>Accept</code> headers, but hopefully these examples are usefully non-trivial but not too complex.</p>\n\n<p>As you can see, Restlet and Jersey have similar client APIs. I believe they were developed around the same time, and therefore influenced each other.</p>\n\n<p>I find the Restlet API to be a little more semantic, and therefore a little clearer, but YMMV.</p>\n\n<p>As I said, I'm most familiar with Restlet, I've used it in many apps for years, and I'm very happy with it. It's a very mature, robust, simple, effective, active, and well-supported framework. I can't speak to Jersey or RESTEasy, but my impression is that they're both also solid choices.</p>\n"},{"tags":[],"owner":{"account_id":2866125,"reputation":99,"user_id":2460423,"display_name":"Lisandro"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1611384454,"creation_date":1370534139,"answer_id":16966723,"question_id":3913502,"body_markdown":"I want to share my personal experience, calling a REST WS with Post JSON call:\r\n\r\n    \r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.PrintStream;\r\n    import java.net.URL;\r\n    import java.net.URLConnection;\r\n    \r\n    public class HWS {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            URL url = new URL(&quot;INSERT YOUR SERVER REQUEST&quot;);\r\n            //Insert your JSON query request\r\n            String query = &quot;{&#39;PARAM1&#39;: &#39;VALUE&#39;,&#39;PARAM2&#39;: &#39;VALUE&#39;,&#39;PARAM3&#39;: &#39;VALUE&#39;,&#39;PARAM4&#39;: &#39;VALUE&#39;}&quot;;\r\n            //It change the apostrophe char to double quote char, to form a correct JSON string\r\n            query=query.replace(&quot;&#39;&quot;, &quot;\\&quot;&quot;);\r\n    \r\n            try{\r\n    \t        //make connection\r\n    \t        URLConnection urlc = url.openConnection();\r\n    \t        //It Content Type is so important to support JSON call\r\n    \t        urlc.setRequestProperty(&quot;Content-Type&quot;, &quot;application/xml&quot;);\r\n    \t        Msj(&quot;Conectando: &quot; + url.toString());\r\n    \t        //use post mode\r\n    \t        urlc.setDoOutput(true);\r\n    \t        urlc.setAllowUserInteraction(false);\r\n    \t\r\n    \t        //send query\r\n    \t        PrintStream ps = new PrintStream(urlc.getOutputStream());\r\n    \t        ps.print(query);\r\n    \t        Msj(&quot;Consulta: &quot; + query);\r\n    \t        ps.close();\r\n    \t\r\n    \t        //get result\r\n    \t        BufferedReader br = new BufferedReader(new InputStreamReader(urlc.getInputStream()));\r\n    \t        String l = null;\r\n    \t        while ((l=br.readLine())!=null) {\r\n    \t            Msj(l);\r\n    \t        }\r\n    \t        br.close();\r\n            } catch (Exception e){\r\n            \tMsj(&quot;Error ocurrido&quot;);\r\n            \tMsj(e.toString());\r\n            }\r\n        }\r\n    \t\r\n    \tprivate static void Msj(String texto){\r\n        \tSystem.out.println(texto);\r\n        }\r\n    }","title":"RESTful call in Java","body":"<p>I want to share my personal experience, calling a REST WS with Post JSON call:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintStream;\nimport java.net.URL;\nimport java.net.URLConnection;\n\npublic class HWS {\n\n    public static void main(String[] args) throws IOException {\n        URL url = new URL(&quot;INSERT YOUR SERVER REQUEST&quot;);\n        //Insert your JSON query request\n        String query = &quot;{'PARAM1': 'VALUE','PARAM2': 'VALUE','PARAM3': 'VALUE','PARAM4': 'VALUE'}&quot;;\n        //It change the apostrophe char to double quote char, to form a correct JSON string\n        query=query.replace(&quot;'&quot;, &quot;\\&quot;&quot;);\n\n        try{\n            //make connection\n            URLConnection urlc = url.openConnection();\n            //It Content Type is so important to support JSON call\n            urlc.setRequestProperty(&quot;Content-Type&quot;, &quot;application/xml&quot;);\n            Msj(&quot;Conectando: &quot; + url.toString());\n            //use post mode\n            urlc.setDoOutput(true);\n            urlc.setAllowUserInteraction(false);\n    \n            //send query\n            PrintStream ps = new PrintStream(urlc.getOutputStream());\n            ps.print(query);\n            Msj(&quot;Consulta: &quot; + query);\n            ps.close();\n    \n            //get result\n            BufferedReader br = new BufferedReader(new InputStreamReader(urlc.getInputStream()));\n            String l = null;\n            while ((l=br.readLine())!=null) {\n                Msj(l);\n            }\n            br.close();\n        } catch (Exception e){\n            Msj(&quot;Error ocurrido&quot;);\n            Msj(e.toString());\n        }\n    }\n    \n    private static void Msj(String texto){\n        System.out.println(texto);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1712951,"reputation":3348,"user_id":1570601,"accept_rate":50,"display_name":"JRun"},"comment_count":0,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1479996361,"creation_date":1415695209,"answer_id":26860736,"question_id":3913502,"body_markdown":"Indeed, this is &quot;very complicated in Java&quot;:\r\n\r\nFrom: https://jersey.java.net/documentation/latest/client.html\r\n\r\n\tClient client = ClientBuilder.newClient();\r\n\tWebTarget target = client.target(&quot;http://foo&quot;).path(&quot;bar&quot;);\r\n    Invocation.Builder invocationBuilder = target.request(MediaType.TEXT_PLAIN_TYPE);\r\n   \tResponse response = invocationBuilder.get();","title":"RESTful call in Java","body":"<p>Indeed, this is \"very complicated in Java\":</p>\n\n<p>From: <a href=\"https://jersey.java.net/documentation/latest/client.html\" rel=\"nofollow noreferrer\">https://jersey.java.net/documentation/latest/client.html</a></p>\n\n<pre><code>Client client = ClientBuilder.newClient();\nWebTarget target = client.target(\"http://foo\").path(\"bar\");\nInvocation.Builder invocationBuilder = target.request(MediaType.TEXT_PLAIN_TYPE);\nResponse response = invocationBuilder.get();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5440121,"reputation":1551,"user_id":4537618,"accept_rate":100,"display_name":"Java Main"},"score":0,"creation_date":1549360436,"post_id":28085986,"comment_id":95864851,"body_markdown":"it does not work ( cannot instanciate ASyncHttpClient ) .","body":"it does not work ( cannot instanciate ASyncHttpClient ) ."}],"tags":[],"owner":{"account_id":1144833,"reputation":7270,"user_id":1127843,"accept_rate":86,"display_name":"kayz1"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1421930310,"creation_date":1421921211,"answer_id":28085986,"question_id":3913502,"body_markdown":"You can use [Async Http Client][1] (The library also supports the **WebSocket** Protocol) like that:\r\n\r\n    \tString clientChannel = UriBuilder.fromPath(&quot;http://localhost:8080/api/{id}&quot;).build(id).toString();\r\n\r\n\t\ttry (AsyncHttpClient asyncHttpClient = new AsyncHttpClient())\r\n\t\t{\r\n\t\t\tBoundRequestBuilder postRequest = asyncHttpClient.preparePost(clientChannel);\r\n\t\t\tpostRequest.setHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON);\r\n\t\t\tpostRequest.setBody(message.toString()); // returns JSON\r\n\t\t\tpostRequest.execute().get();\r\n\t\t}\r\n\r\n\r\n  [1]: https://github.com/AsyncHttpClient/async-http-client","title":"RESTful call in Java","body":"<p>You can use <a href=\"https://github.com/AsyncHttpClient/async-http-client\" rel=\"nofollow\">Async Http Client</a> (The library also supports the <strong>WebSocket</strong> Protocol) like that:</p>\n\n<pre><code>    String clientChannel = UriBuilder.fromPath(\"http://localhost:8080/api/{id}\").build(id).toString();\n\n    try (AsyncHttpClient asyncHttpClient = new AsyncHttpClient())\n    {\n        BoundRequestBuilder postRequest = asyncHttpClient.preparePost(clientChannel);\n        postRequest.setHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON);\n        postRequest.setBody(message.toString()); // returns JSON\n        postRequest.execute().get();\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":181514,"reputation":9905,"user_id":415559,"accept_rate":73,"display_name":"barrypicker"},"score":0,"creation_date":1596122245,"post_id":42384741,"comment_id":111716319,"body_markdown":"you provided the maven dependencies, but you didn&#39;t include any import statements.  This was *almost* useful.","body":"you provided the maven dependencies, but you didn&#39;t include any import statements.  This was <i>almost</i> useful."},{"owner":{"account_id":10117141,"reputation":338,"user_id":7475446,"display_name":"user0221441"},"score":1,"creation_date":1656573835,"post_id":42384741,"comment_id":128607208,"body_markdown":"or completely useful with most modern IDEs ..","body":"or completely useful with most modern IDEs .."}],"tags":[],"owner":{"account_id":7803174,"reputation":712,"user_id":5901831,"accept_rate":100,"display_name":"Hemin"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1494397733,"creation_date":1487746951,"answer_id":42384741,"question_id":3913502,"body_markdown":"Most Easy Solution will be using Apache http client library. refer following sample code..\r\nthis code uses basic security for authenticating.\r\n\r\nAdd following Dependency.\r\n\r\n&gt;     &lt;dependency&gt;\r\n&gt;     &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n&gt;     &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n&gt;     &lt;version&gt;4.4&lt;/version&gt;\r\n&gt;     &lt;/dependency&gt;\r\n\r\n    CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n    Credentials credentials = new UsernamePasswordCredentials(&quot;username&quot;, &quot;password&quot;);\r\n    credentialsProvider.setCredentials(AuthScope.ANY, credentials);\r\n    HttpClient client = HttpClientBuilder.create().setDefaultCredentialsProvider(credentialsProvider).build();\r\n    HttpPost request = new HttpPost(&quot;https://api.plivo.com/v1/Account/MAYNJ3OT/Message/&quot;);HttpResponse response = client.execute(request);\r\n        // Get the response\r\n        BufferedReader rd = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));\r\n        String line = &quot;&quot;;\r\n        while ((line = rd.readLine()) != null) {    \r\n        textView = textView + line;\r\n        }\r\n        System.out.println(textView);\r\n            \t\t","title":"RESTful call in Java","body":"<p>Most Easy Solution will be using Apache http client library. refer following sample code..\nthis code uses basic security for authenticating.</p>\n\n<p>Add following Dependency.</p>\n\n<blockquote>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n&lt;version&gt;4.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</blockquote>\n\n<pre><code>CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\nCredentials credentials = new UsernamePasswordCredentials(\"username\", \"password\");\ncredentialsProvider.setCredentials(AuthScope.ANY, credentials);\nHttpClient client = HttpClientBuilder.create().setDefaultCredentialsProvider(credentialsProvider).build();\nHttpPost request = new HttpPost(\"https://api.plivo.com/v1/Account/MAYNJ3OT/Message/\");HttpResponse response = client.execute(request);\n    // Get the response\n    BufferedReader rd = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));\n    String line = \"\";\n    while ((line = rd.readLine()) != null) {    \n    textView = textView + line;\n    }\n    System.out.println(textView);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11148136,"reputation":5536,"user_id":8182248,"display_name":"Kishan Bharda"},"score":0,"creation_date":1580445518,"post_id":59997594,"comment_id":106107634,"body_markdown":"Instead of providing link can you please add explanation here ?","body":"Instead of providing link can you please add explanation here ?"}],"tags":[],"owner":{"account_id":9471530,"reputation":107,"user_id":7042240,"accept_rate":100,"display_name":"Francis Raj"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580442286,"creation_date":1580442286,"answer_id":59997594,"question_id":3913502,"body_markdown":"I see many answers, here&#39;s what we are using in 2020 [WebClient][1], and BTW [RestTemplate][2] is going to get deprecated. (can check this) [RestTemplate going to be deprecated][3]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.html\r\n  [2]: http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/client/RestTemplate.html\r\n  [3]: https://github.com/spring-guides/gs-consuming-rest/issues/28","title":"RESTful call in Java","body":"<p>I see many answers, here's what we are using in 2020 <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.html\" rel=\"nofollow noreferrer\">WebClient</a>, and BTW <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/client/RestTemplate.html\" rel=\"nofollow noreferrer\">RestTemplate</a> is going to get deprecated. (can check this) <a href=\"https://github.com/spring-guides/gs-consuming-rest/issues/28\" rel=\"nofollow noreferrer\">RestTemplate going to be deprecated</a></p>\n"},{"tags":[],"owner":{"account_id":13447169,"reputation":1234,"user_id":9702804,"display_name":"G. Ciardini"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1634937576,"creation_date":1634937576,"answer_id":69683174,"question_id":3913502,"body_markdown":"The following is an example of a GET request that prints the response body as a\r\nString with [HttpRequest][1]: \r\n\r\n``` Java\r\n   HttpClient client = HttpClient.newHttpClient();\r\n   HttpRequest request = HttpRequest.newBuilder()\r\n         .uri(URI.create(&quot;http://example.org/&quot;))\r\n         .build();\r\n   client.sendAsync(request, BodyHandlers.ofString())\r\n         .thenApply(HttpResponse::body)\r\n         .thenAccept(System.out::println)\r\n         .join(); \r\n```\r\nIf you need to set the header you could use the following method inside the `HttpRequest.Builder`:\r\n\r\n``` Java\r\n.setHeader(&quot;api-key&quot;, &quot;value&quot;)\r\n```\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpRequest.html","title":"RESTful call in Java","body":"<p>The following is an example of a GET request that prints the response body as a\nString with <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpRequest.html\" rel=\"nofollow noreferrer\">HttpRequest</a>:</p>\n<pre><code>   HttpClient client = HttpClient.newHttpClient();\n   HttpRequest request = HttpRequest.newBuilder()\n         .uri(URI.create(&quot;http://example.org/&quot;))\n         .build();\n   client.sendAsync(request, BodyHandlers.ofString())\n         .thenApply(HttpResponse::body)\n         .thenAccept(System.out::println)\n         .join(); \n</code></pre>\n<p>If you need to set the header you could use the following method inside the <code>HttpRequest.Builder</code>:</p>\n<pre><code>.setHeader(&quot;api-key&quot;, &quot;value&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3672748,"reputation":3884,"user_id":3059517,"accept_rate":85,"display_name":"Mark Giaconia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662115290,"creation_date":1662115290,"answer_id":73581365,"question_id":3913502,"body_markdown":"Here is a utility class I use for calling some internal APIs (Sept 2022). All core java except for Gson for the Json de/serialization.\r\nPOST and GET.\r\n\r\n\r\n    package com.somepackagename.utils;\r\n    \r\n    import com.google.gson.Gson;\r\n    import com.google.gson.GsonBuilder;\r\n    import java.io.IOException;\r\n    import java.net.URI;\r\n    import java.net.URISyntaxException;\r\n    import java.net.http.HttpClient;\r\n    import java.net.http.HttpRequest;\r\n    import java.net.http.HttpResponse;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    \r\n    public class HTTPCaller {\r\n    \r\n      private final String BEARER_TOKEN;\r\n      private static Gson gson = new GsonBuilder().setPrettyPrinting().serializeSpecialFloatingPointValues().create();\r\n    \r\n      public HTTPCaller(String bearerToken) {\r\n        this.BEARER_TOKEN = bearerToken;\r\n      }\r\n    \r\n      public Map&lt;String, Object&gt; post(String endpoint, String jsonPayload, Map&lt;String, String&gt; headers)\r\n              throws IOException, URISyntaxException, InterruptedException {\r\n    \r\n        HttpRequest.Builder reqBuilder = HttpRequest.newBuilder();\r\n        if (headers != null) {\r\n          for (Map.Entry&lt;String, String&gt; header : headers.entrySet()) {\r\n            reqBuilder.header(header.getKey(), header.getValue());\r\n          }\r\n        }\r\n    //always add these anyway, or not\r\n        reqBuilder.header(&quot;content-type&quot;, &quot;application/json&quot;)\r\n                .header(&quot;Authorization&quot;, &quot;Bearer &quot; + BEARER_TOKEN);\r\n    \r\n        HttpRequest request = reqBuilder\r\n                .uri(new URI(endpoint))\r\n                .POST(HttpRequest.BodyPublishers.ofByteArray(jsonPayload.getBytes()))\r\n                .build();\r\n    \r\n        HttpResponse&lt;String&gt; response = HttpClient.newBuilder()\r\n                .build()\r\n                .send(request, java.net.http.HttpResponse.BodyHandlers.ofString());\r\n        String responseBody = response.body();\r\n        Map&lt;String, Object&gt; output = (Map&lt;String, Object&gt;) gson.fromJson(responseBody, HashMap.class);\r\n    \r\n        return output;\r\n    \r\n      }\r\n    \r\n      public Map&lt;String, Object&gt; get(String endpoint) throws Exception {\r\n    \r\n        HttpRequest.Builder reqBuilder = HttpRequest.newBuilder();\r\n    \r\n    //always add these anyway\r\n        reqBuilder.header(&quot;content-type&quot;, &quot;application/json&quot;)\r\n                .header(&quot;Authorization&quot;, &quot;Bearer &quot; + BEARER_TOKEN);\r\n    \r\n        HttpRequest request = reqBuilder\r\n                .uri(new URI(endpoint))\r\n                .GET()\r\n                .build();\r\n    \r\n        HttpResponse&lt;String&gt; response = HttpClient.newBuilder()\r\n                .build()\r\n                .send(request, java.net.http.HttpResponse.BodyHandlers.ofString());\r\n        String responseBody = response.body();\r\n        Map&lt;String, Object&gt; output = (Map&lt;String, Object&gt;) gson.fromJson(responseBody, HashMap.class);\r\n    \r\n        return output;\r\n    \r\n      }\r\n    }\r\n\r\n","title":"RESTful call in Java","body":"<p>Here is a utility class I use for calling some internal APIs (Sept 2022). All core java except for Gson for the Json de/serialization.\nPOST and GET.</p>\n<pre><code>package com.somepackagename.utils;\n\nimport com.google.gson.Gson;\nimport com.google.gson.GsonBuilder;\nimport java.io.IOException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\nimport java.util.HashMap;\nimport java.util.Map;\n\n\npublic class HTTPCaller {\n\n  private final String BEARER_TOKEN;\n  private static Gson gson = new GsonBuilder().setPrettyPrinting().serializeSpecialFloatingPointValues().create();\n\n  public HTTPCaller(String bearerToken) {\n    this.BEARER_TOKEN = bearerToken;\n  }\n\n  public Map&lt;String, Object&gt; post(String endpoint, String jsonPayload, Map&lt;String, String&gt; headers)\n          throws IOException, URISyntaxException, InterruptedException {\n\n    HttpRequest.Builder reqBuilder = HttpRequest.newBuilder();\n    if (headers != null) {\n      for (Map.Entry&lt;String, String&gt; header : headers.entrySet()) {\n        reqBuilder.header(header.getKey(), header.getValue());\n      }\n    }\n//always add these anyway, or not\n    reqBuilder.header(&quot;content-type&quot;, &quot;application/json&quot;)\n            .header(&quot;Authorization&quot;, &quot;Bearer &quot; + BEARER_TOKEN);\n\n    HttpRequest request = reqBuilder\n            .uri(new URI(endpoint))\n            .POST(HttpRequest.BodyPublishers.ofByteArray(jsonPayload.getBytes()))\n            .build();\n\n    HttpResponse&lt;String&gt; response = HttpClient.newBuilder()\n            .build()\n            .send(request, java.net.http.HttpResponse.BodyHandlers.ofString());\n    String responseBody = response.body();\n    Map&lt;String, Object&gt; output = (Map&lt;String, Object&gt;) gson.fromJson(responseBody, HashMap.class);\n\n    return output;\n\n  }\n\n  public Map&lt;String, Object&gt; get(String endpoint) throws Exception {\n\n    HttpRequest.Builder reqBuilder = HttpRequest.newBuilder();\n\n//always add these anyway\n    reqBuilder.header(&quot;content-type&quot;, &quot;application/json&quot;)\n            .header(&quot;Authorization&quot;, &quot;Bearer &quot; + BEARER_TOKEN);\n\n    HttpRequest request = reqBuilder\n            .uri(new URI(endpoint))\n            .GET()\n            .build();\n\n    HttpResponse&lt;String&gt; response = HttpClient.newBuilder()\n            .build()\n            .send(request, java.net.http.HttpResponse.BodyHandlers.ofString());\n    String responseBody = response.body();\n    Map&lt;String, Object&gt; output = (Map&lt;String, Object&gt;) gson.fromJson(responseBody, HashMap.class);\n\n    return output;\n\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":309142,"reputation":3795,"user_id":621438,"accept_rate":79,"display_name":"LukeSolar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679913346,"creation_date":1679913346,"answer_id":75854727,"question_id":3913502,"body_markdown":"Simple and synchronous version of G. Ciardini with modern Java:\r\n\r\n```\r\nHttpClient client = HttpClient.newHttpClient();\r\nHttpRequest request = HttpRequest.newBuilder()\r\n                .uri(create(&quot;https://some-rest-url/path&quot;))\r\n                //.headers(...)\r\n                .build();\r\nHttpResponse&lt;String&gt; httpResponse = client.send(request, HttpResponse.BodyHandlers.ofString());\r\nSystem.out.println(httpResponse.body());\r\n```","title":"RESTful call in Java","body":"<p>Simple and synchronous version of G. Ciardini with modern Java:</p>\n<pre><code>HttpClient client = HttpClient.newHttpClient();\nHttpRequest request = HttpRequest.newBuilder()\n                .uri(create(&quot;https://some-rest-url/path&quot;))\n                //.headers(...)\n                .build();\nHttpResponse&lt;String&gt; httpResponse = client.send(request, HttpResponse.BodyHandlers.ofString());\nSystem.out.println(httpResponse.body());\n</code></pre>\n"}],"owner":{"account_id":164508,"reputation":20235,"user_id":387298,"accept_rate":91,"display_name":"Questions"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":620052,"favorite_count":0,"down_vote_count":3,"up_vote_count":177,"accepted_answer_id":3913610,"answer_count":14,"score":174,"last_activity_date":1679913346,"creation_date":1286878085,"question_id":3913502,"body_markdown":"I am going to make a RESTful call in Java. However, I don&#39;t know how to make the call. Do I need to use the `URLConnection` or others?","title":"RESTful call in Java","body":"<p>I am going to make a RESTful call in Java. However, I don't know how to make the call. Do I need to use the <code>URLConnection</code> or others?</p>\n"},{"tags":["java","arrays","arraylist","linked-list"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679913233,"post_id":75854597,"comment_id":133800087,"body_markdown":"`students.remove(id-1);` *should* work (zero-indexed), but of course, only *once* if you think about it ;)","body":"<code>students.remove(id-1);</code> <i>should</i> work (zero-indexed), but of course, only <i>once</i> if you think about it ;)"},{"owner":{"account_id":28136636,"reputation":1,"user_id":21500306,"display_name":"NeedHelp"},"score":0,"creation_date":1679914555,"post_id":75854597,"comment_id":133800418,"body_markdown":"That only works if the ID never misses a number yea? \n\n(hence the only works once line right?)","body":"That only works if the ID never misses a number yea?   (hence the only works once line right?)"}],"owner":{"account_id":28136636,"reputation":1,"user_id":21500306,"display_name":"NeedHelp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679915184,"answer_count":0,"score":0,"last_activity_date":1679912622,"creation_date":1679912449,"question_id":75854597,"body_markdown":"I am really struggling with something that should seem super simple but I can&#39;t get it to work.\r\n\r\nI have a linkedlist looking something like this:\r\n\r\n - ID \tFirstName \tLastName    Score \r\n - 1\tDave\t\tDavison     5   \r\n - 2\tJeff\t\tJeffison    1 \r\n - 3\tBrian\t\tBrianson    3\r\n\r\nI am trying to get a user to input a value for the ID field, and then delete the whole object.\r\n\r\nWhen I do this it deletes the object based on the array ID (so if they input 1 it removes the second object)\r\n\r\n`System.out.println(&quot;Please enter an ID number to remove&quot;); \r\nint id = scanner.nextInt();\r\nstudents.remove(id);`\r\n\r\nI have tried everything Mr Google would help me with but it varied from not working at all, to throwing errors.  This has to be something simple I am missing yea?","title":"Trying to remove an entire object from a linkedlist based on a specific bit of data in the lisy","body":"<p>I am really struggling with something that should seem super simple but I can't get it to work.</p>\n<p>I have a linkedlist looking something like this:</p>\n<ul>\n<li>ID   FirstName   LastName    Score</li>\n<li>1    Dave        Davison     5</li>\n<li>2    Jeff        Jeffison    1</li>\n<li>3    Brian       Brianson    3</li>\n</ul>\n<p>I am trying to get a user to input a value for the ID field, and then delete the whole object.</p>\n<p>When I do this it deletes the object based on the array ID (so if they input 1 it removes the second object)</p>\n<p><code>System.out.println(&quot;Please enter an ID number to remove&quot;);  int id = scanner.nextInt(); students.remove(id);</code></p>\n<p>I have tried everything Mr Google would help me with but it varied from not working at all, to throwing errors.  This has to be something simple I am missing yea?</p>\n"},{"tags":["java","classloader","memory-leaks","application-server"],"comments":[{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1295481114,"post_id":4742050,"comment_id":5242423,"body_markdown":"btw, unrelated but leaks and java.util.Logger was one of the worst decisions coming in java 6.0.18.. that made &#39;em held by WeakReferences totally breaking a lot of existing code.","body":"btw, unrelated but leaks and java.util.Logger was one of the worst decisions coming in java 6.0.18.. that made &#39;em held by WeakReferences totally breaking a lot of existing code."},{"owner":{"account_id":31685,"reputation":3185,"user_id":87206,"display_name":"CurtainDog"},"score":0,"creation_date":1295482401,"post_id":4742050,"comment_id":5242557,"body_markdown":"Interesting question... it appears to me though that a class loader leak is always the result of different leak somewhere else in the system (e.g. an unwanted instance is hanging around therefore its class loader can&#39;t be collected, etc, etc...) Is this a fair conclusion?","body":"Interesting question... it appears to me though that a class loader leak is always the result of different leak somewhere else in the system (e.g. an unwanted instance is hanging around therefore its class loader can&#39;t be collected, etc, etc...) Is this a fair conclusion?"},{"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"score":0,"creation_date":1295482785,"post_id":4742050,"comment_id":5242601,"body_markdown":"@CurtainDog Yes.  The classloader will only leak if a class it loads is restricting it from being garbage collected.  As the articles goes over, a servlet class that creates an anonymous inner class of one of bootstrap classes will cause the classloader to not get garbage collected","body":"@CurtainDog Yes.  The classloader will only leak if a class it loads is restricting it from being garbage collected.  As the articles goes over, a servlet class that creates an anonymous inner class of one of bootstrap classes will cause the classloader to not get garbage collected"},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1295482921,"post_id":4742050,"comment_id":5242617,"body_markdown":"no, it&#39;s not... absolutely innocently looking threads can leak classloaders as well, if you are not careful.","body":"no, it&#39;s not... absolutely innocently looking threads can leak classloaders as well, if you are not careful."},{"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"score":0,"creation_date":1295483157,"post_id":4742050,"comment_id":5242641,"body_markdown":"@bestsss - thats a good point I was a bit too empirical there.","body":"@bestsss - thats a good point I was a bit too empirical there."}],"answers":[{"tags":[],"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1295483023,"creation_date":1295480959,"answer_id":4742104,"question_id":4742050,"body_markdown":"Those are one of the worst leaks... but any leak is evil. So, I, personally, resolve them. Profiling helps as well.\r\nThere are no easy ways per se but:\r\n\r\n* Threads go into threadGroups +starter thread for each module to ensure new Threads() have that group.\r\n* Special care of the Thread.inheritedAccessControlContext (which holds a reference to the classloader)\r\n* WeakReferences when you need to keep classes, actually use WeakReferences for listeners, so no one can skip de-registers (and use only annon. clasess). Having the framework for WeakListeners does help.\r\n* Extra care for DB drives, java.security.Provider\r\n* few more tricks (incl. dynamic enhance of class files but that&#39;s overkill usually)\r\n\r\nbottom line:\r\n____\r\nleaks are evil.","title":"ClassLoader Leak - Are they worth solving?","body":"<p>Those are one of the worst leaks... but any leak is evil. So, I, personally, resolve them. Profiling helps as well.\nThere are no easy ways per se but:</p>\n\n<ul>\n<li>Threads go into threadGroups +starter thread for each module to ensure new Threads() have that group.</li>\n<li>Special care of the Thread.inheritedAccessControlContext (which holds a reference to the classloader)</li>\n<li>WeakReferences when you need to keep classes, actually use WeakReferences for listeners, so no one can skip de-registers (and use only annon. clasess). Having the framework for WeakListeners does help.</li>\n<li>Extra care for DB drives, java.security.Provider</li>\n<li>few more tricks (incl. dynamic enhance of class files but that's overkill usually)</li>\n</ul>\n\n<p>bottom line:</p>\n\n<hr>\n\n<p>leaks are evil.</p>\n"},{"comments":[{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1295481284,"post_id":4742114,"comment_id":5242440,"body_markdown":"funny, i wont have my sleep at night if i know i am letting a class leak in the wild :)","body":"funny, i wont have my sleep at night if i know i am letting a class leak in the wild :)"},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1295482163,"post_id":4742114,"comment_id":5242530,"body_markdown":"@bestsss It&#39;s called conscience, I think. Don&#39;t worry, it will go away after a few years. :)","body":"@bestsss It&#39;s called conscience, I think. Don&#39;t worry, it will go away after a few years. :)"},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1295482437,"post_id":4742114,"comment_id":5242564,"body_markdown":"@ biziclop: i doubt... i am programming since i was 6 (and a half), it has been hell a lot of time and my conscience is still there.","body":"@ biziclop: i doubt... i am programming since i was 6 (and a half), it has been hell a lot of time and my conscience is still there."},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1295482915,"post_id":4742114,"comment_id":5242616,"body_markdown":"@bestsss What you need then is a treatment of weekly meetings about corporate values and quality management. Oh, and how to increase efficiency.","body":"@bestsss What you need then is a treatment of weekly meetings about corporate values and quality management. Oh, and how to increase efficiency."},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1295483207,"post_id":4742114,"comment_id":5242644,"body_markdown":"@biziclop no one has complained about quality actually :P, as for efficiency I am quite a fast coder (still but the time takes its toll)... corporate stuff: well, whatever","body":"@biziclop no one has complained about quality actually :P, as for efficiency I am quite a fast coder (still but the time takes its toll)... corporate stuff: well, whatever"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1295484496,"post_id":4742114,"comment_id":5242779,"body_markdown":"@bestss - your conscience should not come into it.  It is sometimes necessary to compromise quality in order to get systems running within the constraints of the resources available to you.   The boss says so ... and the boss understands the business better than you do.  If you haven&#39;t been in this situation yet, you are lucky.","body":"@bestss - your conscience should not come into it.  It is sometimes necessary to compromise quality in order to get systems running within the constraints of the resources available to you.   The boss says so ... and the boss understands the business better than you do.  If you haven&#39;t been in this situation yet, you are lucky."},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1295484699,"post_id":4742114,"comment_id":5242802,"body_markdown":"@Stephen C - i do understand the remark and also i am sorta lucky (last part) but i will also just fix the leak in my nights since i wont sleep (that was the point). by the time i wont be happy w/ the quality of the code i deliver i&#39;d retire and do smth else... like being a bartender [everyone can dream, right?]","body":"@Stephen C - i do understand the remark and also i am sorta lucky (last part) but i will also just fix the leak in my nights since i wont sleep (that was the point). by the time i wont be happy w/ the quality of the code i deliver i&#39;d retire and do smth else... like being a bartender [everyone can dream, right?]"}],"tags":[],"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1295481062,"creation_date":1295481062,"answer_id":4742114,"question_id":4742050,"body_markdown":"I&#39;d approach the problem pragmatically:\r\n\r\n1. Is it causing problems in production environments?\r\n2. Have you got enough time and resources to track it down? \r\n\r\nIf the answer to both these questions is yes, then by all means go for it. If it&#39;s one yes, one no, it&#39;s probably up to the management to decide, if both are nos, don&#39;t bother.","title":"ClassLoader Leak - Are they worth solving?","body":"<p>I'd approach the problem pragmatically:</p>\n\n<ol>\n<li>Is it causing problems in production environments?</li>\n<li>Have you got enough time and resources to track it down? </li>\n</ol>\n\n<p>If the answer to both these questions is yes, then by all means go for it. If it's one yes, one no, it's probably up to the management to decide, if both are nos, don't bother.</p>\n"},{"comments":[{"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"score":0,"creation_date":1295533098,"post_id":4742156,"comment_id":5250025,"body_markdown":"This has pretty much been my stance since we observed the fact of the leak.  Fortunately for this situation the former of your two situations is what I am dealing with so I can probably make an argument against not resolving it for the time being.","body":"This has pretty much been my stance since we observed the fact of the leak.  Fortunately for this situation the former of your two situations is what I am dealing with so I can probably make an argument against not resolving it for the time being."},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1295552077,"post_id":4742156,"comment_id":5254729,"body_markdown":"leaks are easy to stop actually: jmap histogram and if you see 2 times exactly the same class, you know it&#39;s leaking. Leaks can become a serious problem if for some reason any class holds static references (but not ThreadLocal) to large structures like cache, ByteBuffers, etc...","body":"leaks are easy to stop actually: jmap histogram and if you see 2 times exactly the same class, you know it&#39;s leaking. Leaks can become a serious problem if for some reason any class holds static references (but not ThreadLocal) to large structures like cache, ByteBuffers, etc..."},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":0,"creation_date":1295600113,"post_id":4742156,"comment_id":5261693,"body_markdown":"@bestsss: that&#39;s how you confirm that you *have* a leak. Actually fixing it can be arbitrarily more difficult.","body":"@bestsss: that&#39;s how you confirm that you <i>have</i> a leak. Actually fixing it can be arbitrarily more difficult."},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1295628419,"post_id":4742156,"comment_id":5267512,"body_markdown":"opps I see where you are coming from stop=spot. a typo. didn&#39;t mean fixing at all.","body":"opps I see where you are coming from stop=spot. a typo. didn&#39;t mean fixing at all."}],"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":4,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1295535259,"creation_date":1295481579,"answer_id":4742156,"question_id":4742050,"body_markdown":"It really depends on the application, or rather, the deployment process being used. Many applications are only ever redeplyoed during development, new releases happen once every few months, and the application server is restarted for other reasons far more often than the app is deployed. In those circumstances, chasing Classloader leaks is a waste of time.\r\n\r\nOf course, if you plan on implementing a [continuous deployment process][1], especially in a high-availability environment, then Classloader leaks are something you really need to tackle. But there are a lot of other things you need to do better than most projects before that becomes an issue.\r\n\r\n\r\n  [1]: http://continuousdelivery.com/","title":"ClassLoader Leak - Are they worth solving?","body":"<p>It really depends on the application, or rather, the deployment process being used. Many applications are only ever redeplyoed during development, new releases happen once every few months, and the application server is restarted for other reasons far more often than the app is deployed. In those circumstances, chasing Classloader leaks is a waste of time.</p>\n\n<p>Of course, if you plan on implementing a <a href=\"http://continuousdelivery.com/\" rel=\"noreferrer\">continuous deployment process</a>, especially in a high-availability environment, then Classloader leaks are something you really need to tackle. But there are a lot of other things you need to do better than most projects before that becomes an issue.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1679912148,"creation_date":1295481802,"answer_id":4742174,"question_id":4742050,"body_markdown":"@biziclop is right.  You need to be pragmatic about this.\r\n\r\nIf the problem is only in test servers, you can probably dismiss this as not worth the effort to solve.\r\n\r\nIf the problem is in production servers then you need a solution or a workaround.  The solution is hard work, but the workarounds may be less work:\r\n\r\n  - Workaround #1 - don&#39;t do hot deploys to production servers; only do full redeployments and restarts.  \r\n\r\n  - Workaround #2 - periodically do a full restart of the production servers to avoid running out of permgen space&lt;sup&gt;1&lt;/sup&gt;.  Combine this with increasing the permgen space.\r\n\r\nIn a well resourced / well run environment you should be doing all of your testing on separate servers. If the downtime of a full deployment is a concern, you should be minimizing redeployment disruptions using server replication and progressive redeployment.  Hot deployments to production should be unnecessary.  \r\n\r\nIf you are in the position where you have no test environment and are doing frequent hot deploys to a production machine to minimize downtime, you are skating thin ice.  The chances are that you will eventually make a mistake that results in damage which takes a *long time* to recover from ... \r\n\r\n\r\n-------------\r\n\r\n&lt;sup&gt;1 - In Java 8 and later, permgen is gone.  But the flipside is that a classloader leak will now leak memory in the regular heap.&lt;/sup&gt;","title":"ClassLoader Leak - Are they worth solving?","body":"<p>@biziclop is right.  You need to be pragmatic about this.</p>\n<p>If the problem is only in test servers, you can probably dismiss this as not worth the effort to solve.</p>\n<p>If the problem is in production servers then you need a solution or a workaround.  The solution is hard work, but the workarounds may be less work:</p>\n<ul>\n<li><p>Workaround #1 - don't do hot deploys to production servers; only do full redeployments and restarts.</p>\n</li>\n<li><p>Workaround #2 - periodically do a full restart of the production servers to avoid running out of permgen space<sup>1</sup>.  Combine this with increasing the permgen space.</p>\n</li>\n</ul>\n<p>In a well resourced / well run environment you should be doing all of your testing on separate servers. If the downtime of a full deployment is a concern, you should be minimizing redeployment disruptions using server replication and progressive redeployment.  Hot deployments to production should be unnecessary.</p>\n<p>If you are in the position where you have no test environment and are doing frequent hot deploys to a production machine to minimize downtime, you are skating thin ice.  The chances are that you will eventually make a mistake that results in damage which takes a <em>long time</em> to recover from ...</p>\n<hr />\n<p><sup>1 - In Java 8 and later, permgen is gone.  But the flipside is that a classloader leak will now leak memory in the regular heap.</sup></p>\n"},{"tags":[],"owner":{"account_id":1312512,"reputation":2053,"user_id":1260222,"display_name":"Mattias Jiderhamn"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1387621490,"creation_date":1387621490,"answer_id":20717951,"question_id":4742050,"body_markdown":"Yes, there are easier - and more proper - ways to resolve the leaks. Add the [ClassLoader Leak Prevention library][1] to your project, and it should take care of the problem for you!\r\n\r\nIn case you want to track down the leaks yourself, [this blog series][2] will be of help.\r\n\r\n\r\n  [1]: https://github.com/mjiderhamn/classloader-leak-prevention\r\n  [2]: http://java.jiderhamn.se/2011/12/11/classloader-leaks-i-how-to-find-classloader-leaks-with-eclipse-memory-analyser-mat/","title":"ClassLoader Leak - Are they worth solving?","body":"<p>Yes, there are easier - and more proper - ways to resolve the leaks. Add the <a href=\"https://github.com/mjiderhamn/classloader-leak-prevention\" rel=\"nofollow\">ClassLoader Leak Prevention library</a> to your project, and it should take care of the problem for you!</p>\n\n<p>In case you want to track down the leaks yourself, <a href=\"http://java.jiderhamn.se/2011/12/11/classloader-leaks-i-how-to-find-classloader-leaks-with-eclipse-memory-analyser-mat/\" rel=\"nofollow\">this blog series</a> will be of help.</p>\n"}],"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5373,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":4742156,"answer_count":5,"score":13,"last_activity_date":1679912148,"creation_date":1295480421,"question_id":4742050,"body_markdown":"`ClassLoader` leaks usually result in *java.lang.OutOfMemoryError: PermGen*.  In the instance of working on application servers you may see this as a result of many redeploys of a common application.  The explanation and possible resolutions to this problem can be seen on these two links. (among others)\r\n\r\n[http://blogs.oracle.com/fkieviet/entry/classloader_leaks_the_dreaded_java][1]\r\n[http://dev.eclipse.org/blogs/memoryanalyzer/2008/05/17/the-unknown-generation-perm/][2]\r\n\r\nNow for the most part they are easy to get around.  Simply increase the -XX:MaxPermSize and when the inevitable happens, restart the JVM completely.  The problem with trying to solve this is that in large applications many classes can cause the classloader to leak and thus the classes to stay within the permgen. \r\n\r\nTwo questions arise from this:\r\n\r\nIs it reasonable to say that an issue like this is better to just increase the max perm size and restart where necessary or should finding a resolution be a higher priority?  \r\n\r\nAre there easier ways to resolve a classloader leak?\r\n\r\n  [1]: http://frankkieviet.blogspot.com/2006/10/classloader-leaks-dreaded-permgen-space.html\r\n  [2]: http://web.archive.org/web/20100223084225/http://dev.eclipse.org/blogs/memoryanalyzer/2008/05/17/the-unknown-generation-perm/","title":"ClassLoader Leak - Are they worth solving?","body":"<p><code>ClassLoader</code> leaks usually result in <em>java.lang.OutOfMemoryError: PermGen</em>.  In the instance of working on application servers you may see this as a result of many redeploys of a common application.  The explanation and possible resolutions to this problem can be seen on these two links. (among others)</p>\n<p><a href=\"http://frankkieviet.blogspot.com/2006/10/classloader-leaks-dreaded-permgen-space.html\" rel=\"nofollow noreferrer\">http://blogs.oracle.com/fkieviet/entry/classloader_leaks_the_dreaded_java</a>\n<a href=\"http://web.archive.org/web/20100223084225/http://dev.eclipse.org/blogs/memoryanalyzer/2008/05/17/the-unknown-generation-perm/\" rel=\"nofollow noreferrer\">http://dev.eclipse.org/blogs/memoryanalyzer/2008/05/17/the-unknown-generation-perm/</a></p>\n<p>Now for the most part they are easy to get around.  Simply increase the -XX:MaxPermSize and when the inevitable happens, restart the JVM completely.  The problem with trying to solve this is that in large applications many classes can cause the classloader to leak and thus the classes to stay within the permgen.</p>\n<p>Two questions arise from this:</p>\n<p>Is it reasonable to say that an issue like this is better to just increase the max perm size and restart where necessary or should finding a resolution be a higher priority?</p>\n<p>Are there easier ways to resolve a classloader leak?</p>\n"},{"tags":["java"],"owner":{"account_id":28136662,"reputation":1,"user_id":21500327,"display_name":"Bijoy Pandey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679912356,"answer_count":0,"score":0,"last_activity_date":1679912127,"creation_date":1679912127,"question_id":75854555,"body_markdown":"import java.util.Scanner;\r\n\r\npublic class Solution {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        \r\n        int i = scan.nextInt();\r\n        double d=scan.nextDouble();\r\n        String s=scan.nextLine();\r\n       \r\n\r\n        // Write your code here.\r\n\r\n        System.out.println(&quot;String: &quot; + s);\r\n        System.out.println(&quot;Double: &quot; + d);\r\n        System.out.println(&quot;Int: &quot; + i);\r\n    }\r\n}\r\n\r\n//output is not showing string data","title":"How can I print the value of String data?","body":"<p>import java.util.Scanner;</p>\n<p>public class Solution {</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    \n    int i = scan.nextInt();\n    double d=scan.nextDouble();\n    String s=scan.nextLine();\n   \n\n    // Write your code here.\n\n    System.out.println(&quot;String: &quot; + s);\n    System.out.println(&quot;Double: &quot; + d);\n    System.out.println(&quot;Int: &quot; + i);\n}\n</code></pre>\n<p>}</p>\n<p>//output is not showing string data</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9680,"page":545,"page_size":100}
