{"items":[{"tags":["java","parsing","antlr","grammar"],"answers":[{"tags":[],"owner":{"account_id":1156784,"reputation":50182,"user_id":1137174,"accept_rate":78,"display_name":"Mike Lischke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679900060,"creation_date":1679900060,"answer_id":75852859,"question_id":75851642,"body_markdown":"Internally the parsing engine doesn&#39;t work in terms of rules, but of ATN states and will have to walk this augmented transition network to find states that follow a given state (also known as follow set).\r\n\r\nFor a single look ahead use the [LL1Analyzer][1] class from the runtime. For more complex lookahead, possibly collecting rule names search for a code completion engine (e.g. [antlr4-c3][2]).\r\n\r\n\r\n  [1]: https://github.com/antlr/antlr4/blob/master/runtime/Java/src/org/antlr/v4/runtime/atn/LL1Analyzer.java\r\n  [2]: https://github.com/mike-lischke/antlr4-c3","title":"In ANTLR v4, is there a way to list the next possible rules for a given rule?","body":"<p>Internally the parsing engine doesn't work in terms of rules, but of ATN states and will have to walk this augmented transition network to find states that follow a given state (also known as follow set).</p>\n<p>For a single look ahead use the <a href=\"https://github.com/antlr/antlr4/blob/master/runtime/Java/src/org/antlr/v4/runtime/atn/LL1Analyzer.java\" rel=\"nofollow noreferrer\">LL1Analyzer</a> class from the runtime. For more complex lookahead, possibly collecting rule names search for a code completion engine (e.g. <a href=\"https://github.com/mike-lischke/antlr4-c3\" rel=\"nofollow noreferrer\">antlr4-c3</a>).</p>\n"}],"owner":{"account_id":19666438,"reputation":21,"user_id":14396749,"display_name":"JAKE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679900060,"creation_date":1679882941,"question_id":75851642,"body_markdown":"I&#39;ve looked through the ANTLR book, but I haven&#39;t come across a way to get the next possible rules for a given rule.\r\n\r\nFor instance, with a test grammar like\r\n\r\n```\r\ngrammar ArrayInit;\r\ninit : &#39;{&#39; value (&#39;,&#39; value)* &#39;}&#39; ; \r\nvalue : init \r\n    | INT\r\n    ;\r\nINT : [0-9]+ ;\r\nWS : [ \\t\\r\\n]+ -&gt; skip ;\r\n```\r\n\r\nis there a way to iteratively go through the rules and list the next possible rules?\r\n\r\nFor something like the above grammar, I&#39;d expect to be able to start with the `init` rule. When I give that `init` rule, I&#39;d expect to get the next possible options of `{`, `value`, (`,` and `value`), and `}`. \r\n\r\nThis way I could figure out what next possible tokens might be. I would be able to start with the `init` rule, and iteratively move through the grammar, seeing that `init` -&gt; `{ value }` possible with the comma variation.\r\n\r\nI&#39;ve looked through the ANTLR classes. I&#39;m able to use the parser&#39;s `getRuleNames` function to get all the rules. However, I can&#39;t use that to determine which rules follow a given rule.","title":"In ANTLR v4, is there a way to list the next possible rules for a given rule?","body":"<p>I've looked through the ANTLR book, but I haven't come across a way to get the next possible rules for a given rule.</p>\n<p>For instance, with a test grammar like</p>\n<pre><code>grammar ArrayInit;\ninit : '{' value (',' value)* '}' ; \nvalue : init \n    | INT\n    ;\nINT : [0-9]+ ;\nWS : [ \\t\\r\\n]+ -&gt; skip ;\n</code></pre>\n<p>is there a way to iteratively go through the rules and list the next possible rules?</p>\n<p>For something like the above grammar, I'd expect to be able to start with the <code>init</code> rule. When I give that <code>init</code> rule, I'd expect to get the next possible options of <code>{</code>, <code>value</code>, (<code>,</code> and <code>value</code>), and <code>}</code>.</p>\n<p>This way I could figure out what next possible tokens might be. I would be able to start with the <code>init</code> rule, and iteratively move through the grammar, seeing that <code>init</code> -&gt; <code>{ value }</code> possible with the comma variation.</p>\n<p>I've looked through the ANTLR classes. I'm able to use the parser's <code>getRuleNames</code> function to get all the rules. However, I can't use that to determine which rules follow a given rule.</p>\n"},{"tags":["java","android","augmented-reality","arcore"],"owner":{"account_id":27709901,"reputation":3,"user_id":21498742,"display_name":"daria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679899593,"creation_date":1679899021,"question_id":75852734,"body_markdown":"I am developing an ARCore app using Android Studio and I have encountered two issues that I am struggling to resolve. First, when the ViewRenderable build() method is called, I get a segmentation fault error. Second, when the camera opens, it is horizontal and at an angle. I am new to ARCore development, so any help or guidance on how to resolve these issues would be greatly appreciated.\r\n\r\nHere is a snippet of my code for reference. I have deleted the parts of code that are not relevant to this question.\r\n\r\n\r\n```\r\n\r\n     import android.Manifest;\r\n     import android.annotation.SuppressLint;\r\n     import android.app.Activity;\r\n     import android.content.pm.PackageManager;\r\n     import android.location.Location;\r\n     import android.os.Bundle;\r\n     import android.util.Log;\r\n     import android.view.LayoutInflater;\r\n     import android.view.View;\r\n     import android.view.ViewGroup;\r\n     import android.widget.Toast;\r\n     \r\n     import androidx.annotation.NonNull;\r\n     import androidx.annotation.Nullable;\r\n     import androidx.core.app.ActivityCompat;\r\n     import androidx.core.content.ContextCompat;\r\n     \r\n     import com.google.android.gms.location.FusedLocationProviderClient;\r\n     import com.google.android.gms.location.LocationServices;\r\n     import com.google.android.gms.maps.model.LatLng;\r\n     import com.google.android.gms.tasks.OnSuccessListener;\r\n     import com.google.ar.core.Anchor;\r\n     import com.google.ar.core.Config;\r\n     import com.google.ar.core.Frame;\r\n     import com.google.ar.core.Pose;\r\n     import com.google.ar.core.Session;\r\n     import com.google.ar.core.exceptions.CameraNotAvailableException;\r\n     import com.google.ar.sceneform.AnchorNode;\r\n     import com.google.ar.sceneform.rendering.ViewRenderable;\r\n     import com.google.ar.sceneform.ux.ArFragment;\r\n     import com.google.ar.sceneform.ux.TransformableNode;\r\n     \r\n     import java.sql.SQLOutput;\r\n     import java.util.ArrayList;\r\n     import java.util.Arrays;\r\n     import java.util.List;\r\n     import java.util.concurrent.CompletionException;\r\n     \r\n     public class ArPlaneFragment extends ArFragment {\r\n     \r\n     private FusedLocationProviderClient mFusedLocationClient;\r\n     private LatLng current;\r\n     private Session session;\r\n     private final int MAX_DISTANCE = 100;\r\n     private ViewRenderable testViewRenderable;\r\n     \r\n     \r\n     public ArPlaneFragment() {\r\n         }\r\n     \r\n     \r\n         @Override\r\n     public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n     super.onViewCreated(view, savedInstanceState);\r\n     if (checkAndRequestPermissions()) {\r\n     startCamera();\r\n     else {\r\n     Toast.makeText(getActivity(), &quot;Please grant permissions&quot;, Toast.LENGTH_SHORT).show();\r\n             }\r\n         }\r\n     \r\n         @Override\r\n     public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n     inflater.inflate(R.layout.image_layout, null);\r\n     return super.onCreateView(inflater, container, savedInstanceState);\r\n         }\r\n     \r\n     private void startCamera() {\r\n     try {\r\n     session = new Session(getActivity());\r\n     Config config = new Config(session);\r\n     config.setFocusMode(Config.FocusMode.AUTO);\r\n     config.setUpdateMode(Config.UpdateMode.LATEST_CAMERA_IMAGE);\r\n     session.configure(config);\r\n     session.resume();\r\n     getArSceneView().setupSession(session);\r\n     getPlaneDiscoveryController().hide();\r\n     getPlaneDiscoveryController().setInstructionView(null);\r\n     getArSceneView().getPlaneRenderer().setEnabled(false);\r\n     \r\n     initNodes();\r\n     catch (Exception e) {\r\n     Log.e(&quot;AR&quot;, &quot;Failed to create ARCore session&quot;, e);\r\n             }\r\n         }\r\n     \r\n     private void initNodes() {\r\n     mFusedLocationClient = LocationServices.getFusedLocationProviderClient(getActivity());\r\n     mFusedLocationClient.getLastLocation().addOnSuccessListener(new OnSuccessListener&lt;Location&gt;() {\r\n                 @Override\r\n     public void onSuccess(Location location) {\r\n     if (location != null) {\r\n     current = new LatLng(location.getLatitude(), location.getLongitude());\r\n     if (session != null) {\r\n     Frame frame = null;  \r\n     try {\r\n     frame = session.update();\r\n     catch (CameraNotAvailableException e) {\r\n     throw new RuntimeException(e);\r\n                                 }\r\n     if (frame != null) {\r\n     addNodes();\r\n                                 }\r\n                             }\r\n     else {\r\n     Log.e(&quot;AR&quot;, &quot;System does not support AR&quot;);\r\n                     }\r\n                 }\r\n             });\r\n         }\r\n     \r\n     private void addNodes() {\r\n     ViewRenderable.builder()\r\n                     .setView(getActivity(), R.layout.image_layout)\r\n                     .build()\r\n                     .thenAccept(renderable -&gt; testViewRenderable = renderable)\r\n                     .exceptionally(\r\n     throwable -&gt; {\r\n     throwable.printStackTrace();\r\n     return null;\r\n                             });\r\n     \r\n     Anchor anchor = session.createAnchor(getArSceneView().getArFrame().getCamera().getPose().compose(Pose.makeTranslation(0, 0, -1f)).extractTranslation());\r\n     \r\n     anchorNode.setRenderable(testViewRenderable);\r\n     anchorNode.setParent(getArSceneView().getScene());\r\n     \r\n     TransformableNode imageNode = new TransformableNode(getTransformationSystem());\r\n     imageNode.setRenderable(testViewRenderable);\r\n     anchorNode.addChild(imageNode);\r\n     \r\n         }\r\n     }\r\n\r\n```","title":"Segmentation Fault on ViewRenderable.Builder build()","body":"<p>I am developing an ARCore app using Android Studio and I have encountered two issues that I am struggling to resolve. First, when the ViewRenderable build() method is called, I get a segmentation fault error. Second, when the camera opens, it is horizontal and at an angle. I am new to ARCore development, so any help or guidance on how to resolve these issues would be greatly appreciated.</p>\n<p>Here is a snippet of my code for reference. I have deleted the parts of code that are not relevant to this question.</p>\n<pre><code>\n     import android.Manifest;\n     import android.annotation.SuppressLint;\n     import android.app.Activity;\n     import android.content.pm.PackageManager;\n     import android.location.Location;\n     import android.os.Bundle;\n     import android.util.Log;\n     import android.view.LayoutInflater;\n     import android.view.View;\n     import android.view.ViewGroup;\n     import android.widget.Toast;\n     \n     import androidx.annotation.NonNull;\n     import androidx.annotation.Nullable;\n     import androidx.core.app.ActivityCompat;\n     import androidx.core.content.ContextCompat;\n     \n     import com.google.android.gms.location.FusedLocationProviderClient;\n     import com.google.android.gms.location.LocationServices;\n     import com.google.android.gms.maps.model.LatLng;\n     import com.google.android.gms.tasks.OnSuccessListener;\n     import com.google.ar.core.Anchor;\n     import com.google.ar.core.Config;\n     import com.google.ar.core.Frame;\n     import com.google.ar.core.Pose;\n     import com.google.ar.core.Session;\n     import com.google.ar.core.exceptions.CameraNotAvailableException;\n     import com.google.ar.sceneform.AnchorNode;\n     import com.google.ar.sceneform.rendering.ViewRenderable;\n     import com.google.ar.sceneform.ux.ArFragment;\n     import com.google.ar.sceneform.ux.TransformableNode;\n     \n     import java.sql.SQLOutput;\n     import java.util.ArrayList;\n     import java.util.Arrays;\n     import java.util.List;\n     import java.util.concurrent.CompletionException;\n     \n     public class ArPlaneFragment extends ArFragment {\n     \n     private FusedLocationProviderClient mFusedLocationClient;\n     private LatLng current;\n     private Session session;\n     private final int MAX_DISTANCE = 100;\n     private ViewRenderable testViewRenderable;\n     \n     \n     public ArPlaneFragment() {\n         }\n     \n     \n         @Override\n     public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n     super.onViewCreated(view, savedInstanceState);\n     if (checkAndRequestPermissions()) {\n     startCamera();\n     else {\n     Toast.makeText(getActivity(), &quot;Please grant permissions&quot;, Toast.LENGTH_SHORT).show();\n             }\n         }\n     \n         @Override\n     public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n     inflater.inflate(R.layout.image_layout, null);\n     return super.onCreateView(inflater, container, savedInstanceState);\n         }\n     \n     private void startCamera() {\n     try {\n     session = new Session(getActivity());\n     Config config = new Config(session);\n     config.setFocusMode(Config.FocusMode.AUTO);\n     config.setUpdateMode(Config.UpdateMode.LATEST_CAMERA_IMAGE);\n     session.configure(config);\n     session.resume();\n     getArSceneView().setupSession(session);\n     getPlaneDiscoveryController().hide();\n     getPlaneDiscoveryController().setInstructionView(null);\n     getArSceneView().getPlaneRenderer().setEnabled(false);\n     \n     initNodes();\n     catch (Exception e) {\n     Log.e(&quot;AR&quot;, &quot;Failed to create ARCore session&quot;, e);\n             }\n         }\n     \n     private void initNodes() {\n     mFusedLocationClient = LocationServices.getFusedLocationProviderClient(getActivity());\n     mFusedLocationClient.getLastLocation().addOnSuccessListener(new OnSuccessListener&lt;Location&gt;() {\n                 @Override\n     public void onSuccess(Location location) {\n     if (location != null) {\n     current = new LatLng(location.getLatitude(), location.getLongitude());\n     if (session != null) {\n     Frame frame = null;  \n     try {\n     frame = session.update();\n     catch (CameraNotAvailableException e) {\n     throw new RuntimeException(e);\n                                 }\n     if (frame != null) {\n     addNodes();\n                                 }\n                             }\n     else {\n     Log.e(&quot;AR&quot;, &quot;System does not support AR&quot;);\n                     }\n                 }\n             });\n         }\n     \n     private void addNodes() {\n     ViewRenderable.builder()\n                     .setView(getActivity(), R.layout.image_layout)\n                     .build()\n                     .thenAccept(renderable -&gt; testViewRenderable = renderable)\n                     .exceptionally(\n     throwable -&gt; {\n     throwable.printStackTrace();\n     return null;\n                             });\n     \n     Anchor anchor = session.createAnchor(getArSceneView().getArFrame().getCamera().getPose().compose(Pose.makeTranslation(0, 0, -1f)).extractTranslation());\n     \n     anchorNode.setRenderable(testViewRenderable);\n     anchorNode.setParent(getArSceneView().getScene());\n     \n     TransformableNode imageNode = new TransformableNode(getTransformationSystem());\n     imageNode.setRenderable(testViewRenderable);\n     anchorNode.addChild(imageNode);\n     \n         }\n     }\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-rest","mapstruct"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1634405475,"post_id":69597398,"comment_id":123017830,"body_markdown":"You didn&#39;t show any configuration, such as your `@SpringBootApplication` class.","body":"You didn&#39;t show any configuration, such as your <code>@SpringBootApplication</code> class."},{"owner":{"account_id":8016433,"reputation":770,"user_id":7575841,"display_name":"Anshuman"},"score":0,"creation_date":1634459255,"post_id":69597398,"comment_id":123025850,"body_markdown":"Hey @chrylis-cautiouslyoptimistic-, I added `@SpringBootApplication` file. Please take a look.","body":"Hey @chrylis-cautiouslyoptimistic-, I added <code>@SpringBootApplication</code> file. Please take a look."},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1634459411,"post_id":69597398,"comment_id":123025883,"body_markdown":"Is the package where you stuck your mapper one of the ones being picked up by the component scan?","body":"Is the package where you stuck your mapper one of the ones being picked up by the component scan?"},{"owner":{"account_id":8016433,"reputation":770,"user_id":7575841,"display_name":"Anshuman"},"score":0,"creation_date":1634459622,"post_id":69597398,"comment_id":123025917,"body_markdown":"Hi @RoddyoftheFrozenPeas, yes the package where mapper interface is stuck is being picked up by component scan.\nPlease take a look at the **package structure** image","body":"Hi @RoddyoftheFrozenPeas, yes the package where mapper interface is stuck is being picked up by component scan. Please take a look at the <b>package structure</b> image"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1634476169,"post_id":69597398,"comment_id":123029593,"body_markdown":"Please edit your SBA file to include its package statement.","body":"Please edit your SBA file to include its package statement."}],"answers":[{"tags":[],"owner":{"account_id":5000772,"reputation":534,"user_id":4019879,"display_name":"Giang Phan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634403577,"creation_date":1634403577,"answer_id":69597762,"question_id":69597398,"body_markdown":"There are several suggestions you can investigate. First, check if there is @Component in the class generated by mvn. \r\n\r\n - If so, check if your application is configured to scan that package.\r\n - If no, try to read [the MapStruct documentation](https://mapstruct.org/documentation/dev/reference/html/#retrieving-mapper).","title":"Unable to autowire the MapStruct mapper","body":"<p>There are several suggestions you can investigate. First, check if there is @Component in the class generated by mvn.</p>\n<ul>\n<li>If so, check if your application is configured to scan that package.</li>\n<li>If no, try to read <a href=\"https://mapstruct.org/documentation/dev/reference/html/#retrieving-mapper\" rel=\"nofollow noreferrer\">the MapStruct documentation</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":17019087,"reputation":736,"user_id":12312156,"display_name":"Faramarz Afzali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634420834,"creation_date":1634419115,"answer_id":69599620,"question_id":69597398,"body_markdown":"I have the dependency like below, all the things are Ok. \r\n\r\n``` xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n    &lt;version&gt;1.4.2.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nAnd in part of plugins.\r\n``` xml\r\n\r\n &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                      &lt;path&gt;\r\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.4.2.Final&lt;/version&gt;\r\n                      &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```","title":"Unable to autowire the MapStruct mapper","body":"<p>I have the dependency like below, all the things are Ok.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n    &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n    &lt;version&gt;1.4.2.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And in part of plugins.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                      &lt;path&gt;\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                        &lt;version&gt;1.4.2.Final&lt;/version&gt;\n                      &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3081993,"reputation":643,"user_id":2610003,"accept_rate":62,"display_name":"Marius Schmidt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634482468,"creation_date":1634421477,"answer_id":69599821,"question_id":69597398,"body_markdown":"If the pom.xml you provided is the latest version, I think you are missing the step, that actually generates the MapStruct mappers from your definitions. You need to define it as part of the build setup as stated here https://mapstruct.org/documentation/installation/\r\n\r\nYou need to add that part to the build - plugins section\r\n\r\n    &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt; &lt;!-- depending on your project --&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt; &lt;!-- depending on your project --&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;!-- other annotation processors --&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\nAlso check your target/generated folders if the mappers are successfully generated\r\n\r\n**EDIT:**\r\n\r\nafter running the build, please verify, that your maven build output folder **target/generated-sources** actually contains some generated mappers for MapStruct. Also observe your maven build log output for hints, that MapStruct mappers are generated.\r\n\r\nIF no mappers are generated, something in your build setup is fishy and we&#39;d need a closer look into your log output. \r\n\r\nBut IF mappers are generated, you should check, that that have the @Component annotation of spring AND that they are in a package, that is on Springs scan-path for beans.\r\n\r\n","title":"Unable to autowire the MapStruct mapper","body":"<p>If the pom.xml you provided is the latest version, I think you are missing the step, that actually generates the MapStruct mappers from your definitions. You need to define it as part of the build setup as stated here <a href=\"https://mapstruct.org/documentation/installation/\" rel=\"nofollow noreferrer\">https://mapstruct.org/documentation/installation/</a></p>\n<p>You need to add that part to the build - plugins section</p>\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt; &lt;!-- depending on your project --&gt;\n                &lt;target&gt;1.8&lt;/target&gt; &lt;!-- depending on your project --&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                        &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;!-- other annotation processors --&gt;\n                &lt;/annotationProcessorPaths&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>Also check your target/generated folders if the mappers are successfully generated</p>\n<p><strong>EDIT:</strong></p>\n<p>after running the build, please verify, that your maven build output folder <strong>target/generated-sources</strong> actually contains some generated mappers for MapStruct. Also observe your maven build log output for hints, that MapStruct mappers are generated.</p>\n<p>IF no mappers are generated, something in your build setup is fishy and we'd need a closer look into your log output.</p>\n<p>But IF mappers are generated, you should check, that that have the @Component annotation of spring AND that they are in a package, that is on Springs scan-path for beans.</p>\n"},{"tags":[],"owner":{"account_id":10796680,"reputation":141,"user_id":9165206,"display_name":"Максим Савельев"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638820950,"creation_date":1638820950,"answer_id":70251260,"question_id":69597398,"body_markdown":"Added to plugins:\r\n\r\n     &lt;compilerArgs&gt;\r\n          &lt;compilerArg&gt;\r\n                 -Amapstruct.defaultComponentModel=spring\r\n          &lt;/compilerArg&gt;\r\n     &lt;/compilerArgs&gt;","title":"Unable to autowire the MapStruct mapper","body":"<p>Added to plugins:</p>\n<pre><code> &lt;compilerArgs&gt;\n      &lt;compilerArg&gt;\n             -Amapstruct.defaultComponentModel=spring\n      &lt;/compilerArg&gt;\n &lt;/compilerArgs&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679899434,"creation_date":1679899434,"answer_id":75852784,"question_id":69597398,"body_markdown":"I was able to make this work follow these steps, also I was using &lt;b&gt;lombok &amp; mapstruct&lt;/b&gt; together with maven\r\n\r\nStep 1: Add lombok &amp; mapstruct dependency\r\n```\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nStep 2: Since both mapstruct &amp; lombok are based on annotation processing. Add config in maven build plugin section, you don&#39;t need this step if using IntelliJ IDEA, by enabling annotation processiong in IDE settings.\r\n\r\n```\r\n         &lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;mainClass&gt;&lt;/mainClass&gt; &lt;!-- FQN of class with main method\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;${lombok.version}&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\r\n```\r\nStep 3: Mapper class should have be annotated with @Mapper annotation\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;)\r\n@Service\r\npublic interface PersonMapper {\r\n\t // add appropriate mapper methods\r\n}\r\n\r\n```\r\nStep 3: Update maven project &amp; run \r\n\r\n&gt; mvn clean install\r\n\r\nRun the application. Inside target folder there will be PersonMapperImpl.java generated by mapstruct.\r\n","title":"Unable to autowire the MapStruct mapper","body":"<p>I was able to make this work follow these steps, also I was using <b>lombok &amp; mapstruct</b> together with maven</p>\n<p>Step 1: Add lombok &amp; mapstruct dependency</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Step 2: Since both mapstruct &amp; lombok are based on annotation processing. Add config in maven build plugin section, you don't need this step if using IntelliJ IDEA, by enabling annotation processiong in IDE settings.</p>\n<pre><code>         &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;&lt;/mainClass&gt; &lt;!-- FQN of class with main method\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;${lombok.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n\n</code></pre>\n<p>Step 3: Mapper class should have be annotated with @Mapper annotation</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\n@Service\npublic interface PersonMapper {\n     // add appropriate mapper methods\n}\n\n</code></pre>\n<p>Step 3: Update maven project &amp; run</p>\n<blockquote>\n<p>mvn clean install</p>\n</blockquote>\n<p>Run the application. Inside target folder there will be PersonMapperImpl.java generated by mapstruct.</p>\n"}],"owner":{"account_id":8016433,"reputation":770,"user_id":7575841,"display_name":"Anshuman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9517,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1679899434,"creation_date":1634401016,"question_id":69597398,"body_markdown":"I was following this [tutorial][1] about the partial update. As instructed, I created mapper interface with proper annotations.\r\n\r\nHere&#39;s the mapper\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface UserEntityMapper {\r\n  \r\n  @Mapping(source = &quot;password&quot;, target = &quot;password&quot;)\r\n  @BeanMapping(nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE)\r\n  void updatePasswordFromDTO(PasswordResetRequest dto, @MappingTarget User entity);\r\n}\r\n```\r\nAs per the tutorial, `@Mapper(componentModel = &quot;spring&quot;)` generates mapper as a Spring bean that can be retrieved via `@Autowired`.\r\n\r\nBut when I tried to do same in my service layer `class`, \r\n```java\r\n@Service\r\n@Transactional\r\npublic class AccountServiceImpl implements IAccountService {\r\n  ...\r\n  @Autowired\r\n  private UserEntityMapper userMapper;\r\n  ...\r\n}\r\n```\r\n\r\nI get this error, my application failed to start.\r\n```java\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField userMapper in com.application.services.AccountServiceImpl required a bean of type &#39;com.application.mappers.UserEntityMapper&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.application.mappers.UserEntityMapper&#39; in your configuration.\r\n```\r\n\r\nAnd at last, here&#39;s `pom.xml` of my project.\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.5&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.myproject&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;myproject&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;authentication-template&lt;/name&gt;\r\n\t&lt;description&gt;Description&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.9.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-freemarker --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-freemarker&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.mapstruct/mapstruct --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.2.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nI also tried these different solution, but same result.\r\n\r\n 1. [Answer By @Som][2]\r\n 2. [Answer by @Gunnar][3]\r\n\r\n## Edit 1\r\nHere&#39;s `@SpringBootApplication` file.\r\n\r\n```java\r\n@SpringBootApplication\r\n@PropertySources(value = {\r\n  @PropertySource(&quot;classpath:mail.properties&quot;),\r\n  @PropertySource(&quot;classpath:messages.properties&quot;),\r\n  @PropertySource(&quot;classpath:security.properties&quot;)\r\n})\r\npublic class Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Application.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n## Edit 2\r\nPackage structure of the project\r\n\r\n[![Package structure of the project][4]][4]\r\n\r\nPlease help, Thank you :)\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-data-partial-update\r\n  [2]: https://stackoverflow.com/a/64183305\r\n  [3]: https://stackoverflow.com/a/38843852\r\n  [4]: https://i.stack.imgur.com/QrD69.png","title":"Unable to autowire the MapStruct mapper","body":"<p>I was following this <a href=\"https://www.baeldung.com/spring-data-partial-update\" rel=\"nofollow noreferrer\">tutorial</a> about the partial update. As instructed, I created mapper interface with proper annotations.</p>\n<p>Here's the mapper</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface UserEntityMapper {\n  \n  @Mapping(source = &quot;password&quot;, target = &quot;password&quot;)\n  @BeanMapping(nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE)\n  void updatePasswordFromDTO(PasswordResetRequest dto, @MappingTarget User entity);\n}\n</code></pre>\n<p>As per the tutorial, <code>@Mapper(componentModel = &quot;spring&quot;)</code> generates mapper as a Spring bean that can be retrieved via <code>@Autowired</code>.</p>\n<p>But when I tried to do same in my service layer <code>class</code>,</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Transactional\npublic class AccountServiceImpl implements IAccountService {\n  ...\n  @Autowired\n  private UserEntityMapper userMapper;\n  ...\n}\n</code></pre>\n<p>I get this error, my application failed to start.</p>\n<pre class=\"lang-java prettyprint-override\"><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField userMapper in com.application.services.AccountServiceImpl required a bean of type 'com.application.mappers.UserEntityMapper' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'com.application.mappers.UserEntityMapper' in your configuration.\n</code></pre>\n<p>And at last, here's <code>pom.xml</code> of my project.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.5&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.myproject&lt;/groupId&gt;\n    &lt;artifactId&gt;myproject&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;authentication-template&lt;/name&gt;\n    &lt;description&gt;Description&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-freemarker --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-freemarker&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.mapstruct/mapstruct --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;1.4.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I also tried these different solution, but same result.</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/a/64183305\">Answer By @Som</a></li>\n<li><a href=\"https://stackoverflow.com/a/38843852\">Answer by @Gunnar</a></li>\n</ol>\n<h2>Edit 1</h2>\n<p>Here's <code>@SpringBootApplication</code> file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@PropertySources(value = {\n  @PropertySource(&quot;classpath:mail.properties&quot;),\n  @PropertySource(&quot;classpath:messages.properties&quot;),\n  @PropertySource(&quot;classpath:security.properties&quot;)\n})\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n}\n</code></pre>\n<h2>Edit 2</h2>\n<p>Package structure of the project</p>\n<p><a href=\"https://i.stack.imgur.com/QrD69.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QrD69.png\" alt=\"Package structure of the project\" /></a></p>\n<p>Please help, Thank you :)</p>\n"},{"tags":["java","kotlin","gradle","corda"],"comments":[{"owner":{"account_id":16721898,"reputation":56,"user_id":12086577,"display_name":"oalfreda"},"score":0,"creation_date":1661279734,"post_id":73459484,"comment_id":129733200,"body_markdown":"To anyone wondering. I managed to deploy a Corda Node with my custom Source Code by running the ./gradlew assemble command in the forked corda project. Next i replaced my own projects corda.jar with the corda/node/capsule/build/libs/corda.XXX-SNAPSHOT.jar that resulted from the gradle command","body":"To anyone wondering. I managed to deploy a Corda Node with my custom Source Code by running the ./gradlew assemble command in the forked corda project. Next i replaced my own projects corda.jar with the corda/node/capsule/build/libs/corda.XXX-SNAPSHOT.jar that resulted from the gradle command"}],"answers":[{"tags":[],"owner":{"account_id":15193854,"reputation":614,"user_id":10963827,"display_name":"Sneha Damle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679897784,"creation_date":1679897784,"answer_id":75852609,"question_id":73459484,"body_markdown":"Pasting the answer from Oalfreda&#39;s comments -\r\n\r\nI managed to deploy a Corda Node with my custom Source Code by running the ./gradlew assemble command in the forked corda project. Next i replaced my own projects corda.jar with the corda/node/capsule/build/libs/corda.XXX-SNAPSHOT.jar that resulted from the gradle command.","title":"How can i change the Source Code of my Corda Node","body":"<p>Pasting the answer from Oalfreda's comments -</p>\n<p>I managed to deploy a Corda Node with my custom Source Code by running the ./gradlew assemble command in the forked corda project. Next i replaced my own projects corda.jar with the corda/node/capsule/build/libs/corda.XXX-SNAPSHOT.jar that resulted from the gradle command.</p>\n"}],"owner":{"account_id":16721898,"reputation":56,"user_id":12086577,"display_name":"oalfreda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679897784,"creation_date":1661260734,"question_id":73459484,"body_markdown":"I want to change the Source Code of my Corda Node. In the build.gradle the following 3 lines import the Corda-Dependencies:\r\n\r\n    cordaCompile &quot;$corda_release_group:corda-core:$corda_release_version&quot;\r\n    cordaRuntime &quot;$corda_release_group:corda-node-api:$corda_release_version&quot;\r\n    cordaRuntime &quot;$corda_release_group:corda:$corda_release_version&quot;\r\nNow i have forked the Corda project and want to change the way they get imported by gradle by adding the local corda project to my own cordapp in the settings.gradle with:\r\n\r\n    includeBuild &#39;../corda&#39;\r\n\r\nAnd then changing the dependencies in my build.gradle to\r\n\r\n    cordaCompile project(&quot;:core&quot;)\r\n    cordaRuntime project(&quot;:node-api&quot;)\r\n    cordaRuntime project(&quot;:corda&quot;)\r\n\r\nHowever when i run the gradle script the following Error returns\r\n\r\n&gt; A problem occurred evaluating project &#39;:corda-project&#39;.\r\n&gt; &gt; Failed to apply plugin [id &#39;com.r3.testing.distributed-testing&#39;]\r\n&gt;    &gt; Could not create an instance of type com.r3.testing.DistributedTestingExtension.\r\n&gt;       &gt; org.gradle.api.model.ObjectFactory.domainObjectContainer(Ljava/lang/Class;Lorg/gradle/api/NamedDomainObjectFactory;)Lorg/gradle/api/NamedDomainObjectContainer;\r\n\r\n\r\nSince the forked project builds fine on his own but throws an Error when used by my project i dont know how to fix this. If anybody knows how i can import the forked project or has experience on how to customize corda source code, that would help me out alot.\r\n","title":"How can i change the Source Code of my Corda Node","body":"<p>I want to change the Source Code of my Corda Node. In the build.gradle the following 3 lines import the Corda-Dependencies:</p>\n<pre><code>cordaCompile &quot;$corda_release_group:corda-core:$corda_release_version&quot;\ncordaRuntime &quot;$corda_release_group:corda-node-api:$corda_release_version&quot;\ncordaRuntime &quot;$corda_release_group:corda:$corda_release_version&quot;\n</code></pre>\n<p>Now i have forked the Corda project and want to change the way they get imported by gradle by adding the local corda project to my own cordapp in the settings.gradle with:</p>\n<pre><code>includeBuild '../corda'\n</code></pre>\n<p>And then changing the dependencies in my build.gradle to</p>\n<pre><code>cordaCompile project(&quot;:core&quot;)\ncordaRuntime project(&quot;:node-api&quot;)\ncordaRuntime project(&quot;:corda&quot;)\n</code></pre>\n<p>However when i run the gradle script the following Error returns</p>\n<blockquote>\n<p>A problem occurred evaluating project ':corda-project'.</p>\n<blockquote>\n<p>Failed to apply plugin [id 'com.r3.testing.distributed-testing']\nCould not create an instance of type com.r3.testing.DistributedTestingExtension.\n&gt; org.gradle.api.model.ObjectFactory.domainObjectContainer(Ljava/lang/Class;Lorg/gradle/api/NamedDomainObjectFactory;)Lorg/gradle/api/NamedDomainObjectContainer;</p>\n</blockquote>\n</blockquote>\n<p>Since the forked project builds fine on his own but throws an Error when used by my project i dont know how to fix this. If anybody knows how i can import the forked project or has experience on how to customize corda source code, that would help me out alot.</p>\n"},{"tags":["java","android","appium"],"comments":[{"owner":{"account_id":23430403,"reputation":116,"user_id":17489347,"display_name":"Dima Berezovskyi"},"score":0,"creation_date":1678880779,"post_id":75678730,"comment_id":133617963,"body_markdown":"you need to create a method that accepts the index of the element, then take all the elements from the list, pass this index of the element to the method, and tap on the index of the element you need, you can also make an additional check and do it within the loop, which will make the method more universal if you need to select several options at the same time","body":"you need to create a method that accepts the index of the element, then take all the elements from the list, pass this index of the element to the method, and tap on the index of the element you need, you can also make an additional check and do it within the loop, which will make the method more universal if you need to select several options at the same time"}],"answers":[{"tags":[],"owner":{"account_id":16581218,"reputation":1,"user_id":13612863,"display_name":"Itay Sasson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679897670,"creation_date":1679897670,"answer_id":75852600,"question_id":75678730,"body_markdown":"I have similar issue when working with appium for windows, when we have elements with the same id.\r\nIn order to handle it I&#39;m doing something like this:\r\nLets say I have 3 elements with the same id &quot;buttonText&quot; with the following text in each of them:\r\nelement_1: &quot;Start&quot;\r\nelement_2: &quot;Pause&quot;\r\nelement_3: &quot;Close&quot;\r\nLets say I want to click on the element that says &quot;Pause&quot; I will do something like this:\r\nFirst I will get the list of all the elements with this id and save it to array list\r\n\r\n\r\n```\r\nArrayList&lt;WebElement&gt; els= new ArrayList&lt;&gt;();\r\n   ArrayList&lt;WebElement&gt; InstructionBtns = new ArrayList&lt;&gt;();\r\nels = appium.findElementsByAccessibilityId(&quot;buttonText&quot;));\r\n         \r\n```\r\nSo now we have a list with all the elements with this id.\r\nNow we want to find one with the desired text &quot;Pause&quot; so we will check each element if he contains this text, if so we will return it\\click on it.\r\n\r\n```\r\n for (WebElement btn:els) {\r\n            if(btn.getText().equals(&quot;Pause&quot;)) {\r\n                btn.click();\r\n            }\r\n        }\r\n```\r\n\r\nHope it helped.","title":"How to reference individual elements within a dialog/popup box, by their text label?","body":"<p>I have similar issue when working with appium for windows, when we have elements with the same id.\nIn order to handle it I'm doing something like this:\nLets say I have 3 elements with the same id &quot;buttonText&quot; with the following text in each of them:\nelement_1: &quot;Start&quot;\nelement_2: &quot;Pause&quot;\nelement_3: &quot;Close&quot;\nLets say I want to click on the element that says &quot;Pause&quot; I will do something like this:\nFirst I will get the list of all the elements with this id and save it to array list</p>\n<pre><code>ArrayList&lt;WebElement&gt; els= new ArrayList&lt;&gt;();\n   ArrayList&lt;WebElement&gt; InstructionBtns = new ArrayList&lt;&gt;();\nels = appium.findElementsByAccessibilityId(&quot;buttonText&quot;));\n         \n</code></pre>\n<p>So now we have a list with all the elements with this id.\nNow we want to find one with the desired text &quot;Pause&quot; so we will check each element if he contains this text, if so we will return it\\click on it.</p>\n<pre><code> for (WebElement btn:els) {\n            if(btn.getText().equals(&quot;Pause&quot;)) {\n                btn.click();\n            }\n        }\n</code></pre>\n<p>Hope it helped.</p>\n"}],"owner":{"account_id":4523028,"reputation":385,"user_id":3675654,"display_name":"ackmondual"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679897670,"creation_date":1678313734,"question_id":75678730,"body_markdown":"Automated testing for Android app.  Using Android Studio, Appium, UiAutomater2 framework, and working in Java.\r\n\r\nI have a dialog box that displays several options.  For example, &quot;option 1&quot;, &quot;option 2&quot;, etc.  I would like to be able to select and tap on a specific entry going by searching on the text &quot;option 1&quot; specifically.  I&#39;m able to use Appium Inspector to get the xpath and the ID/Resource ID (in this case, ````android:id/select_dialog_listview````) of the area that contains all of the option entries.\r\n\r\nI would need to first iterate through the child elements of that element above right? For that matter, there doesn&#39;t seem to be a method to find an element by it&#39;s text label?","title":"How to reference individual elements within a dialog/popup box, by their text label?","body":"<p>Automated testing for Android app.  Using Android Studio, Appium, UiAutomater2 framework, and working in Java.</p>\n<p>I have a dialog box that displays several options.  For example, &quot;option 1&quot;, &quot;option 2&quot;, etc.  I would like to be able to select and tap on a specific entry going by searching on the text &quot;option 1&quot; specifically.  I'm able to use Appium Inspector to get the xpath and the ID/Resource ID (in this case, <code>android:id/select_dialog_listview</code>) of the area that contains all of the option entries.</p>\n<p>I would need to first iterate through the child elements of that element above right? For that matter, there doesn't seem to be a method to find an element by it's text label?</p>\n"},{"tags":["java","apache-flink","flink-streaming"],"comments":[{"owner":{"account_id":959742,"reputation":610,"user_id":984368,"accept_rate":50,"display_name":"Thor"},"score":0,"creation_date":1679504621,"post_id":75815060,"comment_id":133735329,"body_markdown":"Note: This also happens for 1 hour windows.  The context timestamp and current time are 1 minute apart even though the window is 1 hour long.","body":"Note: This also happens for 1 hour windows.  The context timestamp and current time are 1 minute apart even though the window is 1 hour long."}],"answers":[{"tags":[],"owner":{"account_id":959742,"reputation":610,"user_id":984368,"accept_rate":50,"display_name":"Thor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679897618,"creation_date":1679524035,"answer_id":75817794,"question_id":75815060,"body_markdown":"I&#39;ve discovered The SinkWriter.Context does not have the window boundaries (I&#39;m not sure what it is used for).\r\n\r\nA ProcessWindowFunction is needed to get the window boundaries like described in the [documentation][1].\r\n\r\n\r\n  [1]: https://nightlies.apache.org/flink/flink-docs-stable/docs/dev/datastream/operators/windows/#processwindowfunction","title":"Flink Time Window Start Time for 5 minute window","body":"<p>I've discovered The SinkWriter.Context does not have the window boundaries (I'm not sure what it is used for).</p>\n<p>A ProcessWindowFunction is needed to get the window boundaries like described in the <a href=\"https://nightlies.apache.org/flink/flink-docs-stable/docs/dev/datastream/operators/windows/#processwindowfunction\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n"}],"owner":{"account_id":959742,"reputation":610,"user_id":984368,"accept_rate":50,"display_name":"Thor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75817794,"answer_count":1,"score":0,"last_activity_date":1679897618,"creation_date":1679503618,"question_id":75815060,"body_markdown":"The start time of my 5 minute tumbling window seems incorrect.  The start time of the window and the current time are always 1 minute appart, but should be at least 5 minutes apart.\r\n\r\nI am performing aggregation on a 5 minute tumbling window.  I store the aggregations into DynamoDB.  In the DynamoDB record, I store the window timestamp and the current time.  The window timestamp is always the last minute of the 5 minute window and the current time is always at the end of the window.  The current time seems correct, but the window timestamp should be 5 minutes before the end of the window.  The data that is being stored is correct, so I think I must be getting the window start time incorrectly.\r\n\r\nI have the aggregation stream defined like:\r\n\r\n     DataStream&lt;&gt; stream = inputStream\r\n                            .keyBy(new KeySelector())\r\n                            .window(TumblingProcessingTimeWindows.of(Time.minutes(5))\r\n                            .aggregate(new Aggregator());\r\n\r\nMy Element Converter looks like:\r\n\r\n    public class DynamoDbAggregationConverter implements ElementConverter&lt;Aggregation, DynamoDbWriteRequest&gt; {\r\n\r\n    @Override\r\n    public DynamoDbWriteRequest apply(Aggregation agg, SinkWriter.Context context) {\r\n        long startWindowTimestamp = context.timestamp();\r\n        long createTime = Instant.now().getEpochSecond();\r\n    .....\r\n    }\r\n\r\n","title":"Flink Time Window Start Time for 5 minute window","body":"<p>The start time of my 5 minute tumbling window seems incorrect.  The start time of the window and the current time are always 1 minute appart, but should be at least 5 minutes apart.</p>\n<p>I am performing aggregation on a 5 minute tumbling window.  I store the aggregations into DynamoDB.  In the DynamoDB record, I store the window timestamp and the current time.  The window timestamp is always the last minute of the 5 minute window and the current time is always at the end of the window.  The current time seems correct, but the window timestamp should be 5 minutes before the end of the window.  The data that is being stored is correct, so I think I must be getting the window start time incorrectly.</p>\n<p>I have the aggregation stream defined like:</p>\n<pre><code> DataStream&lt;&gt; stream = inputStream\n                        .keyBy(new KeySelector())\n                        .window(TumblingProcessingTimeWindows.of(Time.minutes(5))\n                        .aggregate(new Aggregator());\n</code></pre>\n<p>My Element Converter looks like:</p>\n<pre><code>public class DynamoDbAggregationConverter implements ElementConverter&lt;Aggregation, DynamoDbWriteRequest&gt; {\n\n@Override\npublic DynamoDbWriteRequest apply(Aggregation agg, SinkWriter.Context context) {\n    long startWindowTimestamp = context.timestamp();\n    long createTime = Instant.now().getEpochSecond();\n.....\n}\n</code></pre>\n"},{"tags":["java","eclipse","quarkus"],"owner":{"account_id":19791580,"reputation":41,"user_id":14494490,"display_name":"itdv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679897316,"creation_date":1679816763,"question_id":75846487,"body_markdown":"I want to add a Quarkus project as sub-module in existing (Eclipse) multi-module project.\r\nOver the project, I&#39;m using slf4j for logging, using Lombok @Slf4j. But upon requesting Quarkus, when trying to access a `@Slf4j` annotated class in my sub-module dependency, I get the following error:\r\n\r\n```\r\njava.lang.LinkageError: loader constraint violation: when resolving method &quot;org.slf4j.LoggerFactory.getLogger(Ljava/lang/Class;)Lorg/slf4j/Logger;&quot; the class loader io.quarkus.bootstrap.classloading.QuarkusClassLoader @1abe9ee9 (instance of io.quarkus.bootstrap.classloading.QuarkusClassLoader, child of io.quarkus.bootstrap.classloading.QuarkusClassLoader @672872e1 io.quarkus.bootstrap.classloading.QuarkusClassLoader) of the current class, com/my-project/MyService, and the class loader &#39;app&#39; (instance of jdk.internal.loader.ClassLoaders$AppClassLoader) for the method&#39;s defining class, org/slf4j/LoggerFactory, have different Class objects for the type org/slf4j/Logger used in the signature\r\n```\r\n\r\nAs suggested [here](https://stackoverflow.com) and in other places, I&#39;ve tried both to exclude `org.slf4j:slf4j-api` from my submodule dep and to declare it as `parentFirst`:  \r\nin my pom:\r\n\r\n```xml\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.my-project&lt;/groupId&gt;\r\n      &lt;artifactId&gt;shared&lt;/artifactId&gt;\r\n     &lt;exclusions&gt;\r\n    \t&lt;exclusion&gt;\r\n    \t  &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t  &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    ...\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n        &lt;artifactId&gt;quarkus-extension-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;parentFirstArtifacts&gt;\r\n            &lt;parentFirstArtifact&gt;org.slf4j:slf4j-api&lt;/parentFirstArtifact&gt;\r\n          &lt;/parentFirstArtifacts&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n```\r\n\r\nand parent-first also in application.properties, just in case\r\n\r\n```\r\n    quarkus.class-loading.parent-first-artifacts=org.slf4j:slf4j-api\r\n```\r\n\r\nBut none of these have helped.\r\n\r\nDebugging into Quarkus class loaders, the problem is that while the correct slf4j is accessed by Quarkus bootstrap classloader on netty initialization, when I sending to Quarkus a request that make it to access to MyService class, Quarkus trying to initailize it&#39;s Slf4j logger using QuarkusRuntimeClassLoader. But looks like QuarkusRuntimeClassLoader does not take in account the parent-first list nor the exclusion settings, and trying to load the logger from my shared sub-module.\r\n\r\nIs there a way to cause the QuarkusRuntimeClassLoader to be affected by these settings? Or any other way to solve this problem?\r\n\r\nThanks a lot!","title":"Quarkus: LinkageError: loader constraint violation - When using local sub-project","body":"<p>I want to add a Quarkus project as sub-module in existing (Eclipse) multi-module project.\nOver the project, I'm using slf4j for logging, using Lombok @Slf4j. But upon requesting Quarkus, when trying to access a <code>@Slf4j</code> annotated class in my sub-module dependency, I get the following error:</p>\n<pre><code>java.lang.LinkageError: loader constraint violation: when resolving method &quot;org.slf4j.LoggerFactory.getLogger(Ljava/lang/Class;)Lorg/slf4j/Logger;&quot; the class loader io.quarkus.bootstrap.classloading.QuarkusClassLoader @1abe9ee9 (instance of io.quarkus.bootstrap.classloading.QuarkusClassLoader, child of io.quarkus.bootstrap.classloading.QuarkusClassLoader @672872e1 io.quarkus.bootstrap.classloading.QuarkusClassLoader) of the current class, com/my-project/MyService, and the class loader 'app' (instance of jdk.internal.loader.ClassLoaders$AppClassLoader) for the method's defining class, org/slf4j/LoggerFactory, have different Class objects for the type org/slf4j/Logger used in the signature\n</code></pre>\n<p>As suggested <a href=\"https://stackoverflow.com\">here</a> and in other places, I've tried both to exclude <code>org.slf4j:slf4j-api</code> from my submodule dep and to declare it as <code>parentFirst</code>:<br />\nin my pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n      &lt;groupId&gt;com.my-project&lt;/groupId&gt;\n      &lt;artifactId&gt;shared&lt;/artifactId&gt;\n     &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n          &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    ...\n    &lt;plugin&gt;\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-extension-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;parentFirstArtifacts&gt;\n            &lt;parentFirstArtifact&gt;org.slf4j:slf4j-api&lt;/parentFirstArtifact&gt;\n          &lt;/parentFirstArtifacts&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<p>and parent-first also in application.properties, just in case</p>\n<pre><code>    quarkus.class-loading.parent-first-artifacts=org.slf4j:slf4j-api\n</code></pre>\n<p>But none of these have helped.</p>\n<p>Debugging into Quarkus class loaders, the problem is that while the correct slf4j is accessed by Quarkus bootstrap classloader on netty initialization, when I sending to Quarkus a request that make it to access to MyService class, Quarkus trying to initailize it's Slf4j logger using QuarkusRuntimeClassLoader. But looks like QuarkusRuntimeClassLoader does not take in account the parent-first list nor the exclusion settings, and trying to load the logger from my shared sub-module.</p>\n<p>Is there a way to cause the QuarkusRuntimeClassLoader to be affected by these settings? Or any other way to solve this problem?</p>\n<p>Thanks a lot!</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679670965,"creation_date":1679670965,"answer_id":75835393,"question_id":75832451,"body_markdown":"From a technical perspective:\r\n\r\nAn element collection does not contain entities. Therefore life cycle events don&#39;t get triggered for them. \r\nBut the auditing feature which fills `@CreatedDate` and similar attribute is based on life cycle events and therefore does not work for entries in an element collection.\r\n\r\nFrom a more abstract perspective: \r\n\r\nThe content of an element collection does not have an identity there for created and modification date doesn&#39;t really make sense.","title":"Why @CreatedDate is not valid in @ElementCollection","body":"<p>From a technical perspective:</p>\n<p>An element collection does not contain entities. Therefore life cycle events don't get triggered for them.\nBut the auditing feature which fills <code>@CreatedDate</code> and similar attribute is based on life cycle events and therefore does not work for entries in an element collection.</p>\n<p>From a more abstract perspective:</p>\n<p>The content of an element collection does not have an identity there for created and modification date doesn't really make sense.</p>\n"}],"owner":{"account_id":26500937,"reputation":1,"user_id":20137907,"display_name":"Lyle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679897309,"creation_date":1679653453,"question_id":75832451,"body_markdown":"I have a question, which has been bothering me for some time.  \r\n\r\nI tried to use `@createdDate` in the following code, but it doesn&#39;t work at all.\r\n\r\nJava version: JDK 19  \r\nSpring boot version: 3.0.2  \r\nJpa version: 3.0.2  \r\nHibernate.core version: 6.1.6.Final  \r\n\r\n\r\nUser.java\r\n```java\r\n\r\n@Table(name = &quot;sys_user&quot;)\r\n@DynamicUpdate\r\n\r\n@Getter\r\n//@RequiredArgsConstructor(access = AccessLevel.PRIVATE)\r\n@RequiredArgsConstructor\r\n//@NoArgsConstructor(access = AccessLevel.PROTECTED)\r\n@NoArgsConstructor\r\n@ToString(callSuper = true)\r\n@Entity\r\n@EntityListeners(AuditingEntityListener.class)\r\npublic final class User {\r\n    @NonNull\r\n    @NotNull\r\n    @EmbeddedId\r\n    private UserId id;\r\n\r\n    @Embedded\r\n    private AuditingTime auditingTime = new AuditingTime();\r\n    @Embedded\r\n    private AuditingUser auditingUser = new AuditingUser();\r\n\r\n//    @Getter(AccessLevel.PRIVATE)\r\n\r\n//  **THIS HERE**\r\n    @ElementCollection\r\n    private final Set&lt;Password&gt; passwords = new HashSet&lt;&gt;();\r\n\r\n//    @Getter(AccessLevel.PRIVATE)\r\n\r\n//  **THIS HERE**\r\n    @ElementCollection\r\n    @CollectionTable\r\n    private final Set&lt;RoleItem&gt; roleItems = new HashSet&lt;&gt;();\r\n\r\n    @Getter(AccessLevel.PRIVATE)\r\n    @JsonIgnore\r\n    @Transient\r\n    private transient final List&lt;UserEvent&gt; domainEvent = new ArrayList&lt;&gt;();\r\n\r\n    public static User of(CreateUserCommand command) {\r\n        User user = new User(\r\n                UserIdGenerator.newId(),\r\n                command.getUsername(),\r\n                command.getEmail(),\r\n                command.getExpiredTime());\r\n        ValidationUtils.validate(user);\r\n        return user;\r\n    }\r\n}\r\n```\r\n\r\nRoleItem.java\r\n```java\r\n@Getter\r\n@EqualsAndHashCode\r\n@RequiredArgsConstructor\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Embeddable\r\npublic class RoleItem {\r\n    @NonNull\r\n    @NotNull\r\n    private Long roleId;\r\n\r\n//  **THIS HERE**\r\n    @CreatedBy\r\n    private Long createdBy;\r\n    @CreatedDate\r\n    private LocalDateTime createdAt;\r\n\r\n\r\n    public static RoleItem of(CreateRoleItemCommand command) {\r\n        RoleItem roleItem = new RoleItem(command.getRoleId());\r\n        ValidationUtils.validate(roleItem);\r\n        return roleItem;\r\n    }\r\n}\r\n```\r\n\r\nJpaConfig.java\r\n```java\r\n@Configuration\r\n@EnableJpaAuditing\r\npublic class JpaConfig {\r\n    @Bean\r\n    public AuditorAware&lt;Long&gt; auditorAware() {\r\n        return () -&gt; Optional.of(1L);\r\n    }\r\n}\r\n```\r\n\r\nAt first I thought it was a problem with the private constructor.\r\n\r\nI tried setting all constructors to Public, but to no avail.\r\n\r\nAfter that I thought there was an error in my code and I tried to use `@OneToMany` and it worked.\r\n\r\n```java\r\n    @OneToMany\r\n    @JoinColumn\r\n    private final Set&lt;RoleItem&gt; roleItems = new HashSet&lt;&gt;();\r\n```\r\n\r\nBut what I want is the `value object` form.\r\n\r\nThen I tried to remove the final, which also didn&#39;t work.\r\n\r\nI don&#39;t know why.\r\n\r\nI want the audit function to be available in `@ElementCollection`\r\n","title":"Why @CreatedDate is not valid in @ElementCollection","body":"<p>I have a question, which has been bothering me for some time.</p>\n<p>I tried to use <code>@createdDate</code> in the following code, but it doesn't work at all.</p>\n<p>Java version: JDK 19<br />\nSpring boot version: 3.0.2<br />\nJpa version: 3.0.2<br />\nHibernate.core version: 6.1.6.Final</p>\n<p>User.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Table(name = &quot;sys_user&quot;)\n@DynamicUpdate\n\n@Getter\n//@RequiredArgsConstructor(access = AccessLevel.PRIVATE)\n@RequiredArgsConstructor\n//@NoArgsConstructor(access = AccessLevel.PROTECTED)\n@NoArgsConstructor\n@ToString(callSuper = true)\n@Entity\n@EntityListeners(AuditingEntityListener.class)\npublic final class User {\n    @NonNull\n    @NotNull\n    @EmbeddedId\n    private UserId id;\n\n    @Embedded\n    private AuditingTime auditingTime = new AuditingTime();\n    @Embedded\n    private AuditingUser auditingUser = new AuditingUser();\n\n//    @Getter(AccessLevel.PRIVATE)\n\n//  **THIS HERE**\n    @ElementCollection\n    private final Set&lt;Password&gt; passwords = new HashSet&lt;&gt;();\n\n//    @Getter(AccessLevel.PRIVATE)\n\n//  **THIS HERE**\n    @ElementCollection\n    @CollectionTable\n    private final Set&lt;RoleItem&gt; roleItems = new HashSet&lt;&gt;();\n\n    @Getter(AccessLevel.PRIVATE)\n    @JsonIgnore\n    @Transient\n    private transient final List&lt;UserEvent&gt; domainEvent = new ArrayList&lt;&gt;();\n\n    public static User of(CreateUserCommand command) {\n        User user = new User(\n                UserIdGenerator.newId(),\n                command.getUsername(),\n                command.getEmail(),\n                command.getExpiredTime());\n        ValidationUtils.validate(user);\n        return user;\n    }\n}\n</code></pre>\n<p>RoleItem.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@EqualsAndHashCode\n@RequiredArgsConstructor\n@AllArgsConstructor\n@NoArgsConstructor\n@Embeddable\npublic class RoleItem {\n    @NonNull\n    @NotNull\n    private Long roleId;\n\n//  **THIS HERE**\n    @CreatedBy\n    private Long createdBy;\n    @CreatedDate\n    private LocalDateTime createdAt;\n\n\n    public static RoleItem of(CreateRoleItemCommand command) {\n        RoleItem roleItem = new RoleItem(command.getRoleId());\n        ValidationUtils.validate(roleItem);\n        return roleItem;\n    }\n}\n</code></pre>\n<p>JpaConfig.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableJpaAuditing\npublic class JpaConfig {\n    @Bean\n    public AuditorAware&lt;Long&gt; auditorAware() {\n        return () -&gt; Optional.of(1L);\n    }\n}\n</code></pre>\n<p>At first I thought it was a problem with the private constructor.</p>\n<p>I tried setting all constructors to Public, but to no avail.</p>\n<p>After that I thought there was an error in my code and I tried to use <code>@OneToMany</code> and it worked.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @OneToMany\n    @JoinColumn\n    private final Set&lt;RoleItem&gt; roleItems = new HashSet&lt;&gt;();\n</code></pre>\n<p>But what I want is the <code>value object</code> form.</p>\n<p>Then I tried to remove the final, which also didn't work.</p>\n<p>I don't know why.</p>\n<p>I want the audit function to be available in <code>@ElementCollection</code></p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":9502627,"reputation":120,"user_id":7063157,"display_name":"Android"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679897088,"creation_date":1679735682,"answer_id":75840694,"question_id":75840101,"body_markdown":"    Try adapter like below\r\n    \r\n        ArrayAdapter&lt;String&gt; colorAdapter = new ArrayAdapter&lt;&gt;(\r\n                        this,\r\n                        android.R.layout.simple_list_item_1,\r\n                       color\r\n                ) {\r\n        \r\n                @Override\r\n                public View getView(int position, View convertView, ViewGroup parent) {\r\n                    View view = super.getView(position, convertView, parent);\r\n                    view.setBackgroundColor(Color.parseColor(color.get(position))\r\n                    return view;\r\n                }\r\n            };\r\n        listColor.setAdapter(colorAdapter);","title":"How do I set a background for each item of ListView in Android without click them?","body":"<pre><code>Try adapter like below\n\n    ArrayAdapter&lt;String&gt; colorAdapter = new ArrayAdapter&lt;&gt;(\n                    this,\n                    android.R.layout.simple_list_item_1,\n                   color\n            ) {\n    \n            @Override\n            public View getView(int position, View convertView, ViewGroup parent) {\n                View view = super.getView(position, convertView, parent);\n                view.setBackgroundColor(Color.parseColor(color.get(position))\n                return view;\n            }\n        };\n    listColor.setAdapter(colorAdapter);\n</code></pre>\n"}],"owner":{"account_id":21378635,"reputation":1,"user_id":15744926,"display_name":"Giang Kha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679897088,"creation_date":1679727318,"question_id":75840101,"body_markdown":"I want to change each item in list view have a different color background without click them, without use textview.\r\n\r\n\r\nI try to this, but it don&#39;t work,\r\n\r\nMain.Activity.java\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    private ListView listColor;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        listColor = findViewById(R.id.ListColor);\r\n        ArrayList&lt;String&gt; color = new ArrayList&lt;String&gt;();\r\n        color.add(&quot;#aa0000&quot;);\r\n        color.add(&quot;#aaaa00&quot;);\r\n        color.add(&quot;#00aa00&quot;);\r\n\r\n        ArrayAdapter&lt;String&gt; colorAdapter = new ArrayAdapter&lt;&gt;(\r\n                this,\r\n                android.R.layout.simple_list_item_1,\r\n               color\r\n        );\r\n       listColor.setAdapter(colorAdapter);\r\n    }\r\n}\r\n```\r\n\r\nactivity_main.xml;\r\n\r\n```\r\n &lt;LinearLayout xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n\r\n        &gt;\r\n        &lt;ListView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/ListColor&quot;\r\n\r\n            /&gt;\r\n\r\n\r\n    &lt;/LinearLayout&gt;\r\n```\r\n\r\n\r\n","title":"How do I set a background for each item of ListView in Android without click them?","body":"<p>I want to change each item in list view have a different color background without click them, without use textview.</p>\n<p>I try to this, but it don't work,</p>\n<p>Main.Activity.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private ListView listColor;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        listColor = findViewById(R.id.ListColor);\n        ArrayList&lt;String&gt; color = new ArrayList&lt;String&gt;();\n        color.add(&quot;#aa0000&quot;);\n        color.add(&quot;#aaaa00&quot;);\n        color.add(&quot;#00aa00&quot;);\n\n        ArrayAdapter&lt;String&gt; colorAdapter = new ArrayAdapter&lt;&gt;(\n                this,\n                android.R.layout.simple_list_item_1,\n               color\n        );\n       listColor.setAdapter(colorAdapter);\n    }\n}\n</code></pre>\n<p>activity_main.xml;</p>\n<pre><code> &lt;LinearLayout xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;\n\n        &gt;\n        &lt;ListView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/ListColor&quot;\n\n            /&gt;\n\n\n    &lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","jar","dependencies"],"comments":[{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":1,"creation_date":1679888708,"post_id":75851946,"comment_id":133795657,"body_markdown":"&quot;@Componenet&quot; looks like [a misspelling](https://en.wiktionary.org/wiki/component#Noun). Is it?","body":"&quot;@Componenet&quot; looks like <a href=\"https://en.wiktionary.org/wiki/component#Noun\" rel=\"nofollow noreferrer\">a misspelling</a>. Is it?"},{"owner":{"account_id":27542061,"reputation":316,"user_id":21018639,"display_name":"josephjacobmorris"},"score":2,"creation_date":1679888750,"post_id":75851946,"comment_id":133795665,"body_markdown":"for defining beans from dependencies config class is the recommended approach since we can avoid the component scans in the dependency jars","body":"for defining beans from dependencies config class is the recommended approach since we can avoid the component scans in the dependency jars"},{"owner":{"account_id":13692927,"reputation":944,"user_id":9880276,"display_name":"Rasika Weragoda"},"score":1,"creation_date":1679888995,"post_id":75851946,"comment_id":133795702,"body_markdown":"you can extend the DemoService base class and define a new class and make it @Compenent","body":"you can extend the DemoService base class and define a new class and make it @Compenent"}],"answers":[{"tags":[],"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679892606,"creation_date":1679892606,"answer_id":75852218,"question_id":75851946,"body_markdown":"The creation of the DemoService Bean in the configuration class is the right approach. There are two ways you can create a bean in Spring, one by adding the @Component annotation and allowing spring to create the object or by specifying the bean in the configuration class. \r\n\r\nThere is however another way to achieve this. This is documented in the [link][1]. Essentially, you create an initiation of the DemoService and auto wire dynamically in the code. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3813588/how-to-inject-dependencies-into-a-self-instantiated-object-in-spring","title":"The class is missing @Component. How do I autowire this class?","body":"<p>The creation of the DemoService Bean in the configuration class is the right approach. There are two ways you can create a bean in Spring, one by adding the @Component annotation and allowing spring to create the object or by specifying the bean in the configuration class.</p>\n<p>There is however another way to achieve this. This is documented in the <a href=\"https://stackoverflow.com/questions/3813588/how-to-inject-dependencies-into-a-self-instantiated-object-in-spring\">link</a>. Essentially, you create an initiation of the DemoService and auto wire dynamically in the code.</p>\n"},{"tags":[],"owner":{"account_id":15111705,"reputation":26,"user_id":10905574,"display_name":"Sourav Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679896955,"creation_date":1679896955,"answer_id":75852534,"question_id":75851946,"body_markdown":"Creating config class would also work correctly. If you don&#39;t want to create a new class, define that bean inside application class i.e where you&#39;re using **@SpringBootApplication** annotation or from where you&#39;re running the application.","title":"The class is missing @Component. How do I autowire this class?","body":"<p>Creating config class would also work correctly. If you don't want to create a new class, define that bean inside application class i.e where you're using <strong>@SpringBootApplication</strong> annotation or from where you're running the application.</p>\n"}],"owner":{"account_id":28110284,"reputation":1,"user_id":21478164,"display_name":"lusjjj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679896955,"creation_date":1679888298,"question_id":75851946,"body_markdown":"Usually, we use `@Componenet` right? and also specialized forms `@Controller`, and `@Service` for particular classes. So those annotations are responsible to create beans during the spring app creation, correct?\r\n\r\nMy current problem is I have a particular dependency. Inside that dependency, it is `@Autowire` another class, let&#39;s say `classB`. But that `classB` doesn&#39;t have any class-level annotation such as `@Compoenent`. \r\n\r\n\r\nex. \r\n```\r\npublic class classA {\r\n  @Autowired\r\n  private ClassB classB;\r\n}\r\n\r\npublic class classB {\r\n // logic....\r\n}\r\n```\r\n\r\n\r\nSo when I try to run the app, I get an error something like this -- please ignore the class name and package name.. \r\n\r\n```\r\nField demoService in com.example.demo.controller.DemoController required a bean of type &#39;com.example.demo.service.DemoService&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n   - @org.springframework.beans.factory.annotation.Autowired(required=true) \r\n```\r\n\r\nAnd like I said before, those are from dependency jar so I can&#39;t really edit, they are read-only file. \r\n\r\n\r\nI am thinking about to have config class like below\r\n\r\n```\r\n@Configuration\r\npublic class Config {\r\n\r\n    @Bean\r\n    public DemoService myDemoService(){\r\n        return new DemoService();\r\n    }\r\n```\r\n\r\nI am not sure if it&#39;s going to work or not.\r\n\r\nDo you have different ideas? \r\n\r\nThank you for reading my question \r\n\r\nI haven&#39;t tried the config class. Looking for other people&#39;s ideas, experience , how to resolve this","title":"The class is missing @Component. How do I autowire this class?","body":"<p>Usually, we use <code>@Componenet</code> right? and also specialized forms <code>@Controller</code>, and <code>@Service</code> for particular classes. So those annotations are responsible to create beans during the spring app creation, correct?</p>\n<p>My current problem is I have a particular dependency. Inside that dependency, it is <code>@Autowire</code> another class, let's say <code>classB</code>. But that <code>classB</code> doesn't have any class-level annotation such as <code>@Compoenent</code>.</p>\n<p>ex.</p>\n<pre><code>public class classA {\n  @Autowired\n  private ClassB classB;\n}\n\npublic class classB {\n // logic....\n}\n</code></pre>\n<p>So when I try to run the app, I get an error something like this -- please ignore the class name and package name..</p>\n<pre><code>Field demoService in com.example.demo.controller.DemoController required a bean of type 'com.example.demo.service.DemoService' that could not be found.\n\nThe injection point has the following annotations:\n   - @org.springframework.beans.factory.annotation.Autowired(required=true) \n</code></pre>\n<p>And like I said before, those are from dependency jar so I can't really edit, they are read-only file.</p>\n<p>I am thinking about to have config class like below</p>\n<pre><code>@Configuration\npublic class Config {\n\n    @Bean\n    public DemoService myDemoService(){\n        return new DemoService();\n    }\n</code></pre>\n<p>I am not sure if it's going to work or not.</p>\n<p>Do you have different ideas?</p>\n<p>Thank you for reading my question</p>\n<p>I haven't tried the config class. Looking for other people's ideas, experience , how to resolve this</p>\n"},{"tags":["java","linux","pcsc"],"answers":[{"tags":[],"owner":{"display_name":"user285594"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1366711224,"creation_date":1366711224,"answer_id":16166456,"question_id":16096619,"body_markdown":"It was because driver problem in Linux. Please install the proper driver for this hardware: https://www.hidglobal.com/drivers/14919\r\n\r\nAnd then i got at-least code feedback in my terminal.\r\n","title":"PCSC does not return anything on linux, the card reader is connected","body":"<p>It was because driver problem in Linux. Please install the proper driver for this hardware: <a href=\"https://www.hidglobal.com/drivers/14919\" rel=\"nofollow\">https://www.hidglobal.com/drivers/14919</a></p>\n\n<p>And then i got at-least code feedback in my terminal.</p>\n"},{"tags":[],"owner":{"account_id":5636026,"reputation":251,"user_id":4461506,"display_name":"tranceholic"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1435820111,"creation_date":1435820111,"answer_id":31177495,"question_id":16096619,"body_markdown":"I found another workaround here\r\n\r\nhttps://stackoverflow.com/questions/12376257/accessing-javax-smartcardio-from-linux-64-bits\r\n\r\n&gt; I think I found a workaround for this as I just had a similar problem.\r\n&gt; In a bugreport from ubuntu it says that the javax.smartcardio library\r\n&gt; searches for the PC/SC library in the wrong directory.\r\n&gt; \r\n&gt; So running my app with the setting as below worked for me\r\n&gt; \r\n&gt; -Dsun.security.smartcardio.library=/usr/lib/x86_64-linux-gnu/libpcsclite.so","title":"PCSC does not return anything on linux, the card reader is connected","body":"<p>I found another workaround here</p>\n\n<p><a href=\"https://stackoverflow.com/questions/12376257/accessing-javax-smartcardio-from-linux-64-bits\">Accessing javax.smartcardio from Linux 64 bits</a></p>\n\n<blockquote>\n  <p>I think I found a workaround for this as I just had a similar problem.\n  In a bugreport from ubuntu it says that the javax.smartcardio library\n  searches for the PC/SC library in the wrong directory.</p>\n  \n  <p>So running my app with the setting as below worked for me</p>\n  \n  <p>-Dsun.security.smartcardio.library=/usr/lib/x86_64-linux-gnu/libpcsclite.so</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":22605268,"reputation":1,"user_id":16786259,"display_name":"Osman Sajid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679895807,"creation_date":1679895807,"answer_id":75852432,"question_id":16096619,"body_markdown":"If you are using arch linux then it might be happening due to not having usb chip/ smartcard interface devices driver not installed.\r\nYou can install it by using &quot;sudo pacman -S ccid&quot;.","title":"PCSC does not return anything on linux, the card reader is connected","body":"<p>If you are using arch linux then it might be happening due to not having usb chip/ smartcard interface devices driver not installed.\nYou can install it by using &quot;sudo pacman -S ccid&quot;.</p>\n"}],"owner":{"display_name":"user285594"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6882,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":16166456,"answer_count":3,"score":2,"last_activity_date":1679895807,"creation_date":1366341184,"question_id":16096619,"body_markdown":"I am trying this, to read the card with PCSC framework. But it does not return anything at all.\r\n\r\n    import java.util.List;\r\n    import javax.smartcardio.*;\r\n    \r\n    public class Blog {\r\n     public static void main(String[] args) {\r\n      try {\r\n       // Display the list of terminals\r\n       TerminalFactory factory = TerminalFactory.getDefault();\r\n       List&lt;CardTerminal&gt; terminals = factory.terminals().list();\r\n       System.out.println(&quot;Terminals: &quot; + terminals);\r\n    \r\n       // Use the first terminal\r\n       CardTerminal terminal = terminals.get(0);\r\n    \r\n       // Connect wit hthe card\r\n       Card card = terminal.connect(&quot;*&quot;);\r\n       System.out.println(&quot;card: &quot; + card);\r\n       CardChannel channel = card.getBasicChannel();\r\n    \r\n       // Send Select Applet command\r\n       byte[] aid = {(byte)0xA0, 0x00, 0x00, 0x00, 0x62, 0x03, 0x01, 0x0C, 0x06, 0x01};\r\n       ResponseAPDU answer = channel.transmit(new CommandAPDU(0x00, 0xA4, 0x04, 0x00, aid));\r\n       System.out.println(&quot;answer: &quot; + answer.toString());\r\n    \r\n       // Send test command\r\n       answer = channel.transmit(new CommandAPDU(0x00, 0x00, 0x00, 0x00));\r\n       System.out.println(&quot;answer: &quot; + answer.toString());\r\n       byte r[] = answer.getData();\r\n       for (int i=0; i&lt;r.length; i++)\r\n        System.out.print((char)r[i]);\r\n       System.out.println();\r\n    \r\n       // Disconnect the card\r\n       card.disconnect(false);\r\n      } catch(Exception e) {\r\n       System.out.println(&quot;Ouch: &quot; + e.toString());\r\n      }\r\n     }\r\n    }\r\n\r\nOutput:\r\n\r\n    run-single:\r\n    Terminals: []\r\n    Ouch: java.lang.IndexOutOfBoundsException: Index: 0\r\n    BUILD SUCCESSFUL (total time: 4 seconds)\r\n\r\nBy using other tools it works, but cant figure out why Java code is not showing?\r\n\r\n    root@sun-M14xR2:/var/tmp# ps -e | grep pcsc\r\n    16399 ? &#160; &#160; &#160; &#160;00:00:00 pcscd\r\n    root@sun-M14xR2:/var/tmp# service pcscd status\r\n     * pcscd is running\r\n    root@sun-M14xR2:/var/tmp# service pcscd restart\r\n     * Restarting PCSC Lite resource manager pcscd                                                                                                                   [ OK ] \r\n    root@sun-M14xR2:/var/tmp# lsusb\r\n    Bus 003 Device 032: ID 076b:3021 OmniKey AG CardMan 3121\r\n    root@sun-M14xR2:/var/tmp# opensc-tool -l\r\n    # Detected readers (pcsc)\r\n    Nr.  Card  Features  Name\r\n    0    No              Generic CCID Reader 00 00\r\n\r\n    root@sun-M14xR2:/var/tmp# pcsc_scan \r\n    PC/SC device scanner\r\n    V 1.4.20 (c) 2001-2011, Ludovic Rousseau &lt;ludovic.rousseau@free.fr&gt;\r\n    Compiled with PC/SC lite version: 1.8.3\r\n    Using reader plug&#39;n play mechanism\r\n    Scanning present readers...\r\n    0: Generic CCID Reader 00 00\r\n    \r\n    Fri Apr 19 05:30:22 2013\r\n    Reader 0: Generic CCID Reader 00 00\r\n      Card state: Card removed, \r\n    \r\n    Fri Apr 19 05:30:59 2013\r\n    Reader 0: Generic CCID Reader 00 00\r\n      Card state: Card inserted, Unresponsive card, \r\n    \r\n    Fri Apr 19 05:31:04 2013\r\n    Reader 0: Generic CCID Reader 00 00\r\n      Card state: Card removed, \r\n\r\n\r\n    Fri Apr 19 05:33:31 2013\r\n    Reader 0: Generic CCID Reader 00 00\r\n      Card state: Card inserted, \r\n      ATR: 3B 98 13 40 0A A5 03 01 01 01 AD 13 11\r\n    \r\n    ATR: 3B 98 13 40 0A A5 03 01 01 01 AD 13 11\r\n    + TS = 3B --&gt; Direct Convention\r\n    + T0 = 98, Y(1): 1001, K: 8 (historical bytes)\r\n      TA(1) = 13 --&gt; Fi=372, Di=4, 93 cycles/ETU\r\n        43010 bits/s at 4 MHz, fMax for Fi = 5 MHz =&gt; 53763 bits/s\r\n      TD(1) = 40 --&gt; Y(i+1) = 0100, Protocol T = 0 \r\n    -----\r\n      TC(2) = 0A --&gt; Work waiting time: 960 x 10 x (Fi/F)\r\n    + Historical bytes: A5 03 01 01 01 AD 13 11\r\n      Category indicator byte: A5 (proprietary format)\r\n    \r\n    Possibly identified card (using /usr/share/pcsc/smartcard_list.txt):\r\n    3B 98 13 40 0A A5 03 01 01 01 AD 13 11\r\n    \tBelgium Electronic ID card\r\n\r\n\r\n","title":"PCSC does not return anything on linux, the card reader is connected","body":"<p>I am trying this, to read the card with PCSC framework. But it does not return anything at all.</p>\n\n<pre><code>import java.util.List;\nimport javax.smartcardio.*;\n\npublic class Blog {\n public static void main(String[] args) {\n  try {\n   // Display the list of terminals\n   TerminalFactory factory = TerminalFactory.getDefault();\n   List&lt;CardTerminal&gt; terminals = factory.terminals().list();\n   System.out.println(\"Terminals: \" + terminals);\n\n   // Use the first terminal\n   CardTerminal terminal = terminals.get(0);\n\n   // Connect wit hthe card\n   Card card = terminal.connect(\"*\");\n   System.out.println(\"card: \" + card);\n   CardChannel channel = card.getBasicChannel();\n\n   // Send Select Applet command\n   byte[] aid = {(byte)0xA0, 0x00, 0x00, 0x00, 0x62, 0x03, 0x01, 0x0C, 0x06, 0x01};\n   ResponseAPDU answer = channel.transmit(new CommandAPDU(0x00, 0xA4, 0x04, 0x00, aid));\n   System.out.println(\"answer: \" + answer.toString());\n\n   // Send test command\n   answer = channel.transmit(new CommandAPDU(0x00, 0x00, 0x00, 0x00));\n   System.out.println(\"answer: \" + answer.toString());\n   byte r[] = answer.getData();\n   for (int i=0; i&lt;r.length; i++)\n    System.out.print((char)r[i]);\n   System.out.println();\n\n   // Disconnect the card\n   card.disconnect(false);\n  } catch(Exception e) {\n   System.out.println(\"Ouch: \" + e.toString());\n  }\n }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>run-single:\nTerminals: []\nOuch: java.lang.IndexOutOfBoundsException: Index: 0\nBUILD SUCCESSFUL (total time: 4 seconds)\n</code></pre>\n\n<p>By using other tools it works, but cant figure out why Java code is not showing?</p>\n\n<pre><code>root@sun-M14xR2:/var/tmp# ps -e | grep pcsc\n16399 ?        00:00:00 pcscd\nroot@sun-M14xR2:/var/tmp# service pcscd status\n * pcscd is running\nroot@sun-M14xR2:/var/tmp# service pcscd restart\n * Restarting PCSC Lite resource manager pcscd                                                                                                                   [ OK ] \nroot@sun-M14xR2:/var/tmp# lsusb\nBus 003 Device 032: ID 076b:3021 OmniKey AG CardMan 3121\nroot@sun-M14xR2:/var/tmp# opensc-tool -l\n# Detected readers (pcsc)\nNr.  Card  Features  Name\n0    No              Generic CCID Reader 00 00\n\nroot@sun-M14xR2:/var/tmp# pcsc_scan \nPC/SC device scanner\nV 1.4.20 (c) 2001-2011, Ludovic Rousseau &lt;ludovic.rousseau@free.fr&gt;\nCompiled with PC/SC lite version: 1.8.3\nUsing reader plug'n play mechanism\nScanning present readers...\n0: Generic CCID Reader 00 00\n\nFri Apr 19 05:30:22 2013\nReader 0: Generic CCID Reader 00 00\n  Card state: Card removed, \n\nFri Apr 19 05:30:59 2013\nReader 0: Generic CCID Reader 00 00\n  Card state: Card inserted, Unresponsive card, \n\nFri Apr 19 05:31:04 2013\nReader 0: Generic CCID Reader 00 00\n  Card state: Card removed, \n\n\nFri Apr 19 05:33:31 2013\nReader 0: Generic CCID Reader 00 00\n  Card state: Card inserted, \n  ATR: 3B 98 13 40 0A A5 03 01 01 01 AD 13 11\n\nATR: 3B 98 13 40 0A A5 03 01 01 01 AD 13 11\n+ TS = 3B --&gt; Direct Convention\n+ T0 = 98, Y(1): 1001, K: 8 (historical bytes)\n  TA(1) = 13 --&gt; Fi=372, Di=4, 93 cycles/ETU\n    43010 bits/s at 4 MHz, fMax for Fi = 5 MHz =&gt; 53763 bits/s\n  TD(1) = 40 --&gt; Y(i+1) = 0100, Protocol T = 0 \n-----\n  TC(2) = 0A --&gt; Work waiting time: 960 x 10 x (Fi/F)\n+ Historical bytes: A5 03 01 01 01 AD 13 11\n  Category indicator byte: A5 (proprietary format)\n\nPossibly identified card (using /usr/share/pcsc/smartcard_list.txt):\n3B 98 13 40 0A A5 03 01 01 01 AD 13 11\n    Belgium Electronic ID card\n</code></pre>\n"},{"tags":["java","ios","appium","appium-ios","ios16"],"answers":[{"tags":[],"owner":{"account_id":16581218,"reputation":1,"user_id":13612863,"display_name":"Itay Sasson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679895655,"creation_date":1679895655,"answer_id":75852414,"question_id":75801401,"body_markdown":"I think you have 2 options.\r\nClick on &quot;Done&quot;/&quot;go&quot;/&quot;next&quot; or click on screen outside of the keyboard.\r\n\r\nAlso, By looking online I found this:\r\n\r\nconst doneButton = await this._driver.findElementByText(&#39;Done&#39;);\r\n    await doneButton.tap();","title":"How to Hide Virtual Numerical Keyboard in IOS 16? (Appium Java)","body":"<p>I think you have 2 options.\nClick on &quot;Done&quot;/&quot;go&quot;/&quot;next&quot; or click on screen outside of the keyboard.</p>\n<p>Also, By looking online I found this:</p>\n<p>const doneButton = await this._driver.findElementByText('Done');\nawait doneButton.tap();</p>\n"}],"owner":{"account_id":19717593,"reputation":43,"user_id":14436702,"display_name":"B. Kerem Kurt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679895655,"creation_date":1679402686,"question_id":75801401,"body_markdown":"I&#39;m working on mobile automation, using Appium. I would like to hide virtual keyboard when typing a message. At the same time I want the message cursor visible. Normally when you slide down or close the keyboard, the cursor also goes away. I have been using HideKeyboard method. HideKeyboard method successfully closes normal virtual keyboard. However it does not close numerical keyboard.\r\n\r\nIs there any way for closing the numerical keyboard while the message cursor is visible?\r\n\r\n\r\nThanks in advance.","title":"How to Hide Virtual Numerical Keyboard in IOS 16? (Appium Java)","body":"<p>I'm working on mobile automation, using Appium. I would like to hide virtual keyboard when typing a message. At the same time I want the message cursor visible. Normally when you slide down or close the keyboard, the cursor also goes away. I have been using HideKeyboard method. HideKeyboard method successfully closes normal virtual keyboard. However it does not close numerical keyboard.</p>\n<p>Is there any way for closing the numerical keyboard while the message cursor is visible?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","eclipse","github","share"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1679857659,"post_id":75849911,"comment_id":133791902,"body_markdown":"The right-click menu is context-sensitive. In which view did you right-click on what? Please tell also your Eclipse version. Do you get the same menu also for a new project?","body":"The right-click menu is context-sensitive. In which view did you right-click on what? Please tell also your Eclipse version. Do you get the same menu also for a new project?"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1679891962,"post_id":75849911,"comment_id":133796009,"body_markdown":"The option to &quot;Add to CodeTogether Ignore&quot; is shown--is this project already under a different SCM?","body":"The option to &quot;Add to CodeTogether Ignore&quot; is shown--is this project already under a different SCM?"}],"owner":{"account_id":28131493,"reputation":1,"user_id":21495954,"display_name":"Rishi306"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679895416,"creation_date":1679857195,"question_id":75849911,"body_markdown":"I want to share my project to github but the onloy options im getting are synchronize workspace and apply patch. I have all my other projects working just fine sharen in github.\r\n\r\n![enter image description here](https://i.stack.imgur.com/73rKc.png)\r\n\r\nAs i press them, they do nothing, i just want to share my project in github.","title":"Only option available from team eclipse is synchronize workspace and apply patch","body":"<p>I want to share my project to github but the onloy options im getting are synchronize workspace and apply patch. I have all my other projects working just fine sharen in github.</p>\n<p><img src=\"https://i.stack.imgur.com/73rKc.png\" alt=\"enter image description here\" /></p>\n<p>As i press them, they do nothing, i just want to share my project in github.</p>\n"},{"tags":["java","scala","java-8"],"comments":[{"owner":{"account_id":1288640,"reputation":8167,"user_id":1241193,"display_name":"Bob Dalgleish"},"score":2,"creation_date":1507937682,"post_id":46738761,"comment_id":80425470,"body_markdown":"A quick search on Google comes up with a definitive *NO*. Did your search fail?","body":"A quick search on Google comes up with a definitive <i>NO</i>. Did your search fail?"},{"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"score":0,"creation_date":1507965969,"post_id":46738761,"comment_id":80430240,"body_markdown":"I did not find anything. But it&#39;s hard to believe that java don&#39;t offer a similar feature being so powerful to create DSLs","body":"I did not find anything. But it&#39;s hard to believe that java don&#39;t offer a similar feature being so powerful to create DSLs"}],"answers":[{"tags":[],"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679894945,"creation_date":1507968993,"answer_id":46742404,"question_id":46738761,"body_markdown":"In Java there are no macros like in Scala but there is kind of macros like in C++.\r\n\r\nhttps://stackoverflow.com/questions/6525059/can-i-have-macros-in-java-source-files\r\n\r\nhttps://stackoverflow.com/questions/7914804/macros-in-java\r\n\r\nhttps://stackoverflow.com/questions/25078538/using-scala-macro-from-java\r\n\r\nThere are also \r\n\r\n- Manifold http://manifold.systems/ https://github.com/manifold-systems/manifold\r\n\r\n- Spoon https://spoon.gforge.inria.fr/ https://github.com/INRIA/spoon\r\n\r\n- Joern https://joern.io/ https://github.com/joernio/joern\r\n\r\n- compile-time annotation processing https://stackoverflow.com/questions/58443039/is-there-a-way-to-create-custom-annotations-in-scala-and-write-a-custom-annotati\r\n\r\n- Lombok https://projectlombok.org/ https://github.com/projectlombok/lombok","title":"Similar to Scala macro in Java","body":"<p>In Java there are no macros like in Scala but there is kind of macros like in C++.</p>\n<p><a href=\"https://stackoverflow.com/questions/6525059/can-i-have-macros-in-java-source-files\">Can I have macros in Java source files</a></p>\n<p><a href=\"https://stackoverflow.com/questions/7914804/macros-in-java\">Macros in Java?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/25078538/using-scala-macro-from-java\">Using scala macro from java</a></p>\n<p>There are also</p>\n<ul>\n<li><p>Manifold <a href=\"http://manifold.systems/\" rel=\"nofollow noreferrer\">http://manifold.systems/</a> <a href=\"https://github.com/manifold-systems/manifold\" rel=\"nofollow noreferrer\">https://github.com/manifold-systems/manifold</a></p>\n</li>\n<li><p>Spoon <a href=\"https://spoon.gforge.inria.fr/\" rel=\"nofollow noreferrer\">https://spoon.gforge.inria.fr/</a> <a href=\"https://github.com/INRIA/spoon\" rel=\"nofollow noreferrer\">https://github.com/INRIA/spoon</a></p>\n</li>\n<li><p>Joern <a href=\"https://joern.io/\" rel=\"nofollow noreferrer\">https://joern.io/</a> <a href=\"https://github.com/joernio/joern\" rel=\"nofollow noreferrer\">https://github.com/joernio/joern</a></p>\n</li>\n<li><p>compile-time annotation processing <a href=\"https://stackoverflow.com/questions/58443039/is-there-a-way-to-create-custom-annotations-in-scala-and-write-a-custom-annotati\">Is there a way to create custom annotations in Scala and write a custom annotation processor to verify the annotations?</a></p>\n</li>\n<li><p>Lombok <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">https://projectlombok.org/</a> <a href=\"https://github.com/projectlombok/lombok\" rel=\"nofollow noreferrer\">https://github.com/projectlombok/lombok</a></p>\n</li>\n</ul>\n"}],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":46742404,"answer_count":1,"score":0,"last_activity_date":1679894945,"creation_date":1507933237,"question_id":46738761,"body_markdown":"Anybody know if in Java there&#180;s something like `Scala macro` to interact with the javac in compilation time. `Reflection` it&#180;s quite powerful, but only works on runtime.\r\n\r\n","title":"Similar to Scala macro in Java","body":"<p>Anybody know if in Java there´s something like <code>Scala macro</code> to interact with the javac in compilation time. <code>Reflection</code> it´s quite powerful, but only works on runtime.</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"score":0,"creation_date":1682260664,"post_id":75566385,"comment_id":134183805,"body_markdown":"What versions of spring boot and spring are you using?","body":"What versions of spring boot and spring are you using?"}],"answers":[{"tags":[],"owner":{"account_id":28134275,"reputation":9,"user_id":21498278,"display_name":"Ngoc Vu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1679892565,"creation_date":1679892565,"answer_id":75852217,"question_id":75566385,"body_markdown":"I got the same issue when using IntelliJ Community version and run a project downloaded from Spring Initialiazr. The reason I had to download is because IntelliJ Community version does not provide Spring as Ultimate version does. \r\n\r\nWhen I use the Ultimate IntelliJ (there is 30 days trial option) and create new project (same as yours), I can run it without any problem. \r\n\r\nInitially I guess the issue comes from IntelliJ Community version, but then when I post question on Udemy, the assistant teacher said he can run it without any problem with Community version. So my choice is to use Ultimate version as it&#39;s not worth wasting time to find issue.\r\n\r\nHope this help!","title":"Cannot resolve method &#39;forDefaultResourceLocation&#39; in &#39;SpringFactoriesLoader&#39;","body":"<p>I got the same issue when using IntelliJ Community version and run a project downloaded from Spring Initialiazr. The reason I had to download is because IntelliJ Community version does not provide Spring as Ultimate version does.</p>\n<p>When I use the Ultimate IntelliJ (there is 30 days trial option) and create new project (same as yours), I can run it without any problem.</p>\n<p>Initially I guess the issue comes from IntelliJ Community version, but then when I post question on Udemy, the assistant teacher said he can run it without any problem with Community version. So my choice is to use Ultimate version as it's not worth wasting time to find issue.</p>\n<p>Hope this help!</p>\n"}],"owner":{"account_id":27867438,"reputation":11,"user_id":21278688,"display_name":"Анастасия"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":887,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679892565,"creation_date":1677338260,"question_id":75566385,"body_markdown":"Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: &#39;org.springframework.core.io.support.SpringFactoriesLoader org.springframework.core.io.support.SpringFactoriesLoader.forDefaultResourceLocation(java.lang.ClassLoader)&#39;\r\n\r\nCannot resolve method &#39;forDefaultResourceLocation&#39; in &#39;SpringFactoriesLoader&#39;\r\n\r\nThere is the basic code from SpringAppliacation:\r\n\r\n```\r\nprivate &lt;T&gt; List&lt;T&gt; getSpringFactoriesInstances(Class&lt;T&gt; type, ArgumentResolver argumentResolver) {\r\n\t\treturn SpringFactoriesLoader.forDefaultResourceLocation(getClassLoader()).load(type, argumentResolver);\r\n}\r\n```\r\n\r\nAnd if it might help my code:\r\n\r\n\r\n```\r\n@SpringBootApplication\r\npublic class Spring3Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Spring3Application.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nI don&#39;t know that to do, because I can&#39;t change anything in this file. So that I can do?\r\n\r\n\r\n\r\n\r\nI just start to learn Spring boot, use IntelliJ IDEA","title":"Cannot resolve method &#39;forDefaultResourceLocation&#39; in &#39;SpringFactoriesLoader&#39;","body":"<p>Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: 'org.springframework.core.io.support.SpringFactoriesLoader org.springframework.core.io.support.SpringFactoriesLoader.forDefaultResourceLocation(java.lang.ClassLoader)'</p>\n<p>Cannot resolve method 'forDefaultResourceLocation' in 'SpringFactoriesLoader'</p>\n<p>There is the basic code from SpringAppliacation:</p>\n<pre><code>private &lt;T&gt; List&lt;T&gt; getSpringFactoriesInstances(Class&lt;T&gt; type, ArgumentResolver argumentResolver) {\n        return SpringFactoriesLoader.forDefaultResourceLocation(getClassLoader()).load(type, argumentResolver);\n}\n</code></pre>\n<p>And if it might help my code:</p>\n<pre><code>@SpringBootApplication\npublic class Spring3Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Spring3Application.class, args);\n    }\n\n}\n</code></pre>\n<p>I don't know that to do, because I can't change anything in this file. So that I can do?</p>\n<p>I just start to learn Spring boot, use IntelliJ IDEA</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1679779390,"post_id":75844490,"comment_id":133782875,"body_markdown":"The project files are enough for running the Java code; what I do is add a docker-compose file for running anything else, like Postgres.","body":"The project files are enough for running the Java code; what I do is add a docker-compose file for running anything else, like Postgres."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":3,"creation_date":1679779626,"post_id":75844490,"comment_id":133782907,"body_markdown":"Do you use a version control ? A spring boot app is in the end single jar file ... ? Why Docker?","body":"Do you use a version control ? A spring boot app is in the end single jar file ... ? Why Docker?"},{"owner":{"account_id":27641,"reputation":9774,"user_id":73137,"accept_rate":89,"display_name":"SyncMaster"},"score":0,"creation_date":1679782642,"post_id":75844490,"comment_id":133783263,"body_markdown":"Yes, I missed to add about Git as that felt obvious. But you are right about Git/version control. Even with Git, I was trying to understand what I would do on the target machine to build my service. With this option, I would be needed Java and mvn on the target machine. Especially that I have a external database.","body":"Yes, I missed to add about Git as that felt obvious. But you are right about Git/version control. Even with Git, I was trying to understand what I would do on the target machine to build my service. With this option, I would be needed Java and mvn on the target machine. Especially that I have a external database."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1679838570,"post_id":75844490,"comment_id":133788806,"body_markdown":"@SyncMaster Building is usually done on a special &quot;CI&quot; server. So if your code is on GitHub, try GitHub Actions, otherwise maybe Jenkins or GitLab CI.","body":"@SyncMaster Building is usually done on a special &quot;CI&quot; server. So if your code is on GitHub, try GitHub Actions, otherwise maybe Jenkins or GitLab CI."}],"answers":[{"tags":[],"owner":{"account_id":2637276,"reputation":24,"user_id":2281641,"display_name":"Sudheep"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679848448,"creation_date":1679848448,"answer_id":75849096,"question_id":75844490,"body_markdown":"If your aim is to hit your rest apis, I would recommend to integrate SWAGGER in your project and use its UI swagger-ui.html to fire the apis&#39;s.\r\n\r\nIts always recommended to add your project under version control for multiple reasons. ","title":"Recommended approach to send a Maven SpringBoot project to another computer","body":"<p>If your aim is to hit your rest apis, I would recommend to integrate SWAGGER in your project and use its UI swagger-ui.html to fire the apis's.</p>\n<p>Its always recommended to add your project under version control for multiple reasons.</p>\n"}],"owner":{"account_id":27641,"reputation":9774,"user_id":73137,"accept_rate":89,"display_name":"SyncMaster"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679892011,"creation_date":1679777948,"question_id":75844490,"body_markdown":"Say I have a Maven Springboot application that exposes REST APIs and is backed by a database (PostGRES). I want to share this project with another person so that it can be run on a different machine.\r\n\r\nI should be able to run the project on a target machine and be able to hit the REST APIs.\r\n\r\nI can think of multiple ways such as packing my code into a JAR, and dockerizing everything. This might be simple. But I want to understand the different options and a recommended approach to share the project so that it can be easily run on another computer. \r\n\r\n[Update 1]: I am very familiar with Version control and Git. But in this scenario, I want to share my project on a Git repo with `README.md`. This way, the other person can just follow the readme and have my APIs running without having to install too many dependencies (Java, Springboot, Maven, PostGRES etc). Or maybe by just installing Maven and having everything else taken care of by Maven. So was trying to identify this flow. Or should I package everything into a container that is runnable on the other computer by just setting up docker? \r\n\r\nThe scenario is, say I want to showcase my work to a peer.","title":"Recommended approach to send a Maven SpringBoot project to another computer","body":"<p>Say I have a Maven Springboot application that exposes REST APIs and is backed by a database (PostGRES). I want to share this project with another person so that it can be run on a different machine.</p>\n<p>I should be able to run the project on a target machine and be able to hit the REST APIs.</p>\n<p>I can think of multiple ways such as packing my code into a JAR, and dockerizing everything. This might be simple. But I want to understand the different options and a recommended approach to share the project so that it can be easily run on another computer.</p>\n<p>[Update 1]: I am very familiar with Version control and Git. But in this scenario, I want to share my project on a Git repo with <code>README.md</code>. This way, the other person can just follow the readme and have my APIs running without having to install too many dependencies (Java, Springboot, Maven, PostGRES etc). Or maybe by just installing Maven and having everything else taken care of by Maven. So was trying to identify this flow. Or should I package everything into a container that is runnable on the other computer by just setting up docker?</p>\n<p>The scenario is, say I want to showcase my work to a peer.</p>\n"},{"tags":["java","stream"],"comments":[{"owner":{"account_id":16164538,"reputation":68,"user_id":11669834,"display_name":"Goo"},"score":0,"creation_date":1679883824,"post_id":75851612,"comment_id":133795194,"body_markdown":"Similar to this issue\nhttps://stackoverflow.com/questions/27677256/java-8-streams-to-find-the-duplicate-elements","body":"Similar to this issue <a href=\"https://stackoverflow.com/questions/27677256/java-8-streams-to-find-the-duplicate-elements\" title=\"java 8 streams to find the duplicate elements\">stackoverflow.com/questions/27677256/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679883298,"creation_date":1679883298,"answer_id":75851660,"question_id":75851612,"body_markdown":"You can use `Collectors.groupingBy` to get create a `Map` of OS names to a list of computers, then filter to get only the lists with multiple elements (i.e. containing duplicates).\r\n\r\n```java\r\nList&lt;Computer&gt; duplicated = computers.stream().collect(Collectors.groupingBy(Computer::getOsName))\r\n\t\t.entrySet().stream().filter(e -&gt; e.getValue().size() &gt; 1)\r\n\t\t.flatMap(e -&gt; e.getValue().stream()).toList();\r\n```","title":"Collect duplicate objects from a list of objects based on property in Java stream","body":"<p>You can use <code>Collectors.groupingBy</code> to get create a <code>Map</code> of OS names to a list of computers, then filter to get only the lists with multiple elements (i.e. containing duplicates).</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Computer&gt; duplicated = computers.stream().collect(Collectors.groupingBy(Computer::getOsName))\n        .entrySet().stream().filter(e -&gt; e.getValue().size() &gt; 1)\n        .flatMap(e -&gt; e.getValue().stream()).toList();\n</code></pre>\n"}],"owner":{"account_id":1619357,"reputation":65,"user_id":1496270,"accept_rate":25,"display_name":"mRaza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1003,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679891710,"creation_date":1679882568,"question_id":75851612,"body_markdown":"    class Computer{\r\n        int id;\r\n        String osName;\r\n    \r\n        //getter and setter of id and osName\r\n        //this class does not contain hashcode and equals methods\r\n    }\r\n\r\nI have a list of Computer objects\r\n\r\n    Computer c1 = new Computer(1, &quot;Window10&quot;);\r\n    Computer c2 = new Computer(2, &quot;Window11&quot;);\r\n    Computer c3 = new Computer(3, &quot;Linux&quot;);\r\n    Computer c4 = new Computer(4, &quot;Window10&quot;);\r\n    Computer c5 = new Computer(5, &quot;Window10&quot;);\r\n\r\nI need all duplicate objects list (by comparing osName) using java stream API.\r\n\r\n    Computer(1, &quot;Window10&quot;)\r\n    Computer(4, &quot;Window10&quot;)\r\n    Computer(5, &quot;Window10&quot;)\r\n\r\nPlease suggest the best way to do that.\r\n","title":"Collect duplicate objects from a list of objects based on property in Java stream","body":"<pre><code>class Computer{\n    int id;\n    String osName;\n\n    //getter and setter of id and osName\n    //this class does not contain hashcode and equals methods\n}\n</code></pre>\n<p>I have a list of Computer objects</p>\n<pre><code>Computer c1 = new Computer(1, &quot;Window10&quot;);\nComputer c2 = new Computer(2, &quot;Window11&quot;);\nComputer c3 = new Computer(3, &quot;Linux&quot;);\nComputer c4 = new Computer(4, &quot;Window10&quot;);\nComputer c5 = new Computer(5, &quot;Window10&quot;);\n</code></pre>\n<p>I need all duplicate objects list (by comparing osName) using java stream API.</p>\n<pre><code>Computer(1, &quot;Window10&quot;)\nComputer(4, &quot;Window10&quot;)\nComputer(5, &quot;Window10&quot;)\n</code></pre>\n<p>Please suggest the best way to do that.</p>\n"},{"tags":["java","jackson-databind"],"owner":{"account_id":25832467,"reputation":11,"user_id":19569396,"display_name":"tharper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679889661,"creation_date":1679889661,"question_id":75852032,"body_markdown":"I am trying to figure out how to deserialize a JSON response body from a service.  The service I am working with has three sections to the response:\r\n\r\n- Status -- Status ot ethe request\r\n- Data -- Output of a successful request\r\n- Error -- Data concerning any service error.\r\n\r\nStatus will always have data.\r\nData may or may not have daat\r\nError may or not have data\r\n\r\nData and Error will be mutually exclusive\r\n\r\nUnder my data, there are classes that need to be deserialized into the main class that are under an additional JSON field.  I am trying to come up with a way to deserialize this w/o creating a DTO that matches the JSON response body.\r\n\r\nAn example class I want to deserialize to:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Jacksonized\r\npublic class person {\r\n    String name;\r\n    Integer age;\r\n}\r\n\r\n@Getter\r\n@Setter\r\n@Jacksonized\r\npublic class employee extends person{\r\n    String role;\r\n    Integer department;\r\n\r\n    Collection\\&lt;Project\\&gt; projects;\r\n}\r\n\r\n@Getter\r\n@Setter\r\n@Jacksonized\r\npublic class Project{\r\n    Integer name;\r\n    String description;\r\n}\r\n```\r\n\r\nThe Json resembles:\r\n\r\n```\r\n{\r\n    &quot;status&quot;: {\r\n        &quot;response_code&quot;: 200,\r\n        &quot;response_text&quot;: &quot;success&quot;\r\n    },\r\n    &quot;data&quot;: {\r\n        &quot;person&quot;: {\r\n            &quot;name&quot;: &quot;Joe&quot;,\r\n            &quot;age&quot;: 45,\r\n            &quot;metadata&quot;: {\r\n                &quot;role&quot;: &quot;engineer&quot;,\r\n                &quot;department&quot;: 12,\r\n                &quot;projects&quot;: \\[\r\n                    {\r\n                        &quot;id&quot;: 3,\r\n                        &quot;project_name&quot;: &quot;new apps&quot;\r\n                    },\r\n                    {\r\n                        &quot;id&quot;: 7,\r\n                        &quot;project_name&quot;: &quot;support&quot;\r\n                    }\r\n                \\]\r\n            }\r\n        }\r\n    },\r\n    &quot;error&quot;: {\r\n        &quot;error_message&quot;: null,\r\n        &quot;error_details&quot;: null\r\n    }\r\n}\r\n```\r\n\r\nUnfortunately, it is for work, and I cannot supply the code directly, so I am building an example of the issue.\r\n\r\nSo far, I have fould a lot about Jackson deserialization for data that is not reflected in the JSON object.  It is more directed at nomenclature.  Where I am stuck is the &quot;metadata&quot; tag that exists in the data section that is not part of the POJP object.\r\n\r\n","title":"Java Deserialization Using Jackson to an object that does not resemble the JSON input","body":"<p>I am trying to figure out how to deserialize a JSON response body from a service.  The service I am working with has three sections to the response:</p>\n<ul>\n<li>Status -- Status ot ethe request</li>\n<li>Data -- Output of a successful request</li>\n<li>Error -- Data concerning any service error.</li>\n</ul>\n<p>Status will always have data.\nData may or may not have daat\nError may or not have data</p>\n<p>Data and Error will be mutually exclusive</p>\n<p>Under my data, there are classes that need to be deserialized into the main class that are under an additional JSON field.  I am trying to come up with a way to deserialize this w/o creating a DTO that matches the JSON response body.</p>\n<p>An example class I want to deserialize to:</p>\n<pre><code>@Getter\n@Setter\n@Jacksonized\npublic class person {\n    String name;\n    Integer age;\n}\n\n@Getter\n@Setter\n@Jacksonized\npublic class employee extends person{\n    String role;\n    Integer department;\n\n    Collection\\&lt;Project\\&gt; projects;\n}\n\n@Getter\n@Setter\n@Jacksonized\npublic class Project{\n    Integer name;\n    String description;\n}\n</code></pre>\n<p>The Json resembles:</p>\n<pre><code>{\n    &quot;status&quot;: {\n        &quot;response_code&quot;: 200,\n        &quot;response_text&quot;: &quot;success&quot;\n    },\n    &quot;data&quot;: {\n        &quot;person&quot;: {\n            &quot;name&quot;: &quot;Joe&quot;,\n            &quot;age&quot;: 45,\n            &quot;metadata&quot;: {\n                &quot;role&quot;: &quot;engineer&quot;,\n                &quot;department&quot;: 12,\n                &quot;projects&quot;: \\[\n                    {\n                        &quot;id&quot;: 3,\n                        &quot;project_name&quot;: &quot;new apps&quot;\n                    },\n                    {\n                        &quot;id&quot;: 7,\n                        &quot;project_name&quot;: &quot;support&quot;\n                    }\n                \\]\n            }\n        }\n    },\n    &quot;error&quot;: {\n        &quot;error_message&quot;: null,\n        &quot;error_details&quot;: null\n    }\n}\n</code></pre>\n<p>Unfortunately, it is for work, and I cannot supply the code directly, so I am building an example of the issue.</p>\n<p>So far, I have fould a lot about Jackson deserialization for data that is not reflected in the JSON object.  It is more directed at nomenclature.  Where I am stuck is the &quot;metadata&quot; tag that exists in the data section that is not part of the POJP object.</p>\n"},{"tags":["python","java","c#","amazon-textract","pdf-parsing"],"comments":[{"owner":{"account_id":7337509,"reputation":918,"user_id":5588347,"accept_rate":20,"display_name":"StackUseR"},"score":0,"creation_date":1679681264,"post_id":75833473,"comment_id":133770715,"body_markdown":"Haha you&#39;re right @KJ. My bad. Corrected it. What I meant was I know how to read/extract data from pdf. But with textract I&#39;m finding it difficult.","body":"Haha you&#39;re right @KJ. My bad. Corrected it. What I meant was I know how to read/extract data from pdf. But with textract I&#39;m finding it difficult."}],"owner":{"account_id":7337509,"reputation":918,"user_id":5588347,"accept_rate":20,"display_name":"StackUseR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679888977,"creation_date":1679659706,"question_id":75833473,"body_markdown":"Today, I&#39;m trying to extract table from pdf files into an excel using Amazon Textract! Initially I thought this is going to be very simple because it was till I was working on it with Java sdk&#39;s. But now I&#39;m stuck. I don&#39;t want to use lambda, I don&#39;t want to use S3 bucket to upload the files.\r\n\r\n**What I need and tried**: extracting entire table from multiple pdf files into excel. \r\n\r\nI don&#39;t want to read pdf into a text file and than write logic to fill the excel, I can do this in pure c#.\r\n\r\nThis is not about extracting data from table in key-value pair. This I have already tried: [Key-Value Pair demo][1]. With this, I&#39;m able to get data from images and pdf&#39;s in a key-value format. But but but, after going through a lot of documentations I got to know, `AnalyzeDocumentRequest` works only with single page images/pdf&#39;s and not with pdf&#39;s containing multiple pages.\r\n\r\nStartDocumentTextDetection I tried but again this has S3 bucket as a necessary parameter I guess and SNS, SQS, etc. Please correct me if I&#39;m wrong.\r\n\r\nSo, **Where I&#39;m stuck**:\r\n\r\n - I have lots of solution on google in Python and Java like:\r\n\r\nhttps://stackoverflow.com/questions/66679210/export-all-table-data-from-pdf-to-excel-using-amazon-textract\r\n\r\nhttps://stackoverflow.com/questions/69034908/amazon-textract-without-using-amazon-s3\r\n\r\nhttps://stackoverflow.com/questions/59038306/how-to-use-the-amazon-textract-with-pdf-files - again python and got to know something new about boto which I&#39;m not sure about. Lol!\r\n\r\n - I want to implement this in C#.Net. I&#39;m not getting proper documentation on this. \r\n - Obviously, I have gone through [this][2] but that&#39;s not what I want.\r\n - Not necessarily but even if the solution is without usage of S3 bucket that would be more great. \r\n\r\nIt would be really great if anyone can help me with this. Thanks in advance!\r\n\r\n\r\n  [1]: https://github.com/kinjalpgor/AWS-Textract-Key-Value-Pair-Demo-CSharp/blob/master/CSharpAWSTextract/Program.cs\r\n  [2]: https://github.com/aws-samples/amazon-textract-code-samples","title":"Extract data from pdf in table format to excel/csv - Amazon textract","body":"<p>Today, I'm trying to extract table from pdf files into an excel using Amazon Textract! Initially I thought this is going to be very simple because it was till I was working on it with Java sdk's. But now I'm stuck. I don't want to use lambda, I don't want to use S3 bucket to upload the files.</p>\n<p><strong>What I need and tried</strong>: extracting entire table from multiple pdf files into excel.</p>\n<p>I don't want to read pdf into a text file and than write logic to fill the excel, I can do this in pure c#.</p>\n<p>This is not about extracting data from table in key-value pair. This I have already tried: <a href=\"https://github.com/kinjalpgor/AWS-Textract-Key-Value-Pair-Demo-CSharp/blob/master/CSharpAWSTextract/Program.cs\" rel=\"nofollow noreferrer\">Key-Value Pair demo</a>. With this, I'm able to get data from images and pdf's in a key-value format. But but but, after going through a lot of documentations I got to know, <code>AnalyzeDocumentRequest</code> works only with single page images/pdf's and not with pdf's containing multiple pages.</p>\n<p>StartDocumentTextDetection I tried but again this has S3 bucket as a necessary parameter I guess and SNS, SQS, etc. Please correct me if I'm wrong.</p>\n<p>So, <strong>Where I'm stuck</strong>:</p>\n<ul>\n<li>I have lots of solution on google in Python and Java like:</li>\n</ul>\n<p><a href=\"https://stackoverflow.com/questions/66679210/export-all-table-data-from-pdf-to-excel-using-amazon-textract\">Export all table data from PDF to Excel using Amazon textract</a></p>\n<p><a href=\"https://stackoverflow.com/questions/69034908/amazon-textract-without-using-amazon-s3\">Amazon Textract without using Amazon S3</a></p>\n<p><a href=\"https://stackoverflow.com/questions/59038306/how-to-use-the-amazon-textract-with-pdf-files\">How to use the Amazon Textract with PDF files</a> - again python and got to know something new about boto which I'm not sure about. Lol!</p>\n<ul>\n<li>I want to implement this in C#.Net. I'm not getting proper documentation on this.</li>\n<li>Obviously, I have gone through <a href=\"https://github.com/aws-samples/amazon-textract-code-samples\" rel=\"nofollow noreferrer\">this</a> but that's not what I want.</li>\n<li>Not necessarily but even if the solution is without usage of S3 bucket that would be more great.</li>\n</ul>\n<p>It would be really great if anyone can help me with this. Thanks in advance!</p>\n"},{"tags":["java","spring-boot","serialization","thymeleaf","relationship"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679508039,"post_id":75806094,"comment_id":133736224,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":28079728,"reputation":1,"user_id":21451009,"display_name":"Shane Smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679888928,"creation_date":1679888928,"answer_id":75851991,"question_id":75806094,"body_markdown":"I figured out the issue was with the bi-directional relationship that School and Students has. This caused a recursive loop and made it so the data couldn&#39;t be serialized in the JSON object. I fixed it by adding:\r\n```\r\n@JsonIdentityInfo( generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;studentId&quot;)\r\n```\r\nAnd\r\n```\r\n@JsonIdentityInfo( generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\r\n```\r\nThis caused both of the domains to only load 1 level deep, and stopping the recursive loop.","title":"How to Access Spring Boot POJO That Has a Set of Another Object In Javascript Using Thymeleaf","body":"<p>I figured out the issue was with the bi-directional relationship that School and Students has. This caused a recursive loop and made it so the data couldn't be serialized in the JSON object. I fixed it by adding:</p>\n<pre><code>@JsonIdentityInfo( generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;studentId&quot;)\n</code></pre>\n<p>And</p>\n<pre><code>@JsonIdentityInfo( generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\n</code></pre>\n<p>This caused both of the domains to only load 1 level deep, and stopping the recursive loop.</p>\n"}],"owner":{"account_id":28079728,"reputation":1,"user_id":21451009,"display_name":"Shane Smith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75851991,"answer_count":1,"score":0,"last_activity_date":1679888955,"creation_date":1679430788,"question_id":75806094,"body_markdown":"I have an object Schools and another object Students. Schools has a OneToMany relationship with Students so that way a School can have a set of many Students. I am trying to access a list of Schools being given to the page from the controller using Javascript and Thymeleaf. When I try this, I am given an error in the console mentioning: \r\n\r\n```\r\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.3.jar:2.13.3]\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.3.jar:2.13.3]\r\n\tat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145) ~[jackson-databind-2.13.3.jar:2.13.3]\r\n\tat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107) ~[jackson-databind-2.13.3.jar:2.13.3]\r\n\tat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25) ~[jackson-databind-2.13.3.jar:2.13.3]\r\n\tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.3.jar:2.13.3]\r\n```\r\n\r\nI have determined that this error only occurs when I try to access the object via the Javascript Thymeleaf. If I access the object using Thymeleaf in the html it loads the data exactly as it should.\r\n\r\nHere is my School Object:\r\n\r\n```\r\n@Entity\r\npublic class Schools {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate long id;\r\n\t@NonNull\r\n\tprivate String schoolName;\r\n\t@NonNull\r\n\tprivate String type; \r\n\t@NonNull\r\n\tprivate String schoolGrade; \r\n\t@NonNull\r\n\tprivate int studentCount; \r\n\t@NonNull\r\n\tprivate int startHour; \r\n\t@NonNull \r\n\tprivate int startMin; \r\n\t@NonNull \r\n\tprivate String startAmPm; \r\n\t@NonNull \r\n\tprivate int endHour; \r\n\t@NonNull\r\n\tprivate int endMin; \r\n\t@NonNull\r\n\tprivate String endAmPm;\r\n\t@NonNull\r\n\tprivate Date startDate; \r\n\t@NonNull\r\n\tprivate Date endDate; \r\n\t@NonNull\r\n\tprivate int schoolDays;\r\n\t@NonNull\r\n\tprivate String address;\r\n\t@NonNull\r\n\tprivate String city;\r\n\t@NonNull\r\n\tprivate String state;\r\n\t@NonNull\r\n\tprivate int zip;\r\n\t@NonNull\r\n\tprivate String phone;\r\n\t@NonNull\r\n\tprivate boolean isActive;\r\n\t\r\n\t//one-to-one relationship so each location point is associated with one school\r\n\t@OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;location_id&quot;, referencedColumnName = &quot;location_id&quot;)\r\n\tprivate LocationPoint location;\r\n\t\r\n\t//mapping students one to many from schools\r\n\t//@OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval=true)\r\n\t@OneToMany(fetch = FetchType.EAGER, cascade = {CascadeType.MERGE, CascadeType.REMOVE, CascadeType.REFRESH, CascadeType.DETACH}, orphanRemoval=true)\r\n\t@JoinColumn(name = &quot;school_id&quot;)\r\n\tprivate Set&lt;Students&gt; students = new HashSet&lt;&gt;();\r\n```\r\n\r\nHere is my Student Object:\r\n\r\n```\r\n@Entity\r\npublic class Students {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate int studentId;\r\n\t@NonNull private int studId;\r\n\t@NonNull private boolean graduated;\r\n\t@NonNull private String firstName;\r\n\t@NonNull private String midName;\r\n    @NonNull private String lastName;\r\n    @NonNull private String suffix;\r\n    @NonNull private float grade;\r\n    @NonNull private String address1;\r\n    @Column(columnDefinition = &quot;TEXT&quot;)\r\n    @NonNull private String address2;\r\n    @NonNull private String city;\r\n    @NonNull private String state;\r\n    @NonNull private int zipCode;\r\n    @NonNull private String gender; \r\n    @NonNull private Date birthDate; \r\n    @NonNull private String phoneNum;\r\n    @NonNull private String cellPhoneNum;    \r\n    @NonNull private String emergencyPhoneNum;\r\n    @NonNull private String parentName;\r\n    @NonNull private String schoolName;\r\n    @NonNull private Date enter;\r\n    @NonNull private boolean isEnter;\r\n    @NonNull private Date Withdrawl;\r\n    @NonNull private boolean isWithdrawl;\r\n    @NonNull private boolean hazardousRoad;\r\n    @NonNull private String travelMode;\r\n    @NonNull private String driverNote;\r\n    @NonNull private String misc;\r\n    @NonNull private String journal;\r\n    @NonNull private String medical;\r\n    @NonNull private boolean isCustody;\r\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt1Name;\r\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt1Relationship;\r\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt1Address1;\r\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt1Address2;\r\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt1City;\r\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt1State;\r\n    @Column(columnDefinition = &quot;TEXT&quot;) private long alt1ZipCode;\r\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt1Phone;\r\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt1CellPhone;\r\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt2Name;\r\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt2Relationship;\r\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt2Address1;\r\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt2Address2;\r\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt2City;\r\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt2State;\r\n    @Column(columnDefinition = &quot;TEXT&quot;) private long alt2ZipCode;\r\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt2Phone;\r\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt2CellPhone;\r\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt3Name;\r\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt3Relationship;\r\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt3Address1;\r\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt3Address2;\r\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt3City;\r\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt3State;\r\n    @Column(columnDefinition = &quot;TEXT&quot;) private long alt3ZipCode;\r\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt3Phone;\r\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt3CellPhone;\r\n    @NonNull private String studentType1;\r\n    @NonNull private String studentType2;\r\n    @NonNull private String studentType3;\r\n    @NonNull private String pickUpLocation;\r\n    @NonNull private int pickUpStopNo;\r\n    @NonNull private String busRoute1;\r\n    @NonNull private String pickUpTime;\r\n    @NonNull private String deliveryLocation;\r\n    @NonNull private int deliveryStopNo;\r\n    @NonNull private String busRoute2;\r\n    @NonNull private String deliveryTime;\r\n   \r\n    //many-to-one relationship so multiple students are associated with one school\r\n    @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n\tprivate Schools school;\r\n    \r\n    //many-to-one relationship so multiple students are associated with one pickupDropoff\r\n    @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n\tprivate PickupDropoff2 pickupDropoff;\r\n\r\n    //one-to-one mapping so each student is associated with one location point\r\n    @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n\tprivate LocationPoint location;\r\n```\r\n\r\nHere is my controller:\r\n\r\n\r\n```\r\n\t//create pickupDropoff point display page\r\n\t@RequestMapping({&quot;/createPickupDropoff&quot;})\r\n\tpublic String createPickupDropoff(PickupDropoff2 pickupDropoff, Model model) {\r\n\t\t\r\n\t\tmodel.addAttribute(&quot;schools&quot;, schoolRepo.findAll());\r\n\t\tmodel.addAttribute(&quot;students&quot;, studentRepo.findAll());\r\n\t\t\r\n\t\treturn &quot;create-pickupDropoff-point&quot;;\r\n\t}\r\n```\r\n\r\nAnd here is my Javascript:\r\n\r\n```\r\n&lt;script type=&quot;text/javascript&quot; th:inline=&quot;javascript&quot;&gt;\r\n  var schools = /*[[${schools}]]*/ &#39;false&#39;;\r\n&lt;/script&gt;\r\n```","title":"How to Access Spring Boot POJO That Has a Set of Another Object In Javascript Using Thymeleaf","body":"<p>I have an object Schools and another object Students. Schools has a OneToMany relationship with Students so that way a School can have a set of many Students. I am trying to access a list of Schools being given to the page from the controller using Javascript and Thymeleaf. When I try this, I am given an error in the console mentioning:</p>\n<pre><code>at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.3.jar:2.13.3]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.3.jar:2.13.3]\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145) ~[jackson-databind-2.13.3.jar:2.13.3]\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107) ~[jackson-databind-2.13.3.jar:2.13.3]\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25) ~[jackson-databind-2.13.3.jar:2.13.3]\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.3.jar:2.13.3]\n</code></pre>\n<p>I have determined that this error only occurs when I try to access the object via the Javascript Thymeleaf. If I access the object using Thymeleaf in the html it loads the data exactly as it should.</p>\n<p>Here is my School Object:</p>\n<pre><code>@Entity\npublic class Schools {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    @NonNull\n    private String schoolName;\n    @NonNull\n    private String type; \n    @NonNull\n    private String schoolGrade; \n    @NonNull\n    private int studentCount; \n    @NonNull\n    private int startHour; \n    @NonNull \n    private int startMin; \n    @NonNull \n    private String startAmPm; \n    @NonNull \n    private int endHour; \n    @NonNull\n    private int endMin; \n    @NonNull\n    private String endAmPm;\n    @NonNull\n    private Date startDate; \n    @NonNull\n    private Date endDate; \n    @NonNull\n    private int schoolDays;\n    @NonNull\n    private String address;\n    @NonNull\n    private String city;\n    @NonNull\n    private String state;\n    @NonNull\n    private int zip;\n    @NonNull\n    private String phone;\n    @NonNull\n    private boolean isActive;\n    \n    //one-to-one relationship so each location point is associated with one school\n    @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;location_id&quot;, referencedColumnName = &quot;location_id&quot;)\n    private LocationPoint location;\n    \n    //mapping students one to many from schools\n    //@OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval=true)\n    @OneToMany(fetch = FetchType.EAGER, cascade = {CascadeType.MERGE, CascadeType.REMOVE, CascadeType.REFRESH, CascadeType.DETACH}, orphanRemoval=true)\n    @JoinColumn(name = &quot;school_id&quot;)\n    private Set&lt;Students&gt; students = new HashSet&lt;&gt;();\n</code></pre>\n<p>Here is my Student Object:</p>\n<pre><code>@Entity\npublic class Students {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int studentId;\n    @NonNull private int studId;\n    @NonNull private boolean graduated;\n    @NonNull private String firstName;\n    @NonNull private String midName;\n    @NonNull private String lastName;\n    @NonNull private String suffix;\n    @NonNull private float grade;\n    @NonNull private String address1;\n    @Column(columnDefinition = &quot;TEXT&quot;)\n    @NonNull private String address2;\n    @NonNull private String city;\n    @NonNull private String state;\n    @NonNull private int zipCode;\n    @NonNull private String gender; \n    @NonNull private Date birthDate; \n    @NonNull private String phoneNum;\n    @NonNull private String cellPhoneNum;    \n    @NonNull private String emergencyPhoneNum;\n    @NonNull private String parentName;\n    @NonNull private String schoolName;\n    @NonNull private Date enter;\n    @NonNull private boolean isEnter;\n    @NonNull private Date Withdrawl;\n    @NonNull private boolean isWithdrawl;\n    @NonNull private boolean hazardousRoad;\n    @NonNull private String travelMode;\n    @NonNull private String driverNote;\n    @NonNull private String misc;\n    @NonNull private String journal;\n    @NonNull private String medical;\n    @NonNull private boolean isCustody;\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt1Name;\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt1Relationship;\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt1Address1;\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt1Address2;\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt1City;\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt1State;\n    @Column(columnDefinition = &quot;TEXT&quot;) private long alt1ZipCode;\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt1Phone;\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt1CellPhone;\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt2Name;\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt2Relationship;\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt2Address1;\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt2Address2;\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt2City;\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt2State;\n    @Column(columnDefinition = &quot;TEXT&quot;) private long alt2ZipCode;\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt2Phone;\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt2CellPhone;\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt3Name;\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt3Relationship;\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt3Address1;\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt3Address2;\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt3City;\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt3State;\n    @Column(columnDefinition = &quot;TEXT&quot;) private long alt3ZipCode;\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt3Phone;\n    @Column(columnDefinition = &quot;TEXT&quot;) private String alt3CellPhone;\n    @NonNull private String studentType1;\n    @NonNull private String studentType2;\n    @NonNull private String studentType3;\n    @NonNull private String pickUpLocation;\n    @NonNull private int pickUpStopNo;\n    @NonNull private String busRoute1;\n    @NonNull private String pickUpTime;\n    @NonNull private String deliveryLocation;\n    @NonNull private int deliveryStopNo;\n    @NonNull private String busRoute2;\n    @NonNull private String deliveryTime;\n   \n    //many-to-one relationship so multiple students are associated with one school\n    @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    private Schools school;\n    \n    //many-to-one relationship so multiple students are associated with one pickupDropoff\n    @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    private PickupDropoff2 pickupDropoff;\n\n    //one-to-one mapping so each student is associated with one location point\n    @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    private LocationPoint location;\n</code></pre>\n<p>Here is my controller:</p>\n<pre><code>    //create pickupDropoff point display page\n    @RequestMapping({&quot;/createPickupDropoff&quot;})\n    public String createPickupDropoff(PickupDropoff2 pickupDropoff, Model model) {\n        \n        model.addAttribute(&quot;schools&quot;, schoolRepo.findAll());\n        model.addAttribute(&quot;students&quot;, studentRepo.findAll());\n        \n        return &quot;create-pickupDropoff-point&quot;;\n    }\n</code></pre>\n<p>And here is my Javascript:</p>\n<pre><code>&lt;script type=&quot;text/javascript&quot; th:inline=&quot;javascript&quot;&gt;\n  var schools = /*[[${schools}]]*/ 'false';\n&lt;/script&gt;\n</code></pre>\n"},{"tags":["java","selenium-webdriver","automation","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678181781,"creation_date":1678181781,"answer_id":75660194,"question_id":75659190,"body_markdown":"Check your guava library version. If you are using maven, update the dependency.\r\n````\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n        &lt;version&gt;31.0.1-jre&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n````","title":"Selenium : org.openqa.selenium.SessionNotCreatedException: Could not start a new session","body":"<p>Check your guava library version. If you are using maven, update the dependency.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;31.0.1-jre&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7430214,"reputation":1253,"user_id":5651468,"accept_rate":100,"display_name":"Sandeep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679888727,"creation_date":1679888727,"answer_id":75851977,"question_id":75659190,"body_markdown":"I had the same problem but I was able to get it working a couple of days back with Chrome version `108.0.5359.125 (Official Build) (64-bit)`.\r\n\r\nMy program used Chrome driver version `108.0.5359.71 [Windows 32 bit]`.\r\n\r\nMy POM dependencies are as follows:\r\n\r\n    &lt;dependencies&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;4.1.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.14.3&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.7.30&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.7.30&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n","title":"Selenium : org.openqa.selenium.SessionNotCreatedException: Could not start a new session","body":"<p>I had the same problem but I was able to get it working a couple of days back with Chrome version <code>108.0.5359.125 (Official Build) (64-bit)</code>.</p>\n<p>My program used Chrome driver version <code>108.0.5359.71 [Windows 32 bit]</code>.</p>\n<p>My POM dependencies are as follows:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;4.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n        &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n        &lt;version&gt;1.14.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.7.30&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;version&gt;1.7.30&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":27954291,"reputation":1,"user_id":21347454,"display_name":"Hareesh psn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":617,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679888727,"creation_date":1678175144,"question_id":75659190,"body_markdown":"```\r\nMar 07, 2023 12:54:53 PM org.openqa.selenium.remote.tracing.opentelemetry.OpenTelemetryTracer createTracer\r\nINFO: Using OpenTelemetry for tracing\r\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\nHost info: host: &#39;indhydlpt-0006&#39;, ip: &#39;192.168.5.168&#39;\r\nBuild info: version: &#39;4.8.0&#39;, revision: &#39;267030adea&#39;\r\nSystem info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.4.0-144-generic&#39;, java.version: &#39;1.8.0_362&#39;\r\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\r\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--whitelisted-ips], extensions: []}, platformName: LINUX}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [--whitelisted-ips], extensions: []}, platformName: LINUX}}]\r\nCapabilities {}\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:561)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:139)\r\n\tat hawkeye.framework.base.DriverFactory.createInstance(DriverFactory.java:66)\r\n\tat hawkeye.framework.base.FrameworkInitialize.InitializeBrowser(FrameworkInitialize.java:13)\r\n\tat com.ek.testscripts.TestInitialize.setUp(TestInitialize.java:147)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:104)\r\n\tat org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:515)\r\n\tat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:217)\r\n\tat org.testng.internal.Invoker.invokeMethod(Invoker.java:590)\r\n\tat org.testng.internal.Invoker.invokeTestMethod(Invoker.java:851)\r\n\tat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1177)\r\n\tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:129)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:112)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:756)\r\n\tat org.testng.TestRunner.run(TestRunner.java:610)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:387)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:382)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:340)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:289)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1293)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1218)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1133)\r\n\tat org.testng.TestNG.run(TestNG.java:1104)\r\n\tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\nCaused by: java.lang.NoSuchMethodError: com.google.common.collect.ImmutableMap.of(Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)Lcom/google/common/collect/ImmutableMap;\r\n\tat org.openqa.selenium.chrome.AddHasCasting.getAdditionalCommands(AddHasCasting.java:38)\r\n\tat org.openqa.selenium.remote.Dialect.lambda$bindAdditionalCommands$1(Dialect.java:80)\r\n\tat java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.openqa.selenium.remote.Dialect.bindAdditionalCommands(Dialect.java:79)\r\n\tat org.openqa.selenium.remote.Dialect.access$100(Dialect.java:29)\r\n\tat org.openqa.selenium.remote.Dialect$2.getCommandCodec(Dialect.java:54)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\r\n\tat org.openqa.selenium.remote.TracedCommandExecutor.execute(TracedCommandExecutor.java:51)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n\t... 33 more\r\n```\r\n\r\n\r\n\r\nI am migrating my current framework from selenium 3.14 to selinium 4.8.1. When the below statemnt is running Iam getting above error.\r\n```\r\n**RemoteWebDriver driver = new RemoteWebDriver(new URL(&quot;http://localhost:4444/&quot;), chromeOpts);\r\n**\r\n```","title":"Selenium : org.openqa.selenium.SessionNotCreatedException: Could not start a new session","body":"<pre><code>Mar 07, 2023 12:54:53 PM org.openqa.selenium.remote.tracing.opentelemetry.OpenTelemetryTracer createTracer\nINFO: Using OpenTelemetry for tracing\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \nHost info: host: 'indhydlpt-0006', ip: '192.168.5.168'\nBuild info: version: '4.8.0', revision: '267030adea'\nSystem info: os.name: 'Linux', os.arch: 'amd64', os.version: '5.4.0-144-generic', java.version: '1.8.0_362'\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--whitelisted-ips], extensions: []}, platformName: LINUX}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [--whitelisted-ips], extensions: []}, platformName: LINUX}}]\nCapabilities {}\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:561)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:139)\n    at hawkeye.framework.base.DriverFactory.createInstance(DriverFactory.java:66)\n    at hawkeye.framework.base.FrameworkInitialize.InitializeBrowser(FrameworkInitialize.java:13)\n    at com.ek.testscripts.TestInitialize.setUp(TestInitialize.java:147)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:104)\n    at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:515)\n    at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:217)\n    at org.testng.internal.Invoker.invokeMethod(Invoker.java:590)\n    at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:851)\n    at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1177)\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:129)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:112)\n    at org.testng.TestRunner.privateRun(TestRunner.java:756)\n    at org.testng.TestRunner.run(TestRunner.java:610)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:387)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:382)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:340)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:289)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1293)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1218)\n    at org.testng.TestNG.runSuites(TestNG.java:1133)\n    at org.testng.TestNG.run(TestNG.java:1104)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\nCaused by: java.lang.NoSuchMethodError: com.google.common.collect.ImmutableMap.of(Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)Lcom/google/common/collect/ImmutableMap;\n    at org.openqa.selenium.chrome.AddHasCasting.getAdditionalCommands(AddHasCasting.java:38)\n    at org.openqa.selenium.remote.Dialect.lambda$bindAdditionalCommands$1(Dialect.java:80)\n    at java.lang.Iterable.forEach(Iterable.java:75)\n    at org.openqa.selenium.remote.Dialect.bindAdditionalCommands(Dialect.java:79)\n    at org.openqa.selenium.remote.Dialect.access$100(Dialect.java:29)\n    at org.openqa.selenium.remote.Dialect$2.getCommandCodec(Dialect.java:54)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\n    at org.openqa.selenium.remote.TracedCommandExecutor.execute(TracedCommandExecutor.java:51)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\n    ... 33 more\n</code></pre>\n<p>I am migrating my current framework from selenium 3.14 to selinium 4.8.1. When the below statemnt is running Iam getting above error.</p>\n<pre><code>**RemoteWebDriver driver = new RemoteWebDriver(new URL(&quot;http://localhost:4444/&quot;), chromeOpts);\n**\n</code></pre>\n"},{"tags":["java","cucumber","cucumber-jvm"],"answers":[{"tags":[],"owner":{"account_id":463169,"reputation":3819,"user_id":865900,"accept_rate":88,"display_name":"Blacklight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384614624,"creation_date":1384614624,"answer_id":20019962,"question_id":19770103,"body_markdown":"As far as I know global hooks are not supported by Cucumber-JVM. However, you could try (tagged) hooks, @Before annotations and as a work-around static fields. [Have a look here][1] for an example.\r\n\r\n\r\n  [1]: http://zsoltfabok.com/blog/2012/09/cucumber-jvm-hooks/","title":"Global BeforeAll Hook for cucumber-jvm?","body":"<p>As far as I know global hooks are not supported by Cucumber-JVM. However, you could try (tagged) hooks, @Before annotations and as a work-around static fields. <a href=\"http://zsoltfabok.com/blog/2012/09/cucumber-jvm-hooks/\" rel=\"nofollow\">Have a look here</a> for an example.</p>\n"},{"tags":[],"owner":{"account_id":932026,"reputation":557,"user_id":961719,"accept_rate":8,"display_name":"nat"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1389967127,"creation_date":1389967127,"answer_id":21187709,"question_id":19770103,"body_markdown":"Please follow this link.\r\nthis a workaround for @BeforeAll and @AfterAll\r\n\r\nhttps://github.com/cucumber/cucumber-jvm/issues/515","title":"Global BeforeAll Hook for cucumber-jvm?","body":"<p>Please follow this link.\nthis a workaround for @BeforeAll and @AfterAll</p>\n\n<p><a href=\"https://github.com/cucumber/cucumber-jvm/issues/515\" rel=\"noreferrer\">https://github.com/cucumber/cucumber-jvm/issues/515</a></p>\n"},{"tags":[],"owner":{"account_id":1434179,"reputation":5113,"user_id":1355930,"display_name":"Ashley Frieze"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581635224,"creation_date":1581635224,"answer_id":60217808,"question_id":19770103,"body_markdown":"I have solved this problem a little bit using a class rule. Let&#39;s say that we wanted our cucumber test to start a single `TestContainers` container that we were testing. Let&#39;s say we were testing REDIS (we&#39;re not but it&#39;s a simple example).\r\n\r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(...)\r\n    public class TestRunner {\r\n        @ClassRule\r\n        static GenericContainer REDIS = new GenericContainer&lt;&gt;(&quot;redis:5.0.3-alpine&quot;)\r\n            .withExposedPorts(6379);\r\n     \r\n        // obviously we weren&#39;t testing redis, but this gives you the idea of a container\r\n    }\r\n\r\nThe above causes the `TestContainers` class `GenericContainer` to be initialized before the cucumber lifecycle and then torn down afterwards. You can write your own custom JUnit rule, extending `TestRule` and use it to decorate the execution of tests with your own custom set up.\r\n\r\nA common problem with this is that you have to somehow get access to the objects created at this point in the lifecycle from things created on a per-scenario basis. However, given that this lifecycle is part of the static state of the Cucumber test suite, you can just access the test rule object via the static field of the suite.\r\n\r\nI have a blog post on this here - https://codingcraftsman.wordpress.com/2020/01/20/extending-the-cucumber-test-lifecycle/","title":"Global BeforeAll Hook for cucumber-jvm?","body":"<p>I have solved this problem a little bit using a class rule. Let's say that we wanted our cucumber test to start a single <code>TestContainers</code> container that we were testing. Let's say we were testing REDIS (we're not but it's a simple example).</p>\n\n<pre><code>@RunWith(Cucumber.class)\n@CucumberOptions(...)\npublic class TestRunner {\n    @ClassRule\n    static GenericContainer REDIS = new GenericContainer&lt;&gt;(\"redis:5.0.3-alpine\")\n        .withExposedPorts(6379);\n\n    // obviously we weren't testing redis, but this gives you the idea of a container\n}\n</code></pre>\n\n<p>The above causes the <code>TestContainers</code> class <code>GenericContainer</code> to be initialized before the cucumber lifecycle and then torn down afterwards. You can write your own custom JUnit rule, extending <code>TestRule</code> and use it to decorate the execution of tests with your own custom set up.</p>\n\n<p>A common problem with this is that you have to somehow get access to the objects created at this point in the lifecycle from things created on a per-scenario basis. However, given that this lifecycle is part of the static state of the Cucumber test suite, you can just access the test rule object via the static field of the suite.</p>\n\n<p>I have a blog post on this here - <a href=\"https://codingcraftsman.wordpress.com/2020/01/20/extending-the-cucumber-test-lifecycle/\" rel=\"nofollow noreferrer\">https://codingcraftsman.wordpress.com/2020/01/20/extending-the-cucumber-test-lifecycle/</a></p>\n"},{"tags":[],"owner":{"account_id":3755351,"reputation":533,"user_id":3121823,"display_name":"JFK"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1585238891,"creation_date":1585238891,"answer_id":60871425,"question_id":19770103,"body_markdown":"There is no such feature natively in Cucumber JVM (see https://github.com/cucumber/cucumber-jvm/issues/515).\r\n\r\nHowever, there are a couple of workarounds:\r\n\r\n* Use the hooks of your test framework: \r\n  * `@BeforeAll` and `@AfterAll` for JUnit 5, \r\n  * `@BeforeClass` and `@AfterClass` for JUnit 4\r\n* Use a Cucumber `Before` hook for lazy singleton initialization and a JVM shutdown hook for teardown\r\n* Implement a Cucumber `EventListener` and subscribe to `TestRunStarted` and `TestRunFinished` events\r\n* Use the integration test lifecycle features of your build framework, e.g. Maven&#39;s `pre-integration-test`, `integration-test`, `post-integration-test` phases and the `maven-failsafe-plugin`.\r\n\r\nYou will also have to solve the issue of injecting the results of such a setup step (e.g. random port numbers) into your tests.\r\n\r\nI wrote a blog article to cover all details: https://metamorphant.de/blog/posts/2020-03-10-beforeall-afterall-cucumber-jvm-junit/","title":"Global BeforeAll Hook for cucumber-jvm?","body":"<p>There is no such feature natively in Cucumber JVM (see <a href=\"https://github.com/cucumber/cucumber-jvm/issues/515\" rel=\"noreferrer\">https://github.com/cucumber/cucumber-jvm/issues/515</a>).</p>\n\n<p>However, there are a couple of workarounds:</p>\n\n<ul>\n<li>Use the hooks of your test framework: \n\n<ul>\n<li><code>@BeforeAll</code> and <code>@AfterAll</code> for JUnit 5, </li>\n<li><code>@BeforeClass</code> and <code>@AfterClass</code> for JUnit 4</li>\n</ul></li>\n<li>Use a Cucumber <code>Before</code> hook for lazy singleton initialization and a JVM shutdown hook for teardown</li>\n<li>Implement a Cucumber <code>EventListener</code> and subscribe to <code>TestRunStarted</code> and <code>TestRunFinished</code> events</li>\n<li>Use the integration test lifecycle features of your build framework, e.g. Maven's <code>pre-integration-test</code>, <code>integration-test</code>, <code>post-integration-test</code> phases and the <code>maven-failsafe-plugin</code>.</li>\n</ul>\n\n<p>You will also have to solve the issue of injecting the results of such a setup step (e.g. random port numbers) into your tests.</p>\n\n<p>I wrote a blog article to cover all details: <a href=\"https://metamorphant.de/blog/posts/2020-03-10-beforeall-afterall-cucumber-jvm-junit/\" rel=\"noreferrer\">https://metamorphant.de/blog/posts/2020-03-10-beforeall-afterall-cucumber-jvm-junit/</a></p>\n"},{"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679886856,"creation_date":1672843347,"answer_id":75007061,"question_id":19770103,"body_markdown":"According to [the most recent docs][1], Cucumber offers a [`BeforeAll`][2] and [`AfterAll`][3] hook which will run before the first scenario and after the last scenario, respectively.\r\n\r\n\r\n  [1]: https://cucumber.io/docs/cucumber/api/?lang=java\r\n  [2]: https://javadoc.io/static/io.cucumber/cucumber-java/7.10.1/io/cucumber/java/BeforeAll.html\r\n  [3]: https://javadoc.io/doc/io.cucumber/cucumber-java/latest/io/cucumber/java/AfterAll.html","title":"Global BeforeAll Hook for cucumber-jvm?","body":"<p>According to <a href=\"https://cucumber.io/docs/cucumber/api/?lang=java\" rel=\"nofollow noreferrer\">the most recent docs</a>, Cucumber offers a <a href=\"https://javadoc.io/static/io.cucumber/cucumber-java/7.10.1/io/cucumber/java/BeforeAll.html\" rel=\"nofollow noreferrer\"><code>BeforeAll</code></a> and <a href=\"https://javadoc.io/doc/io.cucumber/cucumber-java/latest/io/cucumber/java/AfterAll.html\" rel=\"nofollow noreferrer\"><code>AfterAll</code></a> hook which will run before the first scenario and after the last scenario, respectively.</p>\n"}],"owner":{"account_id":2296797,"reputation":6110,"user_id":2018047,"accept_rate":51,"display_name":"Christian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40827,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":75007061,"answer_count":5,"score":13,"last_activity_date":1679886856,"creation_date":1383575933,"question_id":19770103,"body_markdown":"The ruby version of cucumber supports a global before hook. An *.rb file placed in the features/support directory gets apparently called only once, before any and all scenarios run.\r\nSee https://github.com/cucumber/cucumber/wiki/Hooks#global-hooks\r\n\r\nThat seems to be a great way to make sure a database (used in read-only during tests) gets populated (and thus is in a known state) before any tests run. \r\n\r\nIs there a similar feature available for the Java version of cucumber?","title":"Global BeforeAll Hook for cucumber-jvm?","body":"<p>The ruby version of cucumber supports a global before hook. An *.rb file placed in the features/support directory gets apparently called only once, before any and all scenarios run.\nSee <a href=\"https://github.com/cucumber/cucumber/wiki/Hooks#global-hooks\" rel=\"noreferrer\">https://github.com/cucumber/cucumber/wiki/Hooks#global-hooks</a></p>\n\n<p>That seems to be a great way to make sure a database (used in read-only during tests) gets populated (and thus is in a known state) before any tests run. </p>\n\n<p>Is there a similar feature available for the Java version of cucumber?</p>\n"},{"tags":["java","python"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1616541059,"post_id":29404521,"comment_id":118034126,"body_markdown":"Why? These streams are just toys in Java. Not of much practical use. I used them once briefly 22 years ago and quickly changed them to a `Queue`.","body":"Why? These streams are just toys in Java. Not of much practical use. I used them once briefly 22 years ago and quickly changed them to a <code>Queue</code>."}],"answers":[{"tags":[],"owner":{"account_id":2720604,"reputation":11,"user_id":2346984,"display_name":"user2346984"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679882886,"creation_date":1679880706,"answer_id":75851499,"question_id":29404521,"body_markdown":"    import os\r\n    import threading\r\n    import time\r\n    \r\n    in_pipe, out_pipe = os.pipe()\r\n    out_file = os.fdopen(out_pipe, &#39;wb&#39;)\r\n    def worker():\r\n        for i in range(6):\r\n            out_file.write(str.encode(&#39;Test text...\\n&#39;))\r\n            time.sleep(1)\r\n            out_file.flush()\r\n    \r\n    t = threading.Thread(target=worker, args=[])\r\n    t.start()\r\n    in_file = os.fdopen(in_pipe, &#39;rb&#39;)\r\n    for line_ in in_file:\r\n        print(line_)\r\n    \r\n    time.sleep(1)\r\n    t.join()\r\n\r\n","title":"How to pipe two input and output file object in python just like java.io.PipedInputStream in java?","body":"<pre><code>import os\nimport threading\nimport time\n\nin_pipe, out_pipe = os.pipe()\nout_file = os.fdopen(out_pipe, 'wb')\ndef worker():\n    for i in range(6):\n        out_file.write(str.encode('Test text...\\n'))\n        time.sleep(1)\n        out_file.flush()\n\nt = threading.Thread(target=worker, args=[])\nt.start()\nin_file = os.fdopen(in_pipe, 'rb')\nfor line_ in in_file:\n    print(line_)\n\ntime.sleep(1)\nt.join()\n</code></pre>\n"}],"owner":{"account_id":4629868,"reputation":103,"user_id":3752700,"display_name":"user3752700"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1679882886,"creation_date":1427945445,"question_id":29404521,"body_markdown":"I want to use tar to archive a local folder and upload to S3. I don&#39;t like having a temporary tar file in the local file system because the tar file will be huge.\r\n\r\nI want to have a way to pipe the two file-like objects: tar write file-like object and S3 read file-like object, just like `java.io.PipedInputStream` in Java.","title":"How to pipe two input and output file object in python just like java.io.PipedInputStream in java?","body":"<p>I want to use tar to archive a local folder and upload to S3. I don't like having a temporary tar file in the local file system because the tar file will be huge.</p>\n\n<p>I want to have a way to pipe the two file-like objects: tar write file-like object and S3 read file-like object, just like <code>java.io.PipedInputStream</code> in Java.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11821985,"reputation":66,"user_id":8650856,"display_name":"hydroPenguin"},"score":1,"creation_date":1573506166,"post_id":58808242,"comment_id":103896605,"body_markdown":"Found these 2 answers that might be related and helpful. [Handling Exceptions for ThreadPoolExecutor](https://stackoverflow.com/questions/2554549/handling-exceptions-for-threadpoolexecutor/34640459#34640459) &amp; [Whether to use invokeAll or submit - java Executor service](https://stackoverflow.com/questions/34440604/whether-to-use-invokeall-or-submit-java-executor-service)","body":"Found these 2 answers that might be related and helpful. <a href=\"https://stackoverflow.com/questions/2554549/handling-exceptions-for-threadpoolexecutor/34640459#34640459\">Handling Exceptions for ThreadPoolExecutor</a> &amp; <a href=\"https://stackoverflow.com/questions/34440604/whether-to-use-invokeall-or-submit-java-executor-service\">Whether to use invokeAll or submit - java Executor service</a>"}],"owner":{"account_id":14448,"reputation":5643,"user_id":29734,"accept_rate":77,"display_name":"Chris Kessel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1679880838,"creation_date":1573504016,"question_id":58808242,"body_markdown":"I&#39;m using `invokeAll(callables, 30, TimeUnit.SECONDS);` to spam out a bunch of async threads, then I go through the `List&lt;Future&lt;Result&gt;&gt;` to see which were completed, grabbing their results, and which were cancelled due to the timeout.\r\n\r\nHowever, I&#39;d really like to know where the code was when it was cancelled. I&#39;ve got threads that aren&#39;t finishing in time and I&#39;m having a difficult time figuring out where they&#39;re stuck (each Callable does a bunch of stuff).\r\n\r\nIs there some way to get the line of code or the stack at the point the Future was cancelled? Not that I can see with Future, but maybe some other ancillary helper classes that&#39;d help me track down where? Otherwise, I&#39;m back to old-skool throwing debug log lines all over the place.\r\n\r\nUsing Java 11.","title":"See the stack where a Future was cancelled?","body":"<p>I'm using <code>invokeAll(callables, 30, TimeUnit.SECONDS);</code> to spam out a bunch of async threads, then I go through the <code>List&lt;Future&lt;Result&gt;&gt;</code> to see which were completed, grabbing their results, and which were cancelled due to the timeout.</p>\n\n<p>However, I'd really like to know where the code was when it was cancelled. I've got threads that aren't finishing in time and I'm having a difficult time figuring out where they're stuck (each Callable does a bunch of stuff).</p>\n\n<p>Is there some way to get the line of code or the stack at the point the Future was cancelled? Not that I can see with Future, but maybe some other ancillary helper classes that'd help me track down where? Otherwise, I'm back to old-skool throwing debug log lines all over the place.</p>\n\n<p>Using Java 11.</p>\n"},{"tags":["java","makefile"],"comments":[{"owner":{"account_id":2337701,"reputation":840,"user_id":2049647,"display_name":"ATutorMe"},"score":2,"creation_date":1679879530,"post_id":75851411,"comment_id":133794779,"body_markdown":"Does it have to be GNU Make? What about [gradle](https://gradle.org/) or [maven](https://maven.apache.org/)?","body":"Does it have to be GNU Make? What about <a href=\"https://gradle.org/\" rel=\"nofollow noreferrer\">gradle</a> or <a href=\"https://maven.apache.org/\" rel=\"nofollow noreferrer\">maven</a>?"},{"owner":{"account_id":27297733,"reputation":43,"user_id":20815101,"display_name":"Thorfinn"},"score":0,"creation_date":1679880299,"post_id":75851411,"comment_id":133794857,"body_markdown":"It&#39;s not a mandatory requirement for my project, I just want to try it using GNU Make for the sake of learning.","body":"It&#39;s not a mandatory requirement for my project, I just want to try it using GNU Make for the sake of learning."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1679888589,"post_id":75851411,"comment_id":133795647,"body_markdown":"&quot;How to move my Honda car with a team of oxen?&quot; I suggest you focus your attention on more useful ways of compiling and building. Modern Java apps are built with [IDE](https://en.wikipedia.org/wiki/Integrated_development_environment)s using the compiler bundled with a [JDK](https://en.wikipedia.org/wiki/Java_Development_Kit) (usually named `javac`) invoked by a build management system such as [Apache Maven](https://en.wikipedia.org/wiki/Apache_Maven) or Apache Gradle.","body":"&quot;How to move my Honda car with a team of oxen?&quot; I suggest you focus your attention on more useful ways of compiling and building. Modern Java apps are built with <a href=\"https://en.wikipedia.org/wiki/Integrated_development_environment\" rel=\"nofollow noreferrer\">IDE</a>s using the compiler bundled with a <a href=\"https://en.wikipedia.org/wiki/Java_Development_Kit\" rel=\"nofollow noreferrer\">JDK</a> (usually named <code>javac</code>) invoked by a build management system such as <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Apache Maven</a> or Apache Gradle."}],"answers":[{"tags":[],"owner":{"account_id":433518,"reputation":1,"user_id":818889,"display_name":"aider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679879543,"creation_date":1679879543,"answer_id":75851432,"question_id":75851411,"body_markdown":"Here&#39;s a simple Makefile that should do what you want:\r\n\r\n    JC = javac\r\n    JFLAGS = -d bin\r\n    \r\n    .SUFFIXES: .java .class\r\n    .java.class:\r\n    \t$(JC) $(JFLAGS) $*.java\r\n    \r\n    SRCDIR = src\r\n    LIBDIR = lib\r\n    BINDIR = bin\r\n    SRCS = $(wildcard $(SRCDIR)/*.java)\r\n    LIBS = $(wildcard $(LIBDIR)/*.java)\r\n    CLASSES = $(SRCS:$(SRCDIR)/%.java=$(BINDIR)/%.class) $(LIBS:$(LIBDIR)/%.java=$(BINDIR)/%.class)\r\n    \r\n    default: classes\r\n    \r\n    classes: $(CLASSES)\r\n    \r\n    clean:\r\n    \t$(RM) $(BINDIR)/*.class\r\n\r\n","title":"How to compile my Java project using GNU Make?","body":"<p>Here's a simple Makefile that should do what you want:</p>\n<pre><code>JC = javac\nJFLAGS = -d bin\n\n.SUFFIXES: .java .class\n.java.class:\n    $(JC) $(JFLAGS) $*.java\n\nSRCDIR = src\nLIBDIR = lib\nBINDIR = bin\nSRCS = $(wildcard $(SRCDIR)/*.java)\nLIBS = $(wildcard $(LIBDIR)/*.java)\nCLASSES = $(SRCS:$(SRCDIR)/%.java=$(BINDIR)/%.class) $(LIBS:$(LIBDIR)/%.java=$(BINDIR)/%.class)\n\ndefault: classes\n\nclasses: $(CLASSES)\n\nclean:\n    $(RM) $(BINDIR)/*.class\n</code></pre>\n"}],"owner":{"account_id":27297733,"reputation":43,"user_id":20815101,"display_name":"Thorfinn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679888741,"answer_count":1,"score":0,"last_activity_date":1679879543,"creation_date":1679879226,"question_id":75851411,"body_markdown":"I have a Java project with two packages:\r\n- `src`\r\n    - `Main.java`\r\n- `lib`\r\n    - `AVLTree.java`\r\n    - `TreeNode.java`\r\n    - `TreeVisualizer.java`\r\n\r\nI want to write a makefile that compiles all the `.java` files to `.class` files and stores them in `bin/lib` and `bin/src` respectively. How can I write a simple `Makefile` to do that?\r\n\r\nCommands I&#39;m using right now to do this are:\r\n`javac -d bin lib\\* src\\*`\r\n(Currently on Windows)\r\n\r\nTo run, I&#39;m using:\r\n`java -cp bin\\ src\\Main.java`\r\n","title":"How to compile my Java project using GNU Make?","body":"<p>I have a Java project with two packages:</p>\n<ul>\n<li><code>src</code>\n<ul>\n<li><code>Main.java</code></li>\n</ul>\n</li>\n<li><code>lib</code>\n<ul>\n<li><code>AVLTree.java</code></li>\n<li><code>TreeNode.java</code></li>\n<li><code>TreeVisualizer.java</code></li>\n</ul>\n</li>\n</ul>\n<p>I want to write a makefile that compiles all the <code>.java</code> files to <code>.class</code> files and stores them in <code>bin/lib</code> and <code>bin/src</code> respectively. How can I write a simple <code>Makefile</code> to do that?</p>\n<p>Commands I'm using right now to do this are:\n<code>javac -d bin lib\\* src\\*</code>\n(Currently on Windows)</p>\n<p>To run, I'm using:\n<code>java -cp bin\\ src\\Main.java</code></p>\n"},{"tags":["java","database","spring-boot","docker","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":11426762,"reputation":89,"user_id":8376709,"display_name":"Yury"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679755314,"creation_date":1679697931,"answer_id":75838638,"question_id":75836970,"body_markdown":"I think the problem is that you dont create the &#39;AccountOpenedEvent&#39; topic in kafka. Make sure that the topic exists. If you want to create topic programmatically, you may try to do something like this \r\n        \t\r\n         @Bean\r\n\t     public NewTopic topic() {\r\n\t\t     return new NewTopic(&quot;AccountOpenedEvent&quot;, 2, (short) 2);\r\n\t     }\r\ns. also \r\nhttps://medium.com/@TimvanBaarsen/programmatically-create-kafka-topics-using-spring-kafka-8db5925ed2b1\r\n\r\nUPDATE:\r\nyou can also try this setup of kafka service\r\n\r\n    kafka:\r\n    image: &#39;bitnami/kafka:latest&#39;\r\n    ports:\r\n      - &#39;9092:9092&#39;\r\n      - &#39;19092:19092&#39;\r\n    environment:\r\n      - KAFKA_BROKER_ID=1\r\n      - KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://kafka:9092, OUTSIDE://localhost:19092\r\n      - KAFKA_ZOOKEEPER_CONNECT=zookeeper:2181\r\n      - KAFKA_LISTENER_SECURITY_PROTOCOL_MAP=PLAINTEXT:PLAINTEXT,OUTSIDE:PLAINTEXT\r\n      - KAFKA_LISTENERS=PLAINTEXT://0.0.0.0:9092, OUTSIDE://0.0.0.0:19092\r\n      - ALLOW_PLAINTEXT_LISTENER=yes\r\n    depends_on:\r\n      - zookeeper\r\n    networks:\r\n      - bankAccount\r\n","title":"Spring Boot App -&gt; Docker-compose.yml file containing Kafka cannot connect with each other as Kafka Producer and Kafka Consumer","body":"<p>I think the problem is that you dont create the 'AccountOpenedEvent' topic in kafka. Make sure that the topic exists. If you want to create topic programmatically, you may try to do something like this</p>\n<pre><code>     @Bean\n     public NewTopic topic() {\n         return new NewTopic(&quot;AccountOpenedEvent&quot;, 2, (short) 2);\n     }\n</code></pre>\n<p>s. also\n<a href=\"https://medium.com/@TimvanBaarsen/programmatically-create-kafka-topics-using-spring-kafka-8db5925ed2b1\" rel=\"nofollow noreferrer\">https://medium.com/@TimvanBaarsen/programmatically-create-kafka-topics-using-spring-kafka-8db5925ed2b1</a></p>\n<p>UPDATE:\nyou can also try this setup of kafka service</p>\n<pre><code>kafka:\nimage: 'bitnami/kafka:latest'\nports:\n  - '9092:9092'\n  - '19092:19092'\nenvironment:\n  - KAFKA_BROKER_ID=1\n  - KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://kafka:9092, OUTSIDE://localhost:19092\n  - KAFKA_ZOOKEEPER_CONNECT=zookeeper:2181\n  - KAFKA_LISTENER_SECURITY_PROTOCOL_MAP=PLAINTEXT:PLAINTEXT,OUTSIDE:PLAINTEXT\n  - KAFKA_LISTENERS=PLAINTEXT://0.0.0.0:9092, OUTSIDE://0.0.0.0:19092\n  - ALLOW_PLAINTEXT_LISTENER=yes\ndepends_on:\n  - zookeeper\nnetworks:\n  - bankAccount\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":562,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679879040,"creation_date":1679681661,"question_id":75836970,"body_markdown":"I try to implement an example of CQRS in Spring Boot. I have two main modules named as bank-account and cqrs-core. bank-account comprises 3 modules which are account-cmd, account-common and account-query.\r\n\r\nAccount-cmd is based on **command** process with **Kafka Producer** while account-query is based on **querying** with **Kafka Consumer**.\r\n\r\nI created two **docker-compose.yml** files. One is for account-cmd and the another one is for account-query.\r\n\r\nI run the docker-compose through this command shown below.\r\n\r\n    docker-compose --build\r\n\r\nAfter running thems for each related modules, I see that all containers are up.\r\n\r\nWhen I try to send any request through Postman like shown below\r\n\r\n    http://localhost:5000/api/v1/openBankAccount\r\n    \r\n    {\r\n        &quot;accountHolder&quot; : &quot;Account Holder 1&quot;,\r\n        &quot;accountType&quot; : &quot;SAVINGS&quot;,\r\n        &quot;openingBalance&quot; : 50.0\r\n    }\r\n\r\nI always see this message `Sending request...` in the Postman.\r\n\r\nKafka Producer logs shown below (docker-compose.yml of account.cmd).\r\nI only see this message constantly.\r\n\r\n    ...\r\n    2023-03-24 21:09:12 2023-03-24T18:09:12.993Z  WARN 1 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\r\n    ...\r\n\r\nKafka Consumer logs shown below (docker-compose.yml of account.query)\r\nI only see this message constantly.\r\n\r\n    ...\r\n    2023-03-24 21:10:05 2023-03-24T18:10:05.405Z  WARN 1 --- [ntainer#1-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-bankaccConsumer-4, groupId=bankaccConsumer] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\r\n    ...\r\n\r\n\r\nAfter waiting a certain amount of time, this message appeared on the console for account.cmd side.\r\n\r\n    org.springframework.kafka.kafkaexception : Send failed\r\n    Caused by: org.apache.kafka.common.errors.TimeoutException: Topic AccountOpenedEvent not present in metadata after 60000 ms.\r\n\r\nHere is the docker-compose.yml file shown below\r\n\r\n    version: &#39;3.9&#39;\r\n    \r\n    services:\r\n      account-cmd:\r\n        image: &#39;account-cmd:latest&#39;\r\n        build:\r\n          context: ./account.cmd\r\n        ports:\r\n          - &quot;5000:5000&quot;\r\n        depends_on:\r\n          - zookeeper\r\n          - kafka\r\n          - mongodb\r\n        environment:\r\n          - kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\r\n          - kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\r\n          - spring.data.mongodb.host=mongodb\r\n          - spring.data.mongodb.port=27017\r\n          - spring.data.mongodb.database=bankAccount\r\n          - server.port=5000\r\n          - spring.kafka.producer.bootstrap-servers=kafka:9092\r\n        networks:\r\n          - bankAccount\r\n    \r\n      account-query:\r\n        image: &#39;account-query:latest&#39;\r\n        build:\r\n          context: ./account.query\r\n        ports:\r\n          - &quot;5001:5001&quot;\r\n        depends_on:\r\n          - zookeeper\r\n          - kafka\r\n          - database\r\n        environment:\r\n          - spring.datasource.url=jdbc:mysql://database:3306/bankAccount?createDatabaseIfNotExist=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true\r\n          - server.port=5001\r\n          - spring.datasource.username=root\r\n          - spring.datasource.password=ippavlova_1990\r\n          - spring.kafka.consumer.group-id=bankaccConsumer\r\n          - spring.kafka.consumer.auto-offset-reset=earliest\r\n          - spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\n          - spring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer\r\n          - spring.kafka.consumer.properties.spring.json.trusted.packages=*\r\n          - spring.kafka.consumer.bootstrap-servers=kafka:9092\r\n        networks:\r\n          - bankAccount\r\n    \r\n      database:\r\n        container_name: mysql-database\r\n        image: &#39;mysql:latest&#39;\r\n        ports:\r\n          - &quot;3306:3306&quot;\r\n        restart: always\r\n        environment:\r\n          MYSQL_PASSWORD: ippavlova_1990\r\n          MYSQL_ROOT_PASSWORD: ippavlova_1990\r\n        volumes:\r\n          - db-data:/var/lib/mysql\r\n        networks:\r\n          - bankAccount\r\n        healthcheck:\r\n          test: [ &quot;CMD&quot;, &quot;mysqladmin&quot; ,&quot;ping&quot;, &quot;-h&quot;, &quot;localhost&quot; ]\r\n          timeout: 20s\r\n          retries: 10\r\n    \r\n    \r\n      mongodb:\r\n        image: &quot;mongo:latest&quot;\r\n        container_name: mongo-container\r\n        restart: always\r\n        ports:\r\n          - &quot;27017:27017&quot;\r\n        volumes:\r\n          - mongodb_data_container:/data/db\r\n        networks:\r\n          - bankAccount\r\n    \r\n      zookeeper:\r\n        image: &#39;bitnami/zookeeper:latest&#39;\r\n        restart: always\r\n        ports:\r\n          - &quot;2181:2181&quot;\r\n        volumes:\r\n          - &quot;zookeeper_data:/bitnami&quot;\r\n        environment:\r\n          - ALLOW_ANONYMOUS_LOGIN=yes\r\n        networks:\r\n          - bankAccount\r\n    \r\n      kafka:\r\n        image: &#39;bitnami/kafka:latest&#39;\r\n        ports:\r\n          - &#39;9092:9092&#39;\r\n          - &#39;9093:9093&#39;\r\n        environment:\r\n          - KAFKA_CFG_ZOOKEEPER_CONNECT=zookeeper:2181\r\n          - ALLOW_PLAINTEXT_LISTENER=yes\r\n          - KAFKA_CFG_LISTENER_SECURITY_PROTOCOL_MAP=CLIENT:PLAINTEXT,EXTERNAL:PLAINTEXT\r\n          - KAFKA_CFG_LISTENERS=CLIENT://:9092,EXTERNAL://:9093\r\n          - KAFKA_CFG_ADVERTISED_LISTENERS=CLIENT://kafka:9092,EXTERNAL://localhost:9093\r\n          - KAFKA_CFG_INTER_BROKER_LISTENER_NAME=CLIENT\r\n        depends_on:\r\n          - zookeeper\r\n        networks:\r\n          - bankAccount\r\n    \r\n    \r\n    volumes:\r\n      mongodb_data_container:\r\n      db-data:\r\n      zookeeper_data:\r\n        driver: local\r\n      kafka_data:\r\n        driver: local\r\n    \r\n    networks:\r\n      bankAccount:\r\n\r\n\r\n\r\nI get this issue from account-query (Consumer)\r\n\r\n    2023-03-26 02:04:27 2023-03-25T23:04:27.160Z  INFO 1 --- [ntainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-bankaccConsumer-3, groupId=bankaccConsumer] Request joining group due to: consumer pro-actively leaving the group\r\n\r\nI get this issue from account-cmd (Producer)\r\n\r\n    2023-03-26 02:04:29 2023-03-25T23:04:29.086Z  WARN 1 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\r\n\r\nI also added `KAFKA_CFG_ADVERTISED_LISTENERS=PLAINTEXT://kafka:9092`\r\nand added a `spring.kafka.bootstrap-servers=kafka:9092` to **account-cmd**  **account-query** but nothing changed.\r\n\r\nHow can I fix the issue?\r\n\r\nHere is my repo : [Link][1]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/cqrs-example","title":"Spring Boot App -&gt; Docker-compose.yml file containing Kafka cannot connect with each other as Kafka Producer and Kafka Consumer","body":"<p>I try to implement an example of CQRS in Spring Boot. I have two main modules named as bank-account and cqrs-core. bank-account comprises 3 modules which are account-cmd, account-common and account-query.</p>\n<p>Account-cmd is based on <strong>command</strong> process with <strong>Kafka Producer</strong> while account-query is based on <strong>querying</strong> with <strong>Kafka Consumer</strong>.</p>\n<p>I created two <strong>docker-compose.yml</strong> files. One is for account-cmd and the another one is for account-query.</p>\n<p>I run the docker-compose through this command shown below.</p>\n<pre><code>docker-compose --build\n</code></pre>\n<p>After running thems for each related modules, I see that all containers are up.</p>\n<p>When I try to send any request through Postman like shown below</p>\n<pre><code>http://localhost:5000/api/v1/openBankAccount\n\n{\n    &quot;accountHolder&quot; : &quot;Account Holder 1&quot;,\n    &quot;accountType&quot; : &quot;SAVINGS&quot;,\n    &quot;openingBalance&quot; : 50.0\n}\n</code></pre>\n<p>I always see this message <code>Sending request...</code> in the Postman.</p>\n<p>Kafka Producer logs shown below (docker-compose.yml of account.cmd).\nI only see this message constantly.</p>\n<pre><code>...\n2023-03-24 21:09:12 2023-03-24T18:09:12.993Z  WARN 1 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\n...\n</code></pre>\n<p>Kafka Consumer logs shown below (docker-compose.yml of account.query)\nI only see this message constantly.</p>\n<pre><code>...\n2023-03-24 21:10:05 2023-03-24T18:10:05.405Z  WARN 1 --- [ntainer#1-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-bankaccConsumer-4, groupId=bankaccConsumer] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\n...\n</code></pre>\n<p>After waiting a certain amount of time, this message appeared on the console for account.cmd side.</p>\n<pre><code>org.springframework.kafka.kafkaexception : Send failed\nCaused by: org.apache.kafka.common.errors.TimeoutException: Topic AccountOpenedEvent not present in metadata after 60000 ms.\n</code></pre>\n<p>Here is the docker-compose.yml file shown below</p>\n<pre><code>version: '3.9'\n\nservices:\n  account-cmd:\n    image: 'account-cmd:latest'\n    build:\n      context: ./account.cmd\n    ports:\n      - &quot;5000:5000&quot;\n    depends_on:\n      - zookeeper\n      - kafka\n      - mongodb\n    environment:\n      - kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\n      - kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\n      - spring.data.mongodb.host=mongodb\n      - spring.data.mongodb.port=27017\n      - spring.data.mongodb.database=bankAccount\n      - server.port=5000\n      - spring.kafka.producer.bootstrap-servers=kafka:9092\n    networks:\n      - bankAccount\n\n  account-query:\n    image: 'account-query:latest'\n    build:\n      context: ./account.query\n    ports:\n      - &quot;5001:5001&quot;\n    depends_on:\n      - zookeeper\n      - kafka\n      - database\n    environment:\n      - spring.datasource.url=jdbc:mysql://database:3306/bankAccount?createDatabaseIfNotExist=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true\n      - server.port=5001\n      - spring.datasource.username=root\n      - spring.datasource.password=ippavlova_1990\n      - spring.kafka.consumer.group-id=bankaccConsumer\n      - spring.kafka.consumer.auto-offset-reset=earliest\n      - spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer\n      - spring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer\n      - spring.kafka.consumer.properties.spring.json.trusted.packages=*\n      - spring.kafka.consumer.bootstrap-servers=kafka:9092\n    networks:\n      - bankAccount\n\n  database:\n    container_name: mysql-database\n    image: 'mysql:latest'\n    ports:\n      - &quot;3306:3306&quot;\n    restart: always\n    environment:\n      MYSQL_PASSWORD: ippavlova_1990\n      MYSQL_ROOT_PASSWORD: ippavlova_1990\n    volumes:\n      - db-data:/var/lib/mysql\n    networks:\n      - bankAccount\n    healthcheck:\n      test: [ &quot;CMD&quot;, &quot;mysqladmin&quot; ,&quot;ping&quot;, &quot;-h&quot;, &quot;localhost&quot; ]\n      timeout: 20s\n      retries: 10\n\n\n  mongodb:\n    image: &quot;mongo:latest&quot;\n    container_name: mongo-container\n    restart: always\n    ports:\n      - &quot;27017:27017&quot;\n    volumes:\n      - mongodb_data_container:/data/db\n    networks:\n      - bankAccount\n\n  zookeeper:\n    image: 'bitnami/zookeeper:latest'\n    restart: always\n    ports:\n      - &quot;2181:2181&quot;\n    volumes:\n      - &quot;zookeeper_data:/bitnami&quot;\n    environment:\n      - ALLOW_ANONYMOUS_LOGIN=yes\n    networks:\n      - bankAccount\n\n  kafka:\n    image: 'bitnami/kafka:latest'\n    ports:\n      - '9092:9092'\n      - '9093:9093'\n    environment:\n      - KAFKA_CFG_ZOOKEEPER_CONNECT=zookeeper:2181\n      - ALLOW_PLAINTEXT_LISTENER=yes\n      - KAFKA_CFG_LISTENER_SECURITY_PROTOCOL_MAP=CLIENT:PLAINTEXT,EXTERNAL:PLAINTEXT\n      - KAFKA_CFG_LISTENERS=CLIENT://:9092,EXTERNAL://:9093\n      - KAFKA_CFG_ADVERTISED_LISTENERS=CLIENT://kafka:9092,EXTERNAL://localhost:9093\n      - KAFKA_CFG_INTER_BROKER_LISTENER_NAME=CLIENT\n    depends_on:\n      - zookeeper\n    networks:\n      - bankAccount\n\n\nvolumes:\n  mongodb_data_container:\n  db-data:\n  zookeeper_data:\n    driver: local\n  kafka_data:\n    driver: local\n\nnetworks:\n  bankAccount:\n</code></pre>\n<p>I get this issue from account-query (Consumer)</p>\n<pre><code>2023-03-26 02:04:27 2023-03-25T23:04:27.160Z  INFO 1 --- [ntainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-bankaccConsumer-3, groupId=bankaccConsumer] Request joining group due to: consumer pro-actively leaving the group\n</code></pre>\n<p>I get this issue from account-cmd (Producer)</p>\n<pre><code>2023-03-26 02:04:29 2023-03-25T23:04:29.086Z  WARN 1 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\n</code></pre>\n<p>I also added <code>KAFKA_CFG_ADVERTISED_LISTENERS=PLAINTEXT://kafka:9092</code>\nand added a <code>spring.kafka.bootstrap-servers=kafka:9092</code> to <strong>account-cmd</strong>  <strong>account-query</strong> but nothing changed.</p>\n<p>How can I fix the issue?</p>\n<p>Here is my repo : <a href=\"https://github.com/Rapter1990/cqrs-example\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","android","android-studio","navigation","navigation-drawer"],"answers":[{"tags":[],"owner":{"account_id":26944978,"reputation":5,"user_id":20515107,"display_name":"RFlores"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679877118,"creation_date":1679877118,"answer_id":75851315,"question_id":75851158,"body_markdown":"Based on your comment on Mohsen&#39;s answer having an issue: Cannot resolve symbol &#39;android:navigationView&#39; try include this in your build.gradle file\r\n\r\n\r\n    dependencies {\r\n    //your version\r\n        def nav_version = &quot;2.3.5&quot;\r\n        implementation &quot;androidx.navigation:navigation-fragment:$nav_version&quot;\r\n        implementation &quot;androidx.navigation:navigation-ui:$nav_version&quot;\r\n    }","title":"Android custom menu navigation drawer background did not show on start up","body":"<p>Based on your comment on Mohsen's answer having an issue: Cannot resolve symbol 'android:navigationView' try include this in your build.gradle file</p>\n<pre><code>dependencies {\n//your version\n    def nav_version = &quot;2.3.5&quot;\n    implementation &quot;androidx.navigation:navigation-fragment:$nav_version&quot;\n    implementation &quot;androidx.navigation:navigation-ui:$nav_version&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":16093327,"reputation":300,"user_id":12632670,"display_name":"chris oojer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679877130,"creation_date":1679873689,"question_id":75851158,"body_markdown":"I am working on my Android app to make a custom menu items for navigation drawer. Everything is working fine especially when I click on the menu items, but when I run on the app, I could not see the pink background start up in the navigation drawer as I can see it is empty.\r\n\r\nIt should show like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut this is what it show right now:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nHere is the mainactivity:\r\n \r\n    public static DrawerLayout drawer;\r\n    public static NavigationView navigationView;\r\n    private ArrayList&lt;MenuNavItem&gt; list= new ArrayList&lt;&gt;();\r\n    private MenuNavItem mailfolder = null;\r\n    private NavController navController;\r\n    private RecyclerView recyclerView;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main2);\r\n        toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n\r\n        drawer = findViewById(R.id.drawer_layout);\r\n        navigationView = findViewById(R.id.nav_view);\r\n \r\n        ArrayList&lt;MenuNavItem&gt; list= new ArrayList&lt;&gt;();\r\n        MenuNavItem MenuInbox = new MenuNavItem(&quot;Inbox&quot;, total_inbox, R.drawable.ic_baseline_inbox_24);\r\n        list.add(MenuInbox);\r\n        list.add(MenuImportant);\r\n        list.add(MenuOutbox);\r\n    \r\n        adapter = new CustomMenuAdapter(context, list);\r\n        recyclerView.setAdapter(adapter);\r\n    \r\n        // menu should be considered as top level destinations.\r\n        mAppBarConfiguration = new AppBarConfiguration.Builder(R.id.nav_inbox)\r\n            .setDrawerLayout(drawer)\r\n            .build();\r\n        navController = Navigation.findNavController(this, R.id.nav_host_fragment);\r\n        NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\r\n        NavigationUI.setupWithNavController(navigationView, navController);\r\n    }\r\n\r\n\r\nactivity_main.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.drawerlayout.widget.DrawerLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/drawer_layout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        tools:openDrawer=&quot;start&quot;&gt;\r\n    \r\n        &lt;include\r\n            layout=&quot;@layout/app_bar_main&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n    \r\n        &lt;com.google.android.material.navigation.NavigationView\r\n            android:id=&quot;@+id/nav_view&quot;\r\n            style=&quot;@style/Widget.Custom.NavigationView&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;start&quot;\r\n            app:headerLayout=&quot;@layout/navigation_drawer&quot; /&gt;\r\n    &lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n\r\n\r\n\r\ncontent_main.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\r\n        tools:showIn=&quot;@layout/app_bar_main&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;&gt;\r\n    \r\n        &lt;fragment\r\n            android:id=&quot;@+id/nav_host_fragment&quot;\r\n            android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:defaultNavHost=&quot;true&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:navGraph=&quot;@navigation/mobile_navigation&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n\r\nnavigation_drawer.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n        &lt;include layout=&quot;@layout/nav_header_main&quot;/&gt;\r\n    \r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/rv_menu&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;/&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\nWhen I select on the menu item, it will show the pink background with no problem.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n\r\nI don&#39;t know why it wont show on startup when I run on the app.\r\n\r\nDo you know why it will not show on startup when I run it?\r\n\r\nAre there a way if I can get them to start up when I run?\r\n\r\nIf so, could you please show me an example what is the correct way to use to get them to run on startup using my own custom menu??\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bHfSF.png\r\n  [2]: https://i.stack.imgur.com/tdrkY.png\r\n  [3]: https://i.stack.imgur.com/pUhe6.png","title":"Android custom menu navigation drawer background did not show on start up","body":"<p>I am working on my Android app to make a custom menu items for navigation drawer. Everything is working fine especially when I click on the menu items, but when I run on the app, I could not see the pink background start up in the navigation drawer as I can see it is empty.</p>\n<p>It should show like this:</p>\n<p><a href=\"https://i.stack.imgur.com/bHfSF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bHfSF.png\" alt=\"enter image description here\" /></a></p>\n<p>But this is what it show right now:</p>\n<p><a href=\"https://i.stack.imgur.com/tdrkY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tdrkY.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the mainactivity:</p>\n<pre><code>public static DrawerLayout drawer;\npublic static NavigationView navigationView;\nprivate ArrayList&lt;MenuNavItem&gt; list= new ArrayList&lt;&gt;();\nprivate MenuNavItem mailfolder = null;\nprivate NavController navController;\nprivate RecyclerView recyclerView;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main2);\n    toolbar = findViewById(R.id.toolbar);\n    setSupportActionBar(toolbar);\n\n    drawer = findViewById(R.id.drawer_layout);\n    navigationView = findViewById(R.id.nav_view);\n\n    ArrayList&lt;MenuNavItem&gt; list= new ArrayList&lt;&gt;();\n    MenuNavItem MenuInbox = new MenuNavItem(&quot;Inbox&quot;, total_inbox, R.drawable.ic_baseline_inbox_24);\n    list.add(MenuInbox);\n    list.add(MenuImportant);\n    list.add(MenuOutbox);\n\n    adapter = new CustomMenuAdapter(context, list);\n    recyclerView.setAdapter(adapter);\n\n    // menu should be considered as top level destinations.\n    mAppBarConfiguration = new AppBarConfiguration.Builder(R.id.nav_inbox)\n        .setDrawerLayout(drawer)\n        .build();\n    navController = Navigation.findNavController(this, R.id.nav_host_fragment);\n    NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\n    NavigationUI.setupWithNavController(navigationView, navController);\n}\n</code></pre>\n<p>activity_main.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/drawer_layout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    tools:openDrawer=&quot;start&quot;&gt;\n\n    &lt;include\n        layout=&quot;@layout/app_bar_main&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n\n    &lt;com.google.android.material.navigation.NavigationView\n        android:id=&quot;@+id/nav_view&quot;\n        style=&quot;@style/Widget.Custom.NavigationView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;start&quot;\n        app:headerLayout=&quot;@layout/navigation_drawer&quot; /&gt;\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n<p>content_main.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\n    tools:showIn=&quot;@layout/app_bar_main&quot;\n    android:orientation=&quot;horizontal&quot;\n    android:layout_marginTop=&quot;20dp&quot;&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/nav_host_fragment&quot;\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:defaultNavHost=&quot;true&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:navGraph=&quot;@navigation/mobile_navigation&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>navigation_drawer.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n    &lt;include layout=&quot;@layout/nav_header_main&quot;/&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/rv_menu&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>When I select on the menu item, it will show the pink background with no problem.</p>\n<p><a href=\"https://i.stack.imgur.com/pUhe6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pUhe6.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't know why it wont show on startup when I run on the app.</p>\n<p>Do you know why it will not show on startup when I run it?</p>\n<p>Are there a way if I can get them to start up when I run?</p>\n<p>If so, could you please show me an example what is the correct way to use to get them to run on startup using my own custom menu??</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1679846635,"post_id":75848672,"comment_id":133790071,"body_markdown":"&quot;when i click it not exit the app instead opening the registration activity&quot; -- perhaps you should `finish()` the registration activity when you are done with it. Or, perhaps this should be a single activity with two fragments or composables representing the screens.","body":"&quot;when i click it not exit the app instead opening the registration activity&quot; -- perhaps you should <code>finish()</code> the registration activity when you are done with it. Or, perhaps this should be a single activity with two fragments or composables representing the screens."},{"owner":{"account_id":27623532,"reputation":29,"user_id":21084003,"display_name":"Sriram S"},"score":0,"creation_date":1679851839,"post_id":75848672,"comment_id":133790972,"body_markdown":"Now it goes to the login activity. I have added the finish() in both register and login activity but it doesn&#39;t exit the app","body":"Now it goes to the login activity. I have added the finish() in both register and login activity but it doesn&#39;t exit the app"}],"owner":{"account_id":27623532,"reputation":29,"user_id":21084003,"display_name":"Sriram S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679899993,"answer_count":0,"score":0,"last_activity_date":1679876641,"creation_date":1679844185,"question_id":75848672,"body_markdown":"I have more activities in my project. I have added logout button to log out user to registration page. Now iam going to add exit button i have added the button but when i click it not exit the app instead opening the registration activity. I want exit all activities How?\r\n```\r\npackage com.weatherapp;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\n\r\npublic class MenuActivity extends AppCompatActivity {\r\n\r\n    private Button btnGoto;\r\n    private Context context1;\r\n\r\n    private Button btngoto1;\r\n    private Context context2;\r\n\r\n    private Button btngoto2;\r\n    private Context context3;\r\n\r\n    Button LogOut;\r\n    public static final String SHARED_PREFS =&quot;sharedPrefs&quot;;\r\n\r\n    private Button closeApplicationBtn;\r\n\r\n\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_menu);\r\n\r\n        LogOut = findViewById(R.id.logOut);\r\n\r\n        LogOut.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                SharedPreferences sharedPreferences = getSharedPreferences(SHARED_PREFS,MODE_PRIVATE);\r\n                SharedPreferences.Editor editor = sharedPreferences.edit();\r\n\r\n                editor.putString(&quot;name&quot;, &quot;&quot;);\r\n                editor.apply();\r\n\r\n\r\n                Intent intent2 = new Intent(getApplicationContext(),Register.class);\r\n                startActivity(intent2);\r\n            }\r\n        });\r\n\r\n        context3=this;\r\n        btngoto2 = findViewById(R.id.button4);\r\n        btngoto2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent3= new Intent(context3,NewsActivity.class);\r\n                startActivity(intent3);\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n\r\n        context2=this;\r\n        btngoto1 = findViewById(R.id.button5);\r\n        btngoto1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent2 = new Intent(context2,IMDACTIVITY.class);\r\n                startActivity(intent2);\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n        context1=this;\r\n        btnGoto = findViewById(R.id.button3);\r\n        btnGoto.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent1 = new Intent(context1,HomeActivity.class);\r\n                startActivity(intent1);\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n        // on below line we are initializing variables with ids.\r\n        closeApplicationBtn = findViewById(R.id.exit);\r\n\r\n        // on below line we are adding click listener for our button\r\n        closeApplicationBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                // on below line we are finishing activity.\r\n                finish();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\nI tried adding finsh() function.","title":"Closing Application","body":"<p>I have more activities in my project. I have added logout button to log out user to registration page. Now iam going to add exit button i have added the button but when i click it not exit the app instead opening the registration activity. I want exit all activities How?</p>\n<pre><code>package com.weatherapp;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.annotation.SuppressLint;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\n\npublic class MenuActivity extends AppCompatActivity {\n\n    private Button btnGoto;\n    private Context context1;\n\n    private Button btngoto1;\n    private Context context2;\n\n    private Button btngoto2;\n    private Context context3;\n\n    Button LogOut;\n    public static final String SHARED_PREFS =&quot;sharedPrefs&quot;;\n\n    private Button closeApplicationBtn;\n\n\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_menu);\n\n        LogOut = findViewById(R.id.logOut);\n\n        LogOut.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                SharedPreferences sharedPreferences = getSharedPreferences(SHARED_PREFS,MODE_PRIVATE);\n                SharedPreferences.Editor editor = sharedPreferences.edit();\n\n                editor.putString(&quot;name&quot;, &quot;&quot;);\n                editor.apply();\n\n\n                Intent intent2 = new Intent(getApplicationContext(),Register.class);\n                startActivity(intent2);\n            }\n        });\n\n        context3=this;\n        btngoto2 = findViewById(R.id.button4);\n        btngoto2.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent3= new Intent(context3,NewsActivity.class);\n                startActivity(intent3);\n            }\n        });\n\n\n\n\n\n\n        context2=this;\n        btngoto1 = findViewById(R.id.button5);\n        btngoto1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent2 = new Intent(context2,IMDACTIVITY.class);\n                startActivity(intent2);\n            }\n        });\n\n\n\n\n        context1=this;\n        btnGoto = findViewById(R.id.button3);\n        btnGoto.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent1 = new Intent(context1,HomeActivity.class);\n                startActivity(intent1);\n            }\n        });\n\n\n\n\n        // on below line we are initializing variables with ids.\n        closeApplicationBtn = findViewById(R.id.exit);\n\n        // on below line we are adding click listener for our button\n        closeApplicationBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                // on below line we are finishing activity.\n                finish();\n            }\n        });\n    }\n\n\n}\n</code></pre>\n<p>I tried adding finsh() function.</p>\n"},{"tags":["java","command-line"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679917836,"post_id":75851196,"comment_id":133801205,"body_markdown":"Isn&#39;t Sudo a special system part for Into Linux?","body":"Isn&#39;t Sudo a special system part for Into Linux?"},{"owner":{"account_id":5101185,"reputation":263,"user_id":4090767,"accept_rate":75,"display_name":"beshr"},"score":0,"creation_date":1692685634,"post_id":75851196,"comment_id":135653710,"body_markdown":"Facing same error. did you figure it out?","body":"Facing same error. did you figure it out?"}],"owner":{"account_id":28132859,"reputation":21,"user_id":21497085,"display_name":"Bez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1679874488,"creation_date":1679874488,"question_id":75851196,"body_markdown":"I am trying to install Java 8 using my Windows command line but whenever I write &quot;$ sudo yum install java-1.8.0-openjdk&quot; and hit enter, I get the following error message:\r\n\r\n```\r\nLast metadata expiration check: 11:41:34 ago on Sun Mar 26 08:15:24 2023.\r\nNo match for argument: java-1.8.0-openjdk\r\nError: Unable to find a match: java-1.8.0-openjdk\r\n```\r\n\r\n\r\n\r\nI have already created a PATH for Java 1.8 by editing the environment variables but somehow I am not able to install it. Is there an alternative command I should try?","title":"Issue with Sudo Yum Install Java on Windows terminal","body":"<p>I am trying to install Java 8 using my Windows command line but whenever I write &quot;$ sudo yum install java-1.8.0-openjdk&quot; and hit enter, I get the following error message:</p>\n<pre><code>Last metadata expiration check: 11:41:34 ago on Sun Mar 26 08:15:24 2023.\nNo match for argument: java-1.8.0-openjdk\nError: Unable to find a match: java-1.8.0-openjdk\n</code></pre>\n<p>I have already created a PATH for Java 1.8 by editing the environment variables but somehow I am not able to install it. Is there an alternative command I should try?</p>\n"},{"tags":["java","spring-boot","pdf","itext","tiff"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1679872730,"post_id":75851087,"comment_id":133794004,"body_markdown":"Does this answer your question? [What is an illegal reflective access?](https://stackoverflow.com/questions/50251798/what-is-an-illegal-reflective-access)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/50251798/what-is-an-illegal-reflective-access\">What is an illegal reflective access?</a>"},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1679872802,"post_id":75851087,"comment_id":133794011,"body_markdown":"iText5 is pretty prehistoric.  This error can be ignored for now but it&#39;s time to move into this decade.","body":"iText5 is pretty prehistoric.  This error can be ignored for now but it&#39;s time to move into this decade."},{"owner":{"account_id":25080079,"reputation":27,"user_id":18932947,"display_name":"Alexxxx"},"score":0,"creation_date":1679876898,"post_id":75851087,"comment_id":133794521,"body_markdown":"The problem is not only the warning: the access to the file still remain open, so I can&#39;t delete it","body":"The problem is not only the warning: the access to the file still remain open, so I can&#39;t delete it"},{"owner":{"account_id":25080079,"reputation":27,"user_id":18932947,"display_name":"Alexxxx"},"score":0,"creation_date":1679880666,"post_id":75851087,"comment_id":133794897,"body_markdown":"I know, but I&#39;m not sure I can use iText7 without License in commercial project. Have you got something else to suggest for tiff to pdf conversion?","body":"I know, but I&#39;m not sure I can use iText7 without License in commercial project. Have you got something else to suggest for tiff to pdf conversion?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1679892527,"post_id":75851087,"comment_id":133796060,"body_markdown":"Itext 5 and iText 7 are licensed the same way. So, unless you have a commercial iText 5 license, there is no difference in what you may or may not do with either version.","body":"Itext 5 and iText 7 are licensed the same way. So, unless you have a commercial iText 5 license, there is no difference in what you may or may not do with either version."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1679892704,"post_id":75851087,"comment_id":133796091,"body_markdown":"That being said, the warning is but a warning, it does not prevent anything yet. Thus, there likely is some issue in your code (or in iText underneath) that holds the resources.","body":"That being said, the warning is but a warning, it does not prevent anything yet. Thus, there likely is some issue in your code (or in iText underneath) that holds the resources."}],"owner":{"account_id":25080079,"reputation":27,"user_id":18932947,"display_name":"Alexxxx"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679872475,"creation_date":1679872475,"question_id":75851087,"body_markdown":"I&#39;m trying to create a pdf from my tiff image using itext5 and java11 in a springboot project.\r\nThese are the dependencies:\r\n```\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.9&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n    &lt;!--    PDF Generator   --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n        &lt;version&gt;5.5.13.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\nFollowing some example I&#39;m using:\r\n```\r\nRandomAccessSourceFactory rasf = new RandomAccessSourceFactory();\r\nRandomAccessFileOrArray  myTiffFile = new RandomAccessFileOrArray(rasf.createBestSource(tiffFilepath));\r\n```\r\nto access the image file I want to add to the pdf.\r\nPROBLEM:\r\nThis method doesn&#39;t implement Autocloseable, so I have to do it manually and can&#39;t use a try-with-resources.\r\nWhen I try to do it manually, in console I have this log:\r\n```\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by com.itextpdf.text.io.ByteBufferRandomAccessSource$1 (file:/C:/Users/user/.m2/repository/com/itextpdf/itextpdf/5.5.13.3/itextpdf-5.5.13.3.jar) to method java.nio.DirectByteBuffer.cleaner()\r\nWARNING: Please consider reporting this to the maintainers of com.itextpdf.text.io.ByteBufferRandomAccessSource$1\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n```\r\nand the resource remain not closed. Do you know how to solve this and what can I use to create the pdf?","title":"RandomAccessFileOrArray close() in java 11 throws a WARNING and doesn&#39;t release the resources","body":"<p>I'm trying to create a pdf from my tiff image using itext5 and java11 in a springboot project.\nThese are the dependencies:</p>\n<pre><code>\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.9&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n    &lt;!--    PDF Generator   --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n        &lt;version&gt;5.5.13.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Following some example I'm using:</p>\n<pre><code>RandomAccessSourceFactory rasf = new RandomAccessSourceFactory();\nRandomAccessFileOrArray  myTiffFile = new RandomAccessFileOrArray(rasf.createBestSource(tiffFilepath));\n</code></pre>\n<p>to access the image file I want to add to the pdf.\nPROBLEM:\nThis method doesn't implement Autocloseable, so I have to do it manually and can't use a try-with-resources.\nWhen I try to do it manually, in console I have this log:</p>\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by com.itextpdf.text.io.ByteBufferRandomAccessSource$1 (file:/C:/Users/user/.m2/repository/com/itextpdf/itextpdf/5.5.13.3/itextpdf-5.5.13.3.jar) to method java.nio.DirectByteBuffer.cleaner()\nWARNING: Please consider reporting this to the maintainers of com.itextpdf.text.io.ByteBufferRandomAccessSource$1\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n</code></pre>\n<p>and the resource remain not closed. Do you know how to solve this and what can I use to create the pdf?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679789650,"post_id":75845068,"comment_id":133783966,"body_markdown":"So when you&#39;re creating `word`, check whether the ith letter of `randomword` is a space.","body":"So when you&#39;re creating <code>word</code>, check whether the ith letter of <code>randomword</code> is a space."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679789734,"post_id":75845068,"comment_id":133783974,"body_markdown":"Don&#39;t just take the first letter of `guess` -- use a loop over its letters.","body":"Don&#39;t just take the first letter of <code>guess</code> -- use a loop over its letters."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679789885,"post_id":75845068,"comment_id":133783991,"body_markdown":"And look at `Character.toLowerCase(char)`.","body":"And look at <code>Character.toLowerCase(char)</code>."},{"owner":{"account_id":27816069,"reputation":43,"user_id":21237425,"display_name":"Myrdock"},"score":0,"creation_date":1679791433,"post_id":75845068,"comment_id":133784094,"body_markdown":"@tgdavies how do I check for the space when I am creating the word","body":"@tgdavies how do I check for the space when I am creating the word"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679791634,"post_id":75845068,"comment_id":133784106,"body_markdown":"There are three parts to that: using a space literal, getting the ith character of `randomWord`, and comparing them. Which are you having trouble with?","body":"There are three parts to that: using a space literal, getting the ith character of <code>randomWord</code>, and comparing them. Which are you having trouble with?"},{"owner":{"account_id":27816069,"reputation":43,"user_id":21237425,"display_name":"Myrdock"},"score":0,"creation_date":1679855190,"post_id":75845068,"comment_id":133791507,"body_markdown":"@tgdavies how do you suggest I loop over the letters of guess?","body":"@tgdavies how do you suggest I loop over the letters of guess?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679867854,"post_id":75845068,"comment_id":133793426,"body_markdown":"You can do that the same way you loop over the letters of `randomWord`, except that you access each character via an array index instead of `charAt`.","body":"You can do that the same way you loop over the letters of <code>randomWord</code>, except that you access each character via an array index instead of <code>charAt</code>."}],"answers":[{"tags":[],"owner":{"account_id":20261613,"reputation":323,"user_id":14859844,"display_name":"Shahab Ranjbary"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679795319,"creation_date":1679795073,"answer_id":75845464,"question_id":75845068,"body_markdown":"You must check the space character and add it to the word.\r\n\r\n    StringBuilder word = new StringBuilder();\r\n        for (int i = 0; i &lt; randomWord.length(); i++) {\r\n            if (randomWord.charAt(i) == &#39; &#39;) {\r\n                word.append(&#39; &#39;);\r\n            } else {\r\n                word.append(&#39;*&#39;);\r\n            }\r\n        }","title":"How not to hide spaces in hidden word, how to check for more than one letter, and ignore case of letters","body":"<p>You must check the space character and add it to the word.</p>\n<pre><code>StringBuilder word = new StringBuilder();\n    for (int i = 0; i &lt; randomWord.length(); i++) {\n        if (randomWord.charAt(i) == ' ') {\n            word.append(' ');\n        } else {\n            word.append('*');\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":27816069,"reputation":43,"user_id":21237425,"display_name":"Myrdock"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75845464,"answer_count":1,"score":1,"last_activity_date":1679871114,"creation_date":1679786441,"question_id":75845068,"body_markdown":"I am working on a Hidden Phrase Game. I solved my other two issues and want to thank those that helped me. However, the final problem I am having is &quot;when the program checks the hidden word for letters all the matching letters are filled in, regardless of case&quot;. Example, if you enter f, it should fill in f and F. Not sure how to do this.\r\n\r\n\r\n```java\r\n\r\npackage main;\r\nimport java.util.*;\r\n\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) \r\n    {\r\n        int choice;\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        System.out.print(&quot;Please enter your name: &quot;);\r\n        String name = input.nextLine();\r\n        Player player = new Player();\r\n        player.setName(name);\r\n        \r\n        do \r\n        {\r\n            System.out.println(&quot;--------------------------------&quot;);\r\n            System.out.println(&quot;Welcome to the Hidden Word Game!&quot;);\r\n\r\n            game(player);\r\n            System.out.println(&quot;--------------------------------&quot;);\r\n            System.out.println(&quot;Would you like to play again?\\n&quot; +\r\n                    &quot;1: Yes\\n&quot; +\r\n                    &quot;2: No&quot;);\r\n            System.out.print(&quot;Enter your choice: &quot;);\r\n            choice = input.nextInt();\r\n        } while (choice != 2);\r\n    }\r\n    \r\n    public static void game(Player player) \r\n    {\r\n        \r\n        Scanner input = new Scanner(System.in);\r\n        \r\n        String[] wordList = new String[] {&quot;cruise ship&quot;, &quot;soft drink&quot;, &quot;National Football League&quot;, &quot;New York&quot;, &quot;little girl&quot;};\r\n        String randomWord = wordList[(int)(Math.random() * wordList.length)];\r\n\r\n        StringBuilder word = new StringBuilder();\r\n        for (int i = 0; i &lt; randomWord.length(); i++) \r\n            {\r\n                if (randomWord.charAt(i) == &#39; &#39;) {\r\n                    word.append(&#39; &#39;);\r\n                } else {\r\n                    word.append(&#39;*&#39;);\r\n                }\r\n            }\r\n\r\n        char[] hiddenWord = randomWord.toCharArray();\r\n\r\n        System.out.println(&quot;--------------------------------&quot;);\r\n        while(true) \r\n                {\r\n                    System.out.println(&quot;Secrect Word :&quot; + word);\r\n                    System.out.print(&quot;Guess one or more letters : &quot;);\r\n                    player.setAttempts();\r\n                    boolean correct = false;\r\n\r\n                    char [] guess = input.nextLine().toCharArray();\r\n\r\n                    for(int i = 0 ; i &lt; hiddenWord.length; i++) \r\n                        {\r\n                            for (int j = 0; j &lt; guess.length; j++)\r\n                            {\r\n                                if (guess[j] == hiddenWord[i]) \r\n                                {\r\n                                    word.setCharAt(i, guess[j]);\r\n                                    correct = true;\r\n                                }\r\n                            }\r\n\r\n                        }\r\n                    if (!correct) \r\n                        {\r\n                            System.out.println(&quot;You chose incorrect&quot;);\r\n                        } else {\r\n                            System.out.println(&quot;You chose correct&quot;);\r\n                        }\r\n\r\n                    System.out.println(&quot;--------------------&quot;);\r\n\r\n                    if (randomWord.equals(word.toString())) \r\n                        {\r\n                            System.out.println(&quot;Congratulations &quot; + player.getName() + &quot; You Guessed The Hidden Word: &quot; + randomWord);\r\n                            System.out.println(&quot;It took you &quot; + player.getAttempts() + &quot; attempts.&quot;);                            \r\n                            break;\r\n                        }\r\n                }\r\n    }\r\n}\r\n```","title":"How not to hide spaces in hidden word, how to check for more than one letter, and ignore case of letters","body":"<p>I am working on a Hidden Phrase Game. I solved my other two issues and want to thank those that helped me. However, the final problem I am having is &quot;when the program checks the hidden word for letters all the matching letters are filled in, regardless of case&quot;. Example, if you enter f, it should fill in f and F. Not sure how to do this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npackage main;\nimport java.util.*;\n\n\npublic class Main {\n\n    public static void main(String[] args) \n    {\n        int choice;\n        Scanner input = new Scanner(System.in);\n\n        System.out.print(&quot;Please enter your name: &quot;);\n        String name = input.nextLine();\n        Player player = new Player();\n        player.setName(name);\n        \n        do \n        {\n            System.out.println(&quot;--------------------------------&quot;);\n            System.out.println(&quot;Welcome to the Hidden Word Game!&quot;);\n\n            game(player);\n            System.out.println(&quot;--------------------------------&quot;);\n            System.out.println(&quot;Would you like to play again?\\n&quot; +\n                    &quot;1: Yes\\n&quot; +\n                    &quot;2: No&quot;);\n            System.out.print(&quot;Enter your choice: &quot;);\n            choice = input.nextInt();\n        } while (choice != 2);\n    }\n    \n    public static void game(Player player) \n    {\n        \n        Scanner input = new Scanner(System.in);\n        \n        String[] wordList = new String[] {&quot;cruise ship&quot;, &quot;soft drink&quot;, &quot;National Football League&quot;, &quot;New York&quot;, &quot;little girl&quot;};\n        String randomWord = wordList[(int)(Math.random() * wordList.length)];\n\n        StringBuilder word = new StringBuilder();\n        for (int i = 0; i &lt; randomWord.length(); i++) \n            {\n                if (randomWord.charAt(i) == ' ') {\n                    word.append(' ');\n                } else {\n                    word.append('*');\n                }\n            }\n\n        char[] hiddenWord = randomWord.toCharArray();\n\n        System.out.println(&quot;--------------------------------&quot;);\n        while(true) \n                {\n                    System.out.println(&quot;Secrect Word :&quot; + word);\n                    System.out.print(&quot;Guess one or more letters : &quot;);\n                    player.setAttempts();\n                    boolean correct = false;\n\n                    char [] guess = input.nextLine().toCharArray();\n\n                    for(int i = 0 ; i &lt; hiddenWord.length; i++) \n                        {\n                            for (int j = 0; j &lt; guess.length; j++)\n                            {\n                                if (guess[j] == hiddenWord[i]) \n                                {\n                                    word.setCharAt(i, guess[j]);\n                                    correct = true;\n                                }\n                            }\n\n                        }\n                    if (!correct) \n                        {\n                            System.out.println(&quot;You chose incorrect&quot;);\n                        } else {\n                            System.out.println(&quot;You chose correct&quot;);\n                        }\n\n                    System.out.println(&quot;--------------------&quot;);\n\n                    if (randomWord.equals(word.toString())) \n                        {\n                            System.out.println(&quot;Congratulations &quot; + player.getName() + &quot; You Guessed The Hidden Word: &quot; + randomWord);\n                            System.out.println(&quot;It took you &quot; + player.getAttempts() + &quot; attempts.&quot;);                            \n                            break;\n                        }\n                }\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","object"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":2,"creation_date":1679871202,"post_id":75850994,"comment_id":133793836,"body_markdown":"Use `keyboard.nextLine()` to read the entire line, including spaces.","body":"Use <code>keyboard.nextLine()</code> to read the entire line, including spaces."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1679871424,"post_id":75850994,"comment_id":133793868,"body_markdown":"`if (ok == true)` is poor style. `if (ok)` is sufficient. And you should braces. Even if they&#39;re optional.","body":"<code>if (ok == true)</code> is poor style. <code>if (ok)</code> is sufficient. And you should braces. Even if they&#39;re optional."}],"owner":{"account_id":23035625,"reputation":13,"user_id":17154427,"display_name":"jeremslol"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679870919,"creation_date":1679870919,"question_id":75850994,"body_markdown":"Have a list of objects and a method to create and add an object to said list below. Thing is, if I type in a name with a space, it will fill in the second spaced string as an artist. For example if a name &quot;one two&quot; is entered, &quot;one&quot; will be stored in the name variable while &quot;two&quot; will be stored in artist.\r\n```\r\n\t                System.out.println(&quot;Enter song name: &quot;);\r\n\t\t\t\t\tname = keyboard.next();\r\n\t\t\t\t\t\r\n\t\t\t\t\tSystem.out.println(&quot;Enter song artist: &quot;);\r\n\t\t\t\t\tartist = keyboard.next();\r\n\t\t\t\t\t\r\n\t\t\t\t\tSystem.out.println(&quot;Enter song runtime: &quot;);\r\n\t\t\t\t\truntime = keyboard.nextInt();\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (runtime &lt;= 0) \r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\tSystem.out.println(&quot;Invalid input, try again.&quot;);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}//if\r\n\t\t\t\t\t\r\n\t\t\t\t\tSystem.out.println(&quot;Enter song price: &quot;);\r\n\t\t\t\t\tprice = keyboard.nextDouble();\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (price &lt;= 0) \r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\tSystem.out.println(&quot;Invalid input, try again.&quot;);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}//if\r\n\t\t\t\t\t\r\n\t\t\t\t\tnewSong = new SongMoretti(name, artist, runtime, price);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tok = thePlaylist.addToPlayist(newSong);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (ok == true)\r\n\t\t\t\t\t\tSystem.out.println(&quot;Song added&quot;);\r\n\t\t\t\t\telse \r\n\t\t\t\t\t\tSystem.out.println(&quot;Song not added&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n```","title":"inputted string being separated into 2 vars by space when inputted in an object","body":"<p>Have a list of objects and a method to create and add an object to said list below. Thing is, if I type in a name with a space, it will fill in the second spaced string as an artist. For example if a name &quot;one two&quot; is entered, &quot;one&quot; will be stored in the name variable while &quot;two&quot; will be stored in artist.</p>\n<pre><code>                    System.out.println(&quot;Enter song name: &quot;);\n                    name = keyboard.next();\n                    \n                    System.out.println(&quot;Enter song artist: &quot;);\n                    artist = keyboard.next();\n                    \n                    System.out.println(&quot;Enter song runtime: &quot;);\n                    runtime = keyboard.nextInt();\n                    \n                    if (runtime &lt;= 0) \n                        {\n                        System.out.println(&quot;Invalid input, try again.&quot;);\n                        break;\n                        }//if\n                    \n                    System.out.println(&quot;Enter song price: &quot;);\n                    price = keyboard.nextDouble();\n                    \n                    if (price &lt;= 0) \n                        {\n                        System.out.println(&quot;Invalid input, try again.&quot;);\n                        break;\n                        }//if\n                    \n                    newSong = new SongMoretti(name, artist, runtime, price);\n                        \n                    ok = thePlaylist.addToPlayist(newSong);\n                    \n                    if (ok == true)\n                        System.out.println(&quot;Song added&quot;);\n                    else \n                        System.out.println(&quot;Song not added&quot;);\n                    break;\n                    \n</code></pre>\n"},{"tags":["java","multithreading","concurrency"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1679869172,"post_id":75850870,"comment_id":133793606,"body_markdown":"Why not just use an `AtomicInteger running`?","body":"Why not just use an <code>AtomicInteger running</code>?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1679870231,"post_id":75850870,"comment_id":133793722,"body_markdown":"`boolean running;` should be marked as `volatile` or you should make use of something like `AtomicBoolean`, which will, otherwise, take care your just about all your concerns","body":"<code>boolean running;</code> should be marked as <code>volatile</code> or you should make use of something like <code>AtomicBoolean</code>, which will, otherwise, take care your just about all your concerns"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1679870400,"post_id":75850870,"comment_id":133793738,"body_markdown":"`MyThread extends Thread` is not recommended. Q1. Using `synchronised` on a method will lock on the INSTANCE of the class only.  If you&#39;re trying to modify the state of `running` from potentially different threads, then yes, `synchronised` would be required (or you&#39;d need an internal monitor lock or just make use of the `AtomicXxx` classes)","body":"<code>MyThread extends Thread</code> is not recommended. Q1. Using <code>synchronised</code> on a method will lock on the INSTANCE of the class only.  If you&#39;re trying to modify the state of <code>running</code> from potentially different threads, then yes, <code>synchronised</code> would be required (or you&#39;d need an internal monitor lock or just make use of the <code>AtomicXxx</code> classes)"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1679870505,"post_id":75850870,"comment_id":133793752,"body_markdown":"Also, beware that&#39;s it&#39;s possible for a thread to call `stopRunning` before `run` is called.  So you might need to consider that edge case somehow (assuming `running` to be `true` when the class is constructed maybe)","body":"Also, beware that&#39;s it&#39;s possible for a thread to call <code>stopRunning</code> before <code>run</code> is called.  So you might need to consider that edge case somehow (assuming <code>running</code> to be <code>true</code> when the class is constructed maybe)"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1679885308,"post_id":75850870,"comment_id":133795343,"body_markdown":"Interrupts already do all of this work.  Instead of implementing it yourself with a ‘running’ flag, just exit your run method when an InterruptedException occurs.","body":"Interrupts already do all of this work.  Instead of implementing it yourself with a ‘running’ flag, just exit your run method when an InterruptedException occurs."},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1680086751,"post_id":75850870,"comment_id":133836398,"body_markdown":"With your current implementation, set running with a synchronized setRunning method from run, plus use isRunning in run instead of direct access. As it is, your code is not thread safe. A volatile as suggested by MadProgrammer is easier.","body":"With your current implementation, set running with a synchronized setRunning method from run, plus use isRunning in run instead of direct access. As it is, your code is not thread safe. A volatile as suggested by MadProgrammer is easier."}],"owner":{"account_id":16415077,"reputation":63,"user_id":11857423,"display_name":"Arunabha Ghosh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679869224,"creation_date":1679868971,"question_id":75850870,"body_markdown":"I want to create a runnable that can be stopped. *(CODE IS IN THE END)*\r\n\r\nSo I created a class  - `MyRunnableWhichIsStoppable implements Runnable` \r\n1. This class maintains a variable `boolean running`, as long as this variable is `true`, the thread keeps running.\r\n2. This class has `public synchronized boolean isRunning()` to check the whether thread is still running.\r\n3. This class has `public synchronized boolean stopRunning()` which sets `running` to false which makes the thread stop.\r\n\r\nThis works fine but,\r\n____________________________________________________________________________________________\r\n**I have few questions -**\r\n \r\n**Q 1.** **Is the `synchronized` word needed in the methods if I create two diff `MyRunnableWhichIsStoppable` instances for two diff threads ?**\r\n\r\n        MyRunnableWhichIsStoppable runn1 = new MyRunnableWhichIsStoppable();\r\n\t\tMyRunnableWhichIsStoppable runn2 = new MyRunnableWhichIsStoppable();\r\n\t\tThread t1 = new Thread(runn1);\r\n\t\tThread t2 = new Thread(runn2);\r\n\r\n**Q 2.** **Is my `MyRunnableWhichIsStoppable` thread safe? Does the `boolean running` needs some modification?**\r\n\r\n**Q 3. Can I create `MyThread extends Thread`, and this `MyThread` has a class variable of type `MyRunnableWhichIsStoppable`, so every time you want to stop the thread you do something like `MyThreadObj.getMyRunnableWhichIsStoppable().stopRunning()` ?** \r\n\r\n______________________________________________________________________________\r\n**THIS IS MY CODE -** \r\n\r\n```\r\npublic class Example3_AStoppableThread {\r\n\r\n\tpublic class MyRunnableWhichIsStoppable implements Runnable {\r\n\r\n\t\tboolean running;\r\n\r\n\t\tpublic synchronized boolean isRunning() {\r\n\t\t\treturn running;\r\n\t\t}\r\n\r\n\t\tpublic synchronized boolean stopRunning() {\r\n\t\t\tif (running) {\r\n\t\t\t\trunning = false;\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tprivate void sleep(int time) {\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(1000);\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\trunning = true;\r\n\t\t\tSystem.out.println(&quot;About to run by Thread - &quot; + Thread.currentThread().getName());\r\n\t\t\twhile (running) {\r\n\t\t\t\tsleep(1000);\r\n\t\t\t\tSystem.out.println(Thread.currentThread().getName() +&quot;-Running...&quot;);\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;I am stopped by Thread - &quot; + Thread.currentThread().getName());\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic class Methods {\r\n\t\tpublic void process() {\r\n\t\t\tMyRunnableWhichIsStoppable runn1 = new MyRunnableWhichIsStoppable();\r\n\t\t\tMyRunnableWhichIsStoppable runn2 = new MyRunnableWhichIsStoppable();\r\n\t\t\tThread t1 = new Thread(runn1);\r\n\t\t\tThread t2 = new Thread(runn2);\r\n\t\t\tt1.start();\r\n\t\t\tt2.start();\r\n\t\t\t\r\n\t\t\tScanner sc = new Scanner(System.in);\r\n\t\t\tint k = sc.nextInt();\r\n\t\t\tif (k == 1) {\r\n\t\t\t\tSystem.out.println(&quot;Stopped ? &quot;+runn1.stopRunning());\r\n\t\t\t\tSystem.out.println(&quot;Stopped ? &quot;+runn2.stopRunning());\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic static void main(String args[]) {\r\n\t\tExample3_AStoppableThread p = new Example3_AStoppableThread();\r\n\t\tMethods m = p.new Methods();\r\n\t\tm.process();\r\n\r\n\t}\r\n}\r\n```\r\n\r\n\r\n**OUTPUT -** \r\n```\r\nAbout to run by Thread - Thread-1\r\nAbout to run by Thread - Thread-0\r\nThread-0-Running...\r\nThread-1-Running...\r\nThread-0-Running...\r\nThread-1-Running...\r\nThread-1-Running...\r\nThread-0-Running...\r\nThread-1-Running...\r\nThread-0-Running...\r\nThread-0-Running...\r\nThread-1-Running...\r\n1\r\nStopped ? true\r\nStopped ? true\r\nThread-1-Running...\r\nThread-0-Running...\r\nI am stopped by Thread - Thread-0\r\nI am stopped by Thread - Thread-1\r\n```\r\n","title":"A Runnable that can be stopped - Multithreading","body":"<p>I want to create a runnable that can be stopped. <em>(CODE IS IN THE END)</em></p>\n<p>So I created a class  - <code>MyRunnableWhichIsStoppable implements Runnable</code></p>\n<ol>\n<li>This class maintains a variable <code>boolean running</code>, as long as this variable is <code>true</code>, the thread keeps running.</li>\n<li>This class has <code>public synchronized boolean isRunning()</code> to check the whether thread is still running.</li>\n<li>This class has <code>public synchronized boolean stopRunning()</code> which sets <code>running</code> to false which makes the thread stop.</li>\n</ol>\n<p>This works fine but,</p>\n<hr />\n<p><strong>I have few questions -</strong></p>\n<p><strong>Q 1.</strong> <strong>Is the <code>synchronized</code> word needed in the methods if I create two diff <code>MyRunnableWhichIsStoppable</code> instances for two diff threads ?</strong></p>\n<pre><code>    MyRunnableWhichIsStoppable runn1 = new MyRunnableWhichIsStoppable();\n    MyRunnableWhichIsStoppable runn2 = new MyRunnableWhichIsStoppable();\n    Thread t1 = new Thread(runn1);\n    Thread t2 = new Thread(runn2);\n</code></pre>\n<p><strong>Q 2.</strong> <strong>Is my <code>MyRunnableWhichIsStoppable</code> thread safe? Does the <code>boolean running</code> needs some modification?</strong></p>\n<p><strong>Q 3. Can I create <code>MyThread extends Thread</code>, and this <code>MyThread</code> has a class variable of type <code>MyRunnableWhichIsStoppable</code>, so every time you want to stop the thread you do something like <code>MyThreadObj.getMyRunnableWhichIsStoppable().stopRunning()</code> ?</strong></p>\n<hr />\n<p><strong>THIS IS MY CODE -</strong></p>\n<pre><code>public class Example3_AStoppableThread {\n\n    public class MyRunnableWhichIsStoppable implements Runnable {\n\n        boolean running;\n\n        public synchronized boolean isRunning() {\n            return running;\n        }\n\n        public synchronized boolean stopRunning() {\n            if (running) {\n                running = false;\n                return true;\n            }\n            return false;\n        }\n\n        private void sleep(int time) {\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n        @Override\n        public void run() {\n            running = true;\n            System.out.println(&quot;About to run by Thread - &quot; + Thread.currentThread().getName());\n            while (running) {\n                sleep(1000);\n                System.out.println(Thread.currentThread().getName() +&quot;-Running...&quot;);\n            }\n            System.out.println(&quot;I am stopped by Thread - &quot; + Thread.currentThread().getName());\n        }\n\n    }\n\n    public class Methods {\n        public void process() {\n            MyRunnableWhichIsStoppable runn1 = new MyRunnableWhichIsStoppable();\n            MyRunnableWhichIsStoppable runn2 = new MyRunnableWhichIsStoppable();\n            Thread t1 = new Thread(runn1);\n            Thread t2 = new Thread(runn2);\n            t1.start();\n            t2.start();\n            \n            Scanner sc = new Scanner(System.in);\n            int k = sc.nextInt();\n            if (k == 1) {\n                System.out.println(&quot;Stopped ? &quot;+runn1.stopRunning());\n                System.out.println(&quot;Stopped ? &quot;+runn2.stopRunning());\n            }\n        }\n\n    }\n\n    public static void main(String args[]) {\n        Example3_AStoppableThread p = new Example3_AStoppableThread();\n        Methods m = p.new Methods();\n        m.process();\n\n    }\n}\n</code></pre>\n<p><strong>OUTPUT -</strong></p>\n<pre><code>About to run by Thread - Thread-1\nAbout to run by Thread - Thread-0\nThread-0-Running...\nThread-1-Running...\nThread-0-Running...\nThread-1-Running...\nThread-1-Running...\nThread-0-Running...\nThread-1-Running...\nThread-0-Running...\nThread-0-Running...\nThread-1-Running...\n1\nStopped ? true\nStopped ? true\nThread-1-Running...\nThread-0-Running...\nI am stopped by Thread - Thread-0\nI am stopped by Thread - Thread-1\n</code></pre>\n"},{"tags":["java","automated-tests","testng","rest-assured"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1679994477,"post_id":75850876,"comment_id":133816582,"body_markdown":"It will be much easier for us if you would be able to provide minimal reproducible example. ASAIU your issue in general does not necessarily require RestAssured. So you could just substitute RA calls with `System.out.println()`. So could  you please edit your question so that we could at least have something compilable and at the same time reproducing your issue.","body":"It will be much easier for us if you would be able to provide minimal reproducible example. ASAIU your issue in general does not necessarily require RestAssured. So you could just substitute RA calls with <code>System.out.println()</code>. So could  you please edit your question so that we could at least have something compilable and at the same time reproducing your issue."}],"owner":{"account_id":20546729,"reputation":1,"user_id":15080362,"display_name":"Steven Joy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679869045,"creation_date":1679869045,"question_id":75850876,"body_markdown":"fairly new to this forum and writing automation tests but here it goes....\r\n\r\nI am writing some automated tests for API calls - 200, 204, 400, 401, 403 etc in java / Maven project in IntelliJ.  I am using 2 different data providers.  First for the 200 and 2nd for the 204 / 400 / 401 / 403 onwards.  For the 200 I am getting the accounts from an excel spreadsheet and pass them through the request as a parameter.  I have managed to get 204 onwards working as I have hard-coded these values in the request.  When it comes to the 200 and when I return the 200 Object[][] I receive the MethodMatcherException.  Below are some snippets of the tests:\r\n\r\n**Data Provider for 403**\r\n\r\n@DataProvider(name = &quot;accountData&quot;)\r\n    public Object[][] provideData(Method method){\r\n\r\n        Object[][] accountDataFor403 = {\r\n                {&quot;Z1234567&quot;}, {&quot;Z234567&quot;}, {&quot;Z3456789&quot;}}\r\n\r\nString methodName = method.getName();\r\n\r\n        // if (methodName.equals(&quot;get403Response&quot;)) {\r\n\r\n           //  return accountDataFor403;\r\n\r\n\r\n\r\n**Data provider for 200 response**\r\n\r\n@DataProvider(name = &quot;accountData1&quot;)\r\n    public Object[][] provideData1(Method method) {\r\n\r\n        String[][] accountDataFor200 = ExcelUtils.excelArray();  \r\n        \r\n        return accountDataFor200;\r\n    }\r\n\r\n\r\n\r\n**Example of Method called using either Data Provider &#39;accountData&#39; or &#39;accountData1&#39; (same method pretty much for 200 and 403**\r\n\r\n@Test(dataProvider = &quot;accountData1&quot;)\r\n    public void get200Response(String accountNumber) {\r\n\r\n        String response = given().log().all()\r\n                .headers(&quot;Authorization&quot;, returnToken())\r\n                .headers(&quot;X-Correlation-ID&quot;, &quot;me123&quot;)\r\n                .headers(&quot;content-type&quot;, &quot;application/json&quot;)\r\n                .body(payloads.myFile(accountNumber))\r\n                .when()\r\n                .post(&quot;URL goes here&quot;)\r\n                .then().log().all().assertThat().statusCode(200).extract().response().asString();\r\n\r\nOn the 403 DataProvider I have 3 accounts which when passed to the @Test - get403Response works and 3 X 403 tests will be triggered, each passing the account numbers through.\r\n\r\nWhen I try to run the same test for the 200 (FYI I have 3 accounts in the excel sheet) so performing exactly the same test.  At this point I receive the **MethodMatcherException**.  I understand why I am receiving this error as there needs to be the same amount of parameters as I am passing in the two methods.  But why am I not getting this error for the 403 tests?????  The methods are returning both 2D arrays and the &#39;get200Response&#39; and the &#39;get403response&#39; both have a String as a parameter.\r\n\r\nFor the 200 - how do I pass the 3 accounts from the &#39;ExcelUtils.excelArray();&#39; so that the are processed in sequence (same as the 403 test?)\r\n\r\nThanks\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nNot sure where to go from here","title":"Using DataProvider receiving MethodMatcherException in Automated test","body":"<p>fairly new to this forum and writing automation tests but here it goes....</p>\n<p>I am writing some automated tests for API calls - 200, 204, 400, 401, 403 etc in java / Maven project in IntelliJ.  I am using 2 different data providers.  First for the 200 and 2nd for the 204 / 400 / 401 / 403 onwards.  For the 200 I am getting the accounts from an excel spreadsheet and pass them through the request as a parameter.  I have managed to get 204 onwards working as I have hard-coded these values in the request.  When it comes to the 200 and when I return the 200 Object[][] I receive the MethodMatcherException.  Below are some snippets of the tests:</p>\n<p><strong>Data Provider for 403</strong></p>\n<p>@DataProvider(name = &quot;accountData&quot;)\npublic Object[][] provideData(Method method){</p>\n<pre><code>    Object[][] accountDataFor403 = {\n            {&quot;Z1234567&quot;}, {&quot;Z234567&quot;}, {&quot;Z3456789&quot;}}\n</code></pre>\n<p>String methodName = method.getName();</p>\n<pre><code>    // if (methodName.equals(&quot;get403Response&quot;)) {\n\n       //  return accountDataFor403;\n</code></pre>\n<p><strong>Data provider for 200 response</strong></p>\n<p>@DataProvider(name = &quot;accountData1&quot;)\npublic Object[][] provideData1(Method method) {</p>\n<pre><code>    String[][] accountDataFor200 = ExcelUtils.excelArray();  \n    \n    return accountDataFor200;\n}\n</code></pre>\n<p><strong>Example of Method called using either Data Provider 'accountData' or 'accountData1' (same method pretty much for 200 and 403</strong></p>\n<p>@Test(dataProvider = &quot;accountData1&quot;)\npublic void get200Response(String accountNumber) {</p>\n<pre><code>    String response = given().log().all()\n            .headers(&quot;Authorization&quot;, returnToken())\n            .headers(&quot;X-Correlation-ID&quot;, &quot;me123&quot;)\n            .headers(&quot;content-type&quot;, &quot;application/json&quot;)\n            .body(payloads.myFile(accountNumber))\n            .when()\n            .post(&quot;URL goes here&quot;)\n            .then().log().all().assertThat().statusCode(200).extract().response().asString();\n</code></pre>\n<p>On the 403 DataProvider I have 3 accounts which when passed to the @Test - get403Response works and 3 X 403 tests will be triggered, each passing the account numbers through.</p>\n<p>When I try to run the same test for the 200 (FYI I have 3 accounts in the excel sheet) so performing exactly the same test.  At this point I receive the <strong>MethodMatcherException</strong>.  I understand why I am receiving this error as there needs to be the same amount of parameters as I am passing in the two methods.  But why am I not getting this error for the 403 tests?????  The methods are returning both 2D arrays and the 'get200Response' and the 'get403response' both have a String as a parameter.</p>\n<p>For the 200 - how do I pass the 3 accounts from the 'ExcelUtils.excelArray();' so that the are processed in sequence (same as the 403 test?)</p>\n<p>Thanks</p>\n<p>Not sure where to go from here</p>\n"},{"tags":["java","dictionary","java-stream"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1679865495,"post_id":75850569,"comment_id":133793085,"body_markdown":"Have you recompiled your code? Works on my machine™ : `{AMZ=12.733334, FBK=21.4, GGL=30.599998}`","body":"Have you recompiled your code? Works on my machine™ : <code>{AMZ=12.733334, FBK=21.4, GGL=30.599998}</code>"},{"owner":{"account_id":10645755,"reputation":506,"user_id":9090969,"display_name":"Nicryc"},"score":0,"creation_date":1679868011,"post_id":75850569,"comment_id":133793441,"body_markdown":"Indeed it works, I had some leftovers in my code above that made it not work. Sorry I&#39;m stupid…","body":"Indeed it works, I had some leftovers in my code above that made it not work. Sorry I&#39;m stupid…"}],"answers":[{"tags":[],"owner":{"account_id":15663438,"reputation":559,"user_id":12242150,"display_name":"Shubham Saraswat"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1679865850,"creation_date":1679865850,"answer_id":75850658,"question_id":75850569,"body_markdown":"Can you try building/compiling the code, I tried replicating the code as below and I am getting the expected output - {AMZ=12.733334, FBK=21.4, GGL=30.599998}\r\n\r\n    import java.util.*;\r\n    import java.util.stream.Collectors;\r\n\r\n    public class MyClass {\r\n    public static void main(String args[]) {\r\n      TreeMap&lt;String, Double&gt; ThreeBestStocksMean = new TreeMap&lt;&gt;();\r\n      TreeMap&lt;String, Double&gt; stocksMean = new TreeMap&lt;&gt;();\r\n      stocksMean.put(&quot;AMZ&quot;,12.733334);\r\n      stocksMean.put(&quot;APL&quot;,10.133334);\r\n      stocksMean.put(&quot;FBK&quot;,21.4);\r\n      stocksMean.put(&quot;GGL&quot;,30.599998);\r\n      stocksMean.put(&quot;GHB&quot;,4.6);\r\n      stocksMean.put(&quot;MCS&quot;,11.433334);\r\n\r\n      ThreeBestStocksMean = stocksMean.entrySet()\r\n       .stream()\r\n       .sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\r\n       .limit(3)\r\n       .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (key1, key2) -&gt; key1, TreeMap::new));\r\n       System.out.println(ThreeBestStocksMean.toString());\r\n     }\r\n    }","title":"Reverse sorting a Map by value in Java using stream","body":"<p>Can you try building/compiling the code, I tried replicating the code as below and I am getting the expected output - {AMZ=12.733334, FBK=21.4, GGL=30.599998}</p>\n<pre><code>import java.util.*;\nimport java.util.stream.Collectors;\n\npublic class MyClass {\npublic static void main(String args[]) {\n  TreeMap&lt;String, Double&gt; ThreeBestStocksMean = new TreeMap&lt;&gt;();\n  TreeMap&lt;String, Double&gt; stocksMean = new TreeMap&lt;&gt;();\n  stocksMean.put(&quot;AMZ&quot;,12.733334);\n  stocksMean.put(&quot;APL&quot;,10.133334);\n  stocksMean.put(&quot;FBK&quot;,21.4);\n  stocksMean.put(&quot;GGL&quot;,30.599998);\n  stocksMean.put(&quot;GHB&quot;,4.6);\n  stocksMean.put(&quot;MCS&quot;,11.433334);\n\n  ThreeBestStocksMean = stocksMean.entrySet()\n   .stream()\n   .sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\n   .limit(3)\n   .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (key1, key2) -&gt; key1, TreeMap::new));\n   System.out.println(ThreeBestStocksMean.toString());\n }\n}\n</code></pre>\n"}],"owner":{"account_id":10645755,"reputation":506,"user_id":9090969,"display_name":"Nicryc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75850658,"answer_count":1,"score":1,"last_activity_date":1679868089,"creation_date":1679864903,"question_id":75850569,"body_markdown":"I have a TreeMap that looks like that:\r\n```java\r\n{AMZ=12.733334, APL=10.133334, FBK=21.4, GGL=30.599998, GHB=4.6, MCS=11.433334}\r\n```\r\n\r\n**I want to only retains the entries containing the 3 highest values.** I tried to do it that way:\r\n```java\r\nTreeMap&lt;String, Float&gt; ThreeBestStocksMean = new TreeMap&lt;&gt;();\r\nThreeBestStocksMean = stocksMean.entrySet()\r\n       .stream()\r\n       .sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\r\n       .limit(3)\r\n       .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (key1, key2) -&gt; key1, TreeMap::new));\r\nSystem.out.println(ThreeBestStocksMean.toString());\r\n```\r\n\r\nI get this:\r\n```java\r\n{APL=10.133334, GHB=4.6, MCS=11.433334}\r\n```\r\n\r\nAs you can see it is the exact opposite of what I want. It gave me the 3 lowest value although I want the 3 highest.\r\n\r\nDo I use `Comparator.reverseOrder()` wrongly? In fact it produces the exact same result as if it wasn&#39;t there. I also tried with `Map.Entry.&lt;String, Float&gt;comparingByValue().reversed()` for the same result.\r\n\r\n**Edit:**\r\n\r\nThe code above works, I had some leftovers in my code above that made it not work.","title":"Reverse sorting a Map by value in Java using stream","body":"<p>I have a TreeMap that looks like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>{AMZ=12.733334, APL=10.133334, FBK=21.4, GGL=30.599998, GHB=4.6, MCS=11.433334}\n</code></pre>\n<p><strong>I want to only retains the entries containing the 3 highest values.</strong> I tried to do it that way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TreeMap&lt;String, Float&gt; ThreeBestStocksMean = new TreeMap&lt;&gt;();\nThreeBestStocksMean = stocksMean.entrySet()\n       .stream()\n       .sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\n       .limit(3)\n       .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (key1, key2) -&gt; key1, TreeMap::new));\nSystem.out.println(ThreeBestStocksMean.toString());\n</code></pre>\n<p>I get this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>{APL=10.133334, GHB=4.6, MCS=11.433334}\n</code></pre>\n<p>As you can see it is the exact opposite of what I want. It gave me the 3 lowest value although I want the 3 highest.</p>\n<p>Do I use <code>Comparator.reverseOrder()</code> wrongly? In fact it produces the exact same result as if it wasn't there. I also tried with <code>Map.Entry.&lt;String, Float&gt;comparingByValue().reversed()</code> for the same result.</p>\n<p><strong>Edit:</strong></p>\n<p>The code above works, I had some leftovers in my code above that made it not work.</p>\n"},{"tags":["java","file","unicode","console"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1679844132,"post_id":75844969,"comment_id":133789608,"body_markdown":"It doesn’t write anything at all?  Does output.txt even exist after the program runs?  If it does exist, what is the size of the file?","body":"It doesn’t write anything at all?  Does output.txt even exist after the program runs?  If it does exist, what is the size of the file?"},{"owner":{"account_id":28125439,"reputation":37,"user_id":21490946,"display_name":"محمد حسین رحیمی"},"score":0,"creation_date":1679866161,"post_id":75844969,"comment_id":133793194,"body_markdown":"the file is created and is empty and 0 size","body":"the file is created and is empty and 0 size"}],"answers":[{"tags":[],"owner":{"account_id":28125439,"reputation":37,"user_id":21490946,"display_name":"محمد حسین رحیمی"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679866236,"creation_date":1679866236,"answer_id":75850684,"question_id":75844969,"body_markdown":"So apparently I had to flush and close writer.","title":"Can&#39;t copy eclipse unicode art console output","body":"<p>So apparently I had to flush and close writer.</p>\n"}],"owner":{"account_id":28125439,"reputation":37,"user_id":21490946,"display_name":"محمد حسین رحیمی"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75850684,"answer_count":1,"score":1,"last_activity_date":1679866236,"creation_date":1679784705,"question_id":75844969,"body_markdown":"It&#39;s a program that gets an image. then turn it black and white. and then into unicode art.\r\nThe keyboard does support the unicode characters since I was printing it earlier. I stopped working after I resized the source image.\r\nI&#39;m using 8dots Braille. like this ⣿,⢆\r\n\r\n```\r\nimport javax.imageio.ImageIO;\r\nimport java.awt.*;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.io.FileWriter; \r\npublic class BlackAndWhitePrint {\r\n\r\n  public static void main(String[] args) {\r\n    try {\r\n    \tString homeAdress = &quot;C:\\\\Users\\\\taban\\\\eclipse-workspace\\\\BlackAndWhitePrint\\\\&quot;;\r\n      String FileName = &quot;C:\\\\Users\\\\taban\\\\eclipse-workspace\\\\BlackAndWhitePrint\\\\shakh.jpg&quot;;\r\n            File input = new File(FileName);\r\n            BufferedImage image = ImageIO.read(input);\r\n\r\n            BufferedImage result = new BufferedImage(\r\n                    image.getWidth(),\r\n                    image.getHeight(),\r\n                    BufferedImage.TYPE_BYTE_BINARY);\r\n\r\n            Graphics2D graphic = result.createGraphics();\r\n            graphic.drawImage(image, 0, 0, Color.WHITE, null);\r\n            graphic.dispose();\r\n\r\n            File output = new File(homeAdress+&quot;shakhEdit.jpg&quot;);\r\n            ImageIO.write(result, &quot;jpg&quot;, output);\r\n//the top part turned the image to black and white and makes an ouput image\r\n            \r\n//in the next part I turn image into and 0and1 matrix       \r\n            int width = result.getWidth();\r\n            int height = result.getHeight();\r\n   \r\n            int[][] bitmap = new int[height][width];\r\n            for (int i = 0; i &lt; height; i++) {\r\n\t\t\t\tfor (int j = 0; j &lt; width; j++) {\r\n\t\t\t\t\tint rgb = result.getRGB(j, i);\r\n\t\t            int r = (rgb &gt;&gt; 16) &amp; 0xFF;\r\n\t\t            int g = (rgb &gt;&gt; 8) &amp; 0xFF;\r\n\t\t            int b = (rgb &amp; 0xFF);\r\n\t\t            int gray = (r + g + b) / 3;\r\n\t\t            \r\n\t\t\t\t\tbitmap[i][j] = (gray == 0) ? 1:0;//0 too shart mishe shiah. mikham shiah bood type konam.\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n//now that I have the bitmap, I need the get samples and turn them into unicode characters\r\n            char[][] outputChar = new char[height/4][width/2];\r\n            int[][] subpixle= new int[4][2];\r\n            for (int i = 0; i &lt; height-4; i=i+4) {\r\n            \tfor (int j = 0; j &lt; width-4; j=j+2) {\r\n            \t\tsubpixle[0][0]=bitmap[i][j];\r\n            \t\tsubpixle[0][1]=bitmap[i][j+1];\r\n            \t\tsubpixle[1][0]=bitmap[i+1][j];\r\n            \t\tsubpixle[1][1]=bitmap[i+1][j+1];\r\n            \t\tsubpixle[2][0]=bitmap[i+2][j];\r\n            \t\tsubpixle[2][1]=bitmap[i+2][j+1];\r\n            \t\tsubpixle[3][0]=bitmap[i+3][j];\r\n            \t\tsubpixle[3][1]=bitmap[i+3][j+1];\r\n            \t\toutputChar[i/4][j/2]= TurnTo8DotsBraille(subpixle);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n//here I print them in the  console, it works fine\r\n            PrintTheChar(outputChar);\r\n//then I print into file, but it doesnt write anything\r\n\t\t\tFileWriter writer = new FileWriter(homeAdress+&quot;output.txt&quot;);\r\n            for (int i = 0; i &lt; outputChar.length; i++) {\r\n\t\t\t\tfor (int j = 0; j &lt; outputChar[i].length; j++) {\r\n\t\t\t\t\twriter.write(outputChar[i][j]);\r\n\t\t\t\t}\r\n\t\t\t\twriter.write(&#39;\\n&#39;);\r\n\t\t\t}\r\n        }  catch (IOException e) {\r\n            e.printStackTrace();\r\n            System.err.println(&quot;FAILD&quot;);\r\n        }\r\n  }\r\n  \r\n  \r\n  public static char TurnTo8DotsBraille(int[][] subPixle){\r\n\t  int out=0;\r\n\t  if (subPixle[0][0] == 1) out = out + 1;\r\n\t  if (subPixle[0][1] == 1) out = out + 1000;\r\n\t  if (subPixle[1][0] == 1) out = out + 10;\r\n\t  if (subPixle[1][1] == 1) out = out + 10000;\r\n\t  if (subPixle[2][0] == 1) out = out + 100;\r\n\t  if (subPixle[2][1] == 1) out = out + 100000;\r\n\t  if (subPixle[3][0] == 1) out = out + 1000000;\r\n\t  if (subPixle[3][1] == 1) out = out + 10000000;\r\n\t  String outString = &quot;&quot;+out;\r\n\t  int decimal=Integer.parseInt(outString,2);  \r\n\t  char ch = (char)(decimal+10240);\r\n\t  return ch;\r\n  }\r\n\r\n  public static void PrintTheChar(char[][] input) {\r\n\t  for (int i = 0; i &lt; input.length; i++) {\r\n\t\tfor (int j = 0; j &lt; input[i].length; j++) {\r\n\t\t\tSystem.out.print(input[i][j]);\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t}\r\n  }\r\n  \r\n  \r\n```\r\nhere is the console output(it&#39;s not the full image since it&#39;s my face):\r\n[enter image description here](https://i.stack.imgur.com/DTgpa.png)\r\n\r\nI dont know what to do besides resizing the image and forgetting the problem instead of solvong it.\r\nbut I really need the file in these aspects:\r\n136*100","title":"Can&#39;t copy eclipse unicode art console output","body":"<p>It's a program that gets an image. then turn it black and white. and then into unicode art.\nThe keyboard does support the unicode characters since I was printing it earlier. I stopped working after I resized the source image.\nI'm using 8dots Braille. like this ⣿,⢆</p>\n<pre><code>import javax.imageio.ImageIO;\nimport java.awt.*;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.FileWriter; \npublic class BlackAndWhitePrint {\n\n  public static void main(String[] args) {\n    try {\n        String homeAdress = &quot;C:\\\\Users\\\\taban\\\\eclipse-workspace\\\\BlackAndWhitePrint\\\\&quot;;\n      String FileName = &quot;C:\\\\Users\\\\taban\\\\eclipse-workspace\\\\BlackAndWhitePrint\\\\shakh.jpg&quot;;\n            File input = new File(FileName);\n            BufferedImage image = ImageIO.read(input);\n\n            BufferedImage result = new BufferedImage(\n                    image.getWidth(),\n                    image.getHeight(),\n                    BufferedImage.TYPE_BYTE_BINARY);\n\n            Graphics2D graphic = result.createGraphics();\n            graphic.drawImage(image, 0, 0, Color.WHITE, null);\n            graphic.dispose();\n\n            File output = new File(homeAdress+&quot;shakhEdit.jpg&quot;);\n            ImageIO.write(result, &quot;jpg&quot;, output);\n//the top part turned the image to black and white and makes an ouput image\n            \n//in the next part I turn image into and 0and1 matrix       \n            int width = result.getWidth();\n            int height = result.getHeight();\n   \n            int[][] bitmap = new int[height][width];\n            for (int i = 0; i &lt; height; i++) {\n                for (int j = 0; j &lt; width; j++) {\n                    int rgb = result.getRGB(j, i);\n                    int r = (rgb &gt;&gt; 16) &amp; 0xFF;\n                    int g = (rgb &gt;&gt; 8) &amp; 0xFF;\n                    int b = (rgb &amp; 0xFF);\n                    int gray = (r + g + b) / 3;\n                    \n                    bitmap[i][j] = (gray == 0) ? 1:0;//0 too shart mishe shiah. mikham shiah bood type konam.\n                    \n                }\n            }\n//now that I have the bitmap, I need the get samples and turn them into unicode characters\n            char[][] outputChar = new char[height/4][width/2];\n            int[][] subpixle= new int[4][2];\n            for (int i = 0; i &lt; height-4; i=i+4) {\n                for (int j = 0; j &lt; width-4; j=j+2) {\n                    subpixle[0][0]=bitmap[i][j];\n                    subpixle[0][1]=bitmap[i][j+1];\n                    subpixle[1][0]=bitmap[i+1][j];\n                    subpixle[1][1]=bitmap[i+1][j+1];\n                    subpixle[2][0]=bitmap[i+2][j];\n                    subpixle[2][1]=bitmap[i+2][j+1];\n                    subpixle[3][0]=bitmap[i+3][j];\n                    subpixle[3][1]=bitmap[i+3][j+1];\n                    outputChar[i/4][j/2]= TurnTo8DotsBraille(subpixle);\n                }\n                \n            }\n//here I print them in the  console, it works fine\n            PrintTheChar(outputChar);\n//then I print into file, but it doesnt write anything\n            FileWriter writer = new FileWriter(homeAdress+&quot;output.txt&quot;);\n            for (int i = 0; i &lt; outputChar.length; i++) {\n                for (int j = 0; j &lt; outputChar[i].length; j++) {\n                    writer.write(outputChar[i][j]);\n                }\n                writer.write('\\n');\n            }\n        }  catch (IOException e) {\n            e.printStackTrace();\n            System.err.println(&quot;FAILD&quot;);\n        }\n  }\n  \n  \n  public static char TurnTo8DotsBraille(int[][] subPixle){\n      int out=0;\n      if (subPixle[0][0] == 1) out = out + 1;\n      if (subPixle[0][1] == 1) out = out + 1000;\n      if (subPixle[1][0] == 1) out = out + 10;\n      if (subPixle[1][1] == 1) out = out + 10000;\n      if (subPixle[2][0] == 1) out = out + 100;\n      if (subPixle[2][1] == 1) out = out + 100000;\n      if (subPixle[3][0] == 1) out = out + 1000000;\n      if (subPixle[3][1] == 1) out = out + 10000000;\n      String outString = &quot;&quot;+out;\n      int decimal=Integer.parseInt(outString,2);  \n      char ch = (char)(decimal+10240);\n      return ch;\n  }\n\n  public static void PrintTheChar(char[][] input) {\n      for (int i = 0; i &lt; input.length; i++) {\n        for (int j = 0; j &lt; input[i].length; j++) {\n            System.out.print(input[i][j]);\n        }\n        System.out.println();\n    }\n  }\n  \n  \n</code></pre>\n<p>here is the console output(it's not the full image since it's my face):\n<a href=\"https://i.stack.imgur.com/DTgpa.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I dont know what to do besides resizing the image and forgetting the problem instead of solvong it.\nbut I really need the file in these aspects:\n136*100</p>\n"},{"tags":["java","unit-testing"],"comments":[{"owner":{"account_id":126362,"reputation":44340,"user_id":322806,"accept_rate":40,"display_name":"Winston Ewert"},"score":14,"creation_date":1288565209,"post_id":4065518,"comment_id":4368245,"body_markdown":"I&#39;d just emphasize that in almost every circumstance this is a really really bad idea. Make sure you have a really really good reason before implementing this. Consider any and all possible alternatives. For example: can you add an interface?","body":"I&#39;d just emphasize that in almost every circumstance this is a really really bad idea. Make sure you have a really really good reason before implementing this. Consider any and all possible alternatives. For example: can you add an interface?"},{"owner":{"account_id":33601,"reputation":28353,"user_id":94169,"accept_rate":77,"display_name":"softwarematter"},"score":0,"creation_date":1288567833,"post_id":4065518,"comment_id":4368485,"body_markdown":"I found out a way without it. Thanks a lot for the suggestion.","body":"I found out a way without it. Thanks a lot for the suggestion."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1288568097,"post_id":4065518,"comment_id":4368502,"body_markdown":"One reason this is a really bad idea is that the only viable implementation approach is Expensive.","body":"One reason this is a really bad idea is that the only viable implementation approach is Expensive."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1288578531,"post_id":4065518,"comment_id":4369173,"body_markdown":"And it&#39;s a particularly terrible idea to do it just to fix a test case.","body":"And it&#39;s a particularly terrible idea to do it just to fix a test case."}],"answers":[{"tags":[],"owner":{"account_id":229412,"reputation":45082,"user_id":492364,"accept_rate":82,"display_name":"thejh"},"down_vote_count":0,"up_vote_count":100,"is_accepted":true,"score":100,"last_activity_date":1288566484,"creation_date":1288565099,"answer_id":4065546,"question_id":4065518,"body_markdown":"You could try\r\n\r\n    StackTraceElement[] stacktrace = Thread.currentThread().getStackTrace();\r\n    StackTraceElement e = stacktrace[2];//maybe this number needs to be corrected\r\n    String methodName = e.getMethodName();","title":"Java: How to get the caller function name","body":"<p>You could try</p>\n\n<pre><code>StackTraceElement[] stacktrace = Thread.currentThread().getStackTrace();\nStackTraceElement e = stacktrace[2];//maybe this number needs to be corrected\nString methodName = e.getMethodName();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5872,"reputation":12730,"user_id":9648,"accept_rate":94,"display_name":"JohnnyLambada"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1400045353,"creation_date":1400045353,"answer_id":23646299,"question_id":4065518,"body_markdown":"Here&#39;s a function I wrote to Log the function name of the function that calls it. It runs up the stack trace until it finds a function named logIt, then displays the next name. It&#39;s a dirty hack, so don&#39;t do it unless you&#39;re using it to debug.\r\n\r\n    private static void logIt() {\r\n        StackTraceElement[] stacktrace = Thread.currentThread().getStackTrace();\r\n        boolean logged = false;\r\n        boolean foundMe = false;\r\n        for(int i=0; i&lt;stacktrace.length; i++) {\r\n            StackTraceElement e = stacktrace[i];\r\n            String methodName = e.getMethodName();\r\n            if (foundMe) {\r\n                if (!methodName.startsWith(&quot;access$&quot;)) {\r\n                    Log.i(TAG, String.format(Locale.US, &quot;%s.%s&quot;, e.getClassName(), methodName));\r\n                    logged = true;\r\n                    break;\r\n                }\r\n            } else {\r\n                if (methodName.equals(&quot;logIt&quot;)) {\r\n                    foundMe = true;\r\n                }\r\n            }\r\n        }\r\n        if (!logged)\r\n            Log.e(TAG, &quot;unlogged call&quot;);\r\n    }\r\n","title":"Java: How to get the caller function name","body":"<p>Here's a function I wrote to Log the function name of the function that calls it. It runs up the stack trace until it finds a function named logIt, then displays the next name. It's a dirty hack, so don't do it unless you're using it to debug.</p>\n\n<pre><code>private static void logIt() {\n    StackTraceElement[] stacktrace = Thread.currentThread().getStackTrace();\n    boolean logged = false;\n    boolean foundMe = false;\n    for(int i=0; i&lt;stacktrace.length; i++) {\n        StackTraceElement e = stacktrace[i];\n        String methodName = e.getMethodName();\n        if (foundMe) {\n            if (!methodName.startsWith(\"access$\")) {\n                Log.i(TAG, String.format(Locale.US, \"%s.%s\", e.getClassName(), methodName));\n                logged = true;\n                break;\n            }\n        } else {\n            if (methodName.equals(\"logIt\")) {\n                foundMe = true;\n            }\n        }\n    }\n    if (!logged)\n        Log.e(TAG, \"unlogged call\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2526976,"reputation":7208,"user_id":2196150,"display_name":"0x8BADF00D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490736867,"creation_date":1490736867,"answer_id":43080363,"question_id":4065518,"body_markdown":"Another sample for android usage:\r\n\r\n    //package your.package.name;\r\n    import android.util.Log;\r\n    /*\r\n     File name: MyDebugLog.java\r\n    */\r\n    public class MyDebugLog {\r\n        private static final int    index      = 4;     // &lt;== Index in call stack array\r\n        private static final String methodName = &quot;Log&quot;; // &lt;== Name of method for public call\r\n        private static String getCallerName() {\r\n            String caller = &quot;NONE&quot;;\r\n            final StackTraceElement[] stacktrace = Thread.currentThread().getStackTrace();\r\n            for (int i = 0; i &lt; stacktrace.length; i++) {\r\n                Log.e(&quot;Method &quot;, &quot;[&quot; + i + &quot;]&quot; + stacktrace[i].getMethodName());\r\n            }\r\n            if (stacktrace.length &gt;= index){\r\n                caller = stacktrace[index].getMethodName();\r\n            }\r\n            return caller;\r\n        }\r\n\r\n        private static String getTag() {\r\n            String tag = &quot;NONE&quot;;\r\n            final StackTraceElement[] stacktrace = Thread.currentThread().getStackTrace();\r\n            for (int i = 0; i &lt; stacktrace.length; i++) {\r\n                Log.e(&quot;Method &quot;, &quot;[&quot; + i + &quot;]&quot; + stacktrace[i].getMethodName());\r\n                if (stacktrace[i].getMethodName().equals(methodName)) {\r\n                    tag = &quot;(&quot;+stacktrace[i + 1].getFileName() + &quot;:&quot; + stacktrace[i + 1].getLineNumber()+&quot;)&quot;;\r\n                    return tag;\r\n                }\r\n            }\r\n            return tag;\r\n        }\r\n\r\n        public static void Log(String message){\r\n            Log.v(getTag(), getCallerName() + &quot; &quot; + message);\r\n        }\r\n    }\r\n\r\nUsage:\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.sample_main);\r\n                MyDebugLog.Log(&quot;XXXXX&quot;);\r\n        }\r\n\r\nOutput:\r\n\r\n        V/(MainActivity.java:117): onCreate XXXXX\r\n\r\nSample of arrays:\r\n\r\n     getTag Sample of stacktace array:\r\n\r\n        Method: [0]getThreadStackTrace\r\n        Method: [1]getStackTrace\r\n        Method: [2]getTag\r\n        Method: [3]Log                 &lt;== Method for external call\r\n        ...\r\n     getName Sample of stacktace array:\r\n        Method: [0]getThreadStackTrace\r\n        Method: [1]getStackTrace\r\n        Method: [2]getCallerName\r\n        Method: [3]Log\r\n        Method: [4]onCreate            &lt;== Our external method\r\n        Method: [5]performCreate\r\n        ...\r\n\r\n","title":"Java: How to get the caller function name","body":"<p>Another sample for android usage:</p>\n\n<pre><code>//package your.package.name;\nimport android.util.Log;\n/*\n File name: MyDebugLog.java\n*/\npublic class MyDebugLog {\n    private static final int    index      = 4;     // &lt;== Index in call stack array\n    private static final String methodName = \"Log\"; // &lt;== Name of method for public call\n    private static String getCallerName() {\n        String caller = \"NONE\";\n        final StackTraceElement[] stacktrace = Thread.currentThread().getStackTrace();\n        for (int i = 0; i &lt; stacktrace.length; i++) {\n            Log.e(\"Method \", \"[\" + i + \"]\" + stacktrace[i].getMethodName());\n        }\n        if (stacktrace.length &gt;= index){\n            caller = stacktrace[index].getMethodName();\n        }\n        return caller;\n    }\n\n    private static String getTag() {\n        String tag = \"NONE\";\n        final StackTraceElement[] stacktrace = Thread.currentThread().getStackTrace();\n        for (int i = 0; i &lt; stacktrace.length; i++) {\n            Log.e(\"Method \", \"[\" + i + \"]\" + stacktrace[i].getMethodName());\n            if (stacktrace[i].getMethodName().equals(methodName)) {\n                tag = \"(\"+stacktrace[i + 1].getFileName() + \":\" + stacktrace[i + 1].getLineNumber()+\")\";\n                return tag;\n            }\n        }\n        return tag;\n    }\n\n    public static void Log(String message){\n        Log.v(getTag(), getCallerName() + \" \" + message);\n    }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.sample_main);\n            MyDebugLog.Log(\"XXXXX\");\n    }\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>    V/(MainActivity.java:117): onCreate XXXXX\n</code></pre>\n\n<p>Sample of arrays:</p>\n\n<pre><code> getTag Sample of stacktace array:\n\n    Method: [0]getThreadStackTrace\n    Method: [1]getStackTrace\n    Method: [2]getTag\n    Method: [3]Log                 &lt;== Method for external call\n    ...\n getName Sample of stacktace array:\n    Method: [0]getThreadStackTrace\n    Method: [1]getStackTrace\n    Method: [2]getCallerName\n    Method: [3]Log\n    Method: [4]onCreate            &lt;== Our external method\n    Method: [5]performCreate\n    ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5553643,"reputation":801,"user_id":4405866,"display_name":"prakash krishnan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679865319,"creation_date":1507222087,"answer_id":46590924,"question_id":4065518,"body_markdown":"I tweaked the code that is being discussed here and customized it to get the invoking method. What the code does here is to iterate over the stack trace elements and as soon as it finds the name of the method being invoked, it gets the name of the previous method, which in turn will be the method that is invoking this method. \r\n\r\n    private String method() {\r\n\t\tString methodName = null;\r\n\t    StackTraceElement[] stacktrace = Thread.currentThread().getStackTrace();\r\n\t    for (int i = 0; i &lt; stacktrace.length - 1; i++) {\r\n\t    \tif (stacktrace[i].getMethodName().equals(&quot;method&quot;)) {\r\n\t    \t\tmethodName = stacktrace[i + 1].getMethodName();\r\n\t    \t\tbreak;\r\n\t    \t}\r\n\t\t}\r\n        return methodName;\r\n\t}","title":"Java: How to get the caller function name","body":"<p>I tweaked the code that is being discussed here and customized it to get the invoking method. What the code does here is to iterate over the stack trace elements and as soon as it finds the name of the method being invoked, it gets the name of the previous method, which in turn will be the method that is invoking this method.</p>\n<pre><code>private String method() {\n    String methodName = null;\n    StackTraceElement[] stacktrace = Thread.currentThread().getStackTrace();\n    for (int i = 0; i &lt; stacktrace.length - 1; i++) {\n        if (stacktrace[i].getMethodName().equals(&quot;method&quot;)) {\n            methodName = stacktrace[i + 1].getMethodName();\n            break;\n        }\n    }\n    return methodName;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3265680,"reputation":506,"user_id":2750226,"accept_rate":0,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548187807,"creation_date":1548187807,"answer_id":54315753,"question_id":4065518,"body_markdown":"I sometimes want to make some outputs to the logcat. So I wrote a tiny class with some testing-methods:\r\n\r\n    public class Common {\r\n\r\n        // can be used as test-flag anywhere in the app (set to false, when release the app)\r\n        public static boolean b_TEST_MODE = true;\r\n\r\n        public static void echo(String message) {\r\n            if (b_TEST_MODE) {\r\n                StackTraceElement[] stackTraceElements = Thread.currentThread().getStackTrace();\r\n                // subtring(25) is to cut off app-name from output\r\n                System.out.println(&quot;&gt;&gt;&gt; &quot; + stackTraceElements[3].toString().substring(25) + &quot;: &quot; + message);\r\n            }\r\n        }\r\n    }\r\n\r\nnow you can call it from anywhere in the app to get some infos:\r\n\r\n    String sSQLQuery = &quot;SELECT * FROM database WHERE id=23&quot;;\r\n    Common.echo(sSQLQuery);\r\n\r\nThe logcat prints out:\r\n\r\n    &gt;&gt;&gt; MainActivity.onCreate(MainActivity.java:46): SELECT * FROM dateabase WHERE id=23","title":"Java: How to get the caller function name","body":"<p>I sometimes want to make some outputs to the logcat. So I wrote a tiny class with some testing-methods:</p>\n\n<pre><code>public class Common {\n\n    // can be used as test-flag anywhere in the app (set to false, when release the app)\n    public static boolean b_TEST_MODE = true;\n\n    public static void echo(String message) {\n        if (b_TEST_MODE) {\n            StackTraceElement[] stackTraceElements = Thread.currentThread().getStackTrace();\n            // subtring(25) is to cut off app-name from output\n            System.out.println(\"&gt;&gt;&gt; \" + stackTraceElements[3].toString().substring(25) + \": \" + message);\n        }\n    }\n}\n</code></pre>\n\n<p>now you can call it from anywhere in the app to get some infos:</p>\n\n<pre><code>String sSQLQuery = \"SELECT * FROM database WHERE id=23\";\nCommon.echo(sSQLQuery);\n</code></pre>\n\n<p>The logcat prints out:</p>\n\n<pre><code>&gt;&gt;&gt; MainActivity.onCreate(MainActivity.java:46): SELECT * FROM dateabase WHERE id=23\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15543983,"reputation":1,"user_id":11213845,"display_name":"David D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571313938,"creation_date":1571313938,"answer_id":58432243,"question_id":4065518,"body_markdown":"I have no idea why but in my shop the develop system differs from the test and production environments shifting position in the stack.  I was forced to loop through the stack to find &lt;init&gt; and get the calling method from the next element in the stack trace.  A little clunkier but so far has been consistently returning the desired method.  I use this as part of my error handling to identify where an exception was caught.\r\n\r\n\r\n    \tList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\t\tStackTraceElement[] elements = Thread.currentThread().getStackTrace();\r\n\t\tfor (int i = 0; i &lt; Thread.currentThread().getStackTrace().length; i++) {\r\n\t\t\tSystem.out.println(&quot;Stack: &quot;\r\n\t\t\t\t\t+ i\r\n\t\t\t\t\t+ &quot; Class: &quot;\r\n\t\t\t\t\t+ elements[i].getClassName()\r\n\t\t\t\t\t+ &quot; Method: &quot;\r\n\t\t\t\t\t+ elements[i].getMethodName());\r\n\t\t\tif (elements[i].getMethodName().equals(&quot;&lt;init&gt;&quot;)) {\r\n\t\t\t\tlist.add(elements[i + 1].getClassName());\r\n\t\t\t\tlist.add(elements[i + 1].getMethodName());\r\n\t\t\t\t break;\r\n\t\t\t} // if\r\n\t\t} // for\r\n","title":"Java: How to get the caller function name","body":"<p>I have no idea why but in my shop the develop system differs from the test and production environments shifting position in the stack.  I was forced to loop through the stack to find  and get the calling method from the next element in the stack trace.  A little clunkier but so far has been consistently returning the desired method.  I use this as part of my error handling to identify where an exception was caught.</p>\n\n<pre><code>    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n    StackTraceElement[] elements = Thread.currentThread().getStackTrace();\n    for (int i = 0; i &lt; Thread.currentThread().getStackTrace().length; i++) {\n        System.out.println(\"Stack: \"\n                + i\n                + \" Class: \"\n                + elements[i].getClassName()\n                + \" Method: \"\n                + elements[i].getMethodName());\n        if (elements[i].getMethodName().equals(\"&lt;init&gt;\")) {\n            list.add(elements[i + 1].getClassName());\n            list.add(elements[i + 1].getMethodName());\n             break;\n        } // if\n    } // for\n</code></pre>\n"},{"tags":[],"owner":{"account_id":111410,"reputation":8252,"user_id":294317,"accept_rate":69,"display_name":"Nathan"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1628203831,"creation_date":1628203831,"answer_id":68674306,"question_id":4065518,"body_markdown":"Here is code that is more modern (available in Java 9+) and better performing.\r\n\r\n    private static String getCallerMethodName()\r\n    {\r\n       return StackWalker.\r\n          getInstance().\r\n          walk(stream -&gt; stream.skip(1).findFirst().get()).\r\n          getMethodName();\r\n    }\r\n\r\nChange `skip(1)` to a larger number as needed to go higher on the stack.\r\n\r\nThis performs better than `Thread.currentThread().getStackTrace()` because it does not walk the entire stack and allocate all of the stack frames.  It only walks two frames on the stack.\r\n\r\nThis method can be adapted to return [`StackWalker.StackFrame`][1] that has a lot of information about the method.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/StackWalker.StackFrame.html","title":"Java: How to get the caller function name","body":"<p>Here is code that is more modern (available in Java 9+) and better performing.</p>\n<pre><code>private static String getCallerMethodName()\n{\n   return StackWalker.\n      getInstance().\n      walk(stream -&gt; stream.skip(1).findFirst().get()).\n      getMethodName();\n}\n</code></pre>\n<p>Change <code>skip(1)</code> to a larger number as needed to go higher on the stack.</p>\n<p>This performs better than <code>Thread.currentThread().getStackTrace()</code> because it does not walk the entire stack and allocate all of the stack frames.  It only walks two frames on the stack.</p>\n<p>This method can be adapted to return <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/StackWalker.StackFrame.html\" rel=\"noreferrer\"><code>StackWalker.StackFrame</code></a> that has a lot of information about the method.</p>\n"},{"tags":[],"owner":{"account_id":7591312,"reputation":77,"user_id":5758892,"display_name":"Siddu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678438929,"creation_date":1678438929,"answer_id":75694058,"question_id":4065518,"body_markdown":"Check below lines by changing index value:\r\n\r\n    System.out.println(&quot;Name of Caller method:&quot; \r\n    + new Throwable().getStackTrace()[1].getMethodName());\r\n    \r\n        System.out.println(&quot;Name of Current method:&quot; \r\n    + new Throwable().getStackTrace()[0].getMethodName());","title":"Java: How to get the caller function name","body":"<p>Check below lines by changing index value:</p>\n<pre><code>System.out.println(&quot;Name of Caller method:&quot; \n+ new Throwable().getStackTrace()[1].getMethodName());\n\n    System.out.println(&quot;Name of Current method:&quot; \n+ new Throwable().getStackTrace()[0].getMethodName());\n</code></pre>\n"}],"owner":{"account_id":33601,"reputation":28353,"user_id":94169,"accept_rate":77,"display_name":"softwarematter"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67578,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":4065546,"answer_count":8,"score":51,"last_activity_date":1679865319,"creation_date":1288564616,"question_id":4065518,"body_markdown":"To fix a test case I need to identify whether the function is called from a particular caller function. I can&#39;t afford to add a boolean parameter because it would break the interfaces defined. How to go about this?\r\n\r\nThis is what I want to achieve. Here I can&#39;t change the parameters of operation() as it is an interface implementation.\r\n\r\n    operation()\r\n    {\r\n       if not called from performancetest() method\r\n           do expensive bookkeeping operation\r\n       ...       \r\n    \r\n    }","title":"Java: How to get the caller function name","body":"<p>To fix a test case I need to identify whether the function is called from a particular caller function. I can't afford to add a boolean parameter because it would break the interfaces defined. How to go about this?</p>\n\n<p>This is what I want to achieve. Here I can't change the parameters of operation() as it is an interface implementation.</p>\n\n<pre><code>operation()\n{\n   if not called from performancetest() method\n       do expensive bookkeeping operation\n   ...       \n\n}\n</code></pre>\n"},{"tags":["java","methods","types","return"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":4,"creation_date":1679848590,"post_id":75849091,"comment_id":133790407,"body_markdown":"Not really. But you can try the Optional class. It has been introduced for this use case exactly.","body":"Not really. But you can try the Optional class. It has been introduced for this use case exactly."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":3,"creation_date":1679848595,"post_id":75849091,"comment_id":133790408,"body_markdown":"No, that&#39;s not possible. The closest you can get is throwing an exception if that condition is met and handle it in the caller.","body":"No, that&#39;s not possible. The closest you can get is throwing an exception if that condition is met and handle it in the caller."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":4,"creation_date":1679848984,"post_id":75849091,"comment_id":133790471,"body_markdown":"typically, a method that returns a list would return an empty list if there was nothing to return.","body":"typically, a method that returns a list would return an empty list if there was nothing to return."},{"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1679849537,"post_id":75849091,"comment_id":133790566,"body_markdown":"In a comment you wrote &quot;I need it to return nothing, i.e. pass&quot;. This doesn&#39;t make sense. Try to explain what you intend to happen __for the  caller__ (the one calling `method()` here) when they call `method()` and this nebulous thing you cooked up is supposed to happen. Should the app just exit?","body":"In a comment you wrote &quot;I need it to return nothing, i.e. pass&quot;. This doesn&#39;t make sense. Try to explain what you intend to happen <b>for the  caller</b> (the one calling <code>method()</code> here) when they call <code>method()</code> and this nebulous thing you cooked up is supposed to happen. Should the app just exit?"},{"owner":{"account_id":23774478,"reputation":43,"user_id":17788139,"display_name":"BlueInundation"},"score":0,"creation_date":1679850491,"post_id":75849091,"comment_id":133790737,"body_markdown":"@njzk2 but there is something to return, I edited my post accordingly. We have a recursive function.","body":"@njzk2 but there is something to return, I edited my post accordingly. We have a recursive function."},{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":0,"creation_date":1679852183,"post_id":75849091,"comment_id":133791026,"body_markdown":"Does this answer your question? [Java Recursion, issue with return statement, returning a certain value](https://stackoverflow.com/questions/75847893/java-recursion-issue-with-return-statement-returning-a-certain-value)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75847893/java-recursion-issue-with-return-statement-returning-a-certain-value\">Java Recursion, issue with return statement, returning a certain value</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679856779,"post_id":75849091,"comment_id":133791780,"body_markdown":"Yes, there are options. Would it work for your caller if you return n empty list? That list contains nothing. Or do they need to distinguish between &quot;an empty list&quot; and &quot;nothing (at all, not even a list)&quot;? In the latter case consider returning `Optional&lt;ArrayList&gt;` as @Mar-Z suggested. I’s not exactly standard, so may confuse some, but if iit’s what you need, just make sure your Javadoc is clear about it.","body":"Yes, there are options. Would it work for your caller if you return n empty list? That list contains nothing. Or do they need to distinguish between &quot;an empty list&quot; and &quot;nothing (at all, not even a list)&quot;? In the latter case consider returning <code>Optional&lt;ArrayList&gt;</code> as @Mar-Z suggested. I’s not exactly standard, so may confuse some, but if iit’s what you need, just make sure your Javadoc is clear about it."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1679864823,"post_id":75849091,"comment_id":133792986,"body_markdown":"doesn&#39;t look like your function should ever return anything at all. If you want a function that returns something in that case, you should create a separate function that calls your recursive function and passes a new arraylist for `indices`","body":"doesn&#39;t look like your function should ever return anything at all. If you want a function that returns something in that case, you should create a separate function that calls your recursive function and passes a new arraylist for <code>indices</code>"}],"answers":[{"tags":[],"owner":{"account_id":21776732,"reputation":46,"user_id":16079033,"display_name":"ProgrammingSolver"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679849972,"creation_date":1679849972,"answer_id":75849236,"question_id":75849091,"body_markdown":"You are not able to return nothing from a non-void method. In most situations, it is best practice to throw an exception if returning a value would not make sense.\r\n\r\nFor example:\r\n```\r\npublic void setCarValue(int value) {\r\n    if (value &lt; MIN_VALUE) {\r\n        throw new CarException(String.format(&quot;Value may not be less than %d&quot;, MIN_VALUE));\r\n    }\r\n    this.value = value;\r\n}\r\n```","title":"Is it possible to return nothing with a non-void method if a certain condition is not met","body":"<p>You are not able to return nothing from a non-void method. In most situations, it is best practice to throw an exception if returning a value would not make sense.</p>\n<p>For example:</p>\n<pre><code>public void setCarValue(int value) {\n    if (value &lt; MIN_VALUE) {\n        throw new CarException(String.format(&quot;Value may not be less than %d&quot;, MIN_VALUE));\n    }\n    this.value = value;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679865049,"creation_date":1679865049,"answer_id":75850577,"question_id":75849091,"body_markdown":"I would write a separate function:\r\n\r\n\r\n```\r\npublic static ArrayList&lt;String&gt; connectionFinder(String linInit, String linFin, ArrayList&lt;ArrayList&lt;String&gt;&gt; linArray) {\r\n  ArrayList&lt;String&gt; indices = new ArrayList&lt;&gt;();\r\n  connectionFinder(linInit, linFin, indices, linArray);\r\n  return indices;\r\n}\r\n\r\n```\r\n\r\nAnd your function, now as a void:\r\n\r\n    private static void connectionFinder(String linInit, String linFin, ArrayList&lt;String&gt; indices, ArrayList&lt;ArrayList&lt;String&gt;&gt; linArray) {\r\n        if (linInit.equals(linFin)) {\r\n            return;\r\n        }\r\n        for (int i = 0; i &lt; linArray.size(); i++) {\r\n            // Loop omitted for clarity\r\n        }\r\n        indices.remove(indices.size()-1);\r\n    }\r\n","title":"Is it possible to return nothing with a non-void method if a certain condition is not met","body":"<p>I would write a separate function:</p>\n<pre><code>public static ArrayList&lt;String&gt; connectionFinder(String linInit, String linFin, ArrayList&lt;ArrayList&lt;String&gt;&gt; linArray) {\n  ArrayList&lt;String&gt; indices = new ArrayList&lt;&gt;();\n  connectionFinder(linInit, linFin, indices, linArray);\n  return indices;\n}\n\n</code></pre>\n<p>And your function, now as a void:</p>\n<pre><code>private static void connectionFinder(String linInit, String linFin, ArrayList&lt;String&gt; indices, ArrayList&lt;ArrayList&lt;String&gt;&gt; linArray) {\n    if (linInit.equals(linFin)) {\n        return;\n    }\n    for (int i = 0; i &lt; linArray.size(); i++) {\n        // Loop omitted for clarity\n    }\n    indices.remove(indices.size()-1);\n}\n</code></pre>\n"}],"owner":{"account_id":23774478,"reputation":43,"user_id":17788139,"display_name":"BlueInundation"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75850577,"answer_count":2,"score":0,"last_activity_date":1679865049,"creation_date":1679848404,"question_id":75849091,"body_markdown":"Is there a way of returning nothing (not even null) with a non-void method if a certain condition is not met, but return something of the method type (like &quot;int&quot; if method is &quot;int&quot;) if that condition is met?\r\n\r\nNow that I have seen the comments, I had read about Optional class but couldn&#39;t figure it out. So if I have something like an ArrayList method, how&#39;d I do it?\r\n\r\n    static ArrayList&lt;String&gt; method() {\r\n        if (true) {\r\n            return ArrayList; }\r\n        else {\r\n            ? } //(equivalent of return nothing, not even null) \r\n\r\nSo it&#39;d be something like this, but can you help with exact syntax?:\r\n\r\n    static Optional method() {\r\n        if (true) {\r\n            return ArrayList&lt;String&gt;; }\r\n        else {\r\n            Optional.empty() } //(equivalent of return nothing, not even null) \r\n\r\nOkay, there was a comment below, let me post my recursive function. What I want here is in the first if statement, there is a print and a return statement. But at the end of the function there is a necessary return null and thus the function returns null. I want function to return what it prints, i.e. indices, so I can use it as an input somewhere else.\r\n\r\n    static ArrayList&lt;String&gt; connectionFinder(String linInit, String linFin, ArrayList&lt;String&gt; indices, ArrayList&lt;ArrayList&lt;String&gt;&gt; linArray) {\r\n            if (linInit.equals(linFin)) {    //returns the indices list if linInit reaches linFin\r\n                System.out.println(indices);\r\n                return indices;\r\n            }\r\n            for (int i = 0; i &lt; linArray.size(); i++) {\r\n                if (linArray.get(i).contains(linInit) &amp;&amp; !indices.contains(i)) {     //checks which stations are exchange stations for linInit, and checks the index to prevent infinite recursion\r\n                    for (int j = 1; j &lt; linArray.get(i).size(); j++) {\r\n                        if (!linArray.get(i).get(j).equals(linInit)) {    //j starts from 1 so as to avoid the station name, and checks if the linInit is different to prevent infinite recursion\r\n                            connectionFinder(linArray.get(i).get(j), linFin, add(indices, i), linArray);    //changes the linInit, and adds the index ( add(ArrayList,value) is a custom method that returns the ArrayList instead of a boolean -ArrayList.add(value) returns a boolean-)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            indices.remove(indices.size()-1);\r\n            return null;\r\n        } ","title":"Is it possible to return nothing with a non-void method if a certain condition is not met","body":"<p>Is there a way of returning nothing (not even null) with a non-void method if a certain condition is not met, but return something of the method type (like &quot;int&quot; if method is &quot;int&quot;) if that condition is met?</p>\n<p>Now that I have seen the comments, I had read about Optional class but couldn't figure it out. So if I have something like an ArrayList method, how'd I do it?</p>\n<pre><code>static ArrayList&lt;String&gt; method() {\n    if (true) {\n        return ArrayList; }\n    else {\n        ? } //(equivalent of return nothing, not even null) \n</code></pre>\n<p>So it'd be something like this, but can you help with exact syntax?:</p>\n<pre><code>static Optional method() {\n    if (true) {\n        return ArrayList&lt;String&gt;; }\n    else {\n        Optional.empty() } //(equivalent of return nothing, not even null) \n</code></pre>\n<p>Okay, there was a comment below, let me post my recursive function. What I want here is in the first if statement, there is a print and a return statement. But at the end of the function there is a necessary return null and thus the function returns null. I want function to return what it prints, i.e. indices, so I can use it as an input somewhere else.</p>\n<pre><code>static ArrayList&lt;String&gt; connectionFinder(String linInit, String linFin, ArrayList&lt;String&gt; indices, ArrayList&lt;ArrayList&lt;String&gt;&gt; linArray) {\n        if (linInit.equals(linFin)) {    //returns the indices list if linInit reaches linFin\n            System.out.println(indices);\n            return indices;\n        }\n        for (int i = 0; i &lt; linArray.size(); i++) {\n            if (linArray.get(i).contains(linInit) &amp;&amp; !indices.contains(i)) {     //checks which stations are exchange stations for linInit, and checks the index to prevent infinite recursion\n                for (int j = 1; j &lt; linArray.get(i).size(); j++) {\n                    if (!linArray.get(i).get(j).equals(linInit)) {    //j starts from 1 so as to avoid the station name, and checks if the linInit is different to prevent infinite recursion\n                        connectionFinder(linArray.get(i).get(j), linFin, add(indices, i), linArray);    //changes the linInit, and adds the index ( add(ArrayList,value) is a custom method that returns the ArrayList instead of a boolean -ArrayList.add(value) returns a boolean-)\n                    }\n                }\n            }\n        }\n        indices.remove(indices.size()-1);\n        return null;\n    } \n</code></pre>\n"},{"tags":["java","file","class","methods","integer"],"comments":[{"owner":{"account_id":21896421,"reputation":187,"user_id":17846979,"display_name":"RandomLonelyDev"},"score":2,"creation_date":1679860245,"post_id":75850149,"comment_id":133792312,"body_markdown":"Please clarify your question and decrease the amount of code to make your question more readable.","body":"Please clarify your question and decrease the amount of code to make your question more readable."},{"owner":{"account_id":27942641,"reputation":11,"user_id":21338335,"display_name":"Mando0110"},"score":0,"creation_date":1679861005,"post_id":75850149,"comment_id":133792441,"body_markdown":"The int variables b1, b2, and b3 are initialized in the AddBusses method in Class Bus. They hold the sizes of the 3 lists. I want to be able to access and use those numbers in the main class for something else. @RandomLonelyDev","body":"The int variables b1, b2, and b3 are initialized in the AddBusses method in Class Bus. They hold the sizes of the 3 lists. I want to be able to access and use those numbers in the main class for something else. @RandomLonelyDev"}],"answers":[{"tags":[],"owner":{"account_id":21896421,"reputation":187,"user_id":17846979,"display_name":"RandomLonelyDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679861515,"creation_date":1679861515,"answer_id":75850302,"question_id":75850149,"body_markdown":"From what I&#39;ve seen in your code, you never assign a value to b1, 2, 3, or 4 accept from within a method.  If you run the method AddBusses() you b1 should become a valid value.","title":"How do I access int variables from a method in another class?","body":"<p>From what I've seen in your code, you never assign a value to b1, 2, 3, or 4 accept from within a method.  If you run the method AddBusses() you b1 should become a valid value.</p>\n"},{"tags":[],"owner":{"account_id":27942641,"reputation":11,"user_id":21338335,"display_name":"Mando0110"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679864606,"creation_date":1679864606,"answer_id":75850548,"question_id":75850149,"body_markdown":"I was able to fix my issue! \r\n\r\nIn the Bus class, I declared my int variables outside the method as *public static int*, then removed the declaration statement from the method. \r\n\r\nIn the Main class, I accessed the variables with a call to the class, and then the variables.\r\n\r\nExample of old and new code below:\r\n\r\nRelevant Main class code:\r\nBefore (2 different ways):\r\n\r\n\r\n    //        \t\t\t\t\tint StudentListSize = b.b1;\r\n    //        \t\t\t\t\tint BusListSize = b.b2;\r\n    //        \t\t\t\t\tint BusStopListSize = b.b3;\r\n    //        \t\t\t\t\tint StudentListSize = b.getB1();\r\n    //        \t\t\t\t\tint BusListSize = b.getB1();\r\n    //        \t\t\t\t\tint BusStopListSize = b.getB3();\r\n\r\n \r\n\r\nAfter:\r\n\r\n                            int StudentListSize = Bus.b1;\r\n        \t\t\t\t\tint BusListSize = Bus.b2;\r\n        \t\t\t\t\tint BusStopListSize = Bus.b3;\r\n\r\nRelevant Bus Class code:\r\nBefore (2 different attempts):\r\n\r\n    //\t\tpublic int b1;\r\n    //\t\tpublic int b2;\r\n    //\t\tpublic int b3;\r\n    //\t\tpublic int b4;\r\n    \t\t\r\n    //\t\tpublic int getB1()\r\n    //\t\t{\r\n    //\t\t\treturn b1;\r\n    //\t\t\t\r\n    //\t\t}\r\n    //\t\tpublic int getB2()\r\n    //\t\t{\r\n    //\t\t\treturn b2;\r\n    //\t\t\t\r\n    //\t\t}\r\n    //\t\tpublic int getB3()\r\n    //\t\t{\r\n    //\t\t\treturn b3;\r\n    //\t\t}\r\n\r\nInside method:\r\n\r\n    //          int b1 = StudentList2.size();\r\n    //          int b2 = BusList3.size();\r\n    //          int b3 = BusStopList2.size();\r\n\r\n\r\nAfter:\r\n\r\n    public static int b1;\r\n    public static int b2;\r\n    public static int b3;\r\n\r\nInside method:\r\n\r\n    b1 = StudentList2.size();\r\n    b2 = BusList3.size();\r\n    b3 = BusStopList2.size();\r\n\r\n","title":"How do I access int variables from a method in another class?","body":"<p>I was able to fix my issue!</p>\n<p>In the Bus class, I declared my int variables outside the method as <em>public static int</em>, then removed the declaration statement from the method.</p>\n<p>In the Main class, I accessed the variables with a call to the class, and then the variables.</p>\n<p>Example of old and new code below:</p>\n<p>Relevant Main class code:\nBefore (2 different ways):</p>\n<pre><code>//                          int StudentListSize = b.b1;\n//                          int BusListSize = b.b2;\n//                          int BusStopListSize = b.b3;\n//                          int StudentListSize = b.getB1();\n//                          int BusListSize = b.getB1();\n//                          int BusStopListSize = b.getB3();\n</code></pre>\n<p>After:</p>\n<pre><code>                        int StudentListSize = Bus.b1;\n                        int BusListSize = Bus.b2;\n                        int BusStopListSize = Bus.b3;\n</code></pre>\n<p>Relevant Bus Class code:\nBefore (2 different attempts):</p>\n<pre><code>//      public int b1;\n//      public int b2;\n//      public int b3;\n//      public int b4;\n        \n//      public int getB1()\n//      {\n//          return b1;\n//          \n//      }\n//      public int getB2()\n//      {\n//          return b2;\n//          \n//      }\n//      public int getB3()\n//      {\n//          return b3;\n//      }\n</code></pre>\n<p>Inside method:</p>\n<pre><code>//          int b1 = StudentList2.size();\n//          int b2 = BusList3.size();\n//          int b3 = BusStopList2.size();\n</code></pre>\n<p>After:</p>\n<pre><code>public static int b1;\npublic static int b2;\npublic static int b3;\n</code></pre>\n<p>Inside method:</p>\n<pre><code>b1 = StudentList2.size();\nb2 = BusList3.size();\nb3 = BusStopList2.size();\n</code></pre>\n"}],"owner":{"account_id":27942641,"reputation":11,"user_id":21338335,"display_name":"Mando0110"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1679864606,"creation_date":1679859847,"question_id":75850149,"body_markdown":"\r\nI have a method (public void AddBusses) in a class called Bus. There are int variables that keep track of the size of some ArrayLists in the method. I want to be able to use the arraylist size in my main class. \r\n\r\n\r\nI tried declaring the int variables in Class Bus before the method, but this just made them all 0 and would not give their values in the method. \r\n\r\nI then tries to make get methods to get them to the main class, but this had the same outcome with it returning 0&#39;s.\r\n\r\nThe attempts discussed above are located in the Bus class and are commented out.\r\nBelow are the int variable in question- in b1, b2, b3\r\n\r\n```\r\n//\t\tpublic int b1;\r\n//\t\tpublic int b2;\r\n//\t\tpublic int b3;\r\n//\t\tpublic int b4;\r\n\t\t\r\n//\t\tpublic int getB1(){\r\n//\t\t\treturn b1;\t\t\t\r\n//\t\t}\r\n//\t\tpublic int getB2(){\r\n//\t\t\treturn b2;\r\n//\t\t}\r\n//\t\tpublic int getB3(){\r\n//\t\t\treturn b3;\r\n//\t\t}\r\n```\r\n\r\nhere is the relevant code in the main class:\r\n\r\n```\r\nimport java.io.*;\r\nimport java.util.*;//Includes ArrayList\r\n\r\npublic class Bussin \r\n{\r\n\tpublic static void main (String []args)\r\n\t{\r\n\t\t\r\n\t\t//Instantiate 3 ArrayLists \r\n\t\t\r\n\t\t//ArrayList&lt;Student&gt; StudentList = new ArrayList&lt;Student&gt;();\r\n    \tList&lt;Student&gt; StudentList = Collections.synchronizedList(new ArrayList&lt;Student&gt;());\r\n    \t//ArrayList&lt;Bus&gt; Bus = new ArrayList&lt;Bus&gt; ();\r\n\t\tList&lt;Bus&gt; BusList = Collections.synchronizedList(new ArrayList&lt;Bus&gt;());\r\n\t\tList&lt;Bus2&gt; BusList2 = Collections.synchronizedList(new ArrayList&lt;Bus2&gt;());\r\n    \t//ArrayList&lt;BusStop&gt; BusStop = new ArrayList&lt;BusStop&gt;();\r\n    \tList&lt;BusStop&gt; BusStopList = Collections.synchronizedList(new ArrayList&lt;BusStop&gt;());\r\n\r\nFile myFile_1_5 = null;\r\n    \tFileWriter myWriter_1_5 = null;\r\n    \tScanner myReader_1_5 = null;\r\n\r\n//1_5\r\n    \ttry {\r\n\t\t      myFile_1_5 = new File(&quot;D:\\\\11th Grade Portfolio\\\\AP Computer Science A\\\\ArrayListSizes.txt&quot;);\t\t     \r\n\t\t      if (myFile_1_5.createNewFile()) \r\n\t\t      {\r\n\t\t        System.out.println(&quot;File created: &quot; + myFile_1_5.getName());\r\n\t\t      } else {\r\n\t\t        System.out.println(&quot;File already exists.&quot;);\r\n\t\t        myReader_1_5 = new Scanner(myFile_1_5); \r\n\t\t\t\t  int ReadStudentListSize_1_5 = myReader_1_5.nextInt();\r\n\t\t\t\t  int ReadBusListSize_1_5 = myReader_1_5.nextInt();\r\n\t\t\t\t  int ReadBusStopListSize_1_5 = myReader_1_5.nextInt();\r\n\t\t\t\t  System.out.println(ReadStudentListSize_1_5);\r\n\t\t\t\t  System.out.println(ReadBusListSize_1_5);\r\n\t\t\t\t  System.out.println(ReadBusStopListSize_1_5);\t\t      \r\n\t\t\t\t      myReader_1_5.close();\t\t      \r\n\t\t      }\t  \r\n\t\t} catch (IOException e) {\r\n\t      System.out.println(&quot;An error occurred.&quot;);\r\n\t      e.printStackTrace();\r\n\t    }\r\n    \t\r\n\r\n    \tcase 2:\r\n        \t\t\r\n        \t\tScanner Reader2 = new Scanner(System.in);\r\n        \t\tint R2 = 0;\r\n        \t\twhile(R2 != -1)\r\n        \t\t{\r\n        \t\t\tSystem.out.println(&quot;\\nBusses&quot;);\r\n        \t\t\tSystem.out.println(&quot;1. Add Busses\\n2. Remove Busses\\n3. Move Busses\\n4. View Busses\\n5. View Students\\n6. See all Busses&quot;);\r\n        \t\t\tSystem.out.println(&quot;\\n Enter 1-3 to make a selection, or -1 to quit:&quot;);\r\n        \t\t\tR2 = Reader2.nextInt();\r\n        \t\t\tSystem.out.println(&quot;__________________________________________________________________\\n&quot;);\r\n        \t\t\t\r\n        \t\t\tBus b = new Bus (BusList);\t\r\n        \t\t\tswitch (R2)\r\n        \t\t\t{\r\n        \t\t\t\tcase -1:\r\n        \t\t\t\t\tSystem.out.println(&quot;Returning to main menu...&quot;);\r\n            \t\t\t\tbreak;\r\n        \t\t\t\tcase 1:\r\n        \t\t\t\t\t\r\n        \t\t\t\t\tb.AddBusses(StudentList, BusList2, BusStopList);\r\n        \t\t\t\t\t\r\n        \t\t\t\t\tbreak;\r\n        \t\t\t\tcase 2:\r\n        \t\t\t\t\t\r\n        \t\t\t\t\tb.RemoveBusses();\r\n        \t\t\t\t\t\r\n        \t\t\t\t\tbreak;\r\n        \t\t\t\tcase 3: \r\n        \t\t\t\t\t\r\n        \t\t\t\t\tb.MoveBusses();\r\n        \t\t\t\t\t\r\n        \t\t\t\t\tbreak;\r\n        \t\t\t\tcase 4:\r\n        \t\t\t\t\t\r\n        \t\t\t\t\tb.ViewBusses();\r\n        \t\t\t\t\t\r\n        \t\t\t\t\tbreak;\r\n        \t\t\t\tcase 5:\r\n        \t\t\t\t\t\r\n        \t\t\t\t\tb.ViewStudents();\r\n        \t\t\t\t\t\r\n        \t\t\t\t\tbreak;\r\n        \t\t\t\tcase 6:\r\n        \t\t\t\t\t\r\n//        \t\t\t\t\tb.SeeAllBusses();        \t\t\t\t\t\r\n        \t\t\t\t\tSystem.out.println(&quot;______________&quot;);\r\n        \t\t\t\t\tSystem.out.println(&quot;See all Busses&quot;);        \t\t\t\t\t        \t\t\t\t\t\r\n//    Test    \t\t\t\t\tint StudentListSize = b.b5;\r\n//        with\t\t\t\t\tint BusListSize = b.b6;\r\n//        \tb5,6,7.\t\t\t\tint BusStopListSize = b.b7;\r\n//      This  \t\t\t\t\tint StudentListSize = b.getB1();\r\n//      \twas the\t\t\t\tint BusListSize = b.getB1();\r\n//        \t\tsecond attempt.\t\tint BusStopListSize = b.getB3();    \r\n//    \tThis \t\t\t\t\tint StudentListSize = b.b1;  \r\n//        was the\t\t\t\tint BusListSize = b.b2;\r\n//               first attempt.\t\t\tint BusStopListSize = b.b3;  \t\r\n        \t\t\t\t\t\r\n        \t\t\t\t\ttry {        \t\t\t\t\t\t\r\n        \t\t\t\t\tmyWriter_1_5 = new FileWriter(&quot;D:\\\\11th Grade Portfolio\\\\AP Computer Science A\\\\ArrayListSizes.txt&quot;);\r\n        \t\t\t\t\t\r\n        \t\t\t\t\tmyWriter_1_5.write(StudentListSize + &quot;\\n&quot;);//+ &quot; &quot; + BusListSize + &quot; &quot; + BusStopListSize);\r\n        \t\t\t\t\tmyWriter_1_5.write(BusListSize + &quot;\\n&quot;);\r\n        \t\t\t\t\tmyWriter_1_5.write(BusStopListSize + &quot;\\n&quot;);\r\n        \t\t\t\t\t\r\n        \t\t\t\t\t\r\n        \t\t\t\t\tSystem.out.println(&quot;Successfully wrote to the file.&quot;);\r\n        \t\t\t\t\t\r\n        \t\t\t\t\tmyWriter_1_5.close();\r\n        \t\t\t\t\t\r\n        \t\t\t\t\t} catch (IOException e) {\r\n  \t\t\t\t\t\t      System.out.println(&quot;An error occurred.&quot;);\r\n    \t\t\t\t\t\t      e.printStackTrace();\r\n        \t\t\t\t\t}\r\n        \t\t\t\t\t\r\n        \t\t\t\t\t//Read from the file\r\n        \t\t\t\t\ttry {\r\n        \t\t\t\t\t\t\r\n        \t\t\t\t\t\t  myReader_1_5 = new Scanner(myFile_1_5);\r\n      \t\t\t\t\t\t      while (myReader_1_5.hasNextLine()) \r\n      \t\t\t\t\t\t      {\r\n      \t\t\t\t\t\t        String data1_5 = myReader_1_5.nextLine();\r\n      \t\t\t\t\t\t        System.out.println(data1_5);\r\n      \t\t\t\t\t\t      }       \t\t\t\t\t\t      \r\n      \t\t\t\t\t\t      myReader_1_5.close();\r\n        \t\t\t\t\t} catch (IOException e) {\r\n  \t\t\t\t\t\t      System.out.println(&quot;An error occurred.&quot;);\r\n    \t\t\t\t\t\t      e.printStackTrace();\r\n    \t\t\t\t\t\t      \r\n    \t\t\t\t\t\t    }        \t\t\t\t\t        \t\t\t\t\t        \t\t\t\t\t        \t\t\t\t\t        \t\t\t\t\t        \t\t\t\t\t        \t\t\t\t\t\r\n  \r\n             \t\t\t\t        \t\t\t\t        \t\t\t\t\t      try {\r\n           \t\t\t\t\tmyWriter_2 = new FileWriter(&quot;D:\\\\11th Grade Portfolio\\\\AP Computer Science A\\\\Busses.txt&quot;);\r\n        \t\t\t\t\t\r\n           \t\t\t\t\t\tListIterator&lt;Student&gt; l = StudentList.listIterator();\r\n           \t\t\t\t\t\twhile(l.hasNext())\r\n           \t\t\t\t\t\t{\r\n           \t\t\t\t\t\t\tmyWriter_2.write(l.next().toString().toUpperCase()) ;\t\t\r\n           \t\t\t\t\t\t}\r\n           \t\t\t\t\t\t\r\n           \t\t\t\t\t\tmyWriter_2.write(&quot;\\n&quot;);\r\n           \t\t\t\t\t\t\r\n           \t\t\t\t\t\tListIterator&lt;Bus2&gt; m = BusList2.listIterator();\r\n           \t\t\t\t\t\twhile(m.hasNext())\r\n           \t\t\t\t\t\t{\r\n           \t\t\t\t\t\t\tmyWriter_2.write(m.next().toString().toUpperCase()); \r\n           \t\t\t\t\t\t}\r\n           \t\t\t\t\t\t\r\n           \t\t\t\t\t\tmyWriter_2.write(&quot;\\n&quot;);\r\n           \t\t\t\t\t\t\r\n           \t\t\t\t\t\tListIterator&lt;BusStop&gt; n = BusStopList.listIterator();\r\n           \t\t\t\t\t\twhile(n.hasNext())\r\n           \t\t\t\t\t\t{\r\n           \t\t\t\t\t\t\tmyWriter_2.write(n.next().toString().toUpperCase());\r\n           \t\t\t\t\t\t}\r\n           \t\t\t\t\t\r\n           \t\t\t\t\t           \t\t\t\t\t           \t\t\t\t\t\t\t\t           \t\t\t\t\t           \t\t\t\t\t        \t\t\t\t\t        \t\t\t\t\t\r\n        \t\t\t\t\tSystem.out.println(&quot;Successfully wrote to the file.&quot;);\r\n        \t\t\t\t\t\r\n        \t\t\t\t\tmyWriter_2.close();\r\n        \t\t\t\t\t} catch (IOException e) {\r\n  \t\t\t\t\t\t      System.out.println(&quot;An error occurred.&quot;);\r\n    \t\t\t\t\t\t      e.printStackTrace();\r\n        \t\t\t\t\t}\r\n        \t\t\t\t\t\r\n        \t\t\t\t\t//Read from the file\r\n        \t\t\t\t\ttry {\r\n        \t\t\t\t\t\t\r\n        \t\t\t\t\t\t  myReader_2 = new Scanner(myFile_2);\r\n      \t\t\t\t\t\t      while (myReader_2.hasNextLine()) \r\n      \t\t\t\t\t\t      {\r\n      \t\t\t\t\t\t        String data = myReader_2.nextLine();\r\n      \t\t\t\t\t\t        System.out.println(data);\r\n      \t\t\t\t\t\t      }       \t\t\t\t\t\t      \r\n      \t\t\t\t\t\t      myReader_2.close();\r\n        \t\t\t\t\t} catch (IOException e) {\r\n  \t\t\t\t\t\t      System.out.println(&quot;An error occurred.&quot;);\r\n    \t\t\t\t\t\t      e.printStackTrace();\r\n    \t\t\t\t\t\t      \r\n    \t\t\t\t\t\t    }\r\n        \t\t\t\t\t\r\n        \t\t\t\t\t\r\n        \t\t\t\t\t\r\n        \t\t\t\t\tbreak;\r\n}\r\n}\r\n\r\n\r\n```\r\nI forgot to mention that most of the code in the main class is part of a nested menu, so I didn&#39;t include the start of the big menu but you can see one of the nested menus in the code above.\r\n\r\nBelow is the relevant code from the Bus Class:\r\n(sry ik this a lot- im confused myself :( )\r\n\r\n\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\nimport java.io.*;\r\n\r\npublic class Bus \r\n{\r\n\t\r\n\t\r\n\t//public String Bus;\r\n\tpublic List&lt;Bus2&gt; Bus_B;\r\n\tpublic List&lt;Student&gt; StudentList_B;\r\n\tpublic List&lt;BusStop&gt; BusStopList_B;\r\n\t\r\n\t//public Bus(List&lt;Student&gt; StudentList2, String Bus2, List&lt;BusStop&gt; BusStopList2)\r\n\tpublic Bus(List&lt;Student&gt; StudentList2, List&lt;Bus2&gt; BusList3, List&lt;BusStop&gt; BusStopList2)\r\n\t{\r\n\t\t\r\n\t\tStudentList_B = StudentList2;\r\n\t\t//Bus = Bus2;\r\n\t\tBus_B = BusList3;\r\n\t\tBusStopList_B = BusStopList2;\r\n\t}\r\n\t\r\n\r\n\t//Stuff for all methods to use\r\n\t\r\n\t\tstatic Scanner Reader_B = new Scanner(System.in);\r\n\t\t\r\n\t\tprivate List&lt;Bus&gt; BusList;\r\n\t\t\r\n\t\tBus(List&lt;Bus&gt; BusList)\r\n\t\t{\r\n\t\t\tthis.BusList = BusList;\r\n\t\t}\r\n\t\t\r\n//\t\tpublic int b1;\r\n//\t\tpublic int b2;\r\n//\t\tpublic int b3;\r\n//\t\tpublic int b4;\r\n\t\t\r\n//\t\tpublic int getB1()\r\n//\t\t{\r\n//\t\t\treturn b1;\r\n//\t\t\t\r\n//\t\t}\r\n//\t\tpublic int getB2()\r\n//\t\t{\r\n//\t\t\treturn b2;\r\n//\t\t\t\r\n//\t\t}\r\n//\t\tpublic int getB3()\r\n//\t\t{\r\n//\t\t\treturn b3;\r\n//\t\t}\r\n\t\t\r\n\t\t\r\n\t\tpublic int b5 = 69; // b5,6,&amp; 7 were just tests to access the ints- these worked and \r\n\t\tpublic int b6 = 420; // was able to access the value, but only b/c I initialized  \r\n\t\tpublic int b7 = 911; // the method.\r\n\t\t\r\n\t\tpublic void AddBusses (List&lt;Student&gt; StudentList2, List&lt;Bus2&gt; BusList3, List&lt;BusStop&gt; BusStopList2)\r\n\t\t{\r\n\t\t\tString Bus2;\r\n\t\t\tString Name2;\r\n\t\t\tString BusStop2;\r\n\t\t\t\r\n\t\t\tint StudentCount;\r\n\t\t\tint BusStopCount;\r\n\t\t\t\t\t\r\n\t\t\tSystem.out.println(&quot;__________&quot;);\r\n\t\t\tSystem.out.println(&quot;Add Busses&quot;);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Enter the number of the new Bus:&quot;);\t\t\t\r\n\t\t\tBus2 = Reader_B.nextLine();\t\t\t\r\n\t\t\t\r\n\t\t\tBus2 NewBus_B = new Bus2 (Bus2);\r\n\t\t\t\r\n\t\t\tBusList3.add(NewBus_B);\r\n\t\t\t\r\n\t\t\t int b2 = BusList3.size();\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;The size of the array is &quot; + b2 + &quot;. The bus number is &quot; + NewBus_B.Bus + &quot;.&quot;);\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;How many students ride Bus &quot; + Bus2 + &quot;?&quot;);\t\t\t\r\n\t\t\tStudentCount = Reader_B.nextInt();\t\t\t\r\n\t\t\tSystem.out.println(&quot;Enter the names of the &quot; + StudentCount + &quot; Students that ride Bus &quot; + Bus2 + &quot;.&quot;);\r\n\t\t\t\r\n\t\t\tName2 = Reader_B.nextLine();\r\n\t\t\t\r\n\t\t\tfor (int i = 0; i &lt; StudentCount; i++)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Student Name:&quot;);\r\n\t\t\t\tName2 = Reader_B.nextLine();\r\n\t\t\t\t\r\n\t\t\t\tStudent NewStudent_B = new Student(Name2, Bus2);\r\n\t\t\t\t\r\n\t\t\t\tStudentList2.add(NewStudent_B); \r\n\t\t\t\t\r\n\t\t\t\tint b1 = StudentList2.size();\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;the size of the array is &quot; + b1 + &quot;. The student&#39;s name is &quot; + NewStudent_B.Name + &quot; and their bus number is &quot; + NewStudent_B.BusNumber + &quot;.&quot;);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\tSystem.out.println(&quot;\\nHow many Bus Stops does &quot; + Bus2 + &quot; stop at?&quot;);\t\t\t\r\n\t\t\tBusStopCount = Reader_B.nextInt();\t\t\t\r\n\t\t\tSystem.out.println(&quot;Enter the names of the &quot; + BusStopCount + &quot; Bus Stops that Bus &quot; + Bus2 + &quot; stops at.&quot;);\r\n\t\t\t\r\n\t\t\tBusStop2 = Reader_B.nextLine();\r\n\t\t\t\r\n\t\t\tfor (int j = 0; j &lt; BusStopCount; j++)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Bus Stop Name:&quot;);\r\n\t\t\t\t\r\n\t\t\t\tBusStop2 = Reader_B.nextLine();\r\n\t\t\t\t\r\n\t\t\t\tBusStop NewBusStop_B = new BusStop(BusStop2, Bus2);\r\n\t\t\t\t\r\n\t\t\t\tBusStopList2.add(NewBusStop_B);\r\n\t\t\t\t\r\n\t\t\t\tint b3 = BusStopList2.size();\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;The size of the array is &quot; + b3 + &quot;. The name of the new Bus Stop is &quot; + NewBusStop_B.BusStop + &quot;.&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tBus NewBus = new Bus(StudentList2, BusList3, BusStopList2);\r\n\t\t\t\r\n\t\t\tBusList.add(NewBus);\r\n\t\t\r\n\t\t\tint b4 = BusList.size();\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;The size of the array is &quot; + b4 + &quot;.&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t\r\n```\r\n\r\n\r\n","title":"How do I access int variables from a method in another class?","body":"<p>I have a method (public void AddBusses) in a class called Bus. There are int variables that keep track of the size of some ArrayLists in the method. I want to be able to use the arraylist size in my main class.</p>\n<p>I tried declaring the int variables in Class Bus before the method, but this just made them all 0 and would not give their values in the method.</p>\n<p>I then tries to make get methods to get them to the main class, but this had the same outcome with it returning 0's.</p>\n<p>The attempts discussed above are located in the Bus class and are commented out.\nBelow are the int variable in question- in b1, b2, b3</p>\n<pre><code>//      public int b1;\n//      public int b2;\n//      public int b3;\n//      public int b4;\n        \n//      public int getB1(){\n//          return b1;          \n//      }\n//      public int getB2(){\n//          return b2;\n//      }\n//      public int getB3(){\n//          return b3;\n//      }\n</code></pre>\n<p>here is the relevant code in the main class:</p>\n<pre><code>import java.io.*;\nimport java.util.*;//Includes ArrayList\n\npublic class Bussin \n{\n    public static void main (String []args)\n    {\n        \n        //Instantiate 3 ArrayLists \n        \n        //ArrayList&lt;Student&gt; StudentList = new ArrayList&lt;Student&gt;();\n        List&lt;Student&gt; StudentList = Collections.synchronizedList(new ArrayList&lt;Student&gt;());\n        //ArrayList&lt;Bus&gt; Bus = new ArrayList&lt;Bus&gt; ();\n        List&lt;Bus&gt; BusList = Collections.synchronizedList(new ArrayList&lt;Bus&gt;());\n        List&lt;Bus2&gt; BusList2 = Collections.synchronizedList(new ArrayList&lt;Bus2&gt;());\n        //ArrayList&lt;BusStop&gt; BusStop = new ArrayList&lt;BusStop&gt;();\n        List&lt;BusStop&gt; BusStopList = Collections.synchronizedList(new ArrayList&lt;BusStop&gt;());\n\nFile myFile_1_5 = null;\n        FileWriter myWriter_1_5 = null;\n        Scanner myReader_1_5 = null;\n\n//1_5\n        try {\n              myFile_1_5 = new File(&quot;D:\\\\11th Grade Portfolio\\\\AP Computer Science A\\\\ArrayListSizes.txt&quot;);          \n              if (myFile_1_5.createNewFile()) \n              {\n                System.out.println(&quot;File created: &quot; + myFile_1_5.getName());\n              } else {\n                System.out.println(&quot;File already exists.&quot;);\n                myReader_1_5 = new Scanner(myFile_1_5); \n                  int ReadStudentListSize_1_5 = myReader_1_5.nextInt();\n                  int ReadBusListSize_1_5 = myReader_1_5.nextInt();\n                  int ReadBusStopListSize_1_5 = myReader_1_5.nextInt();\n                  System.out.println(ReadStudentListSize_1_5);\n                  System.out.println(ReadBusListSize_1_5);\n                  System.out.println(ReadBusStopListSize_1_5);            \n                      myReader_1_5.close();           \n              }   \n        } catch (IOException e) {\n          System.out.println(&quot;An error occurred.&quot;);\n          e.printStackTrace();\n        }\n        \n\n        case 2:\n                \n                Scanner Reader2 = new Scanner(System.in);\n                int R2 = 0;\n                while(R2 != -1)\n                {\n                    System.out.println(&quot;\\nBusses&quot;);\n                    System.out.println(&quot;1. Add Busses\\n2. Remove Busses\\n3. Move Busses\\n4. View Busses\\n5. View Students\\n6. See all Busses&quot;);\n                    System.out.println(&quot;\\n Enter 1-3 to make a selection, or -1 to quit:&quot;);\n                    R2 = Reader2.nextInt();\n                    System.out.println(&quot;__________________________________________________________________\\n&quot;);\n                    \n                    Bus b = new Bus (BusList);  \n                    switch (R2)\n                    {\n                        case -1:\n                            System.out.println(&quot;Returning to main menu...&quot;);\n                            break;\n                        case 1:\n                            \n                            b.AddBusses(StudentList, BusList2, BusStopList);\n                            \n                            break;\n                        case 2:\n                            \n                            b.RemoveBusses();\n                            \n                            break;\n                        case 3: \n                            \n                            b.MoveBusses();\n                            \n                            break;\n                        case 4:\n                            \n                            b.ViewBusses();\n                            \n                            break;\n                        case 5:\n                            \n                            b.ViewStudents();\n                            \n                            break;\n                        case 6:\n                            \n//                          b.SeeAllBusses();                           \n                            System.out.println(&quot;______________&quot;);\n                            System.out.println(&quot;See all Busses&quot;);                                                       \n//    Test                      int StudentListSize = b.b5;\n//        with                  int BusListSize = b.b6;\n//          b5,6,7.             int BusStopListSize = b.b7;\n//      This                    int StudentListSize = b.getB1();\n//          was the             int BusListSize = b.getB1();\n//              second attempt.     int BusStopListSize = b.getB3();    \n//      This                    int StudentListSize = b.b1;  \n//        was the               int BusListSize = b.b2;\n//               first attempt.         int BusStopListSize = b.b3;     \n                            \n                            try {                               \n                            myWriter_1_5 = new FileWriter(&quot;D:\\\\11th Grade Portfolio\\\\AP Computer Science A\\\\ArrayListSizes.txt&quot;);\n                            \n                            myWriter_1_5.write(StudentListSize + &quot;\\n&quot;);//+ &quot; &quot; + BusListSize + &quot; &quot; + BusStopListSize);\n                            myWriter_1_5.write(BusListSize + &quot;\\n&quot;);\n                            myWriter_1_5.write(BusStopListSize + &quot;\\n&quot;);\n                            \n                            \n                            System.out.println(&quot;Successfully wrote to the file.&quot;);\n                            \n                            myWriter_1_5.close();\n                            \n                            } catch (IOException e) {\n                              System.out.println(&quot;An error occurred.&quot;);\n                                  e.printStackTrace();\n                            }\n                            \n                            //Read from the file\n                            try {\n                                \n                                  myReader_1_5 = new Scanner(myFile_1_5);\n                                  while (myReader_1_5.hasNextLine()) \n                                  {\n                                    String data1_5 = myReader_1_5.nextLine();\n                                    System.out.println(data1_5);\n                                  }                                   \n                                  myReader_1_5.close();\n                            } catch (IOException e) {\n                              System.out.println(&quot;An error occurred.&quot;);\n                                  e.printStackTrace();\n                                  \n                                }                                                                                                                                                                                                   \n  \n                                                                                      try {\n                            myWriter_2 = new FileWriter(&quot;D:\\\\11th Grade Portfolio\\\\AP Computer Science A\\\\Busses.txt&quot;);\n                            \n                                ListIterator&lt;Student&gt; l = StudentList.listIterator();\n                                while(l.hasNext())\n                                {\n                                    myWriter_2.write(l.next().toString().toUpperCase()) ;       \n                                }\n                                \n                                myWriter_2.write(&quot;\\n&quot;);\n                                \n                                ListIterator&lt;Bus2&gt; m = BusList2.listIterator();\n                                while(m.hasNext())\n                                {\n                                    myWriter_2.write(m.next().toString().toUpperCase()); \n                                }\n                                \n                                myWriter_2.write(&quot;\\n&quot;);\n                                \n                                ListIterator&lt;BusStop&gt; n = BusStopList.listIterator();\n                                while(n.hasNext())\n                                {\n                                    myWriter_2.write(n.next().toString().toUpperCase());\n                                }\n                            \n                                                                                                                                                                                                                \n                            System.out.println(&quot;Successfully wrote to the file.&quot;);\n                            \n                            myWriter_2.close();\n                            } catch (IOException e) {\n                              System.out.println(&quot;An error occurred.&quot;);\n                                  e.printStackTrace();\n                            }\n                            \n                            //Read from the file\n                            try {\n                                \n                                  myReader_2 = new Scanner(myFile_2);\n                                  while (myReader_2.hasNextLine()) \n                                  {\n                                    String data = myReader_2.nextLine();\n                                    System.out.println(data);\n                                  }                                   \n                                  myReader_2.close();\n                            } catch (IOException e) {\n                              System.out.println(&quot;An error occurred.&quot;);\n                                  e.printStackTrace();\n                                  \n                                }\n                            \n                            \n                            \n                            break;\n}\n}\n\n\n</code></pre>\n<p>I forgot to mention that most of the code in the main class is part of a nested menu, so I didn't include the start of the big menu but you can see one of the nested menus in the code above.</p>\n<p>Below is the relevant code from the Bus Class:\n(sry ik this a lot- im confused myself :( )</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\nimport java.io.*;\n\npublic class Bus \n{\n    \n    \n    //public String Bus;\n    public List&lt;Bus2&gt; Bus_B;\n    public List&lt;Student&gt; StudentList_B;\n    public List&lt;BusStop&gt; BusStopList_B;\n    \n    //public Bus(List&lt;Student&gt; StudentList2, String Bus2, List&lt;BusStop&gt; BusStopList2)\n    public Bus(List&lt;Student&gt; StudentList2, List&lt;Bus2&gt; BusList3, List&lt;BusStop&gt; BusStopList2)\n    {\n        \n        StudentList_B = StudentList2;\n        //Bus = Bus2;\n        Bus_B = BusList3;\n        BusStopList_B = BusStopList2;\n    }\n    \n\n    //Stuff for all methods to use\n    \n        static Scanner Reader_B = new Scanner(System.in);\n        \n        private List&lt;Bus&gt; BusList;\n        \n        Bus(List&lt;Bus&gt; BusList)\n        {\n            this.BusList = BusList;\n        }\n        \n//      public int b1;\n//      public int b2;\n//      public int b3;\n//      public int b4;\n        \n//      public int getB1()\n//      {\n//          return b1;\n//          \n//      }\n//      public int getB2()\n//      {\n//          return b2;\n//          \n//      }\n//      public int getB3()\n//      {\n//          return b3;\n//      }\n        \n        \n        public int b5 = 69; // b5,6,&amp; 7 were just tests to access the ints- these worked and \n        public int b6 = 420; // was able to access the value, but only b/c I initialized  \n        public int b7 = 911; // the method.\n        \n        public void AddBusses (List&lt;Student&gt; StudentList2, List&lt;Bus2&gt; BusList3, List&lt;BusStop&gt; BusStopList2)\n        {\n            String Bus2;\n            String Name2;\n            String BusStop2;\n            \n            int StudentCount;\n            int BusStopCount;\n                    \n            System.out.println(&quot;__________&quot;);\n            System.out.println(&quot;Add Busses&quot;);\n            \n            \n            System.out.println(&quot;Enter the number of the new Bus:&quot;);         \n            Bus2 = Reader_B.nextLine();         \n            \n            Bus2 NewBus_B = new Bus2 (Bus2);\n            \n            BusList3.add(NewBus_B);\n            \n             int b2 = BusList3.size();\n            \n            System.out.println(&quot;The size of the array is &quot; + b2 + &quot;. The bus number is &quot; + NewBus_B.Bus + &quot;.&quot;);\n            \n            System.out.println(&quot;How many students ride Bus &quot; + Bus2 + &quot;?&quot;);         \n            StudentCount = Reader_B.nextInt();          \n            System.out.println(&quot;Enter the names of the &quot; + StudentCount + &quot; Students that ride Bus &quot; + Bus2 + &quot;.&quot;);\n            \n            Name2 = Reader_B.nextLine();\n            \n            for (int i = 0; i &lt; StudentCount; i++)\n            {\n                System.out.println(&quot;Student Name:&quot;);\n                Name2 = Reader_B.nextLine();\n                \n                Student NewStudent_B = new Student(Name2, Bus2);\n                \n                StudentList2.add(NewStudent_B); \n                \n                int b1 = StudentList2.size();\n                \n                System.out.println(&quot;the size of the array is &quot; + b1 + &quot;. The student's name is &quot; + NewStudent_B.Name + &quot; and their bus number is &quot; + NewStudent_B.BusNumber + &quot;.&quot;);\n                \n            }\n                    \n            System.out.println(&quot;\\nHow many Bus Stops does &quot; + Bus2 + &quot; stop at?&quot;);          \n            BusStopCount = Reader_B.nextInt();          \n            System.out.println(&quot;Enter the names of the &quot; + BusStopCount + &quot; Bus Stops that Bus &quot; + Bus2 + &quot; stops at.&quot;);\n            \n            BusStop2 = Reader_B.nextLine();\n            \n            for (int j = 0; j &lt; BusStopCount; j++)\n            {\n                System.out.println(&quot;Bus Stop Name:&quot;);\n                \n                BusStop2 = Reader_B.nextLine();\n                \n                BusStop NewBusStop_B = new BusStop(BusStop2, Bus2);\n                \n                BusStopList2.add(NewBusStop_B);\n                \n                int b3 = BusStopList2.size();\n                \n                System.out.println(&quot;The size of the array is &quot; + b3 + &quot;. The name of the new Bus Stop is &quot; + NewBusStop_B.BusStop + &quot;.&quot;);\n            }\n            \n            \n            \n            Bus NewBus = new Bus(StudentList2, BusList3, BusStopList2);\n            \n            BusList.add(NewBus);\n        \n            int b4 = BusList.size();\n            \n            System.out.println(&quot;The size of the array is &quot; + b4 + &quot;.&quot;);\n                    \n            \n            \n            \n        }\n        \n        \n</code></pre>\n"},{"tags":["java","android","authentication","httpurlconnection","ioexception"],"comments":[{"owner":{"account_id":2811020,"reputation":622,"user_id":2417273,"accept_rate":40,"display_name":"manivannan"},"score":0,"creation_date":1371649190,"post_id":17121213,"comment_id":24899149,"body_markdown":"String authString = &quot;username:password&quot;; this &quot;username:password&quot; should be equal to their strings i mean in Website developers model. for eg:they may used Loginid:password like that.","body":"String authString = &quot;username:password&quot;; this &quot;username:password&quot; should be equal to their strings i mean in Website developers model. for eg:they may used Loginid:password like that."},{"owner":{"account_id":2009568,"reputation":8280,"user_id":1798394,"accept_rate":68,"display_name":"Geek"},"score":0,"creation_date":1385478166,"post_id":17121213,"comment_id":30152780,"body_markdown":"@AsafK Reason was that HttpUrlConnection raise an exception for status code 400 and above. We need to handle this exception. In my case, I ended up using HttpClient instead of HttpUrlConnetion on account of its handling of all status codes.","body":"@AsafK Reason was that HttpUrlConnection raise an exception for status code 400 and above. We need to handle this exception. In my case, I ended up using HttpClient instead of HttpUrlConnetion on account of its handling of all status codes."},{"owner":{"account_id":3011799,"reputation":2435,"user_id":2555126,"accept_rate":45,"display_name":"AsafK"},"score":0,"creation_date":1385481038,"post_id":17121213,"comment_id":30154787,"body_markdown":"@Akash The 401 i was getting was because this is what im sending back in case the credentials are wrong. I was just wondering about the error message (&quot;No authentication challenges found.&quot;), which seems too generic to me. anyway, according to what you&#39;re saying an IOException will occur in that case which i need to handle. Thanks.","body":"@Akash The 401 i was getting was because this is what im sending back in case the credentials are wrong. I was just wondering about the error message (&quot;No authentication challenges found.&quot;), which seems too generic to me. anyway, according to what you&#39;re saying an IOException will occur in that case which i need to handle. Thanks."},{"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"score":0,"creation_date":1394126590,"post_id":17121213,"comment_id":33757626,"body_markdown":"were you able to fix it?","body":"were you able to fix it?"},{"owner":{"account_id":2009568,"reputation":8280,"user_id":1798394,"accept_rate":68,"display_name":"Geek"},"score":0,"creation_date":1394129000,"post_id":17121213,"comment_id":33759322,"body_markdown":"@blackbelt I don&#39;t exactly remember what the cause was. You can check if you are passing correct credentials. Or try usign `HttpClient` instead of `HttpUrlConnection`. I switched to that.","body":"@blackbelt I don&#39;t exactly remember what the cause was. You can check if you are passing correct credentials. Or try usign <code>HttpClient</code> instead of <code>HttpUrlConnection</code>. I switched to that."}],"answers":[{"tags":[],"owner":{"account_id":1777179,"reputation":1266,"user_id":1620738,"display_name":"UpLate"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1371293229,"creation_date":1371293229,"answer_id":17122797,"question_id":17121213,"body_markdown":"\r\nWhat version of Android are you testing on? \r\n\r\nI had difficulties with the Android authenticator during some development work on Gingerbread (I don&#39;t know if it behaves differently on later versions of Android). I used Fiddler2 to examine the HTTP traffic between my app and the server, discovering that the authenticator did not send out the authentication string for every HTTP request. I needed it to.\r\n\r\nInstead, I resorted to this:\r\n\r\n    urlConnection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + Base64.encodeToString(&quot;userid:pwd&quot;.getBytes(), Base64.NO_WRAP ));\r\n\r\n\r\nIt&#39;s a cut-and-paste from my code. Note that urlConnection is an HttpURLConnection object.\r\n\r\n","title":"java.io.IOException : No authentication challenges found","body":"<p>What version of Android are you testing on? </p>\n\n<p>I had difficulties with the Android authenticator during some development work on Gingerbread (I don't know if it behaves differently on later versions of Android). I used Fiddler2 to examine the HTTP traffic between my app and the server, discovering that the authenticator did not send out the authentication string for every HTTP request. I needed it to.</p>\n\n<p>Instead, I resorted to this:</p>\n\n<pre><code>urlConnection.setRequestProperty(\"Authorization\", \"Basic \" + Base64.encodeToString(\"userid:pwd\".getBytes(), Base64.NO_WRAP ));\n</code></pre>\n\n<p>It's a cut-and-paste from my code. Note that urlConnection is an HttpURLConnection object.</p>\n"},{"tags":[],"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1679864407,"creation_date":1391450095,"answer_id":21534175,"question_id":17121213,"body_markdown":"This error happens because the server sends a 401 (Unauthorized) but does not give a [`WWW-Authenticate`][1] header which is a hint to the client what to do next. The `WWW-Authenticate` header tells the client, which kind of authentication is needed (either [Basic][2] or [Digest][3]). This is probably not very useful in headless http clients, but that&#39;s how the [HTTP 1.1 RFC is defined][4]. The error occurs because the lib tries to parse the `WWW-Authenticate` header but can&#39;t.\r\n\r\nFrom the RFC:\r\n&gt; (...)The response MUST include a WWW-Authenticate header field (section\r\n&gt; 14.47) containing a challenge applicable to the requested resource.(...)\r\n\r\nPossible solutions if you **can** change the server:\r\n\r\n- Add a fake &quot;WWW-Authenticate&quot; header like: `WWW-Authenticate: Basic realm=&quot;fake&quot;`. This is a mere workaround not a solution, but it should work and the http client is satisfied ([see here a discussion of what you can put in the header][5]). But beware that some http clients may automatically retry the request resulting in multiple requests (e.g. increments the wrong login count too often). This was observed with the iOS http client.\r\n- As proposed by *loudvchar* in [this blog][6] to avoid automatic reactions to the challenge like a pop-up login form in a browser, you can use a non-standard authentication method like so: `WWW-Authenticate: xBasic realm=&quot;fake&quot;`. The important point is that the `realm` has to be included.\r\n- Use HTTP status code `403` instead of `401`. Its semantic is not the same and usually when working with login 401 is a correct response ([see here for a detailed discussion][7]) but the safer solution in terms of compatibility.\r\n\r\nPossible solutions if you **can&#39;t** change the server:\r\n\r\n* As @ErikZ wrote in his [post][8] you could use a try &amp; catch\r\n\r\n```java\r\nHttpURLConnection connection = ...;\r\ntry {\r\n    // Will throw IOException if server responds with 401.\r\n    connection.getResponseCode(); \r\n} catch (IOException e) {\r\n    // Will return 401, because now connection has the correct internal state.\r\n    int responsecode = connection.getResponseCode(); \r\n}\r\n```\r\n\r\n* Use different http client like [OkHttp][9]\r\n\r\n  [1]: https://en.wikipedia.org/wiki/List_of_HTTP_header_fields#Response_fields\r\n  [2]: http://en.wikipedia.org/wiki/Basic_access_authentication\r\n  [3]: http://en.wikipedia.org/wiki/Digest_access_authentication\r\n  [4]: http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.2\r\n  [5]: https://stackoverflow.com/questions/1748374/http-401-whats-an-appropriate-www-authenticate-header-value\r\n  [6]: http://loudvchar.blogspot.com.es/2010/11/avoiding-browser-popup-for-401.html\r\n  [7]: https://stackoverflow.com/questions/3297048/403-forbidden-vs-401-unauthorized-http-responses\r\n  [8]: https://stackoverflow.com/questions/12931791/java-io-ioexception-received-authentication-challenge-is-null-in-ics-4-0-3\r\n  [9]: http://square.github.io/okhttp/\r\n","title":"java.io.IOException : No authentication challenges found","body":"<p>This error happens because the server sends a 401 (Unauthorized) but does not give a <a href=\"https://en.wikipedia.org/wiki/List_of_HTTP_header_fields#Response_fields\" rel=\"nofollow noreferrer\"><code>WWW-Authenticate</code></a> header which is a hint to the client what to do next. The <code>WWW-Authenticate</code> header tells the client, which kind of authentication is needed (either <a href=\"http://en.wikipedia.org/wiki/Basic_access_authentication\" rel=\"nofollow noreferrer\">Basic</a> or <a href=\"http://en.wikipedia.org/wiki/Digest_access_authentication\" rel=\"nofollow noreferrer\">Digest</a>). This is probably not very useful in headless http clients, but that's how the <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.2\" rel=\"nofollow noreferrer\">HTTP 1.1 RFC is defined</a>. The error occurs because the lib tries to parse the <code>WWW-Authenticate</code> header but can't.</p>\n<p>From the RFC:</p>\n<blockquote>\n<p>(...)The response MUST include a WWW-Authenticate header field (section\n14.47) containing a challenge applicable to the requested resource.(...)</p>\n</blockquote>\n<p>Possible solutions if you <strong>can</strong> change the server:</p>\n<ul>\n<li>Add a fake &quot;WWW-Authenticate&quot; header like: <code>WWW-Authenticate: Basic realm=&quot;fake&quot;</code>. This is a mere workaround not a solution, but it should work and the http client is satisfied (<a href=\"https://stackoverflow.com/questions/1748374/http-401-whats-an-appropriate-www-authenticate-header-value\">see here a discussion of what you can put in the header</a>). But beware that some http clients may automatically retry the request resulting in multiple requests (e.g. increments the wrong login count too often). This was observed with the iOS http client.</li>\n<li>As proposed by <em>loudvchar</em> in <a href=\"http://loudvchar.blogspot.com.es/2010/11/avoiding-browser-popup-for-401.html\" rel=\"nofollow noreferrer\">this blog</a> to avoid automatic reactions to the challenge like a pop-up login form in a browser, you can use a non-standard authentication method like so: <code>WWW-Authenticate: xBasic realm=&quot;fake&quot;</code>. The important point is that the <code>realm</code> has to be included.</li>\n<li>Use HTTP status code <code>403</code> instead of <code>401</code>. Its semantic is not the same and usually when working with login 401 is a correct response (<a href=\"https://stackoverflow.com/questions/3297048/403-forbidden-vs-401-unauthorized-http-responses\">see here for a detailed discussion</a>) but the safer solution in terms of compatibility.</li>\n</ul>\n<p>Possible solutions if you <strong>can't</strong> change the server:</p>\n<ul>\n<li>As @ErikZ wrote in his <a href=\"https://stackoverflow.com/questions/12931791/java-io-ioexception-received-authentication-challenge-is-null-in-ics-4-0-3\">post</a> you could use a try &amp; catch</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>HttpURLConnection connection = ...;\ntry {\n    // Will throw IOException if server responds with 401.\n    connection.getResponseCode(); \n} catch (IOException e) {\n    // Will return 401, because now connection has the correct internal state.\n    int responsecode = connection.getResponseCode(); \n}\n</code></pre>\n<ul>\n<li>Use different http client like <a href=\"http://square.github.io/okhttp/\" rel=\"nofollow noreferrer\">OkHttp</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1748338,"reputation":808,"user_id":1598022,"accept_rate":100,"display_name":"Leo K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1443023461,"creation_date":1443020158,"answer_id":32742940,"question_id":17121213,"body_markdown":"I had the same issue on devices running pre-KitKat Android, but I was using the Volley library so the client side fix provided by @for3st didn&#39;t work for me, I had to adjust it for Volley, here it is, hope it helps someone struggling with this problem:\r\n\r\n    HurlStack hurlStack = new HurlStack() {\r\n                @Override\r\n                public HttpResponse performRequest(final Request&lt;?&gt; request, final Map&lt;String, String&gt; additionalHeaders) throws IOException, AuthFailureError {\r\n                    try {\r\n                        return super.performRequest(request, additionalHeaders);\r\n                    } catch (IOException e) {\r\n                        return new BasicHttpResponse(new ProtocolVersion(&quot;HTTP&quot;, 1, 1), 401, e.getMessage());\r\n                    }\r\n                }\r\n            };\r\n\r\n    Volley.newRequestQueue(context.getApplicationContext(), hurlStack);\r\n\r\nThis way a 401 error is returned and your retry policy can do it&#39;s job (e.g. request token... etc...). Although IOException could be caused by some other problem, other then a 401, so you could opt for parsing the exception message for Authorization keyword, and return a different response code for others.","title":"java.io.IOException : No authentication challenges found","body":"<p>I had the same issue on devices running pre-KitKat Android, but I was using the Volley library so the client side fix provided by @for3st didn't work for me, I had to adjust it for Volley, here it is, hope it helps someone struggling with this problem:</p>\n\n<pre><code>HurlStack hurlStack = new HurlStack() {\n            @Override\n            public HttpResponse performRequest(final Request&lt;?&gt; request, final Map&lt;String, String&gt; additionalHeaders) throws IOException, AuthFailureError {\n                try {\n                    return super.performRequest(request, additionalHeaders);\n                } catch (IOException e) {\n                    return new BasicHttpResponse(new ProtocolVersion(\"HTTP\", 1, 1), 401, e.getMessage());\n                }\n            }\n        };\n\nVolley.newRequestQueue(context.getApplicationContext(), hurlStack);\n</code></pre>\n\n<p>This way a 401 error is returned and your retry policy can do it's job (e.g. request token... etc...). Although IOException could be caused by some other problem, other then a 401, so you could opt for parsing the exception message for Authorization keyword, and return a different response code for others.</p>\n"},{"tags":[],"owner":{"account_id":1384833,"reputation":3051,"user_id":1317086,"display_name":"GregoryK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1448350475,"creation_date":1448350475,"answer_id":33887814,"question_id":17121213,"body_markdown":"Had the same issue on some old devices (Huawei Y330-U11 for instance). Correct way to fix it is to fix it server side as mentioned in the most popular answer.\r\n\r\nHowever, it&#39;s really disappointing that the issue occurs only on *some* devices. And I believe it happens due to different implementations of &quot;UrlConnection&quot;. Different Android versions - different &quot;UrlConnection&quot; implementations.\r\n\r\nSo, you might want to fix it by using the same &quot;UrlConnection&quot; everywhere. Try to use okhttp and okhttp-urlconnection.\r\n\r\nHere is the way to add those libs to your gradle build:\r\n\r\n    compile &#39;com.squareup.okhttp:okhttp:2.5.0&#39;\r\n    compile &#39;com.squareup.okhttp:okhttp-urlconnection:2.5.0&#39;\r\n\r\nIt solved the problem for me on those outdated devices. (I had to use OkClient for Retrofit RestAdapter)\r\n\r\nP.S. Latest Androids at time of writing use old version of OKHTTP library internally as &quot;UrlConnection&quot; implemetation (with updated package names), so it seems to be quite solid thing","title":"java.io.IOException : No authentication challenges found","body":"<p>Had the same issue on some old devices (Huawei Y330-U11 for instance). Correct way to fix it is to fix it server side as mentioned in the most popular answer.</p>\n\n<p>However, it's really disappointing that the issue occurs only on <em>some</em> devices. And I believe it happens due to different implementations of \"UrlConnection\". Different Android versions - different \"UrlConnection\" implementations.</p>\n\n<p>So, you might want to fix it by using the same \"UrlConnection\" everywhere. Try to use okhttp and okhttp-urlconnection.</p>\n\n<p>Here is the way to add those libs to your gradle build:</p>\n\n<pre><code>compile 'com.squareup.okhttp:okhttp:2.5.0'\ncompile 'com.squareup.okhttp:okhttp-urlconnection:2.5.0'\n</code></pre>\n\n<p>It solved the problem for me on those outdated devices. (I had to use OkClient for Retrofit RestAdapter)</p>\n\n<p>P.S. Latest Androids at time of writing use old version of OKHTTP library internally as \"UrlConnection\" implemetation (with updated package names), so it seems to be quite solid thing</p>\n"},{"tags":[],"owner":{"account_id":11166583,"reputation":1442,"user_id":8195076,"display_name":"Wowo Ot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545157731,"creation_date":1545157731,"answer_id":53839075,"question_id":17121213,"body_markdown":"you can use something like this\r\n\r\n    catch (IOException ex) {\r\n            if(ex.getMessage().toString().toLowerCase().equals((&quot;No authentication challenges found&quot;).toLowerCase()))\r\n    // re-generate the authentication Token\r\n                 }\r\n","title":"java.io.IOException : No authentication challenges found","body":"<p>you can use something like this</p>\n\n<pre><code>catch (IOException ex) {\n        if(ex.getMessage().toString().toLowerCase().equals((\"No authentication challenges found\").toLowerCase()))\n// re-generate the authentication Token\n             }\n</code></pre>\n"}],"owner":{"account_id":2009568,"reputation":8280,"user_id":1798394,"accept_rate":68,"display_name":"Geek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33860,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":5,"score":24,"last_activity_date":1679864407,"creation_date":1371280954,"question_id":17121213,"body_markdown":"I am newbie to android and this is my first project on android. I am struggling with &quot;authentication&quot; problem for more than a day. I tried several options but none of them worked. \r\n\r\nBasically, I want to call a REST API and get response. I am sure that there is no problem in API as I use the same one in another iOS application.\r\n\r\nI pass authorization header but still authentication no found message is shown. I found few question on stackoverflow related to this, but some of them did not work and some does not make sense to me.&lt;br&gt;&lt;br&gt;\r\nI get status code `401`. I know this means either no authentication passed or if passed, then they are wrong. Here, I am sure my passed ones are correct. \r\n\r\nBelow is my code :\r\n\r\n\r\n\r\n    try {\r\n    \turl = new URL(baseUrl);\r\n    }\r\n    catch (MalformedURLException me) {\r\n         Log.e(TAG, &quot;URL could not be parsed. URL : &quot; + baseUrl + &quot;. Line : &quot; + getLineNumber(), me);\r\n         me.printStackTrace();\r\n    }\r\n    \r\n    try {\r\n    \turlConnection = (HttpURLConnection) url.openConnection();\r\n    \turlConnection.setRequestMethod(method); \r\n    \turlConnection.setConnectTimeout(TIMEOUT * 1000);\r\n    \turlConnection.setChunkedStreamingMode(0);\r\n    \r\n    \t// Set HTTP headers    \t\t\t\t\r\n    \tString authString = &quot;username:password&quot;;\r\n        String base64Auth = Base64.encodeToString(authString.getBytes(), Base64.DEFAULT);\r\n        urlConnection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + base64Auth);\r\n        urlConnection.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n        urlConnection.setRequestProperty(&quot;Content-type&quot;, &quot;application/json&quot;);\r\n    \r\n    \tif (method.equals(&quot;POST&quot;) || method.equals(&quot;PUT&quot;)) {\r\n            // Set to true when posting data\r\n    \t\turlConnection.setDoOutput(true);\r\n    \r\n    \t\t// Write data to post to connection output stream\r\n    \t    OutputStream out = urlConnection.getOutputStream();\r\n    \t    out.write(postParameters.getBytes(&quot;UTF-8&quot;));\r\n  \t    }\r\n    \r\n    \ttry {\r\n    \t\t// Get response\r\n    \t\tin = new BufferedInputStream(urlConnection.getInputStream());\r\n    \t}\r\n    \tcatch (IOException e) {\r\n    \t\tLog.e(TAG, &quot;Exception in getting connection input stream. in : &quot; + in);\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t}\r\n    \r\n    \t// Read the input stream that has response\r\n    \tstatusCode = urlConnection.getResponseCode();\r\n    \tLog.d(TAG, &quot;Status code : &quot; + statusCode);\r\n    }\r\n    catch (ProtocolException pe) {\r\n\t    pe.printStackTrace();\r\n    }\r\n    catch (IllegalStateException ie) {\r\n\t    ie.printStackTrace();\r\n    }\r\n    catch (IOException e) {\r\n\t    e.printStackTrace();\r\n    }\t\r\n    finally {\r\n\t    urlConnection.disconnect();\r\n    }\r\n\r\n&lt;br&gt;\r\nLook at **screenshot of logcat :**&lt;br&gt;&lt;br&gt;\r\n![logcat][1]\r\n\r\nAny help would be appreciated. Thank you.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/mVXpN.png","title":"java.io.IOException : No authentication challenges found","body":"<p>I am newbie to android and this is my first project on android. I am struggling with \"authentication\" problem for more than a day. I tried several options but none of them worked. </p>\n\n<p>Basically, I want to call a REST API and get response. I am sure that there is no problem in API as I use the same one in another iOS application.</p>\n\n<p>I pass authorization header but still authentication no found message is shown. I found few question on stackoverflow related to this, but some of them did not work and some does not make sense to me.<br><br>\nI get status code <code>401</code>. I know this means either no authentication passed or if passed, then they are wrong. Here, I am sure my passed ones are correct. </p>\n\n<p>Below is my code :</p>\n\n<pre><code>try {\n    url = new URL(baseUrl);\n}\ncatch (MalformedURLException me) {\n     Log.e(TAG, \"URL could not be parsed. URL : \" + baseUrl + \". Line : \" + getLineNumber(), me);\n     me.printStackTrace();\n}\n\ntry {\n    urlConnection = (HttpURLConnection) url.openConnection();\n    urlConnection.setRequestMethod(method); \n    urlConnection.setConnectTimeout(TIMEOUT * 1000);\n    urlConnection.setChunkedStreamingMode(0);\n\n    // Set HTTP headers                 \n    String authString = \"username:password\";\n    String base64Auth = Base64.encodeToString(authString.getBytes(), Base64.DEFAULT);\n    urlConnection.setRequestProperty(\"Authorization\", \"Basic \" + base64Auth);\n    urlConnection.setRequestProperty(\"Accept\", \"application/json\");\n    urlConnection.setRequestProperty(\"Content-type\", \"application/json\");\n\n    if (method.equals(\"POST\") || method.equals(\"PUT\")) {\n        // Set to true when posting data\n        urlConnection.setDoOutput(true);\n\n        // Write data to post to connection output stream\n        OutputStream out = urlConnection.getOutputStream();\n        out.write(postParameters.getBytes(\"UTF-8\"));\n    }\n\n    try {\n        // Get response\n        in = new BufferedInputStream(urlConnection.getInputStream());\n    }\n    catch (IOException e) {\n        Log.e(TAG, \"Exception in getting connection input stream. in : \" + in);\n                    e.printStackTrace();\n    }\n\n    // Read the input stream that has response\n    statusCode = urlConnection.getResponseCode();\n    Log.d(TAG, \"Status code : \" + statusCode);\n}\ncatch (ProtocolException pe) {\n    pe.printStackTrace();\n}\ncatch (IllegalStateException ie) {\n    ie.printStackTrace();\n}\ncatch (IOException e) {\n    e.printStackTrace();\n}   \nfinally {\n    urlConnection.disconnect();\n}\n</code></pre>\n\n<p><br>\nLook at <strong>screenshot of logcat :</strong><br><br>\n<img src=\"https://i.stack.imgur.com/mVXpN.png\" alt=\"logcat\"></p>\n\n<p>Any help would be appreciated. Thank you.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9214,"reputation":141402,"user_id":16940,"accept_rate":61,"display_name":"Simon_Weaver"},"score":1,"creation_date":1485897984,"post_id":3124179,"comment_id":71114341,"body_markdown":"btw: I think the intent of your question is pretty obvious despite what people said","body":"btw: I think the intent of your question is pretty obvious despite what people said"}],"answers":[{"tags":[],"owner":{"account_id":27626,"reputation":346906,"user_id":73070,"accept_rate":81,"display_name":"Joey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1277562853,"creation_date":1277562348,"answer_id":3124191,"question_id":3124179,"body_markdown":"I&#39;m not exactly sure what you&#39;re aiming at with this. The general expectation of equals() is that it returns `false` for `null` and objects of other classes and performs value equality on the relevant fields of the class in question.\r\n\r\nWhile you can certainly handle `String` and `Integer` in the following way:\r\n\r\n    public boolean equals(Object o) {\r\n      if (o == null) return false;\r\n      if (o instanceof String) return name.equals(o);\r\n      if (o instanceof Integer) return ((Integer)o) == age;\r\n      ...\r\n    }\r\n\r\nthis breaks the contract for `equals` so you *can&#39;t* do it (except not without things going wrong in very weird ways).\r\n\r\n`equals` is an [equivalence relation](http://en.wikipedia.org/wiki/Equivalence_relation), so it has to be reflexive, symmetric and transitive. The symmetric part here is key, since if `a.equals(b)` then `b.equals(a)`. Both `String` and `Integer` won&#39;t do that for you.\r\n\r\nIf you want just helper functions that check whether the name or the age is equals to a given name/age, then you can do that without using `equals()`:\r\n\r\n    public boolean equalsName(String name) { return name.equals(this.name); }\r\n    public boolean equalsAge(int age) { return age == this.age; }","title":"How to define multiple equals() function for a class","body":"<p>I'm not exactly sure what you're aiming at with this. The general expectation of equals() is that it returns <code>false</code> for <code>null</code> and objects of other classes and performs value equality on the relevant fields of the class in question.</p>\n\n<p>While you can certainly handle <code>String</code> and <code>Integer</code> in the following way:</p>\n\n<pre><code>public boolean equals(Object o) {\n  if (o == null) return false;\n  if (o instanceof String) return name.equals(o);\n  if (o instanceof Integer) return ((Integer)o) == age;\n  ...\n}\n</code></pre>\n\n<p>this breaks the contract for <code>equals</code> so you <em>can't</em> do it (except not without things going wrong in very weird ways).</p>\n\n<p><code>equals</code> is an <a href=\"http://en.wikipedia.org/wiki/Equivalence_relation\" rel=\"nofollow noreferrer\">equivalence relation</a>, so it has to be reflexive, symmetric and transitive. The symmetric part here is key, since if <code>a.equals(b)</code> then <code>b.equals(a)</code>. Both <code>String</code> and <code>Integer</code> won't do that for you.</p>\n\n<p>If you want just helper functions that check whether the name or the age is equals to a given name/age, then you can do that without using <code>equals()</code>:</p>\n\n<pre><code>public boolean equalsName(String name) { return name.equals(this.name); }\npublic boolean equalsAge(int age) { return age == this.age; }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":144735,"reputation":9875,"user_id":354009,"accept_rate":92,"display_name":"Igor Popov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1277564512,"creation_date":1277563120,"answer_id":3124227,"question_id":3124179,"body_markdown":"Just keep it short and simple (aka **KISS** principle): write **setters** and **getters**. Something like in the following example:  \r\n\r\n    public class Person {  \r\n      private String name;  \r\n      private int age;  \r\n    \r\n    public String getName() {  \r\n      return name;  \r\n    }\r\n      \r\n    public int getAge() {  \r\n      return age;  \r\n    }\r\n\r\nAnd then in the method you need to do the check you can write:\r\n\r\n    Person person = new Person();\r\n    if(person.getName().equals(&quot;Something&quot;)) doThis();\r\n    if(person.getAge() == 1337) doThat();","title":"How to define multiple equals() function for a class","body":"<p>Just keep it short and simple (aka <strong>KISS</strong> principle): write <strong>setters</strong> and <strong>getters</strong>. Something like in the following example:  </p>\n\n<pre><code>public class Person {  \n  private String name;  \n  private int age;  \n\npublic String getName() {  \n  return name;  \n}\n\npublic int getAge() {  \n  return age;  \n}\n</code></pre>\n\n<p>And then in the method you need to do the check you can write:</p>\n\n<pre><code>Person person = new Person();\nif(person.getName().equals(\"Something\")) doThis();\nif(person.getAge() == 1337) doThat();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19061,"reputation":185736,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1277564233,"creation_date":1277563920,"answer_id":3124280,"question_id":3124179,"body_markdown":"if you do want to override equals, it should look something like this:\r\n\r\n    static private &lt;T&gt; boolean checkEquals(T t1, T t2)\r\n    {\r\n       return (t1 == null) ? (t2 == null) : t1.equals(t2);\r\n    }\r\n    @Override public boolean equals (Object o)\r\n    {\r\n       if (o instanceof MyObject)\r\n       {\r\n         MyObject obj = (MyObject)o;\r\n         return checkEquals(this.name, obj.getName()) \r\n             &amp;&amp; this.age == o.getAge();\r\n       }\r\n       else\r\n         return false;\r\n    }\r\n\r\n    @Override public int hashCode() \r\n    {\r\n       // implement hashCode\r\n    }\r\n    \r\n\r\nYou need to override *both* hashCode() and equals() or neither. [And you also should make sure your class is `final`, otherwise there are potential pitfalls with equals][1].\r\n\r\n\r\n  [1]: http://www.drdobbs.com/184405053","title":"How to define multiple equals() function for a class","body":"<p>if you do want to override equals, it should look something like this:</p>\n\n<pre><code>static private &lt;T&gt; boolean checkEquals(T t1, T t2)\n{\n   return (t1 == null) ? (t2 == null) : t1.equals(t2);\n}\n@Override public boolean equals (Object o)\n{\n   if (o instanceof MyObject)\n   {\n     MyObject obj = (MyObject)o;\n     return checkEquals(this.name, obj.getName()) \n         &amp;&amp; this.age == o.getAge();\n   }\n   else\n     return false;\n}\n\n@Override public int hashCode() \n{\n   // implement hashCode\n}\n</code></pre>\n\n<p>You need to override <em>both</em> hashCode() and equals() or neither. <a href=\"http://www.drdobbs.com/184405053\" rel=\"nofollow noreferrer\">And you also should make sure your class is <code>final</code>, otherwise there are potential pitfalls with equals</a>.</p>\n"},{"tags":[],"owner":{"account_id":50238,"reputation":74702,"user_id":149808,"accept_rate":81,"display_name":"ZZ Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1277563947,"creation_date":1277563947,"answer_id":3124283,"question_id":3124179,"body_markdown":"Not sure what you mean by &quot;multiple equals()&quot;. If you want compare both your fields, you just need to override the equals method like this,\r\n\r\n\r\n    public boolean equals( Object o )\r\n    {\r\n        if ( o != null &amp;&amp; o instanceof MyObject )\r\n        {\r\n            MyObject m = (MyObject) o;\r\n            if (this.name == null)\r\n                return false;\r\n            return this.name.eqauls(m.name) &amp;&amp; this.age == m.age;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /// Compute a hash code for the pair.\r\n    public int hashCode()\r\n    {\r\n        int code = name == null ? 0 : name.hashCode();\r\n        return code ^ age;\r\n    }\r\n\r\nIt&#39;s a good practice to change hashCode whenever you change equals so HashMap works efficiently with your object.\r\n","title":"How to define multiple equals() function for a class","body":"<p>Not sure what you mean by \"multiple equals()\". If you want compare both your fields, you just need to override the equals method like this,</p>\n\n<pre><code>public boolean equals( Object o )\n{\n    if ( o != null &amp;&amp; o instanceof MyObject )\n    {\n        MyObject m = (MyObject) o;\n        if (this.name == null)\n            return false;\n        return this.name.eqauls(m.name) &amp;&amp; this.age == m.age;\n    }\n    return false;\n}\n\n/// Compute a hash code for the pair.\npublic int hashCode()\n{\n    int code = name == null ? 0 : name.hashCode();\n    return code ^ age;\n}\n</code></pre>\n\n<p>It's a good practice to change hashCode whenever you change equals so HashMap works efficiently with your object.</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1277565058,"creation_date":1277563971,"answer_id":3124285,"question_id":3124179,"body_markdown":"Your question is a bit vague, but if the sole purpose is to have different sorting algorithms depending on what property you&#39;d like to use, then rather use a [`Comparator`][1].\n\n    public class Person {\n        private String name;\n        private int age;\n\n        public static Comparator COMPARE_BY_NAME = new Comparator&lt;Person&gt;() {\n            public int compare(Person one, Person other) {\n                return one.name.compareTo(other.name);\n            }\n        }\n\n        public static Comparator COMPARE_BY_AGE = new Comparator&lt;Person&gt;() {\n            public int compare(Person one, Person other) {\n                return one.age &gt; other.age ? 1\n                     : one.age &lt; other.age ? -1\n                     : 0; // Maybe compare by name here? I.e. if same age, then order by name instead.\n            }\n        }\n\n        // Add/generate getters/setters/equals()/hashCode()/toString()\n    }\n\nwhich you can use as follows:\n\n    List&lt;Person&gt; persons = createItSomehow();\n\n    Collections.sort(persons, Person.COMPARE_BY_NAME);\n    System.out.println(persons); // Ordered by name.\n\n    Collections.sort(persons, Person.COMPARE_BY_AGE);\n    System.out.println(persons); // Ordered by age.\n\nAs to the actual `equals()` implementation, I&#39;d rather let it return true when the both `Person` objects are techically or naturally identical. You can use either a DB-generated PK for this to compare on technical identity:\n\n    public class Person {\n        private Long id;\n\n        public boolean equals(Object object) {\n            return (object instanceof Person) &amp;&amp; (id != null) \n                 ? id.equals(((Person) object).id) \n                 : (object == this);\n        }\n    }\n\nor just compare every property to compare on natural identity:\n\n    public class Person {\n        private String name;\n        private int age;\n\n        public boolean equals(Object object) {\n            // Basic checks.\n            if (object == this) return true;\n            if (object == null || getClass() != object.getClass()) return false;\n\n            // Property checks.\n            Person other = (Person) object;\n            if (name == null ? other.name != null : !name.equals(other.name)) return false;\n            if (age != other.age) return false;\n\n            // All passed.\n            return true;\n        }\n    }\n\nDon&#39;t forget to override `hashCode()` as well when you override `equals()`.\n\n### See also:\n\n- [Object ordering][2]\n- [Sorting an ArrayList of objects][3]\n- [Overriding `equals()` and `hashCode()`][4]\n\n\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Comparator.html\n  [2]: http://java.sun.com/docs/books/tutorial/collections/interfaces/order.html\n  [3]: https://stackoverflow.com/questions/1814095/sorting-an-arraylist-of-contacts\n  [4]: https://stackoverflow.com/questions/27581/overriding-equals-and-hashcode-in-java","title":"How to define multiple equals() function for a class","body":"<p>Your question is a bit vague, but if the sole purpose is to have different sorting algorithms depending on what property you'd like to use, then rather use a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a>.</p>\n<pre><code>public class Person {\n    private String name;\n    private int age;\n\n    public static Comparator COMPARE_BY_NAME = new Comparator&lt;Person&gt;() {\n        public int compare(Person one, Person other) {\n            return one.name.compareTo(other.name);\n        }\n    }\n\n    public static Comparator COMPARE_BY_AGE = new Comparator&lt;Person&gt;() {\n        public int compare(Person one, Person other) {\n            return one.age &gt; other.age ? 1\n                 : one.age &lt; other.age ? -1\n                 : 0; // Maybe compare by name here? I.e. if same age, then order by name instead.\n        }\n    }\n\n    // Add/generate getters/setters/equals()/hashCode()/toString()\n}\n</code></pre>\n<p>which you can use as follows:</p>\n<pre><code>List&lt;Person&gt; persons = createItSomehow();\n\nCollections.sort(persons, Person.COMPARE_BY_NAME);\nSystem.out.println(persons); // Ordered by name.\n\nCollections.sort(persons, Person.COMPARE_BY_AGE);\nSystem.out.println(persons); // Ordered by age.\n</code></pre>\n<p>As to the actual <code>equals()</code> implementation, I'd rather let it return true when the both <code>Person</code> objects are techically or naturally identical. You can use either a DB-generated PK for this to compare on technical identity:</p>\n<pre><code>public class Person {\n    private Long id;\n\n    public boolean equals(Object object) {\n        return (object instanceof Person) &amp;&amp; (id != null) \n             ? id.equals(((Person) object).id) \n             : (object == this);\n    }\n}\n</code></pre>\n<p>or just compare every property to compare on natural identity:</p>\n<pre><code>public class Person {\n    private String name;\n    private int age;\n\n    public boolean equals(Object object) {\n        // Basic checks.\n        if (object == this) return true;\n        if (object == null || getClass() != object.getClass()) return false;\n\n        // Property checks.\n        Person other = (Person) object;\n        if (name == null ? other.name != null : !name.equals(other.name)) return false;\n        if (age != other.age) return false;\n\n        // All passed.\n        return true;\n    }\n}\n</code></pre>\n<p>Don't forget to override <code>hashCode()</code> as well when you override <code>equals()</code>.</p>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"http://java.sun.com/docs/books/tutorial/collections/interfaces/order.html\" rel=\"nofollow noreferrer\">Object ordering</a></li>\n<li><a href=\"https://stackoverflow.com/questions/1814095/sorting-an-arraylist-of-contacts\">Sorting an ArrayList of objects</a></li>\n<li><a href=\"https://stackoverflow.com/questions/27581/overriding-equals-and-hashcode-in-java\">Overriding <code>equals()</code> and <code>hashCode()</code></a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":87389,"reputation":3946,"user_id":242345,"accept_rate":92,"display_name":"Nulldevice"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1277567371,"creation_date":1277567058,"answer_id":3124439,"question_id":3124179,"body_markdown":"    public class MyObject { \r\n    \tprivate String name; \r\n        private int age; \r\n    \t\r\n    \t@Override\r\n    \tpublic boolean equals(Object o){\r\n    \t\tif(o instanceof MyObject){\r\n    \t\t\tMyObject otherObject = (MyObject)o;\r\n    \t\t\tif(name == null){\r\n    \t\t\t\treturn otherObject.name == null &amp;&amp; otherObject.age == age;\r\n    \t\t\t} else {\r\n    \t\t\t\treturn name.equals(otherObject.name) &amp;&amp; otherObject.age == age;\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t// When we overriding equals it is a good practice to override hashCode\r\n    \t// for consistecy\r\n    \t@Override\r\n    \tpublic int hashCode(){\r\n    \t\tint nameCode = (name == null) ? 0 : name.hashCode();\r\n    \t\t// See Item 9 in book Effective Java 2nd Edition\r\n    \t\treturn 31 * nameCode + age;\r\n    \t}\r\n    \r\n    } ","title":"How to define multiple equals() function for a class","body":"<pre><code>public class MyObject { \n    private String name; \n    private int age; \n\n    @Override\n    public boolean equals(Object o){\n        if(o instanceof MyObject){\n            MyObject otherObject = (MyObject)o;\n            if(name == null){\n                return otherObject.name == null &amp;&amp; otherObject.age == age;\n            } else {\n                return name.equals(otherObject.name) &amp;&amp; otherObject.age == age;\n            }\n        } else {\n            return false;\n        }\n    }\n\n    // When we overriding equals it is a good practice to override hashCode\n    // for consistecy\n    @Override\n    public int hashCode(){\n        int nameCode = (name == null) ? 0 : name.hashCode();\n        // See Item 9 in book Effective Java 2nd Edition\n        return 31 * nameCode + age;\n    }\n\n} \n</code></pre>\n"}],"owner":{"account_id":138777,"reputation":1173,"user_id":343929,"accept_rate":75,"display_name":"Zeeshan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10750,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":3124285,"answer_count":6,"score":6,"last_activity_date":1679864346,"creation_date":1277562150,"question_id":3124179,"body_markdown":"I want to override &quot;public boolean equals(Object obj)&quot; function, for name and age, in my class named MyObject whose structure is given below\r\n\r\n    public class MyObject{\r\n           private String name;\r\n           private int age;\r\n    }\r\n\r\nHow can i ?\r\n\r\n\r\n@balusC :\r\n\r\nWhat about this ?\r\n\r\n\r\n    vo  = new MyObject() {\r\n                        public boolean equals(Object obj) {\r\n                            return ((MyObject)obj).name().equals(this.getName());\r\n    \r\n                        }\r\n    \r\n    \r\n    vo  = new MyObject() {\r\n                        public boolean equals(Object obj) {\r\n                            return ((MyObject)obj).age() == (this.getAge());\r\n\r\n","title":"How to define multiple equals() function for a class","body":"<p>I want to override \"public boolean equals(Object obj)\" function, for name and age, in my class named MyObject whose structure is given below</p>\n\n<pre><code>public class MyObject{\n       private String name;\n       private int age;\n}\n</code></pre>\n\n<p>How can i ?</p>\n\n<p>@balusC :</p>\n\n<p>What about this ?</p>\n\n<pre><code>vo  = new MyObject() {\n                    public boolean equals(Object obj) {\n                        return ((MyObject)obj).name().equals(this.getName());\n\n                    }\n\n\nvo  = new MyObject() {\n                    public boolean equals(Object obj) {\n                        return ((MyObject)obj).age() == (this.getAge());\n</code></pre>\n"},{"tags":["java","sql","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1679859501,"post_id":75849956,"comment_id":133792198,"body_markdown":"language is 2 character type. Filtering with integer=3 seams to be wrong.","body":"language is 2 character type. Filtering with integer=3 seams to be wrong."},{"owner":{"account_id":2927787,"reputation":1363,"user_id":2508770,"accept_rate":94,"display_name":"Emax"},"score":0,"creation_date":1679859949,"post_id":75849956,"comment_id":133792258,"body_markdown":"@Mar-Z sorry the image is wrong language is now an integer, but the problem persist","body":"@Mar-Z sorry the image is wrong language is now an integer, but the problem persist"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1679860568,"post_id":75849956,"comment_id":133792377,"body_markdown":"Please show the other entity classes. And remove the image if it is wrong.","body":"Please show the other entity classes. And remove the image if it is wrong."},{"owner":{"account_id":2927787,"reputation":1363,"user_id":2508770,"accept_rate":94,"display_name":"Emax"},"score":0,"creation_date":1679861385,"post_id":75849956,"comment_id":133792502,"body_markdown":"@Mar-Z it&#39;s all up to date now","body":"@Mar-Z it&#39;s all up to date now"}],"answers":[{"tags":[],"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679858563,"creation_date":1679858563,"answer_id":75850037,"question_id":75849956,"body_markdown":"Basically `@Filter` and `@FilterDef` feature applies the filter definition to a mapped column of the table mapped by the entity class. Fortunately it also works on assotiation tables, but it needs some modification.\r\n\r\nUse `@FilterJoinTable` annotation to specify filters on assotiation(s).\r\n\r\n```java\r\n@Entity\r\n@FilterDef(name = &quot;langfilter&quot;, parameters = {\r\n        @ParamDef(name = &quot;langid&quot;, type = Integer.class)\r\n)}\r\npublic class Post implements Identifiable, Serializable {\r\n\r\n    @Id\r\n    @Column\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer identifier;\r\n\r\n    // ...\r\n\r\n    @OneToMany(fetch = FetchType.EAGER)\r\n    @FilterJoinTable(name = &quot;langFilter&quot;, condition = &quot;language = :langid&quot;)\r\n    @JoinColumn(name = &quot;key&quot;, referencedColumnName = &quot;name&quot;, insertable = false, updatable = false)\r\n    private List&lt;TranslationValue&gt; nameTranslations;\r\n\r\n    // ...\r\n\r\n}\r\n```","title":"Hibernate&#39;s @Filter is getting ignored","body":"<p>Basically <code>@Filter</code> and <code>@FilterDef</code> feature applies the filter definition to a mapped column of the table mapped by the entity class. Fortunately it also works on assotiation tables, but it needs some modification.</p>\n<p>Use <code>@FilterJoinTable</code> annotation to specify filters on assotiation(s).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@FilterDef(name = &quot;langfilter&quot;, parameters = {\n        @ParamDef(name = &quot;langid&quot;, type = Integer.class)\n)}\npublic class Post implements Identifiable, Serializable {\n\n    @Id\n    @Column\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer identifier;\n\n    // ...\n\n    @OneToMany(fetch = FetchType.EAGER)\n    @FilterJoinTable(name = &quot;langFilter&quot;, condition = &quot;language = :langid&quot;)\n    @JoinColumn(name = &quot;key&quot;, referencedColumnName = &quot;name&quot;, insertable = false, updatable = false)\n    private List&lt;TranslationValue&gt; nameTranslations;\n\n    // ...\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679863572,"creation_date":1679863572,"answer_id":75850467,"question_id":75849956,"body_markdown":"Hibernate using different fetching strategies to retrieve entities.\r\n\r\nIn this case the important strategeis are *direct fetching* and *entity queries*.\r\n\r\nDue to a limitation of `@Filter` feature Hibernate only applies filters to *entity queries*. \r\n\r\n```java\r\nentityManager\r\n    .unwrap(Session.class);\r\n    .enableFilter(&quot;langfilter&quot;)\r\n    .setParameter(&quot;langid&quot;, 3);\r\n\r\n// Using direct fetching strategy - filter won&#39;t apply\r\nvar post = entityManager.find(Post.class, 1));\r\n```\r\nTo apply filter entity queries strategy should used.\r\n\r\n```java\r\nentityManager\r\n    .unwrap(Session.class);\r\n    .enableFilter(&quot;langfilter&quot;)\r\n    .setParameter(&quot;langid&quot;, 3);\r\n\r\n// Using entity queries strategy - filter will apply\r\nvar post = entityManager.createQuery(&quot;select p from Post p where id = :id&quot;)\r\n    .setParameter(&quot;id&quot;, 1)\r\n    .getSingleResult();\r\n```\r\n\r\n\r\n","title":"Hibernate&#39;s @Filter is getting ignored","body":"<p>Hibernate using different fetching strategies to retrieve entities.</p>\n<p>In this case the important strategeis are <em>direct fetching</em> and <em>entity queries</em>.</p>\n<p>Due to a limitation of <code>@Filter</code> feature Hibernate only applies filters to <em>entity queries</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>entityManager\n    .unwrap(Session.class);\n    .enableFilter(&quot;langfilter&quot;)\n    .setParameter(&quot;langid&quot;, 3);\n\n// Using direct fetching strategy - filter won't apply\nvar post = entityManager.find(Post.class, 1));\n</code></pre>\n<p>To apply filter entity queries strategy should used.</p>\n<pre class=\"lang-java prettyprint-override\"><code>entityManager\n    .unwrap(Session.class);\n    .enableFilter(&quot;langfilter&quot;)\n    .setParameter(&quot;langid&quot;, 3);\n\n// Using entity queries strategy - filter will apply\nvar post = entityManager.createQuery(&quot;select p from Post p where id = :id&quot;)\n    .setParameter(&quot;id&quot;, 1)\n    .getSingleResult();\n</code></pre>\n"}],"owner":{"account_id":2927787,"reputation":1363,"user_id":2508770,"accept_rate":94,"display_name":"Emax"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1679863572,"creation_date":1679857549,"question_id":75849956,"body_markdown":"This is my schema\r\n[![Schema][1]][1]\r\n\r\nI have many posts that contain title and content columns these have a one to one relationship with the translation keys.\r\nTranslation keys have many values (one per language)\r\n\r\nI&#39;m trying to use a Hibernate @Filter to get a post from the database with only one language.\r\n\r\nThe translations keys and translations values entities are mapped in a classic way.\r\nBut the translation value is not directly mapped to the post entity (there is no foreign key)\r\n\r\nThe post entity is mapped like this:\r\n\r\n    @Entity\r\n    @Data\r\n    @Table(name = &quot;posts&quot;)\r\n    @NamedQuery(name = &quot;Post.findAll&quot;, query = &quot;SELECT p FROM Post p&quot;)\r\n    @FilterDef(name = &quot;langfilter&quot;, defaultCondition = &quot;language = :langid&quot;, parameters = @ParamDef(name = &quot;langid&quot;, type = Integer.class))\r\n    public class Post implements Identifiable, Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Column\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Integer identifier;\r\n    \r\n    \t// ID of the TranslationKey\r\n    \t@Column\r\n    \tprivate Integer name;\r\n    \r\n    \t@OneToMany(fetch = FetchType.EAGER)\r\n    \t@Filter(name = &quot;langfilter&quot;)\r\n        @JoinColumn(name = &quot;key&quot;, referencedColumnName = &quot;name&quot;, insertable = false, updatable = false)\r\n        @JsonView(View.class)\r\n        private List&lt;TranslationValue&gt; nameTranslations;\r\n    \r\n    \t// Content column is not mapped for testing\r\n    \r\n    }\r\n\r\nThe code I&#39;m using to test is this:\r\n\r\n\tEntityManager entityManagerLocal = entityManagerFactory.createEntityManager();\r\n\tSession session = entityManagerLocal.unwrap(Session.class);\r\n\tsession.enableFilter(&quot;langfilter&quot;).setParameter(&quot;langid&quot;, 3);\r\n\tSystem.out.println(session.find(Post.class, 1));\r\n\tSystem.out.println(entityManagerLocal.find(Post.class, 1));\r\n\r\nThe generated SQL query is:\r\n\r\n    SELECT p1_0.`identifier`,\r\n           p1_0.`name`,\r\n           n1_0.`key`,\r\n           n1_0.`identifier`,\r\n           n1_0.`language`,\r\n           n1_0.`value`\r\n    FROM   `posts` p1_0\r\n           LEFT JOIN `translations_values` n1_0\r\n                  ON p1_0.`name` = n1_0.`key`\r\n    WHERE  p1_0.`identifier` =? \r\n\r\nAs you can see the filter is completely ignored. I expect a condition on the LEFT JOIN with `language = 3`\r\n\r\nWhat am I doing wrong?\r\n\r\nBonus question:\r\nSince the relation will always produce only one result (or none at all) is it possible to map it with a @ManyToOne?\r\n\r\nI&#39;m using:\r\nspring-boot-starter 3.0.5 (Hibernate ORM core version 6.1.7.Final)\r\n\r\n**EDIT**\r\n\r\nTranslation Value mapping\r\n\r\n    @Entity\r\n    @Data\r\n    @EqualsAndHashCode(onlyExplicitlyIncluded = true)\r\n    @Table(name = &quot;translations_values&quot;)\r\n    @NamedQuery(name = &quot;TranslationValue.findAll&quot;, query = &quot;SELECT t FROM TranslationValue t&quot;)\r\n    public class TranslationValue implements Identifiable, Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Column(name = &quot;identifier&quot;)\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@JsonView(View.class)\r\n    \tprivate Integer identifier;\r\n    \r\n    \t@Column(name = &quot;key&quot;, insertable = false, updatable = false)\r\n    \tprivate Integer keyIdentifier;\r\n    \r\n    \t@ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;key&quot;)\r\n    \tprivate TranslationKey key;\r\n    \r\n    \t@Column(name = &quot;language&quot;, insertable = false, updatable = false)\r\n    \tprivate Integer languageIdentifier;\r\n    \r\n    \t@ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;language&quot;)\r\n    \tprivate Language language;\r\n    \r\n    \t@Column(name = &quot;value&quot;)\r\n    \t@Lob\r\n    \tprivate String value;\r\n    \r\n    \t// Getters &amp; Setters\r\n    \t\r\n    }\r\n\r\nTranslation Key Mapping\r\n\r\n    @Entity\r\n    @Data\r\n    @EqualsAndHashCode(onlyExplicitlyIncluded = true)\r\n    @Table(name = &quot;translations_keys&quot;)\r\n    @NamedQuery(name = &quot;TranslationKey.findAll&quot;, query = &quot;SELECT t FROM TranslationKey t&quot;)\r\n    public class TranslationKey implements Identifiable, Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Column(name = &quot;identifier&quot;)\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tpublic Integer identifier;\r\n    \r\n    \t@CriteriaParticipant\r\n    \t@Column(name = &quot;constraint&quot;)\r\n    \tprivate Integer metadata;\r\n    \r\n    \t@OneToMany(mappedBy = &quot;key&quot;)\r\n    \t@Fetch(FetchMode.SELECT)\r\n    \t@BatchSize(size = 1000)\r\n    \tprivate List&lt;TranslationValue&gt; values;\r\n    \r\n    \t// Getters and Setters\r\n    \r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/7k3mS.png\r\n  [2]: https://i.stack.imgur.com/0qbGu.png","title":"Hibernate&#39;s @Filter is getting ignored","body":"<p>This is my schema\n<a href=\"https://i.stack.imgur.com/7k3mS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7k3mS.png\" alt=\"Schema\" /></a></p>\n<p>I have many posts that contain title and content columns these have a one to one relationship with the translation keys.\nTranslation keys have many values (one per language)</p>\n<p>I'm trying to use a Hibernate @Filter to get a post from the database with only one language.</p>\n<p>The translations keys and translations values entities are mapped in a classic way.\nBut the translation value is not directly mapped to the post entity (there is no foreign key)</p>\n<p>The post entity is mapped like this:</p>\n<pre><code>@Entity\n@Data\n@Table(name = &quot;posts&quot;)\n@NamedQuery(name = &quot;Post.findAll&quot;, query = &quot;SELECT p FROM Post p&quot;)\n@FilterDef(name = &quot;langfilter&quot;, defaultCondition = &quot;language = :langid&quot;, parameters = @ParamDef(name = &quot;langid&quot;, type = Integer.class))\npublic class Post implements Identifiable, Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Column\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer identifier;\n\n    // ID of the TranslationKey\n    @Column\n    private Integer name;\n\n    @OneToMany(fetch = FetchType.EAGER)\n    @Filter(name = &quot;langfilter&quot;)\n    @JoinColumn(name = &quot;key&quot;, referencedColumnName = &quot;name&quot;, insertable = false, updatable = false)\n    @JsonView(View.class)\n    private List&lt;TranslationValue&gt; nameTranslations;\n\n    // Content column is not mapped for testing\n\n}\n</code></pre>\n<p>The code I'm using to test is this:</p>\n<pre><code>EntityManager entityManagerLocal = entityManagerFactory.createEntityManager();\nSession session = entityManagerLocal.unwrap(Session.class);\nsession.enableFilter(&quot;langfilter&quot;).setParameter(&quot;langid&quot;, 3);\nSystem.out.println(session.find(Post.class, 1));\nSystem.out.println(entityManagerLocal.find(Post.class, 1));\n</code></pre>\n<p>The generated SQL query is:</p>\n<pre><code>SELECT p1_0.`identifier`,\n       p1_0.`name`,\n       n1_0.`key`,\n       n1_0.`identifier`,\n       n1_0.`language`,\n       n1_0.`value`\nFROM   `posts` p1_0\n       LEFT JOIN `translations_values` n1_0\n              ON p1_0.`name` = n1_0.`key`\nWHERE  p1_0.`identifier` =? \n</code></pre>\n<p>As you can see the filter is completely ignored. I expect a condition on the LEFT JOIN with <code>language = 3</code></p>\n<p>What am I doing wrong?</p>\n<p>Bonus question:\nSince the relation will always produce only one result (or none at all) is it possible to map it with a @ManyToOne?</p>\n<p>I'm using:\nspring-boot-starter 3.0.5 (Hibernate ORM core version 6.1.7.Final)</p>\n<p><strong>EDIT</strong></p>\n<p>Translation Value mapping</p>\n<pre><code>@Entity\n@Data\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\n@Table(name = &quot;translations_values&quot;)\n@NamedQuery(name = &quot;TranslationValue.findAll&quot;, query = &quot;SELECT t FROM TranslationValue t&quot;)\npublic class TranslationValue implements Identifiable, Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Column(name = &quot;identifier&quot;)\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @JsonView(View.class)\n    private Integer identifier;\n\n    @Column(name = &quot;key&quot;, insertable = false, updatable = false)\n    private Integer keyIdentifier;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;key&quot;)\n    private TranslationKey key;\n\n    @Column(name = &quot;language&quot;, insertable = false, updatable = false)\n    private Integer languageIdentifier;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;language&quot;)\n    private Language language;\n\n    @Column(name = &quot;value&quot;)\n    @Lob\n    private String value;\n\n    // Getters &amp; Setters\n    \n}\n</code></pre>\n<p>Translation Key Mapping</p>\n<pre><code>@Entity\n@Data\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\n@Table(name = &quot;translations_keys&quot;)\n@NamedQuery(name = &quot;TranslationKey.findAll&quot;, query = &quot;SELECT t FROM TranslationKey t&quot;)\npublic class TranslationKey implements Identifiable, Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Column(name = &quot;identifier&quot;)\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public Integer identifier;\n\n    @CriteriaParticipant\n    @Column(name = &quot;constraint&quot;)\n    private Integer metadata;\n\n    @OneToMany(mappedBy = &quot;key&quot;)\n    @Fetch(FetchMode.SELECT)\n    @BatchSize(size = 1000)\n    private List&lt;TranslationValue&gt; values;\n\n    // Getters and Setters\n\n}\n</code></pre>\n"},{"tags":["java","json","spring","rest","jersey-2.0"],"answers":[{"tags":[],"owner":{"account_id":923448,"reputation":2396,"user_id":954680,"accept_rate":71,"display_name":"thermz"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1386932610,"creation_date":1386932610,"answer_id":20564938,"question_id":20563640,"body_markdown":"There are a lot of ways to integrate *jackson* with *Jax-rs* Jersey implementation.\r\n\r\nIf you take a look to Mkyong tutorial: http://www.mkyong.com/webservices/jax-rs/json-example-with-jersey-jackson/\r\nIt seems that you should also pass the &quot;POJOMappingFeature&quot; -&gt; true in the init params in web.xml.\r\nI think this works for **Jersey 1.8**\r\n\r\nIf you take a look to official Jersey documentation instead:\r\nhttps://jersey.java.net/nonav/documentation/latest/user-guide.html#json.jackson\r\nIt seems that you should implements a Jax-rs provider and add that provider to your application resources\r\n\r\n    @Provider\r\n    public class MyObjectMapperProvider implements ContextResolver&lt;ObjectMapper&gt;\r\n\r\nThey provide you an example of how to do this\r\nhttps://github.com/jersey/jersey/blob/2.4.1/examples/json-jackson/src/main/java/org/glassfish/jersey/examples/jackson/MyObjectMapperProvider.java\r\n\r\nI used this way and that solved my problems, and Jackson annotations are correctly scanned by Jackson provider.\r\n\r\n----\r\n\r\nOff topic I suggest you to use this syntax in your bean to initialize map:\r\n\r\n\r\n    import static java.util.Arrays.asList;\r\n\r\n    public static class Foobar {\r\n            @JsonIgnore\r\n            private String foo = &quot;foo&quot;;\r\n            private String baa = &quot;baa&quot;;\r\n            private Map&lt;String, List&lt;? extends Number&gt;&gt; map = new HashMap&lt;&gt;(){{\r\n                put(&quot;even&quot;, asList(2, 4, 6, 8, 10));\r\n                put(&quot;odd&quot;, asList(1, 3, 5, 7, 9));\r\n                put(&quot;float&quot;, asList(1.1F, 2.2F, 3.3F));\r\n            }};\r\n    \r\n            public Foobar() {\r\n            }\r\n    \r\n            public String getFoo() {\r\n                return foo;\r\n            }\r\n    \r\n            public void setFoo(String foo) {\r\n                this.foo = foo;\r\n            }\r\n    \r\n            public String getBaa() {\r\n                return baa;\r\n            }\r\n    \r\n            public void setBaa(String baa) {\r\n                this.baa = baa;\r\n            }\r\n    \r\n            @JsonAnyGetter\r\n            public Map&lt;String, List&lt;? extends Number&gt;&gt; getMap() {\r\n                return map;\r\n            }\r\n    \r\n            public void setMap(Map&lt;String, List&lt;? extends Number&gt;&gt; map) {\r\n                this.map = map;\r\n            }\r\n        }\r\n","title":"Using Jackson ObjectMapper with Jersey","body":"<p>There are a lot of ways to integrate <em>jackson</em> with <em>Jax-rs</em> Jersey implementation.</p>\n\n<p>If you take a look to Mkyong tutorial: <a href=\"http://www.mkyong.com/webservices/jax-rs/json-example-with-jersey-jackson/\" rel=\"nofollow\">http://www.mkyong.com/webservices/jax-rs/json-example-with-jersey-jackson/</a>\nIt seems that you should also pass the \"POJOMappingFeature\" -> true in the init params in web.xml.\nI think this works for <strong>Jersey 1.8</strong></p>\n\n<p>If you take a look to official Jersey documentation instead:\n<a href=\"https://jersey.java.net/nonav/documentation/latest/user-guide.html#json.jackson\" rel=\"nofollow\">https://jersey.java.net/nonav/documentation/latest/user-guide.html#json.jackson</a>\nIt seems that you should implements a Jax-rs provider and add that provider to your application resources</p>\n\n<pre><code>@Provider\npublic class MyObjectMapperProvider implements ContextResolver&lt;ObjectMapper&gt;\n</code></pre>\n\n<p>They provide you an example of how to do this\n<a href=\"https://github.com/jersey/jersey/blob/2.4.1/examples/json-jackson/src/main/java/org/glassfish/jersey/examples/jackson/MyObjectMapperProvider.java\" rel=\"nofollow\">https://github.com/jersey/jersey/blob/2.4.1/examples/json-jackson/src/main/java/org/glassfish/jersey/examples/jackson/MyObjectMapperProvider.java</a></p>\n\n<p>I used this way and that solved my problems, and Jackson annotations are correctly scanned by Jackson provider.</p>\n\n<hr>\n\n<p>Off topic I suggest you to use this syntax in your bean to initialize map:</p>\n\n<pre><code>import static java.util.Arrays.asList;\n\npublic static class Foobar {\n        @JsonIgnore\n        private String foo = \"foo\";\n        private String baa = \"baa\";\n        private Map&lt;String, List&lt;? extends Number&gt;&gt; map = new HashMap&lt;&gt;(){{\n            put(\"even\", asList(2, 4, 6, 8, 10));\n            put(\"odd\", asList(1, 3, 5, 7, 9));\n            put(\"float\", asList(1.1F, 2.2F, 3.3F));\n        }};\n\n        public Foobar() {\n        }\n\n        public String getFoo() {\n            return foo;\n        }\n\n        public void setFoo(String foo) {\n            this.foo = foo;\n        }\n\n        public String getBaa() {\n            return baa;\n        }\n\n        public void setBaa(String baa) {\n            this.baa = baa;\n        }\n\n        @JsonAnyGetter\n        public Map&lt;String, List&lt;? extends Number&gt;&gt; getMap() {\n            return map;\n        }\n\n        public void setMap(Map&lt;String, List&lt;? extends Number&gt;&gt; map) {\n            this.map = map;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2126404,"reputation":4829,"user_id":1888440,"accept_rate":67,"display_name":"robert_difalco"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1386990737,"creation_date":1386990737,"answer_id":20579277,"question_id":20563640,"body_markdown":"Unfortunately everyone makes this much harder than it needs to be. The Jersey team in their wisdom decided to integrate Jackson 1.9, so their stuff wont&#39; help you.\r\n\r\nBut it was pretty easy for me. Just do this:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nNow GET RID OF THIS:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen in your web.xml change this line:\r\n\r\n    &lt;param-value&gt;ie.cit.nimbus.sample&lt;/param-value&gt;\r\n\r\nTo be:\r\n\r\n    &lt;param-value&gt;ie.cit.nimbus.sample,com.fasterxml.jackson.jaxrs.json&lt;/param-value&gt;\r\n\r\nThat should do it.\r\n\r\n","title":"Using Jackson ObjectMapper with Jersey","body":"<p>Unfortunately everyone makes this much harder than it needs to be. The Jersey team in their wisdom decided to integrate Jackson 1.9, so their stuff wont' help you.</p>\n\n<p>But it was pretty easy for me. Just do this:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Now GET RID OF THIS:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n    &lt;version&gt;2.4.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Then in your web.xml change this line:</p>\n\n<pre><code>&lt;param-value&gt;ie.cit.nimbus.sample&lt;/param-value&gt;\n</code></pre>\n\n<p>To be:</p>\n\n<pre><code>&lt;param-value&gt;ie.cit.nimbus.sample,com.fasterxml.jackson.jaxrs.json&lt;/param-value&gt;\n</code></pre>\n\n<p>That should do it.</p>\n"},{"tags":[],"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1679863518,"creation_date":1389889755,"answer_id":21167382,"question_id":20563640,"body_markdown":"**EDIT**: Don&#39;t use the *old approach below* as it produces bugs (at least with android device, see *EDIT2* for more details). As of my tests, Jersey v2.6 seems to fix the problem with the `@Provide`, which approach did not work. I was able to get it work with this simple provider:\r\n\r\n```java\r\n@Provider\r\npublic class JerseyMapperProvider implements ContextResolver&lt;ObjectMapper&gt; {\r\n    private static ObjectMapper apiMapper = ObjectMapperManager.createMapperForApi();\r\n    @Override\r\n    public ObjectMapper getContext(Class&lt;?&gt; type) {\r\n        return apiMapper;\r\n    }\r\n}\r\n```\r\n\r\nSo please don&#39;t use my hack from below.\r\n\r\n----------\r\n**OLD APPROACH**\r\n\r\nUsing\r\n\r\n```java\r\n@Provider\r\npublic class MyObjectMapperProvider implements ContextResolver&lt;ObjectMapper&gt;\r\n```\r\n\r\nwas not working for me (Jersey 2.4 &amp; Jackson 2.3) and maybe this is due to an in the jackson provider reported bug in the code where the `ContextResolver` should be registered in `JacksonJsonProvider.java` (2.3rc1):\r\n\r\n```java\r\n@Override\r\nprotected ObjectMapper _locateMapperViaProvider(Class&lt;?&gt; type, MediaType mediaType) {\r\n    if (_providers != null) {\r\n        ContextResolver&lt;ObjectMapper&gt; resolver = _providers.getContextResolver(ObjectMapper.class, mediaType);\r\n        /* Above should work as is, but due to this bug\r\n         *   [https://jersey.dev.java.net/issues/show_bug.cgi?id=288]\r\n         * in Jersey, it doesn&#39;t. But this works until resolution of\r\n         * the issue:\r\n         */\r\n        if (resolver == null) {\r\n            resolver = _providers.getContextResolver(ObjectMapper.class, null);\r\n        }\r\n        if (resolver != null) {\r\n            return resolver.getContext(type);\r\n        }\r\n    }\r\n    return null;\r\n}\r\n```\r\n\r\nBut at least I cannot access https://jersey.dev.java.net/issues/show_bug.cgi?id=288, so I don&#39;t know what this bug is about.\r\n\r\nHowever, I found a workaround (a hack if you so will). Just extend `JacksonJsonProvider` with the proper annotation and return your `ObjectMapper` like this:\r\n\r\n```java\r\n@Provider\r\n@Consumes(MediaType.APPLICATION_JSON) // NOTE: required to support &quot;non-standard&quot; JSON variants\r\n@Produces(MediaType.APPLICATION_JSON)\r\npublic class JacksonHackProvider extends JacksonJsonProvider {\r\n    @Override\r\n    protected ObjectMapper _locateMapperViaProvider(Class&lt;?&gt; type, MediaType mediaType) {\r\n        return new MyCustomObjectMapper();\r\n    }\r\n}\r\n```\r\n\r\nNo need to do anything it will register itself (check with log, it will register the first time you access a JSON rest service). This is now working for me, not elegant, but I gave up.\r\n\r\n**EDIT**: Use with caution - I&#39;m experiencing a bug maybe related to this hack: Android volley cannot send a POST/PUT request with a request body, always getting 400 from the framework, I will investigate and report my findings.\r\n\r\n**EDIT2**: This hack was indeed responsible for a generic 400 whenever an Android app with volley and `OKHTTP` client tried to do a POST or PUT request so don&#39;t use this - in my test jersey 2.6 seems to fix this, so you can use `@Provide` approach\r\n","title":"Using Jackson ObjectMapper with Jersey","body":"<p><strong>EDIT</strong>: Don't use the <em>old approach below</em> as it produces bugs (at least with android device, see <em>EDIT2</em> for more details). As of my tests, Jersey v2.6 seems to fix the problem with the <code>@Provide</code>, which approach did not work. I was able to get it work with this simple provider:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Provider\npublic class JerseyMapperProvider implements ContextResolver&lt;ObjectMapper&gt; {\n    private static ObjectMapper apiMapper = ObjectMapperManager.createMapperForApi();\n    @Override\n    public ObjectMapper getContext(Class&lt;?&gt; type) {\n        return apiMapper;\n    }\n}\n</code></pre>\n<p>So please don't use my hack from below.</p>\n<hr />\n<p><strong>OLD APPROACH</strong></p>\n<p>Using</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Provider\npublic class MyObjectMapperProvider implements ContextResolver&lt;ObjectMapper&gt;\n</code></pre>\n<p>was not working for me (Jersey 2.4 &amp; Jackson 2.3) and maybe this is due to an in the jackson provider reported bug in the code where the <code>ContextResolver</code> should be registered in <code>JacksonJsonProvider.java</code> (2.3rc1):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected ObjectMapper _locateMapperViaProvider(Class&lt;?&gt; type, MediaType mediaType) {\n    if (_providers != null) {\n        ContextResolver&lt;ObjectMapper&gt; resolver = _providers.getContextResolver(ObjectMapper.class, mediaType);\n        /* Above should work as is, but due to this bug\n         *   [https://jersey.dev.java.net/issues/show_bug.cgi?id=288]\n         * in Jersey, it doesn't. But this works until resolution of\n         * the issue:\n         */\n        if (resolver == null) {\n            resolver = _providers.getContextResolver(ObjectMapper.class, null);\n        }\n        if (resolver != null) {\n            return resolver.getContext(type);\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>But at least I cannot access <a href=\"https://jersey.dev.java.net/issues/show_bug.cgi?id=288\" rel=\"nofollow noreferrer\">https://jersey.dev.java.net/issues/show_bug.cgi?id=288</a>, so I don't know what this bug is about.</p>\n<p>However, I found a workaround (a hack if you so will). Just extend <code>JacksonJsonProvider</code> with the proper annotation and return your <code>ObjectMapper</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Provider\n@Consumes(MediaType.APPLICATION_JSON) // NOTE: required to support &quot;non-standard&quot; JSON variants\n@Produces(MediaType.APPLICATION_JSON)\npublic class JacksonHackProvider extends JacksonJsonProvider {\n    @Override\n    protected ObjectMapper _locateMapperViaProvider(Class&lt;?&gt; type, MediaType mediaType) {\n        return new MyCustomObjectMapper();\n    }\n}\n</code></pre>\n<p>No need to do anything it will register itself (check with log, it will register the first time you access a JSON rest service). This is now working for me, not elegant, but I gave up.</p>\n<p><strong>EDIT</strong>: Use with caution - I'm experiencing a bug maybe related to this hack: Android volley cannot send a POST/PUT request with a request body, always getting 400 from the framework, I will investigate and report my findings.</p>\n<p><strong>EDIT2</strong>: This hack was indeed responsible for a generic 400 whenever an Android app with volley and <code>OKHTTP</code> client tried to do a POST or PUT request so don't use this - in my test jersey 2.6 seems to fix this, so you can use <code>@Provide</code> approach</p>\n"},{"tags":[],"owner":{"account_id":229061,"reputation":3784,"user_id":491764,"display_name":"Nthalk"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1438222770,"creation_date":1417984216,"answer_id":27347445,"question_id":20563640,"body_markdown":"Using `Jersey 2.13`, you can force the `@Provider` to use the same `ObjectMapper` should only create one `ObjectMapper`:\r\n\r\n    package com.example.api.environment.configs;\r\n    \r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.SerializationFeature;\r\n    import com.fasterxml.jackson.datatype.joda.JodaModule;\r\n    \r\n    import javax.ws.rs.ext.ContextResolver;\r\n    import javax.ws.rs.ext.Provider;\r\n    \r\n    @Provider\r\n    public class JacksonConfig implements ContextResolver&lt;ObjectMapper&gt; {\r\n    \r\n      private final ObjectMapper objectMapper;\r\n    \r\n      public JacksonConfig() {\r\n        objectMapper = new ObjectMapper()\r\n              .configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false)\r\n              .registerModule(new JodaModule());\r\n      };\r\n    \r\n      @Override\r\n      public ObjectMapper getContext(Class&lt;?&gt; type) {\r\n        return objectMapper;\r\n      }\r\n    }\r\n\r\nI use this to `@Autowire` in my `ObjectMapper` to generate `json-schema` documents on the fly.","title":"Using Jackson ObjectMapper with Jersey","body":"<p>Using <code>Jersey 2.13</code>, you can force the <code>@Provider</code> to use the same <code>ObjectMapper</code> should only create one <code>ObjectMapper</code>:</p>\n\n<pre><code>package com.example.api.environment.configs;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport com.fasterxml.jackson.datatype.joda.JodaModule;\n\nimport javax.ws.rs.ext.ContextResolver;\nimport javax.ws.rs.ext.Provider;\n\n@Provider\npublic class JacksonConfig implements ContextResolver&lt;ObjectMapper&gt; {\n\n  private final ObjectMapper objectMapper;\n\n  public JacksonConfig() {\n    objectMapper = new ObjectMapper()\n          .configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false)\n          .registerModule(new JodaModule());\n  };\n\n  @Override\n  public ObjectMapper getContext(Class&lt;?&gt; type) {\n    return objectMapper;\n  }\n}\n</code></pre>\n\n<p>I use this to <code>@Autowire</code> in my <code>ObjectMapper</code> to generate <code>json-schema</code> documents on the fly.</p>\n"},{"tags":[],"owner":{"account_id":4856043,"reputation":174,"user_id":3916951,"accept_rate":80,"display_name":"Shashi Dk"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1490353848,"creation_date":1426849199,"answer_id":29164954,"question_id":20563640,"body_markdown":"add on each model class like this\r\n\r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n    public class Event {\r\n      -----\r\n      --\r\n    }\r\n\r\n\r\nit has worked for me but i have used codehus jackson jars\r\n","title":"Using Jackson ObjectMapper with Jersey","body":"<p>add on each model class like this</p>\n\n<pre><code>@JsonIgnoreProperties({\"hibernateLazyInitializer\", \"handler\"})\npublic class Event {\n  -----\n  --\n}\n</code></pre>\n\n<p>it has worked for me but i have used codehus jackson jars</p>\n"}],"owner":{"account_id":3155430,"reputation":149,"user_id":2667949,"display_name":"jcstockdale"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45054,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"answer_count":5,"score":14,"last_activity_date":1679863518,"creation_date":1386928866,"question_id":20563640,"body_markdown":"I&#39;m using Jersey 2.4 to create a simple REST interface that serves up a JSON object. My problem is that I&#39;m trying to use the fasterxml Jackson annotations to control the output and this is not working for me. I have put the annotations into my bean class but they are ignored.\r\n\r\nWhen I explicitly create an ObjectMapper and use this to stringify the Java bean, I get the output that I want, which respects the Jackson annotations. However, I would prefer that I don&#39;t have to do this step so that my resource class can simply return the bean and the Jersey framework takes care of stringifying it.\r\n\r\nI have tried to solve this using the answer from https://stackoverflow.com/questions/18872931/custom-objectmapper-with-jersey-2-2-and-jackson-2-1, however, this does not appear to work for me. I see that the ContextResolver is created but it is never called.\r\n\r\nI have also spent many hours trying to solve this apparently simple problem. I have stripped this down to a very simple test case, which is shown below. I would appreciate any help at all in resolving this.\r\n\r\nResource Java class:\r\n\r\n\t@Path(&quot;resource&quot;)\r\n\tpublic class MainResource {\r\n\t\r\n\t\tpublic static class Foobar {\r\n\t\t\t@JsonIgnore\r\n\t\t\tprivate String foo = &quot;foo&quot;;\r\n\t\t\tprivate String baa = &quot;baa&quot;;\r\n\t\t\tprivate Map&lt;String, List&lt;? extends Number&gt;&gt; map = new HashMap&lt;&gt;();\r\n\t\r\n\t\t\tpublic Foobar() {\r\n\t\t\t\tmap.put(&quot;even&quot;, Arrays.asList(new Integer[] { 2, 4, 6, 8, 10 }));\r\n\t\t\t\tmap.put(&quot;odd&quot;, Arrays.asList(new Integer[] { 1, 3, 5, 7, 9 }));\r\n\t\t\t\tmap.put(&quot;float&quot;, Arrays.asList(new Float[] { 1.1F, 2.2F, 3.3F }));\r\n\t\t\t}\r\n\t\r\n\t\t\tpublic String getFoo() {\r\n\t\t\t\treturn foo;\r\n\t\t\t}\r\n\t\r\n\t\t\tpublic void setFoo(String foo) {\r\n\t\t\t\tthis.foo = foo;\r\n\t\t\t}\r\n\t\r\n\t\t\tpublic String getBaa() {\r\n\t\t\t\treturn baa;\r\n\t\t\t}\r\n\t\r\n\t\t\tpublic void setBaa(String baa) {\r\n\t\t\t\tthis.baa = baa;\r\n\t\t\t}\r\n\t\r\n\t\t\t@JsonAnyGetter\r\n\t\t\tpublic Map&lt;String, List&lt;? extends Number&gt;&gt; getMap() {\r\n\t\t\t\treturn map;\r\n\t\t\t}\r\n\t\r\n\t\t\tpublic void setMap(Map&lt;String, List&lt;? extends Number&gt;&gt; map) {\r\n\t\t\t\tthis.map = map;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tprivate ObjectMapper om = new ObjectMapper();\r\n\t\r\n\t\t@GET\r\n\t\t@Path(&quot;get-object&quot;)\r\n\t\t@Produces(MediaType.APPLICATION_JSON)\r\n\t\tpublic Foobar getObject() {\r\n\t\t\t// In this method, I simply return the bean object but the WRONG JSON syntax is generated.\r\n\t\t\treturn new Foobar();\r\n\t\t}\r\n\t\r\n\t\t@GET\r\n\t\t@Path(&quot;get-string&quot;)\r\n\t\t@Produces(MediaType.APPLICATION_JSON)\r\n\t\tpublic String getString() throws JsonProcessingException {\r\n\t\t\t// This method returns the RIGHT JSON syntax but I don&#39;t want to have to explicitly use the ObjectMapper.\r\n\t\t\tFoobar foobar = new Foobar();\r\n\t\t\treturn om.writeValueAsString(foobar);\r\n\t\t}\r\n\t}\r\n\r\nweb.xml:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n\t&lt;web-app version=&quot;3.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n\t\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;&gt;\r\n\t\r\n\t\t&lt;module-name&gt;sample&lt;/module-name&gt;\r\n\t\r\n\t\t&lt;servlet&gt;\r\n\t\t\t&lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\r\n\t\t\t&lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n\t\t\t&lt;init-param&gt;\r\n\t\t\t\t&lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n\t\t\t\t&lt;param-value&gt;ie.cit.nimbus.sample&lt;/param-value&gt;\r\n\t\t\t&lt;/init-param&gt;\r\n\t\t&lt;/servlet&gt;\r\n\t\t&lt;servlet-mapping&gt;\r\n\t\t\t&lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\r\n\t\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t\t&lt;/servlet-mapping&gt;\r\n\t\r\n\t&lt;/web-app&gt;\r\n\r\nPOM dependencies:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.jersey.ext&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jersey-spring3&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;","title":"Using Jackson ObjectMapper with Jersey","body":"<p>I'm using Jersey 2.4 to create a simple REST interface that serves up a JSON object. My problem is that I'm trying to use the fasterxml Jackson annotations to control the output and this is not working for me. I have put the annotations into my bean class but they are ignored.</p>\n\n<p>When I explicitly create an ObjectMapper and use this to stringify the Java bean, I get the output that I want, which respects the Jackson annotations. However, I would prefer that I don't have to do this step so that my resource class can simply return the bean and the Jersey framework takes care of stringifying it.</p>\n\n<p>I have tried to solve this using the answer from <a href=\"https://stackoverflow.com/questions/18872931/custom-objectmapper-with-jersey-2-2-and-jackson-2-1\">Custom ObjectMapper with Jersey 2.2 and Jackson 2.1</a>, however, this does not appear to work for me. I see that the ContextResolver is created but it is never called.</p>\n\n<p>I have also spent many hours trying to solve this apparently simple problem. I have stripped this down to a very simple test case, which is shown below. I would appreciate any help at all in resolving this.</p>\n\n<p>Resource Java class:</p>\n\n<pre><code>@Path(\"resource\")\npublic class MainResource {\n\n    public static class Foobar {\n        @JsonIgnore\n        private String foo = \"foo\";\n        private String baa = \"baa\";\n        private Map&lt;String, List&lt;? extends Number&gt;&gt; map = new HashMap&lt;&gt;();\n\n        public Foobar() {\n            map.put(\"even\", Arrays.asList(new Integer[] { 2, 4, 6, 8, 10 }));\n            map.put(\"odd\", Arrays.asList(new Integer[] { 1, 3, 5, 7, 9 }));\n            map.put(\"float\", Arrays.asList(new Float[] { 1.1F, 2.2F, 3.3F }));\n        }\n\n        public String getFoo() {\n            return foo;\n        }\n\n        public void setFoo(String foo) {\n            this.foo = foo;\n        }\n\n        public String getBaa() {\n            return baa;\n        }\n\n        public void setBaa(String baa) {\n            this.baa = baa;\n        }\n\n        @JsonAnyGetter\n        public Map&lt;String, List&lt;? extends Number&gt;&gt; getMap() {\n            return map;\n        }\n\n        public void setMap(Map&lt;String, List&lt;? extends Number&gt;&gt; map) {\n            this.map = map;\n        }\n    }\n\n    private ObjectMapper om = new ObjectMapper();\n\n    @GET\n    @Path(\"get-object\")\n    @Produces(MediaType.APPLICATION_JSON)\n    public Foobar getObject() {\n        // In this method, I simply return the bean object but the WRONG JSON syntax is generated.\n        return new Foobar();\n    }\n\n    @GET\n    @Path(\"get-string\")\n    @Produces(MediaType.APPLICATION_JSON)\n    public String getString() throws JsonProcessingException {\n        // This method returns the RIGHT JSON syntax but I don't want to have to explicitly use the ObjectMapper.\n        Foobar foobar = new Foobar();\n        return om.writeValueAsString(foobar);\n    }\n}\n</code></pre>\n\n<p>web.xml:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;web-app version=\"3.0\" xmlns=\"http://java.sun.com/xml/ns/javaee\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"&gt;\n\n    &lt;module-name&gt;sample&lt;/module-name&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n            &lt;param-value&gt;ie.cit.nimbus.sample&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n\n<p>POM dependencies:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.ext&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-spring3&lt;/artifactId&gt;\n        &lt;version&gt;2.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n        &lt;version&gt;2.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","android","service","broadcastreceiver"],"owner":{"account_id":26455897,"reputation":11,"user_id":20098475,"display_name":"Sunali Bhattacherji"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679863203,"creation_date":1679863203,"question_id":75850441,"body_markdown":"I&#39;m making an app where when i shake the device an activity is launched on the foreground. I&#39;ve used a service and a BroadcastReciever. I don&#39;t know what im doing wrong\r\n\r\n# **ShakeService.java**\r\n\r\nthis is my service class in that implements sensor events.\r\n\r\n---\r\n\r\n\\`\r\n   \r\n```\r\n public class ShakeService extends Service implements SensorEventListener {\r\n    private SensorManager sensorManager;\r\n    private Sensor accelerometer;\r\n    private float acceleration;\r\n    private float accelerationCurrent;\r\n    private float accelerationLast;\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        sensorManager = (SensorManager) getSystemService(SENSOR_SERVICE);\r\n        accelerometer = sensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER);\r\n        acceleration = 10f;\r\n        accelerationCurrent = SensorManager.GRAVITY_EARTH;\r\n        accelerationLast = SensorManager.GRAVITY_EARTH;\r\n    }\r\n    \r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        sensorManager.registerListener(this, accelerometer, SensorManager.SENSOR_DELAY_NORMAL);\r\n        return START_STICKY;\r\n    }\r\n    \r\n    @Override\r\n    public void onSensorChanged(SensorEvent event) {\r\n        float x = event.values[0];\r\n        float y = event.values[1];\r\n        float z = event.values[2];\r\n    \r\n        accelerationLast = accelerationCurrent;\r\n        accelerationCurrent = (float) Math.sqrt((double) (x * x + y * y + z * z));\r\n        float delta = accelerationCurrent - accelerationLast;\r\n        acceleration = acceleration * 0.9f + delta;\r\n    \r\n        if (acceleration &gt; 15) { // You can adjust the shake threshold as per your requirement\r\n            Intent intent = new Intent(this, getCor_sendSms.class);\r\n            intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            startActivity(intent);\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    @Override\r\n    public void onAccuracyChanged(Sensor sensor, int accuracy) {\r\n        // Not used in this example\r\n    }\r\n    \r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        sensorManager.unregisterListener(this);\r\n    }\r\n    \r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\\`\r\n\r\n---\r\n-\r\n\r\n\r\n\r\n&gt; **ShakeReceiver.java**\r\n\r\nthis is my BroadcastReciever class\r\n\r\n    \\`\r\n    \r\n```\r\npublic class ShakeReceiver extends BroadcastReceiver {\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        if (intent.getAction().equals(&quot;ACTION_SHAKE&quot;)) {\r\n            Intent activityIntent = new Intent(context, getCor_sendSms.class);\r\n            activityIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            context.startActivity(activityIntent);\r\n        }\r\n     }\r\n\r\n     }\r\n\r\n```\r\n    \\`\r\n\r\n---\r\n\r\n\r\n# Manifest file\r\n\r\n`  \r\n    \r\n```\r\n&lt;activity android:name=&quot;.getCor_sendSms&quot; /&gt;         \r\n    &lt;service android:name=&quot;.ShakeService&quot; /&gt;         \r\n    &lt;receiver android:name=&quot;.ShakeReceiver&quot;             \r\n     android:exported=&quot;true&quot;&gt;         \r\n     &lt;intent-filter&gt;          \r\n       &lt;action android:name=&quot;com.example.shake&quot; /&gt;            \r\n       &lt;/intent-filter&gt;     \r\n    &lt;/receiver&gt;`\r\n\r\n```\r\n\r\n**get_cor_send_sms.java**\r\nAnd this is the activity i want to launch when the device is shaken\r\n`\r\n```\r\n\r\n    Intent intent = new Intent(this, ShakeService.class);     \r\n    startService(intent);`\r\n```\r\n","title":"launch a particular activity of an app which is not running to the foreground by shaking the phone","body":"<p>I'm making an app where when i shake the device an activity is launched on the foreground. I've used a service and a BroadcastReciever. I don't know what im doing wrong</p>\n<h1><strong>ShakeService.java</strong></h1>\n<p>this is my service class in that implements sensor events.</p>\n<hr />\n<p>`</p>\n<pre><code> public class ShakeService extends Service implements SensorEventListener {\n    private SensorManager sensorManager;\n    private Sensor accelerometer;\n    private float acceleration;\n    private float accelerationCurrent;\n    private float accelerationLast;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        sensorManager = (SensorManager) getSystemService(SENSOR_SERVICE);\n        accelerometer = sensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER);\n        acceleration = 10f;\n        accelerationCurrent = SensorManager.GRAVITY_EARTH;\n        accelerationLast = SensorManager.GRAVITY_EARTH;\n    }\n    \n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        sensorManager.registerListener(this, accelerometer, SensorManager.SENSOR_DELAY_NORMAL);\n        return START_STICKY;\n    }\n    \n    @Override\n    public void onSensorChanged(SensorEvent event) {\n        float x = event.values[0];\n        float y = event.values[1];\n        float z = event.values[2];\n    \n        accelerationLast = accelerationCurrent;\n        accelerationCurrent = (float) Math.sqrt((double) (x * x + y * y + z * z));\n        float delta = accelerationCurrent - accelerationLast;\n        acceleration = acceleration * 0.9f + delta;\n    \n        if (acceleration &gt; 15) { // You can adjust the shake threshold as per your requirement\n            Intent intent = new Intent(this, getCor_sendSms.class);\n            intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n            startActivity(intent);\n        }\n    }\n    \n    \n    \n    @Override\n    public void onAccuracyChanged(Sensor sensor, int accuracy) {\n        // Not used in this example\n    }\n    \n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        sensorManager.unregisterListener(this);\n    }\n    \n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n}\n\n</code></pre>\n<p>`</p>\n<hr />\n<ul>\n<li></li>\n</ul>\n<blockquote>\n<p><strong>ShakeReceiver.java</strong></p>\n</blockquote>\n<p>this is my BroadcastReciever class</p>\n<pre><code>\\`\n</code></pre>\n<pre><code>public class ShakeReceiver extends BroadcastReceiver {\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        if (intent.getAction().equals(&quot;ACTION_SHAKE&quot;)) {\n            Intent activityIntent = new Intent(context, getCor_sendSms.class);\n            activityIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n            context.startActivity(activityIntent);\n        }\n     }\n\n     }\n\n</code></pre>\n<pre><code>\\`\n</code></pre>\n<hr />\n<h1>Manifest file</h1>\n<p>`</p>\n<pre><code>&lt;activity android:name=&quot;.getCor_sendSms&quot; /&gt;         \n    &lt;service android:name=&quot;.ShakeService&quot; /&gt;         \n    &lt;receiver android:name=&quot;.ShakeReceiver&quot;             \n     android:exported=&quot;true&quot;&gt;         \n     &lt;intent-filter&gt;          \n       &lt;action android:name=&quot;com.example.shake&quot; /&gt;            \n       &lt;/intent-filter&gt;     \n    &lt;/receiver&gt;`\n\n</code></pre>\n<p><strong>get_cor_send_sms.java</strong>\nAnd this is the activity i want to launch when the device is shaken\n`</p>\n<pre><code>\n    Intent intent = new Intent(this, ShakeService.class);     \n    startService(intent);`\n</code></pre>\n"},{"tags":["java","arrays","arraylist"],"answers":[{"tags":[],"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1679862887,"creation_date":1319641932,"answer_id":7904769,"question_id":7904694,"body_markdown":"    ArrayList&lt;double[]&gt; db_results = new ArrayList&lt;double[]&gt;();\r\n\r\n    double[] nums = new double[3];\r\n    for (int i = 0; i &lt; nums.length; i++) {\r\n      nums[i] = i;\r\n    }\r\n    db_results.add(nums);","title":"add values to double[] arraylist","body":"<pre><code>ArrayList&lt;double[]&gt; db_results = new ArrayList&lt;double[]&gt;();\n\ndouble[] nums = new double[3];\nfor (int i = 0; i &lt; nums.length; i++) {\n  nums[i] = i;\n}\ndb_results.add(nums);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":360296,"reputation":5356,"user_id":702229,"accept_rate":50,"display_name":"NitroG42"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319641946,"creation_date":1319641946,"answer_id":7904772,"question_id":7904694,"body_markdown":"With something like that :\r\n\r\n    max = 3;\r\n    double[] doubles = new double[max];\r\n    for ( int i = 0 ; i &lt; max; ++i)\r\n        {\r\n         double val = Double.parseDouble(i);\r\n         doubles[i] = val;\r\n        }\r\n    db_results.add(doubles);","title":"add values to double[] arraylist","body":"<p>With something like that :</p>\n\n<pre><code>max = 3;\ndouble[] doubles = new double[max];\nfor ( int i = 0 ; i &lt; max; ++i)\n    {\n     double val = Double.parseDouble(i);\n     doubles[i] = val;\n    }\ndb_results.add(doubles);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319641961,"creation_date":1319641961,"answer_id":7904775,"question_id":7904694,"body_markdown":"Create the `double[]` first, add the numbers to it, and add that array to the `List`.\r\n\r\n(The variable should likely be declared as a `List`, btw, not an `ArrayList`, unless you&#39;re specifically passing it to something that explicitly expects an `ArrayList`.)","title":"add values to double[] arraylist","body":"<p>Create the <code>double[]</code> first, add the numbers to it, and add that array to the <code>List</code>.</p>\n\n<p>(The variable should likely be declared as a <code>List</code>, btw, not an <code>ArrayList</code>, unless you're specifically passing it to something that explicitly expects an <code>ArrayList</code>.)</p>\n"},{"tags":[],"owner":{"account_id":1004039,"reputation":1,"user_id":1018236,"display_name":"arnold"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319826725,"creation_date":1319826725,"answer_id":7933350,"question_id":7904694,"body_markdown":"    import java.util.Scanner;\r\n    class DarrayEx2\r\n    {\r\n        public static void main(String args[])\r\n          {\r\n           int a[][]=new int[3][3];\r\n           int r,c,sumr;\r\n           Scanner s=new Scanner(System.in);\r\n            for(r=0;r&lt;a.length;r++)\r\n             {\r\n               for (c=0;c&lt;a.length ;c++ )\r\n                {\r\n                 System.out.println(&quot;enter an  element&quot;);\r\n                 a[r][c]=s.nextInt();\r\n                }\r\n              }\r\n              for(r=0;r&lt;a.length;r++)\r\n                {\r\n                  sumr=0;\r\n                  System.out.println(&quot;elements in a[&quot;+r+&quot;] row is&quot;);\r\n                   for (c=0;c&lt;a[1].length ;c++ )\r\n                     {\r\n                       System.out.println(&quot; &quot;+a[r][c]);\r\n                       sumr = sumr+a[r][c];\r\n                     }\r\n\r\n                   System.out.println(&quot; = &quot;+sumr);\r\n                   System.out.println(&quot;  &quot;);\r\n                 }\r\n             }\r\n    }\r\n\r\nsource : http://www.exceptionhandle.com/portal/java/core-java/part-12-arrays.htm\r\n","title":"add values to double[] arraylist","body":"<pre><code>import java.util.Scanner;\nclass DarrayEx2\n{\n    public static void main(String args[])\n      {\n       int a[][]=new int[3][3];\n       int r,c,sumr;\n       Scanner s=new Scanner(System.in);\n        for(r=0;r&lt;a.length;r++)\n         {\n           for (c=0;c&lt;a.length ;c++ )\n            {\n             System.out.println(\"enter an  element\");\n             a[r][c]=s.nextInt();\n            }\n          }\n          for(r=0;r&lt;a.length;r++)\n            {\n              sumr=0;\n              System.out.println(\"elements in a[\"+r+\"] row is\");\n               for (c=0;c&lt;a[1].length ;c++ )\n                 {\n                   System.out.println(\" \"+a[r][c]);\n                   sumr = sumr+a[r][c];\n                 }\n\n               System.out.println(\" = \"+sumr);\n               System.out.println(\"  \");\n             }\n         }\n}\n</code></pre>\n\n<p>source : <a href=\"http://www.exceptionhandle.com/portal/java/core-java/part-12-arrays.htm\" rel=\"nofollow\">http://www.exceptionhandle.com/portal/java/core-java/part-12-arrays.htm</a></p>\n"}],"owner":{"account_id":872415,"reputation":257,"user_id":922961,"accept_rate":46,"display_name":"Mazz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42621,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":7904769,"answer_count":4,"score":3,"last_activity_date":1679862887,"creation_date":1319641633,"question_id":7904694,"body_markdown":"I have the following array\r\n\r\n    ArrayList&lt;double[]&gt; db_results = new ArrayList&lt;double[]&gt;();\t\r\n\r\nand I would like to add values like this \r\n\r\n    db_results.add(new double[] {0,1,2});\r\n\r\nbut in a loop like this\r\n\r\n    for ( int i = 0 ; i &lt;= 2; i++) {\r\n        double val = Double.parseDouble(i);\r\n\t    db_results.add(new double[] {val});\r\n    }\r\n\r\nobviously this is adding a new array each time with the single value... so how do I get it to add all into one array?","title":"add values to double[] arraylist","body":"<p>I have the following array</p>\n\n<pre><code>ArrayList&lt;double[]&gt; db_results = new ArrayList&lt;double[]&gt;(); \n</code></pre>\n\n<p>and I would like to add values like this </p>\n\n<pre><code>db_results.add(new double[] {0,1,2});\n</code></pre>\n\n<p>but in a loop like this</p>\n\n<pre><code>for ( int i = 0 ; i &lt;= 2; i++) {\n    double val = Double.parseDouble(i);\n    db_results.add(new double[] {val});\n}\n</code></pre>\n\n<p>obviously this is adding a new array each time with the single value... so how do I get it to add all into one array?</p>\n"},{"tags":["java","hmac","hkdf"],"comments":[{"owner":{"account_id":173152,"reputation":25288,"user_id":401656,"accept_rate":75,"display_name":"jjmontes"},"score":1,"creation_date":1504202666,"post_id":45985661,"comment_id":78935183,"body_markdown":"Those look decent HKDF implementations. Also, BouncyCastle seems to have an HKDF implementation (https://github.com/bcgit/bc-java/blob/542628f99e6cdb66b1d2373cb0e69f5bc2d6960f/core/src/main/java/org/bouncycastle/crypto/generators/HKDFBytesGenerator.java) written by the same @Maarten_Bodewes who answered your same question on Crypto SE.","body":"Those look decent HKDF implementations. Also, BouncyCastle seems to have an HKDF implementation (<a href=\"https://github.com/bcgit/bc-java/blob/542628f99e6cdb66b1d2373cb0e69f5bc2d6960f/core/src/main/java/org/bouncycastle/crypto/generators/HKDFBytesGenerator.java\" rel=\"nofollow noreferrer\">github.com/bcgit/bc-java/blob/&hellip;</a>) written by the same @Maarten_Bodewes who answered your same question on Crypto SE."}],"answers":[{"tags":[],"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1679862209,"creation_date":1507375377,"answer_id":46619583,"question_id":45985661,"body_markdown":"## HKDF Implementations in Java\r\n\r\nNo, [Hashed Message Authentication Code (HMAC)-based key derivation function (HKDF)][1] has, like most KDFs, no standard implementation in JCA (as of 2020).\r\n\r\nThere are some implementations embedded in other projects (like you already said):\r\n\r\n  * [mozilla-services/sync-crypto][2]\r\n  * [WhisperSystems/libsignal-protocol-java][3]\r\n  * [square/keywhiz][4]\r\n\r\nAlso there is, of course, [Bouncy Castle][5] which use their own Hmac/Mac implementations and APIs. BC is however a massive dependency, and may be unpractical for e.g. embedded or mobile use case. For this I implemented a **standalone**, lightweight java lib (passing all of the RFC 5869 test vectors), which works with any [`javax.crypto.Mac`][6] instance:\r\n\r\n* https://github.com/patrickfav/hkdf\r\n\r\nIf you prefer, you could, of course implement it on your own, it&#39;s a fairly straight forward spec, when using the built-in JCA Hmac implementation.\r\n\r\n## Info Parameter in HKDF\r\n\r\nFrom the [RFC 5869][7]:\r\n\r\n&gt; While the &#39;info&#39; value is optional in the definition of HKDF, it is   \r\n&gt; often of great importance in applications.  Its main objective is to  \r\n&gt; bind the derived key material to application- and context-specific   \r\n&gt; information. (...)  In particular, it may prevent the derivation\r\n&gt; of the same keying material for different contexts.\r\n\r\nSo for example if you want to derive an Secret Key and IV from the same source material you would use the info parameter ([using this lib][8]):\r\n\r\n```java\r\n//example input\r\nString userInput = &quot;this is a user input with bad entropy&quot;;\r\n\r\nHKDF hkdf = HKDF.fromHmacSha256();\r\n    \r\n//extract the &quot;raw&quot; data to create output with concentrated entropy\r\nbyte[] pseudoRandomKey = hkdf.extract(staticSalt32Byte, userInput.getBytes(StandardCharsets.UTF_8));\r\n    \r\n//create expanded bytes for e.g. AES secret key and IV\r\nbyte[] expandedAesKey = hkdf.expand(pseudoRandomKey, &quot;aes-key&quot;.getBytes(StandardCharsets.UTF_8), 16);\r\nbyte[] expandedIv = hkdf.expand(pseudoRandomKey, &quot;aes-iv&quot;.getBytes(StandardCharsets.UTF_8), 16);\r\n    \r\n//Example boilerplate encrypting a simple string with created key/iv\r\nSecretKey key = new SecretKeySpec(expandedAesKey, &quot;AES&quot;); //AES-128 key\r\nCipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\ncipher.init(Cipher.ENCRYPT_MODE, key, new IvParameterSpec(expandedIv));\r\nbyte[] encrypted = cipher.doFinal(&quot;my secret message&quot;.getBytes(StandardCharsets.UTF_8));\r\n```\r\n\r\n  [1]: https://eprint.iacr.org/2010/264.pdf\r\n  [2]: https://github.com/mozilla-services/sync-crypto/blob/master/src/main/java/org/mozilla/android/sync/crypto/HKDF.java\r\n  [3]: https://github.com/WhisperSystems/libsignal-protocol-java/blob/master/java/src/main/java/org/whispersystems/libsignal/kdf/HKDF.java\r\n  [4]: https://github.com/square/keywhiz/blob/master/hkdf/src/main/java/keywhiz/hkdf/Hkdf.java\r\n  [5]: https://github.com/bcgit/bc-java/blob/master/core/src/main/java/org/bouncycastle/crypto/generators/HKDFBytesGenerator.java\r\n  [6]: https://docs.oracle.com/javase/7/docs/api/javax/crypto/Mac.html\r\n  [7]: https://www.rfc-editor.org/rfc/rfc5869#section-3.2\r\n  [8]: https://github.com/patrickfav/hkdf","title":"Is HKDF implemented in Java Cryptography Architecture?","body":"<h2>HKDF Implementations in Java</h2>\n<p>No, <a href=\"https://eprint.iacr.org/2010/264.pdf\" rel=\"nofollow noreferrer\">Hashed Message Authentication Code (HMAC)-based key derivation function (HKDF)</a> has, like most KDFs, no standard implementation in JCA (as of 2020).</p>\n<p>There are some implementations embedded in other projects (like you already said):</p>\n<ul>\n<li><a href=\"https://github.com/mozilla-services/sync-crypto/blob/master/src/main/java/org/mozilla/android/sync/crypto/HKDF.java\" rel=\"nofollow noreferrer\">mozilla-services/sync-crypto</a></li>\n<li><a href=\"https://github.com/WhisperSystems/libsignal-protocol-java/blob/master/java/src/main/java/org/whispersystems/libsignal/kdf/HKDF.java\" rel=\"nofollow noreferrer\">WhisperSystems/libsignal-protocol-java</a></li>\n<li><a href=\"https://github.com/square/keywhiz/blob/master/hkdf/src/main/java/keywhiz/hkdf/Hkdf.java\" rel=\"nofollow noreferrer\">square/keywhiz</a></li>\n</ul>\n<p>Also there is, of course, <a href=\"https://github.com/bcgit/bc-java/blob/master/core/src/main/java/org/bouncycastle/crypto/generators/HKDFBytesGenerator.java\" rel=\"nofollow noreferrer\">Bouncy Castle</a> which use their own Hmac/Mac implementations and APIs. BC is however a massive dependency, and may be unpractical for e.g. embedded or mobile use case. For this I implemented a <strong>standalone</strong>, lightweight java lib (passing all of the RFC 5869 test vectors), which works with any <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/crypto/Mac.html\" rel=\"nofollow noreferrer\"><code>javax.crypto.Mac</code></a> instance:</p>\n<ul>\n<li><a href=\"https://github.com/patrickfav/hkdf\" rel=\"nofollow noreferrer\">https://github.com/patrickfav/hkdf</a></li>\n</ul>\n<p>If you prefer, you could, of course implement it on your own, it's a fairly straight forward spec, when using the built-in JCA Hmac implementation.</p>\n<h2>Info Parameter in HKDF</h2>\n<p>From the <a href=\"https://www.rfc-editor.org/rfc/rfc5869#section-3.2\" rel=\"nofollow noreferrer\">RFC 5869</a>:</p>\n<blockquote>\n<p>While the 'info' value is optional in the definition of HKDF, it is<br />\noften of great importance in applications.  Its main objective is to<br />\nbind the derived key material to application- and context-specific<br />\ninformation. (...)  In particular, it may prevent the derivation\nof the same keying material for different contexts.</p>\n</blockquote>\n<p>So for example if you want to derive an Secret Key and IV from the same source material you would use the info parameter (<a href=\"https://github.com/patrickfav/hkdf\" rel=\"nofollow noreferrer\">using this lib</a>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>//example input\nString userInput = &quot;this is a user input with bad entropy&quot;;\n\nHKDF hkdf = HKDF.fromHmacSha256();\n    \n//extract the &quot;raw&quot; data to create output with concentrated entropy\nbyte[] pseudoRandomKey = hkdf.extract(staticSalt32Byte, userInput.getBytes(StandardCharsets.UTF_8));\n    \n//create expanded bytes for e.g. AES secret key and IV\nbyte[] expandedAesKey = hkdf.expand(pseudoRandomKey, &quot;aes-key&quot;.getBytes(StandardCharsets.UTF_8), 16);\nbyte[] expandedIv = hkdf.expand(pseudoRandomKey, &quot;aes-iv&quot;.getBytes(StandardCharsets.UTF_8), 16);\n    \n//Example boilerplate encrypting a simple string with created key/iv\nSecretKey key = new SecretKeySpec(expandedAesKey, &quot;AES&quot;); //AES-128 key\nCipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\ncipher.init(Cipher.ENCRYPT_MODE, key, new IvParameterSpec(expandedIv));\nbyte[] encrypted = cipher.doFinal(&quot;my secret message&quot;.getBytes(StandardCharsets.UTF_8));\n</code></pre>\n"}],"owner":{"account_id":4105,"reputation":281414,"user_id":6068,"accept_rate":65,"display_name":"Pablo Fernandez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6762,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1679862851,"creation_date":1504195036,"question_id":45985661,"body_markdown":"In the application I&#39;m writing I need to do [HKDF][1] to derive two different keys from one password. Searching for examples on how to it in Java I found these two:\r\n\r\n- https://github.com/WhisperSystems/libsignal-protocol-java/blob/master/java/src/main/java/org/whispersystems/libsignal/kdf/HKDF.java\r\n- https://www.javatips.net/api/keywhiz-master/hkdf/src/main/java/keywhiz/hkdf/Hkdf.java\r\n\r\nIn both cases HKDF is implemented on top of the [HMAC][2] provided by [JCA][3]. I haven&#39;t read those implementations in detail yet but I was wondering, is this not implemented anywhere in JCA or itself? Do I have to implement my own HKDF?\r\n\r\nThe part that worries me the most, is making a mistake in applying the info argument. It looks non-trivial and critical.\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/HKDF\r\n  [2]: https://en.wikipedia.org/wiki/HMAC\r\n  [3]: https://en.wikipedia.org/wiki/Jakarta_Connectors","title":"Is HKDF implemented in Java Cryptography Architecture?","body":"<p>In the application I'm writing I need to do <a href=\"https://en.m.wikipedia.org/wiki/HKDF\" rel=\"nofollow noreferrer\">HKDF</a> to derive two different keys from one password. Searching for examples on how to it in Java I found these two:</p>\n<ul>\n<li><a href=\"https://github.com/WhisperSystems/libsignal-protocol-java/blob/master/java/src/main/java/org/whispersystems/libsignal/kdf/HKDF.java\" rel=\"nofollow noreferrer\">https://github.com/WhisperSystems/libsignal-protocol-java/blob/master/java/src/main/java/org/whispersystems/libsignal/kdf/HKDF.java</a></li>\n<li><a href=\"https://www.javatips.net/api/keywhiz-master/hkdf/src/main/java/keywhiz/hkdf/Hkdf.java\" rel=\"nofollow noreferrer\">https://www.javatips.net/api/keywhiz-master/hkdf/src/main/java/keywhiz/hkdf/Hkdf.java</a></li>\n</ul>\n<p>In both cases HKDF is implemented on top of the <a href=\"https://en.wikipedia.org/wiki/HMAC\" rel=\"nofollow noreferrer\">HMAC</a> provided by <a href=\"https://en.wikipedia.org/wiki/Jakarta_Connectors\" rel=\"nofollow noreferrer\">JCA</a>. I haven't read those implementations in detail yet but I was wondering, is this not implemented anywhere in JCA or itself? Do I have to implement my own HKDF?</p>\n<p>The part that worries me the most, is making a mistake in applying the info argument. It looks non-trivial and critical.</p>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":26916050,"reputation":11,"user_id":20490809,"display_name":"Mohan Sai0007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1679879090,"answer_count":0,"score":1,"last_activity_date":1679862844,"creation_date":1679853483,"question_id":75849569,"body_markdown":"I am trying to build a to-do app using **Android Studio** in `Kotlin`.\r\nWhen I am trying to use an id `tvTodoTitle` ,it says unresolved reference same goes for `cbDone` id.\r\n\r\nWhat should I do to solve the error?\r\n\r\n**Activity_main.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/rvTodoItems&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/btnAddTodo&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/etTodoTitle&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;Enter Todo Title&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@+id/btnAddTodo&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btnAddTodo&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Add Todo&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@+id/btnDeleteTodo&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btnDeleteTodo&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Delete Todo&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n**item_todo.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;80dp&quot;\r\n    android:paddingStart =&quot;8dp&quot;\r\n    android:paddingLeft=&quot;8dp&quot;\r\n    android:paddingEnd=&quot;8dp&quot;&gt;\r\n\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tvTodoTitle&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Sample&quot;\r\n        android:textSize=&quot;24sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@+id/cbDone&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;CheckBox\r\n        android:id=&quot;@+id/cbDone&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nthis the **todoAdapter.kt** file\r\n\r\n```\r\npackage com.mohan.project\r\n\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport androidx.recyclerview.widget.RecyclerView\r\n\r\nclass TodoAdapter\r\n    (private val todos:MutableList&lt;Todo&gt;): RecyclerView.Adapter&lt;TodoAdapter.TodoViewHolder&gt;()\r\n{\r\n    class TodoViewHolder(itemview: View): RecyclerView.ViewHolder(itemview)\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): TodoViewHolder {\r\nreturn TodoViewHolder(\r\n    LayoutInflater.from(parent.context).inflate(\r\n        R.layout.item_todo,\r\n        parent,\r\n        false\r\n    )\r\n)\r\n    }\r\n\r\n    override fun getItemCount(): Int {\r\n    return todos.size\r\n    }\r\n\r\n    override fun onBindViewHolder(holder: TodoViewHolder, position: Int) {\r\n        val curTodo=todos[position]\r\n        holder.itemView.apply {\r\n            tvTodoTitle.text = curTodo.title\r\n            cbDone.isChecked= curtodo.isChecked\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nIn the `onBindViewHolder` when I&#39;m trying to use **tvTodoTitle** it says unresolved reference.","title":"Unresolved reference while trying to use a xml id in kotlin file","body":"<p>I am trying to build a to-do app using <strong>Android Studio</strong> in <code>Kotlin</code>.\nWhen I am trying to use an id <code>tvTodoTitle</code> ,it says unresolved reference same goes for <code>cbDone</code> id.</p>\n<p>What should I do to solve the error?</p>\n<p><strong>Activity_main.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/rvTodoItems&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/btnAddTodo&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/etTodoTitle&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Enter Todo Title&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@+id/btnAddTodo&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btnAddTodo&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Add Todo&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@+id/btnDeleteTodo&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btnDeleteTodo&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Delete Todo&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>item_todo.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;80dp&quot;\n    android:paddingStart =&quot;8dp&quot;\n    android:paddingLeft=&quot;8dp&quot;\n    android:paddingEnd=&quot;8dp&quot;&gt;\n\n\n    &lt;TextView\n        android:id=&quot;@+id/tvTodoTitle&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Sample&quot;\n        android:textSize=&quot;24sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@+id/cbDone&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;CheckBox\n        android:id=&quot;@+id/cbDone&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>this the <strong>todoAdapter.kt</strong> file</p>\n<pre><code>package com.mohan.project\n\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport androidx.recyclerview.widget.RecyclerView\n\nclass TodoAdapter\n    (private val todos:MutableList&lt;Todo&gt;): RecyclerView.Adapter&lt;TodoAdapter.TodoViewHolder&gt;()\n{\n    class TodoViewHolder(itemview: View): RecyclerView.ViewHolder(itemview)\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): TodoViewHolder {\nreturn TodoViewHolder(\n    LayoutInflater.from(parent.context).inflate(\n        R.layout.item_todo,\n        parent,\n        false\n    )\n)\n    }\n\n    override fun getItemCount(): Int {\n    return todos.size\n    }\n\n    override fun onBindViewHolder(holder: TodoViewHolder, position: Int) {\n        val curTodo=todos[position]\n        holder.itemView.apply {\n            tvTodoTitle.text = curTodo.title\n            cbDone.isChecked= curtodo.isChecked\n        }\n    }\n}\n\n</code></pre>\n<p>In the <code>onBindViewHolder</code> when I'm trying to use <strong>tvTodoTitle</strong> it says unresolved reference.</p>\n"},{"tags":["java","oop","class","subclass"],"comments":[{"owner":{"account_id":70088,"reputation":12426,"user_id":203600,"accept_rate":100,"display_name":"Jonathon Faust"},"score":3,"creation_date":1303999983,"post_id":5819964,"comment_id":6678826,"body_markdown":"Go through the tutorials to grasp the basics: http://download.oracle.com/javase/tutorial/","body":"Go through the tutorials to grasp the basics: <a href=\"http://download.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\">download.oracle.com/javase/tutorial</a>"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1304000221,"post_id":5819964,"comment_id":6678914,"body_markdown":"I suggest you follow the Java Coding Convension and use camelCase for methods names and UpperCase for class names.  This way you won&#39;t confuse method and class names. Also never call System.exit() when you can throw an exception, like `throw new IllegalArgumentException(&quot;You can&#39;t leave it blank!&quot;)`","body":"I suggest you follow the Java Coding Convension and use camelCase for methods names and UpperCase for class names.  This way you won&#39;t confuse method and class names. Also never call System.exit() when you can throw an exception, like <code>throw new IllegalArgumentException(&quot;You can&#39;t leave it blank!&quot;)</code>"},{"owner":{"account_id":377371,"reputation":850,"user_id":729457,"accept_rate":100,"display_name":"Evan Darwin"},"score":0,"creation_date":1304000637,"post_id":5819964,"comment_id":6679035,"body_markdown":"@BalusC So how do you declare them as classes? The only thing I&#39;m confused with is IllegalArgumentException (which I&#39;m sorta getting now) and classes and methods.","body":"@BalusC So how do you declare them as classes? The only thing I&#39;m confused with is IllegalArgumentException (which I&#39;m sorta getting now) and classes and methods."}],"answers":[{"tags":[],"owner":{"account_id":92026,"reputation":35050,"user_id":1977903,"accept_rate":96,"display_name":"bragboy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1303999932,"creation_date":1303999932,"answer_id":5819985,"question_id":5819964,"body_markdown":"Inputter() that you have defined is a method or you can call it a behavior. You cannot create an instance for a behavior. \r\n\r\nOne more problem is that you cannot have return types on a constructor. Helper is the class name and the constructor is having a return type which is incorrect\r\n\r\nRegarding your quesiton, if you want to call Inputter, you should do it something like the following.\r\n\r\n    Helper helper = new Helper(&quot;test&quot;);\r\n    helper.Inputter(100);\r\n\r\nIt is a good practice to start methods with smaller case letters.","title":"Java Classes are extremely confusing to me","body":"<p>Inputter() that you have defined is a method or you can call it a behavior. You cannot create an instance for a behavior. </p>\n\n<p>One more problem is that you cannot have return types on a constructor. Helper is the class name and the constructor is having a return type which is incorrect</p>\n\n<p>Regarding your quesiton, if you want to call Inputter, you should do it something like the following.</p>\n\n<pre><code>Helper helper = new Helper(\"test\");\nhelper.Inputter(100);\n</code></pre>\n\n<p>It is a good practice to start methods with smaller case letters.</p>\n"},{"tags":[],"owner":{"account_id":65544,"reputation":26923,"user_id":192801,"accept_rate":90,"display_name":"FrustratedWithFormsDesigner"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1304000601,"creation_date":1303999949,"answer_id":5819992,"question_id":5819964,"body_markdown":"You must create an instance of `Helper` Before you can use `Inputter`:\r\n\r\n    Helper x = new Helper(&quot;some string&quot;);\r\n\r\nto *use* `Inputter`, try this:\r\n\r\n    //create a new helper\r\n    Helper x = new Helper(&quot;some string&quot;); \r\n    //use the Inputter method of the helper.\r\n    x.Inputter(1); \r\n\r\nThe thing to understand here is that `Helper` is the class, `x` is an *instance* of a class, and `Inputter` is a *instance method* (which is different from a *static method*) in the `Helper` class.\r\n","title":"Java Classes are extremely confusing to me","body":"<p>You must create an instance of <code>Helper</code> Before you can use <code>Inputter</code>:</p>\n\n<pre><code>Helper x = new Helper(\"some string\");\n</code></pre>\n\n<p>to <em>use</em> <code>Inputter</code>, try this:</p>\n\n<pre><code>//create a new helper\nHelper x = new Helper(\"some string\"); \n//use the Inputter method of the helper.\nx.Inputter(1); \n</code></pre>\n\n<p>The thing to understand here is that <code>Helper</code> is the class, <code>x</code> is an <em>instance</em> of a class, and <code>Inputter</code> is a <em>instance method</em> (which is different from a <em>static method</em>) in the <code>Helper</code> class.</p>\n"},{"tags":[],"owner":{"account_id":82188,"reputation":7572,"user_id":231290,"accept_rate":94,"display_name":"Lukasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303999959,"creation_date":1303999959,"answer_id":5819996,"question_id":5819964,"body_markdown":"Inputter in your code is not a class. It is a method.\r\n\r\nTo make following statement correct:\r\n\r\n    Helper x = new Inputter();\r\n\r\nyou would need to create Inputter class that **extends** Helper class.","title":"Java Classes are extremely confusing to me","body":"<p>Inputter in your code is not a class. It is a method.</p>\n\n<p>To make following statement correct:</p>\n\n<pre><code>Helper x = new Inputter();\n</code></pre>\n\n<p>you would need to create Inputter class that <strong>extends</strong> Helper class.</p>\n"},{"tags":[],"owner":{"account_id":280045,"reputation":6775,"user_id":575520,"accept_rate":67,"display_name":"Laurent Pireyn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303999971,"creation_date":1303999971,"answer_id":5820002,"question_id":5819964,"body_markdown":"`Inputter` is not a class. It&#39;s a method of the `Helper` class. So you cannot instantiate it.","title":"Java Classes are extremely confusing to me","body":"<p><code>Inputter</code> is not a class. It's a method of the <code>Helper</code> class. So you cannot instantiate it.</p>\n"},{"tags":[],"owner":{"account_id":101585,"reputation":107721,"user_id":273200,"accept_rate":100,"display_name":"Bala R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303999991,"creation_date":1303999991,"answer_id":5820006,"question_id":5819964,"body_markdown":"You can call it like this\r\n\r\n    String someString = &quot;some string&quot;;\r\n    Helper x = new Helper(someString);\r\n    int someInt = 1;\r\n    x.Inputter(someInt);","title":"Java Classes are extremely confusing to me","body":"<p>You can call it like this</p>\n\n<pre><code>String someString = \"some string\";\nHelper x = new Helper(someString);\nint someInt = 1;\nx.Inputter(someInt);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":360587,"reputation":1230,"user_id":702656,"accept_rate":64,"display_name":"brandon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1304000086,"creation_date":1304000086,"answer_id":5820025,"question_id":5819964,"body_markdown":"The only object here is Helper. If you want to make a new helper, then you will instantiate it by saying\r\n\r\n    Helper X = new Helper(&quot;blah blah&quot;);\r\n\r\nIf you want to call Inputter then you just say \r\n\r\n    X.Inputter(1234);\r\n\r\nWhich will call the Inputter function for the specific instance X of Helper","title":"Java Classes are extremely confusing to me","body":"<p>The only object here is Helper. If you want to make a new helper, then you will instantiate it by saying</p>\n\n<pre><code>Helper X = new Helper(\"blah blah\");\n</code></pre>\n\n<p>If you want to call Inputter then you just say </p>\n\n<pre><code>X.Inputter(1234);\n</code></pre>\n\n<p>Which will call the Inputter function for the specific instance X of Helper</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1304001169,"creation_date":1304000427,"answer_id":5820095,"question_id":5819964,"body_markdown":"Your problem is not with classes, it is with constructors and methods, and the difference between them.\r\n\r\nMethods can have any name you like, they must declare a return type (possibly `void`), and they&#39;re called like this: \r\n\r\n    ReturnType r = methodName(param1, param2)\r\n\r\nConstructors are used to create instances of classes (objects). They must have the same name as the class, they *must not* have a return type (not even `void`), and they&#39;re called like this: \r\n\r\n    MyClass m = new MyClass(param1, param2);\r\n\r\nThere are several problems in your code:\r\n\r\n - `Helper` has the correct name for a constructor, but because it declares a `void` return type, the compiler will treat it as a method.\r\n - `Inputter` doesn&#39;t even have the correct name for a constructor. To use it as a constructor with `new`, it would have to be part of a class called `Inputter`\r\n\r\nPerhaps you should start out reading the [introduction to OO][1] part of the Java tutorial.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/java/concepts/index.html","title":"Java Classes are extremely confusing to me","body":"<p>Your problem is not with classes, it is with constructors and methods, and the difference between them.</p>\n\n<p>Methods can have any name you like, they must declare a return type (possibly <code>void</code>), and they're called like this: </p>\n\n<pre><code>ReturnType r = methodName(param1, param2)\n</code></pre>\n\n<p>Constructors are used to create instances of classes (objects). They must have the same name as the class, they <em>must not</em> have a return type (not even <code>void</code>), and they're called like this: </p>\n\n<pre><code>MyClass m = new MyClass(param1, param2);\n</code></pre>\n\n<p>There are several problems in your code:</p>\n\n<ul>\n<li><code>Helper</code> has the correct name for a constructor, but because it declares a <code>void</code> return type, the compiler will treat it as a method.</li>\n<li><code>Inputter</code> doesn't even have the correct name for a constructor. To use it as a constructor with <code>new</code>, it would have to be part of a class called <code>Inputter</code></li>\n</ul>\n\n<p>Perhaps you should start out reading the <a href=\"http://download.oracle.com/javase/tutorial/java/concepts/index.html\" rel=\"noreferrer\">introduction to OO</a> part of the Java tutorial.</p>\n"},{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304001065,"creation_date":1304000657,"answer_id":5820149,"question_id":5819964,"body_markdown":"First, start with the basics.\r\n\r\nClasses best represent nouns.  That means a Class is a model of (typically) a thing.  Methods best represent verbs on those nouns.  Drifting away from this ideal is sometimes necessary; however, the further you stay away from such an ideal, the harder it will be to understand what is going on.  With a nod to the exceptions, since you&#39;re a beginner let us not get wrapped up in the exception but follow the rule.\r\n\r\n    public class Person {\r\n\r\n       private String name;\r\n\r\n       private int age;\r\n\r\n       public Person(String name) {\r\n         this.name = name;\r\n         this.age = -1;\r\n       }\r\n\r\n       public void setAge(int value) {\r\n         if (value &lt; 0) {\r\n           throw new IllegalArgumentException(&quot;Age must be greater than zero&quot;);\r\n         }\r\n         this.age = value;\r\n       }\r\n\r\n       public int getAge() throws IllegalStateException {\r\n         if (age &lt; 0) {\r\n           throw new IllegalStateException(&quot;Age was not set&quot;);\r\n         }\r\n         return this.age;\r\n       }\r\n    }\r\n\r\nRead through the class above, and use its style for your beginning programs.  When you find that its style is hindering you more than helping you, then you might have found a place where other techniques are needed. ","title":"Java Classes are extremely confusing to me","body":"<p>First, start with the basics.</p>\n\n<p>Classes best represent nouns.  That means a Class is a model of (typically) a thing.  Methods best represent verbs on those nouns.  Drifting away from this ideal is sometimes necessary; however, the further you stay away from such an ideal, the harder it will be to understand what is going on.  With a nod to the exceptions, since you're a beginner let us not get wrapped up in the exception but follow the rule.</p>\n\n<pre><code>public class Person {\n\n   private String name;\n\n   private int age;\n\n   public Person(String name) {\n     this.name = name;\n     this.age = -1;\n   }\n\n   public void setAge(int value) {\n     if (value &lt; 0) {\n       throw new IllegalArgumentException(\"Age must be greater than zero\");\n     }\n     this.age = value;\n   }\n\n   public int getAge() throws IllegalStateException {\n     if (age &lt; 0) {\n       throw new IllegalStateException(\"Age was not set\");\n     }\n     return this.age;\n   }\n}\n</code></pre>\n\n<p>Read through the class above, and use its style for your beginning programs.  When you find that its style is hindering you more than helping you, then you might have found a place where other techniques are needed. </p>\n"},{"tags":[],"owner":{"account_id":306801,"reputation":39190,"user_id":617762,"accept_rate":93,"display_name":"Zirak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304000785,"creation_date":1304000785,"answer_id":5820169,"question_id":5819964,"body_markdown":"The `new` keyword is reserved for instantiating (fancy word for saying &quot;making new&quot;) classes. The way your class is made, when you make a new `Helper`, a function is run. That is the construct function, and is named like the class.\r\n\r\nOnce you instantiate a class, you gain access to the goodies within it (exception is a `static` method/attribute, where anyone can access it); all within the class that isn&#39;t `private` or `protected`.\r\n\r\nNow, a short intro on OOP (Object Oriented Programming):\r\nYou have classes, which are basically blocks of functionality. Within these classes are two things: Methods and Attributes (many names for that, but that&#39;s what I call them.)\r\n\r\nA Method is basically a good ol` function: It has an input and an output.\r\nAn attribute is really like any other variable.\r\n\r\nNow, in Java and many other OO languages, there&#39;s a separation between the class declaration and class instances. A class declaration is basically the static coded class; exactly what you put in the code. A class instance is taking the class declaration and putting it into use: You can change and use the methods and attributes inside them.\r\n\r\nSo, if you want to call Inputter, you should do it like this:\r\n\r\n    Helper bob = new Helper(&#39;Bloop&#39;);\r\n    bob.Inputter(42);\r\n\r\nWhat happened here? We made a new variable called `bob` which has a type of `Helper`. When constructing the new Helper, we also run the constructor. Looking at the constructor function, we pass a value to it (in this case, `&#39;Bloop&#39;`), and the function is run normally, without us having to manually call it.\r\n\r\nNow we want to use the Helper class&#39; Inputter method. For that, we need to access an instance of the Helper class (in our case `bob`), by using `bob.` (notice the dot), and then calling it like any other function: `Inputter(parameters)`. Gluing it together we get `bob.Inputter(parameters)`\r\n\r\nThis was a really rather lame explanation of Object orientation that didn&#39;t cover that much, but it should get you started. I recommend getting a book about Java or reading online tutorials.","title":"Java Classes are extremely confusing to me","body":"<p>The <code>new</code> keyword is reserved for instantiating (fancy word for saying \"making new\") classes. The way your class is made, when you make a new <code>Helper</code>, a function is run. That is the construct function, and is named like the class.</p>\n\n<p>Once you instantiate a class, you gain access to the goodies within it (exception is a <code>static</code> method/attribute, where anyone can access it); all within the class that isn't <code>private</code> or <code>protected</code>.</p>\n\n<p>Now, a short intro on OOP (Object Oriented Programming):\nYou have classes, which are basically blocks of functionality. Within these classes are two things: Methods and Attributes (many names for that, but that's what I call them.)</p>\n\n<p>A Method is basically a good ol` function: It has an input and an output.\nAn attribute is really like any other variable.</p>\n\n<p>Now, in Java and many other OO languages, there's a separation between the class declaration and class instances. A class declaration is basically the static coded class; exactly what you put in the code. A class instance is taking the class declaration and putting it into use: You can change and use the methods and attributes inside them.</p>\n\n<p>So, if you want to call Inputter, you should do it like this:</p>\n\n<pre><code>Helper bob = new Helper('Bloop');\nbob.Inputter(42);\n</code></pre>\n\n<p>What happened here? We made a new variable called <code>bob</code> which has a type of <code>Helper</code>. When constructing the new Helper, we also run the constructor. Looking at the constructor function, we pass a value to it (in this case, <code>'Bloop'</code>), and the function is run normally, without us having to manually call it.</p>\n\n<p>Now we want to use the Helper class' Inputter method. For that, we need to access an instance of the Helper class (in our case <code>bob</code>), by using <code>bob.</code> (notice the dot), and then calling it like any other function: <code>Inputter(parameters)</code>. Gluing it together we get <code>bob.Inputter(parameters)</code></p>\n\n<p>This was a really rather lame explanation of Object orientation that didn't cover that much, but it should get you started. I recommend getting a book about Java or reading online tutorials.</p>\n"}],"owner":{"account_id":377371,"reputation":850,"user_id":729457,"accept_rate":100,"display_name":"Evan Darwin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2682,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":5820095,"answer_count":9,"score":4,"last_activity_date":1679862813,"creation_date":1303999839,"question_id":5819964,"body_markdown":"I am having some trouble understanding classes in Java.\r\n\r\nSuch as how do you declare &quot;Inputter&quot; in the helper class like this?\r\n\r\n    public class Helper\r\n    {\r\n         public void Helper(String z)\r\n         {\r\n              if(z.length() == 0)\r\n              {\r\n                   System.out.println(&quot;You can&#39;t leave it blank!&quot;);\r\n                   System.exit(1);\r\n                   System.out.println(&quot;It&#39;s not working... ;(&quot;);\r\n              }\r\n         }\r\n         \r\n         public void Inputter(int a)\r\n         {\r\n              // blah blah\r\n         }\r\n    }\r\nWould you call it like this?\r\n\r\n    Helper x = new Inputter();\r\n\r\nPlease help, and NO this is NOT a homework question.\r\n\r\nThanks,\r\nSmiling\r\n\r\n\r\nEDIT: Would this be right:\r\n\r\n    public class Helper\r\n    {\r\n         public Helper(String z)\r\n         {\r\n              if(z.length() == 0)\r\n              {\r\n                   System.out.println(&quot;You can&#39;t leave it blank!&quot;);\r\n                   System.exit(1);\r\n                   System.out.println(&quot;It&#39;s not working... ;(&quot;);\r\n              }\r\n         }\r\n         \r\n         public void Inputter(int a)\r\n         {\r\n              // blah blah\r\n         }\r\n    }\r\n\r\nand declared with:\r\n\r\n    Helper x = Helper();","title":"Java Classes are extremely confusing to me","body":"<p>I am having some trouble understanding classes in Java.</p>\n<p>Such as how do you declare &quot;Inputter&quot; in the helper class like this?</p>\n<pre><code>public class Helper\n{\n     public void Helper(String z)\n     {\n          if(z.length() == 0)\n          {\n               System.out.println(&quot;You can't leave it blank!&quot;);\n               System.exit(1);\n               System.out.println(&quot;It's not working... ;(&quot;);\n          }\n     }\n     \n     public void Inputter(int a)\n     {\n          // blah blah\n     }\n}\n</code></pre>\n<p>Would you call it like this?</p>\n<pre><code>Helper x = new Inputter();\n</code></pre>\n<p>Please help, and NO this is NOT a homework question.</p>\n<p>Thanks,\nSmiling</p>\n<p>EDIT: Would this be right:</p>\n<pre><code>public class Helper\n{\n     public Helper(String z)\n     {\n          if(z.length() == 0)\n          {\n               System.out.println(&quot;You can't leave it blank!&quot;);\n               System.exit(1);\n               System.out.println(&quot;It's not working... ;(&quot;);\n          }\n     }\n     \n     public void Inputter(int a)\n     {\n          // blah blah\n     }\n}\n</code></pre>\n<p>and declared with:</p>\n<pre><code>Helper x = Helper();\n</code></pre>\n"},{"tags":["java","for-loop","recursion"],"owner":{"account_id":28126319,"reputation":1,"user_id":21491647,"display_name":"Nantate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679862739,"creation_date":1679802603,"question_id":75845759,"body_markdown":"This code can draw &#39;english ruler&#39;\r\nIt&#39;s made of java, and using recursion in &#39;drawInterval&#39; method.\r\nI want to make drawInterval method using for loop.\r\n\r\n\r\n\r\n```java\r\npublic class work1 {\r\n    public static void drawRuler(int nInches, int majorLength) {\r\n        drawLine(majorLength, 0);\r\n        for (int j = 1; j &lt;= nInches; j++) {\r\n            drawInterval(majorLength - 1);\r\n\t\t\tdrawLine(majorLength, j);\r\n\t\t}\r\n    }\r\n\t\r\n    private static void drawInterval(int centralLength) {\r\n\t\tif (centralLength &gt;= 1) {\r\n\t\t\tdrawInterval(centralLength - 1);\r\n\t\t\tdrawLine(centralLength);\r\n\t\t\tdrawInterval(centralLength - 1);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static void drawLine(int tickLength, int tickLabel) {\r\n\t\tfor (int j = 0; j &lt; tickLength; j++)\r\n    \t\tSystem.out.print(&quot;-&quot;);\r\n\t\tif (tickLabel &gt;= 0)\r\n\t    \tSystem.out.print(&quot; &quot; + tickLabel);\r\n\t\tSystem.out.print(&quot;\\n&quot;);\r\n    }\r\n\t\r\n    private static void drawLine(int tickLength) {\r\n        drawLine(tickLength, -1);\r\n\t}\r\n}\r\n```\r\n\r\nfor loop I made\r\n\r\n```\r\n\tprivate static void drawInterval(int centralLength) {\r\n\t    for (int i = 0; i &lt; centralLength; i++) {\r\n\t        drawLine(i + 1);\r\n\t        if (i != 0) {\r\n\t        \tdrawLine(1);\r\n\t        }\r\n\t    }\r\n\t    for (int i = centralLength - 1; i &gt;= 1; i--) {\r\n\t        drawLine(i);\r\n\t        if (i &gt; 2) {\r\n\t        \tdrawLine(1);\r\n\t        }\r\n\t    }\r\n\t}\r\n```\r\n\r\n\r\nI can&#39;t figure out what&#39;s wrong ","title":"convert double recursion to for loop","body":"<p>This code can draw 'english ruler'\nIt's made of java, and using recursion in 'drawInterval' method.\nI want to make drawInterval method using for loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class work1 {\n    public static void drawRuler(int nInches, int majorLength) {\n        drawLine(majorLength, 0);\n        for (int j = 1; j &lt;= nInches; j++) {\n            drawInterval(majorLength - 1);\n            drawLine(majorLength, j);\n        }\n    }\n    \n    private static void drawInterval(int centralLength) {\n        if (centralLength &gt;= 1) {\n            drawInterval(centralLength - 1);\n            drawLine(centralLength);\n            drawInterval(centralLength - 1);\n        }\n    }\n\n    private static void drawLine(int tickLength, int tickLabel) {\n        for (int j = 0; j &lt; tickLength; j++)\n            System.out.print(&quot;-&quot;);\n        if (tickLabel &gt;= 0)\n            System.out.print(&quot; &quot; + tickLabel);\n        System.out.print(&quot;\\n&quot;);\n    }\n    \n    private static void drawLine(int tickLength) {\n        drawLine(tickLength, -1);\n    }\n}\n</code></pre>\n<p>for loop I made</p>\n<pre><code>    private static void drawInterval(int centralLength) {\n        for (int i = 0; i &lt; centralLength; i++) {\n            drawLine(i + 1);\n            if (i != 0) {\n                drawLine(1);\n            }\n        }\n        for (int i = centralLength - 1; i &gt;= 1; i--) {\n            drawLine(i);\n            if (i &gt; 2) {\n                drawLine(1);\n            }\n        }\n    }\n</code></pre>\n<p>I can't figure out what's wrong</p>\n"},{"tags":["java","android","in-app-purchase","android-billing"],"answers":[{"tags":[],"owner":{"account_id":6209363,"reputation":496,"user_id":9655696,"display_name":"Al Ro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679862280,"creation_date":1679862280,"answer_id":75850365,"question_id":75717507,"body_markdown":"So this turned out to be a combination of issues:\r\n\r\n 1.  onPurchasesUpdated is called by the billing API inside a try/catch that silently eats errors(come on google, at least log.e them!). So my code was causing exceptions that I never saw. Solution: wrap your function inside another try/catch so that you can at least TOAST the errors or you&#39;ll never know what and why things are failing! Once I figured this out, it was mostly easy to figure out the rest.\r\n 2. I was updating the UI from my code to trace the order of what happened with something less easy to miss than a toast. But in fact any attempt to touch the UI caused an exception because the listener doesn&#39;t get called in the UI thread. So you need to use a runnable, like this:\r\n\r\n    public String headerTxt(String str)\r\n    \t{\r\n    \trunOnUiThread(new Runnable() {\t@Override \tpublic void run() \t{\r\n    \t\theader.setText(str);\r\n    \t\t}}); return str;\r\n    \t}\r\n\r\n3. the play store status does not update very quickly; ie a purchase will show as pending or consumable way after you have successfully consumed a pending purchase. As much as 4 hours can pass before the console shows the true status. Makes debugging very tricky. Hopefully they will make it closer to real time someday.\r\n\r\n\r\nSo the working version of the code (using the headerTxt function defined above) looks quite similar to the original code.\r\n\r\n    public void onPurchasesUpdated(BillingResult billingResult, List&lt;Purchase&gt; purchases) {\r\n    \tif (billingResult.getResponseCode() == BillingClient.BillingResponseCode.USER_CANCELED)\r\n    \t\t{toastUI(&quot;Purchase Canceled&quot;); return;}\r\n    \r\n    \tif (billingResult.getResponseCode() != \tBillingClient.BillingResponseCode.OK || purchases == null)\r\n    \t\t{toastUI(&quot;Error: &quot; + billingResult.toString()); return; }\r\n    \r\n    \t// only option left is BillingClient.BillingResponseCode.OK\r\n    \r\n    \tfor (Purchase purchase : purchases)\r\n    \t\t{\r\n    \t\tif (purchase.getPurchaseState() == Purchase.PurchaseState.PENDING)\r\n    \t\t\tLog.e(TAG, headerTxt(&quot;Pending Purchase; you may return later to complete &quot;)  );\r\n    \t\telse\r\n    \t\t\t{\r\n    \t\t\tConsumeParams consumeParams = ConsumeParams.newBuilder().setPurchaseToken(purchase.getPurchaseToken()).build();\r\n    \r\n    \t\t\tConsumeResponseListener listener = (billingResult1, purchaseToken) -&gt; {\r\n    \t\t\tif (billingResult1.getResponseCode() == BillingClient.BillingResponseCode.OK)\r\n    \t\t\t\t{\r\n    \t\t\t\tLog.e(TAG, headerTxt(&quot;Purchase Complete: &quot; + purchase.getProducts())  );\r\n    \r\n    \t\t\t\tMainActivity.settings.edit().putString(&quot;IAP&quot;,  purchase.getProducts().get(0).toString()).commit();\r\n    \t\t\t\t}\r\n    \t\t\telse if (billingResult1.getResponseCode() == BillingClient.BillingResponseCode.SERVICE_DISCONNECTED)\r\n    \t\t\t\t{\r\n    \t\t\t\tLog.e(TAG, \theaderTxt(&quot;Server disconnected, retrying &quot; + billingResult1.toString())  );\r\n    \t\t\t\tbillingClient.startConnection(IAP_Activity.this);  \r\n    \t\t\t\t}\r\n    \t\t\telse\r\n    \t\t\t\tLog.e(TAG, headerTxt(&quot;purchase consumption failed: \\n &quot; + billingResult1.getDebugMessage())  );\r\n    \t\t\t};\r\n    \r\n    \t\t\tbillingClient.consumeAsync(consumeParams, listener);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n\r\n","title":"ConsumeResponseListener always reports SERVICE_DISCONNECTED for pending purchases","body":"<p>So this turned out to be a combination of issues:</p>\n<ol>\n<li><p>onPurchasesUpdated is called by the billing API inside a try/catch that silently eats errors(come on google, at least log.e them!). So my code was causing exceptions that I never saw. Solution: wrap your function inside another try/catch so that you can at least TOAST the errors or you'll never know what and why things are failing! Once I figured this out, it was mostly easy to figure out the rest.</p>\n</li>\n<li><p>I was updating the UI from my code to trace the order of what happened with something less easy to miss than a toast. But in fact any attempt to touch the UI caused an exception because the listener doesn't get called in the UI thread. So you need to use a runnable, like this:</p>\n<p>public String headerTxt(String str)\n{\nrunOnUiThread(new Runnable() {  @Override   public void run()   {\nheader.setText(str);\n}}); return str;\n}</p>\n</li>\n<li><p>the play store status does not update very quickly; ie a purchase will show as pending or consumable way after you have successfully consumed a pending purchase. As much as 4 hours can pass before the console shows the true status. Makes debugging very tricky. Hopefully they will make it closer to real time someday.</p>\n</li>\n</ol>\n<p>So the working version of the code (using the headerTxt function defined above) looks quite similar to the original code.</p>\n<pre><code>public void onPurchasesUpdated(BillingResult billingResult, List&lt;Purchase&gt; purchases) {\n    if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.USER_CANCELED)\n        {toastUI(&quot;Purchase Canceled&quot;); return;}\n\n    if (billingResult.getResponseCode() !=  BillingClient.BillingResponseCode.OK || purchases == null)\n        {toastUI(&quot;Error: &quot; + billingResult.toString()); return; }\n\n    // only option left is BillingClient.BillingResponseCode.OK\n\n    for (Purchase purchase : purchases)\n        {\n        if (purchase.getPurchaseState() == Purchase.PurchaseState.PENDING)\n            Log.e(TAG, headerTxt(&quot;Pending Purchase; you may return later to complete &quot;)  );\n        else\n            {\n            ConsumeParams consumeParams = ConsumeParams.newBuilder().setPurchaseToken(purchase.getPurchaseToken()).build();\n\n            ConsumeResponseListener listener = (billingResult1, purchaseToken) -&gt; {\n            if (billingResult1.getResponseCode() == BillingClient.BillingResponseCode.OK)\n                {\n                Log.e(TAG, headerTxt(&quot;Purchase Complete: &quot; + purchase.getProducts())  );\n\n                MainActivity.settings.edit().putString(&quot;IAP&quot;,  purchase.getProducts().get(0).toString()).commit();\n                }\n            else if (billingResult1.getResponseCode() == BillingClient.BillingResponseCode.SERVICE_DISCONNECTED)\n                {\n                Log.e(TAG,  headerTxt(&quot;Server disconnected, retrying &quot; + billingResult1.toString())  );\n                billingClient.startConnection(IAP_Activity.this);  \n                }\n            else\n                Log.e(TAG, headerTxt(&quot;purchase consumption failed: \\n &quot; + billingResult1.getDebugMessage())  );\n            };\n\n            billingClient.consumeAsync(consumeParams, listener);\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":6209363,"reputation":496,"user_id":9655696,"display_name":"Al Ro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75850365,"answer_count":1,"score":2,"last_activity_date":1679862280,"creation_date":1678672861,"question_id":75717507,"body_markdown":"I&#39;m using google IAP billing library 5, and after more or less directly copying the code from developer.android.com I&#39;m getting a SERVICE_DISCONNECTED error whenever I try to consume a INAPP purchase that was formally PENDING and has just become CHARGEABLE. While it&#39;s plausible that the server has indeed disconnected, this is only 1-2 minutes after making the (test) charge, and my onBillingServiceDisconnected() listener does not get called until much, much later. So I&#39;m wondering if it&#39;s a false alarm and something else is really the problem. Indeed, if I then force a re-connection it (falsely) reports there are no CHARGEABLE purchases; if however I quit the app completely and come back I do detect the CHARGEABLE purchase and am able to successfully consume it. \r\n\r\n(Note, test charges that don&#39;t go thru a PENDING state get consumed with zero problems every time).\r\n\r\n\r\n\r\n\r\n    public void onPurchasesUpdated(BillingResult billingResult, List&lt;Purchase&gt; purchases) {\r\n    \trunOnUiThread(new Runnable() \t{\t@Override \tpublic void run()\r\n    \t{\r\n    \tif (billingResult.getResponseCode() == BillingClient.BillingResponseCode.USER_CANCELED)\r\n    \t\t{toastUI(&quot;Purchase Canceled&quot;); return;}\r\n    \r\n    \tif (billingResult.getResponseCode() != \tBillingClient.BillingResponseCode.OK || purchases == null)\r\n    \t\t{toastUI(&quot;Error: &quot; + billingResult.getDebugMessage()); return; }\r\n    \r\n    \t// only option left is BillingClient.BillingResponseCode.OK\r\n    \r\n    \tfor (Purchase purchase : purchases)\r\n    \t\t{\r\n    \t\tif (purchase.getPurchaseState() == Purchase.PurchaseState.PENDING)\r\n    \t\t\theader.setText(&quot;Pending Purchase; you may return later to complete &quot;);\r\n    \t\telse\r\n    \t\t\t{\r\n    \t\t\tConsumeParams consumeParams = ConsumeParams.newBuilder().setPurchaseToken(purchase.getPurchaseToken()).build();\r\n    \r\n    \t\t\tConsumeResponseListener listener = (billingResult1, purchaseToken) -&gt; {\r\n    \t\t\tif (billingResult1.getResponseCode() == BillingClient.BillingResponseCode.OK)\r\n    \t\t\t\t{\r\n    \t\t\t\theader.setText(&quot;Purchase Complete: &quot; + purchase.getProducts());\r\n    \t\t\t\tLog.e(TAG, &quot;purchase complete&quot;);\r\n    \t\t\t\t//TODO now we just need to apply the purchase to the main game\r\n    \t\t\t\t}\r\n    \t\t\telse if (billingResult1.getResponseCode() == BillingClient.BillingResponseCode.SERVICE_DISCONNECTED)\r\n    \t\t\t\t{\r\n    \t\t\t\tLog.e(TAG, &quot;Server disconnected, retrying&quot;);\r\n    \t\t\t\theader.setText(&quot;Server disconnected, retrying &quot;+ billingResult1.toString());\r\n    \t\t\t\tbillingClient.startConnection(IAP_Activity.this);\r\n    \t\t\t\t}\r\n    \t\t\telse\r\n    \t\t\t\t\theader.setText(&quot;purchase consumption failed: \\n &quot; + billingResult1.getDebugMessage());\r\n    \t\t\t};\r\n    \r\n    \t\t\tbillingClient.consumeAsync(consumeParams, listener);\r\n    \t\t\t}\r\n    \t\t}}}); // run on UI thread\r\n    \t}\r\n\r\n","title":"ConsumeResponseListener always reports SERVICE_DISCONNECTED for pending purchases","body":"<p>I'm using google IAP billing library 5, and after more or less directly copying the code from developer.android.com I'm getting a SERVICE_DISCONNECTED error whenever I try to consume a INAPP purchase that was formally PENDING and has just become CHARGEABLE. While it's plausible that the server has indeed disconnected, this is only 1-2 minutes after making the (test) charge, and my onBillingServiceDisconnected() listener does not get called until much, much later. So I'm wondering if it's a false alarm and something else is really the problem. Indeed, if I then force a re-connection it (falsely) reports there are no CHARGEABLE purchases; if however I quit the app completely and come back I do detect the CHARGEABLE purchase and am able to successfully consume it.</p>\n<p>(Note, test charges that don't go thru a PENDING state get consumed with zero problems every time).</p>\n<pre><code>public void onPurchasesUpdated(BillingResult billingResult, List&lt;Purchase&gt; purchases) {\n    runOnUiThread(new Runnable()    {   @Override   public void run()\n    {\n    if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.USER_CANCELED)\n        {toastUI(&quot;Purchase Canceled&quot;); return;}\n\n    if (billingResult.getResponseCode() !=  BillingClient.BillingResponseCode.OK || purchases == null)\n        {toastUI(&quot;Error: &quot; + billingResult.getDebugMessage()); return; }\n\n    // only option left is BillingClient.BillingResponseCode.OK\n\n    for (Purchase purchase : purchases)\n        {\n        if (purchase.getPurchaseState() == Purchase.PurchaseState.PENDING)\n            header.setText(&quot;Pending Purchase; you may return later to complete &quot;);\n        else\n            {\n            ConsumeParams consumeParams = ConsumeParams.newBuilder().setPurchaseToken(purchase.getPurchaseToken()).build();\n\n            ConsumeResponseListener listener = (billingResult1, purchaseToken) -&gt; {\n            if (billingResult1.getResponseCode() == BillingClient.BillingResponseCode.OK)\n                {\n                header.setText(&quot;Purchase Complete: &quot; + purchase.getProducts());\n                Log.e(TAG, &quot;purchase complete&quot;);\n                //TODO now we just need to apply the purchase to the main game\n                }\n            else if (billingResult1.getResponseCode() == BillingClient.BillingResponseCode.SERVICE_DISCONNECTED)\n                {\n                Log.e(TAG, &quot;Server disconnected, retrying&quot;);\n                header.setText(&quot;Server disconnected, retrying &quot;+ billingResult1.toString());\n                billingClient.startConnection(IAP_Activity.this);\n                }\n            else\n                    header.setText(&quot;purchase consumption failed: \\n &quot; + billingResult1.getDebugMessage());\n            };\n\n            billingClient.consumeAsync(consumeParams, listener);\n            }\n        }}}); // run on UI thread\n    }\n</code></pre>\n"},{"tags":["java","android","apk"],"comments":[{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":0,"creation_date":1402396925,"post_id":24138508,"comment_id":37246713,"body_markdown":"Do you have a question?","body":"Do you have a question?"},{"owner":{"account_id":415074,"reputation":14411,"user_id":789657,"accept_rate":84,"display_name":"Simon"},"score":0,"creation_date":1402397839,"post_id":24138508,"comment_id":37247278,"body_markdown":"This question appears to be off-topic because it is possibly about violating software licensing terms and not about creating software.","body":"This question appears to be off-topic because it is possibly about violating software licensing terms and not about creating software."},{"owner":{"account_id":4149867,"reputation":121,"user_id":3402649,"accept_rate":88,"display_name":"user3402649"},"score":0,"creation_date":1402420106,"post_id":24138508,"comment_id":37261986,"body_markdown":"thank you for the useless reply. Pretty much everything could be used to do illegal stuff, in my case i&#39;m just trying to decompile an apk, that isn&#39;t so illegal. If you don&#39;t know how to answer my question don&#39;t start accusing...","body":"thank you for the useless reply. Pretty much everything could be used to do illegal stuff, in my case i&#39;m just trying to decompile an apk, that isn&#39;t so illegal. If you don&#39;t know how to answer my question don&#39;t start accusing..."}],"owner":{"account_id":4149867,"reputation":121,"user_id":3402649,"accept_rate":88,"display_name":"user3402649"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679862072,"creation_date":1402395655,"question_id":24138508,"body_markdown":"I, i&#39;m using APK-Multi-Tool to mod an apk but when i try do decompile it says me that there&#39;s an error. That is the log:\r\n\r\n    java version &quot;1.8.0_05&quot;\r\n    (TM) SE Runtime Environment (build 1.8.0_05-b13)\r\n    Java HotSpot(TM) Client VM (build 25.5-b02, mixed mode)\r\n    Access is denied.\r\n    Access is denied.\r\n    Access is denied.\r\n\r\ndoes anyone know hot to bypass this error?","title":"APK-Multi-Tool &quot;Access is deniend error&quot; while decompiling apk","body":"<p>I, i'm using APK-Multi-Tool to mod an apk but when i try do decompile it says me that there's an error. That is the log:</p>\n\n<pre><code>java version \"1.8.0_05\"\n(TM) SE Runtime Environment (build 1.8.0_05-b13)\nJava HotSpot(TM) Client VM (build 25.5-b02, mixed mode)\nAccess is denied.\nAccess is denied.\nAccess is denied.\n</code></pre>\n\n<p>does anyone know hot to bypass this error?</p>\n"},{"tags":["java","encryption","aes"],"comments":[{"owner":{"account_id":146165,"reputation":11005,"user_id":356451,"accept_rate":80,"display_name":"HoLyVieR"},"score":51,"creation_date":1470769574,"post_id":15554296,"comment_id":65081210,"body_markdown":"DO NOT USE ANY ANSWER OF THIS QUESTION IN SERIOUS PROJECT ! All the example provided in this question are vulnerable to padding oracle and are overall very bad cryptography usage. You will introduce serious cryptography vulnerability in your project by using any of the snippet below.","body":"DO NOT USE ANY ANSWER OF THIS QUESTION IN SERIOUS PROJECT ! All the example provided in this question are vulnerable to padding oracle and are overall very bad cryptography usage. You will introduce serious cryptography vulnerability in your project by using any of the snippet below."},{"owner":{"account_id":3277702,"reputation":383,"user_id":4405473,"display_name":"k170"},"score":17,"creation_date":1472775075,"post_id":15554296,"comment_id":65899573,"body_markdown":"@HoLyVieR, Regarding the following quotes: *&quot;You shouldn&#39;t be developing your own cryptography library&quot;* and *&quot;use a high level API that your framework provides.&quot;* No one here is developing their own cryptography library. We are simply using the already existing, high level API that the java framework provides. You sir are wildly inaccurate.","body":"@HoLyVieR, Regarding the following quotes: <i>&quot;You shouldn&#39;t be developing your own cryptography library&quot;</i> and <i>&quot;use a high level API that your framework provides.&quot;</i> No one here is developing their own cryptography library. We are simply using the already existing, high level API that the java framework provides. You sir are wildly inaccurate."},{"owner":{"account_id":146165,"reputation":11005,"user_id":356451,"accept_rate":80,"display_name":"HoLyVieR"},"score":2,"creation_date":1472852381,"post_id":15554296,"comment_id":65935999,"body_markdown":"@k170 They are definitely not &quot;high level cryptography&quot; API. As a good rule of thumb, if you have to type or copy/paste AES, you are not using an high level cryptography API. Correctly assembling AES with the proper algorithm to prevent cryptographic attack is hard and you should avoid doing it if you have no expertise in cryptography. You&#39;re just shooting yourself in the foot without realising it.","body":"@k170 They are definitely not &quot;high level cryptography&quot; API. As a good rule of thumb, if you have to type or copy/paste AES, you are not using an high level cryptography API. Correctly assembling AES with the proper algorithm to prevent cryptographic attack is hard and you should avoid doing it if you have no expertise in cryptography. You&#39;re just shooting yourself in the foot without realising it."},{"owner":{"account_id":73100,"reputation":3555,"user_id":210713,"accept_rate":78,"display_name":"TedTrippin"},"score":1,"creation_date":1473096035,"post_id":15554296,"comment_id":66001739,"body_markdown":"Fair enough point about insecure examples, feel free to leave a comment. As far as this question goes, I was getting started and just needed some help with a specific question. Good developers will do the necessary investigation as to how secure something is, bad developers will not.","body":"Fair enough point about insecure examples, feel free to leave a comment. As far as this question goes, I was getting started and just needed some help with a specific question. Good developers will do the necessary investigation as to how secure something is, bad developers will not."},{"owner":{"account_id":3277702,"reputation":383,"user_id":4405473,"display_name":"k170"},"score":10,"creation_date":1473099050,"post_id":15554296,"comment_id":66002843,"body_markdown":"@MaartenBodewes, Just because you both agree does not imply that you&#39;re both correct. Good developers know the difference between wrapping a high level API and rewriting a low level API. **Good readers will notice that the OP asked for a &quot;simple java AES encrypt/decrypt example&quot; and that&#39;s exactly what he got**. I also don&#39;t agree with the other answers, which is why I posted an answer of my own. Perhaps you guys should try the same and enlighten us all with your expertise.","body":"@MaartenBodewes, Just because you both agree does not imply that you&#39;re both correct. Good developers know the difference between wrapping a high level API and rewriting a low level API. <b>Good readers will notice that the OP asked for a &quot;simple java AES encrypt/decrypt example&quot; and that&#39;s exactly what he got</b>. I also don&#39;t agree with the other answers, which is why I posted an answer of my own. Perhaps you guys should try the same and enlighten us all with your expertise."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1473196920,"post_id":15554296,"comment_id":66045959,"body_markdown":"@k170 I&#39;ve started [a discussion on Meta instead](http://meta.stackoverflow.com/questions/334000/sample-code-within-questions-about-cryptography-encryption). Feel free to contribute. Note that I don&#39;t agree on what was actually asked. I put the actual question below the provided sample code in the question (I did *not* edit the question itself).","body":"@k170 I&#39;ve started <a href=\"http://meta.stackoverflow.com/questions/334000/sample-code-within-questions-about-cryptography-encryption\">a discussion on Meta instead</a>. Feel free to contribute. Note that I don&#39;t agree on what was actually asked. I put the actual question below the provided sample code in the question (I did <i>not</i> edit the question itself)."},{"owner":{"account_id":3277702,"reputation":383,"user_id":4405473,"display_name":"k170"},"score":0,"creation_date":1473219602,"post_id":15554296,"comment_id":66051053,"body_markdown":"@MaartenBodewes, thanks for the link. I&#39;ve edited my post.","body":"@MaartenBodewes, thanks for the link. I&#39;ve edited my post."},{"owner":{"account_id":146165,"reputation":11005,"user_id":356451,"accept_rate":80,"display_name":"HoLyVieR"},"score":0,"creation_date":1492536408,"post_id":15554296,"comment_id":74012529,"body_markdown":"@danieljimenez I did &quot;You shouldn&#39;t be developing your own cryptography library in the first place&quot;. Seriously follow this advice. Your framework (and also plenty of library) already provide you way to encrypt data without having to choose cipher and cipher mode. Use them ! The low-level API of Java have plenty of caveats that are too long to explain in a comments.","body":"@danieljimenez I did &quot;You shouldn&#39;t be developing your own cryptography library in the first place&quot;. Seriously follow this advice. Your framework (and also plenty of library) already provide you way to encrypt data without having to choose cipher and cipher mode. Use them ! The low-level API of Java have plenty of caveats that are too long to explain in a comments."},{"owner":{"account_id":73100,"reputation":3555,"user_id":210713,"accept_rate":78,"display_name":"TedTrippin"},"score":6,"creation_date":1492601673,"post_id":15554296,"comment_id":74043389,"body_markdown":"@HoLyVieR That really is the most absurd thing I have ever read on SO! Who are you to tell people what they can and can not develop?","body":"@HoLyVieR That really is the most absurd thing I have ever read on SO! Who are you to tell people what they can and can not develop?"},{"owner":{"account_id":33925,"reputation":1400,"user_id":95363,"accept_rate":64,"display_name":"danieljimenez"},"score":16,"creation_date":1492804158,"post_id":15554296,"comment_id":74153996,"body_markdown":"I still see no examples @HoLyVieR. Let&#39;s see some, or pointers to libraries? Not constructive at all.","body":"I still see no examples @HoLyVieR. Let&#39;s see some, or pointers to libraries? Not constructive at all."}],"answers":[{"tags":[],"owner":{"account_id":2443099,"reputation":9128,"user_id":2131074,"accept_rate":75,"display_name":"GPI"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1398779138,"creation_date":1363888940,"answer_id":15554865,"question_id":15554296,"body_markdown":"Looks to me like you are not dealing properly with your Initialization Vector (IV).\r\nIt&#39;s been a long time since I last read about AES, IVs and block chaining, but your line \r\n\r\n    IvParameterSpec ivParameterSpec = new IvParameterSpec(aesKey.getEncoded());\r\n\r\ndoes not seem to be OK. In the case of AES, you can think of the initialization vector as the &quot;initial state&quot; of a cipher instance, and this state is a bit of information that you can not get from your key but from the actual computation of the encrypting cipher. (One could argue that if the IV could be extracted from the key, then it would be of no use, as the key is already given to the cipher instance during its init phase).\r\n\r\nTherefore, you should get the IV as a byte[] from the cipher instance at the end of your encryption\r\n\r\n      cipherOutputStream.close();\r\n      byte[] iv = encryptCipher.getIV();\r\n\r\nand you should initialize your `Cipher` in `DECRYPT_MODE` with this byte[] :\r\n\r\n      IvParameterSpec ivParameterSpec = new IvParameterSpec(iv);\r\n\r\nThen, your decryption should be OK. \r\nHope this helps.","title":"Initial bytes incorrect after Java AES/CBC decryption","body":"<p>Looks to me like you are not dealing properly with your Initialization Vector (IV).\nIt's been a long time since I last read about AES, IVs and block chaining, but your line </p>\n\n<pre><code>IvParameterSpec ivParameterSpec = new IvParameterSpec(aesKey.getEncoded());\n</code></pre>\n\n<p>does not seem to be OK. In the case of AES, you can think of the initialization vector as the \"initial state\" of a cipher instance, and this state is a bit of information that you can not get from your key but from the actual computation of the encrypting cipher. (One could argue that if the IV could be extracted from the key, then it would be of no use, as the key is already given to the cipher instance during its init phase).</p>\n\n<p>Therefore, you should get the IV as a byte[] from the cipher instance at the end of your encryption</p>\n\n<pre><code>  cipherOutputStream.close();\n  byte[] iv = encryptCipher.getIV();\n</code></pre>\n\n<p>and you should initialize your <code>Cipher</code> in <code>DECRYPT_MODE</code> with this byte[] :</p>\n\n<pre><code>  IvParameterSpec ivParameterSpec = new IvParameterSpec(iv);\n</code></pre>\n\n<p>Then, your decryption should be OK. \nHope this helps.</p>\n"},{"tags":[],"owner":{"account_id":882116,"reputation":6749,"user_id":251491,"display_name":"Chand Priyankara"},"down_vote_count":30,"up_vote_count":259,"is_accepted":true,"score":229,"last_activity_date":1445618986,"creation_date":1395022642,"answer_id":22445878,"question_id":15554296,"body_markdown":"Lot of people including myself face lot of issues in making this work due to missing some information like, forgetting to convert to Base64, initialization vectors, character set, etc. So I thought of making a fully functional code.\r\n\r\nHope this will be useful to you all:\r\nTo compile you need additional Apache Commons Codec jar, which is available here:\r\n[http://commons.apache.org/proper/commons-codec/download_codec.cgi][1]\r\n\r\n\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    \r\n    import org.apache.commons.codec.binary.Base64;\r\n\r\n    public class Encryptor {\r\n        public static String encrypt(String key, String initVector, String value) {\r\n            try {\r\n                IvParameterSpec iv = new IvParameterSpec(initVector.getBytes(&quot;UTF-8&quot;));\r\n                SecretKeySpec skeySpec = new SecretKeySpec(key.getBytes(&quot;UTF-8&quot;), &quot;AES&quot;);\r\n    \r\n                Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\r\n                cipher.init(Cipher.ENCRYPT_MODE, skeySpec, iv);\r\n    \r\n                byte[] encrypted = cipher.doFinal(value.getBytes());\r\n                System.out.println(&quot;encrypted string: &quot;\r\n                        + Base64.encodeBase64String(encrypted));\r\n    \r\n                return Base64.encodeBase64String(encrypted);\r\n            } catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        public static String decrypt(String key, String initVector, String encrypted) {\r\n            try {\r\n                IvParameterSpec iv = new IvParameterSpec(initVector.getBytes(&quot;UTF-8&quot;));\r\n                SecretKeySpec skeySpec = new SecretKeySpec(key.getBytes(&quot;UTF-8&quot;), &quot;AES&quot;);\r\n    \r\n                Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\r\n                cipher.init(Cipher.DECRYPT_MODE, skeySpec, iv);\r\n    \r\n                byte[] original = cipher.doFinal(Base64.decodeBase64(encrypted));\r\n    \r\n                return new String(original);\r\n            } catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            String key = &quot;Bar12345Bar12345&quot;; // 128 bit key\r\n            String initVector = &quot;RandomInitVector&quot;; // 16 bytes IV\r\n    \r\n            System.out.println(decrypt(key, initVector,\r\n                    encrypt(key, initVector, &quot;Hello World&quot;)));\r\n        }\r\n    }\r\n\r\n  [1]: http://commons.apache.org/proper/commons-codec/download_codec.cgi","title":"Initial bytes incorrect after Java AES/CBC decryption","body":"<p>Lot of people including myself face lot of issues in making this work due to missing some information like, forgetting to convert to Base64, initialization vectors, character set, etc. So I thought of making a fully functional code.</p>\n\n<p>Hope this will be useful to you all:\nTo compile you need additional Apache Commons Codec jar, which is available here:\n<a href=\"http://commons.apache.org/proper/commons-codec/download_codec.cgi\" rel=\"noreferrer\">http://commons.apache.org/proper/commons-codec/download_codec.cgi</a></p>\n\n<pre><code>import javax.crypto.Cipher;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\n\nimport org.apache.commons.codec.binary.Base64;\n\npublic class Encryptor {\n    public static String encrypt(String key, String initVector, String value) {\n        try {\n            IvParameterSpec iv = new IvParameterSpec(initVector.getBytes(\"UTF-8\"));\n            SecretKeySpec skeySpec = new SecretKeySpec(key.getBytes(\"UTF-8\"), \"AES\");\n\n            Cipher cipher = Cipher.getInstance(\"AES/CBC/PKCS5PADDING\");\n            cipher.init(Cipher.ENCRYPT_MODE, skeySpec, iv);\n\n            byte[] encrypted = cipher.doFinal(value.getBytes());\n            System.out.println(\"encrypted string: \"\n                    + Base64.encodeBase64String(encrypted));\n\n            return Base64.encodeBase64String(encrypted);\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n\n        return null;\n    }\n\n    public static String decrypt(String key, String initVector, String encrypted) {\n        try {\n            IvParameterSpec iv = new IvParameterSpec(initVector.getBytes(\"UTF-8\"));\n            SecretKeySpec skeySpec = new SecretKeySpec(key.getBytes(\"UTF-8\"), \"AES\");\n\n            Cipher cipher = Cipher.getInstance(\"AES/CBC/PKCS5PADDING\");\n            cipher.init(Cipher.DECRYPT_MODE, skeySpec, iv);\n\n            byte[] original = cipher.doFinal(Base64.decodeBase64(encrypted));\n\n            return new String(original);\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n\n        return null;\n    }\n\n    public static void main(String[] args) {\n        String key = \"Bar12345Bar12345\"; // 128 bit key\n        String initVector = \"RandomInitVector\"; // 16 bytes IV\n\n        System.out.println(decrypt(key, initVector,\n                encrypt(key, initVector, \"Hello World\")));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"down_vote_count":12,"up_vote_count":50,"is_accepted":false,"score":38,"last_activity_date":1487601221,"creation_date":1427998888,"answer_id":29419826,"question_id":15554296,"body_markdown":"Here a solution without [`Apache Commons Codec`][1]&#39;s `Base64`:\r\n\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    \r\n    public class AdvancedEncryptionStandard\r\n    {\r\n    \tprivate byte[] key;\r\n    \r\n    \tprivate static final String ALGORITHM = &quot;AES&quot;;\r\n    \r\n    \tpublic AdvancedEncryptionStandard(byte[] key)\r\n    \t{\r\n    \t\tthis.key = key;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Encrypts the given plain text\r\n    \t *\r\n    \t * @param plainText The plain text to encrypt\r\n    \t */\r\n    \tpublic byte[] encrypt(byte[] plainText) throws Exception\r\n    \t{\r\n    \t\tSecretKeySpec secretKey = new SecretKeySpec(key, ALGORITHM);\r\n    \t\tCipher cipher = Cipher.getInstance(ALGORITHM);\r\n    \t\tcipher.init(Cipher.ENCRYPT_MODE, secretKey);\r\n    \r\n    \t\treturn cipher.doFinal(plainText);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Decrypts the given byte array\r\n    \t *\r\n    \t * @param cipherText The data to decrypt\r\n    \t */\r\n    \tpublic byte[] decrypt(byte[] cipherText) throws Exception\r\n    \t{\r\n    \t\tSecretKeySpec secretKey = new SecretKeySpec(key, ALGORITHM);\r\n    \t\tCipher cipher = Cipher.getInstance(ALGORITHM);\r\n    \t\tcipher.init(Cipher.DECRYPT_MODE, secretKey);\r\n    \r\n    \t\treturn cipher.doFinal(cipherText);\r\n    \t}\r\n    }\r\n\r\nUsage example:\r\n\r\n    byte[] encryptionKey = &quot;MZygpewJsCpRrfOr&quot;.getBytes(StandardCharsets.UTF_8);\r\n    byte[] plainText = &quot;Hello world!&quot;.getBytes(StandardCharsets.UTF_8);\r\n    AdvancedEncryptionStandard advancedEncryptionStandard = new AdvancedEncryptionStandard(\r\n    \t\tencryptionKey);\r\n    byte[] cipherText = advancedEncryptionStandard.encrypt(plainText);\r\n    byte[] decryptedCipherText = advancedEncryptionStandard.decrypt(cipherText);\r\n    \r\n    System.out.println(new String(plainText));\r\n    System.out.println(new String(cipherText));\r\n    System.out.println(new String(decryptedCipherText));\r\n\r\nPrints:\r\n\r\n    Hello world!\r\n    դ;��LA+�ߙb*\r\n    Hello world!\r\n\r\n  [1]: https://commons.apache.org/proper/commons-codec/","title":"Initial bytes incorrect after Java AES/CBC decryption","body":"<p>Here a solution without <a href=\"https://commons.apache.org/proper/commons-codec/\" rel=\"noreferrer\"><code>Apache Commons Codec</code></a>'s <code>Base64</code>:</p>\n\n<pre><code>import javax.crypto.Cipher;\nimport javax.crypto.spec.SecretKeySpec;\n\npublic class AdvancedEncryptionStandard\n{\n    private byte[] key;\n\n    private static final String ALGORITHM = \"AES\";\n\n    public AdvancedEncryptionStandard(byte[] key)\n    {\n        this.key = key;\n    }\n\n    /**\n     * Encrypts the given plain text\n     *\n     * @param plainText The plain text to encrypt\n     */\n    public byte[] encrypt(byte[] plainText) throws Exception\n    {\n        SecretKeySpec secretKey = new SecretKeySpec(key, ALGORITHM);\n        Cipher cipher = Cipher.getInstance(ALGORITHM);\n        cipher.init(Cipher.ENCRYPT_MODE, secretKey);\n\n        return cipher.doFinal(plainText);\n    }\n\n    /**\n     * Decrypts the given byte array\n     *\n     * @param cipherText The data to decrypt\n     */\n    public byte[] decrypt(byte[] cipherText) throws Exception\n    {\n        SecretKeySpec secretKey = new SecretKeySpec(key, ALGORITHM);\n        Cipher cipher = Cipher.getInstance(ALGORITHM);\n        cipher.init(Cipher.DECRYPT_MODE, secretKey);\n\n        return cipher.doFinal(cipherText);\n    }\n}\n</code></pre>\n\n<p>Usage example:</p>\n\n<pre><code>byte[] encryptionKey = \"MZygpewJsCpRrfOr\".getBytes(StandardCharsets.UTF_8);\nbyte[] plainText = \"Hello world!\".getBytes(StandardCharsets.UTF_8);\nAdvancedEncryptionStandard advancedEncryptionStandard = new AdvancedEncryptionStandard(\n        encryptionKey);\nbyte[] cipherText = advancedEncryptionStandard.encrypt(plainText);\nbyte[] decryptedCipherText = advancedEncryptionStandard.decrypt(cipherText);\n\nSystem.out.println(new String(plainText));\nSystem.out.println(new String(cipherText));\nSystem.out.println(new String(decryptedCipherText));\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>Hello world!\nդ;��LA+�ߙb*\nHello world!\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3277702,"reputation":383,"user_id":4405473,"display_name":"k170"},"down_vote_count":7,"up_vote_count":26,"is_accepted":false,"score":19,"last_activity_date":1473270661,"creation_date":1445089490,"answer_id":33187333,"question_id":15554296,"body_markdown":"The IV that your using for decryption is incorrect. Replace this code\r\n\r\n    //Decrypt cipher\r\n    Cipher decryptCipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n    IvParameterSpec ivParameterSpec = new IvParameterSpec(aesKey.getEncoded());\r\n    decryptCipher.init(Cipher.DECRYPT_MODE, aesKey, ivParameterSpec);\r\n\r\nWith this code\r\n\r\n    //Decrypt cipher\r\n    Cipher decryptCipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n    IvParameterSpec ivParameterSpec = new IvParameterSpec(encryptCipher.getIV());\r\n    decryptCipher.init(Cipher.DECRYPT_MODE, aesKey, ivParameterSpec);\r\n\r\nAnd that should solve your problem. \r\n***\r\nBelow includes an example of a simple AES class in Java. I do not recommend using this class in production environments, as it may not account for all of the specific needs of your application. \r\n\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.security.InvalidAlgorithmParameterException;\r\n    import java.security.InvalidKeyException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.SecureRandom;\r\n    import javax.crypto.BadPaddingException;\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.IllegalBlockSizeException;\r\n    import javax.crypto.NoSuchPaddingException;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    import java.util.Base64;\r\n    \r\n    public class AES \r\n    {\r\n    \tpublic static byte[] encrypt(final byte[] keyBytes, final byte[] ivBytes, final byte[] messageBytes) throws InvalidKeyException, InvalidAlgorithmParameterException\r\n        {       \r\n            return AES.transform(Cipher.ENCRYPT_MODE, keyBytes, ivBytes, messageBytes);\r\n        }\r\n    \r\n        public static byte[] decrypt(final byte[] keyBytes, final byte[] ivBytes, final byte[] messageBytes) throws InvalidKeyException, InvalidAlgorithmParameterException\r\n        {       \r\n            return AES.transform(Cipher.DECRYPT_MODE, keyBytes, ivBytes, messageBytes);\r\n        }\r\n    \r\n        private static byte[] transform(final int mode, final byte[] keyBytes, final byte[] ivBytes, final byte[] messageBytes) throws InvalidKeyException, InvalidAlgorithmParameterException\r\n        {\r\n            final SecretKeySpec keySpec = new SecretKeySpec(keyBytes, &quot;AES&quot;);\r\n            final IvParameterSpec ivSpec = new IvParameterSpec(ivBytes);\r\n            byte[] transformedBytes = null;\r\n            \r\n            try\r\n            {\r\n            \tfinal Cipher cipher = Cipher.getInstance(&quot;AES/CTR/NoPadding&quot;);\r\n            \t\r\n            \tcipher.init(mode, keySpec, ivSpec);\r\n            \t\r\n            \ttransformedBytes = cipher.doFinal(messageBytes);\r\n            }        \r\n            catch (NoSuchAlgorithmException | NoSuchPaddingException | IllegalBlockSizeException | BadPaddingException e) \r\n    \t\t{\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n            return transformedBytes;\r\n        }\r\n        \r\n        public static void main(final String[] args) throws InvalidKeyException, InvalidAlgorithmParameterException\r\n        {\r\n        \t//Retrieved from a protected local file.\r\n        \t//Do not hard-code and do not version control.\r\n            final String base64Key = &quot;ABEiM0RVZneImaq7zN3u/w==&quot;;\r\n            \r\n            //Retrieved from a protected database.\r\n            //Do not hard-code and do not version control.\r\n            final String shadowEntry = &quot;AAECAwQFBgcICQoLDA0ODw==:ZtrkahwcMzTu7e/WuJ3AZmF09DE=&quot;;\r\n            \r\n            //Extract the iv and the ciphertext from the shadow entry.\r\n            final String[] shadowData = shadowEntry.split(&quot;:&quot;);        \r\n            final String base64Iv = shadowData[0];\r\n            final String base64Ciphertext = shadowData[1];\r\n            \r\n            //Convert to raw bytes.\r\n            final byte[] keyBytes = Base64.getDecoder().decode(base64Key);\r\n            final byte[] ivBytes = Base64.getDecoder().decode(base64Iv);\r\n            final byte[] encryptedBytes = Base64.getDecoder().decode(base64Ciphertext);\r\n            \r\n            //Decrypt data and do something with it.\r\n            final byte[] decryptedBytes = AES.decrypt(keyBytes, ivBytes, encryptedBytes);\r\n            \r\n            //Use non-blocking SecureRandom implementation for the new IV.\r\n        \tfinal SecureRandom secureRandom = new SecureRandom();\r\n            \r\n        \t//Generate a new IV.\r\n        \tsecureRandom.nextBytes(ivBytes);\r\n        \t\r\n        \t//At this point instead of printing to the screen, \r\n            //one should replace the old shadow entry with the new one.\r\n        \tSystem.out.println(&quot;Old Shadow Entry      = &quot; + shadowEntry);\r\n            System.out.println(&quot;Decrytped Shadow Data = &quot; + new String(decryptedBytes, StandardCharsets.UTF_8));\r\n            System.out.println(&quot;New Shadow Entry      = &quot; + Base64.getEncoder().encodeToString(ivBytes) + &quot;:&quot; + Base64.getEncoder().encodeToString(AES.encrypt(keyBytes, ivBytes, decryptedBytes)));\r\n        }\r\n    }\r\n\r\nNote that AES has nothing to do with encoding, which is why I chose to handle it separately and without the need of any third party libraries. ","title":"Initial bytes incorrect after Java AES/CBC decryption","body":"<p>The IV that your using for decryption is incorrect. Replace this code</p>\n\n<pre><code>//Decrypt cipher\nCipher decryptCipher = Cipher.getInstance(\"AES/CBC/PKCS5Padding\");\nIvParameterSpec ivParameterSpec = new IvParameterSpec(aesKey.getEncoded());\ndecryptCipher.init(Cipher.DECRYPT_MODE, aesKey, ivParameterSpec);\n</code></pre>\n\n<p>With this code</p>\n\n<pre><code>//Decrypt cipher\nCipher decryptCipher = Cipher.getInstance(\"AES/CBC/PKCS5Padding\");\nIvParameterSpec ivParameterSpec = new IvParameterSpec(encryptCipher.getIV());\ndecryptCipher.init(Cipher.DECRYPT_MODE, aesKey, ivParameterSpec);\n</code></pre>\n\n<p>And that should solve your problem. </p>\n\n<hr>\n\n<p>Below includes an example of a simple AES class in Java. I do not recommend using this class in production environments, as it may not account for all of the specific needs of your application. </p>\n\n<pre><code>import java.nio.charset.StandardCharsets;\nimport java.security.InvalidAlgorithmParameterException;\nimport java.security.InvalidKeyException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.SecureRandom;\nimport javax.crypto.BadPaddingException;\nimport javax.crypto.Cipher;\nimport javax.crypto.IllegalBlockSizeException;\nimport javax.crypto.NoSuchPaddingException;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\nimport java.util.Base64;\n\npublic class AES \n{\n    public static byte[] encrypt(final byte[] keyBytes, final byte[] ivBytes, final byte[] messageBytes) throws InvalidKeyException, InvalidAlgorithmParameterException\n    {       \n        return AES.transform(Cipher.ENCRYPT_MODE, keyBytes, ivBytes, messageBytes);\n    }\n\n    public static byte[] decrypt(final byte[] keyBytes, final byte[] ivBytes, final byte[] messageBytes) throws InvalidKeyException, InvalidAlgorithmParameterException\n    {       \n        return AES.transform(Cipher.DECRYPT_MODE, keyBytes, ivBytes, messageBytes);\n    }\n\n    private static byte[] transform(final int mode, final byte[] keyBytes, final byte[] ivBytes, final byte[] messageBytes) throws InvalidKeyException, InvalidAlgorithmParameterException\n    {\n        final SecretKeySpec keySpec = new SecretKeySpec(keyBytes, \"AES\");\n        final IvParameterSpec ivSpec = new IvParameterSpec(ivBytes);\n        byte[] transformedBytes = null;\n\n        try\n        {\n            final Cipher cipher = Cipher.getInstance(\"AES/CTR/NoPadding\");\n\n            cipher.init(mode, keySpec, ivSpec);\n\n            transformedBytes = cipher.doFinal(messageBytes);\n        }        \n        catch (NoSuchAlgorithmException | NoSuchPaddingException | IllegalBlockSizeException | BadPaddingException e) \n        {\n            e.printStackTrace();\n        }\n        return transformedBytes;\n    }\n\n    public static void main(final String[] args) throws InvalidKeyException, InvalidAlgorithmParameterException\n    {\n        //Retrieved from a protected local file.\n        //Do not hard-code and do not version control.\n        final String base64Key = \"ABEiM0RVZneImaq7zN3u/w==\";\n\n        //Retrieved from a protected database.\n        //Do not hard-code and do not version control.\n        final String shadowEntry = \"AAECAwQFBgcICQoLDA0ODw==:ZtrkahwcMzTu7e/WuJ3AZmF09DE=\";\n\n        //Extract the iv and the ciphertext from the shadow entry.\n        final String[] shadowData = shadowEntry.split(\":\");        \n        final String base64Iv = shadowData[0];\n        final String base64Ciphertext = shadowData[1];\n\n        //Convert to raw bytes.\n        final byte[] keyBytes = Base64.getDecoder().decode(base64Key);\n        final byte[] ivBytes = Base64.getDecoder().decode(base64Iv);\n        final byte[] encryptedBytes = Base64.getDecoder().decode(base64Ciphertext);\n\n        //Decrypt data and do something with it.\n        final byte[] decryptedBytes = AES.decrypt(keyBytes, ivBytes, encryptedBytes);\n\n        //Use non-blocking SecureRandom implementation for the new IV.\n        final SecureRandom secureRandom = new SecureRandom();\n\n        //Generate a new IV.\n        secureRandom.nextBytes(ivBytes);\n\n        //At this point instead of printing to the screen, \n        //one should replace the old shadow entry with the new one.\n        System.out.println(\"Old Shadow Entry      = \" + shadowEntry);\n        System.out.println(\"Decrytped Shadow Data = \" + new String(decryptedBytes, StandardCharsets.UTF_8));\n        System.out.println(\"New Shadow Entry      = \" + Base64.getEncoder().encodeToString(ivBytes) + \":\" + Base64.getEncoder().encodeToString(AES.encrypt(keyBytes, ivBytes, decryptedBytes)));\n    }\n}\n</code></pre>\n\n<p>Note that AES has nothing to do with encoding, which is why I chose to handle it separately and without the need of any third party libraries. </p>\n"},{"tags":[],"owner":{"account_id":49303,"reputation":4598,"user_id":146745,"accept_rate":71,"display_name":"andrej"},"down_vote_count":7,"up_vote_count":7,"is_accepted":false,"score":0,"last_activity_date":1475788445,"creation_date":1475523784,"answer_id":39839224,"question_id":15554296,"body_markdown":"It&#39;s often the good idea to rely on standard library provided solution:\r\n\r\n    private static void stackOverflow15554296()\r\n        throws\r\n            NoSuchAlgorithmException, NoSuchPaddingException,        \r\n            InvalidKeyException, IllegalBlockSizeException,\r\n            BadPaddingException\r\n    {\r\n\r\n        // prepare key\r\n        KeyGenerator keygen = KeyGenerator.getInstance(&quot;AES&quot;);\r\n        SecretKey aesKey = keygen.generateKey();\r\n        String aesKeyForFutureUse = Base64.getEncoder().encodeToString(\r\n                aesKey.getEncoded()\r\n        );\r\n\r\n        // cipher engine\r\n        Cipher aesCipher = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\r\n\r\n        // cipher input\r\n        aesCipher.init(Cipher.ENCRYPT_MODE, aesKey);\r\n        byte[] clearTextBuff = &quot;Text to encode&quot;.getBytes();\r\n        byte[] cipherTextBuff = aesCipher.doFinal(clearTextBuff);\r\n\r\n        // recreate key\r\n        byte[] aesKeyBuff = Base64.getDecoder().decode(aesKeyForFutureUse);\r\n        SecretKey aesDecryptKey = new SecretKeySpec(aesKeyBuff, &quot;AES&quot;);\r\n\r\n        // decipher input\r\n        aesCipher.init(Cipher.DECRYPT_MODE, aesDecryptKey);\r\n        byte[] decipheredBuff = aesCipher.doFinal(cipherTextBuff);\r\n        System.out.println(new String(decipheredBuff));\r\n    }\r\n\r\nThis prints &quot;Text to encode&quot;.\r\n\r\nSolution is based on [Java Cryptography Architecture Reference Guide](http://docs.oracle.com/javase/8/docs/technotes/guides/security/crypto/CryptoSpec.html#SimpleEncrEx) and https://stackoverflow.com/a/20591539/146745 answer.","title":"Initial bytes incorrect after Java AES/CBC decryption","body":"<p>It's often the good idea to rely on standard library provided solution:</p>\n\n<pre><code>private static void stackOverflow15554296()\n    throws\n        NoSuchAlgorithmException, NoSuchPaddingException,        \n        InvalidKeyException, IllegalBlockSizeException,\n        BadPaddingException\n{\n\n    // prepare key\n    KeyGenerator keygen = KeyGenerator.getInstance(\"AES\");\n    SecretKey aesKey = keygen.generateKey();\n    String aesKeyForFutureUse = Base64.getEncoder().encodeToString(\n            aesKey.getEncoded()\n    );\n\n    // cipher engine\n    Cipher aesCipher = Cipher.getInstance(\"AES/ECB/PKCS5Padding\");\n\n    // cipher input\n    aesCipher.init(Cipher.ENCRYPT_MODE, aesKey);\n    byte[] clearTextBuff = \"Text to encode\".getBytes();\n    byte[] cipherTextBuff = aesCipher.doFinal(clearTextBuff);\n\n    // recreate key\n    byte[] aesKeyBuff = Base64.getDecoder().decode(aesKeyForFutureUse);\n    SecretKey aesDecryptKey = new SecretKeySpec(aesKeyBuff, \"AES\");\n\n    // decipher input\n    aesCipher.init(Cipher.DECRYPT_MODE, aesDecryptKey);\n    byte[] decipheredBuff = aesCipher.doFinal(cipherTextBuff);\n    System.out.println(new String(decipheredBuff));\n}\n</code></pre>\n\n<p>This prints \"Text to encode\".</p>\n\n<p>Solution is based on <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/security/crypto/CryptoSpec.html#SimpleEncrEx\" rel=\"nofollow noreferrer\">Java Cryptography Architecture Reference Guide</a> and <a href=\"https://stackoverflow.com/a/20591539/146745\">https://stackoverflow.com/a/20591539/146745</a> answer.</p>\n"},{"tags":[],"owner":{"account_id":2360700,"reputation":4113,"user_id":2067419,"accept_rate":64,"display_name":"Bhupesh Pant"},"down_vote_count":4,"up_vote_count":5,"is_accepted":false,"score":1,"last_activity_date":1513706687,"creation_date":1513706687,"answer_id":47892789,"question_id":15554296,"body_markdown":"Online Editor Runnable version:-\r\n\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    //import org.apache.commons.codec.binary.Base64;\r\n    import java.util.Base64;\r\n    \r\n    public class Encryptor {\r\n        public static String encrypt(String key, String initVector, String value) {\r\n            try {\r\n                Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\r\n                IvParameterSpec iv = new IvParameterSpec(initVector.getBytes(&quot;UTF-8&quot;));\r\n                \r\n                SecretKeySpec skeySpec = new SecretKeySpec(key.getBytes(&quot;UTF-8&quot;), &quot;AES&quot;);\r\n                cipher.init(Cipher.ENCRYPT_MODE, skeySpec, iv);\r\n    \r\n                byte[] encrypted = cipher.doFinal(value.getBytes());\r\n                \r\n                //System.out.println(&quot;encrypted string: &quot;\r\n                  //      + Base64.encodeBase64String(encrypted));\r\n    \r\n                //return Base64.encodeBase64String(encrypted);\r\n                String s = new String(Base64.getEncoder().encode(encrypted));\r\n                return s;\r\n            } catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        public static String decrypt(String key, String initVector, String encrypted) {\r\n            try {\r\n                IvParameterSpec iv = new IvParameterSpec(initVector.getBytes(&quot;UTF-8&quot;));\r\n                SecretKeySpec skeySpec = new SecretKeySpec(key.getBytes(&quot;UTF-8&quot;), &quot;AES&quot;);\r\n    \r\n                Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\r\n                cipher.init(Cipher.DECRYPT_MODE, skeySpec, iv);\r\n    \r\n                byte[] original = cipher.doFinal(Base64.getDecoder().decode(encrypted));\r\n    \r\n                return new String(original);\r\n            } catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            String key = &quot;Bar12345Bar12345&quot;; // 128 bit key\r\n            String initVector = &quot;RandomInitVector&quot;; // 16 bytes IV\r\n    \r\n            System.out.println(encrypt(key, initVector, &quot;Hello World&quot;));\r\n            System.out.println(decrypt(key, initVector, encrypt(key, initVector, &quot;Hello World&quot;)));\r\n        }\r\n    }\r\n\r\n","title":"Initial bytes incorrect after Java AES/CBC decryption","body":"<p>Online Editor Runnable version:-</p>\n\n<pre><code>import javax.crypto.Cipher;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\n//import org.apache.commons.codec.binary.Base64;\nimport java.util.Base64;\n\npublic class Encryptor {\n    public static String encrypt(String key, String initVector, String value) {\n        try {\n            Cipher cipher = Cipher.getInstance(\"AES/CBC/PKCS5PADDING\");\n            IvParameterSpec iv = new IvParameterSpec(initVector.getBytes(\"UTF-8\"));\n\n            SecretKeySpec skeySpec = new SecretKeySpec(key.getBytes(\"UTF-8\"), \"AES\");\n            cipher.init(Cipher.ENCRYPT_MODE, skeySpec, iv);\n\n            byte[] encrypted = cipher.doFinal(value.getBytes());\n\n            //System.out.println(\"encrypted string: \"\n              //      + Base64.encodeBase64String(encrypted));\n\n            //return Base64.encodeBase64String(encrypted);\n            String s = new String(Base64.getEncoder().encode(encrypted));\n            return s;\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n        return null;\n    }\n\n    public static String decrypt(String key, String initVector, String encrypted) {\n        try {\n            IvParameterSpec iv = new IvParameterSpec(initVector.getBytes(\"UTF-8\"));\n            SecretKeySpec skeySpec = new SecretKeySpec(key.getBytes(\"UTF-8\"), \"AES\");\n\n            Cipher cipher = Cipher.getInstance(\"AES/CBC/PKCS5PADDING\");\n            cipher.init(Cipher.DECRYPT_MODE, skeySpec, iv);\n\n            byte[] original = cipher.doFinal(Base64.getDecoder().decode(encrypted));\n\n            return new String(original);\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n\n        return null;\n    }\n\n    public static void main(String[] args) {\n        String key = \"Bar12345Bar12345\"; // 128 bit key\n        String initVector = \"RandomInitVector\"; // 16 bytes IV\n\n        System.out.println(encrypt(key, initVector, \"Hello World\"));\n        System.out.println(decrypt(key, initVector, encrypt(key, initVector, \"Hello World\")));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":83,"is_accepted":false,"score":83,"last_activity_date":1679861853,"creation_date":1540837391,"answer_id":53051612,"question_id":15554296,"body_markdown":"*In this answer I choose to approach the &quot;Simple Java AES encrypt/decrypt example&quot; main theme and not the specific debugging question because I think this will profit most readers.*\r\n\r\nThis is a simple summary of my [blog post about AES encryption in Java][1] so I recommend reading through it before implementing anything. I will however still provide a simple example to use and give some pointers what to watch out for.\r\n\r\nIn this example I will choose to use [authenticated encryption][2] with [Galois/Counter Mode or GCM][3] mode. The reason is that in most case you want  [integrity and authenticity in combination with confidentiality][4] (read more in the [blog][1]).\r\n\r\n## AES-GCM Encryption/Decryption Tutorial\r\n\r\nHere are the steps required to encrypt/decrypt with [AES-GCM][3] with the [Java Cryptography Architecture (JCA)][5]. **Do not mix with other examples**, as subtle differences may make your code utterly insecure.\r\n\r\n### 1. Create Key\r\n\r\nAs it depends on your use-case, I will assume the simplest case: a random secret key.\r\n\r\n```java\r\nSecureRandom secureRandom = new SecureRandom();\r\nbyte[] key = new byte[16];\r\nsecureRandom.nextBytes(key);\r\nSecretKey secretKey = SecretKeySpec(key, &quot;AES&quot;);\r\n```\r\n\r\n**Important:**\r\n\r\n* always use a strong [pseudorandom number generator][6] like [`SecureRandom`][7]\r\n* use 16 byte / 128 bit long key (or more - [but more is seldom needed][8])\r\n* if you want a key derived from a user password, look into a [password hash function (or KDF)][9] with [stretching property][10] like [PBKDF2][11] or [bcrypt][12]\r\n* if you want a key derived from other sources, use a proper [key derivation function (KDF)][13] like [HKDF][14] ([Java implementation here][15]). Do *not* use simple [cryptographic hashes][16] for that (like [SHA-256][17]).\r\n\r\n### 2. Create the Initialization Vector\r\n\r\nAn [initialization vector (IV)][18] is used so that the same secret key will create different [cipher texts][19].\r\n\r\n```java\r\nbyte[] iv = new byte[12]; //NEVER REUSE THIS IV WITH SAME KEY\r\nsecureRandom.nextBytes(iv);\r\n```\r\n\r\n**Important:**\r\n\r\n* never [reuse the same IV][20] with the same key (**very important** in [GCM][3]/[CTR][21] mode)\r\n* the IV must be unique (ie. use random IV or a counter)\r\n* the IV is not required to be secret\r\n* always use a strong [pseudorandom number generator][6] like [`SecureRandom`][7]\r\n* 12 byte IV is the correct [choice for AES-GCM mode][22]\r\n\r\n### 3. Encrypt with IV and Key\r\n\r\n```java\r\nfinal Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\nGCMParameterSpec parameterSpec = new GCMParameterSpec(128, iv); //128 bit auth tag length\r\ncipher.init(Cipher.ENCRYPT_MODE, secretKey, parameterSpec);\r\nbyte[] cipherText = cipher.doFinal(plainText);\r\n```\r\n\r\n**Important:**\r\n\r\n* use 16 byte / 128 bit [authentication tag][2] (used to verify integrity/authenticity)\r\n* the authentication tag will be automatically appended to the cipher text (in the JCA implementation)\r\n* since GCM behaves like a stream cipher, no padding is required\r\n* use [`CipherInputStream`][23] when encrypting large chunks of data\r\n* want additional (non-secret) data checked if it was changed? You may want to use [associated data][24] with `cipher.updateAAD(associatedData);` [More here.][25]\r\n\r\n### 3. Serialize to Single Message\r\n\r\nJust append IV and ciphertext. As stated above, the IV doesn&#39;t need to be secret.\r\n\r\n```java\r\nByteBuffer byteBuffer = ByteBuffer.allocate(iv.length + cipherText.length);\r\nbyteBuffer.put(iv);\r\nbyteBuffer.put(cipherText);\r\nbyte[] cipherMessage = byteBuffer.array();\r\n```\r\n\r\nOptionally encode with [Base64][26] if you need a string representation. Either use [Android&#39;s][27] or [Java 8&#39;s built-in][28] implementation (do not use Apache Commons Codec - it&#39;s an awful implementation). Encoding is used to &quot;convert&quot; byte arrays to string representation to make it ASCII safe e.g.:\r\n\r\n```java\r\nString base64CipherMessage = Base64.getEncoder().encodeToString(cipherMessage);\r\n```\r\n\r\n### 4. Prepare Decryption: Deserialize\r\n\r\nIf you have encoded the message, first decode it to byte array:\r\n\r\n```java\r\nbyte[] cipherMessage = Base64.getDecoder().decode(base64CipherMessage)\r\n```\r\n\r\n**Important:**\r\n\r\n* be careful to validate [input parameters][29], so to avoid [denial of service attacks][30] by allocating too much memory.\r\n\r\n\r\n### 5. Decrypt\r\n\r\nInitialize the cipher and set the same parameters as with the encryption:\r\n\r\n```java\r\nfinal Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n//use first 12 bytes for iv\r\nAlgorithmParameterSpec gcmIv = new GCMParameterSpec(128, cipherMessage, 0, 12);\r\ncipher.init(Cipher.DECRYPT_MODE, secretKey, gcmIv);\r\n//use everything from 12 bytes on as ciphertext\r\nbyte[] plainText = cipher.doFinal(cipherMessage, 12, cipherMessage.length - 12);\r\n```\r\n\r\n**Important:**\r\n\r\n* don&#39;t forget to add [associated data][24] with `cipher.updateAAD(associatedData);` if you added it during encryption.\r\n\r\n[A working code snippet can be found in this gist.][31]\r\n\r\n--------------------\r\n\r\nNote that most recent Android (SDK 21+) and Java (7+) implementations should have AES-GCM. Older versions may lack it. I still choose this mode, since it is easier to implement in addition to being more efficient compared to similar mode of [Encrypt-then-Mac][32] (with e.g. [AES-CBC][33] + [HMAC][34]). [See this article on how to implement AES-CBC with HMAC][35].\r\n\r\n\r\n  [1]: https://proandroiddev.com/security-best-practices-symmetric-encryption-with-aes-in-java-7616beaaade9\r\n  [2]: https://en.wikipedia.org/wiki/Authenticated_encryption\r\n  [3]: https://en.wikipedia.org/wiki/Galois/Counter_Mode\r\n  [4]: https://security.stackexchange.com/questions/148173/authenticity-confidentiality-integrity-general-questions\r\n  [5]: https://en.wikipedia.org/wiki/Java_Cryptography_Architecture\r\n  [6]: https://en.wikipedia.org/wiki/Pseudorandom_number_generator\r\n  [7]: https://docs.oracle.com/javase/8/docs/api/java/security/SecureRandom.html\r\n  [8]: https://security.stackexchange.com/a/6149/60108\r\n  [9]: https://en.wikipedia.org/wiki/Cryptographic_hash_function#Password_verification\r\n  [10]: https://en.wikipedia.org/wiki/Key_stretching\r\n  [11]: https://en.wikipedia.org/wiki/PBKDF2\r\n  [12]: https://en.wikipedia.org/wiki/Bcrypt\r\n  [13]: https://en.wikipedia.org/wiki/Key_derivation_function\r\n  [14]: https://en.wikipedia.org/wiki/HKDF\r\n  [15]: https://github.com/patrickfav/hkdf\r\n  [16]: https://simple.wikipedia.org/wiki/Cryptographic_hash_function\r\n  [17]: https://en.wikipedia.org/wiki/SHA-2\r\n  [18]: https://en.wikipedia.org/wiki/Initialization_vector\r\n  [19]: https://en.wikipedia.org/wiki/Ciphertext\r\n  [20]: https://crypto.stackexchange.com/questions/2991/why-must-IV-key-pairs-not-be-reused-in-ctr-mode\r\n  [21]: https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation#Counter_(CTR)\r\n  [22]: https://crypto.stackexchange.com/questions/41601/aes-gcm-recommended-IV-size-why-12-bytes\r\n  [23]: https://docs.oracle.com/javase/7/docs/api/javax/crypto/CipherInputStream.html\r\n  [24]: https://crypto.stackexchange.com/questions/6711/how-to-use-gcm-mode-and-associated-data-properly\r\n  [25]: https://en.wikipedia.org/wiki/Authenticated_encryption#Authenticated_encryption_with_associated_data_(AEAD)\r\n  [26]: https://en.wikipedia.org/wiki/Base64\r\n  [27]: https://developer.android.com/reference/android/util/Base64.html\r\n  [28]: https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\r\n  [29]: https://cwe.mitre.org/data/definitions/789.html\r\n  [30]: https://en.wikipedia.org/wiki/Denial-of-service_attack\r\n  [31]: https://gist.github.com/patrickfav/7e28d4eb4bf500f7ee8012c4a0cf7bbf\r\n  [32]: https://en.wikipedia.org/wiki/Authenticated_encryption#MAC-then-Encrypt_(MtE)\r\n  [33]: https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation#Cipher_Block_Chaining_(CBC)\r\n  [34]: https://en.wikipedia.org/wiki/HMAC\r\n  [35]: https://proandroiddev.com/security-best-practices-symmetric-encryption-with-aes-in-java-and-android-part-2-b3b80e99ad36","title":"Initial bytes incorrect after Java AES/CBC decryption","body":"<p><em>In this answer I choose to approach the &quot;Simple Java AES encrypt/decrypt example&quot; main theme and not the specific debugging question because I think this will profit most readers.</em></p>\n<p>This is a simple summary of my <a href=\"https://proandroiddev.com/security-best-practices-symmetric-encryption-with-aes-in-java-7616beaaade9\" rel=\"nofollow noreferrer\">blog post about AES encryption in Java</a> so I recommend reading through it before implementing anything. I will however still provide a simple example to use and give some pointers what to watch out for.</p>\n<p>In this example I will choose to use <a href=\"https://en.wikipedia.org/wiki/Authenticated_encryption\" rel=\"nofollow noreferrer\">authenticated encryption</a> with <a href=\"https://en.wikipedia.org/wiki/Galois/Counter_Mode\" rel=\"nofollow noreferrer\">Galois/Counter Mode or GCM</a> mode. The reason is that in most case you want  <a href=\"https://security.stackexchange.com/questions/148173/authenticity-confidentiality-integrity-general-questions\">integrity and authenticity in combination with confidentiality</a> (read more in the <a href=\"https://proandroiddev.com/security-best-practices-symmetric-encryption-with-aes-in-java-7616beaaade9\" rel=\"nofollow noreferrer\">blog</a>).</p>\n<h2>AES-GCM Encryption/Decryption Tutorial</h2>\n<p>Here are the steps required to encrypt/decrypt with <a href=\"https://en.wikipedia.org/wiki/Galois/Counter_Mode\" rel=\"nofollow noreferrer\">AES-GCM</a> with the <a href=\"https://en.wikipedia.org/wiki/Java_Cryptography_Architecture\" rel=\"nofollow noreferrer\">Java Cryptography Architecture (JCA)</a>. <strong>Do not mix with other examples</strong>, as subtle differences may make your code utterly insecure.</p>\n<h3>1. Create Key</h3>\n<p>As it depends on your use-case, I will assume the simplest case: a random secret key.</p>\n<pre class=\"lang-java prettyprint-override\"><code>SecureRandom secureRandom = new SecureRandom();\nbyte[] key = new byte[16];\nsecureRandom.nextBytes(key);\nSecretKey secretKey = SecretKeySpec(key, &quot;AES&quot;);\n</code></pre>\n<p><strong>Important:</strong></p>\n<ul>\n<li>always use a strong <a href=\"https://en.wikipedia.org/wiki/Pseudorandom_number_generator\" rel=\"nofollow noreferrer\">pseudorandom number generator</a> like <a href=\"https://docs.oracle.com/javase/8/docs/api/java/security/SecureRandom.html\" rel=\"nofollow noreferrer\"><code>SecureRandom</code></a></li>\n<li>use 16 byte / 128 bit long key (or more - <a href=\"https://security.stackexchange.com/a/6149/60108\">but more is seldom needed</a>)</li>\n<li>if you want a key derived from a user password, look into a <a href=\"https://en.wikipedia.org/wiki/Cryptographic_hash_function#Password_verification\" rel=\"nofollow noreferrer\">password hash function (or KDF)</a> with <a href=\"https://en.wikipedia.org/wiki/Key_stretching\" rel=\"nofollow noreferrer\">stretching property</a> like <a href=\"https://en.wikipedia.org/wiki/PBKDF2\" rel=\"nofollow noreferrer\">PBKDF2</a> or <a href=\"https://en.wikipedia.org/wiki/Bcrypt\" rel=\"nofollow noreferrer\">bcrypt</a></li>\n<li>if you want a key derived from other sources, use a proper <a href=\"https://en.wikipedia.org/wiki/Key_derivation_function\" rel=\"nofollow noreferrer\">key derivation function (KDF)</a> like <a href=\"https://en.wikipedia.org/wiki/HKDF\" rel=\"nofollow noreferrer\">HKDF</a> (<a href=\"https://github.com/patrickfav/hkdf\" rel=\"nofollow noreferrer\">Java implementation here</a>). Do <em>not</em> use simple <a href=\"https://simple.wikipedia.org/wiki/Cryptographic_hash_function\" rel=\"nofollow noreferrer\">cryptographic hashes</a> for that (like <a href=\"https://en.wikipedia.org/wiki/SHA-2\" rel=\"nofollow noreferrer\">SHA-256</a>).</li>\n</ul>\n<h3>2. Create the Initialization Vector</h3>\n<p>An <a href=\"https://en.wikipedia.org/wiki/Initialization_vector\" rel=\"nofollow noreferrer\">initialization vector (IV)</a> is used so that the same secret key will create different <a href=\"https://en.wikipedia.org/wiki/Ciphertext\" rel=\"nofollow noreferrer\">cipher texts</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] iv = new byte[12]; //NEVER REUSE THIS IV WITH SAME KEY\nsecureRandom.nextBytes(iv);\n</code></pre>\n<p><strong>Important:</strong></p>\n<ul>\n<li>never <a href=\"https://crypto.stackexchange.com/questions/2991/why-must-IV-key-pairs-not-be-reused-in-ctr-mode\">reuse the same IV</a> with the same key (<strong>very important</strong> in <a href=\"https://en.wikipedia.org/wiki/Galois/Counter_Mode\" rel=\"nofollow noreferrer\">GCM</a>/<a href=\"https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation#Counter_(CTR)\" rel=\"nofollow noreferrer\">CTR</a> mode)</li>\n<li>the IV must be unique (ie. use random IV or a counter)</li>\n<li>the IV is not required to be secret</li>\n<li>always use a strong <a href=\"https://en.wikipedia.org/wiki/Pseudorandom_number_generator\" rel=\"nofollow noreferrer\">pseudorandom number generator</a> like <a href=\"https://docs.oracle.com/javase/8/docs/api/java/security/SecureRandom.html\" rel=\"nofollow noreferrer\"><code>SecureRandom</code></a></li>\n<li>12 byte IV is the correct <a href=\"https://crypto.stackexchange.com/questions/41601/aes-gcm-recommended-IV-size-why-12-bytes\">choice for AES-GCM mode</a></li>\n</ul>\n<h3>3. Encrypt with IV and Key</h3>\n<pre class=\"lang-java prettyprint-override\"><code>final Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\nGCMParameterSpec parameterSpec = new GCMParameterSpec(128, iv); //128 bit auth tag length\ncipher.init(Cipher.ENCRYPT_MODE, secretKey, parameterSpec);\nbyte[] cipherText = cipher.doFinal(plainText);\n</code></pre>\n<p><strong>Important:</strong></p>\n<ul>\n<li>use 16 byte / 128 bit <a href=\"https://en.wikipedia.org/wiki/Authenticated_encryption\" rel=\"nofollow noreferrer\">authentication tag</a> (used to verify integrity/authenticity)</li>\n<li>the authentication tag will be automatically appended to the cipher text (in the JCA implementation)</li>\n<li>since GCM behaves like a stream cipher, no padding is required</li>\n<li>use <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/crypto/CipherInputStream.html\" rel=\"nofollow noreferrer\"><code>CipherInputStream</code></a> when encrypting large chunks of data</li>\n<li>want additional (non-secret) data checked if it was changed? You may want to use <a href=\"https://crypto.stackexchange.com/questions/6711/how-to-use-gcm-mode-and-associated-data-properly\">associated data</a> with <code>cipher.updateAAD(associatedData);</code> <a href=\"https://en.wikipedia.org/wiki/Authenticated_encryption#Authenticated_encryption_with_associated_data_(AEAD)\" rel=\"nofollow noreferrer\">More here.</a></li>\n</ul>\n<h3>3. Serialize to Single Message</h3>\n<p>Just append IV and ciphertext. As stated above, the IV doesn't need to be secret.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ByteBuffer byteBuffer = ByteBuffer.allocate(iv.length + cipherText.length);\nbyteBuffer.put(iv);\nbyteBuffer.put(cipherText);\nbyte[] cipherMessage = byteBuffer.array();\n</code></pre>\n<p>Optionally encode with <a href=\"https://en.wikipedia.org/wiki/Base64\" rel=\"nofollow noreferrer\">Base64</a> if you need a string representation. Either use <a href=\"https://developer.android.com/reference/android/util/Base64.html\" rel=\"nofollow noreferrer\">Android's</a> or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\" rel=\"nofollow noreferrer\">Java 8's built-in</a> implementation (do not use Apache Commons Codec - it's an awful implementation). Encoding is used to &quot;convert&quot; byte arrays to string representation to make it ASCII safe e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String base64CipherMessage = Base64.getEncoder().encodeToString(cipherMessage);\n</code></pre>\n<h3>4. Prepare Decryption: Deserialize</h3>\n<p>If you have encoded the message, first decode it to byte array:</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] cipherMessage = Base64.getDecoder().decode(base64CipherMessage)\n</code></pre>\n<p><strong>Important:</strong></p>\n<ul>\n<li>be careful to validate <a href=\"https://cwe.mitre.org/data/definitions/789.html\" rel=\"nofollow noreferrer\">input parameters</a>, so to avoid <a href=\"https://en.wikipedia.org/wiki/Denial-of-service_attack\" rel=\"nofollow noreferrer\">denial of service attacks</a> by allocating too much memory.</li>\n</ul>\n<h3>5. Decrypt</h3>\n<p>Initialize the cipher and set the same parameters as with the encryption:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n//use first 12 bytes for iv\nAlgorithmParameterSpec gcmIv = new GCMParameterSpec(128, cipherMessage, 0, 12);\ncipher.init(Cipher.DECRYPT_MODE, secretKey, gcmIv);\n//use everything from 12 bytes on as ciphertext\nbyte[] plainText = cipher.doFinal(cipherMessage, 12, cipherMessage.length - 12);\n</code></pre>\n<p><strong>Important:</strong></p>\n<ul>\n<li>don't forget to add <a href=\"https://crypto.stackexchange.com/questions/6711/how-to-use-gcm-mode-and-associated-data-properly\">associated data</a> with <code>cipher.updateAAD(associatedData);</code> if you added it during encryption.</li>\n</ul>\n<p><a href=\"https://gist.github.com/patrickfav/7e28d4eb4bf500f7ee8012c4a0cf7bbf\" rel=\"nofollow noreferrer\">A working code snippet can be found in this gist.</a></p>\n<hr />\n<p>Note that most recent Android (SDK 21+) and Java (7+) implementations should have AES-GCM. Older versions may lack it. I still choose this mode, since it is easier to implement in addition to being more efficient compared to similar mode of <a href=\"https://en.wikipedia.org/wiki/Authenticated_encryption#MAC-then-Encrypt_(MtE)\" rel=\"nofollow noreferrer\">Encrypt-then-Mac</a> (with e.g. <a href=\"https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation#Cipher_Block_Chaining_(CBC)\" rel=\"nofollow noreferrer\">AES-CBC</a> + <a href=\"https://en.wikipedia.org/wiki/HMAC\" rel=\"nofollow noreferrer\">HMAC</a>). <a href=\"https://proandroiddev.com/security-best-practices-symmetric-encryption-with-aes-in-java-and-android-part-2-b3b80e99ad36\" rel=\"nofollow noreferrer\">See this article on how to implement AES-CBC with HMAC</a>.</p>\n"},{"tags":[],"owner":{"account_id":3526709,"reputation":16307,"user_id":2947592,"accept_rate":71,"display_name":"wvdz"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1542759275,"creation_date":1542759275,"answer_id":53403527,"question_id":15554296,"body_markdown":"This is an improvement over the accepted answer.\r\n\r\nChanges:\r\n\r\n(1) Using random IV and prepend it to the encrypted text\r\n\r\n(2) Using SHA-256 to generate a key from a passphrase\r\n\r\n(3) No dependency on Apache Commons\r\n\r\n\r\n    public static void main(String[] args) throws GeneralSecurityException {\r\n        String plaintext = &quot;Hello world&quot;;\r\n        String passphrase = &quot;My passphrase&quot;;\r\n        String encrypted = encrypt(passphrase, plaintext);\r\n        String decrypted = decrypt(passphrase, encrypted);\r\n        System.out.println(encrypted);\r\n        System.out.println(decrypted);\r\n    }\r\n    \r\n    private static SecretKeySpec getKeySpec(String passphrase) throws NoSuchAlgorithmException {\r\n        MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n        return new SecretKeySpec(digest.digest(passphrase.getBytes(UTF_8)), &quot;AES&quot;);\r\n    }\r\n    \r\n    private static Cipher getCipher() throws NoSuchPaddingException, NoSuchAlgorithmException {\r\n        return Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\r\n    }\r\n    \r\n    public static String encrypt(String passphrase, String value) throws GeneralSecurityException {\r\n        byte[] initVector = new byte[16];\r\n        SecureRandom.getInstanceStrong().nextBytes(initVector);\r\n        Cipher cipher = getCipher();\r\n        cipher.init(Cipher.ENCRYPT_MODE, getKeySpec(passphrase), new IvParameterSpec(initVector));\r\n        byte[] encrypted = cipher.doFinal(value.getBytes());\r\n        return DatatypeConverter.printBase64Binary(initVector) +\r\n                DatatypeConverter.printBase64Binary(encrypted);\r\n    }\r\n    \r\n    public static String decrypt(String passphrase, String encrypted) throws GeneralSecurityException {\r\n        byte[] initVector = DatatypeConverter.parseBase64Binary(encrypted.substring(0, 24));\r\n        Cipher cipher = getCipher();\r\n        cipher.init(Cipher.DECRYPT_MODE, getKeySpec(passphrase), new IvParameterSpec(initVector));\r\n        byte[] original = cipher.doFinal(DatatypeConverter.parseBase64Binary(encrypted.substring(24)));\r\n        return new String(original);\r\n    }\r\n\r\n","title":"Initial bytes incorrect after Java AES/CBC decryption","body":"<p>This is an improvement over the accepted answer.</p>\n\n<p>Changes:</p>\n\n<p>(1) Using random IV and prepend it to the encrypted text</p>\n\n<p>(2) Using SHA-256 to generate a key from a passphrase</p>\n\n<p>(3) No dependency on Apache Commons</p>\n\n<pre><code>public static void main(String[] args) throws GeneralSecurityException {\n    String plaintext = \"Hello world\";\n    String passphrase = \"My passphrase\";\n    String encrypted = encrypt(passphrase, plaintext);\n    String decrypted = decrypt(passphrase, encrypted);\n    System.out.println(encrypted);\n    System.out.println(decrypted);\n}\n\nprivate static SecretKeySpec getKeySpec(String passphrase) throws NoSuchAlgorithmException {\n    MessageDigest digest = MessageDigest.getInstance(\"SHA-256\");\n    return new SecretKeySpec(digest.digest(passphrase.getBytes(UTF_8)), \"AES\");\n}\n\nprivate static Cipher getCipher() throws NoSuchPaddingException, NoSuchAlgorithmException {\n    return Cipher.getInstance(\"AES/CBC/PKCS5PADDING\");\n}\n\npublic static String encrypt(String passphrase, String value) throws GeneralSecurityException {\n    byte[] initVector = new byte[16];\n    SecureRandom.getInstanceStrong().nextBytes(initVector);\n    Cipher cipher = getCipher();\n    cipher.init(Cipher.ENCRYPT_MODE, getKeySpec(passphrase), new IvParameterSpec(initVector));\n    byte[] encrypted = cipher.doFinal(value.getBytes());\n    return DatatypeConverter.printBase64Binary(initVector) +\n            DatatypeConverter.printBase64Binary(encrypted);\n}\n\npublic static String decrypt(String passphrase, String encrypted) throws GeneralSecurityException {\n    byte[] initVector = DatatypeConverter.parseBase64Binary(encrypted.substring(0, 24));\n    Cipher cipher = getCipher();\n    cipher.init(Cipher.DECRYPT_MODE, getKeySpec(passphrase), new IvParameterSpec(initVector));\n    byte[] original = cipher.doFinal(DatatypeConverter.parseBase64Binary(encrypted.substring(24)));\n    return new String(original);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14204637,"reputation":470,"user_id":11375887,"display_name":"Jonathan Mendoza"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1590864421,"creation_date":1566236224,"answer_id":57561529,"question_id":15554296,"body_markdown":"Another solution using java.util.Base64 with Spring Boot\r\n\r\nEncryptor Class\r\n\r\n    package com.jmendoza.springboot.crypto.cipher;\r\n    \r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.Base64;\r\n    \r\n    @Component\r\n    public class Encryptor {\r\n    \r\n        @Value(&quot;${security.encryptor.key}&quot;)\r\n        private byte[] key;\r\n        @Value(&quot;${security.encryptor.algorithm}&quot;)\r\n        private String algorithm;\r\n    \r\n        public String encrypt(String plainText) throws Exception {\r\n            SecretKeySpec secretKey = new SecretKeySpec(key, algorithm);\r\n            Cipher cipher = Cipher.getInstance(algorithm);\r\n            cipher.init(Cipher.ENCRYPT_MODE, secretKey);\r\n            return new String(Base64.getEncoder().encode(cipher.doFinal(plainText.getBytes(StandardCharsets.UTF_8))));\r\n        }\r\n    \r\n        public String decrypt(String cipherText) throws Exception {\r\n            SecretKeySpec secretKey = new SecretKeySpec(key, algorithm);\r\n            Cipher cipher = Cipher.getInstance(algorithm);\r\n            cipher.init(Cipher.DECRYPT_MODE, secretKey);\r\n            return new String(cipher.doFinal(Base64.getDecoder().decode(cipherText)));\r\n        }\r\n    }\r\n\r\n\r\nEncryptorController Class\r\n\r\n    package com.jmendoza.springboot.crypto.controller;\r\n    \r\n    import com.jmendoza.springboot.crypto.cipher.Encryptor;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/cipher&quot;)\r\n    public class EncryptorController {\r\n    \r\n        @Autowired\r\n        Encryptor encryptor;\r\n    \r\n        @GetMapping(value = &quot;encrypt/{value}&quot;)\r\n        public String encrypt(@PathVariable(&quot;value&quot;) final String value) throws Exception {\r\n            return encryptor.encrypt(value);\r\n        }\r\n    \r\n        @GetMapping(value = &quot;decrypt/{value}&quot;)\r\n        public String decrypt(@PathVariable(&quot;value&quot;) final String value) throws Exception {\r\n            return encryptor.decrypt(value);\r\n        }\r\n    }\r\n\r\napplication.properties  \r\n \r\n    server.port=8082\r\n    security.encryptor.algorithm=AES\r\n    security.encryptor.key=M8jFt46dfJMaiJA0\r\n\r\n\r\nExample\r\n\r\nhttp://localhost:8082/cipher/encrypt/jmendoza\r\n\r\n2h41HH8Shzc4BRU3hVDOXA==\r\n\r\n\r\nhttp://localhost:8082/cipher/decrypt/2h41HH8Shzc4BRU3hVDOXA==\r\n\r\njmendoza\r\n\r\n\r\n","title":"Initial bytes incorrect after Java AES/CBC decryption","body":"<p>Another solution using java.util.Base64 with Spring Boot</p>\n\n<p>Encryptor Class</p>\n\n<pre><code>package com.jmendoza.springboot.crypto.cipher;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Component;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.spec.SecretKeySpec;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Base64;\n\n@Component\npublic class Encryptor {\n\n    @Value(\"${security.encryptor.key}\")\n    private byte[] key;\n    @Value(\"${security.encryptor.algorithm}\")\n    private String algorithm;\n\n    public String encrypt(String plainText) throws Exception {\n        SecretKeySpec secretKey = new SecretKeySpec(key, algorithm);\n        Cipher cipher = Cipher.getInstance(algorithm);\n        cipher.init(Cipher.ENCRYPT_MODE, secretKey);\n        return new String(Base64.getEncoder().encode(cipher.doFinal(plainText.getBytes(StandardCharsets.UTF_8))));\n    }\n\n    public String decrypt(String cipherText) throws Exception {\n        SecretKeySpec secretKey = new SecretKeySpec(key, algorithm);\n        Cipher cipher = Cipher.getInstance(algorithm);\n        cipher.init(Cipher.DECRYPT_MODE, secretKey);\n        return new String(cipher.doFinal(Base64.getDecoder().decode(cipherText)));\n    }\n}\n</code></pre>\n\n<p>EncryptorController Class</p>\n\n<pre><code>package com.jmendoza.springboot.crypto.controller;\n\nimport com.jmendoza.springboot.crypto.cipher.Encryptor;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(\"/cipher\")\npublic class EncryptorController {\n\n    @Autowired\n    Encryptor encryptor;\n\n    @GetMapping(value = \"encrypt/{value}\")\n    public String encrypt(@PathVariable(\"value\") final String value) throws Exception {\n        return encryptor.encrypt(value);\n    }\n\n    @GetMapping(value = \"decrypt/{value}\")\n    public String decrypt(@PathVariable(\"value\") final String value) throws Exception {\n        return encryptor.decrypt(value);\n    }\n}\n</code></pre>\n\n<p>application.properties  </p>\n\n<pre><code>server.port=8082\nsecurity.encryptor.algorithm=AES\nsecurity.encryptor.key=M8jFt46dfJMaiJA0\n</code></pre>\n\n<p>Example</p>\n\n<p><a href=\"http://localhost:8082/cipher/encrypt/jmendoza\" rel=\"nofollow noreferrer\">http://localhost:8082/cipher/encrypt/jmendoza</a></p>\n\n<p>2h41HH8Shzc4BRU3hVDOXA==</p>\n\n<p><a href=\"http://localhost:8082/cipher/decrypt/2h41HH8Shzc4BRU3hVDOXA==\" rel=\"nofollow noreferrer\">http://localhost:8082/cipher/decrypt/2h41HH8Shzc4BRU3hVDOXA==</a></p>\n\n<p>jmendoza</p>\n"},{"tags":[],"owner":{"account_id":14609732,"reputation":51,"user_id":10551536,"display_name":"ue7m"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1569577307,"creation_date":1569577307,"answer_id":58131934,"question_id":15554296,"body_markdown":"Optimized version of the accepted answer.\r\n\r\n- no 3rd party libs \r\n\r\n- includes IV into the encrypted message (can be public)\r\n\r\n- password can be of any length\r\n\r\nCode:\r\n\r\n\timport java.io.UnsupportedEncodingException;\r\n\timport java.security.SecureRandom;\r\n\timport java.util.Base64;\r\n\t\r\n\timport javax.crypto.Cipher;\r\n\timport javax.crypto.spec.IvParameterSpec;\r\n\timport javax.crypto.spec.SecretKeySpec;\r\n\t\r\n\tpublic class Encryptor {\r\n\t\tpublic static byte[] getRandomInitialVector() {\r\n\t\t\ttry {\r\n\t\t        Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\r\n\t\t        SecureRandom randomSecureRandom = SecureRandom.getInstance(&quot;SHA1PRNG&quot;);\r\n\t\t        byte[] initVector = new byte[cipher.getBlockSize()];\r\n\t\t        randomSecureRandom.nextBytes(initVector);\r\n\t\t        return initVector;\r\n\t\t\t} catch (Exception ex) {\r\n\t\t\t\tex.printStackTrace();\r\n\t\t\t}\r\n\t        return null;\r\n\t\t}\r\n\t\t\r\n\t\tpublic static byte[] passwordTo16BitKey(String password) {\r\n\t\t\ttry {\r\n\t\t\t\tbyte[] srcBytes = password.getBytes(&quot;UTF-8&quot;);\r\n\t\t\t\tbyte[] dstBytes = new byte[16];\r\n\t\t\t\t\r\n\t\t\t\tif (srcBytes.length == 16) {\r\n\t\t\t\t\treturn srcBytes;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (srcBytes.length &lt; 16) {\r\n\t\t\t\t\tfor (int i = 0; i &lt; dstBytes.length; i++) {\r\n\t\t\t\t\t\tdstBytes[i] = (byte) ((srcBytes[i % srcBytes.length]) * (srcBytes[(i + 1) % srcBytes.length]));\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (srcBytes.length &gt; 16) {\r\n\t\t\t\t\tfor (int i = 0; i &lt; srcBytes.length; i++) {\r\n\t\t\t\t\t\tdstBytes[i % dstBytes.length] += srcBytes[i];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn dstBytes;\r\n\t\t\t} catch (UnsupportedEncodingException ex) {\r\n\t\t\t\tex.printStackTrace();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\r\n\t\tpublic static String encrypt(String key, String value) {\r\n\t\t\treturn encrypt(passwordTo16BitKey(key), value);\r\n\t\t}\r\n\t\t\r\n\t\tpublic static String encrypt(byte[] key, String value) {\r\n\t        try {\r\n\t        \tbyte[] initVector = Encryptor.getRandomInitialVector();\r\n\t            IvParameterSpec iv = new IvParameterSpec(initVector);\r\n\t            SecretKeySpec skeySpec = new SecretKeySpec(key, &quot;AES&quot;);\r\n\t\r\n\t            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\r\n\t            cipher.init(Cipher.ENCRYPT_MODE, skeySpec, iv);\r\n\t\r\n\t            byte[] encrypted = cipher.doFinal(value.getBytes());\r\n\t            return Base64.getEncoder().encodeToString(encrypted) + &quot; &quot; + Base64.getEncoder().encodeToString(initVector);\r\n\t        } catch (Exception ex) {\r\n\t            ex.printStackTrace();\r\n\t        }\r\n\t\r\n\t        return null;\r\n\t    }\r\n\t\r\n\t    public static String decrypt(String key, String encrypted) {\r\n\t    \treturn decrypt(passwordTo16BitKey(key), encrypted);\r\n\t    }\r\n\t    \r\n\t    public static String decrypt(byte[] key, String encrypted) {\r\n\t        try {\r\n\t        \tString[] encryptedParts = encrypted.split(&quot; &quot;);\r\n\t        \tbyte[] initVector = Base64.getDecoder().decode(encryptedParts[1]);\r\n\t        \tif (initVector.length != 16) {\r\n\t        \t\treturn null;\r\n\t        \t}\r\n\t        \t\r\n\t            IvParameterSpec iv = new IvParameterSpec(initVector);\r\n\t            SecretKeySpec skeySpec = new SecretKeySpec(key, &quot;AES&quot;);\r\n\t\r\n\t            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\r\n\t            cipher.init(Cipher.DECRYPT_MODE, skeySpec, iv);\r\n\t\r\n\t            byte[] original = cipher.doFinal(Base64.getDecoder().decode(encryptedParts[0]));\r\n\t\r\n\t            return new String(original);\r\n\t        } catch (Exception ex) {\r\n\t            ex.printStackTrace();\r\n\t        }\r\n\t\r\n\t        return null;\r\n\t    }\r\n\t}\r\n\r\nUsage:\r\n\r\n    String key = &quot;Password of any length.&quot;;\r\n    String encrypted = Encryptor.encrypt(key, &quot;Hello World&quot;);\r\n    String decrypted = Encryptor.decrypt(key, encrypted);\r\n    System.out.println(encrypted);\r\n    System.out.println(decrypted);\r\n\r\nExample output:\r\n\r\n    QngBg+Qc5+F8HQsksgfyXg== yDfYiIHTqOOjc0HRNdr1Ng==\r\n    Hello World","title":"Initial bytes incorrect after Java AES/CBC decryption","body":"<p>Optimized version of the accepted answer.</p>\n\n<ul>\n<li><p>no 3rd party libs </p></li>\n<li><p>includes IV into the encrypted message (can be public)</p></li>\n<li><p>password can be of any length</p></li>\n</ul>\n\n<p>Code:</p>\n\n<pre><code>import java.io.UnsupportedEncodingException;\nimport java.security.SecureRandom;\nimport java.util.Base64;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\n\npublic class Encryptor {\n    public static byte[] getRandomInitialVector() {\n        try {\n            Cipher cipher = Cipher.getInstance(\"AES/CBC/PKCS5PADDING\");\n            SecureRandom randomSecureRandom = SecureRandom.getInstance(\"SHA1PRNG\");\n            byte[] initVector = new byte[cipher.getBlockSize()];\n            randomSecureRandom.nextBytes(initVector);\n            return initVector;\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n        return null;\n    }\n\n    public static byte[] passwordTo16BitKey(String password) {\n        try {\n            byte[] srcBytes = password.getBytes(\"UTF-8\");\n            byte[] dstBytes = new byte[16];\n\n            if (srcBytes.length == 16) {\n                return srcBytes;\n            }\n\n            if (srcBytes.length &lt; 16) {\n                for (int i = 0; i &lt; dstBytes.length; i++) {\n                    dstBytes[i] = (byte) ((srcBytes[i % srcBytes.length]) * (srcBytes[(i + 1) % srcBytes.length]));\n                }\n            } else if (srcBytes.length &gt; 16) {\n                for (int i = 0; i &lt; srcBytes.length; i++) {\n                    dstBytes[i % dstBytes.length] += srcBytes[i];\n                }\n            }\n\n            return dstBytes;\n        } catch (UnsupportedEncodingException ex) {\n            ex.printStackTrace();\n        }\n\n        return null;\n    }\n\n    public static String encrypt(String key, String value) {\n        return encrypt(passwordTo16BitKey(key), value);\n    }\n\n    public static String encrypt(byte[] key, String value) {\n        try {\n            byte[] initVector = Encryptor.getRandomInitialVector();\n            IvParameterSpec iv = new IvParameterSpec(initVector);\n            SecretKeySpec skeySpec = new SecretKeySpec(key, \"AES\");\n\n            Cipher cipher = Cipher.getInstance(\"AES/CBC/PKCS5PADDING\");\n            cipher.init(Cipher.ENCRYPT_MODE, skeySpec, iv);\n\n            byte[] encrypted = cipher.doFinal(value.getBytes());\n            return Base64.getEncoder().encodeToString(encrypted) + \" \" + Base64.getEncoder().encodeToString(initVector);\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n\n        return null;\n    }\n\n    public static String decrypt(String key, String encrypted) {\n        return decrypt(passwordTo16BitKey(key), encrypted);\n    }\n\n    public static String decrypt(byte[] key, String encrypted) {\n        try {\n            String[] encryptedParts = encrypted.split(\" \");\n            byte[] initVector = Base64.getDecoder().decode(encryptedParts[1]);\n            if (initVector.length != 16) {\n                return null;\n            }\n\n            IvParameterSpec iv = new IvParameterSpec(initVector);\n            SecretKeySpec skeySpec = new SecretKeySpec(key, \"AES\");\n\n            Cipher cipher = Cipher.getInstance(\"AES/CBC/PKCS5PADDING\");\n            cipher.init(Cipher.DECRYPT_MODE, skeySpec, iv);\n\n            byte[] original = cipher.doFinal(Base64.getDecoder().decode(encryptedParts[0]));\n\n            return new String(original);\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n\n        return null;\n    }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>String key = \"Password of any length.\";\nString encrypted = Encryptor.encrypt(key, \"Hello World\");\nString decrypted = Encryptor.decrypt(key, encrypted);\nSystem.out.println(encrypted);\nSystem.out.println(decrypted);\n</code></pre>\n\n<p>Example output:</p>\n\n<pre><code>QngBg+Qc5+F8HQsksgfyXg== yDfYiIHTqOOjc0HRNdr1Ng==\nHello World\n</code></pre>\n"}],"owner":{"account_id":73100,"reputation":3555,"user_id":210713,"accept_rate":78,"display_name":"TedTrippin"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":485739,"favorite_count":0,"down_vote_count":6,"up_vote_count":125,"accepted_answer_id":22445878,"answer_count":10,"score":119,"last_activity_date":1679861853,"creation_date":1363887111,"question_id":15554296,"body_markdown":"What&#39;s wrong with the following example?\r\n\r\nThe problem is that the first part of the decrypted string is nonsense. However, the rest is fine, I get...\r\n\r\n&gt;     Result: `&#163;eB6O�geS��i are you? Have a nice day.\r\n\r\n    @Test\r\n    public void testEncrypt() {\r\n      try {\r\n        String s = &quot;Hello there. How are you? Have a nice day.&quot;;\r\n\r\n        // Generate key\r\n        KeyGenerator kgen = KeyGenerator.getInstance(&quot;AES&quot;);\r\n        kgen.init(128);\r\n        SecretKey aesKey = kgen.generateKey();\r\n\r\n        // Encrypt cipher\r\n        Cipher encryptCipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n        encryptCipher.init(Cipher.ENCRYPT_MODE, aesKey);\r\n\r\n        // Encrypt\r\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n        CipherOutputStream cipherOutputStream = new CipherOutputStream(outputStream, encryptCipher);\r\n        cipherOutputStream.write(s.getBytes());\r\n        cipherOutputStream.flush();\r\n        cipherOutputStream.close();\r\n        byte[] encryptedBytes = outputStream.toByteArray();\r\n\r\n        // Decrypt cipher\r\n        Cipher decryptCipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n        IvParameterSpec ivParameterSpec = new IvParameterSpec(aesKey.getEncoded());\r\n        decryptCipher.init(Cipher.DECRYPT_MODE, aesKey, ivParameterSpec);\r\n\r\n        // Decrypt\r\n        outputStream = new ByteArrayOutputStream();\r\n        ByteArrayInputStream inStream = new ByteArrayInputStream(encryptedBytes);\r\n        CipherInputStream cipherInputStream = new CipherInputStream(inStream, decryptCipher);\r\n        byte[] buf = new byte[1024];\r\n        int bytesRead;\r\n        while ((bytesRead = cipherInputStream.read(buf)) &gt;= 0) {\r\n            outputStream.write(buf, 0, bytesRead);\r\n        }\r\n\r\n        System.out.println(&quot;Result: &quot; + new String(outputStream.toByteArray()));\r\n\r\n      } \r\n      catch (Exception ex) {\r\n        ex.printStackTrace();\r\n      }\r\n    }\r\n\r\n","title":"Initial bytes incorrect after Java AES/CBC decryption","body":"<p>What's wrong with the following example?</p>\n\n<p>The problem is that the first part of the decrypted string is nonsense. However, the rest is fine, I get...</p>\n\n<blockquote>\n<pre><code>Result: `£eB6O�geS��i are you? Have a nice day.\n</code></pre>\n</blockquote>\n\n<pre><code>@Test\npublic void testEncrypt() {\n  try {\n    String s = \"Hello there. How are you? Have a nice day.\";\n\n    // Generate key\n    KeyGenerator kgen = KeyGenerator.getInstance(\"AES\");\n    kgen.init(128);\n    SecretKey aesKey = kgen.generateKey();\n\n    // Encrypt cipher\n    Cipher encryptCipher = Cipher.getInstance(\"AES/CBC/PKCS5Padding\");\n    encryptCipher.init(Cipher.ENCRYPT_MODE, aesKey);\n\n    // Encrypt\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n    CipherOutputStream cipherOutputStream = new CipherOutputStream(outputStream, encryptCipher);\n    cipherOutputStream.write(s.getBytes());\n    cipherOutputStream.flush();\n    cipherOutputStream.close();\n    byte[] encryptedBytes = outputStream.toByteArray();\n\n    // Decrypt cipher\n    Cipher decryptCipher = Cipher.getInstance(\"AES/CBC/PKCS5Padding\");\n    IvParameterSpec ivParameterSpec = new IvParameterSpec(aesKey.getEncoded());\n    decryptCipher.init(Cipher.DECRYPT_MODE, aesKey, ivParameterSpec);\n\n    // Decrypt\n    outputStream = new ByteArrayOutputStream();\n    ByteArrayInputStream inStream = new ByteArrayInputStream(encryptedBytes);\n    CipherInputStream cipherInputStream = new CipherInputStream(inStream, decryptCipher);\n    byte[] buf = new byte[1024];\n    int bytesRead;\n    while ((bytesRead = cipherInputStream.read(buf)) &gt;= 0) {\n        outputStream.write(buf, 0, bytesRead);\n    }\n\n    System.out.println(\"Result: \" + new String(outputStream.toByteArray()));\n\n  } \n  catch (Exception ex) {\n    ex.printStackTrace();\n  }\n}\n</code></pre>\n"},{"tags":["java","ejb","javabeans","ejb-3.1"],"answers":[{"tags":[],"owner":{"account_id":25614657,"reputation":11,"user_id":21385878,"display_name":"James"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679861825,"creation_date":1679861797,"answer_id":75850321,"question_id":55176202,"body_markdown":"I struggled for ages trying to get something like the above working. I.e. access an EJB from standalone Java client. Not successful.\r\nHowever, I did manager to get access to remote EJB lookup and invocation working when I ran the client code from another WLP instance. This works fine. Below is the method used in the client side WLP to find a remote EJB and invoke a method.\r\n\r\n\r\n        public void invokeRemoteMethod() {\r\n    \tdbg(&quot;invokeRemoteMethod called&quot;);\r\n    \tString jndiName = &quot;corbaname::localhost:2809/NameService#ejb/global/app1EAR/app1EJB/CalcImpl!test\\\\.CalcRemote&quot;;\r\n    \tHashtable&lt;String,String&gt; env = new Hashtable&lt;String,String&gt;();\r\n    \tenv.put(Context.PROVIDER_URL, &quot;corbaloc:iiop:localhost:2809&quot;);\r\n    \ttry {\r\n    \t\tContext initialContext = new InitialContext(env);\r\n    \t\tObject remoteObj = initialContext.lookup(jndiName);\r\n            System.out.println(&quot;remoteObj found = &quot; + ((remoteObj == null) ? &quot;null&quot; : remoteObj.getClass().getName()));\r\n            CalcRemote remoteBean = CalcRemote.class.cast(PortableRemoteObject.narrow(remoteObj, CalcRemote.class));\r\n            System.out.println(&quot;remoteBean name = &quot; + ((remoteBean == null) ? remoteBean : remoteBean.getClass().getName()));\r\n            System.out.println(&quot;add 1, 3 =&quot; + remoteBean.add(1, 3));\r\n    \t} catch (Exception e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    }\r\n\r\nAnother thing, I had to copy the files key.p12 and ltpa.keys from ..\\usr\\servers\\&lt;server-name&gt;\\resources\\security\\* of the server WLP instance to the client WLP instance. And you will need to setup the ports on the client side WLP so that they do not conflict.\r\n\r\nIt is likely that if you want to invoke a remote method via standalone Java client, you will be better to implement a SOAP based web service.","title":"WebSphere Liberty 8.0.0.3 Remote EJB Lookup fails","body":"<p>I struggled for ages trying to get something like the above working. I.e. access an EJB from standalone Java client. Not successful.\nHowever, I did manager to get access to remote EJB lookup and invocation working when I ran the client code from another WLP instance. This works fine. Below is the method used in the client side WLP to find a remote EJB and invoke a method.</p>\n<pre><code>    public void invokeRemoteMethod() {\n    dbg(&quot;invokeRemoteMethod called&quot;);\n    String jndiName = &quot;corbaname::localhost:2809/NameService#ejb/global/app1EAR/app1EJB/CalcImpl!test\\\\.CalcRemote&quot;;\n    Hashtable&lt;String,String&gt; env = new Hashtable&lt;String,String&gt;();\n    env.put(Context.PROVIDER_URL, &quot;corbaloc:iiop:localhost:2809&quot;);\n    try {\n        Context initialContext = new InitialContext(env);\n        Object remoteObj = initialContext.lookup(jndiName);\n        System.out.println(&quot;remoteObj found = &quot; + ((remoteObj == null) ? &quot;null&quot; : remoteObj.getClass().getName()));\n        CalcRemote remoteBean = CalcRemote.class.cast(PortableRemoteObject.narrow(remoteObj, CalcRemote.class));\n        System.out.println(&quot;remoteBean name = &quot; + ((remoteBean == null) ? remoteBean : remoteBean.getClass().getName()));\n        System.out.println(&quot;add 1, 3 =&quot; + remoteBean.add(1, 3));\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Another thing, I had to copy the files key.p12 and ltpa.keys from ..\\usr\\servers&lt;server-name&gt;\\resources\\security* of the server WLP instance to the client WLP instance. And you will need to setup the ports on the client side WLP so that they do not conflict.</p>\n<p>It is likely that if you want to invoke a remote method via standalone Java client, you will be better to implement a SOAP based web service.</p>\n"}],"owner":{"account_id":13264906,"reputation":31,"user_id":9578112,"display_name":"user9578112"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679861825,"creation_date":1552628347,"question_id":55176202,"body_markdown":"WebSphere Liberty 8.0.0.3 EJB Lookup fails:\r\n\r\nI created a EJB with the following code and deployed in WebSphere Liberty 8.0.0.3.\r\n\r\n**ITestEJBRemoteInterface.java**\r\n\r\n    package ejb31.test;\r\n    \r\n    import javax.ejb.EJB;\r\n    import javax.ejb.Remote;\r\n    \r\n    @Remote\r\n    @EJB(name=&quot;ejb/checkName&quot;)\r\n    public interface ITestEJBRemoteInterface\r\n    { \r\n    \tpublic boolean checkNames(String fsName);\r\n    }\r\n\r\n**TestEJB.java:**\r\n\r\n    package ejb31.test;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    import javax.ejb.EJB;\r\n    import javax.ejb.LocalBean;\r\n    import javax.ejb.Remote;\r\n    import javax.ejb.Stateless;\r\n    /** * Session Bean implementation class TestEJB */ \r\n    @Stateless\r\n    @EJB(name=&quot;ejb/checkName&quot;)\r\n    public class TestEJB implements ITestEJBRemoteInterface \r\n    {\r\n    \tList&lt;String&gt; moListOfNames = Arrays.asList(&quot;Kevin&quot;,&quot;Jiten&quot;,&quot;Martina&quot;,&quot;Brian&quot;); \r\n    \t/** * Default constructor. */\r\n    \tpublic TestEJB() \r\n    \t{ \r\n    \t\t\r\n    \t} \r\n    \t/** * Find if the passed name is present in the default list of names \r\n    \t * \r\n    \t * \r\n    \t * \r\n    \t * @return */ \r\n    \tpublic boolean checkNames(String fsName)\r\n    \t{ \r\n    \t\tboolean lboolNamePresent = false; \r\n    \t\tif(fsName != null) \r\n    \t\t{ \r\n    \t\t\tlboolNamePresent = moListOfNames.contains(fsName); \r\n    \t\t} \r\n    \t\treturn lboolNamePresent; \r\n    \t}\r\n    }\r\n\r\n**ejb-jar.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n     &lt;ejb-jar xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:ejb=&quot;http://java.sun.com/xml/ns/javaee/ejb-jar_3_0.xsd&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/ejb-jar_3_1.xsd&quot; version=&quot;3.1&quot;&gt; \r\n     &lt;display-name&gt; TestEJB3.1 &lt;/display-name&gt; \r\n     &lt;/ejb-jar&gt;\r\n\r\n**EJB Deployment was successful and the log files throws the binding location:**\r\n\r\n**java:global/TestEJB3.1EAR/TestEJB3.1/TestEJB!ejb31.test.ITestEJBRemoteInterface**\r\n\r\nThe problem is when invoking the ejb.\r\n**WebSphereClient.java**\r\n\r\n    package com.client;\r\n    \r\n    import java.util.Properties;\r\n    \r\n    import javax.naming.Context;\r\n    import javax.naming.InitialContext;\r\n    import javax.naming.NamingException;\r\n    \r\n    public class WebSphereClient {\r\n        public static void main(String[] args) {\r\n        \t\r\n        \tString jndiPath = &quot;corbaname:rir:#ejb/global/TestEJB3.1EAR/TestEJB3.1/TestEJB!ejb31.test.ITestEJBRemoteInterface&quot;;\r\n        \tString provider = &quot;corbaname:iiop:localhost:2809&quot;;\r\n        \t\r\n        \tProperties jndiLookupProps = new Properties();\r\n        \tjndiLookupProps.put(javax.naming.Context.INITIAL_CONTEXT_FACTORY,\r\n        \t com.ibm.websphere.naming.PROPS.INITIAL_CONTEXT_FACTORY);\r\n        \tjndiLookupProps.put(javax.naming.Context.PROVIDER_URL, provider);\r\n        \ttry {\r\n                Object found = new InitialContext().lookup(jndiPath);\r\n    \t\t} catch (NamingException e1) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te1.printStackTrace();\r\n    \t\t}\r\n        }\r\n    }\r\n\r\nIt throws an error:\r\njavax.naming.InvalidNameException: The name component &quot;TestEJB!ejb31.test.ITestEJBRemoteInterface&quot; violates INS name syntax.  There is more than one unescaped ID/KIND separator (&quot;.&quot;).\r\n\r\n**When i tried escaping the jndiPath like:**\r\n\r\n    jndiPath = &quot;corbaname:rir:#ejb/global/TestEJB3%5c.1EAR/TestEJB3%5c.1/TestEJB!ejb31%5c.test%5c.ITestEJBRemoteInterface&quot;;\r\n\r\nor\r\n\r\n    jndiPath = &quot;corbaname:rir:#ejb/global/TestEJB3\\.1EAR/TestEJB3\\.1/TestEJB!ejb31\\.test\\.ITestEJBRemoteInterface&quot;;\r\n\r\nor\r\n\r\n    jndiPath = &quot;corbaname:rir:#ejb/global/TestEJB3\\\\.1EAR/TestEJB3\\\\.1/TestEJB!ejb31\\\\.test\\\\.ITestEJBRemoteInterface&quot;;\r\n\r\n\r\n**It gives the same error.\r\nHow to invoke the EJB deployed in the Websphere liberty properly using a remote client?**\r\n\r\n","title":"WebSphere Liberty 8.0.0.3 Remote EJB Lookup fails","body":"<p>WebSphere Liberty 8.0.0.3 EJB Lookup fails:</p>\n\n<p>I created a EJB with the following code and deployed in WebSphere Liberty 8.0.0.3.</p>\n\n<p><strong>ITestEJBRemoteInterface.java</strong></p>\n\n<pre><code>package ejb31.test;\n\nimport javax.ejb.EJB;\nimport javax.ejb.Remote;\n\n@Remote\n@EJB(name=\"ejb/checkName\")\npublic interface ITestEJBRemoteInterface\n{ \n    public boolean checkNames(String fsName);\n}\n</code></pre>\n\n<p><strong>TestEJB.java:</strong></p>\n\n<pre><code>package ejb31.test;\nimport java.util.Arrays;\nimport java.util.List;\n\nimport javax.ejb.EJB;\nimport javax.ejb.LocalBean;\nimport javax.ejb.Remote;\nimport javax.ejb.Stateless;\n/** * Session Bean implementation class TestEJB */ \n@Stateless\n@EJB(name=\"ejb/checkName\")\npublic class TestEJB implements ITestEJBRemoteInterface \n{\n    List&lt;String&gt; moListOfNames = Arrays.asList(\"Kevin\",\"Jiten\",\"Martina\",\"Brian\"); \n    /** * Default constructor. */\n    public TestEJB() \n    { \n\n    } \n    /** * Find if the passed name is present in the default list of names \n     * \n     * \n     * \n     * @return */ \n    public boolean checkNames(String fsName)\n    { \n        boolean lboolNamePresent = false; \n        if(fsName != null) \n        { \n            lboolNamePresent = moListOfNames.contains(fsName); \n        } \n        return lboolNamePresent; \n    }\n}\n</code></pre>\n\n<p><strong>ejb-jar.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n &lt;ejb-jar xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:ejb=\"http://java.sun.com/xml/ns/javaee/ejb-jar_3_0.xsd\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/ejb-jar_3_1.xsd\" version=\"3.1\"&gt; \n &lt;display-name&gt; TestEJB3.1 &lt;/display-name&gt; \n &lt;/ejb-jar&gt;\n</code></pre>\n\n<p><strong>EJB Deployment was successful and the log files throws the binding location:</strong></p>\n\n<p><strong>java:global/TestEJB3.1EAR/TestEJB3.1/TestEJB!ejb31.test.ITestEJBRemoteInterface</strong></p>\n\n<p>The problem is when invoking the ejb.\n<strong>WebSphereClient.java</strong></p>\n\n<pre><code>package com.client;\n\nimport java.util.Properties;\n\nimport javax.naming.Context;\nimport javax.naming.InitialContext;\nimport javax.naming.NamingException;\n\npublic class WebSphereClient {\n    public static void main(String[] args) {\n\n        String jndiPath = \"corbaname:rir:#ejb/global/TestEJB3.1EAR/TestEJB3.1/TestEJB!ejb31.test.ITestEJBRemoteInterface\";\n        String provider = \"corbaname:iiop:localhost:2809\";\n\n        Properties jndiLookupProps = new Properties();\n        jndiLookupProps.put(javax.naming.Context.INITIAL_CONTEXT_FACTORY,\n         com.ibm.websphere.naming.PROPS.INITIAL_CONTEXT_FACTORY);\n        jndiLookupProps.put(javax.naming.Context.PROVIDER_URL, provider);\n        try {\n            Object found = new InitialContext().lookup(jndiPath);\n        } catch (NamingException e1) {\n            // TODO Auto-generated catch block\n            e1.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>It throws an error:\njavax.naming.InvalidNameException: The name component \"TestEJB!ejb31.test.ITestEJBRemoteInterface\" violates INS name syntax.  There is more than one unescaped ID/KIND separator (\".\").</p>\n\n<p><strong>When i tried escaping the jndiPath like:</strong></p>\n\n<pre><code>jndiPath = \"corbaname:rir:#ejb/global/TestEJB3%5c.1EAR/TestEJB3%5c.1/TestEJB!ejb31%5c.test%5c.ITestEJBRemoteInterface\";\n</code></pre>\n\n<p>or</p>\n\n<pre><code>jndiPath = \"corbaname:rir:#ejb/global/TestEJB3\\.1EAR/TestEJB3\\.1/TestEJB!ejb31\\.test\\.ITestEJBRemoteInterface\";\n</code></pre>\n\n<p>or</p>\n\n<pre><code>jndiPath = \"corbaname:rir:#ejb/global/TestEJB3\\\\.1EAR/TestEJB3\\\\.1/TestEJB!ejb31\\\\.test\\\\.ITestEJBRemoteInterface\";\n</code></pre>\n\n<p><strong>It gives the same error.\nHow to invoke the EJB deployed in the Websphere liberty properly using a remote client?</strong></p>\n"},{"tags":["java","hibernate","second-level-cache","maven-dependency","hibernate-session"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1679874941,"post_id":75850309,"comment_id":133794304,"body_markdown":"`assertThat(test1 == test2).isTrue()` - that expectation is wrong, since entities are mutable HBN does not store entities in cache, it stores field&#39;s values instead.","body":"<code>assertThat(test1 == test2).isTrue()</code> - that expectation is wrong, since entities are mutable HBN does not store entities in cache, it stores field&#39;s values instead."},{"owner":{"account_id":28131791,"reputation":1,"user_id":21496209,"display_name":"Ramazan"},"score":0,"creation_date":1679924565,"post_id":75850309,"comment_id":133803196,"body_markdown":"You are right, thanks a lot! I checked the queries and indeed, there is only one query to the database.","body":"You are right, thanks a lot! I checked the queries and indeed, there is only one query to the database."}],"owner":{"account_id":28131791,"reputation":1,"user_id":21496209,"display_name":"Ramazan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679861641,"creation_date":1679861641,"question_id":75850309,"body_markdown":"I&#39;m trying to connect and test the second level cache in the hibernate application. It seems like I managed to connect the necessary dependencies and set up the config file. But the cache itself does not work when checking, the new session makes a second request to the database.\r\ndependencies:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;6.2.0.CR2&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-jcache&lt;/artifactId&gt;\r\n            &lt;version&gt;6.2.0.CR2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.ehcache/ehcache --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.ehcache&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\r\n            &lt;version&gt;3.9.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nhibernate.cfg.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/online_store?useSSL=false&lt;/property&gt;\r\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\r\n        &lt;property name=&quot;connection.password&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.charsetEncoding&quot;&gt;utf8&lt;/property&gt;\r\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.format_sql&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n        &lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\r\n        &lt;!--to enable SessionFactory level cache (or second-level cache) --&gt;\r\n        &lt;property name=&quot;hibernate.cache.use_second_level_cache&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.cache.region.factory_class&quot;&gt;org.hibernate.cache.jcache.internal.JCacheRegionFactory&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.javax.cache.missing_cache_strategy&quot;&gt;create&lt;/property&gt;\r\n        &lt;mapping class=&quot;entities.User&quot;/&gt;\r\n        &lt;mapping class=&quot;entities.Product&quot;/&gt;\r\n        &lt;mapping class=&quot;entities.Order&quot;/&gt;\r\n        &lt;mapping class=&quot;entities.TestEntity&quot;/&gt;\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\ntest method:\r\n\r\n```\r\n    @Test\r\n    public void secondLevelCacheOn() {\r\n        TestEntity test1;\r\n        TestEntity test2;\r\n        try (Session session = HibernateSessionFactory.getSessionFactory().openSession()) {\r\n            session.setCacheMode(CacheMode.PUT);\r\n            test1 = session.find(TestEntity.class, 1);\r\n        }\r\n        try (Session session = HibernateSessionFactory.getSessionFactory().openSession()) {\r\n            session.setCacheMode(CacheMode.GET);\r\n            test2 = session.find(TestEntity.class, 1);\r\n        }\r\n        System.out.println(test1.equals(test2));\r\n        System.out.println(test1 == test2);\r\n        System.out.println(test1);\r\n        System.out.println(test2);\r\n        assertThat(test1 == test2).isTrue();\r\n    }\r\n```\r\nresult:\r\n\r\n```\r\nмар. 26, 2023 10:45:32 PM org.hibernate.Version logVersion\r\nINFO: HHH000412: Hibernate ORM core version 6.2.0.CR2\r\nмар. 26, 2023 10:45:32 PM org.hibernate.cfg.Environment &lt;clinit&gt;\r\nINFO: HHH000406: Using bytecode reflection optimizer\r\nмар. 26, 2023 10:45:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\nWARN: HHH10001002: Using built-in connection pool (not intended for production use)\r\nмар. 26, 2023 10:45:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver\r\nмар. 26, 2023 10:45:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/online_store?useSSL=false]\r\nмар. 26, 2023 10:45:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001001: Connection properties: {password=****, charsetEncoding=utf8, user=root}\r\nмар. 26, 2023 10:45:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001003: Autocommit mode: false\r\nмар. 26, 2023 10:45:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\r\nINFO: HHH10001115: Connection pool size: 20 (min=1)\r\nмар. 26, 2023 10:45:33 PM org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl logSelectedDialect\r\nINFO: HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\r\nмар. 26, 2023 10:45:33 PM org.hibernate.bytecode.internal.BytecodeProviderInitiator buildBytecodeProvider\r\nINFO: HHH000021: Bytecode provider name : bytebuddy\r\n[main] INFO org.ehcache.core.EhcacheManager - Cache &#39;entities.User.orders&#39; created in EhcacheManager.\r\n[main] INFO org.ehcache.core.EhcacheManager - Cache &#39;entities.Order&#39; created in EhcacheManager.\r\n[main] INFO org.ehcache.core.EhcacheManager - Cache &#39;entities.Order.products&#39; created in EhcacheManager.\r\n[main] INFO org.ehcache.core.EhcacheManager - Cache &#39;entities.TestEntity&#39; created in EhcacheManager.\r\n[main] INFO org.ehcache.core.EhcacheManager - Cache &#39;entities.User&#39; created in EhcacheManager.\r\n[main] INFO org.ehcache.core.EhcacheManager - Cache &#39;entities.Product&#39; created in EhcacheManager.\r\nмар. 26, 2023 10:45:34 PM org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\r\nINFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@4e3283f6] for (non-JTA) DDL execution was not in auto-commit mode; the Connection &#39;local transaction&#39; will be committed and the Connection will be set into auto-commit mode.\r\nHibernate: \r\n    alter table Customer \r\n       modify column creation_time  datetime(6)\r\nHibernate: \r\n    alter table Customer \r\n       modify column update_time  datetime(6)\r\nHibernate: \r\n    alter table Customer_Order \r\n       modify column creation_time  datetime(6)\r\nHibernate: \r\n    alter table Product \r\n       modify column addition_time  datetime(6)\r\nHibernate: \r\n    alter table Product \r\n       modify column category  enum (&#39;Headphones&#39;,&#39;Laptop&#39;,&#39;Phone&#39;,&#39;Stereo&#39;,&#39;TV&#39;,&#39;Tablet&#39;,&#39;Watches&#39;)\r\nHibernate: \r\n    alter table Product \r\n       modify column photo  BLOB\r\nHibernate: \r\n    alter table Product \r\n       modify column update_time  datetime(6)\r\nHibernate: \r\n    select\r\n        t1_0.id,\r\n        t1_0.name \r\n    from\r\n        Test_Entity t1_0 \r\n    where\r\n        t1_0.id=?\r\ntrue\r\nfalse\r\nentities.TestEntity@40bf064\r\nentities.TestEntity@40bf064\r\n\r\norg.junit.ComparisonFailure: \r\nExpecting value to be true but was false \r\nExpected :true\r\nActual   :false\r\n```\r\n\r\n\r\nI tried setting different cache modes for the session, but that didn&#39;t help.\r\nI will be grateful for any hints","title":"Doesn&#39;t work second-level cache in Hibernate app","body":"<p>I'm trying to connect and test the second level cache in the hibernate application. It seems like I managed to connect the necessary dependencies and set up the config file. But the cache itself does not work when checking, the new session makes a second request to the database.\ndependencies:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.2.0.CR2&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jcache&lt;/artifactId&gt;\n            &lt;version&gt;6.2.0.CR2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.ehcache/ehcache --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.ehcache&lt;/groupId&gt;\n            &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\n            &lt;version&gt;3.9.7&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>hibernate.cfg.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/online_store?useSSL=false&lt;/property&gt;\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\n        &lt;property name=&quot;connection.password&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.charsetEncoding&quot;&gt;utf8&lt;/property&gt;\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;hibernate.format_sql&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;\n        &lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\n        &lt;!--to enable SessionFactory level cache (or second-level cache) --&gt;\n        &lt;property name=&quot;hibernate.cache.use_second_level_cache&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;hibernate.cache.region.factory_class&quot;&gt;org.hibernate.cache.jcache.internal.JCacheRegionFactory&lt;/property&gt;\n        &lt;property name=&quot;hibernate.javax.cache.missing_cache_strategy&quot;&gt;create&lt;/property&gt;\n        &lt;mapping class=&quot;entities.User&quot;/&gt;\n        &lt;mapping class=&quot;entities.Product&quot;/&gt;\n        &lt;mapping class=&quot;entities.Order&quot;/&gt;\n        &lt;mapping class=&quot;entities.TestEntity&quot;/&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>test method:</p>\n<pre><code>    @Test\n    public void secondLevelCacheOn() {\n        TestEntity test1;\n        TestEntity test2;\n        try (Session session = HibernateSessionFactory.getSessionFactory().openSession()) {\n            session.setCacheMode(CacheMode.PUT);\n            test1 = session.find(TestEntity.class, 1);\n        }\n        try (Session session = HibernateSessionFactory.getSessionFactory().openSession()) {\n            session.setCacheMode(CacheMode.GET);\n            test2 = session.find(TestEntity.class, 1);\n        }\n        System.out.println(test1.equals(test2));\n        System.out.println(test1 == test2);\n        System.out.println(test1);\n        System.out.println(test2);\n        assertThat(test1 == test2).isTrue();\n    }\n</code></pre>\n<p>result:</p>\n<pre><code>мар. 26, 2023 10:45:32 PM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate ORM core version 6.2.0.CR2\nмар. 26, 2023 10:45:32 PM org.hibernate.cfg.Environment &lt;clinit&gt;\nINFO: HHH000406: Using bytecode reflection optimizer\nмар. 26, 2023 10:45:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nWARN: HHH10001002: Using built-in connection pool (not intended for production use)\nмар. 26, 2023 10:45:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver\nмар. 26, 2023 10:45:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/online_store?useSSL=false]\nмар. 26, 2023 10:45:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001001: Connection properties: {password=****, charsetEncoding=utf8, user=root}\nмар. 26, 2023 10:45:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001003: Autocommit mode: false\nмар. 26, 2023 10:45:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\nINFO: HHH10001115: Connection pool size: 20 (min=1)\nмар. 26, 2023 10:45:33 PM org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl logSelectedDialect\nINFO: HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\nмар. 26, 2023 10:45:33 PM org.hibernate.bytecode.internal.BytecodeProviderInitiator buildBytecodeProvider\nINFO: HHH000021: Bytecode provider name : bytebuddy\n[main] INFO org.ehcache.core.EhcacheManager - Cache 'entities.User.orders' created in EhcacheManager.\n[main] INFO org.ehcache.core.EhcacheManager - Cache 'entities.Order' created in EhcacheManager.\n[main] INFO org.ehcache.core.EhcacheManager - Cache 'entities.Order.products' created in EhcacheManager.\n[main] INFO org.ehcache.core.EhcacheManager - Cache 'entities.TestEntity' created in EhcacheManager.\n[main] INFO org.ehcache.core.EhcacheManager - Cache 'entities.User' created in EhcacheManager.\n[main] INFO org.ehcache.core.EhcacheManager - Cache 'entities.Product' created in EhcacheManager.\nмар. 26, 2023 10:45:34 PM org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\nINFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@4e3283f6] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.\nHibernate: \n    alter table Customer \n       modify column creation_time  datetime(6)\nHibernate: \n    alter table Customer \n       modify column update_time  datetime(6)\nHibernate: \n    alter table Customer_Order \n       modify column creation_time  datetime(6)\nHibernate: \n    alter table Product \n       modify column addition_time  datetime(6)\nHibernate: \n    alter table Product \n       modify column category  enum ('Headphones','Laptop','Phone','Stereo','TV','Tablet','Watches')\nHibernate: \n    alter table Product \n       modify column photo  BLOB\nHibernate: \n    alter table Product \n       modify column update_time  datetime(6)\nHibernate: \n    select\n        t1_0.id,\n        t1_0.name \n    from\n        Test_Entity t1_0 \n    where\n        t1_0.id=?\ntrue\nfalse\nentities.TestEntity@40bf064\nentities.TestEntity@40bf064\n\norg.junit.ComparisonFailure: \nExpecting value to be true but was false \nExpected :true\nActual   :false\n</code></pre>\n<p>I tried setting different cache modes for the session, but that didn't help.\nI will be grateful for any hints</p>\n"},{"tags":["python","java","string","character"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679854046,"creation_date":1679854046,"answer_id":75849629,"question_id":75849561,"body_markdown":"Essentially, this problem requires finding all consecutive sequences of the same character. Then, we just need to sum the difference between the length of each group and the length of the largest group.\r\n\r\nIn Python, we can use [`itertools.groupby`](https://docs.python.org/3/library/itertools.html#itertools.groupby) to get all consecutive runs of the same character. A straightforward implementation would be as follows:\r\n\r\n```python\r\nfrom itertools import groupby\r\ndef balance(s):\r\n    groups = [len(list(g)) for k, g in groupby(s)]\r\n    maxLen = max(groups)\r\n    return sum(maxLen - x for x in groups)\r\n```","title":"How to count and compare characters in a string with Python/Java","body":"<p>Essentially, this problem requires finding all consecutive sequences of the same character. Then, we just need to sum the difference between the length of each group and the length of the largest group.</p>\n<p>In Python, we can use <a href=\"https://docs.python.org/3/library/itertools.html#itertools.groupby\" rel=\"nofollow noreferrer\"><code>itertools.groupby</code></a> to get all consecutive runs of the same character. A straightforward implementation would be as follows:</p>\n<pre class=\"lang-py prettyprint-override\"><code>from itertools import groupby\ndef balance(s):\n    groups = [len(list(g)) for k, g in groupby(s)]\n    maxLen = max(groups)\n    return sum(maxLen - x for x in groups)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8623377,"reputation":9580,"user_id":6457407,"display_name":"Frank Yellin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679860987,"creation_date":1679860987,"answer_id":75850260,"question_id":75849561,"body_markdown":"@unmitigated&#39;s answer is definitely the best answer.\r\n\r\nIf you did not know about `itertools.groupby`, then you should search StackOverflow and other sources for &quot;Run Length Encoding&quot;.  This gives other techniques for counting the number of consecutive identical digits.\r\n","title":"How to count and compare characters in a string with Python/Java","body":"<p>@unmitigated's answer is definitely the best answer.</p>\n<p>If you did not know about <code>itertools.groupby</code>, then you should search StackOverflow and other sources for &quot;Run Length Encoding&quot;.  This gives other techniques for counting the number of consecutive identical digits.</p>\n"}],"owner":{"account_id":28131097,"reputation":3,"user_id":21495628,"display_name":"Gabriel Vieira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75849629,"answer_count":2,"score":0,"last_activity_date":1679861437,"creation_date":1679853409,"question_id":75849561,"body_markdown":"Once I was invited for an interview for a Junior Java Developer role. Everything was ok, until the technical interview...\r\nIt was a live code challenge, where the tech leads would watch me solve a code challenge in Java.\r\n\r\nIt was about a year ago, an until now, I don&#39;t know how to solve it...\r\nI&#39;ve studying Python since then, and even tried to solve it in this language, but, with no results...\r\n\r\nThe challenge is this:\r\n\r\nBased on a string input from the user, write a function that returns how many characters you should add so the string is &quot;evenly&quot; distributed.\r\n\r\n**Example 1:**\r\n\r\nThe input was &quot;abba&quot;. This string has 3 groups:\r\nFirst: &quot;a&quot;\r\nSecond: &quot;bb&quot;\r\nThird: &quot;a&quot;\r\n\r\nSo in order to &quot;evenly&quot; balance this string, we should do the following:\r\nIn the first group, we should add 1 character &quot;a&quot;\r\nIn the second group, we should do nothing..\r\nIn the third group, we should add 1 character &quot;a&quot;\r\n\r\nSo, doing this, the string would be like this:\r\n&quot;aabbaa&quot;\r\nAnd, the return value of the function would be &quot;2&quot;\r\n\r\n**Example 2:**\r\n\r\nThe input was &quot;baaababba&quot;. This string has 6 groups:\r\nFirst: &quot;b&quot;\r\nSecond: &quot;aaa&quot;\r\nThird: &quot;b&quot;\r\nFourth: &quot;a&quot;\r\nFifth: &quot;bb&quot;\r\nSixth: &quot;a&quot;\r\n\r\nSo in order to &quot;evenly&quot; balance this string, we should do the following:\r\nIn the first group, we should add 2 characters &quot;b&quot;\r\nIn the second group, we should do nothing..\r\nIn the third group, we should add 2 character &quot;b&quot;\r\nIn the fourth group, we should add 2 characters &quot;a&quot;\r\nIn the fifth group, we should add 1 character &quot;b&quot;\r\nIn the sixth group, we should add 2 characters &quot;a&quot;\r\n\r\nSo, doing this, the string would be like this:\r\n&quot;bbbaaabbbaaabbbaaa&quot;\r\nAnd, the return value of the function would be &quot;9&quot;\r\n\r\n**Example 3:**\r\n\r\nThe input was &quot;aaaa&quot;. This string has 1 group: &quot;aaaa&quot;\r\n\r\nSo, there is no need to add characters to even this string, and the return value should be &quot;0&quot;\r\n\r\n**Example 4:**\r\n\r\nThe input was &quot;aabbaabb&quot;. This string has 4 groups:\r\nFirst group: &quot;aa&quot;\r\nSecond group: &quot;bb&quot;\r\nThird group: &quot;aa&quot;\r\nFourth group: &quot;bb&quot;\r\n\r\nThere is no need to add any characters to balance this string, since all groups have the same ammount of characters. Than, for this one, the return should, as well, be &quot;0&quot;.\r\n\r\nPlease, if you could help me, both in Java or Python, I&#39;ll really appreciate it. This challenge is driving me crazy since then.\r\n\r\nBTW... I am new in the world of programming... so, be kind hahahah\r\n\r\n```\r\ndef string_evaluator(user_input):\r\n    input_to_list = []\r\n    list_to_dic = {}\r\n    group_count = 1\r\n    biggest_group = 1\r\n    for i in user_input:\r\n        input_to_list.append(i)\r\n    for char in input_to_list:\r\n        character = char[0]\r\n        if character not in list_to_dic:\r\n        list_to_dic[character] = []\r\n        list_to_dic[character].append(char)\r\n\r\n    # print(list_to_dic)\r\n```","title":"How to count and compare characters in a string with Python/Java","body":"<p>Once I was invited for an interview for a Junior Java Developer role. Everything was ok, until the technical interview...\nIt was a live code challenge, where the tech leads would watch me solve a code challenge in Java.</p>\n<p>It was about a year ago, an until now, I don't know how to solve it...\nI've studying Python since then, and even tried to solve it in this language, but, with no results...</p>\n<p>The challenge is this:</p>\n<p>Based on a string input from the user, write a function that returns how many characters you should add so the string is &quot;evenly&quot; distributed.</p>\n<p><strong>Example 1:</strong></p>\n<p>The input was &quot;abba&quot;. This string has 3 groups:\nFirst: &quot;a&quot;\nSecond: &quot;bb&quot;\nThird: &quot;a&quot;</p>\n<p>So in order to &quot;evenly&quot; balance this string, we should do the following:\nIn the first group, we should add 1 character &quot;a&quot;\nIn the second group, we should do nothing..\nIn the third group, we should add 1 character &quot;a&quot;</p>\n<p>So, doing this, the string would be like this:\n&quot;aabbaa&quot;\nAnd, the return value of the function would be &quot;2&quot;</p>\n<p><strong>Example 2:</strong></p>\n<p>The input was &quot;baaababba&quot;. This string has 6 groups:\nFirst: &quot;b&quot;\nSecond: &quot;aaa&quot;\nThird: &quot;b&quot;\nFourth: &quot;a&quot;\nFifth: &quot;bb&quot;\nSixth: &quot;a&quot;</p>\n<p>So in order to &quot;evenly&quot; balance this string, we should do the following:\nIn the first group, we should add 2 characters &quot;b&quot;\nIn the second group, we should do nothing..\nIn the third group, we should add 2 character &quot;b&quot;\nIn the fourth group, we should add 2 characters &quot;a&quot;\nIn the fifth group, we should add 1 character &quot;b&quot;\nIn the sixth group, we should add 2 characters &quot;a&quot;</p>\n<p>So, doing this, the string would be like this:\n&quot;bbbaaabbbaaabbbaaa&quot;\nAnd, the return value of the function would be &quot;9&quot;</p>\n<p><strong>Example 3:</strong></p>\n<p>The input was &quot;aaaa&quot;. This string has 1 group: &quot;aaaa&quot;</p>\n<p>So, there is no need to add characters to even this string, and the return value should be &quot;0&quot;</p>\n<p><strong>Example 4:</strong></p>\n<p>The input was &quot;aabbaabb&quot;. This string has 4 groups:\nFirst group: &quot;aa&quot;\nSecond group: &quot;bb&quot;\nThird group: &quot;aa&quot;\nFourth group: &quot;bb&quot;</p>\n<p>There is no need to add any characters to balance this string, since all groups have the same ammount of characters. Than, for this one, the return should, as well, be &quot;0&quot;.</p>\n<p>Please, if you could help me, both in Java or Python, I'll really appreciate it. This challenge is driving me crazy since then.</p>\n<p>BTW... I am new in the world of programming... so, be kind hahahah</p>\n<pre><code>def string_evaluator(user_input):\n    input_to_list = []\n    list_to_dic = {}\n    group_count = 1\n    biggest_group = 1\n    for i in user_input:\n        input_to_list.append(i)\n    for char in input_to_list:\n        character = char[0]\n        if character not in list_to_dic:\n        list_to_dic[character] = []\n        list_to_dic[character].append(char)\n\n    # print(list_to_dic)\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-transactions"],"owner":{"account_id":12917712,"reputation":77,"user_id":9341347,"display_name":"Roseau"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679861219,"creation_date":1679858628,"question_id":75850042,"body_markdown":"I am trying to save the status of my API flow in the database. If the API flow succeeds, I want to save SUCCESS status in DB otherwise FAILED status should be saved. \r\n\r\nPseudocode:\r\n```\r\n@Transactional(isolation = Isolation.READ_COMMITTED)\r\npublic void doSomething() {\r\n   \r\n   try{\r\n    //code that might throw exception\r\n    status = success\r\n   }\r\n   catch(Exception e){\r\n   status = failed\r\n   throw e\r\n   }\r\n   finally{\r\n    saveStatusToDb(status)\r\n   } \r\n}\r\n\r\n\r\nsaveStausToDb(status){\r\n\tmySave(status);\r\n}\r\n\r\n@Transactional(propagation = Propagation.NOT_SUPPORTED)\r\nmySave(status){\r\nstatusRepository.save(status);\r\n}\r\n```\r\n\r\nIf I just use `@Transactional(propagation = Propagation.NOT_SUPPORTED)`, data is getting saved from saveStausToDb method properly. It&#39;s not working with `@Transactional(isolation = Isolation.READ_COMMITTED)` annotation on doSomething method.\r\n\r\nI tried using TransactionTemplate so that saveStatusToDB is independent of `@Transactional` annotation. \r\n\r\nPseudocode:\r\n```\r\n@Autowired\r\nprivate TransactionTemplate transactionTemplate;\r\n\r\n@Transactional(isolation = Isolation.READ_COMMITTED)\r\npublic void doSomething() {\r\n    String status = null;\r\n    try {\r\n        // code that might throw exception\r\n        status = &quot;success&quot;;\r\n    } catch (Exception e) {\r\n        status = &quot;failed&quot;;\r\n        throw e;\r\n    } finally {\r\n        saveStatusToDb(status);\r\n    } \r\n}\r\n\r\npublic void saveStatusToDb(status) {\r\n    transactionTemplate.execute(new TransactionCallbackWithoutResult() {\r\n        @Override\r\n        protected void doInTransactionWithoutResult(TransactionStatus status) {\r\n            statusRepository.save(status);\r\n        }\r\n    });\r\n}\r\n```\r\nHow can i achieve saving the status to DB without getting rid of `@Transactional(isolation = Isolation.READ_COMMITTED)` annotation?","title":"How can I save in DB after exception has occurred","body":"<p>I am trying to save the status of my API flow in the database. If the API flow succeeds, I want to save SUCCESS status in DB otherwise FAILED status should be saved.</p>\n<p>Pseudocode:</p>\n<pre><code>@Transactional(isolation = Isolation.READ_COMMITTED)\npublic void doSomething() {\n   \n   try{\n    //code that might throw exception\n    status = success\n   }\n   catch(Exception e){\n   status = failed\n   throw e\n   }\n   finally{\n    saveStatusToDb(status)\n   } \n}\n\n\nsaveStausToDb(status){\n    mySave(status);\n}\n\n@Transactional(propagation = Propagation.NOT_SUPPORTED)\nmySave(status){\nstatusRepository.save(status);\n}\n</code></pre>\n<p>If I just use <code>@Transactional(propagation = Propagation.NOT_SUPPORTED)</code>, data is getting saved from saveStausToDb method properly. It's not working with <code>@Transactional(isolation = Isolation.READ_COMMITTED)</code> annotation on doSomething method.</p>\n<p>I tried using TransactionTemplate so that saveStatusToDB is independent of <code>@Transactional</code> annotation.</p>\n<p>Pseudocode:</p>\n<pre><code>@Autowired\nprivate TransactionTemplate transactionTemplate;\n\n@Transactional(isolation = Isolation.READ_COMMITTED)\npublic void doSomething() {\n    String status = null;\n    try {\n        // code that might throw exception\n        status = &quot;success&quot;;\n    } catch (Exception e) {\n        status = &quot;failed&quot;;\n        throw e;\n    } finally {\n        saveStatusToDb(status);\n    } \n}\n\npublic void saveStatusToDb(status) {\n    transactionTemplate.execute(new TransactionCallbackWithoutResult() {\n        @Override\n        protected void doInTransactionWithoutResult(TransactionStatus status) {\n            statusRepository.save(status);\n        }\n    });\n}\n</code></pre>\n<p>How can i achieve saving the status to DB without getting rid of <code>@Transactional(isolation = Isolation.READ_COMMITTED)</code> annotation?</p>\n"},{"tags":["java","abstract-syntax-tree","annotation-processing","anonymous-class"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679860407,"creation_date":1679860407,"answer_id":75850204,"question_id":75849759,"body_markdown":"&gt; To perform my task, I need to find the javax.lang.model.element.Element object representing that specific anonymous class.\r\n\r\nIt doesn&#39;t exist. There&#39;s your problem.\r\n\r\n&gt; I have my annotation, containing the fully qualified name of SampleClass and the unique integer identifying the anonymous class once it&#39;s compiled (as in SampleClass$id).\r\n\r\nThat name you are talking about (`SampleClass$1`) is the binary name and doesn&#39;t really apply to source code. The compilation process goes through stages. The stage where annotation processing occurs, predates the stage where names are treated in binary form. _There is no way_ to refer to an anonymous inner class at the stage annotation processors execute.\r\n\r\nThis goes rather deep. Javac creates a &#39;lazy&#39; model, i.e., it only creates those nodes it needs to. This notably _excludes_ method local types (and anonymous inner classes are a kind of method-local). It&#39;s not just &#39;not possible to access the `TypeElement` given the info you have - _The `TypeElement` instance doesn&#39;t even exist at the time you want to access it_.\r\n\r\nJavac is a complicated project and those nodes are used for various things. Thus, the conclusion &#39;hey, there is a `Kind.ANONYMOUS`, surely that means all anonymous classes are accessible if only I know how&#39; doesn&#39;t work, even if, indeed, it&#39;s a plausible conclusion to draw.\r\n\r\nWith hackery you can dig deeper and open the innards of `javac`, which may or may not allow you to do what you want. This is rocket science that takes months of work to write. I&#39;d know. (I co-maintain Project Lombok which does just that). I doubt you want to do that.\r\n\r\nPerhaps take a step back: _Why_ do you need this? Surely you have some actual problem that you wanted to solve, and you thought &#39;I will use an AP to access anonymous inner classes&#39; was a good solution to whatever problem you wanted to solve.\r\n\r\nUnfortunately, it probably isn&#39;t. However, if you ask a new question (don&#39;t edit this one - fundamentally changing the nature of a question isn&#39;t what edit is for, I think), stating the problem you&#39;re trying to solve, perhaps there is an alternate solution you aren&#39;t aware of that would be a better fit.","title":"How to find an anonymous class in the annotation processing environment?","body":"<blockquote>\n<p>To perform my task, I need to find the javax.lang.model.element.Element object representing that specific anonymous class.</p>\n</blockquote>\n<p>It doesn't exist. There's your problem.</p>\n<blockquote>\n<p>I have my annotation, containing the fully qualified name of SampleClass and the unique integer identifying the anonymous class once it's compiled (as in SampleClass$id).</p>\n</blockquote>\n<p>That name you are talking about (<code>SampleClass$1</code>) is the binary name and doesn't really apply to source code. The compilation process goes through stages. The stage where annotation processing occurs, predates the stage where names are treated in binary form. <em>There is no way</em> to refer to an anonymous inner class at the stage annotation processors execute.</p>\n<p>This goes rather deep. Javac creates a 'lazy' model, i.e., it only creates those nodes it needs to. This notably <em>excludes</em> method local types (and anonymous inner classes are a kind of method-local). It's not just 'not possible to access the <code>TypeElement</code> given the info you have - <em>The <code>TypeElement</code> instance doesn't even exist at the time you want to access it</em>.</p>\n<p>Javac is a complicated project and those nodes are used for various things. Thus, the conclusion 'hey, there is a <code>Kind.ANONYMOUS</code>, surely that means all anonymous classes are accessible if only I know how' doesn't work, even if, indeed, it's a plausible conclusion to draw.</p>\n<p>With hackery you can dig deeper and open the innards of <code>javac</code>, which may or may not allow you to do what you want. This is rocket science that takes months of work to write. I'd know. (I co-maintain Project Lombok which does just that). I doubt you want to do that.</p>\n<p>Perhaps take a step back: <em>Why</em> do you need this? Surely you have some actual problem that you wanted to solve, and you thought 'I will use an AP to access anonymous inner classes' was a good solution to whatever problem you wanted to solve.</p>\n<p>Unfortunately, it probably isn't. However, if you ask a new question (don't edit this one - fundamentally changing the nature of a question isn't what edit is for, I think), stating the problem you're trying to solve, perhaps there is an alternate solution you aren't aware of that would be a better fit.</p>\n"}],"owner":{"account_id":27890412,"reputation":5,"user_id":21296919,"display_name":"zaaarf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75850204,"answer_count":1,"score":0,"last_activity_date":1679860407,"creation_date":1679855353,"question_id":75849759,"body_markdown":"I&#39;m writing an annotation processor with Java 8.\r\n\r\nLet&#39;s say I have a class like this somewhere in my project:\r\n```java\r\npublic class SampleClass {\r\n\tpublic void foo(int i) {\r\n\t\tnew Runnable() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\tSystem.out.println(i);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n}\r\n```\r\n\r\nSomewhere *else* in my code, I have my annotation, containing the fully qualified name of SampleClass and the unique integer identifying the anonymous class once it&#39;s compiled (as in SampleClass$id).\r\n\r\nTo perform my task, I need to find the `javax.lang.model.element.Element` object representing that specific anonymous class. Or, barring that, at least getting a list of the `Element` objects representing the anonymous classes within a certain class would be a start. I&#39;m pretty sure it&#39;s possible, since anonymous classes are referenced multiple times in the documentation of the `javax.lang.model` package, but I&#39;m at a loss on how specifically you&#39;d get them in my case. \r\n\r\nI did try the most obvious things. Let&#39;s say I want to write a method that, given the fully-qualified name (`fqn`) of a class and a `ProcessingEnvironment` object (`env`), builds a list of all anonymous classes contained within that element (and, recursively, each of its child elements, and their child elements, and so on). This was my best guess on how to do it:\r\n\r\n```java\r\npublic List&lt;Element&gt; findAnonymousClasses(String fqn, ProcessingEnvironment env) {\r\n\tElement sampleClassElement = processingEnvironment.getElementUtils().getTypeElement(fqn);\r\n\tList&lt;Element&gt; anons = new ArrayList&lt;&gt;();\r\n\tsampleClassElement.getEnclosedElements()\r\n\t\t.forEach(e -&gt; {\r\n\t\t\tif(e.getSimpleName().length() == 0)\r\n\t\t\t\tanons.add(e);\r\n\t\t\tanons.addAll(getAnonymousClasses(e, env));\r\n\t});\r\n}\r\n```\r\n\r\nMy reasoning being that `getSimpleName()`, according to its documentation:\r\n&gt; If it represents an anonymous class or instance initializer, an empty name is returned.\r\n\r\nand\r\n&gt;  An empty {@code Name} has a length of zero.\r\n\r\nThe code is obviously flawed, since it would returns the anonymous classes of within the methods of classes as well, but it should at least return something! Yet, apparently, that `List` is empty. Replacing `e.getSimpleName().length() == 0` with `e instanceof TypeElement &amp;&amp; ((TypeElement) e).getNestingKind() == NestingKind.ANONYMOUS` yields the same result.\r\n\r\nFurther inspection revealed that the problem is NOT with how I filter it, however. Rather, it would seem that `Element.getEnclosedElements()` never contains anonymous classes. How can I find them then? Surely, if there is handling for them coded in (i.e. `NestingKind.ANONYMOUS`), they must be obtainable somehow? Hoping anyone here can give me a nudge in the right direction.","title":"How to find an anonymous class in the annotation processing environment?","body":"<p>I'm writing an annotation processor with Java 8.</p>\n<p>Let's say I have a class like this somewhere in my project:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SampleClass {\n    public void foo(int i) {\n        new Runnable() {\n            @Override\n            public void run() {\n                System.out.println(i);\n            }\n        };\n    }\n}\n</code></pre>\n<p>Somewhere <em>else</em> in my code, I have my annotation, containing the fully qualified name of SampleClass and the unique integer identifying the anonymous class once it's compiled (as in SampleClass$id).</p>\n<p>To perform my task, I need to find the <code>javax.lang.model.element.Element</code> object representing that specific anonymous class. Or, barring that, at least getting a list of the <code>Element</code> objects representing the anonymous classes within a certain class would be a start. I'm pretty sure it's possible, since anonymous classes are referenced multiple times in the documentation of the <code>javax.lang.model</code> package, but I'm at a loss on how specifically you'd get them in my case.</p>\n<p>I did try the most obvious things. Let's say I want to write a method that, given the fully-qualified name (<code>fqn</code>) of a class and a <code>ProcessingEnvironment</code> object (<code>env</code>), builds a list of all anonymous classes contained within that element (and, recursively, each of its child elements, and their child elements, and so on). This was my best guess on how to do it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Element&gt; findAnonymousClasses(String fqn, ProcessingEnvironment env) {\n    Element sampleClassElement = processingEnvironment.getElementUtils().getTypeElement(fqn);\n    List&lt;Element&gt; anons = new ArrayList&lt;&gt;();\n    sampleClassElement.getEnclosedElements()\n        .forEach(e -&gt; {\n            if(e.getSimpleName().length() == 0)\n                anons.add(e);\n            anons.addAll(getAnonymousClasses(e, env));\n    });\n}\n</code></pre>\n<p>My reasoning being that <code>getSimpleName()</code>, according to its documentation:</p>\n<blockquote>\n<p>If it represents an anonymous class or instance initializer, an empty name is returned.</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>An empty {@code Name} has a length of zero.</p>\n</blockquote>\n<p>The code is obviously flawed, since it would returns the anonymous classes of within the methods of classes as well, but it should at least return something! Yet, apparently, that <code>List</code> is empty. Replacing <code>e.getSimpleName().length() == 0</code> with <code>e instanceof TypeElement &amp;&amp; ((TypeElement) e).getNestingKind() == NestingKind.ANONYMOUS</code> yields the same result.</p>\n<p>Further inspection revealed that the problem is NOT with how I filter it, however. Rather, it would seem that <code>Element.getEnclosedElements()</code> never contains anonymous classes. How can I find them then? Surely, if there is handling for them coded in (i.e. <code>NestingKind.ANONYMOUS</code>), they must be obtainable somehow? Hoping anyone here can give me a nudge in the right direction.</p>\n"},{"tags":["java","bash","console","cygwin","ansi-escape"],"answers":[{"tags":[],"owner":{"account_id":3392684,"reputation":2010,"user_id":2847174,"display_name":"Ren&#233; Scheibe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1488142888,"creation_date":1488141949,"answer_id":42474062,"question_id":42473988,"body_markdown":"Have a look at the well known [jansi][1] library - especially [AnsiString][2] in there:\r\n\r\n    AnsiString ansiString = new AnsiString(&quot;string with escape codes&quot;);\r\n    String plainString = ansiString.getPlain();\r\n\r\nYou can also have a look at the [ansi-econsole][3] plugin for Eclipse. It&#39;s an Eclipse plugin that understands ANSI escape sequences to color the Eclipse console output.\r\n\r\n\r\n  [1]: https://github.com/fusesource/jansi\r\n  [2]: http://fusesource.github.io/jansi/documentation/api/org/fusesource/jansi/AnsiString.html#skip.navbar.top\r\n  [3]: https://github.com/mihnita/ansi-econsole","title":"BASH control sequences parser or regex?","body":"<p>Have a look at the well known <a href=\"https://github.com/fusesource/jansi\" rel=\"nofollow noreferrer\">jansi</a> library - especially <a href=\"http://fusesource.github.io/jansi/documentation/api/org/fusesource/jansi/AnsiString.html#skip.navbar.top\" rel=\"nofollow noreferrer\">AnsiString</a> in there:</p>\n\n<pre><code>AnsiString ansiString = new AnsiString(\"string with escape codes\");\nString plainString = ansiString.getPlain();\n</code></pre>\n\n<p>You can also have a look at the <a href=\"https://github.com/mihnita/ansi-econsole\" rel=\"nofollow noreferrer\">ansi-econsole</a> plugin for Eclipse. It's an Eclipse plugin that understands ANSI escape sequences to color the Eclipse console output.</p>\n"}],"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":42474062,"answer_count":1,"score":0,"last_activity_date":1679860196,"creation_date":1488141598,"question_id":42473988,"body_markdown":"I&#39;ve stumbled across this topic because I&#39;m developing a console app, currently on a Windows machine using Cygwin to run it (but it will have to run in Linux BASH too at some stage).\r\n\r\nInitially all I want to do is apply colour, so I&#39;ve found out about all these **&quot;(ESC)[31m... (ESC)[1m&quot;** type directives... for foreground and background colours.\r\n\r\nBut in the course of testing I also want to be able to strip such codes and just get to the &quot;non-markup&quot; text.  With other forms of markup (HTML notably) there are tools available.  Is there anything like this for these console codes? Googling around I found something in C, something in Python, but nothing in Java.\r\n\r\nI *think* the codes involved here (for Cygwin and BASH) are the &quot;ANSI&quot; Control codes... but I&#39;m not sure.  Could someone maybe confirm this?\r\n\r\nFailing a full-blown parser, a regex covering all cases would be helpful.  If necessary I&#39;ll try to roll one myself from the documentation, but it&#39;d be nice to get one off the shelf from the experts...","title":"BASH control sequences parser or regex?","body":"<p>I've stumbled across this topic because I'm developing a console app, currently on a Windows machine using Cygwin to run it (but it will have to run in Linux BASH too at some stage).</p>\n\n<p>Initially all I want to do is apply colour, so I've found out about all these <strong>\"(ESC)[31m... (ESC)[1m\"</strong> type directives... for foreground and background colours.</p>\n\n<p>But in the course of testing I also want to be able to strip such codes and just get to the \"non-markup\" text.  With other forms of markup (HTML notably) there are tools available.  Is there anything like this for these console codes? Googling around I found something in C, something in Python, but nothing in Java.</p>\n\n<p>I <em>think</em> the codes involved here (for Cygwin and BASH) are the \"ANSI\" Control codes... but I'm not sure.  Could someone maybe confirm this?</p>\n\n<p>Failing a full-blown parser, a regex covering all cases would be helpful.  If necessary I'll try to roll one myself from the documentation, but it'd be nice to get one off the shelf from the experts...</p>\n"},{"tags":["java","android","file","encoding","utf-8"],"comments":[{"owner":{"account_id":2228889,"reputation":1776,"user_id":1967021,"display_name":"Ivan Pronin"},"score":0,"creation_date":1492279499,"post_id":43429402,"comment_id":73916810,"body_markdown":"What exception do you get when reading a UTF-8 file?","body":"What exception do you get when reading a UTF-8 file?"},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1492280099,"post_id":43429402,"comment_id":73917014,"body_markdown":"Somewhere with those readers you can add an encoding parameter. Try out.","body":"Somewhere with those readers you can add an encoding parameter. Try out."}],"answers":[{"tags":[],"owner":{"account_id":265094,"reputation":519,"user_id":551830,"display_name":"TheCoolah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1492286776,"creation_date":1492286776,"answer_id":43430729,"question_id":43429402,"body_markdown":"The commented `BufferedReader` line looks like it should work. However, `windows-1252` is the canonical name for classes in `java.nio`. For classes in `java.io` (like `InputStreamReader`) the canonical name is `Cp1252`. See [Supported Encodings][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/guides/intl/encoding.doc.html\r\n\r\nYou may also wish to try `ISO-8859-1` (nio) or `ISO8859_1` (io).","title":"How to read an ansi-coded file with german (european) characters and display correctly","body":"<p>The commented <code>BufferedReader</code> line looks like it should work. However, <code>windows-1252</code> is the canonical name for classes in <code>java.nio</code>. For classes in <code>java.io</code> (like <code>InputStreamReader</code>) the canonical name is <code>Cp1252</code>. See <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/intl/encoding.doc.html\" rel=\"nofollow noreferrer\">Supported Encodings</a></p>\n\n<p>You may also wish to try <code>ISO-8859-1</code> (nio) or <code>ISO8859_1</code> (io).</p>\n"}],"owner":{"account_id":10572177,"reputation":3,"user_id":7788567,"display_name":"user7788567"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":966,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":43430729,"answer_count":1,"score":0,"last_activity_date":1679860145,"creation_date":1492278955,"question_id":43429402,"body_markdown":"I have a standard textfile written with Windows editor (or Word) und saved in ANSI-format in the android device. If I open and read this file and display it on my Android device all characters are displayed correctly except the German Umlaute &#228;&#196;&#246;&#214;&#252;&#220;&#223;. Instead of these characters a white question mark is shown within a black diamond. (I display them in a homescreen widget using `remoteViews.setTextViewText(...`)\r\n\r\nI googled for hours and found lots of hints on using UTF-8 encoding etc. But when I save the file in UTF-8 or with any format but ANSI, I will get an exception and can&#39;t read the file at all. Using an android editor shows the encoding of the file is correct both in ANSI and in UTF-8.\r\n\r\nMy program is too long to copy it here so I extracted the hopefully relevant part and put it below. Please help!\r\n\r\n\r\n\r\n    public class Test {\r\n    \r\n        static void readFile() {\r\n            File file = new File(Environment.getExternalStorageDirectory().getAbsolutePath(), &quot;birthday.txt&quot;);\r\n            if (file.exists())\r\n            {\r\n                try {\r\n                    FileReader fileReader = new FileReader(file);\r\n                    BufferedReader br = new BufferedReader(fileReader);\r\n                    //BufferedReader br = new BufferedReader(new InputStreamReader(new FileInputStream(directory+&quot;birthday.txt&quot;), &quot;windows-1252&quot;));\r\n    \r\n                    String lineOfText;\r\n                    while ((lineOfText = br.readLine()) != null) {\r\n                        //Output lineOfText  via remoteViews.setTextViewText(WidgetOutput.getRef(linecounter).getIdWhat(), lineOfText);\r\n    \r\n                    }\r\n                    br.close();\r\n    \r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    \r\n    }","title":"How to read an ansi-coded file with german (european) characters and display correctly","body":"<p>I have a standard textfile written with Windows editor (or Word) und saved in ANSI-format in the android device. If I open and read this file and display it on my Android device all characters are displayed correctly except the German Umlaute äÄöÖüÜß. Instead of these characters a white question mark is shown within a black diamond. (I display them in a homescreen widget using <code>remoteViews.setTextViewText(...</code>)</p>\n\n<p>I googled for hours and found lots of hints on using UTF-8 encoding etc. But when I save the file in UTF-8 or with any format but ANSI, I will get an exception and can't read the file at all. Using an android editor shows the encoding of the file is correct both in ANSI and in UTF-8.</p>\n\n<p>My program is too long to copy it here so I extracted the hopefully relevant part and put it below. Please help!</p>\n\n<pre><code>public class Test {\n\n    static void readFile() {\n        File file = new File(Environment.getExternalStorageDirectory().getAbsolutePath(), \"birthday.txt\");\n        if (file.exists())\n        {\n            try {\n                FileReader fileReader = new FileReader(file);\n                BufferedReader br = new BufferedReader(fileReader);\n                //BufferedReader br = new BufferedReader(new InputStreamReader(new FileInputStream(directory+\"birthday.txt\"), \"windows-1252\"));\n\n                String lineOfText;\n                while ((lineOfText = br.readLine()) != null) {\n                    //Output lineOfText  via remoteViews.setTextViewText(WidgetOutput.getRef(linecounter).getIdWhat(), lineOfText);\n\n                }\n                br.close();\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","bluetooth","bluetooth-lowenergy"],"answers":[{"tags":[],"owner":{"account_id":692529,"reputation":17134,"user_id":556495,"accept_rate":50,"display_name":"Emil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679860033,"creation_date":1679860033,"answer_id":75850171,"question_id":75849154,"body_markdown":"Not sure exactly what is going on in your case, but note the following:\r\n\r\n1. It is the `writeDescriptor` method of the `BluetoothGatt` object that actually sends the notification/indication setting to the remote device. If you use the overload that takes a byte array, that is the value to be sent. If you use the overload that takes no byte array, the value set previously using `setValue` will be used.\r\n\r\n2. The `setCharacteristicNotification` method tells the bluetooth stack on the local device to forward notifications and indications to the app, if they are received from the remote device.\r\n\r\n3. Not sure what your `Thread.sleep` calls are supposed to do. It&#39;s generally better to use a Handler and schedule work in the future than blocking a thread in case you want to do something in the future.\r\n\r\n4. It appears from the flow in your code that you don&#39;t follow the (undocumented) rules that only one GATT operation can be in progress at a time, per `BluetoothGatt` object. It seems that, when the line `mBTLE_Service.writeCharacteristic(characteristic_fourth);` is called, the earlier `writeDescriptor` call is still pending. You must wait for the `onDescriptorWrite` callback before you can send another GATT operation.\r\n\r\n5. Make sure the remote device actually sends an indication. You can inspect the packet logs to see what&#39;s going on.","title":"Android studio BLE indication does not work (but notification is working)","body":"<p>Not sure exactly what is going on in your case, but note the following:</p>\n<ol>\n<li><p>It is the <code>writeDescriptor</code> method of the <code>BluetoothGatt</code> object that actually sends the notification/indication setting to the remote device. If you use the overload that takes a byte array, that is the value to be sent. If you use the overload that takes no byte array, the value set previously using <code>setValue</code> will be used.</p>\n</li>\n<li><p>The <code>setCharacteristicNotification</code> method tells the bluetooth stack on the local device to forward notifications and indications to the app, if they are received from the remote device.</p>\n</li>\n<li><p>Not sure what your <code>Thread.sleep</code> calls are supposed to do. It's generally better to use a Handler and schedule work in the future than blocking a thread in case you want to do something in the future.</p>\n</li>\n<li><p>It appears from the flow in your code that you don't follow the (undocumented) rules that only one GATT operation can be in progress at a time, per <code>BluetoothGatt</code> object. It seems that, when the line <code>mBTLE_Service.writeCharacteristic(characteristic_fourth);</code> is called, the earlier <code>writeDescriptor</code> call is still pending. You must wait for the <code>onDescriptorWrite</code> callback before you can send another GATT operation.</p>\n</li>\n<li><p>Make sure the remote device actually sends an indication. You can inspect the packet logs to see what's going on.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":28111620,"reputation":1,"user_id":21494809,"display_name":"Даниил Белковский"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679860033,"creation_date":1679848990,"question_id":75849154,"body_markdown":"I am writing a project that works with the device, when the notification is connected, the data arrives perfectly and everything works, but when the indication is connected, the program does not even enter onCharacteristicChanged\r\n\r\nStart indication or notification:\r\n```\r\npublic void setCharacteristicNotification(BluetoothGattCharacteristic characteristic, boolean enabled) {\r\n\r\n        Log.d(TAG, &quot;I was in notificator&quot;);\r\n\r\n        if (mBluetoothAdapter == null || mBluetoothGatt == null) {\r\n            Log.w(TAG, &quot;BluetoothAdapter not initialized&quot;);\r\n            return;\r\n        }\r\n\r\n        BluetoothGattDescriptor descriptor = characteristic.getDescriptor(\r\n                UUID.fromString(getString(R.string.CLIENT_CHARACTERISTIC_CONFIG)));\r\n\r\n        int properties_local = characteristic.getProperties();\r\n        if (Utils.hasIndicateProperty(properties_local) != 0) {\r\n            Log.d(TAG, &quot;Indication on this characteristic&quot;);\r\n        }\r\n        if (Utils.hasNotifyProperty(properties_local) != 0) {\r\n            Log.d(TAG, &quot;Notification on this characteristic&quot;);\r\n        }\r\n        else Log.d(TAG, &quot;Notification are NOT on this characteristic&quot;);\r\n        byte [] indi = BluetoothGattDescriptor.ENABLE_INDICATION_VALUE;\r\n        byte [] noti = BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE;\r\n\r\n        if (Activity_BTLE_Services.SWITCHED == 0) {\r\n            if (enabled) {\r\n                boolean a = descriptor.setValue(BluetoothGattDescriptor.ENABLE_INDICATION_VALUE);\r\n                Log.d(TAG, &quot;ENABLE INDICATION &quot; + a);\r\n            }\r\n            else {\r\n                descriptor.setValue(BluetoothGattDescriptor.DISABLE_NOTIFICATION_VALUE);\r\n            }\r\n        }\r\n\r\n        else {\r\n            if (enabled) {\r\n                descriptor.setValue(BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE);\r\n            }\r\n\r\n            else {\r\n                descriptor.setValue(BluetoothGattDescriptor.DISABLE_NOTIFICATION_VALUE);\r\n            }\r\n        }\r\n\r\n        boolean answer = mBluetoothGatt.setCharacteristicNotification(characteristic, enabled);\r\n        Log.d(TAG, String.valueOf(answer));\r\n\r\n        try {\r\n            Thread.sleep(10000);\r\n        } catch (InterruptedException e) {\r\n            Log.d(TAG, &quot;To short time&quot;);\r\n        }\r\n\r\n        /*try {\r\n            Thread.sleep(500);\r\n        } catch (InterruptedException e) {\r\n            Log.d(TAG, &quot;To short time&quot;);\r\n        }*/\r\n\r\n        mBluetoothGatt.writeDescriptor(descriptor, BluetoothGattDescriptor.ENABLE_INDICATION_VALUE);\r\n    }\r\n```\r\n\r\nWe connect the notification, and then we give a command to another characteristic of the device to change the data (pauses are needed so that the device has time to process the data)\r\n```\r\nelse {\r\n                    BluetoothGattCharacteristic characteristic_fourth = characteristics_ArrayList.get(2);\r\n                    BluetoothGattCharacteristic characteristic_fifth = characteristics_ArrayList.get(3);\r\n                    btn_scan = findViewById(R.id.btn_scan);\r\n                    image_view = findViewById(R.id.imageView4);\r\n                    GraphView graph = (GraphView) (findViewById(R.id.graph));\r\n                    graph.removeAllSeries();\r\n                    list.clear();\r\n                    mBTLE_Service.setCharacteristicNotification(characteristic_fifth, true);\r\n\r\n                    try {\r\n                        Thread.sleep(1000);\r\n                    } catch (InterruptedException e) {\r\n                        Log.d(TAG, &quot;To short time&quot;);\r\n                    }\r\n                    byte[] data_local = {11, 0};\r\n                    characteristic_fourth.setValue(data_local);\r\n                    mBTLE_Service.writeCharacteristic(characteristic_fourth);\r\n                    btn_scan.setImageResource(R.drawable.baseline_pause_24);\r\n                    image_view.setVisibility(View.VISIBLE);\r\n                }\r\n```\r\n\r\n[An example of how it works in nrf connect](https://i.stack.imgur.com/cfuDp.jpg)","title":"Android studio BLE indication does not work (but notification is working)","body":"<p>I am writing a project that works with the device, when the notification is connected, the data arrives perfectly and everything works, but when the indication is connected, the program does not even enter onCharacteristicChanged</p>\n<p>Start indication or notification:</p>\n<pre><code>public void setCharacteristicNotification(BluetoothGattCharacteristic characteristic, boolean enabled) {\n\n        Log.d(TAG, &quot;I was in notificator&quot;);\n\n        if (mBluetoothAdapter == null || mBluetoothGatt == null) {\n            Log.w(TAG, &quot;BluetoothAdapter not initialized&quot;);\n            return;\n        }\n\n        BluetoothGattDescriptor descriptor = characteristic.getDescriptor(\n                UUID.fromString(getString(R.string.CLIENT_CHARACTERISTIC_CONFIG)));\n\n        int properties_local = characteristic.getProperties();\n        if (Utils.hasIndicateProperty(properties_local) != 0) {\n            Log.d(TAG, &quot;Indication on this characteristic&quot;);\n        }\n        if (Utils.hasNotifyProperty(properties_local) != 0) {\n            Log.d(TAG, &quot;Notification on this characteristic&quot;);\n        }\n        else Log.d(TAG, &quot;Notification are NOT on this characteristic&quot;);\n        byte [] indi = BluetoothGattDescriptor.ENABLE_INDICATION_VALUE;\n        byte [] noti = BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE;\n\n        if (Activity_BTLE_Services.SWITCHED == 0) {\n            if (enabled) {\n                boolean a = descriptor.setValue(BluetoothGattDescriptor.ENABLE_INDICATION_VALUE);\n                Log.d(TAG, &quot;ENABLE INDICATION &quot; + a);\n            }\n            else {\n                descriptor.setValue(BluetoothGattDescriptor.DISABLE_NOTIFICATION_VALUE);\n            }\n        }\n\n        else {\n            if (enabled) {\n                descriptor.setValue(BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE);\n            }\n\n            else {\n                descriptor.setValue(BluetoothGattDescriptor.DISABLE_NOTIFICATION_VALUE);\n            }\n        }\n\n        boolean answer = mBluetoothGatt.setCharacteristicNotification(characteristic, enabled);\n        Log.d(TAG, String.valueOf(answer));\n\n        try {\n            Thread.sleep(10000);\n        } catch (InterruptedException e) {\n            Log.d(TAG, &quot;To short time&quot;);\n        }\n\n        /*try {\n            Thread.sleep(500);\n        } catch (InterruptedException e) {\n            Log.d(TAG, &quot;To short time&quot;);\n        }*/\n\n        mBluetoothGatt.writeDescriptor(descriptor, BluetoothGattDescriptor.ENABLE_INDICATION_VALUE);\n    }\n</code></pre>\n<p>We connect the notification, and then we give a command to another characteristic of the device to change the data (pauses are needed so that the device has time to process the data)</p>\n<pre><code>else {\n                    BluetoothGattCharacteristic characteristic_fourth = characteristics_ArrayList.get(2);\n                    BluetoothGattCharacteristic characteristic_fifth = characteristics_ArrayList.get(3);\n                    btn_scan = findViewById(R.id.btn_scan);\n                    image_view = findViewById(R.id.imageView4);\n                    GraphView graph = (GraphView) (findViewById(R.id.graph));\n                    graph.removeAllSeries();\n                    list.clear();\n                    mBTLE_Service.setCharacteristicNotification(characteristic_fifth, true);\n\n                    try {\n                        Thread.sleep(1000);\n                    } catch (InterruptedException e) {\n                        Log.d(TAG, &quot;To short time&quot;);\n                    }\n                    byte[] data_local = {11, 0};\n                    characteristic_fourth.setValue(data_local);\n                    mBTLE_Service.writeCharacteristic(characteristic_fourth);\n                    btn_scan.setImageResource(R.drawable.baseline_pause_24);\n                    image_view.setVisibility(View.VISIBLE);\n                }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/cfuDp.jpg\" rel=\"nofollow noreferrer\">An example of how it works in nrf connect</a></p>\n"},{"tags":["java","html","spring","thymeleaf"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1679846493,"post_id":75848146,"comment_id":133790041,"body_markdown":"You are using Thymeleaf&#39;s `${source}` syntax in some places (which looks correct, given your use of `th:each=&quot;source,iter...`), but `*{source}` in others (which does not look correct, given your use of `th:object=&quot;${userAlignmentDTO}&quot;`).","body":"You are using Thymeleaf&#39;s <code>${source}</code> syntax in some places (which looks correct, given your use of <code>th:each=&quot;source,iter...</code>), but <code>*{source}</code> in others (which does not look correct, given your use of <code>th:object=&quot;${userAlignmentDTO}&quot;</code>)."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1679846959,"post_id":75848146,"comment_id":133790131,"body_markdown":"In case it helps, see also: [Difference between *, $, and #](https://stackoverflow.com/q/57511424/12567365)","body":"In case it helps, see also: <a href=\"https://stackoverflow.com/q/57511424/12567365\">Difference between *, $, and #</a>"},{"owner":{"account_id":19303193,"reputation":141,"user_id":14110623,"display_name":"Nathan Lively"},"score":0,"creation_date":1679858687,"post_id":75848146,"comment_id":133792059,"body_markdown":"Thanks @andrewJames . I definitely have some doubts about those, but as far as i can tell my code matches the article I referenced.","body":"Thanks @andrewJames . I definitely have some doubts about those, but as far as i can tell my code matches the article I referenced."},{"owner":{"account_id":19303193,"reputation":141,"user_id":14110623,"display_name":"Nathan Lively"},"score":0,"creation_date":1679859358,"post_id":75848146,"comment_id":133792177,"body_markdown":"By the way @andrewJames I edited the Thymeleaf template just now and error message to make it more clear.","body":"By the way @andrewJames I edited the Thymeleaf template just now and error message to make it more clear."}],"answers":[{"tags":[],"owner":{"account_id":19303193,"reputation":141,"user_id":14110623,"display_name":"Nathan Lively"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679859986,"creation_date":1679859986,"answer_id":75850163,"question_id":75848146,"body_markdown":"Looks like I was missing the proper NoArgs constructor for Thymeleaf.\r\n\r\n```\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n```\r\n\r\nFrom chatGPT: \r\n\r\n&gt; Based on the error message, it looks like there is no default\r\n&gt; constructor for the UserAlignmentSourceDTO2 class. That means that\r\n&gt; Thymeleaf is unable to create an instance of this class when it tries\r\n&gt; to bind form data to a UserAlignmentDTO object.\r\n\r\n","title":"How to bind fields in a list to a Thymeleaf form? [Bean property is not readable]","body":"<p>Looks like I was missing the proper NoArgs constructor for Thymeleaf.</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n</code></pre>\n<p>From chatGPT:</p>\n<blockquote>\n<p>Based on the error message, it looks like there is no default\nconstructor for the UserAlignmentSourceDTO2 class. That means that\nThymeleaf is unable to create an instance of this class when it tries\nto bind form data to a UserAlignmentDTO object.</p>\n</blockquote>\n"}],"owner":{"account_id":19303193,"reputation":141,"user_id":14110623,"display_name":"Nathan Lively"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75850163,"answer_count":1,"score":0,"last_activity_date":1679859986,"creation_date":1679838383,"question_id":75848146,"body_markdown":"I have an object that can either have two or three repeating sets of fields. It seems like the easiest way to handle that is with a list and a form that will expand or contract with the size of the list.\r\n\r\nUnfortunately, I keep getting an error suggesting that Thymeleaf doesn&#39;t recognize the variables I&#39;m trying to bind to the main form object. This problem is solved in [this article](https://www.baeldung.com/thymeleaf-list), but for some reason I am not able to get the same results.\r\n\r\n# What I tried\r\n\r\n## DTO\r\n\r\n```\r\npackage nathanLively.subAlignerjava.DTO;\r\n\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport nathanLively.subAlignerjava.Models.Enums.UnitsEnum;\r\nimport nathanLively.subAlignerjava.Models.PreAlignment;\r\nimport nathanLively.subAlignerjava.Models.Speaker;\r\nimport nathanLively.subAlignerjava.Models.UserAlignment;\r\nimport nathanLively.subAlignerjava.Models.UserAlignmentSource;\r\n\r\nimport java.util.List;\r\nimport java.util.Set;\r\nimport java.util.stream.Collectors;\r\n\r\n@Data\r\n@Builder\r\npublic class UserAlignmentDTO {\r\n    private UnitsEnum units;\r\n    private List&lt;UserAlignmentSourceDTO2&gt; userAlignmentSources;\r\n\r\n    public UserAlignment toUserAlignment(PreAlignment preAlignment) {\r\n        Set&lt;UserAlignmentSource&gt; userAlignmentSourceList = userAlignmentSources.stream()\r\n                .map(UserAlignmentSourceDTO2::toUserAlignmentSource)\r\n                .collect(Collectors.toSet());\r\n\r\n        UserAlignment userAlignment = UserAlignment.builder()\r\n                .preAlignment(preAlignment)\r\n                .userAlignmentSources(userAlignmentSourceList)\r\n                .distanceUnit(units)\r\n                .build();\r\n\r\n        return userAlignment;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npackage nathanLively.subAlignerjava.DTO;\r\n\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport nathanLively.subAlignerjava.Models.Enums.UnitsEnum;\r\nimport nathanLively.subAlignerjava.Models.PreAlignment;\r\nimport nathanLively.subAlignerjava.Models.PreAlignmentSource;\r\nimport nathanLively.subAlignerjava.Models.Speaker;\r\nimport nathanLively.subAlignerjava.Models.UserAlignmentSource;\r\n\r\n@Data\r\n@Builder\r\npublic class UserAlignmentSourceDTO2 {\r\n\r\n    private String modelName;\r\n    private Integer count;\r\n    private Float distance;\r\n\r\n    public UserAlignmentSource toUserAlignmentSource() {\r\n\r\n        UserAlignmentSource userAlignmentSource = UserAlignmentSource.builder()\r\n//                .speaker(speaker)\r\n                .count(count)\r\n                .distance(distance)\r\n                .build();\r\n\r\n        return userAlignmentSource;\r\n    }\r\n}\r\n```\r\n\r\n## Controller\r\n\r\n```\r\npackage nathanLively.subAlignerjava.Controllers;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\nimport nathanLively.subAlignerjava.DTO.UserAlignmentDTO;\r\nimport nathanLively.subAlignerjava.DTO.UserAlignmentSourceDTO;\r\nimport nathanLively.subAlignerjava.DTO.UserAlignmentSourceDTO2;\r\nimport nathanLively.subAlignerjava.Models.*;\r\nimport nathanLively.subAlignerjava.Models.Enums.UnitsEnum;\r\nimport nathanLively.subAlignerjava.Services.*;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.*;\r\n\r\n@Controller\r\n@RequiredArgsConstructor\r\n@RequestMapping(&quot;/align&quot;)\r\npublic class AlignController {\r\n\r\n    @Autowired\r\n    private final BrandService brandService;\r\n\r\n    @Autowired\r\n    private final SpeakerModelService speakerModelService;\r\n\r\n    @Autowired\r\n    private final DspPresetService dspPresetService;\r\n\r\n    @Autowired\r\n    private final UserAlignmentService userAlignmentService;\r\n\r\n    @Autowired\r\n    private final SpeakerService speakerService;\r\n\r\n    @Autowired\r\n    private final PreAlignmentService preAlignmentService;\r\n\r\n    // Show pre-alignments\r\n    @GetMapping(&quot;/pre-alignments&quot;)\r\n    public String showPreAlignments(Model model) {\r\n\r\n        // Show pre-alignments in model\r\n        model.addAttribute(&quot;preAlignments&quot;, preAlignmentService.findAll());\r\n\r\n        return &quot;pre-alignments&quot;;\r\n    }\r\n\r\n    // Add pre-alignment to user alignment\r\n    @GetMapping(&quot;/pre-alignment/{id}&quot;)\r\n    public String showUserAlignment(@PathVariable(&quot;id&quot;) Long preAlignmentId, Model model) {\r\n\r\n        // Find pre-alignment and add to model\r\n        PreAlignment preAlignment = preAlignmentService.findById(preAlignmentId);\r\n        model.addAttribute(&quot;preAlignment&quot;, preAlignment);\r\n\r\n        // Initialize UserAlignmentSourceDTO2\r\n        int numberOfPreAlignmentSources = preAlignment.getPreAlignmentSources().size();\r\n        List&lt;UserAlignmentSourceDTO2&gt; userAlignmentSourceDTO2s = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; numberOfPreAlignmentSources; i++) {\r\n            UserAlignmentSourceDTO2 userAlignmentSourceDTO2 = UserAlignmentSourceDTO2.builder()\r\n                    .modelName(preAlignment.getPreAlignmentSources().get(i).getSpeaker().getSpeakerModel().getName())\r\n                    .build();\r\n            userAlignmentSourceDTO2s.add(userAlignmentSourceDTO2);\r\n        }\r\n\r\n        // Initialize UserAlignmentDTO and add to model\r\n        UserAlignmentDTO userAlignmentDTO = UserAlignmentDTO.builder()\r\n                .userAlignmentSources(userAlignmentSourceDTO2s)\r\n                .build();\r\n        model.addAttribute(&quot;userAlignmentDTO&quot;, userAlignmentDTO);\r\n\r\n        // Show distance units in model\r\n        model.addAttribute(&quot;units&quot;, List.of(UnitsEnum.METERS, UnitsEnum.FEET));\r\n\r\n        return &quot;user-alignment&quot;;\r\n    }\r\n\r\n    // Create UserAlignment and calculate result\r\n    @PostMapping(&quot;/calculate/{id}&quot;)\r\n    public String calculateUserAlignment(@PathVariable(&quot;id&quot;) Long preAlignmentId, @ModelAttribute(&quot;userAlignmentDTO&quot;) UserAlignmentDTO userAlignmentDTO, Model model) {\r\n\r\n        // Find pre-alignment\r\n        PreAlignment preAlignment = preAlignmentService.findById(preAlignmentId);\r\n//        preAlignment.getPreAlignmentSources().get(0)\r\n\r\n        // Convert UserAlignmentDTO to UserAlignment\r\n        UserAlignment userAlignment = userAlignmentDTO.toUserAlignment(preAlignment);\r\n\r\n        // Calculate result\r\n//        userAlignment.calculateResult();\r\n\r\n        // Save user alignment\r\n        userAlignmentService.save(userAlignment);\r\n\r\n        // Show result\r\n        model.addAttribute(&quot;userAlignment&quot;, userAlignment);\r\n\r\n        return &quot;result&quot;;\r\n    }\r\n```\r\n\r\n## Thymeleaf template\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;\r\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;\r\n      xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;\r\n      layout:decorate=&quot;~{layout/layout}&quot;\r\n      th:with=&quot;activeMenuItem=&#39;align&#39;&quot;\r\n      xmlns=&quot;http://www.w3.org/1999/html&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;User Alignment&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div layout:fragment=&quot;page-content&quot;&gt;\r\n    &lt;h1&gt;User-Alignment&lt;/h1&gt;\r\n    &lt;form id=&quot;source-form&quot;\r\n          th:object=&quot;${userAlignmentDTO}&quot;\r\n          th:action=&quot;@{/align/calculate/{id}(id=${preAlignment.id})}&quot;\r\n          method=&quot;post&quot;&gt;\r\n        &lt;th:block th:each=&quot;source,iter : *{userAlignmentSources}&quot;&gt;\r\n            &lt;label th:text=&quot;${iter.index + 1} + &#39;.&#39;&quot;&gt;&lt;/label&gt;\r\n            &lt;label&gt;Total [[${source.modelName}]] in array:&lt;/label&gt;\r\n            &lt;input type=&quot;number&quot;\r\n                   th:field=&quot;*{userAlignmentSources[__${iter.index}__].count}&quot;&gt;\r\n            &lt;label&gt;Distance from [[${source.modelName}]] to FOH:&lt;/label&gt;\r\n            &lt;input type=&quot;number&quot;\r\n                   th:field=&quot;*{userAlignmentSources[__${iter.index}__].distance}&quot;&gt;\r\n        &lt;/th:block&gt;\r\n        &lt;label&gt;Unit&lt;/label&gt;\r\n        &lt;select th:field=&quot;*{units}&quot;&gt;\r\n            &lt;option th:each=&quot;unit : ${units}&quot;\r\n                    th:text=&quot;${unit.fullName}&quot;\r\n                    th:value=&quot;${unit}&quot;&gt;meters\r\n            &lt;/option&gt;\r\n        &lt;/select&gt;\r\n        &lt;button type=&quot;submit&quot;&gt;Align&lt;/button&gt;\r\n    &lt;/form&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n# Expectation\r\n\r\nMy expectation is that when the user clicks the Align button, the form will post to the endpoint and be persisted to the database.\r\n\r\n# Error\r\n\r\n```\r\nInvalid property &#39;userAlignmentSources[0]&#39; of bean class [nathanLively.subAlignerjava.DTO.UserAlignmentDTO]: Illegal attempt to get property &#39;userAlignmentSources&#39; threw exception\r\n```","title":"How to bind fields in a list to a Thymeleaf form? [Bean property is not readable]","body":"<p>I have an object that can either have two or three repeating sets of fields. It seems like the easiest way to handle that is with a list and a form that will expand or contract with the size of the list.</p>\n<p>Unfortunately, I keep getting an error suggesting that Thymeleaf doesn't recognize the variables I'm trying to bind to the main form object. This problem is solved in <a href=\"https://www.baeldung.com/thymeleaf-list\" rel=\"nofollow noreferrer\">this article</a>, but for some reason I am not able to get the same results.</p>\n<h1>What I tried</h1>\n<h2>DTO</h2>\n<pre><code>package nathanLively.subAlignerjava.DTO;\n\nimport lombok.Builder;\nimport lombok.Data;\nimport nathanLively.subAlignerjava.Models.Enums.UnitsEnum;\nimport nathanLively.subAlignerjava.Models.PreAlignment;\nimport nathanLively.subAlignerjava.Models.Speaker;\nimport nathanLively.subAlignerjava.Models.UserAlignment;\nimport nathanLively.subAlignerjava.Models.UserAlignmentSource;\n\nimport java.util.List;\nimport java.util.Set;\nimport java.util.stream.Collectors;\n\n@Data\n@Builder\npublic class UserAlignmentDTO {\n    private UnitsEnum units;\n    private List&lt;UserAlignmentSourceDTO2&gt; userAlignmentSources;\n\n    public UserAlignment toUserAlignment(PreAlignment preAlignment) {\n        Set&lt;UserAlignmentSource&gt; userAlignmentSourceList = userAlignmentSources.stream()\n                .map(UserAlignmentSourceDTO2::toUserAlignmentSource)\n                .collect(Collectors.toSet());\n\n        UserAlignment userAlignment = UserAlignment.builder()\n                .preAlignment(preAlignment)\n                .userAlignmentSources(userAlignmentSourceList)\n                .distanceUnit(units)\n                .build();\n\n        return userAlignment;\n    }\n}\n</code></pre>\n<pre><code>package nathanLively.subAlignerjava.DTO;\n\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport nathanLively.subAlignerjava.Models.Enums.UnitsEnum;\nimport nathanLively.subAlignerjava.Models.PreAlignment;\nimport nathanLively.subAlignerjava.Models.PreAlignmentSource;\nimport nathanLively.subAlignerjava.Models.Speaker;\nimport nathanLively.subAlignerjava.Models.UserAlignmentSource;\n\n@Data\n@Builder\npublic class UserAlignmentSourceDTO2 {\n\n    private String modelName;\n    private Integer count;\n    private Float distance;\n\n    public UserAlignmentSource toUserAlignmentSource() {\n\n        UserAlignmentSource userAlignmentSource = UserAlignmentSource.builder()\n//                .speaker(speaker)\n                .count(count)\n                .distance(distance)\n                .build();\n\n        return userAlignmentSource;\n    }\n}\n</code></pre>\n<h2>Controller</h2>\n<pre><code>package nathanLively.subAlignerjava.Controllers;\n\nimport lombok.RequiredArgsConstructor;\nimport nathanLively.subAlignerjava.DTO.UserAlignmentDTO;\nimport nathanLively.subAlignerjava.DTO.UserAlignmentSourceDTO;\nimport nathanLively.subAlignerjava.DTO.UserAlignmentSourceDTO2;\nimport nathanLively.subAlignerjava.Models.*;\nimport nathanLively.subAlignerjava.Models.Enums.UnitsEnum;\nimport nathanLively.subAlignerjava.Services.*;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.*;\n\n@Controller\n@RequiredArgsConstructor\n@RequestMapping(&quot;/align&quot;)\npublic class AlignController {\n\n    @Autowired\n    private final BrandService brandService;\n\n    @Autowired\n    private final SpeakerModelService speakerModelService;\n\n    @Autowired\n    private final DspPresetService dspPresetService;\n\n    @Autowired\n    private final UserAlignmentService userAlignmentService;\n\n    @Autowired\n    private final SpeakerService speakerService;\n\n    @Autowired\n    private final PreAlignmentService preAlignmentService;\n\n    // Show pre-alignments\n    @GetMapping(&quot;/pre-alignments&quot;)\n    public String showPreAlignments(Model model) {\n\n        // Show pre-alignments in model\n        model.addAttribute(&quot;preAlignments&quot;, preAlignmentService.findAll());\n\n        return &quot;pre-alignments&quot;;\n    }\n\n    // Add pre-alignment to user alignment\n    @GetMapping(&quot;/pre-alignment/{id}&quot;)\n    public String showUserAlignment(@PathVariable(&quot;id&quot;) Long preAlignmentId, Model model) {\n\n        // Find pre-alignment and add to model\n        PreAlignment preAlignment = preAlignmentService.findById(preAlignmentId);\n        model.addAttribute(&quot;preAlignment&quot;, preAlignment);\n\n        // Initialize UserAlignmentSourceDTO2\n        int numberOfPreAlignmentSources = preAlignment.getPreAlignmentSources().size();\n        List&lt;UserAlignmentSourceDTO2&gt; userAlignmentSourceDTO2s = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; numberOfPreAlignmentSources; i++) {\n            UserAlignmentSourceDTO2 userAlignmentSourceDTO2 = UserAlignmentSourceDTO2.builder()\n                    .modelName(preAlignment.getPreAlignmentSources().get(i).getSpeaker().getSpeakerModel().getName())\n                    .build();\n            userAlignmentSourceDTO2s.add(userAlignmentSourceDTO2);\n        }\n\n        // Initialize UserAlignmentDTO and add to model\n        UserAlignmentDTO userAlignmentDTO = UserAlignmentDTO.builder()\n                .userAlignmentSources(userAlignmentSourceDTO2s)\n                .build();\n        model.addAttribute(&quot;userAlignmentDTO&quot;, userAlignmentDTO);\n\n        // Show distance units in model\n        model.addAttribute(&quot;units&quot;, List.of(UnitsEnum.METERS, UnitsEnum.FEET));\n\n        return &quot;user-alignment&quot;;\n    }\n\n    // Create UserAlignment and calculate result\n    @PostMapping(&quot;/calculate/{id}&quot;)\n    public String calculateUserAlignment(@PathVariable(&quot;id&quot;) Long preAlignmentId, @ModelAttribute(&quot;userAlignmentDTO&quot;) UserAlignmentDTO userAlignmentDTO, Model model) {\n\n        // Find pre-alignment\n        PreAlignment preAlignment = preAlignmentService.findById(preAlignmentId);\n//        preAlignment.getPreAlignmentSources().get(0)\n\n        // Convert UserAlignmentDTO to UserAlignment\n        UserAlignment userAlignment = userAlignmentDTO.toUserAlignment(preAlignment);\n\n        // Calculate result\n//        userAlignment.calculateResult();\n\n        // Save user alignment\n        userAlignmentService.save(userAlignment);\n\n        // Show result\n        model.addAttribute(&quot;userAlignment&quot;, userAlignment);\n\n        return &quot;result&quot;;\n    }\n</code></pre>\n<h2>Thymeleaf template</h2>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;\n      xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;\n      layout:decorate=&quot;~{layout/layout}&quot;\n      th:with=&quot;activeMenuItem='align'&quot;\n      xmlns=&quot;http://www.w3.org/1999/html&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;User Alignment&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div layout:fragment=&quot;page-content&quot;&gt;\n    &lt;h1&gt;User-Alignment&lt;/h1&gt;\n    &lt;form id=&quot;source-form&quot;\n          th:object=&quot;${userAlignmentDTO}&quot;\n          th:action=&quot;@{/align/calculate/{id}(id=${preAlignment.id})}&quot;\n          method=&quot;post&quot;&gt;\n        &lt;th:block th:each=&quot;source,iter : *{userAlignmentSources}&quot;&gt;\n            &lt;label th:text=&quot;${iter.index + 1} + '.'&quot;&gt;&lt;/label&gt;\n            &lt;label&gt;Total [[${source.modelName}]] in array:&lt;/label&gt;\n            &lt;input type=&quot;number&quot;\n                   th:field=&quot;*{userAlignmentSources[__${iter.index}__].count}&quot;&gt;\n            &lt;label&gt;Distance from [[${source.modelName}]] to FOH:&lt;/label&gt;\n            &lt;input type=&quot;number&quot;\n                   th:field=&quot;*{userAlignmentSources[__${iter.index}__].distance}&quot;&gt;\n        &lt;/th:block&gt;\n        &lt;label&gt;Unit&lt;/label&gt;\n        &lt;select th:field=&quot;*{units}&quot;&gt;\n            &lt;option th:each=&quot;unit : ${units}&quot;\n                    th:text=&quot;${unit.fullName}&quot;\n                    th:value=&quot;${unit}&quot;&gt;meters\n            &lt;/option&gt;\n        &lt;/select&gt;\n        &lt;button type=&quot;submit&quot;&gt;Align&lt;/button&gt;\n    &lt;/form&gt;\n\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<h1>Expectation</h1>\n<p>My expectation is that when the user clicks the Align button, the form will post to the endpoint and be persisted to the database.</p>\n<h1>Error</h1>\n<pre><code>Invalid property 'userAlignmentSources[0]' of bean class [nathanLively.subAlignerjava.DTO.UserAlignmentDTO]: Illegal attempt to get property 'userAlignmentSources' threw exception\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","exception"],"comments":[{"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1679859896,"post_id":75850137,"comment_id":133792246,"body_markdown":"The last `caused by` is generally the most important one. It sounds like you are either [A] missing some hibernate jars, or [B] running your java app with a different version of hibernate than what you use when building it.","body":"The last <code>caused by</code> is generally the most important one. It sounds like you are either [A] missing some hibernate jars, or [B] running your java app with a different version of hibernate than what you use when building it."},{"owner":{"account_id":22705497,"reputation":1,"user_id":16872280,"display_name":"Gregory Shanin"},"score":1,"creation_date":1679860077,"post_id":75850137,"comment_id":133792282,"body_markdown":"@rzwitserlootq yeah, i found a mistake at my pom.xml.. thanks!","body":"@rzwitserlootq yeah, i found a mistake at my pom.xml.. thanks!"},{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":1,"creation_date":1694746331,"post_id":75850137,"comment_id":135934837,"body_markdown":"@GregoryShanin What was the mistake? Having the same problem.","body":"@GregoryShanin What was the mistake? Having the same problem."}],"owner":{"account_id":22705497,"reputation":1,"user_id":16872280,"display_name":"Gregory Shanin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":713,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679859735,"creation_date":1679859735,"question_id":75850137,"body_markdown":"Using last version of Spring Boot, see that.. What could be the reason?\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: org/hibernate/type/descriptor/converter/spi/EnumValueConverter\r\n\tat ......\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.5.jar:3.0.5]\r\nCaused by: java.lang.NoClassDefFoundError: org/hibernate/type/descriptor/converter/spi/EnumValueConverter\r\n\tat io.hypersistence.utils.hibernate.type.HibernateTypesContributor.contribute(HibernateTypesContributor.java:61) ~[hypersistence-utils-hibernate-62-3.3.0.jar:na]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:390) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:143) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1348) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1419) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\t... 19 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.hibernate.type.descriptor.converter.spi.EnumValueConverter\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\t... 31 common frames omitted\r\n```\r\n\r\nI want to write models with OneToMany relations to PostgreSQL","title":"EnumValueConverter ClassNotFoundException","body":"<p>Using last version of Spring Boot, see that.. What could be the reason?</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: org/hibernate/type/descriptor/converter/spi/EnumValueConverter\n    at ......\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.5.jar:3.0.5]\nCaused by: java.lang.NoClassDefFoundError: org/hibernate/type/descriptor/converter/spi/EnumValueConverter\n    at io.hypersistence.utils.hibernate.type.HibernateTypesContributor.contribute(HibernateTypesContributor.java:61) ~[hypersistence-utils-hibernate-62-3.3.0.jar:na]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:390) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:143) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1348) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1419) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.7.jar:6.0.7]\n    ... 19 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.hibernate.type.descriptor.converter.spi.EnumValueConverter\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    ... 31 common frames omitted\n</code></pre>\n<p>I want to write models with OneToMany relations to PostgreSQL</p>\n"},{"tags":["java","jackson","fasterxml"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679820799,"creation_date":1679818189,"answer_id":75846585,"question_id":75845001,"body_markdown":"Use \r\n```\r\npublic &lt;T&gt; T readPropertiesAs(Properties props,\r\n                     Class&lt;T&gt; valueType)\r\n                   throws IOException\r\n```\r\n\r\n[`Full example`][1]\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-dataformats-text/javadoc/properties/2.9/com/fasterxml/jackson/dataformat/javaprop/JavaPropsMapper.html#readPropertiesAs(java.util.Properties,%20java.lang.Class)","title":"JavaPropsMapper in com.fasterxml.jackson version 2.14.2","body":"<p>Use</p>\n<pre><code>public &lt;T&gt; T readPropertiesAs(Properties props,\n                     Class&lt;T&gt; valueType)\n                   throws IOException\n</code></pre>\n<p><a href=\"https://fasterxml.github.io/jackson-dataformats-text/javadoc/properties/2.9/com/fasterxml/jackson/dataformat/javaprop/JavaPropsMapper.html#readPropertiesAs(java.util.Properties,%20java.lang.Class)\" rel=\"nofollow noreferrer\"><code>Full example</code></a></p>\n"}],"owner":{"account_id":12718802,"reputation":127,"user_id":9239937,"display_name":"MedMahmoud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75846585,"answer_count":1,"score":0,"last_activity_date":1679858991,"creation_date":1679785269,"question_id":75845001,"body_markdown":"I did an upgrade of `com.fasterxml.jackson` from `2.8.8` to `2.14.2` but I noticed that the following code will not work in version `2.14.2` :\r\n\r\n     //where javaPropsMapper is an instance of com.fasterxml.jackson.dataformat.javaprop.JavaPropsMapper;\r\n     // and Properties is from java.util.Properties\r\n\r\n     Properties prop = new Properties();\r\n     properties.setProperty(&quot;a.key&quot;, &quot;value&quot;);\r\n     JsonNode result = javaPropsMapper.readValue(prop, JsonNode.class);\r\n\r\nthe above code in version 2.14.2 does not compile because there is no method javaPropsMapper.readValue that accepts these arguments anymore.\r\n\r\nIn version 2.8.8 the output would be a JsonNode like this: `{&quot;a&quot;:{&quot;key&quot;:&quot;value&quot;}}`\r\n\r\nPlease let me know if you have any hints/info or an alternative way to do it.\r\nThanks a lot  ","title":"JavaPropsMapper in com.fasterxml.jackson version 2.14.2","body":"<p>I did an upgrade of <code>com.fasterxml.jackson</code> from <code>2.8.8</code> to <code>2.14.2</code> but I noticed that the following code will not work in version <code>2.14.2</code> :</p>\n<pre><code> //where javaPropsMapper is an instance of com.fasterxml.jackson.dataformat.javaprop.JavaPropsMapper;\n // and Properties is from java.util.Properties\n\n Properties prop = new Properties();\n properties.setProperty(&quot;a.key&quot;, &quot;value&quot;);\n JsonNode result = javaPropsMapper.readValue(prop, JsonNode.class);\n</code></pre>\n<p>the above code in version 2.14.2 does not compile because there is no method javaPropsMapper.readValue that accepts these arguments anymore.</p>\n<p>In version 2.8.8 the output would be a JsonNode like this: <code>{&quot;a&quot;:{&quot;key&quot;:&quot;value&quot;}}</code></p>\n<p>Please let me know if you have any hints/info or an alternative way to do it.\nThanks a lot</p>\n"},{"tags":["java","spring","spring-boot","jakarta-ee","shiro"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1679858640,"creation_date":1679733164,"answer_id":75840507,"question_id":75838823,"body_markdown":"Spring Boot 3.0 requires Servlet 5.0 where the classes moved from `javax.servlet` to `jakarta.servlet`. Shiro provides dependencies that are Servlet 5.0-compatible. They have a `jakarta` classifier as described [here](https://shiro.apache.org/jakarta-ee.html).\r\n\r\nUnfortunately, some of Shiro&#39;s Jakarta-classified dependencies depend on the non-jakarta variant of some modules so you have to do some juggling with exclusions. Something like this:\r\n\r\n```xml\r\n\t\t&lt;dependency&gt;\r\n  \t\t\t&lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\r\n  \t\t\t&lt;artifactId&gt;shiro-spring&lt;/artifactId&gt;\r\n  \t\t\t&lt;classifier&gt;jakarta&lt;/classifier&gt;\r\n  \t\t\t&lt;version&gt;1.11.0&lt;/version&gt;\r\n  \t\t\t&lt;exclusions&gt;\r\n  \t\t\t\t&lt;exclusion&gt;\r\n  \t\t\t\t\t&lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\r\n  \t\t\t\t\t&lt;artifactId&gt;shiro-core&lt;/artifactId&gt;\r\n  \t\t\t\t&lt;/exclusion&gt;\r\n  \t\t\t\t&lt;exclusion&gt;\r\n  \t\t\t\t\t&lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\r\n  \t\t\t\t\t&lt;artifactId&gt;shiro-web&lt;/artifactId&gt;\r\n  \t\t\t\t&lt;/exclusion&gt;\r\n  \t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n  \t\t\t&lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\r\n  \t\t\t&lt;artifactId&gt;shiro-core&lt;/artifactId&gt;\r\n  \t\t\t&lt;classifier&gt;jakarta&lt;/classifier&gt;\r\n  \t\t\t&lt;version&gt;1.11.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n  \t\t\t&lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\r\n  \t\t\t&lt;artifactId&gt;shiro-web&lt;/artifactId&gt;\r\n  \t\t\t&lt;classifier&gt;jakarta&lt;/classifier&gt;\r\n  \t\t\t&lt;version&gt;1.11.0&lt;/version&gt;\r\n  \t\t\t&lt;exclusions&gt;\r\n  \t\t\t\t&lt;exclusion&gt;\r\n  \t\t\t\t\t&lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\r\n  \t\t\t\t\t&lt;artifactId&gt;shiro-core&lt;/artifactId&gt;\r\n  \t\t\t\t&lt;/exclusion&gt;\r\n  \t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n```","title":"Apache Shiro encountering java.lang.NoClassDefFoundError: javax/servlet/Filter with SpringBoot 3.0","body":"<p>Spring Boot 3.0 requires Servlet 5.0 where the classes moved from <code>javax.servlet</code> to <code>jakarta.servlet</code>. Shiro provides dependencies that are Servlet 5.0-compatible. They have a <code>jakarta</code> classifier as described <a href=\"https://shiro.apache.org/jakarta-ee.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Unfortunately, some of Shiro's Jakarta-classified dependencies depend on the non-jakarta variant of some modules so you have to do some juggling with exclusions. Something like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\n            &lt;artifactId&gt;shiro-spring&lt;/artifactId&gt;\n            &lt;classifier&gt;jakarta&lt;/classifier&gt;\n            &lt;version&gt;1.11.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\n                    &lt;artifactId&gt;shiro-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\n                    &lt;artifactId&gt;shiro-web&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\n            &lt;artifactId&gt;shiro-core&lt;/artifactId&gt;\n            &lt;classifier&gt;jakarta&lt;/classifier&gt;\n            &lt;version&gt;1.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\n            &lt;artifactId&gt;shiro-web&lt;/artifactId&gt;\n            &lt;classifier&gt;jakarta&lt;/classifier&gt;\n            &lt;version&gt;1.11.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\n                    &lt;artifactId&gt;shiro-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":24887490,"reputation":47,"user_id":18759913,"display_name":"kentoto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679858640,"creation_date":1679700629,"question_id":75838823,"body_markdown":"I am currently using Java 17 with SpringBoot 3.0 and Apache Shiro ver 1.10.0. I was trying to use ShiroConfig to add some basic filters for api access(both `/update` and `/add`).\r\n\r\nI keep encountering the folllowing exceptions:\r\n```\r\njava.lang.NoClassDefFoundError: javax/servlet/Filter\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013) ~[na:na]\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013) ~[na:na]\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013) ~[na:na]\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013) ~[na:na]\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\tat java.base/java.lang.Class.forName0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.Class.forName(Class.java:488) ~[na:na]\r\n\tat java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\r\n\tat java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:114) ~[na:na]\r\n\tat java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:125) ~[na:na]\r\n\tat java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]\r\n\tat java.base/sun.reflect.generics.visitor.Reifier.reifyTypeArguments(Reifier.java:68) ~[na:na]\r\n\tat java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:138) ~[na:na]\r\n\tat java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]\r\n\tat java.base/sun.reflect.generics.repository.ClassRepository.computeSuperInterfaces(ClassRepository.java:117) ~[na:na]\r\n\tat java.base/sun.reflect.generics.repository.ClassRepository.getSuperInterfaces(ClassRepository.java:95) ~[na:na]\r\n\tat java.base/java.lang.Class.getGenericInterfaces(Class.java:1243) ~[na:na]\r\n\tat org.springframework.core.ResolvableType.getInterfaces(ResolvableType.java:500) ~[spring-core-6.0.4.jar:6.0.4]\r\n\tat org.springframework.core.ResolvableType.as(ResolvableType.java:448) ~[spring-core-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$FactoryBeanMethodTypeFinder.doWith(AbstractAutowireCapableBeanFactory.java:1935) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:366) ~[spring-core-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryBeanFromMethod(AbstractAutowireCapableBeanFactory.java:935) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryBean(AbstractAutowireCapableBeanFactory.java:874) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isTypeMatch(AbstractBeanFactory.java:619) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:572) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:531) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryAutoConfiguration$BeanPostProcessorsRegistrar.registerSyntheticBeanIfMissing(ServletWebServerFactoryAutoConfiguration.java:147) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryAutoConfiguration$BeanPostProcessorsRegistrar.registerBeanDefinitions(ServletWebServerFactoryAutoConfiguration.java:139) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\r\n\tat org.springframework.context.annotation.ImportBeanDefinitionRegistrar.registerBeanDefinitions(ImportBeanDefinitionRegistrar.java:86) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:373) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[na:na]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromRegistrars(ConfigurationClassBeanDefinitionReader.java:372) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:148) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:410) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:283) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:745) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:565) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat book.demo.java.Application.main(Application.java:10) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.2.jar:3.0.2]\r\nCaused by: java.lang.ClassNotFoundException: javax.servlet.Filter\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\t... 81 common frames omitted\r\n```\r\n\r\n\r\nHere is my `pom.xml`\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;book.demo&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;book.demo.java&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;book.demo.java&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-data-rest&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;shiro-spring&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nSo I tried to add the following dependency, but then the filter is not working at all:\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nMy `ShiroConfig` class:\r\n\r\n```\r\npackage book.demo.java.shiro;\r\n\r\nimport org.apache.shiro.spring.web.ShiroFilterFactoryBean;\r\nimport org.apache.shiro.web.mgt.DefaultWebSecurityManager;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport java.util.LinkedHashMap;\r\nimport java.util.Map;\r\n\r\n@Configuration\r\npublic class ShiroConfig {\r\n\r\n    @Bean(name = &quot;shiroFilterFactoryBean&quot;)\r\n    public ShiroFilterFactoryBean getShiroFilterFactoryBean(@Qualifier(&quot;defaultWebSecurityManager&quot;) DefaultWebSecurityManager securityManager) {\r\n        ShiroFilterFactoryBean shiroFilterFactoryBean = new ShiroFilterFactoryBean();\r\n\r\n        shiroFilterFactoryBean.setSecurityManager(securityManager);\r\n\r\n        Map&lt;String, String&gt; filterMap = new LinkedHashMap&lt;String, String&gt;();\r\n\r\n        filterMap.put(&quot;/update&quot;, &quot;anon&quot;);\r\n\r\n        filterMap.put(&quot;/add&quot;, &quot;authc&quot;);\r\n\r\n        filterMap.put(&quot;/*&quot;, &quot;authc&quot;);\r\n\r\n        shiroFilterFactoryBean.setFilterChainDefinitionMap(filterMap);\r\n        return shiroFilterFactoryBean;\r\n    }\r\n\r\n    @Bean(name = &quot;defaultWebSecurityManager&quot;)\r\n    public DefaultWebSecurityManager getDefaultWebSecurityManager(@Qualifier(&quot;userRealm&quot;) UserRealm userRealm) {\r\n\r\n        DefaultWebSecurityManager securityManager = new DefaultWebSecurityManager();\r\n\r\n        securityManager.setRealm(userRealm);\r\n        return securityManager;\r\n    }\r\n\r\n    @Bean(name = &quot;userRealm&quot;)\r\n    public UserRealm getRealm() {\r\n        return new UserRealm();\r\n    }\r\n}\r\n```\r\n\r\nI tried switching to Java 1.8 and SpringBoot 2.2.4.RELEASE without javax dependency, then it works. Is it something to do with dependency versions and is there a workaround for using Java 17 with Apache Shiro? Thank you!\r\n","title":"Apache Shiro encountering java.lang.NoClassDefFoundError: javax/servlet/Filter with SpringBoot 3.0","body":"<p>I am currently using Java 17 with SpringBoot 3.0 and Apache Shiro ver 1.10.0. I was trying to use ShiroConfig to add some basic filters for api access(both <code>/update</code> and <code>/add</code>).</p>\n<p>I keep encountering the folllowing exceptions:</p>\n<pre><code>java.lang.NoClassDefFoundError: javax/servlet/Filter\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013) ~[na:na]\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013) ~[na:na]\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013) ~[na:na]\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013) ~[na:na]\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.forName(Class.java:488) ~[na:na]\n    at java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\n    at java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:114) ~[na:na]\n    at java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:125) ~[na:na]\n    at java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]\n    at java.base/sun.reflect.generics.visitor.Reifier.reifyTypeArguments(Reifier.java:68) ~[na:na]\n    at java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:138) ~[na:na]\n    at java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]\n    at java.base/sun.reflect.generics.repository.ClassRepository.computeSuperInterfaces(ClassRepository.java:117) ~[na:na]\n    at java.base/sun.reflect.generics.repository.ClassRepository.getSuperInterfaces(ClassRepository.java:95) ~[na:na]\n    at java.base/java.lang.Class.getGenericInterfaces(Class.java:1243) ~[na:na]\n    at org.springframework.core.ResolvableType.getInterfaces(ResolvableType.java:500) ~[spring-core-6.0.4.jar:6.0.4]\n    at org.springframework.core.ResolvableType.as(ResolvableType.java:448) ~[spring-core-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$FactoryBeanMethodTypeFinder.doWith(AbstractAutowireCapableBeanFactory.java:1935) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:366) ~[spring-core-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryBeanFromMethod(AbstractAutowireCapableBeanFactory.java:935) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryBean(AbstractAutowireCapableBeanFactory.java:874) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isTypeMatch(AbstractBeanFactory.java:619) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:572) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:531) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryAutoConfiguration$BeanPostProcessorsRegistrar.registerSyntheticBeanIfMissing(ServletWebServerFactoryAutoConfiguration.java:147) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\n    at org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryAutoConfiguration$BeanPostProcessorsRegistrar.registerBeanDefinitions(ServletWebServerFactoryAutoConfiguration.java:139) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\n    at org.springframework.context.annotation.ImportBeanDefinitionRegistrar.registerBeanDefinitions(ImportBeanDefinitionRegistrar.java:86) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:373) ~[spring-context-6.0.4.jar:6.0.4]\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[na:na]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromRegistrars(ConfigurationClassBeanDefinitionReader.java:372) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:148) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:410) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:283) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:745) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:565) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\n    at book.demo.java.Application.main(Application.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.2.jar:3.0.2]\nCaused by: java.lang.ClassNotFoundException: javax.servlet.Filter\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    ... 81 common frames omitted\n</code></pre>\n<p>Here is my <code>pom.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;book.demo&lt;/groupId&gt;\n    &lt;artifactId&gt;book.demo.java&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;book.demo.java&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-data-rest&lt;/artifactId&gt;\n            &lt;version&gt;1.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\n            &lt;artifactId&gt;shiro-spring&lt;/artifactId&gt;\n            &lt;version&gt;1.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>So I tried to add the following dependency, but then the filter is not working at all:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>My <code>ShiroConfig</code> class:</p>\n<pre><code>package book.demo.java.shiro;\n\nimport org.apache.shiro.spring.web.ShiroFilterFactoryBean;\nimport org.apache.shiro.web.mgt.DefaultWebSecurityManager;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport java.util.LinkedHashMap;\nimport java.util.Map;\n\n@Configuration\npublic class ShiroConfig {\n\n    @Bean(name = &quot;shiroFilterFactoryBean&quot;)\n    public ShiroFilterFactoryBean getShiroFilterFactoryBean(@Qualifier(&quot;defaultWebSecurityManager&quot;) DefaultWebSecurityManager securityManager) {\n        ShiroFilterFactoryBean shiroFilterFactoryBean = new ShiroFilterFactoryBean();\n\n        shiroFilterFactoryBean.setSecurityManager(securityManager);\n\n        Map&lt;String, String&gt; filterMap = new LinkedHashMap&lt;String, String&gt;();\n\n        filterMap.put(&quot;/update&quot;, &quot;anon&quot;);\n\n        filterMap.put(&quot;/add&quot;, &quot;authc&quot;);\n\n        filterMap.put(&quot;/*&quot;, &quot;authc&quot;);\n\n        shiroFilterFactoryBean.setFilterChainDefinitionMap(filterMap);\n        return shiroFilterFactoryBean;\n    }\n\n    @Bean(name = &quot;defaultWebSecurityManager&quot;)\n    public DefaultWebSecurityManager getDefaultWebSecurityManager(@Qualifier(&quot;userRealm&quot;) UserRealm userRealm) {\n\n        DefaultWebSecurityManager securityManager = new DefaultWebSecurityManager();\n\n        securityManager.setRealm(userRealm);\n        return securityManager;\n    }\n\n    @Bean(name = &quot;userRealm&quot;)\n    public UserRealm getRealm() {\n        return new UserRealm();\n    }\n}\n</code></pre>\n<p>I tried switching to Java 1.8 and SpringBoot 2.2.4.RELEASE without javax dependency, then it works. Is it something to do with dependency versions and is there a workaround for using Java 17 with Apache Shiro? Thank you!</p>\n"},{"tags":["java","hibernate"],"owner":{"account_id":201208,"reputation":3985,"user_id":447503,"accept_rate":61,"display_name":"basin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679858027,"creation_date":1679858027,"question_id":75850000,"body_markdown":"I have a set of pre-generated entity beans and they are mapped to tables with some columns not having a matching bean property. During the generation of the entity beans the final DB schema is unknown. I want to add a single property of the type `Map&lt;String, Object&gt;` to load these extra columns from the tables and of course persist them back to the tables. \r\n\r\nThe entity beans are unannotated. Instead I generate a mapping XML when the final DB schema is already known. I read that if you omit the `class` attribute in the `&lt;entity&gt;` element then Hibernate will instantiate a regular Map, but I need a mixture of a java bean and a map.","title":"load unmapped columns into a map field in the entity bean (like @JsonAnySetter)","body":"<p>I have a set of pre-generated entity beans and they are mapped to tables with some columns not having a matching bean property. During the generation of the entity beans the final DB schema is unknown. I want to add a single property of the type <code>Map&lt;String, Object&gt;</code> to load these extra columns from the tables and of course persist them back to the tables.</p>\n<p>The entity beans are unannotated. Instead I generate a mapping XML when the final DB schema is already known. I read that if you omit the <code>class</code> attribute in the <code>&lt;entity&gt;</code> element then Hibernate will instantiate a regular Map, but I need a mixture of a java bean and a map.</p>\n"},{"tags":["java","terminal","telnet","ansi-escape"],"answers":[{"tags":[],"owner":{"account_id":5719288,"reputation":51925,"user_id":4518274,"display_name":"Thomas Dickey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1463742817,"creation_date":1463742817,"answer_id":37345236,"question_id":37342223,"body_markdown":"Conventional applications pay attention to `TERM`, so that `dumb` (which does *not* use color) would do what you want.  However, there are a number of hardcoded applications (no comment needed).\r\n\r\nSome of those will suppress color if you redirect the output of your program to a file, e.g.\r\n\r\n    foo &gt;bar\r\n\r\nbut many (probably the majority of the misbehaving programs) ignore even that.  To work around those, you have to *filter* the results, either by a `sed` script or similar program, or by (for example) capturing the output of your command by redirecting or using `script` and then *post-processing* the result.  For instance, you could do this with a script something like\r\n\r\n    #!/bin/sh\r\n    myscript=$(mktemp)\r\n    trap &quot;sed -f $myscript typescript; rm -f $myscript typescript&quot; EXIT INT QUIT HUP\r\n    cat &gt;$myscript &lt;&lt;&quot;EOF&quot;\r\n    s/^[[[][&lt;=&gt;?]\\{0,1\\}[;0-9]*[@-~]//g\r\n    xample:\r\n    s/^[[]][^^[]*^[//g\r\n    s/^[[]][^^[]*^[\\\\//g\r\n    :loop\r\n    s/[^^[]^[\\(.\\)/\\1/g\r\n    t loop\r\n    s/  *$//g\r\n    s/^.* //g\r\n    s/^[[^[]//g\r\n    /\\1/g\r\n    EOF\r\n    script -c &quot;$*&quot; &gt;/dev/null\r\n\r\nwhich illustrates the approach.  Most of the `^[` pairs in the example are literal ASCII escape characters, which you won&#39;t be able to select/paste.  The original sed script is here: [script2log][1]\r\n\r\nThe point of the script is that it runs the command normally and then echoes the filter results.\r\n\r\n\r\n  [1]: http://invisible-island.net/scripts/readme.html#item:script2log","title":"TelnetClient output - ANSI disable","body":"<p>Conventional applications pay attention to <code>TERM</code>, so that <code>dumb</code> (which does <em>not</em> use color) would do what you want.  However, there are a number of hardcoded applications (no comment needed).</p>\n\n<p>Some of those will suppress color if you redirect the output of your program to a file, e.g.</p>\n\n<pre><code>foo &gt;bar\n</code></pre>\n\n<p>but many (probably the majority of the misbehaving programs) ignore even that.  To work around those, you have to <em>filter</em> the results, either by a <code>sed</code> script or similar program, or by (for example) capturing the output of your command by redirecting or using <code>script</code> and then <em>post-processing</em> the result.  For instance, you could do this with a script something like</p>\n\n<pre><code>#!/bin/sh\nmyscript=$(mktemp)\ntrap \"sed -f $myscript typescript; rm -f $myscript typescript\" EXIT INT QUIT HUP\ncat &gt;$myscript &lt;&lt;\"EOF\"\ns/^[[[][&lt;=&gt;?]\\{0,1\\}[;0-9]*[@-~]//g\nxample:\ns/^[[]][^^[]*^[//g\ns/^[[]][^^[]*^[\\\\//g\n:loop\ns/[^^[]^[\\(.\\)/\\1/g\nt loop\ns/  *$//g\ns/^.* //g\ns/^[[^[]//g\n/\\1/g\nEOF\nscript -c \"$*\" &gt;/dev/null\n</code></pre>\n\n<p>which illustrates the approach.  Most of the <code>^[</code> pairs in the example are literal ASCII escape characters, which you won't be able to select/paste.  The original sed script is here: <a href=\"http://invisible-island.net/scripts/readme.html#item:script2log\" rel=\"nofollow\">script2log</a></p>\n\n<p>The point of the script is that it runs the command normally and then echoes the filter results.</p>\n"}],"owner":{"account_id":6710833,"reputation":11,"user_id":5219633,"display_name":"Banjić Medina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679857683,"creation_date":1463734344,"question_id":37342223,"body_markdown":"I have seen similar question and answers on stackoverflow.com\r\n\r\nUnfortunately, this is not working for me. I have the same code as the example given in previous questions like this, but the &quot;dumb&quot; terminal type (TelnetClient telnet = new TelnetClient(&quot;dumb&quot;) was he solution for others ) is not filtering ANSI chars so I get this:\r\n\r\nLast login: Fri May 20 10:09:21 from 172.20.22.244\r\n\r\n[01;33mteltest@vivadev[00m:[01;34m~[00m$ ls ls testing [01;33mteltest@vivadev[00m:[01;34m~[00m$ cd testing cd testing [01;33mteltest@vivadev[00m:[01;34m~/testing[00m$ ls\r\n\r\nand I need a readable file. Is there any other solution known, as encoding outputStream, anything?\r\n\r\nThank you.","title":"TelnetClient output - ANSI disable","body":"<p>I have seen similar question and answers on stackoverflow.com</p>\n\n<p>Unfortunately, this is not working for me. I have the same code as the example given in previous questions like this, but the \"dumb\" terminal type (TelnetClient telnet = new TelnetClient(\"dumb\") was he solution for others ) is not filtering ANSI chars so I get this:</p>\n\n<p>Last login: Fri May 20 10:09:21 from 172.20.22.244</p>\n\n<p>[01;33mteltest@vivadev[00m:[01;34m~[00m$ ls ls testing [01;33mteltest@vivadev[00m:[01;34m~[00m$ cd testing cd testing [01;33mteltest@vivadev[00m:[01;34m~/testing[00m$ ls</p>\n\n<p>and I need a readable file. Is there any other solution known, as encoding outputStream, anything?</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","colors","ansi-escape","jansi"],"comments":[{"owner":{"display_name":"user784540"},"score":0,"creation_date":1431251234,"post_id":30149910,"comment_id":48407470,"body_markdown":"have you seen these links? https://code.google.com/p/jlibs/wiki/AnsiColoring and http://stackoverflow.com/questions/5762491/how-to-print-color-in-console-using-system-out-println","body":"have you seen these links? <a href=\"https://code.google.com/p/jlibs/wiki/AnsiColoring\" rel=\"nofollow noreferrer\">code.google.com/p/jlibs/wiki/AnsiColoring</a> and <a href=\"http://stackoverflow.com/questions/5762491/how-to-print-color-in-console-using-system-out-println\" title=\"how to print color in console using system out println\">stackoverflow.com/questions/5762491/&hellip;</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1431255499,"post_id":30149910,"comment_id":48408552,"body_markdown":"&#39;Did not work&#39; is not a problem description. Neither is &#39;could not find the method&#39;. No code provided. &#39;Website was down&#39; isn&#39;t relevant to questions here. Unanwerable as is.","body":"&#39;Did not work&#39; is not a problem description. Neither is &#39;could not find the method&#39;. No code provided. &#39;Website was down&#39; isn&#39;t relevant to questions here. Unanwerable as is."},{"owner":{"account_id":5862697,"reputation":143,"user_id":4617817,"accept_rate":69,"display_name":"Daan Meijer"},"score":0,"creation_date":1431359562,"post_id":30149910,"comment_id":48450439,"body_markdown":"@RafaelOsipov yes i did but it does not recoginze Ansi ansi = new Ansi ansi = new Ansi(Ansi.Attribute.BRIGHT, Ansi.Color.BLUE, Ansi.Color.WHITE);","body":"@RafaelOsipov yes i did but it does not recoginze Ansi ansi = new Ansi ansi = new Ansi(Ansi.Attribute.BRIGHT, Ansi.Color.BLUE, Ansi.Color.WHITE);"}],"owner":{"account_id":5862697,"reputation":143,"user_id":4617817,"accept_rate":69,"display_name":"Daan Meijer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":713,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1679857582,"creation_date":1431250984,"question_id":30149910,"body_markdown":"I am trying to send coloured messages in the console with ANSI. I added the jasni 1.9 to my jar and I tried to use the methods of ansi but that did not work. \r\nThe second thing I have tried was to go to the jansi website but the website was down. \r\nAnd the third thing I tried was to go to youtube and google but I could not find any tutorials to install jansi.\r\nWhat happens when I add it to my build path and try 1 of the methods it say that I could not find the method.\r\nWhat did I do wrong or how do I install it else?  \r\n","title":"Java - How to use ANSI in java","body":"<p>I am trying to send coloured messages in the console with ANSI. I added the jasni 1.9 to my jar and I tried to use the methods of ansi but that did not work. \nThe second thing I have tried was to go to the jansi website but the website was down. \nAnd the third thing I tried was to go to youtube and google but I could not find any tutorials to install jansi.\nWhat happens when I add it to my build path and try 1 of the methods it say that I could not find the method.\nWhat did I do wrong or how do I install it else?  </p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriver"],"answers":[{"tags":[],"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491303709,"creation_date":1491303709,"answer_id":43205351,"question_id":43205160,"body_markdown":"**Cause:**\r\n\r\n`allAmountValues` is stored initially so when you move between pages, yoou try  to use the same elements stored earlier; hgence causing you `StaleElementException`\r\n\r\n**Solution:**\r\n\r\nYou have to identify `allAmountValues`again after each time you leave a page and go back to original page.","title":"Stale Element Reference Exception: How to solve?","body":"<p><strong>Cause:</strong></p>\n\n<p><code>allAmountValues</code> is stored initially so when you move between pages, yoou try  to use the same elements stored earlier; hgence causing you <code>StaleElementException</code></p>\n\n<p><strong>Solution:</strong></p>\n\n<p>You have to identify <code>allAmountValues</code>again after each time you leave a page and go back to original page.</p>\n"},{"tags":[],"owner":{"account_id":9166757,"reputation":121,"user_id":6816011,"display_name":"CodeGreen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679857099,"creation_date":1679857099,"answer_id":75849899,"question_id":43205160,"body_markdown":"Selenium keeps a track of all elements in form of a Reference as and when findElement/findElements is used. And while reusing the element, selenium uses that Reference instead of finding the element again in the DOM. But sometimes due the AJAX request and responses this reference is no longer fresh, hence StaleElementReferenceException is thrown.\r\n\r\nWe will have to create a separate click method and pass the element to be clicked as a parameter. The idea is to re-initialize the element and finding it again.\r\n\r\n    public void clickElement(WebElement element) {\r\n    try {\r\n        element.click();\r\n    } catch (StaleElementReferenceException stale) {\r\n        System.out.println(&quot;Element is stale. Clicking again&quot;);\r\n        element = reInitializeStaleElement(element);\r\n        element.click();\r\n    }\r\n    }\r\n    // method to re-initialize the stale element\r\n    public WebElement reInitializeStaleElement(WebElement ) {\r\n    // lets convert element to string, so we can get it&#39;s locator\r\n    String elementStr = element.toString();\r\n    elementStr = elementStr.split(&quot;-&gt;&quot;)[1];\r\n    String byType = elementStr.split(&quot;:&quot;)[0].trim();\r\n    String locator = elementStr.split(&quot;:&quot;)[1].trim();\r\n    locator = locator.substring(0, locator.length() - 1);\r\n    switch (byType) {\r\n        case &quot;xpath&quot;:\r\n            return DRIVER.findElement(By.xpath(locator));\r\n        case &quot;css&quot;:\r\n            return DRIVER.findElement(By.cssSelector(locator));\r\n        case &quot;id&quot;:\r\n            return DRIVER.findElement(By.id(locator));\r\n        case &quot;name&quot;:\r\n            return DRIVER.findElement(By.name(locator));\r\n    }\r\n    }","title":"Stale Element Reference Exception: How to solve?","body":"<p>Selenium keeps a track of all elements in form of a Reference as and when findElement/findElements is used. And while reusing the element, selenium uses that Reference instead of finding the element again in the DOM. But sometimes due the AJAX request and responses this reference is no longer fresh, hence StaleElementReferenceException is thrown.</p>\n<p>We will have to create a separate click method and pass the element to be clicked as a parameter. The idea is to re-initialize the element and finding it again.</p>\n<pre><code>public void clickElement(WebElement element) {\ntry {\n    element.click();\n} catch (StaleElementReferenceException stale) {\n    System.out.println(&quot;Element is stale. Clicking again&quot;);\n    element = reInitializeStaleElement(element);\n    element.click();\n}\n}\n// method to re-initialize the stale element\npublic WebElement reInitializeStaleElement(WebElement ) {\n// lets convert element to string, so we can get it's locator\nString elementStr = element.toString();\nelementStr = elementStr.split(&quot;-&gt;&quot;)[1];\nString byType = elementStr.split(&quot;:&quot;)[0].trim();\nString locator = elementStr.split(&quot;:&quot;)[1].trim();\nlocator = locator.substring(0, locator.length() - 1);\nswitch (byType) {\n    case &quot;xpath&quot;:\n        return DRIVER.findElement(By.xpath(locator));\n    case &quot;css&quot;:\n        return DRIVER.findElement(By.cssSelector(locator));\n    case &quot;id&quot;:\n        return DRIVER.findElement(By.id(locator));\n    case &quot;name&quot;:\n        return DRIVER.findElement(By.name(locator));\n}\n}\n</code></pre>\n"}],"owner":{"account_id":10347015,"reputation":59,"user_id":7631649,"accept_rate":50,"display_name":"Akki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3742,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1679857099,"creation_date":1491303164,"question_id":43205160,"body_markdown":"**Problem Statement:** I am getting Stale Element Exception when for loop executes the second time. \r\n\r\n**Description:**\r\n\r\nI am using for loop to handle table elements. In the first iteration, it will search for the required element on the page. If the element is not available on that page then it will go and search on the second page.  Webdriver successfully finds the element if its available on the first page but if it&#39;s not available on the first page then it will look for the element on the second page. But here for loop fails with the exception called &#39;Stale Element Exception.\r\n\r\nError Message:\r\n\r\n&gt; Exception in thread &quot;main&quot; org.openqa.selenium.StaleElementReferenceException: stale element reference: element is not attached to the page document\r\n\r\n\r\n**Code:**\r\n        \r\n     List &lt;WebElement&gt; allAmountValues = driver.findElements(By.xpath(&quot;(//table[@width=760][@cellspacing=1])[2]/tbody/tr/td[8]/div&quot;));\r\n    \t\r\n    \t for(int i =0;i&lt;allAmountValues.size();i++){\r\n    \t   System.out.println(&quot;Value are : &quot;+allAmountValues.get(i).getText().replaceAll(&quot;\\\\s+&quot;, &quot; &quot;));\r\n    \t }\r\n\r\n \r\n\r\n    String testValue = &quot;100000&quot;;\r\n     System.out.println(&quot;No.of Rows in the Table : &quot;+allAmountValues.size());   \t\t     \r\n    \t           \r\n    \t\t       for (int i1 =1; i1&lt;allAmountValues.size();i1++) {\r\n    \t\t        \r\n    \t\t    \t  \r\n    \t\t    \t    String amount = allAmountValues.get(i1+1).getText().replaceAll(&quot;\\\\s+&quot;,&quot;&quot;);\r\n    \t\t    \t    //System.out.println(&quot;amount Values : &quot;+amount);\r\n    \t\t    \t    System.out.println(&quot;Value are : &quot; + allAmountValues.get(i1).getText() + &quot;== Corresponding link is : &quot; + clicklinks.get(i1).getText());\r\n    \t\t    \t   \r\n    \t\t    \t    if (amount.equalsIgnoreCase(testValue)) {\r\n    \t\t    \t    \tSystem.out.println(&quot;Found:&quot; +testValue);\r\n    \t\t    \t    \r\n    \t\t    \t        clicklinks.get(i1).click();\r\n    \t\t    \t        waitDriver();\r\n    \t\t    \t        driver.navigate().back();\r\n    \t\t    \t        \r\n    \t\t    \t      break;\r\n    \t\t    \t    }\r\n    \t\t    \t    else\r\n    \t\t    \t    {\r\n    \t\t    \t    \tWebElement clickNext = driver.findElement(By.xpath(&quot;//a[contains(text(), &#39;Next&#39;)]&quot;));\r\n    \t\t    \t    \tclickNext.click();\r\n    \t\t    \t    \t\r\n    \t\t    \t    \t\r\n    \t\t    \t    }\r\n    \t\t       \r\n    \t\t       \r\n    \t\t       }\r\n    \t\t    \t\r\n    \t\t       \r\n    \t\t\t\tfor(int rw=2;rw&lt;allAmountValues.size();rw++)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tWebElement a1 = driver.findElement(By.xpath(&quot;(//table[@width=760][@cellspacing=1])[2]/tbody/tr[&quot;+rw+&quot;]/td[8]/div/span&quot;));\r\n    \t\t\t\t\t String amm = a1.getText().replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\r\n    \t\t\t\t\t System.out.println(&quot;Current value is:&quot; +amm);\r\n    \t\t\t\t\t if(amm.equalsIgnoreCase(&quot;100000&quot;))\r\n    \t\t\t\t\t {\r\n    \t\t\t\t\t\t WebElement a2 = driver.findElement(By.xpath(&quot;/html/body/form/div/table/tbody/tr/td/table/tbody/tr[5]/td/table/tbody/tr[&quot;+rw+&quot;]/td[1]/div/input[6]&quot;));\r\n    \t\t\t\t\t\t a2.click();\r\n    \t\t\t\t\t\t break;\r\n    \t\t\t\t\t }\r\n    \t\t\t\t}\r\n    \t\t    \t   WebElement authoriseButton = driver.findElement(By.xpath(&quot;//input[@name=&#39;btnAuthorise&#39;]&quot;));\r\n    \t\t\t\t  if(authoriseButton.isEnabled())\r\n    \t\t\t\t  {\r\n    \t\t\t\t\t  authoriseButton.click();\r\n    \t\t\t\t  }\r\n    \t\t\t\t  else\r\n    \t\t\t\t  {\r\n    \t\t\t\t\t  System.out.println(&quot;Authorise Button is not enabled&quot;);\r\n    \t\t\t\t  }\r\n    \t\t    \t        \r\n    \t\t    \t    \r\n    \t\t }\r\n\t\t \r\n\t\r\nI am facing stale element error exception on : \r\n`String amount = allAmountValues.get(i1+1).getText().replaceAll(&quot;\\\\s+&quot;,&quot;&quot;);` this line.\r\nAny help would be appreciated.","title":"Stale Element Reference Exception: How to solve?","body":"<p><strong>Problem Statement:</strong> I am getting Stale Element Exception when for loop executes the second time. </p>\n\n<p><strong>Description:</strong></p>\n\n<p>I am using for loop to handle table elements. In the first iteration, it will search for the required element on the page. If the element is not available on that page then it will go and search on the second page.  Webdriver successfully finds the element if its available on the first page but if it's not available on the first page then it will look for the element on the second page. But here for loop fails with the exception called 'Stale Element Exception.</p>\n\n<p>Error Message:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" org.openqa.selenium.StaleElementReferenceException: stale element reference: element is not attached to the page document</p>\n</blockquote>\n\n<p><strong>Code:</strong></p>\n\n<pre><code> List &lt;WebElement&gt; allAmountValues = driver.findElements(By.xpath(\"(//table[@width=760][@cellspacing=1])[2]/tbody/tr/td[8]/div\"));\n\n     for(int i =0;i&lt;allAmountValues.size();i++){\n       System.out.println(\"Value are : \"+allAmountValues.get(i).getText().replaceAll(\"\\\\s+\", \" \"));\n     }\n\n\n\nString testValue = \"100000\";\n System.out.println(\"No.of Rows in the Table : \"+allAmountValues.size());                \n\n               for (int i1 =1; i1&lt;allAmountValues.size();i1++) {\n\n\n                    String amount = allAmountValues.get(i1+1).getText().replaceAll(\"\\\\s+\",\"\");\n                    //System.out.println(\"amount Values : \"+amount);\n                    System.out.println(\"Value are : \" + allAmountValues.get(i1).getText() + \"== Corresponding link is : \" + clicklinks.get(i1).getText());\n\n                    if (amount.equalsIgnoreCase(testValue)) {\n                        System.out.println(\"Found:\" +testValue);\n\n                        clicklinks.get(i1).click();\n                        waitDriver();\n                        driver.navigate().back();\n\n                      break;\n                    }\n                    else\n                    {\n                        WebElement clickNext = driver.findElement(By.xpath(\"//a[contains(text(), 'Next')]\"));\n                        clickNext.click();\n\n\n                    }\n\n\n               }\n\n\n                for(int rw=2;rw&lt;allAmountValues.size();rw++)\n                {\n                    WebElement a1 = driver.findElement(By.xpath(\"(//table[@width=760][@cellspacing=1])[2]/tbody/tr[\"+rw+\"]/td[8]/div/span\"));\n                     String amm = a1.getText().replaceAll(\"\\\\s+\", \"\");\n                     System.out.println(\"Current value is:\" +amm);\n                     if(amm.equalsIgnoreCase(\"100000\"))\n                     {\n                         WebElement a2 = driver.findElement(By.xpath(\"/html/body/form/div/table/tbody/tr/td/table/tbody/tr[5]/td/table/tbody/tr[\"+rw+\"]/td[1]/div/input[6]\"));\n                         a2.click();\n                         break;\n                     }\n                }\n                   WebElement authoriseButton = driver.findElement(By.xpath(\"//input[@name='btnAuthorise']\"));\n                  if(authoriseButton.isEnabled())\n                  {\n                      authoriseButton.click();\n                  }\n                  else\n                  {\n                      System.out.println(\"Authorise Button is not enabled\");\n                  }\n\n\n         }\n</code></pre>\n\n<p>I am facing stale element error exception on : \n<code>String amount = allAmountValues.get(i1+1).getText().replaceAll(\"\\\\s+\",\"\");</code> this line.\nAny help would be appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1679857405,"post_id":75849881,"comment_id":133791867,"body_markdown":"*how to avoid the rounding problem in the future* use a type with arbitrary precision like [`BigDecimal`](https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html)","body":"<i>how to avoid the rounding problem in the future</i> use a type with arbitrary precision like <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\"><code>BigDecimal</code></a>"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1679865108,"post_id":75849881,"comment_id":133793026,"body_markdown":"or accept that it exists and format your output to show an acceptable appearing result: `System.out.printf(&quot;%.4f%n&quot;, d1);`","body":"or accept that it exists and format your output to show an acceptable appearing result: <code>System.out.printf(&quot;%.4f%n&quot;, d1);</code>"}],"owner":{"account_id":14799883,"reputation":189,"user_id":10688444,"display_name":"Elias"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679857351,"answer_count":0,"score":0,"last_activity_date":1679856982,"creation_date":1679856982,"question_id":75849881,"body_markdown":"\r\nI write the following code with a for loop.\r\n```\r\ndouble d1 = 0;\r\nfor (int i = 1; i &lt;= 8; i++) {\r\n    d1 += 0.1;\r\n }\r\n\r\nSystem.out.println(d1);\r\n```\r\nThe output is 0.7999999999999999. It is supposed to be 0.8. but I don&#39;t understand what causes it and how to avoid the rounding problem in the future.","title":"the output got rounded after for loop","body":"<p>I write the following code with a for loop.</p>\n<pre><code>double d1 = 0;\nfor (int i = 1; i &lt;= 8; i++) {\n    d1 += 0.1;\n }\n\nSystem.out.println(d1);\n</code></pre>\n<p>The output is 0.7999999999999999. It is supposed to be 0.8. but I don't understand what causes it and how to avoid the rounding problem in the future.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":1,"creation_date":1361946502,"post_id":15105556,"comment_id":21253062,"body_markdown":"What have you searched on the net? You want us to give you a detailed explanation of how can you run a JUnit 4 test case? (Hint: there&#39;s this `JUnit4.class` in your code)","body":"What have you searched on the net? You want us to give you a detailed explanation of how can you run a JUnit 4 test case? (Hint: there&#39;s this <code>JUnit4.class</code> in your code)"},{"owner":{"account_id":8291,"reputation":860437,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"score":1,"creation_date":1361946503,"post_id":15105556,"comment_id":21253063,"body_markdown":"http://www.vogella.com/articles/JUnit/article.html","body":"<a href=\"http://www.vogella.com/articles/JUnit/article.html\" rel=\"nofollow noreferrer\">vogella.com/articles/JUnit/article.html</a>"},{"owner":{"account_id":461282,"reputation":5319,"user_id":1249225,"accept_rate":81,"display_name":"Krushna"},"score":1,"creation_date":1361946512,"post_id":15105556,"comment_id":21253068,"body_markdown":"you need to add junit jar file to the project . You can use junit-dep-4.8.2.jar. Then you can right click and choose run as junit test case","body":"you need to add junit jar file to the project . You can use junit-dep-4.8.2.jar. Then you can right click and choose run as junit test case"},{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":2,"creation_date":1361946517,"post_id":15105556,"comment_id":21253069,"body_markdown":"Have you added jUnit&#39;s jar file to your build path in eclipse?","body":"Have you added jUnit&#39;s jar file to your build path in eclipse?"},{"owner":{"account_id":1811887,"reputation":3845,"user_id":1647763,"accept_rate":64,"display_name":"SKLAK"},"score":0,"creation_date":1361946714,"post_id":15105556,"comment_id":21253137,"body_markdown":"Just did, I should have just googled this question. Thanks for the help.","body":"Just did, I should have just googled this question. Thanks for the help."},{"owner":{"account_id":6849288,"reputation":71,"user_id":5266921,"display_name":"Vaibhav Verma"},"score":0,"creation_date":1445169659,"post_id":15105556,"comment_id":54200370,"body_markdown":"Can you Post the entire java file?","body":"Can you Post the entire java file?"},{"owner":{"account_id":10801150,"reputation":127,"user_id":7945066,"display_name":"pellucidcoder"},"score":0,"creation_date":1508880223,"post_id":15105556,"comment_id":80788063,"body_markdown":"Anyone know what to do if you&#39;re still getting this error even if JUnit4 *is* on the build path?","body":"Anyone know what to do if you&#39;re still getting this error even if JUnit4 <i>is</i> on the build path?"}],"answers":[{"tags":[],"owner":{"account_id":1271613,"reputation":812,"user_id":1227732,"accept_rate":67,"display_name":"zaffargachal"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1655989699,"creation_date":1361946544,"answer_id":15105580,"question_id":15105556,"body_markdown":"Seems that the JUnit `.jar` file is not in the path. Also, make sure you are using JDK1.5 or above.","title":"The import org.junit cannot be resolved","body":"<p>Seems that the JUnit <code>.jar</code> file is not in the path. Also, make sure you are using JDK1.5 or above.</p>\n"},{"tags":[],"owner":{"display_name":"user2030471"},"down_vote_count":0,"up_vote_count":214,"is_accepted":true,"score":214,"last_activity_date":1655989707,"creation_date":1361946565,"answer_id":15105590,"question_id":15105556,"body_markdown":"You need to add `JUnit` library to the classpath of your project. There are several choices to achieve it depending on your development setup.\r\n\r\n 1. **Command line**: In the case of command-line invocations, you will have to add `junit.jar` to the classpath of your application with `java -cp /path/to/junit.jar`. Take a look at the answers [here][1].\r\n \r\n 2. **Using eclipse**: Eclipse distributions are bundled with this library and this is how you can use it for your project. Right-click on the eclipse project and navigate:\r\n\r\n&gt; Properties -&gt; Java Build Path -&gt; Libraries -&gt; Add Library -&gt; JUnit -&gt;\r\n&gt; JUnit 3/4\r\n\r\nIn the scenarios where you want to use a different version of the jar, instead of clicking on **Add Library** above, you should click on **Add External Jar** and locate the library on the file system.\r\n\r\n  [1]: https://stackoverflow.com/q/2235276/2030471","title":"The import org.junit cannot be resolved","body":"<p>You need to add <code>JUnit</code> library to the classpath of your project. There are several choices to achieve it depending on your development setup.</p>\n<ol>\n<li><p><strong>Command line</strong>: In the case of command-line invocations, you will have to add <code>junit.jar</code> to the classpath of your application with <code>java -cp /path/to/junit.jar</code>. Take a look at the answers <a href=\"https://stackoverflow.com/q/2235276/2030471\">here</a>.</p>\n</li>\n<li><p><strong>Using eclipse</strong>: Eclipse distributions are bundled with this library and this is how you can use it for your project. Right-click on the eclipse project and navigate:</p>\n</li>\n</ol>\n<blockquote>\n<p>Properties -&gt; Java Build Path -&gt; Libraries -&gt; Add Library -&gt; JUnit -&gt;\nJUnit 3/4</p>\n</blockquote>\n<p>In the scenarios where you want to use a different version of the jar, instead of clicking on <strong>Add Library</strong> above, you should click on <strong>Add External Jar</strong> and locate the library on the file system.</p>\n"},{"tags":[],"owner":{"account_id":3072235,"reputation":169,"user_id":2602601,"display_name":"fastforward"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1655979665,"creation_date":1377882162,"answer_id":18538069,"question_id":15105556,"body_markdown":"Right-click on the eclipse project and navigate to\r\n\r\n&gt; Properties -&gt; Java Build Path -&gt; Libraries -&gt; Add Library -&gt; JUnit -&gt;\r\n&gt; JUnit 3/4\r\n\r\nIt works for me.","title":"The import org.junit cannot be resolved","body":"<p>Right-click on the eclipse project and navigate to</p>\n<blockquote>\n<p>Properties -&gt; Java Build Path -&gt; Libraries -&gt; Add Library -&gt; JUnit -&gt;\nJUnit 3/4</p>\n</blockquote>\n<p>It works for me.</p>\n"},{"tags":[],"owner":{"account_id":4840330,"reputation":1671,"user_id":3905529,"display_name":"anion"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1655981676,"creation_date":1461227257,"answer_id":36763917,"question_id":15105556,"body_markdown":"You can easily search for a line like `@Test` and then use the quick-fix `add JUnit 4 library to the build path` at this line. I think this is faster than adding JUnit manually to the project.","title":"The import org.junit cannot be resolved","body":"<p>You can easily search for a line like <code>@Test</code> and then use the quick-fix <code>add JUnit 4 library to the build path</code> at this line. I think this is faster than adding JUnit manually to the project.</p>\n"},{"tags":[],"owner":{"account_id":1021562,"reputation":26350,"user_id":1031769,"accept_rate":78,"display_name":"Searene"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1513162883,"creation_date":1513162883,"answer_id":47791424,"question_id":15105556,"body_markdown":"If you use maven and this piece of code is located in the `main` folder, try relocating it to the `test` folder.","title":"The import org.junit cannot be resolved","body":"<p>If you use maven and this piece of code is located in the <code>main</code> folder, try relocating it to the <code>test</code> folder.</p>\n"},{"tags":[],"owner":{"account_id":12895322,"reputation":21,"user_id":9325841,"display_name":"Dharu Ravi"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1517986151,"creation_date":1517986151,"answer_id":48657612,"question_id":15105556,"body_markdown":"In case you want to create your own Test Class. In Eclipse go to **File** -&gt; **New** -&gt; **J Unit Test Case**. You can then choose all your paths and testing class setup within the wizard pop-up. \r\n\r\n","title":"The import org.junit cannot be resolved","body":"<p>In case you want to create your own Test Class. In Eclipse go to <strong>File</strong> -> <strong>New</strong> -> <strong>J Unit Test Case</strong>. You can then choose all your paths and testing class setup within the wizard pop-up. </p>\n"},{"tags":[],"owner":{"account_id":9439654,"reputation":470,"user_id":7266331,"display_name":"sarthakgupta072"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1556958725,"creation_date":1527161150,"answer_id":50508174,"question_id":15105556,"body_markdown":"If you are using eclipse and working on a maven project, then also the above steps work. \r\n  \r\nRight-click on your root folder.  \r\n\r\n    Properties -&gt; Java Build Path -&gt; Libraries -&gt; Add Library -&gt; JUnit -&gt; Junit 3/4\r\n\r\n[Step By Step Instructions here][1]\r\n\r\n\r\n  [1]: https://www.toddlahman.com/import-org-junit-cannot-resolved-eclipse/","title":"The import org.junit cannot be resolved","body":"<p>If you are using eclipse and working on a maven project, then also the above steps work. </p>\n\n<p>Right-click on your root folder.  </p>\n\n<pre><code>Properties -&gt; Java Build Path -&gt; Libraries -&gt; Add Library -&gt; JUnit -&gt; Junit 3/4\n</code></pre>\n\n<p><a href=\"https://www.toddlahman.com/import-org-junit-cannot-resolved-eclipse/\" rel=\"noreferrer\">Step By Step Instructions here</a></p>\n"},{"tags":[],"owner":{"account_id":7370021,"reputation":21,"user_id":5610485,"display_name":"oshan Viduranga"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1531662976,"creation_date":1531641962,"answer_id":51346507,"question_id":15105556,"body_markdown":"In starting code line copy past &#39;Junit&#39; or &#39;TestNG&#39; elements will show with Error till you import library with the Project File.\r\n\r\nTo import Libraries in to project:\r\n\r\n`Right Click on the Project --&gt; Properties --&gt; Java Build Path --&gt; Libraries -&gt; Add Library -&gt; &#39;Junit&#39; or &#39;TestNG&#39;`\r\n\r\n![Add Junit Libraries][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FF9Oh.png","title":"The import org.junit cannot be resolved","body":"<p>In starting code line copy past 'Junit' or 'TestNG' elements will show with Error till you import library with the Project File.</p>\n\n<p>To import Libraries in to project:</p>\n\n<p><code>Right Click on the Project --&gt; Properties --&gt; Java Build Path --&gt; Libraries -&gt; Add Library -&gt; 'Junit' or 'TestNG'</code></p>\n\n<p><img src=\"https://i.stack.imgur.com/FF9Oh.png\" alt=\"Add Junit Libraries\"></p>\n"},{"tags":[],"owner":{"account_id":2899295,"reputation":1426,"user_id":2486401,"accept_rate":79,"display_name":"janDro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533595962,"creation_date":1533595962,"answer_id":51716634,"question_id":15105556,"body_markdown":"If you are using Java 9 or above you may need to require the junit dependency in your module-info.java \r\n\r\n    module myModule {\r\n\t    requires junit;\r\n    }","title":"The import org.junit cannot be resolved","body":"<p>If you are using Java 9 or above you may need to require the junit dependency in your module-info.java </p>\n\n<pre><code>module myModule {\n    requires junit;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9699817,"reputation":27,"user_id":7195157,"display_name":"RKM"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1537256342,"creation_date":1537256342,"answer_id":52381321,"question_id":15105556,"body_markdown":"Update to latest JUnit version in pom.xml. It works for me.","title":"The import org.junit cannot be resolved","body":"<p>Update to latest JUnit version in pom.xml. It works for me.</p>\n"},{"tags":[],"owner":{"account_id":16183558,"reputation":11,"user_id":11684368,"display_name":"Ajay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561188840,"creation_date":1561188840,"answer_id":56713557,"question_id":15105556,"body_markdown":"When you add TestNG to your Maven dependencies , Change scope from test to compile.Hope this would solve your issue..\r\n","title":"The import org.junit cannot be resolved","body":"<p>When you add TestNG to your Maven dependencies , Change scope from test to compile.Hope this would solve your issue..</p>\n"},{"tags":[],"owner":{"account_id":1370556,"reputation":1047,"user_id":1305875,"accept_rate":67,"display_name":"ABC123"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564088059,"creation_date":1564088059,"answer_id":57209988,"question_id":15105556,"body_markdown":"If using Maven you can context click and run &#39;Maven/Update Project...&#39;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IlnmG.png","title":"The import org.junit cannot be resolved","body":"<p>If using Maven you can context click and run 'Maven/Update Project...'</p>\n\n<p><a href=\"https://i.stack.imgur.com/IlnmG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IlnmG.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":17556073,"reputation":61,"user_id":12735493,"display_name":"Veera Reddy"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1579322729,"creation_date":1579322729,"answer_id":59797602,"question_id":15105556,"body_markdown":"you need to add Junit dependency in pom.xml file, it means you need to update with latest version.\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.12&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt; \r\n\r\n","title":"The import org.junit cannot be resolved","body":"<p>you need to add Junit dependency in pom.xml file, it means you need to update with latest version.</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.12&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5254099,"reputation":1061,"user_id":4197431,"display_name":"Ralf Renz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619774253,"creation_date":1619774253,"answer_id":67331288,"question_id":15105556,"body_markdown":"I had the same problem right now. My solution: add JUnit to the pom.xml AND remove JUnit from the eclipse project properties (Java Build Path/Libraries).","title":"The import org.junit cannot be resolved","body":"<p>I had the same problem right now. My solution: add JUnit to the pom.xml AND remove JUnit from the eclipse project properties (Java Build Path/Libraries).</p>\n"},{"tags":[],"owner":{"account_id":2359873,"reputation":9,"user_id":2066798,"display_name":"Hiran Kariyawasam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644720218,"creation_date":1644719515,"answer_id":71097458,"question_id":15105556,"body_markdown":"If you use Maven with Eclipse then You need to follow the below steps.\r\n\r\n1). Add Junit dependency to the pom.xml file\r\n\r\n\t&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.1&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t\r\nNote : Please get the latest from the following link\r\nhttps://mvnrepository.com/artifact/junit/junit\r\n\r\n2).On your test class (Ex. AdditionTest.class), you need to annotate with **@Test** on your test method (Ex. testAdd() )\r\n\r\nNote :  The Test annotation tells JUnit that the public void method to which it is attached can be run as a test case.\r\n\r\npublic class AdditionTest {\r\n\r\n\t@Test\r\n\tpublic void testAdd()\r\n\t{\r\n\t\r\n// Test code here...\r\n\t\t\r\n\t}\r\nThe moment/ the first time you annotate as **&quot;@Test&quot;** the IDE asks whether you need to Add Junit jar files to Class path. Once you accept this it will add the   Junit jar file into the class path.\r\n\r\nWith this you can achieve the following imports\r\n**import org.junit.Test;\r\nimport static org.junit.Assert.*;**\r\nRegards\r\n\r\n\r\n\r\n\r\n\r\n","title":"The import org.junit cannot be resolved","body":"<p>If you use Maven with Eclipse then You need to follow the below steps.</p>\n<p>1). Add Junit dependency to the pom.xml file</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n&lt;version&gt;4.0.1&lt;/version&gt;\n&lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Note : Please get the latest from the following link\n<a href=\"https://mvnrepository.com/artifact/junit/junit\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/junit/junit</a></p>\n<p>2).On your test class (Ex. AdditionTest.class), you need to annotate with <strong>@Test</strong> on your test method (Ex. testAdd() )</p>\n<p>Note :  The Test annotation tells JUnit that the public void method to which it is attached can be run as a test case.</p>\n<p>public class AdditionTest {</p>\n<pre><code>@Test\npublic void testAdd()\n{\n</code></pre>\n<p>// Test code here...</p>\n<pre><code>}\n</code></pre>\n<p>The moment/ the first time you annotate as <strong>&quot;@Test&quot;</strong> the IDE asks whether you need to Add Junit jar files to Class path. Once you accept this it will add the   Junit jar file into the class path.</p>\n<p>With this you can achieve the following imports\n<strong>import org.junit.Test;\nimport static org.junit.Assert.*;</strong>\nRegards</p>\n"},{"tags":[],"owner":{"account_id":22364393,"reputation":43,"user_id":16580442,"display_name":"holvold"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679856498,"creation_date":1679856498,"answer_id":75849842,"question_id":15105556,"body_markdown":"### VSCode 2023 (Java v17.0.3 &amp; junit v4.12)\r\nFor anyone having this issue in VSCode, I recommend checking this short video on how you perform *Testing Java with Visual Studio Code*:\r\n[code.visualstudio.com/docs/java/java-testing/enable-tests][1]\r\n\r\n\r\nFor full documentation check out the official VSCode documentation: [code.visualstudio.com/docs/java/java-testing][2]\r\n\r\n...and don&#39;t forget to add/enable the Java extension in VSCode\r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/java/java-testing/enable-tests.mp4\r\n  [2]: https://code.visualstudio.com/docs/java/java-testing","title":"The import org.junit cannot be resolved","body":"<h3>VSCode 2023 (Java v17.0.3 &amp; junit v4.12)</h3>\n<p>For anyone having this issue in VSCode, I recommend checking this short video on how you perform <em>Testing Java with Visual Studio Code</em>:\n<a href=\"https://code.visualstudio.com/docs/java/java-testing/enable-tests.mp4\" rel=\"nofollow noreferrer\">code.visualstudio.com/docs/java/java-testing/enable-tests</a></p>\n<p>For full documentation check out the official VSCode documentation: <a href=\"https://code.visualstudio.com/docs/java/java-testing\" rel=\"nofollow noreferrer\">code.visualstudio.com/docs/java/java-testing</a></p>\n<p>...and don't forget to add/enable the Java extension in VSCode</p>\n"}],"owner":{"account_id":1811887,"reputation":3845,"user_id":1647763,"accept_rate":64,"display_name":"SKLAK"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399592,"favorite_count":0,"down_vote_count":0,"up_vote_count":140,"accepted_answer_id":15105590,"answer_count":16,"score":140,"last_activity_date":1679856498,"creation_date":1361946434,"question_id":15105556,"body_markdown":"I need to solve a Java problem for an interview, and they have sent me the test class. It starts with \r\n\r\n    import org.junit.Before;\r\n\r\nand also has the following syntax at places:\r\n\r\n    @RunWith(JUnit4.class)\r\n    ...\r\n    @Before\r\n    ...\r\n    @Test\r\n\r\nI haven&#39;t used Java for a while, so this confuses me a little. I downloaded eclipse and when I tried to compile this test file, there are errors at the import and at the &#39;@&#39; signs. The import error throws: \r\n\r\n    The import org.junit cannot be resolved.\r\n\r\nAnd the @RunWith is not even recognized, as it tries to resolve it to a type.","title":"The import org.junit cannot be resolved","body":"<p>I need to solve a Java problem for an interview, and they have sent me the test class. It starts with</p>\n<pre><code>import org.junit.Before;\n</code></pre>\n<p>and also has the following syntax at places:</p>\n<pre><code>@RunWith(JUnit4.class)\n...\n@Before\n...\n@Test\n</code></pre>\n<p>I haven't used Java for a while, so this confuses me a little. I downloaded eclipse and when I tried to compile this test file, there are errors at the import and at the '@' signs. The import error throws:</p>\n<pre><code>The import org.junit cannot be resolved.\n</code></pre>\n<p>And the @RunWith is not even recognized, as it tries to resolve it to a type.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1679855219,"post_id":75849632,"comment_id":133791520,"body_markdown":"Because the listener is autowired (injected) by Spring. It is a proxy and not an instance of the class. Only the public methods are exposed not the fields.","body":"Because the listener is autowired (injected) by Spring. It is a proxy and not an instance of the class. Only the public methods are exposed not the fields."},{"owner":{"account_id":16787693,"reputation":197,"user_id":12136222,"display_name":"NewbieToCoding"},"score":0,"creation_date":1679857024,"post_id":75849632,"comment_id":133791820,"body_markdown":"But it works when I change it back to a synchronous method (removing the @Async and CountDownLatch).","body":"But it works when I change it back to a synchronous method (removing the @Async and CountDownLatch)."}],"owner":{"account_id":16787693,"reputation":197,"user_id":12136222,"display_name":"NewbieToCoding"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1679854074,"creation_date":1679854074,"question_id":75849632,"body_markdown":"```\r\n@Service\r\npublic class Listener {\r\n    public ConcurrentHashMap&lt;String, String&gt; bars;\r\n\r\n    public Listener() {\r\n        bars = new ConcurrentHashMap&lt;&gt;();\r\n    }\r\n\r\n    public ConcurrentHashMap&lt;String, String&gt; getBars() {\r\n        return bars;\r\n    }\r\n\r\n    @Async\r\n    public void addBars(CountDownLatch counter) {\r\n        bars.put(&quot;hello&quot;, &quot;world&quot;);\r\n        counter.countDown();\r\n    }\r\n}\r\n\r\n@RestController\r\npublic class Controller {\r\n    @Autowired\r\n    Listener listener;\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String trial() throws InterruptedException {\r\n        CountDownLatch counter = new CountDownLatch(1);\r\n        listener.addBars(counter);\r\n        counter.await();\r\n        return listener.bars.get(&quot;hello&quot;);\r\n    }\r\n}\r\n```\r\n\r\nWhy does this throw `NullPointerException` error (when I directly access `bars`), but when I access it via `getBars()` method (i.e., changing it from `listener.bars.get(&quot;hello&quot;);` to `listener.getBars().get(&quot;hello&quot;);`, it runs successfully?","title":"Spring Boot @Async NullPointerException error","body":"<pre><code>@Service\npublic class Listener {\n    public ConcurrentHashMap&lt;String, String&gt; bars;\n\n    public Listener() {\n        bars = new ConcurrentHashMap&lt;&gt;();\n    }\n\n    public ConcurrentHashMap&lt;String, String&gt; getBars() {\n        return bars;\n    }\n\n    @Async\n    public void addBars(CountDownLatch counter) {\n        bars.put(&quot;hello&quot;, &quot;world&quot;);\n        counter.countDown();\n    }\n}\n\n@RestController\npublic class Controller {\n    @Autowired\n    Listener listener;\n\n    @GetMapping(&quot;/&quot;)\n    public String trial() throws InterruptedException {\n        CountDownLatch counter = new CountDownLatch(1);\n        listener.addBars(counter);\n        counter.await();\n        return listener.bars.get(&quot;hello&quot;);\n    }\n}\n</code></pre>\n<p>Why does this throw <code>NullPointerException</code> error (when I directly access <code>bars</code>), but when I access it via <code>getBars()</code> method (i.e., changing it from <code>listener.bars.get(&quot;hello&quot;);</code> to <code>listener.getBars().get(&quot;hello&quot;);</code>, it runs successfully?</p>\n"},{"tags":["java","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":23109863,"reputation":28,"user_id":17217944,"display_name":"Rohat Can"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679005452,"creation_date":1679005452,"answer_id":75762157,"question_id":75761339,"body_markdown":"You cannot do left join by using method queries, you can look at what you can do here [Spring Data JPA Docs][1].\r\n\r\nIf you want to use left join you can use @Query annotation something like this will work:\r\n```\r\n@Query(value = &quot;SELECT u FROM Post p LEFT JOIN p.user u WHERE p IS NULL&quot;);\r\n@Query(\r\n    &quot;SELECT tm&quot; +\r\n    &quot;FROM TrainingMaster tm&quot; +\r\n    &quot;LEFT JOIN TblBranchTraining tb ON tm.id = tb.trainingId&quot; +\r\n    &quot;WHERE tb.branchCode = branchCode&quot; +\r\n    &quot;OR tb.branchCode IS NULL&quot;\r\n List&lt;TrainingMaster&gt; findByAllTrainingMasters_branchCode(@Param(&quot;branchCode&quot;) String branchCode);\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation","title":"jpa method to query by joined column","body":"<p>You cannot do left join by using method queries, you can look at what you can do here <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation\" rel=\"nofollow noreferrer\">Spring Data JPA Docs</a>.</p>\n<p>If you want to use left join you can use @Query annotation something like this will work:</p>\n<pre><code>@Query(value = &quot;SELECT u FROM Post p LEFT JOIN p.user u WHERE p IS NULL&quot;);\n@Query(\n    &quot;SELECT tm&quot; +\n    &quot;FROM TrainingMaster tm&quot; +\n    &quot;LEFT JOIN TblBranchTraining tb ON tm.id = tb.trainingId&quot; +\n    &quot;WHERE tb.branchCode = branchCode&quot; +\n    &quot;OR tb.branchCode IS NULL&quot;\n List&lt;TrainingMaster&gt; findByAllTrainingMasters_branchCode(@Param(&quot;branchCode&quot;) String branchCode);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17940262,"reputation":11,"user_id":13035685,"display_name":"Vifieh"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1679853962,"creation_date":1679052644,"answer_id":75767085,"question_id":75761339,"body_markdown":"```\r\n@Repository\r\npublic interface TrainingMasterRepository extends JpaRepository&lt;TrainingMaster, Integer&gt; {\r\n  List&lt;TrainingMaster&gt; findAllByTblBranchTraining_branchCode(String branchCode);\r\n}\r\n```","title":"jpa method to query by joined column","body":"<pre><code>@Repository\npublic interface TrainingMasterRepository extends JpaRepository&lt;TrainingMaster, Integer&gt; {\n  List&lt;TrainingMaster&gt; findAllByTblBranchTraining_branchCode(String branchCode);\n}\n</code></pre>\n"}],"owner":{"account_id":1844888,"reputation":747,"user_id":1673458,"accept_rate":62,"display_name":"Doctor Who"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679853962,"creation_date":1678998395,"question_id":75761339,"body_markdown":"I want a query something like this\r\n\r\n    select tm ,tb\r\n    from TrainingMaster tm \r\n    left join TblBranchTraining tb on tm.id = tb.trainingId \r\n    where (tb.branchCode = :branchCode OR tb.branchCode is null) ;\r\n\r\nHere are my entity classes\r\n\r\n    public class TrainingMaster implements Serializable{\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate int id;\r\n    \t\r\n    \t@Column(name=&quot;training_name&quot;)\r\n    \tprivate String trainingName;\r\n    \t\r\n    \t@OneToOne(cascade= CascadeType.ALL)\r\n    \t@JoinColumn(nullable = false,name = &quot;id&quot;,referencedColumnName = &quot;training_id&quot;)\r\n    \tprivate TblBranchTraining branchTraining;\r\n    }\r\n\r\nAnd \r\n\r\n    public class TblBranchTraining implements Serializable{\r\n    \t\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate int id;\r\n    \t\r\n    \t@Column(name = &quot;training_id&quot;)\r\n    \tprivate Integer trainingId;\r\n    \t \r\n    \t\r\n    \tprivate String status;\r\n    \t\r\n    \tprivate String date;\r\n    \t\t\r\n    \t@Column(name = &quot;branch_code&quot;)\r\n    \tprivate String branchCode;\r\n    \r\n    }\r\n\r\nAnd here is my Repository Method\r\n\r\n    @Repository\r\n    public interface TrainingMasterRepository extends JpaRepository&lt;TrainingMaster, Integer&gt; {\r\n    \r\n    \tList&lt;TrainingMaster&gt; findByAllTrainingMasters_branchCode(String branchCode);\r\n    \r\n    }\r\n\r\n\r\nbut this JPA method is not generating the query what I want. which is `OR tb.branchCode is null`\r\n\r\nI tried creating query (which is posted above) but that is giving all records which belongs to other branchCode\r\n\r\nAny help would be appreciated. \r\n\r\n","title":"jpa method to query by joined column","body":"<p>I want a query something like this</p>\n<pre><code>select tm ,tb\nfrom TrainingMaster tm \nleft join TblBranchTraining tb on tm.id = tb.trainingId \nwhere (tb.branchCode = :branchCode OR tb.branchCode is null) ;\n</code></pre>\n<p>Here are my entity classes</p>\n<pre><code>public class TrainingMaster implements Serializable{\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    \n    @Column(name=&quot;training_name&quot;)\n    private String trainingName;\n    \n    @OneToOne(cascade= CascadeType.ALL)\n    @JoinColumn(nullable = false,name = &quot;id&quot;,referencedColumnName = &quot;training_id&quot;)\n    private TblBranchTraining branchTraining;\n}\n</code></pre>\n<p>And</p>\n<pre><code>public class TblBranchTraining implements Serializable{\n    \n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    \n    @Column(name = &quot;training_id&quot;)\n    private Integer trainingId;\n     \n    \n    private String status;\n    \n    private String date;\n        \n    @Column(name = &quot;branch_code&quot;)\n    private String branchCode;\n\n}\n</code></pre>\n<p>And here is my Repository Method</p>\n<pre><code>@Repository\npublic interface TrainingMasterRepository extends JpaRepository&lt;TrainingMaster, Integer&gt; {\n\n    List&lt;TrainingMaster&gt; findByAllTrainingMasters_branchCode(String branchCode);\n\n}\n</code></pre>\n<p>but this JPA method is not generating the query what I want. which is <code>OR tb.branchCode is null</code></p>\n<p>I tried creating query (which is posted above) but that is giving all records which belongs to other branchCode</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","xml"],"answers":[{"tags":[],"owner":{"account_id":50565,"reputation":6912,"user_id":150882,"display_name":"Paul Butcher"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1273834597,"creation_date":1273833706,"answer_id":2833473,"question_id":2833281,"body_markdown":"Use [Element.getAttribute][1]  and Element.setAttribute\r\n\r\n\r\nIn your example, `((Node) content.item(0)).getFirstChild().getAttributes()`.  Assuming that `content` is a typo, and you mean `contento`, getFirstChild is correctly returning NULL as contento has no children.   Try: `((Node) contento.item(0)).getAttributes()` instead.\r\n\r\nAnother issue is that by using `getFirstChild` and `getChildNodes()[0]` without checking the return value, you are running the risk of picking up child text nodes, instead of the element you want.\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/org/w3c/dom/Element.html#getAttribute(java.lang.String)\r\n","title":"XML child node attribute value","body":"<p>Use <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/org/w3c/dom/Element.html#getAttribute(java.lang.String)\" rel=\"nofollow noreferrer\">Element.getAttribute</a>  and Element.setAttribute</p>\n\n<p>In your example, <code>((Node) content.item(0)).getFirstChild().getAttributes()</code>.  Assuming that <code>content</code> is a typo, and you mean <code>contento</code>, getFirstChild is correctly returning NULL as contento has no children.   Try: <code>((Node) contento.item(0)).getAttributes()</code> instead.</p>\n\n<p>Another issue is that by using <code>getFirstChild</code> and <code>getChildNodes()[0]</code> without checking the return value, you are running the risk of picking up child text nodes, instead of the element you want.</p>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1274178690,"creation_date":1274173465,"answer_id":2855803,"question_id":2833281,"body_markdown":"As pointed out, `&lt;contento&gt;` doesn&#39;t have any child so instead of:\r\n\r\n    (contento.item(0)).getFirstChild().getAttributes()\r\n\r\nYou should treat the Node as Element and use getAttribute(String), something like this:\r\n\r\n    ((Element)contento.item(0)).getAttribute(&quot;madeIn&quot;)\r\n\r\nHere is a modified version of your code (it&#39;s not the most robust code I&#39;ve written): \r\n\r\n    InputStream inputStream = new ByteArrayInputStream(xml.getBytes());\r\n    DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n    DocumentBuilder db = dbf.newDocumentBuilder();\r\n    Document doc = db.parse(inputStream);\r\n    doc.getDocumentElement().normalize();\r\n    System.out.println(&quot;Root element &quot; + doc.getDocumentElement().getNodeName());\r\n    NodeList nodeLst = doc.getElementsByTagName(&quot;entry&quot;);\r\n    System.out.println(&quot;Information of all entries&quot;);\r\n\r\n    for (int s = 0; s &lt; nodeLst.getLength(); s++) {\r\n\r\n        Node fstNode = nodeLst.item(s);\r\n\r\n        if (fstNode.getNodeType() == Node.ELEMENT_NODE) {\r\n\r\n            Element fstElmnt = (Element) fstNode;\r\n\r\n            NodeList title = fstElmnt.getElementsByTagName(&quot;title&quot;).item(0).getChildNodes();\r\n            System.out.println(&quot;Title : &quot; + (title.item(0)).getNodeValue());\r\n\r\n            NodeList id = fstElmnt.getElementsByTagName(&quot;id&quot;).item(0).getChildNodes();\r\n            System.out.println(&quot;Id: &quot; + (id.item(0)).getNodeValue());\r\n\r\n            Node tempiNode = fstElmnt.getElementsByTagName(&quot;tempi&quot;).item(0);\r\n            System.out.println(&quot;Type : &quot; + ((Element) tempiNode).getAttribute(&quot;type&quot;));\r\n\r\n            Node contento = tempiNode.getChildNodes().item(0);\r\n            System.out.println(&quot;Made in : &quot; + ((Element) contento).getAttribute(&quot;madeIn&quot;));\r\n        }\r\n    }\r\n\r\nRunning it on your XML snippet produces the following output:\r\n\r\n&lt;pre&gt;\r\nRoot element entry\r\nInformation of all entries\r\nTitle : FEED TITLE\r\nId: 5467sdad98787ad3149878sasda\r\nType : application/xml\r\nMade in : USA\r\n&lt;/pre&gt;\r\n\r\nBy the way, did you consider using something like [Rome][1] instead?\r\n\r\n\r\n  [1]: https://rome.dev.java.net/","title":"XML child node attribute value","body":"<p>As pointed out, <code>&lt;contento&gt;</code> doesn't have any child so instead of:</p>\n\n<pre><code>(contento.item(0)).getFirstChild().getAttributes()\n</code></pre>\n\n<p>You should treat the Node as Element and use getAttribute(String), something like this:</p>\n\n<pre><code>((Element)contento.item(0)).getAttribute(\"madeIn\")\n</code></pre>\n\n<p>Here is a modified version of your code (it's not the most robust code I've written): </p>\n\n<pre><code>InputStream inputStream = new ByteArrayInputStream(xml.getBytes());\nDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\nDocumentBuilder db = dbf.newDocumentBuilder();\nDocument doc = db.parse(inputStream);\ndoc.getDocumentElement().normalize();\nSystem.out.println(\"Root element \" + doc.getDocumentElement().getNodeName());\nNodeList nodeLst = doc.getElementsByTagName(\"entry\");\nSystem.out.println(\"Information of all entries\");\n\nfor (int s = 0; s &lt; nodeLst.getLength(); s++) {\n\n    Node fstNode = nodeLst.item(s);\n\n    if (fstNode.getNodeType() == Node.ELEMENT_NODE) {\n\n        Element fstElmnt = (Element) fstNode;\n\n        NodeList title = fstElmnt.getElementsByTagName(\"title\").item(0).getChildNodes();\n        System.out.println(\"Title : \" + (title.item(0)).getNodeValue());\n\n        NodeList id = fstElmnt.getElementsByTagName(\"id\").item(0).getChildNodes();\n        System.out.println(\"Id: \" + (id.item(0)).getNodeValue());\n\n        Node tempiNode = fstElmnt.getElementsByTagName(\"tempi\").item(0);\n        System.out.println(\"Type : \" + ((Element) tempiNode).getAttribute(\"type\"));\n\n        Node contento = tempiNode.getChildNodes().item(0);\n        System.out.println(\"Made in : \" + ((Element) contento).getAttribute(\"madeIn\"));\n    }\n}\n</code></pre>\n\n<p>Running it on your XML snippet produces the following output:</p>\n\n<pre>\nRoot element entry\nInformation of all entries\nTitle : FEED TITLE\nId: 5467sdad98787ad3149878sasda\nType : application/xml\nMade in : USA\n</pre>\n\n<p>By the way, did you consider using something like <a href=\"https://rome.dev.java.net/\" rel=\"nofollow noreferrer\">Rome</a> instead?</p>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1679853135,"creation_date":1274182560,"answer_id":2856812,"question_id":2833281,"body_markdown":"The best solution for this is to use XPath. Let&#39;s say we have the following `feed.xml` file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;entries&gt;\r\n    &lt;entry&gt;\r\n        &lt;title&gt;FEED TITLE 1&lt;/title&gt;\r\n        &lt;id&gt;id1&lt;/id&gt;\r\n        &lt;tempi type=&quot;type1&quot;&gt;\r\n          &lt;conento xmlns=&quot;dontcare?&quot; madeIn=&quot;MadeIn1&quot; /&gt;\r\n        &lt;/tempi&gt;\r\n    &lt;/entry&gt;\r\n    &lt;entry&gt;\r\n        &lt;title&gt;FEED TITLE 2&lt;/title&gt;\r\n        &lt;id&gt;id2&lt;/id&gt;\r\n        &lt;tempi type=&quot;type2&quot;&gt;\r\n          &lt;conento xmlns=&quot;dontcare?&quot; madeIn=&quot;MadeIn2&quot; /&gt;\r\n        &lt;/tempi&gt;\r\n    &lt;/entry&gt;\r\n    &lt;entry&gt;\r\n        &lt;id&gt;id3&lt;/id&gt;\r\n    &lt;/entry&gt;\r\n    &lt;/entries&gt;\r\n\r\nHere&#39;s a short but compile-and-runnable proof-of-concept (with `feed.xml` file in the same directory).\r\n\r\n    import javax.xml.xpath.*;\r\n    import javax.xml.parsers.*;\r\n    import org.w3c.dom.*;\r\n    import java.io.*;\r\n    import java.util.*;\r\n    \r\n    public class XPathTest {\r\n    \tstatic class Entry {\r\n    \t\tfinal String title, id, origin, type;\r\n            Entry(String title, String id, String origin, String type) {\r\n                this.title = title;\r\n                this.id = id;\r\n                this.origin = origin;\r\n                this.type = type;\r\n            }\r\n    \t\t@Override public String toString() {\r\n    \t\t\treturn String.format(&quot;%s:%s(%s)[%s]&quot;, id, title, origin, type);\r\n    \t\t}\r\n    \t}\r\n\r\n    \tfinal static XPath xpath = XPathFactory.newInstance().newXPath();\r\n    \tstatic String evalString(Node context, String path) throws XPathExpressionException {\r\n    \t\treturn (String) xpath.evaluate(path, context, XPathConstants.STRING);\r\n    \t}\r\n\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tFile file = new File(&quot;feed.xml&quot;);\r\n    \t\tDocument document = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(file);\r\n    \t\tNodeList entriesNodeList = (NodeList) xpath.evaluate(&quot;//entry&quot;, document, XPathConstants.NODESET);\r\n\r\n    \t\tList&lt;Entry&gt; entries = new ArrayList&lt;Entry&gt;();\r\n    \t\tfor (int i = 0; i &lt; entriesNodeList.getLength(); i++) {\r\n    \t\t\tNode entryNode = entriesNodeList.item(i);\r\n    \t\t\tentries.add(new Entry(\r\n    \t\t\t\tevalString(entryNode, &quot;title&quot;),\r\n    \t\t\t\tevalString(entryNode, &quot;id&quot;),\r\n    \t\t\t\tevalString(entryNode, &quot;tempi/conento/@madeIn&quot;),\r\n    \t\t\t\tevalString(entryNode, &quot;tempi/@type&quot;)\r\n    \t\t\t));\r\n    \t\t}\r\n    \t\tfor (Entry entry : entries) {\r\n    \t\t\tSystem.out.println(entry);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThis produces the following output:\r\n\r\n    id1:FEED TITLE 1(MadeIn1)[type1]\r\n    id2:FEED TITLE 2(MadeIn2)[type2]\r\n    id3:()[]\r\n\r\nNote how using XPath makes the value retrieval very simple, intuitive, readable, and straightforward, and &quot;missing&quot; values are also gracefully handled.\r\n\r\n### API links\r\n\r\n* [`package javax.xml.xpath`](http://java.sun.com/j2se/1.6.0/docs/api/javax/xml/xpath/package-summary.html)\r\n* http://www.w3.org/TR/xpath\r\n* [Wikipedia/XPath](http://en.wikipedia.org/wiki/XPath)\r\n\r\n","title":"XML child node attribute value","body":"<p>The best solution for this is to use XPath. Let's say we have the following <code>feed.xml</code> file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;entries&gt;\n&lt;entry&gt;\n    &lt;title&gt;FEED TITLE 1&lt;/title&gt;\n    &lt;id&gt;id1&lt;/id&gt;\n    &lt;tempi type=&quot;type1&quot;&gt;\n      &lt;conento xmlns=&quot;dontcare?&quot; madeIn=&quot;MadeIn1&quot; /&gt;\n    &lt;/tempi&gt;\n&lt;/entry&gt;\n&lt;entry&gt;\n    &lt;title&gt;FEED TITLE 2&lt;/title&gt;\n    &lt;id&gt;id2&lt;/id&gt;\n    &lt;tempi type=&quot;type2&quot;&gt;\n      &lt;conento xmlns=&quot;dontcare?&quot; madeIn=&quot;MadeIn2&quot; /&gt;\n    &lt;/tempi&gt;\n&lt;/entry&gt;\n&lt;entry&gt;\n    &lt;id&gt;id3&lt;/id&gt;\n&lt;/entry&gt;\n&lt;/entries&gt;\n</code></pre>\n<p>Here's a short but compile-and-runnable proof-of-concept (with <code>feed.xml</code> file in the same directory).</p>\n<pre><code>import javax.xml.xpath.*;\nimport javax.xml.parsers.*;\nimport org.w3c.dom.*;\nimport java.io.*;\nimport java.util.*;\n\npublic class XPathTest {\n    static class Entry {\n        final String title, id, origin, type;\n        Entry(String title, String id, String origin, String type) {\n            this.title = title;\n            this.id = id;\n            this.origin = origin;\n            this.type = type;\n        }\n        @Override public String toString() {\n            return String.format(&quot;%s:%s(%s)[%s]&quot;, id, title, origin, type);\n        }\n    }\n\n    final static XPath xpath = XPathFactory.newInstance().newXPath();\n    static String evalString(Node context, String path) throws XPathExpressionException {\n        return (String) xpath.evaluate(path, context, XPathConstants.STRING);\n    }\n\n    public static void main(String[] args) throws Exception {\n        File file = new File(&quot;feed.xml&quot;);\n        Document document = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(file);\n        NodeList entriesNodeList = (NodeList) xpath.evaluate(&quot;//entry&quot;, document, XPathConstants.NODESET);\n\n        List&lt;Entry&gt; entries = new ArrayList&lt;Entry&gt;();\n        for (int i = 0; i &lt; entriesNodeList.getLength(); i++) {\n            Node entryNode = entriesNodeList.item(i);\n            entries.add(new Entry(\n                evalString(entryNode, &quot;title&quot;),\n                evalString(entryNode, &quot;id&quot;),\n                evalString(entryNode, &quot;tempi/conento/@madeIn&quot;),\n                evalString(entryNode, &quot;tempi/@type&quot;)\n            ));\n        }\n        for (Entry entry : entries) {\n            System.out.println(entry);\n        }\n    }\n}\n</code></pre>\n<p>This produces the following output:</p>\n<pre><code>id1:FEED TITLE 1(MadeIn1)[type1]\nid2:FEED TITLE 2(MadeIn2)[type2]\nid3:()[]\n</code></pre>\n<p>Note how using XPath makes the value retrieval very simple, intuitive, readable, and straightforward, and &quot;missing&quot; values are also gracefully handled.</p>\n<h3>API links</h3>\n<ul>\n<li><a href=\"http://java.sun.com/j2se/1.6.0/docs/api/javax/xml/xpath/package-summary.html\" rel=\"nofollow noreferrer\"><code>package javax.xml.xpath</code></a></li>\n<li><a href=\"http://www.w3.org/TR/xpath\" rel=\"nofollow noreferrer\">http://www.w3.org/TR/xpath</a></li>\n<li><a href=\"http://en.wikipedia.org/wiki/XPath\" rel=\"nofollow noreferrer\">Wikipedia/XPath</a></li>\n</ul>\n"}],"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8915,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":2856812,"answer_count":3,"score":3,"last_activity_date":1679853135,"creation_date":1273831603,"question_id":2833281,"body_markdown":"I&#39;m trying to read XML file, ex :\r\n\r\n    &lt;entry&gt;\r\n        &lt;title&gt;FEED TITLE&lt;/title&gt;\r\n        &lt;id&gt;5467sdad98787ad3149878sasda&lt;/id&gt;\r\n        &lt;tempi type=&quot;application/xml&quot;&gt;\r\n          &lt;conento xmlns=&quot;http://mydomainname.com/xsd/radiofeed.xsd&quot; madeIn=&quot;USA&quot; /&gt;\r\n        &lt;/tempi&gt;\r\n    &lt;/entry&gt;\r\n\r\nHere is the code I have so far: http://pastebin.com/huKP4KED\r\n\r\nHere is what I need, concerning XML above:\r\n\r\n- I need to get value of title, id\r\n- attribute value of tempi as well as madeIn attribute value of contento\r\n\r\nWhat is the best way to do this ?\r\n\r\nEdit\r\n---\r\n\r\n@Pascal Thivent\r\n\r\nMaybe creating method would be good idea like public String getValue(String xml, Element elementname), where you specify tag name, the method returns tag value or tag attribute (maybe give it name as additional method argument) if the value is not available\r\n\r\nWhat I really want to get certain tag value or attribute if tag value(s) is not available, so I&#39;m in the process of thinking what is the best way to do so since I&#39;ve never done it before.\r\n","title":"XML child node attribute value","body":"<p>I'm trying to read XML file, ex :</p>\n<pre><code>&lt;entry&gt;\n    &lt;title&gt;FEED TITLE&lt;/title&gt;\n    &lt;id&gt;5467sdad98787ad3149878sasda&lt;/id&gt;\n    &lt;tempi type=&quot;application/xml&quot;&gt;\n      &lt;conento xmlns=&quot;http://mydomainname.com/xsd/radiofeed.xsd&quot; madeIn=&quot;USA&quot; /&gt;\n    &lt;/tempi&gt;\n&lt;/entry&gt;\n</code></pre>\n<p>Here is the code I have so far: <a href=\"http://pastebin.com/huKP4KED\" rel=\"nofollow noreferrer\">http://pastebin.com/huKP4KED</a></p>\n<p>Here is what I need, concerning XML above:</p>\n<ul>\n<li>I need to get value of title, id</li>\n<li>attribute value of tempi as well as madeIn attribute value of contento</li>\n</ul>\n<p>What is the best way to do this ?</p>\n<h2>Edit</h2>\n<p>@Pascal Thivent</p>\n<p>Maybe creating method would be good idea like public String getValue(String xml, Element elementname), where you specify tag name, the method returns tag value or tag attribute (maybe give it name as additional method argument) if the value is not available</p>\n<p>What I really want to get certain tag value or attribute if tag value(s) is not available, so I'm in the process of thinking what is the best way to do so since I've never done it before.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":139856,"reputation":77164,"user_id":345717,"accept_rate":81,"display_name":"EboMike"},"score":0,"creation_date":1288155006,"post_id":4030032,"comment_id":4323417,"body_markdown":"It&#39;s complaining about a missing } to terminate the class - is that in? Also, your formatting is broken - you&#39;re mixing tabs and spaces. Look at it, it doesn&#39;t look right at all.","body":"It&#39;s complaining about a missing } to terminate the class - is that in? Also, your formatting is broken - you&#39;re mixing tabs and spaces. Look at it, it doesn&#39;t look right at all."},{"owner":{"account_id":221289,"reputation":33511,"user_id":479180,"accept_rate":81,"display_name":"LuxuryMode"},"score":0,"creation_date":1288155084,"post_id":4030032,"comment_id":4323424,"body_markdown":"the formatting got all screwy when i tried to copy and paste code, but have it stay in the &quot;insert code here&quot; area in this window.","body":"the formatting got all screwy when i tried to copy and paste code, but have it stay in the &quot;insert code here&quot; area in this window."},{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":0,"creation_date":1288155198,"post_id":4030032,"comment_id":4323441,"body_markdown":"can you provide the exact error messages from the compiler?","body":"can you provide the exact error messages from the compiler?"},{"owner":{"account_id":225474,"reputation":4101,"user_id":485971,"display_name":"irrelephant"},"score":0,"creation_date":1288155250,"post_id":4030032,"comment_id":4323447,"body_markdown":"Would this be Karel the Robot? on Android? :)","body":"Would this be Karel the Robot? on Android? :)"}],"answers":[{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1288155081,"creation_date":1288155081,"answer_id":4030048,"question_id":4030032,"body_markdown":"You really want to go to the top of your file and do proper and consistent indention all the way to the bottom.\r\n\r\nFor example...\r\n\r\n    private void putThreeBeepers() \r\n    {\r\n        for (int i = 0; i &lt; 2; i++) {\r\n            putBeeper();\r\n            move();\r\n        }\r\n    \r\n        putBeeper();\r\n    }\r\n    \r\n    private void backUp() \r\n    {\r\n        turnAround();\r\n        move();\r\n        turnAround();\r\n    }\r\n\r\nOdds are, somewhere along the line, you are missing a }.  Your description isn&#39;t super clear, but if the code you posted is how you actually have it formatted in your file then odds are you just missed something somewhere... and poor indentation makes it very hard to spot.\r\n\r\nThe fact that the message is changing is confusing, but it is the sort of thing you see in these cases.","title":"syntax error: insert } to complete ClassBody","body":"<p>You really want to go to the top of your file and do proper and consistent indention all the way to the bottom.</p>\n\n<p>For example...</p>\n\n<pre><code>private void putThreeBeepers() \n{\n    for (int i = 0; i &lt; 2; i++) {\n        putBeeper();\n        move();\n    }\n\n    putBeeper();\n}\n\nprivate void backUp() \n{\n    turnAround();\n    move();\n    turnAround();\n}\n</code></pre>\n\n<p>Odds are, somewhere along the line, you are missing a }.  Your description isn't super clear, but if the code you posted is how you actually have it formatted in your file then odds are you just missed something somewhere... and poor indentation makes it very hard to spot.</p>\n\n<p>The fact that the message is changing is confusing, but it is the sort of thing you see in these cases.</p>\n"},{"tags":[],"owner":{"account_id":1953250,"reputation":141,"user_id":1756891,"display_name":"Jhenry"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1350576407,"creation_date":1350575920,"answer_id":12958788,"question_id":4030032,"body_markdown":"the error might be misleading. In my case i had incorrect/incomplete comment statements such as below which is broken lead to this error:\r\n\r\n    /*\r\n    //  */\r\n    */\r\n\r\nFixing the comments fixed the error. Hope this helps. Thanks.","title":"syntax error: insert } to complete ClassBody","body":"<p>the error might be misleading. In my case i had incorrect/incomplete comment statements such as below which is broken lead to this error:</p>\n\n<pre><code>/*\n//  */\n*/\n</code></pre>\n\n<p>Fixing the comments fixed the error. Hope this helps. Thanks.</p>\n"},{"tags":[],"owner":{"account_id":2063265,"reputation":31,"user_id":1839365,"display_name":"TomHanrath"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1355066973,"creation_date":1355066973,"answer_id":13788809,"question_id":4030032,"body_markdown":"I think this can be caused by a number of different problems. :(\r\n\r\nIn my case it was that I have forgotten to specify the type of two parameters in one of my methods declareations.\r\nTo fix I had to change this:\r\n onUpgrade(SQLiteDatabase pDb, pOldVersion, pNewVersion)\r\n{\r\n\r\n}\r\nto this:\r\n onUpgrade(SQLiteDatabase pDb, int pOldVersion, int pNewVersion)\r\n","title":"syntax error: insert } to complete ClassBody","body":"<p>I think this can be caused by a number of different problems. :(</p>\n\n<p>In my case it was that I have forgotten to specify the type of two parameters in one of my methods declareations.\nTo fix I had to change this:\n onUpgrade(SQLiteDatabase pDb, pOldVersion, pNewVersion)\n{</p>\n\n<p>}\nto this:\n onUpgrade(SQLiteDatabase pDb, int pOldVersion, int pNewVersion)</p>\n"},{"tags":[],"owner":{"account_id":336146,"reputation":3517,"user_id":663645,"accept_rate":67,"display_name":"Cullen SUN"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1363856382,"creation_date":1363856382,"answer_id":15543078,"question_id":4030032,"body_markdown":"It might be due to invisible Chars when copying code from PDF ebook.\r\nBe careful of the little red dot &#39;.&#39; &lt;br/&gt;\r\n\r\nChoose &#39;Select First Character&#39; -&gt; then delete it.\r\n\r\n\r\n![Invisible Chars when copying code from PDF ebook][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/KVeoA.png","title":"syntax error: insert } to complete ClassBody","body":"<p>It might be due to invisible Chars when copying code from PDF ebook.\nBe careful of the little red dot '.' <br/></p>\n\n<p>Choose 'Select First Character' -> then delete it.</p>\n\n<p><img src=\"https://i.stack.imgur.com/KVeoA.png\" alt=\"Invisible Chars when copying code from PDF ebook\"></p>\n"},{"tags":[],"owner":{"account_id":322361,"reputation":857,"user_id":641738,"accept_rate":84,"display_name":"jwBurnside"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363919846,"creation_date":1363919846,"answer_id":15561794,"question_id":4030032,"body_markdown":"Also, the same error might occur if you accidentally write an if-statement outside of a method. I kept overlooking it since I was looking at the bracket-matching only.","title":"syntax error: insert } to complete ClassBody","body":"<p>Also, the same error might occur if you accidentally write an if-statement outside of a method. I kept overlooking it since I was looking at the bracket-matching only.</p>\n"},{"tags":[],"owner":{"account_id":3844588,"reputation":1,"user_id":3186579,"display_name":"Jane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389497410,"creation_date":1389497410,"answer_id":21070967,"question_id":4030032,"body_markdown":"I just simply add another&quot;}&quot;,makes as &quot;}}&quot;,then problem solved\r\n\r\nI didnt have to put anther &quot;}&quot; for my other java code exercise.\r\n\r\nIm a java beginner,I&#39;ve come across same problem so I searched online found this thread.Hope this help","title":"syntax error: insert } to complete ClassBody","body":"<p>I just simply add another\"}\",makes as \"}}\",then problem solved</p>\n\n<p>I didnt have to put anther \"}\" for my other java code exercise.</p>\n\n<p>Im a java beginner,I've come across same problem so I searched online found this thread.Hope this help</p>\n"},{"tags":[],"owner":{"account_id":2108978,"reputation":21,"user_id":1874629,"display_name":"Balaji Sankar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402326366,"creation_date":1402326366,"answer_id":24123140,"question_id":4030032,"body_markdown":"Had the same problem. Turned out to be a very fundamental oversight.\r\nI was having the properties of a class declared like this:\r\n\r\n    private Texture foo;\r\n    private Sprite bar;\r\n    foo = new Texture();\r\n    bar = new Sprite();\r\n\r\nThe mistake was i had been instantiating the foo and bar variables outside the functions \r\nof the class. When I put the \r\n\r\n    foo = new Texture();\r\n    bar = new Sprite();\r\n\r\ninto their proper functions (like below), the error went away.\r\n\r\n    private Texture foo;\r\n    private Sprite bar;\r\n    // function\r\n    public void instantiateVariables(){\r\n    foo = new Texture();\r\n    bar = new Sprite();\r\n    }","title":"syntax error: insert } to complete ClassBody","body":"<p>Had the same problem. Turned out to be a very fundamental oversight.\nI was having the properties of a class declared like this:</p>\n\n<pre><code>private Texture foo;\nprivate Sprite bar;\nfoo = new Texture();\nbar = new Sprite();\n</code></pre>\n\n<p>The mistake was i had been instantiating the foo and bar variables outside the functions \nof the class. When I put the </p>\n\n<pre><code>foo = new Texture();\nbar = new Sprite();\n</code></pre>\n\n<p>into their proper functions (like below), the error went away.</p>\n\n<pre><code>private Texture foo;\nprivate Sprite bar;\n// function\npublic void instantiateVariables(){\nfoo = new Texture();\nbar = new Sprite();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":379606,"reputation":5664,"user_id":733092,"accept_rate":86,"display_name":"Noumenon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482510193,"creation_date":1482510193,"answer_id":41304755,"question_id":4030032,"body_markdown":"I got this error due to a missing `&lt;%`.","title":"syntax error: insert } to complete ClassBody","body":"<p>I got this error due to a missing <code>&lt;%</code>.</p>\n"},{"tags":[],"owner":{"account_id":6185749,"reputation":19,"user_id":4819914,"display_name":"Dharmendra Pawar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505667655,"creation_date":1505666539,"answer_id":46266454,"question_id":4030032,"body_markdown":"Here are the steps.\r\n\r\n1. Just copy paste your code in notepad \r\n2. Remove copy from Java file\r\n3. Again copy notepad and paste into Java file.\r\n4. An error will be gone.\r\n\r\n","title":"syntax error: insert } to complete ClassBody","body":"<p>Here are the steps.</p>\n\n<ol>\n<li>Just copy paste your code in notepad </li>\n<li>Remove copy from Java file</li>\n<li>Again copy notepad and paste into Java file.</li>\n<li>An error will be gone.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2357300,"reputation":453,"user_id":2064841,"accept_rate":42,"display_name":"Manohar Ch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610124444,"creation_date":1610124118,"answer_id":65632947,"question_id":4030032,"body_markdown":"This question have already accepted answer but still there are some other problems where it occurs (like even though all statements are there correctly sometimes we will get this issue) and there are solutions too.\r\n\r\nRecently I came across like this situation in eclipse workspace. \r\n\r\nThe solution is\r\n1) Take the back up of that java file. \r\n2) Remove the java file from that location and do the build/compile\r\n3) Paste the file in the same location and do the build/compile\r\n4) If the above step 3 does not work create new file and paste the content/code from backup file and do the build/compile\r\n5) If the above step 3&amp;4 both are not working then type the code of that file manually end-to-end and do the build/compile\n","title":"syntax error: insert } to complete ClassBody","body":"<p>This question have already accepted answer but still there are some other problems where it occurs (like even though all statements are there correctly sometimes we will get this issue) and there are solutions too.</p>\n<p>Recently I came across like this situation in eclipse workspace.</p>\n<p>The solution is</p>\n<ol>\n<li>Take the back up of that java file.</li>\n<li>Remove the java file from that location and do the build/compile</li>\n<li>Paste the file in the same location and do the build/compile</li>\n<li>If the above step 3 does not work create new file and paste the content/code from backup file and do the build/compile</li>\n<li>If the above step 3&amp;4 both are not working then type the code of that file manually end-to-end and do the build/compile</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11405681,"reputation":76,"user_id":8361202,"display_name":"Vinod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632390711,"creation_date":1632390711,"answer_id":69297747,"question_id":4030032,"body_markdown":"If this error comes in jsp, look for the braces. if open or close braces are missing, we will get this error.","title":"syntax error: insert } to complete ClassBody","body":"<p>If this error comes in jsp, look for the braces. if open or close braces are missing, we will get this error.</p>\n"},{"tags":[],"owner":{"display_name":"user17302177"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679852953,"creation_date":1679852953,"answer_id":75849518,"question_id":4030032,"body_markdown":"I have just added {{ and }} to make it work \r\nI dont know why it happed but it suck","title":"syntax error: insert } to complete ClassBody","body":"<p>I have just added {{ and }} to make it work\nI dont know why it happed but it suck</p>\n"}],"owner":{"account_id":221289,"reputation":33511,"user_id":479180,"accept_rate":81,"display_name":"LuxuryMode"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102819,"favorite_count":0,"down_vote_count":2,"up_vote_count":6,"accepted_answer_id":4030048,"answer_count":12,"score":4,"last_activity_date":1679852953,"creation_date":1288154687,"question_id":4030032,"body_markdown":"I created a method and keep getting an error that I need to include a } at the end of my method. I put the } in and the error is still there! If I then delete that } the same error will pop up on a prior method; and that error wasn&#39;t there before. in other words, if i type the } on my most recent method then the error stays there and only there. if i delete it, it duplicates that error on my prior method. \r\n\r\n   \r\n\r\n    private void putThreeBeepers() {\r\n\tfor (int i = 0; i &lt; 2; i++) {\r\n\t\tputBeeper();\r\n\t\tmove();\r\n\t}\r\n\tputBeeper();\r\n\t}\r\n    private void backUp() {\r\n\tturnAround();\r\n\tmove();\r\n\tturnAround();\r\n       }\r\n\r\n\r\n\r\n  \r\n\r\n","title":"syntax error: insert } to complete ClassBody","body":"<p>I created a method and keep getting an error that I need to include a } at the end of my method. I put the } in and the error is still there! If I then delete that } the same error will pop up on a prior method; and that error wasn't there before. in other words, if i type the } on my most recent method then the error stays there and only there. if i delete it, it duplicates that error on my prior method. </p>\n\n<pre><code>private void putThreeBeepers() {\nfor (int i = 0; i &lt; 2; i++) {\n    putBeeper();\n    move();\n}\nputBeeper();\n}\nprivate void backUp() {\nturnAround();\nmove();\nturnAround();\n   }\n</code></pre>\n"},{"tags":["java","javafx","controller"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1679789383,"post_id":75845209,"comment_id":133783932,"body_markdown":"I would be more appropriate for `ExtraClass` to generate events that the controller &quot;observed&quot; and made appreciate updates - think about it, why would `ExtraClass` be responsible for updating the UI in the first place?  Creating another instance of `HelloController` would simply disconnect the `ExtraClass` from the UI anyway.  Part of the job of `FXMLLoader` is to load the fxml and bind it to the controller, which you&#39;ve simply curumvented","body":"I would be more appropriate for <code>ExtraClass</code> to generate events that the controller &quot;observed&quot; and made appreciate updates - think about it, why would <code>ExtraClass</code> be responsible for updating the UI in the first place?  Creating another instance of <code>HelloController</code> would simply disconnect the <code>ExtraClass</code> from the UI anyway.  Part of the job of <code>FXMLLoader</code> is to load the fxml and bind it to the controller, which you&#39;ve simply curumvented"},{"owner":{"account_id":26302394,"reputation":21,"user_id":19967527,"display_name":"Mikołaj"},"score":0,"creation_date":1679790222,"post_id":75845209,"comment_id":133784012,"body_markdown":"if i would like to notify my subscriber aka controller i think i would still need somehow to call this controller @MadProgrammer","body":"if i would like to notify my subscriber aka controller i think i would still need somehow to call this controller @MadProgrammer"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1679790414,"post_id":75845209,"comment_id":133784032,"body_markdown":"No, you wouldn’t - or, at least, not directly. You’d provide a mechanism for the interested party to register/subscribe for events and then through that mechanism, generate events. Your ExtraClass would not care who they are notifying - think of a button - it doesn’t care who it’s notifying, it just notifies registered observers","body":"No, you wouldn’t - or, at least, not directly. You’d provide a mechanism for the interested party to register/subscribe for events and then through that mechanism, generate events. Your ExtraClass would not care who they are notifying - think of a button - it doesn’t care who it’s notifying, it just notifies registered observers"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1679790494,"post_id":75845209,"comment_id":133784036,"body_markdown":"So, instead, your controller would register itself as an observer to the ExtraClass","body":"So, instead, your controller would register itself as an observer to the ExtraClass"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1679809361,"post_id":75845209,"comment_id":133785258,"body_markdown":"The duplicate demonstrates how to implement MadProgrammer&#39;s suggestions.","body":"The duplicate demonstrates how to implement MadProgrammer&#39;s suggestions."},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":0,"creation_date":1679835209,"post_id":75845209,"comment_id":133788234,"body_markdown":"The premise of the question is odd.  &quot;I tried passing a controller...but I want an approach without that.&quot;  If you want to access a member function of an object from another object, you have to pass a reference to the first object to the second object.  This is just basic programming and you can&#39;t avoid it.","body":"The premise of the question is odd.  &quot;I tried passing a controller...but I want an approach without that.&quot;  If you want to access a member function of an object from another object, you have to pass a reference to the first object to the second object.  This is just basic programming and you can&#39;t avoid it."}],"owner":{"account_id":26302394,"reputation":21,"user_id":19967527,"display_name":"Mikołaj"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679789354,"answer_count":0,"score":0,"last_activity_date":1679852266,"creation_date":1679789067,"question_id":75845209,"body_markdown":"I have three classes: `HelloApplication`, `HelloController` and `ExtraClass`.\r\n\r\n`HelloApplication`: (basic boilerplate)\r\n\r\n```\r\npublic class HelloApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        URL fxml = getClass().getResource(&quot;hello-view.fxml&quot;);\r\n        FXMLLoader loader = new FXMLLoader(fxml);\r\n        Parent root = loader.load();\r\n        Scene scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n        ExtraClass extraClass = new\r\n        extraClass.marketRate(100);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n}\r\n```\r\n\r\n`HelloController`:\r\n\r\n```\r\npublic class HelloController {\r\n    public Button welcomeButton;\r\n    \r\n    @FXML\r\n    private Label welcomeText;\r\n\r\n    @FXML\r\n    public void setText(String string) {\r\n        welcomeText.setText(string);\r\n    }\r\n}\r\n```\r\n\r\n`ExtraClass`:\r\n\r\n```\r\npublic class ExtraClass {\r\n    public void marketRate(int currentPrice) {\r\n        String s = String.valueOf(currentPrice \\* 1.05);\r\n        HelloController helloController = new HelloController();\r\n        helloController.setText(s);\r\n    }\r\n}\r\n```\r\n\r\nNow I get an error saying that `this.welcomeText` is `null`.\r\n\r\nI understand that if I make a new controller it isnt the right one, it doesnt have the fxml loaded.\r\n\r\nHow can I make it work?\r\n\r\nI&#39;ve tried passing a controller to the `ExtraClass` and it works, but I want an approach without that.","title":"Call a controller function in a seprate class in javafx","body":"<p>I have three classes: <code>HelloApplication</code>, <code>HelloController</code> and <code>ExtraClass</code>.</p>\n<p><code>HelloApplication</code>: (basic boilerplate)</p>\n<pre><code>public class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws Exception {\n        URL fxml = getClass().getResource(&quot;hello-view.fxml&quot;);\n        FXMLLoader loader = new FXMLLoader(fxml);\n        Parent root = loader.load();\n        Scene scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n        ExtraClass extraClass = new\n        extraClass.marketRate(100);\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n}\n</code></pre>\n<p><code>HelloController</code>:</p>\n<pre><code>public class HelloController {\n    public Button welcomeButton;\n    \n    @FXML\n    private Label welcomeText;\n\n    @FXML\n    public void setText(String string) {\n        welcomeText.setText(string);\n    }\n}\n</code></pre>\n<p><code>ExtraClass</code>:</p>\n<pre><code>public class ExtraClass {\n    public void marketRate(int currentPrice) {\n        String s = String.valueOf(currentPrice \\* 1.05);\n        HelloController helloController = new HelloController();\n        helloController.setText(s);\n    }\n}\n</code></pre>\n<p>Now I get an error saying that <code>this.welcomeText</code> is <code>null</code>.</p>\n<p>I understand that if I make a new controller it isnt the right one, it doesnt have the fxml loaded.</p>\n<p>How can I make it work?</p>\n<p>I've tried passing a controller to the <code>ExtraClass</code> and it works, but I want an approach without that.</p>\n"},{"tags":["java","gradle","gradle-kotlin-dsl"],"answers":[{"tags":[],"owner":{"account_id":4820860,"reputation":1747,"user_id":3901701,"display_name":"Kolargol00"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1658249917,"creation_date":1658249917,"answer_id":73040854,"question_id":71485996,"body_markdown":"There is nothing in the version catalog to specify classifiers. You have to put the classifier in the dependency declaration:\r\n\r\n    implementation(variantOf(libs.netty-epoll-linux) { classifier(&quot;linux-x86_64&quot;) })\r\n\r\n[Frequently asked questions about version catalogs](https://melix.github.io/blog/2021/03/version-catalogs-faq.html#_why_cant_i_use_excludes_or_classifiers) explains this design choice:\r\n&gt; By design, version catalogs talk about dependency coordinates only. The choice of applying excludes is on the consumer side: for example, for a specific project, you might need to exclude a transitive dependency because you don’t use the code path which exercises this dependency, but this might not be the case for all places. Similarly, a classifier falls into the category of variant selectors: for the same dependency coordinates, one might want classifier X, another classifier Y, and it’s not necessarily allowed to have both in the same graph. Therefore, classifiers need to be declared on the dependency declaration site.","title":"How to specify classifier when using a gradle version catalog?","body":"<p>There is nothing in the version catalog to specify classifiers. You have to put the classifier in the dependency declaration:</p>\n<pre><code>implementation(variantOf(libs.netty-epoll-linux) { classifier(&quot;linux-x86_64&quot;) })\n</code></pre>\n<p><a href=\"https://melix.github.io/blog/2021/03/version-catalogs-faq.html#_why_cant_i_use_excludes_or_classifiers\" rel=\"noreferrer\">Frequently asked questions about version catalogs</a> explains this design choice:</p>\n<blockquote>\n<p>By design, version catalogs talk about dependency coordinates only. The choice of applying excludes is on the consumer side: for example, for a specific project, you might need to exclude a transitive dependency because you don’t use the code path which exercises this dependency, but this might not be the case for all places. Similarly, a classifier falls into the category of variant selectors: for the same dependency coordinates, one might want classifier X, another classifier Y, and it’s not necessarily allowed to have both in the same graph. Therefore, classifiers need to be declared on the dependency declaration site.</p>\n</blockquote>\n"}],"owner":{"account_id":2616549,"reputation":1922,"user_id":2265497,"accept_rate":41,"display_name":"slesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1318,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1679852024,"creation_date":1647362929,"question_id":71485996,"body_markdown":"Where do I have to put the dependency classifier when declaring a dependency using a Gradle Version Catalog?\r\nE.g. `io.netty:netty-transport-native-epoll:4.1.74.Final:linux-x86_64`\r\nUsing vanilla implementation function:\r\n\r\n    implementation(&quot;io.netty:netty-transport-native-epoll:4.1.74.Final:linux-x86_64&quot;)\r\n\r\nand it works, but how to do the same using catalog:\r\n\r\n    netty-epoll-linux = { group = &quot;io.netty&quot;, name = &quot;netty-transport-native-epoll&quot;, version = &quot;4.1.74.Final&quot;, ????? classifier=&quot;linux-x86_64&quot; - doesn&#39;t work }\r\n\r\n","title":"How to specify classifier when using a gradle version catalog?","body":"<p>Where do I have to put the dependency classifier when declaring a dependency using a Gradle Version Catalog?\nE.g. <code>io.netty:netty-transport-native-epoll:4.1.74.Final:linux-x86_64</code>\nUsing vanilla implementation function:</p>\n<pre><code>implementation(&quot;io.netty:netty-transport-native-epoll:4.1.74.Final:linux-x86_64&quot;)\n</code></pre>\n<p>and it works, but how to do the same using catalog:</p>\n<pre><code>netty-epoll-linux = { group = &quot;io.netty&quot;, name = &quot;netty-transport-native-epoll&quot;, version = &quot;4.1.74.Final&quot;, ????? classifier=&quot;linux-x86_64&quot; - doesn't work }\n</code></pre>\n"},{"tags":["java","mysql","database","jdbc","mysql-workbench"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1679850296,"post_id":75849131,"comment_id":133790698,"body_markdown":"Basically the connection string will be similar. Just replace localhost with the IP address of your computer. BTW please don&#39;t insert screenshots. Just copy and paste the relevant part of code. It will be easier for us to read and analyse.","body":"Basically the connection string will be similar. Just replace localhost with the IP address of your computer. BTW please don&#39;t insert screenshots. Just copy and paste the relevant part of code. It will be easier for us to read and analyse."},{"owner":{"account_id":20232024,"reputation":15,"user_id":14838317,"display_name":"Nicholas C"},"score":0,"creation_date":1679851300,"post_id":75849131,"comment_id":133790878,"body_markdown":"@Mar-Z I&#39;ve tried this before but I get the following error: java.sql.SQLException: null,  message from server: &quot;Host &#39;*Hostname placeholder example*&#39; is not allowed to connect to this MySQL server&quot;","body":"@Mar-Z I&#39;ve tried this before but I get the following error: java.sql.SQLException: null,  message from server: &quot;Host &#39;<i>Hostname placeholder example</i>&#39; is not allowed to connect to this MySQL server&quot;"},{"owner":{"account_id":4100745,"reputation":902,"user_id":3366355,"accept_rate":43,"display_name":"martin"},"score":0,"creation_date":1679856878,"post_id":75849131,"comment_id":133791796,"body_markdown":"possible duplicate of https://stackoverflow.com/questions/35942508/change-mysql-listening-bind-address-on-windows","body":"possible duplicate of <a href=\"https://stackoverflow.com/questions/35942508/change-mysql-listening-bind-address-on-windows\" title=\"change mysql listening bind address on windows\">stackoverflow.com/questions/35942508/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679851525,"creation_date":1679851525,"answer_id":75849389,"question_id":75849131,"body_markdown":"&gt;  I apparently need to comment out this bind-address line, but I can&#39;t find it in my my.ini file.\r\n\r\nThe instructions you are reading are taking for granted that you have prior knowledge that commenting out a line is the same as deleting that line, or if the line was never in the file. The goal is that the configuration directive is not active.\r\n\r\nMySQL config files typically do not have every configuration directive (there are hundreds). So it&#39;s not surprising that the `bind-address` directive is not present in the current file. \r\n\r\nIf a directive is not in the file, or if it&#39;s commented out, it uses a built-in default value in the MySQL Server. The default value for `bind_address` is `*` according to the manual: https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_bind_address\r\n\r\nRemember if you edit the config file, you must restart MySQL Server for the change to take effect, because it reads the config file only during startup.","title":"My my.ini file does not contain a bind-address line to comment out and allow a remote connection - using windows","body":"<blockquote>\n<p>I apparently need to comment out this bind-address line, but I can't find it in my my.ini file.</p>\n</blockquote>\n<p>The instructions you are reading are taking for granted that you have prior knowledge that commenting out a line is the same as deleting that line, or if the line was never in the file. The goal is that the configuration directive is not active.</p>\n<p>MySQL config files typically do not have every configuration directive (there are hundreds). So it's not surprising that the <code>bind-address</code> directive is not present in the current file.</p>\n<p>If a directive is not in the file, or if it's commented out, it uses a built-in default value in the MySQL Server. The default value for <code>bind_address</code> is <code>*</code> according to the manual: <a href=\"https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_bind_address\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_bind_address</a></p>\n<p>Remember if you edit the config file, you must restart MySQL Server for the change to take effect, because it reads the config file only during startup.</p>\n"}],"owner":{"account_id":20232024,"reputation":15,"user_id":14838317,"display_name":"Nicholas C"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":843,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75849389,"answer_count":1,"score":1,"last_activity_date":1679851525,"creation_date":1679848787,"question_id":75849131,"body_markdown":"I&#39;m trying to make a java program for a library management systems that uses a mySQL database. My current code allows for myself to access the database freely because it&#39;s the same computer hosting the database. I&#39;m trying to make it so any computer on my same network running the application can access the database. I&#39;ve done some research and found that I apparently need to comment out this bind-address line, but I can&#39;t find it in my my.ini file. I don&#39;t know if it will help because i&#39;m fairly new to this but I&#39;ll leave here the current code im using to connect to the database in java. Overall im hoping to edit this code and configuration file to allow users on the same network to access this databse im hosting from my laptop.\r\n\r\n    package librarymanagement;\r\n    \r\n    import java.sql.*;\r\n    \r\n    \r\n    public class ConnectionDB {\r\n        final String dbURL = &quot;jdbc:mysql://localhost:3306/library?useSSL=false&quot;;\r\n        final String dbUser = &quot;root&quot;;\r\n        final String dbPassword = &quot;testPass&quot;;\r\n        \r\n        public Connection connectDB(){\r\n                Connection con = null;\r\n            try {    \r\n                Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n                con = DriverManager.getConnection(dbURL,dbUser,dbPassword);\r\n                \r\n            //Multi catch statement that handles SQL exceptions \r\n            //and ptints which line the error has occurred at\r\n                \r\n            } catch (ClassNotFoundException | SQLException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n            return con;\r\n        }\r\n    \r\n\r\n\r\n\r\nWhat should I do as that bind-address line is not in the my.ini file.\r\n\r\nI&#39;ve already through the my.ini file throughroughly yet still cant find the bind-address line.","title":"My my.ini file does not contain a bind-address line to comment out and allow a remote connection - using windows","body":"<p>I'm trying to make a java program for a library management systems that uses a mySQL database. My current code allows for myself to access the database freely because it's the same computer hosting the database. I'm trying to make it so any computer on my same network running the application can access the database. I've done some research and found that I apparently need to comment out this bind-address line, but I can't find it in my my.ini file. I don't know if it will help because i'm fairly new to this but I'll leave here the current code im using to connect to the database in java. Overall im hoping to edit this code and configuration file to allow users on the same network to access this databse im hosting from my laptop.</p>\n<pre><code>package librarymanagement;\n\nimport java.sql.*;\n\n\npublic class ConnectionDB {\n    final String dbURL = &quot;jdbc:mysql://localhost:3306/library?useSSL=false&quot;;\n    final String dbUser = &quot;root&quot;;\n    final String dbPassword = &quot;testPass&quot;;\n    \n    public Connection connectDB(){\n            Connection con = null;\n        try {    \n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            con = DriverManager.getConnection(dbURL,dbUser,dbPassword);\n            \n        //Multi catch statement that handles SQL exceptions \n        //and ptints which line the error has occurred at\n            \n        } catch (ClassNotFoundException | SQLException ex) {\n            ex.printStackTrace();\n        }\n        return con;\n    }\n</code></pre>\n<p>What should I do as that bind-address line is not in the my.ini file.</p>\n<p>I've already through the my.ini file throughroughly yet still cant find the bind-address line.</p>\n"},{"tags":["java","spring-boot","rest","grpc","grpc-java"],"answers":[{"tags":[],"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679851411,"creation_date":1679851411,"answer_id":75849385,"question_id":75848936,"body_markdown":"The solution is called gRPC-JSON transcoding.\r\n\r\nEnvoy provides an [implementation](https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_filters/grpc_json_transcoder_filter) as does Google with [Cloud Endpoints](https://cloud.google.com/endpoints/docs/grpc/transcoding) if you&#39;re deploying to Google Cloud.","title":"How to call a java gRPC service using HTTP/1.x request","body":"<p>The solution is called gRPC-JSON transcoding.</p>\n<p>Envoy provides an <a href=\"https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_filters/grpc_json_transcoder_filter\" rel=\"nofollow noreferrer\">implementation</a> as does Google with <a href=\"https://cloud.google.com/endpoints/docs/grpc/transcoding\" rel=\"nofollow noreferrer\">Cloud Endpoints</a> if you're deploying to Google Cloud.</p>\n"}],"owner":{"account_id":15549353,"reputation":147,"user_id":15204797,"display_name":"Pushpak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679851411,"creation_date":1679846900,"question_id":75848936,"body_markdown":"I have a gRPC service written in Java. I want to call that service using a RESTful web service. From my searches I have come to know that gRPC uses HTTP/2.x and I would need a reverse proxy server; but I don&#39;t know how to implement it. I am looking for a wrapper which can consume a gRPC service using REST APIs.","title":"How to call a java gRPC service using HTTP/1.x request","body":"<p>I have a gRPC service written in Java. I want to call that service using a RESTful web service. From my searches I have come to know that gRPC uses HTTP/2.x and I would need a reverse proxy server; but I don't know how to implement it. I am looking for a wrapper which can consume a gRPC service using REST APIs.</p>\n"},{"tags":["java","openjpa"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":1,"creation_date":1679838939,"post_id":75848172,"comment_id":133788880,"body_markdown":"He who never tries anything remains clueless.","body":"He who never tries anything remains clueless."},{"owner":{"account_id":3480622,"reputation":139,"user_id":3091468,"display_name":"Marco"},"score":0,"creation_date":1679839339,"post_id":75848172,"comment_id":133788959,"body_markdown":"He who fails after a few days of trying should ask a question :-)","body":"He who fails after a few days of trying should ask a question :-)"},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1679839737,"post_id":75848172,"comment_id":133789030,"body_markdown":"I don&#39;t see says of trying here.","body":"I don&#39;t see says of trying here."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1679842619,"post_id":75848172,"comment_id":133789321,"body_markdown":"In the entity class you can implement a method annotated with PostLoad. Check the rang and load parent if relevant.","body":"In the entity class you can implement a method annotated with PostLoad. Check the rang and load parent if relevant."},{"owner":{"account_id":3480622,"reputation":139,"user_id":3091468,"display_name":"Marco"},"score":0,"creation_date":1679847128,"post_id":75848172,"comment_id":133790167,"body_markdown":"Had not come across this. I tried it and it worked. If you make an answer out of it the I will accept it so you get rewarded.","body":"Had not come across this. I tried it and it worked. If you make an answer out of it the I will accept it so you get rewarded."}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679851142,"creation_date":1679847635,"answer_id":75849020,"question_id":75848172,"body_markdown":"In the entity class you can implement a method annotated with @PostLoad. Check the rang and load parent if relevant.\r\n\r\nLike this:\r\n\r\n\r\n    private TaxonDto getPostLoadTaxon() {\r\n      return parent;\r\n    }\r\n\r\n    @PostLoad\r\n    private void onPostLoad() {\r\n      if (getRang().equals(&quot;oso&quot;)) {\r\n        getPostLoadTaxon();\r\n      }\r\n    }\r\n","title":"Fetch only 1 level in a OneToOne relation with same table","body":"<p>In the entity class you can implement a method annotated with @PostLoad. Check the rang and load parent if relevant.</p>\n<p>Like this:</p>\n<pre><code>private TaxonDto getPostLoadTaxon() {\n  return parent;\n}\n\n@PostLoad\nprivate void onPostLoad() {\n  if (getRang().equals(&quot;oso&quot;)) {\n    getPostLoadTaxon();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":3480622,"reputation":139,"user_id":3091468,"display_name":"Marco"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75849020,"answer_count":1,"score":1,"last_activity_date":1679851142,"creation_date":1679838627,"question_id":75848172,"body_markdown":"I searched on the web but cannot filter out the solution. I get pointed to Spring and Hibernate but I am only interested in the solution with `OpenJPA`.\r\n\r\nI have a table in which I store the taxonomy tree. The key is the `TAXON_ID` and it is linked with its parent through the `PARENT_ID`. I created the following `DTO` named `TaxonDto` (I left out the fields that are of no importance):\r\n\r\n    @Column(name=&quot;PARENT_ID&quot;)\r\n    private Long      parentId;\r\n    @Column(name=&quot;RANG&quot;, length=3, nullable=false)\r\n    private String    rang;\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    @Column(name=&quot;TAXON_ID&quot;, nullable=false, unique=true, updatable=false)\r\n    private Long      taxonId;\r\n  \r\n    @OneToOne(cascade=CascadeType.ALL, fetch=FetchType.LAZY, targetEntity=TaxonDto.class, orphanRemoval=true)\r\n    @JoinColumn(name=&quot;PARENT_ID&quot;, referencedColumnName=&quot;TAXON_ID&quot;, updatable=false, insertable=false)\r\n    private TaxonDto  parent;\r\n\r\nMy problem lies in the `@OneToOne`. I did a test with `FetchType.EAGER` but then the size of the returned data is 3x bigger as with `FetchType.LAZY` since I get all parents below the taxon. What I want is that the parent is fetched when the rang is a specific value namely `oso`. I can live with a solution where the parent is not recursively filled, the parent of the parent should not be returned.\r\n\r\nIs this possible and if so how can I do this? I have seen *discriminators*, *fetchgroup* and *subclass `DTO`* but it leaves me clueless.\r\n","title":"Fetch only 1 level in a OneToOne relation with same table","body":"<p>I searched on the web but cannot filter out the solution. I get pointed to Spring and Hibernate but I am only interested in the solution with <code>OpenJPA</code>.</p>\n<p>I have a table in which I store the taxonomy tree. The key is the <code>TAXON_ID</code> and it is linked with its parent through the <code>PARENT_ID</code>. I created the following <code>DTO</code> named <code>TaxonDto</code> (I left out the fields that are of no importance):</p>\n<pre><code>@Column(name=&quot;PARENT_ID&quot;)\nprivate Long      parentId;\n@Column(name=&quot;RANG&quot;, length=3, nullable=false)\nprivate String    rang;\n@Id\n@GeneratedValue(strategy=GenerationType.IDENTITY)\n@Column(name=&quot;TAXON_ID&quot;, nullable=false, unique=true, updatable=false)\nprivate Long      taxonId;\n\n@OneToOne(cascade=CascadeType.ALL, fetch=FetchType.LAZY, targetEntity=TaxonDto.class, orphanRemoval=true)\n@JoinColumn(name=&quot;PARENT_ID&quot;, referencedColumnName=&quot;TAXON_ID&quot;, updatable=false, insertable=false)\nprivate TaxonDto  parent;\n</code></pre>\n<p>My problem lies in the <code>@OneToOne</code>. I did a test with <code>FetchType.EAGER</code> but then the size of the returned data is 3x bigger as with <code>FetchType.LAZY</code> since I get all parents below the taxon. What I want is that the parent is fetched when the rang is a specific value namely <code>oso</code>. I can live with a solution where the parent is not recursively filled, the parent of the parent should not be returned.</p>\n<p>Is this possible and if so how can I do this? I have seen <em>discriminators</em>, <em>fetchgroup</em> and <em>subclass <code>DTO</code></em> but it leaves me clueless.</p>\n"},{"tags":["java","android","android-studio","crash","start-activity"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1679851074,"post_id":75849344,"comment_id":133790843,"body_markdown":"In your `MainActivity`, did you try moving `FirebaseDatabase.getInstance().setPersistenceEnabled(true);` before `FirebaseApp.initializeApp(this);`?","body":"In your <code>MainActivity</code>, did you try moving <code>FirebaseDatabase.getInstance().setPersistenceEnabled(true);</code> before <code>FirebaseApp.initializeApp(this);</code>?"},{"owner":{"account_id":28130495,"reputation":1,"user_id":21495148,"display_name":"Voon Kok Wei"},"score":0,"creation_date":1679875356,"post_id":75849344,"comment_id":133794354,"body_markdown":"Thanks, but it is still the same error. I believe something wrong with the startActivity(). I have tried including and excluding the startActivity(); when including, the app crash but when excluding the startActivity, it run well as the app will go through logout only just not bringing user back to the Login activity.\nFor example, when I place the Toast.makeText() in it and remove the startActivity(), the code has been executed well.","body":"Thanks, but it is still the same error. I believe something wrong with the startActivity(). I have tried including and excluding the startActivity(); when including, the app crash but when excluding the startActivity, it run well as the app will go through logout only just not bringing user back to the Login activity. For example, when I place the Toast.makeText() in it and remove the startActivity(), the code has been executed well."},{"owner":{"account_id":28130495,"reputation":1,"user_id":21495148,"display_name":"Voon Kok Wei"},"score":0,"creation_date":1679880468,"post_id":75849344,"comment_id":133794880,"body_markdown":"@dan1st thanks I found the way to do so.\n[link]https://stackoverflow.com/questions/37753991/com-google-firebase-database-databaseexception-calls-to-setpersistenceenabled.\nI thought it is the startActivity() as I exclude it, the entire code works well, then i to try rearrange the class see whether or not I have the application class in it, eventually found that class isn&#39;t there.","body":"@dan1st thanks I found the way to do so. [link]<a href=\"https://stackoverflow.com/questions/37753991/com-google-firebase-database-databaseexception-calls-to-setpersistenceenabled\" title=\"com google firebase database databaseexception calls to setpersistenceenabled\">stackoverflow.com/questions/37753991/&hellip;</a>. I thought it is the startActivity() as I exclude it, the entire code works well, then i to try rearrange the class see whether or not I have the application class in it, eventually found that class isn&#39;t there."}],"owner":{"account_id":28130495,"reputation":1,"user_id":21495148,"display_name":"Voon Kok Wei"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679884797,"answer_count":0,"score":0,"last_activity_date":1679851023,"creation_date":1679851023,"question_id":75849344,"body_markdown":"I am quite new to Android Studio and also Java. The app that I currently developing is crashing when the user click on the &quot;Logout&quot;. I have edited my code several times. I have no idea now. I hope can get someone who is genius in programming to help.\r\n\r\nThis is my code for the drawer_menu:\r\n```\r\npackage com.example.sample_app;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.ActionBarDrawerToggle;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.core.view.GravityCompat;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\n\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.material.navigation.NavigationView;\r\nimport com.google.firebase.FirebaseApp;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\npublic class MainActivity  extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {\r\n\r\n    private DrawerLayout drawer;\r\n\r\n    private FirebaseUser user;\r\n    private DatabaseReference reference;\r\n\r\n    private String userID;\r\n\r\n    private TextView EmailTxtView, UIDTxtView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.sliding_nav);\r\n\r\n        // Initialize Firebase\r\n        FirebaseApp.initializeApp(this);\r\n        FirebaseDatabase.getInstance().setPersistenceEnabled(true);\r\n\r\n        Toolbar toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n\r\n        drawer = findViewById(R.id.drawer_layout);\r\n\r\n        NavigationView navigationView = findViewById(R.id.nav_view);\r\n        navigationView.setNavigationItemSelectedListener(this);\r\n\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawer, toolbar,\r\n                R.string.navigation_drawer_open, R.string.navigation_drawer_close);\r\n\r\n        drawer.addDrawerListener(toggle);\r\n        toggle.syncState();\r\n\r\n        // Get the header view from the NavigationView\r\n        View headerView = navigationView.getHeaderView(0);\r\n\r\n        //Initialised the parameter for Firebase\r\n        user = FirebaseAuth.getInstance().getCurrentUser();\r\n        reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\r\n        userID = user.getUid();\r\n\r\n        // Find the TextViews by their IDs\r\n        EmailTxtView = headerView.findViewById(R.id.email_username);\r\n        UIDTxtView = headerView.findViewById (R.id.uid);\r\n\r\n        reference.child(userID).addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                User userProfile = snapshot.getValue(User.class);\r\n\r\n                if (userProfile != null) {\r\n\r\n                    String email = userProfile.email;\r\n                    String UID = userProfile.username;\r\n\r\n                    EmailTxtView.setText(email);\r\n                    UIDTxtView.setText(UID);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(MainActivity.this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (drawer.isDrawerOpen(GravityCompat.START)) {\r\n            drawer.closeDrawer(GravityCompat.START);\r\n        } else {\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n        int itemId = item.getItemId();\r\n        if (itemId == R.id.tracking) {\r\n            getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, new FragmentTracking()).commit();\r\n        } else if (itemId == R.id.profile) {\r\n            getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, new FragmentProfile()).commit();\r\n        } else if (itemId == R.id.settings) {\r\n            getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, new FragmentSetting()).commit();\r\n        } else if (itemId == R.id.logout) {\r\n            Intent intent = new Intent(MainActivity.this,LoginUser.class);\r\n//            intent.putExtra(&quot;LOGOUT&quot;, true);\r\n            startActivity(intent);\r\n            finish();\r\n        }\r\n        drawer.closeDrawer(GravityCompat.START);\r\n        return true;\r\n    }\r\n\r\n}\r\n```\r\n[The image shows drawer with logout, when user click on it. the app crash.](https://i.stack.imgur.com/CFUm8.png)\r\n\r\n**and this is the error message.**\r\n\r\n```\r\nE  FATAL EXCEPTION: main\r\nProcess: com.example.sample_app, PID: 18145\r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.sample_app/com.example.sample_app.LoginUser}: com.google.firebase.database.DatabaseException: Calls to setPersistenceEnabled() must be made before any other usage of FirebaseDatabase instance.\r\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2778)\r\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856)\r\n    at android.app.ActivityThread.-wrap11(Unknown Source:0)\r\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\r\n    at android.os.Handler.dispatchMessage(Handler.java:106)\r\n    at android.os.Looper.loop(Looper.java:164)\r\n    at android.app.ActivityThread.main(ActivityThread.java:6494)\r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\r\nCaused by: com.google.firebase.database.DatabaseException: Calls to setPersistenceEnabled() must be made before any other usage of FirebaseDatabase instance.\r\n    at com.google.firebase.database.FirebaseDatabase.assertUnfrozen(FirebaseDatabase.java:332)\r\n    at com.google.firebase.database.FirebaseDatabase.setPersistenceEnabled(FirebaseDatabase.java:285)\r\n    at com.example.sample_app.LoginUser.onCreate(LoginUser.java:37)\r\n    at android.app.Activity.performCreate(Activity.java:7009)\r\n    at android.app.Activity.performCreate(Activity.java:7000)\r\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1214)\r\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2731)\r\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856) \r\n    at android.app.ActivityThread.-wrap11(Unknown Source:0) \r\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589) \r\n    at android.os.Handler.dispatchMessage(Handler.java:106) \r\n    at android.os.Looper.loop(Looper.java:164) \r\n    at android.app.ActivityThread.main(ActivityThread.java:6494) \r\n    at java.lang.reflect.Method.invoke(Native Method) \r\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438) \r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\r\n```\r\nThe other selection of fragment is working well only when the user starts to press on the Logout then the app crash\r\n\r\nI have also try with the &quot;startActivity(new Intent())&quot; method but still the same.\r\n\r\n\r\nThank you, for your effort is much appreciated. If you wish to have more details about the error, just let me know\r\n\r\nI have tried this:\r\n```\r\npublic class MyApp extends Application {\r\n    \r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        \r\n        // Enable Firebase database persistence\r\n        FirebaseDatabase.getInstance().setPersistenceEnabled(true);\r\n    }\r\n}\r\n\r\n//I have set this in my login screen\r\n\r\n```\r\nThis is because the error message did mention about the setPersistenceEnabled()\r\nShould I remove that or any other measures?","title":"App Crash when User Click on Logout in Emulator","body":"<p>I am quite new to Android Studio and also Java. The app that I currently developing is crashing when the user click on the &quot;Logout&quot;. I have edited my code several times. I have no idea now. I hope can get someone who is genius in programming to help.</p>\n<p>This is my code for the drawer_menu:</p>\n<pre><code>package com.example.sample_app;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.ActionBarDrawerToggle;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.Toolbar;\nimport androidx.core.view.GravityCompat;\nimport androidx.drawerlayout.widget.DrawerLayout;\n\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.google.android.material.navigation.NavigationView;\nimport com.google.firebase.FirebaseApp;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\npublic class MainActivity  extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {\n\n    private DrawerLayout drawer;\n\n    private FirebaseUser user;\n    private DatabaseReference reference;\n\n    private String userID;\n\n    private TextView EmailTxtView, UIDTxtView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.sliding_nav);\n\n        // Initialize Firebase\n        FirebaseApp.initializeApp(this);\n        FirebaseDatabase.getInstance().setPersistenceEnabled(true);\n\n        Toolbar toolbar = findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n\n        drawer = findViewById(R.id.drawer_layout);\n\n        NavigationView navigationView = findViewById(R.id.nav_view);\n        navigationView.setNavigationItemSelectedListener(this);\n\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawer, toolbar,\n                R.string.navigation_drawer_open, R.string.navigation_drawer_close);\n\n        drawer.addDrawerListener(toggle);\n        toggle.syncState();\n\n        // Get the header view from the NavigationView\n        View headerView = navigationView.getHeaderView(0);\n\n        //Initialised the parameter for Firebase\n        user = FirebaseAuth.getInstance().getCurrentUser();\n        reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\n        userID = user.getUid();\n\n        // Find the TextViews by their IDs\n        EmailTxtView = headerView.findViewById(R.id.email_username);\n        UIDTxtView = headerView.findViewById (R.id.uid);\n\n        reference.child(userID).addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n                User userProfile = snapshot.getValue(User.class);\n\n                if (userProfile != null) {\n\n                    String email = userProfile.email;\n                    String UID = userProfile.username;\n\n                    EmailTxtView.setText(email);\n                    UIDTxtView.setText(UID);\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                Toast.makeText(MainActivity.this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n    }\n\n    @Override\n    public void onBackPressed() {\n        if (drawer.isDrawerOpen(GravityCompat.START)) {\n            drawer.closeDrawer(GravityCompat.START);\n        } else {\n            super.onBackPressed();\n        }\n    }\n\n    @Override\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n        int itemId = item.getItemId();\n        if (itemId == R.id.tracking) {\n            getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, new FragmentTracking()).commit();\n        } else if (itemId == R.id.profile) {\n            getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, new FragmentProfile()).commit();\n        } else if (itemId == R.id.settings) {\n            getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, new FragmentSetting()).commit();\n        } else if (itemId == R.id.logout) {\n            Intent intent = new Intent(MainActivity.this,LoginUser.class);\n//            intent.putExtra(&quot;LOGOUT&quot;, true);\n            startActivity(intent);\n            finish();\n        }\n        drawer.closeDrawer(GravityCompat.START);\n        return true;\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/CFUm8.png\" rel=\"nofollow noreferrer\">The image shows drawer with logout, when user click on it. the app crash.</a></p>\n<p><strong>and this is the error message.</strong></p>\n<pre><code>E  FATAL EXCEPTION: main\nProcess: com.example.sample_app, PID: 18145\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.sample_app/com.example.sample_app.LoginUser}: com.google.firebase.database.DatabaseException: Calls to setPersistenceEnabled() must be made before any other usage of FirebaseDatabase instance.\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2778)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856)\n    at android.app.ActivityThread.-wrap11(Unknown Source:0)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.app.ActivityThread.main(ActivityThread.java:6494)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\nCaused by: com.google.firebase.database.DatabaseException: Calls to setPersistenceEnabled() must be made before any other usage of FirebaseDatabase instance.\n    at com.google.firebase.database.FirebaseDatabase.assertUnfrozen(FirebaseDatabase.java:332)\n    at com.google.firebase.database.FirebaseDatabase.setPersistenceEnabled(FirebaseDatabase.java:285)\n    at com.example.sample_app.LoginUser.onCreate(LoginUser.java:37)\n    at android.app.Activity.performCreate(Activity.java:7009)\n    at android.app.Activity.performCreate(Activity.java:7000)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1214)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2731)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856) \n    at android.app.ActivityThread.-wrap11(Unknown Source:0) \n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589) \n    at android.os.Handler.dispatchMessage(Handler.java:106) \n    at android.os.Looper.loop(Looper.java:164) \n    at android.app.ActivityThread.main(ActivityThread.java:6494) \n    at java.lang.reflect.Method.invoke(Native Method) \n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438) \n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n</code></pre>\n<p>The other selection of fragment is working well only when the user starts to press on the Logout then the app crash</p>\n<p>I have also try with the &quot;startActivity(new Intent())&quot; method but still the same.</p>\n<p>Thank you, for your effort is much appreciated. If you wish to have more details about the error, just let me know</p>\n<p>I have tried this:</p>\n<pre><code>public class MyApp extends Application {\n    \n    @Override\n    public void onCreate() {\n        super.onCreate();\n        \n        // Enable Firebase database persistence\n        FirebaseDatabase.getInstance().setPersistenceEnabled(true);\n    }\n}\n\n//I have set this in my login screen\n\n</code></pre>\n<p>This is because the error message did mention about the setPersistenceEnabled()\nShould I remove that or any other measures?</p>\n"},{"tags":["java","selenium-webdriver","appium-android","appium-java"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1679852322,"post_id":75849320,"comment_id":133791047,"body_markdown":"1) Your `getMobileAppDriver();` returns a value. Why don&#39;t you use that value in your `startDriver`? 2) Where does exception happen exactly? 3) And obvious question: don&#39;t you use your driver after calling `quit()`?","body":"1) Your <code>getMobileAppDriver();</code> returns a value. Why don&#39;t you use that value in your <code>startDriver</code>? 2) Where does exception happen exactly? 3) And obvious question: don&#39;t you use your driver after calling <code>quit()</code>?"},{"owner":{"account_id":25867958,"reputation":3,"user_id":19599273,"display_name":"Chandan Dash"},"score":0,"creation_date":1680001913,"post_id":75849320,"comment_id":133818524,"body_markdown":"Hi @AlexeyR. Thank you for your valuable time. Actually I&#39;m fresher in this field. Can you please help me with some line of code statement. I didn&#39;t get your point.","body":"Hi @AlexeyR. Thank you for your valuable time. Actually I&#39;m fresher in this field. Can you please help me with some line of code statement. I didn&#39;t get your point."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1680003344,"post_id":75849320,"comment_id":133818872,"body_markdown":"Well the problem is that the code you provided does not let us judge what the reason is. Since the error message is pretty much self-explanatory I suggest you first of all to check if you really use your driver after you have quit it. Try to put more logs so that you could test if the order of your logic parts is actually what you expect","body":"Well the problem is that the code you provided does not let us judge what the reason is. Since the error message is pretty much self-explanatory I suggest you first of all to check if you really use your driver after you have quit it. Try to put more logs so that you could test if the order of your logic parts is actually what you expect"}],"owner":{"account_id":25867958,"reputation":3,"user_id":19599273,"display_name":"Chandan Dash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679850854,"creation_date":1679850854,"question_id":75849320,"body_markdown":"I am getting the following error when using Selenium:\r\n\r\n```\r\norg.openqa.selenium.WebDriverException: org.openqa.selenium.NoSuchSessionException: Session ID is null. Using WebDriver after calling quit()?\r\nBuild info: version: &#39;4.8.2&#39;, revision: &#39;826dbfc730&#39;\r\nSystem info: os.name: &#39;Mac OS X&#39;, os.arch: &#39;aarch64&#39;, os.version: &#39;13.2.1&#39;, java.version: &#39;1.8.0_362&#39;\r\nDriver info: io.appium.java_client.android.AndroidDriver\r\nCommand: [null, findElement {using=xpath, value=//*[@text=&#39;Enter PIN&#39;]}]\r\nCapabilities {appium:app: /Users/chandan/Desktop/mobi..., appium:appActivity: com.comviva.mobiquityconsum..., appium:appPackage: com.comviva.mobiquity.consu..., appium:autoGrantPermissions: true, appium:automationName: UiAutomator2, appium:clearDeviceLogsOnStart: true, appium:databaseEnabled: false, appium:desired: {app: /Users/chandan/Desktop/mobi..., appActivity: com.comviva.mobiquityconsum..., appPackage: com.comviva.mobiquity.consu..., autoGrantPermissions: true, automationName: UiAutomator2, clearDeviceLogsOnStart: true, deviceName: Pixel5, eventTimings: true, ignoreHiddenApiPolicyError: true, newCommandTimeout: 30000, noReset: false, platformName: android, platformVersion: 12, udid: emulator-5554}, appium:deviceApiLevel: 31, appium:deviceManufacturer: Google, appium:deviceModel: sdk_gphone64_arm64, appium:deviceName: emulator-5554, appium:deviceScreenDensity: 440, appium:deviceScreenSize: 1080x2340, appium:deviceUDID: emulator-5554, appium:eventTimings: true, appium:ignoreHiddenApiPolicyError: true, appium:javascriptEnabled: true, appium:locationContextEnabled: false, appium:networkConnectionEnabled: true, appium:newCommandTimeout: 30000, appium:noReset: false, appium:pixelRatio: 2.75, appium:platformVersion: 12, appium:statBarHeight: 145, appium:takesScreenshot: true, appium:udid: emulator-5554, appium:viewportRect: {height: 1927, left: 0, top: 145, width: 1080}, appium:warnings: {}, appium:webStorageEnabled: false, platformName: ANDROID}\r\n```\r\n\r\nThis is my Test Class:\r\n\r\n\r\n       @AfterMethod\r\n        public void tearDown(){\r\n            DriverFactory.quitDriver();\r\n        }\r\n\r\n        @BeforeMethod\r\n        public void startDriver(){\r\n            DriverFactory.getMobileAppDriver();\r\n        }\r\n\r\n        @Test(priority = 1)\r\n        public void  InvalidLogin(){\r\n            ExtentManager.startTestFromProperty(pNode, TestCases.getTestCase(&quot;SMOKE_TC_07&quot;));\r\n            startPositveTest();\r\n            login.login(DataDriven.getUserByStatus(&quot;Y&quot;),&quot;1234&quot;);\r\n        }\r\n\r\n        @Test(priority = 2)\r\n        public  void  ElectricBill(){\r\n            ExtentManager.startTestFromProperty(pNode, TestCases.getTestCase(&quot;SMOKE_TC_02&quot;));\r\n            startPositveTest();\r\n            login.enterPin(DataDriven.getUserPinByStatus(&quot;Y&quot;));\r\n            billPay.electricityBillPay(&quot;50&quot;,&quot;OD23432123&quot;,DataDriven.getUserPinByStatus(&quot;Y&quot;));\r\n        }\r\n\r\n\r\nThis is my Driver Factory:\r\n\r\n```java\r\npublic class DriverFactory {\r\n\r\n    private static WebDriver driver;\r\n    private static AppiumDriver mobileDriver;\r\n    private static final Logger logger = LoggerFactory.getLogger(DriverFactory.class);\r\n\r\n\r\n\r\n    public static AppiumDriver getMobileAppDriver(){\r\n       try{\r\n           if(mobileDriver != null){\r\n               return mobileDriver;\r\n           }\r\n\r\n           if (MobileProperties.getProperty(&quot;device.platform&quot;).equalsIgnoreCase(&quot;android&quot;)) {\r\n               mobileDriver = MobileDriver.getAndroidDriver();\r\n               logger.info(&quot;Info :  &quot;);\r\n           }\r\n           else {\r\n               mobileDriver = MobileDriver.getIOSDriver();\r\n           }\r\n       }\r\n        catch (Exception e){\r\n           e.printStackTrace();\r\n        }\r\n        return mobileDriver;\r\n    }\r\n\r\n\r\n\r\n\r\n    public static void quitDriver() {\r\n        if (mobileDriver == null) {\r\n            return;\r\n        }\r\n        mobileDriver.quit();\r\n        mobileDriver = null;\r\n    }\r\n}\r\n```","title":"Getting Session ID is null. Using WebDriver after calling quit()?","body":"<p>I am getting the following error when using Selenium:</p>\n<pre><code>org.openqa.selenium.WebDriverException: org.openqa.selenium.NoSuchSessionException: Session ID is null. Using WebDriver after calling quit()?\nBuild info: version: '4.8.2', revision: '826dbfc730'\nSystem info: os.name: 'Mac OS X', os.arch: 'aarch64', os.version: '13.2.1', java.version: '1.8.0_362'\nDriver info: io.appium.java_client.android.AndroidDriver\nCommand: [null, findElement {using=xpath, value=//*[@text='Enter PIN']}]\nCapabilities {appium:app: /Users/chandan/Desktop/mobi..., appium:appActivity: com.comviva.mobiquityconsum..., appium:appPackage: com.comviva.mobiquity.consu..., appium:autoGrantPermissions: true, appium:automationName: UiAutomator2, appium:clearDeviceLogsOnStart: true, appium:databaseEnabled: false, appium:desired: {app: /Users/chandan/Desktop/mobi..., appActivity: com.comviva.mobiquityconsum..., appPackage: com.comviva.mobiquity.consu..., autoGrantPermissions: true, automationName: UiAutomator2, clearDeviceLogsOnStart: true, deviceName: Pixel5, eventTimings: true, ignoreHiddenApiPolicyError: true, newCommandTimeout: 30000, noReset: false, platformName: android, platformVersion: 12, udid: emulator-5554}, appium:deviceApiLevel: 31, appium:deviceManufacturer: Google, appium:deviceModel: sdk_gphone64_arm64, appium:deviceName: emulator-5554, appium:deviceScreenDensity: 440, appium:deviceScreenSize: 1080x2340, appium:deviceUDID: emulator-5554, appium:eventTimings: true, appium:ignoreHiddenApiPolicyError: true, appium:javascriptEnabled: true, appium:locationContextEnabled: false, appium:networkConnectionEnabled: true, appium:newCommandTimeout: 30000, appium:noReset: false, appium:pixelRatio: 2.75, appium:platformVersion: 12, appium:statBarHeight: 145, appium:takesScreenshot: true, appium:udid: emulator-5554, appium:viewportRect: {height: 1927, left: 0, top: 145, width: 1080}, appium:warnings: {}, appium:webStorageEnabled: false, platformName: ANDROID}\n</code></pre>\n<p>This is my Test Class:</p>\n<pre><code>   @AfterMethod\n    public void tearDown(){\n        DriverFactory.quitDriver();\n    }\n\n    @BeforeMethod\n    public void startDriver(){\n        DriverFactory.getMobileAppDriver();\n    }\n\n    @Test(priority = 1)\n    public void  InvalidLogin(){\n        ExtentManager.startTestFromProperty(pNode, TestCases.getTestCase(&quot;SMOKE_TC_07&quot;));\n        startPositveTest();\n        login.login(DataDriven.getUserByStatus(&quot;Y&quot;),&quot;1234&quot;);\n    }\n\n    @Test(priority = 2)\n    public  void  ElectricBill(){\n        ExtentManager.startTestFromProperty(pNode, TestCases.getTestCase(&quot;SMOKE_TC_02&quot;));\n        startPositveTest();\n        login.enterPin(DataDriven.getUserPinByStatus(&quot;Y&quot;));\n        billPay.electricityBillPay(&quot;50&quot;,&quot;OD23432123&quot;,DataDriven.getUserPinByStatus(&quot;Y&quot;));\n    }\n</code></pre>\n<p>This is my Driver Factory:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DriverFactory {\n\n    private static WebDriver driver;\n    private static AppiumDriver mobileDriver;\n    private static final Logger logger = LoggerFactory.getLogger(DriverFactory.class);\n\n\n\n    public static AppiumDriver getMobileAppDriver(){\n       try{\n           if(mobileDriver != null){\n               return mobileDriver;\n           }\n\n           if (MobileProperties.getProperty(&quot;device.platform&quot;).equalsIgnoreCase(&quot;android&quot;)) {\n               mobileDriver = MobileDriver.getAndroidDriver();\n               logger.info(&quot;Info :  &quot;);\n           }\n           else {\n               mobileDriver = MobileDriver.getIOSDriver();\n           }\n       }\n        catch (Exception e){\n           e.printStackTrace();\n        }\n        return mobileDriver;\n    }\n\n\n\n\n    public static void quitDriver() {\n        if (mobileDriver == null) {\n            return;\n        }\n        mobileDriver.quit();\n        mobileDriver = null;\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","boot"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1679846577,"post_id":75848808,"comment_id":133790059,"body_markdown":"What you describe sounds like business logic, not database constraint. It belongs to the service layer, not the database.","body":"What you describe sounds like business logic, not database constraint. It belongs to the service layer, not the database."}],"owner":{"account_id":24931076,"reputation":55,"user_id":18798172,"display_name":"vbnm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679850164,"creation_date":1679845540,"question_id":75848808,"body_markdown":"Simply, in one of my entities I want to require an attribute to be null if another attribute is null and reverse.\r\n\r\nSpecifically, I want a timeslot to require an employee if the activity is not null. And reverse, if there&#39;s no activity, employee should be null. \r\n\r\nAfter I saw that you can require uniqueness based on two attributes instead of one with:\r\n\r\n`@Table(uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;customer&quot;, &quot;timeslot&quot;})})\r\n`\r\n\r\nI thought it must be possible to do what I want to do as well. \r\n\r\nI just don&#39;t know how I specify it in JPA. ","title":"How to require an attribute to be null if another attribute is not, and require one to be not null if another is not null?","body":"<p>Simply, in one of my entities I want to require an attribute to be null if another attribute is null and reverse.</p>\n<p>Specifically, I want a timeslot to require an employee if the activity is not null. And reverse, if there's no activity, employee should be null.</p>\n<p>After I saw that you can require uniqueness based on two attributes instead of one with:</p>\n<p><code>@Table(uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;customer&quot;, &quot;timeslot&quot;})}) </code></p>\n<p>I thought it must be possible to do what I want to do as well.</p>\n<p>I just don't know how I specify it in JPA.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3290197,"reputation":8796,"user_id":3682067,"accept_rate":93,"display_name":"Saeed Masoumi"},"score":1,"creation_date":1431512935,"post_id":30212163,"comment_id":48528465,"body_markdown":"Did you add `android.permission.READ_PHONE_STATE` permission ?","body":"Did you add <code>android.permission.READ_PHONE_STATE</code> permission ?"},{"owner":{"account_id":2156954,"reputation":5870,"user_id":1911941,"accept_rate":100,"display_name":"ELITE"},"score":0,"creation_date":1431513135,"post_id":30212163,"comment_id":48528580,"body_markdown":"try `mTelephonyMgr.getDeviceId();` ...","body":"try <code>mTelephonyMgr.getDeviceId();</code> ..."},{"owner":{"account_id":3137094,"reputation":391,"user_id":2653396,"accept_rate":77,"display_name":"AndyB"},"score":0,"creation_date":1431513290,"post_id":30212163,"comment_id":48528672,"body_markdown":"`getDeviceID()` returns the IMEI, but I need the imsi","body":"<code>getDeviceID()</code> returns the IMEI, but I need the imsi"}],"answers":[{"tags":[],"owner":{"account_id":1674650,"reputation":5804,"user_id":1540456,"accept_rate":64,"display_name":"Atlas91"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1431513597,"creation_date":1431512967,"answer_id":30212196,"question_id":30212163,"body_markdown":"Did you add this permission in the manifest?\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n\r\nEdit:\r\nok, try use this one:\r\n\r\n    String myIMSI =\r\n    android.os.SystemProperties.get(android.telephony.TelephonyProperties.PROPERTY_IMSI);\r\n\r\nSystemProperties it&#39;s an hidden class. try to check here: https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/os/SystemProperties.java","title":"How to programmatically get the IMSI-Number in Android","body":"<p>Did you add this permission in the manifest?</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.READ_PHONE_STATE\" /&gt;\n</code></pre>\n\n<p>Edit:\nok, try use this one:</p>\n\n<pre><code>String myIMSI =\nandroid.os.SystemProperties.get(android.telephony.TelephonyProperties.PROPERTY_IMSI);\n</code></pre>\n\n<p>SystemProperties it's an hidden class. try to check here: <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/os/SystemProperties.java\" rel=\"nofollow\">https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/os/SystemProperties.java</a></p>\n"},{"tags":[],"owner":{"account_id":3980435,"reputation":3673,"user_id":3282461,"accept_rate":75,"display_name":"Ankit Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1431521497,"creation_date":1431512984,"answer_id":30212203,"question_id":30212163,"body_markdown":"    String imei = android.os.SystemProperties.get(android.telephony.TelephonyProperties.PROPERTY_IMSI);\r\n\r\nwith permission \r\n\r\n     android.permission.READ_PHONE_STATE\r\n\r\nSince SystemProperties is a hidden class in Android, you can access it with reflection:\r\n\r\n    /**\r\n     * Get the value for the given key.\r\n     * @return an empty string if the key isn&#39;t found\r\n     */\r\n    public static String get(Context context, String key) {\r\n        String ret = &quot;&quot;;\r\n\r\n        try {\r\n            ClassLoader cl = context.getClassLoader(); \r\n            @SuppressWarnings(&quot;rawtypes&quot;)\r\n            Class SystemProperties = cl.loadClass(&quot;android.os.SystemProperties&quot;);\r\n\r\n            //Parameters Types\r\n            @SuppressWarnings(&quot;rawtypes&quot;)\r\n            Class[] paramTypes= new Class[1];\r\n            paramTypes[0]= String.class;\r\n\r\n            Method get = SystemProperties.getMethod(&quot;get&quot;, paramTypes);\r\n\r\n            //Parameters\r\n            Object[] params = new Object[1];\r\n            params[0] = new String(key);\r\n\r\n            ret = (String) get.invoke(SystemProperties, params);\r\n        } catch(Exception e) {\r\n            ret = &quot;&quot;;\r\n            //TODO : Error handling\r\n        }\r\n\r\n        return ret;\r\n    }","title":"How to programmatically get the IMSI-Number in Android","body":"<pre><code>String imei = android.os.SystemProperties.get(android.telephony.TelephonyProperties.PROPERTY_IMSI);\n</code></pre>\n\n<p>with permission </p>\n\n<pre><code> android.permission.READ_PHONE_STATE\n</code></pre>\n\n<p>Since SystemProperties is a hidden class in Android, you can access it with reflection:</p>\n\n<pre><code>/**\n * Get the value for the given key.\n * @return an empty string if the key isn't found\n */\npublic static String get(Context context, String key) {\n    String ret = \"\";\n\n    try {\n        ClassLoader cl = context.getClassLoader(); \n        @SuppressWarnings(\"rawtypes\")\n        Class SystemProperties = cl.loadClass(\"android.os.SystemProperties\");\n\n        //Parameters Types\n        @SuppressWarnings(\"rawtypes\")\n        Class[] paramTypes= new Class[1];\n        paramTypes[0]= String.class;\n\n        Method get = SystemProperties.getMethod(\"get\", paramTypes);\n\n        //Parameters\n        Object[] params = new Object[1];\n        params[0] = new String(key);\n\n        ret = (String) get.invoke(SystemProperties, params);\n    } catch(Exception e) {\n        ret = \"\";\n        //TODO : Error handling\n    }\n\n    return ret;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13777272,"reputation":1,"user_id":9943311,"display_name":"djukazg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679848435,"creation_date":1679848435,"answer_id":75849093,"question_id":30212163,"body_markdown":"The following solution works only for system applications:\r\n```\r\n    private String getIMSI(){\r\n        telephonyManager = (TelephonyManager) getSystemService(this.TELEPHONY_SERVICE);\r\n        return telephonyManager.getSubscriberId();\r\n    }\r\n```\r\nIn AndroidManifest.xml add permissions:\r\n```\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PRIVILEGED_PHONE_STATE&quot; /&gt;\r\n```\r\nThe second permission is marked as system\r\n\r\nWorks in Android 9 (API 28).\r\n\r\n","title":"How to programmatically get the IMSI-Number in Android","body":"<p>The following solution works only for system applications:</p>\n<pre><code>    private String getIMSI(){\n        telephonyManager = (TelephonyManager) getSystemService(this.TELEPHONY_SERVICE);\n        return telephonyManager.getSubscriberId();\n    }\n</code></pre>\n<p>In AndroidManifest.xml add permissions:</p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_PRIVILEGED_PHONE_STATE&quot; /&gt;\n</code></pre>\n<p>The second permission is marked as system</p>\n<p>Works in Android 9 (API 28).</p>\n"}],"owner":{"account_id":3137094,"reputation":391,"user_id":2653396,"accept_rate":77,"display_name":"AndyB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14436,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":30212203,"answer_count":3,"score":4,"last_activity_date":1679848435,"creation_date":1431512855,"question_id":30212163,"body_markdown":"I tried the following code: \r\n\r\n    private String getImsi() {\r\n       TelephonyManager mTelephonyMgr = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);\r\n       return mTelephonyMgr.getSubscriberId();\r\n    }\r\n\r\n    &lt;uses-permission android:name=&#39;android.permission.READ_PHONE_STATE&#39; /&gt;\r\n\r\nBut it only returns null.&lt;br&gt;&lt;br&gt;\r\nIs there any other way to obtain the IMSI with java in android?\r\n","title":"How to programmatically get the IMSI-Number in Android","body":"<p>I tried the following code: </p>\n\n<pre><code>private String getImsi() {\n   TelephonyManager mTelephonyMgr = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);\n   return mTelephonyMgr.getSubscriberId();\n}\n\n&lt;uses-permission android:name='android.permission.READ_PHONE_STATE' /&gt;\n</code></pre>\n\n<p>But it only returns null.<br><br>\nIs there any other way to obtain the IMSI with java in android?</p>\n"},{"tags":["java","regex","spring-boot","spring-cloud","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":304453,"reputation":2007,"user_id":613960,"accept_rate":64,"display_name":"kishoredbn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678898116,"creation_date":1678898116,"answer_id":75747583,"question_id":75705715,"body_markdown":"Check the route URI configuration. \r\n\r\nYou have this:\r\n\r\n    uri: lb://admin\r\n\r\nchenge it to this:\r\n\r\n    uri: lb://","title":"SpringCloudGateway - routing issue with duplicate service name in URL","body":"<p>Check the route URI configuration.</p>\n<p>You have this:</p>\n<pre><code>uri: lb://admin\n</code></pre>\n<p>chenge it to this:</p>\n<pre><code>uri: lb://\n</code></pre>\n"},{"tags":[],"owner":{"account_id":87488,"reputation":743,"user_id":242587,"display_name":"stmi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679393795,"creation_date":1679393449,"answer_id":75799818,"question_id":75705715,"body_markdown":"The API gateway does a match on url prefix in this case `admin` and then redirects call to specified service which does a match on remaining url. `SpringCloudGateway` is unaware of internal routing of your service. You could replace `context-path: /admin` with `context-path: /tomato` and then you&#39;d need to inlcude `tomato` in url.\r\n\r\nSolution would be to drop the `admin` prefix on the implementing service configuration. From what you&#39;ve described it&#39;s intended to be used via API Gateway anyway, so service mappings without `admin` wouldn&#39;t be accessible anyway to consumers. Since default value is `/` just remove property `servlet.context-path` from `application.yaml`\r\n\r\nAs per Eureka discovery your service reports its name via following\r\nproperties (excerpt from documentation)\r\n\r\n&gt; The default application name\r\n&gt; (that is, the service ID), virtual host, and non-secure port (taken\r\n&gt; from the Environment) are ${spring.application.name},\r\n&gt; ${spring.application.name} and ${server.port}, respectively.\r\n\r\nhttps://cloud.spring.io/spring-cloud-netflix/multi/multi__service_discovery_eureka_clients.html","title":"SpringCloudGateway - routing issue with duplicate service name in URL","body":"<p>The API gateway does a match on url prefix in this case <code>admin</code> and then redirects call to specified service which does a match on remaining url. <code>SpringCloudGateway</code> is unaware of internal routing of your service. You could replace <code>context-path: /admin</code> with <code>context-path: /tomato</code> and then you'd need to inlcude <code>tomato</code> in url.</p>\n<p>Solution would be to drop the <code>admin</code> prefix on the implementing service configuration. From what you've described it's intended to be used via API Gateway anyway, so service mappings without <code>admin</code> wouldn't be accessible anyway to consumers. Since default value is <code>/</code> just remove property <code>servlet.context-path</code> from <code>application.yaml</code></p>\n<p>As per Eureka discovery your service reports its name via following\nproperties (excerpt from documentation)</p>\n<blockquote>\n<p>The default application name\n(that is, the service ID), virtual host, and non-secure port (taken\nfrom the Environment) are ${spring.application.name},\n${spring.application.name} and ${server.port}, respectively.</p>\n</blockquote>\n<p><a href=\"https://cloud.spring.io/spring-cloud-netflix/multi/multi__service_discovery_eureka_clients.html\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-netflix/multi/multi__service_discovery_eureka_clients.html</a></p>\n"},{"tags":[],"owner":{"account_id":17951472,"reputation":89,"user_id":16237195,"display_name":"Hazhir Ahmadzadeh"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1679831438,"creation_date":1679824792,"answer_id":75847019,"question_id":75705715,"body_markdown":"Firstly, you should alter the name of your admin service in both the `pom.xml` and `application.yml` files. Consider choosing a name like `admin-service` or something distinct from the name `admin`.\r\n\r\nAfter you have made this change, you should update the service name in the gateway to match the new name you have chosen for the admin service. By doing so, you will ensure that the predicate and service uri are distinct from one another.\r\n\r\nOnce you have made these changes, your gateway should be able to successfully route requests.\r\n\r\n##### admin service application.yml:\r\n\r\n```yaml\r\n    spring:\r\n      application:\r\n        name: admin-service\r\n```\r\n\r\n##### gateway service application.yml:\r\n\r\n```yaml\r\n    spring:\r\n      application:\r\n        name: gateway\r\n      cloud:\r\n        gateway:\r\n          discovery:\r\n            locator:\r\n              enabled: true\r\n              lower-case-service-id: true\r\n          routes:\r\n            - id: admin_route\r\n            uri: lb://admin-service\r\n            predicates:\r\n              - Path=/admin/**\r\n```","title":"SpringCloudGateway - routing issue with duplicate service name in URL","body":"<p>Firstly, you should alter the name of your admin service in both the <code>pom.xml</code> and <code>application.yml</code> files. Consider choosing a name like <code>admin-service</code> or something distinct from the name <code>admin</code>.</p>\n<p>After you have made this change, you should update the service name in the gateway to match the new name you have chosen for the admin service. By doing so, you will ensure that the predicate and service uri are distinct from one another.</p>\n<p>Once you have made these changes, your gateway should be able to successfully route requests.</p>\n<h5>admin service application.yml:</h5>\n<pre class=\"lang-yaml prettyprint-override\"><code>    spring:\n      application:\n        name: admin-service\n</code></pre>\n<h5>gateway service application.yml:</h5>\n<pre class=\"lang-yaml prettyprint-override\"><code>    spring:\n      application:\n        name: gateway\n      cloud:\n        gateway:\n          discovery:\n            locator:\n              enabled: true\n              lower-case-service-id: true\n          routes:\n            - id: admin_route\n            uri: lb://admin-service\n            predicates:\n              - Path=/admin/**\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16287950,"reputation":1194,"user_id":11762199,"display_name":"mhrsalehi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1679848401,"creation_date":1679848401,"answer_id":75849090,"question_id":75705715,"body_markdown":"the culprit is this config:\r\n\r\n      cloud:\r\n        gateway:\r\n          discovery:\r\n            locator:\r\n              enabled: true\r\n\r\nfrom [docs][1]:\r\n\r\n&gt; 8.2 DiscoveryClient Route Definition Locator The Gateway can be configured to create routes based on services registered with a\r\n&gt; DiscoveryClient compatible service registry.\r\n&gt; \r\n&gt; To enable this, set\r\n&gt; spring.cloud.gateway.discovery.locator.enabled=true and make sure a\r\n&gt; DiscoveryClient implementation is on the classpath and enabled (such\r\n&gt; as Netflix Eureka, Consul or Zookeeper).\r\n&gt; \r\n&gt; 8.2.1 Configuring Predicates and Filters For DiscoveryClient Routes By default the Gateway defines a single predicate and filter for routes\r\n&gt; created via a DiscoveryClient.\r\n&gt; \r\n&gt; The default predicate is a path predicate defined with the pattern\r\n&gt; /serviceId/**, where serviceId is the id of the service from the\r\n&gt; DiscoveryClient.\r\n&gt; \r\n&gt; The default filter is rewrite path filter with the regex\r\n&gt; /serviceId/(?&lt;remaining&gt;.*) and the replacement /${remaining}. This\r\n&gt; just strips the service id from the path before the request is sent\r\n&gt; downstream.\r\n\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-gateway/multi/multi__configuration.html#_discoveryclient_route_definition_locator\r\n\r\nso when you call the following URL:\r\n\r\n    http://localhost:&lt;GATEWAY_PORT&gt;/admin/system/employee/check \r\n\r\nthe gateway rewrite the path to `/system/employee/check`, because `admin` is the service name.\r\n\r\nwhen you call :\r\n\r\n    http://localhost:&lt;GATEWAY_PORT&gt;/admin/admin/system/employee/check \r\n\r\nthe gateway rewrite the path to `/admin/system/employee/check`, which is the correct one.","title":"SpringCloudGateway - routing issue with duplicate service name in URL","body":"<p>the culprit is this config:</p>\n<pre><code>  cloud:\n    gateway:\n      discovery:\n        locator:\n          enabled: true\n</code></pre>\n<p>from <a href=\"https://cloud.spring.io/spring-cloud-gateway/multi/multi__configuration.html#_discoveryclient_route_definition_locator\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<blockquote>\n<p>8.2 DiscoveryClient Route Definition Locator The Gateway can be configured to create routes based on services registered with a\nDiscoveryClient compatible service registry.</p>\n<p>To enable this, set\nspring.cloud.gateway.discovery.locator.enabled=true and make sure a\nDiscoveryClient implementation is on the classpath and enabled (such\nas Netflix Eureka, Consul or Zookeeper).</p>\n<p>8.2.1 Configuring Predicates and Filters For DiscoveryClient Routes By default the Gateway defines a single predicate and filter for routes\ncreated via a DiscoveryClient.</p>\n<p>The default predicate is a path predicate defined with the pattern\n/serviceId/**, where serviceId is the id of the service from the\nDiscoveryClient.</p>\n<p>The default filter is rewrite path filter with the regex\n/serviceId/(?.*) and the replacement /${remaining}. This\njust strips the service id from the path before the request is sent\ndownstream.</p>\n</blockquote>\n<p>so when you call the following URL:</p>\n<pre><code>http://localhost:&lt;GATEWAY_PORT&gt;/admin/system/employee/check \n</code></pre>\n<p>the gateway rewrite the path to <code>/system/employee/check</code>, because <code>admin</code> is the service name.</p>\n<p>when you call :</p>\n<pre><code>http://localhost:&lt;GATEWAY_PORT&gt;/admin/admin/system/employee/check \n</code></pre>\n<p>the gateway rewrite the path to <code>/admin/system/employee/check</code>, which is the correct one.</p>\n"}],"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":721,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75849090,"answer_count":4,"score":3,"last_activity_date":1679848401,"creation_date":1678546003,"question_id":75705715,"body_markdown":"I&#39;m trying to implement a `API-Gateway` service over our project using `Spring-Cloud-Gateway`.\r\n\r\nConsider that I have a service named `admin` and I&#39;m trying to configure it&#39;s route as below:\r\n\r\n    spring:\r\n      application:\r\n        name: gateway\r\n      cloud:\r\n        gateway:\r\n          discovery:\r\n            locator:\r\n              enabled: true\r\n              lower-case-service-id: true\r\n          routes:\r\n            - id: admin_route\r\n              uri: lb://admin\r\n              predicates:\r\n                - Path=/admin/**\r\nIt compiles successfully but there is just a problem!!\r\n\r\nI have an API on `admin` service with a URL like below that works fine without a gateway:\r\n\r\n    http://localhost:&lt;ADMIN_PORT&gt;/admin/system/employee/check\r\n\r\nBut when I want to call this API through `gateway` service, I have to duplicate the `admin` in the URL, like below, so that it works fine:\r\n\r\n    http://localhost:&lt;GATEWAY_PORT&gt;/admin/admin/system/employee/check \r\n\r\nDoes anybody have any idea or clue how to resolve this issue?\r\n\r\nAny help would be appreciated!!\r\n\r\n**Note: Spring-Boot 2.7.0,\r\nSoring-Cloud 2021.0.3,\r\nJava 1.8**\r\n\r\n\r\n******************** UPDATE ************************\r\n\r\nI have set `servlet-context-path` and `apllication.name` in admin&#39;s `application.yml` as below:\r\n\r\n    spring:\r\n      application:\r\n        name: admin\r\n    server:\r\n      port: &lt;ADMIN_PORT&gt;\r\n      servlet:\r\n        context-path: /admin\r\n\r\nI think that it is the reason why I need to duplicate the service name in the URL, But I couldn&#39;t find any configuration on `SpringCloudGateway` related to this topic!!\r\n\r\n******************** ATTENTION ************************\r\n\r\nI am not allowed to remove `servlet-context-path` which has been set to `/admin` from admin&#39;s `application.yml`, because I need them to call my services internally without getting help from `Gateway`!!\r\n\r\nSo I need the following URL:\r\n\r\n    http://localhost:&lt;GATEWAY_PORT&gt;/admin/system/employee/check\r\n\r\nto be routed to the following address:\r\n\r\n    http://localhost:&lt;ADMIN_PORT&gt;/admin/system/employee/check\r\n\r\nwithout `/admin` getting removed after routing!!\r\n\r\nStill, any help would be appreciated!!! :)) \r\n","title":"SpringCloudGateway - routing issue with duplicate service name in URL","body":"<p>I'm trying to implement a <code>API-Gateway</code> service over our project using <code>Spring-Cloud-Gateway</code>.</p>\n<p>Consider that I have a service named <code>admin</code> and I'm trying to configure it's route as below:</p>\n<pre><code>spring:\n  application:\n    name: gateway\n  cloud:\n    gateway:\n      discovery:\n        locator:\n          enabled: true\n          lower-case-service-id: true\n      routes:\n        - id: admin_route\n          uri: lb://admin\n          predicates:\n            - Path=/admin/**\n</code></pre>\n<p>It compiles successfully but there is just a problem!!</p>\n<p>I have an API on <code>admin</code> service with a URL like below that works fine without a gateway:</p>\n<pre><code>http://localhost:&lt;ADMIN_PORT&gt;/admin/system/employee/check\n</code></pre>\n<p>But when I want to call this API through <code>gateway</code> service, I have to duplicate the <code>admin</code> in the URL, like below, so that it works fine:</p>\n<pre><code>http://localhost:&lt;GATEWAY_PORT&gt;/admin/admin/system/employee/check \n</code></pre>\n<p>Does anybody have any idea or clue how to resolve this issue?</p>\n<p>Any help would be appreciated!!</p>\n<p><strong>Note: Spring-Boot 2.7.0,\nSoring-Cloud 2021.0.3,\nJava 1.8</strong></p>\n<p>******************** UPDATE ************************</p>\n<p>I have set <code>servlet-context-path</code> and <code>apllication.name</code> in admin's <code>application.yml</code> as below:</p>\n<pre><code>spring:\n  application:\n    name: admin\nserver:\n  port: &lt;ADMIN_PORT&gt;\n  servlet:\n    context-path: /admin\n</code></pre>\n<p>I think that it is the reason why I need to duplicate the service name in the URL, But I couldn't find any configuration on <code>SpringCloudGateway</code> related to this topic!!</p>\n<p>******************** ATTENTION ************************</p>\n<p>I am not allowed to remove <code>servlet-context-path</code> which has been set to <code>/admin</code> from admin's <code>application.yml</code>, because I need them to call my services internally without getting help from <code>Gateway</code>!!</p>\n<p>So I need the following URL:</p>\n<pre><code>http://localhost:&lt;GATEWAY_PORT&gt;/admin/system/employee/check\n</code></pre>\n<p>to be routed to the following address:</p>\n<pre><code>http://localhost:&lt;ADMIN_PORT&gt;/admin/system/employee/check\n</code></pre>\n<p>without <code>/admin</code> getting removed after routing!!</p>\n<p>Still, any help would be appreciated!!! :))</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"score":1,"creation_date":1679723723,"post_id":75838293,"comment_id":133775728,"body_markdown":"Can you please share the build.gradle file?","body":"Can you please share the build.gradle file?"},{"owner":{"account_id":22651,"reputation":13651,"user_id":56076,"accept_rate":72,"display_name":"Don Branson"},"score":0,"creation_date":1680013645,"post_id":75838293,"comment_id":133821950,"body_markdown":"I see the same issue. The app seems to run, but with this error message. There&#39;s a [Closed issue](https://github.com/koreader/koreader/issues/9891) which has a link to this [Open issue](https://github.com/koreader/koreader/issues/9867).","body":"I see the same issue. The app seems to run, but with this error message. There&#39;s a <a href=\"https://github.com/koreader/koreader/issues/9891\" rel=\"nofollow noreferrer\">Closed issue</a> which has a link to this <a href=\"https://github.com/koreader/koreader/issues/9867\" rel=\"nofollow noreferrer\">Open issue</a>."},{"owner":{"account_id":1395119,"reputation":780,"user_id":1325048,"accept_rate":33,"display_name":"d.aemon"},"score":0,"creation_date":1682590291,"post_id":75838293,"comment_id":134241278,"body_markdown":"@Bob please don&#39;t use links to resources that no longer exist. If you need an answer to your question, helpers should be able to reach all the information you provide. The link to build.gradle no longer works.","body":"@Bob please don&#39;t use links to resources that no longer exist. If you need an answer to your question, helpers should be able to reach all the information you provide. The link to build.gradle no longer works."}],"owner":{"account_id":28117997,"reputation":41,"user_id":21484738,"display_name":"Bob"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2682,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1679848158,"creation_date":1679693810,"question_id":75838293,"body_markdown":"I created an application in android studio, the strange part is that the application works perfectly on the emulator, but when I press a certain button, the application crashes on the real phone.\r\n\r\nLogcat:\r\n\r\n&gt; E/BufferQueueProducer: Unable to open libpenguin.so: dlopen failed: library &quot;libpenguin.so&quot; not found.\r\njava.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n\r\nThank you in advance!","title":"App works on emulator but crashes on real phone","body":"<p>I created an application in android studio, the strange part is that the application works perfectly on the emulator, but when I press a certain button, the application crashes on the real phone.</p>\n<p>Logcat:</p>\n<blockquote>\n<p>E/BufferQueueProducer: Unable to open libpenguin.so: dlopen failed: library &quot;libpenguin.so&quot; not found.\njava.lang.IndexOutOfBoundsException: Index: 0, Size: 0</p>\n</blockquote>\n<p>Thank you in advance!</p>\n"},{"tags":["java","spring-boot","hibernate","transient"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1679848429,"post_id":75848989,"comment_id":133790374,"body_markdown":"What is this use case like? Because if it is a business logic then it belongs in the service class rather then the entity.","body":"What is this use case like? Because if it is a business logic then it belongs in the service class rather then the entity."}],"owner":{"account_id":13249424,"reputation":61,"user_id":9567391,"display_name":"PankajTekwani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679847429,"creation_date":1679847429,"question_id":75848989,"body_markdown":"I have an usecase where I want to do some processing before inserting data into DB via hibernate. This metadata I dont want to persist in DB but is required for processing just before inserting.\r\n\r\nUsually we do it through two ways:\r\n1. @PrePersist Callback\r\n2. Hibernate Interceptor OnSave()\r\n\r\nI tried to annotate the attribute with @Transient to make it not persistent in DB but that attribute value becomes null in callback or interceptor (may be because Serialization process removes them).\r\n\r\nThese are my classes:\r\n\r\n```\r\nclass Entity {\r\n\r\n@Id\r\nprivate int id;\r\n\r\n@Column\r\nprivate String name;\r\n\r\n@Transient\r\nprivate Metadata metadata;\r\n\r\n\r\n@PrePersist\r\nvoid onCreate() {\r\n        log.info(&quot;create&quot;);\r\n//      Some Processing required based on metadata. But this field is null because its \r\n//      marked as Transient (which is required because I dont want to persist it). I cant\r\n//      make it static either, because its value will differ for each instance.\r\n}\r\n\r\n\r\n```\r\n\r\nSame thing happens in hibernate interceptor, this metadata comes out to be null in onSave() method.","title":"To pass data to entity lifecycle callbacks or interceptor","body":"<p>I have an usecase where I want to do some processing before inserting data into DB via hibernate. This metadata I dont want to persist in DB but is required for processing just before inserting.</p>\n<p>Usually we do it through two ways:</p>\n<ol>\n<li>@PrePersist Callback</li>\n<li>Hibernate Interceptor OnSave()</li>\n</ol>\n<p>I tried to annotate the attribute with @Transient to make it not persistent in DB but that attribute value becomes null in callback or interceptor (may be because Serialization process removes them).</p>\n<p>These are my classes:</p>\n<pre><code>class Entity {\n\n@Id\nprivate int id;\n\n@Column\nprivate String name;\n\n@Transient\nprivate Metadata metadata;\n\n\n@PrePersist\nvoid onCreate() {\n        log.info(&quot;create&quot;);\n//      Some Processing required based on metadata. But this field is null because its \n//      marked as Transient (which is required because I dont want to persist it). I cant\n//      make it static either, because its value will differ for each instance.\n}\n\n\n</code></pre>\n<p>Same thing happens in hibernate interceptor, this metadata comes out to be null in onSave() method.</p>\n"},{"tags":["java","if-statement","combinations"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1679779423,"post_id":75844593,"comment_id":133782878,"body_markdown":"Please post code as text, not images.","body":"Please post code as text, not images."},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":2,"creation_date":1679779673,"post_id":75844593,"comment_id":133782912,"body_markdown":"First thing that comes to mind: don&#39;t use `== true` or `== false`. Directly check `if (thicknessIsGood)` or `if (!thicknessIsGood)`.","body":"First thing that comes to mind: don&#39;t use <code>== true</code> or <code>== false</code>. Directly check <code>if (thicknessIsGood)</code> or <code>if (!thicknessIsGood)</code>."},{"owner":{"account_id":5240687,"reputation":1727,"user_id":4187837,"accept_rate":86,"display_name":"Gavin"},"score":0,"creation_date":1679780266,"post_id":75844593,"comment_id":133782986,"body_markdown":"There are a number of possibilities here. You could use a switch statement (or expression) rather than if statements.  You can use a `Function ` for each “test”, store the functions in a list and stream through the list using a filter with each input value.","body":"There are a number of possibilities here. You could use a switch statement (or expression) rather than if statements.  You can use a <code>Function </code> for each “test”, store the functions in a list and stream through the list using a filter with each input value."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1679793605,"post_id":75844593,"comment_id":133784248,"body_markdown":"Poor title. Rewrite to summarize your specific technical issue.","body":"Poor title. Rewrite to summarize your specific technical issue."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679779897,"creation_date":1679779897,"answer_id":75844639,"question_id":75844593,"body_markdown":"This doesn&#39;t produce the exact same output, but you could report each dimension that doesn&#39;t meet the standards.\r\n\r\n```java\r\nif (thicknessIsGood &amp;&amp; widthIsGood &amp;&amp; lengthIsGood) {\r\n\tlumberReport = &quot;Lumber dimensions meet tolerance standards of 0.03125 inches&quot;;\r\n} else {\r\n\tlumberReport = &quot;Lumber dimensions are not within tolerance.&quot;;\r\n\tif (!thicknessIsGood) lumberReport += &quot; Thickness exceeds tolerance of 0.03125 inches.&quot;;\r\n\tif (!widthIsGood) lumberReport += &quot; Width exceeds tolerance of 0.03125 inches.&quot;;\r\n\tif (!lengthIsGood) lumberReport += &quot; Length exceeds tolerance of 0.03125 inches.&quot;;\r\n}\r\n```","title":"Better technique for this?","body":"<p>This doesn't produce the exact same output, but you could report each dimension that doesn't meet the standards.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (thicknessIsGood &amp;&amp; widthIsGood &amp;&amp; lengthIsGood) {\n    lumberReport = &quot;Lumber dimensions meet tolerance standards of 0.03125 inches&quot;;\n} else {\n    lumberReport = &quot;Lumber dimensions are not within tolerance.&quot;;\n    if (!thicknessIsGood) lumberReport += &quot; Thickness exceeds tolerance of 0.03125 inches.&quot;;\n    if (!widthIsGood) lumberReport += &quot; Width exceeds tolerance of 0.03125 inches.&quot;;\n    if (!lengthIsGood) lumberReport += &quot; Length exceeds tolerance of 0.03125 inches.&quot;;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679780206,"creation_date":1679780206,"answer_id":75844664,"question_id":75844593,"body_markdown":"I would use a number as a bitmap where 1 and 0 stand for `true` and `false` respectively and respective constants in a switch-case:\r\n\r\n```\r\nint mask = ( thicknessIsGood ? 4 : 0 ) | ( widthIsGood ? 2 : 0 ) | ( lengthIsGood ? 1 : 0 );\r\n\r\nswitch( mask ){\r\n  case 7: // 111 binary\r\n   lumberReport = &quot;Lumber dimensions meet tolerance standards of 0.03125 inches&quot;;\r\n   break;\r\n\r\n  case 0: // 000 bin\r\n    lumberReport = &quot;Lumber dimensions are not within tolerance. All dimensions exceed tolerance of 0.03125 inches.&quot;;\r\n    break;\r\n  \r\n  case 3: // 011 bin\r\n    lumberReport = &quot;Lumber dimensions are not within tolerance. Thickness exceeds tolerance of 0.03125 inches.&quot;;\r\n    break;\r\n\r\n  // other cases\r\n\r\n  default:\r\n    lumberReport = &quot;Lumber dimensions are not within tolerance. Two dimensions exceed tolerance of 0.03125 inches.&quot;;   \r\n}\r\n```","title":"Better technique for this?","body":"<p>I would use a number as a bitmap where 1 and 0 stand for <code>true</code> and <code>false</code> respectively and respective constants in a switch-case:</p>\n<pre><code>int mask = ( thicknessIsGood ? 4 : 0 ) | ( widthIsGood ? 2 : 0 ) | ( lengthIsGood ? 1 : 0 );\n\nswitch( mask ){\n  case 7: // 111 binary\n   lumberReport = &quot;Lumber dimensions meet tolerance standards of 0.03125 inches&quot;;\n   break;\n\n  case 0: // 000 bin\n    lumberReport = &quot;Lumber dimensions are not within tolerance. All dimensions exceed tolerance of 0.03125 inches.&quot;;\n    break;\n  \n  case 3: // 011 bin\n    lumberReport = &quot;Lumber dimensions are not within tolerance. Thickness exceeds tolerance of 0.03125 inches.&quot;;\n    break;\n\n  // other cases\n\n  default:\n    lumberReport = &quot;Lumber dimensions are not within tolerance. Two dimensions exceed tolerance of 0.03125 inches.&quot;;   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679847124,"creation_date":1679783195,"answer_id":75844865,"question_id":75844593,"body_markdown":"With a little rearranging you can report which dimensions are not met.\r\n- first store the messages in an array.\r\n- then set the index to 0.\r\n- set to 1 if width is bad\r\n- add 2 if length is bad\r\n- add 4 if thickness is bad.\r\n\r\nHere is how the index sums up.\r\n```\r\n// goodWidth + goodLength + goodthickness == 0\r\n// badWidth  + goodLength + goodthickness == 1\r\n// goodWidth + badLength  + goodthickness == 2\r\n// badWidth  + badLength  + goodthickness == 3\r\n// goodWidth + goodLength + badthickness  == 4\r\n// badWidth  + goodLength + badthickness  == 5\r\n// goodWidth + badLength  + badthickness  == 6\r\n// badWidth  + badLength  + badthickness  == 7\r\n```\r\nYou have eight messages and the values in various combinations will create the appropriate index for the message and return it.\r\n```\r\n private static String[] msgs = {\r\n         &quot;Lumber dimensions meet tolerance standards of 0.03125 inches&quot;,\r\n         &quot;Lumber dimensions are not within tolerance.\\nWidth exceeds tolerance of 0.03125 inches.&quot;,\r\n         &quot;Lumber dimensions are not within tolerance.\\nLength exceeds tolerance of 0.03125 inches.&quot;,\r\n         &quot;Lumber dimensions are not within tolerance.\\nWidth and length exceeds tolerance of 0.03125 inches.&quot;,\r\n         &quot;Lumber dimensions are not within tolerance.\\nThickness exceeds tolerance of 0.03125 inches.&quot;,\r\n         &quot;Lumber dimensions are not within tolerance.\\nWidth and thickness exceeds tolerance of 0.03125 inches.&quot;,\r\n         &quot;Lumber dimensions are not within tolerance.\\nLength and thickness exceeds tolerance of 0.03125 inches.&quot;,\r\n         &quot;Lumber dimensions are not within tolerance.\\nAll dimensions exceed tolerance of 0.03125 inches.&quot;};\r\n\r\nSystem.out.println(getMessage(true, false, false));\r\n```\r\nprints\r\n```\r\nLumber dimensions are not within tolerance.\r\nLength and thickness exceeds tolerance of 0.03125 inches.\r\n```\r\nThe method\r\n```\r\npublic static String getMessage(boolean widthIsGood, boolean lengthIsGood, boolean thicknessIsGood) {\r\n    int index = widthIsGood ? 0 : 1;\r\n    if (!lengthIsGood) {\r\n        index +=2;\r\n    }\r\n    if(!thicknessIsGood) {\r\n        index += 4;\r\n    }\r\n}\r\n```\r\n\r\n","title":"Better technique for this?","body":"<p>With a little rearranging you can report which dimensions are not met.</p>\n<ul>\n<li>first store the messages in an array.</li>\n<li>then set the index to 0.</li>\n<li>set to 1 if width is bad</li>\n<li>add 2 if length is bad</li>\n<li>add 4 if thickness is bad.</li>\n</ul>\n<p>Here is how the index sums up.</p>\n<pre><code>// goodWidth + goodLength + goodthickness == 0\n// badWidth  + goodLength + goodthickness == 1\n// goodWidth + badLength  + goodthickness == 2\n// badWidth  + badLength  + goodthickness == 3\n// goodWidth + goodLength + badthickness  == 4\n// badWidth  + goodLength + badthickness  == 5\n// goodWidth + badLength  + badthickness  == 6\n// badWidth  + badLength  + badthickness  == 7\n</code></pre>\n<p>You have eight messages and the values in various combinations will create the appropriate index for the message and return it.</p>\n<pre><code> private static String[] msgs = {\n         &quot;Lumber dimensions meet tolerance standards of 0.03125 inches&quot;,\n         &quot;Lumber dimensions are not within tolerance.\\nWidth exceeds tolerance of 0.03125 inches.&quot;,\n         &quot;Lumber dimensions are not within tolerance.\\nLength exceeds tolerance of 0.03125 inches.&quot;,\n         &quot;Lumber dimensions are not within tolerance.\\nWidth and length exceeds tolerance of 0.03125 inches.&quot;,\n         &quot;Lumber dimensions are not within tolerance.\\nThickness exceeds tolerance of 0.03125 inches.&quot;,\n         &quot;Lumber dimensions are not within tolerance.\\nWidth and thickness exceeds tolerance of 0.03125 inches.&quot;,\n         &quot;Lumber dimensions are not within tolerance.\\nLength and thickness exceeds tolerance of 0.03125 inches.&quot;,\n         &quot;Lumber dimensions are not within tolerance.\\nAll dimensions exceed tolerance of 0.03125 inches.&quot;};\n\nSystem.out.println(getMessage(true, false, false));\n</code></pre>\n<p>prints</p>\n<pre><code>Lumber dimensions are not within tolerance.\nLength and thickness exceeds tolerance of 0.03125 inches.\n</code></pre>\n<p>The method</p>\n<pre><code>public static String getMessage(boolean widthIsGood, boolean lengthIsGood, boolean thicknessIsGood) {\n    int index = widthIsGood ? 0 : 1;\n    if (!lengthIsGood) {\n        index +=2;\n    }\n    if(!thicknessIsGood) {\n        index += 4;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15249039,"reputation":1,"user_id":11003058,"display_name":"fourth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1679847124,"creation_date":1679779407,"question_id":75844593,"body_markdown":"I have a Java program and I use Eclipse. My program takes in 3 values and has 3 expected values, and it decides which values are out of tolerance. I need to print which values are out of tolerance. It could be just value 1, all of them, etc. Right now I have a bunch of else if statements to cover all combinations of values that are out of tolerance. \r\nIs there a better way to do this?\r\nThx!\r\n\r\nThis program works just fine the way it is. It just seems like bad code.\r\n\r\nCurrent code:\r\n\r\n\t\tif (thicknessIsGood == true &amp;&amp; widthIsGood == true &amp;&amp; lengthIsGood == true) {\r\n\t\t\tlumberReport = &quot;Lumber dimensions meet tolerance standards of 0.03125 inches&quot;;\r\n\t\t}\r\n\t\t//check if all dimensions are within tolerance\r\n\t\telse if (thicknessIsGood == false &amp;&amp; widthIsGood == false &amp;&amp; lengthIsGood == false) {\r\n\t\t\tlumberReport = &quot;Lumber dimensions are not within tolerance. All dimensions exceed tolerance of 0.03125 inches.&quot;;\r\n\t\t}\r\n\t\t//check if thickness is bad\r\n\t\telse if (thicknessIsGood == false &amp;&amp; widthIsGood == true &amp;&amp; lengthIsGood == true) {\r\n\t\t\tlumberReport = &quot;Lumber dimensions are not within tolerance. Thickness exceeds tolerance of 0.03125 inches.&quot;;\r\n\t\t}\r\n\t\t//check if width is bad\r\n\t\telse if (thicknessIsGood == true &amp;&amp; widthIsGood == false &amp;&amp; lengthIsGood == true) {\r\n\t\t\tlumberReport = &quot;Lumber dimensions are not within tolerance. Width exceeds tolerance of 0.03125 inches.&quot;;\r\n\t\t}\r\n\t\t//check if length is bad\r\n\t\telse if (thicknessIsGood == true &amp;&amp; widthIsGood == true &amp;&amp; lengthIsGood == false) {\r\n\t\t\tlumberReport = &quot;Lumber dimensions are not within tolerance. Length exceeds tolerance of 0.03125 inches.&quot;;\r\n\t\t}\r\n\t\t//to cover all bases in lieu of 6 more else if statements (if this is wrong, please let me know\r\n\t\telse { \r\n\t\t\tlumberReport = &quot;Lumber dimensions are not within tolerance. Two dimensions exceed tolerance of 0.03125 inches.&quot;;\r\n\t\t}","title":"Better technique for this?","body":"<p>I have a Java program and I use Eclipse. My program takes in 3 values and has 3 expected values, and it decides which values are out of tolerance. I need to print which values are out of tolerance. It could be just value 1, all of them, etc. Right now I have a bunch of else if statements to cover all combinations of values that are out of tolerance.\nIs there a better way to do this?\nThx!</p>\n<p>This program works just fine the way it is. It just seems like bad code.</p>\n<p>Current code:</p>\n<pre><code>    if (thicknessIsGood == true &amp;&amp; widthIsGood == true &amp;&amp; lengthIsGood == true) {\n        lumberReport = &quot;Lumber dimensions meet tolerance standards of 0.03125 inches&quot;;\n    }\n    //check if all dimensions are within tolerance\n    else if (thicknessIsGood == false &amp;&amp; widthIsGood == false &amp;&amp; lengthIsGood == false) {\n        lumberReport = &quot;Lumber dimensions are not within tolerance. All dimensions exceed tolerance of 0.03125 inches.&quot;;\n    }\n    //check if thickness is bad\n    else if (thicknessIsGood == false &amp;&amp; widthIsGood == true &amp;&amp; lengthIsGood == true) {\n        lumberReport = &quot;Lumber dimensions are not within tolerance. Thickness exceeds tolerance of 0.03125 inches.&quot;;\n    }\n    //check if width is bad\n    else if (thicknessIsGood == true &amp;&amp; widthIsGood == false &amp;&amp; lengthIsGood == true) {\n        lumberReport = &quot;Lumber dimensions are not within tolerance. Width exceeds tolerance of 0.03125 inches.&quot;;\n    }\n    //check if length is bad\n    else if (thicknessIsGood == true &amp;&amp; widthIsGood == true &amp;&amp; lengthIsGood == false) {\n        lumberReport = &quot;Lumber dimensions are not within tolerance. Length exceeds tolerance of 0.03125 inches.&quot;;\n    }\n    //to cover all bases in lieu of 6 more else if statements (if this is wrong, please let me know\n    else { \n        lumberReport = &quot;Lumber dimensions are not within tolerance. Two dimensions exceed tolerance of 0.03125 inches.&quot;;\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-security"],"owner":{"account_id":11568164,"reputation":11,"user_id":8475704,"display_name":"Akovi W."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1679846987,"creation_date":1679846355,"question_id":75848882,"body_markdown":"Sessions appear to remain active after logout. I&#39;m using Spring 5 and I defined my security configuration as:\r\n```\r\n &lt;session-management invalid-session-url=&quot;/invalid-session&quot; session-fixation-protection=&quot;none&quot;&gt;\r\n      &lt;concurrency-control max-sessions=&quot;1&quot; error-if-maximum-exceeded=&quot;true&quot; \r\n         expired-url=&quot;/expired-session&quot; session-registry-alias=&quot;sessionRegistry&quot;/&gt;\r\n  &lt;/session-management&gt;\r\n        \r\n  &lt;logout logout-url=&quot;/logout&quot;\r\n           delete-cookies=&quot;JSESSIONID&quot; \r\n           logout-success-url=&quot;/index&quot;\r\n           invalidate-session=&quot;true&quot;/&gt;\r\n```\r\nThe logout button in my application is targeting /logout which appears to work fine. The logic returning the active sessions in my controller is:\r\n\r\n```\r\nsessionRegistry.getAllPrincipals().stream()\r\n      .filter(p -&gt; p instanceof PrincipalImpl)\r\n      .filter(p -&gt; !sessionRegistry.getAllSessions(p, false).isEmpty())\r\n      .map(Object::toString)\r\n      .collect(Collectors.toList());\r\n```\r\nAs result, sessions appear to remain active after logout even after many days.\r\n\r\nI spent many days and weeks trying to solve it reading different kind of Spring security tutorials.","title":"Spring mvc sessions remained active after logout","body":"<p>Sessions appear to remain active after logout. I'm using Spring 5 and I defined my security configuration as:</p>\n<pre><code> &lt;session-management invalid-session-url=&quot;/invalid-session&quot; session-fixation-protection=&quot;none&quot;&gt;\n      &lt;concurrency-control max-sessions=&quot;1&quot; error-if-maximum-exceeded=&quot;true&quot; \n         expired-url=&quot;/expired-session&quot; session-registry-alias=&quot;sessionRegistry&quot;/&gt;\n  &lt;/session-management&gt;\n        \n  &lt;logout logout-url=&quot;/logout&quot;\n           delete-cookies=&quot;JSESSIONID&quot; \n           logout-success-url=&quot;/index&quot;\n           invalidate-session=&quot;true&quot;/&gt;\n</code></pre>\n<p>The logout button in my application is targeting /logout which appears to work fine. The logic returning the active sessions in my controller is:</p>\n<pre><code>sessionRegistry.getAllPrincipals().stream()\n      .filter(p -&gt; p instanceof PrincipalImpl)\n      .filter(p -&gt; !sessionRegistry.getAllSessions(p, false).isEmpty())\n      .map(Object::toString)\n      .collect(Collectors.toList());\n</code></pre>\n<p>As result, sessions appear to remain active after logout even after many days.</p>\n<p>I spent many days and weeks trying to solve it reading different kind of Spring security tutorials.</p>\n"},{"tags":["java","swing","mdi","jinternalframe","jdesktoppane"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1679846861,"creation_date":1324096693,"answer_id":8542622,"question_id":8542609,"body_markdown":"Make a `List&lt;JInternalFrame&gt;` and check [`isSelected()`][1] as you iterate though it.\r\n\r\nAddendum: See also these [examples][2] that use `Action` to select an internal frame from a menu.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/javax/swing/JInternalFrame.html#isSelected%28%29\r\n  [2]: https://stackoverflow.com/search?q=user%3A230513+%5Bswing%5D+Action+JInternalFrame","title":"JDesktopPane - how to get active frame","body":"<p>Make a <code>List&lt;JInternalFrame&gt;</code> and check <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JInternalFrame.html#isSelected%28%29\" rel=\"nofollow noreferrer\"><code>isSelected()</code></a> as you iterate though it.</p>\n<p>Addendum: See also these <a href=\"https://stackoverflow.com/search?q=user%3A230513+%5Bswing%5D+Action+JInternalFrame\">examples</a> that use <code>Action</code> to select an internal frame from a menu.</p>\n"},{"tags":[],"owner":{"account_id":48120,"reputation":93879,"user_id":142822,"display_name":"KV Prajapati"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1324096836,"creation_date":1324096836,"answer_id":8542629,"question_id":8542609,"body_markdown":"Use [JDekstopPane.getSelectedFrame()][1]  method (*From doc: currently active JInternalFrame in this JDesktopPane, or null if no JInternalFrame is currently active.*) or  `JDesktopPane.getAllFrames()` to get list of all `JInternalFrames` currently displayed in the desktop and check `isSelected()` method.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/javax/swing/JDesktopPane.html","title":"JDesktopPane - how to get active frame","body":"<p>Use <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JDesktopPane.html\" rel=\"noreferrer\">JDekstopPane.getSelectedFrame()</a>  method (<em>From doc: currently active JInternalFrame in this JDesktopPane, or null if no JInternalFrame is currently active.</em>) or  <code>JDesktopPane.getAllFrames()</code> to get list of all <code>JInternalFrames</code> currently displayed in the desktop and check <code>isSelected()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1324099948,"creation_date":1324097304,"answer_id":8542659,"question_id":8542609,"body_markdown":"Have you looked at the Java tutorial titled [How to Use Internal Frames][1]?  In your code you need an `InternalFrameListener` ([API][2]) ([Tutorial][3]) and listen to activate/deactivate events.  Activated means the internal frame was brought to the top; deactivated means it&#39;s no longer on top.  Since `JDesktopPane` extends `JLayeredPane` you can also set the z-order of components added to it. \r\n\r\nDon&#39;t iterate over all the panes - use events.\r\n\r\nIf for some reason you prefer to poll your UI rather than use an event-driven approach you can call `getSelectedFrame` which returns the active `JInternalFrame`.  I&#39;m not sure why no one else mentioned it.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/components/internalframe.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/javax/swing/event/InternalFrameListener.html\r\n  [3]: http://docs.oracle.com/javase/tutorial/uiswing/events/internalframelistener.html","title":"JDesktopPane - how to get active frame","body":"<p>Have you looked at the Java tutorial titled <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/internalframe.html\" rel=\"nofollow\">How to Use Internal Frames</a>?  In your code you need an <code>InternalFrameListener</code> (<a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/event/InternalFrameListener.html\" rel=\"nofollow\">API</a>) (<a href=\"http://docs.oracle.com/javase/tutorial/uiswing/events/internalframelistener.html\" rel=\"nofollow\">Tutorial</a>) and listen to activate/deactivate events.  Activated means the internal frame was brought to the top; deactivated means it's no longer on top.  Since <code>JDesktopPane</code> extends <code>JLayeredPane</code> you can also set the z-order of components added to it. </p>\n\n<p>Don't iterate over all the panes - use events.</p>\n\n<p>If for some reason you prefer to poll your UI rather than use an event-driven approach you can call <code>getSelectedFrame</code> which returns the active <code>JInternalFrame</code>.  I'm not sure why no one else mentioned it.</p>\n"}],"owner":{"account_id":1040810,"reputation":655,"user_id":1046871,"accept_rate":75,"display_name":"Dariusz G. Jagielski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9257,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":8542629,"answer_count":3,"score":9,"last_activity_date":1679846861,"creation_date":1324096419,"question_id":8542609,"body_markdown":"How to get active (having focus) frame (JInternalFrame) that is inside JDesktopPane? I need it for my MDI notepad (not that anybody would use that, just a training project). Looking at api, I see only functions to get all JInternalFrames, not active one.","title":"JDesktopPane - how to get active frame","body":"<p>How to get active (having focus) frame (JInternalFrame) that is inside JDesktopPane? I need it for my MDI notepad (not that anybody would use that, just a training project). Looking at api, I see only functions to get all JInternalFrames, not active one.</p>\n"},{"tags":["java","animation","3d","processing"],"comments":[{"owner":{"account_id":6587107,"reputation":23126,"user_id":5089567,"accept_rate":83,"display_name":"Konrad"},"score":0,"creation_date":1679846058,"post_id":75848639,"comment_id":133789961,"body_markdown":"You are using `java` not `javascript`","body":"You are using <code>java</code> not <code>javascript</code>"}],"answers":[{"tags":[],"owner":{"account_id":6587107,"reputation":23126,"user_id":5089567,"accept_rate":83,"display_name":"Konrad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679846328,"creation_date":1679846328,"answer_id":75848878,"question_id":75848639,"body_markdown":"`translate` is a global operation, you have to use `pushMatrix` and `popMatrix` to not mess up every other spheres\r\n\r\n```\r\npublic void update() {\r\n  pushMatrix();\r\n  colorMode(RGB);\r\n  fill(col);\r\n  sphereDetail(180);\r\n  stroke(255);\r\n  noStroke();\r\n  translate(this.x,this.y,this.z);\r\n  sphere(this.size);\r\n  popMatrix();\r\n}\r\n```","title":"Drawing spheres Processing","body":"<p><code>translate</code> is a global operation, you have to use <code>pushMatrix</code> and <code>popMatrix</code> to not mess up every other spheres</p>\n<pre><code>public void update() {\n  pushMatrix();\n  colorMode(RGB);\n  fill(col);\n  sphereDetail(180);\n  stroke(255);\n  noStroke();\n  translate(this.x,this.y,this.z);\n  sphere(this.size);\n  popMatrix();\n}\n</code></pre>\n"}],"owner":{"account_id":18604807,"reputation":75,"user_id":13558695,"display_name":"Ben Delany"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75848878,"answer_count":1,"score":1,"last_activity_date":1679846328,"creation_date":1679843925,"question_id":75848639,"body_markdown":"I&#39;m working on a sketch where I&#39;ll need to draw a lot. of spheres, but I think I&#39;m missing something about how their coordinates work. In this example I&#39;m trying to draw a line of spheres, equally distant apart on the x-axis. I can draw the spheres starting at 0, between I try to shift them tone centered around the origin, I get strange results.\r\n\r\nMain Program\r\n\r\n        import peasy.*;\r\n    \r\n    ArrayList&lt;Sphere&gt; spheres = new ArrayList&lt;Sphere&gt;();\r\n    \r\n    int r = int(random(0, 256));\r\n    int g = int(random(0, 256));\r\n    int b = int(random(0, 256));\r\n    \r\n    PeasyCam cam;\r\n    \r\n    void setup ()\r\n    {\r\n      size(430, 760, P3D);\r\n      frameRate(60);\r\n      orientation(LANDSCAPE);\r\n        \r\n      for(int i = 0; i &lt; 6; i++){\r\n        spheres.add(new Sphere(color(r, g, b), 25, ((i*5) + 75), 0, 0));\r\n      }\r\n      \r\n      \r\n      for(int i = 0; i &lt; 6; i++){\r\n        spheres.get(i).shiftx();\r\n      }\r\n    \r\n      \r\n      cam = new PeasyCam(this, 0, 0, 0, 1500);\r\n    \r\n    }\r\n    \r\n    void reset(){\r\n    \r\n      \r\n    }\r\n    \r\n    void draw ()\r\n    { \r\n      background(0);\r\n      ambientLight(255, 255, 255);\r\n      directionalLight(0, 255, 255, 1, -1, 0);\r\n      \r\n      for(int i = 0; i &lt; spheres.size(); i++){\r\n        spheres.get(i).update();\r\n      }\r\n      \r\n      \r\n    }\r\n\r\nSphere class\r\n\r\n    class Sphere {\r\n    \r\n      int size;\r\n      color col;\r\n      float x;\r\n      float y;\r\n      float z;\r\n      \r\n      Sphere(color  col, int size, float x, float y, float z){\r\n        this.size = size;\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        this.col = col;\r\n        \r\n        println(this.x,this.y, this.z);\r\n        \r\n      }\r\n      \r\n      public void shiftx(){\r\n        this.x -= 85;\r\n        println(this.x,this.y, this.z);\r\n      }\r\n      \r\n      public void update() {\r\n        //colorMode(RGB);\r\n        fill(col);\r\n        sphereDetail(180);\r\n        //stroke(255);\r\n        noStroke();\r\n        translate(this.x,this.y,this.z);\r\n        sphere(this.size);\r\n      }   \r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis is the result when I draw the spheres starting at the origin and increase their x value accordingly.\r\n[![enter image description here][2]][2]\r\n\r\nBut this is what happens when I shift every sphere to the left by the same amount. If the are equidistant, and then shifted left (negative on the x axis)by the same amount, why are they suddenly drawn on top of each other?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ezhgL.png\r\n  [2]: https://i.stack.imgur.com/LA6sb.png","title":"Drawing spheres Processing","body":"<p>I'm working on a sketch where I'll need to draw a lot. of spheres, but I think I'm missing something about how their coordinates work. In this example I'm trying to draw a line of spheres, equally distant apart on the x-axis. I can draw the spheres starting at 0, between I try to shift them tone centered around the origin, I get strange results.</p>\n<p>Main Program</p>\n<pre><code>    import peasy.*;\n\nArrayList&lt;Sphere&gt; spheres = new ArrayList&lt;Sphere&gt;();\n\nint r = int(random(0, 256));\nint g = int(random(0, 256));\nint b = int(random(0, 256));\n\nPeasyCam cam;\n\nvoid setup ()\n{\n  size(430, 760, P3D);\n  frameRate(60);\n  orientation(LANDSCAPE);\n    \n  for(int i = 0; i &lt; 6; i++){\n    spheres.add(new Sphere(color(r, g, b), 25, ((i*5) + 75), 0, 0));\n  }\n  \n  \n  for(int i = 0; i &lt; 6; i++){\n    spheres.get(i).shiftx();\n  }\n\n  \n  cam = new PeasyCam(this, 0, 0, 0, 1500);\n\n}\n\nvoid reset(){\n\n  \n}\n\nvoid draw ()\n{ \n  background(0);\n  ambientLight(255, 255, 255);\n  directionalLight(0, 255, 255, 1, -1, 0);\n  \n  for(int i = 0; i &lt; spheres.size(); i++){\n    spheres.get(i).update();\n  }\n  \n  \n}\n</code></pre>\n<p>Sphere class</p>\n<pre><code>class Sphere {\n\n  int size;\n  color col;\n  float x;\n  float y;\n  float z;\n  \n  Sphere(color  col, int size, float x, float y, float z){\n    this.size = size;\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    this.col = col;\n    \n    println(this.x,this.y, this.z);\n    \n  }\n  \n  public void shiftx(){\n    this.x -= 85;\n    println(this.x,this.y, this.z);\n  }\n  \n  public void update() {\n    //colorMode(RGB);\n    fill(col);\n    sphereDetail(180);\n    //stroke(255);\n    noStroke();\n    translate(this.x,this.y,this.z);\n    sphere(this.size);\n  }   \n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ezhgL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ezhgL.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the result when I draw the spheres starting at the origin and increase their x value accordingly.\n<a href=\"https://i.stack.imgur.com/LA6sb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LA6sb.png\" alt=\"enter image description here\" /></a></p>\n<p>But this is what happens when I shift every sphere to the left by the same amount. If the are equidistant, and then shifted left (negative on the x axis)by the same amount, why are they suddenly drawn on top of each other?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":20441485,"reputation":366,"user_id":14998237,"display_name":"Andrey Grigoriev"},"score":0,"creation_date":1679845344,"post_id":75848605,"comment_id":133789826,"body_markdown":"Spring has no idea what it should pass as an input parameter of the method gitHubWebClientWithBaseUrl(String url). If it is a value from configuration, you can mark it with @Value annotation, like gitHubWebClientWithBaseUrl(@Value(&quot;${some.configuration.value}&quot;) String url)","body":"Spring has no idea what it should pass as an input parameter of the method gitHubWebClientWithBaseUrl(String url). If it is a value from configuration, you can mark it with @Value annotation, like gitHubWebClientWithBaseUrl(@Value(&quot;${some.configuration.valu&zwnj;&#8203;e}&quot;) String url)"}],"answers":[{"tags":[],"owner":{"account_id":27542061,"reputation":316,"user_id":21018639,"display_name":"josephjacobmorris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679845849,"creation_date":1679845849,"answer_id":75848841,"question_id":75848605,"body_markdown":"\r\nSpring f/w is not sure what to pass in as value for `url` this can be resolved by either defining a bean named `url` like below :\r\n```java\r\n   @Bean\r\n    public String url() {\r\n        return  &quot;www.example.com&quot;;\r\n    }\r\n\r\n    @Bean\r\n    public WebClient gitHubWebClientWithBaseUrl(String url) {\r\n        return WebClient.builder()\r\n                .baseUrl(url)\r\n                .build();\r\n    }\r\n``` \r\n**Or**\r\n \r\nby adding your baseUrl value in `application.properties` like below\r\n```properties\r\nbase.url=www.example.com\r\n```\r\nand editing your config class like below\r\n```java\r\n    @Bean\r\n    public WebClient gitHubWebClientWithBaseUrl(@Value(&quot;${base.url}&quot;) String url) {\r\n        return WebClient.builder()\r\n                .baseUrl(url)\r\n                .build();\r\n    }\r\n```","title":"Bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>Spring f/w is not sure what to pass in as value for <code>url</code> this can be resolved by either defining a bean named <code>url</code> like below :</p>\n<pre class=\"lang-java prettyprint-override\"><code>   @Bean\n    public String url() {\n        return  &quot;www.example.com&quot;;\n    }\n\n    @Bean\n    public WebClient gitHubWebClientWithBaseUrl(String url) {\n        return WebClient.builder()\n                .baseUrl(url)\n                .build();\n    }\n</code></pre>\n<p><strong>Or</strong></p>\n<p>by adding your baseUrl value in <code>application.properties</code> like below</p>\n<pre><code>base.url=www.example.com\n</code></pre>\n<p>and editing your config class like below</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public WebClient gitHubWebClientWithBaseUrl(@Value(&quot;${base.url}&quot;) String url) {\n        return WebClient.builder()\n                .baseUrl(url)\n                .build();\n    }\n</code></pre>\n"}],"owner":{"account_id":24354886,"reputation":15,"user_id":18290244,"display_name":"bblex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679845849,"creation_date":1679843701,"question_id":75848605,"body_markdown":"I am developing web client for github. I need to register web client as bean and have opportunity to specify baseUrl. \r\n\r\nCode:\r\n\r\n    public class ClientConfiguration {\r\n    \r\n        private static final String GITHUB_BASE_URL = &quot;https://api.github.com/&quot;;\r\n    \r\n        private final ApplicationConfig applicationConfig;\r\n    \r\n        @Autowired\r\n        public ClientConfiguration(ApplicationConfig applicationConfig) {\r\n            this.applicationConfig = applicationConfig;\r\n        }\r\n    \r\n        @Primary\r\n        @Bean\r\n        public WebClient gitHubWebClient() {\r\n            return WebClient.builder()\r\n                    .baseUrl(GITHUB_BASE_URL)\r\n                    .defaultHeader(&quot;Accept&quot;, &quot;application/vnd.github+json&quot;)\r\n                    .defaultHeader(&quot;X-GitHub-Api-Version&quot;, &quot;2022-11-28&quot;)\r\n                    .defaultHeader(&quot;Authorization&quot;, String.format(&quot;Bearer %s&quot;, applicationConfig.gitHubToken()))\r\n                    .build();\r\n        }\r\n    \r\n        @Bean\r\n        public WebClient gitHubWebClientWithBaseUrl(String url) {\r\n            return WebClient.builder()\r\n                    .baseUrl(url)\r\n                    .defaultHeader(&quot;Accept&quot;, &quot;application/vnd.github+json&quot;)\r\n                    .defaultHeader(&quot;X-GitHub-Api-Version&quot;, &quot;2022-11-28&quot;)\r\n                    .defaultHeader(&quot;Authorization&quot;, String.format(&quot;Bearer %s&quot;, applicationConfig.gitHubToken()))\r\n                    .build();\r\n        }\r\n    \r\n    }\r\n\r\nWhen I start the app, here is exception:\r\n\r\n\r\n    Parameter 0 of method gitHubWebClientWithBaseUrl in ru.example.edu.java.scrapper.configuration.ClientConfiguration required a bean of type &#39;java.lang.String&#39; that could not be found.","title":"Bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>I am developing web client for github. I need to register web client as bean and have opportunity to specify baseUrl.</p>\n<p>Code:</p>\n<pre><code>public class ClientConfiguration {\n\n    private static final String GITHUB_BASE_URL = &quot;https://api.github.com/&quot;;\n\n    private final ApplicationConfig applicationConfig;\n\n    @Autowired\n    public ClientConfiguration(ApplicationConfig applicationConfig) {\n        this.applicationConfig = applicationConfig;\n    }\n\n    @Primary\n    @Bean\n    public WebClient gitHubWebClient() {\n        return WebClient.builder()\n                .baseUrl(GITHUB_BASE_URL)\n                .defaultHeader(&quot;Accept&quot;, &quot;application/vnd.github+json&quot;)\n                .defaultHeader(&quot;X-GitHub-Api-Version&quot;, &quot;2022-11-28&quot;)\n                .defaultHeader(&quot;Authorization&quot;, String.format(&quot;Bearer %s&quot;, applicationConfig.gitHubToken()))\n                .build();\n    }\n\n    @Bean\n    public WebClient gitHubWebClientWithBaseUrl(String url) {\n        return WebClient.builder()\n                .baseUrl(url)\n                .defaultHeader(&quot;Accept&quot;, &quot;application/vnd.github+json&quot;)\n                .defaultHeader(&quot;X-GitHub-Api-Version&quot;, &quot;2022-11-28&quot;)\n                .defaultHeader(&quot;Authorization&quot;, String.format(&quot;Bearer %s&quot;, applicationConfig.gitHubToken()))\n                .build();\n    }\n\n}\n</code></pre>\n<p>When I start the app, here is exception:</p>\n<pre><code>Parameter 0 of method gitHubWebClientWithBaseUrl in ru.example.edu.java.scrapper.configuration.ClientConfiguration required a bean of type 'java.lang.String' that could not be found.\n</code></pre>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1679845100,"post_id":75848763,"comment_id":133789784,"body_markdown":"That looks like the return is an empty list, meaning that there is none with quantity larger than zero. You could also use filter() to filter based on the inventory.getQuantity() as well, then map to the InventoryResponse","body":"That looks like the return is an empty list, meaning that there is none with quantity larger than zero. You could also use filter() to filter based on the inventory.getQuantity() as well, then map to the InventoryResponse"}],"owner":{"account_id":8247162,"reputation":21,"user_id":6202897,"display_name":"Tim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679845837,"creation_date":1679845027,"question_id":75848763,"body_markdown":"I would like to check whether databases contains any data that its quantity is larger than zero and the input and output should be a list. but following code return [ ]. Can I know how to do that? Thanks in advance\r\n```\r\n       return inventoryRepository.findBySkuCodeIn(skuCode).stream()\r\n                .map(inventory -&gt;\r\n                        InventoryResponse.builder()\r\n                                .skuCode(inventory.getSkuCode())\r\n                                .isInStock(inventory.getQuantity() &gt; 0)\r\n                                .build()\r\n                ).toList();\r\n```\r\n","title":"Return [ ] instead of item that is inside database Spring boot","body":"<p>I would like to check whether databases contains any data that its quantity is larger than zero and the input and output should be a list. but following code return [ ]. Can I know how to do that? Thanks in advance</p>\n<pre><code>       return inventoryRepository.findBySkuCodeIn(skuCode).stream()\n                .map(inventory -&gt;\n                        InventoryResponse.builder()\n                                .skuCode(inventory.getSkuCode())\n                                .isInStock(inventory.getQuantity() &gt; 0)\n                                .build()\n                ).toList();\n</code></pre>\n"},{"tags":["javascript","java","image","frontend","spark-java"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1679844320,"post_id":75848622,"comment_id":133789643,"body_markdown":"What does this have to do with java?","body":"What does this have to do with java?"},{"owner":{"account_id":19806991,"reputation":15,"user_id":14506732,"display_name":"auf keinsten"},"score":0,"creation_date":1679845189,"post_id":75848622,"comment_id":133789798,"body_markdown":"The rendering of the image on the backend is done in Java (first code block) and I&#39;m not entirely certain if the creation of the response is correct.","body":"The rendering of the image on the backend is done in Java (first code block) and I&#39;m not entirely certain if the creation of the response is correct."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1679845365,"post_id":75848622,"comment_id":133789829,"body_markdown":"Right, but either the problem is with java (which you test by directly pointing a browser, or curl or something) at its URL and check whether the response is a real image, and if it&#39;s not: this is just a java question, no need for anything else. Or if it works fine, this has nothing to do with java, and it&#39;s a question about that fetch block. So: _test that now_ because you&#39;re still the one driving. Fire up your browser and try to load whatever url you have in `RENDER_URL`. Does it work? Cool, you know the problem is on the JS side now. Does it not? Cool, it&#39;s on the Java side.","body":"Right, but either the problem is with java (which you test by directly pointing a browser, or curl or something) at its URL and check whether the response is a real image, and if it&#39;s not: this is just a java question, no need for anything else. Or if it works fine, this has nothing to do with java, and it&#39;s a question about that fetch block. So: <i>test that now</i> because you&#39;re still the one driving. Fire up your browser and try to load whatever url you have in <code>RENDER_URL</code>. Does it work? Cool, you know the problem is on the JS side now. Does it not? Cool, it&#39;s on the Java side."},{"owner":{"account_id":19806991,"reputation":15,"user_id":14506732,"display_name":"auf keinsten"},"score":0,"creation_date":1679846726,"post_id":75848622,"comment_id":133790082,"body_markdown":"Gotcha, thank you for your time and effort","body":"Gotcha, thank you for your time and effort"}],"answers":[{"tags":[],"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679845506,"creation_date":1679845206,"answer_id":75848778,"question_id":75848622,"body_markdown":"You&#39;re going to at the very least need to fix that JS, because if you&#39;re using `then` on a promise, _all the code_ that has to subsequently kick in has to either be inside that `then` handler, or be in function(s) that are called from inside that `then` handler, or be somewhere in the subsequent `then` chain. The following code does not work:\r\n\r\n```\r\nlet data;\r\n\r\nresponse.blob().then(blobResponse =&gt; {\r\n  data = blobResponse;\r\n})\r\n\r\nurl = URL.createObjectURL(data);\r\n```\r\n\r\nbecause your `url = ...` doesn&#39;t wait for anything: `response.blob()` is a promise, and so we immediately move on to `url = ...` without waiting, and at _some unknown time in the future_, that `then` handler will kick in.\r\n\r\nSo: give the MDN [&quot;Using Promises&quot;](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises) a read, and move all the code that depends on the result of that `then` _into_ the handler. Or, alternatively, mark your context as `async` so that you can use the `await` keyword instead of having to chain `then` handlers.","title":"Rendering an image on a Java-Backend then displaying it in the Frontend","body":"<p>You're going to at the very least need to fix that JS, because if you're using <code>then</code> on a promise, <em>all the code</em> that has to subsequently kick in has to either be inside that <code>then</code> handler, or be in function(s) that are called from inside that <code>then</code> handler, or be somewhere in the subsequent <code>then</code> chain. The following code does not work:</p>\n<pre><code>let data;\n\nresponse.blob().then(blobResponse =&gt; {\n  data = blobResponse;\n})\n\nurl = URL.createObjectURL(data);\n</code></pre>\n<p>because your <code>url = ...</code> doesn't wait for anything: <code>response.blob()</code> is a promise, and so we immediately move on to <code>url = ...</code> without waiting, and at <em>some unknown time in the future</em>, that <code>then</code> handler will kick in.</p>\n<p>So: give the MDN <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises\" rel=\"nofollow noreferrer\">&quot;Using Promises&quot;</a> a read, and move all the code that depends on the result of that <code>then</code> <em>into</em> the handler. Or, alternatively, mark your context as <code>async</code> so that you can use the <code>await</code> keyword instead of having to chain <code>then</code> handlers.</p>\n"}],"owner":{"account_id":19806991,"reputation":15,"user_id":14506732,"display_name":"auf keinsten"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75848778,"answer_count":1,"score":0,"last_activity_date":1679845506,"creation_date":1679843797,"question_id":75848622,"body_markdown":"My goal is to have a node-editor in the frontend which passes information on how data is supposed to be rendered as an image to the backend, where the heavy lifting is done, resulting in an image which is then displayed in the browser again.\r\n\r\nTo achieve this, I have a Java Spark-Route looking like this:\r\n\r\n\r\n```\r\n    post(&quot;/render&quot;, (req, res) -&gt; {\r\n\r\n      Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n      ResponsePojo response = gson.fromJson(req.body(), ResponsePojo.class);\r\n\r\n      BufferedImage bi = render(response);\r\n\r\n\r\n      // Write the image data to the response output stream\r\n      try (ByteArrayOutputStream baos = new ByteArrayOutputStream()) {\r\n        ImageIO.write(bi, &quot;jpeg&quot;, baos);\r\n        res.raw().getOutputStream().write(baos.toByteArray());\r\n        res.raw().getOutputStream().flush();\r\n      } catch (IOException e) {\r\n        e.printStackTrace();\r\n      }\r\n\r\n\r\n      res.type(&quot;image/jpeg&quot;);\r\n      res.status(200);\r\n\r\n      return res;\r\n    });\r\n```\r\n\r\n\r\nCalling this route looks like this:\r\n```\r\n  // Send the request using the fetch() method\r\n  fetch(RENDER_URL, requestOptions)\r\n    .then(response =&gt; {\r\n      //const blob = streamToBlob(response.body, &#39;jpeg&#39;);\r\n\r\n      let data;\r\n      let url;\r\n\r\n      response.blob().then(blobResponse =&gt; {\r\n        data = blobResponse;\r\n      })\r\n\r\n      url = URL.createObjectURL(data);\r\n    })\r\n```\r\n\r\nThis call results in the following error:\r\n\r\n    Error occurred during request: TypeError: URL.createObjectURL: Argument 1 is not valid for any of the 1-argument overloads.\r\n\r\nI&#39;ve also taken a look at the following npm module: https://github.com/feross/stream-to-blob\r\n\r\nWhich results in the following error:\r\n```\r\nUncaught (in promise) TypeError: stream.on is not a function\r\n    streamToBlob2 index.js:13\r\n    streamToBlob2 index.js:10\r\n    sendRenderRequest index.js:95\r\n```\r\nWhat&#39;s confusing to me is that the errors suggest to me that I&#39;m not in fact working with a ReadableStream, however if I console.log() the response.body I do get:\r\n\r\n`Response.body received: ReadableStream { locked: false }`\r\n\r\n\r\nLooking forward to any and all help, thanks in advance for your time and sorry for any obvious oversights, I&#39;m still learning!","title":"Rendering an image on a Java-Backend then displaying it in the Frontend","body":"<p>My goal is to have a node-editor in the frontend which passes information on how data is supposed to be rendered as an image to the backend, where the heavy lifting is done, resulting in an image which is then displayed in the browser again.</p>\n<p>To achieve this, I have a Java Spark-Route looking like this:</p>\n<pre><code>    post(&quot;/render&quot;, (req, res) -&gt; {\n\n      Gson gson = new GsonBuilder().setPrettyPrinting().create();\n      ResponsePojo response = gson.fromJson(req.body(), ResponsePojo.class);\n\n      BufferedImage bi = render(response);\n\n\n      // Write the image data to the response output stream\n      try (ByteArrayOutputStream baos = new ByteArrayOutputStream()) {\n        ImageIO.write(bi, &quot;jpeg&quot;, baos);\n        res.raw().getOutputStream().write(baos.toByteArray());\n        res.raw().getOutputStream().flush();\n      } catch (IOException e) {\n        e.printStackTrace();\n      }\n\n\n      res.type(&quot;image/jpeg&quot;);\n      res.status(200);\n\n      return res;\n    });\n</code></pre>\n<p>Calling this route looks like this:</p>\n<pre><code>  // Send the request using the fetch() method\n  fetch(RENDER_URL, requestOptions)\n    .then(response =&gt; {\n      //const blob = streamToBlob(response.body, 'jpeg');\n\n      let data;\n      let url;\n\n      response.blob().then(blobResponse =&gt; {\n        data = blobResponse;\n      })\n\n      url = URL.createObjectURL(data);\n    })\n</code></pre>\n<p>This call results in the following error:</p>\n<pre><code>Error occurred during request: TypeError: URL.createObjectURL: Argument 1 is not valid for any of the 1-argument overloads.\n</code></pre>\n<p>I've also taken a look at the following npm module: <a href=\"https://github.com/feross/stream-to-blob\" rel=\"nofollow noreferrer\">https://github.com/feross/stream-to-blob</a></p>\n<p>Which results in the following error:</p>\n<pre><code>Uncaught (in promise) TypeError: stream.on is not a function\n    streamToBlob2 index.js:13\n    streamToBlob2 index.js:10\n    sendRenderRequest index.js:95\n</code></pre>\n<p>What's confusing to me is that the errors suggest to me that I'm not in fact working with a ReadableStream, however if I console.log() the response.body I do get:</p>\n<p><code>Response.body received: ReadableStream { locked: false }</code></p>\n<p>Looking forward to any and all help, thanks in advance for your time and sorry for any obvious oversights, I'm still learning!</p>\n"},{"tags":["java","android","libgdx","server"],"comments":[{"owner":{"account_id":3585651,"reputation":3039,"user_id":2992899,"accept_rate":83,"display_name":"Czyzby"},"score":1,"creation_date":1462017504,"post_id":36954604,"comment_id":61466915,"body_markdown":"Can you post the exact exception and LibGDX version? `AndroidNet` never returns null from the method that you posted. Are you sure that you&#39;re invoking it _after_ the application is already started?","body":"Can you post the exact exception and LibGDX version? <code>AndroidNet</code> never returns null from the method that you posted. Are you sure that you&#39;re invoking it <i>after</i> the application is already started?"},{"owner":{"account_id":4066765,"reputation":153,"user_id":3341396,"accept_rate":86,"display_name":"TAsk"},"score":0,"creation_date":1462017649,"post_id":36954604,"comment_id":61466961,"body_markdown":"Ah, there is the problem, I am not starting an application at all... :P Makes sense.","body":"Ah, there is the problem, I am not starting an application at all... :P Makes sense."},{"owner":{"account_id":3585651,"reputation":3039,"user_id":2992899,"accept_rate":83,"display_name":"Czyzby"},"score":1,"creation_date":1462017762,"post_id":36954604,"comment_id":61466995,"body_markdown":"`Gdx.net` is null unless you start an application - if you just want to use the networking functionalities, try creating `Net` implementation object manually, for example: `new LwjglNet().newServerSocket(...)`.","body":"<code>Gdx.net</code> is null unless you start an application - if you just want to use the networking functionalities, try creating <code>Net</code> implementation object manually, for example: <code>new LwjglNet().newServerSocket(...)</code>."}],"answers":[{"tags":[],"owner":{"account_id":3585651,"reputation":3039,"user_id":2992899,"accept_rate":83,"display_name":"Czyzby"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679845346,"creation_date":1462018120,"answer_id":36954739,"question_id":36954604,"body_markdown":"LibGDX static utility variables start as `null`. They are not assigned immediately (and are not final) to support different implementations on each platform. For example, `Net` implementation that you reference with `Gdx.net` is `null` unless you start an application that actually assigns this value.\r\n\r\nIf you want the server to be a part of your regular client application, try starting the application first and _then_ creating the server socket. If you want a separate server application, you can use the [`headless`](https://github.com/libgdx/libgdx/tree/master/backends/gdx-backend-headless) backend. You can also create `Net` instance manually, for example: `new HeadlessNet().newServerSocket(...)` or `new AndroidNet().newServerSocket(...)`.\r\n\r\n`Net` implementations are basically simple stateless factories on most platforms, so it&#39;s OK to have a few instances of them; even if you construct `Net` instance manually and _then_ create an application, it should cause no problems.","title":"LibGDX: newServerSocket causes null pointer exception","body":"<p>LibGDX static utility variables start as <code>null</code>. They are not assigned immediately (and are not final) to support different implementations on each platform. For example, <code>Net</code> implementation that you reference with <code>Gdx.net</code> is <code>null</code> unless you start an application that actually assigns this value.</p>\n<p>If you want the server to be a part of your regular client application, try starting the application first and <em>then</em> creating the server socket. If you want a separate server application, you can use the <a href=\"https://github.com/libgdx/libgdx/tree/master/backends/gdx-backend-headless\" rel=\"nofollow noreferrer\"><code>headless</code></a> backend. You can also create <code>Net</code> instance manually, for example: <code>new HeadlessNet().newServerSocket(...)</code> or <code>new AndroidNet().newServerSocket(...)</code>.</p>\n<p><code>Net</code> implementations are basically simple stateless factories on most platforms, so it's OK to have a few instances of them; even if you construct <code>Net</code> instance manually and <em>then</em> create an application, it should cause no problems.</p>\n"}],"owner":{"account_id":4066765,"reputation":153,"user_id":3341396,"accept_rate":86,"display_name":"TAsk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":36954739,"answer_count":1,"score":0,"last_activity_date":1679845346,"creation_date":1462017325,"question_id":36954604,"body_markdown":"I am trying to start a LibGDX server. I have copied the code from this site: https://github.com/libgdx/libgdx/blob/master/tests/gdx-tests/src/com/badlogic/gdx/tests/net/PingPongSocketExample.java but I am getting a null pointer exception from the line Server server = Gdx.net.newServerSocket... What is going on?","title":"LibGDX: newServerSocket causes null pointer exception","body":"<p>I am trying to start a LibGDX server. I have copied the code from this site: <a href=\"https://github.com/libgdx/libgdx/blob/master/tests/gdx-tests/src/com/badlogic/gdx/tests/net/PingPongSocketExample.java\" rel=\"nofollow\">https://github.com/libgdx/libgdx/blob/master/tests/gdx-tests/src/com/badlogic/gdx/tests/net/PingPongSocketExample.java</a> but I am getting a null pointer exception from the line Server server = Gdx.net.newServerSocket... What is going on?</p>\n"},{"tags":["java","flutter","gradle"],"comments":[{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":0,"creation_date":1679844359,"post_id":75848674,"comment_id":133789654,"body_markdown":"try this? https://stackoverflow.com/questions/72361482/gradle-task-assembledebug-failed-with-exit-code-1-because-could-not-find-or-l","body":"try this? <a href=\"https://stackoverflow.com/questions/72361482/gradle-task-assembledebug-failed-with-exit-code-1-because-could-not-find-or-l\" title=\"gradle task assembledebug failed with exit code 1 because could not find or l\">stackoverflow.com/questions/72361482/&hellip;</a>"}],"owner":{"account_id":27819629,"reputation":11,"user_id":21240311,"display_name":"Majid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679844215,"creation_date":1679844215,"question_id":75848674,"body_markdown":"flutter run gradle error please help me\r\n\r\ngradle error i cant use emulator \r\n\r\nRunning Gradle task &#39;assembleDebug&#39;...\r\nError: Could not find or load main class org.gradle.wrapper.GradleWrapperMain\r\nCaused by: java.lang.ClassNotFoundException: org.gradle.wrapper.GradleWrapperMain\r\nException: Gradle task assembleDebug failed with exit code 1\r\n","title":"Exception: Gradle task assembleDebug failed with exit code 1 gradle","body":"<p>flutter run gradle error please help me</p>\n<p>gradle error i cant use emulator</p>\n<p>Running Gradle task 'assembleDebug'...\nError: Could not find or load main class org.gradle.wrapper.GradleWrapperMain\nCaused by: java.lang.ClassNotFoundException: org.gradle.wrapper.GradleWrapperMain\nException: Gradle task assembleDebug failed with exit code 1</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17380095,"reputation":697,"user_id":12592517,"display_name":"Swapnil Padaya"},"score":1,"creation_date":1633994631,"post_id":69533327,"comment_id":122902964,"body_markdown":"You can have a look over here [Java Docs for FileFilter](https://docs.oracle.com/javase/6/docs/api/java/io/FilenameFilter.html) it&#39;s of form `listFiles(FilenameFilter filter)` and for naming the file you can use `for loop` to increment number if filename is already present","body":"You can have a look over here <a href=\"https://docs.oracle.com/javase/6/docs/api/java/io/FilenameFilter.html\" rel=\"nofollow noreferrer\">Java Docs for FileFilter</a> it&#39;s of form <code>listFiles(FilenameFilter filter)</code> and for naming the file you can use <code>for loop</code> to increment number if filename is already present"}],"answers":[{"tags":[],"owner":{"account_id":7798354,"reputation":6929,"user_id":5898696,"accept_rate":89,"display_name":"J-Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634030535,"creation_date":1633995346,"answer_id":69533530,"question_id":69533327,"body_markdown":"A problem that seems trivial but has so many pitfalls. \r\n\r\nThe algorithm you wrote won&#39;t work for the following reasons:\r\n1. Simple if-else is not enough, you need to go through a loop to find the last index, because potentially there could be many files created already.\r\n2. Else block tries to find an index from the file name that should&#39;t have one.\r\n\r\nMoreover, there are additional questions that may raise.\r\n - What if someone deleted the intermediate indexes and now you have 1 and 4, do you want to go with 2 or 5?\r\n - Can someone delete the files from the directory except the programm? \r\n - Are nested directories possible?\r\n - How often files are created?  \r\n - Can someone manually create a file with a proper name bypassing the programm?\r\n\r\nAnd more importand question is - do you really want to stick to the strict brute-force counter on the actual files listed in a directory?\r\n\r\nIf the answer is yes, the more reasonable would be to check the files using [File.list()](https://docs.oracle.com/javase/7/docs/api/java/io/File.html#list()), sort them, take the last index and increment them instead of trying to create a file and increment on a failure.\r\n\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            File directoryPath = new File(&quot;path_to_your_dir&quot;);\r\n    \r\n            FilenameFilter filenameFilter = (dir, name) -&gt; !dir.isFile();\r\n            Integer maxIndex = Arrays.stream(directoryPath.list(filenameFilter))\r\n                    // Take numeric index from the end of the file name, beware of file extensions!\r\n                    .map(name -&gt; name.substring(&quot;word_match&quot;.length(), name.lastIndexOf(&#39;.&#39;)))\r\n                    .map(Main::parseOrDefault) // Parse it to a number\r\n                    .max(Integer::compareTo) // Define how to compare them\r\n                    .orElse(-1);\r\n            // -1 is no files, 0 if a file with no index, otherwise max index\r\n            System.out.println(maxIndex);\r\n        }\r\n    \r\n        private static Integer parseOrDefault(String integer) {\r\n            try {\r\n                return Integer.valueOf(integer);\r\n            } catch (NumberFormatException e) {\r\n                return 0;\r\n            }\r\n        }\r\n    }\r\n\r\nIf the answer is no, you can have a counter that is persisted somewhere (file system, BD) and incremented regardless every time. \r\nAnd more simple approach is establish a frequence of file creations and simply append a timestamp/date-time to the end of each file.\r\n\r\n\r\n","title":"How to write a method that increments a file name in Java","body":"<p>A problem that seems trivial but has so many pitfalls.</p>\n<p>The algorithm you wrote won't work for the following reasons:</p>\n<ol>\n<li>Simple if-else is not enough, you need to go through a loop to find the last index, because potentially there could be many files created already.</li>\n<li>Else block tries to find an index from the file name that should't have one.</li>\n</ol>\n<p>Moreover, there are additional questions that may raise.</p>\n<ul>\n<li>What if someone deleted the intermediate indexes and now you have 1 and 4, do you want to go with 2 or 5?</li>\n<li>Can someone delete the files from the directory except the programm?</li>\n<li>Are nested directories possible?</li>\n<li>How often files are created?</li>\n<li>Can someone manually create a file with a proper name bypassing the programm?</li>\n</ul>\n<p>And more importand question is - do you really want to stick to the strict brute-force counter on the actual files listed in a directory?</p>\n<p>If the answer is yes, the more reasonable would be to check the files using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html#list()\" rel=\"nofollow noreferrer\">File.list()</a>, sort them, take the last index and increment them instead of trying to create a file and increment on a failure.</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        File directoryPath = new File(&quot;path_to_your_dir&quot;);\n\n        FilenameFilter filenameFilter = (dir, name) -&gt; !dir.isFile();\n        Integer maxIndex = Arrays.stream(directoryPath.list(filenameFilter))\n                // Take numeric index from the end of the file name, beware of file extensions!\n                .map(name -&gt; name.substring(&quot;word_match&quot;.length(), name.lastIndexOf('.')))\n                .map(Main::parseOrDefault) // Parse it to a number\n                .max(Integer::compareTo) // Define how to compare them\n                .orElse(-1);\n        // -1 is no files, 0 if a file with no index, otherwise max index\n        System.out.println(maxIndex);\n    }\n\n    private static Integer parseOrDefault(String integer) {\n        try {\n            return Integer.valueOf(integer);\n        } catch (NumberFormatException e) {\n            return 0;\n        }\n    }\n}\n</code></pre>\n<p>If the answer is no, you can have a counter that is persisted somewhere (file system, BD) and incremented regardless every time.\nAnd more simple approach is establish a frequence of file creations and simply append a timestamp/date-time to the end of each file.</p>\n"},{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1633996463,"creation_date":1633996463,"answer_id":69533617,"question_id":69533327,"body_markdown":"A simple approach will be count the number of files matching your file name and then increment the `numberOfFiles` to create a new file name : \r\n\r\n    Stream&lt;Path&gt; files = Files.list(Paths.get(&quot;C:\\\\your\\\\local\\\\path&quot;));\r\n    long numberOfFiles = files.map(Path.class::cast)\r\n                              .filter(path -&gt; path.getFileName().toString().startsWith(&quot;wordmatch&quot;))\r\n                              .count();\r\n\r\nAfter all you have to manage certains situations, to have a good algorithm for managing your files.","title":"How to write a method that increments a file name in Java","body":"<p>A simple approach will be count the number of files matching your file name and then increment the <code>numberOfFiles</code> to create a new file name :</p>\n<pre><code>Stream&lt;Path&gt; files = Files.list(Paths.get(&quot;C:\\\\your\\\\local\\\\path&quot;));\nlong numberOfFiles = files.map(Path.class::cast)\n                          .filter(path -&gt; path.getFileName().toString().startsWith(&quot;wordmatch&quot;))\n                          .count();\n</code></pre>\n<p>After all you have to manage certains situations, to have a good algorithm for managing your files.</p>\n"}],"owner":{"account_id":4885117,"reputation":1866,"user_id":3937811,"accept_rate":91,"display_name":"Evan Gertis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1679844214,"creation_date":1633993328,"question_id":69533327,"body_markdown":"I am writing a method that takes a a string of html and writes it to a file. The method should increment the file name if the file already exists. For example, if `wordmatch.html` already exists then a new file should be created `wordmatch1.html` so and so fourth. \r\n\r\nI have created a method that writes the html to a file. I&#39;m working on the last part to incrementally change the name of a new file if the file already exists.\r\n\r\n    public void saveContent(WordMatch wordMatch){\r\n\t\tlogger.info(wordMatch);\r\n\t\ttry {\r\n\t\tFile file = new File(&quot;wordmatch0.html&quot;);\r\n\t\tString html = wordMatch.toString();\r\n\t\tString cleanedHTML = html.replace(&quot;WordMatch(content=&quot;,&quot;&quot;).replace(&quot;)&quot;,&quot;&quot;);\r\n\t\tlogger.info(cleanedHTML);\r\n\t\tif (file.createNewFile()) {\r\n\t\t\tSystem.out.println(&quot;File created: &quot; + file.getName());\r\n\t\t\ttry {\r\n\t\t\t\tFileWriter myWriter = new FileWriter(&quot;word_match.html&quot;);\r\n\t\t\t\tmyWriter.write(cleanedHTML);\r\n\t\t\t\tmyWriter.close();\r\n\t\t\t\tSystem.out.println(&quot;Successfully wrote to the file.&quot;);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tSystem.out.println(&quot;An error occurred.&quot;);\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tString fileName = file.getName().toString();\r\n\t\t\tString index = fileName.substring(fileName.indexOf(&quot;h&quot;) + 1);\r\n\t\t\tindex = index.substring(0, index.indexOf(&quot;.&quot;));\r\n\t\t\tInteger parsedInt = Integer.parseInt(index);\r\n\t\t\tSystem.out.println(parsedInt);\r\n\t\t\tparsedInt+=1;\r\n\t\t\tfileName = fileName.replace(index,parsedInt.toString());\r\n\t\t\tSystem.out.println(fileName);\r\n\t\t\tSystem.out.println(&quot;fileName should have been printed by now&quot;);\r\n\t\t\tfile = new File(fileName);\r\n\t\t\tFileWriter myWriter = new FileWriter(file);\r\n\t\t\tmyWriter.write(cleanedHTML);\r\n\t\t\tmyWriter.close();\r\n\t\t\t//TODO add method to write file name with new index\r\n\t\t\tSystem.out.println(&quot;File already exists.&quot;);\r\n\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\tSystem.out.println(&quot;An error occurred.&quot;);\r\n\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\nWhat can I try next?\r\n","title":"How to write a method that increments a file name in Java","body":"<p>I am writing a method that takes a a string of html and writes it to a file. The method should increment the file name if the file already exists. For example, if <code>wordmatch.html</code> already exists then a new file should be created <code>wordmatch1.html</code> so and so fourth.</p>\n<p>I have created a method that writes the html to a file. I'm working on the last part to incrementally change the name of a new file if the file already exists.</p>\n<pre><code>public void saveContent(WordMatch wordMatch){\n    logger.info(wordMatch);\n    try {\n    File file = new File(&quot;wordmatch0.html&quot;);\n    String html = wordMatch.toString();\n    String cleanedHTML = html.replace(&quot;WordMatch(content=&quot;,&quot;&quot;).replace(&quot;)&quot;,&quot;&quot;);\n    logger.info(cleanedHTML);\n    if (file.createNewFile()) {\n        System.out.println(&quot;File created: &quot; + file.getName());\n        try {\n            FileWriter myWriter = new FileWriter(&quot;word_match.html&quot;);\n            myWriter.write(cleanedHTML);\n            myWriter.close();\n            System.out.println(&quot;Successfully wrote to the file.&quot;);\n        } catch (IOException e) {\n            System.out.println(&quot;An error occurred.&quot;);\n            e.printStackTrace();\n        }\n    } else {\n        String fileName = file.getName().toString();\n        String index = fileName.substring(fileName.indexOf(&quot;h&quot;) + 1);\n        index = index.substring(0, index.indexOf(&quot;.&quot;));\n        Integer parsedInt = Integer.parseInt(index);\n        System.out.println(parsedInt);\n        parsedInt+=1;\n        fileName = fileName.replace(index,parsedInt.toString());\n        System.out.println(fileName);\n        System.out.println(&quot;fileName should have been printed by now&quot;);\n        file = new File(fileName);\n        FileWriter myWriter = new FileWriter(file);\n        myWriter.write(cleanedHTML);\n        myWriter.close();\n        //TODO add method to write file name with new index\n        System.out.println(&quot;File already exists.&quot;);\n    }\n    } catch (IOException e) {\n    System.out.println(&quot;An error occurred.&quot;);\n    e.printStackTrace();\n    }\n}\n</code></pre>\n<p>What can I try next?</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore","android-recyclerview"],"comments":[{"owner":{"account_id":1528808,"reputation":6784,"user_id":1426565,"accept_rate":29,"display_name":"Cruceo"},"score":0,"creation_date":1633886182,"post_id":69516689,"comment_id":122874114,"body_markdown":"What happens in `adapter.startListening()`? The exception is definitely in your `MainActivity`/`NoteAdapter`","body":"What happens in <code>adapter.startListening()</code>? The exception is definitely in your <code>MainActivity</code>/<code>NoteAdapter</code>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1633937660,"post_id":69516689,"comment_id":122883347,"body_markdown":"At which particular line of code are you getting that error?","body":"At which particular line of code are you getting that error?"},{"owner":{"account_id":14285432,"reputation":262,"user_id":10318887,"display_name":"caneraltuner"},"score":0,"creation_date":1633945833,"post_id":69516689,"comment_id":122886508,"body_markdown":"I dont know which line is giving that error. It only happens when i add new data to firestore","body":"I dont know which line is giving that error. It only happens when i add new data to firestore"},{"owner":{"account_id":21414747,"reputation":1040,"user_id":15774176,"display_name":"Divyani Yadav"},"score":0,"creation_date":1633953063,"post_id":69516689,"comment_id":122889105,"body_markdown":"@caneraltuner can you refer to the link :https://stackoverflow.com/questions/31759171/recyclerview-and-java-lang-indexoutofboundsexception-inconsistency-detected-in is it helpful?","body":"@caneraltuner can you refer to the link :<a href=\"https://stackoverflow.com/questions/31759171/recyclerview-and-java-lang-indexoutofboundsexception-inconsistency-detected-in\" title=\"recyclerview and java lang indexoutofboundsexception inconsistency detected in\">stackoverflow.com/questions/31759171/&hellip;</a> is it helpful?"},{"owner":{"account_id":14285432,"reputation":262,"user_id":10318887,"display_name":"caneraltuner"},"score":0,"creation_date":1634021450,"post_id":69516689,"comment_id":122907581,"body_markdown":"@DivyaniYadav it helped me thank you.","body":"@DivyaniYadav it helped me thank you."},{"owner":{"account_id":16796825,"reputation":1274,"user_id":12143126,"display_name":"Mikhail Guliaev"},"score":0,"creation_date":1682588388,"post_id":69516689,"comment_id":134240846,"body_markdown":"Though this workaround solves the original problem, it&#39;s not recommended to solve it this way. You just ignores the exception, which can lead to the inconsistent state of RecyclerView, which can lead to other crashes.","body":"Though this workaround solves the original problem, it&#39;s not recommended to solve it this way. You just ignores the exception, which can lead to the inconsistent state of RecyclerView, which can lead to other crashes."}],"answers":[{"tags":[],"owner":{"account_id":14285432,"reputation":262,"user_id":10318887,"display_name":"caneraltuner"},"down_vote_count":1,"up_vote_count":17,"is_accepted":true,"score":16,"last_activity_date":1634073941,"creation_date":1634021876,"answer_id":69536288,"question_id":69516689,"body_markdown":"I solved my problem. The problem happens in `MainActivity`, it is caused by `RecyclerView` Data that has been modified in different thread. checking all data access and wrapping `LinearLayoutManager` would be considered as a solution. \r\n\r\nI wrote the code gave by @sakiM at first answer: https://stackoverflow.com/questions/31759171/recyclerview-and-java-lang-indexoutofboundsexception-inconsistency-detected-in?page=1&amp;tab=votes#tab-top\r\nHere is the code:\r\n\r\n    public class WrapContentLinearLayoutManager extends LinearLayoutManager {\r\n        public WrapContentLinearLayoutManager(Context context) {\r\n            super(context);\r\n        }\r\n\r\n        public WrapContentLinearLayoutManager(Context context, int orientation, boolean reverseLayout) {\r\n            super(context, orientation, reverseLayout);\r\n        }\r\n\r\n        public WrapContentLinearLayoutManager(Context context, AttributeSet attrs, int defStyleAttr, int defStyleRes) {\r\n            super(context, attrs, defStyleAttr, defStyleRes);\r\n        }\r\n\r\n        @Override\r\n        public void onLayoutChildren(RecyclerView.Recycler recycler, RecyclerView.State state) {\r\n            try {\r\n                super.onLayoutChildren(recycler, state);\r\n            } catch (IndexOutOfBoundsException e) {\r\n                Log.e(&quot;TAG&quot;, &quot;meet a IOOBE in RecyclerView&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n- Then i matched my `RecyclerView` to `WrapContentLinearLayoutManager` \r\n\r\nHere is the code:\r\n\r\n`RecyclerView recyclerView = (RecyclerView) findViewById(R.id.recycler_view);\r\n    recyclerView.setLayoutManager(new WrapContentLinearLayoutManager(this,LinearLayoutManager.VERTICAL,false));`\r\n\r\nThank you all, have a nice day","title":"Inconsistency Detected Invalid View Holder Adapter Error","body":"<p>I solved my problem. The problem happens in <code>MainActivity</code>, it is caused by <code>RecyclerView</code> Data that has been modified in different thread. checking all data access and wrapping <code>LinearLayoutManager</code> would be considered as a solution.</p>\n<p>I wrote the code gave by @sakiM at first answer: <a href=\"https://stackoverflow.com/questions/31759171/recyclerview-and-java-lang-indexoutofboundsexception-inconsistency-detected-in?page=1&amp;tab=votes#tab-top\">RecyclerView and java.lang.IndexOutOfBoundsException: Inconsistency detected. Invalid view holder adapter positionViewHolder in Samsung devices</a>\nHere is the code:</p>\n<pre><code>public class WrapContentLinearLayoutManager extends LinearLayoutManager {\n    public WrapContentLinearLayoutManager(Context context) {\n        super(context);\n    }\n\n    public WrapContentLinearLayoutManager(Context context, int orientation, boolean reverseLayout) {\n        super(context, orientation, reverseLayout);\n    }\n\n    public WrapContentLinearLayoutManager(Context context, AttributeSet attrs, int defStyleAttr, int defStyleRes) {\n        super(context, attrs, defStyleAttr, defStyleRes);\n    }\n\n    @Override\n    public void onLayoutChildren(RecyclerView.Recycler recycler, RecyclerView.State state) {\n        try {\n            super.onLayoutChildren(recycler, state);\n        } catch (IndexOutOfBoundsException e) {\n            Log.e(&quot;TAG&quot;, &quot;meet a IOOBE in RecyclerView&quot;);\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>Then i matched my <code>RecyclerView</code> to <code>WrapContentLinearLayoutManager</code></li>\n</ul>\n<p>Here is the code:</p>\n<p><code>RecyclerView recyclerView = (RecyclerView) findViewById(R.id.recycler_view); recyclerView.setLayoutManager(new WrapContentLinearLayoutManager(this,LinearLayoutManager.VERTICAL,false));</code></p>\n<p>Thank you all, have a nice day</p>\n"}],"owner":{"account_id":14285432,"reputation":262,"user_id":10318887,"display_name":"caneraltuner"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11859,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":69536288,"answer_count":1,"score":2,"last_activity_date":1679843926,"creation_date":1633880927,"question_id":69516689,"body_markdown":"I made an application running with Firestore for my school project. When I add the first query there is no problem but if I want to add the second one and go back to `MainActivity`, I get this error and the application dies.\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.caneraltuner.cepanket2, PID: 13240\r\n    java.lang.IndexOutOfBoundsException: Inconsistency detected. Invalid view holder adapter positionNoteHolder{f9f3667 position=2 id=-1, oldPos=0, pLpos:0 scrap [attachedScrap] tmpDetached no parent} androidx.recyclerview.widget.RecyclerView{c64d4da VFED..... ........ 0,0-1080,1584 #7f0801de app:id/recycler_view}, adapter:com.caneraltuner.cepanket2.NoteAdapter@2549b6d, layout:androidx.recyclerview.widget.LinearLayoutManager@8af93a2, context:com.caneraltuner.cepanket2.MainActivity@c95bf4d\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.validateViewHolderForOffsetPosition(RecyclerView.java:6156)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6339)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6300)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6296)\r\n        at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2330)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1631)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1591)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:668)\r\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep1(RecyclerView.java:4255)\r\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:4010)\r\n        at androidx.recyclerview.widget.RecyclerView.consumePendingUpdateOperations(RecyclerView.java:2028)\r\n        at androidx.recyclerview.widget.RecyclerView$1.run(RecyclerView.java:417)\r\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:972)\r\n        at android.view.Choreographer.doCallbacks(Choreographer.java:796)\r\n        at android.view.Choreographer.doFrame(Choreographer.java:727)\r\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:957)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n        I/Process: Sending signal. PID: 13240 SIG: 9\r\n\r\nCode in MainActivity:\r\n\r\n    package com.caneraltuner.cepanket2;\r\n\r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.recyclerview.widget.ItemTouchHelper;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n\r\n    import com.firebase.ui.firestore.FirestoreRecyclerOptions;\r\n    import com.google.android.material.floatingactionbutton.FloatingActionButton;\r\n    import com.google.firebase.firestore.CollectionReference;\r\n    import com.google.firebase.firestore.FirebaseFirestore;\r\n    import com.google.firebase.firestore.Query;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    private FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    private CollectionReference notebookRef = db.collection(&quot;Cevaplar&quot;);\r\n    private NoteAdapter adapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        FloatingActionButton button = findViewById(R.id.button_add_note);\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                startActivity(new Intent(MainActivity.this, NewNoteActivity.class));\r\n            }\r\n        });\r\n        setUpRecyclerView();\r\n    }\r\n\r\n    private void setUpRecyclerView() {\r\n        Query query = notebookRef.orderBy(&quot;priority&quot;, Query.Direction.DESCENDING);\r\n        FirestoreRecyclerOptions&lt;Note&gt; options = new FirestoreRecyclerOptions.Builder&lt;Note&gt;()\r\n                .setQuery(query, Note.class)\r\n                .build();\r\n        adapter = new NoteAdapter(options);\r\n        RecyclerView recyclerView = findViewById(R.id.recycler_view);\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        recyclerView.setAdapter(adapter);\r\n\r\n        new ItemTouchHelper(new ItemTouchHelper.SimpleCallback(0, ItemTouchHelper.LEFT | ItemTouchHelper.RIGHT) {\r\n            @Override\r\n            public boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder target) {\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public void onSwiped(@NonNull RecyclerView.ViewHolder viewHolder, int direction) {\r\n                adapter.deleteItem(viewHolder.getAdapterPosition());\r\n            }\r\n        }).attachToRecyclerView(recyclerView);\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        adapter.startListening();\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        adapter.stopListening();\r\n    }\r\n    }\r\n\r\nCode in NewNoteActivity:\r\n\r\n    package com.caneraltuner.cepanket2;\r\n\r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.os.Bundle;\r\n    import android.view.Menu;\r\n    import android.view.MenuInflater;\r\n    import android.view.MenuItem;\r\n    import android.view.View;\r\n    import android.widget.RadioButton;\r\n    import android.widget.RadioGroup;\r\n    import android.widget.Toast;\r\n\r\n    import com.firebase.ui.firestore.FirestoreRecyclerOptions;\r\n    import com.google.firebase.firestore.CollectionReference;\r\n    import com.google.firebase.firestore.FirebaseFirestore;\r\n    import com.google.firebase.firestore.Query;\r\n\r\n    public class NewNoteActivity extends AppCompatActivity {\r\n\r\n    private RadioButton radioButton, radioButton2, radioButton3, radioButton4, radioButton5, radioButton6,\r\n            radioButton7, radioButton8, radioButton9, radioButton10, radioButton11, radioButton12;\r\n    String cevap1, cevap2, cevap3, cevap4;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_new_note);\r\n\r\n        getSupportActionBar().setHomeAsUpIndicator(R.drawable.ic_close);\r\n        setTitle(&quot;Yeni Anket Yap&quot;);\r\n\r\n        radioButton = findViewById(R.id.radioButton);\r\n        radioButton2 = findViewById(R.id.radioButton2);\r\n        radioButton3 = findViewById(R.id.radioButton3);\r\n        radioButton4 = findViewById(R.id.radioButton4);\r\n        radioButton5 = findViewById(R.id.radioButton5);\r\n        radioButton6 = findViewById(R.id.radioButton6);\r\n        radioButton7 = findViewById(R.id.radioButton7);\r\n        radioButton8 = findViewById(R.id.radioButton8);\r\n        radioButton9 = findViewById(R.id.radioButton9);\r\n        radioButton10 = findViewById(R.id.radioButton10);\r\n        radioButton11 = findViewById(R.id.radioButton11);\r\n        radioButton12 = findViewById(R.id.radioButton12);\r\n    }\r\n\r\n    public void onRadioButtonClicked(View view) {\r\n        //RadioButton tıklama kontrol&#252;\r\n        boolean kontrol = ((RadioButton) view).isChecked();\r\n\r\n        // Hangi RadioButton&#39;ın tıklandığının kontrol&#252;\r\n        switch (view.getId()) {\r\n            case R.id.radioButton:\r\n                if (kontrol)\r\n                    cevap1 = radioButton.getText().toString();\r\n                break;\r\n            case R.id.radioButton2:\r\n                if (kontrol)\r\n                    cevap1 = radioButton2.getText().toString();\r\n                break;\r\n            case R.id.radioButton3:\r\n                if (kontrol)\r\n                    cevap1 = radioButton3.getText().toString();\r\n                break;\r\n            case R.id.radioButton4:\r\n                if (kontrol)\r\n                    cevap2 = radioButton4.getText().toString();\r\n                break;\r\n            case R.id.radioButton5:\r\n                if (kontrol)\r\n                    cevap2 = radioButton5.getText().toString();\r\n                break;\r\n            case R.id.radioButton6:\r\n                if (kontrol)\r\n                    cevap2 = radioButton6.getText().toString();\r\n                break;\r\n            case R.id.radioButton7:\r\n                if (kontrol)\r\n                    cevap3 = radioButton7.getText().toString();\r\n                break;\r\n            case R.id.radioButton8:\r\n                if (kontrol)\r\n                    cevap3 = radioButton8.getText().toString();\r\n                break;\r\n            case R.id.radioButton9:\r\n                if (kontrol)\r\n                    cevap3 = radioButton9.getText().toString();\r\n                break;\r\n            case R.id.radioButton10:\r\n                if (kontrol)\r\n                    cevap4 = radioButton10.getText().toString();\r\n                break;\r\n            case R.id.radioButton11:\r\n                if(kontrol)\r\n                    cevap4 = radioButton11.getText().toString();\r\n            case R.id.radioButton12:\r\n                if(kontrol)\r\n                    cevap4 = radioButton12.getText().toString();\r\n                break;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        MenuInflater menuInflater = getMenuInflater();\r\n        menuInflater.inflate(R.menu.new_note_menu, menu);\r\n        return super.onCreateOptionsMenu(menu);\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case R.id.save_note:\r\n                saveNote();\r\n                return true;\r\n            default:\r\n                return super.onOptionsItemSelected(item);\r\n        }\r\n    }\r\n\r\n    private void saveNote() {\r\n        String title = &quot;Anket&quot;;\r\n        int priority = 1;\r\n        if (cevap1.equals(&quot;&quot;) || cevap2.equals(&quot;&quot;) || cevap3.equals(&quot;&quot;) || cevap4.equals(&quot;&quot;)) {\r\n            Toast.makeText(this, &quot;L&#252;tfen t&#252;m cevapları eksiksiz se&#231;in&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n\r\n        CollectionReference reference = FirebaseFirestore.getInstance().collection(&quot;Cevaplar&quot;);\r\n        reference.add(new Note(title, cevap1, cevap2, cevap3, cevap4, priority));\r\n        Toast.makeText(this, &quot;Cevaplar kaydedildi&quot;, Toast.LENGTH_SHORT).show();\r\n        finish();\r\n    }\r\n\r\n    }","title":"Inconsistency Detected Invalid View Holder Adapter Error","body":"<p>I made an application running with Firestore for my school project. When I add the first query there is no problem but if I want to add the second one and go back to <code>MainActivity</code>, I get this error and the application dies.</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.caneraltuner.cepanket2, PID: 13240\njava.lang.IndexOutOfBoundsException: Inconsistency detected. Invalid view holder adapter positionNoteHolder{f9f3667 position=2 id=-1, oldPos=0, pLpos:0 scrap [attachedScrap] tmpDetached no parent} androidx.recyclerview.widget.RecyclerView{c64d4da VFED..... ........ 0,0-1080,1584 #7f0801de app:id/recycler_view}, adapter:com.caneraltuner.cepanket2.NoteAdapter@2549b6d, layout:androidx.recyclerview.widget.LinearLayoutManager@8af93a2, context:com.caneraltuner.cepanket2.MainActivity@c95bf4d\n    at androidx.recyclerview.widget.RecyclerView$Recycler.validateViewHolderForOffsetPosition(RecyclerView.java:6156)\n    at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6339)\n    at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6300)\n    at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6296)\n    at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2330)\n    at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1631)\n    at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1591)\n    at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:668)\n    at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep1(RecyclerView.java:4255)\n    at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:4010)\n    at androidx.recyclerview.widget.RecyclerView.consumePendingUpdateOperations(RecyclerView.java:2028)\n    at androidx.recyclerview.widget.RecyclerView$1.run(RecyclerView.java:417)\n    at android.view.Choreographer$CallbackRecord.run(Choreographer.java:972)\n    at android.view.Choreographer.doCallbacks(Choreographer.java:796)\n    at android.view.Choreographer.doFrame(Choreographer.java:727)\n    at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:957)\n    at android.os.Handler.handleCallback(Handler.java:938)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loop(Looper.java:223)\n    at android.app.ActivityThread.main(ActivityThread.java:7656)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n    I/Process: Sending signal. PID: 13240 SIG: 9\n</code></pre>\n<p>Code in MainActivity:</p>\n<pre><code>package com.caneraltuner.cepanket2;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.ItemTouchHelper;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\n\nimport com.firebase.ui.firestore.FirestoreRecyclerOptions;\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\nimport com.google.firebase.firestore.CollectionReference;\nimport com.google.firebase.firestore.FirebaseFirestore;\nimport com.google.firebase.firestore.Query;\n\npublic class MainActivity extends AppCompatActivity {\nprivate FirebaseFirestore db = FirebaseFirestore.getInstance();\nprivate CollectionReference notebookRef = db.collection(&quot;Cevaplar&quot;);\nprivate NoteAdapter adapter;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    FloatingActionButton button = findViewById(R.id.button_add_note);\n    button.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            startActivity(new Intent(MainActivity.this, NewNoteActivity.class));\n        }\n    });\n    setUpRecyclerView();\n}\n\nprivate void setUpRecyclerView() {\n    Query query = notebookRef.orderBy(&quot;priority&quot;, Query.Direction.DESCENDING);\n    FirestoreRecyclerOptions&lt;Note&gt; options = new FirestoreRecyclerOptions.Builder&lt;Note&gt;()\n            .setQuery(query, Note.class)\n            .build();\n    adapter = new NoteAdapter(options);\n    RecyclerView recyclerView = findViewById(R.id.recycler_view);\n    recyclerView.setHasFixedSize(true);\n    recyclerView.setLayoutManager(new LinearLayoutManager(this));\n    recyclerView.setAdapter(adapter);\n\n    new ItemTouchHelper(new ItemTouchHelper.SimpleCallback(0, ItemTouchHelper.LEFT | ItemTouchHelper.RIGHT) {\n        @Override\n        public boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder target) {\n            return false;\n        }\n\n        @Override\n        public void onSwiped(@NonNull RecyclerView.ViewHolder viewHolder, int direction) {\n            adapter.deleteItem(viewHolder.getAdapterPosition());\n        }\n    }).attachToRecyclerView(recyclerView);\n}\n\n@Override\nprotected void onStart() {\n    super.onStart();\n    adapter.startListening();\n}\n\n@Override\nprotected void onStop() {\n    super.onStop();\n    adapter.stopListening();\n}\n}\n</code></pre>\n<p>Code in NewNoteActivity:</p>\n<pre><code>package com.caneraltuner.cepanket2;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.Menu;\nimport android.view.MenuInflater;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.RadioButton;\nimport android.widget.RadioGroup;\nimport android.widget.Toast;\n\nimport com.firebase.ui.firestore.FirestoreRecyclerOptions;\nimport com.google.firebase.firestore.CollectionReference;\nimport com.google.firebase.firestore.FirebaseFirestore;\nimport com.google.firebase.firestore.Query;\n\npublic class NewNoteActivity extends AppCompatActivity {\n\nprivate RadioButton radioButton, radioButton2, radioButton3, radioButton4, radioButton5, radioButton6,\n        radioButton7, radioButton8, radioButton9, radioButton10, radioButton11, radioButton12;\nString cevap1, cevap2, cevap3, cevap4;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_new_note);\n\n    getSupportActionBar().setHomeAsUpIndicator(R.drawable.ic_close);\n    setTitle(&quot;Yeni Anket Yap&quot;);\n\n    radioButton = findViewById(R.id.radioButton);\n    radioButton2 = findViewById(R.id.radioButton2);\n    radioButton3 = findViewById(R.id.radioButton3);\n    radioButton4 = findViewById(R.id.radioButton4);\n    radioButton5 = findViewById(R.id.radioButton5);\n    radioButton6 = findViewById(R.id.radioButton6);\n    radioButton7 = findViewById(R.id.radioButton7);\n    radioButton8 = findViewById(R.id.radioButton8);\n    radioButton9 = findViewById(R.id.radioButton9);\n    radioButton10 = findViewById(R.id.radioButton10);\n    radioButton11 = findViewById(R.id.radioButton11);\n    radioButton12 = findViewById(R.id.radioButton12);\n}\n\npublic void onRadioButtonClicked(View view) {\n    //RadioButton tıklama kontrolü\n    boolean kontrol = ((RadioButton) view).isChecked();\n\n    // Hangi RadioButton'ın tıklandığının kontrolü\n    switch (view.getId()) {\n        case R.id.radioButton:\n            if (kontrol)\n                cevap1 = radioButton.getText().toString();\n            break;\n        case R.id.radioButton2:\n            if (kontrol)\n                cevap1 = radioButton2.getText().toString();\n            break;\n        case R.id.radioButton3:\n            if (kontrol)\n                cevap1 = radioButton3.getText().toString();\n            break;\n        case R.id.radioButton4:\n            if (kontrol)\n                cevap2 = radioButton4.getText().toString();\n            break;\n        case R.id.radioButton5:\n            if (kontrol)\n                cevap2 = radioButton5.getText().toString();\n            break;\n        case R.id.radioButton6:\n            if (kontrol)\n                cevap2 = radioButton6.getText().toString();\n            break;\n        case R.id.radioButton7:\n            if (kontrol)\n                cevap3 = radioButton7.getText().toString();\n            break;\n        case R.id.radioButton8:\n            if (kontrol)\n                cevap3 = radioButton8.getText().toString();\n            break;\n        case R.id.radioButton9:\n            if (kontrol)\n                cevap3 = radioButton9.getText().toString();\n            break;\n        case R.id.radioButton10:\n            if (kontrol)\n                cevap4 = radioButton10.getText().toString();\n            break;\n        case R.id.radioButton11:\n            if(kontrol)\n                cevap4 = radioButton11.getText().toString();\n        case R.id.radioButton12:\n            if(kontrol)\n                cevap4 = radioButton12.getText().toString();\n            break;\n    }\n}\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    MenuInflater menuInflater = getMenuInflater();\n    menuInflater.inflate(R.menu.new_note_menu, menu);\n    return super.onCreateOptionsMenu(menu);\n}\n\n@Override\npublic boolean onOptionsItemSelected(@NonNull MenuItem item) {\n    switch (item.getItemId()) {\n        case R.id.save_note:\n            saveNote();\n            return true;\n        default:\n            return super.onOptionsItemSelected(item);\n    }\n}\n\nprivate void saveNote() {\n    String title = &quot;Anket&quot;;\n    int priority = 1;\n    if (cevap1.equals(&quot;&quot;) || cevap2.equals(&quot;&quot;) || cevap3.equals(&quot;&quot;) || cevap4.equals(&quot;&quot;)) {\n        Toast.makeText(this, &quot;Lütfen tüm cevapları eksiksiz seçin&quot;, Toast.LENGTH_SHORT).show();\n        return;\n    }\n\n    CollectionReference reference = FirebaseFirestore.getInstance().collection(&quot;Cevaplar&quot;);\n    reference.add(new Note(title, cevap1, cevap2, cevap3, cevap4, priority));\n    Toast.makeText(this, &quot;Cevaplar kaydedildi&quot;, Toast.LENGTH_SHORT).show();\n    finish();\n}\n\n}\n</code></pre>\n"},{"tags":["java","colors","ansi-escape","jcreator"],"answers":[{"tags":[],"owner":{"account_id":143651,"reputation":19969,"user_id":352131,"accept_rate":77,"display_name":"Durandal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445614390,"creation_date":1445614390,"answer_id":33306253,"question_id":33306146,"body_markdown":"There is no concept of color with System.out. Its an abstraction that is used to output text to any kind of target, be it the console of an IDE, a file or a NULL target that discards the output.\r\n\r\nANSI codes are understood *only* by an ANSI compatible console, for example the windows command line prompt. So *if* you run your code from cmd (without redirecting the output), you will see the codes take effect. In your IDE&#39;s console they wont.","title":"Color in JCreator","body":"<p>There is no concept of color with System.out. Its an abstraction that is used to output text to any kind of target, be it the console of an IDE, a file or a NULL target that discards the output.</p>\n\n<p>ANSI codes are understood <em>only</em> by an ANSI compatible console, for example the windows command line prompt. So <em>if</em> you run your code from cmd (without redirecting the output), you will see the codes take effect. In your IDE's console they wont.</p>\n"}],"owner":{"account_id":7170093,"reputation":11,"user_id":5477857,"display_name":"jmm8398"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1940,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679843923,"creation_date":1445614093,"question_id":33306146,"body_markdown":"When trying to use the ANSI escape codes, it would not work. I would assume this is because `JCreator` does not support these escape codes. Is there any other way to print out color when using `System.out.println`? The ANSI codes I am using is below along with what I am trying to print as a trial. The code is inside a class and it is running properly.\r\n\r\n    final String ANSI_RESET = &quot;\\u001B[0m&quot;;\r\n\tfinal String ANSI_BLACK = &quot;\\u001B[30m&quot;;\r\n    final String ANSI_RED = &quot;\\u001B[31m&quot;;\r\n    final String ANSI_GREEN = &quot;\\u001B[32m&quot;;\r\n    final String ANSI_YELLOW = &quot;\\u001B[33m&quot;;\r\n    final String ANSI_BLUE = &quot;\\u001B[34m&quot;;\r\n    final String ANSI_PURPLE = &quot;\\u001B[35m&quot;;\r\n    final String ANSI_CYAN = &quot;\\u001B[36m&quot;;\r\n    final String ANSI_WHITE = &quot;\\u001B[37m&quot;;\r\n    System.out.println(ANSI_RED + &quot;This text is red!&quot; + ANSI_RESET);\r\n\r\n","title":"Color in JCreator","body":"<p>When trying to use the ANSI escape codes, it would not work. I would assume this is because <code>JCreator</code> does not support these escape codes. Is there any other way to print out color when using <code>System.out.println</code>? The ANSI codes I am using is below along with what I am trying to print as a trial. The code is inside a class and it is running properly.</p>\n\n<pre><code>final String ANSI_RESET = \"\\u001B[0m\";\nfinal String ANSI_BLACK = \"\\u001B[30m\";\nfinal String ANSI_RED = \"\\u001B[31m\";\nfinal String ANSI_GREEN = \"\\u001B[32m\";\nfinal String ANSI_YELLOW = \"\\u001B[33m\";\nfinal String ANSI_BLUE = \"\\u001B[34m\";\nfinal String ANSI_PURPLE = \"\\u001B[35m\";\nfinal String ANSI_CYAN = \"\\u001B[36m\";\nfinal String ANSI_WHITE = \"\\u001B[37m\";\nSystem.out.println(ANSI_RED + \"This text is red!\" + ANSI_RESET);\n</code></pre>\n"},{"tags":["java","spring-boot","grpc"],"answers":[{"tags":[],"owner":{"account_id":27479976,"reputation":97,"user_id":20967366,"display_name":"panic08"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679843783,"creation_date":1679843783,"answer_id":75848618,"question_id":75847215,"body_markdown":"My solution to the problem: I did not have a gRpc server, I tried to catch a connection with the Spring server, it turns out that I need to write it:\r\n```\r\npublic class GrpcRunner {\r\n    public static void main(String[] args) throws IOException, InterruptedException {\r\n        Server server = ServerBuilder\r\n                .forPort(9020)\r\n                .addService(new GrpcServer()).build();\r\n\r\n        System.out.println(&quot;мы запускаемся&quot;);\r\n        server.start();\r\n        System.out.println(&quot;мы запустились&quot;);\r\n        server.awaitTermination();\r\n    }\r\n}\r\n```\r\nThere seems to be a dependency called: **grpc-spring-boot-starter**\r\nIt will allow you to run the gRpc server with spring, but unfortunately, it is not installed for me..","title":"UNAVAILABLE: Network closed for unknown reason gRpc spring boot","body":"<p>My solution to the problem: I did not have a gRpc server, I tried to catch a connection with the Spring server, it turns out that I need to write it:</p>\n<pre><code>public class GrpcRunner {\n    public static void main(String[] args) throws IOException, InterruptedException {\n        Server server = ServerBuilder\n                .forPort(9020)\n                .addService(new GrpcServer()).build();\n\n        System.out.println(&quot;мы запускаемся&quot;);\n        server.start();\n        System.out.println(&quot;мы запустились&quot;);\n        server.awaitTermination();\n    }\n}\n</code></pre>\n<p>There seems to be a dependency called: <strong>grpc-spring-boot-starter</strong>\nIt will allow you to run the gRpc server with spring, but unfortunately, it is not installed for me..</p>\n"}],"owner":{"account_id":27479976,"reputation":97,"user_id":20967366,"display_name":"panic08"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":984,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679843783,"creation_date":1679827328,"question_id":75847215,"body_markdown":"I have a problem. I want to receive a http get request on the client, and grpc will send a message to the server, where it will be logged and displayed in the console, however, when I receive a get request, I get this: **io.grpc.StatusRuntimeException: UNAVAILABLE: Network closed for unknown reason**\r\n\r\nIn the client and server I have a proto folder, in the proto files it says this:\r\n``` \r\nsyntax = &quot;proto3&quot;;\r\npackage com.example;\r\noption java_multiple_files = true;\r\nmessage Hello{\r\n  string message = 1;\r\n}\r\nmessage Greet{\r\n  string message = 1;\r\n}\r\nservice Greeting {\r\n  rpc greeting(Hello) returns (Greet){}\r\n}\r\n```\r\nNow I organized the server in the service, like this:\r\n```\r\n@Service\r\n@Slf4j\r\npublic class GreetingService extends GreetingGrpc.GreetingImplBase {\r\n\r\n    @Override\r\n    public void greeting(Hello request, StreamObserver&lt;Greet&gt; responseObserver) {\r\n      log.info(&quot;I receive message : &quot; + request);\r\n\r\n      Greet grret = Greet.newBuilder()\r\n                      .setMessage(&quot;Hello to you too!&quot;)\r\n                              .build();\r\n      responseObserver.onNext(grret);\r\n      responseObserver.onCompleted();\r\n    }\r\n}\r\n```\r\nIn my understanding, we write return, for the event: *greeting*. Now, I want to send a request here, for this I wrote a controller in the client:\r\n``` \r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class GreetingController {\r\n\r\n    @GetMapping\r\n    public void greeting(){\r\n        ManagedChannel channel = ManagedChannelBuilder\r\n                .forAddress(&quot;localhost&quot;, 9000)\r\n                .usePlaintext().build();\r\n\r\n        GreetingGrpc.GreetingBlockingStub stub = GreetingGrpc.newBlockingStub(channel);\r\n        Greet greet = stub.greeting(Hello.newBuilder()\r\n                        .setMessage(&quot;Hello, World!&quot;)\r\n                .build());\r\n        channel.shutdown();\r\n    }\r\n\r\n}\r\n```\r\nBut unfortunately, when I send a GET request to localhost:9010 (my client), I get an error. I really hope for your help.\r\n\r\nMy pom.xml is in both modules(server, client)\r\n``` \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.5&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;server&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;server&lt;/name&gt;\r\n    &lt;description&gt;server&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-netty&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;extensions&gt;\r\n            &lt;extension&gt;\r\n                &lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.6.1&lt;/version&gt;\r\n            &lt;/extension&gt;\r\n        &lt;/extensions&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.6.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;protocArtifact&gt;\r\n                        com.google.protobuf:protoc:3.3.0:exe:${os.detected.classifier}\r\n                    &lt;/protocArtifact&gt;\r\n                    &lt;pluginId&gt;grpc-java&lt;/pluginId&gt;\r\n                    &lt;pluginArtifact&gt;\r\n                        io.grpc:protoc-gen-grpc-java:1.4.0:exe:${os.detected.classifier}\r\n                    &lt;/pluginArtifact&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                            &lt;goal&gt;compile-custom&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n","title":"UNAVAILABLE: Network closed for unknown reason gRpc spring boot","body":"<p>I have a problem. I want to receive a http get request on the client, and grpc will send a message to the server, where it will be logged and displayed in the console, however, when I receive a get request, I get this: <strong>io.grpc.StatusRuntimeException: UNAVAILABLE: Network closed for unknown reason</strong></p>\n<p>In the client and server I have a proto folder, in the proto files it says this:</p>\n<pre><code>syntax = &quot;proto3&quot;;\npackage com.example;\noption java_multiple_files = true;\nmessage Hello{\n  string message = 1;\n}\nmessage Greet{\n  string message = 1;\n}\nservice Greeting {\n  rpc greeting(Hello) returns (Greet){}\n}\n</code></pre>\n<p>Now I organized the server in the service, like this:</p>\n<pre><code>@Service\n@Slf4j\npublic class GreetingService extends GreetingGrpc.GreetingImplBase {\n\n    @Override\n    public void greeting(Hello request, StreamObserver&lt;Greet&gt; responseObserver) {\n      log.info(&quot;I receive message : &quot; + request);\n\n      Greet grret = Greet.newBuilder()\n                      .setMessage(&quot;Hello to you too!&quot;)\n                              .build();\n      responseObserver.onNext(grret);\n      responseObserver.onCompleted();\n    }\n}\n</code></pre>\n<p>In my understanding, we write return, for the event: <em>greeting</em>. Now, I want to send a request here, for this I wrote a controller in the client:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class GreetingController {\n\n    @GetMapping\n    public void greeting(){\n        ManagedChannel channel = ManagedChannelBuilder\n                .forAddress(&quot;localhost&quot;, 9000)\n                .usePlaintext().build();\n\n        GreetingGrpc.GreetingBlockingStub stub = GreetingGrpc.newBlockingStub(channel);\n        Greet greet = stub.greeting(Hello.newBuilder()\n                        .setMessage(&quot;Hello, World!&quot;)\n                .build());\n        channel.shutdown();\n    }\n\n}\n</code></pre>\n<p>But unfortunately, when I send a GET request to localhost:9010 (my client), I get an error. I really hope for your help.</p>\n<p>My pom.xml is in both modules(server, client)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;server&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;server&lt;/name&gt;\n    &lt;description&gt;server&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-netty&lt;/artifactId&gt;\n            &lt;version&gt;1.16.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\n            &lt;version&gt;1.16.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\n            &lt;version&gt;1.16.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;extensions&gt;\n            &lt;extension&gt;\n                &lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.6.1&lt;/version&gt;\n            &lt;/extension&gt;\n        &lt;/extensions&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.6.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;protocArtifact&gt;\n                        com.google.protobuf:protoc:3.3.0:exe:${os.detected.classifier}\n                    &lt;/protocArtifact&gt;\n                    &lt;pluginId&gt;grpc-java&lt;/pluginId&gt;\n                    &lt;pluginArtifact&gt;\n                        io.grpc:protoc-gen-grpc-java:1.4.0:exe:${os.detected.classifier}\n                    &lt;/pluginArtifact&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                            &lt;goal&gt;compile-custom&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","jms","websphere","ibm-mq","classloader"],"answers":[{"tags":[],"owner":{"account_id":2022431,"reputation":349,"user_id":1808274,"accept_rate":89,"display_name":"Harshal Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679843733,"creation_date":1679843733,"answer_id":75848611,"question_id":75170388,"body_markdown":"These connection leaks are due to the long running WebSphere long running transactions causing threads to be active and in turn not closing connection handle.","title":"Websphere IBM MQ connection leaks causing blocked threads","body":"<p>These connection leaks are due to the long running WebSphere long running transactions causing threads to be active and in turn not closing connection handle.</p>\n"}],"owner":{"account_id":2022431,"reputation":349,"user_id":1808274,"accept_rate":89,"display_name":"Harshal Patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679843733,"creation_date":1674121877,"question_id":75170388,"body_markdown":"Getting below MQ connection stack trace in Websphere Connection leak trace logs. Not sure why Websphere not releasing connection in within configured timeout. Took \r\n\r\nWe have MQ JMS pool connection timeout of 5 second configured in the WAS JMS pool setting.\r\n\r\nNot able to understand why still connection is in use. We are closing connection using finally code block when we read JMS message. There in no other application error logs.\r\n\r\nUsed WAS tracing string as --&gt;  *=info: JMSApi=all: JMSServer=all: Messaging=all: JMS_WASTraceAdapter=all: com.ibm.mq.*=all: jmsApi=all: ConnLeakLogic=all: com.ibm.ejs.j2c.*=all\r\n\r\n    Connection marked to be destroyed.&#160; Waiting for transaction end and connection close - MCWrapper id 53b353b3&#160; Managed connection com.ibm.ejs.jms.JMSManagedQueueConnection@29422942\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; managed connection factory = com.ibm.ejs.jms.WMQJMSRAManagedConnectionFactory@70a470a4\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; physical connection = com.ibm.mq.jms.MQXAQueueConnection@44504450\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; connectorName = JMS$MIUFACTORY$JMSManagedConnection@11\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; credential = null\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; open connection handles = [com.ibm.ejs.jms.JMSQueueConnectionHandle@655a655a]&#160; State:STATE_ACTIVE_INUSE Thread Id: 0000005f Thread Name: WebContainer : 5 Handle count 1 Start time inuse Wed Jan 18 16:00:18 GMT 2023 Time inuse 1479 (seconds)\r\n    &#160;&#160;&#160; Connection marked to be destroyed.&#160; Waiting for transaction end and connection close - MCWrapper id 270b270b&#160; Managed connection com.ibm.ejs.jms.JMSManagedQueueConnection@1c921c92\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; managed connection factory = com.ibm.ejs.jms.WMQJMSRAManagedConnectionFactory@70a470a4\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; physical connection = com.ibm.mq.jms.MQXAQueueConnection@3c933c93\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; connectorName = JMS$MIUFACTORY$JMSManagedConnection@7\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; credential = null\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; open connection handles = [com.ibm.ejs.jms.JMSQueueConnectionHandle@1c2f1c2f]&#160; State:STATE_ACTIVE_INUSE Thread Id: 00000035 Thread Name: WebContainer : 2 Handle count 1 Start time inuse Wed Jan 18 15:24:28 GMT 2023 Time inuse 3629 (seconds)\r\n    &#160; Total number of connection in unshared pool: 2&#160;Connection Leak Logic Information:\r\n    &#160; MCWrapper id 53b353b3&#160; Managed connection com.ibm.ejs.jms.JMSManagedQueueConnection@29422942\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; managed connection factory = com.ibm.ejs.jms.WMQJMSRAManagedConnectionFactory@70a470a4\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; physical connection = com.ibm.mq.jms.MQXAQueueConnection@44504450\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; connectorName = JMS$MIUFACTORY$JMSManagedConnection@11\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; credential = null\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; open connection handles = [com.ibm.ejs.jms.JMSQueueConnectionHandle@655a655a]&#160; State:STATE_ACTIVE_INUSE Thread Id: 0000005f Thread Name: WebContainer : 5 Handle count 1\r\n    &#160;&#160;&#160;&#160; Start time inuse Wed Jan 18 16:00:18 GMT 2023 Time inuse 1479 (seconds)\r\n    &#160;&#160;&#160;&#160; Last allocation time Wed Jan 18 16:00:18 GMT 2023\r\n    &#160;&#160;&#160;&#160;&#160;&#160; getConnection stack trace information:\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; com.ibm.ejs.j2c.ConnectionManager.allocateConnection(ConnectionManager.java:900)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; com.ibm.ejs.jms.JMSQueueConnectionFactoryHandle.createQueueConnection(JMSQueueConnectionFactoryHandle.java:84)\r\n\r\nWebsphere verion details:\r\nVersion                  7.0.0.45\r\nMQ version:\r\nImplementation-Title: WebSphere MQ Resource Adapter\r\nImplementation-Version: 7.0.1.14\r\n\r\nEDIT:\r\nAfter analysis this connection leak is due to the failed class loading in during one of the service execution.  \r\nEven though our library is present in the EAR it is still giving error in loading ClassNotFoundException for loading class which is present in one the jar.                                     \r\n::java.lang.ClassNotFoundException: :           \r\n                               \r\n    java.net.URLClassLoader.findClass(URLClassLoader.java:457):\t\r\n    at com.ibm.ws.bootstrap.ExtClassLoader.findClass(ExtClassLoader.java:201):\t\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:676):\t\r\n    at com.ibm.ws.bootstrap.ExtClassLoader.loadClass(ExtClassLoader.java:112):\t\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:642):\t\r\n    at com.ibm.ws.classloader.ProtectionClassLoader.loadClass(ProtectionClassLoader.java:62):\t\r\n    at com.ibm.ws.classloader.ProtectionClassLoader.loadClass(ProtectionClassLoader.java:58):\t\r\n    at com.ibm.ws.classloader.CompoundClassLoader.loadClass(CompoundClassLoader.java:545):\t\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:642):\t\r\n    at com.ibm.ws.classloader.CompoundClassLoader.loadClass(CompoundClassLoader.java:513):\t\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:642):\t\r\n    at com.ibm.ws.classloader.CompoundClassLoader.loadClass(CompoundClassLoader.java:545):\t\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:642):\t\r\n    at ","title":"Websphere IBM MQ connection leaks causing blocked threads","body":"<p>Getting below MQ connection stack trace in Websphere Connection leak trace logs. Not sure why Websphere not releasing connection in within configured timeout. Took</p>\n<p>We have MQ JMS pool connection timeout of 5 second configured in the WAS JMS pool setting.</p>\n<p>Not able to understand why still connection is in use. We are closing connection using finally code block when we read JMS message. There in no other application error logs.</p>\n<p>Used WAS tracing string as --&gt;  <em>=info: JMSApi=all: JMSServer=all: Messaging=all: JMS_WASTraceAdapter=all: com.ibm.mq.</em>=all: jmsApi=all: ConnLeakLogic=all: com.ibm.ejs.j2c.*=all</p>\n<pre><code>Connection marked to be destroyed.  Waiting for transaction end and connection close - MCWrapper id 53b353b3  Managed connection com.ibm.ejs.jms.JMSManagedQueueConnection@29422942\n        managed connection factory = com.ibm.ejs.jms.WMQJMSRAManagedConnectionFactory@70a470a4\n        physical connection = com.ibm.mq.jms.MQXAQueueConnection@44504450\n        connectorName = JMS$MIUFACTORY$JMSManagedConnection@11\n        credential = null\n        open connection handles = [com.ibm.ejs.jms.JMSQueueConnectionHandle@655a655a]  State:STATE_ACTIVE_INUSE Thread Id: 0000005f Thread Name: WebContainer : 5 Handle count 1 Start time inuse Wed Jan 18 16:00:18 GMT 2023 Time inuse 1479 (seconds)\n    Connection marked to be destroyed.  Waiting for transaction end and connection close - MCWrapper id 270b270b  Managed connection com.ibm.ejs.jms.JMSManagedQueueConnection@1c921c92\n        managed connection factory = com.ibm.ejs.jms.WMQJMSRAManagedConnectionFactory@70a470a4\n        physical connection = com.ibm.mq.jms.MQXAQueueConnection@3c933c93\n        connectorName = JMS$MIUFACTORY$JMSManagedConnection@7\n        credential = null\n        open connection handles = [com.ibm.ejs.jms.JMSQueueConnectionHandle@1c2f1c2f]  State:STATE_ACTIVE_INUSE Thread Id: 00000035 Thread Name: WebContainer : 2 Handle count 1 Start time inuse Wed Jan 18 15:24:28 GMT 2023 Time inuse 3629 (seconds)\n  Total number of connection in unshared pool: 2 Connection Leak Logic Information:\n  MCWrapper id 53b353b3  Managed connection com.ibm.ejs.jms.JMSManagedQueueConnection@29422942\n        managed connection factory = com.ibm.ejs.jms.WMQJMSRAManagedConnectionFactory@70a470a4\n        physical connection = com.ibm.mq.jms.MQXAQueueConnection@44504450\n        connectorName = JMS$MIUFACTORY$JMSManagedConnection@11\n        credential = null\n        open connection handles = [com.ibm.ejs.jms.JMSQueueConnectionHandle@655a655a]  State:STATE_ACTIVE_INUSE Thread Id: 0000005f Thread Name: WebContainer : 5 Handle count 1\n     Start time inuse Wed Jan 18 16:00:18 GMT 2023 Time inuse 1479 (seconds)\n     Last allocation time Wed Jan 18 16:00:18 GMT 2023\n       getConnection stack trace information:\n          com.ibm.ejs.j2c.ConnectionManager.allocateConnection(ConnectionManager.java:900)\n          com.ibm.ejs.jms.JMSQueueConnectionFactoryHandle.createQueueConnection(JMSQueueConnectionFactoryHandle.java:84)\n</code></pre>\n<p>Websphere verion details:\nVersion                  7.0.0.45\nMQ version:\nImplementation-Title: WebSphere MQ Resource Adapter\nImplementation-Version: 7.0.1.14</p>\n<p>EDIT:\nAfter analysis this connection leak is due to the failed class loading in during one of the service execution.<br />\nEven though our library is present in the EAR it is still giving error in loading ClassNotFoundException for loading class which is present in one the jar.<br />\n::java.lang.ClassNotFoundException: :</p>\n<pre><code>java.net.URLClassLoader.findClass(URLClassLoader.java:457): \nat com.ibm.ws.bootstrap.ExtClassLoader.findClass(ExtClassLoader.java:201):  \nat java.lang.ClassLoader.loadClass(ClassLoader.java:676):   \nat com.ibm.ws.bootstrap.ExtClassLoader.loadClass(ExtClassLoader.java:112):  \nat java.lang.ClassLoader.loadClass(ClassLoader.java:642):   \nat com.ibm.ws.classloader.ProtectionClassLoader.loadClass(ProtectionClassLoader.java:62):   \nat com.ibm.ws.classloader.ProtectionClassLoader.loadClass(ProtectionClassLoader.java:58):   \nat com.ibm.ws.classloader.CompoundClassLoader.loadClass(CompoundClassLoader.java:545):  \nat java.lang.ClassLoader.loadClass(ClassLoader.java:642):   \nat com.ibm.ws.classloader.CompoundClassLoader.loadClass(CompoundClassLoader.java:513):  \nat java.lang.ClassLoader.loadClass(ClassLoader.java:642):   \nat com.ibm.ws.classloader.CompoundClassLoader.loadClass(CompoundClassLoader.java:545):  \nat java.lang.ClassLoader.loadClass(ClassLoader.java:642):   \nat \n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9447,"page":545,"page_size":100}
