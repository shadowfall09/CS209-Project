{"items":[{"tags":["java","algorithm","optimization"],"comments":[{"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"score":0,"creation_date":1642840977,"post_id":70811052,"comment_id":125183321,"body_markdown":"Why go through the expensive operation of splitting the string? You can just loop through each char in the entire string and use switch-case to increment the counter for the number it matches. That should be the fastest solution possible.","body":"Why go through the expensive operation of splitting the string? You can just loop through each char in the entire string and use switch-case to increment the counter for the number it matches. That should be the fastest solution possible."},{"owner":{"account_id":22347256,"reputation":17,"user_id":16625029,"display_name":"Sammie"},"score":0,"creation_date":1642856090,"post_id":70811052,"comment_id":125186440,"body_markdown":"@magicmn nah, it still takes some time. Maybe there&#39;s a better way to do this with dynamic programming but can&#39;t figure out how.","body":"@magicmn nah, it still takes some time. Maybe there&#39;s a better way to do this with dynamic programming but can&#39;t figure out how."}],"answers":[{"tags":[],"owner":{"account_id":14869803,"reputation":1329,"user_id":10737626,"display_name":"Nick the Community Scientist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642847064,"creation_date":1642839596,"answer_id":70811121,"question_id":70811052,"body_markdown":"So here is an issue you might not be aware of @Sammie. In my opinion, you should NOT use the seconds provided by your runner in Java to count time when it comes to making operations more efficient. As far as I am informed, a more objective calculation is to use internal methods of Java which depend on the CPU clock to count time. This way there is less variation between different PC&#39;s (although this I don&#39;t believe is fully eliminated). Please check my references below:\r\n\r\n 1. [Clock milis (only use this if you cannot use the solution below)][1]\r\n 2. [Nanoseconds][2]\r\n\r\n\r\n----------\r\n\r\n\r\n**Edit:** Here is [another stack overflow post discussing this matter][3]. Nanoseconds seem to be preferable.\r\n\r\nAll you need to do after that is convert into minutes, and you should now be calculating more precisely.\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/java-8-clock-millis-method-with-examples/\r\n  [2]: https://stackoverflow.com/questions/692569/how-can-i-count-the-time-it-takes-a-function-to-complete-in-java\r\n  [3]: https://stackoverflow.com/questions/8423789/benchmarking-inside-java-code","title":"Optimized way to count number of occurrences of a digit in a range of numbers","body":"<p>So here is an issue you might not be aware of @Sammie. In my opinion, you should NOT use the seconds provided by your runner in Java to count time when it comes to making operations more efficient. As far as I am informed, a more objective calculation is to use internal methods of Java which depend on the CPU clock to count time. This way there is less variation between different PC's (although this I don't believe is fully eliminated). Please check my references below:</p>\n<ol>\n<li><a href=\"https://www.geeksforgeeks.org/java-8-clock-millis-method-with-examples/\" rel=\"nofollow noreferrer\">Clock milis (only use this if you cannot use the solution below)</a></li>\n<li><a href=\"https://stackoverflow.com/questions/692569/how-can-i-count-the-time-it-takes-a-function-to-complete-in-java\">Nanoseconds</a></li>\n</ol>\n<hr />\n<p><strong>Edit:</strong> Here is <a href=\"https://stackoverflow.com/questions/8423789/benchmarking-inside-java-code\">another stack overflow post discussing this matter</a>. Nanoseconds seem to be preferable.</p>\n<p>All you need to do after that is convert into minutes, and you should now be calculating more precisely.</p>\n"},{"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642845871,"creation_date":1642843192,"answer_id":70811477,"question_id":70811052,"body_markdown":"Here is a simple implementation that uses modulus. If you want a faster code, you will need to find some smart formula that gives you the result without performing the actual computation.\r\n\r\n``` lang-java\r\nimport java.util.Arrays;\r\n\r\npublic class Counter\r\n{\r\n\tprivate static long[] counts = new long[10];\r\n\r\n\tpublic static void count(long x, long y)\r\n\t{\r\n\t\tArrays.fill(counts, 0);\r\n\t\tfor(long val=x; val&lt;=y; val++)\r\n\t\t\tcount(val);\r\n\t}\r\n\r\n\tpublic static void count(long val)\r\n\t{\r\n\t\twhile(val&gt;0)\r\n\t\t{\r\n\t\t\tint digit = (int)(val % 10);\r\n\t\t\tcounts[digit]++;\r\n\t\t\tval /= 10;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tcount(1, 20);\r\n\t\tSystem.out.println(Arrays.toString(counts));\r\n\t}\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n``` lang-none\r\n[2, 12, 3, 2, 2, 2, 2, 2, 2, 2]\r\n```\r\n","title":"Optimized way to count number of occurrences of a digit in a range of numbers","body":"<p>Here is a simple implementation that uses modulus. If you want a faster code, you will need to find some smart formula that gives you the result without performing the actual computation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\n\npublic class Counter\n{\n    private static long[] counts = new long[10];\n\n    public static void count(long x, long y)\n    {\n        Arrays.fill(counts, 0);\n        for(long val=x; val&lt;=y; val++)\n            count(val);\n    }\n\n    public static void count(long val)\n    {\n        while(val&gt;0)\n        {\n            int digit = (int)(val % 10);\n            counts[digit]++;\n            val /= 10;\n        }\n    }\n\n    public static void main(String[] args)\n    {\n        count(1, 20);\n        System.out.println(Arrays.toString(counts));\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[2, 12, 3, 2, 2, 2, 2, 2, 2, 2]\n</code></pre>\n"}],"owner":{"account_id":22347256,"reputation":17,"user_id":16625029,"display_name":"Sammie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642865474,"answer_count":2,"score":0,"last_activity_date":1642847064,"creation_date":1642838661,"question_id":70811052,"body_markdown":"I&#39;ve been trying to find the most optimized way to compute the number of occurrences of each digit from 0 to 9 in a random range of numbers typed in by the user for a random personal project.\r\nSay, the user enters 1 as the lower bound (inclusive) and 20 as the upper bound (inclusive). Output should be like this:\r\n\r\n    2 12 3 2 2 2 2 2 2 2\r\n\r\nUser can only enter positive integers. \r\nNow, the below code runs fine for small range of numbers/ small bounds, however, as expected it takes 4 seconds+ on my laptop for large numbers/range. \r\nI&#39;ve been trying to find a way to make things quicker, I used modulus to get the digits thinking maybe string conversion is to blame, but it didn&#39;t increase speed that much. I want to reduce runtime to less than 2 seconds. There must be a way, but what? Here is my original code:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class CountDigitsRandomRange {\r\n    public static void main(String[] args) {\r\n        Scanner s = new Scanner(System.in);\r\n        String g = s.nextLine();\r\n\r\n        while (!g.equals(&quot;0 0&quot;)) {\r\n            String[] n = g.split(&quot; &quot;);\r\n            long x = Long.parseLong(n[0]);\r\n            long y = Long.parseLong(n[1]);\r\n\r\n            long zero = 0;\r\n            long one = 0;\r\n            long two = 0;\r\n            long three = 0;\r\n            long four = 0;\r\n            long five = 0;\r\n            long six = 0;\r\n            long seven = 0;\r\n            long eight = 0;\r\n            long nine = 0;\r\n\r\n            for (long i = x; i &lt;= y; i++) {\r\n                String temp = String.valueOf(i);\r\n\r\n                for (int j = 0; j &lt; temp.length(); j++) {\r\n                    if (temp.charAt(j) == &#39;0&#39;) {\r\n                        zero++;\r\n                    }\r\n                    if (temp.charAt(j) == &#39;1&#39;) {\r\n                        one++;\r\n                    }\r\n                    if (temp.charAt(j) == &#39;2&#39;) {\r\n                        two++;\r\n                    }\r\n                    if (temp.charAt(j) == &#39;3&#39;) {\r\n                        three++;\r\n                    }\r\n                    if (temp.charAt(j) == &#39;4&#39;) {\r\n                        four++;\r\n                    }\r\n                    if (temp.charAt(j) == &#39;5&#39;) {\r\n                        five++;\r\n                    }\r\n                    if (temp.charAt(j) == &#39;6&#39;) {\r\n                        six++;\r\n                    }\r\n                    if (temp.charAt(j) == &#39;7&#39;) {\r\n                        seven++;\r\n                    }\r\n                    if (temp.charAt(j) == &#39;8&#39;) {\r\n                        eight++;\r\n                    }\r\n                    if (temp.charAt(j) == &#39;9&#39;) {\r\n                        nine++;\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(zero + &quot; &quot; + one + &quot; &quot; + two + &quot; &quot;+three + &quot; &quot; + four\r\n             + &quot; &quot; + five + &quot; &quot; + six + &quot; &quot; + seven + &quot; &quot; + eight + &quot; &quot; + nine);\r\n            g=s.nextLine();\r\n        }\r\n    }\r\n}\r\n```\r\nI&#39;ve seen some solutions online similar to my issue but they&#39;re mostly in C/C++, I don&#39;t get the syntax.","title":"Optimized way to count number of occurrences of a digit in a range of numbers","body":"<p>I've been trying to find the most optimized way to compute the number of occurrences of each digit from 0 to 9 in a random range of numbers typed in by the user for a random personal project.\nSay, the user enters 1 as the lower bound (inclusive) and 20 as the upper bound (inclusive). Output should be like this:</p>\n<pre><code>2 12 3 2 2 2 2 2 2 2\n</code></pre>\n<p>User can only enter positive integers.\nNow, the below code runs fine for small range of numbers/ small bounds, however, as expected it takes 4 seconds+ on my laptop for large numbers/range.\nI've been trying to find a way to make things quicker, I used modulus to get the digits thinking maybe string conversion is to blame, but it didn't increase speed that much. I want to reduce runtime to less than 2 seconds. There must be a way, but what? Here is my original code:</p>\n<pre><code>import java.util.Scanner;\n\npublic class CountDigitsRandomRange {\n    public static void main(String[] args) {\n        Scanner s = new Scanner(System.in);\n        String g = s.nextLine();\n\n        while (!g.equals(&quot;0 0&quot;)) {\n            String[] n = g.split(&quot; &quot;);\n            long x = Long.parseLong(n[0]);\n            long y = Long.parseLong(n[1]);\n\n            long zero = 0;\n            long one = 0;\n            long two = 0;\n            long three = 0;\n            long four = 0;\n            long five = 0;\n            long six = 0;\n            long seven = 0;\n            long eight = 0;\n            long nine = 0;\n\n            for (long i = x; i &lt;= y; i++) {\n                String temp = String.valueOf(i);\n\n                for (int j = 0; j &lt; temp.length(); j++) {\n                    if (temp.charAt(j) == '0') {\n                        zero++;\n                    }\n                    if (temp.charAt(j) == '1') {\n                        one++;\n                    }\n                    if (temp.charAt(j) == '2') {\n                        two++;\n                    }\n                    if (temp.charAt(j) == '3') {\n                        three++;\n                    }\n                    if (temp.charAt(j) == '4') {\n                        four++;\n                    }\n                    if (temp.charAt(j) == '5') {\n                        five++;\n                    }\n                    if (temp.charAt(j) == '6') {\n                        six++;\n                    }\n                    if (temp.charAt(j) == '7') {\n                        seven++;\n                    }\n                    if (temp.charAt(j) == '8') {\n                        eight++;\n                    }\n                    if (temp.charAt(j) == '9') {\n                        nine++;\n                    }\n                }\n            }\n            System.out.println(zero + &quot; &quot; + one + &quot; &quot; + two + &quot; &quot;+three + &quot; &quot; + four\n             + &quot; &quot; + five + &quot; &quot; + six + &quot; &quot; + seven + &quot; &quot; + eight + &quot; &quot; + nine);\n            g=s.nextLine();\n        }\n    }\n}\n</code></pre>\n<p>I've seen some solutions online similar to my issue but they're mostly in C/C++, I don't get the syntax.</p>\n"},{"tags":["java","spring-boot","jooq","r2dbc"],"answers":[{"tags":[],"owner":{"account_id":5253566,"reputation":297,"user_id":4197031,"accept_rate":67,"display_name":"martin kimani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642846867,"creation_date":1642846867,"answer_id":70811874,"question_id":70810424,"body_markdown":"So after some research I found out the exception is returned if no columns are returned in r2dbc. Issue was either insert was not happening or jooq could not return generated key. Turns out its the latter and it&#39;s a known jooq issue its documented very well here [https://github.com/jOOQ/jOOQ/issues/2943][1] \r\nbut there is a workaround for returning the generated value which is what I wanted in the first place. so below is the refactored code and its working now.\r\n\r\n    public Mono&lt;Integer&gt; generateCode(String phone,int code) {\r\n            return Mono.from(dsl.insertInto(RESET_CODES).columns(RESET_CODES.PHONE, RESET_CODES.RESET_CODE)\r\n                .values(phone,code)\r\n                .returningResult(field(&quot;reset_codes_id&quot;, INTEGER.identity(true)))).map(record -&gt; record.get(RESET_CODES.RESET_CODES_ID));\r\n    \r\n        }\r\n    \r\n\r\n\r\n  [1]: https://github.com/jOOQ/jOOQ/issues/2943","title":"java.lang.IllegalArgumentException: MySQL only supports single generated value. jooq r2dbc","body":"<p>So after some research I found out the exception is returned if no columns are returned in r2dbc. Issue was either insert was not happening or jooq could not return generated key. Turns out its the latter and it's a known jooq issue its documented very well here <a href=\"https://github.com/jOOQ/jOOQ/issues/2943\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/2943</a>\nbut there is a workaround for returning the generated value which is what I wanted in the first place. so below is the refactored code and its working now.</p>\n<pre><code>public Mono&lt;Integer&gt; generateCode(String phone,int code) {\n        return Mono.from(dsl.insertInto(RESET_CODES).columns(RESET_CODES.PHONE, RESET_CODES.RESET_CODE)\n            .values(phone,code)\n            .returningResult(field(&quot;reset_codes_id&quot;, INTEGER.identity(true)))).map(record -&gt; record.get(RESET_CODES.RESET_CODES_ID));\n\n    }\n</code></pre>\n"}],"owner":{"account_id":5253566,"reputation":297,"user_id":4197031,"accept_rate":67,"display_name":"martin kimani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70811874,"answer_count":1,"score":0,"last_activity_date":1642846867,"creation_date":1642831762,"question_id":70810424,"body_markdown":"I am experiencing this issue java.lang.IllegalArgumentException: MySQL only supports single generated value. in all my insert queries not just this table. I am using jooq 3.15 and r2dbc. what could be the issue\r\n\r\n    public Mono&lt;ResetCodesRecord&gt; generateCode(String phone,int code) {\r\n            return Mono.from(dsl.insertInto(RESET_CODES,RESET_CODES.PHONE, RESET_CODES.RESET_CODE)\r\n                .values(phone,code)\r\n                .returning()).map(record -&gt; record.into(ResetCodesRecord.class));\r\n    \r\n        }\r\n\r\nstack trace\r\n\r\n   \r\n\r\n    java.lang.IllegalArgumentException: MySQL only supports single generated value\r\n    \tat dev.miku.r2dbc.mysql.MySqlStatementSupport.returnGeneratedValues(MySqlStatementSupport.java:47) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\r\n    \tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\n    Error has been observed at the following site(s):\r\n    \t*__checkpoint ⇢ Handler com.bustapi.controllers.UserController#generateResetCode(String) [DispatcherHandler]\r\n    \t*__checkpoint ⇢ org.springframework.security.web.server.authorization.AuthorizationWebFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.security.web.server.authorization.ExceptionTranslationWebFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.security.web.server.authentication.logout.LogoutWebFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.security.web.server.savedrequest.ServerRequestCacheWebFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.security.web.server.context.SecurityContextServerWebExchangeWebFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.security.web.server.context.ReactorContextWebFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.web.cors.reactive.CorsWebFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.security.web.server.header.HttpHeaderWriterWebFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.security.config.web.server.ServerHttpSecurity$ServerWebExchangeReactorContextWebFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.security.web.server.WebFilterChainProxy [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ HTTP GET &quot;/users/generate-code/25411000000&quot; [ExceptionHandlingWebHandler]\r\n    Original Stack Trace:\r\n    \t\tat dev.miku.r2dbc.mysql.MySqlStatementSupport.returnGeneratedValues(MySqlStatementSupport.java:47) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\r\n    \t\tat dev.miku.r2dbc.mysql.MySqlStatementSupport.returnGeneratedValues(MySqlStatementSupport.java:28) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\r\n    \t\tat org.jooq.impl.R2DBC$QueryExecutionSubscriber.onNext0(R2DBC.java:423) ~[jooq-3.15.1.jar:na]\r\n    \t\tat org.jooq.impl.R2DBC$ConnectionSubscriber.onNext(R2DBC.java:363) ~[jooq-3.15.1.jar:na]\r\n    \t\tat org.jooq.impl.R2DBC$AbstractNonBlockingSubscription.lambda$request0$0(R2DBC.java:540) ~[jooq-3.15.1.jar:na]\r\n    \t\tat org.jooq.impl.Internal$1.onNext(Internal.java:433) ~[jooq-3.15.1.jar:na]\r\n    \t\tat reactor.core.publisher.StrictSubscriber.onNext(StrictSubscriber.java:89) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.FluxRetry$RetrySubscriber.onNext(FluxRetry.java:87) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onNext(FluxPeekFuseable.java:210) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:249) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.complete(MonoIgnoreThen.java:284) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onNext(MonoIgnoreThen.java:187) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:232) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:201) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.MonoSupplier.subscribe(MonoSupplier.java:62) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4400) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:255) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.pool.AbstractPool$Borrower.deliver(AbstractPool.java:469) ~[reactor-pool-0.2.7.jar:0.2.7]\r\n    \t\tat reactor.pool.SimpleDequePool.lambda$drainLoop$9(SimpleDequePool.java:393) ~[reactor-pool-0.2.7.jar:0.2.7]\r\n    \t\tat reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onNext(FluxDoOnEach.java:154) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:249) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:127) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.MonoTakeLastOne$TakeLastOneSubscriber.onComplete(MonoTakeLastOne.java:120) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:846) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:608) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:588) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.onComplete(FluxFlatMap.java:465) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:142) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.FluxWindowPredicate$WindowPredicateMain.checkTerminated(FluxWindowPredicate.java:538) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.FluxWindowPredicate$WindowPredicateMain.drainLoop(FluxWindowPredicate.java:486) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.FluxWindowPredicate$WindowPredicateMain.drain(FluxWindowPredicate.java:430) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.FluxWindowPredicate$WindowPredicateMain.onComplete(FluxWindowPredicate.java:310) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onComplete(FluxHandleFuseable.java:229) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat dev.miku.r2dbc.mysql.util.DiscardOnCancelSubscriber.onComplete(DiscardOnCancelSubscriber.java:104) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\r\n    \t\tat reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onComplete(FluxPeekFuseable.java:940) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onComplete(MonoFlatMapMany.java:260) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.FluxHandle$HandleSubscriber.onComplete(FluxHandle.java:213) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:134) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:491) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:299) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.core.publisher.EmitterProcessor.onNext(EmitterProcessor.java:265) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat dev.miku.r2dbc.mysql.client.ReactorNettyClient$ResponseSink.next(ReactorNettyClient.java:340) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\r\n    \t\tat dev.miku.r2dbc.mysql.client.ReactorNettyClient.lambda$new$0(ReactorNettyClient.java:103) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\r\n    \t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:185) ~[reactor-core-3.4.12.jar:3.4.12]\r\n    \t\tat reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:279) ~[reactor-netty-core-1.0.13.jar:1.0.13]\r\n    \t\tat reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:388) ~[reactor-netty-core-1.0.13.jar:1.0.13]\r\n    \t\tat reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:404) ~[reactor-netty-core-1.0.13.jar:1.0.13]\r\n    \t\tat reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:93) ~[reactor-netty-core-1.0.13.jar:1.0.13]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.70.Final.jar:4.1.70.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.70.Final.jar:4.1.70.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.70.Final.jar:4.1.70.Final]\r\n    \t\tat dev.miku.r2dbc.mysql.client.MessageDuplexCodec.handleDecoded(MessageDuplexCodec.java:187) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\r\n    \t\tat dev.miku.r2dbc.mysql.client.MessageDuplexCodec.channelRead(MessageDuplexCodec.java:95) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.70.Final.jar:4.1.70.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.70.Final.jar:4.1.70.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.70.Final.jar:4.1.70.Final]\r\n    \t\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324) ~[netty-codec-4.1.70.Final.jar:4.1.70.Final]\r\n    \t\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296) ~[netty-codec-4.1.70.Final.jar:4.1.70.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.70.Final.jar:4.1.70.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.70.Final.jar:4.1.70.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.70.Final.jar:4.1.70.Final]\r\n    \t\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.70.Final.jar:4.1.70.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.70.Final.jar:4.1.70.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.70.Final.jar:4.1.70.Final]\r\n    \t\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.70.Final.jar:4.1.70.Final]\r\n    \t\tat io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:795) ~[netty-transport-classes-epoll-4.1.70.Final.jar:4.1.70.Final]\r\n    \t\tat io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:480) ~[netty-transport-classes-epoll-4.1.70.Final.jar:4.1.70.Final]\r\n    \t\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378) ~[netty-transport-classes-epoll-4.1.70.Final.jar:4.1.70.Final]\r\n    \t\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) ~[netty-common-4.1.70.Final.jar:4.1.70.Final]\r\n    \t\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.70.Final.jar:4.1.70.Final]\r\n    \t\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.70.Final.jar:4.1.70.Final]\r\n    \t\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\nthe generated sql seems alright to me and I have even tried inserting with it on workbench successfully\r\n\r\n    System.out.println(dsl.insertInto(RESET_CODES,RESET_CODES.PHONE, RESET_CODES.RESET_CODE) .values(phone,code).returning().getSQL());\r\n    insert into `myschema`.`reset_codes` (`phone`, `reset_code`) values (?, ?)\r\n\r\nand the table ddl looks like this its fairly simple\r\n\r\n    CREATE TABLE `reset_codes` (\r\n      `reset_codes_id` int(11) NOT NULL AUTO_INCREMENT,\r\n      `reset_code` int(11) DEFAULT NULL,\r\n      `phone` varchar(45) DEFAULT NULL,\r\n      `created` timestamp NULL DEFAULT CURRENT_TIMESTAMP,\r\n      PRIMARY KEY (`reset_codes_id`),\r\n      KEY `phone_idx` (`phone`,`reset_code`)\r\n    ) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;\r\n\r\n","title":"java.lang.IllegalArgumentException: MySQL only supports single generated value. jooq r2dbc","body":"<p>I am experiencing this issue java.lang.IllegalArgumentException: MySQL only supports single generated value. in all my insert queries not just this table. I am using jooq 3.15 and r2dbc. what could be the issue</p>\n<pre><code>public Mono&lt;ResetCodesRecord&gt; generateCode(String phone,int code) {\n        return Mono.from(dsl.insertInto(RESET_CODES,RESET_CODES.PHONE, RESET_CODES.RESET_CODE)\n            .values(phone,code)\n            .returning()).map(record -&gt; record.into(ResetCodesRecord.class));\n\n    }\n</code></pre>\n<p>stack trace</p>\n<pre><code>java.lang.IllegalArgumentException: MySQL only supports single generated value\n    at dev.miku.r2dbc.mysql.MySqlStatementSupport.returnGeneratedValues(MySqlStatementSupport.java:47) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    *__checkpoint ⇢ Handler com.bustapi.controllers.UserController#generateResetCode(String) [DispatcherHandler]\n    *__checkpoint ⇢ org.springframework.security.web.server.authorization.AuthorizationWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.authorization.ExceptionTranslationWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.authentication.logout.LogoutWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.savedrequest.ServerRequestCacheWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.context.SecurityContextServerWebExchangeWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.context.ReactorContextWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.web.cors.reactive.CorsWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.header.HttpHeaderWriterWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.config.web.server.ServerHttpSecurity$ServerWebExchangeReactorContextWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.WebFilterChainProxy [DefaultWebFilterChain]\n    *__checkpoint ⇢ HTTP GET &quot;/users/generate-code/25411000000&quot; [ExceptionHandlingWebHandler]\nOriginal Stack Trace:\n        at dev.miku.r2dbc.mysql.MySqlStatementSupport.returnGeneratedValues(MySqlStatementSupport.java:47) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\n        at dev.miku.r2dbc.mysql.MySqlStatementSupport.returnGeneratedValues(MySqlStatementSupport.java:28) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\n        at org.jooq.impl.R2DBC$QueryExecutionSubscriber.onNext0(R2DBC.java:423) ~[jooq-3.15.1.jar:na]\n        at org.jooq.impl.R2DBC$ConnectionSubscriber.onNext(R2DBC.java:363) ~[jooq-3.15.1.jar:na]\n        at org.jooq.impl.R2DBC$AbstractNonBlockingSubscription.lambda$request0$0(R2DBC.java:540) ~[jooq-3.15.1.jar:na]\n        at org.jooq.impl.Internal$1.onNext(Internal.java:433) ~[jooq-3.15.1.jar:na]\n        at reactor.core.publisher.StrictSubscriber.onNext(StrictSubscriber.java:89) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.FluxRetry$RetrySubscriber.onNext(FluxRetry.java:87) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onNext(FluxPeekFuseable.java:210) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:249) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.complete(MonoIgnoreThen.java:284) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onNext(MonoIgnoreThen.java:187) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:232) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:201) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.MonoSupplier.subscribe(MonoSupplier.java:62) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4400) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:255) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.pool.AbstractPool$Borrower.deliver(AbstractPool.java:469) ~[reactor-pool-0.2.7.jar:0.2.7]\n        at reactor.pool.SimpleDequePool.lambda$drainLoop$9(SimpleDequePool.java:393) ~[reactor-pool-0.2.7.jar:0.2.7]\n        at reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onNext(FluxDoOnEach.java:154) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:249) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:127) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.MonoTakeLastOne$TakeLastOneSubscriber.onComplete(MonoTakeLastOne.java:120) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:846) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:608) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:588) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.FluxFlatMap$FlatMapMain.onComplete(FluxFlatMap.java:465) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:142) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.FluxWindowPredicate$WindowPredicateMain.checkTerminated(FluxWindowPredicate.java:538) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.FluxWindowPredicate$WindowPredicateMain.drainLoop(FluxWindowPredicate.java:486) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.FluxWindowPredicate$WindowPredicateMain.drain(FluxWindowPredicate.java:430) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.FluxWindowPredicate$WindowPredicateMain.onComplete(FluxWindowPredicate.java:310) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onComplete(FluxHandleFuseable.java:229) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[reactor-core-3.4.12.jar:3.4.12]\n        at dev.miku.r2dbc.mysql.util.DiscardOnCancelSubscriber.onComplete(DiscardOnCancelSubscriber.java:104) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\n        at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onComplete(FluxPeekFuseable.java:940) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onComplete(MonoFlatMapMany.java:260) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.FluxHandle$HandleSubscriber.onComplete(FluxHandle.java:213) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:134) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:491) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:299) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.core.publisher.EmitterProcessor.onNext(EmitterProcessor.java:265) ~[reactor-core-3.4.12.jar:3.4.12]\n        at dev.miku.r2dbc.mysql.client.ReactorNettyClient$ResponseSink.next(ReactorNettyClient.java:340) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\n        at dev.miku.r2dbc.mysql.client.ReactorNettyClient.lambda$new$0(ReactorNettyClient.java:103) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:185) ~[reactor-core-3.4.12.jar:3.4.12]\n        at reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:279) ~[reactor-netty-core-1.0.13.jar:1.0.13]\n        at reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:388) ~[reactor-netty-core-1.0.13.jar:1.0.13]\n        at reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:404) ~[reactor-netty-core-1.0.13.jar:1.0.13]\n        at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:93) ~[reactor-netty-core-1.0.13.jar:1.0.13]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.70.Final.jar:4.1.70.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.70.Final.jar:4.1.70.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.70.Final.jar:4.1.70.Final]\n        at dev.miku.r2dbc.mysql.client.MessageDuplexCodec.handleDecoded(MessageDuplexCodec.java:187) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\n        at dev.miku.r2dbc.mysql.client.MessageDuplexCodec.channelRead(MessageDuplexCodec.java:95) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.70.Final.jar:4.1.70.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.70.Final.jar:4.1.70.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.70.Final.jar:4.1.70.Final]\n        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324) ~[netty-codec-4.1.70.Final.jar:4.1.70.Final]\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296) ~[netty-codec-4.1.70.Final.jar:4.1.70.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.70.Final.jar:4.1.70.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.70.Final.jar:4.1.70.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.70.Final.jar:4.1.70.Final]\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.70.Final.jar:4.1.70.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.70.Final.jar:4.1.70.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.70.Final.jar:4.1.70.Final]\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.70.Final.jar:4.1.70.Final]\n        at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:795) ~[netty-transport-classes-epoll-4.1.70.Final.jar:4.1.70.Final]\n        at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:480) ~[netty-transport-classes-epoll-4.1.70.Final.jar:4.1.70.Final]\n        at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378) ~[netty-transport-classes-epoll-4.1.70.Final.jar:4.1.70.Final]\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) ~[netty-common-4.1.70.Final.jar:4.1.70.Final]\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.70.Final.jar:4.1.70.Final]\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.70.Final.jar:4.1.70.Final]\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>the generated sql seems alright to me and I have even tried inserting with it on workbench successfully</p>\n<pre><code>System.out.println(dsl.insertInto(RESET_CODES,RESET_CODES.PHONE, RESET_CODES.RESET_CODE) .values(phone,code).returning().getSQL());\ninsert into `myschema`.`reset_codes` (`phone`, `reset_code`) values (?, ?)\n</code></pre>\n<p>and the table ddl looks like this its fairly simple</p>\n<pre><code>CREATE TABLE `reset_codes` (\n  `reset_codes_id` int(11) NOT NULL AUTO_INCREMENT,\n  `reset_code` int(11) DEFAULT NULL,\n  `phone` varchar(45) DEFAULT NULL,\n  `created` timestamp NULL DEFAULT CURRENT_TIMESTAMP,\n  PRIMARY KEY (`reset_codes_id`),\n  KEY `phone_idx` (`phone`,`reset_code`)\n) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;\n</code></pre>\n"},{"tags":["java","hibernate","jpa","join","many-to-many"],"owner":{"account_id":24018295,"reputation":11,"user_id":18000955,"display_name":"a89m"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642846665,"creation_date":1642846665,"question_id":70811855,"body_markdown":"I&#39;ve these tables in my Oracle database (which I can&#39;t change):\r\n\r\n|Table_A|Table_B|Table_AB|\r\n|-|-|-|\r\n| ID (PK)| ID_B (PK)|ID_A (PK)\r\n| COMMON_ID (PK)| COMMON_ID (PK)|B_ID (PK)\r\n|...|...|COMMON_ID (PK)|\r\n\r\nTables A and B have a many-to-many relationship and Table AB contains two foreign keys:\r\n- **FK_1**: ID_A, COMMON_ID referencing table A (ID, COMMON_ID)\r\n- **FK_2**: B_ID, COMMON_ID referencing table B (ID_B, COMMON_ID)\r\n\r\nI tried to map these table but I have a problem in my jointable due the fact column &quot;COMMON_ID&quot; is shared between FK_1 e FK_2. Hibernate in fact tries to create the jointable with two column with the same name, generating this exception:\r\n\r\n```\r\norg.hibernate.MappingException: Repeated column mapping for collection: B.collectionA column: COMMON_ID\r\n```\r\n\r\nThese are my entities, please can anyone help me to solve the problem? Thank you in advance!\r\n\r\n**Entity A**:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;Table_A&quot;)\r\n@IdClass(value = A_PK.class)\r\npublic class A implements Serializable {\r\n\r\n    private static final long serialVersionUID = 2210864155927195752L;\r\n\r\n    @Id\r\n    @SequenceGenerator(name = &quot;TABLE_A_SEQ&quot;, sequenceName = &quot;TABLE_A_PKSEQ&quot;, allocationSize = 1)\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;TABLE_A_SEQ&quot;)\r\n    private long id;\r\n    \r\n\t@Id\r\n\t@Column(name=&quot;COMMON_ID&quot;)\r\n\tprivate Integer commonId;\r\n\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;TABLE_AB&quot;,\r\n            joinColumns = {\r\n                @JoinColumn(name = &quot;ID_A&quot;, referencedColumnName = &quot;ID&quot;),\r\n                @JoinColumn(name = &quot;COMMON_ID&quot;, referencedColumnName = &quot;COMMON_ID&quot;)\r\n            },\r\n            inverseJoinColumns = {\r\n            \t@JoinColumn(name = &quot;B_ID&quot;, referencedColumnName = &quot;ID_B&quot;),\r\n                @JoinColumn(name = &quot;COMMON_ID&quot;, referencedColumnName = &quot;COMMON_ID&quot;)\r\n            }\r\n    )\r\n    @LazyCollection(LazyCollectionOption.FALSE)\r\n    private List&lt;B&gt; collectionB;\r\n\r\n    getter, setter, hashcode, equals\r\n```\r\n\r\n**Entity A_PK**:\r\n\r\n```\r\npublic class A_PK implements Serializable {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\tprivate long id;\r\n\tprivate Integer commonId;\r\n\r\n    getter, setter, hashcode, equals\r\n```\r\n\r\n**Entity B**:\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;TABLE_B&quot;)\r\n@IdClass(value = B_PK.class)\r\npublic class B implements Serializable {\r\n\r\n    private static final long serialVersionUID = -5761968943282358603L;\r\n\r\n    @Id\r\n    @Column(name = &quot;ID_B&quot;, unique = true, nullable = false)\r\n    @SequenceGenerator(name = &quot;TABLE_B_SEQ&quot;, sequenceName = &quot;TABLE_B_PKSEQ&quot;, allocationSize = 1)\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;TABLE_B_SEQ&quot;)\r\n    private Long id;\r\n    \r\n\t@Id\r\n\t@Column(name=&quot;COMMON_ID&quot;)\r\n\tprivate Integer commonId;\r\n\r\n    @ManyToMany(mappedBy = &quot;collectionB&quot;)\r\n    private List&lt;A&gt; collectionA;\r\n\r\n    getter, setter, hashcode, equals\r\n```\r\n\r\n**Entity B_PK**:\r\n```\r\npublic class B_PK implements Serializable {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\tprivate Long id;\r\n\tprivate Integer commonId;\r\n\r\n    getter, setter, hashcode, equals\r\n```","title":"JPA mapping ManyToMany with common column in composite foreign keys","body":"<p>I've these tables in my Oracle database (which I can't change):</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Table_A</th>\n<th>Table_B</th>\n<th>Table_AB</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>ID (PK)</td>\n<td>ID_B (PK)</td>\n<td>ID_A (PK)</td>\n</tr>\n<tr>\n<td>COMMON_ID (PK)</td>\n<td>COMMON_ID (PK)</td>\n<td>B_ID (PK)</td>\n</tr>\n<tr>\n<td>...</td>\n<td>...</td>\n<td>COMMON_ID (PK)</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Tables A and B have a many-to-many relationship and Table AB contains two foreign keys:</p>\n<ul>\n<li><strong>FK_1</strong>: ID_A, COMMON_ID referencing table A (ID, COMMON_ID)</li>\n<li><strong>FK_2</strong>: B_ID, COMMON_ID referencing table B (ID_B, COMMON_ID)</li>\n</ul>\n<p>I tried to map these table but I have a problem in my jointable due the fact column &quot;COMMON_ID&quot; is shared between FK_1 e FK_2. Hibernate in fact tries to create the jointable with two column with the same name, generating this exception:</p>\n<pre><code>org.hibernate.MappingException: Repeated column mapping for collection: B.collectionA column: COMMON_ID\n</code></pre>\n<p>These are my entities, please can anyone help me to solve the problem? Thank you in advance!</p>\n<p><strong>Entity A</strong>:</p>\n<pre><code>@Entity\n@Table(name = &quot;Table_A&quot;)\n@IdClass(value = A_PK.class)\npublic class A implements Serializable {\n\n    private static final long serialVersionUID = 2210864155927195752L;\n\n    @Id\n    @SequenceGenerator(name = &quot;TABLE_A_SEQ&quot;, sequenceName = &quot;TABLE_A_PKSEQ&quot;, allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;TABLE_A_SEQ&quot;)\n    private long id;\n    \n    @Id\n    @Column(name=&quot;COMMON_ID&quot;)\n    private Integer commonId;\n\n    @ManyToMany\n    @JoinTable(name = &quot;TABLE_AB&quot;,\n            joinColumns = {\n                @JoinColumn(name = &quot;ID_A&quot;, referencedColumnName = &quot;ID&quot;),\n                @JoinColumn(name = &quot;COMMON_ID&quot;, referencedColumnName = &quot;COMMON_ID&quot;)\n            },\n            inverseJoinColumns = {\n                @JoinColumn(name = &quot;B_ID&quot;, referencedColumnName = &quot;ID_B&quot;),\n                @JoinColumn(name = &quot;COMMON_ID&quot;, referencedColumnName = &quot;COMMON_ID&quot;)\n            }\n    )\n    @LazyCollection(LazyCollectionOption.FALSE)\n    private List&lt;B&gt; collectionB;\n\n    getter, setter, hashcode, equals\n</code></pre>\n<p><strong>Entity A_PK</strong>:</p>\n<pre><code>public class A_PK implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    \n    private long id;\n    private Integer commonId;\n\n    getter, setter, hashcode, equals\n</code></pre>\n<p><strong>Entity B</strong>:</p>\n<pre><code>@Entity\n@Table(name=&quot;TABLE_B&quot;)\n@IdClass(value = B_PK.class)\npublic class B implements Serializable {\n\n    private static final long serialVersionUID = -5761968943282358603L;\n\n    @Id\n    @Column(name = &quot;ID_B&quot;, unique = true, nullable = false)\n    @SequenceGenerator(name = &quot;TABLE_B_SEQ&quot;, sequenceName = &quot;TABLE_B_PKSEQ&quot;, allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;TABLE_B_SEQ&quot;)\n    private Long id;\n    \n    @Id\n    @Column(name=&quot;COMMON_ID&quot;)\n    private Integer commonId;\n\n    @ManyToMany(mappedBy = &quot;collectionB&quot;)\n    private List&lt;A&gt; collectionA;\n\n    getter, setter, hashcode, equals\n</code></pre>\n<p><strong>Entity B_PK</strong>:</p>\n<pre><code>public class B_PK implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    \n    private Long id;\n    private Integer commonId;\n\n    getter, setter, hashcode, equals\n</code></pre>\n"},{"tags":["java","android","android-studio","itext"],"answers":[{"tags":[],"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642846495,"creation_date":1642846495,"answer_id":70811831,"question_id":70697440,"body_markdown":"One of the easy ways is to download the font file from the website (`Download family` button on the top right), get the right font file from the archive (the standard choice is `Roboto-Regular.ttf`), embed this file into your application, then get the file input stream with something like `getResources().openRawResource(...)` and then you can use your font in iText if you pass it to `PdfFontFactory.createFont`! \r\n\r\nThe code would look similar to the following snippet:\r\n\r\n    Document document = new Document(pdfDocument);\r\n\r\n    PdfFont font = PdfFontFactory.createFont(StreamUtil.inputStreamToArray(getResources().openRawResource(&quot;path/to/Roboto-Regular.ttf&quot;)), PdfEncodings.IDENTITY_H);\r\n\r\n    List list = new List();\r\n    list.setFont(font);\r\n    list.add(&quot;React Native&quot;);\r\n    list.add(&quot;Java&quot;);\r\n    list.add(&quot;Kotlin&quot;);\r\n    list.add(&quot;Swift&quot;);\r\n\r\n    document.add(list);\r\n\r\n    document.close();","title":"How to embed Google font in iText Java?","body":"<p>One of the easy ways is to download the font file from the website (<code>Download family</code> button on the top right), get the right font file from the archive (the standard choice is <code>Roboto-Regular.ttf</code>), embed this file into your application, then get the file input stream with something like <code>getResources().openRawResource(...)</code> and then you can use your font in iText if you pass it to <code>PdfFontFactory.createFont</code>!</p>\n<p>The code would look similar to the following snippet:</p>\n<pre><code>Document document = new Document(pdfDocument);\n\nPdfFont font = PdfFontFactory.createFont(StreamUtil.inputStreamToArray(getResources().openRawResource(&quot;path/to/Roboto-Regular.ttf&quot;)), PdfEncodings.IDENTITY_H);\n\nList list = new List();\nlist.setFont(font);\nlist.add(&quot;React Native&quot;);\nlist.add(&quot;Java&quot;);\nlist.add(&quot;Kotlin&quot;);\nlist.add(&quot;Swift&quot;);\n\ndocument.add(list);\n\ndocument.close();\n</code></pre>\n"}],"owner":{"account_id":13065588,"reputation":1828,"user_id":9441080,"display_name":"Mir Stephen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642846495,"creation_date":1642080597,"question_id":70697440,"body_markdown":"I am using [iText][1] to generate PDF in Java Android App. How do I embed [Roboto font][2] to below snippet. \r\n\r\n\r\n    private void createPdf() throws FileNotFoundException {\r\n        String pdfPath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString();\r\n        File file = new File(pdfPath, &quot;iText7.pdf&quot;);\r\n\r\n        PdfWriter writer = new PdfWriter(file);\r\n        PdfDocument pdfDocument = new PdfDocument(writer);\r\n        Document document = new Document(pdfDocument);\r\n\r\n        List list = new List();\r\n        list.add(&quot;React Native&quot;);\r\n        list.add(&quot;Java&quot;);\r\n        list.add(&quot;Kotlin&quot;);\r\n        list.add(&quot;Swift&quot;);\r\n\r\n        document.add(list);\r\n        document.close();\r\n\r\n        Toast.makeText(this, &quot;PDF Created Successfully!&quot;, Toast.LENGTH_LONG).show();\r\n    }\r\n\r\nThank you\r\n\r\n\r\n  [1]: https://itextpdf.com/en\r\n  [2]: https://fonts.google.com/specimen/Roboto","title":"How to embed Google font in iText Java?","body":"<p>I am using <a href=\"https://itextpdf.com/en\" rel=\"nofollow noreferrer\">iText</a> to generate PDF in Java Android App. How do I embed <a href=\"https://fonts.google.com/specimen/Roboto\" rel=\"nofollow noreferrer\">Roboto font</a> to below snippet.</p>\n<pre><code>private void createPdf() throws FileNotFoundException {\n    String pdfPath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString();\n    File file = new File(pdfPath, &quot;iText7.pdf&quot;);\n\n    PdfWriter writer = new PdfWriter(file);\n    PdfDocument pdfDocument = new PdfDocument(writer);\n    Document document = new Document(pdfDocument);\n\n    List list = new List();\n    list.add(&quot;React Native&quot;);\n    list.add(&quot;Java&quot;);\n    list.add(&quot;Kotlin&quot;);\n    list.add(&quot;Swift&quot;);\n\n    document.add(list);\n    document.close();\n\n    Toast.makeText(this, &quot;PDF Created Successfully!&quot;, Toast.LENGTH_LONG).show();\n}\n</code></pre>\n<p>Thank you</p>\n"},{"tags":["java","macos","nano"],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642846253,"creation_date":1642846253,"answer_id":70811807,"question_id":70811493,"body_markdown":"nano is a very simple editor, and doesn&#39;t have language-specific syntax features. The `autoindent` setting (note, no hyphen) is described in the [nano settings documentation](https://www.nano-editor.org/dist/latest/nano.html#Settings):\r\n\r\n&gt; Automatically indent a newly created line to the same number of tabs and/or spaces as the previous line (or as the next line if the previous line is the beginning of a paragraph).\r\n\r\nSo the indentation is only applied when the previous line is already indented. It does not add indentation based on blocks identified by curly braces in Java.","title":"auto-indent in nano not working while writing java files","body":"<p>nano is a very simple editor, and doesn't have language-specific syntax features. The <code>autoindent</code> setting (note, no hyphen) is described in the <a href=\"https://www.nano-editor.org/dist/latest/nano.html#Settings\" rel=\"nofollow noreferrer\">nano settings documentation</a>:</p>\n<blockquote>\n<p>Automatically indent a newly created line to the same number of tabs and/or spaces as the previous line (or as the next line if the previous line is the beginning of a paragraph).</p>\n</blockquote>\n<p>So the indentation is only applied when the previous line is already indented. It does not add indentation based on blocks identified by curly braces in Java.</p>\n"}],"owner":{"account_id":23995137,"reputation":11,"user_id":17980737,"display_name":"efgvdfv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70811807,"answer_count":1,"score":-1,"last_activity_date":1642846253,"creation_date":1642843310,"question_id":70811493,"body_markdown":"I put ```set auto-indent``` in ~/.nanorc\r\nbut auto-indent still not work. typing ```nano lol.java```:\r\n```\r\npublic class lol {\r\npublic static void main(String[] args) {\r\n}\r\n}\r\n```\r\nI&#39;m on macOS.","title":"auto-indent in nano not working while writing java files","body":"<p>I put <code>set auto-indent</code> in ~/.nanorc\nbut auto-indent still not work. typing <code>nano lol.java</code>:</p>\n<pre><code>public class lol {\npublic static void main(String[] args) {\n}\n}\n</code></pre>\n<p>I'm on macOS.</p>\n"},{"tags":["java","gradle","continuous-integration","checkstyle"],"comments":[{"owner":{"account_id":6880256,"reputation":2112,"user_id":5287190,"accept_rate":74,"display_name":"Brian H."},"score":0,"creation_date":1579646894,"post_id":59850240,"comment_id":105834210,"body_markdown":"The question seems fairly clear, but it would be helpful if you could include a small code example from your Gradle build that shows the relevant parts of your current configuration, and where the plugin is being added.","body":"The question seems fairly clear, but it would be helpful if you could include a small code example from your Gradle build that shows the relevant parts of your current configuration, and where the plugin is being added."}],"owner":{"account_id":7977722,"reputation":11,"user_id":6020298,"display_name":"David"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642845591,"creation_date":1579646272,"question_id":59850240,"body_markdown":"**Tl;dr**\r\n\r\nIs there a way to detach specific plugin behavior (such as checkstyle&#39;s check behavior) from existing gradle lifecycle tasks (gradle check, in this particular case)?\r\n\r\n**Longer version**\r\n\r\nIn our current gradle Java project setup, we&#39;ve included [checkstyle][3] as one of our plugins for static code checking. It currently runs as a part of Jenkins pipeline through gradle&#39;s *build* task. While this has mostly worked out for what we&#39;ve needed - namely running our tests and making sure we&#39;re sticking to code standards - I&#39;ve also noticed that we could make our feedback loop a little faster if we could run **just** the checkstyle&#39;s plugin&#39;s checks **before** build kicks in the tests.\r\n\r\nTo do so, as far as I understand, we&#39;d have to create a custom task that runs only the checkstyle functions checkstyleMain and checkstyleTest **and** decouple the default checkstyle behavior from gradle&#39;s build lifecycle task. I&#39;ve been looking through both [gradle][2] and the [checkstyle plugin][1]&#39;s docs, but quickly found I&#39;m out of my depth.\r\n\r\nCode:\r\n```\r\nplugins {\r\n    id &quot;checkstyle&quot;\r\n}\r\n\r\ncheckstyle {\r\n    toolVersion &quot;8.24&quot;\r\n    configFile file(&quot;config/checkstyle/checkstyle.xml&quot;)\r\n}\r\n\r\ncheckstyleMain {\r\n    source = &quot;src/main/java&quot;\r\n}\r\ncheckstyleTest {\r\n    source = &quot;src/test/java&quot;\r\n}\r\n```\r\nThat is everything checkstyle related inside of build.gradle, the check task itself isn&#39;t customized.\r\n\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/checkstyle_plugin.html\r\n  [2]: https://docs.gradle.org/current/userguide/userguide.html\r\n  [3]: https://maven.apache.org/plugins/maven-checkstyle-plugin/index.html","title":"Detaching default functionality from gradle lifecycle tasks","body":"<p><strong>Tl;dr</strong></p>\n<p>Is there a way to detach specific plugin behavior (such as checkstyle's check behavior) from existing gradle lifecycle tasks (gradle check, in this particular case)?</p>\n<p><strong>Longer version</strong></p>\n<p>In our current gradle Java project setup, we've included <a href=\"https://maven.apache.org/plugins/maven-checkstyle-plugin/index.html\" rel=\"nofollow noreferrer\">checkstyle</a> as one of our plugins for static code checking. It currently runs as a part of Jenkins pipeline through gradle's <em>build</em> task. While this has mostly worked out for what we've needed - namely running our tests and making sure we're sticking to code standards - I've also noticed that we could make our feedback loop a little faster if we could run <strong>just</strong> the checkstyle's plugin's checks <strong>before</strong> build kicks in the tests.</p>\n<p>To do so, as far as I understand, we'd have to create a custom task that runs only the checkstyle functions checkstyleMain and checkstyleTest <strong>and</strong> decouple the default checkstyle behavior from gradle's build lifecycle task. I've been looking through both <a href=\"https://docs.gradle.org/current/userguide/userguide.html\" rel=\"nofollow noreferrer\">gradle</a> and the <a href=\"https://docs.gradle.org/current/userguide/checkstyle_plugin.html\" rel=\"nofollow noreferrer\">checkstyle plugin</a>'s docs, but quickly found I'm out of my depth.</p>\n<p>Code:</p>\n<pre><code>plugins {\n    id &quot;checkstyle&quot;\n}\n\ncheckstyle {\n    toolVersion &quot;8.24&quot;\n    configFile file(&quot;config/checkstyle/checkstyle.xml&quot;)\n}\n\ncheckstyleMain {\n    source = &quot;src/main/java&quot;\n}\ncheckstyleTest {\n    source = &quot;src/test/java&quot;\n}\n</code></pre>\n<p>That is everything checkstyle related inside of build.gradle, the check task itself isn't customized.</p>\n"},{"tags":["java","jakarta-mail","imap"],"comments":[{"owner":{"account_id":458052,"reputation":9149,"user_id":857727,"display_name":"arnt"},"score":0,"creation_date":1579873802,"post_id":59897231,"comment_id":105922793,"body_markdown":"Those calls to `store.getFolder()` and `folder.open()` can be awfully slow, often proportional to the number of messages in the folder. Try to keep the opened Folder object around so you can reuse it next time and amortise the cost of getting it.","body":"Those calls to <code>store.getFolder()</code> and <code>folder.open()</code> can be awfully slow, often proportional to the number of messages in the folder. Try to keep the opened Folder object around so you can reuse it next time and amortise the cost of getting it."},{"owner":{"account_id":8549636,"reputation":121,"user_id":6406997,"display_name":"Possenti"},"score":0,"creation_date":1579893446,"post_id":59897231,"comment_id":105932040,"body_markdown":"I tried to keep it open, the performance changes just a little bit, about two seconds, but thank&#39;s for the comment :)","body":"I tried to keep it open, the performance changes just a little bit, about two seconds, but thank&#39;s for the comment :)"},{"owner":{"account_id":458052,"reputation":9149,"user_id":857727,"display_name":"arnt"},"score":0,"creation_date":1579895062,"post_id":59897231,"comment_id":105932626,"body_markdown":"In that case you need to find out what takes the time, because one second per message is *wildly* out of the ordinary.","body":"In that case you need to find out what takes the time, because one second per message is <i>wildly</i> out of the ordinary."},{"owner":{"account_id":1032936,"reputation":29659,"user_id":1040885,"display_name":"Bill Shannon"},"score":0,"creation_date":1579911807,"post_id":59897231,"comment_id":105937273,"body_markdown":"Look at the [JavaMail debug output](https://javaee.github.io/javamail/FAQ#debug) and find a way to associate a time stamp with each line of output.  That will help you determine where the time is going.  Are you using IMAP or POP3?  Are you running in an app server?  Try changing `getDefaultInstance` to `getInstance`.  Post the debug output if it&#39;s still too slow.","body":"Look at the <a href=\"https://javaee.github.io/javamail/FAQ#debug\" rel=\"nofollow noreferrer\">JavaMail debug output</a> and find a way to associate a time stamp with each line of output.  That will help you determine where the time is going.  Are you using IMAP or POP3?  Are you running in an app server?  Try changing <code>getDefaultInstance</code> to <code>getInstance</code>.  Post the debug output if it&#39;s still too slow."},{"owner":{"account_id":8549636,"reputation":121,"user_id":6406997,"display_name":"Possenti"},"score":0,"creation_date":1580128498,"post_id":59897231,"comment_id":105984432,"body_markdown":"I&#39;m using an IMAP and running in an app server, I used the javamail debug to change some lines, but changing the getDefaultInstance  to getInstance improve a lot the performance, thank&#39;s for the help guys!","body":"I&#39;m using an IMAP and running in an app server, I used the javamail debug to change some lines, but changing the getDefaultInstance  to getInstance improve a lot the performance, thank&#39;s for the help guys!"}],"answers":[{"tags":[],"owner":{"account_id":13753711,"reputation":676,"user_id":9925191,"display_name":"Rose"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642845489,"creation_date":1642845489,"answer_id":70811732,"question_id":59897231,"body_markdown":"In  `for (final Message msg : messages)`, change `messages` to `folder.getMessages()`. \r\n\r\n`messages` -&gt; loads multiple times\r\n\r\n`folder.getMessages()` -&gt; loads in a single fetch, because you have used fetchProfile in this.","title":"Java Mail IMAP taking lot of time to getting messages in mail box, 25s to get 20 messages","body":"<p>In  <code>for (final Message msg : messages)</code>, change <code>messages</code> to <code>folder.getMessages()</code>.</p>\n<p><code>messages</code> -&gt; loads multiple times</p>\n<p><code>folder.getMessages()</code> -&gt; loads in a single fetch, because you have used fetchProfile in this.</p>\n"}],"owner":{"account_id":8549636,"reputation":121,"user_id":6406997,"display_name":"Possenti"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":774,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70811732,"answer_count":1,"score":0,"last_activity_date":1642845489,"creation_date":1579871835,"question_id":59897231,"body_markdown":"There is a way to improve the performance for getting messages from the Javamail IMAP server?\r\ni found some tips, but couldn&#39;t improve the performance. \r\nThis method will get about 20 messages from a folder, and returning the formatted messages to a DTO, I tried to comment the lines to get attachments, and getting the recipients, but it doensnt change anything in the performance.\r\n\r\n\r\n    /**\r\n     * Get all the emails that are inside the param folder\r\n     *\r\n     * @param folderId   folder to return the emails from the informed folder.\r\n     * @param pageToken  pageToken to be used as pagination\r\n     * @param maxResults maxResults to create a limit to the number of registers\r\n     * @return {@link EmailsDTO} with all the messages\r\n     */\r\n    public EmailsDTO getMessages(final String folderId, final String pageToken, final Integer maxResults) {\r\n        final Properties properties = getServerInputProperties();\r\n        final Session session = Session.getDefaultInstance(properties);\r\n        try {\r\n            final EmailsDTO emailsDTO = new EmailsDTO();\r\n            final List&lt;EmailDTO&gt; emailDTOList = new ArrayList&lt;&gt;();\r\n\r\n            // connects to the message store\r\n            final Store store = session.getStore(IMAP);\r\n            store.connect(email, password);\r\n\r\n            // opens the folder to search the messages\r\n            final Folder folder = store.getFolder(folderId);\r\n            folder.open(Folder.READ_ONLY);\r\n\r\n            //set a pagination used to get the results in JavaMail\r\n            final int pageStart = nonNull(pageToken) ? Integer.valueOf(pageToken) : 1;\r\n            final int pageEnd = (pageStart + maxResults) &gt; folder.getMessageCount() ? folder.getMessageCount() : pageStart + maxResults;\r\n\r\n\r\n            // fetches new messages from server, starts with 1\r\n            final Message[] messages = folder.getMessages(pageStart, pageEnd);\r\n\r\n            final FetchProfile fetchProfile  = new FetchProfile();\r\n            fetchProfile.add(FetchProfile.Item.ENVELOPE);\r\n            folder.fetch(messages, fetchProfile); // Load the profile of the messages in 1 fetch.\r\n  \r\n            for (final Message msg : messages) {\r\n                final EmailDTO emailDTO = new EmailDTO();\r\n                emailDTO.setId(msg.getHeader(MESSAGE_ID)[0]);\r\n                emailDTO.setCc(this.parseAddresses(msg.getRecipients(Message.RecipientType.CC)));\r\n                emailDTO.setTo(this.parseAddresses(msg.getRecipients(Message.RecipientType.TO)));\r\n                emailDTO.setBcc(this.parseAddresses(msg.getRecipients(Message.RecipientType.BCC)));\r\n\r\n                emailDTO.setFrom(this.getFrom(msg.getFrom()));\r\n                emailDTO.setRead(msg.getFlags().contains(Flags.Flag.SEEN));\r\n                emailDTO.setHasAttachments(this.hasAttachments(msg));\r\n                emailDTO.setSubject(msg.getSubject());\r\n                emailDTO.setMessage(this.getMessageContent(msg));\r\n\r\n                emailDTO.setAttachments(this.getAttachements(msg));\r\n                emailDTO.setDate(msg.getReceivedDate().toString());\r\n                emailDTO.setParentFolder(msg.getFolder().getName());\r\n                //TODO: see what need to put here emailDTO.setLabels();\r\n                emailDTOList.add(emailDTO);\r\n            }\r\n\r\n            // disconnect\r\n            folder.close(false);\r\n            store.close();\r\n\r\n            emailsDTO.setEstimatedNumberOfMessages(folder.getMessageCount());\r\n            emailsDTO.setNextPageToken(String.valueOf(emailDTOList.size()));\r\n            emailsDTO.setMessages(emailDTOList);\r\n            return emailsDTO;\r\n        } catch (final MessagingException | IOException e) {\r\n            throw new RuntimeException(String.format(&quot;couldn&#39;t get messages from the folder with id: %s&quot;, folderId), e);\r\n        }\r\n    }","title":"Java Mail IMAP taking lot of time to getting messages in mail box, 25s to get 20 messages","body":"<p>There is a way to improve the performance for getting messages from the Javamail IMAP server?\ni found some tips, but couldn't improve the performance. \nThis method will get about 20 messages from a folder, and returning the formatted messages to a DTO, I tried to comment the lines to get attachments, and getting the recipients, but it doensnt change anything in the performance.</p>\n\n<pre><code>/**\n * Get all the emails that are inside the param folder\n *\n * @param folderId   folder to return the emails from the informed folder.\n * @param pageToken  pageToken to be used as pagination\n * @param maxResults maxResults to create a limit to the number of registers\n * @return {@link EmailsDTO} with all the messages\n */\npublic EmailsDTO getMessages(final String folderId, final String pageToken, final Integer maxResults) {\n    final Properties properties = getServerInputProperties();\n    final Session session = Session.getDefaultInstance(properties);\n    try {\n        final EmailsDTO emailsDTO = new EmailsDTO();\n        final List&lt;EmailDTO&gt; emailDTOList = new ArrayList&lt;&gt;();\n\n        // connects to the message store\n        final Store store = session.getStore(IMAP);\n        store.connect(email, password);\n\n        // opens the folder to search the messages\n        final Folder folder = store.getFolder(folderId);\n        folder.open(Folder.READ_ONLY);\n\n        //set a pagination used to get the results in JavaMail\n        final int pageStart = nonNull(pageToken) ? Integer.valueOf(pageToken) : 1;\n        final int pageEnd = (pageStart + maxResults) &gt; folder.getMessageCount() ? folder.getMessageCount() : pageStart + maxResults;\n\n\n        // fetches new messages from server, starts with 1\n        final Message[] messages = folder.getMessages(pageStart, pageEnd);\n\n        final FetchProfile fetchProfile  = new FetchProfile();\n        fetchProfile.add(FetchProfile.Item.ENVELOPE);\n        folder.fetch(messages, fetchProfile); // Load the profile of the messages in 1 fetch.\n\n        for (final Message msg : messages) {\n            final EmailDTO emailDTO = new EmailDTO();\n            emailDTO.setId(msg.getHeader(MESSAGE_ID)[0]);\n            emailDTO.setCc(this.parseAddresses(msg.getRecipients(Message.RecipientType.CC)));\n            emailDTO.setTo(this.parseAddresses(msg.getRecipients(Message.RecipientType.TO)));\n            emailDTO.setBcc(this.parseAddresses(msg.getRecipients(Message.RecipientType.BCC)));\n\n            emailDTO.setFrom(this.getFrom(msg.getFrom()));\n            emailDTO.setRead(msg.getFlags().contains(Flags.Flag.SEEN));\n            emailDTO.setHasAttachments(this.hasAttachments(msg));\n            emailDTO.setSubject(msg.getSubject());\n            emailDTO.setMessage(this.getMessageContent(msg));\n\n            emailDTO.setAttachments(this.getAttachements(msg));\n            emailDTO.setDate(msg.getReceivedDate().toString());\n            emailDTO.setParentFolder(msg.getFolder().getName());\n            //TODO: see what need to put here emailDTO.setLabels();\n            emailDTOList.add(emailDTO);\n        }\n\n        // disconnect\n        folder.close(false);\n        store.close();\n\n        emailsDTO.setEstimatedNumberOfMessages(folder.getMessageCount());\n        emailsDTO.setNextPageToken(String.valueOf(emailDTOList.size()));\n        emailsDTO.setMessages(emailDTOList);\n        return emailsDTO;\n    } catch (final MessagingException | IOException e) {\n        throw new RuntimeException(String.format(\"couldn't get messages from the folder with id: %s\", folderId), e);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","xml","controller","navigation"],"comments":[{"owner":{"account_id":17597721,"reputation":647,"user_id":12768337,"display_name":"Rudra Rokaya"},"score":0,"creation_date":1642860016,"post_id":70811719,"comment_id":125187271,"body_markdown":"try to change your fragment names. it just a naming problem. fragment name should be different than the already used names.","body":"try to change your fragment names. it just a naming problem. fragment name should be different than the already used names."},{"owner":{"account_id":3961427,"reputation":7215,"user_id":3268303,"accept_rate":71,"display_name":"dazza5000"},"score":0,"creation_date":1670338999,"post_id":70811719,"comment_id":131850550,"body_markdown":"What was the solution?","body":"What was the solution?"}],"owner":{"account_id":23996136,"reputation":43,"user_id":17981624,"display_name":"vetturags"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":788,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1642845341,"creation_date":1642845341,"question_id":70811719,"body_markdown":"I am trying to implement navigation between fragments using bottom navbar but when using NavigationUI.setupWithNavController when i click on any tab i get error java.lang.NullPointerException at androidx.navigation.ui.NavigationUI.onNavDestinationSelected please help i dont understand what not this way.\r\n\r\nException \r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.testfragments, PID: 12083\r\n    java.lang.NullPointerException\r\n        at androidx.navigation.ui.NavigationUI.onNavDestinationSelected(NavigationUI.kt:69)\r\n        at androidx.navigation.ui.NavigationUI.setupWithNavController$lambda-6(NavigationUI.kt:602)\r\n        at androidx.navigation.ui.NavigationUI.$r8$lambda$6wzEv9QqEZKdQFS1sQQy-bdQvgE(Unknown Source:0)\r\n        at androidx.navigation.ui.NavigationUI$$ExternalSyntheticLambda2.onNavigationItemSelected(Unknown Source:2)\r\n        at com.google.android.material.navigation.NavigationBarView$1.onMenuItemSelected(NavigationBarView.java:295)\r\n        at androidx.appcompat.view.menu.MenuBuilder.dispatchMenuItemSelected(MenuBuilder.java:834)\r\n        at androidx.appcompat.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:158)\r\n        at androidx.appcompat.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:985)\r\n        at com.google.android.material.navigation.NavigationBarMenuView$1.onClick(NavigationBarMenuView.java:133)\r\n        at android.view.View.performClick(View.java:6256)\r\n        at android.view.View$PerformClick.run(View.java:24701)\r\n        at android.os.Handler.handleCallback(Handler.java:789)\r\n        at android.os.Handler.dispatchMessage(Handler.java:98)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6541)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\r\n\r\nMainActivity.java\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    private NavController navController;\r\n    private AppBarConfiguration appBarConfiguration;\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        NavHostFragment navHostFragment = (NavHostFragment) getSupportFragmentManager().findFragmentById(R.id.nav_host_fragment_container);\r\n        NavController navController = navHostFragment.getNavController();\r\n        BottomNavigationView bottomNavigationView = (BottomNavigationView) findViewById(R.id.bottom_navigation_menu);\r\n        appBarConfiguration = new AppBarConfiguration.Builder(R.id.user, R.id.orders, R.id.products, R.id.companies, R.id.map).build();\r\n        NavigationUI.setupWithNavController(bottomNavigationView, navController);\r\n    }\r\n\r\n    @Override\r\n    public boolean onSupportNavigateUp() {\r\n        return navController.navigateUp();\r\n    }\r\n    }\r\n\r\nactivity_main.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;androidx.fragment.app.FragmentContainerView\r\n        android:id=&quot;@+id/nav_host_fragment_container&quot;\r\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        app:defaultNavHost=&quot;true&quot;/&gt;\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/bottom_navigation_menu&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:menu=&quot;@menu/bottom_navigation_menu&quot; /&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n\r\nbottom_navigation_menu.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/user&quot;\r\n        android:icon=&quot;@drawable/ic_user_black_24dp&quot;\r\n        android:title=&quot;@string/title_user&quot;/&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/orders&quot;\r\n        android:icon=&quot;@drawable/ic_orders_black_24dp&quot;\r\n        android:title=&quot;@string/title_orders&quot;/&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/products&quot;\r\n        android:icon=&quot;@drawable/ic_products_black_24dp&quot;\r\n        android:title=&quot;@string/title_products&quot;/&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/companies&quot;\r\n        android:icon=&quot;@drawable/ic_companies_black_24dp&quot;\r\n        android:title=&quot;@string/title_companies&quot;/&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/map&quot;\r\n        android:icon=&quot;@drawable/ic_map_black_24dp&quot;\r\n        android:title=&quot;@string/title_map&quot;/&gt;\r\n\r\n    &lt;/menu&gt;\r\n\r\nnav_graph.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;navigation\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:id=&quot;@+id/nav_graph&quot;\r\n    app:startDestination=&quot;@+id/user&quot;&gt;\r\n\r\n    &lt;include app:graph=&quot;@navigation/user&quot;/&gt;\r\n    &lt;include app:graph=&quot;@navigation/orders&quot;/&gt;\r\n    &lt;include app:graph=&quot;@navigation/products&quot;/&gt;\r\n    &lt;include app:graph=&quot;@navigation/companies&quot;/&gt;\r\n    &lt;include app:graph=&quot;@navigation/map&quot;/&gt;\r\n\r\n    &lt;/navigation&gt;","title":"NavigationUI.setupWithNavController get java.lang.NullPointerException","body":"<p>I am trying to implement navigation between fragments using bottom navbar but when using NavigationUI.setupWithNavController when i click on any tab i get error java.lang.NullPointerException at androidx.navigation.ui.NavigationUI.onNavDestinationSelected please help i dont understand what not this way.</p>\n<p>Exception</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.testfragments, PID: 12083\njava.lang.NullPointerException\n    at androidx.navigation.ui.NavigationUI.onNavDestinationSelected(NavigationUI.kt:69)\n    at androidx.navigation.ui.NavigationUI.setupWithNavController$lambda-6(NavigationUI.kt:602)\n    at androidx.navigation.ui.NavigationUI.$r8$lambda$6wzEv9QqEZKdQFS1sQQy-bdQvgE(Unknown Source:0)\n    at androidx.navigation.ui.NavigationUI$$ExternalSyntheticLambda2.onNavigationItemSelected(Unknown Source:2)\n    at com.google.android.material.navigation.NavigationBarView$1.onMenuItemSelected(NavigationBarView.java:295)\n    at androidx.appcompat.view.menu.MenuBuilder.dispatchMenuItemSelected(MenuBuilder.java:834)\n    at androidx.appcompat.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:158)\n    at androidx.appcompat.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:985)\n    at com.google.android.material.navigation.NavigationBarMenuView$1.onClick(NavigationBarMenuView.java:133)\n    at android.view.View.performClick(View.java:6256)\n    at android.view.View$PerformClick.run(View.java:24701)\n    at android.os.Handler.handleCallback(Handler.java:789)\n    at android.os.Handler.dispatchMessage(Handler.java:98)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.app.ActivityThread.main(ActivityThread.java:6541)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nprivate NavController navController;\nprivate AppBarConfiguration appBarConfiguration;\n\n@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    NavHostFragment navHostFragment = (NavHostFragment) getSupportFragmentManager().findFragmentById(R.id.nav_host_fragment_container);\n    NavController navController = navHostFragment.getNavController();\n    BottomNavigationView bottomNavigationView = (BottomNavigationView) findViewById(R.id.bottom_navigation_menu);\n    appBarConfiguration = new AppBarConfiguration.Builder(R.id.user, R.id.orders, R.id.products, R.id.companies, R.id.map).build();\n    NavigationUI.setupWithNavController(bottomNavigationView, navController);\n}\n\n@Override\npublic boolean onSupportNavigateUp() {\n    return navController.navigateUp();\n}\n}\n</code></pre>\n<p>activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:orientation=&quot;vertical&quot;\ntools:context=&quot;.MainActivity&quot;&gt;\n\n&lt;androidx.fragment.app.FragmentContainerView\n    android:id=&quot;@+id/nav_host_fragment_container&quot;\n    android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;0dp&quot;\n    android:layout_weight=&quot;1&quot;\n    app:defaultNavHost=&quot;true&quot;/&gt;\n\n&lt;com.google.android.material.bottomnavigation.BottomNavigationView\n    android:id=&quot;@+id/bottom_navigation_menu&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:menu=&quot;@menu/bottom_navigation_menu&quot; /&gt;\n</code></pre>\n\n<p>bottom_navigation_menu.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n&lt;item\n    android:id=&quot;@+id/user&quot;\n    android:icon=&quot;@drawable/ic_user_black_24dp&quot;\n    android:title=&quot;@string/title_user&quot;/&gt;\n&lt;item\n    android:id=&quot;@+id/orders&quot;\n    android:icon=&quot;@drawable/ic_orders_black_24dp&quot;\n    android:title=&quot;@string/title_orders&quot;/&gt;\n&lt;item\n    android:id=&quot;@+id/products&quot;\n    android:icon=&quot;@drawable/ic_products_black_24dp&quot;\n    android:title=&quot;@string/title_products&quot;/&gt;\n&lt;item\n    android:id=&quot;@+id/companies&quot;\n    android:icon=&quot;@drawable/ic_companies_black_24dp&quot;\n    android:title=&quot;@string/title_companies&quot;/&gt;\n&lt;item\n    android:id=&quot;@+id/map&quot;\n    android:icon=&quot;@drawable/ic_map_black_24dp&quot;\n    android:title=&quot;@string/title_map&quot;/&gt;\n\n&lt;/menu&gt;\n</code></pre>\n<p>nav_graph.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;navigation\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:id=&quot;@+id/nav_graph&quot;\napp:startDestination=&quot;@+id/user&quot;&gt;\n\n&lt;include app:graph=&quot;@navigation/user&quot;/&gt;\n&lt;include app:graph=&quot;@navigation/orders&quot;/&gt;\n&lt;include app:graph=&quot;@navigation/products&quot;/&gt;\n&lt;include app:graph=&quot;@navigation/companies&quot;/&gt;\n&lt;include app:graph=&quot;@navigation/map&quot;/&gt;\n\n&lt;/navigation&gt;\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1642085664,"post_id":70696828,"comment_id":124982635,"body_markdown":"Did you see https://stackoverflow.com/questions/47632035/google-sign-in-error-12500 or some of the many other pages that show up when [searching for the error message](https://www.google.com/search?q=Google+sign+in+failed+com.google.android.gms.common.api.ApiException%3A+12500?","body":"Did you see <a href=\"https://stackoverflow.com/questions/47632035/google-sign-in-error-12500\" title=\"google sign in error 12500\">stackoverflow.com/questions/47632035/google-sign-in-error-12&zwnj;&#8203;500</a> or some of the many other pages that show up when [searching for the error message](<a href=\"https://www.google.com/search?q=Google+sign+in+failed+com.google.android.gms.common.api.ApiException%3A+12500\" rel=\"nofollow noreferrer\">google.com/&hellip;</a>?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1655803227,"post_id":70696828,"comment_id":128412025,"body_markdown":"Have you tried to implement [Google Identity One Tap](https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d)?","body":"Have you tried to implement <a href=\"https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d\" rel=\"nofollow noreferrer\">Google Identity One Tap</a>?"}],"owner":{"account_id":22310998,"reputation":11,"user_id":16534975,"display_name":"Fandy Joansyah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642845164,"creation_date":1642077836,"question_id":70696828,"body_markdown":"I am creating a Sign In Activity using Firebase authentication. It work successfully on Android Lollipop and on android Pie. However, if I run it on android 11 (Red Velvet), it doesnt work and I got the following message when i hit the login button:\r\n\r\n```\r\n2022-01-13 19:27:13.842 8122-8122/com.example.riset_login_firebase W/GoogleActivity: Google sign in failed\r\n\r\ncom.google.android.gms.common.api.ApiException: 12500: \r\n  at com.google.android.gms.common.internal.ApiExceptionUtil.fromStatus(com.google.android.gms:play-services-base@@17.5.0:4)\r\n  at com.google.android.gms.auth.api.signin.GoogleSignIn.getSignedInAccountFromIntent(com.google.android.gms:play-services-auth@@19.2.0:3)\r\n  at com.example.riset_login_firebase.MainActivity.onActivityResult(MainActivity.java:72)\r\n```\r\n\r\n\r\nAnd here is my code\r\n\r\n**MainActivity.java**\r\n```\r\npackage com.example.riset_login_firebase;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.auth.api.signin.GoogleSignIn;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInAccount;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInClient;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInOptions;\r\nimport com.google.android.gms.common.SignInButton;\r\nimport com.google.android.gms.common.api.ApiException;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthCredential;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.auth.GoogleAuthProvider;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    SignInButton button;\r\n    private static final String TAG = &quot;GoogleActivity&quot;;\r\n    private static final int RC_SIGN_IN = 9001;\r\n\r\n    // [START declare_auth]\r\n    private FirebaseAuth mAuth;\r\n    // [END declare_auth]\r\n\r\n    private GoogleSignInClient mGoogleSignInClient;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        // Configure Google Sign In\r\n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestIdToken(getString(R.string.default_web_client_id))\r\n                .requestEmail()\r\n                .build();\r\n\r\n        mGoogleSignInClient = GoogleSignIn.getClient(this, gso);\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        button = findViewById(R.id.login);\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                sign();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void sign() {\r\n        Intent signInIntent = mGoogleSignInClient.getSignInIntent();\r\n        startActivityForResult(signInIntent, RC_SIGN_IN);\r\n    }\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        // Result returned from launching the Intent from GoogleSignInApi.getSignInIntent(...);\r\n        if (requestCode == RC_SIGN_IN) {\r\n            Task&lt;GoogleSignInAccount&gt; task = GoogleSignIn.getSignedInAccountFromIntent(data);\r\n            try {\r\n                // Google Sign In was successful, authenticate with Firebase\r\n                GoogleSignInAccount account = task.getResult(ApiException.class);\r\n                Log.d(TAG, &quot;firebaseAuthWithGoogle:&quot; + account.getId());\r\n                firebaseAuthWithGoogle(account.getIdToken());\r\n            } catch (ApiException e) {\r\n                // Google Sign In failed, update UI appropriately\r\n                Log.w(TAG, &quot;Google sign in failed&quot;, e);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void firebaseAuthWithGoogle(String idToken) {\r\n        AuthCredential credential = GoogleAuthProvider.getCredential(idToken, null);\r\n        mAuth.signInWithCredential(credential)\r\n                .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            // Sign in success, update UI with the signed-in user&#39;s information\r\n                            Log.d(TAG, &quot;signInWithCredential:success&quot;);\r\n                            FirebaseUser user = mAuth.getCurrentUser();\r\n                            updateUI(user);\r\n                        } else {\r\n                            // If sign in fails, display a message to the user.\r\n                            Log.w(TAG, &quot;signInWithCredential:failure&quot;, task.getException());\r\n                            updateUI(null);\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void updateUI(FirebaseUser user) {\r\n        if(user != null){\r\n            Toast.makeText(MainActivity.this,&quot;Login Success&quot;,Toast.LENGTH_SHORT).show();\r\n        }\r\n        else{\r\n            Toast.makeText(MainActivity.this,&quot;Login Failed&quot;,Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnybody know how to fix it?","title":"Firebase Google Sign In Not Working In Android 11 (Red Velvet Cake)","body":"<p>I am creating a Sign In Activity using Firebase authentication. It work successfully on Android Lollipop and on android Pie. However, if I run it on android 11 (Red Velvet), it doesnt work and I got the following message when i hit the login button:</p>\n<pre><code>2022-01-13 19:27:13.842 8122-8122/com.example.riset_login_firebase W/GoogleActivity: Google sign in failed\n\ncom.google.android.gms.common.api.ApiException: 12500: \n  at com.google.android.gms.common.internal.ApiExceptionUtil.fromStatus(com.google.android.gms:play-services-base@@17.5.0:4)\n  at com.google.android.gms.auth.api.signin.GoogleSignIn.getSignedInAccountFromIntent(com.google.android.gms:play-services-auth@@19.2.0:3)\n  at com.example.riset_login_firebase.MainActivity.onActivityResult(MainActivity.java:72)\n</code></pre>\n<p>And here is my code</p>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>package com.example.riset_login_firebase;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Toast;\n\nimport com.google.android.gms.auth.api.signin.GoogleSignIn;\nimport com.google.android.gms.auth.api.signin.GoogleSignInAccount;\nimport com.google.android.gms.auth.api.signin.GoogleSignInClient;\nimport com.google.android.gms.auth.api.signin.GoogleSignInOptions;\nimport com.google.android.gms.common.SignInButton;\nimport com.google.android.gms.common.api.ApiException;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.auth.AuthCredential;\nimport com.google.firebase.auth.AuthResult;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\nimport com.google.firebase.auth.GoogleAuthProvider;\n\npublic class MainActivity extends AppCompatActivity {\n    SignInButton button;\n    private static final String TAG = &quot;GoogleActivity&quot;;\n    private static final int RC_SIGN_IN = 9001;\n\n    // [START declare_auth]\n    private FirebaseAuth mAuth;\n    // [END declare_auth]\n\n    private GoogleSignInClient mGoogleSignInClient;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Configure Google Sign In\n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n                .requestIdToken(getString(R.string.default_web_client_id))\n                .requestEmail()\n                .build();\n\n        mGoogleSignInClient = GoogleSignIn.getClient(this, gso);\n        mAuth = FirebaseAuth.getInstance();\n\n        button = findViewById(R.id.login);\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                sign();\n            }\n        });\n    }\n\n    private void sign() {\n        Intent signInIntent = mGoogleSignInClient.getSignInIntent();\n        startActivityForResult(signInIntent, RC_SIGN_IN);\n    }\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        // Result returned from launching the Intent from GoogleSignInApi.getSignInIntent(...);\n        if (requestCode == RC_SIGN_IN) {\n            Task&lt;GoogleSignInAccount&gt; task = GoogleSignIn.getSignedInAccountFromIntent(data);\n            try {\n                // Google Sign In was successful, authenticate with Firebase\n                GoogleSignInAccount account = task.getResult(ApiException.class);\n                Log.d(TAG, &quot;firebaseAuthWithGoogle:&quot; + account.getId());\n                firebaseAuthWithGoogle(account.getIdToken());\n            } catch (ApiException e) {\n                // Google Sign In failed, update UI appropriately\n                Log.w(TAG, &quot;Google sign in failed&quot;, e);\n            }\n        }\n    }\n\n    private void firebaseAuthWithGoogle(String idToken) {\n        AuthCredential credential = GoogleAuthProvider.getCredential(idToken, null);\n        mAuth.signInWithCredential(credential)\n                .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                        if (task.isSuccessful()) {\n                            // Sign in success, update UI with the signed-in user's information\n                            Log.d(TAG, &quot;signInWithCredential:success&quot;);\n                            FirebaseUser user = mAuth.getCurrentUser();\n                            updateUI(user);\n                        } else {\n                            // If sign in fails, display a message to the user.\n                            Log.w(TAG, &quot;signInWithCredential:failure&quot;, task.getException());\n                            updateUI(null);\n                        }\n                    }\n                });\n    }\n\n    private void updateUI(FirebaseUser user) {\n        if(user != null){\n            Toast.makeText(MainActivity.this,&quot;Login Success&quot;,Toast.LENGTH_SHORT).show();\n        }\n        else{\n            Toast.makeText(MainActivity.this,&quot;Login Failed&quot;,Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n</code></pre>\n<p>Anybody know how to fix it?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1642845151,"post_id":69140027,"comment_id":125184154,"body_markdown":"Can you explain the way in which you _do_ expect this to work?","body":"Can you explain the way in which you <i>do</i> expect this to work?"}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631335649,"creation_date":1631335486,"answer_id":69140059,"question_id":69140027,"body_markdown":"Your regex have multiple problems, Try this regex instead: \r\n\r\n     &quot;^[0-9]+(GB|MB|KB)$&quot;\r\n\r\nThis will match any number followed by GB or MB or KB\r\n\r\nRegex demo https://regex101.com/r/CvHBIN/1","title":"How to filter words with measurements in Java","body":"<p>Your regex have multiple problems, Try this regex instead:</p>\n<pre><code> &quot;^[0-9]+(GB|MB|KB)$&quot;\n</code></pre>\n<p>This will match any number followed by GB or MB or KB</p>\n<p>Regex demo <a href=\"https://regex101.com/r/CvHBIN/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/CvHBIN/1</a></p>\n"},{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1631336060,"creation_date":1631336060,"answer_id":69140107,"question_id":69140027,"body_markdown":"You may try using the following regex:\r\n\r\n&lt;!-- language: regex --&gt;\r\n\r\n    \\b\\d+(?:KB|MB|GB|TB|AM|PM|ST|ND|RD|TH)\\b\r\n\r\nExplanation of regex:\r\n\r\n&lt;!-- language: regex --&gt;\r\n\r\n    \\b               word boundary\r\n    \\d+              match one or more digits\r\n    (?:\r\n        KB|MB|GB|TB  size abbreviations\r\n        |            or\r\n        AM|PM        AM or PM\r\n        |            or\r\n        ST|ND|RD|TH  1ST, 2ND, 3RD, 4TH, etc.\r\n    )\r\n    \\b               word boundary","title":"How to filter words with measurements in Java","body":"<p>You may try using the following regex:</p>\n<pre class=\"lang-regex prettyprint-override\"><code>\\b\\d+(?:KB|MB|GB|TB|AM|PM|ST|ND|RD|TH)\\b\n</code></pre>\n<p>Explanation of regex:</p>\n<pre class=\"lang-regex prettyprint-override\"><code>\\b               word boundary\n\\d+              match one or more digits\n(?:\n    KB|MB|GB|TB  size abbreviations\n    |            or\n    AM|PM        AM or PM\n    |            or\n    ST|ND|RD|TH  1ST, 2ND, 3RD, 4TH, etc.\n)\n\\b               word boundary\n</code></pre>\n"}],"owner":{"account_id":2589371,"reputation":3454,"user_id":3655069,"accept_rate":25,"display_name":"Sun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642884894,"accepted_answer_id":69140107,"answer_count":2,"score":0,"last_activity_date":1642845108,"creation_date":1631335081,"question_id":69140027,"body_markdown":"I am writing a program in Java to filter the words relative to measurements like:\r\n\r\n    100GB\r\n    88KB\r\n    78MB\r\n    10AM\r\n    11AM\r\n    1ST\r\n    2ND\r\n    30AM\r\n    4GB\r\n    6PM\r\n    9AM\r\n\r\nI tried:\r\n\r\n    if (Pattern.compile(&quot;^[0_9*][(GB)(MB)(KB)]$&quot;)\r\n                .matcher(words[i]).find())\r\n\r\nBut not working as expected.\r\n","title":"How to filter words with measurements in Java","body":"<p>I am writing a program in Java to filter the words relative to measurements like:</p>\n<pre><code>100GB\n88KB\n78MB\n10AM\n11AM\n1ST\n2ND\n30AM\n4GB\n6PM\n9AM\n</code></pre>\n<p>I tried:</p>\n<pre><code>if (Pattern.compile(&quot;^[0_9*][(GB)(MB)(KB)]$&quot;)\n            .matcher(words[i]).find())\n</code></pre>\n<p>But not working as expected.</p>\n"},{"tags":["java","selenium","maven","cucumber-jvm","automation-testing"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1642930030,"post_id":70808098,"comment_id":125200023,"body_markdown":"If you know it&#39;s not threadsafe why do you run in parallel?","body":"If you know it&#39;s not threadsafe why do you run in parallel?"}],"owner":{"account_id":24014312,"reputation":11,"user_id":17997455,"display_name":"Rahul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642844957,"creation_date":1642802687,"question_id":70808098,"body_markdown":"My cucumber automation framework is using junit and not threadsafe and during parallel execution using maven surefire plugin I&#39;m facing lot of data read and write issues and webdriver issues. Is there a way i can run my automation framework on different instances such that each parallel execution feature file runs on different instances. POM maven surefire plugin configuration:-\r\n\r\n\r\n    &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t    &lt;forkCount&gt;10&lt;/forkCount&gt;\r\n                    &lt;reuseForks&gt;false&lt;/reuseForks&gt;     \r\n\t\t\t\t&lt;/configuration&gt;\r\n\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;execute&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;test&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;parallel&gt;methods&lt;/parallel&gt;\r\n                            &lt;useUnlimitedThreads&gt;true&lt;/useUnlimitedThreads&gt;\r\n                            &lt;perCoreThreadCount&gt;true&lt;/perCoreThreadCount&gt;\r\n                            &lt;skip&gt;false&lt;/skip&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;test&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;","title":"Is there a way through which we can run cucumber automation framework using junit on parallel different instances as my framework is not threadsafe","body":"<p>My cucumber automation framework is using junit and not threadsafe and during parallel execution using maven surefire plugin I'm facing lot of data read and write issues and webdriver issues. Is there a way i can run my automation framework on different instances such that each parallel execution feature file runs on different instances. POM maven surefire plugin configuration:-</p>\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M5&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;forkCount&gt;10&lt;/forkCount&gt;\n                &lt;reuseForks&gt;false&lt;/reuseForks&gt;     \n            &lt;/configuration&gt;\n\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;execute&lt;/id&gt;\n                    &lt;phase&gt;test&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;parallel&gt;methods&lt;/parallel&gt;\n                        &lt;useUnlimitedThreads&gt;true&lt;/useUnlimitedThreads&gt;\n                        &lt;perCoreThreadCount&gt;true&lt;/perCoreThreadCount&gt;\n                        &lt;skip&gt;false&lt;/skip&gt;\n                    &lt;/configuration&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;test&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","hibernate","session","saving-data"],"comments":[{"owner":{"account_id":15006333,"reputation":66,"user_id":10832295,"display_name":"Aziz Gasimov"},"score":0,"creation_date":1642769328,"post_id":70801457,"comment_id":125166190,"body_markdown":"https://stackoverflow.com/a/23215605/10832295 this might answer your question","body":"<a href=\"https://stackoverflow.com/a/23215605/10832295\">stackoverflow.com/a/23215605/10832295</a> this might answer your question"}],"answers":[{"tags":[],"owner":{"account_id":24009590,"reputation":1,"user_id":17993342,"display_name":"Tjurek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642844908,"creation_date":1642844908,"answer_id":70811670,"question_id":70801457,"body_markdown":"Soo I used **Hibernate 6.0.0.3 Beta Version**, I changed it to latest non beta build (**5.6.4.Final**) and it worked.","title":"Hibernate - MappingException - Unkown Entity","body":"<p>Soo I used <strong>Hibernate 6.0.0.3 Beta Version</strong>, I changed it to latest non beta build (<strong>5.6.4.Final</strong>) and it worked.</p>\n"}],"owner":{"account_id":24009590,"reputation":1,"user_id":17993342,"display_name":"Tjurek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":481,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642844908,"creation_date":1642768984,"question_id":70801457,"body_markdown":"When trying to save Student using session, I get this error though I used \r\n\r\n&gt; .addAnnotatedClass(Student.class)\r\n\r\n in Configuration and used \r\n\r\n&gt; `&lt;mapping class=&quot;com.hibernate_demo.models.Student&quot;/&gt;`\r\n\r\n in Hibernate.cfg.xml\r\n\r\n    Exception in thread &quot;main&quot; org.hibernate.MappingException: Unknown entity: com.hibernate_demo.models.Student\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.entityPersister(MappingMetamodelImpl.java:589)\r\n\tat org.hibernate.internal.SessionImpl.getEntityPersister(SessionImpl.java:1450)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:113)\r\n\tat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.saveWithGeneratedOrRequestedId(DefaultSaveOrUpdateEventListener.java:192)\r\n\tat org.hibernate.event.internal.DefaultSaveEventListener.saveWithGeneratedOrRequestedId(DefaultSaveEventListener.java:36)\r\n\tat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.entityIsTransient(DefaultSaveOrUpdateEventListener.java:177)\r\n\tat org.hibernate.event.internal.DefaultSaveEventListener.performSaveOrUpdate(DefaultSaveEventListener.java:30)\r\n\tat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:73)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n\tat org.hibernate.internal.SessionImpl.fireSave(SessionImpl.java:632)\r\n\tat org.hibernate.internal.SessionImpl.save(SessionImpl.java:625)\r\n\tat org.hibernate.internal.SessionImpl.save(SessionImpl.java:620)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:348)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy35.save(Unknown Source)\r\n\tat com.hibernate_demo.application.CreateStudentDemo.main(CreateStudentDemo.java:24)\r\n\r\nStudent.java\r\n\r\n    package com.hibernate_demo.models;\r\n    import javax.persistence.*;\r\n\r\n    @Entity\r\n    @Table(name = &quot;Student&quot;)\r\n    public class Student {\r\n\r\n    @Id\r\n    private long id;\r\n    @Column(name=&quot;first_name&quot;, nullable = false)\r\n    private String firstName;\r\n    @Column(name=&quot;last_name&quot;, nullable = false)\r\n    private String lastName;\r\n    @Column(name=&quot;email&quot;, nullable = false)\r\n    private String email;\r\n\r\n    public Student(String firstName, String lastName, String email) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.email = email;\r\n    }\r\n\r\n    public Student() {}\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Student{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, firstName=&#39;&quot; + firstName + &#39;\\&#39;&#39; +\r\n                &quot;, lastName=&#39;&quot; + lastName + &#39;\\&#39;&#39; +\r\n                &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nhibernate.cfg.xml\r\n    \r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n        &quot;http://hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;org.postgresql.Driver&lt;/property&gt;\r\n        &lt;property \r\n        name=&quot;hibernate.connection.url&quot;&gt;jdbc:postgresql://localhost:5432/Hibernate&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;postgres&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;admin&lt;/property&gt;\r\n\r\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/property&gt;\r\n\r\n        &lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n\r\n        &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.format_sql&quot;&gt;true&lt;/property&gt;\r\n\r\n        &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\r\n\r\n        &lt;mapping class=&quot;com.hibernate_demo.models.Student&quot;/&gt;\r\n    &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\nCreateStudentDemo.java\r\n    package com.hibernate_demo.application;\r\n\r\n    import com.hibernate_demo.models.Student;\r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.cfg.Configuration;\r\n\r\n    public class CreateStudentDemo {\r\n    public static void main(String[] args) {\r\n        // Create Session Factory\r\n        SessionFactory factory = new Configuration()\r\n                .configure(&quot;hibernate.cfg.xml&quot;)\r\n                .addAnnotatedClass(Student.class)\r\n                .buildSessionFactory();\r\n\r\n        // Using session object to save Java object\r\n        try (factory; Session session = factory.getCurrentSession()) {\r\n            factory.openSession();\r\n            System.out.println(&quot;Creating new student object...&quot;);\r\n            Student tempStudent = new Student(&quot;Tomasz&quot;, &quot;Jurek&quot;, &quot;jur.tomasz13@gmail.com&quot;);\r\n            System.out.println(&quot;Begin transaction&quot;);\r\n            session.beginTransaction();\r\n            System.out.println(&quot;Saving student..&quot;);\r\n            session.save(tempStudent);\r\n            System.out.println(&quot;Commiting transaction&quot;);\r\n            session.getTransaction().commit();\r\n            System.out.println(&quot;Transaction commited&quot;);\r\n        }\r\n    }\r\n    }\r\n\r\npom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven- \r\n    4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Hibernate-Demo&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.0.Beta3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n\r\n\r\n    &lt;/project&gt;","title":"Hibernate - MappingException - Unkown Entity","body":"<p>When trying to save Student using session, I get this error though I used</p>\n<blockquote>\n<p>.addAnnotatedClass(Student.class)</p>\n</blockquote>\n<p>in Configuration and used</p>\n<blockquote>\n<p><code>&lt;mapping class=&quot;com.hibernate_demo.models.Student&quot;/&gt;</code></p>\n</blockquote>\n<p>in Hibernate.cfg.xml</p>\n<pre><code>Exception in thread &quot;main&quot; org.hibernate.MappingException: Unknown entity: com.hibernate_demo.models.Student\nat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.entityPersister(MappingMetamodelImpl.java:589)\nat org.hibernate.internal.SessionImpl.getEntityPersister(SessionImpl.java:1450)\nat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:113)\nat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.saveWithGeneratedOrRequestedId(DefaultSaveOrUpdateEventListener.java:192)\nat org.hibernate.event.internal.DefaultSaveEventListener.saveWithGeneratedOrRequestedId(DefaultSaveEventListener.java:36)\nat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.entityIsTransient(DefaultSaveOrUpdateEventListener.java:177)\nat org.hibernate.event.internal.DefaultSaveEventListener.performSaveOrUpdate(DefaultSaveEventListener.java:30)\nat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:73)\nat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\nat org.hibernate.internal.SessionImpl.fireSave(SessionImpl.java:632)\nat org.hibernate.internal.SessionImpl.save(SessionImpl.java:625)\nat org.hibernate.internal.SessionImpl.save(SessionImpl.java:620)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\nat org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:348)\nat jdk.proxy2/jdk.proxy2.$Proxy35.save(Unknown Source)\nat com.hibernate_demo.application.CreateStudentDemo.main(CreateStudentDemo.java:24)\n</code></pre>\n<p>Student.java</p>\n<pre><code>package com.hibernate_demo.models;\nimport javax.persistence.*;\n\n@Entity\n@Table(name = &quot;Student&quot;)\npublic class Student {\n\n@Id\nprivate long id;\n@Column(name=&quot;first_name&quot;, nullable = false)\nprivate String firstName;\n@Column(name=&quot;last_name&quot;, nullable = false)\nprivate String lastName;\n@Column(name=&quot;email&quot;, nullable = false)\nprivate String email;\n\npublic Student(String firstName, String lastName, String email) {\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.email = email;\n}\n\npublic Student() {}\n\npublic long getId() {\n    return id;\n}\n\npublic void setId(Long id) {\n    this.id = id;\n}\n\npublic String getFirstName() {\n    return firstName;\n}\n\npublic void setFirstName(String firstName) {\n    this.firstName = firstName;\n}\n\npublic String getLastName() {\n    return lastName;\n}\n\npublic void setLastName(String lastName) {\n    this.lastName = lastName;\n}\n\npublic String getEmail() {\n    return email;\n}\n\npublic void setEmail(String email) {\n    this.email = email;\n}\n\n@Override\npublic String toString() {\n    return &quot;Student{&quot; +\n            &quot;id=&quot; + id +\n            &quot;, firstName='&quot; + firstName + '\\'' +\n            &quot;, lastName='&quot; + lastName + '\\'' +\n            &quot;, email='&quot; + email + '\\'' +\n            '}';\n    }\n}\n</code></pre>\n<p>hibernate.cfg.xml</p>\n<pre><code>&lt;!DOCTYPE hibernate-configuration PUBLIC\n    &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n    &quot;http://hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n&lt;session-factory&gt;\n    &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;org.postgresql.Driver&lt;/property&gt;\n    &lt;property \n    name=&quot;hibernate.connection.url&quot;&gt;jdbc:postgresql://localhost:5432/Hibernate&lt;/property&gt;\n    &lt;property name=&quot;hibernate.connection.username&quot;&gt;postgres&lt;/property&gt;\n    &lt;property name=&quot;hibernate.connection.password&quot;&gt;admin&lt;/property&gt;\n\n    &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/property&gt;\n\n    &lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;\n\n    &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\n    &lt;property name=&quot;hibernate.format_sql&quot;&gt;true&lt;/property&gt;\n\n    &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\n\n    &lt;mapping class=&quot;com.hibernate_demo.models.Student&quot;/&gt;\n&lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>CreateStudentDemo.java\npackage com.hibernate_demo.application;</p>\n<pre><code>import com.hibernate_demo.models.Student;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.cfg.Configuration;\n\npublic class CreateStudentDemo {\npublic static void main(String[] args) {\n    // Create Session Factory\n    SessionFactory factory = new Configuration()\n            .configure(&quot;hibernate.cfg.xml&quot;)\n            .addAnnotatedClass(Student.class)\n            .buildSessionFactory();\n\n    // Using session object to save Java object\n    try (factory; Session session = factory.getCurrentSession()) {\n        factory.openSession();\n        System.out.println(&quot;Creating new student object...&quot;);\n        Student tempStudent = new Student(&quot;Tomasz&quot;, &quot;Jurek&quot;, &quot;jur.tomasz13@gmail.com&quot;);\n        System.out.println(&quot;Begin transaction&quot;);\n        session.beginTransaction();\n        System.out.println(&quot;Saving student..&quot;);\n        session.save(tempStudent);\n        System.out.println(&quot;Commiting transaction&quot;);\n        session.getTransaction().commit();\n        System.out.println(&quot;Transaction commited&quot;);\n    }\n}\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven- \n4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;org.example&lt;/groupId&gt;\n&lt;artifactId&gt;Hibernate-Demo&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n&lt;properties&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;6.0.0.Beta3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;version&gt;42.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n        &lt;version&gt;2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n\n\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","string","android-layout"],"comments":[{"owner":{"account_id":7787481,"reputation":9066,"user_id":5891747,"display_name":"Android Geek"},"score":0,"creation_date":1642856392,"post_id":70811668,"comment_id":125186518,"body_markdown":"Try `locale = Locale(&quot;de&quot;):` instead of ` locale = new Locale(&quot;de&quot;, &quot;DE&quot;);`","body":"Try <code>locale = Locale(&quot;de&quot;):</code> instead of ` locale = new Locale(&quot;de&quot;, &quot;DE&quot;);`"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1642863840,"post_id":70811668,"comment_id":125188274,"body_markdown":"@AndroidGeek: Thanks for your comment. I tried what you suggested but it yields the following error &quot;error: cannot find symbol locale = Locale(&quot;de&quot;);&quot; (it was also marked red by Android Studio before running). Then I tried the following `locale = new Locale(&quot;de&quot;);` The app starts but the behaviour remains unchanged. The string resources are always shown in English and not in German.","body":"@AndroidGeek: Thanks for your comment. I tried what you suggested but it yields the following error &quot;error: cannot find symbol locale = Locale(&quot;de&quot;);&quot; (it was also marked red by Android Studio before running). Then I tried the following <code>locale = new Locale(&quot;de&quot;);</code> The app starts but the behaviour remains unchanged. The string resources are always shown in English and not in German."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1642919726,"post_id":70811668,"comment_id":125198376,"body_markdown":"does it work when the device language is German?","body":"does it work when the device language is German?"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1642929976,"post_id":70811668,"comment_id":125200010,"body_markdown":"@SambhavKhandelwal: Thanks for your comment. What do you mean with device language is German? I use an Emulator and when I try to change the language to German, it still remains in English. When using the very same emulator and code in another app, the language changes to Germand (and back to English if I want to).","body":"@SambhavKhandelwal: Thanks for your comment. What do you mean with device language is German? I use an Emulator and when I try to change the language to German, it still remains in English. When using the very same emulator and code in another app, the language changes to Germand (and back to English if I want to)."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1643218287,"post_id":70811668,"comment_id":125283215,"body_markdown":"@AndroidGeek: Any comments to my last comments? You suggested approach does not work","body":"@AndroidGeek: Any comments to my last comments? You suggested approach does not work"},{"owner":{"account_id":7787481,"reputation":9066,"user_id":5891747,"display_name":"Android Geek"},"score":0,"creation_date":1643255078,"post_id":70811668,"comment_id":125293009,"body_markdown":"Change German languages string.xml folder from de-rDE to de","body":"Change German languages string.xml folder from de-rDE to de"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1643307337,"post_id":70811668,"comment_id":125311341,"body_markdown":"@AndroidGeek: Thanks for your answer Android Geek. In fact it solved the problem :-). There is still one thing that I don&#39;t understand. When I press the button for one language, the app automatically navigates to the home fragment, altough I don&#39;t have a statement for this. In my other app, using the same code, the app stays at this very fragment. Do you know why the app automatically navigates to the home fragment and how the App can stay at this fragment?","body":"@AndroidGeek: Thanks for your answer Android Geek. In fact it solved the problem :-). There is still one thing that I don&#39;t understand. When I press the button for one language, the app automatically navigates to the home fragment, altough I don&#39;t have a statement for this. In my other app, using the same code, the app stays at this very fragment. Do you know why the app automatically navigates to the home fragment and how the App can stay at this fragment?"},{"owner":{"account_id":7787481,"reputation":9066,"user_id":5891747,"display_name":"Android Geek"},"score":0,"creation_date":1643343799,"post_id":70811668,"comment_id":125319977,"body_markdown":"@VanessaF When we change language or theme of app at runtime then our activity restart again, If Activity have fragment then it automatically navigates to first fragment, We need to save state of Activity so same fragment will be open on language change. \nCheck these answers - https://stackoverflow.com/questions/65598185/how-to-change-language-runtime-for-fragment ,  https://stackoverflow.com/questions/28604662/how-to-refresh-a-fragment-after-language-change-is-applied-in-android","body":"@VanessaF When we change language or theme of app at runtime then our activity restart again, If Activity have fragment then it automatically navigates to first fragment, We need to save state of Activity so same fragment will be open on language change.  Check these answers - <a href=\"https://stackoverflow.com/questions/65598185/how-to-change-language-runtime-for-fragment\" title=\"how to change language runtime for fragment\">stackoverflow.com/questions/65598185/&hellip;</a> ,  <a href=\"https://stackoverflow.com/questions/28604662/how-to-refresh-a-fragment-after-language-change-is-applied-in-android\" title=\"how to refresh a fragment after language change is applied in android\">stackoverflow.com/questions/28604662/&hellip;</a>"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1643444522,"post_id":70811668,"comment_id":125344976,"body_markdown":"@AndroidGeek: Thanks a lot Android Geek for your help. I really appreciate it (if you want to, you can wright your comments as an answer and I will upvote and accept it).","body":"@AndroidGeek: Thanks a lot Android Geek for your help. I really appreciate it (if you want to, you can wright your comments as an answer and I will upvote and accept it)."},{"owner":{"account_id":7787481,"reputation":9066,"user_id":5891747,"display_name":"Android Geek"},"score":1,"creation_date":1643600615,"post_id":70811668,"comment_id":125375160,"body_markdown":"I&#39;m so glad it helps you :)","body":"I&#39;m so glad it helps you :)"},{"owner":{"account_id":396748,"reputation":30697,"user_id":760489,"accept_rate":72,"display_name":"Pratik"},"score":0,"creation_date":1669037622,"post_id":70811668,"comment_id":131544991,"body_markdown":"@VanessaF I am facing same issue. When I run application from studio then language properly switch English to another language and back forth but when I build bundle and upload on play console that time language remains to English. I don&#39;t know whats wrong in the code, same code work but different behaviour.","body":"@VanessaF I am facing same issue. When I run application from studio then language properly switch English to another language and back forth but when I build bundle and upload on play console that time language remains to English. I don&#39;t know whats wrong in the code, same code work but different behaviour."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1669395236,"post_id":70811668,"comment_id":131639152,"body_markdown":"@Pratik: Thanks for the comment and the information. Actually I have to admit that I have never uploaded anything on play console. Do you have different xml files for the string ressources and activate the language by using `Locale locale;\n            locale = new Locale(&quot;de&quot;, &quot;DE&quot;);\n\n            Configuration config = new Configuration(getActivity().getBaseContext().getResources().getConfiguration());\n            Locale.setDefault(locale);\n            config.setLocale(locale);\n            getActivity().recreate();`","body":"@Pratik: Thanks for the comment and the information. Actually I have to admit that I have never uploaded anything on play console. Do you have different xml files for the string ressources and activate the language by using <code>Locale locale;             locale = new Locale(&quot;de&quot;, &quot;DE&quot;);              Configuration config = new Configuration(getActivity().getBaseContext().getResources().&zwnj;&#8203;getConfiguration());             Locale.setDefault(locale);             config.setLocale(locale);             getActivity().recreate();</code>"}],"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":991,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642844887,"creation_date":1642844887,"question_id":70811668,"body_markdown":"I have an Android Fragment (I use the singe activity mutiple fragments approach) for selecting the language of the whole app (either German or English) based on the click on an image button. I have an xml file in the value folder for the strings in English and in German (see Screenshot of the folder structure).\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNow I use a code from another app that changes the language properly. However, in my current App it just does not work. The language of the String ressources are always displayed in English altough when I choose German as the language via this Fragment. \r\n\r\nHere is the Java file of the Fragment for Language Selection:\r\n\r\n    /*\r\n     Fragment for selecting the language of the app via ImageButtons\r\n     */\r\n    \r\n    public class FR_Language_Selection extends Fragment implements View.OnClickListener {\r\n    \r\n        /*\r\n        String specifying the language of the App\r\n         */\r\n    \r\n        public static final String LANGUAGE_GERMAN = &quot;German&quot;;\r\n        public static final String LANGUAGE_ENGLISH = &quot;English&quot;;\r\n        //Set the default language to GERMAN\r\n        public static String currentLanguageOfTheApp = LANGUAGE_GERMAN;\r\n        \r\n        public static boolean veryFirstCreation = true;\r\n        public static boolean veryFirstChoice = true;\r\n    \r\n        public FR_Language_Selection() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n    \r\n        public static FR_Language_Selection newInstance(String param1, String param2) {\r\n            FR_Language_Selection fragment = new FR_Language_Selection();\r\n            return fragment;\r\n        }\r\n    \r\n        @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN_MR1)\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            /*\r\n               Set the language to &quot;German&quot; for the XML-layout files during the very first creation of this fragment\r\n            */\r\n    \r\n            if (veryFirstCreation) {\r\n    \r\n                veryFirstCreation = false;\r\n                Locale locale;\r\n                locale = new Locale(&quot;de&quot;, &quot;DE&quot;);\r\n    \r\n                Configuration config = new Configuration(getActivity().getBaseContext().getResources().getConfiguration());\r\n                Locale.setDefault(locale);\r\n                config.setLocale(locale);\r\n                getActivity().recreate();\r\n    \r\n                getActivity().getBaseContext().getResources().updateConfiguration(config,\r\n                        getActivity().getBaseContext().getResources().getDisplayMetrics());\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n        private FragmentLanguageSelectionBinding binding;\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            // Inflate the layout for this fragment\r\n            binding = FragmentLanguageSelectionBinding.inflate(inflater, container, false);\r\n            return binding.getRoot();\r\n        }\r\n    \r\n        @Override\r\n        public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n            super.onViewCreated(view, savedInstanceState);\r\n            binding.imageButtonGerman.setOnClickListener(this);\r\n            binding.imageButtonEnglish.setOnClickListener(this);\r\n            if(currentLanguageOfTheApp.equals(LANGUAGE_ENGLISH)) {\r\n                binding.textViewCurrentLanguageValue.setText(LANGUAGE_ENGLISH);\r\n                binding.imageButtonGerman.setAlpha(0.5f);\r\n                binding.imageButtonEnglish.setAlpha(1.0f);\r\n            }\r\n            if(currentLanguageOfTheApp.equals(LANGUAGE_GERMAN)) {\r\n                binding.textViewCurrentLanguageValue.setText(LANGUAGE_GERMAN);\r\n                binding.imageButtonGerman.setAlpha(1.0f);\r\n                binding.imageButtonEnglish.setAlpha(0.5f);\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n        public void onDestroyView() {\r\n            super.onDestroyView();\r\n            binding = null;\r\n        }\r\n    \r\n        @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN_MR1)\r\n        @Override\r\n        public void onClick(View view) {\r\n    \r\n            if(view.getId() == R.id.imageButton_German) {\r\n    \r\n                 /*\r\n                Set the language to &quot;German&quot; for other fragments and database queries \r\n                 */\r\n    \r\n                this.currentLanguageOfTheApp = LANGUAGE_GERMAN;\r\n\r\n\r\n                /*\r\n                Set the language to &quot;German&quot; for the XML-layout files (IMPORTANT PART)\r\n                 */\r\n    \r\n                Locale locale;\r\n                locale = new Locale(&quot;de&quot;, &quot;DE&quot;);\r\n    \r\n                Configuration config = new Configuration(getActivity().getBaseContext().getResources().getConfiguration());\r\n                Locale.setDefault(locale);\r\n                config.setLocale(locale);\r\n                getActivity().recreate();\r\n    \r\n                getActivity().getBaseContext().getResources().updateConfiguration(config,\r\n                        getActivity().getBaseContext().getResources().getDisplayMetrics());\r\n    \r\n    \r\n            }\r\n    \r\n            if(view.getId() == R.id.imageButton_English) {\r\n    \r\n                /*\r\n                Set the language to &quot;English&quot; for other fragments and database queries\r\n                 */\r\n    \r\n                this.currentLanguageOfTheApp = LANGUAGE_ENGLISH;\r\n    \r\n    \r\n                /*\r\n                Set the language to &quot;English&quot; for the XML-layout files (IMPORTANT PART)\r\n                 */\r\n    \r\n                Locale locale;\r\n                locale = new Locale(&quot;en&quot;, &quot;EN&quot;);\r\n    \r\n                Configuration config = new Configuration(getActivity().getBaseContext().getResources().getConfiguration());\r\n                Locale.setDefault(locale);\r\n                config.setLocale(locale);\r\n                getActivity().recreate();\r\n    \r\n                getActivity().getBaseContext().getResources().updateConfiguration(config,\r\n                        getActivity().getBaseContext().getResources().getDisplayMetrics());\r\n    \r\n            }\r\n    \r\n    \r\n        }\r\n    \r\n    }\r\nI have highlighted the &quot;IMPORTANT PART&quot; in the code that should actually change the language of the string ressources in the XML layout files of the App (which it does in my other App but not in this one). Any idea, why the language is not changing=\r\n\r\n  [1]: https://i.stack.imgur.com/gbf1G.png","title":"Language of the string ressources not changing in Android","body":"<p>I have an Android Fragment (I use the singe activity mutiple fragments approach) for selecting the language of the whole app (either German or English) based on the click on an image button. I have an xml file in the value folder for the strings in English and in German (see Screenshot of the folder structure).</p>\n<p><a href=\"https://i.stack.imgur.com/gbf1G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gbf1G.png\" alt=\"enter image description here\" /></a></p>\n<p>Now I use a code from another app that changes the language properly. However, in my current App it just does not work. The language of the String ressources are always displayed in English altough when I choose German as the language via this Fragment.</p>\n<p>Here is the Java file of the Fragment for Language Selection:</p>\n<pre><code>/*\n Fragment for selecting the language of the app via ImageButtons\n */\n\npublic class FR_Language_Selection extends Fragment implements View.OnClickListener {\n\n    /*\n    String specifying the language of the App\n     */\n\n    public static final String LANGUAGE_GERMAN = &quot;German&quot;;\n    public static final String LANGUAGE_ENGLISH = &quot;English&quot;;\n    //Set the default language to GERMAN\n    public static String currentLanguageOfTheApp = LANGUAGE_GERMAN;\n    \n    public static boolean veryFirstCreation = true;\n    public static boolean veryFirstChoice = true;\n\n    public FR_Language_Selection() {\n        // Required empty public constructor\n    }\n\n\n    public static FR_Language_Selection newInstance(String param1, String param2) {\n        FR_Language_Selection fragment = new FR_Language_Selection();\n        return fragment;\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN_MR1)\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        /*\n           Set the language to &quot;German&quot; for the XML-layout files during the very first creation of this fragment\n        */\n\n        if (veryFirstCreation) {\n\n            veryFirstCreation = false;\n            Locale locale;\n            locale = new Locale(&quot;de&quot;, &quot;DE&quot;);\n\n            Configuration config = new Configuration(getActivity().getBaseContext().getResources().getConfiguration());\n            Locale.setDefault(locale);\n            config.setLocale(locale);\n            getActivity().recreate();\n\n            getActivity().getBaseContext().getResources().updateConfiguration(config,\n                    getActivity().getBaseContext().getResources().getDisplayMetrics());\n\n        }\n\n    }\n\n\n    private FragmentLanguageSelectionBinding binding;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        binding = FragmentLanguageSelectionBinding.inflate(inflater, container, false);\n        return binding.getRoot();\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        binding.imageButtonGerman.setOnClickListener(this);\n        binding.imageButtonEnglish.setOnClickListener(this);\n        if(currentLanguageOfTheApp.equals(LANGUAGE_ENGLISH)) {\n            binding.textViewCurrentLanguageValue.setText(LANGUAGE_ENGLISH);\n            binding.imageButtonGerman.setAlpha(0.5f);\n            binding.imageButtonEnglish.setAlpha(1.0f);\n        }\n        if(currentLanguageOfTheApp.equals(LANGUAGE_GERMAN)) {\n            binding.textViewCurrentLanguageValue.setText(LANGUAGE_GERMAN);\n            binding.imageButtonGerman.setAlpha(1.0f);\n            binding.imageButtonEnglish.setAlpha(0.5f);\n        }\n\n    }\n\n\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN_MR1)\n    @Override\n    public void onClick(View view) {\n\n        if(view.getId() == R.id.imageButton_German) {\n\n             /*\n            Set the language to &quot;German&quot; for other fragments and database queries \n             */\n\n            this.currentLanguageOfTheApp = LANGUAGE_GERMAN;\n\n\n            /*\n            Set the language to &quot;German&quot; for the XML-layout files (IMPORTANT PART)\n             */\n\n            Locale locale;\n            locale = new Locale(&quot;de&quot;, &quot;DE&quot;);\n\n            Configuration config = new Configuration(getActivity().getBaseContext().getResources().getConfiguration());\n            Locale.setDefault(locale);\n            config.setLocale(locale);\n            getActivity().recreate();\n\n            getActivity().getBaseContext().getResources().updateConfiguration(config,\n                    getActivity().getBaseContext().getResources().getDisplayMetrics());\n\n\n        }\n\n        if(view.getId() == R.id.imageButton_English) {\n\n            /*\n            Set the language to &quot;English&quot; for other fragments and database queries\n             */\n\n            this.currentLanguageOfTheApp = LANGUAGE_ENGLISH;\n\n\n            /*\n            Set the language to &quot;English&quot; for the XML-layout files (IMPORTANT PART)\n             */\n\n            Locale locale;\n            locale = new Locale(&quot;en&quot;, &quot;EN&quot;);\n\n            Configuration config = new Configuration(getActivity().getBaseContext().getResources().getConfiguration());\n            Locale.setDefault(locale);\n            config.setLocale(locale);\n            getActivity().recreate();\n\n            getActivity().getBaseContext().getResources().updateConfiguration(config,\n                    getActivity().getBaseContext().getResources().getDisplayMetrics());\n\n        }\n\n\n    }\n\n}\n</code></pre>\n<p>I have highlighted the &quot;IMPORTANT PART&quot; in the code that should actually change the language of the string ressources in the XML layout files of the App (which it does in my other App but not in this one). Any idea, why the language is not changing=</p>\n"},{"tags":["java","file-upload","microsoft-graph-api","onedrive"],"comments":[{"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"score":0,"creation_date":1642090191,"post_id":70699431,"comment_id":124984534,"body_markdown":"Can you please share the stacktrace?","body":"Can you please share the stacktrace?"},{"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"score":0,"creation_date":1642090277,"post_id":70699431,"comment_id":124984576,"body_markdown":"And the headers of Postman request please","body":"And the headers of Postman request please"},{"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"score":0,"creation_date":1642090790,"post_id":70699431,"comment_id":124984803,"body_markdown":"See if this helps: https://stackoverflow.com/questions/11766878/sending-files-using-post-with-httpurlconnection","body":"See if this helps: <a href=\"https://stackoverflow.com/questions/11766878/sending-files-using-post-with-httpurlconnection\" title=\"sending files using post with httpurlconnection\">stackoverflow.com/questions/11766878/&hellip;</a>"},{"owner":{"account_id":5612481,"reputation":1,"user_id":4444806,"display_name":"Marine Gomes"},"score":0,"creation_date":1643633756,"post_id":70699431,"comment_id":125384175,"body_markdown":"It&#39;s doesn&#39;t help","body":"It&#39;s doesn&#39;t help"}],"owner":{"account_id":5612481,"reputation":1,"user_id":4444806,"display_name":"Marine Gomes"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642844840,"creation_date":1642089223,"question_id":70699431,"body_markdown":"I try to upload an excel in OneDrive in Java. But I hava an 400 Bad Request error. \r\n\r\nHere is my code:\r\n\r\n    File currDir = new File(&quot;.&quot;);\r\n    String path = currDir.getAbsolutePath();\r\n    String filename =&quot;V2_POS_INV_AMPLIFY_RS70703_&quot;+start+&quot;_&quot;+end + &quot;.xlsx&quot;;\r\n    String fileLocation = path + &quot;\\\\&quot;+filename;\r\n    String urlFile = &quot;https://graph.microsoft.com/v1.0/users/m.gomes@megahertz.ch/drive/items/&quot; + drive.getId() + &quot;:/&quot; + filename + &quot;:/content&quot;;\r\n    URL fileUrl = new URL(urlFile);\r\n    HttpURLConnection con = (HttpURLConnection) fileUrl.openConnection();\r\n    con.setRequestProperty(&quot;content-type&quot;, &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;);\r\n    con.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot;+ token.getAccess_token());\r\n    con.setRequestMethod(&quot;PUT&quot;);\r\n    con.setDoOutput(true);\r\n    con.setDoInput(true);\r\n    workbook.write(con.getOutputStream());\r\n    workbook.close();\r\n\r\nHere is the error that I have:\r\n400: Bad Request\r\n```\r\n{\r\n   &quot;error&quot;: {\r\n      &quot;code&quot;:&quot;invalidRequest&quot;,\r\n      &quot;message&quot;:&quot;Invalid request&quot;,\r\n      &quot;innerError&quot;: {\r\n         &quot;date&quot;:&quot;2022-01-13T15:28:26&quot;,\r\n         &quot;request-id&quot;:&quot;10a96485-9ab6-43b8-b3b1-d8de437c65e8&quot;,\r\n         &quot;client-request-id&quot;:&quot;10a96485-9ab6-43b8-b3b1-d8de437c65e8&quot;\r\n      }\r\n   }\r\n}\r\n```\r\n\r\nWhen I test the request on Postman, it&#39;s working perfectly.\r\n\r\n![test on postman][1]\r\n\r\n![postman Headers][2]\r\n\r\nIs there anybody that can help me ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vnHZZ.png\r\n  [2]: https://i.stack.imgur.com/apQ1Q.png","title":"Upload File on OneDrive in java (400 Bad Request)","body":"<p>I try to upload an excel in OneDrive in Java. But I hava an 400 Bad Request error.</p>\n<p>Here is my code:</p>\n<pre><code>File currDir = new File(&quot;.&quot;);\nString path = currDir.getAbsolutePath();\nString filename =&quot;V2_POS_INV_AMPLIFY_RS70703_&quot;+start+&quot;_&quot;+end + &quot;.xlsx&quot;;\nString fileLocation = path + &quot;\\\\&quot;+filename;\nString urlFile = &quot;https://graph.microsoft.com/v1.0/users/m.gomes@megahertz.ch/drive/items/&quot; + drive.getId() + &quot;:/&quot; + filename + &quot;:/content&quot;;\nURL fileUrl = new URL(urlFile);\nHttpURLConnection con = (HttpURLConnection) fileUrl.openConnection();\ncon.setRequestProperty(&quot;content-type&quot;, &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;);\ncon.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot;+ token.getAccess_token());\ncon.setRequestMethod(&quot;PUT&quot;);\ncon.setDoOutput(true);\ncon.setDoInput(true);\nworkbook.write(con.getOutputStream());\nworkbook.close();\n</code></pre>\n<p>Here is the error that I have:\n400: Bad Request</p>\n<pre><code>{\n   &quot;error&quot;: {\n      &quot;code&quot;:&quot;invalidRequest&quot;,\n      &quot;message&quot;:&quot;Invalid request&quot;,\n      &quot;innerError&quot;: {\n         &quot;date&quot;:&quot;2022-01-13T15:28:26&quot;,\n         &quot;request-id&quot;:&quot;10a96485-9ab6-43b8-b3b1-d8de437c65e8&quot;,\n         &quot;client-request-id&quot;:&quot;10a96485-9ab6-43b8-b3b1-d8de437c65e8&quot;\n      }\n   }\n}\n</code></pre>\n<p>When I test the request on Postman, it's working perfectly.</p>\n<p><img src=\"https://i.stack.imgur.com/vnHZZ.png\" alt=\"test on postman\" /></p>\n<p><img src=\"https://i.stack.imgur.com/apQ1Q.png\" alt=\"postman Headers\" /></p>\n<p>Is there anybody that can help me ?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","google-cloud-platform"],"answers":[{"tags":[],"owner":{"account_id":23714070,"reputation":143,"user_id":17743819,"display_name":"GodJihyo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642792193,"creation_date":1642792193,"answer_id":70806495,"question_id":70806355,"body_markdown":"To convert a String to a Float you can use Float.parseFloat() or Float.valueOf()\r\n\r\nexample: \r\n\r\n```\r\nString lat = &quot;34.12345&quot;;\r\nfloat latitude = Float.parseFloat(lat);\r\n\r\n","title":"How can I store and retrieve latitude and longitude values from Firebase?","body":"<p>To convert a String to a Float you can use Float.parseFloat() or Float.valueOf()</p>\n<p>example:</p>\n<pre><code>String lat = &quot;34.12345&quot;;\nfloat latitude = Float.parseFloat(lat);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642844497,"creation_date":1642844497,"answer_id":70811610,"question_id":70806355,"body_markdown":"&gt; How can I store and retrieve integer values from Firebase?\r\n\r\nTo store the latitude and longitude you need to store `double` values and **not** integers. To achieve that, please use the following lines of code:\r\n\r\n    HashMap&lt;String, Object&gt; location = new HashMap&lt;&gt;();\r\n    location.put(&quot;lat&quot;, 23.11885844); &#128072; double value\r\n    location.put(&quot;lng&quot;, 88.12435566); &#128072; double value\r\n\r\n\tDatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n\tDatabaseReference locationRef = db.child(&quot;location&quot;);\r\n    locationRef.setValue(location).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n            if (task.isSuccessful()) {\r\n                Log.d(&quot;TAG&quot;, &quot;Location written successfully.&quot;);\r\n            } else {\r\n                Log.d(&quot;TAG&quot;, task.getException().getMessage());\r\n            }\r\n        }\r\n    });\r\n\r\nAs you can see, I have also attached a listener to see when the location is successfully written in the database.\r\n\r\nTo read the data back, please use the following lines of code:\r\n\r\n    locationRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n\t\t@Override\r\n\t\tpublic void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n\t\t\tif (task.isSuccessful()) {\r\n                DataSnapshot snapshot = task.getResult();\r\n\t\t\t\tString lat = snapshot.child(&quot;lat&quot;).getValue(Double.class);\r\n\t\t\t\tString lng = snapshot.child(&quot;lng&quot;).getValue(Double.class);\r\n\t\t\t\tLog.d(&quot;TAG&quot;, lat + &quot;, &quot; + lng);\r\n\t\t\t} else {\r\n\t\t\t\tLog.d(&quot;TAG&quot;, task.getException().getMessage()); //Don&#39;t ignore potential errors!\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\nAnd the result in the logcat will be:\r\n\r\n    23.11885844, 88.12435566","title":"How can I store and retrieve latitude and longitude values from Firebase?","body":"<blockquote>\n<p>How can I store and retrieve integer values from Firebase?</p>\n</blockquote>\n<p>To store the latitude and longitude you need to store <code>double</code> values and <strong>not</strong> integers. To achieve that, please use the following lines of code:</p>\n<pre><code>HashMap&lt;String, Object&gt; location = new HashMap&lt;&gt;();\nlocation.put(&quot;lat&quot;, 23.11885844); 👈 double value\nlocation.put(&quot;lng&quot;, 88.12435566); 👈 double value\n\nDatabaseReference db = FirebaseDatabase.getInstance().getReference();\nDatabaseReference locationRef = db.child(&quot;location&quot;);\nlocationRef.setValue(location).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;Void&gt; task) {\n        if (task.isSuccessful()) {\n            Log.d(&quot;TAG&quot;, &quot;Location written successfully.&quot;);\n        } else {\n            Log.d(&quot;TAG&quot;, task.getException().getMessage());\n        }\n    }\n});\n</code></pre>\n<p>As you can see, I have also attached a listener to see when the location is successfully written in the database.</p>\n<p>To read the data back, please use the following lines of code:</p>\n<pre><code>locationRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            DataSnapshot snapshot = task.getResult();\n            String lat = snapshot.child(&quot;lat&quot;).getValue(Double.class);\n            String lng = snapshot.child(&quot;lng&quot;).getValue(Double.class);\n            Log.d(&quot;TAG&quot;, lat + &quot;, &quot; + lng);\n        } else {\n            Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Don't ignore potential errors!\n        }\n    }\n});\n</code></pre>\n<p>And the result in the logcat will be:</p>\n<pre><code>23.11885844, 88.12435566\n</code></pre>\n"}],"owner":{"account_id":14905662,"reputation":35,"user_id":10762991,"display_name":"kushal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642844595,"creation_date":1642791498,"question_id":70806355,"body_markdown":"My code needs Latitude, Longitude to be stored and retrieved.\r\n\r\nNow, this code does retrieve data but in form of string which I tried to convert to float by typecasting method but the app crashes.\r\n\r\n    HashMap&lt;String,Object&gt;  value= new HashMap&lt;&gt;();\r\n        value.put(&quot;Lat&quot;,23);\r\n        value.put(&quot;Lng&quot;,88);\r\n    DatabaseReference db;\r\n        db = FirebaseDatabase.getInstance().getReference().child(&quot;Location&quot;);\r\n    db.setValue(value);\r\n    \r\n     db.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                String var = snapshot.child(&quot;Lat&quot;).getValue(Object.class).toString();\r\n                String var2 = snapshot.child(&quot;Lng&quot;).getValue(Object.class).toString();\r\n                Toast.makeText(getApplicationContext(),var,  Toast.LENGTH_SHORT).show();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                \r\n            }\r\n        });\r\n    \r\n\r\n","title":"How can I store and retrieve latitude and longitude values from Firebase?","body":"<p>My code needs Latitude, Longitude to be stored and retrieved.</p>\n<p>Now, this code does retrieve data but in form of string which I tried to convert to float by typecasting method but the app crashes.</p>\n<pre><code>HashMap&lt;String,Object&gt;  value= new HashMap&lt;&gt;();\n    value.put(&quot;Lat&quot;,23);\n    value.put(&quot;Lng&quot;,88);\nDatabaseReference db;\n    db = FirebaseDatabase.getInstance().getReference().child(&quot;Location&quot;);\ndb.setValue(value);\n\n db.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            String var = snapshot.child(&quot;Lat&quot;).getValue(Object.class).toString();\n            String var2 = snapshot.child(&quot;Lng&quot;).getValue(Object.class).toString();\n            Toast.makeText(getApplicationContext(),var,  Toast.LENGTH_SHORT).show();\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n            \n        }\n    });\n</code></pre>\n"},{"tags":["java","groovy"],"answers":[{"tags":[],"owner":{"account_id":23208304,"reputation":55,"user_id":17302184,"display_name":"Developer and Thinker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642844409,"creation_date":1642844409,"answer_id":70811601,"question_id":70768412,"body_markdown":"Syntax was wrong Changed to below:-\r\n\r\n         public Marks getMarks(Map otherParams){\r\n          Marks marks= new Marks();\r\n          marks.user=otherParams.get(&quot;user&quot;);\r\n          marks.id=otherParamsget(&quot;id&quot;);\r\n         return marks;\r\n        }","title":"Issue while assigning values to groovy class getting GroovyCastException","body":"<p>Syntax was wrong Changed to below:-</p>\n<pre><code>     public Marks getMarks(Map otherParams){\n      Marks marks= new Marks();\n      marks.user=otherParams.get(&quot;user&quot;);\n      marks.id=otherParamsget(&quot;id&quot;);\n     return marks;\n    }\n</code></pre>\n"}],"owner":{"account_id":23208304,"reputation":55,"user_id":17302184,"display_name":"Developer and Thinker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1333,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70811601,"answer_count":1,"score":0,"last_activity_date":1642844409,"creation_date":1642585793,"question_id":70768412,"body_markdown":"Error\r\n```\r\norg.codehaus.groovy.runtime.typehandling.GroovyCastException: Cannot cast object &#39;maitadmin&#39; with class &#39;java.lang.String&#39; to class &#39;com.student.marks&#39;\r\n```\r\nBelow is the code\r\n\r\n```groovy\r\n       public Marks getMarks(Map otherParams){\r\n        Marks marks= new Marks();\r\n        marks.user=otherParams.user;\r\n        marks.id=otherParams.id;\r\n        return marks;\r\n        }\r\n```\r\nCaller method\r\n```\r\nMarks marks= getMarks(otherParams);\r\n```\r\n\r\n\r\n\r\n\r\n     ","title":"Issue while assigning values to groovy class getting GroovyCastException","body":"<p>Error</p>\n<pre><code>org.codehaus.groovy.runtime.typehandling.GroovyCastException: Cannot cast object 'maitadmin' with class 'java.lang.String' to class 'com.student.marks'\n</code></pre>\n<p>Below is the code</p>\n<pre><code>       public Marks getMarks(Map otherParams){\n        Marks marks= new Marks();\n        marks.user=otherParams.user;\n        marks.id=otherParams.id;\n        return marks;\n        }\n</code></pre>\n<p>Caller method</p>\n<pre><code>Marks marks= getMarks(otherParams);\n</code></pre>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1642790858,"post_id":70804543,"comment_id":125174441,"body_markdown":"You want to just read the `context` object in the deserializer , (no need for the `contextSetting` map you are using) ?","body":"You want to just read the <code>context</code> object in the deserializer , (no need for the <code>contextSetting</code> map you are using) ?"},{"owner":{"account_id":18981467,"reputation":77,"user_id":13852772,"display_name":"Peyang"},"score":0,"creation_date":1642821865,"post_id":70804543,"comment_id":125180988,"body_markdown":"Thanks for your comment. Yes, but I was thinking of using it because I need to give MyContext from outside when instantiating MyClass.","body":"Thanks for your comment. Yes, but I was thinking of using it because I need to give MyContext from outside when instantiating MyClass."}],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642844377,"creation_date":1642844377,"answer_id":70811593,"question_id":70804543,"body_markdown":"The problem stands in the fact that you are trying to register your `context` object in your `mapper`&#39;s config in the wrong way: you can use the [`DeserializationConfig`](https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/DeserializationConfig.html) *withAttribute* method that returns a new configuration including your `context` object  and then set your mapper with the new configuration:\r\n\r\n~~~\r\nMyContext myContext = new MyContext();\r\nmyContext.setFoo(&quot;foo&quot;);\r\nmyContext.setBar(0);\r\n\r\nObjectMapper mapper = new ObjectMapper();\r\nmapper.setConfig(mapper.getDeserializationConfig()\r\n      .withAttribute(&quot;context&quot;, myContext));\r\n~~~\r\n\r\nAfter that the `context` object is available in the your `JsonDeserializer` class like you wrote:\r\n\r\n~~~\r\nMyContext myContext = (MyContext) deserializationContext.getConfig()\r\n                                 .getAttributes()\r\n                                 .getAttribute(&quot;context&quot;);\r\n~~~","title":"How to add a constant* during JSON deserialization using Jackson","body":"<p>The problem stands in the fact that you are trying to register your <code>context</code> object in your <code>mapper</code>'s config in the wrong way: you can use the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/DeserializationConfig.html\" rel=\"nofollow noreferrer\"><code>DeserializationConfig</code></a> <em>withAttribute</em> method that returns a new configuration including your <code>context</code> object  and then set your mapper with the new configuration:</p>\n<pre><code>MyContext myContext = new MyContext();\nmyContext.setFoo(&quot;foo&quot;);\nmyContext.setBar(0);\n\nObjectMapper mapper = new ObjectMapper();\nmapper.setConfig(mapper.getDeserializationConfig()\n      .withAttribute(&quot;context&quot;, myContext));\n</code></pre>\n<p>After that the <code>context</code> object is available in the your <code>JsonDeserializer</code> class like you wrote:</p>\n<pre><code>MyContext myContext = (MyContext) deserializationContext.getConfig()\n                                 .getAttributes()\n                                 .getAttribute(&quot;context&quot;);\n</code></pre>\n"}],"owner":{"account_id":18981467,"reputation":77,"user_id":13852772,"display_name":"Peyang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":586,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70811593,"answer_count":1,"score":0,"last_activity_date":1642844377,"creation_date":1642782671,"question_id":70804543,"body_markdown":"I&#39;m using Jackson and JsonDeserializer&lt;T&gt;. \r\nWhen I deserialize to MyClass, you need to set the MyContext class. \r\nI used to use static final constants, but I cannot use that for my reason (I need to use instance constants).\r\nI am doing deserialization using ObjectMapper.\r\n\r\nHere is the code I tried.\r\n```java\r\n@JsonDeserialize(using=MyClassDeserializer.class)\r\nclass MyClass {\r\n    @JsonIgnore\r\n    private final MyContext context;\r\n    \r\n    public final int foo;\r\n    public final String bar;\r\n}\r\n\r\nclass MyClassDeserializer extends JsonDeserializer&lt;MyClass&gt; {\r\n    \r\n    @Override\r\n    public PacketContainer deserialize(JsonParser parser, DeserializationContext context)\r\n            throws IOException {\r\n            MyContext myContext = (MyContext) deserializationContext.getConfig().getAttributes().getAttribute(&quot;context&quot;);\r\n            // It seems no attributes has registered.\r\n\r\n            doSome(myContext.foo); // NullPointerException occurs\r\n            // ...\r\n    }\r\n}\r\n\r\nclass MyContext {\r\n    private String foo;\r\n    private int bar;\r\n\r\n    // getter(); setter();\r\n}\r\n\r\n// main()\r\nObjectMapper mapper = new ObjectMapper();\r\nContext context = new Context();\r\ncontext.setFoo(&quot;foo&quot;);\r\ncontext.setBar(0);\r\n\r\nHashMap&lt;String, Context&gt; contextSetting = new HashMap&lt;&gt;();\r\ncontextSetting.put(&quot;context&quot;, context);\r\n\r\n\r\nmapper.getDeserializationConfig().getAttributes().withSharedAttributes(contextSetting);\r\nmapper.getDeserializationContext().setAttribute(&quot;context&quot;, context);\r\n```\r\n\r\nHow can I dynamically set constants during deserialization?\r\n\r\nI am using a translator.\r\nThank you.","title":"How to add a constant* during JSON deserialization using Jackson","body":"<p>I'm using Jackson and JsonDeserializer.\nWhen I deserialize to MyClass, you need to set the MyContext class.\nI used to use static final constants, but I cannot use that for my reason (I need to use instance constants).\nI am doing deserialization using ObjectMapper.</p>\n<p>Here is the code I tried.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonDeserialize(using=MyClassDeserializer.class)\nclass MyClass {\n    @JsonIgnore\n    private final MyContext context;\n    \n    public final int foo;\n    public final String bar;\n}\n\nclass MyClassDeserializer extends JsonDeserializer&lt;MyClass&gt; {\n    \n    @Override\n    public PacketContainer deserialize(JsonParser parser, DeserializationContext context)\n            throws IOException {\n            MyContext myContext = (MyContext) deserializationContext.getConfig().getAttributes().getAttribute(&quot;context&quot;);\n            // It seems no attributes has registered.\n\n            doSome(myContext.foo); // NullPointerException occurs\n            // ...\n    }\n}\n\nclass MyContext {\n    private String foo;\n    private int bar;\n\n    // getter(); setter();\n}\n\n// main()\nObjectMapper mapper = new ObjectMapper();\nContext context = new Context();\ncontext.setFoo(&quot;foo&quot;);\ncontext.setBar(0);\n\nHashMap&lt;String, Context&gt; contextSetting = new HashMap&lt;&gt;();\ncontextSetting.put(&quot;context&quot;, context);\n\n\nmapper.getDeserializationConfig().getAttributes().withSharedAttributes(contextSetting);\nmapper.getDeserializationContext().setAttribute(&quot;context&quot;, context);\n</code></pre>\n<p>How can I dynamically set constants during deserialization?</p>\n<p>I am using a translator.\nThank you.</p>\n"},{"tags":["java","list","crash"],"comments":[{"owner":{"account_id":13175697,"reputation":21,"user_id":9516712,"display_name":"Shivam Prajapati"},"score":0,"creation_date":1642857706,"post_id":70810969,"comment_id":125186795,"body_markdown":"Yes i want to Store data of List&lt;String&gt; to file.... but only if my program crashes or run out of memory.","body":"Yes i want to Store data of List&lt;String&gt; to file.... but only if my program crashes or run out of memory."},{"owner":{"account_id":13175697,"reputation":21,"user_id":9516712,"display_name":"Shivam Prajapati"},"score":0,"creation_date":1642857828,"post_id":70810969,"comment_id":125186825,"body_markdown":"as you can see i am writing generated Strings to file through ``Filewriter``","body":"as you can see i am writing generated Strings to file through <code>Filewriter</code>"}],"owner":{"account_id":13175697,"reputation":21,"user_id":9516712,"display_name":"Shivam Prajapati"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642843751,"creation_date":1642837837,"question_id":70810969,"body_markdown":"I am running a 4*4 maze all possible solution finding programme. \r\nI have set up a method that takes a random combination Value of&quot;R, G, B, Y&quot; as aStrin and checks if the given String is a valid solution or not. for instance, the given String is &quot;RGGGBYYBBGYBGRR&quot;.\r\n\r\n    new Thread(() -&gt; {\r\n           //List&lt;String&gt; temp1 = new ArrayList&lt;&gt;();\r\n           String[] letters = {&quot;R&quot;,&quot;G&quot;,&quot;B&quot;,&quot;Y&quot;};\r\n           int done = 0;\r\n           Cell start = MazeBuilder.mazeFor(REPO_NAME);\r\n           while (done != 1) {\r\n               String str = &quot;&quot;;\r\n               int r = ThreadLocalRandom.current().nextInt(10, 48);\r\n               //done = check(temp1, letters, done, start, str, r);\r\n               for (int j = 0; j &lt; r; j++) {\r\n                   Random rnd = new Random();\r\n                   int index = rnd.nextInt(letters.length);\r\n                   str += letters[index];\r\n               }\r\n\r\n                   if (Helper.isValidSolution(start, str)) {\r\n                      done = 1;\r\n                       try {\r\n                           FileWriter FW = new FileWriter(&quot;ansGrid.txt&quot;);\r\n                           FW.write(str);\r\n                           FW.close();\r\n                       } catch (IOException e) {\r\n                           e.printStackTrace();\r\n                       }\r\n                    }\r\n\r\n           }\r\n       }).start();\r\n\r\nso my question is... if the programme crashes or it runs out of memory, how can I store the values of the temp1 variable in a file?","title":"how to store ArrayList Values if programe crashes?","body":"<p>I am running a 4*4 maze all possible solution finding programme.\nI have set up a method that takes a random combination Value of&quot;R, G, B, Y&quot; as aStrin and checks if the given String is a valid solution or not. for instance, the given String is &quot;RGGGBYYBBGYBGRR&quot;.</p>\n<pre><code>new Thread(() -&gt; {\n       //List&lt;String&gt; temp1 = new ArrayList&lt;&gt;();\n       String[] letters = {&quot;R&quot;,&quot;G&quot;,&quot;B&quot;,&quot;Y&quot;};\n       int done = 0;\n       Cell start = MazeBuilder.mazeFor(REPO_NAME);\n       while (done != 1) {\n           String str = &quot;&quot;;\n           int r = ThreadLocalRandom.current().nextInt(10, 48);\n           //done = check(temp1, letters, done, start, str, r);\n           for (int j = 0; j &lt; r; j++) {\n               Random rnd = new Random();\n               int index = rnd.nextInt(letters.length);\n               str += letters[index];\n           }\n\n               if (Helper.isValidSolution(start, str)) {\n                  done = 1;\n                   try {\n                       FileWriter FW = new FileWriter(&quot;ansGrid.txt&quot;);\n                       FW.write(str);\n                       FW.close();\n                   } catch (IOException e) {\n                       e.printStackTrace();\n                   }\n                }\n\n       }\n   }).start();\n</code></pre>\n<p>so my question is... if the programme crashes or it runs out of memory, how can I store the values of the temp1 variable in a file?</p>\n"},{"tags":["java","user-interface","project"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1642844995,"post_id":70724108,"comment_id":125184127,"body_markdown":"If you want clarification regarding the assignment, I think you need to ask the person who gave you the assignment. I&#39;m guessing that you need to store the transaction details in a [CSV file](https://en.wikipedia.org/wiki/Comma-separated_values) where each line of the file contains details of a single transaction. Again guessing from the assignment, transaction details would include date, type (i.e. deposit or withdrawal), amount and account balance after the transaction.","body":"If you want clarification regarding the assignment, I think you need to ask the person who gave you the assignment. I&#39;m guessing that you need to store the transaction details in a <a href=\"https://en.wikipedia.org/wiki/Comma-separated_values\" rel=\"nofollow noreferrer\">CSV file</a> where each line of the file contains details of a single transaction. Again guessing from the assignment, transaction details would include date, type (i.e. deposit or withdrawal), amount and account balance after the transaction."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1642857094,"post_id":70724108,"comment_id":125186665,"body_markdown":"This is an interesting assignment.  The [model–view–controller](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) (MVC) pattern will help you complete the assignment in a more structured manner.  First, you need to create an application model using plain Java getter/setter classes.  You need Account and Transaction classes, at a minimum.  You need to decide how you want to read and write the account and transaction information to a file or database.  You need to figure all this out before you write one line of Java Swing code.","body":"This is an interesting assignment.  The <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">model–view–controller</a> (MVC) pattern will help you complete the assignment in a more structured manner.  First, you need to create an application model using plain Java getter/setter classes.  You need Account and Transaction classes, at a minimum.  You need to decide how you want to read and write the account and transaction information to a file or database.  You need to figure all this out before you write one line of Java Swing code."}],"owner":{"account_id":21776855,"reputation":11,"user_id":16079127,"display_name":"User1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1642843680,"creation_date":1642270381,"question_id":70724108,"body_markdown":"This application should mimic the basic functions of an ATM machine. You should create a typical ATM user interface as well as create files from which you can read your saved transactions or write to it your new daily transactions. Your GUI should look like a real ATM machine and be able to perform the following functions:\r\n1. Log the user using (password protected text field).\r\n2. Allow the user to make withdrawals (don&#39;t allow them to overdraw).\r\n3. Allow the user to make deposits.\r\n4. Write transactions to file i.e. either deposit or withdrawal.\r\n5. Read from file and print the transactions for a given account between two given dates.\r\n6. Allow the user to view his available account balances i.e. for two different currencies.\r\n7. Print a receipt for either a deposit or a withdrawal.\r\n8. Read from file and print all clients that their balances are above 10000$.\r\n\r\n1st class:\r\n```\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\nimport java.awt.event.*;\r\n\r\npublic class Login extends JFrame {\r\n\r\n\tString pin = &quot;1234&quot;;\r\n\tint attempts = 3;\r\n\tpublic Login(){\r\n\t\t//Basic Constructor Setup\r\n\t\tsuper(&quot;Login Screen&quot;);\r\n\t\tsetLayout(new BorderLayout());\r\n\t\tsetResizable(false);\r\n\t\tsetLocationRelativeTo(null);\r\n\t\tbuildApp();\r\n\t\tpack();\r\n\t\tsetSize(250, 110);\r\n\t\tsetVisible(true);\r\n\t\tthis.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\t\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args){\r\n\t\tnew Login();\t\t\r\n\t}\r\n\t\r\n\tvoid buildApp(){\r\n\t\t//===================================================\r\n\t\t//GUI Setup\r\n\t\t//===================================================\t\t\r\n\t\tJLabel pinInstruction = new JLabel(&quot;Please enter your pin number&quot;);\r\n\t\tJPasswordField pinText = new JPasswordField(4);\r\n\t\tJButton entPin = new JButton(&quot;Enter&quot;);\r\n\t\tJButton quit = new JButton(&quot;Quit&quot;);\r\n\t\tJPanel buttonPanel = new JPanel();\r\n\t\tbuttonPanel.setLayout(new FlowLayout(FlowLayout.CENTER));\r\n\t\tbuttonPanel.add(quit);\r\n\t\tbuttonPanel.add(entPin);\r\n\t\tpinText.setBackground(Color.white);\r\n\t\tadd(pinInstruction, BorderLayout.NORTH);\r\n\t\tadd(pinText, BorderLayout.CENTER);\r\n\t\tadd(buttonPanel, BorderLayout.SOUTH);\r\n\t\t\r\n\t\t//===================================================\r\n\t\t//Action Listener Setup\r\n\t\t//===================================================\r\n\t\tquit.addActionListener(new ActionListener(){\r\n\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n\t\t\t\tSystem.exit(0);\r\n\t\t\t}\t\r\n\t\t});\r\n\t\t\r\n\t\tpinText.addActionListener(new ActionListener(){\r\n\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n\t\t\t\tchar[] pinGuess = pinText.getPassword();\r\n\t\t\t\tString pinString = new String(pinGuess);\r\n\t\t\t\tif(pinString.equals(pin)){\r\n\t\t\t\t\tJOptionPane.showMessageDialog(null, &quot;That pin is correct! Opening Account...&quot;);\r\n\t\t\t\t\tdispose();\r\n\t\t\t\t\tnew ATM();\r\n\t\t\t\t} else{\r\n\t\t\t\t\tif(attempts != 1){\r\n\t\t\t\t\t\tattempts--;\r\n\t\t\t\t\t\tJOptionPane.showMessageDialog(null, &quot;That pin is incorrect! \\n&quot; + attempts \r\n\t\t\t\t\t\t+ &quot; attempts remaining!&quot;);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tJOptionPane.showMessageDialog(null, &quot;No Attempts remaining! \\n Closing Program&quot;);\r\n\t\t\t\t\t\tSystem.exit(0);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t});\r\n\t\tentPin.addActionListener(new ActionListener(){\r\n\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n\t\t\t\tchar[] pinGuess = pinText.getPassword();\r\n\t\t\t\tString pinString = new String(pinGuess);\r\n\t\t\t\tif(pinString.equals(pin)){\r\n\t\t\t\t\tJOptionPane.showMessageDialog(null, &quot;That pin is correct! Opening Account...&quot;);\r\n\t\t\t\t\tdispose();\r\n\t\t\t\t\tnew ATM();\r\n\t\t\t\t} else{\r\n\t\t\t\t\tif(attempts != 1){\r\n\t\t\t\t\t\tattempts--;\r\n\t\t\t\t\t\tJOptionPane.showMessageDialog(null, &quot;That pin is incorrect! \\n&quot; + attempts \r\n\t\t\t\t\t\t+ &quot; attempts remaining!&quot;);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tJOptionPane.showMessageDialog(null, &quot;No Attempts remaining! \\n Closing Program&quot;);\r\n\t\t\t\t\t\tSystem.exit(0);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t});\r\n\t}\r\n}\r\n```\r\n\r\n2nd class: \r\n```\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\nimport java.awt.event.*;\r\n\r\npublic class ATM extends JFrame {\r\n\t//Variables for balance, the input from the user for deposits,\r\n\t//and for checking that they have clicked Deposit before clicking Enter\r\n\tint balance = 10;\r\n\tString[] inputSequence = new String[4];\r\n\tString[] transactionHist = new String[100];\r\n\tint inputSequenceIndex = 0;\r\n\tint transactionIndex = 0;\r\n\tboolean readyToEnter = false;\r\n\t//Basic Constructor Setup - Setting the input array as empty\r\n\t//Other basic setup options - Setting size, locaion etc, building app\r\n\tpublic ATM(){\r\n\t\tsuper(&quot;ATM&quot;);\r\n\t\tfor(int i =0; i &lt;= 3; i++){\r\n\t\t\tinputSequence[i] = &quot;&quot;;\r\n\t\t}\r\n\t\tsetResizable(false);\r\n\t\tsetLocationRelativeTo(null);\r\n\t\tbuildApp();\r\n\t\tpack();\r\n\t\tsetSize(600, 350);\r\n\t\tsetVisible(true);\r\n\t\tthis.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n\t}\r\n\t\r\n\tprotected void buildApp(){\r\n\t\t//==================================\r\n\t\t//GUI Setup (VIEW)\r\n\t\t//==================================\r\n\t\t//Basic Panel layout setup\r\n\t\tJLabel displayArea = new JLabel(&quot;&lt;html&gt;Instruction Area: &lt;br&gt; Please select a function from the buttons below &lt;br&gt; Current Balance: \\u00A3&quot; + balance + &quot;&lt;/html&gt;&quot;);\r\n\t\tdisplayArea.setOpaque(true);\r\n\t\tdisplayArea.setBackground(Color.white);\r\n\t\tdisplayArea.setPreferredSize(new Dimension(100, 100));\r\n\t\tJPanel bottomArea = new JPanel();\r\n\t\tbottomArea.setLayout(new BorderLayout(0,0));\r\n\t\tJPanel buttonPanel = new JPanel();\r\n\t\tbuttonPanel.setLayout(new BorderLayout(0,0));\r\n\t\tJLabel inputDisplay = new JLabel(&quot;Input Area:&quot;);\r\n\t\tinputDisplay.setBorder(BorderFactory.createLineBorder(Color.black));\r\n\t\tbottomArea.add(inputDisplay, BorderLayout.NORTH);\r\n\t\t\r\n\t\t//Grid layout setup for buttons\r\n\t\tGridBagLayout buttonGrid = new GridBagLayout();\r\n\t\tbuttonPanel.setLayout(buttonGrid);\r\n\t\tGridBagConstraints bPConst = new GridBagConstraints();\r\n\t\r\n\t\t//Buttons SETUP\r\n\t\tbPConst.weightx= 0.1;\r\n\t\tbPConst.weighty= 0.1;\r\n\t\tJButton withDraw1 = new JButton(&quot;Withdraw \\u00A35&quot;);\r\n\t\tbPConst.gridx = 0;\r\n\t\tbPConst.gridy = 0;\t\r\n\t\tbPConst.insets = new Insets(0, 0, 5, 5);\r\n\t\twithDraw1.setSize(new Dimension(200, 30));\r\n\t\tbuttonPanel.add(withDraw1, bPConst);\r\n\t\tJButton withDraw2 = new JButton(&quot;Withdraw \\u00A310&quot;);\r\n\t\tbPConst.gridx = 0;\r\n\t\tbPConst.gridy = 1;\r\n\t\twithDraw2.setSize(new Dimension(200, 30));\r\n\t\tbuttonPanel.add(withDraw2, bPConst);\r\n\t\tJButton withDraw3 = new JButton(&quot;Withdraw \\u00A320&quot;);\r\n\t\tbPConst.gridx = 0;\r\n\t\tbPConst.gridy = 2;\r\n\t\twithDraw3.setSize(new Dimension(200, 30));\r\n\t\tbuttonPanel.add(withDraw3, bPConst);\r\n\t\tJButton deposit = new JButton(&quot;Deposit&quot;);\r\n\t\tbPConst.gridx = 0;\r\n\t\tbPConst.gridy = 3;\r\n\t\tdeposit.setSize(new Dimension(200, 30));\r\n\t\tbuttonPanel.add(deposit, bPConst);\r\n\t\tJButton quit = new JButton(&quot;Quit&quot;);\r\n\t\tbPConst.gridx = 0;\r\n\t\tbPConst.gridy = 4;\r\n\t\tbPConst.anchor = GridBagConstraints.PAGE_END;\r\n\t\tquit.setSize(new Dimension(200, 30));\r\n\t\tbuttonPanel.add(quit, bPConst);\r\n\t\tJButton number1 = new JButton(&quot;1&quot;);\r\n\t\tbPConst.gridx = 1;\r\n\t\tbPConst.gridy = 0;\r\n\t\tnumber1.setSize(new Dimension(200, 30));\r\n\t\tbuttonPanel.add(number1, bPConst);\r\n\t\tJButton number2 = new JButton(&quot;2&quot;);\r\n\t\tbPConst.gridx = 2;\r\n\t\tbPConst.gridy = 0;\r\n\t\tnumber2.setSize(new Dimension(200, 30));\r\n\t\tbuttonPanel.add(number2, bPConst);\r\n\t\tJButton number3 = new JButton(&quot;3&quot;);\r\n\t\tbPConst.gridx = 3;\r\n\t\tbPConst.gridy = 0;\r\n\t\tnumber3.setSize(new Dimension(200, 30));\r\n\t\tbuttonPanel.add(number3, bPConst);\r\n\t\tJButton number4 = new JButton(&quot;4&quot;);\r\n\t\tbPConst.gridx = 1;\r\n\t\tbPConst.gridy = 1;\r\n\t\tnumber4.setSize(new Dimension(200, 30));\r\n\t\tbuttonPanel.add(number4, bPConst);\r\n\t\tJButton number5 = new JButton(&quot;5&quot;);\r\n\t\tbPConst.gridx = 2;\r\n\t\tbPConst.gridy = 1;\r\n\t\tnumber5.setSize(new Dimension(200, 30));\r\n\t\tbuttonPanel.add(number5, bPConst);\r\n\t\tJButton number6 = new JButton(&quot;6&quot;);\r\n\t\tbPConst.gridx = 3;\r\n\t\tbPConst.gridy = 1;\r\n\t\tnumber6.setSize(new Dimension(200, 30));\r\n\t\tbuttonPanel.add(number6, bPConst);\r\n\t\tJButton number7 = new JButton(&quot;7&quot;);\r\n\t\tbPConst.gridx = 1;\r\n\t\tbPConst.gridy = 2;\r\n\t\tnumber7.setSize(new Dimension(200, 30));\r\n\t\tbuttonPanel.add(number7, bPConst);\r\n\t\tJButton number8 = new JButton(&quot;8&quot;);\r\n\t\tbPConst.gridx = 2;\r\n\t\tbPConst.gridy = 2;\r\n\t\tnumber8.setSize(new Dimension(200, 30));\r\n\t\tbuttonPanel.add(number8, bPConst);\r\n\t\tJButton number9 = new JButton(&quot;9&quot;);\r\n\t\tbPConst.gridx = 3;\r\n\t\tbPConst.gridy = 2;\r\n\t\tnumber9.setSize(new Dimension(200, 30));\r\n\t\tbuttonPanel.add(number9, bPConst);\r\n\t\tJButton number0 = new JButton(&quot;0&quot;);\r\n\t\tbPConst.gridx = 1;\r\n\t\tbPConst.gridy = 3;\r\n\t\tnumber0.setSize(new Dimension(200, 30));\r\n\t\tbuttonPanel.add(number0, bPConst);\r\n\t\tJButton clear = new JButton(&quot;Clear&quot;);\r\n\t\tbPConst.gridx = 2;\r\n\t\tbPConst.gridy = 3;\r\n\t\tclear.setSize(new Dimension(200, 30));\r\n\t\tbuttonPanel.add(clear, bPConst);\r\n\t\tJButton enter = new JButton(&quot;Enter&quot;);\r\n\t\tbPConst.gridx = 3;\r\n\t\tbPConst.gridy = 3;\r\n\t\tenter.setSize(new Dimension(200, 30));\r\n\t\t//Adding everything to the layouts above\r\n\t\tbuttonPanel.add(enter, bPConst);\r\n\t\tbottomArea.add(buttonPanel, BorderLayout.CENTER);\r\n\t\tadd(displayArea,  BorderLayout.NORTH);\r\n\t\tadd(bottomArea, BorderLayout.CENTER);\r\n\t\t\r\n\t\t//==================================\r\n\t\t//Action Listener Setup (CONTROLLER)\r\n\t\t//==================================\r\n\t\t// 3 Withdraw buttons (Simply minus from balance if balance is not below amount):\r\n\t\twithDraw1.addActionListener(new ActionListener(){\r\n\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n\t\t\t\tif(balance &gt;= 5){\r\n\t\t\t\t\tbalance = balance - 5;\r\n\t\t\t\t\tdisplayArea.setText(&quot;&lt;html&gt;\\u00A35 Withrawn! &lt;br&gt;&lt;br&gt;&quot; + finishedTransaction() + &quot;&lt;/html&gt;&quot;);\r\n\t\t\t\t\treadyToEnter = false;\r\n\t\t\t\t\tSystem.out.println(&quot;User Has Withdrawn \\u00A35&quot;);\r\n\t\t\t\t\tupdateTransactionHist(&quot;User Has Withdrawn \\u00A35&quot;);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdisplayArea.setText(&quot;&lt;html&gt; Your Balance is below \\u00A35. Unable to Withdraw!! &lt;br&gt;&lt;br&gt;&quot; \r\n\t\t\t\t\t+ finishedTransaction() + &quot;&lt;/html&gt;&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t});\r\n\t\twithDraw2.addActionListener(new ActionListener(){\r\n\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n\t\t\t\tif(balance &gt;= 10){\r\n\t\t\t\t\tbalance = balance - 10;\r\n\t\t\t\t\tdisplayArea.setText(&quot;&lt;html&gt;\\u00A310 Withrawn! &lt;br&gt;&lt;br&gt;&quot; + finishedTransaction() + &quot;&lt;/html&gt;&quot;);\r\n\t\t\t\t\treadyToEnter = false;\r\n\t\t\t\t\tSystem.out.println(&quot;User Has Withdrawn \\u00A310&quot;);\r\n\t\t\t\t\tupdateTransactionHist(&quot;User Has Withdrawn \\u00A310&quot;);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdisplayArea.setText(&quot;&lt;html&gt; Your Balance is below \\u00A310. Unable to Withdraw!! &lt;br&gt;&lt;br&gt;&quot; \r\n\t\t\t\t\t+ finishedTransaction() + &quot;&lt;/html&gt;&quot;);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\t\r\n\t\t});\r\n\t\twithDraw3.addActionListener(new ActionListener(){\r\n\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n\t\t\t\tif(balance &gt;= 20){\r\n\t\t\t\t\tbalance = balance - 20;\r\n\t\t\t\t\tdisplayArea.setText(&quot;&lt;html&gt;\\u00A320 Withrawn! &lt;br&gt;&lt;br&gt;&quot; + finishedTransaction() + &quot;&lt;/html&gt;&quot;);\r\n\t\t\t\t\treadyToEnter = false;\r\n\t\t\t\t\tSystem.out.println(&quot;User Has Withdrawn \\u00A320&quot;);\r\n\t\t\t\t\tupdateTransactionHist(&quot;User Has Withdrawn \\u00A320&quot;);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdisplayArea.setText(&quot;&lt;html&gt; Your Balance is below \\u00A320. Unable to Withdraw!! &lt;br&gt;&lt;br&gt;&quot; \r\n\t\t\t\t\t+ finishedTransaction() + &quot;&lt;/html&gt;&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t});\r\n\t\t// Quit Button - Return to login\r\n\t\tquit.addActionListener(new ActionListener(){\r\n\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n\t\t\t\tJOptionPane.showMessageDialog(null, &quot;Your Receipt: \\n&quot; + printReceipt());\r\n\t\t\t\tJOptionPane.showMessageDialog(null, &quot;Logging Out! Returning to Login Screen!&quot;);\r\n\t\t\t\tdispose();\r\n\t\t\t\tnew Login();\r\n\t\t\t}\t\r\n\t\t});\r\n\t\t// Clear Button - Clear the input array (Method at bottom)\r\n\t\tclear.addActionListener(new ActionListener(){\r\n\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n\t\t\t\tinputDisplay.setText(&quot;Input Display: &quot;);\r\n\t\t\t\tdisplayArea.setText(&quot;&lt;html&gt;Input Area Cleared! &lt;br&gt;&lt;br&gt;&quot; \r\n\t\t\t\t+ finishedTransaction() +&quot;&lt;/html&gt;&quot;);\r\n\t\t\t\tclearInput();\r\n\t\t\t\treadyToEnter = false;\r\n\t\t\t}\t\r\n\t\t});\r\n\t\t// Number Buttons - Add a number to the input array\r\n\t\tnumber1.addActionListener(new ActionListener(){\r\n\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n\t\t\t\tinputDisplay.setText(&quot;Input Display: &quot; + updateInput(&quot;1&quot;));\r\n\t\t\t}\t\r\n\t\t});\r\n\t\tnumber2.addActionListener(new ActionListener(){\r\n\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n\t\t\t\tinputDisplay.setText(&quot;Input Display: &quot; + updateInput(&quot;2&quot;));\r\n\t\t\t}\t\r\n\t\t});\r\n\t\tnumber3.addActionListener(new ActionListener(){\r\n\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n\t\t\t\tinputDisplay.setText(&quot;Input Display: &quot; + updateInput(&quot;3&quot;));\r\n\t\t\t}\t\r\n\t\t});\r\n\t\tnumber4.addActionListener(new ActionListener(){\r\n\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n\t\t\t\tinputDisplay.setText(&quot;Input Display: &quot; + updateInput(&quot;4&quot;));\r\n\t\t\t}\t\r\n\t\t});\r\n\t\tnumber5.addActionListener(new ActionListener(){\r\n\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n\t\t\t\tinputDisplay.setText(&quot;Input Display: &quot; + updateInput(&quot;5&quot;));\r\n\t\t\t}\t\r\n\t\t});\r\n\t\tnumber6.addActionListener(new ActionListener(){\r\n\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n\t\t\t\tinputDisplay.setText(&quot;Input Display: &quot; + updateInput(&quot;6&quot;));\r\n\t\t\t}\t\r\n\t\t});\r\n\t\tnumber7.addActionListener(new ActionListener(){\r\n\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n\t\t\t\tinputDisplay.setText(&quot;Input Display: &quot; + updateInput(&quot;7&quot;));\r\n\t\t\t}\t\r\n\t\t});\r\n\t\tnumber8.addActionListener(new ActionListener(){\r\n\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n\t\t\t\tinputDisplay.setText(&quot;Input Display: &quot; + updateInput(&quot;8&quot;));\r\n\t\t\t}\t\r\n\t\t});\r\n\t\tnumber9.addActionListener(new ActionListener(){\r\n\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n\t\t\t\tinputDisplay.setText(&quot;Input Display: &quot; + updateInput(&quot;9&quot;));\r\n\t\t\t}\t\r\n\t\t});\r\n\t\tnumber0.addActionListener(new ActionListener(){\r\n\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n\t\t\t\tinputDisplay.setText(&quot;Input Display: &quot; + updateInput(&quot;0&quot;));\r\n\t\t\t}\t\r\n\t\t});\r\n\t\t// Deposit Button - Primes program for a deposit, allows user to click enter deposit\r\n\t\tdeposit.addActionListener(new ActionListener(){\r\n\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n\t\t\t\t\tdisplayArea.setText(&quot;&lt;html&gt; Deposit Selected! &lt;br&gt; Please input an amout below or equal to \\u00A31000 and click enter! &lt;br&gt;&lt;br&gt;&quot; \r\n\t\t\t\t\t+ finishedTransaction() + &quot;&lt;/html&gt;&quot; );\r\n\t\t\t\t\treadyToEnter = true;\r\n\t\t\t}\t\r\n\t\t});\r\n\t\t// Enter Button - adds input array val to balance\r\n\t\tenter.addActionListener(new ActionListener(){\r\n\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n\t\t\t\tif(readyToEnter == true){\r\n\t\t\t\t\tif(Integer.parseInt(getInputSequence()) &gt; 1000){\r\n\t\t\t\t\t\tdisplayArea.setText(&quot;That input is greater than \\u00A31000!&quot;);\r\n\t\t\t\t\t\tclearInput();\r\n\t\t\t\t\t\tinputDisplay.setText(&quot;Input Display: &quot;);\r\n\t\t\t\t\t\treadyToEnter = false;\r\n\t\t\t\t\t} else if(Integer.parseInt(getInputSequence()) == 0 || getInputSequence().equals(&quot;0000&quot;)){\r\n\t\t\t\t\t\tdisplayArea.setText(&quot;You have not entered a value!&quot;);\r\n\t\t\t\t\t\tclearInput();\r\n\t\t\t\t\t\tinputDisplay.setText(&quot;Input Display: &quot;);\r\n\t\t\t\t\t\treadyToEnter = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tupdateBalance(Integer.parseInt(getInputSequence()));\r\n\t\t\t\t\t\tdisplayArea.setText(&quot;&lt;html&gt; You have deposited \\u00A3&quot; + getInputSequence() \r\n\t\t\t\t\t\t+ &quot;! &lt;br&gt;&lt;br&gt;&quot; + finishedTransaction() + &quot;&lt;/html&gt;&quot;);\r\n\t\t\t\t\t\tSystem.out.println(&quot;User Has Deposited \\u00A3&quot; + getInputSequence());\r\n\t\t\t\t\t\tupdateTransactionHist(&quot;User Has Deposited \\u00A3&quot; + getInputSequence());\r\n\t\t\t\t\t}\r\n\t\t\t\t\tclearInput();\r\n\t\t\t\t\tinputDisplay.setText(&quot;Input Display: &quot;);\r\n\t\t\t\t\treadyToEnter = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdisplayArea.setText(&quot;&lt;html&gt; You have not yet chosen an action! &lt;br&gt;&lt;br&gt;&quot; + finishedTransaction() + &quot;&lt;/html&gt;&quot;);\r\n\t\t\t\t\tclearInput();\r\n\t\t\t\t\tinputDisplay.setText(&quot;Input Display: &quot;);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\t\r\n\t\t});\t\r\n\t} \r\n\t//==================================\r\n\t//Extra Methods for calculations(MODEL)\r\n\t//==================================\t\t\r\n\t//Clears the string and resets the Input area\r\n\tvoid clearInput(){\r\n\t\tfor(int i =0; i &lt;= 3; i++){\r\n\t\t\tinputSequence[i] = &quot;&quot;;\t\r\n\t\t}\r\n\t\tinputSequenceIndex = 0;\r\n\t}\r\n\t//Updates the Input area and the string with a new number when button clicked\r\n\tString updateInput(String n){\r\n\t\tif(inputSequenceIndex &lt;= 3){\r\n\t\t\tinputSequence[inputSequenceIndex] = n;\r\n\t\t\tinputSequenceIndex++;\r\n\t\t\r\n\t\t\tStringBuilder strBuilder = new StringBuilder();\r\n\t\t\tfor (int i = 0; i &lt; inputSequence.length; i++) {\r\n\t\t\t\tstrBuilder.append(inputSequence[i]);\r\n\t\t\t}\r\n\t\t\tString newString = strBuilder.toString();\r\n\t\t\treturn newString;\r\n\t\t} else{\r\n\t\t\tStringBuilder strBuilder = new StringBuilder();\r\n\t\t\tfor (int i = 0; i &lt;= 3; i++) {\r\n\t\t\t\tstrBuilder.append(inputSequence[i]);\r\n\t\t\t}\r\n\t\t\tString newString = strBuilder.toString();\r\n\t\t\treturn newString;\r\n\t\t}\r\n\t}\r\n\t\r\n\tString getInputSequence(){\r\n\t\tStringBuilder strBuilder = new StringBuilder();\r\n\t\tif(inputSequence[0] == &quot;&quot;){\r\n\t\t\treturn &quot;0000&quot;;\r\n\t\t} else {\r\n\t\t\tfor (int i = 0; i &lt; inputSequence.length; i++) {\r\n\t\t\t\tstrBuilder.append(inputSequence[i]);\r\n\t\t\t}\r\n\t\t\tString newString = strBuilder.toString();\r\n\t\t\treturn newString;\r\n\t\t}\r\n\t}\r\n\t//Resetting the label to its original state with new balance\r\n\tString finishedTransaction(){\r\n\t\treturn &quot;Instruction Area: &lt;br&gt; Please select a function from the buttons below &lt;br&gt; Current Balance: \\u00A3&quot; + balance;\r\n\t}\r\n\t//Updating balance upon deposit\r\n\tvoid updateBalance(int l){\r\n\t\tbalance += l;\r\n\t}\r\n\t//Updating the transaction history for the final receipt\r\n\tvoid updateTransactionHist(String t){\r\n\t\ttransactionHist[transactionIndex] = t;\r\n\t\ttransactionIndex++;\r\n\t}\r\n\t//Put the final receipt together and return it for printing\r\n\tString printReceipt(){\r\n\t\tif(inputSequence[0].equals(null)){\r\n\t\t\treturn &quot;No Transactions Made!&quot;;\r\n\t\t} else{\r\n\t\t\tStringBuilder strBuilder = new StringBuilder();\r\n\t\t\tfor (int i = 0; i &lt; transactionIndex; i++) {\r\n\t\t\t\tstrBuilder.append(transactionHist[i] + &quot;\\n&quot;);\r\n\t\t\t}\r\n\t\t\tString newString = strBuilder.toString();\r\n\t\t\treturn newString;\r\n\t   }\r\n\t}\r\n\t//Main Method\r\n\tpublic static void main (String[] args){\r\n\t\tnew Login();\t\r\n\t}\r\n\t\r\n}\r\n```\r\n[the question][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tQlJ3.png","title":"How can I allow the user to view his available account balances for two different currencies &amp; Write transactions to file either deposit or withdrawal","body":"<p>This application should mimic the basic functions of an ATM machine. You should create a typical ATM user interface as well as create files from which you can read your saved transactions or write to it your new daily transactions. Your GUI should look like a real ATM machine and be able to perform the following functions:</p>\n<ol>\n<li>Log the user using (password protected text field).</li>\n<li>Allow the user to make withdrawals (don't allow them to overdraw).</li>\n<li>Allow the user to make deposits.</li>\n<li>Write transactions to file i.e. either deposit or withdrawal.</li>\n<li>Read from file and print the transactions for a given account between two given dates.</li>\n<li>Allow the user to view his available account balances i.e. for two different currencies.</li>\n<li>Print a receipt for either a deposit or a withdrawal.</li>\n<li>Read from file and print all clients that their balances are above 10000$.</li>\n</ol>\n<p>1st class:</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport java.awt.event.*;\n\npublic class Login extends JFrame {\n\n    String pin = &quot;1234&quot;;\n    int attempts = 3;\n    public Login(){\n        //Basic Constructor Setup\n        super(&quot;Login Screen&quot;);\n        setLayout(new BorderLayout());\n        setResizable(false);\n        setLocationRelativeTo(null);\n        buildApp();\n        pack();\n        setSize(250, 110);\n        setVisible(true);\n        this.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);   \n    }\n    \n    public static void main(String[] args){\n        new Login();        \n    }\n    \n    void buildApp(){\n        //===================================================\n        //GUI Setup\n        //===================================================       \n        JLabel pinInstruction = new JLabel(&quot;Please enter your pin number&quot;);\n        JPasswordField pinText = new JPasswordField(4);\n        JButton entPin = new JButton(&quot;Enter&quot;);\n        JButton quit = new JButton(&quot;Quit&quot;);\n        JPanel buttonPanel = new JPanel();\n        buttonPanel.setLayout(new FlowLayout(FlowLayout.CENTER));\n        buttonPanel.add(quit);\n        buttonPanel.add(entPin);\n        pinText.setBackground(Color.white);\n        add(pinInstruction, BorderLayout.NORTH);\n        add(pinText, BorderLayout.CENTER);\n        add(buttonPanel, BorderLayout.SOUTH);\n        \n        //===================================================\n        //Action Listener Setup\n        //===================================================\n        quit.addActionListener(new ActionListener(){\n            public void actionPerformed(ActionEvent event) {\n                System.exit(0);\n            }   \n        });\n        \n        pinText.addActionListener(new ActionListener(){\n            public void actionPerformed(ActionEvent event) {\n                char[] pinGuess = pinText.getPassword();\n                String pinString = new String(pinGuess);\n                if(pinString.equals(pin)){\n                    JOptionPane.showMessageDialog(null, &quot;That pin is correct! Opening Account...&quot;);\n                    dispose();\n                    new ATM();\n                } else{\n                    if(attempts != 1){\n                        attempts--;\n                        JOptionPane.showMessageDialog(null, &quot;That pin is incorrect! \\n&quot; + attempts \n                        + &quot; attempts remaining!&quot;);\n                    } else {\n                        JOptionPane.showMessageDialog(null, &quot;No Attempts remaining! \\n Closing Program&quot;);\n                        System.exit(0);\n                    }\n                }\n            }   \n        });\n        entPin.addActionListener(new ActionListener(){\n            public void actionPerformed(ActionEvent event) {\n                char[] pinGuess = pinText.getPassword();\n                String pinString = new String(pinGuess);\n                if(pinString.equals(pin)){\n                    JOptionPane.showMessageDialog(null, &quot;That pin is correct! Opening Account...&quot;);\n                    dispose();\n                    new ATM();\n                } else{\n                    if(attempts != 1){\n                        attempts--;\n                        JOptionPane.showMessageDialog(null, &quot;That pin is incorrect! \\n&quot; + attempts \n                        + &quot; attempts remaining!&quot;);\n                    } else {\n                        JOptionPane.showMessageDialog(null, &quot;No Attempts remaining! \\n Closing Program&quot;);\n                        System.exit(0);\n                    }\n                }\n            }   \n        });\n    }\n}\n</code></pre>\n<p>2nd class:</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport java.awt.event.*;\n\npublic class ATM extends JFrame {\n    //Variables for balance, the input from the user for deposits,\n    //and for checking that they have clicked Deposit before clicking Enter\n    int balance = 10;\n    String[] inputSequence = new String[4];\n    String[] transactionHist = new String[100];\n    int inputSequenceIndex = 0;\n    int transactionIndex = 0;\n    boolean readyToEnter = false;\n    //Basic Constructor Setup - Setting the input array as empty\n    //Other basic setup options - Setting size, locaion etc, building app\n    public ATM(){\n        super(&quot;ATM&quot;);\n        for(int i =0; i &lt;= 3; i++){\n            inputSequence[i] = &quot;&quot;;\n        }\n        setResizable(false);\n        setLocationRelativeTo(null);\n        buildApp();\n        pack();\n        setSize(600, 350);\n        setVisible(true);\n        this.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n    }\n    \n    protected void buildApp(){\n        //==================================\n        //GUI Setup (VIEW)\n        //==================================\n        //Basic Panel layout setup\n        JLabel displayArea = new JLabel(&quot;&lt;html&gt;Instruction Area: &lt;br&gt; Please select a function from the buttons below &lt;br&gt; Current Balance: \\u00A3&quot; + balance + &quot;&lt;/html&gt;&quot;);\n        displayArea.setOpaque(true);\n        displayArea.setBackground(Color.white);\n        displayArea.setPreferredSize(new Dimension(100, 100));\n        JPanel bottomArea = new JPanel();\n        bottomArea.setLayout(new BorderLayout(0,0));\n        JPanel buttonPanel = new JPanel();\n        buttonPanel.setLayout(new BorderLayout(0,0));\n        JLabel inputDisplay = new JLabel(&quot;Input Area:&quot;);\n        inputDisplay.setBorder(BorderFactory.createLineBorder(Color.black));\n        bottomArea.add(inputDisplay, BorderLayout.NORTH);\n        \n        //Grid layout setup for buttons\n        GridBagLayout buttonGrid = new GridBagLayout();\n        buttonPanel.setLayout(buttonGrid);\n        GridBagConstraints bPConst = new GridBagConstraints();\n    \n        //Buttons SETUP\n        bPConst.weightx= 0.1;\n        bPConst.weighty= 0.1;\n        JButton withDraw1 = new JButton(&quot;Withdraw \\u00A35&quot;);\n        bPConst.gridx = 0;\n        bPConst.gridy = 0;  \n        bPConst.insets = new Insets(0, 0, 5, 5);\n        withDraw1.setSize(new Dimension(200, 30));\n        buttonPanel.add(withDraw1, bPConst);\n        JButton withDraw2 = new JButton(&quot;Withdraw \\u00A310&quot;);\n        bPConst.gridx = 0;\n        bPConst.gridy = 1;\n        withDraw2.setSize(new Dimension(200, 30));\n        buttonPanel.add(withDraw2, bPConst);\n        JButton withDraw3 = new JButton(&quot;Withdraw \\u00A320&quot;);\n        bPConst.gridx = 0;\n        bPConst.gridy = 2;\n        withDraw3.setSize(new Dimension(200, 30));\n        buttonPanel.add(withDraw3, bPConst);\n        JButton deposit = new JButton(&quot;Deposit&quot;);\n        bPConst.gridx = 0;\n        bPConst.gridy = 3;\n        deposit.setSize(new Dimension(200, 30));\n        buttonPanel.add(deposit, bPConst);\n        JButton quit = new JButton(&quot;Quit&quot;);\n        bPConst.gridx = 0;\n        bPConst.gridy = 4;\n        bPConst.anchor = GridBagConstraints.PAGE_END;\n        quit.setSize(new Dimension(200, 30));\n        buttonPanel.add(quit, bPConst);\n        JButton number1 = new JButton(&quot;1&quot;);\n        bPConst.gridx = 1;\n        bPConst.gridy = 0;\n        number1.setSize(new Dimension(200, 30));\n        buttonPanel.add(number1, bPConst);\n        JButton number2 = new JButton(&quot;2&quot;);\n        bPConst.gridx = 2;\n        bPConst.gridy = 0;\n        number2.setSize(new Dimension(200, 30));\n        buttonPanel.add(number2, bPConst);\n        JButton number3 = new JButton(&quot;3&quot;);\n        bPConst.gridx = 3;\n        bPConst.gridy = 0;\n        number3.setSize(new Dimension(200, 30));\n        buttonPanel.add(number3, bPConst);\n        JButton number4 = new JButton(&quot;4&quot;);\n        bPConst.gridx = 1;\n        bPConst.gridy = 1;\n        number4.setSize(new Dimension(200, 30));\n        buttonPanel.add(number4, bPConst);\n        JButton number5 = new JButton(&quot;5&quot;);\n        bPConst.gridx = 2;\n        bPConst.gridy = 1;\n        number5.setSize(new Dimension(200, 30));\n        buttonPanel.add(number5, bPConst);\n        JButton number6 = new JButton(&quot;6&quot;);\n        bPConst.gridx = 3;\n        bPConst.gridy = 1;\n        number6.setSize(new Dimension(200, 30));\n        buttonPanel.add(number6, bPConst);\n        JButton number7 = new JButton(&quot;7&quot;);\n        bPConst.gridx = 1;\n        bPConst.gridy = 2;\n        number7.setSize(new Dimension(200, 30));\n        buttonPanel.add(number7, bPConst);\n        JButton number8 = new JButton(&quot;8&quot;);\n        bPConst.gridx = 2;\n        bPConst.gridy = 2;\n        number8.setSize(new Dimension(200, 30));\n        buttonPanel.add(number8, bPConst);\n        JButton number9 = new JButton(&quot;9&quot;);\n        bPConst.gridx = 3;\n        bPConst.gridy = 2;\n        number9.setSize(new Dimension(200, 30));\n        buttonPanel.add(number9, bPConst);\n        JButton number0 = new JButton(&quot;0&quot;);\n        bPConst.gridx = 1;\n        bPConst.gridy = 3;\n        number0.setSize(new Dimension(200, 30));\n        buttonPanel.add(number0, bPConst);\n        JButton clear = new JButton(&quot;Clear&quot;);\n        bPConst.gridx = 2;\n        bPConst.gridy = 3;\n        clear.setSize(new Dimension(200, 30));\n        buttonPanel.add(clear, bPConst);\n        JButton enter = new JButton(&quot;Enter&quot;);\n        bPConst.gridx = 3;\n        bPConst.gridy = 3;\n        enter.setSize(new Dimension(200, 30));\n        //Adding everything to the layouts above\n        buttonPanel.add(enter, bPConst);\n        bottomArea.add(buttonPanel, BorderLayout.CENTER);\n        add(displayArea,  BorderLayout.NORTH);\n        add(bottomArea, BorderLayout.CENTER);\n        \n        //==================================\n        //Action Listener Setup (CONTROLLER)\n        //==================================\n        // 3 Withdraw buttons (Simply minus from balance if balance is not below amount):\n        withDraw1.addActionListener(new ActionListener(){\n            public void actionPerformed(ActionEvent event) {\n                if(balance &gt;= 5){\n                    balance = balance - 5;\n                    displayArea.setText(&quot;&lt;html&gt;\\u00A35 Withrawn! &lt;br&gt;&lt;br&gt;&quot; + finishedTransaction() + &quot;&lt;/html&gt;&quot;);\n                    readyToEnter = false;\n                    System.out.println(&quot;User Has Withdrawn \\u00A35&quot;);\n                    updateTransactionHist(&quot;User Has Withdrawn \\u00A35&quot;);\n                } else {\n                    displayArea.setText(&quot;&lt;html&gt; Your Balance is below \\u00A35. Unable to Withdraw!! &lt;br&gt;&lt;br&gt;&quot; \n                    + finishedTransaction() + &quot;&lt;/html&gt;&quot;);\n                }\n            }   \n        });\n        withDraw2.addActionListener(new ActionListener(){\n            public void actionPerformed(ActionEvent event) {\n                if(balance &gt;= 10){\n                    balance = balance - 10;\n                    displayArea.setText(&quot;&lt;html&gt;\\u00A310 Withrawn! &lt;br&gt;&lt;br&gt;&quot; + finishedTransaction() + &quot;&lt;/html&gt;&quot;);\n                    readyToEnter = false;\n                    System.out.println(&quot;User Has Withdrawn \\u00A310&quot;);\n                    updateTransactionHist(&quot;User Has Withdrawn \\u00A310&quot;);\n                } else {\n                    displayArea.setText(&quot;&lt;html&gt; Your Balance is below \\u00A310. Unable to Withdraw!! &lt;br&gt;&lt;br&gt;&quot; \n                    + finishedTransaction() + &quot;&lt;/html&gt;&quot;);\n                }\n                \n            }   \n        });\n        withDraw3.addActionListener(new ActionListener(){\n            public void actionPerformed(ActionEvent event) {\n                if(balance &gt;= 20){\n                    balance = balance - 20;\n                    displayArea.setText(&quot;&lt;html&gt;\\u00A320 Withrawn! &lt;br&gt;&lt;br&gt;&quot; + finishedTransaction() + &quot;&lt;/html&gt;&quot;);\n                    readyToEnter = false;\n                    System.out.println(&quot;User Has Withdrawn \\u00A320&quot;);\n                    updateTransactionHist(&quot;User Has Withdrawn \\u00A320&quot;);\n                } else {\n                    displayArea.setText(&quot;&lt;html&gt; Your Balance is below \\u00A320. Unable to Withdraw!! &lt;br&gt;&lt;br&gt;&quot; \n                    + finishedTransaction() + &quot;&lt;/html&gt;&quot;);\n                }\n            }   \n        });\n        // Quit Button - Return to login\n        quit.addActionListener(new ActionListener(){\n            public void actionPerformed(ActionEvent event) {\n                JOptionPane.showMessageDialog(null, &quot;Your Receipt: \\n&quot; + printReceipt());\n                JOptionPane.showMessageDialog(null, &quot;Logging Out! Returning to Login Screen!&quot;);\n                dispose();\n                new Login();\n            }   \n        });\n        // Clear Button - Clear the input array (Method at bottom)\n        clear.addActionListener(new ActionListener(){\n            public void actionPerformed(ActionEvent event) {\n                inputDisplay.setText(&quot;Input Display: &quot;);\n                displayArea.setText(&quot;&lt;html&gt;Input Area Cleared! &lt;br&gt;&lt;br&gt;&quot; \n                + finishedTransaction() +&quot;&lt;/html&gt;&quot;);\n                clearInput();\n                readyToEnter = false;\n            }   \n        });\n        // Number Buttons - Add a number to the input array\n        number1.addActionListener(new ActionListener(){\n            public void actionPerformed(ActionEvent event) {\n                inputDisplay.setText(&quot;Input Display: &quot; + updateInput(&quot;1&quot;));\n            }   \n        });\n        number2.addActionListener(new ActionListener(){\n            public void actionPerformed(ActionEvent event) {\n                inputDisplay.setText(&quot;Input Display: &quot; + updateInput(&quot;2&quot;));\n            }   \n        });\n        number3.addActionListener(new ActionListener(){\n            public void actionPerformed(ActionEvent event) {\n                inputDisplay.setText(&quot;Input Display: &quot; + updateInput(&quot;3&quot;));\n            }   \n        });\n        number4.addActionListener(new ActionListener(){\n            public void actionPerformed(ActionEvent event) {\n                inputDisplay.setText(&quot;Input Display: &quot; + updateInput(&quot;4&quot;));\n            }   \n        });\n        number5.addActionListener(new ActionListener(){\n            public void actionPerformed(ActionEvent event) {\n                inputDisplay.setText(&quot;Input Display: &quot; + updateInput(&quot;5&quot;));\n            }   \n        });\n        number6.addActionListener(new ActionListener(){\n            public void actionPerformed(ActionEvent event) {\n                inputDisplay.setText(&quot;Input Display: &quot; + updateInput(&quot;6&quot;));\n            }   \n        });\n        number7.addActionListener(new ActionListener(){\n            public void actionPerformed(ActionEvent event) {\n                inputDisplay.setText(&quot;Input Display: &quot; + updateInput(&quot;7&quot;));\n            }   \n        });\n        number8.addActionListener(new ActionListener(){\n            public void actionPerformed(ActionEvent event) {\n                inputDisplay.setText(&quot;Input Display: &quot; + updateInput(&quot;8&quot;));\n            }   \n        });\n        number9.addActionListener(new ActionListener(){\n            public void actionPerformed(ActionEvent event) {\n                inputDisplay.setText(&quot;Input Display: &quot; + updateInput(&quot;9&quot;));\n            }   \n        });\n        number0.addActionListener(new ActionListener(){\n            public void actionPerformed(ActionEvent event) {\n                inputDisplay.setText(&quot;Input Display: &quot; + updateInput(&quot;0&quot;));\n            }   \n        });\n        // Deposit Button - Primes program for a deposit, allows user to click enter deposit\n        deposit.addActionListener(new ActionListener(){\n            public void actionPerformed(ActionEvent event) {\n                    displayArea.setText(&quot;&lt;html&gt; Deposit Selected! &lt;br&gt; Please input an amout below or equal to \\u00A31000 and click enter! &lt;br&gt;&lt;br&gt;&quot; \n                    + finishedTransaction() + &quot;&lt;/html&gt;&quot; );\n                    readyToEnter = true;\n            }   \n        });\n        // Enter Button - adds input array val to balance\n        enter.addActionListener(new ActionListener(){\n            public void actionPerformed(ActionEvent event) {\n                if(readyToEnter == true){\n                    if(Integer.parseInt(getInputSequence()) &gt; 1000){\n                        displayArea.setText(&quot;That input is greater than \\u00A31000!&quot;);\n                        clearInput();\n                        inputDisplay.setText(&quot;Input Display: &quot;);\n                        readyToEnter = false;\n                    } else if(Integer.parseInt(getInputSequence()) == 0 || getInputSequence().equals(&quot;0000&quot;)){\n                        displayArea.setText(&quot;You have not entered a value!&quot;);\n                        clearInput();\n                        inputDisplay.setText(&quot;Input Display: &quot;);\n                        readyToEnter = false;\n                    } else {\n                        updateBalance(Integer.parseInt(getInputSequence()));\n                        displayArea.setText(&quot;&lt;html&gt; You have deposited \\u00A3&quot; + getInputSequence() \n                        + &quot;! &lt;br&gt;&lt;br&gt;&quot; + finishedTransaction() + &quot;&lt;/html&gt;&quot;);\n                        System.out.println(&quot;User Has Deposited \\u00A3&quot; + getInputSequence());\n                        updateTransactionHist(&quot;User Has Deposited \\u00A3&quot; + getInputSequence());\n                    }\n                    clearInput();\n                    inputDisplay.setText(&quot;Input Display: &quot;);\n                    readyToEnter = false;\n                } else {\n                    displayArea.setText(&quot;&lt;html&gt; You have not yet chosen an action! &lt;br&gt;&lt;br&gt;&quot; + finishedTransaction() + &quot;&lt;/html&gt;&quot;);\n                    clearInput();\n                    inputDisplay.setText(&quot;Input Display: &quot;);\n                }\n                \n            }   \n        }); \n    } \n    //==================================\n    //Extra Methods for calculations(MODEL)\n    //==================================        \n    //Clears the string and resets the Input area\n    void clearInput(){\n        for(int i =0; i &lt;= 3; i++){\n            inputSequence[i] = &quot;&quot;;  \n        }\n        inputSequenceIndex = 0;\n    }\n    //Updates the Input area and the string with a new number when button clicked\n    String updateInput(String n){\n        if(inputSequenceIndex &lt;= 3){\n            inputSequence[inputSequenceIndex] = n;\n            inputSequenceIndex++;\n        \n            StringBuilder strBuilder = new StringBuilder();\n            for (int i = 0; i &lt; inputSequence.length; i++) {\n                strBuilder.append(inputSequence[i]);\n            }\n            String newString = strBuilder.toString();\n            return newString;\n        } else{\n            StringBuilder strBuilder = new StringBuilder();\n            for (int i = 0; i &lt;= 3; i++) {\n                strBuilder.append(inputSequence[i]);\n            }\n            String newString = strBuilder.toString();\n            return newString;\n        }\n    }\n    \n    String getInputSequence(){\n        StringBuilder strBuilder = new StringBuilder();\n        if(inputSequence[0] == &quot;&quot;){\n            return &quot;0000&quot;;\n        } else {\n            for (int i = 0; i &lt; inputSequence.length; i++) {\n                strBuilder.append(inputSequence[i]);\n            }\n            String newString = strBuilder.toString();\n            return newString;\n        }\n    }\n    //Resetting the label to its original state with new balance\n    String finishedTransaction(){\n        return &quot;Instruction Area: &lt;br&gt; Please select a function from the buttons below &lt;br&gt; Current Balance: \\u00A3&quot; + balance;\n    }\n    //Updating balance upon deposit\n    void updateBalance(int l){\n        balance += l;\n    }\n    //Updating the transaction history for the final receipt\n    void updateTransactionHist(String t){\n        transactionHist[transactionIndex] = t;\n        transactionIndex++;\n    }\n    //Put the final receipt together and return it for printing\n    String printReceipt(){\n        if(inputSequence[0].equals(null)){\n            return &quot;No Transactions Made!&quot;;\n        } else{\n            StringBuilder strBuilder = new StringBuilder();\n            for (int i = 0; i &lt; transactionIndex; i++) {\n                strBuilder.append(transactionHist[i] + &quot;\\n&quot;);\n            }\n            String newString = strBuilder.toString();\n            return newString;\n       }\n    }\n    //Main Method\n    public static void main (String[] args){\n        new Login();    \n    }\n    \n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/tQlJ3.png\" rel=\"nofollow noreferrer\">the question</a></p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1642806317,"post_id":70807831,"comment_id":125178851,"body_markdown":"There are quite a few options for drawing table like Views, but which one to use depends on a number of factors, like the features you want (Sticky column and or row headers), the size of the data to be displayed and what you want to happen when there is not enough space to display it all on screen at once. Efficiency or the ability to print/save the whole table, etc. It might be worth updating your question with a picture of a sketch of the table layout you want to achieve.","body":"There are quite a few options for drawing table like Views, but which one to use depends on a number of factors, like the features you want (Sticky column and or row headers), the size of the data to be displayed and what you want to happen when there is not enough space to display it all on screen at once. Efficiency or the ability to print/save the whole table, etc. It might be worth updating your question with a picture of a sketch of the table layout you want to achieve."},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1642838811,"post_id":70807831,"comment_id":125182986,"body_markdown":"Even if you may not expect a fully coded answer (...), we&#39;d expect a question, which can actually be answered in a way, which enables one to determine a correct answer. While this question most certainly doesn&#39;t fall into this category. Please read: https://stackoverflow.com/help/asking","body":"Even if you may not expect a fully coded answer (...), we&#39;d expect a question, which can actually be answered in a way, which enables one to determine a correct answer. While this question most certainly doesn&#39;t fall into this category. Please read: <a href=\"https://stackoverflow.com/help/asking\">stackoverflow.com/help/asking</a>"},{"owner":{"account_id":23053678,"reputation":71,"user_id":17170065,"display_name":"aleptian"},"score":0,"creation_date":1642843115,"post_id":70807831,"comment_id":125183750,"body_markdown":"@MartinZeitler apologies for the lack of description. i have edited my post and maybe this would provide further context. apologies if it doesn&#39;t.","body":"@MartinZeitler apologies for the lack of description. i have edited my post and maybe this would provide further context. apologies if it doesn&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":6223758,"reputation":3,"user_id":4842693,"display_name":"Srabon Shahadat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642837525,"creation_date":1642837525,"answer_id":70810937,"question_id":70807831,"body_markdown":"I hope it will be helpful for you although in your post there is a few lack of description\r\n\r\nhttps://stackoverflow.com/questions/18207470/adding-table-rows-dynamically-in-android","title":"Make a table from user input in Android App","body":"<p>I hope it will be helpful for you although in your post there is a few lack of description</p>\n<p><a href=\"https://stackoverflow.com/questions/18207470/adding-table-rows-dynamically-in-android\">Adding Table rows Dynamically in Android</a></p>\n"}],"owner":{"account_id":23053678,"reputation":71,"user_id":17170065,"display_name":"aleptian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":524,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1642843067,"creation_date":1642800664,"question_id":70807831,"body_markdown":"I am currently making an expense tracker on Android Studio. it is my first time so I&#39;m not too experienced and am not expecting a fully coded answer, but maybe some guidance as I have not been able to find any resources online for my particular question. \r\n\r\nSo I know how to get user input, which in my case would be something like `Amount Spent:` and `Location`... etc. The only thing I am not familiar with is how to add/append this data to a table in Android. \r\n\r\nFor example, the table would look like this:\r\n\r\n[![Table][1]][1]\r\n\r\nThe user input would then be added to the table depending on the header.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RuIoA.png","title":"Make a table from user input in Android App","body":"<p>I am currently making an expense tracker on Android Studio. it is my first time so I'm not too experienced and am not expecting a fully coded answer, but maybe some guidance as I have not been able to find any resources online for my particular question.</p>\n<p>So I know how to get user input, which in my case would be something like <code>Amount Spent:</code> and <code>Location</code>... etc. The only thing I am not familiar with is how to add/append this data to a table in Android.</p>\n<p>For example, the table would look like this:</p>\n<p><a href=\"https://i.stack.imgur.com/RuIoA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RuIoA.png\" alt=\"Table\" /></a></p>\n<p>The user input would then be added to the table depending on the header.</p>\n"},{"tags":["java","linux","docker","maven","dockerfile"],"comments":[{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":5,"creation_date":1588081790,"post_id":61481764,"comment_id":108758491,"body_markdown":"Possibly you have this dependency cached localy in your m2?","body":"Possibly you have this dependency cached localy in your m2?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":3,"creation_date":1588081871,"post_id":61481764,"comment_id":108758550,"body_markdown":"You probably want to update your Maven repos.","body":"You probably want to update your Maven repos."},{"owner":{"account_id":1814662,"reputation":51165,"user_id":1650012,"accept_rate":67,"display_name":"kramer65"},"score":0,"creation_date":1588088352,"post_id":61481764,"comment_id":108762830,"body_markdown":"@michalk - You mean that I&#39;ve got it cached on my laptop, but not in the docker container? But how could this Dockerfile have worked only about a month ago, even though that repository.codehaus.org has been offline since 2015?","body":"@michalk - You mean that I&#39;ve got it cached on my laptop, but not in the docker container? But how could this Dockerfile have worked only about a month ago, even though that repository.codehaus.org has been offline since 2015?"},{"owner":{"account_id":1814662,"reputation":51165,"user_id":1650012,"accept_rate":67,"display_name":"kramer65"},"score":0,"creation_date":1588088674,"post_id":61481764,"comment_id":108763009,"body_markdown":"@DaveNewton - Do you mean I need to update my maven repo&#39;s within the container? I&#39;m not really a java guru, any idea how I could do that? Or do I need to update it the cantaloupe project? So I guess in this file? =&gt; https://github.com/cantaloupe-project/cantaloupe/blob/develop/pom.xml#L268","body":"@DaveNewton - Do you mean I need to update my maven repo&#39;s within the container? I&#39;m not really a java guru, any idea how I could do that? Or do I need to update it the cantaloupe project? So I guess in this file? =&gt; <a href=\"https://github.com/cantaloupe-project/cantaloupe/blob/develop/pom.xml#L268\" rel=\"nofollow noreferrer\">github.com/cantaloupe-project/cantaloupe/blob/develop/&hellip;</a>"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1588088965,"post_id":61481764,"comment_id":108763186,"body_markdown":"Something is pulling in jai_codec from a long-dead Maven repo; doesn&#39;t look like it&#39;s cantaloupe. Check your pom.","body":"Something is pulling in jai_codec from a long-dead Maven repo; doesn&#39;t look like it&#39;s cantaloupe. Check your pom."}],"owner":{"account_id":1814662,"reputation":51165,"user_id":1650012,"accept_rate":67,"display_name":"kramer65"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1642842743,"creation_date":1588081586,"question_id":61481764,"body_markdown":"I&#39;m running the [Cantaloupe image server][1] using Docker. For this I&#39;ve got a `Dockerfile` which starts with this:\r\n\r\n    FROM ubuntu:18.04 AS base\r\n    \r\n    ENV CANTALOUPE_VERSION=&quot;4.1.5&quot;\r\n    \r\n    EXPOSE 8080\r\n    \r\n    RUN apt update -y &amp;&amp; \\\r\n        apt install -y --no-install-recommends \\\r\n          wget unzip curl net-tools \\\r\n          graphicsmagick imagemagick ffmpeg python \\\r\n          maven default-jre\r\n    RUN rm -rf /var/lib/apt/lists/*\r\n    \r\n    WORKDIR /tmp\r\n    \r\n    RUN wget -O cantaloupe-git.zip https://github.com/cantaloupe-project/cantaloupe/archive/v${CANTALOUPE_VERSION}.zip\r\n    RUN unzip cantaloupe-git.zip\r\n    \r\n    RUN cd /tmp/cantaloupe-${CANTALOUPE_VERSION} &amp;&amp; mvn clean package -DskipTests\r\n    # and after this some more stuff..\r\n\r\nThis Dockerfile fails on the last line with the following error:\r\n\r\n&gt; [ERROR] Failed to execute goal on project cantaloupe: Could not resolve dependencies for project edu.illinois.library.cantaloupe:cantaloupe:war:4.1.5: Failed to collect dependencies at it.geosolutions.imageio-ext:imageio-ext-tiff:jar:1.1.19 -&gt; it.geosolutions.imageio-ext:imageio-ext-utilities:jar:1.1.19 -&gt; javax.media:jai_codec:jar:1.1.3: Failed to read artifact descriptor for javax.media:jai_codec:jar:1.1.3: Could not transfer artifact javax.media:jai_codec:pom:1.1.3 from/to codehaus (http://repository.codehaus.org/): repository.codehaus.org: Name or service not known: Unknown host repository.codehaus.org: Name or service not known -&gt; [Help 1]\r\n\r\nOf this error, the last part is interesting: \r\n\r\n&gt; Name or service not known: **Unknown host repository.codehaus.org**\r\n\r\n`codehaus.org` is indeed offline, and according to [this post][2] it&#39;s already offline since at least 2015 (!!).\r\n\r\nThe weird thing is that \r\n\r\n- This `Dockerfile` used to work fine until about at least a month ago. \r\n- &lt;s&gt;When I run the commands on my laptop locally (also running Ubuntu) it also builds fine.&lt;/s&gt; =&gt; I had this dependency cached locally in my m2\r\n\r\nAlso, I don&#39;t see anyone else with this issue.\r\n\r\nAm I doing something wrong in my Dockerfile?\r\n\r\n\r\n  [1]: https://cantaloupe-project.github.io/\r\n  [2]: https://stackoverflow.com/a/31230193/1650012","title":"Why is my Dockerfile not building any more?","body":"<p>I'm running the <a href=\"https://cantaloupe-project.github.io/\" rel=\"nofollow noreferrer\">Cantaloupe image server</a> using Docker. For this I've got a <code>Dockerfile</code> which starts with this:</p>\n<pre><code>FROM ubuntu:18.04 AS base\n\nENV CANTALOUPE_VERSION=&quot;4.1.5&quot;\n\nEXPOSE 8080\n\nRUN apt update -y &amp;&amp; \\\n    apt install -y --no-install-recommends \\\n      wget unzip curl net-tools \\\n      graphicsmagick imagemagick ffmpeg python \\\n      maven default-jre\nRUN rm -rf /var/lib/apt/lists/*\n\nWORKDIR /tmp\n\nRUN wget -O cantaloupe-git.zip https://github.com/cantaloupe-project/cantaloupe/archive/v${CANTALOUPE_VERSION}.zip\nRUN unzip cantaloupe-git.zip\n\nRUN cd /tmp/cantaloupe-${CANTALOUPE_VERSION} &amp;&amp; mvn clean package -DskipTests\n# and after this some more stuff..\n</code></pre>\n<p>This Dockerfile fails on the last line with the following error:</p>\n<blockquote>\n<p>[ERROR] Failed to execute goal on project cantaloupe: Could not resolve dependencies for project edu.illinois.library.cantaloupe:cantaloupe:war:4.1.5: Failed to collect dependencies at it.geosolutions.imageio-ext:imageio-ext-tiff:jar:1.1.19 -&gt; it.geosolutions.imageio-ext:imageio-ext-utilities:jar:1.1.19 -&gt; javax.media:jai_codec:jar:1.1.3: Failed to read artifact descriptor for javax.media:jai_codec:jar:1.1.3: Could not transfer artifact javax.media:jai_codec:pom:1.1.3 from/to codehaus (<a href=\"http://repository.codehaus.org/\" rel=\"nofollow noreferrer\">http://repository.codehaus.org/</a>): repository.codehaus.org: Name or service not known: Unknown host repository.codehaus.org: Name or service not known -&gt; [Help 1]</p>\n</blockquote>\n<p>Of this error, the last part is interesting:</p>\n<blockquote>\n<p>Name or service not known: <strong>Unknown host repository.codehaus.org</strong></p>\n</blockquote>\n<p><code>codehaus.org</code> is indeed offline, and according to <a href=\"https://stackoverflow.com/a/31230193/1650012\">this post</a> it's already offline since at least 2015 (!!).</p>\n<p>The weird thing is that</p>\n<ul>\n<li>This <code>Dockerfile</code> used to work fine until about at least a month ago.</li>\n<li><s>When I run the commands on my laptop locally (also running Ubuntu) it also builds fine.</s> =&gt; I had this dependency cached locally in my m2</li>\n</ul>\n<p>Also, I don't see anyone else with this issue.</p>\n<p>Am I doing something wrong in my Dockerfile?</p>\n"},{"tags":["java","heroku","scalability","server-sent-events"],"answers":[{"tags":[],"owner":{"account_id":24809,"reputation":10138,"user_id":63308,"accept_rate":89,"display_name":"codefinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432647368,"creation_date":1432647368,"answer_id":30460162,"question_id":30458969,"body_markdown":"One solution is to use session affinity (a.k.a. sticky sessions), which will ensure that a single session&#39;s requests are &quot;always&quot; routed to the same process (I say &quot;always&quot; because there are some caveats). You can turn this feature on by running this command:\r\n\r\n    $ heroku labs:enable http-session-affinity\r\n\r\nIn this way, you can keep things in memory and will not have to serialize the session. \r\n\r\nHere is an article describing this feature in more detail: https://blog.heroku.com/archives/2015/4/28/introducing_session_affinity","title":"Server-Sent events in scalable backend","body":"<p>One solution is to use session affinity (a.k.a. sticky sessions), which will ensure that a single session's requests are \"always\" routed to the same process (I say \"always\" because there are some caveats). You can turn this feature on by running this command:</p>\n\n<pre><code>$ heroku labs:enable http-session-affinity\n</code></pre>\n\n<p>In this way, you can keep things in memory and will not have to serialize the session. </p>\n\n<p>Here is an article describing this feature in more detail: <a href=\"https://blog.heroku.com/archives/2015/4/28/introducing_session_affinity\" rel=\"nofollow\">https://blog.heroku.com/archives/2015/4/28/introducing_session_affinity</a></p>\n"},{"tags":[],"owner":{"account_id":3735526,"reputation":1026,"user_id":3112241,"display_name":"ack_inc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642842720,"creation_date":1642842720,"answer_id":70811420,"question_id":30458969,"body_markdown":"You could use a pub-sub solution (ex: Redis pub-sub) that is accessible to each of your dynos.\r\n\r\nOn starting, your app subscribes to the appropriate channels. When an event happens, it is published to a channel. This means all instances of your app (spread across multiple dynos) receive that event, and any of them that have SSE connections open can respond to the event.","title":"Server-Sent events in scalable backend","body":"<p>You could use a pub-sub solution (ex: Redis pub-sub) that is accessible to each of your dynos.</p>\n<p>On starting, your app subscribes to the appropriate channels. When an event happens, it is published to a channel. This means all instances of your app (spread across multiple dynos) receive that event, and any of them that have SSE connections open can respond to the event.</p>\n"}],"owner":{"account_id":83700,"reputation":8982,"user_id":234499,"accept_rate":50,"display_name":"Alex Ntousias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1269,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1642842720,"creation_date":1432644281,"question_id":30458969,"body_markdown":"I have deployed a Java web application in Heroku. \r\n\r\nNow, I want to change the back-end so that it can notify connected users regarding specific events. I thought I could use server-sent events to do that and the way I thought it would work is the following:\r\n\r\n 1. When user opens up the front-end, it would establish a connection for the server-sent events.\r\n 2. When the back-end receives such a request, it would create such a connection (basically an `EventOutput`) and store it somewhere along with the user&#39;s ID (let&#39;s say in a `Map` in memory).\r\n 3. When a new event comes along, the back-end will find the user that needs to be notified, retrieve his connection according to his ID and send him the notification.\r\n\r\nThis works just fine when you have only one machine handling the requests. \r\n\r\nMy problem starts when I want to scale up my app and introduce more machines. Then, I cannot really store these connections in memory in one machine anymore, I need to use some centralized location. But the centralized location will need to serialize/deserialize the connection, which means that it&#39;s not the same connection anymore!\r\n\r\nHow do you usually do something like that?\r\n\r\n","title":"Server-Sent events in scalable backend","body":"<p>I have deployed a Java web application in Heroku. </p>\n\n<p>Now, I want to change the back-end so that it can notify connected users regarding specific events. I thought I could use server-sent events to do that and the way I thought it would work is the following:</p>\n\n<ol>\n<li>When user opens up the front-end, it would establish a connection for the server-sent events.</li>\n<li>When the back-end receives such a request, it would create such a connection (basically an <code>EventOutput</code>) and store it somewhere along with the user's ID (let's say in a <code>Map</code> in memory).</li>\n<li>When a new event comes along, the back-end will find the user that needs to be notified, retrieve his connection according to his ID and send him the notification.</li>\n</ol>\n\n<p>This works just fine when you have only one machine handling the requests. </p>\n\n<p>My problem starts when I want to scale up my app and introduce more machines. Then, I cannot really store these connections in memory in one machine anymore, I need to use some centralized location. But the centralized location will need to serialize/deserialize the connection, which means that it's not the same connection anymore!</p>\n\n<p>How do you usually do something like that?</p>\n"},{"tags":["java","dropwizard"],"answers":[{"tags":[],"owner":{"account_id":22968286,"reputation":82,"user_id":17097058,"display_name":"Curious"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642842669,"creation_date":1642842669,"answer_id":70811413,"question_id":70757611,"body_markdown":"There was a place I kept calling a different class in my database configuration. Changing it to the appropriate class type solved the problem","title":"How to fix java.lang.ClassCastException:.Review are in unnamed module of loader &#39;app&#39;","body":"<p>There was a place I kept calling a different class in my database configuration. Changing it to the appropriate class type solved the problem</p>\n"}],"owner":{"account_id":22968286,"reputation":82,"user_id":17097058,"display_name":"Curious"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":893,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70811413,"answer_count":1,"score":0,"last_activity_date":1642842669,"creation_date":1642517556,"question_id":70757611,"body_markdown":"I made some changes to a particular class Helpers.java and anytime I try to it a particular endpoint I get this error message. The stack trace points down to the Helpers&#39; class.\r\n \r\n\r\n&gt; java.lang.ClassCastException: class com.clever.bas.model.Transaction cannot be cast to class com.clever.bas.model.Review (com.clever.bas.model.Transaction and com.clever.bas.model.Review are in unnamed module of loader &#39;app&#39;)\r\n\r\nHere is what the Helpers class look like \r\n\r\n \r\n\r\n    public static InputStream writeToExcel(CompletableFuture&lt;ArrayList&lt;Review&gt;&gt; data) throws Exception {\r\n    \r\n            //Blank workbook\r\n            try (XSSFWorkbook workbook = new XSSFWorkbook()) {\r\n    \r\n                //Create a blank sheet\r\n                XSSFSheet sheet = workbook.createSheet(&quot;transaction report&quot;);\r\n                AtomicInteger rowNum = new AtomicInteger(1);\r\n                AtomicBoolean isHeaderSet = new AtomicBoolean(false);\r\n                data.get().forEach(review -&gt; {\r\n                    if (!isHeaderSet.get()){\r\n                        createHeader(review, sheet);\r\n                        isHeaderSet.set(true);\r\n                    }\r\n                    XSSFRow row = sheet.createRow(rowNum.getAndIncrement());\r\n                    ObjectMapper mapObject = new ObjectMapper();\r\n                    Map&lt;String, Object&gt; mapObj = mapObject.convertValue(review, Map.class);\r\n                    AtomicInteger cellNum = new AtomicInteger();\r\n                    mapObj.forEach((key, value) -&gt; {\r\n                        XSSFCell cell = row.createCell(cellNum.getAndIncrement());\r\n                        cell.setCellValue(key);\r\n                        if (value instanceof Integer)\r\n                            cell.setCellValue((Integer) value);\r\n                        else if (value instanceof BigDecimal)\r\n                            cell.setCellValue(((BigDecimal) value).doubleValue());\r\n                        else if (value instanceof Long)\r\n                            cell.setCellValue((Long) value);\r\n                        else if (value instanceof Boolean)\r\n                            cell.setCellValue((Boolean) value);\r\n                        else cell.setCellValue((String) value);\r\n    \r\n                    });\r\n                });\r\n                try {\r\n                    //Write the workbook in file system\r\n                    ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n                    workbook.write(bos);\r\n                    byte[] barray = bos.toByteArray();\r\n                    InputStream is = new ByteArrayInputStream(barray);\r\n    //                InputStream is = new FileInputStream(&quot;transaction.xlsx&quot;);\r\n    //                workbook.write(is);\r\n                    System.out.println(&quot;transaction.xlsx written successfully on disk.&quot;);\r\n                    return is;\r\n    //                out.close();\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                    throw new Exception(e.getMessage());\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                throw new Exception(e.getMessage());\r\n    \r\n            }\r\n        }\r\n    private static void createHeader(Review review, XSSFSheet sheet) {\r\n            XSSFRow row = sheet.createRow(0);\r\n            ObjectMapper mapObject = new ObjectMapper();\r\n            Map&lt;String, Object&gt; mapObj = mapObject.convertValue(review, Map.class);\r\n            AtomicInteger cellNum = new AtomicInteger();\r\n            mapObj.forEach((key, value) -&gt; {\r\n                XSSFCell cell = row.createCell(cellNum.getAndIncrement());\r\n                cell.setCellValue(key);\r\n            });\r\n        }\r\n\r\nI can&#39;t think of were I am returning type of Transaction instead of review. Here is where I am calling the helper class in my Service.\r\n\r\n \r\n\r\n     public InputStream downloadReviewReport(UriInfo uriInfo) throws Exception {\r\n            MultivaluedMap&lt;String, String&gt; queryParams = uriInfo.getQueryParameters();\r\n            String userID = queryParams.getFirst(&quot;userID&quot;);\r\n            CompletableFuture&lt;ArrayList&lt;Review&gt;&gt; reviews = reviewRepository.fetchUserDetailsBatches(filterTransaction(queryParams, userID));\r\n            return Helpers.writeToExcel(reviews);\r\n        }\r\n\r\n","title":"How to fix java.lang.ClassCastException:.Review are in unnamed module of loader &#39;app&#39;","body":"<p>I made some changes to a particular class Helpers.java and anytime I try to it a particular endpoint I get this error message. The stack trace points down to the Helpers' class.</p>\n<blockquote>\n<p>java.lang.ClassCastException: class com.clever.bas.model.Transaction cannot be cast to class com.clever.bas.model.Review (com.clever.bas.model.Transaction and com.clever.bas.model.Review are in unnamed module of loader 'app')</p>\n</blockquote>\n<p>Here is what the Helpers class look like</p>\n<pre><code>public static InputStream writeToExcel(CompletableFuture&lt;ArrayList&lt;Review&gt;&gt; data) throws Exception {\n\n        //Blank workbook\n        try (XSSFWorkbook workbook = new XSSFWorkbook()) {\n\n            //Create a blank sheet\n            XSSFSheet sheet = workbook.createSheet(&quot;transaction report&quot;);\n            AtomicInteger rowNum = new AtomicInteger(1);\n            AtomicBoolean isHeaderSet = new AtomicBoolean(false);\n            data.get().forEach(review -&gt; {\n                if (!isHeaderSet.get()){\n                    createHeader(review, sheet);\n                    isHeaderSet.set(true);\n                }\n                XSSFRow row = sheet.createRow(rowNum.getAndIncrement());\n                ObjectMapper mapObject = new ObjectMapper();\n                Map&lt;String, Object&gt; mapObj = mapObject.convertValue(review, Map.class);\n                AtomicInteger cellNum = new AtomicInteger();\n                mapObj.forEach((key, value) -&gt; {\n                    XSSFCell cell = row.createCell(cellNum.getAndIncrement());\n                    cell.setCellValue(key);\n                    if (value instanceof Integer)\n                        cell.setCellValue((Integer) value);\n                    else if (value instanceof BigDecimal)\n                        cell.setCellValue(((BigDecimal) value).doubleValue());\n                    else if (value instanceof Long)\n                        cell.setCellValue((Long) value);\n                    else if (value instanceof Boolean)\n                        cell.setCellValue((Boolean) value);\n                    else cell.setCellValue((String) value);\n\n                });\n            });\n            try {\n                //Write the workbook in file system\n                ByteArrayOutputStream bos = new ByteArrayOutputStream();\n                workbook.write(bos);\n                byte[] barray = bos.toByteArray();\n                InputStream is = new ByteArrayInputStream(barray);\n//                InputStream is = new FileInputStream(&quot;transaction.xlsx&quot;);\n//                workbook.write(is);\n                System.out.println(&quot;transaction.xlsx written successfully on disk.&quot;);\n                return is;\n//                out.close();\n            } catch (Exception e) {\n                e.printStackTrace();\n                throw new Exception(e.getMessage());\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n            throw new Exception(e.getMessage());\n\n        }\n    }\nprivate static void createHeader(Review review, XSSFSheet sheet) {\n        XSSFRow row = sheet.createRow(0);\n        ObjectMapper mapObject = new ObjectMapper();\n        Map&lt;String, Object&gt; mapObj = mapObject.convertValue(review, Map.class);\n        AtomicInteger cellNum = new AtomicInteger();\n        mapObj.forEach((key, value) -&gt; {\n            XSSFCell cell = row.createCell(cellNum.getAndIncrement());\n            cell.setCellValue(key);\n        });\n    }\n</code></pre>\n<p>I can't think of were I am returning type of Transaction instead of review. Here is where I am calling the helper class in my Service.</p>\n<pre><code> public InputStream downloadReviewReport(UriInfo uriInfo) throws Exception {\n        MultivaluedMap&lt;String, String&gt; queryParams = uriInfo.getQueryParameters();\n        String userID = queryParams.getFirst(&quot;userID&quot;);\n        CompletableFuture&lt;ArrayList&lt;Review&gt;&gt; reviews = reviewRepository.fetchUserDetailsBatches(filterTransaction(queryParams, userID));\n        return Helpers.writeToExcel(reviews);\n    }\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database","google-cloud-platform"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642842406,"creation_date":1642842406,"answer_id":70811392,"question_id":70805847,"body_markdown":"When you are using the [Query#addValueEventListener()][1] method, it means that you are listening for real-time updates (changes). That being said, every change that takes place in the Realtime Database that corresponds to your `referencia` query, will always trigger the `onDataChange()` method. Since when you are adding data inside the callback to the query you are listening to, your `sendToDataBase` gets written again, hence that behavior. This is happening over and over again.\r\n\r\nTo solve this, simply change the above method call to [Query#addListenerForSingleValueEvent()][2]. This means that it will listen for changes **only** once.\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#addValueEventListener(com.google.firebase.database.ValueEventListener)\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#addListenerForSingleValueEvent(com.google.firebase.database.ValueEventListener)","title":"Firebase behaves strangely","body":"<p>When you are using the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#addValueEventListener(com.google.firebase.database.ValueEventListener)\" rel=\"nofollow noreferrer\">Query#addValueEventListener()</a> method, it means that you are listening for real-time updates (changes). That being said, every change that takes place in the Realtime Database that corresponds to your <code>referencia</code> query, will always trigger the <code>onDataChange()</code> method. Since when you are adding data inside the callback to the query you are listening to, your <code>sendToDataBase</code> gets written again, hence that behavior. This is happening over and over again.</p>\n<p>To solve this, simply change the above method call to <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#addListenerForSingleValueEvent(com.google.firebase.database.ValueEventListener)\" rel=\"nofollow noreferrer\">Query#addListenerForSingleValueEvent()</a>. This means that it will listen for changes <strong>only</strong> once.</p>\n"}],"owner":{"account_id":23850608,"reputation":23,"user_id":17854602,"display_name":"Carl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70811392,"answer_count":1,"score":-1,"last_activity_date":1642842452,"creation_date":1642788889,"question_id":70805847,"body_markdown":"This video explains what is happening with Firebase, after entering the following code. Until the second 5 of the video, everything is normal.\r\nWhen I click on a button from the 6th second, Firebase gets this video problem:\r\n\r\nhttps://www.youtube.com/watch?v=rQlTZyCWcmM\r\n\r\nCode:\r\n\r\n```\r\n        button = findViewById(R.id.button);\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                final String ra&#231;a = spinner_raca.getSelectedItem().toString();\r\n                final String regiaoDoEstado = spinner_regiaoDoEstado.getSelectedItem().toString();\r\n                final String estado = spinner_estado.getSelectedItem().toString();\r\n                String identificador2 = identificadorCampo2.getText().toString();\r\n                String identificadorEmHash = criptografarEmMD5(identificador2);\r\n\r\n                Intent intentRecebedora = getIntent();\r\n                Bundle bundleRecebedor = intentRecebedora.getExtras();\r\n                String nomecompleto = bundleRecebedor.getString(&quot;nomecompleto&quot;);\r\n                String email = bundleRecebedor.getString(&quot;email&quot;);\r\n                String doencasPreExistentes = bundleRecebedor.getString(&quot;doencasPreExistentes&quot;);\r\n                String dataDeNascimento = bundleRecebedor.getString(&quot;dataDeNascimento&quot;);\r\n                String genero = bundleRecebedor.getString(&quot;genero&quot;);\r\n                String identificadorEmHash = bundleRecebedor.getString(&quot;identificadorEmHash&quot;);\r\n                String telefone = intentRecebedora.getStringExtra(&quot;telefone&quot;);\r\n\r\n                referencia = FirebaseDatabase.getInstance().getReference().child(&quot;Usuarios&quot;).child(identificadorEmHash);\r\n                Toast.makeText(getApplicationContext(), identificadorEmHash, Toast.LENGTH_LONG).show();\r\n                if(identificadorEmHash.equals(null)) {\r\n                    Toast.makeText(getApplicationContext(), &quot;Identifier does not exist&quot;, Toast.LENGTH_LONG).show();\r\n                } else {\r\n                    referencia.addValueEventListener(new ValueEventListener() {\r\n                        @Override\r\n                        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                        }\r\n                        @Override\r\n                        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n\r\n                            referencia = FirebaseDatabase.getInstance().getReference().child(&quot;Usuarios&quot;).child(identificadorEmHash);\r\n                            if (!dataSnapshot.exists()) {\r\n                                Toast.makeText(getApplicationContext(), &quot;O identificador digitado n&#227;o existe.&quot;, Toast.LENGTH_LONG).show();\r\n                            } else {\r\n                                HashMap&lt;String, String&gt; sendToDataBase = new HashMap&lt;&gt;();\r\n                                    sendToDataBase.put(&quot;Nome Completo&quot;, nomecompleto);\r\n                                    sendToDataBase.put(&quot;E-mail&quot;, email);\r\n                                    sendToDataBase.put(&quot;Identificador em Hash&quot;, identificadorEmHash);\r\n                                    sendToDataBase.put(&quot;Telefone&quot;, telefone);\r\n                                    sendToDataBase.put(&quot;Doen&#231;as Pr&#233; Existentes&quot;, doencasPreExistentes);\r\n                                    sendToDataBase.put(&quot;Data de Nascimento&quot;, dataDeNascimento);\r\n                                    sendToDataBase.put(&quot;G&#234;nero&quot;, genero);\r\n                                    sendToDataBase.put(&quot;Regi&#227;o do Estado em que mora&quot;, regiaoDoEstado);\r\n                                    sendToDataBase.put(&quot;Ra&#231;a&quot;, ra&#231;a);\r\n                                    sendToDataBase.put(&quot;Estado do Brasil em que mora&quot;, estado);\r\n\r\n                                try {\r\n                                    raiz.child(identificadorEmHash).setValue(sendToDataBase);\r\n\r\n                                } catch (Exception e) {\r\n                                    e.getMessage();\r\n                                }\r\n\r\n                            }\r\n                           \r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        });\r\n```\r\n\r\nPlease, how to fix this? Is there any location in the Firebase where we can see the errors? No errors are pointed out in Android Studio, and the phone system crashes, having to be restarted.","title":"Firebase behaves strangely","body":"<p>This video explains what is happening with Firebase, after entering the following code. Until the second 5 of the video, everything is normal.\nWhen I click on a button from the 6th second, Firebase gets this video problem:</p>\n<p><a href=\"https://www.youtube.com/watch?v=rQlTZyCWcmM\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=rQlTZyCWcmM</a></p>\n<p>Code:</p>\n<pre><code>        button = findViewById(R.id.button);\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                final String raça = spinner_raca.getSelectedItem().toString();\n                final String regiaoDoEstado = spinner_regiaoDoEstado.getSelectedItem().toString();\n                final String estado = spinner_estado.getSelectedItem().toString();\n                String identificador2 = identificadorCampo2.getText().toString();\n                String identificadorEmHash = criptografarEmMD5(identificador2);\n\n                Intent intentRecebedora = getIntent();\n                Bundle bundleRecebedor = intentRecebedora.getExtras();\n                String nomecompleto = bundleRecebedor.getString(&quot;nomecompleto&quot;);\n                String email = bundleRecebedor.getString(&quot;email&quot;);\n                String doencasPreExistentes = bundleRecebedor.getString(&quot;doencasPreExistentes&quot;);\n                String dataDeNascimento = bundleRecebedor.getString(&quot;dataDeNascimento&quot;);\n                String genero = bundleRecebedor.getString(&quot;genero&quot;);\n                String identificadorEmHash = bundleRecebedor.getString(&quot;identificadorEmHash&quot;);\n                String telefone = intentRecebedora.getStringExtra(&quot;telefone&quot;);\n\n                referencia = FirebaseDatabase.getInstance().getReference().child(&quot;Usuarios&quot;).child(identificadorEmHash);\n                Toast.makeText(getApplicationContext(), identificadorEmHash, Toast.LENGTH_LONG).show();\n                if(identificadorEmHash.equals(null)) {\n                    Toast.makeText(getApplicationContext(), &quot;Identifier does not exist&quot;, Toast.LENGTH_LONG).show();\n                } else {\n                    referencia.addValueEventListener(new ValueEventListener() {\n                        @Override\n                        public void onCancelled(@NonNull DatabaseError error) {\n\n                        }\n                        @Override\n                        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n\n                            referencia = FirebaseDatabase.getInstance().getReference().child(&quot;Usuarios&quot;).child(identificadorEmHash);\n                            if (!dataSnapshot.exists()) {\n                                Toast.makeText(getApplicationContext(), &quot;O identificador digitado não existe.&quot;, Toast.LENGTH_LONG).show();\n                            } else {\n                                HashMap&lt;String, String&gt; sendToDataBase = new HashMap&lt;&gt;();\n                                    sendToDataBase.put(&quot;Nome Completo&quot;, nomecompleto);\n                                    sendToDataBase.put(&quot;E-mail&quot;, email);\n                                    sendToDataBase.put(&quot;Identificador em Hash&quot;, identificadorEmHash);\n                                    sendToDataBase.put(&quot;Telefone&quot;, telefone);\n                                    sendToDataBase.put(&quot;Doenças Pré Existentes&quot;, doencasPreExistentes);\n                                    sendToDataBase.put(&quot;Data de Nascimento&quot;, dataDeNascimento);\n                                    sendToDataBase.put(&quot;Gênero&quot;, genero);\n                                    sendToDataBase.put(&quot;Região do Estado em que mora&quot;, regiaoDoEstado);\n                                    sendToDataBase.put(&quot;Raça&quot;, raça);\n                                    sendToDataBase.put(&quot;Estado do Brasil em que mora&quot;, estado);\n\n                                try {\n                                    raiz.child(identificadorEmHash).setValue(sendToDataBase);\n\n                                } catch (Exception e) {\n                                    e.getMessage();\n                                }\n\n                            }\n                           \n                        }\n                    });\n                }\n            }\n        });\n</code></pre>\n<p>Please, how to fix this? Is there any location in the Firebase where we can see the errors? No errors are pointed out in Android Studio, and the phone system crashes, having to be restarted.</p>\n"},{"tags":["java","swing","awt","layout-manager","jscrollpane"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1642801089,"post_id":70807825,"comment_id":125177479,"body_markdown":"You don’t need to use a null layout and you shouldn’t use a null layout.  If you have a vertical list of information, place it in a JList or a JTable, and place the JList or JTable inside a JScrollPane.","body":"You don’t need to use a null layout and you shouldn’t use a null layout.  If you have a vertical list of information, place it in a JList or a JTable, and place the JList or JTable inside a JScrollPane."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1642831187,"post_id":70807825,"comment_id":125181907,"body_markdown":"Refer to [How to Use Lists](https://docs.oracle.com/javase/tutorial/uiswing/components/list.html) and [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html)","body":"Refer to <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/list.html\" rel=\"nofollow noreferrer\">How to Use Lists</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a>"},{"owner":{"account_id":23769216,"reputation":21,"user_id":17783528,"display_name":"MindHunter"},"score":0,"creation_date":1642833161,"post_id":70807825,"comment_id":125182157,"body_markdown":"@AndrewThompson can u please post a copy of this code. Thx","body":"@AndrewThompson can u please post a copy of this code. Thx"}],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642833515,"creation_date":1642833515,"answer_id":70810575,"question_id":70807825,"body_markdown":"That GUI would be simple to produce using layouts. Put the component displaying the list (which looks well suited to being a `JTable`, given the two pieces of data per row / line) into a `JScrollPane`. Put the scroll pane into the `CENTER` of a `BorderLayout`. Put the red label into the `PAGE_START` of the border layout. Then .. oh wait, the job is done!\r\n\r\nThis is what it might look like (using a `JTextArea` instead of a table).\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/dRhX6.png&quot;&gt;\r\n\r\n&gt; can u please post a copy of this code.\r\n\r\nTry implementing it based on the instructions above. If there is a problem, post a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) of your attempt.","title":"How do I add a scrollbar to a JFrame with setLayout(null)?","body":"<p>That GUI would be simple to produce using layouts. Put the component displaying the list (which looks well suited to being a <code>JTable</code>, given the two pieces of data per row / line) into a <code>JScrollPane</code>. Put the scroll pane into the <code>CENTER</code> of a <code>BorderLayout</code>. Put the red label into the <code>PAGE_START</code> of the border layout. Then .. oh wait, the job is done!</p>\n<p>This is what it might look like (using a <code>JTextArea</code> instead of a table).</p>\n<img src=\"https://i.stack.imgur.com/dRhX6.png\">\n<blockquote>\n<p>can u please post a copy of this code.</p>\n</blockquote>\n<p>Try implementing it based on the instructions above. If there is a problem, post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of your attempt.</p>\n"},{"tags":[],"owner":{"account_id":23863113,"reputation":21907,"user_id":17865804,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642840918,"creation_date":1642840918,"answer_id":70811239,"question_id":70807825,"body_markdown":"Since you are refering to the items in the scrolling area as components, and not as texts in a JTextArea, please have a look at the below.\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import java.util.Random;\r\n    \r\n    public class Mainframe {\r\n    \tprivate JFrame f;\r\n    \tBox box;\r\n    \tJScrollPane scrollPane;\r\n    \tRandom rand = new Random();\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew Mainframe().go();\r\n    \t}\r\n    \r\n    \tprivate void go() {\r\n    \t\tbox = new Box(BoxLayout.Y_AXIS);\r\n    \r\n    \t\tJLabel label = new JLabel(&quot;Possible Paths and Total Distances&quot;);\r\n    \t\tlabel.setForeground(Color.RED);\r\n    \r\n    \t\tfor (int i = 0; i &lt; 200; i++) {\r\n    \t\t\tbox.add(Box.createRigidArea(new Dimension(0, 2)));// creates space between the components\r\n    \t\t\tbox.add(new JLabel(i + &quot; : &quot; + rand.nextInt(10000)));\r\n    \t\t}\r\n    \r\n    \t\tscrollPane = new JScrollPane(box);\r\n    \t\tDimension dim = new Dimension(box.getComponent(0).getPreferredSize());\r\n    \t\tscrollPane.getVerticalScrollBar().setUnitIncrement(dim.height * 2); // adjusts scrolling speed\r\n    \t\t//scrollPane.getViewport().setBackground(Color.WHITE);\r\n    \r\n    \t\tf = new JFrame();\r\n    \t\tf.getContentPane().add(label, BorderLayout.NORTH);\r\n    \t\tf.getContentPane().add(scrollPane, BorderLayout.CENTER);\r\n    \t\tf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tf.setSize(640, 480);\r\n    \t\tf.setLocationRelativeTo(null);\r\n    \t\tf.setVisible(true);\r\n    \r\n    \t}\r\n    }","title":"How do I add a scrollbar to a JFrame with setLayout(null)?","body":"<p>Since you are refering to the items in the scrolling area as components, and not as texts in a JTextArea, please have a look at the below.</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport java.util.Random;\n\npublic class Mainframe {\n    private JFrame f;\n    Box box;\n    JScrollPane scrollPane;\n    Random rand = new Random();\n\n    public static void main(String[] args) {\n        new Mainframe().go();\n    }\n\n    private void go() {\n        box = new Box(BoxLayout.Y_AXIS);\n\n        JLabel label = new JLabel(&quot;Possible Paths and Total Distances&quot;);\n        label.setForeground(Color.RED);\n\n        for (int i = 0; i &lt; 200; i++) {\n            box.add(Box.createRigidArea(new Dimension(0, 2)));// creates space between the components\n            box.add(new JLabel(i + &quot; : &quot; + rand.nextInt(10000)));\n        }\n\n        scrollPane = new JScrollPane(box);\n        Dimension dim = new Dimension(box.getComponent(0).getPreferredSize());\n        scrollPane.getVerticalScrollBar().setUnitIncrement(dim.height * 2); // adjusts scrolling speed\n        //scrollPane.getViewport().setBackground(Color.WHITE);\n\n        f = new JFrame();\n        f.getContentPane().add(label, BorderLayout.NORTH);\n        f.getContentPane().add(scrollPane, BorderLayout.CENTER);\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.setSize(640, 480);\n        f.setLocationRelativeTo(null);\n        f.setVisible(true);\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23769216,"reputation":21,"user_id":17783528,"display_name":"MindHunter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1642840918,"creation_date":1642800593,"question_id":70807825,"body_markdown":"I have some components which I need to use `setBounds()` on, hence the reason why I&#39;m using the `setLayout(null)`.\r\n\r\nBut some of my components are out the window(below the Y-axis). I was wondering if there is a way to add a scrollbar to navigate down the window so as to see all the remaining components. A screenshot of my window is below. \r\n\r\nOutput of my window image:\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/tnzmg.png&quot;&gt;","title":"How do I add a scrollbar to a JFrame with setLayout(null)?","body":"<p>I have some components which I need to use <code>setBounds()</code> on, hence the reason why I'm using the <code>setLayout(null)</code>.</p>\n<p>But some of my components are out the window(below the Y-axis). I was wondering if there is a way to add a scrollbar to navigate down the window so as to see all the remaining components. A screenshot of my window is below.</p>\n<p>Output of my window image:</p>\n<img src=\"https://i.stack.imgur.com/tnzmg.png\">\n"},{"tags":["java","android","exoplayer"],"comments":[{"owner":{"account_id":7524459,"reputation":1433,"user_id":6224662,"accept_rate":71,"display_name":"fireball.1"},"score":0,"creation_date":1590930412,"post_id":62045453,"comment_id":109861252,"body_markdown":"can the whole code be accessed from some repo so I can see the logs by running on my machine ?","body":"can the whole code be accessed from some repo so I can see the logs by running on my machine ?"},{"owner":{"account_id":4745410,"reputation":971,"user_id":3836908,"accept_rate":98,"display_name":"sanoj lawrence"},"score":0,"creation_date":1590938634,"post_id":62045453,"comment_id":109864158,"body_markdown":"@fireball.1 i have added in above question, its just `onTouchEvent`","body":"@fireball.1 i have added in above question, its just <code>onTouchEvent</code>"},{"owner":{"account_id":8057643,"reputation":4920,"user_id":6074224,"accept_rate":60,"display_name":"Biscuit"},"score":0,"creation_date":1590999472,"post_id":62045453,"comment_id":109880875,"body_markdown":"Yeah but your `onTouchEvent` is quite heavy","body":"Yeah but your <code>onTouchEvent</code> is quite heavy"},{"owner":{"account_id":4745410,"reputation":971,"user_id":3836908,"accept_rate":98,"display_name":"sanoj lawrence"},"score":0,"creation_date":1591010272,"post_id":62045453,"comment_id":109885541,"body_markdown":"@Biscuit so what should i do ?","body":"@Biscuit so what should i do ?"},{"owner":{"account_id":8057643,"reputation":4920,"user_id":6074224,"accept_rate":60,"display_name":"Biscuit"},"score":0,"creation_date":1591010762,"post_id":62045453,"comment_id":109885723,"body_markdown":"A logcat would be nice, when you test it out on real phone or emulator you have logcat. or simply a github repo for an example that we could use","body":"A logcat would be nice, when you test it out on real phone or emulator you have logcat. or simply a github repo for an example that we could use"}],"answers":[{"tags":[],"owner":{"account_id":4745410,"reputation":971,"user_id":3836908,"accept_rate":98,"display_name":"sanoj lawrence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642840025,"creation_date":1642840025,"answer_id":70811159,"question_id":62045453,"body_markdown":"to control brightness and volume by touch i managed to find https://github.com/moneytoo/Player which let me to do the function with more feature and uses the `exoplayer` library \r\n\r\nand easy to build as same as exoplayer.","title":"Unable to control volume and brightness of exoplayer","body":"<p>to control brightness and volume by touch i managed to find <a href=\"https://github.com/moneytoo/Player\" rel=\"nofollow noreferrer\">https://github.com/moneytoo/Player</a> which let me to do the function with more feature and uses the <code>exoplayer</code> library</p>\n<p>and easy to build as same as exoplayer.</p>\n"}],"owner":{"account_id":4745410,"reputation":971,"user_id":3836908,"accept_rate":98,"display_name":"sanoj lawrence"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2062,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70811159,"answer_count":1,"score":5,"last_activity_date":1642840025,"creation_date":1590589399,"question_id":62045453,"body_markdown":"With help of some question i managed to add volume and brightness control to my video player with `onTouchEvent` method. But when i swipe up or down my app close(it Restarts). Any help on my code why am not able to control volume and brightness using onTouchEvent.\r\n\r\nHere is my code:\r\n\r\n    @Override\r\n        public boolean onTouchEvent(MotionEvent event) {\r\n            switch (event.getAction()){\r\n                case MotionEvent.ACTION_DOWN:\r\n                    tested_ok=false;\r\n                    if (event.getX() &lt; (sWidth / 2)) {\r\n                        intLeft = true;\r\n                        intRight = false;\r\n                    } else if (event.getX() &gt; (sWidth / 2)) {\r\n                        intLeft = false;\r\n                        intRight = true;\r\n                    }\r\n                    int upperLimit = (sHeight / 4) + 100;\r\n                    int lowerLimit = ((sHeight / 4) * 3) - 150;\r\n                    if (event.getY() &lt; upperLimit) {\r\n                        intBottom = false;\r\n                        intTop = true;\r\n                    } else if (event.getY() &gt; lowerLimit) {\r\n                        intBottom = true;\r\n                        intTop = false;\r\n                    } else {\r\n                        intBottom = false;\r\n                        intTop = false;\r\n                    }\r\n                    seekSpeed = (TimeUnit.MILLISECONDS.toSeconds(exoPlayer.getDuration()) * 0.1);\r\n                    diffX = 0;\r\n                    calculatedTime = 0;\r\n                    seekDur = String.format(&quot;%02d:%02d&quot;, TimeUnit.MILLISECONDS.toMinutes(diffX) - TimeUnit.HOURS.toMinutes(TimeUnit.MILLISECONDS.toHours(diffX)),\r\n    \t\t\t\tTimeUnit.MILLISECONDS.toSeconds(diffX) - TimeUnit.MINUTES.toSeconds(TimeUnit.MILLISECONDS.toMinutes(diffX)));\r\n    \r\n                    //TOUCH STARTED\r\n                    baseX = event.getX();\r\n                    baseY = event.getY();\r\n                    break;\r\n                case MotionEvent.ACTION_MOVE:\r\n                    screen_swipe_move=true;\r\n                        root.setVisibility(View.GONE);\r\n                        diffX = (long) (Math.ceil(event.getX() - baseX));\r\n                        diffY = (long) Math.ceil(event.getY() - baseY);\r\n                        double brightnessSpeed = 0.05;\r\n                        if (Math.abs(diffY) &gt; MIN_DISTANCE) {\r\n                            tested_ok = true;\r\n                        }\r\n                        if (Math.abs(diffY) &gt; Math.abs(diffX)) {\r\n                            if (intLeft) {\r\n                                cResolver = getContentResolver();\r\n                                window = getWindow();\r\n                                try {\r\n                                    Settings.System.putInt(cResolver, Settings.System.SCREEN_BRIGHTNESS_MODE, Settings.System.SCREEN_BRIGHTNESS_MODE_MANUAL);\r\n                                    brightness = Settings.System.getInt(cResolver, Settings.System.SCREEN_BRIGHTNESS);\r\n                                } catch (Settings.SettingNotFoundException e) {\r\n                                    e.printStackTrace();\r\n                                }\r\n                                int new_brightness = (int) (brightness - (diffY * brightnessSpeed));\r\n                                if (new_brightness &gt; 250) {\r\n                                    new_brightness = 250;\r\n                                } else if (new_brightness &lt; 1) {\r\n                                    new_brightness = 1;\r\n                                }\r\n                                double brightPerc = Math.ceil((((double) new_brightness / (double) 250) * (double) 100));\r\n                                brightnessBarContainer.setVisibility(View.VISIBLE);\r\n                                brightness_center_text.setVisibility(View.VISIBLE);\r\n                                brightnessBar.setProgress((int) brightPerc);\r\n                                \r\n                                brigtness_perc_center_text.setText(&quot; &quot; + (int) brightPerc);\r\n                                Settings.System.putInt(cResolver, Settings.System.SCREEN_BRIGHTNESS, (new_brightness));\r\n                                WindowManager.LayoutParams layoutpars = window.getAttributes();\r\n                                layoutpars.screenBrightness = brightness / (float) 255;\r\n                                window.setAttributes(layoutpars);\r\n                            }else if (intRight) {\r\n                                vol_center_text.setVisibility(View.VISIBLE);\r\n                                mediavolume = audioManager.getStreamVolume(AudioManager.STREAM_MUSIC);\r\n                                int maxVol = audioManager.getStreamMaxVolume(AudioManager.STREAM_MUSIC);\r\n                                double cal = (double) diffY * ((double)maxVol/(double)(device_height*4));\r\n                                int newMediaVolume = mediavolume - (int) cal;\r\n                                if (newMediaVolume &gt; maxVol) {\r\n                                    newMediaVolume = maxVol;\r\n                                } else if (newMediaVolume &lt; 1) {\r\n                                    newMediaVolume = 0;\r\n                                }\r\n                                audioManager.setStreamVolume(AudioManager.STREAM_MUSIC, newMediaVolume, AudioManager.FLAG_REMOVE_SOUND_AND_VIBRATE);\r\n                                double volPerc = Math.ceil((((double) newMediaVolume / (double) maxVol) * (double) 100));\r\n                                vol_perc_center_text.setText(&quot; &quot; + (int) volPerc);\r\n                                \r\n                                volumeBarContainer.setVisibility(View.VISIBLE);\r\n                                volumeBar.setProgress((int) volPerc);\r\n                            }\r\n                        }else if (Math.abs(diffX) &gt; Math.abs(diffY)) {\r\n                            if (Math.abs(diffX) &gt; (MIN_DISTANCE + 100)) {\r\n                                \r\n                            }\r\n                        }\r\n                    break;\r\n                case MotionEvent.ACTION_CANCEL:\r\n                case MotionEvent.ACTION_UP:\r\n                    screen_swipe_move=false;\r\n                    tested_ok = false;\r\n    \r\n                    seekBar_center_text.setVisibility(View.GONE);\r\n                    brightness_center_text.setVisibility(View.GONE);\r\n                    vol_center_text.setVisibility(View.GONE);\r\n                    brightnessBarContainer.setVisibility(View.GONE);\r\n                    volumeBarContainer.setVisibility(View.GONE);\r\n                    onlySeekbar.setVisibility(View.VISIBLE);\r\n                    root.setVisibility(View.VISIBLE);\r\n                    calculatedTime = (int) (exoPlayer.getCurrentPosition() + (calculatedTime));\r\n                    exoPlayer.seekTo(calculatedTime);\r\n                    break;\r\n    \r\n            }\r\n            return super.onTouchEvent(event);\r\n        }\r\n\r\nFYI: i can&#39;t make Log since i don&#39;t have emulator. your help would be more helpful thanks in advance.\r\n\r\nEdit: when i swipe down on volume it move to zero, it doesn&#39;t reduce slowly and only the volume down works.\r\n\r\nHere is complete code of `VideoPlayerActivity.java`\r\n\r\n    package com.sanoj.jlplayer.Activities;\r\n    \r\n    \r\n    \r\n    public class VideoPlayerActivity extends AppCompatActivity {\r\n    \r\n        Uri videoUri;\r\n        @BindView(R.id.playerView) PlayerView playerView;\r\n        @BindView(R.id.floating_widget) ImageView imageView;\r\n        @BindView(R.id.exoFullscreenIcon) ImageView imageView1;\r\n        @BindView(R.id.vol_perc_center_text) TextView vol_perc_center_text;\r\n        @BindView(R.id.brigtness_perc_center_text) TextView brigtness_perc_center_text;\r\n        @BindView(R.id.volume_slider) ProgressBar volumeBar;\r\n        @BindView(R.id.brightness_slider) ProgressBar brightnessBar;\r\n        @BindView(R.id.volume_slider_container) LinearLayout volumeBarContainer;\r\n        @BindView(R.id.brightness_slider_container) LinearLayout brightnessBarContainer;\r\n        @BindView(R.id.brightness_center_text) LinearLayout brightness_center_text;\r\n        @BindView(R.id.vol_center_text) LinearLayout vol_center_text;\r\n        @BindView(R.id.volIcon) ImageView volIcon;\r\n        @BindView(R.id.brightnessIcon) ImageView brightnessIcon;\r\n        @BindView(R.id.vol_image) ImageView vol_image;\r\n        @BindView(R.id.brightness_image) ImageView brightness_image;\r\n    \r\n        boolean fullscreen = false;\r\n    \r\n        ExoPlayer exoPlayer;\r\n        ExtractorsFactory extractorsFactory;\r\n    \r\n        int sWidth,sHeight;\r\n        float baseX, baseY;\r\n        long diffX, diffY;\r\n        int calculatedTime;\r\n        String seekDur;\r\n        Boolean tested_ok = false;\r\n        Boolean screen_swipe_move = false;\r\n        boolean immersiveMode, intLeft, intRight, intTop, intBottom, finLeft, finRight, finTop, finBottom;\r\n        static final int MIN_DISTANCE = 150;\r\n        ContentResolver cResolver;\r\n        Window window;\r\n        TextView txt_seek_secs,txt_seek_currTime;\r\n        int brightness, mediavolume,device_height,device_width;\r\n        AudioManager audioManager;\r\n        double seekSpeed = 0;\r\n        LinearLayout root, seekBar_center_text, onlySeekbar;\r\n        Point size;\r\n        Display display;\r\n    \r\n        SeekBar seekBar;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_video_player);\r\n    \r\n            ButterKnife.bind(this);\r\n            Intent intent = getIntent();\r\n    \r\n            //audio and brightness\r\n    \r\n    \r\n            audioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);\r\n    \r\n            display = getWindowManager().getDefaultDisplay();\r\n            size = new Point();\r\n            display.getSize(size);\r\n            sWidth = size.x;\r\n            sHeight = size.y;\r\n    \r\n            if (intent!=null){\r\n                String uri_str = intent.getStringExtra(&quot;videoUri&quot;);\r\n                videoUri = Uri.parse(uri_str);\r\n            }\r\n    \r\n            imageView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    exoPlayer.setPlayWhenReady(false);\r\n                    exoPlayer.release();\r\n                    Intent serviceIntent = new Intent(VideoPlayerActivity.this,FloatingWidgetService.class);\r\n                    serviceIntent.putExtra(&quot;videoUri&quot;,videoUri.toString());\r\n                    startService(serviceIntent);\r\n                }\r\n            });\r\n    \r\n    \r\n            BandwidthMeter bandwidthMeter = new DefaultBandwidthMeter();\r\n    \r\n            TrackSelector trackSelector = new DefaultTrackSelector(new AdaptiveTrackSelection.Factory(bandwidthMeter));\r\n            exoPlayer = ExoPlayerFactory.newSimpleInstance(this,trackSelector);\r\n            extractorsFactory = new DefaultExtractorsFactory();\r\n            playVideo();\r\n    \r\n        }\r\n    \r\n    \r\n        private void playVideo() {\r\n            try {\r\n                String playerInfo = Util.getUserAgent(this,&quot;VideoPlayer&quot;);\r\n                DefaultDataSourceFactory dataSourceFactory = new DefaultDataSourceFactory(this,playerInfo);\r\n    \r\n                MediaSource mediaSource = new ExtractorMediaSource(videoUri,dataSourceFactory,extractorsFactory,null,null);\r\n    \r\n                playerView.setPlayer(exoPlayer);\r\n                exoPlayer.prepare(mediaSource);\r\n                exoPlayer.setPlayWhenReady(true);\r\n            }catch (Exception e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void onPause() {\r\n            super.onPause();\r\n            exoPlayer.setPlayWhenReady(false);\r\n        }\r\n    \r\n        @Override\r\n        public void onBackPressed() {\r\n            super.onBackPressed();\r\n            exoPlayer.setPlayWhenReady(false);\r\n            exoPlayer.release();\r\n        }\r\n    \r\n        @Override\r\n        public boolean onTouchEvent(MotionEvent event) {\r\n            switch (event.getAction()){\r\n                case MotionEvent.ACTION_DOWN:\r\n                    tested_ok=false;\r\n                    if (event.getX() &lt; (sWidth / 2)) {\r\n                        intLeft = true;\r\n                        intRight = false;\r\n                    } else if (event.getX() &gt; (sWidth / 2)) {\r\n                        intLeft = false;\r\n                        intRight = true;\r\n                    }\r\n                    int upperLimit = (sHeight / 4) + 100;\r\n                    int lowerLimit = ((sHeight / 4) * 3) - 150;\r\n                    if (event.getY() &lt; upperLimit) {\r\n                        intBottom = false;\r\n                        intTop = true;\r\n                    } else if (event.getY() &gt; lowerLimit) {\r\n                        intBottom = true;\r\n                        intTop = false;\r\n                    } else {\r\n                        intBottom = false;\r\n                        intTop = false;\r\n                    }\r\n                    seekSpeed = (TimeUnit.MILLISECONDS.toSeconds(exoPlayer.getDuration()) * 0.1);\r\n                    diffX = 0;\r\n                    calculatedTime = 0;\r\n                    seekDur = String.format(&quot;%02d:%02d&quot;,\r\n                            TimeUnit.MILLISECONDS.toMinutes(diffX) -\r\n                                    TimeUnit.HOURS.toMinutes(TimeUnit.MILLISECONDS.toHours(diffX)),\r\n                            TimeUnit.MILLISECONDS.toSeconds(diffX) -\r\n                                    TimeUnit.MINUTES.toSeconds(TimeUnit.MILLISECONDS.toMinutes(diffX)));\r\n    \r\n                    //TOUCH STARTED\r\n                    baseX = event.getX();\r\n                    baseY = event.getY();\r\n                    break;\r\n                case MotionEvent.ACTION_MOVE:\r\n                    screen_swipe_move=true;\r\n                        root.setVisibility(View.GONE);\r\n                        diffX = (long) (Math.ceil(event.getX() - baseX));\r\n                        diffY = (long) Math.ceil(event.getY() - baseY);\r\n                        double brightnessSpeed = 0.05;\r\n                        if (Math.abs(diffY) &gt; MIN_DISTANCE) {\r\n                            tested_ok = true;\r\n                        }\r\n                        if (Math.abs(diffY) &gt; Math.abs(diffX)) {\r\n                            if (intLeft) {\r\n                                cResolver = getContentResolver();\r\n                                window = getWindow();\r\n                                try {\r\n                                    Settings.System.putInt(cResolver, Settings.System.SCREEN_BRIGHTNESS_MODE, Settings.System.SCREEN_BRIGHTNESS_MODE_MANUAL);\r\n                                    brightness = Settings.System.getInt(cResolver, Settings.System.SCREEN_BRIGHTNESS);\r\n                                } catch (Settings.SettingNotFoundException e) {\r\n                                    e.printStackTrace();\r\n                                }\r\n                                int new_brightness = (int) (brightness - (diffY * brightnessSpeed));\r\n                                if (new_brightness &gt; 250) {\r\n                                    new_brightness = 250;\r\n                                } else if (new_brightness &lt; 1) {\r\n                                    new_brightness = 1;\r\n                                }\r\n                                double brightPerc = Math.ceil((((double) new_brightness / (double) 250) * (double) 100));\r\n                                brightnessBarContainer.setVisibility(View.VISIBLE);\r\n                                brightness_center_text.setVisibility(View.VISIBLE);\r\n                                brightnessBar.setProgress((int) brightPerc);\r\n                                if (brightPerc &lt; 30) {\r\n                                    brightnessIcon.setImageResource(R.drawable.ic_bright_min);\r\n                                    brightness_image.setImageResource(R.drawable.ic_bright_min);\r\n                                } else if (brightPerc &gt; 30 &amp;&amp; brightPerc &lt; 80) {\r\n                                    brightnessIcon.setImageResource(R.drawable.ic_bright_med);\r\n                                    brightness_image.setImageResource(R.drawable.ic_bright_med);\r\n                                } else if (brightPerc &gt; 80) {\r\n                                    brightnessIcon.setImageResource(R.drawable.ic_bright_max);\r\n                                    brightness_image.setImageResource(R.drawable.ic_bright_max);\r\n                                }\r\n                                brigtness_perc_center_text.setText(&quot; &quot; + (int) brightPerc);\r\n                                Settings.System.putInt(cResolver, Settings.System.SCREEN_BRIGHTNESS, (new_brightness));\r\n                                WindowManager.LayoutParams layoutpars = window.getAttributes();\r\n                                layoutpars.screenBrightness = brightness / (float) 255;\r\n                                window.setAttributes(layoutpars);\r\n                            }else if (intRight) {\r\n                                vol_center_text.setVisibility(View.VISIBLE);\r\n                                mediavolume = audioManager.getStreamVolume(AudioManager.STREAM_MUSIC);\r\n                                int maxVol = audioManager.getStreamMaxVolume(AudioManager.STREAM_MUSIC);\r\n                                double cal = (double) diffY * ((double)maxVol/(double)(device_height*4));\r\n                                int newMediaVolume = mediavolume - (int) cal;\r\n                                if (newMediaVolume &gt; maxVol) {\r\n                                    newMediaVolume = maxVol;\r\n                                } else if (newMediaVolume &lt; 1) {\r\n                                    newMediaVolume = 0;\r\n                                }\r\n                                audioManager.setStreamVolume(AudioManager.STREAM_MUSIC, newMediaVolume, AudioManager.FLAG_REMOVE_SOUND_AND_VIBRATE);\r\n                                double volPerc = Math.ceil((((double) newMediaVolume / (double) maxVol) * (double) 100));\r\n                                vol_perc_center_text.setText(&quot; &quot; + (int) volPerc);\r\n                                if (volPerc &lt; 1) {\r\n                                    volIcon.setImageResource(R.drawable.ic_volume_mute);\r\n                                    vol_image.setImageResource(R.drawable.ic_volume_mute);\r\n                                    vol_perc_center_text.setVisibility(View.GONE);\r\n                                } else if (volPerc &gt;= 1) {\r\n                                    volIcon.setImageResource(R.drawable.ic_volume);\r\n                                    vol_image.setImageResource(R.drawable.ic_volume);\r\n                                    vol_perc_center_text.setVisibility(View.VISIBLE);\r\n                                }\r\n                                volumeBarContainer.setVisibility(View.VISIBLE);\r\n                                volumeBar.setProgress((int) volPerc);\r\n                            }\r\n                        }else if (Math.abs(diffX) &gt; Math.abs(diffY)) {\r\n                            if (Math.abs(diffX) &gt; (MIN_DISTANCE + 100)) {\r\n                                tested_ok = true;\r\n                                root.setVisibility(View.VISIBLE);\r\n                                seekBar_center_text.setVisibility(View.VISIBLE);\r\n                                onlySeekbar.setVisibility(View.VISIBLE);\r\n                                (exoPlayer.getCurrentPosition() + (calculatedTime)));\r\n                            }\r\n                        }\r\n                    break;\r\n                case MotionEvent.ACTION_CANCEL:\r\n                case MotionEvent.ACTION_UP:\r\n                    screen_swipe_move=false;\r\n                    tested_ok = false;\r\n    \r\n                    seekBar_center_text.setVisibility(View.GONE);\r\n                    brightness_center_text.setVisibility(View.GONE);\r\n                    vol_center_text.setVisibility(View.GONE);\r\n                    brightnessBarContainer.setVisibility(View.GONE);\r\n                    volumeBarContainer.setVisibility(View.GONE);\r\n                    onlySeekbar.setVisibility(View.VISIBLE);\r\n                    root.setVisibility(View.VISIBLE);\r\n                    calculatedTime = (int) (exoPlayer.getCurrentPosition() + (calculatedTime));\r\n                    exoPlayer.seekTo(calculatedTime);\r\n                    break;\r\n    \r\n            }\r\n            return super.onTouchEvent(event);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Unable to control volume and brightness of exoplayer","body":"<p>With help of some question i managed to add volume and brightness control to my video player with <code>onTouchEvent</code> method. But when i swipe up or down my app close(it Restarts). Any help on my code why am not able to control volume and brightness using onTouchEvent.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>@Override\n    public boolean onTouchEvent(MotionEvent event) {\n        switch (event.getAction()){\n            case MotionEvent.ACTION_DOWN:\n                tested_ok=false;\n                if (event.getX() &lt; (sWidth / 2)) {\n                    intLeft = true;\n                    intRight = false;\n                } else if (event.getX() &gt; (sWidth / 2)) {\n                    intLeft = false;\n                    intRight = true;\n                }\n                int upperLimit = (sHeight / 4) + 100;\n                int lowerLimit = ((sHeight / 4) * 3) - 150;\n                if (event.getY() &lt; upperLimit) {\n                    intBottom = false;\n                    intTop = true;\n                } else if (event.getY() &gt; lowerLimit) {\n                    intBottom = true;\n                    intTop = false;\n                } else {\n                    intBottom = false;\n                    intTop = false;\n                }\n                seekSpeed = (TimeUnit.MILLISECONDS.toSeconds(exoPlayer.getDuration()) * 0.1);\n                diffX = 0;\n                calculatedTime = 0;\n                seekDur = String.format(\"%02d:%02d\", TimeUnit.MILLISECONDS.toMinutes(diffX) - TimeUnit.HOURS.toMinutes(TimeUnit.MILLISECONDS.toHours(diffX)),\n                TimeUnit.MILLISECONDS.toSeconds(diffX) - TimeUnit.MINUTES.toSeconds(TimeUnit.MILLISECONDS.toMinutes(diffX)));\n\n                //TOUCH STARTED\n                baseX = event.getX();\n                baseY = event.getY();\n                break;\n            case MotionEvent.ACTION_MOVE:\n                screen_swipe_move=true;\n                    root.setVisibility(View.GONE);\n                    diffX = (long) (Math.ceil(event.getX() - baseX));\n                    diffY = (long) Math.ceil(event.getY() - baseY);\n                    double brightnessSpeed = 0.05;\n                    if (Math.abs(diffY) &gt; MIN_DISTANCE) {\n                        tested_ok = true;\n                    }\n                    if (Math.abs(diffY) &gt; Math.abs(diffX)) {\n                        if (intLeft) {\n                            cResolver = getContentResolver();\n                            window = getWindow();\n                            try {\n                                Settings.System.putInt(cResolver, Settings.System.SCREEN_BRIGHTNESS_MODE, Settings.System.SCREEN_BRIGHTNESS_MODE_MANUAL);\n                                brightness = Settings.System.getInt(cResolver, Settings.System.SCREEN_BRIGHTNESS);\n                            } catch (Settings.SettingNotFoundException e) {\n                                e.printStackTrace();\n                            }\n                            int new_brightness = (int) (brightness - (diffY * brightnessSpeed));\n                            if (new_brightness &gt; 250) {\n                                new_brightness = 250;\n                            } else if (new_brightness &lt; 1) {\n                                new_brightness = 1;\n                            }\n                            double brightPerc = Math.ceil((((double) new_brightness / (double) 250) * (double) 100));\n                            brightnessBarContainer.setVisibility(View.VISIBLE);\n                            brightness_center_text.setVisibility(View.VISIBLE);\n                            brightnessBar.setProgress((int) brightPerc);\n\n                            brigtness_perc_center_text.setText(\" \" + (int) brightPerc);\n                            Settings.System.putInt(cResolver, Settings.System.SCREEN_BRIGHTNESS, (new_brightness));\n                            WindowManager.LayoutParams layoutpars = window.getAttributes();\n                            layoutpars.screenBrightness = brightness / (float) 255;\n                            window.setAttributes(layoutpars);\n                        }else if (intRight) {\n                            vol_center_text.setVisibility(View.VISIBLE);\n                            mediavolume = audioManager.getStreamVolume(AudioManager.STREAM_MUSIC);\n                            int maxVol = audioManager.getStreamMaxVolume(AudioManager.STREAM_MUSIC);\n                            double cal = (double) diffY * ((double)maxVol/(double)(device_height*4));\n                            int newMediaVolume = mediavolume - (int) cal;\n                            if (newMediaVolume &gt; maxVol) {\n                                newMediaVolume = maxVol;\n                            } else if (newMediaVolume &lt; 1) {\n                                newMediaVolume = 0;\n                            }\n                            audioManager.setStreamVolume(AudioManager.STREAM_MUSIC, newMediaVolume, AudioManager.FLAG_REMOVE_SOUND_AND_VIBRATE);\n                            double volPerc = Math.ceil((((double) newMediaVolume / (double) maxVol) * (double) 100));\n                            vol_perc_center_text.setText(\" \" + (int) volPerc);\n\n                            volumeBarContainer.setVisibility(View.VISIBLE);\n                            volumeBar.setProgress((int) volPerc);\n                        }\n                    }else if (Math.abs(diffX) &gt; Math.abs(diffY)) {\n                        if (Math.abs(diffX) &gt; (MIN_DISTANCE + 100)) {\n\n                        }\n                    }\n                break;\n            case MotionEvent.ACTION_CANCEL:\n            case MotionEvent.ACTION_UP:\n                screen_swipe_move=false;\n                tested_ok = false;\n\n                seekBar_center_text.setVisibility(View.GONE);\n                brightness_center_text.setVisibility(View.GONE);\n                vol_center_text.setVisibility(View.GONE);\n                brightnessBarContainer.setVisibility(View.GONE);\n                volumeBarContainer.setVisibility(View.GONE);\n                onlySeekbar.setVisibility(View.VISIBLE);\n                root.setVisibility(View.VISIBLE);\n                calculatedTime = (int) (exoPlayer.getCurrentPosition() + (calculatedTime));\n                exoPlayer.seekTo(calculatedTime);\n                break;\n\n        }\n        return super.onTouchEvent(event);\n    }\n</code></pre>\n\n<p>FYI: i can't make Log since i don't have emulator. your help would be more helpful thanks in advance.</p>\n\n<p>Edit: when i swipe down on volume it move to zero, it doesn't reduce slowly and only the volume down works.</p>\n\n<p>Here is complete code of <code>VideoPlayerActivity.java</code></p>\n\n<pre><code>package com.sanoj.jlplayer.Activities;\n\n\n\npublic class VideoPlayerActivity extends AppCompatActivity {\n\n    Uri videoUri;\n    @BindView(R.id.playerView) PlayerView playerView;\n    @BindView(R.id.floating_widget) ImageView imageView;\n    @BindView(R.id.exoFullscreenIcon) ImageView imageView1;\n    @BindView(R.id.vol_perc_center_text) TextView vol_perc_center_text;\n    @BindView(R.id.brigtness_perc_center_text) TextView brigtness_perc_center_text;\n    @BindView(R.id.volume_slider) ProgressBar volumeBar;\n    @BindView(R.id.brightness_slider) ProgressBar brightnessBar;\n    @BindView(R.id.volume_slider_container) LinearLayout volumeBarContainer;\n    @BindView(R.id.brightness_slider_container) LinearLayout brightnessBarContainer;\n    @BindView(R.id.brightness_center_text) LinearLayout brightness_center_text;\n    @BindView(R.id.vol_center_text) LinearLayout vol_center_text;\n    @BindView(R.id.volIcon) ImageView volIcon;\n    @BindView(R.id.brightnessIcon) ImageView brightnessIcon;\n    @BindView(R.id.vol_image) ImageView vol_image;\n    @BindView(R.id.brightness_image) ImageView brightness_image;\n\n    boolean fullscreen = false;\n\n    ExoPlayer exoPlayer;\n    ExtractorsFactory extractorsFactory;\n\n    int sWidth,sHeight;\n    float baseX, baseY;\n    long diffX, diffY;\n    int calculatedTime;\n    String seekDur;\n    Boolean tested_ok = false;\n    Boolean screen_swipe_move = false;\n    boolean immersiveMode, intLeft, intRight, intTop, intBottom, finLeft, finRight, finTop, finBottom;\n    static final int MIN_DISTANCE = 150;\n    ContentResolver cResolver;\n    Window window;\n    TextView txt_seek_secs,txt_seek_currTime;\n    int brightness, mediavolume,device_height,device_width;\n    AudioManager audioManager;\n    double seekSpeed = 0;\n    LinearLayout root, seekBar_center_text, onlySeekbar;\n    Point size;\n    Display display;\n\n    SeekBar seekBar;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_video_player);\n\n        ButterKnife.bind(this);\n        Intent intent = getIntent();\n\n        //audio and brightness\n\n\n        audioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);\n\n        display = getWindowManager().getDefaultDisplay();\n        size = new Point();\n        display.getSize(size);\n        sWidth = size.x;\n        sHeight = size.y;\n\n        if (intent!=null){\n            String uri_str = intent.getStringExtra(\"videoUri\");\n            videoUri = Uri.parse(uri_str);\n        }\n\n        imageView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                exoPlayer.setPlayWhenReady(false);\n                exoPlayer.release();\n                Intent serviceIntent = new Intent(VideoPlayerActivity.this,FloatingWidgetService.class);\n                serviceIntent.putExtra(\"videoUri\",videoUri.toString());\n                startService(serviceIntent);\n            }\n        });\n\n\n        BandwidthMeter bandwidthMeter = new DefaultBandwidthMeter();\n\n        TrackSelector trackSelector = new DefaultTrackSelector(new AdaptiveTrackSelection.Factory(bandwidthMeter));\n        exoPlayer = ExoPlayerFactory.newSimpleInstance(this,trackSelector);\n        extractorsFactory = new DefaultExtractorsFactory();\n        playVideo();\n\n    }\n\n\n    private void playVideo() {\n        try {\n            String playerInfo = Util.getUserAgent(this,\"VideoPlayer\");\n            DefaultDataSourceFactory dataSourceFactory = new DefaultDataSourceFactory(this,playerInfo);\n\n            MediaSource mediaSource = new ExtractorMediaSource(videoUri,dataSourceFactory,extractorsFactory,null,null);\n\n            playerView.setPlayer(exoPlayer);\n            exoPlayer.prepare(mediaSource);\n            exoPlayer.setPlayWhenReady(true);\n        }catch (Exception e){\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        exoPlayer.setPlayWhenReady(false);\n    }\n\n    @Override\n    public void onBackPressed() {\n        super.onBackPressed();\n        exoPlayer.setPlayWhenReady(false);\n        exoPlayer.release();\n    }\n\n    @Override\n    public boolean onTouchEvent(MotionEvent event) {\n        switch (event.getAction()){\n            case MotionEvent.ACTION_DOWN:\n                tested_ok=false;\n                if (event.getX() &lt; (sWidth / 2)) {\n                    intLeft = true;\n                    intRight = false;\n                } else if (event.getX() &gt; (sWidth / 2)) {\n                    intLeft = false;\n                    intRight = true;\n                }\n                int upperLimit = (sHeight / 4) + 100;\n                int lowerLimit = ((sHeight / 4) * 3) - 150;\n                if (event.getY() &lt; upperLimit) {\n                    intBottom = false;\n                    intTop = true;\n                } else if (event.getY() &gt; lowerLimit) {\n                    intBottom = true;\n                    intTop = false;\n                } else {\n                    intBottom = false;\n                    intTop = false;\n                }\n                seekSpeed = (TimeUnit.MILLISECONDS.toSeconds(exoPlayer.getDuration()) * 0.1);\n                diffX = 0;\n                calculatedTime = 0;\n                seekDur = String.format(\"%02d:%02d\",\n                        TimeUnit.MILLISECONDS.toMinutes(diffX) -\n                                TimeUnit.HOURS.toMinutes(TimeUnit.MILLISECONDS.toHours(diffX)),\n                        TimeUnit.MILLISECONDS.toSeconds(diffX) -\n                                TimeUnit.MINUTES.toSeconds(TimeUnit.MILLISECONDS.toMinutes(diffX)));\n\n                //TOUCH STARTED\n                baseX = event.getX();\n                baseY = event.getY();\n                break;\n            case MotionEvent.ACTION_MOVE:\n                screen_swipe_move=true;\n                    root.setVisibility(View.GONE);\n                    diffX = (long) (Math.ceil(event.getX() - baseX));\n                    diffY = (long) Math.ceil(event.getY() - baseY);\n                    double brightnessSpeed = 0.05;\n                    if (Math.abs(diffY) &gt; MIN_DISTANCE) {\n                        tested_ok = true;\n                    }\n                    if (Math.abs(diffY) &gt; Math.abs(diffX)) {\n                        if (intLeft) {\n                            cResolver = getContentResolver();\n                            window = getWindow();\n                            try {\n                                Settings.System.putInt(cResolver, Settings.System.SCREEN_BRIGHTNESS_MODE, Settings.System.SCREEN_BRIGHTNESS_MODE_MANUAL);\n                                brightness = Settings.System.getInt(cResolver, Settings.System.SCREEN_BRIGHTNESS);\n                            } catch (Settings.SettingNotFoundException e) {\n                                e.printStackTrace();\n                            }\n                            int new_brightness = (int) (brightness - (diffY * brightnessSpeed));\n                            if (new_brightness &gt; 250) {\n                                new_brightness = 250;\n                            } else if (new_brightness &lt; 1) {\n                                new_brightness = 1;\n                            }\n                            double brightPerc = Math.ceil((((double) new_brightness / (double) 250) * (double) 100));\n                            brightnessBarContainer.setVisibility(View.VISIBLE);\n                            brightness_center_text.setVisibility(View.VISIBLE);\n                            brightnessBar.setProgress((int) brightPerc);\n                            if (brightPerc &lt; 30) {\n                                brightnessIcon.setImageResource(R.drawable.ic_bright_min);\n                                brightness_image.setImageResource(R.drawable.ic_bright_min);\n                            } else if (brightPerc &gt; 30 &amp;&amp; brightPerc &lt; 80) {\n                                brightnessIcon.setImageResource(R.drawable.ic_bright_med);\n                                brightness_image.setImageResource(R.drawable.ic_bright_med);\n                            } else if (brightPerc &gt; 80) {\n                                brightnessIcon.setImageResource(R.drawable.ic_bright_max);\n                                brightness_image.setImageResource(R.drawable.ic_bright_max);\n                            }\n                            brigtness_perc_center_text.setText(\" \" + (int) brightPerc);\n                            Settings.System.putInt(cResolver, Settings.System.SCREEN_BRIGHTNESS, (new_brightness));\n                            WindowManager.LayoutParams layoutpars = window.getAttributes();\n                            layoutpars.screenBrightness = brightness / (float) 255;\n                            window.setAttributes(layoutpars);\n                        }else if (intRight) {\n                            vol_center_text.setVisibility(View.VISIBLE);\n                            mediavolume = audioManager.getStreamVolume(AudioManager.STREAM_MUSIC);\n                            int maxVol = audioManager.getStreamMaxVolume(AudioManager.STREAM_MUSIC);\n                            double cal = (double) diffY * ((double)maxVol/(double)(device_height*4));\n                            int newMediaVolume = mediavolume - (int) cal;\n                            if (newMediaVolume &gt; maxVol) {\n                                newMediaVolume = maxVol;\n                            } else if (newMediaVolume &lt; 1) {\n                                newMediaVolume = 0;\n                            }\n                            audioManager.setStreamVolume(AudioManager.STREAM_MUSIC, newMediaVolume, AudioManager.FLAG_REMOVE_SOUND_AND_VIBRATE);\n                            double volPerc = Math.ceil((((double) newMediaVolume / (double) maxVol) * (double) 100));\n                            vol_perc_center_text.setText(\" \" + (int) volPerc);\n                            if (volPerc &lt; 1) {\n                                volIcon.setImageResource(R.drawable.ic_volume_mute);\n                                vol_image.setImageResource(R.drawable.ic_volume_mute);\n                                vol_perc_center_text.setVisibility(View.GONE);\n                            } else if (volPerc &gt;= 1) {\n                                volIcon.setImageResource(R.drawable.ic_volume);\n                                vol_image.setImageResource(R.drawable.ic_volume);\n                                vol_perc_center_text.setVisibility(View.VISIBLE);\n                            }\n                            volumeBarContainer.setVisibility(View.VISIBLE);\n                            volumeBar.setProgress((int) volPerc);\n                        }\n                    }else if (Math.abs(diffX) &gt; Math.abs(diffY)) {\n                        if (Math.abs(diffX) &gt; (MIN_DISTANCE + 100)) {\n                            tested_ok = true;\n                            root.setVisibility(View.VISIBLE);\n                            seekBar_center_text.setVisibility(View.VISIBLE);\n                            onlySeekbar.setVisibility(View.VISIBLE);\n                            (exoPlayer.getCurrentPosition() + (calculatedTime)));\n                        }\n                    }\n                break;\n            case MotionEvent.ACTION_CANCEL:\n            case MotionEvent.ACTION_UP:\n                screen_swipe_move=false;\n                tested_ok = false;\n\n                seekBar_center_text.setVisibility(View.GONE);\n                brightness_center_text.setVisibility(View.GONE);\n                vol_center_text.setVisibility(View.GONE);\n                brightnessBarContainer.setVisibility(View.GONE);\n                volumeBarContainer.setVisibility(View.GONE);\n                onlySeekbar.setVisibility(View.VISIBLE);\n                root.setVisibility(View.VISIBLE);\n                calculatedTime = (int) (exoPlayer.getCurrentPosition() + (calculatedTime));\n                exoPlayer.seekTo(calculatedTime);\n                break;\n\n        }\n        return super.onTouchEvent(event);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","selenium","pageobjects","selenide"],"answers":[{"tags":[],"owner":{"account_id":23678431,"reputation":78,"user_id":17704327,"display_name":"Muhammad Farooq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642819021,"creation_date":1642819021,"answer_id":70809600,"question_id":70808873,"body_markdown":"No, it&#39;s not a good practice to follow in the case of locators, and also as you mentioned you use POM so it&#39;s important to make them public and move to base locator class if same locator is needed on multiple pages.","title":"Private static final WebElement in Page Object Model","body":"<p>No, it's not a good practice to follow in the case of locators, and also as you mentioned you use POM so it's important to make them public and move to base locator class if same locator is needed on multiple pages.</p>\n"},{"tags":[],"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642840013,"creation_date":1642840013,"answer_id":70811155,"question_id":70808873,"body_markdown":"You won&#39;t get any advantages, using static for element fields.\r\n\r\nIf you look for examples and tutorials, you won&#39;t meet such implementations.\r\n\r\nThis is POM approach recommend by Selenide:\r\n\r\nhttps://selenide.gitbooks.io/user-guide/content/en/pageobjects.html\r\n\r\n---\r\nYou might think about making everything static, not only element fields. Someone likes such kind of stateless implementation, but I believe it&#39;s used by a few people and not really popular. There is no articles like &quot;Guys, use static POM, it&#39;s much better&quot;.","title":"Private static final WebElement in Page Object Model","body":"<p>You won't get any advantages, using static for element fields.</p>\n<p>If you look for examples and tutorials, you won't meet such implementations.</p>\n<p>This is POM approach recommend by Selenide:</p>\n<p><a href=\"https://selenide.gitbooks.io/user-guide/content/en/pageobjects.html\" rel=\"nofollow noreferrer\">https://selenide.gitbooks.io/user-guide/content/en/pageobjects.html</a></p>\n<hr />\n<p>You might think about making everything static, not only element fields. Someone likes such kind of stateless implementation, but I believe it's used by a few people and not really popular. There is no articles like &quot;Guys, use static POM, it's much better&quot;.</p>\n"}],"owner":{"account_id":24014944,"reputation":15,"user_id":17998021,"display_name":"anoname"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70811155,"answer_count":2,"score":0,"last_activity_date":1642840013,"creation_date":1642809648,"question_id":70808873,"body_markdown":"I wonder if it is good practice to use a private static final for web elements, and then issue a getter for this web element\r\n\r\nexample LoginPage:\r\n\r\n\r\n\r\n    private static final SelenideElement LOGIN_BUTTON = $(By.xpath(&quot;XPath&quot;));\r\n\r\nAnd getter for loginButton...\r\n\r\nSo is this a good practice?\r\n\r\n","title":"Private static final WebElement in Page Object Model","body":"<p>I wonder if it is good practice to use a private static final for web elements, and then issue a getter for this web element</p>\n<p>example LoginPage:</p>\n<pre><code>private static final SelenideElement LOGIN_BUTTON = $(By.xpath(&quot;XPath&quot;));\n</code></pre>\n<p>And getter for loginButton...</p>\n<p>So is this a good practice?</p>\n"},{"tags":["java","android","mediastore"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1598555224,"post_id":63622553,"comment_id":112505269,"body_markdown":"Environment.getExternalStorageDirectory().getAbsolutePath() value on most Android devices is `/storage/emulated/0`. All systems ok.","body":"Environment.getExternalStorageDirectory().getAbsolutePath() value on most Android devices is <code>&#47;storage&#47;emulated&#47;0</code>. All systems ok."},{"owner":{"account_id":4745410,"reputation":971,"user_id":3836908,"accept_rate":98,"display_name":"sanoj lawrence"},"score":0,"creation_date":1598555393,"post_id":63622553,"comment_id":112505342,"body_markdown":"But I want eliminat the `0` I don&#39;t want to list it. How can it be done","body":"But I want eliminat the <code>0</code> I don&#39;t want to list it. How can it be done"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1598555722,"post_id":63622553,"comment_id":112505505,"body_markdown":"The Camera folder in your recycleview is /storage/emulated/0/DCIM/Camera.","body":"The Camera folder in your recycleview is /storage/emulated/0/DCIM/Camera."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1598555804,"post_id":63622553,"comment_id":112505548,"body_markdown":"Then remove it from the list. But you will loose the video files who reside there. Why are they not important? Or do not add &quot;0&quot; to the list. Easy to check","body":"Then remove it from the list. But you will loose the video files who reside there. Why are they not important? Or do not add &quot;0&quot; to the list. Easy to check"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1598556073,"post_id":63622553,"comment_id":112505655,"body_markdown":"Your code will not work for Android Q and R so its time to program something new.","body":"Your code will not work for Android Q and R so its time to program something new."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1598556862,"post_id":63622553,"comment_id":112505963,"body_markdown":"`Unable to list parent directory from file path` I do not understand the subject. There is nothing in your post describing such a problem.","body":"<code>Unable to list parent directory from file path</code> I do not understand the subject. There is nothing in your post describing such a problem."},{"owner":{"account_id":4745410,"reputation":971,"user_id":3836908,"accept_rate":98,"display_name":"sanoj lawrence"},"score":0,"creation_date":1598557415,"post_id":63622553,"comment_id":112506202,"body_markdown":"@backapps the only reason I want to eliminate is the files inside camera folder are also listed inside `0`","body":"@backapps the only reason I want to eliminate is the files inside camera folder are also listed inside <code>0</code>"}],"answers":[{"tags":[],"owner":{"account_id":4745410,"reputation":971,"user_id":3836908,"accept_rate":98,"display_name":"sanoj lawrence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642839840,"creation_date":1642839840,"answer_id":70811140,"question_id":63622553,"body_markdown":"as per @blackapps comment `Environment.getExternalStorageDirectory().getAbsolutePath() value on most Android devices is /storage/emulated/0`\r\n\r\nand when i checked my device storage and everthing was fine and the file is stored in internal storage location","title":"Unable to list parent directory from file path","body":"<p>as per @blackapps comment <code>Environment.getExternalStorageDirectory().getAbsolutePath() value on most Android devices is /storage/emulated/0</code></p>\n<p>and when i checked my device storage and everthing was fine and the file is stored in internal storage location</p>\n"}],"owner":{"account_id":4745410,"reputation":971,"user_id":3836908,"accept_rate":98,"display_name":"sanoj lawrence"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70811140,"answer_count":1,"score":0,"last_activity_date":1642839840,"creation_date":1598554672,"question_id":63622553,"body_markdown":"In my code am trying to collect all video file in list and warp it inside there parent directory and display it inside `recycler view`, And while displaying i get a folder name `0` i don&#39;t understand where the `0` folder comes from.\r\n\r\nAnd the `0` folder list all files inside my storage, And those file are perfectly warped inside their respective folder.\r\n\r\n&gt; and here is a screen shot of the folder zero.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**code**\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        foldersList = new ArrayList&lt;&gt;();\r\n        folderpath = new ArrayList&lt;&gt;();\r\n\r\n        recyclerView = findViewById(R.id.recyclerView);\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        parseAllVideo();\r\n        getUniqueFolders();\r\n        adapter = new FolderAdapter(this, foldersList);\r\n        recyclerView.setAdapter(adapter);\r\n        adapter.notifyDataSetChanged();\r\n\r\n    }\r\n\r\n    private void parseAllVideo() {\r\n        try {\r\n            String[] proj = {\r\n                    MediaStore.Video.Media._ID,\r\n                    MediaStore.Video.Media.DATA};\r\n\r\n            Cursor videocursor = this.getContentResolver().query(MediaStore.Video.Media.EXTERNAL_CONTENT_URI, proj, null, null, null);\r\n            if (videocursor != null) {\r\n                if (videocursor.moveToFirst()) {\r\n                    int path_index = videocursor.getColumnIndexOrThrow(MediaStore.Video.Media.DATA);\r\n                    do {\r\n                        String filepath = videocursor.getString(path_index);\r\n                        String folder_path = MyUtils.getParentDirPath(filepath);\r\n                        File file = new File(filepath);\r\n                        if (file.exists()) {\r\n\r\n                        }\r\n                        folderpath.add(folder_path);\r\n                    } while (videocursor.moveToNext());\r\n                }\r\n                videocursor.close();\r\n            }\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void getUniqueFolders() {\r\n        List&lt;String&gt; newList = new ArrayList&lt;&gt;(new HashSet&lt;&gt;(folderpath));\r\n        Collections.sort(newList);\r\n        for (int i = 0; i &lt; newList.size(); i++) {\r\n            String folder_name = newList.get(i).substring(newList.get(i).lastIndexOf(&quot;/&quot;) + 1);\r\n            FolderModel folder = new FolderModel(folder_name, newList.get(i));\r\n            Log.d(TAG, &quot;base file = &quot; + folder);\r\n            foldersList.add(folder);\r\n        }\r\n\r\n    }![enter image description here](https://i.stack.imgur.com/rgQrz.jpg)\r\n\r\nHere is what am trying to archive, the file in the internal folder is displayed as thumbnail by (glide, bit...) but with my code the `0` folder contains all file in my storage,\r\n\r\nHere is what i want. [![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TBofv.jpg\r\n  [2]: https://i.stack.imgur.com/xR5Yc.jpg","title":"Unable to list parent directory from file path","body":"<p>In my code am trying to collect all video file in list and warp it inside there parent directory and display it inside <code>recycler view</code>, And while displaying i get a folder name <code>0</code> i don't understand where the <code>0</code> folder comes from.</p>\n<p>And the <code>0</code> folder list all files inside my storage, And those file are perfectly warped inside their respective folder.</p>\n<blockquote>\n<p>and here is a screen shot of the folder zero.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/TBofv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TBofv.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>code</strong></p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    foldersList = new ArrayList&lt;&gt;();\n    folderpath = new ArrayList&lt;&gt;();\n\n    recyclerView = findViewById(R.id.recyclerView);\n    recyclerView.setHasFixedSize(true);\n    recyclerView.setLayoutManager(new LinearLayoutManager(this));\n    parseAllVideo();\n    getUniqueFolders();\n    adapter = new FolderAdapter(this, foldersList);\n    recyclerView.setAdapter(adapter);\n    adapter.notifyDataSetChanged();\n\n}\n\nprivate void parseAllVideo() {\n    try {\n        String[] proj = {\n                MediaStore.Video.Media._ID,\n                MediaStore.Video.Media.DATA};\n\n        Cursor videocursor = this.getContentResolver().query(MediaStore.Video.Media.EXTERNAL_CONTENT_URI, proj, null, null, null);\n        if (videocursor != null) {\n            if (videocursor.moveToFirst()) {\n                int path_index = videocursor.getColumnIndexOrThrow(MediaStore.Video.Media.DATA);\n                do {\n                    String filepath = videocursor.getString(path_index);\n                    String folder_path = MyUtils.getParentDirPath(filepath);\n                    File file = new File(filepath);\n                    if (file.exists()) {\n\n                    }\n                    folderpath.add(folder_path);\n                } while (videocursor.moveToNext());\n            }\n            videocursor.close();\n        }\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\nprivate void getUniqueFolders() {\n    List&lt;String&gt; newList = new ArrayList&lt;&gt;(new HashSet&lt;&gt;(folderpath));\n    Collections.sort(newList);\n    for (int i = 0; i &lt; newList.size(); i++) {\n        String folder_name = newList.get(i).substring(newList.get(i).lastIndexOf(&quot;/&quot;) + 1);\n        FolderModel folder = new FolderModel(folder_name, newList.get(i));\n        Log.d(TAG, &quot;base file = &quot; + folder);\n        foldersList.add(folder);\n    }\n\n}![enter image description here](https://i.stack.imgur.com/rgQrz.jpg)\n</code></pre>\n<p>Here is what am trying to archive, the file in the internal folder is displayed as thumbnail by (glide, bit...) but with my code the <code>0</code> folder contains all file in my storage,</p>\n<p>Here is what i want. <a href=\"https://i.stack.imgur.com/xR5Yc.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xR5Yc.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","eclipse","swt"],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642839783,"creation_date":1642839464,"answer_id":70811110,"question_id":70810563,"body_markdown":"Put the labels inside another composite. This composite is aligned to the end of its parent, and the labels are at the beginning of their parent:\r\n\r\n    Composite labelComposite = new Composite(composite, SWT.NONE);\r\n    labelComposite.setLayout(new GridLayout());\r\n    labelComposite.setLayoutData(new GridData(SWT.END, SWT.CENTER, false, false));\r\n\r\n    Label l1 = new Label(labelComposite, SWT.LEAD);\r\n    l1.setLayoutData(new GridData(SWT.BEGINNING, SWT.CENTER, false, false));\r\n    l1.setText(&quot;Unmapped&quot;);\r\n\r\n    Label l2 = new Label(labelComposite, SWT.LEAD);\r\n    l2.setLayoutData(new GridData(SWT.BEGINNING, SWT.CENTER, false, false));\r\n    l2.setText(&quot;Mapped&quot;);\r\n\r\n","title":"How to align label from the same starting point in Swt Java","body":"<p>Put the labels inside another composite. This composite is aligned to the end of its parent, and the labels are at the beginning of their parent:</p>\n<pre><code>Composite labelComposite = new Composite(composite, SWT.NONE);\nlabelComposite.setLayout(new GridLayout());\nlabelComposite.setLayoutData(new GridData(SWT.END, SWT.CENTER, false, false));\n\nLabel l1 = new Label(labelComposite, SWT.LEAD);\nl1.setLayoutData(new GridData(SWT.BEGINNING, SWT.CENTER, false, false));\nl1.setText(&quot;Unmapped&quot;);\n\nLabel l2 = new Label(labelComposite, SWT.LEAD);\nl2.setLayoutData(new GridData(SWT.BEGINNING, SWT.CENTER, false, false));\nl2.setText(&quot;Mapped&quot;);\n</code></pre>\n"}],"owner":{"account_id":18058886,"reputation":1,"user_id":13126493,"display_name":"georgek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642839783,"creation_date":1642833376,"question_id":70810563,"body_markdown":"I have created 2 labels with the exact same composite and same layoutData. I want my labels to be seen towards the end of the screen and also the starting letter of both the labels should begin from the same point.\r\n\r\n    Label l1 = new Label(composite, SWT.None);\r\n    l1.setLayoutData(new GridData(SWT.END, SWT.CENTER,false, false));\r\n    l1.setText(&quot;Unmapped&quot;);\r\n\r\n    Label l2 = new Label(composite, SWT.None);\r\n    l2.setLayoutData(new GridData(SWT.END, SWT.CENTER,false, false));\r\n    l2.setText(&quot;Mapped&quot;);\r\n\r\nRight now, with the above code I do get my output towards the right end of the screen but the starting letters of the both the labels are at 2 different positions and not from the same starting position. \r\n\r\nHow can I achieve this?\r\n\r\n","title":"How to align label from the same starting point in Swt Java","body":"<p>I have created 2 labels with the exact same composite and same layoutData. I want my labels to be seen towards the end of the screen and also the starting letter of both the labels should begin from the same point.</p>\n<pre><code>Label l1 = new Label(composite, SWT.None);\nl1.setLayoutData(new GridData(SWT.END, SWT.CENTER,false, false));\nl1.setText(&quot;Unmapped&quot;);\n\nLabel l2 = new Label(composite, SWT.None);\nl2.setLayoutData(new GridData(SWT.END, SWT.CENTER,false, false));\nl2.setText(&quot;Mapped&quot;);\n</code></pre>\n<p>Right now, with the above code I do get my output towards the right end of the screen but the starting letters of the both the labels are at 2 different positions and not from the same starting position.</p>\n<p>How can I achieve this?</p>\n"},{"tags":["java","android","exoplayer2.x"],"answers":[{"tags":[],"owner":{"account_id":4745410,"reputation":971,"user_id":3836908,"accept_rate":98,"display_name":"sanoj lawrence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642839606,"creation_date":1642839606,"answer_id":70811123,"question_id":65921747,"body_markdown":"finally to play from playlist, i didnt prepare the playlist there was a error in creating playlist and when i send a valid playlist to `mediasource` i was able to play","title":"IllegalSeekPositionException while trying to play video from arraylist in exoplayer","body":"<p>finally to play from playlist, i didnt prepare the playlist there was a error in creating playlist and when i send a valid playlist to <code>mediasource</code> i was able to play</p>\n"}],"owner":{"account_id":4745410,"reputation":971,"user_id":3836908,"accept_rate":98,"display_name":"sanoj lawrence"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70811123,"answer_count":1,"score":0,"last_activity_date":1642839606,"creation_date":1611759623,"question_id":65921747,"body_markdown":"Am trying to play video from playlist in `exoplayer` and i ended up with this error saying `com.google.android.exoplayer2.IllegalSeekPositionException`\r\n\r\nHere below i added list of video Uri to exoplayer `MediaItemBuilder` and played the video with `arraylist` like id `player.seekTo(playListId, 0);`\r\n\r\n\r\n**Adding video Uri and creating playlist:**\r\n\r\n    private void loadPlayList() {\r\n            File file = new File(String.valueOf(videoURI));\r\n            Log.d(&quot;TAG&quot;, &quot;loadPlayList: &quot; + file.getParent());\r\n            for (FileStore fs : db.getFilesByPath(file.getParent())) {\r\n                PlayListModel plm = new PlayListModel();\r\n                plm.setPlayListFilePath(fs.getFilePath());\r\n                playListArray.add(plm);\r\n            }\r\n            for (int i = 0; i &lt; playListArray.size(); i++) {\r\n                if (playListArray.get(i).getPlayListFilePath().contains(videoURI.toString())) {\r\n                    playListId = i;\r\n                    Log.d(&quot;TAG&quot;, &quot;loadPlayList Position: &quot; + i);\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n    private void initializePlayer() {\r\n            playerName.setText(videoName);\r\n    \r\n            if (player == null) {\r\n                trackSelector = new DefaultTrackSelector(this);\r\n                RenderersFactory renderersFactory = new DefaultRenderersFactory(this)\r\n                        .setExtensionRendererMode(DefaultRenderersFactory.EXTENSION_RENDERER_MODE_ON);\r\n                player = new SimpleExoPlayer.Builder(this, renderersFactory)\r\n                        .setTrackSelector(trackSelector).build();\r\n            }\r\n    \r\n            playerView.setPlayer(player);\r\n            mediaSession = new MediaSessionCompat(this, getString(R.string.app_name));\r\n            mediaSessionConnector = new MediaSessionConnector(mediaSession);\r\n            mediaSessionConnector.setPlayer(player);\r\n    \r\n            playerView.setControllerShowTimeoutMs(CONTROLLER_TIMEOUT);\r\n            //playerView.setResizeMode(mPrefs.resizeMode);\r\n    \r\n            for (int j = 0; j&lt;playListArray.size(); j++) {\r\n                final String mimeType = Function.getMimeType(this, Uri.parse(playListArray.get(j).getPlayListFilePath()));\r\n                mediaItemBuilder = new MediaItem.Builder()\r\n                        .setUri(playListArray.get(j).getPlayListFilePath())\r\n                        .setMimeType(mimeType);\r\n    \r\n                // Subtitle if statement.\r\n                if (subtitleUri != null &amp;&amp; Function.fileExists(this, subtitleUri)) {\r\n                    final String subtitleMime = Function.getSubtitleMime(subtitleUri);\r\n                    final String subtitleLanguage = Function.getSubtitleLanguage(subtitleUri);\r\n                    final String subtitleName = Function.getFileName(this, subtitleUri);\r\n    \r\n                    MediaItem.Subtitle subtitle = new MediaItem.Subtitle(subtitleUri, subtitleMime, subtitleLanguage, 0, C.ROLE_FLAG_SUBTITLE, subtitleName);\r\n                    mediaItemBuilder.setSubtitles(Collections.singletonList(subtitle));\r\n                }\r\n            }\r\n    \r\n            player.setMediaItem(mediaItemBuilder.build());\r\n            setTracks = true;\r\n           \r\n            play = true;\r\n            player.setHandleAudioBecomingNoisy(true);\r\n            mediaSession.setActive(true);\r\n            player.addListener(playbackStateListener);\r\n            player.prepare();\r\n            player.seekTo(playListId, 0);\r\n            player.setPlayWhenReady(true);\r\n        }\r\n\r\n\r\n&gt; What am i doing wrong while creating playlist in exoplayer.","title":"IllegalSeekPositionException while trying to play video from arraylist in exoplayer","body":"<p>Am trying to play video from playlist in <code>exoplayer</code> and i ended up with this error saying <code>com.google.android.exoplayer2.IllegalSeekPositionException</code></p>\n<p>Here below i added list of video Uri to exoplayer <code>MediaItemBuilder</code> and played the video with <code>arraylist</code> like id <code>player.seekTo(playListId, 0);</code></p>\n<p><strong>Adding video Uri and creating playlist:</strong></p>\n<pre><code>private void loadPlayList() {\n        File file = new File(String.valueOf(videoURI));\n        Log.d(&quot;TAG&quot;, &quot;loadPlayList: &quot; + file.getParent());\n        for (FileStore fs : db.getFilesByPath(file.getParent())) {\n            PlayListModel plm = new PlayListModel();\n            plm.setPlayListFilePath(fs.getFilePath());\n            playListArray.add(plm);\n        }\n        for (int i = 0; i &lt; playListArray.size(); i++) {\n            if (playListArray.get(i).getPlayListFilePath().contains(videoURI.toString())) {\n                playListId = i;\n                Log.d(&quot;TAG&quot;, &quot;loadPlayList Position: &quot; + i);\n            }\n        }\n    }\n\n\nprivate void initializePlayer() {\n        playerName.setText(videoName);\n\n        if (player == null) {\n            trackSelector = new DefaultTrackSelector(this);\n            RenderersFactory renderersFactory = new DefaultRenderersFactory(this)\n                    .setExtensionRendererMode(DefaultRenderersFactory.EXTENSION_RENDERER_MODE_ON);\n            player = new SimpleExoPlayer.Builder(this, renderersFactory)\n                    .setTrackSelector(trackSelector).build();\n        }\n\n        playerView.setPlayer(player);\n        mediaSession = new MediaSessionCompat(this, getString(R.string.app_name));\n        mediaSessionConnector = new MediaSessionConnector(mediaSession);\n        mediaSessionConnector.setPlayer(player);\n\n        playerView.setControllerShowTimeoutMs(CONTROLLER_TIMEOUT);\n        //playerView.setResizeMode(mPrefs.resizeMode);\n\n        for (int j = 0; j&lt;playListArray.size(); j++) {\n            final String mimeType = Function.getMimeType(this, Uri.parse(playListArray.get(j).getPlayListFilePath()));\n            mediaItemBuilder = new MediaItem.Builder()\n                    .setUri(playListArray.get(j).getPlayListFilePath())\n                    .setMimeType(mimeType);\n\n            // Subtitle if statement.\n            if (subtitleUri != null &amp;&amp; Function.fileExists(this, subtitleUri)) {\n                final String subtitleMime = Function.getSubtitleMime(subtitleUri);\n                final String subtitleLanguage = Function.getSubtitleLanguage(subtitleUri);\n                final String subtitleName = Function.getFileName(this, subtitleUri);\n\n                MediaItem.Subtitle subtitle = new MediaItem.Subtitle(subtitleUri, subtitleMime, subtitleLanguage, 0, C.ROLE_FLAG_SUBTITLE, subtitleName);\n                mediaItemBuilder.setSubtitles(Collections.singletonList(subtitle));\n            }\n        }\n\n        player.setMediaItem(mediaItemBuilder.build());\n        setTracks = true;\n       \n        play = true;\n        player.setHandleAudioBecomingNoisy(true);\n        mediaSession.setActive(true);\n        player.addListener(playbackStateListener);\n        player.prepare();\n        player.seekTo(playListId, 0);\n        player.setPlayWhenReady(true);\n    }\n</code></pre>\n<blockquote>\n<p>What am i doing wrong while creating playlist in exoplayer.</p>\n</blockquote>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1642788357,"post_id":70805660,"comment_id":125173681,"body_markdown":"Don&#39;t use the x/y variables and override getXY() and getY(). Those are methods of the Container class. If you need to track the location of the rectangle, then use different variable and method names. Also, don&#39;t override paint(). Custom painting is done by overriding paintComponent(). See: [Custom Painting Approaches](https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/) for more information and example on how to make your painting more flexible.","body":"Don&#39;t use the x/y variables and override getXY() and getY(). Those are methods of the Container class. If you need to track the location of the rectangle, then use different variable and method names. Also, don&#39;t override paint(). Custom painting is done by overriding paintComponent(). See: <a href=\"https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/\" rel=\"nofollow noreferrer\">Custom Painting Approaches</a> for more information and example on how to make your painting more flexible."},{"owner":{"account_id":24012556,"reputation":11,"user_id":17995952,"display_name":"Natalia Adamczyk"},"score":0,"creation_date":1642789807,"post_id":70805660,"comment_id":125174130,"body_markdown":"i changed the code like you advised but i still get the same result with dissappearing object.                        \n     public void actionPerformed(ActionEvent e) {\n\t\tObject source = e.getSource();\n\t\t\n\t\tif(source == upButton) {\n\t\t\n\t\t\tif(object.y&gt;=50) {\n\t\t\t\tobject.y = object.y - 50;\n\t\t\t\tobject.repaint();\n\t\t\t}\n\t\t\t\n\t\t} ..... \n\t\t}                                                          public void paintComponent(Graphics g) {\n\t\tsuper.paintComponent(g);\n\t\t\n\t\tGraphics2D g2d = (Graphics2D) g;\n\t\tg2d.setColor(Color.RED);\n\t\tg2d.fill(new Ellipse2D.Double(x, y, 40, 40));\n\t}","body":"i changed the code like you advised but i still get the same result with dissappearing object.                              public void actionPerformed(ActionEvent e) { \t\tObject source = e.getSource(); \t\t \t\tif(source == upButton) { \t\t \t\t\tif(object.y&gt;=50) { \t\t\t\tobject.y = object.y - 50; \t\t\t\tobject.repaint(); \t\t\t} \t\t\t \t\t} .....  \t\t}                                                          public void paintComponent(Graphics g) { \t\tsuper.paintComponent(g); \t\t \t\tGraphics2D g2d = (Graphics2D) g; \t\tg2d.setColor(Color.RED); \t\tg2d.fill(new Ellipse2D.Double(x, y, 40, 40)); \t}"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":3,"creation_date":1642791173,"post_id":70805660,"comment_id":125174543,"body_markdown":"*&quot;i changed the code l&quot;* Code in comments is unreadable (to me at least). Please [edit] the question to show the changes where people will notice them &amp; can easily read the code.","body":"<i>&quot;i changed the code l&quot;</i> Code in comments is unreadable (to me at least). Please <a href=\"https://stackoverflow.com/posts/70805660/edit\">edit</a> the question to show the changes where people will notice them &amp; can easily read the code."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1642805101,"post_id":70805660,"comment_id":125178546,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay close attention to the [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) and the [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) sections.","body":"Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay close attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> and the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> sections."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1642841825,"post_id":70805660,"comment_id":125183520,"body_markdown":"BTW instead of overriding `paint()` it is (most often) recommended to override `paintComponent()` (eventually `paintBorder()` or `paintChildren()`, if appropriate); BTW2 please use the `@Override` annotation if overriding a method (helps who ever is reading the code, and enables the compiler to check if the override is correct)","body":"BTW instead of overriding <code>paint()</code> it is (most often) recommended to override <code>paintComponent()</code> (eventually <code>paintBorder()</code> or <code>paintChildren()</code>, if appropriate); BTW2 please use the <code>@Override</code> annotation if overriding a method (helps who ever is reading the code, and enables the compiler to check if the override is correct)"}],"answers":[{"tags":[],"owner":{"account_id":23863113,"reputation":21907,"user_id":17865804,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642839184,"creation_date":1642837600,"answer_id":70810945,"question_id":70805660,"body_markdown":"Instead of drawing the rectangle at different positions by overriding `paint()`, you can use a `JLabel`/`JPanel` to draw the rectangle (or whatever shape you wish, as long as you ovveride the `paintComponent()`), and then use `setLocation()` of that component to change its location (according to the speed you want the rectangle to move with). To avoid having the rectangle escaping the boundaries of the main panel, you can perform some checks using the current postiion of the rectangle, rectangle&#39;s dimensions, as well as main panel&#39;s dimensions. Thus, whatever size you give to the rectangle, or the panel/frame intially, or resizing the frame window while the program is running, the rectangle will still be able to move within the boundaries of its parent component. Below is a working example. If you would like to move the rectangle around using the mouse, have a look [here][1].\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    \r\n    public class App extends JFrame implements ActionListener {\r\n    \tJLabel label;\r\n    \tprivate JButton upButton;\r\n    \tprivate JButton downButton;\r\n    \tprivate JButton rightButton;\r\n    \tprivate JButton leftButton;\r\n    \tJPanel p; // main panel\r\n    \tint rectHeight = 40;\r\n    \tint rectWidth = 40;\r\n    \tint speed = 50;\r\n    \r\n    \tpublic App() {\r\n    \t\tlabel = new JLabel();\r\n    \t\tlabel.setBounds(10, 10, rectWidth, rectHeight);\r\n    \t\tlabel.setBackground(Color.RED);\r\n    \t\tlabel.setOpaque(true);\r\n    \t\tp = new JPanel();\r\n    \t\tp.setLayout(null);\r\n    \t\tp.add(label);\r\n    \r\n    \t\tupButton = new JButton(&quot;Up&quot;);\r\n    \t\tdownButton = new JButton(&quot;Down&quot;);\r\n    \t\trightButton = new JButton(&quot;Right&quot;);\r\n    \t\tleftButton = new JButton(&quot;Left&quot;);\r\n    \t\tJPanel buttonsPanel = new JPanel();\r\n    \t\tbuttonsPanel.setLayout(new BorderLayout());\r\n    \t\tbuttonsPanel.add(upButton, BorderLayout.CENTER);\r\n    \t\tbuttonsPanel.add(downButton, BorderLayout.SOUTH);\r\n    \t\tbuttonsPanel.add(rightButton, BorderLayout.EAST);\r\n    \t\tbuttonsPanel.add(leftButton, BorderLayout.WEST);\r\n    \t\tupButton.addActionListener(this);\r\n    \t\tdownButton.addActionListener(this);\r\n    \t\trightButton.addActionListener(this);\r\n    \t\tleftButton.addActionListener(this);\r\n    \r\n    \t\tthis.getContentPane().add(p, BorderLayout.CENTER);\r\n    \t\tthis.getContentPane().add(buttonsPanel, BorderLayout.SOUTH);\r\n    \t\tthis.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    \t\tthis.setSize(640, 480);\r\n    \t\tthis.setLocationRelativeTo(null);\r\n    \t\tthis.setVisible(true);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n    \t\tObject source = e.getSource();\r\n    \t\tint xPos = (int) label.getLocation().getX();\r\n    \t\tint yPos = (int) label.getLocation().getY();\r\n    \t\tint pHeight = (int) p.getSize().getHeight();\r\n    \t\tint pWidth = (int) p.getSize().getWidth();\r\n    \r\n    \t\tif (source == upButton) {\r\n    \t\t\tif (yPos - speed &gt; 0)\r\n    \t\t\t\tlabel.setLocation(xPos, yPos - speed);\r\n    \t\t\telse\r\n    \t\t\t\tlabel.setLocation(xPos, 0);\r\n    \r\n    \t\t} else if (source == downButton) {\r\n    \t\t\tif (yPos + speed &lt; pHeight - rectHeight)\r\n    \t\t\t\tlabel.setLocation(xPos, yPos + speed);\r\n    \t\t\telse\r\n    \t\t\t\tlabel.setLocation(xPos, pHeight - rectHeight);\r\n    \r\n    \t\t} else if (source == leftButton) {\r\n    \t\t\tif (xPos - speed &gt; 0)\r\n    \t\t\t\tlabel.setLocation(xPos - speed, yPos);\r\n    \t\t\telse\r\n    \t\t\t\tlabel.setLocation(0, yPos);\r\n    \r\n    \t\t} else if (source == rightButton) {\r\n    \t\t\tif (xPos + speed &lt; pWidth - rectWidth)\r\n    \t\t\t\tlabel.setLocation(xPos + speed, yPos);\r\n    \t\t\telse\r\n    \t\t\t\tlabel.setLocation(pWidth - rectWidth, yPos);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew App();\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/70719672/17865804","title":"Problem with disappering object on JFrame","body":"<p>Instead of drawing the rectangle at different positions by overriding <code>paint()</code>, you can use a <code>JLabel</code>/<code>JPanel</code> to draw the rectangle (or whatever shape you wish, as long as you ovveride the <code>paintComponent()</code>), and then use <code>setLocation()</code> of that component to change its location (according to the speed you want the rectangle to move with). To avoid having the rectangle escaping the boundaries of the main panel, you can perform some checks using the current postiion of the rectangle, rectangle's dimensions, as well as main panel's dimensions. Thus, whatever size you give to the rectangle, or the panel/frame intially, or resizing the frame window while the program is running, the rectangle will still be able to move within the boundaries of its parent component. Below is a working example. If you would like to move the rectangle around using the mouse, have a look <a href=\"https://stackoverflow.com/a/70719672/17865804\">here</a>.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class App extends JFrame implements ActionListener {\n    JLabel label;\n    private JButton upButton;\n    private JButton downButton;\n    private JButton rightButton;\n    private JButton leftButton;\n    JPanel p; // main panel\n    int rectHeight = 40;\n    int rectWidth = 40;\n    int speed = 50;\n\n    public App() {\n        label = new JLabel();\n        label.setBounds(10, 10, rectWidth, rectHeight);\n        label.setBackground(Color.RED);\n        label.setOpaque(true);\n        p = new JPanel();\n        p.setLayout(null);\n        p.add(label);\n\n        upButton = new JButton(&quot;Up&quot;);\n        downButton = new JButton(&quot;Down&quot;);\n        rightButton = new JButton(&quot;Right&quot;);\n        leftButton = new JButton(&quot;Left&quot;);\n        JPanel buttonsPanel = new JPanel();\n        buttonsPanel.setLayout(new BorderLayout());\n        buttonsPanel.add(upButton, BorderLayout.CENTER);\n        buttonsPanel.add(downButton, BorderLayout.SOUTH);\n        buttonsPanel.add(rightButton, BorderLayout.EAST);\n        buttonsPanel.add(leftButton, BorderLayout.WEST);\n        upButton.addActionListener(this);\n        downButton.addActionListener(this);\n        rightButton.addActionListener(this);\n        leftButton.addActionListener(this);\n\n        this.getContentPane().add(p, BorderLayout.CENTER);\n        this.getContentPane().add(buttonsPanel, BorderLayout.SOUTH);\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\n        this.setSize(640, 480);\n        this.setLocationRelativeTo(null);\n        this.setVisible(true);\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        Object source = e.getSource();\n        int xPos = (int) label.getLocation().getX();\n        int yPos = (int) label.getLocation().getY();\n        int pHeight = (int) p.getSize().getHeight();\n        int pWidth = (int) p.getSize().getWidth();\n\n        if (source == upButton) {\n            if (yPos - speed &gt; 0)\n                label.setLocation(xPos, yPos - speed);\n            else\n                label.setLocation(xPos, 0);\n\n        } else if (source == downButton) {\n            if (yPos + speed &lt; pHeight - rectHeight)\n                label.setLocation(xPos, yPos + speed);\n            else\n                label.setLocation(xPos, pHeight - rectHeight);\n\n        } else if (source == leftButton) {\n            if (xPos - speed &gt; 0)\n                label.setLocation(xPos - speed, yPos);\n            else\n                label.setLocation(0, yPos);\n\n        } else if (source == rightButton) {\n            if (xPos + speed &lt; pWidth - rectWidth)\n                label.setLocation(xPos + speed, yPos);\n            else\n                label.setLocation(pWidth - rectWidth, yPos);\n        }\n\n    }\n\n    public static void main(String[] args) {\n        new App();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24012556,"reputation":11,"user_id":17995952,"display_name":"Natalia Adamczyk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642839184,"creation_date":1642787811,"question_id":70805660,"body_markdown":"I have a problem with my program. The rectangle disappears in a certain area on the frame and I have no idea why. I wrote a similar program lately and it worked just fine. The difference was that I draw a circle, not a rectangle. \r\n\r\nCould you please help me find the problem? \r\n   \r\n    public class Runner {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tAppFrame app = new AppFrame();\r\n    \t\tapp.setVisible(true);\r\n    \t}\r\n    }\r\n\r\n---\r\n \r\n    \r\n    public class Drawing extends JPanel{\r\n    \t\r\n    \tpublic int getX() {\r\n    \t\treturn x;\r\n    \t}\r\n    \r\n    \tpublic void setX(int x) {\r\n    \t\tthis.x = x;\r\n    \t}\r\n    \r\n    \tpublic int getY() {\r\n    \t\treturn y;\r\n    \t}\r\n    \r\n    \tpublic void setY(int y) {\r\n    \t\tthis.y = y;\r\n    \t}\r\n    \r\n    \t\r\n    \tprivate int x;\r\n    \tprivate int y;\r\n    \r\n    \tpublic void paint(Graphics g) {\r\n    \t\tsuper.paint(g);\r\n    \t\t\r\n    \t\tGraphics2D g2d = (Graphics2D) g;\r\n    \t\tg2d.setColor(Color.RED);\r\n    \t\tg2d.fill(new Rectangle2D.Double(x, y, 40, 40));\r\n    \t}\r\n    \r\n    \tpublic void repaintObject() {\r\n    \t\trepaint();\r\n    \t}}\r\n\r\n---\r\n    \r\n    public class AppFrame extends JFrame implements ActionListener {\r\n    \t\r\n    \tprivate int height =600;\r\n    \tprivate int width = 600;\r\n    \t\r\n    \tprivate JButton upButton;\r\n    \tprivate JButton downButton;\r\n    \tprivate JButton rightButton;\r\n    \tprivate JButton leftButton;\r\n    \t\r\n    \tprivate JPanel drawingPanel;\r\n    \tprivate JPanel buttonsPanel;\r\n    \t\r\n    \tprivate Drawing object;\r\n    \tprivate int x;\r\n    \tprivate int y;\r\n    \t\r\n    \tpublic AppFrame() {\r\n    \t\t\r\n    \t\tthis.setLayout(new GridLayout(2,1));\r\n    \t\t\r\n    \t\tdrawingPanel= new JPanel();\r\n    \t\tbuttonsPanel= new JPanel();\r\n    \t\t\r\n    \t\tdrawingPanel.setLayout(new GridLayout(1,1));\r\n    \t\tbuttonsPanel.setLayout(new BorderLayout());\r\n    \t\t\r\n    \t\tupButton = new JButton(&quot;Up&quot;);\r\n    \t\tdownButton = new JButton(&quot;Down&quot;);\r\n    \t\trightButton = new JButton(&quot;Right&quot;);\r\n    \t\tleftButton = new JButton(&quot;Left&quot;);\r\n    \t\t\r\n    \t\tbuttonsPanel.add(upButton, BorderLayout.CENTER);\r\n    \t\tbuttonsPanel.add(downButton, BorderLayout.PAGE_END);\r\n    \t\tbuttonsPanel.add(rightButton, BorderLayout.LINE_END);\r\n    \t\tbuttonsPanel.add(leftButton, BorderLayout.LINE_START);\r\n    \t\t\r\n    \t\tx=100;\r\n    \t\ty=100;\r\n    \t\t\r\n    \t\tobject = new Drawing();\r\n    \t\tobject.setX(x);\r\n    \t\tobject.setY(y);\r\n    \t\tdrawingPanel.add(object);\r\n    \t\t\r\n    \t\tthis.add(drawingPanel);\r\n    \t\tthis.add(buttonsPanel);\r\n    \t\t\r\n    \t\tupButton.addActionListener(this);\r\n    \t\tdownButton.addActionListener(this);\r\n    \t\trightButton.addActionListener(this);\r\n    \t\tleftButton.addActionListener(this);\r\n    \t\r\n    \t\tthis.setSize(height, width);\r\n    \t\t\r\n    \t\tsetLocationRelativeTo(null);\r\n    \t\tthis.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n    \t\tObject source = e.getSource();\r\n    \t\t\r\n    \t\tSystem.out.println(x+&quot;    &quot;+ y);\r\n    \t\tif(source == upButton) {\r\n    \t\t\r\n    \t\t\tif(y&gt;=50) {\r\n    \t\t\t\ty = y - 50;\r\n    \t\t\t\tobject.setY(y);\r\n    \t\t\t\tobject.repaintObject();\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t} else if(source == downButton) {\r\n    \t\t\tif(y&lt;350) {\r\n    \t\t\t\ty = y+50;\r\n    \t\t\t\tobject.setY(y);\r\n    \t\t\t\tobject.repaintObject();\r\n    \t\t\t}\r\n    \t\t} else if(source == rightButton) {\r\n    \t\t\tif(x&lt;550) {\r\n    \t\t\t\tx = x+50;\r\n    \t\t\t\tobject.setX(x);\r\n    \t\t\t\tobject.repaintObject();\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t} else if(source == leftButton) {\r\n    \t\t\tif(x&gt;=50) {\r\n    \t\t\t\tx=x-50;\r\n    \t\t\t\tobject.setX(x);\r\n    \t\t\t\tobject.repaintObject();\r\n    \t\t\t}\r\n    \t\t}  \t}}","title":"Problem with disappering object on JFrame","body":"<p>I have a problem with my program. The rectangle disappears in a certain area on the frame and I have no idea why. I wrote a similar program lately and it worked just fine. The difference was that I draw a circle, not a rectangle.</p>\n<p>Could you please help me find the problem?</p>\n<pre><code>public class Runner {\n    \n    public static void main(String[] args) {\n        AppFrame app = new AppFrame();\n        app.setVisible(true);\n    }\n}\n</code></pre>\n<hr />\n<pre><code>public class Drawing extends JPanel{\n    \n    public int getX() {\n        return x;\n    }\n\n    public void setX(int x) {\n        this.x = x;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n    public void setY(int y) {\n        this.y = y;\n    }\n\n    \n    private int x;\n    private int y;\n\n    public void paint(Graphics g) {\n        super.paint(g);\n        \n        Graphics2D g2d = (Graphics2D) g;\n        g2d.setColor(Color.RED);\n        g2d.fill(new Rectangle2D.Double(x, y, 40, 40));\n    }\n\n    public void repaintObject() {\n        repaint();\n    }}\n</code></pre>\n<hr />\n<pre><code>public class AppFrame extends JFrame implements ActionListener {\n    \n    private int height =600;\n    private int width = 600;\n    \n    private JButton upButton;\n    private JButton downButton;\n    private JButton rightButton;\n    private JButton leftButton;\n    \n    private JPanel drawingPanel;\n    private JPanel buttonsPanel;\n    \n    private Drawing object;\n    private int x;\n    private int y;\n    \n    public AppFrame() {\n        \n        this.setLayout(new GridLayout(2,1));\n        \n        drawingPanel= new JPanel();\n        buttonsPanel= new JPanel();\n        \n        drawingPanel.setLayout(new GridLayout(1,1));\n        buttonsPanel.setLayout(new BorderLayout());\n        \n        upButton = new JButton(&quot;Up&quot;);\n        downButton = new JButton(&quot;Down&quot;);\n        rightButton = new JButton(&quot;Right&quot;);\n        leftButton = new JButton(&quot;Left&quot;);\n        \n        buttonsPanel.add(upButton, BorderLayout.CENTER);\n        buttonsPanel.add(downButton, BorderLayout.PAGE_END);\n        buttonsPanel.add(rightButton, BorderLayout.LINE_END);\n        buttonsPanel.add(leftButton, BorderLayout.LINE_START);\n        \n        x=100;\n        y=100;\n        \n        object = new Drawing();\n        object.setX(x);\n        object.setY(y);\n        drawingPanel.add(object);\n        \n        this.add(drawingPanel);\n        this.add(buttonsPanel);\n        \n        upButton.addActionListener(this);\n        downButton.addActionListener(this);\n        rightButton.addActionListener(this);\n        leftButton.addActionListener(this);\n    \n        this.setSize(height, width);\n        \n        setLocationRelativeTo(null);\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\n        \n    }\n    \n    @Override\n    public void actionPerformed(ActionEvent e) {\n        Object source = e.getSource();\n        \n        System.out.println(x+&quot;    &quot;+ y);\n        if(source == upButton) {\n        \n            if(y&gt;=50) {\n                y = y - 50;\n                object.setY(y);\n                object.repaintObject();\n            }\n            \n        } else if(source == downButton) {\n            if(y&lt;350) {\n                y = y+50;\n                object.setY(y);\n                object.repaintObject();\n            }\n        } else if(source == rightButton) {\n            if(x&lt;550) {\n                x = x+50;\n                object.setX(x);\n                object.repaintObject();\n            }\n            \n        } else if(source == leftButton) {\n            if(x&gt;=50) {\n                x=x-50;\n                object.setX(x);\n                object.repaintObject();\n            }\n        }   }}\n</code></pre>\n"},{"tags":["java","android","list","hashmap","save"],"comments":[{"owner":{"account_id":13464558,"reputation":8533,"user_id":9715339,"display_name":"Mayur Gajra"},"score":0,"creation_date":1642834367,"post_id":70810540,"comment_id":125182309,"body_markdown":"I was able to save &amp; retrieve the info from your code. So can you please elaborate on the issue? Do you get any errors? Do you get an empty list back? or anything else?","body":"I was able to save &amp; retrieve the info from your code. So can you please elaborate on the issue? Do you get any errors? Do you get an empty list back? or anything else?"},{"owner":{"account_id":21665075,"reputation":421,"user_id":15983611,"display_name":"Syed Irfan Hussaini"},"score":0,"creation_date":1642834602,"post_id":70810540,"comment_id":125182344,"body_markdown":"Sorry for that but this list returns me an empty list with null values in hashmap","body":"Sorry for that but this list returns me an empty list with null values in hashmap"},{"owner":{"account_id":13464558,"reputation":8533,"user_id":9715339,"display_name":"Mayur Gajra"},"score":0,"creation_date":1642834833,"post_id":70810540,"comment_id":125182377,"body_markdown":"Alright. So can you tell me from where are you getting the variables `name, number` etc?... During the save. Can you please post the code for that? If possible can you post the complete related class code? I want to make sure they&#39;re not null in the first place.","body":"Alright. So can you tell me from where are you getting the variables <code>name, number</code> etc?... During the save. Can you please post the code for that? If possible can you post the complete related class code? I want to make sure they&#39;re not null in the first place."},{"owner":{"account_id":13464558,"reputation":8533,"user_id":9715339,"display_name":"Mayur Gajra"},"score":0,"creation_date":1642835675,"post_id":70810540,"comment_id":125182513,"body_markdown":"Can you please post complete code related to `Paper.book().write` where is it being done? I want to see if you&#39;re writing it correctly.","body":"Can you please post complete code related to <code>Paper.book().write</code> where is it being done? I want to see if you&#39;re writing it correctly."}],"answers":[{"tags":[],"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642839071,"creation_date":1642839071,"answer_id":70811086,"question_id":70810540,"body_markdown":"You can use Gson and SharedPreferences to do the same.\r\n\r\n    implementation &#39;com.google.code.gson:gson:2.8.9&#39;\r\n\r\nExample:\r\n\r\n    private SharedPreferences sp;\r\n    private HashMap&lt;String, Boolean&gt; favs;\r\n    ....\r\n    ....\r\n    public void addFavourite(String wall_name) {\r\n        favs = getFavourites();\r\n        favs.put(wall_name, true);\r\n        setFavourties();\r\n\r\n    }\r\n\r\n    public void removeFav(String wall_name) {\r\n        favs = getFavourites();\r\n        favs.put(wall_name, false);\r\n        setFavourties();\r\n    }\r\n\r\n    private void setFavourties() {\r\n        SharedPreferences.Editor pe = sp.edit();\r\n        Gson gson = new Gson();\r\n        String j = gson.toJson(favs);\r\n        pe.putString(&quot;Favourites&quot;, j);\r\n        pe.apply();\r\n    }\r\n\r\n\r\n    public HashMap&lt;String, Boolean&gt; getFavourites() {\r\n        Gson gson = new Gson();\r\n        String j = sp.getString(&quot;Favourites&quot;, null);\r\n        if (j != null) {\r\n            Type stringBooleanMap = new TypeToken&lt;HashMap&lt;String, Boolean&gt;&gt;() {\r\n            }.getType();\r\n            return gson.fromJson(j, stringBooleanMap);\r\n        } else {\r\n            return new HashMap&lt;&gt;();\r\n        }\r\n    }\r\n\r\n","title":"How to save List Of HashMap in android?","body":"<p>You can use Gson and SharedPreferences to do the same.</p>\n<pre><code>implementation 'com.google.code.gson:gson:2.8.9'\n</code></pre>\n<p>Example:</p>\n<pre><code>private SharedPreferences sp;\nprivate HashMap&lt;String, Boolean&gt; favs;\n....\n....\npublic void addFavourite(String wall_name) {\n    favs = getFavourites();\n    favs.put(wall_name, true);\n    setFavourties();\n\n}\n\npublic void removeFav(String wall_name) {\n    favs = getFavourites();\n    favs.put(wall_name, false);\n    setFavourties();\n}\n\nprivate void setFavourties() {\n    SharedPreferences.Editor pe = sp.edit();\n    Gson gson = new Gson();\n    String j = gson.toJson(favs);\n    pe.putString(&quot;Favourites&quot;, j);\n    pe.apply();\n}\n\n\npublic HashMap&lt;String, Boolean&gt; getFavourites() {\n    Gson gson = new Gson();\n    String j = sp.getString(&quot;Favourites&quot;, null);\n    if (j != null) {\n        Type stringBooleanMap = new TypeToken&lt;HashMap&lt;String, Boolean&gt;&gt;() {\n        }.getType();\n        return gson.fromJson(j, stringBooleanMap);\n    } else {\n        return new HashMap&lt;&gt;();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21665075,"reputation":421,"user_id":15983611,"display_name":"Syed Irfan Hussaini"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70811086,"answer_count":1,"score":0,"last_activity_date":1642839071,"creation_date":1642833167,"question_id":70810540,"body_markdown":"I have a hashmap of string\r\n\r\n    HashMap&lt;String, String&gt; hashMap = new HashMap&lt;&gt;();\r\n    hashMap.put(&quot;name&quot;, name);\r\n    hashMap.put(&quot;number&quot;, number);\r\n    hashMap.put(&quot;profileImage&quot;, image);\r\n\r\nand a List of Hashmap\r\n\r\n    List&lt;HashMap&lt;String, String&gt;&gt; recents = new ArrayList&lt;&gt;();\r\n    recents.add(hashMap);\r\n\r\nNow I have to save this list\r\n\r\nI have tried using https://github.com/pilgr/Paper to save this List\r\n\r\n    Paper.book().write(&quot;recents&quot;, recents);\r\n\r\nbut i can&#39;t get the list back\r\n\r\n    List&lt;HashMap&lt;String, String&gt;&gt; list = Paper.book().read(&quot;recents&quot;);\r\n    HashMap&lt;String,String&gt; hashMap = list.get(0);\r\n    String name = hashMap.get(&quot;name&quot;);\r\n    String number = hashMap.get(&quot;number&quot;);\r\n    String image = hashMap.get(&quot;profileImage&quot;);\r\n\r\nUses of the code\r\n\r\nactually I&#39;m passing this list to recycelerViewAdapeter and from there in OnBindViewHolder() I&#39;m getting all the Hashmap values and displaying it to user\r\n\r\nSaving Data Code\r\n\r\n    Paper.init(this);\r\n    List&lt;HashMap&lt;String, String&gt;&gt; recents = new ArrayList&lt;&gt;();\r\n    HashMap&lt;String, String&gt; hashMap = new HashMap&lt;&gt;();\r\n    hashMap.put(&quot;name&quot;, name);\r\n    hashMap.put(&quot;number&quot;, number);\r\n    hashMap.put(&quot;profileImage&quot;, image);\r\n    recents.add(hashMap);\r\n    Paper.book().write(&quot;recents&quot;, contacts);\r\n\r\nReceiving Data Code\r\n\r\n    Paper.init(requireActivity());\r\n    recyclerView = view.findViewById(R.id.recyclerView);\r\n    List&lt;HashMap&lt;String, String&gt;&gt; list = Paper.book().read(&quot;recents&quot;);\r\n    Adapter = new Adapter(requireActivity(), list);\r\n    recyclerView.setAdapter(Adapter);\r\n\r\n","title":"How to save List Of HashMap in android?","body":"<p>I have a hashmap of string</p>\n<pre><code>HashMap&lt;String, String&gt; hashMap = new HashMap&lt;&gt;();\nhashMap.put(&quot;name&quot;, name);\nhashMap.put(&quot;number&quot;, number);\nhashMap.put(&quot;profileImage&quot;, image);\n</code></pre>\n<p>and a List of Hashmap</p>\n<pre><code>List&lt;HashMap&lt;String, String&gt;&gt; recents = new ArrayList&lt;&gt;();\nrecents.add(hashMap);\n</code></pre>\n<p>Now I have to save this list</p>\n<p>I have tried using <a href=\"https://github.com/pilgr/Paper\" rel=\"nofollow noreferrer\">https://github.com/pilgr/Paper</a> to save this List</p>\n<pre><code>Paper.book().write(&quot;recents&quot;, recents);\n</code></pre>\n<p>but i can't get the list back</p>\n<pre><code>List&lt;HashMap&lt;String, String&gt;&gt; list = Paper.book().read(&quot;recents&quot;);\nHashMap&lt;String,String&gt; hashMap = list.get(0);\nString name = hashMap.get(&quot;name&quot;);\nString number = hashMap.get(&quot;number&quot;);\nString image = hashMap.get(&quot;profileImage&quot;);\n</code></pre>\n<p>Uses of the code</p>\n<p>actually I'm passing this list to recycelerViewAdapeter and from there in OnBindViewHolder() I'm getting all the Hashmap values and displaying it to user</p>\n<p>Saving Data Code</p>\n<pre><code>Paper.init(this);\nList&lt;HashMap&lt;String, String&gt;&gt; recents = new ArrayList&lt;&gt;();\nHashMap&lt;String, String&gt; hashMap = new HashMap&lt;&gt;();\nhashMap.put(&quot;name&quot;, name);\nhashMap.put(&quot;number&quot;, number);\nhashMap.put(&quot;profileImage&quot;, image);\nrecents.add(hashMap);\nPaper.book().write(&quot;recents&quot;, contacts);\n</code></pre>\n<p>Receiving Data Code</p>\n<pre><code>Paper.init(requireActivity());\nrecyclerView = view.findViewById(R.id.recyclerView);\nList&lt;HashMap&lt;String, String&gt;&gt; list = Paper.book().read(&quot;recents&quot;);\nAdapter = new Adapter(requireActivity(), list);\nrecyclerView.setAdapter(Adapter);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1642827695,"post_id":70810097,"comment_id":125181530,"body_markdown":"A big part of learning to program is gaining the skill to scan documentation for approaches to problems. If you scan docs for the class `String`, you&#39;ll find helpful stuff.","body":"A big part of learning to program is gaining the skill to scan documentation for approaches to problems. If you scan docs for the class <code>String</code>, you&#39;ll find helpful stuff."}],"answers":[{"tags":[],"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642838481,"creation_date":1642838481,"answer_id":70811030,"question_id":70810097,"body_markdown":"Assuming your set is a `SortedSet&lt;String&gt;` of some kind (Like a `TreeSet&lt;String&gt;`, there&#39;s an elegant approach. First, use `SortedSet#tailSet` to get a new set of all elements of the set that are greater than or equal to the prefix string - which includes all elements with that prefix. Then just look at the initial elements of that set that have the prefix, and return the last of them.\r\n\r\n```java\r\nimport java.util.Optional;\r\nimport java.util.SortedSet;\r\nimport java.util.TreeSet;\r\n\r\npublic class Demo {\r\n    // I prefer using an Optional instead of a null pointer to\r\n    // indicate something wasn&#39;t found.\r\n    static private Optional&lt;String&gt; findLargestPrefix(SortedSet&lt;String&gt; set,\r\n                                                      String prefix) {\r\n        // Get a set of all elements greater than or equal to the\r\n        // prefix. Then, return the last element of that set that\r\n        // starts with the prefix.\r\n        String prev = null;\r\n        for (String word : set.tailSet(prefix)) {\r\n            if (!word.startsWith(prefix)) {\r\n                break;\r\n            }\r\n            prev = word;\r\n        }\r\n        return Optional.ofNullable(prev);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        var set = new TreeSet&lt;String&gt;();\r\n        set.add(&quot;This is a string_001&quot;);\r\n        set.add(&quot;This is a string_002&quot;);\r\n        set.add(&quot;This is a string_b&quot;);\r\n        set.add(&quot;This is a string_A&quot;);\r\n\r\n        System.out.println(findLargestPrefix(set, &quot;This is a string&quot;)\r\n                           .orElse(&quot;No match found!&quot;));\r\n        System.out.println(findLargestPrefix(set, &quot;blah-blah-blah&quot;)\r\n                           .orElse(&quot;No match found!&quot;));\r\n\r\n    }\r\n}\r\n```","title":"&quot;Highest&quot; string in strict lexicographic order","body":"<p>Assuming your set is a <code>SortedSet&lt;String&gt;</code> of some kind (Like a <code>TreeSet&lt;String&gt;</code>, there's an elegant approach. First, use <code>SortedSet#tailSet</code> to get a new set of all elements of the set that are greater than or equal to the prefix string - which includes all elements with that prefix. Then just look at the initial elements of that set that have the prefix, and return the last of them.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Optional;\nimport java.util.SortedSet;\nimport java.util.TreeSet;\n\npublic class Demo {\n    // I prefer using an Optional instead of a null pointer to\n    // indicate something wasn't found.\n    static private Optional&lt;String&gt; findLargestPrefix(SortedSet&lt;String&gt; set,\n                                                      String prefix) {\n        // Get a set of all elements greater than or equal to the\n        // prefix. Then, return the last element of that set that\n        // starts with the prefix.\n        String prev = null;\n        for (String word : set.tailSet(prefix)) {\n            if (!word.startsWith(prefix)) {\n                break;\n            }\n            prev = word;\n        }\n        return Optional.ofNullable(prev);\n    }\n\n    public static void main(String[] args) {\n        var set = new TreeSet&lt;String&gt;();\n        set.add(&quot;This is a string_001&quot;);\n        set.add(&quot;This is a string_002&quot;);\n        set.add(&quot;This is a string_b&quot;);\n        set.add(&quot;This is a string_A&quot;);\n\n        System.out.println(findLargestPrefix(set, &quot;This is a string&quot;)\n                           .orElse(&quot;No match found!&quot;));\n        System.out.println(findLargestPrefix(set, &quot;blah-blah-blah&quot;)\n                           .orElse(&quot;No match found!&quot;));\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7430214,"reputation":1253,"user_id":5651468,"accept_rate":100,"display_name":"Sandeep"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1642842005,"accepted_answer_id":70811030,"answer_count":1,"score":-3,"last_activity_date":1642838481,"creation_date":1642827122,"question_id":70810097,"body_markdown":"We have a set of strings in our program.  Given an arbitrary string, we want to find the &quot;highest&quot; string in the set (in lexicographic order) for which the given string is a prefix (if at all).\r\n\r\nFor example, assume that our set contains the following strings:\r\n\r\n    &quot;This is a string_001&quot;\r\n    &quot;This is a string_002&quot;\r\n    &quot;This is a string_b&quot;\r\n    &quot;This is a string_A&quot;\r\n\r\nIf the given string is `&quot;This is a string&quot;`, we should return `&quot;This is a string_b&quot;`.  On the other hand if the given string is `blah-blah-blah`, we should return null.\r\n\r\nWe have an implementation where we can find the &quot;highest string&quot;, out of the longest candidate strings, but it is not the &quot;highest&quot; string in strict lexicographic order.  For example our implementation returns `&quot;This is a string_002&quot;` (over `&quot;This is a string_001&quot;`) but it does not return `&quot;This is a string_b&quot;`.\r\n\r\n\r\n","title":"&quot;Highest&quot; string in strict lexicographic order","body":"<p>We have a set of strings in our program.  Given an arbitrary string, we want to find the &quot;highest&quot; string in the set (in lexicographic order) for which the given string is a prefix (if at all).</p>\n<p>For example, assume that our set contains the following strings:</p>\n<pre><code>&quot;This is a string_001&quot;\n&quot;This is a string_002&quot;\n&quot;This is a string_b&quot;\n&quot;This is a string_A&quot;\n</code></pre>\n<p>If the given string is <code>&quot;This is a string&quot;</code>, we should return <code>&quot;This is a string_b&quot;</code>.  On the other hand if the given string is <code>blah-blah-blah</code>, we should return null.</p>\n<p>We have an implementation where we can find the &quot;highest string&quot;, out of the longest candidate strings, but it is not the &quot;highest&quot; string in strict lexicographic order.  For example our implementation returns <code>&quot;This is a string_002&quot;</code> (over <code>&quot;This is a string_001&quot;</code>) but it does not return <code>&quot;This is a string_b&quot;</code>.</p>\n"},{"tags":["java","json","string","date","gson"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":3,"creation_date":1549602795,"post_id":54584696,"comment_id":95969181,"body_markdown":"the string that you try to parse as JSON is no valid JSON. Where does it come from? You should fix the place where this string is produced so that it produces correct JSON.","body":"the string that you try to parse as JSON is no valid JSON. Where does it come from? You should fix the place where this string is produced so that it produces correct JSON."},{"owner":{"account_id":1223725,"reputation":5602,"user_id":1189800,"display_name":"Chetan Joshi"},"score":0,"creation_date":1549602909,"post_id":54584696,"comment_id":95969213,"body_markdown":"It is a invalidate JSON, you need to fix this.","body":"It is a invalidate JSON, you need to fix this."},{"owner":{"account_id":2023881,"reputation":864,"user_id":1809443,"accept_rate":86,"display_name":"mari"},"score":0,"creation_date":1549626660,"post_id":54584696,"comment_id":95979772,"body_markdown":"@P.J.Meisch thanks! Actually, my application doesn&#39;t produce this json. We receive a csv file with this information in a field, and, unfortunately, it is not possible correct it. I need to convert this string in a valid JSON.","body":"@P.J.Meisch thanks! Actually, my application doesn&#39;t produce this json. We receive a csv file with this information in a field, and, unfortunately, it is not possible correct it. I need to convert this string in a valid JSON."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1549844725,"post_id":54584696,"comment_id":96037704,"body_markdown":"The &quot;fake json&quot; is broken in multiple ways, did you notice the `Rua Pref. Josu00e9 Alves Lima` ? You&#39;ll need to find `u[0-9a-fA-F]{4}` sequences as well and convert these to the character with its unicode value.","body":"The &quot;fake json&quot; is broken in multiple ways, did you notice the <code>Rua Pref. Josu00e9 Alves Lima</code> ? You&#39;ll need to find <code>u[0-9a-fA-F]{4}</code> sequences as well and convert these to the character with its unicode value."}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1549771555,"creation_date":1549739154,"answer_id":54609714,"question_id":54584696,"body_markdown":"\t\tString incorrectJson = &quot;{id: 267107086801, productCode: 02-671070868,&quot;\r\n\t\t\t\t+ &quot; lastUpdate: 2018-07-15, lastUpdateTimestamp: 2018-07-15 01:49:58,&quot;\r\n\t\t\t\t+ &quot; user: {pf: {document: 123456789, name: Luis Fernando},&quot;\r\n\t\t\t\t+ &quot; address: {street: Rua Pref. Josu00e9 Alves Lima,number:37},&quot;\r\n\t\t\t\t+ &quot; payment: [{sequential: 1, id: CREDIT_CARD, value: 188, installments: 9}]}&quot;;\r\n\t\t\r\n\t\tString correctJson = incorrectJson.replaceAll(&quot;(?&lt;=: ?)(?![ \\\\{\\\\[])(.+?)(?=,|})&quot;, &quot;\\&quot;$1\\&quot;&quot;);\r\n\t\tSystem.out.println(correctJson);\r\n\r\nOutput:\r\n\r\n&gt; {id: &quot;267107086801&quot;, productCode: &quot;02-671070868&quot;, lastUpdate:\r\n&gt; &quot;2018-07-15&quot;, lastUpdateTimestamp: &quot;2018-07-15 01:49:58&quot;, user: {pf:\r\n&gt; {document: &quot;123456789&quot;, name: &quot;Luis Fernando&quot;}, address: {street: &quot;Rua\r\n&gt; Pref. Josu00e9 Alves Lima&quot;,number:&quot;37&quot;}, payment: [{sequential: &quot;1&quot;,\r\n&gt; id: &quot;CREDIT_CARD&quot;, value: &quot;188&quot;, installments: &quot;9&quot;}]}\r\n\r\nOne downside of non-trivial regular expressions is they can be hard to read. The one I use here matches each literal value (but not values that are objects or arrays). I am using colons, commas and curly braces to guide the matching so I don’t need to care what is inside each string value, it may be any characters (except comma or right curly brace). The parts mean:\r\n\r\n - `(?&lt;=: ?)`: there’s a colon an optionally a blank before the value (lookbehind)\r\n - `(?![ \\\\{\\\\[])` the value does *not* start with a blank, curly brace or square bracket (negative lookahead; blank because we don’t want a blank between the colon and the value to be taken as part of the value)\r\n - `(.+?)`: the value consists of at least one character, as few as possible (reluctant quantifier; or regex would try to take the rest of the string)\r\n - `(?=,|})`: after the value comes either a comma or a right curly brace (positive lookahead).\r\n\r\nWithout being well versed in JSON I don’t think you need to quote the name. You may, though:\r\n\r\n\t\tString correctJson = incorrectJson.replaceAll(\r\n\t\t\t\t&quot;(?&lt;=\\\\{|, ?)([a-zA-Z]+?): ?(?![ \\\\{\\\\[])(.+?)(?=,|})&quot;, &quot;\\&quot;$1\\&quot;: \\&quot;$2\\&quot;&quot;);\r\n\r\n&gt; {&quot;id&quot;: &quot;267107086801&quot;, &quot;productCode&quot;: &quot;02-671070868&quot;, &quot;lastUpdate&quot;:\r\n&gt; &quot;2018-07-15&quot;, &quot;lastUpdateTimestamp&quot;: &quot;2018-07-15 01:49:58&quot;, user: {pf:\r\n&gt; {&quot;document&quot;: &quot;123456789&quot;, &quot;name&quot;: &quot;Luis Fernando&quot;}, address:\r\n&gt; {&quot;street&quot;: &quot;Rua Pref. Josu00e9 Alves Lima&quot;,&quot;number&quot;: &quot;37&quot;}, payment:\r\n&gt; [{&quot;sequential&quot;: &quot;1&quot;, &quot;id&quot;: &quot;CREDIT_CARD&quot;, &quot;value&quot;: &quot;188&quot;,\r\n&gt; &quot;installments&quot;: &quot;9&quot;}]}\r\n\r\n","title":"How add quotes in a JSON string, using Java, when the value is a date","body":"<pre><code>    String incorrectJson = \"{id: 267107086801, productCode: 02-671070868,\"\n            + \" lastUpdate: 2018-07-15, lastUpdateTimestamp: 2018-07-15 01:49:58,\"\n            + \" user: {pf: {document: 123456789, name: Luis Fernando},\"\n            + \" address: {street: Rua Pref. Josu00e9 Alves Lima,number:37},\"\n            + \" payment: [{sequential: 1, id: CREDIT_CARD, value: 188, installments: 9}]}\";\n\n    String correctJson = incorrectJson.replaceAll(\"(?&lt;=: ?)(?![ \\\\{\\\\[])(.+?)(?=,|})\", \"\\\"$1\\\"\");\n    System.out.println(correctJson);\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>{id: \"267107086801\", productCode: \"02-671070868\", lastUpdate:\n  \"2018-07-15\", lastUpdateTimestamp: \"2018-07-15 01:49:58\", user: {pf:\n  {document: \"123456789\", name: \"Luis Fernando\"}, address: {street: \"Rua\n  Pref. Josu00e9 Alves Lima\",number:\"37\"}, payment: [{sequential: \"1\",\n  id: \"CREDIT_CARD\", value: \"188\", installments: \"9\"}]}</p>\n</blockquote>\n\n<p>One downside of non-trivial regular expressions is they can be hard to read. The one I use here matches each literal value (but not values that are objects or arrays). I am using colons, commas and curly braces to guide the matching so I don’t need to care what is inside each string value, it may be any characters (except comma or right curly brace). The parts mean:</p>\n\n<ul>\n<li><code>(?&lt;=: ?)</code>: there’s a colon an optionally a blank before the value (lookbehind)</li>\n<li><code>(?![ \\\\{\\\\[])</code> the value does <em>not</em> start with a blank, curly brace or square bracket (negative lookahead; blank because we don’t want a blank between the colon and the value to be taken as part of the value)</li>\n<li><code>(.+?)</code>: the value consists of at least one character, as few as possible (reluctant quantifier; or regex would try to take the rest of the string)</li>\n<li><code>(?=,|})</code>: after the value comes either a comma or a right curly brace (positive lookahead).</li>\n</ul>\n\n<p>Without being well versed in JSON I don’t think you need to quote the name. You may, though:</p>\n\n<pre><code>    String correctJson = incorrectJson.replaceAll(\n            \"(?&lt;=\\\\{|, ?)([a-zA-Z]+?): ?(?![ \\\\{\\\\[])(.+?)(?=,|})\", \"\\\"$1\\\": \\\"$2\\\"\");\n</code></pre>\n\n<blockquote>\n  <p>{\"id\": \"267107086801\", \"productCode\": \"02-671070868\", \"lastUpdate\":\n  \"2018-07-15\", \"lastUpdateTimestamp\": \"2018-07-15 01:49:58\", user: {pf:\n  {\"document\": \"123456789\", \"name\": \"Luis Fernando\"}, address:\n  {\"street\": \"Rua Pref. Josu00e9 Alves Lima\",\"number\": \"37\"}, payment:\n  [{\"sequential\": \"1\", \"id\": \"CREDIT_CARD\", \"value\": \"188\",\n  \"installments\": \"9\"}]}</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8996815,"reputation":509,"user_id":6706905,"display_name":"Sandeep"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642838111,"creation_date":1642838111,"answer_id":70810991,"question_id":54584696,"body_markdown":"The following code takes care single quote present in JSON string as well as a key containing number\r\n    \r\n jsonString = jsonString.replaceAll(&quot; :&quot;,&quot;:&quot;); // to trip space after key\r\n    jsonString = jsonString.replaceAll(&quot;: ,&quot;,&quot;:,&quot;);\r\n     jsonString = jsonString.replaceAll(&quot;(?&lt;=: ?)(?![ \\\\{\\\\[])(.+?)(?=,|})&quot;, &quot;\\&quot;$1\\&quot;&quot;);\r\n     jsonString = jsonString.replaceAll(&quot;(?&lt;=\\\\{|, ?)([a-zA-Z0-9]+?)(?=:)&quot;,&quot;\\&quot;$1\\&quot;&quot;);\r\n     jsonString = jsonString.replaceAll(&quot;\\&quot;true\\&quot;&quot;, &quot;true&quot;); // to un-quote boolean\r\n     jsonString = jsonString.replaceAll(&quot;\\&quot;false\\&quot;&quot;, &quot;false&quot;); // to un-quote boolean\r\n     jsonString = jsonString.replaceAll(&quot;\\&quot;null\\&quot;&quot;, &quot;null&quot;);// to un-quote null\r\n     jsonString = jsonString.replaceAll(&quot;:\\&quot;,&quot;, &quot;:\\&quot;\\&quot; ,&quot;); // to remove unnecessary double quotes\r\n     jsonString = jsonString.replaceAll(&quot;true\\&quot;&quot;, &quot;true&quot;); // to un-quote boolean\r\n     jsonString = jsonString.replaceAll(&quot;&#39;\\&quot;,&quot;, &quot;&#39;,&quot;); // to handle single quote within json string\r\n     jsonString = jsonString.replaceAll(&quot;&#39;},&quot;, &quot;&#39;}\\&quot;,&quot;); // to put double quote after string ending with single quote","title":"How add quotes in a JSON string, using Java, when the value is a date","body":"<p>The following code takes care single quote present in JSON string as well as a key containing number</p>\n<p>jsonString = jsonString.replaceAll(&quot; :&quot;,&quot;:&quot;); // to trip space after key\njsonString = jsonString.replaceAll(&quot;: ,&quot;,&quot;:,&quot;);\njsonString = jsonString.replaceAll(&quot;(?&lt;=: ?)(?![ \\{\\[])(.+?)(?=,|})&quot;, &quot;&quot;$1&quot;&quot;);\njsonString = jsonString.replaceAll(&quot;(?&lt;=\\{|, ?)([a-zA-Z0-9]+?)(?=:)&quot;,&quot;&quot;$1&quot;&quot;);\njsonString = jsonString.replaceAll(&quot;&quot;true&quot;&quot;, &quot;true&quot;); // to un-quote boolean\njsonString = jsonString.replaceAll(&quot;&quot;false&quot;&quot;, &quot;false&quot;); // to un-quote boolean\njsonString = jsonString.replaceAll(&quot;&quot;null&quot;&quot;, &quot;null&quot;);// to un-quote null\njsonString = jsonString.replaceAll(&quot;:&quot;,&quot;, &quot;:&quot;&quot; ,&quot;); // to remove unnecessary double quotes\njsonString = jsonString.replaceAll(&quot;true&quot;&quot;, &quot;true&quot;); // to un-quote boolean\njsonString = jsonString.replaceAll(&quot;'&quot;,&quot;, &quot;',&quot;); // to handle single quote within json string\njsonString = jsonString.replaceAll(&quot;'},&quot;, &quot;'}&quot;,&quot;); // to put double quote after string ending with single quote</p>\n"}],"owner":{"account_id":2023881,"reputation":864,"user_id":1809443,"accept_rate":86,"display_name":"mari"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5485,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54609714,"answer_count":2,"score":1,"last_activity_date":1642838111,"creation_date":1549587733,"question_id":54584696,"body_markdown":"I&#39;m facing difficulties in a scenario that I need to read a JSON object, in Java, that has no double quotes in the keys and no values, like the example below:\r\n\r\n    &quot;{id: 267107086801, productCode: 02-671070868, lastUpdate: 2018-07-15, lastUpdateTimestamp: 2018-07-15 01:49:58, user: {pf: {document: 123456789, name: Luis Fernando}, address: {street: Rua Pref. Josu00e9 Alves Lima,number:37}, payment: [{sequential: 1, id: CREDIT_CARD, value: 188, installments: 9}]}&quot;\r\n\r\nI was able to add the double quotes in the fields using the code below, with `replaceAll` and the [Gson][1] library:\r\n\r\n    String jsonString = gson.toJson (obj);\r\n    \r\n    String jsonString = jsonString.replaceAll (&quot;([\\\\ w] +) [] *:&quot;, &quot;\\&quot; $ 1 \\ &quot;:&quot;); // to quote before: value\r\n    jsonString = jsonString.replaceAll (&quot;: [] * ([\\\\ w @ \\\\.] +)&quot;, &quot;: \\&quot; $ 1 \\ &quot;&quot;); // to quote after: value, add special character as needed to the exclusion list in regex\r\n    jsonString = jsonString.replaceAll (&quot;: [] * \\&quot; ([\\\\ d] +) \\ &quot;&quot;, &quot;: $ 1&quot;); // to un-quote decimal value\r\n    jsonString = jsonString.replaceAll (&quot;\\&quot; true \\ &quot;&quot;, &quot;true&quot;); // to un-quote boolean\r\n    jsonString = jsonString.replaceAll (&quot;\\&quot; false \\ &quot;&quot;, &quot;false&quot;); // to un-quote boolean\r\n\r\nHowever, fields with dates are being broken down erroneously, for example:\r\n\r\n    &quot;{&quot;id&quot; : 267107086801,&quot;productCode&quot; : 02-671070868,&quot;lastUpdate&quot; : 2018-07-15,&quot;lastUpdateTimestamp&quot; : 2018-07-15 &quot;01&quot; : 49 : 58,&quot;user&quot; :{&quot;pf&quot;:{&quot;document&quot; : 123456789, &quot;name&quot; : &quot;Luis&quot; Fernando},&quot;address&quot; :{&quot;street&quot; : &quot;Rua&quot;Pref.Josu00e9AlvesLima,&quot;number&quot; : 37},&quot;payment&quot; : [{&quot;sequential&quot; : 1,&quot;id&quot; : &quot;CREDIT_CARD&quot;,&quot;value&quot; : 188,&quot;installments&quot; : 9}]}&quot;\r\n\r\nAlso, strings with spaces are wrong as well. How could I correct this logic? What am I doing wrong? Thanks in advance.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.google.code.gson/gson/2.8.5","title":"How add quotes in a JSON string, using Java, when the value is a date","body":"<p>I'm facing difficulties in a scenario that I need to read a JSON object, in Java, that has no double quotes in the keys and no values, like the example below:</p>\n\n<pre><code>\"{id: 267107086801, productCode: 02-671070868, lastUpdate: 2018-07-15, lastUpdateTimestamp: 2018-07-15 01:49:58, user: {pf: {document: 123456789, name: Luis Fernando}, address: {street: Rua Pref. Josu00e9 Alves Lima,number:37}, payment: [{sequential: 1, id: CREDIT_CARD, value: 188, installments: 9}]}\"\n</code></pre>\n\n<p>I was able to add the double quotes in the fields using the code below, with <code>replaceAll</code> and the <a href=\"https://mvnrepository.com/artifact/com.google.code.gson/gson/2.8.5\" rel=\"nofollow noreferrer\">Gson</a> library:</p>\n\n<pre><code>String jsonString = gson.toJson (obj);\n\nString jsonString = jsonString.replaceAll (\"([\\\\ w] +) [] *:\", \"\\\" $ 1 \\ \":\"); // to quote before: value\njsonString = jsonString.replaceAll (\": [] * ([\\\\ w @ \\\\.] +)\", \": \\\" $ 1 \\ \"\"); // to quote after: value, add special character as needed to the exclusion list in regex\njsonString = jsonString.replaceAll (\": [] * \\\" ([\\\\ d] +) \\ \"\", \": $ 1\"); // to un-quote decimal value\njsonString = jsonString.replaceAll (\"\\\" true \\ \"\", \"true\"); // to un-quote boolean\njsonString = jsonString.replaceAll (\"\\\" false \\ \"\", \"false\"); // to un-quote boolean\n</code></pre>\n\n<p>However, fields with dates are being broken down erroneously, for example:</p>\n\n<pre><code>\"{\"id\" : 267107086801,\"productCode\" : 02-671070868,\"lastUpdate\" : 2018-07-15,\"lastUpdateTimestamp\" : 2018-07-15 \"01\" : 49 : 58,\"user\" :{\"pf\":{\"document\" : 123456789, \"name\" : \"Luis\" Fernando},\"address\" :{\"street\" : \"Rua\"Pref.Josu00e9AlvesLima,\"number\" : 37},\"payment\" : [{\"sequential\" : 1,\"id\" : \"CREDIT_CARD\",\"value\" : 188,\"installments\" : 9}]}\"\n</code></pre>\n\n<p>Also, strings with spaces are wrong as well. How could I correct this logic? What am I doing wrong? Thanks in advance.</p>\n"},{"tags":["java","mysql"],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642836629,"creation_date":1642836629,"answer_id":70810855,"question_id":70799024,"body_markdown":"You can&#39;t bind a parameter to a column name. The key in this case will be treated as a string literal in SQL.\r\n\r\nAssuming a method call like this:\r\n\r\n    mySQL.isSet(&quot;houses&quot;, &quot;houseNumber&quot;, &quot;2335&quot;)\r\n\r\nthis code:\r\n\r\n    ResultSet resultSet = MySQL.getResultSetPrepareStatement(connection, &quot;SELECT * FROM &quot; + tableName + &quot; WHERE ?=?&quot;, Arrays.asList(key, value));\r\n\r\nWill generate a SQL statement equivalent to \r\n\r\n  SELECT * FROM houses WHERE &#39;houseNumber&#39;=&#39;2335&#39;\r\n\r\nOf course, the string &#39;houseNumber&#39; will never equal the string &#39;2335&#39;, so no results will be returned.\r\n\r\nYou&#39;ll need to substitute `key` into the SQL string, just like `tableName` already is:\r\n\r\n    ResultSet resultSet = MySQL.getResultSetPrepareStatement(connection, &quot;SELECT * FROM &quot; + tableName + &quot; WHERE &quot; + key + &quot;=?&quot;, Arrays.asList(value));\r\n","title":"MySQL checking if a entry is set","body":"<p>You can't bind a parameter to a column name. The key in this case will be treated as a string literal in SQL.</p>\n<p>Assuming a method call like this:</p>\n<pre><code>mySQL.isSet(&quot;houses&quot;, &quot;houseNumber&quot;, &quot;2335&quot;)\n</code></pre>\n<p>this code:</p>\n<pre><code>ResultSet resultSet = MySQL.getResultSetPrepareStatement(connection, &quot;SELECT * FROM &quot; + tableName + &quot; WHERE ?=?&quot;, Arrays.asList(key, value));\n</code></pre>\n<p>Will generate a SQL statement equivalent to</p>\n<p>SELECT * FROM houses WHERE 'houseNumber'='2335'</p>\n<p>Of course, the string 'houseNumber' will never equal the string '2335', so no results will be returned.</p>\n<p>You'll need to substitute <code>key</code> into the SQL string, just like <code>tableName</code> already is:</p>\n<pre><code>ResultSet resultSet = MySQL.getResultSetPrepareStatement(connection, &quot;SELECT * FROM &quot; + tableName + &quot; WHERE &quot; + key + &quot;=?&quot;, Arrays.asList(value));\n</code></pre>\n"}],"owner":{"account_id":23729715,"reputation":23,"user_id":17749148,"display_name":"Mxrlin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70810855,"answer_count":1,"score":0,"last_activity_date":1642836629,"creation_date":1642757273,"question_id":70799024,"body_markdown":"Im trying to check if a entry is set, so for example in a row with: ```user, password, birth```\r\nI check if in column user f.e. &quot;mxrlin&quot; is\r\n\r\nFor that im using that code in my Main Class:\r\n\r\n    if(!mySQL.isSet(tableName, &quot;houseNumber&quot;, houseNumberStr)){\r\n                System.out.println(house.getHouseNumber() + &quot; not set yet&quot;);\r\n                inserts.add(new BetterMySQL.KeyValue(&quot;houseNumber&quot;, houseNumberStr));\r\n                mySQL.insertEntry(tableName, inserts);\r\n            }else {\r\n                System.out.println(house.getHouseNumber() + &quot; set -&gt; updating&quot;);\r\n                mySQL.update(tableName, inserts, &quot;houseNumber&quot;, houseNumberStr);\r\n            }\r\n\r\n\r\nAnd the mySQL.isSet() method looks like this:\r\n\r\n    public boolean isSet(String tableName, String key, String value){\r\n        Check.checkNotEmpty(tableName);\r\n        Check.checkNotEmpty(key);\r\n        Check.checkNotEmpty(value);\r\n        ResultSet resultSet = MySQL.getResultSetPrepareStatement(connection, &quot;SELECT * FROM &quot; + tableName + &quot; WHERE ?=?&quot;, Arrays.asList(key, value));\r\n        try {\r\n            if(resultSet.next()){\r\n                return resultSet.getObject(value) != null;\r\n            }\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            try {\r\n                resultSet.close();\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\nBut with this code it always debugs me &quot;house.getHouseNumber() + &quot; not set yet&quot;, so the Class doesnt find the entry that is set","title":"MySQL checking if a entry is set","body":"<p>Im trying to check if a entry is set, so for example in a row with: <code>user, password, birth</code>\nI check if in column user f.e. &quot;mxrlin&quot; is</p>\n<p>For that im using that code in my Main Class:</p>\n<pre><code>if(!mySQL.isSet(tableName, &quot;houseNumber&quot;, houseNumberStr)){\n            System.out.println(house.getHouseNumber() + &quot; not set yet&quot;);\n            inserts.add(new BetterMySQL.KeyValue(&quot;houseNumber&quot;, houseNumberStr));\n            mySQL.insertEntry(tableName, inserts);\n        }else {\n            System.out.println(house.getHouseNumber() + &quot; set -&gt; updating&quot;);\n            mySQL.update(tableName, inserts, &quot;houseNumber&quot;, houseNumberStr);\n        }\n</code></pre>\n<p>And the mySQL.isSet() method looks like this:</p>\n<pre><code>public boolean isSet(String tableName, String key, String value){\n    Check.checkNotEmpty(tableName);\n    Check.checkNotEmpty(key);\n    Check.checkNotEmpty(value);\n    ResultSet resultSet = MySQL.getResultSetPrepareStatement(connection, &quot;SELECT * FROM &quot; + tableName + &quot; WHERE ?=?&quot;, Arrays.asList(key, value));\n    try {\n        if(resultSet.next()){\n            return resultSet.getObject(value) != null;\n        }\n    } catch (SQLException e) {\n        e.printStackTrace();\n    } finally {\n        try {\n            resultSet.close();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n    return false;\n}\n</code></pre>\n<p>But with this code it always debugs me &quot;house.getHouseNumber() + &quot; not set yet&quot;, so the Class doesnt find the entry that is set</p>\n"},{"tags":["java","linked-list","awt","actionlistener","circular-list"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":5,"creation_date":1638370746,"post_id":70186289,"comment_id":124070575,"body_markdown":"Hint: focus on the different parts of your application. Start with your list implementation. Note that it has NOTHING to do with audio, players, GUI. Nothing. It is just a data structure. Meaning: write code to **test** your list code, without worrying about anything else. Tests like: create an empty list. Create a list, add one entry ... check that the entry is there. Stuff like that. Ideally, write the test BEFORE you write the corresponding functional code. Run one test, make sure it passes. If not, add more print statements, use a debugger.","body":"Hint: focus on the different parts of your application. Start with your list implementation. Note that it has NOTHING to do with audio, players, GUI. Nothing. It is just a data structure. Meaning: write code to <b>test</b> your list code, without worrying about anything else. Tests like: create an empty list. Create a list, add one entry ... check that the entry is there. Stuff like that. Ideally, write the test BEFORE you write the corresponding functional code. Run one test, make sure it passes. If not, add more print statements, use a debugger."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1638370831,"post_id":70186289,"comment_id":124070606,"body_markdown":"Meaning: first make sure the simple things work, all by their own. Then, when you are convinced that the list works EXACTLY as it should, only then start working on larger things that use the basic things.","body":"Meaning: first make sure the simple things work, all by their own. Then, when you are convinced that the list works EXACTLY as it should, only then start working on larger things that use the basic things."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1638370859,"post_id":70186289,"comment_id":124070627,"body_markdown":"Hint: `new_node.next = new_node.prev = new_node;` ... when you create a new node, why would is NEXT point ... to itself?","body":"Hint: <code>new_node.next = new_node.prev = new_node;</code> ... when you create a new node, why would is NEXT point ... to itself?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1638370890,"post_id":70186289,"comment_id":124070639,"body_markdown":"Finally: learn about java naming conventions. You use &quot;_&quot; only for SOME constant. All variables and fields should go camelCase. And if you really want to enable us to help you ... see [mcve] and enhance your question accordingly. As suggested above, you would start by THROW WAY all that GUI stuff. Because the GUI doesnt matter as long as your plain list implementation isnt working correctly.","body":"Finally: learn about java naming conventions. You use &quot;_&quot; only for SOME constant. All variables and fields should go camelCase. And if you really want to enable us to help you ... see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and enhance your question accordingly. As suggested above, you would start by THROW WAY all that GUI stuff. Because the GUI doesnt matter as long as your plain list implementation isnt working correctly."}],"owner":{"account_id":20159847,"reputation":73,"user_id":14785107,"display_name":"Angry birds"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642835968,"creation_date":1638370092,"question_id":70186289,"body_markdown":"I&#39;m trying to make a music player using circular linked list that actually plays music. So far, the linked list doesn&#39;t have a problem (as far as I can tell), and I&#39;m having trouble with my `actionPerformed` method. I have 2 buttons, a button to add a song file path to the LinkedList and a play button to play all mp3 files in my linked list\r\n\r\nThis is GUI for those buttons\r\n\r\n      public class MPGui extends JFrame implements ActionListener{ \r\n      JButton btnAdd; \r\n      JButton btnPlay;\r\n\r\n      public MPGui() {\r\n\r\n     \r\n      btnAdd = new JButton(&quot;+&quot;);\r\n      panel.add(btnAdd);\r\n      btnAdd.setBounds(10, 37, 53, 23);\r\n      btnAdd.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 10));\r\n      btnAdd.setForeground(Color.WHITE);\r\n      btnAdd.setBackground(Color.DARK_GRAY);\r\n      btnAdd.addActionListener(this);\r\n\r\n      btnPlay = new JButton(&quot;Play&quot;);\r\n      btnPlay.setBounds(180, 11, 61, 23);\r\n      btnPlay.setForeground(Color.BLACK);\r\n      btnPlay.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 10)); \r\n      btnPlay.setBackground(UIManager.getColor(&quot;Button.darkShadow&quot;));\r\n      btnPlay.addActionListener(this);\r\n      panelOperations.add(btnPlay);\r\n   \r\n      //.... more buttons and frames\r\n\r\n\r\nAnd this actionPerformed method\r\n\r\n      @Override\r\n      public void actionPerformed(ActionEvent e) {\r\n        CreateList cl = new CreateList();\r\n        if (e.getSource() == btnAdd){\r\n                JFileChooser chooser = new JFileChooser();\r\n                chooser.setDialogTitle(&quot;Choose song to load...&quot;);\r\n                chooser.showOpenDialog(null);\r\n                songFile = chooser.getSelectedFile().toString();\r\n                fileName = chooser.getSelectedFile().getName();\r\n                songFile = songFile.replace(&quot;\\\\&quot;,&quot;/&quot;);          // my poorly made statements so that they can be taken by my File Reader class\r\n                System.out.println(&quot;directory&quot; + songFile);\r\n                String musicPath = &quot;/&quot;+ songFile;\r\n                System.out.println(&quot;filename: &quot; + fileName);\r\n                lblShowCurrent.setText(fileName);\r\n                System.out.println(musicPath);\r\n                cl.add(musicPath);    // adds the music path to the linked list\r\n                cl.display();\r\n\r\n        }\r\n        else if(e.getSource() == btnPlay){\r\n            System.out.println(&quot;beep&quot;);\r\n            cl.play();\r\n        }\r\n\r\n    }\r\n\r\nAnd this is my linked list class\r\n\r\n    public class CreateList {\r\n    FileReader fr = new FileReader();  // a class that reads my files, also makes it so I can pause play and stop the music\r\n    Node current;\r\n    public Node head = null;\r\n    public Node tail = null;\r\n\r\n    public class Node {\r\n        String path;\r\n        Node next;\r\n        Node prev;\r\n\r\n\r\n        public Node(String path) {\r\n            this.path = path;\r\n            current = head;\r\n        }\r\n    }\r\n    public void play() {\r\n        if (head == null) {\r\n            System.out.println(&quot;List is empty&quot;);\r\n        } else {\r\n            do {\r\n                String path = current.path;\r\n                fr.play(path);\r\n                current = current.next;\r\n\r\n            } while (current != head);\r\n        }\r\n    }\r\n    public void display(){\r\n        current = head;\r\n        if (head == null) {\r\n            System.out.println(&quot;List is empty&quot;);\r\n        } else {\r\n            do {\r\n                System.out.println(current.path);\r\n\r\n            } while (current != head);\r\n        }\r\n\r\n    }\r\n    public void add(String path) {\r\n        System.out.println(&quot;Song added&quot;);\r\n        if (head == null) {\r\n            Node new_node = new Node(path);\r\n            new_node.path = path;\r\n            new_node.next = new_node.prev = new_node;\r\n            head = new_node;\r\n            return;\r\n        }\r\n\r\n       \r\n        Node last = (head).prev;   \r\n\r\n        Node new_node = new Node(path);\r\n        new_node.path = path;\r\n        new_node.next = head;\r\n        (head).prev = new_node;\r\n        new_node.prev = last;\r\n        last.next = new_node;\r\n    }\r\n\r\nWhen I run this and first add a song, it recognizes that the FilePath is successfully added to the list, but when I press the play button it will say that list is empty. How do I solve this problem? ","title":"How to use ActionListener to add a file path to a Linked List","body":"<p>I'm trying to make a music player using circular linked list that actually plays music. So far, the linked list doesn't have a problem (as far as I can tell), and I'm having trouble with my <code>actionPerformed</code> method. I have 2 buttons, a button to add a song file path to the LinkedList and a play button to play all mp3 files in my linked list</p>\n<p>This is GUI for those buttons</p>\n<pre><code>  public class MPGui extends JFrame implements ActionListener{ \n  JButton btnAdd; \n  JButton btnPlay;\n\n  public MPGui() {\n\n \n  btnAdd = new JButton(&quot;+&quot;);\n  panel.add(btnAdd);\n  btnAdd.setBounds(10, 37, 53, 23);\n  btnAdd.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 10));\n  btnAdd.setForeground(Color.WHITE);\n  btnAdd.setBackground(Color.DARK_GRAY);\n  btnAdd.addActionListener(this);\n\n  btnPlay = new JButton(&quot;Play&quot;);\n  btnPlay.setBounds(180, 11, 61, 23);\n  btnPlay.setForeground(Color.BLACK);\n  btnPlay.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 10)); \n  btnPlay.setBackground(UIManager.getColor(&quot;Button.darkShadow&quot;));\n  btnPlay.addActionListener(this);\n  panelOperations.add(btnPlay);\n\n  //.... more buttons and frames\n</code></pre>\n<p>And this actionPerformed method</p>\n<pre><code>  @Override\n  public void actionPerformed(ActionEvent e) {\n    CreateList cl = new CreateList();\n    if (e.getSource() == btnAdd){\n            JFileChooser chooser = new JFileChooser();\n            chooser.setDialogTitle(&quot;Choose song to load...&quot;);\n            chooser.showOpenDialog(null);\n            songFile = chooser.getSelectedFile().toString();\n            fileName = chooser.getSelectedFile().getName();\n            songFile = songFile.replace(&quot;\\\\&quot;,&quot;/&quot;);          // my poorly made statements so that they can be taken by my File Reader class\n            System.out.println(&quot;directory&quot; + songFile);\n            String musicPath = &quot;/&quot;+ songFile;\n            System.out.println(&quot;filename: &quot; + fileName);\n            lblShowCurrent.setText(fileName);\n            System.out.println(musicPath);\n            cl.add(musicPath);    // adds the music path to the linked list\n            cl.display();\n\n    }\n    else if(e.getSource() == btnPlay){\n        System.out.println(&quot;beep&quot;);\n        cl.play();\n    }\n\n}\n</code></pre>\n<p>And this is my linked list class</p>\n<pre><code>public class CreateList {\nFileReader fr = new FileReader();  // a class that reads my files, also makes it so I can pause play and stop the music\nNode current;\npublic Node head = null;\npublic Node tail = null;\n\npublic class Node {\n    String path;\n    Node next;\n    Node prev;\n\n\n    public Node(String path) {\n        this.path = path;\n        current = head;\n    }\n}\npublic void play() {\n    if (head == null) {\n        System.out.println(&quot;List is empty&quot;);\n    } else {\n        do {\n            String path = current.path;\n            fr.play(path);\n            current = current.next;\n\n        } while (current != head);\n    }\n}\npublic void display(){\n    current = head;\n    if (head == null) {\n        System.out.println(&quot;List is empty&quot;);\n    } else {\n        do {\n            System.out.println(current.path);\n\n        } while (current != head);\n    }\n\n}\npublic void add(String path) {\n    System.out.println(&quot;Song added&quot;);\n    if (head == null) {\n        Node new_node = new Node(path);\n        new_node.path = path;\n        new_node.next = new_node.prev = new_node;\n        head = new_node;\n        return;\n    }\n\n   \n    Node last = (head).prev;   \n\n    Node new_node = new Node(path);\n    new_node.path = path;\n    new_node.next = head;\n    (head).prev = new_node;\n    new_node.prev = last;\n    last.next = new_node;\n}\n</code></pre>\n<p>When I run this and first add a song, it recognizes that the FilePath is successfully added to the list, but when I press the play button it will say that list is empty. How do I solve this problem?</p>\n"},{"tags":["java","multithreading","user-interface","awt","actionlistener"],"answers":[{"tags":[],"owner":{"account_id":19559913,"reputation":181,"user_id":14313338,"display_name":"Jurgen Rutten"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638461133,"creation_date":1638461133,"answer_id":70202803,"question_id":70202279,"body_markdown":"You don&#39;t need to call the same method as in the running-thread, you could use a shared &#39;volatile&#39; boolean in a synchronised method on the &#39;control&#39;-thread. \r\n\r\nLet&#39;s name this boolean &quot;isPlaying&quot;;\r\nYou would then in the running-thread frequently check the value of this boolean.\r\nAnd in the controller-classes you could then change the value of this boolean to false if you&#39;d like the Runner-thread to stop playing, and then you could keep checking the value, and when it goes back to true, you could start playing again(it would require some calls between methods going round, but it&#39;s do-able).\r\n\r\nIf you&#39;d like to save a position of where it stopped playing you could constantly inside the Runner-thread save the position in a long field, I don&#39;t think the control-thread needs access to this (unless you want to display it in a field I guess). \r\n\r\nShort example:\r\n\r\n    public class Example {\r\n    \r\n        static volatile boolean isPlaying;\r\n    \r\n        public static void main(String[] args) throws InterruptedException {\r\n            //runner\r\n            Runnable runnable = () -&gt; {\r\n                try {\r\n                    Example.play();\r\n                } catch (InterruptedException ex) {\r\n                    System.out.println(&quot;fail&quot;);\r\n                }\r\n            };\r\n            Thread thread = new Thread(runnable);\r\n            thread.start();\r\n    \r\n            //control\r\n            Runnable runnable2 = () -&gt; {\r\n                Example.stopButton();\r\n            };\r\n            Thread thread2 = new Thread(runnable2);\r\n            thread2.start();\r\n    \r\n            Thread.sleep(5000);\r\n            Example.stopButton();\r\n    \r\n        }\r\n    \r\n        public static void play() throws InterruptedException {\r\n            isPlaying = true;\r\n            int i = 0;\r\n    \r\n            while (isPlaying) {\r\n                //code to play music\r\n    \r\n                System.out.println(&quot;playing - &quot; + i);\r\n                i++;\r\n                Thread.sleep(1000);\r\n            }\r\n    \r\n            System.out.println(&quot;Out of loop, stopped playing&quot;);\r\n        }\r\n    \r\n        public static void stopButton() {\r\n            synchronized (Example.class) {\r\n                isPlaying = false;\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n","title":"how to call on the same thread from a different action listener","body":"<p>You don't need to call the same method as in the running-thread, you could use a shared 'volatile' boolean in a synchronised method on the 'control'-thread.</p>\n<p>Let's name this boolean &quot;isPlaying&quot;;\nYou would then in the running-thread frequently check the value of this boolean.\nAnd in the controller-classes you could then change the value of this boolean to false if you'd like the Runner-thread to stop playing, and then you could keep checking the value, and when it goes back to true, you could start playing again(it would require some calls between methods going round, but it's do-able).</p>\n<p>If you'd like to save a position of where it stopped playing you could constantly inside the Runner-thread save the position in a long field, I don't think the control-thread needs access to this (unless you want to display it in a field I guess).</p>\n<p>Short example:</p>\n<pre><code>public class Example {\n\n    static volatile boolean isPlaying;\n\n    public static void main(String[] args) throws InterruptedException {\n        //runner\n        Runnable runnable = () -&gt; {\n            try {\n                Example.play();\n            } catch (InterruptedException ex) {\n                System.out.println(&quot;fail&quot;);\n            }\n        };\n        Thread thread = new Thread(runnable);\n        thread.start();\n\n        //control\n        Runnable runnable2 = () -&gt; {\n            Example.stopButton();\n        };\n        Thread thread2 = new Thread(runnable2);\n        thread2.start();\n\n        Thread.sleep(5000);\n        Example.stopButton();\n\n    }\n\n    public static void play() throws InterruptedException {\n        isPlaying = true;\n        int i = 0;\n\n        while (isPlaying) {\n            //code to play music\n\n            System.out.println(&quot;playing - &quot; + i);\n            i++;\n            Thread.sleep(1000);\n        }\n\n        System.out.println(&quot;Out of loop, stopped playing&quot;);\n    }\n\n    public static void stopButton() {\n        synchronized (Example.class) {\n            isPlaying = false;\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":20159847,"reputation":73,"user_id":14785107,"display_name":"Angry birds"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642835918,"creation_date":1638459296,"question_id":70202279,"body_markdown":"I am making a GUI for a music player I have 2 buttons I want to run on the same thread but on different action listeners one is to play the music and one is to stop the music. Here is my code:\r\n\r\n     ActionListener bl2 = new ActionListener() { // play button \r\n                 @Override\r\n                 public void actionPerformed(ActionEvent e) {\r\n                 System.out.println(&quot;listener1&quot; + Thread.currentThread().getName());\r\n                 System.out.println(&quot;beep&quot;); //created a new thread here so that my GUI won&#39;t freeze up\r\n                 Runnable runnable = () -&gt; {\r\n                 cl.play();\r\n                 };\r\n                 Thread thread = new Thread(runnable);\r\n                 thread.start();\r\n                }\r\n\r\n            };\r\n     ActionListener bl3 = new ActionListener() { //supposedly to stop the music which the other thread is running\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                cl.stop();\r\n\r\n                }\r\n           };\r\n\r\nI also have a pause button to be able to pause the music. My problem is that I don&#39;t know how to stop my music whenever I click the stop button in my GUI it executes (I had the method print out whenever its called) but won&#39;t stop the music, that&#39;s why I think that to stop my music I need to call my method in the same thread as the play button is running in, is this correct? How do I do that? Thank you.","title":"how to call on the same thread from a different action listener","body":"<p>I am making a GUI for a music player I have 2 buttons I want to run on the same thread but on different action listeners one is to play the music and one is to stop the music. Here is my code:</p>\n<pre><code> ActionListener bl2 = new ActionListener() { // play button \n             @Override\n             public void actionPerformed(ActionEvent e) {\n             System.out.println(&quot;listener1&quot; + Thread.currentThread().getName());\n             System.out.println(&quot;beep&quot;); //created a new thread here so that my GUI won't freeze up\n             Runnable runnable = () -&gt; {\n             cl.play();\n             };\n             Thread thread = new Thread(runnable);\n             thread.start();\n            }\n\n        };\n ActionListener bl3 = new ActionListener() { //supposedly to stop the music which the other thread is running\n            @Override\n            public void actionPerformed(ActionEvent e) {\n            cl.stop();\n\n            }\n       };\n</code></pre>\n<p>I also have a pause button to be able to pause the music. My problem is that I don't know how to stop my music whenever I click the stop button in my GUI it executes (I had the method print out whenever its called) but won't stop the music, that's why I think that to stop my music I need to call my method in the same thread as the play button is running in, is this correct? How do I do that? Thank you.</p>\n"},{"tags":["java","list","generics","arraylist","abstract"],"comments":[{"owner":{"account_id":21601553,"reputation":25,"user_id":15929619,"display_name":"AbdoCherry"},"score":0,"creation_date":1642812242,"post_id":70809085,"comment_id":125179906,"body_markdown":"Sorry for missing the classname of abstaract class =&gt; It&#39;s public abstract class Employee{}","body":"Sorry for missing the classname of abstaract class =&gt; It&#39;s public abstract class Employee{}"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1642812491,"post_id":70809085,"comment_id":125179938,"body_markdown":"You may not want to build the superclass as a generic class, but you&#39;re going to have to.","body":"You may not want to build the superclass as a generic class, but you&#39;re going to have to."},{"owner":{"account_id":21601553,"reputation":25,"user_id":15929619,"display_name":"AbdoCherry"},"score":0,"creation_date":1642812711,"post_id":70809085,"comment_id":125179965,"body_markdown":"Is it not possible to use an abstract generic method only? I mean the variables for the objects won&#39;t change at all. Only in the subclass I may add a class to build new objects. Example &quot;Director&quot;, &quot;Janitor&quot;, &quot;Manager&quot; etc...","body":"Is it not possible to use an abstract generic method only? I mean the variables for the objects won&#39;t change at all. Only in the subclass I may add a class to build new objects. Example &quot;Director&quot;, &quot;Janitor&quot;, &quot;Manager&quot; etc..."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1642813417,"post_id":70809085,"comment_id":125180062,"body_markdown":"The variables for the objects won&#39;t change, but when you write `public &lt;T&gt; List&lt;T&gt; myFunction`, `myFunction` has to work for _all_ values of `T`, not just the one associated with a particular class.  To change that, `T` has to be a generic parameter of the type.","body":"The variables for the objects won&#39;t change, but when you write <code>public &lt;T&gt; List&lt;T&gt; myFunction</code>, <code>myFunction</code> has to work for <i>all</i> values of <code>T</code>, not just the one associated with a particular class.  To change that, <code>T</code> has to be a generic parameter of the type."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1642814487,"post_id":70809085,"comment_id":125180208,"body_markdown":"Are you sure you need the abstract method? If so, can it return `List&lt;Employee&gt;` without specialization in the subclass? What do the callers of this code look like?","body":"Are you sure you need the abstract method? If so, can it return <code>List&lt;Employee&gt;</code> without specialization in the subclass? What do the callers of this code look like?"},{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":1,"creation_date":1642817221,"post_id":70809085,"comment_id":125180505,"body_markdown":"Your override isn&#39;t returning a list of `T`. Rather it&#39;s a list of `Clerk`.  Afaik, there&#39;s no super (abstract) class method signature that  can be overridden to return different list types, which seems to be what you&#39;re attempting.  Consider rewriting your question to explain what you&#39;re trying to accomplish with this method. (Needing a `Clerk` instance to read a list of `Clerk`s doesn&#39;t make much sense.)  Then someone can suggest an appropriate pattern.","body":"Your override isn&#39;t returning a list of <code>T</code>. Rather it&#39;s a list of <code>Clerk</code>.  Afaik, there&#39;s no super (abstract) class method signature that  can be overridden to return different list types, which seems to be what you&#39;re attempting.  Consider rewriting your question to explain what you&#39;re trying to accomplish with this method. (Needing a <code>Clerk</code> instance to read a list of <code>Clerk</code>s doesn&#39;t make much sense.)  Then someone can suggest an appropriate pattern."},{"owner":{"account_id":1866073,"reputation":448,"user_id":1689608,"display_name":"dshelya"},"score":0,"creation_date":1642847401,"post_id":70809085,"comment_id":125184589,"body_markdown":"Besides what @TimMoore proposed in his answer, the only alternative &quot;safe&quot; option is to actually make your superclass generic: `abstract static class Employee&lt;T extends Employee&lt;T&gt;&gt;` to ensure that a particular `T` is a subclass of `Employee` whenever a class extends your Employee. `class Clerk extends Employee&lt;Clerk&gt;` and then you&#39;re good to go:  `public List&lt;Clerk&gt; read(String path) {...}`","body":"Besides what @TimMoore proposed in his answer, the only alternative &quot;safe&quot; option is to actually make your superclass generic: <code>abstract static class Employee&lt;T extends Employee&lt;T&gt;&gt;</code> to ensure that a particular <code>T</code> is a subclass of <code>Employee</code> whenever a class extends your Employee. <code>class Clerk extends Employee&lt;Clerk&gt;</code> and then you&#39;re good to go:  <code>public List&lt;Clerk&gt; read(String path) {...}</code>"}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642835134,"creation_date":1642835134,"answer_id":70810722,"question_id":70809085,"body_markdown":"You can declare the method in `Employee` like this:\r\n\r\n    public abstract List&lt;? extends Employee&gt; read(String path);\r\n\r\nYou could translate this to English like this &quot;read returns a list of some unknown type of employee&quot;. You&#39;ll be able to iterate the list and otherwise read from it, and treat elements as `Employee`. You won&#39;t be able to add new `Employee` elements to the list, or otherwise pass `Employee` elements as parameters to methods. For this use case, that is probably fine.\r\n\r\nYou can override it in `Clerk` and the other subclasses with method signatures like this:\r\n\r\n    public List&lt;Clerk&gt; read(String path)\r\n\r\nThis works because `List&lt;Clerk&gt;` is a _subtype_ of `List&lt;? extends Clerk&gt;`, and Java allows you to override a method with the overriding method returning a more specific type than the method it overrides.\r\n\r\nIf you then call `read` on a reference of type `Clerk`, the return type will be `List&lt;Clerk&gt;`, as expected.\r\n\r\nThis would not work if the `Employee` class returned `List&lt;Employee&gt;` instead of `List&lt;? extends Employee&gt;`, because `List` is _invariant_ and therefore `List&lt;Clerk&gt;` is _not_ a subtype of `List&lt;Employee&gt;`. To understand why that is, consider that a `List&lt;Employee&gt;` _does_ allow you to add new `Employee` elements to it. If the actual type of the list were `List&lt;Clerk&gt;`, but the compiler allowed adding other types of `Employee` to the list that are not instances of `Clerk`, it would violate the expectation that the list only contained `Clerk` elements, and likely lead to runtime errors.\r\n\r\nI do agree with Gene&#39;s comment that it doesn&#39;t make much sense to have these methods on instances of `Employee` and `Clerk`. Perhaps having an `EmployeeReader` interface and `ClerkReader` implementation would be better.","title":"Using abstract method with generic list as return type in java","body":"<p>You can declare the method in <code>Employee</code> like this:</p>\n<pre><code>public abstract List&lt;? extends Employee&gt; read(String path);\n</code></pre>\n<p>You could translate this to English like this &quot;read returns a list of some unknown type of employee&quot;. You'll be able to iterate the list and otherwise read from it, and treat elements as <code>Employee</code>. You won't be able to add new <code>Employee</code> elements to the list, or otherwise pass <code>Employee</code> elements as parameters to methods. For this use case, that is probably fine.</p>\n<p>You can override it in <code>Clerk</code> and the other subclasses with method signatures like this:</p>\n<pre><code>public List&lt;Clerk&gt; read(String path)\n</code></pre>\n<p>This works because <code>List&lt;Clerk&gt;</code> is a <em>subtype</em> of <code>List&lt;? extends Clerk&gt;</code>, and Java allows you to override a method with the overriding method returning a more specific type than the method it overrides.</p>\n<p>If you then call <code>read</code> on a reference of type <code>Clerk</code>, the return type will be <code>List&lt;Clerk&gt;</code>, as expected.</p>\n<p>This would not work if the <code>Employee</code> class returned <code>List&lt;Employee&gt;</code> instead of <code>List&lt;? extends Employee&gt;</code>, because <code>List</code> is <em>invariant</em> and therefore <code>List&lt;Clerk&gt;</code> is <em>not</em> a subtype of <code>List&lt;Employee&gt;</code>. To understand why that is, consider that a <code>List&lt;Employee&gt;</code> <em>does</em> allow you to add new <code>Employee</code> elements to it. If the actual type of the list were <code>List&lt;Clerk&gt;</code>, but the compiler allowed adding other types of <code>Employee</code> to the list that are not instances of <code>Clerk</code>, it would violate the expectation that the list only contained <code>Clerk</code> elements, and likely lead to runtime errors.</p>\n<p>I do agree with Gene's comment that it doesn't make much sense to have these methods on instances of <code>Employee</code> and <code>Clerk</code>. Perhaps having an <code>EmployeeReader</code> interface and <code>ClerkReader</code> implementation would be better.</p>\n"}],"owner":{"account_id":21601553,"reputation":25,"user_id":15929619,"display_name":"AbdoCherry"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":816,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70810722,"answer_count":1,"score":1,"last_activity_date":1642835134,"creation_date":1642812175,"question_id":70809085,"body_markdown":"im trying to build this abstract method within an abstract class and using it in one of my subclasses and it&#39;s return type shall be a List / ArrayList. I&#39;m really struggling with the syntax, and most of the previous asked question are not referring to my special issue.\r\n\r\nMost important for me to describe it in easy words.\r\n\r\n 1. Let me use a method\r\n 2. Output (return) of that method should be a list of ...I don&#39;t what objects yet\r\n 3. And it&#39;s original declaration is abstract\r\n\r\n**Here the abstract class***\r\n\r\n    private int employeeID;\r\n        private String name, sID, department;\r\n        private double salary;\r\n    \r\n        // Constructor (empty)\r\n        public Employee() {\r\n    \r\n        }\r\n    \r\n        // Constructor =&gt; Every Employee has at least this attributes =&gt; Subclasses may have additonal attributes\r\n        public Employee(int employeeID, String name, String sID, double salary, String department) {\r\n            this.employeeID = employeeID;\r\n            this.name = name;\r\n            this.sID = sID;\r\n            this.salary = salary;\r\n            this.department = department;\r\n        }\r\n    \r\n        // Getters and Setters below\r\n        //.......\r\n    \r\n     // Abstract method with generic list as return type\r\n        public abstract &lt;T&gt; List&lt;T&gt; read(String path);\r\n\r\n***Here is the Subclass***\r\n\r\n    public class Clerk extends Employee {\r\n    \r\n        public Clerk() {\r\n    \r\n        }\r\n    \r\n        public Clerk(int employeeID, String name, String sID, double salary, String department) {\r\n            super(employeeID, name, sID, salary, department);\r\n        }\r\n    \r\n        @Override\r\n        public &lt;T&gt; List&lt;T&gt; read(String path) {\r\n            // TODO Auto-generated method stub\r\n    \r\n            String line = null;\r\n            List&lt;Clerk&gt; clerk = new ArrayList&lt;Clerk&gt;();\r\n    \r\n            try {\r\n                BufferedReader reader = new BufferedReader(new FileReader(path));\r\n                reader.readLine();\r\n    \r\n                while ((line = reader.readLine()) != null) {\r\n                    String[] clerkValues = line.split(&quot;;&quot;);\r\n                    clerk.add(new Clerk(Integer.parseInt(clerkValues[0]), clerkValues[1], clerkValues[2], Double.parseDouble(clerkValues[3]), clerkValues[4]));\r\n    \r\n                }\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return clerk; // Error here,Type mismatch: cannot convert from List&lt;Clerk&gt; to List&lt;T&gt;\r\n\r\n\r\n----------\r\n\r\nI&#39;m always getting an error. And I don&#39;t want to build the superclass (Employee) as a generic Class like =&gt;\r\n\r\n   \r\n\r\n     public abstract class Employee &lt;T&gt;{\r\n        // Code here\r\n        }\r\n\r\nThank you in advance for your support.","title":"Using abstract method with generic list as return type in java","body":"<p>im trying to build this abstract method within an abstract class and using it in one of my subclasses and it's return type shall be a List / ArrayList. I'm really struggling with the syntax, and most of the previous asked question are not referring to my special issue.</p>\n<p>Most important for me to describe it in easy words.</p>\n<ol>\n<li>Let me use a method</li>\n<li>Output (return) of that method should be a list of ...I don't what objects yet</li>\n<li>And it's original declaration is abstract</li>\n</ol>\n<p><strong>Here the abstract class</strong>*</p>\n<pre><code>private int employeeID;\n    private String name, sID, department;\n    private double salary;\n\n    // Constructor (empty)\n    public Employee() {\n\n    }\n\n    // Constructor =&gt; Every Employee has at least this attributes =&gt; Subclasses may have additonal attributes\n    public Employee(int employeeID, String name, String sID, double salary, String department) {\n        this.employeeID = employeeID;\n        this.name = name;\n        this.sID = sID;\n        this.salary = salary;\n        this.department = department;\n    }\n\n    // Getters and Setters below\n    //.......\n\n // Abstract method with generic list as return type\n    public abstract &lt;T&gt; List&lt;T&gt; read(String path);\n</code></pre>\n<p><em><strong>Here is the Subclass</strong></em></p>\n<pre><code>public class Clerk extends Employee {\n\n    public Clerk() {\n\n    }\n\n    public Clerk(int employeeID, String name, String sID, double salary, String department) {\n        super(employeeID, name, sID, salary, department);\n    }\n\n    @Override\n    public &lt;T&gt; List&lt;T&gt; read(String path) {\n        // TODO Auto-generated method stub\n\n        String line = null;\n        List&lt;Clerk&gt; clerk = new ArrayList&lt;Clerk&gt;();\n\n        try {\n            BufferedReader reader = new BufferedReader(new FileReader(path));\n            reader.readLine();\n\n            while ((line = reader.readLine()) != null) {\n                String[] clerkValues = line.split(&quot;;&quot;);\n                clerk.add(new Clerk(Integer.parseInt(clerkValues[0]), clerkValues[1], clerkValues[2], Double.parseDouble(clerkValues[3]), clerkValues[4]));\n\n            }\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return clerk; // Error here,Type mismatch: cannot convert from List&lt;Clerk&gt; to List&lt;T&gt;\n</code></pre>\n<hr />\n<p>I'm always getting an error. And I don't want to build the superclass (Employee) as a generic Class like =&gt;</p>\n<pre><code> public abstract class Employee &lt;T&gt;{\n    // Code here\n    }\n</code></pre>\n<p>Thank you in advance for your support.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1642789827,"post_id":70806021,"comment_id":125174136,"body_markdown":"What is the problem with the code you have now?","body":"What is the problem with the code you have now?"},{"owner":{"account_id":10276679,"reputation":131,"user_id":14295211,"display_name":"ace1234"},"score":0,"creation_date":1642790049,"post_id":70806021,"comment_id":125174210,"body_markdown":"Looks fine to me. You can replace `System.out.println(&quot;Your username is &quot;.....)` with `System.out.printlnt(&quot;Your username is &quot; + username)`","body":"Looks fine to me. You can replace <code>System.out.println(&quot;Your username is &quot;.....)</code> with <code>System.out.printlnt(&quot;Your username is &quot; + username)</code>"},{"owner":{"account_id":24012762,"reputation":1,"user_id":17996122,"display_name":"JD80"},"score":0,"creation_date":1642790743,"post_id":70806021,"comment_id":125174407,"body_markdown":"Thanks for the quick replies, stringOperation(String fName, String sName); the error shows &#39;)&#39; expected after (String","body":"Thanks for the quick replies, stringOperation(String fName, String sName); the error shows &#39;)&#39; expected after (String"},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1642791332,"post_id":70806021,"comment_id":125174590,"body_markdown":"How about `String username = String.format(&quot;%s%s&quot;,initial.charAt(0), s);`","body":"How about <code>String username = String.format(&quot;%s%s&quot;,initial.charAt(0), s);</code>"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1642834442,"post_id":70806021,"comment_id":125182320,"body_markdown":"Please include this information in your question. In any case, you should call the method as `stringOperation(fName, sName)`. You only include the type when defining it.","body":"Please include this information in your question. In any case, you should call the method as <code>stringOperation(fName, sName)</code>. You only include the type when defining it."}],"answers":[{"tags":[],"owner":{"account_id":7401955,"reputation":11,"user_id":5632104,"display_name":"Eric Anderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642791531,"creation_date":1642791221,"answer_id":70806306,"question_id":70806021,"body_markdown":"If you want to make the method cleaner you could do something like this \r\n\r\n    private static void stringOperation(String f, String s) {\r\n        System.out.println(&quot;Your username is &quot; + f.substring(0,1) + s)\r\n    }\r\n\r\nIf you need to refer back to the new username then have a global variable that your method can set to refer to later like this.\r\n\r\n    private static void stringOperation(String f, String s) {\r\n        Assessment.username = f.substring(0,1) + s;\r\n        System.out.println(&quot;Your username is &quot; + Assessment.username);\r\n    }","title":"Generate a username using string parameters","body":"<p>If you want to make the method cleaner you could do something like this</p>\n<pre><code>private static void stringOperation(String f, String s) {\n    System.out.println(&quot;Your username is &quot; + f.substring(0,1) + s)\n}\n</code></pre>\n<p>If you need to refer back to the new username then have a global variable that your method can set to refer to later like this.</p>\n<pre><code>private static void stringOperation(String f, String s) {\n    Assessment.username = f.substring(0,1) + s;\n    System.out.println(&quot;Your username is &quot; + Assessment.username);\n}\n</code></pre>\n"}],"owner":{"account_id":24012762,"reputation":1,"user_id":17996122,"display_name":"JD80"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":648,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642834355,"creation_date":1642789750,"question_id":70806021,"body_markdown":"I&#39;m new to Java. I am tasked with creating a menu program, one option is to generate a username in the form of first initial and surname.\r\nThe method is `stringOperation(String f, String s)`\r\nVariables are `fName` and `sName`.\r\n\r\nHere is the code. I have highlighted the areas I need help with. The rest of the code is OK, I think. This is a section of the pseudocode that explains what is required:\r\n    \r\n\r\n`stringOperation(String f, String s)`\r\n - 3.1.1 \tAssign first character of first initial to variable using `f.substring(start position, length of string)`.\r\n - 3.1.2 \tConcatenate first initial with users surname.\r\n - 3.1.3\tprint username to console.\r\n\r\n```\r\nimport java.util.Scanner; // imports scanner class\r\n\r\npublic class Assessment {\r\n    public static void main(String[] args) { //main method\r\n\r\n        menu();  //call menu method\r\n    }\r\n\r\n    public static void menu() { //method to display menu options\r\n        int choice;\r\n        String fName;\r\n        String sName;\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        //displays menu options\r\n        System.out.println(&quot;Welcome&quot;);\r\n        System.out.println(&quot;1. Username&quot;);\r\n        System.out.println(&quot;2. Factorial&quot;);\r\n        System.out.println(&quot;3. Area of triangle&quot;);\r\n        System.out.println(&quot;4. Circumference of circle&quot;);\r\n        System.out.println(&quot;5. Exit&quot;);\r\n\r\n        //asks for user input\r\n        do {\r\n            System.out.println(&quot;Enter your first name&quot;);\r\n            fName = sc.next();\r\n            System.out.println(&quot;Enter your surname&quot;);\r\n            sName = sc.next();\r\n            System.out.println(&quot;Thank you. Now enter a selection (1-5):&quot;);\r\n            choice = sc.nextInt();\r\n            //menu loop\r\n\r\n            switch (choice) {\r\n                case 1:\r\n                    **stringOperation(String fName, String sName);**\r\n                    break;\r\n                case 2:\r\n                    numberFactorial();\r\n                    break;\r\n                case 3:\r\n                    areaTriangle();\r\n                    break;\r\n                case 4:\r\n                    circumferenceCircle();\r\n                    break;\r\n            }\r\n\r\n        }while (choice!=5);\r\n    }\r\n**//stringOperation method\r\n    private static void stringOperation(String f, String s) {\r\n        String initial = f.substring(0,1);\r\n        String username = initial + s;\r\n        System.out.println(&quot;Your username is &quot; + initial + s);\r\n    }**\r\n\r\n    public static void numberFactorial() { //method to calculate factorial of a number\r\n\r\n        //variables\r\n        int number;\r\n        int factorial = 1;\r\n        int i;\r\n        //input\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;Please enter a number: &quot;);\r\n        number = sc.nextInt();\r\n        //for loop\r\n        for (i = 1; i &lt;= number; i++) {\r\n            factorial = factorial * i;\r\n        }\r\n        System.out.println(&quot;Factorial of &quot; + number + &quot; is &quot; + factorial);\r\n    }\r\n\r\n\r\n    public static void areaTriangle ()//method to calculate area of a triangle\r\n    {   //input\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        //variables\r\n        double width;\r\n        double height;\r\n        double area;\r\n        //input\r\n        System.out.println(&quot;Enter the width: &quot;);\r\n        width = sc.nextInt();\r\n        System.out.println(&quot;Enter height: &quot;);\r\n        height = sc.nextInt();\r\n        area = (height * width) / 2;\r\n        System.out.println(&quot;The area is :&quot; + area);\r\n    }\r\n\r\n    public static void circumferenceCircle ()//method to calculate circumference of a circle\r\n    {   //variables\r\n\r\n        double radius;\r\n        double circumference;\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;Enter radius: &quot;);\r\n        radius = sc.nextDouble();\r\n        circumference = Math.PI * 2 * radius;\r\n        System.out.println(&quot;The circumference is : &quot; + circumference);\r\n\r\n    }\r\n}\r\n```\r\n","title":"Generate a username using string parameters","body":"<p>I'm new to Java. I am tasked with creating a menu program, one option is to generate a username in the form of first initial and surname.\nThe method is <code>stringOperation(String f, String s)</code>\nVariables are <code>fName</code> and <code>sName</code>.</p>\n<p>Here is the code. I have highlighted the areas I need help with. The rest of the code is OK, I think. This is a section of the pseudocode that explains what is required:</p>\n<p><code>stringOperation(String f, String s)</code></p>\n<ul>\n<li>3.1.1    Assign first character of first initial to variable using <code>f.substring(start position, length of string)</code>.</li>\n<li>3.1.2    Concatenate first initial with users surname.</li>\n<li>3.1.3    print username to console.</li>\n</ul>\n<pre><code>import java.util.Scanner; // imports scanner class\n\npublic class Assessment {\n    public static void main(String[] args) { //main method\n\n        menu();  //call menu method\n    }\n\n    public static void menu() { //method to display menu options\n        int choice;\n        String fName;\n        String sName;\n\n        Scanner sc = new Scanner(System.in);\n\n        //displays menu options\n        System.out.println(&quot;Welcome&quot;);\n        System.out.println(&quot;1. Username&quot;);\n        System.out.println(&quot;2. Factorial&quot;);\n        System.out.println(&quot;3. Area of triangle&quot;);\n        System.out.println(&quot;4. Circumference of circle&quot;);\n        System.out.println(&quot;5. Exit&quot;);\n\n        //asks for user input\n        do {\n            System.out.println(&quot;Enter your first name&quot;);\n            fName = sc.next();\n            System.out.println(&quot;Enter your surname&quot;);\n            sName = sc.next();\n            System.out.println(&quot;Thank you. Now enter a selection (1-5):&quot;);\n            choice = sc.nextInt();\n            //menu loop\n\n            switch (choice) {\n                case 1:\n                    **stringOperation(String fName, String sName);**\n                    break;\n                case 2:\n                    numberFactorial();\n                    break;\n                case 3:\n                    areaTriangle();\n                    break;\n                case 4:\n                    circumferenceCircle();\n                    break;\n            }\n\n        }while (choice!=5);\n    }\n**//stringOperation method\n    private static void stringOperation(String f, String s) {\n        String initial = f.substring(0,1);\n        String username = initial + s;\n        System.out.println(&quot;Your username is &quot; + initial + s);\n    }**\n\n    public static void numberFactorial() { //method to calculate factorial of a number\n\n        //variables\n        int number;\n        int factorial = 1;\n        int i;\n        //input\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Please enter a number: &quot;);\n        number = sc.nextInt();\n        //for loop\n        for (i = 1; i &lt;= number; i++) {\n            factorial = factorial * i;\n        }\n        System.out.println(&quot;Factorial of &quot; + number + &quot; is &quot; + factorial);\n    }\n\n\n    public static void areaTriangle ()//method to calculate area of a triangle\n    {   //input\n        Scanner sc = new Scanner(System.in);\n\n        //variables\n        double width;\n        double height;\n        double area;\n        //input\n        System.out.println(&quot;Enter the width: &quot;);\n        width = sc.nextInt();\n        System.out.println(&quot;Enter height: &quot;);\n        height = sc.nextInt();\n        area = (height * width) / 2;\n        System.out.println(&quot;The area is :&quot; + area);\n    }\n\n    public static void circumferenceCircle ()//method to calculate circumference of a circle\n    {   //variables\n\n        double radius;\n        double circumference;\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter radius: &quot;);\n        radius = sc.nextDouble();\n        circumference = Math.PI * 2 * radius;\n        System.out.println(&quot;The circumference is : &quot; + circumference);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","mockito","apache-poi","powermockito"],"comments":[{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":2,"creation_date":1642172238,"post_id":70711685,"comment_id":125007290,"body_markdown":"Why use mocking at all? Why not just have the code you want to test read a real workbook and assert that the code behaves as expected? If you need to mock anything, mock the code that retrieves the workbook to return an instance of a real XSSFWorkbook.","body":"Why use mocking at all? Why not just have the code you want to test read a real workbook and assert that the code behaves as expected? If you need to mock anything, mock the code that retrieves the workbook to return an instance of a real XSSFWorkbook."},{"owner":{"account_id":15958696,"reputation":1080,"user_id":11516350,"display_name":"UrbanoJVR"},"score":0,"creation_date":1642207380,"post_id":70711685,"comment_id":125017946,"body_markdown":"I cannot create real instance of workbook because is protected in package...","body":"I cannot create real instance of workbook because is protected in package..."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":1,"creation_date":1642239741,"post_id":70711685,"comment_id":125021670,"body_markdown":"In your example, you have `when(WorkbookFactory.create((File) any())).thenReturn(workbookMock);` - why can&#39;t this be `when(WorkbookFactory.create((File) any())).thenReturn(realWorkbook);`?","body":"In your example, you have <code>when(WorkbookFactory.create((File) any())).thenReturn(workbookMock);</code> - why can&#39;t this be <code>when(WorkbookFactory.create((File) any())).thenReturn(realWorkbook);</code>?"}],"answers":[{"tags":[],"owner":{"account_id":15958696,"reputation":1080,"user_id":11516350,"display_name":"UrbanoJVR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642833487,"creation_date":1642833487,"answer_id":70810573,"question_id":70711685,"body_markdown":"Yes, I can create a real instance of workbook using, for example, XSSFWorkbook class.\r\n\r\nI was trying wrong to do something like this:\r\n\r\n    Workbook workbook = new XSSFWorkbook();\r\n    Sheet sheet = new XSSFSheet();\r\n    workbook.setSheet(sheet);\r\n\r\nNo problem with XSSFWorkbook, but XSSFSheet has protected access and, obviously, I can&#39;t create an instance of it.\r\n\r\nThe correct way is:\r\n\r\n    Workbook workbook = new XSSFWorkbook();\r\n    Sheet sheet = workbook.createSheet();\r\n    Row row = sheet.createRow();\r\n    Cell cell = row.createCell();\r\n    ...\r\n\r\nI did not know that way of working with sheets and I was trying to inject by the classic way.","title":"Java how to test correctly mocked instances of POI Row and Cell when use iterator forEach()","body":"<p>Yes, I can create a real instance of workbook using, for example, XSSFWorkbook class.</p>\n<p>I was trying wrong to do something like this:</p>\n<pre><code>Workbook workbook = new XSSFWorkbook();\nSheet sheet = new XSSFSheet();\nworkbook.setSheet(sheet);\n</code></pre>\n<p>No problem with XSSFWorkbook, but XSSFSheet has protected access and, obviously, I can't create an instance of it.</p>\n<p>The correct way is:</p>\n<pre><code>Workbook workbook = new XSSFWorkbook();\nSheet sheet = workbook.createSheet();\nRow row = sheet.createRow();\nCell cell = row.createCell();\n...\n</code></pre>\n<p>I did not know that way of working with sheets and I was trying to inject by the classic way.</p>\n"}],"owner":{"account_id":15958696,"reputation":1080,"user_id":11516350,"display_name":"UrbanoJVR"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1031,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70810573,"answer_count":1,"score":0,"last_activity_date":1642833487,"creation_date":1642168579,"question_id":70711685,"body_markdown":"Given this code:\r\n\r\n    protected Sheet getSheet(String pathName, int sheetNumber) throws IOException {\r\n        File file = new File(pathName);\r\n        Workbook workbook = WorkbookFactory.create(file);\r\n        return workbook.getSheetAt(sheetNumber);\r\n    }\r\n\r\n    public List&lt;String&gt; getRowAsString(String pathName, int rowNumber) throws IOException {\r\n        Sheet sheet = getSheet(pathName, 0);\r\n        Row row  = sheet.getRow(rowNumber);\r\n        List&lt;String&gt; cellsString = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; row.getLastCellNum(); i ++) {\r\n            cellsString.add(row.getCell(i).getStringCellValue());\r\n        }\r\n\r\n        return cellsString;\r\n    }\r\n\r\nI can test it with this:\r\n\r\n    @Before\r\n    public void init() throws IOException {\r\n        when(workbookMock.getSheetAt(anyInt())).thenReturn(sheetMock);\r\n        PowerMockito.mockStatic(WorkbookFactory.class);\r\n        when(WorkbookFactory.create((File) any())).thenReturn(workbookMock);\r\n    }\r\n\r\n    @Test\r\n    public void should_return_wanted_row_as_string() throws IOException {\r\n        Row rowMock = mock(Row.class);\r\n        Cell cellMOck1 = mock(Cell.class);\r\n        when(cellMOck1.getStringCellValue()).thenReturn(&quot;Valor1&quot;);\r\n        Cell cellMOck2 = mock(Cell.class);\r\n        when(cellMOck2.getStringCellValue()).thenReturn(&quot;Valor2&quot;);\r\n        when(rowMock.getCell(0)).thenReturn(cellMOck1);\r\n        when(rowMock.getCell(1)).thenReturn(cellMOck2);\r\n        when(sheetMock.getRow(anyInt())).thenReturn(rowMock);\r\n        when(rowMock.getLastCellNum()).thenReturn((short) 2);\r\n\r\n        List&lt;String&gt; expected = List.of(&quot;Valor1&quot;, &quot;Valor2&quot;);\r\n        List&lt;String&gt; result = sut.getRowAsString(&quot;/&quot;, 0);\r\n\r\n        assertEquals(expected, result);\r\n    }\r\n\r\nBut, if I want to use forEach() instead of for loop in getRowAsString() method, like this:\r\n\r\n    public List&lt;String&gt; getRowAsString(String pathName, int rowNumber) throws IOException {\r\n        Sheet sheet = getSheet(pathName, 0);\r\n        Row row  = sheet.getRow(rowNumber);\r\n        List&lt;String&gt; cellsString = new ArrayList&lt;&gt;();\r\n        row.forEach(cell -&gt; {\r\n            cellsString.add(cell.getStringCellValue());\r\n        });\r\n\r\n        return cellsString;\r\n    }\r\n\r\nThe test doesn&#39;t work because when use stream.forEach() the code is not calling method getCell(index).\r\n\r\nHow should I test the method to be able to use forEach() instead of traditional for loop?","title":"Java how to test correctly mocked instances of POI Row and Cell when use iterator forEach()","body":"<p>Given this code:</p>\n<pre><code>protected Sheet getSheet(String pathName, int sheetNumber) throws IOException {\n    File file = new File(pathName);\n    Workbook workbook = WorkbookFactory.create(file);\n    return workbook.getSheetAt(sheetNumber);\n}\n\npublic List&lt;String&gt; getRowAsString(String pathName, int rowNumber) throws IOException {\n    Sheet sheet = getSheet(pathName, 0);\n    Row row  = sheet.getRow(rowNumber);\n    List&lt;String&gt; cellsString = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; row.getLastCellNum(); i ++) {\n        cellsString.add(row.getCell(i).getStringCellValue());\n    }\n\n    return cellsString;\n}\n</code></pre>\n<p>I can test it with this:</p>\n<pre><code>@Before\npublic void init() throws IOException {\n    when(workbookMock.getSheetAt(anyInt())).thenReturn(sheetMock);\n    PowerMockito.mockStatic(WorkbookFactory.class);\n    when(WorkbookFactory.create((File) any())).thenReturn(workbookMock);\n}\n\n@Test\npublic void should_return_wanted_row_as_string() throws IOException {\n    Row rowMock = mock(Row.class);\n    Cell cellMOck1 = mock(Cell.class);\n    when(cellMOck1.getStringCellValue()).thenReturn(&quot;Valor1&quot;);\n    Cell cellMOck2 = mock(Cell.class);\n    when(cellMOck2.getStringCellValue()).thenReturn(&quot;Valor2&quot;);\n    when(rowMock.getCell(0)).thenReturn(cellMOck1);\n    when(rowMock.getCell(1)).thenReturn(cellMOck2);\n    when(sheetMock.getRow(anyInt())).thenReturn(rowMock);\n    when(rowMock.getLastCellNum()).thenReturn((short) 2);\n\n    List&lt;String&gt; expected = List.of(&quot;Valor1&quot;, &quot;Valor2&quot;);\n    List&lt;String&gt; result = sut.getRowAsString(&quot;/&quot;, 0);\n\n    assertEquals(expected, result);\n}\n</code></pre>\n<p>But, if I want to use forEach() instead of for loop in getRowAsString() method, like this:</p>\n<pre><code>public List&lt;String&gt; getRowAsString(String pathName, int rowNumber) throws IOException {\n    Sheet sheet = getSheet(pathName, 0);\n    Row row  = sheet.getRow(rowNumber);\n    List&lt;String&gt; cellsString = new ArrayList&lt;&gt;();\n    row.forEach(cell -&gt; {\n        cellsString.add(cell.getStringCellValue());\n    });\n\n    return cellsString;\n}\n</code></pre>\n<p>The test doesn't work because when use stream.forEach() the code is not calling method getCell(index).</p>\n<p>How should I test the method to be able to use forEach() instead of traditional for loop?</p>\n"},{"tags":["java","spring","spring-boot","swagger","springdoc"],"answers":[{"tags":[],"owner":{"account_id":1251163,"reputation":1546,"user_id":1211547,"accept_rate":50,"display_name":"indybee"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1642818808,"creation_date":1642598292,"answer_id":70771284,"question_id":70764471,"body_markdown":"To pass 2 custom headers of &quot;apiKey&quot; and &quot;code&quot; with every request\r\n\r\nadd this method:\r\n\r\n```\r\nprivate SecurityScheme securityScheme(String name) {\r\n\treturn new io.swagger.v3.oas.models.security.SecurityScheme()\r\n\t\t.type(io.swagger.v3.oas.models.security.SecurityScheme.Type.APIKEY)\r\n\t\t.in(io.swagger.v3.oas.models.security.SecurityScheme.In.HEADER)\r\n\t\t.name(name);\r\n} \r\n```\r\n\r\nand replace your .components() block with following\r\n\r\n```\r\n.components(new Components()\r\n\t\t.addSecuritySchemes(&quot;apiKey&quot;, securityScheme(&quot;apiKey&quot;))\r\n\t\t.addSecuritySchemes(&quot;code&quot;, securityScheme(&quot;code&quot;))\r\n\t)\r\n ```\r\n\r\n[![Authorize dialog][1]][1]   \r\n\r\n\r\n[![curl command][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WHimBm.png\r\n  [2]: https://i.stack.imgur.com/aIp8im.png","title":"Spring Boot, Swagger and Authorisation","body":"<p>To pass 2 custom headers of &quot;apiKey&quot; and &quot;code&quot; with every request</p>\n<p>add this method:</p>\n<pre><code>private SecurityScheme securityScheme(String name) {\n    return new io.swagger.v3.oas.models.security.SecurityScheme()\n        .type(io.swagger.v3.oas.models.security.SecurityScheme.Type.APIKEY)\n        .in(io.swagger.v3.oas.models.security.SecurityScheme.In.HEADER)\n        .name(name);\n} \n</code></pre>\n<p>and replace your .components() block with following</p>\n<pre><code>.components(new Components()\n        .addSecuritySchemes(&quot;apiKey&quot;, securityScheme(&quot;apiKey&quot;))\n        .addSecuritySchemes(&quot;code&quot;, securityScheme(&quot;code&quot;))\n    )\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/WHimBm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WHimBm.png\" alt=\"Authorize dialog\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/aIp8im.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aIp8im.png\" alt=\"curl command\" /></a></p>\n"}],"owner":{"account_id":427076,"reputation":2255,"user_id":808655,"accept_rate":90,"display_name":"skyman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3402,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70771284,"answer_count":1,"score":2,"last_activity_date":1642833190,"creation_date":1642557569,"question_id":70764471,"body_markdown":"I have a Spring Boot API that uses Springdoc (Swagger).  The API has security with &quot;apiKey&quot; and &quot;code&quot; fields being passed in the header.  I am having difficulty configuring Swagger correctly to enable the Authentication function in the Swagger UI.  This is the configuration:\r\n\r\n    @Bean\r\n    public OpenAPI alartaCoreAdtAPI() {\r\n        return new OpenAPI()\r\n                .addSecurityItem(new SecurityRequirement().addList(&quot;BASIC&quot;))\r\n                .components(\r\n                   new Components()\r\n                       .addSecuritySchemes(&quot;BASIC&quot;,\r\n                           new SecurityScheme()\r\n                               .type(SecurityScheme.Type.HTTP)\r\n                               .scheme(&quot;basic&quot;)\r\n                               .name(&quot;code&quot;)\r\n                                                \r\n                       )\r\n                )               \r\n    \r\n                  .info(new Info().title(config.getApiTitle())\r\n                  .description(config.getApiDescription())\r\n                  .version(config.getApiVersion())\r\n                  .license(new \r\n                 License().name(config.getApiLicenseTitle()).url(config.getApiLicenseUrl())))\r\n    );\r\n      }\t\r\n\r\nI know this is incorrect, but are unsure how to configure it.\r\n\r\nAny assistance appreciated.\r\n\r\nAttempts at solution:\r\nfrom @indybee recommendation:\r\n\r\n\t\r\n\r\n    @Bean\r\n    \tpublic OpenAPI alartaCoreAdtAPI() {\r\n    \t    return new OpenAPI()\r\n                    \r\n                    .addSecurityItem(new SecurityRequirement().addList(&quot;BASIC&quot;))\r\n                      \r\n                    .components( new Components()\r\n                    \t\t.addSecuritySchemes(&quot;apiKey&quot;, securityScheme(&quot;apiKey&quot;))\r\n                    \t\t.addSecuritySchemes(&quot;code&quot;, securityScheme(&quot;code&quot;))\r\n                    \t\t)\r\n    \r\n    \t              .info(new Info().title(config.getApiTitle())\r\n    \t              .description(config.getApiDescription())\r\n    \t              .version(config.getApiVersion())\r\n    \t              .license(new License().name(config.getApiLicenseTitle()).url(config.getApiLicenseUrl())))\r\n    \t              );\r\n    \t  }\t\r\n    \t\r\n    \tprivate SecurityScheme securityScheme(String name) {\r\n    \t    return new io.swagger.v3.oas.models.security.SecurityScheme()\r\n    \t        .type(io.swagger.v3.oas.models.security.SecurityScheme.Type.APIKEY)\r\n    \t        .in(io.swagger.v3.oas.models.security.SecurityScheme.In.HEADER)\r\n    \t        .name(name);\r\n    \t}\r\n\r\n\r\n\r\nThis is where I get to (unfortunately, it still doesn&#39;t authorize when I test an endpoint)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NuB8R.png\r\n\r\n\r\nFinally, this appears to work (using guidance from @indybee):\r\n\r\naddSecurityItem()\r\n\r\n\r\n            .components( new Components()\r\n            \t\t.addSecuritySchemes(&quot;apiKey&quot;, securityScheme(&quot;apiKey&quot;))\r\n            \t\t.addSecuritySchemes(&quot;code&quot;, securityScheme(&quot;code&quot;))\r\n            \t\t)\r\n            .addSecurityItem(new SecurityRequirement().addList(&quot;apiKey&quot;).addList(&quot;code&quot;)) \r\n\r\n \r\n\r\n\r\n\r\n","title":"Spring Boot, Swagger and Authorisation","body":"<p>I have a Spring Boot API that uses Springdoc (Swagger).  The API has security with &quot;apiKey&quot; and &quot;code&quot; fields being passed in the header.  I am having difficulty configuring Swagger correctly to enable the Authentication function in the Swagger UI.  This is the configuration:</p>\n<pre><code>@Bean\npublic OpenAPI alartaCoreAdtAPI() {\n    return new OpenAPI()\n            .addSecurityItem(new SecurityRequirement().addList(&quot;BASIC&quot;))\n            .components(\n               new Components()\n                   .addSecuritySchemes(&quot;BASIC&quot;,\n                       new SecurityScheme()\n                           .type(SecurityScheme.Type.HTTP)\n                           .scheme(&quot;basic&quot;)\n                           .name(&quot;code&quot;)\n                                            \n                   )\n            )               \n\n              .info(new Info().title(config.getApiTitle())\n              .description(config.getApiDescription())\n              .version(config.getApiVersion())\n              .license(new \n             License().name(config.getApiLicenseTitle()).url(config.getApiLicenseUrl())))\n);\n  } \n</code></pre>\n<p>I know this is incorrect, but are unsure how to configure it.</p>\n<p>Any assistance appreciated.</p>\n<p>Attempts at solution:\nfrom @indybee recommendation:</p>\n<pre><code>@Bean\n    public OpenAPI alartaCoreAdtAPI() {\n        return new OpenAPI()\n                \n                .addSecurityItem(new SecurityRequirement().addList(&quot;BASIC&quot;))\n                  \n                .components( new Components()\n                        .addSecuritySchemes(&quot;apiKey&quot;, securityScheme(&quot;apiKey&quot;))\n                        .addSecuritySchemes(&quot;code&quot;, securityScheme(&quot;code&quot;))\n                        )\n\n                  .info(new Info().title(config.getApiTitle())\n                  .description(config.getApiDescription())\n                  .version(config.getApiVersion())\n                  .license(new License().name(config.getApiLicenseTitle()).url(config.getApiLicenseUrl())))\n                  );\n      } \n    \n    private SecurityScheme securityScheme(String name) {\n        return new io.swagger.v3.oas.models.security.SecurityScheme()\n            .type(io.swagger.v3.oas.models.security.SecurityScheme.Type.APIKEY)\n            .in(io.swagger.v3.oas.models.security.SecurityScheme.In.HEADER)\n            .name(name);\n    }\n</code></pre>\n<p>This is where I get to (unfortunately, it still doesn't authorize when I test an endpoint)</p>\n<p><a href=\"https://i.stack.imgur.com/NuB8R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NuB8R.png\" alt=\"enter image description here\" /></a></p>\n<p>Finally, this appears to work (using guidance from @indybee):</p>\n<p>addSecurityItem()</p>\n<pre><code>        .components( new Components()\n                .addSecuritySchemes(&quot;apiKey&quot;, securityScheme(&quot;apiKey&quot;))\n                .addSecuritySchemes(&quot;code&quot;, securityScheme(&quot;code&quot;))\n                )\n        .addSecurityItem(new SecurityRequirement().addList(&quot;apiKey&quot;).addList(&quot;code&quot;)) \n</code></pre>\n"},{"tags":["java","opencv"],"comments":[{"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1636536995,"post_id":69907164,"comment_id":123580811,"body_markdown":"matchTemplate with a &quot;haystack&quot; cropped to the same size as the &quot;needle&quot;. that&#39;ll give you a cheap sum of differences, if you use the right mode. it also accepts a mask argument. use it, if you have background to ignore.","body":"matchTemplate with a &quot;haystack&quot; cropped to the same size as the &quot;needle&quot;. that&#39;ll give you a cheap sum of differences, if you use the right mode. it also accepts a mask argument. use it, if you have background to ignore."}],"answers":[{"tags":[],"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636520207,"creation_date":1636520207,"answer_id":69908157,"question_id":69907164,"body_markdown":"If detecting what power up is currently displayed in the hud is your issue then that actually sounds simple enough.\r\n\r\nNo matter how you&#39;re dealing with images, you&#39;d need to compare their pixel values at matching positions to tell what powerup is active. But you can&#39;t just directly compare the powerup image to the hud image since the background of the hud is variable and will not match; You&#39;d need to ignore comparing transparent pixels of the powerup image.\r\n\r\nHowever, that may not be necessary anyway.. you might get away with sampling and comparing just a few or even a single pixel!\r\n\r\nIf you can find a pixel that is unique among all the powerups then you only need to check that one. If there&#39;s no single unique pixel, then you might need to use a few to uniquely idetify the powerups. It&#39;s worth a shot to check anyway.\r\n\r\n","title":"How can I compare incoming video to images in a folder?","body":"<p>If detecting what power up is currently displayed in the hud is your issue then that actually sounds simple enough.</p>\n<p>No matter how you're dealing with images, you'd need to compare their pixel values at matching positions to tell what powerup is active. But you can't just directly compare the powerup image to the hud image since the background of the hud is variable and will not match; You'd need to ignore comparing transparent pixels of the powerup image.</p>\n<p>However, that may not be necessary anyway.. you might get away with sampling and comparing just a few or even a single pixel!</p>\n<p>If you can find a pixel that is unique among all the powerups then you only need to check that one. If there's no single unique pixel, then you might need to use a few to uniquely idetify the powerups. It's worth a shot to check anyway.</p>\n"}],"owner":{"account_id":23290614,"reputation":1,"user_id":17372763,"display_name":"Nippo4512"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1642830132,"creation_date":1636509699,"question_id":69907164,"body_markdown":"I am trying to make a program that needs to view an incoming video feed in real time through\r\na capture card or other video receiving device. I pretty much have no clue where to start with this. I looked into OpenCV but anything I found relating to it had to do with UI and I am not that familiar with javax and would rather just keep it simple for now. If OpenCV requires a UI then I will have to learn how to utilize javax, but I haven&#39;t been able to find any consistent information about that. I plan to translate this to a UI at some given point anyway, but I would rather get the program functional first before moving on to a UI.\r\n\r\nThe goal of my program is to look at the HUD of a game and detect what power-up is being\r\ndisplayed in that region of the HUD. The images themselves in the HUD are pretty distinct, here are examples of the images: https://i.stack.imgur.com/eN5pF.jpg\r\n\r\nIf you are familiar with the game in question, this may be easier to understand...\r\nThe game cycles through all 23 power-ups on a randomly set cycle twice (called a &quot;mix&quot;), so the program&#39;s job is to make it easier to get the power-up you want by starting a timer once the second cycle starts that gives the player an easier opportunity to press &quot;A&quot; on the given power-up. The user starts the program manually once they initiate the mix\r\n\r\nSo my order of operations are basically as follows:\r\n\r\n- The user inputs a number (1-23) to choose what powerup they are searching for\r\n\r\n- The user manually starts the seeking process in the program window once they initiate the mix\r\n\r\n- The program focuses on the bottom left corner of the screen and &quot;captures&quot; the screen in real-time if it detects an image change in the HUD, this change happens once every 4 frames (65.32ms)\r\n\r\n- On every capture, the program compares the capture to 23 images of the HUD to find which power is being shown at that current moment.\r\n\r\n- This image is then &quot;converted&quot; to an integer and stored in an array, which allows the order to be stored and utilized later.\r\n\r\n\r\nAs much as I would love to know how to code this, my main question is **if** this is even possible within the confines of Java. \r\nI am not sure where to start and if this task is too complicated for this language, and if it is possible to constantly grab images from a video feed this quickly. I am basically looking to grab an image every 4 frames 60fps, which is pretty quick. I also just generally want to know how practical this would be and if it will be difficult for the process to be consistent when it comes to comparing the images.\r\n\r\nThe main things I would like to know is how to compare video feed with an image, and how to only focus on a specific area of the video feed to compare the image with.\r\n\r\nThis is the program I currently made, which is a proof of concept for what I am looking to do:\r\n```\r\npackage com.company;\r\nimport java.util.Scanner;\r\nimport java.util.Arrays;\r\nimport java.util.Random;\r\nimport static java.lang.Thread.sleep;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class Main {\r\n\r\n    private static final Scanner input = new Scanner(System.in);\r\n\r\n    public static int powerList[] = new int[23];\r\n    public static int videoFeed[] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23};\r\n    //videoFeed[] is meant as a placeholder for the actual video feed that the program would be viewing\r\n\r\n\r\n    /*\r\n    Power List:\r\n    01 - Sword   02 - Cutter  03 - Leaf    04 - Whip    05 - Fire    06 - Needle\r\n    07 - Beam    08 - Spark   09 - Stone   10 - Sleep   11 - Parasol 12 - Water\r\n    13 - Hi-jump 14 - Tornado 15 - Bomb    16 - Spear   17 - Hammer  18 - Ice\r\n    19 - Wing    20 - Ninja   21 - Fighter 22 - Crash   23 - Mike\r\n     */\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        System.out.println(&quot;This program is a proof of concept for mix detecting.&quot;);\r\n        System.out.println(&quot;The end goal is to connect your video capture to this program and have it scan mix cycles, then countdown to help you time mixes.&quot;);\r\n        System.out.println(&quot;The program will randomly generate a power order as a proof of concept&quot;);\r\n        System.out.println(&quot;Please input the power-up number to search for (1-23):&quot;);\r\n        int target = input.nextInt();\r\n        //Include error handling later\r\n\r\n        //If needed, display prompts for configuring video input device\r\n\r\n        int counter = 0;\r\n        boolean found = false;\r\n\r\n        //Simulation of obtaining power-up order from video feed\r\n        //This block will not be in actual program as the scanning will be real-time and included in next block\r\n        Random rand = new Random();\r\n        for (int i = 0; i &lt; powerList.length; i++) {\r\n            int randomIndexToSwap = rand.nextInt(powerList.length);\r\n            int temp = videoFeed[randomIndexToSwap] = videoFeed[i];\r\n            videoFeed[i] = temp;\r\n        }\r\n        System.out.println(&quot;Simulated power order: &quot; + Arrays.toString(videoFeed));\r\n\r\n        //Scanning in real-time:\r\n        //Reading the videoFeed array should be replaced with scanning the video feed and finding what power is there\r\n        System.out.println(&quot;Scanning mix...&quot;);\r\n        while (!found) {\r\n            for (int i = 0; i &lt; powerList.length; i++) {\r\n                counter++;\r\n                TimeUnit.MILLISECONDS.sleep((long) 65.32);\r\n                //Image scanning algorithm would go here, placeholder for now\r\n                powerList[i] = videoFeed[i];\r\n                //convert image to integer number for power-up, would possibly go here\r\n                if (target == powerList[i]) {\r\n                    found = true;\r\n                }\r\n            }\r\n        }\r\n        //The rest of the program will be fine for me if the images will be translated into integers\r\n    }\r\n}\r\n```","title":"How can I compare incoming video to images in a folder?","body":"<p>I am trying to make a program that needs to view an incoming video feed in real time through\na capture card or other video receiving device. I pretty much have no clue where to start with this. I looked into OpenCV but anything I found relating to it had to do with UI and I am not that familiar with javax and would rather just keep it simple for now. If OpenCV requires a UI then I will have to learn how to utilize javax, but I haven't been able to find any consistent information about that. I plan to translate this to a UI at some given point anyway, but I would rather get the program functional first before moving on to a UI.</p>\n<p>The goal of my program is to look at the HUD of a game and detect what power-up is being\ndisplayed in that region of the HUD. The images themselves in the HUD are pretty distinct, here are examples of the images: <a href=\"https://i.stack.imgur.com/eN5pF.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/eN5pF.jpg</a></p>\n<p>If you are familiar with the game in question, this may be easier to understand...\nThe game cycles through all 23 power-ups on a randomly set cycle twice (called a &quot;mix&quot;), so the program's job is to make it easier to get the power-up you want by starting a timer once the second cycle starts that gives the player an easier opportunity to press &quot;A&quot; on the given power-up. The user starts the program manually once they initiate the mix</p>\n<p>So my order of operations are basically as follows:</p>\n<ul>\n<li><p>The user inputs a number (1-23) to choose what powerup they are searching for</p>\n</li>\n<li><p>The user manually starts the seeking process in the program window once they initiate the mix</p>\n</li>\n<li><p>The program focuses on the bottom left corner of the screen and &quot;captures&quot; the screen in real-time if it detects an image change in the HUD, this change happens once every 4 frames (65.32ms)</p>\n</li>\n<li><p>On every capture, the program compares the capture to 23 images of the HUD to find which power is being shown at that current moment.</p>\n</li>\n<li><p>This image is then &quot;converted&quot; to an integer and stored in an array, which allows the order to be stored and utilized later.</p>\n</li>\n</ul>\n<p>As much as I would love to know how to code this, my main question is <strong>if</strong> this is even possible within the confines of Java.\nI am not sure where to start and if this task is too complicated for this language, and if it is possible to constantly grab images from a video feed this quickly. I am basically looking to grab an image every 4 frames 60fps, which is pretty quick. I also just generally want to know how practical this would be and if it will be difficult for the process to be consistent when it comes to comparing the images.</p>\n<p>The main things I would like to know is how to compare video feed with an image, and how to only focus on a specific area of the video feed to compare the image with.</p>\n<p>This is the program I currently made, which is a proof of concept for what I am looking to do:</p>\n<pre><code>package com.company;\nimport java.util.Scanner;\nimport java.util.Arrays;\nimport java.util.Random;\nimport static java.lang.Thread.sleep;\nimport java.util.concurrent.TimeUnit;\n\npublic class Main {\n\n    private static final Scanner input = new Scanner(System.in);\n\n    public static int powerList[] = new int[23];\n    public static int videoFeed[] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23};\n    //videoFeed[] is meant as a placeholder for the actual video feed that the program would be viewing\n\n\n    /*\n    Power List:\n    01 - Sword   02 - Cutter  03 - Leaf    04 - Whip    05 - Fire    06 - Needle\n    07 - Beam    08 - Spark   09 - Stone   10 - Sleep   11 - Parasol 12 - Water\n    13 - Hi-jump 14 - Tornado 15 - Bomb    16 - Spear   17 - Hammer  18 - Ice\n    19 - Wing    20 - Ninja   21 - Fighter 22 - Crash   23 - Mike\n     */\n\n    public static void main(String[] args) throws InterruptedException {\n\n        System.out.println(&quot;This program is a proof of concept for mix detecting.&quot;);\n        System.out.println(&quot;The end goal is to connect your video capture to this program and have it scan mix cycles, then countdown to help you time mixes.&quot;);\n        System.out.println(&quot;The program will randomly generate a power order as a proof of concept&quot;);\n        System.out.println(&quot;Please input the power-up number to search for (1-23):&quot;);\n        int target = input.nextInt();\n        //Include error handling later\n\n        //If needed, display prompts for configuring video input device\n\n        int counter = 0;\n        boolean found = false;\n\n        //Simulation of obtaining power-up order from video feed\n        //This block will not be in actual program as the scanning will be real-time and included in next block\n        Random rand = new Random();\n        for (int i = 0; i &lt; powerList.length; i++) {\n            int randomIndexToSwap = rand.nextInt(powerList.length);\n            int temp = videoFeed[randomIndexToSwap] = videoFeed[i];\n            videoFeed[i] = temp;\n        }\n        System.out.println(&quot;Simulated power order: &quot; + Arrays.toString(videoFeed));\n\n        //Scanning in real-time:\n        //Reading the videoFeed array should be replaced with scanning the video feed and finding what power is there\n        System.out.println(&quot;Scanning mix...&quot;);\n        while (!found) {\n            for (int i = 0; i &lt; powerList.length; i++) {\n                counter++;\n                TimeUnit.MILLISECONDS.sleep((long) 65.32);\n                //Image scanning algorithm would go here, placeholder for now\n                powerList[i] = videoFeed[i];\n                //convert image to integer number for power-up, would possibly go here\n                if (target == powerList[i]) {\n                    found = true;\n                }\n            }\n        }\n        //The rest of the program will be fine for me if the images will be translated into integers\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-room"],"comments":[{"owner":{"account_id":18716710,"reputation":1336,"user_id":14291243,"display_name":"Abhishek Dutt"},"score":0,"creation_date":1635929773,"post_id":69821749,"comment_id":123420344,"body_markdown":"Which version of `room` library you are using?","body":"Which version of <code>room</code> library you are using?"},{"owner":{"account_id":23225276,"reputation":11,"user_id":17316900,"display_name":"thaway777"},"score":0,"creation_date":1635931495,"post_id":69821749,"comment_id":123421023,"body_markdown":"I&#39;m using Room 2.3.0","body":"I&#39;m using Room 2.3.0"},{"owner":{"account_id":18716710,"reputation":1336,"user_id":14291243,"display_name":"Abhishek Dutt"},"score":0,"creation_date":1635931751,"post_id":69821749,"comment_id":123421131,"body_markdown":"Instead of using `Executor`, try using `ExecutorService` , [more] (https://developer.android.com/reference/java/util/concurrent/ExecutorService.html#submit(java.util.concurrent.Callable%3CT%3E) can be found here.","body":"Instead of using <code>Executor</code>, try using <code>ExecutorService</code> , [more] (<a href=\"https://developer.android.com/reference/java/util/concurrent/ExecutorService.html#submit(java.util.concurrent.Callable%3CT%3E)\" rel=\"nofollow noreferrer\">developer.android.com/reference/java/util/concurrent/&hellip;</a> can be found here."}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642830132,"creation_date":1635947009,"answer_id":69825951,"question_id":69821749,"body_markdown":"You are trying to tell room to return a `Runnable` from the `insert`. Room knows that an `@Insert` can only return **void** or **Long**/**long** *(the `rowid` of the inserted row)*.\r\n\r\n- if the `@Insert` inserts multiple rows then it can return void, long[] or Long[]. \r\n- if you were look at the Build log, then the \r\n\r\nYou can&#39;t have :-\r\n\r\n    @Insert\r\n    Runnable insertTrip(Trip trip);\r\n\r\nIt must be one of the following:-\r\n\r\n    @Insert\r\n    void insertTrip(Trip trip);\r\n\r\nor\r\n\r\n    @Insert\r\n    long insertTrip(Trip trip);\r\n\r\nor \r\n\r\n    @Insert\r\n    Long insertTrip(Trip trip);\r\n\r\nSimilar for @Update and @Delete except they return int (the number or affected rows)\r\n\r\nTo get/use the Runnable you could use :-\r\n\r\n    void insertTrip(Trip trip){\r\n        executor.execute(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                tripDao.insertTrip(trip);\r\n            }\r\n        });\r\n    }\r\n\r\n- obviously likewise for the others.\r\n\r\n**Working example**\r\n\r\nUsing *(note with a simple Trip class but all other classes as per your question bar the changes above)* :-\r\n\r\n        TripRepository.initialise(this);\r\n        Trip atrip = new Trip();\r\n        atrip.tripName = &quot;My Trip&quot;;\r\n        TripRepository.get().insertTrip(atrip);\r\n\r\nResults in :-\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eXDSR.png","title":"error: Not sure how to handle insert method&#39;s return type","body":"<p>You are trying to tell room to return a <code>Runnable</code> from the <code>insert</code>. Room knows that an <code>@Insert</code> can only return <strong>void</strong> or <strong>Long</strong>/<strong>long</strong> <em>(the <code>rowid</code> of the inserted row)</em>.</p>\n<ul>\n<li>if the <code>@Insert</code> inserts multiple rows then it can return void, long[] or Long[].</li>\n<li>if you were look at the Build log, then the</li>\n</ul>\n<p>You can't have :-</p>\n<pre><code>@Insert\nRunnable insertTrip(Trip trip);\n</code></pre>\n<p>It must be one of the following:-</p>\n<pre><code>@Insert\nvoid insertTrip(Trip trip);\n</code></pre>\n<p>or</p>\n<pre><code>@Insert\nlong insertTrip(Trip trip);\n</code></pre>\n<p>or</p>\n<pre><code>@Insert\nLong insertTrip(Trip trip);\n</code></pre>\n<p>Similar for @Update and @Delete except they return int (the number or affected rows)</p>\n<p>To get/use the Runnable you could use :-</p>\n<pre><code>void insertTrip(Trip trip){\n    executor.execute(new Runnable() {\n        @Override\n        public void run() {\n            tripDao.insertTrip(trip);\n        }\n    });\n}\n</code></pre>\n<ul>\n<li>obviously likewise for the others.</li>\n</ul>\n<p><strong>Working example</strong></p>\n<p>Using <em>(note with a simple Trip class but all other classes as per your question bar the changes above)</em> :-</p>\n<pre><code>    TripRepository.initialise(this);\n    Trip atrip = new Trip();\n    atrip.tripName = &quot;My Trip&quot;;\n    TripRepository.get().insertTrip(atrip);\n</code></pre>\n<p>Results in :-</p>\n<p><a href=\"https://i.stack.imgur.com/eXDSR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eXDSR.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":23225276,"reputation":11,"user_id":17316900,"display_name":"thaway777"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1281,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":69825951,"answer_count":1,"score":-1,"last_activity_date":1642830132,"creation_date":1635928324,"question_id":69821749,"body_markdown":"So I&#39;m trying to use Executor execute the Dao&#39;s in my android app, but when I created the Executor, it said it required the method being run to have a Runnable return type?\r\n\r\nSo I made them all return Runnable, but now Android Studio gives me the error:\r\n\r\n```\r\n/database/TripDao.java:28: error: Not sure how to handle insert method&#39;s return type.\r\n    Runnable insertTrip(Trip trip);\r\n             ^\r\n```\r\n\r\nDao:\r\n```\r\nimport androidx.lifecycle.LiveData;\r\nimport androidx.room.Dao;\r\nimport androidx.room.Delete;\r\nimport androidx.room.Insert;\r\nimport androidx.room.Query;\r\nimport androidx.room.Update;\r\n\r\nimport java.util.List;\r\nimport java.util.UUID;\r\n\r\n@Dao\r\npublic interface TripDao {\r\n    @Query(&quot;DELETE FROM trip&quot;)\r\n    public void deleteTrips();\r\n\r\n    @Query(&quot;SELECT * FROM trip&quot;)\r\n    LiveData&lt;List&lt;Trip&gt;&gt; getAll();\r\n\r\n    @Query(&quot;SELECT * FROM trip WHERE uuid=:id&quot;)\r\n    public LiveData&lt;Trip&gt; getTrip(UUID id);\r\n\r\n    @Delete\r\n    Runnable delete(Trip trip);\r\n\r\n    @Insert\r\n    Runnable insertTrip(Trip trip);\r\n\r\n    @Update\r\n    Runnable updateTrip(Trip trip);\r\n\r\n\r\n}\r\n```\r\n\r\nRepository:\r\n```\r\npackage com.example.csc202assignment.database;\r\n\r\nimport android.content.Context;\r\n\r\nimport androidx.lifecycle.LiveData;\r\nimport androidx.room.Room;\r\n\r\nimport java.util.List;\r\nimport java.util.UUID;\r\nimport java.util.concurrent.Executor;\r\nimport java.util.concurrent.Executors;\r\n\r\n\r\npublic class TripRepository {\r\n    private static TripRepository INSTANCE = null;\r\n    private final String DATABASE_NAME = &quot;trip-database&quot;;\r\n    private Context context;\r\n    TripDatabase database;\r\n    static TripDao tripDao;\r\n    Executor executor = Executors.newSingleThreadExecutor();\r\n\r\n    private TripRepository(Context context) {\r\n        this.context = context;\r\n        this.database = Room.databaseBuilder(\r\n                context.getApplicationContext(),\r\n                TripDatabase.class,DATABASE_NAME).build();\r\n         tripDao = database.tripDao();\r\n\r\n    }\r\n\r\n    void deleteTrips(){\r\n        tripDao.deleteTrips();\r\n    }\r\n\r\n    void delete(Trip trip){\r\n        executor.execute(tripDao.delete(trip));\r\n\r\n    }\r\n\r\n    void insertTrip(Trip trip){\r\n        executor.execute(tripDao.insertTrip(trip));\r\n    }\r\n\r\n    void updateTrip(Trip trip){\r\n        executor.execute(tripDao.updateTrip(trip));\r\n    }\r\n\r\n    public LiveData&lt;List&lt;Trip&gt;&gt; getAll(){ return tripDao.getAll();\r\n    }\r\n\r\n    public static LiveData&lt;Trip&gt; getTrip(UUID id){\r\n        return tripDao.getTrip(id);\r\n    }\r\n\r\n    public static void initialise(Context context){\r\n        if(INSTANCE==null){\r\n            INSTANCE = new TripRepository(context);\r\n        }\r\n    }\r\n\r\n     public static TripRepository get() throws IllegalStateException {\r\n         try {\r\n             return INSTANCE;\r\n         } catch (IllegalStateException e) {\r\n             System.out.println(&quot;TripRepository must be initialised&quot;);\r\n         }\r\n         return INSTANCE;\r\n     }\r\n}\r\n```\r\nDao_Impl\r\n```\r\npackage com.example.csc202assignment.database;\r\n\r\nimport android.database.Cursor;\r\nimport androidx.lifecycle.LiveData;\r\nimport androidx.room.EntityDeletionOrUpdateAdapter;\r\nimport androidx.room.EntityInsertionAdapter;\r\nimport androidx.room.RoomDatabase;\r\nimport androidx.room.RoomSQLiteQuery;\r\nimport androidx.room.SharedSQLiteStatement;\r\nimport androidx.room.util.CursorUtil;\r\nimport androidx.room.util.DBUtil;\r\nimport androidx.sqlite.db.SupportSQLiteStatement;\r\nimport java.lang.Class;\r\nimport java.lang.Exception;\r\nimport java.lang.Override;\r\nimport java.lang.Runnable;\r\nimport java.lang.String;\r\nimport java.lang.SuppressWarnings;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\nimport java.util.UUID;\r\nimport java.util.concurrent.Callable;\r\n\r\n@SuppressWarnings({&quot;unchecked&quot;, &quot;deprecation&quot;})\r\npublic final class TripDao_Impl implements TripDao {\r\n  private final RoomDatabase __db;\r\n\r\n  private final EntityInsertionAdapter&lt;Trip&gt; __insertionAdapterOfTrip;\r\n\r\n  private final TripTypeConverter __tripTypeConverter = new TripTypeConverter();\r\n\r\n  private final EntityDeletionOrUpdateAdapter&lt;Trip&gt; __deletionAdapterOfTrip;\r\n\r\n  private final EntityDeletionOrUpdateAdapter&lt;Trip&gt; __updateAdapterOfTrip;\r\n\r\n  private final SharedSQLiteStatement __preparedStmtOfDeleteTrips;\r\n\r\n  public TripDao_Impl(RoomDatabase __db) {\r\n    this.__db = __db;\r\n    this.__insertionAdapterOfTrip = new EntityInsertionAdapter&lt;Trip&gt;(__db) {\r\n      @Override\r\n      public String createQuery() {\r\n        return &quot;INSERT OR ABORT INTO `Trip` (`uuid`,`title`,`destination`,`date`,`duration`) VALUES (?,?,?,?,?)&quot;;\r\n      }\r\n\r\n      @Override\r\n      public void bind(SupportSQLiteStatement stmt, Trip value) {\r\n        final String _tmp;\r\n        _tmp = __tripTypeConverter.fromUUID(value.uuid);\r\n        if (_tmp == null) {\r\n          stmt.bindNull(1);\r\n        } else {\r\n          stmt.bindString(1, _tmp);\r\n        }\r\n        if (value.title == null) {\r\n          stmt.bindNull(2);\r\n        } else {\r\n          stmt.bindString(2, value.title);\r\n        }\r\n        if (value.destination == null) {\r\n          stmt.bindNull(3);\r\n        } else {\r\n          stmt.bindString(3, value.destination);\r\n        }\r\n        if (value.date == null) {\r\n          stmt.bindNull(4);\r\n        } else {\r\n          stmt.bindString(4, value.date);\r\n        }\r\n        if (value.duration == null) {\r\n          stmt.bindNull(5);\r\n        } else {\r\n          stmt.bindString(5, value.duration);\r\n        }\r\n      }\r\n    };\r\n    this.__deletionAdapterOfTrip = new EntityDeletionOrUpdateAdapter&lt;Trip&gt;(__db) {\r\n      @Override\r\n      public String createQuery() {\r\n        return &quot;DELETE FROM `Trip` WHERE `uuid` = ?&quot;;\r\n      }\r\n\r\n      @Override\r\n      public void bind(SupportSQLiteStatement stmt, Trip value) {\r\n        final String _tmp;\r\n        _tmp = __tripTypeConverter.fromUUID(value.uuid);\r\n        if (_tmp == null) {\r\n          stmt.bindNull(1);\r\n        } else {\r\n          stmt.bindString(1, _tmp);\r\n        }\r\n      }\r\n    };\r\n    this.__updateAdapterOfTrip = new EntityDeletionOrUpdateAdapter&lt;Trip&gt;(__db) {\r\n      @Override\r\n      public String createQuery() {\r\n        return &quot;UPDATE OR ABORT `Trip` SET `uuid` = ?,`title` = ?,`destination` = ?,`date` = ?,`duration` = ? WHERE `uuid` = ?&quot;;\r\n      }\r\n\r\n      @Override\r\n      public void bind(SupportSQLiteStatement stmt, Trip value) {\r\n        final String _tmp;\r\n        _tmp = __tripTypeConverter.fromUUID(value.uuid);\r\n        if (_tmp == null) {\r\n          stmt.bindNull(1);\r\n        } else {\r\n          stmt.bindString(1, _tmp);\r\n        }\r\n        if (value.title == null) {\r\n          stmt.bindNull(2);\r\n        } else {\r\n          stmt.bindString(2, value.title);\r\n        }\r\n        if (value.destination == null) {\r\n          stmt.bindNull(3);\r\n        } else {\r\n          stmt.bindString(3, value.destination);\r\n        }\r\n        if (value.date == null) {\r\n          stmt.bindNull(4);\r\n        } else {\r\n          stmt.bindString(4, value.date);\r\n        }\r\n        if (value.duration == null) {\r\n          stmt.bindNull(5);\r\n        } else {\r\n          stmt.bindString(5, value.duration);\r\n        }\r\n        final String _tmp_1;\r\n        _tmp_1 = __tripTypeConverter.fromUUID(value.uuid);\r\n        if (_tmp_1 == null) {\r\n          stmt.bindNull(6);\r\n        } else {\r\n          stmt.bindString(6, _tmp_1);\r\n        }\r\n      }\r\n    };\r\n    this.__preparedStmtOfDeleteTrips = new SharedSQLiteStatement(__db) {\r\n      @Override\r\n      public String createQuery() {\r\n        final String _query = &quot;DELETE FROM trip&quot;;\r\n        return _query;\r\n      }\r\n    };\r\n  }\r\n\r\n  @Override\r\n  public Runnable insertTrip(final Trip trip) {\r\n    __db.assertNotSuspendingTransaction();\r\n  }\r\n\r\n  @Override\r\n  public Runnable delete(final Trip trip) {\r\n    __db.assertNotSuspendingTransaction();\r\n  }\r\n\r\n  @Override\r\n  public Runnable updateTrip(final Trip trip) {\r\n    __db.assertNotSuspendingTransaction();\r\n  }\r\n\r\n  @Override\r\n  public void deleteTrips() {\r\n    __db.assertNotSuspendingTransaction();\r\n    final SupportSQLiteStatement _stmt = __preparedStmtOfDeleteTrips.acquire();\r\n    __db.beginTransaction();\r\n    try {\r\n      _stmt.executeUpdateDelete();\r\n      __db.setTransactionSuccessful();\r\n    } finally {\r\n      __db.endTransaction();\r\n      __preparedStmtOfDeleteTrips.release(_stmt);\r\n    }\r\n  }\r\n\r\n  @Override\r\n  public LiveData&lt;List&lt;Trip&gt;&gt; getAll() {\r\n    final String _sql = &quot;SELECT * FROM trip&quot;;\r\n    final RoomSQLiteQuery _statement = RoomSQLiteQuery.acquire(_sql, 0);\r\n    return __db.getInvalidationTracker().createLiveData(new String[]{&quot;trip&quot;}, false, new Callable&lt;List&lt;Trip&gt;&gt;() {\r\n      @Override\r\n      public List&lt;Trip&gt; call() throws Exception {\r\n        final Cursor _cursor = DBUtil.query(__db, _statement, false, null);\r\n        try {\r\n          final int _cursorIndexOfUuid = CursorUtil.getColumnIndexOrThrow(_cursor, &quot;uuid&quot;);\r\n          final int _cursorIndexOfTitle = CursorUtil.getColumnIndexOrThrow(_cursor, &quot;title&quot;);\r\n          final int _cursorIndexOfDestination = CursorUtil.getColumnIndexOrThrow(_cursor, &quot;destination&quot;);\r\n          final int _cursorIndexOfDate = CursorUtil.getColumnIndexOrThrow(_cursor, &quot;date&quot;);\r\n          final int _cursorIndexOfDuration = CursorUtil.getColumnIndexOrThrow(_cursor, &quot;duration&quot;);\r\n          final List&lt;Trip&gt; _result = new ArrayList&lt;Trip&gt;(_cursor.getCount());\r\n          while(_cursor.moveToNext()) {\r\n            final Trip _item;\r\n            _item = new Trip();\r\n            final String _tmp;\r\n            if (_cursor.isNull(_cursorIndexOfUuid)) {\r\n              _tmp = null;\r\n            } else {\r\n              _tmp = _cursor.getString(_cursorIndexOfUuid);\r\n            }\r\n            _item.uuid = __tripTypeConverter.toUUID(_tmp);\r\n            if (_cursor.isNull(_cursorIndexOfTitle)) {\r\n              _item.title = null;\r\n            } else {\r\n              _item.title = _cursor.getString(_cursorIndexOfTitle);\r\n            }\r\n            if (_cursor.isNull(_cursorIndexOfDestination)) {\r\n              _item.destination = null;\r\n            } else {\r\n              _item.destination = _cursor.getString(_cursorIndexOfDestination);\r\n            }\r\n            if (_cursor.isNull(_cursorIndexOfDate)) {\r\n              _item.date = null;\r\n            } else {\r\n              _item.date = _cursor.getString(_cursorIndexOfDate);\r\n            }\r\n            if (_cursor.isNull(_cursorIndexOfDuration)) {\r\n              _item.duration = null;\r\n            } else {\r\n              _item.duration = _cursor.getString(_cursorIndexOfDuration);\r\n            }\r\n            _result.add(_item);\r\n          }\r\n          return _result;\r\n        } finally {\r\n          _cursor.close();\r\n        }\r\n      }\r\n\r\n      @Override\r\n      protected void finalize() {\r\n        _statement.release();\r\n      }\r\n    });\r\n  }\r\n\r\n  @Override\r\n  public LiveData&lt;Trip&gt; getTrip(final UUID id) {\r\n    final String _sql = &quot;SELECT * FROM trip WHERE uuid=?&quot;;\r\n    final RoomSQLiteQuery _statement = RoomSQLiteQuery.acquire(_sql, 1);\r\n    int _argIndex = 1;\r\n    final String _tmp;\r\n    _tmp = __tripTypeConverter.fromUUID(id);\r\n    if (_tmp == null) {\r\n      _statement.bindNull(_argIndex);\r\n    } else {\r\n      _statement.bindString(_argIndex, _tmp);\r\n    }\r\n    return __db.getInvalidationTracker().createLiveData(new String[]{&quot;trip&quot;}, false, new Callable&lt;Trip&gt;() {\r\n      @Override\r\n      public Trip call() throws Exception {\r\n        final Cursor _cursor = DBUtil.query(__db, _statement, false, null);\r\n        try {\r\n          final int _cursorIndexOfUuid = CursorUtil.getColumnIndexOrThrow(_cursor, &quot;uuid&quot;);\r\n          final int _cursorIndexOfTitle = CursorUtil.getColumnIndexOrThrow(_cursor, &quot;title&quot;);\r\n          final int _cursorIndexOfDestination = CursorUtil.getColumnIndexOrThrow(_cursor, &quot;destination&quot;);\r\n          final int _cursorIndexOfDate = CursorUtil.getColumnIndexOrThrow(_cursor, &quot;date&quot;);\r\n          final int _cursorIndexOfDuration = CursorUtil.getColumnIndexOrThrow(_cursor, &quot;duration&quot;);\r\n          final Trip _result;\r\n          if(_cursor.moveToFirst()) {\r\n            _result = new Trip();\r\n            final String _tmp_1;\r\n            if (_cursor.isNull(_cursorIndexOfUuid)) {\r\n              _tmp_1 = null;\r\n            } else {\r\n              _tmp_1 = _cursor.getString(_cursorIndexOfUuid);\r\n            }\r\n            _result.uuid = __tripTypeConverter.toUUID(_tmp_1);\r\n            if (_cursor.isNull(_cursorIndexOfTitle)) {\r\n              _result.title = null;\r\n            } else {\r\n              _result.title = _cursor.getString(_cursorIndexOfTitle);\r\n            }\r\n            if (_cursor.isNull(_cursorIndexOfDestination)) {\r\n              _result.destination = null;\r\n            } else {\r\n              _result.destination = _cursor.getString(_cursorIndexOfDestination);\r\n            }\r\n            if (_cursor.isNull(_cursorIndexOfDate)) {\r\n              _result.date = null;\r\n            } else {\r\n              _result.date = _cursor.getString(_cursorIndexOfDate);\r\n            }\r\n            if (_cursor.isNull(_cursorIndexOfDuration)) {\r\n              _result.duration = null;\r\n            } else {\r\n              _result.duration = _cursor.getString(_cursorIndexOfDuration);\r\n            }\r\n          } else {\r\n            _result = null;\r\n          }\r\n          return _result;\r\n        } finally {\r\n          _cursor.close();\r\n        }\r\n      }\r\n\r\n      @Override\r\n      protected void finalize() {\r\n        _statement.release();\r\n      }\r\n    });\r\n  }\r\n\r\n  public static List&lt;Class&lt;?&gt;&gt; getRequiredConverters() {\r\n    return Collections.emptyList();\r\n  }\r\n}\r\n```\r\n\r\nI&#39;ve been told I need to use Executor for INSERT, UPDATE and DELETE so they don&#39;t get block the main thread, so I&#39;m not sure how to fix this without just removing the executors.\r\n\r\nAs far as I can figure, there&#39;s no actual Runnable object to return, so it doesn&#39;t know what to do? If I&#39;ve got that wrong please correct me. \r\n\r\nBut yeah, I just can&#39;t figure out how to get around the executor wanting a Runnable return type, but there being no Runnable to return. Any help would be appreciated","title":"error: Not sure how to handle insert method&#39;s return type","body":"<p>So I'm trying to use Executor execute the Dao's in my android app, but when I created the Executor, it said it required the method being run to have a Runnable return type?</p>\n<p>So I made them all return Runnable, but now Android Studio gives me the error:</p>\n<pre><code>/database/TripDao.java:28: error: Not sure how to handle insert method's return type.\n    Runnable insertTrip(Trip trip);\n             ^\n</code></pre>\n<p>Dao:</p>\n<pre><code>import androidx.lifecycle.LiveData;\nimport androidx.room.Dao;\nimport androidx.room.Delete;\nimport androidx.room.Insert;\nimport androidx.room.Query;\nimport androidx.room.Update;\n\nimport java.util.List;\nimport java.util.UUID;\n\n@Dao\npublic interface TripDao {\n    @Query(&quot;DELETE FROM trip&quot;)\n    public void deleteTrips();\n\n    @Query(&quot;SELECT * FROM trip&quot;)\n    LiveData&lt;List&lt;Trip&gt;&gt; getAll();\n\n    @Query(&quot;SELECT * FROM trip WHERE uuid=:id&quot;)\n    public LiveData&lt;Trip&gt; getTrip(UUID id);\n\n    @Delete\n    Runnable delete(Trip trip);\n\n    @Insert\n    Runnable insertTrip(Trip trip);\n\n    @Update\n    Runnable updateTrip(Trip trip);\n\n\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>package com.example.csc202assignment.database;\n\nimport android.content.Context;\n\nimport androidx.lifecycle.LiveData;\nimport androidx.room.Room;\n\nimport java.util.List;\nimport java.util.UUID;\nimport java.util.concurrent.Executor;\nimport java.util.concurrent.Executors;\n\n\npublic class TripRepository {\n    private static TripRepository INSTANCE = null;\n    private final String DATABASE_NAME = &quot;trip-database&quot;;\n    private Context context;\n    TripDatabase database;\n    static TripDao tripDao;\n    Executor executor = Executors.newSingleThreadExecutor();\n\n    private TripRepository(Context context) {\n        this.context = context;\n        this.database = Room.databaseBuilder(\n                context.getApplicationContext(),\n                TripDatabase.class,DATABASE_NAME).build();\n         tripDao = database.tripDao();\n\n    }\n\n    void deleteTrips(){\n        tripDao.deleteTrips();\n    }\n\n    void delete(Trip trip){\n        executor.execute(tripDao.delete(trip));\n\n    }\n\n    void insertTrip(Trip trip){\n        executor.execute(tripDao.insertTrip(trip));\n    }\n\n    void updateTrip(Trip trip){\n        executor.execute(tripDao.updateTrip(trip));\n    }\n\n    public LiveData&lt;List&lt;Trip&gt;&gt; getAll(){ return tripDao.getAll();\n    }\n\n    public static LiveData&lt;Trip&gt; getTrip(UUID id){\n        return tripDao.getTrip(id);\n    }\n\n    public static void initialise(Context context){\n        if(INSTANCE==null){\n            INSTANCE = new TripRepository(context);\n        }\n    }\n\n     public static TripRepository get() throws IllegalStateException {\n         try {\n             return INSTANCE;\n         } catch (IllegalStateException e) {\n             System.out.println(&quot;TripRepository must be initialised&quot;);\n         }\n         return INSTANCE;\n     }\n}\n</code></pre>\n<p>Dao_Impl</p>\n<pre><code>package com.example.csc202assignment.database;\n\nimport android.database.Cursor;\nimport androidx.lifecycle.LiveData;\nimport androidx.room.EntityDeletionOrUpdateAdapter;\nimport androidx.room.EntityInsertionAdapter;\nimport androidx.room.RoomDatabase;\nimport androidx.room.RoomSQLiteQuery;\nimport androidx.room.SharedSQLiteStatement;\nimport androidx.room.util.CursorUtil;\nimport androidx.room.util.DBUtil;\nimport androidx.sqlite.db.SupportSQLiteStatement;\nimport java.lang.Class;\nimport java.lang.Exception;\nimport java.lang.Override;\nimport java.lang.Runnable;\nimport java.lang.String;\nimport java.lang.SuppressWarnings;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.UUID;\nimport java.util.concurrent.Callable;\n\n@SuppressWarnings({&quot;unchecked&quot;, &quot;deprecation&quot;})\npublic final class TripDao_Impl implements TripDao {\n  private final RoomDatabase __db;\n\n  private final EntityInsertionAdapter&lt;Trip&gt; __insertionAdapterOfTrip;\n\n  private final TripTypeConverter __tripTypeConverter = new TripTypeConverter();\n\n  private final EntityDeletionOrUpdateAdapter&lt;Trip&gt; __deletionAdapterOfTrip;\n\n  private final EntityDeletionOrUpdateAdapter&lt;Trip&gt; __updateAdapterOfTrip;\n\n  private final SharedSQLiteStatement __preparedStmtOfDeleteTrips;\n\n  public TripDao_Impl(RoomDatabase __db) {\n    this.__db = __db;\n    this.__insertionAdapterOfTrip = new EntityInsertionAdapter&lt;Trip&gt;(__db) {\n      @Override\n      public String createQuery() {\n        return &quot;INSERT OR ABORT INTO `Trip` (`uuid`,`title`,`destination`,`date`,`duration`) VALUES (?,?,?,?,?)&quot;;\n      }\n\n      @Override\n      public void bind(SupportSQLiteStatement stmt, Trip value) {\n        final String _tmp;\n        _tmp = __tripTypeConverter.fromUUID(value.uuid);\n        if (_tmp == null) {\n          stmt.bindNull(1);\n        } else {\n          stmt.bindString(1, _tmp);\n        }\n        if (value.title == null) {\n          stmt.bindNull(2);\n        } else {\n          stmt.bindString(2, value.title);\n        }\n        if (value.destination == null) {\n          stmt.bindNull(3);\n        } else {\n          stmt.bindString(3, value.destination);\n        }\n        if (value.date == null) {\n          stmt.bindNull(4);\n        } else {\n          stmt.bindString(4, value.date);\n        }\n        if (value.duration == null) {\n          stmt.bindNull(5);\n        } else {\n          stmt.bindString(5, value.duration);\n        }\n      }\n    };\n    this.__deletionAdapterOfTrip = new EntityDeletionOrUpdateAdapter&lt;Trip&gt;(__db) {\n      @Override\n      public String createQuery() {\n        return &quot;DELETE FROM `Trip` WHERE `uuid` = ?&quot;;\n      }\n\n      @Override\n      public void bind(SupportSQLiteStatement stmt, Trip value) {\n        final String _tmp;\n        _tmp = __tripTypeConverter.fromUUID(value.uuid);\n        if (_tmp == null) {\n          stmt.bindNull(1);\n        } else {\n          stmt.bindString(1, _tmp);\n        }\n      }\n    };\n    this.__updateAdapterOfTrip = new EntityDeletionOrUpdateAdapter&lt;Trip&gt;(__db) {\n      @Override\n      public String createQuery() {\n        return &quot;UPDATE OR ABORT `Trip` SET `uuid` = ?,`title` = ?,`destination` = ?,`date` = ?,`duration` = ? WHERE `uuid` = ?&quot;;\n      }\n\n      @Override\n      public void bind(SupportSQLiteStatement stmt, Trip value) {\n        final String _tmp;\n        _tmp = __tripTypeConverter.fromUUID(value.uuid);\n        if (_tmp == null) {\n          stmt.bindNull(1);\n        } else {\n          stmt.bindString(1, _tmp);\n        }\n        if (value.title == null) {\n          stmt.bindNull(2);\n        } else {\n          stmt.bindString(2, value.title);\n        }\n        if (value.destination == null) {\n          stmt.bindNull(3);\n        } else {\n          stmt.bindString(3, value.destination);\n        }\n        if (value.date == null) {\n          stmt.bindNull(4);\n        } else {\n          stmt.bindString(4, value.date);\n        }\n        if (value.duration == null) {\n          stmt.bindNull(5);\n        } else {\n          stmt.bindString(5, value.duration);\n        }\n        final String _tmp_1;\n        _tmp_1 = __tripTypeConverter.fromUUID(value.uuid);\n        if (_tmp_1 == null) {\n          stmt.bindNull(6);\n        } else {\n          stmt.bindString(6, _tmp_1);\n        }\n      }\n    };\n    this.__preparedStmtOfDeleteTrips = new SharedSQLiteStatement(__db) {\n      @Override\n      public String createQuery() {\n        final String _query = &quot;DELETE FROM trip&quot;;\n        return _query;\n      }\n    };\n  }\n\n  @Override\n  public Runnable insertTrip(final Trip trip) {\n    __db.assertNotSuspendingTransaction();\n  }\n\n  @Override\n  public Runnable delete(final Trip trip) {\n    __db.assertNotSuspendingTransaction();\n  }\n\n  @Override\n  public Runnable updateTrip(final Trip trip) {\n    __db.assertNotSuspendingTransaction();\n  }\n\n  @Override\n  public void deleteTrips() {\n    __db.assertNotSuspendingTransaction();\n    final SupportSQLiteStatement _stmt = __preparedStmtOfDeleteTrips.acquire();\n    __db.beginTransaction();\n    try {\n      _stmt.executeUpdateDelete();\n      __db.setTransactionSuccessful();\n    } finally {\n      __db.endTransaction();\n      __preparedStmtOfDeleteTrips.release(_stmt);\n    }\n  }\n\n  @Override\n  public LiveData&lt;List&lt;Trip&gt;&gt; getAll() {\n    final String _sql = &quot;SELECT * FROM trip&quot;;\n    final RoomSQLiteQuery _statement = RoomSQLiteQuery.acquire(_sql, 0);\n    return __db.getInvalidationTracker().createLiveData(new String[]{&quot;trip&quot;}, false, new Callable&lt;List&lt;Trip&gt;&gt;() {\n      @Override\n      public List&lt;Trip&gt; call() throws Exception {\n        final Cursor _cursor = DBUtil.query(__db, _statement, false, null);\n        try {\n          final int _cursorIndexOfUuid = CursorUtil.getColumnIndexOrThrow(_cursor, &quot;uuid&quot;);\n          final int _cursorIndexOfTitle = CursorUtil.getColumnIndexOrThrow(_cursor, &quot;title&quot;);\n          final int _cursorIndexOfDestination = CursorUtil.getColumnIndexOrThrow(_cursor, &quot;destination&quot;);\n          final int _cursorIndexOfDate = CursorUtil.getColumnIndexOrThrow(_cursor, &quot;date&quot;);\n          final int _cursorIndexOfDuration = CursorUtil.getColumnIndexOrThrow(_cursor, &quot;duration&quot;);\n          final List&lt;Trip&gt; _result = new ArrayList&lt;Trip&gt;(_cursor.getCount());\n          while(_cursor.moveToNext()) {\n            final Trip _item;\n            _item = new Trip();\n            final String _tmp;\n            if (_cursor.isNull(_cursorIndexOfUuid)) {\n              _tmp = null;\n            } else {\n              _tmp = _cursor.getString(_cursorIndexOfUuid);\n            }\n            _item.uuid = __tripTypeConverter.toUUID(_tmp);\n            if (_cursor.isNull(_cursorIndexOfTitle)) {\n              _item.title = null;\n            } else {\n              _item.title = _cursor.getString(_cursorIndexOfTitle);\n            }\n            if (_cursor.isNull(_cursorIndexOfDestination)) {\n              _item.destination = null;\n            } else {\n              _item.destination = _cursor.getString(_cursorIndexOfDestination);\n            }\n            if (_cursor.isNull(_cursorIndexOfDate)) {\n              _item.date = null;\n            } else {\n              _item.date = _cursor.getString(_cursorIndexOfDate);\n            }\n            if (_cursor.isNull(_cursorIndexOfDuration)) {\n              _item.duration = null;\n            } else {\n              _item.duration = _cursor.getString(_cursorIndexOfDuration);\n            }\n            _result.add(_item);\n          }\n          return _result;\n        } finally {\n          _cursor.close();\n        }\n      }\n\n      @Override\n      protected void finalize() {\n        _statement.release();\n      }\n    });\n  }\n\n  @Override\n  public LiveData&lt;Trip&gt; getTrip(final UUID id) {\n    final String _sql = &quot;SELECT * FROM trip WHERE uuid=?&quot;;\n    final RoomSQLiteQuery _statement = RoomSQLiteQuery.acquire(_sql, 1);\n    int _argIndex = 1;\n    final String _tmp;\n    _tmp = __tripTypeConverter.fromUUID(id);\n    if (_tmp == null) {\n      _statement.bindNull(_argIndex);\n    } else {\n      _statement.bindString(_argIndex, _tmp);\n    }\n    return __db.getInvalidationTracker().createLiveData(new String[]{&quot;trip&quot;}, false, new Callable&lt;Trip&gt;() {\n      @Override\n      public Trip call() throws Exception {\n        final Cursor _cursor = DBUtil.query(__db, _statement, false, null);\n        try {\n          final int _cursorIndexOfUuid = CursorUtil.getColumnIndexOrThrow(_cursor, &quot;uuid&quot;);\n          final int _cursorIndexOfTitle = CursorUtil.getColumnIndexOrThrow(_cursor, &quot;title&quot;);\n          final int _cursorIndexOfDestination = CursorUtil.getColumnIndexOrThrow(_cursor, &quot;destination&quot;);\n          final int _cursorIndexOfDate = CursorUtil.getColumnIndexOrThrow(_cursor, &quot;date&quot;);\n          final int _cursorIndexOfDuration = CursorUtil.getColumnIndexOrThrow(_cursor, &quot;duration&quot;);\n          final Trip _result;\n          if(_cursor.moveToFirst()) {\n            _result = new Trip();\n            final String _tmp_1;\n            if (_cursor.isNull(_cursorIndexOfUuid)) {\n              _tmp_1 = null;\n            } else {\n              _tmp_1 = _cursor.getString(_cursorIndexOfUuid);\n            }\n            _result.uuid = __tripTypeConverter.toUUID(_tmp_1);\n            if (_cursor.isNull(_cursorIndexOfTitle)) {\n              _result.title = null;\n            } else {\n              _result.title = _cursor.getString(_cursorIndexOfTitle);\n            }\n            if (_cursor.isNull(_cursorIndexOfDestination)) {\n              _result.destination = null;\n            } else {\n              _result.destination = _cursor.getString(_cursorIndexOfDestination);\n            }\n            if (_cursor.isNull(_cursorIndexOfDate)) {\n              _result.date = null;\n            } else {\n              _result.date = _cursor.getString(_cursorIndexOfDate);\n            }\n            if (_cursor.isNull(_cursorIndexOfDuration)) {\n              _result.duration = null;\n            } else {\n              _result.duration = _cursor.getString(_cursorIndexOfDuration);\n            }\n          } else {\n            _result = null;\n          }\n          return _result;\n        } finally {\n          _cursor.close();\n        }\n      }\n\n      @Override\n      protected void finalize() {\n        _statement.release();\n      }\n    });\n  }\n\n  public static List&lt;Class&lt;?&gt;&gt; getRequiredConverters() {\n    return Collections.emptyList();\n  }\n}\n</code></pre>\n<p>I've been told I need to use Executor for INSERT, UPDATE and DELETE so they don't get block the main thread, so I'm not sure how to fix this without just removing the executors.</p>\n<p>As far as I can figure, there's no actual Runnable object to return, so it doesn't know what to do? If I've got that wrong please correct me.</p>\n<p>But yeah, I just can't figure out how to get around the executor wanting a Runnable return type, but there being no Runnable to return. Any help would be appreciated</p>\n"},{"tags":["java","spring","microservices","synchronous","spring-cloud-dataflow"],"answers":[{"tags":[],"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642830075,"creation_date":1642830075,"answer_id":70810315,"question_id":70304543,"body_markdown":"It is not easy combine Async Flows (Spring Cloud Data Flow) with a Sync HTTP Flow (HTTP Requests have a timeout and Async Flow processing time is not known upfront). What you can do is return an id as response for your HTTP source and have another HTTP Endpoint to check the status of the initial request and get the result back using that. This is a polling approach.\r\n\r\n","title":"How to handle synchronous responses with Spring Cloud Data Flow","body":"<p>It is not easy combine Async Flows (Spring Cloud Data Flow) with a Sync HTTP Flow (HTTP Requests have a timeout and Async Flow processing time is not known upfront). What you can do is return an id as response for your HTTP source and have another HTTP Endpoint to check the status of the initial request and get the result back using that. This is a polling approach.</p>\n"}],"owner":{"account_id":22915572,"reputation":13,"user_id":17052213,"display_name":"cuISNoTH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70810315,"answer_count":1,"score":0,"last_activity_date":1642830075,"creation_date":1639139442,"question_id":70304543,"body_markdown":"We are in the process of designing the migration of our monolithic Java application to microservices to meet various client requirements such as scalability, high availability, etc. The core function of our application is data processing, i.e. retrieve data from a source, put it through 0 or more transformations, and finally push the result to a destination. For this reason, we are looking at Spring Cloud Data Flow running on Kubernetes and Kafka to do the heavy lifting for us, with a few custom built stream applications to handle our business logic.\r\n\r\nOne thing we have not yet figured out though is how it could handle synchronous responses to requests being sent in via an HTTP source - specifically when some processing is required before responding. For example, let us say that a request is received containing two different amounts in a JSON packet. We then pass this on to a custom &quot;addition&quot; transformer that outputs the sum of these amounts, and needs to return the result back to the calling party. However, because the transformer is a completely separate process that received the data by consuming it from a Kafka topic, it has no access to the original HTTP connection to respond.\r\n\r\nIs this something that is possible with Spring Cloud Data Flow, perhaps by combining it with something like Spring Cloud Gateway to manage the HTTP connection? Or are we barking up the wrong tree completely?","title":"How to handle synchronous responses with Spring Cloud Data Flow","body":"<p>We are in the process of designing the migration of our monolithic Java application to microservices to meet various client requirements such as scalability, high availability, etc. The core function of our application is data processing, i.e. retrieve data from a source, put it through 0 or more transformations, and finally push the result to a destination. For this reason, we are looking at Spring Cloud Data Flow running on Kubernetes and Kafka to do the heavy lifting for us, with a few custom built stream applications to handle our business logic.</p>\n<p>One thing we have not yet figured out though is how it could handle synchronous responses to requests being sent in via an HTTP source - specifically when some processing is required before responding. For example, let us say that a request is received containing two different amounts in a JSON packet. We then pass this on to a custom &quot;addition&quot; transformer that outputs the sum of these amounts, and needs to return the result back to the calling party. However, because the transformer is a completely separate process that received the data by consuming it from a Kafka topic, it has no access to the original HTTP connection to respond.</p>\n<p>Is this something that is possible with Spring Cloud Data Flow, perhaps by combining it with something like Spring Cloud Gateway to manage the HTTP connection? Or are we barking up the wrong tree completely?</p>\n"},{"tags":["java","json","jolt"],"answers":[{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642829402,"creation_date":1642829402,"answer_id":70810259,"question_id":70808743,"body_markdown":"One option would be changing the order of the transformations such as\r\n```json\r\n[\r\n  {\r\n   // Add a default attribute &quot;C&quot; to the current object\r\n    &quot;operation&quot;: &quot;default&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;valueC&quot;: &quot;C&quot;\r\n    }\r\n  },\r\n  {\r\n   // Nest all children of the object under &quot;listWithItems&quot; key name as an array\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: &quot;listWithItems[0].&amp;&quot;\r\n    }\r\n  }\r\n]\r\n```\r\n[![enter image description here][1]][1]\r\n\r\nAnother option uses **modify** transformation such as\r\n```json\r\n[\r\n  {\r\n   // Nest all of the current elements of the object under the &quot;listWithItems&quot; array \r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: &quot;listWithItems[0].&amp;&quot;\r\n    }\r\n  },\r\n  {\r\n   // Add new key-value pair to the array\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;valueC&quot;: &quot;C&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ef7Jn.jpg\r\n  [2]: https://i.stack.imgur.com/p6TLn.jpg\r\n\r\nYou can check out https://github.com/bazaarvoice/jolt/releases/ as a source and https://jolt-demo.appspot.com/ as a playground. ","title":"Adding default values to array in Jolt","body":"<p>One option would be changing the order of the transformations such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n   // Add a default attribute &quot;C&quot; to the current object\n    &quot;operation&quot;: &quot;default&quot;,\n    &quot;spec&quot;: {\n      &quot;valueC&quot;: &quot;C&quot;\n    }\n  },\n  {\n   // Nest all children of the object under &quot;listWithItems&quot; key name as an array\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;listWithItems[0].&amp;&quot;\n    }\n  }\n]\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Ef7Jn.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ef7Jn.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Another option uses <strong>modify</strong> transformation such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n   // Nest all of the current elements of the object under the &quot;listWithItems&quot; array \n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;listWithItems[0].&amp;&quot;\n    }\n  },\n  {\n   // Add new key-value pair to the array\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;*&quot;: {\n          &quot;valueC&quot;: &quot;C&quot;\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/p6TLn.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p6TLn.jpg\" alt=\"enter image description here\" /></a></p>\n<p>You can check out <a href=\"https://github.com/bazaarvoice/jolt/releases/\" rel=\"nofollow noreferrer\">https://github.com/bazaarvoice/jolt/releases/</a> as a source and <a href=\"https://jolt-demo.appspot.com/\" rel=\"nofollow noreferrer\">https://jolt-demo.appspot.com/</a> as a playground.</p>\n"}],"owner":{"account_id":19565504,"reputation":65,"user_id":14317769,"display_name":"Nicolas Jimenez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1638,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70810259,"answer_count":1,"score":2,"last_activity_date":1642829485,"creation_date":1642808187,"question_id":70808743,"body_markdown":"I am trying to transform a json using jolt, it&#39;s just adding some default values to an array.\r\n\r\nthe input looks like this:\r\n```json\r\n{\r\n  &quot;valueA&quot;: &quot;A&quot;,\r\n  &quot;valueB&quot;: &quot;B&quot;\r\n}\r\n```\r\n\r\nThe output should be:\r\n```json\r\n{\r\n  &quot;listWithItems&quot;: [ \r\n    {\r\n      &quot;valA&quot;: &quot;A&quot;,\r\n      &quot;valB&quot;: &quot;B&quot;,\r\n      &quot;valC&quot;: &quot;C&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\nMy spec looks right now:\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;valueA&quot;: &quot;listWithItems[0].valA&quot;,\r\n      &quot;valueB&quot;: &quot;listWithItems[0].valB&quot;\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;default&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;listWithItems&quot;: [\r\n        {\r\n          &quot;valC&quot;: &quot;valC&quot;\r\n        }\r\n      ]\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nI just can&#39;t pass the valC to the listWithItems and haven&#39;t found anything in the documentation. Can someone help me with this? \r\n\r\nThank you in advance!\r\n\r\n\r\n\r\n","title":"Adding default values to array in Jolt","body":"<p>I am trying to transform a json using jolt, it's just adding some default values to an array.</p>\n<p>the input looks like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;valueA&quot;: &quot;A&quot;,\n  &quot;valueB&quot;: &quot;B&quot;\n}\n</code></pre>\n<p>The output should be:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;listWithItems&quot;: [ \n    {\n      &quot;valA&quot;: &quot;A&quot;,\n      &quot;valB&quot;: &quot;B&quot;,\n      &quot;valC&quot;: &quot;C&quot;\n    }\n  ]\n}\n</code></pre>\n<p>My spec looks right now:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;valueA&quot;: &quot;listWithItems[0].valA&quot;,\n      &quot;valueB&quot;: &quot;listWithItems[0].valB&quot;\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;default&quot;,\n    &quot;spec&quot;: {\n      &quot;listWithItems&quot;: [\n        {\n          &quot;valC&quot;: &quot;valC&quot;\n        }\n      ]\n    }\n  }\n]\n</code></pre>\n<p>I just can't pass the valC to the listWithItems and haven't found anything in the documentation. Can someone help me with this?</p>\n<p>Thank you in advance!</p>\n"},{"tags":["java","eclipse","syntax-error"],"answers":[{"tags":[],"owner":{"account_id":19452218,"reputation":204,"user_id":14228343,"display_name":"Aditya Arora"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642829188,"creation_date":1642829188,"answer_id":70810246,"question_id":70810189,"body_markdown":"You are writing code directly inside a class.\r\nAny code that should be excuted is written inside a method.\r\n\r\nIn your case,\r\n\r\n    public class Cards {\r\n        //this is inside class.\r\n        for(int i=0; i&lt;4; i++) { /*Your code*/ }\r\n    }\r\n\r\nChange this to:\r\n\r\n    public class Cards {\r\n        public static void main(String[] args) {\r\n            for(int i=0; i&lt;4; i++) { /*Your code*/ }\r\n        }\r\n    }\r\n","title":"My variable syntax is turning blue in eclipse which leads to errors in code","body":"<p>You are writing code directly inside a class.\nAny code that should be excuted is written inside a method.</p>\n<p>In your case,</p>\n<pre><code>public class Cards {\n    //this is inside class.\n    for(int i=0; i&lt;4; i++) { /*Your code*/ }\n}\n</code></pre>\n<p>Change this to:</p>\n<pre><code>public class Cards {\n    public static void main(String[] args) {\n        for(int i=0; i&lt;4; i++) { /*Your code*/ }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12682893,"reputation":7,"user_id":9253009,"display_name":"Forez Lex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1642859676,"accepted_answer_id":70810246,"answer_count":1,"score":-3,"last_activity_date":1642829188,"creation_date":1642828431,"question_id":70810189,"body_markdown":"I&#39;m just working on a project and I have to use eclipse to work on it. So, when I was creating a for loop, I had noticed that the &#39;i&#39; variable had just turned blue and it returned the same Syntax error from the previous code which was `Syntax error on token &quot;;&quot;, , expected`. Here are the images to show you what I mean.\r\n\r\n[First case][1]\r\n\r\n\r\n[Second Case][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/468h3.jpg\r\n  [2]: https://i.stack.imgur.com/GqKqh.jpg\r\n\r\n\r\nI haven&#39;t really changed anything in Eclipse settings recently or in general concerning syntax. I have no idea why it&#39;s being weird. I also found that when I hover over &#39;i&#39;, it shows `int activities.activity1.Card.i`.","title":"My variable syntax is turning blue in eclipse which leads to errors in code","body":"<p>I'm just working on a project and I have to use eclipse to work on it. So, when I was creating a for loop, I had noticed that the 'i' variable had just turned blue and it returned the same Syntax error from the previous code which was <code>Syntax error on token &quot;;&quot;, , expected</code>. Here are the images to show you what I mean.</p>\n<p><a href=\"https://i.stack.imgur.com/468h3.jpg\" rel=\"nofollow noreferrer\">First case</a></p>\n<p><a href=\"https://i.stack.imgur.com/GqKqh.jpg\" rel=\"nofollow noreferrer\">Second Case</a></p>\n<p>I haven't really changed anything in Eclipse settings recently or in general concerning syntax. I have no idea why it's being weird. I also found that when I hover over 'i', it shows <code>int activities.activity1.Card.i</code>.</p>\n"},{"tags":["java","graph","jgrapht","longest-path"],"comments":[{"owner":{"account_id":2146298,"reputation":2282,"user_id":1903852,"accept_rate":77,"display_name":"Joris Kinable"},"score":1,"creation_date":1620846927,"post_id":67505705,"comment_id":119325459,"body_markdown":"Currently, JGrapht does not contain an algorithm to compute the longest path between a pair of vertices in a simple graph. Similarly, there&#39;s no algorithm that computes all simple paths between a pair of vertices. A quick and dirty hack is to transform your undirected graph into a directed graph by representing every undirected edge (u,v) by two directed arcs {(u,v),(v,u)}. This approach is not particularly scalable. I&#39;d recommend implementing a dedicated method to solve this problem.","body":"Currently, JGrapht does not contain an algorithm to compute the longest path between a pair of vertices in a simple graph. Similarly, there&#39;s no algorithm that computes all simple paths between a pair of vertices. A quick and dirty hack is to transform your undirected graph into a directed graph by representing every undirected edge (u,v) by two directed arcs {(u,v),(v,u)}. This approach is not particularly scalable. I&#39;d recommend implementing a dedicated method to solve this problem."},{"owner":{"account_id":21575295,"reputation":21,"user_id":15907545,"display_name":"lfmvit"},"score":0,"creation_date":1620847176,"post_id":67505705,"comment_id":119325554,"body_markdown":"Too bad that this &quot;feature&quot; is missing, thank you for the response","body":"Too bad that this &quot;feature&quot; is missing, thank you for the response"}],"owner":{"account_id":21575295,"reputation":21,"user_id":15907545,"display_name":"lfmvit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":858,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1642828695,"creation_date":1620829988,"question_id":67505705,"body_markdown":"I&#39; m currently studying the JGraphT libraries to manipulate Graphs in Java, in particular I&#39;m trying to identify the longest path between 2 nodes in a simple graph and I know that I can get there by using a recursive method.\r\nAnyway, I found in Java docs the AllDirectedGraphs library that can handle the job in case of directed graphs, here&#39; s a simple example:\r\n\r\n``` lang-java\r\n\r\n//the nodes of the graph are countries and the edges are the routes that connect the countries by land\r\n\r\nAllDirectedPaths&lt;Country, DefaultEdge&gt; paths = new AllDirectedPaths&lt;Country, DefaultEdge(graph);\r\n\r\n//getting all the paths between 2 random countries\r\n\t\t \r\nList&lt;GraphPath&lt;Country, DefaultEdge&gt;&gt; longestPath = paths.getAllPaths(countries.get(220), countries.get(325), true, null);\r\n\r\nGraphPath&lt;Country, DefaultEdge&gt; obj = null;\r\ndouble maxlenght=0;\r\n\t\t \r\nfor( GraphPath&lt;Country, DefaultEdge&gt; pa :longestPath ) {\r\n\t\t\t\t\t \r\n\t\t if(pa.getLength()&gt;maxlenght)\r\n\t\t\t obj= pa;\r\n\t\t}\r\nreturn obj;\r\n}\r\n```\r\n\r\nObviously using an undirected graph with the same method throw an Exception, so I&#39; m wondering if there is a similar workaround with a simple graph, since I can&#39; t find it by my self .\r\n\r\n\r\n","title":"Get all Paths between 2 Nodes in a simple graph using JGraphT","body":"<p>I' m currently studying the JGraphT libraries to manipulate Graphs in Java, in particular I'm trying to identify the longest path between 2 nodes in a simple graph and I know that I can get there by using a recursive method.\nAnyway, I found in Java docs the AllDirectedGraphs library that can handle the job in case of directed graphs, here' s a simple example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n//the nodes of the graph are countries and the edges are the routes that connect the countries by land\n\nAllDirectedPaths&lt;Country, DefaultEdge&gt; paths = new AllDirectedPaths&lt;Country, DefaultEdge(graph);\n\n//getting all the paths between 2 random countries\n         \nList&lt;GraphPath&lt;Country, DefaultEdge&gt;&gt; longestPath = paths.getAllPaths(countries.get(220), countries.get(325), true, null);\n\nGraphPath&lt;Country, DefaultEdge&gt; obj = null;\ndouble maxlenght=0;\n         \nfor( GraphPath&lt;Country, DefaultEdge&gt; pa :longestPath ) {\n                     \n         if(pa.getLength()&gt;maxlenght)\n             obj= pa;\n        }\nreturn obj;\n}\n</code></pre>\n<p>Obviously using an undirected graph with the same method throw an Exception, so I' m wondering if there is a similar workaround with a simple graph, since I can' t find it by my self .</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1642827058,"post_id":70810079,"comment_id":125181468,"body_markdown":"`System.out.printf(&quot;According to your survey, an average of %.2f people rode the %s per day.&quot;, media, &quot;hamster&quot;);`???","body":"<code>System.out.printf(&quot;According to your survey, an average of %.2f people rode the %s per day.&quot;, media, &quot;hamster&quot;);</code>???"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1642828656,"post_id":70810079,"comment_id":125181618,"body_markdown":"Don&#39;t conflate two problems.  The problems are 1) get a string from the user, and 2) include a string into `printf` output.  If you treat the two problems as separate, they are easier to solve ... separately.","body":"Don&#39;t conflate two problems.  The problems are 1) get a string from the user, and 2) include a string into <code>printf</code> output.  If you treat the two problems as separate, they are easier to solve ... separately."}],"answers":[{"tags":[],"owner":{"account_id":23987397,"reputation":7,"user_id":17974031,"display_name":"MohanaSundaram J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642827467,"creation_date":1642827467,"answer_id":70810132,"question_id":70810079,"body_markdown":"Get user input First . then add into print line\r\n\r\n    String input = input.next();\r\n     System.out.printf(&quot;According to your survey, an average of %.2f people&quot; +input +  &quot; rode the per day.&quot;,  media );","title":"I want to add a function in a println","body":"<p>Get user input First . then add into print line</p>\n<pre><code>String input = input.next();\n System.out.printf(&quot;According to your survey, an average of %.2f people&quot; +input +  &quot; rode the per day.&quot;,  media );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642828510,"creation_date":1642828510,"answer_id":70810198,"question_id":70810079,"body_markdown":"    float media = 1.5f;\r\n    Scanner stdin = new Scanner(System.in);\r\n    System.out.printf(&quot;According to your survey, an average of %.2f people rode the %s per day.&quot;,\r\n                      media,\r\n                      stdin.nextLine());\r\n\r\nWhen you run the above code, you won&#39;t see anything printed until you enter a value and press &lt;kbd&gt;ENTER&lt;/kbd&gt;. If, for example, you enter Jabberwocky&lt;sup&gt;1&lt;/sup&gt; then the following line will be displayed:\r\n```none\r\nAccording to your survey, an average of 1.50 people rode the Jabberwocky per day.\r\n```\r\n&lt;sup&gt;1&lt;/sup&gt;[Jabberwocky][1]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Jabberwocky","title":"I want to add a function in a println","body":"<pre><code>float media = 1.5f;\nScanner stdin = new Scanner(System.in);\nSystem.out.printf(&quot;According to your survey, an average of %.2f people rode the %s per day.&quot;,\n                  media,\n                  stdin.nextLine());\n</code></pre>\n<p>When you run the above code, you won't see anything printed until you enter a value and press <kbd>ENTER</kbd>. If, for example, you enter Jabberwocky<sup>1</sup> then the following line will be displayed:</p>\n<pre class=\"lang-none prettyprint-override\"><code>According to your survey, an average of 1.50 people rode the Jabberwocky per day.\n</code></pre>\n<p><sup>1</sup><a href=\"https://en.wikipedia.org/wiki/Jabberwocky\" rel=\"nofollow noreferrer\">Jabberwocky</a></p>\n"}],"owner":{"account_id":22853239,"reputation":27,"user_id":16998493,"display_name":"Jorge de Paula Jr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70810198,"answer_count":2,"score":-1,"last_activity_date":1642828510,"creation_date":1642826908,"question_id":70810079,"body_markdown":"I&#39;m trying to add the name input by the user into a printline in Java\r\n\r\n     System.out.printf(&quot;According to your survey, an average of %.2f people rode the per day.&quot;,  media );\r\n\r\nI want to add it at the part of the text &quot;rode the...&quot;","title":"I want to add a function in a println","body":"<p>I'm trying to add the name input by the user into a printline in Java</p>\n<pre><code> System.out.printf(&quot;According to your survey, an average of %.2f people rode the per day.&quot;,  media );\n</code></pre>\n<p>I want to add it at the part of the text &quot;rode the...&quot;</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":4745410,"reputation":971,"user_id":3836908,"accept_rate":98,"display_name":"sanoj lawrence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642827656,"creation_date":1642827656,"answer_id":70810139,"question_id":56049499,"body_markdown":"I used `mScrollView.fullScroll(mScrollView.FOCUS_DOWN);` to scroll to top,\r\n\r\n and thanks to https://stackoverflow.com/a/8684666/3836908 credit to the answer","title":"Unable to scroll to top in android WebView","body":"<p>I used <code>mScrollView.fullScroll(mScrollView.FOCUS_DOWN);</code> to scroll to top,</p>\n<p>and thanks to <a href=\"https://stackoverflow.com/a/8684666/3836908\">https://stackoverflow.com/a/8684666/3836908</a> credit to the answer</p>\n"}],"owner":{"account_id":4745410,"reputation":971,"user_id":3836908,"accept_rate":98,"display_name":"sanoj lawrence"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70810139,"answer_count":1,"score":1,"last_activity_date":1642827656,"creation_date":1557352125,"question_id":56049499,"body_markdown":"Am working on my first project in android, Since am creating a browser i added progress bar and swipe to refresh option.\r\n\r\nwhen i scrolled to page bottom then i tied to scroll to the top of the page but `swipe refresh` option is triggered, when i tried to scroll to top.\r\n\r\n**Problem:**\r\n\r\n - unable to scroll to top of the page.\r\n\r\nsomeone help me solve this issue\r\n\r\n**Main.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;android.support.v4.widget.SwipeRefreshLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:id=&quot;@+id/mySwipeLayout&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n       &lt;LinearLayout\r\n           android:orientation=&quot;vertical&quot;\r\n           android:layout_width=&quot;match_parent&quot;\r\n           android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n           &lt;LinearLayout\r\n               android:id=&quot;@+id/myLinearLayout&quot;\r\n               android:orientation=&quot;horizontal&quot;\r\n               android:layout_width=&quot;match_parent&quot;\r\n               android:layout_height=&quot;3dp&quot;&gt;\r\n    \r\n    \r\n               &lt;ProgressBar\r\n                   android:id=&quot;@+id/myProgressBar&quot;\r\n                   android:layout_weight=&quot;0.1&quot;\r\n                   style=&quot;@style/Base.Widget.AppCompat.ProgressBar.Horizontal&quot;\r\n                   android:layout_width=&quot;match_parent&quot;\r\n                   android:layout_height=&quot;match_parent&quot; /&gt;\r\n    \r\n               &lt;ImageView\r\n                   android:id=&quot;@+id/myImageView&quot;\r\n                   android:src=&quot;@mipmap/ic_launcher&quot;\r\n                   android:layout_weight=&quot;0.9&quot;\r\n                   android:layout_width=&quot;match_parent&quot;\r\n                   android:layout_height=&quot;match_parent&quot; /&gt;\r\n    \r\n           &lt;/LinearLayout&gt;\r\n    \r\n    \r\n           &lt;WebView\r\n               android:id=&quot;@+id/myWebView&quot;\r\n               android:layout_width=&quot;match_parent&quot;\r\n               android:layout_height=&quot;match_parent&quot;&gt;&lt;/WebView&gt;\r\n    \r\n       &lt;/LinearLayout&gt;\r\n    \r\n    &lt;/android.support.v4.widget.SwipeRefreshLayout&gt;\r\n\r\n\r\n**mainactivity.java**\r\n\r\n    package com.sanoj.goproxy;\r\n    \r\n    import android.graphics.Bitmap;\r\n    import android.support.v4.widget.SwipeRefreshLayout;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.view.Menu;\r\n    import android.view.MenuInflater;\r\n    import android.view.MenuItem;\r\n    import android.view.View;\r\n    import android.webkit.WebChromeClient;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n    import android.widget.ImageView;\r\n    import android.widget.LinearLayout;\r\n    import android.widget.ProgressBar;\r\n    import android.widget.Toast;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        ProgressBar superProgressBar;\r\n        ImageView superImageView;\r\n        WebView superWebView;\r\n        LinearLayout superLinearLayout;\r\n        SwipeRefreshLayout superSwipeLayout;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            superSwipeLayout = findViewById(R.id.mySwipeLayout);\r\n            superLinearLayout = findViewById(R.id.myLinearLayout);\r\n            superProgressBar = findViewById(R.id.myProgressBar);\r\n            superImageView = findViewById(R.id.myImageView);\r\n            superWebView = findViewById(R.id.myWebView);\r\n    \r\n            superProgressBar.setMax(100);\r\n    \r\n            superWebView.loadUrl(&quot;http://safebrowser.tk&quot;);\r\n            superWebView.getSettings().setJavaScriptEnabled(true);\r\n            superWebView.setWebViewClient(new WebViewClient(){\r\n    \r\n                @Override\r\n                public void onPageStarted(WebView view, String url, Bitmap favicon) {\r\n                    superLinearLayout.setVisibility(View.VISIBLE);\r\n                    super.onPageStarted(view, url, favicon);\r\n                }\r\n    \r\n                @Override\r\n                public void onPageFinished(WebView view, String url) {\r\n                    superLinearLayout.setVisibility(View.GONE);\r\n                    superSwipeLayout.setRefreshing(false);\r\n                    super.onPageFinished(view, url);\r\n                }\r\n            });\r\n    \r\n            superWebView.setWebChromeClient(new WebChromeClient(){\r\n    \r\n                @Override\r\n                public void onProgressChanged(WebView view, int newProgress) {\r\n                    super.onProgressChanged(view, newProgress);\r\n                    superProgressBar.setProgress(newProgress);\r\n                }\r\n    \r\n                @Override\r\n                public void onReceivedTitle(WebView view, String title) {\r\n                    super.onReceivedTitle(view, title);\r\n                    getSupportActionBar().setTitle(title);\r\n                }\r\n    \r\n                @Override\r\n                public void onReceivedIcon(WebView view, Bitmap icon) {\r\n                    super.onReceivedIcon(view, icon);\r\n                    superImageView.setImageBitmap(icon);\r\n                }\r\n            });\r\n            superSwipeLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\r\n                @Override\r\n                public void onRefresh() {\r\n                    superWebView.reload();\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            MenuInflater menuInflater = getMenuInflater();\r\n            menuInflater.inflate(R.menu.super_menu, menu);\r\n            return super.onCreateOptionsMenu(menu);\r\n        }\r\n    \r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n            switch (item.getItemId()){\r\n    \r\n                case R.id.menu_back:\r\n                onBackPressed();\r\n                break;\r\n    \r\n                case R.id.menu_forward:\r\n                    onForwardPressed();\r\n                    break;\r\n    \r\n                case R.id.menu_refresh:\r\n                    superWebView.reload();\r\n                    break;\r\n            }\r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n    \r\n        private void onForwardPressed(){\r\n            if (superWebView.canGoForward()){\r\n                superWebView.goForward();\r\n            } else {\r\n                Toast.makeText(getApplicationContext(), &quot;Can&#39;t Go Further..!&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onBackPressed() {\r\n            if (superWebView.canGoBack()){\r\n                superWebView.goBack();\r\n            }else {\r\n                finish();\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n \r\n","title":"Unable to scroll to top in android WebView","body":"<p>Am working on my first project in android, Since am creating a browser i added progress bar and swipe to refresh option.</p>\n\n<p>when i scrolled to page bottom then i tied to scroll to the top of the page but <code>swipe refresh</code> option is triggered, when i tried to scroll to top.</p>\n\n<p><strong>Problem:</strong></p>\n\n<ul>\n<li>unable to scroll to top of the page.</li>\n</ul>\n\n<p>someone help me solve this issue</p>\n\n<p><strong>Main.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.v4.widget.SwipeRefreshLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    android:id=\"@+id/mySwipeLayout\"\n    tools:context=\".MainActivity\"&gt;\n\n   &lt;LinearLayout\n       android:orientation=\"vertical\"\n       android:layout_width=\"match_parent\"\n       android:layout_height=\"match_parent\"&gt;\n\n       &lt;LinearLayout\n           android:id=\"@+id/myLinearLayout\"\n           android:orientation=\"horizontal\"\n           android:layout_width=\"match_parent\"\n           android:layout_height=\"3dp\"&gt;\n\n\n           &lt;ProgressBar\n               android:id=\"@+id/myProgressBar\"\n               android:layout_weight=\"0.1\"\n               style=\"@style/Base.Widget.AppCompat.ProgressBar.Horizontal\"\n               android:layout_width=\"match_parent\"\n               android:layout_height=\"match_parent\" /&gt;\n\n           &lt;ImageView\n               android:id=\"@+id/myImageView\"\n               android:src=\"@mipmap/ic_launcher\"\n               android:layout_weight=\"0.9\"\n               android:layout_width=\"match_parent\"\n               android:layout_height=\"match_parent\" /&gt;\n\n       &lt;/LinearLayout&gt;\n\n\n       &lt;WebView\n           android:id=\"@+id/myWebView\"\n           android:layout_width=\"match_parent\"\n           android:layout_height=\"match_parent\"&gt;&lt;/WebView&gt;\n\n   &lt;/LinearLayout&gt;\n\n&lt;/android.support.v4.widget.SwipeRefreshLayout&gt;\n</code></pre>\n\n<p><strong>mainactivity.java</strong></p>\n\n<pre><code>package com.sanoj.goproxy;\n\nimport android.graphics.Bitmap;\nimport android.support.v4.widget.SwipeRefreshLayout;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.Menu;\nimport android.view.MenuInflater;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.webkit.WebChromeClient;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.widget.ImageView;\nimport android.widget.LinearLayout;\nimport android.widget.ProgressBar;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n\n    ProgressBar superProgressBar;\n    ImageView superImageView;\n    WebView superWebView;\n    LinearLayout superLinearLayout;\n    SwipeRefreshLayout superSwipeLayout;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        superSwipeLayout = findViewById(R.id.mySwipeLayout);\n        superLinearLayout = findViewById(R.id.myLinearLayout);\n        superProgressBar = findViewById(R.id.myProgressBar);\n        superImageView = findViewById(R.id.myImageView);\n        superWebView = findViewById(R.id.myWebView);\n\n        superProgressBar.setMax(100);\n\n        superWebView.loadUrl(\"http://safebrowser.tk\");\n        superWebView.getSettings().setJavaScriptEnabled(true);\n        superWebView.setWebViewClient(new WebViewClient(){\n\n            @Override\n            public void onPageStarted(WebView view, String url, Bitmap favicon) {\n                superLinearLayout.setVisibility(View.VISIBLE);\n                super.onPageStarted(view, url, favicon);\n            }\n\n            @Override\n            public void onPageFinished(WebView view, String url) {\n                superLinearLayout.setVisibility(View.GONE);\n                superSwipeLayout.setRefreshing(false);\n                super.onPageFinished(view, url);\n            }\n        });\n\n        superWebView.setWebChromeClient(new WebChromeClient(){\n\n            @Override\n            public void onProgressChanged(WebView view, int newProgress) {\n                super.onProgressChanged(view, newProgress);\n                superProgressBar.setProgress(newProgress);\n            }\n\n            @Override\n            public void onReceivedTitle(WebView view, String title) {\n                super.onReceivedTitle(view, title);\n                getSupportActionBar().setTitle(title);\n            }\n\n            @Override\n            public void onReceivedIcon(WebView view, Bitmap icon) {\n                super.onReceivedIcon(view, icon);\n                superImageView.setImageBitmap(icon);\n            }\n        });\n        superSwipeLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\n            @Override\n            public void onRefresh() {\n                superWebView.reload();\n            }\n        });\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        MenuInflater menuInflater = getMenuInflater();\n        menuInflater.inflate(R.menu.super_menu, menu);\n        return super.onCreateOptionsMenu(menu);\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        switch (item.getItemId()){\n\n            case R.id.menu_back:\n            onBackPressed();\n            break;\n\n            case R.id.menu_forward:\n                onForwardPressed();\n                break;\n\n            case R.id.menu_refresh:\n                superWebView.reload();\n                break;\n        }\n        return super.onOptionsItemSelected(item);\n    }\n\n    private void onForwardPressed(){\n        if (superWebView.canGoForward()){\n            superWebView.goForward();\n        } else {\n            Toast.makeText(getApplicationContext(), \"Can't Go Further..!\", Toast.LENGTH_LONG).show();\n        }\n    }\n\n    @Override\n    public void onBackPressed() {\n        if (superWebView.canGoBack()){\n            superWebView.goBack();\n        }else {\n            finish();\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","loops","kotlin"],"comments":[{"owner":{"account_id":20634762,"reputation":66,"user_id":15148740,"display_name":"Joe Vienneau"},"score":0,"creation_date":1642805498,"post_id":70805801,"comment_id":125178629,"body_markdown":"Look for a good answer here https://stackoverflow.com/questions/26274182/not-able-to-achieve-gapless-audio-looping-so-far-on-android","body":"Look for a good answer here <a href=\"https://stackoverflow.com/questions/26274182/not-able-to-achieve-gapless-audio-looping-so-far-on-android\" title=\"not able to achieve gapless audio looping so far on android\">stackoverflow.com/questions/26274182/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":20330673,"reputation":91,"user_id":14912754,"display_name":"Muaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642793597,"creation_date":1642793597,"answer_id":70806742,"question_id":70805801,"body_markdown":"***Note:*** This might not be a good approach but it works. You can add\r\n\r\n&gt; **setOnCompletionListener**\r\n\r\nto one of the media players and start the other one in that.\r\nLike this;\r\n\r\n&gt;  val btnPlay = findViewById&lt;Button&gt;(R.id.btnPlay)\r\n&gt; \r\n&gt;         val mediaPlayer = MediaPlayer.create(this, R.raw.music_one)\r\n&gt;         val mediaPlayer2 = MediaPlayer.create(this, R.raw.music_two)\r\n&gt; \r\n&gt;         btnPlay.setOnClickListener { mediaPlayer.start() }\r\n&gt;         mediaPlayer.setOnCompletionListener { mediaPlayer2.start() }","title":"How to loop MediaPlayer without gap in Kotlin?","body":"<p><em><strong>Note:</strong></em> This might not be a good approach but it works. You can add</p>\n<blockquote>\n<p><strong>setOnCompletionListener</strong></p>\n</blockquote>\n<p>to one of the media players and start the other one in that.\nLike this;</p>\n<blockquote>\n<p>val btnPlay = findViewById(R.id.btnPlay)</p>\n<pre><code>    val mediaPlayer = MediaPlayer.create(this, R.raw.music_one)\n    val mediaPlayer2 = MediaPlayer.create(this, R.raw.music_two)\n\n    btnPlay.setOnClickListener { mediaPlayer.start() }\n    mediaPlayer.setOnCompletionListener { mediaPlayer2.start() }\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":23966880,"reputation":1,"user_id":17956240,"display_name":"으으으으"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642827461,"creation_date":1642788642,"question_id":70805801,"body_markdown":"I want loop play a music without gap \r\n\r\nAt first. I used .islooping but There was a gap between the music\r\n\r\nThen I found a way to gapless between the music.\r\n\r\nBut I can&#39;t make them loop.\r\n\r\nPlease solve this problem\r\n\r\n\r\n\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_main)\r\n    \r\n            val music1 = MediaPlayer.create(this, R.raw.sound1)\r\n            val music2 = MediaPlayer.create(this, R.raw.sound1)\r\n    \r\n            val musicBtn: ImageButton = findViewById(R.id.button)\r\n            musicBtn.setOnClickListener {\r\n                if (music1.isPlaying or music2.isPlaying) {\r\n                    music1.pause()\r\n                    music2.pause()\r\n                } else {\r\n                    music1.start()\r\n                    music1.setNextMediaPlayer(music2)\r\n                }\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\n\r\nI tried using Timer.\r\n\r\nHowever, there was an error before the second music was played.\r\n\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gxCVJ.png\r\n\r\n\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_main)\r\n            var timer = Timer()\r\n            val fire1 = MediaPlayer.create(this, R.raw.fire1)\r\n            val fire2 = MediaPlayer.create(this, R.raw.fire2)\r\n            val fireVol: SeekBar = findViewById(R.id.fireseek)\r\n            fireVol.visibility = View.INVISIBLE\r\n    \r\n    \r\n            val rainBtn4: ImageButton = findViewById(R.id.button)\r\n            rainBtn4.setOnClickListener {\r\n                val TT : TimerTask = object : TimerTask() {\r\n                    override fun run() {\r\n                        fire1.start()\r\n                        fire1.setNextMediaPlayer(fire2)\r\n                    }\r\n                }\r\n                if (fireVol.isVisible) {\r\n                    timer.cancel()\r\n                    timer = Timer()\r\n                    fire1.pause()\r\n                    fire2.pause()\r\n                    fireVol.visibility = View.INVISIBLE\r\n    \r\n                } else {\r\n                    timer.schedule(TT, 0,100)\r\n                    fireVol.visibility = View.VISIBLE\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to loop MediaPlayer without gap in Kotlin?","body":"<p>I want loop play a music without gap</p>\n<p>At first. I used .islooping but There was a gap between the music</p>\n<p>Then I found a way to gapless between the music.</p>\n<p>But I can't make them loop.</p>\n<p>Please solve this problem</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val music1 = MediaPlayer.create(this, R.raw.sound1)\n        val music2 = MediaPlayer.create(this, R.raw.sound1)\n\n        val musicBtn: ImageButton = findViewById(R.id.button)\n        musicBtn.setOnClickListener {\n            if (music1.isPlaying or music2.isPlaying) {\n                music1.pause()\n                music2.pause()\n            } else {\n                music1.start()\n                music1.setNextMediaPlayer(music2)\n            }\n        }\n\n    }\n}\n</code></pre>\n<p>I tried using Timer.</p>\n<p>However, there was an error before the second music was played.</p>\n<p><a href=\"https://i.stack.imgur.com/gxCVJ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        var timer = Timer()\n        val fire1 = MediaPlayer.create(this, R.raw.fire1)\n        val fire2 = MediaPlayer.create(this, R.raw.fire2)\n        val fireVol: SeekBar = findViewById(R.id.fireseek)\n        fireVol.visibility = View.INVISIBLE\n\n\n        val rainBtn4: ImageButton = findViewById(R.id.button)\n        rainBtn4.setOnClickListener {\n            val TT : TimerTask = object : TimerTask() {\n                override fun run() {\n                    fire1.start()\n                    fire1.setNextMediaPlayer(fire2)\n                }\n            }\n            if (fireVol.isVisible) {\n                timer.cancel()\n                timer = Timer()\n                fire1.pause()\n                fire2.pause()\n                fireVol.visibility = View.INVISIBLE\n\n            } else {\n                timer.schedule(TT, 0,100)\n                fireVol.visibility = View.VISIBLE\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","realm","graphql"],"answers":[{"tags":[],"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1642826993,"creation_date":1520331308,"answer_id":49128341,"question_id":49081288,"body_markdown":"Can you try:\r\n\r\n    student(query:&quot;created_datime BETWEEN {&#39;2018-02-24@14:59:43:842&#39;, &#39;2018-02-28@14:59:43:842&#39;}&quot;){\r\n  \r\n&gt;Notice the **@** instead of the **T** in question.","title":"How to query between two dates in graphql","body":"<p>Can you try:</p>\n<pre><code>student(query:&quot;created_datime BETWEEN {'2018-02-24@14:59:43:842', '2018-02-28@14:59:43:842'}&quot;){\n</code></pre>\n<blockquote>\n<p>Notice the <strong>@</strong> instead of the <strong>T</strong> in question.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13484354,"reputation":1,"user_id":9728570,"display_name":"Katie OLeary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624478167,"creation_date":1624387232,"answer_id":68089170,"question_id":49081288,"body_markdown":"It could be an invalid predicate because you put `created_datime` instead of `created_datetime` in your query. That&#39;s happened to me before where you misspell a variable when attempting to query and it doesn&#39;t work. ","title":"How to query between two dates in graphql","body":"<p>It could be an invalid predicate because you put <code>created_datime</code> instead of <code>created_datetime</code> in your query. That's happened to me before where you misspell a variable when attempting to query and it doesn't work.</p>\n"}],"owner":{"account_id":9072418,"reputation":321,"user_id":6755092,"accept_rate":0,"display_name":"Jay Hyber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11162,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":49128341,"answer_count":2,"score":4,"last_activity_date":1642826993,"creation_date":1520057772,"question_id":49081288,"body_markdown":"I have a problem here regarding Realm queries in GraphQL.\r\n\r\nIs it possible to query between two dates in graphql?\r\n\r\nThis is what I&#39;ve tried:\r\n\r\n    query getStudents{\r\n      student(query:&quot;created_datime BETWEEN {&#39;2018-02-24T14:59:43.842Z&#39;,&#39;2018-02-28T14:59:43.842Z&#39;}&quot;){\r\n        id\r\n      \tcode\r\n        name\r\n        created_datetime\r\n        modified_datetime\r\n        status\r\n      }\r\n    }\r\n\r\n\r\nit occurs an error &quot;Invalid Predicate&quot;.\r\n\r\nHow to query it correctly?\r\n\r\n\r\n","title":"How to query between two dates in graphql","body":"<p>I have a problem here regarding Realm queries in GraphQL.</p>\n\n<p>Is it possible to query between two dates in graphql?</p>\n\n<p>This is what I've tried:</p>\n\n<pre><code>query getStudents{\n  student(query:\"created_datime BETWEEN {'2018-02-24T14:59:43.842Z','2018-02-28T14:59:43.842Z'}\"){\n    id\n    code\n    name\n    created_datetime\n    modified_datetime\n    status\n  }\n}\n</code></pre>\n\n<p>it occurs an error \"Invalid Predicate\".</p>\n\n<p>How to query it correctly?</p>\n"},{"tags":["java","spring","rest","spring-mvc"],"comments":[{"owner":{"account_id":6901279,"reputation":161,"user_id":5300823,"display_name":"Ghost Rider"},"score":0,"creation_date":1642769253,"post_id":70801428,"comment_id":125166150,"body_markdown":"Since it is a GET method, try to get the param value as a String and parse it as a JSON. may help you","body":"Since it is a GET method, try to get the param value as a String and parse it as a JSON. may help you"},{"owner":{"account_id":2701966,"reputation":629,"user_id":2332505,"accept_rate":100,"display_name":"user2332505"},"score":0,"creation_date":1642769401,"post_id":70801428,"comment_id":125166222,"body_markdown":"I tried that as well. It keeps on failing. The only thing that work was : http://localhost:4200/api/v1/driver/getDriverListForDropDown?firstName=%22field%22:%22DriverCode%22,%22operator%22:%22startsWith%22,%22value%22:%2212345%22,%22caseSensitive%22:false","body":"I tried that as well. It keeps on failing. The only thing that work was : <a href=\"http://localhost:4200/api/v1/driver/getDriverListForDropDown?firstName=%22field%22:%22DriverCode%22,%22operator%22:%22startsWith%22,%22value%22:%2212345%22,%22caseSensitive%22:false\" rel=\"nofollow noreferrer\">localhost:4200/api/v1/driver/&hellip;</a>"},{"owner":{"account_id":4140948,"reputation":60,"user_id":3396294,"display_name":"Vasil"},"score":0,"creation_date":1642769488,"post_id":70801428,"comment_id":125166249,"body_markdown":"Recently found that lombok is not so much complaint with hibernate and could lead to unrecognized object to map it with, but error looks more like problem with the Tomcat, so not sure if you have already checked https://stackoverflow.com/questions/41053653/tomcat-8-is-not-able-to-handle-get-request-with-in-query-parameters/44005213#44005213","body":"Recently found that lombok is not so much complaint with hibernate and could lead to unrecognized object to map it with, but error looks more like problem with the Tomcat, so not sure if you have already checked <a href=\"https://stackoverflow.com/questions/41053653/tomcat-8-is-not-able-to-handle-get-request-with-in-query-parameters/44005213#44005213\" title=\"tomcat 8 is not able to handle get request with in query parameters\">stackoverflow.com/questions/41053653/&hellip;</a>"},{"owner":{"account_id":2701966,"reputation":629,"user_id":2332505,"accept_rate":100,"display_name":"user2332505"},"score":0,"creation_date":1642769645,"post_id":70801428,"comment_id":125166317,"body_markdown":"Since I am using embedded tomcat of spring, is it possible to add this config? I saw this answer as well, but was not sure on how to add in embedded tomcat server","body":"Since I am using embedded tomcat of spring, is it possible to add this config? I saw this answer as well, but was not sure on how to add in embedded tomcat server"},{"owner":{"account_id":4140948,"reputation":60,"user_id":3396294,"display_name":"Vasil"},"score":0,"creation_date":1642775236,"post_id":70801428,"comment_id":125168689,"body_markdown":"You can search (I already searched for some properties given in the answer and they are available) for them in : https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html and add them to your application.properties or even for the test you can try with externalized tomcat configuration.","body":"You can search (I already searched for some properties given in the answer and they are available) for them in : <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a> and add them to your application.properties or even for the test you can try with externalized tomcat configuration."},{"owner":{"account_id":2701966,"reputation":629,"user_id":2332505,"accept_rate":100,"display_name":"user2332505"},"score":0,"creation_date":1642825960,"post_id":70801428,"comment_id":125181377,"body_markdown":"thanks... issue was even properties changes were not working for me. Added a separate config for it and it works now.","body":"thanks... issue was even properties changes were not working for me. Added a separate config for it and it works now."}],"answers":[{"tags":[],"owner":{"account_id":14937373,"reputation":328,"user_id":10901306,"display_name":"Zukaru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642770988,"creation_date":1642770823,"answer_id":70801872,"question_id":70801428,"body_markdown":"I presume, as your exception suggests, check whether your request format is valid (maybe the char &#39;[&#39; and &#39;]&#39; in firstName params contradicts), or your tomcat version support your format, please refer to this [post](https://stackoverflow.com/questions/54287922/the-valid-characters-are-defined-in-rfc-7230-and-rfc-3986). \r\n\r\nSuggestion: Maybe instead of assigning hash-like value to params, you can separate them by creating new params (not only first name), or by setting the API point capable of accepting a body of json. e.g.\r\n```\r\n@GetMapping(path = &quot;/get&quot;)\r\npublic ResponseEntity&lt;...&gt; get(..., @RequestBody Map&lt;...&gt; firstname) \r\n{\r\n    .\r\n    .\r\n    .\r\n}\r\n```\r\ncheers!","title":"How to accept an array of object as request param in Spring Get API","body":"<p>I presume, as your exception suggests, check whether your request format is valid (maybe the char '[' and ']' in firstName params contradicts), or your tomcat version support your format, please refer to this <a href=\"https://stackoverflow.com/questions/54287922/the-valid-characters-are-defined-in-rfc-7230-and-rfc-3986\">post</a>.</p>\n<p>Suggestion: Maybe instead of assigning hash-like value to params, you can separate them by creating new params (not only first name), or by setting the API point capable of accepting a body of json. e.g.</p>\n<pre><code>@GetMapping(path = &quot;/get&quot;)\npublic ResponseEntity&lt;...&gt; get(..., @RequestBody Map&lt;...&gt; firstname) \n{\n    .\n    .\n    .\n}\n</code></pre>\n<p>cheers!</p>\n"},{"tags":[],"owner":{"account_id":2701966,"reputation":629,"user_id":2332505,"accept_rate":100,"display_name":"user2332505"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642826186,"creation_date":1642826186,"answer_id":70810028,"question_id":70801428,"body_markdown":"Issue was the 3rd party was not properly encoding the parameter and tomcat was denying these characters. \r\n\r\nEven when adding the relaxed characters in application.properties didn&#39;t worked.\r\n\r\nthe only solution that worked was to add the following config :\r\n\r\n    @Component\r\n    public class TomcatWebServerCustomizer implements \r\n    WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt;\r\n      {\r\n        /**\r\n         * Customize the specified\r\n        * @param factory the web server factory to customize\r\n        */\r\n        @Override\r\n        public void customize(TomcatServletWebServerFactory factory)\r\n         {\r\n           factory.addConnectorCustomizers(connector -&gt; \r\n          connector.setAttribute(&quot;relaxedQueryChars&quot;, &quot;&lt;&gt;[\\\\]^`{|}&quot;));\r\n         }\r\n       }","title":"How to accept an array of object as request param in Spring Get API","body":"<p>Issue was the 3rd party was not properly encoding the parameter and tomcat was denying these characters.</p>\n<p>Even when adding the relaxed characters in application.properties didn't worked.</p>\n<p>the only solution that worked was to add the following config :</p>\n<pre><code>@Component\npublic class TomcatWebServerCustomizer implements \nWebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt;\n  {\n    /**\n     * Customize the specified\n    * @param factory the web server factory to customize\n    */\n    @Override\n    public void customize(TomcatServletWebServerFactory factory)\n     {\n       factory.addConnectorCustomizers(connector -&gt; \n      connector.setAttribute(&quot;relaxedQueryChars&quot;, &quot;&lt;&gt;[\\\\]^`{|}&quot;));\n     }\n   }\n</code></pre>\n"}],"owner":{"account_id":2701966,"reputation":629,"user_id":2332505,"accept_rate":100,"display_name":"user2332505"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3098,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70810028,"answer_count":2,"score":1,"last_activity_date":1642826186,"creation_date":1642768852,"question_id":70801428,"body_markdown":"I am using a 3rd party grid, which generates the following GET API when a character is input :\r\n\r\n&gt; http://localhost:4200/api/v1/driver/getDriverListForDropDown?firstName=[{%22field%22:%22DriverCode%22,%22operator%22:%22startsWith%22,%22value%22:%2212345%22,%22caseSensitive%22:false}]\r\n\r\nRequest param generated : \r\n\r\n&gt; firstName:[{&quot;field&quot;:&quot;DriverCode&quot;,&quot;operator&quot;:&quot;startsWith&quot;,&quot;value&quot;:&quot;*&quot;,&quot;caseSensitive&quot;:false}]\r\n\r\nI am trying to create a rest API on spring boot, but not able to hit the API. \r\n\r\n\r\nI tried the following :\r\n\r\n        @GetMapping(path = &quot;/getDriverListForDropDown&quot;)\r\n        public ResponseEntity&lt;RestApiResponse&lt;List&lt;DriverDataForDropDown&gt;&gt;&gt; getDriverListForDropDown(\r\n            @ApiIgnore Context context, @RequestParam(value=&quot;firstName&quot;) List&lt;DriverDropdownFilterRequest&gt; firstName)\r\n\r\nDriverDropdownFilterRequest : \r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @JsonNaming(PropertyNamingStrategy.UpperCamelCaseStrategy.class)\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @Builder(toBuilder = true)\r\n    public class DriverDropdownFilterRequest\r\n    {\r\n      String field;\r\n      String operator;\r\n      String value;\r\n    }\r\n\r\nbut I always get 400 error and on backend the following error : \r\n\r\n\r\n&gt; java.lang.IllegalArgumentException: Invalid character found in the request target. The valid characters are defined in RFC 7230 and RFC 3986\r\n        at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:468) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:260) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1591) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_171]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_171]\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n\r\n\r\nI tried several options, but nothing is working. Please help.","title":"How to accept an array of object as request param in Spring Get API","body":"<p>I am using a 3rd party grid, which generates the following GET API when a character is input :</p>\n<blockquote>\n<p>http://localhost:4200/api/v1/driver/getDriverListForDropDown?firstName=[{%22field%22:%22DriverCode%22,%22operator%22:%22startsWith%22,%22value%22:%2212345%22,%22caseSensitive%22:false}]</p>\n</blockquote>\n<p>Request param generated :</p>\n<blockquote>\n<p>firstName:[{&quot;field&quot;:&quot;DriverCode&quot;,&quot;operator&quot;:&quot;startsWith&quot;,&quot;value&quot;:&quot;*&quot;,&quot;caseSensitive&quot;:false}]</p>\n</blockquote>\n<p>I am trying to create a rest API on spring boot, but not able to hit the API.</p>\n<p>I tried the following :</p>\n<pre><code>    @GetMapping(path = &quot;/getDriverListForDropDown&quot;)\n    public ResponseEntity&lt;RestApiResponse&lt;List&lt;DriverDataForDropDown&gt;&gt;&gt; getDriverListForDropDown(\n        @ApiIgnore Context context, @RequestParam(value=&quot;firstName&quot;) List&lt;DriverDropdownFilterRequest&gt; firstName)\n</code></pre>\n<p>DriverDropdownFilterRequest :</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@JsonNaming(PropertyNamingStrategy.UpperCamelCaseStrategy.class)\n@JsonIgnoreProperties(ignoreUnknown = true)\n@Builder(toBuilder = true)\npublic class DriverDropdownFilterRequest\n{\n  String field;\n  String operator;\n  String value;\n}\n</code></pre>\n<p>but I always get 400 error and on backend the following error :</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Invalid character found in the request target. The valid characters are defined in RFC 7230 and RFC 3986\nat org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:468) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:260) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.29.jar:9.0.29]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860) [tomcat-embed-core-9.0.29.jar:9.0.29]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1591) [tomcat-embed-core-9.0.29.jar:9.0.29]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.29.jar:9.0.29]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_171]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_171]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.29.jar:9.0.29]</p>\n</blockquote>\n<p>I tried several options, but nothing is working. Please help.</p>\n"},{"tags":["java","try-catch-finally"],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":1,"up_vote_count":30,"is_accepted":true,"score":29,"last_activity_date":1327375416,"creation_date":1327375020,"answer_id":8981602,"question_id":8981589,"body_markdown":"The variable `fr` only has scope within the `try` block. It is out of scope in the finally block. You need to declare it *before* the `try` block:\r\n\r\n    FileReader fr = null;\r\n    try {\r\n        fr = new FileReader(file);\r\n        BufferedReader br = new BufferedReader(fr);\r\n        String line = null;\r\n    } catch (FileNotFoundException e) {\r\n        e.printStackTrace();\r\n    } finally {\r\n        if (fr != null) {\r\n            try {\r\n                fr.close();\r\n            } catch (IOException e) {\r\n                // This is unrecoverable. Just report it and move on\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nThis is quite a common pattern of code, so it&#39;s good to remember it for future similar situations.\r\n\r\nConsider throwing `IOException` from this method - printing track traces isn&#39;t very helpful to callers, *and* you wouldn&#39;t need the nested try catch around `fr.close()`","title":"Close file in finally block doesn&#39;t work","body":"<p>The variable <code>fr</code> only has scope within the <code>try</code> block. It is out of scope in the finally block. You need to declare it <em>before</em> the <code>try</code> block:</p>\n\n<pre><code>FileReader fr = null;\ntry {\n    fr = new FileReader(file);\n    BufferedReader br = new BufferedReader(fr);\n    String line = null;\n} catch (FileNotFoundException e) {\n    e.printStackTrace();\n} finally {\n    if (fr != null) {\n        try {\n            fr.close();\n        } catch (IOException e) {\n            // This is unrecoverable. Just report it and move on\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>This is quite a common pattern of code, so it's good to remember it for future similar situations.</p>\n\n<p>Consider throwing <code>IOException</code> from this method - printing track traces isn't very helpful to callers, <em>and</em> you wouldn't need the nested try catch around <code>fr.close()</code></p>\n"},{"tags":[],"owner":{"account_id":1108799,"reputation":10647,"user_id":1099643,"accept_rate":80,"display_name":"Kushan"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1327375265,"creation_date":1327375265,"answer_id":8981619,"question_id":8981589,"body_markdown":"Now finally block is not needed,\r\n\r\n    try (FileReader fr = new FileReader(file);\r\n        BufferedReader br = new BufferedReader(fr);){\r\n        \r\n        String line = null;\r\n\r\n        }\r\n\r\n    } catch(FileNotFoundException fnf) {\r\n        fnf.printStackTrace();\r\n    } \r\n\r\nnow automatically close your readers\r\n","title":"Close file in finally block doesn&#39;t work","body":"<p>Now finally block is not needed,</p>\n\n<pre><code>try (FileReader fr = new FileReader(file);\n    BufferedReader br = new BufferedReader(fr);){\n\n    String line = null;\n\n    }\n\n} catch(FileNotFoundException fnf) {\n    fnf.printStackTrace();\n} \n</code></pre>\n\n<p>now automatically close your readers</p>\n"},{"tags":[],"owner":{"account_id":290947,"reputation":5380,"user_id":592795,"accept_rate":88,"display_name":"marimaf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1327375623,"creation_date":1327375623,"answer_id":8981660,"question_id":8981589,"body_markdown":"You have a problem with your scopes. If you really want to use that syntax you should fix it like this:\r\n\r\n    FileReader fr = null;\r\n    try {\r\n        fr = new FileReader(file);\r\n        BufferedReader br = new BufferedReader(fr);\r\n        String line = null;\r\n    } catch (FileNotFoundException fnf) {\r\n        fnf.printStackTrace();\r\n    } finally {\r\n        if( fr != null)\r\n           fr.close();\r\n    }\r\n\r\nthat way, fr will exist in the finally&#39;s block scope.","title":"Close file in finally block doesn&#39;t work","body":"<p>You have a problem with your scopes. If you really want to use that syntax you should fix it like this:</p>\n\n<pre><code>FileReader fr = null;\ntry {\n    fr = new FileReader(file);\n    BufferedReader br = new BufferedReader(fr);\n    String line = null;\n} catch (FileNotFoundException fnf) {\n    fnf.printStackTrace();\n} finally {\n    if( fr != null)\n       fr.close();\n}\n</code></pre>\n\n<p>that way, fr will exist in the finally's block scope.</p>\n"},{"tags":[],"owner":{"account_id":24016533,"reputation":1,"user_id":17999420,"display_name":"Isuri Mendis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642826174,"creation_date":1642826174,"answer_id":70810026,"question_id":8981589,"body_markdown":"    public static void main(String[] args) throws IOException{\r\n            FileReader file1 = null;\r\n            try{\r\n                file1 = new FileReader(&quot;blaaa.txt&quot;);//this file does not exist\r\n            }\r\n            catch (FileNotFoundException e){}\r\n            catch (IOException e)  {e.printStackTrace();}\r\n            finally {\r\n                try{file1.close();}\r\n                catch (NullPointerException e){\r\n                }\r\n                finally {\r\n                    System.out.println(&quot;Thank you, please try again&quot;);\r\n                }\r\n            }\r\n        }","title":"Close file in finally block doesn&#39;t work","body":"<pre><code>public static void main(String[] args) throws IOException{\n        FileReader file1 = null;\n        try{\n            file1 = new FileReader(&quot;blaaa.txt&quot;);//this file does not exist\n        }\n        catch (FileNotFoundException e){}\n        catch (IOException e)  {e.printStackTrace();}\n        finally {\n            try{file1.close();}\n            catch (NullPointerException e){\n            }\n            finally {\n                System.out.println(&quot;Thank you, please try again&quot;);\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":1015001,"reputation":7764,"user_id":1026764,"accept_rate":72,"display_name":"noMAD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26301,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":8981602,"answer_count":4,"score":16,"last_activity_date":1642826174,"creation_date":1327374917,"question_id":8981589,"body_markdown":"    try {\r\n        FileReader fr = new FileReader(file);\r\n        BufferedReader br = new BufferedReader(fr);\r\n        String line = null;\r\n    } catch (FileNotFoundException fnf) {\r\n        fnf.printStackTrace();\r\n    } finally {\r\n        fr.close();\r\n    }\r\n\r\nThe `fr.close()` shows an error:\r\n\r\n&gt; fr cannot be resolved\r\n\r\nI had read that closing a file in the finally block is a good practice.  \r\nWhat is that am doing wrong?","title":"Close file in finally block doesn&#39;t work","body":"<pre><code>try {\n    FileReader fr = new FileReader(file);\n    BufferedReader br = new BufferedReader(fr);\n    String line = null;\n} catch (FileNotFoundException fnf) {\n    fnf.printStackTrace();\n} finally {\n    fr.close();\n}\n</code></pre>\n\n<p>The <code>fr.close()</code> shows an error:</p>\n\n<blockquote>\n  <p>fr cannot be resolved</p>\n</blockquote>\n\n<p>I had read that closing a file in the finally block is a good practice.<br>\nWhat is that am doing wrong?</p>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":535988,"reputation":6361,"user_id":1225432,"accept_rate":90,"display_name":"chinna_82"},"down_vote_count":4,"up_vote_count":215,"is_accepted":true,"score":211,"last_activity_date":1466665006,"creation_date":1376278236,"answer_id":18179176,"question_id":18179124,"body_markdown":"Tested and working. Check [this][1]\r\n\r\n    import android.app.Activity;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.view.View.OnClickListener;\r\n    import android.widget.Button;\r\n    import android.widget.RadioButton;\r\n    import android.widget.RadioGroup;\r\n    import android.widget.Toast;\r\n     \r\n    public class MyAndroidAppActivity extends Activity {\r\n     \r\n      private RadioGroup radioGroup;\r\n      private RadioButton radioButton;\r\n      private Button btnDisplay;\r\n     \r\n      @Override\r\n      public void onCreate(Bundle savedInstanceState) {\r\n    \tsuper.onCreate(savedInstanceState);\r\n    \tsetContentView(R.layout.main);\r\n     \r\n    \taddListenerOnButton();\r\n     \r\n      }\r\n     \r\n      public void addListenerOnButton() {\r\n     \r\n    \tradioGroup = (RadioGroup) findViewById(R.id.radio);\r\n    \tbtnDisplay = (Button) findViewById(R.id.btnDisplay);\r\n     \r\n    \tbtnDisplay.setOnClickListener(new OnClickListener() {\r\n     \r\n    \t\t@Override\r\n    \t\tpublic void onClick(View v) {\r\n     \r\n    \t\t        // get selected radio button from radioGroup\r\n    \t\t\tint selectedId = radioGroup.getCheckedRadioButtonId();\r\n     \r\n    \t\t\t// find the radiobutton by returned id\r\n    \t\t    radioButton = (RadioButton) findViewById(selectedId);\r\n     \r\n    \t\t\tToast.makeText(MyAndroidAppActivity.this,\r\n    \t\t\t\tradioButton.getText(), Toast.LENGTH_SHORT).show();\r\n     \r\n    \t\t}\r\n     \r\n    \t});\r\n     \r\n      }\r\n    }\r\n\r\nxml\r\n\r\n    &lt;RadioGroup\r\n            android:id=&quot;@+id/radio&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot; &gt;\r\n     \r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/radioMale&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;@string/radio_male&quot; \r\n                android:checked=&quot;true&quot; /&gt;\r\n     \r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/radioFemale&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;@string/radio_female&quot; /&gt;\r\n     \r\n        &lt;/RadioGroup&gt;\r\n\r\n\r\n  [1]: http://www.mkyong.com/android/android-radio-buttons-example/","title":"Android getting value from selected radiobutton","body":"<p>Tested and working. Check <a href=\"http://www.mkyong.com/android/android-radio-buttons-example/\" rel=\"noreferrer\">this</a></p>\n\n<pre><code>import android.app.Activity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.view.View.OnClickListener;\nimport android.widget.Button;\nimport android.widget.RadioButton;\nimport android.widget.RadioGroup;\nimport android.widget.Toast;\n\npublic class MyAndroidAppActivity extends Activity {\n\n  private RadioGroup radioGroup;\n  private RadioButton radioButton;\n  private Button btnDisplay;\n\n  @Override\n  public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.main);\n\n    addListenerOnButton();\n\n  }\n\n  public void addListenerOnButton() {\n\n    radioGroup = (RadioGroup) findViewById(R.id.radio);\n    btnDisplay = (Button) findViewById(R.id.btnDisplay);\n\n    btnDisplay.setOnClickListener(new OnClickListener() {\n\n        @Override\n        public void onClick(View v) {\n\n                // get selected radio button from radioGroup\n            int selectedId = radioGroup.getCheckedRadioButtonId();\n\n            // find the radiobutton by returned id\n            radioButton = (RadioButton) findViewById(selectedId);\n\n            Toast.makeText(MyAndroidAppActivity.this,\n                radioButton.getText(), Toast.LENGTH_SHORT).show();\n\n        }\n\n    });\n\n  }\n}\n</code></pre>\n\n<p>xml</p>\n\n<pre><code>&lt;RadioGroup\n        android:id=\"@+id/radio\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\" &gt;\n\n        &lt;RadioButton\n            android:id=\"@+id/radioMale\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"@string/radio_male\" \n            android:checked=\"true\" /&gt;\n\n        &lt;RadioButton\n            android:id=\"@+id/radioFemale\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"@string/radio_female\" /&gt;\n\n    &lt;/RadioGroup&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":729593,"reputation":2355,"user_id":674373,"accept_rate":57,"display_name":"Kaps"},"down_vote_count":0,"up_vote_count":107,"is_accepted":false,"score":107,"last_activity_date":1546384790,"creation_date":1390105302,"answer_id":21213176,"question_id":18179124,"body_markdown":"In case, if you want to do some job on the selection of one of the radio buttons (without having any additional OK button or something), your code is fine, updated little.\r\n\r\n    public class MainActivity extends Activity {\r\n\r\n\t\t@Override\r\n\t\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\t\tsuper.onCreate(savedInstanceState);\r\n\t\t\tsetContentView(R.layout.activity_main);\r\n\r\n\t\t\tRadioGroup rg = (RadioGroup) findViewById(R.id.radioGroup1);\r\n\t\t\t\r\n\t\t\trg.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() \r\n\t\t\t{\r\n\t\t\t\tpublic void onCheckedChanged(RadioGroup group, int checkedId) {\r\n\t\t\t\t\tswitch(checkedId){\r\n\t\t\t\t\t\tcase R.id.radio0:\r\n\t\t\t\t\t\t\t// do operations specific to this selection\r\n\t\t\t\t\t\t    break;\r\n\t\t\t\t\t\tcase R.id.radio1:\r\n\t\t\t\t\t\t\t// do operations specific to this selection\r\n\t\t\t\t\t\t    break;\r\n\t\t\t\t\t\tcase R.id.radio2:\r\n\t\t\t\t\t\t\t// do operations specific to this selection\r\n\t\t\t\t\t\t    break;\r\n\t\t\t\t\t}\t\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n    }\r\n","title":"Android getting value from selected radiobutton","body":"<p>In case, if you want to do some job on the selection of one of the radio buttons (without having any additional OK button or something), your code is fine, updated little.</p>\n\n<pre><code>public class MainActivity extends Activity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        RadioGroup rg = (RadioGroup) findViewById(R.id.radioGroup1);\n\n        rg.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() \n        {\n            public void onCheckedChanged(RadioGroup group, int checkedId) {\n                switch(checkedId){\n                    case R.id.radio0:\n                        // do operations specific to this selection\n                        break;\n                    case R.id.radio1:\n                        // do operations specific to this selection\n                        break;\n                    case R.id.radio2:\n                        // do operations specific to this selection\n                        break;\n                }   \n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7037882,"reputation":875,"user_id":5391261,"accept_rate":75,"display_name":"A. Vin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1453847186,"creation_date":1450372213,"answer_id":34340397,"question_id":18179124,"body_markdown":"I have had problems getting radio buttons id&#39;s as well when the RadioButtons are dynamically generated.  It does not seem to work if you try to manually set the ID&#39;s using `RadioButton.setId()`.  What worked for me was to use `View.getChildAt()` and `View.getParent()` in order to iterate through the radio buttons and determine which one was checked.  All you need is to first get the RadioGroup via `findViewById(R.id.myRadioGroup)` and then iterate through it&#39;s children.  You&#39;ll know as you iterate through which button you are on, and you can simply use `RadioButton.isChecked()` to determine if that is the button that was checked.\r\n","title":"Android getting value from selected radiobutton","body":"<p>I have had problems getting radio buttons id's as well when the RadioButtons are dynamically generated.  It does not seem to work if you try to manually set the ID's using <code>RadioButton.setId()</code>.  What worked for me was to use <code>View.getChildAt()</code> and <code>View.getParent()</code> in order to iterate through the radio buttons and determine which one was checked.  All you need is to first get the RadioGroup via <code>findViewById(R.id.myRadioGroup)</code> and then iterate through it's children.  You'll know as you iterate through which button you are on, and you can simply use <code>RadioButton.isChecked()</code> to determine if that is the button that was checked.</p>\n"},{"tags":[],"owner":{"account_id":3919794,"reputation":71,"user_id":3242495,"display_name":"pailodze"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1615790632,"creation_date":1452696121,"answer_id":34769492,"question_id":18179124,"body_markdown":"just use `getCheckedRadioButtonId()` function to determine wether if anything is checked, if `-1` is the `return` value, you can avoid showing toast","title":"Android getting value from selected radiobutton","body":"<p>just use <code>getCheckedRadioButtonId()</code> function to determine wether if anything is checked, if <code>-1</code> is the <code>return</code> value, you can avoid showing toast</p>\n"},{"tags":[],"owner":{"account_id":8486751,"reputation":181,"user_id":6364592,"display_name":"Turuu"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1463832820,"creation_date":1463832820,"answer_id":37362772,"question_id":18179124,"body_markdown":"    radioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n           @Override\r\n           public void onCheckedChanged(RadioGroup group, int checkedId)\r\n           {\r\n               radioButton = (RadioButton) findViewById(checkedId);\r\n               Toast.makeText(getBaseContext(), radioButton.getText(), Toast.LENGTH_SHORT).show();\r\n           }\r\n       }\r\n       );","title":"Android getting value from selected radiobutton","body":"<pre><code>radioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\n       @Override\n       public void onCheckedChanged(RadioGroup group, int checkedId)\n       {\n           radioButton = (RadioButton) findViewById(checkedId);\n           Toast.makeText(getBaseContext(), radioButton.getText(), Toast.LENGTH_SHORT).show();\n       }\n   }\n   );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":468965,"reputation":4244,"user_id":875249,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1487282853,"creation_date":1487282853,"answer_id":42285603,"question_id":18179124,"body_markdown":"For anyone who is populating programmatically and looking to get an index, you might notice that the checkedId changes as you return to the activity/fragment and you re-add those radio buttons.  One way to get around that is to set a tag with the index:\r\n\r\n        for(int i = 0; i &lt; myNames.length; i++) {\r\n            rB = new RadioButton(getContext());\r\n            rB.setText(myNames[i]);\r\n            rB.setTag(i);\r\n            myRadioGroup.addView(rB,i);\r\n        }\r\n\r\nThen in your listener:\r\n\r\n        myRadioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(RadioGroup group, int checkedId) {\r\n                RadioButton radioButton = (RadioButton) group.findViewById(checkedId);\r\n                int mySelectedIndex = (int) radioButton.getTag();\r\n            }\r\n        });\r\n\r\n","title":"Android getting value from selected radiobutton","body":"<p>For anyone who is populating programmatically and looking to get an index, you might notice that the checkedId changes as you return to the activity/fragment and you re-add those radio buttons.  One way to get around that is to set a tag with the index:</p>\n\n<pre><code>    for(int i = 0; i &lt; myNames.length; i++) {\n        rB = new RadioButton(getContext());\n        rB.setText(myNames[i]);\n        rB.setTag(i);\n        myRadioGroup.addView(rB,i);\n    }\n</code></pre>\n\n<p>Then in your listener:</p>\n\n<pre><code>    myRadioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\n        @Override\n        public void onCheckedChanged(RadioGroup group, int checkedId) {\n            RadioButton radioButton = (RadioButton) group.findViewById(checkedId);\n            int mySelectedIndex = (int) radioButton.getTag();\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7649286,"reputation":131,"user_id":5798710,"display_name":"Gowtham"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1492543161,"creation_date":1492542976,"answer_id":43480465,"question_id":18179124,"body_markdown":"    int genid=gender.getCheckedRadioButtonId();\r\n    RadioButton radioButton = (RadioButton) findViewById(genid);\r\n    String gender=radioButton.getText().toString();\r\n\r\nHope this works. You can convert your output to string in the above manner.\r\n`gender.getCheckedRadioButtonId();` - gender is the id of RadioGroup.","title":"Android getting value from selected radiobutton","body":"<pre><code>int genid=gender.getCheckedRadioButtonId();\nRadioButton radioButton = (RadioButton) findViewById(genid);\nString gender=radioButton.getText().toString();\n</code></pre>\n\n<p>Hope this works. You can convert your output to string in the above manner.\n<code>gender.getCheckedRadioButtonId();</code> - gender is the id of RadioGroup.</p>\n"},{"tags":[],"owner":{"account_id":7445716,"reputation":21,"user_id":5661947,"display_name":"Jonathan Eduardo Tito Ontaneda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1495572230,"creation_date":1494208850,"answer_id":43838702,"question_id":18179124,"body_markdown":"Thanks a lot to Chris.\r\n\r\nThis is my solution:\r\n\r\n    RadioGroup radgroup_opcionesEventos = null;\r\n   \r\n\r\n     private static String[] arrayEventos = {\r\n                &quot;Congesti&#243;n&quot;, &quot;Derrumbe&quot;, &quot;Accidente&quot;\r\n        };\r\n    @Override\r\n        protected void onCreate(Bundle savedInstanceState)\r\n        {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_maps);\r\n            radgroup_opcionesEventos = (RadioGroup)findViewById(R.id.rg_opciones_evento);\r\n            int i=0;//a.new.ln\r\n            for(String evento : arrayEventos) {\r\n                //RadioButton nuevoRadio = crearRadioButton(evento);//a.old.ln\r\n                RadioButton nuevoRadio = crearRadioButton(evento,i);//a.new.ln\r\n                radgroup_opcionesEventos.addView(nuevoRadio,i);\r\n            }\r\n    \r\n            RadioButton primerRadio = (RadioButton) radgroup_opcionesEventos.getChildAt(0);\r\n            primerRadio.setChecked(true);\r\n    }\r\n\r\n    private RadioButton crearRadioButton(String evento, int n)\r\n        {\r\n            //RadioButton nuevoRadio = new RadioButton(this);//a.old.ln\r\n            RadioButton nuevoRadio = new RadioButton(getApplicationContext());//a.new.ln\r\n    \r\n            LinearLayout.LayoutParams params = new RadioGroup.LayoutParams(\r\n                    RadioGroup.LayoutParams.WRAP_CONTENT,\r\n                    RadioGroup.LayoutParams.WRAP_CONTENT);\r\n            nuevoRadio.setLayoutParams(params);\r\n            nuevoRadio.setText(evento);\r\n            nuevoRadio.setTag(evento);\r\n            return nuevoRadio;\r\n        }\r\n \r\n\r\n    @Override\r\n        protected void onResume()\r\n        {\r\n            radgroup_opcionesEventos.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n                @Override\r\n                public void onCheckedChanged(RadioGroup group, int checkedId) {\r\n                    RadioButton radioButton = (RadioButton) group.findViewById(checkedId);\r\n                    //int mySelectedIndex = (int) radioButton.getTag();\r\n                    String mySelectedIndex = radioButton.getTag().toString();\r\n                }\r\n            });\r\n            super.onResume();\r\n        }","title":"Android getting value from selected radiobutton","body":"<p>Thanks a lot to Chris.</p>\n\n<p>This is my solution:</p>\n\n<pre><code>RadioGroup radgroup_opcionesEventos = null;\n\n\n private static String[] arrayEventos = {\n            \"Congestión\", \"Derrumbe\", \"Accidente\"\n    };\n@Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_maps);\n        radgroup_opcionesEventos = (RadioGroup)findViewById(R.id.rg_opciones_evento);\n        int i=0;//a.new.ln\n        for(String evento : arrayEventos) {\n            //RadioButton nuevoRadio = crearRadioButton(evento);//a.old.ln\n            RadioButton nuevoRadio = crearRadioButton(evento,i);//a.new.ln\n            radgroup_opcionesEventos.addView(nuevoRadio,i);\n        }\n\n        RadioButton primerRadio = (RadioButton) radgroup_opcionesEventos.getChildAt(0);\n        primerRadio.setChecked(true);\n}\n\nprivate RadioButton crearRadioButton(String evento, int n)\n    {\n        //RadioButton nuevoRadio = new RadioButton(this);//a.old.ln\n        RadioButton nuevoRadio = new RadioButton(getApplicationContext());//a.new.ln\n\n        LinearLayout.LayoutParams params = new RadioGroup.LayoutParams(\n                RadioGroup.LayoutParams.WRAP_CONTENT,\n                RadioGroup.LayoutParams.WRAP_CONTENT);\n        nuevoRadio.setLayoutParams(params);\n        nuevoRadio.setText(evento);\n        nuevoRadio.setTag(evento);\n        return nuevoRadio;\n    }\n\n\n@Override\n    protected void onResume()\n    {\n        radgroup_opcionesEventos.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(RadioGroup group, int checkedId) {\n                RadioButton radioButton = (RadioButton) group.findViewById(checkedId);\n                //int mySelectedIndex = (int) radioButton.getTag();\n                String mySelectedIndex = radioButton.getTag().toString();\n            }\n        });\n        super.onResume();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6762145,"reputation":14229,"user_id":5208491,"display_name":"saigopi.me"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1500353370,"creation_date":1500353370,"answer_id":45157712,"question_id":18179124,"body_markdown":"    Radiogroup rgteam;\r\n    String team;\r\n    rgteam.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(RadioGroup group, @IdRes int checkedId) {\r\n                RadioButton rb= (RadioButton) findViewById(checkedId);\r\n                team = rb.getText().toString();\r\n            }\r\n        });","title":"Android getting value from selected radiobutton","body":"<pre><code>Radiogroup rgteam;\nString team;\nrgteam.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\n        @Override\n        public void onCheckedChanged(RadioGroup group, @IdRes int checkedId) {\n            RadioButton rb= (RadioButton) findViewById(checkedId);\n            team = rb.getText().toString();\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":417643,"reputation":8078,"user_id":793752,"accept_rate":42,"display_name":"Ashish Dwivedi"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1509085040,"creation_date":1509085040,"answer_id":46968614,"question_id":18179124,"body_markdown":"\r\n\r\n    mRadioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n        @Override\r\n        public void onCheckedChanged(RadioGroup group, @IdRes int checkedId) {\r\n            RadioButton radioButton = (RadioButton)group.findViewById(checkedId);\r\n        }\r\n    });","title":"Android getting value from selected radiobutton","body":"<pre><code>mRadioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\n    @Override\n    public void onCheckedChanged(RadioGroup group, @IdRes int checkedId) {\n        RadioButton radioButton = (RadioButton)group.findViewById(checkedId);\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10274331,"reputation":354,"user_id":7581757,"display_name":"Mr_Moradi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1525247642,"creation_date":1525247642,"answer_id":50129623,"question_id":18179124,"body_markdown":"  \r\n\r\nRadioGroup in XML\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot;&gt;\r\n    &lt;RadioGroup\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n        &lt;RadioButton\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Java&quot;/&gt;\r\n    \r\n        &lt;/RadioGroup&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\n**activity_main.xml**\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot;&gt;\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;150dp&quot;\r\n            android:layout_marginLeft=&quot;100dp&quot;\r\n            android:textSize=&quot;18dp&quot;\r\n            android:text=&quot;Select Your Course&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:id=&quot;@+id/txtView&quot;/&gt;\r\n    &lt;RadioGroup\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:id=&quot;@+id/rdGroup&quot;\r\n        android:layout_below=&quot;@+id/txtView&quot;&gt;\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/rdbJava&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;10dp&quot;\r\n            android:layout_marginLeft=&quot;100dp&quot;\r\n            android:text=&quot;Java&quot;\r\n            android:onClick=&quot;onRadioButtonClicked&quot;/&gt;\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/rdbPython&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;10dp&quot;\r\n            android:layout_marginLeft=&quot;100dp&quot;\r\n            android:text=&quot;Python&quot;\r\n            android:onClick=&quot;onRadioButtonClicked&quot;/&gt;\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/rdbAndroid&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;10dp&quot;\r\n            android:layout_marginLeft=&quot;100dp&quot;\r\n            android:text=&quot;Android&quot;\r\n            android:onClick=&quot;onRadioButtonClicked&quot;/&gt;\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/rdbAngular&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;10dp&quot;\r\n            android:layout_marginLeft=&quot;100dp&quot;\r\n            android:text=&quot;AngularJS&quot;\r\n            android:onClick=&quot;onRadioButtonClicked&quot;/&gt;\r\n    &lt;/RadioGroup&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/getBtn&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginLeft=&quot;100dp&quot;\r\n            android:layout_below=&quot;@+id/rdGroup&quot;\r\n            android:text=&quot;Get Course&quot; /&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\n**MainActivity.java**\r\n\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.RadioButton;\r\n    import android.widget.Toast;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        RadioButton android, java, angular, python;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            android = (RadioButton)findViewById(R.id.rdbAndroid);\r\n            angular = (RadioButton)findViewById(R.id.rdbAngular);\r\n            java = (RadioButton)findViewById(R.id.rdbJava);\r\n            python = (RadioButton)findViewById(R.id.rdbPython);\r\n            Button btn = (Button)findViewById(R.id.getBtn);\r\n            btn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    String result = &quot;Selected Course: &quot;;\r\n                    result+= (android.isChecked())?&quot;Android&quot;:(angular.isChecked())?&quot;AngularJS&quot;:(java.isChecked())?&quot;Java&quot;:(python.isChecked())?&quot;Python&quot;:&quot;&quot;;\r\n                    Toast.makeText(getApplicationContext(), result, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }\r\n        public void onRadioButtonClicked(View view) {\r\n            boolean checked = ((RadioButton) view).isChecked();\r\n            String str=&quot;&quot;;\r\n            // Check which radio button was clicked\r\n            switch(view.getId()) {\r\n                case R.id.rdbAndroid:\r\n                    if(checked)\r\n                    str = &quot;Android Selected&quot;;\r\n                    break;\r\n                case R.id.rdbAngular:\r\n                    if(checked)\r\n                    str = &quot;AngularJS Selected&quot;;\r\n                    break;\r\n                case R.id.rdbJava:\r\n                    if(checked)\r\n                    str = &quot;Java Selected&quot;;\r\n                    break;\r\n                case R.id.rdbPython:\r\n                    if(checked)\r\n                    str = &quot;Python Selected&quot;;\r\n                    break;\r\n            }\r\n            Toast.makeText(getApplicationContext(), str, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }","title":"Android getting value from selected radiobutton","body":"<p>RadioGroup in XML</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\" android:layout_height=\"match_parent\"&gt;\n&lt;RadioGroup\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"vertical\"&gt;\n    &lt;RadioButton\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Java\"/&gt;\n\n    &lt;/RadioGroup&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p><strong>activity_main.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\" android:layout_height=\"match_parent\"&gt;\n    &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"150dp\"\n        android:layout_marginLeft=\"100dp\"\n        android:textSize=\"18dp\"\n        android:text=\"Select Your Course\"\n        android:textStyle=\"bold\"\n        android:id=\"@+id/txtView\"/&gt;\n&lt;RadioGroup\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"vertical\"\n    android:id=\"@+id/rdGroup\"\n    android:layout_below=\"@+id/txtView\"&gt;\n    &lt;RadioButton\n        android:id=\"@+id/rdbJava\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:padding=\"10dp\"\n        android:layout_marginLeft=\"100dp\"\n        android:text=\"Java\"\n        android:onClick=\"onRadioButtonClicked\"/&gt;\n    &lt;RadioButton\n        android:id=\"@+id/rdbPython\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:padding=\"10dp\"\n        android:layout_marginLeft=\"100dp\"\n        android:text=\"Python\"\n        android:onClick=\"onRadioButtonClicked\"/&gt;\n    &lt;RadioButton\n        android:id=\"@+id/rdbAndroid\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:padding=\"10dp\"\n        android:layout_marginLeft=\"100dp\"\n        android:text=\"Android\"\n        android:onClick=\"onRadioButtonClicked\"/&gt;\n    &lt;RadioButton\n        android:id=\"@+id/rdbAngular\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:padding=\"10dp\"\n        android:layout_marginLeft=\"100dp\"\n        android:text=\"AngularJS\"\n        android:onClick=\"onRadioButtonClicked\"/&gt;\n&lt;/RadioGroup&gt;\n    &lt;Button\n        android:id=\"@+id/getBtn\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginLeft=\"100dp\"\n        android:layout_below=\"@+id/rdGroup\"\n        android:text=\"Get Course\" /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p><strong>MainActivity.java</strong></p>\n\n<pre><code>import android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.RadioButton;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n    RadioButton android, java, angular, python;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        android = (RadioButton)findViewById(R.id.rdbAndroid);\n        angular = (RadioButton)findViewById(R.id.rdbAngular);\n        java = (RadioButton)findViewById(R.id.rdbJava);\n        python = (RadioButton)findViewById(R.id.rdbPython);\n        Button btn = (Button)findViewById(R.id.getBtn);\n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                String result = \"Selected Course: \";\n                result+= (android.isChecked())?\"Android\":(angular.isChecked())?\"AngularJS\":(java.isChecked())?\"Java\":(python.isChecked())?\"Python\":\"\";\n                Toast.makeText(getApplicationContext(), result, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n    public void onRadioButtonClicked(View view) {\n        boolean checked = ((RadioButton) view).isChecked();\n        String str=\"\";\n        // Check which radio button was clicked\n        switch(view.getId()) {\n            case R.id.rdbAndroid:\n                if(checked)\n                str = \"Android Selected\";\n                break;\n            case R.id.rdbAngular:\n                if(checked)\n                str = \"AngularJS Selected\";\n                break;\n            case R.id.rdbJava:\n                if(checked)\n                str = \"Java Selected\";\n                break;\n            case R.id.rdbPython:\n                if(checked)\n                str = \"Python Selected\";\n                break;\n        }\n        Toast.makeText(getApplicationContext(), str, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3162420,"reputation":1685,"user_id":2673161,"accept_rate":64,"display_name":"user2673161"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414392,"favorite_count":0,"down_vote_count":0,"up_vote_count":136,"accepted_answer_id":18179176,"answer_count":11,"score":136,"last_activity_date":1642825981,"creation_date":1376277681,"question_id":18179124,"body_markdown":"I have a piece of code with three `RadioButton`s within a `RadioGroup`. I want to set an `onCheckedListener` that will show the value of the `RadioButton` in a `Toast`. However what I have gotten so far is not working. How do I get the value of the `RadioButton` and display it in a `Toast`? This is my code:\r\n\r\n    import android.os.Bundle;\r\n    import android.app.Activity;\r\n    import android.view.Menu;\r\n    import android.view.View;\r\n    import android.widget.RadioButton;\r\n    import android.widget.RadioGroup;\r\n    import android.widget.RadioGroup.OnCheckedChangeListener;\r\n    import android.widget.Toast;\r\n\r\n    public class MainActivity extends Activity {\r\n\r\n        RadioGroup rg;\r\n\r\n\t    @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n\t\r\n            RadioGroup rg = (RadioGroup) findViewById(R.id.radioGroup1);\r\n            final String value =\r\n                ((RadioButton)findViewById(rg.getCheckedRadioButtonId()))\r\n                .getText().toString();\r\n\t\r\n            rg.setOnCheckedChangeListener(new OnCheckedChangeListener() {\r\n                public void onCheckedChanged(RadioGroup group, int checkedId) {\r\n            \t    Toast.makeText(getBaseContext(), value, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nXML file:\r\n\r\n    &lt;RelativeLayout \r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n        android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\r\n        android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\r\n        android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\r\n        tools:context=&quot;.MainActivity&quot; &gt;\r\n\r\n        &lt;RadioGroup\r\n            android:id=&quot;@+id/radioGroup1&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_marginTop=&quot;152dp&quot; &gt;\r\n\r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/radio0&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Choose 1&quot; /&gt;\r\n\r\n             &lt;RadioButton\r\n                android:id=&quot;@+id/radio1&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Choose 2&quot; /&gt;\r\n\r\n             &lt;RadioButton\r\n                android:id=&quot;@+id/radio2&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Choose 3&quot; /&gt;\r\n         &lt;/RadioGroup&gt;\r\n     &lt;/RelativeLayout&gt;","title":"Android getting value from selected radiobutton","body":"<p>I have a piece of code with three <code>RadioButton</code>s within a <code>RadioGroup</code>. I want to set an <code>onCheckedListener</code> that will show the value of the <code>RadioButton</code> in a <code>Toast</code>. However what I have gotten so far is not working. How do I get the value of the <code>RadioButton</code> and display it in a <code>Toast</code>? This is my code:</p>\n\n<pre><code>import android.os.Bundle;\nimport android.app.Activity;\nimport android.view.Menu;\nimport android.view.View;\nimport android.widget.RadioButton;\nimport android.widget.RadioGroup;\nimport android.widget.RadioGroup.OnCheckedChangeListener;\nimport android.widget.Toast;\n\npublic class MainActivity extends Activity {\n\n    RadioGroup rg;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        RadioGroup rg = (RadioGroup) findViewById(R.id.radioGroup1);\n        final String value =\n            ((RadioButton)findViewById(rg.getCheckedRadioButtonId()))\n            .getText().toString();\n\n        rg.setOnCheckedChangeListener(new OnCheckedChangeListener() {\n            public void onCheckedChanged(RadioGroup group, int checkedId) {\n                Toast.makeText(getBaseContext(), value, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>XML file:</p>\n\n<pre><code>&lt;RelativeLayout \n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:paddingBottom=\"@dimen/activity_vertical_margin\"\n    android:paddingLeft=\"@dimen/activity_horizontal_margin\"\n    android:paddingRight=\"@dimen/activity_horizontal_margin\"\n    android:paddingTop=\"@dimen/activity_vertical_margin\"\n    tools:context=\".MainActivity\" &gt;\n\n    &lt;RadioGroup\n        android:id=\"@+id/radioGroup1\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_marginTop=\"152dp\" &gt;\n\n        &lt;RadioButton\n            android:id=\"@+id/radio0\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Choose 1\" /&gt;\n\n         &lt;RadioButton\n            android:id=\"@+id/radio1\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Choose 2\" /&gt;\n\n         &lt;RadioButton\n            android:id=\"@+id/radio2\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Choose 3\" /&gt;\n     &lt;/RadioGroup&gt;\n &lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1642771361,"post_id":70801943,"comment_id":125167025,"body_markdown":"Exception messages generally tell you what was wrong, and the stack trace shows you where it went wrong. I don&#39;t know what a &#39;toast&#39; is, but those are the things you need in order to debug your problem.","body":"Exception messages generally tell you what was wrong, and the stack trace shows you where it went wrong. I don&#39;t know what a &#39;toast&#39; is, but those are the things you need in order to debug your problem."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1642773220,"post_id":70801943,"comment_id":125167824,"body_markdown":"`Toast.makeText(MainActivity.this, &quot;Couldn&#39;t Save. Exception: &quot; + e.getMessage(), Toast.LENGTH_LONG).show();` ALso post the LogCat lines of the printed stack trace.","body":"<code>Toast.makeText(MainActivity.this, &quot;Couldn&#39;t Save. Exception: &quot; + e.getMessage(), Toast.LENGTH_LONG).show();</code> ALso post the LogCat lines of the printed stack trace."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1642773281,"post_id":70801943,"comment_id":125167852,"body_markdown":"Also start your post with telling what you want to do.","body":"Also start your post with telling what you want to do."}],"answers":[{"tags":[],"owner":{"account_id":21578154,"reputation":121,"user_id":15909886,"display_name":"Akash Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642775270,"creation_date":1642775270,"answer_id":70802897,"question_id":70801943,"body_markdown":"## Kotlin version ##\r\n\r\n&gt; Create a function to generate file\r\n\r\n    private fun getOutputMediaFile(): File? {\r\n        return try {\r\n            val timeStamp = SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(Date())\r\n            val imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;\r\n            val storageDir: File = context.cacheDir\r\n            File.createTempFile(\r\n                    imageFileName,  /* prefix */\r\n                    &quot;.JPEG&quot;,  /* suffix */\r\n                    storageDir /* directory */\r\n            )\r\n        } catch (e: IOException) {\r\n            null\r\n        }\r\n    }\r\n\r\n&gt; Function to save file\r\n\r\n    fun saveBitmap(bitmap: Bitmap){\r\n        var fileOutputStream: FileOutputStream? = null\r\n        try {\r\n            fileOutputStream =  FileOutputStream(getOutputMediaFile())\r\n            bitmap.compress(Bitmap.CompressFormat.JPEG, 100, fileOutputStream) // save bitmap image\r\n        } catch (e: IOException) {\r\n            e.printStackTrace()\r\n        }finally {\r\n            if (fileOutputStream != null) {\r\n                try {\r\n                    fileOutputStream.close()\r\n                } catch (e: IOException) {\r\n                    e.printStackTrace()\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n## Java version ##\r\n\r\n&gt; Function to create a file\r\n\r\n    public static File createFile(Context context){\r\n        String fileName = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\r\n        File storageDir = context.getCacheDir();\r\n        File file = null;\r\n        try {\r\n             file = File.createTempFile(fileName,&quot;.JPEG&quot;, storageDir);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    return file;\r\n    }\r\n&gt; Function to save file\r\n\r\n     public static void saveBitmap(Context context, Bitmap bitmap){\r\n        FileOutputStream fileOutputStream = null;\r\n        try {\r\n            fileOutputStream = new FileOutputStream(createFile(context));\r\n            bitmap.compress(Bitmap.CompressFormat.JPEG,100,fileOutputStream);\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }finally {\r\n            if (fileOutputStream != null){\r\n                try {\r\n                    fileOutputStream.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n&gt; You need to call saveBitmap() function and pass the required data in the function.\r\n\r\n","title":"i am not able to save the image throws IOException everytime","body":"<h2>Kotlin version</h2>\n<blockquote>\n<p>Create a function to generate file</p>\n</blockquote>\n<pre><code>private fun getOutputMediaFile(): File? {\n    return try {\n        val timeStamp = SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(Date())\n        val imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;\n        val storageDir: File = context.cacheDir\n        File.createTempFile(\n                imageFileName,  /* prefix */\n                &quot;.JPEG&quot;,  /* suffix */\n                storageDir /* directory */\n        )\n    } catch (e: IOException) {\n        null\n    }\n}\n</code></pre>\n<blockquote>\n<p>Function to save file</p>\n</blockquote>\n<pre><code>fun saveBitmap(bitmap: Bitmap){\n    var fileOutputStream: FileOutputStream? = null\n    try {\n        fileOutputStream =  FileOutputStream(getOutputMediaFile())\n        bitmap.compress(Bitmap.CompressFormat.JPEG, 100, fileOutputStream) // save bitmap image\n    } catch (e: IOException) {\n        e.printStackTrace()\n    }finally {\n        if (fileOutputStream != null) {\n            try {\n                fileOutputStream.close()\n            } catch (e: IOException) {\n                e.printStackTrace()\n            }\n        }\n    }\n}\n</code></pre>\n<h2>Java version</h2>\n<blockquote>\n<p>Function to create a file</p>\n</blockquote>\n<pre><code>public static File createFile(Context context){\n    String fileName = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\n    File storageDir = context.getCacheDir();\n    File file = null;\n    try {\n         file = File.createTempFile(fileName,&quot;.JPEG&quot;, storageDir);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\nreturn file;\n}\n</code></pre>\n<blockquote>\n<p>Function to save file</p>\n</blockquote>\n<pre><code> public static void saveBitmap(Context context, Bitmap bitmap){\n    FileOutputStream fileOutputStream = null;\n    try {\n        fileOutputStream = new FileOutputStream(createFile(context));\n        bitmap.compress(Bitmap.CompressFormat.JPEG,100,fileOutputStream);\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }finally {\n        if (fileOutputStream != null){\n            try {\n                fileOutputStream.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<blockquote>\n<p>You need to call saveBitmap() function and pass the required data in the function.</p>\n</blockquote>\n"}],"owner":{"account_id":24009964,"reputation":1,"user_id":17993669,"display_name":"Ankur Rawat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642823783,"creation_date":1642771138,"question_id":70801943,"body_markdown":"File creation code\r\n```\r\n    File path = commonDocumentDirPath(&quot;Painter&quot;);\r\n```\r\n```\r\nSimpleDateFormat format = new SimpleDateFormat(&quot;ddMMyyyy_HHmmss&quot;, Locale.getDefault());\r\n        String date = format.format(new Date());\r\n        fileName = path + &quot;/&quot; + date + &quot;.png&quot;;\r\n\r\n        if (!path.exists())\r\n        {\r\n            path.mkdirs();\r\n            Toast.makeText(MainActivity.this, &quot;Saved at &quot;+ String.valueOf(path), Toast.LENGTH_LONG).show();\r\n        }\r\n```\r\nTried new file creation code\r\n```\r\npublic static File commonDocumentDirPath(String FolderName)\r\n    {\r\n        File dir = null;\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R)\r\n        {\r\n            dir = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS) + &quot;/&quot; + FolderName);\r\n        }\r\n        else\r\n        {\r\n            dir = new File(Environment.getExternalStorageDirectory() + &quot;/&quot; + FolderName);\r\n        }\r\n\r\n        // Make sure the path directory exists.\r\n        if (!dir.exists())\r\n        {\r\n            // Make it, if it doesn&#39;t exit\r\n            boolean success = dir.mkdirs();\r\n            if (!success)\r\n            {\r\n                dir = null;\r\n            }\r\n        }\r\n        return dir;\r\n    }\r\n```\r\nit always throws IOExecption because of that it catches the exception and always shows the TOAST message Couldn&#39;t Save Please help I am trying to resolve this issue for so long\r\n```imgSave.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (!signatureView.isBitmapEmpty())\r\n                {\r\n                    try {\r\n                        saveImage();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                        Toast.makeText(MainActivity.this, &quot;Couldn&#39;t Save. Exception: &quot; + e.getMessage(), Toast.LENGTH_LONG).show();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private void saveImage() throws IOException {\r\n\r\n        File file = new File(fileName);\r\n\r\n        Bitmap bitmap = signatureView.getSignatureBitmap();\r\n\r\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n        bitmap.compress(Bitmap.CompressFormat.PNG, 0, bos);\r\n        byte[] bitmapData = bos.toByteArray();\r\n\r\n        FileOutputStream fos = new FileOutputStream(file);\r\n        fos.write(bitmapData);\r\n        fos.flush();\r\n        fos.close();\r\n\r\n        Toast.makeText(MainActivity.this, &quot;Saved&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n```\r\n\r\nNow it gives me EPERM (operation not permitted error)","title":"i am not able to save the image throws IOException everytime","body":"<p>File creation code</p>\n<pre><code>    File path = commonDocumentDirPath(&quot;Painter&quot;);\n</code></pre>\n<pre><code>SimpleDateFormat format = new SimpleDateFormat(&quot;ddMMyyyy_HHmmss&quot;, Locale.getDefault());\n        String date = format.format(new Date());\n        fileName = path + &quot;/&quot; + date + &quot;.png&quot;;\n\n        if (!path.exists())\n        {\n            path.mkdirs();\n            Toast.makeText(MainActivity.this, &quot;Saved at &quot;+ String.valueOf(path), Toast.LENGTH_LONG).show();\n        }\n</code></pre>\n<p>Tried new file creation code</p>\n<pre><code>public static File commonDocumentDirPath(String FolderName)\n    {\n        File dir = null;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R)\n        {\n            dir = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS) + &quot;/&quot; + FolderName);\n        }\n        else\n        {\n            dir = new File(Environment.getExternalStorageDirectory() + &quot;/&quot; + FolderName);\n        }\n\n        // Make sure the path directory exists.\n        if (!dir.exists())\n        {\n            // Make it, if it doesn't exit\n            boolean success = dir.mkdirs();\n            if (!success)\n            {\n                dir = null;\n            }\n        }\n        return dir;\n    }\n</code></pre>\n<p>it always throws IOExecption because of that it catches the exception and always shows the TOAST message Couldn't Save Please help I am trying to resolve this issue for so long</p>\n<pre><code>            @Override\n            public void onClick(View view) {\n                if (!signatureView.isBitmapEmpty())\n                {\n                    try {\n                        saveImage();\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                        Toast.makeText(MainActivity.this, &quot;Couldn't Save. Exception: &quot; + e.getMessage(), Toast.LENGTH_LONG).show();\n                    }\n                }\n            }\n        });\n    }\n\n    private void saveImage() throws IOException {\n\n        File file = new File(fileName);\n\n        Bitmap bitmap = signatureView.getSignatureBitmap();\n\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\n        bitmap.compress(Bitmap.CompressFormat.PNG, 0, bos);\n        byte[] bitmapData = bos.toByteArray();\n\n        FileOutputStream fos = new FileOutputStream(file);\n        fos.write(bitmapData);\n        fos.flush();\n        fos.close();\n\n        Toast.makeText(MainActivity.this, &quot;Saved&quot;, Toast.LENGTH_SHORT).show();\n    }\n</code></pre>\n<p>Now it gives me EPERM (operation not permitted error)</p>\n"},{"tags":["java","recursion","average"],"comments":[{"owner":{"account_id":6522844,"reputation":2162,"user_id":10919349,"display_name":"Richard K Yu"},"score":0,"creation_date":1642820486,"post_id":70809626,"comment_id":125180850,"body_markdown":"Is there a restriction to use an array or can you use ArrayLists?","body":"Is there a restriction to use an array or can you use ArrayLists?"},{"owner":{"account_id":8754193,"reputation":27,"user_id":6546280,"display_name":"Courtney Parks"},"score":0,"creation_date":1642820689,"post_id":70809626,"comment_id":125180874,"body_markdown":"Hi Richard, I believe there is a minor restriction to not use ArrayList but at this point, I&#39;m banging my head against the wall just to get this working. Did you know of  way with ArrayList?","body":"Hi Richard, I believe there is a minor restriction to not use ArrayList but at this point, I&#39;m banging my head against the wall just to get this working. Did you know of  way with ArrayList?"}],"answers":[{"tags":[],"owner":{"account_id":22888469,"reputation":1487,"user_id":17028970,"display_name":"carlosdafield"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642822609,"creation_date":1642821823,"answer_id":70809758,"question_id":70809626,"body_markdown":"Hopefully I understood your question correctly but heres how to do it below.\r\nThe basic idea is that when the index reaches the length of the array in the\r\nrecursive function that&#39;s the base case. So all you have to do is add to the sum at each index point in the array, and just keep passing in the updated index and sum into the recursive function. \r\n\r\n```java\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        int newClassSize[] = {1,2,3}; // User Input let say\r\n\r\n        \r\n        double average = findAverage(newClassSize);\r\n        System.out.println(average);\r\n    }\r\n    \r\n    \r\n    public static  double findAverage(int[] arr){\r\n        // Avoid division by zero error\r\n        if (arr.length==0){\r\n           return 0;\r\n        }\r\n        return findAverageHelper(arr,0,0);\r\n    }\r\n    \r\n    \r\n    public static  double findAverageHelper(int[] arr, int index,int sum){\r\n        if (index==arr.length){ // Base Case \r\n            return (double) sum/arr.length;\r\n        }\r\n        // Increase index and add current value at index to sum\r\n        return findAverageHelper(arr,index+1,sum+=arr[index]);\r\n        \r\n    }\r\n}\r\n\r\n```","title":"Take Average of an Array using Recursion","body":"<p>Hopefully I understood your question correctly but heres how to do it below.\nThe basic idea is that when the index reaches the length of the array in the\nrecursive function that's the base case. So all you have to do is add to the sum at each index point in the array, and just keep passing in the updated index and sum into the recursive function.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Main {\n    public static void main(String[] args) {\n        int newClassSize[] = {1,2,3}; // User Input let say\n\n        \n        double average = findAverage(newClassSize);\n        System.out.println(average);\n    }\n    \n    \n    public static  double findAverage(int[] arr){\n        // Avoid division by zero error\n        if (arr.length==0){\n           return 0;\n        }\n        return findAverageHelper(arr,0,0);\n    }\n    \n    \n    public static  double findAverageHelper(int[] arr, int index,int sum){\n        if (index==arr.length){ // Base Case \n            return (double) sum/arr.length;\n        }\n        // Increase index and add current value at index to sum\n        return findAverageHelper(arr,index+1,sum+=arr[index]);\n        \n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":8754193,"reputation":27,"user_id":6546280,"display_name":"Courtney Parks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":383,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70809758,"answer_count":1,"score":1,"last_activity_date":1642822609,"creation_date":1642819454,"question_id":70809626,"body_markdown":"I&#39;m trying to create a program that will take a user input, input that data into an dynamic array, and then recursively finds the average. The first part of my code works. This allows the newly created array to be passed to the method.\r\n\r\n     public static void main(String args[])\r\n\t{\r\n\t\t\r\n\t\tint i = 0;\r\n\t\tint sum = 0;\r\n\t\tdouble runningTotal = 0;\r\n\t\t\r\n\t\tint classSize;\r\n\t\tScanner keyboard = new Scanner(System.in);\t\t\r\n\t\tSystem.out.println(&quot;Please enter the class size: &quot;);\r\n\t\tclassSize = keyboard.nextInt();\r\n\t\tint newClassSize[] = new int[classSize];\r\n\t\t\r\n\t\tfor (i=0; i &lt; newClassSize.length; i++)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Please enter the grade of the user at: &quot; + (i + 1));\r\n\t\t\tnewClassSize[i] = keyboard.nextInt();\t\r\n\t\t}\r\n\t\t\r\n\t\tfindAverage();\r\n\t\t\r\n\t\t\r\n\t\tfor (i=0; i &lt; newClassSize.length; i++){\r\n\t\t\t\t\t\r\n\t\t\t\r\n\t\t\tsum = sum + newClassSize[i];\r\n\t\t}\r\n\t\t\t\t\t\t\r\n\t\tSystem.out.println(Arrays.toString(newClassSize));\r\n\t\t\t\t\r\n\t\t\r\n\tkeyboard.close();\r\n\t\t\r\n\t}\r\n    }\r\n\r\n  This is where I&#39;m getting confused and confusing myself however. How would I pass the newly created array to the findAverage() method? I would then need to also have that be saved to an accumulator and then devided. Is there a better way to do this? This is my current findAverage() method but I&#39;m confusing myself on my implementation.\r\n\r\n    public double findAverage(int classAverage, int baseCase, double runningAverage)\r\n\t{\r\n\t\trunningAverage = 0;\r\n\t\tint sum = 0;\r\n\t\t\r\n\t\tif (newClassSize.length - 1 &gt; baseCase)\r\n\t\t\trunningAverage = newClassSize.length;\r\n\t\t\t\r\n\t\t\r\n\t\treturn findAverage();\r\n\t\tSystem.out.println(&quot;The class average is &quot; + classAverage);\r\n\t\t\r\n\t}\r\n\t\t","title":"Take Average of an Array using Recursion","body":"<p>I'm trying to create a program that will take a user input, input that data into an dynamic array, and then recursively finds the average. The first part of my code works. This allows the newly created array to be passed to the method.</p>\n<pre><code> public static void main(String args[])\n{\n    \n    int i = 0;\n    int sum = 0;\n    double runningTotal = 0;\n    \n    int classSize;\n    Scanner keyboard = new Scanner(System.in);      \n    System.out.println(&quot;Please enter the class size: &quot;);\n    classSize = keyboard.nextInt();\n    int newClassSize[] = new int[classSize];\n    \n    for (i=0; i &lt; newClassSize.length; i++)\n    {\n        System.out.println(&quot;Please enter the grade of the user at: &quot; + (i + 1));\n        newClassSize[i] = keyboard.nextInt();   \n    }\n    \n    findAverage();\n    \n    \n    for (i=0; i &lt; newClassSize.length; i++){\n                \n        \n        sum = sum + newClassSize[i];\n    }\n                    \n    System.out.println(Arrays.toString(newClassSize));\n            \n    \nkeyboard.close();\n    \n}\n}\n</code></pre>\n<p>This is where I'm getting confused and confusing myself however. How would I pass the newly created array to the findAverage() method? I would then need to also have that be saved to an accumulator and then devided. Is there a better way to do this? This is my current findAverage() method but I'm confusing myself on my implementation.</p>\n<pre><code>public double findAverage(int classAverage, int baseCase, double runningAverage)\n{\n    runningAverage = 0;\n    int sum = 0;\n    \n    if (newClassSize.length - 1 &gt; baseCase)\n        runningAverage = newClassSize.length;\n        \n    \n    return findAverage();\n    System.out.println(&quot;The class average is &quot; + classAverage);\n    \n}\n    \n</code></pre>\n"},{"tags":["java","opengl","lwjgl","vbo"],"answers":[{"tags":[],"owner":{"account_id":248772,"reputation":159853,"user_id":524368,"accept_rate":83,"display_name":"datenwolf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1360666161,"creation_date":1360666161,"answer_id":14830759,"question_id":14828748,"body_markdown":"Please don&#39;t use Display Lists, they&#39;re outdated and deprecated. Using VBOs effectively requires using Vertex Arrays. When using a vertex array you put all the vertex positions and other attributes into arrays and then batch the drawing of a lot of triangles using a single call to glDrawArrays (assumes the arrays are just a long list of vertices to be processed one after another) or glDrawElements (takes an additional array, that contains a list of indices referring to the elements in the vertex arrays).\r\n\r\nHere&#39;s a tutorial about vertex arrays:\r\n\r\nhttp://www.songho.ca/opengl/gl_vertexarray.html\r\n\r\nOnce you got vertex arrays working, its only a small step to VBOs.","title":"Display Lists and VBO OpenGL/LWJGL","body":"<p>Please don't use Display Lists, they're outdated and deprecated. Using VBOs effectively requires using Vertex Arrays. When using a vertex array you put all the vertex positions and other attributes into arrays and then batch the drawing of a lot of triangles using a single call to glDrawArrays (assumes the arrays are just a long list of vertices to be processed one after another) or glDrawElements (takes an additional array, that contains a list of indices referring to the elements in the vertex arrays).</p>\n\n<p>Here's a tutorial about vertex arrays:</p>\n\n<p><a href=\"http://www.songho.ca/opengl/gl_vertexarray.html\" rel=\"nofollow\">http://www.songho.ca/opengl/gl_vertexarray.html</a></p>\n\n<p>Once you got vertex arrays working, its only a small step to VBOs.</p>\n"},{"tags":[],"owner":{"account_id":22968943,"reputation":11,"user_id":17097617,"display_name":"rentheprogrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642822257,"creation_date":1642822257,"answer_id":70809781,"question_id":14828748,"body_markdown":"display list only store opengl primitive which means it only store **glVertex/glTexCoord** etc. \r\nAnd does not store any client functions like **glEnableClientState/glDisableClientSate/glDrawArrays** etc.\r\n\r\nTo setup display list here are the example code:\r\n\r\n    int var = glGenLists(1);\r\n    \r\n    glNewList(var, GL_COMPILE);\r\n    // put your vertex/primitives here\r\n    glEndList();\r\n   \r\n    glCallList(var) // execute/draw them\r\n\r\nTIP: Don&#39;t put the **glNewList/glEndList** in a loop it will cause performance drop, only **glCallList**\r\n\r\nFun Fact: Display List can improve performance by about 5-10%.\r\n\r\nHowever **Display Lists** is now deprecated/removed in earlier version of opengl so don&#39;t use that in modern OpenGL instead use **VBO**.","title":"Display Lists and VBO OpenGL/LWJGL","body":"<p>display list only store opengl primitive which means it only store <strong>glVertex/glTexCoord</strong> etc.\nAnd does not store any client functions like <strong>glEnableClientState/glDisableClientSate/glDrawArrays</strong> etc.</p>\n<p>To setup display list here are the example code:</p>\n<pre><code>int var = glGenLists(1);\n\nglNewList(var, GL_COMPILE);\n// put your vertex/primitives here\nglEndList();\n\nglCallList(var) // execute/draw them\n</code></pre>\n<p>TIP: Don't put the <strong>glNewList/glEndList</strong> in a loop it will cause performance drop, only <strong>glCallList</strong></p>\n<p>Fun Fact: Display List can improve performance by about 5-10%.</p>\n<p>However <strong>Display Lists</strong> is now deprecated/removed in earlier version of opengl so don't use that in modern OpenGL instead use <strong>VBO</strong>.</p>\n"}],"owner":{"account_id":2124525,"reputation":13,"user_id":1887053,"display_name":"user1887053"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2719,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":14830759,"answer_count":2,"score":1,"last_activity_date":1642822257,"creation_date":1360659222,"question_id":14828748,"body_markdown":"I have recently figured out how to render 3D cubes using LWJGL and OpenGL and I was so excited, I rendered 2000 and effectively froze my computer. I&#39;ve heard of things such as Display Lists and VBO but even after googling, I have no idea how to use them.\r\n\r\nCurrently, I have\r\n\r\n    for (Block b : blocks) {\r\n        GL11.glTranslatef(b.position.x, b.position.y, b.position.z); // Translate to draw the cube.\r\n        GL11.glBegin(GL_QUADS); // Start to draw the quad.\r\n        b.render(); // Renders the quad.\r\n        GL11.glEnd(); // Finishes rendering.\r\n    }\r\n\r\nRendering my cubes. The call `b.render` just renders a cube\r\n\r\n    @Override\r\n    public void render() {\r\n        //front face\r\n        GL11.glNormal3f(0f, 0f, 1f);\r\n        GL11.glTexCoord2f(0f, 1f);\r\n        GL11.glVertex3f(1f, 0f, 0f);\r\n        GL11.glTexCoord2f(1f, 1f);\r\n        GL11.glVertex3f(0f, 0f, 0f);\r\n        GL11.glTexCoord2f(1f, 0f);\r\n        GL11.glVertex3f(0f, 1f, 0f);\r\n        GL11.glTexCoord2f(0f, 0f);\r\n        GL11.glVertex3f(1f, 1f, 0f);\r\n\r\n        //back face\r\n        GL11.glNormal3f(0f, 0f, -1f);\r\n        GL11.glTexCoord2f(0f, 1f);\r\n        GL11.glVertex3f(0f, 0f, 1f);\r\n        GL11.glTexCoord2f(1f, 1f);\r\n        GL11.glVertex3f(1f, 0f, 1f);\r\n        GL11.glTexCoord2f(1f, 0f);\r\n        GL11.glVertex3f(1f, 1f, 1f);\r\n        GL11.glTexCoord2f(0f, 0f);\r\n        GL11.glVertex3f(0f, 1f, 1f);\r\n\r\n        cap.bind(); // top texture\r\n        //top face\r\n        GL11.glNormal3f(0f, -1f, 0f);\r\n        GL11.glTexCoord2f(0f, 1f);\r\n        GL11.glVertex3f(1f, 1f, 0f);\r\n        GL11.glTexCoord2f(1f, 1f);\r\n        GL11.glVertex3f(0f, 1f, 0f);\r\n        GL11.glTexCoord2f(1f, 0f);\r\n        GL11.glVertex3f(0f, 1f, 1f);\r\n        GL11.glTexCoord2f(0f, 0f);\r\n        GL11.glVertex3f(1f, 1f, 1f);\r\n\r\n        //bottom face\r\n        GL11.glNormal3f(0f, 1f, 0f);\r\n        GL11.glTexCoord2f(0f, 1f);\r\n        GL11.glVertex3f(1f, 0f, 1f);\r\n        GL11.glTexCoord2f(1f, 1f);\r\n        GL11.glVertex3f(0f, 0f, 1f);\r\n        GL11.glTexCoord2f(1f, 0f);\r\n        GL11.glVertex3f(0f, 0f, 0f);\r\n        GL11.glTexCoord2f(0f, 0f);\r\n        GL11.glVertex3f(1f, 0f, 0f);\r\n\r\n        side.bind(); // left texture\r\n        //left face\r\n        GL11.glNormal3f(-1f, 0f, 0f);\r\n        GL11.glTexCoord2f(0f, 1f);\r\n        GL11.glVertex3f(1f, 0f, 1f);\r\n        GL11.glTexCoord2f(1f, 1f);\r\n        GL11.glVertex3f(1f, 0f, 0f);\r\n        GL11.glTexCoord2f(1f, 0f);\r\n        GL11.glVertex3f(1f, 1f, 0f);\r\n        GL11.glTexCoord2f(0f, 0f);\r\n        GL11.glVertex3f(1f, 1f, 1f);\r\n\r\n        //right face\r\n        GL11.glNormal3f(1f, 0f, 0f);\r\n        GL11.glTexCoord2f(0f, 1f);\r\n        GL11.glVertex3f(0f, 0f, 0f);\r\n        GL11.glTexCoord2f(1f, 1f);\r\n        GL11.glVertex3f(0f, 0f, 1f);\r\n        GL11.glTexCoord2f(1f, 0f);\r\n        GL11.glVertex3f(0f, 1f, 1f);\r\n        GL11.glTexCoord2f(0f, 0f);\r\n        GL11.glVertex3f(0f, 1f, 0f);\r\n    }\r\n\r\nWhere cap is the top Texture and side is the side Texture.\r\n\r\nWhat I really need help with is figuring out how to make my code VBO and/or Display List compatible in order to increase performance. I also think if it were possible to render only visible faces it would save many computations but can&#39;t think of how to do such a thing.\r\n\r\n**EDIT:**\r\n\r\nI now have each block creating its own VBO object via the following code...\r\n\r\n    private int vboID;\r\n    private FloatBuffer vertices;\r\n    private float[] verts = {0, 1, 2, 2, 3, 0, 0, 3, 4, 4, 5, 0, 0, 5, 6, 6, 1, 0, 1, 6, 7, 7, 2, 1, 7, 4, 3, 3, 2, 7, 4, 7, 6, 6, 5, 4}; // Not sure on the numbers for making a cube?\r\n\r\n    private void generateVBO() {\r\n        vertices = BufferUtils.createFloatBuffer(verts.length); // Create a FloatBuffer...\r\n        vertices.put(verts); // Add all the vertices in...\r\n        vboID = GL15.glGenBuffers(); // Generate the VBO...\r\n        GL15.glBindBuffer(GL15.GL_ARRAY_BUFFER, vboID); // Bind it...\r\n        GL15.glBufferData(GL15.GL_ARRAY_BUFFER, vertices, GL15.GL_STATIC_DRAW); // Buffer in the data...\r\n        verts = null; // Free up memory allocation because these are unnecessary now...\r\n        vertices = null;\r\n        System.out.println(&quot;VBO created with a vboID of &#39;&quot;+vboID+&quot;&#39;.&quot;);\r\n    }\r\n\r\nAt the start of my program, I create 1000 block objects so my output is effectively &quot;VBO create with a vboID of n&quot;, 1000 times.\r\n\r\nI understand at the end of the program, I need to dispose of the VBOs (I&#39;m presuming I just call `GL15.glBindBuffer(GL15.GL_ARRAY_BUFFER, 0)` for each VBO?) but first, I need to draw each VBO.\r\n\r\nWhat is the command to draw VBOs?","title":"Display Lists and VBO OpenGL/LWJGL","body":"<p>I have recently figured out how to render 3D cubes using LWJGL and OpenGL and I was so excited, I rendered 2000 and effectively froze my computer. I've heard of things such as Display Lists and VBO but even after googling, I have no idea how to use them.</p>\n\n<p>Currently, I have</p>\n\n<pre><code>for (Block b : blocks) {\n    GL11.glTranslatef(b.position.x, b.position.y, b.position.z); // Translate to draw the cube.\n    GL11.glBegin(GL_QUADS); // Start to draw the quad.\n    b.render(); // Renders the quad.\n    GL11.glEnd(); // Finishes rendering.\n}\n</code></pre>\n\n<p>Rendering my cubes. The call <code>b.render</code> just renders a cube</p>\n\n<pre><code>@Override\npublic void render() {\n    //front face\n    GL11.glNormal3f(0f, 0f, 1f);\n    GL11.glTexCoord2f(0f, 1f);\n    GL11.glVertex3f(1f, 0f, 0f);\n    GL11.glTexCoord2f(1f, 1f);\n    GL11.glVertex3f(0f, 0f, 0f);\n    GL11.glTexCoord2f(1f, 0f);\n    GL11.glVertex3f(0f, 1f, 0f);\n    GL11.glTexCoord2f(0f, 0f);\n    GL11.glVertex3f(1f, 1f, 0f);\n\n    //back face\n    GL11.glNormal3f(0f, 0f, -1f);\n    GL11.glTexCoord2f(0f, 1f);\n    GL11.glVertex3f(0f, 0f, 1f);\n    GL11.glTexCoord2f(1f, 1f);\n    GL11.glVertex3f(1f, 0f, 1f);\n    GL11.glTexCoord2f(1f, 0f);\n    GL11.glVertex3f(1f, 1f, 1f);\n    GL11.glTexCoord2f(0f, 0f);\n    GL11.glVertex3f(0f, 1f, 1f);\n\n    cap.bind(); // top texture\n    //top face\n    GL11.glNormal3f(0f, -1f, 0f);\n    GL11.glTexCoord2f(0f, 1f);\n    GL11.glVertex3f(1f, 1f, 0f);\n    GL11.glTexCoord2f(1f, 1f);\n    GL11.glVertex3f(0f, 1f, 0f);\n    GL11.glTexCoord2f(1f, 0f);\n    GL11.glVertex3f(0f, 1f, 1f);\n    GL11.glTexCoord2f(0f, 0f);\n    GL11.glVertex3f(1f, 1f, 1f);\n\n    //bottom face\n    GL11.glNormal3f(0f, 1f, 0f);\n    GL11.glTexCoord2f(0f, 1f);\n    GL11.glVertex3f(1f, 0f, 1f);\n    GL11.glTexCoord2f(1f, 1f);\n    GL11.glVertex3f(0f, 0f, 1f);\n    GL11.glTexCoord2f(1f, 0f);\n    GL11.glVertex3f(0f, 0f, 0f);\n    GL11.glTexCoord2f(0f, 0f);\n    GL11.glVertex3f(1f, 0f, 0f);\n\n    side.bind(); // left texture\n    //left face\n    GL11.glNormal3f(-1f, 0f, 0f);\n    GL11.glTexCoord2f(0f, 1f);\n    GL11.glVertex3f(1f, 0f, 1f);\n    GL11.glTexCoord2f(1f, 1f);\n    GL11.glVertex3f(1f, 0f, 0f);\n    GL11.glTexCoord2f(1f, 0f);\n    GL11.glVertex3f(1f, 1f, 0f);\n    GL11.glTexCoord2f(0f, 0f);\n    GL11.glVertex3f(1f, 1f, 1f);\n\n    //right face\n    GL11.glNormal3f(1f, 0f, 0f);\n    GL11.glTexCoord2f(0f, 1f);\n    GL11.glVertex3f(0f, 0f, 0f);\n    GL11.glTexCoord2f(1f, 1f);\n    GL11.glVertex3f(0f, 0f, 1f);\n    GL11.glTexCoord2f(1f, 0f);\n    GL11.glVertex3f(0f, 1f, 1f);\n    GL11.glTexCoord2f(0f, 0f);\n    GL11.glVertex3f(0f, 1f, 0f);\n}\n</code></pre>\n\n<p>Where cap is the top Texture and side is the side Texture.</p>\n\n<p>What I really need help with is figuring out how to make my code VBO and/or Display List compatible in order to increase performance. I also think if it were possible to render only visible faces it would save many computations but can't think of how to do such a thing.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I now have each block creating its own VBO object via the following code...</p>\n\n<pre><code>private int vboID;\nprivate FloatBuffer vertices;\nprivate float[] verts = {0, 1, 2, 2, 3, 0, 0, 3, 4, 4, 5, 0, 0, 5, 6, 6, 1, 0, 1, 6, 7, 7, 2, 1, 7, 4, 3, 3, 2, 7, 4, 7, 6, 6, 5, 4}; // Not sure on the numbers for making a cube?\n\nprivate void generateVBO() {\n    vertices = BufferUtils.createFloatBuffer(verts.length); // Create a FloatBuffer...\n    vertices.put(verts); // Add all the vertices in...\n    vboID = GL15.glGenBuffers(); // Generate the VBO...\n    GL15.glBindBuffer(GL15.GL_ARRAY_BUFFER, vboID); // Bind it...\n    GL15.glBufferData(GL15.GL_ARRAY_BUFFER, vertices, GL15.GL_STATIC_DRAW); // Buffer in the data...\n    verts = null; // Free up memory allocation because these are unnecessary now...\n    vertices = null;\n    System.out.println(\"VBO created with a vboID of '\"+vboID+\"'.\");\n}\n</code></pre>\n\n<p>At the start of my program, I create 1000 block objects so my output is effectively \"VBO create with a vboID of n\", 1000 times.</p>\n\n<p>I understand at the end of the program, I need to dispose of the VBOs (I'm presuming I just call <code>GL15.glBindBuffer(GL15.GL_ARRAY_BUFFER, 0)</code> for each VBO?) but first, I need to draw each VBO.</p>\n\n<p>What is the command to draw VBOs?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1642821572,"post_id":70809583,"comment_id":125180961,"body_markdown":"https://codereview.stackexchange.com/","body":"<a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a>"},{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":0,"creation_date":1642822085,"post_id":70809583,"comment_id":125181011,"body_markdown":"Many things to refactoring... Try: 1 = look for `clean code` . 2 = you could extract your business implementation  to a service class, 3 = look for  how to use stream in `for`  java. 4 look for `builder pattern` to set values into your object. 5 = you could simplify handling exception grouping them in a specific one.. I think this is good start","body":"Many things to refactoring... Try: 1 = look for <code>clean code</code> . 2 = you could extract your business implementation  to a service class, 3 = look for  how to use stream in <code>for</code>  java. 4 look for <code>builder pattern</code> to set values into your object. 5 = you could simplify handling exception grouping them in a specific one.. I think this is good start"}],"owner":{"account_id":23680946,"reputation":1,"user_id":17706500,"display_name":"purehavoc_mitakian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642818845,"creation_date":1642818845,"question_id":70809583,"body_markdown":"How can I change one method of RestController containing image and VO to elegant code?\r\n\r\nThis is the code inside the method named registCcinfo.\r\n\r\nI&#39;m currently learning coding, so I have no doubt that there will be some code that I don&#39;t know or need to fix at this stage.\r\n\r\nThank you for your opinion on how I can further improve my code.\r\n\r\n```\r\n @RequestMapping(value = &quot;/registCcInfo&quot;, method = RequestMethod.POST)\r\n    @ResponseBody\r\n    public Map&lt;String, Object&gt; registCcInfo(MultipartHttpServletRequest request) throws AuthenticationException {\r\n        logger.debug(&quot;/api/cc/registCcInfo POST, parameter MultipartHttpServletRequest : &quot; + request);\r\n\r\n        Map&lt;String, Object&gt; returnMap = new HashMap&lt;String, Object&gt;();\r\n        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n        String resultCd = &quot;fail&quot;;\r\n        String resultMsg = &quot;Failed to register golf course information.&quot;;\r\n        try {\r\n            Enumeration&lt;String&gt; parameterNames = request.getParameterNames();\r\n\r\n            Field[] fields = CcInfoVO.class.getDeclaredFields();\r\n\r\n            CcInfoVO ccInfoVO = this.setValueToCcInfo(request, parameterNames, fields, new CcInfoVO());\r\n\r\n            int result = ccInfoService.insertCcInfo(ccInfoVO);\r\n            int courseCount = Integer.parseInt(ccInfoVO.getCcCourseCount());\r\n            int holeCount;\r\n            int count = 0;\r\n\r\n            for (Object o: request.getParameterMap().keySet()) {\r\n                String key = (String) o;\r\n                map.put(key, request.getParameterMap().get(key));\r\n\r\n            }\r\n            for (int i = 1; i &lt;= courseCount; i++) {\r\n\r\n                CourseInfoVO pCourseInfoVO = new CourseInfoVO();\r\n                pCourseInfoVO.setCcNo(ccInfoVO.getCcNo());\r\n                pCourseInfoVO.setCourseName(Integer.toString(i));\r\n                courseInfoService.insertCourseInfo(pCourseInfoVO);\r\n                if (map.get(&quot;holeCount&quot; + i) != null) {\r\n                    String[] temp = (String[]) map.get(&quot;holeCount&quot; + i);\r\n                    holeCount = Integer.parseInt(temp[0]);\r\n                    for (int j = 1; j &lt;= holeCount; j++) {\r\n                        count++;\r\n                        HoleInfoVO PHoleInfoVO = new HoleInfoVO();\r\n                        pHoleInfoVO.setCourseNo(pCourseInfoVO.getCourseNo());\r\n                        pHoleInfoVO.setHoleNum(Integer.toString(j));\r\n                        pHoleInfoVO.setRealHoleNo(Integer.toString(count));\r\n                        holeInfoService.insertHoleInfo(pHoleInfoVO);\r\n                    }\r\n                }\r\n\r\n\r\n            }\r\n\r\n\r\n            int totalSize = ccInfoService.selectCcInfoCnt(ccInfoVO);\r\n\r\n            if (result &gt; 0) {\r\n                resultCd = &quot;success&quot;;\r\n                resultMsg = &quot;The golf course information registration was successful.&quot;;\r\n                returnMap.put(&quot;totalSize&quot;, totalSize);\r\n                returnMap.put(&quot;currentPage&quot;, ccInfoVO.getCurrentPage());\r\n                returnMap.put(&quot;resultData&quot;, ccInfoService.selectCcInfoList(ccInfoVO));\r\n            }\r\n        } catch (LockedException e) {\r\n            logger_error.error(&quot;Exception&quot;, e);\r\n        } catch (BadCredentialsException e) {\r\n            logger_error.error(&quot;Exception&quot;, e);\r\n        } catch (IllegalArgumentException iae) {\r\n            logger_error.error(&quot;IllegalArgumentException&quot;, iae);\r\n        } catch (RuntimeException re) {\r\n            logger_error.error(&quot;RuntimeException&quot;, re);\r\n        } catch (SQLException se) {\r\n            logger_error.error(&quot;SQLException&quot;, se);\r\n        } catch (Exception e) {\r\n            logger_error.error(&quot;Exception&quot;, e);\r\n        } finally {\r\n            logger.debug(&quot;resultCd : &quot; + resultCd);\r\n            logger.debug(&quot;resultMsg : &quot; + resultMsg);\r\n            returnMap.put(&quot;resultCd&quot;, resultCd);\r\n            returnMap.put(&quot;resultMsg&quot;, resultMsg);\r\n        }\r\n        return returnMap;\r\n    }\r\n\r\nprivate CcInfoVO setValueToCcInfo(MultipartHttpServletRequest request, Enumeration&lt;String&gt; parameterNames, Field[] fields, CcInfoVO ccInfoVO) {\r\n\r\n        while (parameterNames.hasMoreElements()) {\r\n            String parameterName = parameterNames.nextElement();\r\n            Field tempField = null;\r\n            try {\r\n                tempField = CcInfoVO.class.getDeclaredField(parameterName);\r\n            } catch (NoSuchFieldException e) {\r\n                continue; // If there is no field with that name, then\r\n            }\r\n\r\n            if (tempField != null) {\r\n                tempField.setAccessible(true);\r\n                String value = request.getParameter(parameterName);\r\n                switch(tempField.getType().getTypeName()) {\r\n                    case &quot;int&quot;:\r\n                        if (!value.isEmpty()) {\r\n                            try {\r\n                                tempField.set(ccInfoVO, Integer.parseInt(value));\r\n                            } catch (IllegalAccessException e) {\r\n                                logger_error.error(e);\r\n                            }\r\n                        }\r\n                        break;\r\n                    case &quot;java.lang.String&quot;:\r\n                        try {\r\n                            tempField.set(ccInfoVO, value);\r\n                        } catch (IllegalAccessException e) {\r\n                            logger_error.error(e);\r\n}\r\n                        break;\r\n                    case &quot;java.util.List&quot;:\r\n                        if (value != null &amp;&amp; !value.replaceAll(&quot; &quot;, &quot;&quot;).isEmpty()) {\r\n                            Gson gson = new Gson();\r\n                            Type type = new TypeToken&lt;ArrayList&lt;Map&lt;String, Object&gt;&gt;&gt;() {\r\n                            }.getType();\r\n                            try {\r\n                                tempField.set(ccInfoVO, gson.fromJson(value, type));\r\n                            } catch (IllegalAccessException e) {\r\n                                logger_error.error(e);\r\n                            }\r\n                        }\r\n                        break;\r\n                    default:\r\n                        logger.debug(&quot;TypeName: &quot; + tempField.getType().getTypeName() + &quot;, value : &quot; + value);\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n        String path = &quot;ccImage/&quot; + LocalDate.now() + &quot;/&quot;;\r\n        MultipartFile imageFile = request.getFile(&quot;file&quot;);\r\n        if (imageFile != null &amp;&amp; !(imageFile).isEmpty()) {\r\n            ccInfoVO.setImagePath(path);\r\n            ccInfoVO.setImageName(&quot;ccImage_&quot; + UUID.randomUUID() + &quot;.jpg&quot;);\r\n            BufferedImage image = this.saveMultipartFile(path, ccInfoVO.getImageName(), imageFile);\r\n            if (image != null) {\r\n                ccInfoVO.setImageWidth(Integer.toString(image.getWidth()));\r\n                ccInfoVO.setImageHeight(Integer.toString(image.getHeight()));\r\n            }\r\n        }\r\n        return ccInfoVO;\r\n    }\r\n\r\nprivate BufferedImage saveMultipartFile(String path, String imageName, MultipartFile imageFile) {\r\n        File pFile = new File(uploadRootPath + path);\r\n        File cFile = new File(uploadRootPath + path + imageName);\r\n\r\n        String fileExtension = imageName.substring(imageName.lastIndexOf(&quot;.&quot;) + 1);\r\n\r\n        if (!pFile.exists()) {\r\n            pFile.mkdirs();\r\n        }\r\n\r\n        try {\r\n            BufferedImage bufferedImage = ImageIO.read(imageFile.getInputStream());\r\n            BufferedImage outputImage = CommonUtil.convertToBufferedImage(ImageIO.read(imageFile.getInputStream()), bufferedImage.getWidth(), bufferedImage.getHeight());\r\n            ImageIO.write(outputImage, fileExtension, cFile);\r\n\r\n            return outputImage;\r\n\r\n        } catch (IOException e) {\r\n            logger_error.error(e);\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n\r\n@Data\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class CcInfoVO extends BaseVO {\r\n\r\n//Fields\r\nprivate int ccNo;\r\nprivate String ccName;\r\n\r\nprivate String ccControlYn;\r\nprivate String ccManagerYn;\r\nprivate String ccAddress;\r\nprivate String ccTel;\r\nprivate String ccX;\r\nprivate String ccY;\r\nprivate String ccNote;\r\nprivate String isDeleted;\r\n\r\n\r\nprivate String holeCount;\r\n//image\r\nprivate String imageName;\r\nprivate String imagePath;\r\nprivate String imageWidth;\r\nprivate String imageHeight;\r\n\r\n\r\n//input data\r\nprivate String ccCourseCount;\r\n\r\n\r\n}\r\n\r\nBest Regards!","title":"How can I change one method of RestController containing image and VO to elegant code?","body":"<p>How can I change one method of RestController containing image and VO to elegant code?</p>\n<p>This is the code inside the method named registCcinfo.</p>\n<p>I'm currently learning coding, so I have no doubt that there will be some code that I don't know or need to fix at this stage.</p>\n<p>Thank you for your opinion on how I can further improve my code.</p>\n<pre><code> @RequestMapping(value = &quot;/registCcInfo&quot;, method = RequestMethod.POST)\n    @ResponseBody\n    public Map&lt;String, Object&gt; registCcInfo(MultipartHttpServletRequest request) throws AuthenticationException {\n        logger.debug(&quot;/api/cc/registCcInfo POST, parameter MultipartHttpServletRequest : &quot; + request);\n\n        Map&lt;String, Object&gt; returnMap = new HashMap&lt;String, Object&gt;();\n        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n        String resultCd = &quot;fail&quot;;\n        String resultMsg = &quot;Failed to register golf course information.&quot;;\n        try {\n            Enumeration&lt;String&gt; parameterNames = request.getParameterNames();\n\n            Field[] fields = CcInfoVO.class.getDeclaredFields();\n\n            CcInfoVO ccInfoVO = this.setValueToCcInfo(request, parameterNames, fields, new CcInfoVO());\n\n            int result = ccInfoService.insertCcInfo(ccInfoVO);\n            int courseCount = Integer.parseInt(ccInfoVO.getCcCourseCount());\n            int holeCount;\n            int count = 0;\n\n            for (Object o: request.getParameterMap().keySet()) {\n                String key = (String) o;\n                map.put(key, request.getParameterMap().get(key));\n\n            }\n            for (int i = 1; i &lt;= courseCount; i++) {\n\n                CourseInfoVO pCourseInfoVO = new CourseInfoVO();\n                pCourseInfoVO.setCcNo(ccInfoVO.getCcNo());\n                pCourseInfoVO.setCourseName(Integer.toString(i));\n                courseInfoService.insertCourseInfo(pCourseInfoVO);\n                if (map.get(&quot;holeCount&quot; + i) != null) {\n                    String[] temp = (String[]) map.get(&quot;holeCount&quot; + i);\n                    holeCount = Integer.parseInt(temp[0]);\n                    for (int j = 1; j &lt;= holeCount; j++) {\n                        count++;\n                        HoleInfoVO PHoleInfoVO = new HoleInfoVO();\n                        pHoleInfoVO.setCourseNo(pCourseInfoVO.getCourseNo());\n                        pHoleInfoVO.setHoleNum(Integer.toString(j));\n                        pHoleInfoVO.setRealHoleNo(Integer.toString(count));\n                        holeInfoService.insertHoleInfo(pHoleInfoVO);\n                    }\n                }\n\n\n            }\n\n\n            int totalSize = ccInfoService.selectCcInfoCnt(ccInfoVO);\n\n            if (result &gt; 0) {\n                resultCd = &quot;success&quot;;\n                resultMsg = &quot;The golf course information registration was successful.&quot;;\n                returnMap.put(&quot;totalSize&quot;, totalSize);\n                returnMap.put(&quot;currentPage&quot;, ccInfoVO.getCurrentPage());\n                returnMap.put(&quot;resultData&quot;, ccInfoService.selectCcInfoList(ccInfoVO));\n            }\n        } catch (LockedException e) {\n            logger_error.error(&quot;Exception&quot;, e);\n        } catch (BadCredentialsException e) {\n            logger_error.error(&quot;Exception&quot;, e);\n        } catch (IllegalArgumentException iae) {\n            logger_error.error(&quot;IllegalArgumentException&quot;, iae);\n        } catch (RuntimeException re) {\n            logger_error.error(&quot;RuntimeException&quot;, re);\n        } catch (SQLException se) {\n            logger_error.error(&quot;SQLException&quot;, se);\n        } catch (Exception e) {\n            logger_error.error(&quot;Exception&quot;, e);\n        } finally {\n            logger.debug(&quot;resultCd : &quot; + resultCd);\n            logger.debug(&quot;resultMsg : &quot; + resultMsg);\n            returnMap.put(&quot;resultCd&quot;, resultCd);\n            returnMap.put(&quot;resultMsg&quot;, resultMsg);\n        }\n        return returnMap;\n    }\n\nprivate CcInfoVO setValueToCcInfo(MultipartHttpServletRequest request, Enumeration&lt;String&gt; parameterNames, Field[] fields, CcInfoVO ccInfoVO) {\n\n        while (parameterNames.hasMoreElements()) {\n            String parameterName = parameterNames.nextElement();\n            Field tempField = null;\n            try {\n                tempField = CcInfoVO.class.getDeclaredField(parameterName);\n            } catch (NoSuchFieldException e) {\n                continue; // If there is no field with that name, then\n            }\n\n            if (tempField != null) {\n                tempField.setAccessible(true);\n                String value = request.getParameter(parameterName);\n                switch(tempField.getType().getTypeName()) {\n                    case &quot;int&quot;:\n                        if (!value.isEmpty()) {\n                            try {\n                                tempField.set(ccInfoVO, Integer.parseInt(value));\n                            } catch (IllegalAccessException e) {\n                                logger_error.error(e);\n                            }\n                        }\n                        break;\n                    case &quot;java.lang.String&quot;:\n                        try {\n                            tempField.set(ccInfoVO, value);\n                        } catch (IllegalAccessException e) {\n                            logger_error.error(e);\n}\n                        break;\n                    case &quot;java.util.List&quot;:\n                        if (value != null &amp;&amp; !value.replaceAll(&quot; &quot;, &quot;&quot;).isEmpty()) {\n                            Gson gson = new Gson();\n                            Type type = new TypeToken&lt;ArrayList&lt;Map&lt;String, Object&gt;&gt;&gt;() {\n                            }.getType();\n                            try {\n                                tempField.set(ccInfoVO, gson.fromJson(value, type));\n                            } catch (IllegalAccessException e) {\n                                logger_error.error(e);\n                            }\n                        }\n                        break;\n                    default:\n                        logger.debug(&quot;TypeName: &quot; + tempField.getType().getTypeName() + &quot;, value : &quot; + value);\n                        break;\n                }\n            }\n        }\n        String path = &quot;ccImage/&quot; + LocalDate.now() + &quot;/&quot;;\n        MultipartFile imageFile = request.getFile(&quot;file&quot;);\n        if (imageFile != null &amp;&amp; !(imageFile).isEmpty()) {\n            ccInfoVO.setImagePath(path);\n            ccInfoVO.setImageName(&quot;ccImage_&quot; + UUID.randomUUID() + &quot;.jpg&quot;);\n            BufferedImage image = this.saveMultipartFile(path, ccInfoVO.getImageName(), imageFile);\n            if (image != null) {\n                ccInfoVO.setImageWidth(Integer.toString(image.getWidth()));\n                ccInfoVO.setImageHeight(Integer.toString(image.getHeight()));\n            }\n        }\n        return ccInfoVO;\n    }\n\nprivate BufferedImage saveMultipartFile(String path, String imageName, MultipartFile imageFile) {\n        File pFile = new File(uploadRootPath + path);\n        File cFile = new File(uploadRootPath + path + imageName);\n\n        String fileExtension = imageName.substring(imageName.lastIndexOf(&quot;.&quot;) + 1);\n\n        if (!pFile.exists()) {\n            pFile.mkdirs();\n        }\n\n        try {\n            BufferedImage bufferedImage = ImageIO.read(imageFile.getInputStream());\n            BufferedImage outputImage = CommonUtil.convertToBufferedImage(ImageIO.read(imageFile.getInputStream()), bufferedImage.getWidth(), bufferedImage.getHeight());\n            ImageIO.write(outputImage, fileExtension, cFile);\n\n            return outputImage;\n\n        } catch (IOException e) {\n            logger_error.error(e);\n        }\n        return null;\n    }\n\n\n\n@Data\n@SuppressWarnings(&quot;serial&quot;)\npublic class CcInfoVO extends BaseVO {\n\n//Fields\nprivate int ccNo;\nprivate String ccName;\n\nprivate String ccControlYn;\nprivate String ccManagerYn;\nprivate String ccAddress;\nprivate String ccTel;\nprivate String ccX;\nprivate String ccY;\nprivate String ccNote;\nprivate String isDeleted;\n\n\nprivate String holeCount;\n//image\nprivate String imageName;\nprivate String imagePath;\nprivate String imageWidth;\nprivate String imageHeight;\n\n\n//input data\nprivate String ccCourseCount;\n\n\n}\n\nBest Regards!\n</code></pre>\n"},{"tags":["java","hibernate","amazon-redshift"],"comments":[{"owner":{"account_id":6715571,"reputation":4013,"user_id":5177506,"display_name":"hunter"},"score":0,"creation_date":1559926934,"post_id":56498174,"comment_id":99586114,"body_markdown":"hibernate version you use?","body":"hibernate version you use?"},{"owner":{"account_id":6142732,"reputation":151,"user_id":4789634,"display_name":"Vinay Limbare"},"score":0,"creation_date":1559927350,"post_id":56498174,"comment_id":99586304,"body_markdown":"&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n\n&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n\n&lt;version&gt;5.4.2.Final&lt;/version&gt;","body":"&lt;groupId&gt;org.hibernate&lt;/groupId&gt;  &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;  &lt;version&gt;5.4.2.Final&lt;/version&gt;"},{"owner":{"account_id":6715571,"reputation":4013,"user_id":5177506,"display_name":"hunter"},"score":0,"creation_date":1559927908,"post_id":56498174,"comment_id":99586577,"body_markdown":"first of all check whether your database support this kind of query (select * \nfrom information_schema.sequences). if it doesn&#39;t , HB configuration has picked wrong dialect.","body":"first of all check whether your database support this kind of query (select *  from information_schema.sequences). if it doesn&#39;t , HB configuration has picked wrong dialect."},{"owner":{"account_id":6142732,"reputation":151,"user_id":4789634,"display_name":"Vinay Limbare"},"score":0,"creation_date":1559929613,"post_id":56498174,"comment_id":99587249,"body_markdown":"Redshift does not support this kind of query (select * from information_schema.sequences). Error is [Amazon](500310) Invalid operation: relation &quot;information_schema.sequences&quot; does not exist;","body":"Redshift does not support this kind of query (select * from information_schema.sequences). Error is [Amazon](500310) Invalid operation: relation &quot;information_schema.sequences&quot; does not exist;"},{"owner":{"account_id":6142732,"reputation":151,"user_id":4789634,"display_name":"Vinay Limbare"},"score":0,"creation_date":1559929638,"post_id":56498174,"comment_id":99587258,"body_markdown":"The dialect Hibernate picked is org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL81Dialect","body":"The dialect Hibernate picked is org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL81Dialect"},{"owner":{"account_id":11658485,"reputation":772,"user_id":8537531,"display_name":"Safeer Ansari"},"score":0,"creation_date":1576339090,"post_id":56498174,"comment_id":104871231,"body_markdown":"@VinayLimbare Were you able to find a solution to this?","body":"@VinayLimbare Were you able to find a solution to this?"}],"answers":[{"tags":[],"owner":{"account_id":6142732,"reputation":151,"user_id":4789634,"display_name":"Vinay Limbare"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1642817761,"creation_date":1576698602,"answer_id":59399121,"question_id":56498174,"body_markdown":"I created a custom Dialect that overrode existing PostgreSqlDialect \r\n\r\n        public class CustomRedshiftDialect extends PostgreSQL81Dialect {\r\n    \r\n        @Override\r\n        public String getQuerySequencesString() {\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\nAnd in the HibernateUtil class or the appropriate XML. \r\n\r\n            // Hibernate settings equivalent to hibernate.cfg.xml&#39;s properties\r\n        Properties settings = new Properties();\r\n        settings.put(&quot;show_sql&quot;, &quot;false&quot;);\r\n        settings.put(&quot;current_session_context_class&quot;, &quot;thread&quot;);\r\n        settings.put(&quot;hbm2ddl.auto&quot;, &quot;none&quot;);\r\n        settings.put(&quot;hibernate.dialect&quot;, &quot;com.me.vlimbare.factory.db.CustomRedshiftDialect&quot;);","title":"How to skip &quot;information_schema.sequences&quot; creation while using Hibernate in Java projects","body":"<p>I created a custom Dialect that overrode existing PostgreSqlDialect</p>\n<pre><code>    public class CustomRedshiftDialect extends PostgreSQL81Dialect {\n\n    @Override\n    public String getQuerySequencesString() {\n        return null;\n    }\n}\n</code></pre>\n<p>And in the HibernateUtil class or the appropriate XML.</p>\n<pre><code>        // Hibernate settings equivalent to hibernate.cfg.xml's properties\n    Properties settings = new Properties();\n    settings.put(&quot;show_sql&quot;, &quot;false&quot;);\n    settings.put(&quot;current_session_context_class&quot;, &quot;thread&quot;);\n    settings.put(&quot;hbm2ddl.auto&quot;, &quot;none&quot;);\n    settings.put(&quot;hibernate.dialect&quot;, &quot;com.me.vlimbare.factory.db.CustomRedshiftDialect&quot;);\n</code></pre>\n"}],"owner":{"account_id":6142732,"reputation":151,"user_id":4789634,"display_name":"Vinay Limbare"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2084,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59399121,"answer_count":1,"score":0,"last_activity_date":1642817761,"creation_date":1559925109,"question_id":56498174,"body_markdown":"I am using Redshift as a DB for my Java Project with Hibernate support. When the Hibernate starts, it tries to create a sequence, which I do not need.\r\n\r\n\r\n```\r\npublic class HibernateUtil {\r\n\r\n    private static SessionFactory SESSION_FACTORY;\r\n    private static StandardServiceRegistry registry;\r\n\r\n    public static synchronized SessionFactory getSessionFactory(DataSource dataSource) {\r\n        if (SESSION_FACTORY == null) {\r\n            try {\r\n                Configuration configuration = new Configuration();\r\n\r\n                Properties settings = new Properties();\r\n                settings.put(&quot;show_sql&quot;, &quot;false&quot;);\r\n                settings.put(&quot;current_session_context_class&quot;, &quot;thread&quot;);\r\n                settings.put(&quot;hbm2ddl.auto&quot;, &quot;none&quot;);\r\n                configuration.setProperties(settings);\r\n\r\n                registry = new StandardServiceRegistryBuilder()\r\n                        .applySettings(configuration.getProperties())\r\n                        .applySetting(Environment.DATASOURCE, dataSource)\r\n                        .build();\r\n\r\n                SESSION_FACTORY = configuration.buildSessionFactory(registry);\r\n            } catch (Exception e) {\r\n                log.error(&quot;Error creating Session Factory.&quot;, e);\r\n                if (registry != null) {\r\n                    StandardServiceRegistryBuilder.destroy(registry);\r\n                }\r\n            }\r\n        }\r\n        return SESSION_FACTORY; }\r\n}\r\n\r\n```\r\nThis is the stack trace.\r\n\r\n    \r\n    ERROR [2019-06-07 14:41:40,743] org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentImpl: Could not fetch the SequenceInformation from the database\r\n    ! com.amazon.support.exceptions.ErrorException: [Amazon](500310) Invalid operation: relation &quot;information_schema.sequences&quot; does not exist;\r\n    ! ... 52 common frames omitted\r\n    ! Causing: java.sql.SQLException: [Amazon](500310) Invalid operation: relation &quot;information_schema.sequences&quot; does not exist;","title":"How to skip &quot;information_schema.sequences&quot; creation while using Hibernate in Java projects","body":"<p>I am using Redshift as a DB for my Java Project with Hibernate support. When the Hibernate starts, it tries to create a sequence, which I do not need.</p>\n\n<pre><code>public class HibernateUtil {\n\n    private static SessionFactory SESSION_FACTORY;\n    private static StandardServiceRegistry registry;\n\n    public static synchronized SessionFactory getSessionFactory(DataSource dataSource) {\n        if (SESSION_FACTORY == null) {\n            try {\n                Configuration configuration = new Configuration();\n\n                Properties settings = new Properties();\n                settings.put(\"show_sql\", \"false\");\n                settings.put(\"current_session_context_class\", \"thread\");\n                settings.put(\"hbm2ddl.auto\", \"none\");\n                configuration.setProperties(settings);\n\n                registry = new StandardServiceRegistryBuilder()\n                        .applySettings(configuration.getProperties())\n                        .applySetting(Environment.DATASOURCE, dataSource)\n                        .build();\n\n                SESSION_FACTORY = configuration.buildSessionFactory(registry);\n            } catch (Exception e) {\n                log.error(\"Error creating Session Factory.\", e);\n                if (registry != null) {\n                    StandardServiceRegistryBuilder.destroy(registry);\n                }\n            }\n        }\n        return SESSION_FACTORY; }\n}\n\n</code></pre>\n\n<p>This is the stack trace.</p>\n\n<pre><code>ERROR [2019-06-07 14:41:40,743] org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentImpl: Could not fetch the SequenceInformation from the database\n! com.amazon.support.exceptions.ErrorException: [Amazon](500310) Invalid operation: relation \"information_schema.sequences\" does not exist;\n! ... 52 common frames omitted\n! Causing: java.sql.SQLException: [Amazon](500310) Invalid operation: relation \"information_schema.sequences\" does not exist;\n</code></pre>\n"},{"tags":["java","eclipse","maven","jaxb","maven-jaxb2-plugin"],"answers":[{"tags":[],"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642708810,"creation_date":1642708475,"answer_id":70792648,"question_id":70792113,"body_markdown":"One solution could be to add a separate binding file (*.xjb) to each execution in order to generate specific classes (and avoiding name clash).\r\n\r\n    &lt;configuration&gt;\r\n      &lt;bindingDirectory&gt;src/main/bindings&lt;/bindingDirectory&gt;\r\n      &lt;bindingIncludes&gt;\r\n    \t&lt;include&gt;unifiedServices.xjb&lt;/include&gt;\r\n      &lt;/bindingIncludes&gt;\r\n\r\nSee the [XJC documentation][1] , but it is for instance possible to add a suffix to all class names:\r\n\r\n    &lt;schemaBindings&gt;\r\n      &lt;nameXmlTransform&gt;\r\n        &lt;typeName suffix=&quot;_SuffixA&quot;/&gt;\r\n      &lt;/nameXmlTransform&gt;\r\n    &lt;/schemaBindings&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/E17802_01/webservices/webservices/docs/1.5/tutorial/doc/JAXBUsing4.html\r\n\r\nDoing so, if the same &quot;Foo&quot; type of namespace &quot;company.com&quot; is part of a same common schema imported by several wsdl, you could end up with distinct classes:\r\n\r\n - com.company.Foo_SuffixA (generated in &quot;unifiedServices&quot;)\r\n - com.company.Foo_SuffixB (generated in &quot;iuclp&quot;)","title":"Dealing with duplicate classes with multiple maven-jaxb2-plugin executions using different schemas with the same base schema","body":"<p>One solution could be to add a separate binding file (*.xjb) to each execution in order to generate specific classes (and avoiding name clash).</p>\n<pre><code>&lt;configuration&gt;\n  &lt;bindingDirectory&gt;src/main/bindings&lt;/bindingDirectory&gt;\n  &lt;bindingIncludes&gt;\n    &lt;include&gt;unifiedServices.xjb&lt;/include&gt;\n  &lt;/bindingIncludes&gt;\n</code></pre>\n<p>See the <a href=\"https://docs.oracle.com/cd/E17802_01/webservices/webservices/docs/1.5/tutorial/doc/JAXBUsing4.html\" rel=\"nofollow noreferrer\">XJC documentation</a> , but it is for instance possible to add a suffix to all class names:</p>\n<pre><code>&lt;schemaBindings&gt;\n  &lt;nameXmlTransform&gt;\n    &lt;typeName suffix=&quot;_SuffixA&quot;/&gt;\n  &lt;/nameXmlTransform&gt;\n&lt;/schemaBindings&gt;\n</code></pre>\n<p>Doing so, if the same &quot;Foo&quot; type of namespace &quot;company.com&quot; is part of a same common schema imported by several wsdl, you could end up with distinct classes:</p>\n<ul>\n<li>com.company.Foo_SuffixA (generated in &quot;unifiedServices&quot;)</li>\n<li>com.company.Foo_SuffixB (generated in &quot;iuclp&quot;)</li>\n</ul>\n"}],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1496,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642816630,"creation_date":1642705844,"question_id":70792113,"body_markdown":"I&#39;m currently using maven-jaxb2-plugin v0.13.3.\r\n\r\nThe plugin config has multiple executions, each processing wsdl files.  Several of them are completely independent, but several are simply different wsdls in the same enterprise, with schemas that import a common base schema.\r\n\r\nNote that I cannot change the wsdls or the schemas.\r\n\r\nThe original code was using &quot;forceRegenerate&quot; set to true, along with all of them writing to the same target directory.  This works fine with a command-line build, but as many people know by now, this causes an infinite build loop in Eclipse.\r\n\r\nI&#39;m working through the steps to fully resolve this.  The easy steps are setting &quot;forceRegenerate&quot; to false and adding a suffix directory to the &quot;generateDirectory&quot; directory for each execution to make them unique.  I then have to change the Eclipse project properties to remove the original source directory for the common place they were all writing to, and replace that with a single ref for each of the now unique source directories.\r\n\r\nUp to now, this would work fine if all the executions referenced fully independent schemas.\r\n\r\nIf two or more of these executions specify a wsdl that has schemas that reference a common base schema, which is the case here, I get duplicate class errors at build time.\r\n\r\nIf it helps, here is some sample code from the pom that has been somewhat elided:\r\n\r\n\t&lt;execution&gt;\r\n\t  &lt;id&gt;unifiedServices&lt;/id&gt;\r\n\t  &lt;goals&gt;\r\n\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t  &lt;/goals&gt;\r\n\t  &lt;configuration&gt;\r\n\t\t&lt;specVersion&gt;2.2&lt;/specVersion&gt;\r\n\t\t&lt;schemaDirectory&gt;src/main/resources/schemas/csi_UnifiedServices_240.0_schema&lt;/schemaDirectory&gt;\r\n\t\t&lt;schemaIncludes&gt;\r\n\t\t  &lt;include&gt;*.wsdl&lt;/include&gt;\r\n\t\t&lt;/schemaIncludes&gt;\r\n\t\t&lt;generateDirectory&gt;target/generated-sources/jaxb/us&lt;/generateDirectory&gt;\r\n\t\t&lt;forceRegenerate&gt;false&lt;/forceRegenerate&gt;\r\n\t  &lt;/configuration&gt;\r\n\t&lt;/execution&gt;\r\n\t&lt;execution&gt;\r\n\t  &lt;id&gt;iuclp&lt;/id&gt;\r\n\t  &lt;goals&gt;\r\n\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t  &lt;/goals&gt;\r\n\t  &lt;configuration&gt;\r\n\t\t&lt;specVersion&gt;2.2&lt;/specVersion&gt;\r\n\t\t&lt;schemaDirectory&gt;src/main/resources/schemas/csi_OrderAndSubscriptionManagementMobility&lt;/schemaDirectory&gt;\r\n\t\t&lt;schemaIncludes&gt;\r\n\t\t  &lt;include&gt;*.wsdl&lt;/include&gt;\r\n\t\t&lt;/schemaIncludes&gt;\r\n\t\t&lt;generateDirectory&gt;target/generated-sources/jaxb/osmm&lt;/generateDirectory&gt;\r\n\t\t&lt;forceRegenerate&gt;false&lt;/forceRegenerate&gt;\r\n\t  &lt;/configuration&gt;\r\n\t&lt;/execution&gt;\r\n\r\nI&#39;ve seen many postings that talk about variations of this, many of which refer to older versions of the plugin.\r\n\r\nWhat are some practical solutions to this that still fulfill my constraints (can&#39;t modify the wsdl/schema)?\r\n\r\n**Update**:\r\n\r\nI am proceeding to implement the bindings file, as suggested in the first answer.  It&#39;s not quite working, and I&#39;m not sure what I&#39;m doing wrong.\r\n\r\nThis is the configuration block of the first execution (I&#39;ve only changed one execution block, once I determine it&#39;s generating reasonable code, I&#39;ll work on the other execution blocks, and then change the references in the code).\r\n\r\n\t&lt;configuration&gt;\r\n\t\t&lt;bindingDirectory&gt;src/main/resources/bindings&lt;/bindingDirectory&gt;\r\n\t\t&lt;bindingIncludes&gt;\r\n\t\t\t&lt;bindingInclude&gt;unifiedservices.xjb&lt;/bindingInclude&gt;\r\n\t\t&lt;/bindingIncludes&gt;\r\n\t  &lt;specVersion&gt;2.2&lt;/specVersion&gt;\r\n\t  &lt;schemaDirectory&gt;src/main/resources/schemas/csi_UnifiedServices_240.0_schema&lt;/schemaDirectory&gt;\r\n\t  &lt;schemaIncludes&gt;\r\n\t\t&lt;include&gt;*.wsdl&lt;/include&gt;\r\n\t  &lt;/schemaIncludes&gt;\r\n\t  &lt;generateDirectory&gt;target/generated-sources/jaxb/us&lt;/generateDirectory&gt;\r\n\t  &lt;forceRegenerate&gt;false&lt;/forceRegenerate&gt;\r\n\t&lt;/configuration&gt;\r\n\r\nThis is the slightly elided bindings file (unifiedservices.xjb):\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;jxb:bindings\r\n\t\txmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;\r\n\t\txmlns:xs=&quot;http://www.w3.org/2000/10/XMLSchema-instance&quot;\r\n\t\txs:schemaLocation=&quot;http://java.sun.com/xml/ns/jaxb http://java.sun.com/xml/ns/jaxb/bindingschema_2_0.xsd&quot;\r\n\t\tjxb:version=&quot;2.0&quot;&gt;\r\n\t\t&lt;jxb:bindings schemaLocation=&quot;http://.../Namespaces/UnifiedServices/Types/Public/CommonDataModel.xsd&quot;\r\n\t\t\t\t\t  node=&quot;/xs:schema&quot;&gt;\r\n\t\t\t&lt;jxb:schemaBindings&gt;\r\n\t\t\t\t&lt;nameXmlTransform&gt;\r\n\t\t\t\t\t&lt;typeName suffix=&quot;us&quot;/&gt;\r\n\t\t\t\t&lt;/nameXmlTransform&gt;\r\n\t\t\t&lt;/jxb:schemaBindings&gt;\r\n\t\t&lt;/jxb:bindings&gt;\r\n\t&lt;/jxb:bindings&gt;\r\n\r\nThis is the header of the slightly elided &quot;CommonDataModel.xsd&quot;:\r\n\r\n\t&lt;xs:schema xmlns:xs=&#39;http://www.w3.org/2001/XMLSchema&#39;\r\n\t xmlns=&#39;http://.../Namespaces/UnifiedServices/Types/Public/CommonDataModel.xsd&#39;\r\n\t targetNamespace=&#39;http://.../Namespaces/UnifiedServices/Types/Public/CommonDataModel.xsd&#39;\r\n\t elementFormDefault=&#39;qualified&#39;\r\n\t version=&#39;240.0.03&#39;&gt;\r\n\r\nWhen I run this build, I get this as the first error:\r\n\r\n\t[ERROR] Error while parsing schema(s).Location [ file:/C:/.../src/main/resources/bindings/unifiedservices.xjb{8,37}].\r\n\tcom.sun.istack.SAXParseException2: &quot;http://.../Namespaces/UnifiedServices/Types/Public/CommonDataModel.xsd&quot; is not a part of this compilation. Is this a mistake for &quot;file:/C:/.../src/main/resources/schemas/csi_UnifiedServices_240.0_schema/CommonDataModel.xsd&quot;?\r\n\r\n**Update**:\r\n\r\nI updated the bindings file so that &quot;schemaLocation&quot; is just a relative path to the schema file in question, but now I just get a different error.\r\n\r\nThis is my new bindings file:\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;jxb:bindings\r\n\t\txmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;\r\n\t\txmlns:xs=&quot;http://www.w3.org/2000/10/XMLSchema-instance&quot;\r\n\t\txs:schemaLocation=&quot;http://java.sun.com/xml/ns/jaxb http://java.sun.com/xml/ns/jaxb/bindingschema_2_0.xsd&quot;\r\n\t\tjxb:version=&quot;2.0&quot;&gt;\r\n\t\t&lt;jxb:bindings schemaLocation=&quot;../schemas/csi_UnifiedServices_240.0_schema/CommonDataModel.xsd&quot;\r\n\t\t\t\t\t  node=&quot;/xs:schema&quot;&gt;\r\n\t\t\t&lt;jxb:schemaBindings&gt;\r\n\t\t\t\t&lt;nameXmlTransform&gt;\r\n\t\t\t\t\t&lt;typeName suffix=&quot;us&quot;/&gt;\r\n\t\t\t\t&lt;/nameXmlTransform&gt;\r\n\t\t\t&lt;/jxb:schemaBindings&gt;\r\n\t\t&lt;/jxb:bindings&gt;\r\n\t&lt;/jxb:bindings&gt;\r\n\r\nWhen I build with this, I get:\r\n\r\n\t[ERROR] Error while parsing schema(s).Location [ file:/C:/.../src/main/resources/bindings/unifiedservices.xjb{8,37}].\r\n\tcom.sun.istack.SAXParseException2: XPath evaluation of &quot;/xs:schema&quot; results in empty target node\r\n\r\nThis is the somewhat elided header of the &quot;CommonDataModel.xsd&quot; file:\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;!-- ... --&gt;\r\n\t&lt;xs:schema xmlns:xs=&#39;http://www.w3.org/2001/XMLSchema&#39;\r\n\t xmlns=&#39;http://.../Namespaces/UnifiedServices/Types/Public/CommonDataModel.xsd&#39;\r\n\t targetNamespace=&#39;http://.../Namespaces/UnifiedServices/Types/Public/CommonDataModel.xsd&#39;\r\n\t elementFormDefault=&#39;qualified&#39;\r\n\t version=&#39;240.0.03&#39;&gt;\r\n\r\nI had to ask myself whether that relative path is correct.  I would think if it was wrong, I would get a more specific error message. For a little confirmation, I ran SysInternals ProcessMonitor, watching for &quot;CommonDataModel.xsd&quot;, and they were all to that same file, and all were successful.\r\n\r\n**Update**:\r\n\r\nI think I found a possible cause for that last problem. The following pointed out an issue: https://stackoverflow.com/questions/57883855/xpath-evaluation-in-jaxb-binding-file-results-in-empty-target-node .\r\n\r\nSo, I made sure that the two &quot;xs&quot; namespaces were identical.  This got rid of the xjc errors.  However, it also didn&#39;t appear to do anything.\r\n\r\nMy current binding file is this:\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;jxb:bindings\r\n\t\txmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;\r\n\t\txmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n\t\txs:schemaLocation=&quot;http://java.sun.com/xml/ns/jaxb http://java.sun.com/xml/ns/jaxb/bindingschema_2_0.xsd&quot;\r\n\t\tjxb:version=&quot;2.0&quot;&gt;\r\n\t\t&lt;jxb:bindings schemaLocation=&quot;../schemas/csi_UnifiedServices_240.0_schema/CommonDataModel.xsd&quot;\r\n\t\t\t\t\t  node=&quot;/xs:schema&quot;&gt;\r\n\t\t\t&lt;jxb:schemaBindings&gt;\r\n\t\t\t\t&lt;jxb:nameXmlTransform&gt;\r\n\t\t\t\t\t&lt;jxb:typeName suffix=&quot;us&quot;/&gt;\r\n\t\t\t\t&lt;/jxb:nameXmlTransform&gt;\r\n\t\t\t&lt;/jxb:schemaBindings&gt;\r\n\t\t&lt;/jxb:bindings&gt;\r\n\t&lt;/jxb:bindings&gt;\r\n\r\nWhen I run the build, I see blocks of output lines like this:\r\n\r\n\t[INFO] --- maven-jaxb2-plugin:0.13.3:generate (unifiedServices) @ UnifiedAccountMs ---\r\n\t[INFO] Sources are not up-to-date, XJC will be executed.\r\n\t[INFO] Episode file [C:\\...\\target\\generated-sources\\jaxb\\us\\META-INF\\sun-jaxb.episode] was augmented with if-exists=&quot;true&quot; attributes.\r\n\r\nThat looks fine, but it doesn&#39;t tell me anything.  When it finally does the compile, I get errors like this:\r\n\r\n\t[ERROR] /C:/.../target/generated-sources/jaxb/us/com/cingular/csi/csi/namespaces/unifiedservices/infrastructurecommon/types/_public/messageheader/ObjectFactory.java:[32,8] duplicate class: com.cingular.csi.csi.namespaces.unifiedservices.infrastructurecommon.types._public.messageheader.ObjectFactory\r\n\r\nAnd when I searched for that fqcn, I did indeed find multiple occurrences of it (the elided portions are identical):\r\n\r\n\t./target/generated-sources/jaxb/ausn/com/.../namespaces/unifiedservices/infrastructurecommon/types/_public/messageheader/ObjectFactory.java\r\n\t./target/generated-sources/jaxb/us/com/.../namespaces/unifiedservices/infrastructurecommon/types/_public/messageheader/ObjectFactory.java\r\n\r\nI may be misunderstanding what the &quot;typeName&quot; transformation is supposed to do, but it doesn&#39;t seem like it changed anything.  In any case, I have a feeling that appending a suffix to the class name isn&#39;t exactly what I want.  I think changing the package name is more appropriate, but I can&#39;t even get the typename transformation to do anything.\r\n","title":"Dealing with duplicate classes with multiple maven-jaxb2-plugin executions using different schemas with the same base schema","body":"<p>I'm currently using maven-jaxb2-plugin v0.13.3.</p>\n<p>The plugin config has multiple executions, each processing wsdl files.  Several of them are completely independent, but several are simply different wsdls in the same enterprise, with schemas that import a common base schema.</p>\n<p>Note that I cannot change the wsdls or the schemas.</p>\n<p>The original code was using &quot;forceRegenerate&quot; set to true, along with all of them writing to the same target directory.  This works fine with a command-line build, but as many people know by now, this causes an infinite build loop in Eclipse.</p>\n<p>I'm working through the steps to fully resolve this.  The easy steps are setting &quot;forceRegenerate&quot; to false and adding a suffix directory to the &quot;generateDirectory&quot; directory for each execution to make them unique.  I then have to change the Eclipse project properties to remove the original source directory for the common place they were all writing to, and replace that with a single ref for each of the now unique source directories.</p>\n<p>Up to now, this would work fine if all the executions referenced fully independent schemas.</p>\n<p>If two or more of these executions specify a wsdl that has schemas that reference a common base schema, which is the case here, I get duplicate class errors at build time.</p>\n<p>If it helps, here is some sample code from the pom that has been somewhat elided:</p>\n<pre><code>&lt;execution&gt;\n  &lt;id&gt;unifiedServices&lt;/id&gt;\n  &lt;goals&gt;\n    &lt;goal&gt;generate&lt;/goal&gt;\n  &lt;/goals&gt;\n  &lt;configuration&gt;\n    &lt;specVersion&gt;2.2&lt;/specVersion&gt;\n    &lt;schemaDirectory&gt;src/main/resources/schemas/csi_UnifiedServices_240.0_schema&lt;/schemaDirectory&gt;\n    &lt;schemaIncludes&gt;\n      &lt;include&gt;*.wsdl&lt;/include&gt;\n    &lt;/schemaIncludes&gt;\n    &lt;generateDirectory&gt;target/generated-sources/jaxb/us&lt;/generateDirectory&gt;\n    &lt;forceRegenerate&gt;false&lt;/forceRegenerate&gt;\n  &lt;/configuration&gt;\n&lt;/execution&gt;\n&lt;execution&gt;\n  &lt;id&gt;iuclp&lt;/id&gt;\n  &lt;goals&gt;\n    &lt;goal&gt;generate&lt;/goal&gt;\n  &lt;/goals&gt;\n  &lt;configuration&gt;\n    &lt;specVersion&gt;2.2&lt;/specVersion&gt;\n    &lt;schemaDirectory&gt;src/main/resources/schemas/csi_OrderAndSubscriptionManagementMobility&lt;/schemaDirectory&gt;\n    &lt;schemaIncludes&gt;\n      &lt;include&gt;*.wsdl&lt;/include&gt;\n    &lt;/schemaIncludes&gt;\n    &lt;generateDirectory&gt;target/generated-sources/jaxb/osmm&lt;/generateDirectory&gt;\n    &lt;forceRegenerate&gt;false&lt;/forceRegenerate&gt;\n  &lt;/configuration&gt;\n&lt;/execution&gt;\n</code></pre>\n<p>I've seen many postings that talk about variations of this, many of which refer to older versions of the plugin.</p>\n<p>What are some practical solutions to this that still fulfill my constraints (can't modify the wsdl/schema)?</p>\n<p><strong>Update</strong>:</p>\n<p>I am proceeding to implement the bindings file, as suggested in the first answer.  It's not quite working, and I'm not sure what I'm doing wrong.</p>\n<p>This is the configuration block of the first execution (I've only changed one execution block, once I determine it's generating reasonable code, I'll work on the other execution blocks, and then change the references in the code).</p>\n<pre><code>&lt;configuration&gt;\n    &lt;bindingDirectory&gt;src/main/resources/bindings&lt;/bindingDirectory&gt;\n    &lt;bindingIncludes&gt;\n        &lt;bindingInclude&gt;unifiedservices.xjb&lt;/bindingInclude&gt;\n    &lt;/bindingIncludes&gt;\n  &lt;specVersion&gt;2.2&lt;/specVersion&gt;\n  &lt;schemaDirectory&gt;src/main/resources/schemas/csi_UnifiedServices_240.0_schema&lt;/schemaDirectory&gt;\n  &lt;schemaIncludes&gt;\n    &lt;include&gt;*.wsdl&lt;/include&gt;\n  &lt;/schemaIncludes&gt;\n  &lt;generateDirectory&gt;target/generated-sources/jaxb/us&lt;/generateDirectory&gt;\n  &lt;forceRegenerate&gt;false&lt;/forceRegenerate&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>This is the slightly elided bindings file (unifiedservices.xjb):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jxb:bindings\n    xmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;\n    xmlns:xs=&quot;http://www.w3.org/2000/10/XMLSchema-instance&quot;\n    xs:schemaLocation=&quot;http://java.sun.com/xml/ns/jaxb http://java.sun.com/xml/ns/jaxb/bindingschema_2_0.xsd&quot;\n    jxb:version=&quot;2.0&quot;&gt;\n    &lt;jxb:bindings schemaLocation=&quot;http://.../Namespaces/UnifiedServices/Types/Public/CommonDataModel.xsd&quot;\n                  node=&quot;/xs:schema&quot;&gt;\n        &lt;jxb:schemaBindings&gt;\n            &lt;nameXmlTransform&gt;\n                &lt;typeName suffix=&quot;us&quot;/&gt;\n            &lt;/nameXmlTransform&gt;\n        &lt;/jxb:schemaBindings&gt;\n    &lt;/jxb:bindings&gt;\n&lt;/jxb:bindings&gt;\n</code></pre>\n<p>This is the header of the slightly elided &quot;CommonDataModel.xsd&quot;:</p>\n<pre><code>&lt;xs:schema xmlns:xs='http://www.w3.org/2001/XMLSchema'\n xmlns='http://.../Namespaces/UnifiedServices/Types/Public/CommonDataModel.xsd'\n targetNamespace='http://.../Namespaces/UnifiedServices/Types/Public/CommonDataModel.xsd'\n elementFormDefault='qualified'\n version='240.0.03'&gt;\n</code></pre>\n<p>When I run this build, I get this as the first error:</p>\n<pre><code>[ERROR] Error while parsing schema(s).Location [ file:/C:/.../src/main/resources/bindings/unifiedservices.xjb{8,37}].\ncom.sun.istack.SAXParseException2: &quot;http://.../Namespaces/UnifiedServices/Types/Public/CommonDataModel.xsd&quot; is not a part of this compilation. Is this a mistake for &quot;file:/C:/.../src/main/resources/schemas/csi_UnifiedServices_240.0_schema/CommonDataModel.xsd&quot;?\n</code></pre>\n<p><strong>Update</strong>:</p>\n<p>I updated the bindings file so that &quot;schemaLocation&quot; is just a relative path to the schema file in question, but now I just get a different error.</p>\n<p>This is my new bindings file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jxb:bindings\n    xmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;\n    xmlns:xs=&quot;http://www.w3.org/2000/10/XMLSchema-instance&quot;\n    xs:schemaLocation=&quot;http://java.sun.com/xml/ns/jaxb http://java.sun.com/xml/ns/jaxb/bindingschema_2_0.xsd&quot;\n    jxb:version=&quot;2.0&quot;&gt;\n    &lt;jxb:bindings schemaLocation=&quot;../schemas/csi_UnifiedServices_240.0_schema/CommonDataModel.xsd&quot;\n                  node=&quot;/xs:schema&quot;&gt;\n        &lt;jxb:schemaBindings&gt;\n            &lt;nameXmlTransform&gt;\n                &lt;typeName suffix=&quot;us&quot;/&gt;\n            &lt;/nameXmlTransform&gt;\n        &lt;/jxb:schemaBindings&gt;\n    &lt;/jxb:bindings&gt;\n&lt;/jxb:bindings&gt;\n</code></pre>\n<p>When I build with this, I get:</p>\n<pre><code>[ERROR] Error while parsing schema(s).Location [ file:/C:/.../src/main/resources/bindings/unifiedservices.xjb{8,37}].\ncom.sun.istack.SAXParseException2: XPath evaluation of &quot;/xs:schema&quot; results in empty target node\n</code></pre>\n<p>This is the somewhat elided header of the &quot;CommonDataModel.xsd&quot; file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!-- ... --&gt;\n&lt;xs:schema xmlns:xs='http://www.w3.org/2001/XMLSchema'\n xmlns='http://.../Namespaces/UnifiedServices/Types/Public/CommonDataModel.xsd'\n targetNamespace='http://.../Namespaces/UnifiedServices/Types/Public/CommonDataModel.xsd'\n elementFormDefault='qualified'\n version='240.0.03'&gt;\n</code></pre>\n<p>I had to ask myself whether that relative path is correct.  I would think if it was wrong, I would get a more specific error message. For a little confirmation, I ran SysInternals ProcessMonitor, watching for &quot;CommonDataModel.xsd&quot;, and they were all to that same file, and all were successful.</p>\n<p><strong>Update</strong>:</p>\n<p>I think I found a possible cause for that last problem. The following pointed out an issue: <a href=\"https://stackoverflow.com/questions/57883855/xpath-evaluation-in-jaxb-binding-file-results-in-empty-target-node\">XPath evaluation in JAXB binding file results in empty target node</a> .</p>\n<p>So, I made sure that the two &quot;xs&quot; namespaces were identical.  This got rid of the xjc errors.  However, it also didn't appear to do anything.</p>\n<p>My current binding file is this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jxb:bindings\n    xmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;\n    xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n    xs:schemaLocation=&quot;http://java.sun.com/xml/ns/jaxb http://java.sun.com/xml/ns/jaxb/bindingschema_2_0.xsd&quot;\n    jxb:version=&quot;2.0&quot;&gt;\n    &lt;jxb:bindings schemaLocation=&quot;../schemas/csi_UnifiedServices_240.0_schema/CommonDataModel.xsd&quot;\n                  node=&quot;/xs:schema&quot;&gt;\n        &lt;jxb:schemaBindings&gt;\n            &lt;jxb:nameXmlTransform&gt;\n                &lt;jxb:typeName suffix=&quot;us&quot;/&gt;\n            &lt;/jxb:nameXmlTransform&gt;\n        &lt;/jxb:schemaBindings&gt;\n    &lt;/jxb:bindings&gt;\n&lt;/jxb:bindings&gt;\n</code></pre>\n<p>When I run the build, I see blocks of output lines like this:</p>\n<pre><code>[INFO] --- maven-jaxb2-plugin:0.13.3:generate (unifiedServices) @ UnifiedAccountMs ---\n[INFO] Sources are not up-to-date, XJC will be executed.\n[INFO] Episode file [C:\\...\\target\\generated-sources\\jaxb\\us\\META-INF\\sun-jaxb.episode] was augmented with if-exists=&quot;true&quot; attributes.\n</code></pre>\n<p>That looks fine, but it doesn't tell me anything.  When it finally does the compile, I get errors like this:</p>\n<pre><code>[ERROR] /C:/.../target/generated-sources/jaxb/us/com/cingular/csi/csi/namespaces/unifiedservices/infrastructurecommon/types/_public/messageheader/ObjectFactory.java:[32,8] duplicate class: com.cingular.csi.csi.namespaces.unifiedservices.infrastructurecommon.types._public.messageheader.ObjectFactory\n</code></pre>\n<p>And when I searched for that fqcn, I did indeed find multiple occurrences of it (the elided portions are identical):</p>\n<pre><code>./target/generated-sources/jaxb/ausn/com/.../namespaces/unifiedservices/infrastructurecommon/types/_public/messageheader/ObjectFactory.java\n./target/generated-sources/jaxb/us/com/.../namespaces/unifiedservices/infrastructurecommon/types/_public/messageheader/ObjectFactory.java\n</code></pre>\n<p>I may be misunderstanding what the &quot;typeName&quot; transformation is supposed to do, but it doesn't seem like it changed anything.  In any case, I have a feeling that appending a suffix to the class name isn't exactly what I want.  I think changing the package name is more appropriate, but I can't even get the typename transformation to do anything.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642449941,"creation_date":1642449941,"answer_id":70746927,"question_id":70746642,"body_markdown":"It should be \r\n\r\n    this.testRestTemplate.postForEntity(URL, HTTP_ENTITY, SomeObject[].class, PARAMS);","title":"TestRestTemplate HTTP Requests that return as Array/Stream?","body":"<p>It should be</p>\n<pre><code>this.testRestTemplate.postForEntity(URL, HTTP_ENTITY, SomeObject[].class, PARAMS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642815054,"creation_date":1642783458,"answer_id":70804704,"question_id":70746642,"body_markdown":"You need to use StreamingResponseBody as your type then recreate your dto from the byte stream.\r\n\r\nIn the controller:\r\n```java\r\n@GetMapping(&quot;/test&quot;)\r\npublic ResponseEntity&lt;StreamingResponseBody&gt; func() throws IOException {\r\n\r\n    SomeObject obj = new SomeObject(1337);\r\n    // set up object\r\n\r\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n    ObjectOutputStream os = new ObjectOutputStream(out);\r\n    os.writeObject(obj);\r\n    ByteArrayInputStream is = new ByteArrayInputStream(out.toByteArray());\r\n\r\n    StreamingResponseBody responseBody = responseStream -&gt; {\r\n\r\n        int numberOfBytesToWrite;\r\n        byte[] data = new byte[1024];\r\n        while ((numberOfBytesToWrite = is.read(data, 0, data.length)) != -1) {\r\n            responseStream.write(data, 0, numberOfBytesToWrite);\r\n        }\r\n\r\n        is.close();\r\n    };\r\n\r\n    return ResponseEntity.ok().contentType(MediaType.APPLICATION_OCTET_STREAM).body(responseBody);\r\n}\r\n```\r\n\r\nIn the test:\r\n```java\r\n@Test\r\nvoid test() throws IOException, ClassNotFoundException {\r\n\r\n    ResponseEntity&lt;StreamingResponseBody&gt; result = this.testRestTemplate.getForEntity(&quot;http://localhost:8080/test&quot;, StreamingResponseBody.class);\r\n\r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    Objects.requireNonNull(result.getBody()).writeTo(baos);\r\n    ByteArrayInputStream in = new ByteArrayInputStream(baos.toByteArray());\r\n\r\n    ObjectInputStream is = new ObjectInputStream(in);\r\n    SomeObject object = (SomeObject) is.readObject();\r\n    is.close();\r\n\r\n    System.out.println(object.getIndex());\r\n}\r\n```\r\n\r\nAlternatively you can SomeObject to a json string and simplify the whole toByteArray conversion.","title":"TestRestTemplate HTTP Requests that return as Array/Stream?","body":"<p>You need to use StreamingResponseBody as your type then recreate your dto from the byte stream.</p>\n<p>In the controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/test&quot;)\npublic ResponseEntity&lt;StreamingResponseBody&gt; func() throws IOException {\n\n    SomeObject obj = new SomeObject(1337);\n    // set up object\n\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\n    ObjectOutputStream os = new ObjectOutputStream(out);\n    os.writeObject(obj);\n    ByteArrayInputStream is = new ByteArrayInputStream(out.toByteArray());\n\n    StreamingResponseBody responseBody = responseStream -&gt; {\n\n        int numberOfBytesToWrite;\n        byte[] data = new byte[1024];\n        while ((numberOfBytesToWrite = is.read(data, 0, data.length)) != -1) {\n            responseStream.write(data, 0, numberOfBytesToWrite);\n        }\n\n        is.close();\n    };\n\n    return ResponseEntity.ok().contentType(MediaType.APPLICATION_OCTET_STREAM).body(responseBody);\n}\n</code></pre>\n<p>In the test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid test() throws IOException, ClassNotFoundException {\n\n    ResponseEntity&lt;StreamingResponseBody&gt; result = this.testRestTemplate.getForEntity(&quot;http://localhost:8080/test&quot;, StreamingResponseBody.class);\n\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    Objects.requireNonNull(result.getBody()).writeTo(baos);\n    ByteArrayInputStream in = new ByteArrayInputStream(baos.toByteArray());\n\n    ObjectInputStream is = new ObjectInputStream(in);\n    SomeObject object = (SomeObject) is.readObject();\n    is.close();\n\n    System.out.println(object.getIndex());\n}\n</code></pre>\n<p>Alternatively you can SomeObject to a json string and simplify the whole toByteArray conversion.</p>\n"}],"owner":{"account_id":22259865,"reputation":139,"user_id":16491467,"display_name":"Akcore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642815054,"creation_date":1642448238,"question_id":70746642,"body_markdown":"Using TestRestTemplate I am trying to create tests. Some of my methods return streamed object of arrays but I&#39;m not sure how to retrieve the body:\r\n\r\nContainer.java\r\n\r\n    public class SomeObject implements Serializable\r\n    {\r\n        private int index;\r\n        public SomeObject(int i) { index = i; }\r\n        public String getIndex() { return index; }\r\n    }\r\n\r\n\r\nIn Tester.java:\r\n\r\n    @Test\r\n    public void test()\r\n    {\r\n        ResponseEntity&lt;SomeObject[]&gt; objects = this.testRestTemplate.getForEntity(&quot;http://localhost:8080/test&quot;, &lt;What goes here?&gt;);\r\n    }\r\n\r\nIn Controller:\r\n\r\n    @GetMapping(&quot;/test&quot;)\r\n    public ResponseEntity&lt;StreamingResponseBody&gt; func()\r\n    {\r\n        StreamingResponseBody responseBody = response -&gt; {\r\n            for(int i = 0; i &lt; 5000; i++)\r\n            {\r\n                SomeObject obj = new SomeObject(i);\r\n                response.write(&lt;What goes here?&gt;);\r\n                response.flush();\r\n            }\r\n        }\r\n\r\n        return ResponseEntity.ok().body(responseBody);\r\n    }","title":"TestRestTemplate HTTP Requests that return as Array/Stream?","body":"<p>Using TestRestTemplate I am trying to create tests. Some of my methods return streamed object of arrays but I'm not sure how to retrieve the body:</p>\n<p>Container.java</p>\n<pre><code>public class SomeObject implements Serializable\n{\n    private int index;\n    public SomeObject(int i) { index = i; }\n    public String getIndex() { return index; }\n}\n</code></pre>\n<p>In Tester.java:</p>\n<pre><code>@Test\npublic void test()\n{\n    ResponseEntity&lt;SomeObject[]&gt; objects = this.testRestTemplate.getForEntity(&quot;http://localhost:8080/test&quot;, &lt;What goes here?&gt;);\n}\n</code></pre>\n<p>In Controller:</p>\n<pre><code>@GetMapping(&quot;/test&quot;)\npublic ResponseEntity&lt;StreamingResponseBody&gt; func()\n{\n    StreamingResponseBody responseBody = response -&gt; {\n        for(int i = 0; i &lt; 5000; i++)\n        {\n            SomeObject obj = new SomeObject(i);\n            response.write(&lt;What goes here?&gt;);\n            response.flush();\n        }\n    }\n\n    return ResponseEntity.ok().body(responseBody);\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":1,"creation_date":1642645725,"post_id":70780066,"comment_id":125128684,"body_markdown":"Your browser does get calls, not posts.","body":"Your browser does get calls, not posts."}],"answers":[{"tags":[],"owner":{"account_id":23557777,"reputation":193,"user_id":17600104,"display_name":"Cookie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642646660,"creation_date":1642646660,"answer_id":70780239,"question_id":70780066,"body_markdown":"Browser address bar sends GET requests.\r\nYou can use smth like Postman to send requests which you need.","title":"&quot;Request method &#39;POST&#39; not supported&quot; when I try to save Person due to &lt;form method=&quot;POST&quot;&gt;","body":"<p>Browser address bar sends GET requests.\nYou can use smth like Postman to send requests which you need.</p>\n"},{"tags":[],"owner":{"account_id":20871433,"reputation":81,"user_id":15331281,"display_name":"coding_stark"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642652830,"creation_date":1642652830,"answer_id":70780797,"question_id":70780066,"body_markdown":"By default browser does get-requests only, so create another controller method with get-mapping and add person object to the model so that you can set values in the view page and when you press submit give post-mapping so that you can assign values that are entered in view page to the person object.","title":"&quot;Request method &#39;POST&#39; not supported&quot; when I try to save Person due to &lt;form method=&quot;POST&quot;&gt;","body":"<p>By default browser does get-requests only, so create another controller method with get-mapping and add person object to the model so that you can set values in the view page and when you press submit give post-mapping so that you can assign values that are entered in view page to the person object.</p>\n"},{"tags":[],"owner":{"account_id":23972504,"reputation":340,"user_id":17961007,"display_name":"Ashwini Karnale"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642736199,"creation_date":1642736199,"answer_id":70796099,"question_id":70780066,"body_markdown":"Try giving form tag any other action other than root and also give that post-mapping the same action.","title":"&quot;Request method &#39;POST&#39; not supported&quot; when I try to save Person due to &lt;form method=&quot;POST&quot;&gt;","body":"<p>Try giving form tag any other action other than root and also give that post-mapping the same action.</p>\n"},{"tags":[],"owner":{"account_id":22957308,"reputation":39,"user_id":17655569,"display_name":"Zakhar Borisov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642814197,"creation_date":1642814197,"answer_id":70809230,"question_id":70780066,"body_markdown":"In create.jsp I was written:\r\n\r\n    Id &lt;input name=&quot;userId&quot;&gt; &lt;br&gt;\r\n\r\nAnd in @PostMapping\r\n\r\n    ModelAndView modelAndView = new ModelAndView();\r\n                modelAndView.addObject(&quot;id&quot;, id)\r\n\r\nBanal inattention","title":"&quot;Request method &#39;POST&#39; not supported&quot; when I try to save Person due to &lt;form method=&quot;POST&quot;&gt;","body":"<p>In create.jsp I was written:</p>\n<pre><code>Id &lt;input name=&quot;userId&quot;&gt; &lt;br&gt;\n</code></pre>\n<p>And in @PostMapping</p>\n<pre><code>ModelAndView modelAndView = new ModelAndView();\n            modelAndView.addObject(&quot;id&quot;, id)\n</code></pre>\n<p>Banal inattention</p>\n"}],"owner":{"account_id":22957308,"reputation":39,"user_id":17655569,"display_name":"Zakhar Borisov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1296,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70809230,"answer_count":4,"score":-1,"last_activity_date":1642814197,"creation_date":1642644784,"question_id":70780066,"body_markdown":"Controller methods where can be mistaken:\r\n\r\nHere I go to URL &quot;/create&quot; with &lt;form method=&quot;POST&gt;\r\n\r\n    @GetMapping(&quot;/create&quot;)\r\n        public ModelAndView create() {\r\n    \r\n            ModelAndView modelAndView = new ModelAndView();\r\n            modelAndView.setViewName(&quot;/create.jsp&quot;);\r\n            return modelAndView;\r\n        }\r\n\r\nThis is create.jsp\r\n\r\n    &lt;%@ page isELIgnored=&quot;false&quot;%&gt;\r\n    &lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot; %&gt;\r\n    \r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Create&lt;/title&gt;\r\n    &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;h1&gt;Create author&lt;/h1&gt;\r\n            &lt;form method=&quot;POST&quot; action=&quot;&quot;&gt;\r\n                Id &lt;input name=&quot;userId&quot;&gt; &lt;br&gt;\r\n                Last name: &lt;input name=&quot;lastName&quot;&gt; &lt;br&gt;\r\n                First name: &lt;input name=&quot;firstName&quot;&gt; &lt;br&gt;\r\n                Second name: &lt;input name=&quot;secondName&quot;&gt; &lt;br&gt;\r\n                Phone: &lt;input name=&quot;phone&quot;&gt; &lt;br&gt;\r\n                Hobby: &lt;input name=&quot;hobby&quot;&gt; &lt;br&gt;\r\n                BitBucketUrl: &lt;input name=&quot;bitBucketUrl&quot;&gt; &lt;br&gt;\r\n                &lt;input type=&quot;submit&quot; value=&quot;Create&quot;&gt;\r\n            &lt;/form&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\nAnd finally @Postmapping method\r\n\r\n\r\n        @PostMapping\r\n        public ModelAndView createPerson(\r\n        @RequestParam(&quot;id&quot;) String id,\r\n        @RequestParam(&quot;lastName&quot;) String lastName, \r\n        @RequestParam(&quot;firstName&quot;) String firstName, \r\n        @RequestParam(&quot;secondName&quot;) String secondName, \r\n        @RequestParam(&quot;phone&quot;) String phone, \r\n        @RequestParam(&quot;hobby&quot;) String hobby, \r\n        @RequestParam(&quot;bitBucketUrl&quot;) String bitBucketUrl) {\r\n        \r\n                personCache.create(Person.builder()\r\n                        .setId(id)\r\n                        .setFirstName(firstName)\r\n                        .setLastName(lastName)\r\n                        .setSecondName(secondName)\r\n                        .setPhone(phone)\r\n                        .setHobby(hobby)\r\n                        .setBitBucketUrl(bitBucketUrl)\r\n                        .build());\r\n        \r\n                ModelAndView modelAndView = new ModelAndView();\r\n                modelAndView.addObject(&quot;id&quot;, id);\r\n                modelAndView.addObject(&quot;lastName&quot;, lastName);\r\n                modelAndView.addObject(&quot;firstName&quot;, firstName);\r\n                modelAndView.addObject(&quot;secondName&quot;, secondName);\r\n                modelAndView.addObject(&quot;phone&quot;, phone);\r\n                modelAndView.addObject(&quot;hobby&quot;, hobby);\r\n                modelAndView.addObject(&quot;bitBucketUrl&quot;, bitBucketUrl);\r\n                modelAndView.setViewName(&quot;/all.jsp&quot;);\r\n                return modelAndView;\r\n            }\r\n\r\nPage all.jsp is working (realized in method @GetMapping(&quot;/all&quot;)). \r\n\r\nI want, when the button &quot;create&quot; is pushed, go to page &quot;/all&quot;, where I can see a new Person. But I take an error &quot;Request method &#39;POST&#39; not supported&quot; in the terminal, and error &quot;type=Method Not Allowed, status=405&quot; in the browser.\r\n\r\nAlso I create default page index.jsp, and try modelAndView.setViewName(&quot;/index.jsp&quot;) in @PostMapping method, but unfortunately, even in this case, when I push &quot;create&quot; browser don&#39;t go to index.jsp ","title":"&quot;Request method &#39;POST&#39; not supported&quot; when I try to save Person due to &lt;form method=&quot;POST&quot;&gt;","body":"<p>Controller methods where can be mistaken:</p>\n<p>Here I go to URL &quot;/create&quot; with &lt;form method=&quot;POST&gt;</p>\n<pre><code>@GetMapping(&quot;/create&quot;)\n    public ModelAndView create() {\n\n        ModelAndView modelAndView = new ModelAndView();\n        modelAndView.setViewName(&quot;/create.jsp&quot;);\n        return modelAndView;\n    }\n</code></pre>\n<p>This is create.jsp</p>\n<pre><code>&lt;%@ page isELIgnored=&quot;false&quot;%&gt;\n&lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot; %&gt;\n\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Create&lt;/title&gt;\n&lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Create author&lt;/h1&gt;\n        &lt;form method=&quot;POST&quot; action=&quot;&quot;&gt;\n            Id &lt;input name=&quot;userId&quot;&gt; &lt;br&gt;\n            Last name: &lt;input name=&quot;lastName&quot;&gt; &lt;br&gt;\n            First name: &lt;input name=&quot;firstName&quot;&gt; &lt;br&gt;\n            Second name: &lt;input name=&quot;secondName&quot;&gt; &lt;br&gt;\n            Phone: &lt;input name=&quot;phone&quot;&gt; &lt;br&gt;\n            Hobby: &lt;input name=&quot;hobby&quot;&gt; &lt;br&gt;\n            BitBucketUrl: &lt;input name=&quot;bitBucketUrl&quot;&gt; &lt;br&gt;\n            &lt;input type=&quot;submit&quot; value=&quot;Create&quot;&gt;\n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>And finally @Postmapping method</p>\n<pre><code>    @PostMapping\n    public ModelAndView createPerson(\n    @RequestParam(&quot;id&quot;) String id,\n    @RequestParam(&quot;lastName&quot;) String lastName, \n    @RequestParam(&quot;firstName&quot;) String firstName, \n    @RequestParam(&quot;secondName&quot;) String secondName, \n    @RequestParam(&quot;phone&quot;) String phone, \n    @RequestParam(&quot;hobby&quot;) String hobby, \n    @RequestParam(&quot;bitBucketUrl&quot;) String bitBucketUrl) {\n    \n            personCache.create(Person.builder()\n                    .setId(id)\n                    .setFirstName(firstName)\n                    .setLastName(lastName)\n                    .setSecondName(secondName)\n                    .setPhone(phone)\n                    .setHobby(hobby)\n                    .setBitBucketUrl(bitBucketUrl)\n                    .build());\n    \n            ModelAndView modelAndView = new ModelAndView();\n            modelAndView.addObject(&quot;id&quot;, id);\n            modelAndView.addObject(&quot;lastName&quot;, lastName);\n            modelAndView.addObject(&quot;firstName&quot;, firstName);\n            modelAndView.addObject(&quot;secondName&quot;, secondName);\n            modelAndView.addObject(&quot;phone&quot;, phone);\n            modelAndView.addObject(&quot;hobby&quot;, hobby);\n            modelAndView.addObject(&quot;bitBucketUrl&quot;, bitBucketUrl);\n            modelAndView.setViewName(&quot;/all.jsp&quot;);\n            return modelAndView;\n        }\n</code></pre>\n<p>Page all.jsp is working (realized in method @GetMapping(&quot;/all&quot;)).</p>\n<p>I want, when the button &quot;create&quot; is pushed, go to page &quot;/all&quot;, where I can see a new Person. But I take an error &quot;Request method 'POST' not supported&quot; in the terminal, and error &quot;type=Method Not Allowed, status=405&quot; in the browser.</p>\n<p>Also I create default page index.jsp, and try modelAndView.setViewName(&quot;/index.jsp&quot;) in @PostMapping method, but unfortunately, even in this case, when I push &quot;create&quot; browser don't go to index.jsp</p>\n"},{"tags":["java","algorithm","big-o","time-complexity"],"comments":[{"owner":{"account_id":141726,"reputation":10745,"user_id":348975,"accept_rate":86,"display_name":"emory"},"score":0,"creation_date":1333218899,"post_id":9958299,"comment_id":12718783,"body_markdown":"&quot;Time Complexity&quot; usually means worst case time complexity.  This problem has been proven impossible.","body":"&quot;Time Complexity&quot; usually means worst case time complexity.  This problem has been proven impossible."},{"owner":{"account_id":1140670,"reputation":1619,"user_id":1124682,"accept_rate":93,"display_name":"aretai"},"score":0,"creation_date":1333219134,"post_id":9958299,"comment_id":12718826,"body_markdown":"I meant (big-O) complexity.  Will edit the post as well.","body":"I meant (big-O) complexity.  Will edit the post as well."},{"owner":{"account_id":60527,"reputation":20811,"user_id":180740,"display_name":"Philipp Reichart"},"score":0,"creation_date":1333219619,"post_id":9958299,"comment_id":12718927,"body_markdown":"If you want to count distinct digits in a number, that code definitely isn&#39;t an optimal solution both in time and space.","body":"If you want to count distinct digits in a number, that code definitely isn&#39;t an optimal solution both in time and space."},{"owner":{"account_id":1140670,"reputation":1619,"user_id":1124682,"accept_rate":93,"display_name":"aretai"},"score":0,"creation_date":1333219822,"post_id":9958299,"comment_id":12718971,"body_markdown":"how would you improve it Philipp?  What places should be corrected?","body":"how would you improve it Philipp?  What places should be corrected?"},{"owner":{"account_id":60527,"reputation":20811,"user_id":180740,"display_name":"Philipp Reichart"},"score":0,"creation_date":1333220175,"post_id":9958299,"comment_id":12719034,"body_markdown":"There&#39;s no specific places, it&#39;s the whole approach: There&#39;s no need for strings, regular expressions and sets. Just some arithmetic (mod, div) and a single loop. The result would run in O(n) time and O(1) space, with n = number of digits in the input. Give me some minutes for the code.","body":"There&#39;s no specific places, it&#39;s the whole approach: There&#39;s no need for strings, regular expressions and sets. Just some arithmetic (mod, div) and a single loop. The result would run in O(n) time and O(1) space, with n = number of digits in the input. Give me some minutes for the code."},{"owner":{"account_id":297024,"reputation":25001,"user_id":602323,"accept_rate":80,"display_name":"Kevin"},"score":1,"creation_date":1333220285,"post_id":9958299,"comment_id":12719051,"body_markdown":"@PhilippReichart: also the intent would be more obvious(!)","body":"@PhilippReichart: also the intent would be more obvious(!)"}],"answers":[{"tags":[],"owner":{"account_id":235018,"reputation":364834,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1642812921,"creation_date":1333219362,"answer_id":9958644,"question_id":9958299,"body_markdown":"As @emory pointed out, it is provably impossible to determine the big-O time complexity of an arbitrary piece of code automatically (the proof is a reduction from the [halting problem][1]).  However, there are tools that can attempt to measure the complexity of a piece of code empirically by running it on several different inputs.  One such tool is described in the paper “Measuring Empirical Computational Complexity” by Goldsmith, Aiken, and Wilkerson. It works by attempting to do a regression on the program&#39;s runtime versus its input size.  The tool, called **trend-prof**, has been discontinued, but is [archived here][3] for reference.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Halting_problem\r\n  [2]: http://www.stanford.edu/class/cs295/papers/trend-prof.pdf\r\n  [3]: https://web.archive.org/web/20090417000359/http://trend-prof.tigris.org/","title":"A tool for calculating the big-O time complexity of Java code?","body":"<p>As @emory pointed out, it is provably impossible to determine the big-O time complexity of an arbitrary piece of code automatically (the proof is a reduction from the <a href=\"http://en.wikipedia.org/wiki/Halting_problem\" rel=\"nofollow noreferrer\">halting problem</a>).  However, there are tools that can attempt to measure the complexity of a piece of code empirically by running it on several different inputs.  One such tool is described in the paper “Measuring Empirical Computational Complexity” by Goldsmith, Aiken, and Wilkerson. It works by attempting to do a regression on the program's runtime versus its input size.  The tool, called <strong>trend-prof</strong>, has been discontinued, but is <a href=\"https://web.archive.org/web/20090417000359/http://trend-prof.tigris.org/\" rel=\"nofollow noreferrer\">archived here</a> for reference.</p>\n"},{"tags":[],"owner":{"account_id":60527,"reputation":20811,"user_id":180740,"display_name":"Philipp Reichart"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1333220749,"creation_date":1333220749,"answer_id":9958802,"question_id":9958299,"body_markdown":"I might be solving someone&#39;s homework, but the question was begging for a sane solution...\r\n\r\nCounting distinct digits in a number requires no strings, sets or regular expressions, just some simple arithmetics.\r\n\r\nThe following method runs in O(n) time (n = number of digits in the input) and constant space:\r\n\r\n    int distinctDigits(int num) {\r\n      if (num == 0) {\r\n        return 1;\r\n      }\r\n    \r\n      boolean[] digits = new boolean[10];\r\n    \r\n      while (num &gt; 0) {\r\n        digits[num % 10] = true;\r\n        num /= 10;\r\n      }\r\n    \r\n      int count = 0;\r\n      for (boolean digit : digits) {\r\n        if (digit) {\r\n          count++;\r\n        }\r\n      }\r\n    \r\n      return count;\r\n    }\r\n\r\nMaking this work for negative numbers is left as an exericse to the reader ;)","title":"A tool for calculating the big-O time complexity of Java code?","body":"<p>I might be solving someone's homework, but the question was begging for a sane solution...</p>\n\n<p>Counting distinct digits in a number requires no strings, sets or regular expressions, just some simple arithmetics.</p>\n\n<p>The following method runs in O(n) time (n = number of digits in the input) and constant space:</p>\n\n<pre><code>int distinctDigits(int num) {\n  if (num == 0) {\n    return 1;\n  }\n\n  boolean[] digits = new boolean[10];\n\n  while (num &gt; 0) {\n    digits[num % 10] = true;\n    num /= 10;\n  }\n\n  int count = 0;\n  for (boolean digit : digits) {\n    if (digit) {\n      count++;\n    }\n  }\n\n  return count;\n}\n</code></pre>\n\n<p>Making this work for negative numbers is left as an exericse to the reader ;)</p>\n"}],"owner":{"account_id":1140670,"reputation":1619,"user_id":1124682,"accept_rate":93,"display_name":"aretai"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65349,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"closed_date":1637580803,"accepted_answer_id":9958644,"answer_count":2,"score":19,"last_activity_date":1642812921,"creation_date":1333216712,"question_id":9958299,"body_markdown":"I have a question regarding time complexity (big O notation) for Java software.  Is there a way to quickly calculate or test it (or any website that could calculate it for me would be welcomed).  For example I would like to check it for the following snippet of code and possibly improve as well:\r\n\r\n```java\r\nint dcount = 24423567;\r\nint a = 0;\r\nif (dcount == 0){\r\n\ta = 1;\r\n}\r\n\r\nString ds = Integer.toString(dcount);\r\nString[] sa = ds.split(&quot;(?&lt;=.)&quot;);\r\nHashSet hs = new HashSet();\r\nCollections.addAll(hs, sa);\r\na = hs.size();\r\nif (dcount &lt; 0)\r\n\ta--;\r\n\r\nSystem.out.println(a);\r\n```","title":"A tool for calculating the big-O time complexity of Java code?","body":"<p>I have a question regarding time complexity (big O notation) for Java software.  Is there a way to quickly calculate or test it (or any website that could calculate it for me would be welcomed).  For example I would like to check it for the following snippet of code and possibly improve as well:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>int dcount = 24423567;\nint a = 0;\nif (dcount == 0){\n    a = 1;\n}\n\nString ds = Integer.toString(dcount);\nString[] sa = ds.split(\"(?&lt;=.)\");\nHashSet hs = new HashSet();\nCollections.addAll(hs, sa);\na = hs.size();\nif (dcount &lt; 0)\n    a--;\n\nSystem.out.println(a);\n</code></pre>\n"},{"tags":["java","game-development","swingx"],"comments":[{"owner":{"account_id":486952,"reputation":271,"user_id":2104705,"display_name":"Wojciech Domalewski"},"score":0,"creation_date":1642804917,"post_id":70808239,"comment_id":125178514,"body_markdown":"It runs smoothly on my computer.","body":"It runs smoothly on my computer."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1642805792,"post_id":70808239,"comment_id":125178699,"body_markdown":"I get a pretty constant 13 fps (75/1000 = 13)","body":"I get a pretty constant 13 fps (75/1000 = 13)"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1642806514,"post_id":70808239,"comment_id":125178916,"body_markdown":"You might also want to consider something like [this](https://stackoverflow.com/questions/14886232/swing-animation-running-extremely-slow/14902184#14902184) example - short lived objects will kill performance.  Cache everything you can.  I noted, for example, that `drawView` is basically drawing a simple grid.  This could be render to a `BufferedImage` and then simple repainted every pass, this &quot;might&quot; help","body":"You might also want to consider something like <a href=\"https://stackoverflow.com/questions/14886232/swing-animation-running-extremely-slow/14902184#14902184\">this</a> example - short lived objects will kill performance.  Cache everything you can.  I noted, for example, that <code>drawView</code> is basically drawing a simple grid.  This could be render to a <code>BufferedImage</code> and then simple repainted every pass, this &quot;might&quot; help"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1642806569,"post_id":70808239,"comment_id":125178927,"body_markdown":"I&#39;d also consider using [Key Bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html) over `KeyListener`, as I can issues with your input workflows","body":"I&#39;d also consider using <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">Key Bindings</a> over <code>KeyListener</code>, as I can issues with your input workflows"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1642823433,"post_id":70808239,"comment_id":125181133,"body_markdown":"It seems like you used a similar tutorial as this [Stack Overflow question](https://stackoverflow.com/questions/70701646/snake-game-in-java-but-my-restart-button-does-not-work/70711365#70711365).  See if my answer helps you.","body":"It seems like you used a similar tutorial as this <a href=\"https://stackoverflow.com/questions/70701646/snake-game-in-java-but-my-restart-button-does-not-work/70711365#70711365\">Stack Overflow question</a>.  See if my answer helps you."}],"owner":{"account_id":17905360,"reputation":73,"user_id":13064888,"display_name":"BeChris 100"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642863743,"answer_count":0,"score":0,"last_activity_date":1642810740,"creation_date":1642803656,"question_id":70808239,"body_markdown":"Let me brief up the performance issue on how I would explain about gaming: When the game starts up, it starts normally at a good performance. No issues. After a few seconds, it slows down the performance, as it would go at around 10 to 30 FPS, but if I hold the corresponding Arrow / WASD Key that the snake runs into that given direction, then it runs like it would run smoothly. Tried to comment out the code that may impact the performance (every method, including &lt;code&gt;move(Graphics graphics)&lt;/code&gt;), but to no avail. I even commented out the Key Listener, so I could check if there was any problem. The performance issue still persists.\r\n\r\nI tried including Game Threads or other workers to at least bypass this performance issue. If my code is correct, then it was definitely something from my OS performance, although I even checked it with &quot;System Monitor&quot; since I am dual-booting Linux (Ubuntu) and Windows 11. No memory or CPU draining. The &lt;code&gt;java&lt;/code&gt; process was at around 50-70 MB and used only 1% of my CPU usage. I checked the Main Class and the Window class, but there was nothing that impacted the performance. If the code is too big in one class file, then how should I reduce the class file size? All other classes will be made later on, but I had to make at least the sample level for it.\r\n\r\nLeaving the code in case someone needs to check out:\r\n\r\n    public class GamePanel extends JPanel implements ActionListener {\r\n\r\n    private static final int SCREEN_WIDTH = 800, SCREEN_HEIGHT = 800;\r\n\r\n    private static final int UNIT_SIZE = 25;\r\n    private static final int GAME_UNITS = (SCREEN_WIDTH * SCREEN_HEIGHT) / UNIT_SIZE;\r\n\r\n    private static final int DELAY = 75;\r\n\r\n    private int[] x = new int[GAME_UNITS];\r\n    private int[] y = new int[GAME_UNITS];\r\n\r\n    private int bodyParts = 1;\r\n    private int score = 0;\r\n    private int appleX = 0, appleY = 0;\r\n    private char direction = &#39;R&#39;;\r\n    private boolean gameRunning = false;\r\n\r\n    private final Random random;\r\n    private Timer timer;\r\n\r\n    public GamePanel() {\r\n        random = new Random();\r\n\r\n        setPreferredSize(new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT));\r\n        setBackground(Color.BLACK);\r\n        setFocusable(true);\r\n        addKeyListener(new KeyPressAdapter());\r\n\r\n        startGame();\r\n    }\r\n\r\n    public void startGame() {\r\n        createApple();\r\n\r\n        gameRunning = true;\r\n\r\n        timer = new Timer(DELAY, this);\r\n        timer.start();\r\n    }\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        draw(g);\r\n    }\r\n\r\n    // render the grid view\r\n    private void gridView(Graphics graphics) {\r\n        for (int i = 0; i &lt; SCREEN_HEIGHT / UNIT_SIZE; i++) {\r\n            graphics.drawLine(i * UNIT_SIZE, 0, i * UNIT_SIZE, SCREEN_HEIGHT);\r\n            graphics.drawLine(0, i * UNIT_SIZE, SCREEN_WIDTH, i * UNIT_SIZE);\r\n        }\r\n    }\r\n\r\n    // draws game onto the window\r\n    public void draw(Graphics graphics) {\r\n        if (gameRunning) {\r\n            gridView(graphics);\r\n\r\n            graphics.setColor(Color.RED);\r\n            graphics.fillRect(appleX, appleY, UNIT_SIZE, UNIT_SIZE);\r\n\r\n            for (int i = 0; i &lt; bodyParts; i++) {\r\n                if (i == 0)\r\n                    graphics.setColor(Color.GREEN);\r\n                else\r\n                    graphics.setColor(Color.WHITE);\r\n\r\n                graphics.fillRect(x[i], y[i], UNIT_SIZE, UNIT_SIZE);\r\n            }\r\n\r\n            graphics.setColor(Color.CYAN);\r\n            graphics.setFont(new Font(Font.SERIF, Font.PLAIN, 32));\r\n            FontMetrics fontMetrics = getFontMetrics(graphics.getFont());\r\n            graphics.drawString(&quot;Score: &quot; + score, (SCREEN_WIDTH - fontMetrics.stringWidth(&quot;Score: &quot; + score)) / 2, graphics.getFont().getSize());\r\n        } else\r\n            _GameOverScreen_(graphics);\r\n    }\r\n\r\n    // creates a new apple\r\n    public void createApple() {\r\n        appleX = random.nextInt(SCREEN_WIDTH / UNIT_SIZE) * UNIT_SIZE;\r\n        appleY = random.nextInt(SCREEN_HEIGHT / UNIT_SIZE) * UNIT_SIZE;\r\n    }\r\n\r\n    // moves the player\r\n    public void move() {\r\n        for (int i = bodyParts; i &gt; 0; i--) {\r\n            x[i] = x[i - 1];\r\n            y[i] = y[i - 1];\r\n        }\r\n\r\n        switch (direction) {\r\n            // case for &quot;up&quot;\r\n            case &#39;U&#39; -&gt; y[0] = y[0] - UNIT_SIZE;\r\n\r\n            // case for &quot;left&quot;\r\n            case &#39;L&#39; -&gt; x[0] = x[0] - UNIT_SIZE;\r\n\r\n            // case for &quot;right&quot;\r\n            case &#39;R&#39; -&gt; x[0] = x[0] + UNIT_SIZE;\r\n\r\n            // case for &quot;down&quot;\r\n            case &#39;D&#39; -&gt; y[0] = y[0] + UNIT_SIZE;\r\n        }\r\n    }\r\n\r\n    public void appleCheck() {\r\n        if (x[0] == appleX &amp;&amp; y[0] == appleY) {\r\n            bodyParts++;\r\n            score++;\r\n\r\n            createApple();\r\n        }\r\n    }\r\n\r\n    public void collisionCheck() {\r\n        // body collision checker\r\n        for (int i = bodyParts; i &gt; 0; i--) {\r\n            if (x[0] == x[i] &amp;&amp; y[0] == y[i]) {\r\n                gameRunning = false;\r\n                break;\r\n            }\r\n        }\r\n\r\n        // border collision detect\r\n        if (x[0] &lt; 0)\r\n            gameRunning = false;\r\n        if (x[0] &gt; SCREEN_WIDTH)\r\n            gameRunning = false;\r\n        if (y[0] &lt; 0)\r\n            gameRunning = false;\r\n        if (y[0] &gt; SCREEN_HEIGHT)\r\n            gameRunning = false;\r\n\r\n        if (!gameRunning)\r\n            timer.stop();\r\n    }\r\n\r\n    private void _GameOverScreen_(Graphics graphics) {\r\n        String contentTitle = &quot;! GAME OVER !&quot;;\r\n        String contentText = &quot;Press R to restart&quot;;\r\n        String contentScore = &quot;Reached score: &quot; + score;\r\n\r\n        graphics.setColor(Color.RED);\r\n        graphics.setFont(new Font(Font.SERIF, Font.BOLD, 75));\r\n        FontMetrics metricsTitle = getFontMetrics(graphics.getFont());\r\n        graphics.drawString(contentTitle, (SCREEN_WIDTH - metricsTitle.stringWidth(contentTitle)) / 2, (SCREEN_HEIGHT / 2) - 110);\r\n\r\n        graphics.setColor(Color.DARK_GRAY);\r\n        graphics.setFont(new Font(Font.SERIF, Font.PLAIN, 40));\r\n        FontMetrics metricsText = getFontMetrics(graphics.getFont());\r\n        graphics.drawString(contentText, (SCREEN_WIDTH - metricsText.stringWidth(contentText)) / 2, (SCREEN_HEIGHT / 2) - 60);\r\n\r\n        graphics.setColor(Color.GREEN);\r\n        graphics.setFont(new Font(Font.SERIF, Font.PLAIN, 40));\r\n        FontMetrics metricsScore = getFontMetrics(graphics.getFont());\r\n        graphics.drawString(contentScore, (SCREEN_WIDTH - metricsScore.stringWidth(contentScore)) / 2, (SCREEN_HEIGHT / 2) + 70);\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent actionEvent) {\r\n        if (gameRunning) {\r\n            move();\r\n            appleCheck();\r\n            collisionCheck();\r\n        }\r\n\r\n        repaint();\r\n    }\r\n\r\n    public class KeyPressAdapter extends KeyAdapter {\r\n        @Override\r\n        public void keyPressed(KeyEvent e) {\r\n            super.keyPressed(e);\r\n\r\n            switch (e.getKeyCode()) {\r\n                case KeyEvent.VK_LEFT, KeyEvent.VK_A -&gt; {\r\n                    if (direction != &#39;R&#39;)\r\n                        direction = &#39;L&#39;;\r\n                }\r\n                case KeyEvent.VK_UP, KeyEvent.VK_W -&gt; {\r\n                    if (direction != &#39;D&#39;)\r\n                        direction = &#39;U&#39;;\r\n                }\r\n                case KeyEvent.VK_DOWN, KeyEvent.VK_S -&gt; {\r\n                    if (direction != &#39;U&#39;)\r\n                        direction = &#39;D&#39;;\r\n                }\r\n                case KeyEvent.VK_RIGHT, KeyEvent.VK_D -&gt; {\r\n                    if (direction != &#39;L&#39;)\r\n                        direction = &#39;R&#39;;\r\n                }\r\n                case KeyEvent.VK_Q -&gt; System.exit(0);\r\n                case KeyEvent.VK_R -&gt; {\r\n                    score = 0;\r\n                    bodyParts = 1;\r\n\r\n                    x = new int[GAME_UNITS];\r\n                    y = new int[GAME_UNITS];\r\n\r\n                    x[0] = 0;\r\n                    y[0] = 0;\r\n\r\n                    direction = &#39;R&#39;;\r\n\r\n                    createApple();\r\n\r\n                    if (!gameRunning) {\r\n                        gameRunning = true;\r\n                        timer.start();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n}","title":"Performance Issues on a Swing GUI Game","body":"<p>Let me brief up the performance issue on how I would explain about gaming: When the game starts up, it starts normally at a good performance. No issues. After a few seconds, it slows down the performance, as it would go at around 10 to 30 FPS, but if I hold the corresponding Arrow / WASD Key that the snake runs into that given direction, then it runs like it would run smoothly. Tried to comment out the code that may impact the performance (every method, including <code>move(Graphics graphics)</code>), but to no avail. I even commented out the Key Listener, so I could check if there was any problem. The performance issue still persists.</p>\n<p>I tried including Game Threads or other workers to at least bypass this performance issue. If my code is correct, then it was definitely something from my OS performance, although I even checked it with &quot;System Monitor&quot; since I am dual-booting Linux (Ubuntu) and Windows 11. No memory or CPU draining. The <code>java</code> process was at around 50-70 MB and used only 1% of my CPU usage. I checked the Main Class and the Window class, but there was nothing that impacted the performance. If the code is too big in one class file, then how should I reduce the class file size? All other classes will be made later on, but I had to make at least the sample level for it.</p>\n<p>Leaving the code in case someone needs to check out:</p>\n<pre><code>public class GamePanel extends JPanel implements ActionListener {\n\nprivate static final int SCREEN_WIDTH = 800, SCREEN_HEIGHT = 800;\n\nprivate static final int UNIT_SIZE = 25;\nprivate static final int GAME_UNITS = (SCREEN_WIDTH * SCREEN_HEIGHT) / UNIT_SIZE;\n\nprivate static final int DELAY = 75;\n\nprivate int[] x = new int[GAME_UNITS];\nprivate int[] y = new int[GAME_UNITS];\n\nprivate int bodyParts = 1;\nprivate int score = 0;\nprivate int appleX = 0, appleY = 0;\nprivate char direction = 'R';\nprivate boolean gameRunning = false;\n\nprivate final Random random;\nprivate Timer timer;\n\npublic GamePanel() {\n    random = new Random();\n\n    setPreferredSize(new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT));\n    setBackground(Color.BLACK);\n    setFocusable(true);\n    addKeyListener(new KeyPressAdapter());\n\n    startGame();\n}\n\npublic void startGame() {\n    createApple();\n\n    gameRunning = true;\n\n    timer = new Timer(DELAY, this);\n    timer.start();\n}\n\n@Override\nprotected void paintComponent(Graphics g) {\n    super.paintComponent(g);\n    draw(g);\n}\n\n// render the grid view\nprivate void gridView(Graphics graphics) {\n    for (int i = 0; i &lt; SCREEN_HEIGHT / UNIT_SIZE; i++) {\n        graphics.drawLine(i * UNIT_SIZE, 0, i * UNIT_SIZE, SCREEN_HEIGHT);\n        graphics.drawLine(0, i * UNIT_SIZE, SCREEN_WIDTH, i * UNIT_SIZE);\n    }\n}\n\n// draws game onto the window\npublic void draw(Graphics graphics) {\n    if (gameRunning) {\n        gridView(graphics);\n\n        graphics.setColor(Color.RED);\n        graphics.fillRect(appleX, appleY, UNIT_SIZE, UNIT_SIZE);\n\n        for (int i = 0; i &lt; bodyParts; i++) {\n            if (i == 0)\n                graphics.setColor(Color.GREEN);\n            else\n                graphics.setColor(Color.WHITE);\n\n            graphics.fillRect(x[i], y[i], UNIT_SIZE, UNIT_SIZE);\n        }\n\n        graphics.setColor(Color.CYAN);\n        graphics.setFont(new Font(Font.SERIF, Font.PLAIN, 32));\n        FontMetrics fontMetrics = getFontMetrics(graphics.getFont());\n        graphics.drawString(&quot;Score: &quot; + score, (SCREEN_WIDTH - fontMetrics.stringWidth(&quot;Score: &quot; + score)) / 2, graphics.getFont().getSize());\n    } else\n        _GameOverScreen_(graphics);\n}\n\n// creates a new apple\npublic void createApple() {\n    appleX = random.nextInt(SCREEN_WIDTH / UNIT_SIZE) * UNIT_SIZE;\n    appleY = random.nextInt(SCREEN_HEIGHT / UNIT_SIZE) * UNIT_SIZE;\n}\n\n// moves the player\npublic void move() {\n    for (int i = bodyParts; i &gt; 0; i--) {\n        x[i] = x[i - 1];\n        y[i] = y[i - 1];\n    }\n\n    switch (direction) {\n        // case for &quot;up&quot;\n        case 'U' -&gt; y[0] = y[0] - UNIT_SIZE;\n\n        // case for &quot;left&quot;\n        case 'L' -&gt; x[0] = x[0] - UNIT_SIZE;\n\n        // case for &quot;right&quot;\n        case 'R' -&gt; x[0] = x[0] + UNIT_SIZE;\n\n        // case for &quot;down&quot;\n        case 'D' -&gt; y[0] = y[0] + UNIT_SIZE;\n    }\n}\n\npublic void appleCheck() {\n    if (x[0] == appleX &amp;&amp; y[0] == appleY) {\n        bodyParts++;\n        score++;\n\n        createApple();\n    }\n}\n\npublic void collisionCheck() {\n    // body collision checker\n    for (int i = bodyParts; i &gt; 0; i--) {\n        if (x[0] == x[i] &amp;&amp; y[0] == y[i]) {\n            gameRunning = false;\n            break;\n        }\n    }\n\n    // border collision detect\n    if (x[0] &lt; 0)\n        gameRunning = false;\n    if (x[0] &gt; SCREEN_WIDTH)\n        gameRunning = false;\n    if (y[0] &lt; 0)\n        gameRunning = false;\n    if (y[0] &gt; SCREEN_HEIGHT)\n        gameRunning = false;\n\n    if (!gameRunning)\n        timer.stop();\n}\n\nprivate void _GameOverScreen_(Graphics graphics) {\n    String contentTitle = &quot;! GAME OVER !&quot;;\n    String contentText = &quot;Press R to restart&quot;;\n    String contentScore = &quot;Reached score: &quot; + score;\n\n    graphics.setColor(Color.RED);\n    graphics.setFont(new Font(Font.SERIF, Font.BOLD, 75));\n    FontMetrics metricsTitle = getFontMetrics(graphics.getFont());\n    graphics.drawString(contentTitle, (SCREEN_WIDTH - metricsTitle.stringWidth(contentTitle)) / 2, (SCREEN_HEIGHT / 2) - 110);\n\n    graphics.setColor(Color.DARK_GRAY);\n    graphics.setFont(new Font(Font.SERIF, Font.PLAIN, 40));\n    FontMetrics metricsText = getFontMetrics(graphics.getFont());\n    graphics.drawString(contentText, (SCREEN_WIDTH - metricsText.stringWidth(contentText)) / 2, (SCREEN_HEIGHT / 2) - 60);\n\n    graphics.setColor(Color.GREEN);\n    graphics.setFont(new Font(Font.SERIF, Font.PLAIN, 40));\n    FontMetrics metricsScore = getFontMetrics(graphics.getFont());\n    graphics.drawString(contentScore, (SCREEN_WIDTH - metricsScore.stringWidth(contentScore)) / 2, (SCREEN_HEIGHT / 2) + 70);\n}\n\n@Override\npublic void actionPerformed(ActionEvent actionEvent) {\n    if (gameRunning) {\n        move();\n        appleCheck();\n        collisionCheck();\n    }\n\n    repaint();\n}\n\npublic class KeyPressAdapter extends KeyAdapter {\n    @Override\n    public void keyPressed(KeyEvent e) {\n        super.keyPressed(e);\n\n        switch (e.getKeyCode()) {\n            case KeyEvent.VK_LEFT, KeyEvent.VK_A -&gt; {\n                if (direction != 'R')\n                    direction = 'L';\n            }\n            case KeyEvent.VK_UP, KeyEvent.VK_W -&gt; {\n                if (direction != 'D')\n                    direction = 'U';\n            }\n            case KeyEvent.VK_DOWN, KeyEvent.VK_S -&gt; {\n                if (direction != 'U')\n                    direction = 'D';\n            }\n            case KeyEvent.VK_RIGHT, KeyEvent.VK_D -&gt; {\n                if (direction != 'L')\n                    direction = 'R';\n            }\n            case KeyEvent.VK_Q -&gt; System.exit(0);\n            case KeyEvent.VK_R -&gt; {\n                score = 0;\n                bodyParts = 1;\n\n                x = new int[GAME_UNITS];\n                y = new int[GAME_UNITS];\n\n                x[0] = 0;\n                y[0] = 0;\n\n                direction = 'R';\n\n                createApple();\n\n                if (!gameRunning) {\n                    gameRunning = true;\n                    timer.start();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","performance","java-native-interface"],"comments":[{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":3,"creation_date":1318099816,"post_id":7699020,"comment_id":9361225,"body_markdown":"(+1) Nice question. While we&#39;re on the subject, I would like to encourage anyone who has done actual benchmarks to post their findings.","body":"(+1) Nice question. While we&#39;re on the subject, I would like to encourage anyone who has done actual benchmarks to post their findings."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1318100893,"post_id":7699020,"comment_id":9361359,"body_markdown":"A JNI call needs to convert the Java objects passed in to something C (for example) can understand; same with the return value. Type conversion and call stack marshalling are a good chunk of it.","body":"A JNI call needs to convert the Java objects passed in to something C (for example) can understand; same with the return value. Type conversion and call stack marshalling are a good chunk of it."},{"owner":{"account_id":8074,"reputation":44063,"user_id":14316,"accept_rate":53,"display_name":"pdeva"},"score":0,"creation_date":1318101269,"post_id":7699020,"comment_id":9361420,"body_markdown":"Dave, I understand and have heard about that before. But what *exactly* is the conversion like? what is that &#39;something&#39;? I am looking for details.","body":"Dave, I understand and have heard about that before. But what <i>exactly</i> is the conversion like? what is that &#39;something&#39;? I am looking for details."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1318101398,"post_id":7699020,"comment_id":9361442,"body_markdown":"Using direct ByteBuffers to pass data between Java and C can result in relatively low overhead.","body":"Using direct ByteBuffers to pass data between Java and C can result in relatively low overhead."},{"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"score":8,"creation_date":1318104550,"post_id":7699020,"comment_id":9361893,"body_markdown":"the call needs a proper C stack frame, pushing all useful CPU registers (and popping them back), the call needs fencing and also it prevents a lot of optimizations like inline. Also the threads has to leave the execution stack lock (for instance to allow biased locks to work while in native code) and then obtain it back.","body":"the call needs a proper C stack frame, pushing all useful CPU registers (and popping them back), the call needs fencing and also it prevents a lot of optimizations like inline. Also the threads has to leave the execution stack lock (for instance to allow biased locks to work while in native code) and then obtain it back."}],"answers":[{"tags":[],"owner":{"account_id":226776,"reputation":7811,"user_id":488004,"accept_rate":95,"display_name":"dmck"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1464863598,"creation_date":1318100738,"answer_id":7699115,"question_id":7699020,"body_markdown":"Basically the JVM interpretively constructs the C parameters for each JNI call and the code is not optimized.\r\n\r\nThere are many more details outlined in [this paper][1]\r\n\r\nIf you are interested in benchmarking JNI vs native code [this project][2] has code for running benchmarks.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20120210162557/http://janet-project.sourceforge.net/papers/jnibench.pdf\r\n  [2]: https://github.com/aclindsa/jnioverhead","title":"What makes JNI calls slow?","body":"<p>Basically the JVM interpretively constructs the C parameters for each JNI call and the code is not optimized.</p>\n\n<p>There are many more details outlined in <a href=\"https://web.archive.org/web/20120210162557/http://janet-project.sourceforge.net/papers/jnibench.pdf\" rel=\"noreferrer\">this paper</a></p>\n\n<p>If you are interested in benchmarking JNI vs native code <a href=\"https://github.com/aclindsa/jnioverhead\" rel=\"noreferrer\">this project</a> has code for running benchmarks.</p>\n"},{"tags":[],"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"down_vote_count":0,"up_vote_count":197,"is_accepted":false,"score":197,"last_activity_date":1607159540,"creation_date":1318949677,"answer_id":7809300,"question_id":7699020,"body_markdown":"First, it&#39;s worth noting that by &quot;slow,&quot; we&#39;re talking about something that can take tens of nanoseconds. For trivial native methods, in 2010 I measured calls at an average 40 ns on my Windows desktop, and 11 ns on my Mac desktop. Unless you&#39;re making *many* calls, you&#39;re not going to notice.\r\n\r\nThat said, calling a native method can be *slower* than making a normal Java method call. Causes include:\r\n\r\n * Native methods will not be inlined by the JVM. Nor will they be just-in-time compiled for this specific machine -- they&#39;re already compiled.\r\n * A Java array may be copied for access in native code, and later copied back. The cost can be linear in the size of the array. I measured JNI *copying* of a 100,000 array to average about 75 microseconds on my Windows desktop, and 82 microseconds on Mac. Fortunately, direct access may be obtained via [GetPrimitiveArrayCritical][1] or [NewDirectByteBuffer][2].\r\n * If the method is passed an object, or needs to make a callback, then the native method will likely be making its own calls to the JVM. Accessing Java fields, methods and types from the native code requires something similar to reflection. Signatures are specified in strings and queried from the JVM. This is both slow *and* error-prone.\r\n * Java Strings are objects, have length and are encoded. Accessing or creating a string may require an O(n) copy.\r\n\r\nSome additional discussion, possibly dated, can be found in &quot;Java(tm) Platform Performance: Strategies and Tactics&quot;, 2000, by Steve Wilson and Jeff Kesselman, in section &quot;9.2: Examining JNI costs&quot;. It&#39;s about a third of the way down [this page][3], provided in the comment by @Philip below.\r\n\r\nThe 2009 IBM developerWorks paper [&quot;Best practices for using the Java Native Interface&quot;][4] provides some suggestions on avoiding performance pitfalls with JNI.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/functions.html#GetPrimitiveArrayCritical_ReleasePrimitiveArrayCritical\r\n  [2]: http://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/functions.html#NewDirectByteBuffer\r\n  [3]: http://www.mastercorp.free.fr/Ing1/Cours/Java/java_lesson1/doc/Tutorial/performance/JPNativeCode_fm.htm\r\n  [4]: http://www.ibm.com/developerworks/java/library/j-jni/","title":"What makes JNI calls slow?","body":"<p>First, it's worth noting that by &quot;slow,&quot; we're talking about something that can take tens of nanoseconds. For trivial native methods, in 2010 I measured calls at an average 40 ns on my Windows desktop, and 11 ns on my Mac desktop. Unless you're making <em>many</em> calls, you're not going to notice.</p>\n<p>That said, calling a native method can be <em>slower</em> than making a normal Java method call. Causes include:</p>\n<ul>\n<li>Native methods will not be inlined by the JVM. Nor will they be just-in-time compiled for this specific machine -- they're already compiled.</li>\n<li>A Java array may be copied for access in native code, and later copied back. The cost can be linear in the size of the array. I measured JNI <em>copying</em> of a 100,000 array to average about 75 microseconds on my Windows desktop, and 82 microseconds on Mac. Fortunately, direct access may be obtained via <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/functions.html#GetPrimitiveArrayCritical_ReleasePrimitiveArrayCritical\" rel=\"noreferrer\">GetPrimitiveArrayCritical</a> or <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/functions.html#NewDirectByteBuffer\" rel=\"noreferrer\">NewDirectByteBuffer</a>.</li>\n<li>If the method is passed an object, or needs to make a callback, then the native method will likely be making its own calls to the JVM. Accessing Java fields, methods and types from the native code requires something similar to reflection. Signatures are specified in strings and queried from the JVM. This is both slow <em>and</em> error-prone.</li>\n<li>Java Strings are objects, have length and are encoded. Accessing or creating a string may require an O(n) copy.</li>\n</ul>\n<p>Some additional discussion, possibly dated, can be found in &quot;Java(tm) Platform Performance: Strategies and Tactics&quot;, 2000, by Steve Wilson and Jeff Kesselman, in section &quot;9.2: Examining JNI costs&quot;. It's about a third of the way down <a href=\"http://www.mastercorp.free.fr/Ing1/Cours/Java/java_lesson1/doc/Tutorial/performance/JPNativeCode_fm.htm\" rel=\"noreferrer\">this page</a>, provided in the comment by @Philip below.</p>\n<p>The 2009 IBM developerWorks paper <a href=\"http://www.ibm.com/developerworks/java/library/j-jni/\" rel=\"noreferrer\">&quot;Best practices for using the Java Native Interface&quot;</a> provides some suggestions on avoiding performance pitfalls with JNI.</p>\n"},{"tags":[],"owner":{"account_id":942744,"reputation":4130,"user_id":970531,"display_name":"Tema"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1416812470,"creation_date":1342348542,"answer_id":11491199,"question_id":7699020,"body_markdown":"It is worth mentioning that not all Java methods marked with `native` are &quot;slow&quot;. Some of them are [intrinsics][1] that makes them extremely fast. To check which ones are intrinsic and which ones are not, you can look for `do_intrinsic` at [vmSymbols.hpp][2].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Intrinsic_function\r\n  [2]: http://hg.openjdk.java.net/jdk8/jdk8/hotspot/file/tip/src/share/vm/classfile/vmSymbols.hpp","title":"What makes JNI calls slow?","body":"<p>It is worth mentioning that not all Java methods marked with <code>native</code> are \"slow\". Some of them are <a href=\"http://en.wikipedia.org/wiki/Intrinsic_function\" rel=\"noreferrer\">intrinsics</a> that makes them extremely fast. To check which ones are intrinsic and which ones are not, you can look for <code>do_intrinsic</code> at <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/hotspot/file/tip/src/share/vm/classfile/vmSymbols.hpp\" rel=\"noreferrer\">vmSymbols.hpp</a>.</p>\n"},{"tags":[],"owner":{"account_id":1448228,"reputation":3218,"user_id":1366016,"accept_rate":60,"display_name":"Wheezil"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1642809707,"creation_date":1642809707,"answer_id":70808883,"question_id":7699020,"body_markdown":"When talking about JNI, there are two directions: java calling C++, and C++ calling java.  Java calling C++ (or C) via the &quot;native&quot; keyword is very fast, around 50 clock cycles.  However, C++ calling Java is somewhat slow.  We do a great deal of Java/C++ integration, and my rule of thumb is 1000 clock cycles per call, so you can get around 2M calls/second.  I cannot answer your actual question of &quot;why is it slow&quot;, but I&#39;ll hazard a guess that a lot of work has to be done to transfer arguments from the native C++ stack using varargs, onto the Java stack, validate whatever conformance is needed, and vice-versa on the return value.\r\n\r\nHowever, also remember that once you make a call into a Java method from C++, if that method returns a complex data structure, you&#39;ll need to make JNI calls for all accesses into the result, as well. The same applies for converting complex C++ structure to Java.  We&#39;ve found in practice for example that it is much faster to serialize a C++ std::map&lt;string,string&gt; to JSON, hand the string across JNI, and have Java deserialize it into a Map&lt;String,String&gt;, assuming you want the entire map converted to Java.","title":"What makes JNI calls slow?","body":"<p>When talking about JNI, there are two directions: java calling C++, and C++ calling java.  Java calling C++ (or C) via the &quot;native&quot; keyword is very fast, around 50 clock cycles.  However, C++ calling Java is somewhat slow.  We do a great deal of Java/C++ integration, and my rule of thumb is 1000 clock cycles per call, so you can get around 2M calls/second.  I cannot answer your actual question of &quot;why is it slow&quot;, but I'll hazard a guess that a lot of work has to be done to transfer arguments from the native C++ stack using varargs, onto the Java stack, validate whatever conformance is needed, and vice-versa on the return value.</p>\n<p>However, also remember that once you make a call into a Java method from C++, if that method returns a complex data structure, you'll need to make JNI calls for all accesses into the result, as well. The same applies for converting complex C++ structure to Java.  We've found in practice for example that it is much faster to serialize a C++ std::map&lt;string,string&gt; to JSON, hand the string across JNI, and have Java deserialize it into a Map&lt;String,String&gt;, assuming you want the entire map converted to Java.</p>\n"}],"owner":{"account_id":8074,"reputation":44063,"user_id":14316,"accept_rate":53,"display_name":"pdeva"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51468,"favorite_count":0,"down_vote_count":0,"up_vote_count":217,"answer_count":4,"score":217,"last_activity_date":1642809707,"creation_date":1318099582,"question_id":7699020,"body_markdown":"I know that &#39;crossing boundaries&#39; when making a JNI call in Java is slow.\r\n\r\nHowever I want to know *what* is it that makes it slow?\r\nWhat does the underlying jvm implementation do when making a JNI call that makes it so slow?","title":"What makes JNI calls slow?","body":"<p>I know that 'crossing boundaries' when making a JNI call in Java is slow.</p>\n\n<p>However I want to know <em>what</em> is it that makes it slow?\nWhat does the underlying jvm implementation do when making a JNI call that makes it so slow?</p>\n"},{"tags":["java","android","android-permissions","foreground-service"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1556537570,"creation_date":1556537570,"answer_id":55902477,"question_id":55902114,"body_markdown":"`FOREGROUND_SERVICE` is not a `dangerous` permission. Hence, it has nothing to do with the runtime permission system and methods like `checkSelfPermission()`.\r\n","title":"checking if FOREGROUND_SERVICE permission is granted allways returns false","body":"<p><code>FOREGROUND_SERVICE</code> is not a <code>dangerous</code> permission. Hence, it has nothing to do with the runtime permission system and methods like <code>checkSelfPermission()</code>.</p>\n"},{"tags":[],"owner":{"account_id":2091023,"reputation":2866,"user_id":1860868,"accept_rate":36,"display_name":"Derek K"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1556538068,"creation_date":1556538068,"answer_id":55902610,"question_id":55902114,"body_markdown":"This is failing because you probably run it on device with API &lt; 28. This method field works only on API 28 and up. If you write as you should `Manifest.permission.FOREGROUND_SERVICE` instead of plain string, Android Studio will warn you.","title":"checking if FOREGROUND_SERVICE permission is granted allways returns false","body":"<p>This is failing because you probably run it on device with API &lt; 28. This method field works only on API 28 and up. If you write as you should <code>Manifest.permission.FOREGROUND_SERVICE</code> instead of plain string, Android Studio will warn you.</p>\n"}],"owner":{"account_id":4286100,"reputation":4815,"user_id":3503855,"accept_rate":100,"display_name":"Anis LOUNIS aka AnixPasBesoin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4721,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":55902610,"answer_count":2,"score":2,"last_activity_date":1642808462,"creation_date":1556536221,"question_id":55902114,"body_markdown":"Having followed the migration notes and added the following line to the manifest :\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot;/&gt;\r\n\r\n\r\nI could not figure out why I am getting a failing test case where the permission `android.permission.FOREGROUND_SERVICE` is not being granted (at least when it&#39;s being checked on run-time).\r\n\r\nBased on the [docs][1], which states that `android.permission.FOREGROUND_SERVICE`should be automatically granted by the system.\r\n\r\n&gt; apps wanting to use foreground services must now request the\r\n&gt; FOREGROUND_SERVICE permission first. This is a normal permission, so\r\n&gt; the system automatically grants it to the requesting app.\r\n\r\nCan somebody explain why my test case (which uses a variant of the the following code) is failing?\r\n\r\n    assertEquals(ActivityCompat.checkSelfPermission(activity, &quot;android.permission.FOREGROUND_SERVICE&quot;), PackageManager.PERMISSION_GRANTED);\r\n\r\n**Yet!** I am not having any `SecurityException` thrown. What am I missing?\r\n\r\n  [1]: https://developer.android.com/about/versions/pie/android-9.0-migration#tya","title":"checking if FOREGROUND_SERVICE permission is granted allways returns false","body":"<p>Having followed the migration notes and added the following line to the manifest :</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot;/&gt;\n</code></pre>\n<p>I could not figure out why I am getting a failing test case where the permission <code>android.permission.FOREGROUND_SERVICE</code> is not being granted (at least when it's being checked on run-time).</p>\n<p>Based on the <a href=\"https://developer.android.com/about/versions/pie/android-9.0-migration#tya\" rel=\"nofollow noreferrer\">docs</a>, which states that <code>android.permission.FOREGROUND_SERVICE</code>should be automatically granted by the system.</p>\n<blockquote>\n<p>apps wanting to use foreground services must now request the\nFOREGROUND_SERVICE permission first. This is a normal permission, so\nthe system automatically grants it to the requesting app.</p>\n</blockquote>\n<p>Can somebody explain why my test case (which uses a variant of the the following code) is failing?</p>\n<pre><code>assertEquals(ActivityCompat.checkSelfPermission(activity, &quot;android.permission.FOREGROUND_SERVICE&quot;), PackageManager.PERMISSION_GRANTED);\n</code></pre>\n<p><strong>Yet!</strong> I am not having any <code>SecurityException</code> thrown. What am I missing?</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":8835635,"reputation":1014,"user_id":6600056,"display_name":"Rob "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642786808,"creation_date":1642786808,"answer_id":70805444,"question_id":70805317,"body_markdown":"You can just set OnClickListener in your fragment code like this\r\n\r\n    someBtn.setOnClickListener(new OnClickListener(){\r\n        // call the method you want to be excecuted when the buttun is being pressed\r\n    })\r\n\r\n\r\nalso you can specify it in the design, but for example I would prefer to work with the XML code directly - it&#39;s much more understantable for me","title":"How to get the onClick function?","body":"<p>You can just set OnClickListener in your fragment code like this</p>\n<pre><code>someBtn.setOnClickListener(new OnClickListener(){\n    // call the method you want to be excecuted when the buttun is being pressed\n})\n</code></pre>\n<p>also you can specify it in the design, but for example I would prefer to work with the XML code directly - it's much more understantable for me</p>\n"},{"tags":[],"owner":{"account_id":22978237,"reputation":486,"user_id":17105581,"display_name":"ferrouskid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642786830,"creation_date":1642786830,"answer_id":70805452,"question_id":70805317,"body_markdown":"To use `findViewById` I think all you need is a `View` object, which is returned by `onCreateView`, so you could just do: \r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_scientific_calculator, container, false);\r\n        Button btn = view.findViewById(R.id.yourButtonId); \r\n        btn.setOnClickListener((View v) -&gt; {\r\n            // do something here\r\n        });\r\n    }","title":"How to get the onClick function?","body":"<p>To use <code>findViewById</code> I think all you need is a <code>View</code> object, which is returned by <code>onCreateView</code>, so you could just do:</p>\n<pre><code>@Nullable\n@Override\npublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n    View view = inflater.inflate(R.layout.fragment_scientific_calculator, container, false);\n    Button btn = view.findViewById(R.id.yourButtonId); \n    btn.setOnClickListener((View v) -&gt; {\n        // do something here\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642808403,"creation_date":1642807636,"answer_id":70808682,"question_id":70805317,"body_markdown":"You can do this in `onViewCreated` with the view that is passed in by getting the button and setting a click listener on it like this:\r\n\r\n```java\r\n@Override\r\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n    super.onViewCreated(view, savedInstanceState);\r\n\r\n    //...\r\n\r\n    Button myButton = view.findViewById(R.id.myButton);\r\n    myButton.setOnClickListener((View v) -&gt; {\r\n        // do button stuff\r\n    });\r\n}\r\n```","title":"How to get the onClick function?","body":"<p>You can do this in <code>onViewCreated</code> with the view that is passed in by getting the button and setting a click listener on it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n\n    //...\n\n    Button myButton = view.findViewById(R.id.myButton);\n    myButton.setOnClickListener((View v) -&gt; {\n        // do button stuff\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":22673195,"reputation":13,"user_id":16844651,"display_name":"Huzaifa Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1642808403,"creation_date":1642786107,"question_id":70805317,"body_markdown":"I am trying to make a scientific calculator inside a fragment. Actually following a YT video and that guy is doing all that in his mainactivity not the fragment. I used this code in xml of my fragment:\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        return inflater.inflate(R.layout.fragment_scientific_calculator, container, false);\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        previousCalculation = view.findViewById(R.id.previousCalculationView);\r\n        display = view.findViewById(R.id.displayEditText);\r\n\r\n    }\r\n\r\n    private void updateText(String strTOAdd) {\r\n        display.setText(strTOAdd);\r\n    }\r\n\r\n    public void zeroBTNPush(View view) {\r\n        updateText(&quot;0&quot;);\r\n    }\r\nAll I know is that to use findViewById in a fragment, I have to create a onViewCreated void. So after doing all this I should get the updateText function in fragment.java&gt;design&gt;attributes&gt;onClick but I get nothing there \r\n[enter image description here][1]\r\nI&#39;m new to this. Please help\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KwWFo.jpg","title":"How to get the onClick function?","body":"<p>I am trying to make a scientific calculator inside a fragment. Actually following a YT video and that guy is doing all that in his mainactivity not the fragment. I used this code in xml of my fragment:</p>\n<pre><code>@Nullable\n@Override\npublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n    return inflater.inflate(R.layout.fragment_scientific_calculator, container, false);\n}\n\n@Override\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n\n    previousCalculation = view.findViewById(R.id.previousCalculationView);\n    display = view.findViewById(R.id.displayEditText);\n\n}\n\nprivate void updateText(String strTOAdd) {\n    display.setText(strTOAdd);\n}\n\npublic void zeroBTNPush(View view) {\n    updateText(&quot;0&quot;);\n}\n</code></pre>\n<p>All I know is that to use findViewById in a fragment, I have to create a onViewCreated void. So after doing all this I should get the updateText function in fragment.java&gt;design&gt;attributes&gt;onClick but I get nothing there\n<a href=\"https://i.stack.imgur.com/KwWFo.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>\nI'm new to this. Please help</p>\n"},{"tags":["java","spring","jpa","dependency-injection"],"owner":{"account_id":23944014,"reputation":31,"user_id":17936627,"display_name":"chrtnmrc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642808008,"creation_date":1642807695,"question_id":70808690,"body_markdown":"I configured a Spring Data JPA Custom Method extending my app repository functionalities. I referenced this tutorial [link][1] and It works properly. I implemented the custom method because I have to set the user in all the JPA Entities before persisting.\r\n\r\nThis is the BaseRepository interface.\r\n\r\n```\r\n@NoRepositoryBean\r\npublic interface BaseRepository&lt;T extends AuditableBean, ID extends Serializable&gt; extends CrudRepository&lt;T, ID&gt; {\r\n\r\n    &lt;S extends T&gt; S save(S bean);\r\n\r\n}\r\n```\r\nThis is the BaseRepository Implementation\r\n```\r\npublic class BaseRepositoryImpl &lt;T extends AuditableBean, ID extends Serializable&gt; extends SimpleJpaRepository&lt;T, ID&gt; implements BaseRepository&lt;T, ID&gt; {\r\n\r\n    @Inject private CloudContextProvider cloudContextProvider; // &lt;-- I inject this component here but it is null.\r\n\r\n    private final EntityManager entityManager;\r\n\r\n    public BaseRepositoryImpl(Class&lt;T&gt; domainClass, EntityManager entityManager) {\r\n        super(domainClass, entityManager);\r\n        this.entityManager = entityManager;\r\n    }\r\n\r\n    public BaseRepositoryImpl(JpaEntityInformation&lt;T, ?&gt; entityInformation, EntityManager entityManager) {\r\n        super(entityInformation, entityManager);\r\n        this.entityManager = entityManager;\r\n    }\r\n\r\n    public T populateUser(T t) {\r\n        t.setUpdaterUser(cloudContextProvider.getUserId());// &lt;-- Here throws a NPE\r\n        return t;\r\n    }\r\n\r\n    @Transactional\r\n    @Override\r\n    public &lt;S extends T&gt; S save(S bean) {\r\n        this.auditUser(bean);// &lt;-- This is the custom method.\r\n        return super.save(bean);\r\n    }\r\n\r\n    public T auditUser(T t) {\r\n        t = populateUser(t);\r\n        return t;\r\n    }\r\n}\r\n```\r\nSo the question is, &#191;How can I inject the cloudContextProvider component in the BaseRepositoryImpl?.\r\n\r\nIs that possible?\r\n\r\nMaybe with constructor injection?\r\n\r\n\r\n  [1]: https://www.petrikainulainen.net/programming/spring-framework/spring-data-jpa-tutorial-adding-custom-methods-into-all-repositories/","title":"Spring Data JPA Custom Methods &amp; Component Injection","body":"<p>I configured a Spring Data JPA Custom Method extending my app repository functionalities. I referenced this tutorial <a href=\"https://www.petrikainulainen.net/programming/spring-framework/spring-data-jpa-tutorial-adding-custom-methods-into-all-repositories/\" rel=\"nofollow noreferrer\">link</a> and It works properly. I implemented the custom method because I have to set the user in all the JPA Entities before persisting.</p>\n<p>This is the BaseRepository interface.</p>\n<pre><code>@NoRepositoryBean\npublic interface BaseRepository&lt;T extends AuditableBean, ID extends Serializable&gt; extends CrudRepository&lt;T, ID&gt; {\n\n    &lt;S extends T&gt; S save(S bean);\n\n}\n</code></pre>\n<p>This is the BaseRepository Implementation</p>\n<pre><code>public class BaseRepositoryImpl &lt;T extends AuditableBean, ID extends Serializable&gt; extends SimpleJpaRepository&lt;T, ID&gt; implements BaseRepository&lt;T, ID&gt; {\n\n    @Inject private CloudContextProvider cloudContextProvider; // &lt;-- I inject this component here but it is null.\n\n    private final EntityManager entityManager;\n\n    public BaseRepositoryImpl(Class&lt;T&gt; domainClass, EntityManager entityManager) {\n        super(domainClass, entityManager);\n        this.entityManager = entityManager;\n    }\n\n    public BaseRepositoryImpl(JpaEntityInformation&lt;T, ?&gt; entityInformation, EntityManager entityManager) {\n        super(entityInformation, entityManager);\n        this.entityManager = entityManager;\n    }\n\n    public T populateUser(T t) {\n        t.setUpdaterUser(cloudContextProvider.getUserId());// &lt;-- Here throws a NPE\n        return t;\n    }\n\n    @Transactional\n    @Override\n    public &lt;S extends T&gt; S save(S bean) {\n        this.auditUser(bean);// &lt;-- This is the custom method.\n        return super.save(bean);\n    }\n\n    public T auditUser(T t) {\n        t = populateUser(t);\n        return t;\n    }\n}\n</code></pre>\n<p>So the question is, ¿How can I inject the cloudContextProvider component in the BaseRepositoryImpl?.</p>\n<p>Is that possible?</p>\n<p>Maybe with constructor injection?</p>\n"},{"tags":["java","android-studio","admob","ads","applovin"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1642672429,"post_id":70783946,"comment_id":125135211,"body_markdown":"Welcome to SO. Please read [ask] and [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question). Then come back and [edit] your question accordingly. You might also want to read [How much research effort is expected of Stack Overflow users?](I downvoted because an image of your code is not helpful) and you definitely should elaborate _why_ you&#39;re not understanding this error (it seems to be a type mismatch which you should be able to understand at least on a basic level).","body":"Welcome to SO. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">Why not upload images of code/errors when asking a question?</a>. Then come back and <a href=\"https://stackoverflow.com/posts/70783946/edit\">edit</a> your question accordingly. You might also want to read [How much research effort is expected of Stack Overflow users?](I downvoted because an image of your code is not helpful) and you definitely should elaborate <i>why</i> you&#39;re not understanding this error (it seems to be a type mismatch which you should be able to understand at least on a basic level)."}],"answers":[{"tags":[],"owner":{"account_id":7677801,"reputation":161,"user_id":5818075,"display_name":"Tales Barreto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642799906,"creation_date":1642799906,"answer_id":70807728,"question_id":70783946,"body_markdown":"You are trying to provide an AppCompatDialogFragment as an Activity. Trying use `getActivity()` instead of `this` may fix the problem","title":"Face a error in project, When I implement Applovin MAX interstatial ad","body":"<p>You are trying to provide an AppCompatDialogFragment as an Activity. Trying use <code>getActivity()</code> instead of <code>this</code> may fix the problem</p>\n"}],"owner":{"account_id":23997539,"reputation":1,"user_id":17982886,"display_name":"Craazy Shark"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642808008,"creation_date":1642671886,"question_id":70783946,"body_markdown":"I don&#39;t understand the error in project.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wnJk2.png","title":"Face a error in project, When I implement Applovin MAX interstatial ad","body":"<p>I don't understand the error in project.</p>\n<p><a href=\"https://i.stack.imgur.com/wnJk2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wnJk2.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","gson","simpledateformat","date-format","timezone-offset"],"comments":[{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1530094560,"post_id":51060146,"comment_id":89110305,"body_markdown":"there is really no time zone indicator in the input.... what does &quot;645007&quot; stand for? millionth of a second?","body":"there is really no time zone indicator in the input.... what does &quot;645007&quot; stand for? millionth of a second?"},{"owner":{"account_id":8456658,"reputation":20415,"user_id":6343685,"accept_rate":60,"display_name":"Harshad Pansuriya"},"score":0,"creation_date":1530094565,"post_id":51060146,"comment_id":89110307,"body_markdown":"what you have tried post it here.??","body":"what you have tried post it here.??"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1530096012,"post_id":51060146,"comment_id":89111233,"body_markdown":"Did you look up the Javadocs to see what the format ought to be?","body":"Did you look up the Javadocs to see what the format ought to be?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1530096124,"post_id":51060146,"comment_id":89111307,"body_markdown":"I recommend you avoid the `SimpleDateFormat` class. It is not only long outdated, it is also notoriously troublesome. Today we have so much better in [`java.time`, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/). Also there is no way `SimpleDateFormat` can parse you 6 decimals of fraction of second. It supports only millisecond precision.","body":"I recommend you avoid the <code>SimpleDateFormat</code> class. It is not only long outdated, it is also notoriously troublesome. Today we have so much better in <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\"><code>java.time</code>, the modern Java date and time API</a>. Also there is no way <code>SimpleDateFormat</code> can parse you 6 decimals of fraction of second. It supports only millisecond precision."}],"answers":[{"tags":[],"owner":{"account_id":4113392,"reputation":5800,"user_id":3375670,"accept_rate":88,"display_name":"Robert Kock"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1530094648,"creation_date":1530094648,"answer_id":51060249,"question_id":51060146,"body_markdown":"The date you&#39;re trying to parse doesn&#39;t contain a timezone.  \r\nTry the format string &lt;code&gt;yyyy-MM-dd HH:mm:ss.SSSSSS&lt;/code&gt;","title":"Failed to parse date [&quot;2016-08-29 11:08:37.645007&quot;]: Invalid time zone indicator &#39; &#39;","body":"<p>The date you're trying to parse doesn't contain a timezone.<br>\nTry the format string <code>yyyy-MM-dd HH:mm:ss.SSSSSS</code></p>\n"}],"owner":{"account_id":9166758,"reputation":93,"user_id":6816012,"display_name":"RITESH GUPTA"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7173,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":51060249,"answer_count":1,"score":3,"last_activity_date":1642806711,"creation_date":1530094433,"question_id":51060146,"body_markdown":"i have jsondata in which one of the field is date and its value looks like\r\n\r\n&quot;2016-08-29 11:08:37.645007&quot; i using gson to get the deserialized object from json\r\nbut it throws following execetion\r\n\r\n`\r\n\r\n    Caused by: java.text.ParseException: Failed to parse date [&quot;2016-08-29 11:08:37.645007&quot;]: Invalid time zone indicator &#39; &#39;\r\n    \tat com.google.gson.internal.bind.util.ISO8601Utils.parse(ISO8601Utils.java:274)\r\n    \tat com.google.gson.DefaultDateTypeAdapter.deserializeToDate(DefaultDateTypeAdapter.java:149)\r\n    \t... 64 more\r\n    Caused by: java.lang.IndexOutOfBoundsException: Invalid time zone indicator &#39; &#39;\r\n    \tat com.google.gson.internal.bind.util.ISO8601Utils.parse(ISO8601Utils.java:245)\r\n    \t... 65 more\r\n\r\n`\r\n\r\n\r\nim not sure what should be the format of date tried `&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;` but it didnt work\r\n\r\n","title":"Failed to parse date [&quot;2016-08-29 11:08:37.645007&quot;]: Invalid time zone indicator &#39; &#39;","body":"<p>i have jsondata in which one of the field is date and its value looks like</p>\n\n<p>\"2016-08-29 11:08:37.645007\" i using gson to get the deserialized object from json\nbut it throws following execetion</p>\n\n<p>`</p>\n\n<pre><code>Caused by: java.text.ParseException: Failed to parse date [\"2016-08-29 11:08:37.645007\"]: Invalid time zone indicator ' '\n    at com.google.gson.internal.bind.util.ISO8601Utils.parse(ISO8601Utils.java:274)\n    at com.google.gson.DefaultDateTypeAdapter.deserializeToDate(DefaultDateTypeAdapter.java:149)\n    ... 64 more\nCaused by: java.lang.IndexOutOfBoundsException: Invalid time zone indicator ' '\n    at com.google.gson.internal.bind.util.ISO8601Utils.parse(ISO8601Utils.java:245)\n    ... 65 more\n</code></pre>\n\n<p>`</p>\n\n<p>im not sure what should be the format of date tried <code>\"yyyy-MM-dd'T'HH:mm:ss.SSSZ\"</code> but it didnt work</p>\n"},{"tags":["java","string","file","encoding"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1248603486,"post_id":1184176,"comment_id":1005959,"body_markdown":"What is the purpose of encoding the string?","body":"What is the purpose of encoding the string?"},{"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"score":3,"creation_date":1248603677,"post_id":1184176,"comment_id":1005966,"body_markdown":"@Stephen C: The purpose of encoding the string is to make suitable for use as a filename, as java.net.URLEncoder does for URLs.","body":"@Stephen C: The purpose of encoding the string is to make suitable for use as a filename, as java.net.URLEncoder does for URLs."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1248603966,"post_id":1184176,"comment_id":1005975,"body_markdown":"Oh I see.  Does the encoding need to be reversible?","body":"Oh I see.  Does the encoding need to be reversible?"},{"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"score":0,"creation_date":1248604140,"post_id":1184176,"comment_id":1005980,"body_markdown":"@Stephen C: No, it doesn&#39;t need to be reversible, but I&#39;d like the result to resemble as close as possible the original string.","body":"@Stephen C: No, it doesn&#39;t need to be reversible, but I&#39;d like the result to resemble as close as possible the original string."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1248604211,"post_id":1184176,"comment_id":1005983,"body_markdown":"Does the encoding need to obscure the original name?  Does it need to be 1-to-1 ; i.e. are collisions OK?","body":"Does the encoding need to obscure the original name?  Does it need to be 1-to-1 ; i.e. are collisions OK?"},{"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"score":0,"creation_date":1248604295,"post_id":1184176,"comment_id":1005987,"body_markdown":"@Stephen C: I&#39;d rather it didn&#39;t obscure the original name. Collisions are not OK.","body":"@Stephen C: I&#39;d rather it didn&#39;t obscure the original name. Collisions are not OK."}],"answers":[{"tags":[],"owner":{"account_id":10200,"reputation":23824,"user_id":19163,"accept_rate":62,"display_name":"vog"},"down_vote_count":4,"up_vote_count":40,"is_accepted":false,"score":36,"last_activity_date":1423143287,"creation_date":1248602395,"answer_id":1184180,"question_id":1184176,"body_markdown":"It depends on whether the encoding should be reversible or not.\r\n\r\n&lt;b&gt;Reversible&lt;/b&gt;\r\n\r\nUse URL encoding (&lt;code&gt;&lt;a href=&quot;http://java.sun.com/javase/6/docs/api/java/net/URLEncoder.html&quot;&gt;java.net.URLEncoder&lt;/a&gt;&lt;/code&gt;) to replace special characters with &lt;code&gt;%xx&lt;/code&gt;. Note that you take care of the &lt;em&gt;special cases&lt;/em&gt; where the string equals `.`, equals `..` or is empty!&#185; Many programs use URL encoding to create file names, so this is a standard technique which everybody understands.\r\n\r\n&lt;b&gt;Irreversible&lt;/b&gt;\r\n\r\nUse a hash (e.g. SHA-1) of the given string. Modern hash algorithms (**not** MD5) can be considered collision-free. In fact, you&#39;ll have a break-through in cryptography if you find a collision.\r\n\r\n&lt;hr&gt;\r\n&lt;sub&gt;\r\n&#185; You can handle all 3 special cases elegantly by using a prefix such as &lt;code&gt;&quot;myApp-&quot;&lt;/code&gt;. If you put the file directly into `$HOME`, you&#39;ll have to do that anyway to avoid conflicts with existing files such as &quot;.bashrc&quot;.&lt;/sub&gt;\r\n&lt;pre&gt;&lt;code&gt;public static String encodeFilename(String s)\r\n{\r\n    try\r\n    {\r\n        return &quot;myApp-&quot; + java.net.URLEncoder.encode(s, &quot;UTF-8&quot;);\r\n    }\r\n    catch (java.io.UnsupportedEncodingException e)\r\n    {\r\n        throw new RuntimeException(&quot;UTF-8 is an unknown encoding!?&quot;);\r\n    }\r\n}&lt;/pre&gt;&lt;/code&gt;","title":"How can I safely encode a string in Java to use as a filename?","body":"<p>It depends on whether the encoding should be reversible or not.</p>\n\n<p><b>Reversible</b></p>\n\n<p>Use URL encoding (<code><a href=\"http://java.sun.com/javase/6/docs/api/java/net/URLEncoder.html\" rel=\"noreferrer\">java.net.URLEncoder</a></code>) to replace special characters with <code>%xx</code>. Note that you take care of the <em>special cases</em> where the string equals <code>.</code>, equals <code>..</code> or is empty!¹ Many programs use URL encoding to create file names, so this is a standard technique which everybody understands.</p>\n\n<p><b>Irreversible</b></p>\n\n<p>Use a hash (e.g. SHA-1) of the given string. Modern hash algorithms (<strong>not</strong> MD5) can be considered collision-free. In fact, you'll have a break-through in cryptography if you find a collision.</p>\n\n<p><hr>\n<sub>\n¹ You can handle all 3 special cases elegantly by using a prefix such as <code>\"myApp-\"</code>. If you put the file directly into <code>$HOME</code>, you'll have to do that anyway to avoid conflicts with existing files such as \".bashrc\".</sub>\n<pre><code>public static String encodeFilename(String s)\n{\n    try\n    {\n        return \"myApp-\" + java.net.URLEncoder.encode(s, \"UTF-8\");\n    }\n    catch (java.io.UnsupportedEncodingException e)\n    {\n        throw new RuntimeException(\"UTF-8 is an unknown encoding!?\");\n    }\n}</pre></code></p>\n"},{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":3,"up_vote_count":127,"is_accepted":false,"score":124,"last_activity_date":1390474681,"creation_date":1248602647,"answer_id":1184185,"question_id":1184176,"body_markdown":"My suggestion is to take a &quot;white list&quot; approach, meaning don&#39;t try and filter out bad characters. Instead define what is OK. You can either reject the filename or filter it. If you want to filter it:\r\n\r\n    String name = s.replaceAll(&quot;\\\\W+&quot;, &quot;&quot;);\r\n\r\nWhat this does is replaces any character that *isn&#39;t* a number, letter or underscore with nothing. Alternatively you could replace them with another character (like an underscore).\r\n\r\nThe problem is that if this is a shared directory then you don&#39;t want file name collision. Even if user storage areas are segregated by user you may end up with a colliding filename just by filtering out bad characters. The name a user put in is often useful if they ever want to download it too.\r\n\r\nFor this reason I tend to allow the user to enter what they want, store the filename based on a scheme of my own choosing (eg userId_fileId) and then store the user&#39;s filename in a database table. That way you can display it back to the user, store things how you want and you don&#39;t compromise security or wipe out other files.\r\n\r\nYou can also hash the file (eg MD5 hash) but then you can&#39;t list the files the user put in (not with a meaningful name anyway).\r\n\r\nEDIT:Fixed regex for java","title":"How can I safely encode a string in Java to use as a filename?","body":"<p>My suggestion is to take a \"white list\" approach, meaning don't try and filter out bad characters. Instead define what is OK. You can either reject the filename or filter it. If you want to filter it:</p>\n\n<pre><code>String name = s.replaceAll(\"\\\\W+\", \"\");\n</code></pre>\n\n<p>What this does is replaces any character that <em>isn't</em> a number, letter or underscore with nothing. Alternatively you could replace them with another character (like an underscore).</p>\n\n<p>The problem is that if this is a shared directory then you don't want file name collision. Even if user storage areas are segregated by user you may end up with a colliding filename just by filtering out bad characters. The name a user put in is often useful if they ever want to download it too.</p>\n\n<p>For this reason I tend to allow the user to enter what they want, store the filename based on a scheme of my own choosing (eg userId_fileId) and then store the user's filename in a database table. That way you can display it back to the user, store things how you want and you don't compromise security or wipe out other files.</p>\n\n<p>You can also hash the file (eg MD5 hash) but then you can't list the files the user put in (not with a meaningful name anyway).</p>\n\n<p>EDIT:Fixed regex for java</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":2,"up_vote_count":19,"is_accepted":true,"score":17,"last_activity_date":1576224852,"creation_date":1248605529,"answer_id":1184263,"question_id":1184176,"body_markdown":"If you want the result to resemble the original file, SHA-1 or any other hashing scheme is not the answer.  If collisions must be avoided, then simple replacement or removal of &quot;bad&quot; characters is not the answer either.\r\n\r\nInstead you want something like this.  (Note: this should be treated as an illustrative example, not something to copy and paste.)\r\n\r\n    char fileSep = &#39;/&#39;; // ... or do this portably.\r\n    char escape = &#39;%&#39;; // ... or some other legal char.\r\n    String s = ...\r\n    int len = s.length();\r\n    StringBuilder sb = new StringBuilder(len);\r\n    for (int i = 0; i &lt; len; i++) {\r\n        char ch = s.charAt(i);\r\n        if (ch &lt; &#39; &#39; || ch &gt;= 0x7F || ch == fileSep || ... // add other illegal chars\r\n            || (ch == &#39;.&#39; &amp;&amp; i == 0) // we don&#39;t want to collide with &quot;.&quot; or &quot;..&quot;!\r\n            || ch == escape) {\r\n            sb.append(escape);\r\n            if (ch &lt; 0x10) {\r\n                sb.append(&#39;0&#39;);\r\n            }\r\n            sb.append(Integer.toHexString(ch));\r\n        } else {\r\n            sb.append(ch);\r\n        }\r\n    }\r\n    File currentFile = new File(System.getProperty(&quot;user.home&quot;), sb.toString());\r\n    PrintWriter currentWriter = new PrintWriter(currentFile);\r\n\r\nThis solution gives a reversible encoding (with no collisions) where the encoded strings resemble the original strings in most cases.  I&#39;m assuming that you are using 8-bit characters.  \r\n\r\n`URLEncoder` works, but it has the disadvantage that it encodes a whole lot of legal file name characters.\r\n\r\nIf you want a not-guaranteed-to-be-reversible solution, then simply remove the &#39;bad&#39; characters rather than replacing them with escape sequences.\r\n\r\n----------------\r\n\r\nThe reverse of the above encoding should be equally straight-forward to implement.\r\n    \r\n","title":"How can I safely encode a string in Java to use as a filename?","body":"<p>If you want the result to resemble the original file, SHA-1 or any other hashing scheme is not the answer.  If collisions must be avoided, then simple replacement or removal of \"bad\" characters is not the answer either.</p>\n\n<p>Instead you want something like this.  (Note: this should be treated as an illustrative example, not something to copy and paste.)</p>\n\n<pre><code>char fileSep = '/'; // ... or do this portably.\nchar escape = '%'; // ... or some other legal char.\nString s = ...\nint len = s.length();\nStringBuilder sb = new StringBuilder(len);\nfor (int i = 0; i &lt; len; i++) {\n    char ch = s.charAt(i);\n    if (ch &lt; ' ' || ch &gt;= 0x7F || ch == fileSep || ... // add other illegal chars\n        || (ch == '.' &amp;&amp; i == 0) // we don't want to collide with \".\" or \"..\"!\n        || ch == escape) {\n        sb.append(escape);\n        if (ch &lt; 0x10) {\n            sb.append('0');\n        }\n        sb.append(Integer.toHexString(ch));\n    } else {\n        sb.append(ch);\n    }\n}\nFile currentFile = new File(System.getProperty(\"user.home\"), sb.toString());\nPrintWriter currentWriter = new PrintWriter(currentFile);\n</code></pre>\n\n<p>This solution gives a reversible encoding (with no collisions) where the encoded strings resemble the original strings in most cases.  I'm assuming that you are using 8-bit characters.  </p>\n\n<p><code>URLEncoder</code> works, but it has the disadvantage that it encodes a whole lot of legal file name characters.</p>\n\n<p>If you want a not-guaranteed-to-be-reversible solution, then simply remove the 'bad' characters rather than replacing them with escape sequences.</p>\n\n<hr>\n\n<p>The reverse of the above encoding should be equally straight-forward to implement.</p>\n"},{"tags":[],"owner":{"account_id":411142,"reputation":34084,"user_id":783412,"accept_rate":100,"display_name":"hd1"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1576220260,"creation_date":1374866769,"answer_id":17889424,"question_id":1184176,"body_markdown":"Pick your poison from the [options presented by commons-codec](https://commons.apache.org/proper/commons-codec/userguide.html), example:\r\n\r\n    String safeFileName = DigestUtils.sha1(filename);\r\n\r\n\r\n","title":"How can I safely encode a string in Java to use as a filename?","body":"<p>Pick your poison from the <a href=\"https://commons.apache.org/proper/commons-codec/userguide.html\" rel=\"nofollow noreferrer\">options presented by commons-codec</a>, example:</p>\n\n<pre><code>String safeFileName = DigestUtils.sha1(filename);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":269969,"reputation":11509,"user_id":559634,"accept_rate":100,"display_name":"SharkAlley"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1434386880,"creation_date":1393197912,"answer_id":21976145,"question_id":1184176,"body_markdown":"For those looking for a general solution, these might be common critera:\r\n\r\n - The filename should resemble the string. \r\n - The encoding should be reversible where possible. \r\n - The probability of collisions should be minimized.\r\n\r\nTo achieve this we can use regex to match illegal characters, [percent-encode][1] them, then constrain the length of the encoded string. \r\n\r\n\r\n    private static final Pattern PATTERN = Pattern.compile(&quot;[^A-Za-z0-9_\\\\-]&quot;);\r\n\r\n    private static final int MAX_LENGTH = 127;\r\n\r\n    public static String escapeStringAsFilename(String in){\r\n    \r\n        StringBuffer sb = new StringBuffer();\r\n\r\n        // Apply the regex.\r\n        Matcher m = PATTERN.matcher(in);\r\n        \r\n        while (m.find()) {\r\n\r\n            // Convert matched character to percent-encoded.\r\n            String replacement = &quot;%&quot;+Integer.toHexString(m.group().charAt(0)).toUpperCase();\r\n\r\n            m.appendReplacement(sb,replacement);\r\n        }\r\n        m.appendTail(sb);\r\n\r\n        String encoded = sb.toString();\r\n     \r\n        // Truncate the string.\r\n        int end = Math.min(encoded.length(),MAX_LENGTH);\r\n        return encoded.substring(0,end);\r\n    }\r\n\r\n**Patterns**\r\n\r\nThe pattern above is based on a [conservative subset of allowed characters in the POSIX spec][4].\r\n\r\nIf you want to allow the dot character, use:\r\n\r\n    private static final Pattern PATTERN = Pattern.compile(&quot;[^A-Za-z0-9_\\\\-\\\\.]&quot;);\r\n\r\nJust be wary of strings like &quot;.&quot; and &quot;..&quot;\r\n\r\nIf you want to avoid collisions on case insensitive filesystems, you&#39;ll need to escape capitals:\r\n\r\n    private static final Pattern PATTERN = Pattern.compile(&quot;[^a-z0-9_\\\\-]&quot;);\r\n\r\nOr escape lower case letters:\r\n\r\n    private static final Pattern PATTERN = Pattern.compile(&quot;[^A-Z0-9_\\\\-]&quot;);\r\n\r\nRather than using a whitelist, you may choose to blacklist reserved characters for your specific filesystem. E.G. This regex suits FAT32 filesystems:\r\n\r\n    private static final Pattern PATTERN = Pattern.compile(&quot;[%\\\\.\\&quot;\\\\*/:&lt;&gt;\\\\?\\\\\\\\\\\\|\\\\+,\\\\.;=\\\\[\\\\]]&quot;);\r\n\r\n**Length**\r\n\r\n[On Android, 127 characters][2] is the safe limit. [Many filesystems allow 255 characters.][3]\r\n\r\nIf you prefer to retain the tail, rather than the head of your string, use:\r\n\r\n    // Truncate the string.\r\n    int start = Math.max(0,encoded.length()-MAX_LENGTH);\r\n    return encoded.substring(start,encoded.length());\r\n\r\n**Decoding**\r\n\r\nTo convert the filename back to the original string, use:\r\n\r\n    URLDecoder.decode(filename, &quot;UTF-8&quot;);\r\n\r\n**Limitations**\r\n\r\nBecause longer strings are truncated, there is the possibility of a name collision when encoding, or corruption when decoding.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Percent-encoding\r\n  [2]: https://stackoverflow.com/questions/13204807/max-file-name-length-in-android\r\n  [3]: http://en.wikipedia.org/wiki/Comparison_of_file_systems\r\n  [4]: https://stackoverflow.com/questions/2304221/what-character-sequence-should-i-not-allow-in-a-filename","title":"How can I safely encode a string in Java to use as a filename?","body":"<p>For those looking for a general solution, these might be common critera:</p>\n\n<ul>\n<li>The filename should resemble the string. </li>\n<li>The encoding should be reversible where possible. </li>\n<li>The probability of collisions should be minimized.</li>\n</ul>\n\n<p>To achieve this we can use regex to match illegal characters, <a href=\"http://en.wikipedia.org/wiki/Percent-encoding\" rel=\"nofollow noreferrer\">percent-encode</a> them, then constrain the length of the encoded string. </p>\n\n<pre><code>private static final Pattern PATTERN = Pattern.compile(\"[^A-Za-z0-9_\\\\-]\");\n\nprivate static final int MAX_LENGTH = 127;\n\npublic static String escapeStringAsFilename(String in){\n\n    StringBuffer sb = new StringBuffer();\n\n    // Apply the regex.\n    Matcher m = PATTERN.matcher(in);\n\n    while (m.find()) {\n\n        // Convert matched character to percent-encoded.\n        String replacement = \"%\"+Integer.toHexString(m.group().charAt(0)).toUpperCase();\n\n        m.appendReplacement(sb,replacement);\n    }\n    m.appendTail(sb);\n\n    String encoded = sb.toString();\n\n    // Truncate the string.\n    int end = Math.min(encoded.length(),MAX_LENGTH);\n    return encoded.substring(0,end);\n}\n</code></pre>\n\n<p><strong>Patterns</strong></p>\n\n<p>The pattern above is based on a <a href=\"https://stackoverflow.com/questions/2304221/what-character-sequence-should-i-not-allow-in-a-filename\">conservative subset of allowed characters in the POSIX spec</a>.</p>\n\n<p>If you want to allow the dot character, use:</p>\n\n<pre><code>private static final Pattern PATTERN = Pattern.compile(\"[^A-Za-z0-9_\\\\-\\\\.]\");\n</code></pre>\n\n<p>Just be wary of strings like \".\" and \"..\"</p>\n\n<p>If you want to avoid collisions on case insensitive filesystems, you'll need to escape capitals:</p>\n\n<pre><code>private static final Pattern PATTERN = Pattern.compile(\"[^a-z0-9_\\\\-]\");\n</code></pre>\n\n<p>Or escape lower case letters:</p>\n\n<pre><code>private static final Pattern PATTERN = Pattern.compile(\"[^A-Z0-9_\\\\-]\");\n</code></pre>\n\n<p>Rather than using a whitelist, you may choose to blacklist reserved characters for your specific filesystem. E.G. This regex suits FAT32 filesystems:</p>\n\n<pre><code>private static final Pattern PATTERN = Pattern.compile(\"[%\\\\.\\\"\\\\*/:&lt;&gt;\\\\?\\\\\\\\\\\\|\\\\+,\\\\.;=\\\\[\\\\]]\");\n</code></pre>\n\n<p><strong>Length</strong></p>\n\n<p><a href=\"https://stackoverflow.com/questions/13204807/max-file-name-length-in-android\">On Android, 127 characters</a> is the safe limit. <a href=\"http://en.wikipedia.org/wiki/Comparison_of_file_systems\" rel=\"nofollow noreferrer\">Many filesystems allow 255 characters.</a></p>\n\n<p>If you prefer to retain the tail, rather than the head of your string, use:</p>\n\n<pre><code>// Truncate the string.\nint start = Math.max(0,encoded.length()-MAX_LENGTH);\nreturn encoded.substring(start,encoded.length());\n</code></pre>\n\n<p><strong>Decoding</strong></p>\n\n<p>To convert the filename back to the original string, use:</p>\n\n<pre><code>URLDecoder.decode(filename, \"UTF-8\");\n</code></pre>\n\n<p><strong>Limitations</strong></p>\n\n<p>Because longer strings are truncated, there is the possibility of a name collision when encoding, or corruption when decoding.</p>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1422833195,"creation_date":1422833195,"answer_id":28269178,"question_id":1184176,"body_markdown":"Try using the following regex which replaces every invalid file name character with a space:\r\n\r\n\tpublic static String toValidFileName(String input)\r\n\t{\r\n\t\treturn input.replaceAll(&quot;[:\\\\\\\\/*\\&quot;?|&lt;&gt;&#39;]&quot;, &quot; &quot;);\r\n\t}","title":"How can I safely encode a string in Java to use as a filename?","body":"<p>Try using the following regex which replaces every invalid file name character with a space:</p>\n\n<pre><code>public static String toValidFileName(String input)\n{\n    return input.replaceAll(\"[:\\\\\\\\/*\\\"?|&lt;&gt;']\", \" \");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2298937,"reputation":2835,"user_id":2019710,"accept_rate":67,"display_name":"voho"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1436790025,"creation_date":1436787817,"answer_id":31382469,"question_id":1184176,"body_markdown":"This is probably not the most effective way, but shows how to do it using Java 8 pipelines:\r\n\r\n    private static String sanitizeFileName(String name) {\r\n        return name\r\n                .chars()\r\n                .mapToObj(i -&gt; (char) i)\r\n                .map(c -&gt; Character.isWhitespace(c) ? &#39;_&#39; : c)\r\n                .filter(c -&gt; Character.isLetterOrDigit(c) || c == &#39;-&#39; || c == &#39;_&#39;)\r\n                .map(String::valueOf)\r\n                .collect(Collectors.joining());\r\n    }\r\n\r\nThe solution could be improved by creating custom collector which uses StringBuilder, so you do not have to cast each light-weight character to a heavy-weight string.","title":"How can I safely encode a string in Java to use as a filename?","body":"<p>This is probably not the most effective way, but shows how to do it using Java 8 pipelines:</p>\n\n<pre><code>private static String sanitizeFileName(String name) {\n    return name\n            .chars()\n            .mapToObj(i -&gt; (char) i)\n            .map(c -&gt; Character.isWhitespace(c) ? '_' : c)\n            .filter(c -&gt; Character.isLetterOrDigit(c) || c == '-' || c == '_')\n            .map(String::valueOf)\n            .collect(Collectors.joining());\n}\n</code></pre>\n\n<p>The solution could be improved by creating custom collector which uses StringBuilder, so you do not have to cast each light-weight character to a heavy-weight string.</p>\n"},{"tags":[],"owner":{"account_id":5588540,"reputation":12118,"user_id":4428462,"accept_rate":86,"display_name":"Jonas Czech"},"down_vote_count":3,"up_vote_count":34,"is_accepted":false,"score":31,"last_activity_date":1574937041,"creation_date":1452461172,"answer_id":34710967,"question_id":1184176,"body_markdown":"Here&#39;s what I use:\r\n\r\n    public String sanitizeFilename(String inputName) {\r\n        return inputName.replaceAll(&quot;[^a-zA-Z0-9-_\\\\.]&quot;, &quot;_&quot;);\r\n    }\r\n\r\nWhat this does is is replace every character which is not a letter, number, underscore or dot with an underscore, using regex.\r\n\r\nThis means that something like &quot;How to convert &#163; to $&quot; will become &quot;How_to_convert___to__&quot;.  Admittedly, this result is not very user-friendly, but it is safe and the resulting directory /file names are guaranteed to work everywhere. In my case, the result is not shown to the user, and is thus not a problem, but you may want to alter the regex to be more permissive.\r\n\r\nWorth noting that another problem I encountered was that I would sometimes get identical names (since it&#39;s based on user input), so you should be aware of that, since you can&#39;t have multiple directories / files with the same name in a single directory. I just prepended the current time and date, and a short random string to avoid that. (an actual random string, not a hash of the filename, since identical filenames will result in identical hashes)\r\n\r\nAlso, you may need to truncate or otherwise shorten the resulting string, since it may exceed the 255 character limit some systems have.","title":"How can I safely encode a string in Java to use as a filename?","body":"<p>Here's what I use:</p>\n\n<pre><code>public String sanitizeFilename(String inputName) {\n    return inputName.replaceAll(\"[^a-zA-Z0-9-_\\\\.]\", \"_\");\n}\n</code></pre>\n\n<p>What this does is is replace every character which is not a letter, number, underscore or dot with an underscore, using regex.</p>\n\n<p>This means that something like \"How to convert £ to $\" will become \"How_to_convert___to__\".  Admittedly, this result is not very user-friendly, but it is safe and the resulting directory /file names are guaranteed to work everywhere. In my case, the result is not shown to the user, and is thus not a problem, but you may want to alter the regex to be more permissive.</p>\n\n<p>Worth noting that another problem I encountered was that I would sometimes get identical names (since it's based on user input), so you should be aware of that, since you can't have multiple directories / files with the same name in a single directory. I just prepended the current time and date, and a short random string to avoid that. (an actual random string, not a hash of the filename, since identical filenames will result in identical hashes)</p>\n\n<p>Also, you may need to truncate or otherwise shorten the resulting string, since it may exceed the 255 character limit some systems have.</p>\n"},{"tags":[],"owner":{"account_id":2370886,"reputation":2194,"user_id":2075537,"accept_rate":55,"display_name":"Torge"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642806388,"creation_date":1612010044,"answer_id":65968003,"question_id":1184176,"body_markdown":"If you **don&#39;t care about reversibility**, but want to have nice names in most circumstances that are [**cross platform**][1] compatible, here is my approach.\r\n\r\n    //: and ? into .\r\n\tname = name.replaceAll(&quot;[\\\\?:]&quot;, &quot;.&quot;);\r\n\r\n    //&quot; into &#39;\r\n\tname = name.replaceAll(&quot;[\\&quot;]&quot;, &quot;&#39;&quot;);\r\n\r\n    //\\, / and | into ,\r\n\tname = name.replaceAll(&quot;[\\\\\\\\/|]&quot;, &quot;,&quot;);\r\n\r\n    //&lt;, &gt; and * int _\r\n\tname = name.replaceAll(&quot;[&lt;&gt;*]&quot;, &quot;_&quot;);\r\n    return name;\r\n\r\nThis turns: \r\n\r\n    This is a **Special** &quot;Test&quot;: A\\B/C is &lt;BETTER&gt; than D|E|F! Or?\r\n\r\nInto:\r\n\r\n    This is a __Special__ &#39;Test&#39;. A,B,C is _BETTER_ than D,E,F! Or.\r\n\r\n\r\n  [1]: https://superuser.com/questions/358855/what-characters-are-safe-in-cross-platform-file-names-for-linux-windows-and-os","title":"How can I safely encode a string in Java to use as a filename?","body":"<p>If you <strong>don't care about reversibility</strong>, but want to have nice names in most circumstances that are <a href=\"https://superuser.com/questions/358855/what-characters-are-safe-in-cross-platform-file-names-for-linux-windows-and-os\"><strong>cross platform</strong></a> compatible, here is my approach.</p>\n<pre><code>//: and ? into .\nname = name.replaceAll(&quot;[\\\\?:]&quot;, &quot;.&quot;);\n\n//&quot; into '\nname = name.replaceAll(&quot;[\\&quot;]&quot;, &quot;'&quot;);\n\n//\\, / and | into ,\nname = name.replaceAll(&quot;[\\\\\\\\/|]&quot;, &quot;,&quot;);\n\n//&lt;, &gt; and * int _\nname = name.replaceAll(&quot;[&lt;&gt;*]&quot;, &quot;_&quot;);\nreturn name;\n</code></pre>\n<p>This turns:</p>\n<pre><code>This is a **Special** &quot;Test&quot;: A\\B/C is &lt;BETTER&gt; than D|E|F! Or?\n</code></pre>\n<p>Into:</p>\n<pre><code>This is a __Special__ 'Test'. A,B,C is _BETTER_ than D,E,F! Or.\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user14972917"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634753658,"creation_date":1634753658,"answer_id":69651109,"question_id":1184176,"body_markdown":"If your system stores files in a case sensitive filesystem (where it is possible to store `a.txt` and `A.txt` in the same directory), then you could use Base64 in the variant &quot;base64url&quot;. It is &quot;URL- and filename-safe&quot; according to https://en.wikipedia.org/wiki/Base64#Variants_summary_table because it uses &quot;-&quot; and &quot;_&quot; instead of &quot;+&quot; and &quot;/&quot;.\r\n\r\nApache commons-codec implements this: https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Base64.html#encodeBase64URLSafeString-byte:A-\r\n\r\nIf your filename / directory name is too long then split it into multiple directories: [first 128 characters]/[second 128 characters]/...\r\n\r\nAs there is no dot in the Base64 charset you don&#39;t have to care about special filenames like `.` or `..` or about a final dot at the end of the filename.\r\nAlso you don&#39;t have to care about trailing spaces, ...\r\n\r\nIf there are reserved words/filenames in your filesystem (or your operating system) like `LPT4` in Windows and the result of Base64url-encoding is equal to a reserved word like this you could mask it with e.g. an `@` character (`@LPT4`) and removing the masking `@` character before decoding. Have a look for reserved words here: https://en.wikipedia.org/wiki/Filename#Reserved_characters_and_words\r\n\r\nIn a Linux system this could work forwards and backwards without loss of data/characters, I guess. Windows will reject having two files named e.g. &quot;abcd&quot; and &quot;ABCD&quot;.","title":"How can I safely encode a string in Java to use as a filename?","body":"<p>If your system stores files in a case sensitive filesystem (where it is possible to store <code>a.txt</code> and <code>A.txt</code> in the same directory), then you could use Base64 in the variant &quot;base64url&quot;. It is &quot;URL- and filename-safe&quot; according to <a href=\"https://en.wikipedia.org/wiki/Base64#Variants_summary_table\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Base64#Variants_summary_table</a> because it uses &quot;-&quot; and &quot;_&quot; instead of &quot;+&quot; and &quot;/&quot;.</p>\n<p>Apache commons-codec implements this: <a href=\"https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Base64.html#encodeBase64URLSafeString-byte:A-\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Base64.html#encodeBase64URLSafeString-byte:A-</a></p>\n<p>If your filename / directory name is too long then split it into multiple directories: [first 128 characters]/[second 128 characters]/...</p>\n<p>As there is no dot in the Base64 charset you don't have to care about special filenames like <code>.</code> or <code>..</code> or about a final dot at the end of the filename.\nAlso you don't have to care about trailing spaces, ...</p>\n<p>If there are reserved words/filenames in your filesystem (or your operating system) like <code>LPT4</code> in Windows and the result of Base64url-encoding is equal to a reserved word like this you could mask it with e.g. an <code>@</code> character (<code>@LPT4</code>) and removing the masking <code>@</code> character before decoding. Have a look for reserved words here: <a href=\"https://en.wikipedia.org/wiki/Filename#Reserved_characters_and_words\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Filename#Reserved_characters_and_words</a></p>\n<p>In a Linux system this could work forwards and backwards without loss of data/characters, I guess. Windows will reject having two files named e.g. &quot;abcd&quot; and &quot;ABCD&quot;.</p>\n"},{"tags":[],"owner":{"display_name":"user14972917"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634754997,"creation_date":1634754997,"answer_id":69651359,"question_id":1184176,"body_markdown":"Convert your String hexadecimal (e.g. with this https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Hex.html#encodeHexString-byte:A- ). Works forwards and backwards ( https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Hex.html#decodeHex-char:A- ).\r\n\r\nSplit the resulting String into chunks of 128 characters with one (sub)directory for every chunk.\r\n\r\nEven in case-insensitive filesystems / operating systems there is no collision (like it could be in Base64).\r\n\r\nAt the moment I don&#39;t know any reserved filename (like `COM`, `LPT1`, ...) that would have a collision with a HEX value, so I guess that there is no need for masking. And even if masking would be needed then use e.g. a `@` in front of the filename and remove it when decoding the filename into the original String.","title":"How can I safely encode a string in Java to use as a filename?","body":"<p>Convert your String hexadecimal (e.g. with this <a href=\"https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Hex.html#encodeHexString-byte:A-\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Hex.html#encodeHexString-byte:A-</a> ). Works forwards and backwards ( <a href=\"https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Hex.html#decodeHex-char:A-\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Hex.html#decodeHex-char:A-</a> ).</p>\n<p>Split the resulting String into chunks of 128 characters with one (sub)directory for every chunk.</p>\n<p>Even in case-insensitive filesystems / operating systems there is no collision (like it could be in Base64).</p>\n<p>At the moment I don't know any reserved filename (like <code>COM</code>, <code>LPT1</code>, ...) that would have a collision with a HEX value, so I guess that there is no need for masking. And even if masking would be needed then use e.g. a <code>@</code> in front of the filename and remove it when decoding the filename into the original String.</p>\n"}],"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101897,"favorite_count":0,"down_vote_count":1,"up_vote_count":143,"accepted_answer_id":1184263,"answer_count":11,"score":142,"last_activity_date":1642806388,"creation_date":1248602061,"question_id":1184176,"body_markdown":"I&#39;m receiving a string from an external process. I want to use that String to make a filename, and then write to that file. Here&#39;s my code snippet to do this:\r\n\r\n        String s = ... // comes from external source\r\n        File currentFile = new File(System.getProperty(&quot;user.home&quot;), s);\r\n        PrintWriter currentWriter = new PrintWriter(currentFile);\r\n\r\nIf s contains an invalid character, such as &#39;/&#39; in a Unix-based OS, then a java.io.FileNotFoundException is (rightly) thrown.\r\n\r\nHow can I safely encode the String so that it can be used as a filename?\r\n\r\nEdit: What I&#39;m hoping for is an API call that does this for me.\r\n\r\nI can do this:\r\n\r\n        String s = ... // comes from external source\r\n        File currentFile = new File(System.getProperty(&quot;user.home&quot;), URLEncoder.encode(s, &quot;UTF-8&quot;));\r\n        PrintWriter currentWriter = new PrintWriter(currentFile);\r\n\r\nBut I&#39;m not sure whether URLEncoder it is reliable for this purpose.\r\n","title":"How can I safely encode a string in Java to use as a filename?","body":"<p>I'm receiving a string from an external process. I want to use that String to make a filename, and then write to that file. Here's my code snippet to do this:</p>\n\n<pre><code>    String s = ... // comes from external source\n    File currentFile = new File(System.getProperty(\"user.home\"), s);\n    PrintWriter currentWriter = new PrintWriter(currentFile);\n</code></pre>\n\n<p>If s contains an invalid character, such as '/' in a Unix-based OS, then a java.io.FileNotFoundException is (rightly) thrown.</p>\n\n<p>How can I safely encode the String so that it can be used as a filename?</p>\n\n<p>Edit: What I'm hoping for is an API call that does this for me.</p>\n\n<p>I can do this:</p>\n\n<pre><code>    String s = ... // comes from external source\n    File currentFile = new File(System.getProperty(\"user.home\"), URLEncoder.encode(s, \"UTF-8\"));\n    PrintWriter currentWriter = new PrintWriter(currentFile);\n</code></pre>\n\n<p>But I'm not sure whether URLEncoder it is reliable for this purpose.</p>\n"},{"tags":["java","nodes","singly-linked-list","circular-list"],"comments":[{"owner":{"account_id":84127,"reputation":51105,"user_id":235354,"display_name":"jspcal"},"score":0,"creation_date":1642697178,"post_id":70790128,"comment_id":125146074,"body_markdown":"perhaps step through with a debugger?","body":"perhaps step through with a debugger?"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1642697326,"post_id":70790128,"comment_id":125146160,"body_markdown":"In `inc()` when `if(num==1){`, `head` is `null`.","body":"In <code>inc()</code> when <code>if(num==1){</code>, <code>head</code> is <code>null</code>."},{"owner":{"account_id":13770793,"reputation":25892,"user_id":9938317,"display_name":"rioV8"},"score":0,"creation_date":1642697863,"post_id":70790128,"comment_id":125146413,"body_markdown":"whitespace improves readability but too much reduces it","body":"whitespace improves readability but too much reduces it"},{"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"score":0,"creation_date":1642702666,"post_id":70790128,"comment_id":125148350,"body_markdown":"I&#39;d like to help you but your overuse of static just grosses me out.\nThe only thing that should be static is your main().\nIt&#39;s like I got teleported back to the 80s working on bad C code.","body":"I&#39;d like to help you but your overuse of static just grosses me out. The only thing that should be static is your main(). It&#39;s like I got teleported back to the 80s working on bad C code."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642805007,"creation_date":1642805007,"answer_id":70808406,"question_id":70790128,"body_markdown":"The error is on this line:\r\n\r\n    head.data=num;num++;\r\n\r\nIt is quite clear that `head` was never assigned a node reference. It is still `null`. In fact, you *did* create a node and assigned it to `newnode`, but then with `newnode=null` you cut the reference to it. Instead you should have assigned it to `head`, with `head=newnode`.\r\n\r\nIn the case the node is the first node, you should *also* initialise `tail` -- to be the *same* node as the `head` node.\r\n\r\nHere is corrected code for `inc`:\r\n\r\n```\r\nstatic void inc() {\r\n    Node newnode = new Node();\r\n    newnode.data = num++;\r\n        \r\n    if (head == null){\r\n        head = newnode;\r\n    } else {\r\n        tail.next = newnode;\r\n    }\r\n\r\n    tail = newnode;\r\n    tail.next = head;\r\n}\r\n```\r\n\r\nNot related, but you could get rid of `head` all together, as it can be derived from `tail`. When `tail` is `null` then you know the head is `null` too. If `tail` is not `null` you know that the head is at `tail.next`. So there really is no reason to waste memory on storing `head`. Of course, this means you will have to rewrite the display function a bit too.\r\n\r\n","title":"Why my Circular Singly Linked List Java code not working? It says that Node is null can&#39;t put data on it","body":"<p>The error is on this line:</p>\n<pre><code>head.data=num;num++;\n</code></pre>\n<p>It is quite clear that <code>head</code> was never assigned a node reference. It is still <code>null</code>. In fact, you <em>did</em> create a node and assigned it to <code>newnode</code>, but then with <code>newnode=null</code> you cut the reference to it. Instead you should have assigned it to <code>head</code>, with <code>head=newnode</code>.</p>\n<p>In the case the node is the first node, you should <em>also</em> initialise <code>tail</code> -- to be the <em>same</em> node as the <code>head</code> node.</p>\n<p>Here is corrected code for <code>inc</code>:</p>\n<pre><code>static void inc() {\n    Node newnode = new Node();\n    newnode.data = num++;\n        \n    if (head == null){\n        head = newnode;\n    } else {\n        tail.next = newnode;\n    }\n\n    tail = newnode;\n    tail.next = head;\n}\n</code></pre>\n<p>Not related, but you could get rid of <code>head</code> all together, as it can be derived from <code>tail</code>. When <code>tail</code> is <code>null</code> then you know the head is <code>null</code> too. If <code>tail</code> is not <code>null</code> you know that the head is at <code>tail.next</code>. So there really is no reason to waste memory on storing <code>head</code>. Of course, this means you will have to rewrite the display function a bit too.</p>\n"}],"owner":{"account_id":23121783,"reputation":9,"user_id":17228216,"display_name":"fahis23"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1642958392,"answer_count":1,"score":-1,"last_activity_date":1642805185,"creation_date":1642697095,"question_id":70790128,"body_markdown":"For the meantime, I&#39;m trying to figure out the basics of how Circular Singly Linked List works. In this case, I&#39;m creating a program in which, user can input from 1 to 3, the number of linked nodes. However, I&#39;m stuck for over 5 hours and can&#39;t find a solution elsewhere on this problem. It says that I cannot assign data on my Node because it is null, but I already assigned it to a newnode.\r\n\r\nAfter figuring this 1-3 node circular singly linked list. I&#39;m planning on increasing the nodes.\r\n\r\nThe IDE says this:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot assign field &quot;data&quot; because &quot;DS2.prac2.head&quot; is null\r\n    at DS2.prac2.inc(prac2.java:47)\r\n    at DS2.prac2.Start(prac2.java:34)\r\n    at DS2.prac2.main(prac2.java:104)\r\n\r\n \r\n\r\nMy code:\r\n``` \r\npackage DS2;\r\nimport java.util.Scanner;\r\n\r\npublic class prac2{\r\n\r\n    \r\n    static class Node {  \r\n        int data;  \r\n        Node next;  \r\n      \r\n      \r\n    }\r\n  \r\n   \r\n    static Node head;  \r\n    static Node tail;  \r\n    static Node current;  \r\n    public static int num;\r\n\r\n    public prac2(){\r\n\r\n\r\n        num=0;\r\n    }\r\n\r\n\r\n \r\n    static void Start(int n){ //Starts the program\r\n\r\n   \r\n    \r\n    for(int i=0; i&lt;n;i++){ //A loop to create nodes\r\n        inc();\r\n    }\r\n\r\n    }\r\n\r\n    static void inc(){  //the method for each nodes created\r\n\r\n        Node newnode = new Node();\r\n        newnode.data=num;num++;\r\n        newnode.next=head;\r\n        \r\n        if(num==1){\r\n            newnode=null;\r\n            head.data=num;num++;\r\n            head.next=head;\r\n            \r\n\r\n        }\r\n\r\n        else if(num==2){\r\n       \r\n        tail=newnode;\r\n        head.next=tail;\r\n\r\n        }\r\n        else{\r\n         \r\n            tail.next=newnode;\r\n            tail=newnode;\r\n\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    static void Display(){ //For Displaying the Circular List\r\n    int temp1=0;\r\n    current=head;\r\n\r\n    do{\r\n    if(current==head)  //If current passed head twice it means that it passed through all the nodes\r\n        temp1++;\r\n\r\n    System.out.println(current.data);\r\n    current=current.next;\r\n\r\n\r\n    }\r\n    while(temp1==1);\r\n\r\n    \r\n\r\n    }\r\n  \r\n   \r\n    \r\n    public static void main(String[] args) {\r\n        \r\n\r\n      \r\n\r\n        int M,N;\r\n\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n       // M=scan.nextInt();\r\n       System.out.print(&quot;Input how many nodes (1-3): &quot;);\r\n        N=scan.nextInt();\r\n       \r\n        Start(N);\r\n\r\n        scan.close();\r\n\r\n\r\n\r\n        \r\n        \r\n    }\r\n}``` \r\n\r\n\r\n   \r\n\r\n","title":"Why my Circular Singly Linked List Java code not working? It says that Node is null can&#39;t put data on it","body":"<p>For the meantime, I'm trying to figure out the basics of how Circular Singly Linked List works. In this case, I'm creating a program in which, user can input from 1 to 3, the number of linked nodes. However, I'm stuck for over 5 hours and can't find a solution elsewhere on this problem. It says that I cannot assign data on my Node because it is null, but I already assigned it to a newnode.</p>\n<p>After figuring this 1-3 node circular singly linked list. I'm planning on increasing the nodes.</p>\n<p>The IDE says this:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot assign field &quot;data&quot; because &quot;DS2.prac2.head&quot; is null\nat DS2.prac2.inc(prac2.java:47)\nat DS2.prac2.Start(prac2.java:34)\nat DS2.prac2.main(prac2.java:104)\n</code></pre>\n<p>My code:</p>\n<pre><code>package DS2;\nimport java.util.Scanner;\n\npublic class prac2{\n\n    \n    static class Node {  \n        int data;  \n        Node next;  \n      \n      \n    }\n  \n   \n    static Node head;  \n    static Node tail;  \n    static Node current;  \n    public static int num;\n\n    public prac2(){\n\n\n        num=0;\n    }\n\n\n \n    static void Start(int n){ //Starts the program\n\n   \n    \n    for(int i=0; i&lt;n;i++){ //A loop to create nodes\n        inc();\n    }\n\n    }\n\n    static void inc(){  //the method for each nodes created\n\n        Node newnode = new Node();\n        newnode.data=num;num++;\n        newnode.next=head;\n        \n        if(num==1){\n            newnode=null;\n            head.data=num;num++;\n            head.next=head;\n            \n\n        }\n\n        else if(num==2){\n       \n        tail=newnode;\n        head.next=tail;\n\n        }\n        else{\n         \n            tail.next=newnode;\n            tail=newnode;\n\n        }\n\n\n\n    }\n\n    static void Display(){ //For Displaying the Circular List\n    int temp1=0;\n    current=head;\n\n    do{\n    if(current==head)  //If current passed head twice it means that it passed through all the nodes\n        temp1++;\n\n    System.out.println(current.data);\n    current=current.next;\n\n\n    }\n    while(temp1==1);\n\n    \n\n    }\n  \n   \n    \n    public static void main(String[] args) {\n        \n\n      \n\n        int M,N;\n\n        Scanner scan = new Scanner(System.in);\n\n       // M=scan.nextInt();\n       System.out.print(&quot;Input how many nodes (1-3): &quot;);\n        N=scan.nextInt();\n       \n        Start(N);\n\n        scan.close();\n\n\n\n        \n        \n    }\n}``` \n\n\n   \n\n</code></pre>\n"},{"tags":["java","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642804576,"creation_date":1642803441,"answer_id":70808212,"question_id":70808090,"body_markdown":"There are two angles to this problem:\r\n\r\n - Interrupting a currently-running thread.\r\n - Graceful shut down of a scheduled executor service. \r\n\r\nThe first has been addressed [many many times on Stack Overflow][1] already. In brief: You must signal a thread that you want it to interrupt itself. That thread&#39;s task must be coded is such a way to look for the interruption signal. \r\n\r\nFor the second, there are two steps involved:\r\n\r\n - You first tell the scheduled executor service that you want to stop any further executions of future-scheduled tasks. We do this with a call to [`shutdown`][2]. This call does *not* interrupt any currently existing task (see above paragraph). \r\n   - Alternatively, you may call [`shutdownNow`][3]. This call *may* signal the running task to interrupt, but no guarantees. The behavior is implementation-defined. \r\n - After requesting the service to stop further scheduling, you can watch to see if the service does indeed stop after a reasonable amount of time has passed. We do this with a call to [`awaitTermination`][4]. \r\n\r\n\r\n```java\r\nScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor() ;\r\nses.scheduleAtFixedRate( task , initialDelay , period , timeUnit ) ;\r\n…\r\nses.shutdown() ;\r\nboolean terminated = false ;\r\ntry { terminated  = ses.awaitTermination( 1 , TimeUnit.MINUTES ); } catch ( InterruptedException e ) { e.printStackTrace(); }\r\nif( ! terminated ) { … Houston, we have a problem. … }\r\n```\r\n\r\nThe call to `shutdown` (and `shutdownNow`) does *not* block; it does not wait for anything to happen, and does not wait for tasks to end. \r\n\r\nThe call to `awaitTermination` *does* block until either:\r\n\r\n - Scheduled executor service finishes its last running task, and ends.\r\n - The specified time-out elapses. \r\n\r\nTest for the boolean returned by the `awaitTermination` call. To quote the Javadoc: \r\n\r\n&gt;`true` if this executor terminated and `false` if the timeout elapsed before termination\r\n\r\nYou asked:\r\n\r\n&gt; if I did shutdown im not sure how to restart it.\r\n\r\nOnce shutdown, the scheduled executor service is done. To schedule tasks for execution, you must instantiate a new scheduled executor service. \r\n\r\nBe aware that a scheduled executor service with no tasks to execute takes **very little memory or CPU**. So no need to shutdown if you might later need the service.\r\n\r\nHowever, be sure to *always* shutdown your executor services before your app ends. Otherwise the backing thread pool(s) may continue running indefinitely, like a zombie &#129503;‍♂️.\r\n\r\n\r\n  [1]: https://duckduckgo.com/?q=site%3Astackoverflow.com%20java%20interrupt%20thread&amp;t=osx&amp;ia=web\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#shutdown()\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#shutdownNow()\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#awaitTermination(long,java.util.concurrent.TimeUnit)","title":"Toggle ScheduledExecutorService so its not always running","body":"<p>There are two angles to this problem:</p>\n<ul>\n<li>Interrupting a currently-running thread.</li>\n<li>Graceful shut down of a scheduled executor service.</li>\n</ul>\n<p>The first has been addressed <a href=\"https://duckduckgo.com/?q=site%3Astackoverflow.com%20java%20interrupt%20thread&amp;t=osx&amp;ia=web\" rel=\"nofollow noreferrer\">many many times on Stack Overflow</a> already. In brief: You must signal a thread that you want it to interrupt itself. That thread's task must be coded is such a way to look for the interruption signal.</p>\n<p>For the second, there are two steps involved:</p>\n<ul>\n<li>You first tell the scheduled executor service that you want to stop any further executions of future-scheduled tasks. We do this with a call to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#shutdown()\" rel=\"nofollow noreferrer\"><code>shutdown</code></a>. This call does <em>not</em> interrupt any currently existing task (see above paragraph).\n<ul>\n<li>Alternatively, you may call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#shutdownNow()\" rel=\"nofollow noreferrer\"><code>shutdownNow</code></a>. This call <em>may</em> signal the running task to interrupt, but no guarantees. The behavior is implementation-defined.</li>\n</ul>\n</li>\n<li>After requesting the service to stop further scheduling, you can watch to see if the service does indeed stop after a reasonable amount of time has passed. We do this with a call to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#awaitTermination(long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\"><code>awaitTermination</code></a>.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor() ;\nses.scheduleAtFixedRate( task , initialDelay , period , timeUnit ) ;\n…\nses.shutdown() ;\nboolean terminated = false ;\ntry { terminated  = ses.awaitTermination( 1 , TimeUnit.MINUTES ); } catch ( InterruptedException e ) { e.printStackTrace(); }\nif( ! terminated ) { … Houston, we have a problem. … }\n</code></pre>\n<p>The call to <code>shutdown</code> (and <code>shutdownNow</code>) does <em>not</em> block; it does not wait for anything to happen, and does not wait for tasks to end.</p>\n<p>The call to <code>awaitTermination</code> <em>does</em> block until either:</p>\n<ul>\n<li>Scheduled executor service finishes its last running task, and ends.</li>\n<li>The specified time-out elapses.</li>\n</ul>\n<p>Test for the boolean returned by the <code>awaitTermination</code> call. To quote the Javadoc:</p>\n<blockquote>\n<p><code>true</code> if this executor terminated and <code>false</code> if the timeout elapsed before termination</p>\n</blockquote>\n<p>You asked:</p>\n<blockquote>\n<p>if I did shutdown im not sure how to restart it.</p>\n</blockquote>\n<p>Once shutdown, the scheduled executor service is done. To schedule tasks for execution, you must instantiate a new scheduled executor service.</p>\n<p>Be aware that a scheduled executor service with no tasks to execute takes <strong>very little memory or CPU</strong>. So no need to shutdown if you might later need the service.</p>\n<p>However, be sure to <em>always</em> shutdown your executor services before your app ends. Otherwise the backing thread pool(s) may continue running indefinitely, like a zombie 🧟‍♂️.</p>\n"}],"owner":{"account_id":24014352,"reputation":5,"user_id":17997491,"display_name":"Jacrispy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70808212,"answer_count":1,"score":-1,"last_activity_date":1642804576,"creation_date":1642802630,"question_id":70808090,"body_markdown":"I&#39;m currently working on a discord bot just to mess around with, but have used SES in the past for other things, but I always struggle to disable/enable the SES, calling `ses.shutdown();` does not work and the runnable continues, and if I did shutdown im not sure how to restart it.\r\n\r\nHere is my current code...\r\n\r\n\r\n    private final ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor();\r\n\r\n    protected void startRainbow(Role rle) {\r\n        roleRainbow[] colors = roleRainbow.values();\r\n        HashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;loop&quot;, 0);\r\n\r\n        Runnable r = () -&gt; {\r\n\r\n            if(map.get(&quot;loop&quot;) &gt;= colors.length) {\r\n                map.put(&quot;loop&quot;, 0);\r\n            }\r\n\r\n\r\n\r\n            rle.getManager().setColor(Color.decode(colors[map.get(&quot;loop&quot;)].toString())).queue();\r\n            System.out.println(&quot;color is: &quot; + colors[map.get(&quot;loop&quot;)].toString());\r\n            System.out.println(&quot;color from role: &quot; + rle.getColor());\r\n\r\n            map.put(&quot;loop&quot;, map.get(&quot;loop&quot;) + 1);\r\n        };\r\n\r\n        ses.scheduleAtFixedRate(r, 1L, 1, TimeUnit.SECONDS);\r\n    }","title":"Toggle ScheduledExecutorService so its not always running","body":"<p>I'm currently working on a discord bot just to mess around with, but have used SES in the past for other things, but I always struggle to disable/enable the SES, calling <code>ses.shutdown();</code> does not work and the runnable continues, and if I did shutdown im not sure how to restart it.</p>\n<p>Here is my current code...</p>\n<pre><code>private final ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor();\n\nprotected void startRainbow(Role rle) {\n    roleRainbow[] colors = roleRainbow.values();\n    HashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n    map.put(&quot;loop&quot;, 0);\n\n    Runnable r = () -&gt; {\n\n        if(map.get(&quot;loop&quot;) &gt;= colors.length) {\n            map.put(&quot;loop&quot;, 0);\n        }\n\n\n\n        rle.getManager().setColor(Color.decode(colors[map.get(&quot;loop&quot;)].toString())).queue();\n        System.out.println(&quot;color is: &quot; + colors[map.get(&quot;loop&quot;)].toString());\n        System.out.println(&quot;color from role: &quot; + rle.getColor());\n\n        map.put(&quot;loop&quot;, map.get(&quot;loop&quot;) + 1);\n    };\n\n    ses.scheduleAtFixedRate(r, 1L, 1, TimeUnit.SECONDS);\n}\n</code></pre>\n"},{"tags":["java","image-processing","rendering","graphics2d","javax.imageio"],"answers":[{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642804542,"creation_date":1642804542,"answer_id":70808350,"question_id":70808205,"body_markdown":"You never filled the image or drew any filled shape. Setting the background color doesn&#39;t change the image, it only selects the color that will be used for the next operation that fills with the background color. It&#39;s like putting paint on your paintbrush, but never painting on the canvas. But as the docs for [clearRect](https://docs.oracle.com/javase/10/docs/api/java/awt/Graphics.html#clearRect(int,int,int,int)) say, you should use [setColor](https://docs.oracle.com/javase/10/docs/api/java/awt/Graphics.html#setColor(java.awt.Color)) followed by [fillRect](https://docs.oracle.com/javase/10/docs/api/java/awt/Graphics.html#fillRect(int,int,int,int)) instead.\r\n\r\nThere also seems to be a problem with the way you calculate the position to draw the string on the screen. You use `stringWidth - width/2`. The width is 128. Let&#39;s say the stringWidth is 32. Then that will be 32 - 128/2, or 32 - 64, or -32. Depending on the width of the string, at least part of it will be drawn outside the buffered image. It will be clipped, and either invisible, or only partly visible.\r\n\r\nI would suggest `width/2 - stringWidth/2` (or just `(width - stringWidth)/2`). The idea is to start at width/2, the center of the image, and back up half the width of the string, so that it is centered on the image. Although, I do not know how you intend for the results to look.","title":"setBackground() method is not working for Graphics2D object","body":"<p>You never filled the image or drew any filled shape. Setting the background color doesn't change the image, it only selects the color that will be used for the next operation that fills with the background color. It's like putting paint on your paintbrush, but never painting on the canvas. But as the docs for <a href=\"https://docs.oracle.com/javase/10/docs/api/java/awt/Graphics.html#clearRect(int,int,int,int)\" rel=\"nofollow noreferrer\">clearRect</a> say, you should use <a href=\"https://docs.oracle.com/javase/10/docs/api/java/awt/Graphics.html#setColor(java.awt.Color)\" rel=\"nofollow noreferrer\">setColor</a> followed by <a href=\"https://docs.oracle.com/javase/10/docs/api/java/awt/Graphics.html#fillRect(int,int,int,int)\" rel=\"nofollow noreferrer\">fillRect</a> instead.</p>\n<p>There also seems to be a problem with the way you calculate the position to draw the string on the screen. You use <code>stringWidth - width/2</code>. The width is 128. Let's say the stringWidth is 32. Then that will be 32 - 128/2, or 32 - 64, or -32. Depending on the width of the string, at least part of it will be drawn outside the buffered image. It will be clipped, and either invisible, or only partly visible.</p>\n<p>I would suggest <code>width/2 - stringWidth/2</code> (or just <code>(width - stringWidth)/2</code>). The idea is to start at width/2, the center of the image, and back up half the width of the string, so that it is centered on the image. Although, I do not know how you intend for the results to look.</p>\n"}],"owner":{"account_id":13965074,"reputation":45,"user_id":10085106,"display_name":"click clack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70808350,"answer_count":1,"score":0,"last_activity_date":1642804542,"creation_date":1642803413,"question_id":70808205,"body_markdown":"I need some help with the Graphics2D class, I&#39;m not sure why the **setBackground() method doesn&#39;t work**, the rendered image background simply remains white.\r\n\r\n    int width = 128, height = 32;\r\n    \r\n    BufferedImage bi = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\r\n    \r\n    Graphics2D ig2 = bi.createGraphics();\r\n    Font font = new Font(&quot;TimesRoman&quot;, Font.BOLD, 12);\r\n    ig2.setBackground(Color.BLACK);\r\n    ig2.setFont(font);\r\n    String message = &quot;custom text&quot;;\r\n    FontMetrics fontMetrics = ig2.getFontMetrics();\r\n    int stringWidth = fontMetrics.stringWidth(message);\r\n    int stringHeight = fontMetrics.getAscent();\r\n    ig2.setPaint(Color.red);\r\n    ig2.drawString(message, stringWidth - width/2, height / 4 + stringHeight / 6);\r\n    \r\n    ImageIO.write(bi, &quot;PNG&quot;, new File(&quot;src/output.jpeg&quot;));\r\n\r\nThanks for your time fellas","title":"setBackground() method is not working for Graphics2D object","body":"<p>I need some help with the Graphics2D class, I'm not sure why the <strong>setBackground() method doesn't work</strong>, the rendered image background simply remains white.</p>\n<pre><code>int width = 128, height = 32;\n\nBufferedImage bi = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\n\nGraphics2D ig2 = bi.createGraphics();\nFont font = new Font(&quot;TimesRoman&quot;, Font.BOLD, 12);\nig2.setBackground(Color.BLACK);\nig2.setFont(font);\nString message = &quot;custom text&quot;;\nFontMetrics fontMetrics = ig2.getFontMetrics();\nint stringWidth = fontMetrics.stringWidth(message);\nint stringHeight = fontMetrics.getAscent();\nig2.setPaint(Color.red);\nig2.drawString(message, stringWidth - width/2, height / 4 + stringHeight / 6);\n\nImageIO.write(bi, &quot;PNG&quot;, new File(&quot;src/output.jpeg&quot;));\n</code></pre>\n<p>Thanks for your time fellas</p>\n"},{"tags":["java","format","printf"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1616375472,"post_id":66739150,"comment_id":117974691,"body_markdown":"One of options is to first convert `1.` to String `&quot;1.&quot;` and later pass it as argument to `printf` to align it to left.","body":"One of options is to first convert <code>1.</code> to String <code>&quot;1.&quot;</code> and later pass it as argument to <code>printf</code> to align it to left."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1616375858,"post_id":66739150,"comment_id":117974763,"body_markdown":"Something like `System.out.printf(&quot;%-8s | %-5s | %-15s\\n&quot;, nr+&quot;.&quot;,  123   , &quot;PICO&quot;);`. BTW your problem is caused by fact that `%d` represents integers, not floating point numbers so there is no dot support in that placeholder making used dot *simple character which needs to be printed*.","body":"Something like <code>System.out.printf(&quot;%-8s | %-5s | %-15s\\n&quot;, nr+&quot;.&quot;,  123   , &quot;PICO&quot;);</code>. BTW your problem is caused by fact that <code>%d</code> represents integers, not floating point numbers so there is no dot support in that placeholder making used dot <i>simple character which needs to be printed</i>."}],"answers":[{"tags":[],"owner":{"account_id":20685110,"reputation":58,"user_id":15216231,"display_name":"William"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642804108,"creation_date":1642804108,"answer_id":70808290,"question_id":66739150,"body_markdown":"as to @Pshemo&#39;s comment, the dash alone isn&#39;t enough, a straightforward solution is to simpily convert the int into a String variable and concatenate a dot after that variable, then using it in the first field with a dash :\r\n\r\n```java\r\nint number = 1;\r\nString a = number + &quot;.&quot;;\r\n\r\nSystem.out.printf(&quot;%-8s | %-5s | %-15s\\n&quot;, a, b, c);\r\n```\r\nOutput : \r\n```\r\n1.       | 123   | PICO \r\n```","title":"How to align all desired output to the left with printf in java","body":"<p>as to @Pshemo's comment, the dash alone isn't enough, a straightforward solution is to simpily convert the int into a String variable and concatenate a dot after that variable, then using it in the first field with a dash :</p>\n<pre class=\"lang-java prettyprint-override\"><code>int number = 1;\nString a = number + &quot;.&quot;;\n\nSystem.out.printf(&quot;%-8s | %-5s | %-15s\\n&quot;, a, b, c);\n</code></pre>\n<p>Output :</p>\n<pre><code>1.       | 123   | PICO \n</code></pre>\n"}],"owner":{"account_id":20685110,"reputation":58,"user_id":15216231,"display_name":"William"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70808290,"answer_count":1,"score":0,"last_activity_date":1642804108,"creation_date":1616375064,"question_id":66739150,"body_markdown":"I&#39;m using `System.out.printf(&quot;%-8d | %-5s | %-15s\\n&quot;, a, b, c);` to format my output and I&#39;m using `-` to align to the left but I want to put a dot that&#39;s also aligned to the left next to the `int` number.\r\nfor example :\r\n`1.       | 123   | PICO `. \r\n\r\nWhen I put a dot like `%-8d.` the `int` is aligned to the left but not the dot `1      . | 123   | PICO `, how can I make this happen?\r\n\r\n","title":"How to align all desired output to the left with printf in java","body":"<p>I'm using <code>System.out.printf(&quot;%-8d | %-5s | %-15s\\n&quot;, a, b, c);</code> to format my output and I'm using <code>-</code> to align to the left but I want to put a dot that's also aligned to the left next to the <code>int</code> number.\nfor example :\n<code>1.       | 123   | PICO </code>.</p>\n<p>When I put a dot like <code>%-8d.</code> the <code>int</code> is aligned to the left but not the dot <code>1      . | 123   | PICO </code>, how can I make this happen?</p>\n"},{"tags":["java","javafx","architecture","software-design"],"comments":[{"owner":{"account_id":21654352,"reputation":57,"user_id":15974441,"display_name":"kanka.dev"},"score":0,"creation_date":1642810800,"post_id":70803994,"comment_id":125179682,"body_markdown":"I published the whole code now https://github.com/kankadev/checksum-sharer-javafx","body":"I published the whole code now <a href=\"https://github.com/kankadev/checksum-sharer-javafx\" rel=\"nofollow noreferrer\">github.com/kankadev/checksum-sharer-javafx</a>"}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642793319,"creation_date":1642784294,"answer_id":70804899,"question_id":70803994,"body_markdown":"Make your checksum calculator a `Task`, instead of a `Service`:\r\n\r\n    public class ChecksumCalculatorTask extends Task&lt;String&gt; {\r\n    \r\n        private static final Logger logger = LogManager.getLogger();\r\n    \r\n        private final KnkFile knkFile;\r\n        private final Algorithm algorithm;\r\n    \r\n        public ChecksumCalculatorService(KnkFile f, Algorithm algorithm) {\r\n            this.knkFile = f;\r\n            this.algorithm = algorithm;\r\n        }\r\n\r\n        public KnkFile getKnkFile() {\r\n            return knkFile;\r\n        }\r\n    \r\n        private String getChecksumOfFile() throws IOException, NoSuchAlgorithmException {\r\n    \r\n            // ...\r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected String call() throws Exception {\r\n            return getChecksumOfFile();\r\n        }\r\n    }\r\n\r\nCreate an executor:\r\n\r\n    private ExecutorService exec = Executors.newCachedTheadPool() ;\r\n\r\nNow you can submit the tasks to the executor:\r\n\r\n    public static void handleNewFiles(List&lt;File&gt; files) {\r\n    \r\n        List&lt;ChecksumCalculatorTask&gt; tasks = new ArrayList&lt;&gt;();\r\n    \r\n        for (java.io.File file : files) {\r\n            KnkFile knkFile = new KnkFile(file.getAbsolutePath());\r\n    \r\n            ChecksumCalculatorTask sha256task = new ChecksumCalculatorTask(knkFile, Algorithm.SHA_256);\r\n            tasks.add(sha256Task);\r\n            sha256task.setOnSucceeded(event -&gt; {\r\n                logger.debug(knkFile);\r\n            });\r\n            exec.execute(task);\r\n        }\r\n    \r\n        \r\n        // Create a `Task` that waits until they&#39;re finished and processes tham all:\r\n    \r\n        Task&lt;Void&gt; processCompletedTasks = new Task&lt;&gt;() {\r\n            @Override\r\n            protected Void call() throws Exception {\r\n                // block until tasks complete:\r\n                for (Future&lt;?&gt; f : tasks) {\r\n                    f.get();\r\n                }\r\n                // process completed tasks:\r\n                for (ChecksumCalculatorTask task : tasks) {\r\n                    KnkFile file = task.getKnkFile() ;\r\n                    String checksum = task.getValue();\r\n                    // ... whatever you need here, note this is on background thread\r\n                }\r\n            }\r\n        };\r\n        exec.submit(processCompletedTasks);\r\n    }\r\n\r\n","title":"How to design my JavaFX Service / Tasks for calculating 4 checksums of a file?","body":"<p>Make your checksum calculator a <code>Task</code>, instead of a <code>Service</code>:</p>\n<pre><code>public class ChecksumCalculatorTask extends Task&lt;String&gt; {\n\n    private static final Logger logger = LogManager.getLogger();\n\n    private final KnkFile knkFile;\n    private final Algorithm algorithm;\n\n    public ChecksumCalculatorService(KnkFile f, Algorithm algorithm) {\n        this.knkFile = f;\n        this.algorithm = algorithm;\n    }\n\n    public KnkFile getKnkFile() {\n        return knkFile;\n    }\n\n    private String getChecksumOfFile() throws IOException, NoSuchAlgorithmException {\n\n        // ...\n\n    }\n\n    @Override\n    protected String call() throws Exception {\n        return getChecksumOfFile();\n    }\n}\n</code></pre>\n<p>Create an executor:</p>\n<pre><code>private ExecutorService exec = Executors.newCachedTheadPool() ;\n</code></pre>\n<p>Now you can submit the tasks to the executor:</p>\n<pre><code>public static void handleNewFiles(List&lt;File&gt; files) {\n\n    List&lt;ChecksumCalculatorTask&gt; tasks = new ArrayList&lt;&gt;();\n\n    for (java.io.File file : files) {\n        KnkFile knkFile = new KnkFile(file.getAbsolutePath());\n\n        ChecksumCalculatorTask sha256task = new ChecksumCalculatorTask(knkFile, Algorithm.SHA_256);\n        tasks.add(sha256Task);\n        sha256task.setOnSucceeded(event -&gt; {\n            logger.debug(knkFile);\n        });\n        exec.execute(task);\n    }\n\n    \n    // Create a `Task` that waits until they're finished and processes tham all:\n\n    Task&lt;Void&gt; processCompletedTasks = new Task&lt;&gt;() {\n        @Override\n        protected Void call() throws Exception {\n            // block until tasks complete:\n            for (Future&lt;?&gt; f : tasks) {\n                f.get();\n            }\n            // process completed tasks:\n            for (ChecksumCalculatorTask task : tasks) {\n                KnkFile file = task.getKnkFile() ;\n                String checksum = task.getValue();\n                // ... whatever you need here, note this is on background thread\n            }\n        }\n    };\n    exec.submit(processCompletedTasks);\n}\n</code></pre>\n"}],"owner":{"account_id":21654352,"reputation":57,"user_id":15974441,"display_name":"kanka.dev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642802718,"creation_date":1642780070,"question_id":70803994,"body_markdown":"I&#39;m new to JavaFX and have a problem with the design / architecture of my software.\r\n\r\nMy use case is:\r\n\r\n 1. User inserts file(s) into my software per File Chooser or per Drag&amp;Drop\r\n 2. Read meta data of this file like filename, path, length (filesize) etc.\r\n 3. calculate different checksums of each file\r\n 4. save all information (meta data and calculated checksums) in a SQLite-Datase\r\n\r\nAt the moment I only calculate one checksum because I don&#39;t know how to wait for the other services. And I think my design is not very smart. Do you have any suggestions?\r\n\r\n`dev.kanka.checksumsharer.ChecksumSharerApplication#handleDragAndDropFiles`:\r\n```\r\nprivate void handleDragAndDropFiles(Dragboard dragboard) {\r\n\tList&lt;File&gt; newFiles = dragboard.getFiles();\r\n\tlogger.info(&quot;Dropped files: &quot; + newFiles);\r\n\tFileUtil.handleNewFiles(newFiles);\r\n}\r\n```\r\n\r\n`dev.kanka.checksumsharer.utils.FileUtil#handleNewFiles`\r\n```\r\npublic static void handleNewFiles(List&lt;File&gt; files) {\r\n\tfor (java.io.File file : files) {\r\n\t\tKnkFile knkFile = new KnkFile(file.getAbsolutePath());\r\n\r\n\t\tChecksumCalculatorService sha256service = new ChecksumCalculatorService(knkFile, Algorithm.SHA_256);\r\n\t\tsha256service.start();\r\n\t\tsha256service.setOnSucceeded(event -&gt; {\r\n\t\t\tknkFile.setSha256(sha256service.getValue());\r\n\t\t\tlogger.debug(knkFile);\r\n            // TODO: I could call the second service here?\r\n\t\t\tFileDAO.insertFile(knkFile);\r\n\t\t});\r\n\r\n\r\n\r\n//\t\tChecksumCalculatorService sha512Service = new ChecksumCalculatorService(file, Algorithm.SHA_512);\r\n//      ChecksumCalculatorService sha3384Service = new ChecksumCalculatorService(file, Algorithm.SHA3_384);\r\n//      ChecksumCalculatorService sha3512Service = new ChecksumCalculatorService(file, Algorithm.SHA3_512);\r\n//\r\n//      sha512Service.start();\r\n//      sha3384Service.start();\r\n//      sha3512Service.start();\r\n\r\n\t// TODO: How can I insert this one file after calculating all checksums? Software Architecture Question...\r\n\r\n\t}\r\n}\r\n```\r\n\r\n\r\n`ChecksumCalculatorService:`\r\n```\r\npackage dev.kanka.checksumsharer.hash;\r\n\r\nimport dev.kanka.checksumsharer.models.KnkFile;\r\nimport javafx.concurrent.Service;\r\nimport javafx.concurrent.Task;\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport java.security.MessageDigest;\r\nimport java.security.NoSuchAlgorithmException;\r\n\r\npublic class ChecksumCalculatorService extends Service&lt;String&gt; {\r\n\r\n    private static final Logger logger = LogManager.getLogger();\r\n\r\n    private KnkFile knkFile;\r\n    private Algorithm algorithm;\r\n\r\n    public ChecksumCalculatorService(KnkFile f, Algorithm algorithm) {\r\n        this.knkFile = f;\r\n        this.algorithm = algorithm;\r\n    }\r\n\r\n    private String getChecksumOfFile() throws IOException, NoSuchAlgorithmException {\r\n        MessageDigest digest = MessageDigest.getInstance(algorithm.toString());\r\n\r\n        // Get knkFile input stream for reading the knkFile content\r\n        try (FileInputStream fis = new FileInputStream(this.knkFile)) {\r\n            // Create byte array to read data in chunks\r\n            byte[] byteArray = new byte[8192];\r\n            int bytesCount = 0;\r\n\r\n            // Read knkFile data and update in message digest\r\n            while ((bytesCount = fis.read(byteArray)) != -1) {\r\n                digest.update(byteArray, 0, bytesCount);\r\n            }\r\n        }\r\n\r\n        //Get the hash&#39;s bytes\r\n        byte[] bytes = digest.digest();\r\n\r\n        // bytes[] has bytes in decimal format;\r\n        // Convert it to hexadecimal format\r\n        StringBuilder sb = new StringBuilder();\r\n        for (int i = 0; i &lt; bytes.length; i++) {\r\n            sb.append(Integer.toString((bytes[i] &amp; 0xff) + 0x100, 16).substring(1));\r\n        }\r\n\r\n        return sb.toString();\r\n    }\r\n\r\n    @Override\r\n    protected Task&lt;String&gt; createTask() {\r\n        return new Task&lt;&gt;() {\r\n            @Override\r\n            protected String call() throws Exception {\r\n                return getChecksumOfFile();\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nIs it okay to create 4 services? Or can I create 1 service with 4 tasks? How can I synchronize them all and wait for all results before inserting the information in the database?\r\n\r\nThanks.\r\n\r\n# Edit\r\n\r\nI tried following after an answer.\r\n\r\n```\r\npublic class ChecksumCalculationTask extends Task&lt;String&gt; {\r\n\r\n    private static final Logger logger = LogManager.getLogger();\r\n\r\n    private final KnkFile knkFile;\r\n    private final Algorithm algorithm;\r\n\r\n    public ChecksumCalculationTask(KnkFile f, Algorithm algorithm) {\r\n        this.knkFile = f;\r\n        this.algorithm = algorithm;\r\n    }\r\n\r\n    private String getChecksumOfFile() throws IOException, NoSuchAlgorithmException {\r\n        MessageDigest digest = MessageDigest.getInstance(algorithm.toString());\r\n\r\n        // Get knkFile input stream for reading the knkFile content\r\n        try (FileInputStream fis = new FileInputStream(this.knkFile)) {\r\n            // Create byte array to read data in chunks\r\n            byte[] byteArray = new byte[8192];\r\n            int bytesCount = 0;\r\n\r\n            // Read knkFile data and update in message digest\r\n            while ((bytesCount = fis.read(byteArray)) != -1) {\r\n                digest.update(byteArray, 0, bytesCount);\r\n            }\r\n        }\r\n\r\n        //Get the hash&#39;s bytes\r\n        byte[] bytes = digest.digest();\r\n\r\n        // bytes[] has bytes in decimal format;\r\n        // Convert it to hexadecimal format\r\n        StringBuilder sb = new StringBuilder();\r\n        for (int i = 0; i &lt; bytes.length; i++) {\r\n            sb.append(Integer.toString((bytes[i] &amp; 0xff) + 0x100, 16).substring(1));\r\n        }\r\n\r\n        return sb.toString();\r\n    }\r\n\r\n    public KnkFile getKnkFile() {\r\n        return this.knkFile;\r\n    }\r\n\r\n    public Algorithm getAlgorithm() {\r\n        return this.algorithm;\r\n    }\r\n\r\n    @Override\r\n    protected String call() throws Exception {\r\n        return getChecksumOfFile();\r\n    }\r\n}\r\n```\r\n\r\n\r\n`dev.kanka.checksumsharer.utils.FileUtil#handleNewFiles`\r\n```\r\npublic static void handleNewFiles(List&lt;File&gt; files) {\r\n        ExecutorService exec = Executors.newFixedThreadPool(Algorithm.values().length);\r\n        List&lt;ChecksumCalculationTask&gt; tasks = new ArrayList&lt;&gt;();\r\n\r\n        for (File file : files) {\r\n            KnkFile knkFile = new KnkFile(file.getAbsolutePath());\r\n\r\n            tasks.add(new ChecksumCalculationTask(knkFile, Algorithm.SHA_256));\r\n            tasks.add(new ChecksumCalculationTask(knkFile, Algorithm.SHA_512));\r\n            tasks.add(new ChecksumCalculationTask(knkFile, Algorithm.SHA3_384));\r\n            tasks.add(new ChecksumCalculationTask(knkFile, Algorithm.SHA3_512));\r\n        }\r\n\r\n        List&lt;Future&lt;String&gt;&gt; futures = exec.invokeAll(tasks);\r\n\r\n        // Create a `Task` that waits until they&#39;re finished and processes them all\r\n        Task&lt;Void&gt; processCompletedTasks = new Task&lt;&gt;() {\r\n            @Override\r\n            protected Void call() throws Exception {\r\n                // block until tasks complete\r\n                for (Future&lt;String&gt; f : futures) {\r\n                    f.get();\r\n                }\r\n                // process completed tasks\r\n                for (ChecksumCalculationTask task : tasks) {\r\n                    KnkFile knkFile = task.getKnkFile();\r\n                    String checksum = task.getValue();\r\n                    Algorithm algorithm = task.getAlgorithm();\r\n\r\n                    // ... whatever you need here, note this is on background thread\r\n                }\r\n                return null;\r\n            }\r\n        };\r\n        exec.submit(processCompletedTasks);\r\n        exec.shutdown();\r\n    }\r\n```\r\n\r\nIt looks logic for me but I got an compiler error in IntelliJ because of the `exec.invokeAll`-call: `reason: no instance(s) of type variable(s) T exist so that ChecksumCalculationTask conforms to Callable&lt;T&gt;`.\r\n\r\n# Edit 2\r\n\r\nI have no compiler errors anymore but a new weird problem. All debug messages are shown in console until the programm is reaching the line where I commented `// SEEME`.\r\n\r\n```\r\npublic static void handleNewFiles(List&lt;File&gt; files) {\r\n        logger.debug(&quot;handleNewFiles()&quot;);\r\n\r\n        ExecutorService exec = Executors.newCachedThreadPool();\r\n        List&lt;ChecksumCalculationTask&gt; tasks = new ArrayList&lt;&gt;(Algorithm.values().length);\r\n\r\n        for (File file : files) {\r\n            logger.debug(&quot;handle file {}&quot;, file);\r\n\r\n            KnkFile knkFile = new KnkFile(file.getAbsolutePath());\r\n\r\n            for (Algorithm algorithm : Algorithm.values()) {\r\n                ChecksumCalculationTask task = new ChecksumCalculationTask(knkFile, algorithm);\r\n                logger.debug(task);\r\n                tasks.add(task);\r\n                exec.execute(task);\r\n            }\r\n        }\r\n\r\n        logger.debug(&quot;All files were added to the tasks queue and processing was started.&quot;);\r\n\r\n        // Create a `Task` that waits until all `ChecksumCalculationTask`s finished and processes them all\r\n        Task&lt;Void&gt; processCompletedTasks = new Task&lt;&gt;() {\r\n            @Override\r\n            protected Void call() throws Exception {\r\n                logger.debug(&quot;processCompletedTasks#call()&quot;);\r\n\r\n                // block until tasks complete\r\n                for (Future&lt;?&gt; f : tasks) {\r\n                    f.get();\r\n                    logger.debug(&quot;Future f: &quot; + f);\r\n                }\r\n\r\n                logger.debug(&quot;Process completed tasks now...&quot;);\r\n\r\n                // process completed tasks\r\n                for (ChecksumCalculationTask task : tasks) {\r\n\r\n                    logger.debug(&quot;Process completed task {}&quot;, task);\r\n\r\n                    // SEEMEE ... it seems nothing below is executed... why? No debug messages, no DB insertion...\r\n                    String checksum = task.getValue();\r\n                    logger.debug(&quot;checksum: &quot; + checksum);\r\n                    Algorithm algorithm = task.getAlgorithm();\r\n                    logger.debug(&quot;algorithm: &quot; + algorithm);\r\n                    KnkFile knkFile = task.getKnkFile();\r\n                    logger.debug(knkFile);\r\n\r\n                    switch(task.getAlgorithm()) {\r\n                        case SHA_256 -&gt; knkFile.setSha256(task.getValue());\r\n                        case SHA_512 -&gt; knkFile.setSha512(task.getValue());\r\n                        case SHA3_384 -&gt; knkFile.setSha3384(task.getValue());\r\n                        case SHA3_512 -&gt; knkFile.setSha3512(task.getValue());\r\n                    }\r\n\r\n                    FileDAO.insertFile(knkFile);\r\n                }\r\n\r\n                logger.debug(&quot;end call();&quot;);\r\n\r\n                return null;\r\n            }\r\n        };\r\n        exec.submit(processCompletedTasks);\r\n        exec.shutdown();\r\n    }\r\n```\r\n\r\nConsole:\r\n```\r\n2022-01-22 01:04:31 INFO  ChecksumSharerApplication:72 - Dropped files: [D:\\Musik\\!Amirap\\X Zibit - X.mp3]\r\n2022-01-22 01:04:31 DEBUG FileUtil:56 - handleNewFiles()\r\n2022-01-22 01:04:31 DEBUG FileUtil:62 - handle file D:\\Musik\\!Amirap\\X Zibit - X.mp3\r\n2022-01-22 01:04:31 DEBUG FileUtil:68 - dev.kanka.checksumsharer.hash.ChecksumCalculationTask@7bf96ac3[Not completed, task = javafx.concurrent.Task$TaskCallable@6c1b122d]\r\n2022-01-22 01:04:31 DEBUG FileUtil:68 - dev.kanka.checksumsharer.hash.ChecksumCalculationTask@1ff9f582[Not completed, task = javafx.concurrent.Task$TaskCallable@2bc700ad]\r\n2022-01-22 01:04:31 DEBUG FileUtil:68 - dev.kanka.checksumsharer.hash.ChecksumCalculationTask@4727494a[Not completed, task = javafx.concurrent.Task$TaskCallable@54f6e911]\r\n2022-01-22 01:04:31 DEBUG FileUtil:68 - dev.kanka.checksumsharer.hash.ChecksumCalculationTask@6a594eea[Not completed, task = javafx.concurrent.Task$TaskCallable@90490ba]\r\n2022-01-22 01:04:31 DEBUG FileUtil:74 - All files were added to the tasks queue and processing was started.\r\n2022-01-22 01:04:31 DEBUG FileUtil:80 - processCompletedTasks#call()\r\n2022-01-22 01:04:31 DEBUG FileUtil:85 - Future f: dev.kanka.checksumsharer.hash.ChecksumCalculationTask@7bf96ac3[Completed normally]\r\n2022-01-22 01:04:31 DEBUG FileUtil:85 - Future f: dev.kanka.checksumsharer.hash.ChecksumCalculationTask@1ff9f582[Completed normally]\r\n2022-01-22 01:04:31 DEBUG FileUtil:85 - Future f: dev.kanka.checksumsharer.hash.ChecksumCalculationTask@4727494a[Completed normally]\r\n2022-01-22 01:04:31 DEBUG FileUtil:85 - Future f: dev.kanka.checksumsharer.hash.ChecksumCalculationTask@6a594eea[Completed normally]\r\n2022-01-22 01:04:31 DEBUG FileUtil:88 - Process completed tasks now...\r\n2022-01-22 01:04:31 DEBUG FileUtil:93 - Process completed task dev.kanka.checksumsharer.hash.ChecksumCalculationTask@7bf96ac3[Completed normally]\r\n```\r\n\r\nCan&#39;t explain why...?","title":"How to design my JavaFX Service / Tasks for calculating 4 checksums of a file?","body":"<p>I'm new to JavaFX and have a problem with the design / architecture of my software.</p>\n<p>My use case is:</p>\n<ol>\n<li>User inserts file(s) into my software per File Chooser or per Drag&amp;Drop</li>\n<li>Read meta data of this file like filename, path, length (filesize) etc.</li>\n<li>calculate different checksums of each file</li>\n<li>save all information (meta data and calculated checksums) in a SQLite-Datase</li>\n</ol>\n<p>At the moment I only calculate one checksum because I don't know how to wait for the other services. And I think my design is not very smart. Do you have any suggestions?</p>\n<p><code>dev.kanka.checksumsharer.ChecksumSharerApplication#handleDragAndDropFiles</code>:</p>\n<pre><code>private void handleDragAndDropFiles(Dragboard dragboard) {\n    List&lt;File&gt; newFiles = dragboard.getFiles();\n    logger.info(&quot;Dropped files: &quot; + newFiles);\n    FileUtil.handleNewFiles(newFiles);\n}\n</code></pre>\n<p><code>dev.kanka.checksumsharer.utils.FileUtil#handleNewFiles</code></p>\n<pre><code>public static void handleNewFiles(List&lt;File&gt; files) {\n    for (java.io.File file : files) {\n        KnkFile knkFile = new KnkFile(file.getAbsolutePath());\n\n        ChecksumCalculatorService sha256service = new ChecksumCalculatorService(knkFile, Algorithm.SHA_256);\n        sha256service.start();\n        sha256service.setOnSucceeded(event -&gt; {\n            knkFile.setSha256(sha256service.getValue());\n            logger.debug(knkFile);\n            // TODO: I could call the second service here?\n            FileDAO.insertFile(knkFile);\n        });\n\n\n\n//      ChecksumCalculatorService sha512Service = new ChecksumCalculatorService(file, Algorithm.SHA_512);\n//      ChecksumCalculatorService sha3384Service = new ChecksumCalculatorService(file, Algorithm.SHA3_384);\n//      ChecksumCalculatorService sha3512Service = new ChecksumCalculatorService(file, Algorithm.SHA3_512);\n//\n//      sha512Service.start();\n//      sha3384Service.start();\n//      sha3512Service.start();\n\n    // TODO: How can I insert this one file after calculating all checksums? Software Architecture Question...\n\n    }\n}\n</code></pre>\n<p><code>ChecksumCalculatorService:</code></p>\n<pre><code>package dev.kanka.checksumsharer.hash;\n\nimport dev.kanka.checksumsharer.models.KnkFile;\nimport javafx.concurrent.Service;\nimport javafx.concurrent.Task;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\n\npublic class ChecksumCalculatorService extends Service&lt;String&gt; {\n\n    private static final Logger logger = LogManager.getLogger();\n\n    private KnkFile knkFile;\n    private Algorithm algorithm;\n\n    public ChecksumCalculatorService(KnkFile f, Algorithm algorithm) {\n        this.knkFile = f;\n        this.algorithm = algorithm;\n    }\n\n    private String getChecksumOfFile() throws IOException, NoSuchAlgorithmException {\n        MessageDigest digest = MessageDigest.getInstance(algorithm.toString());\n\n        // Get knkFile input stream for reading the knkFile content\n        try (FileInputStream fis = new FileInputStream(this.knkFile)) {\n            // Create byte array to read data in chunks\n            byte[] byteArray = new byte[8192];\n            int bytesCount = 0;\n\n            // Read knkFile data and update in message digest\n            while ((bytesCount = fis.read(byteArray)) != -1) {\n                digest.update(byteArray, 0, bytesCount);\n            }\n        }\n\n        //Get the hash's bytes\n        byte[] bytes = digest.digest();\n\n        // bytes[] has bytes in decimal format;\n        // Convert it to hexadecimal format\n        StringBuilder sb = new StringBuilder();\n        for (int i = 0; i &lt; bytes.length; i++) {\n            sb.append(Integer.toString((bytes[i] &amp; 0xff) + 0x100, 16).substring(1));\n        }\n\n        return sb.toString();\n    }\n\n    @Override\n    protected Task&lt;String&gt; createTask() {\n        return new Task&lt;&gt;() {\n            @Override\n            protected String call() throws Exception {\n                return getChecksumOfFile();\n            }\n        };\n    }\n}\n</code></pre>\n<p>Is it okay to create 4 services? Or can I create 1 service with 4 tasks? How can I synchronize them all and wait for all results before inserting the information in the database?</p>\n<p>Thanks.</p>\n<h1>Edit</h1>\n<p>I tried following after an answer.</p>\n<pre><code>public class ChecksumCalculationTask extends Task&lt;String&gt; {\n\n    private static final Logger logger = LogManager.getLogger();\n\n    private final KnkFile knkFile;\n    private final Algorithm algorithm;\n\n    public ChecksumCalculationTask(KnkFile f, Algorithm algorithm) {\n        this.knkFile = f;\n        this.algorithm = algorithm;\n    }\n\n    private String getChecksumOfFile() throws IOException, NoSuchAlgorithmException {\n        MessageDigest digest = MessageDigest.getInstance(algorithm.toString());\n\n        // Get knkFile input stream for reading the knkFile content\n        try (FileInputStream fis = new FileInputStream(this.knkFile)) {\n            // Create byte array to read data in chunks\n            byte[] byteArray = new byte[8192];\n            int bytesCount = 0;\n\n            // Read knkFile data and update in message digest\n            while ((bytesCount = fis.read(byteArray)) != -1) {\n                digest.update(byteArray, 0, bytesCount);\n            }\n        }\n\n        //Get the hash's bytes\n        byte[] bytes = digest.digest();\n\n        // bytes[] has bytes in decimal format;\n        // Convert it to hexadecimal format\n        StringBuilder sb = new StringBuilder();\n        for (int i = 0; i &lt; bytes.length; i++) {\n            sb.append(Integer.toString((bytes[i] &amp; 0xff) + 0x100, 16).substring(1));\n        }\n\n        return sb.toString();\n    }\n\n    public KnkFile getKnkFile() {\n        return this.knkFile;\n    }\n\n    public Algorithm getAlgorithm() {\n        return this.algorithm;\n    }\n\n    @Override\n    protected String call() throws Exception {\n        return getChecksumOfFile();\n    }\n}\n</code></pre>\n<p><code>dev.kanka.checksumsharer.utils.FileUtil#handleNewFiles</code></p>\n<pre><code>public static void handleNewFiles(List&lt;File&gt; files) {\n        ExecutorService exec = Executors.newFixedThreadPool(Algorithm.values().length);\n        List&lt;ChecksumCalculationTask&gt; tasks = new ArrayList&lt;&gt;();\n\n        for (File file : files) {\n            KnkFile knkFile = new KnkFile(file.getAbsolutePath());\n\n            tasks.add(new ChecksumCalculationTask(knkFile, Algorithm.SHA_256));\n            tasks.add(new ChecksumCalculationTask(knkFile, Algorithm.SHA_512));\n            tasks.add(new ChecksumCalculationTask(knkFile, Algorithm.SHA3_384));\n            tasks.add(new ChecksumCalculationTask(knkFile, Algorithm.SHA3_512));\n        }\n\n        List&lt;Future&lt;String&gt;&gt; futures = exec.invokeAll(tasks);\n\n        // Create a `Task` that waits until they're finished and processes them all\n        Task&lt;Void&gt; processCompletedTasks = new Task&lt;&gt;() {\n            @Override\n            protected Void call() throws Exception {\n                // block until tasks complete\n                for (Future&lt;String&gt; f : futures) {\n                    f.get();\n                }\n                // process completed tasks\n                for (ChecksumCalculationTask task : tasks) {\n                    KnkFile knkFile = task.getKnkFile();\n                    String checksum = task.getValue();\n                    Algorithm algorithm = task.getAlgorithm();\n\n                    // ... whatever you need here, note this is on background thread\n                }\n                return null;\n            }\n        };\n        exec.submit(processCompletedTasks);\n        exec.shutdown();\n    }\n</code></pre>\n<p>It looks logic for me but I got an compiler error in IntelliJ because of the <code>exec.invokeAll</code>-call: <code>reason: no instance(s) of type variable(s) T exist so that ChecksumCalculationTask conforms to Callable&lt;T&gt;</code>.</p>\n<h1>Edit 2</h1>\n<p>I have no compiler errors anymore but a new weird problem. All debug messages are shown in console until the programm is reaching the line where I commented <code>// SEEME</code>.</p>\n<pre><code>public static void handleNewFiles(List&lt;File&gt; files) {\n        logger.debug(&quot;handleNewFiles()&quot;);\n\n        ExecutorService exec = Executors.newCachedThreadPool();\n        List&lt;ChecksumCalculationTask&gt; tasks = new ArrayList&lt;&gt;(Algorithm.values().length);\n\n        for (File file : files) {\n            logger.debug(&quot;handle file {}&quot;, file);\n\n            KnkFile knkFile = new KnkFile(file.getAbsolutePath());\n\n            for (Algorithm algorithm : Algorithm.values()) {\n                ChecksumCalculationTask task = new ChecksumCalculationTask(knkFile, algorithm);\n                logger.debug(task);\n                tasks.add(task);\n                exec.execute(task);\n            }\n        }\n\n        logger.debug(&quot;All files were added to the tasks queue and processing was started.&quot;);\n\n        // Create a `Task` that waits until all `ChecksumCalculationTask`s finished and processes them all\n        Task&lt;Void&gt; processCompletedTasks = new Task&lt;&gt;() {\n            @Override\n            protected Void call() throws Exception {\n                logger.debug(&quot;processCompletedTasks#call()&quot;);\n\n                // block until tasks complete\n                for (Future&lt;?&gt; f : tasks) {\n                    f.get();\n                    logger.debug(&quot;Future f: &quot; + f);\n                }\n\n                logger.debug(&quot;Process completed tasks now...&quot;);\n\n                // process completed tasks\n                for (ChecksumCalculationTask task : tasks) {\n\n                    logger.debug(&quot;Process completed task {}&quot;, task);\n\n                    // SEEMEE ... it seems nothing below is executed... why? No debug messages, no DB insertion...\n                    String checksum = task.getValue();\n                    logger.debug(&quot;checksum: &quot; + checksum);\n                    Algorithm algorithm = task.getAlgorithm();\n                    logger.debug(&quot;algorithm: &quot; + algorithm);\n                    KnkFile knkFile = task.getKnkFile();\n                    logger.debug(knkFile);\n\n                    switch(task.getAlgorithm()) {\n                        case SHA_256 -&gt; knkFile.setSha256(task.getValue());\n                        case SHA_512 -&gt; knkFile.setSha512(task.getValue());\n                        case SHA3_384 -&gt; knkFile.setSha3384(task.getValue());\n                        case SHA3_512 -&gt; knkFile.setSha3512(task.getValue());\n                    }\n\n                    FileDAO.insertFile(knkFile);\n                }\n\n                logger.debug(&quot;end call();&quot;);\n\n                return null;\n            }\n        };\n        exec.submit(processCompletedTasks);\n        exec.shutdown();\n    }\n</code></pre>\n<p>Console:</p>\n<pre><code>2022-01-22 01:04:31 INFO  ChecksumSharerApplication:72 - Dropped files: [D:\\Musik\\!Amirap\\X Zibit - X.mp3]\n2022-01-22 01:04:31 DEBUG FileUtil:56 - handleNewFiles()\n2022-01-22 01:04:31 DEBUG FileUtil:62 - handle file D:\\Musik\\!Amirap\\X Zibit - X.mp3\n2022-01-22 01:04:31 DEBUG FileUtil:68 - dev.kanka.checksumsharer.hash.ChecksumCalculationTask@7bf96ac3[Not completed, task = javafx.concurrent.Task$TaskCallable@6c1b122d]\n2022-01-22 01:04:31 DEBUG FileUtil:68 - dev.kanka.checksumsharer.hash.ChecksumCalculationTask@1ff9f582[Not completed, task = javafx.concurrent.Task$TaskCallable@2bc700ad]\n2022-01-22 01:04:31 DEBUG FileUtil:68 - dev.kanka.checksumsharer.hash.ChecksumCalculationTask@4727494a[Not completed, task = javafx.concurrent.Task$TaskCallable@54f6e911]\n2022-01-22 01:04:31 DEBUG FileUtil:68 - dev.kanka.checksumsharer.hash.ChecksumCalculationTask@6a594eea[Not completed, task = javafx.concurrent.Task$TaskCallable@90490ba]\n2022-01-22 01:04:31 DEBUG FileUtil:74 - All files were added to the tasks queue and processing was started.\n2022-01-22 01:04:31 DEBUG FileUtil:80 - processCompletedTasks#call()\n2022-01-22 01:04:31 DEBUG FileUtil:85 - Future f: dev.kanka.checksumsharer.hash.ChecksumCalculationTask@7bf96ac3[Completed normally]\n2022-01-22 01:04:31 DEBUG FileUtil:85 - Future f: dev.kanka.checksumsharer.hash.ChecksumCalculationTask@1ff9f582[Completed normally]\n2022-01-22 01:04:31 DEBUG FileUtil:85 - Future f: dev.kanka.checksumsharer.hash.ChecksumCalculationTask@4727494a[Completed normally]\n2022-01-22 01:04:31 DEBUG FileUtil:85 - Future f: dev.kanka.checksumsharer.hash.ChecksumCalculationTask@6a594eea[Completed normally]\n2022-01-22 01:04:31 DEBUG FileUtil:88 - Process completed tasks now...\n2022-01-22 01:04:31 DEBUG FileUtil:93 - Process completed task dev.kanka.checksumsharer.hash.ChecksumCalculationTask@7bf96ac3[Completed normally]\n</code></pre>\n<p>Can't explain why...?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","jsp"],"comments":[{"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"score":0,"creation_date":1642146875,"post_id":70706695,"comment_id":124998398,"body_markdown":"You have a `/` too much on your URL. And where is your `home.jsp` file located? \nI do not think that you should use a `jsp` file when you&#39;re trying to connect to an Angular app. The way most of the developers connect a back-end with Angular is by using a REST API.","body":"You have a <code>&#47;</code> too much on your URL. And where is your <code>home.jsp</code> file located?  I do not think that you should use a <code>jsp</code> file when you&#39;re trying to connect to an Angular app. The way most of the developers connect a back-end with Angular is by using a REST API."},{"owner":{"account_id":19943552,"reputation":329,"user_id":14614793,"display_name":"Paritosh M"},"score":0,"creation_date":1642226610,"post_id":70706695,"comment_id":125019834,"body_markdown":"JSP file is under `src/main/webapp/WEB_INF/jsp/welcome.jsp`. Please help","body":"JSP file is under <code>src&#47;main&#47;webapp&#47;WEB_INF&#47;jsp&#47;welcome.jsp</code>. Please help"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1642436207,"post_id":70706695,"comment_id":125064628,"body_markdown":"packaging = `war`?","body":"packaging = <code>war</code>?"},{"owner":{"account_id":19943552,"reputation":329,"user_id":14614793,"display_name":"Paritosh M"},"score":0,"creation_date":1642464302,"post_id":70706695,"comment_id":125072773,"body_markdown":"Its `jar` @xerx593","body":"Its <code>jar</code> @xerx593"},{"owner":{"account_id":1009841,"reputation":447,"user_id":1022678,"display_name":"Jerry Destremps"},"score":0,"creation_date":1669321152,"post_id":70706695,"comment_id":131622955,"body_markdown":"You say &quot;JSP file is under ....&quot; but it&#39;s supposed to be WEB-INF not WEB_INF.  Not sure if that matters.","body":"You say &quot;JSP file is under ....&quot; but it&#39;s supposed to be WEB-INF not WEB_INF.  Not sure if that matters."}],"answers":[{"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642437718,"creation_date":1642437718,"answer_id":70744715,"question_id":70706695,"body_markdown":"Your `context-path` is incorrect. You can set it to either `/` (for the root webapp, which is the default value) or a directory (e.g. `/myapp`), but not a subdirectory like you did (`/api/project1/mission`).\r\n\r\nSo I suggest that you remove the `context-path` setting from your application.yaml and map your controller to `/api/project1/mission/home`:\r\n\r\n```\r\n@Controller\r\n@RequestMapping(path = &quot;/api/project1/mission/home&quot;)\r\npublic class AnotherController {\r\n\r\n    private String message = &quot;Hi&quot;;\r\n\r\n    @GetMapping\r\n    public String serveTemplate(Map&lt;String, Object&gt; model) {\r\n        model.put(&quot;message&quot;, this.message);\r\n        return &quot;welcome&quot;;\r\n    }\r\n\r\n}\r\n```\r\n","title":"Unable to render the JSP page using Spring Boot","body":"<p>Your <code>context-path</code> is incorrect. You can set it to either <code>/</code> (for the root webapp, which is the default value) or a directory (e.g. <code>/myapp</code>), but not a subdirectory like you did (<code>/api/project1/mission</code>).</p>\n<p>So I suggest that you remove the <code>context-path</code> setting from your application.yaml and map your controller to <code>/api/project1/mission/home</code>:</p>\n<pre><code>@Controller\n@RequestMapping(path = &quot;/api/project1/mission/home&quot;)\npublic class AnotherController {\n\n    private String message = &quot;Hi&quot;;\n\n    @GetMapping\n    public String serveTemplate(Map&lt;String, Object&gt; model) {\n        model.put(&quot;message&quot;, this.message);\n        return &quot;welcome&quot;;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642511803,"creation_date":1642497251,"answer_id":70752998,"question_id":70706695,"body_markdown":"&gt;### [1.3.5. JSP Limitations][1]\r\n&gt;When running a Spring Boot application that uses an embedded servlet container (and is packaged as an executable archive), there are some limitations in the JSP support.\r\n&gt;\r\n&gt;1. With Jetty and Tomcat, it should work if you use war packaging. An executable war will work when launched with java -jar, and will also be deployable to any standard container. **JSPs are not supported when using an executable jar.**\r\n&gt;\r\n&gt;2. Undertow does not support JSPs.\r\n&gt;\r\n&gt;3. Creating a custom error.jsp page does not override the default view for error handling. Custom error pages should be used instead.\r\n\r\nPutting item 2. in short: &quot;It works *only* with `.war` archives&quot;!\r\n\r\nTo change your jar to a war, follow these (few, simple) steps:\r\n1. Change pom-packaging|gradle-plugin to &quot;war&quot;. (https://start.spring.io packaging option)\r\n2. Add a `ServletInitializer` to your application. (also best sample from: https://start.spring.io/#!packaging=war )\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/web.html#web.servlet.embedded-container.jsp-limitations","title":"Unable to render the JSP page using Spring Boot","body":"<blockquote>\n<h3><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/web.html#web.servlet.embedded-container.jsp-limitations\" rel=\"nofollow noreferrer\">1.3.5. JSP Limitations</a></h3>\n<p>When running a Spring Boot application that uses an embedded servlet container (and is packaged as an executable archive), there are some limitations in the JSP support.</p>\n<ol>\n<li><p>With Jetty and Tomcat, it should work if you use war packaging. An executable war will work when launched with java -jar, and will also be deployable to any standard container. <strong>JSPs are not supported when using an executable jar.</strong></p>\n</li>\n<li><p>Undertow does not support JSPs.</p>\n</li>\n<li><p>Creating a custom error.jsp page does not override the default view for error handling. Custom error pages should be used instead.</p>\n</li>\n</ol>\n</blockquote>\n<p>Putting item 2. in short: &quot;It works <em>only</em> with <code>.war</code> archives&quot;!</p>\n<p>To change your jar to a war, follow these (few, simple) steps:</p>\n<ol>\n<li>Change pom-packaging|gradle-plugin to &quot;war&quot;. (<a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\">https://start.spring.io</a> packaging option)</li>\n<li>Add a <code>ServletInitializer</code> to your application. (also best sample from: <a href=\"https://start.spring.io/#!packaging=war\" rel=\"nofollow noreferrer\">https://start.spring.io/#!packaging=war</a> )</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11150058,"reputation":1067,"user_id":8183600,"display_name":"Ashish Shah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642802510,"creation_date":1642802510,"answer_id":70808070,"question_id":70706695,"body_markdown":"Adding the below dependency should solve the error.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Unable to render the JSP page using Spring Boot","body":"<p>Adding the below dependency should solve the error.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":19943552,"reputation":329,"user_id":14614793,"display_name":"Paritosh M"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1393,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70808070,"answer_count":3,"score":-1,"last_activity_date":1642802510,"creation_date":1642141117,"question_id":70706695,"body_markdown":"In my SpringBoot application I have 2 controllers. I am trying to render JSP page but unable to do so. I have `&lt;app-root&gt;` in JSP page which points to Angular application. \r\n\r\nOn hitting `http://localhost:8081//api/project1/mission/home` I get below error.  \r\n```\r\nWhitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\nFri Jan 14 00:15:58 CST 2022\r\nThere was an unexpected error (type=Not Found, status=404).\r\n\r\n```\r\nI have tried many solutions but none of them are working. I need help. Thank you \r\n\r\n\r\napplication.yaml\r\n```\r\nserver:\r\n  port: 8081\r\n  servlet:\r\n    context-path: /api/project1/mission\r\n  tomcat:\r\n    max-http-header-size: 72636B\r\n\r\nmanagement:\r\n  endpoints:\r\n    web:\r\n      base-path:\r\n      exposure:\r\n        include: health\r\n      path-mapping:\r\n        health: healthcheck\r\n  health:\r\n    solr:\r\n      enabled: false\r\n    redis:\r\n      enabled: false\r\n\r\nspring:\r\n  autoconfigure:\r\n    exclude: org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\r\n  mvc:\r\n    view:\r\n      prefix: /WEB-INF/jsp/\r\n      suffix: .jsp\r\n```\t  \r\nwelcome.jsp\r\n```\r\n\r\n\t  &lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Title&lt;/title&gt;\r\n    &lt;base href=&quot;/api/project1/mission/&quot;/&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;${pageContext.request.contextPath}/dist/polyfills.js&quot; defer&gt;&lt;/script&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;${pageContext.request.contextPath}/dist/runtime.js&quot; defer&gt;&lt;/script&gt;\r\n \r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n&lt;div id=&quot;mission-app-ctnr&quot;&gt;\r\n    &lt;app-root&gt;&lt;/app-root&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nFirstController\r\n```\r\n\r\npackage com.google.mission.controller;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\nimport java.util.Map;\r\n\r\n@Controller\r\n@RequestMapping(path = &quot;/&quot;)\r\npublic class FirstController {\r\n\r\n    private String message = &quot;Hi&quot;;\r\n\r\n    @GetMapping\r\n    public String welcome(Map&lt;String, Object&gt; model) {\r\n        model.put(&quot;message&quot;, this.message);\r\n        System.out.println(this.message);\r\n        return &quot;welcome&quot;;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nAnotherController.js\r\n\r\n```\r\npackage com.google.mission.controller;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\nimport java.util.Map;\r\n\r\n@Controller\r\n@RequestMapping(path = &quot;/home&quot;)\r\npublic class AnotherController {\r\n\r\n    private String message = &quot;Hi&quot;;\r\n\r\n    @GetMapping\r\n    public String serveTemplate(Map&lt;String, Object&gt; model) {\r\n        model.put(&quot;message&quot;, this.message);\r\n        return &quot;welcome&quot;;\r\n    }\r\n\r\n}\r\n```","title":"Unable to render the JSP page using Spring Boot","body":"<p>In my SpringBoot application I have 2 controllers. I am trying to render JSP page but unable to do so. I have <code>&lt;app-root&gt;</code> in JSP page which points to Angular application.</p>\n<p>On hitting <code>http://localhost:8081//api/project1/mission/home</code> I get below error.</p>\n<pre><code>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nFri Jan 14 00:15:58 CST 2022\nThere was an unexpected error (type=Not Found, status=404).\n\n</code></pre>\n<p>I have tried many solutions but none of them are working. I need help. Thank you</p>\n<p>application.yaml</p>\n<pre><code>server:\n  port: 8081\n  servlet:\n    context-path: /api/project1/mission\n  tomcat:\n    max-http-header-size: 72636B\n\nmanagement:\n  endpoints:\n    web:\n      base-path:\n      exposure:\n        include: health\n      path-mapping:\n        health: healthcheck\n  health:\n    solr:\n      enabled: false\n    redis:\n      enabled: false\n\nspring:\n  autoconfigure:\n    exclude: org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\n  mvc:\n    view:\n      prefix: /WEB-INF/jsp/\n      suffix: .jsp\n</code></pre>\n<p>welcome.jsp</p>\n<pre><code>\n      &lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n    &lt;base href=&quot;/api/project1/mission/&quot;/&gt;\n    &lt;script type=&quot;text/javascript&quot; src=&quot;${pageContext.request.contextPath}/dist/polyfills.js&quot; defer&gt;&lt;/script&gt;\n    &lt;script type=&quot;text/javascript&quot; src=&quot;${pageContext.request.contextPath}/dist/runtime.js&quot; defer&gt;&lt;/script&gt;\n \n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;div id=&quot;mission-app-ctnr&quot;&gt;\n    &lt;app-root&gt;&lt;/app-root&gt;\n&lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>FirstController</p>\n<pre><code>\npackage com.google.mission.controller;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\nimport java.util.Map;\n\n@Controller\n@RequestMapping(path = &quot;/&quot;)\npublic class FirstController {\n\n    private String message = &quot;Hi&quot;;\n\n    @GetMapping\n    public String welcome(Map&lt;String, Object&gt; model) {\n        model.put(&quot;message&quot;, this.message);\n        System.out.println(this.message);\n        return &quot;welcome&quot;;\n    }\n\n}\n\n</code></pre>\n<p>AnotherController.js</p>\n<pre><code>package com.google.mission.controller;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\nimport java.util.Map;\n\n@Controller\n@RequestMapping(path = &quot;/home&quot;)\npublic class AnotherController {\n\n    private String message = &quot;Hi&quot;;\n\n    @GetMapping\n    public String serveTemplate(Map&lt;String, Object&gt; model) {\n        model.put(&quot;message&quot;, this.message);\n        return &quot;welcome&quot;;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","countdowntimer"],"comments":[{"owner":{"account_id":6696437,"reputation":2557,"user_id":5164318,"display_name":"emandt"},"score":0,"creation_date":1642689897,"post_id":70788064,"comment_id":125142539,"body_markdown":"Is &quot;endTestTimer()&quot; executed somehow/sometime? (it&#39;s not the best way to share &quot;common things&quot; across Activities, however it should work fine)","body":"Is &quot;endTestTimer()&quot; executed somehow/sometime? (it&#39;s not the best way to share &quot;common things&quot; across Activities, however it should work fine)"},{"owner":{"account_id":23693064,"reputation":93,"user_id":17717171,"display_name":"noG23"},"score":0,"creation_date":1642690375,"post_id":70788064,"comment_id":125142786,"body_markdown":"@emandt endTestTimer() is called to in the onCreate() method of every other activity in the app by doing MainActivity4.endTestTimer(). Still, though, the timer counts down in the background. I know testTimer&#39;s value is changed, because when I remove the if statement in endTestTimer(), the app immediately crashes since testTimer is initially null.","body":"@emandt endTestTimer() is called to in the onCreate() method of every other activity in the app by doing MainActivity4.endTestTimer(). Still, though, the timer counts down in the background. I know testTimer&#39;s value is changed, because when I remove the if statement in endTestTimer(), the app immediately crashes since testTimer is initially null."},{"owner":{"account_id":6696437,"reputation":2557,"user_id":5164318,"display_name":"emandt"},"score":1,"creation_date":1642690922,"post_id":70788064,"comment_id":125143074,"body_markdown":"You need running in Debug Mode and place a breakpoint inside &quot;endTestTimer()&quot; to check WHEN it is called....then continue row-by-row (following the flow using F8 key) and check where you go when you press the last F8 going outside the end of that method. If you stay in MainActivity4 then it means the Timeout is too low that expires before reaching MainActivity5&#39;s &quot;onCreated()&quot;.","body":"You need running in Debug Mode and place a breakpoint inside &quot;endTestTimer()&quot; to check WHEN it is called....then continue row-by-row (following the flow using F8 key) and check where you go when you press the last F8 going outside the end of that method. If you stay in MainActivity4 then it means the Timeout is too low that expires before reaching MainActivity5&#39;s &quot;onCreated()&quot;."},{"owner":{"account_id":23693064,"reputation":93,"user_id":17717171,"display_name":"noG23"},"score":0,"creation_date":1642691990,"post_id":70788064,"comment_id":125143652,"body_markdown":"@emandt Sorry, I&#39;m new to Android Studio. How do I enter debug mode and place breakpoints in my code? Do you have an article I could read or a video I can watch?","body":"@emandt Sorry, I&#39;m new to Android Studio. How do I enter debug mode and place breakpoints in my code? Do you have an article I could read or a video I can watch?"},{"owner":{"account_id":6696437,"reputation":2557,"user_id":5164318,"display_name":"emandt"},"score":0,"creation_date":1642693875,"post_id":70788064,"comment_id":125144558,"body_markdown":"There is a world behind debugging, so it&#39;s impossible to explain here how to debug. Do some search on internet and maybe you can start from here: https://developer.android.com/studio/debug. Debugging in this way let you complete control to see &quot;how is the flow of the code and which method is called before/after one other&quot;.","body":"There is a world behind debugging, so it&#39;s impossible to explain here how to debug. Do some search on internet and maybe you can start from here: <a href=\"https://developer.android.com/studio/debug\" rel=\"nofollow noreferrer\">developer.android.com/studio/debug</a>. Debugging in this way let you complete control to see &quot;how is the flow of the code and which method is called before/after one other&quot;."},{"owner":{"account_id":23693064,"reputation":93,"user_id":17717171,"display_name":"noG23"},"score":0,"creation_date":1642694256,"post_id":70788064,"comment_id":125144720,"body_markdown":"@emandt Thanks for the suggestion, hopefully it helps.","body":"@emandt Thanks for the suggestion, hopefully it helps."}],"answers":[{"tags":[],"owner":{"account_id":23693064,"reputation":93,"user_id":17717171,"display_name":"noG23"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642802431,"creation_date":1642802431,"answer_id":70808063,"question_id":70788064,"body_markdown":"Looking into Android lifecycles led me to [this post][1] and [this post][2], both of which I found very helpful. To my understanding, when the user hits the back button, the onDestroy() method is called for the currently-displayed activity, and then the onCreate() method is called for the activity to be displayed. So, to cancel the timers on MainActivity4 (the current activity in my case), I added this code to its class file:\r\n```\r\n@Override\r\n    protected void onDestroy() {\r\n        testTimer.cancel();\r\n        questionTimer.cancel();\r\n        super.onDestroy();\r\n    }\r\n```\r\nNow, when the user backs out of MainActivity4 (regardless of what other activity that takes them to) and onDestroy() is called automatically, both timers are cancelled and then MainActivity4 is destroyed. This seems to work fine for me, but I&#39;m not sure if there are any downsides to doing it this way, so please let me know if there are.\r\n\r\n  [1]: https://stackoverflow.com/questions/22011751/life-cycle-of-android-activity-after-pressing-back-button\r\n  [2]: https://stackoverflow.com/questions/13927269/use-of-ondestroy-in-android","title":"Cancel a CountDownTimer in another activity","body":"<p>Looking into Android lifecycles led me to <a href=\"https://stackoverflow.com/questions/22011751/life-cycle-of-android-activity-after-pressing-back-button\">this post</a> and <a href=\"https://stackoverflow.com/questions/13927269/use-of-ondestroy-in-android\">this post</a>, both of which I found very helpful. To my understanding, when the user hits the back button, the onDestroy() method is called for the currently-displayed activity, and then the onCreate() method is called for the activity to be displayed. So, to cancel the timers on MainActivity4 (the current activity in my case), I added this code to its class file:</p>\n<pre><code>@Override\n    protected void onDestroy() {\n        testTimer.cancel();\n        questionTimer.cancel();\n        super.onDestroy();\n    }\n</code></pre>\n<p>Now, when the user backs out of MainActivity4 (regardless of what other activity that takes them to) and onDestroy() is called automatically, both timers are cancelled and then MainActivity4 is destroyed. This seems to work fine for me, but I'm not sure if there are any downsides to doing it this way, so please let me know if there are.</p>\n"}],"owner":{"account_id":23693064,"reputation":93,"user_id":17717171,"display_name":"noG23"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70808063,"answer_count":1,"score":0,"last_activity_date":1642802431,"creation_date":1642689301,"question_id":70788064,"body_markdown":"I have a CountDownTimer in one activity that I need to cancel in a different activity. The problem I&#39;m having is that the CountDownTimer is not getting cancelled even when I make a call to the endTestTimer() method in another activity. Here is the code for the CountDownTimer:\r\n```\r\n\r\nprivate long testMillisLeft, questionMillisLeft;\r\nprivate static CountDownTimer testTimer;\r\n\r\nprivate void startTestTimer()\r\n    {\r\n        long startTime = DataHolder.getTestTime()*1000; //getTestTime() is the seconds\r\n        testTimer = new CountDownTimer(startTime, 1000) {\r\n            @Override\r\n            public void onTick(long millisUntilFinished) {\r\n                testMillisLeft = millisUntilFinished;\r\n                updateTestTimeLeft();\r\n            }\r\n\r\n            @Override\r\n            public void onFinish() {\r\n                Intent intent = new Intent(MainActivity4.this, MainActivity5.class);\r\n                startActivity(intent);\r\n            }\r\n        }.start();\r\n\r\n    }\r\n\r\n    public static void endTestTimer()\r\n    {\r\n        if(testTimer != null)\r\n        {\r\n            testTimer.cancel();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main4);\r\n\r\n        testTimeLeft = (TextView) findViewById(R.id.testTimerTextView);\r\n        mathProblem = (TextView) findViewById(R.id.mathProblemTextView);\r\n\r\n        testTimer = null;\r\n        startTestTimer();\r\n\r\n    }\r\n\r\n```\r\nAnd here is how I am trying to cancel the same timer in another activity:\r\n```\r\n\r\n@Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        MainActivity4.endTestTimer();\r\n    }\r\n\r\n```\r\n\r\nA comment on [this related post][1] says that the static CountDownTimer creates memory leak. If that&#39;s the case, how can I call the endTestTimer() method in another activity and have it cancel the timer? Alternatively, how can I access the testTimer CountDownTimer directly and call .cancel() on it in another activity if it can&#39;t be static?\r\n\r\n\r\n\r\n  [1]: https:///stackoverflow.com/questions/18815750/how-to-dispose-countdowntimer","title":"Cancel a CountDownTimer in another activity","body":"<p>I have a CountDownTimer in one activity that I need to cancel in a different activity. The problem I'm having is that the CountDownTimer is not getting cancelled even when I make a call to the endTestTimer() method in another activity. Here is the code for the CountDownTimer:</p>\n<pre><code>\nprivate long testMillisLeft, questionMillisLeft;\nprivate static CountDownTimer testTimer;\n\nprivate void startTestTimer()\n    {\n        long startTime = DataHolder.getTestTime()*1000; //getTestTime() is the seconds\n        testTimer = new CountDownTimer(startTime, 1000) {\n            @Override\n            public void onTick(long millisUntilFinished) {\n                testMillisLeft = millisUntilFinished;\n                updateTestTimeLeft();\n            }\n\n            @Override\n            public void onFinish() {\n                Intent intent = new Intent(MainActivity4.this, MainActivity5.class);\n                startActivity(intent);\n            }\n        }.start();\n\n    }\n\n    public static void endTestTimer()\n    {\n        if(testTimer != null)\n        {\n            testTimer.cancel();\n        }\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main4);\n\n        testTimeLeft = (TextView) findViewById(R.id.testTimerTextView);\n        mathProblem = (TextView) findViewById(R.id.mathProblemTextView);\n\n        testTimer = null;\n        startTestTimer();\n\n    }\n\n</code></pre>\n<p>And here is how I am trying to cancel the same timer in another activity:</p>\n<pre><code>\n@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        MainActivity4.endTestTimer();\n    }\n\n</code></pre>\n<p>A comment on <a href=\"https:///stackoverflow.com/questions/18815750/how-to-dispose-countdowntimer\" rel=\"nofollow noreferrer\">this related post</a> says that the static CountDownTimer creates memory leak. If that's the case, how can I call the endTestTimer() method in another activity and have it cancel the timer? Alternatively, how can I access the testTimer CountDownTimer directly and call .cancel() on it in another activity if it can't be static?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":6,"creation_date":1642802154,"post_id":70808010,"comment_id":125177800,"body_markdown":"It&#39;s not &quot;reversing the array list&quot;.  It&#39;s simply printing the contents in reverse order.  (You can read the words of this comment in reverse order, it does not change the comment).","body":"It&#39;s not &quot;reversing the array list&quot;.  It&#39;s simply printing the contents in reverse order.  (You can read the words of this comment in reverse order, it does not change the comment)."},{"owner":{"account_id":6522844,"reputation":2162,"user_id":10919349,"display_name":"Richard K Yu"},"score":0,"creation_date":1642802182,"post_id":70808010,"comment_id":125177805,"body_markdown":"When you do array.size()-1, you get the element at the last index in the array, then by decrementing (i--) you go down the indices to until you reach the first element (0).","body":"When you do array.size()-1, you get the element at the last index in the array, then by decrementing (i--) you go down the indices to until you reach the first element (0)."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1642802883,"post_id":70808010,"comment_id":125177998,"body_markdown":"If you have list of elements like `list = [a, b, c]` then index of `a=0` `b=1` `c=2`. So to retrieve element `c` you need to use `get(2)`, to retrieve `b` use `get(1)`, and to retrieve `a` `get(0)`. So for list with 3 elements (which is its `size()`) your loop iterations must call `get(2)` `get(1)` `get(0)` to print them in reverse order. So for list with N elements your loop would need to call in each iteration `get(N-1)` `get(N-2)` .. `get(1)` `get(0)`. So what is the range of `i` used with `get(i)`? It starts from `N-1` and ends on `0`.","body":"If you have list of elements like <code>list = [a, b, c]</code> then index of <code>a=0</code> <code>b=1</code> <code>c=2</code>. So to retrieve element <code>c</code> you need to use <code>get(2)</code>, to retrieve <code>b</code> use <code>get(1)</code>, and to retrieve <code>a</code> <code>get(0)</code>. So for list with 3 elements (which is its <code>size()</code>) your loop iterations must call <code>get(2)</code> <code>get(1)</code> <code>get(0)</code> to print them in reverse order. So for list with N elements your loop would need to call in each iteration <code>get(N-1)</code> <code>get(N-2)</code> .. <code>get(1)</code> <code>get(0)</code>. So what is the range of <code>i</code> used with <code>get(i)</code>? It starts from <code>N-1</code> and ends on <code>0</code>."}],"answers":[{"tags":[],"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642802240,"creation_date":1642802240,"answer_id":70808034,"question_id":70808010,"body_markdown":"It&#39;s not &quot;reversing the array list&quot;.  It&#39;s simply printing the contents in reverse order. \r\n\r\nYour first loop counts up from 0 to N-1, where N is the size of the list.  Your second loop counts down from N-1 to 0. \r\n\r\nIn each loop, you then print the element of the list that is at the position indicated by the current value of the count (which is in your variable named `i`).\r\n\r\nThat is all.  \r\n","title":"Can someone explain what&#39;s happening here when trying to reverse this arrayList? I am just trying to understand","body":"<p>It's not &quot;reversing the array list&quot;.  It's simply printing the contents in reverse order.</p>\n<p>Your first loop counts up from 0 to N-1, where N is the size of the list.  Your second loop counts down from N-1 to 0.</p>\n<p>In each loop, you then print the element of the list that is at the position indicated by the current value of the count (which is in your variable named <code>i</code>).</p>\n<p>That is all.</p>\n"},{"tags":[],"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642802429,"creation_date":1642802429,"answer_id":70808062,"question_id":70808010,"body_markdown":"`ArrayList` is an ordered list. This means that every position of a list is numbered, starting from 0, consecutively until the size of the list minus 1 (because it starts by 0, not 1).\r\n\r\nSo, your list elements will have the following indexes inside the list.\r\n\r\n0-Blue\r\n\r\n1-Black\r\n\r\n2-Yellow\r\n\r\n3-Browm\r\n\r\n4-Whote\r\n\r\nThis way `list.get(0)` returns `Blue`, and `list.get(3)` returns `Brown`.\r\n\r\nIn the first loop you go through all elements of the list from `0` to `4`, but in the second one you go from `4` to `0`, that&#39;s why it prints it in reverse order.","title":"Can someone explain what&#39;s happening here when trying to reverse this arrayList? I am just trying to understand","body":"<p><code>ArrayList</code> is an ordered list. This means that every position of a list is numbered, starting from 0, consecutively until the size of the list minus 1 (because it starts by 0, not 1).</p>\n<p>So, your list elements will have the following indexes inside the list.</p>\n<p>0-Blue</p>\n<p>1-Black</p>\n<p>2-Yellow</p>\n<p>3-Browm</p>\n<p>4-Whote</p>\n<p>This way <code>list.get(0)</code> returns <code>Blue</code>, and <code>list.get(3)</code> returns <code>Brown</code>.</p>\n<p>In the first loop you go through all elements of the list from <code>0</code> to <code>4</code>, but in the second one you go from <code>4</code> to <code>0</code>, that's why it prints it in reverse order.</p>\n"}],"owner":{"account_id":20342523,"reputation":9,"user_id":14921372,"display_name":"Chuck Bass"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"answer_count":2,"score":-5,"last_activity_date":1642802429,"creation_date":1642802061,"question_id":70808010,"body_markdown":"I am trying to understand what&#39;s happening here when trying to reverse this arraylist,  why does decreasing the size by -1 and why does decreasing i by -- reverse the order?  I understand what happens when i loop over an ArrayList, but i don&#39;t understand what happens when i try to reverse the order, can someone explain this to me? I am fairly new to programming.\r\n\r\n\r\n\r\n    ArrayList&lt;String&gt; colorsArray = new ArrayList&lt;&gt;();\r\n            colorsArray.add(&quot;Blue&quot;);\r\n            colorsArray.add(&quot;Black&quot;);\r\n            colorsArray.add(&quot;Yellow&quot;);\r\n            colorsArray.add(&quot;Brown&quot;);\r\n            colorsArray.add(&quot;White&quot;);\r\n    \r\n            //prints arraylist..\r\n            for(int i =0; i &lt; colorsArray.size(); i++){\r\n                System.out.println(&quot;Array List: &quot; + colorsArray.get(i));\r\n            }\r\n    \r\n            //This prints ArrayList in reverseOrder...\r\n            for(int i = colorsArray.size() - 1;  i &gt;= 0; i --){\r\n                System.out.println(&quot;Array List Reverse Order: &quot; + colorsArray.get(i));\r\n            }\r\n    \r\n        }","title":"Can someone explain what&#39;s happening here when trying to reverse this arrayList? I am just trying to understand","body":"<p>I am trying to understand what's happening here when trying to reverse this arraylist,  why does decreasing the size by -1 and why does decreasing i by -- reverse the order?  I understand what happens when i loop over an ArrayList, but i don't understand what happens when i try to reverse the order, can someone explain this to me? I am fairly new to programming.</p>\n<pre><code>ArrayList&lt;String&gt; colorsArray = new ArrayList&lt;&gt;();\n        colorsArray.add(&quot;Blue&quot;);\n        colorsArray.add(&quot;Black&quot;);\n        colorsArray.add(&quot;Yellow&quot;);\n        colorsArray.add(&quot;Brown&quot;);\n        colorsArray.add(&quot;White&quot;);\n\n        //prints arraylist..\n        for(int i =0; i &lt; colorsArray.size(); i++){\n            System.out.println(&quot;Array List: &quot; + colorsArray.get(i));\n        }\n\n        //This prints ArrayList in reverseOrder...\n        for(int i = colorsArray.size() - 1;  i &gt;= 0; i --){\n            System.out.println(&quot;Array List Reverse Order: &quot; + colorsArray.get(i));\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","rest","maven","jersey"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1495436695,"post_id":44106481,"comment_id":75232922,"body_markdown":"You defined `/restapi` and `/Module/getAllModules`... Where did you try to point `/applicationrestservice1`?","body":"You defined <code>&#47;restapi</code> and <code>&#47;Module&#47;getAllModules</code>... Where did you try to point <code>&#47;applicationrestservice1</code>?"},{"owner":{"account_id":437987,"reputation":3973,"user_id":825968,"accept_rate":77,"display_name":"AndrasCsanyi"},"score":0,"creation_date":1495440150,"post_id":44106481,"comment_id":75234823,"body_markdown":"Please, see my update question.","body":"Please, see my update question."},{"owner":{"account_id":2138679,"reputation":18996,"user_id":1897870,"display_name":"Steve C"},"score":0,"creation_date":1495443626,"post_id":44106481,"comment_id":75236827,"body_markdown":"To be clear, you want to deploy multiple EAR files, each containing one EAR file?","body":"To be clear, you want to deploy multiple EAR files, each containing one EAR file?"},{"owner":{"account_id":437987,"reputation":3973,"user_id":825968,"accept_rate":77,"display_name":"AndrasCsanyi"},"score":0,"creation_date":1495443774,"post_id":44106481,"comment_id":75236927,"body_markdown":"I want to deploy multiple EAR files, each one contains a WAR file (REST endpoint). I updated my question accordingly.","body":"I want to deploy multiple EAR files, each one contains a WAR file (REST endpoint). I updated my question accordingly."}],"answers":[{"tags":[],"owner":{"account_id":24003570,"reputation":1,"user_id":17988093,"display_name":"Austin Koehler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642801671,"creation_date":1642801671,"answer_id":70807956,"question_id":44106481,"body_markdown":"Some info taken [here][1]:\r\n\r\n\r\n\r\n&gt; For example, if you want to deploy a resource that responds to the URI\r\n&gt; path template\r\n&gt; http://example.com/myContextRoot/jerseybeans/{name1}/{name2}/, you\r\n&gt; must deploy the WAR to a Java EE server that responds to requests to\r\n&gt; the http://example.com/myContextRoot URI, and then decorate your\r\n&gt; resource with the following @Path annotation:\r\n&gt; \r\n&gt;     @Path(&quot;/{name1}/{name2}/&quot;)\r\n&gt;     public class SomeResource {\r\n&gt;         ...\r\n&gt;     }\r\n&gt; \r\n&gt; In this example, the URL pattern for the Jersey helper servlet,\r\n&gt; specified in web.xml, is the default:\r\n&gt; \r\n&gt;     &lt;servlet-mapping&gt;\r\n&gt;         &lt;servlet-name&gt;My Jersey Bean Resource\\&lt;/servlet-name&gt;\r\n&gt;         &lt;url-pattern&gt;/jerseybeans/*&lt;/url-pattern&gt;\r\n&gt;     &lt;/servlet-mapping&gt;\r\n&gt; \r\n&gt; A variable name can be used more than once in the URI path template.\r\n\r\nExperimentally, in a weblogic+maven+web.xml scenario, this has confirmed to me the working pattern is:\r\n\r\nhttp://myserver{webModule contextRoot}{web.xml servlet pattern}{Java resource path}\r\n\r\nSlashes on the ends of each segment will merge to a single slash.\r\n\r\n  [1]: https://docs.oracle.com/cd/E19776-01/820-4867/ggqny/index.html","title":"How web.xml, servlet-mapping.url-pattern and maven-ear-plugin contextRoot param connect?","body":"<p>Some info taken <a href=\"https://docs.oracle.com/cd/E19776-01/820-4867/ggqny/index.html\" rel=\"nofollow noreferrer\">here</a>:</p>\n<blockquote>\n<p>For example, if you want to deploy a resource that responds to the URI\npath template\n<a href=\"http://example.com/myContextRoot/jerseybeans/%7Bname1%7D/%7Bname2%7D/\" rel=\"nofollow noreferrer\">http://example.com/myContextRoot/jerseybeans/{name1}/{name2}/</a>, you\nmust deploy the WAR to a Java EE server that responds to requests to\nthe <a href=\"http://example.com/myContextRoot\" rel=\"nofollow noreferrer\">http://example.com/myContextRoot</a> URI, and then decorate your\nresource with the following @Path annotation:</p>\n<pre><code>@Path(&quot;/{name1}/{name2}/&quot;)\npublic class SomeResource {\n    ...\n}\n</code></pre>\n<p>In this example, the URL pattern for the Jersey helper servlet,\nspecified in web.xml, is the default:</p>\n<pre><code>&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;My Jersey Bean Resource\\&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/jerseybeans/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n<p>A variable name can be used more than once in the URI path template.</p>\n</blockquote>\n<p>Experimentally, in a weblogic+maven+web.xml scenario, this has confirmed to me the working pattern is:</p>\n<p>http://myserver{webModule contextRoot}{web.xml servlet pattern}{Java resource path}</p>\n<p>Slashes on the ends of each segment will merge to a single slash.</p>\n"}],"owner":{"account_id":437987,"reputation":3973,"user_id":825968,"accept_rate":77,"display_name":"AndrasCsanyi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642801671,"creation_date":1495436411,"question_id":44106481,"body_markdown":"I would like to put together a REST service with Jersey and I&#39;m totally lost among the parameters I mentioned in the title. And when I deploy my stuff, it doesn&#39;t work. I can&#39;t hit the controller.\r\n\r\nI would like to achieve that I can deploy multiple EAR files each one contains a single WAR file, which is the REST endpoint.\r\n\r\nFor example:\r\n\r\n  - http://localhost/applicationrestservice1/restapi/Module/getAllModule\r\n  - http://localhost/applicationrestservice2/restapi/Other/getStuff\r\n\r\nWhere applicationrestservice1 and 2 are totally different applications placed in separated ear/war files.\r\n\r\nIn my case:\r\n\r\n  - ApplicationService1 is a war file placed in Application1.ear file and responsible for providing REST Api service via http://localhost/applicationrestservice1/ url.\r\n  - ApplicationService2 is a war file placed in Application2.ear file and responsible for providing REST Api service via http://localhost/applicationrestservice2/ url.\r\n\r\n\r\nSo, the question: how the following parameters are represented in the url?\r\n\r\n  - web.xml - `&lt;servlet-mapping&gt;&lt;url-pattern&gt;`\r\n  - maven-ear-plugin - `&lt;webModule&gt;&lt;contextRoot&gt;`\r\n  - @Path placed over the class\r\n\r\nThe server is WildFly 10. Jersey version is 2.25.1. What other info is needed?\r\n\r\nI have been searching for this information for a while but the found stuff raises more questions than give answers.\r\n\r\nweb.xml\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n    \t xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \t xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n    \t version=&quot;3.1&quot;&gt;\r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;Digital Library - Metadata Service&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n        &lt;/servlet&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;Digital Library - Metadata Service&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/restapi/*&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n        &lt;session-config&gt;\r\n            &lt;session-timeout&gt;\r\n                30\r\n            &lt;/session-timeout&gt;\r\n        &lt;/session-config&gt;\r\n    &lt;/web-app&gt;\r\n\r\npom.xml\r\n\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-ear-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.10.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;modules&gt;\r\n                    &lt;webModule&gt;\r\n                        &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;RESTApi&lt;/artifactId&gt;\r\n                        &lt;contextRoot&gt;/&lt;/contextRoot&gt;\r\n                    &lt;/webModule&gt;\r\n                &lt;/modules&gt;\r\n            &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\r\n    @Path(&quot;/Module&quot;)\r\n    public class ModuleEndpoint implements ModuleEndpointInterface {\r\n        \r\n        @Override\r\n        @GET\r\n        @Produces(MediaType.APPLICATION_JSON)\r\n        @Path(&quot;/getAllModules&quot;)\r\n        public Response getAllModules() {\r\n            \r\n            return Response.status(200)\r\n                    .entity(&quot;getAllModules&quot;)\r\n                    .type(MediaType.APPLICATION_JSON)\r\n                    .build();\r\n        }\r\n    }\r\n\r\n\r\n","title":"How web.xml, servlet-mapping.url-pattern and maven-ear-plugin contextRoot param connect?","body":"<p>I would like to put together a REST service with Jersey and I'm totally lost among the parameters I mentioned in the title. And when I deploy my stuff, it doesn't work. I can't hit the controller.</p>\n\n<p>I would like to achieve that I can deploy multiple EAR files each one contains a single WAR file, which is the REST endpoint.</p>\n\n<p>For example:</p>\n\n<ul>\n<li><a href=\"http://localhost/applicationrestservice1/restapi/Module/getAllModule\" rel=\"nofollow noreferrer\">http://localhost/applicationrestservice1/restapi/Module/getAllModule</a></li>\n<li><a href=\"http://localhost/applicationrestservice2/restapi/Other/getStuff\" rel=\"nofollow noreferrer\">http://localhost/applicationrestservice2/restapi/Other/getStuff</a></li>\n</ul>\n\n<p>Where applicationrestservice1 and 2 are totally different applications placed in separated ear/war files.</p>\n\n<p>In my case:</p>\n\n<ul>\n<li>ApplicationService1 is a war file placed in Application1.ear file and responsible for providing REST Api service via <a href=\"http://localhost/applicationrestservice1/\" rel=\"nofollow noreferrer\">http://localhost/applicationrestservice1/</a> url.</li>\n<li>ApplicationService2 is a war file placed in Application2.ear file and responsible for providing REST Api service via <a href=\"http://localhost/applicationrestservice2/\" rel=\"nofollow noreferrer\">http://localhost/applicationrestservice2/</a> url.</li>\n</ul>\n\n<p>So, the question: how the following parameters are represented in the url?</p>\n\n<ul>\n<li>web.xml - <code>&lt;servlet-mapping&gt;&lt;url-pattern&gt;</code></li>\n<li>maven-ear-plugin - <code>&lt;webModule&gt;&lt;contextRoot&gt;</code></li>\n<li>@Path placed over the class</li>\n</ul>\n\n<p>The server is WildFly 10. Jersey version is 2.25.1. What other info is needed?</p>\n\n<p>I have been searching for this information for a while but the found stuff raises more questions than give answers.</p>\n\n<p>web.xml\n</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n     xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\"\n     version=\"3.1\"&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;Digital Library - Metadata Service&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Digital Library - Metadata Service&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/restapi/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;session-config&gt;\n        &lt;session-timeout&gt;\n            30\n        &lt;/session-timeout&gt;\n    &lt;/session-config&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>pom.xml</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-ear-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.10.1&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;modules&gt;\n                &lt;webModule&gt;\n                    &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n                    &lt;artifactId&gt;RESTApi&lt;/artifactId&gt;\n                    &lt;contextRoot&gt;/&lt;/contextRoot&gt;\n                &lt;/webModule&gt;\n            &lt;/modules&gt;\n        &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Path(\"/Module\")\npublic class ModuleEndpoint implements ModuleEndpointInterface {\n\n    @Override\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    @Path(\"/getAllModules\")\n    public Response getAllModules() {\n\n        return Response.status(200)\n                .entity(\"getAllModules\")\n                .type(MediaType.APPLICATION_JSON)\n                .build();\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","algorithm","data-structures","integer"],"comments":[{"owner":{"account_id":15508885,"reputation":1854,"user_id":11188210,"display_name":"Phaelax z"},"score":0,"creation_date":1624543283,"post_id":68116943,"comment_id":120392394,"body_markdown":"The max integer value is 2147483647. It&#39;s doing the boundary check in those two IF statements.  Because the returned value (rev) is multiplied by 10 and adds pop, it checks if the rev value equals 214748364 (max int value divided by 10) and that pop is not higher than 7. Because if those values are, then in the final calculation it will be outside the integer&#39;s max range.","body":"The max integer value is 2147483647. It&#39;s doing the boundary check in those two IF statements.  Because the returned value (rev) is multiplied by 10 and adds pop, it checks if the rev value equals 214748364 (max int value divided by 10) and that pop is not higher than 7. Because if those values are, then in the final calculation it will be outside the integer&#39;s max range."},{"owner":{"account_id":15165493,"reputation":2036,"user_id":10943108,"display_name":"Ashish"},"score":0,"creation_date":1669982302,"post_id":68116943,"comment_id":131772157,"body_markdown":"The solution in Javascript https://stackoverflow.com/questions/28572952/reverse-digits-of-an-integer/74655340#74655340","body":"The solution in Javascript <a href=\"https://stackoverflow.com/questions/28572952/reverse-digits-of-an-integer/74655340#74655340\" title=\"reverse digits of an integer\">stackoverflow.com/questions/28572952/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":20393587,"reputation":1,"user_id":14960961,"display_name":"pnagde"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1624542570,"creation_date":1624542570,"answer_id":68117074,"question_id":68116943,"body_markdown":"-2147483648 to 2147483647 signed integer range if condition true when the rev integer is equal to maximum integer value ,rev==(2147483647) and the last digit of given integer is greater then 7 than only enters in the if condition return 0.\r\nsame as above next if also do check the same condition with (-2147483648).","title":"In If condition explanation","body":"<p>-2147483648 to 2147483647 signed integer range if condition true when the rev integer is equal to maximum integer value ,rev==(2147483647) and the last digit of given integer is greater then 7 than only enters in the if condition return 0.\nsame as above next if also do check the same condition with (-2147483648).</p>\n"},{"tags":[],"owner":{"account_id":18238483,"reputation":1,"user_id":13275948,"display_name":"Debaranjan Dash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642801479,"creation_date":1642784377,"answer_id":70804919,"question_id":68116943,"body_markdown":"```java\r\nclass Solution {\r\n    public  int reverse(int x) {\r\n   \r\n        int ans=0;\r\n        while(x!=0)\r\n        {\r\n            int digit=x%10;\r\n            if( (ans&gt;Integer.MAX_VALUE/10)   || (ans&lt;Integer.MIN_VALUE/10)   )   \r\n            {\r\n                return 0;\r\n            }\r\n            ans=(ans*10)+digit;\r\n            x=x/10;\r\n            \r\n        }\r\n        return ans;\r\n    }\r\n        \r\n        public  void main(String[] args)\r\n        {\r\n            int x=120;\r\n           System.out.print(&quot;Reversed Number is &quot;+ reverse(x));\r\n        }\r\n        \r\n}\r\n```","title":"In If condition explanation","body":"<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n    public  int reverse(int x) {\n   \n        int ans=0;\n        while(x!=0)\n        {\n            int digit=x%10;\n            if( (ans&gt;Integer.MAX_VALUE/10)   || (ans&lt;Integer.MIN_VALUE/10)   )   \n            {\n                return 0;\n            }\n            ans=(ans*10)+digit;\n            x=x/10;\n            \n        }\n        return ans;\n    }\n        \n        public  void main(String[] args)\n        {\n            int x=120;\n           System.out.print(&quot;Reversed Number is &quot;+ reverse(x));\n        }\n        \n}\n</code></pre>\n"}],"owner":{"account_id":15495077,"reputation":29,"user_id":16239636,"display_name":"Saif Ali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2689,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1642801479,"creation_date":1624542118,"question_id":68116943,"body_markdown":"   \r\nGiven a signed 32-bit integer x, return x with its digits reversed. If reversing x causes the value to go outside the signed 32-bit integer range [-231, 231 - 1], then return 0.\r\n\r\nIn this code I want to know about `(rev == Integer.MAX_VALUE / 10 &amp;&amp; pop &gt; 7)` and `(rev == Integer.MIN_VALUE / 10 &amp;&amp; pop &lt; -8)`\r\n\r\nWhy do they use `pop&gt;7` and `pop&lt;-8`?\r\n\r\n\r\n``` \r\nclass Solution {\r\n    public int reverse(int x) {\r\n        int rev = 0;\r\n\r\n        while (x != 0) {\r\n            int pop = x % 10;\r\n            x /= 10;\r\n            if (rev &gt; Integer.MAX_VALUE/10 || (rev == Integer.MAX_VALUE / 10 &amp;&amp; pop &gt; 7)) return 0;\r\n            if (rev &lt; Integer.MIN_VALUE/10 || (rev == Integer.MIN_VALUE / 10 &amp;&amp; pop &lt; -8)) return 0;\r\n            rev = rev * 10 + pop;\r\n        }\r\n\r\n        return rev;\r\n    }\r\n}\r\n```\r\n","title":"In If condition explanation","body":"<p>Given a signed 32-bit integer x, return x with its digits reversed. If reversing x causes the value to go outside the signed 32-bit integer range [-231, 231 - 1], then return 0.</p>\n<p>In this code I want to know about <code>(rev == Integer.MAX_VALUE / 10 &amp;&amp; pop &gt; 7)</code> and <code>(rev == Integer.MIN_VALUE / 10 &amp;&amp; pop &lt; -8)</code></p>\n<p>Why do they use <code>pop&gt;7</code> and <code>pop&lt;-8</code>?</p>\n<pre><code>class Solution {\n    public int reverse(int x) {\n        int rev = 0;\n\n        while (x != 0) {\n            int pop = x % 10;\n            x /= 10;\n            if (rev &gt; Integer.MAX_VALUE/10 || (rev == Integer.MAX_VALUE / 10 &amp;&amp; pop &gt; 7)) return 0;\n            if (rev &lt; Integer.MIN_VALUE/10 || (rev == Integer.MIN_VALUE / 10 &amp;&amp; pop &lt; -8)) return 0;\n            rev = rev * 10 + pop;\n        }\n\n        return rev;\n    }\n}\n</code></pre>\n"},{"tags":["java","garbage"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1642729139,"post_id":70795398,"comment_id":125155766,"body_markdown":"After `--N`, `N` is the index of the item the function is returning.","body":"After <code>--N</code>, <code>N</code> is the index of the item the function is returning."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":2,"creation_date":1642730637,"post_id":70795398,"comment_id":125155967,"body_markdown":"If I understand you correctly, assigning a variable from an array element does not in itself change the contents of the array. The value is copied from `a[N]` to `item`, not moved.","body":"If I understand you correctly, assigning a variable from an array element does not in itself change the contents of the array. The value is copied from <code>a[N]</code> to <code>item</code>, not moved."},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":2,"creation_date":1642733037,"post_id":70795398,"comment_id":125156358,"body_markdown":"Why do you think &quot;there was already nothing there&quot;?","body":"Why do you think &quot;there was already nothing there&quot;?"},{"owner":{"account_id":19164369,"reputation":21,"user_id":13999442,"display_name":"Starlove"},"score":0,"creation_date":1642738082,"post_id":70795398,"comment_id":125157221,"body_markdown":"@kaya Nth item would be at index N-1, so what diff a[n] being assigned as null would make was what I was thinking","body":"@kaya Nth item would be at index N-1, so what diff a[n] being assigned as null would make was what I was thinking"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642732495,"creation_date":1642732495,"answer_id":70795710,"question_id":70795398,"body_markdown":"`N` is now, at that point in the code, the value that used to be `N-1`.","title":"Littering and garbage collection logic","body":"<p><code>N</code> is now, at that point in the code, the value that used to be <code>N-1</code>.</p>\n"},{"tags":[],"owner":{"account_id":8289127,"reputation":6118,"user_id":6231376,"display_name":"TeWu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642800933,"creation_date":1642774874,"answer_id":70802810,"question_id":70795398,"body_markdown":"The code in question:\r\n\r\n    public String pop()\r\n    { \r\n        String item = a[--N];\r\n        a[N] = null; // Avoid littering \r\n        return item;\r\n    }\r\n\r\nis equivalent to:\r\n\r\n    public String pop()\r\n    { \r\n        N = N - 1;\r\n        String item = a[N];\r\n        a[N] = null; // Avoid littering \r\n        return item;\r\n    }\r\n\r\nAfter the second line of this method is executed, both `item` and `a[N]` are  references to the same object. By assigning `null` to `a[N]`, you remove one of those references, and because the `item` is created on the stack, it is removed after the method returns. This way the only reference to the object is returned by the method. So if the caller don&#39;t assing this reference to some variable (or this reference is assgned, but somehow lost later), then there will be no references to this object anymore, and the GC will have a green light to remove the object from the memory.","title":"Littering and garbage collection logic","body":"<p>The code in question:</p>\n<pre><code>public String pop()\n{ \n    String item = a[--N];\n    a[N] = null; // Avoid littering \n    return item;\n}\n</code></pre>\n<p>is equivalent to:</p>\n<pre><code>public String pop()\n{ \n    N = N - 1;\n    String item = a[N];\n    a[N] = null; // Avoid littering \n    return item;\n}\n</code></pre>\n<p>After the second line of this method is executed, both <code>item</code> and <code>a[N]</code> are  references to the same object. By assigning <code>null</code> to <code>a[N]</code>, you remove one of those references, and because the <code>item</code> is created on the stack, it is removed after the method returns. This way the only reference to the object is returned by the method. So if the caller don't assing this reference to some variable (or this reference is assgned, but somehow lost later), then there will be no references to this object anymore, and the GC will have a green light to remove the object from the memory.</p>\n"}],"owner":{"account_id":19164369,"reputation":21,"user_id":13999442,"display_name":"Starlove"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1642800933,"creation_date":1642728972,"question_id":70795398,"body_markdown":"    public String pop()\r\n    { \r\n        String item = a[--N];\r\n        a[N] = null; // Avoid littering \r\n        return item;\r\n    }\r\n\r\nIn the code above `N` decrements first and then indexes into array `a`. My question is, if item was assigned the value indexed at `N-1` first, why bother making `a[N]` null when there was already nothing there at `a[N]`?\r\n\r\nKindly correct me where I am wrong in my logic in understanding this.","title":"Littering and garbage collection logic","body":"<pre><code>public String pop()\n{ \n    String item = a[--N];\n    a[N] = null; // Avoid littering \n    return item;\n}\n</code></pre>\n<p>In the code above <code>N</code> decrements first and then indexes into array <code>a</code>. My question is, if item was assigned the value indexed at <code>N-1</code> first, why bother making <code>a[N]</code> null when there was already nothing there at <code>a[N]</code>?</p>\n<p>Kindly correct me where I am wrong in my logic in understanding this.</p>\n"},{"tags":["python","java","google-cloud-platform","apache-beam","sliding-window"],"comments":[{"owner":{"account_id":22772109,"reputation":1393,"user_id":16929358,"display_name":"Jose Gutierrez Paliza"},"score":0,"creation_date":1642795260,"post_id":70789297,"comment_id":125175776,"body_markdown":"Have you tried to run your code in a local environment or apache spark? Does it have the same or has a different result with the performance? Also it can be how the code is written and the libraries that you are using. Java has a full set of features in Data Flow and Python has been catching up to the features but it’s absolutely not efficient.","body":"Have you tried to run your code in a local environment or apache spark? Does it have the same or has a different result with the performance? Also it can be how the code is written and the libraries that you are using. Java has a full set of features in Data Flow and Python has been catching up to the features but it’s absolutely not efficient."}],"answers":[{"tags":[],"owner":{"account_id":523682,"reputation":5868,"user_id":949327,"display_name":"Kenn Knowles"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1642800693,"creation_date":1642800693,"answer_id":70807836,"question_id":70789297,"body_markdown":"Yes, this is a very normal performance factor between Python and Java. In fact, for many programs the factor can be 10x or much more.\r\n\r\nThe details of the program can radically change the relative performance. Here are some things to consider:\r\n\r\n - [Profiling the Dataflow job (official docs)](https://cloud.google.com/dataflow/docs/guides/profiling-a-pipeline)\r\n - [Profiling a Dataflow pipeline (medium blog)](https://medium.com/google-cloud/profiling-dataflow-pipelines-ddbbef07761d)\r\n - [Profiling Apache Beam Python pipelines (another medium blog)](https://medium.com/google-cloud/profiling-apache-beam-python-pipelines-d3cac8644fa4)\r\n - [Profiling Python (general Cloud Profiler docs)](https://cloud.google.com/profiler/docs/profiling-python)\r\n - https://stackoverflow.com/questions/56932727/how-can-i-profile-a-python-dataflow-job (previous StackOverflow question on profiling Python job)\r\n\r\nIf you prefer Python for its concise syntax or library ecosystem, the approach to achieve speed is to use optimized C libraries or Cython for the core processing, for example using pandas/numpy/etc. If you use [Beam&#39;s new Pandas-compatible dataframe API](https://beam.apache.org/documentation/dsls/dataframes/overview/) you will automatically get this benefit.","title":"Apache Beam Performance Between Python Vs Java Running on GCP Dataflow","body":"<p>Yes, this is a very normal performance factor between Python and Java. In fact, for many programs the factor can be 10x or much more.</p>\n<p>The details of the program can radically change the relative performance. Here are some things to consider:</p>\n<ul>\n<li><a href=\"https://cloud.google.com/dataflow/docs/guides/profiling-a-pipeline\" rel=\"noreferrer\">Profiling the Dataflow job (official docs)</a></li>\n<li><a href=\"https://medium.com/google-cloud/profiling-dataflow-pipelines-ddbbef07761d\" rel=\"noreferrer\">Profiling a Dataflow pipeline (medium blog)</a></li>\n<li><a href=\"https://medium.com/google-cloud/profiling-apache-beam-python-pipelines-d3cac8644fa4\" rel=\"noreferrer\">Profiling Apache Beam Python pipelines (another medium blog)</a></li>\n<li><a href=\"https://cloud.google.com/profiler/docs/profiling-python\" rel=\"noreferrer\">Profiling Python (general Cloud Profiler docs)</a></li>\n<li><a href=\"https://stackoverflow.com/questions/56932727/how-can-i-profile-a-python-dataflow-job\">How can I profile a Python Dataflow job?</a> (previous StackOverflow question on profiling Python job)</li>\n</ul>\n<p>If you prefer Python for its concise syntax or library ecosystem, the approach to achieve speed is to use optimized C libraries or Cython for the core processing, for example using pandas/numpy/etc. If you use <a href=\"https://beam.apache.org/documentation/dsls/dataframes/overview/\" rel=\"noreferrer\">Beam's new Pandas-compatible dataframe API</a> you will automatically get this benefit.</p>\n"}],"owner":{"account_id":14845145,"reputation":175,"user_id":10808155,"display_name":"Jie Zhang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2826,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70807836,"answer_count":1,"score":5,"last_activity_date":1642800693,"creation_date":1642693831,"question_id":70789297,"body_markdown":"We have Beam data pipeline running on GCP dataflow written using both Python and Java. In the beginning, we had some simple and straightforward python beam jobs that works very well. So most recently we decided to transform more java beam to python beam job. When we having more complicated job, especially the job requiring windowing in the beam, we noticed that there is a significant slowness in python job than java job which end up using more cpu and memory and cost much more. \r\n\r\nsome sample python code looks like:\r\n\r\n            step1 = (\r\n            read_from_pub_sub\r\n            | &quot;MapKey&quot; &gt;&gt; beam.Map(lambda elem: (elem.data[key], elem))\r\n            | &quot;WindowResults&quot;\r\n            &gt;&gt; beam.WindowInto(\r\n                beam.window.SlidingWindows(360,90),\r\n                allowed_lateness=args.allowed_lateness,\r\n            )\r\n            | &quot;GroupById&quot; &gt;&gt; beam.GroupByKey()\r\n\r\nAnd Java code is like:\r\n\r\n     PCollection&lt;DataStructure&gt; step1 =\r\n          message\r\n              .apply(\r\n                  &quot;MapKey&quot;,\r\n                  MapElements.into(\r\n                          TypeDescriptors.kvs(\r\n                              TypeDescriptors.strings(), TypeDescriptor.of(DataStructure.class)))\r\n                      .via(event -&gt; KV.of(event.key, event)))\r\n              .apply(\r\n                  &quot;WindowResults&quot;,\r\n                  Window.&lt;KV&lt;String, CustomInterval&gt;&gt;into(\r\n                          SlidingWindows.of(Duration.standardSeconds(360))\r\n                              .every(Duration.standardSeconds(90)))\r\n                      .withAllowedLateness(Duration.standardSeconds(this.allowedLateness))\r\n                      .discardingFiredPanes())\r\n              .apply(&quot;GroupById&quot;, GroupByKey.&lt;String, DataStructure&gt;create())\r\n\r\nWe noticed Python is always using like 3 more times CPU and memory than Java needed. We did some experimental tests that just ran JSON input and JSON output, same results. We are not sure that is just because Python, in general, is slower than java or the way the GCP Dataflow execute Beam Python and Java is different. Any similar experience, tests and reasons why this is are appreciated.","title":"Apache Beam Performance Between Python Vs Java Running on GCP Dataflow","body":"<p>We have Beam data pipeline running on GCP dataflow written using both Python and Java. In the beginning, we had some simple and straightforward python beam jobs that works very well. So most recently we decided to transform more java beam to python beam job. When we having more complicated job, especially the job requiring windowing in the beam, we noticed that there is a significant slowness in python job than java job which end up using more cpu and memory and cost much more.</p>\n<p>some sample python code looks like:</p>\n<pre><code>        step1 = (\n        read_from_pub_sub\n        | &quot;MapKey&quot; &gt;&gt; beam.Map(lambda elem: (elem.data[key], elem))\n        | &quot;WindowResults&quot;\n        &gt;&gt; beam.WindowInto(\n            beam.window.SlidingWindows(360,90),\n            allowed_lateness=args.allowed_lateness,\n        )\n        | &quot;GroupById&quot; &gt;&gt; beam.GroupByKey()\n</code></pre>\n<p>And Java code is like:</p>\n<pre><code> PCollection&lt;DataStructure&gt; step1 =\n      message\n          .apply(\n              &quot;MapKey&quot;,\n              MapElements.into(\n                      TypeDescriptors.kvs(\n                          TypeDescriptors.strings(), TypeDescriptor.of(DataStructure.class)))\n                  .via(event -&gt; KV.of(event.key, event)))\n          .apply(\n              &quot;WindowResults&quot;,\n              Window.&lt;KV&lt;String, CustomInterval&gt;&gt;into(\n                      SlidingWindows.of(Duration.standardSeconds(360))\n                          .every(Duration.standardSeconds(90)))\n                  .withAllowedLateness(Duration.standardSeconds(this.allowedLateness))\n                  .discardingFiredPanes())\n          .apply(&quot;GroupById&quot;, GroupByKey.&lt;String, DataStructure&gt;create())\n</code></pre>\n<p>We noticed Python is always using like 3 more times CPU and memory than Java needed. We did some experimental tests that just ran JSON input and JSON output, same results. We are not sure that is just because Python, in general, is slower than java or the way the GCP Dataflow execute Beam Python and Java is different. Any similar experience, tests and reasons why this is are appreciated.</p>\n"},{"tags":["java","linux","bash","swing","ubuntu"],"comments":[{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":1,"creation_date":1485934578,"post_id":41974261,"comment_id":71126423,"body_markdown":"I don&#39;t know anything about running `bash` on Windows, but I&#39;d guess that you&#39;ll need to run `bash.exe` as a program, and pass in your commands as standard input.","body":"I don&#39;t know anything about running <code>bash</code> on Windows, but I&#39;d guess that you&#39;ll need to run <code>bash.exe</code> as a program, and pass in your commands as standard input."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1485936418,"post_id":41974261,"comment_id":71127275,"body_markdown":"*Why* are you trying to run Unix commands on a Windows machine?","body":"<i>Why</i> are you trying to run Unix commands on a Windows machine?"}],"answers":[{"tags":[],"owner":{"account_id":7230627,"reputation":1424,"user_id":5517612,"display_name":"Todd Sewell"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1485935491,"creation_date":1485935491,"answer_id":41974509,"question_id":41974261,"body_markdown":"Assuming `bash` is on your path, you can run the following cmd command run a bash one:\r\n\r\n    bash -c &quot;&lt;your command&gt;&quot;\r\n\r\nJust combine this with the normal java way of running a command:\r\n\r\n    Runtime rt = Runtime.getRuntime();\r\n    Process pr = rt.exec(String.format(&quot;bash -c \\&quot;%s\\&quot;&quot;, &lt;your command&gt;));","title":"Running windows 10 ubuntu bash commands from java","body":"<p>Assuming <code>bash</code> is on your path, you can run the following cmd command run a bash one:</p>\n\n<pre><code>bash -c \"&lt;your command&gt;\"\n</code></pre>\n\n<p>Just combine this with the normal java way of running a command:</p>\n\n<pre><code>Runtime rt = Runtime.getRuntime();\nProcess pr = rt.exec(String.format(\"bash -c \\\"%s\\\"\", &lt;your command&gt;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1642800539,"creation_date":1485936588,"answer_id":41974763,"question_id":41974261,"body_markdown":"You assume that \r\n\r\n&gt; the only way for me to run UNIX commands is to download ubuntu bash\r\n&gt; for windows 10\r\n\r\n, but it&#39;s not correct. \r\n\r\nA rough search with the keyword &quot;run linux command in windows&quot; leads us to various solutions, above all, two, as stated [here](https://www.google.es/search?q=run+linux+command+in+windows&amp;oq=run+linux+command+in+windows&amp;aqs=chrome..69i57.6866j0j7&amp;sourceid=chrome&amp;ie=UTF-8):\r\n\r\n1. Run Bash Shell from Windows 10\r\n2. Install Cygwin.\r\n\r\nActually, I have a third way: install git for Windows to enable Bash in Windows. As stated [here](https://git-for-windows.github.io/). This approach may be more limited to Cygwin, I haven&#39;t test it.\r\n\r\nI have installed both Cygwin x64 and git without conflict, so you can just use them in `cmd` console. I think your question may change into &quot;How can I run Bash command in Java in Windows if the Bash is enabled?&quot;\r\n\r\nNow, I don&#39;t know if you have been aware of how to run Bash commands from Java. If so, you are done here. If not, ask Google.\r\n\r\n-----------------------\r\n\r\nA little more search before asking here is **always** helpful. Google is smarter than we think, and most of the time, even smarter than most of us, may we admit it or not.","title":"Running windows 10 ubuntu bash commands from java","body":"<p>You assume that</p>\n<blockquote>\n<p>the only way for me to run UNIX commands is to download ubuntu bash\nfor windows 10</p>\n</blockquote>\n<p>, but it's not correct.</p>\n<p>A rough search with the keyword &quot;run linux command in windows&quot; leads us to various solutions, above all, two, as stated <a href=\"https://www.google.es/search?q=run+linux+command+in+windows&amp;oq=run+linux+command+in+windows&amp;aqs=chrome..69i57.6866j0j7&amp;sourceid=chrome&amp;ie=UTF-8\" rel=\"nofollow noreferrer\">here</a>:</p>\n<ol>\n<li>Run Bash Shell from Windows 10</li>\n<li>Install Cygwin.</li>\n</ol>\n<p>Actually, I have a third way: install git for Windows to enable Bash in Windows. As stated <a href=\"https://git-for-windows.github.io/\" rel=\"nofollow noreferrer\">here</a>. This approach may be more limited to Cygwin, I haven't test it.</p>\n<p>I have installed both Cygwin x64 and git without conflict, so you can just use them in <code>cmd</code> console. I think your question may change into &quot;How can I run Bash command in Java in Windows if the Bash is enabled?&quot;</p>\n<p>Now, I don't know if you have been aware of how to run Bash commands from Java. If so, you are done here. If not, ask Google.</p>\n<hr />\n<p>A little more search before asking here is <strong>always</strong> helpful. Google is smarter than we think, and most of the time, even smarter than most of us, may we admit it or not.</p>\n"}],"owner":{"account_id":3437748,"reputation":93,"user_id":2880449,"accept_rate":40,"display_name":"Morbidity"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1365,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1485957400,"accepted_answer_id":41974763,"answer_count":2,"score":0,"last_activity_date":1642800539,"creation_date":1485934408,"question_id":41974261,"body_markdown":"T&#39;m using windows 10, apparently the only way for me to run UNIX commands is to download ubuntu bash for windows 10. \r\n\r\nI&#39;m writing a java application using swing, which will run a set of UNIX commands upon clicking on the button, but I was thinking is it possible to run this commands with ubuntu bash for windows 10 ?","title":"Running windows 10 ubuntu bash commands from java","body":"<p>T'm using windows 10, apparently the only way for me to run UNIX commands is to download ubuntu bash for windows 10. </p>\n\n<p>I'm writing a java application using swing, which will run a set of UNIX commands upon clicking on the button, but I was thinking is it possible to run this commands with ubuntu bash for windows 10 ?</p>\n"},{"tags":["java","sockets"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1642799411,"post_id":70807623,"comment_id":125176996,"body_markdown":"This code tries to connect to a server running on your local machine listening on port 5000.  Are you running something there?","body":"This code tries to connect to a server running on your local machine listening on port 5000.  Are you running something there?"},{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1642799423,"post_id":70807623,"comment_id":125177001,"body_markdown":"Seems more likely that nothing is wrong here and that whatever is supposed to be accepting connections over port 5000 is not working as intended.","body":"Seems more likely that nothing is wrong here and that whatever is supposed to be accepting connections over port 5000 is not working as intended."},{"owner":{"account_id":22994886,"reputation":1,"user_id":17119831,"display_name":"Tobiias"},"score":0,"creation_date":1642799561,"post_id":70807623,"comment_id":125177044,"body_markdown":"so do I have to change port? I dont run anything on it though","body":"so do I have to change port? I dont run anything on it though"},{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1642799689,"post_id":70807623,"comment_id":125177075,"body_markdown":"Change a port for what reason? What are you expecting to happen? Why would connecting to an IP:port that isn&#39;t listening return anything at all?","body":"Change a port for what reason? What are you expecting to happen? Why would connecting to an IP:port that isn&#39;t listening return anything at all?"},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1642799690,"post_id":70807623,"comment_id":125177076,"body_markdown":"What are you trying to connect to?  Or, in general, what are you trying to do?","body":"What are you trying to connect to?  Or, in general, what are you trying to do?"},{"owner":{"account_id":22994886,"reputation":1,"user_id":17119831,"display_name":"Tobiias"},"score":0,"creation_date":1642799919,"post_id":70807623,"comment_id":125177141,"body_markdown":"Im trying to run a server on java.io with using java.swing as a GUI. I have a client though, but I cant&#39;t seem to do anything because the server doesnt even try listening. On start it just sends me an error. i sent a pic","body":"Im trying to run a server on java.io with using java.swing as a GUI. I have a client though, but I cant&#39;t seem to do anything because the server doesnt even try listening. On start it just sends me an error. i sent a pic"},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1642800008,"post_id":70807623,"comment_id":125177170,"body_markdown":"The code you show is a client - it is not a server.  It is a client attempting to connect to a server that isn&#39;t there.  There are a ton of tutorials available for simple Java socket programming.","body":"The code you show is a client - it is not a server.  It is a client attempting to connect to a server that isn&#39;t there.  There are a ton of tutorials available for simple Java socket programming."},{"owner":{"account_id":22994886,"reputation":1,"user_id":17119831,"display_name":"Tobiias"},"score":0,"creation_date":1642800240,"post_id":70807623,"comment_id":125177230,"body_markdown":"ok, thank you very much","body":"ok, thank you very much"},{"owner":{"account_id":3701398,"reputation":116662,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":0,"creation_date":1642800869,"post_id":70807623,"comment_id":125177414,"body_markdown":"Please don&#39;t post code as image. Also your code in the image differs from what you&#39;ve included in the text - it is connecting to a different port. And like already said, the problem is that no server is accepting the connection which means that something is wrong with your unknown sever.","body":"Please don&#39;t post code as image. Also your code in the image differs from what you&#39;ve included in the text - it is connecting to a different port. And like already said, the problem is that no server is accepting the connection which means that something is wrong with your unknown sever."},{"owner":{"account_id":22994886,"reputation":1,"user_id":17119831,"display_name":"Tobiias"},"score":0,"creation_date":1642848746,"post_id":70807623,"comment_id":125184819,"body_markdown":"Yeah... I made a mistake. Sorry for bothering You. It works just fine now. I just had to post the picture because even the shorter code was so long, I couldnt post a question. I had to type more about it","body":"Yeah... I made a mistake. Sorry for bothering You. It works just fine now. I just had to post the picture because even the shorter code was so long, I couldnt post a question. I had to type more about it"}],"owner":{"account_id":22994886,"reputation":1,"user_id":17119831,"display_name":"Tobiias"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642799944,"creation_date":1642799065,"question_id":70807623,"body_markdown":"Could anybody please help me? I have this code written, and I have no idea what is happening in the logs. I found something about it but it doesn&#39;t work. Could Anybody please help me and tell what is wrong?\r\n\r\n    java.net.ConnectException: Connection refused: connect\r\n\t   at java.base/sun.nio.ch.Net.connect0(Native Method)\r\n\t    at java.base/sun.nio.ch.Net.connect(Net.java:579)\r\n\t    at java.base/sun.nio.ch.Net.connect(Net.java:568)\r\n\t    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\r\n\t    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\r\n\t    at java.base/java.net.Socket.connect(Socket.java:633)\r\n\t    at java.base/java.net.Socket.connect(Socket.java:583)\r\n\t    at java.base/java.net.Socket.&lt;init&gt;(Socket.java:507)\r\n\t    at java.base/java.net.Socket.&lt;init&gt;(Socket.java:287)\r\n\t    at me.serwer.konfigurujSocket(serwer.java:32)\r\n\t    at me.serwer.uruchom(serwer.java:24)\r\n\t    at me.serwer.main(serwer.java:54)\r\n\r\n#\r\n\r\n    package me;\r\n\r\n    import java.io.*;\r\n    import java.net.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n\r\n    import javax.swing.*;\r\n\r\n    public class serwer {\r\n\r\n\t    PrintWriter pisarz;\r\n\t    Socket gniazdo;\r\n\t\r\n\t    private void konfigurujSocket() {\r\n\t\t    try {\r\n\t\t\t    gniazdo = new Socket(&quot;127.0.0.1&quot;, 5000);\r\n\t\t\t    pisarz = new PrintWriter(gniazdo.getOutputStream());\r\n\t\t    } catch(IOException e) {\r\n\t\t\t    e.printStackTrace();\r\n\t\t    }\r\n\t    }\r\n    }\r\n\r\n\r\n[all code pic][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0QROg.png","title":"Problem with java socket. Connection refused : connect","body":"<p>Could anybody please help me? I have this code written, and I have no idea what is happening in the logs. I found something about it but it doesn't work. Could Anybody please help me and tell what is wrong?</p>\n<pre><code>java.net.ConnectException: Connection refused: connect\n   at java.base/sun.nio.ch.Net.connect0(Native Method)\n    at java.base/sun.nio.ch.Net.connect(Net.java:579)\n    at java.base/sun.nio.ch.Net.connect(Net.java:568)\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n    at java.base/java.net.Socket.connect(Socket.java:633)\n    at java.base/java.net.Socket.connect(Socket.java:583)\n    at java.base/java.net.Socket.&lt;init&gt;(Socket.java:507)\n    at java.base/java.net.Socket.&lt;init&gt;(Socket.java:287)\n    at me.serwer.konfigurujSocket(serwer.java:32)\n    at me.serwer.uruchom(serwer.java:24)\n    at me.serwer.main(serwer.java:54)\n</code></pre>\n<h1></h1>\n<pre><code>package me;\n\nimport java.io.*;\nimport java.net.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\nimport javax.swing.*;\n\npublic class serwer {\n\n    PrintWriter pisarz;\n    Socket gniazdo;\n\n    private void konfigurujSocket() {\n        try {\n            gniazdo = new Socket(&quot;127.0.0.1&quot;, 5000);\n            pisarz = new PrintWriter(gniazdo.getOutputStream());\n        } catch(IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0QROg.png\" rel=\"nofollow noreferrer\">all code pic</a></p>\n"},{"tags":["java","eclipse","gradle","classpath"],"comments":[{"owner":{"account_id":4858170,"reputation":879,"user_id":3918614,"accept_rate":100,"display_name":"Quizzie"},"score":0,"creation_date":1438005555,"post_id":31653796,"comment_id":51255390,"body_markdown":"Unless I&#39;m missing something, I highly suggest going the other way: always define dependencies in the Gradle build file, then import to Eclipse (either through the gradle-eclipse plugin or through Gradle Integration for Eclipse).","body":"Unless I&#39;m missing something, I highly suggest going the other way: always define dependencies in the Gradle build file, then import to Eclipse (either through the gradle-eclipse plugin or through Gradle Integration for Eclipse)."},{"owner":{"account_id":1749879,"reputation":3381,"user_id":1599213,"accept_rate":33,"display_name":"To Kra"},"score":0,"creation_date":1438005954,"post_id":31653796,"comment_id":51255658,"body_markdown":"I have eclipse based project already running, gradle build is just a addition to existing ant. I wanted to avoid hardcoded libs strings therefore I was looking for some general solution, so gradle could get already setup classpaths from eclipse project .classpath file.","body":"I have eclipse based project already running, gradle build is just a addition to existing ant. I wanted to avoid hardcoded libs strings therefore I was looking for some general solution, so gradle could get already setup classpaths from eclipse project .classpath file."}],"answers":[{"tags":[],"owner":{"account_id":5947966,"reputation":1573,"user_id":4676933,"accept_rate":50,"display_name":"CyberAleks"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1438085021,"creation_date":1438008056,"answer_id":31656132,"question_id":31653796,"body_markdown":"I didn&#39;t test it but I would do something like this:\r\n\r\n    //Init classpath file\r\n\tdef classpathFile = file(&#39;.classpath&#39;)\r\n\t//parse xml\r\n\tdef cpXml = new XmlParser().parse(classpathFile)\r\n\t//find all lib entries\r\n\tdef libPaths= []\r\n\tcpXml.classpathentry.each {\r\n\t\tif(&#39;lib&#39; == it.@kind) {\r\n\t        libPaths.add(project.projectDir.parentFile.absolutePath + it.@path)\r\n\t\t}\r\n\t}\r\n    dependencies{\r\n        compile files(libPaths)\r\n    }","title":"How to read the dependencies from an eclipse .classpath in gradle?","body":"<p>I didn't test it but I would do something like this:</p>\n\n<pre><code>//Init classpath file\ndef classpathFile = file('.classpath')\n//parse xml\ndef cpXml = new XmlParser().parse(classpathFile)\n//find all lib entries\ndef libPaths= []\ncpXml.classpathentry.each {\n    if('lib' == it.@kind) {\n        libPaths.add(project.projectDir.parentFile.absolutePath + it.@path)\n    }\n}\ndependencies{\n    compile files(libPaths)\n}\n</code></pre>\n"}],"owner":{"account_id":1749879,"reputation":3381,"user_id":1599213,"accept_rate":33,"display_name":"To Kra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":956,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":31656132,"answer_count":1,"score":3,"last_activity_date":1642799938,"creation_date":1438002018,"question_id":31653796,"body_markdown":"here is a example of eclipse `.classpath` file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;classpath&gt;\r\n\t    &lt;classpathentry kind=&quot;src&quot; path=&quot;src/main/java&quot;/&gt;\r\n\t    &lt;classpathentry kind=&quot;src&quot; path=&quot;src/main/resources&quot;/&gt;\r\n\t    &lt;classpathentry kind=&quot;src&quot; output=&quot;bin/test&quot; path=&quot;src/test/java&quot;/&gt;\r\n\t    &lt;classpathentry kind=&quot;src&quot; output=&quot;bin/test&quot; path=&quot;src/test/resources&quot;/&gt;\r\n\t    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER&quot;/&gt;\r\n\t    &lt;classpathentry kind=&quot;lib&quot; path=&quot;/kc-tools-thirdparty/lib/slf4j-api-1.7.7.jar&quot;/&gt;\r\n\t    &lt;classpathentry kind=&quot;lib&quot; path=&quot;/kc-tools-thirdparty/lib/slf4j-log4j12-1.7.7.jar&quot;/&gt;\r\n\t    &lt;classpathentry kind=&quot;lib&quot; path=&quot;/kc-tools-thirdparty/lib/commons-collections4-4.0.jar&quot;/&gt;\r\n\t    &lt;classpathentry kind=&quot;lib&quot; path=&quot;/kc-tools-thirdparty/lib/commons-codec-1.6.jar&quot;/&gt;\r\n\t    &lt;classpathentry kind=&quot;lib&quot; path=&quot;/kc-tools-thirdparty/lib/commons-io-2.4.jar&quot;/&gt;\r\n\t    &lt;classpathentry kind=&quot;lib&quot; path=&quot;/kc-tools-thirdparty/lib/commons-cli-1.2.jar&quot;/&gt;\r\n\t    &lt;classpathentry kind=&quot;lib&quot; path=&quot;/kc-tools-thirdparty/lib/commons-net-3.3.jar&quot;/&gt;\r\n\t    &lt;classpathentry kind=&quot;lib&quot; path=&quot;/kc-tools-thirdparty/lib/commons-lang-2.4.jar&quot;/&gt;\r\n\t    &lt;classpathentry kind=&quot;lib&quot; path=&quot;/kc-tools-thirdparty/lib/opencsv-2.3.jar&quot;/&gt;\r\n\t   &lt;classpathentry kind=&quot;lib&quot; path=&quot;/kc-tools-thirdparty/lib/log4j-1.2.17.jar&quot;/&gt;\r\n\t   &lt;classpathentry kind=&quot;output&quot; path=&quot;bin/main&quot;/&gt;\r\n    &lt;/classpath&gt;\r\n\r\nIn gradle I would like to automatically add these into dependencies.\r\n\r\nIs there any plugin which could do that ? (I know I could write my own method to parse XML but I am looking for some general way)","title":"How to read the dependencies from an eclipse .classpath in gradle?","body":"<p>here is a example of eclipse <code>.classpath</code> file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;classpath&gt;\n    &lt;classpathentry kind=\"src\" path=\"src/main/java\"/&gt;\n    &lt;classpathentry kind=\"src\" path=\"src/main/resources\"/&gt;\n    &lt;classpathentry kind=\"src\" output=\"bin/test\" path=\"src/test/java\"/&gt;\n    &lt;classpathentry kind=\"src\" output=\"bin/test\" path=\"src/test/resources\"/&gt;\n    &lt;classpathentry kind=\"con\" path=\"org.eclipse.jdt.launching.JRE_CONTAINER\"/&gt;\n    &lt;classpathentry kind=\"lib\" path=\"/kc-tools-thirdparty/lib/slf4j-api-1.7.7.jar\"/&gt;\n    &lt;classpathentry kind=\"lib\" path=\"/kc-tools-thirdparty/lib/slf4j-log4j12-1.7.7.jar\"/&gt;\n    &lt;classpathentry kind=\"lib\" path=\"/kc-tools-thirdparty/lib/commons-collections4-4.0.jar\"/&gt;\n    &lt;classpathentry kind=\"lib\" path=\"/kc-tools-thirdparty/lib/commons-codec-1.6.jar\"/&gt;\n    &lt;classpathentry kind=\"lib\" path=\"/kc-tools-thirdparty/lib/commons-io-2.4.jar\"/&gt;\n    &lt;classpathentry kind=\"lib\" path=\"/kc-tools-thirdparty/lib/commons-cli-1.2.jar\"/&gt;\n    &lt;classpathentry kind=\"lib\" path=\"/kc-tools-thirdparty/lib/commons-net-3.3.jar\"/&gt;\n    &lt;classpathentry kind=\"lib\" path=\"/kc-tools-thirdparty/lib/commons-lang-2.4.jar\"/&gt;\n    &lt;classpathentry kind=\"lib\" path=\"/kc-tools-thirdparty/lib/opencsv-2.3.jar\"/&gt;\n   &lt;classpathentry kind=\"lib\" path=\"/kc-tools-thirdparty/lib/log4j-1.2.17.jar\"/&gt;\n   &lt;classpathentry kind=\"output\" path=\"bin/main\"/&gt;\n&lt;/classpath&gt;\n</code></pre>\n\n<p>In gradle I would like to automatically add these into dependencies.</p>\n\n<p>Is there any plugin which could do that ? (I know I could write my own method to parse XML but I am looking for some general way)</p>\n"},{"tags":["java","json","spring","spring-boot","postman"],"comments":[{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":0,"creation_date":1642768718,"post_id":70801237,"comment_id":125165985,"body_markdown":"Annotate your method with `@Consumes({MediaType.APPLICATION_JSON})`","body":"Annotate your method with <code>@Consumes({MediaType.APPLICATION_JSON})</code>"},{"owner":{"account_id":22305597,"reputation":111,"user_id":16530311,"display_name":"Chinedu"},"score":0,"creation_date":1642769789,"post_id":70801237,"comment_id":125166377,"body_markdown":"Is there any dependency needed for this as I&#39;m getting &quot;Consumes cannot be resolved to a type&quot;","body":"Is there any dependency needed for this as I&#39;m getting &quot;Consumes cannot be resolved to a type&quot;"},{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":0,"creation_date":1642770773,"post_id":70801237,"comment_id":125166758,"body_markdown":"Ah sorry, try `@PostMapping(consumes = {&quot;application/json&quot;})`","body":"Ah sorry, try <code>@PostMapping(consumes = {&quot;application&#47;json&quot;})</code>"},{"owner":{"account_id":22305597,"reputation":111,"user_id":16530311,"display_name":"Chinedu"},"score":0,"creation_date":1642771500,"post_id":70801237,"comment_id":125167080,"body_markdown":"Unfortunately I&#39;m still getting the exception: &quot;content type &#39;application/json; charset=UTF-8&#39; not supported...&quot;","body":"Unfortunately I&#39;m still getting the exception: &quot;content type &#39;application/json; charset=UTF-8&#39; not supported...&quot;"},{"owner":{"account_id":17019087,"reputation":736,"user_id":12312156,"display_name":"Faramarz Afzali"},"score":0,"creation_date":1642790779,"post_id":70801237,"comment_id":125174418,"body_markdown":"Could you share the full controller correctly?`@RequestMapping(path=&quot;location/destination)` is above the class or LocationService ? Another thing is that when you perform POST/PUT for the request body, you should define `@RequestBody` in the method.","body":"Could you share the full controller correctly?<code>@RequestMapping(path=&quot;location&#47;destination)</code> is above the class or LocationService ? Another thing is that when you perform POST/PUT for the request body, you should define <code>@RequestBody</code> in the method."},{"owner":{"account_id":17019087,"reputation":736,"user_id":12312156,"display_name":"Faramarz Afzali"},"score":0,"creation_date":1642791050,"post_id":70801237,"comment_id":125174501,"body_markdown":"If error still exists, try to set media type by annotation like this--&gt;\n `@PostMapping(value = &quot;/path&quot;,consumes = MediaType.APPLICATION_JSON_VALUE,produces = MediaType.APPLICATION_JSON_VALUE)`","body":"If error still exists, try to set media type by annotation like this--&gt;  <code>@PostMapping(value = &quot;&#47;path&quot;,consumes = MediaType.APPLICATION_JSON_VALUE,produces = MediaType.APPLICATION_JSON_VALUE)</code>"},{"owner":{"account_id":22305597,"reputation":111,"user_id":16530311,"display_name":"Chinedu"},"score":0,"creation_date":1642795807,"post_id":70801237,"comment_id":125175945,"body_markdown":"@FaramarzAfzali the code has been edited with the complete controller class","body":"@FaramarzAfzali the code has been edited with the complete controller class"},{"owner":{"account_id":22305597,"reputation":111,"user_id":16530311,"display_name":"Chinedu"},"score":0,"creation_date":1642797807,"post_id":70801237,"comment_id":125176497,"body_markdown":"The issue has seemed to be clear. The code was actually complaining of serialization like so : ```Failed to evaluate Jackson deserialization for type State...```. But I don&#39;t understand how to go about it","body":"The issue has seemed to be clear. The code was actually complaining of serialization like so : <code>Failed to evaluate Jackson deserialization for type State...</code>. But I don&#39;t understand how to go about it"}],"answers":[{"tags":[],"owner":{"account_id":22305597,"reputation":111,"user_id":16530311,"display_name":"Chinedu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642799758,"creation_date":1642799758,"answer_id":70807707,"question_id":70801237,"body_markdown":"The code worked when I changed the ```city``` field in the ```State``` entity class like so:\r\n```\r\n@Entity\r\n@Table(name=&quot;State&quot;)\r\npublic State extends Location {\r\n\r\n@JsonBackReference\r\n@OneToOne(mappedBy=&quot;state&quot;,\r\ncascade=CascadeType.All, fetch=FetchType.Lazy)\r\nprivate City city = new City();\r\n}\r\n```\r\nAnd the ```state``` field in the ```City``` entity like so:\r\n```\r\n@Entity\r\n@Table(name=&quot;City&quot;)\r\npublic class City extends Location {\r\n@JsonManagedReference\r\n@OneToOne(cascade={\r\nCascadeType.DeTACH, CascadeType. MERGE})\r\n@JoinColumn(name = &quot;state_city_id&quot;)\r\nprivate State state;\r\n}\r\n```.\r\nThough I&#39;m yet to understand what really happened behind the scenes.","title":"Why does Postman error &quot;unsupported media type&quot; for a POST request in spring boot","body":"<p>The code worked when I changed the <code>city</code> field in the <code>State</code> entity class like so:</p>\n<pre><code>@Entity\n@Table(name=&quot;State&quot;)\npublic State extends Location {\n\n@JsonBackReference\n@OneToOne(mappedBy=&quot;state&quot;,\ncascade=CascadeType.All, fetch=FetchType.Lazy)\nprivate City city = new City();\n}\n</code></pre>\n<p>And the <code>state</code> field in the <code>City</code> entity like so:</p>\n<pre><code>@Entity\n@Table(name=&quot;City&quot;)\npublic class City extends Location {\n@JsonManagedReference\n@OneToOne(cascade={\nCascadeType.DeTACH, CascadeType. MERGE})\n@JoinColumn(name = &quot;state_city_id&quot;)\nprivate State state;\n}\n```.\nThough I'm yet to understand what really happened behind the scenes.\n</code></pre>\n"}],"owner":{"account_id":22305597,"reputation":111,"user_id":16530311,"display_name":"Chinedu"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":713,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642799758,"creation_date":1642767840,"question_id":70801237,"body_markdown":"I have an entity class ```State``` which extends abstract class ```Location``` and implemented it&#39;s abstract methods. When I made a ```PostMapping``` request on postman with the content type set to Json, I got an error unsupported Media Type as shown below:\r\n```&quot;status&quot;:415,\r\n&quot;error:&quot; Unsupported Media Type,\r\n&quot;trace&quot;: org.springframework.web.HttpMediaTpeNotSupportedException:Content type:&#39;application/json;...\r\n```\r\n\r\nAbstract class:\r\n```\r\n@MappedSuperclass\r\npublic abstract class Location {\r\n@Id\r\n@Column(name=&quot;id&quot;)\r\n@GeneratedValue(strategy= GenerationType.IDENTITY)\r\nprivate Integer id;\r\n\r\n@Column(name = &quot;long&quot;)\r\nprivate String longitude;\r\n\r\n@Column(name = &quot; lat&quot;)\r\nprivate String latitude;\r\n\r\npublic Location (){}\r\n//assessors &amp; mutators ommited with abstract methods\r\n}\r\n```\r\n\r\nConcrete State entity class:\r\n\r\n```@Entity\r\n@Table(name=&quot;State&quot;)\r\npublic class State extends Location {\r\n\r\n@Pattern(regexp = &quot;[0-9]{5}&quot;)\r\nprivate String sateCode;\r\n\r\n@JsonManagedReference\r\n@OneToOne(mappedBy=&quot;state&quot;,\r\ncascade=CascadeType.All, fetch=FetchType.Lazy)\r\nprivate City city = new City();\r\n//constructors &amp; other implementations omitted\r\n\r\n@Override\r\npublic void setCity(String city){\r\nthis.city=city\r\n}\r\n\r\npublic void setStateCode(String code){\r\nthis.stateCode = stateCode;\r\n}\r\n///getter omitted\r\n}\r\n```\r\nConcrete City entity class:\r\n\r\n```@Entity\r\n@Table(name = &quot;City&quot;);\r\npublic class City extends Location {\r\n\r\n@JsonBackReference\r\n@OneToOne(cascade={\r\nCascadeType.DeTACH, CascadeType. MERGE})\r\n@JoinColumn(name = &quot;state_city_id&quot;)\r\nprivate State state;\r\n\r\n//constructors &amp; other implementations omitted\r\n@Override\r\npublic void setState(State state) {\r\nthis.state=state;\r\n}\r\n}\r\n}\r\n```\r\n\r\n\r\nController:\r\n```\r\n@Controller\r\n@RequestMapping(path = &quot;location/destination&quot;)\r\npublic class LocationController{ \r\n     @Autowired\r\n\t@Qualifier(&quot;stateImpl&quot;)\r\n\tprivate LocationService service;\r\n\t@PostMapping(value = &quot;/state&quot;, consumes = org.springframework.http.MediaType.APPLICATION_JSON_VALUE, produces = org.springframework.http.MediaType.APPLICATION_JSON_VALUE)\r\n\tpublic void save( @Valid @RequestBody State s ,BindingResult theBindingResult,\r\n\t\t\tHttpServletResponse r) throws IOException{\r\n    if(theBindingResult.hasErrors()) {\r\n\t\t\tthrow new InputException(&quot;Wrong data input!&quot;);\r\n\t\t}\r\n\t\tservice.save(s);\r\n\t\tr.sendRedirect(&quot;&quot;);\r\n\t}\r\n@GetMapping()\r\npublic ResponseEntity&lt;Object&gt;findAll(){\r\nreturn new ResponseEntity&lt;Object&gt;(service.findAll(),HttpStatus.OK);\r\n}\r\n}\r\n```\r\nError message on postman:\r\n\r\n    &quot;status&quot;: 415,\r\n        &quot;error&quot;: &quot;Unsupported Media Type&quot;,\r\n        &quot;trace&quot;: &quot;org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;application/json;charset=UTF-8 not supported\\r\\n\\tat...&#39;","title":"Why does Postman error &quot;unsupported media type&quot; for a POST request in spring boot","body":"<p>I have an entity class <code>State</code> which extends abstract class <code>Location</code> and implemented it's abstract methods. When I made a <code>PostMapping</code> request on postman with the content type set to Json, I got an error unsupported Media Type as shown below:</p>\n<pre><code>&quot;error:&quot; Unsupported Media Type,\n&quot;trace&quot;: org.springframework.web.HttpMediaTpeNotSupportedException:Content type:'application/json;...\n</code></pre>\n<p>Abstract class:</p>\n<pre><code>@MappedSuperclass\npublic abstract class Location {\n@Id\n@Column(name=&quot;id&quot;)\n@GeneratedValue(strategy= GenerationType.IDENTITY)\nprivate Integer id;\n\n@Column(name = &quot;long&quot;)\nprivate String longitude;\n\n@Column(name = &quot; lat&quot;)\nprivate String latitude;\n\npublic Location (){}\n//assessors &amp; mutators ommited with abstract methods\n}\n</code></pre>\n<p>Concrete State entity class:</p>\n<pre><code>@Table(name=&quot;State&quot;)\npublic class State extends Location {\n\n@Pattern(regexp = &quot;[0-9]{5}&quot;)\nprivate String sateCode;\n\n@JsonManagedReference\n@OneToOne(mappedBy=&quot;state&quot;,\ncascade=CascadeType.All, fetch=FetchType.Lazy)\nprivate City city = new City();\n//constructors &amp; other implementations omitted\n\n@Override\npublic void setCity(String city){\nthis.city=city\n}\n\npublic void setStateCode(String code){\nthis.stateCode = stateCode;\n}\n///getter omitted\n}\n</code></pre>\n<p>Concrete City entity class:</p>\n<pre><code>@Table(name = &quot;City&quot;);\npublic class City extends Location {\n\n@JsonBackReference\n@OneToOne(cascade={\nCascadeType.DeTACH, CascadeType. MERGE})\n@JoinColumn(name = &quot;state_city_id&quot;)\nprivate State state;\n\n//constructors &amp; other implementations omitted\n@Override\npublic void setState(State state) {\nthis.state=state;\n}\n}\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@Controller\n@RequestMapping(path = &quot;location/destination&quot;)\npublic class LocationController{ \n     @Autowired\n    @Qualifier(&quot;stateImpl&quot;)\n    private LocationService service;\n    @PostMapping(value = &quot;/state&quot;, consumes = org.springframework.http.MediaType.APPLICATION_JSON_VALUE, produces = org.springframework.http.MediaType.APPLICATION_JSON_VALUE)\n    public void save( @Valid @RequestBody State s ,BindingResult theBindingResult,\n            HttpServletResponse r) throws IOException{\n    if(theBindingResult.hasErrors()) {\n            throw new InputException(&quot;Wrong data input!&quot;);\n        }\n        service.save(s);\n        r.sendRedirect(&quot;&quot;);\n    }\n@GetMapping()\npublic ResponseEntity&lt;Object&gt;findAll(){\nreturn new ResponseEntity&lt;Object&gt;(service.findAll(),HttpStatus.OK);\n}\n}\n</code></pre>\n<p>Error message on postman:</p>\n<pre><code>&quot;status&quot;: 415,\n    &quot;error&quot;: &quot;Unsupported Media Type&quot;,\n    &quot;trace&quot;: &quot;org.springframework.web.HttpMediaTypeNotSupportedException: Content type 'application/json;charset=UTF-8 not supported\\r\\n\\tat...'\n</code></pre>\n"},{"tags":["java","interface","overriding"],"answers":[{"tags":[],"owner":{"account_id":2218,"reputation":16624,"user_id":3050,"accept_rate":95,"display_name":"Paul Whelan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1273487254,"creation_date":1273487254,"answer_id":2801908,"question_id":2801878,"body_markdown":"Well if they are both the same it doesn&#39;t matter. It implements both of them with a single concrete method per interface method. ","title":"Implementing two interfaces in a class with same method. Which interface method is overridden?","body":"<p>Well if they are both the same it doesn't matter. It implements both of them with a single concrete method per interface method. </p>\n"},{"tags":[],"owner":{"account_id":77142,"reputation":9356,"user_id":220381,"accept_rate":75,"display_name":"Ash"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1273487348,"creation_date":1273487348,"answer_id":2801914,"question_id":2801878,"body_markdown":"As far as the compiler is concerned, those two methods are identical. There will be one implementation of both.\r\n\r\nThis isn&#39;t a problem if the two methods are effectively identical, in that they should have the same implementation. If they are contractually different (as per the documentation for each interface), you&#39;ll be in trouble.","title":"Implementing two interfaces in a class with same method. Which interface method is overridden?","body":"<p>As far as the compiler is concerned, those two methods are identical. There will be one implementation of both.</p>\n\n<p>This isn't a problem if the two methods are effectively identical, in that they should have the same implementation. If they are contractually different (as per the documentation for each interface), you'll be in trouble.</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1273487508,"creation_date":1273487508,"answer_id":2801929,"question_id":2801878,"body_markdown":"There is nothing to identify. Interfaces only proscribe a method name and signature. If both interfaces have a method of exactly the same name and signature, the implementing class can implement both interface methods with a single concrete method.\r\n\r\nHowever, if the *semantic* contracts of the two interface method are contradicting, you&#39;ve pretty much lost; you cannot implement both interfaces in a single class then.","title":"Implementing two interfaces in a class with same method. Which interface method is overridden?","body":"<p>There is nothing to identify. Interfaces only proscribe a method name and signature. If both interfaces have a method of exactly the same name and signature, the implementing class can implement both interface methods with a single concrete method.</p>\n\n<p>However, if the <em>semantic</em> contracts of the two interface method are contradicting, you've pretty much lost; you cannot implement both interfaces in a single class then.</p>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":0,"up_vote_count":432,"is_accepted":true,"score":432,"last_activity_date":1273824214,"creation_date":1273824214,"answer_id":2832651,"question_id":2801878,"body_markdown":"If a type implements two interfaces, and each `interface` define a method that has identical signature, then in effect there is only one method, and they are not distinguishable. If, say, the two methods have conflicting return types, then it will be a compilation error. This is the general rule of inheritance, method overriding, hiding, and declarations, and applies also to possible conflicts not only between 2 inherited `interface` methods, but also an `interface` and a super `class` method, or even just conflicts due to type erasure of generics.\r\n\r\n----\r\n\r\n### Compatibility example\r\n\r\nHere&#39;s an example where you have an `interface Gift`, which has a `present()` method (as in, presenting gifts), and also an `interface Guest`, which also has a `present()` method (as in, the guest is present and not absent).\r\n\r\n`Presentable johnny` is both a `Gift` and a `Guest`.\r\n\r\n    public class InterfaceTest {\r\n    \tinterface Gift  { void present(); }\r\n    \tinterface Guest { void present(); }\r\n\r\n    \tinterface Presentable extends Gift, Guest { }\r\n\r\n    \tpublic static void main(String[] args) {\r\n    \t\tPresentable johnny = new Presentable() {\r\n    \t\t\t@Override public void present() {\r\n    \t\t\t\tSystem.out.println(&quot;Heeeereee&#39;s Johnny!!!&quot;);\r\n\t\t\t\t}\r\n    \t\t};\r\n    \t\tjohnny.present();                     // &quot;Heeeereee&#39;s Johnny!!!&quot;\r\n\r\n    \t\t((Gift) johnny).present();            // &quot;Heeeereee&#39;s Johnny!!!&quot;\r\n    \t\t((Guest) johnny).present();           // &quot;Heeeereee&#39;s Johnny!!!&quot;\r\n\r\n    \t\tGift johnnyAsGift = (Gift) johnny;\r\n    \t\tjohnnyAsGift.present();               // &quot;Heeeereee&#39;s Johnny!!!&quot;\r\n\r\n    \t\tGuest johnnyAsGuest = (Guest) johnny;\r\n    \t\tjohnnyAsGuest.present();              // &quot;Heeeereee&#39;s Johnny!!!&quot;\r\n    \t}\r\n    }\r\n\r\nThe above snippet compiles and runs.\r\n\r\nNote that **there is only one** `@Override` **necessary!!!**. This is because `Gift.present()` and `Guest.present()` are &quot;`@Override`-equivalent&quot; ([JLS 8.4.2](http://java.sun.com/docs/books/jls/third_edition/html/classes.html#8.4.2)).\r\n\r\nThus, `johnny` **only has one implementation** of `present()`, and it doesn&#39;t matter how you treat `johnny`, whether as a `Gift` or as a `Guest`, there is only one method to invoke.\r\n\r\n----\r\n\r\n### Incompatibility example\r\n\r\nHere&#39;s an example where the two inherited methods are NOT `@Override`-equivalent: \r\n\r\n    public class InterfaceTest {\r\n    \tinterface Gift  { void present(); }\r\n    \tinterface Guest { boolean present(); }\r\n\r\n    \tinterface Presentable extends Gift, Guest { } // DOES NOT COMPILE!!!\r\n    \t// &quot;types InterfaceTest.Guest and InterfaceTest.Gift are incompatible;\r\n    \t//  both define present(), but with unrelated return types&quot;\r\n    }\r\n\r\nThis further reiterates that inheriting members from an `interface` must obey the general rule of member declarations. Here we have `Gift` and `Guest` define `present()` with incompatible return types: one `void` the other `boolean`. For the same reason that you can&#39;t an `void present()` and a `boolean present()` in one type, this example results in a compilation error.\r\n\r\n---\r\n\r\n## Summary\r\n\r\nYou can inherit methods that are `@Override`-equivalent, subject to the usual requirements of method overriding and hiding. Since they **ARE** `@Override`-equivalent, effectively there is only one method to implement, and thus there&#39;s nothing to distinguish/select from. \r\n\r\nThe compiler does not have to identify which method is for which interface, because once they are determined to be `@Override`-equivalent, they&#39;re the same method.\r\n\r\nResolving potential incompatibilities may be a tricky task, but that&#39;s another issue altogether.\r\n\r\n### References\r\n\r\n* [JLS 8.4.2 Method Signature](http://java.sun.com/docs/books/jls/third_edition/html/classes.html#8.4.2)\r\n* [JLS 8.4.8 Inheritance, Overriding, and Hiding](http://java.sun.com/docs/books/jls/third_edition/html/classes.html#8.4.8)\r\n* [JLS 8.4.8.3 Requirements in Overriding and Hiding](http://java.sun.com/docs/books/jls/third_edition/html/classes.html#8.4.8.3)\r\n* [JLS 8.4.8.4 Inheriting Methods with Override-Equivalent Signatures](http://java.sun.com/docs/books/jls/third_edition/html/classes.html#8.4.8.4)\r\n   * &quot;It is possible for a class to inherit multiple methods with override-equivalent signatures.&quot;","title":"Implementing two interfaces in a class with same method. Which interface method is overridden?","body":"<p>If a type implements two interfaces, and each <code>interface</code> define a method that has identical signature, then in effect there is only one method, and they are not distinguishable. If, say, the two methods have conflicting return types, then it will be a compilation error. This is the general rule of inheritance, method overriding, hiding, and declarations, and applies also to possible conflicts not only between 2 inherited <code>interface</code> methods, but also an <code>interface</code> and a super <code>class</code> method, or even just conflicts due to type erasure of generics.</p>\n\n<hr>\n\n<h3>Compatibility example</h3>\n\n<p>Here's an example where you have an <code>interface Gift</code>, which has a <code>present()</code> method (as in, presenting gifts), and also an <code>interface Guest</code>, which also has a <code>present()</code> method (as in, the guest is present and not absent).</p>\n\n<p><code>Presentable johnny</code> is both a <code>Gift</code> and a <code>Guest</code>.</p>\n\n<pre><code>public class InterfaceTest {\n    interface Gift  { void present(); }\n    interface Guest { void present(); }\n\n    interface Presentable extends Gift, Guest { }\n\n    public static void main(String[] args) {\n        Presentable johnny = new Presentable() {\n            @Override public void present() {\n                System.out.println(\"Heeeereee's Johnny!!!\");\n            }\n        };\n        johnny.present();                     // \"Heeeereee's Johnny!!!\"\n\n        ((Gift) johnny).present();            // \"Heeeereee's Johnny!!!\"\n        ((Guest) johnny).present();           // \"Heeeereee's Johnny!!!\"\n\n        Gift johnnyAsGift = (Gift) johnny;\n        johnnyAsGift.present();               // \"Heeeereee's Johnny!!!\"\n\n        Guest johnnyAsGuest = (Guest) johnny;\n        johnnyAsGuest.present();              // \"Heeeereee's Johnny!!!\"\n    }\n}\n</code></pre>\n\n<p>The above snippet compiles and runs.</p>\n\n<p>Note that <strong>there is only one</strong> <code>@Override</code> <strong>necessary!!!</strong>. This is because <code>Gift.present()</code> and <code>Guest.present()</code> are \"<code>@Override</code>-equivalent\" (<a href=\"http://java.sun.com/docs/books/jls/third_edition/html/classes.html#8.4.2\" rel=\"noreferrer\">JLS 8.4.2</a>).</p>\n\n<p>Thus, <code>johnny</code> <strong>only has one implementation</strong> of <code>present()</code>, and it doesn't matter how you treat <code>johnny</code>, whether as a <code>Gift</code> or as a <code>Guest</code>, there is only one method to invoke.</p>\n\n<hr>\n\n<h3>Incompatibility example</h3>\n\n<p>Here's an example where the two inherited methods are NOT <code>@Override</code>-equivalent: </p>\n\n<pre><code>public class InterfaceTest {\n    interface Gift  { void present(); }\n    interface Guest { boolean present(); }\n\n    interface Presentable extends Gift, Guest { } // DOES NOT COMPILE!!!\n    // \"types InterfaceTest.Guest and InterfaceTest.Gift are incompatible;\n    //  both define present(), but with unrelated return types\"\n}\n</code></pre>\n\n<p>This further reiterates that inheriting members from an <code>interface</code> must obey the general rule of member declarations. Here we have <code>Gift</code> and <code>Guest</code> define <code>present()</code> with incompatible return types: one <code>void</code> the other <code>boolean</code>. For the same reason that you can't an <code>void present()</code> and a <code>boolean present()</code> in one type, this example results in a compilation error.</p>\n\n<hr>\n\n<h2>Summary</h2>\n\n<p>You can inherit methods that are <code>@Override</code>-equivalent, subject to the usual requirements of method overriding and hiding. Since they <strong>ARE</strong> <code>@Override</code>-equivalent, effectively there is only one method to implement, and thus there's nothing to distinguish/select from. </p>\n\n<p>The compiler does not have to identify which method is for which interface, because once they are determined to be <code>@Override</code>-equivalent, they're the same method.</p>\n\n<p>Resolving potential incompatibilities may be a tricky task, but that's another issue altogether.</p>\n\n<h3>References</h3>\n\n<ul>\n<li><a href=\"http://java.sun.com/docs/books/jls/third_edition/html/classes.html#8.4.2\" rel=\"noreferrer\">JLS 8.4.2 Method Signature</a></li>\n<li><a href=\"http://java.sun.com/docs/books/jls/third_edition/html/classes.html#8.4.8\" rel=\"noreferrer\">JLS 8.4.8 Inheritance, Overriding, and Hiding</a></li>\n<li><a href=\"http://java.sun.com/docs/books/jls/third_edition/html/classes.html#8.4.8.3\" rel=\"noreferrer\">JLS 8.4.8.3 Requirements in Overriding and Hiding</a></li>\n<li><a href=\"http://java.sun.com/docs/books/jls/third_edition/html/classes.html#8.4.8.4\" rel=\"noreferrer\">JLS 8.4.8.4 Inheriting Methods with Override-Equivalent Signatures</a>\n\n<ul>\n<li>\"It is possible for a class to inherit multiple methods with override-equivalent signatures.\"</li>\n</ul></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":272300,"reputation":4685,"user_id":563306,"accept_rate":76,"display_name":"dcanh121"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1317947952,"creation_date":1317947952,"answer_id":7682003,"question_id":2801878,"body_markdown":"Try implementing the interface as anonymous.\r\n\r\n    public class MyClass extends MySuperClass implements MyInterface{\r\n    \r\n    MyInterface myInterface = new MyInterface(){\r\n    \r\n    /* Overrided method from interface */\r\n    @override\r\n    public void method1(){\r\n    \r\n    }\r\n    \r\n    };\r\n    \r\n    /* Overrided method from superclass*/\r\n    @override\r\n    public void method1(){\r\n    \r\n    }\r\n    \r\n    }","title":"Implementing two interfaces in a class with same method. Which interface method is overridden?","body":"<p>Try implementing the interface as anonymous.</p>\n\n<pre><code>public class MyClass extends MySuperClass implements MyInterface{\n\nMyInterface myInterface = new MyInterface(){\n\n/* Overrided method from interface */\n@override\npublic void method1(){\n\n}\n\n};\n\n/* Overrided method from superclass*/\n@override\npublic void method1(){\n\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4435681,"reputation":51,"user_id":3611589,"display_name":"Bhagrav Jain"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1399460281,"creation_date":1399458978,"answer_id":23515419,"question_id":2801878,"body_markdown":"As in interface,we are just declaring methods,concrete class which implements these both interfaces understands is that there is only one method(as you described both have same name in return type). so there should not be an issue with it.You will be able to define that method in concrete class.\r\n\r\nBut when two interface have a method with the same name but different return type and you implement two methods in concrete class:\r\n\r\nPlease look at below code:\r\n\r\n    public interface InterfaceA {\r\n      public void print();\r\n    }\r\n\r\n\r\n    public interface InterfaceB {\r\n      public int print();\r\n    }\r\n\r\n    public class ClassAB implements InterfaceA, InterfaceB {\r\n      public void print()\r\n      {\r\n        System.out.println(&quot;Inside InterfaceA&quot;);\r\n      }\r\n      public int print()\r\n      {\r\n        System.out.println(&quot;Inside InterfaceB&quot;);\r\n        return 5;\r\n      }\r\n    }\r\n\r\nwhen compiler gets method &quot;public void print()&quot; it first looks in InterfaceA and it gets it.But still it gives compile time error that return type is not compatible with method of InterfaceB.\r\n\r\nSo it goes haywire for compiler.\r\n\r\nIn this way, you will not be able to implement two interface having a method of same name but different return type.\r\n\r\n\r\n","title":"Implementing two interfaces in a class with same method. Which interface method is overridden?","body":"<p>As in interface,we are just declaring methods,concrete class which implements these both interfaces understands is that there is only one method(as you described both have same name in return type). so there should not be an issue with it.You will be able to define that method in concrete class.</p>\n\n<p>But when two interface have a method with the same name but different return type and you implement two methods in concrete class:</p>\n\n<p>Please look at below code:</p>\n\n<pre><code>public interface InterfaceA {\n  public void print();\n}\n\n\npublic interface InterfaceB {\n  public int print();\n}\n\npublic class ClassAB implements InterfaceA, InterfaceB {\n  public void print()\n  {\n    System.out.println(\"Inside InterfaceA\");\n  }\n  public int print()\n  {\n    System.out.println(\"Inside InterfaceB\");\n    return 5;\n  }\n}\n</code></pre>\n\n<p>when compiler gets method \"public void print()\" it first looks in InterfaceA and it gets it.But still it gives compile time error that return type is not compatible with method of InterfaceB.</p>\n\n<p>So it goes haywire for compiler.</p>\n\n<p>In this way, you will not be able to implement two interface having a method of same name but different return type.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1403676469,"creation_date":1403675800,"answer_id":24401182,"question_id":2801878,"body_markdown":"This was marked as a duplicate to this question https://stackoverflow.com/questions/24401064/understanding-and-solving-the-diamond-problems-in-java\r\n\r\nYou need Java 8 to get a multiple inheritance problem, but it is still not a diamon problem as such.\r\n\r\n    interface A {\r\n        default void hi() { System.out.println(&quot;A&quot;); }\r\n    }\r\n\r\n    interface B {\r\n        default void hi() { System.out.println(&quot;B&quot;); }\r\n    }\r\n\r\n    class AB implements A, B { // won&#39;t compile\r\n    }\r\n\r\n    new AB().hi(); // won&#39;t compile.\r\n\r\nAs JB Nizet comments you can fix this my overriding.\r\n\r\n    class AB implements A, B {\r\n        public void hi() { A.super.hi(); }\r\n    }\r\n\r\n\r\nHowever, you don&#39;t have a problem with\r\n\r\n    interface D extends A { }\r\n\r\n    interface E extends A { }\r\n\r\n    interface F extends A {\r\n        default void hi() { System.out.println(&quot;F&quot;); }\r\n    }\r\n\r\n    class DE implement D, E { }\r\n\r\n    new DE().hi(); // prints A\r\n\r\n    class DEF implement D, E, F { }\r\n\r\n    new DEF().hi(); // prints F as it is closer in the heirarchy than A.\r\n","title":"Implementing two interfaces in a class with same method. Which interface method is overridden?","body":"<p>This was marked as a duplicate to this question <a href=\"https://stackoverflow.com/questions/24401064/understanding-and-solving-the-diamond-problems-in-java\">https://stackoverflow.com/questions/24401064/understanding-and-solving-the-diamond-problems-in-java</a></p>\n\n<p>You need Java 8 to get a multiple inheritance problem, but it is still not a diamon problem as such.</p>\n\n<pre><code>interface A {\n    default void hi() { System.out.println(\"A\"); }\n}\n\ninterface B {\n    default void hi() { System.out.println(\"B\"); }\n}\n\nclass AB implements A, B { // won't compile\n}\n\nnew AB().hi(); // won't compile.\n</code></pre>\n\n<p>As JB Nizet comments you can fix this my overriding.</p>\n\n<pre><code>class AB implements A, B {\n    public void hi() { A.super.hi(); }\n}\n</code></pre>\n\n<p>However, you don't have a problem with</p>\n\n<pre><code>interface D extends A { }\n\ninterface E extends A { }\n\ninterface F extends A {\n    default void hi() { System.out.println(\"F\"); }\n}\n\nclass DE implement D, E { }\n\nnew DE().hi(); // prints A\n\nclass DEF implement D, E, F { }\n\nnew DEF().hi(); // prints F as it is closer in the heirarchy than A.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16765025,"reputation":1192,"user_id":12118888,"display_name":"Payel Senapati"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1642799642,"creation_date":1642799642,"answer_id":70807689,"question_id":2801878,"body_markdown":"&lt;h4&gt;The following two approaches can also be taken to implement both the duplicate methods and avoid ambiguity -&lt;/h4&gt; \r\n\r\n\r\n&lt;b&gt;&lt;h1&gt;APPROACH 1:&lt;/h1&gt;&lt;/b&gt;\r\n\r\n`App.java` - \r\n\r\n```\r\npublic class App {\r\n    public static void main(String[] args) {\r\n        TestInterface1 testInterface1 = new TestInterface1();\r\n        TestInterface2 testInterface2 = new TestInterface2();\r\n        testInterface1.draw();\r\n        testInterface2.draw();\r\n    }\r\n}\r\n```\r\n\r\n`TestInterface1.java` - \r\n\r\n```\r\npublic class TestInterface1 implements Circle {\r\n    \r\n}\r\n```\r\n\r\n`TestInterface2.java` - \r\n\r\n```\r\npublic class TestInterface2 implements Rectangle {\r\n    \r\n}\r\n```\r\n\r\n`Circle.java` - \r\n\r\n```\r\npublic interface Circle extends Drawable {\r\n    @Override\r\n    default void draw() {\r\n        System.out.println(&quot;Drawing circle&quot;);\r\n    }\r\n}\r\n```\r\n\r\n`Rectangle.java` - \r\n\r\n```\r\npublic interface Rectangle extends Drawable {\r\n    @Override\r\n    default void draw() {\r\n        System.out.println(&quot;Drawing rectangle&quot;);\r\n    }\r\n}\r\n```\r\n\r\n`Drawable.java` - \r\n\r\n```\r\npublic interface Drawable {\r\n    default void draw() {\r\n        System.out.println(&quot;Drawing&quot;);\r\n    }\r\n}\r\n```\r\n\r\n&lt;b&gt;Output -&lt;/b&gt; \r\n\r\n```\r\nDrawing circle\r\nDrawing rectangle\r\n```\r\n\r\n&lt;b&gt;&lt;h1&gt;APPROACH 2:&lt;/h1&gt;&lt;/b&gt; \r\n\r\n`App.java` - \r\n\r\n```\r\npublic class App {\r\n    public static void main(String[] args) {\r\n        \r\n        Circle circle = new Circle() {\r\n                \r\n        };\r\n        Rectangle rectangle = new Rectangle() {\r\n                \r\n        };\r\n\r\n        circle.draw();\r\n        rectangle.draw();\r\n    }\r\n}\r\n```\r\n\r\n`Circle.java` - \r\n\r\n```\r\npublic interface Circle extends Drawable {\r\n    @Override\r\n    default void draw() {\r\n        System.out.println(&quot;Drawing circle&quot;);\r\n    }\r\n}\r\n```\r\n\r\n`Rectangle.java` - \r\n\r\n```\r\npublic interface Rectangle extends Drawable {\r\n    @Override\r\n    default void draw() {\r\n        System.out.println(&quot;Drawing rectangle&quot;);\r\n    }\r\n}\r\n```\r\n\r\n`Drawable.java` - \r\n\r\n```\r\npublic interface Drawable {\r\n    default void draw() {\r\n        System.out.println(&quot;Drawing&quot;);\r\n    }\r\n}\r\n```\r\n\r\n&lt;b&gt;Output -&lt;/b&gt; \r\n\r\n```\r\nDrawing circle\r\nDrawing rectangle\r\n```","title":"Implementing two interfaces in a class with same method. Which interface method is overridden?","body":"<h4>The following two approaches can also be taken to implement both the duplicate methods and avoid ambiguity -</h4> \n<p><b><h1>APPROACH 1:</h1></b></p>\n<p><code>App.java</code> -</p>\n<pre><code>public class App {\n    public static void main(String[] args) {\n        TestInterface1 testInterface1 = new TestInterface1();\n        TestInterface2 testInterface2 = new TestInterface2();\n        testInterface1.draw();\n        testInterface2.draw();\n    }\n}\n</code></pre>\n<p><code>TestInterface1.java</code> -</p>\n<pre><code>public class TestInterface1 implements Circle {\n    \n}\n</code></pre>\n<p><code>TestInterface2.java</code> -</p>\n<pre><code>public class TestInterface2 implements Rectangle {\n    \n}\n</code></pre>\n<p><code>Circle.java</code> -</p>\n<pre><code>public interface Circle extends Drawable {\n    @Override\n    default void draw() {\n        System.out.println(&quot;Drawing circle&quot;);\n    }\n}\n</code></pre>\n<p><code>Rectangle.java</code> -</p>\n<pre><code>public interface Rectangle extends Drawable {\n    @Override\n    default void draw() {\n        System.out.println(&quot;Drawing rectangle&quot;);\n    }\n}\n</code></pre>\n<p><code>Drawable.java</code> -</p>\n<pre><code>public interface Drawable {\n    default void draw() {\n        System.out.println(&quot;Drawing&quot;);\n    }\n}\n</code></pre>\n<p><b>Output -</b></p>\n<pre><code>Drawing circle\nDrawing rectangle\n</code></pre>\n<p><b><h1>APPROACH 2:</h1></b></p>\n<p><code>App.java</code> -</p>\n<pre><code>public class App {\n    public static void main(String[] args) {\n        \n        Circle circle = new Circle() {\n                \n        };\n        Rectangle rectangle = new Rectangle() {\n                \n        };\n\n        circle.draw();\n        rectangle.draw();\n    }\n}\n</code></pre>\n<p><code>Circle.java</code> -</p>\n<pre><code>public interface Circle extends Drawable {\n    @Override\n    default void draw() {\n        System.out.println(&quot;Drawing circle&quot;);\n    }\n}\n</code></pre>\n<p><code>Rectangle.java</code> -</p>\n<pre><code>public interface Rectangle extends Drawable {\n    @Override\n    default void draw() {\n        System.out.println(&quot;Drawing rectangle&quot;);\n    }\n}\n</code></pre>\n<p><code>Drawable.java</code> -</p>\n<pre><code>public interface Drawable {\n    default void draw() {\n        System.out.println(&quot;Drawing&quot;);\n    }\n}\n</code></pre>\n<p><b>Output -</b></p>\n<pre><code>Drawing circle\nDrawing rectangle\n</code></pre>\n"}],"owner":{"account_id":47673,"reputation":14840,"user_id":141311,"accept_rate":57,"display_name":"Jothi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256962,"favorite_count":0,"down_vote_count":0,"up_vote_count":307,"accepted_answer_id":2832651,"answer_count":8,"score":307,"last_activity_date":1642799642,"creation_date":1273486893,"question_id":2801878,"body_markdown":"Two interfaces with same method names and signatures. But implemented by a single class then how the compiler will identify the which method is for which interface?\r\n\r\nEx:\r\n\r\n    interface A{\r\n      int f();\r\n    }\r\n\r\n    interface B{\r\n      int f();\r\n    }\r\n\r\n    class Test implements A, B{   \r\n      public static void main(String... args) throws Exception{   \r\n         \r\n      }\r\n\r\n      @Override\r\n      public int f() {  // from which interface A or B\r\n        return 0;\r\n      }\r\n    }   ","title":"Implementing two interfaces in a class with same method. Which interface method is overridden?","body":"<p>Two interfaces with same method names and signatures. But implemented by a single class then how the compiler will identify the which method is for which interface?</p>\n\n<p>Ex:</p>\n\n<pre><code>interface A{\n  int f();\n}\n\ninterface B{\n  int f();\n}\n\nclass Test implements A, B{   \n  public static void main(String... args) throws Exception{   \n\n  }\n\n  @Override\n  public int f() {  // from which interface A or B\n    return 0;\n  }\n}   \n</code></pre>\n"},{"tags":["java","android","android-studio","gis","google-maps-android-api-2"],"comments":[{"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"score":0,"creation_date":1642799697,"post_id":70807668,"comment_id":125177080,"body_markdown":"Downloading and/or caching map tiles are against Google Maps API terms of service. https://cloud.google.com/maps-platform/terms\n\n3.2.3 Restrictions Against Misusing the Services\n\n(b) No Caching. Customer will not cache Google Maps Content except as expressly permitted under the Maps Service Specific Terms.","body":"Downloading and/or caching map tiles are against Google Maps API terms of service. <a href=\"https://cloud.google.com/maps-platform/terms\" rel=\"nofollow noreferrer\">cloud.google.com/maps-platform/terms</a>  3.2.3 Restrictions Against Misusing the Services  (b) No Caching. Customer will not cache Google Maps Content except as expressly permitted under the Maps Service Specific Terms."},{"owner":{"account_id":23983200,"reputation":53,"user_id":17970328,"display_name":"Matt N."},"score":1,"creation_date":1642800528,"post_id":70807668,"comment_id":125177312,"body_markdown":"@JonR85 I am **not** trying to download or cache Google Maps content. I am trying to download my own map tiles. They are entirely my own and are provided by me, not Google.","body":"@JonR85 I am <b>not</b> trying to download or cache Google Maps content. I am trying to download my own map tiles. They are entirely my own and are provided by me, not Google."},{"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"score":0,"creation_date":1642816897,"post_id":70807668,"comment_id":125180468,"body_markdown":"https://stackoverflow.com/questions/38169034/use-google-maps-offline-maps-cache-in-google-maps-android-api","body":"<a href=\"https://stackoverflow.com/questions/38169034/use-google-maps-offline-maps-cache-in-google-maps-android-api\" title=\"use google maps offline maps cache in google maps android api\">stackoverflow.com/questions/38169034/&hellip;</a>"},{"owner":{"account_id":23983200,"reputation":53,"user_id":17970328,"display_name":"Matt N."},"score":0,"creation_date":1643015395,"post_id":70807668,"comment_id":125218406,"body_markdown":"@JonR85 Thanks for the link. Unfortunately I&#39;ve already looked at all of those posts. The link in the third bullet point of that answer seems promising. However my map tiles are stored on a server and accessed via URLs, so I don&#39;t think Asset manager can help. I will consider using osmdroid instead if I have to, but I&#39;d prefer to continue with the Google Maps approach.","body":"@JonR85 Thanks for the link. Unfortunately I&#39;ve already looked at all of those posts. The link in the third bullet point of that answer seems promising. However my map tiles are stored on a server and accessed via URLs, so I don&#39;t think Asset manager can help. I will consider using osmdroid instead if I have to, but I&#39;d prefer to continue with the Google Maps approach."},{"owner":{"account_id":23983200,"reputation":53,"user_id":17970328,"display_name":"Matt N."},"score":0,"creation_date":1643015899,"post_id":70807668,"comment_id":125218587,"body_markdown":"@JonR85 As for the other links: I don&#39;t need to cache tiles. I need downloaded tiles to be kept in persistent storage. Since users need to be online to download the tiles, verifying the API key when the app is opened for the first time shouldn&#39;t be a problem.","body":"@JonR85 As for the other links: I don&#39;t need to cache tiles. I need downloaded tiles to be kept in persistent storage. Since users need to be online to download the tiles, verifying the API key when the app is opened for the first time shouldn&#39;t be a problem."}],"owner":{"account_id":23983200,"reputation":53,"user_id":17970328,"display_name":"Matt N."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1631,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642799483,"creation_date":1642799483,"question_id":70807668,"body_markdown":"Goal\r\n--------\r\nDownload custom tiles via URLs to an Android device and view them using Google Maps. Note that I am **not** trying to store/cache Google&#39;s tiles. My tiles create a heat-map for conveying data and need to be available later when the device is offline.\r\n\r\nProblem\r\n--------\r\nI tried implementing 0ne_Up&#39;s OfflineTileProvider from [here][1]. I modified it slightly so that it works in my map Fragment instead of an Activity. I think it&#39;s supposed to display tiles stored on the device, or download and display them if they aren&#39;t on the device. However, I receive the following error for every tile that I don&#39;t have a URL for (my tiles don&#39;t cover the whole map):\r\n\r\n    java.io.FileNotFoundException: https://exampleDomain.com/mapData/6/32/32.png\r\nAnd when it tries to load a tile that I **do** have a URL for, I get this error:\r\n\r\n    java.io.FileNotFoundException: data_directory/6/33/31.png: open failed: ENOENT (No such file or directory)\r\nWhich tells me that perhaps it downloaded it (or at least tried to) but just can&#39;t find it?\r\nAnother weird thing happens when I try to use OpenStreetMap tiles instead (just to test if it&#39;s working). I get this error for every tile:\r\n\r\n    java.io.FileNotFoundException: https://tile.openstreetmap.org/6/34/31.png\r\nI know the tile exists though because I can go to that URL and view it. \r\n\r\nWhat I&#39;ve tried\r\n--------\r\nThe answer linked to above was the most helpful thing I&#39;ve found so far (despite it giving me an error). I&#39;ve tried looking it over carefully, but I have no idea what the problem is. I&#39;ve never made an app download an image before (or anything really, this is my first app). What I tried previously that works is a modified UrlTileProvider (shown below, based on user611447&#39;s answer [here][2]). It doesn&#39;t give any of the above errors and displays all of the tiles (but only when online).\r\n\r\nHere&#39;s the Java code for my map fragment (without the imports):\r\n```\r\n/**\r\n * The base map without any additional content\r\n */\r\npublic class BaseMap extends Fragment\r\n{\r\n    private GoogleMap mMap;\r\n    SupportMapFragment mapFragment;\r\n\r\n    // restrict the zoom level to 5 and 10\r\n    private static final int MIN_ZOOM = 5;\r\n    private static final int MAX_ZOOM = 10;\r\n\r\n    private static final int TILE_WIDTH = 256;\r\n    private static final int TILE_HEIGHT = 256;\r\n\r\n\r\n    @Override\r\n    public View onCreateView( LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState )\r\n    {\r\n        // inflate the view\r\n        View view = inflater.inflate( R.layout.fragment_base_map, container, false );\r\n\r\n        // initialize map fragment\r\n        mapFragment = (SupportMapFragment)\r\n                getChildFragmentManager().findFragmentById( R.id.map );\r\n\r\n        // Async map\r\n        mapFragment.getMapAsync(\r\n            new OnMapReadyCallback()\r\n            {\r\n                /**\r\n                 * Manipulates the map once available.\r\n                 * This callback is triggered when the map is ready to be used.\r\n                 * This is where we can add markers  or lines, add listeners or move the camera.\r\n                 * If Google Play services is not installed on the device, the user will be prompted to install\r\n                 * it inside the SupportMapFragment. This method will only be triggered once the user has\r\n                 * installed Google Play services and returned to the app.\r\n                 */\r\n                @Override\r\n                public void onMapReady( @NonNull GoogleMap googleMap )\r\n                {\r\n                    setUpMap( googleMap );\r\n                }\r\n            }\r\n        );\r\n\r\n        // return view\r\n        return view;\r\n    }\r\n\r\n\r\n    public void setUpMap( @NonNull GoogleMap googleMap )\r\n    {\r\n        // initialize map variables\r\n        mMap = googleMap;\r\n        //mMap.setMapType( GoogleMap.MAP_TYPE_NONE );\r\n\r\n        boolean testingOfflineTileProvider = true;\r\n\r\n        mMap.setMinZoomPreference(MIN_ZOOM);\r\n        mMap.setMaxZoomPreference(MAX_ZOOM);\r\n\r\n        // create the standard options to be used by all markers\r\n        MarkerOptions stdMarkerOptions = new MarkerOptions()\r\n                .icon( BitmapDescriptorFactory.defaultMarker( BitmapDescriptorFactory.HUE_GREEN ) );\r\n\r\n        // - - - - - Map tile creation - - - - -\r\n        TileProvider tileProvider;\r\n        if( !testingOfflineTileProvider )\r\n        {\r\n            tileProvider = new UrlTileProvider( TILE_WIDTH, TILE_HEIGHT )\r\n            {\r\n                @Override\r\n                public URL getTileUrl( int x, int y, int zoom )\r\n                {\r\n                    if( !checkTileExists( x, y, zoom ) )\r\n                    {\r\n                        return null;\r\n                    }\r\n\r\n                    // Modify the y tile coordinate to convert from TMS to XYZ tiles.\r\n                    // This is necessary because Google Maps uses XYZ standard tiles\r\n                    // but stored data tiles are of the TMS standard.\r\n                    y = ( 1 &lt;&lt; zoom ) - y - 1;\r\n\r\n                    // Define the URL pattern for the tile images\r\n                    String myUrlStr = String.format(&quot;https://exampleDomain.com/mapData/%d/%d/%d.png&quot;, zoom, x, y);\r\n\r\n                    try\r\n                    {\r\n                        return new URL( myUrlStr );\r\n                    }\r\n                    catch(MalformedURLException e)\r\n                    {\r\n                        throw new AssertionError(e);\r\n                    }\r\n                }\r\n            };\r\n        }\r\n        else\r\n        {\r\n            tileProvider = new OfflineTileProvider();\r\n        }\r\n\r\n        //TileOverlay tileOverlay = // not needed unless need access to a TileOverlay object\r\n        mMap.addTileOverlay( new TileOverlayOptions()\r\n                .tileProvider( tileProvider ) );\r\n        // - - - - - End of tile creation - - - - -\r\n\r\n        // Add a marker in Libreville\r\n        LatLng libreville = new LatLng( 0.4162, 9.4673 );\r\n        mMap.addMarker( stdMarkerOptions.position(libreville).title(&quot;Marker in Libreville&quot;) );\r\n\r\n        // Move camera to Libreville marker\r\n        CameraUpdate upd = CameraUpdateFactory.newLatLngZoom( libreville, 6 );\r\n        mMap.moveCamera( upd );\r\n    }\r\n\r\n\r\n    // Check that the tile server supports the requested x, y and zoom.\r\n    private boolean checkTileExists(int x, int y, int zoom)\r\n    {\r\n        return ( zoom &gt;= MIN_ZOOM &amp;&amp; zoom &lt;= MAX_ZOOM );\r\n    }\r\n\r\n\r\n    /**\r\n     * provides tiles to the map when in offline mode, downloads them\r\n     */\r\n    private class OfflineTileProvider implements TileProvider\r\n    {\r\n        private static final String TILES_DIR = &quot;data_directory/&quot;;\r\n\r\n        private static final int BUFFER_SIZE_FILE = 16384;\r\n        private static final int BUFFER_SIZE_NETWORK = 8192;\r\n\r\n        private ConnectivityManager connectivityManager;\r\n\r\n        @Override\r\n        public Tile getTile( int x, int y, int zoom )\r\n        {\r\n            if( !checkTileExists( x, y, zoom ) )\r\n            {\r\n                return NO_TILE;\r\n            }\r\n\r\n            // Modify the y tile coordinate to convert from TMS to XYZ tiles.\r\n            // Used only for exampleDomain.com !!!\r\n            y = ( 1 &lt;&lt; zoom ) - y - 1;\r\n\r\n            // Define the URL pattern for the tile images\r\n            String myUrlStr = String.format(&quot;https://exampleDomain.com/mapData/%d/%d/%d.png&quot;, zoom, x, y);\r\n            String testUrlStr = String.format(&quot;https://tile.openstreetmap.org/%d/%d/%d.png&quot;, zoom, x, y);\r\n\r\n            Log.d( TAG, &quot;getTile( &quot; + x + &quot;, &quot; + y + &quot;, &quot; + zoom + &quot; )&quot; );\r\n            try\r\n            {\r\n                byte[] data;\r\n\r\n                File file = new File(TILES_DIR + zoom + &quot;/&quot; + x + &quot;/&quot; + y + &quot;.png&quot;);\r\n\r\n                if( file.exists() )\r\n                {\r\n                    Log.w(TAG, &quot;Tile file found!&quot;);\r\n                    data = readTile( new FileInputStream(file), BUFFER_SIZE_FILE );\r\n                }\r\n                else\r\n                {\r\n                    if( connectivityManager == null )\r\n                    {\r\n                        connectivityManager = (ConnectivityManager) requireActivity()\r\n                                .getSystemService( Context.CONNECTIVITY_SERVICE );\r\n                    }\r\n                    NetworkInfo activeNetworkInfo = connectivityManager.getActiveNetworkInfo();\r\n                    if( activeNetworkInfo == null || !activeNetworkInfo.isConnected() )\r\n                    {\r\n                        Log.w(TAG, &quot;No network&quot;);\r\n                        return NO_TILE;\r\n                    }\r\n\r\n                    Log.d( TAG, &quot;Downloading tile&quot; );\r\n                    data = readTile( new URL( myUrlStr ).openStream(),\r\n                            BUFFER_SIZE_NETWORK );\r\n\r\n                    try ( OutputStream out = new BufferedOutputStream( new FileOutputStream(file) ) )\r\n                    {\r\n                        Log.w(TAG, &quot;Writing tile data to file&quot;);\r\n                        out.write(data);\r\n                    }\r\n                }\r\n\r\n                return new Tile( TILE_WIDTH, TILE_HEIGHT, data );\r\n            }\r\n            catch ( Exception ex )\r\n            {\r\n                Log.e(TAG, &quot;Error loading tile&quot;, ex);\r\n                return NO_TILE;\r\n            }\r\n        }\r\n\r\n\r\n        private byte[] readTile( InputStream in, int bufferSize ) throws IOException\r\n        {\r\n            ByteArrayOutputStream buffer = new ByteArrayOutputStream();\r\n            try\r\n            {\r\n                int i;\r\n                byte[] data = new byte[bufferSize];\r\n\r\n                while ( ( i = in.read( data, 0, bufferSize ) ) != -1 )\r\n                {\r\n                    buffer.write(data, 0, i);\r\n                }\r\n                buffer.flush();\r\n\r\n                return buffer.toByteArray();\r\n            }\r\n            finally\r\n            {\r\n                in.close();\r\n                buffer.close();\r\n            }\r\n        }\r\n\r\n    // End of OfflineTileProvider class\r\n    }\r\n\r\n// End of BaseMap fragment class\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/48938723/google-maps-offline-mode-on-android-application?rq=1\r\n  [2]: https://stackoverflow.com/questions/6973722/images-tile-on-google-map-in-android","title":"Downloading Custom Map Tiles for Offline Use? (Android Google Map)","body":"<h2>Goal</h2>\n<p>Download custom tiles via URLs to an Android device and view them using Google Maps. Note that I am <strong>not</strong> trying to store/cache Google's tiles. My tiles create a heat-map for conveying data and need to be available later when the device is offline.</p>\n<h2>Problem</h2>\n<p>I tried implementing 0ne_Up's OfflineTileProvider from <a href=\"https://stackoverflow.com/questions/48938723/google-maps-offline-mode-on-android-application?rq=1\">here</a>. I modified it slightly so that it works in my map Fragment instead of an Activity. I think it's supposed to display tiles stored on the device, or download and display them if they aren't on the device. However, I receive the following error for every tile that I don't have a URL for (my tiles don't cover the whole map):</p>\n<pre><code>java.io.FileNotFoundException: https://exampleDomain.com/mapData/6/32/32.png\n</code></pre>\n<p>And when it tries to load a tile that I <strong>do</strong> have a URL for, I get this error:</p>\n<pre><code>java.io.FileNotFoundException: data_directory/6/33/31.png: open failed: ENOENT (No such file or directory)\n</code></pre>\n<p>Which tells me that perhaps it downloaded it (or at least tried to) but just can't find it?\nAnother weird thing happens when I try to use OpenStreetMap tiles instead (just to test if it's working). I get this error for every tile:</p>\n<pre><code>java.io.FileNotFoundException: https://tile.openstreetmap.org/6/34/31.png\n</code></pre>\n<p>I know the tile exists though because I can go to that URL and view it.</p>\n<h2>What I've tried</h2>\n<p>The answer linked to above was the most helpful thing I've found so far (despite it giving me an error). I've tried looking it over carefully, but I have no idea what the problem is. I've never made an app download an image before (or anything really, this is my first app). What I tried previously that works is a modified UrlTileProvider (shown below, based on user611447's answer <a href=\"https://stackoverflow.com/questions/6973722/images-tile-on-google-map-in-android\">here</a>). It doesn't give any of the above errors and displays all of the tiles (but only when online).</p>\n<p>Here's the Java code for my map fragment (without the imports):</p>\n<pre><code>/**\n * The base map without any additional content\n */\npublic class BaseMap extends Fragment\n{\n    private GoogleMap mMap;\n    SupportMapFragment mapFragment;\n\n    // restrict the zoom level to 5 and 10\n    private static final int MIN_ZOOM = 5;\n    private static final int MAX_ZOOM = 10;\n\n    private static final int TILE_WIDTH = 256;\n    private static final int TILE_HEIGHT = 256;\n\n\n    @Override\n    public View onCreateView( LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState )\n    {\n        // inflate the view\n        View view = inflater.inflate( R.layout.fragment_base_map, container, false );\n\n        // initialize map fragment\n        mapFragment = (SupportMapFragment)\n                getChildFragmentManager().findFragmentById( R.id.map );\n\n        // Async map\n        mapFragment.getMapAsync(\n            new OnMapReadyCallback()\n            {\n                /**\n                 * Manipulates the map once available.\n                 * This callback is triggered when the map is ready to be used.\n                 * This is where we can add markers  or lines, add listeners or move the camera.\n                 * If Google Play services is not installed on the device, the user will be prompted to install\n                 * it inside the SupportMapFragment. This method will only be triggered once the user has\n                 * installed Google Play services and returned to the app.\n                 */\n                @Override\n                public void onMapReady( @NonNull GoogleMap googleMap )\n                {\n                    setUpMap( googleMap );\n                }\n            }\n        );\n\n        // return view\n        return view;\n    }\n\n\n    public void setUpMap( @NonNull GoogleMap googleMap )\n    {\n        // initialize map variables\n        mMap = googleMap;\n        //mMap.setMapType( GoogleMap.MAP_TYPE_NONE );\n\n        boolean testingOfflineTileProvider = true;\n\n        mMap.setMinZoomPreference(MIN_ZOOM);\n        mMap.setMaxZoomPreference(MAX_ZOOM);\n\n        // create the standard options to be used by all markers\n        MarkerOptions stdMarkerOptions = new MarkerOptions()\n                .icon( BitmapDescriptorFactory.defaultMarker( BitmapDescriptorFactory.HUE_GREEN ) );\n\n        // - - - - - Map tile creation - - - - -\n        TileProvider tileProvider;\n        if( !testingOfflineTileProvider )\n        {\n            tileProvider = new UrlTileProvider( TILE_WIDTH, TILE_HEIGHT )\n            {\n                @Override\n                public URL getTileUrl( int x, int y, int zoom )\n                {\n                    if( !checkTileExists( x, y, zoom ) )\n                    {\n                        return null;\n                    }\n\n                    // Modify the y tile coordinate to convert from TMS to XYZ tiles.\n                    // This is necessary because Google Maps uses XYZ standard tiles\n                    // but stored data tiles are of the TMS standard.\n                    y = ( 1 &lt;&lt; zoom ) - y - 1;\n\n                    // Define the URL pattern for the tile images\n                    String myUrlStr = String.format(&quot;https://exampleDomain.com/mapData/%d/%d/%d.png&quot;, zoom, x, y);\n\n                    try\n                    {\n                        return new URL( myUrlStr );\n                    }\n                    catch(MalformedURLException e)\n                    {\n                        throw new AssertionError(e);\n                    }\n                }\n            };\n        }\n        else\n        {\n            tileProvider = new OfflineTileProvider();\n        }\n\n        //TileOverlay tileOverlay = // not needed unless need access to a TileOverlay object\n        mMap.addTileOverlay( new TileOverlayOptions()\n                .tileProvider( tileProvider ) );\n        // - - - - - End of tile creation - - - - -\n\n        // Add a marker in Libreville\n        LatLng libreville = new LatLng( 0.4162, 9.4673 );\n        mMap.addMarker( stdMarkerOptions.position(libreville).title(&quot;Marker in Libreville&quot;) );\n\n        // Move camera to Libreville marker\n        CameraUpdate upd = CameraUpdateFactory.newLatLngZoom( libreville, 6 );\n        mMap.moveCamera( upd );\n    }\n\n\n    // Check that the tile server supports the requested x, y and zoom.\n    private boolean checkTileExists(int x, int y, int zoom)\n    {\n        return ( zoom &gt;= MIN_ZOOM &amp;&amp; zoom &lt;= MAX_ZOOM );\n    }\n\n\n    /**\n     * provides tiles to the map when in offline mode, downloads them\n     */\n    private class OfflineTileProvider implements TileProvider\n    {\n        private static final String TILES_DIR = &quot;data_directory/&quot;;\n\n        private static final int BUFFER_SIZE_FILE = 16384;\n        private static final int BUFFER_SIZE_NETWORK = 8192;\n\n        private ConnectivityManager connectivityManager;\n\n        @Override\n        public Tile getTile( int x, int y, int zoom )\n        {\n            if( !checkTileExists( x, y, zoom ) )\n            {\n                return NO_TILE;\n            }\n\n            // Modify the y tile coordinate to convert from TMS to XYZ tiles.\n            // Used only for exampleDomain.com !!!\n            y = ( 1 &lt;&lt; zoom ) - y - 1;\n\n            // Define the URL pattern for the tile images\n            String myUrlStr = String.format(&quot;https://exampleDomain.com/mapData/%d/%d/%d.png&quot;, zoom, x, y);\n            String testUrlStr = String.format(&quot;https://tile.openstreetmap.org/%d/%d/%d.png&quot;, zoom, x, y);\n\n            Log.d( TAG, &quot;getTile( &quot; + x + &quot;, &quot; + y + &quot;, &quot; + zoom + &quot; )&quot; );\n            try\n            {\n                byte[] data;\n\n                File file = new File(TILES_DIR + zoom + &quot;/&quot; + x + &quot;/&quot; + y + &quot;.png&quot;);\n\n                if( file.exists() )\n                {\n                    Log.w(TAG, &quot;Tile file found!&quot;);\n                    data = readTile( new FileInputStream(file), BUFFER_SIZE_FILE );\n                }\n                else\n                {\n                    if( connectivityManager == null )\n                    {\n                        connectivityManager = (ConnectivityManager) requireActivity()\n                                .getSystemService( Context.CONNECTIVITY_SERVICE );\n                    }\n                    NetworkInfo activeNetworkInfo = connectivityManager.getActiveNetworkInfo();\n                    if( activeNetworkInfo == null || !activeNetworkInfo.isConnected() )\n                    {\n                        Log.w(TAG, &quot;No network&quot;);\n                        return NO_TILE;\n                    }\n\n                    Log.d( TAG, &quot;Downloading tile&quot; );\n                    data = readTile( new URL( myUrlStr ).openStream(),\n                            BUFFER_SIZE_NETWORK );\n\n                    try ( OutputStream out = new BufferedOutputStream( new FileOutputStream(file) ) )\n                    {\n                        Log.w(TAG, &quot;Writing tile data to file&quot;);\n                        out.write(data);\n                    }\n                }\n\n                return new Tile( TILE_WIDTH, TILE_HEIGHT, data );\n            }\n            catch ( Exception ex )\n            {\n                Log.e(TAG, &quot;Error loading tile&quot;, ex);\n                return NO_TILE;\n            }\n        }\n\n\n        private byte[] readTile( InputStream in, int bufferSize ) throws IOException\n        {\n            ByteArrayOutputStream buffer = new ByteArrayOutputStream();\n            try\n            {\n                int i;\n                byte[] data = new byte[bufferSize];\n\n                while ( ( i = in.read( data, 0, bufferSize ) ) != -1 )\n                {\n                    buffer.write(data, 0, i);\n                }\n                buffer.flush();\n\n                return buffer.toByteArray();\n            }\n            finally\n            {\n                in.close();\n                buffer.close();\n            }\n        }\n\n    // End of OfflineTileProvider class\n    }\n\n// End of BaseMap fragment class\n}\n\n\n</code></pre>\n"},{"tags":["java","hystrix","retry-logic"],"answers":[{"tags":[],"owner":{"account_id":3133300,"reputation":7957,"user_id":2650436,"accept_rate":80,"display_name":"meistermeier"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1508500823,"creation_date":1508500823,"answer_id":46848632,"question_id":46847930,"body_markdown":"Hystrix itself does not care what kind of command gets wrapped by it and it does not support the idea of retries. \r\nExample behind the idea: If your command (that wraps a REST request) is parametrised it could be that some resource endpoints should be retried while others not. It won&#39;t be nice to have either two commands that do more or less the same nor a technical parameter to activate a retry.\r\nAdditionally this will add some extra complexity to the project. \r\n\r\n\r\nTo get around this problem and stick with Hystrix you might want to take a look into [SpringRetry][1] if you are working on a Spring application.\r\n\r\nAnother possible solution is [resilience4j][2] which could be seen as a combination of Hystrix and SpringRetry in this context.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-retry\r\n  [2]: https://github.com/resilience4j/resilience4j","title":"How to retry with hystrix","body":"<p>Hystrix itself does not care what kind of command gets wrapped by it and it does not support the idea of retries. \nExample behind the idea: If your command (that wraps a REST request) is parametrised it could be that some resource endpoints should be retried while others not. It won't be nice to have either two commands that do more or less the same nor a technical parameter to activate a retry.\nAdditionally this will add some extra complexity to the project. </p>\n\n<p>To get around this problem and stick with Hystrix you might want to take a look into <a href=\"https://github.com/spring-projects/spring-retry\" rel=\"noreferrer\">SpringRetry</a> if you are working on a Spring application.</p>\n\n<p>Another possible solution is <a href=\"https://github.com/resilience4j/resilience4j\" rel=\"noreferrer\">resilience4j</a> which could be seen as a combination of Hystrix and SpringRetry in this context.</p>\n"},{"tags":[],"owner":{"account_id":22069522,"reputation":1,"user_id":16330763,"display_name":"formerly1"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1624873775,"creation_date":1624873775,"answer_id":68161193,"question_id":46847930,"body_markdown":"If you use **feign** for API calls, **it supports retrying**. You can only execute other logic in the fallback method, and leave the retrying logic to feign.\r\n\r\nYou can refer to this link: https://medium.com/swlh/how-to-customize-feigns-retry-mechanism-b472202be331","title":"How to retry with hystrix","body":"<p>If you use <strong>feign</strong> for API calls, <strong>it supports retrying</strong>. You can only execute other logic in the fallback method, and leave the retrying logic to feign.</p>\n<p>You can refer to this link: <a href=\"https://medium.com/swlh/how-to-customize-feigns-retry-mechanism-b472202be331\" rel=\"nofollow noreferrer\">https://medium.com/swlh/how-to-customize-feigns-retry-mechanism-b472202be331</a></p>\n"}],"owner":{"account_id":224930,"reputation":2972,"user_id":485107,"accept_rate":85,"display_name":"evgeniy44"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19809,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":46848632,"answer_count":2,"score":16,"last_activity_date":1642798983,"creation_date":1508497935,"question_id":46847930,"body_markdown":"I have a hystrix command that encapsulates a REST call. In case of failure(e.g. timeout), I want to make a single retry and return an appropriate error if it still fails. \r\n\r\nAs I can see, Hystrix doesn&#39;t support retries. The only way to do it with Hystrix is to put the main logic into getFallback() method. But it doesn&#39;t look to be correct.\r\n\r\nSo, what is a proper way to implement timeout with hystrix?","title":"How to retry with hystrix","body":"<p>I have a hystrix command that encapsulates a REST call. In case of failure(e.g. timeout), I want to make a single retry and return an appropriate error if it still fails.</p>\n<p>As I can see, Hystrix doesn't support retries. The only way to do it with Hystrix is to put the main logic into getFallback() method. But it doesn't look to be correct.</p>\n<p>So, what is a proper way to implement timeout with hystrix?</p>\n"},{"tags":["java","android","sqlite","android-studio","syntax-error"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642798785,"creation_date":1642798785,"answer_id":70807584,"question_id":70794316,"body_markdown":"Variables newName and newNumber do not exist.\r\n\r\nI believe that you want:-\r\n\r\n            if(etName.length()!=0 &amp;&amp; etPhonenumber.length()!=0){\r\n                AddData(etName.getText().toString(),etPhonenumber.getText().toString());\r\n            }","title":"can&#39;t take string data from dialogfragment to sql database due to unresolved string","body":"<p>Variables newName and newNumber do not exist.</p>\n<p>I believe that you want:-</p>\n<pre><code>        if(etName.length()!=0 &amp;&amp; etPhonenumber.length()!=0){\n            AddData(etName.getText().toString(),etPhonenumber.getText().toString());\n        }\n</code></pre>\n"}],"owner":{"account_id":13406693,"reputation":55,"user_id":12844895,"display_name":"udbhav shrivastava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642798785,"creation_date":1642718665,"question_id":70794316,"body_markdown":"I want to have a dialogfragment take the contact name and number from the user and save it in an sqLite database that I can use to show as a cardview in the main activity.\r\nI tried following [this][1] tutorial on how to have multiple column entries and add them to your database. \r\n\r\nThis is the code for the addcontact dialogfragment\r\n\r\n    package com.example.rakshakmk1;\r\n\r\n    import android.app.Dialog;\r\n    import android.content.DialogInterface;\r\n    import android.graphics.Color;\r\n    import android.graphics.drawable.ColorDrawable;\r\n    import android.os.Bundle;\r\n    import android.util.DisplayMetrics;\r\n    import android.util.Log;\r\n    import android.util.TypedValue;\r\n    import android.view.Gravity;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.view.Window;\r\n    import android.view.WindowManager;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.Nullable;\r\n    import androidx.appcompat.app.AlertDialog;\r\n    import androidx.fragment.app.DialogFragment;\r\n    \r\n    public class Dialog_AddContact extends DialogFragment  {\r\n    DatabaseHelper myDB;\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n\r\n        // safety check\r\n        if (getDialog() == null) {\r\n            return;\r\n        }\r\n\r\n        // set the animations to use on showing and hiding the dialog\r\n        getDialog().getWindow().getAttributes().windowAnimations = R.style.DialogAnimation;\r\n        // alternative way of doing it\r\n        //getDialog().getWindow().getAttributes().\r\n        //    windowAnimations = R.style.dialog_animation_fade;\r\n\r\n        // ... other stuff you want to do in your onStart() method\r\n    }\r\n\r\n\r\n    private static final String TAG = &quot;Dialog_AddContact&quot;;\r\n    public Dialog_AddContact() {\r\n    }\r\n    public void AddData(String newName,String newNumber){\r\n        boolean insertData = myDB.addData(newName,newNumber);\r\n        if(insertData==true){\r\n            Toast.makeText(getContext(),&quot;Contact Added Successfully&quot;,Toast.LENGTH_SHORT).show();\r\n        }\r\n        else{\r\n            Toast.makeText(getContext(),&quot;Contact not Added&quot;,Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n    public Dialog_AddContact(View source) {\r\n        this.source = source;\r\n    }\r\n\r\n    //widgets\r\n    private EditText etName,etPhonenumber ;\r\n    private Button btnEnterContact, btnCancel1;\r\n    private View source;\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.dialog_addcontact,container,false);\r\n\r\n        Window window = getDialog().getWindow();\r\n\r\n        // set &quot;origin&quot; to top left corner, so to speak\r\n        window.setGravity(Gravity.TOP|Gravity.LEFT);\r\n\r\n        // after that, setting values for x and y works &quot;naturally&quot;\r\n        WindowManager.LayoutParams params = window.getAttributes();\r\n        params.x = 50;\r\n        params.y = 1000;\r\n        window.setAttributes(params);\r\n        Log.d(TAG, String.format(&quot;Positioning DialogFragment to: x %d; y %d&quot;, params.x, params.y));\r\n\r\n        //for rounded corners\r\n        if (getDialog() != null &amp;&amp; getDialog().getWindow() != null) {\r\n            getDialog().getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\r\n            getDialog().getWindow().requestFeature(Window.FEATURE_NO_TITLE);\r\n        }\r\n        btnCancel1 = view.findViewById(R.id.btnCancel1);\r\n        btnEnterContact = view.findViewById(R.id.btnEnterContact);\r\n        etName =   view.findViewById(R.id.etName);\r\n        etPhonenumber = view.findViewById(R.id.etNumber);\r\n\r\n        btnCancel1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Log.d(TAG, &quot;onClick: Closing Dialog&quot;);\r\n                getDialog().dismiss();\r\n            }\r\n        });\r\n        btnEnterContact.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Log.d(TAG, &quot;onClick: Entering Contact&quot;);\r\n                if(etName.length() == 0)\r\n                {\r\n                    getDialog().dismiss();\r\n                    Toast.makeText(getContext(),&quot;Invalid Name&quot;,Toast.LENGTH_SHORT).show();\r\n                }\r\n                else\r\n                {\r\n\r\n                    Toast.makeText(getContext(),&quot;Contact Added&quot;,Toast.LENGTH_SHORT).show();\r\n                    String name = etName.getText().toString();\r\n                    getDialog().dismiss();\r\n                }\r\n                if(etPhonenumber.length() == 0)\r\n                {\r\n                    getDialog().dismiss();\r\n                    Toast.makeText(getContext(),&quot;Invalid Number&quot;,Toast.LENGTH_SHORT).show();\r\n                }\r\n                else\r\n                {\r\n\r\n                    Toast.makeText(getContext(),&quot;Contact Added&quot;,Toast.LENGTH_SHORT).show();\r\n                    String number = etPhonenumber.getText().toString();\r\n                    getDialog().dismiss();\r\n                }\r\n                if(etName.length()!=0 &amp;&amp; etPhonenumber.length()!=0){\r\n                    AddData(newName,newNumber);\r\n                }\r\n                else {\r\n                    Toast.makeText(getContext(),&quot;Invalid Entries&quot;,Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n            }\r\n        });\r\n        return view;\r\n    }\r\n    }\r\n\r\nand this is the code for the sqLite databasehelper\r\n\r\n    package com.example.rakshakmk1;\r\n\r\n    import android.content.ContentValues;\r\n    import android.content.Context;\r\n    import android.database.Cursor;\r\n    import android.database.sqlite.SQLiteDatabase;\r\n    import android.database.sqlite.SQLiteOpenHelper;\r\n    import android.util.Log;\r\n\r\n    import androidx.annotation.Nullable;\r\n\r\n    import static android.content.ContentValues.TAG;\r\n\r\n    public class DatabaseHelper extends SQLiteOpenHelper {\r\n     public static final String DATABASE_NAME = &quot;contactlist.db&quot;;\r\n     public static final String TABLE_NAME = &quot;contactlist_data&quot;;\r\n     public static final String COL1 = &quot;ID&quot;;\r\n     public static final String COL2 = &quot;NAME&quot;;\r\n     public static final String COL3 = &quot;NUMBER&quot;;\r\n\r\n\r\n\r\n    public DatabaseHelper(@Nullable Context context){super(context,DATABASE_NAME,null,1);}\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase db) {\r\n        String createTable = &quot;CREATE TABLE &quot; + TABLE_NAME + &quot; (ID INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\r\n                &quot;NAME TEXT,NUMBER TEXT)&quot;;\r\n        db.execSQL(createTable);\r\n    }\r\n\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n        Log.w(TAG,&quot;Upgrading database from version&quot;+oldVersion+&quot;to&quot;+ newVersion + &quot;,which will destroy all old data&quot;);\r\n        //db.execSQL(&quot;DROP_IF_TABLE_EXISTS&quot; + TABLE_NAME);\r\n        onCreate(db);\r\n    }\r\n\r\n    public boolean addData(String newName,String newNumber) {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        ContentValues contentValues = new ContentValues();\r\n        contentValues.put(COL2, newName);\r\n        contentValues.put(COL3,newNumber);\r\n\r\n        long result = db.insert(TABLE_NAME, null, contentValues);\r\n\r\n        //if date as inserted incorrectly it will return -1\r\n        if (result == -1) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n    public Cursor getListContents(){\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        Cursor data = db.rawQuery(&quot;SELECT * FROM &quot; + TABLE_NAME, null);\r\n        return data;\r\n    }\r\n    }\r\n \r\nCurrently I get this error \r\n[![string error][2]][2]\r\neven though I have defined it in the databasehelper\r\n[![defined in the database helper][3]][3]\r\n\r\nI can&#39;t seem to figure out the reason why I can&#39;t get those string values from the fragment while it seems to work perfectly in the tutorial video.\r\n\r\nAny and all help will be really appreciated\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=8K-6gdTlGEA&amp;t=232s\r\n  [2]: https://i.stack.imgur.com/DQo6z.png\r\n  [3]: https://i.stack.imgur.com/o9SrD.png","title":"can&#39;t take string data from dialogfragment to sql database due to unresolved string","body":"<p>I want to have a dialogfragment take the contact name and number from the user and save it in an sqLite database that I can use to show as a cardview in the main activity.\nI tried following <a href=\"https://www.youtube.com/watch?v=8K-6gdTlGEA&amp;t=232s\" rel=\"nofollow noreferrer\">this</a> tutorial on how to have multiple column entries and add them to your database.</p>\n<p>This is the code for the addcontact dialogfragment</p>\n<pre><code>package com.example.rakshakmk1;\n\nimport android.app.Dialog;\nimport android.content.DialogInterface;\nimport android.graphics.Color;\nimport android.graphics.drawable.ColorDrawable;\nimport android.os.Bundle;\nimport android.util.DisplayMetrics;\nimport android.util.Log;\nimport android.util.TypedValue;\nimport android.view.Gravity;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.view.Window;\nimport android.view.WindowManager;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.fragment.app.DialogFragment;\n\npublic class Dialog_AddContact extends DialogFragment  {\nDatabaseHelper myDB;\n\n@Override\npublic void onStart() {\n    super.onStart();\n\n    // safety check\n    if (getDialog() == null) {\n        return;\n    }\n\n    // set the animations to use on showing and hiding the dialog\n    getDialog().getWindow().getAttributes().windowAnimations = R.style.DialogAnimation;\n    // alternative way of doing it\n    //getDialog().getWindow().getAttributes().\n    //    windowAnimations = R.style.dialog_animation_fade;\n\n    // ... other stuff you want to do in your onStart() method\n}\n\n\nprivate static final String TAG = &quot;Dialog_AddContact&quot;;\npublic Dialog_AddContact() {\n}\npublic void AddData(String newName,String newNumber){\n    boolean insertData = myDB.addData(newName,newNumber);\n    if(insertData==true){\n        Toast.makeText(getContext(),&quot;Contact Added Successfully&quot;,Toast.LENGTH_SHORT).show();\n    }\n    else{\n        Toast.makeText(getContext(),&quot;Contact not Added&quot;,Toast.LENGTH_SHORT).show();\n    }\n}\n\npublic Dialog_AddContact(View source) {\n    this.source = source;\n}\n\n//widgets\nprivate EditText etName,etPhonenumber ;\nprivate Button btnEnterContact, btnCancel1;\nprivate View source;\n\n@Nullable\n@Override\npublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n    View view = inflater.inflate(R.layout.dialog_addcontact,container,false);\n\n    Window window = getDialog().getWindow();\n\n    // set &quot;origin&quot; to top left corner, so to speak\n    window.setGravity(Gravity.TOP|Gravity.LEFT);\n\n    // after that, setting values for x and y works &quot;naturally&quot;\n    WindowManager.LayoutParams params = window.getAttributes();\n    params.x = 50;\n    params.y = 1000;\n    window.setAttributes(params);\n    Log.d(TAG, String.format(&quot;Positioning DialogFragment to: x %d; y %d&quot;, params.x, params.y));\n\n    //for rounded corners\n    if (getDialog() != null &amp;&amp; getDialog().getWindow() != null) {\n        getDialog().getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\n        getDialog().getWindow().requestFeature(Window.FEATURE_NO_TITLE);\n    }\n    btnCancel1 = view.findViewById(R.id.btnCancel1);\n    btnEnterContact = view.findViewById(R.id.btnEnterContact);\n    etName =   view.findViewById(R.id.etName);\n    etPhonenumber = view.findViewById(R.id.etNumber);\n\n    btnCancel1.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Log.d(TAG, &quot;onClick: Closing Dialog&quot;);\n            getDialog().dismiss();\n        }\n    });\n    btnEnterContact.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Log.d(TAG, &quot;onClick: Entering Contact&quot;);\n            if(etName.length() == 0)\n            {\n                getDialog().dismiss();\n                Toast.makeText(getContext(),&quot;Invalid Name&quot;,Toast.LENGTH_SHORT).show();\n            }\n            else\n            {\n\n                Toast.makeText(getContext(),&quot;Contact Added&quot;,Toast.LENGTH_SHORT).show();\n                String name = etName.getText().toString();\n                getDialog().dismiss();\n            }\n            if(etPhonenumber.length() == 0)\n            {\n                getDialog().dismiss();\n                Toast.makeText(getContext(),&quot;Invalid Number&quot;,Toast.LENGTH_SHORT).show();\n            }\n            else\n            {\n\n                Toast.makeText(getContext(),&quot;Contact Added&quot;,Toast.LENGTH_SHORT).show();\n                String number = etPhonenumber.getText().toString();\n                getDialog().dismiss();\n            }\n            if(etName.length()!=0 &amp;&amp; etPhonenumber.length()!=0){\n                AddData(newName,newNumber);\n            }\n            else {\n                Toast.makeText(getContext(),&quot;Invalid Entries&quot;,Toast.LENGTH_SHORT).show();\n            }\n\n        }\n    });\n    return view;\n}\n}\n</code></pre>\n<p>and this is the code for the sqLite databasehelper</p>\n<pre><code>package com.example.rakshakmk1;\n\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.util.Log;\n\nimport androidx.annotation.Nullable;\n\nimport static android.content.ContentValues.TAG;\n\npublic class DatabaseHelper extends SQLiteOpenHelper {\n public static final String DATABASE_NAME = &quot;contactlist.db&quot;;\n public static final String TABLE_NAME = &quot;contactlist_data&quot;;\n public static final String COL1 = &quot;ID&quot;;\n public static final String COL2 = &quot;NAME&quot;;\n public static final String COL3 = &quot;NUMBER&quot;;\n\n\n\npublic DatabaseHelper(@Nullable Context context){super(context,DATABASE_NAME,null,1);}\n\n@Override\npublic void onCreate(SQLiteDatabase db) {\n    String createTable = &quot;CREATE TABLE &quot; + TABLE_NAME + &quot; (ID INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\n            &quot;NAME TEXT,NUMBER TEXT)&quot;;\n    db.execSQL(createTable);\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    Log.w(TAG,&quot;Upgrading database from version&quot;+oldVersion+&quot;to&quot;+ newVersion + &quot;,which will destroy all old data&quot;);\n    //db.execSQL(&quot;DROP_IF_TABLE_EXISTS&quot; + TABLE_NAME);\n    onCreate(db);\n}\n\npublic boolean addData(String newName,String newNumber) {\n    SQLiteDatabase db = this.getWritableDatabase();\n    ContentValues contentValues = new ContentValues();\n    contentValues.put(COL2, newName);\n    contentValues.put(COL3,newNumber);\n\n    long result = db.insert(TABLE_NAME, null, contentValues);\n\n    //if date as inserted incorrectly it will return -1\n    if (result == -1) {\n        return false;\n    } else {\n        return true;\n    }\n}\npublic Cursor getListContents(){\n    SQLiteDatabase db = this.getWritableDatabase();\n    Cursor data = db.rawQuery(&quot;SELECT * FROM &quot; + TABLE_NAME, null);\n    return data;\n}\n}\n</code></pre>\n<p>Currently I get this error\n<a href=\"https://i.stack.imgur.com/DQo6z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DQo6z.png\" alt=\"string error\" /></a>\neven though I have defined it in the databasehelper\n<a href=\"https://i.stack.imgur.com/o9SrD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o9SrD.png\" alt=\"defined in the database helper\" /></a></p>\n<p>I can't seem to figure out the reason why I can't get those string values from the fragment while it seems to work perfectly in the tutorial video.</p>\n<p>Any and all help will be really appreciated</p>\n"},{"tags":["java","unit-testing","jakarta-ee","cdi","bean-validation"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":1,"creation_date":1642632633,"post_id":70771502,"comment_id":125126270,"body_markdown":"To test CDI beans, you will find [weld-junit](https://github.com/weld/weld-junit) and [cdi-unit](https://github.com/cdi-unit/cdi-unit) interesting. Together with a mocking framework, like Mockito, you can mock CDI dependencies - I would suggest you mock the repositories. And you *can* test bean validation, as long as you enable the Bean Validation CDI interceptors.","body":"To test CDI beans, you will find <a href=\"https://github.com/weld/weld-junit\" rel=\"nofollow noreferrer\">weld-junit</a> and <a href=\"https://github.com/cdi-unit/cdi-unit\" rel=\"nofollow noreferrer\">cdi-unit</a> interesting. Together with a mocking framework, like Mockito, you can mock CDI dependencies - I would suggest you mock the repositories. And you <i>can</i> test bean validation, as long as you enable the Bean Validation CDI interceptors."},{"owner":{"account_id":13009853,"reputation":395,"user_id":9403279,"display_name":"cidra"},"score":1,"creation_date":1642637226,"post_id":70771502,"comment_id":125127356,"body_markdown":"@NikosParaskevopoulos does cdi-unit support Apache OpenWebBeans? It seems that i can use CDI with OpenEJB&#39;s ApplicationComposer (Which supports JUnit 5, so thumbs up for that).","body":"@NikosParaskevopoulos does cdi-unit support Apache OpenWebBeans? It seems that i can use CDI with OpenEJB&#39;s ApplicationComposer (Which supports JUnit 5, so thumbs up for that)."},{"owner":{"account_id":13009853,"reputation":395,"user_id":9403279,"display_name":"cidra"},"score":0,"creation_date":1642637283,"post_id":70771502,"comment_id":125127365,"body_markdown":"The only problem is that i **can&#39;t** inject mocked repositories inside the validators using the @ Mock annotation. I should maybe try to mess with the ConstraintValidatorFactory and inject the mocks after the creation of the CV, or maybe use the @ Alternative annotation. I&#39;ll try it tomorrow and edit the question accordingly if anything new occurs","body":"The only problem is that i <b>can&#39;t</b> inject mocked repositories inside the validators using the @ Mock annotation. I should maybe try to mess with the ConstraintValidatorFactory and inject the mocks after the creation of the CV, or maybe use the @ Alternative annotation. I&#39;ll try it tomorrow and edit the question accordingly if anything new occurs"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1642666819,"post_id":70771502,"comment_id":125133098,"body_markdown":"I had the impression that cdi-unit supported any CDI implementation, apparently I was wrong. On the other hand, you should be able to test your CDI components in any compliant implementation, so testing in Weld and running in OpenWebBeans is probably safe (but yeah, a bit awkward). The good thing about cdi-unit/weld-junit is that they do not launch a full app server, like Arquillian (or I guess ApplicationComposer), so tests are quite fast. If you decide to go for one of them, I think I have an example of activating Bean Validations that may help.","body":"I had the impression that cdi-unit supported any CDI implementation, apparently I was wrong. On the other hand, you should be able to test your CDI components in any compliant implementation, so testing in Weld and running in OpenWebBeans is probably safe (but yeah, a bit awkward). The good thing about cdi-unit/weld-junit is that they do not launch a full app server, like Arquillian (or I guess ApplicationComposer), so tests are quite fast. If you decide to go for one of them, I think I have an example of activating Bean Validations that may help."},{"owner":{"account_id":13009853,"reputation":395,"user_id":9403279,"display_name":"cidra"},"score":1,"creation_date":1642685086,"post_id":70771502,"comment_id":125140164,"body_markdown":"@NikosParaskevopoulos Ok, i&#39;m definitely gonna try out CDI-Unit. The @ Produces @ Mock annotation really is what i really need (it adds the mocks in cdi context scope).","body":"@NikosParaskevopoulos Ok, i&#39;m definitely gonna try out CDI-Unit. The @ Produces @ Mock annotation really is what i really need (it adds the mocks in cdi context scope)."},{"owner":{"account_id":13009853,"reputation":395,"user_id":9403279,"display_name":"cidra"},"score":0,"creation_date":1642793610,"post_id":70771502,"comment_id":125175316,"body_markdown":"@NikosParaskevopoulos in the end i&#39;ve found a solution that supports OWB (cdimock), thank you for your kind help :)","body":"@NikosParaskevopoulos in the end i&#39;ve found a solution that supports OWB (cdimock), thank you for your kind help :)"}],"answers":[{"tags":[],"owner":{"account_id":13009853,"reputation":395,"user_id":9403279,"display_name":"cidra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642798222,"creation_date":1642793450,"answer_id":70806715,"question_id":70771502,"body_markdown":"In the end I went for [this really cool library (cdimock)][1] that does exactly what i needed: put the mocks in a custom CDI scope so that the same mock instances can be injected in other beans inside the test case. Such thing can also be achievable with [cdi-unit][2] `@Produces @Mock` annotations (Although i haven&#39;t tried it personally since it only supports Weld)  \r\n\r\nThis is my test class&#39; code:  \r\n\r\n    @RunWithApplicationComposer(mode = ExtensionMode.PER_EACH)\r\n    @ExtendWith({MockitoExtension.class, CdiMocking.class})\r\n    @MockitoSettings(strictness = LENIENT)\r\n    @Classes(cdi = true,\r\n             value={PostService.class},\r\n             cdiInterceptors = BValInterceptor.class,\r\n             cdiStereotypes = CdiMock.class)\r\n    public class PostServiceTest {\r\n    \r\n        @Mock SectionRepository sectionRepository;\r\n        @Mock PostRepository postRepository;\r\n        @Mock UserRepository userRepository;\r\n        @Inject PostService service;   \r\n    \r\n        @BeforeEach\r\n        void setUp() {}\r\n    \r\n        @AfterEach\r\n        void tearDown() {}\r\n    \r\n        @Test\r\n        public void noSectionFoundNewPost(){\r\n            String sectionName = &quot;idontexist&quot;;\r\n            when(sectionRepository.getByName(sectionName)).thenReturn(null);\r\n            assertThrows(ConstraintViolationException.class,\r\n                    () -&gt; service.newPost(&quot;title&quot;, &quot;body&quot;, sectionName));\r\n        }\r\n    }\r\n\r\n\r\nIn the code i&#39;m using OpenEJB&#39;s Application Composer but i can easily switch to any embedded CDI container\r\n\r\n  [1]: https://github.com/ArneLimburg/cdimock\r\n  [2]: https://github.com/cdi-unit/cdi-unit","title":"How to unit test methods together with its constraint validators (which some should be mocked out)?","body":"<p>In the end I went for <a href=\"https://github.com/ArneLimburg/cdimock\" rel=\"nofollow noreferrer\">this really cool library (cdimock)</a> that does exactly what i needed: put the mocks in a custom CDI scope so that the same mock instances can be injected in other beans inside the test case. Such thing can also be achievable with <a href=\"https://github.com/cdi-unit/cdi-unit\" rel=\"nofollow noreferrer\">cdi-unit</a> <code>@Produces @Mock</code> annotations (Although i haven't tried it personally since it only supports Weld)</p>\n<p>This is my test class' code:</p>\n<pre><code>@RunWithApplicationComposer(mode = ExtensionMode.PER_EACH)\n@ExtendWith({MockitoExtension.class, CdiMocking.class})\n@MockitoSettings(strictness = LENIENT)\n@Classes(cdi = true,\n         value={PostService.class},\n         cdiInterceptors = BValInterceptor.class,\n         cdiStereotypes = CdiMock.class)\npublic class PostServiceTest {\n\n    @Mock SectionRepository sectionRepository;\n    @Mock PostRepository postRepository;\n    @Mock UserRepository userRepository;\n    @Inject PostService service;   \n\n    @BeforeEach\n    void setUp() {}\n\n    @AfterEach\n    void tearDown() {}\n\n    @Test\n    public void noSectionFoundNewPost(){\n        String sectionName = &quot;idontexist&quot;;\n        when(sectionRepository.getByName(sectionName)).thenReturn(null);\n        assertThrows(ConstraintViolationException.class,\n                () -&gt; service.newPost(&quot;title&quot;, &quot;body&quot;, sectionName));\n    }\n}\n</code></pre>\n<p>In the code i'm using OpenEJB's Application Composer but i can easily switch to any embedded CDI container</p>\n"}],"owner":{"account_id":13009853,"reputation":395,"user_id":9403279,"display_name":"cidra"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70806715,"answer_count":1,"score":0,"last_activity_date":1642798222,"creation_date":1642599056,"question_id":70771502,"body_markdown":"My app has a service layer which is composed by CDI applications scoped beans:  \r\n\r\n    @ApplicationScoped\r\n    @Transactional\r\n    public class PostService {\r\n        @Inject private PostRepository postRepo;\r\n        @Inject private UserRepository userRepo;\r\n        @Inject private SectionRepository sectionRepo;\r\n        @Inject private LoggedInUser loggedInUser;\r\n    \r\n        public PostDto getPost(@PostExists int id){\r\n            Post p = postRepo.findById(id);\r\n            //create post DTO from p\r\n            return post;\r\n        }\r\n    \r\n        public void delete(@PostExists int id){\r\n            postRepo.remove(postRepo.findById(id));\r\n        }\r\n    \r\n        public int newPost(@NotBlank @Max(255) String title,\r\n                           @Max(2000) String body,\r\n                           @SectionExists String sectionName){\r\n            User user = userRepo.getByName(loggedInUser.getUsername());\r\n            Section section = sectionRepo.getByName(sectionName);\r\n    \r\n            Post post = new Post();\r\n            post.setTitle(title);\r\n            post.setContent(body == null || body.isBlank() ? &quot;&quot; : body);\r\n            post.setAuthor(user);\r\n            post.setSection(section);\r\n            post.setType(TEXT);\r\n    \r\n            return postRepo.insert(post).getId();\r\n        }\r\n    \r\n    } \r\n\r\nWhen a method gets called, an interceptor (in my case `BValInterceptor.class` from Apache BVal) checks if the method contract is respected by checking the annotations and validating the parameters accordingly.  \r\n\r\nAs you can see, there are some custom constraints like ``@SectionExists``, ``@PostExists`` that may hit the database:  \r\n\r\n    public class SectionExistsValidator implements ConstraintValidator&lt;SectionExists, String&gt; {\r\n        @Inject SectionRepository sectionRepo;\r\n    \r\n        @Override\r\n        public void initialize(SectionExists constraintAnnotation) {}\r\n    \r\n        @Override\r\n        public boolean isValid(String value, ConstraintValidatorContext context) {\r\n            return (sectionRepo.getByName(value) != null);\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    public class PostExistsValidator implements ConstraintValidator&lt;PostExists, Integer&gt; {\r\n        @Inject PostRepository postRepo;\r\n    \r\n        @Override\r\n        public void initialize(PostExists constraintAnnotation) {}\r\n    \r\n        @Override\r\n        public boolean isValid(Integer value, ConstraintValidatorContext context) {\r\n            return (postRepo.findById(value) != null);\r\n        }\r\n    }\r\n\r\n\r\nWhat I&#39;d like to do is to unit test my business methods (``getpost``, ``delete``, ``newPost``) **together** with its validators. The validators that may hit the database should be mocked (or their dependency should be mocked).  \r\n\r\nHow can I achieve this? How could I make injections (and mock injections) work for validators in unit tests?\r\n\r\nHere what I&#39;m using:  \r\n\r\n- TomEE 8.0.8\r\n- Apache BVal for Bean Validation JSR 303/JSR380 (included in TomEE)\r\n- Apache OpenWebBeans for CDI (included in TomEE)\r\n- JUnit 5\r\n- Mockito\r\n\r\nI can use [OpenEJB&#39;s ApplicationComposer][1] or Arquillian to run an embedded container. However, I&#39;ve never used Arquillian.  \r\n\r\n\r\n\r\n  [1]: https://tomee.apache.org/examples-trunk/application-composer/","title":"How to unit test methods together with its constraint validators (which some should be mocked out)?","body":"<p>My app has a service layer which is composed by CDI applications scoped beans:</p>\n<pre><code>@ApplicationScoped\n@Transactional\npublic class PostService {\n    @Inject private PostRepository postRepo;\n    @Inject private UserRepository userRepo;\n    @Inject private SectionRepository sectionRepo;\n    @Inject private LoggedInUser loggedInUser;\n\n    public PostDto getPost(@PostExists int id){\n        Post p = postRepo.findById(id);\n        //create post DTO from p\n        return post;\n    }\n\n    public void delete(@PostExists int id){\n        postRepo.remove(postRepo.findById(id));\n    }\n\n    public int newPost(@NotBlank @Max(255) String title,\n                       @Max(2000) String body,\n                       @SectionExists String sectionName){\n        User user = userRepo.getByName(loggedInUser.getUsername());\n        Section section = sectionRepo.getByName(sectionName);\n\n        Post post = new Post();\n        post.setTitle(title);\n        post.setContent(body == null || body.isBlank() ? &quot;&quot; : body);\n        post.setAuthor(user);\n        post.setSection(section);\n        post.setType(TEXT);\n\n        return postRepo.insert(post).getId();\n    }\n\n} \n</code></pre>\n<p>When a method gets called, an interceptor (in my case <code>BValInterceptor.class</code> from Apache BVal) checks if the method contract is respected by checking the annotations and validating the parameters accordingly.</p>\n<p>As you can see, there are some custom constraints like <code>@SectionExists</code>, <code>@PostExists</code> that may hit the database:</p>\n<pre><code>public class SectionExistsValidator implements ConstraintValidator&lt;SectionExists, String&gt; {\n    @Inject SectionRepository sectionRepo;\n\n    @Override\n    public void initialize(SectionExists constraintAnnotation) {}\n\n    @Override\n    public boolean isValid(String value, ConstraintValidatorContext context) {\n        return (sectionRepo.getByName(value) != null);\n    }\n}\n\n\n\npublic class PostExistsValidator implements ConstraintValidator&lt;PostExists, Integer&gt; {\n    @Inject PostRepository postRepo;\n\n    @Override\n    public void initialize(PostExists constraintAnnotation) {}\n\n    @Override\n    public boolean isValid(Integer value, ConstraintValidatorContext context) {\n        return (postRepo.findById(value) != null);\n    }\n}\n</code></pre>\n<p>What I'd like to do is to unit test my business methods (<code>getpost</code>, <code>delete</code>, <code>newPost</code>) <strong>together</strong> with its validators. The validators that may hit the database should be mocked (or their dependency should be mocked).</p>\n<p>How can I achieve this? How could I make injections (and mock injections) work for validators in unit tests?</p>\n<p>Here what I'm using:</p>\n<ul>\n<li>TomEE 8.0.8</li>\n<li>Apache BVal for Bean Validation JSR 303/JSR380 (included in TomEE)</li>\n<li>Apache OpenWebBeans for CDI (included in TomEE)</li>\n<li>JUnit 5</li>\n<li>Mockito</li>\n</ul>\n<p>I can use <a href=\"https://tomee.apache.org/examples-trunk/application-composer/\" rel=\"nofollow noreferrer\">OpenEJB's ApplicationComposer</a> or Arquillian to run an embedded container. However, I've never used Arquillian.</p>\n"},{"tags":["java","spring","spring-boot","junit","spring-data-jpa"],"comments":[{"owner":{"account_id":1251163,"reputation":1546,"user_id":1211547,"accept_rate":50,"display_name":"indybee"},"score":0,"creation_date":1640014109,"post_id":70424050,"comment_id":124488250,"body_markdown":"did you try without @WebAppConfiguration also?","body":"did you try without @WebAppConfiguration also?"},{"owner":{"account_id":7341842,"reputation":176,"user_id":5591035,"display_name":"Karine"},"score":0,"creation_date":1640018178,"post_id":70424050,"comment_id":124489915,"body_markdown":"yeah of course!","body":"yeah of course!"},{"owner":{"account_id":1251163,"reputation":1546,"user_id":1211547,"accept_rate":50,"display_name":"indybee"},"score":0,"creation_date":1640021983,"post_id":70424050,"comment_id":124491352,"body_markdown":"what was the error when running without @WebAppConfiguration? it should have been something other than &quot;Error creating bean with name &#39;analyticsController&#39; defined&quot;","body":"what was the error when running without @WebAppConfiguration? it should have been something other than &quot;Error creating bean with name &#39;analyticsController&#39; defined&quot;"},{"owner":{"account_id":7341842,"reputation":176,"user_id":5591035,"display_name":"Karine"},"score":0,"creation_date":1640023582,"post_id":70424050,"comment_id":124491922,"body_markdown":"The same error as with it.","body":"The same error as with it."},{"owner":{"account_id":1251163,"reputation":1546,"user_id":1211547,"accept_rate":50,"display_name":"indybee"},"score":0,"creation_date":1640024477,"post_id":70424050,"comment_id":124492239,"body_markdown":"idk.. error at the bottom of the stack trace seems to be related to spring-boot-starter-webflux, try removing that jar and see if something different?","body":"idk.. error at the bottom of the stack trace seems to be related to spring-boot-starter-webflux, try removing that jar and see if something different?"},{"owner":{"account_id":7341842,"reputation":176,"user_id":5591035,"display_name":"Karine"},"score":0,"creation_date":1640025018,"post_id":70424050,"comment_id":124492430,"body_markdown":"you mean I should do mvn clean ?","body":"you mean I should do mvn clean ?"},{"owner":{"account_id":1251163,"reputation":1546,"user_id":1211547,"accept_rate":50,"display_name":"indybee"},"score":0,"creation_date":1640025960,"post_id":70424050,"comment_id":124492743,"body_markdown":"that too (mvn clean)\ni thought it was strange to have both spring-boot-starter-web and spring-boot-starter-webflux in the same project\nso wondering if it might be the presence of spring-boot-starter-webflux that&#39;s giving errors and wondering if that jar could be excluded?\n\n@DataJpaTest should run without loading the web layer","body":"that too (mvn clean) i thought it was strange to have both spring-boot-starter-web and spring-boot-starter-webflux in the same project so wondering if it might be the presence of spring-boot-starter-webflux that&#39;s giving errors and wondering if that jar could be excluded?  @DataJpaTest should run without loading the web layer"},{"owner":{"account_id":7341842,"reputation":176,"user_id":5591035,"display_name":"Karine"},"score":0,"creation_date":1640031125,"post_id":70424050,"comment_id":124494308,"body_markdown":"I got the same error without the webflux too :/","body":"I got the same error without the webflux too :/"},{"owner":{"account_id":1251163,"reputation":1546,"user_id":1211547,"accept_rate":50,"display_name":"indybee"},"score":0,"creation_date":1640358239,"post_id":70424050,"comment_id":124577152,"body_markdown":"i tried your code with only the following changes, and the @DataJpaTest runs successfully\n\n(1) Removed the `com.moneylion` references from pom.xml since I don&#39;t have those, and used spring-boot-starter-parent 2.5.2 as the parent\n\n(2) Removed the @WebAppConfiguration annotation from OffersRepositoryTest test \n(@DataJpaTest already includes @ExtendWith(SpringExtension.class) )\n\n(3) In the ExternalConfig, I commented out AWSSecretsManagerService reference since I don&#39;t have that class","body":"i tried your code with only the following changes, and the @DataJpaTest runs successfully  (1) Removed the <code>com.moneylion</code> references from pom.xml since I don&#39;t have those, and used spring-boot-starter-parent 2.5.2 as the parent  (2) Removed the @WebAppConfiguration annotation from OffersRepositoryTest test  (@DataJpaTest already includes @ExtendWith(SpringExtension.class) )  (3) In the ExternalConfig, I commented out AWSSecretsManagerService reference since I don&#39;t have that class"},{"owner":{"account_id":1251163,"reputation":1546,"user_id":1211547,"accept_rate":50,"display_name":"indybee"},"score":0,"creation_date":1640362268,"post_id":70424050,"comment_id":124578075,"body_markdown":"Can you show your OffersRepository class and any related [custom repository methods](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations) also? If I explicitly import `ExternalConfig` into `OffersRepositoryTest` with `@Import(ExternalConfig.class)` on top of the OffersRepositoryTest class, I get the same error:`No qualifying bean of type &#39;org.springframework.web.reactive.function.client.WebClient$Builder&#39; available: expected at least 1 bean`\nDo you have a dependency on the `ExternalConfig`/`WebClient.Builder` from OffersRepository somehow?","body":"Can you show your OffersRepository class and any related <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations\" rel=\"nofollow noreferrer\">custom repository methods</a> also? If I explicitly import <code>ExternalConfig</code> into <code>OffersRepositoryTest</code> with <code>@Import(ExternalConfig.class)</code> on top of the OffersRepositoryTest class, I get the same error:<code>No qualifying bean of type &#39;org.springframework.web.reactive.function.client.WebClient$&zwnj;&#8203;Builder&#39; available: expected at least 1 bean</code> Do you have a dependency on the <code>ExternalConfig</code>/<code>WebClient.Builder</code> from OffersRepository somehow?"}],"answers":[{"tags":[],"owner":{"account_id":12173205,"reputation":101,"user_id":8887170,"display_name":"Aleksander Ndoci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640078227,"creation_date":1640078227,"answer_id":70433043,"question_id":70424050,"body_markdown":"Are you using Spring WebClient to do REST backend calls? If that&#39;s the case, then something is wrong with your WebClient bean configuration for the analyticsService for the test profile.\r\n\r\nIf your&#39;re not using Spring Webflux, just remove it from the dependencies.","title":"Failed to load ApplicationContext for a java based config test","body":"<p>Are you using Spring WebClient to do REST backend calls? If that's the case, then something is wrong with your WebClient bean configuration for the analyticsService for the test profile.</p>\n<p>If your're not using Spring Webflux, just remove it from the dependencies.</p>\n"},{"tags":[],"owner":{"account_id":12173205,"reputation":101,"user_id":8887170,"display_name":"Aleksander Ndoci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640186088,"creation_date":1640186088,"answer_id":70451223,"question_id":70424050,"body_markdown":"You are injecting a WebClient.builder in the EvenClient bean initialization. Where is that bean(WebClient.builder) coming from? Why don&#39;t you just do something like \r\n\r\n    @Configuration\r\n    public class ExternalConfig {\r\n        private static final String SECRET_ID_EVEN_TOKEN = &quot;evenToken&quot;;\r\n    \r\n        @Bean\r\n        public EvenClient webClient( AWSSecretsManagerService awsSecretsManagerService,\r\n                             @Value(&quot;${even.url}&quot;) String url) {\r\n    \r\n            String token = awsSecretsManagerService.getSecretValue().get(SECRET_ID_EVEN_TOKEN);\r\n    \r\n            WebClient webClient = WebClient.builder()\r\n                    .exchangeStrategies(ExchangeStrategies.builder()\r\n                            .codecs(configurer -&gt; configurer\r\n                                    .defaultCodecs()\r\n                                    .maxInMemorySize(100 * 1024 * 1024) // default is 256 KB (262144 B), changed it to 100MB\r\n                            ).build())\r\n                    .baseUrl(url)\r\n                    .defaultHeaders(h -&gt; h.setBearerAuth(token))\r\n                    .build();\r\n            return new EvenClient(webClient);\r\n        }\r\n    }","title":"Failed to load ApplicationContext for a java based config test","body":"<p>You are injecting a WebClient.builder in the EvenClient bean initialization. Where is that bean(WebClient.builder) coming from? Why don't you just do something like</p>\n<pre><code>@Configuration\npublic class ExternalConfig {\n    private static final String SECRET_ID_EVEN_TOKEN = &quot;evenToken&quot;;\n\n    @Bean\n    public EvenClient webClient( AWSSecretsManagerService awsSecretsManagerService,\n                         @Value(&quot;${even.url}&quot;) String url) {\n\n        String token = awsSecretsManagerService.getSecretValue().get(SECRET_ID_EVEN_TOKEN);\n\n        WebClient webClient = WebClient.builder()\n                .exchangeStrategies(ExchangeStrategies.builder()\n                        .codecs(configurer -&gt; configurer\n                                .defaultCodecs()\n                                .maxInMemorySize(100 * 1024 * 1024) // default is 256 KB (262144 B), changed it to 100MB\n                        ).build())\n                .baseUrl(url)\n                .defaultHeaders(h -&gt; h.setBearerAuth(token))\n                .build();\n        return new EvenClient(webClient);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1251163,"reputation":1546,"user_id":1211547,"accept_rate":50,"display_name":"indybee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640363213,"creation_date":1640362482,"answer_id":70474784,"question_id":70424050,"body_markdown":"it seems there might be somehow a dependency on ExternalConfig from OffersRepository?\r\n\r\nif it does, then would be best to try to remove the ExternalConfig dependency from OffersRepository\r\n\r\ncould try adding this to OffersRepositoryTest in the interim:\r\n\r\n     @org.springframework.boot.test.mock.mockito.MockBean\r\n     private ExternalConfig externalConfig;","title":"Failed to load ApplicationContext for a java based config test","body":"<p>it seems there might be somehow a dependency on ExternalConfig from OffersRepository?</p>\n<p>if it does, then would be best to try to remove the ExternalConfig dependency from OffersRepository</p>\n<p>could try adding this to OffersRepositoryTest in the interim:</p>\n<pre><code> @org.springframework.boot.test.mock.mockito.MockBean\n private ExternalConfig externalConfig;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7341842,"reputation":176,"user_id":5591035,"display_name":"Karine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642796880,"creation_date":1642796880,"answer_id":70807319,"question_id":70424050,"body_markdown":"I need to move @ComponentScan annotation from ApiApplication.java to Configuration.java file, as it is described in spring-boot [documentation][1], and that solved my problem.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.0.3.RELEASE/reference/htmlsingle/#boot-features-testing-spring-boot-applications-testing-user-configuration","title":"Failed to load ApplicationContext for a java based config test","body":"<p>I need to move @ComponentScan annotation from ApiApplication.java to Configuration.java file, as it is described in spring-boot <a href=\"https://docs.spring.io/spring-boot/docs/2.0.3.RELEASE/reference/htmlsingle/#boot-features-testing-spring-boot-applications-testing-user-configuration\" rel=\"nofollow noreferrer\">documentation</a>, and that solved my problem.</p>\n"}],"owner":{"account_id":7341842,"reputation":176,"user_id":5591035,"display_name":"Karine"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5018,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70807319,"answer_count":4,"score":1,"last_activity_date":1642796880,"creation_date":1640013750,"question_id":70424050,"body_markdown":"I want to test the Repository-Layer of my SpringBootApplication, but it fails to load application context. \r\nBy the way I am using Java 17.\r\n\r\nHere is the error\r\n\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n    \r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\r\n    \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\r\n    \tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)\r\n    \tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)\r\n    \tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:244)\r\n    \tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassBasedTestDescriptor.java:350)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:355)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$7(ClassBasedTestDescriptor.java:350)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n    \tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n    \tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n    \tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n    \tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:349)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$4(ClassBasedTestDescriptor.java:270)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:269)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$2(ClassBasedTestDescriptor.java:259)\r\n    \tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$3(ClassBasedTestDescriptor.java:258)\r\n    \tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:101)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:100)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:65)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:111)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:111)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:79)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:221)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;analyticsController&#39; defined in file [/Users/kavetisyan/repos/moneylion/marketplace-api/api/target/classes/com/moneylion/marketplace/api/controller/AnalyticsController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;analyticsService&#39; defined in file [/Users/kavetisyan/repos/moneylion/marketplace-api/api/target/classes/com/moneylion/marketplace/api/service/AnalyticsService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;webClient&#39; defined in class path resource [com/moneylion/marketplace/api/config/ExternalConfig.class]: Unsatisfied dependency expressed through method &#39;webClient&#39; parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.web.reactive.function.client.WebClient$Builder&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1354)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1204)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:338)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:123)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\r\n    \t... 67 more\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;analyticsService&#39; defined in file [/Users/kavetisyan/repos/moneylion/marketplace-api/api/target/classes/com/moneylion/marketplace/api/service/AnalyticsService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;webClient&#39; defined in class path resource [com/moneylion/marketplace/api/config/ExternalConfig.class]: Unsatisfied dependency expressed through method &#39;webClient&#39; parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.web.reactive.function.client.WebClient$Builder&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1354)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1204)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\r\n    \t... 85 more\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;webClient&#39; defined in class path resource [com/moneylion/marketplace/api/config/ExternalConfig.class]: Unsatisfied dependency expressed through method &#39;webClient&#39; parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.web.reactive.function.client.WebClient$Builder&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\r\n    \t... 99 more\r\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.web.reactive.function.client.WebClient$Builder&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1790)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1346)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\r\n    \t... 113 more\r\n\r\nHere is My simple test class. \r\n    \r\n    @DataJpaTest\r\n    @WebAppConfiguration\r\n    class OffersRepositoryTest {\r\n    \r\n        @Autowired\r\n        private OffersRepository underTest;\r\n    \r\n        @Test\r\n        void ItShouldFindByUserIdNonExpired() {\r\n            //UUID uuid = UUID.randomUUID();\r\n            //Long current_time = Instant.now().toEpochMilli();\r\n            //Offer offer1 = new Offer(uuid, &quot;1&quot;, &quot;LOAN&quot;, &quot;test_url&quot;, current_time, &quot;fiona&quot;, &quot;Fiona&quot;, &quot;Upgrade&quot;, &quot;Upgrade PL&quot;, &quot;test_request&quot;, &quot;test_response&quot;, 1, 1L);\r\n            //underTest.save(offer1);\r\n            //given\r\n            //when\r\n            //then\r\n    \r\n        }\r\nHere is the application.properties file\r\n\r\n    spring.datasource.url=jdbc:h2://mem:db;DB_CLOSE_DELAY=-1\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=sa\r\n    spring.datasource.driver-class-name=org.h2.Driver\r\n    spring.jpa.hibernate.ddl-auto=none\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    spring.flyway.enabled=true\r\n    spring.flyway.locations=classpath:db/tests\r\n\r\n\r\nAnd finally here is my pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;marketplace-api&lt;/artifactId&gt;\r\n            &lt;groupId&gt;com.moneylion&lt;/groupId&gt;\r\n            &lt;version&gt;1.0.1&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;artifactId&gt;api&lt;/artifactId&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n        &lt;profiles&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;staging&lt;/id&gt;\r\n                &lt;activation&gt;\r\n                    &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n                &lt;/activation&gt;\r\n                &lt;properties&gt;\r\n                    &lt;spring.profiles.active&gt;staging&lt;/spring.profiles.active&gt;\r\n                &lt;/properties&gt;\r\n            &lt;/profile&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;production&lt;/id&gt;\r\n                &lt;properties&gt;\r\n                    &lt;spring.profiles.active&gt;production&lt;/spring.profiles.active&gt;\r\n                &lt;/properties&gt;\r\n            &lt;/profile&gt;\r\n        &lt;/profiles&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.moneylion&lt;/groupId&gt;\r\n                &lt;artifactId&gt;external-service&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.moneylion&lt;/groupId&gt;\r\n                &lt;artifactId&gt;common&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n                &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n                &lt;version&gt;2.10.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                &lt;version&gt;42.3.1&lt;/version&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\r\n                &lt;version&gt;2.14.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n                &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.5.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.10&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;includeArtifactIds&gt;newrelic-agent&lt;/includeArtifactIds&gt;\r\n                                &lt;outputDirectory&gt;target&lt;/outputDirectory&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.19.1&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nConfiguration for webclient bean\r\n\r\n    @Configuration\r\n    public class ExternalConfig {\r\n        private static final String SECRET_ID_EVEN_TOKEN = &quot;evenToken&quot;;\r\n    \r\n        @Bean\r\n        public EvenClient webClient(WebClient.Builder builder,\r\n                             AWSSecretsManagerService awsSecretsManagerService,\r\n                             @Value(&quot;${even.url}&quot;) String url) {\r\n    \r\n            String token = awsSecretsManagerService.getSecretValue().get(SECRET_ID_EVEN_TOKEN);\r\n    \r\n            WebClient webClient = builder\r\n                    .exchangeStrategies(ExchangeStrategies.builder()\r\n                            .codecs(configurer -&gt; configurer\r\n                                    .defaultCodecs()\r\n                                    .maxInMemorySize(100 * 1024 * 1024) // default is 256 KB (262144 B), changed it to 100MB\r\n                            ).build())\r\n                    .baseUrl(url)\r\n                    .defaultHeaders(h -&gt; h.setBearerAuth(token))\r\n                    .build();\r\n            return new EvenClient(webClient);\r\n        }\r\n    }\r\n\r\n\r\nI checked out different Spring-boot-test annotations like @SpringBootTest, but nothing changed. Is there anyone out there who has the same issue or a solution? If you need further information/ code snippets / error stacks please contact me. thanks\r\n\r\n","title":"Failed to load ApplicationContext for a java based config test","body":"<p>I want to test the Repository-Layer of my SpringBootApplication, but it fails to load application context.\nBy the way I am using Java 17.</p>\n<p>Here is the error</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext\n\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\n    at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)\n    at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:244)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassBasedTestDescriptor.java:350)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:355)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$7(ClassBasedTestDescriptor.java:350)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:349)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$4(ClassBasedTestDescriptor.java:270)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:269)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$2(ClassBasedTestDescriptor.java:259)\n    at java.base/java.util.Optional.orElseGet(Optional.java:364)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$3(ClassBasedTestDescriptor.java:258)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:101)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:100)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:65)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:111)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:111)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:79)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:221)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'analyticsController' defined in file [/Users/kavetisyan/repos/moneylion/marketplace-api/api/target/classes/com/moneylion/marketplace/api/controller/AnalyticsController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'analyticsService' defined in file [/Users/kavetisyan/repos/moneylion/marketplace-api/api/target/classes/com/moneylion/marketplace/api/service/AnalyticsService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webClient' defined in class path resource [com/moneylion/marketplace/api/config/ExternalConfig.class]: Unsatisfied dependency expressed through method 'webClient' parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.web.reactive.function.client.WebClient$Builder' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1354)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1204)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:338)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:123)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\n    ... 67 more\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'analyticsService' defined in file [/Users/kavetisyan/repos/moneylion/marketplace-api/api/target/classes/com/moneylion/marketplace/api/service/AnalyticsService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webClient' defined in class path resource [com/moneylion/marketplace/api/config/ExternalConfig.class]: Unsatisfied dependency expressed through method 'webClient' parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.web.reactive.function.client.WebClient$Builder' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1354)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1204)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n    ... 85 more\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webClient' defined in class path resource [com/moneylion/marketplace/api/config/ExternalConfig.class]: Unsatisfied dependency expressed through method 'webClient' parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.web.reactive.function.client.WebClient$Builder' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n    ... 99 more\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.web.reactive.function.client.WebClient$Builder' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1790)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1346)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n    ... 113 more\n</code></pre>\n<p>Here is My simple test class.</p>\n<pre><code>@DataJpaTest\n@WebAppConfiguration\nclass OffersRepositoryTest {\n\n    @Autowired\n    private OffersRepository underTest;\n\n    @Test\n    void ItShouldFindByUserIdNonExpired() {\n        //UUID uuid = UUID.randomUUID();\n        //Long current_time = Instant.now().toEpochMilli();\n        //Offer offer1 = new Offer(uuid, &quot;1&quot;, &quot;LOAN&quot;, &quot;test_url&quot;, current_time, &quot;fiona&quot;, &quot;Fiona&quot;, &quot;Upgrade&quot;, &quot;Upgrade PL&quot;, &quot;test_request&quot;, &quot;test_response&quot;, 1, 1L);\n        //underTest.save(offer1);\n        //given\n        //when\n        //then\n\n    }\n</code></pre>\n<p>Here is the application.properties file</p>\n<pre><code>spring.datasource.url=jdbc:h2://mem:db;DB_CLOSE_DELAY=-1\nspring.datasource.username=sa\nspring.datasource.password=sa\nspring.datasource.driver-class-name=org.h2.Driver\nspring.jpa.hibernate.ddl-auto=none\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.flyway.enabled=true\nspring.flyway.locations=classpath:db/tests\n</code></pre>\n<p>And finally here is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;artifactId&gt;marketplace-api&lt;/artifactId&gt;\n        &lt;groupId&gt;com.moneylion&lt;/groupId&gt;\n        &lt;version&gt;1.0.1&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;api&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;staging&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;spring.profiles.active&gt;staging&lt;/spring.profiles.active&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;production&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;spring.profiles.active&gt;production&lt;/spring.profiles.active&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.moneylion&lt;/groupId&gt;\n            &lt;artifactId&gt;external-service&lt;/artifactId&gt;\n            &lt;version&gt;1.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.moneylion&lt;/groupId&gt;\n            &lt;artifactId&gt;common&lt;/artifactId&gt;\n            &lt;version&gt;1.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.10.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.3.1&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\n            &lt;version&gt;2.14.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.10&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;includeArtifactIds&gt;newrelic-agent&lt;/includeArtifactIds&gt;\n                            &lt;outputDirectory&gt;target&lt;/outputDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.19.1&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Configuration for webclient bean</p>\n<pre><code>@Configuration\npublic class ExternalConfig {\n    private static final String SECRET_ID_EVEN_TOKEN = &quot;evenToken&quot;;\n\n    @Bean\n    public EvenClient webClient(WebClient.Builder builder,\n                         AWSSecretsManagerService awsSecretsManagerService,\n                         @Value(&quot;${even.url}&quot;) String url) {\n\n        String token = awsSecretsManagerService.getSecretValue().get(SECRET_ID_EVEN_TOKEN);\n\n        WebClient webClient = builder\n                .exchangeStrategies(ExchangeStrategies.builder()\n                        .codecs(configurer -&gt; configurer\n                                .defaultCodecs()\n                                .maxInMemorySize(100 * 1024 * 1024) // default is 256 KB (262144 B), changed it to 100MB\n                        ).build())\n                .baseUrl(url)\n                .defaultHeaders(h -&gt; h.setBearerAuth(token))\n                .build();\n        return new EvenClient(webClient);\n    }\n}\n</code></pre>\n<p>I checked out different Spring-boot-test annotations like @SpringBootTest, but nothing changed. Is there anyone out there who has the same issue or a solution? If you need further information/ code snippets / error stacks please contact me. thanks</p>\n"},{"tags":["java","android-studio","bluetooth-lowenergy","gatt","nrf52"],"comments":[{"owner":{"account_id":10114718,"reputation":2216,"user_id":7473793,"display_name":"Michael Kotzjan"},"score":0,"creation_date":1643358964,"post_id":70807308,"comment_id":125323299,"body_markdown":"It&#39;s hard to give you an answer without knowing your android application. Could you add some code?","body":"It&#39;s hard to give you an answer without knowing your android application. Could you add some code?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1643645253,"post_id":70807308,"comment_id":125389069,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":24013589,"reputation":1,"user_id":17996847,"display_name":"LawAbidingDude"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642796833,"creation_date":1642796833,"question_id":70807308,"body_markdown":"I am trying to write to the LED characteristic of a (Client) nRF52 DK from an Android application (Server). I can read the value from the characteristic fine and I also receive a callback. When a write is attempted the callback occurs and the status is 128 for &quot;GATT_NO_RESOURCE&quot;.\r\n\r\n0df51501-2e2c-4bca-bf8a-94ff0ae14b0e is the uuid for the LED characteristic.\r\n\r\n[NRF Connect showing the DK services and LED characteristic][1]\r\n\r\nNRF Connect can write to the DK after I trigger beginReliableWrite and executeReliableWrite. My current application cannot.\r\n\r\nMy goal is to write to the DK with the phone application and control the states of the LEDs by sending 0x00 to turn them off or 0xFF to turn them (4 in total)on.\r\n\r\n[My Application showing the DK services and LED characteristic][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Acpct.jpg\r\n  [2]: https://i.stack.imgur.com/XxU4Q.jpg","title":"Why does BluetoothGattCallback&#39;s onCharacteristicWrite have status 128 &quot;GATT_NO_RESOURCE&quot;?","body":"<p>I am trying to write to the LED characteristic of a (Client) nRF52 DK from an Android application (Server). I can read the value from the characteristic fine and I also receive a callback. When a write is attempted the callback occurs and the status is 128 for &quot;GATT_NO_RESOURCE&quot;.</p>\n<p>0df51501-2e2c-4bca-bf8a-94ff0ae14b0e is the uuid for the LED characteristic.</p>\n<p><a href=\"https://i.stack.imgur.com/Acpct.jpg\" rel=\"nofollow noreferrer\">NRF Connect showing the DK services and LED characteristic</a></p>\n<p>NRF Connect can write to the DK after I trigger beginReliableWrite and executeReliableWrite. My current application cannot.</p>\n<p>My goal is to write to the DK with the phone application and control the states of the LEDs by sending 0x00 to turn them off or 0xFF to turn them (4 in total)on.</p>\n<p><a href=\"https://i.stack.imgur.com/XxU4Q.jpg\" rel=\"nofollow noreferrer\">My Application showing the DK services and LED characteristic</a></p>\n"},{"tags":["java","testng","testng-eclipse","testng.xml","testng-annotation-test"],"comments":[{"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"score":0,"creation_date":1642799542,"post_id":70807305,"comment_id":125177040,"body_markdown":"I&#39;ve found this issue with a lot of discussions https://github.com/cbeust/testng/issues/751 but it mentions grouping this parallel option with method dependencies. You have other case.. It looks like a bug. If it related to the recent testng 7.5 version, you might post it to github.","body":"I&#39;ve found this issue with a lot of discussions <a href=\"https://github.com/cbeust/testng/issues/751\" rel=\"nofollow noreferrer\">github.com/cbeust/testng/issues/751</a> but it mentions grouping this parallel option with method dependencies. You have other case.. It looks like a bug. If it related to the recent testng 7.5 version, you might post it to github."}],"owner":{"account_id":910157,"reputation":4964,"user_id":944190,"accept_rate":54,"display_name":"a Learner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642796808,"creation_date":1642796808,"question_id":70807305,"body_markdown":"Why following code is running tests in different threads?\r\nTest class:\r\n\r\n    \r\n    public class InstancesOfClass {\r\n    \t\r\n    \tpublic static int counter=0;\r\n    \t\r\n    \tpublic InstancesOfClass() {\r\n    \t\tcounter++;\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void testA() {\r\n    \t    long id=Thread.currentThread().getId();\r\n    \t\tSystem.out.println(&quot;A:counter=&quot;+counter+&quot;  Thread id:&quot;+id);\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void testB() {\r\n    \t\tlong id=Thread.currentThread().getId();\r\n    \t\tSystem.out.println(&quot;B:counter=&quot;+counter+&quot;  Thread id:&quot;+id);\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void testC() {\r\n    \t\tlong id=Thread.currentThread().getId();\r\n    \t\tSystem.out.println(&quot;C:counter=&quot;+counter+&quot;  Thread id:&quot;+id);\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n\r\ntestng.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\r\n    &lt;suite name=&quot;Suite&quot; parallel=&quot;instances&quot;&gt;\r\n      &lt;test name=&quot;Test1&quot; &gt;\r\n        &lt;classes&gt;\r\n         &lt;class name=&quot;InstancesOfClass&quot;/&gt;\r\n        &lt;/classes&gt;\r\n      &lt;/test&gt; &lt;!-- Test --&gt;\r\n    &lt;/suite&gt; &lt;!-- Suite --&gt;\r\n\r\nOutput:\r\n\r\n    C:counter=1  Thread id:14\r\n    B:counter=1  Thread id:13\r\n    A:counter=1  Thread id:12\r\n\r\nIn the suite I have given `parallel=&quot;instances&quot;`. `counter=1` shows that there is only one instance of this test class. So why test are executing in different threads despite `parallel=&quot;instances&quot;`?","title":"Why parallel=&quot;instances&quot; running tests within same class instance in different threads","body":"<p>Why following code is running tests in different threads?\nTest class:</p>\n<pre><code>public class InstancesOfClass {\n    \n    public static int counter=0;\n    \n    public InstancesOfClass() {\n        counter++;\n    }\n    \n    @Test\n    public void testA() {\n        long id=Thread.currentThread().getId();\n        System.out.println(&quot;A:counter=&quot;+counter+&quot;  Thread id:&quot;+id);\n    }\n    \n    @Test\n    public void testB() {\n        long id=Thread.currentThread().getId();\n        System.out.println(&quot;B:counter=&quot;+counter+&quot;  Thread id:&quot;+id);\n    }\n    \n    @Test\n    public void testC() {\n        long id=Thread.currentThread().getId();\n        System.out.println(&quot;C:counter=&quot;+counter+&quot;  Thread id:&quot;+id);\n    }\n    \n    \n}\n</code></pre>\n<p>testng.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;Suite&quot; parallel=&quot;instances&quot;&gt;\n  &lt;test name=&quot;Test1&quot; &gt;\n    &lt;classes&gt;\n     &lt;class name=&quot;InstancesOfClass&quot;/&gt;\n    &lt;/classes&gt;\n  &lt;/test&gt; &lt;!-- Test --&gt;\n&lt;/suite&gt; &lt;!-- Suite --&gt;\n</code></pre>\n<p>Output:</p>\n<pre><code>C:counter=1  Thread id:14\nB:counter=1  Thread id:13\nA:counter=1  Thread id:12\n</code></pre>\n<p>In the suite I have given <code>parallel=&quot;instances&quot;</code>. <code>counter=1</code> shows that there is only one instance of this test class. So why test are executing in different threads despite <code>parallel=&quot;instances&quot;</code>?</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"owner":{"account_id":8109676,"reputation":117,"user_id":6110201,"display_name":"JLumos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642796798,"creation_date":1642796798,"question_id":70807302,"body_markdown":"I have two projects in my workspace:\r\n- Project A: Contains a database connection logic, JPA Entities &amp; Repositories (javax.persistance), and Spring Data.\r\n\r\n- Project B: Makes reference to Project A as a maven dependency. In this project I have Spring core, but not Spring boot (and I don&#39;t want to use Spring Boot since this code will be inside an AWS Lambda Function and it is not needed)\r\n\r\nIf I run the code in Project B locally from Eclipse, everything works fine. But, when I try to execute the code with AWS SAM or in AWS, it fails saying:\r\n\r\n``java.lang.IllegalArgumentException: Not a managed type: class com.myComp.pojo``\r\n\r\nI had a previous issue, Project B wasn&#39;t able to find JPA Repositories but that&#39;s now solved, adding this:\r\n\r\n``@EnableJpaRepositories(basePackages = {&quot;com.myComp&quot;}, considerNestedRepositories = true,\r\n    includeFilters = {\r\n        @ComponentScan.Filter(type = FilterType.ANNOTATION, classes = Repository.class)})``\r\n\r\nNow Project B is able to see JPA Repositories but entities are not being picked. But only with the JAR packaged version. In Eclipse works fine.\r\nI&#39;ve tried with `@EntityScan` but no luck.\r\n\r\nDoes anyone know how to solve this issue?\r\nThanks in advance.","title":"Spring Data JPA - Not a managed type with external jar with entities","body":"<p>I have two projects in my workspace:</p>\n<ul>\n<li><p>Project A: Contains a database connection logic, JPA Entities &amp; Repositories (javax.persistance), and Spring Data.</p>\n</li>\n<li><p>Project B: Makes reference to Project A as a maven dependency. In this project I have Spring core, but not Spring boot (and I don't want to use Spring Boot since this code will be inside an AWS Lambda Function and it is not needed)</p>\n</li>\n</ul>\n<p>If I run the code in Project B locally from Eclipse, everything works fine. But, when I try to execute the code with AWS SAM or in AWS, it fails saying:</p>\n<p><code>java.lang.IllegalArgumentException: Not a managed type: class com.myComp.pojo</code></p>\n<p>I had a previous issue, Project B wasn't able to find JPA Repositories but that's now solved, adding this:</p>\n<p><code>@EnableJpaRepositories(basePackages = {&quot;com.myComp&quot;}, considerNestedRepositories = true, includeFilters = { @ComponentScan.Filter(type = FilterType.ANNOTATION, classes = Repository.class)})</code></p>\n<p>Now Project B is able to see JPA Repositories but entities are not being picked. But only with the JAR packaged version. In Eclipse works fine.\nI've tried with <code>@EntityScan</code> but no luck.</p>\n<p>Does anyone know how to solve this issue?\nThanks in advance.</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-firefoxdriver","java-threads"],"answers":[{"tags":[],"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642796705,"creation_date":1642796705,"answer_id":70807291,"question_id":70806236,"body_markdown":"This is because of you using static field for Forefox driver.\r\n\r\nStatic means the one per all instances. So remove `static` here.\r\n\r\n```\r\nprivate FirefoxDriver firefoxDriver;\r\n```\r\n\r\nand after, each thread will use it&#39;s own `firefoxDriver` field.\r\n\r\nStatic fields should be used carefully if you going to modify them.","title":"How to execute selenium script in a lot of threads?","body":"<p>This is because of you using static field for Forefox driver.</p>\n<p>Static means the one per all instances. So remove <code>static</code> here.</p>\n<pre><code>private FirefoxDriver firefoxDriver;\n</code></pre>\n<p>and after, each thread will use it's own <code>firefoxDriver</code> field.</p>\n<p>Static fields should be used carefully if you going to modify them.</p>\n"}],"owner":{"account_id":22609125,"reputation":5,"user_id":16789594,"display_name":"Derek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70807291,"answer_count":1,"score":0,"last_activity_date":1642796705,"creation_date":1642790852,"question_id":70806236,"body_markdown":"I like to test my site in a lot of threads. But when I trying to do that, I see one problem. All motions when I like are happening in last opened window. So, the first window just stuck in background.\r\n\r\n    public class Core extends Thread{\r\n    \r\n        private static FirefoxDriver firefoxDriver;\r\n    \r\n        public Core(){\r\n            firefoxDriver = new FirefoxDriver();\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            firefoxDriver.get(&quot;https://google.com/&quot;);\r\n            firefoxDriver.close();\r\n        }\r\n    }\r\n\r\n    public class Main {\r\n      \r\n        public static void main(String[] args) throws AWTException {\r\n            \r\n            System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;/home/riki/Downloads/geckodriver-v0.30.0-linux64/geckodriver&quot;);\r\n    \r\n            Core core = new Core();\r\n            Core core2 = new Core();\r\n    \r\n            core.start();    // This thread is stuck in back\r\n            core2.start();   // This thread goes to google.com twice\r\n        }\r\n    }\r\n       \r\nI really don&#39;t understand why it happens. You can see it [here][1]. After that the code has run, the first window keeps hanging in back. It don&#39;t close. When the second thread closes after executing code\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hvckm.png","title":"How to execute selenium script in a lot of threads?","body":"<p>I like to test my site in a lot of threads. But when I trying to do that, I see one problem. All motions when I like are happening in last opened window. So, the first window just stuck in background.</p>\n<pre><code>public class Core extends Thread{\n\n    private static FirefoxDriver firefoxDriver;\n\n    public Core(){\n        firefoxDriver = new FirefoxDriver();\n    }\n\n    @Override\n    public void run() {\n        firefoxDriver.get(&quot;https://google.com/&quot;);\n        firefoxDriver.close();\n    }\n}\n\npublic class Main {\n  \n    public static void main(String[] args) throws AWTException {\n        \n        System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;/home/riki/Downloads/geckodriver-v0.30.0-linux64/geckodriver&quot;);\n\n        Core core = new Core();\n        Core core2 = new Core();\n\n        core.start();    // This thread is stuck in back\n        core2.start();   // This thread goes to google.com twice\n    }\n}\n   \n</code></pre>\n<p>I really don't understand why it happens. You can see it <a href=\"https://i.stack.imgur.com/hvckm.png\" rel=\"nofollow noreferrer\">here</a>. After that the code has run, the first window keeps hanging in back. It don't close. When the second thread closes after executing code</p>\n"},{"tags":["java","maven","aspectj","aspectj-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642796545,"creation_date":1473588324,"answer_id":39434951,"question_id":39414417,"body_markdown":"Here are some resources:\r\n\r\n* the [AspectJ homepage](http://www.eclipse.org/aspectj/) including developer tutorials, also showing you how to use the [AspectJ compiler (Ajc)](https://eclipse.org/aspectj/doc/next/devguide/ajc-ref.html) from the command line,\r\n* information about [AspectJ Development Tools (AJDT)](http://www.eclipse.org/ajdt/) for Eclipse (but there is also an AspectJ integration into IntelliJ IDEA if you prefer that),\r\n* a link to the [AspectJ Maven Plugin](http://www.mojohaus.org/aspectj-maven-plugin/) which enables you to easily compile your Maven project including aspects.\r\n\r\nHere on Stack Overflow, I have also answered many questions about how to configure AspectJ Maven Plugin, e.g. [here](https://stackoverflow.com/a/25480409/1082681).\r\n","title":"Adding aspectJ language to define joinpoints","body":"<p>Here are some resources:</p>\n<ul>\n<li>the <a href=\"http://www.eclipse.org/aspectj/\" rel=\"nofollow noreferrer\">AspectJ homepage</a> including developer tutorials, also showing you how to use the <a href=\"https://eclipse.org/aspectj/doc/next/devguide/ajc-ref.html\" rel=\"nofollow noreferrer\">AspectJ compiler (Ajc)</a> from the command line,</li>\n<li>information about <a href=\"http://www.eclipse.org/ajdt/\" rel=\"nofollow noreferrer\">AspectJ Development Tools (AJDT)</a> for Eclipse (but there is also an AspectJ integration into IntelliJ IDEA if you prefer that),</li>\n<li>a link to the <a href=\"http://www.mojohaus.org/aspectj-maven-plugin/\" rel=\"nofollow noreferrer\">AspectJ Maven Plugin</a> which enables you to easily compile your Maven project including aspects.</li>\n</ul>\n<p>Here on Stack Overflow, I have also answered many questions about how to configure AspectJ Maven Plugin, e.g. <a href=\"https://stackoverflow.com/a/25480409/1082681\">here</a>.</p>\n"}],"owner":{"account_id":2214779,"reputation":834,"user_id":1955701,"accept_rate":38,"display_name":"Bohdan Nesteruk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":39434951,"answer_count":1,"score":0,"last_activity_date":1642796545,"creation_date":1473432871,"question_id":39414417,"body_markdown":"I&#39;d like to define aspectj joinpoints not using annotations and string constants like this:\r\n    \r\n    @Before(&quot;execution(* my.class.getText(..))&quot;)\r\nbut using aspecj language, like in this example:\r\n\r\n    pointcut myMethod(): myClass() &amp;&amp; execution(* *(..));\r\n\r\nor \r\n\r\n    before (): getText() {\r\n        Trace.traceEntry(&quot;&quot; + thisJoinPointStaticPart.getSignature());\r\n    }\r\n \r\n\r\nIs there any good examples of how to add aspectj to the project to make maven compile this language properly and how to re-write @Before, @Around etc. annotations in aspecj language? \r\n\r\n","title":"Adding aspectJ language to define joinpoints","body":"<p>I'd like to define aspectj joinpoints not using annotations and string constants like this:</p>\n\n<pre><code>@Before(\"execution(* my.class.getText(..))\")\n</code></pre>\n\n<p>but using aspecj language, like in this example:</p>\n\n<pre><code>pointcut myMethod(): myClass() &amp;&amp; execution(* *(..));\n</code></pre>\n\n<p>or </p>\n\n<pre><code>before (): getText() {\n    Trace.traceEntry(\"\" + thisJoinPointStaticPart.getSignature());\n}\n</code></pre>\n\n<p>Is there any good examples of how to add aspectj to the project to make maven compile this language properly and how to re-write @Before, @Around etc. annotations in aspecj language? </p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":9947305,"reputation":12802,"user_id":7361479,"accept_rate":75,"display_name":"kshetline"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1642796520,"creation_date":1642796520,"answer_id":70807261,"question_id":70807146,"body_markdown":"First step: Once you see yourself writing that many `else if` clauses in a row, rethink your code. All of that would be much better handled by defining a string-to-integer map, and looking up values in that map rather than testing one string value after another after another.\r\n\r\nYou&#39;ll need to add &quot;oh&quot; to your map as an alternative for zero.\r\n\r\nThen you need to multiply what your accumulated result by ten when one more digit comes along.\r\n\r\nThat&#39;s a rough start. Spoken numbers have more quirks to deal with, but hopefully that rough outline will get your further along.\r\n ","title":"Converting spoken numbers to Arabic numerals in Java so &quot;one oh six&quot; does not equal 7","body":"<p>First step: Once you see yourself writing that many <code>else if</code> clauses in a row, rethink your code. All of that would be much better handled by defining a string-to-integer map, and looking up values in that map rather than testing one string value after another after another.</p>\n<p>You'll need to add &quot;oh&quot; to your map as an alternative for zero.</p>\n<p>Then you need to multiply what your accumulated result by ten when one more digit comes along.</p>\n<p>That's a rough start. Spoken numbers have more quirks to deal with, but hopefully that rough outline will get your further along.</p>\n"}],"owner":{"account_id":3166763,"reputation":1986,"user_id":2676598,"accept_rate":86,"display_name":"portsample"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642796520,"creation_date":1642795892,"question_id":70807146,"body_markdown":"I am using the following to convert spoken numbers to their Arabic numeral equivalent in Java. It works for numbers spoken in standard grammar school format: &quot;one hundred and fifty-seven&quot;, &quot;six hundred and twelve&quot;, etc. However, phrasings that omit the hundreds or thousand designators (such as phone numbers, etc) cause problems: &quot;one oh six&quot; produces &quot;7&quot;, and &quot;one fifty-six&quot; results in &quot;57&quot;.\r\n\r\nAny suggestions regarding how to resolve this?\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public void parseNumbers(){\r\n        if(szInput != null &amp;&amp; szInput.length()&gt; 0)\r\n        {\r\n            szInput = szInput.replaceAll(&quot;-&quot;, &quot; &quot;);\r\n            szInput = szInput.replaceAll(&quot;OH&quot;, &quot;ZERO&quot;);\r\n            szInput = szInput.toLowerCase().replaceAll(&quot; and&quot;, &quot; &quot;);\r\n            String[] splittedParts = szInput.trim().split(&quot;\\\\s+&quot;);\r\n\r\n            for(String str : splittedParts)\r\n            {\r\n                if(!szlAllowedStrings.contains(str))\r\n                {\r\n                    bIsValidInput = false;\r\n                    Toast.makeText(this, &quot;Invalid word found:&quot; + str, Toast.LENGTH_LONG).show();\r\n                    break;\r\n                }\r\n            }\r\n            if(bIsValidInput)\r\n            {\r\n                for(String str : splittedParts)\r\n                {\r\n                    if(str.equalsIgnoreCase(&quot;zero&quot;)) {\r\n                        lResult += 0;\r\n                    }\r\n                    else if(str.equalsIgnoreCase(&quot;one&quot;)) {\r\n                        lResult += 1;\r\n                    }\r\n                    else if(str.equalsIgnoreCase(&quot;two&quot;)) {\r\n                        lResult += 2;\r\n                    }\r\n                    else if(str.equalsIgnoreCase(&quot;three&quot;)) {\r\n                        lResult += 3;\r\n                    }\r\n                    else if(str.equalsIgnoreCase(&quot;four&quot;)) {\r\n                        lResult += 4;\r\n                    }\r\n                    else if(str.equalsIgnoreCase(&quot;five&quot;)) {\r\n                        lResult += 5;\r\n                    }\r\n                    else if(str.equalsIgnoreCase(&quot;six&quot;)) {\r\n                        lResult += 6;\r\n                    }\r\n                    else if(str.equalsIgnoreCase(&quot;seven&quot;)) {\r\n                        lResult += 7;\r\n                    }\r\n                    else if(str.equalsIgnoreCase(&quot;eight&quot;)) {\r\n                        lResult += 8;\r\n                    }\r\n                    else if(str.equalsIgnoreCase(&quot;nine&quot;)) {\r\n                        lResult += 9;\r\n                    }\r\n                    else if(str.equalsIgnoreCase(&quot;ten&quot;)) {\r\n                        lResult += 10;\r\n                    }\r\n                    else if(str.equalsIgnoreCase(&quot;eleven&quot;)) {\r\n                        lResult += 11;\r\n                    }\r\n                    else if(str.equalsIgnoreCase(&quot;twelve&quot;)) {\r\n                        lResult += 12;\r\n                    }\r\n                    else if(str.equalsIgnoreCase(&quot;thirteen&quot;)) {\r\n                        lResult += 13;\r\n                    }\r\n                    else if(str.equalsIgnoreCase(&quot;fourteen&quot;)) {\r\n                        lResult += 14;\r\n                    }\r\n                    else if(str.equalsIgnoreCase(&quot;fifteen&quot;)) {\r\n                        lResult += 15;\r\n                    }\r\n                    else if(str.equalsIgnoreCase(&quot;sixteen&quot;)) {\r\n                        lResult += 16;\r\n                    }\r\n                    else if(str.equalsIgnoreCase(&quot;seventeen&quot;)) {\r\n                        lResult += 17;\r\n                    }\r\n                    else if(str.equalsIgnoreCase(&quot;eighteen&quot;)) {\r\n                        lResult += 18;\r\n                    }\r\n                    else if(str.equalsIgnoreCase(&quot;nineteen&quot;)) {\r\n                        lResult += 19;\r\n                    }\r\n                    else if(str.equalsIgnoreCase(&quot;twenty&quot;)) {\r\n                        lResult += 20;\r\n                    }\r\n                    else if(str.equalsIgnoreCase(&quot;thirty&quot;)) {\r\n                        lResult += 30;\r\n                    }\r\n                    else if(str.equalsIgnoreCase(&quot;forty&quot;)) {\r\n                        lResult += 40;\r\n                    }\r\n                    else if(str.equalsIgnoreCase(&quot;fifty&quot;)) {\r\n                        lResult += 50;\r\n                    }\r\n                    else if(str.equalsIgnoreCase(&quot;sixty&quot;)) {\r\n                        lResult += 60;\r\n                    }\r\n                    else if(str.equalsIgnoreCase(&quot;seventy&quot;)) {\r\n                        lResult += 70;\r\n                    }\r\n                    else if(str.equalsIgnoreCase(&quot;eighty&quot;)) {\r\n                        lResult += 80;\r\n                    }\r\n                    else if(str.equalsIgnoreCase(&quot;ninety&quot;)) {\r\n                        lResult += 90;\r\n                    }\r\n                    else if(str.equalsIgnoreCase(&quot;hundred&quot;)) {\r\n                        lResult *= 100;\r\n                    }\r\n                    else if(str.equalsIgnoreCase(&quot;thousand&quot;)) {\r\n                        lResult *= 1000;\r\n                        lFinalResult += lResult;\r\n                        lResult=0;\r\n                    }\r\n                    else if(str.equalsIgnoreCase(&quot;million&quot;)) {\r\n                        lResult *= 1000000;\r\n                        lFinalResult += lResult;\r\n                        lResult=0;\r\n                    }\r\n                    else if(str.equalsIgnoreCase(&quot;billion&quot;)) {\r\n                        lResult *= 1000000000;\r\n                        lFinalResult += lResult;\r\n                        lResult=0;\r\n                    }\r\n                    else if(str.equalsIgnoreCase(&quot;trillion&quot;)) {\r\n                        lResult *= 1000000000000L;\r\n                        lFinalResult += lResult;\r\n                        lResult=0;\r\n                    }\r\n                }\r\n\r\n                lFinalResult += lResult;\r\n                lResult=0;\r\n                szFinalResult = Long.toString(lFinalResult);\r\n                lFinalResult=0;\r\n            }else{//not valid\r\n                Toast.makeText(this, &quot;Bottom elseif, not valid.&quot;, Toast.LENGTH_SHORT).show();\r\n                bIsValidInput = true;\r\n            }\r\n        }\r\n    }","title":"Converting spoken numbers to Arabic numerals in Java so &quot;one oh six&quot; does not equal 7","body":"<p>I am using the following to convert spoken numbers to their Arabic numeral equivalent in Java. It works for numbers spoken in standard grammar school format: &quot;one hundred and fifty-seven&quot;, &quot;six hundred and twelve&quot;, etc. However, phrasings that omit the hundreds or thousand designators (such as phone numbers, etc) cause problems: &quot;one oh six&quot; produces &quot;7&quot;, and &quot;one fifty-six&quot; results in &quot;57&quot;.</p>\n<p>Any suggestions regarding how to resolve this?</p>\n<pre><code>public void parseNumbers(){\n    if(szInput != null &amp;&amp; szInput.length()&gt; 0)\n    {\n        szInput = szInput.replaceAll(&quot;-&quot;, &quot; &quot;);\n        szInput = szInput.replaceAll(&quot;OH&quot;, &quot;ZERO&quot;);\n        szInput = szInput.toLowerCase().replaceAll(&quot; and&quot;, &quot; &quot;);\n        String[] splittedParts = szInput.trim().split(&quot;\\\\s+&quot;);\n\n        for(String str : splittedParts)\n        {\n            if(!szlAllowedStrings.contains(str))\n            {\n                bIsValidInput = false;\n                Toast.makeText(this, &quot;Invalid word found:&quot; + str, Toast.LENGTH_LONG).show();\n                break;\n            }\n        }\n        if(bIsValidInput)\n        {\n            for(String str : splittedParts)\n            {\n                if(str.equalsIgnoreCase(&quot;zero&quot;)) {\n                    lResult += 0;\n                }\n                else if(str.equalsIgnoreCase(&quot;one&quot;)) {\n                    lResult += 1;\n                }\n                else if(str.equalsIgnoreCase(&quot;two&quot;)) {\n                    lResult += 2;\n                }\n                else if(str.equalsIgnoreCase(&quot;three&quot;)) {\n                    lResult += 3;\n                }\n                else if(str.equalsIgnoreCase(&quot;four&quot;)) {\n                    lResult += 4;\n                }\n                else if(str.equalsIgnoreCase(&quot;five&quot;)) {\n                    lResult += 5;\n                }\n                else if(str.equalsIgnoreCase(&quot;six&quot;)) {\n                    lResult += 6;\n                }\n                else if(str.equalsIgnoreCase(&quot;seven&quot;)) {\n                    lResult += 7;\n                }\n                else if(str.equalsIgnoreCase(&quot;eight&quot;)) {\n                    lResult += 8;\n                }\n                else if(str.equalsIgnoreCase(&quot;nine&quot;)) {\n                    lResult += 9;\n                }\n                else if(str.equalsIgnoreCase(&quot;ten&quot;)) {\n                    lResult += 10;\n                }\n                else if(str.equalsIgnoreCase(&quot;eleven&quot;)) {\n                    lResult += 11;\n                }\n                else if(str.equalsIgnoreCase(&quot;twelve&quot;)) {\n                    lResult += 12;\n                }\n                else if(str.equalsIgnoreCase(&quot;thirteen&quot;)) {\n                    lResult += 13;\n                }\n                else if(str.equalsIgnoreCase(&quot;fourteen&quot;)) {\n                    lResult += 14;\n                }\n                else if(str.equalsIgnoreCase(&quot;fifteen&quot;)) {\n                    lResult += 15;\n                }\n                else if(str.equalsIgnoreCase(&quot;sixteen&quot;)) {\n                    lResult += 16;\n                }\n                else if(str.equalsIgnoreCase(&quot;seventeen&quot;)) {\n                    lResult += 17;\n                }\n                else if(str.equalsIgnoreCase(&quot;eighteen&quot;)) {\n                    lResult += 18;\n                }\n                else if(str.equalsIgnoreCase(&quot;nineteen&quot;)) {\n                    lResult += 19;\n                }\n                else if(str.equalsIgnoreCase(&quot;twenty&quot;)) {\n                    lResult += 20;\n                }\n                else if(str.equalsIgnoreCase(&quot;thirty&quot;)) {\n                    lResult += 30;\n                }\n                else if(str.equalsIgnoreCase(&quot;forty&quot;)) {\n                    lResult += 40;\n                }\n                else if(str.equalsIgnoreCase(&quot;fifty&quot;)) {\n                    lResult += 50;\n                }\n                else if(str.equalsIgnoreCase(&quot;sixty&quot;)) {\n                    lResult += 60;\n                }\n                else if(str.equalsIgnoreCase(&quot;seventy&quot;)) {\n                    lResult += 70;\n                }\n                else if(str.equalsIgnoreCase(&quot;eighty&quot;)) {\n                    lResult += 80;\n                }\n                else if(str.equalsIgnoreCase(&quot;ninety&quot;)) {\n                    lResult += 90;\n                }\n                else if(str.equalsIgnoreCase(&quot;hundred&quot;)) {\n                    lResult *= 100;\n                }\n                else if(str.equalsIgnoreCase(&quot;thousand&quot;)) {\n                    lResult *= 1000;\n                    lFinalResult += lResult;\n                    lResult=0;\n                }\n                else if(str.equalsIgnoreCase(&quot;million&quot;)) {\n                    lResult *= 1000000;\n                    lFinalResult += lResult;\n                    lResult=0;\n                }\n                else if(str.equalsIgnoreCase(&quot;billion&quot;)) {\n                    lResult *= 1000000000;\n                    lFinalResult += lResult;\n                    lResult=0;\n                }\n                else if(str.equalsIgnoreCase(&quot;trillion&quot;)) {\n                    lResult *= 1000000000000L;\n                    lFinalResult += lResult;\n                    lResult=0;\n                }\n            }\n\n            lFinalResult += lResult;\n            lResult=0;\n            szFinalResult = Long.toString(lFinalResult);\n            lFinalResult=0;\n        }else{//not valid\n            Toast.makeText(this, &quot;Bottom elseif, not valid.&quot;, Toast.LENGTH_SHORT).show();\n            bIsValidInput = true;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","multithreading","kotlin"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1642785751,"post_id":70805050,"comment_id":125172810,"body_markdown":"`I believe this is general idea in programming world. so what I wonder about this is &quot;is it true in android(java/kotlin)?` you say that this is a general idea for all of programming, then ask if it is true for java or kotlin, do these not form part of the programming world ?","body":"<code>I believe this is general idea in programming world. so what I wonder about this is &quot;is it true in android(java&#47;kotlin)?</code> you say that this is a general idea for all of programming, then ask if it is true for java or kotlin, do these not form part of the programming world ?"},{"owner":{"account_id":19030786,"reputation":268,"user_id":13892944,"display_name":"foseja"},"score":0,"creation_date":1642971146,"post_id":70805050,"comment_id":125209956,"body_markdown":"@a_local_nobody if you mean that my thought applies to java or kotlin too, could you give me an example or any link that exmplains it well plz?","body":"@a_local_nobody if you mean that my thought applies to java or kotlin too, could you give me an example or any link that exmplains it well plz?"}],"answers":[{"tags":[],"owner":{"account_id":2786826,"reputation":2172,"user_id":2398000,"display_name":"avalerio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642796314,"creation_date":1642796314,"answer_id":70807219,"question_id":70805050,"body_markdown":"I think what you are looking for is the concept of `async/await`, found in languages like `C#` and `JavaScript`.\r\n\r\n`Java` doesn&#39;t support this by default, nor are their any popular/widely used libraries that using it. You can simulate it using `Futures` like here https://stackoverflow.com/questions/16539245/java-equivalent-of-c-sharp-async-await\r\nbut its kind sketch.\r\n\r\n\r\n`Kotlin` has the `suspend` function modifier that simulates this functionality. Here is a break down https://www.raywenderlich.com/books/kotlin-coroutines-by-tutorials/v2.0/chapters/5-async-await\r\n\r\n\r\n","title":"Async with single thread in Android","body":"<p>I think what you are looking for is the concept of <code>async/await</code>, found in languages like <code>C#</code> and <code>JavaScript</code>.</p>\n<p><code>Java</code> doesn't support this by default, nor are their any popular/widely used libraries that using it. You can simulate it using <code>Futures</code> like here <a href=\"https://stackoverflow.com/questions/16539245/java-equivalent-of-c-sharp-async-await\">Java Equivalent of C# async/await?</a>\nbut its kind sketch.</p>\n<p><code>Kotlin</code> has the <code>suspend</code> function modifier that simulates this functionality. Here is a break down <a href=\"https://www.raywenderlich.com/books/kotlin-coroutines-by-tutorials/v2.0/chapters/5-async-await\" rel=\"nofollow noreferrer\">https://www.raywenderlich.com/books/kotlin-coroutines-by-tutorials/v2.0/chapters/5-async-await</a></p>\n"}],"owner":{"account_id":19030786,"reputation":268,"user_id":13892944,"display_name":"foseja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70807219,"answer_count":1,"score":0,"last_activity_date":1642796314,"creation_date":1642784883,"question_id":70805050,"body_markdown":"I read some stack overflow answers about sync, async, and threading on [post A][1] and [post B][2]. The main point I got from the post is **&quot;multithreading is only one kind of asynchrony. Threading is about workers; asynchrony is about tasks&quot;** from post A and **&quot;Technically, the concept of synchronous/asynchronous really does not have anything to do with threads&quot;** from post B\r\n\r\nI believe this is general idea in programming world. so what I wonder about this is &quot;is it true in android(java/kotlin)? if so, what other methodologies to implement asynchrony tasks ***in single thread*** in java/kotlin?&quot; Can anybody give me an example in android specific ? (or in java/kotlin is welcomed too)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/34681101/13892944\r\n  [2]: https://stackoverflow.com/a/748235/13892944","title":"Async with single thread in Android","body":"<p>I read some stack overflow answers about sync, async, and threading on <a href=\"https://stackoverflow.com/a/34681101/13892944\">post A</a> and <a href=\"https://stackoverflow.com/a/748235/13892944\">post B</a>. The main point I got from the post is <strong>&quot;multithreading is only one kind of asynchrony. Threading is about workers; asynchrony is about tasks&quot;</strong> from post A and <strong>&quot;Technically, the concept of synchronous/asynchronous really does not have anything to do with threads&quot;</strong> from post B</p>\n<p>I believe this is general idea in programming world. so what I wonder about this is &quot;is it true in android(java/kotlin)? if so, what other methodologies to implement asynchrony tasks <em><strong>in single thread</strong></em> in java/kotlin?&quot; Can anybody give me an example in android specific ? (or in java/kotlin is welcomed too)</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8333,"page":1659,"page_size":100}
