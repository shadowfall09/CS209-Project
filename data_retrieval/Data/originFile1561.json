{"items":[{"tags":["java","android","networking","websocket"],"comments":[{"owner":{"account_id":2607825,"reputation":5369,"user_id":2258611,"display_name":"Alexander Hoffmann"},"score":1,"creation_date":1645691085,"post_id":71249023,"comment_id":125940632,"body_markdown":"You need a foreground service. They are less likely to be killed by the OS. Besides that, the Workmanager API is your best bet.","body":"You need a foreground service. They are less likely to be killed by the OS. Besides that, the Workmanager API is your best bet."},{"owner":{"account_id":16515701,"reputation":159,"user_id":11933249,"display_name":"Achal Urankar"},"score":0,"creation_date":1645691392,"post_id":71249023,"comment_id":125940736,"body_markdown":"foreground I&#39;ve tried, but its not good for ux as notification stays there, Ill go through work manager. thanks for your help.","body":"foreground I&#39;ve tried, but its not good for ux as notification stays there, Ill go through work manager. thanks for your help."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":4,"creation_date":1645691455,"post_id":71249023,"comment_id":125940762,"body_markdown":"The &quot;annoying&quot; UX is intentional. Google wants to discourage apps running permanently unless the user is notified of that fact. That&#39;s why workmanager and other (more battery-saving) approaches are provided for most of those use cases.","body":"The &quot;annoying&quot; UX is intentional. Google wants to discourage apps running permanently unless the user is notified of that fact. That&#39;s why workmanager and other (more battery-saving) approaches are provided for most of those use cases."},{"owner":{"account_id":16515701,"reputation":159,"user_id":11933249,"display_name":"Achal Urankar"},"score":0,"creation_date":1645691552,"post_id":71249023,"comment_id":125940795,"body_markdown":"yes, that makes sense, when i tried to hide that notification manually, later system notification was generated telling me this app is consuming battery.","body":"yes, that makes sense, when i tried to hide that notification manually, later system notification was generated telling me this app is consuming battery."}],"answers":[{"tags":[],"owner":{"account_id":8003589,"reputation":116,"user_id":6037561,"display_name":"Hemant Bharti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645780574,"creation_date":1645693128,"answer_id":71249432,"question_id":71249023,"body_markdown":"Use `START_STICKY` in the service class\r\n\r\n \r\n```java\r\n@Override\r\npublic int onStartCommand(Intent intent, int flags, int startId) {\r\n    super.onStartCommand(intent, flags, startId);\r\n    return START_STICKY;\r\n}\r\n```\r\n\r\nand also add this in the manifest:\r\n\r\n```xml\r\n&lt;service\r\n            android:name=&quot;.MyService&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:stopWithTask=&quot;false&quot;/&gt;\r\n```\r\n","title":"Is it possible to run service endlessly in android even after closing the app?","body":"<p>Use <code>START_STICKY</code> in the service class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic int onStartCommand(Intent intent, int flags, int startId) {\n    super.onStartCommand(intent, flags, startId);\n    return START_STICKY;\n}\n</code></pre>\n<p>and also add this in the manifest:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;service\n            android:name=&quot;.MyService&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;true&quot;\n            android:stopWithTask=&quot;false&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5288818,"reputation":329,"user_id":4221943,"display_name":"MG1616"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645700514,"creation_date":1645700514,"answer_id":71250923,"question_id":71249023,"body_markdown":"Use the [WorkManager][1] for scheduling task, especially the ```OneTime```\r\n\r\nWorker will still &quot;running&quot; event if the app is killed. \r\n\r\n  [1]: https://developer.android.com/topic/libraries/architecture/workmanager?gclid=CjwKCAiA9tyQBhAIEiwA6tdCrCJhbJlvXFZAhJMcgHIk_rMF02kjFx20HD1v-TC5HBtmf7WZi3GxEhoCqU0QAvD_BwE&amp;gclsrc=aw.ds&amp;authuser=1\r\n\r\nYou could do something like that.\r\n\r\n1. Building the Worker Class\r\n\r\n```kotlin\r\nimport android.content.Context\r\nimport androidx.work.Worker\r\nimport androidx.work.WorkerParameters\r\n\r\nclass NotifyWorker(context: Context, workerParams: WorkerParameters) : Worker(context, workerParams) {\r\n\r\n    override fun doWork(): Result {\r\n        // Method to trigger an instant notification\r\n        triggerNotification()\r\n\r\n        return Result.success()\r\n    }\r\n}\r\n````\r\n\r\nThe worker only need to handle the notification trigger.\r\n\r\n2. Building the Work Request\r\n\r\nNow create a ```OneTimeWorkRequest``` because you only need to trigger the notification once.\r\n\r\nAlternatively, you could use a ```PeriodicWorkRequest``` for recurring work.\r\n\r\n```kotlin\r\n        val notificationWork = OneTimeWorkRequest.Builder(NotifyWorker::class.java)\r\n            .setInitialDelay(delay) // this is when your notification should be triggered \r\n            .setInputData(inputData) // this is the data you can pass to the NotifyWorker \r\n            .addTag(&quot;notificationWork&quot;)\r\n            .build()\r\n```\r\n\r\nNow that you have created everything you need to schedule the work, you can just ask the WorkManager to queue it to the list of active tasks from the system:\r\n\r\n```\r\n  WorkManager.getInstance(context).enqueue(notificationWork)\r\n```\r\n\r\nAt this point, the WorkManager will add the work to its queue, then determine when it can run and do the work as specified in the first step. And there you go, your notifications will now trigger on time, regardless of **device restarts**, **app force closes**, and without using a bulky service.","title":"Is it possible to run service endlessly in android even after closing the app?","body":"<p>Use the <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager?gclid=CjwKCAiA9tyQBhAIEiwA6tdCrCJhbJlvXFZAhJMcgHIk_rMF02kjFx20HD1v-TC5HBtmf7WZi3GxEhoCqU0QAvD_BwE&amp;gclsrc=aw.ds&amp;authuser=1\" rel=\"nofollow noreferrer\">WorkManager</a> for scheduling task, especially the <code>OneTime</code></p>\n<p>Worker will still &quot;running&quot; event if the app is killed.</p>\n<p>You could do something like that.</p>\n<ol>\n<li>Building the Worker Class</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import android.content.Context\nimport androidx.work.Worker\nimport androidx.work.WorkerParameters\n\nclass NotifyWorker(context: Context, workerParams: WorkerParameters) : Worker(context, workerParams) {\n\n    override fun doWork(): Result {\n        // Method to trigger an instant notification\n        triggerNotification()\n\n        return Result.success()\n    }\n}\n</code></pre>\n<p>The worker only need to handle the notification trigger.</p>\n<ol start=\"2\">\n<li>Building the Work Request</li>\n</ol>\n<p>Now create a <code>OneTimeWorkRequest</code> because you only need to trigger the notification once.</p>\n<p>Alternatively, you could use a <code>PeriodicWorkRequest</code> for recurring work.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>        val notificationWork = OneTimeWorkRequest.Builder(NotifyWorker::class.java)\n            .setInitialDelay(delay) // this is when your notification should be triggered \n            .setInputData(inputData) // this is the data you can pass to the NotifyWorker \n            .addTag(&quot;notificationWork&quot;)\n            .build()\n</code></pre>\n<p>Now that you have created everything you need to schedule the work, you can just ask the WorkManager to queue it to the list of active tasks from the system:</p>\n<pre><code>  WorkManager.getInstance(context).enqueue(notificationWork)\n</code></pre>\n<p>At this point, the WorkManager will add the work to its queue, then determine when it can run and do the work as specified in the first step. And there you go, your notifications will now trigger on time, regardless of <strong>device restarts</strong>, <strong>app force closes</strong>, and without using a bulky service.</p>\n"}],"owner":{"account_id":16515701,"reputation":159,"user_id":11933249,"display_name":"Achal Urankar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1720,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645780574,"creation_date":1645690952,"question_id":71249023,"body_markdown":"I tried alarm manager to give me notification on a scheduled time but if I want to stay subscribed to my server on a topic, by closing the app, connection will be closed, is there anything I can do to stay connected to my server, using web socket or background services. I&#39;ve tried background service, but that too stops after sometime when app is closed, nothing happens to stay alive.","title":"Is it possible to run service endlessly in android even after closing the app?","body":"<p>I tried alarm manager to give me notification on a scheduled time but if I want to stay subscribed to my server on a topic, by closing the app, connection will be closed, is there anything I can do to stay connected to my server, using web socket or background services. I've tried background service, but that too stops after sometime when app is closed, nothing happens to stay alive.</p>\n"},{"tags":["java","cmd","javac"],"comments":[{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":1,"creation_date":1645776751,"post_id":71262828,"comment_id":125965335,"body_markdown":"Run `java Main`?","body":"Run <code>java Main</code>?"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1645776844,"post_id":71262828,"comment_id":125965361,"body_markdown":"`-cp` is for classpath","body":"<code>-cp</code> is for classpath"},{"owner":{"account_id":21283373,"reputation":33,"user_id":17101031,"display_name":"soul king"},"score":0,"creation_date":1645778494,"post_id":71262828,"comment_id":125965844,"body_markdown":"also tried without -cp","body":"also tried without -cp"}],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645779031,"creation_date":1645779031,"answer_id":71263281,"question_id":71262828,"body_markdown":"Your path environment variable for java is not set correctly. You could try to run the command `where java` and most likely it will return a path that is not correct (or nothing).\r\nFind the correct path where your JDK is installed and run this command to add it to the path vars in cmd:\r\n\r\n```cmd\r\nset PATH=%PATH%;C:\\your\\path\\here\\\r\n```\r\n\r\nAn example for my system and path would be:\r\n\r\n```cmd\r\nset PATH=%PATH%;C:\\Program Files\\Java\\jdk-11\\bin\r\n```\r\n\r\nAfter setting this path variable, close and reopen your cmd window and try running `java -version` again.\r\nIf it still doesn&#39;t show anything then you have to manually change your path variables and remove the old path.","title":"java -cp/javac doesn&#39;t work in cmd prompt","body":"<p>Your path environment variable for java is not set correctly. You could try to run the command <code>where java</code> and most likely it will return a path that is not correct (or nothing).\nFind the correct path where your JDK is installed and run this command to add it to the path vars in cmd:</p>\n<pre><code>set PATH=%PATH%;C:\\your\\path\\here\\\n</code></pre>\n<p>An example for my system and path would be:</p>\n<pre><code>set PATH=%PATH%;C:\\Program Files\\Java\\jdk-11\\bin\n</code></pre>\n<p>After setting this path variable, close and reopen your cmd window and try running <code>java -version</code> again.\nIf it still doesn't show anything then you have to manually change your path variables and remove the old path.</p>\n"},{"tags":[],"owner":{"account_id":11107201,"reputation":178,"user_id":8154052,"display_name":"Frank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645779230,"creation_date":1645779230,"answer_id":71263311,"question_id":71262828,"body_markdown":"Make sure that you have correctly set the path to the directory in which you have your java installed. For instance mine is settled in D:\\Program files\\java\\jdk-11.0.2\r\n\r\nSubsequently I set JAVA_HOME as [![JAVA_HOME][1]][1]\r\n\r\n\r\nThen you open **path** variable and new entry as following:\r\n[![path variable][2]][2]\r\n\r\nThen save all changes. Close all running cmd, start it again and then retry java -version\r\n\r\n  [1]: https://i.stack.imgur.com/0gokw.png\r\n  [2]: https://i.stack.imgur.com/sXNjM.png","title":"java -cp/javac doesn&#39;t work in cmd prompt","body":"<p>Make sure that you have correctly set the path to the directory in which you have your java installed. For instance mine is settled in D:\\Program files\\java\\jdk-11.0.2</p>\n<p>Subsequently I set JAVA_HOME as <a href=\"https://i.stack.imgur.com/0gokw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0gokw.png\" alt=\"JAVA_HOME\" /></a></p>\n<p>Then you open <strong>path</strong> variable and new entry as following:\n<a href=\"https://i.stack.imgur.com/sXNjM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sXNjM.png\" alt=\"path variable\" /></a></p>\n<p>Then save all changes. Close all running cmd, start it again and then retry java -version</p>\n"}],"owner":{"account_id":21283373,"reputation":33,"user_id":17101031,"display_name":"soul king"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71263281,"answer_count":2,"score":1,"last_activity_date":1645780428,"creation_date":1645776468,"question_id":71262828,"body_markdown":"I am trying to run mo program by cmd :\r\n - first i try to compile my Main.java by &quot;javac Main.java&quot;, after that i have no msg in cmd\r\n - second i run &quot;java -cp Main&quot;(Main.class with byte code), after that i have no output in cmd\r\nI tryed reinstall my JDK, but it doesn&#39;t help. also when i run &quot;java -version&quot; in cmd i have no output. and no msg.I has set my JAVA_HOME path into JDK dir and set him into my PATH &quot;%JAVA_HOME\\bin&quot;. what i cant do wrong? Pls help\r\n\r\n\r\n [![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BYRQ0.png\r\n  [2]: https://i.stack.imgur.com/hSJWm.png\r\n  [3]: https://i.stack.imgur.com/TTCPt.png","title":"java -cp/javac doesn&#39;t work in cmd prompt","body":"<p>I am trying to run mo program by cmd :</p>\n<ul>\n<li>first i try to compile my Main.java by &quot;javac Main.java&quot;, after that i have no msg in cmd</li>\n<li>second i run &quot;java -cp Main&quot;(Main.class with byte code), after that i have no output in cmd\nI tryed reinstall my JDK, but it doesn't help. also when i run &quot;java -version&quot; in cmd i have no output. and no msg.I has set my JAVA_HOME path into JDK dir and set him into my PATH &quot;%JAVA_HOME\\bin&quot;. what i cant do wrong? Pls help</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/BYRQ0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BYRQ0.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/hSJWm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hSJWm.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/TTCPt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TTCPt.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","multidimensional-array"],"answers":[{"tags":[],"owner":{"account_id":15023140,"reputation":336,"user_id":10843956,"display_name":"Singh3y"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645780424,"creation_date":1645780424,"answer_id":71263531,"question_id":71263447,"body_markdown":"You can print a new line with underscore in another for loop after your initial loop which prints the numbers. Then your inner loop might look something like this. The count of underscore would be the space you&#39;re giving in between each digit\r\n\r\n````\r\nfor (int col = 0; col &lt; multiplicationTable[row].length; col++) {\r\n\r\n    System.out.printf(&quot; %4d |&quot;, multiplicationTable[row][col]);\r\n}\r\nSystem.out.println();\r\nfor (int col = 0; col &lt; multiplicationTable[row].length; col++) {\r\n\r\n    System.out.print(&quot;_______&quot;);\r\n}\r\nSystem.out.println();\r\n````","title":"How to separate by lines a 2d array grid in java?","body":"<p>You can print a new line with underscore in another for loop after your initial loop which prints the numbers. Then your inner loop might look something like this. The count of underscore would be the space you're giving in between each digit</p>\n<pre><code>for (int col = 0; col &lt; multiplicationTable[row].length; col++) {\n\n    System.out.printf(&quot; %4d |&quot;, multiplicationTable[row][col]);\n}\nSystem.out.println();\nfor (int col = 0; col &lt; multiplicationTable[row].length; col++) {\n\n    System.out.print(&quot;_______&quot;);\n}\nSystem.out.println();\n</code></pre>\n"}],"owner":{"account_id":23402003,"reputation":1,"user_id":17465033,"display_name":"Jacek517"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645780424,"creation_date":1645779994,"question_id":71263447,"body_markdown":"I&#39;m trying to to create a basic mutiplication table printed out as a grid 2d integer array, basicly I&#39;m having trouble to sepatate the numbers with lines for example &quot;----&quot; or |-|, anyway, below is the basic 2d integer array already showing a multiplication table. Please help to separate each number with lines to get view as an excell table or smtg like that.\r\n\r\npackage Multip;\r\n\r\npublic class Multitest {\r\n\r\n\tpublic static void main(String[] args) {\r\nint[][] multiplicationTable = new int[10][10];\t\t\r\n\r\n\t\tfor (int row=0; row&lt;10; row++) {\r\n          for (int col=0; col&lt;10; col++) {\r\n        \t  \r\n        multiplicationTable[row][col] = (row+1) * (col+1);\r\n      }\r\n    }\r\n\r\n\t\tfor (int row = 0; row &lt; multiplicationTable.length; row++) {\t\r\n\t\t\t\r\n    for (row = 0; row &lt; multiplicationTable.length; row++) {\r\n\r\n        for (int col = 0; col &lt; multiplicationTable[row].length; col++) {      \t\r\n        \t\r\n           System.out.printf(&quot;%4d&quot;, multiplicationTable[row][col]);\r\n      }       \r\n        System.out.println();\r\n    }\r\n\t\t}\r\n\t}\r\n}","title":"How to separate by lines a 2d array grid in java?","body":"<p>I'm trying to to create a basic mutiplication table printed out as a grid 2d integer array, basicly I'm having trouble to sepatate the numbers with lines for example &quot;----&quot; or |-|, anyway, below is the basic 2d integer array already showing a multiplication table. Please help to separate each number with lines to get view as an excell table or smtg like that.</p>\n<p>package Multip;</p>\n<p>public class Multitest {</p>\n<pre><code>public static void main(String[] args) {\n</code></pre>\n<p>int[][] multiplicationTable = new int[10][10];</p>\n<pre><code>    for (int row=0; row&lt;10; row++) {\n      for (int col=0; col&lt;10; col++) {\n          \n    multiplicationTable[row][col] = (row+1) * (col+1);\n  }\n}\n\n    for (int row = 0; row &lt; multiplicationTable.length; row++) {    \n        \nfor (row = 0; row &lt; multiplicationTable.length; row++) {\n\n    for (int col = 0; col &lt; multiplicationTable[row].length; col++) {       \n        \n       System.out.printf(&quot;%4d&quot;, multiplicationTable[row][col]);\n  }       \n    System.out.println();\n}\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","tomcat7","apache-axis","portal","zk"],"answers":[{"tags":[],"owner":{"account_id":1771823,"reputation":2949,"user_id":1616460,"display_name":"aish"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1388489483,"creation_date":1388489483,"answer_id":20856695,"question_id":16881444,"body_markdown":"This is a strange problem, even after adding all the jars of Apache Axis2 annoying exception is still there. Required class **AxisAdminServlet** is not present in Axis2 libs(1.6.1 in my case). Since its nomore there in framework itself i guess its no longer required, so i removed it from my code.\r\n\r\nYou can get rid of this inside web.xml where call is placed for the servlet.\r\n\r\n![web.xml snapshot][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/jLTDW.png","title":"ClassNotFoundException: org.apache.axis2.transport.http.AxisAdminServlet","body":"<p>This is a strange problem, even after adding all the jars of Apache Axis2 annoying exception is still there. Required class <strong>AxisAdminServlet</strong> is not present in Axis2 libs(1.6.1 in my case). Since its nomore there in framework itself i guess its no longer required, so i removed it from my code.</p>\n\n<p>You can get rid of this inside web.xml where call is placed for the servlet.</p>\n\n<p><img src=\"https://i.stack.imgur.com/jLTDW.png\" alt=\"web.xml snapshot\"></p>\n"},{"tags":[],"owner":{"account_id":129889,"reputation":76,"user_id":328770,"display_name":"Kishore Kumar Karanam"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1418739503,"creation_date":1418739503,"answer_id":27506723,"question_id":16881444,"body_markdown":"There may be below entry in the web.xml\r\n\r\n    &lt;display-name&gt;Apache-Axis Admin Servlet Web Admin&lt;/display-name&gt;\r\n        &lt;servlet-name&gt;AxisAdminServlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.apache.axis2.transport.http.AxisAdminServlet&lt;/servlet-class&gt;\r\n        &lt;load-on-startup&gt;100&lt;/load-on-startup&gt;\r\n      &lt;/servlet&gt;\r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;AxisAdminServlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/axis2-admin/*&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n\r\nIf so, please remove this entry from web.xml which solves the problem.\r\n\r\nRegards,\r\nKishore","title":"ClassNotFoundException: org.apache.axis2.transport.http.AxisAdminServlet","body":"<p>There may be below entry in the web.xml</p>\n\n<pre><code>&lt;display-name&gt;Apache-Axis Admin Servlet Web Admin&lt;/display-name&gt;\n    &lt;servlet-name&gt;AxisAdminServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.apache.axis2.transport.http.AxisAdminServlet&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;100&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;AxisAdminServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/axis2-admin/*&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>If so, please remove this entry from web.xml which solves the problem.</p>\n\n<p>Regards,\nKishore</p>\n"},{"tags":[],"owner":{"account_id":23938788,"reputation":11,"user_id":18307001,"display_name":"R.Agostino.73"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645779537,"creation_date":1645779537,"answer_id":71263365,"question_id":16881444,"body_markdown":"There are differences from axis2 different releases!\r\nIn the axis2 v1.8.0 the web.xml files contains these rows:\r\n```\r\n&lt;servlet&gt;\r\n\t&lt;display-name&gt;Apache-Axis Servlet&lt;/display-name&gt;\r\n\t&lt;servlet-name&gt;AxisServlet&lt;/servlet-name&gt;\r\n\t&lt;servlet-class&gt;org.apache.axis2.webapp.AxisAdminServlet&lt;/servlet-class&gt;\r\n&lt;/servlet&gt;\r\n&lt;servlet&gt;\r\n\t&lt;display-name&gt;Apache-Axis Admin Servlet Web Admin&lt;/display-name&gt;\r\n\t&lt;servlet-name&gt;AxisAdminServlet&lt;/servlet-name&gt;\r\n\t&lt;servlet-class&gt;org.apache.axis2.transport.http.AxisAdminServlet&lt;/servlet-class&gt;\r\n\t&lt;load-on-startup&gt;100&lt;/load-on-startup&gt;\r\n&lt;/servlet&gt;\r\n```\r\nThe axis2 libraries must contains those packages/classes shown at tag **servlet-class**\r\n\r\n","title":"ClassNotFoundException: org.apache.axis2.transport.http.AxisAdminServlet","body":"<p>There are differences from axis2 different releases!\nIn the axis2 v1.8.0 the web.xml files contains these rows:</p>\n<pre><code>&lt;servlet&gt;\n    &lt;display-name&gt;Apache-Axis Servlet&lt;/display-name&gt;\n    &lt;servlet-name&gt;AxisServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.apache.axis2.webapp.AxisAdminServlet&lt;/servlet-class&gt;\n&lt;/servlet&gt;\n&lt;servlet&gt;\n    &lt;display-name&gt;Apache-Axis Admin Servlet Web Admin&lt;/display-name&gt;\n    &lt;servlet-name&gt;AxisAdminServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.apache.axis2.transport.http.AxisAdminServlet&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;100&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n</code></pre>\n<p>The axis2 libraries must contains those packages/classes shown at tag <strong>servlet-class</strong></p>\n"}],"owner":{"account_id":887604,"reputation":572,"user_id":926662,"accept_rate":46,"display_name":"mkazma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22529,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1645779537,"creation_date":1370165134,"question_id":16881444,"body_markdown":"I am developing a web portal using tomcat 7 + ZK framework + axis2 for using web services. After a while I started getting this error :\r\n\r\n\r\n    SEVERE: Servlet /twigo threw load() exception\r\n    java.lang.ClassNotFoundException: org.apache.axis2.transport.http.AxisAdminServlet\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1714)\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)\r\n    \tat org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:532)\r\n    \tat org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:514)\r\n    \tat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:133)\r\n    \tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1137)\r\n    \tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1081)\r\n    \tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5027)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5314)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n    \tat java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\r\n    \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n\r\nMaybe axis2 1.6 isn&#39;t compatible with tomcat 7 ?\r\n","title":"ClassNotFoundException: org.apache.axis2.transport.http.AxisAdminServlet","body":"<p>I am developing a web portal using tomcat 7 + ZK framework + axis2 for using web services. After a while I started getting this error :</p>\n\n<pre><code>SEVERE: Servlet /twigo threw load() exception\njava.lang.ClassNotFoundException: org.apache.axis2.transport.http.AxisAdminServlet\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1714)\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)\n    at org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:532)\n    at org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:514)\n    at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:133)\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1137)\n    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1081)\n    at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5027)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5314)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\n    at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p>Maybe axis2 1.6 isn't compatible with tomcat 7 ?</p>\n"},{"tags":["java","maven","eclipse-plugin","pom.xml","jaxb2-maven-plugin"],"comments":[{"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"score":0,"creation_date":1555613943,"post_id":55752124,"comment_id":98181038,"body_markdown":"well.. what are the files in that directory?","body":"well.. what are the files in that directory?"},{"owner":{"account_id":7230258,"reputation":153,"user_id":6402199,"display_name":"hagan10"},"score":0,"creation_date":1555614049,"post_id":55752124,"comment_id":98181077,"body_markdown":"It&#39;s only my application.properties file, which is blank by the way.","body":"It&#39;s only my application.properties file, which is blank by the way."},{"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"score":1,"creation_date":1555614171,"post_id":55752124,"comment_id":98181117,"body_markdown":"Well if there&#39;s no schema files (`.xsd`) in that directory then no wonder","body":"Well if there&#39;s no schema files (<code>.xsd</code>) in that directory then no wonder"},{"owner":{"account_id":15771747,"reputation":1,"user_id":11380612,"display_name":"thursdaylawyer"},"score":0,"creation_date":1555616315,"post_id":55752124,"comment_id":98181933,"body_markdown":"Um, so... how do I get something there? I&#39;ve tried Maven Update Project...","body":"Um, so... how do I get something there? I&#39;ve tried Maven Update Project..."},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1555667237,"post_id":55752124,"comment_id":98194625,"body_markdown":"Please check the Maven console in Eclipse. Or run `mvn clean install` from the command line and post the output.","body":"Please check the Maven console in Eclipse. Or run <code>mvn clean install</code> from the command line and post the output."},{"owner":{"account_id":9491636,"reputation":160,"user_id":7056207,"display_name":"Amulya Koppula"},"score":0,"creation_date":1646042692,"post_id":55752124,"comment_id":126018480,"body_markdown":"Updating &quot;node&quot; and &quot;npm&quot; versions also can resolve this. According to current versions,\n&lt;configuration&gt;\n\t\t\t\t\t\t\t&lt;nodeVersion&gt;v16.14.0&lt;/nodeVersion&gt;\n\t\t\t\t\t\t\t&lt;nodeDownloadRoot&gt;http://nodejs.org/dist/&lt;/nodeDownloadRoot&gt;\n\t\t\t\t\t\t\t&lt;npmVersion&gt;8.5.2&lt;/npmVersion&gt;\n\t\t\t\t\t\t&lt;/configuration&gt;\nthis helped me resolve issue.","body":"Updating &quot;node&quot; and &quot;npm&quot; versions also can resolve this. According to current versions, &lt;configuration&gt; \t\t\t\t\t\t\t&lt;nodeVersion&gt;v16.14.0&lt;/nodeVersion&gt; \t\t\t\t\t\t\t&lt;nodeDownloadRoot&gt;<a href=\"http://nodejs.org/dist/&lt;/nodeDownloadRoot\" rel=\"nofollow noreferrer\">nodejs.org/dist/&lt;/nodeDownloadRoot</a>&gt; \t\t\t\t\t\t\t&lt;npmVersion&gt;8.5.2&lt;/npmVersion&gt; \t\t\t\t\t\t&lt;/configuration&gt; this helped me resolve issue."}],"answers":[{"tags":[],"owner":{"account_id":9895739,"reputation":11,"user_id":7327336,"display_name":"Farzam Alam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595916707,"creation_date":1595916707,"answer_id":63128043,"question_id":55752124,"body_markdown":"I faced similar problem just make sure xsd file has\r\n\r\n    &lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n    &lt;/xsd:schema&gt;\r\nNot\r\n \r\n    &lt;schema xmlns=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n    &lt;/schema&gt;`\r\n   ","title":"JAXB2 Import: Could not process schema files (in28minutes udemy)","body":"<p>I faced similar problem just make sure xsd file has</p>\n<pre><code>&lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n&lt;/xsd:schema&gt;\n</code></pre>\n<p>Not</p>\n<pre><code>&lt;schema xmlns=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n&lt;/schema&gt;`\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9491636,"reputation":160,"user_id":7056207,"display_name":"Amulya Koppula"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645778506,"creation_date":1645778506,"answer_id":71263193,"question_id":55752124,"body_markdown":"For me, This issue is resolved by keeping `&lt;plugins&gt;&lt;/plugins&gt; content inside &lt;pluginManagement&gt;` tag as below,\r\n\r\n    &lt;build&gt;\r\n    &lt;pluginManagement&gt;\r\n        &lt;plugins&gt; \r\n              &lt;plugin&gt;\r\n               ...\r\n              &lt;/plugin&gt;\r\n              &lt;plugin&gt;\r\n               ...\r\n              &lt;/plugin&gt;\r\n         &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n\r\n","title":"JAXB2 Import: Could not process schema files (in28minutes udemy)","body":"<p>For me, This issue is resolved by keeping <code>&lt;plugins&gt;&lt;/plugins&gt; content inside &lt;pluginManagement&gt;</code> tag as below,</p>\n<pre><code>&lt;build&gt;\n&lt;pluginManagement&gt;\n    &lt;plugins&gt; \n          &lt;plugin&gt;\n           ...\n          &lt;/plugin&gt;\n          &lt;plugin&gt;\n           ...\n          &lt;/plugin&gt;\n     &lt;/plugins&gt;\n&lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":15771747,"reputation":1,"user_id":11380612,"display_name":"thursdaylawyer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3694,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645778506,"creation_date":1555613314,"question_id":55752124,"body_markdown":"I get a &quot;could not process schema files&quot; error on the `&lt;exception&gt;` line when I try to add the JAXB2 plugin... \r\n\r\n**pom.xml**\r\n\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;!-- JAXB2 Maven Plugin --&gt;\r\n\t\t\t&lt;!-- XSD Source Folder --&gt;\r\n\t\t\t&lt;!-- Java Class Source Folder --&gt;\r\n\t\t\t&lt;!-- clear folder -&gt; false --&gt;\r\n\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.6&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;xjc&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;xjc&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;schemaDirectory&gt;${project.basedir}/src/main/resources&lt;/schemaDirectory&gt;\r\n\t\t\t\t\t&lt;outputDirectory&gt;${project.basedir}/src/main/java&lt;/outputDirectory&gt;\r\n\t\t\t\t\t&lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\r\nScreenshot of error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EFRfS.png","title":"JAXB2 Import: Could not process schema files (in28minutes udemy)","body":"<p>I get a \"could not process schema files\" error on the <code>&lt;exception&gt;</code> line when I try to add the JAXB2 plugin... </p>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>    &lt;plugins&gt;\n        &lt;!-- JAXB2 Maven Plugin --&gt;\n        &lt;!-- XSD Source Folder --&gt;\n        &lt;!-- Java Class Source Folder --&gt;\n        &lt;!-- clear folder -&gt; false --&gt;\n    &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.6&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;xjc&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;xjc&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;schemaDirectory&gt;${project.basedir}/src/main/resources&lt;/schemaDirectory&gt;\n                &lt;outputDirectory&gt;${project.basedir}/src/main/java&lt;/outputDirectory&gt;\n                &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n</code></pre>\n\n<p>Screenshot of error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/EFRfS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EFRfS.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["javascript","java","android","node.js","server"],"comments":[{"owner":{"account_id":9249213,"reputation":22744,"user_id":6870228,"display_name":"Keith"},"score":0,"creation_date":1645778697,"post_id":71263120,"comment_id":125965910,"body_markdown":"What you have explained sounds about right, websockets can do everything you mentioned and are supported on both platforms..","body":"What you have explained sounds about right, websockets can do everything you mentioned and are supported on both platforms.."}],"owner":{"account_id":14989006,"reputation":175,"user_id":10820760,"display_name":"ludicrous"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645778066,"creation_date":1645778066,"question_id":71263120,"body_markdown":"For learning purposes I’m creating an Android app that does the following:\r\nWhen a person arrives at school, he/she can check a button in the app and he/she is added in real-time to a list (in the server database) of everyone that also checked “at school” button within the app. He/she can also add a message before clicking the button.\r\nThe rest of the students then receive a toast in real-time with the person’s name that arrived and it’s message.\r\n\r\nI know how to do the Android part, but what is the best way to do the real-time event queries and requests in communication with the server? For example, I send a socket with the persons confirmation, location and message to the server. From the server-side, I supose there’s a nodejs controller that receives the socket and updates the database in sql. Then it sends a socket to every client online and a confirmation to the checked client.\r\n\r\nIs this the “professional” way to handle data like this? What is the best (fastest, more secure, standard) way? When I Google how to make this communication I can only find web server client-server communication with Apache, but I’m really looking for a real-time event with an Android app.\r\n\r\nI’m not really looking for code but to know and understand technologies and design patterns on how this can be done. And what to search for in order to learn how to do this.","title":"Real-time sockets between Android and server","body":"<p>For learning purposes I’m creating an Android app that does the following:\nWhen a person arrives at school, he/she can check a button in the app and he/she is added in real-time to a list (in the server database) of everyone that also checked “at school” button within the app. He/she can also add a message before clicking the button.\nThe rest of the students then receive a toast in real-time with the person’s name that arrived and it’s message.</p>\n<p>I know how to do the Android part, but what is the best way to do the real-time event queries and requests in communication with the server? For example, I send a socket with the persons confirmation, location and message to the server. From the server-side, I supose there’s a nodejs controller that receives the socket and updates the database in sql. Then it sends a socket to every client online and a confirmation to the checked client.</p>\n<p>Is this the “professional” way to handle data like this? What is the best (fastest, more secure, standard) way? When I Google how to make this communication I can only find web server client-server communication with Apache, but I’m really looking for a real-time event with an Android app.</p>\n<p>I’m not really looking for code but to know and understand technologies and design patterns on how this can be done. And what to search for in order to learn how to do this.</p>\n"},{"tags":["java","jenkins","jenkins-pipeline","agent","jenkins-cli"],"answers":[{"tags":[],"owner":{"account_id":1431309,"reputation":244,"user_id":1353688,"display_name":"Bilawal Wajid Ali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636111399,"creation_date":1636111399,"answer_id":69852495,"question_id":69822434,"body_markdown":"Incase any one in future might search for this here is an answer to that problem\r\n\r\nThe problem does not lies within the jenkins agent or jenkins master but it is the problem with jnlp launcher as with Open web start\r\n\r\nWhen I tried to connect my agent via cmd running command and passing agent.jar it connects to my master and works fine \r\nso any one in future ever encounter problem like this dont touch or change your jdk setting for master or agent but tried to figure out the security / certificate settings of java web start or Open web start whatever you are using\r\n\r\nThanks","title":"Jenkins agent crashed/Terminated Caused by: java.security.AccessControlException:","body":"<p>Incase any one in future might search for this here is an answer to that problem</p>\n<p>The problem does not lies within the jenkins agent or jenkins master but it is the problem with jnlp launcher as with Open web start</p>\n<p>When I tried to connect my agent via cmd running command and passing agent.jar it connects to my master and works fine\nso any one in future ever encounter problem like this dont touch or change your jdk setting for master or agent but tried to figure out the security / certificate settings of java web start or Open web start whatever you are using</p>\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":24374384,"reputation":1,"user_id":18306923,"display_name":"Nikhil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645777942,"creation_date":1645777942,"answer_id":71263098,"question_id":69822434,"body_markdown":"For windows node only \r\nThere are some dependecies, keep them at same location ([dependecies][1])\r\nYou can create the service manually if you have reference. or follow the below steps: \r\n1.  create service using below command: \r\n  sc create &quot;service_name&quot; binpath= &quot;path to jenkins-slave.exe&quot; start=auto \r\n2. Open RUN, type regedit --&gt; this will take you to registry editor.\r\n3. on editor find your service: \r\n    HKEY_LOCAL_MACHINE -&gt; SYSTEM -&gt; CurrentControlSet -&gt; Services -&gt; jenkins_slave (name is same as step 1)\r\n4. Click on service name and edit Object name (put a user that has access to this machine) -- save\r\n5. open services.msc and open jenkins_slave properties --&gt; Logon --&gt; enter password for user put in step 4.\r\n6. start the service -- boom jenkins node is connected :D\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zy9OL.png","title":"Jenkins agent crashed/Terminated Caused by: java.security.AccessControlException:","body":"<p>For windows node only\nThere are some dependecies, keep them at same location (<a href=\"https://i.stack.imgur.com/zy9OL.png\" rel=\"nofollow noreferrer\">dependecies</a>)\nYou can create the service manually if you have reference. or follow the below steps:</p>\n<ol>\n<li>create service using below command:\nsc create &quot;service_name&quot; binpath= &quot;path to jenkins-slave.exe&quot; start=auto</li>\n<li>Open RUN, type regedit --&gt; this will take you to registry editor.</li>\n<li>on editor find your service:\nHKEY_LOCAL_MACHINE -&gt; SYSTEM -&gt; CurrentControlSet -&gt; Services -&gt; jenkins_slave (name is same as step 1)</li>\n<li>Click on service name and edit Object name (put a user that has access to this machine) -- save</li>\n<li>open services.msc and open jenkins_slave properties --&gt; Logon --&gt; enter password for user put in step 4.</li>\n<li>start the service -- boom jenkins node is connected :D</li>\n</ol>\n"}],"owner":{"account_id":1431309,"reputation":244,"user_id":1353688,"display_name":"Bilawal Wajid Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3060,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1645777942,"creation_date":1635931609,"question_id":69822434,"body_markdown":"    Nov 02, 2021 9:53:03 AM org.jenkinsci.remoting.engine.JnlpAgentEndpointResolver resolve\r\n    INFORMATION: Remoting server accepts the following protocols: [JNLP4-connect, Ping]\r\n    Nov 02, 2021 9:53:03 AM org.jenkinsci.remoting.protocol.impl.BIONetworkLayer$Reader run\r\n    INFORMATION: Waiting for ProtocolStack to start.\r\n    Nov 02, 2021 9:53:08 AM hudson.remoting.UserRequest perform\r\n    WARNUNG: LinkageError while performing UserRequest:hudson.slaves.SlaveComputer$SlaveInitializer@6cfcc55d\r\n    java.lang.ExceptionInInitializerError\r\n    \r\n    \r\n            at hudson.slaves.SlaveComputer$SlaveInitializer.call(SlaveComputer.java:1042)\r\n        \tat hudson.slaves.SlaveComputer$SlaveInitializer.call(SlaveComputer.java:1033)\r\n        \tat hudson.remoting.UserRequest.perform(UserRequest.java:211)\r\n        \tat hudson.remoting.UserRequest.perform(UserRequest.java:54)\r\n        \tat hudson.remoting.Request$2.run(Request.java:376)\r\n        \tat hudson.remoting.InterceptingExecutorService.lambda$wrap$0(InterceptingExecutorService.java:78)\r\n        \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n        \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n        \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n        \tat hudson.remoting.Engine$1.lambda$newThread$0(Engine.java:122)\r\n        \tat java.lang.Thread.run(Unknown Source)\r\n        Caused by: java.security.AccessControlException: access denied (&quot;java.util.PropertyPermission&quot; &quot;hudson.util.RingBufferLogHandler.defaultSize&quot; &quot;read&quot;)\r\n        \tat java.security.AccessControlContext.checkPermission(Unknown Source)\r\n        \tat java.security.AccessController.checkPermission(Unknown Source)\r\n        \tat java.lang.SecurityManager.checkPermission(Unknown Source)\r\n        \tat com.sun.javaws.security.JavaWebStartSecurity.checkPermission(Unknown Source)\r\n        \tat java.lang.SecurityManager.checkPropertyAccess(Unknown Source)\r\n        \tat java.lang.System.getProperty(Unknown Source)\r\n        \tat java.lang.Integer.getInteger(Unknown Source)\r\n        \tat java.lang.Integer.getInteger(Unknown Source)\r\n        \tat hudson.util.RingBufferLogHandler.&lt;clinit&gt;(RingBufferLogHandler.java:39)\r\n        \t... 11 more\r\n\r\n\r\n\r\nI have jenkins agent running on windows 10 , when i start the agent via jnlp file its connect i can see &quot;Connected&quot; but then Terminated the next second , when I went into the Jenkins/remoting/logs i found out this error , any one can please help what is the issue and why its getting terminated after connection\r\n\r\nMy windows agent have OpenJDK 1.8.0\r\nFor Jnlp I am using open web start\r\nJenkins is of latest version 2.318 on agent and master\r\nMy master is of linux\r\n\r\nFollowing steps I already tried\r\nI updated my agent JDK to JDK11 but no success so I just downgrade it , i tried to restart/reboot but nothing can helped \r\n\r\nPlease any jenkins expert can help me with this","title":"Jenkins agent crashed/Terminated Caused by: java.security.AccessControlException:","body":"<pre><code>Nov 02, 2021 9:53:03 AM org.jenkinsci.remoting.engine.JnlpAgentEndpointResolver resolve\nINFORMATION: Remoting server accepts the following protocols: [JNLP4-connect, Ping]\nNov 02, 2021 9:53:03 AM org.jenkinsci.remoting.protocol.impl.BIONetworkLayer$Reader run\nINFORMATION: Waiting for ProtocolStack to start.\nNov 02, 2021 9:53:08 AM hudson.remoting.UserRequest perform\nWARNUNG: LinkageError while performing UserRequest:hudson.slaves.SlaveComputer$SlaveInitializer@6cfcc55d\njava.lang.ExceptionInInitializerError\n\n\n        at hudson.slaves.SlaveComputer$SlaveInitializer.call(SlaveComputer.java:1042)\n        at hudson.slaves.SlaveComputer$SlaveInitializer.call(SlaveComputer.java:1033)\n        at hudson.remoting.UserRequest.perform(UserRequest.java:211)\n        at hudson.remoting.UserRequest.perform(UserRequest.java:54)\n        at hudson.remoting.Request$2.run(Request.java:376)\n        at hudson.remoting.InterceptingExecutorService.lambda$wrap$0(InterceptingExecutorService.java:78)\n        at java.util.concurrent.FutureTask.run(Unknown Source)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n        at hudson.remoting.Engine$1.lambda$newThread$0(Engine.java:122)\n        at java.lang.Thread.run(Unknown Source)\n    Caused by: java.security.AccessControlException: access denied (&quot;java.util.PropertyPermission&quot; &quot;hudson.util.RingBufferLogHandler.defaultSize&quot; &quot;read&quot;)\n        at java.security.AccessControlContext.checkPermission(Unknown Source)\n        at java.security.AccessController.checkPermission(Unknown Source)\n        at java.lang.SecurityManager.checkPermission(Unknown Source)\n        at com.sun.javaws.security.JavaWebStartSecurity.checkPermission(Unknown Source)\n        at java.lang.SecurityManager.checkPropertyAccess(Unknown Source)\n        at java.lang.System.getProperty(Unknown Source)\n        at java.lang.Integer.getInteger(Unknown Source)\n        at java.lang.Integer.getInteger(Unknown Source)\n        at hudson.util.RingBufferLogHandler.&lt;clinit&gt;(RingBufferLogHandler.java:39)\n        ... 11 more\n</code></pre>\n<p>I have jenkins agent running on windows 10 , when i start the agent via jnlp file its connect i can see &quot;Connected&quot; but then Terminated the next second , when I went into the Jenkins/remoting/logs i found out this error , any one can please help what is the issue and why its getting terminated after connection</p>\n<p>My windows agent have OpenJDK 1.8.0\nFor Jnlp I am using open web start\nJenkins is of latest version 2.318 on agent and master\nMy master is of linux</p>\n<p>Following steps I already tried\nI updated my agent JDK to JDK11 but no success so I just downgrade it , i tried to restart/reboot but nothing can helped</p>\n<p>Please any jenkins expert can help me with this</p>\n"},{"tags":["java","spring-data","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1479209914,"creation_date":1479209914,"answer_id":40608937,"question_id":40605834,"body_markdown":"I think you are aware of  `CrudRepository.save()` is used for both insert and update. If an Id is non existing then it will considered an insert if Id is existing it will be considered update. You may get an Exception if your send the Id as null.\r\n\r\nSince you don&#39;t have any other annotations apart from `@Id` on your `id` variable, The Unique Id generation must be handled by your code Or else you need to make use of `@GeneratedValue` annotation. \r\n\r\n","title":"Spring JpaRepositroy.save() does not appear to throw exception on duplicate saves","body":"<p>I think you are aware of  <code>CrudRepository.save()</code> is used for both insert and update. If an Id is non existing then it will considered an insert if Id is existing it will be considered update. You may get an Exception if your send the Id as null.</p>\n\n<p>Since you don't have any other annotations apart from <code>@Id</code> on your <code>id</code> variable, The Unique Id generation must be handled by your code Or else you need to make use of <code>@GeneratedValue</code> annotation. </p>\n"},{"tags":[],"owner":{"account_id":2250278,"reputation":1074,"user_id":1982646,"accept_rate":100,"display_name":"Verric"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1479425370,"creation_date":1479425370,"answer_id":40666907,"question_id":40605834,"body_markdown":"To build upon Shazins answer and to clarify. the *CrudRepositroy.save()* or *JpaRespository.saveAndFlush()* both delegate to the following method\r\n\r\nSimpleJpaRepository.java\r\n\r\n\t@Transactional\r\n\tpublic &lt;S extends T&gt; S save(S entity) {\r\n\r\n\t\tif (entityInformation.isNew(entity)) {\r\n\t\t\tem.persist(entity);\r\n\t\t\treturn entity;\r\n\t\t} else {\r\n\t\t\treturn em.merge(entity);\r\n\t\t}\r\n\t}\r\n\r\nHence if a user tries to **create** a new entity that so happens to have the same id as an existing entity Spring data will just update that entity.\r\n\r\nTo achieve what I originally wanted the only thing I could find was to drop back down to JPA solely, that is\r\n\r\n    @Transactional\r\n    @PostMapping(&quot;/createProduct&quot;)\r\n    public Product createProduct(@RequestBody @Valid Product product) {\r\n        try {\r\n            entityManager.persist(product);\r\n            entityManager.flush();\r\n        }catch (RuntimeException ex) {\r\n            System.err.println(ex.getCause().getMessage());\r\n        }\r\n\r\n        return product;\r\n    }\r\n\r\nHere if we try to persist and **new** entity with an id already existing in the database it will throw will throw the constraint violation exception  as we originally wanted.\r\n","title":"Spring JpaRepositroy.save() does not appear to throw exception on duplicate saves","body":"<p>To build upon Shazins answer and to clarify. the <em>CrudRepositroy.save()</em> or <em>JpaRespository.saveAndFlush()</em> both delegate to the following method</p>\n\n<p>SimpleJpaRepository.java</p>\n\n<pre><code>@Transactional\npublic &lt;S extends T&gt; S save(S entity) {\n\n    if (entityInformation.isNew(entity)) {\n        em.persist(entity);\n        return entity;\n    } else {\n        return em.merge(entity);\n    }\n}\n</code></pre>\n\n<p>Hence if a user tries to <strong>create</strong> a new entity that so happens to have the same id as an existing entity Spring data will just update that entity.</p>\n\n<p>To achieve what I originally wanted the only thing I could find was to drop back down to JPA solely, that is</p>\n\n<pre><code>@Transactional\n@PostMapping(\"/createProduct\")\npublic Product createProduct(@RequestBody @Valid Product product) {\n    try {\n        entityManager.persist(product);\n        entityManager.flush();\n    }catch (RuntimeException ex) {\n        System.err.println(ex.getCause().getMessage());\n    }\n\n    return product;\n}\n</code></pre>\n\n<p>Here if we try to persist and <strong>new</strong> entity with an id already existing in the database it will throw will throw the constraint violation exception  as we originally wanted.</p>\n"},{"tags":[],"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1580817865,"creation_date":1502966266,"answer_id":45732869,"question_id":40605834,"body_markdown":"My solution is a lot cleaner. Spring Data already provides a nice way for us to define how an entity is considered to be new. This can easily be done by implementing [`Persistable`](http://docs.spring.io/spring-data/data-commons/docs/current/api/index.html?org/springframework/data/domain/Persistable.html) on our entities, as [documented in the reference][1].\r\n\r\nIn my case, as is the OP&#39;s, the IDs come from an external source and cannot be auto generated. So the default logic used by Spring Data to consider an entity as new if the ID is null wouldn&#39;t have worked.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Entity\r\n    public class MyEntity implements Persistable&lt;UUID&gt; {\r\n        \r\n        @Id\r\n        private UUID id;\r\n    \r\n        @Transient\r\n        private boolean update;\r\n    \r\n        @Override\r\n        public UUID getId() {\r\n            return this.id;\r\n        }\r\n        \r\n        public void setId(UUID id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public boolean isUpdate() {\r\n            return this.update;\r\n        }\r\n    \r\n        public void setUpdate(boolean update) {\r\n            this.update = update;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isNew() {\r\n            return !this.update;\r\n        }\r\n\r\n        @PrePersist\r\n        @PostLoad\r\n        void markUpdated() {\r\n            this.update = true;\r\n        }\r\n    }\r\n\r\nHere, I have provided a mechanism for the entity to express whether it considers itself new or not by means of another transient boolean property called `update`. As the default value of `update` will be `false`, all entities of this type are considered new and will result in a `DataIntegrityViolationException` being thrown when you attempt to call `repository.save(entity)` with the same ID.\r\n\r\nIf you do wish to perform a merge, you can always set the `update` property to `true` before attempting a save. Of course, if your use case never requires you to update entities, you can always return `true` from the `isNew` method and get rid of the `update` field.\r\n\r\nThe advantages of this approach over checking whether an entity with the same ID already exists in the database before saving are many:\r\n\r\n1. Avoids an extra round trip to the database\r\n2. We cannot guarantee that by the time one thread has determined that this entity doesn&#39;t exist and is about to persist, another thread doesn&#39;t attempt to do the same and result in inconsistent data.\r\n3. Better performance as a result of 1 and having to avoid expensive locking mechanisms.\r\n4. Atomic\r\n5. Simple\r\n\r\nEDIT: Don&#39;t forget to implement a method using JPA callbacks that sets the correct state of the `update` boolean field just before persisting and just after loading from the database. If you forget to do this, calling `deleteAll` on the JPA repository will have no effect as I painfully found out. This is because the Spring Data implementation of `deleteAll` now checks if the entity is new before performing the delete. If your `isNew` method returns true, the entity will never be considered for deletion.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-persistence.saving-entites.strategies","title":"Spring JpaRepositroy.save() does not appear to throw exception on duplicate saves","body":"<p>My solution is a lot cleaner. Spring Data already provides a nice way for us to define how an entity is considered to be new. This can easily be done by implementing <a href=\"http://docs.spring.io/spring-data/data-commons/docs/current/api/index.html?org/springframework/data/domain/Persistable.html\" rel=\"noreferrer\"><code>Persistable</code></a> on our entities, as <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-persistence.saving-entites.strategies\" rel=\"noreferrer\">documented in the reference</a>.</p>\n\n<p>In my case, as is the OP's, the IDs come from an external source and cannot be auto generated. So the default logic used by Spring Data to consider an entity as new if the ID is null wouldn't have worked.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class MyEntity implements Persistable&lt;UUID&gt; {\n\n    @Id\n    private UUID id;\n\n    @Transient\n    private boolean update;\n\n    @Override\n    public UUID getId() {\n        return this.id;\n    }\n\n    public void setId(UUID id) {\n        this.id = id;\n    }\n\n    public boolean isUpdate() {\n        return this.update;\n    }\n\n    public void setUpdate(boolean update) {\n        this.update = update;\n    }\n\n    @Override\n    public boolean isNew() {\n        return !this.update;\n    }\n\n    @PrePersist\n    @PostLoad\n    void markUpdated() {\n        this.update = true;\n    }\n}\n</code></pre>\n\n<p>Here, I have provided a mechanism for the entity to express whether it considers itself new or not by means of another transient boolean property called <code>update</code>. As the default value of <code>update</code> will be <code>false</code>, all entities of this type are considered new and will result in a <code>DataIntegrityViolationException</code> being thrown when you attempt to call <code>repository.save(entity)</code> with the same ID.</p>\n\n<p>If you do wish to perform a merge, you can always set the <code>update</code> property to <code>true</code> before attempting a save. Of course, if your use case never requires you to update entities, you can always return <code>true</code> from the <code>isNew</code> method and get rid of the <code>update</code> field.</p>\n\n<p>The advantages of this approach over checking whether an entity with the same ID already exists in the database before saving are many:</p>\n\n<ol>\n<li>Avoids an extra round trip to the database</li>\n<li>We cannot guarantee that by the time one thread has determined that this entity doesn't exist and is about to persist, another thread doesn't attempt to do the same and result in inconsistent data.</li>\n<li>Better performance as a result of 1 and having to avoid expensive locking mechanisms.</li>\n<li>Atomic</li>\n<li>Simple</li>\n</ol>\n\n<p>EDIT: Don't forget to implement a method using JPA callbacks that sets the correct state of the <code>update</code> boolean field just before persisting and just after loading from the database. If you forget to do this, calling <code>deleteAll</code> on the JPA repository will have no effect as I painfully found out. This is because the Spring Data implementation of <code>deleteAll</code> now checks if the entity is new before performing the delete. If your <code>isNew</code> method returns true, the entity will never be considered for deletion.</p>\n"},{"tags":[],"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645777668,"creation_date":1592233362,"answer_id":62391135,"question_id":40605834,"body_markdown":"Note that there are 3 scenarios here:\r\n\r\n### 1. Setting ID manually\r\nIf there is no choice(like the OP), i.e if you are setting your own id &quot;manually&quot;, Spring Data JPA is assuming that you want to check if there are duplicates(hence the **SELECT**), so it will do a **&quot;(i)SELECT + (ii)INSERT&quot;** if there is no existing record *or* a **&quot;(i)SELECT + (ii)UPDATE&quot;** if there is already an existing record. \r\n\r\nIn short, 2 SQLs!&lt;br&gt;&lt;br&gt;\r\n\r\n### 2. Use an ID Generator\r\nCleaner &amp; better, for example:\r\n   \r\n\r\n     @Id\r\n     @GeneratedValue(generator = &quot;my-uuid&quot;)\r\n     @GenericGenerator(name = &quot;my-uuid&quot;, strategy = &quot;uuid2&quot;)\r\n     private UUID id;\r\n\r\nResult: there is **ALWAYS** only **1 INSERT** statement.&lt;br&gt;&lt;br&gt;\r\n\r\n### 3. Implement Persistable and isNew()\r\nThis has already been brilliantly answered by @adarshr, but is also more painful, i.e to implement `Persistable`(instead of `Serializable`), and implement the `isNew()` method. \r\n\r\nResult: Also, **1 INSERT** statement.","title":"Spring JpaRepositroy.save() does not appear to throw exception on duplicate saves","body":"<p>Note that there are 3 scenarios here:</p>\n<h3>1. Setting ID manually</h3>\n<p>If there is no choice(like the OP), i.e if you are setting your own id &quot;manually&quot;, Spring Data JPA is assuming that you want to check if there are duplicates(hence the <strong>SELECT</strong>), so it will do a <strong>&quot;(i)SELECT + (ii)INSERT&quot;</strong> if there is no existing record <em>or</em> a <strong>&quot;(i)SELECT + (ii)UPDATE&quot;</strong> if there is already an existing record.</p>\n<p>In short, 2 SQLs!<br><br></p>\n<h3>2. Use an ID Generator</h3>\n<p>Cleaner &amp; better, for example:</p>\n<pre><code> @Id\n @GeneratedValue(generator = &quot;my-uuid&quot;)\n @GenericGenerator(name = &quot;my-uuid&quot;, strategy = &quot;uuid2&quot;)\n private UUID id;\n</code></pre>\n<p>Result: there is <strong>ALWAYS</strong> only <strong>1 INSERT</strong> statement.<br><br></p>\n<h3>3. Implement Persistable and isNew()</h3>\n<p>This has already been brilliantly answered by @adarshr, but is also more painful, i.e to implement <code>Persistable</code>(instead of <code>Serializable</code>), and implement the <code>isNew()</code> method.</p>\n<p>Result: Also, <strong>1 INSERT</strong> statement.</p>\n"},{"tags":[],"owner":{"account_id":9998469,"reputation":131,"user_id":7395303,"display_name":"Tomas Pinto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612716185,"creation_date":1612716185,"answer_id":66090381,"question_id":40605834,"body_markdown":"\r\n\r\nAccording to [Spring Data documentation][1] Spring persists an entity if does not exists or merge, this means update, the existing one:\r\n\r\n&gt; Saving an entity can be performed via the CrudRepository.save(…)-Method. It will persist or merge the given entity using the underlying JPA EntityManager. If the entity has not been persisted yet Spring Data JPA will save the entity via a call to the entityManager.persist(…)-Method, otherwise the entityManager.merge(…)-Method will be called.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/1.5.0.RELEASE/reference/html/jpa.repositories.html","title":"Spring JpaRepositroy.save() does not appear to throw exception on duplicate saves","body":"<p>According to <a href=\"https://docs.spring.io/spring-data/jpa/docs/1.5.0.RELEASE/reference/html/jpa.repositories.html\" rel=\"nofollow noreferrer\">Spring Data documentation</a> Spring persists an entity if does not exists or merge, this means update, the existing one:</p>\n<blockquote>\n<p>Saving an entity can be performed via the CrudRepository.save(…)-Method. It will persist or merge the given entity using the underlying JPA EntityManager. If the entity has not been persisted yet Spring Data JPA will save the entity via a call to the entityManager.persist(…)-Method, otherwise the entityManager.merge(…)-Method will be called.</p>\n</blockquote>\n"}],"owner":{"account_id":2250278,"reputation":1074,"user_id":1982646,"accept_rate":100,"display_name":"Verric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89456,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":40608937,"answer_count":5,"score":40,"last_activity_date":1645777668,"creation_date":1479200887,"question_id":40605834,"body_markdown":"I&#39;m currently playing around on Spring boot 1.4.2 in which I&#39;ve pulled in Spring-boot-starter-web and Spring-boot-starter-jpa.\r\n\r\nMy main issue is that when I save a new entity it works fine (all cool).\r\n\r\nHowever if I save a new product entity with the same id (eg a duplicate entry), it does not throw an exception. I was expecting ConstrintViolationException or something similar.\r\n\r\n\r\nGiven the following set up:\r\n\r\nApplication.java\r\n\r\n    @SpringBootApplication\r\n    public class Application {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n\r\nProductRepository.java\r\n\r\n    @Repository\r\n    public interface ProductRepository extends JpaRepository&lt;Product, String&gt; {}\r\n\r\nJpaConfig.java\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(basePackages = &quot;com.verric.jpa.repository&quot; )\r\n    @EntityScan(basePackageClasses =&quot;com.verric.jpa&quot;)\r\n    @EnableTransactionManagement\r\n    public class JpaConfig {\r\n    \r\n        @Bean\r\n        JpaTransactionManager transactionManager() {\r\n            return new JpaTransactionManager();\r\n        }\r\n    }\r\n\r\n\r\nNote JpaConfig.java and Application.java are in the same package.\r\n\r\nProductController.java\r\n\r\n    @RestController\r\n    @RequestMapping(path = &quot;/product&quot;)\r\n    public class ProductController {\r\n    \r\n        @Autowired\r\n        ProductRepository productRepository;\r\n    \r\n        @PostMapping(&quot;createProduct&quot;)\r\n        public void handle(@RequestBody @Valid CreateProductRequest request) {\r\n            Product product = new Product(request.getId(), request.getName(), request.getPrice(), request.isTaxable());\r\n            try {\r\n                productRepository.save(product);\r\n            } catch (DataAccessException ex) {\r\n                System.out.println(ex.getCause().getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\nand finally Product.java\r\n\r\n    @Entity(name = &quot;product&quot;)\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @EqualsAndHashCode(of = &quot;id&quot;)\r\n    public class Product {\r\n    \r\n        protected Product() { /* jpa constructor*/ }\r\n    \r\n        @Id\r\n        private String id;\r\n    \r\n        @Column\r\n        private String name;\r\n    \r\n        @Column\r\n        private Long price;\r\n    \r\n        @Column\r\n        private Boolean taxable;\r\n    }\r\n\r\nThe getter, setter and equalsHashcode.. are [lombok][1] annotations.\r\n\r\n\r\n\r\n**Miscellaneous:**\r\n\r\nSpring boot : 1.4.2\r\n\r\nHibernate ORM: 5.2.2.FINAL\r\n\r\nThis issue happens regardless if I annotate the controller with or without `@Transactional`\r\n\r\nThe underlying db shows the exception clearly \r\n\r\n    2016-11-15 18:03:49 AEDT [40794-1] verric@stuff ERROR:  duplicate key value violates unique constraint &quot;product_pkey&quot;\r\n    2016-11-15 18:03:49 AEDT [40794-2] verric@stuff DETAIL:  Key (id)=(test001) already exists\r\n\r\n\r\nI know that is better (more common) to break the data access stuff into its own service layer instead of dumping it in the controller\r\n\r\nThe semantics of the controller aren&#39;t ReST\r\n\r\n\r\n**Things I&#39;ve tried:**\r\n\r\nhttps://stackoverflow.com/questions/23325413/spring-crudrepository-exceptions\r\n\r\nI&#39;ve tried implementing the answer from this question, unfortunately my code never ever hits the DataAccesException exception \r\n\r\nhttps://stackoverflow.com/questions/25266248/does-spring-jpa-throw-an-error-if-save-function-is-unsuccessful\r\n\r\nAgain similar response to the question above.\r\n\r\nhttp://www.baeldung.com/spring-dataIntegrityviolationexception\r\n\r\nI tried adding the bean to my JPAconfig.java class that is:\r\n\r\n\r\n       @Bean\r\n       public PersistenceExceptionTranslationPostProcessor exceptionTranslation(){\r\n          return new PersistenceExceptionTranslationPostProcessor();\r\n       }\r\n\r\nBut nothing seemed to happen.\r\n\r\nSorry for long post, ty in advance\r\n\r\n  [1]: https://projectlombok.org/","title":"Spring JpaRepositroy.save() does not appear to throw exception on duplicate saves","body":"<p>I'm currently playing around on Spring boot 1.4.2 in which I've pulled in Spring-boot-starter-web and Spring-boot-starter-jpa.</p>\n\n<p>My main issue is that when I save a new entity it works fine (all cool).</p>\n\n<p>However if I save a new product entity with the same id (eg a duplicate entry), it does not throw an exception. I was expecting ConstrintViolationException or something similar.</p>\n\n<p>Given the following set up:</p>\n\n<p>Application.java</p>\n\n<pre><code>@SpringBootApplication\npublic class Application {\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n</code></pre>\n\n<p>ProductRepository.java</p>\n\n<pre><code>@Repository\npublic interface ProductRepository extends JpaRepository&lt;Product, String&gt; {}\n</code></pre>\n\n<p>JpaConfig.java</p>\n\n<pre><code>@Configuration\n@EnableJpaRepositories(basePackages = \"com.verric.jpa.repository\" )\n@EntityScan(basePackageClasses =\"com.verric.jpa\")\n@EnableTransactionManagement\npublic class JpaConfig {\n\n    @Bean\n    JpaTransactionManager transactionManager() {\n        return new JpaTransactionManager();\n    }\n}\n</code></pre>\n\n<p>Note JpaConfig.java and Application.java are in the same package.</p>\n\n<p>ProductController.java</p>\n\n<pre><code>@RestController\n@RequestMapping(path = \"/product\")\npublic class ProductController {\n\n    @Autowired\n    ProductRepository productRepository;\n\n    @PostMapping(\"createProduct\")\n    public void handle(@RequestBody @Valid CreateProductRequest request) {\n        Product product = new Product(request.getId(), request.getName(), request.getPrice(), request.isTaxable());\n        try {\n            productRepository.save(product);\n        } catch (DataAccessException ex) {\n            System.out.println(ex.getCause().getMessage());\n        }\n    }\n}\n</code></pre>\n\n<p>and finally Product.java</p>\n\n<pre><code>@Entity(name = \"product\")\n@Getter\n@Setter\n@AllArgsConstructor\n@EqualsAndHashCode(of = \"id\")\npublic class Product {\n\n    protected Product() { /* jpa constructor*/ }\n\n    @Id\n    private String id;\n\n    @Column\n    private String name;\n\n    @Column\n    private Long price;\n\n    @Column\n    private Boolean taxable;\n}\n</code></pre>\n\n<p>The getter, setter and equalsHashcode.. are <a href=\"https://projectlombok.org/\" rel=\"noreferrer\">lombok</a> annotations.</p>\n\n<p><strong>Miscellaneous:</strong></p>\n\n<p>Spring boot : 1.4.2</p>\n\n<p>Hibernate ORM: 5.2.2.FINAL</p>\n\n<p>This issue happens regardless if I annotate the controller with or without <code>@Transactional</code></p>\n\n<p>The underlying db shows the exception clearly </p>\n\n<pre><code>2016-11-15 18:03:49 AEDT [40794-1] verric@stuff ERROR:  duplicate key value violates unique constraint \"product_pkey\"\n2016-11-15 18:03:49 AEDT [40794-2] verric@stuff DETAIL:  Key (id)=(test001) already exists\n</code></pre>\n\n<p>I know that is better (more common) to break the data access stuff into its own service layer instead of dumping it in the controller</p>\n\n<p>The semantics of the controller aren't ReST</p>\n\n<p><strong>Things I've tried:</strong></p>\n\n<p><a href=\"https://stackoverflow.com/questions/23325413/spring-crudrepository-exceptions\">Spring CrudRepository exceptions</a></p>\n\n<p>I've tried implementing the answer from this question, unfortunately my code never ever hits the DataAccesException exception </p>\n\n<p><a href=\"https://stackoverflow.com/questions/25266248/does-spring-jpa-throw-an-error-if-save-function-is-unsuccessful\">Does Spring JPA throw an error if save function is unsuccessful?</a></p>\n\n<p>Again similar response to the question above.</p>\n\n<p><a href=\"http://www.baeldung.com/spring-dataIntegrityviolationexception\" rel=\"noreferrer\">http://www.baeldung.com/spring-dataIntegrityviolationexception</a></p>\n\n<p>I tried adding the bean to my JPAconfig.java class that is:</p>\n\n<pre><code>   @Bean\n   public PersistenceExceptionTranslationPostProcessor exceptionTranslation(){\n      return new PersistenceExceptionTranslationPostProcessor();\n   }\n</code></pre>\n\n<p>But nothing seemed to happen.</p>\n\n<p>Sorry for long post, ty in advance</p>\n"},{"tags":["java","guava"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1645774984,"post_id":71262504,"comment_id":125964837,"body_markdown":"No exceptions thrown? What is the OUTPUT you get when you run this code?","body":"No exceptions thrown? What is the OUTPUT you get when you run this code?"},{"owner":{"account_id":19134754,"reputation":1,"user_id":13975942,"display_name":"Scarlett H"},"score":0,"creation_date":1645775416,"post_id":71262504,"comment_id":125964964,"body_markdown":"I just updated the code(accidentally deleted &quot;int count=0&quot; on this post), I got an output of many class names and the number of the classes(34651), but the names of those two classes that I want were not included in the result.","body":"I just updated the code(accidentally deleted &quot;int count=0&quot; on this post), I got an output of many class names and the number of the classes(34651), but the names of those two classes that I want were not included in the result."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1645775686,"post_id":71262504,"comment_id":125965036,"body_markdown":"Dont provide such information on comments. Make sure all relevant information is in the question. And note: you define a URLClassloader and provide URLs. That doesn&#39;t LOAD the classes. You might have to tell the classloader to actually load the classes before you can fetch information about them?","body":"Dont provide such information on comments. Make sure all relevant information is in the question. And note: you define a URLClassloader and provide URLs. That doesn&#39;t LOAD the classes. You might have to tell the classloader to actually load the classes before you can fetch information about them?"},{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":0,"creation_date":1645777892,"post_id":71262504,"comment_id":125965671,"body_markdown":"`URLClassLoader`&#39;s URLs should be a directory or a `.jar` file; not direct references to individual `.class` files.","body":"<code>URLClassLoader</code>&#39;s URLs should be a directory or a <code>.jar</code> file; not direct references to individual <code>.class</code> files."}],"answers":[{"tags":[],"owner":{"account_id":19134754,"reputation":1,"user_id":13975942,"display_name":"Scarlett H"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645777628,"creation_date":1645777628,"answer_id":71263040,"question_id":71262504,"body_markdown":"Using jar files instead of .class files fixed this!\r\n```\r\n File file1 = new File(&quot;C:\\\\target.jar&quot;);\r\n URL url1 = file1.toURI().toURL();\r\n```","title":"How do I use ClassPath::getAllClasses(Guava lib) in java?","body":"<p>Using jar files instead of .class files fixed this!</p>\n<pre><code> File file1 = new File(&quot;C:\\\\target.jar&quot;);\n URL url1 = file1.toURI().toURL();\n</code></pre>\n"}],"owner":{"account_id":19134754,"reputation":1,"user_id":13975942,"display_name":"Scarlett H"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1645778217,"answer_count":1,"score":0,"last_activity_date":1645777628,"creation_date":1645774539,"question_id":71262504,"body_markdown":"I&#39;m trying to load classes that I defined here such as DemoApplication.class and Test.class. I&#39;m using guava 31.0.1-jre, and used ClassPath.from().getAllClasses(), but it seems to only get runtime classes and these two classes I want are not being loaded.\r\nI&#39;m not sure if what I&#39;m doing is totally in the wrong way.\r\n```\r\n       public static void main(String[] args) throws ClassNotFoundException, IOException {\r\n        File file = new File(&quot;C:\\\\DemoApplication.class&quot;);\r\n        URL url = file.toURI().toURL();\r\n        File file1 = new File(&quot;C:\\\\Test.class&quot;);\r\n        URL url1 = file1.toURI().toURL();\r\n        int count=0;\r\n        URLClassLoader classLoader = new URLClassLoader(new URL[]{url,url1});\r\n        for (ClassPath.ClassInfo classInfo : ClassPath.from(classLoader).getAllClasses()) {\r\n            if (classInfo.getName().contains(&quot;DemoApplication&quot;)){\r\n// I didn&#39;t get any output here \r\n                System.out.println(classInfo.getName());\r\n            }\r\n        }\r\n        System.out.println(count);\r\n    }\r\n```","title":"How do I use ClassPath::getAllClasses(Guava lib) in java?","body":"<p>I'm trying to load classes that I defined here such as DemoApplication.class and Test.class. I'm using guava 31.0.1-jre, and used ClassPath.from().getAllClasses(), but it seems to only get runtime classes and these two classes I want are not being loaded.\nI'm not sure if what I'm doing is totally in the wrong way.</p>\n<pre><code>       public static void main(String[] args) throws ClassNotFoundException, IOException {\n        File file = new File(&quot;C:\\\\DemoApplication.class&quot;);\n        URL url = file.toURI().toURL();\n        File file1 = new File(&quot;C:\\\\Test.class&quot;);\n        URL url1 = file1.toURI().toURL();\n        int count=0;\n        URLClassLoader classLoader = new URLClassLoader(new URL[]{url,url1});\n        for (ClassPath.ClassInfo classInfo : ClassPath.from(classLoader).getAllClasses()) {\n            if (classInfo.getName().contains(&quot;DemoApplication&quot;)){\n// I didn't get any output here \n                System.out.println(classInfo.getName());\n            }\n        }\n        System.out.println(count);\n    }\n</code></pre>\n"},{"tags":["java","json","rest","api","parsing"],"comments":[{"owner":{"account_id":7761220,"reputation":3129,"user_id":5873923,"display_name":"Marc Tarin"},"score":0,"creation_date":1583420839,"post_id":60547704,"comment_id":107117799,"body_markdown":"Depending of your stack and actual need, you could maybe use Jackson annotations [@JsonAnyGetter](http://www.cowtowncoder.com/blog/archives/2011/07/entry_458.html) and @JsonAnySetter. Chech this [thread](https://stackoverflow.com/q/35847165/5873923) to see an example with Spring and MongoDB.","body":"Depending of your stack and actual need, you could maybe use Jackson annotations <a href=\"http://www.cowtowncoder.com/blog/archives/2011/07/entry_458.html\" rel=\"nofollow noreferrer\">@JsonAnyGetter</a> and @JsonAnySetter. Chech this <a href=\"https://stackoverflow.com/q/35847165/5873923\">thread</a> to see an example with Spring and MongoDB."}],"answers":[{"tags":[],"owner":{"account_id":17911157,"reputation":9,"user_id":13013256,"display_name":"Peter Togara"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583420012,"creation_date":1583420012,"answer_id":60548097,"question_id":60547704,"body_markdown":"You can try the below sample code, it works wonders for you. Initialise request headers.\r\n\r\n     try {\r\n     HttpHeaders requestHeaders = getRequestHeaders();\r\n     HttpEntity&lt;RequestDto&gt; requestEntity = new HttpEntity&lt;&gt;(requestDto, requestHeaders);\r\n     ResponseEntity&lt;String&gt; response = restTemplate.postForEntity(baseUrl, requestEntity, \r\n     String.class);\r\n     if (response != null &amp;&amp; response.getStatusCode() == HttpStatus.OK) {\r\n     try {\r\n     ObjectMapper objectMapper = new ObjectMapper();                \r\n     objectMapper.enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\r\n     Map&lt;?, ?&gt; map = objectMapper.readValue(response.getBody(), Map.class);\r\n     return new Response&lt;ResponseDto&gt;().buildSuccessResponse(map.toString());\r\n     } \r\n    catch (Exception e) {\r\n     e.printStackTrace();\r\n    return new Response&lt;ResponseDto&gt;().buildErrorResponse(&quot;Failed to map response&quot;);\r\n    }}}\r\n    catch()\r\n    {\r\n    }\r\n\r\n","title":"REST API consume dynamic JSON","body":"<p>You can try the below sample code, it works wonders for you. Initialise request headers.</p>\n\n<pre><code> try {\n HttpHeaders requestHeaders = getRequestHeaders();\n HttpEntity&lt;RequestDto&gt; requestEntity = new HttpEntity&lt;&gt;(requestDto, requestHeaders);\n ResponseEntity&lt;String&gt; response = restTemplate.postForEntity(baseUrl, requestEntity, \n String.class);\n if (response != null &amp;&amp; response.getStatusCode() == HttpStatus.OK) {\n try {\n ObjectMapper objectMapper = new ObjectMapper();                \n objectMapper.enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\n Map&lt;?, ?&gt; map = objectMapper.readValue(response.getBody(), Map.class);\n return new Response&lt;ResponseDto&gt;().buildSuccessResponse(map.toString());\n } \ncatch (Exception e) {\n e.printStackTrace();\nreturn new Response&lt;ResponseDto&gt;().buildErrorResponse(\"Failed to map response\");\n}}}\ncatch()\n{\n}\n</code></pre>\n"}],"owner":{"account_id":1814134,"reputation":13,"user_id":1649606,"display_name":"msoares"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":704,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645777323,"creation_date":1583418833,"question_id":60547704,"body_markdown":"I have a REST API that will have a service that will receive a json that can change dynamically.\r\n\r\n    @POST\r\n\t@Path(&quot;/my/service&quot;)\r\n\tpublic Response saveData(@ApiParam GenericObject request);\r\n\r\nI need to capture all the json content to store in the database. How can I do it? How I can build GenericObject to not throw a parser exception and capture all fields and child objects?\r\n\r\nOne dummy example of Json could be\r\n\r\n  \r\n\r\n    {\r\n    &quot;name&quot;:&quot;John&quot;,\r\n    &quot;age&quot;:30,\r\n    &quot;cars&quot;:[ ... ] //Dynamic content\r\n    }\r\n\r\n Thanks","title":"REST API consume dynamic JSON","body":"<p>I have a REST API that will have a service that will receive a json that can change dynamically.</p>\n\n<pre><code>@POST\n@Path(\"/my/service\")\npublic Response saveData(@ApiParam GenericObject request);\n</code></pre>\n\n<p>I need to capture all the json content to store in the database. How can I do it? How I can build GenericObject to not throw a parser exception and capture all fields and child objects?</p>\n\n<p>One dummy example of Json could be</p>\n\n<pre><code>{\n\"name\":\"John\",\n\"age\":30,\n\"cars\":[ ... ] //Dynamic content\n}\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["java","sql","azure","jpa"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1645771019,"post_id":71260975,"comment_id":125963884,"body_markdown":"What *exactly* is the type of the column? Show your DDL.","body":"What <i>exactly</i> is the type of the column? Show your DDL."}],"answers":[{"tags":[],"owner":{"account_id":21550623,"reputation":1149,"user_id":15886810,"display_name":"Madhuraj Vadde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645776367,"creation_date":1645776367,"answer_id":71262810,"question_id":71260975,"body_markdown":"Replace `timezone` in your query with any of the following ways to set time zone in java code.  \r\n  \r\n1. Add ``TimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;));``  \r\n2. Add ``@DateTimeFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&quot;)` on `createdOn()`` method  \r\n  \r\nReferences: [https://stackoverflow.com/questions/60493632/spring-jpa-properties-hibernate-jdbc-time-zone-applied-on-writes-but-not-on-read](https://stackoverflow.com/questions/60493632/spring-jpa-properties-hibernate-jdbc-time-zone-applied-on-writes-but-not-on-read) and [https://stackoverflow.com/questions/63166851/timezone-issue-in-spring-boot-jpa-application](https://stackoverflow.com/questions/63166851/timezone-issue-in-spring-boot-jpa-application)","title":"Is there an easy way to insert a current timestamp with the correct timezone in azure sql?","body":"<p>Replace <code>timezone</code> in your query with any of the following ways to set time zone in java code.</p>\n<ol>\n<li>Add <code>TimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;));</code></li>\n<li>Add <code>@DateTimeFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss.SSSX&quot;)` on `createdOn()</code> method</li>\n</ol>\n<p>References: <a href=\"https://stackoverflow.com/questions/60493632/spring-jpa-properties-hibernate-jdbc-time-zone-applied-on-writes-but-not-on-read\">spring.jpa.properties.hibernate.jdbc.time_zone applied on writes but not on reads?</a> and <a href=\"https://stackoverflow.com/questions/63166851/timezone-issue-in-spring-boot-jpa-application\">Timezone issue in Spring Boot JPA application</a></p>\n"}],"owner":{"account_id":19654229,"reputation":43,"user_id":14387256,"display_name":"adamB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645776367,"creation_date":1645762448,"question_id":71260975,"body_markdown":"I&#39;m using a Java JPA @query(...) tag where I use current_timestamp to insert a GTM time to the azure db table. I&#39;m wondering if there is an easy way to set the timezone of the current_timestamp when I insert my timestamp. Something like \r\n\r\n&quot;UPDATE schema.tablename SET column = current_timestamp in zone &#39;timezone here&#39; ","title":"Is there an easy way to insert a current timestamp with the correct timezone in azure sql?","body":"<p>I'm using a Java JPA @query(...) tag where I use current_timestamp to insert a GTM time to the azure db table. I'm wondering if there is an easy way to set the timezone of the current_timestamp when I insert my timestamp. Something like</p>\n<p>&quot;UPDATE schema.tablename SET column = current_timestamp in zone 'timezone here'</p>\n"},{"tags":["java","spring-boot","oauth-2.0"],"comments":[{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":1,"creation_date":1645775655,"post_id":71262634,"comment_id":125965030,"body_markdown":"of course there are such sample code. but setting up such server yourself require a machine with public ip, and valid TSL certificate, both of which require some expense. why not consider practice oauth using exsisting servers first?","body":"of course there are such sample code. but setting up such server yourself require a machine with public ip, and valid TSL certificate, both of which require some expense. why not consider practice oauth using exsisting servers first?"},{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":0,"creation_date":1645776274,"post_id":71262634,"comment_id":125965189,"body_markdown":"samples can be found at [official doc page](https://oauth.net/code/java/)","body":"samples can be found at <a href=\"https://oauth.net/code/java/\" rel=\"nofollow noreferrer\">official doc page</a>"}],"answers":[{"tags":[],"owner":{"account_id":7988880,"reputation":1070,"user_id":9528658,"display_name":"Vladimir.V.Bvn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645776155,"creation_date":1645776155,"answer_id":71262773,"question_id":71262634,"body_markdown":"The name of the thing your are looking for is Keycloak or Okta (these two are most popular). There are a lot of tutorials of course.","title":"How to implement Oauth2 in spring boot?","body":"<p>The name of the thing your are looking for is Keycloak or Okta (these two are most popular). There are a lot of tutorials of course.</p>\n"}],"owner":{"account_id":23516184,"reputation":337,"user_id":17564051,"display_name":"Oxana Grey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645776155,"creation_date":1645775349,"question_id":71262634,"body_markdown":"I&#39;m learning Ouath2 implementation in spring boot below way.\r\n\r\nI want user to authorize himself first and then get a token, once get a token I want user to send that token with its REST API request to get resources.\r\n\r\nThen resource server will verify the token and once valid will release the resource back to user request.\r\n\r\nI know there are many examples and studies are available, but what I have observed that, most of the example are using `GOOGLE, FACEBOOK etc` to authenticate their user, that&#39;s not gonna help to understand my learning to develop everything manually for better understanding.\r\n\r\nMy ask is, Is anyone can share any example or references where I have control over (`user authentication process + release token`) and once user has token, then on `resource server` (`validate the token with authorization server + full fill user request`) I could implement token validation and return result ?\r\n\r\nI&#39;m want to do this authentication mechanism by myself for b. Is there any open source example is available just for learning purpose ?\r\n\r\nAll suggestions are welcome\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to implement Oauth2 in spring boot?","body":"<p>I'm learning Ouath2 implementation in spring boot below way.</p>\n<p>I want user to authorize himself first and then get a token, once get a token I want user to send that token with its REST API request to get resources.</p>\n<p>Then resource server will verify the token and once valid will release the resource back to user request.</p>\n<p>I know there are many examples and studies are available, but what I have observed that, most of the example are using <code>GOOGLE, FACEBOOK etc</code> to authenticate their user, that's not gonna help to understand my learning to develop everything manually for better understanding.</p>\n<p>My ask is, Is anyone can share any example or references where I have control over (<code>user authentication process + release token</code>) and once user has token, then on <code>resource server</code> (<code>validate the token with authorization server + full fill user request</code>) I could implement token validation and return result ?</p>\n<p>I'm want to do this authentication mechanism by myself for b. Is there any open source example is available just for learning purpose ?</p>\n<p>All suggestions are welcome</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":22669042,"reputation":39,"user_id":16840989,"display_name":"Salman Afzal"},"score":0,"creation_date":1646032624,"post_id":71261965,"comment_id":126015630,"body_markdown":"The issue was with my custom_notification_layout. I used a CardView in it which was not supported by the remoteViews. I just removed that and it is working fine now.","body":"The issue was with my custom_notification_layout. I used a CardView in it which was not supported by the remoteViews. I just removed that and it is working fine now."}],"answers":[{"tags":[],"owner":{"account_id":11281908,"reputation":61,"user_id":8273992,"display_name":"Muheeb Mehraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645776022,"creation_date":1645776022,"answer_id":71262749,"question_id":71261965,"body_markdown":"In you NotificationBuilder you need to set notification category to NotificationCompat.CATEGORY_CALL and style to NotificationCompat.BigTextStyle() like this\r\n\r\n    NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(getApplicationContext(), CHANNEL_ID)\r\n            .setSmallIcon(R.drawable.icon)\r\n            .setStyle(new NotificationCompat.DecoratedCustomViewStyle())\r\n            .setCustomContentView(remoteViews)\r\n            .setCustomHeadsUpContentView(remoteViews)\r\n            .setPriority(NotificationCompat.PRIORITY_MAX)\r\n            .setAutoCancel(true)\r\n            .setTimeoutAfter(30000)\r\n            .setStyle(NotificationCompat.BigTextStyle())\r\n            .setCategory(NotificationCompat.CATEGORY_CALL)\r\n            .setOngoing(true)\r\n            .setVibrate(pattern)\r\n            .setSound(ringtone)\r\n            .setFullScreenIntent(receiveCallPendingIntent, true);","title":"Custom Notification for incoming call not showing in android","body":"<p>In you NotificationBuilder you need to set notification category to NotificationCompat.CATEGORY_CALL and style to NotificationCompat.BigTextStyle() like this</p>\n<pre><code>NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(getApplicationContext(), CHANNEL_ID)\n        .setSmallIcon(R.drawable.icon)\n        .setStyle(new NotificationCompat.DecoratedCustomViewStyle())\n        .setCustomContentView(remoteViews)\n        .setCustomHeadsUpContentView(remoteViews)\n        .setPriority(NotificationCompat.PRIORITY_MAX)\n        .setAutoCancel(true)\n        .setTimeoutAfter(30000)\n        .setStyle(NotificationCompat.BigTextStyle())\n        .setCategory(NotificationCompat.CATEGORY_CALL)\n        .setOngoing(true)\n        .setVibrate(pattern)\n        .setSound(ringtone)\n        .setFullScreenIntent(receiveCallPendingIntent, true);\n</code></pre>\n"}],"owner":{"account_id":22669042,"reputation":39,"user_id":16840989,"display_name":"Salman Afzal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1023,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71262749,"answer_count":1,"score":0,"last_activity_date":1645776022,"creation_date":1645770951,"question_id":71261965,"body_markdown":"I am trying to make a custom incoming call notification like WhatsApp for my app if I don&#39;t use this custom layout then my notification is working. I am trying this for the first time any help will be appreciated.\r\n    \r\n \r\nThis is my FireBaseMessagingService Class\r\n\r\n    public class MyFireBaseMessagingService extends FirebaseMessagingService {\r\n    private String CHANNEL_ID = &quot;channel-02&quot;;\r\n    private String CHANNEL_NAME = &quot;Channel Ring&quot;;\r\n    long[] pattern = {500, 500, 500, 500, 500, 500, 500, 500, 500};\r\n\r\n    @Override\r\n    public void onNewToken(@NonNull String s) {\r\n        super.onNewToken(s);\r\n        Log.e(&quot;NewToken&quot;, s);\r\n        getSharedPreferences(&quot;_&quot;, MODE_PRIVATE).edit().putString(&quot;fb&quot;, s).apply();\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.P)\r\n    @Override\r\n    public void onMessageReceived(@NonNull RemoteMessage remoteMessage) {\r\n        super.onMessageReceived(remoteMessage);\r\n        Log.e(&quot;Notification&quot;, remoteMessage.getFrom());\r\n\r\n        showSimpleNotification(getApplicationContext(), remoteMessage, remoteMessage.getData().get(&quot;title&quot;), remoteMessage.getData().get(&quot;body&quot;));\r\n    }\r\n\r\n    public static String getToken(Context context) {\r\n        return context.getSharedPreferences(&quot;_&quot;, MODE_PRIVATE).getString(&quot;fb&quot;, &quot;empty&quot;);\r\n    }\r\n\r\n    @SuppressLint(&quot;RemoteViewLayout&quot;)\r\n    @RequiresApi(api = Build.VERSION_CODES.P)\r\n    public void showFullScreenIntent(RemoteMessage remoteMessage, String title, String body) {\r\n\r\n        Intent receiveCallIntent = new Intent(getApplicationContext(), FCMReceiver.class);\r\n        receiveCallIntent.putExtra(&quot;appointment_id&quot;, remoteMessage.getData().get(&quot;appointment_id&quot;));\r\n        receiveCallIntent.putExtra(&quot;message&quot;, title);\r\n        receiveCallIntent.setAction(&quot;RECEIVE_CALL&quot;);\r\n\r\n        Intent cancelCallIntent = new Intent(getApplicationContext(), FCMReceiver.class);\r\n        receiveCallIntent.putExtra(&quot;appointment_id&quot;, remoteMessage.getData().get(&quot;appointment_id&quot;));\r\n        receiveCallIntent.putExtra(&quot;message&quot;, &quot;Call Rejected&quot;);\r\n        receiveCallIntent.setAction(&quot;CANCEL_CALL&quot;);\r\n\r\n        PendingIntent receiveCallPendingIntent = PendingIntent.getBroadcast(getApplicationContext(), 1200,\r\n                receiveCallIntent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n        PendingIntent cancelCallPendingIntent = PendingIntent.getBroadcast(getApplicationContext(), 1201,\r\n                cancelCallIntent, PendingIntent.FLAG_CANCEL_CURRENT);\r\n\r\n\r\n        Uri ringtone = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_RINGTONE);\r\n        RemoteViews remoteViews = new RemoteViews(getPackageName(), R.layout.custom_call_notification);\r\n        remoteViews.setImageViewResource(R.id.caller_image, R.drawable.icon);\r\n        remoteViews.setTextViewText(R.id.caller_name, body);\r\n        remoteViews.setTextViewText(R.id.call_type, title);\r\n\r\n        remoteViews.setOnClickPendingIntent(R.id.btnAccept, receiveCallPendingIntent);\r\n        remoteViews.setOnClickPendingIntent(R.id.btnDecline, cancelCallPendingIntent);\r\n\r\n\r\n        @SuppressLint(&quot;ResourceAsColor&quot;) NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(getApplicationContext(), CHANNEL_ID)\r\n                .setSmallIcon(R.drawable.icon)\r\n                .setStyle(new NotificationCompat.DecoratedCustomViewStyle())\r\n                .setCustomContentView(remoteViews)\r\n                .setCustomHeadsUpContentView(remoteViews)\r\n                .setPriority(NotificationCompat.PRIORITY_MAX)\r\n                .setAutoCancel(true)\r\n                .setTimeoutAfter(30000)\r\n                .setOngoing(true)\r\n                .setVibrate(pattern)\r\n                .setSound(ringtone)\r\n                .setFullScreenIntent(receiveCallPendingIntent, true);\r\n\r\n        NotificationChannel channel = createChannel();\r\n\r\n        NotificationManager mNotificationManager = (NotificationManager)\r\n                getSystemService(Context.NOTIFICATION_SERVICE);\r\n        Notification incomingCallNotification = notificationBuilder.build();\r\n        mNotificationManager.createNotificationChannel(channel);\r\n        mNotificationManager.notify(120, incomingCallNotification);\r\n        \r\n    }\r\nThis is my channel\r\n\r\n     public NotificationChannel createChannel() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            int importance = NotificationManager.IMPORTANCE_HIGH;\r\n            NotificationChannel channel = new NotificationChannel(CHANNEL_ID, CHANNEL_NAME, importance);\r\n            channel.setLockscreenVisibility(Notification.VISIBILITY_PRIVATE);\r\n            channel.setDescription(&quot;Call Notifications&quot;);\r\n            channel.setSound(Uri.parse(&quot;android.resource://&quot; + getApplicationContext().getPackageName() + &quot;/&quot; + R.raw.ringtone),\r\n                    new AudioAttributes.Builder().setContentType(AudioAttributes.CONTENT_TYPE_SONIFICATION)\r\n                            .setLegacyStreamType(AudioManager.STREAM_RING)\r\n                            .setUsage(AudioAttributes.USAGE_VOICE_COMMUNICATION).build());\r\n            channel.shouldVibrate();\r\n            channel.enableVibration(true);\r\n            channel.setVibrationPattern(pattern);\r\n            Objects.requireNonNull(getApplicationContext().getSystemService(NotificationManager.class)).createNotificationChannel(channel);\r\n\r\n            return channel;\r\n        }\r\n        return null;\r\n    }\r\nThis is my FCMReceiver Class\r\n\r\n    public class FCMReceiver extends BroadcastReceiver {\r\n    private Context mContext;\r\n    private String mTitle;\r\n    private String mContent;\r\n    String action = &quot;&quot;;\r\n\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        if (context != null) {\r\n            mContext = context;\r\n        }\r\n\r\n        Log.e(&quot;Receiver&quot;, &quot;Receiver a notification&quot;);\r\n        mTitle = intent.getStringExtra(&quot;message&quot;);\r\n        if (mTitle != null &amp;&amp; !mTitle.isEmpty()) {\r\n            Log.e(&quot;action&quot;, &quot;message : &quot; + mTitle);\r\n            performActionClicks(context, mTitle, intent);\r\n\r\n            Intent iclose = new Intent(Intent.ACTION_CLOSE_SYSTEM_DIALOGS);\r\n            context.sendBroadcast(iclose);\r\n            context.stopService(new Intent(context, MyFireBaseMessagingService.class));\r\n        }\r\n\r\n        if (intent.getStringExtra(&quot;gcm.notification.title&quot;) != null) {\r\n            if (intent.getStringExtra(&quot;gcm.notification title&quot;).equalsIgnoreCase(&quot;New Appointment&quot;)) {\r\n                ActivityManager.RunningAppProcessInfo myProcess = new ActivityManager.RunningAppProcessInfo();\r\n                ActivityManager.getMyMemoryState(myProcess);\r\n                boolean isInBackground = myProcess.importance != ActivityManager.RunningAppProcessInfo.IMPORTANCE_FOREGROUND;\r\n                if (isInBackground) {\r\n                    Intent launchIntent = new Intent(context, HomeActivity.class);\r\n                    launchIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                    launchIntent.putExtra(&quot;appointment_id&quot;, intent.getStringExtra(&quot;appointment_id&quot;));\r\n                }\r\n            }\r\n        }\r\n        if (intent.getStringExtra(&quot;notification&quot;) != null) {\r\n\r\n        }\r\n    }\r\n\r\n    private void performActionClicks(Context context, @NonNull String mTitle, Intent intent) {\r\n            if (!mTitle.isEmpty()) {\r\n                if (mTitle.equalsIgnoreCase(&quot;Ringing&quot;)) {\r\n                    Intent intentCallReceive = new Intent(context, VideoChatViewActivity.class)\r\n                            .putExtra(&quot;appointment_id&quot;, intent.getStringExtra(&quot;appointment_id&quot;));\r\n                    intentCallReceive.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n                    mContext.startActivity(intentCallReceive);\r\n\r\n                    NotificationManagerCompat.from(mContext).cancel(null, 120);\r\n                    \r\n\r\n                } else if (mTitle.equalsIgnoreCase(&quot;Declined&quot;)) {\r\n                    \r\n                } else if (mTitle.equalsIgnoreCase(&quot;Call Rejected&quot;)) {\r\n\r\n                    NotificationManagerCompat.from(mContext).cancel(null, 120);\r\n                    \r\n\r\n                }\r\n            }\r\n        }","title":"Custom Notification for incoming call not showing in android","body":"<p>I am trying to make a custom incoming call notification like WhatsApp for my app if I don't use this custom layout then my notification is working. I am trying this for the first time any help will be appreciated.</p>\n<p>This is my FireBaseMessagingService Class</p>\n<pre><code>public class MyFireBaseMessagingService extends FirebaseMessagingService {\nprivate String CHANNEL_ID = &quot;channel-02&quot;;\nprivate String CHANNEL_NAME = &quot;Channel Ring&quot;;\nlong[] pattern = {500, 500, 500, 500, 500, 500, 500, 500, 500};\n\n@Override\npublic void onNewToken(@NonNull String s) {\n    super.onNewToken(s);\n    Log.e(&quot;NewToken&quot;, s);\n    getSharedPreferences(&quot;_&quot;, MODE_PRIVATE).edit().putString(&quot;fb&quot;, s).apply();\n}\n\n@RequiresApi(api = Build.VERSION_CODES.P)\n@Override\npublic void onMessageReceived(@NonNull RemoteMessage remoteMessage) {\n    super.onMessageReceived(remoteMessage);\n    Log.e(&quot;Notification&quot;, remoteMessage.getFrom());\n\n    showSimpleNotification(getApplicationContext(), remoteMessage, remoteMessage.getData().get(&quot;title&quot;), remoteMessage.getData().get(&quot;body&quot;));\n}\n\npublic static String getToken(Context context) {\n    return context.getSharedPreferences(&quot;_&quot;, MODE_PRIVATE).getString(&quot;fb&quot;, &quot;empty&quot;);\n}\n\n@SuppressLint(&quot;RemoteViewLayout&quot;)\n@RequiresApi(api = Build.VERSION_CODES.P)\npublic void showFullScreenIntent(RemoteMessage remoteMessage, String title, String body) {\n\n    Intent receiveCallIntent = new Intent(getApplicationContext(), FCMReceiver.class);\n    receiveCallIntent.putExtra(&quot;appointment_id&quot;, remoteMessage.getData().get(&quot;appointment_id&quot;));\n    receiveCallIntent.putExtra(&quot;message&quot;, title);\n    receiveCallIntent.setAction(&quot;RECEIVE_CALL&quot;);\n\n    Intent cancelCallIntent = new Intent(getApplicationContext(), FCMReceiver.class);\n    receiveCallIntent.putExtra(&quot;appointment_id&quot;, remoteMessage.getData().get(&quot;appointment_id&quot;));\n    receiveCallIntent.putExtra(&quot;message&quot;, &quot;Call Rejected&quot;);\n    receiveCallIntent.setAction(&quot;CANCEL_CALL&quot;);\n\n    PendingIntent receiveCallPendingIntent = PendingIntent.getBroadcast(getApplicationContext(), 1200,\n            receiveCallIntent, PendingIntent.FLAG_UPDATE_CURRENT);\n\n    PendingIntent cancelCallPendingIntent = PendingIntent.getBroadcast(getApplicationContext(), 1201,\n            cancelCallIntent, PendingIntent.FLAG_CANCEL_CURRENT);\n\n\n    Uri ringtone = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_RINGTONE);\n    RemoteViews remoteViews = new RemoteViews(getPackageName(), R.layout.custom_call_notification);\n    remoteViews.setImageViewResource(R.id.caller_image, R.drawable.icon);\n    remoteViews.setTextViewText(R.id.caller_name, body);\n    remoteViews.setTextViewText(R.id.call_type, title);\n\n    remoteViews.setOnClickPendingIntent(R.id.btnAccept, receiveCallPendingIntent);\n    remoteViews.setOnClickPendingIntent(R.id.btnDecline, cancelCallPendingIntent);\n\n\n    @SuppressLint(&quot;ResourceAsColor&quot;) NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(getApplicationContext(), CHANNEL_ID)\n            .setSmallIcon(R.drawable.icon)\n            .setStyle(new NotificationCompat.DecoratedCustomViewStyle())\n            .setCustomContentView(remoteViews)\n            .setCustomHeadsUpContentView(remoteViews)\n            .setPriority(NotificationCompat.PRIORITY_MAX)\n            .setAutoCancel(true)\n            .setTimeoutAfter(30000)\n            .setOngoing(true)\n            .setVibrate(pattern)\n            .setSound(ringtone)\n            .setFullScreenIntent(receiveCallPendingIntent, true);\n\n    NotificationChannel channel = createChannel();\n\n    NotificationManager mNotificationManager = (NotificationManager)\n            getSystemService(Context.NOTIFICATION_SERVICE);\n    Notification incomingCallNotification = notificationBuilder.build();\n    mNotificationManager.createNotificationChannel(channel);\n    mNotificationManager.notify(120, incomingCallNotification);\n    \n}\n</code></pre>\n<p>This is my channel</p>\n<pre><code> public NotificationChannel createChannel() {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        int importance = NotificationManager.IMPORTANCE_HIGH;\n        NotificationChannel channel = new NotificationChannel(CHANNEL_ID, CHANNEL_NAME, importance);\n        channel.setLockscreenVisibility(Notification.VISIBILITY_PRIVATE);\n        channel.setDescription(&quot;Call Notifications&quot;);\n        channel.setSound(Uri.parse(&quot;android.resource://&quot; + getApplicationContext().getPackageName() + &quot;/&quot; + R.raw.ringtone),\n                new AudioAttributes.Builder().setContentType(AudioAttributes.CONTENT_TYPE_SONIFICATION)\n                        .setLegacyStreamType(AudioManager.STREAM_RING)\n                        .setUsage(AudioAttributes.USAGE_VOICE_COMMUNICATION).build());\n        channel.shouldVibrate();\n        channel.enableVibration(true);\n        channel.setVibrationPattern(pattern);\n        Objects.requireNonNull(getApplicationContext().getSystemService(NotificationManager.class)).createNotificationChannel(channel);\n\n        return channel;\n    }\n    return null;\n}\n</code></pre>\n<p>This is my FCMReceiver Class</p>\n<pre><code>public class FCMReceiver extends BroadcastReceiver {\nprivate Context mContext;\nprivate String mTitle;\nprivate String mContent;\nString action = &quot;&quot;;\n\n\n@Override\npublic void onReceive(Context context, Intent intent) {\n    if (context != null) {\n        mContext = context;\n    }\n\n    Log.e(&quot;Receiver&quot;, &quot;Receiver a notification&quot;);\n    mTitle = intent.getStringExtra(&quot;message&quot;);\n    if (mTitle != null &amp;&amp; !mTitle.isEmpty()) {\n        Log.e(&quot;action&quot;, &quot;message : &quot; + mTitle);\n        performActionClicks(context, mTitle, intent);\n\n        Intent iclose = new Intent(Intent.ACTION_CLOSE_SYSTEM_DIALOGS);\n        context.sendBroadcast(iclose);\n        context.stopService(new Intent(context, MyFireBaseMessagingService.class));\n    }\n\n    if (intent.getStringExtra(&quot;gcm.notification.title&quot;) != null) {\n        if (intent.getStringExtra(&quot;gcm.notification title&quot;).equalsIgnoreCase(&quot;New Appointment&quot;)) {\n            ActivityManager.RunningAppProcessInfo myProcess = new ActivityManager.RunningAppProcessInfo();\n            ActivityManager.getMyMemoryState(myProcess);\n            boolean isInBackground = myProcess.importance != ActivityManager.RunningAppProcessInfo.IMPORTANCE_FOREGROUND;\n            if (isInBackground) {\n                Intent launchIntent = new Intent(context, HomeActivity.class);\n                launchIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                launchIntent.putExtra(&quot;appointment_id&quot;, intent.getStringExtra(&quot;appointment_id&quot;));\n            }\n        }\n    }\n    if (intent.getStringExtra(&quot;notification&quot;) != null) {\n\n    }\n}\n\nprivate void performActionClicks(Context context, @NonNull String mTitle, Intent intent) {\n        if (!mTitle.isEmpty()) {\n            if (mTitle.equalsIgnoreCase(&quot;Ringing&quot;)) {\n                Intent intentCallReceive = new Intent(context, VideoChatViewActivity.class)\n                        .putExtra(&quot;appointment_id&quot;, intent.getStringExtra(&quot;appointment_id&quot;));\n                intentCallReceive.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TOP);\n                mContext.startActivity(intentCallReceive);\n\n                NotificationManagerCompat.from(mContext).cancel(null, 120);\n                \n\n            } else if (mTitle.equalsIgnoreCase(&quot;Declined&quot;)) {\n                \n            } else if (mTitle.equalsIgnoreCase(&quot;Call Rejected&quot;)) {\n\n                NotificationManagerCompat.from(mContext).cancel(null, 120);\n                \n\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","struts2","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645775377,"creation_date":1627502213,"answer_id":68566660,"question_id":68560994,"body_markdown":"In Log4j2 basically two aspects change in the XML configuration:\r\n\r\n - component types are not identified using their class name, but their plugin name. E.g. to create a `RollingFileAppender` (cf. [javadoc](https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/appender/RollingFileAppender.html)) you&#39;ll use `RollingFile` instead of `org.apache.logging.log4j.core.appender.RollingFileAppender`,\r\n - all simple properties of a component are specified as XML attributes.\r\n\r\nThe concise version of your appender (cf. [concise and string XML config])(https://logging.apache.org/log4j/2.x/manual/configuration.html#Configuration_with_XML) will be:\r\n\r\n```lang-xml\r\n    &lt;RollingFile name=&quot;auditLoggerAppender&quot;\r\n                 fileName=&quot;C:\\logs\\Filename.log&quot;\r\n                 filePattern=&quot;C:\\logs\\Filename2.%d.log&quot;&gt;\r\n        &lt;PatternLayout pattern=&quot;[%d{dd-MMM-yyyy HH:mm:ss:SSS}][%5p][%c{1}:%L]- %m%n&quot;/&gt;\r\n        &lt;ThresholdFilter level=&quot;DEBUG&quot;/&gt;\r\n        &lt;TimeBasedTriggeringPolicy/&gt;\r\n        &lt;DefaultRolloverStrategy max=&quot;30&quot;/&gt;\r\n    &lt;/RollingFile&gt;\r\n```\r\n\r\nLoggers are configured in a similar way:\r\n\r\n```lang-xml\r\n    &lt;Logger name=&quot;auditLogger&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;AppenderRef ref=&quot;auditLoggerAppender&quot; /&gt;\r\n    &lt;/Logger&gt;\r\n```\r\n\r\nYou can find all configuration properties either in the [javadoc](https://logging.apache.org/log4j/2.x/log4j-core/apidocs/overview-summary.html) or the [XSD schema](https://github.com/apache/logging-log4j2/blob/master/log4j-core/src/main/resources/Log4j-config.xsd).","title":"How to configure log4j.xml for migrating from log4j to log4j2?","body":"<p>In Log4j2 basically two aspects change in the XML configuration:</p>\n<ul>\n<li>component types are not identified using their class name, but their plugin name. E.g. to create a <code>RollingFileAppender</code> (cf. <a href=\"https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/appender/RollingFileAppender.html\" rel=\"nofollow noreferrer\">javadoc</a>) you'll use <code>RollingFile</code> instead of <code>org.apache.logging.log4j.core.appender.RollingFileAppender</code>,</li>\n<li>all simple properties of a component are specified as XML attributes.</li>\n</ul>\n<p>The concise version of your appender (cf. [concise and string XML config])(<a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#Configuration_with_XML\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/configuration.html#Configuration_with_XML</a>) will be:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;RollingFile name=&quot;auditLoggerAppender&quot;\n                 fileName=&quot;C:\\logs\\Filename.log&quot;\n                 filePattern=&quot;C:\\logs\\Filename2.%d.log&quot;&gt;\n        &lt;PatternLayout pattern=&quot;[%d{dd-MMM-yyyy HH:mm:ss:SSS}][%5p][%c{1}:%L]- %m%n&quot;/&gt;\n        &lt;ThresholdFilter level=&quot;DEBUG&quot;/&gt;\n        &lt;TimeBasedTriggeringPolicy/&gt;\n        &lt;DefaultRolloverStrategy max=&quot;30&quot;/&gt;\n    &lt;/RollingFile&gt;\n</code></pre>\n<p>Loggers are configured in a similar way:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;Logger name=&quot;auditLogger&quot; additivity=&quot;false&quot;&gt;\n        &lt;AppenderRef ref=&quot;auditLoggerAppender&quot; /&gt;\n    &lt;/Logger&gt;\n</code></pre>\n<p>You can find all configuration properties either in the <a href=\"https://logging.apache.org/log4j/2.x/log4j-core/apidocs/overview-summary.html\" rel=\"nofollow noreferrer\">javadoc</a> or the <a href=\"https://github.com/apache/logging-log4j2/blob/master/log4j-core/src/main/resources/Log4j-config.xsd\" rel=\"nofollow noreferrer\">XSD schema</a>.</p>\n"}],"owner":{"account_id":22225852,"reputation":45,"user_id":16462814,"display_name":"Manish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2838,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1627564798,"accepted_answer_id":68566660,"answer_count":1,"score":3,"last_activity_date":1645775377,"creation_date":1627477647,"question_id":68560994,"body_markdown":"I am working on a application that was using `log4j` until now and I want to migrate to `log4j2`. I am a new to using `log4j 2`, referring the `log4j 1.x migration guide` but for some parts I am not clear about how the configuration in my `log4j.xml` should be.\r\n\r\nCurrent `log4j.xml` file looks like this:\r\n\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;!DOCTYPE log4j:configuration SYSTEM &quot;log4j.dtd&quot;&gt;\r\n\r\n&lt;log4j:configuration xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot;\tdebug=&quot;false&quot;&gt;\r\n\t\r\n\t&lt;!-- Appender for logging to console output  --&gt;\r\n\t&lt;appender name=&quot;consoleAppender&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\r\n\t\t&lt;param name=&quot;Threshold&quot; value=&quot;debug&quot; /&gt;\r\n\t\t&lt;layout class=&quot;org.apache.log4j.EnhancedPatternLayout&quot;&gt;\r\n\t\t\t&lt;param name=&quot;ConversionPattern&quot; value=&quot;[%d{dd-MMM-yyyy HH:mm:ss:SSS}][%5p][%c{1}:%L]- %m%n&quot; /&gt;\r\n\t\t&lt;/layout&gt;\r\n\t&lt;/appender&gt;\r\n\t\r\n\t&lt;!-- Appender for logging audit messages to the file  --&gt;\r\n\t&lt;appender name=&quot;auditLoggerAppender&quot; class=&quot;org.apache.log4j.rolling.RollingFileAppender&quot;&gt;\r\n\t\t&lt;param name=&quot;Threshold&quot; value=&quot;debug&quot; /&gt;\r\n\t\t\r\n\t\t&lt;rollingPolicy class=&quot;org.apache.log4j.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n\t\t\t&lt;param name=&quot;ActiveFileName&quot; value=&quot;C:/logs/Filename.log&quot; /&gt; \r\n\t\t\t&lt;param name=&quot;FileNamePattern&quot; value=&quot;C:/logs/Filename2.%d.log&quot; /&gt;\t\r\n\t\t\t&lt;param name=&quot;MaxHistory&quot; value=&quot;30&quot; /&gt;\t\r\n\t\t&lt;/rollingPolicy&gt;\r\n\t\t\r\n\t\t&lt;layout class=&quot;org.apache.log4j.EnhancedPatternLayout&quot;&gt;\r\n\t\t\t&lt;param name=&quot;ConversionPattern&quot; value=&quot;[%d{dd-MMM-yyyy HH:mm:ss:SSS}][%5p][%c{1}:%L]- %m%n&quot; /&gt;\r\n\t\t&lt;/layout&gt;\r\n\t&lt;/appender&gt;\r\n\t\r\n\t&lt;!-- Logger for audit messages --&gt;\r\n\t&lt;logger name=&quot;auditLogger&quot; additivity=&quot;false&quot;&gt;\r\n\t\t&lt;appender-ref ref=&quot;applicationLoggerAppender&quot; /&gt;\t\t\r\n\t&lt;/logger&gt;\r\n\t\r\n\t\r\n&lt;/log4j:configuration&gt;\r\n```\r\n\r\nwhat configuration changes need to be made for `&lt;param&gt;`, `&lt;layout&gt;`, the `&lt;RollinFileAppender&gt;` part and `&lt;logger name=&quot;auditLogger&quot; additivity=&quot;false&quot;&gt;\r\n\t\t&lt;appender-ref ref=&quot;applicationLoggerAppender&quot; /&gt;\t\t\r\n\t&lt;/logger&gt;` for it to work with log4j 2 ?","title":"How to configure log4j.xml for migrating from log4j to log4j2?","body":"<p>I am working on a application that was using <code>log4j</code> until now and I want to migrate to <code>log4j2</code>. I am a new to using <code>log4j 2</code>, referring the <code>log4j 1.x migration guide</code> but for some parts I am not clear about how the configuration in my <code>log4j.xml</code> should be.</p>\n<p>Current <code>log4j.xml</code> file looks like this:</p>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;!DOCTYPE log4j:configuration SYSTEM &quot;log4j.dtd&quot;&gt;\n\n&lt;log4j:configuration xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot; debug=&quot;false&quot;&gt;\n    \n    &lt;!-- Appender for logging to console output  --&gt;\n    &lt;appender name=&quot;consoleAppender&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\n        &lt;param name=&quot;Threshold&quot; value=&quot;debug&quot; /&gt;\n        &lt;layout class=&quot;org.apache.log4j.EnhancedPatternLayout&quot;&gt;\n            &lt;param name=&quot;ConversionPattern&quot; value=&quot;[%d{dd-MMM-yyyy HH:mm:ss:SSS}][%5p][%c{1}:%L]- %m%n&quot; /&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n    \n    &lt;!-- Appender for logging audit messages to the file  --&gt;\n    &lt;appender name=&quot;auditLoggerAppender&quot; class=&quot;org.apache.log4j.rolling.RollingFileAppender&quot;&gt;\n        &lt;param name=&quot;Threshold&quot; value=&quot;debug&quot; /&gt;\n        \n        &lt;rollingPolicy class=&quot;org.apache.log4j.rolling.TimeBasedRollingPolicy&quot;&gt;\n            &lt;param name=&quot;ActiveFileName&quot; value=&quot;C:/logs/Filename.log&quot; /&gt; \n            &lt;param name=&quot;FileNamePattern&quot; value=&quot;C:/logs/Filename2.%d.log&quot; /&gt;   \n            &lt;param name=&quot;MaxHistory&quot; value=&quot;30&quot; /&gt;  \n        &lt;/rollingPolicy&gt;\n        \n        &lt;layout class=&quot;org.apache.log4j.EnhancedPatternLayout&quot;&gt;\n            &lt;param name=&quot;ConversionPattern&quot; value=&quot;[%d{dd-MMM-yyyy HH:mm:ss:SSS}][%5p][%c{1}:%L]- %m%n&quot; /&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n    \n    &lt;!-- Logger for audit messages --&gt;\n    &lt;logger name=&quot;auditLogger&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;applicationLoggerAppender&quot; /&gt;        \n    &lt;/logger&gt;\n    \n    \n&lt;/log4j:configuration&gt;\n</code></pre>\n<p>what configuration changes need to be made for <code>&lt;param&gt;</code>, <code>&lt;layout&gt;</code>, the <code>&lt;RollinFileAppender&gt;</code> part and <code>&lt;logger name=&quot;auditLogger&quot; additivity=&quot;false&quot;&gt; &lt;appender-ref ref=&quot;applicationLoggerAppender&quot; /&gt;         &lt;/logger&gt;</code> for it to work with log4j 2 ?</p>\n"},{"tags":["java","datetime"],"comments":[{"owner":{"account_id":1914874,"reputation":13438,"user_id":1727645,"accept_rate":81,"display_name":"Prasad Kharkar"},"score":1,"creation_date":1371722793,"post_id":17210839,"comment_id":24930542,"body_markdown":"@Baadshah, greatly helpful :) +1","body":"@Baadshah, greatly helpful :) +1"},{"owner":{"account_id":1862778,"reputation":305,"user_id":1687008,"accept_rate":100,"display_name":"Ryan Malhotra"},"score":0,"creation_date":1371723173,"post_id":17210839,"comment_id":24930740,"body_markdown":"@Baadshah Thanks for the help. I was hoping this, Just because I havent included what i have tried so far in some fancy Coding braces. Ofcourse.","body":"@Baadshah Thanks for the help. I was hoping this, Just because I havent included what i have tried so far in some fancy Coding braces. Ofcourse."},{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":0,"creation_date":1371723258,"post_id":17210839,"comment_id":24930782,"body_markdown":"@RyanMalhotra But if you post what you have tried so far,It would be easy to find whats the mistake,rather than writing all  the code our self.","body":"@RyanMalhotra But if you post what you have tried so far,It would be easy to find whats the mistake,rather than writing all  the code our self."},{"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"score":1,"creation_date":1371723633,"post_id":17210839,"comment_id":24930964,"body_markdown":"@Ryan Malhotra There are nothing called *fancy Coding braces* , formatting the code in coding markups really helps. Secondly , if you post something of what you have done then probably make your question look more genuine than a homework !","body":"@Ryan Malhotra There are nothing called <i>fancy Coding braces</i> , formatting the code in coding markups really helps. Secondly , if you post something of what you have done then probably make your question look more genuine than a homework !"}],"answers":[{"tags":[],"owner":{"account_id":2450090,"reputation":4212,"user_id":2136603,"accept_rate":45,"display_name":"Mubin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1371722809,"creation_date":1371722809,"answer_id":17210899,"question_id":17210839,"body_markdown":"You can use `JodaTime` for a cleaner solution. With `JodaTime` you can do as below:\r\n\r\n    final DateTime input = new DateTime();\r\n    System.out.println(input);\r\n    final DateMidnight startOfLastWeek = \r\n               new DateMidnight(input.minusWeeks(1).withDayOfWeek(DateTimeConstants.MONDAY));\r\n    System.out.println(startOfLastWeek);\r\n    final DateMidnight endOfLastWeek = startOfLastWeek.plusDays(6);\r\n    System.out.println(endOfLastWeek);","title":"Get last week date range for a date in Java","body":"<p>You can use <code>JodaTime</code> for a cleaner solution. With <code>JodaTime</code> you can do as below:</p>\n\n<pre><code>final DateTime input = new DateTime();\nSystem.out.println(input);\nfinal DateMidnight startOfLastWeek = \n           new DateMidnight(input.minusWeeks(1).withDayOfWeek(DateTimeConstants.MONDAY));\nSystem.out.println(startOfLastWeek);\nfinal DateMidnight endOfLastWeek = startOfLastWeek.plusDays(6);\nSystem.out.println(endOfLastWeek);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1371726360,"creation_date":1371723814,"answer_id":17211202,"question_id":17210839,"body_markdown":"this is Java Calendar based solution\r\n\r\n\t\tDate date = new Date();\r\n\t\tCalendar c = Calendar.getInstance();\r\n\t\tc.setTime(date);\r\n\t\tint i = c.get(Calendar.DAY_OF_WEEK) - c.getFirstDayOfWeek();\r\n\t\tc.add(Calendar.DATE, -i - 7);\r\n\t\tDate start = c.getTime();\r\n\t\tc.add(Calendar.DATE, 6);\r\n\t\tDate end = c.getTime();\r\n\t\tSystem.out.println(start + &quot; - &quot; + end);\r\noutput\r\n\r\n    Mon Jun 10 13:22:01 EEST 2013 - Sun Jun 16 13:22:01 EEST 2013\r\n\r\nit&#39;s localized, in my Locale week starts with Monday\r\n","title":"Get last week date range for a date in Java","body":"<p>this is Java Calendar based solution</p>\n\n<pre><code>    Date date = new Date();\n    Calendar c = Calendar.getInstance();\n    c.setTime(date);\n    int i = c.get(Calendar.DAY_OF_WEEK) - c.getFirstDayOfWeek();\n    c.add(Calendar.DATE, -i - 7);\n    Date start = c.getTime();\n    c.add(Calendar.DATE, 6);\n    Date end = c.getTime();\n    System.out.println(start + \" - \" + end);\n</code></pre>\n\n<p>output</p>\n\n<pre><code>Mon Jun 10 13:22:01 EEST 2013 - Sun Jun 16 13:22:01 EEST 2013\n</code></pre>\n\n<p>it's localized, in my Locale week starts with Monday</p>\n"},{"tags":[],"owner":{"account_id":2200636,"reputation":8366,"user_id":1945127,"accept_rate":57,"display_name":"newuser"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1371724682,"creation_date":1371724682,"answer_id":17211489,"question_id":17210839,"body_markdown":"Try this \r\n\r\n    public static void main(String[] args)\r\n        {\r\n            Calendar calendar = Calendar.getInstance();\r\n            calendar.setTime(new Date());\r\n            System.out.println(&quot;First Day : &quot; + SampleDateLimit.firstDayOfLastWeek(calendar).getTime());\r\n            System.out.println(&quot;Last Day : &quot; + SampleDateLimit.lastDayOfLastWeek(calendar).getTime());\r\n        }\r\n    \r\n        public static Calendar firstDayOfLastWeek(Calendar c)\r\n        {\r\n            c = (Calendar) c.clone();\r\n            // last week\r\n            c.add(Calendar.WEEK_OF_YEAR, -1);\r\n            // first day\r\n            c.set(Calendar.DAY_OF_WEEK, c.getFirstDayOfWeek());\r\n            return c;\r\n        }\r\n    \r\n        public static Calendar lastDayOfLastWeek(Calendar c)\r\n        {\r\n            c = (Calendar) c.clone();\r\n            // first day of this week\r\n            c.set(Calendar.DAY_OF_WEEK, c.getFirstDayOfWeek());\r\n            // last day of previous week\r\n            c.add(Calendar.DAY_OF_MONTH, -1);\r\n            return c;\r\n        }","title":"Get last week date range for a date in Java","body":"<p>Try this </p>\n\n<pre><code>public static void main(String[] args)\n    {\n        Calendar calendar = Calendar.getInstance();\n        calendar.setTime(new Date());\n        System.out.println(\"First Day : \" + SampleDateLimit.firstDayOfLastWeek(calendar).getTime());\n        System.out.println(\"Last Day : \" + SampleDateLimit.lastDayOfLastWeek(calendar).getTime());\n    }\n\n    public static Calendar firstDayOfLastWeek(Calendar c)\n    {\n        c = (Calendar) c.clone();\n        // last week\n        c.add(Calendar.WEEK_OF_YEAR, -1);\n        // first day\n        c.set(Calendar.DAY_OF_WEEK, c.getFirstDayOfWeek());\n        return c;\n    }\n\n    public static Calendar lastDayOfLastWeek(Calendar c)\n    {\n        c = (Calendar) c.clone();\n        // first day of this week\n        c.set(Calendar.DAY_OF_WEEK, c.getFirstDayOfWeek());\n        // last day of previous week\n        c.add(Calendar.DAY_OF_MONTH, -1);\n        return c;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":134590,"reputation":26815,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1613674449,"creation_date":1451920737,"answer_id":34594289,"question_id":17210839,"body_markdown":"# Java 8/11 version\n\n    final ZonedDateTime input = ZonedDateTime.now();\n    System.out.println(input);\n    final ZonedDateTime startOfLastWeek = input.minusWeeks(1).with(DayOfWeek.MONDAY);\n    System.out.println(startOfLastWeek);\n    final ZonedDateTime endOfLastWeek = startOfLastWeek.plusDays(6);\n    System.out.println(endOfLastWeek);\n","title":"Get last week date range for a date in Java","body":"<h1>Java 8/11 version</h1>\n<pre><code>final ZonedDateTime input = ZonedDateTime.now();\nSystem.out.println(input);\nfinal ZonedDateTime startOfLastWeek = input.minusWeeks(1).with(DayOfWeek.MONDAY);\nSystem.out.println(startOfLastWeek);\nfinal ZonedDateTime endOfLastWeek = startOfLastWeek.plusDays(6);\nSystem.out.println(endOfLastWeek);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17607784,"reputation":141,"user_id":12776496,"display_name":"Mukendi Emmanuel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645775342,"creation_date":1645775342,"answer_id":71262632,"question_id":17210839,"body_markdown":"WITH JodaTIME and Java 8/11\r\n\r\n    public class DateUtils {\r\n    private final DateTime date;\r\n\r\n    public DateUtils(Date date) {\r\n        this.date = new DateTime(date);\r\n    }\r\n\r\n    public DateMidnight initFirstDayOfLastYear(){\r\n        return new DateMidnight(date.minusYears(1).dayOfYear().withMinimumValue());\r\n    }\r\n    public Date getFirstDayOfLastYear(){\r\n        return initFirstDayOfLastYear().toDate();\r\n    }\r\n\r\n    public DateMidnight initLastDayOfLastYear(){\r\n        return initFirstDayOfLastYear().dayOfYear().withMaximumValue();\r\n    }\r\n    public Date getLastDayOfLastYear(){\r\n        return initLastDayOfLastYear().toDate();\r\n    }\r\n\r\n    public DateMidnight initFirstDayOfLastMonth(){\r\n        return new DateMidnight(date.minusMonths(1).dayOfMonth().withMinimumValue());\r\n    }\r\n\r\n    public Date getFirstDayOfLastMonth(){\r\n        return initFirstDayOfLastMonth().toDate();\r\n    }\r\n\r\n    public DateMidnight initLastDayOfLastMonth(){\r\n        return new DateMidnight(initFirstDayOfLastMonth().dayOfMonth().withMaximumValue());\r\n    }\r\n\r\n    public Date getLastDayOfLastMonth(){\r\n        return initLastDayOfLastMonth().toDate();\r\n    }\r\n\r\n    public DateMidnight initFirstDayOfLastWeek(){\r\n        return new DateMidnight(date.minusWeeks(1).dayOfWeek().withMinimumValue());\r\n    }\r\n    public Date getFirstDayOfLastWeek(){\r\n        return initFirstDayOfLastWeek().toDate();\r\n    }\r\n\r\n    public DateMidnight initLastDayOfLastWeek(){\r\n        return initFirstDayOfLastWeek().dayOfWeek().withMaximumValue();\r\n    }\r\n    public Date getLastDayOfLastWeek(){\r\n        return initLastDayOfLastWeek().toDate();\r\n    }\r\n\r\n    public DateMidnight initYesterday(){\r\n        return new DateMidnight(date.minusDays(1));\r\n    }\r\n    public Date getYesterday(){\r\n        return initYesterday().toDate();\r\n    }\r\n\r\n    // this year\r\n\r\n    public DateMidnight initFirstDayOfYear(){\r\n        return new DateMidnight(date.dayOfYear().withMinimumValue());\r\n    }\r\n    public Date getFirstDayOfYear(){\r\n        return initFirstDayOfLastYear().toDate();\r\n    }\r\n\r\n    public DateMidnight initLastDayOfYear(){\r\n        return initFirstDayOfLastYear().dayOfYear().withMaximumValue();\r\n    }\r\n    public Date getLastDayOfYear(){\r\n        return initLastDayOfLastYear().toDate();\r\n    }\r\n\r\n    public DateMidnight initFirstDayOfMonth(){\r\n        return new DateMidnight(date.dayOfMonth().withMinimumValue());\r\n    }\r\n\r\n    public Date getFirstDayOfMonth(){\r\n        return initFirstDayOfLastMonth().toDate();\r\n    }\r\n\r\n    public DateMidnight initLastDayOfMonth(){\r\n        return new DateMidnight(initFirstDayOfMonth().dayOfMonth().withMaximumValue());\r\n    }\r\n\r\n    public Date getLastDayOfMonth(){\r\n        return initLastDayOfLastMonth().toDate();\r\n    }\r\n\r\n    public DateMidnight initFirstDayOfWeek(){\r\n        return new DateMidnight(date.dayOfWeek().withMinimumValue());\r\n    }\r\n    public Date getFirstDayOfWeek(){\r\n        return initFirstDayOfLastWeek().toDate();\r\n    }\r\n\r\n    public DateMidnight initLastDayOfWeek(){\r\n        return initFirstDayOfWeek().dayOfWeek().withMaximumValue();\r\n    }\r\n    public Date getLastDayOfWeek(){\r\n        return initLastDayOfWeek().toDate();\r\n    }\r\n\r\n    public DateMidnight initToday(){\r\n        return new DateMidnight(date.minusDays(1));\r\n    }\r\n    public Date getToday(){\r\n        return initToday().toDate();\r\n    }\r\n\r\n}","title":"Get last week date range for a date in Java","body":"<p>WITH JodaTIME and Java 8/11</p>\n<pre><code>public class DateUtils {\nprivate final DateTime date;\n\npublic DateUtils(Date date) {\n    this.date = new DateTime(date);\n}\n\npublic DateMidnight initFirstDayOfLastYear(){\n    return new DateMidnight(date.minusYears(1).dayOfYear().withMinimumValue());\n}\npublic Date getFirstDayOfLastYear(){\n    return initFirstDayOfLastYear().toDate();\n}\n\npublic DateMidnight initLastDayOfLastYear(){\n    return initFirstDayOfLastYear().dayOfYear().withMaximumValue();\n}\npublic Date getLastDayOfLastYear(){\n    return initLastDayOfLastYear().toDate();\n}\n\npublic DateMidnight initFirstDayOfLastMonth(){\n    return new DateMidnight(date.minusMonths(1).dayOfMonth().withMinimumValue());\n}\n\npublic Date getFirstDayOfLastMonth(){\n    return initFirstDayOfLastMonth().toDate();\n}\n\npublic DateMidnight initLastDayOfLastMonth(){\n    return new DateMidnight(initFirstDayOfLastMonth().dayOfMonth().withMaximumValue());\n}\n\npublic Date getLastDayOfLastMonth(){\n    return initLastDayOfLastMonth().toDate();\n}\n\npublic DateMidnight initFirstDayOfLastWeek(){\n    return new DateMidnight(date.minusWeeks(1).dayOfWeek().withMinimumValue());\n}\npublic Date getFirstDayOfLastWeek(){\n    return initFirstDayOfLastWeek().toDate();\n}\n\npublic DateMidnight initLastDayOfLastWeek(){\n    return initFirstDayOfLastWeek().dayOfWeek().withMaximumValue();\n}\npublic Date getLastDayOfLastWeek(){\n    return initLastDayOfLastWeek().toDate();\n}\n\npublic DateMidnight initYesterday(){\n    return new DateMidnight(date.minusDays(1));\n}\npublic Date getYesterday(){\n    return initYesterday().toDate();\n}\n\n// this year\n\npublic DateMidnight initFirstDayOfYear(){\n    return new DateMidnight(date.dayOfYear().withMinimumValue());\n}\npublic Date getFirstDayOfYear(){\n    return initFirstDayOfLastYear().toDate();\n}\n\npublic DateMidnight initLastDayOfYear(){\n    return initFirstDayOfLastYear().dayOfYear().withMaximumValue();\n}\npublic Date getLastDayOfYear(){\n    return initLastDayOfLastYear().toDate();\n}\n\npublic DateMidnight initFirstDayOfMonth(){\n    return new DateMidnight(date.dayOfMonth().withMinimumValue());\n}\n\npublic Date getFirstDayOfMonth(){\n    return initFirstDayOfLastMonth().toDate();\n}\n\npublic DateMidnight initLastDayOfMonth(){\n    return new DateMidnight(initFirstDayOfMonth().dayOfMonth().withMaximumValue());\n}\n\npublic Date getLastDayOfMonth(){\n    return initLastDayOfLastMonth().toDate();\n}\n\npublic DateMidnight initFirstDayOfWeek(){\n    return new DateMidnight(date.dayOfWeek().withMinimumValue());\n}\npublic Date getFirstDayOfWeek(){\n    return initFirstDayOfLastWeek().toDate();\n}\n\npublic DateMidnight initLastDayOfWeek(){\n    return initFirstDayOfWeek().dayOfWeek().withMaximumValue();\n}\npublic Date getLastDayOfWeek(){\n    return initLastDayOfWeek().toDate();\n}\n\npublic DateMidnight initToday(){\n    return new DateMidnight(date.minusDays(1));\n}\npublic Date getToday(){\n    return initToday().toDate();\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":1862778,"reputation":305,"user_id":1687008,"accept_rate":100,"display_name":"Ryan Malhotra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34546,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":17211202,"answer_count":5,"score":15,"last_activity_date":1645775342,"creation_date":1371722682,"question_id":17210839,"body_markdown":"Suppose I have a Date 20 June 2013\r\n\r\nHow can I get the Date range for the last week, ie in this case 9 June to 15 June.\r\n\r\nAlso if the date was 2nd June 2013\r\n\r\nthe range should be 26 may to 1 june","title":"Get last week date range for a date in Java","body":"<p>Suppose I have a Date 20 June 2013</p>\n\n<p>How can I get the Date range for the last week, ie in this case 9 June to 15 June.</p>\n\n<p>Also if the date was 2nd June 2013</p>\n\n<p>the range should be 26 may to 1 june</p>\n"},{"tags":["java","performance","hazelcast","hazelcast-imap","hazelcast-jet"],"comments":[{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1643960565,"post_id":70954794,"comment_id":125482613,"body_markdown":"Can you please attach full sql query with selected columns? What kind of serialization is used in com.finmason.finriver.product.Product class? Is it simple Java serialization?","body":"Can you please attach full sql query with selected columns? What kind of serialization is used in com.finmason.finriver.product.Product class? Is it simple Java serialization?"},{"owner":{"account_id":24122729,"reputation":21,"user_id":18091616,"display_name":"Lukas Karasek"},"score":0,"creation_date":1643970031,"post_id":70954794,"comment_id":125485725,"body_markdown":"I add SQL used which is fast in HZ 4 and slow in HZ 5","body":"I add SQL used which is fast in HZ 4 and slow in HZ 5"},{"owner":{"account_id":24122729,"reputation":21,"user_id":18091616,"display_name":"Lukas Karasek"},"score":0,"creation_date":1643970612,"post_id":70954794,"comment_id":125485938,"body_markdown":"And maybe one more question about counts .  We tried to switch to HZ 5 because we need Count functionality which is implemented in HZ 5. Is there any workearound for HZ5 to get counts in SQL intrerface ? Thanks","body":"And maybe one more question about counts .  We tried to switch to HZ 5 because we need Count functionality which is implemented in HZ 5. Is there any workearound for HZ5 to get counts in SQL intrerface ? Thanks"},{"owner":{"account_id":920347,"reputation":10311,"user_id":952135,"accept_rate":58,"display_name":"Oliv"},"score":0,"creation_date":1644014321,"post_id":70954794,"comment_id":125501836,"body_markdown":"Only one of your indexes can be used. We have some cost calculations (e.g. `=` is better than `&gt;`), but your filters seem equal. In that case the older index is used. Perhaps a different order was used in your 5.0 test?","body":"Only one of your indexes can be used. We have some cost calculations (e.g. <code>=</code> is better than <code>&gt;</code>), but your filters seem equal. In that case the older index is used. Perhaps a different order was used in your 5.0 test?"},{"owner":{"account_id":24122729,"reputation":21,"user_id":18091616,"display_name":"Lukas Karasek"},"score":0,"creation_date":1644229921,"post_id":70954794,"comment_id":125540789,"body_markdown":"I&#39;m little a bit confused by your answer.\n- Only one index -? \n    - You mean we can have only Sorted or Hash index \n    - Or you mean that it when is search  then you only one index and which one ?\n     for Order by or First in Where clausule ?\n  - What do you mean by this : In that case the older index is used.\n  what does ment the Older index ?\nAnd as a note, The query is in all cases exact same","body":"I&#39;m little a bit confused by your answer. - Only one index -?      - You mean we can have only Sorted or Hash index      - Or you mean that it when is search  then you only one index and which one ?      for Order by or First in Where clausule ?   - What do you mean by this : In that case the older index is used.   what does ment the Older index ? And as a note, The query is in all cases exact same"},{"owner":{"account_id":920347,"reputation":10311,"user_id":952135,"accept_rate":58,"display_name":"Oliv"},"score":0,"creation_date":1644247464,"post_id":70954794,"comment_id":125547847,"body_markdown":"You can have multiple indexes, but one query can use only one index. It is a common misconception that if I use fields `a` and `b` in the WHERE clause, then I create 2 indexes, one for each. That&#39;s not correct. Hazelcast doesn&#39;t use statistics, so we don&#39;t know which index would be better to use. Both indexes are equivalent, therefore we pick the one that was created first.","body":"You can have multiple indexes, but one query can use only one index. It is a common misconception that if I use fields <code>a</code> and <code>b</code> in the WHERE clause, then I create 2 indexes, one for each. That&#39;s not correct. Hazelcast doesn&#39;t use statistics, so we don&#39;t know which index would be better to use. Both indexes are equivalent, therefore we pick the one that was created first."},{"owner":{"account_id":920347,"reputation":10311,"user_id":952135,"accept_rate":58,"display_name":"Oliv"},"score":0,"creation_date":1644573412,"post_id":70954794,"comment_id":125647604,"body_markdown":"Actually, an issue was filled about this. In 5.0, index resolution was broken for queries of type `a&gt;? &amp;&amp; a&lt;?`, see https://github.com/hazelcast/hazelcast/pull/20681","body":"Actually, an issue was filled about this. In 5.0, index resolution was broken for queries of type <code>a&gt;? &amp;&amp; a&lt;?</code>, see <a href=\"https://github.com/hazelcast/hazelcast/pull/20681\" rel=\"nofollow noreferrer\">github.com/hazelcast/hazelcast/pull/20681</a>"}],"answers":[{"tags":[],"owner":{"account_id":4686541,"reputation":709,"user_id":3793824,"display_name":"Krzysztof"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645187314,"creation_date":1645124312,"answer_id":71163927,"question_id":70954794,"body_markdown":"Please upgrade to Hazelcast 5.1 (planned for February 23 right now).\r\nIt should be fixed with https://github.com/hazelcast/hazelcast/pull/20681","title":"Hazelcast SQL interface slow performance HZ 4.2.2 vs HZ 5.0.2","body":"<p>Please upgrade to Hazelcast 5.1 (planned for February 23 right now).\nIt should be fixed with <a href=\"https://github.com/hazelcast/hazelcast/pull/20681\" rel=\"nofollow noreferrer\">https://github.com/hazelcast/hazelcast/pull/20681</a></p>\n"},{"tags":[],"owner":{"account_id":16660639,"reputation":11,"user_id":12040674,"display_name":"Krzysztof Ślusarski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645775220,"creation_date":1645775220,"answer_id":71262611,"question_id":70954794,"body_markdown":"Actually this case will speed up by 3 separate PRs from 5.1:\r\n\r\n - https://github.com/hazelcast/hazelcast/pull/20681 - this one make your query use index\r\n - https://github.com/hazelcast/hazelcast/pull/20402 - this one will do less deserialization on cluster side\r\n - https://github.com/hazelcast/hazelcast/pull/20398 - this one makes deserialization on client side faster for multi-column queries\r\n\r\nThere are two cases not resolved in 5.1, they are described in https://github.com/hazelcast/hazelcast/pull/20796 - it should not be \r\na problem in your case, but if someone else see this post, it may be his/her. I hope that fix will be delivered in 5.1.1. \r\n\r\nIf you have a possibility to upgrade to full 5.1 after the release then I strongly recommend you to do it. ","title":"Hazelcast SQL interface slow performance HZ 4.2.2 vs HZ 5.0.2","body":"<p>Actually this case will speed up by 3 separate PRs from 5.1:</p>\n<ul>\n<li><a href=\"https://github.com/hazelcast/hazelcast/pull/20681\" rel=\"nofollow noreferrer\">https://github.com/hazelcast/hazelcast/pull/20681</a> - this one make your query use index</li>\n<li><a href=\"https://github.com/hazelcast/hazelcast/pull/20402\" rel=\"nofollow noreferrer\">https://github.com/hazelcast/hazelcast/pull/20402</a> - this one will do less deserialization on cluster side</li>\n<li><a href=\"https://github.com/hazelcast/hazelcast/pull/20398\" rel=\"nofollow noreferrer\">https://github.com/hazelcast/hazelcast/pull/20398</a> - this one makes deserialization on client side faster for multi-column queries</li>\n</ul>\n<p>There are two cases not resolved in 5.1, they are described in <a href=\"https://github.com/hazelcast/hazelcast/pull/20796\" rel=\"nofollow noreferrer\">https://github.com/hazelcast/hazelcast/pull/20796</a> - it should not be\na problem in your case, but if someone else see this post, it may be his/her. I hope that fix will be delivered in 5.1.1.</p>\n<p>If you have a possibility to upgrade to full 5.1 after the release then I strongly recommend you to do it.</p>\n"}],"owner":{"account_id":24122729,"reputation":21,"user_id":18091616,"display_name":"Lukas Karasek"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1645775220,"creation_date":1643801309,"question_id":70954794,"body_markdown":"\r\n\r\nSituation : \r\n\r\n - We have a product with approx 30 attributes (String, Enum, Double)\r\n   values\r\n - We have iMap with indexes for all attributes IndexType.HASH for\r\n   string value and IndexType.SORTED for double values. (900MB together)\r\n - We have 300k products in map.(aprox 500MB )\r\n - We use local Datagrid with one member\r\n - JVM config: -Xms6G -Xmx8G\r\n - For HZ 5: we enabled JetConfig                \r\n   config.getJetConfig().setEnabled(true);\r\n - Use Java AdoptOpenJDK 11.0.8\r\n\r\nWhen invoking SQL query with pagination  in HZ4 we got a response approx in 20-50ms, but the same query in Hazelcast 5 we got results in 2000-2500 ms    \r\n```\r\n...ORDER BY param1  ASC LIMIT  20 OFFSET  0... \r\nSqlResult sqlRows = hazelcastInstance.getSql().execute(sqlBuilder.toString());                                                                                           \r\n```\r\n\r\nWhen we tried to use predicates on the same map and in HZ4 and HZ5 we got the same results about 2000-2500 ms to get predicated page    \r\n\r\n```java\r\nPagingPredicate&lt;Long, Product&gt; pagingPredicate = Predicates.pagingPredicate(predicate, ProductComparatorFactory.getEntryComparator(sortName), max);\r\npagingPredicate.setPage(from / max);\r\n///get final list of products\r\nList&lt;Product&gt; selectedPageA = new ArrayList&lt;&gt;(productMap.getAll(productMap.keySet(pagingPredicate)).values());\r\n```\r\n\r\nFor HZ 5 we add Mapping \r\n```java\r\nhazelcastInstance.getSql().execute(&quot;CREATE MAPPING &quot;ProductScreenerRepositoryProductMap&quot; EXTERNAL NAME &quot;ProductScreenerRepositoryProductMap&quot;\r\nTYPE IMap\r\nOPTIONS (\r\n  &#39;keyFormat&#39; = &#39;java&#39;,\r\n  &#39;keyJavaClass&#39; = &#39;java.lang.Long&#39;,\r\n  &#39;valueFormat&#39; = &#39;java&#39;,\r\n  &#39;valueJavaClass&#39; = &#39;com.finmason.finriver.product.Product&#39;\r\n)&quot;);\r\n}\r\n```\r\nThere is used SQL\r\n```\r\n SELECT * FROM ProductScreenerRepositoryProductMap \r\n WHERE doubleValue1 &gt;= -0.9624378795139998 \r\n AND doubleValue1 &lt;= 0.9727269574354098 \r\n AND doubleValue2 &gt;= -0.9 \r\n AND doubleValue2 &lt;= 0.9 \r\n ORDER BY doubleValue3  ASC LIMIT  20 OFFSET  0\r\n```\r\n\r\nAnd Product use simple serialization ","title":"Hazelcast SQL interface slow performance HZ 4.2.2 vs HZ 5.0.2","body":"<p>Situation :</p>\n<ul>\n<li>We have a product with approx 30 attributes (String, Enum, Double)\nvalues</li>\n<li>We have iMap with indexes for all attributes IndexType.HASH for\nstring value and IndexType.SORTED for double values. (900MB together)</li>\n<li>We have 300k products in map.(aprox 500MB )</li>\n<li>We use local Datagrid with one member</li>\n<li>JVM config: -Xms6G -Xmx8G</li>\n<li>For HZ 5: we enabled JetConfig<br />\nconfig.getJetConfig().setEnabled(true);</li>\n<li>Use Java AdoptOpenJDK 11.0.8</li>\n</ul>\n<p>When invoking SQL query with pagination  in HZ4 we got a response approx in 20-50ms, but the same query in Hazelcast 5 we got results in 2000-2500 ms</p>\n<pre><code>...ORDER BY param1  ASC LIMIT  20 OFFSET  0... \nSqlResult sqlRows = hazelcastInstance.getSql().execute(sqlBuilder.toString());                                                                                           \n</code></pre>\n<p>When we tried to use predicates on the same map and in HZ4 and HZ5 we got the same results about 2000-2500 ms to get predicated page</p>\n<pre class=\"lang-java prettyprint-override\"><code>PagingPredicate&lt;Long, Product&gt; pagingPredicate = Predicates.pagingPredicate(predicate, ProductComparatorFactory.getEntryComparator(sortName), max);\npagingPredicate.setPage(from / max);\n///get final list of products\nList&lt;Product&gt; selectedPageA = new ArrayList&lt;&gt;(productMap.getAll(productMap.keySet(pagingPredicate)).values());\n</code></pre>\n<p>For HZ 5 we add Mapping</p>\n<pre class=\"lang-java prettyprint-override\"><code>hazelcastInstance.getSql().execute(&quot;CREATE MAPPING &quot;ProductScreenerRepositoryProductMap&quot; EXTERNAL NAME &quot;ProductScreenerRepositoryProductMap&quot;\nTYPE IMap\nOPTIONS (\n  'keyFormat' = 'java',\n  'keyJavaClass' = 'java.lang.Long',\n  'valueFormat' = 'java',\n  'valueJavaClass' = 'com.finmason.finriver.product.Product'\n)&quot;);\n}\n</code></pre>\n<p>There is used SQL</p>\n<pre><code> SELECT * FROM ProductScreenerRepositoryProductMap \n WHERE doubleValue1 &gt;= -0.9624378795139998 \n AND doubleValue1 &lt;= 0.9727269574354098 \n AND doubleValue2 &gt;= -0.9 \n AND doubleValue2 &lt;= 0.9 \n ORDER BY doubleValue3  ASC LIMIT  20 OFFSET  0\n</code></pre>\n<p>And Product use simple serialization</p>\n"},{"tags":["java","cmd","utf-8","command-prompt"],"comments":[{"owner":{"account_id":3692224,"reputation":46695,"user_id":3074564,"display_name":"Mofi"},"score":0,"creation_date":1645773847,"post_id":71262156,"comment_id":125964528,"body_markdown":"Please open a command prompt window and run `cmd /?`. The output usage help explains how the command line argument(s) after option `/C` or option `/K` are interpreted by the Windows Command Processor depending on multiple criteria which became very important to know on using operators like `&amp;` and `&amp;&amp;`. Run next `start /?` for help on this internal command of `cmd.exe`.","body":"Please open a command prompt window and run <code>cmd &#47;?</code>. The output usage help explains how the command line argument(s) after option <code>&#47;C</code> or option <code>&#47;K</code> are interpreted by the Windows Command Processor depending on multiple criteria which became very important to know on using operators like <code>&amp;</code> and <code>&amp;&amp;</code>. Run next <code>start &#47;?</code> for help on this internal command of <code>cmd.exe</code>."},{"owner":{"account_id":3692224,"reputation":46695,"user_id":3074564,"display_name":"Mofi"},"score":0,"creation_date":1645774045,"post_id":71262156,"comment_id":125964572,"body_markdown":"Why do you use in Java `rt.exec` using on Windows the kernel library function [CreateProcess](https://docs.microsoft.com/en-us/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessw) to start `cmd.exe` to execute its internal command `start` which uses also `CreateProcess` to start `stack` if this executable or script file is found at all by `cmd.exe` as specified without file extension and without fully qualified path? I hope, you do not think the current directory on starting executables from within a Java coded program is always the directory containing the Java coded app.","body":"Why do you use in Java <code>rt.exec</code> using on Windows the kernel library function <a href=\"https://docs.microsoft.com/en-us/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessw\" rel=\"nofollow noreferrer\">CreateProcess</a> to start <code>cmd.exe</code> to execute its internal command <code>start</code> which uses also <code>CreateProcess</code> to start <code>stack</code> if this executable or script file is found at all by <code>cmd.exe</code> as specified without file extension and without fully qualified path? I hope, you do not think the current directory on starting executables from within a Java coded program is always the directory containing the Java coded app."},{"owner":{"account_id":3692224,"reputation":46695,"user_id":3074564,"display_name":"Mofi"},"score":0,"creation_date":1645774594,"post_id":71262156,"comment_id":125964723,"body_markdown":"That would be a completely wrong expectation. The current directory of a program is defined by the parent process on using `CreateProcess` to start the Java program with the function parameter `lpCurrentDirectory`. You could have more luck with `&quot;cmd.exe /D /S /C \\&quot;%SystemRoot%\\\\System32\\\\chcp.com 65001 &gt;nul &amp; &quot; + cmd + &quot;\\&quot;&quot;`. Beside the awful variable name `cmd` which would be better named `command_line`, I think it would be better to use Java code to run directly `stack` with fully qualified file name in the environment expected by that program.","body":"That would be a completely wrong expectation. The current directory of a program is defined by the parent process on using <code>CreateProcess</code> to start the Java program with the function parameter <code>lpCurrentDirectory</code>. You could have more luck with <code>&quot;cmd.exe &#47;D &#47;S &#47;C \\&quot;%SystemRoot%\\\\System32\\\\chcp.com 65001 &gt;nul &amp; &quot; + cmd + &quot;\\&quot;&quot;</code>. Beside the awful variable name <code>cmd</code> which would be better named <code>command_line</code>, I think it would be better to use Java code to run directly <code>stack</code> with fully qualified file name in the environment expected by that program."},{"owner":{"account_id":3692224,"reputation":46695,"user_id":3074564,"display_name":"Mofi"},"score":0,"creation_date":1645774813,"post_id":71262156,"comment_id":125964780,"body_markdown":"I recommend to read the documentation about the Java class [ProcessBuilder](https://docs.oracle.com/javase/8/docs/api/java/lang/ProcessBuilder.html) which gives a Java programmer more control over usage of `CreateProcess` than the class [Runtime](https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html). The character encoding for the input, output and error stream can be defined inside the Java program on using `ProcessBuilder` making it possible to run `stack` directly without usage of `cmd.exe` at all. The current directory can be also set with class `ProcessBuilder`.","body":"I recommend to read the documentation about the Java class <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\">ProcessBuilder</a> which gives a Java programmer more control over usage of <code>CreateProcess</code> than the class <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html\" rel=\"nofollow noreferrer\">Runtime</a>. The character encoding for the input, output and error stream can be defined inside the Java program on using <code>ProcessBuilder</code> making it possible to run <code>stack</code> directly without usage of <code>cmd.exe</code> at all. The current directory can be also set with class <code>ProcessBuilder</code>."},{"owner":{"account_id":3692224,"reputation":46695,"user_id":3074564,"display_name":"Mofi"},"score":0,"creation_date":1645775184,"post_id":71262156,"comment_id":125964893,"body_markdown":"If you need examples, look on the Stack Overflow search results for [\\[java\\] ProcessBuilder UTF-8](https://stackoverflow.com/search?q=%5Bjava%5D+ProcessBuilder+UTF-8).","body":"If you need examples, look on the Stack Overflow search results for <a href=\"https://stackoverflow.com/search?q=%5Bjava%5D+ProcessBuilder+UTF-8\">&#91;java&#93; ProcessBuilder UTF-8</a>."},{"owner":{"account_id":21736352,"reputation":439,"user_id":16044298,"display_name":"Bradford Griggs"},"score":0,"creation_date":1645777914,"post_id":71262156,"comment_id":125965676,"body_markdown":"@Mofi Thanks for your reply. I am able to successfully execute: `String[] cmdAsArr = cmd.split(&quot; &quot;); ProcessBuilder pb = new ProcessBuilder(); pb.command(cmdAsArr); pb.directory(new File(dir)); Process p = pb.start();` But if I add encoding information -&gt;  `ProcessBuilder pb = new ProcessBuilder(&quot;chcp&quot;, &quot;65001&quot;).inheritIO();` (before `pb.command(cmdAsArr);`) the process no longer starts..","body":"@Mofi Thanks for your reply. I am able to successfully execute: <code>String[] cmdAsArr = cmd.split(&quot; &quot;); ProcessBuilder pb = new ProcessBuilder(); pb.command(cmdAsArr); pb.directory(new File(dir)); Process p = pb.start();</code> But if I add encoding information -&gt;  <code>ProcessBuilder pb = new ProcessBuilder(&quot;chcp&quot;, &quot;65001&quot;).inheritIO();</code> (before <code>pb.command(cmdAsArr);</code>) the process no longer starts.."},{"owner":{"account_id":21736352,"reputation":439,"user_id":16044298,"display_name":"Bradford Griggs"},"score":0,"creation_date":1645778705,"post_id":71262156,"comment_id":125965912,"body_markdown":"In other words, I am unable to get `Process Builder` to launch the desired process/application **and** to preserve encoding information while doing so -- as I am able to do when opening up command prompt and entering the commands manually.. It seems I back to square one as this is the exact same result I was getting when using `rt.exec`..","body":"In other words, I am unable to get <code>Process Builder</code> to launch the desired process/application <b>and</b> to preserve encoding information while doing so -- as I am able to do when opening up command prompt and entering the commands manually.. It seems I back to square one as this is the exact same result I was getting when using <code>rt.exec</code>.."},{"owner":{"account_id":3692224,"reputation":46695,"user_id":3074564,"display_name":"Mofi"},"score":0,"creation_date":1645790963,"post_id":71262156,"comment_id":125969880,"body_markdown":"You should not try to execute `%SystemRoot%\\System32\\chcp.com` to change the code page of the console. You should define the one, two or three streams inside your Java code and use the UTF-8 encoding for the stream(s) and run with `ProcessBuilder` the program `stack` using the UTF-8 stream(s) defined in your Java application. Please look on the answers found by the Stack Overflow search provided by me already in my previous comment.","body":"You should not try to execute <code>%SystemRoot%\\System32\\chcp.com</code> to change the code page of the console. You should define the one, two or three streams inside your Java code and use the UTF-8 encoding for the stream(s) and run with <code>ProcessBuilder</code> the program <code>stack</code> using the UTF-8 stream(s) defined in your Java application. Please look on the answers found by the Stack Overflow search provided by me already in my previous comment."}],"owner":{"account_id":21736352,"reputation":439,"user_id":16044298,"display_name":"Bradford Griggs"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1903,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1645775202,"creation_date":1645772334,"question_id":71262156,"body_markdown":"I&#39;m launching [Facebook / Duckling][1] via `Command Prompt` using the following code:\r\n\r\n    String dir = theDucklingDir;\r\n\tString cmd = &quot;stack exec duckling-example-exe -- -p &quot; + port;\r\n\tRuntime rt = Runtime.getRuntime();\r\n\trt.exec(&quot;cmd.exe /c start /min &amp;&amp; &quot; + cmd, null, new File(dir));\r\n\r\nHowever, the data sent to Duckling was not being parsed due to the following exception:\r\n\r\n    A web handler threw an exception. Details:\r\n    TerminateSessionException user error (Text.Regex.PCRE.String died: (21,&quot;invalid UTF-8 string&quot;))\r\n\r\nI noticed that if I manually execute the command: `CHCP 65001` in `Command Prompt` before executing:  `stack exec duckling-example-exe -- -p port` it solves the problem and the data is parsed as expected.\r\n\r\nI tried replicating this when starting Duckling programmatically:\r\n\r\n    rt.exec(&quot;cmd.exe /c start /min CHCP 65001 &amp;&amp; &quot; + cmd, null, new File(dir));\r\n\r\nHowever, Duckling no longer starts when I add `CHCP 65001` before the main command.\r\n\r\nHow can I replicate launching Duckling with: `CHCP 65001`?\r\n\r\n\r\n\r\n**UPDATE 1**:\r\n\r\nIn response to @Mofi request, I&#39;m adding the output of commands `cdm /?` and `start /?` below:\r\n\r\n    cmd /?\r\n    Starts a new instance of the Windows command interpreter\r\n    \r\n    CMD [/A | /U] [/Q] [/D] [/E:ON | /E:OFF] [/F:ON | /F:OFF] [/V:ON | /V:OFF]\r\n        [[/S] [/C | /K] string]\r\n    \r\n    /C      Carries out the command specified by string and then terminates\r\n    /K      Carries out the command specified by string but remains\r\n    /S      Modifies the treatment of string after /C or /K (see below)\r\n    /Q      Turns echo off\r\n    /D      Disable execution of AutoRun commands from registry (see below)\r\n    /A      Causes the output of internal commands to a pipe or file to be ANSI\r\n    /U      Causes the output of internal commands to a pipe or file to be\r\n            Unicode\r\n    /T:fg   Sets the foreground/background colors (see COLOR /? for more info)\r\n    /E:ON   Enable command extensions (see below)\r\n    /E:OFF  Disable command extensions (see below)\r\n    /F:ON   Enable file and directory name completion characters (see below)\r\n    /F:OFF  Disable file and directory name completion characters (see below)\r\n    /V:ON   Enable delayed environment variable expansion using ! as the\r\n            delimiter. For example, /V:ON would allow !var! to expand the\r\n            variable var at execution time.  The var syntax expands variables\r\n            at input time, which is quite a different thing when inside of a FOR\r\n            loop.\r\n    /V:OFF  Disable delayed environment expansion.\r\n    \r\n    Note that multiple commands separated by the command separator &#39;&amp;&amp;&#39;\r\n    are accepted for string if surrounded by quotes.  Also, for compatibility\r\n    reasons, /X is the same as /E:ON, /Y is the same as /E:OFF and /R is the\r\n    same as /C.  Any other switches are ignored.\r\n\r\n\r\n\r\n    If /C or /K is specified, then the remainder of the command line after\r\n    the switch is processed as a command line, where the following logic is\r\n    used to process quote (&quot;) characters:\r\n    \r\n        1.  If all of the following conditions are met, then quote characters\r\n            on the command line are preserved:\r\n    \r\n            - no /S switch\r\n            - exactly two quote characters\r\n            - no special characters between the two quote characters,\r\n              where special is one of: &amp;&lt;&gt;()@^|\r\n            - there are one or more whitespace characters between the\r\n              two quote characters\r\n            - the string between the two quote characters is the name\r\n              of an executable file.\r\n    \r\n        2.  Otherwise, old behavior is to see if the first character is\r\n            a quote character and if so, strip the leading character and\r\n            remove the last quote character on the command line, preserving\r\n            any text after the last quote character.\r\n    \r\n    If /D was NOT specified on the command line, then when CMD.EXE starts, it\r\n    looks for the following REG_SZ/REG_EXPAND_SZ registry variables, and if\r\n    either or both are present, they are executed first.\r\n    \r\n        HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Command Processor\\AutoRun\r\n    Press any key to continue . . .\r\n-----------------------------------------------------------------------------\r\n    start /?\r\n\r\n    START [&quot;title&quot;] [/D path] [/I] [/MIN] [/MAX] [/SEPARATE | /SHARED]\r\n          [/LOW | /NORMAL | /HIGH | /REALTIME | /ABOVENORMAL | /BELOWNORMAL]\r\n          [/NODE &lt;NUMA node&gt;] [/AFFINITY &lt;hex affinity mask&gt;] [/WAIT] [/B]\r\n          [command/program] [parameters]\r\n    \r\n        &quot;title&quot;     Title to display in window title bar.\r\n        path        Starting directory.\r\n        B           Start application without creating a new window. The\r\n                    application has ^C handling ignored. Unless the application\r\n                    enables ^C processing, ^Break is the only way to interrupt\r\n                    the application.\r\n        I           The new environment will be the original environment passed\r\n                    to the cmd.exe and not the current environment.\r\n        MIN         Start window minimized.\r\n        MAX         Start window maximized.\r\n        SEPARATE    Start 16-bit Windows program in separate memory space.\r\n        SHARED      Start 16-bit Windows program in shared memory space.\r\n        LOW         Start application in the IDLE priority class.\r\n        NORMAL      Start application in the NORMAL priority class.\r\n        HIGH        Start application in the HIGH priority class.\r\n        REALTIME    Start application in the REALTIME priority class.\r\n        ABOVENORMAL Start application in the ABOVENORMAL priority class.\r\n        BELOWNORMAL Start application in the BELOWNORMAL priority class.\r\n        NODE        Specifies the preferred Non-Uniform Memory Architecture (NUMA)\r\n                    node as a decimal integer.\r\n        AFFINITY    Specifies the processor affinity mask as a hexadecimal number.\r\n    Press any key to continue . . \r\n\r\n.\r\n\r\n\r\n  [1]: https://github.com/facebook/duckling\r\n\r\n","title":"Forcing UTF-8 Encoding in a Command Prompt Invoked by Java? (Windows 10)","body":"<p>I'm launching <a href=\"https://github.com/facebook/duckling\" rel=\"nofollow noreferrer\">Facebook / Duckling</a> via <code>Command Prompt</code> using the following code:</p>\n<pre><code>String dir = theDucklingDir;\nString cmd = &quot;stack exec duckling-example-exe -- -p &quot; + port;\nRuntime rt = Runtime.getRuntime();\nrt.exec(&quot;cmd.exe /c start /min &amp;&amp; &quot; + cmd, null, new File(dir));\n</code></pre>\n<p>However, the data sent to Duckling was not being parsed due to the following exception:</p>\n<pre><code>A web handler threw an exception. Details:\nTerminateSessionException user error (Text.Regex.PCRE.String died: (21,&quot;invalid UTF-8 string&quot;))\n</code></pre>\n<p>I noticed that if I manually execute the command: <code>CHCP 65001</code> in <code>Command Prompt</code> before executing:  <code>stack exec duckling-example-exe -- -p port</code> it solves the problem and the data is parsed as expected.</p>\n<p>I tried replicating this when starting Duckling programmatically:</p>\n<pre><code>rt.exec(&quot;cmd.exe /c start /min CHCP 65001 &amp;&amp; &quot; + cmd, null, new File(dir));\n</code></pre>\n<p>However, Duckling no longer starts when I add <code>CHCP 65001</code> before the main command.</p>\n<p>How can I replicate launching Duckling with: <code>CHCP 65001</code>?</p>\n<p><strong>UPDATE 1</strong>:</p>\n<p>In response to @Mofi request, I'm adding the output of commands <code>cdm /?</code> and <code>start /?</code> below:</p>\n<pre><code>cmd /?\nStarts a new instance of the Windows command interpreter\n\nCMD [/A | /U] [/Q] [/D] [/E:ON | /E:OFF] [/F:ON | /F:OFF] [/V:ON | /V:OFF]\n    [[/S] [/C | /K] string]\n\n/C      Carries out the command specified by string and then terminates\n/K      Carries out the command specified by string but remains\n/S      Modifies the treatment of string after /C or /K (see below)\n/Q      Turns echo off\n/D      Disable execution of AutoRun commands from registry (see below)\n/A      Causes the output of internal commands to a pipe or file to be ANSI\n/U      Causes the output of internal commands to a pipe or file to be\n        Unicode\n/T:fg   Sets the foreground/background colors (see COLOR /? for more info)\n/E:ON   Enable command extensions (see below)\n/E:OFF  Disable command extensions (see below)\n/F:ON   Enable file and directory name completion characters (see below)\n/F:OFF  Disable file and directory name completion characters (see below)\n/V:ON   Enable delayed environment variable expansion using ! as the\n        delimiter. For example, /V:ON would allow !var! to expand the\n        variable var at execution time.  The var syntax expands variables\n        at input time, which is quite a different thing when inside of a FOR\n        loop.\n/V:OFF  Disable delayed environment expansion.\n\nNote that multiple commands separated by the command separator '&amp;&amp;'\nare accepted for string if surrounded by quotes.  Also, for compatibility\nreasons, /X is the same as /E:ON, /Y is the same as /E:OFF and /R is the\nsame as /C.  Any other switches are ignored.\n\n\n\nIf /C or /K is specified, then the remainder of the command line after\nthe switch is processed as a command line, where the following logic is\nused to process quote (&quot;) characters:\n\n    1.  If all of the following conditions are met, then quote characters\n        on the command line are preserved:\n\n        - no /S switch\n        - exactly two quote characters\n        - no special characters between the two quote characters,\n          where special is one of: &amp;&lt;&gt;()@^|\n        - there are one or more whitespace characters between the\n          two quote characters\n        - the string between the two quote characters is the name\n          of an executable file.\n\n    2.  Otherwise, old behavior is to see if the first character is\n        a quote character and if so, strip the leading character and\n        remove the last quote character on the command line, preserving\n        any text after the last quote character.\n\nIf /D was NOT specified on the command line, then when CMD.EXE starts, it\nlooks for the following REG_SZ/REG_EXPAND_SZ registry variables, and if\neither or both are present, they are executed first.\n\n    HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Command Processor\\AutoRun\nPress any key to continue . . .\n</code></pre>\n<hr />\n<pre><code>start /?\n\nSTART [&quot;title&quot;] [/D path] [/I] [/MIN] [/MAX] [/SEPARATE | /SHARED]\n      [/LOW | /NORMAL | /HIGH | /REALTIME | /ABOVENORMAL | /BELOWNORMAL]\n      [/NODE &lt;NUMA node&gt;] [/AFFINITY &lt;hex affinity mask&gt;] [/WAIT] [/B]\n      [command/program] [parameters]\n\n    &quot;title&quot;     Title to display in window title bar.\n    path        Starting directory.\n    B           Start application without creating a new window. The\n                application has ^C handling ignored. Unless the application\n                enables ^C processing, ^Break is the only way to interrupt\n                the application.\n    I           The new environment will be the original environment passed\n                to the cmd.exe and not the current environment.\n    MIN         Start window minimized.\n    MAX         Start window maximized.\n    SEPARATE    Start 16-bit Windows program in separate memory space.\n    SHARED      Start 16-bit Windows program in shared memory space.\n    LOW         Start application in the IDLE priority class.\n    NORMAL      Start application in the NORMAL priority class.\n    HIGH        Start application in the HIGH priority class.\n    REALTIME    Start application in the REALTIME priority class.\n    ABOVENORMAL Start application in the ABOVENORMAL priority class.\n    BELOWNORMAL Start application in the BELOWNORMAL priority class.\n    NODE        Specifies the preferred Non-Uniform Memory Architecture (NUMA)\n                node as a decimal integer.\n    AFFINITY    Specifies the processor affinity mask as a hexadecimal number.\nPress any key to continue . . \n</code></pre>\n<p>.</p>\n"},{"tags":["java","spring","spring-boot","kotlin"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1645774876,"post_id":71262492,"comment_id":125964804,"body_markdown":"Please add stacktraces as Text not as image","body":"Please add stacktraces as Text not as image"},{"owner":{"account_id":1868510,"reputation":9045,"user_id":1691423,"accept_rate":89,"display_name":"vlio20"},"score":0,"creation_date":1645784161,"post_id":71262492,"comment_id":125967762,"body_markdown":"@Jens, you can see the link to the stack trace in the question. It is a text there, not an image.","body":"@Jens, you can see the link to the stack trace in the question. It is a text there, not an image."}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1645774730,"creation_date":1645774730,"answer_id":71262535,"question_id":71262492,"body_markdown":"As the error message:\r\n\r\n     java.lang.NoClassDefFoundError: org/springframework/data/convert/JodaTimeConverters\r\n\r\nmentioned, you miss the `spring-data-commons` jar. Add it as dependency and the error should be solved.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Spring R2DBC Repos auto configuration not resolving dependencies","body":"<p>As the error message:</p>\n<pre><code> java.lang.NoClassDefFoundError: org/springframework/data/convert/JodaTimeConverters\n</code></pre>\n<p>mentioned, you miss the <code>spring-data-commons</code> jar. Add it as dependency and the error should be solved.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1868510,"reputation":9045,"user_id":1691423,"accept_rate":89,"display_name":"vlio20"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1681,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71262535,"answer_count":1,"score":1,"last_activity_date":1645774946,"creation_date":1645774463,"question_id":71262492,"body_markdown":"I Have the following repository: https://github.com/vlio20/bfit in which I try to use R2DBC in order to do db operations in an async manner.\r\nI followed the following tutorial (but maybe it is outdated https://www.youtube.com/watch?v=DvO4zLVDkMs\r\n\r\nHere are the relevant dependancies of my pom:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-data-r2dbc&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.github.jasync-sql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jasync-r2dbc-mysql&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nI am using the default configurations, so I only have the following configuration in my properties yaml:\r\n\r\n    server:\r\n      port: 2121\r\n    \r\n    spring:\r\n      profiles:\r\n        active: ${env:default}\r\n    \r\n      r2dbc:\r\n        url: r2dbc:mysql://localhost:3306/bf_db\r\n        username: root\r\n        password: root\r\n    \r\n    app:\r\n      name: Bfit\r\n\r\n\r\n\r\nAnd this is the error that I am getting:\r\n\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n&gt; Error creating bean with name &#39;userController&#39; defined in file\r\n&gt; [/Users/vioffe/personal/bfit/api/target/classes/com/bfit/api/user/controller/UserController.class]:\r\n&gt; Unsatisfied dependency expressed through constructor parameter 0;\r\n&gt; nested exception is\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n&gt; Error creating bean with name &#39;userService&#39; defined in file\r\n&gt; [/Users/vioffe/personal/bfit/api/target/classes/com/bfit/api/user/service/UserService.class]:\r\n&gt; Unsatisfied dependency expressed through constructor parameter 0;\r\n&gt; nested exception is\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;userRepo&#39; defined in\r\n&gt; com.bfit.api.user.db.UserRepo defined in @EnableR2dbcRepositories\r\n&gt; declared on\r\n&gt; R2dbcRepositoriesAutoConfigureRegistrar.EnableR2dbcRepositoriesConfiguration:\r\n&gt; Cannot resolve reference to bean &#39;r2dbcEntityTemplate&#39; while setting\r\n&gt; bean property &#39;entityOperations&#39;; nested exception is\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n&gt; Error creating bean with name &#39;r2dbcEntityTemplate&#39; defined in class\r\n&gt; path resource\r\n&gt; [org/springframework/boot/autoconfigure/data/r2dbc/R2dbcDataAutoConfiguration.class]:\r\n&gt; Unsatisfied dependency expressed through method &#39;r2dbcEntityTemplate&#39;\r\n&gt; parameter 0; nested exception is\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n&gt; Error creating bean with name &#39;r2dbcConverter&#39; defined in class path\r\n&gt; resource\r\n&gt; [org/springframework/boot/autoconfigure/data/r2dbc/R2dbcDataAutoConfiguration.class]:\r\n&gt; Unsatisfied dependency expressed through method &#39;r2dbcConverter&#39;\r\n&gt; parameter 0; nested exception is\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n&gt; Error creating bean with name &#39;r2dbcMappingContext&#39; defined in class\r\n&gt; path resource\r\n&gt; [org/springframework/boot/autoconfigure/data/r2dbc/R2dbcDataAutoConfiguration.class]:\r\n&gt; Unsatisfied dependency expressed through method &#39;r2dbcMappingContext&#39;\r\n&gt; parameter 1; nested exception is\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;r2dbcCustomConversions&#39; defined in class path\r\n&gt; resource\r\n&gt; [org/springframework/boot/autoconfigure/data/r2dbc/R2dbcDataAutoConfiguration.class]:\r\n&gt; Bean instantiation via factory method failed; nested exception is\r\n&gt; org.springframework.beans.BeanInstantiationException: Failed to\r\n&gt; instantiate\r\n&gt; [org.springframework.data.r2dbc.convert.R2dbcCustomConversions]:\r\n&gt; Factory method &#39;r2dbcCustomConversions&#39; threw exception; nested\r\n&gt; exception is java.lang.NoClassDefFoundError:\r\n&gt; org/springframework/data/convert/JodaTimeConverters\r\n\r\n\r\nHere is the full stack trace: https://pastebin.com/X4DGm4rQ\r\n\r\n","title":"Spring R2DBC Repos auto configuration not resolving dependencies","body":"<p>I Have the following repository: <a href=\"https://github.com/vlio20/bfit\" rel=\"nofollow noreferrer\">https://github.com/vlio20/bfit</a> in which I try to use R2DBC in order to do db operations in an async manner.\nI followed the following tutorial (but maybe it is outdated <a href=\"https://www.youtube.com/watch?v=DvO4zLVDkMs\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=DvO4zLVDkMs</a></p>\n<p>Here are the relevant dependancies of my pom:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-data-r2dbc&lt;/artifactId&gt;\n  &lt;version&gt;1.4.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;com.github.jasync-sql&lt;/groupId&gt;\n  &lt;artifactId&gt;jasync-r2dbc-mysql&lt;/artifactId&gt;\n  &lt;version&gt;2.0.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I am using the default configurations, so I only have the following configuration in my properties yaml:</p>\n<pre><code>server:\n  port: 2121\n\nspring:\n  profiles:\n    active: ${env:default}\n\n  r2dbc:\n    url: r2dbc:mysql://localhost:3306/bf_db\n    username: root\n    password: root\n\napp:\n  name: Bfit\n</code></pre>\n<p>And this is the error that I am getting:</p>\n<blockquote>\n<p>org.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name 'userController' defined in file\n[/Users/vioffe/personal/bfit/api/target/classes/com/bfit/api/user/controller/UserController.class]:\nUnsatisfied dependency expressed through constructor parameter 0;\nnested exception is\norg.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name 'userService' defined in file\n[/Users/vioffe/personal/bfit/api/target/classes/com/bfit/api/user/service/UserService.class]:\nUnsatisfied dependency expressed through constructor parameter 0;\nnested exception is\norg.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name 'userRepo' defined in\ncom.bfit.api.user.db.UserRepo defined in @EnableR2dbcRepositories\ndeclared on\nR2dbcRepositoriesAutoConfigureRegistrar.EnableR2dbcRepositoriesConfiguration:\nCannot resolve reference to bean 'r2dbcEntityTemplate' while setting\nbean property 'entityOperations'; nested exception is\norg.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name 'r2dbcEntityTemplate' defined in class\npath resource\n[org/springframework/boot/autoconfigure/data/r2dbc/R2dbcDataAutoConfiguration.class]:\nUnsatisfied dependency expressed through method 'r2dbcEntityTemplate'\nparameter 0; nested exception is\norg.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name 'r2dbcConverter' defined in class path\nresource\n[org/springframework/boot/autoconfigure/data/r2dbc/R2dbcDataAutoConfiguration.class]:\nUnsatisfied dependency expressed through method 'r2dbcConverter'\nparameter 0; nested exception is\norg.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name 'r2dbcMappingContext' defined in class\npath resource\n[org/springframework/boot/autoconfigure/data/r2dbc/R2dbcDataAutoConfiguration.class]:\nUnsatisfied dependency expressed through method 'r2dbcMappingContext'\nparameter 1; nested exception is\norg.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name 'r2dbcCustomConversions' defined in class path\nresource\n[org/springframework/boot/autoconfigure/data/r2dbc/R2dbcDataAutoConfiguration.class]:\nBean instantiation via factory method failed; nested exception is\norg.springframework.beans.BeanInstantiationException: Failed to\ninstantiate\n[org.springframework.data.r2dbc.convert.R2dbcCustomConversions]:\nFactory method 'r2dbcCustomConversions' threw exception; nested\nexception is java.lang.NoClassDefFoundError:\norg/springframework/data/convert/JodaTimeConverters</p>\n</blockquote>\n<p>Here is the full stack trace: <a href=\"https://pastebin.com/X4DGm4rQ\" rel=\"nofollow noreferrer\">https://pastebin.com/X4DGm4rQ</a></p>\n"},{"tags":["java","html","spring-boot","spring-mvc","thymeleaf"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1645775357,"post_id":71262564,"comment_id":125964942,"body_markdown":"You need javascript for that, intercept the form submit and handle the submit with JavaScript. But why aren&#39;t you just using an `@ModelAttribute` if you do `/house/rent` remove `@RequestParam` and `@PathVariable` annotated arguments and replace with `@ModelAttribute House house` Spirng will bind the form elements to the `House` object, which you can then use in your method.","body":"You need javascript for that, intercept the form submit and handle the submit with JavaScript. But why aren&#39;t you just using an <code>@ModelAttribute</code> if you do <code>&#47;house&#47;rent</code> remove <code>@RequestParam</code> and <code>@PathVariable</code> annotated arguments and replace with <code>@ModelAttribute House house</code> Spirng will bind the form elements to the <code>House</code> object, which you can then use in your method."},{"owner":{"account_id":19982380,"reputation":85,"user_id":14645205,"display_name":"Okabe"},"score":0,"creation_date":1645775508,"post_id":71262564,"comment_id":125964991,"body_markdown":"So a solution  with only  Thymeleaf and HTML is not possible?","body":"So a solution  with only  Thymeleaf and HTML is not possible?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1645775561,"post_id":71262564,"comment_id":125965003,"body_markdown":"Not without JavaScript.","body":"Not without JavaScript."},{"owner":{"account_id":19982380,"reputation":85,"user_id":14645205,"display_name":"Okabe"},"score":0,"creation_date":1645775614,"post_id":71262564,"comment_id":125965021,"body_markdown":"Oh I didn&#39;t read your edited comment with your method I can also pass the id in the input or not?","body":"Oh I didn&#39;t read your edited comment with your method I can also pass the id in the input or not?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1645775706,"post_id":71262564,"comment_id":125965043,"body_markdown":"Why not, it is just an input field which you can bind to the `House` object directly.","body":"Why not, it is just an input field which you can bind to the <code>House</code> object directly."},{"owner":{"account_id":19982380,"reputation":85,"user_id":14645205,"display_name":"Okabe"},"score":0,"creation_date":1645775778,"post_id":71262564,"comment_id":125965068,"body_markdown":"ok thx I will try to implement that","body":"ok thx I will try to implement that"},{"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"score":0,"creation_date":1645803431,"post_id":71262564,"comment_id":125974457,"body_markdown":"Two things to consider: 1) Why should the user enter an (internal database) ID directly like this? A user should have no contact to implementation details like that. 2) This is an URL for a form post, not a REST URL. It makes no sense to have the ID in the URL like that. All forms should post their data in the request body.","body":"Two things to consider: 1) Why should the user enter an (internal database) ID directly like this? A user should have no contact to implementation details like that. 2) This is an URL for a form post, not a REST URL. It makes no sense to have the ID in the URL like that. All forms should post their data in the request body."}],"owner":{"account_id":19982380,"reputation":85,"user_id":14645205,"display_name":"Okabe"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645774910,"creation_date":1645774910,"question_id":71262564,"body_markdown":"I know the title might be misleading but here my question: In Thymeleaf we set  request params with the input (in HTML). Is it possible to have an input field that sets the path variable. For example I have an method like this: \r\n\r\n    @PostMapping(&quot;/house/{id}/rent&quot;)\r\n        public String rentHouse(@RequestParam Date startDate, @PathVariable(&quot;id&quot;) long id, Model model) {\r\n            House h = new House();\r\n            h.setId(id);\r\n            r.setStartDate(startDate);\r\n            Rents rents = rentsService.createNewRent(h, id);\r\n  \r\n            model.addAttribute(&quot;rent&quot;, rents);\r\n            return &quot;House&quot;;\r\n        }\r\n\r\n\r\n\r\nAnd in House.html I want something like this: \r\n\r\n\r\n    &lt;form th:action=&quot;@{/house/${id}/rent/}&quot; method=&quot;post&quot;&gt;\r\n        &lt;label for=&quot;startDate&quot;&gt;start Date:&lt;/label&gt;&lt;br&gt;\r\n        &lt;input type=&quot;datetime-local&quot; id=&quot;startDate&quot; th:name=&quot;startDate&quot; placeholder=&quot;startDate&quot;&gt;&lt;br&gt;\r\n      &lt;label for=&quot;id&quot;&gt;house id:&lt;/label&gt;&lt;br&gt;\r\n        &lt;input type=&quot;number&quot; id=&quot;id&quot; th:name=&quot;id&quot; placeholder=&quot;id&quot;&gt;&lt;br&gt;\r\n        &lt;br&gt;\r\n        &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\r\n        &lt;input type=&quot;reset&quot; value=&quot;Reset&quot;&gt;\r\n\r\n\r\nSo that when I input something then the result url should be looking like this (I know start Date has false format):\r\nlocalhost:8080/House/12/rents?startDate=02.21.22\r\n\r\nAnd is it also possible to pass request body in Thymeleaf, I searched for similar questions but they all solved it by manually putting the path variable in the url.\r\nThanks in advance","title":"Is it possible to have an input path for variables in Thymeleaf","body":"<p>I know the title might be misleading but here my question: In Thymeleaf we set  request params with the input (in HTML). Is it possible to have an input field that sets the path variable. For example I have an method like this:</p>\n<pre><code>@PostMapping(&quot;/house/{id}/rent&quot;)\n    public String rentHouse(@RequestParam Date startDate, @PathVariable(&quot;id&quot;) long id, Model model) {\n        House h = new House();\n        h.setId(id);\n        r.setStartDate(startDate);\n        Rents rents = rentsService.createNewRent(h, id);\n\n        model.addAttribute(&quot;rent&quot;, rents);\n        return &quot;House&quot;;\n    }\n</code></pre>\n<p>And in House.html I want something like this:</p>\n<pre><code>&lt;form th:action=&quot;@{/house/${id}/rent/}&quot; method=&quot;post&quot;&gt;\n    &lt;label for=&quot;startDate&quot;&gt;start Date:&lt;/label&gt;&lt;br&gt;\n    &lt;input type=&quot;datetime-local&quot; id=&quot;startDate&quot; th:name=&quot;startDate&quot; placeholder=&quot;startDate&quot;&gt;&lt;br&gt;\n  &lt;label for=&quot;id&quot;&gt;house id:&lt;/label&gt;&lt;br&gt;\n    &lt;input type=&quot;number&quot; id=&quot;id&quot; th:name=&quot;id&quot; placeholder=&quot;id&quot;&gt;&lt;br&gt;\n    &lt;br&gt;\n    &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\n    &lt;input type=&quot;reset&quot; value=&quot;Reset&quot;&gt;\n</code></pre>\n<p>So that when I input something then the result url should be looking like this (I know start Date has false format):\nlocalhost:8080/House/12/rents?startDate=02.21.22</p>\n<p>And is it also possible to pass request body in Thymeleaf, I searched for similar questions but they all solved it by manually putting the path variable in the url.\nThanks in advance</p>\n"},{"tags":["java","asynchronous","exception","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":43656,"reputation":96754,"user_id":127724,"accept_rate":94,"display_name":"Artefacto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456317021,"creation_date":1456317021,"answer_id":35602280,"question_id":35600278,"body_markdown":"I don&#39;t think your diagnosis is correct. That exception is thrown with that error message only in `SimpleStepHandler`:\r\n\r\n\tif (currentStepExecution.getStatus() == BatchStatus.STOPPING\r\n\t\t\t|| currentStepExecution.getStatus() == BatchStatus.STOPPED) {\r\n\t\t// Ensure that the job gets the message that it is stopping\r\n\t\texecution.setStatus(BatchStatus.STOPPING);\r\n\t\tthrow new JobInterruptedException(&quot;Job interrupted by step execution&quot;);\r\n\t}\r\n\r\nand only if the step itself didn&#39;t throw `JobInterruptedException`. The most obvious case where this can happen is if the job was stopped. See [this example](https://gist.github.com/cataphract/c1a3031880557fefb9da#file-stopjob-groovy), whose output ends with\r\n\r\n&lt;pre&gt;\r\nINFO: Executing step: [step1]\r\nFeb 24, 2016 1:25:02 PM org.springframework.batch.core.repository.support.SimpleJobRepository checkForInterruption\r\nINFO: Parent JobExecution is stopped, so passing message on to StepExecution\r\nFeb 24, 2016 1:25:02 PM org.springframework.batch.core.step.ThreadStepInterruptionPolicy isInterrupted\r\nINFO: Step interrupted through StepExecution\r\nFeb 24, 2016 1:25:02 PM org.springframework.batch.core.step.AbstractStep execute\r\nINFO: Encountered interruption executing step step1 in job myJob : Job interrupted status detected.\r\nFeb 24, 2016 1:25:02 PM org.springframework.batch.core.repository.support.SimpleJobRepository checkForInterruption\r\nINFO: Parent JobExecution is stopped, so passing message on to StepExecution\r\nFeb 24, 2016 1:25:02 PM org.springframework.batch.core.job.AbstractJob execute\r\nINFO: Encountered interruption executing job: Job interrupted by step execution\r\nFeb 24, 2016 1:25:02 PM org.springframework.batch.core.launch.support.SimpleJobLauncher$1 run\r\nINFO: Job: [SimpleJob: [name=myJob]] completed with the following parameters: [{}] and the following status: [STOPPED]\r\nStatus is: STOPPED\r\n&lt;/pre&gt;\r\n\r\n[This other example](https://gist.github.com/cataphract/c1a3031880557fefb9da#file-threadpoolexception-groovy) shows that throwing an exception when using a thread pool changes nothing. The final output is \r\n\r\n&lt;pre&gt;\r\nINFO: Executing step: [step1]\r\nFeb 24, 2016 1:28:44 PM org.springframework.batch.core.step.AbstractStep execute\r\nSEVERE: Encountered an error executing step step1 in job myJob\r\njava.lang.RuntimeException: My exception\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\r\n(...)\r\n\r\nFeb 24, 2016 1:28:44 PM org.springframework.batch.core.launch.support.SimpleJobLauncher$1 run\r\nINFO: Job: [SimpleJob: [name=myJob]] completed with the following parameters: [{}] and the following status: [FAILED]\r\nStatus is: FAILED, job execution id 0\r\n  #1 step1 FAILED\r\nStep step1\r\njava.lang.RuntimeException: My exception\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n(...)\r\n&lt;/pre&gt;\r\n","title":"Handling job/step exceptions with asynchronous TaskManager","body":"<p>I don't think your diagnosis is correct. That exception is thrown with that error message only in <code>SimpleStepHandler</code>:</p>\n\n<pre><code>if (currentStepExecution.getStatus() == BatchStatus.STOPPING\n        || currentStepExecution.getStatus() == BatchStatus.STOPPED) {\n    // Ensure that the job gets the message that it is stopping\n    execution.setStatus(BatchStatus.STOPPING);\n    throw new JobInterruptedException(\"Job interrupted by step execution\");\n}\n</code></pre>\n\n<p>and only if the step itself didn't throw <code>JobInterruptedException</code>. The most obvious case where this can happen is if the job was stopped. See <a href=\"https://gist.github.com/cataphract/c1a3031880557fefb9da#file-stopjob-groovy\" rel=\"nofollow\">this example</a>, whose output ends with</p>\n\n<pre>\nINFO: Executing step: [step1]\nFeb 24, 2016 1:25:02 PM org.springframework.batch.core.repository.support.SimpleJobRepository checkForInterruption\nINFO: Parent JobExecution is stopped, so passing message on to StepExecution\nFeb 24, 2016 1:25:02 PM org.springframework.batch.core.step.ThreadStepInterruptionPolicy isInterrupted\nINFO: Step interrupted through StepExecution\nFeb 24, 2016 1:25:02 PM org.springframework.batch.core.step.AbstractStep execute\nINFO: Encountered interruption executing step step1 in job myJob : Job interrupted status detected.\nFeb 24, 2016 1:25:02 PM org.springframework.batch.core.repository.support.SimpleJobRepository checkForInterruption\nINFO: Parent JobExecution is stopped, so passing message on to StepExecution\nFeb 24, 2016 1:25:02 PM org.springframework.batch.core.job.AbstractJob execute\nINFO: Encountered interruption executing job: Job interrupted by step execution\nFeb 24, 2016 1:25:02 PM org.springframework.batch.core.launch.support.SimpleJobLauncher$1 run\nINFO: Job: [SimpleJob: [name=myJob]] completed with the following parameters: [{}] and the following status: [STOPPED]\nStatus is: STOPPED\n</pre>\n\n<p><a href=\"https://gist.github.com/cataphract/c1a3031880557fefb9da#file-threadpoolexception-groovy\" rel=\"nofollow\">This other example</a> shows that throwing an exception when using a thread pool changes nothing. The final output is </p>\n\n<pre>\nINFO: Executing step: [step1]\nFeb 24, 2016 1:28:44 PM org.springframework.batch.core.step.AbstractStep execute\nSEVERE: Encountered an error executing step step1 in job myJob\njava.lang.RuntimeException: My exception\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\n(...)\n\nFeb 24, 2016 1:28:44 PM org.springframework.batch.core.launch.support.SimpleJobLauncher$1 run\nINFO: Job: [SimpleJob: [name=myJob]] completed with the following parameters: [{}] and the following status: [FAILED]\nStatus is: FAILED, job execution id 0\n  #1 step1 FAILED\nStep step1\njava.lang.RuntimeException: My exception\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n(...)\n</pre>\n"},{"tags":[],"owner":{"account_id":6160033,"reputation":171,"user_id":4801950,"accept_rate":57,"display_name":"Cyril Dejonghe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461165330,"creation_date":1461165330,"answer_id":36748180,"question_id":35600278,"body_markdown":"So the answer was so simple than I felt really stupid when I understood it :\r\n@Artefacto was right. The job was stopped. By the end of the process. Because it reached the end of the main() method.\r\n\r\nWhen I switch to an asynchronous mode with my ThreadPoolTaskManager, I forgot to add one very important line to my main method:\r\n\r\n    \r\n\t\t// Wait for the end of the JobExecution\r\n\t\tmain.endOfJobLatch.await();\r\n\r\nHope this answer will help someone else...","title":"Handling job/step exceptions with asynchronous TaskManager","body":"<p>So the answer was so simple than I felt really stupid when I understood it :\n@Artefacto was right. The job was stopped. By the end of the process. Because it reached the end of the main() method.</p>\n\n<p>When I switch to an asynchronous mode with my ThreadPoolTaskManager, I forgot to add one very important line to my main method:</p>\n\n<pre><code>    // Wait for the end of the JobExecution\n    main.endOfJobLatch.await();\n</code></pre>\n\n<p>Hope this answer will help someone else...</p>\n"}],"owner":{"account_id":6160033,"reputation":171,"user_id":4801950,"accept_rate":57,"display_name":"Cyril Dejonghe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3733,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645774423,"creation_date":1456311707,"question_id":35600278,"body_markdown":"I can&#39;t find a proper way to handle spring-batch exception in asynchronous context. \r\n\r\nWhen I set a `ThreadPoolTaskManager` to my `JobLauncher`, the real job/step exception is not logged anymore. Instead the log will be something like:\r\n\r\n    org.springframework.batch.core.JobInterruptedException: Job interrupted by step execution\r\n    at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:165)\r\n\tat ...\r\n\r\nI tried to resolve this adding a `JobExecutionListener` like this:\r\n\r\n    @Override\r\n\tpublic void afterJob(JobExecution jobExecution) {\r\n\t\tList&lt;Throwable&gt; jobExceptions = jobExecution.getFailureExceptions();\r\n\t\tif (CollectionUtils.isNotEmpty(jobExceptions)) {\r\n\t\t\tThrowable lastJobException = jobExceptions.get(jobExceptions.size() - 1);\r\n\t\t\tLOGGER.error(&quot;Spring-Batch error at job level&quot;, lastJobException);\r\n\t\t\tString lastJobExceptionMessage = ExceptionUtils.getRootCauseMessage(lastJobException);\r\n\r\n\t\t\t// storing message in ExecutionContext for the batch-admin webapp\r\n\t\t\tString message = &quot;&quot;;\r\n\t\t\tif (jobExecution.getExecutionContext().get(Consts.JOB_EXECUTION_MESSAGE_KEY) != null) {\r\n\t\t\t\tmessage = jobExecution.getExecutionContext().getString(Consts.JOB_EXECUTION_MESSAGE_KEY);\r\n\t\t\t}\r\n\t\t\tmessage += &quot;\\n&quot; + lastJobExceptionMessage;\r\n\t\t\tjobExecution.getExecutionContext().put(Consts.JOB_EXECUTION_MESSAGE_KEY, message);\r\n\t\t}\r\n\r\n\t}\r\n\r\nBut I still end with a `JobInterruptedException`. \r\nIs there a way to retrieve the initial cause of the interruption (might be a error in the reader/processor/writer code?\r\n","title":"Handling job/step exceptions with asynchronous TaskManager","body":"<p>I can't find a proper way to handle spring-batch exception in asynchronous context.</p>\n<p>When I set a <code>ThreadPoolTaskManager</code> to my <code>JobLauncher</code>, the real job/step exception is not logged anymore. Instead the log will be something like:</p>\n<pre><code>org.springframework.batch.core.JobInterruptedException: Job interrupted by step execution\nat org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:165)\nat ...\n</code></pre>\n<p>I tried to resolve this adding a <code>JobExecutionListener</code> like this:</p>\n<pre><code>@Override\npublic void afterJob(JobExecution jobExecution) {\n    List&lt;Throwable&gt; jobExceptions = jobExecution.getFailureExceptions();\n    if (CollectionUtils.isNotEmpty(jobExceptions)) {\n        Throwable lastJobException = jobExceptions.get(jobExceptions.size() - 1);\n        LOGGER.error(&quot;Spring-Batch error at job level&quot;, lastJobException);\n        String lastJobExceptionMessage = ExceptionUtils.getRootCauseMessage(lastJobException);\n\n        // storing message in ExecutionContext for the batch-admin webapp\n        String message = &quot;&quot;;\n        if (jobExecution.getExecutionContext().get(Consts.JOB_EXECUTION_MESSAGE_KEY) != null) {\n            message = jobExecution.getExecutionContext().getString(Consts.JOB_EXECUTION_MESSAGE_KEY);\n        }\n        message += &quot;\\n&quot; + lastJobExceptionMessage;\n        jobExecution.getExecutionContext().put(Consts.JOB_EXECUTION_MESSAGE_KEY, message);\n    }\n\n}\n</code></pre>\n<p>But I still end with a <code>JobInterruptedException</code>.\nIs there a way to retrieve the initial cause of the interruption (might be a error in the reader/processor/writer code?</p>\n"},{"tags":["java","architecture","cqrs","event-driven"],"comments":[{"owner":{"account_id":22259,"reputation":53853,"user_id":54734,"accept_rate":29,"display_name":"VoiceOfUnreason"},"score":0,"creation_date":1645729661,"post_id":71256261,"comment_id":125955132,"body_markdown":"Event _driven_ without CQRS?  Certainly; that&#39;s a common choice.  Event _sourcing_ without CQRS...? yes, but that&#39;s a VERY rare choice.","body":"Event <i>driven</i> without CQRS?  Certainly; that&#39;s a common choice.  Event <i>sourcing</i> without CQRS...? yes, but that&#39;s a VERY rare choice."}],"answers":[{"tags":[],"owner":{"account_id":26350,"reputation":17454,"user_id":68490,"accept_rate":20,"display_name":"Tore Nestenius"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645774197,"creation_date":1645774197,"answer_id":71262453,"question_id":71256261,"body_markdown":"CQRS and event-driven are two totally different patterns that can very successfully be applied and used on its own.\r\n\r\nBut together with DDD the fit very well together!\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nVisit [CQRS.NU][2] where you can find one implementation of this that you can take a look at.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BjFLG.png\r\n  [2]: https://www.cqrs.nu/","title":"Can we use Event-driven without CQRS","body":"<p>CQRS and event-driven are two totally different patterns that can very successfully be applied and used on its own.</p>\n<p>But together with DDD the fit very well together!</p>\n<p><a href=\"https://i.stack.imgur.com/BjFLG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BjFLG.png\" alt=\"enter image description here\" /></a></p>\n<p>Visit <a href=\"https://www.cqrs.nu/\" rel=\"nofollow noreferrer\">CQRS.NU</a> where you can find one implementation of this that you can take a look at.</p>\n"}],"owner":{"account_id":12044656,"reputation":13,"user_id":8810177,"display_name":"Big boi."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645774197,"creation_date":1645725422,"question_id":71256261,"body_markdown":"I have experience with Event-driven for less than 1 year and there&#39;s something that I don&#39;t really understand that why do we need it. As my tiny brain can remember, CQRS help us separate command model (write) / query model (read) so we can easily design database for write and read. It sounds good, but it has some consistency problem between write and read timeline or also known as set based consistency and how do I make sure if there&#39;s no error between the timeline or if it occurs how do I even make sure if the current read model is valid?. So I start asking myself do I really need CQRS. Can&#39;t I just use Event-driven without it and focusing on how the event are stored. So I came up with something like this.\r\n\r\n    public class UserController {\r\n        @PostMapping\r\n        public CompletableFuture&lt;String&gt; createUser(request: RegisterUserRequestDTO){\r\n            // some validation and business logic here\r\n            // publish event if succeeded\r\n            publisher.publish(UserRegisteredEvent.create(request));\r\n        }\r\n    }\r\n    \r\n    class UserEventHandler {\r\n        public void handle(event: UserRegisteredEvent){\r\n            // save data to the db here or the read model\r\n        }\r\n    }\r\n\r\nSo I haven&#39;t tried it yet, but it seems to work maybe? So I&#39;m a stupid guy with less experience anyway so correct me if i&#39;m wrong. why do we need CQRS combine with Event-driven? Can I use Event-driven without CQRS? What&#39;s the idea behind it.","title":"Can we use Event-driven without CQRS","body":"<p>I have experience with Event-driven for less than 1 year and there's something that I don't really understand that why do we need it. As my tiny brain can remember, CQRS help us separate command model (write) / query model (read) so we can easily design database for write and read. It sounds good, but it has some consistency problem between write and read timeline or also known as set based consistency and how do I make sure if there's no error between the timeline or if it occurs how do I even make sure if the current read model is valid?. So I start asking myself do I really need CQRS. Can't I just use Event-driven without it and focusing on how the event are stored. So I came up with something like this.</p>\n<pre><code>public class UserController {\n    @PostMapping\n    public CompletableFuture&lt;String&gt; createUser(request: RegisterUserRequestDTO){\n        // some validation and business logic here\n        // publish event if succeeded\n        publisher.publish(UserRegisteredEvent.create(request));\n    }\n}\n\nclass UserEventHandler {\n    public void handle(event: UserRegisteredEvent){\n        // save data to the db here or the read model\n    }\n}\n</code></pre>\n<p>So I haven't tried it yet, but it seems to work maybe? So I'm a stupid guy with less experience anyway so correct me if i'm wrong. why do we need CQRS combine with Event-driven? Can I use Event-driven without CQRS? What's the idea behind it.</p>\n"},{"tags":["java","android","okhttp"],"comments":[{"owner":{"account_id":14506303,"reputation":316,"user_id":10478001,"display_name":"J.Gerbershagen"},"score":0,"creation_date":1584523398,"post_id":60735480,"comment_id":107459408,"body_markdown":"Handshake exceptions can occur when the ca-certificate is missing. Can you connect through the android webView Browser to your backend-server?","body":"Handshake exceptions can occur when the ca-certificate is missing. Can you connect through the android webView Browser to your backend-server?"},{"owner":{"account_id":17805207,"reputation":89,"user_id":12931054,"display_name":"Andre Hadianto"},"score":0,"creation_date":1584585319,"post_id":60735480,"comment_id":107483854,"body_markdown":"@J.Gerbershagen yeah I can&#39;t connect to my backend server through the emulator&#39;s browser. The flask server is a basic one with `app.run(host=&quot;0.0.0.0&quot;, debug=True)`. Do I have to reinstall a certificate on the emulator?","body":"@J.Gerbershagen yeah I can&#39;t connect to my backend server through the emulator&#39;s browser. The flask server is a basic one with <code>app.run(host=&quot;0.0.0.0&quot;, debug=True)</code>. Do I have to reinstall a certificate on the emulator?"},{"owner":{"account_id":14506303,"reputation":316,"user_id":10478001,"display_name":"J.Gerbershagen"},"score":0,"creation_date":1584597672,"post_id":60735480,"comment_id":107486352,"body_markdown":"I seems so. Installation is described on https://stackoverflow.com/questions/4461360/how-to-install-trusted-ca-certificate-on-android-device","body":"I seems so. Installation is described on <a href=\"https://stackoverflow.com/questions/4461360/how-to-install-trusted-ca-certificate-on-android-device\" title=\"how to install trusted ca certificate on android device\">stackoverflow.com/questions/4461360/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10656783,"reputation":2091,"user_id":7846071,"display_name":"Nensi Kasundra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645773974,"creation_date":1584523547,"answer_id":60736611,"question_id":60735480,"body_markdown":"    Here&#39;s the insecure OkHttpClient widely used as a workaround.\r\n    \r\n    Do not use it on production, it&#39;s merely for dev purposes.\r\n    \r\n        import java.security.SecureRandom;\r\n        import java.security.cert.CertificateException;\r\n        import java.security.cert.X509Certificate;\r\n        \r\n        import javax.net.ssl.HostnameVerifier;\r\n        import javax.net.ssl.SSLContext;\r\n        import javax.net.ssl.SSLSession;\r\n        import javax.net.ssl.SSLSocketFactory;\r\n        import javax.net.ssl.TrustManager;\r\n        import javax.net.ssl.X509TrustManager;\r\n        \r\n        import okhttp3.OkHttpClient;\r\n        \r\n        public class Http {\r\n        \r\n            private final static String SSL = &quot;SSL&quot;;\r\n        \r\n            private static OkHttpClient InsecureHttpClient;\r\n        \r\n            public static OkHttpClient client () {\r\n                if (InsecureHttpClient == null) {\r\n                    try {\r\n                        InsecureHttpClient = insecureOkHttpClient ();\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace ();\r\n                    }\r\n                }\r\n        \r\n                return InsecureHttpClient;\r\n            }\r\n        \r\n            private static OkHttpClient insecureOkHttpClient () throws Exception {\r\n                TrustManager [] trustAllCerts       = new TrustManager [] { trustManager () };\r\n        \r\n                SSLContext sslContext               = SSLContext.getInstance (SSL);\r\n                sslContext.init (null, trustAllCerts, new SecureRandom ());\r\n        \r\n                SSLSocketFactory sslSocketFactory   = sslContext.getSocketFactory ();\r\n        \r\n                OkHttpClient.Builder builder        = new OkHttpClient.Builder ();\r\n                builder.sslSocketFactory (sslSocketFactory, (X509TrustManager)trustAllCerts [0]);\r\n                builder.hostnameVerifier (hostnameVerifier ());\r\n        \r\n                return builder.build ();\r\n            }\r\n        \r\n            private static TrustManager trustManager () {\r\n                return new X509TrustManager () {\r\n        \r\n                    @Override\r\n                    public void checkClientTrusted (X509Certificate [] chain, String authType) throws CertificateException {  }\r\n        \r\n                    @Override\r\n                    public void checkServerTrusted (X509Certificate[] chain, String authType) throws CertificateException {  }\r\n        \r\n                    @Override\r\n                    public X509Certificate [] getAcceptedIssuers () {\r\n                        return new X509Certificate [] {  };\r\n                    }\r\n                };\r\n            }\r\n        \r\n            private static HostnameVerifier hostnameVerifier () {\r\n                return new HostnameVerifier () {\r\n        \r\n                    @Override\r\n                    public boolean verify (String hostname, SSLSession session) {\r\n                        return true;\r\n                    }\r\n                };\r\n            }\r\n        }\r\n    \r\n    You then obviously use the above client like the following test code for example: (which, by the way, works with your URL)\r\n    \r\n        final Request request = new Request.Builder ()\r\n            .url (&quot;your URL&quot;)\r\n            .get ()\r\n            .addHeader (&quot;Accept&quot;, &quot;text/html&quot;)\r\n            .build ();\r\n        \r\n        final OkHttpClient httpClient = Http.client ();\r\n    new Thread (new Runnable () {\r\n    \r\n        @Override\r\n        public void run () {\r\n            try {\r\n                Response response = httpClient.newCall (request).execute ();\r\n    \r\n                Logger.error (MainActivity.class.getSimpleName () + &quot; --&gt; Http Response&quot;, response.body ().string ());\r\n    \r\n            } catch (IOException e) {\r\n                e.printStackTrace ();\r\n            }\r\n        }\r\n    \r\n    }).start ();","title":"okHTTP3 returns SSLHandshakeException: Handshake failed","body":"<pre><code>Here's the insecure OkHttpClient widely used as a workaround.\n\nDo not use it on production, it's merely for dev purposes.\n\n    import java.security.SecureRandom;\n    import java.security.cert.CertificateException;\n    import java.security.cert.X509Certificate;\n    \n    import javax.net.ssl.HostnameVerifier;\n    import javax.net.ssl.SSLContext;\n    import javax.net.ssl.SSLSession;\n    import javax.net.ssl.SSLSocketFactory;\n    import javax.net.ssl.TrustManager;\n    import javax.net.ssl.X509TrustManager;\n    \n    import okhttp3.OkHttpClient;\n    \n    public class Http {\n    \n        private final static String SSL = &quot;SSL&quot;;\n    \n        private static OkHttpClient InsecureHttpClient;\n    \n        public static OkHttpClient client () {\n            if (InsecureHttpClient == null) {\n                try {\n                    InsecureHttpClient = insecureOkHttpClient ();\n                } catch (Exception e) {\n                    e.printStackTrace ();\n                }\n            }\n    \n            return InsecureHttpClient;\n        }\n    \n        private static OkHttpClient insecureOkHttpClient () throws Exception {\n            TrustManager [] trustAllCerts       = new TrustManager [] { trustManager () };\n    \n            SSLContext sslContext               = SSLContext.getInstance (SSL);\n            sslContext.init (null, trustAllCerts, new SecureRandom ());\n    \n            SSLSocketFactory sslSocketFactory   = sslContext.getSocketFactory ();\n    \n            OkHttpClient.Builder builder        = new OkHttpClient.Builder ();\n            builder.sslSocketFactory (sslSocketFactory, (X509TrustManager)trustAllCerts [0]);\n            builder.hostnameVerifier (hostnameVerifier ());\n    \n            return builder.build ();\n        }\n    \n        private static TrustManager trustManager () {\n            return new X509TrustManager () {\n    \n                @Override\n                public void checkClientTrusted (X509Certificate [] chain, String authType) throws CertificateException {  }\n    \n                @Override\n                public void checkServerTrusted (X509Certificate[] chain, String authType) throws CertificateException {  }\n    \n                @Override\n                public X509Certificate [] getAcceptedIssuers () {\n                    return new X509Certificate [] {  };\n                }\n            };\n        }\n    \n        private static HostnameVerifier hostnameVerifier () {\n            return new HostnameVerifier () {\n    \n                @Override\n                public boolean verify (String hostname, SSLSession session) {\n                    return true;\n                }\n            };\n        }\n    }\n\nYou then obviously use the above client like the following test code for example: (which, by the way, works with your URL)\n\n    final Request request = new Request.Builder ()\n        .url (&quot;your URL&quot;)\n        .get ()\n        .addHeader (&quot;Accept&quot;, &quot;text/html&quot;)\n        .build ();\n    \n    final OkHttpClient httpClient = Http.client ();\nnew Thread (new Runnable () {\n\n    @Override\n    public void run () {\n        try {\n            Response response = httpClient.newCall (request).execute ();\n\n            Logger.error (MainActivity.class.getSimpleName () + &quot; --&gt; Http Response&quot;, response.body ().string ());\n\n        } catch (IOException e) {\n            e.printStackTrace ();\n        }\n    }\n\n}).start ();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601713590,"creation_date":1601713590,"answer_id":64182220,"question_id":60735480,"body_markdown":"See https://github.com/square/okhttp/blob/482f88300f78c3419b04379fc26c3683c10d6a9d/samples/guide/src/main/java/okhttp3/recipes/kt/DevServer.kt#L40\r\n\r\n```\r\n  val clientCertificates = HandshakeCertificates.Builder()\r\n      .addPlatformTrustedCertificates()\r\n      .addInsecureHost(&quot;192.168.0.8&quot;)\r\n      .build()\r\n\r\n  val client = OkHttpClient.Builder()\r\n      .sslSocketFactory(clientCertificates.sslSocketFactory(), clientCertificates.trustManager)\r\n      .build()\r\n```","title":"okHTTP3 returns SSLHandshakeException: Handshake failed","body":"<p>See <a href=\"https://github.com/square/okhttp/blob/482f88300f78c3419b04379fc26c3683c10d6a9d/samples/guide/src/main/java/okhttp3/recipes/kt/DevServer.kt#L40\" rel=\"nofollow noreferrer\">https://github.com/square/okhttp/blob/482f88300f78c3419b04379fc26c3683c10d6a9d/samples/guide/src/main/java/okhttp3/recipes/kt/DevServer.kt#L40</a></p>\n<pre><code>  val clientCertificates = HandshakeCertificates.Builder()\n      .addPlatformTrustedCertificates()\n      .addInsecureHost(&quot;192.168.0.8&quot;)\n      .build()\n\n  val client = OkHttpClient.Builder()\n      .sslSocketFactory(clientCertificates.sslSocketFactory(), clientCertificates.trustManager)\n      .build()\n</code></pre>\n"}],"owner":{"account_id":17805207,"reputation":89,"user_id":12931054,"display_name":"Andre Hadianto"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3772,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1645773974,"creation_date":1584518340,"question_id":60735480,"body_markdown":"The function is expected to loop through a directory and post each image found from an android API 28 emulator to a Flask backend server, both running locally (API call from emulator:`https://10.0.2.2:5000/upload`).\r\n\r\nThe android logcat:\r\n```\r\n2020-03-18 15:51:29.417 8687-8940/com.screenomics E/MainActivity: Request{method=POST, url=https://10.0.2.2:5000/upload, tags={}}\r\n2020-03-18 15:51:29.446 8687-8940/com.screenomics W/System.err: javax.net.ssl.SSLHandshakeException: Handshake failed\r\n2020-03-18 15:51:29.446 8687-8940/com.screenomics W/System.err:     at com.android.org.conscrypt.ConscryptFileDescriptorSocket.startHandshake(ConscryptFileDescriptorSocket.java:286)\r\n2020-03-18 15:51:29.446 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.java:320)\r\n2020-03-18 15:51:29.446 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.java:284)\r\n2020-03-18 15:51:29.447 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:169)\r\n2020-03-18 15:51:29.447 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:257)\r\n2020-03-18 15:51:29.447 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135)\r\n2020-03-18 15:51:29.447 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114)\r\n2020-03-18 15:51:29.447 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)\r\n2020-03-18 15:51:29.448 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n2020-03-18 15:51:29.448 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\r\n2020-03-18 15:51:29.448 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:94)\r\n2020-03-18 15:51:29.448 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n2020-03-18 15:51:29.448 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\r\n2020-03-18 15:51:29.449 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\r\n2020-03-18 15:51:29.450 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n2020-03-18 15:51:29.450 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:125)\r\n2020-03-18 15:51:29.450 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n2020-03-18 15:51:29.451 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\r\n2020-03-18 15:51:29.451 8687-8940/com.screenomics W/System.err:     at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:264)\r\n2020-03-18 15:51:29.451 8687-8940/com.screenomics W/System.err:     at okhttp3.RealCall.execute(RealCall.java:93)\r\n```\r\n\r\nThe Flask console:\r\n```\r\n127.0.0.1 - - [18/Mar/2020 15:51:30] code 400, message Bad request version (&#39;&#192;&#39;)\r\n127.0.0.1 - - [18/Mar/2020 15:51:30] &quot;   b&#241;&#179;m&#184;&#200;6&#193;&#221;w^&#235;&#241;&#211;&#235;z&#223;&#168;X&lt;.&#246;&#250;H&#192;+&#204;&#169;&#192;  &#192;\r\n&quot; HTTPStatus.BAD_REQUEST -\r\n```\r\n\r\nThe upload function\r\n```\r\n    private class UploadImage2 extends AsyncTask&lt;Void, Void, Void&gt; {\r\n        private final MediaType PNG = MediaType.parse(&quot;image/*&quot;);\r\n        private ConnectionSpec spec = new ConnectionSpec.Builder(ConnectionSpec.COMPATIBLE_TLS)\r\n                .tlsVersions(TlsVersion.TLS_1_2, TlsVersion.TLS_1_1, TlsVersion.TLS_1_0)\r\n                .cipherSuites(\r\n                        CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,\r\n                        CipherSuite.TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,\r\n                        CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA,\r\n                        CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA)\r\n                .build();\r\n        private OkHttpClient.Builder client = new OkHttpClient.Builder()\r\n                .connectionSpecs(Collections.singletonList(spec));\r\n        private String dirpath;\r\n\r\n        private String post(File file) {\r\n            RequestBody body = new MultipartBody.Builder()\r\n                    .setType(MultipartBody.FORM)\r\n                    .addFormDataPart(&quot;file&quot;, file.getName(),\r\n                            RequestBody.create(PNG, file))\r\n                    .build();\r\n            Request request = new Request.Builder()\r\n                    .header(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;)\r\n                    .url(SERVER_ADDRESS)\r\n                    .post(body)\r\n                    .build();\r\n            try {\r\n                Log.e(TAG, request.toString());\r\n                Response response = client.build().newCall(request).execute();\r\n                Log.e(TAG, response.toString());\r\n                return response.body().toString();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                return e.toString();\r\n            }\r\n        }\r\n\r\n        UploadImage2(String dirpath) {\r\n            this.dirpath = dirpath;\r\n        }\r\n\r\n        @Override\r\n        protected void onPreExecute() {}\r\n\r\n        @Override\r\n        protected Void doInBackground(Void... params) {\r\n            File dir = new File(dirpath);\r\n            if (dir.exists()) {\r\n                File[] files = dir.listFiles();\r\n                if (files != null) {\r\n                    for (File file : files) {\r\n                        try {\r\n                            String response = post(file);\r\n                            Toast.makeText(getApplicationContext(), &quot;Upload successful: &quot; + response, Toast.LENGTH_SHORT).show();\r\n                            Log.e(TAG, response);\r\n                        } catch (Exception e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                }\r\n                return null;\r\n            }\r\n            Log.e(TAG, &quot;directory not found&quot;);\r\n            return null;        }\r\n    }\r\n```\r\n\r\nThe error occurs on this line `                Response response = client.build().newCall(request).execute();\r\n` \r\n\r\nPlease help! thanks!\r\n\r\n\r\n\r\n","title":"okHTTP3 returns SSLHandshakeException: Handshake failed","body":"<p>The function is expected to loop through a directory and post each image found from an android API 28 emulator to a Flask backend server, both running locally (API call from emulator:<code>https://10.0.2.2:5000/upload</code>).</p>\n\n<p>The android logcat:</p>\n\n<pre><code>2020-03-18 15:51:29.417 8687-8940/com.screenomics E/MainActivity: Request{method=POST, url=https://10.0.2.2:5000/upload, tags={}}\n2020-03-18 15:51:29.446 8687-8940/com.screenomics W/System.err: javax.net.ssl.SSLHandshakeException: Handshake failed\n2020-03-18 15:51:29.446 8687-8940/com.screenomics W/System.err:     at com.android.org.conscrypt.ConscryptFileDescriptorSocket.startHandshake(ConscryptFileDescriptorSocket.java:286)\n2020-03-18 15:51:29.446 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.java:320)\n2020-03-18 15:51:29.446 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.java:284)\n2020-03-18 15:51:29.447 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:169)\n2020-03-18 15:51:29.447 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:257)\n2020-03-18 15:51:29.447 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135)\n2020-03-18 15:51:29.447 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114)\n2020-03-18 15:51:29.447 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)\n2020-03-18 15:51:29.448 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n2020-03-18 15:51:29.448 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n2020-03-18 15:51:29.448 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:94)\n2020-03-18 15:51:29.448 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n2020-03-18 15:51:29.448 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n2020-03-18 15:51:29.449 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\n2020-03-18 15:51:29.450 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n2020-03-18 15:51:29.450 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:125)\n2020-03-18 15:51:29.450 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n2020-03-18 15:51:29.451 8687-8940/com.screenomics W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n2020-03-18 15:51:29.451 8687-8940/com.screenomics W/System.err:     at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:264)\n2020-03-18 15:51:29.451 8687-8940/com.screenomics W/System.err:     at okhttp3.RealCall.execute(RealCall.java:93)\n</code></pre>\n\n<p>The Flask console:</p>\n\n<pre><code>127.0.0.1 - - [18/Mar/2020 15:51:30] code 400, message Bad request version ('À')\n127.0.0.1 - - [18/Mar/2020 15:51:30] \"   bñ³m¸È6ÁÝw^ëñÓëzß¨X&lt;.öúHÀ+Ì©À  À\n\" HTTPStatus.BAD_REQUEST -\n</code></pre>\n\n<p>The upload function</p>\n\n<pre><code>    private class UploadImage2 extends AsyncTask&lt;Void, Void, Void&gt; {\n        private final MediaType PNG = MediaType.parse(\"image/*\");\n        private ConnectionSpec spec = new ConnectionSpec.Builder(ConnectionSpec.COMPATIBLE_TLS)\n                .tlsVersions(TlsVersion.TLS_1_2, TlsVersion.TLS_1_1, TlsVersion.TLS_1_0)\n                .cipherSuites(\n                        CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,\n                        CipherSuite.TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,\n                        CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA,\n                        CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA)\n                .build();\n        private OkHttpClient.Builder client = new OkHttpClient.Builder()\n                .connectionSpecs(Collections.singletonList(spec));\n        private String dirpath;\n\n        private String post(File file) {\n            RequestBody body = new MultipartBody.Builder()\n                    .setType(MultipartBody.FORM)\n                    .addFormDataPart(\"file\", file.getName(),\n                            RequestBody.create(PNG, file))\n                    .build();\n            Request request = new Request.Builder()\n                    .header(\"Content-Type\", \"multipart/form-data\")\n                    .url(SERVER_ADDRESS)\n                    .post(body)\n                    .build();\n            try {\n                Log.e(TAG, request.toString());\n                Response response = client.build().newCall(request).execute();\n                Log.e(TAG, response.toString());\n                return response.body().toString();\n            } catch (Exception e) {\n                e.printStackTrace();\n                return e.toString();\n            }\n        }\n\n        UploadImage2(String dirpath) {\n            this.dirpath = dirpath;\n        }\n\n        @Override\n        protected void onPreExecute() {}\n\n        @Override\n        protected Void doInBackground(Void... params) {\n            File dir = new File(dirpath);\n            if (dir.exists()) {\n                File[] files = dir.listFiles();\n                if (files != null) {\n                    for (File file : files) {\n                        try {\n                            String response = post(file);\n                            Toast.makeText(getApplicationContext(), \"Upload successful: \" + response, Toast.LENGTH_SHORT).show();\n                            Log.e(TAG, response);\n                        } catch (Exception e) {\n                            e.printStackTrace();\n                        }\n                    }\n                }\n                return null;\n            }\n            Log.e(TAG, \"directory not found\");\n            return null;        }\n    }\n</code></pre>\n\n<p>The error occurs on this line <code>Response response = client.build().newCall(request).execute();\n</code> </p>\n\n<p>Please help! thanks!</p>\n"},{"tags":["java","minecraft","bukkit","spigot"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":2,"creation_date":1644882340,"post_id":71119317,"comment_id":125718388,"body_markdown":"You can&#39;t, because it depend of the size of the MC screen, the zoom etc...","body":"You can&#39;t, because it depend of the size of the MC screen, the zoom etc..."},{"owner":{"account_id":22447351,"reputation":626,"user_id":16651073,"display_name":"Oliver Stahl"},"score":1,"creation_date":1644926354,"post_id":71119317,"comment_id":125729324,"body_markdown":"You can&#39;t get the width of someones chat. Just try to make it look good on default settings.","body":"You can&#39;t get the width of someones chat. Just try to make it look good on default settings."},{"owner":{"account_id":14040929,"reputation":71,"user_id":10142355,"display_name":"nullFoo"},"score":0,"creation_date":1644976369,"post_id":71119317,"comment_id":125746564,"body_markdown":"Chat width is client-side and can&#39;t be accessed by a plugin.","body":"Chat width is client-side and can&#39;t be accessed by a plugin."}],"answers":[{"tags":[],"owner":{"account_id":23426604,"reputation":25,"user_id":17486007,"display_name":"NullPointerException"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645773776,"creation_date":1645773776,"answer_id":71262384,"question_id":71119317,"body_markdown":"You can&#39;t do that. This is because the size of the chat depends on the client version, the size of the Minecraft window. Here are some examples\r\n\r\ntwo lines are the same length\r\n\r\n[![Same line][1]][1]\r\n\r\n\r\n[![same line][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I7ATS.png\r\n  [2]: https://i.stack.imgur.com/t9W1E.png","title":"Spigot chat message that is exactly one line for everybody","body":"<p>You can't do that. This is because the size of the chat depends on the client version, the size of the Minecraft window. Here are some examples</p>\n<p>two lines are the same length</p>\n<p><a href=\"https://i.stack.imgur.com/I7ATS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I7ATS.png\" alt=\"Same line\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/t9W1E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t9W1E.png\" alt=\"same line\" /></a></p>\n"}],"owner":{"account_id":24257904,"reputation":1,"user_id":18207974,"display_name":"Lukas Keller"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645773776,"creation_date":1644880188,"question_id":71119317,"body_markdown":"I am coding a 1.18 Spigot plugin in java and i want to make a line breaker. The problem is to pick the length of it. I would like to send the player a Message like: &quot;_______________________________&quot; but this message should be exacly the length of his chat. Bcs. when my chat is set to small then the message goes over 2 lines. Is this possible or should i just try to find a sweet spot?\r\nHelp would be awesome ty","title":"Spigot chat message that is exactly one line for everybody","body":"<p>I am coding a 1.18 Spigot plugin in java and i want to make a line breaker. The problem is to pick the length of it. I would like to send the player a Message like: &quot;_______________________________&quot; but this message should be exacly the length of his chat. Bcs. when my chat is set to small then the message goes over 2 lines. Is this possible or should i just try to find a sweet spot?\nHelp would be awesome ty</p>\n"},{"tags":["java","path","classloader"],"answers":[{"tags":[],"owner":{"account_id":1033857,"reputation":17546,"user_id":1041641,"accept_rate":67,"display_name":"TmTron"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1645772988,"creation_date":1503236018,"answer_id":45782699,"question_id":45782535,"body_markdown":"1. *&quot;the most common approach&quot;* is not necessarily the best :)\r\n1. Take care which path you mean: [ClassLoader.getResource()][1] returns a URL, which can have a [path][2] component. However, this is not necessarily a valid file-path.  \r\nNote, that there is also a method [Paths.get(URI)][3] which takes a [URI][4] as parameter\r\n1. The first slash in `/D:/Projects/myapp/build/resources/main/file.txt` just means, that this is an absolute path: see [Class.getResource][5]\r\n1. I recommend, that you simply use [ClassLoader.html#getResourceAsStream][6] when you want to read a file \r\n\r\n*Update* to answer comment: &quot;So why does Paths.get() not accept the absolute path?&quot;\r\n\r\n`Paths.get()` **does** accept absolute paths.  \r\nBut you must pass a valid (file-)path - and in your case you pass the URL-path directly (which is not a valid file-path).\r\n\r\n - When you call: `getClass().getClassLoader().getResource(&quot;file.txt&quot;)` it returns a URL: `file:/D:/Projects/myapp/build/resources/main/file.txt`\r\n   - this URL consists of the schema `file:`\r\n   - and the valid (absolute URL)path: `/D:/Projects/myapp/build/resources/main/file.txt`\r\n - you try to use this URL-path directly as a file-path, which is wrong\r\n   - thus the [Paths.get(String,..)][7] method throws an `InvalidPathException`\r\n\r\nTo convert the URL path to a valid file-path you could use the [Paths.get(URI)][3] method like so: \r\n\r\n    URL fileUrl = getClass().getClassLoader().getResource(&quot;file.txt&quot;);\r\n    Path filePath = Paths.get(fileUrl.toURI());\r\n    // now you have a valid file-path: D:/Projects/myapp/build/resources/main/file.txt\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html#getResources(java.lang.String)\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/net/URL.html#getPath()\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/nio/file/Paths.html#get(java.net.URI)\r\n  [4]: https://docs.oracle.com/javase/7/docs/api/java/net/URI.html\r\n  [5]: http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html#getResource(java.lang.String)\r\n  [6]: https://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html#getResourceAsStream(java.lang.String)\r\n  [7]: https://docs.oracle.com/javase/7/docs/api/java/nio/file/Paths.html#get(java.lang.String,%20java.lang.String...)","title":"ClassLoader.getResource returns odd path (maybe)?","body":"<ol>\n<li><em>&quot;the most common approach&quot;</em> is not necessarily the best :)</li>\n<li>Take care which path you mean: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html#getResources(java.lang.String)\" rel=\"nofollow noreferrer\">ClassLoader.getResource()</a> returns a URL, which can have a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/URL.html#getPath()\" rel=\"nofollow noreferrer\">path</a> component. However, this is not necessarily a valid file-path.<br />\nNote, that there is also a method <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Paths.html#get(java.net.URI)\" rel=\"nofollow noreferrer\">Paths.get(URI)</a> which takes a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/URI.html\" rel=\"nofollow noreferrer\">URI</a> as parameter</li>\n<li>The first slash in <code>/D:/Projects/myapp/build/resources/main/file.txt</code> just means, that this is an absolute path: see <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html#getResource(java.lang.String)\" rel=\"nofollow noreferrer\">Class.getResource</a></li>\n<li>I recommend, that you simply use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html#getResourceAsStream(java.lang.String)\" rel=\"nofollow noreferrer\">ClassLoader.html#getResourceAsStream</a> when you want to read a file</li>\n</ol>\n<p><em>Update</em> to answer comment: &quot;So why does Paths.get() not accept the absolute path?&quot;</p>\n<p><code>Paths.get()</code> <strong>does</strong> accept absolute paths.<br />\nBut you must pass a valid (file-)path - and in your case you pass the URL-path directly (which is not a valid file-path).</p>\n<ul>\n<li>When you call: <code>getClass().getClassLoader().getResource(&quot;file.txt&quot;)</code> it returns a URL: <code>file:/D:/Projects/myapp/build/resources/main/file.txt</code>\n<ul>\n<li>this URL consists of the schema <code>file:</code></li>\n<li>and the valid (absolute URL)path: <code>/D:/Projects/myapp/build/resources/main/file.txt</code></li>\n</ul>\n</li>\n<li>you try to use this URL-path directly as a file-path, which is wrong\n<ul>\n<li>thus the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Paths.html#get(java.lang.String,%20java.lang.String...)\" rel=\"nofollow noreferrer\">Paths.get(String,..)</a> method throws an <code>InvalidPathException</code></li>\n</ul>\n</li>\n</ul>\n<p>To convert the URL path to a valid file-path you could use the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Paths.html#get(java.net.URI)\" rel=\"nofollow noreferrer\">Paths.get(URI)</a> method like so:</p>\n<pre><code>URL fileUrl = getClass().getClassLoader().getResource(&quot;file.txt&quot;);\nPath filePath = Paths.get(fileUrl.toURI());\n// now you have a valid file-path: D:/Projects/myapp/build/resources/main/file.txt\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503240180,"creation_date":1503240180,"answer_id":45783324,"question_id":45782535,"body_markdown":"Please, have a look at the result of `getClass().getClassLoader().getResource(&quot;file.txt&quot;)`. It&#39;s a URL. With `getPath()` then you just retrieve the path part of that URL, ignoring protocol and server part. Opening the path part as a file might work under certain circumstances (in the easy cases where file syntax and URL path syntax match), but don&#39;t do it in production code.\r\n\r\nWhy? When you leave your IDE and deliver your application as JAR or WAR, the resources will reside inside a ZIP-compressed file, and there will be no file &quot;file.txt&quot; that you can open, there&#39;s only an entry in a JAR or WAR file.\r\n\r\nAs @TmTron pointed out, I also recommend to use `ClassLoader.getResourceAsStream()`. That will work in all cases.","title":"ClassLoader.getResource returns odd path (maybe)?","body":"<p>Please, have a look at the result of <code>getClass().getClassLoader().getResource(\"file.txt\")</code>. It's a URL. With <code>getPath()</code> then you just retrieve the path part of that URL, ignoring protocol and server part. Opening the path part as a file might work under certain circumstances (in the easy cases where file syntax and URL path syntax match), but don't do it in production code.</p>\n\n<p>Why? When you leave your IDE and deliver your application as JAR or WAR, the resources will reside inside a ZIP-compressed file, and there will be no file \"file.txt\" that you can open, there's only an entry in a JAR or WAR file.</p>\n\n<p>As @TmTron pointed out, I also recommend to use <code>ClassLoader.getResourceAsStream()</code>. That will work in all cases.</p>\n"}],"owner":{"account_id":8443019,"reputation":949,"user_id":6334782,"accept_rate":76,"display_name":"otoomey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3964,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":45782699,"answer_count":2,"score":5,"last_activity_date":1645772988,"creation_date":1503234707,"question_id":45782535,"body_markdown":"When loading an asset such as a text file from the resources folder, the most common approach is to use ClassLoader to get the path:\r\n\r\n    String path = getClass().getClassLoader().getResource(&quot;file.txt&quot;).getPath();\r\n\r\nYou can then use any of the many readers that java has to read the content of that file. But for some reason, `Paths.get(path)` is not happy with the path:\r\n\r\n    byte[] content = Files.readAllBytes(Paths.get(path)) \r\n        -&gt; throws java.nio.file.InvalidPathException when executed\r\n\r\nClassLoader.getResource(...).getPath() is returning:\r\n\r\n    /D:/Projects/myapp/build/resources/main/file.txt\r\n\r\n`Paths.get()` doesn&#39;t like it. Apparently the &#39;:&#39; after `/D` is an &#39;Illegal char&#39;. (Note that the path seems correct, the file is actually there)\r\n\r\nWhich one is causing the problem? Is `ClassLoader.getResource()` returning an invalid path or is `Paths.get()` acting up over nothing?\r\n\r\n&lt;br&gt;\r\n*Some time later*&lt;br&gt;\r\nIt seems that there are multiple different formats for paths in java. The various frameworks don&#39;t appear to completely agree on what is right and what is wrong, therefore there are various discrepancies between the paths that they create and accept.\r\n\r\nIn this example, `Paths.get()` was in fact not expecting the leading slash in the path:\r\n\r\n    /D:/Projects/myapp/build/resources/main/vertex.vs.glsl &lt;- EVIL\r\n    D:/Projects/myapp/build/resources/main/vertex.vs.glsl &lt;- OK\r\n\r\nI suppose that the question now is: How do I sanitise file paths returned by `ClassLoader.getResource()` for use with `Paths.get()` properly? Are there any other differences between their two file path formats?","title":"ClassLoader.getResource returns odd path (maybe)?","body":"<p>When loading an asset such as a text file from the resources folder, the most common approach is to use ClassLoader to get the path:</p>\n\n<pre><code>String path = getClass().getClassLoader().getResource(\"file.txt\").getPath();\n</code></pre>\n\n<p>You can then use any of the many readers that java has to read the content of that file. But for some reason, <code>Paths.get(path)</code> is not happy with the path:</p>\n\n<pre><code>byte[] content = Files.readAllBytes(Paths.get(path)) \n    -&gt; throws java.nio.file.InvalidPathException when executed\n</code></pre>\n\n<p>ClassLoader.getResource(...).getPath() is returning:</p>\n\n<pre><code>/D:/Projects/myapp/build/resources/main/file.txt\n</code></pre>\n\n<p><code>Paths.get()</code> doesn't like it. Apparently the ':' after <code>/D</code> is an 'Illegal char'. (Note that the path seems correct, the file is actually there)</p>\n\n<p>Which one is causing the problem? Is <code>ClassLoader.getResource()</code> returning an invalid path or is <code>Paths.get()</code> acting up over nothing?</p>\n\n<p><br>\n<em>Some time later</em><br>\nIt seems that there are multiple different formats for paths in java. The various frameworks don't appear to completely agree on what is right and what is wrong, therefore there are various discrepancies between the paths that they create and accept.</p>\n\n<p>In this example, <code>Paths.get()</code> was in fact not expecting the leading slash in the path:</p>\n\n<pre><code>/D:/Projects/myapp/build/resources/main/vertex.vs.glsl &lt;- EVIL\nD:/Projects/myapp/build/resources/main/vertex.vs.glsl &lt;- OK\n</code></pre>\n\n<p>I suppose that the question now is: How do I sanitise file paths returned by <code>ClassLoader.getResource()</code> for use with <code>Paths.get()</code> properly? Are there any other differences between their two file path formats?</p>\n"},{"tags":["java","scale","jscrollpane","graphics2d"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1645773271,"post_id":71250108,"comment_id":125964383,"body_markdown":"Your question is not clear to me. Since class `Test` extends class `JPanel` and overrides its `paintComponent` method, I understand that you want `Test` to display a background image. If I understand correctly, then how is `JScrollPane` related? On the other hand, maybe you want `JScrollPane` to display a scaled image, in which case there is no need to extend `JPanel` and override method `paintComponent`. The following comment, in your code, gives me the impression that you want to display an image: _I need to scale my picture_. So do you want to display an image?","body":"Your question is not clear to me. Since class <code>Test</code> extends class <code>JPanel</code> and overrides its <code>paintComponent</code> method, I understand that you want <code>Test</code> to display a background image. If I understand correctly, then how is <code>JScrollPane</code> related? On the other hand, maybe you want <code>JScrollPane</code> to display a scaled image, in which case there is no need to extend <code>JPanel</code> and override method <code>paintComponent</code>. The following comment, in your code, gives me the impression that you want to display an image: <i>I need to scale my picture</i>. So do you want to display an image?"},{"owner":{"account_id":13753869,"reputation":71,"user_id":9925297,"display_name":"Kris_Holder"},"score":0,"creation_date":1645774430,"post_id":71250108,"comment_id":125964678,"body_markdown":"I want scale JScrollPane to new size of painted picture. G2.scale(1,0.3) works on    g2.drawLine(30, 30, 30, 3000);\ng2.drawLine(30, 400, 500, 3000); How to resize the scroll bar??","body":"I want scale JScrollPane to new size of painted picture. G2.scale(1,0.3) works on    g2.drawLine(30, 30, 30, 3000); g2.drawLine(30, 400, 500, 3000); How to resize the scroll bar??"}],"owner":{"account_id":13753869,"reputation":71,"user_id":9925297,"display_name":"Kris_Holder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645772973,"creation_date":1645696456,"question_id":71250108,"body_markdown":"I allowed myself to copy an example from the answer because it concerns my problem.\r\nhttps://stackoverflow.com/questions/26415863/jscrollpane-graphics2d\r\nI&#39;ve problem with connection `JScrollPane` with `Graphics2D` scale. Is there any possibility to relate it?\r\n```java\r\nimport java.awt.Dimension;\r\nimport java.awt.EventQueue;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.UIManager;\r\nimport javax.swing.UnsupportedLookAndFeelException;\r\n\r\npublic class Test extends JPanel {\r\n\r\n    public static void main(String... args) {\r\n        EventQueue.invokeLater(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n                Test test = new Test();\r\n                JFrame frame = new JFrame();\r\n                JScrollPane scrollPane = new JScrollPane(test);\r\n                frame.add(scrollPane);\r\n                frame.pack();\r\n                frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n                frame.setVisible(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public Dimension getPreferredSize() {\r\n        return new Dimension(3000, 3000);\r\n    }\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        Graphics2D g2 = (Graphics2D) g;\r\n        g2.scale(1, 0.3);//I need to scale my picture\r\n        g2.drawLine(30, 30, 30, 3000);\r\n        g2.drawLine(30, 400, 500, 3000);\r\n    }\r\n}\r\n```\r\nMy question is: How to connect `g2.scale(1, 0.3)` with `scrollPane`? When I use `g2.scale(1,0.3)` then `scrollPane` shouldn&#39;t show up. But it&#39;s still there and scale doesn&#39;t work on it.  \r\nThank you for any help.\r\n","title":"Graphics2D, Scale picture and JScrollPane","body":"<p>I allowed myself to copy an example from the answer because it concerns my problem.\n<a href=\"https://stackoverflow.com/questions/26415863/jscrollpane-graphics2d\">JScrollPane &amp; Graphics2D</a>\nI've problem with connection <code>JScrollPane</code> with <code>Graphics2D</code> scale. Is there any possibility to relate it?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class Test extends JPanel {\n\n    public static void main(String... args) {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                    ex.printStackTrace();\n                }\n                Test test = new Test();\n                JFrame frame = new JFrame();\n                JScrollPane scrollPane = new JScrollPane(test);\n                frame.add(scrollPane);\n                frame.pack();\n                frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        return new Dimension(3000, 3000);\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D) g;\n        g2.scale(1, 0.3);//I need to scale my picture\n        g2.drawLine(30, 30, 30, 3000);\n        g2.drawLine(30, 400, 500, 3000);\n    }\n}\n</code></pre>\n<p>My question is: How to connect <code>g2.scale(1, 0.3)</code> with <code>scrollPane</code>? When I use <code>g2.scale(1,0.3)</code> then <code>scrollPane</code> shouldn't show up. But it's still there and scale doesn't work on it.<br />\nThank you for any help.</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriver","fluentwait"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1523000241,"post_id":49687699,"comment_id":86386522,"body_markdown":"Possible duplicate of [Selenium Webdriver 3.0.1-\\[Eclipse-Java-Chrome\\]: Selenium showing error for FluentWait Class](https://stackoverflow.com/questions/42275658/selenium-webdriver-3-0-1-eclipse-java-chrome-selenium-showing-error-for-fluen)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/42275658/selenium-webdriver-3-0-1-eclipse-java-chrome-selenium-showing-error-for-fluen\">Selenium Webdriver 3.0.1-&#91;Eclipse-Java-Chrome&#93;: Selenium showing error for FluentWait Class</a>"},{"owner":{"account_id":6088926,"reputation":480,"user_id":4751940,"accept_rate":30,"display_name":"kripindas"},"score":0,"creation_date":1523000699,"post_id":49687699,"comment_id":86386767,"body_markdown":"@DebanjanB I am not getting any errors on executing, the `withTimeout` and `pollingEvery` section in the code is showing as deprecated. When I referred the selenium documents , it is showing in the deprecated lists. So I want to remove the deprecated parts in the code and want to rewrite the method. I think you have understood the difference between the question you mentioned and I have asked.","body":"@DebanjanB I am not getting any errors on executing, the <code>withTimeout</code> and <code>pollingEvery</code> section in the code is showing as deprecated. When I referred the selenium documents , it is showing in the deprecated lists. So I want to remove the deprecated parts in the code and want to rewrite the method. I think you have understood the difference between the question you mentioned and I have asked."}],"answers":[{"tags":[],"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1523004716,"creation_date":1523004716,"answer_id":49688957,"question_id":49687699,"body_markdown":"Check the source code of [FluentWait][1] which mentions to use the methods using Duration as arguments instead.\r\n\r\n 1. withTimeout - Use the `withTimeout(Duration duration)` method.\r\n 2. pollingEvery - Use the `pollingEvery(Duration duration)` method.\r\n\r\n  [1]: https://github.com/SeleniumHQ/selenium/blob/master/java/client/src/org/openqa/selenium/support/ui/FluentWait.java","title":"How to remove deprecation warning on timeout and polling in Selenium Java Client v3.11.0","body":"<p>Check the source code of <a href=\"https://github.com/SeleniumHQ/selenium/blob/master/java/client/src/org/openqa/selenium/support/ui/FluentWait.java\" rel=\"noreferrer\">FluentWait</a> which mentions to use the methods using Duration as arguments instead.</p>\n\n<ol>\n<li>withTimeout - Use the <code>withTimeout(Duration duration)</code> method.</li>\n<li>pollingEvery - Use the <code>pollingEvery(Duration duration)</code> method.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1550161415,"creation_date":1523009922,"answer_id":49690557,"question_id":49687699,"body_markdown":"@Grasshopper &#39;s answer points us to the exact modified **constructor** of **FluentWait** and your requirement of removing the deprecation warning from **withTimeout** and **pollingEvery** fields. Incase you are facing further difficulty you can use the line of code below :\r\n\r\n\timport java.time.Duration;\r\n\t//lines of code\r\n\tWait&lt;WebDriver&gt; gWait = new FluentWait&lt;WebDriver&gt;(pDriver).withTimeout(Duration.ofSeconds(100))\r\n            .pollingEvery(Duration.ofMillis(600)).ignoring(NoSuchElementException.class);\r\n\r\n&gt;You can find a detailed discussion in [The type FluentWait is not generic; it cannot be parameterized with arguments &lt;WebDriver&gt; error for FluentWait Class through Selenium and Java](https://stackoverflow.com/questions/42275658/the-type-fluentwait-is-not-generic-it-cannot-be-parameterized-with-arguments-w/49690732#49690732)","title":"How to remove deprecation warning on timeout and polling in Selenium Java Client v3.11.0","body":"<p>@Grasshopper 's answer points us to the exact modified <strong>constructor</strong> of <strong>FluentWait</strong> and your requirement of removing the deprecation warning from <strong>withTimeout</strong> and <strong>pollingEvery</strong> fields. Incase you are facing further difficulty you can use the line of code below :</p>\n\n<pre><code>import java.time.Duration;\n//lines of code\nWait&lt;WebDriver&gt; gWait = new FluentWait&lt;WebDriver&gt;(pDriver).withTimeout(Duration.ofSeconds(100))\n        .pollingEvery(Duration.ofMillis(600)).ignoring(NoSuchElementException.class);\n</code></pre>\n\n<blockquote>\n  <p>You can find a detailed discussion in <a href=\"https://stackoverflow.com/questions/42275658/the-type-fluentwait-is-not-generic-it-cannot-be-parameterized-with-arguments-w/49690732#49690732\">The type FluentWait is not generic; it cannot be parameterized with arguments  error for FluentWait Class through Selenium and Java</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9616241,"reputation":626,"user_id":7138917,"display_name":"Anj Raju"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1531762856,"creation_date":1531762856,"answer_id":51367372,"question_id":49687699,"body_markdown":"you can use following lines of code:\r\n\r\n      Wait&lt;Browser&gt; wait = new FluentWait&lt;&gt;(driver)\r\n                .withTimeout(Duration.ofSeconds(*timeToWaitInSec*))\r\n                .pollingEvery(Duration.ofMillis(*TimeToTryinMillisec*))\r\n                .ignoring(WebDriverException.class);","title":"How to remove deprecation warning on timeout and polling in Selenium Java Client v3.11.0","body":"<p>you can use following lines of code:</p>\n\n<pre><code>  Wait&lt;Browser&gt; wait = new FluentWait&lt;&gt;(driver)\n            .withTimeout(Duration.ofSeconds(*timeToWaitInSec*))\n            .pollingEvery(Duration.ofMillis(*TimeToTryinMillisec*))\n            .ignoring(WebDriverException.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11554585,"reputation":71,"user_id":8466128,"display_name":"Moin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645772109,"creation_date":1645772109,"answer_id":71262125,"question_id":49687699,"body_markdown":"After the upgrade to Selenium 4, few of the old methods have been deprecated of which Fluent wait is part of. \r\n\r\nUse the below code in the similar order for seamless execution:\r\n\r\n     Wait&lt;Browser&gt; wait = new FluentWait&lt;&gt;(driver)\r\n                .withTimeout(Duration.ofSeconds(*timeToWaitInSec*))\r\n                .ignoring(WebDriverException.class)\r\n                .pollingEvery(Duration.ofMillis(*TimeToTryinMillisec*));\r\n\r\n\r\n\r\nAlso refer for below article for the other changes/upgrade in Selenium 4.\r\n\r\nhttps://applitools.com/blog/selenium-4-migration/","title":"How to remove deprecation warning on timeout and polling in Selenium Java Client v3.11.0","body":"<p>After the upgrade to Selenium 4, few of the old methods have been deprecated of which Fluent wait is part of.</p>\n<p>Use the below code in the similar order for seamless execution:</p>\n<pre><code> Wait&lt;Browser&gt; wait = new FluentWait&lt;&gt;(driver)\n            .withTimeout(Duration.ofSeconds(*timeToWaitInSec*))\n            .ignoring(WebDriverException.class)\n            .pollingEvery(Duration.ofMillis(*TimeToTryinMillisec*));\n</code></pre>\n<p>Also refer for below article for the other changes/upgrade in Selenium 4.</p>\n<p><a href=\"https://applitools.com/blog/selenium-4-migration/\" rel=\"nofollow noreferrer\">https://applitools.com/blog/selenium-4-migration/</a></p>\n"}],"owner":{"account_id":6088926,"reputation":480,"user_id":4751940,"accept_rate":30,"display_name":"kripindas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17655,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":49690557,"answer_count":4,"score":10,"last_activity_date":1645772109,"creation_date":1523000099,"question_id":49687699,"body_markdown":"Below is my code which is showing as deprecated after I have been updated the Selenium Webdriver version to 3.11.0.\r\n\r\n    \tprivate Wait&lt;WebDriver&gt; mFluentWait(WebDriver pDriver) {\r\n\t\tWait&lt;WebDriver&gt; gWait = new FluentWait&lt;WebDriver&gt;(pDriver).withTimeout(100, TimeUnit.SECONDS)\r\n\t\t\t\t.pollingEvery(600, TimeUnit.MILLISECONDS).ignoring(NoSuchElementException.class);\t\r\n\t\treturn gWait;\r\n\t}\r\n\r\nShowing deprecated warning in `withTimeout` and `pollingEvery` section in the code.\r\n\r\nHow can I rewrite this code so that I can remove the deprecated warning.\r\n\r\nSince am new to selenium am not sure about the change. Any help will be appreciated.\r\n\r\n","title":"How to remove deprecation warning on timeout and polling in Selenium Java Client v3.11.0","body":"<p>Below is my code which is showing as deprecated after I have been updated the Selenium Webdriver version to 3.11.0.</p>\n\n<pre><code>    private Wait&lt;WebDriver&gt; mFluentWait(WebDriver pDriver) {\n    Wait&lt;WebDriver&gt; gWait = new FluentWait&lt;WebDriver&gt;(pDriver).withTimeout(100, TimeUnit.SECONDS)\n            .pollingEvery(600, TimeUnit.MILLISECONDS).ignoring(NoSuchElementException.class);   \n    return gWait;\n}\n</code></pre>\n\n<p>Showing deprecated warning in <code>withTimeout</code> and <code>pollingEvery</code> section in the code.</p>\n\n<p>How can I rewrite this code so that I can remove the deprecated warning.</p>\n\n<p>Since am new to selenium am not sure about the change. Any help will be appreciated.</p>\n"},{"tags":["java","gradle","testing","junit","junit5"],"comments":[{"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"score":0,"creation_date":1645735671,"post_id":71257812,"comment_id":125957113,"body_markdown":"Does the lazy API work? `targets.configureEach { }` instead of `targets.all { }`","body":"Does the lazy API work? <code>targets.configureEach { }</code> instead of <code>targets.all { }</code>"},{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1645764986,"post_id":71257812,"comment_id":125962768,"body_markdown":"You’ll have to provide the details about how your smoke tests are set up in Gradle and what part of JUnit the are using.","body":"You’ll have to provide the details about how your smoke tests are set up in Gradle and what part of JUnit the are using."},{"owner":{"account_id":6508380,"reputation":571,"user_id":5036543,"accept_rate":95,"display_name":"Sukhbir"},"score":0,"creation_date":1645771998,"post_id":71257812,"comment_id":125964084,"body_markdown":"@FranciscoMateo I tried lazy API it is also not working. all smoke tests still running sequentially.","body":"@FranciscoMateo I tried lazy API it is also not working. all smoke tests still running sequentially."},{"owner":{"account_id":6508380,"reputation":571,"user_id":5036543,"accept_rate":95,"display_name":"Sukhbir"},"score":0,"creation_date":1645772134,"post_id":71257812,"comment_id":125964113,"body_markdown":"@johanneslink I have updated the code snippet above. Please check now.","body":"@johanneslink I have updated the code snippet above. Please check now."},{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":2,"creation_date":1645783860,"post_id":71257812,"comment_id":125967648,"body_markdown":"@Sukhbir Have a look at https://docs.gradle.org/current/userguide/jvm_test_suite_plugin.html. targets.all seems to be outside the test block. But frankly, I&#39;ve never used the test suite plugin. It&#39;s rather new.","body":"@Sukhbir Have a look at <a href=\"https://docs.gradle.org/current/userguide/jvm_test_suite_plugin.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/jvm_test_suite_plugin.html</a>&zwnj;&#8203;. targets.all seems to be outside the test block. But frankly, I&#39;ve never used the test suite plugin. It&#39;s rather new."},{"owner":{"account_id":6508380,"reputation":571,"user_id":5036543,"accept_rate":95,"display_name":"Sukhbir"},"score":1,"creation_date":1645791037,"post_id":71257812,"comment_id":125969899,"body_markdown":"Got it!! I tried this is working now. Thanks @johanneslink.","body":"Got it!! I tried this is working now. Thanks @johanneslink."}],"owner":{"account_id":6508380,"reputation":571,"user_id":5036543,"accept_rate":95,"display_name":"Sukhbir"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645772105,"creation_date":1645734123,"question_id":71257812,"body_markdown":"I am trying to run unit tests and smokes tests in parallel in gradle. I was able to achieve it with unit tests by declaring below mentioned two SystemProperties, now unit tests are running in parallel.\r\n\r\n```\r\ntest { // this is main test block in build.gradle file\r\n    useJUnitPlatform()\r\n    systemProperty(&quot;junit.jupiter.execution.parallel.enabled&quot;, true)\r\n    systemProperty(&quot;junit.jupiter.execution.parallel.mode.default&quot;, &quot;concurrent&quot;)\r\n    finalizedBy jacocoTestReport\r\n}\r\n```\r\n\r\nI have used jvm test suites plugin to place all smoke tests at one place, I tried applying same systemProperty in suites block for these smoke tests but it was not working. All smoke tests are runnning sequentially only.\r\n\r\nThis is what I am trying:-\r\n\r\n```\r\ntesting {\r\n    suites {\r\n        test {\r\n            useJUnitJupiter()\r\n            targets.all {\r\n                testTask.configure {\r\n                    systemProperty(&quot;junit.jupiter.execution.parallel.enabled&quot;, true)\r\n                    systemProperty(&quot;junit.jupiter.execution.parallel.mode.default&quot;, &quot;concurrent&quot;)\r\n                }\r\n            }\r\n        }\r\n\r\n        smokeTest(JvmTestSuite) {\r\n            dependencies {\r\n                implementation project\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIf anyone got some idea. Please suggest !!","title":"How to set systemProperty in Gradle Test Suites plugin?","body":"<p>I am trying to run unit tests and smokes tests in parallel in gradle. I was able to achieve it with unit tests by declaring below mentioned two SystemProperties, now unit tests are running in parallel.</p>\n<pre><code>test { // this is main test block in build.gradle file\n    useJUnitPlatform()\n    systemProperty(&quot;junit.jupiter.execution.parallel.enabled&quot;, true)\n    systemProperty(&quot;junit.jupiter.execution.parallel.mode.default&quot;, &quot;concurrent&quot;)\n    finalizedBy jacocoTestReport\n}\n</code></pre>\n<p>I have used jvm test suites plugin to place all smoke tests at one place, I tried applying same systemProperty in suites block for these smoke tests but it was not working. All smoke tests are runnning sequentially only.</p>\n<p>This is what I am trying:-</p>\n<pre><code>testing {\n    suites {\n        test {\n            useJUnitJupiter()\n            targets.all {\n                testTask.configure {\n                    systemProperty(&quot;junit.jupiter.execution.parallel.enabled&quot;, true)\n                    systemProperty(&quot;junit.jupiter.execution.parallel.mode.default&quot;, &quot;concurrent&quot;)\n                }\n            }\n        }\n\n        smokeTest(JvmTestSuite) {\n            dependencies {\n                implementation project\n            }\n        }\n    }\n}\n</code></pre>\n<p>If anyone got some idea. Please suggest !!</p>\n"},{"tags":["java","android","android-studio","gradle","groovy"],"answers":[{"tags":[],"owner":{"account_id":15063667,"reputation":383,"user_id":10871558,"display_name":"Mohmmaed-Amleh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643648282,"creation_date":1643648282,"answer_id":70929846,"question_id":70929378,"body_markdown":"Try this solution :\r\nGo for Settings then -&gt;Use embedded jdk\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pH438.png","title":"android studio org.codehaus.groovy. cant cast gradle error","body":"<p>Try this solution :\nGo for Settings then -&gt;Use embedded jdk\n<a href=\"https://i.stack.imgur.com/pH438.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pH438.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":17912429,"reputation":3,"user_id":13014223,"display_name":"Jayraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645772050,"creation_date":1645772050,"answer_id":71262121,"question_id":70929378,"body_markdown":"I didn&#39;t get what was causing the problem but after reinstalling windows 11 and android studio again it works now","title":"android studio org.codehaus.groovy. cant cast gradle error","body":"<p>I didn't get what was causing the problem but after reinstalling windows 11 and android studio again it works now</p>\n"}],"owner":{"account_id":17912429,"reputation":3,"user_id":13014223,"display_name":"Jayraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":781,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645772050,"creation_date":1643646421,"question_id":70929378,"body_markdown":"**so i just updated my windows from 10 to 11 and also android studio to new 2021bumblbee**\r\n\r\nnow I am facing errors in every project\r\nI tried reinstalling android studio ,java and windows 11  \r\ninvalidating catch, recreating new projects, updating all plugins\r\n,re-downloading dependencies  but still the same error \r\n\r\ncurrently, i am using Android Gradle plugin version 7.0.4 and Gradle version 7.0.2\r\n\r\n```\r\nclass org.codehaus.groovy.ast.expr.TupleExpression cannot be cast to class org.codehaus.groovy.ast.expr.ArgumentListExpression (org.codehaus.groovy.ast.expr.TupleExpression and org.codehaus.groovy.ast.expr.ArgumentListExpression are in unnamed module of loader org.gradle.internal.classloader.VisitableURLClassLoader @42d80b78)\r\nclass org.codehaus.groovy.ast.expr.TupleExpression cannot be cast to class org.codehaus.groovy.ast.expr.ArgumentListExpression (org.codehaus.groovy.ast.expr.TupleExpression and org.codehaus.groovy.ast.expr.ArgumentListExpression are in unnamed module of loader org.gradle.internal.classloader.VisitableURLClassLoader @42d80b78)\r\n\r\nGradle&#39;s dependency cache may be corrupt (this sometimes occurs after a network connection timeout.)\r\n\r\nRe-download dependencies and sync project (requires network)\r\nThe state of a Gradle build process (daemon) may be corrupt. Stopping all Gradle daemons may solve this problem.\r\n\r\nStop Gradle build processes (requires restart)\r\nYour project may be using a third-party plugin which is not compatible with the other plugins in the project or the version of Gradle requested by the project.\r\n\r\nIn the case of corrupt Gradle processes, you can also try closing the IDE and then killing all Java processes.\r\n\r\n\r\n```\r\n\r\n\r\n","title":"android studio org.codehaus.groovy. cant cast gradle error","body":"<p><strong>so i just updated my windows from 10 to 11 and also android studio to new 2021bumblbee</strong></p>\n<p>now I am facing errors in every project\nI tried reinstalling android studio ,java and windows 11<br />\ninvalidating catch, recreating new projects, updating all plugins\n,re-downloading dependencies  but still the same error</p>\n<p>currently, i am using Android Gradle plugin version 7.0.4 and Gradle version 7.0.2</p>\n<pre><code>class org.codehaus.groovy.ast.expr.TupleExpression cannot be cast to class org.codehaus.groovy.ast.expr.ArgumentListExpression (org.codehaus.groovy.ast.expr.TupleExpression and org.codehaus.groovy.ast.expr.ArgumentListExpression are in unnamed module of loader org.gradle.internal.classloader.VisitableURLClassLoader @42d80b78)\nclass org.codehaus.groovy.ast.expr.TupleExpression cannot be cast to class org.codehaus.groovy.ast.expr.ArgumentListExpression (org.codehaus.groovy.ast.expr.TupleExpression and org.codehaus.groovy.ast.expr.ArgumentListExpression are in unnamed module of loader org.gradle.internal.classloader.VisitableURLClassLoader @42d80b78)\n\nGradle's dependency cache may be corrupt (this sometimes occurs after a network connection timeout.)\n\nRe-download dependencies and sync project (requires network)\nThe state of a Gradle build process (daemon) may be corrupt. Stopping all Gradle daemons may solve this problem.\n\nStop Gradle build processes (requires restart)\nYour project may be using a third-party plugin which is not compatible with the other plugins in the project or the version of Gradle requested by the project.\n\nIn the case of corrupt Gradle processes, you can also try closing the IDE and then killing all Java processes.\n\n\n</code></pre>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":1276759,"reputation":1683,"user_id":1231844,"accept_rate":74,"display_name":"OFRBG"},"score":0,"creation_date":1645770310,"post_id":71261733,"comment_id":125963774,"body_markdown":"First the call stack goes down to triangle(0) to the base case. Then it runs stars(1). The stack continues to unwrap, first stars(2) then stars(3).","body":"First the call stack goes down to triangle(0) to the base case. Then it runs stars(1). The stack continues to unwrap, first stars(2) then stars(3)."},{"owner":{"account_id":22943790,"reputation":25,"user_id":17076070,"display_name":"FormerCurrentFuture"},"score":0,"creation_date":1645771203,"post_id":71261733,"comment_id":125963917,"body_markdown":"So, let me get this straight. After triangle is decremented down to the base case (0 is the base case because of the if statement in the method?). the call stack basically invokes the printStars method from base case to the original parameter of 5? it starts with 0 but that does nothing so it increases from the base case until it hits the original parameter set in the main method? \n\nI&#39;m sorry if this explanation sounds like nonsense.","body":"So, let me get this straight. After triangle is decremented down to the base case (0 is the base case because of the if statement in the method?). the call stack basically invokes the printStars method from base case to the original parameter of 5? it starts with 0 but that does nothing so it increases from the base case until it hits the original parameter set in the main method?   I&#39;m sorry if this explanation sounds like nonsense."},{"owner":{"account_id":1276759,"reputation":1683,"user_id":1231844,"accept_rate":74,"display_name":"OFRBG"},"score":0,"creation_date":1645771541,"post_id":71261733,"comment_id":125963994,"body_markdown":"That’s exactly what happens.","body":"That’s exactly what happens."}],"answers":[{"tags":[],"owner":{"account_id":24339699,"reputation":76,"user_id":18277297,"display_name":"redPanda"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1645770792,"creation_date":1645770440,"answer_id":71261898,"question_id":71261733,"body_markdown":"Well, \r\n\r\nprintTriangle(5) calls printTriangle(4)   \r\nprintTriangle(4) calls printTriangle(3)   \r\nprintTriangle(3) calls printTriangle(2)   \r\nprintTriangle(2) calls printTriangle(1) \r\nprintTriangle(1) calls printTriangle(0)   \r\nprintTriangle(0) does nothing, but returns to printTriangle(1) \r\n\r\nprintTriangle(1) procedes with calling printStars(1)   \r\nprintStars(1) prints a star and calls printStars(0)    \r\nprintStars(0) does nothing and returns to printStars(1)     \r\nprintStars(1) has nothing more to do and returns to printTriangle(1)   \r\nprintTriangle(1) prints a linebreak and returns to printTriangle(2)\r\n\r\nprintTriangle(2) procedes with calling printStars(2)    \r\nprintStars(2) prints a star and calls printStars(1)    \r\nprintStars(1) prints a star and calls printStars(0)    \r\nprintStars(0) does nothing and returns to printStars(1)     \r\nprintStars(1) has nothing more to do and returns to printStars(2)  \r\nprintStars(2) has nothing more to do and returns to printTriangle(2)    \r\nprintTriangle(2) prints a linebreak and returns to printTriangle(3)\r\n\r\n...","title":"Can someone explain the logic of recursion in this pattern printing method?","body":"<p>Well,</p>\n<p>printTriangle(5) calls printTriangle(4)<br />\nprintTriangle(4) calls printTriangle(3)<br />\nprintTriangle(3) calls printTriangle(2)<br />\nprintTriangle(2) calls printTriangle(1)\nprintTriangle(1) calls printTriangle(0)<br />\nprintTriangle(0) does nothing, but returns to printTriangle(1)</p>\n<p>printTriangle(1) procedes with calling printStars(1)<br />\nprintStars(1) prints a star and calls printStars(0)<br />\nprintStars(0) does nothing and returns to printStars(1)<br />\nprintStars(1) has nothing more to do and returns to printTriangle(1)<br />\nprintTriangle(1) prints a linebreak and returns to printTriangle(2)</p>\n<p>printTriangle(2) procedes with calling printStars(2)<br />\nprintStars(2) prints a star and calls printStars(1)<br />\nprintStars(1) prints a star and calls printStars(0)<br />\nprintStars(0) does nothing and returns to printStars(1)<br />\nprintStars(1) has nothing more to do and returns to printStars(2)<br />\nprintStars(2) has nothing more to do and returns to printTriangle(2)<br />\nprintTriangle(2) prints a linebreak and returns to printTriangle(3)</p>\n<p>...</p>\n"},{"tags":[],"owner":{"account_id":19875789,"reputation":2650,"user_id":14645101,"display_name":"Aniketh Malyala"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1645771833,"creation_date":1645771424,"answer_id":71262042,"question_id":71261733,"body_markdown":"I will hopefully answer your question by providing both a written and visual explanation:\r\n\r\nWritten:\r\n\r\nFirst we start with ```printTriangle(5)```. Since ```n &lt; 1``` is false, we continue by doing ```printTriangle(4)```. This process continues until we reach ```printTriangle(0)```. Since ```printTriangle(0)``` will not output anything (since ```0 &lt; 1``` is true), we start with ```printTriangle(1)```:\r\n\r\nFrom ```printTriangle(1)``` we go to ```printStars(1)```. We can only print one star from here. After we do this, we print a newline. Next, we have ```printTriangle(2)``` which leads us into ```printStars(2)```. This gives 1 star, but leads into ```printStars(1)``` which gives us a second star and a newline. This process continues until we reach our 5 stars.\r\n\r\nVisual Representation:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI hope this helped answer your question! Please let me know if you need further clarification or details :)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f4coB.png","title":"Can someone explain the logic of recursion in this pattern printing method?","body":"<p>I will hopefully answer your question by providing both a written and visual explanation:</p>\n<p>Written:</p>\n<p>First we start with <code>printTriangle(5)</code>. Since <code>n &lt; 1</code> is false, we continue by doing <code>printTriangle(4)</code>. This process continues until we reach <code>printTriangle(0)</code>. Since <code>printTriangle(0)</code> will not output anything (since <code>0 &lt; 1</code> is true), we start with <code>printTriangle(1)</code>:</p>\n<p>From <code>printTriangle(1)</code> we go to <code>printStars(1)</code>. We can only print one star from here. After we do this, we print a newline. Next, we have <code>printTriangle(2)</code> which leads us into <code>printStars(2)</code>. This gives 1 star, but leads into <code>printStars(1)</code> which gives us a second star and a newline. This process continues until we reach our 5 stars.</p>\n<p>Visual Representation:</p>\n<p><a href=\"https://i.stack.imgur.com/f4coB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f4coB.png\" alt=\"enter image description here\" /></a></p>\n<p>I hope this helped answer your question! Please let me know if you need further clarification or details :)</p>\n"}],"owner":{"account_id":22943790,"reputation":25,"user_id":17076070,"display_name":"FormerCurrentFuture"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71262042,"answer_count":2,"score":1,"last_activity_date":1645771833,"creation_date":1645769192,"question_id":71261733,"body_markdown":"I&#39;m trying to piece together the logic in this example. This is the normal code. FYI, I had a university tutor help me with this example but he&#39;s still trying to figure out how to explain it to me. The code is also done, this is just for my own knowledge of recursion.\r\n    \r\n    public class Practice {\r\n    \r\n        public static void printTriangle(int n) { \r\n    \r\n            if (n &lt; 1) { \r\n                return; \r\n                \r\n            } \r\n            else {\r\n            \t\r\n            printTriangle(n - 1); \r\n            printStars(n); \r\n            System.out.println();\r\n            }\r\n        } \r\n        public static void printStars(int n) {\r\n    \t\tif (n &gt; 0) {\r\n    \t\tSystem.out.print(&quot;*&quot;);\r\n    \t\tprintStars(n-1);\r\n    \t\t}\r\n    \t}\r\n    \tpublic static void main(String[] args) {\r\n    \t\tprintTriangle(5);\r\n    \t}\r\n    }\r\n     Output\r\n    *\r\n    **\r\n    ***\r\n    ****\r\n    *****\r\n\r\nThis is the test code with markers that I used to find out what is happening when. It&#39;s kind of an eyesore so if you think you can explain it without looking at this mess, by all means. \r\n\r\n    public class Practice {\r\n    \r\n        public static void printTriangle(int n) { \r\n    \r\n            if (n &lt; 1) { \r\n            \tSystem.out.println(n);\r\n            \t\r\n                return; \r\n                \r\n            } \r\n            else {\r\n            System.out.println(&quot;1&quot;);\r\n            printTriangle(n - 1); \r\n            System.out.println(n);\r\n            printStars(n);\r\n            System.out.println(&quot;A&quot;);\r\n            }\r\n        } \r\n        public static void printStars(int n) {\r\n    \t\tif (n &gt; 0) {\r\n    \t\tSystem.out.print(n);\r\n    \t\tSystem.out.print(&quot;*&quot;);\r\n    \t\tprintStars(n-1);\r\n    \t\t}\r\n    \t}\r\n    \tpublic static void main(String[] args) {\r\n    \t\tprintTriangle(5);\r\n    \t}\r\n    }\r\n    1\r\n    1\r\n    1\r\n    1\r\n    1\r\n    0\r\n    1\r\n    1*A\r\n    2\r\n    2*1*A\r\n    3\r\n    3*2*1*A\r\n    4\r\n    4*3*2*1*A\r\n    5\r\n    5*4*3*2*1*A\r\n\r\nI&#39;ve figured it out up until the first star is printed. I printed the value of n after the printTriangle method decremented it to 0, then I printed the value of n right before the first star is printed and somehow, it&#39;s equal to 1. I&#39;m just curious as to how the value of n is increasing. The value goes into the printStars method at 1 and also keeps increasing as it prints stars \r\n\r\n","title":"Can someone explain the logic of recursion in this pattern printing method?","body":"<p>I'm trying to piece together the logic in this example. This is the normal code. FYI, I had a university tutor help me with this example but he's still trying to figure out how to explain it to me. The code is also done, this is just for my own knowledge of recursion.</p>\n<pre><code>public class Practice {\n\n    public static void printTriangle(int n) { \n\n        if (n &lt; 1) { \n            return; \n            \n        } \n        else {\n            \n        printTriangle(n - 1); \n        printStars(n); \n        System.out.println();\n        }\n    } \n    public static void printStars(int n) {\n        if (n &gt; 0) {\n        System.out.print(&quot;*&quot;);\n        printStars(n-1);\n        }\n    }\n    public static void main(String[] args) {\n        printTriangle(5);\n    }\n}\n Output\n*\n**\n***\n****\n*****\n</code></pre>\n<p>This is the test code with markers that I used to find out what is happening when. It's kind of an eyesore so if you think you can explain it without looking at this mess, by all means.</p>\n<pre><code>public class Practice {\n\n    public static void printTriangle(int n) { \n\n        if (n &lt; 1) { \n            System.out.println(n);\n            \n            return; \n            \n        } \n        else {\n        System.out.println(&quot;1&quot;);\n        printTriangle(n - 1); \n        System.out.println(n);\n        printStars(n);\n        System.out.println(&quot;A&quot;);\n        }\n    } \n    public static void printStars(int n) {\n        if (n &gt; 0) {\n        System.out.print(n);\n        System.out.print(&quot;*&quot;);\n        printStars(n-1);\n        }\n    }\n    public static void main(String[] args) {\n        printTriangle(5);\n    }\n}\n1\n1\n1\n1\n1\n0\n1\n1*A\n2\n2*1*A\n3\n3*2*1*A\n4\n4*3*2*1*A\n5\n5*4*3*2*1*A\n</code></pre>\n<p>I've figured it out up until the first star is printed. I printed the value of n after the printTriangle method decremented it to 0, then I printed the value of n right before the first star is printed and somehow, it's equal to 1. I'm just curious as to how the value of n is increasing. The value goes into the printStars method at 1 and also keeps increasing as it prints stars</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":315916,"reputation":21208,"user_id":631803,"accept_rate":79,"display_name":"Vikasdeep Singh"},"score":3,"creation_date":1533694296,"post_id":51737667,"comment_id":90435879,"body_markdown":"Welcome to Stackoverflow. Please have a look here for how to ask: https://stackoverflow.com/help/how-to-ask","body":"Welcome to Stackoverflow. Please have a look here for how to ask: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":2,"creation_date":1533722243,"post_id":51737667,"comment_id":90447414,"body_markdown":"Please read [Under what circumstances may I add “urgent” or other similar phrases to my question, in order to obtain faster answers?](//meta.stackoverflow.com/q/326569) - the summary is that this is not an ideal way to address volunteers, and is probably counterproductive to obtaining answers. Please refrain from adding this to your questions.","body":"Please read <a href=\"//meta.stackoverflow.com/q/326569\">Under what circumstances may I add “urgent” or other similar phrases to my question, in order to obtain faster answers?</a> - the summary is that this is not an ideal way to address volunteers, and is probably counterproductive to obtaining answers. Please refrain from adding this to your questions."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":1,"creation_date":1533722334,"post_id":51737667,"comment_id":90447479,"body_markdown":"@VicJordan: please don&#39;t add &quot;home-made tags&quot; into titles; we discourage that here, since we have a proper tagging system. Natural and grammatical sentences are better, either in statement or question form. Here is [the canonical discussion](https://meta.stackoverflow.com/questions/253028/why-is-removing-tags-from-the-title-suggested-so-often). (Please follow this advice for your own question titles too, thanks!).","body":"@VicJordan: please don&#39;t add &quot;home-made tags&quot; into titles; we discourage that here, since we have a proper tagging system. Natural and grammatical sentences are better, either in statement or question form. Here is <a href=\"https://meta.stackoverflow.com/questions/253028/why-is-removing-tags-from-the-title-suggested-so-often\">the canonical discussion</a>. (Please follow this advice for your own question titles too, thanks!)."},{"owner":{"account_id":19882630,"reputation":194,"user_id":14566306,"display_name":"TexD"},"score":0,"creation_date":1675777401,"post_id":51737667,"comment_id":132998357,"body_markdown":"Just use: `getParentFragmentManager()`","body":"Just use: <code>getParentFragmentManager()</code>"}],"answers":[{"tags":[],"owner":{"account_id":315916,"reputation":21208,"user_id":631803,"accept_rate":79,"display_name":"Vikasdeep Singh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1533695080,"creation_date":1533694551,"answer_id":51737728,"question_id":51737667,"body_markdown":"Use [Support Library][1] overcome this issue. \r\n\r\nAs per [documentation][2] Fragment class has been deprecated:\r\n\r\n&gt; This class was deprecated in API level 28. Use the Support Library\r\n&gt; Fragment for consistent behavior across all devices and access to\r\n&gt; Lifecycle.\r\n\r\n\r\n  [1]: https://developer.android.com/topic/libraries/support-library/\r\n  [2]: https://developer.android.com/reference/android/app/Fragment","title":"Since the Android getFragmentManager() API is deprecated, is there any alternative?","body":"<p>Use <a href=\"https://developer.android.com/topic/libraries/support-library/\" rel=\"nofollow noreferrer\">Support Library</a> overcome this issue. </p>\n\n<p>As per <a href=\"https://developer.android.com/reference/android/app/Fragment\" rel=\"nofollow noreferrer\">documentation</a> Fragment class has been deprecated:</p>\n\n<blockquote>\n  <p>This class was deprecated in API level 28. Use the Support Library\n  Fragment for consistent behavior across all devices and access to\n  Lifecycle.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":290461,"reputation":5558,"user_id":592025,"accept_rate":100,"display_name":"midhunhk"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1533694760,"creation_date":1533694760,"answer_id":51737745,"question_id":51737667,"body_markdown":"You should use the Fragment class from Android Support library instead.\r\n\r\n[android.app.Fragment][1] was deprecated in API level 28.\r\nUse the Support Library Fragment for consistent behavior across all devices and access to Lifecycle.\r\n\r\nUse [android.support.v4.app.Fragment][2] instead.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/app/Fragment\r\n  [2]: https://developer.android.com/reference/android/support/v4/app/Fragment","title":"Since the Android getFragmentManager() API is deprecated, is there any alternative?","body":"<p>You should use the Fragment class from Android Support library instead.</p>\n\n<p><a href=\"https://developer.android.com/reference/android/app/Fragment\" rel=\"noreferrer\">android.app.Fragment</a> was deprecated in API level 28.\nUse the Support Library Fragment for consistent behavior across all devices and access to Lifecycle.</p>\n\n<p>Use <a href=\"https://developer.android.com/reference/android/support/v4/app/Fragment\" rel=\"noreferrer\">android.support.v4.app.Fragment</a> instead.</p>\n"},{"tags":[],"owner":{"account_id":13016875,"reputation":724,"user_id":9407751,"display_name":"faskN"},"down_vote_count":3,"up_vote_count":59,"is_accepted":false,"score":56,"last_activity_date":1537129206,"creation_date":1537129206,"answer_id":52358062,"question_id":51737667,"body_markdown":"This method was deprecated in API level 28.\r\n\r\nUse `FragmentActivity.getSupportFragmentManager()`","title":"Since the Android getFragmentManager() API is deprecated, is there any alternative?","body":"<p>This method was deprecated in API level 28.</p>\n\n<p>Use <code>FragmentActivity.getSupportFragmentManager()</code></p>\n"},{"tags":[],"owner":{"account_id":5534859,"reputation":1482,"user_id":4457315,"accept_rate":80,"display_name":"SIMMORSAL"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1626952211,"creation_date":1539908023,"answer_id":52884230,"question_id":51737667,"body_markdown":"Since the question is a little broad, here&#39;s the solution for those who have migrated to `androidX`.\r\n\r\nMake sure that your fragments are using androidX versions in `import` section. i.e if you&#39;re using `DialogFragment()`, replace \r\n    \r\n    import android.app.DialogFragment\r\n**with** \r\n\r\n    import androidx.fragment.app.DialogFragment\r\n\r\nThen for `fragmentManager` when `show()`ing the dialog, if launching from another `fragment` don&#39;t change it, but if passing from an `Activity`, first extend the activity from `FragmentActivity()`, then pass `supportFragmentManager`:\r\n\r\n    // kotlin\r\n    import androidx.fragment.app.FragmentActivity\r\n\r\n    class MyActivity: FragmentActivity() {\r\n        ...\r\n        val myDialog = MyDialog()\r\n        myDialog.show(supportFragmentManager, TAG)\r\n        ...\r\n    }\r\n\r\n***Although,*** the same steps also apply to `support.v4` if you&#39;ve not migrated to `androidX`. Just in the first step replace \r\n\r\n    import android.app.DialogFragment\r\nwith\r\n\r\n    import android.support.v4.app.Fragment","title":"Since the Android getFragmentManager() API is deprecated, is there any alternative?","body":"<p>Since the question is a little broad, here's the solution for those who have migrated to <code>androidX</code>.</p>\n<p>Make sure that your fragments are using androidX versions in <code>import</code> section. i.e if you're using <code>DialogFragment()</code>, replace</p>\n<pre><code>import android.app.DialogFragment\n</code></pre>\n<p><strong>with</strong></p>\n<pre><code>import androidx.fragment.app.DialogFragment\n</code></pre>\n<p>Then for <code>fragmentManager</code> when <code>show()</code>ing the dialog, if launching from another <code>fragment</code> don't change it, but if passing from an <code>Activity</code>, first extend the activity from <code>FragmentActivity()</code>, then pass <code>supportFragmentManager</code>:</p>\n<pre><code>// kotlin\nimport androidx.fragment.app.FragmentActivity\n\nclass MyActivity: FragmentActivity() {\n    ...\n    val myDialog = MyDialog()\n    myDialog.show(supportFragmentManager, TAG)\n    ...\n}\n</code></pre>\n<p><em><strong>Although,</strong></em> the same steps also apply to <code>support.v4</code> if you've not migrated to <code>androidX</code>. Just in the first step replace</p>\n<pre><code>import android.app.DialogFragment\n</code></pre>\n<p>with</p>\n<pre><code>import android.support.v4.app.Fragment\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12548147,"reputation":27,"user_id":9130749,"display_name":"A.Klapchuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566284435,"creation_date":1542890800,"answer_id":53431371,"question_id":51737667,"body_markdown":"Xml\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/place_autocomplete_fragment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:name=&quot;com.google.android.gms.location.places.ui.SupportPlaceAutocompleteFragment&quot;\r\n    /&gt;\r\nActivity\r\n\r\n    SupportPlaceAutocompleteFragment autocompleteFragment = (SupportPlaceAutocompleteFragment)\r\n                getSupportFragmentManager().findFragmentById(R.id.place_autocomplete_fragment);\r\n","title":"Since the Android getFragmentManager() API is deprecated, is there any alternative?","body":"<p>Xml</p>\n\n<pre><code>&lt;fragment\n    android:id=\"@+id/place_autocomplete_fragment\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:name=\"com.google.android.gms.location.places.ui.SupportPlaceAutocompleteFragment\"\n/&gt;\n</code></pre>\n\n<p>Activity</p>\n\n<pre><code>SupportPlaceAutocompleteFragment autocompleteFragment = (SupportPlaceAutocompleteFragment)\n            getSupportFragmentManager().findFragmentById(R.id.place_autocomplete_fragment);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2496315,"reputation":1587,"user_id":2172590,"display_name":"Mina Samir"},"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1569030134,"creation_date":1569030134,"answer_id":58036654,"question_id":51737667,"body_markdown":"If I understood you well `getFragmentManager()` is now deprecated\r\n\r\nwe will use `getChildFragmentManager()`\r\nReturn a private FragmentManager for placing and managing Fragments inside of this Fragment.\r\n\r\nwe will use `getParentFragmentManager()`\r\nReturn the FragmentManager for interacting with fragments associated with this fragment&#39;s activity.\r\n\r\nso, if you deal with fragments inside a fragment you will use the first one and if you deal with fragments inside an activity you will use the second one.\r\n\r\nyou can find them here `package androidx.fragment.app;`","title":"Since the Android getFragmentManager() API is deprecated, is there any alternative?","body":"<p>If I understood you well <code>getFragmentManager()</code> is now deprecated</p>\n\n<p>we will use <code>getChildFragmentManager()</code>\nReturn a private FragmentManager for placing and managing Fragments inside of this Fragment.</p>\n\n<p>we will use <code>getParentFragmentManager()</code>\nReturn the FragmentManager for interacting with fragments associated with this fragment's activity.</p>\n\n<p>so, if you deal with fragments inside a fragment you will use the first one and if you deal with fragments inside an activity you will use the second one.</p>\n\n<p>you can find them here <code>package androidx.fragment.app;</code></p>\n"},{"tags":[],"owner":{"account_id":4266310,"reputation":532,"user_id":3489351,"display_name":"androidStud"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1574987161,"creation_date":1574987161,"answer_id":59097469,"question_id":51737667,"body_markdown":"Extend **AppCompatActivity** which by default extends **FragmentActivity**, then you can use **getSupportFragmentManager()** which will return you the **fragmentManager**.","title":"Since the Android getFragmentManager() API is deprecated, is there any alternative?","body":"<p>Extend <strong>AppCompatActivity</strong> which by default extends <strong>FragmentActivity</strong>, then you can use <strong>getSupportFragmentManager()</strong> which will return you the <strong>fragmentManager</strong>.</p>\n"},{"tags":[],"owner":{"account_id":1012779,"reputation":20588,"user_id":1024973,"accept_rate":72,"display_name":"AndroidDev"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1575786963,"creation_date":1575786963,"answer_id":59233021,"question_id":51737667,"body_markdown":"for Kotlin:\r\n\r\n    activity\r\n        ?.supportFragmentManager\r\n        ?. &lt;whatever needs to come after that&gt;","title":"Since the Android getFragmentManager() API is deprecated, is there any alternative?","body":"<p>for Kotlin:</p>\n\n<pre><code>activity\n    ?.supportFragmentManager\n    ?. &lt;whatever needs to come after that&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9840094,"reputation":41,"user_id":7289320,"display_name":"yadav_nkit"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1578403600,"creation_date":1578403600,"answer_id":59629361,"question_id":51737667,"body_markdown":"Use This\r\n\r\n    import android.support.v4.app.FragmentManager;\r\nInstead of\r\n\r\n    import android.app.FragmentManager;\r\nAnd \r\nUse This\r\n\r\n    FragmentManager manager = ((YourActivity) mContext).getSupportFragmentManager();\r\nInstead of \r\n\r\n     FragmentManager manager = ((YourActivity) mContext).getFragmentManager();","title":"Since the Android getFragmentManager() API is deprecated, is there any alternative?","body":"<p>Use This</p>\n\n<pre><code>import android.support.v4.app.FragmentManager;\n</code></pre>\n\n<p>Instead of</p>\n\n<pre><code>import android.app.FragmentManager;\n</code></pre>\n\n<p>And \nUse This</p>\n\n<pre><code>FragmentManager manager = ((YourActivity) mContext).getSupportFragmentManager();\n</code></pre>\n\n<p>Instead of </p>\n\n<pre><code> FragmentManager manager = ((YourActivity) mContext).getFragmentManager();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2277413,"reputation":179,"user_id":11011883,"display_name":"Yoju"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1580813644,"creation_date":1580811276,"answer_id":60055145,"question_id":51737667,"body_markdown":"I used `parentFragmentManager` instead of `fragmentManager`.\r\n(If you are using *androidx* `Fragment`.)\r\n\r\nhttps://developer.android.com/jetpack/androidx/releases/fragment#1.2.0\r\n\r\n&gt; **getFragmentManager() deprecation**: The `getFragmentManager()` and\r\n&gt; `requireFragmentManager()` methods on `Fragment` have been deprecated and\r\n&gt; replaced with a single `getParentFragmentManager()` method, which\r\n&gt; returns the non-null `FragmentManager` the `Fragment` is added to (you can\r\n&gt; use `isAdded()` to determine if it is safe to call).","title":"Since the Android getFragmentManager() API is deprecated, is there any alternative?","body":"<p>I used <code>parentFragmentManager</code> instead of <code>fragmentManager</code>.\n(If you are using <em>androidx</em> <code>Fragment</code>.)</p>\n\n<p><a href=\"https://developer.android.com/jetpack/androidx/releases/fragment#1.2.0\" rel=\"noreferrer\">https://developer.android.com/jetpack/androidx/releases/fragment#1.2.0</a></p>\n\n<blockquote>\n  <p><strong>getFragmentManager() deprecation</strong>: The <code>getFragmentManager()</code> and\n  <code>requireFragmentManager()</code> methods on <code>Fragment</code> have been deprecated and\n  replaced with a single <code>getParentFragmentManager()</code> method, which\n  returns the non-null <code>FragmentManager</code> the <code>Fragment</code> is added to (you can\n  use <code>isAdded()</code> to determine if it is safe to call).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1073145,"reputation":7191,"user_id":6512057,"display_name":"Mr-IDE"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1584981966,"creation_date":1584526158,"answer_id":60737293,"question_id":51737667,"body_markdown":"If you&#39;re displaying a DialogFragment over a **PreferenceFragment** (specifically an **`android.preference.PreferenceFragment`** not the class from the Support Preference library), then you will see this warning.\r\n\r\nApproximately June 2018, Google deprecated the PreferenceFragment and all its associated methods like `getFragmentManager()`. You probably already know that `getSupportFragmentManager()` cannot be used on the PreferenceFragment anyway, as it&#39;s a special exception.\r\n\r\nThe recommended approach now is to use the **PreferenceFragmentCompat** from the AndroidX Jetpack library or from the Preference Support library:\r\n\r\n```\r\nimplementation &quot;androidx.preference:preference:1.0.0&quot;\r\n```\r\n\r\nYou can see available versions here: https://maven.google.com -&gt; Search for &quot;preference&quot;\r\n\r\nMore info here: https://stackoverflow.com/questions/14756457/android-deprecated-method-warning-regarding-preferenceactivity#51149808\r\n\r\n-----\r\n\r\nBe aware that migrating to PreferenceFragmentCompat may be a lengthy and difficult task, especially if you have custom Preference classes. More info:\r\n\r\n* https://stackoverflow.com/questions/32621403/how-do-i-create-custom-preferences-using-android-support-v7-preference-library\r\n* https://github.com/jaredrummler/ColorPicker/issues/26#issuecomment-331626888\r\n* https://issuetracker.google.com/issues/119256512\r\n* https://issuetracker.google.com/issues/124153118\r\n* https://stackoverflow.com/questions/18509369/android-how-to-remove-margin-padding-in-preference-screen","title":"Since the Android getFragmentManager() API is deprecated, is there any alternative?","body":"<p>If you're displaying a DialogFragment over a <strong>PreferenceFragment</strong> (specifically an <strong><code>android.preference.PreferenceFragment</code></strong> not the class from the Support Preference library), then you will see this warning.</p>\n\n<p>Approximately June 2018, Google deprecated the PreferenceFragment and all its associated methods like <code>getFragmentManager()</code>. You probably already know that <code>getSupportFragmentManager()</code> cannot be used on the PreferenceFragment anyway, as it's a special exception.</p>\n\n<p>The recommended approach now is to use the <strong>PreferenceFragmentCompat</strong> from the AndroidX Jetpack library or from the Preference Support library:</p>\n\n<pre><code>implementation \"androidx.preference:preference:1.0.0\"\n</code></pre>\n\n<p>You can see available versions here: <a href=\"https://maven.google.com\" rel=\"nofollow noreferrer\">https://maven.google.com</a> -> Search for \"preference\"</p>\n\n<p>More info here: <a href=\"https://stackoverflow.com/questions/14756457/android-deprecated-method-warning-regarding-preferenceactivity#51149808\">Android- deprecated method warning regarding PreferenceActivity</a></p>\n\n<hr>\n\n<p>Be aware that migrating to PreferenceFragmentCompat may be a lengthy and difficult task, especially if you have custom Preference classes. More info:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/32621403/how-do-i-create-custom-preferences-using-android-support-v7-preference-library\">How do I create custom preferences using android.support.v7.preference library?</a></li>\n<li><a href=\"https://github.com/jaredrummler/ColorPicker/issues/26#issuecomment-331626888\" rel=\"nofollow noreferrer\">https://github.com/jaredrummler/ColorPicker/issues/26#issuecomment-331626888</a></li>\n<li><a href=\"https://issuetracker.google.com/issues/119256512\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/119256512</a></li>\n<li><a href=\"https://issuetracker.google.com/issues/124153118\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/124153118</a></li>\n<li><a href=\"https://stackoverflow.com/questions/18509369/android-how-to-remove-margin-padding-in-preference-screen\">Android: How to remove margin/padding in Preference Screen</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1657823,"reputation":3774,"user_id":1526853,"display_name":"teteArg"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1597236246,"creation_date":1597236246,"answer_id":63376794,"question_id":51737667,"body_markdown":"If you using AndroidX Fragment `androidx.fragment.app.Fragment` you can use\r\n\r\n    getActivity().getSupportFragmentManager()","title":"Since the Android getFragmentManager() API is deprecated, is there any alternative?","body":"<p>If you using AndroidX Fragment <code>androidx.fragment.app.Fragment</code> you can use</p>\n<pre><code>getActivity().getSupportFragmentManager()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14718183,"reputation":1354,"user_id":10629573,"display_name":"Liong"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1640317377,"creation_date":1616997133,"answer_id":66849289,"question_id":51737667,"body_markdown":"Right now, in Kotlin I use\r\n\r\n    val fragmentManager = this@className.parentFragmentManager\r\n\r\nor (prefer this one)\r\n```kotlin\r\nval fragmentManager = this@className.childFragmentManager\r\n```\r\n\r\n\r\nwell if you still use Java I think the code is\r\n\r\n    FragmentManager manager = this.getParentFragmentManager();\r\n\r\nHope my answer can solve the task.\r\n\r\nI recommended you to use Navigation now","title":"Since the Android getFragmentManager() API is deprecated, is there any alternative?","body":"<p>Right now, in Kotlin I use</p>\n<pre><code>val fragmentManager = this@className.parentFragmentManager\n</code></pre>\n<p>or (prefer this one)</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val fragmentManager = this@className.childFragmentManager\n</code></pre>\n<p>well if you still use Java I think the code is</p>\n<pre><code>FragmentManager manager = this.getParentFragmentManager();\n</code></pre>\n<p>Hope my answer can solve the task.</p>\n<p>I recommended you to use Navigation now</p>\n"},{"tags":[],"owner":{"account_id":4284636,"reputation":1529,"user_id":3502856,"accept_rate":100,"display_name":"Kaaveh Mohamedi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645771813,"creation_date":1645771813,"answer_id":71262093,"question_id":51737667,"body_markdown":"Replace `getFragmentManager()` with `parentFragmentManager` .","title":"Since the Android getFragmentManager() API is deprecated, is there any alternative?","body":"<p>Replace <code>getFragmentManager()</code> with <code>parentFragmentManager</code> .</p>\n"}],"owner":{"account_id":14112345,"reputation":951,"user_id":10194841,"display_name":"Zubair Rajput"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90598,"favorite_count":0,"down_vote_count":0,"up_vote_count":95,"answer_count":14,"score":95,"last_activity_date":1645771813,"creation_date":1533694030,"question_id":51737667,"body_markdown":"`FragmentManager` is deprecated. Is there an alternative or what can I do now?\r\n\r\n\r\n     PlaceAutocompleteFragment autocompleteFragment = (PlaceAutocompleteFragment) getFragmentManager().findFragmentById(R.id.place_autocomplete_fragment);\r\n            autocompleteFragment.setOnPlaceSelectedListener(new PlaceSelectionListener() {\r\n                @Override\r\n                public void onPlaceSelected(Place place) {\r\n                    // TODO: Get info about the selected place.\r\n                    destination = place.getName().toString();\r\n                    destinationLatLng = place.getLatLng();\r\n                }\r\n                @Override\r\n                public void onError(Status status) {\r\n                    // TODO: Handle the error.\r\n                }\r\n            });\r\n\r\n\r\n![deprecation strike image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nrXaD.jpg","title":"Since the Android getFragmentManager() API is deprecated, is there any alternative?","body":"<p><code>FragmentManager</code> is deprecated. Is there an alternative or what can I do now?</p>\n\n<pre><code> PlaceAutocompleteFragment autocompleteFragment = (PlaceAutocompleteFragment) getFragmentManager().findFragmentById(R.id.place_autocomplete_fragment);\n        autocompleteFragment.setOnPlaceSelectedListener(new PlaceSelectionListener() {\n            @Override\n            public void onPlaceSelected(Place place) {\n                // TODO: Get info about the selected place.\n                destination = place.getName().toString();\n                destinationLatLng = place.getLatLng();\n            }\n            @Override\n            public void onError(Status status) {\n                // TODO: Handle the error.\n            }\n        });\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/nrXaD.jpg\" alt=\"deprecation strike image\"></p>\n"},{"tags":["java","inheritance","protected"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":2,"creation_date":1645771324,"post_id":71261991,"comment_id":125963949,"body_markdown":"That should not work, unless `Main` is in the same package as `A`. Does the code in your post reflect your actual test?","body":"That should not work, unless <code>Main</code> is in the same package as <code>A</code>. Does the code in your post reflect your actual test?"},{"owner":{"account_id":8087134,"reputation":28351,"user_id":6094348,"accept_rate":100,"display_name":"Yousaf"},"score":0,"creation_date":1645771378,"post_id":71261991,"comment_id":125963961,"body_markdown":"Refer to: [Controlling Access to Members of a Class](https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html)","body":"Refer to: <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"nofollow noreferrer\">Controlling Access to Members of a Class</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1645771575,"post_id":71261991,"comment_id":125964004,"body_markdown":"They don&#39;t &#39;become&#39; anything. They stay what they are.","body":"They don&#39;t &#39;become&#39; anything. They stay what they are."},{"owner":{"account_id":2981437,"reputation":3064,"user_id":2531314,"accept_rate":58,"display_name":"blackSmith"},"score":0,"creation_date":1645772813,"post_id":71261991,"comment_id":125964259,"body_markdown":"@ernest_k exactly, that should not even compile. This is actual code I stumbled upon when showing inheritance to beginners.","body":"@ernest_k exactly, that should not even compile. This is actual code I stumbled upon when showing inheritance to beginners."},{"owner":{"account_id":2981437,"reputation":3064,"user_id":2531314,"accept_rate":58,"display_name":"blackSmith"},"score":0,"creation_date":1645858878,"post_id":71261991,"comment_id":125986229,"body_markdown":"Seems like my IDE is buggy, cause the specifier is working fine  from command line.","body":"Seems like my IDE is buggy, cause the specifier is working fine  from command line."}],"answers":[{"tags":[],"owner":{"account_id":11281908,"reputation":61,"user_id":8273992,"display_name":"Muheeb Mehraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645771513,"creation_date":1645771513,"answer_id":71262051,"question_id":71261991,"body_markdown":"Variables, methods, and constructors, which are declared protected in a superclass can be accessed only by the subclasses in other package or any class within the package of the protected members&#39; class.\r\n\r\nYou can read more about this [here][1] \r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/java/java_access_modifiers.htm#:~:text=Protected%20Access%20Modifier%20%2D%20Protected,applied%20to%20class%20and%20interfaces.","title":"What becomes the visibility of protected members in a subclass?","body":"<p>Variables, methods, and constructors, which are declared protected in a superclass can be accessed only by the subclasses in other package or any class within the package of the protected members' class.</p>\n<p>You can read more about this <a href=\"https://www.tutorialspoint.com/java/java_access_modifiers.htm#:%7E:text=Protected%20Access%20Modifier%20%2D%20Protected,applied%20to%20class%20and%20interfaces.\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":2981437,"reputation":3064,"user_id":2531314,"accept_rate":58,"display_name":"blackSmith"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":566,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71262051,"answer_count":1,"score":0,"last_activity_date":1645771513,"creation_date":1645771132,"question_id":71261991,"body_markdown":"I have a class A with a protected member :\r\n\r\n    package p1;   \r\n    public class A{\r\n          protected int number;\r\n    }\r\nNow I&#39;ve subclassed it in another package :\r\n\r\n    package p2;\r\n    public class B extends A{}\r\nNow in the main class :\r\n\r\n    package p3;\r\n    public class Main{\r\n       public static void main(String[] args){\r\n            B b = new B();\r\n            System.out.println(b.number);\r\n       }\r\n    } \r\nThis executes perfectly. What is the visibility of protected members in subclass - do they become public ?\r\nThen I tried following which also didn&#39;t show any error:\r\n\r\n     System.out.println(new A().number);\r\n\r\nAfter seeing this I&#39;ve came to conclusion that I&#39;m doing something really silly or misunderstood the use of `protected` specifier. The way I learnt : `protected` members can only be accessed within subclasses irrespective of packages and they remained in the same viasibilty. But the way I&#39;m able to access the member `number` like a `public` variable even in the parent class.\r\n\r\nPlease help me understand what is happening here.","title":"What becomes the visibility of protected members in a subclass?","body":"<p>I have a class A with a protected member :</p>\n<pre><code>package p1;   \npublic class A{\n      protected int number;\n}\n</code></pre>\n<p>Now I've subclassed it in another package :</p>\n<pre><code>package p2;\npublic class B extends A{}\n</code></pre>\n<p>Now in the main class :</p>\n<pre><code>package p3;\npublic class Main{\n   public static void main(String[] args){\n        B b = new B();\n        System.out.println(b.number);\n   }\n} \n</code></pre>\n<p>This executes perfectly. What is the visibility of protected members in subclass - do they become public ?\nThen I tried following which also didn't show any error:</p>\n<pre><code> System.out.println(new A().number);\n</code></pre>\n<p>After seeing this I've came to conclusion that I'm doing something really silly or misunderstood the use of <code>protected</code> specifier. The way I learnt : <code>protected</code> members can only be accessed within subclasses irrespective of packages and they remained in the same viasibilty. But the way I'm able to access the member <code>number</code> like a <code>public</code> variable even in the parent class.</p>\n<p>Please help me understand what is happening here.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1550330829,"post_id":54724612,"comment_id":96233258,"body_markdown":"Can you post sample stack traces?","body":"Can you post sample stack traces?"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1550331108,"post_id":54724612,"comment_id":96233351,"body_markdown":"Your crash is coming from inside a `Main.App` class. That&#39;s not `.App`, unless your `package` attribute is strange in your manifest. Are you sure that `.App` is `Main.App`? IMHO, it feels like you have two things named `App`, and you might be running into problems in casting one `App` to another `App`.","body":"Your crash is coming from inside a <code>Main.App</code> class. That&#39;s not <code>.App</code>, unless your <code>package</code> attribute is strange in your manifest. Are you sure that <code>.App</code> is <code>Main.App</code>? IMHO, it feels like you have two things named <code>App</code>, and you might be running into problems in casting one <code>App</code> to another <code>App</code>."},{"owner":{"account_id":76597,"reputation":60197,"user_id":219159,"accept_rate":75,"display_name":"Seva Alekseyev"},"score":0,"creation_date":1550331230,"post_id":54724612,"comment_id":96233381,"body_markdown":"Main.App() is the method, which is called from Main.onCreate(). Yes, there&#39;s a method App() which returns the application object of class App. It was never a problem before...","body":"Main.App() is the method, which is called from Main.onCreate(). Yes, there&#39;s a method App() which returns the application object of class App. It was never a problem before..."},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1550331462,"post_id":54724612,"comment_id":96233443,"body_markdown":"Oh, right, that&#39;s a method, sorry for my mistake. I was hoping the stack trace would show what was trying to be cast. It may be someone is playing with repackaging your app with a hacked `Application` subclass.","body":"Oh, right, that&#39;s a method, sorry for my mistake. I was hoping the stack trace would show what was trying to be cast. It may be someone is playing with repackaging your app with a hacked <code>Application</code> subclass."},{"owner":{"account_id":76597,"reputation":60197,"user_id":219159,"accept_rate":75,"display_name":"Seva Alekseyev"},"score":0,"creation_date":1550332009,"post_id":54724612,"comment_id":96233606,"body_markdown":"By necessity side loaded, I guess. Does Google Play pick up and report crashes from those?","body":"By necessity side loaded, I guess. Does Google Play pick up and report crashes from those?"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1550332057,"post_id":54724612,"comment_id":96233619,"body_markdown":"Don&#39;t know the rules about that, sorry. I usually use another crash logger, integrated into the app, rather than Play&#39;s.","body":"Don&#39;t know the rules about that, sorry. I usually use another crash logger, integrated into the app, rather than Play&#39;s."},{"owner":{"account_id":76597,"reputation":60197,"user_id":219159,"accept_rate":75,"display_name":"Seva Alekseyev"},"score":0,"creation_date":1550332136,"post_id":54724612,"comment_id":96233641,"body_markdown":"I hear you, the built-in reporting is meh. :) I have one for native signals, but not for uncaught Java exceptions. You gave me an idea though...","body":"I hear you, the built-in reporting is meh. :) I have one for native signals, but not for uncaught Java exceptions. You gave me an idea though..."},{"owner":{"account_id":32385,"reputation":31109,"user_id":89818,"accept_rate":96,"display_name":"caw"},"score":0,"creation_date":1645770381,"post_id":54724612,"comment_id":125963792,"body_markdown":"I see those from Android 9 (primarily) but also Android 6 and Android 8. Manufacturers are mainly Xiaomi and Asus. Perhaps bad OEM code?","body":"I see those from Android 9 (primarily) but also Android 6 and Android 8. Manufacturers are mainly Xiaomi and Asus. Perhaps bad OEM code?"}],"answers":[{"tags":[],"owner":{"account_id":32385,"reputation":31109,"user_id":89818,"accept_rate":96,"display_name":"caw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645771430,"creation_date":1645771430,"answer_id":71262044,"question_id":54724612,"body_markdown":"&gt; During auto backup and restore operations, the system launches the app in a restricted mode to both prevent the app from accessing files that could cause conflicts and let the app execute callback methods in its `BackupAgent`. In this restricted mode, the app&#39;s main activity is not automatically launched, its Content Providers are not initialized, and the base-class `Application` is instantiated instead of any subclass declared in the app&#39;s manifest.\r\n&gt;\r\n&gt; Caution: To avoid errors, make sure that the parts of your app that execute in the restricted mode (mostly your `BackupAgent`) don&#39;t access content providers in the same app or attempt to cast the `Application` object. If you can&#39;t avoid those patterns, then consider implementing Key/Value backup or disabling backup entirely.\r\n&gt;\r\n&gt; – [`developer.android.com`](https://developer.android.com/guide/topics/data/autobackup#ImplementingBackupAgent) via [Pablo Baxter](https://medium.com/@pablobaxter/what-happened-to-my-subclass-android-application-924c91bafcac)","title":"ClassCastException: getApplication() returns something weird","body":"<blockquote>\n<p>During auto backup and restore operations, the system launches the app in a restricted mode to both prevent the app from accessing files that could cause conflicts and let the app execute callback methods in its <code>BackupAgent</code>. In this restricted mode, the app's main activity is not automatically launched, its Content Providers are not initialized, and the base-class <code>Application</code> is instantiated instead of any subclass declared in the app's manifest.</p>\n<p>Caution: To avoid errors, make sure that the parts of your app that execute in the restricted mode (mostly your <code>BackupAgent</code>) don't access content providers in the same app or attempt to cast the <code>Application</code> object. If you can't avoid those patterns, then consider implementing Key/Value backup or disabling backup entirely.</p>\n<p>– <a href=\"https://developer.android.com/guide/topics/data/autobackup#ImplementingBackupAgent\" rel=\"nofollow noreferrer\"><code>developer.android.com</code></a> via <a href=\"https://medium.com/@pablobaxter/what-happened-to-my-subclass-android-application-924c91bafcac\" rel=\"nofollow noreferrer\">Pablo Baxter</a></p>\n</blockquote>\n"}],"owner":{"account_id":76597,"reputation":60197,"user_id":219159,"accept_rate":75,"display_name":"Seva Alekseyev"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1645771430,"creation_date":1550330731,"question_id":54724612,"body_markdown":"I have an Android application with a custom application class:\r\n\r\n    &lt;application android:name=&quot;.App&quot;\r\n\t    android:icon=&quot;@drawable/icon&quot;\r\n\t    android:description=&quot;@string/IDS_APPDESC&quot;\r\n\t    android:label=&quot;@string/IDS_APPTITLE&quot;\r\n\t    android:theme=&quot;@style/Theme.App&quot;&gt;\r\n\r\nWorks in general. In the main activity&#39;s `onCreate`, I retrieve the app object:\r\n\r\n    public App App()\r\n\t{\r\n\t\treturn (App)getApplication();\r\n\t}\r\n\r\nNow, I&#39;ve got several crash reports in Google Play console that say this line caused a `ClassCastException`. They originate on\r\n\r\n - Huawei Honor 10 (HWCOL), Android 9.\r\n - OnePlus OnePlus3T (OnePlus3T), Android 8.0\r\n\r\n\r\nHow&#39;s that possible?\r\n\r\nThe stack goes:\r\n\r\n    java.lang.RuntimeException: \r\n      at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3300)\r\n      at android.app.ActivityThread.handleLaunchActivity (ActivityThread.java:3484)\r\n      at android.app.servertransaction.LaunchActivityItem.execute (LaunchActivityItem.java:86)\r\n      at android.app.servertransaction.TransactionExecutor.executeCallbacks (TransactionExecutor.java:108)\r\n      at android.app.servertransaction.TransactionExecutor.execute (TransactionExecutor.java:68)\r\n      at android.app.ActivityThread$H.handleMessage (ActivityThread.java:2123)\r\n      at android.os.Handler.dispatchMessage (Handler.java:109)\r\n      at android.os.Looper.loop (Looper.java:207)\r\n      at android.app.ActivityThread.main (ActivityThread.java:7470)\r\n      at java.lang.reflect.Method.invoke (Native Method)\r\n      at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:524)\r\n      at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:958)\r\n    Caused by: java.lang.ClassCastException: \r\n      at ru.acme.Main.App (Main.java:322)\r\n      at ru.acme.Main.onCreate (Main.java:145)\r\n      at android.app.Activity.performCreate (Activity.java:7436)\r\n      at android.app.Activity.performCreate (Activity.java:7426)\r\n      at android.app.Instrumentation.callActivityOnCreate (Instrumentation.java:1286)\r\n      at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3279)\r\n\r\nEDIT2: there&#39;s a method called App() which returns the application, and also a class App. The Java compiler doesn&#39;t complain...\r\n\r\nEDIT3: got the same crash from another device/OS. Probably not hackery.\r\n\r\n","title":"ClassCastException: getApplication() returns something weird","body":"<p>I have an Android application with a custom application class:</p>\n\n<pre><code>&lt;application android:name=\".App\"\n    android:icon=\"@drawable/icon\"\n    android:description=\"@string/IDS_APPDESC\"\n    android:label=\"@string/IDS_APPTITLE\"\n    android:theme=\"@style/Theme.App\"&gt;\n</code></pre>\n\n<p>Works in general. In the main activity's <code>onCreate</code>, I retrieve the app object:</p>\n\n<pre><code>public App App()\n{\n    return (App)getApplication();\n}\n</code></pre>\n\n<p>Now, I've got several crash reports in Google Play console that say this line caused a <code>ClassCastException</code>. They originate on</p>\n\n<ul>\n<li>Huawei Honor 10 (HWCOL), Android 9.</li>\n<li>OnePlus OnePlus3T (OnePlus3T), Android 8.0</li>\n</ul>\n\n<p>How's that possible?</p>\n\n<p>The stack goes:</p>\n\n<pre><code>java.lang.RuntimeException: \n  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3300)\n  at android.app.ActivityThread.handleLaunchActivity (ActivityThread.java:3484)\n  at android.app.servertransaction.LaunchActivityItem.execute (LaunchActivityItem.java:86)\n  at android.app.servertransaction.TransactionExecutor.executeCallbacks (TransactionExecutor.java:108)\n  at android.app.servertransaction.TransactionExecutor.execute (TransactionExecutor.java:68)\n  at android.app.ActivityThread$H.handleMessage (ActivityThread.java:2123)\n  at android.os.Handler.dispatchMessage (Handler.java:109)\n  at android.os.Looper.loop (Looper.java:207)\n  at android.app.ActivityThread.main (ActivityThread.java:7470)\n  at java.lang.reflect.Method.invoke (Native Method)\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:524)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:958)\nCaused by: java.lang.ClassCastException: \n  at ru.acme.Main.App (Main.java:322)\n  at ru.acme.Main.onCreate (Main.java:145)\n  at android.app.Activity.performCreate (Activity.java:7436)\n  at android.app.Activity.performCreate (Activity.java:7426)\n  at android.app.Instrumentation.callActivityOnCreate (Instrumentation.java:1286)\n  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3279)\n</code></pre>\n\n<p>EDIT2: there's a method called App() which returns the application, and also a class App. The Java compiler doesn't complain...</p>\n\n<p>EDIT3: got the same crash from another device/OS. Probably not hackery.</p>\n"},{"tags":["java","xml","eclipse","servlets"],"comments":[{"owner":{"account_id":291162,"reputation":2827,"user_id":593146,"accept_rate":83,"display_name":"Zyl"},"score":0,"creation_date":1645472166,"post_id":71211911,"comment_id":125875837,"body_markdown":"The xml file does not respect the specification of the document type definition file (dtd) which it refers to. If the app works despite this, it means no part of the code attempts to validate against the dtd, or it simply isn&#39;t strictly enforced. I wouldn&#39;t bother touching old stuff like that unless there are problems with it.","body":"The xml file does not respect the specification of the document type definition file (dtd) which it refers to. If the app works despite this, it means no part of the code attempts to validate against the dtd, or it simply isn&#39;t strictly enforced. I wouldn&#39;t bother touching old stuff like that unless there are problems with it."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1645601744,"post_id":71211911,"comment_id":125912038,"body_markdown":"@zx485 Please ask for the additional providing of the code/text. Removing of the screenshot because your comment has been read as &quot;text instead of image&quot; would make the question unanswerable. I for myself simply use OCR to get the text that I need to answer the question (see my answer below).","body":"@zx485 Please ask for the additional providing of the code/text. Removing of the screenshot because your comment has been read as &quot;text instead of image&quot; would make the question unanswerable. I for myself simply use OCR to get the text that I need to answer the question (see my answer below)."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1645690508,"post_id":71211911,"comment_id":125940465,"body_markdown":"@zx485 You and others have closed this question because of _&quot;This question needs debugging details&quot;_ but the answer (see below) proves otherwise.","body":"@zx485 You and others have closed this question because of <i>&quot;This question needs debugging details&quot;</i> but the answer (see below) proves otherwise."},{"owner":{"account_id":1351195,"reputation":28599,"user_id":1305969,"display_name":"zx485"},"score":0,"creation_date":1645695302,"post_id":71211911,"comment_id":125942080,"body_markdown":"@howlger: Well, you convinced me. The decision was overhasty. Voted to reopen.","body":"@howlger: Well, you convinced me. The decision was overhasty. Voted to reopen."}],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645601200,"creation_date":1645601200,"answer_id":71232800,"question_id":71211911,"body_markdown":"The referenced DTD file [`http://java.sun.com/j2ee/dtds/web-app_2_3.dtd`](http://java.sun.com/j2ee/dtds/web-app_2_3.dtd) is not a DTD file, but a text file with the following content:\r\n\r\n    The file named http://java.sun.com/j2ee/dtds/web-app_2_3.dtd\r\n    has been renamed to http://java.sun.com/dtd/web-app_2_3.dtd\r\n    in the most current version of the specification.\r\n    Please update your application to use the new name.\r\n\r\nSo the solution is to replace `http://java.sun.com/j2ee/dtds/web-app_2_3.dtd` with `http://java.sun.com/dtd/web-app_2_3.dtd`.","title":"What is the issue with this XML file, in Eclipse?","body":"<p>The referenced DTD file <a href=\"http://java.sun.com/j2ee/dtds/web-app_2_3.dtd\" rel=\"nofollow noreferrer\"><code>http://java.sun.com/j2ee/dtds/web-app_2_3.dtd</code></a> is not a DTD file, but a text file with the following content:</p>\n<pre><code>The file named http://java.sun.com/j2ee/dtds/web-app_2_3.dtd\nhas been renamed to http://java.sun.com/dtd/web-app_2_3.dtd\nin the most current version of the specification.\nPlease update your application to use the new name.\n</code></pre>\n<p>So the solution is to replace <code>http://java.sun.com/j2ee/dtds/web-app_2_3.dtd</code> with <code>http://java.sun.com/dtd/web-app_2_3.dtd</code>.</p>\n"}],"owner":{"account_id":19196031,"reputation":11,"user_id":14024697,"display_name":"EricChrisRoss"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":424,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1645770867,"creation_date":1645471325,"question_id":71211911,"body_markdown":"I don&#39;t know much about XML and I am fixing up some code for a Java based application in Eclipse. I&#39;m getting errors here:\r\n\r\n[![Error in code body][1]][1]\r\n\r\nText marked as an error: `&quot;http://java.sun.com/j2ee/dtds/web-app_2_3.dtd&quot;`\r\n\r\nI&#39;m also receiving these errors in the XML file:\r\n\r\n[![Other xml error descriptions][2]][2]\r\n\r\nI would include the entire body of code but it&#39;s for work so I&#39;m a bit wary of sharing much of anything. If anyone recognizes any glaring errors, I&#39;d appreciate it. I should add too, that I didn&#39;t write this XML file. This is just how it was already written when I received the code.\r\n\r\nAlso I&#39;m very new at posting to *stack*___overflow___ so if this post is just horrible I could take some pointers on that too (lol)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zeXdO.png\r\n  [2]: https://i.stack.imgur.com/rU52G.png","title":"What is the issue with this XML file, in Eclipse?","body":"<p>I don't know much about XML and I am fixing up some code for a Java based application in Eclipse. I'm getting errors here:</p>\n<p><a href=\"https://i.stack.imgur.com/zeXdO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zeXdO.png\" alt=\"Error in code body\" /></a></p>\n<p>Text marked as an error: <code>&quot;http://java.sun.com/j2ee/dtds/web-app_2_3.dtd&quot;</code></p>\n<p>I'm also receiving these errors in the XML file:</p>\n<p><a href=\"https://i.stack.imgur.com/rU52G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rU52G.png\" alt=\"Other xml error descriptions\" /></a></p>\n<p>I would include the entire body of code but it's for work so I'm a bit wary of sharing much of anything. If anyone recognizes any glaring errors, I'd appreciate it. I should add too, that I didn't write this XML file. This is just how it was already written when I received the code.</p>\n<p>Also I'm very new at posting to <em>stack</em><em><strong>overflow</strong></em> so if this post is just horrible I could take some pointers on that too (lol)</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1621916098,"post_id":67681563,"comment_id":119630629,"body_markdown":"It&#39;s not the Characteristics, they are the same for both your code blocks. You can verify that using `spliterator.characteristics()`. But yeah, the interest remains in the primary question to get an answer which completes the explanation to just _What_ but _Why_ and _How_. Both the existing answers don&#39;t really suffice in my opinion.","body":"It&#39;s not the Characteristics, they are the same for both your code blocks. You can verify that using <code>spliterator.characteristics()</code>. But yeah, the interest remains in the primary question to get an answer which completes the explanation to just <i>What</i> but <i>Why</i> and <i>How</i>. Both the existing answers don&#39;t really suffice in my opinion."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1621956204,"post_id":67681563,"comment_id":119647737,"body_markdown":"@Naman  let me know what you think of [this](https://stackoverflow.com/a/67690928/1059372)?","body":"@Naman  let me know what you think of <a href=\"https://stackoverflow.com/a/67690928/1059372\">this</a>?"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1621921814,"creation_date":1621916209,"answer_id":67681713,"question_id":67681563,"body_markdown":"How exactly this is done is very much an implementation detail. You will have to dig deep inside the source code to really see why. Basically, parallel and sequential pipelines are just handled differently. Look at the [`AbstractPipeline.evaluate`][1], which checks `isParallel()`, then does different things depending whether the pipeline is parallel.\r\n\r\n        return isParallel()\r\n               ? terminalOp.evaluateParallel(this, sourceSpliterator(terminalOp.getOpFlags()))\r\n               : terminalOp.evaluateSequential(this, sourceSpliterator(terminalOp.getOpFlags()));\r\n\r\nIf you then look at [`SortedOps.OfInt`](http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/stream/SortedOps.java#l166), you&#39;ll see that it overrides two methods:\r\n\r\n    @Override\r\n    public Sink&lt;Integer&gt; opWrapSink(int flags, Sink sink) {\r\n        Objects.requireNonNull(sink);\r\n\r\n        if (StreamOpFlag.SORTED.isKnown(flags))\r\n            return sink;\r\n        else if (StreamOpFlag.SIZED.isKnown(flags))\r\n            return new SizedIntSortingSink(sink);\r\n        else\r\n            return new IntSortingSink(sink);\r\n    }\r\n\r\n    @Override\r\n    public &lt;P_IN&gt; Node&lt;Integer&gt; opEvaluateParallel(PipelineHelper&lt;Integer&gt; helper,\r\n                                                   Spliterator&lt;P_IN&gt; spliterator,\r\n                                                   IntFunction&lt;Integer[]&gt; generator) {\r\n        if (StreamOpFlag.SORTED.isKnown(helper.getStreamAndOpFlags())) {\r\n            return helper.evaluate(spliterator, false, generator);\r\n        }\r\n        else {\r\n            Node.OfInt n = (Node.OfInt) helper.evaluate(spliterator, true, generator);\r\n\r\n            int[] content = n.asPrimitiveArray();\r\n            Arrays.parallelSort(content);\r\n\r\n            return Nodes.node(content);\r\n        }\r\n    }\r\n\r\n`opWrapSink` will be eventually called if it&#39;s a sequential pipeline, and `opEvaluateParallel` (as its name suggests) will be called when it&#39;s a parallel stream. Notice how `opWrapSink` doesn&#39;t do anything to the given sink if the pipeline is already sorted (just returns it unchanged), but `opEvaluateParallel` always evaluates the spliterator.\r\n\r\nAlso note that parallel-ness and sorted-ness are not mutually exclusive. You can have a stream with any combination of those characteristics.\r\n\r\n&quot;Sorted&quot; is a characteristic of a `Spliterator`. It&#39;s not technically a characteristic of a `Stream` (like &quot;parallel&quot; is). Sure, `parallel` could create a stream with an entirely new spliterator (that gets elements from the original spliterator) with entirely new characteristics, but why do that, when you can just reuse the same spliterator? Id imagine you&#39;ll have to handle parallel and sequential streams differently in any case.\r\n\r\n\r\n  [1]: http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/stream/AbstractPipeline.java#l226","title":"Doesn&#39;t Stream.parallel() update the characteristics of spliterator?","body":"<p>How exactly this is done is very much an implementation detail. You will have to dig deep inside the source code to really see why. Basically, parallel and sequential pipelines are just handled differently. Look at the <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/stream/AbstractPipeline.java#l226\" rel=\"noreferrer\"><code>AbstractPipeline.evaluate</code></a>, which checks <code>isParallel()</code>, then does different things depending whether the pipeline is parallel.</p>\n<pre><code>    return isParallel()\n           ? terminalOp.evaluateParallel(this, sourceSpliterator(terminalOp.getOpFlags()))\n           : terminalOp.evaluateSequential(this, sourceSpliterator(terminalOp.getOpFlags()));\n</code></pre>\n<p>If you then look at <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/stream/SortedOps.java#l166\" rel=\"noreferrer\"><code>SortedOps.OfInt</code></a>, you'll see that it overrides two methods:</p>\n<pre><code>@Override\npublic Sink&lt;Integer&gt; opWrapSink(int flags, Sink sink) {\n    Objects.requireNonNull(sink);\n\n    if (StreamOpFlag.SORTED.isKnown(flags))\n        return sink;\n    else if (StreamOpFlag.SIZED.isKnown(flags))\n        return new SizedIntSortingSink(sink);\n    else\n        return new IntSortingSink(sink);\n}\n\n@Override\npublic &lt;P_IN&gt; Node&lt;Integer&gt; opEvaluateParallel(PipelineHelper&lt;Integer&gt; helper,\n                                               Spliterator&lt;P_IN&gt; spliterator,\n                                               IntFunction&lt;Integer[]&gt; generator) {\n    if (StreamOpFlag.SORTED.isKnown(helper.getStreamAndOpFlags())) {\n        return helper.evaluate(spliterator, false, generator);\n    }\n    else {\n        Node.OfInt n = (Node.OfInt) helper.evaluate(spliterator, true, generator);\n\n        int[] content = n.asPrimitiveArray();\n        Arrays.parallelSort(content);\n\n        return Nodes.node(content);\n    }\n}\n</code></pre>\n<p><code>opWrapSink</code> will be eventually called if it's a sequential pipeline, and <code>opEvaluateParallel</code> (as its name suggests) will be called when it's a parallel stream. Notice how <code>opWrapSink</code> doesn't do anything to the given sink if the pipeline is already sorted (just returns it unchanged), but <code>opEvaluateParallel</code> always evaluates the spliterator.</p>\n<p>Also note that parallel-ness and sorted-ness are not mutually exclusive. You can have a stream with any combination of those characteristics.</p>\n<p>&quot;Sorted&quot; is a characteristic of a <code>Spliterator</code>. It's not technically a characteristic of a <code>Stream</code> (like &quot;parallel&quot; is). Sure, <code>parallel</code> could create a stream with an entirely new spliterator (that gets elements from the original spliterator) with entirely new characteristics, but why do that, when you can just reuse the same spliterator? Id imagine you'll have to handle parallel and sequential streams differently in any case.</p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1622275370,"creation_date":1621955904,"answer_id":67690928,"question_id":67681563,"body_markdown":"You need to take a step back and think of how you would solve such a problem _in general_, considering that `ForkJoinPool` is used for parallel streams and it works based on [work stealing](https://stackoverflow.com/questions/52717900/forkjoinpool-scheduling-vs-executorservice/52729788#52729788). It would be very helpful if you knew how a `Spliterator` works, too. Some details [here][1].\r\n\r\n\r\nYou have a certain Stream, you &quot;split it&quot; (very simplified) into smaller pieces and give all those pieces to a `ForkJoinPool` for execution. All of those pieces are worked on independently, by individual threads. Since we are talking about _threads_ here, there is obviously no sequence of events, things happen randomly (that is why you see a random order output).  \r\n\r\nIf your stream preserves the _order_, terminal operation is suppose to preserve it too. So while _intermediate_ operations are executed in _any_ order, your terminal operation (if the stream up to that point is ordered), will handle elements in an ordered fashion. To put it slightly simplified:\r\n\r\n\r\n    System.out.println(\r\n\t    IntStream.of(1,2,3)\r\n\t\t\t\t .parallel()\r\n\t\t\t\t .map(x -&gt; {System.out.println(x * 2); return x * 2;})\r\n\t\t\t\t .boxed()\r\n\t\t\t\t .collect(Collectors.toList()));\r\n\r\n`map` will process elements in an unknown order (`ForkJoinPool` and threads, remember that), but `collect` will receive elements _in order_, &quot;left to right&quot;.\r\n\r\n---\r\n\r\nNow, if we extrapolate that to your example: when you invoke `parallel`, the stream is split in small pieces and worked on. For example look how this is split (a single time).\r\n\r\n\r\n    Spliterator&lt;Integer&gt; spliterator =\r\n\tIntStream.of(5, 4, 3, 2, 1, 5, 6, 7, 8)\r\n\t\t     .parallel()\r\n\t\t\t .boxed()\r\n\t\t\t .sorted()\r\n\t\t\t .spliterator()\r\n\t\t\t .trySplit(); // trySplit is invoked internally on parallel\r\n\r\n    spliterator.forEachRemaining(System.out::println);\r\n\r\nOn my machine it prints `1,2,3,4`. This means that the internal implementation splits the stream in two `Spliterator`s: `left` and `right`. `left` has `[1, 2, 3, 4]` and right has `[5, 6, 7, 8]`. But that is not it, these `Spliterator`s can be split further. For example:\r\n\r\n \r\n    Spliterator&lt;Integer&gt; spliterator =\r\n\tIntStream.of(5, 4, 3, 2, 1, 5, 6, 7, 8)\r\n\t\t\t .parallel()\r\n\t\t\t .boxed()\r\n\t\t\t .sorted()\r\n\t\t\t .spliterator()\r\n\t\t\t .trySplit()\r\n\t\t\t .trySplit()\r\n\t\t\t .trySplit();\r\n\r\n    spliterator.forEachRemaining(System.out::println);\r\n\r\nif you try to invoke `trySplit` again, you will get a `null` - meaning, that&#39;s it, I can&#39;t split anymore. \r\n\r\nSo, your Stream : `IntStream.range(0, 4)` is going to be split in 4 spliterators. All worked on individually, by a thread. If your first thread knows that this `Spliterator` it currently works on, is the &quot;left-most one&quot;, that&#39;s it! The rest of the threads do not even need to start their work - the result is known. \r\n\r\nOn the other hand, it could be that this `Spliterator` that has the &quot;left-most&quot; element is only started last. So the first three ones, might already be done with their work (thus `peek` is invoked in your example), but they do not &quot;produce&quot; the needed result. \r\n\r\nAs a matter fact, this is how it is [done internally][2]. You do not need to understand the code - but the flow and the method names should be obvious. \r\n     \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/51453841/difference-between-iterator-and-spliterator-in-java8/51459530#51459530\r\n  [2]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/stream/FindOps.java#L310","title":"Doesn&#39;t Stream.parallel() update the characteristics of spliterator?","body":"<p>You need to take a step back and think of how you would solve such a problem <em>in general</em>, considering that <code>ForkJoinPool</code> is used for parallel streams and it works based on <a href=\"https://stackoverflow.com/questions/52717900/forkjoinpool-scheduling-vs-executorservice/52729788#52729788\">work stealing</a>. It would be very helpful if you knew how a <code>Spliterator</code> works, too. Some details <a href=\"https://stackoverflow.com/questions/51453841/difference-between-iterator-and-spliterator-in-java8/51459530#51459530\">here</a>.</p>\n<p>You have a certain Stream, you &quot;split it&quot; (very simplified) into smaller pieces and give all those pieces to a <code>ForkJoinPool</code> for execution. All of those pieces are worked on independently, by individual threads. Since we are talking about <em>threads</em> here, there is obviously no sequence of events, things happen randomly (that is why you see a random order output).</p>\n<p>If your stream preserves the <em>order</em>, terminal operation is suppose to preserve it too. So while <em>intermediate</em> operations are executed in <em>any</em> order, your terminal operation (if the stream up to that point is ordered), will handle elements in an ordered fashion. To put it slightly simplified:</p>\n<pre><code>System.out.println(\n    IntStream.of(1,2,3)\n             .parallel()\n             .map(x -&gt; {System.out.println(x * 2); return x * 2;})\n             .boxed()\n             .collect(Collectors.toList()));\n</code></pre>\n<p><code>map</code> will process elements in an unknown order (<code>ForkJoinPool</code> and threads, remember that), but <code>collect</code> will receive elements <em>in order</em>, &quot;left to right&quot;.</p>\n<hr />\n<p>Now, if we extrapolate that to your example: when you invoke <code>parallel</code>, the stream is split in small pieces and worked on. For example look how this is split (a single time).</p>\n<pre><code>Spliterator&lt;Integer&gt; spliterator =\nIntStream.of(5, 4, 3, 2, 1, 5, 6, 7, 8)\n         .parallel()\n         .boxed()\n         .sorted()\n         .spliterator()\n         .trySplit(); // trySplit is invoked internally on parallel\n\nspliterator.forEachRemaining(System.out::println);\n</code></pre>\n<p>On my machine it prints <code>1,2,3,4</code>. This means that the internal implementation splits the stream in two <code>Spliterator</code>s: <code>left</code> and <code>right</code>. <code>left</code> has <code>[1, 2, 3, 4]</code> and right has <code>[5, 6, 7, 8]</code>. But that is not it, these <code>Spliterator</code>s can be split further. For example:</p>\n<pre><code>Spliterator&lt;Integer&gt; spliterator =\nIntStream.of(5, 4, 3, 2, 1, 5, 6, 7, 8)\n         .parallel()\n         .boxed()\n         .sorted()\n         .spliterator()\n         .trySplit()\n         .trySplit()\n         .trySplit();\n\nspliterator.forEachRemaining(System.out::println);\n</code></pre>\n<p>if you try to invoke <code>trySplit</code> again, you will get a <code>null</code> - meaning, that's it, I can't split anymore.</p>\n<p>So, your Stream : <code>IntStream.range(0, 4)</code> is going to be split in 4 spliterators. All worked on individually, by a thread. If your first thread knows that this <code>Spliterator</code> it currently works on, is the &quot;left-most one&quot;, that's it! The rest of the threads do not even need to start their work - the result is known.</p>\n<p>On the other hand, it could be that this <code>Spliterator</code> that has the &quot;left-most&quot; element is only started last. So the first three ones, might already be done with their work (thus <code>peek</code> is invoked in your example), but they do not &quot;produce&quot; the needed result.</p>\n<p>As a matter fact, this is how it is <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/stream/FindOps.java#L310\" rel=\"nofollow noreferrer\">done internally</a>. You do not need to understand the code - but the flow and the method names should be obvious.</p>\n"}],"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":67681713,"answer_count":2,"score":6,"last_activity_date":1645770714,"creation_date":1621914797,"question_id":67681563,"body_markdown":"This question is based on the answers to this question https://stackoverflow.com/q/67669583/7804477\r\n\r\nSince the `IntStream.range` produces an already sorted stream, the output to the below code would only generate the output as `0`:\r\n\r\n```java\r\nIntStream.range(0, 4)\r\n         .peek(System.out::println)\r\n         .sorted()\r\n         .findFirst();\r\n```\r\n\r\nAlso the spliterator would have `SORTED` characteristics. Below code returns `true`:\r\n\r\n```java\r\nSystem.out.println(\r\n    IntStream.range(0, 4)\r\n             .spliterator()\r\n             .hasCharacteristics(Spliterator.SORTED)\r\n);\r\n```\r\n\r\nNow, If I introduce a `parallel()` in the first code, then as expected, the output would contain all 4 numbers from `0` to `3` but in a random order, because the stream is not sorted anymore due to `parallel()`.\r\n```java\r\nIntStream.range(0, 4)\r\n         .parallel()\r\n         .peek(System.out::println)\r\n         .sorted()\r\n         .findFirst();\r\n```\r\n\r\nThis would produce something like below: (in any random order)\r\n```\r\n2\r\n0\r\n1\r\n3\r\n```\r\n\r\nSo, I expect that the `SORTED` property has been removed due to `parallel()`. But, the below code returns `true` as well. \r\n```java\r\nSystem.out.println(\r\n    IntStream.range(0, 4)\r\n             .parallel()\r\n             .spliterator()\r\n             .hasCharacteristics(Spliterator.SORTED)\r\n);\r\n```\r\n\r\nWhy doesn&#39;t the `parallel()` change `SORTED` property? And since all four numbers are printed, **How does Java realize that the stream is not sorted even though the `SORTED` property still exists?**\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/67675564/7804477","title":"Doesn&#39;t Stream.parallel() update the characteristics of spliterator?","body":"<p>This question is based on the answers to this question <a href=\"https://stackoverflow.com/q/67669583/7804477\">What is the difference between Stream.of and IntStream.range?</a></p>\n<p>Since the <code>IntStream.range</code> produces an already sorted stream, the output to the below code would only generate the output as <code>0</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>IntStream.range(0, 4)\n         .peek(System.out::println)\n         .sorted()\n         .findFirst();\n</code></pre>\n<p>Also the spliterator would have <code>SORTED</code> characteristics. Below code returns <code>true</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(\n    IntStream.range(0, 4)\n             .spliterator()\n             .hasCharacteristics(Spliterator.SORTED)\n);\n</code></pre>\n<p>Now, If I introduce a <code>parallel()</code> in the first code, then as expected, the output would contain all 4 numbers from <code>0</code> to <code>3</code> but in a random order, because the stream is not sorted anymore due to <code>parallel()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>IntStream.range(0, 4)\n         .parallel()\n         .peek(System.out::println)\n         .sorted()\n         .findFirst();\n</code></pre>\n<p>This would produce something like below: (in any random order)</p>\n<pre><code>2\n0\n1\n3\n</code></pre>\n<p>So, I expect that the <code>SORTED</code> property has been removed due to <code>parallel()</code>. But, the below code returns <code>true</code> as well.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(\n    IntStream.range(0, 4)\n             .parallel()\n             .spliterator()\n             .hasCharacteristics(Spliterator.SORTED)\n);\n</code></pre>\n<p>Why doesn't the <code>parallel()</code> change <code>SORTED</code> property? And since all four numbers are printed, <strong>How does Java realize that the stream is not sorted even though the <code>SORTED</code> property still exists?</strong></p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"score":0,"creation_date":1518604102,"post_id":48784856,"comment_id":84571085,"body_markdown":"What did you get in browser","body":"What did you get in browser"},{"owner":{"account_id":11577219,"reputation":818,"user_id":8482133,"accept_rate":75,"display_name":"Kishor Velayutham"},"score":0,"creation_date":1518604193,"post_id":48784856,"comment_id":84571140,"body_markdown":"@user6690200 ,Whitelabel Error Page,no explicit mapping","body":"@user6690200 ,Whitelabel Error Page,no explicit mapping"},{"owner":{"account_id":10049980,"reputation":571,"user_id":7430105,"display_name":"Ramesh Fadatare"},"score":1,"creation_date":1518605725,"post_id":48784856,"comment_id":84572201,"body_markdown":"Which technologies you are using at front end like angular ,thymeleaf ?","body":"Which technologies you are using at front end like angular ,thymeleaf ?"},{"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"score":0,"creation_date":1518607190,"post_id":48784856,"comment_id":84573127,"body_markdown":"@KishorVelayutham open your `target` folder, check if there is `index.html` or not.","body":"@KishorVelayutham open your <code>target</code> folder, check if there is <code>index.html</code> or not."},{"owner":{"account_id":11577219,"reputation":818,"user_id":8482133,"accept_rate":75,"display_name":"Kishor Velayutham"},"score":0,"creation_date":1518607278,"post_id":48784856,"comment_id":84573196,"body_markdown":"@RameshFadatare,I&#39;m using Angular at front end","body":"@RameshFadatare,I&#39;m using Angular at front end"},{"owner":{"account_id":11577219,"reputation":818,"user_id":8482133,"accept_rate":75,"display_name":"Kishor Velayutham"},"score":0,"creation_date":1518607390,"post_id":48784856,"comment_id":84573266,"body_markdown":"@user6690200, target folder ? index.html is in resources/templates folder","body":"@user6690200, target folder ? index.html is in resources/templates folder"},{"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"score":0,"creation_date":1518607607,"post_id":48784856,"comment_id":84573402,"body_markdown":"It should be compiled to `target` folder by your IDE or maven at compile stage. At runtime, your application will seek `index.html` from `target` folder. So, it there it is, it means something wrong with your mapping configuration. If not, it means something wrong with your classpath.","body":"It should be compiled to <code>target</code> folder by your IDE or maven at compile stage. At runtime, your application will seek <code>index.html</code> from <code>target</code> folder. So, it there it is, it means something wrong with your mapping configuration. If not, it means something wrong with your classpath."},{"owner":{"account_id":10969049,"reputation":680,"user_id":8059935,"display_name":"RSingh"},"score":0,"creation_date":1518619230,"post_id":48784856,"comment_id":84581393,"body_markdown":"could you try if change the return statement to &quot;forward:index.html&quot; and try","body":"could you try if change the return statement to &quot;forward:index.html&quot; and try"},{"owner":{"account_id":11577219,"reputation":818,"user_id":8482133,"accept_rate":75,"display_name":"Kishor Velayutham"},"score":0,"creation_date":1518666109,"post_id":48784856,"comment_id":84602051,"body_markdown":"@RSingh, I will try and let you know.","body":"@RSingh, I will try and let you know."},{"owner":{"account_id":11577219,"reputation":818,"user_id":8482133,"accept_rate":75,"display_name":"Kishor Velayutham"},"score":0,"creation_date":1518666169,"post_id":48784856,"comment_id":84602069,"body_markdown":"Whomever, Let me know the reason for downvote? Don&#39;t downvote just like that. Tell the reason so that i can change. Be professional.","body":"Whomever, Let me know the reason for downvote? Don&#39;t downvote just like that. Tell the reason so that i can change. Be professional."},{"owner":{"account_id":11577219,"reputation":818,"user_id":8482133,"accept_rate":75,"display_name":"Kishor Velayutham"},"score":0,"creation_date":1518667637,"post_id":48784856,"comment_id":84602388,"body_markdown":"@RSingh, I tried using forward as well as redirect. Same error.","body":"@RSingh, I tried using forward as well as redirect. Same error."}],"answers":[{"tags":[],"owner":{"account_id":10104814,"reputation":162,"user_id":7467723,"display_name":"Vadym Dudnyk"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1518605475,"creation_date":1518605475,"answer_id":48785335,"question_id":48784856,"body_markdown":"I think you shouldn&#39;t return String. Try instead something like `ModelAndView`.","title":"Spring boot - Not rendering the landing(index.html) page?","body":"<p>I think you shouldn't return String. Try instead something like <code>ModelAndView</code>.</p>\n"},{"tags":[],"owner":{"account_id":6628166,"reputation":165,"user_id":5117671,"display_name":"Jack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598098030,"creation_date":1598098030,"answer_id":63536012,"question_id":48784856,"body_markdown":"Check for errors in the browser console. &#39;X-Frame-Options&#39; may be set to &#39;DENY&#39; that may block html page to load in the browser.\r\n\r\nThis https://stackoverflow.com/questions/28647136/how-to-disable-x-frame-options-response-header-in-spring-security may help.","title":"Spring boot - Not rendering the landing(index.html) page?","body":"<p>Check for errors in the browser console. 'X-Frame-Options' may be set to 'DENY' that may block html page to load in the browser.</p>\n<p>This <a href=\"https://stackoverflow.com/questions/28647136/how-to-disable-x-frame-options-response-header-in-spring-security\">How to disable &#39;X-Frame-Options&#39; response header in Spring Security?</a> may help.</p>\n"},{"tags":[],"owner":{"account_id":24278121,"reputation":1,"user_id":18225110,"display_name":"aza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645027932,"creation_date":1645027573,"answer_id":71145260,"question_id":48784856,"body_markdown":"Please check your project structure. Application, and other packages like model, controller etc. should be under the same package or on the same level. Also make sure there are no extra configuration on application.yml/properties file regarding &quot;spring.thymeleaf.prefix&quot;.\r\n\r\n[Project Structure][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GJt6Z.png","title":"Spring boot - Not rendering the landing(index.html) page?","body":"<p>Please check your project structure. Application, and other packages like model, controller etc. should be under the same package or on the same level. Also make sure there are no extra configuration on application.yml/properties file regarding &quot;spring.thymeleaf.prefix&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/GJt6Z.png\" rel=\"nofollow noreferrer\">Project Structure</a></p>\n"},{"tags":[],"owner":{"account_id":23926442,"reputation":68,"user_id":17921501,"display_name":"vikas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645770478,"creation_date":1645770478,"answer_id":71261904,"question_id":48784856,"body_markdown":"try using full name with extension like index.html","title":"Spring boot - Not rendering the landing(index.html) page?","body":"<p>try using full name with extension like index.html</p>\n"}],"owner":{"account_id":11577219,"reputation":818,"user_id":8482133,"accept_rate":75,"display_name":"Kishor Velayutham"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1270,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1645770478,"creation_date":1518603999,"question_id":48784856,"body_markdown":"**I&#39;ve tried the answers related to the question in stackoverflow**. It did not work out. \r\n\r\nHere is my project structure :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Axt7z.jpg\r\n\r\n\r\nController: To render the `index.html`\r\n\r\n    @Controller\r\n    public class MainController {\r\n    \r\n        @RequestMapping(value=&quot;/&quot;,method = RequestMethod.GET)\r\n        public String homepage(){\r\n        \tSystem.out.println(&quot;Inside controller..&quot;);\r\n            return &quot;index&quot;;\r\n        }\r\n    }\r\n\r\nWhen i&#39;m trying to hit the `URL`, it prints `Inside controller..` but not rendering the `index` page. Tried using `WebMvcConfigurerAdapter` as well. \r\n\r\nIn browser, it displays some error like **Whitelabel Error Page**\r\n\r\nAm I missing something out here? ","title":"Spring boot - Not rendering the landing(index.html) page?","body":"<p><strong>I've tried the answers related to the question in stackoverflow</strong>. It did not work out. </p>\n\n<p>Here is my project structure :</p>\n\n<p><a href=\"https://i.stack.imgur.com/Axt7z.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Axt7z.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Controller: To render the <code>index.html</code></p>\n\n<pre><code>@Controller\npublic class MainController {\n\n    @RequestMapping(value=\"/\",method = RequestMethod.GET)\n    public String homepage(){\n        System.out.println(\"Inside controller..\");\n        return \"index\";\n    }\n}\n</code></pre>\n\n<p>When i'm trying to hit the <code>URL</code>, it prints <code>Inside controller..</code> but not rendering the <code>index</code> page. Tried using <code>WebMvcConfigurerAdapter</code> as well. </p>\n\n<p>In browser, it displays some error like <strong>Whitelabel Error Page</strong></p>\n\n<p>Am I missing something out here? </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"score":0,"creation_date":1645770198,"post_id":71261346,"comment_id":125963751,"body_markdown":"can you please update your question and add all fields in the `Song` Class? Moreover, your request contains a field `songAlbumId` but your class it has `song_id` only, Are these different?","body":"can you please update your question and add all fields in the <code>Song</code> Class? Moreover, your request contains a field <code>songAlbumId</code> but your class it has <code>song_id</code> only, Are these different?"},{"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"score":0,"creation_date":1645867913,"post_id":71261346,"comment_id":125987553,"body_markdown":"yes. songAlbumId is a foreign key for the primary key albumId in the albums table","body":"yes. songAlbumId is a foreign key for the primary key albumId in the albums table"}],"answers":[{"tags":[],"owner":{"account_id":11639846,"reputation":189,"user_id":8524713,"display_name":"bhaskarkh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645770264,"creation_date":1645770264,"answer_id":71261867,"question_id":71261346,"body_markdown":"\r\nIf you use the strategy javax.persistence.GenerationType.IDENTITY for **@GeneratedValue** your table must have an identity generator. This can be done including an **AUTO_INCREMENT** to your primary key.\r\n\r\nalter primary key of existing table to make it Auto Incremented.\r\n\r\n    ALTER TABLE table_name \r\n    MODIFY column_name INT NOT NULL AUTO_INCREMENT PRIMARY KEY;","title":"@GeneratedValue annotation does not help when used in conjunction with @RequestBody","body":"<p>If you use the strategy javax.persistence.GenerationType.IDENTITY for <strong>@GeneratedValue</strong> your table must have an identity generator. This can be done including an <strong>AUTO_INCREMENT</strong> to your primary key.</p>\n<p>alter primary key of existing table to make it Auto Incremented.</p>\n<pre><code>ALTER TABLE table_name \nMODIFY column_name INT NOT NULL AUTO_INCREMENT PRIMARY KEY;\n</code></pre>\n"}],"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645770264,"creation_date":1645766122,"question_id":71261346,"body_markdown":"My Entity class (MRE):  \r\n```lang-java\r\n@Entity\r\n@Table(name = &quot;songs&quot;, schema = &quot;playmymusic&quot;)\r\npublic class Song {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;song_id&quot;)\r\n\tprivate Integer songId;\r\n\r\n    //Assume some more methods and a Getter and Setter for each\r\n}\r\n```\r\n\r\nMy RestController method:  \r\n```lang-java\r\n//POST: adds a new song to the repository\r\n@PostMapping(&quot;/add&quot;)\r\npublic void addSong(@RequestBody(required = true) Song song) throws DuplicateItemException {\r\n\tif(songs.existsById(song.getSongId())) {\r\n\t\tthrow new DuplicateItemException();\r\n\t}\r\n\tsongs.save(song);\r\n}\r\n```\r\n\r\n[My POSTMAN POST request][1]  \r\n\r\nText:\r\n```json\r\n{\r\n    &quot;songName&quot;: &quot;Song4&quot;,\r\n    &quot;songAlbumId&quot;: &quot;1&quot;,\r\n    &quot;songDuration&quot;: 300\r\n}\r\n```\r\n\r\nError: Id must not be null. What have I done wrong?\r\n\r\nPS: The error is [same][2] but the DBMS is different (MySQL) and I do not even have a custom generator in place this time\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HnPBX.png\r\n  [2]: https://stackoverflow.com/questions/71191728/generatedvalue-seemingly-does-not-auto-generate-when-the-entity-is-being-added","title":"@GeneratedValue annotation does not help when used in conjunction with @RequestBody","body":"<p>My Entity class (MRE):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;songs&quot;, schema = &quot;playmymusic&quot;)\npublic class Song {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;song_id&quot;)\n    private Integer songId;\n\n    //Assume some more methods and a Getter and Setter for each\n}\n</code></pre>\n<p>My RestController method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//POST: adds a new song to the repository\n@PostMapping(&quot;/add&quot;)\npublic void addSong(@RequestBody(required = true) Song song) throws DuplicateItemException {\n    if(songs.existsById(song.getSongId())) {\n        throw new DuplicateItemException();\n    }\n    songs.save(song);\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/HnPBX.png\" rel=\"nofollow noreferrer\">My POSTMAN POST request</a></p>\n<p>Text:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;songName&quot;: &quot;Song4&quot;,\n    &quot;songAlbumId&quot;: &quot;1&quot;,\n    &quot;songDuration&quot;: 300\n}\n</code></pre>\n<p>Error: Id must not be null. What have I done wrong?</p>\n<p>PS: The error is <a href=\"https://stackoverflow.com/questions/71191728/generatedvalue-seemingly-does-not-auto-generate-when-the-entity-is-being-added\">same</a> but the DBMS is different (MySQL) and I do not even have a custom generator in place this time</p>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":23926442,"reputation":68,"user_id":17921501,"display_name":"vikas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645770002,"creation_date":1645770002,"answer_id":71261829,"question_id":71144947,"body_markdown":"i too had a same problem i fixed by \r\ndeclaring name of the bean\r\n\r\n    @Bean(name= BeanIds.AUTHENTICATION_MANAGER)        \r\n    @Override\r\n        public AuthenticationManager authenticationManagerBean() throws Exception {        \r\n    return super.authenticationManagerBean();\r\n        }","title":"Implementing Token and Role Base Authentication Using Spring Boot + JWT+ mongoDB","body":"<p>i too had a same problem i fixed by\ndeclaring name of the bean</p>\n<pre><code>@Bean(name= BeanIds.AUTHENTICATION_MANAGER)        \n@Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {        \nreturn super.authenticationManagerBean();\n    }\n</code></pre>\n"}],"owner":{"account_id":21513019,"reputation":19,"user_id":15855423,"display_name":"Mal&#233;k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71261829,"answer_count":1,"score":-1,"last_activity_date":1645770002,"creation_date":1645026412,"question_id":71144947,"body_markdown":"Can any one suggest me another solution or how i can fixed this issue please.and thank&#39;s by advance\r\n\r\n\r\n**cotroller**\r\n``` package com.example.demo.controller;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.example.demo.entity.JwtRequest;\r\nimport com.example.demo.entity.JwtResponse;\r\nimport com.example.demo.service.JwtService;\r\n\r\n@RestController\r\n@CrossOrigin\r\npublic class JwtController {\r\n\r\n    @Autowired\r\n    private JwtService jwtService;\r\n\r\n    @PostMapping({&quot;/authenticate&quot;})\r\n    public JwtResponse createJwtToken(@RequestBody JwtRequest jwtRequest) throws Exception {\r\n        return jwtService.createJwtToken(jwtRequest);\r\n    }\r\n}\r\n ```\r\n**service** \r\n```\r\npackage com.example.demo.service;\r\n\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.example.demo.dao.UserDao;\r\nimport com.example.demo.Util.JwtUtil;\r\nimport com.example.demo.entity.User;\r\nimport com.example.demo.entity.JwtResponse;\r\nimport com.example.demo.entity.JwtRequest;\r\n\r\n\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.BadCredentialsException;\r\nimport org.springframework.security.authentication.DisabledException;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\n@Service\r\npublic class JwtService implements UserDetailsService {\r\n\r\n    @Autowired\r\n    private JwtUtil jwtUtil;\r\n\r\n    @Autowired\r\n    private UserDao userDao;\r\n    @Autowired\r\n    private AuthenticationManager authenticationManager;\r\n\r\n    public JwtResponse createJwtToken(JwtRequest jwtRequest) throws Exception {\r\n        String userName = jwtRequest.getName();\r\n        String userPassword = jwtRequest.getUser_code();\r\n        authenticate(userName, userPassword);\r\n\r\n        UserDetails userDetails = loadUserByUsername(userName);\r\n        String newGeneratedToken = jwtUtil.generateToken(userDetails);\r\n\r\n        User user = userDao.findById(userName).get();\r\n        return new JwtResponse(user, newGeneratedToken);\r\n    }\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        User user = userDao.findById(username).get();\r\n\r\n        if (user != null) {\r\n            return new org.springframework.security.core.userdetails.User(\r\n                    user.getName(),\r\n                    user.getUser_code(),\r\n                    getAuthority(user)\r\n            );\r\n        } else {\r\n            throw new UsernameNotFoundException(&quot;User not found with username: &quot; + username);\r\n        }\r\n    }\r\n\r\n    private Set getAuthority(User user) {\r\n        Set&lt;SimpleGrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\r\n        user.getRoles().forEach(role -&gt; {\r\n            authorities.add(new SimpleGrantedAuthority(&quot;ROLE_&quot; + role.getRoleName()));\r\n        });\r\n        return authorities;\r\n    }\r\n    \r\n    private void authenticate(String userName, String userPassword) throws Exception {\r\n        try {\r\n            authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(userName, userPassword));\r\n        } catch (DisabledException e) {\r\n            throw new Exception(&quot;USER_DISABLED&quot;);\r\n        } catch (BadCredentialsException e) {\r\n            throw new Exception(&quot;INVALID_CREDENTIALS&quot;);\r\n        }\r\n    }\r\n}\r\n ```\r\n**WebSecurityConfiguration**\r\n```\r\npackage configuration;\r\n\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.http.HttpHeaders;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\n\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\r\n\r\n    @Autowired\r\n    private JwtRequestFilter jwtRequestFilter;\r\n\r\n    @Autowired\r\n    private UserDetailsService jwtService;\r\n\r\n    @Bean\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity.cors();\r\n        httpSecurity.csrf().disable()\r\n                .authorizeRequests().antMatchers(&quot;/authenticate&quot;, &quot;/registerNewUser&quot;).permitAll()\r\n                .antMatchers(HttpHeaders.ALLOW).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint)\r\n                .and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n        ;\r\n\r\n        httpSecurity.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n        authenticationManagerBuilder.userDetailsService(jwtService).passwordEncoder(passwordEncoder());\r\n    }\r\n}\r\n```\r\n**error**\r\nDescription:\r\n\r\nField authenticationManager in com.example.demo.service.JwtService required a bean of type &#39;org.springframework.security.authentication.AuthenticationManager&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.springframework.security.authentication.AuthenticationManager&#39; in your configuration.\r\n","title":"Implementing Token and Role Base Authentication Using Spring Boot + JWT+ mongoDB","body":"<p>Can any one suggest me another solution or how i can fixed this issue please.and thank's by advance</p>\n<p><strong>cotroller</strong></p>\n<pre><code>\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.example.demo.entity.JwtRequest;\nimport com.example.demo.entity.JwtResponse;\nimport com.example.demo.service.JwtService;\n\n@RestController\n@CrossOrigin\npublic class JwtController {\n\n    @Autowired\n    private JwtService jwtService;\n\n    @PostMapping({&quot;/authenticate&quot;})\n    public JwtResponse createJwtToken(@RequestBody JwtRequest jwtRequest) throws Exception {\n        return jwtService.createJwtToken(jwtRequest);\n    }\n}\n</code></pre>\n<p><strong>service</strong></p>\n<pre><code>package com.example.demo.service;\n\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\n\nimport com.example.demo.dao.UserDao;\nimport com.example.demo.Util.JwtUtil;\nimport com.example.demo.entity.User;\nimport com.example.demo.entity.JwtResponse;\nimport com.example.demo.entity.JwtRequest;\n\n\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.BadCredentialsException;\nimport org.springframework.security.authentication.DisabledException;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\n@Service\npublic class JwtService implements UserDetailsService {\n\n    @Autowired\n    private JwtUtil jwtUtil;\n\n    @Autowired\n    private UserDao userDao;\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    public JwtResponse createJwtToken(JwtRequest jwtRequest) throws Exception {\n        String userName = jwtRequest.getName();\n        String userPassword = jwtRequest.getUser_code();\n        authenticate(userName, userPassword);\n\n        UserDetails userDetails = loadUserByUsername(userName);\n        String newGeneratedToken = jwtUtil.generateToken(userDetails);\n\n        User user = userDao.findById(userName).get();\n        return new JwtResponse(user, newGeneratedToken);\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        User user = userDao.findById(username).get();\n\n        if (user != null) {\n            return new org.springframework.security.core.userdetails.User(\n                    user.getName(),\n                    user.getUser_code(),\n                    getAuthority(user)\n            );\n        } else {\n            throw new UsernameNotFoundException(&quot;User not found with username: &quot; + username);\n        }\n    }\n\n    private Set getAuthority(User user) {\n        Set&lt;SimpleGrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\n        user.getRoles().forEach(role -&gt; {\n            authorities.add(new SimpleGrantedAuthority(&quot;ROLE_&quot; + role.getRoleName()));\n        });\n        return authorities;\n    }\n    \n    private void authenticate(String userName, String userPassword) throws Exception {\n        try {\n            authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(userName, userPassword));\n        } catch (DisabledException e) {\n            throw new Exception(&quot;USER_DISABLED&quot;);\n        } catch (BadCredentialsException e) {\n            throw new Exception(&quot;INVALID_CREDENTIALS&quot;);\n        }\n    }\n}\n</code></pre>\n<p><strong>WebSecurityConfiguration</strong></p>\n<pre><code>package configuration;\n\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\n\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\n\n    @Autowired\n    private JwtRequestFilter jwtRequestFilter;\n\n    @Autowired\n    private UserDetailsService jwtService;\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.cors();\n        httpSecurity.csrf().disable()\n                .authorizeRequests().antMatchers(&quot;/authenticate&quot;, &quot;/registerNewUser&quot;).permitAll()\n                .antMatchers(HttpHeaders.ALLOW).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint)\n                .and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        ;\n\n        httpSecurity.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n        authenticationManagerBuilder.userDetailsService(jwtService).passwordEncoder(passwordEncoder());\n    }\n}\n</code></pre>\n<p><strong>error</strong>\nDescription:</p>\n<p>Field authenticationManager in com.example.demo.service.JwtService required a bean of type 'org.springframework.security.authentication.AuthenticationManager' that could not be found.</p>\n<p>The injection point has the following annotations:\n- @org.springframework.beans.factory.annotation.Autowired(required=true)</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'org.springframework.security.authentication.AuthenticationManager' in your configuration.</p>\n"},{"tags":["java","json","jersey","swagger","swagger-ui"],"answers":[{"tags":[],"owner":{"account_id":2655485,"reputation":430,"user_id":2296285,"accept_rate":67,"display_name":"Gowthami Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645769703,"creation_date":1645769703,"answer_id":71261793,"question_id":71168991,"body_markdown":"Just removed,\r\nio.swagger.jaxrs.listing \r\n\r\nfrom web.xml file","title":"Restricting Swagger Files which are exposed to internet","body":"<p>Just removed,\nio.swagger.jaxrs.listing</p>\n<p>from web.xml file</p>\n"}],"owner":{"account_id":2655485,"reputation":430,"user_id":2296285,"accept_rate":67,"display_name":"Gowthami Reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71261793,"answer_count":1,"score":0,"last_activity_date":1645769703,"creation_date":1645163897,"question_id":71168991,"body_markdown":"I am using swagger-jersey2-jaxrs of version 1.5.0. I am trying to disable the public access of swagger using the following url,\r\n\r\n    &lt;domain&gt;/swagger.json\r\n\r\nTried many possible solutions found from Google but no luck.\r\n\r\nThese are static implementation where there is no explicit swagger configuration or the properties configured. \r\n\r\nAnyone else faced similar issue with legacy way of implementation?","title":"Restricting Swagger Files which are exposed to internet","body":"<p>I am using swagger-jersey2-jaxrs of version 1.5.0. I am trying to disable the public access of swagger using the following url,</p>\n<pre><code>&lt;domain&gt;/swagger.json\n</code></pre>\n<p>Tried many possible solutions found from Google but no luck.</p>\n<p>These are static implementation where there is no explicit swagger configuration or the properties configured.</p>\n<p>Anyone else faced similar issue with legacy way of implementation?</p>\n"},{"tags":["java","spring","spring-boot","aop","spring-aop"],"comments":[{"owner":{"account_id":5916763,"reputation":3250,"user_id":4655324,"accept_rate":79,"display_name":"Mevl&#252;t&#214;zdemir"},"score":0,"creation_date":1645527002,"post_id":71219717,"comment_id":125889078,"body_markdown":"So you want your Advice to be executed/triggered after a constraint validation occurs ?","body":"So you want your Advice to be executed/triggered after a constraint validation occurs ?"},{"owner":{"account_id":6383452,"reputation":83,"user_id":4952070,"display_name":"Barani"},"score":0,"creation_date":1645527593,"post_id":71219717,"comment_id":125889317,"body_markdown":"Yes, that is correct.","body":"Yes, that is correct."},{"owner":{"account_id":6383452,"reputation":83,"user_id":4952070,"display_name":"Barani"},"score":0,"creation_date":1645527970,"post_id":71219717,"comment_id":125889492,"body_markdown":"When the request reaches the controller method, the validations for the method parameters have to happen first. such that the constraint violation exception is thrown in the response, if there are any violations, before going to the aspect logic.","body":"When the request reaches the controller method, the validations for the method parameters have to happen first. such that the constraint violation exception is thrown in the response, if there are any violations, before going to the aspect logic."},{"owner":{"account_id":5916763,"reputation":3250,"user_id":4655324,"accept_rate":79,"display_name":"Mevl&#252;t&#214;zdemir"},"score":0,"creation_date":1645528860,"post_id":71219717,"comment_id":125889851,"body_markdown":"Is @AfterThrowing advice is not what you&#39;re searching for?","body":"Is @AfterThrowing advice is not what you&#39;re searching for?"},{"owner":{"account_id":6383452,"reputation":83,"user_id":4952070,"display_name":"Barani"},"score":0,"creation_date":1645529486,"post_id":71219717,"comment_id":125890116,"body_markdown":"I suspect then, the advice will not execute if there were no constraint violations, in which case there will be no constraint violation exception. Also, I need around advice to modify the arguments for the controller method. It is very tricky. I&#39;m not sure why validation doesn&#39;t occur first.","body":"I suspect then, the advice will not execute if there were no constraint violations, in which case there will be no constraint violation exception. Also, I need around advice to modify the arguments for the controller method. It is very tricky. I&#39;m not sure why validation doesn&#39;t occur first."},{"owner":{"account_id":5916763,"reputation":3250,"user_id":4655324,"accept_rate":79,"display_name":"Mevl&#252;t&#214;zdemir"},"score":0,"creation_date":1645529662,"post_id":71219717,"comment_id":125890179,"body_markdown":"What do you really want to achieve? Are you forced to make use of Advices? Because it&#39;s seems like it&#39;s overkill.","body":"What do you really want to achieve? Are you forced to make use of Advices? Because it&#39;s seems like it&#39;s overkill."},{"owner":{"account_id":6383452,"reputation":83,"user_id":4952070,"display_name":"Barani"},"score":0,"creation_date":1645529979,"post_id":71219717,"comment_id":125890273,"body_markdown":"I want to intercept the id (path variable in the GET method) from the HTTP request and check authorization for it, before the GET method logic executes.  I could probably use Spring boot&#39;s HandlerInterceptor, but I feel I will run into the same problem again. I&#39;m not forced to use aspects, but in this case, I think it doesn&#39;t matter if I use interceptors or aspects.","body":"I want to intercept the id (path variable in the GET method) from the HTTP request and check authorization for it, before the GET method logic executes.  I could probably use Spring boot&#39;s HandlerInterceptor, but I feel I will run into the same problem again. I&#39;m not forced to use aspects, but in this case, I think it doesn&#39;t matter if I use interceptors or aspects."},{"owner":{"account_id":5916763,"reputation":3250,"user_id":4655324,"accept_rate":79,"display_name":"Mevl&#252;t&#214;zdemir"},"score":0,"creation_date":1645530147,"post_id":71219717,"comment_id":125890320,"body_markdown":"You could try to build your own custom validation annotation, then you could apply that annotation like `@Pattern(..)`. For more info see: https://www.baeldung.com/spring-mvc-custom-validator","body":"You could try to build your own custom validation annotation, then you could apply that annotation like <code>@Pattern(..)</code>. For more info see: <a href=\"https://www.baeldung.com/spring-mvc-custom-validator\" rel=\"nofollow noreferrer\">baeldung.com/spring-mvc-custom-validator</a>"},{"owner":{"account_id":6383452,"reputation":83,"user_id":4952070,"display_name":"Barani"},"score":0,"creation_date":1645530500,"post_id":71219717,"comment_id":125890461,"body_markdown":"You are right, but the validation annotations I need like @Pattern, is already available out of the box.","body":"You are right, but the validation annotations I need like @Pattern, is already available out of the box."},{"owner":{"account_id":5916763,"reputation":3250,"user_id":4655324,"accept_rate":79,"display_name":"Mevl&#252;t&#214;zdemir"},"score":0,"creation_date":1645531598,"post_id":71219717,"comment_id":125890835,"body_markdown":"Yes but you create one for yourselves and combine them like `@Pattern @MyValidatior String id`","body":"Yes but you create one for yourselves and combine them like <code>@Pattern @MyValidatior String id</code>"},{"owner":{"account_id":6383452,"reputation":83,"user_id":4952070,"display_name":"Barani"},"score":0,"creation_date":1645532090,"post_id":71219717,"comment_id":125891024,"body_markdown":"You are saying, then the validation will happen first before the advice execution? With custom validation annotations?","body":"You are saying, then the validation will happen first before the advice execution? With custom validation annotations?"},{"owner":{"account_id":5916763,"reputation":3250,"user_id":4655324,"accept_rate":79,"display_name":"Mevl&#252;t&#214;zdemir"},"score":0,"creation_date":1645532628,"post_id":71219717,"comment_id":125891226,"body_markdown":"No no, I say don&#39;t use advices, but create your own annotation to do what you want to do with you aspect.","body":"No no, I say don&#39;t use advices, but create your own annotation to do what you want to do with you aspect."},{"owner":{"account_id":6383452,"reputation":83,"user_id":4952070,"display_name":"Barani"},"score":0,"creation_date":1645534049,"post_id":71219717,"comment_id":125891789,"body_markdown":"That&#39;s great advice. But I&#39;m making use of the HttpServletRequest httpRequest from the controller in the advice. In the annotation, I could probably replace it with: \n\nHttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest();\n\nWill it be thread safe, then?","body":"That&#39;s great advice. But I&#39;m making use of the HttpServletRequest httpRequest from the controller in the advice. In the annotation, I could probably replace it with:   HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest();  Will it be thread safe, then?"},{"owner":{"account_id":6383452,"reputation":83,"user_id":4952070,"display_name":"Barani"},"score":0,"creation_date":1645535310,"post_id":71219717,"comment_id":125892361,"body_markdown":"Also edited the question to show correctly, why I need to use advice. So a solution to the original problem is absolutely needed :(","body":"Also edited the question to show correctly, why I need to use advice. So a solution to the original problem is absolutely needed :("},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1645536033,"post_id":71219717,"comment_id":125892687,"body_markdown":"I think HTTP filter is the thing to use here, not aspect-oriented programming.  Filters have been around longer.  They&#39;re intended for use with HTTP.","body":"I think HTTP filter is the thing to use here, not aspect-oriented programming.  Filters have been around longer.  They&#39;re intended for use with HTTP."},{"owner":{"account_id":6383452,"reputation":83,"user_id":4952070,"display_name":"Barani"},"score":0,"creation_date":1645553041,"post_id":71219717,"comment_id":125900292,"body_markdown":"You are right. I should use Filter.","body":"You are right. I should use Filter."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1646183504,"post_id":71219717,"comment_id":126059150,"body_markdown":"@Barani, I wrote an extensive answer 5 days ago. I think it would be polite to react to it - much appreciated.","body":"@Barani, I wrote an extensive answer 5 days ago. I think it would be polite to react to it - much appreciated."},{"owner":{"account_id":6383452,"reputation":83,"user_id":4952070,"display_name":"Barani"},"score":0,"creation_date":1646301616,"post_id":71219717,"comment_id":126091271,"body_markdown":"@kriegaex, I apologise. I had the upvoted the answer.","body":"@kriegaex, I apologise. I had the upvoted the answer."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645769660,"creation_date":1645763359,"answer_id":71261070,"question_id":71219717,"body_markdown":"### Preface\r\n\r\nI am not a Spring user, so I cannot tell you\r\n  * if there is any way to influence the order of advisor application for any advised bean in a generic, non-invasive way,\r\n  * where exactly Spring creates the list of advisors associated with an advised bean while wiring the application.\r\n\r\nWhat I did find out, however, is that once the list of advisors for an advised bean has been set, it is simply applied in the order of elements in the list. You can influence aspect precedence via `@Order` or implementing `@Ordered`, but I have no idea if that approach can somehow be applied to method validation advisors.\r\n\r\n### Proof of concept, version 1\r\n\r\nBecause I was curious, I created a proof-of-concept, hacky workaround. Here is my [MCVE](https://stackoverflow.com/help/mcve) replicating your original situation:\r\n\r\n**Service, controller and helper classes:**\r\n\r\n```java\r\npackage de.scrum_master.spring.q71219717;\r\n\r\npublic class SomeClass {\r\n  private final String suffix;\r\n\r\n  public SomeClass(String suffix) {\r\n    this.suffix = suffix;\r\n  }\r\n\r\n  public String getSuffix() {\r\n    return suffix;\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.spring.q71219717;\r\n\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class MyService {\r\n  public String getIDInformation(long id, SomeClass someObject) {\r\n    return id + &quot;-&quot; + someObject.getSuffix();\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.spring.q71219717;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.validation.annotation.Validated;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.validation.constraints.Pattern;\r\nimport javax.validation.constraints.Size;\r\n\r\n@RestController\r\n@Validated\r\npublic class MyRestController {\r\n  @Autowired\r\n  MyService service;\r\n\r\n  @GetMapping(&quot;/v1/{id}&quot;)\r\n  public Object getIDInformation(\r\n    @PathVariable(&quot;id&quot;)\r\n    @Pattern(regexp = &quot;^[0-9]*$&quot;, message = &quot;Non-numeric ID ${validatedValue}&quot;)\r\n    @Size(min = 9, max = 10, message = &quot;ID ${validatedValue} must be {min}-{max} numbers long&quot;)\r\n      String id,\r\n    HttpServletRequest httpRequest,\r\n    SomeClass someObject\r\n  )\r\n  {\r\n    return service.getIDInformation(Long.parseLong(id), someObject);\r\n  }\r\n}\r\n```\r\n\r\n**Aspect:**\r\n\r\nMy dummy for the missing `valid(String id)` method in your example simply returns `true` if the ID contains a `&#39;0&#39;` character.\r\n\r\n```java\r\npackage de.scrum_master.spring.q71219717;\r\n\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.springframework.core.Ordered;\r\nimport org.springframework.core.annotation.Order;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\n\r\n@Aspect\r\n@Component\r\npublic class MyRestControllerAspect {\r\n  @Around(\r\n    &quot;execution(* de.scrum_master.spring.q71219717.MyRestController.getIDInformation(..)) &amp;&amp; &quot; +\r\n    &quot;args(id, httpRequest, ..)&quot;\r\n  )\r\n  public Object aspectMethod(ProceedingJoinPoint pjp, String id, HttpServletRequest httpRequest)\r\n    throws Throwable\r\n  {\r\n    System.out.println(pjp + &quot; -&gt; &quot; + id);\r\n    SomeClass changedValue = new SomeClass(&quot;ASPECT&quot;);\r\n    SomeClass someObject = changedValue;\r\n    Object[] targetMethodArgs = pjp.getArgs();\r\n\r\n    if (!valid(id)) {\r\n      throw new IllegalArgumentException(&quot;invalid ID &quot; + id);\r\n    }\r\n    else {\r\n      // Make use of HttpServletRequest httpRequest (not shown here) to modify\r\n      // SomeClass someObject argument in the target method\r\n      for (int i = 0; i &lt; targetMethodArgs.length; i++) {\r\n        if (targetMethodArgs[i] instanceof SomeClass) {\r\n          targetMethodArgs[i] = someObject;\r\n        }\r\n      }\r\n    }\r\n\r\n    return pjp.proceed(targetMethodArgs);\r\n  }\r\n\r\n  private boolean valid(String id) {\r\n    return id.contains(&quot;0&quot;);\r\n  }\r\n}\r\n```\r\n\r\n**Driver application:**\r\n\r\n```java\r\npackage de.scrum_master.spring.q71219717;\r\n\r\nimport org.springframework.aop.framework.Advised;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.ConfigurableApplicationContext;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.validation.beanvalidation.MethodValidationInterceptor;\r\n\r\nimport java.util.Arrays;\r\n\r\n@SpringBootApplication\r\n@Configuration\r\npublic class DemoApplication {\r\n  public static void main(String[] args) throws Throwable {\r\n    try (ConfigurableApplicationContext appContext = SpringApplication.run(DemoApplication.class, args)) {\r\n      doStuff(appContext);\r\n    }\r\n  }\r\n\r\n  private static void doStuff(ConfigurableApplicationContext appContext) {\r\n    MyRestController restController = appContext.getBean(MyRestController.class);\r\n    //reorderAdvisorsMethodValidationFirst(restController);\r\n\r\n    printIDInfo(restController, &quot;1234567890&quot;, &quot;Valid @Pattern, valid @Size, valid for aspect (contains &#39;0&#39;)&quot;);\r\n    printIDInfo(restController, &quot;123456789&quot;, &quot;Valid @Pattern, valid @Size, invalid for aspect (does not contain &#39;0&#39;)&quot;);\r\n    printIDInfo(restController, &quot;123&quot;, &quot;Valid @Pattern, invalid @Size, invalid for aspect (does not contain &#39;0&#39;)&quot;);\r\n    printIDInfo(restController, &quot;250&quot;, &quot;Valid @Pattern, invalid @Size, valid for aspect (contains &#39;0&#39;)&quot;);\r\n    printIDInfo(restController, &quot;x&quot;, &quot;Invalid @Pattern, invalid @Size, invalid for aspect (does not contain &#39;0&#39;)&quot;);\r\n    printIDInfo(restController, &quot;A0&quot;, &quot;Invalid @Pattern, invalid @Size, valid for aspect (contains &#39;0&#39;)&quot;);\r\n  }\r\n\r\n  private static void printIDInfo(MyRestController restController, String id, String infoMessage) {\r\n    try {\r\n      System.out.println(infoMessage);\r\n      System.out.println(&quot;ID info: &quot; + restController.getIDInformation(id, null, new SomeClass(&quot;ABC&quot;)));\r\n    }\r\n    catch (Exception e) {\r\n      System.out.println(e);\r\n    }\r\n    System.out.println(&quot;----------&quot;);\r\n  }\r\n\r\n  public static void reorderAdvisorsMethodValidationFirst(Object targetBean) {\r\n    if (!(targetBean instanceof Advised))\r\n      return;\r\n    Advised advisedBean = (Advised) targetBean;\r\n    Arrays.stream(advisedBean.getAdvisors())\r\n      .filter(advisor -&gt; !(advisor.getAdvice() instanceof MethodValidationInterceptor))\r\n      .forEach(advisor -&gt; {\r\n        advisedBean.removeAdvisor(advisor);\r\n        advisedBean.addAdvisor(advisor);\r\n      });\r\n  }\r\n}\r\n```\r\n\r\nPlease note the one helper method call I commented out. When running the application like this, the console log says:\r\n\r\n```none\r\nValid @Pattern, valid @Size, valid for aspect (contains &#39;0&#39;)\r\nexecution(Object de.scrum_master.spring.q71219717.MyRestController.getIDInformation(String,HttpServletRequest,SomeClass)) -&gt; 1234567890\r\nID info: 1234567890-ASPECT\r\n----------\r\nValid @Pattern, valid @Size, invalid for aspect (does not contain &#39;0&#39;)\r\nexecution(Object de.scrum_master.spring.q71219717.MyRestController.getIDInformation(String,HttpServletRequest,SomeClass)) -&gt; 123456789\r\njava.lang.IllegalArgumentException: invalid ID 123456789\r\n----------\r\nValid @Pattern, invalid @Size, invalid for aspect (does not contain &#39;0&#39;)\r\nexecution(Object de.scrum_master.spring.q71219717.MyRestController.getIDInformation(String,HttpServletRequest,SomeClass)) -&gt; 123\r\njava.lang.IllegalArgumentException: invalid ID 123\r\n----------\r\nValid @Pattern, invalid @Size, valid for aspect (contains &#39;0&#39;)\r\nexecution(Object de.scrum_master.spring.q71219717.MyRestController.getIDInformation(String,HttpServletRequest,SomeClass)) -&gt; 250\r\njavax.validation.ConstraintViolationException: getIDInformation.id: ID 250 must be 9-10 numbers long\r\n----------\r\nInvalid @Pattern, invalid @Size, invalid for aspect (does not contain &#39;0&#39;)\r\nexecution(Object de.scrum_master.spring.q71219717.MyRestController.getIDInformation(String,HttpServletRequest,SomeClass)) -&gt; x\r\njava.lang.IllegalArgumentException: invalid ID x\r\n----------\r\nInvalid @Pattern, invalid @Size, valid for aspect (contains &#39;0&#39;)\r\nexecution(Object de.scrum_master.spring.q71219717.MyRestController.getIDInformation(String,HttpServletRequest,SomeClass)) -&gt; A0\r\njavax.validation.ConstraintViolationException: getIDInformation.id: Non-numeric ID A0, getIDInformation.id: ID A0 must be 9-10 numbers long\r\n```\r\n\r\nAs you can see from the logged `execution` joinpoints and ensuing `IllegalArgumentException`s, the aspect kicks in before method argument validation, just as you described.\r\n\r\nNow, let us uncomment (i.e. activate)\r\n\r\n```java\r\nreorderAdvisorsMethodValidationFirst(restController);\r\n```\r\n\r\nWhat the method does, is\r\n  * to check if the target object is an advised Spring bean,\r\n  * if so, reorder the list of advisors by simply\r\n    * temporarily removing each advisor which does not have a `MethodValidationInterceptor` advice\r\n    * and then immediately appending it to the end of the list again.\r\n\r\nThe effect is that now the method validation interceptors take precedence over other advice types for the target bean. The console log consequently changes to:\r\n\r\n```none\r\nValid @Pattern, valid @Size, valid for aspect (contains &#39;0&#39;)\r\nexecution(Object de.scrum_master.spring.q71219717.MyRestController.getIDInformation(String,HttpServletRequest,SomeClass)) -&gt; 1234567890\r\nID info: 1234567890-ASPECT\r\n----------\r\nValid @Pattern, valid @Size, invalid for aspect (does not contain &#39;0&#39;)\r\nexecution(Object de.scrum_master.spring.q71219717.MyRestController.getIDInformation(String,HttpServletRequest,SomeClass)) -&gt; 123456789\r\njava.lang.IllegalArgumentException: invalid ID 123456789\r\n----------\r\nValid @Pattern, invalid @Size, invalid for aspect (does not contain &#39;0&#39;)\r\njavax.validation.ConstraintViolationException: getIDInformation.id: ID 123 must be 9-10 numbers long\r\n----------\r\nValid @Pattern, invalid @Size, valid for aspect (contains &#39;0&#39;)\r\njavax.validation.ConstraintViolationException: getIDInformation.id: ID 250 must be 9-10 numbers long\r\n----------\r\nInvalid @Pattern, invalid @Size, invalid for aspect (does not contain &#39;0&#39;)\r\njavax.validation.ConstraintViolationException: getIDInformation.id: Non-numeric ID x, getIDInformation.id: ID x must be 9-10 numbers long\r\n----------\r\nInvalid @Pattern, invalid @Size, valid for aspect (contains &#39;0&#39;)\r\njavax.validation.ConstraintViolationException: getIDInformation.id: ID A0 must be 9-10 numbers long, getIDInformation.id: Non-numeric ID A0\r\n```\r\n\r\nSee? Now the aspect only kicks in in the first two cases, after method parameter validation has been passed successfully.\r\n\r\nSome Spring AOP internals:\r\n  * Method `CglibAopProxy.DynamicAdvisedInterceptor.intercept` calls `this.advised.getInterceptorsAndDynamicInterceptionAdvice(method, targetClass)`.\r\n  * `this.advised` is of type `AdvisedSupport`, which is a public type, but unfortunately `CglibAopProxy.DynamicAdvisedInterceptor` is a private static inner class of `CglibAopProxy` and only used internally.\r\n  *  So there is no good way to get hold of the `AdvisedSupport` instance and e.g. call its `setAdvisorChainFactory` method. If that was possible, you could just inject a factory returning a list of advisors in an order different from the default one (a `DefaultAdvisorChainFactory`).\r\n\r\nMaybe some Spring pros here know of a canonical way to influence the internal advisor chain order by configuring Spring in order to wire the application the way you want it to, but I really do not know. I am just an AOP (mostly AspectJ) expert who sometimes looks into more specific Spring AOP questions.\r\n\r\n### Proof of concept, version 2\r\n\r\nOK, I refactored the original solution into something more generic, using a `BeanPostProcessor`. The post-processor will\r\n  * be called automatically for each Spring instantiated bean,\r\n  * check if the created bean is `Advised` (i.e. is a Spring proxy with advisors),\r\n  * filter for advised bean classes with `@Validated` annotations,\r\n  * re-order the advisors like in my original solution.\r\n\r\nThe advantage is that there is no more need to manually fetch bean instances from the application context and call `reorderAdvisorsMethodValidationFirst(..)` on them one by one. Spring takes care of post-processing each bean, which is how it is supposed to be. Sorry for coming up with this solution only in iteration #2, but like I said, I am a Spring noob.\r\n\r\n**Updated, simplified driver application:**\r\n\r\n```java\r\npackage de.scrum_master.spring.q71219717;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.ConfigurableApplicationContext;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@SpringBootApplication\r\n@Configuration\r\npublic class DemoApplication {\r\n  private static MyRestController restController;\r\n\r\n  public static void main(String[] args) throws Throwable {\r\n    try (ConfigurableApplicationContext appContext = SpringApplication.run(DemoApplication.class, args)) {\r\n      doStuff(appContext);\r\n    }\r\n  }\r\n\r\n  private static void doStuff(ConfigurableApplicationContext appContext) {\r\n    restController = appContext.getBean(MyRestController.class);\r\n    printIDInfo(&quot;1234567890&quot;, &quot;Valid @Pattern, valid @Size, valid for aspect (contains &#39;0&#39;)&quot;);\r\n    printIDInfo(&quot;123456789&quot;, &quot;Valid @Pattern, valid @Size, invalid for aspect (does not contain &#39;0&#39;)&quot;);\r\n    printIDInfo(&quot;123&quot;, &quot;Valid @Pattern, invalid @Size, invalid for aspect (does not contain &#39;0&#39;)&quot;);\r\n    printIDInfo(&quot;250&quot;, &quot;Valid @Pattern, invalid @Size, valid for aspect (contains &#39;0&#39;)&quot;);\r\n    printIDInfo(&quot;x&quot;, &quot;Invalid @Pattern, invalid @Size, invalid for aspect (does not contain &#39;0&#39;)&quot;);\r\n    printIDInfo(&quot;A0&quot;, &quot;Invalid @Pattern, invalid @Size, valid for aspect (contains &#39;0&#39;)&quot;);\r\n  }\r\n\r\n  private static void printIDInfo(String id, String infoMessage) {\r\n    try {\r\n      System.out.println(infoMessage);\r\n      System.out.println(&quot;ID info: &quot; + restController.getIDInformation(id, null, new SomeClass(&quot;ABC&quot;)));\r\n    }\r\n    catch (Exception e) {\r\n      System.out.println(e);\r\n    }\r\n    System.out.println(&quot;----------&quot;);\r\n  }\r\n\r\n}\r\n```\r\n\r\n**Bean post-processor:**\r\n\r\n```java\r\npackage de.scrum_master.spring.q71219717;\r\n\r\nimport org.springframework.aop.framework.Advised;\r\nimport org.springframework.beans.BeansException;\r\nimport org.springframework.beans.factory.config.BeanPostProcessor;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.validation.annotation.Validated;\r\nimport org.springframework.validation.beanvalidation.MethodValidationInterceptor;\r\n\r\nimport java.util.Arrays;\r\n\r\n@Component\r\npublic class MethodValidationFirstBeanPostProcessor implements BeanPostProcessor {\r\n  @Override\r\n  public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\r\n    if (bean instanceof Advised) {\r\n      Advised advisedBean = (Advised) bean;\r\n      if (advisedBean.getTargetSource().getTargetClass().isAnnotationPresent(Validated.class)) {\r\n        System.out.println(&quot;Reordering advisors to \\&quot;method validation first\\&quot; for bean &quot; + beanName);\r\n        reorderAdvisorsMethodValidationFirst(advisedBean);\r\n      }\r\n    }\r\n    return BeanPostProcessor.super.postProcessAfterInitialization(bean, beanName);\r\n  }\r\n\r\n  public void reorderAdvisorsMethodValidationFirst(Advised advisedBean) {\r\n    Arrays.stream(advisedBean.getAdvisors())\r\n      .filter(advisor -&gt; !(advisor.getAdvice() instanceof MethodValidationInterceptor))\r\n      .forEach(advisor -&gt; {\r\n        advisedBean.removeAdvisor(advisor);\r\n        advisedBean.addAdvisor(advisor);\r\n      });\r\n  }\r\n}\r\n```\r\n\r\nThe console logs with and without the active post-processor remain the same as in the original solution.","title":"How to make @Around advice (Spring AOP) on RestController GET Method execute after constraint validation in the GET method?","body":"<h3>Preface</h3>\n<p>I am not a Spring user, so I cannot tell you</p>\n<ul>\n<li>if there is any way to influence the order of advisor application for any advised bean in a generic, non-invasive way,</li>\n<li>where exactly Spring creates the list of advisors associated with an advised bean while wiring the application.</li>\n</ul>\n<p>What I did find out, however, is that once the list of advisors for an advised bean has been set, it is simply applied in the order of elements in the list. You can influence aspect precedence via <code>@Order</code> or implementing <code>@Ordered</code>, but I have no idea if that approach can somehow be applied to method validation advisors.</p>\n<h3>Proof of concept, version 1</h3>\n<p>Because I was curious, I created a proof-of-concept, hacky workaround. Here is my <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> replicating your original situation:</p>\n<p><strong>Service, controller and helper classes:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q71219717;\n\npublic class SomeClass {\n  private final String suffix;\n\n  public SomeClass(String suffix) {\n    this.suffix = suffix;\n  }\n\n  public String getSuffix() {\n    return suffix;\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q71219717;\n\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class MyService {\n  public String getIDInformation(long id, SomeClass someObject) {\n    return id + &quot;-&quot; + someObject.getSuffix();\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q71219717;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.validation.annotation.Validated;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.validation.constraints.Pattern;\nimport javax.validation.constraints.Size;\n\n@RestController\n@Validated\npublic class MyRestController {\n  @Autowired\n  MyService service;\n\n  @GetMapping(&quot;/v1/{id}&quot;)\n  public Object getIDInformation(\n    @PathVariable(&quot;id&quot;)\n    @Pattern(regexp = &quot;^[0-9]*$&quot;, message = &quot;Non-numeric ID ${validatedValue}&quot;)\n    @Size(min = 9, max = 10, message = &quot;ID ${validatedValue} must be {min}-{max} numbers long&quot;)\n      String id,\n    HttpServletRequest httpRequest,\n    SomeClass someObject\n  )\n  {\n    return service.getIDInformation(Long.parseLong(id), someObject);\n  }\n}\n</code></pre>\n<p><strong>Aspect:</strong></p>\n<p>My dummy for the missing <code>valid(String id)</code> method in your example simply returns <code>true</code> if the ID contains a <code>'0'</code> character.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q71219717;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.springframework.core.Ordered;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.stereotype.Component;\n\nimport javax.servlet.http.HttpServletRequest;\n\n@Aspect\n@Component\npublic class MyRestControllerAspect {\n  @Around(\n    &quot;execution(* de.scrum_master.spring.q71219717.MyRestController.getIDInformation(..)) &amp;&amp; &quot; +\n    &quot;args(id, httpRequest, ..)&quot;\n  )\n  public Object aspectMethod(ProceedingJoinPoint pjp, String id, HttpServletRequest httpRequest)\n    throws Throwable\n  {\n    System.out.println(pjp + &quot; -&gt; &quot; + id);\n    SomeClass changedValue = new SomeClass(&quot;ASPECT&quot;);\n    SomeClass someObject = changedValue;\n    Object[] targetMethodArgs = pjp.getArgs();\n\n    if (!valid(id)) {\n      throw new IllegalArgumentException(&quot;invalid ID &quot; + id);\n    }\n    else {\n      // Make use of HttpServletRequest httpRequest (not shown here) to modify\n      // SomeClass someObject argument in the target method\n      for (int i = 0; i &lt; targetMethodArgs.length; i++) {\n        if (targetMethodArgs[i] instanceof SomeClass) {\n          targetMethodArgs[i] = someObject;\n        }\n      }\n    }\n\n    return pjp.proceed(targetMethodArgs);\n  }\n\n  private boolean valid(String id) {\n    return id.contains(&quot;0&quot;);\n  }\n}\n</code></pre>\n<p><strong>Driver application:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q71219717;\n\nimport org.springframework.aop.framework.Advised;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ConfigurableApplicationContext;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.validation.beanvalidation.MethodValidationInterceptor;\n\nimport java.util.Arrays;\n\n@SpringBootApplication\n@Configuration\npublic class DemoApplication {\n  public static void main(String[] args) throws Throwable {\n    try (ConfigurableApplicationContext appContext = SpringApplication.run(DemoApplication.class, args)) {\n      doStuff(appContext);\n    }\n  }\n\n  private static void doStuff(ConfigurableApplicationContext appContext) {\n    MyRestController restController = appContext.getBean(MyRestController.class);\n    //reorderAdvisorsMethodValidationFirst(restController);\n\n    printIDInfo(restController, &quot;1234567890&quot;, &quot;Valid @Pattern, valid @Size, valid for aspect (contains '0')&quot;);\n    printIDInfo(restController, &quot;123456789&quot;, &quot;Valid @Pattern, valid @Size, invalid for aspect (does not contain '0')&quot;);\n    printIDInfo(restController, &quot;123&quot;, &quot;Valid @Pattern, invalid @Size, invalid for aspect (does not contain '0')&quot;);\n    printIDInfo(restController, &quot;250&quot;, &quot;Valid @Pattern, invalid @Size, valid for aspect (contains '0')&quot;);\n    printIDInfo(restController, &quot;x&quot;, &quot;Invalid @Pattern, invalid @Size, invalid for aspect (does not contain '0')&quot;);\n    printIDInfo(restController, &quot;A0&quot;, &quot;Invalid @Pattern, invalid @Size, valid for aspect (contains '0')&quot;);\n  }\n\n  private static void printIDInfo(MyRestController restController, String id, String infoMessage) {\n    try {\n      System.out.println(infoMessage);\n      System.out.println(&quot;ID info: &quot; + restController.getIDInformation(id, null, new SomeClass(&quot;ABC&quot;)));\n    }\n    catch (Exception e) {\n      System.out.println(e);\n    }\n    System.out.println(&quot;----------&quot;);\n  }\n\n  public static void reorderAdvisorsMethodValidationFirst(Object targetBean) {\n    if (!(targetBean instanceof Advised))\n      return;\n    Advised advisedBean = (Advised) targetBean;\n    Arrays.stream(advisedBean.getAdvisors())\n      .filter(advisor -&gt; !(advisor.getAdvice() instanceof MethodValidationInterceptor))\n      .forEach(advisor -&gt; {\n        advisedBean.removeAdvisor(advisor);\n        advisedBean.addAdvisor(advisor);\n      });\n  }\n}\n</code></pre>\n<p>Please note the one helper method call I commented out. When running the application like this, the console log says:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Valid @Pattern, valid @Size, valid for aspect (contains '0')\nexecution(Object de.scrum_master.spring.q71219717.MyRestController.getIDInformation(String,HttpServletRequest,SomeClass)) -&gt; 1234567890\nID info: 1234567890-ASPECT\n----------\nValid @Pattern, valid @Size, invalid for aspect (does not contain '0')\nexecution(Object de.scrum_master.spring.q71219717.MyRestController.getIDInformation(String,HttpServletRequest,SomeClass)) -&gt; 123456789\njava.lang.IllegalArgumentException: invalid ID 123456789\n----------\nValid @Pattern, invalid @Size, invalid for aspect (does not contain '0')\nexecution(Object de.scrum_master.spring.q71219717.MyRestController.getIDInformation(String,HttpServletRequest,SomeClass)) -&gt; 123\njava.lang.IllegalArgumentException: invalid ID 123\n----------\nValid @Pattern, invalid @Size, valid for aspect (contains '0')\nexecution(Object de.scrum_master.spring.q71219717.MyRestController.getIDInformation(String,HttpServletRequest,SomeClass)) -&gt; 250\njavax.validation.ConstraintViolationException: getIDInformation.id: ID 250 must be 9-10 numbers long\n----------\nInvalid @Pattern, invalid @Size, invalid for aspect (does not contain '0')\nexecution(Object de.scrum_master.spring.q71219717.MyRestController.getIDInformation(String,HttpServletRequest,SomeClass)) -&gt; x\njava.lang.IllegalArgumentException: invalid ID x\n----------\nInvalid @Pattern, invalid @Size, valid for aspect (contains '0')\nexecution(Object de.scrum_master.spring.q71219717.MyRestController.getIDInformation(String,HttpServletRequest,SomeClass)) -&gt; A0\njavax.validation.ConstraintViolationException: getIDInformation.id: Non-numeric ID A0, getIDInformation.id: ID A0 must be 9-10 numbers long\n</code></pre>\n<p>As you can see from the logged <code>execution</code> joinpoints and ensuing <code>IllegalArgumentException</code>s, the aspect kicks in before method argument validation, just as you described.</p>\n<p>Now, let us uncomment (i.e. activate)</p>\n<pre class=\"lang-java prettyprint-override\"><code>reorderAdvisorsMethodValidationFirst(restController);\n</code></pre>\n<p>What the method does, is</p>\n<ul>\n<li>to check if the target object is an advised Spring bean,</li>\n<li>if so, reorder the list of advisors by simply\n<ul>\n<li>temporarily removing each advisor which does not have a <code>MethodValidationInterceptor</code> advice</li>\n<li>and then immediately appending it to the end of the list again.</li>\n</ul>\n</li>\n</ul>\n<p>The effect is that now the method validation interceptors take precedence over other advice types for the target bean. The console log consequently changes to:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Valid @Pattern, valid @Size, valid for aspect (contains '0')\nexecution(Object de.scrum_master.spring.q71219717.MyRestController.getIDInformation(String,HttpServletRequest,SomeClass)) -&gt; 1234567890\nID info: 1234567890-ASPECT\n----------\nValid @Pattern, valid @Size, invalid for aspect (does not contain '0')\nexecution(Object de.scrum_master.spring.q71219717.MyRestController.getIDInformation(String,HttpServletRequest,SomeClass)) -&gt; 123456789\njava.lang.IllegalArgumentException: invalid ID 123456789\n----------\nValid @Pattern, invalid @Size, invalid for aspect (does not contain '0')\njavax.validation.ConstraintViolationException: getIDInformation.id: ID 123 must be 9-10 numbers long\n----------\nValid @Pattern, invalid @Size, valid for aspect (contains '0')\njavax.validation.ConstraintViolationException: getIDInformation.id: ID 250 must be 9-10 numbers long\n----------\nInvalid @Pattern, invalid @Size, invalid for aspect (does not contain '0')\njavax.validation.ConstraintViolationException: getIDInformation.id: Non-numeric ID x, getIDInformation.id: ID x must be 9-10 numbers long\n----------\nInvalid @Pattern, invalid @Size, valid for aspect (contains '0')\njavax.validation.ConstraintViolationException: getIDInformation.id: ID A0 must be 9-10 numbers long, getIDInformation.id: Non-numeric ID A0\n</code></pre>\n<p>See? Now the aspect only kicks in in the first two cases, after method parameter validation has been passed successfully.</p>\n<p>Some Spring AOP internals:</p>\n<ul>\n<li>Method <code>CglibAopProxy.DynamicAdvisedInterceptor.intercept</code> calls <code>this.advised.getInterceptorsAndDynamicInterceptionAdvice(method, targetClass)</code>.</li>\n<li><code>this.advised</code> is of type <code>AdvisedSupport</code>, which is a public type, but unfortunately <code>CglibAopProxy.DynamicAdvisedInterceptor</code> is a private static inner class of <code>CglibAopProxy</code> and only used internally.</li>\n<li>So there is no good way to get hold of the <code>AdvisedSupport</code> instance and e.g. call its <code>setAdvisorChainFactory</code> method. If that was possible, you could just inject a factory returning a list of advisors in an order different from the default one (a <code>DefaultAdvisorChainFactory</code>).</li>\n</ul>\n<p>Maybe some Spring pros here know of a canonical way to influence the internal advisor chain order by configuring Spring in order to wire the application the way you want it to, but I really do not know. I am just an AOP (mostly AspectJ) expert who sometimes looks into more specific Spring AOP questions.</p>\n<h3>Proof of concept, version 2</h3>\n<p>OK, I refactored the original solution into something more generic, using a <code>BeanPostProcessor</code>. The post-processor will</p>\n<ul>\n<li>be called automatically for each Spring instantiated bean,</li>\n<li>check if the created bean is <code>Advised</code> (i.e. is a Spring proxy with advisors),</li>\n<li>filter for advised bean classes with <code>@Validated</code> annotations,</li>\n<li>re-order the advisors like in my original solution.</li>\n</ul>\n<p>The advantage is that there is no more need to manually fetch bean instances from the application context and call <code>reorderAdvisorsMethodValidationFirst(..)</code> on them one by one. Spring takes care of post-processing each bean, which is how it is supposed to be. Sorry for coming up with this solution only in iteration #2, but like I said, I am a Spring noob.</p>\n<p><strong>Updated, simplified driver application:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q71219717;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ConfigurableApplicationContext;\nimport org.springframework.context.annotation.Configuration;\n\n@SpringBootApplication\n@Configuration\npublic class DemoApplication {\n  private static MyRestController restController;\n\n  public static void main(String[] args) throws Throwable {\n    try (ConfigurableApplicationContext appContext = SpringApplication.run(DemoApplication.class, args)) {\n      doStuff(appContext);\n    }\n  }\n\n  private static void doStuff(ConfigurableApplicationContext appContext) {\n    restController = appContext.getBean(MyRestController.class);\n    printIDInfo(&quot;1234567890&quot;, &quot;Valid @Pattern, valid @Size, valid for aspect (contains '0')&quot;);\n    printIDInfo(&quot;123456789&quot;, &quot;Valid @Pattern, valid @Size, invalid for aspect (does not contain '0')&quot;);\n    printIDInfo(&quot;123&quot;, &quot;Valid @Pattern, invalid @Size, invalid for aspect (does not contain '0')&quot;);\n    printIDInfo(&quot;250&quot;, &quot;Valid @Pattern, invalid @Size, valid for aspect (contains '0')&quot;);\n    printIDInfo(&quot;x&quot;, &quot;Invalid @Pattern, invalid @Size, invalid for aspect (does not contain '0')&quot;);\n    printIDInfo(&quot;A0&quot;, &quot;Invalid @Pattern, invalid @Size, valid for aspect (contains '0')&quot;);\n  }\n\n  private static void printIDInfo(String id, String infoMessage) {\n    try {\n      System.out.println(infoMessage);\n      System.out.println(&quot;ID info: &quot; + restController.getIDInformation(id, null, new SomeClass(&quot;ABC&quot;)));\n    }\n    catch (Exception e) {\n      System.out.println(e);\n    }\n    System.out.println(&quot;----------&quot;);\n  }\n\n}\n</code></pre>\n<p><strong>Bean post-processor:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q71219717;\n\nimport org.springframework.aop.framework.Advised;\nimport org.springframework.beans.BeansException;\nimport org.springframework.beans.factory.config.BeanPostProcessor;\nimport org.springframework.stereotype.Component;\nimport org.springframework.validation.annotation.Validated;\nimport org.springframework.validation.beanvalidation.MethodValidationInterceptor;\n\nimport java.util.Arrays;\n\n@Component\npublic class MethodValidationFirstBeanPostProcessor implements BeanPostProcessor {\n  @Override\n  public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\n    if (bean instanceof Advised) {\n      Advised advisedBean = (Advised) bean;\n      if (advisedBean.getTargetSource().getTargetClass().isAnnotationPresent(Validated.class)) {\n        System.out.println(&quot;Reordering advisors to \\&quot;method validation first\\&quot; for bean &quot; + beanName);\n        reorderAdvisorsMethodValidationFirst(advisedBean);\n      }\n    }\n    return BeanPostProcessor.super.postProcessAfterInitialization(bean, beanName);\n  }\n\n  public void reorderAdvisorsMethodValidationFirst(Advised advisedBean) {\n    Arrays.stream(advisedBean.getAdvisors())\n      .filter(advisor -&gt; !(advisor.getAdvice() instanceof MethodValidationInterceptor))\n      .forEach(advisor -&gt; {\n        advisedBean.removeAdvisor(advisor);\n        advisedBean.addAdvisor(advisor);\n      });\n  }\n}\n</code></pre>\n<p>The console logs with and without the active post-processor remain the same as in the original solution.</p>\n"}],"owner":{"account_id":6383452,"reputation":83,"user_id":4952070,"display_name":"Barani"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":857,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71261070,"answer_count":1,"score":1,"last_activity_date":1645769660,"creation_date":1645526131,"question_id":71219717,"body_markdown":"I want constraint validation in the method to happen before around advice aspect execution, but I see the opposite happening. The aspect is triggered without validation.\r\n\r\nI have the following RestController class:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n```java\r\npackage com.pkg;\r\n\r\n@RestController\r\n@Validated\r\npublic class RestController {\r\n  @GetMapping(&quot;/v1/{id}&quot;)\r\n  public Object getIDInformation(\r\n    @PathVariable(&quot;id&quot;)\r\n    @Pattern(regexp = &quot;^[0-9]*$&quot;, message = &quot;Non numeric id&quot;)\r\n    @Size(min = 9, max = 10, message = &quot;Invalid id&quot;)\r\n      String id,\r\n    HttpServletRequest httpRequest,\r\n    SomeClass someObject\r\n  )\r\n  {\r\n    return service.getIDInformation(Long.parseLong(id), someObject);\r\n  }\r\n}\r\n```\r\n\r\nThen I have the following around aspect advice in a different class:\r\n\r\n```java\r\n@Around(\r\n  &quot;execution(* com.pkg.RestController.getIDInformation(..)) &amp;&amp; &quot; +\r\n  &quot;args(id,httpRequest,..)&quot;\r\n)\r\npublic Object aspectMethod(ProceedingJoinPoint pjp, String id, HttpServletRequest httpRequest)\r\n  throws Throwable\r\n{\r\n  SomeClass someObject = changedValue;\r\n  Object[] targetMethodArgs = pjp.getArgs();\r\n\r\n  if (!valid(id)) {\r\n    //throw Exception\r\n  }\r\n  else {\r\n    // Make use of HttpServletRequest httpRequest (not shown here) to modify\r\n    // SomeClass someObject argument in the target method\r\n    for (int i = 0; i &lt; targetMethodArgs.length; i++) {\r\n      if (targetMethodArgs[i] instanceof SomeClass) {\r\n        targetMethodArgs[i] = someObject;\r\n      }\r\n    }\r\n  }\r\n\r\n  return pjp.proceed(targetMethodArgs);\r\n}\r\n```\r\n\r\nIf a request is made to GET handler method, the constraint validation for id path variable has to occur first before the around advice can execute. Is there any way I can achieve this?","title":"How to make @Around advice (Spring AOP) on RestController GET Method execute after constraint validation in the GET method?","body":"<p>I want constraint validation in the method to happen before around advice aspect execution, but I see the opposite happening. The aspect is triggered without validation.</p>\n<p>I have the following RestController class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.pkg;\n\n@RestController\n@Validated\npublic class RestController {\n  @GetMapping(&quot;/v1/{id}&quot;)\n  public Object getIDInformation(\n    @PathVariable(&quot;id&quot;)\n    @Pattern(regexp = &quot;^[0-9]*$&quot;, message = &quot;Non numeric id&quot;)\n    @Size(min = 9, max = 10, message = &quot;Invalid id&quot;)\n      String id,\n    HttpServletRequest httpRequest,\n    SomeClass someObject\n  )\n  {\n    return service.getIDInformation(Long.parseLong(id), someObject);\n  }\n}\n</code></pre>\n<p>Then I have the following around aspect advice in a different class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Around(\n  &quot;execution(* com.pkg.RestController.getIDInformation(..)) &amp;&amp; &quot; +\n  &quot;args(id,httpRequest,..)&quot;\n)\npublic Object aspectMethod(ProceedingJoinPoint pjp, String id, HttpServletRequest httpRequest)\n  throws Throwable\n{\n  SomeClass someObject = changedValue;\n  Object[] targetMethodArgs = pjp.getArgs();\n\n  if (!valid(id)) {\n    //throw Exception\n  }\n  else {\n    // Make use of HttpServletRequest httpRequest (not shown here) to modify\n    // SomeClass someObject argument in the target method\n    for (int i = 0; i &lt; targetMethodArgs.length; i++) {\n      if (targetMethodArgs[i] instanceof SomeClass) {\n        targetMethodArgs[i] = someObject;\n      }\n    }\n  }\n\n  return pjp.proceed(targetMethodArgs);\n}\n</code></pre>\n<p>If a request is made to GET handler method, the constraint validation for id path variable has to occur first before the around advice can execute. Is there any way I can achieve this?</p>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":2840852,"reputation":1466,"user_id":2613848,"accept_rate":36,"display_name":"RaviPatidar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645769262,"creation_date":1645769262,"answer_id":71261741,"question_id":71261696,"body_markdown":"You can use `@DynamicUpdate` annotation in your entity class. This will help you to update only one column\r\nActually, when we use `@DynamicUpdate` on an entity, Hibernate does not use the cached SQL statement for the update. Instead, it will generate a SQL statement each time we update the entity. This generated SQL includes only the changed columns.\r\n\r\nIn order to find out the changed columns, Hibernate needs to track the state of the current entity. So, when we change any field of an entity, it compares the current and the modified states of the entity.\r\nSo, I hope this will print now on your console.\r\n\r\n    update my_table set name=? where id=?\r\n\r\n[Ref Tutorial][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-data-jpa-dynamicupdate","title":"Hibernate JPA Entity want to persisit only one column","body":"<p>You can use <code>@DynamicUpdate</code> annotation in your entity class. This will help you to update only one column\nActually, when we use <code>@DynamicUpdate</code> on an entity, Hibernate does not use the cached SQL statement for the update. Instead, it will generate a SQL statement each time we update the entity. This generated SQL includes only the changed columns.</p>\n<p>In order to find out the changed columns, Hibernate needs to track the state of the current entity. So, when we change any field of an entity, it compares the current and the modified states of the entity.\nSo, I hope this will print now on your console.</p>\n<pre><code>update my_table set name=? where id=?\n</code></pre>\n<p><a href=\"https://www.baeldung.com/spring-data-jpa-dynamicupdate\" rel=\"nofollow noreferrer\">Ref Tutorial</a></p>\n"},{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645769304,"creation_date":1645769304,"answer_id":71261748,"question_id":71261696,"body_markdown":"The default behavior is that when you update a Hibernate entity, _all_ fields on the entity will be updated in the underlying database record.  Note that this is not wrong, assuming the same values are being used for updates on columns as the values which were initially read.\r\n\r\nIf you really want an update of just a single column, you may create a JPA repository method for that, e.g.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Modifying\r\n    @Query(&quot;update MyTable m set m.name = :name where m.id = :id&quot;)\r\n    void updateName(@Param(&quot;name&quot;) String name, @Param(&quot;id&quot;) Long id);\r\n\r\nIf you examine the SQL generated by the above, it will really only update one column.\r\n\r\nNote that on some databases, updates to columns where the value does not change will actually be _ignored_, q.v. [this SO question](https://stackoverflow.com/questions/35364214/does-mysql-overwrite-a-column-of-same-value-on-update).","title":"Hibernate JPA Entity want to persisit only one column","body":"<p>The default behavior is that when you update a Hibernate entity, <em>all</em> fields on the entity will be updated in the underlying database record.  Note that this is not wrong, assuming the same values are being used for updates on columns as the values which were initially read.</p>\n<p>If you really want an update of just a single column, you may create a JPA repository method for that, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Modifying\n@Query(&quot;update MyTable m set m.name = :name where m.id = :id&quot;)\nvoid updateName(@Param(&quot;name&quot;) String name, @Param(&quot;id&quot;) Long id);\n</code></pre>\n<p>If you examine the SQL generated by the above, it will really only update one column.</p>\n<p>Note that on some databases, updates to columns where the value does not change will actually be <em>ignored</em>, q.v. <a href=\"https://stackoverflow.com/questions/35364214/does-mysql-overwrite-a-column-of-same-value-on-update\">this SO question</a>.</p>\n"}],"owner":{"account_id":24372981,"reputation":3,"user_id":18305665,"display_name":"Tanmay Dighe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71261741,"answer_count":2,"score":0,"last_activity_date":1645769304,"creation_date":1645768920,"question_id":71261696,"body_markdown":"Please suggest me a way to update one column in JPA Entity.\r\nMy code\r\n\r\n    @Entity\r\n    @Table(name = &quot;my_table&quot;)\r\n    public class MyTable {\r\n    \r\n    \r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, updatable = false)\r\n    private Integer id;\r\n    \r\n    \r\n    \r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n    \r\n    \r\n    \r\n    @Column(name = &quot;mobile&quot;)\r\n    private Integer mobile;\r\n    \r\n    @Column(name = &quot;address&quot;)\r\n    private String address;\r\n    \r\n    @Column(name = &quot;gender&quot;)\r\n    private String gender;\r\n    }\r\n\r\n\r\nwhen I want to update my entity it updates all the columns but only wants to update only one column\r\n\r\n\r\n\r\n    MyTable myTable = myRepo.findMyTableById(1);\r\n    \r\n    myTable.setName(&quot;ra&quot;);\r\n    \r\n    repo.save();\r\n\r\nin this case query printing\r\n\r\n    update Account set name=?, mobile=?, address=?, gender=? where id=?\r\n\r\nbut I want to update only one column value why it is updating all the columns?","title":"Hibernate JPA Entity want to persisit only one column","body":"<p>Please suggest me a way to update one column in JPA Entity.\nMy code</p>\n<pre><code>@Entity\n@Table(name = &quot;my_table&quot;)\npublic class MyTable {\n\n\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;id&quot;, updatable = false)\nprivate Integer id;\n\n\n\n@Column(name = &quot;name&quot;)\nprivate String name;\n\n\n\n@Column(name = &quot;mobile&quot;)\nprivate Integer mobile;\n\n@Column(name = &quot;address&quot;)\nprivate String address;\n\n@Column(name = &quot;gender&quot;)\nprivate String gender;\n}\n</code></pre>\n<p>when I want to update my entity it updates all the columns but only wants to update only one column</p>\n<pre><code>MyTable myTable = myRepo.findMyTableById(1);\n\nmyTable.setName(&quot;ra&quot;);\n\nrepo.save();\n</code></pre>\n<p>in this case query printing</p>\n<pre><code>update Account set name=?, mobile=?, address=?, gender=? where id=?\n</code></pre>\n<p>but I want to update only one column value why it is updating all the columns?</p>\n"},{"tags":["java","android","android-studio","android-jetpack","android-jetpack-navigation"],"owner":{"account_id":19898777,"reputation":11,"user_id":15423770,"display_name":"Swathi Kedarasetty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645768473,"creation_date":1645768473,"question_id":71261627,"body_markdown":"I&#39;m trying to use safeargs plugin to pass data and navigate from one fragment to another. After adding the arguments in the destination fragment in the navigation graph, and choosing rebuild, I&#39;m not getting the autogenerated directions class and Args class.\r\nI followed the official docs and added the necessary dependecies for safeargs. I did set android.useAndroidX to true in the gradle.properties as well.\r\n\r\nMy app level build.gradle file:\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;androidx.navigation.safeargs&#39;\r\n}\r\nandroid {\r\n    compileSdk 32\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.fragnavpractise&quot;\r\n        minSdk 23\r\n        targetSdk 32\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n    def nav_version = &quot;2.4.1&quot;\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n\r\n    // Java language implementation\r\n    implementation &quot;androidx.navigation:navigation-fragment:$nav_version&quot;\r\n    implementation &quot;androidx.navigation:navigation-ui:$nav_version&quot;\r\n\r\n    // Kotlin\r\n    implementation &quot;androidx.navigation:navigation-fragment-ktx:$nav_version&quot;\r\n    implementation &quot;androidx.navigation:navigation-ui-ktx:$nav_version&quot;\r\n\r\n    // Feature module Support\r\n    implementation &quot;androidx.navigation:navigation-dynamic-features-fragment:$nav_version&quot;\r\n\r\n    // Testing Navigation\r\n    androidTestImplementation &quot;androidx.navigation:navigation-testing:$nav_version&quot;\r\n\r\n    // Jetpack Compose Integration\r\n    implementation &quot;androidx.navigation:navigation-compose:$nav_version&quot;\r\n\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n}\r\n```\r\nMy Project level build.gradle file:\r\n```\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n    }\r\n    dependencies {\r\n        def nav_version = &quot;2.4.1&quot;\r\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\r\n    }\r\n}\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.1.0&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.1.0&#39; apply false\r\n\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n\r\nMy Navigation graph:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/payment_navigation_graph&quot;\r\n    app:startDestination=&quot;@id/launchFragment&quot;&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/launchFragment&quot;\r\n        android:name=&quot;com.example.fragnavpractise.LaunchFragment&quot;\r\n        android:label=&quot;fragment_launch&quot;\r\n        tools:layout=&quot;@layout/fragment_launch&quot; &gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_launchFragment_to_payFragment&quot;\r\n            app:destination=&quot;@id/payFragment&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/payFragment&quot;\r\n        android:name=&quot;com.example.fragnavpractise.PayFragment&quot;\r\n        android:label=&quot;fragment_pay&quot;\r\n        tools:layout=&quot;@layout/fragment_pay&quot; &gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_payFragment_to_finishFragment&quot;\r\n            app:destination=&quot;@id/finishFragment&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/finishFragment&quot;\r\n        android:name=&quot;com.example.fragnavpractise.FinishFragment&quot;\r\n        android:label=&quot;fragment_finish&quot;\r\n        tools:layout=&quot;@layout/fragment_finish&quot; &gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_finishFragment_to_launchFragment&quot;\r\n            app:destination=&quot;@id/launchFragment&quot; /&gt;\r\n        &lt;argument\r\n            android:name=&quot;payee_name&quot;\r\n            app:argType=&quot;string&quot;\r\n            app:nullable=&quot;true&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n&lt;/navigation&gt;\r\n```\r\nI&#39;ve also tried to clean build and then rebuild. I did try different solutions in tutorials I found online but couldn&#39;t fix it. Please help me resolve this. Thanks in advance.","title":"Android jetpack Safeargs plugin is not generating direction classes (JAVA)","body":"<p>I'm trying to use safeargs plugin to pass data and navigate from one fragment to another. After adding the arguments in the destination fragment in the navigation graph, and choosing rebuild, I'm not getting the autogenerated directions class and Args class.\nI followed the official docs and added the necessary dependecies for safeargs. I did set android.useAndroidX to true in the gradle.properties as well.</p>\n<p>My app level build.gradle file:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'androidx.navigation.safeargs'\n}\nandroid {\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.example.fragnavpractise&quot;\n        minSdk 23\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    def nav_version = &quot;2.4.1&quot;\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n\n    // Java language implementation\n    implementation &quot;androidx.navigation:navigation-fragment:$nav_version&quot;\n    implementation &quot;androidx.navigation:navigation-ui:$nav_version&quot;\n\n    // Kotlin\n    implementation &quot;androidx.navigation:navigation-fragment-ktx:$nav_version&quot;\n    implementation &quot;androidx.navigation:navigation-ui-ktx:$nav_version&quot;\n\n    // Feature module Support\n    implementation &quot;androidx.navigation:navigation-dynamic-features-fragment:$nav_version&quot;\n\n    // Testing Navigation\n    androidTestImplementation &quot;androidx.navigation:navigation-testing:$nav_version&quot;\n\n    // Jetpack Compose Integration\n    implementation &quot;androidx.navigation:navigation-compose:$nav_version&quot;\n\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n}\n</code></pre>\n<p>My Project level build.gradle file:</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nbuildscript {\n    repositories {\n        google()\n    }\n    dependencies {\n        def nav_version = &quot;2.4.1&quot;\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\n    }\n}\nplugins {\n    id 'com.android.application' version '7.1.0' apply false\n    id 'com.android.library' version '7.1.0' apply false\n\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>My Navigation graph:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/payment_navigation_graph&quot;\n    app:startDestination=&quot;@id/launchFragment&quot;&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/launchFragment&quot;\n        android:name=&quot;com.example.fragnavpractise.LaunchFragment&quot;\n        android:label=&quot;fragment_launch&quot;\n        tools:layout=&quot;@layout/fragment_launch&quot; &gt;\n        &lt;action\n            android:id=&quot;@+id/action_launchFragment_to_payFragment&quot;\n            app:destination=&quot;@id/payFragment&quot; /&gt;\n    &lt;/fragment&gt;\n    &lt;fragment\n        android:id=&quot;@+id/payFragment&quot;\n        android:name=&quot;com.example.fragnavpractise.PayFragment&quot;\n        android:label=&quot;fragment_pay&quot;\n        tools:layout=&quot;@layout/fragment_pay&quot; &gt;\n        &lt;action\n            android:id=&quot;@+id/action_payFragment_to_finishFragment&quot;\n            app:destination=&quot;@id/finishFragment&quot; /&gt;\n    &lt;/fragment&gt;\n    &lt;fragment\n        android:id=&quot;@+id/finishFragment&quot;\n        android:name=&quot;com.example.fragnavpractise.FinishFragment&quot;\n        android:label=&quot;fragment_finish&quot;\n        tools:layout=&quot;@layout/fragment_finish&quot; &gt;\n        &lt;action\n            android:id=&quot;@+id/action_finishFragment_to_launchFragment&quot;\n            app:destination=&quot;@id/launchFragment&quot; /&gt;\n        &lt;argument\n            android:name=&quot;payee_name&quot;\n            app:argType=&quot;string&quot;\n            app:nullable=&quot;true&quot; /&gt;\n    &lt;/fragment&gt;\n&lt;/navigation&gt;\n</code></pre>\n<p>I've also tried to clean build and then rebuild. I did try different solutions in tutorials I found online but couldn't fix it. Please help me resolve this. Thanks in advance.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645766531,"post_id":71261377,"comment_id":125963016,"body_markdown":"Declaring a field `aa` does not automatically create a method `getAa`.","body":"Declaring a field <code>aa</code> does not automatically create a method <code>getAa</code>."},{"owner":{"account_id":19727189,"reputation":39,"user_id":14443512,"display_name":"devac"},"score":0,"creation_date":1645766671,"post_id":71261377,"comment_id":125963042,"body_markdown":"Yeah, I have used the annotation in my actual code, forgot to paste it here. But I do have the method getAa() in both classes.","body":"Yeah, I have used the annotation in my actual code, forgot to paste it here. But I do have the method getAa() in both classes."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645766694,"post_id":71261377,"comment_id":125963046,"body_markdown":"But aside from that, `&lt;T&gt;` has no bounds, so `genericMethodName` can only assume that items in the list are `Object`. You need to have A and B implement a common interface which has the `getAa()` method on it. Then you can make the type variable be `&lt;T extends HasAa&gt;`.","body":"But aside from that, <code>&lt;T&gt;</code> has no bounds, so <code>genericMethodName</code> can only assume that items in the list are <code>Object</code>. You need to have A and B implement a common interface which has the <code>getAa()</code> method on it. Then you can make the type variable be <code>&lt;T extends HasAa&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645768020,"creation_date":1645768020,"answer_id":71261572,"question_id":71261377,"body_markdown":"An easy approach here is to make `A` and `B` inherit from a common parent that declares a `getAa()` method. This could be a simple interface.\r\n\r\nIf, however, `A` and `B` **must** remain unrelated, you can make the caller send the &quot;getter&quot; function that&#39;s applicable to the concrete type for `T`.\r\n\r\n\tprivate &lt;T&gt; T genericMethodName(String s, ToIntFunction&lt;T&gt; mapper) {\r\n\t\tList&lt;T&gt; AlistOrBlist = method which returns a list of objects of A or B\r\n\t\tAlistOrBlist = AlistOrBlist.stream()\r\n\t\t\t\t.filter(record -&gt; mapper.applyAsInt(record) == 0)\r\n\t\t\t\t.collect(Collectors.toList());\r\n\r\n\t\treturn AlistOrBlist.get(0);\r\n\t}\r\n\r\nIf you&#39;re using `objectType` in the call to resolve `AlistOrBlist`, you can still take it in as well. And if `getAa()` returns a different type than `int`, you can type `mapper` as `Function&lt;T, ReturnTypeOfGetAa&gt;`.\r\n\r\nYou call that in this way:\r\n\r\n    A result = c.genericMethodName(&quot;param&quot;, A::getAa);\r\n    B result = c.genericMethodName(&quot;param&quot;, B::getAa);","title":"Generic method in java - can not resolve method &#39;someMethod&#39; in T","body":"<p>An easy approach here is to make <code>A</code> and <code>B</code> inherit from a common parent that declares a <code>getAa()</code> method. This could be a simple interface.</p>\n<p>If, however, <code>A</code> and <code>B</code> <strong>must</strong> remain unrelated, you can make the caller send the &quot;getter&quot; function that's applicable to the concrete type for <code>T</code>.</p>\n<pre><code>private &lt;T&gt; T genericMethodName(String s, ToIntFunction&lt;T&gt; mapper) {\n    List&lt;T&gt; AlistOrBlist = method which returns a list of objects of A or B\n    AlistOrBlist = AlistOrBlist.stream()\n            .filter(record -&gt; mapper.applyAsInt(record) == 0)\n            .collect(Collectors.toList());\n\n    return AlistOrBlist.get(0);\n}\n</code></pre>\n<p>If you're using <code>objectType</code> in the call to resolve <code>AlistOrBlist</code>, you can still take it in as well. And if <code>getAa()</code> returns a different type than <code>int</code>, you can type <code>mapper</code> as <code>Function&lt;T, ReturnTypeOfGetAa&gt;</code>.</p>\n<p>You call that in this way:</p>\n<pre><code>A result = c.genericMethodName(&quot;param&quot;, A::getAa);\nB result = c.genericMethodName(&quot;param&quot;, B::getAa);\n</code></pre>\n"}],"owner":{"account_id":19727189,"reputation":39,"user_id":14443512,"display_name":"devac"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":730,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1645768020,"creation_date":1645766419,"question_id":71261377,"body_markdown":"I am new to the concept of generics in Java. I have a generic method whose return type is also a generic. \r\n\r\nI am getting this error, ```can not resolve method &#39;getAa&#39; in T```. Both classes do have this member variable but java does not understand this as the sub method returns a generic list of that object. Is there a way to get rid of this error? \r\n\r\nBelow is my code, \r\n \r\n```\r\nclass A {\r\n\tint aa;\r\n\tint bb;\r\n\r\n\tint getAa() {\r\n\t\treturn 1;\r\n\t}\r\n\r\n}\r\n\r\nclass B {\r\n\tint aa;\r\n\tint cc;\r\n\r\n\tint getAa() {\r\n\t\treturn 1;\r\n\t}\r\n}\r\n```\r\n\r\n```\r\nclass C {\r\n\tprivate &lt;T&gt; T genericMethodName(String s, Class&lt;T&gt; objectType) {\r\n\t\tList&lt;T&gt; AlistOrBlist = method which returns a list of objects of A or B\r\n\t\tAlistOrBlist = AlistOrBlist.stream()\r\n\t\t\t\t\t\t\t\t\t.filter(record -&gt; record.getAa().equals(&quot;&quot;))\r\n\t\t\t\t\t\t\t\t\t.collect(Collectors.toList());\r\n\t\t\r\n\t\treturn AlistOrBlist.get(0);\r\n\t}\r\n}\r\n```","title":"Generic method in java - can not resolve method &#39;someMethod&#39; in T","body":"<p>I am new to the concept of generics in Java. I have a generic method whose return type is also a generic.</p>\n<p>I am getting this error, <code>can not resolve method 'getAa' in T</code>. Both classes do have this member variable but java does not understand this as the sub method returns a generic list of that object. Is there a way to get rid of this error?</p>\n<p>Below is my code,</p>\n<pre><code>class A {\n    int aa;\n    int bb;\n\n    int getAa() {\n        return 1;\n    }\n\n}\n\nclass B {\n    int aa;\n    int cc;\n\n    int getAa() {\n        return 1;\n    }\n}\n</code></pre>\n<pre><code>class C {\n    private &lt;T&gt; T genericMethodName(String s, Class&lt;T&gt; objectType) {\n        List&lt;T&gt; AlistOrBlist = method which returns a list of objects of A or B\n        AlistOrBlist = AlistOrBlist.stream()\n                                    .filter(record -&gt; record.getAa().equals(&quot;&quot;))\n                                    .collect(Collectors.toList());\n        \n        return AlistOrBlist.get(0);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","user-interface","android-mediaprojection"],"owner":{"account_id":1390653,"reputation":421,"user_id":1321576,"accept_rate":61,"display_name":"Gimun Eom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1645765746,"creation_date":1645765746,"question_id":71261306,"body_markdown":"I want to draw a view and exclude it from media projection.\r\n\r\n\r\nI found some apps already have this behavior, so I think it is possible.\r\nFor example, when I share screen of android mobile phone to Samsung TV, floating button and control pannel is only drawn on mobile phone, not on TV.\r\n\r\nI want to use media projection to capture screen, but I want to ignore some view. This view is a part of my app.\r\n\r\nHow can I draw a view or floating button excluded from media projection?","title":"How can I draw a view which is excluded from media projection?","body":"<p>I want to draw a view and exclude it from media projection.</p>\n<p>I found some apps already have this behavior, so I think it is possible.\nFor example, when I share screen of android mobile phone to Samsung TV, floating button and control pannel is only drawn on mobile phone, not on TV.</p>\n<p>I want to use media projection to capture screen, but I want to ignore some view. This view is a part of my app.</p>\n<p>How can I draw a view or floating button excluded from media projection?</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1645728252,"post_id":71256417,"comment_id":125954703,"body_markdown":"Make them `static final`, which is better anyway, because it seems they are not intended to be used as a real instance variable.","body":"Make them <code>static final</code>, which is better anyway, because it seems they are not intended to be used as a real instance variable."}],"answers":[{"tags":[],"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645729721,"creation_date":1645729721,"answer_id":71257063,"question_id":71256417,"body_markdown":"You can solve this case by adding modifier `static` to the function declaration.\r\nBut I&#39;m not sure about the reasons for such behavior, I think Lombok code generation can make decisions if works with class and can&#39;t if works with instance of class and lazy function.","title":"The Function implementation remains null if Lombok @Builder is used for initialization","body":"<p>You can solve this case by adding modifier <code>static</code> to the function declaration.\nBut I'm not sure about the reasons for such behavior, I think Lombok code generation can make decisions if works with class and can't if works with instance of class and lazy function.</p>\n"},{"tags":[],"owner":{"account_id":1856464,"reputation":514,"user_id":1681917,"accept_rate":100,"display_name":"Ahamed Abdul Rahman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645765184,"creation_date":1645765184,"answer_id":71261251,"question_id":71256417,"body_markdown":"Solved this problem with \r\n\r\n&gt; @Builder(toBuilder = true)\r\n\r\nand modifying the initialization from\r\n\r\n    Vehicle vehicle = Vehicle.builder()\r\n\r\nto\r\n\r\n    Vehicle vehicle = new Vehicle().toBuilder()\r\n\r\nThis seems to be quite easy for me.\r\n\r\nRead it from [here][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/lombok-builder-default-value","title":"The Function implementation remains null if Lombok @Builder is used for initialization","body":"<p>Solved this problem with</p>\n<blockquote>\n<p>@Builder(toBuilder = true)</p>\n</blockquote>\n<p>and modifying the initialization from</p>\n<pre><code>Vehicle vehicle = Vehicle.builder()\n</code></pre>\n<p>to</p>\n<pre><code>Vehicle vehicle = new Vehicle().toBuilder()\n</code></pre>\n<p>This seems to be quite easy for me.</p>\n<p>Read it from <a href=\"https://www.baeldung.com/lombok-builder-default-value\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":1856464,"reputation":514,"user_id":1681917,"accept_rate":100,"display_name":"Ahamed Abdul Rahman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71261251,"answer_count":2,"score":2,"last_activity_date":1645765184,"creation_date":1645726255,"question_id":71256417,"body_markdown":"I am using Lombok to initialize a class. That class also has some Functions defined. Those Functions remain null when called from the above initialized object.\r\n&lt;br/&gt;&lt;br/&gt;\r\n**VehicleTest Class:** \r\n\r\n    public class VehicleTest {\r\n\r\n    public static void main(String...arg) {\r\n        Vehicle vehicle = Vehicle.builder()\r\n                .createdDateTime(DateUtil.getEpochTimeFromCurrentTimeZone())\r\n                .make(&quot;Toyota&quot;)\r\n                .year(&quot;2010&quot;)\r\n                .model(&quot;Fortunner&quot;)\r\n                .build();\r\n\r\n        System.out.println(vehicle.convertEpochToString.apply(DateUtil.getEpochTimeFromCurrentTimeZone()));\r\n        }\r\n    }\r\n&lt;br/&gt;\r\n&lt;B&gt;Vehicle Class:&lt;/B&gt;\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    public class Vehicle {\r\n     Long createdDateTime;\r\n     String year;\r\n     String make;\r\n     String model;\r\n\r\n     public String getTime() {\r\n        return convertEpochToString.apply(createdDateTime);\r\n    }\r\n\r\n     public Function&lt;Long,String&gt; convertEpochToString = epochTime -&gt; {\r\n        ZonedDateTime zonedDateTime = DateUtil.convertEpochToZonedDateTime(epochTime);\r\n        return DateUtil.formatZonedDateTime(zonedDateTime,&quot;dd-MMM-yyyy&quot;);\r\n     };\r\n}\r\n\r\nAs you can see in this debug mode, this convertEpochToString Function is null.\r\n\r\nNote: This is not the actual way I am using in my project. This is just an example I made to depict my problem.&lt;br/&gt;\r\nAs mentioned in this [link][1], if I use \r\n\r\n&gt; @Builder.Default\r\n\r\n on above Function, this seems to be working. But adding it on all 100+ Functions in each class will be a huge task for me. Is there any other alternative apart from the above one and static Function?\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/32824821/lombok-builder-not-initializing-collections\r\n  [2]: https://i.stack.imgur.com/O8yik.png","title":"The Function implementation remains null if Lombok @Builder is used for initialization","body":"<p>I am using Lombok to initialize a class. That class also has some Functions defined. Those Functions remain null when called from the above initialized object.\n<br/><br/>\n<strong>VehicleTest Class:</strong></p>\n<pre><code>public class VehicleTest {\n\npublic static void main(String...arg) {\n    Vehicle vehicle = Vehicle.builder()\n            .createdDateTime(DateUtil.getEpochTimeFromCurrentTimeZone())\n            .make(&quot;Toyota&quot;)\n            .year(&quot;2010&quot;)\n            .model(&quot;Fortunner&quot;)\n            .build();\n\n    System.out.println(vehicle.convertEpochToString.apply(DateUtil.getEpochTimeFromCurrentTimeZone()));\n    }\n}\n</code></pre>\n<br/>\n<B>Vehicle Class:</B>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class Vehicle {\n Long createdDateTime;\n String year;\n String make;\n String model;\n\n public String getTime() {\n    return convertEpochToString.apply(createdDateTime);\n}\n\n public Function&lt;Long,String&gt; convertEpochToString = epochTime -&gt; {\n    ZonedDateTime zonedDateTime = DateUtil.convertEpochToZonedDateTime(epochTime);\n    return DateUtil.formatZonedDateTime(zonedDateTime,&quot;dd-MMM-yyyy&quot;);\n };\n</code></pre>\n<p>}</p>\n<p>As you can see in this debug mode, this convertEpochToString Function is null.</p>\n<p>Note: This is not the actual way I am using in my project. This is just an example I made to depict my problem.<br/>\nAs mentioned in this <a href=\"https://stackoverflow.com/questions/32824821/lombok-builder-not-initializing-collections\">link</a>, if I use</p>\n<blockquote>\n<p>@Builder.Default</p>\n</blockquote>\n<p>on above Function, this seems to be working. But adding it on all 100+ Functions in each class will be a huge task for me. Is there any other alternative apart from the above one and static Function?</p>\n<p><a href=\"https://i.stack.imgur.com/O8yik.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O8yik.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","xml","button"],"answers":[{"tags":[],"owner":{"account_id":19111661,"reputation":777,"user_id":14653849,"display_name":"OuttaSpaceTime"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1609703551,"creation_date":1609346464,"answer_id":65510435,"question_id":65510075,"body_markdown":"I see two possibilites:\r\n\r\n - You might not have the right parent for your Button.  Try: \r\n\r\n    `&lt;style name=&quot;buttonStartStyle&quot; parent =&quot;android:Widget.Button&quot;&gt;`\r\n\r\n - attributes might be changed along the way in your program. Try setting the needed attributes to null before applying the style. \r\n\r\n","title":"Button Style does not work in Android Studio","body":"<p>I see two possibilites:</p>\n<ul>\n<li><p>You might not have the right parent for your Button.  Try:</p>\n<p><code>&lt;style name=&quot;buttonStartStyle&quot; parent =&quot;android:Widget.Button&quot;&gt;</code></p>\n</li>\n<li><p>attributes might be changed along the way in your program. Try setting the needed attributes to null before applying the style.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":938093,"reputation":2857,"user_id":966656,"accept_rate":82,"display_name":"Andrew S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645765171,"creation_date":1644948298,"answer_id":71131302,"question_id":65510075,"body_markdown":"The problem here is likely with the parent style in themes.xml.\r\n\r\nIf the parent theme is one of the Material Components ones for example:\r\n\r\n    &lt;style name=&quot;Theme.StyleDemo2&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\r\n        &lt;!-- Primary brand color. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;!-- Secondary brand color. --&gt;\r\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;!-- Status bar color. --&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\r\n        &lt;!-- Customize your theme here. --&gt;\r\n    &lt;/style&gt;\r\nThis overrides any style changes you might make to give your button the material theme with a tint color defined by the colorPrimary item in the theme (they are also not standard buttons in this instance but some funky sub class replaced quietly). To overcome this issue change the parent theme to something such as:\r\n\r\n    parent=&quot;Theme.AppCompat.Light&quot;\r\n\r\nThis one is much more customizable and your button styles will take effect.\r\n\r\n\r\n","title":"Button Style does not work in Android Studio","body":"<p>The problem here is likely with the parent style in themes.xml.</p>\n<p>If the parent theme is one of the Material Components ones for example:</p>\n<pre><code>&lt;style name=&quot;Theme.StyleDemo2&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\n    &lt;!-- Primary brand color. --&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\n    &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\n    &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\n    &lt;!-- Secondary brand color. --&gt;\n    &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\n    &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\n    &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\n    &lt;!-- Status bar color. --&gt;\n    &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\n    &lt;!-- Customize your theme here. --&gt;\n&lt;/style&gt;\n</code></pre>\n<p>This overrides any style changes you might make to give your button the material theme with a tint color defined by the colorPrimary item in the theme (they are also not standard buttons in this instance but some funky sub class replaced quietly). To overcome this issue change the parent theme to something such as:</p>\n<pre><code>parent=&quot;Theme.AppCompat.Light&quot;\n</code></pre>\n<p>This one is much more customizable and your button styles will take effect.</p>\n"}],"owner":{"account_id":20222331,"reputation":1,"user_id":14831392,"display_name":"daving"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":979,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645765171,"creation_date":1609344935,"question_id":65510075,"body_markdown":"T&#39;m using the newest Android Studio Version to code my app and I can&#39;t change the button style. \r\nIt seems like when generating a new project, it already has some default styles for buttons which I can&#39;t seem to be able to override. \r\n\r\nEverytime I place just a plane button it already has some background color (&quot;colorPrimary&quot;) and if I&#39;m trying to apply a style, it only changes the text of the button, but not the shape or the color.\r\n\r\n**This is my style:** \r\n\r\n \r\n\r\n      &lt;style name=&quot;buttonStartStyle&quot;&gt;\r\n        &lt;item name=&quot;android:background&quot;&gt;@drawable/button_style1&lt;/item&gt;\r\n        &lt;item name=&quot;android:layout_margin&quot;&gt;20dp&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;android:textAllCaps&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;android:textSize&quot;&gt;18sp&lt;/item&gt;\r\n        &lt;item name=&quot;android:layout_width&quot;&gt;match_parent&lt;/item&gt;\r\n        &lt;item name=&quot;android:layout_height&quot;&gt;wrap_content&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n**and my button_style1.xml:** \r\n\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item&gt;\r\n        &lt;shape android:shape=&quot;rectangle&quot;&gt;\r\n            &lt;corners android:radius=&quot;50dp&quot;/&gt;\r\n            &lt;solid android:color=&quot;@color/smoothWhite&quot;/&gt;\r\n            &lt;size android:height=&quot;50dp&quot;/&gt;\r\n            &lt;gradient android:startColor=&quot;@color/green_card&quot; android:endColor=&quot;@color/green_main&quot;/&gt;\r\n        &lt;/shape&gt;\r\n    &lt;/item&gt;\r\n&lt;/selector&gt;\r\n\r\nThe button already looks like this when I place it right from the pallete: \r\n[![button without style][1]][1]\r\n\r\n\r\nMy xml code for the button: \r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button&quot;\r\n        style=&quot;@style/buttonStartStyle&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Button&quot;\r\n        tools:layout_editor_absoluteX=&quot;121dp&quot;\r\n        tools:layout_editor_absoluteY=&quot;244dp&quot; /&gt;\r\n\r\nThis is how the button looks with the style applied: \r\n[![enter image description here][2]][2]\r\n\r\n\r\nHere is my themes.xml:\r\n\r\n    &lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;Theme.B_app&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\r\n        &lt;!-- Primary brand color. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/green_dark&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\r\n\r\n        &lt;!-- Secondary brand color. --&gt;\r\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;!-- Status bar color. --&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\r\n        &lt;!-- Customize your theme here. --&gt;\r\n\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;Theme.B_app.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;Theme.B_app.AppBarOverlay&quot; parent=&quot;ThemeOverlay.AppCompat.Dark.ActionBar&quot; /&gt;\r\n\r\n    &lt;style name=&quot;Theme.B_app.PopupOverlay&quot; parent=&quot;ThemeOverlay.AppCompat.Light&quot; /&gt;\r\n\r\n    &lt;style name=&quot;buttonStartStyle&quot;&gt;\r\n        &lt;item name=&quot;android:background&quot;&gt;@drawable/button_style1&lt;/item&gt;\r\n        &lt;item name=&quot;android:layout_margin&quot;&gt;20dp&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;android:textAllCaps&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;android:textSize&quot;&gt;18sp&lt;/item&gt;\r\n        &lt;item name=&quot;android:layout_width&quot;&gt;match_parent&lt;/item&gt;\r\n        &lt;item name=&quot;android:layout_height&quot;&gt;wrap_content&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;testStyle&quot;&gt;\r\n        &lt;item name=&quot;android:background&quot;&gt;@drawable/button_style2&lt;/item&gt;\r\n        &lt;item name=&quot;android:layout_margin&quot;&gt;20dp&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;android:textAllCaps&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;android:textSize&quot;&gt;18sp&lt;/item&gt;\r\n        &lt;item name=&quot;android:layout_width&quot;&gt;match_parent&lt;/item&gt;\r\n        &lt;item name=&quot;android:layout_height&quot;&gt;wrap_content&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;FlatButton&quot; parent=&quot;Theme.AppCompat.Light&quot;&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/grey_dark&lt;/item&gt;\r\n        &lt;item name=&quot;colorControlHighlight&quot;&gt;@color/white&lt;/item&gt;\r\n    &lt;/style&gt;\r\n&lt;/resources&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F53mW.png\r\n  [2]: https://i.stack.imgur.com/JBg2g.png","title":"Button Style does not work in Android Studio","body":"<p>T'm using the newest Android Studio Version to code my app and I can't change the button style.\nIt seems like when generating a new project, it already has some default styles for buttons which I can't seem to be able to override.</p>\n<p>Everytime I place just a plane button it already has some background color (&quot;colorPrimary&quot;) and if I'm trying to apply a style, it only changes the text of the button, but not the shape or the color.</p>\n<p><strong>This is my style:</strong></p>\n<pre><code>  &lt;style name=&quot;buttonStartStyle&quot;&gt;\n    &lt;item name=&quot;android:background&quot;&gt;@drawable/button_style1&lt;/item&gt;\n    &lt;item name=&quot;android:layout_margin&quot;&gt;20dp&lt;/item&gt;\n    &lt;item name=&quot;android:textColor&quot;&gt;@color/white&lt;/item&gt;\n    &lt;item name=&quot;android:textAllCaps&quot;&gt;false&lt;/item&gt;\n    &lt;item name=&quot;android:textSize&quot;&gt;18sp&lt;/item&gt;\n    &lt;item name=&quot;android:layout_width&quot;&gt;match_parent&lt;/item&gt;\n    &lt;item name=&quot;android:layout_height&quot;&gt;wrap_content&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p><strong>and my button_style1.xml:</strong></p>\n<pre><code>&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n&lt;item&gt;\n    &lt;shape android:shape=&quot;rectangle&quot;&gt;\n        &lt;corners android:radius=&quot;50dp&quot;/&gt;\n        &lt;solid android:color=&quot;@color/smoothWhite&quot;/&gt;\n        &lt;size android:height=&quot;50dp&quot;/&gt;\n        &lt;gradient android:startColor=&quot;@color/green_card&quot; android:endColor=&quot;@color/green_main&quot;/&gt;\n    &lt;/shape&gt;\n&lt;/item&gt;\n</code></pre>\n\n<p>The button already looks like this when I place it right from the pallete:\n<a href=\"https://i.stack.imgur.com/F53mW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F53mW.png\" alt=\"button without style\" /></a></p>\n<p>My xml code for the button:</p>\n<pre><code>&lt;Button\n    android:id=&quot;@+id/button&quot;\n    style=&quot;@style/buttonStartStyle&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;Button&quot;\n    tools:layout_editor_absoluteX=&quot;121dp&quot;\n    tools:layout_editor_absoluteY=&quot;244dp&quot; /&gt;\n</code></pre>\n<p>This is how the button looks with the style applied:\n<a href=\"https://i.stack.imgur.com/JBg2g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JBg2g.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is my themes.xml:</p>\n<pre><code>&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n&lt;!-- Base application theme. --&gt;\n&lt;style name=&quot;Theme.B_app&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\n    &lt;!-- Primary brand color. --&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;@color/green_dark&lt;/item&gt;\n    &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/black&lt;/item&gt;\n    &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\n\n    &lt;!-- Secondary brand color. --&gt;\n    &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\n    &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\n    &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\n    &lt;!-- Status bar color. --&gt;\n    &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\n    &lt;!-- Customize your theme here. --&gt;\n\n&lt;/style&gt;\n\n&lt;style name=&quot;Theme.B_app.NoActionBar&quot;&gt;\n    &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\n    &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;Theme.B_app.AppBarOverlay&quot; parent=&quot;ThemeOverlay.AppCompat.Dark.ActionBar&quot; /&gt;\n\n&lt;style name=&quot;Theme.B_app.PopupOverlay&quot; parent=&quot;ThemeOverlay.AppCompat.Light&quot; /&gt;\n\n&lt;style name=&quot;buttonStartStyle&quot;&gt;\n    &lt;item name=&quot;android:background&quot;&gt;@drawable/button_style1&lt;/item&gt;\n    &lt;item name=&quot;android:layout_margin&quot;&gt;20dp&lt;/item&gt;\n    &lt;item name=&quot;android:textColor&quot;&gt;@color/white&lt;/item&gt;\n    &lt;item name=&quot;android:textAllCaps&quot;&gt;false&lt;/item&gt;\n    &lt;item name=&quot;android:textSize&quot;&gt;18sp&lt;/item&gt;\n    &lt;item name=&quot;android:layout_width&quot;&gt;match_parent&lt;/item&gt;\n    &lt;item name=&quot;android:layout_height&quot;&gt;wrap_content&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;testStyle&quot;&gt;\n    &lt;item name=&quot;android:background&quot;&gt;@drawable/button_style2&lt;/item&gt;\n    &lt;item name=&quot;android:layout_margin&quot;&gt;20dp&lt;/item&gt;\n    &lt;item name=&quot;android:textColor&quot;&gt;@color/white&lt;/item&gt;\n    &lt;item name=&quot;android:textAllCaps&quot;&gt;false&lt;/item&gt;\n    &lt;item name=&quot;android:textSize&quot;&gt;18sp&lt;/item&gt;\n    &lt;item name=&quot;android:layout_width&quot;&gt;match_parent&lt;/item&gt;\n    &lt;item name=&quot;android:layout_height&quot;&gt;wrap_content&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;FlatButton&quot; parent=&quot;Theme.AppCompat.Light&quot;&gt;\n    &lt;item name=&quot;android:textColor&quot;&gt;@color/grey_dark&lt;/item&gt;\n    &lt;item name=&quot;colorControlHighlight&quot;&gt;@color/white&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n"},{"tags":["java","scala","playframework","apple-m1","unsatisfiedlinkerror"],"comments":[{"owner":{"account_id":430698,"reputation":7180,"user_id":4803842,"display_name":"Ivan Stanislavciuc"},"score":0,"creation_date":1645715004,"post_id":71252965,"comment_id":125949530,"body_markdown":"Make sure you&#39;re using JDK build for [M1](https://stackoverflow.com/questions/64788005/java-jdk-for-the-apple-m1-chip). Then set Idea to use correct JDK in Project settings","body":"Make sure you&#39;re using JDK build for <a href=\"https://stackoverflow.com/questions/64788005/java-jdk-for-the-apple-m1-chip\">M1</a>. Then set Idea to use correct JDK in Project settings"},{"owner":{"account_id":24365036,"reputation":125,"user_id":18298994,"display_name":"RomanGoltsov"},"score":0,"creation_date":1645716214,"post_id":71252965,"comment_id":125950065,"body_markdown":"@IvanStanislavciuc, Assembly JDK for the architecture you need, checked many times","body":"@IvanStanislavciuc, Assembly JDK for the architecture you need, checked many times"},{"owner":{"account_id":430698,"reputation":7180,"user_id":4803842,"display_name":"Ivan Stanislavciuc"},"score":1,"creation_date":1645716521,"post_id":71252965,"comment_id":125950198,"body_markdown":"to check architecture of your jdk. run `jshell` and then `System.getProperty(&quot;os.arch&quot;)`. It should say `aarch64`","body":"to check architecture of your jdk. run <code>jshell</code> and then <code>System.getProperty(&quot;os.arch&quot;)</code>. It should say <code>aarch64</code>"},{"owner":{"account_id":24365036,"reputation":125,"user_id":18298994,"display_name":"RomanGoltsov"},"score":0,"creation_date":1645717411,"post_id":71252965,"comment_id":125950620,"body_markdown":"@IvanStanislavciuc \njshell&gt; System.getProperty(&quot;os.arch&quot;)\n$1 ==&gt; &quot;aarch64&quot;","body":"@IvanStanislavciuc  jshell&gt; System.getProperty(&quot;os.arch&quot;) $1 ==&gt; &quot;aarch64&quot;"}],"answers":[{"tags":[],"owner":{"account_id":24365036,"reputation":125,"user_id":18298994,"display_name":"RomanGoltsov"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1645765113,"creation_date":1645765113,"answer_id":71261244,"question_id":71252965,"body_markdown":"Found a solution:\r\nInside sbt 1.4.6 there is a JNA library version 5.5.0, which apparently does not have the necessary files for the arm64 architecture processor\r\nRaising the sbt version to 1.6.2 helped","title":"java.lang.UnsatisfiedLinkError when starting the play project","body":"<p>Found a solution:\nInside sbt 1.4.6 there is a JNA library version 5.5.0, which apparently does not have the necessary files for the arm64 architecture processor\nRaising the sbt version to 1.6.2 helped</p>\n"}],"owner":{"account_id":24365036,"reputation":125,"user_id":18298994,"display_name":"RomanGoltsov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4944,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":71261244,"answer_count":1,"score":5,"last_activity_date":1645765113,"creation_date":1645710454,"question_id":71252965,"body_markdown":"Im trying to start a project on play in IntelliJ IDEA Ultimate MacBook Pro on M1, I get the following error in the console:\r\n\r\n&gt; [error] java.lang.UnsatisfiedLinkError:\r\n&gt; /Users/username/Library/Caches/JNA/temp/jna2878211531869408345.tmp:\r\n&gt; dlopen(/Users/username/Library/Caches/JNA/temp/jna2878211531869408345.tmp,\r\n&gt; 0x0001): tried:\r\n&gt; &#39;/Users/username/Library/Caches/JNA/temp/jna2878211531869408345.tmp&#39;\r\n&gt; (fat file, but missing compatible architecture (have &#39;i386,x86_64&#39;,\r\n&gt; need &#39;arm64e&#39;)), &#39;/usr/lib/jna2878211531869408345.tmp&#39; (no such file)\r\n\r\nI tried to reinstall the JDK on the arm architecture after deleting all the JDKs, it did not help\r\n\r\nWhat needs to be tricked to fix this?\r\n\r\nFull StackTrace:\r\n\r\n    [error] java.lang.UnsatisfiedLinkError: /Users/romangoltsov/Library/Caches/JNA/temp/jna2878211531869408345.tmp: dlopen(/Users/romangoltsov/Library/Caches/JNA/temp/jna2878211531869408345.tmp, 0x0001): tried: &#39;/Users/romangoltsov/Library/Caches/JNA/temp/jna2878211531869408345.tmp&#39; (fat file, but missing compatible architecture (have &#39;i386,x86_64&#39;, need &#39;arm64e&#39;)), &#39;/usr/lib/jna2878211531869408345.tmp&#39; (no such file)\r\n        [error] \tat java.base/java.lang.ClassLoader$NativeLibrary.load0(Native Method)\r\n        [error] \tat java.base/java.lang.ClassLoader$NativeLibrary.load(ClassLoader.java:2442)\r\n        [error] \tat java.base/java.lang.ClassLoader$NativeLibrary.loadLibrary(ClassLoader.java:2498)\r\n        [error] \tat java.base/java.lang.ClassLoader.loadLibrary0(ClassLoader.java:2694)\r\n        [error] \tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2627)\r\n        [error] \tat java.base/java.lang.Runtime.load0(Runtime.java:768)\r\n        [error] \tat java.base/java.lang.System.load(System.java:1837)\r\n        [error] \tat com.sun.jna.Native.loadNativeDispatchLibraryFromClasspath(Native.java:1018)\r\n        [error] \tat com.sun.jna.Native.loadNativeDispatchLibrary(Native.java:988)\r\n        [error] \tat com.sun.jna.Native.&lt;clinit&gt;(Native.java:195)\r\n        [error] \tat io.methvin.watchservice.jna.CarbonAPI.&lt;clinit&gt;(CarbonAPI.java:19)\r\n        [error] \tat io.methvin.watchservice.jna.CFStringRef.toCFString(CFStringRef.java:23)\r\n        [error] \tat io.methvin.watchservice.MacOSXListeningWatchService.register(MacOSXListeningWatchService.java:101)\r\n        [error] \tat io.methvin.watchservice.WatchablePath.register(WatchablePath.java:50)\r\n        [error] \tat io.methvin.watcher.DirectoryWatcher.register(DirectoryWatcher.java:352)\r\n        [error] \tat io.methvin.watcher.DirectoryWatcher.registerAll(DirectoryWatcher.java:317)\r\n        [error] \tat io.methvin.watcher.DirectoryWatcher.&lt;init&gt;(DirectoryWatcher.java:167)\r\n        [error] \tat io.methvin.watcher.DirectoryWatcher$Builder.build(DirectoryWatcher.java:118)\r\n        [error] \tat play.dev.filewatch.DefaultFileWatchService.watch(DefaultFileWatchService.scala:38)\r\n        [error] \tat play.dev.filewatch.FileWatchService$$anon$1.watch(FileWatchService.scala:87)\r\n        [error] \tat play.runsupport.Reloader.&lt;init&gt;(Reloader.scala:414)\r\n        [error] \tat play.runsupport.Reloader$.reloader$lzycompute$1(Reloader.scala:259)\r\n        [error] \tat play.runsupport.Reloader$.play$runsupport$Reloader$$reloader$1(Reloader.scala:251)\r\n        [error] \tat play.runsupport.Reloader$.startDevMode(Reloader.scala:271)\r\n        [error] \tat play.sbt.run.PlayRun$.devModeServer$lzycompute$1(PlayRun.scala:99)\r\n        [error] \tat play.sbt.run.PlayRun$.devModeServer$1(PlayRun.scala:83)\r\n        [error] \tat play.sbt.run.PlayRun$.$anonfun$playRunTask$3(PlayRun.scala:106)\r\n        [error] \tat play.sbt.run.PlayRun$.$anonfun$playRunTask$3$adapted(PlayRun.scala:68)\r\n        [error] \tat scala.Function1.$anonfun$compose$1(Function1.scala:49)\r\n        [error] stack trace is suppressed; run &#39;last Compile / run&#39; for the full output\r\n        [error] (Compile / run) java.lang.UnsatisfiedLinkError: /Users/romangoltsov/Library/Caches/JNA/temp/jna2878211531869408345.tmp: dlopen(/Users/romangoltsov/Library/Caches/JNA/temp/jna2878211531869408345.tmp, 0x0001): tried: &#39;/Users/romangoltsov/Library/Caches/JNA/temp/jna2878211531869408345.tmp&#39; (fat file, but missing compatible architecture (have &#39;i386,x86_64&#39;, need &#39;arm64e&#39;)), &#39;/usr/lib/jna2878211531869408345.tmp&#39; (no such file)","title":"java.lang.UnsatisfiedLinkError when starting the play project","body":"<p>Im trying to start a project on play in IntelliJ IDEA Ultimate MacBook Pro on M1, I get the following error in the console:</p>\n<blockquote>\n<p>[error] java.lang.UnsatisfiedLinkError:\n/Users/username/Library/Caches/JNA/temp/jna2878211531869408345.tmp:\ndlopen(/Users/username/Library/Caches/JNA/temp/jna2878211531869408345.tmp,\n0x0001): tried:\n'/Users/username/Library/Caches/JNA/temp/jna2878211531869408345.tmp'\n(fat file, but missing compatible architecture (have 'i386,x86_64',\nneed 'arm64e')), '/usr/lib/jna2878211531869408345.tmp' (no such file)</p>\n</blockquote>\n<p>I tried to reinstall the JDK on the arm architecture after deleting all the JDKs, it did not help</p>\n<p>What needs to be tricked to fix this?</p>\n<p>Full StackTrace:</p>\n<pre><code>[error] java.lang.UnsatisfiedLinkError: /Users/romangoltsov/Library/Caches/JNA/temp/jna2878211531869408345.tmp: dlopen(/Users/romangoltsov/Library/Caches/JNA/temp/jna2878211531869408345.tmp, 0x0001): tried: '/Users/romangoltsov/Library/Caches/JNA/temp/jna2878211531869408345.tmp' (fat file, but missing compatible architecture (have 'i386,x86_64', need 'arm64e')), '/usr/lib/jna2878211531869408345.tmp' (no such file)\n    [error]     at java.base/java.lang.ClassLoader$NativeLibrary.load0(Native Method)\n    [error]     at java.base/java.lang.ClassLoader$NativeLibrary.load(ClassLoader.java:2442)\n    [error]     at java.base/java.lang.ClassLoader$NativeLibrary.loadLibrary(ClassLoader.java:2498)\n    [error]     at java.base/java.lang.ClassLoader.loadLibrary0(ClassLoader.java:2694)\n    [error]     at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2627)\n    [error]     at java.base/java.lang.Runtime.load0(Runtime.java:768)\n    [error]     at java.base/java.lang.System.load(System.java:1837)\n    [error]     at com.sun.jna.Native.loadNativeDispatchLibraryFromClasspath(Native.java:1018)\n    [error]     at com.sun.jna.Native.loadNativeDispatchLibrary(Native.java:988)\n    [error]     at com.sun.jna.Native.&lt;clinit&gt;(Native.java:195)\n    [error]     at io.methvin.watchservice.jna.CarbonAPI.&lt;clinit&gt;(CarbonAPI.java:19)\n    [error]     at io.methvin.watchservice.jna.CFStringRef.toCFString(CFStringRef.java:23)\n    [error]     at io.methvin.watchservice.MacOSXListeningWatchService.register(MacOSXListeningWatchService.java:101)\n    [error]     at io.methvin.watchservice.WatchablePath.register(WatchablePath.java:50)\n    [error]     at io.methvin.watcher.DirectoryWatcher.register(DirectoryWatcher.java:352)\n    [error]     at io.methvin.watcher.DirectoryWatcher.registerAll(DirectoryWatcher.java:317)\n    [error]     at io.methvin.watcher.DirectoryWatcher.&lt;init&gt;(DirectoryWatcher.java:167)\n    [error]     at io.methvin.watcher.DirectoryWatcher$Builder.build(DirectoryWatcher.java:118)\n    [error]     at play.dev.filewatch.DefaultFileWatchService.watch(DefaultFileWatchService.scala:38)\n    [error]     at play.dev.filewatch.FileWatchService$$anon$1.watch(FileWatchService.scala:87)\n    [error]     at play.runsupport.Reloader.&lt;init&gt;(Reloader.scala:414)\n    [error]     at play.runsupport.Reloader$.reloader$lzycompute$1(Reloader.scala:259)\n    [error]     at play.runsupport.Reloader$.play$runsupport$Reloader$$reloader$1(Reloader.scala:251)\n    [error]     at play.runsupport.Reloader$.startDevMode(Reloader.scala:271)\n    [error]     at play.sbt.run.PlayRun$.devModeServer$lzycompute$1(PlayRun.scala:99)\n    [error]     at play.sbt.run.PlayRun$.devModeServer$1(PlayRun.scala:83)\n    [error]     at play.sbt.run.PlayRun$.$anonfun$playRunTask$3(PlayRun.scala:106)\n    [error]     at play.sbt.run.PlayRun$.$anonfun$playRunTask$3$adapted(PlayRun.scala:68)\n    [error]     at scala.Function1.$anonfun$compose$1(Function1.scala:49)\n    [error] stack trace is suppressed; run 'last Compile / run' for the full output\n    [error] (Compile / run) java.lang.UnsatisfiedLinkError: /Users/romangoltsov/Library/Caches/JNA/temp/jna2878211531869408345.tmp: dlopen(/Users/romangoltsov/Library/Caches/JNA/temp/jna2878211531869408345.tmp, 0x0001): tried: '/Users/romangoltsov/Library/Caches/JNA/temp/jna2878211531869408345.tmp' (fat file, but missing compatible architecture (have 'i386,x86_64', need 'arm64e')), '/usr/lib/jna2878211531869408345.tmp' (no such file)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","jdbc"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1645696543,"post_id":71245518,"comment_id":125942553,"body_markdown":"any reason to have `application-default.yml` instead of `application.yml`","body":"any reason to have <code>application-default.yml</code> instead of <code>application.yml</code>"},{"owner":{"account_id":13845937,"reputation":373,"user_id":9995087,"display_name":"Kaan Ateşel"},"score":0,"creation_date":1645716392,"post_id":71245518,"comment_id":125950144,"body_markdown":"It was for different builds. `application-default.yml` for local and `application-production.yml` is for prod environment. But renaming to `applicaiton.yml` solved my problem. Than you. Could you post an answer so I can accept the answer pls.","body":"It was for different builds. <code>application-default.yml</code> for local and <code>application-production.yml</code> is for prod environment. But renaming to <code>applicaiton.yml</code> solved my problem. Than you. Could you post an answer so I can accept the answer pls."}],"answers":[{"tags":[],"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645764927,"creation_date":1645764927,"answer_id":71261228,"question_id":71245518,"body_markdown":"You are having database properties in `application-default.yml` which only will be activated when you use &quot;default&quot; spring profile. \r\n\r\nSo, either use &quot;default&quot; spring profile (not maven profile) or move the properties to `application.yml` which will be used by default whether you use any profiles or not. ","title":"Maven not able to find &#39;url&#39; attribute is not specified and no embedded","body":"<p>You are having database properties in <code>application-default.yml</code> which only will be activated when you use &quot;default&quot; spring profile.</p>\n<p>So, either use &quot;default&quot; spring profile (not maven profile) or move the properties to <code>application.yml</code> which will be used by default whether you use any profiles or not.</p>\n"}],"owner":{"account_id":13845937,"reputation":373,"user_id":9995087,"display_name":"Kaan Ateşel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71261228,"answer_count":1,"score":1,"last_activity_date":1645764927,"creation_date":1645661364,"question_id":71245518,"body_markdown":"I have Spring Boot application that I try to connect to my local database. I can run the file as a regular Java file and it connects to the database with no error. However, when I run `mvn clean spring-boot:run` it prints the following output. \r\n\r\n```none\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nFailed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n\r\nReason: Failed to determine a suitable driver class\r\n```\r\n \r\nIn my pom.xml I have\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI checked the Maven dependencies and postgresql-42.2.19.jar is in there.\r\n\r\nIn my application-default.yml I have as \r\n\r\n```yaml\r\nspring:\r\n  datasource:\r\n    driverClassName: org.postgresql.Driver\r\n    url: jdbc:postgresql://localhost:5432/pharmacy\r\n    username: ****\r\n    password: ****\r\n    platform: postgresql\r\n    initialize: false\r\n    continue-on-error: false\r\n```\r\n\r\nThis is suggested by https://www.baeldung.com/spring-boot-failed-to-configure-data-source\r\n\r\n","title":"Maven not able to find &#39;url&#39; attribute is not specified and no embedded","body":"<p>I have Spring Boot application that I try to connect to my local database. I can run the file as a regular Java file and it connects to the database with no error. However, when I run <code>mvn clean spring-boot:run</code> it prints the following output.</p>\n<pre class=\"lang-none prettyprint-override\"><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n</code></pre>\n<p>In my pom.xml I have</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I checked the Maven dependencies and postgresql-42.2.19.jar is in there.</p>\n<p>In my application-default.yml I have as</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  datasource:\n    driverClassName: org.postgresql.Driver\n    url: jdbc:postgresql://localhost:5432/pharmacy\n    username: ****\n    password: ****\n    platform: postgresql\n    initialize: false\n    continue-on-error: false\n</code></pre>\n<p>This is suggested by <a href=\"https://www.baeldung.com/spring-boot-failed-to-configure-data-source\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-failed-to-configure-data-source</a></p>\n"},{"tags":["java","android","android-mediaplayer"],"comments":[{"owner":{"account_id":1790949,"reputation":77601,"user_id":1631379,"accept_rate":80,"display_name":"Maxim Shoustin"},"score":1,"creation_date":1381742820,"post_id":19357036,"comment_id":28680822,"body_markdown":"please post full stack trace","body":"please post full stack trace"},{"owner":{"account_id":7758137,"reputation":1831,"user_id":6059583,"accept_rate":62,"display_name":"Jeeva"},"score":0,"creation_date":1531142969,"post_id":19357036,"comment_id":89472191,"body_markdown":"did u fix it???","body":"did u fix it???"},{"owner":{"account_id":1938069,"reputation":1498,"user_id":1745016,"accept_rate":87,"display_name":"keybee"},"score":1,"creation_date":1611412246,"post_id":19357036,"comment_id":116445456,"body_markdown":"This is mostly happening when you call release() multiple time. You should only call release when you no longer need the mediaplayer, and it is good practise to set it&#39;s value to null after that. This way your simple null checks will work. My approach is calling reset when possible, and only release when the whole page is closed","body":"This is mostly happening when you call release() multiple time. You should only call release when you no longer need the mediaplayer, and it is good practise to set it&#39;s value to null after that. This way your simple null checks will work. My approach is calling reset when possible, and only release when the whole page is closed"}],"answers":[{"tags":[],"owner":{"account_id":903328,"reputation":14704,"user_id":938845,"accept_rate":50,"display_name":"Siddhpura Amit"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1381744857,"creation_date":1381742878,"answer_id":19357174,"question_id":19357036,"body_markdown":"As android docs suggest that if mp is if has not been initialized at that time java.lang.IllegalStateException will be thrown so you have to initilize first or you have to write\r\n\r\n    \r\n\r\ncheck out the docs http://developer.android.com/reference/android/media/MediaPlayer.html#isPlaying()\r\n\r\n\r\ntry like this\r\n          \r\n     mp=MediaPlayer.create(context, name);\r\n        \r\n         try {\r\n\r\n        if (mp.isPlaying()) {\r\n            mp.stop();\r\n            mp.release();\r\n            mp=MediaPlayer.create(context, name);\r\n        }\r\n        \r\n\r\n       \r\n        mp.start();\r\n    } catch (Exception e) {\r\n    }","title":"java.lang.IllegalStateException in MediaPlayer.isplaying() method","body":"<p>As android docs suggest that if mp is if has not been initialized at that time java.lang.IllegalStateException will be thrown so you have to initilize first or you have to write</p>\n\n<p>check out the docs <a href=\"http://developer.android.com/reference/android/media/MediaPlayer.html#isPlaying()\" rel=\"noreferrer\">http://developer.android.com/reference/android/media/MediaPlayer.html#isPlaying()</a></p>\n\n<p>try like this</p>\n\n<pre><code> mp=MediaPlayer.create(context, name);\n\n     try {\n\n    if (mp.isPlaying()) {\n        mp.stop();\n        mp.release();\n        mp=MediaPlayer.create(context, name);\n    }\n\n\n\n    mp.start();\n} catch (Exception e) {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3410843,"reputation":538,"user_id":2860789,"accept_rate":12,"display_name":"Mester Hassan"},"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1381748545,"creation_date":1381747176,"answer_id":19358400,"question_id":19357036,"body_markdown":"Try changing `mp.release()` into `reset()`. that could help you.","title":"java.lang.IllegalStateException in MediaPlayer.isplaying() method","body":"<p>Try changing <code>mp.release()</code> into <code>reset()</code>. that could help you.</p>\n"},{"tags":[],"owner":{"account_id":10286208,"reputation":996,"user_id":7589424,"accept_rate":60,"display_name":"Sagar Jethva"},"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1500463408,"creation_date":1500463408,"answer_id":45189098,"question_id":19357036,"body_markdown":"use runOnUiThread for mediaRecorder prepare.\r\n    \r\n    private boolean prepareMediaRecorder() {\r\n\r\n        mediaRecorder = new MediaRecorder();\r\n    \r\n        runOnUiThread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n\r\n                mediaRecorder.reset();\r\n                mediaRecorder.setAudioSource(MediaRecorder.AudioSource.MIC);\r\n\r\n                mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.AMR_NB);\r\n\r\n                mediaRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);\r\n\r\n                mediaRecorder.setOutputFile(filePath);\r\n\r\n                try {\r\n                    mediaRecorder.prepare();\r\n                } catch (IOException e) {\r\n                    mediaRecorder = null;\r\n                    return;\r\n                }\r\n                mediaRecorder.start();\r\n                recording = true;\r\n            }\r\n        });\r\n\r\n        return true;\r\n    }","title":"java.lang.IllegalStateException in MediaPlayer.isplaying() method","body":"<p>use runOnUiThread for mediaRecorder prepare.</p>\n\n<pre><code>private boolean prepareMediaRecorder() {\n\n    mediaRecorder = new MediaRecorder();\n\n    runOnUiThread(new Runnable() {\n        @Override\n        public void run() {\n\n            mediaRecorder.reset();\n            mediaRecorder.setAudioSource(MediaRecorder.AudioSource.MIC);\n\n            mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.AMR_NB);\n\n            mediaRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);\n\n            mediaRecorder.setOutputFile(filePath);\n\n            try {\n                mediaRecorder.prepare();\n            } catch (IOException e) {\n                mediaRecorder = null;\n                return;\n            }\n            mediaRecorder.start();\n            recording = true;\n        }\n    });\n\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20058741,"reputation":309,"user_id":14705907,"display_name":"hardkgosai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619093992,"creation_date":1619093179,"answer_id":67212991,"question_id":19357036,"body_markdown":"Ok i am here with my solution, hope it will help others.\r\n\r\n**(i) if you are using videoView and mediaPlayer.isPlaying() (isNative) error occurs\r\n    on activity stop**\r\n\r\nAdd this onStop() method:\r\n   \r\n        if (videoView != null &amp;&amp; videoView.isPlaying()) {\r\n            videoView.pause();\r\n            videoView.stopPlayback();\r\n        }\r\n\r\n***Note: Don&#39;t use mediaPlayer.stop() or mediaPlayer.release() here when you work with videoView, it will throw IllegalException***\r\n\r\n**(ii) If you are using mediaPlayer to play only audio**\r\n\r\nAdd this onStop() method:\r\n\r\n       try {\r\n            if (mediaPlayer != null &amp;&amp; mediaPlayer.isPlaying()) {\r\n                mediaPlayer.stop();\r\n                mediaPlayer.release();\r\n                mediaPlayer = null;\r\n            }\r\n        } catch (IllegalStateException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n***Note: This is only for those who get error when your activity is in stop or in resume state.***","title":"java.lang.IllegalStateException in MediaPlayer.isplaying() method","body":"<p>Ok i am here with my solution, hope it will help others.</p>\n<p><strong>(i) if you are using videoView and mediaPlayer.isPlaying() (isNative) error occurs\non activity stop</strong></p>\n<p>Add this onStop() method:</p>\n<pre><code>    if (videoView != null &amp;&amp; videoView.isPlaying()) {\n        videoView.pause();\n        videoView.stopPlayback();\n    }\n</code></pre>\n<p><em><strong>Note: Don't use mediaPlayer.stop() or mediaPlayer.release() here when you work with videoView, it will throw IllegalException</strong></em></p>\n<p><strong>(ii) If you are using mediaPlayer to play only audio</strong></p>\n<p>Add this onStop() method:</p>\n<pre><code>   try {\n        if (mediaPlayer != null &amp;&amp; mediaPlayer.isPlaying()) {\n            mediaPlayer.stop();\n            mediaPlayer.release();\n            mediaPlayer = null;\n        }\n    } catch (IllegalStateException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p><em><strong>Note: This is only for those who get error when your activity is in stop or in resume state.</strong></em></p>\n"},{"tags":[],"owner":{"account_id":9799882,"reputation":150,"user_id":7261565,"accept_rate":80,"display_name":"Abhinav Upadhyay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645764268,"creation_date":1645764268,"answer_id":71261158,"question_id":19357036,"body_markdown":"This could happen if you are trying to stop audio when the player hasn&#39;t started playing yet. Hence the `IllegalStateException`\r\n\r\nSee if you can prevent that. You can also putting a try catch around the `isPlaying()`\r\n\r\n    fun isPlaying(): Boolean {\r\n        return try {\r\n            mediaPlayer?.isPlaying == true\r\n        } catch (illegalStateException: IllegalStateException) {\r\n            DebugLog.d(TAG, illegalStateException.message)\r\n            DebugLog.d(TAG, illegalStateException.stackTraceToString())\r\n            false\r\n        }\r\n    }","title":"java.lang.IllegalStateException in MediaPlayer.isplaying() method","body":"<p>This could happen if you are trying to stop audio when the player hasn't started playing yet. Hence the <code>IllegalStateException</code></p>\n<p>See if you can prevent that. You can also putting a try catch around the <code>isPlaying()</code></p>\n<pre><code>fun isPlaying(): Boolean {\n    return try {\n        mediaPlayer?.isPlaying == true\n    } catch (illegalStateException: IllegalStateException) {\n        DebugLog.d(TAG, illegalStateException.message)\n        DebugLog.d(TAG, illegalStateException.stackTraceToString())\n        false\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2616862,"reputation":509,"user_id":2265757,"accept_rate":47,"display_name":"Sydroid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41538,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"answer_count":5,"score":26,"last_activity_date":1645764268,"creation_date":1381742363,"question_id":19357036,"body_markdown":"\r\n    public static MediaPlayer mp=null;\r\n    public static void playGeneric(int name, final ImageButton button,final ImageButton pervious,Context context) {\r\n        button.setEnabled(false);\r\n    button.setClickable(false);\r\n    pervious.setEnabled(false);\r\n    pervious.setClickable(false);\r\n        try{\r\n            if(mp != null &amp;&amp; mp.isPlaying())\r\n            {\r\n                mp.stop();\r\n                mp.release();\r\n                mp = null;\r\n               mp=MediaPlayer.create(context, name);\r\n               mp.start();\r\n            }\r\n            else\r\n            {\r\n                mp = MediaPlayer.create(context, name);\r\n                mp.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\r\n                    @Override\r\n                    public void onPrepared(MediaPlayer arg0) {\r\n                        //mp.prepare();\r\n                        mp.start();\r\n                     \r\n                    }\r\n\r\n                });\r\n            mp.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\r\n\r\n                @Override\r\n                public void onCompletion(MediaPlayer mp) {\r\n                    // TODO Auto-generated method stub\r\n                    mp.release();\r\n                    System.out.println(&quot;Object released&quot;);\r\n                    button.setEnabled(true);\r\n                    button.setClickable(true);\r\n                    pervious.setEnabled(true);\r\n                    pervious.setClickable(true);\r\n                }\r\n            });\r\n            }\r\n           \r\n        } catch (IllegalStateException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }catch (SecurityException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n            e.getMessage();\r\n        } catch (NullPointerException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n            e.getMessage();\r\n        }\r\n    \r\n    }\r\n\r\ngive me java.lang.IllegalStateException on mp.isplaying() method.\r\n\r\nI want to stop music if it&#39;s playing and play another song one after another.\r\n\r\nlogcat:\r\n\r\n    10-14 15:12:05.474: E/MediaPlayer(15411): prepareAsync called in state 8\r\n    10-14 15:12:05.474: W/System.err(15411): java.lang.IllegalStateException\r\n    10-14 15:12:05.474: W/System.err(15411): \tat android.media.MediaPlayer.prepare(Native Method)\r\n    10-14 15:12:05.474: W/System.err(15411): \tat com.rogerscenter.LearnReadWriteSpell.Utility.Music.playGeneric(Music.java:93)\r\n    10-14 15:12:05.474: W/System.err(15411): \tat com.rogerscenter.LearnReadWriteSpell.LetterCategory.Letter_Lesson1_activity.onCreate(Letter_Lesson1_activity.java:140)\r\n    10-14 15:12:05.474: W/System.err(15411): \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\r\n    10-14 15:12:05.474: W/System.err(15411): \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1586)\r\n    10-14 15:12:05.474: W/System.err(15411): \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1638)\r\n    10-14 15:12:05.474: W/System.err(15411): \tat android.app.ActivityThread.access$1500(ActivityThread.java:117)\r\n    10-14 15:12:05.474: W/System.err(15411): \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:928)\r\n    10-14 15:12:05.484: W/System.err(15411): \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n    10-14 15:12:05.484: W/System.err(15411): \tat android.os.Looper.loop(Looper.java:123)\r\n    10-14 15:12:05.484: W/System.err(15411): \tat android.app.ActivityThread.main(ActivityThread.java:3647)\r\n    10-14 15:12:05.484: W/System.err(15411): \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n    10-14 15:12:05.484: W/System.err(15411): \tat java.lang.reflect.Method.invoke(Method.java:507)\r\n    10-14 15:12:05.484: W/System.err(15411): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\r\n    10-14 15:12:05.484: W/System.err(15411): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\r\n    10-14 15:12:05.484: W/System.err(15411): \tat dalvik.system.NativeStart.main(Native Method)\r\n\r\n\r\n","title":"java.lang.IllegalStateException in MediaPlayer.isplaying() method","body":"<pre><code>public static MediaPlayer mp=null;\npublic static void playGeneric(int name, final ImageButton button,final ImageButton pervious,Context context) {\n    button.setEnabled(false);\nbutton.setClickable(false);\npervious.setEnabled(false);\npervious.setClickable(false);\n    try{\n        if(mp != null &amp;&amp; mp.isPlaying())\n        {\n            mp.stop();\n            mp.release();\n            mp = null;\n           mp=MediaPlayer.create(context, name);\n           mp.start();\n        }\n        else\n        {\n            mp = MediaPlayer.create(context, name);\n            mp.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\n                @Override\n                public void onPrepared(MediaPlayer arg0) {\n                    //mp.prepare();\n                    mp.start();\n\n                }\n\n            });\n        mp.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n\n            @Override\n            public void onCompletion(MediaPlayer mp) {\n                // TODO Auto-generated method stub\n                mp.release();\n                System.out.println(\"Object released\");\n                button.setEnabled(true);\n                button.setClickable(true);\n                pervious.setEnabled(true);\n                pervious.setClickable(true);\n            }\n        });\n        }\n\n    } catch (IllegalStateException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }catch (SecurityException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n        e.getMessage();\n    } catch (NullPointerException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n        e.getMessage();\n    }\n\n}\n</code></pre>\n\n<p>give me java.lang.IllegalStateException on mp.isplaying() method.</p>\n\n<p>I want to stop music if it's playing and play another song one after another.</p>\n\n<p>logcat:</p>\n\n<pre><code>10-14 15:12:05.474: E/MediaPlayer(15411): prepareAsync called in state 8\n10-14 15:12:05.474: W/System.err(15411): java.lang.IllegalStateException\n10-14 15:12:05.474: W/System.err(15411):    at android.media.MediaPlayer.prepare(Native Method)\n10-14 15:12:05.474: W/System.err(15411):    at com.rogerscenter.LearnReadWriteSpell.Utility.Music.playGeneric(Music.java:93)\n10-14 15:12:05.474: W/System.err(15411):    at com.rogerscenter.LearnReadWriteSpell.LetterCategory.Letter_Lesson1_activity.onCreate(Letter_Lesson1_activity.java:140)\n10-14 15:12:05.474: W/System.err(15411):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\n10-14 15:12:05.474: W/System.err(15411):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1586)\n10-14 15:12:05.474: W/System.err(15411):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1638)\n10-14 15:12:05.474: W/System.err(15411):    at android.app.ActivityThread.access$1500(ActivityThread.java:117)\n10-14 15:12:05.474: W/System.err(15411):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:928)\n10-14 15:12:05.484: W/System.err(15411):    at android.os.Handler.dispatchMessage(Handler.java:99)\n10-14 15:12:05.484: W/System.err(15411):    at android.os.Looper.loop(Looper.java:123)\n10-14 15:12:05.484: W/System.err(15411):    at android.app.ActivityThread.main(ActivityThread.java:3647)\n10-14 15:12:05.484: W/System.err(15411):    at java.lang.reflect.Method.invokeNative(Native Method)\n10-14 15:12:05.484: W/System.err(15411):    at java.lang.reflect.Method.invoke(Method.java:507)\n10-14 15:12:05.484: W/System.err(15411):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\n10-14 15:12:05.484: W/System.err(15411):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\n10-14 15:12:05.484: W/System.err(15411):    at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n"},{"tags":["java","scala","maven","apache-spark","log4j"],"owner":{"display_name":"user17485523"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1645762976,"creation_date":1645756391,"question_id":71260361,"body_markdown":"Have a maven project which has spark-core and spark-hive dependencies. Spark-core has dependency\r\n\r\n    org.slf4j:slf4j-log4j12:jar:1.7.16:compile\r\n    \r\nand spark-hive has \r\n\r\n    log4j:apache-log4j-extras:jar:1.2.17:compile\r\n\r\nAlso there is log4j dependency in pom file of version 1.2.17.\r\nIs there any way to get rid of trace of first version of log4j and replace it with 2.17.1?\r\nHere are the dependencies in pom file:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\r\n                &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\r\n                &lt;version&gt;${scala.version}&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\r\n                &lt;artifactId&gt;scala-reflect&lt;/artifactId&gt;\r\n                &lt;version&gt;${scala.version}&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spark-core_${scala.binary.version}&lt;/artifactId&gt;\r\n                &lt;version&gt;${spark.version}&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spark-sql_${scala.binary.version}&lt;/artifactId&gt;\r\n                &lt;version&gt;${spark.version}&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spark-hive_${scala.binary.version}&lt;/artifactId&gt;\r\n                &lt;version&gt;${spark.version}&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;stax&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;stax-api&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spark-mllib_${scala.binary.version}&lt;/artifactId&gt;\r\n                &lt;version&gt;${spark.version}&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;ml.dmlc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;xgboost4j-spark&lt;/artifactId&gt;\r\n                &lt;version&gt;0.81&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.17&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.typesafe&lt;/groupId&gt;\r\n                &lt;artifactId&gt;config&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.2&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.11&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n                &lt;version&gt;1.9.5&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.scalatest&lt;/groupId&gt;\r\n                &lt;artifactId&gt;scalatest_${scala.binary.version}&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.5&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.scalamock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;scalamock-scalatest-support_${scala.binary.version}&lt;/artifactId&gt;\r\n                &lt;version&gt;3.6.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-scala_${scala.binary.version}&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.9&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.holdenkarau&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spark-testing-base_2.11&lt;/artifactId&gt;\r\n                &lt;version&gt;${spark.version}_0.11.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;asm&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.amazon.deequ&lt;/groupId&gt;\r\n                &lt;artifactId&gt;deequ&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.0-rc4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                &lt;artifactId&gt;sqs&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n                &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n                &lt;version&gt;4.5.9&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n                &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\r\n                &lt;version&gt;4.4.9&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\n\r\n","title":"Apache spark-core and spark-hive are using log4j 1.2.17. How can I upgrade them to log4j 2.17.1?","body":"<p>Have a maven project which has spark-core and spark-hive dependencies. Spark-core has dependency</p>\n<pre><code>org.slf4j:slf4j-log4j12:jar:1.7.16:compile\n</code></pre>\n<p>and spark-hive has</p>\n<pre><code>log4j:apache-log4j-extras:jar:1.2.17:compile\n</code></pre>\n<p>Also there is log4j dependency in pom file of version 1.2.17.\nIs there any way to get rid of trace of first version of log4j and replace it with 2.17.1?\nHere are the dependencies in pom file:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\n            &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\n            &lt;version&gt;${scala.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\n            &lt;artifactId&gt;scala-reflect&lt;/artifactId&gt;\n            &lt;version&gt;${scala.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;${spark.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-sql_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;${spark.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-hive_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;${spark.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;stax&lt;/groupId&gt;\n                    &lt;artifactId&gt;stax-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-mllib_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;${spark.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ml.dmlc&lt;/groupId&gt;\n            &lt;artifactId&gt;xgboost4j-spark&lt;/artifactId&gt;\n            &lt;version&gt;0.81&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.typesafe&lt;/groupId&gt;\n            &lt;artifactId&gt;config&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.11&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;1.9.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.scalatest&lt;/groupId&gt;\n            &lt;artifactId&gt;scalatest_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;3.0.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.scalamock&lt;/groupId&gt;\n            &lt;artifactId&gt;scalamock-scalatest-support_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;3.6.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-scala_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;1.0.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.holdenkarau&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-testing-base_2.11&lt;/artifactId&gt;\n            &lt;version&gt;${spark.version}_0.11.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;asm&lt;/groupId&gt;\n                    &lt;artifactId&gt;asm&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazon.deequ&lt;/groupId&gt;\n            &lt;artifactId&gt;deequ&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0-rc4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;sqs&lt;/artifactId&gt;\n            &lt;version&gt;2.9.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;4.5.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\n            &lt;version&gt;4.4.9&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","soap","java-8","jax-ws"],"answers":[{"tags":[],"owner":{"account_id":2576749,"reputation":2384,"user_id":2234250,"accept_rate":65,"display_name":"Tung Vo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645762652,"creation_date":1645762652,"answer_id":71260989,"question_id":71231080,"body_markdown":"I have fixed this issues by open `cmd command prompt` as Administration right","title":"JAX-WS error while writing package-info: could not create parent directories","body":"<p>I have fixed this issues by open <code>cmd command prompt</code> as Administration right</p>\n"}],"owner":{"account_id":2576749,"reputation":2384,"user_id":2234250,"accept_rate":65,"display_name":"Tung Vo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":484,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71260989,"answer_count":1,"score":1,"last_activity_date":1645762652,"creation_date":1645587156,"question_id":71231080,"body_markdown":"I am trying using `wsimport` to generate SOAP webservice from WSDL file\r\nMy OS is Window10, when i run cmd command \r\n\r\n&gt; C:\\Program Files\\Java\\jdk1.8.0_271\\bin&gt;wsimport -s C:\\test\\example\\soap -p com.lordofthering.jaxws.server.topdown C:\\test\\gandalf.wsdl\r\n\r\nI get error\r\n\r\n&gt; ...\\package-info.java:1: error: error while writing package-info: could not create parent directories\r\n@javax.xml.bind.annotation.XmlSchema(namespace = &quot;urn:somethingfunny:types&quot;, elementFormDefault = javax.xml.bind.annotation.XmlNsForm.QUALIFIED)\r\n^\r\n1 error\r\ncompilation failed, errors should have been reported\r\n\r\nI to fix this issue","title":"JAX-WS error while writing package-info: could not create parent directories","body":"<p>I am trying using <code>wsimport</code> to generate SOAP webservice from WSDL file\nMy OS is Window10, when i run cmd command</p>\n<blockquote>\n<p>C:\\Program Files\\Java\\jdk1.8.0_271\\bin&gt;wsimport -s C:\\test\\example\\soap -p com.lordofthering.jaxws.server.topdown C:\\test\\gandalf.wsdl</p>\n</blockquote>\n<p>I get error</p>\n<blockquote>\n<p>...\\package-info.java:1: error: error while writing package-info: could not create parent directories\n@javax.xml.bind.annotation.XmlSchema(namespace = &quot;urn:somethingfunny:types&quot;, elementFormDefault = javax.xml.bind.annotation.XmlNsForm.QUALIFIED)\n^\n1 error\ncompilation failed, errors should have been reported</p>\n</blockquote>\n<p>I to fix this issue</p>\n"},{"tags":["java","string","utf-8","encode"],"comments":[{"owner":{"account_id":3068449,"reputation":2571,"user_id":2599657,"accept_rate":60,"display_name":"sashok_bg"},"score":0,"creation_date":1454920154,"post_id":35264002,"comment_id":58241866,"body_markdown":"This might help http://www.joelonsoftware.com/articles/Unicode.html","body":"This might help <a href=\"http://www.joelonsoftware.com/articles/Unicode.html\" rel=\"nofollow noreferrer\">joelonsoftware.com/articles/Unicode.html</a>"},{"owner":{"account_id":4891569,"reputation":2250,"user_id":3942569,"accept_rate":100,"display_name":"mmuzahid"},"score":0,"creation_date":1645762507,"post_id":35264002,"comment_id":125962373,"body_markdown":"@Yesyoor , Updated but you can propose or EDIT. Thanks in advanced","body":"@Yesyoor , Updated but you can propose or EDIT. Thanks in advanced"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1454923218,"creation_date":1454915881,"answer_id":35264189,"question_id":35264002,"body_markdown":"You should separate this into two problems:\r\n\r\n- Converting the string into a byte array by parsing the binary values\r\n- Converting the byte array back into a string using UTF-8\r\n\r\nThe latter is very straightforward, using `new String(bytes, StandardCharsets.UTF_8)`.\r\n\r\nFor the first part, the tricky part is that `Byte.parseByte` won&#39;t automatically handle a leading 1... so I&#39;d probably parse each 8-bit string into a `short` and then cast to `byte`:\r\n\r\n    public static byte[] binaryToBytes(String input) {\r\n        // TODO: Argument validation (nullity, length)\r\n        byte[] ret = new byte[input.length() / 8];\r\n        for (int i = 0; i &lt; ret.length; i++) {\r\n            String chunk = input.substring(i * 8, i * 8 + 8);\r\n            ret[i] = (byte) Short.parseShort(chunk, 2);\r\n        }\r\n        return ret;\r\n    }","title":"Parse String content to Binary and Then Convert to String in Java","body":"<p>You should separate this into two problems:</p>\n\n<ul>\n<li>Converting the string into a byte array by parsing the binary values</li>\n<li>Converting the byte array back into a string using UTF-8</li>\n</ul>\n\n<p>The latter is very straightforward, using <code>new String(bytes, StandardCharsets.UTF_8)</code>.</p>\n\n<p>For the first part, the tricky part is that <code>Byte.parseByte</code> won't automatically handle a leading 1... so I'd probably parse each 8-bit string into a <code>short</code> and then cast to <code>byte</code>:</p>\n\n<pre><code>public static byte[] binaryToBytes(String input) {\n    // TODO: Argument validation (nullity, length)\n    byte[] ret = new byte[input.length() / 8];\n    for (int i = 0; i &lt; ret.length; i++) {\n        String chunk = input.substring(i * 8, i * 8 + 8);\n        ret[i] = (byte) Short.parseShort(chunk, 2);\n    }\n    return ret;\n}\n</code></pre>\n"}],"owner":{"account_id":4891569,"reputation":2250,"user_id":3942569,"accept_rate":100,"display_name":"mmuzahid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3276,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":35264189,"answer_count":1,"score":0,"last_activity_date":1645762443,"creation_date":1454915043,"question_id":35264002,"body_markdown":"I need to parse String content as binary sequence and convert them to its **UTF-8** equivalent String.\r\n\r\nFor example, **UTF-8** binary equivalents of **B**, **A** and **R** are as follows:&lt;br&gt; \r\n\t\t**B = 01000010 &lt;br&gt;A = 01000001 &lt;br&gt;R = 01010010**\r\n\r\n&lt;br&gt;\r\nNow, I need to convert a string **&quot;010000100100000101010010&quot;** to string **&quot;BAR&quot;**\r\n&lt;br&gt;**i.e.** For above case input string with 24 characters are divided into three equal parts(8 character in each part) and translated to its **UTF-8** equivalent as a String value.\r\n\r\nSample Code:\r\n\r\n\tpublic static void main(String args[]) {\r\n\t\tString B = &quot;01000010&quot;;\r\n\t\tString A = &quot;01000001&quot;;\r\n\t\tString R = &quot;01010010&quot;;\r\n\t\tString BAR = &quot;010000100100000101010010&quot;;\r\n\r\n\t\tString utfEquiv = toUTF8(BAR);//expecting to get &quot;BAR&quot;\r\n\t\tSystem.out.println(utfEquiv);\r\n\t}\r\n\r\n\tprivate static String toUTF8(String str) {\r\n\t\t// TODO \r\n\t\treturn &quot;&quot;;\r\n\t}\r\nWhat should be the implementation of method **toUTF8(String str){}**","title":"Parse String content to Binary and Then Convert to String in Java","body":"<p>I need to parse String content as binary sequence and convert them to its <strong>UTF-8</strong> equivalent String.</p>\n\n<p>For example, <strong>UTF-8</strong> binary equivalents of <strong>B</strong>, <strong>A</strong> and <strong>R</strong> are as follows:<br> \n        <strong>B = 01000010 <br>A = 01000001 <br>R = 01010010</strong></p>\n\n<p><br>\nNow, I need to convert a string <strong>\"010000100100000101010010\"</strong> to string <strong>\"BAR\"</strong>\n<br><strong>i.e.</strong> For above case input string with 24 characters are divided into three equal parts(8 character in each part) and translated to its <strong>UTF-8</strong> equivalent as a String value.</p>\n\n<p>Sample Code:</p>\n\n<pre><code>public static void main(String args[]) {\n    String B = \"01000010\";\n    String A = \"01000001\";\n    String R = \"01010010\";\n    String BAR = \"010000100100000101010010\";\n\n    String utfEquiv = toUTF8(BAR);//expecting to get \"BAR\"\n    System.out.println(utfEquiv);\n}\n\nprivate static String toUTF8(String str) {\n    // TODO \n    return \"\";\n}\n</code></pre>\n\n<p>What should be the implementation of method <strong>toUTF8(String str){}</strong></p>\n"},{"tags":["java","jsp","tomcat","configuration"],"comments":[{"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"score":1,"creation_date":1645764319,"post_id":71260948,"comment_id":125962656,"body_markdown":"What is the [Charset](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/nio/charset/Charset.html) of your application.  Have u checked [which](https://www.iana.org/assignments/character-sets/character-sets.xhtml) one your app is using.  You want to make sure you use UTF-8 everywhere if possible","body":"What is the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/nio/charset/Charset.html\" rel=\"nofollow noreferrer\">Charset</a> of your application.  Have u checked <a href=\"https://www.iana.org/assignments/character-sets/character-sets.xhtml\" rel=\"nofollow noreferrer\">which</a> one your app is using.  You want to make sure you use UTF-8 everywhere if possible"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1645790395,"post_id":71260948,"comment_id":125969725,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1645825055,"post_id":71260948,"comment_id":125981562,"body_markdown":"Edit this Question to show the source code of both your Java/JSP and the rendered web page. Make as small and simple an example as possible.","body":"Edit this Question to show the source code of both your Java/JSP and the rendered web page. Make as small and simple an example as possible."}],"owner":{"account_id":24372216,"reputation":1,"user_id":18304999,"display_name":"Learner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645762157,"creation_date":1645762157,"question_id":71260948,"body_markdown":"In my web application, Some specific arabic character encoding to different arabic character in overall application. How to find the root cause to solve this issue? ","title":"Arabic Character Encoding Issue","body":"<p>In my web application, Some specific arabic character encoding to different arabic character in overall application. How to find the root cause to solve this issue?</p>\n"},{"tags":["java"],"owner":{"account_id":19532363,"reputation":69,"user_id":14291849,"display_name":"JUMBOTURN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645761204,"creation_date":1645761204,"question_id":71260860,"body_markdown":"&gt; I have two list of data one list contain only id, and second list\r\n&gt; contains all the details of those id, but second list contain many\r\n&gt; other id details that not present in first list, I want to store all\r\n&gt; the id details to create a third list as per list one then after store\r\n&gt; remaining id details. but I tried many time i am not able to store\r\n&gt; remaining id details in third list. Here below my code what I tried to\r\n&gt; solve this issue.\r\n&gt; StoreDragData.java\r\n\r\n    package task;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class StoreDragData {\r\n        private int id;\r\n    \r\n        StoreDragData() {\r\n        }\r\n    \r\n        public StoreDragData(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public List&lt;StoreDragData&gt; demo() {\r\n            List&lt;StoreDragData&gt; ll = new ArrayList&lt;&gt;();\r\n            ll.add(new StoreDragData(6));\r\n            ll.add(new StoreDragData(4));\r\n            ll.add(new StoreDragData(7));\r\n            ll.add(new StoreDragData(1));\r\n            ll.add(new StoreDragData(5));\r\n            ll.add(new StoreDragData(2));\r\n            ll.add(new StoreDragData(3));\r\n    \r\n    \r\n            return ll;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n&gt; ServerList.java\r\n\r\n    package task;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class ServerList {\r\n        private int id;\r\n        private String name;\r\n        private String subject;\r\n    \r\n        ServerList() {\r\n        }\r\n    \r\n        public ServerList(int id, String name, String subject) {\r\n            this.id = id;\r\n            this.name = name;\r\n            this.subject = subject;\r\n        }\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getSubject() {\r\n            return subject;\r\n        }\r\n    \r\n        public void setSubject(String subject) {\r\n            this.subject = subject;\r\n        }\r\n    \r\n    \r\n        public static List&lt;ServerList&gt; addStudentDetails() {\r\n            List&lt;ServerList&gt; lls = new ArrayList&lt;&gt;();\r\n            lls.add(new ServerList(1, &quot;alex&quot;, &quot;Math&quot;));\r\n            lls.add(new ServerList(2, &quot;andrew&quot;, &quot;Physic&quot;));\r\n            lls.add(new ServerList(3, &quot;alok&quot;, &quot;Chemistry&quot;));\r\n            lls.add(new ServerList(4, &quot;Boby&quot;, &quot;Botany&quot;));\r\n            lls.add(new ServerList(5, &quot;Soumya&quot;, &quot;Zoology&quot;));\r\n            lls.add(new ServerList(6, &quot;Rwitik&quot;, &quot;Ornithology&quot;));\r\n            lls.add(new ServerList(7, &quot;Bikash&quot;, &quot;Behavior of Money&quot;));\r\n            lls.add(new ServerList(8, &quot;Sipun&quot;, &quot;Economy&quot;));\r\n            lls.add(new ServerList(9, &quot;Suresh&quot;, &quot;CS&quot;));\r\n    \r\n    \r\n    \r\n            return lls;\r\n        }\r\n    }\r\nBigTask.java\r\n\r\n    package task;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    \r\n    public class Bigtask {\r\n    \r\n        public static void main(String[] args) {\r\n            StoreDragData sdd = new StoreDragData();\r\n            System.out.print(&quot; Student id record&quot;);\r\n            sdd.demo();\r\n            System.out.println(&quot;=========================================&quot;);\r\n            for (StoreDragData st:sdd.demo()){\r\n                System.out.println(st.getId() );\r\n            }\r\n            System.out.println(&quot;=========================================&quot;);\r\n            ServerList std = new ServerList();\r\n            System.out.println(&quot; Student  record details&quot;);\r\n            ServerList.addStudentDetails();\r\n            for (ServerList st : ServerList.addStudentDetails()) {\r\n                System.out.println(st.getId() + &quot; &quot; + st.getName() + &quot; &quot; + st.getSubject());\r\n            }\r\n            System.out.println(&quot;=========================&quot;);\r\n            System.out.println(&quot; Final Result &quot;);\r\n    \r\n            searchData(sdd.demo(), ServerList.addStudentDetails());\r\n            System.out.println(&quot;---------------------------&quot;);\r\n            remainingRecord(std);\r\n        }\r\n    \r\n        static void searchData(List&lt;StoreDragData&gt; userList, List&lt;ServerList&gt; studentList) {\r\n            List&lt;ServerList&gt; finalList = new ArrayList();\r\n            for (int i = 0; i &lt; userList.size(); i++) {\r\n                Integer existIndex = isDataExist(userList.get(i).getId());\r\n                if (existIndex != -1) {\r\n                    finalList.add(studentList.get(existIndex));\r\n                }\r\n            }\r\n    \r\n           /**print final list*/\r\n            for (ServerList st : finalList) {\r\n                System.out.println(st.getId() + &quot; &quot; + st.getName() + &quot; &quot; + st.getSubject());\r\n            }\r\n    \r\n        }\r\n    \r\n        static Integer isDataExist(Integer id) {\r\n            List&lt;ServerList&gt; list = (new ServerList()).addStudentDetails();\r\n \r\n            int index = -1;\r\n            for (int i = 0; i &lt; list.size(); i++) {\r\n                if (list.get(i).getId() == id) {\r\n                    index = i;\r\n                    break;\r\n                }\r\n            }\r\n            return index;\r\n        }\r\n        static ServerList remainingRecord(ServerList std){\r\n            List&lt;ServerList&gt; finalList = (new ServerList()).addStudentDetails();//final list\r\n            //Student details list\r\n            for (ServerList sls : finalList){\r\n                if (!finalList.contains(sls)){\r\n                    System.out.println(&quot;Hai Iam unique&quot;);\r\n                }else{\r\n                    System.out.println(&quot;Hai Iam  duplicate&quot;);\r\n                }\r\n            }\r\n            return std;\r\n        }\r\n        static void search(){}\r\n    \r\n        /**Function for check exist id*/\r\n        public Integer isExistIdInFinalList(Integer id){\r\n            List&lt;ServerList&gt;  findList = (List&lt;ServerList&gt;) new ServerList();\r\n            int index=-1;\r\n            for (int i=0;i&lt; findList.size();i++){\r\n               if(findList.get(i).getId() == id){\r\n                   index =i;\r\n                   break;\r\n               }\r\n            }\r\n            return index;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n&gt; Output of my code is\r\n\r\n     Student id record=========================================\r\n    6\r\n    4\r\n    7\r\n    1\r\n    5\r\n    2\r\n    3\r\n    =========================================\r\n     Student  record details\r\n    1 alex Math\r\n    2 andrew Physic\r\n    3 alok Chemistry\r\n    4 Boby Botany\r\n    5 Soumya Zoology\r\n    6 Rwitik Ornithology\r\n    7 Bikash Behavior of Money\r\n    8 Sipun Economy\r\n    9 Suresh CS\r\n    =========================\r\n     Final Result \r\n    6 Rwitik Ornithology\r\n    4 Boby Botany\r\n    7 Bikash Behavior of Money\r\n    1 alex Math\r\n    5 Soumya Zoology\r\n    2 andrew Physic\r\n    3 alok Chemistry\r\n    ---------------------------\r\n\r\n&gt; I get the result in final list  as per student id list one , but I\r\n&gt; miss the id 7,8,9 details in final list. First I want to store id\r\n&gt; details records as per  list one in final result then store remaining\r\n&gt; items. how can I do it.\r\n\r\n","title":"How to print unique elements after common elements using java","body":"<blockquote>\n<p>I have two list of data one list contain only id, and second list\ncontains all the details of those id, but second list contain many\nother id details that not present in first list, I want to store all\nthe id details to create a third list as per list one then after store\nremaining id details. but I tried many time i am not able to store\nremaining id details in third list. Here below my code what I tried to\nsolve this issue.\nStoreDragData.java</p>\n</blockquote>\n<pre><code>package task;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class StoreDragData {\n    private int id;\n\n    StoreDragData() {\n    }\n\n    public StoreDragData(int id) {\n        this.id = id;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public List&lt;StoreDragData&gt; demo() {\n        List&lt;StoreDragData&gt; ll = new ArrayList&lt;&gt;();\n        ll.add(new StoreDragData(6));\n        ll.add(new StoreDragData(4));\n        ll.add(new StoreDragData(7));\n        ll.add(new StoreDragData(1));\n        ll.add(new StoreDragData(5));\n        ll.add(new StoreDragData(2));\n        ll.add(new StoreDragData(3));\n\n\n        return ll;\n    }\n\n\n}\n</code></pre>\n<blockquote>\n<p>ServerList.java</p>\n</blockquote>\n<pre><code>package task;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class ServerList {\n    private int id;\n    private String name;\n    private String subject;\n\n    ServerList() {\n    }\n\n    public ServerList(int id, String name, String subject) {\n        this.id = id;\n        this.name = name;\n        this.subject = subject;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getSubject() {\n        return subject;\n    }\n\n    public void setSubject(String subject) {\n        this.subject = subject;\n    }\n\n\n    public static List&lt;ServerList&gt; addStudentDetails() {\n        List&lt;ServerList&gt; lls = new ArrayList&lt;&gt;();\n        lls.add(new ServerList(1, &quot;alex&quot;, &quot;Math&quot;));\n        lls.add(new ServerList(2, &quot;andrew&quot;, &quot;Physic&quot;));\n        lls.add(new ServerList(3, &quot;alok&quot;, &quot;Chemistry&quot;));\n        lls.add(new ServerList(4, &quot;Boby&quot;, &quot;Botany&quot;));\n        lls.add(new ServerList(5, &quot;Soumya&quot;, &quot;Zoology&quot;));\n        lls.add(new ServerList(6, &quot;Rwitik&quot;, &quot;Ornithology&quot;));\n        lls.add(new ServerList(7, &quot;Bikash&quot;, &quot;Behavior of Money&quot;));\n        lls.add(new ServerList(8, &quot;Sipun&quot;, &quot;Economy&quot;));\n        lls.add(new ServerList(9, &quot;Suresh&quot;, &quot;CS&quot;));\n\n\n\n        return lls;\n    }\n}\n</code></pre>\n<p>BigTask.java</p>\n<pre><code>package task;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n\npublic class Bigtask {\n\n    public static void main(String[] args) {\n        StoreDragData sdd = new StoreDragData();\n        System.out.print(&quot; Student id record&quot;);\n        sdd.demo();\n        System.out.println(&quot;=========================================&quot;);\n        for (StoreDragData st:sdd.demo()){\n            System.out.println(st.getId() );\n        }\n        System.out.println(&quot;=========================================&quot;);\n        ServerList std = new ServerList();\n        System.out.println(&quot; Student  record details&quot;);\n        ServerList.addStudentDetails();\n        for (ServerList st : ServerList.addStudentDetails()) {\n            System.out.println(st.getId() + &quot; &quot; + st.getName() + &quot; &quot; + st.getSubject());\n        }\n        System.out.println(&quot;=========================&quot;);\n        System.out.println(&quot; Final Result &quot;);\n\n        searchData(sdd.demo(), ServerList.addStudentDetails());\n        System.out.println(&quot;---------------------------&quot;);\n        remainingRecord(std);\n    }\n\n    static void searchData(List&lt;StoreDragData&gt; userList, List&lt;ServerList&gt; studentList) {\n        List&lt;ServerList&gt; finalList = new ArrayList();\n        for (int i = 0; i &lt; userList.size(); i++) {\n            Integer existIndex = isDataExist(userList.get(i).getId());\n            if (existIndex != -1) {\n                finalList.add(studentList.get(existIndex));\n            }\n        }\n\n       /**print final list*/\n        for (ServerList st : finalList) {\n            System.out.println(st.getId() + &quot; &quot; + st.getName() + &quot; &quot; + st.getSubject());\n        }\n\n    }\n\n    static Integer isDataExist(Integer id) {\n        List&lt;ServerList&gt; list = (new ServerList()).addStudentDetails();\n\n        int index = -1;\n        for (int i = 0; i &lt; list.size(); i++) {\n            if (list.get(i).getId() == id) {\n                index = i;\n                break;\n            }\n        }\n        return index;\n    }\n    static ServerList remainingRecord(ServerList std){\n        List&lt;ServerList&gt; finalList = (new ServerList()).addStudentDetails();//final list\n        //Student details list\n        for (ServerList sls : finalList){\n            if (!finalList.contains(sls)){\n                System.out.println(&quot;Hai Iam unique&quot;);\n            }else{\n                System.out.println(&quot;Hai Iam  duplicate&quot;);\n            }\n        }\n        return std;\n    }\n    static void search(){}\n\n    /**Function for check exist id*/\n    public Integer isExistIdInFinalList(Integer id){\n        List&lt;ServerList&gt;  findList = (List&lt;ServerList&gt;) new ServerList();\n        int index=-1;\n        for (int i=0;i&lt; findList.size();i++){\n           if(findList.get(i).getId() == id){\n               index =i;\n               break;\n           }\n        }\n        return index;\n    }\n\n\n}\n</code></pre>\n<blockquote>\n<p>Output of my code is</p>\n</blockquote>\n<pre><code> Student id record=========================================\n6\n4\n7\n1\n5\n2\n3\n=========================================\n Student  record details\n1 alex Math\n2 andrew Physic\n3 alok Chemistry\n4 Boby Botany\n5 Soumya Zoology\n6 Rwitik Ornithology\n7 Bikash Behavior of Money\n8 Sipun Economy\n9 Suresh CS\n=========================\n Final Result \n6 Rwitik Ornithology\n4 Boby Botany\n7 Bikash Behavior of Money\n1 alex Math\n5 Soumya Zoology\n2 andrew Physic\n3 alok Chemistry\n---------------------------\n</code></pre>\n<blockquote>\n<p>I get the result in final list  as per student id list one , but I\nmiss the id 7,8,9 details in final list. First I want to store id\ndetails records as per  list one in final result then store remaining\nitems. how can I do it.</p>\n</blockquote>\n"},{"tags":["java","spring","amazon-web-services","amazon-sqs"],"comments":[{"owner":{"account_id":90365,"reputation":222476,"user_id":248823,"accept_rate":100,"display_name":"Marcin"},"score":0,"creation_date":1645758370,"post_id":71260479,"comment_id":125961720,"body_markdown":"SQS is pulling only. SNS is push/listening. So I&#39;m not sure what do you mean by listenting in SQS? There is no such thing.","body":"SQS is pulling only. SNS is push/listening. So I&#39;m not sure what do you mean by listenting in SQS? There is no such thing."},{"owner":{"account_id":2271101,"reputation":447,"user_id":2971116,"accept_rate":78,"display_name":"Jonas Schreiber"},"score":0,"creation_date":1645761138,"post_id":71260479,"comment_id":125962164,"body_markdown":"So I edited my question to reflect that I&#39;m not actually clear on whether I am polling or listening. But I know there are Lambda triggers possible on AWS when the queue receives messages which seems more pub/sub than polling.","body":"So I edited my question to reflect that I&#39;m not actually clear on whether I am polling or listening. But I know there are Lambda triggers possible on AWS when the queue receives messages which seems more pub/sub than polling."},{"owner":{"account_id":90365,"reputation":222476,"user_id":248823,"accept_rate":100,"display_name":"Marcin"},"score":0,"creation_date":1645761290,"post_id":71260479,"comment_id":125962193,"body_markdown":"Lambda actually pools the SQS behind the scenes as SQS does not support any pub/sub model. You would have to implement custom solution for that in your app, just like lambda is doing in the backend.","body":"Lambda actually pools the SQS behind the scenes as SQS does not support any pub/sub model. You would have to implement custom solution for that in your app, just like lambda is doing in the backend."}],"owner":{"account_id":2271101,"reputation":447,"user_id":2971116,"accept_rate":78,"display_name":"Jonas Schreiber"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1495,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1645760997,"creation_date":1645757431,"question_id":71260479,"body_markdown":"I currently have implemented in a Spring Boot project running on Fargate an SQS listener. \r\n\r\nIt&#39;s possible that under the hood, the SqsAsyncClient which appears to be a listener, is actually polling though.  \r\n\r\nSeparately, as a PoC, on I implemented a Lambda function _trigger_ on a different queue. This would be _invoked_ when there are items in the queue and would post to my service. This seems unnecessarily complex to me but removes a single point of failure if I were to only have one instance of the service. \r\n\r\nI guess my major point of confusion is whether I am needlessly worrying about polling vs listening on a SQS queue and whether it matters. \r\n\r\nCode for example purposes:\r\n\r\n    \r\n    @Component\r\n    @Slf4j\r\n    @RequiredArgsConstructor\r\n    public class SqsListener {\r\n\r\n    private final SqsAsyncClient sqsAsyncClient;\r\n    private final Environment environment;\r\n    private final SmsMessagingServiceImpl smsMessagingService;\r\n\r\n    @PostConstruct\r\n    public void continuousListener() {\r\n        String queueUrl = environment.getProperty(&quot;aws.sqs.sms.queueUrl&quot;);\r\n        Mono&lt;ReceiveMessageResponse&gt; responseMono = receiveMessage(queueUrl);\r\n        Flux&lt;Message&gt; messages = getItems(responseMono);\r\n        messages.subscribe(message -&gt; disposeOfFlux(message, queueUrl));\r\n    }\r\n\r\n    protected Flux&lt;Message&gt; getItems(Mono&lt;ReceiveMessageResponse&gt; responseMono) {\r\n       return responseMono.repeat().retry()\r\n                .map(ReceiveMessageResponse::messages)\r\n                .map(Flux::fromIterable)\r\n                .flatMap(messageFlux -&gt; messageFlux);\r\n\r\n    }\r\n\r\n    protected void disposeOfFlux(Message message, String queueUrl) {\r\n        log.info(&quot;Inbound SMS Received from SQS with MessageId: {}&quot;, message.messageId());\r\n        if (someConditionIsMet()) \r\n            deleteMessage(queueUrl, message);\r\n    }\r\n\r\n    protected Mono&lt;ReceiveMessageResponse&gt; receiveMessage(String queueUrl) {\r\n        return Mono.fromFuture(() -&gt; sqsAsyncClient.receiveMessage(\r\n                        ReceiveMessageRequest.builder()\r\n                                .maxNumberOfMessages(5)\r\n                                .messageAttributeNames(&quot;All&quot;)\r\n                                .queueUrl(queueUrl)\r\n                                .waitTimeSeconds(10)\r\n                                .visibilityTimeout(30)\r\n                                .build()));\r\n    }\r\n\r\n    protected void deleteMessage(String queueUrl, Message message) {\r\n        sqsAsyncClient.deleteMessage(DeleteMessageRequest.builder()\r\n                        .queueUrl(queueUrl)\r\n                        .receiptHandle(message.receiptHandle())\r\n                        .build())\r\n                .thenAccept(deleteMessageResponse -&gt; log.info(&quot;deleted message with handle {}&quot;, message.receiptHandle()));\r\n    }\r\n    }","title":"AWS SQS Listening vs Polling","body":"<p>I currently have implemented in a Spring Boot project running on Fargate an SQS listener.</p>\n<p>It's possible that under the hood, the SqsAsyncClient which appears to be a listener, is actually polling though.</p>\n<p>Separately, as a PoC, on I implemented a Lambda function <em>trigger</em> on a different queue. This would be <em>invoked</em> when there are items in the queue and would post to my service. This seems unnecessarily complex to me but removes a single point of failure if I were to only have one instance of the service.</p>\n<p>I guess my major point of confusion is whether I am needlessly worrying about polling vs listening on a SQS queue and whether it matters.</p>\n<p>Code for example purposes:</p>\n<pre><code>@Component\n@Slf4j\n@RequiredArgsConstructor\npublic class SqsListener {\n\nprivate final SqsAsyncClient sqsAsyncClient;\nprivate final Environment environment;\nprivate final SmsMessagingServiceImpl smsMessagingService;\n\n@PostConstruct\npublic void continuousListener() {\n    String queueUrl = environment.getProperty(&quot;aws.sqs.sms.queueUrl&quot;);\n    Mono&lt;ReceiveMessageResponse&gt; responseMono = receiveMessage(queueUrl);\n    Flux&lt;Message&gt; messages = getItems(responseMono);\n    messages.subscribe(message -&gt; disposeOfFlux(message, queueUrl));\n}\n\nprotected Flux&lt;Message&gt; getItems(Mono&lt;ReceiveMessageResponse&gt; responseMono) {\n   return responseMono.repeat().retry()\n            .map(ReceiveMessageResponse::messages)\n            .map(Flux::fromIterable)\n            .flatMap(messageFlux -&gt; messageFlux);\n\n}\n\nprotected void disposeOfFlux(Message message, String queueUrl) {\n    log.info(&quot;Inbound SMS Received from SQS with MessageId: {}&quot;, message.messageId());\n    if (someConditionIsMet()) \n        deleteMessage(queueUrl, message);\n}\n\nprotected Mono&lt;ReceiveMessageResponse&gt; receiveMessage(String queueUrl) {\n    return Mono.fromFuture(() -&gt; sqsAsyncClient.receiveMessage(\n                    ReceiveMessageRequest.builder()\n                            .maxNumberOfMessages(5)\n                            .messageAttributeNames(&quot;All&quot;)\n                            .queueUrl(queueUrl)\n                            .waitTimeSeconds(10)\n                            .visibilityTimeout(30)\n                            .build()));\n}\n\nprotected void deleteMessage(String queueUrl, Message message) {\n    sqsAsyncClient.deleteMessage(DeleteMessageRequest.builder()\n                    .queueUrl(queueUrl)\n                    .receiptHandle(message.receiptHandle())\n                    .build())\n            .thenAccept(deleteMessageResponse -&gt; log.info(&quot;deleted message with handle {}&quot;, message.receiptHandle()));\n}\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":4946282,"reputation":1350,"user_id":3981539,"display_name":"Kavitha Karunakaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645760940,"creation_date":1645760940,"answer_id":71260824,"question_id":71257702,"body_markdown":"Defining common properties across different profiles in the application.properties file is the correct way to go about it. You can have a setup like this:\r\n\r\n    src\r\n       main\r\n           java\r\n             -- your src files here --\r\n           resources\r\n             application.properties\r\n             application-sample.properties\r\n                  \r\n    pom.xml\r\n\r\n\r\nIf you want your code in GitHub to be useful to others, a clear documentation on how to use it should be given in the README.md file. But the call is left up to you. Remember that any popular Open Source project that has source code out there in GitHub became popular because people could understand the intend behind its creation. It is not always possible to read the code like a poem and understand what the original author intended to do.\r\n\r\nYou can mention \r\n\r\n`spring.profiles.active=yourprofilehere`\r\n\r\ninside your application.properties or you can ask user to create a new profile out of the sample profile provided and then pass the argument \r\n\r\n`--spring.profiles.active=yourprofilehere` \r\n\r\nas command line argument while running the jar built out of your codebase.\r\n\r\nIt would be great if you explain in README.md file that the person who clones will also have to edit pom.xml to include the new profile details if he intend to create a separate profile for himself.\r\n\r\n P.S. I tend to remember what I wrote few weeks ago in my code only because it is immensely commented by myself. Otherwise I would end up asking which idiot wrote that.","title":"What default values should the properties have in application.properties file in Spring","body":"<p>Defining common properties across different profiles in the application.properties file is the correct way to go about it. You can have a setup like this:</p>\n<pre><code>src\n   main\n       java\n         -- your src files here --\n       resources\n         application.properties\n         application-sample.properties\n              \npom.xml\n</code></pre>\n<p>If you want your code in GitHub to be useful to others, a clear documentation on how to use it should be given in the README.md file. But the call is left up to you. Remember that any popular Open Source project that has source code out there in GitHub became popular because people could understand the intend behind its creation. It is not always possible to read the code like a poem and understand what the original author intended to do.</p>\n<p>You can mention</p>\n<p><code>spring.profiles.active=yourprofilehere</code></p>\n<p>inside your application.properties or you can ask user to create a new profile out of the sample profile provided and then pass the argument</p>\n<p><code>--spring.profiles.active=yourprofilehere</code></p>\n<p>as command line argument while running the jar built out of your codebase.</p>\n<p>It would be great if you explain in README.md file that the person who clones will also have to edit pom.xml to include the new profile details if he intend to create a separate profile for himself.</p>\n<p>P.S. I tend to remember what I wrote few weeks ago in my code only because it is immensely commented by myself. Otherwise I would end up asking which idiot wrote that.</p>\n"}],"owner":{"account_id":16572530,"reputation":1,"user_id":16378920,"display_name":"lambakean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645760940,"creation_date":1645733471,"question_id":71257702,"body_markdown":"I am trying to figure out how to manage configuration profiles in my spring project.\r\n\r\nI want to use different `.properties` files for different environments. There&#39;s a specific `application-profileName.properties` file for each environment and an `application.properties` file that is common for each environment. Sensitive data will only be contained in profile specific files.\r\n\r\nI want to create a repository on GitHub. Only the common properties file will be added to the repository. Obviously, other people who want to run my project cloned from GitHub will have to create a properties file for their own profile, but then I need to somehow tell them which properties should be defined in the profile specific properties file. I don&#39;t want to list and describe this in the README, so I&#39;m going to put stubs like this in the main properties file:\r\n```\r\nspring.datasource.url = YOUR_DATASOURCE_URL\r\nspring.datasource.username = YOUR_DATASOURCE_USERNAME\r\nspring.datasource.username = YOUR_DATASOURCE_PASSWORD\r\n```\r\n\r\nThus, the person who cloned my project will be able to replace these values with his own in the main properties file, or create his profile specific properties file and override these values there.\r\n\r\nIs this the right way to deal with the problem, and what are the common practices that apply in this situation?","title":"What default values should the properties have in application.properties file in Spring","body":"<p>I am trying to figure out how to manage configuration profiles in my spring project.</p>\n<p>I want to use different <code>.properties</code> files for different environments. There's a specific <code>application-profileName.properties</code> file for each environment and an <code>application.properties</code> file that is common for each environment. Sensitive data will only be contained in profile specific files.</p>\n<p>I want to create a repository on GitHub. Only the common properties file will be added to the repository. Obviously, other people who want to run my project cloned from GitHub will have to create a properties file for their own profile, but then I need to somehow tell them which properties should be defined in the profile specific properties file. I don't want to list and describe this in the README, so I'm going to put stubs like this in the main properties file:</p>\n<pre><code>spring.datasource.url = YOUR_DATASOURCE_URL\nspring.datasource.username = YOUR_DATASOURCE_USERNAME\nspring.datasource.username = YOUR_DATASOURCE_PASSWORD\n</code></pre>\n<p>Thus, the person who cloned my project will be able to replace these values with his own in the main properties file, or create his profile specific properties file and override these values there.</p>\n<p>Is this the right way to deal with the problem, and what are the common practices that apply in this situation?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":1,"creation_date":1564000448,"post_id":57190818,"comment_id":100891410,"body_markdown":"Override equals and hashcode for the class Personne and use HashSet instead of ArrayList.","body":"Override equals and hashcode for the class Personne and use HashSet instead of ArrayList."}],"answers":[{"tags":[],"owner":{"account_id":11315508,"reputation":11,"user_id":8297374,"display_name":"Akeme U"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564003004,"creation_date":1564003004,"answer_id":57191375,"question_id":57190818,"body_markdown":" private List &lt;String&gt; DistinctValues(ArrayList&lt;Personne&gt; listPersonnes) {\r\n        Set&lt;String&gt; uniqueColumnValues = new HashSet &lt;&gt;(); // hash set contains unique values \r\n        listPersonnes.forEach(item -&gt; uniqueColumnValues.add(item.getIDT_GCT())); // add values to HashSet\r\n        return uniqueColumnValues.stream().collect(Collectors.toList()); \r\n    }","title":"How can I get distinct values of a specific column in arrayList","body":"<p>private List  DistinctValues(ArrayList listPersonnes) {\n        Set uniqueColumnValues = new HashSet &lt;>(); // hash set contains unique values \n        listPersonnes.forEach(item -> uniqueColumnValues.add(item.getIDT_GCT())); // add values to HashSet\n        return uniqueColumnValues.stream().collect(Collectors.toList()); \n    }</p>\n"},{"tags":[],"owner":{"account_id":100231,"reputation":2452,"user_id":270298,"accept_rate":40,"display_name":"skyman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1564003289,"creation_date":1564003289,"answer_id":57191418,"question_id":57190818,"body_markdown":"&gt; The method get(String) is undefined for the type Personne\r\n\r\nyou should use `getIDT_GCT()` instead","title":"How can I get distinct values of a specific column in arrayList","body":"<blockquote>\n  <p>The method get(String) is undefined for the type Personne</p>\n</blockquote>\n\n<p>you should use <code>getIDT_GCT()</code> instead</p>\n"}],"owner":{"account_id":12029574,"reputation":59,"user_id":9219632,"display_name":"Imed "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":599,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57191418,"answer_count":2,"score":1,"last_activity_date":1645760763,"creation_date":1564000328,"question_id":57190818,"body_markdown":"Assume I have this arrayList :\r\n\r\n    ArrayList&lt;Personne&gt; personnes = new ArrayList&lt;Personne&gt;();\r\n            Personne p1 = new Personne(&quot;001590842&quot;,&quot;51862499&quot;, &quot;N5+&quot;, &quot;1&quot;, &quot;20170201&quot;,&quot;0&quot;);\r\n            Personne p2 = new Personne(&quot;001590842&quot;,&quot;51862499&quot;, &quot;X0&quot;, &quot;1&quot;, &quot;20150529&quot;, &quot;1&quot;);\r\n            Personne p3 = new Personne(&quot;001639055&quot;,&quot;51862517&quot;, &quot;G3&quot;, &quot;1&quot;, &quot;20170201&quot;, &quot;2&quot;);\r\n            Personne p4 = new Personne(&quot;001639055&quot;,&quot;51862517&quot;, &quot;G3&quot;, &quot;1&quot;, &quot;20170201&quot;, &quot;2&quot;);\r\n            Personne p5 = new Personne(&quot;001597135&quot;,&quot;51862517&quot;, &quot;G3&quot;, &quot;1&quot;, &quot;20170201&quot;, &quot;2&quot;);\r\n            Personne p6 = new Personne(&quot;001597135&quot;,&quot;51862517&quot;, &quot;G3&quot;, &quot;1&quot;, &quot;20170201&quot;, &quot;2&quot;);\r\n            Personne p7 = new Personne(&quot;002804935&quot;,&quot;00006178&quot;,&quot;G4&quot;,&quot;1&quot;,&quot;19870101&quot;,&quot;1&quot;);\r\n            Personne p8 = new Personne(&quot;002804935&quot;,&quot;00009118&quot;,&quot;X0&quot;,&quot;1&quot;,&quot;19861201&quot;,&quot;1&quot;);\r\n            Personne p9 = new Personne(&quot;002804935&quot;,&quot;00009957&quot;,&quot;N4+&quot;,&quot;1&quot;,&quot;19861229&quot;,&quot;1&quot;);\r\n            Personne p10 = new Personne(&quot;002804935&quot;,&quot;00012970&quot;,&quot;B3++&quot;,&quot;1&quot;,&quot;20100227&quot;,&quot;1&quot;);\r\n            personnes.add(p1);\r\n            personnes.add(p2);\r\n            personnes.add(p3);\r\n            personnes.add(p4);\r\n            personnes.add(p5);\r\n            personnes.add(p6);\r\n            personnes.add(p7);\r\n            personnes.add(p8);\r\n            personnes.add(p9);\r\n            personnes.add(p10);\r\n\r\nThen I want to get only distinct values of the first column. So the nedeed result should be :\r\n\r\n    001590842\r\n    001639055\r\n    002804935\r\n\r\nNote that my Personne class is defined as :\r\n\r\n    public class Personne {\r\n    \t\r\n    \tprivate String IDT_GCT;\r\n    \tprivate String IDC_PSE_PCL;\r\n        private String IDC_CD_NOT;\r\n        private String DA_PRM_CTR_ORDER;\r\n        private String IDT_ETT_PSE;\r\n        private String CD_NOT;\r\n    \r\n        public Personne(String IDT_GCT, String IDC_PSE_PCL, String IDC_CD_NOT,\r\n                        String DA_PRM_CTR_ORDER, String IDT_ETT_PSE, String CD_NOT) {\r\n        \tthis.IDT_GCT = \tIDT_GCT;\r\n            this.IDC_PSE_PCL = IDC_PSE_PCL;\r\n            this.IDC_CD_NOT = IDC_CD_NOT;\r\n            this.DA_PRM_CTR_ORDER = DA_PRM_CTR_ORDER;\r\n            this.IDT_ETT_PSE = IDT_ETT_PSE;\r\n            this.CD_NOT = CD_NOT;\r\n        }\r\n    \r\n        public String getIDC_CD_NOT() {\r\n            return this.IDC_CD_NOT;\r\n        }\r\n    \r\n        public String getIDC_PSE_PCL() {\r\n            return this.IDC_PSE_PCL;\r\n        }\r\n    \r\n        public String getDA_PRM_CTR_ORDER() {\r\n            return this.DA_PRM_CTR_ORDER;\r\n        }\r\n    \r\n        public String getIDT_ETT_PSE() {\r\n            return this.IDT_ETT_PSE;\r\n        }\r\n    \r\n        public String getCD_NOT() {\r\n            return this.CD_NOT;\r\n        }\r\n        \r\n        public String getIDT_GCT() {\r\n            return this.IDT_GCT;\r\n        }\r\n    \r\n    }\r\n    \r\n\r\nSo I need to get distinct values of IDT_GCT variable.\r\n    \r\nSo I created this function to return this :\r\n    \r\n    private static List DistinctValues (ArrayList&lt;Personne&gt; listPersonnes)\r\n    {\r\n    \tList &lt;String&gt; outList = listPersonnes.stream().map(m -&gt; m.get(&quot;IDT_GCT&quot;)).distinct().collect(Collectors.toList());\r\n    \treturn(outList);\r\n    \r\n    }\r\n\r\nBut this returns an error :\r\n\r\n    Multiple markers at this line\r\n    \t- Cannot infer type argument(s) for &lt;R&gt; map(Function&lt;? super T,? extends  \t R&gt;)\r\n    \t- The method get(String) is undefined for the type Personne\r\n    \t- The type List is not generic; it cannot be parameterized with arguments  \t &lt;String&gt;\r\n\r\nHow can I resolve it please ?\r\n\r\n","title":"How can I get distinct values of a specific column in arrayList","body":"<p>Assume I have this arrayList :</p>\n\n<pre><code>ArrayList&lt;Personne&gt; personnes = new ArrayList&lt;Personne&gt;();\n        Personne p1 = new Personne(\"001590842\",\"51862499\", \"N5+\", \"1\", \"20170201\",\"0\");\n        Personne p2 = new Personne(\"001590842\",\"51862499\", \"X0\", \"1\", \"20150529\", \"1\");\n        Personne p3 = new Personne(\"001639055\",\"51862517\", \"G3\", \"1\", \"20170201\", \"2\");\n        Personne p4 = new Personne(\"001639055\",\"51862517\", \"G3\", \"1\", \"20170201\", \"2\");\n        Personne p5 = new Personne(\"001597135\",\"51862517\", \"G3\", \"1\", \"20170201\", \"2\");\n        Personne p6 = new Personne(\"001597135\",\"51862517\", \"G3\", \"1\", \"20170201\", \"2\");\n        Personne p7 = new Personne(\"002804935\",\"00006178\",\"G4\",\"1\",\"19870101\",\"1\");\n        Personne p8 = new Personne(\"002804935\",\"00009118\",\"X0\",\"1\",\"19861201\",\"1\");\n        Personne p9 = new Personne(\"002804935\",\"00009957\",\"N4+\",\"1\",\"19861229\",\"1\");\n        Personne p10 = new Personne(\"002804935\",\"00012970\",\"B3++\",\"1\",\"20100227\",\"1\");\n        personnes.add(p1);\n        personnes.add(p2);\n        personnes.add(p3);\n        personnes.add(p4);\n        personnes.add(p5);\n        personnes.add(p6);\n        personnes.add(p7);\n        personnes.add(p8);\n        personnes.add(p9);\n        personnes.add(p10);\n</code></pre>\n\n<p>Then I want to get only distinct values of the first column. So the nedeed result should be :</p>\n\n<pre><code>001590842\n001639055\n002804935\n</code></pre>\n\n<p>Note that my Personne class is defined as :</p>\n\n<pre><code>public class Personne {\n\n    private String IDT_GCT;\n    private String IDC_PSE_PCL;\n    private String IDC_CD_NOT;\n    private String DA_PRM_CTR_ORDER;\n    private String IDT_ETT_PSE;\n    private String CD_NOT;\n\n    public Personne(String IDT_GCT, String IDC_PSE_PCL, String IDC_CD_NOT,\n                    String DA_PRM_CTR_ORDER, String IDT_ETT_PSE, String CD_NOT) {\n        this.IDT_GCT =  IDT_GCT;\n        this.IDC_PSE_PCL = IDC_PSE_PCL;\n        this.IDC_CD_NOT = IDC_CD_NOT;\n        this.DA_PRM_CTR_ORDER = DA_PRM_CTR_ORDER;\n        this.IDT_ETT_PSE = IDT_ETT_PSE;\n        this.CD_NOT = CD_NOT;\n    }\n\n    public String getIDC_CD_NOT() {\n        return this.IDC_CD_NOT;\n    }\n\n    public String getIDC_PSE_PCL() {\n        return this.IDC_PSE_PCL;\n    }\n\n    public String getDA_PRM_CTR_ORDER() {\n        return this.DA_PRM_CTR_ORDER;\n    }\n\n    public String getIDT_ETT_PSE() {\n        return this.IDT_ETT_PSE;\n    }\n\n    public String getCD_NOT() {\n        return this.CD_NOT;\n    }\n\n    public String getIDT_GCT() {\n        return this.IDT_GCT;\n    }\n\n}\n</code></pre>\n\n<p>So I need to get distinct values of IDT_GCT variable.</p>\n\n<p>So I created this function to return this :</p>\n\n<pre><code>private static List DistinctValues (ArrayList&lt;Personne&gt; listPersonnes)\n{\n    List &lt;String&gt; outList = listPersonnes.stream().map(m -&gt; m.get(\"IDT_GCT\")).distinct().collect(Collectors.toList());\n    return(outList);\n\n}\n</code></pre>\n\n<p>But this returns an error :</p>\n\n<pre><code>Multiple markers at this line\n    - Cannot infer type argument(s) for &lt;R&gt; map(Function&lt;? super T,? extends     R&gt;)\n    - The method get(String) is undefined for the type Personne\n    - The type List is not generic; it cannot be parameterized with arguments    &lt;String&gt;\n</code></pre>\n\n<p>How can I resolve it please ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2282565,"reputation":1515,"user_id":2007325,"accept_rate":73,"display_name":"Praveen Kumar"},"score":0,"creation_date":1645612797,"post_id":71235236,"comment_id":125916558,"body_markdown":"what should the actual output look like ?","body":"what should the actual output look like ?"},{"owner":{"account_id":24351987,"reputation":1,"user_id":18287702,"display_name":"Yura2108"},"score":0,"creation_date":1645613969,"post_id":71235236,"comment_id":125917048,"body_markdown":"For the input string - CGATAAG\nThe output should be 7 63 8\nwhere 7 - symbols count","body":"For the input string - CGATAAG The output should be 7 63 8 where 7 - symbols count"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645614606,"post_id":71235236,"comment_id":125917287,"body_markdown":"I don&#39;t really understand your question. What does &quot;But it doesn`t works for me&quot; mean? In what way is it not working?","body":"I don&#39;t really understand your question. What does &quot;But it doesn`t works for me&quot; mean? In what way is it not working?"},{"owner":{"account_id":24351987,"reputation":1,"user_id":18287702,"display_name":"Yura2108"},"score":0,"creation_date":1645616108,"post_id":71235236,"comment_id":125917895,"body_markdown":"I don&#39;t know how to draw the output that is required. Since it turned out to translate everything into bits, but I don’t know how to output","body":"I don&#39;t know how to draw the output that is required. Since it turned out to translate everything into bits, but I don’t know how to output"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1645627804,"post_id":71235236,"comment_id":125923029,"body_markdown":"See [mcve] and enhance your question accordingly. Do not add more information in comments, edit the question please.","body":"See <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and enhance your question accordingly. Do not add more information in comments, edit the question please."}],"answers":[{"tags":[],"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645627587,"creation_date":1645621500,"answer_id":71237479,"question_id":71235236,"body_markdown":"This is as much as I can do. Everything is pretty straightforward.\r\n```java\r\npublic static void main(String[] args) throws Exception\r\n{\r\n        String dna = &quot;CGATAAG&quot;;\r\n\t\tSystem.out.println(encode(dna)); //7 63 08\r\n        System.out.println(decode(&quot;7 63 8&quot;)); //CGATAAG\r\n\t\tSystem.out.println(decode(&quot;7 63 08&quot;)); //CGATAAG\r\n\t\t\r\n}\r\n\t\r\npublic static String encode(String dna)\r\n{\r\n\t\tfinal int size = dna.length();\r\n\t\tdna = dna.replace(&quot;A&quot;,&quot;0&quot;).replace(&quot;C&quot;,&quot;1&quot;).replace(&quot;G&quot;,&quot;2&quot;).replace(&quot;T&quot;,&quot;3&quot;);\r\n\t\tfinal byte[] bytes = new byte[(int)Math.ceil(size / 4D)];\r\n\t\tfor(int i=0, count=0, index=0; i&lt;size; ++i, ++count) {\r\n\t\t\tfinal int value = dna.charAt(i) - &#39;0&#39;;\r\n\t\t\tswitch(count) {\r\n\t\t\t\tcase  0: bytes[index] |= (value &amp; 3) &lt;&lt; 6; break;\r\n\t\t\t\tcase  1: bytes[index] |= (value &amp; 3) &lt;&lt; 4; break;\r\n\t\t\t\tcase  2: bytes[index] |= (value &amp; 3) &lt;&lt; 2; break;\r\n\t\t\t\tdefault: bytes[index] |= value &amp; 3; break;\r\n\t\t\t}\r\n\t\t\tif(count == 3) { count = -1; ++index; }\r\n\t\t}\r\n\t\treturn String.format(&quot;%d %s&quot;, size, toHexString(bytes, 0, bytes.length, false, &#39; &#39;));\r\n}\r\n\t\r\nprivate static final char[] hex = { &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39; };\r\nprivate static final char[] HEX = { &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39; };\r\n\r\npublic static String toHexString(byte[] bytes, int startIndex, int quantity, boolean lowercase, char delimiter)\r\n{\r\n\t\tint bound = bytes.length;\r\n\t\tfinal char[] hexDigit = lowercase ? hex : HEX;\r\n\t\tfinal boolean hasDelimiter = delimiter == &#39;\\r&#39; ? false : true;\r\n\t\tfinal char[] hex = hasDelimiter ? new char[quantity * 3] : new char[quantity &lt;&lt; 1];\r\n\t\tfinal int value;\r\n\t\tbound = startIndex + quantity;\r\n\t\tfor(int i=0; startIndex != bound; startIndex++) {\r\n\t\t\tvalue = bytes[startIndex] &amp; 0xFF;\r\n\t\t\thex[i++] = hexDigit[value &gt;&gt; 4];\r\n\t\t\thex[i++] = hexDigit[value &amp; 0x0F];\r\n\t\t\tif(hasDelimiter) hex[i++] = delimiter;\r\n\t\t}\r\n\t\treturn hasDelimiter ? new String(hex, 0, (quantity * 3) - 1) :  new String(hex, 0, quantity &lt;&lt; 1);\r\n}\r\n\r\npublic static String decode(String encodedDna)\r\n{\r\n\t\tfinal char[] dna = { &#39;A&#39;, &#39;C&#39;, &#39;G&#39;, &#39;T&#39; };\r\n\t\tfinal String[] fields = encodedDna.split(&quot; &quot;);\r\n\t\tfinal int size = Integer.parseInt(fields[0], 10);\r\n\t\tfinal char[] chars = new char[size];\r\n\t\tint index = 0, count = 0;\r\n\t\tfor(int i=1; i&lt;fields.length; ++i) {\r\n\t\t\tfinal int value = Integer.parseInt(fields[i], 16);\r\n\t\t\tfor(int ii=0; ii&lt;4 &amp;&amp; count&lt;size; ++ii, ++count) {\r\n\t\t\t\tswitch(ii) {\r\n\t\t\t\t\tcase  0: chars[index++] = dna[(value &amp; 0xC0) &gt;&gt; 6]; break;\r\n\t\t\t\t\tcase  1: chars[index++] = dna[(value &amp; 0x30) &gt;&gt; 4]; break;\r\n\t\t\t\t\tcase  2: chars[index++] = dna[(value &amp; 0x0C) &gt;&gt; 2]; break;\r\n\t\t\t\t\tdefault: chars[index++] = dna[value &amp; 0x03]; break;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn new String(chars);\r\n}\r\n```","title":"The binary-DNA encoding","body":"<p>This is as much as I can do. Everything is pretty straightforward.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws Exception\n{\n        String dna = &quot;CGATAAG&quot;;\n        System.out.println(encode(dna)); //7 63 08\n        System.out.println(decode(&quot;7 63 8&quot;)); //CGATAAG\n        System.out.println(decode(&quot;7 63 08&quot;)); //CGATAAG\n        \n}\n    \npublic static String encode(String dna)\n{\n        final int size = dna.length();\n        dna = dna.replace(&quot;A&quot;,&quot;0&quot;).replace(&quot;C&quot;,&quot;1&quot;).replace(&quot;G&quot;,&quot;2&quot;).replace(&quot;T&quot;,&quot;3&quot;);\n        final byte[] bytes = new byte[(int)Math.ceil(size / 4D)];\n        for(int i=0, count=0, index=0; i&lt;size; ++i, ++count) {\n            final int value = dna.charAt(i) - '0';\n            switch(count) {\n                case  0: bytes[index] |= (value &amp; 3) &lt;&lt; 6; break;\n                case  1: bytes[index] |= (value &amp; 3) &lt;&lt; 4; break;\n                case  2: bytes[index] |= (value &amp; 3) &lt;&lt; 2; break;\n                default: bytes[index] |= value &amp; 3; break;\n            }\n            if(count == 3) { count = -1; ++index; }\n        }\n        return String.format(&quot;%d %s&quot;, size, toHexString(bytes, 0, bytes.length, false, ' '));\n}\n    \nprivate static final char[] hex = { '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f' };\nprivate static final char[] HEX = { '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F' };\n\npublic static String toHexString(byte[] bytes, int startIndex, int quantity, boolean lowercase, char delimiter)\n{\n        int bound = bytes.length;\n        final char[] hexDigit = lowercase ? hex : HEX;\n        final boolean hasDelimiter = delimiter == '\\r' ? false : true;\n        final char[] hex = hasDelimiter ? new char[quantity * 3] : new char[quantity &lt;&lt; 1];\n        final int value;\n        bound = startIndex + quantity;\n        for(int i=0; startIndex != bound; startIndex++) {\n            value = bytes[startIndex] &amp; 0xFF;\n            hex[i++] = hexDigit[value &gt;&gt; 4];\n            hex[i++] = hexDigit[value &amp; 0x0F];\n            if(hasDelimiter) hex[i++] = delimiter;\n        }\n        return hasDelimiter ? new String(hex, 0, (quantity * 3) - 1) :  new String(hex, 0, quantity &lt;&lt; 1);\n}\n\npublic static String decode(String encodedDna)\n{\n        final char[] dna = { 'A', 'C', 'G', 'T' };\n        final String[] fields = encodedDna.split(&quot; &quot;);\n        final int size = Integer.parseInt(fields[0], 10);\n        final char[] chars = new char[size];\n        int index = 0, count = 0;\n        for(int i=1; i&lt;fields.length; ++i) {\n            final int value = Integer.parseInt(fields[i], 16);\n            for(int ii=0; ii&lt;4 &amp;&amp; count&lt;size; ++ii, ++count) {\n                switch(ii) {\n                    case  0: chars[index++] = dna[(value &amp; 0xC0) &gt;&gt; 6]; break;\n                    case  1: chars[index++] = dna[(value &amp; 0x30) &gt;&gt; 4]; break;\n                    case  2: chars[index++] = dna[(value &amp; 0x0C) &gt;&gt; 2]; break;\n                    default: chars[index++] = dna[value &amp; 0x03]; break;\n                }\n            }\n        }\n        return new String(chars);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645760739,"creation_date":1645644209,"answer_id":71242933,"question_id":71235236,"body_markdown":"Here is one approach.\r\n\r\n**Setup**\r\n\r\nFirst, set up some maps to map between encoded and non-encoded values. The map types for encoding and decoding are different to facilitate each method in which they are used.\r\n```\r\nstatic Map&lt;Character, Byte&gt; dnaToCode =\r\n        Map.of(&#39;A&#39;, (byte) 0, &#39;G&#39;, (byte) 2, &#39;C&#39;, (byte) 1, &#39;T&#39;, (byte) 3);\r\nstatic Map&lt;Integer, String&gt; codeToDna =\r\n\t\tMap.of(0, &quot;A&quot;, 2, &quot;G&quot;, 1, &quot;C&quot;, 3, &quot;T&quot;);\r\n````\r\n**Encoding**\r\n\r\nThe general idea is to iterate over the `dna` strand, map the nucleotide to its 2 bit equivalent, converting every pair to a hex digit and return the string.\r\n\r\n- define a string for converstion to hex\r\n- define a few types for storage and processing\r\n- Since every two nucleotides equate to one hex digit, increment the loop by two.\r\n- assign the first bit pair to a byte variable\r\n- shift left two bits for the next encoding.\r\n- check to see if the end has been reached (and odd strand length). If so, skip it.\r\n- else store next value and append a hex digit.\r\n- then insert a delimiter based on the value of `i` (between every hex pairing).\r\n- return the strand length prepended to the encoding.\r\n```\r\nstatic String hexDigits = &quot;0123456789ABCDEF&quot;;\r\n\t\r\npublic static String encode(String dna) {\r\n\tStringBuilder encoded = new StringBuilder();\r\n\tchar[] n = dna.toCharArray();\r\n\tint len = dna.length();\r\n\t\r\n\tfor (int i = 0; i &lt; len; i += 2) {\r\n\t\tbyte b = dnaToCode.get(n[i]);\r\n\t\tb &lt;&lt;= 2;\r\n\t\tif (i &lt; len - 1) {\r\n\t\t\tb |= dnaToCode.get(n[i + 1]);\r\n\t\t}\r\n\t\tencoded.append(hexDigits.charAt(b));\r\n\t\tif (i % 4 == 2) {\r\n\t\t\tencoded.append(&quot; &quot;);\r\n\t\t}\r\n\t}\r\n\treturn len + &quot; &quot; + encoded.toString();\r\n}\r\n```\r\n**Decoding**\r\n\r\n- to decode, just split on the white space.\r\n- then grab the length as the first array element.\r\n- for the rest, simply process two hex digits at a time, shifting and ANDing and using the other map to get the nucleotide for the encoding.\r\n- the conditional checks for single digit hex tokens.\r\n- then return the string which is adjusted for the actual length of the strand.\r\n```\t\r\npublic static String decode(String code) {\r\n\tString[] s = code.split(&quot; &quot;);\r\n\tint len = Integer.parseInt(s[0]);\r\n\r\n\tStringBuilder decoded = new StringBuilder();\r\n\tfor (int i = 1; i &lt; s.length; i++) {\r\n\t\tint val = Integer.parseInt(s[i], 16);\r\n\t\tif (s[i].length() &gt; 1) {\r\n\t\t\tdecoded.append(codeToDna.get(val &gt;&gt; 6));\r\n\t\t\tdecoded.append(codeToDna.get((val &gt;&gt; 4) &amp; 3));\r\n\t\t}\r\n\t\tdecoded.append(codeToDna.get((val &gt;&gt; 2) &amp; 3));\r\n\t\tdecoded.append(codeToDna.get(val &amp; 3));\r\n\t}\r\n\treturn decoded.toString().substring(0,len);\r\n}\r\n```\r\n**Testing**\r\n\r\nHere is a method to test the code.\r\n- it does 7 runs.\r\n- generates random `dna` strand of length 1 to 10 inclusive\r\n- then it encodes it.\r\n- decoded the encoded string.\r\n- and prints out the results for comparison.\r\n```\r\npublic static void testit() {\r\n\tRandom r = new Random();\r\n\tfor (int i = 0; i &lt; 7; i++) {\r\n\t\tint size = r.nextInt(10) + 1;\r\n\t\tString generated =\r\n\t\t\t\tr.ints(size, 0, 4).mapToObj(codeToDna::get)\r\n\t\t\t\t\t\t.collect(Collectors.joining());\r\n\t\tString encoded = encode(generated);\r\n\t\tString decoded = decode(encoded);\r\n\t\tSystem.out.println(&quot;orig    = &quot; + generated);\r\n\t\tSystem.out.println(&quot;encoded = &quot; + encoded);\r\n\t\tSystem.out.println(&quot;decoded = &quot; + decoded);\r\n\t\tSystem.out.println();\r\n\t\t\r\n\t}\r\n}\r\n```\r\nprints something like\r\n```\r\norig    = GGTAACTC\r\nencoded = 8 AC 1D \r\ndecoded = GGTAACTC\r\n\r\norig    = CACCTATTT\r\nencoded = 9 45 CF C\r\ndecoded = CACCTATTT\r\n\r\norig    = TTCGGCACTA\r\nencoded = 10 F6 91 C\r\ndecoded = TTCGGCACTA\r\n\r\norig    = CATACTAG\r\nencoded = 8 4C 72 \r\ndecoded = CATACTAG\r\n\r\norig    = ACCCCG\r\nencoded = 6 15 6\r\ndecoded = ACCCCG\r\n\r\norig    = GCATT\r\nencoded = 5 93 C\r\ndecoded = GCATT\r\n\r\norig    = AGTCAGG\r\nencoded = 7 2D 28 \r\ndecoded = AGTCAGG\r\n","title":"The binary-DNA encoding","body":"<p>Here is one approach.</p>\n<p><strong>Setup</strong></p>\n<p>First, set up some maps to map between encoded and non-encoded values. The map types for encoding and decoding are different to facilitate each method in which they are used.</p>\n<pre><code>static Map&lt;Character, Byte&gt; dnaToCode =\n        Map.of('A', (byte) 0, 'G', (byte) 2, 'C', (byte) 1, 'T', (byte) 3);\nstatic Map&lt;Integer, String&gt; codeToDna =\n        Map.of(0, &quot;A&quot;, 2, &quot;G&quot;, 1, &quot;C&quot;, 3, &quot;T&quot;);\n</code></pre>\n<p><strong>Encoding</strong></p>\n<p>The general idea is to iterate over the <code>dna</code> strand, map the nucleotide to its 2 bit equivalent, converting every pair to a hex digit and return the string.</p>\n<ul>\n<li>define a string for converstion to hex</li>\n<li>define a few types for storage and processing</li>\n<li>Since every two nucleotides equate to one hex digit, increment the loop by two.</li>\n<li>assign the first bit pair to a byte variable</li>\n<li>shift left two bits for the next encoding.</li>\n<li>check to see if the end has been reached (and odd strand length). If so, skip it.</li>\n<li>else store next value and append a hex digit.</li>\n<li>then insert a delimiter based on the value of <code>i</code> (between every hex pairing).</li>\n<li>return the strand length prepended to the encoding.</li>\n</ul>\n<pre><code>static String hexDigits = &quot;0123456789ABCDEF&quot;;\n    \npublic static String encode(String dna) {\n    StringBuilder encoded = new StringBuilder();\n    char[] n = dna.toCharArray();\n    int len = dna.length();\n    \n    for (int i = 0; i &lt; len; i += 2) {\n        byte b = dnaToCode.get(n[i]);\n        b &lt;&lt;= 2;\n        if (i &lt; len - 1) {\n            b |= dnaToCode.get(n[i + 1]);\n        }\n        encoded.append(hexDigits.charAt(b));\n        if (i % 4 == 2) {\n            encoded.append(&quot; &quot;);\n        }\n    }\n    return len + &quot; &quot; + encoded.toString();\n}\n</code></pre>\n<p><strong>Decoding</strong></p>\n<ul>\n<li>to decode, just split on the white space.</li>\n<li>then grab the length as the first array element.</li>\n<li>for the rest, simply process two hex digits at a time, shifting and ANDing and using the other map to get the nucleotide for the encoding.</li>\n<li>the conditional checks for single digit hex tokens.</li>\n<li>then return the string which is adjusted for the actual length of the strand.</li>\n</ul>\n<pre><code>public static String decode(String code) {\n    String[] s = code.split(&quot; &quot;);\n    int len = Integer.parseInt(s[0]);\n\n    StringBuilder decoded = new StringBuilder();\n    for (int i = 1; i &lt; s.length; i++) {\n        int val = Integer.parseInt(s[i], 16);\n        if (s[i].length() &gt; 1) {\n            decoded.append(codeToDna.get(val &gt;&gt; 6));\n            decoded.append(codeToDna.get((val &gt;&gt; 4) &amp; 3));\n        }\n        decoded.append(codeToDna.get((val &gt;&gt; 2) &amp; 3));\n        decoded.append(codeToDna.get(val &amp; 3));\n    }\n    return decoded.toString().substring(0,len);\n}\n</code></pre>\n<p><strong>Testing</strong></p>\n<p>Here is a method to test the code.</p>\n<ul>\n<li>it does 7 runs.</li>\n<li>generates random <code>dna</code> strand of length 1 to 10 inclusive</li>\n<li>then it encodes it.</li>\n<li>decoded the encoded string.</li>\n<li>and prints out the results for comparison.</li>\n</ul>\n<pre><code>public static void testit() {\n    Random r = new Random();\n    for (int i = 0; i &lt; 7; i++) {\n        int size = r.nextInt(10) + 1;\n        String generated =\n                r.ints(size, 0, 4).mapToObj(codeToDna::get)\n                        .collect(Collectors.joining());\n        String encoded = encode(generated);\n        String decoded = decode(encoded);\n        System.out.println(&quot;orig    = &quot; + generated);\n        System.out.println(&quot;encoded = &quot; + encoded);\n        System.out.println(&quot;decoded = &quot; + decoded);\n        System.out.println();\n        \n    }\n}\n</code></pre>\n<p>prints something like</p>\n<pre><code>orig    = GGTAACTC\nencoded = 8 AC 1D \ndecoded = GGTAACTC\n\norig    = CACCTATTT\nencoded = 9 45 CF C\ndecoded = CACCTATTT\n\norig    = TTCGGCACTA\nencoded = 10 F6 91 C\ndecoded = TTCGGCACTA\n\norig    = CATACTAG\nencoded = 8 4C 72 \ndecoded = CATACTAG\n\norig    = ACCCCG\nencoded = 6 15 6\ndecoded = ACCCCG\n\norig    = GCATT\nencoded = 5 93 C\ndecoded = GCATT\n\norig    = AGTCAGG\nencoded = 7 2D 28 \ndecoded = AGTCAGG\n</code></pre>\n"}],"owner":{"account_id":24351987,"reputation":1,"user_id":18287702,"display_name":"Yura2108"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":669,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1645760739,"creation_date":1645612102,"question_id":71235236,"body_markdown":"There is a problem, it is necessary to encode the DNA code in both directions. I have found the half of solution: https://stackoverflow.com/questions/71203792/how-to-encode-chars-in-2-bits-in-java?noredirect=1#comment125870543_71203792\r\nBut it doesn`t works for me. 4 symbols: A - 00 bits, C - 01 bits, G - 10 bits, T - 11 bits.\r\nit turned out to encode, but how to display the result in print, while separating the characters. I need to encode the output hex notation\r\n\r\nMy code:\r\n```\r\npublic static String compileDnk(String input) {\r\n        if(input.isEmpty()) {\r\n            System.out.println(&quot;wrong command format&quot;);\r\n            return &quot;&quot;;\r\n        }\r\n \r\n        input = input.toUpperCase();\r\n \r\n        if (!input.matches(&quot;[ACGT]+&quot;)) {\r\n            System.out.println(&quot;wrong command format&quot;);\r\n            return &quot;&quot;;\r\n        }\r\n \r\n \r\n        byte store = 0;\r\n        for (char subString : input.toCharArray()) {\r\n            store = setByte(store, getByChar(subString), getByChar2(subString));\r\n        }\r\n \r\n        //But this output is: 11111111111111111111111111100000\r\n        return Integer.toBinaryString(store);\r\n    }\r\n \r\nprivate static byte setByte(byte store, int index, int value) {\r\n        store = (byte)(store &amp; ~(0x3 &lt;&lt; (2 * index)));\r\n        return (byte) (store | (value &amp; 0x3) &lt;&lt; (2 * index));\r\n}\r\n```","title":"The binary-DNA encoding","body":"<p>There is a problem, it is necessary to encode the DNA code in both directions. I have found the half of solution: <a href=\"https://stackoverflow.com/questions/71203792/how-to-encode-chars-in-2-bits-in-java?noredirect=1#comment125870543_71203792\">How to encode chars in 2-bits? in java</a>\nBut it doesn`t works for me. 4 symbols: A - 00 bits, C - 01 bits, G - 10 bits, T - 11 bits.\nit turned out to encode, but how to display the result in print, while separating the characters. I need to encode the output hex notation</p>\n<p>My code:</p>\n<pre><code>public static String compileDnk(String input) {\n        if(input.isEmpty()) {\n            System.out.println(&quot;wrong command format&quot;);\n            return &quot;&quot;;\n        }\n \n        input = input.toUpperCase();\n \n        if (!input.matches(&quot;[ACGT]+&quot;)) {\n            System.out.println(&quot;wrong command format&quot;);\n            return &quot;&quot;;\n        }\n \n \n        byte store = 0;\n        for (char subString : input.toCharArray()) {\n            store = setByte(store, getByChar(subString), getByChar2(subString));\n        }\n \n        //But this output is: 11111111111111111111111111100000\n        return Integer.toBinaryString(store);\n    }\n \nprivate static byte setByte(byte store, int index, int value) {\n        store = (byte)(store &amp; ~(0x3 &lt;&lt; (2 * index)));\n        return (byte) (store | (value &amp; 0x3) &lt;&lt; (2 * index));\n}\n</code></pre>\n"},{"tags":["java","android","android-internal-storage"],"comments":[{"owner":{"account_id":19161375,"reputation":169,"user_id":13997063,"display_name":"DynoZ"},"score":1,"creation_date":1614184230,"post_id":66353871,"comment_id":117309942,"body_markdown":"Get the root directory via new File(). File class affords also a listFile() method. Use it to get all files inside a folder. Enjoy with recursion and pay attention, it may cause lag!!! Now you should check if every file is a .pdf, do it checking if the file name contains &quot;.pdf&quot; extension via String#contains(). For every pdf file you found, save it inside a File array. Remember that you could catch some problems due to security of a linux kernel (Android is based on), so sure you won&#39;t able to check some folders...","body":"Get the root directory via new File(). File class affords also a listFile() method. Use it to get all files inside a folder. Enjoy with recursion and pay attention, it may cause lag!!! Now you should check if every file is a .pdf, do it checking if the file name contains &quot;.pdf&quot; extension via String#contains(). For every pdf file you found, save it inside a File array. Remember that you could catch some problems due to security of a linux kernel (Android is based on), so sure you won&#39;t able to check some folders..."},{"owner":{"account_id":19161375,"reputation":169,"user_id":13997063,"display_name":"DynoZ"},"score":1,"creation_date":1614184313,"post_id":66353871,"comment_id":117309987,"body_markdown":"Or try what [Shay Kin](https://stackoverflow.com/users/7085389/shay-kin) said. I&#39;ve never used MediaStore, yet","body":"Or try what <a href=\"https://stackoverflow.com/users/7085389/shay-kin\">Shay Kin</a> said. I&#39;ve never used MediaStore, yet"},{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":1,"creation_date":1614227597,"post_id":66353871,"comment_id":117323077,"body_markdown":"@DynoZ your suggested solution [won&#39;t work on newer Android versions](https://stackoverflow.com/a/58379655/208273).","body":"@DynoZ your suggested solution <a href=\"https://stackoverflow.com/a/58379655/208273\">won&#39;t work on newer Android versions</a>."}],"answers":[{"tags":[],"owner":{"account_id":9534903,"reputation":2569,"user_id":7085389,"display_name":"Shay Kin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1614234365,"creation_date":1614184047,"answer_id":66354880,"question_id":66353871,"body_markdown":"You can use MediaStore to fetch all PDF Files ,this is an example how to get all your  PDF files :\r\n\r\n       protected ArrayList&lt;String&gt; getPdfList() {\r\n        ArrayList&lt;String&gt; pdfList = new ArrayList&lt;&gt;();\r\n        Uri collection;\r\n    \r\n        final String[] projection = new String[]{\r\n                MediaStore.Files.FileColumns.DISPLAY_NAME,\r\n                MediaStore.Files.FileColumns.DATE_ADDED,\r\n                MediaStore.Files.FileColumns.DATA,\r\n                MediaStore.Files.FileColumns.MIME_TYPE,\r\n        };\r\n    \r\n        final String sortOrder = MediaStore.Files.FileColumns.DATE_ADDED + &quot; DESC&quot;;\r\n    \r\n        final String selection = MediaStore.Files.FileColumns.MIME_TYPE + &quot; = ?&quot;;\r\n    \r\n        final String mimeType = MimeTypeMap.getSingleton().getMimeTypeFromExtension(&quot;pdf&quot;);\r\n        final String[] selectionArgs = new String[]{mimeType};\r\n    \r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n            collection = MediaStore.Files.getContentUri(MediaStore.VOLUME_EXTERNAL);\r\n        }else{\r\n            collection = MediaStore.Files.getContentUri(&quot;external&quot;);\r\n        }\r\n    \r\n    \r\n        try (Cursor cursor = getContentResolver().query(collection, projection, selection, selectionArgs, sortOrder)) {\r\n            assert cursor != null;\r\n    \r\n            if (cursor.moveToFirst()) {\r\n                int columnData = cursor.getColumnIndex(MediaStore.Files.FileColumns.DATA);\r\n                int columnName = cursor.getColumnIndex(MediaStore.Files.FileColumns.DISPLAY_NAME);\r\n                do {\r\n                    pdfList.add((cursor.getString(columnData)));\r\n                    Log.d(TAG, &quot;getPdf: &quot; + cursor.getString(columnData));\r\n                    //you can get your pdf files\r\n                } while (cursor.moveToNext());\r\n            }\r\n        }\r\n        return pdfList;\r\n    }\r\n\r\n","title":"How to fetch all pdf file from all directories in my Android app","body":"<p>You can use MediaStore to fetch all PDF Files ,this is an example how to get all your  PDF files :</p>\n<pre><code>   protected ArrayList&lt;String&gt; getPdfList() {\n    ArrayList&lt;String&gt; pdfList = new ArrayList&lt;&gt;();\n    Uri collection;\n\n    final String[] projection = new String[]{\n            MediaStore.Files.FileColumns.DISPLAY_NAME,\n            MediaStore.Files.FileColumns.DATE_ADDED,\n            MediaStore.Files.FileColumns.DATA,\n            MediaStore.Files.FileColumns.MIME_TYPE,\n    };\n\n    final String sortOrder = MediaStore.Files.FileColumns.DATE_ADDED + &quot; DESC&quot;;\n\n    final String selection = MediaStore.Files.FileColumns.MIME_TYPE + &quot; = ?&quot;;\n\n    final String mimeType = MimeTypeMap.getSingleton().getMimeTypeFromExtension(&quot;pdf&quot;);\n    final String[] selectionArgs = new String[]{mimeType};\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n        collection = MediaStore.Files.getContentUri(MediaStore.VOLUME_EXTERNAL);\n    }else{\n        collection = MediaStore.Files.getContentUri(&quot;external&quot;);\n    }\n\n\n    try (Cursor cursor = getContentResolver().query(collection, projection, selection, selectionArgs, sortOrder)) {\n        assert cursor != null;\n\n        if (cursor.moveToFirst()) {\n            int columnData = cursor.getColumnIndex(MediaStore.Files.FileColumns.DATA);\n            int columnName = cursor.getColumnIndex(MediaStore.Files.FileColumns.DISPLAY_NAME);\n            do {\n                pdfList.add((cursor.getString(columnData)));\n                Log.d(TAG, &quot;getPdf: &quot; + cursor.getString(columnData));\n                //you can get your pdf files\n            } while (cursor.moveToNext());\n        }\n    }\n    return pdfList;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19585499,"reputation":1099,"user_id":14333699,"display_name":"Anil Dhiman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1636784334,"creation_date":1636784334,"answer_id":69951947,"question_id":66353871,"body_markdown":"i have search almost all the ans but it was not working in Android 11. so i have a short solution for picking up all file for example image, video, pdf, doc, audio etc. there was a github library which was recently created \r\n\r\nClick [here] https://github.com/HBiSoft/PickiT\r\n\r\nand if you want to do all this without dependency\r\n\r\n&lt;b&gt;Code Below&lt;/b&gt;\r\n- do it in orderwise\r\n__________________________________________\r\n\r\n\r\n    var mimeTypes = arrayOf(\r\n        &quot;application/msword&quot;,\r\n        &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot;,  // .doc &amp; .docx\r\n        &quot;application/vnd.ms-powerpoint&quot;,\r\n        &quot;application/vnd.openxmlformats-officedocument.presentationml.presentation&quot;,  // .ppt &amp; .pptx\r\n        &quot;application/vnd.ms-excel&quot;,\r\n        &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;,  // .xls &amp; .xlsx\r\n        &quot;application/pdf&quot;\r\n    )\r\n\r\n     findViewById&lt;Button&gt;(R.id.btnclick).setOnClickListener {\r\n\r\n            val intent = Intent(Intent.ACTION_OPEN_DOCUMENT).apply {\r\n                addCategory(Intent.CATEGORY_OPENABLE)\r\n                type = &quot;*/*&quot;\r\n                putExtra(Intent.EXTRA_MIME_TYPES, mimeTypes);\r\n\r\n                // mimeTypes = mimeTypes\r\n            }\r\n\r\n            startActivityForResult(intent, 100)\r\n\r\n        }\r\n\r\n     override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\r\n        super.onActivityResult(requestCode, resultCode, data)\r\n        Log.e(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&quot;, &quot;check&quot;)\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n            getFile(this,intentToDocumentFiles(data)[0])\r\n        }\r\n    }\r\n\r\n     private fun intentToDocumentFiles(intent: Intent?): List&lt;DocumentFile&gt; {\r\n        val uris = intent?.clipData?.run {\r\n            val list = mutableListOf&lt;Uri&gt;()\r\n            for (i in 0 until itemCount) {\r\n                list.add(getItemAt(i).uri)\r\n            }\r\n            list.takeIf { it.isNotEmpty() }\r\n        } ?: listOf(intent?.data ?: return emptyList())\r\n\r\n        return uris.mapNotNull { uri -&gt;\r\n            if (uri.isDownloadsDocument &amp;&amp; Build.VERSION.SDK_INT &lt; 28 &amp;&amp; uri.path?.startsWith(&quot;/document/raw:&quot;) == true) {\r\n                val fullPath = uri.path.orEmpty().substringAfterLast(&quot;/document/raw:&quot;)\r\n                DocumentFile.fromFile(File(fullPath))\r\n            } else {\r\n                fromSingleUri(uri)\r\n            }\r\n        }.filter { it.isFile }\r\n    }\r\n\r\n    @RequiresApi(Build.VERSION_CODES.R)\r\n    fun getFile(context: Context, document: DocumentFile): File? {\r\n        if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.Q) {\r\n            return null\r\n        }\r\n        try {\r\n            val volumeList: List&lt;StorageVolume&gt; = context\r\n                .getSystemService(StorageManager::class.java)\r\n                .getStorageVolumes()\r\n            if (volumeList == null || volumeList.isEmpty()) {\r\n                return null\r\n            }\r\n\r\n            // There must be a better way to get the document segment\r\n            val documentId = DocumentsContract.getDocumentId(document.uri)\r\n            val documentSegment = documentId.substring(documentId.lastIndexOf(&#39;:&#39;) + 1)\r\n            for (volume in volumeList) {\r\n                val volumePath: String\r\n                if (Build.VERSION.SDK_INT == Build.VERSION_CODES.Q) {\r\n                    val class_StorageVolume = Class.forName(&quot;android.os.storage.StorageVolume&quot;)\r\n                    val method_getPath: Method = class_StorageVolume.getDeclaredMethod(&quot;getPath&quot;)\r\n                    volumePath=method_getPath.invoke(volume).toString()\r\n                } else {\r\n                    // API 30\r\n                    volumePath=volume.directory!!.path\r\n                }\r\n                val storageFile = File(volumePath + File.separator + documentSegment)\r\n\r\n                // Should improve with other checks, because there is the\r\n                // remote possibility that a copy could exist in a different\r\n                // volume (SD-card) under a matching path structure and even\r\n                // same file name, (maybe a user&#39;s backup in the SD-card).\r\n                // Checking for the volume Uuid could be an option but\r\n                // as per the documentation the Uuid can be empty.\r\n                val isTarget = (storageFile.exists()\r\n                        &amp;&amp; storageFile.lastModified() == document.lastModified()\r\n                        &amp;&amp; storageFile.length() == document.length())\r\n                if (isTarget) {\r\n                    Log.e(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;,storageFile.absolutePath)\r\n                    return storageFile\r\n                }\r\n            }\r\n        } catch (e: Exception) {\r\n            e.printStackTrace()\r\n        }\r\n        Log.e(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;,&quot;null&quot;)\r\n        return null\r\n    }","title":"How to fetch all pdf file from all directories in my Android app","body":"<p>i have search almost all the ans but it was not working in Android 11. so i have a short solution for picking up all file for example image, video, pdf, doc, audio etc. there was a github library which was recently created</p>\n<p>Click [here] <a href=\"https://github.com/HBiSoft/PickiT\" rel=\"nofollow noreferrer\">https://github.com/HBiSoft/PickiT</a></p>\n<p>and if you want to do all this without dependency</p>\n<p><b>Code Below</b></p>\n<ul>\n<li>do it in orderwise</li>\n</ul>\n<hr />\n<pre><code>var mimeTypes = arrayOf(\n    &quot;application/msword&quot;,\n    &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot;,  // .doc &amp; .docx\n    &quot;application/vnd.ms-powerpoint&quot;,\n    &quot;application/vnd.openxmlformats-officedocument.presentationml.presentation&quot;,  // .ppt &amp; .pptx\n    &quot;application/vnd.ms-excel&quot;,\n    &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;,  // .xls &amp; .xlsx\n    &quot;application/pdf&quot;\n)\n\n findViewById&lt;Button&gt;(R.id.btnclick).setOnClickListener {\n\n        val intent = Intent(Intent.ACTION_OPEN_DOCUMENT).apply {\n            addCategory(Intent.CATEGORY_OPENABLE)\n            type = &quot;*/*&quot;\n            putExtra(Intent.EXTRA_MIME_TYPES, mimeTypes);\n\n            // mimeTypes = mimeTypes\n        }\n\n        startActivityForResult(intent, 100)\n\n    }\n\n override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n    Log.e(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&quot;, &quot;check&quot;)\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n        getFile(this,intentToDocumentFiles(data)[0])\n    }\n}\n\n private fun intentToDocumentFiles(intent: Intent?): List&lt;DocumentFile&gt; {\n    val uris = intent?.clipData?.run {\n        val list = mutableListOf&lt;Uri&gt;()\n        for (i in 0 until itemCount) {\n            list.add(getItemAt(i).uri)\n        }\n        list.takeIf { it.isNotEmpty() }\n    } ?: listOf(intent?.data ?: return emptyList())\n\n    return uris.mapNotNull { uri -&gt;\n        if (uri.isDownloadsDocument &amp;&amp; Build.VERSION.SDK_INT &lt; 28 &amp;&amp; uri.path?.startsWith(&quot;/document/raw:&quot;) == true) {\n            val fullPath = uri.path.orEmpty().substringAfterLast(&quot;/document/raw:&quot;)\n            DocumentFile.fromFile(File(fullPath))\n        } else {\n            fromSingleUri(uri)\n        }\n    }.filter { it.isFile }\n}\n\n@RequiresApi(Build.VERSION_CODES.R)\nfun getFile(context: Context, document: DocumentFile): File? {\n    if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.Q) {\n        return null\n    }\n    try {\n        val volumeList: List&lt;StorageVolume&gt; = context\n            .getSystemService(StorageManager::class.java)\n            .getStorageVolumes()\n        if (volumeList == null || volumeList.isEmpty()) {\n            return null\n        }\n\n        // There must be a better way to get the document segment\n        val documentId = DocumentsContract.getDocumentId(document.uri)\n        val documentSegment = documentId.substring(documentId.lastIndexOf(':') + 1)\n        for (volume in volumeList) {\n            val volumePath: String\n            if (Build.VERSION.SDK_INT == Build.VERSION_CODES.Q) {\n                val class_StorageVolume = Class.forName(&quot;android.os.storage.StorageVolume&quot;)\n                val method_getPath: Method = class_StorageVolume.getDeclaredMethod(&quot;getPath&quot;)\n                volumePath=method_getPath.invoke(volume).toString()\n            } else {\n                // API 30\n                volumePath=volume.directory!!.path\n            }\n            val storageFile = File(volumePath + File.separator + documentSegment)\n\n            // Should improve with other checks, because there is the\n            // remote possibility that a copy could exist in a different\n            // volume (SD-card) under a matching path structure and even\n            // same file name, (maybe a user's backup in the SD-card).\n            // Checking for the volume Uuid could be an option but\n            // as per the documentation the Uuid can be empty.\n            val isTarget = (storageFile.exists()\n                    &amp;&amp; storageFile.lastModified() == document.lastModified()\n                    &amp;&amp; storageFile.length() == document.length())\n            if (isTarget) {\n                Log.e(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;,storageFile.absolutePath)\n                return storageFile\n            }\n        }\n    } catch (e: Exception) {\n        e.printStackTrace()\n    }\n    Log.e(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;,&quot;null&quot;)\n    return null\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3685079,"reputation":1480,"user_id":3886504,"accept_rate":73,"display_name":"shobhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645759969,"creation_date":1645759969,"answer_id":71260711,"question_id":66353871,"body_markdown":"**This is improvised answer of @Shay Kin.**\r\n\r\nAs we know in latest android versions we have many restrictions to access files in external storage.\r\n\r\n[MediaStore api][1] and [Storage Access Framework][2] apis provides access to shared files. This is explained clearly in [this video][3].\r\n\r\nComing to the answer, in Shay Kin&#39;s answer we can able to fetch all pdf files which are there in the shared files but ignores **downloads**. \r\n\r\nPermissions required \r\n\r\n&gt; `READ_EXTERNAL_STORAGE` \r\n&gt;\r\n&gt; **if api is Q plus** you also need `MANAGE_EXTERNAL_STORAGE`\r\n\r\nplease find the below code to fetch all pdf files. \r\n\r\n\r\n    protected List&lt;String&gt; getPdfList() {\r\n        List&lt;String&gt; pdfList = new ArrayList&lt;&gt;();\r\n\r\n        final String[] projection = new String[]{\r\n                MediaStore.Files.FileColumns.DISPLAY_NAME,\r\n                MediaStore.Files.FileColumns.DATE_ADDED,\r\n                MediaStore.Files.FileColumns.DATA,\r\n                MediaStore.Files.FileColumns.MIME_TYPE,\r\n        };\r\n\r\n        final String sortOrder = MediaStore.Files.FileColumns.DATE_ADDED + &quot; DESC&quot;;\r\n\r\n        final String selection = MediaStore.Files.FileColumns.MIME_TYPE + &quot; = ?&quot;;\r\n\r\n        final String mimeType = MimeTypeMap.getSingleton().getMimeTypeFromExtension(&quot;pdf&quot;);\r\n        final String[] selectionArgs = new String[]{mimeType};\r\n        \r\n        Uri collection = MediaStore.Files.getContentUri(&quot;external&quot;);\r\n        pdfList.addAll(getPdfList(collection, projection, selection, selectionArgs, sortOrder));\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n            collection = MediaStore.Downloads.getContentUri(&quot;external&quot;);\r\n            pdfList.addAll(getPdfList(collection,projection, selection, selectionArgs, sortOrder));\r\n        }\r\n        \r\n        return pdfList;\r\n    }\r\n\r\n    private List&lt;String&gt; getPdfList(Uri collection, String[] projection, String selection, String[] selectionArgs, String sortOrder) {\r\n        List&lt;String&gt; pdfList = new ArrayList&lt;&gt;();\r\n\r\n        try (Cursor cursor = getContentResolver().query(collection, projection, selection, selectionArgs, sortOrder)) {\r\n            assert cursor != null;\r\n\r\n            if (cursor.moveToFirst()) {\r\n                int columnData = cursor.getColumnIndex(MediaStore.Files.FileColumns.DATA);\r\n                do {\r\n                    pdfList.add((cursor.getString(columnData)));\r\n                    Log.d(TAG, &quot;getPdf: &quot; + cursor.getString(columnData));\r\n                    //you can get your pdf files\r\n                } while (cursor.moveToNext());\r\n            }\r\n        }\r\n        return pdfList;\r\n    }\r\n\r\n\r\nHope this works.\r\n\r\n  [1]: https://developer.android.com/training/data-storage/shared/media\r\n  [2]: https://developer.android.com/training/data-storage/shared/documents-files\r\n  [3]: https://www.youtube.com/watch?v=RjyYCUW-9tY","title":"How to fetch all pdf file from all directories in my Android app","body":"<p><strong>This is improvised answer of @Shay Kin.</strong></p>\n<p>As we know in latest android versions we have many restrictions to access files in external storage.</p>\n<p><a href=\"https://developer.android.com/training/data-storage/shared/media\" rel=\"nofollow noreferrer\">MediaStore api</a> and <a href=\"https://developer.android.com/training/data-storage/shared/documents-files\" rel=\"nofollow noreferrer\">Storage Access Framework</a> apis provides access to shared files. This is explained clearly in <a href=\"https://www.youtube.com/watch?v=RjyYCUW-9tY\" rel=\"nofollow noreferrer\">this video</a>.</p>\n<p>Coming to the answer, in Shay Kin's answer we can able to fetch all pdf files which are there in the shared files but ignores <strong>downloads</strong>.</p>\n<p>Permissions required</p>\n<blockquote>\n<p><code>READ_EXTERNAL_STORAGE</code></p>\n<p><strong>if api is Q plus</strong> you also need <code>MANAGE_EXTERNAL_STORAGE</code></p>\n</blockquote>\n<p>please find the below code to fetch all pdf files.</p>\n<pre><code>protected List&lt;String&gt; getPdfList() {\n    List&lt;String&gt; pdfList = new ArrayList&lt;&gt;();\n\n    final String[] projection = new String[]{\n            MediaStore.Files.FileColumns.DISPLAY_NAME,\n            MediaStore.Files.FileColumns.DATE_ADDED,\n            MediaStore.Files.FileColumns.DATA,\n            MediaStore.Files.FileColumns.MIME_TYPE,\n    };\n\n    final String sortOrder = MediaStore.Files.FileColumns.DATE_ADDED + &quot; DESC&quot;;\n\n    final String selection = MediaStore.Files.FileColumns.MIME_TYPE + &quot; = ?&quot;;\n\n    final String mimeType = MimeTypeMap.getSingleton().getMimeTypeFromExtension(&quot;pdf&quot;);\n    final String[] selectionArgs = new String[]{mimeType};\n    \n    Uri collection = MediaStore.Files.getContentUri(&quot;external&quot;);\n    pdfList.addAll(getPdfList(collection, projection, selection, selectionArgs, sortOrder));\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n        collection = MediaStore.Downloads.getContentUri(&quot;external&quot;);\n        pdfList.addAll(getPdfList(collection,projection, selection, selectionArgs, sortOrder));\n    }\n    \n    return pdfList;\n}\n\nprivate List&lt;String&gt; getPdfList(Uri collection, String[] projection, String selection, String[] selectionArgs, String sortOrder) {\n    List&lt;String&gt; pdfList = new ArrayList&lt;&gt;();\n\n    try (Cursor cursor = getContentResolver().query(collection, projection, selection, selectionArgs, sortOrder)) {\n        assert cursor != null;\n\n        if (cursor.moveToFirst()) {\n            int columnData = cursor.getColumnIndex(MediaStore.Files.FileColumns.DATA);\n            do {\n                pdfList.add((cursor.getString(columnData)));\n                Log.d(TAG, &quot;getPdf: &quot; + cursor.getString(columnData));\n                //you can get your pdf files\n            } while (cursor.moveToNext());\n        }\n    }\n    return pdfList;\n}\n</code></pre>\n<p>Hope this works.</p>\n"}],"owner":{"account_id":20799735,"reputation":51,"user_id":15276046,"display_name":"Knowledge hub"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6515,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":66354880,"answer_count":3,"score":2,"last_activity_date":1645759969,"creation_date":1614180216,"question_id":66353871,"body_markdown":"I want to know how to fetch all PDF files from internal storage.  Files can be in any directory, like some in DCIM folders or some in Downloads folder, and so on and so forth.\r\n\r\nNote: I am using Android Studio (language: Java).","title":"How to fetch all pdf file from all directories in my Android app","body":"<p>I want to know how to fetch all PDF files from internal storage.  Files can be in any directory, like some in DCIM folders or some in Downloads folder, and so on and so forth.</p>\n<p>Note: I am using Android Studio (language: Java).</p>\n"},{"tags":["java","algorithm","recursion","backtracking","pass-by-value"],"comments":[{"owner":{"account_id":22825528,"reputation":13,"user_id":16974852,"display_name":"Tina"},"score":0,"creation_date":1645703240,"post_id":71246708,"comment_id":125944935,"body_markdown":"@AlexanderIvanchenko Thank you for your suggestion! I have added some descriptions. That would be great if you could help.","body":"@AlexanderIvanchenko Thank you for your suggestion! I have added some descriptions. That would be great if you could help."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645673270,"creation_date":1645673270,"answer_id":71246738,"question_id":71246708,"body_markdown":"Java is pass-by-value. That means your that your `cnt` variable in your `climbStairs` method is not shared; it is unique to you. When you invoke `climb`, you pass the value it holds (`0` every time here), and `climb` has its own variable (also called `cnt`). It modifies its own `cnt` value which is tossed in the garbage when that method ends (all parameters and all local variables are always tossed in the garbage when a method ends).\r\n\r\nYou want to _return_ `cnt`:\r\n\r\n```\r\n// In climbStairs:\r\nreturn climb(cnt, k, n);\r\n\r\n// In climb, at the end:\r\nreturn cnt;\r\n```\r\n","title":"Backtracking N stairs question getting 0 cases Java","body":"<p>Java is pass-by-value. That means your that your <code>cnt</code> variable in your <code>climbStairs</code> method is not shared; it is unique to you. When you invoke <code>climb</code>, you pass the value it holds (<code>0</code> every time here), and <code>climb</code> has its own variable (also called <code>cnt</code>). It modifies its own <code>cnt</code> value which is tossed in the garbage when that method ends (all parameters and all local variables are always tossed in the garbage when a method ends).</p>\n<p>You want to <em>return</em> <code>cnt</code>:</p>\n<pre><code>// In climbStairs:\nreturn climb(cnt, k, n);\n\n// In climb, at the end:\nreturn cnt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645722596,"creation_date":1645706003,"answer_id":71252038,"question_id":71246708,"body_markdown":"Every recursive implementation consists of **two parts**:\r\n* **base case** - a situation (or situations) that represent the edge-case for which the result is already known. For this problem, if we choose to track the number of *steps* (going forward I&#39;d say that it&#39;s not mandatory) then the **base case** is when the number of *stairs* is equal to the number of *steps*, i.e. `k == n`. And if we don&#39;t track the number of *steps* then the **base case** will be represented with *two edge-cases*: there are *no stairs* at all - no *steps* required and there&#39;s only one way to take zero steps, so the output is `1`, and the second is when we have only *one stair* then we have to take one *step* and the output is also `1`.\r\n* **recursive case** - is the part where recursive calls a made and where main logic resides.\r\n\r\nWe have two possible branches in the **recursive case** for every `k &lt; n`: we can either take **1 step** or **2 steps**. And therefore we have to make *two recursive calls* that represent these situations. All these calls can be represented graphically as a tree. To understand the logic better can you drow this *tree of method-calls* starting from the first one that is made inside the `climbStairs()` and track the value of `k` for each call. Until the condition `k &lt; n` is meat each *vertex* will spawn two branches. When `k` is greater or equal to `n` the call hits the **base case**. And starting from the bottom to the top you can figure out what are the return values for each call.\r\n\r\nAlso, note that instead of being `void` your method must return the number of paths that are found. And the third parameter that represents this number is redundant.\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(climbStairs(1));\r\n        System.out.println(climbStairs(3));\r\n    }\r\n\r\n    public static int climbStairs(int n) {\r\n        if (n &lt; 0) { // cut off the incorrect input\r\n            return 0;\r\n        }\r\n        return climb(n, 0);\r\n    }\r\n\r\n    public static int climb(int n, int k){\r\n        if (k &gt; n) { // an invalid situation\r\n            return 0;\r\n        }\r\n        if (k == n) { // a path was found\r\n            return 1;\r\n        }\r\n        // there are two alternative branches for every k &lt; n\r\n        int count = 0;\r\n        count += climb(n, k + 1); // move one step forward\r\n        count += climb(n, k + 2); // move two steps forward\r\n        return count;\r\n    }\r\n\r\nAs I said above tracking the number of *steps* isn&#39;t required. Instead, we can *reduce the number of stairs* while making recursive calls. And that will allow us to place all logic in a **single method**. Like that:\r\n\r\n    public static int climbStairs(int n) {\r\n        if (n &lt; 0) { // cut off the incorrect input\r\n            return 0;\r\n        }\r\n        if (n == 0) { // a base case when we have NO stairs - we have to take zero steps (there&#39;s only ONE way to do that)\r\n            return 1;\r\n        }\r\n        if (n == 1) { // a base case when we have only one stair - we have to take one step (there&#39;s only ONE way to do that)\r\n            return 1;\r\n        }\r\n        // there are two alternative branches for every n &gt; 1\r\n        int count = 0;\r\n        count += climbStairs(n - 1); // move one step forward\r\n        count += climbStairs(n - 2); // move two steps forward\r\n        return count;\r\n    }\r\n\r\n**Output**\r\n```\r\n1\r\n3\r\n```","title":"Backtracking N stairs question getting 0 cases Java","body":"<p>Every recursive implementation consists of <strong>two parts</strong>:</p>\n<ul>\n<li><strong>base case</strong> - a situation (or situations) that represent the edge-case for which the result is already known. For this problem, if we choose to track the number of <em>steps</em> (going forward I'd say that it's not mandatory) then the <strong>base case</strong> is when the number of <em>stairs</em> is equal to the number of <em>steps</em>, i.e. <code>k == n</code>. And if we don't track the number of <em>steps</em> then the <strong>base case</strong> will be represented with <em>two edge-cases</em>: there are <em>no stairs</em> at all - no <em>steps</em> required and there's only one way to take zero steps, so the output is <code>1</code>, and the second is when we have only <em>one stair</em> then we have to take one <em>step</em> and the output is also <code>1</code>.</li>\n<li><strong>recursive case</strong> - is the part where recursive calls a made and where main logic resides.</li>\n</ul>\n<p>We have two possible branches in the <strong>recursive case</strong> for every <code>k &lt; n</code>: we can either take <strong>1 step</strong> or <strong>2 steps</strong>. And therefore we have to make <em>two recursive calls</em> that represent these situations. All these calls can be represented graphically as a tree. To understand the logic better can you drow this <em>tree of method-calls</em> starting from the first one that is made inside the <code>climbStairs()</code> and track the value of <code>k</code> for each call. Until the condition <code>k &lt; n</code> is meat each <em>vertex</em> will spawn two branches. When <code>k</code> is greater or equal to <code>n</code> the call hits the <strong>base case</strong>. And starting from the bottom to the top you can figure out what are the return values for each call.</p>\n<p>Also, note that instead of being <code>void</code> your method must return the number of paths that are found. And the third parameter that represents this number is redundant.</p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(climbStairs(1));\n    System.out.println(climbStairs(3));\n}\n\npublic static int climbStairs(int n) {\n    if (n &lt; 0) { // cut off the incorrect input\n        return 0;\n    }\n    return climb(n, 0);\n}\n\npublic static int climb(int n, int k){\n    if (k &gt; n) { // an invalid situation\n        return 0;\n    }\n    if (k == n) { // a path was found\n        return 1;\n    }\n    // there are two alternative branches for every k &lt; n\n    int count = 0;\n    count += climb(n, k + 1); // move one step forward\n    count += climb(n, k + 2); // move two steps forward\n    return count;\n}\n</code></pre>\n<p>As I said above tracking the number of <em>steps</em> isn't required. Instead, we can <em>reduce the number of stairs</em> while making recursive calls. And that will allow us to place all logic in a <strong>single method</strong>. Like that:</p>\n<pre><code>public static int climbStairs(int n) {\n    if (n &lt; 0) { // cut off the incorrect input\n        return 0;\n    }\n    if (n == 0) { // a base case when we have NO stairs - we have to take zero steps (there's only ONE way to do that)\n        return 1;\n    }\n    if (n == 1) { // a base case when we have only one stair - we have to take one step (there's only ONE way to do that)\n        return 1;\n    }\n    // there are two alternative branches for every n &gt; 1\n    int count = 0;\n    count += climbStairs(n - 1); // move one step forward\n    count += climbStairs(n - 2); // move two steps forward\n    return count;\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>1\n3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645759401,"creation_date":1645737842,"answer_id":71258425,"question_id":71246708,"body_markdown":"We are given that there are `N` steps. Let `n` equal the number of two-steps taken (`0 &lt;= n &lt;= N/2`). If `n` two-steps are taken `N-2*n` one-steps are taken.\r\n\r\nLet `f(n)` equal the number of combinations of one-steps and two-steps when there are `n` two-steps. This is merely a coefficient in a [multinomial distribution](https://en.wikipedia.org/wiki/Multinomial_distribution#:~:text=In%20probability%20theory%2C%20the%20multinomial,sided%20die%20rolled%20n%20times.) having two distinct items:\r\n\r\n    m = N-2*n\r\n    f(n) = (n+m)!/(n!*m!)\r\n\r\nTo obtain the desired total number of combinations we simply sum `f(n)` over `n = 0..N/2`.\r\n\r\n\r\n----------\r\n\r\nFor `N = 3` (the example given in the question), the number of combinations is computed as follows.\r\n\r\n    n = 0\r\n    m = N-2*n = 3\r\n    f(n) = (n+m)!/(n!*m!) = 3!/(0!*3!) = 1    # 111\r\n&lt;!--&gt;\r\n    n = 1\r\n    m = N-2*n = 1\r\n    f(n) = (n+m)!/(n!*m!) = 2!/(1!*1!) = 2    # 12 and 21\r\n&lt;!--&gt;\r\n    f(0) + f(1) = 3\r\n\r\n----------\r\n\r\nFor `N = 5`, the number of combinations is computed as follows.\r\n\r\n    n = 0\r\n    m = N-2*n = 5\r\n    f(n) = (n+m)!/(n!*m!) = 5!/(0!*5!) = 1    # 11111\r\n&lt;!--&gt;\r\n    n = 1\r\n    m = N-2*n = 3\r\n    f(n) = (n+m)!/(n!*m!) = 4!/(1!*3!) = 4    # 2111 1211 1121 1112\r\n&lt;!--&gt;\r\n    n = 2\r\n    m = N-2*n = 1\r\n    f(n) = (n+m)!/(n!*m!) = 3!/(2!*1!) = 3    # 212 221 122\r\n&lt;!--&gt;\r\n    f(0) + f(1) + f(2) = 8\r\n\r\n","title":"Backtracking N stairs question getting 0 cases Java","body":"<p>We are given that there are <code>N</code> steps. Let <code>n</code> equal the number of two-steps taken (<code>0 &lt;= n &lt;= N/2</code>). If <code>n</code> two-steps are taken <code>N-2*n</code> one-steps are taken.</p>\n<p>Let <code>f(n)</code> equal the number of combinations of one-steps and two-steps when there are <code>n</code> two-steps. This is merely a coefficient in a <a href=\"https://en.wikipedia.org/wiki/Multinomial_distribution#:%7E:text=In%20probability%20theory%2C%20the%20multinomial,sided%20die%20rolled%20n%20times.\" rel=\"nofollow noreferrer\">multinomial distribution</a> having two distinct items:</p>\n<pre><code>m = N-2*n\nf(n) = (n+m)!/(n!*m!)\n</code></pre>\n<p>To obtain the desired total number of combinations we simply sum <code>f(n)</code> over <code>n = 0..N/2</code>.</p>\n<hr />\n<p>For <code>N = 3</code> (the example given in the question), the number of combinations is computed as follows.</p>\n<pre><code>n = 0\nm = N-2*n = 3\nf(n) = (n+m)!/(n!*m!) = 3!/(0!*3!) = 1    # 111\n</code></pre>\n\n<pre><code>n = 1\nm = N-2*n = 1\nf(n) = (n+m)!/(n!*m!) = 2!/(1!*1!) = 2    # 12 and 21\n</code></pre>\n\n<pre><code>f(0) + f(1) = 3\n</code></pre>\n<hr />\n<p>For <code>N = 5</code>, the number of combinations is computed as follows.</p>\n<pre><code>n = 0\nm = N-2*n = 5\nf(n) = (n+m)!/(n!*m!) = 5!/(0!*5!) = 1    # 11111\n</code></pre>\n\n<pre><code>n = 1\nm = N-2*n = 3\nf(n) = (n+m)!/(n!*m!) = 4!/(1!*3!) = 4    # 2111 1211 1121 1112\n</code></pre>\n\n<pre><code>n = 2\nm = N-2*n = 1\nf(n) = (n+m)!/(n!*m!) = 3!/(2!*1!) = 3    # 212 221 122\n</code></pre>\n\n<pre><code>f(0) + f(1) + f(2) = 8\n</code></pre>\n"}],"owner":{"account_id":22825528,"reputation":13,"user_id":16974852,"display_name":"Tina"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71252038,"answer_count":3,"score":1,"last_activity_date":1645759401,"creation_date":1645673043,"question_id":71246708,"body_markdown":"N Stairs question is to compute the number of distinct ways to reach the top. Each time you can either climb 1 or 2 steps. For example, if the input is 3, the desired output is 3 (1+1+1,1+2,2+1).\r\n\r\nI am learning backtracking in Java, so I want to implement it in this question, although DP would work better in such a case. I view it as a practice if I understand backtracking well, but apparently not. I got stuck because my algorithm gives me a `0` output for every case. Below is my code:\r\n\r\n```\r\n    public int climbStairs(int n) {\r\n        int cnt=0,k=0;\r\n        climb(cnt,k,n);\r\n        return cnt;\r\n    }\r\n    public void climb(int cnt, int k, int n){\r\n        if(k==n){\r\n            cnt++;\r\n            return; \r\n        }\r\n        for(int i=1;i&lt;3;++i){\r\n            if(k&lt;n){\r\n                k+=i;\r\n                climb(cnt,k,n);\r\n                k-=i;\r\n            }\r\n        }\r\n    }\r\n```\r\nCould you help me figure out what&#39;s wrong with my code? I tried debugging it, and I noticed every time it returns, `cnt` will automatically change to `0`, but I just can&#39;t figure out why.\r\n\r\nThank you so much in advance!\r\n\r\nEdited version:\r\n```\r\npublic class ClimbStairs {\r\n    public static void main(String[] args) {\r\n        System.out.println(climbStairs(3));\r\n    }\r\n    public static int climbStairs(int n) {\r\n        int cnt=0,k=0;\r\n        return climb(cnt, k, n);\r\n    }\r\n    public static int climb(int cnt, int k, int n){\r\n        if(k==n){\r\n            cnt++;\r\n        }\r\n        for(int i=1;i&lt;3;++i){\r\n            if(k&lt;n){\r\n                k+=i;\r\n                climb(cnt,k,n);\r\n                k-=i;\r\n            }\r\n        }\r\n        return cnt;\r\n    }\r\n}\r\n```","title":"Backtracking N stairs question getting 0 cases Java","body":"<p>N Stairs question is to compute the number of distinct ways to reach the top. Each time you can either climb 1 or 2 steps. For example, if the input is 3, the desired output is 3 (1+1+1,1+2,2+1).</p>\n<p>I am learning backtracking in Java, so I want to implement it in this question, although DP would work better in such a case. I view it as a practice if I understand backtracking well, but apparently not. I got stuck because my algorithm gives me a <code>0</code> output for every case. Below is my code:</p>\n<pre><code>    public int climbStairs(int n) {\n        int cnt=0,k=0;\n        climb(cnt,k,n);\n        return cnt;\n    }\n    public void climb(int cnt, int k, int n){\n        if(k==n){\n            cnt++;\n            return; \n        }\n        for(int i=1;i&lt;3;++i){\n            if(k&lt;n){\n                k+=i;\n                climb(cnt,k,n);\n                k-=i;\n            }\n        }\n    }\n</code></pre>\n<p>Could you help me figure out what's wrong with my code? I tried debugging it, and I noticed every time it returns, <code>cnt</code> will automatically change to <code>0</code>, but I just can't figure out why.</p>\n<p>Thank you so much in advance!</p>\n<p>Edited version:</p>\n<pre><code>public class ClimbStairs {\n    public static void main(String[] args) {\n        System.out.println(climbStairs(3));\n    }\n    public static int climbStairs(int n) {\n        int cnt=0,k=0;\n        return climb(cnt, k, n);\n    }\n    public static int climb(int cnt, int k, int n){\n        if(k==n){\n            cnt++;\n        }\n        for(int i=1;i&lt;3;++i){\n            if(k&lt;n){\n                k+=i;\n                climb(cnt,k,n);\n                k-=i;\n            }\n        }\n        return cnt;\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","automated-tests","data-driven-tests"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1550644099,"post_id":54779121,"comment_id":96339060,"body_markdown":"Update the question with the error stack trace","body":"Update the question with the error stack trace"}],"answers":[{"tags":[],"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1550640967,"creation_date":1550640530,"answer_id":54779392,"question_id":54779121,"body_markdown":"You declared the variables in `Add` class as static, and then you send them back to `create` method in `Add` class. It doesn&#39;t make much sense, and the source of the problem, the variables where never initialized so they are `null`.\r\n\r\nIn addition you misunderstood the use of `PageFactory`, `PageFactory.initElements` doesn&#39;t initialize `String` class variables, how can it know what value to put there? It initialize `WebElement` class variables with `@FindBy` annotation. \r\n\r\nDelete the static variables from `Add` class, if you need them only in `create()` pass them to this method, if you need them in class level pass them in the constructor to `private` variables.","title":"Selenium-sendKeys() throwing &#39;Keys to send should be a not null CharSequence&#39;","body":"<p>You declared the variables in <code>Add</code> class as static, and then you send them back to <code>create</code> method in <code>Add</code> class. It doesn't make much sense, and the source of the problem, the variables where never initialized so they are <code>null</code>.</p>\n\n<p>In addition you misunderstood the use of <code>PageFactory</code>, <code>PageFactory.initElements</code> doesn't initialize <code>String</code> class variables, how can it know what value to put there? It initialize <code>WebElement</code> class variables with <code>@FindBy</code> annotation. </p>\n\n<p>Delete the static variables from <code>Add</code> class, if you need them only in <code>create()</code> pass them to this method, if you need them in class level pass them in the constructor to <code>private</code> variables.</p>\n"}],"owner":{"account_id":10601548,"reputation":93,"user_id":7808356,"display_name":"YoDO"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8332,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":54779392,"answer_count":1,"score":-1,"last_activity_date":1645759310,"creation_date":1550638738,"question_id":54779121,"body_markdown":"Hey guys i am new to Selenium and facing some issue .\r\nThere are 3 class , one is Data_Provider which reads data from excel another is a class to Add users (after reading from excel) last class is main class which calls Add class.\r\n\r\n**Below is Add class code**\r\n\r\n        package pomPagefactory;\r\n    \r\n        import org.openqa.selenium.By;\r\n        import org.openqa.selenium.WebDriver;\r\n        import org.testng.annotations.Test;\r\n    \r\n        public class Add extends Data_Provider {\r\n    \tpublic Add(WebDriver driver) {\r\n    \t\tsuper(driver);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic static String fname, lname, title, email, tel, uname, pass, cpass;\r\n    \r\n    \t@Test(dataProvider = &quot;testset&quot;)\r\n    \tpublic void create(String fname, String lname, String title, String email, String tel, String uname, String pass,\r\n    \t\t\tString cpass) {\r\n    \r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@name=&#39;FirstName&#39;]&quot;)).clear();\r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@name=&#39;FirstName&#39;]&quot;)).sendKeys(fname);\r\n    \r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@id=&#39;LastName&#39;]&quot;)).clear();\r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@id=&#39;LastName&#39;]&quot;)).sendKeys(lname);\r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@id=&#39;Title&#39;]&quot;)).clear();\r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@id=&#39;Title&#39;]&quot;)).sendKeys(title);\r\n    \r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@id=&#39;Email&#39;]&quot;)).clear();\r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@id=&#39;Email&#39;]&quot;)).sendKeys(email);\r\n    \r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@id=&#39;TelephoneNumber&#39;]&quot;)).clear();\r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@id=&#39;TelephoneNumber&#39;]&quot;)).sendKeys(tel);\r\n    \r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@id=&#39;UserID&#39;]&quot;)).clear();\r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@id=&#39;UserID&#39;]&quot;)).sendKeys(uname);\r\n    \r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@id=&#39;password&#39;]&quot;)).clear();\r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@id=&#39;password&#39;]&quot;)).sendKeys(pass);\r\n    \r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@id=&#39;cpassword&#39;]&quot;)).clear();\r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@id=&#39;cpassword&#39;]&quot;)).sendKeys(cpass);\r\n    \r\n    \t\tdriver.findElement(\r\n    \t\t\t\tBy.xpath(&quot;//button[@type=&#39;submit&#39;]//span[@class=&#39;ng-scope&#39;][contains(text(),&#39;Create User&#39;)]&quot;)).click();\r\n    \r\n    \t}\r\n    }\r\n\r\nThe DataProvider class is correct no issue in it.\r\n\r\nI have called Add class (methods in add class) in Main page(main class)\r\n\r\n**Main class code**\r\n\r\n  \r\n\r\n      package pomPagefactory;\r\n        //all imports;\r\n        public class Admin {\r\n    \r\n    \tpublic static WebDriver driver;\r\n    \r\n    \t@Test\r\n    \tpublic void Page() throws Exception {\r\n    \r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,\r\n    \t\t\t\t&quot;C:\\\\Users\\\\srawat\\\\Downloads\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n    \r\n    \t\tdriver = new ChromeDriver();\r\n    \t\tdriver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n    \t\tdriver.manage().window().maximize();\r\n    \r\n    \t\tLocator loc = PageFactory.initElements(driver, Locator.class);\r\n    \t\tloc.Login(&quot;uaadmin&quot;, &quot;novell&quot;);\r\n    \r\n    \t\tloc.people_user();\r\n    \t\t\r\n    \t\tloc.create_new_user();\r\n    \t\tAdd ad=PageFactory.initElements(driver, Add.class);\r\n    \t\tad.create(Add.fname,Add.lname, Add.title, Add.email, Add.tel, Add.uname, \r\n            Add.pass, Add.cpass);\r\n    \t}\r\n    }\r\n\r\n","title":"Selenium-sendKeys() throwing &#39;Keys to send should be a not null CharSequence&#39;","body":"<p>Hey guys i am new to Selenium and facing some issue .\nThere are 3 class , one is Data_Provider which reads data from excel another is a class to Add users (after reading from excel) last class is main class which calls Add class.</p>\n\n<p><strong>Below is Add class code</strong></p>\n\n<pre><code>    package pomPagefactory;\n\n    import org.openqa.selenium.By;\n    import org.openqa.selenium.WebDriver;\n    import org.testng.annotations.Test;\n\n    public class Add extends Data_Provider {\n    public Add(WebDriver driver) {\n        super(driver);\n        // TODO Auto-generated constructor stub\n    }\n\n    public static String fname, lname, title, email, tel, uname, pass, cpass;\n\n    @Test(dataProvider = \"testset\")\n    public void create(String fname, String lname, String title, String email, String tel, String uname, String pass,\n            String cpass) {\n\n        driver.findElement(By.xpath(\"//input[@name='FirstName']\")).clear();\n        driver.findElement(By.xpath(\"//input[@name='FirstName']\")).sendKeys(fname);\n\n        driver.findElement(By.xpath(\"//input[@id='LastName']\")).clear();\n        driver.findElement(By.xpath(\"//input[@id='LastName']\")).sendKeys(lname);\n        driver.findElement(By.xpath(\"//input[@id='Title']\")).clear();\n        driver.findElement(By.xpath(\"//input[@id='Title']\")).sendKeys(title);\n\n        driver.findElement(By.xpath(\"//input[@id='Email']\")).clear();\n        driver.findElement(By.xpath(\"//input[@id='Email']\")).sendKeys(email);\n\n        driver.findElement(By.xpath(\"//input[@id='TelephoneNumber']\")).clear();\n        driver.findElement(By.xpath(\"//input[@id='TelephoneNumber']\")).sendKeys(tel);\n\n        driver.findElement(By.xpath(\"//input[@id='UserID']\")).clear();\n        driver.findElement(By.xpath(\"//input[@id='UserID']\")).sendKeys(uname);\n\n        driver.findElement(By.xpath(\"//input[@id='password']\")).clear();\n        driver.findElement(By.xpath(\"//input[@id='password']\")).sendKeys(pass);\n\n        driver.findElement(By.xpath(\"//input[@id='cpassword']\")).clear();\n        driver.findElement(By.xpath(\"//input[@id='cpassword']\")).sendKeys(cpass);\n\n        driver.findElement(\n                By.xpath(\"//button[@type='submit']//span[@class='ng-scope'][contains(text(),'Create User')]\")).click();\n\n    }\n}\n</code></pre>\n\n<p>The DataProvider class is correct no issue in it.</p>\n\n<p>I have called Add class (methods in add class) in Main page(main class)</p>\n\n<p><strong>Main class code</strong></p>\n\n<pre><code>  package pomPagefactory;\n    //all imports;\n    public class Admin {\n\n    public static WebDriver driver;\n\n    @Test\n    public void Page() throws Exception {\n\n        System.setProperty(\"webdriver.chrome.driver\",\n                \"C:\\\\Users\\\\srawat\\\\Downloads\\\\chromedriver_win32\\\\chromedriver.exe\");\n\n        driver = new ChromeDriver();\n        driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n        driver.manage().window().maximize();\n\n        Locator loc = PageFactory.initElements(driver, Locator.class);\n        loc.Login(\"uaadmin\", \"novell\");\n\n        loc.people_user();\n\n        loc.create_new_user();\n        Add ad=PageFactory.initElements(driver, Add.class);\n        ad.create(Add.fname,Add.lname, Add.title, Add.email, Add.tel, Add.uname, \n        Add.pass, Add.cpass);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","enums","postman"],"answers":[{"tags":[],"owner":{"account_id":10514861,"reputation":21,"user_id":7749281,"display_name":"JeffreyXue"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645759194,"creation_date":1645759194,"answer_id":71260639,"question_id":71259160,"body_markdown":"your request method is GET, but you send request body, they are not match. I suggest you change your request method turn to POST, and use @RequestBody. By the way, You need to encapsulate three objects into a new object.\r\n\r\n    @AllowedRequestParams({&quot;columns&quot;, &quot;ids&quot;})\r\n    @PostMapping(&quot;/v1/analysis/files&quot;)\r\n    public ResponseEntity&lt;byte[]&gt; downloadAnalysis(@RequestBody XX xx) {\r\n        return csv()\r\n                .asAttachment(&quot;data_analysis.csv&quot;)\r\n                .withBody(AnalysisDownloader.downloadAnalysis(xx.getColumnsSelector(), xx.getCriteria(), xx.getSortable()));\r\n    }","title":"Pass a list of enums in postman request body","body":"<p>your request method is GET, but you send request body, they are not match. I suggest you change your request method turn to POST, and use @RequestBody. By the way, You need to encapsulate three objects into a new object.</p>\n<pre><code>@AllowedRequestParams({&quot;columns&quot;, &quot;ids&quot;})\n@PostMapping(&quot;/v1/analysis/files&quot;)\npublic ResponseEntity&lt;byte[]&gt; downloadAnalysis(@RequestBody XX xx) {\n    return csv()\n            .asAttachment(&quot;data_analysis.csv&quot;)\n            .withBody(AnalysisDownloader.downloadAnalysis(xx.getColumnsSelector(), xx.getCriteria(), xx.getSortable()));\n}\n</code></pre>\n"}],"owner":{"account_id":8853132,"reputation":360,"user_id":11719624,"display_name":"Denis Kisina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1615,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645759194,"creation_date":1645743117,"question_id":71259160,"body_markdown":"This is the controller that I am trying to pass the enum values to:\r\n\r\n```java\r\n @AllowedRequestParams({&quot;columns&quot;, &quot;ids&quot;})\r\n  @GetMapping(&quot;/v1/analysis/files&quot;)\r\n  public ResponseEntity&lt;byte[]&gt; downloadAnalysis(@Valid AnalysisColumnsSelector columnsSelector,\r\n                                                 @Valid FileUploadSearchCriteria criteria,\r\n                                                 @Valid AnalysisSortable sortable) {\r\n    return csv()\r\n        .asAttachment(&quot;data_analysis.csv&quot;)\r\n        .withBody(AnalysisDownloader.downloadAnalysis(columnsSelector, criteria, sortable));\r\n  }\r\n```\r\n\r\nThis is the object having a list of enums that I am trying to pass:\r\n\r\n```java\r\n\r\n  import static java.util.Arrays.asList;\r\nimport static org.apache.commons.collections4.CollectionUtils.isEmpty;\r\n\r\nimport java.util.List;\r\nimport lombok.EqualsAndHashCode;\r\nimport lombok.Setter;\r\n\r\n  @EqualsAndHashCode\r\n  @Setter\r\n  class AnalysisColumnsSelector {\r\n\r\n    private List&lt;AnalysisColumnEnum&gt; columns;\r\n\r\n    public List&lt;AnalysisColumnEnum&gt; getColumns() {\r\n      return isEmpty(columns) ? asList(AnalysisColumnEnum.values()) : columns;\r\n    }\r\n\r\n    public String[] getHeaders() {\r\n      return getColumns().stream()\r\n          .map(AnalysisColumnEnum::getHeader)\r\n          .toArray(String[]::new);\r\n    }\r\n  }\r\n```\r\n\r\nand this is the enum:\r\n\r\n```java\r\n import static java.util.Arrays.stream;\r\n\r\nimport lombok.Getter;\r\nimport lombok.RequiredArgsConstructor;\r\n\r\n  @Getter\r\n  @RequiredArgsConstructor\r\n  enum AnalysisColumnEnum {\r\n\r\n    ANALYSIS_COLUMN(&quot;analysisId&quot;, &quot;[![ANALYSIS][1]][1]&quot;),\r\n\r\n    TITLE(&quot;title&quot;, &quot;TITLE&quot;),\r\n\r\n    DISCUSSED(&quot;discussed&quot;, &quot;Discussed&quot;);\r\n\r\n    private final String code;\r\n    private final String header;\r\n\r\n    public static AnalysisColumnEnum decode(String code) {\r\n      return stream(values())\r\n          .filter(analysisColumn -&gt; analysisColumn.code.equals(code))\r\n          .findFirst()\r\n          .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Unknown column code.&quot;));\r\n    }\r\n```\r\n\r\nI am passing my request body as in the below image, but the values are not being sent to the controller. What is my mistake?\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vcMtx.png","title":"Pass a list of enums in postman request body","body":"<p>This is the controller that I am trying to pass the enum values to:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @AllowedRequestParams({&quot;columns&quot;, &quot;ids&quot;})\n  @GetMapping(&quot;/v1/analysis/files&quot;)\n  public ResponseEntity&lt;byte[]&gt; downloadAnalysis(@Valid AnalysisColumnsSelector columnsSelector,\n                                                 @Valid FileUploadSearchCriteria criteria,\n                                                 @Valid AnalysisSortable sortable) {\n    return csv()\n        .asAttachment(&quot;data_analysis.csv&quot;)\n        .withBody(AnalysisDownloader.downloadAnalysis(columnsSelector, criteria, sortable));\n  }\n</code></pre>\n<p>This is the object having a list of enums that I am trying to pass:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n  import static java.util.Arrays.asList;\nimport static org.apache.commons.collections4.CollectionUtils.isEmpty;\n\nimport java.util.List;\nimport lombok.EqualsAndHashCode;\nimport lombok.Setter;\n\n  @EqualsAndHashCode\n  @Setter\n  class AnalysisColumnsSelector {\n\n    private List&lt;AnalysisColumnEnum&gt; columns;\n\n    public List&lt;AnalysisColumnEnum&gt; getColumns() {\n      return isEmpty(columns) ? asList(AnalysisColumnEnum.values()) : columns;\n    }\n\n    public String[] getHeaders() {\n      return getColumns().stream()\n          .map(AnalysisColumnEnum::getHeader)\n          .toArray(String[]::new);\n    }\n  }\n</code></pre>\n<p>and this is the enum:</p>\n<pre class=\"lang-java prettyprint-override\"><code> import static java.util.Arrays.stream;\n\nimport lombok.Getter;\nimport lombok.RequiredArgsConstructor;\n\n  @Getter\n  @RequiredArgsConstructor\n  enum AnalysisColumnEnum {\n\n    ANALYSIS_COLUMN(&quot;analysisId&quot;, &quot;[![ANALYSIS][1]][1]&quot;),\n\n    TITLE(&quot;title&quot;, &quot;TITLE&quot;),\n\n    DISCUSSED(&quot;discussed&quot;, &quot;Discussed&quot;);\n\n    private final String code;\n    private final String header;\n\n    public static AnalysisColumnEnum decode(String code) {\n      return stream(values())\n          .filter(analysisColumn -&gt; analysisColumn.code.equals(code))\n          .findFirst()\n          .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Unknown column code.&quot;));\n    }\n</code></pre>\n<p>I am passing my request body as in the below image, but the values are not being sent to the controller. What is my mistake?\n<a href=\"https://i.stack.imgur.com/vcMtx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vcMtx.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mysql","class"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1645759289,"post_id":71260606,"comment_id":125961877,"body_markdown":"You haven&#39;t said what the problem is, but you should be able to just use: `ReadingTags.JavaDatabaseUpdate(...)` to call the method. It isn&#39;t clear what you want to pass, as `JavaDatabaseUpdate` doesn&#39;t use any of its parameters. I would change JavaDatabaseUpdate to take a single `String` parameter and use it wherever it is meant to be used, replacing `rfid` maybe?","body":"You haven&#39;t said what the problem is, but you should be able to just use: <code>ReadingTags.JavaDatabaseUpdate(...)</code> to call the method. It isn&#39;t clear what you want to pass, as <code>JavaDatabaseUpdate</code> doesn&#39;t use any of its parameters. I would change JavaDatabaseUpdate to take a single <code>String</code> parameter and use it wherever it is meant to be used, replacing <code>rfid</code> maybe?"},{"owner":{"account_id":196140,"reputation":33,"user_id":439434,"display_name":"Mick"},"score":0,"creation_date":1645831456,"post_id":71260606,"comment_id":125982944,"body_markdown":"Thank you. This got me going in the right direction. Appreciate the time!","body":"Thank you. This got me going in the right direction. Appreciate the time!"}],"owner":{"account_id":196140,"reputation":33,"user_id":439434,"display_name":"Mick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645758863,"creation_date":1645758863,"question_id":71260606,"body_markdown":"I am not a java developer but I need to update some java code that reads RFID tags to then update our MySQL database. I have two working examples where I can read some tags in one file and I can update the database in another file but when combining them I am out of my league.\r\n\r\nI added public static void JavaDatabaseUpdate to my working code for the RFID reader and as long as I don&#39;t call it, the code executes fine. The problem comes when I try to run the script... Maybe I am just approaching this all wrong:\r\n\r\n    public class ReadingTags {\r\n\t\r\n\tstatic final String DEFAULT_READER_IP_ADDRESS = &quot;192.168.1.5&quot;;\r\n\tstatic final int PORT_NUMBER = 5000;\r\n\tstatic final int maxResponseSize = 1000;\r\n\tstatic RFIDReader reader = null;\r\n\tpublic static boolean reading = false;\r\n\t\r\n\tpublic static void main(String[] args){\r\n\t\ttry\r\n\t\t{\r\n\t\t\tString readerIPAddress = DEFAULT_READER_IP_ADDRESS;\r\n\t\t\tint PortNumber = PORT_NUMBER;\r\n\r\n\t\t\tSystem.out.println(&quot;Setting up ReaderComm instance on IP Address &quot; + readerIPAddress);\r\n\t\t\t\r\n\t\t\treader = new RFIDReader(readerIPAddress, PortNumber);\r\n\t\t\tReadTest();\r\n\r\n\t\t}\r\n\t\tcatch (Exception ex)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Main: &quot; + ex.toString());\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tpublic static void ReadTest() throws Exception, InterruptedException\r\n\t{\r\n\t\tTagReadHandler tagReadHandler = new TagReadHandler();\r\n\t\tReadingTags.reader.SetTagReadCallback(tagReadHandler);\r\n\t\tSystem.out.println(&quot;Starting Continuous Read ...&quot;);\r\n\t\tReadingTags.reading = true;\r\n\t\tReadingTags.reader.StartContinuousRead();\r\n\t\t\r\n\t\t// Read for .050 seconds then issue stop command\r\n\t\tThread.sleep(50);\r\n\t\t\r\n\t\tSystem.out.println(&quot;*** Stopping Continuous Read For 5 Seconds to wait on another tray. We would do an update here****&quot;);\r\n\t\tReadingTags.reader.StopContinuousRead();\r\n\t\tThread.sleep(5000);\r\n\r\n\t\t//Now start a new loop\t\r\n\t\tSystem.out.println(&quot;Start New Loop&quot;);\r\n\t\tReadTest();\r\n\t\t\r\n\t\t\r\n\t\t//While loop to read queued up\r\n\t\t//tag data and to wait for stop command response.\r\n\t\t\r\n\t\t\r\n\t\twhile(ReadingTags.reading)\r\n\t\t{\t\r\n\t\t\tThread.sleep(10);\r\n\t\t} \r\n\t}\r\n\r\n\t\tpublic static void JavaDatabaseUpdate(String[] args) {\r\n\t\t   Connection conn = null;\r\n\t\t   Statement stmt = null;\r\n\t\t   String rfid = &quot;145131000000000000000000&quot;;\r\n\t\t   try {\r\n\t\t\t  try {\r\n\t\t\t\t Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\t  } catch (Exception e) {\r\n\t\t\t\t System.out.println(e);\r\n\t\t\t  }\r\n\t\t\t  conn = (Connection) DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/office&quot;, &quot;root&quot;, &quot;&quot;);\r\n\t\t\t  stmt = (Statement) conn.createStatement();\r\n\t\t\t  String query1 = &quot;update productiontrays set status=5 &quot; + &quot;where rfid =&quot;+rfid;\r\n\t\t\t  stmt.executeUpdate(query1);\r\n\t\t\t  System.out.println(&quot;Record has been updated in the table successfully&quot;);\r\n\t\t   } catch (SQLException excep) {\r\n\t\t\t  excep.printStackTrace();\r\n\t\t   } catch (Exception excep) {\r\n\t\t\t  excep.printStackTrace();\r\n\t\t   } finally {\r\n\t\t\t  try {\r\n\t\t\t\t if (stmt != null)\r\n\t\t\t\t conn.close();\r\n\t\t\t  } catch (SQLException se) {}\r\n\t\t\t  try {\r\n\t\t\t\t if (conn != null)\r\n\t\t\t\t conn.close();\r\n\t\t\t  } catch (SQLException se) {\r\n\t\t\t\t se.printStackTrace();\r\n\t\t\t  }\r\n\t\t   }\r\n\t\t}\r\n}\r\n\r\nAnd then the class where I would like to call the JavaDatabaseUpdate:\r\n\r\n    class TagReadHandler implements OnTagReadResponse{\r\n\tpublic void handleTagRead(TagReadInfo readInfo)\r\n\t{\r\n\t\tif (readInfo.tagReadStatus == 0) // STATUS_OK\r\n\t\t{\r\n\t\t\tSystem.out.println(readInfo.EPC.replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot;&quot;));\r\n\t\t\t//I&#39;d like to call JavaDatabaseUpdate(); here with the EPC value passed along for the update\r\n\t\t}\r\n\t\telse if (readInfo.tagReadStatus == 1) // STATUS_DONE\r\n\t\t{\r\n\t\t\tReadingTags.reading = false;\r\n\t\t\tSystem.out.println(&quot;Received Stop Response&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nI really need to pass that EPC value back to the class and update the database. How should I approach this situation? I&#39;m stuck.","title":"Java - Calling a secondary class from another class","body":"<p>I am not a java developer but I need to update some java code that reads RFID tags to then update our MySQL database. I have two working examples where I can read some tags in one file and I can update the database in another file but when combining them I am out of my league.</p>\n<p>I added public static void JavaDatabaseUpdate to my working code for the RFID reader and as long as I don't call it, the code executes fine. The problem comes when I try to run the script... Maybe I am just approaching this all wrong:</p>\n<pre><code>public class ReadingTags {\n\nstatic final String DEFAULT_READER_IP_ADDRESS = &quot;192.168.1.5&quot;;\nstatic final int PORT_NUMBER = 5000;\nstatic final int maxResponseSize = 1000;\nstatic RFIDReader reader = null;\npublic static boolean reading = false;\n\npublic static void main(String[] args){\n    try\n    {\n        String readerIPAddress = DEFAULT_READER_IP_ADDRESS;\n        int PortNumber = PORT_NUMBER;\n\n        System.out.println(&quot;Setting up ReaderComm instance on IP Address &quot; + readerIPAddress);\n        \n        reader = new RFIDReader(readerIPAddress, PortNumber);\n        ReadTest();\n\n    }\n    catch (Exception ex)\n    {\n        System.out.println(&quot;Main: &quot; + ex.toString());\n    }\n}\n\n\npublic static void ReadTest() throws Exception, InterruptedException\n{\n    TagReadHandler tagReadHandler = new TagReadHandler();\n    ReadingTags.reader.SetTagReadCallback(tagReadHandler);\n    System.out.println(&quot;Starting Continuous Read ...&quot;);\n    ReadingTags.reading = true;\n    ReadingTags.reader.StartContinuousRead();\n    \n    // Read for .050 seconds then issue stop command\n    Thread.sleep(50);\n    \n    System.out.println(&quot;*** Stopping Continuous Read For 5 Seconds to wait on another tray. We would do an update here****&quot;);\n    ReadingTags.reader.StopContinuousRead();\n    Thread.sleep(5000);\n\n    //Now start a new loop  \n    System.out.println(&quot;Start New Loop&quot;);\n    ReadTest();\n    \n    \n    //While loop to read queued up\n    //tag data and to wait for stop command response.\n    \n    \n    while(ReadingTags.reading)\n    {   \n        Thread.sleep(10);\n    } \n}\n\n    public static void JavaDatabaseUpdate(String[] args) {\n       Connection conn = null;\n       Statement stmt = null;\n       String rfid = &quot;145131000000000000000000&quot;;\n       try {\n          try {\n             Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n          } catch (Exception e) {\n             System.out.println(e);\n          }\n          conn = (Connection) DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/office&quot;, &quot;root&quot;, &quot;&quot;);\n          stmt = (Statement) conn.createStatement();\n          String query1 = &quot;update productiontrays set status=5 &quot; + &quot;where rfid =&quot;+rfid;\n          stmt.executeUpdate(query1);\n          System.out.println(&quot;Record has been updated in the table successfully&quot;);\n       } catch (SQLException excep) {\n          excep.printStackTrace();\n       } catch (Exception excep) {\n          excep.printStackTrace();\n       } finally {\n          try {\n             if (stmt != null)\n             conn.close();\n          } catch (SQLException se) {}\n          try {\n             if (conn != null)\n             conn.close();\n          } catch (SQLException se) {\n             se.printStackTrace();\n          }\n       }\n    }\n</code></pre>\n<p>}</p>\n<p>And then the class where I would like to call the JavaDatabaseUpdate:</p>\n<pre><code>class TagReadHandler implements OnTagReadResponse{\npublic void handleTagRead(TagReadInfo readInfo)\n{\n    if (readInfo.tagReadStatus == 0) // STATUS_OK\n    {\n        System.out.println(readInfo.EPC.replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot;&quot;));\n        //I'd like to call JavaDatabaseUpdate(); here with the EPC value passed along for the update\n    }\n    else if (readInfo.tagReadStatus == 1) // STATUS_DONE\n    {\n        ReadingTags.reading = false;\n        System.out.println(&quot;Received Stop Response&quot;);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>I really need to pass that EPC value back to the class and update the database. How should I approach this situation? I'm stuck.</p>\n"},{"tags":["java","null","return-value","guava"],"answers":[{"tags":[],"owner":{"account_id":7488637,"reputation":489,"user_id":5691088,"display_name":"Suresh"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1537717086,"creation_date":1537717086,"answer_id":52467660,"question_id":52333003,"body_markdown":"Make changes in your code to check first profiles is null or not as(using profiles == null ...) :\r\n\r\n    private ProfileDAO profileDAO;\r\n    private String[] temp;\r\n        private LoadingCache&lt;String, List&lt;Profile&gt;&gt; loadingCache = CacheBuilder.newBuilder()\r\n                .refreshAfterWrite(5, TimeUnit.MINUTES)\r\n                .expireAfterWrite(5, TimeUnit.MINUTES)\r\n                .build(\r\n                        new CacheLoader&lt;String, List&lt;Profile&gt;&gt;() {\r\n                            @Override\r\n                            public List&lt;Profile&gt; load(String key) throws Exception {\r\n                                logger.info(&quot;Running method to retrieve from database&quot;);\r\n                                temp = key.split(&quot;\\\\|&quot;);\r\n                                String instance = temp[0];\r\n                                String name = temp[1];\r\n    List&lt;Profile&gt; profiles= profileDAO.getProfileByFields(id, name);\r\n                                if (profiles == null || profiles.isEmpty()) {\r\n                                    List&lt;Profile&gt; nullValue = new ArrayList&lt;Profile&gt;();\r\n                                    logger.info(&quot;Unable to find a value.&quot;);\r\n                                    return nullValue;\r\n                                }\r\n                                logger.info(&quot;Found a value&quot;);\r\n                                return profileDAO.getProfileByFields(id, name);\r\n                            }\r\n                        }\r\n                );\r\n    \r\n    public List&lt;Profile&gt; getProfileByFields(String id, String name) throws Exception {\r\n            String key = id.toLowerCase() + &quot;|&quot; + name.toLowerCase()\r\n            return loadingCache.get(key);\r\n        }\r\n\r\nPlease check this code is working for you null values or not..","title":"Guava Cache: How to handle null values","body":"<p>Make changes in your code to check first profiles is null or not as(using profiles == null ...) :</p>\n\n<pre><code>private ProfileDAO profileDAO;\nprivate String[] temp;\n    private LoadingCache&lt;String, List&lt;Profile&gt;&gt; loadingCache = CacheBuilder.newBuilder()\n            .refreshAfterWrite(5, TimeUnit.MINUTES)\n            .expireAfterWrite(5, TimeUnit.MINUTES)\n            .build(\n                    new CacheLoader&lt;String, List&lt;Profile&gt;&gt;() {\n                        @Override\n                        public List&lt;Profile&gt; load(String key) throws Exception {\n                            logger.info(\"Running method to retrieve from database\");\n                            temp = key.split(\"\\\\|\");\n                            String instance = temp[0];\n                            String name = temp[1];\nList&lt;Profile&gt; profiles= profileDAO.getProfileByFields(id, name);\n                            if (profiles == null || profiles.isEmpty()) {\n                                List&lt;Profile&gt; nullValue = new ArrayList&lt;Profile&gt;();\n                                logger.info(\"Unable to find a value.\");\n                                return nullValue;\n                            }\n                            logger.info(\"Found a value\");\n                            return profileDAO.getProfileByFields(id, name);\n                        }\n                    }\n            );\n\npublic List&lt;Profile&gt; getProfileByFields(String id, String name) throws Exception {\n        String key = id.toLowerCase() + \"|\" + name.toLowerCase()\n        return loadingCache.get(key);\n    }\n</code></pre>\n\n<p>Please check this code is working for you null values or not..</p>\n"},{"tags":[],"owner":{"account_id":11857442,"reputation":267,"user_id":8677097,"display_name":"C. McKinnon"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1568916429,"creation_date":1568262259,"answer_id":57899714,"question_id":52333003,"body_markdown":"Though this feels a bit hacky, I think it&#39;s a more complete solution (Suresh&#39;s answer only really applies to collections).\r\n\r\nDefine a singleton object that will represent `null`, and insert that value into the cache instead of `null` (converting to `null` at retrieval time):\r\n```java\r\nclass MyDAO\r\n{\r\n    static final Object NULL = new Object();\r\n\r\n    LoadingCache&lt;String,Object&gt; cache = CacheBuilder.newBuilder()\r\n        .build( new CacheLoader&lt;&gt;()\r\n        {\r\n            public Object load( String key )\r\n            {\r\n                Object value = database.get( key );\r\n                if( value == null )\r\n                    return NULL;\r\n                return value;\r\n            }\r\n        });\r\n\r\n    Object get( String key )\r\n    {\r\n        Object value = cache.get( key );\r\n        if( value == NULL ) // use &#39;==&#39; to compare object references\r\n            return null;\r\n        return value;\r\n    }\r\n}\r\n```\r\nI believe this approach is preferable, in terms of efficiency, to any involving the use of exceptions.","title":"Guava Cache: How to handle null values","body":"<p>Though this feels a bit hacky, I think it's a more complete solution (Suresh's answer only really applies to collections).</p>\n\n<p>Define a singleton object that will represent <code>null</code>, and insert that value into the cache instead of <code>null</code> (converting to <code>null</code> at retrieval time):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class MyDAO\n{\n    static final Object NULL = new Object();\n\n    LoadingCache&lt;String,Object&gt; cache = CacheBuilder.newBuilder()\n        .build( new CacheLoader&lt;&gt;()\n        {\n            public Object load( String key )\n            {\n                Object value = database.get( key );\n                if( value == null )\n                    return NULL;\n                return value;\n            }\n        });\n\n    Object get( String key )\n    {\n        Object value = cache.get( key );\n        if( value == NULL ) // use '==' to compare object references\n            return null;\n        return value;\n    }\n}\n</code></pre>\n\n<p>I believe this approach is preferable, in terms of efficiency, to any involving the use of exceptions.</p>\n"},{"tags":[],"owner":{"account_id":9511717,"reputation":417,"user_id":7069438,"accept_rate":100,"display_name":"Eminem347"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1645757627,"creation_date":1645757627,"answer_id":71260496,"question_id":52333003,"body_markdown":"Using [Optional class][1] `Optional&lt;Object&gt;` as the cache value is the easiest and cleanest way to do it.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html","title":"Guava Cache: How to handle null values","body":"<p>Using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"noreferrer\">Optional class</a> <code>Optional&lt;Object&gt;</code> as the cache value is the easiest and cleanest way to do it.</p>\n"}],"owner":{"account_id":8850856,"reputation":351,"user_id":6610176,"accept_rate":33,"display_name":"SVill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10317,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":52467660,"answer_count":3,"score":6,"last_activity_date":1645757627,"creation_date":1536931476,"question_id":52333003,"body_markdown":"I&#39;ve build a cache that returns a value in list format when you enter the parameters.  If that value is not in the cache, it goes to the database and retrieves it, putting it in the cache for future reference:\r\n\r\n    private ProfileDAO profileDAO;\r\n    private String[] temp;\r\n        private LoadingCache&lt;String, List&lt;Profile&gt;&gt; loadingCache = CacheBuilder.newBuilder()\r\n                .refreshAfterWrite(5, TimeUnit.MINUTES)\r\n                .expireAfterWrite(5, TimeUnit.MINUTES)\r\n                .build(\r\n                        new CacheLoader&lt;String, List&lt;Profile&gt;&gt;() {\r\n                            @Override\r\n                            public List&lt;Profile&gt; load(String key) throws Exception {\r\n                                logger.info(&quot;Running method to retrieve from database&quot;);\r\n                                temp = key.split(&quot;\\\\|&quot;);\r\n                                String instance = temp[0];\r\n                                String name = temp[1];\r\n    List&lt;Profile&gt; profiles= profileDAO.getProfileByFields(id, name);\r\n                                if (profiles.isEmpty()) {\r\n                                    List&lt;Profile&gt; nullValue = new ArrayList&lt;Profile&gt;();\r\n                                    logger.info(&quot;Unable to find a value.&quot;);\r\n                                    return nullValue;\r\n                                }\r\n                                logger.info(&quot;Found a value&quot;);\r\n                                return profileDAO.getProfileByFields(id, name);\r\n                            }\r\n                        }\r\n                );\r\n    \r\n    public List&lt;Profile&gt; getProfileByFields(String id, String name) throws Exception {\r\n            String key = id.toLowerCase() + &quot;|&quot; + name.toLowerCase()\r\n            return loadingCache.get(key);\r\n        }\r\n\r\nThis seems to work fine, but it does not take into account null values.  If I look for an entry that does not exist, I get an exception for :\r\n\r\n    com.google.common.cache.CacheLoader$InvalidCacheLoadException: CacheLoader returned null for key A01|Peter\r\n\r\nI&#39;d like to simply return an empty List(Profile) if there is no match in the database, but my if statement has failed.  Is there any way around this error for this particular use case?","title":"Guava Cache: How to handle null values","body":"<p>I've build a cache that returns a value in list format when you enter the parameters.  If that value is not in the cache, it goes to the database and retrieves it, putting it in the cache for future reference:</p>\n\n<pre><code>private ProfileDAO profileDAO;\nprivate String[] temp;\n    private LoadingCache&lt;String, List&lt;Profile&gt;&gt; loadingCache = CacheBuilder.newBuilder()\n            .refreshAfterWrite(5, TimeUnit.MINUTES)\n            .expireAfterWrite(5, TimeUnit.MINUTES)\n            .build(\n                    new CacheLoader&lt;String, List&lt;Profile&gt;&gt;() {\n                        @Override\n                        public List&lt;Profile&gt; load(String key) throws Exception {\n                            logger.info(\"Running method to retrieve from database\");\n                            temp = key.split(\"\\\\|\");\n                            String instance = temp[0];\n                            String name = temp[1];\nList&lt;Profile&gt; profiles= profileDAO.getProfileByFields(id, name);\n                            if (profiles.isEmpty()) {\n                                List&lt;Profile&gt; nullValue = new ArrayList&lt;Profile&gt;();\n                                logger.info(\"Unable to find a value.\");\n                                return nullValue;\n                            }\n                            logger.info(\"Found a value\");\n                            return profileDAO.getProfileByFields(id, name);\n                        }\n                    }\n            );\n\npublic List&lt;Profile&gt; getProfileByFields(String id, String name) throws Exception {\n        String key = id.toLowerCase() + \"|\" + name.toLowerCase()\n        return loadingCache.get(key);\n    }\n</code></pre>\n\n<p>This seems to work fine, but it does not take into account null values.  If I look for an entry that does not exist, I get an exception for :</p>\n\n<pre><code>com.google.common.cache.CacheLoader$InvalidCacheLoadException: CacheLoader returned null for key A01|Peter\n</code></pre>\n\n<p>I'd like to simply return an empty List(Profile) if there is no match in the database, but my if statement has failed.  Is there any way around this error for this particular use case?</p>\n"},{"tags":["java","bluej"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1558412317,"post_id":56230995,"comment_id":99081518,"body_markdown":"Use a different variable for your inner loop.  Your outer loop is trying to increment `i` but your inner loop in decrementing it","body":"Use a different variable for your inner loop.  Your outer loop is trying to increment <code>i</code> but your inner loop in decrementing it"},{"owner":{"account_id":2324956,"reputation":967,"user_id":2039693,"accept_rate":50,"display_name":"Ramesh Subramanian"},"score":0,"creation_date":1558412715,"post_id":56230995,"comment_id":99081590,"body_markdown":"Your while loop is an infinite loop.","body":"Your while loop is an infinite loop."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558412873,"creation_date":1558412873,"answer_id":56231074,"question_id":56230995,"body_markdown":"You should be using a different loop variable name in your inner loop, and you also need to use a `long` to store your sum. In fact, I would first write a method to multiply up to a number in the series. Like,\r\n\r\n\tstatic long multiplyTo(int n) {\r\n\t\tlong r = 1L;\r\n\t\tfor (int i = 2; i &lt;= n; i++) {\r\n\t\t\tr *= i;\r\n\t\t}\r\n\t\treturn r;\r\n\t}\r\n\r\nThen you can invoke that and calculate your sum with a simple loop. Like,\r\n\r\n\tlong sum = 0L;\r\n\tfor (int i = 1; i &lt;= 20; i++) {\r\n\t\tsum += multiplyTo(i);\r\n\t}\r\n\tSystem.out.println(sum);\r\n\r\nI get\r\n\r\n    2561327494111820313\r\n","title":"How to find the sum of factorial of all numbers in a series?","body":"<p>You should be using a different loop variable name in your inner loop, and you also need to use a <code>long</code> to store your sum. In fact, I would first write a method to multiply up to a number in the series. Like,</p>\n\n<pre><code>static long multiplyTo(int n) {\n    long r = 1L;\n    for (int i = 2; i &lt;= n; i++) {\n        r *= i;\n    }\n    return r;\n}\n</code></pre>\n\n<p>Then you can invoke that and calculate your sum with a simple loop. Like,</p>\n\n<pre><code>long sum = 0L;\nfor (int i = 1; i &lt;= 20; i++) {\n    sum += multiplyTo(i);\n}\nSystem.out.println(sum);\n</code></pre>\n\n<p>I get</p>\n\n<pre><code>2561327494111820313\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8129122,"reputation":1496,"user_id":6122976,"display_name":"wilmol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558414637,"creation_date":1558414637,"answer_id":56231340,"question_id":56230995,"body_markdown":"Using streams:\r\n```\r\n    long s = LongStream.rangeClosed(1, 20)\r\n        .map(upper -&gt; LongStream.rangeClosed(1, upper)\r\n            .reduce(1, (a, b) -&gt; a * b))\r\n        .sum();\r\n    System.out.println(s);\r\n```\r\n\r\nPrints ```2561327494111820313```","title":"How to find the sum of factorial of all numbers in a series?","body":"<p>Using streams:</p>\n\n<pre><code>    long s = LongStream.rangeClosed(1, 20)\n        .map(upper -&gt; LongStream.rangeClosed(1, upper)\n            .reduce(1, (a, b) -&gt; a * b))\n        .sum();\n    System.out.println(s);\n</code></pre>\n\n<p>Prints <code>2561327494111820313</code></p>\n"},{"tags":[],"owner":{"account_id":15081262,"reputation":543,"user_id":10883858,"display_name":"MohammadTausif Shaikh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1558414980,"creation_date":1558414980,"answer_id":56231387,"question_id":56230995,"body_markdown":"You can try this one :\r\n\r\n     public class Main \r\n     {\r\n     public static void main (String[]args)\r\n     {\r\n      int fact = 1;\r\n      int sum = 0;\r\n      int i, j = 1;\r\n      for (i = 1; i &lt;= 20; i++)\r\n      {\r\n\t    for (j = 1; j &lt;= i; j++)\r\n\t    {\r\n\t      fact = fact * j;\r\n\t  }\r\n\t  sum += fact;\r\n\t  System.out.println (&quot;sum = &quot; + sum);\r\n\t  fact = 1;\r\n      }\r\n     }\r\n    }\r\n\r\nAlways give proper variable name and Try to avoid to use same variable at different places i.e you have use variable i in outer and inner loop which is not good habit.\r\n","title":"How to find the sum of factorial of all numbers in a series?","body":"<p>You can try this one :</p>\n\n<pre><code> public class Main \n {\n public static void main (String[]args)\n {\n  int fact = 1;\n  int sum = 0;\n  int i, j = 1;\n  for (i = 1; i &lt;= 20; i++)\n  {\n    for (j = 1; j &lt;= i; j++)\n    {\n      fact = fact * j;\n  }\n  sum += fact;\n  System.out.println (\"sum = \" + sum);\n  fact = 1;\n  }\n }\n}\n</code></pre>\n\n<p>Always give proper variable name and Try to avoid to use same variable at different places i.e you have use variable i in outer and inner loop which is not good habit.</p>\n"},{"tags":[],"owner":{"account_id":24371600,"reputation":1,"user_id":18304475,"display_name":"Satyam Dey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645757466,"creation_date":1645757466,"answer_id":71260480,"question_id":56230995,"body_markdown":"I did the same program using Scanner Class\r\n\r\n    import java.util.*;\r\n    class Sum_Factorial\r\n    {\r\n        public static void main()\r\n        {\r\n            Scanner in = new Scanner(System.in);\r\n            int i; //Denotes Integer\r\n            int n; //Denotes Number\r\n            int f=1; //Denotes Factorial\r\n            int s=0; //Denotes Sum\r\n            System.out.println(&quot;Enter the value of N : &quot;);\r\n            n=in.nextInt();\r\n            for(i=1; i&lt;=n; i++)\r\n            {\r\n                f=f*i;\r\n                s=s+f;\r\n            }\r\n            System.out.println(&quot;Sum of the factorial numbers is &quot;+s);\r\n        }\r\n    }","title":"How to find the sum of factorial of all numbers in a series?","body":"<p>I did the same program using Scanner Class</p>\n<pre><code>import java.util.*;\nclass Sum_Factorial\n{\n    public static void main()\n    {\n        Scanner in = new Scanner(System.in);\n        int i; //Denotes Integer\n        int n; //Denotes Number\n        int f=1; //Denotes Factorial\n        int s=0; //Denotes Sum\n        System.out.println(&quot;Enter the value of N : &quot;);\n        n=in.nextInt();\n        for(i=1; i&lt;=n; i++)\n        {\n            f=f*i;\n            s=s+f;\n        }\n        System.out.println(&quot;Sum of the factorial numbers is &quot;+s);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15979444,"reputation":27,"user_id":11531445,"display_name":"the_first_Airbender"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4844,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56231387,"answer_count":4,"score":0,"last_activity_date":1645757466,"creation_date":1558412162,"question_id":56230995,"body_markdown":"I want to create a program to find the sum of factorial of all numbers in a series till 20. \r\nI have to find &#39;s&#39; in s = 1 + (1*2) + (1*2*3) + ...(1*2*3...20).\r\nI tried a program but it is not working. I am using BlueJ IDE.\r\n\r\n    int a =1; \r\n        int s = 0;\r\n        for(int i = 1; i &lt;= 10; i++)\r\n        {\r\n            while (i &gt;0)\r\n            {\r\n                \r\n                a = a * i;\r\n                i--;\r\n            }\r\n            s = s+a;\r\n        }\r\n        System.out.println(s);\r\n\r\n\r\n\r\nThe compiler does not show any error message but when I run the program the JVM(Java Virtual Machine) keeps loading and the output screen does not show up.","title":"How to find the sum of factorial of all numbers in a series?","body":"<p>I want to create a program to find the sum of factorial of all numbers in a series till 20. \nI have to find 's' in s = 1 + (1*2) + (1*2*3) + ...(1*2*3...20).\nI tried a program but it is not working. I am using BlueJ IDE.</p>\n\n<pre><code>int a =1; \n    int s = 0;\n    for(int i = 1; i &lt;= 10; i++)\n    {\n        while (i &gt;0)\n        {\n\n            a = a * i;\n            i--;\n        }\n        s = s+a;\n    }\n    System.out.println(s);\n</code></pre>\n\n<p>The compiler does not show any error message but when I run the program the JVM(Java Virtual Machine) keeps loading and the output screen does not show up.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","jwt"],"answers":[{"tags":[],"owner":{"account_id":5954871,"reputation":1931,"user_id":4682000,"accept_rate":81,"display_name":"Habchi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1499636011,"creation_date":1499636011,"answer_id":45001237,"question_id":45001060,"body_markdown":"So the answer to my question needs two modifications:\r\n\r\n 1. We need to have a stateless session management policy by adding this to our WebSecurityConfig\r\n\r\n&gt; .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n\r\n 2. The second thing is a typo in my code, we have to be sure that the authentication is null in the condition of our filter:\r\n\r\n&gt; if(username != null &amp;&amp;\r\n&gt; SecurityContextHolder.getContext().getAuthentication() == null)","title":"Do we have to empty SecurityContextHolder after request is finished with JWT","body":"<p>So the answer to my question needs two modifications:</p>\n\n<ol>\n<li>We need to have a stateless session management policy by adding this to our WebSecurityConfig</li>\n</ol>\n\n<blockquote>\n  <p>.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)</p>\n</blockquote>\n\n<ol start=\"2\">\n<li>The second thing is a typo in my code, we have to be sure that the authentication is null in the condition of our filter:</li>\n</ol>\n\n<blockquote>\n  <p>if(username != null &amp;&amp;\n  SecurityContextHolder.getContext().getAuthentication() == null)</p>\n</blockquote>\n"}],"owner":{"account_id":5954871,"reputation":1931,"user_id":4682000,"accept_rate":81,"display_name":"Habchi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1862,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":45001237,"answer_count":1,"score":1,"last_activity_date":1645757201,"creation_date":1499634728,"question_id":45001060,"body_markdown":"I&#39;m working on an implementation of JWT with Spring boot based on some open source projects and some of the documentations found on the net.\r\n\r\nWhat&#39;s working?\r\nI&#39;m able to generate my tokens and in the first hit when I try to call some secured methods I&#39;m revoked which is good.\r\n\r\nWhat&#39;s the problem?\r\nOnce I generate my token, seems like I&#39;m able to call my secured methods without the need to add my Authorization header.\r\n\r\nI was debugging my code and found out that I set the authentication in the SecurityContextHolder but I don&#39;t empty this variable once the request is finished. In every implementation found no one does this, so my question is do I have to do this to get my code work as supposed, retrieving secured paths just when there&#39;s an authorization header with a valid token?\r\n\r\nMy code:\r\n\r\n*WebSecurityConfig class:*\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        private UserSecurityService userSecurityService;\r\n    \r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.csrf().disable()\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/public&quot;).permitAll()\r\n                    .antMatchers(&quot;/login&quot;).permitAll()\r\n                    .anyRequest().authenticated();\r\n    \r\n            // And filter other requests to check the presence of JWT in header\r\n            http.addFilterBefore(jwtAuthenticationFilterBean(),\r\n                    UsernamePasswordAuthenticationFilter.class);\r\n    \r\n            // Disable page caching\r\n            http.headers().cacheControl();\r\n        }\r\n    \r\n        @Bean\r\n        public JWTAuthenticationFilter jwtAuthenticationFilterBean() {\r\n            return new JWTAuthenticationFilter();\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n            authenticationManagerBuilder.userDetailsService(userSecurityService);\r\n        }\r\n    }\r\n\r\n*JWTAuthenticationFiler class*\r\n\r\n    public class JWTAuthenticationFilter extends OncePerRequestFilter {\r\n    \r\n    \r\n        @Autowired\r\n        private UserDetailsService userDetailsService;\r\n    \r\n        @Value(&quot;${jwt.token.header}&quot;)\r\n        private String tokenHeader;\r\n    \r\n        @Autowired\r\n        TokenAuthenticationService tokenAuthenticationService;\r\n    \r\n    \r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, FilterChain filterChain) throws ServletException, IOException {\r\n            String token = httpServletRequest.getHeader(tokenHeader);\r\n    \r\n            String username = tokenAuthenticationService.getUsernameFromToken(token);\r\n    \r\n            if(username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() != null){\r\n                UserDetails userDetails = this.userDetailsService.loadUserByUsername(username);\r\n                if (tokenAuthenticationService.validateToken(token, userDetails)) {\r\n                    UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\r\n                    authenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(httpServletRequest));\r\n                    SecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\n                }\r\n            }\r\n    \r\n            filterChain.doFilter(httpServletRequest, httpServletResponse);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n*TokenAuthenticationService class*\r\n\r\n    @Service\r\n    public class TokenAuthenticationService implements Serializable {\r\n    \r\n        static final String CLAIM_KEY_USERNAME = &quot;sub&quot;;\r\n        static final String CLAIM_KEY_AUDIENCE = &quot;audience&quot;;\r\n        static final String CLAIM_KEY_CREATED = &quot;created&quot;;\r\n        static final String CLAIM_KEY_EXPIRED = &quot;exp&quot;;\r\n    \r\n        static final long EXPIRATIONTIME = 864_000_000; // 10 days\r\n        static final String SECRET = &quot;ThisIsASecret&quot;;\r\n        static final String TOKEN_PREFIX = &quot;Bearer&quot;;\r\n        static final String HEADER_STRING = &quot;Authorization&quot;;\r\n    \r\n        @Value(&quot;${jwt.token.expiration}&quot;)\r\n        private Long expiration;\r\n    \r\n        @Value(&quot;${jwt.token.secret}&quot;)\r\n        private String secret;\r\n    \r\n        public String generateToken(UserDetails user) {\r\n    \r\n            Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\r\n    \r\n            claims.put(CLAIM_KEY_USERNAME, user.getUsername());\r\n    \r\n            final Date createdDate = new Date();\r\n            claims.put(CLAIM_KEY_CREATED, createdDate);\r\n    \r\n            final Date expirationDate = new Date(createdDate.getTime() + expiration * 1000);\r\n    \r\n            return Jwts.builder()\r\n                    .setClaims(claims)\r\n                    .setExpiration(expirationDate)\r\n                    .signWith(SignatureAlgorithm.HS512, secret)\r\n                    .compact();\r\n        }\r\n    \r\n        public String getUsernameFromToken(String token) {\r\n            String username;\r\n            try{\r\n                final Claims claims = getClaimsFromToken(token);\r\n                username = claims.getSubject();\r\n            }catch (Exception e){\r\n                username = null;\r\n            }\r\n            return username;\r\n        }\r\n    \r\n        private Claims getClaimsFromToken(String token) {\r\n            Claims claims;\r\n            try {\r\n                claims = Jwts.parser()\r\n                        .setSigningKey(secret)\r\n                        .parseClaimsJws(token)\r\n                        .getBody();\r\n            }catch (Exception e){\r\n                claims = null;\r\n            }\r\n            return claims;\r\n        }\r\n    \r\n        public boolean validateToken(String token, UserDetails userDetails) {\r\n    \r\n            final String username = getUsernameFromToken(token);\r\n            final Date created = getCreatedDateFromToken(token);\r\n    \r\n            if(userDetails.getUsername().equals(username) &amp;&amp; !isTokenExpired(token)){\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        private boolean isTokenExpired(String token) {\r\n            final Date expiration = getExpirationDateFromToken(token);\r\n            return expiration.before(new Date());\r\n        }\r\n    \r\n        private Date getExpirationDateFromToken(String token) {\r\n            Date expiration;\r\n            try {\r\n                final Claims claims = getClaimsFromToken(token);\r\n                expiration = claims.getExpiration();\r\n            }catch (Exception e){\r\n                expiration = null;\r\n            }\r\n            return expiration;\r\n        }\r\n    \r\n        private Date getCreatedDateFromToken(String token) {\r\n            Date createdDate;\r\n            try{\r\n                final Claims claims = getClaimsFromToken(token);\r\n                createdDate = new Date((Long) claims.get(CLAIM_KEY_CREATED));\r\n            }catch (Exception e){\r\n                createdDate = null;\r\n            }\r\n            return createdDate;\r\n    \r\n        }\r\n    }\r\n\r\nand this my controller test class\r\n\r\n    @RestController\r\n    public class TestController {\r\n    \r\n        @GetMapping(&quot;/public&quot;)\r\n        public String testPublic(){\r\n            return &quot;Welcom to the public place&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/private&quot;)\r\n        @PreAuthorize(&quot;hasRole(&#39;USER&#39;)&quot;)\r\n        public String testPrivate(){\r\n            return &quot;Welcome to the private place&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/admin&quot;)\r\n        @PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;)&quot;)\r\n        public String testAdmin(){\r\n            return &quot;Welcome to the admin place&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nThank you","title":"Do we have to empty SecurityContextHolder after request is finished with JWT","body":"<p>I'm working on an implementation of JWT with Spring boot based on some open source projects and some of the documentations found on the net.</p>\n\n<p>What's working?\nI'm able to generate my tokens and in the first hit when I try to call some secured methods I'm revoked which is good.</p>\n\n<p>What's the problem?\nOnce I generate my token, seems like I'm able to call my secured methods without the need to add my Authorization header.</p>\n\n<p>I was debugging my code and found out that I set the authentication in the SecurityContextHolder but I don't empty this variable once the request is finished. In every implementation found no one does this, so my question is do I have to do this to get my code work as supposed, retrieving secured paths just when there's an authorization header with a valid token?</p>\n\n<p>My code:</p>\n\n<p><em>WebSecurityConfig class:</em></p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private UserSecurityService userSecurityService;\n\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .authorizeRequests()\n                .antMatchers(\"/public\").permitAll()\n                .antMatchers(\"/login\").permitAll()\n                .anyRequest().authenticated();\n\n        // And filter other requests to check the presence of JWT in header\n        http.addFilterBefore(jwtAuthenticationFilterBean(),\n                UsernamePasswordAuthenticationFilter.class);\n\n        // Disable page caching\n        http.headers().cacheControl();\n    }\n\n    @Bean\n    public JWTAuthenticationFilter jwtAuthenticationFilterBean() {\n        return new JWTAuthenticationFilter();\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n        authenticationManagerBuilder.userDetailsService(userSecurityService);\n    }\n}\n</code></pre>\n\n<p><em>JWTAuthenticationFiler class</em></p>\n\n<pre><code>public class JWTAuthenticationFilter extends OncePerRequestFilter {\n\n\n    @Autowired\n    private UserDetailsService userDetailsService;\n\n    @Value(\"${jwt.token.header}\")\n    private String tokenHeader;\n\n    @Autowired\n    TokenAuthenticationService tokenAuthenticationService;\n\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, FilterChain filterChain) throws ServletException, IOException {\n        String token = httpServletRequest.getHeader(tokenHeader);\n\n        String username = tokenAuthenticationService.getUsernameFromToken(token);\n\n        if(username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() != null){\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(username);\n            if (tokenAuthenticationService.validateToken(token, userDetails)) {\n                UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\n                authenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(httpServletRequest));\n                SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n            }\n        }\n\n        filterChain.doFilter(httpServletRequest, httpServletResponse);\n\n    }\n\n}\n</code></pre>\n\n<p><em>TokenAuthenticationService class</em></p>\n\n<pre><code>@Service\npublic class TokenAuthenticationService implements Serializable {\n\n    static final String CLAIM_KEY_USERNAME = \"sub\";\n    static final String CLAIM_KEY_AUDIENCE = \"audience\";\n    static final String CLAIM_KEY_CREATED = \"created\";\n    static final String CLAIM_KEY_EXPIRED = \"exp\";\n\n    static final long EXPIRATIONTIME = 864_000_000; // 10 days\n    static final String SECRET = \"ThisIsASecret\";\n    static final String TOKEN_PREFIX = \"Bearer\";\n    static final String HEADER_STRING = \"Authorization\";\n\n    @Value(\"${jwt.token.expiration}\")\n    private Long expiration;\n\n    @Value(\"${jwt.token.secret}\")\n    private String secret;\n\n    public String generateToken(UserDetails user) {\n\n        Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\n\n        claims.put(CLAIM_KEY_USERNAME, user.getUsername());\n\n        final Date createdDate = new Date();\n        claims.put(CLAIM_KEY_CREATED, createdDate);\n\n        final Date expirationDate = new Date(createdDate.getTime() + expiration * 1000);\n\n        return Jwts.builder()\n                .setClaims(claims)\n                .setExpiration(expirationDate)\n                .signWith(SignatureAlgorithm.HS512, secret)\n                .compact();\n    }\n\n    public String getUsernameFromToken(String token) {\n        String username;\n        try{\n            final Claims claims = getClaimsFromToken(token);\n            username = claims.getSubject();\n        }catch (Exception e){\n            username = null;\n        }\n        return username;\n    }\n\n    private Claims getClaimsFromToken(String token) {\n        Claims claims;\n        try {\n            claims = Jwts.parser()\n                    .setSigningKey(secret)\n                    .parseClaimsJws(token)\n                    .getBody();\n        }catch (Exception e){\n            claims = null;\n        }\n        return claims;\n    }\n\n    public boolean validateToken(String token, UserDetails userDetails) {\n\n        final String username = getUsernameFromToken(token);\n        final Date created = getCreatedDateFromToken(token);\n\n        if(userDetails.getUsername().equals(username) &amp;&amp; !isTokenExpired(token)){\n            return true;\n        }\n        return false;\n    }\n\n    private boolean isTokenExpired(String token) {\n        final Date expiration = getExpirationDateFromToken(token);\n        return expiration.before(new Date());\n    }\n\n    private Date getExpirationDateFromToken(String token) {\n        Date expiration;\n        try {\n            final Claims claims = getClaimsFromToken(token);\n            expiration = claims.getExpiration();\n        }catch (Exception e){\n            expiration = null;\n        }\n        return expiration;\n    }\n\n    private Date getCreatedDateFromToken(String token) {\n        Date createdDate;\n        try{\n            final Claims claims = getClaimsFromToken(token);\n            createdDate = new Date((Long) claims.get(CLAIM_KEY_CREATED));\n        }catch (Exception e){\n            createdDate = null;\n        }\n        return createdDate;\n\n    }\n}\n</code></pre>\n\n<p>and this my controller test class</p>\n\n<pre><code>@RestController\npublic class TestController {\n\n    @GetMapping(\"/public\")\n    public String testPublic(){\n        return \"Welcom to the public place\";\n    }\n\n    @GetMapping(\"/private\")\n    @PreAuthorize(\"hasRole('USER')\")\n    public String testPrivate(){\n        return \"Welcome to the private place\";\n    }\n\n    @GetMapping(\"/admin\")\n    @PreAuthorize(\"hasRole('ADMIN')\")\n    public String testAdmin(){\n        return \"Welcome to the admin place\";\n    }\n\n}\n</code></pre>\n\n<p>Thank you</p>\n"},{"tags":["java","azure","azure-functions","quarkus"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1645693502,"post_id":71249025,"comment_id":125941434,"body_markdown":"What do you mean? I see [INFO], [WARN], and [ERROR] in the logs you have shown? @Cas","body":"What do you mean? I see [INFO], [WARN], and [ERROR] in the logs you have shown? @Cas"},{"owner":{"account_id":2751934,"reputation":758,"user_id":2525319,"accept_rate":71,"display_name":"Cas"},"score":0,"creation_date":1645694087,"post_id":71249025,"comment_id":125941629,"body_markdown":"@SMA yeah that&#39;s the log format that Quarkus uses. However, Azure puts its own stuff in front, including [Information]. That&#39;s the log level that it eventually uses in things like log analytics. It&#39;s like it doesn&#39;t recognize the Quarkus format and just assumes everything is info.","body":"@SMA yeah that&#39;s the log format that Quarkus uses. However, Azure puts its own stuff in front, including [Information]. That&#39;s the log level that it eventually uses in things like log analytics. It&#39;s like it doesn&#39;t recognize the Quarkus format and just assumes everything is info."},{"owner":{"account_id":3894930,"reputation":4026,"user_id":3224238,"display_name":"Paizo"},"score":0,"creation_date":1645794170,"post_id":71249025,"comment_id":125970929,"body_markdown":"have you tried to log using the function `ExecutionContext`? `ctx.getLogger().` there you have all the granularity","body":"have you tried to log using the function <code>ExecutionContext</code>? <code>ctx.getLogger().</code> there you have all the granularity"},{"owner":{"account_id":2751934,"reputation":758,"user_id":2525319,"accept_rate":71,"display_name":"Cas"},"score":0,"creation_date":1645794371,"post_id":71249025,"comment_id":125971004,"body_markdown":"I don&#39;t think we have access to the execution context because it&#39;s hidden by the quarkus azure http functions extension. I&#39;ll check again to make sure, though.","body":"I don&#39;t think we have access to the execution context because it&#39;s hidden by the quarkus azure http functions extension. I&#39;ll check again to make sure, though."}],"answers":[{"tags":[],"owner":{"account_id":21681667,"reputation":4284,"user_id":15997690,"display_name":"Delliganesh Sevanesan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645756988,"creation_date":1645756988,"answer_id":71260424,"question_id":71249025,"body_markdown":"&gt; The first part of every line (like `2022-02-24T07:58:14.325\r\n [Information]`) is added by Azure\r\n\r\n**The `[Information]` can be added in a log stream by default.** \r\n\r\n### Built-in log stream: \r\nA log Stream is used to view a stream of your application log files. This is equivalent to the output seen when you debug your functions during local development. All log-based **information** is displayed in a Log Stream window. \r\n### Stream log:\r\nBefore you stream logs in real-time, enable the log type that you want to list. Any **information** written to files ending in **.txt, .log, or .htm** that are stored in the `_/LogFiles_` directory (`d:/home/logfiles`) is streamed by App Service.\r\nWhatever is written in the log files can be displayed in a Log Stream.\r\n\r\n local\r\n ![enter image description here](https://i.stack.imgur.com/dXXSC.png)\r\nIn portal log Stream\r\n![enter image description here](https://i.stack.imgur.com/KkfIz.png)\r\nIn the above screenshots, you can check whatever is written in a local log that can be added to a Log Stream. By default, the `running time and [Information]` are always available in a log Stream (Every new line in a log file that is added with `2022-02-24T14:40:46.015 [Information] logline` in a log Stream)\r\n\r\n Refer [here](https://learn.microsoft.com/en-us/azure/app-service/troubleshoot-diagnostic-logs#stream-logs) for more information\r\n","title":"How to change log level in Azure Functions","body":"<blockquote>\n<p>The first part of every line (like <code>2022-02-24T07:58:14.325 [Information]</code>) is added by Azure</p>\n</blockquote>\n<p><strong>The <code>[Information]</code> can be added in a log stream by default.</strong></p>\n<h3>Built-in log stream:</h3>\n<p>A log Stream is used to view a stream of your application log files. This is equivalent to the output seen when you debug your functions during local development. All log-based <strong>information</strong> is displayed in a Log Stream window.</p>\n<h3>Stream log:</h3>\n<p>Before you stream logs in real-time, enable the log type that you want to list. Any <strong>information</strong> written to files ending in <strong>.txt, .log, or .htm</strong> that are stored in the <code>_/LogFiles_</code> directory (<code>d:/home/logfiles</code>) is streamed by App Service.\nWhatever is written in the log files can be displayed in a Log Stream.</p>\n<p>local\n<img src=\"https://i.stack.imgur.com/dXXSC.png\" alt=\"enter image description here\" />\nIn portal log Stream\n<img src=\"https://i.stack.imgur.com/KkfIz.png\" alt=\"enter image description here\" />\nIn the above screenshots, you can check whatever is written in a local log that can be added to a Log Stream. By default, the <code>running time and [Information]</code> are always available in a log Stream (Every new line in a log file that is added with <code>2022-02-24T14:40:46.015 [Information] logline</code> in a log Stream)</p>\n<p>Refer <a href=\"https://learn.microsoft.com/en-us/azure/app-service/troubleshoot-diagnostic-logs#stream-logs\" rel=\"nofollow noreferrer\">here</a> for more information</p>\n"}],"owner":{"account_id":2751934,"reputation":758,"user_id":2525319,"accept_rate":71,"display_name":"Cas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":766,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71260424,"answer_count":1,"score":0,"last_activity_date":1645756988,"creation_date":1645690958,"question_id":71249025,"body_markdown":"We are working on several Quarkus (2.5.4 at the time of writing) applications that are deployed to Azure Function Apps.\r\n\r\nWe&#39;ve noticed that all our logs, regardless of severity in code, show up as info in application insights. \r\n\r\n```java\r\npublic class ExampleClass {\r\n    private static final Logger logger = LoggerFactory.getLogger(ExampleClass.class);\r\n\r\n    public void welcome(@NotNull String name) {\r\n        logger.trace(&quot;TRACE hello to {}&quot;, name);\r\n        logger.debug(&quot;DEBUG hello to {}&quot;, name);\r\n        logger.info(&quot;INFO hello to {}&quot;, name);\r\n        logger.warn(&quot;WARN hello to {}&quot;, name);\r\n        logger.error(&quot;ERROR hello to {}&quot;, name);\r\n    }\r\n}\r\n```\r\n\r\nWe&#39;ve added the jboss log manager to our dependencies:\r\n\r\n```xml\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.jboss.slf4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;slf4j-jboss-logmanager&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nWhen I then check the logs, it shows up as such\r\n\r\n\r\n&gt; 2022-02-24T07:58:14.325 [Information] 2022-02-24T07:58:14.308 [INFO] INFO hello to name  \r\n&gt; 2022-02-24T07:58:14.325 [Information] 2022-02-24T07:58:14.308 [WARN] WARN hello to name  \r\n&gt; 2022-02-24T07:58:14.325 [Information] 2022-02-24T07:58:14.308 [ERROR] ERROR hello to name\r\n\r\nAs you can see, Azure somehow misinterprets our log severity and makes everything show up at the info level. \r\n\r\nThe first part of every line (like `2022-02-24T07:58:14.325 [Information]`) is added by Azure, while the rest of the line is what Quarkus logs to console.\r\n\r\nI understand why the first two log entries don&#39;t show up, because we set the minimum level to INFO. \r\n\r\nFrom what I understand from [the documentation](https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-in-process-agent#autocollected-logs), Azure would automatically recognize the logs. However, this does not appear to be the case for us.\r\n\r\nIs there something we&#39;ve forgotten?","title":"How to change log level in Azure Functions","body":"<p>We are working on several Quarkus (2.5.4 at the time of writing) applications that are deployed to Azure Function Apps.</p>\n<p>We've noticed that all our logs, regardless of severity in code, show up as info in application insights.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ExampleClass {\n    private static final Logger logger = LoggerFactory.getLogger(ExampleClass.class);\n\n    public void welcome(@NotNull String name) {\n        logger.trace(&quot;TRACE hello to {}&quot;, name);\n        logger.debug(&quot;DEBUG hello to {}&quot;, name);\n        logger.info(&quot;INFO hello to {}&quot;, name);\n        logger.warn(&quot;WARN hello to {}&quot;, name);\n        logger.error(&quot;ERROR hello to {}&quot;, name);\n    }\n}\n</code></pre>\n<p>We've added the jboss log manager to our dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.jboss.slf4j&lt;/groupId&gt;\n      &lt;artifactId&gt;slf4j-jboss-logmanager&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>When I then check the logs, it shows up as such</p>\n<blockquote>\n<p>2022-02-24T07:58:14.325 [Information] 2022-02-24T07:58:14.308 [INFO] INFO hello to name<br />\n2022-02-24T07:58:14.325 [Information] 2022-02-24T07:58:14.308 [WARN] WARN hello to name<br />\n2022-02-24T07:58:14.325 [Information] 2022-02-24T07:58:14.308 [ERROR] ERROR hello to name</p>\n</blockquote>\n<p>As you can see, Azure somehow misinterprets our log severity and makes everything show up at the info level.</p>\n<p>The first part of every line (like <code>2022-02-24T07:58:14.325 [Information]</code>) is added by Azure, while the rest of the line is what Quarkus logs to console.</p>\n<p>I understand why the first two log entries don't show up, because we set the minimum level to INFO.</p>\n<p>From what I understand from <a href=\"https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-in-process-agent#autocollected-logs\" rel=\"nofollow noreferrer\">the documentation</a>, Azure would automatically recognize the logs. However, this does not appear to be the case for us.</p>\n<p>Is there something we've forgotten?</p>\n"},{"tags":["java","image","exception","javax.imageio"],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1555328653,"creation_date":1314198226,"answer_id":7177727,"question_id":7177655,"body_markdown":"Try to check the encoding of the JPEG. `ImageIO` can&#39;t read CMYK-encoded jpeg images for example.\r\nAFAIK, ImageIO hasn&#39;t been updated for years, so you&#39;d like to try and use the official alternative/extension: [JAI ImageIO].\r\n\r\nUnforutnately, JAI ImageIO needs some native libraries installed into the JRE, which might be unwanted.\r\nWe do the following: \r\n\r\n- use [Apache Sanselan] to detect, whether it&#39;s a JPEG\r\n- since Sanselan can&#39;t read and write JPEG, use the plain old AWT `JPEGCodec`: `JPEGCodec.createJPEGDecoder(...)`\r\n- to convert CMYK to RGB, we then get the raster of the read `BufferedImage` and manually convert it (you could use ICC profiles, but the manual conversion fits our needs)\r\n\r\nHere&#39;s a question of mine that resulted of the fact that `ImageIO` doesn&#39;t support all types of JPEG images, and I there stated a little more of my findings of why you get that message: https://stackoverflow.com/questions/6829428/pure-java-alternative-to-jai-imageio-for-detecting-cmyk-images\r\n\r\n[JAI ImageIO]: http://java.net/projects/jai-imageio/\r\n[Apache Sanselan]: https://commons.apache.org/proper/commons-imaging/history.html","title":"Java ImageIO IIOException: Unsupported image type?","body":"<p>Try to check the encoding of the JPEG. <code>ImageIO</code> can't read CMYK-encoded jpeg images for example.\nAFAIK, ImageIO hasn't been updated for years, so you'd like to try and use the official alternative/extension: <a href=\"http://java.net/projects/jai-imageio/\" rel=\"nofollow noreferrer\">JAI ImageIO</a>.</p>\n\n<p>Unforutnately, JAI ImageIO needs some native libraries installed into the JRE, which might be unwanted.\nWe do the following: </p>\n\n<ul>\n<li>use <a href=\"https://commons.apache.org/proper/commons-imaging/history.html\" rel=\"nofollow noreferrer\">Apache Sanselan</a> to detect, whether it's a JPEG</li>\n<li>since Sanselan can't read and write JPEG, use the plain old AWT <code>JPEGCodec</code>: <code>JPEGCodec.createJPEGDecoder(...)</code></li>\n<li>to convert CMYK to RGB, we then get the raster of the read <code>BufferedImage</code> and manually convert it (you could use ICC profiles, but the manual conversion fits our needs)</li>\n</ul>\n\n<p>Here's a question of mine that resulted of the fact that <code>ImageIO</code> doesn't support all types of JPEG images, and I there stated a little more of my findings of why you get that message: <a href=\"https://stackoverflow.com/questions/6829428/pure-java-alternative-to-jai-imageio-for-detecting-cmyk-images\">Pure Java alternative to JAI ImageIO for detecting CMYK images</a></p>\n"},{"tags":[],"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1314198496,"creation_date":1314198496,"answer_id":7177791,"question_id":7177655,"body_markdown":"I&#39;ve unfortunately come across a lot of standard violating JPEG files. ImageIO is particularly picky and often refuse to load images, which are often loaded and apparently displayed correctly by other software with less strict checks on the file format.\r\n\r\nIt&#39;s not very pretty, but one workaround is to use the Oracle VM internal JPEG decoder directly (com.sun.image.codec.jpeg.JPEGCodec), as it seems to tolerate more spec deviations as the ImageIO wrapper:\r\n\r\n    BufferedImage img = \r\n        JPEGCodec.createJPEGDecoder(inputStream).decodeAsBufferedImage();\r\n\r\nThis is of course not an ideal solution, since using implementation specific classes will lock you to a specific VM vendor and may break with newer VM versions, but if you&#39;ll only used the software in a controlled environment, it may be better than no solution at all.","title":"Java ImageIO IIOException: Unsupported image type?","body":"<p>I've unfortunately come across a lot of standard violating JPEG files. ImageIO is particularly picky and often refuse to load images, which are often loaded and apparently displayed correctly by other software with less strict checks on the file format.</p>\n\n<p>It's not very pretty, but one workaround is to use the Oracle VM internal JPEG decoder directly (com.sun.image.codec.jpeg.JPEGCodec), as it seems to tolerate more spec deviations as the ImageIO wrapper:</p>\n\n<pre><code>BufferedImage img = \n    JPEGCodec.createJPEGDecoder(inputStream).decodeAsBufferedImage();\n</code></pre>\n\n<p>This is of course not an ideal solution, since using implementation specific classes will lock you to a specific VM vendor and may break with newer VM versions, but if you'll only used the software in a controlled environment, it may be better than no solution at all.</p>\n"},{"tags":[],"owner":{"account_id":107517,"reputation":1790,"user_id":285848,"display_name":"Ravbaker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1409141392,"creation_date":1409141392,"answer_id":25526840,"question_id":7177655,"body_markdown":"Another option is to use .jar prepared by Werner Randelshofer: \r\n\r\nhttp://www.randelshofer.ch/blog/2011/08/reading-cmyk-jpeg-images-with-java-imageio/ or Monte Media Library: http://www.randelshofer.ch/monte/\r\n\r\nIt looks quite easy and similar to ImageIO usage and available under CC license.\r\n\r\n","title":"Java ImageIO IIOException: Unsupported image type?","body":"<p>Another option is to use .jar prepared by Werner Randelshofer: </p>\n\n<p><a href=\"http://www.randelshofer.ch/blog/2011/08/reading-cmyk-jpeg-images-with-java-imageio/\" rel=\"nofollow\">http://www.randelshofer.ch/blog/2011/08/reading-cmyk-jpeg-images-with-java-imageio/</a> or Monte Media Library: <a href=\"http://www.randelshofer.ch/monte/\" rel=\"nofollow\">http://www.randelshofer.ch/monte/</a></p>\n\n<p>It looks quite easy and similar to ImageIO usage and available under CC license.</p>\n"},{"tags":[],"owner":{"account_id":2658649,"reputation":331,"user_id":2298826,"display_name":"Mayen"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1602863118,"creation_date":1602863118,"answer_id":64392386,"question_id":7177655,"body_markdown":"To work with images in a specific format,you need to add the corresponding dependency, such as imageio-jpeg or imageio-tiff:\r\n   \r\n    \r\n    &lt;dependency&gt;\r\n\t&lt;groupId&gt;com.twelvemonkeys.imageio&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;imageio-jpeg&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.twelvemonkeys.imageio&lt;/groupId&gt;\r\n    &lt;artifactId&gt;imageio-bmp&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.twelvemonkeys.imageio&lt;/groupId&gt;\r\n    &lt;artifactId&gt;imageio-core&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nthe built-in ImageIO Java API loads the plugins automatically at runtime.","title":"Java ImageIO IIOException: Unsupported image type?","body":"<p>To work with images in a specific format,you need to add the corresponding dependency, such as imageio-jpeg or imageio-tiff:</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;com.twelvemonkeys.imageio&lt;/groupId&gt;\n&lt;artifactId&gt;imageio-jpeg&lt;/artifactId&gt;\n&lt;version&gt;3.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n&lt;groupId&gt;com.twelvemonkeys.imageio&lt;/groupId&gt;\n&lt;artifactId&gt;imageio-bmp&lt;/artifactId&gt;\n&lt;version&gt;3.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n&lt;groupId&gt;com.twelvemonkeys.imageio&lt;/groupId&gt;\n&lt;artifactId&gt;imageio-core&lt;/artifactId&gt;\n&lt;version&gt;3.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>the built-in ImageIO Java API loads the plugins automatically at runtime.</p>\n"},{"tags":[],"owner":{"account_id":5138745,"reputation":111,"user_id":4116739,"display_name":"Ignatius Ojiambo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645755581,"creation_date":1645755581,"answer_id":71260292,"question_id":7177655,"body_markdown":"This [tutorial provided][1] an answer using the apache commons IO library. I found it to be a cleaner implementation. I included the dependency below \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n      &lt;version&gt;2.11.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nHere is the code that worked after adding the dependency\r\n\r\n        public ResponseEntity&lt;byte[]&gt; getImage(@PathVariable(&quot;filename&quot;) String filename) {\r\n         byte[] image = new byte[0];\r\n          try {\r\n              image = FileUtils.readFileToByteArray(new File(FILE_PATH_ROOT+filename));\r\n          } catch (IOException e) {\r\n              e.printStackTrace();\r\n          }\r\n          return ResponseEntity.ok().contentType(MediaType.IMAGE_JPEG).body(image);\r\n        }\r\n\r\n  [1]: https://javatodev.com/serve-image-stored-in-server-using-spring-boot/","title":"Java ImageIO IIOException: Unsupported image type?","body":"<p>This <a href=\"https://javatodev.com/serve-image-stored-in-server-using-spring-boot/\" rel=\"nofollow noreferrer\">tutorial provided</a> an answer using the apache commons IO library. I found it to be a cleaner implementation. I included the dependency below</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;commons-io&lt;/groupId&gt;\n  &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n  &lt;version&gt;2.11.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Here is the code that worked after adding the dependency</p>\n<pre><code>    public ResponseEntity&lt;byte[]&gt; getImage(@PathVariable(&quot;filename&quot;) String filename) {\n     byte[] image = new byte[0];\n      try {\n          image = FileUtils.readFileToByteArray(new File(FILE_PATH_ROOT+filename));\n      } catch (IOException e) {\n          e.printStackTrace();\n      }\n      return ResponseEntity.ok().contentType(MediaType.IMAGE_JPEG).body(image);\n    }\n</code></pre>\n"}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50381,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":7177727,"answer_count":5,"score":35,"last_activity_date":1645755581,"creation_date":1314197936,"question_id":7177655,"body_markdown":"Working with images in Java for the first time and am getting some bizarro exceptions that aren&#39;t documented very well.  Here&#39;s the line of code that is failing:\r\n\r\n    BufferedImage imgSelected = ImageIO.read(new File(&quot;/abs/url/to/file/image.jpg&quot;));\r\n\r\nThis line is throwing an IIOException with *Unsupported image type* as the exception message.  I have checked and re-checked that it is in fact this line throwing the exception, that the File object is valid, that the URL is valid, and that the `image.jpg` is in fact a valid JPG that loads perfectly fine in other image viewers.\r\n\r\nWhat could I do to get more information about the nature of this exception? Is this the traditional way for loading images in Java 7, or is this an old/deprecating method? There&#39;s just not a lot of info out there about these &quot;Unsupported image type&quot; exceptions, and surely, ImageIO supported JPGs!\r\n\r\nThanks for any help!","title":"Java ImageIO IIOException: Unsupported image type?","body":"<p>Working with images in Java for the first time and am getting some bizarro exceptions that aren't documented very well.  Here's the line of code that is failing:</p>\n\n<pre><code>BufferedImage imgSelected = ImageIO.read(new File(\"/abs/url/to/file/image.jpg\"));\n</code></pre>\n\n<p>This line is throwing an IIOException with <em>Unsupported image type</em> as the exception message.  I have checked and re-checked that it is in fact this line throwing the exception, that the File object is valid, that the URL is valid, and that the <code>image.jpg</code> is in fact a valid JPG that loads perfectly fine in other image viewers.</p>\n\n<p>What could I do to get more information about the nature of this exception? Is this the traditional way for loading images in Java 7, or is this an old/deprecating method? There's just not a lot of info out there about these \"Unsupported image type\" exceptions, and surely, ImageIO supported JPGs!</p>\n\n<p>Thanks for any help!</p>\n"},{"tags":["java","spring","cron"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1645756940,"post_id":71260284,"comment_id":125961483,"body_markdown":"`0/30 8-9` means every 30 minutes for the hours of 8 and 9.  I guess that the task is for your code to examine the data and to come up with the pattern","body":"<code>0&#47;30 8-9</code> means every 30 minutes for the hours of 8 and 9.  I guess that the task is for your code to examine the data and to come up with the pattern"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1645760662,"post_id":71260284,"comment_id":125962088,"body_markdown":"It is certainly NOT a typical task, which I think is the whole point - they want to see not only your Java knowledge, but also (or rather: especially) they want to see how YOU figure out the logic of how you do that.   We&#39;re happy to help by giving our thoughts to clarify (such as what the crontab means), but not to defeat the purpose of the exercise.","body":"It is certainly NOT a typical task, which I think is the whole point - they want to see not only your Java knowledge, but also (or rather: especially) they want to see how YOU figure out the logic of how you do that.   We&#39;re happy to help by giving our thoughts to clarify (such as what the crontab means), but not to defeat the purpose of the exercise."}],"owner":{"account_id":24371250,"reputation":1,"user_id":18304173,"display_name":"VGS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645755416,"creation_date":1645755416,"question_id":71260284,"body_markdown":"Since I applied for internship I have to resolve this task: \r\n**I need to create a method that turns *list* of dates to single CronExpression.** \r\nOnly Java code (no outside frameworks). \r\nJust like this : \r\n\r\n    Input:\r\n    \r\n    \t&quot;2022-01-25 T 08:00:00&quot;\r\n    \t&quot;2022-01-25 T 08:30:00&quot;\r\n    \t&quot;2022-01-25 T 09:00:00&quot;\r\n    \t&quot;2022-01-25 T 09:30:00&quot;\r\n    \t&quot;2022-01-26 T 08:00:00&quot;\r\n    \t&quot;2022-01-26 T 08:30:00&quot;\r\n    \t&quot;2022-01-26 T 09:00:00&quot;\r\n    \t&quot;2022-01-26 T 09:30:00&quot;\r\n    \r\n    Output:\r\n    \t&quot;0 0/30 8-9 * * *&quot;\r\n\r\nI have 2 questions: \r\n\r\n 1. Is there any general (commonly used) way to do that? Or it is not typical task and I have to create that method from the zero? \r\n\r\n 2. Can you explain me a logic of how I need to do that? Mainly I don&#39;t understand how to convert **SEVERAL** dates to one CronExpression. \r\n\r\n  \r\n","title":"How to convert LIST of dates to single CronExpression?","body":"<p>Since I applied for internship I have to resolve this task:\n<strong>I need to create a method that turns <em>list</em> of dates to single CronExpression.</strong>\nOnly Java code (no outside frameworks).\nJust like this :</p>\n<pre><code>Input:\n\n    &quot;2022-01-25 T 08:00:00&quot;\n    &quot;2022-01-25 T 08:30:00&quot;\n    &quot;2022-01-25 T 09:00:00&quot;\n    &quot;2022-01-25 T 09:30:00&quot;\n    &quot;2022-01-26 T 08:00:00&quot;\n    &quot;2022-01-26 T 08:30:00&quot;\n    &quot;2022-01-26 T 09:00:00&quot;\n    &quot;2022-01-26 T 09:30:00&quot;\n\nOutput:\n    &quot;0 0/30 8-9 * * *&quot;\n</code></pre>\n<p>I have 2 questions:</p>\n<ol>\n<li><p>Is there any general (commonly used) way to do that? Or it is not typical task and I have to create that method from the zero?</p>\n</li>\n<li><p>Can you explain me a logic of how I need to do that? Mainly I don't understand how to convert <strong>SEVERAL</strong> dates to one CronExpression.</p>\n</li>\n</ol>\n"},{"tags":["java","linux","maven","environment-variables"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1645750790,"post_id":71259887,"comment_id":125960540,"body_markdown":"Have you tried closing your console and opening a new one, so that you are back to your default environment variables?","body":"Have you tried closing your console and opening a new one, so that you are back to your default environment variables?"},{"owner":{"account_id":11907911,"reputation":111,"user_id":8713984,"display_name":"xiexieni9527"},"score":0,"creation_date":1645752317,"post_id":71259887,"comment_id":125960769,"body_markdown":"Hi @tgdavies, thank you for your response. I have closed the console and opening a new one, I also have logged out and logged in again, but the same error is still here.","body":"Hi @tgdavies, thank you for your response. I have closed the console and opening a new one, I also have logged out and logged in again, but the same error is still here."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645753882,"post_id":71259887,"comment_id":125961007,"body_markdown":"It&#39;s difficult to see how those three steps could produce a permanent change to your configuration. What does `which mvn` and `mvn -v` say? (I&#39;m assuming you didn&#39;t add the `export` lines to any bash initialisation files?)","body":"It&#39;s difficult to see how those three steps could produce a permanent change to your configuration. What does <code>which mvn</code> and <code>mvn -v</code> say? (I&#39;m assuming you didn&#39;t add the <code>export</code> lines to any bash initialisation files?)"},{"owner":{"account_id":11907911,"reputation":111,"user_id":8713984,"display_name":"xiexieni9527"},"score":0,"creation_date":1645755225,"post_id":71259887,"comment_id":125961209,"body_markdown":"Actually I did! But that was for spark installation. Here are the lines:\n\n`export SPARK_HOME=/home/kchiu/spark`\n`export PATH=$PATH:$SPARK_HOME/bin`\n`export PYTHONPATH=$SPARK_HOME/python`\n`export PYSPARK_PYTHON=python3`\n\n`which mvn` gave me `/opt/apache-maven-3.6.3/bin/mvn`, which I noticed just now that it&#39;s different than the one (3.6.0) I installed in the steps. Does this mean that there was already a maven installed?\n\nThank you for the response again!","body":"Actually I did! But that was for spark installation. Here are the lines:  <code>export SPARK_HOME=&#47;home&#47;kchiu&#47;spark</code> <code>export PATH=$PATH:$SPARK_HOME&#47;bin</code> <code>export PYTHONPATH=$SPARK_HOME&#47;python</code> <code>export PYSPARK_PYTHON=python3</code>  <code>which mvn</code> gave me <code>&#47;opt&#47;apache-maven-3.6.3&#47;bin&#47;mvn</code>, which I noticed just now that it&#39;s different than the one (3.6.0) I installed in the steps. Does this mean that there was already a maven installed?  Thank you for the response again!"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645760904,"post_id":71259887,"comment_id":125962129,"body_markdown":"Yes, 3.6.3 was already installed, and that&#39;s the maven you are running, so that should be fine. The changes to your init files shouldn&#39;t cause any problems with maven. Here&#39;s some information on the error you&#39;re seeing: https://stackoverflow.com/questions/36450720/mavennon-resolvable-parent-pom-and-parent-relativepath-points-at-wrong-local","body":"Yes, 3.6.3 was already installed, and that&#39;s the maven you are running, so that should be fine. The changes to your init files shouldn&#39;t cause any problems with maven. Here&#39;s some information on the error you&#39;re seeing: <a href=\"https://stackoverflow.com/questions/36450720/mavennon-resolvable-parent-pom-and-parent-relativepath-points-at-wrong-local\" title=\"mavennon resolvable parent pom and parent relativepath points at wrong local\">stackoverflow.com/questions/36450720/&hellip;</a>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1645772972,"post_id":71259887,"comment_id":125964295,"body_markdown":"First why using such an old Maven versions. The environment is not the problem. There seemed to be some issues related downloading the needed parts ... `Non-resolvable parent POM for &lt;company repo&gt;`... either network/firewall etc. configuration. could be cause...","body":"First why using such an old Maven versions. The environment is not the problem. There seemed to be some issues related downloading the needed parts ... <code>Non-resolvable parent POM for &lt;company repo&gt;</code>... either network/firewall etc. configuration. could be cause..."},{"owner":{"account_id":11907911,"reputation":111,"user_id":8713984,"display_name":"xiexieni9527"},"score":0,"creation_date":1645804063,"post_id":71259887,"comment_id":125974707,"body_markdown":"Thank you both very much, I will investigate towards the network issue direction.","body":"Thank you both very much, I will investigate towards the network issue direction."}],"owner":{"account_id":11907911,"reputation":111,"user_id":8713984,"display_name":"xiexieni9527"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645755379,"creation_date":1645750538,"question_id":71259887,"body_markdown":"I&#39;m here reaching out for help because I have very little experience to Maven and Java, and little knowledge of environment variables. I attempt to set up GlueContext locally and went through a series of steps that involves Maven and JAVA_HOME on a Linux machine. \r\nI followed [this tutorial][1], which involves the following three steps:\r\n\r\n 1. `$ tar xvf apache-maven-3.6.0-bin.tar.gz -C $HOME/bin/` to extract the maven archive.\r\n 2. `$ export PATH=&quot;$HOME/bin/apache-maven-3.6.0/bin:$PATH&quot;`\r\n 3. `$ export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-11.0.12.0.7-0.el7_9.x86_64`\r\n\r\nThe further setup wasn&#39;t successful so I just ditched the process and went back to my usual mvn company project. But now, it seems like something was disrupted by one of (of all of) the three steps, and now when I execute `mvn install` to my company project, it&#39;s giving me error that says \r\n\r\n```\r\nNon-resolvable parent POM for &lt;company repo&gt;\r\n... and &#39;parent.relativePath&#39; points at wrong local POM....\r\n```\r\n\r\nI must have messed up the environment by going through the steps, but I have no clue how to fix it. If you have any idea or insight, please kindly share. Thank you very in advance!\r\n\r\n  [1]: https://support.wharton.upenn.edu/help/glue-debugging","title":"Get &quot;Non-resolvable parent POM&quot; after installing apache-maven and set JAVA_HOME","body":"<p>I'm here reaching out for help because I have very little experience to Maven and Java, and little knowledge of environment variables. I attempt to set up GlueContext locally and went through a series of steps that involves Maven and JAVA_HOME on a Linux machine.\nI followed <a href=\"https://support.wharton.upenn.edu/help/glue-debugging\" rel=\"nofollow noreferrer\">this tutorial</a>, which involves the following three steps:</p>\n<ol>\n<li><code>$ tar xvf apache-maven-3.6.0-bin.tar.gz -C $HOME/bin/</code> to extract the maven archive.</li>\n<li><code>$ export PATH=&quot;$HOME/bin/apache-maven-3.6.0/bin:$PATH&quot;</code></li>\n<li><code>$ export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-11.0.12.0.7-0.el7_9.x86_64</code></li>\n</ol>\n<p>The further setup wasn't successful so I just ditched the process and went back to my usual mvn company project. But now, it seems like something was disrupted by one of (of all of) the three steps, and now when I execute <code>mvn install</code> to my company project, it's giving me error that says</p>\n<pre><code>Non-resolvable parent POM for &lt;company repo&gt;\n... and 'parent.relativePath' points at wrong local POM....\n</code></pre>\n<p>I must have messed up the environment by going through the steps, but I have no clue how to fix it. If you have any idea or insight, please kindly share. Thank you very in advance!</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645745692,"post_id":71259409,"comment_id":125959714,"body_markdown":"Is a `fixedDelay` of 10 minutes acceptable? (I&#39;m assuming you mean `@Scheduled` not `@Schedule`). That would mean that you would have up to 30 minutes between executions.","body":"Is a <code>fixedDelay</code> of 10 minutes acceptable? (I&#39;m assuming you mean <code>@Scheduled</code> not <code>@Schedule</code>). That would mean that you would have up to 30 minutes between executions."},{"owner":{"account_id":216544,"reputation":647,"user_id":471861,"accept_rate":75,"display_name":"trio"},"score":0,"creation_date":1645746148,"post_id":71259409,"comment_id":125959793,"body_markdown":"@tgdavies Yes! fixedDelay is something that would work perfectly!  So, if I have a fixedDelay of 10 mins then my next task will only have to wait for 10mins after the finish of task1. I am not sure how, it will take 30 mins between execution?","body":"@tgdavies Yes! fixedDelay is something that would work perfectly!  So, if I have a fixedDelay of 10 mins then my next task will only have to wait for 10mins after the finish of task1. I am not sure how, it will take 30 mins between execution?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645746449,"post_id":71259409,"comment_id":125959840,"body_markdown":"If one execution takes 20 minutes, then the start time of the next execution will be 30 minutes after the start time of the previous execution, which may be fine, but is something to be aware of.","body":"If one execution takes 20 minutes, then the start time of the next execution will be 30 minutes after the start time of the previous execution, which may be fine, but is something to be aware of."},{"owner":{"account_id":216544,"reputation":647,"user_id":471861,"accept_rate":75,"display_name":"trio"},"score":0,"creation_date":1646085860,"post_id":71259409,"comment_id":126033345,"body_markdown":"Hi @tgdavies if you can post this as an answer that&#39;d be great.","body":"Hi @tgdavies if you can post this as an answer that&#39;d be great."}],"owner":{"account_id":216544,"reputation":647,"user_id":471861,"accept_rate":75,"display_name":"trio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645755352,"creation_date":1645745387,"question_id":71259409,"body_markdown":"I am writing a spring-boot application with @Scheduled or Shedlock which runs a function every 10 mins. That function may take varying times depending on the load, 10 min or maybe even 20 mins. \r\n\r\nI want to make sure that the @Scheduled or Shedlock doesn&#39;t run another instance of that function while the current function is actively running. What&#39;s the best way of doing that?\r\n\r\nI don&#39;t have a database, but I was thinking I can use DynamoDB or Redis Cache. One issue I can see is that if let&#39;s say the application crashes in the middle of the job, it will still have the cache entry. Sure, I can add a TTL to the cache entry, but then the app will still have to wait till the TTL expires.\r\n\r\nIs there a better way to handle this situation?","title":"how can I make sure only 1 instance of the function is running at any given time?","body":"<p>I am writing a spring-boot application with @Scheduled or Shedlock which runs a function every 10 mins. That function may take varying times depending on the load, 10 min or maybe even 20 mins.</p>\n<p>I want to make sure that the @Scheduled or Shedlock doesn't run another instance of that function while the current function is actively running. What's the best way of doing that?</p>\n<p>I don't have a database, but I was thinking I can use DynamoDB or Redis Cache. One issue I can see is that if let's say the application crashes in the middle of the job, it will still have the cache entry. Sure, I can add a TTL to the cache entry, but then the app will still have to wait till the TTL expires.</p>\n<p>Is there a better way to handle this situation?</p>\n"},{"tags":["java","hive","apache-flink"],"comments":[{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1645606216,"post_id":71233490,"comment_id":125913644,"body_markdown":"Please share enough information to reproduce the problem and enough of the stack trace that we can figure out where in the code the exception was thrown.","body":"Please share enough information to reproduce the problem and enough of the stack trace that we can figure out where in the code the exception was thrown."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1645634330,"post_id":71233490,"comment_id":125926169,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":24350690,"reputation":1,"user_id":18286559,"display_name":"kunghsu"},"score":0,"creation_date":1645690281,"post_id":71233490,"comment_id":125940390,"body_markdown":"The truth has been established\nWhen looking up the hive dimension table, it must be select *, even if you do not use all the columns, you have to use select *.\nI think this is a bug of flink. I don&#39;t use all the columns, why do I have to select all the columns when joining?\nI would suggest that apache can fix this if it can.","body":"The truth has been established When looking up the hive dimension table, it must be select *, even if you do not use all the columns, you have to use select *. I think this is a bug of flink. I don&#39;t use all the columns, why do I have to select all the columns when joining? I would suggest that apache can fix this if it can."}],"answers":[{"tags":[],"owner":{"account_id":24350690,"reputation":1,"user_id":18286559,"display_name":"kunghsu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1645753812,"creation_date":1645753812,"answer_id":71260158,"question_id":71233490,"body_markdown":"The final solution is: select *","title":"Missing conversion is FlinkLogicalJoin: LOGICAL -&gt; STREAM_PHYSICAL","body":"<p>The final solution is: select *</p>\n"}],"owner":{"account_id":24350690,"reputation":1,"user_id":18286559,"display_name":"kunghsu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71260158,"answer_count":1,"score":-1,"last_activity_date":1645753812,"creation_date":1645604728,"question_id":71233490,"body_markdown":"The following exception is encountered when running the flink+hive program:\r\nThere are not enough rules to produce a node with desired properties\r\nMissing conversion is FlinkLogicalJoin: LOGICAL -&gt; STREAM_PHYSICAL\r\n\r\n\r\nI think this is a bug of flink.","title":"Missing conversion is FlinkLogicalJoin: LOGICAL -&gt; STREAM_PHYSICAL","body":"<p>The following exception is encountered when running the flink+hive program:\nThere are not enough rules to produce a node with desired properties\nMissing conversion is FlinkLogicalJoin: LOGICAL -&gt; STREAM_PHYSICAL</p>\n<p>I think this is a bug of flink.</p>\n"},{"tags":["java","grpc","netty","race-condition","graceful-shutdown"],"comments":[{"owner":{"account_id":5434903,"reputation":1775,"user_id":11269045,"display_name":"Cl&#233;ment Jean"},"score":0,"creation_date":1645755952,"post_id":71259585,"comment_id":125961320,"body_markdown":"Could you share a minimum reproducible example? willing to help on that","body":"Could you share a minimum reproducible example? willing to help on that"},{"owner":{"account_id":1160035,"reputation":43,"user_id":1139746,"display_name":"depth13"},"score":0,"creation_date":1645757755,"post_id":71259585,"comment_id":125961626,"body_markdown":"I&#39;ll try to pull together an example.  Unfortunately the current code is part of a much bigger project, but I can probably extract the relevant parts.","body":"I&#39;ll try to pull together an example.  Unfortunately the current code is part of a much bigger project, but I can probably extract the relevant parts."}],"owner":{"account_id":1160035,"reputation":43,"user_id":1139746,"display_name":"depth13"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645753505,"creation_date":1645747068,"question_id":71259585,"body_markdown":"I have a unit test that attempts to verify a graceful grpc server shutdown by sending some grpc calls to the server, shutting down the server, and verifying the requests completed before the server shutdown.\r\n\r\nIn the test thread I spin up 5 threads that each execute one client rpc call.\r\n\r\nIn the service end I decrement a countdown latch (receivedLatch) to ensure the call has been received, and then sleep for a few seconds.\r\n\r\nBack in the main test thread I assert that the receivedLatch is 0 by calling receivedLatch.await().\r\n\r\nAt this point my understanding is all 5 client calls are connected to the server and are processing (sleeping).\r\n\r\nAfter that I call:\r\n```\r\ngrpcServer.shutdown()\r\ngrpcServer.awaitTermination(25000, TimeUnit.MILLISECONDS)\r\n```\r\n\r\nThe issue is a race condition, in that sometimes the test completes successfully, and other times the test errors out on the rpc call in the test thread with the exception:\r\n\r\n&gt;io.grpc.StatusRuntimeException: UNAVAILABLE: Connection closed after GOAWAY. HTTP/2 error code: NO_ERROR, debug data: app_requested\r\n\r\nLooking into this error I found that:\r\n 1. UNAVAILABLE... GOAWAY is sent to clients that are attempting to connect to the server that is currently shutting down. \r\n 2. &quot;debug data: app_requested&quot; comes from the close method NettyServerHandler.GracefulShutdown()\r\n\r\n \r\nSo the questions are:\r\n\r\n1. How is the client not connected since I have asserted my receivedLatch is 0 and the countdown for that latch is in the service method for the RPC call.  If it were CANCELLED it would make more sense.\r\n\r\n\r\n2. Why is the NettyServerHandler getting called before my in-process RPCs have completed as my understanding is that&#39;s what awaitTermination should handle.**\r\n\r\nIs the call to close in NettyServiceHandler happening directly upon the call to grpcServer.shutdown().  If so wouldn&#39;t that always be a race?\r\n\r\nThank you,\r\n\r\n","title":"GRPC: Why does client receive &quot;UNAVAILABLE: Connection closed after GOAWAY. HTTP/2&quot; if server is processing request","body":"<p>I have a unit test that attempts to verify a graceful grpc server shutdown by sending some grpc calls to the server, shutting down the server, and verifying the requests completed before the server shutdown.</p>\n<p>In the test thread I spin up 5 threads that each execute one client rpc call.</p>\n<p>In the service end I decrement a countdown latch (receivedLatch) to ensure the call has been received, and then sleep for a few seconds.</p>\n<p>Back in the main test thread I assert that the receivedLatch is 0 by calling receivedLatch.await().</p>\n<p>At this point my understanding is all 5 client calls are connected to the server and are processing (sleeping).</p>\n<p>After that I call:</p>\n<pre><code>grpcServer.shutdown()\ngrpcServer.awaitTermination(25000, TimeUnit.MILLISECONDS)\n</code></pre>\n<p>The issue is a race condition, in that sometimes the test completes successfully, and other times the test errors out on the rpc call in the test thread with the exception:</p>\n<blockquote>\n<p>io.grpc.StatusRuntimeException: UNAVAILABLE: Connection closed after GOAWAY. HTTP/2 error code: NO_ERROR, debug data: app_requested</p>\n</blockquote>\n<p>Looking into this error I found that:</p>\n<ol>\n<li>UNAVAILABLE... GOAWAY is sent to clients that are attempting to connect to the server that is currently shutting down.</li>\n<li>&quot;debug data: app_requested&quot; comes from the close method NettyServerHandler.GracefulShutdown()</li>\n</ol>\n<p>So the questions are:</p>\n<ol>\n<li><p>How is the client not connected since I have asserted my receivedLatch is 0 and the countdown for that latch is in the service method for the RPC call.  If it were CANCELLED it would make more sense.</p>\n</li>\n<li><p>Why is the NettyServerHandler getting called before my in-process RPCs have completed as my understanding is that's what awaitTermination should handle.**</p>\n</li>\n</ol>\n<p>Is the call to close in NettyServiceHandler happening directly upon the call to grpcServer.shutdown().  If so wouldn't that always be a race?</p>\n<p>Thank you,</p>\n"},{"tags":["java","maven","spring-security","parameters","pom.xml"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1645774249,"post_id":71260083,"comment_id":125964627,"body_markdown":"The issue within an IDE is that you usally don&#39;t have the source code available. But most IDE have an option to download the appropriate source code... I bet VS Code has also such kind of option...this must be configured otherwise your IDE will use a decompiler to show the code which obviously is not really readable...","body":"The issue within an IDE is that you usally don&#39;t have the source code available. But most IDE have an option to download the appropriate source code... I bet VS Code has also such kind of option...this must be configured otherwise your IDE will use a decompiler to show the code which obviously is not really readable..."},{"owner":{"account_id":24371133,"reputation":1,"user_id":18304069,"display_name":"George Kim"},"score":0,"creation_date":1645787425,"post_id":71260083,"comment_id":125968842,"body_markdown":"Thank you for your answer.\nIll look into it along with your advise.","body":"Thank you for your answer. Ill look into it along with your advise."}],"answers":[{"tags":[],"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645753398,"creation_date":1645753249,"answer_id":71260114,"question_id":71260083,"body_markdown":"You have not provided the source code for the library. Without the source, the IDE will still show the prototype (since that can be determined from the .class file) but it will make up names for the arguments, as you see.\r\n\r\nRefer to the VSCode documentation to learn how to attach source jars.\r\n","title":"Java Library&#39;s Parameter Name differs between projects","body":"<p>You have not provided the source code for the library. Without the source, the IDE will still show the prototype (since that can be determined from the .class file) but it will make up names for the arguments, as you see.</p>\n<p>Refer to the VSCode documentation to learn how to attach source jars.</p>\n"}],"owner":{"account_id":24371133,"reputation":1,"user_id":18304069,"display_name":"George Kim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645753398,"creation_date":1645752905,"question_id":71260083,"body_markdown":"I am developing Web Services with the following stacks:\r\n\r\n 1. Spring Boot with Spring Security\r\n 2. Maven -&gt; add dependency from Maven Repo on pom.xml\r\n 3. Vs Code\r\n 4. Two Project (Two VS Code Windows): Production Development &amp; Testing\r\n 5. List item\r\n\r\nDesc:\r\n- In using &#39;SessionRegistry&#39;, when I try to see what is inside the &#39;SessionRegistry.class&#39;, the name of the parameters are as the image below:\r\n\r\n[Problem][1]\r\nImage_1.1) shows no indication on the purpose of the parameter as encircled on the image on the production project.\r\n\r\nStats on Testing Project, and this is my actual Expectation:\r\n\r\n[Expectation][2] Image_1.2) has appropriate name of the parameter and it shows sense what is the purpose of the parameter.\r\n\r\n++ Both of the Project is referring the same dependency thru pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhat I have already tried:\r\n\r\n 1. I have even tried to remove and download all of the dependencies at the Users/../.m2/repository\r\n 2. Wondered if the outdated version was the cause... so even tried to indicate the latest version enumerated on official maven repository website with the follwoing version:\r\n\r\n--\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.6.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n\r\nAwaiting for your advise with an advance grafulness.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MbRxK.png\r\n  [2]: https://i.stack.imgur.com/Is2Wb.png","title":"Java Library&#39;s Parameter Name differs between projects","body":"<p>I am developing Web Services with the following stacks:</p>\n<ol>\n<li>Spring Boot with Spring Security</li>\n<li>Maven -&gt; add dependency from Maven Repo on pom.xml</li>\n<li>Vs Code</li>\n<li>Two Project (Two VS Code Windows): Production Development &amp; Testing</li>\n<li>List item</li>\n</ol>\n<p>Desc:</p>\n<ul>\n<li>In using 'SessionRegistry', when I try to see what is inside the 'SessionRegistry.class', the name of the parameters are as the image below:</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/MbRxK.png\" rel=\"nofollow noreferrer\">Problem</a>\nImage_1.1) shows no indication on the purpose of the parameter as encircled on the image on the production project.</p>\n<p>Stats on Testing Project, and this is my actual Expectation:</p>\n<p><a href=\"https://i.stack.imgur.com/Is2Wb.png\" rel=\"nofollow noreferrer\">Expectation</a> Image_1.2) has appropriate name of the parameter and it shows sense what is the purpose of the parameter.</p>\n<p>++ Both of the Project is referring the same dependency thru pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>What I have already tried:</p>\n<ol>\n<li>I have even tried to remove and download all of the dependencies at the Users/../.m2/repository</li>\n<li>Wondered if the outdated version was the cause... so even tried to indicate the latest version enumerated on official maven repository website with the follwoing version:</li>\n</ol>\n<p>--</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;version&gt;2.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Awaiting for your advise with an advance grafulness.</p>\n"},{"tags":["java","mqtt","bouncycastle","paho"],"comments":[{"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1635697154,"post_id":69754253,"comment_id":123358899,"body_markdown":"Try using `SSLContext.getInstance(&quot;TLS&quot;);`  instead of `SSLContext.getInstance(&quot;TLSv1.2&quot;);`","body":"Try using <code>SSLContext.getInstance(&quot;TLS&quot;);</code>  instead of <code>SSLContext.getInstance(&quot;TLSv1.2&quot;);</code>"},{"owner":{"account_id":7366296,"reputation":739,"user_id":5607943,"display_name":"Nuwan Sameera"},"score":0,"creation_date":1635697870,"post_id":69754253,"comment_id":123359099,"body_markdown":"Tried. But same result","body":"Tried. But same result"},{"owner":{"account_id":1809323,"reputation":11348,"user_id":1645712,"accept_rate":73,"display_name":"gusto2"},"score":1,"creation_date":1635698985,"post_id":69754253,"comment_id":123359347,"body_markdown":"read the err msg `SSLHandshakeException: Received fatal alert: unknown_ca` you could run the client with an option `-Djavax.net.debug=ssl:handshake` to see which certificates and keys are requested and actually sent","body":"read the err msg <code>SSLHandshakeException: Received fatal alert: unknown_ca</code> you could run the client with an option <code>-Djavax.net.debug=ssl:handshake</code> to see which certificates and keys are requested and actually sent"}],"owner":{"account_id":7366296,"reputation":739,"user_id":5607943,"display_name":"Nuwan Sameera"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":820,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645753146,"creation_date":1635424635,"question_id":69754253,"body_markdown":"I have rabbit mq server with mqtt enabled. It is ssl enabled and I have client certificate and key. It successfully connected from MQTTBox and python paho mqtt client. But java paho mqtt client given following error.\r\n\r\n    Exception in thread &quot;main&quot; MqttException (0) - javax.net.ssl.SSLHandshakeException: Received fatal alert: unknown_ca\r\n    \tat org.eclipse.paho.client.mqttv3.internal.ExceptionHelper.createMqttException(ExceptionHelper.java:38)\r\n    \tat org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:738)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: unknown_ca\r\n    \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n    \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n    \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:313)\r\n    \tat java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)\r\n    \tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:186)\r\n    \tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:164)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1144)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1055)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:395)\r\n    \tat org.eclipse.paho.client.mqttv3.internal.SSLNetworkModule.start(SSLNetworkModule.java:159)\r\n    \tat org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:724)\r\n    \t... 1 more\r\n\r\nmaven dependency details\r\n\r\n    &lt;!-- mqtt client--&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.eclipse.paho&lt;/groupId&gt;\r\n    &lt;artifactId&gt;org.eclipse.paho.client.mqttv3&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- ssl support --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n    &lt;artifactId&gt;bcprov-jdk16&lt;/artifactId&gt;\r\n    &lt;version&gt;1.46&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nFollowing is the java code I try to use\r\n\r\n    import org.bouncycastle.jce.provider.BouncyCastleProvider;\r\n    import org.bouncycastle.openssl.PEMReader;\r\n    import org.bouncycastle.openssl.PasswordFinder;\r\n    import org.eclipse.paho.client.mqttv3.MqttClient;\r\n    import org.eclipse.paho.client.mqttv3.MqttConnectOptions;\r\n    import org.eclipse.paho.client.mqttv3.persist.MemoryPersistence;\r\n    \r\n    import javax.net.ssl.KeyManagerFactory;\r\n    import javax.net.ssl.SSLContext;\r\n    import javax.net.ssl.TrustManagerFactory;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    import java.security.*;\r\n    \r\n    import java.io.*;\r\n    import java.security.cert.*;\r\n    import javax.net.ssl.*;\r\n    \r\n    public class ScioMQTTClient {\r\n    \r\n      public static void main(String[] args) throws Exception {\r\n    \r\n        MqttClient mqttClient = new MqttClient(&quot;ssl://server:8883&quot;,\r\n         &quot;clientId1&quot;, new MemoryPersistence());\r\n    \r\n        MqttConnectOptions options = new MqttConnectOptions();\r\n        options.setUserName(&quot;user&quot;);\r\n        options.setPassword(&quot;password&quot;.toCharArray());\r\n    \r\n        SSLSocketFactory socketFactory = getSocketFactory(&quot;ca_certificate.pem&quot;, &quot;client_certificate.pem&quot;,\r\n          &quot;client_key.pem&quot;, &quot;&quot;);\r\n        options.setSocketFactory(socketFactory);\r\n    \r\n        mqttClient.connect(options);\r\n    \r\n        System.out.println(&quot;Connected&quot;);\r\n    \r\n      }\r\n    \r\n      static SSLSocketFactory getSocketFactory(final String caCrtFile, final String crtFile, final String keyFile, final String password) throws Exception {\r\n        Security.addProvider(new BouncyCastleProvider());\r\n    \r\n        // load CA certificate\r\n        PEMReader reader = new PEMReader(new InputStreamReader(new ByteArrayInputStream(Files.readAllBytes(Paths.get(caCrtFile)))));\r\n        X509Certificate caCert = (X509Certificate) reader.readObject();\r\n        reader.close();\r\n    \r\n        // load client certificate\r\n        reader = new PEMReader(new InputStreamReader(new ByteArrayInputStream(Files.readAllBytes(Paths.get(crtFile)))));\r\n        X509Certificate cert = (X509Certificate) reader.readObject();\r\n        reader.close();\r\n    \r\n        // load client private key\r\n        reader = new PEMReader(\r\n          new InputStreamReader(new ByteArrayInputStream(Files.readAllBytes(Paths.get(keyFile)))),\r\n        new PasswordFinder() {\r\n          public char[] getPassword() {\r\n            return password.toCharArray();\r\n          }\r\n        });\r\n        KeyPair key = (KeyPair) reader.readObject();\r\n        reader.close();\r\n    \r\n        // CA certificate is used to authenticate server\r\n        KeyStore caKs = KeyStore.getInstance(&quot;JKS&quot;);\r\n        caKs.load(null, null);\r\n        caKs.setCertificateEntry(&quot;ca-certificate&quot;, caCert);\r\n        TrustManagerFactory tmf = TrustManagerFactory.getInstance(&quot;PKIX&quot;);\r\n        tmf.init(caKs);\r\n    \r\n        // client key and certificates are sent to server so it can authenticate us\r\n        KeyStore ks = KeyStore.getInstance(&quot;JKS&quot;);\r\n        ks.load(null, null);\r\n        ks.setCertificateEntry(&quot;certificate&quot;, cert);\r\n        ks.setKeyEntry(&quot;private-key&quot;, key.getPrivate(), password.toCharArray(), new java.security.cert.Certificate[]{cert});\r\n        KeyManagerFactory kmf = KeyManagerFactory.getInstance(&quot;PKIX&quot;);\r\n        kmf.init(ks, password.toCharArray());\r\n    \r\n        // finally, create SSL socket factory\r\n        SSLContext context = SSLContext.getInstance(&quot;TLSv1.2&quot;);\r\n        context.init(kmf.getKeyManagers(), tmf.getTrustManagers(), null);\r\n        return context.getSocketFactory();\r\n    \r\n      }\r\n    \r\n    }\r\n\r\nWhat is the reason for this.\r\n\r\nFollowing is the python code I use. It is working properly.\r\n\r\n    import paho.mqtt.client as mqtt\r\n    \r\n    # The callback for when the client receives a CONNACK response from the server.\r\n    def on_connect(client, userdata, flags, rc):\r\n      print(&quot;Connected with result code &quot;+str(rc))\r\n    \r\n      client.subscribe(&quot;$SYS/#&quot;)\r\n    \r\n    def on_message(client, userdata, msg):\r\n      print(msg.topic+&quot; &quot;+str(msg.payload))\r\n    \r\n    client = mqtt.Client()\r\n    client.username_pw_set(&quot;user&quot;, password=&quot;password&quot;)\r\n    client.on_connect = on_connect\r\n    client.on_message = on_message\r\n    \r\n    client.tls_set(ca_certs=&quot;ca_certificate.pem&quot;, certfile=&quot;client_certificate.pem&quot;, keyfile=&quot;client_key.pem&quot;)\r\n    \r\n    client.connect(&quot;server&quot;, 8883, 60)\r\n    \r\n    client.loop_forever()\r\n\r\nWhat is the reason to this error.","title":"MQTT SSL connection failed for java client","body":"<p>I have rabbit mq server with mqtt enabled. It is ssl enabled and I have client certificate and key. It successfully connected from MQTTBox and python paho mqtt client. But java paho mqtt client given following error.</p>\n<pre><code>Exception in thread &quot;main&quot; MqttException (0) - javax.net.ssl.SSLHandshakeException: Received fatal alert: unknown_ca\n    at org.eclipse.paho.client.mqttv3.internal.ExceptionHelper.createMqttException(ExceptionHelper.java:38)\n    at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:738)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: unknown_ca\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:313)\n    at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:186)\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:164)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1144)\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1055)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:395)\n    at org.eclipse.paho.client.mqttv3.internal.SSLNetworkModule.start(SSLNetworkModule.java:159)\n    at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:724)\n    ... 1 more\n</code></pre>\n<p>maven dependency details</p>\n<pre><code>&lt;!-- mqtt client--&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.eclipse.paho&lt;/groupId&gt;\n&lt;artifactId&gt;org.eclipse.paho.client.mqttv3&lt;/artifactId&gt;\n&lt;version&gt;1.2.5&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- ssl support --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n&lt;artifactId&gt;bcprov-jdk16&lt;/artifactId&gt;\n&lt;version&gt;1.46&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Following is the java code I try to use</p>\n<pre><code>import org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.bouncycastle.openssl.PEMReader;\nimport org.bouncycastle.openssl.PasswordFinder;\nimport org.eclipse.paho.client.mqttv3.MqttClient;\nimport org.eclipse.paho.client.mqttv3.MqttConnectOptions;\nimport org.eclipse.paho.client.mqttv3.persist.MemoryPersistence;\n\nimport javax.net.ssl.KeyManagerFactory;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.TrustManagerFactory;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.security.*;\n\nimport java.io.*;\nimport java.security.cert.*;\nimport javax.net.ssl.*;\n\npublic class ScioMQTTClient {\n\n  public static void main(String[] args) throws Exception {\n\n    MqttClient mqttClient = new MqttClient(&quot;ssl://server:8883&quot;,\n     &quot;clientId1&quot;, new MemoryPersistence());\n\n    MqttConnectOptions options = new MqttConnectOptions();\n    options.setUserName(&quot;user&quot;);\n    options.setPassword(&quot;password&quot;.toCharArray());\n\n    SSLSocketFactory socketFactory = getSocketFactory(&quot;ca_certificate.pem&quot;, &quot;client_certificate.pem&quot;,\n      &quot;client_key.pem&quot;, &quot;&quot;);\n    options.setSocketFactory(socketFactory);\n\n    mqttClient.connect(options);\n\n    System.out.println(&quot;Connected&quot;);\n\n  }\n\n  static SSLSocketFactory getSocketFactory(final String caCrtFile, final String crtFile, final String keyFile, final String password) throws Exception {\n    Security.addProvider(new BouncyCastleProvider());\n\n    // load CA certificate\n    PEMReader reader = new PEMReader(new InputStreamReader(new ByteArrayInputStream(Files.readAllBytes(Paths.get(caCrtFile)))));\n    X509Certificate caCert = (X509Certificate) reader.readObject();\n    reader.close();\n\n    // load client certificate\n    reader = new PEMReader(new InputStreamReader(new ByteArrayInputStream(Files.readAllBytes(Paths.get(crtFile)))));\n    X509Certificate cert = (X509Certificate) reader.readObject();\n    reader.close();\n\n    // load client private key\n    reader = new PEMReader(\n      new InputStreamReader(new ByteArrayInputStream(Files.readAllBytes(Paths.get(keyFile)))),\n    new PasswordFinder() {\n      public char[] getPassword() {\n        return password.toCharArray();\n      }\n    });\n    KeyPair key = (KeyPair) reader.readObject();\n    reader.close();\n\n    // CA certificate is used to authenticate server\n    KeyStore caKs = KeyStore.getInstance(&quot;JKS&quot;);\n    caKs.load(null, null);\n    caKs.setCertificateEntry(&quot;ca-certificate&quot;, caCert);\n    TrustManagerFactory tmf = TrustManagerFactory.getInstance(&quot;PKIX&quot;);\n    tmf.init(caKs);\n\n    // client key and certificates are sent to server so it can authenticate us\n    KeyStore ks = KeyStore.getInstance(&quot;JKS&quot;);\n    ks.load(null, null);\n    ks.setCertificateEntry(&quot;certificate&quot;, cert);\n    ks.setKeyEntry(&quot;private-key&quot;, key.getPrivate(), password.toCharArray(), new java.security.cert.Certificate[]{cert});\n    KeyManagerFactory kmf = KeyManagerFactory.getInstance(&quot;PKIX&quot;);\n    kmf.init(ks, password.toCharArray());\n\n    // finally, create SSL socket factory\n    SSLContext context = SSLContext.getInstance(&quot;TLSv1.2&quot;);\n    context.init(kmf.getKeyManagers(), tmf.getTrustManagers(), null);\n    return context.getSocketFactory();\n\n  }\n\n}\n</code></pre>\n<p>What is the reason for this.</p>\n<p>Following is the python code I use. It is working properly.</p>\n<pre><code>import paho.mqtt.client as mqtt\n\n# The callback for when the client receives a CONNACK response from the server.\ndef on_connect(client, userdata, flags, rc):\n  print(&quot;Connected with result code &quot;+str(rc))\n\n  client.subscribe(&quot;$SYS/#&quot;)\n\ndef on_message(client, userdata, msg):\n  print(msg.topic+&quot; &quot;+str(msg.payload))\n\nclient = mqtt.Client()\nclient.username_pw_set(&quot;user&quot;, password=&quot;password&quot;)\nclient.on_connect = on_connect\nclient.on_message = on_message\n\nclient.tls_set(ca_certs=&quot;ca_certificate.pem&quot;, certfile=&quot;client_certificate.pem&quot;, keyfile=&quot;client_key.pem&quot;)\n\nclient.connect(&quot;server&quot;, 8883, 60)\n\nclient.loop_forever()\n</code></pre>\n<p>What is the reason to this error.</p>\n"},{"tags":["java","windows","macos","swing","jframe"],"answers":[{"tags":[],"owner":{"account_id":8953437,"reputation":2379,"user_id":6743203,"accept_rate":30,"display_name":"Jay Smith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491887944,"creation_date":1491887944,"answer_id":43337294,"question_id":43337216,"body_markdown":"To catch window close event you need to add `WindowListener` and override method `windowClosing`. Use this code:\r\n\r\n        JFrame frame = new JFrame(...);\r\n        frame.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\r\n         \r\n        frame.addWindowListener( new WindowAdapter()\r\n        {\r\n            public void windowClosing(WindowEvent e)\r\n            {\r\n                JFrame frame = (JFrame)e.getSource();\r\n        ....................\r\n    }\r\n    }","title":"processWindowEvent in mac","body":"<p>To catch window close event you need to add <code>WindowListener</code> and override method <code>windowClosing</code>. Use this code:</p>\n\n<pre><code>    JFrame frame = new JFrame(...);\n    frame.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\n\n    frame.addWindowListener( new WindowAdapter()\n    {\n        public void windowClosing(WindowEvent e)\n        {\n            JFrame frame = (JFrame)e.getSource();\n    ....................\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1645750675,"creation_date":1491889556,"answer_id":43337631,"question_id":43337216,"body_markdown":"# A world without `com.apple.eawt.*`\r\n\r\nYou need to look towards [`java.awt.Desktop`](https://docs.oracle.com/javase/10/docs/api/java/awt/Desktop.html) instead.\r\n\r\nFor example...\r\n\r\n    Desktop.getDesktop().setQuitHandler(new QuitHandler() {\r\n        @Override\r\n        public void handleQuitRequestWith(QuitEvent e, QuitResponse response) {\r\n            // Do some stuff\r\n            //response.cancelQuit();\r\n            //response.performQuit();\r\n        }\r\n    });\r\n    Desktop.getDesktop().setQuitStrategy(QuitStrategy.CLOSE_ALL_WINDOWS);\r\n\r\n\r\n# Original Answer\r\n\r\nWelcome to the wonderful world of &quot;Apple does everything differently&quot;\r\n\r\nBasically what&#39;s happening is, when you &quot;Quit&quot; the program, Apple is calling `System.exit(0)`, basically the same thing that would occur if your used &lt;kbd&gt;CMD&lt;/kbd&gt;+&lt;kbd&gt;Q&lt;/kbd&gt;\r\n\r\nNow, Apple provides an API which provides functionality which you can use to &quot;configure&quot; your App with MacOS and perform some functionality which is unique to Apple, the problem is, it&#39;s a complete pain in the ... code to find useful information about and use.\r\n\r\nWhat you&#39;re looking for is [`com.apple.eawt.ApplictionsetQuitStrategy`](https://coderanch.com/how-to/javadoc/appledoc/api/com/apple/eawt/Application.html#setQuitStrategy(com.apple.eawt.QuitStrategy)).  This defaults to calling `System.exit(0)`, but you can change it to &quot;close all windows&quot; instead.\r\n\r\nIn this case, it would allow you to trap the `WindowEvent` and do what ever it is you want to do\r\n\r\n    import java.awt.event.WindowAdapter;\r\n    import java.awt.event.WindowEvent;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    import java.lang.reflect.Method;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.addWindowListener(new WindowAdapter() {\r\n                        @Override\r\n                        public void windowClosing(WindowEvent e) {\r\n                            System.out.println(&quot;Closing&quot;);\r\n                            System.exit(0);\r\n                        }\r\n                    });\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n\r\n                    try {\r\n                        Class quitStrategies = Class.forName(&quot;com.apple.eawt.QuitStrategy&quot;);\r\n                        Object quitStrategy = null;\r\n                        for (Object o : quitStrategies.getEnumConstants()) {\r\n                            if (&quot;CLOSE_ALL_WINDOWS&quot;.equals(o.toString())) {\r\n                                quitStrategy = o;\r\n                            }\r\n                        }\r\n                        if (quitStrategy != null) {\r\n                            Class appClass = Class.forName(&quot;com.apple.eawt.Application&quot;);\r\n                            Class params[] = new Class[]{};\r\n\r\n                            Method getApplication = appClass.getMethod(&quot;getApplication&quot;, params);\r\n                            Object application = getApplication.invoke(appClass);\r\n                            Method setQuitStrategy = application.getClass().getMethod(&quot;setQuitStrategy&quot;, quitStrategies);\r\n                            setQuitStrategy.invoke(application, quitStrategy);\r\n                        }\r\n\r\n                    } catch (NoSuchMethodException | SecurityException | IllegalAccessException | IllegalArgumentException | InvocationTargetException | ClassNotFoundException ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n        }\r\n    }\r\n\r\nMy general advice is, build a nice &quot;Mac&quot; utilities class which encapsulates the functionality you want to play with and call that.\r\n\r\nAlso beware, this functionality may disappear suddenly in future releases.\r\n\r\nIt should be noted that if you intend to have a &quot;one for all&quot; application, you will need to use reflection, as the required API is not available in the standard API, but if you wanted to make a &quot;Apple&quot; only release, you should have a look at [this](https://stackoverflow.com/questions/30845797/why-is-netbeans-running-my-program-on-os-x-but-not-building-it-into-a-jar) for more information about how you can compile the code on MacOS, because using...\r\n\r\n    Application.getApplication().setQuitStrategy(QuitStrategy.CLOSE_ALL_WINDOWS);\r\n\r\nis hell of a lot easier to write and understand\r\n","title":"processWindowEvent in mac","body":"<h1>A world without <code>com.apple.eawt.*</code></h1>\n<p>You need to look towards <a href=\"https://docs.oracle.com/javase/10/docs/api/java/awt/Desktop.html\" rel=\"nofollow noreferrer\"><code>java.awt.Desktop</code></a> instead.</p>\n<p>For example...</p>\n<pre><code>Desktop.getDesktop().setQuitHandler(new QuitHandler() {\n    @Override\n    public void handleQuitRequestWith(QuitEvent e, QuitResponse response) {\n        // Do some stuff\n        //response.cancelQuit();\n        //response.performQuit();\n    }\n});\nDesktop.getDesktop().setQuitStrategy(QuitStrategy.CLOSE_ALL_WINDOWS);\n</code></pre>\n<h1>Original Answer</h1>\n<p>Welcome to the wonderful world of &quot;Apple does everything differently&quot;</p>\n<p>Basically what's happening is, when you &quot;Quit&quot; the program, Apple is calling <code>System.exit(0)</code>, basically the same thing that would occur if your used <kbd>CMD</kbd>+<kbd>Q</kbd></p>\n<p>Now, Apple provides an API which provides functionality which you can use to &quot;configure&quot; your App with MacOS and perform some functionality which is unique to Apple, the problem is, it's a complete pain in the ... code to find useful information about and use.</p>\n<p>What you're looking for is <a href=\"https://coderanch.com/how-to/javadoc/appledoc/api/com/apple/eawt/Application.html#setQuitStrategy(com.apple.eawt.QuitStrategy)\" rel=\"nofollow noreferrer\"><code>com.apple.eawt.ApplictionsetQuitStrategy</code></a>.  This defaults to calling <code>System.exit(0)</code>, but you can change it to &quot;close all windows&quot; instead.</p>\n<p>In this case, it would allow you to trap the <code>WindowEvent</code> and do what ever it is you want to do</p>\n<pre><code>import java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.addWindowListener(new WindowAdapter() {\n                    @Override\n                    public void windowClosing(WindowEvent e) {\n                        System.out.println(&quot;Closing&quot;);\n                        System.exit(0);\n                    }\n                });\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n\n                try {\n                    Class quitStrategies = Class.forName(&quot;com.apple.eawt.QuitStrategy&quot;);\n                    Object quitStrategy = null;\n                    for (Object o : quitStrategies.getEnumConstants()) {\n                        if (&quot;CLOSE_ALL_WINDOWS&quot;.equals(o.toString())) {\n                            quitStrategy = o;\n                        }\n                    }\n                    if (quitStrategy != null) {\n                        Class appClass = Class.forName(&quot;com.apple.eawt.Application&quot;);\n                        Class params[] = new Class[]{};\n\n                        Method getApplication = appClass.getMethod(&quot;getApplication&quot;, params);\n                        Object application = getApplication.invoke(appClass);\n                        Method setQuitStrategy = application.getClass().getMethod(&quot;setQuitStrategy&quot;, quitStrategies);\n                        setQuitStrategy.invoke(application, quitStrategy);\n                    }\n\n                } catch (NoSuchMethodException | SecurityException | IllegalAccessException | IllegalArgumentException | InvocationTargetException | ClassNotFoundException ex) {\n                    ex.printStackTrace();\n                }\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n    }\n}\n</code></pre>\n<p>My general advice is, build a nice &quot;Mac&quot; utilities class which encapsulates the functionality you want to play with and call that.</p>\n<p>Also beware, this functionality may disappear suddenly in future releases.</p>\n<p>It should be noted that if you intend to have a &quot;one for all&quot; application, you will need to use reflection, as the required API is not available in the standard API, but if you wanted to make a &quot;Apple&quot; only release, you should have a look at <a href=\"https://stackoverflow.com/questions/30845797/why-is-netbeans-running-my-program-on-os-x-but-not-building-it-into-a-jar\">this</a> for more information about how you can compile the code on MacOS, because using...</p>\n<pre><code>Application.getApplication().setQuitStrategy(QuitStrategy.CLOSE_ALL_WINDOWS);\n</code></pre>\n<p>is hell of a lot easier to write and understand</p>\n"}],"owner":{"account_id":6951298,"reputation":770,"user_id":5333841,"accept_rate":57,"display_name":"Naik Ashwini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":43337631,"answer_count":2,"score":3,"last_activity_date":1645750675,"creation_date":1491887450,"question_id":43337216,"body_markdown":"I have a java swing application which has a processWindowEvent method. \r\nbelow is the snippet\r\n\r\n    @Override\r\n      protected void processWindowEvent(WindowEvent e) {\r\n        if (e.getID() == WindowEvent.WINDOW_CLOSING) {\r\n            //exit application with proper error message\r\n        }\r\n      }\r\n    \r\nNow when my swing application is launched in windows.\r\n\r\n 1. close with the cross in swing UI. ==&gt; proper error message is shown\r\n 2. close the application from taskbar ==&gt;proper error message is shown\r\n \r\nbut now if the same step is done in mac.\r\n\r\n 3. close with the cross in swing UI. ==&gt; proper error message is shown\r\n 4. close the application from taskbar ==&gt;does not come inside above method. So no proper message.\r\n\r\nI wanted to know what is the default method which will be called in mac when java swing app is closed from taskbar(the dock)\r\n\r\n\r\n","title":"processWindowEvent in mac","body":"<p>I have a java swing application which has a processWindowEvent method. \nbelow is the snippet</p>\n\n<pre><code>@Override\n  protected void processWindowEvent(WindowEvent e) {\n    if (e.getID() == WindowEvent.WINDOW_CLOSING) {\n        //exit application with proper error message\n    }\n  }\n</code></pre>\n\n<p>Now when my swing application is launched in windows.</p>\n\n<ol>\n<li>close with the cross in swing UI. ==> proper error message is shown</li>\n<li>close the application from taskbar ==>proper error message is shown</li>\n</ol>\n\n<p>but now if the same step is done in mac.</p>\n\n<ol start=\"3\">\n<li>close with the cross in swing UI. ==> proper error message is shown</li>\n<li>close the application from taskbar ==>does not come inside above method. So no proper message.</li>\n</ol>\n\n<p>I wanted to know what is the default method which will be called in mac when java swing app is closed from taskbar(the dock)</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":10093301,"reputation":1,"user_id":10491803,"display_name":"19lenyar94"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574314708,"creation_date":1574313219,"answer_id":58967733,"question_id":58965788,"body_markdown":"Try this way:\r\n\r\n    private static String NAME_COL = &quot;id&quot;;\r\n    \r\n    private static String TABLE_NAME = &quot;quirofanos&quot;;\r\n\r\n       public void borrarAlgo (long id) {\r\n            SQLiteDatabase baseDeDatos = db.getWritableDatabase();\r\n            String idConv = String.valueOf(id);\r\n            // -1 is that it failed to delete\r\n            int deleteRow = baseDeDatos.delete(TABLE_NAME, NAME_COL+ &quot;= &#39;&quot; + idConv + &quot;&#39;&quot;, null);\r\n\r\n        }\r\n\r\n\r\n\r\nPut a break point on the line\r\n\r\n    // THIS IS THE DELETE METHOD\r\n    \r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; public void delete Something (long id) {\r\n    \r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ...\r\n    \r\n    --------&gt; String idConv = String.valueOf (id);\r\n    \r\n    \r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ...\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }\r\n    \r\n    Check that\r\n    \r\n    public void delete Something (long id) {\r\n    \r\n    ...\r\n    \r\n    &#160;&#160;&#160;&#160;&#160; ------&gt; SQLiteDatabase databaseData = db.getWritableDatabase ();\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; \r\n    \r\n    ...\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }\r\n\r\nIt is taking a different value from null, that is, the database.\r\n\r\n","title":"Android Studio, Error triying to delete Sql registry from custom listview button","body":"<p>Try this way:</p>\n\n<pre><code>private static String NAME_COL = \"id\";\n\nprivate static String TABLE_NAME = \"quirofanos\";\n\n   public void borrarAlgo (long id) {\n        SQLiteDatabase baseDeDatos = db.getWritableDatabase();\n        String idConv = String.valueOf(id);\n        // -1 is that it failed to delete\n        int deleteRow = baseDeDatos.delete(TABLE_NAME, NAME_COL+ \"= '\" + idConv + \"'\", null);\n\n    }\n</code></pre>\n\n<p>Put a break point on the line</p>\n\n<pre><code>// THIS IS THE DELETE METHOD\n\n         public void delete Something (long id) {\n\n             ...\n\n--------&gt; String idConv = String.valueOf (id);\n\n\n             ...\n         }\n\nCheck that\n\npublic void delete Something (long id) {\n\n...\n\n      ------&gt; SQLiteDatabase databaseData = db.getWritableDatabase ();\n             \n\n...\n         }\n</code></pre>\n\n<p>It is taking a different value from null, that is, the database.</p>\n"}],"owner":{"account_id":14359842,"reputation":1,"user_id":10372497,"display_name":"Gabriel Mc Gann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645750332,"creation_date":1574298789,"question_id":58965788,"body_markdown":"First, I know this question must be done a million times, and I have read all of them but I can&#39;t get it to work. \r\nHave a Custom listview with delete button on each row. That part works fine, I can put the data of the object clicked on a Toastmessage or console, but when I try to implement the delete from db method, the app crashes with error:\r\n\r\n&gt;&quot; java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.io.File android.content.Context.getDatabasePath(java.lang.String)&#39; on a null object reference &quot;\r\n\r\nOkay so now I shall share my codes with you. \r\nFirst the Controller class which holds all the methods for database transactions:\r\n\r\n\r\n        public class ControllerQuirofanos {\r\n        \r\n            private BaseDatos db;\r\n        \r\n            public ControllerQuirofanos(Context contexto) {\r\n        \r\n                db = new BaseDatos(contexto);\r\n            }\r\n        \r\n    //THIS IS THE DELETE METHOD\r\n            public void borrarAlgo (long id) {\r\n                SQLiteDatabase baseDeDatos = db.getWritableDatabase();\r\n                String[] argumentos = {String.valueOf(id)};\r\n                baseDeDatos.delete(&quot;quirofanos&quot;, &quot;id = ?&quot;, argumentos);\r\n            }\r\n        \r\n            public boolean delete(long id)\r\n            {\r\n                try\r\n                {\r\n                    SQLiteDatabase baseDeDatos = db.getWritableDatabase();\r\n                    int result=baseDeDatos.delete(&quot;quirofanos&quot;,&quot;id=?&quot;,new String[]{String.valueOf(id)});\r\n                    if(result&gt;0)\r\n                    {\r\n                        return true;\r\n                    }\r\n        \r\n                }catch (SQLException e)\r\n                {\r\n                    e.printStackTrace();\r\n                }\r\n        \r\n                return false;\r\n            }\r\n        \r\n        \r\n            public long nuevoQuirofano(Quirofano quirofano) {\r\n                // writable porque vamos a insertar\r\n                SQLiteDatabase baseDeDatos = db.getWritableDatabase();\r\n                ContentValues valoresParaInsertar = new ContentValues();\r\n                valoresParaInsertar.put(&quot;nombre&quot;, quirofano.getNombre());\r\n                return baseDeDatos.insert(&quot;quirofanos&quot;, null, valoresParaInsertar);\r\n            }\r\n        \r\n            //listar\r\n            public ArrayList&lt;Quirofano&gt; obtenerQuirofanos() {\r\n                ArrayList&lt;Quirofano&gt; quirofanos = new ArrayList&lt;&gt;();\r\n                SQLiteDatabase baseDeDatos = db.getReadableDatabase();\r\n                String[] columnasAConsultar = {&quot;id&quot;,&quot;nombre&quot;};\r\n                Cursor cursor = baseDeDatos.query(\r\n                        &quot;quirofanos&quot;,\r\n                        columnasAConsultar,\r\n                        null,\r\n                        null,\r\n                        null,\r\n                        null,\r\n                        null\r\n                );\r\n        \r\n                if (cursor == null) {\r\n                    /*\r\n                        Salimos aqu&#237; porque hubo un error, regresar\r\n                        lista vac&#237;a\r\n                     */\r\n                    return quirofanos;\r\n        \r\n                }\r\n                if (!cursor.moveToFirst()) return quirofanos;\r\n        \r\n                do {\r\n                    long idQuirofano = cursor.getLong(0);\r\n                    String nombreObtenidoDeBD = cursor.getString(1);\r\n                    Quirofano personaObtenidaDeDB = new Quirofano(idQuirofano,nombreObtenidoDeBD);\r\n                    quirofanos.add(personaObtenidaDeDB);\r\n                } while (cursor.moveToNext());\r\n        \r\n                cursor.close();\r\n                return quirofanos;\r\n            }\r\n        \r\n        \r\n            //borrarTodo\r\n            public void borrarTodo(){\r\n                SQLiteDatabase baseDeDatos = db.getWritableDatabase();\r\n                baseDeDatos.delete(&quot;quirofanos&quot;, null, null);\r\n            }\r\n        }\r\n\r\nThen the Custom adapter class\r\n\r\n   \r\n\r\n     public class Adaptador_lista_quirofanos extends BaseAdapter implements ListAdapter {\r\n            private ArrayList&lt;Quirofano&gt; list;\r\n            private Context context;\r\n            final ControllerQuirofanos controller = new ControllerQuirofanos(context) ;\r\n        \r\n        \r\n            public Adaptador_lista_quirofanos(ArrayList&lt;Quirofano&gt; list, Context context) {\r\n                this.list = list;\r\n                this.context = context;\r\n            }\r\n        \r\n            @Override\r\n            public int getCount() {\r\n                return list.size();\r\n            }\r\n        \r\n            @Override\r\n            public Object getItem(int pos) {\r\n                return list.get(pos);\r\n            }\r\n        \r\n            @Override\r\n            public long getItemId(int pos) {\r\n                return list.get(pos).getId();\r\n                //just return 0 if your list items do not have an Id variable.\r\n            }\r\n        \r\n            @Override\r\n            public View getView(final int position, View convertView, ViewGroup parent) {\r\n                View view = convertView;\r\n                if (view == null) {\r\n                    LayoutInflater inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n                    view = inflater.inflate(R.layout.fila_quirofano, null);\r\n                }\r\n        \r\n                //Handle TextView and display string from your list\r\n                TextView listItemText = view.findViewById(R.id.tv_fila_quirofano);\r\n                listItemText.setText(list.get(position).getNombre());\r\n        \r\n                //Handle buttons and add onClickListeners\r\n                Button deleteBtn = view.findViewById(R.id.btn_eliminar_lista_quirofano);\r\n        \r\n                deleteBtn.setOnClickListener(new View.OnClickListener(){\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        final long id_a_eliminar = list.get(position).getId();\r\n                        list.remove(position); //or some other task\r\n                        notifyDataSetChanged(); //this works\r\n                        System.out.println(id_a_eliminar); //this works\r\n                        controller.borrarAlgo(id_a_eliminar); //this is where the app crash\r\n        \r\n                     }\r\n                });\r\n        \r\n                listItemText.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        String quirofanoClicado = list.get(position).getNombre();\r\n                        Toast.makeText(context.getApplicationContext(), &quot;Clicaste a &quot; + quirofanoClicado, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n        \r\n                return view;\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\nThe database Helper class\r\n\r\npublic class BaseDatos extends SQLiteOpenHelper {\r\n\r\n\r\n        public BaseDatos(Context context) {\r\n            super(context, &quot;administrador.db&quot;, null, 1);\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(SQLiteDatabase db) {\r\n            db.execSQL(String.format(&quot;CREATE TABLE IF NOT EXISTS %s(id integer primary key autoincrement, nombre text)&quot;, &quot;quirofanos&quot;));\r\n        }\r\n    \r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\nmain activity\r\n\r\n    package com.example.prueba;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.ImageButton;\r\n    import android.widget.ListView;\r\n    import android.widget.Toast;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n    \r\n        private EditText txtNuevo;\r\n        private ImageButton btnNuevo;\r\n        private ListView lv_quirofanos;\r\n        private ControllerQuirofanos controller;\r\n        private Button wipear;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            txtNuevo =  findViewById(R.id.txtNuevo);\r\n            btnNuevo =  findViewById(R.id.btnNuevo);\r\n            lv_quirofanos =  findViewById(R.id.lv_quirofanos);\r\n            controller= new ControllerQuirofanos(MainActivity.this);\r\n            wipear =  findViewById(R.id.wipe);\r\n    \r\n    \r\n            // Agregar listener del bot&#243;n de guardar\r\n            btnNuevo.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    // Resetear errores a ambos\r\n                    txtNuevo.setError(null);\r\n                    String nombre = txtNuevo.getText().toString();\r\n    \r\n                    if (&quot;&quot;.equals(nombre)) {\r\n                        txtNuevo.setError(&quot;Escribe el nombre del Quir&#243;fano&quot;);\r\n                        txtNuevo.requestFocus();\r\n                        return;\r\n                    }\r\n                    // Ya pas&#243; la validaci&#243;n\r\n                    Quirofano newQuirofano = new Quirofano(nombre);\r\n                    long id = controller.nuevoQuirofano(newQuirofano);\r\n                    if (id == -1) {\r\n                        // De alguna manera ocurri&#243; un error\r\n                        Toast.makeText(MainActivity.this, &quot;Error al guardar. Intenta de nuevo&quot;, Toast.LENGTH_SHORT).show();\r\n                    } else {\r\n                        Toast.makeText(MainActivity.this, &quot;Quir&#243;fano Agregado!&quot;, Toast.LENGTH_SHORT).show();\r\n                        cargarLista();\r\n                    }\r\n                }\r\n            });\r\n            wipear.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    controller.borrarTodo();\r\n                    Toast.makeText(MainActivity.this, &quot;Todos registros eliminados amigo&quot;, Toast.LENGTH_SHORT).show();\r\n                    cargarLista();\r\n                }\r\n            });\r\n    \r\n            //llenar arraylist con lo que haya en la db\r\n            cargarLista();\r\n        }//on create\r\n    \r\n        //charge the listview\r\n        public void cargarLista () {\r\n            Adaptador_lista_quirofanos adaptador_lista_quirofanos = new Adaptador_lista_quirofanos(controller.obtenerQuirofanos(), this);\r\n            lv_quirofanos.setAdapter(adaptador_lista_quirofanos);\r\n        }\r\n    \r\n    \r\n    }//class\r\n\r\n\r\n\r\n\r\n","title":"Android Studio, Error triying to delete Sql registry from custom listview button","body":"<p>First, I know this question must be done a million times, and I have read all of them but I can't get it to work.\nHave a Custom listview with delete button on each row. That part works fine, I can put the data of the object clicked on a Toastmessage or console, but when I try to implement the delete from db method, the app crashes with error:</p>\n<blockquote>\n<p>&quot; java.lang.NullPointerException: Attempt to invoke virtual method 'java.io.File android.content.Context.getDatabasePath(java.lang.String)' on a null object reference &quot;</p>\n</blockquote>\n<p>Okay so now I shall share my codes with you.\nFirst the Controller class which holds all the methods for database transactions:</p>\n<pre><code>    public class ControllerQuirofanos {\n    \n        private BaseDatos db;\n    \n        public ControllerQuirofanos(Context contexto) {\n    \n            db = new BaseDatos(contexto);\n        }\n    \n//THIS IS THE DELETE METHOD\n        public void borrarAlgo (long id) {\n            SQLiteDatabase baseDeDatos = db.getWritableDatabase();\n            String[] argumentos = {String.valueOf(id)};\n            baseDeDatos.delete(&quot;quirofanos&quot;, &quot;id = ?&quot;, argumentos);\n        }\n    \n        public boolean delete(long id)\n        {\n            try\n            {\n                SQLiteDatabase baseDeDatos = db.getWritableDatabase();\n                int result=baseDeDatos.delete(&quot;quirofanos&quot;,&quot;id=?&quot;,new String[]{String.valueOf(id)});\n                if(result&gt;0)\n                {\n                    return true;\n                }\n    \n            }catch (SQLException e)\n            {\n                e.printStackTrace();\n            }\n    \n            return false;\n        }\n    \n    \n        public long nuevoQuirofano(Quirofano quirofano) {\n            // writable porque vamos a insertar\n            SQLiteDatabase baseDeDatos = db.getWritableDatabase();\n            ContentValues valoresParaInsertar = new ContentValues();\n            valoresParaInsertar.put(&quot;nombre&quot;, quirofano.getNombre());\n            return baseDeDatos.insert(&quot;quirofanos&quot;, null, valoresParaInsertar);\n        }\n    \n        //listar\n        public ArrayList&lt;Quirofano&gt; obtenerQuirofanos() {\n            ArrayList&lt;Quirofano&gt; quirofanos = new ArrayList&lt;&gt;();\n            SQLiteDatabase baseDeDatos = db.getReadableDatabase();\n            String[] columnasAConsultar = {&quot;id&quot;,&quot;nombre&quot;};\n            Cursor cursor = baseDeDatos.query(\n                    &quot;quirofanos&quot;,\n                    columnasAConsultar,\n                    null,\n                    null,\n                    null,\n                    null,\n                    null\n            );\n    \n            if (cursor == null) {\n                /*\n                    Salimos aquí porque hubo un error, regresar\n                    lista vacía\n                 */\n                return quirofanos;\n    \n            }\n            if (!cursor.moveToFirst()) return quirofanos;\n    \n            do {\n                long idQuirofano = cursor.getLong(0);\n                String nombreObtenidoDeBD = cursor.getString(1);\n                Quirofano personaObtenidaDeDB = new Quirofano(idQuirofano,nombreObtenidoDeBD);\n                quirofanos.add(personaObtenidaDeDB);\n            } while (cursor.moveToNext());\n    \n            cursor.close();\n            return quirofanos;\n        }\n    \n    \n        //borrarTodo\n        public void borrarTodo(){\n            SQLiteDatabase baseDeDatos = db.getWritableDatabase();\n            baseDeDatos.delete(&quot;quirofanos&quot;, null, null);\n        }\n    }\n</code></pre>\n<p>Then the Custom adapter class</p>\n<pre><code> public class Adaptador_lista_quirofanos extends BaseAdapter implements ListAdapter {\n        private ArrayList&lt;Quirofano&gt; list;\n        private Context context;\n        final ControllerQuirofanos controller = new ControllerQuirofanos(context) ;\n    \n    \n        public Adaptador_lista_quirofanos(ArrayList&lt;Quirofano&gt; list, Context context) {\n            this.list = list;\n            this.context = context;\n        }\n    \n        @Override\n        public int getCount() {\n            return list.size();\n        }\n    \n        @Override\n        public Object getItem(int pos) {\n            return list.get(pos);\n        }\n    \n        @Override\n        public long getItemId(int pos) {\n            return list.get(pos).getId();\n            //just return 0 if your list items do not have an Id variable.\n        }\n    \n        @Override\n        public View getView(final int position, View convertView, ViewGroup parent) {\n            View view = convertView;\n            if (view == null) {\n                LayoutInflater inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n                view = inflater.inflate(R.layout.fila_quirofano, null);\n            }\n    \n            //Handle TextView and display string from your list\n            TextView listItemText = view.findViewById(R.id.tv_fila_quirofano);\n            listItemText.setText(list.get(position).getNombre());\n    \n            //Handle buttons and add onClickListeners\n            Button deleteBtn = view.findViewById(R.id.btn_eliminar_lista_quirofano);\n    \n            deleteBtn.setOnClickListener(new View.OnClickListener(){\n                @Override\n                public void onClick(View v) {\n                    final long id_a_eliminar = list.get(position).getId();\n                    list.remove(position); //or some other task\n                    notifyDataSetChanged(); //this works\n                    System.out.println(id_a_eliminar); //this works\n                    controller.borrarAlgo(id_a_eliminar); //this is where the app crash\n    \n                 }\n            });\n    \n            listItemText.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    String quirofanoClicado = list.get(position).getNombre();\n                    Toast.makeText(context.getApplicationContext(), &quot;Clicaste a &quot; + quirofanoClicado, Toast.LENGTH_SHORT).show();\n                }\n            });\n    \n            return view;\n        }\n    }\n</code></pre>\n<p>The database Helper class</p>\n<p>public class BaseDatos extends SQLiteOpenHelper {</p>\n<pre><code>    public BaseDatos(Context context) {\n        super(context, &quot;administrador.db&quot;, null, 1);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(String.format(&quot;CREATE TABLE IF NOT EXISTS %s(id integer primary key autoincrement, nombre text)&quot;, &quot;quirofanos&quot;));\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n\n    }\n\n}\n</code></pre>\n<p>main activity</p>\n<pre><code>package com.example.prueba;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ImageButton;\nimport android.widget.ListView;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n\n\n    private EditText txtNuevo;\n    private ImageButton btnNuevo;\n    private ListView lv_quirofanos;\n    private ControllerQuirofanos controller;\n    private Button wipear;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        txtNuevo =  findViewById(R.id.txtNuevo);\n        btnNuevo =  findViewById(R.id.btnNuevo);\n        lv_quirofanos =  findViewById(R.id.lv_quirofanos);\n        controller= new ControllerQuirofanos(MainActivity.this);\n        wipear =  findViewById(R.id.wipe);\n\n\n        // Agregar listener del botón de guardar\n        btnNuevo.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                // Resetear errores a ambos\n                txtNuevo.setError(null);\n                String nombre = txtNuevo.getText().toString();\n\n                if (&quot;&quot;.equals(nombre)) {\n                    txtNuevo.setError(&quot;Escribe el nombre del Quirófano&quot;);\n                    txtNuevo.requestFocus();\n                    return;\n                }\n                // Ya pasó la validación\n                Quirofano newQuirofano = new Quirofano(nombre);\n                long id = controller.nuevoQuirofano(newQuirofano);\n                if (id == -1) {\n                    // De alguna manera ocurrió un error\n                    Toast.makeText(MainActivity.this, &quot;Error al guardar. Intenta de nuevo&quot;, Toast.LENGTH_SHORT).show();\n                } else {\n                    Toast.makeText(MainActivity.this, &quot;Quirófano Agregado!&quot;, Toast.LENGTH_SHORT).show();\n                    cargarLista();\n                }\n            }\n        });\n        wipear.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                controller.borrarTodo();\n                Toast.makeText(MainActivity.this, &quot;Todos registros eliminados amigo&quot;, Toast.LENGTH_SHORT).show();\n                cargarLista();\n            }\n        });\n\n        //llenar arraylist con lo que haya en la db\n        cargarLista();\n    }//on create\n\n    //charge the listview\n    public void cargarLista () {\n        Adaptador_lista_quirofanos adaptador_lista_quirofanos = new Adaptador_lista_quirofanos(controller.obtenerQuirofanos(), this);\n        lv_quirofanos.setAdapter(adaptador_lista_quirofanos);\n    }\n\n\n}//class\n</code></pre>\n"},{"tags":["java","tomcat"],"answers":[{"tags":[],"owner":{"account_id":24310719,"reputation":21,"user_id":18252786,"display_name":"user18252786"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645750165,"creation_date":1645750165,"answer_id":71259861,"question_id":71187336,"body_markdown":"Continuing to experiment with the settings in server.xml, I noticed the issue did not occur when using http: instead of https:.  At this point I was pretty sure the issue was in the connector shown above.  After reviewing all of the attributes and nested elements in the Tomcat 10 documentation, I commented out the UpgradeProtocol element.  After restarting Tomcat the issue was resolved.  I&#39;m not sure exactly what this protocol does differently but it was definitely the source of the problem.","title":"Tomcat 10 not closing files on the server","body":"<p>Continuing to experiment with the settings in server.xml, I noticed the issue did not occur when using http: instead of https:.  At this point I was pretty sure the issue was in the connector shown above.  After reviewing all of the attributes and nested elements in the Tomcat 10 documentation, I commented out the UpgradeProtocol element.  After restarting Tomcat the issue was resolved.  I'm not sure exactly what this protocol does differently but it was definitely the source of the problem.</p>\n"}],"owner":{"account_id":24310719,"reputation":21,"user_id":18252786,"display_name":"user18252786"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645750165,"creation_date":1645291218,"question_id":71187336,"body_markdown":"I recently upgraded to Tomcat 10.  Everything is working perfectly except for one thing.  If I download a file from the server via the browser, the file remains open on the server.  \r\n\r\nI&#39;m running the following: Windows 11, java 11.0.12 2021-07-20 LTS, Tomcat 10.0.14, Firefox 97.0.1\r\n\r\nIn a new Firefox tab, I enter https://dg.localhost.com/nl/editions/NL202202.odt as the URL.  Using Windows Resource Monitor I see the file open as soon as I press Enter.  The file downloads and opens in Apache OpenOffice Writer. At this point, just close Writer.  \r\n\r\nGoing back to the Resource Monitor the file on the server C:\\webdevenv\\dataGen\\nl\\editions\\NL202202.odt remains open for approximately five to ten minutes.  In my previous Tomcat 8 installation the file would close on the server as soon as the download was complete.\r\n\r\nIn server.xml I have the following connector:\r\n```\r\n    &lt;Connector port=&quot;443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot; \t   sslImplementationName=&quot;org.apache.tomcat.util.net.openssl.OpenSSLImplementation&quot; connectionTimeout=&quot;20000&quot; maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot; clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot;&gt;\r\n        &lt;UpgradeProtocol className=&quot;org.apache.coyote.http2.Http2Protocol&quot; /&gt;\r\n        &lt;SSLHostConfig&gt;\r\n            &lt;Certificate certificateKeystoreFile=&quot;C:/webdevenv/tomcat10/conf/lhkey.store&quot; \r\n\t\t\t             certificateKeyAlias=&quot;datagen&quot;\r\n\t\t\t\t\t\t certificateKeystorePassword=&quot;dataGenKey&quot;\r\n\t\t\t\t\t\t type=&quot;RSA&quot;\r\n\t\t\t\t\t\t certificateKeystoreType=&quot;PKCS12&quot; /&gt;\r\n        &lt;/SSLHostConfig&gt;\r\n    &lt;/Connector&gt;\r\n\r\n```\r\nIs there any way to control how long Tomcat 10 keeps a file like this open?","title":"Tomcat 10 not closing files on the server","body":"<p>I recently upgraded to Tomcat 10.  Everything is working perfectly except for one thing.  If I download a file from the server via the browser, the file remains open on the server.</p>\n<p>I'm running the following: Windows 11, java 11.0.12 2021-07-20 LTS, Tomcat 10.0.14, Firefox 97.0.1</p>\n<p>In a new Firefox tab, I enter <a href=\"https://dg.localhost.com/nl/editions/NL202202.odt\" rel=\"nofollow noreferrer\">https://dg.localhost.com/nl/editions/NL202202.odt</a> as the URL.  Using Windows Resource Monitor I see the file open as soon as I press Enter.  The file downloads and opens in Apache OpenOffice Writer. At this point, just close Writer.</p>\n<p>Going back to the Resource Monitor the file on the server C:\\webdevenv\\dataGen\\nl\\editions\\NL202202.odt remains open for approximately five to ten minutes.  In my previous Tomcat 8 installation the file would close on the server as soon as the download was complete.</p>\n<p>In server.xml I have the following connector:</p>\n<pre><code>    &lt;Connector port=&quot;443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;        sslImplementationName=&quot;org.apache.tomcat.util.net.openssl.OpenSSLImplementation&quot; connectionTimeout=&quot;20000&quot; maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot; clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot;&gt;\n        &lt;UpgradeProtocol className=&quot;org.apache.coyote.http2.Http2Protocol&quot; /&gt;\n        &lt;SSLHostConfig&gt;\n            &lt;Certificate certificateKeystoreFile=&quot;C:/webdevenv/tomcat10/conf/lhkey.store&quot; \n                         certificateKeyAlias=&quot;datagen&quot;\n                         certificateKeystorePassword=&quot;dataGenKey&quot;\n                         type=&quot;RSA&quot;\n                         certificateKeystoreType=&quot;PKCS12&quot; /&gt;\n        &lt;/SSLHostConfig&gt;\n    &lt;/Connector&gt;\n\n</code></pre>\n<p>Is there any way to control how long Tomcat 10 keeps a file like this open?</p>\n"},{"tags":["java","recursion","mergesort"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":4,"creation_date":1645748322,"post_id":71259649,"comment_id":125960145,"body_markdown":"Because `int` is a primitive type you&#39;ll need to use boxed integers, i.e. `Integer Array []= {4,6,2,1,7,9,10};` (and please use Java naming conventions and call it `arrayToSort` or something else both meaningful and starting with a lower case letter.)","body":"Because <code>int</code> is a primitive type you&#39;ll need to use boxed integers, i.e. <code>Integer Array []= {4,6,2,1,7,9,10};</code> (and please use Java naming conventions and call it <code>arrayToSort</code> or something else both meaningful and starting with a lower case letter.)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645748362,"post_id":71259649,"comment_id":125960151,"body_markdown":"And `Integer[] arrayToSort = ...` is more idiomatic.","body":"And <code>Integer[] arrayToSort = ...</code> is more idiomatic."}],"owner":{"account_id":18596091,"reputation":35,"user_id":15225388,"display_name":"user788888"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1645749640,"creation_date":1645747862,"question_id":71259649,"body_markdown":"I&#39;m using java, I have a code given by an instructor and I am trying ti follow the code but I can&#39;t seem to make the code work.\r\n\r\nThis is code given to us :\r\n```\r\npublic class MergeSort   {\t\r\n\t\r\n\t@SuppressWarnings(&quot;unchecked&quot;) // Generic array allocation\r\n\tpublic static &lt;E extends Comparable&lt;? super E&gt;&gt; void sort(E[] A) {\r\n\t  E[] temp = (E[])new Comparable[A.length];\r\n\t  mergesort(A, temp, 0, A.length-1);\r\n\t}\r\n\t\r\n\t\r\n\tpublic static &lt;E extends Comparable&lt;? super E&gt;&gt; void mergesort(E[] A, E[] temp, int l, int r) {\r\n\t\t\r\n\t\tint mid = (l+r)/2; // Select midpoint\r\n\t\tif (l == r) { \t\t\r\n\t\t\treturn; // List has one element\r\n\t\t}\r\n\t\t\r\n\t\tmergesort(A, temp, l, mid); // Mergesort first half\t\t\r\n\t\tmergesort(A, temp, mid+1, r); // Mergesort second half\r\n\t\t\r\n\t\tfor (int i=l; i&lt;=r; i++) // Copy subarray to temp\r\n\t\t\ttemp[i] = A[i];\r\n\t\t\r\n\t\t// Do the merge operation back to A\r\n\t\tint i1 = l; int i2 = mid + 1;\r\n\t\tfor (int curr=l; curr&lt;=r; curr++) {\t\t\t\r\n\t\t\tif ((i1&lt; mid+1) &amp;&amp; (i2&lt;=r)) {\r\n\t\t\t\t if (temp[i1].compareTo(temp[i2])&lt;0) // Get smaller\r\n\t\t\t\t\t\tA[curr] = temp[i1++];\r\n\t\t\t\t else \r\n\t\t\t\t\t A[curr] = temp[i2++];\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse if ((i1==mid+1) &amp;&amp; (i2 &lt;= r) ){ // Left sublist exhausted\r\n\t\t\t\tA[curr] = temp[i2++];\r\n\t\t\t}\r\n\t\t\telse if (i2 &gt; r) { // Right sublist exhausted\r\n\t\t\t    A[curr] = temp[i1++];\r\n\t\t\t}\r\n\t\t}  \r\n\t}\r\n}\r\n```\r\nso I added a main function inside the class Mergesort so I can follow the code using breakpoint and understand how merge sort uses recursion:\r\n```\r\npublic static void main(String[] args) {\r\n\t\tint Array []= {4,6,2,1,7,9,10};\r\n\t\tMergeSort m=new MergeSort();\r\n\t\tm.sort(Array);\r\n\t}\r\n\r\n```\r\n\r\nbut it does not work: I am getting this error\r\n```\r\n Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n\tThe method sort(E[]) in the type MergeSort is not applicable for the arguments (int[])\r\n\r\n```\r\n\r\nwhich is basically caused by ```m.sort(Array)```;\r\n\r\n\r\n\r\nThis is my entire code:\r\n\r\n```\r\npublic class MergeSort  {\r\n\tpublic static void main(String[] args) {\r\n\t\tint Array []= {4,6,2,1,7,9,10};\r\n\t\tMergeSort m=new MergeSort();\r\n\t\tm.sort(Array);\r\n\t}\r\n\t\r\n\t@SuppressWarnings(&quot;unchecked&quot;) // Generic array allocation\r\n\tpublic static &lt;E extends Comparable&lt;? super E&gt;&gt; void sort(E[] A) {\r\n\t  E[] temp = (E[])new Comparable[A.length];\r\n\t  mergesort(A, temp, 0, A.length-1);\r\n\t}\r\n\t\r\n\t\r\n\tpublic static &lt;E extends Comparable&lt;? super E&gt;&gt; void mergesort(E[] A, E[] temp, int l, int r) {\t\t\r\n\t\tint mid = (l+r)/2; // Select midpoint\r\n\t\tif (l == r) {\t\t\r\n\t\t\treturn; // List has one element\r\n\t\t}\r\n\t\t\r\n\t\tmergesort(A, temp, l, mid); // Mergesort first half\r\n\t\t\r\n\t\tmergesort(A, temp, mid+1, r); // Mergesort second half\r\n\t\t\r\n\t\tfor (int i=l; i&lt;=r; i++) // Copy subarray to temp\r\n\t\t\ttemp[i] = A[i];\r\n\t\t\r\n\t\t// Do the merge operation back to A\r\n\t\tint i1 = l; int i2 = mid + 1;\r\n\t\tfor (int curr=l; curr&lt;=r; curr++) {\t\t\t\r\n\t\t\tif ((i1&lt; mid+1) &amp;&amp; (i2&lt;=r)) {\r\n\t\t\t\t if (temp[i1].compareTo(temp[i2])&lt;0) // Get smaller\r\n\t\t\t\t\t\tA[curr] = temp[i1++];\r\n\t\t\t\t else \r\n\t\t\t\t\t A[curr] = temp[i2++];\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse if ((i1==mid+1) &amp;&amp; (i2 &lt;= r) ){ // Left sublist exhausted\r\n\t\t\t\tA[curr] = temp[i2++];\r\n\t\t\t}\r\n\t\t\telse if (i2 &gt; r) { // Right sublist exhausted\r\n\t\t\t    A[curr] = temp[i1++];\r\n\t\t\t}\r\n\t\t}\t  \r\n\t}\r\n}\r\n```","title":"Trying to understand recursive merge sort","body":"<p>I'm using java, I have a code given by an instructor and I am trying ti follow the code but I can't seem to make the code work.</p>\n<p>This is code given to us :</p>\n<pre><code>public class MergeSort   {  \n    \n    @SuppressWarnings(&quot;unchecked&quot;) // Generic array allocation\n    public static &lt;E extends Comparable&lt;? super E&gt;&gt; void sort(E[] A) {\n      E[] temp = (E[])new Comparable[A.length];\n      mergesort(A, temp, 0, A.length-1);\n    }\n    \n    \n    public static &lt;E extends Comparable&lt;? super E&gt;&gt; void mergesort(E[] A, E[] temp, int l, int r) {\n        \n        int mid = (l+r)/2; // Select midpoint\n        if (l == r) {       \n            return; // List has one element\n        }\n        \n        mergesort(A, temp, l, mid); // Mergesort first half     \n        mergesort(A, temp, mid+1, r); // Mergesort second half\n        \n        for (int i=l; i&lt;=r; i++) // Copy subarray to temp\n            temp[i] = A[i];\n        \n        // Do the merge operation back to A\n        int i1 = l; int i2 = mid + 1;\n        for (int curr=l; curr&lt;=r; curr++) {         \n            if ((i1&lt; mid+1) &amp;&amp; (i2&lt;=r)) {\n                 if (temp[i1].compareTo(temp[i2])&lt;0) // Get smaller\n                        A[curr] = temp[i1++];\n                 else \n                     A[curr] = temp[i2++];              \n            }\n            else if ((i1==mid+1) &amp;&amp; (i2 &lt;= r) ){ // Left sublist exhausted\n                A[curr] = temp[i2++];\n            }\n            else if (i2 &gt; r) { // Right sublist exhausted\n                A[curr] = temp[i1++];\n            }\n        }  \n    }\n}\n</code></pre>\n<p>so I added a main function inside the class Mergesort so I can follow the code using breakpoint and understand how merge sort uses recursion:</p>\n<pre><code>public static void main(String[] args) {\n        int Array []= {4,6,2,1,7,9,10};\n        MergeSort m=new MergeSort();\n        m.sort(Array);\n    }\n\n</code></pre>\n<p>but it does not work: I am getting this error</p>\n<pre><code> Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n    The method sort(E[]) in the type MergeSort is not applicable for the arguments (int[])\n\n</code></pre>\n<p>which is basically caused by <code>m.sort(Array)</code>;</p>\n<p>This is my entire code:</p>\n<pre><code>public class MergeSort  {\n    public static void main(String[] args) {\n        int Array []= {4,6,2,1,7,9,10};\n        MergeSort m=new MergeSort();\n        m.sort(Array);\n    }\n    \n    @SuppressWarnings(&quot;unchecked&quot;) // Generic array allocation\n    public static &lt;E extends Comparable&lt;? super E&gt;&gt; void sort(E[] A) {\n      E[] temp = (E[])new Comparable[A.length];\n      mergesort(A, temp, 0, A.length-1);\n    }\n    \n    \n    public static &lt;E extends Comparable&lt;? super E&gt;&gt; void mergesort(E[] A, E[] temp, int l, int r) {     \n        int mid = (l+r)/2; // Select midpoint\n        if (l == r) {       \n            return; // List has one element\n        }\n        \n        mergesort(A, temp, l, mid); // Mergesort first half\n        \n        mergesort(A, temp, mid+1, r); // Mergesort second half\n        \n        for (int i=l; i&lt;=r; i++) // Copy subarray to temp\n            temp[i] = A[i];\n        \n        // Do the merge operation back to A\n        int i1 = l; int i2 = mid + 1;\n        for (int curr=l; curr&lt;=r; curr++) {         \n            if ((i1&lt; mid+1) &amp;&amp; (i2&lt;=r)) {\n                 if (temp[i1].compareTo(temp[i2])&lt;0) // Get smaller\n                        A[curr] = temp[i1++];\n                 else \n                     A[curr] = temp[i2++];              \n            }\n            else if ((i1==mid+1) &amp;&amp; (i2 &lt;= r) ){ // Left sublist exhausted\n                A[curr] = temp[i2++];\n            }\n            else if (i2 &gt; r) { // Right sublist exhausted\n                A[curr] = temp[i1++];\n            }\n        }     \n    }\n}\n</code></pre>\n"},{"tags":["java","comparator","comparable"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645746678,"creation_date":1645746678,"answer_id":71259541,"question_id":71259524,"body_markdown":"You just have to do the unsafe cast.  There&#39;s really no way around it.","title":"Implement natural order comparator for non-comparable list","body":"<p>You just have to do the unsafe cast.  There's really no way around it.</p>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645748118,"creation_date":1645746780,"answer_id":71259551,"question_id":71259524,"body_markdown":"To see what `ArrayList` does, try:\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        List&lt;Object&gt; objects = new ArrayList&lt;&gt;();\r\n        objects.add(new Object());\r\n        objects.add(new Object());\r\n\r\n        objects.sort(null);\r\n    }\r\n}\r\n```\r\n\r\nYour comparator must just assume that the objects in the list are Comparable, that&#39;s the best it can do:\r\n\r\n```\r\n class ascComparator implements Comparator&lt;Object&gt; {\r\n            public int compare(Object a, Object b) {\r\n                return ((Comparable)a).compareTo(b);\r\n            }\r\n        }\r\n```\r\n\r\nWhich will throw a `ClasscastException` if the items in your list are not `Comparable`.","title":"Implement natural order comparator for non-comparable list","body":"<p>To see what <code>ArrayList</code> does, try:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Test {\n    public static void main(String[] args) {\n        List&lt;Object&gt; objects = new ArrayList&lt;&gt;();\n        objects.add(new Object());\n        objects.add(new Object());\n\n        objects.sort(null);\n    }\n}\n</code></pre>\n<p>Your comparator must just assume that the objects in the list are Comparable, that's the best it can do:</p>\n<pre><code> class ascComparator implements Comparator&lt;Object&gt; {\n            public int compare(Object a, Object b) {\n                return ((Comparable)a).compareTo(b);\n            }\n        }\n</code></pre>\n<p>Which will throw a <code>ClasscastException</code> if the items in your list are not <code>Comparable</code>.</p>\n"}],"owner":{"account_id":10183559,"reputation":3679,"user_id":7519434,"accept_rate":100,"display_name":"Henry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71259551,"answer_count":2,"score":0,"last_activity_date":1645748118,"creation_date":1645746529,"question_id":71259524,"body_markdown":"I&#39;m implementing the `List` interface for a clone of `ArrayList`. I&#39;m trying to implement `sort` ([source](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#sort-java.util.Comparator-)):\r\n[![java.util.List sort method][1]][1]\r\nI&#39;m not sure how to implement the case where the comparator is null. My `ArrayList` does not extend `Comparable` because I want to be able to store non-comparable objects in the list. I&#39;ve tried using the following for the `sort` method:\r\n\r\n    public void sort(Comparator&lt;? super E&gt; c){\r\n        if(c == null){\r\n            // Use ascending order\r\n            class ascComparator&lt;T extends Comparable&lt;? super T&gt;&gt; implements Comparator&lt;T&gt; {\r\n                public int compare(T a, T b) {\r\n                    return a.compareTo(b);\r\n                }\r\n            }\r\n            c = new ascComparator&lt;E&gt;();\r\n        }\r\n        // Implementation of merge sort goes here\r\n    }\r\n\r\nThis expectedly gives an error as `E` does not extend `Comparable`. In the above documentation it is stated &quot;if ... is null then all elements in this list must implement the Comparable interface&quot;. How do I check that the objects in the list implement `Comparable` and how do I then use `compareTo` without getting an error? Is there just a better way to do this?\r\n\r\n  [1]: https://i.stack.imgur.com/7Y5yL.png","title":"Implement natural order comparator for non-comparable list","body":"<p>I'm implementing the <code>List</code> interface for a clone of <code>ArrayList</code>. I'm trying to implement <code>sort</code> (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#sort-java.util.Comparator-\" rel=\"nofollow noreferrer\">source</a>):\n<a href=\"https://i.stack.imgur.com/7Y5yL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Y5yL.png\" alt=\"java.util.List sort method\" /></a>\nI'm not sure how to implement the case where the comparator is null. My <code>ArrayList</code> does not extend <code>Comparable</code> because I want to be able to store non-comparable objects in the list. I've tried using the following for the <code>sort</code> method:</p>\n<pre><code>public void sort(Comparator&lt;? super E&gt; c){\n    if(c == null){\n        // Use ascending order\n        class ascComparator&lt;T extends Comparable&lt;? super T&gt;&gt; implements Comparator&lt;T&gt; {\n            public int compare(T a, T b) {\n                return a.compareTo(b);\n            }\n        }\n        c = new ascComparator&lt;E&gt;();\n    }\n    // Implementation of merge sort goes here\n}\n</code></pre>\n<p>This expectedly gives an error as <code>E</code> does not extend <code>Comparable</code>. In the above documentation it is stated &quot;if ... is null then all elements in this list must implement the Comparable interface&quot;. How do I check that the objects in the list implement <code>Comparable</code> and how do I then use <code>compareTo</code> without getting an error? Is there just a better way to do this?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1645748209,"post_id":71259656,"comment_id":125960128,"body_markdown":"You&#39;re crashing.  There should be a stack trace in your log.  The lines you pasted are irrelevant.","body":"You&#39;re crashing.  There should be a stack trace in your log.  The lines you pasted are irrelevant."},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1645750431,"post_id":71259656,"comment_id":125960472,"body_markdown":"This is just the virtual GPS sensor; likely you might be missing GL drivers.","body":"This is just the virtual GPS sensor; likely you might be missing GL drivers."}],"owner":{"account_id":24324561,"reputation":1,"user_id":18264325,"display_name":"Robin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645747930,"creation_date":1645747930,"question_id":71259656,"body_markdown":"So I have 2 activities, the main activity has a button that is supposed to send the user to the other activity when clicked on\r\n```\r\npackage com.example.messingaround;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private Button seeList;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_first);\r\n        seeList = (Button)findViewById(R.id.seeList);\r\n        seeList.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View v){\r\n                Intent intent = new Intent(MainActivity.this, Second_Activity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n```\r\nBut whenever I try to run the app, it says app keeps stopping\r\n[enter image description here][1]\r\n\r\nIn my logcat this keeps repeating\r\n```\r\n2022-02-24 19:11:26.985 1798-28412/? E/GnssHAL_GnssInterface: gnssSvStatusCb: a: input svInfo.flags is 8\r\n2022-02-24 19:11:26.985 1798-28412/? E/GnssHAL_GnssInterface: gnssSvStatusCb: b: input svInfo.flags is 8\r\n2022-02-24 19:11:27.989 1798-28412/? E/GnssHAL_GnssInterface: gnssSvStatusCb: a: input svInfo.flags is 8\r\n2022-02-24 19:11:27.989 1798-28412/? E/GnssHAL_GnssInterface: gnssSvStatusCb: b: input svInfo.flags is 8\r\n2022-02-24 19:11:28.994 1798-28412/? E/GnssHAL_GnssInterface: gnssSvStatusCb: a: input svInfo.flags is 8\r\n2022-02-24 19:11:28.994 1798-28412/? E/GnssHAL_GnssInterface: gnssSvStatusCb: b: input svInfo.flags is 8\r\n2022-02-24 19:11:29.994 1798-28412/? E/GnssHAL_GnssInterface: gnssSvStatusCb: a: input svInfo.flags is 8\r\n```\r\n","title":"android studio app keeps stopping when run on emulator","body":"<p>So I have 2 activities, the main activity has a button that is supposed to send the user to the other activity when clicked on</p>\n<pre><code>package com.example.messingaround;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\n\npublic class MainActivity extends AppCompatActivity {\n    private Button seeList;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_first);\n        seeList = (Button)findViewById(R.id.seeList);\n        seeList.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View v){\n                Intent intent = new Intent(MainActivity.this, Second_Activity.class);\n                startActivity(intent);\n            }\n        });\n    }\n\n}\n</code></pre>\n<p>But whenever I try to run the app, it says app keeps stopping\n[enter image description here][1]</p>\n<p>In my logcat this keeps repeating</p>\n<pre><code>2022-02-24 19:11:26.985 1798-28412/? E/GnssHAL_GnssInterface: gnssSvStatusCb: a: input svInfo.flags is 8\n2022-02-24 19:11:26.985 1798-28412/? E/GnssHAL_GnssInterface: gnssSvStatusCb: b: input svInfo.flags is 8\n2022-02-24 19:11:27.989 1798-28412/? E/GnssHAL_GnssInterface: gnssSvStatusCb: a: input svInfo.flags is 8\n2022-02-24 19:11:27.989 1798-28412/? E/GnssHAL_GnssInterface: gnssSvStatusCb: b: input svInfo.flags is 8\n2022-02-24 19:11:28.994 1798-28412/? E/GnssHAL_GnssInterface: gnssSvStatusCb: a: input svInfo.flags is 8\n2022-02-24 19:11:28.994 1798-28412/? E/GnssHAL_GnssInterface: gnssSvStatusCb: b: input svInfo.flags is 8\n2022-02-24 19:11:29.994 1798-28412/? E/GnssHAL_GnssInterface: gnssSvStatusCb: a: input svInfo.flags is 8\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":165320,"reputation":20240,"user_id":388661,"accept_rate":75,"display_name":"davmac"},"score":0,"creation_date":1541083995,"post_id":53103065,"comment_id":93102753,"body_markdown":"@matt I think the idea is (though the question could do with some more explanation ...) that only the thread that satisfies its condition will increment currNum. Therefore each thread does nothing until the other threads bump currNum to an appropriate value (in each case causing output of their appropriate nature, &quot;fizz&quot; or &quot;buzz&quot; or &quot;fizzbuzz&quot; or a number). It&#39;s trickier than it first appears.","body":"@matt I think the idea is (though the question could do with some more explanation ...) that only the thread that satisfies its condition will increment currNum. Therefore each thread does nothing until the other threads bump currNum to an appropriate value (in each case causing output of their appropriate nature, &quot;fizz&quot; or &quot;buzz&quot; or &quot;fizzbuzz&quot; or a number). It&#39;s trickier than it first appears."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1541084293,"post_id":53103065,"comment_id":93102945,"body_markdown":"@davmac in my example, one thread updates curNum between A geting the value and B getting the value. eg. currentNum = 9, A reads that value and assigns curNum to 9, thread C updates currentNum, thead B assigns curNum = 10; now A and B both have the correct value and it is a race. Oh, your saying A cant get 9 before C updates otherwise C would have a 9.","body":"@davmac in my example, one thread updates curNum between A geting the value and B getting the value. eg. currentNum = 9, A reads that value and assigns curNum to 9, thread C updates currentNum, thead B assigns curNum = 10; now A and B both have the correct value and it is a race. Oh, your saying A cant get 9 before C updates otherwise C would have a 9."},{"owner":{"account_id":165320,"reputation":20240,"user_id":388661,"accept_rate":75,"display_name":"davmac"},"score":0,"creation_date":1541084604,"post_id":53103065,"comment_id":93103124,"body_markdown":"@matt I don&#39;t follow. What do you mean by &quot;correct value&quot;? Each thread has a disjoint set of values that they will act on. Each thread increments curNum as part of that action, but no other thread will increment for the same value. In your example if A reads curNum as 9 and then C updates curNum, then it must be because C saw curNum as having a value that it would act on, meaning that neither 9 nor the value that C saw is a value that A will act on, so it doesn&#39;t matter which one it has.","body":"@matt I don&#39;t follow. What do you mean by &quot;correct value&quot;? Each thread has a disjoint set of values that they will act on. Each thread increments curNum as part of that action, but no other thread will increment for the same value. In your example if A reads curNum as 9 and then C updates curNum, then it must be because C saw curNum as having a value that it would act on, meaning that neither 9 nor the value that C saw is a value that A will act on, so it doesn&#39;t matter which one it has."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1541084742,"post_id":53103065,"comment_id":93103199,"body_markdown":"&quot;correct value&quot; being the value that the specific thread operates on. Right so C would have to see an 8 and act, then update the value from 9 to 10 which could happen if C saw an old value. Since thread C is the only one that would modify 8 to 9, it can&#39;t see a stale value.","body":"&quot;correct value&quot; being the value that the specific thread operates on. Right so C would have to see an 8 and act, then update the value from 9 to 10 which could happen if C saw an old value. Since thread C is the only one that would modify 8 to 9, it can&#39;t see a stale value."},{"owner":{"account_id":165320,"reputation":20240,"user_id":388661,"accept_rate":75,"display_name":"davmac"},"score":0,"creation_date":1541085775,"post_id":53103065,"comment_id":93103798,"body_markdown":"@matt right, I think we are on the same page now.","body":"@matt right, I think we are on the same page now."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1541088399,"post_id":53103065,"comment_id":93105332,"body_markdown":"&quot;Thread safe&quot; is not an attribute of programs: It&#39;s an attribute of a library/package/module/etc. that informs you about what precautions you must take when using it _in_ a program.  All you can say about the program as a whole is, it either works, or it doesn&#39;t work.","body":"&quot;Thread safe&quot; is not an attribute of programs: It&#39;s an attribute of a library/package/module/etc. that informs you about what precautions you must take when using it <i>in</i> a program.  All you can say about the program as a whole is, it either works, or it doesn&#39;t work."},{"owner":{"account_id":3674825,"reputation":280,"user_id":3061143,"accept_rate":60,"display_name":"Palladium"},"score":0,"creation_date":1541088969,"post_id":53103065,"comment_id":93105621,"body_markdown":"@Solomon Slow I understand thread safe as &quot;Thread-safe code only manipulates shared data structures in a manner that ensures that all threads behave properly and fulfill their design specifications without unintended interaction&quot; (took from wikipedia)","body":"@Solomon Slow I understand thread safe as &quot;Thread-safe code only manipulates shared data structures in a manner that ensures that all threads behave properly and fulfill their design specifications without unintended interaction&quot; (took from wikipedia)"},{"owner":{"account_id":3674825,"reputation":280,"user_id":3061143,"accept_rate":60,"display_name":"Palladium"},"score":0,"creation_date":1541089275,"post_id":53103065,"comment_id":93105804,"body_markdown":"@Solomon Slow I understand that my example is totally artificial. To implement multi-threaded &quot;Fizz Buzz&quot; algorithm inspired one famous book for preparation for &quot;codding interview&quot;. I just wanted to proof that example in book (which required to have 4 threads) can be solved without using synchronization and locks.","body":"@Solomon Slow I understand that my example is totally artificial. To implement multi-threaded &quot;Fizz Buzz&quot; algorithm inspired one famous book for preparation for &quot;codding interview&quot;. I just wanted to proof that example in book (which required to have 4 threads) can be solved without using synchronization and locks."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1541091962,"post_id":53103065,"comment_id":93107294,"body_markdown":"D&#39;Oh! Comment retracted.","body":"D&#39;Oh! Comment retracted."},{"owner":{"account_id":165320,"reputation":20240,"user_id":388661,"accept_rate":75,"display_name":"davmac"},"score":0,"creation_date":1541187981,"post_id":53103065,"comment_id":93144584,"body_markdown":"You changed the question, so that the variable is now `volatile`. The question is now asking a different question to the one that was asked and answered! You shouldn&#39;t do that - please change it back. If you want to ask if `volatile` is sufficient, you should open another question and refer to this one.","body":"You changed the question, so that the variable is now <code>volatile</code>. The question is now asking a different question to the one that was asked and answered! You shouldn&#39;t do that - please change it back. If you want to ask if <code>volatile</code> is sufficient, you should open another question and refer to this one."},{"owner":{"account_id":3674825,"reputation":280,"user_id":3061143,"accept_rate":60,"display_name":"Palladium"},"score":0,"creation_date":1541234029,"post_id":53103065,"comment_id":93153270,"body_markdown":"@davmac valid point - changed back","body":"@davmac valid point - changed back"}],"answers":[{"tags":[],"owner":{"account_id":165320,"reputation":20240,"user_id":388661,"accept_rate":75,"display_name":"davmac"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1541085083,"creation_date":1541081813,"answer_id":53103106,"question_id":53103065,"body_markdown":"It is not race-free (which is what I think you are really asking), because the threads read from `currentNum` when it has been written by another thread, without any synchronisation. Each thread is not guaranteed to see the latest value - each thread will see either the value it last wrote itself, or any value that any other thread has written since.\r\n\r\nWhat this could mean is that you end up with no forward progression in any thread, since each thread may simply fail to see the change made in any other. You could use an `AtomicInteger` to solve that problem.\r\n\r\nI&#39;m not sure, also, whether the effects of `this.currentNum++;` are guaranteed to be seen to other threads as ordered in the same way that they are in the source thread. I suspect that theoretically, the output and increment could be re-ordered, for example:\r\n\r\n                  this.currentNum++;\r\n                  System.out.println(result);\r\n\r\nThis could lead to inconsistent output.\r\n","title":"Is my multi-threaded &quot;fizz buzz&quot; implementation thread safe?","body":"<p>It is not race-free (which is what I think you are really asking), because the threads read from <code>currentNum</code> when it has been written by another thread, without any synchronisation. Each thread is not guaranteed to see the latest value - each thread will see either the value it last wrote itself, or any value that any other thread has written since.</p>\n\n<p>What this could mean is that you end up with no forward progression in any thread, since each thread may simply fail to see the change made in any other. You could use an <code>AtomicInteger</code> to solve that problem.</p>\n\n<p>I'm not sure, also, whether the effects of <code>this.currentNum++;</code> are guaranteed to be seen to other threads as ordered in the same way that they are in the source thread. I suspect that theoretically, the output and increment could be re-ordered, for example:</p>\n\n<pre><code>              this.currentNum++;\n              System.out.println(result);\n</code></pre>\n\n<p>This could lead to inconsistent output.</p>\n"}],"owner":{"account_id":3674825,"reputation":280,"user_id":3061143,"accept_rate":60,"display_name":"Palladium"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":882,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":53103106,"answer_count":1,"score":1,"last_activity_date":1645747554,"creation_date":1541081630,"question_id":53103065,"body_markdown":"For educational purposes I am implementing classical &quot;fizz buzz&quot; problem using multiple threads.\r\n\r\n&quot;fizz buzz&quot; game is:\r\n&gt; The player designated to go first says the number &quot;1&quot;, and each player thenceforth counts one number in turn. However, any number divisible by three is replaced by the word fizz and any divisible by five by the word buzz. Numbers divisible by both become fizz buzz\r\n\r\nIn my implementation I have 4 threads:\r\n\r\n - First thread prints number if it is not multiple of 3 or 5 and increment current counter.\r\n - Second thread prints “fizz”...\r\n - Third thread prints “buzz”... \r\n - Forth thread prints “fizz buzz”...\r\n\r\nI don&#39;t use any locking and thread synchronizations mechanisms.\r\nIs my multi-threaded &quot;fizz buzz&quot; implementation thread safe? And, if not, why?\r\nI added comments in code of implementation for &quot;suspicious&quot; places.\r\n\r\nMy Implementation:\r\n\r\n    package threads;    \r\n    import java.util.function.IntFunction;    \r\n    public class FizzBuzzGameRunner {\r\n\r\n        // not volatile\r\n        // if other thread updates currentNum and current thread will see old (cached) value\r\n        // nothing bad can happen, just burn some CPU cycles uselessly\r\n        private int currentNum = 1;\r\n\r\n        public static void main(String... args) throws InterruptedException {\r\n            FizzBuzzGameRunner fizzBuzzGame = new FizzBuzzGameRunner();\r\n            startAll(\r\n                    fizzBuzzGame.createRunnable(n -&gt; (n % 3 != 0 &amp;&amp; n % 5 != 0) ? String.valueOf(n) : null),\r\n                    fizzBuzzGame.createRunnable(n -&gt; (n % 3 == 0 &amp;&amp; n % 5 != 0) ? &quot;fizz&quot; : null),\r\n                    fizzBuzzGame.createRunnable(n -&gt; (n % 3 != 0 &amp;&amp; n % 5 == 0) ? &quot;buzz&quot; : null),\r\n                    fizzBuzzGame.createRunnable(n -&gt; (n % 3 == 0 &amp;&amp; n % 5 == 0) ? &quot;fizz buzz&quot; : null)\r\n            );\r\n            Thread.sleep(1000);\r\n        }\r\n\r\n        private static void startAll(Runnable... workers) {\r\n            for (Runnable w : workers) {\r\n                Thread t = new Thread(w);\r\n                t.setDaemon(true);\r\n                t.start();\r\n            }\r\n        }\r\n\r\n        private Runnable createRunnable(IntFunction&lt;String&gt; singleStep) {\r\n            return () -&gt; {\r\n                while (true) {\r\n                    int currNum = this.currentNum;\r\n                    // no synchronization\r\n                    String result = singleStep.apply(currNum);\r\n                    if (result != null) {\r\n                        //Even without synchronization this block will be\r\n                        //executed maximum by single thread simultaneously.\r\n                        //Because each thread increments this.currentNum as part of that action,\r\n                        //but no other thread will increment for the same value.\r\n                        System.out.println(result);\r\n                        this.currentNum++;\r\n                    }\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\nI understand that my example is totally artificial. To implement multi-threaded &quot;Fizz Buzz&quot; algorithm inspired one famous book for preparation for &quot;codding interview&quot;. I just wanted to proof that example in book (which required to have 4 threads) can be solved without using synchronization and locks.\r\n","title":"Is my multi-threaded &quot;fizz buzz&quot; implementation thread safe?","body":"<p>For educational purposes I am implementing classical \"fizz buzz\" problem using multiple threads.</p>\n\n<p>\"fizz buzz\" game is:</p>\n\n<blockquote>\n  <p>The player designated to go first says the number \"1\", and each player thenceforth counts one number in turn. However, any number divisible by three is replaced by the word fizz and any divisible by five by the word buzz. Numbers divisible by both become fizz buzz</p>\n</blockquote>\n\n<p>In my implementation I have 4 threads:</p>\n\n<ul>\n<li>First thread prints number if it is not multiple of 3 or 5 and increment current counter.</li>\n<li>Second thread prints “fizz”...</li>\n<li>Third thread prints “buzz”... </li>\n<li>Forth thread prints “fizz buzz”...</li>\n</ul>\n\n<p>I don't use any locking and thread synchronizations mechanisms.\nIs my multi-threaded \"fizz buzz\" implementation thread safe? And, if not, why?\nI added comments in code of implementation for \"suspicious\" places.</p>\n\n<p>My Implementation:</p>\n\n<pre><code>package threads;    \nimport java.util.function.IntFunction;    \npublic class FizzBuzzGameRunner {\n\n    // not volatile\n    // if other thread updates currentNum and current thread will see old (cached) value\n    // nothing bad can happen, just burn some CPU cycles uselessly\n    private int currentNum = 1;\n\n    public static void main(String... args) throws InterruptedException {\n        FizzBuzzGameRunner fizzBuzzGame = new FizzBuzzGameRunner();\n        startAll(\n                fizzBuzzGame.createRunnable(n -&gt; (n % 3 != 0 &amp;&amp; n % 5 != 0) ? String.valueOf(n) : null),\n                fizzBuzzGame.createRunnable(n -&gt; (n % 3 == 0 &amp;&amp; n % 5 != 0) ? \"fizz\" : null),\n                fizzBuzzGame.createRunnable(n -&gt; (n % 3 != 0 &amp;&amp; n % 5 == 0) ? \"buzz\" : null),\n                fizzBuzzGame.createRunnable(n -&gt; (n % 3 == 0 &amp;&amp; n % 5 == 0) ? \"fizz buzz\" : null)\n        );\n        Thread.sleep(1000);\n    }\n\n    private static void startAll(Runnable... workers) {\n        for (Runnable w : workers) {\n            Thread t = new Thread(w);\n            t.setDaemon(true);\n            t.start();\n        }\n    }\n\n    private Runnable createRunnable(IntFunction&lt;String&gt; singleStep) {\n        return () -&gt; {\n            while (true) {\n                int currNum = this.currentNum;\n                // no synchronization\n                String result = singleStep.apply(currNum);\n                if (result != null) {\n                    //Even without synchronization this block will be\n                    //executed maximum by single thread simultaneously.\n                    //Because each thread increments this.currentNum as part of that action,\n                    //but no other thread will increment for the same value.\n                    System.out.println(result);\n                    this.currentNum++;\n                }\n            }\n        };\n    }\n}\n</code></pre>\n\n<p>I understand that my example is totally artificial. To implement multi-threaded \"Fizz Buzz\" algorithm inspired one famous book for preparation for \"codding interview\". I just wanted to proof that example in book (which required to have 4 threads) can be solved without using synchronization and locks.</p>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":2641595,"reputation":1817,"user_id":2285111,"accept_rate":70,"display_name":"Vladimir Nabokov"},"score":0,"creation_date":1435997493,"post_id":31217855,"comment_id":50437322,"body_markdown":"hey, unhold my question.","body":"hey, unhold my question."},{"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"score":0,"creation_date":1435998272,"post_id":31217855,"comment_id":50437498,"body_markdown":"Have you actually observed any problem with the GC that needs fixing? Avoiding premature optimizations and all that.","body":"Have you actually observed any problem with the GC that needs fixing? Avoiding premature optimizations and all that."},{"owner":{"account_id":2641595,"reputation":1817,"user_id":2285111,"accept_rate":70,"display_name":"Vladimir Nabokov"},"score":0,"creation_date":1436000266,"post_id":31217855,"comment_id":50437917,"body_markdown":"I&#39;m not asking how to fix problems. There are no problems.\nI&#39;m asking how to program (write code, design) in order to allow GC spend less time in waiting for safepoint.","body":"I&#39;m not asking how to fix problems. There are no problems. I&#39;m asking how to program (write code, design) in order to allow GC spend less time in waiting for safepoint."},{"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"score":0,"creation_date":1436000843,"post_id":31217855,"comment_id":50438054,"body_markdown":"Ok, put differently, what makes you think that this is necessary in practice?","body":"Ok, put differently, what makes you think that this is necessary in practice?"},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1436010827,"post_id":31217855,"comment_id":50440744,"body_markdown":"This question is actually rather unrelated to GC (which needs safepoints, but so do e.g. class loading or (AFAIK) deoptimizations). There are (udes to be?) some bugs in the JVM making reaching a savepoint take too long.  It&#39;s also a trade-off between wasting time in frequent checks and wasting time with all but one threads waiting for the one reaching the savepoint last. There might be JVM option for this, but I doubt you should/can do anything via your coding style.","body":"This question is actually rather unrelated to GC (which needs safepoints, but so do e.g. class loading or (AFAIK) deoptimizations). There are (udes to be?) some bugs in the JVM making reaching a savepoint take too long.  It&#39;s also a trade-off between wasting time in frequent checks and wasting time with all but one threads waiting for the one reaching the savepoint last. There might be JVM option for this, but I doubt you should/can do anything via your coding style."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645747201,"creation_date":1537698576,"answer_id":52465212,"question_id":31217855,"body_markdown":"Lets start with this comment (from &quot;src/hotspot/share/runtime/safepoint.cpp&quot; file in the OpenJDK source):\r\n\r\n      // Java threads can be in several different states and are\r\n      // stopped by different mechanisms:\r\n      //\r\n      //  1. Running interpreted\r\n      //     The interpreter dispatch table is changed to force it to\r\n      //     check for a safepoint condition between bytecodes.\r\n      //  2. Running in native code\r\n      //     When returning from the native code, a Java thread must check\r\n      //     the safepoint _state to see if we must block.  If the\r\n      //     VM thread sees a Java thread in native, it does\r\n      //     not wait for this thread to block.  The order of the memory\r\n      //     writes and reads of both the safepoint state and the Java\r\n      //     threads state is critical.  In order to guarantee that the\r\n      //     memory writes are serialized with respect to each other,\r\n      //     the VM thread issues a memory barrier instruction\r\n      //     (on MP systems).  In order to avoid the overhead of issuing\r\n      //     a memory barrier for each Java thread making native calls, each Java\r\n      //     thread performs a write to a single memory page after changing\r\n      //     the thread state.  The VM thread performs a sequence of\r\n      //     mprotect OS calls which forces all previous writes from all\r\n      //     Java threads to be serialized.  This is done in the\r\n      //     os::serialize_thread_states() call.  This has proven to be\r\n      //     much more efficient than executing a membar instruction\r\n      //     on every call to native code.\r\n      //  3. Running compiled Code\r\n      //     Compiled code reads a global (Safepoint Polling) page that\r\n      //     is set to fault if we are trying to get to a safepoint.\r\n      //  4. Blocked\r\n      //     A thread which is blocked will not be allowed to return from the\r\n      //     block condition until the safepoint operation is complete.\r\n      //  5. In VM or Transitioning between states\r\n      //     If a Java thread is currently running in the VM or transitioning\r\n      //     between states, the safepointing code will wait for the thread to\r\n      //     block itself when it attempts transitions to a new state.\r\n      //\r\n\r\nFrom this I conclude the following:\r\n\r\n - When a JVM thread is *interpreting* bytecodes, it can reach a safepoint following any bytecode.\r\n - When a JVM thread is running code that has been JIT compiled, the behavior depends on when / where the JIT compile injects instructions to poll the &quot;Safepoint Polling&quot; page. \r\n - When a native (JNI) thread is running, it is ignored from the perspective of safepoints.  However, I believe that some JNI calls will cause the native thread to block if a safepoint is underway.\r\n - If a Java thread is blocked (e.g. by the thread scheduler or by an I/O syscall) or if it changes state, a safepoint can proceed.\r\n\r\nBut this only goes part way to answer the question.  The problem is that safepoint polling in JIT compiled code is done by instructions added by the JIT compiler.  The logic that controls this is not specified&lt;sup&gt;1&lt;/sup&gt;, and is liable to be implementation dependent.  Furthermore, I have heard that memory copying using `System.arraycopy` and other built-in / intrinsic operations *may* go a long time without a safepoint check.\r\n\r\nConcerning your specific examples:\r\n\r\n&gt; Is disk IO work making it more problematic?\r\n\r\nExplicit I/O (e.g. via `read` and `write` calls) is not problematic.  Memory mapped file I/O can be a problematic; see below.\r\n\r\n&gt; Is JNI making it more problematic?\r\n\r\nNo.\r\n\r\n&gt; Is `Thread.sleep()` making it more hard?\r\n\r\nNo.\r\n\r\n&gt; Is `synchronized(..)` making it harder?\r\n\r\nNo.\r\n\r\nAnd for your general question:\r\n\r\n&gt; What style makes this task [*of reaching safepoints*] more uncomfortable?\r\n\r\n1.  Avoid long counted loops.\r\n\r\n2.  Avoid things that will generate lots of virtual memory page misses.  \r\n\r\nThe page miss issue is that when application code tries to read or write a virtual memory page that is not currently in RAM, the OS has to read it from disk.  This happens transparently to the application ... but the thread that was trying to access the page is blocked while this happens.  It won&#39;t be able to reach the next safepoint while this is going on.  \r\n\r\nThings that are liable to lead to an unhealthy number of page misses are:\r\n\r\n  - running a JVM with a large heap or off-heap memory usage on a machine with insufficient RAM, or\r\n  - using large memory mapped files, especially if they are larger than the available RAM.\r\n\r\nThis effect will be exacerbated if the disk device is slower.\r\n\r\n---------------\r\n\r\n&lt;sup&gt;1 - According to [this source][1], a poll is inserted on a backwards branch in a non-counted loop and on either method entry or exit.  This is platform dependent&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://medium.com/software-under-the-hood/under-the-hood-java-peak-safepoints-dd45af07d766","title":"java gc: what programming style makes safe point attainment easier (faster)?","body":"<p>Lets start with this comment (from &quot;src/hotspot/share/runtime/safepoint.cpp&quot; file in the OpenJDK source):</p>\n<pre><code>  // Java threads can be in several different states and are\n  // stopped by different mechanisms:\n  //\n  //  1. Running interpreted\n  //     The interpreter dispatch table is changed to force it to\n  //     check for a safepoint condition between bytecodes.\n  //  2. Running in native code\n  //     When returning from the native code, a Java thread must check\n  //     the safepoint _state to see if we must block.  If the\n  //     VM thread sees a Java thread in native, it does\n  //     not wait for this thread to block.  The order of the memory\n  //     writes and reads of both the safepoint state and the Java\n  //     threads state is critical.  In order to guarantee that the\n  //     memory writes are serialized with respect to each other,\n  //     the VM thread issues a memory barrier instruction\n  //     (on MP systems).  In order to avoid the overhead of issuing\n  //     a memory barrier for each Java thread making native calls, each Java\n  //     thread performs a write to a single memory page after changing\n  //     the thread state.  The VM thread performs a sequence of\n  //     mprotect OS calls which forces all previous writes from all\n  //     Java threads to be serialized.  This is done in the\n  //     os::serialize_thread_states() call.  This has proven to be\n  //     much more efficient than executing a membar instruction\n  //     on every call to native code.\n  //  3. Running compiled Code\n  //     Compiled code reads a global (Safepoint Polling) page that\n  //     is set to fault if we are trying to get to a safepoint.\n  //  4. Blocked\n  //     A thread which is blocked will not be allowed to return from the\n  //     block condition until the safepoint operation is complete.\n  //  5. In VM or Transitioning between states\n  //     If a Java thread is currently running in the VM or transitioning\n  //     between states, the safepointing code will wait for the thread to\n  //     block itself when it attempts transitions to a new state.\n  //\n</code></pre>\n<p>From this I conclude the following:</p>\n<ul>\n<li>When a JVM thread is <em>interpreting</em> bytecodes, it can reach a safepoint following any bytecode.</li>\n<li>When a JVM thread is running code that has been JIT compiled, the behavior depends on when / where the JIT compile injects instructions to poll the &quot;Safepoint Polling&quot; page.</li>\n<li>When a native (JNI) thread is running, it is ignored from the perspective of safepoints.  However, I believe that some JNI calls will cause the native thread to block if a safepoint is underway.</li>\n<li>If a Java thread is blocked (e.g. by the thread scheduler or by an I/O syscall) or if it changes state, a safepoint can proceed.</li>\n</ul>\n<p>But this only goes part way to answer the question.  The problem is that safepoint polling in JIT compiled code is done by instructions added by the JIT compiler.  The logic that controls this is not specified<sup>1</sup>, and is liable to be implementation dependent.  Furthermore, I have heard that memory copying using <code>System.arraycopy</code> and other built-in / intrinsic operations <em>may</em> go a long time without a safepoint check.</p>\n<p>Concerning your specific examples:</p>\n<blockquote>\n<p>Is disk IO work making it more problematic?</p>\n</blockquote>\n<p>Explicit I/O (e.g. via <code>read</code> and <code>write</code> calls) is not problematic.  Memory mapped file I/O can be a problematic; see below.</p>\n<blockquote>\n<p>Is JNI making it more problematic?</p>\n</blockquote>\n<p>No.</p>\n<blockquote>\n<p>Is <code>Thread.sleep()</code> making it more hard?</p>\n</blockquote>\n<p>No.</p>\n<blockquote>\n<p>Is <code>synchronized(..)</code> making it harder?</p>\n</blockquote>\n<p>No.</p>\n<p>And for your general question:</p>\n<blockquote>\n<p>What style makes this task [<em>of reaching safepoints</em>] more uncomfortable?</p>\n</blockquote>\n<ol>\n<li><p>Avoid long counted loops.</p>\n</li>\n<li><p>Avoid things that will generate lots of virtual memory page misses.</p>\n</li>\n</ol>\n<p>The page miss issue is that when application code tries to read or write a virtual memory page that is not currently in RAM, the OS has to read it from disk.  This happens transparently to the application ... but the thread that was trying to access the page is blocked while this happens.  It won't be able to reach the next safepoint while this is going on.</p>\n<p>Things that are liable to lead to an unhealthy number of page misses are:</p>\n<ul>\n<li>running a JVM with a large heap or off-heap memory usage on a machine with insufficient RAM, or</li>\n<li>using large memory mapped files, especially if they are larger than the available RAM.</li>\n</ul>\n<p>This effect will be exacerbated if the disk device is slower.</p>\n<hr />\n<p><sup>1 - According to <a href=\"https://medium.com/software-under-the-hood/under-the-hood-java-peak-safepoints-dd45af07d766\" rel=\"nofollow noreferrer\">this source</a>, a poll is inserted on a backwards branch in a non-counted loop and on either method entry or exit.  This is platform dependent</sup></p>\n"}],"owner":{"account_id":2641595,"reputation":1817,"user_id":2285111,"accept_rate":70,"display_name":"Vladimir Nabokov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645747201,"creation_date":1435992874,"question_id":31217855,"body_markdown":"Suppose I want help garbage collector.\r\nOne of ways to spend less time in GC is to reach safepoints faster.\r\n\r\nBefore a GC can be started, all threads must be parked at safepoints.\r\n\r\nSafepoint is a &quot;special place&quot; in execution flow, where thread can be safely stopped to perform GC.\r\n\r\nI want to minimize time of waiting of safe points in my code.\r\nWhat coding style will help me to reach safepoints faster?\r\n\r\nWhat style makes this task more uncomfortable?\r\n\r\nUnder *style* I mean everything in language, that helps (or prevents) quick &quot;acquisition&quot; of safepoint.\r\n\r\nExamples:\r\n\r\nIs disk IO work making it more problematic?\r\n\r\nIs JNI making it more problematic?\r\n\r\nIs Thread.sleep() making it more hard?\r\n\r\nIs synchronized(..) making it harder?\r\n\r\netc..\r\n\r\nIn short, what java operations and methods will make quick &quot;acquisition&quot; of safepoint problematic? And what helps?\r\n","title":"java gc: what programming style makes safe point attainment easier (faster)?","body":"<p>Suppose I want help garbage collector.\nOne of ways to spend less time in GC is to reach safepoints faster.</p>\n\n<p>Before a GC can be started, all threads must be parked at safepoints.</p>\n\n<p>Safepoint is a \"special place\" in execution flow, where thread can be safely stopped to perform GC.</p>\n\n<p>I want to minimize time of waiting of safe points in my code.\nWhat coding style will help me to reach safepoints faster?</p>\n\n<p>What style makes this task more uncomfortable?</p>\n\n<p>Under <em>style</em> I mean everything in language, that helps (or prevents) quick \"acquisition\" of safepoint.</p>\n\n<p>Examples:</p>\n\n<p>Is disk IO work making it more problematic?</p>\n\n<p>Is JNI making it more problematic?</p>\n\n<p>Is Thread.sleep() making it more hard?</p>\n\n<p>Is synchronized(..) making it harder?</p>\n\n<p>etc..</p>\n\n<p>In short, what java operations and methods will make quick \"acquisition\" of safepoint problematic? And what helps?</p>\n"},{"tags":["java","maven","webassembly","teavm"],"comments":[{"owner":{"display_name":"user14560339"},"score":0,"creation_date":1645750032,"post_id":71259567,"comment_id":125960404,"body_markdown":"remove &lt;minHeapSize&gt;1&lt;/minHeapSize&gt; and &lt;maxHeapSize&gt;16&lt;/maxHeapSize&gt;. They are not allowed there","body":"remove &lt;minHeapSize&gt;1&lt;/minHeapSize&gt; and &lt;maxHeapSize&gt;16&lt;/maxHeapSize&gt;. They are not allowed there"},{"owner":{"account_id":2359236,"reputation":7557,"user_id":2066336,"accept_rate":73,"display_name":"ckersch"},"score":0,"creation_date":1645760794,"post_id":71259567,"comment_id":125962109,"body_markdown":"@Cybergrenouille I get the same error if I run mvn clean package with those removed. They&#39;re also in the pom file present in the benchmark code.","body":"@Cybergrenouille I get the same error if I run mvn clean package with those removed. They&#39;re also in the pom file present in the benchmark code."},{"owner":{"display_name":"user14560339"},"score":0,"creation_date":1646008366,"post_id":71259567,"comment_id":126011947,"body_markdown":"It builds for me without those tags (If it is not expected, it will not build. In the example, they are probably defined in the parent &#39;teamvm-samples&#39;). Maybe try removing those tag and purge your local maven repository: mvn dependency:purge-local-repository  and then: mvn clean package","body":"It builds for me without those tags (If it is not expected, it will not build. In the example, they are probably defined in the parent &#39;teamvm-samples&#39;). Maybe try removing those tag and purge your local maven repository: mvn dependency:purge-local-repository  and then: mvn clean package"}],"owner":{"account_id":2359236,"reputation":7557,"user_id":2066336,"accept_rate":73,"display_name":"ckersch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1052,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645746903,"creation_date":1645746903,"question_id":71259567,"body_markdown":"I&#39;m trying to figure out in the most rudimentary way possible how to use TeaVM to compile a wasm file from a .java file. My .java code is fairly simple and compiles successfully to Javascript if I use the maven .pom file provided on the TeaVM Getting Started page:\r\n\r\n    package org.teavm;\r\n    \r\n    public class Scorer {\r\n        public static void main(String[] args) {\r\n            Double score = testScore();\r\n    \t\t\r\n    \t\t//log(score);\r\n        }\r\n    \t\r\n    \t//@JSBody(params = { &quot;value&quot; }, script = &quot;console.log(&#39;Value is: &#39; + value)&quot;)\r\n    \t//public static native void log(double value);\r\n    \t\r\n    \tpublic static double testScore(){\r\n    \t\tDouble score = 8.0085;\r\n    \t\treturn score;\r\n    \t}\r\n    }\r\n\r\nMy problem comes when I want to do the same thing, but compile it to .wasm instead of .js. (This is why the JSO stuff is commented out from the .java code). My .pom file is as follows:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;org.teavm&lt;/groupId&gt;\r\n      &lt;artifactId&gt;teavm-maven-webapp&lt;/artifactId&gt;\r\n      &lt;version&gt;0.6.1 &lt;/version&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;teavm.version&gt;0.6.1&lt;/teavm.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;!-- Emulator of Java class library for TeaVM --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.teavm&lt;/groupId&gt;\r\n          &lt;artifactId&gt;teavm-classlib&lt;/artifactId&gt;\r\n          &lt;version&gt;${teavm.version}&lt;/version&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- JavaScriptObjects (JSO) - a JavaScript binding for TeaVM --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.teavm&lt;/groupId&gt;\r\n          &lt;artifactId&gt;teavm-jso-apis&lt;/artifactId&gt;\r\n          &lt;version&gt;${teavm.version}&lt;/version&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- Servlet 3.1 specification --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;!-- Configure Java compiler to use Java 8 syntax  --&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;source&gt;${java.version}&lt;/source&gt;\r\n              &lt;target&gt;${java.version}&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n    \r\n          &lt;!-- Configure WAR plugin to include JavaScript !AND WASM! files generated by TeaVM --&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;webResources&gt;\r\n                &lt;resource&gt;\r\n                  &lt;directory&gt;${project.build.directory}/generated/js&lt;/directory&gt;\r\n                &lt;/resource&gt;\r\n    \t\t\t&lt;resource&gt;\r\n                  &lt;directory&gt;${project.build.directory}/generated/wasm&lt;/directory&gt;\r\n                &lt;/resource&gt;\r\n              &lt;/webResources&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n    \r\n          &lt;!-- Configure TeaVM --&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.teavm&lt;/groupId&gt;\r\n            &lt;artifactId&gt;teavm-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${teavm.version}&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;web-client&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;compile&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;!-- Directory where TeaVM should put generated files. This configuration conforms to the settings\r\n                       of the WAR plugin --&gt;\r\n                  &lt;targetDirectory&gt;${project.build.directory}/generated/js/teavm&lt;/targetDirectory&gt;\r\n    \r\n                  &lt;!-- Main class, containing static void main(String[]) --&gt;\r\n                  &lt;mainClass&gt;org.teavm.Scorer&lt;/mainClass&gt;\r\n    \r\n                  &lt;!-- Whether TeaVM should produce minified JavaScript. Can reduce JavaScript file size more than\r\n                       two times --&gt;\r\n                  &lt;minifying&gt;false&lt;/minifying&gt;\r\n    \r\n                  &lt;!-- Whether TeaVM should produce debug information for its built-in debugger --&gt;\r\n                  &lt;debugInformationGenerated&gt;true&lt;/debugInformationGenerated&gt;\r\n    \r\n                  &lt;!-- Whether TeaVM should produce source maps file --&gt;\r\n                  &lt;sourceMapsGenerated&gt;true&lt;/sourceMapsGenerated&gt;\r\n    \r\n                  &lt;!-- Whether TeaVM should also put source files into output directory,\r\n                       for compatibility with source maps --&gt;\r\n                  &lt;sourceFilesCopied&gt;true&lt;/sourceFilesCopied&gt;\r\n    \r\n                  &lt;!-- Optimization level. Valid values are: SIMPLE, ADVANCED, FULL --&gt;\r\n                  &lt;optimizationLevel&gt;FULL&lt;/optimizationLevel&gt;\r\n    \t\t\t  \r\n    \t\t\t  &lt;!-- &lt;targetType&gt;WEBASSEMBLY&lt;/targetType&gt; --&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n    \t\t  &lt;execution&gt;\r\n                &lt;id&gt;wasm-client&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;compile&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;!-- Directory where TeaVM should put generated files. This configuration conforms to the settings\r\n                       of the WAR plugin --&gt;\r\n                  &lt;targetDirectory&gt;${project.build.directory}/generated/wasm/teavm-wasm&lt;/targetDirectory&gt;\r\n    \r\n                  &lt;!-- Main class, containing static void main(String[]) --&gt;\r\n                  &lt;mainClass&gt;org.teavm.Scorer&lt;/mainClass&gt;\r\n    \t\t\t  \r\n                  &lt;!-- Whether TeaVM should produce debug information for its built-in debugger --&gt;\r\n                  &lt;debugInformationGenerated&gt;true&lt;/debugInformationGenerated&gt;\r\n    \r\n                  \r\n    \t\t\t  \r\n    \t\t\t  &lt;targetType&gt;WEBASSEMBLY&lt;/targetType&gt;\r\n    \t\t\t  \r\n    \t\t\t  &lt;!-- Optimization level. Valid values are: SIMPLE, ADVANCED, FULL --&gt;\r\n                  &lt;optimizationLevel&gt;FULL&lt;/optimizationLevel&gt;\r\n    \t\t\t  \r\n    \t\t\t  &lt;minHeapSize&gt;1&lt;/minHeapSize&gt;\r\n    \t\t\t  &lt;maxHeapSize&gt;16&lt;/maxHeapSize&gt;\r\n    \t\t\t  \r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nThis is basically a combination of the &quot;Getting Started&quot; .pom file and the .pom file from the benchmark sample located here: https://github.com/konsoletyper/teavm/blob/master/samples/benchmark/pom.xml\r\n\r\nI added the second execution block to the teavm plugin configuration section. Everything else in the benchmark .pom looks like it isn&#39;t related to .wasm file generation.\r\n\r\nWhen I try to build (using `mvn clean package`, same as I used for the js-only version of this), I get the following error:\r\n\r\n    [INFO] Running TeaVM\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  4.876 s\r\n    [INFO] Finished at: 2022-02-24T18:43:21-05:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.teavm:teavm-maven-plugin:0.6.1:compile (wasm-client) on project teavm-maven-webapp: Unexpected error occurred: Array index out of range: 0 -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\nDoes anyone know what might be causing this? I checked the apache wiki page url in the error log and it doesn&#39;t really help. I&#39;ve never used either TeaVM or Maven before and this has me kind of stumped.\r\n","title":"How do I solve an index out of bounds exception using Maven to compile TeaVM?","body":"<p>I'm trying to figure out in the most rudimentary way possible how to use TeaVM to compile a wasm file from a .java file. My .java code is fairly simple and compiles successfully to Javascript if I use the maven .pom file provided on the TeaVM Getting Started page:</p>\n<pre><code>package org.teavm;\n\npublic class Scorer {\n    public static void main(String[] args) {\n        Double score = testScore();\n        \n        //log(score);\n    }\n    \n    //@JSBody(params = { &quot;value&quot; }, script = &quot;console.log('Value is: ' + value)&quot;)\n    //public static native void log(double value);\n    \n    public static double testScore(){\n        Double score = 8.0085;\n        return score;\n    }\n}\n</code></pre>\n<p>My problem comes when I want to do the same thing, but compile it to .wasm instead of .js. (This is why the JSO stuff is commented out from the .java code). My .pom file is as follows:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;org.teavm&lt;/groupId&gt;\n  &lt;artifactId&gt;teavm-maven-webapp&lt;/artifactId&gt;\n  &lt;version&gt;0.6.1 &lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n\n  &lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;teavm.version&gt;0.6.1&lt;/teavm.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;!-- Emulator of Java class library for TeaVM --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.teavm&lt;/groupId&gt;\n      &lt;artifactId&gt;teavm-classlib&lt;/artifactId&gt;\n      &lt;version&gt;${teavm.version}&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- JavaScriptObjects (JSO) - a JavaScript binding for TeaVM --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.teavm&lt;/groupId&gt;\n      &lt;artifactId&gt;teavm-jso-apis&lt;/artifactId&gt;\n      &lt;version&gt;${teavm.version}&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Servlet 3.1 specification --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;3.1.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;!-- Configure Java compiler to use Java 8 syntax  --&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;${java.version}&lt;/source&gt;\n          &lt;target&gt;${java.version}&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n\n      &lt;!-- Configure WAR plugin to include JavaScript !AND WASM! files generated by TeaVM --&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.4&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;webResources&gt;\n            &lt;resource&gt;\n              &lt;directory&gt;${project.build.directory}/generated/js&lt;/directory&gt;\n            &lt;/resource&gt;\n            &lt;resource&gt;\n              &lt;directory&gt;${project.build.directory}/generated/wasm&lt;/directory&gt;\n            &lt;/resource&gt;\n          &lt;/webResources&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n\n      &lt;!-- Configure TeaVM --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.teavm&lt;/groupId&gt;\n        &lt;artifactId&gt;teavm-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${teavm.version}&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;web-client&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;compile&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;!-- Directory where TeaVM should put generated files. This configuration conforms to the settings\n                   of the WAR plugin --&gt;\n              &lt;targetDirectory&gt;${project.build.directory}/generated/js/teavm&lt;/targetDirectory&gt;\n\n              &lt;!-- Main class, containing static void main(String[]) --&gt;\n              &lt;mainClass&gt;org.teavm.Scorer&lt;/mainClass&gt;\n\n              &lt;!-- Whether TeaVM should produce minified JavaScript. Can reduce JavaScript file size more than\n                   two times --&gt;\n              &lt;minifying&gt;false&lt;/minifying&gt;\n\n              &lt;!-- Whether TeaVM should produce debug information for its built-in debugger --&gt;\n              &lt;debugInformationGenerated&gt;true&lt;/debugInformationGenerated&gt;\n\n              &lt;!-- Whether TeaVM should produce source maps file --&gt;\n              &lt;sourceMapsGenerated&gt;true&lt;/sourceMapsGenerated&gt;\n\n              &lt;!-- Whether TeaVM should also put source files into output directory,\n                   for compatibility with source maps --&gt;\n              &lt;sourceFilesCopied&gt;true&lt;/sourceFilesCopied&gt;\n\n              &lt;!-- Optimization level. Valid values are: SIMPLE, ADVANCED, FULL --&gt;\n              &lt;optimizationLevel&gt;FULL&lt;/optimizationLevel&gt;\n              \n              &lt;!-- &lt;targetType&gt;WEBASSEMBLY&lt;/targetType&gt; --&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n          &lt;execution&gt;\n            &lt;id&gt;wasm-client&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;compile&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;!-- Directory where TeaVM should put generated files. This configuration conforms to the settings\n                   of the WAR plugin --&gt;\n              &lt;targetDirectory&gt;${project.build.directory}/generated/wasm/teavm-wasm&lt;/targetDirectory&gt;\n\n              &lt;!-- Main class, containing static void main(String[]) --&gt;\n              &lt;mainClass&gt;org.teavm.Scorer&lt;/mainClass&gt;\n              \n              &lt;!-- Whether TeaVM should produce debug information for its built-in debugger --&gt;\n              &lt;debugInformationGenerated&gt;true&lt;/debugInformationGenerated&gt;\n\n              \n              \n              &lt;targetType&gt;WEBASSEMBLY&lt;/targetType&gt;\n              \n              &lt;!-- Optimization level. Valid values are: SIMPLE, ADVANCED, FULL --&gt;\n              &lt;optimizationLevel&gt;FULL&lt;/optimizationLevel&gt;\n              \n              &lt;minHeapSize&gt;1&lt;/minHeapSize&gt;\n              &lt;maxHeapSize&gt;16&lt;/maxHeapSize&gt;\n              \n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>This is basically a combination of the &quot;Getting Started&quot; .pom file and the .pom file from the benchmark sample located here: <a href=\"https://github.com/konsoletyper/teavm/blob/master/samples/benchmark/pom.xml\" rel=\"nofollow noreferrer\">https://github.com/konsoletyper/teavm/blob/master/samples/benchmark/pom.xml</a></p>\n<p>I added the second execution block to the teavm plugin configuration section. Everything else in the benchmark .pom looks like it isn't related to .wasm file generation.</p>\n<p>When I try to build (using <code>mvn clean package</code>, same as I used for the js-only version of this), I get the following error:</p>\n<pre><code>[INFO] Running TeaVM\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  4.876 s\n[INFO] Finished at: 2022-02-24T18:43:21-05:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.teavm:teavm-maven-plugin:0.6.1:compile (wasm-client) on project teavm-maven-webapp: Unexpected error occurred: Array index out of range: 0 -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>Does anyone know what might be causing this? I checked the apache wiki page url in the error log and it doesn't really help. I've never used either TeaVM or Maven before and this has me kind of stumped.</p>\n"},{"tags":["java","arrays","string","char","stack"],"comments":[{"owner":{"account_id":1257651,"reputation":12773,"user_id":1216776,"display_name":"stark"},"score":0,"creation_date":1645743216,"post_id":71259091,"comment_id":125959191,"body_markdown":"If last op is not lower precedence, then perform it before pushing this op.","body":"If last op is not lower precedence, then perform it before pushing this op."}],"answers":[{"tags":[],"owner":{"account_id":19875789,"reputation":2650,"user_id":14645101,"display_name":"Aniketh Malyala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645746460,"creation_date":1645746460,"answer_id":71259517,"question_id":71259091,"body_markdown":"This is how I approached this problem. (It is somewhat similar to yours). I&#39;ll post the code first, then explain the process below:\r\n\r\n    import java.util.*;\r\n    class Main {\r\n      public static void main(String[] args) {\r\n        System.out.println(findResult(&quot;2*57-38*3/5-5-2+3*4/2-2-2&quot;));\r\n      }\r\n       public static double findResult (String s){\r\n         String sub = s;\r\n         ArrayList&lt;Double&gt; nums = new ArrayList&lt;Double&gt;();\r\n         ArrayList&lt;Character&gt; operations = new ArrayList&lt;Character&gt;();\r\n         for(int x = 0; x &lt; s.length(); x++){\r\n           if(s.charAt(x) == &#39;+&#39; || s.charAt(x) == &#39;-&#39; || s.charAt(x) == &#39;*&#39; || s.charAt(x) == &#39;/&#39; ){\r\n             operations.add(s.charAt(x));\r\n             int subInd = sub.indexOf(s.charAt(x));\r\n             nums.add(Double.valueOf(sub.substring(0,subInd)));\r\n             sub = sub.substring(subInd + 1);\r\n           }\r\n          }\r\n         nums.add(Double.valueOf(sub));\r\n         String[] operationTypes = {&quot;*/&quot;,&quot;+-&quot;};\r\n         for(int i = 0; i &lt; 2; i++){\r\n             for(int j = 0; j &lt; operations.size(); j++){\r\n               if(operationTypes[i].indexOf(operations.get(j)) != -1){\r\n                 double val;\r\n                 if(operations.get(j) == &#39;*&#39;){\r\n                  val = nums.get(j) * nums.get(j+1);\r\n                 }\r\n                 else if(operations.get(j) == &#39;/&#39;){\r\n                  val = nums.get(j) / nums.get(j+1);\r\n                 }\r\n                 else if(operations.get(j) == &#39;+&#39;){\r\n                  val = nums.get(j) + nums.get(j+1);\r\n                 }\r\n                 else{\r\n                  val = nums.get(j) - nums.get(j+1);\r\n                 }\r\n                 nums.set(j,val);\r\n                 nums.remove(j+1);\r\n                 operations.remove(j);\r\n                 j--;\r\n               }\r\n             }\r\n           }\r\n        return nums.get(0);\r\n      }\r\n    }\r\n\r\nYeah...it&#39;s a lot:\r\n\r\nThe first step in this process was to divide the String into two ```ArrayLists```: ```nums``` and ```operations```. ```nums``` stores the terms and ```operations``` stores the..operations (*, /, +, -).\r\n\r\nNow, we iterate through each &quot;group&quot; of operations, that being multiplication and division, and addition and subtraction.\r\n\r\nStarting with mult/div, if we see either a ```&#39;*&#39;``` or ```&#39;/&#39;``` in our ```operations```, then we compute the product or quotient of the corresponding elements in our ```nums``` and edit ```nums``` accordingly by modifying the element that matches indexes with the operation and deleting the term following it. Make sure you also remove the operation from nums and decrement the counter variable so the loop does not skip any values.\r\n\r\nFinally, we will return the only value left in our ```nums``` which will be our answer.\r\n\r\nI hope this helped you! Please let me know if you need any further details or clarification :)\r\n\r\n\r\n","title":"add/subtract/or multiply as per the given string","body":"<p>This is how I approached this problem. (It is somewhat similar to yours). I'll post the code first, then explain the process below:</p>\n<pre><code>import java.util.*;\nclass Main {\n  public static void main(String[] args) {\n    System.out.println(findResult(&quot;2*57-38*3/5-5-2+3*4/2-2-2&quot;));\n  }\n   public static double findResult (String s){\n     String sub = s;\n     ArrayList&lt;Double&gt; nums = new ArrayList&lt;Double&gt;();\n     ArrayList&lt;Character&gt; operations = new ArrayList&lt;Character&gt;();\n     for(int x = 0; x &lt; s.length(); x++){\n       if(s.charAt(x) == '+' || s.charAt(x) == '-' || s.charAt(x) == '*' || s.charAt(x) == '/' ){\n         operations.add(s.charAt(x));\n         int subInd = sub.indexOf(s.charAt(x));\n         nums.add(Double.valueOf(sub.substring(0,subInd)));\n         sub = sub.substring(subInd + 1);\n       }\n      }\n     nums.add(Double.valueOf(sub));\n     String[] operationTypes = {&quot;*/&quot;,&quot;+-&quot;};\n     for(int i = 0; i &lt; 2; i++){\n         for(int j = 0; j &lt; operations.size(); j++){\n           if(operationTypes[i].indexOf(operations.get(j)) != -1){\n             double val;\n             if(operations.get(j) == '*'){\n              val = nums.get(j) * nums.get(j+1);\n             }\n             else if(operations.get(j) == '/'){\n              val = nums.get(j) / nums.get(j+1);\n             }\n             else if(operations.get(j) == '+'){\n              val = nums.get(j) + nums.get(j+1);\n             }\n             else{\n              val = nums.get(j) - nums.get(j+1);\n             }\n             nums.set(j,val);\n             nums.remove(j+1);\n             operations.remove(j);\n             j--;\n           }\n         }\n       }\n    return nums.get(0);\n  }\n}\n</code></pre>\n<p>Yeah...it's a lot:</p>\n<p>The first step in this process was to divide the String into two <code>ArrayLists</code>: <code>nums</code> and <code>operations</code>. <code>nums</code> stores the terms and <code>operations</code> stores the..operations (*, /, +, -).</p>\n<p>Now, we iterate through each &quot;group&quot; of operations, that being multiplication and division, and addition and subtraction.</p>\n<p>Starting with mult/div, if we see either a <code>'*'</code> or <code>'/'</code> in our <code>operations</code>, then we compute the product or quotient of the corresponding elements in our <code>nums</code> and edit <code>nums</code> accordingly by modifying the element that matches indexes with the operation and deleting the term following it. Make sure you also remove the operation from nums and decrement the counter variable so the loop does not skip any values.</p>\n<p>Finally, we will return the only value left in our <code>nums</code> which will be our answer.</p>\n<p>I hope this helped you! Please let me know if you need any further details or clarification :)</p>\n"}],"owner":{"account_id":24294210,"reputation":17,"user_id":18238686,"display_name":"Simmi Dutta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":71259517,"answer_count":1,"score":-2,"last_activity_date":1645746460,"creation_date":1645742504,"question_id":71259091,"body_markdown":"I was given this problem in an interview, return the output of this String s = &quot;4+8&#215;2&quot; , output = 20, Ex2: String s = &quot;3&#215;7-4&quot;, output = 17.\r\nThis is my approach, but I am not able to get the expected result, please point out the correct way here.\r\n\r\n   \r\n\r\n     public static int findResult (String s) {\r\n            int i = 0;\r\n            Stack&lt;String&gt; stack =  new Stack&lt;&gt;();\r\n            while (i &lt; s.length()) {\r\n                if (s.charAt(i) == &#39;+&#39;) {\r\n                    stack.push(String.valueOf(s.charAt(i)));\r\n                    i++;\r\n                } else if (s.charAt(i) == &#39;*&#39;) {\r\n                    stack.push(String.valueOf(s.charAt(i)));\r\n                    i++;\r\n                } else if (s.charAt(i) == &#39;-&#39;) {\r\n                    stack.push(String.valueOf(s.charAt(i)));\r\n                    i++;\r\n                } else if (Character.isDigit(s.charAt(i))) {\r\n                    int num = s.charAt(i) - &#39;0&#39;;\r\n                    while (i+1 &lt; s.length() &amp;&amp; Character.isDigit(s.charAt(i + 1))) {\r\n                        num = num * 10 + s.charAt(++i) - &#39;0&#39;;\r\n                    }\r\n                    stack.push(String.valueOf(num));\r\n                    i++;\r\n                }\r\n            }\r\n            int current = 0;\r\n            //second while loop\r\n            while (!stack.isEmpty()) {\r\n                int firstNumber = Integer.parseInt(stack.pop());\r\n                if (stack.isEmpty()) return current;\r\n                String sign = stack.pop(&quot;&quot;\r\n                //int firstNum = Integer.parseInt(stack.pop());\r\n                if (sign.equals(&quot;*&quot;)) {\r\n                    current = firstNumber * Integer.parseInt(stack.pop());\r\n                    stack.push(String.valueOf(current));\r\n                }\r\n                else if (sign.equals(&quot;-&quot;)) {\r\n                    current = firstNumber;\r\n                    stack.push(String.valueOf(current));\r\n                } else {\r\n                    current = firstNumber + Integer.parseInt(stack.pop());\r\n                    stack.push(String.valueOf(current));\r\n                }\r\n            }\r\n    \r\n            return Integer.parseInt(stack.pop());\r\n        }","title":"add/subtract/or multiply as per the given string","body":"<p>I was given this problem in an interview, return the output of this String s = &quot;4+8×2&quot; , output = 20, Ex2: String s = &quot;3×7-4&quot;, output = 17.\nThis is my approach, but I am not able to get the expected result, please point out the correct way here.</p>\n<pre><code> public static int findResult (String s) {\n        int i = 0;\n        Stack&lt;String&gt; stack =  new Stack&lt;&gt;();\n        while (i &lt; s.length()) {\n            if (s.charAt(i) == '+') {\n                stack.push(String.valueOf(s.charAt(i)));\n                i++;\n            } else if (s.charAt(i) == '*') {\n                stack.push(String.valueOf(s.charAt(i)));\n                i++;\n            } else if (s.charAt(i) == '-') {\n                stack.push(String.valueOf(s.charAt(i)));\n                i++;\n            } else if (Character.isDigit(s.charAt(i))) {\n                int num = s.charAt(i) - '0';\n                while (i+1 &lt; s.length() &amp;&amp; Character.isDigit(s.charAt(i + 1))) {\n                    num = num * 10 + s.charAt(++i) - '0';\n                }\n                stack.push(String.valueOf(num));\n                i++;\n            }\n        }\n        int current = 0;\n        //second while loop\n        while (!stack.isEmpty()) {\n            int firstNumber = Integer.parseInt(stack.pop());\n            if (stack.isEmpty()) return current;\n            String sign = stack.pop(&quot;&quot;\n            //int firstNum = Integer.parseInt(stack.pop());\n            if (sign.equals(&quot;*&quot;)) {\n                current = firstNumber * Integer.parseInt(stack.pop());\n                stack.push(String.valueOf(current));\n            }\n            else if (sign.equals(&quot;-&quot;)) {\n                current = firstNumber;\n                stack.push(String.valueOf(current));\n            } else {\n                current = firstNumber + Integer.parseInt(stack.pop());\n                stack.push(String.valueOf(current));\n            }\n        }\n\n        return Integer.parseInt(stack.pop());\n    }\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":20126029,"reputation":1616,"user_id":14759470,"display_name":"SlothCoding"},"score":0,"creation_date":1634473590,"post_id":69604149,"comment_id":123029003,"body_markdown":"You can make this work with fragment which has ViewPager in it. ViewPager can have fragment container and in onPageChangedListener you can just replace one fragment with another. If its the same fragment but different data just provide it with new data and fill your fragment. Can you work with this?","body":"You can make this work with fragment which has ViewPager in it. ViewPager can have fragment container and in onPageChangedListener you can just replace one fragment with another. If its the same fragment but different data just provide it with new data and fill your fragment. Can you work with this?"},{"owner":{"account_id":15878286,"reputation":11,"user_id":17173715,"display_name":"Nwadinigwe Michael"},"score":0,"creation_date":1634474204,"post_id":69604149,"comment_id":123029138,"body_markdown":"Let me give it a try.","body":"Let me give it a try."},{"owner":{"account_id":15878286,"reputation":11,"user_id":17173715,"display_name":"Nwadinigwe Michael"},"score":0,"creation_date":1634486650,"post_id":69604149,"comment_id":123032215,"body_markdown":"I am having difficulties in implementing this, please more help.","body":"I am having difficulties in implementing this, please more help."},{"owner":{"account_id":20126029,"reputation":1616,"user_id":14759470,"display_name":"SlothCoding"},"score":0,"creation_date":1634978694,"post_id":69604149,"comment_id":123176215,"body_markdown":"Can you tell me which value type are you using for your ListView adapter? Please copy what you have so far here so I can help you","body":"Can you tell me which value type are you using for your ListView adapter? Please copy what you have so far here so I can help you"},{"owner":{"account_id":15878286,"reputation":11,"user_id":17173715,"display_name":"Nwadinigwe Michael"},"score":0,"creation_date":1635887201,"post_id":69604149,"comment_id":123411675,"body_markdown":"Ok, i will do so","body":"Ok, i will do so"}],"owner":{"account_id":15878286,"reputation":11,"user_id":17173715,"display_name":"Nwadinigwe Michael"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645746127,"creation_date":1634472193,"question_id":69604149,"body_markdown":"I have an expandable listview, i want when an item is clicked on one can swipe to the next item on the list without going back to click on the next item.\r\n\r\nI have tried using expandable listview and viewpager but both of the would not want to be in the same layout file, it is not working for me.\r\n\r\nPlease how do i go about this. ","title":"How to swipe from one child group of expandable listview to another child group within he same parent group","body":"<p>I have an expandable listview, i want when an item is clicked on one can swipe to the next item on the list without going back to click on the next item.</p>\n<p>I have tried using expandable listview and viewpager but both of the would not want to be in the same layout file, it is not working for me.</p>\n<p>Please how do i go about this.</p>\n"},{"tags":["java","php"],"comments":[{"owner":{"account_id":1114689,"reputation":11376,"user_id":1104328,"accept_rate":50,"display_name":"Harry"},"score":4,"creation_date":1460525157,"post_id":36589200,"comment_id":60776441,"body_markdown":"Show us what you&#39;ve done so far.","body":"Show us what you&#39;ve done so far."},{"owner":{"account_id":8228051,"reputation":17,"user_id":6189699,"display_name":"Febry Rizky"},"score":0,"creation_date":1460534672,"post_id":36589200,"comment_id":60781674,"body_markdown":"I have had trouble in the API , so I wanted to throw the data json from php to java , but always data is never entered , and I should be able to translate a given java code , and then link full source api java : https://paste.fedoraproject.org/354886/05346571/","body":"I have had trouble in the API , so I wanted to throw the data json from php to java , but always data is never entered , and I should be able to translate a given java code , and then link full source api java : <a href=\"https://paste.fedoraproject.org/354886/05346571/\" rel=\"nofollow noreferrer\">paste.fedoraproject.org/354886/05346571</a>"}],"answers":[{"tags":[],"owner":{"account_id":377423,"reputation":9794,"user_id":729539,"display_name":"Arjan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1460528602,"creation_date":1460528602,"answer_id":36590201,"question_id":36589200,"body_markdown":"PHP has a function [sha1()](http://php.net/manual/en/function.sha1.php) that creates a sha1 hash from the input string. No need to convert the java function and rebuild the logic.","title":"code java convert to php","body":"<p>PHP has a function <a href=\"http://php.net/manual/en/function.sha1.php\" rel=\"nofollow\">sha1()</a> that creates a sha1 hash from the input string. No need to convert the java function and rebuild the logic.</p>\n"},{"tags":[],"owner":{"account_id":72299,"reputation":313668,"user_id":208809,"accept_rate":100,"display_name":"Gordon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1460528623,"creation_date":1460528623,"answer_id":36590212,"question_id":36589200,"body_markdown":"PHP has a native function to hash sha1 strings:\r\n\r\n- [`sha1` — Calculate the sha1 hash of a string][1]\r\n\r\nExample from Manual:\r\n\r\n    $str = &#39;apple&#39;;\r\n    \r\n    if (sha1($str) === &#39;d0be2dc421be4fcd0172e5afceea3970e2f3d940&#39;) {\r\n        echo &quot;Would you like a green or red apple?&quot;;\r\n    }\r\n\r\nThis will give the same output as your Java code would give for &quot;apple&quot;.\r\n\r\n\r\n  [1]: http://php.net/manual/en/function.sha1.php","title":"code java convert to php","body":"<p>PHP has a native function to hash sha1 strings:</p>\n\n<ul>\n<li><a href=\"http://php.net/manual/en/function.sha1.php\" rel=\"nofollow\"><code>sha1</code> — Calculate the sha1 hash of a string</a></li>\n</ul>\n\n<p>Example from Manual:</p>\n\n<pre><code>$str = 'apple';\n\nif (sha1($str) === 'd0be2dc421be4fcd0172e5afceea3970e2f3d940') {\n    echo \"Would you like a green or red apple?\";\n}\n</code></pre>\n\n<p>This will give the same output as your Java code would give for \"apple\".</p>\n"}],"owner":{"account_id":8228051,"reputation":17,"user_id":6189699,"display_name":"Febry Rizky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1645745537,"creation_date":1460524738,"question_id":36589200,"body_markdown":"I have a java code that want converted to php .\r\n\r\n    public String getSHA1Hash(String input) throws NoSuchAlgorithmException, UnsupportedEncodingException {\r\n            String SHA1Hash = null;\r\n            MessageDigest md = MessageDigest.getInstance(&quot;SHA1&quot;);\r\n            md.reset();\r\n            byte[] buffer = input.getBytes(&quot;UTF-8&quot;);\r\n            md.update(buffer);\r\n            byte[] digest = md.digest();\r\n            String hexStr = &quot;&quot;;\r\n            for (int i = 0; i &lt; digest.length; i++) {\r\n                hexStr += Integer.toString((digest[i] &amp; 0xff) + 0x100, 16).substring(1);\r\n                SHA1Hash = hexStr;\r\n            }\r\n            return SHA1Hash;\r\n\r\nhelp \r\n\r\n","title":"code java convert to php","body":"<p>I have a java code that want converted to php .</p>\n\n<pre><code>public String getSHA1Hash(String input) throws NoSuchAlgorithmException, UnsupportedEncodingException {\n        String SHA1Hash = null;\n        MessageDigest md = MessageDigest.getInstance(\"SHA1\");\n        md.reset();\n        byte[] buffer = input.getBytes(\"UTF-8\");\n        md.update(buffer);\n        byte[] digest = md.digest();\n        String hexStr = \"\";\n        for (int i = 0; i &lt; digest.length; i++) {\n            hexStr += Integer.toString((digest[i] &amp; 0xff) + 0x100, 16).substring(1);\n            SHA1Hash = hexStr;\n        }\n        return SHA1Hash;\n</code></pre>\n\n<p>help </p>\n"},{"tags":["java","algorithm","linked-list","partitioning","partition"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645744900,"post_id":71259308,"comment_id":125959529,"body_markdown":"The node at the end of a list always has a `null` next pointer. In a single list of nodes, only one node will have a `null` next pointer. When those same nodes are rearranged into two lists, two nodes must have `null` next pointers.","body":"The node at the end of a list always has a <code>null</code> next pointer. In a single list of nodes, only one node will have a <code>null</code> next pointer. When those same nodes are rearranged into two lists, two nodes must have <code>null</code> next pointers."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1645745463,"post_id":71259308,"comment_id":125959664,"body_markdown":"What do you think `after.next` will be equal to, if you don&#39;t set it to null? Did you try to check that, for example by using a debugger? In general, what is your understanding of how linked lists work - specifically, when the `.next` of a node is null, what does that *mean*?","body":"What do you think <code>after.next</code> will be equal to, if you don&#39;t set it to null? Did you try to check that, for example by using a debugger? In general, what is your understanding of how linked lists work - specifically, when the <code>.next</code> of a node is null, what does that <i>mean</i>?"}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645745299,"creation_date":1645745299,"answer_id":71259402,"question_id":71259308,"body_markdown":"&gt; why do i need to set after.next to null after creating my two separate linked lists?\r\n\r\nThe last node of a linked list doesn&#39;t have a next node.  In a linked list representation such as yours, that takes the form of the last node&#39;s `next` reference being null.\r\n\r\nYou are rearranging the existing nodes of the list by changing their `next` references.  At the end of that process, `after` is a reference to the last node, therefore its `next` reference needs to be null.  If it was also the last node in the original order then all is well -- its `next` reference is already null.  If `after` *was not* the last node in the original order, however, then `after.next` will refer to one of the other nodes until you set it null.  And whatever other node that is, it comes before `after` in the new order, forming a loop.\r\n\r\n----\r\nNote also that\r\n\r\n&gt;         before.next=after_head;\r\n\r\nappears to be wrong.  `after_head` is the dummy head node of the second partition, so you do not want to include it in the new list.  I think you want\r\n\r\n        before.next = after_head.next;\r\n","title":"Why am i entering into an infinite loop when partitioning a linked list?","body":"<blockquote>\n<p>why do i need to set after.next to null after creating my two separate linked lists?</p>\n</blockquote>\n<p>The last node of a linked list doesn't have a next node.  In a linked list representation such as yours, that takes the form of the last node's <code>next</code> reference being null.</p>\n<p>You are rearranging the existing nodes of the list by changing their <code>next</code> references.  At the end of that process, <code>after</code> is a reference to the last node, therefore its <code>next</code> reference needs to be null.  If it was also the last node in the original order then all is well -- its <code>next</code> reference is already null.  If <code>after</code> <em>was not</em> the last node in the original order, however, then <code>after.next</code> will refer to one of the other nodes until you set it null.  And whatever other node that is, it comes before <code>after</code> in the new order, forming a loop.</p>\n<hr />\n<p>Note also that</p>\n<blockquote>\n<pre><code>    before.next=after_head;\n</code></pre>\n</blockquote>\n<p>appears to be wrong.  <code>after_head</code> is the dummy head node of the second partition, so you do not want to include it in the new list.  I think you want</p>\n<pre><code>    before.next = after_head.next;\n</code></pre>\n"}],"owner":{"account_id":18587794,"reputation":7,"user_id":13545697,"display_name":"lokiorio64390"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645745299,"creation_date":1645744353,"question_id":71259308,"body_markdown":"This is a common problem of partitioning a linked list into two parts. The list with nodes smaller than x will come first and the list of nodes larger than x will come after.\r\n\r\nMy question is - why do i need to set after.next to null after creating my two separate linked lists? Without setting it to null, I enter an infinite loop when trying to print this list.\r\nMy debugger shows that before_head.next has a never-ending list of nodes attached to it...\r\n\r\n```\r\npublic Node partition(Node head, int x){\r\n  Node before_head=new Node(0);\r\n  Node before=before_head;\r\n  Node after_head=new Node(0);\r\n  Node after=after_head;\r\n\r\n  while(head != null){\r\n    if(head.val &lt; x){\r\n      before.next=head;\r\n      before=before.next;\r\n    else{\r\n      after.next=head;\r\n      after=after.next;\r\n     }\r\n    head=head.next;\r\n   }\r\n\r\n   after.next=null;\r\n   before.next=after_head;\r\n\r\n   return before_head.next;\r\n}\r\n```\r\n","title":"Why am i entering into an infinite loop when partitioning a linked list?","body":"<p>This is a common problem of partitioning a linked list into two parts. The list with nodes smaller than x will come first and the list of nodes larger than x will come after.</p>\n<p>My question is - why do i need to set after.next to null after creating my two separate linked lists? Without setting it to null, I enter an infinite loop when trying to print this list.\nMy debugger shows that before_head.next has a never-ending list of nodes attached to it...</p>\n<pre><code>public Node partition(Node head, int x){\n  Node before_head=new Node(0);\n  Node before=before_head;\n  Node after_head=new Node(0);\n  Node after=after_head;\n\n  while(head != null){\n    if(head.val &lt; x){\n      before.next=head;\n      before=before.next;\n    else{\n      after.next=head;\n      after=after.next;\n     }\n    head=head.next;\n   }\n\n   after.next=null;\n   before.next=after_head;\n\n   return before_head.next;\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":21468233,"reputation":15,"user_id":15817766,"display_name":"Bonito"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645729298,"creation_date":1645729298,"answer_id":71256982,"question_id":71256695,"body_markdown":"I don&#39;t know Java, but from a algorithmic point of view it could look like this:\r\n\r\n```\r\nmax_list = empty_list\r\nfor i to len(A)\r\n    for j to len(A) - i \r\n        subset [j, j+i]\r\n        find max of subset\r\n        append max to max_list\r\n\r\nresult = 1\r\nfor i to len(A)\r\n    result = result * A[i]\r\n```\r\n\r\n","title":"product of Maximum of all subarray","body":"<p>I don't know Java, but from a algorithmic point of view it could look like this:</p>\n<pre><code>max_list = empty_list\nfor i to len(A)\n    for j to len(A) - i \n        subset [j, j+i]\n        find max of subset\n        append max to max_list\n\nresult = 1\nfor i to len(A)\n    result = result * A[i]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19815042,"reputation":324,"user_id":14512951,"display_name":"Goldenprime"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645738786,"creation_date":1645738786,"answer_id":71258581,"question_id":71256695,"body_markdown":"From what i know, this should do what you want:\r\n\r\n    import java.util.Arrays;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            int[][] arrays = {\r\n                {4},\r\n                {7},\r\n                {4, 7}\r\n            };\r\n\r\n            int result = Arrays.stream(arrays).mapToInt((x) -&gt; Arrays.stream(x).max().getAsInt()).reduce(1, Math::multiplyExact);\r\n\r\n            System.out.println(result);\r\n        }\r\n    }\r\nFirst, the largest value from each of the source arrays is selected. \r\n\r\n    Arrays.stream(arrays).mapToInt(x -&gt; {});\r\n\r\nTo achieve this, we first iterate over each of these arrays in the lambda function of Arrays.stream and get the largest value in the array x by inserting\r\n\r\n    Arrays.stream(x).max().getAsInt()\r\n\r\nIn the last step, the largest numbers from the respective arrays are multiplied together, which is done by the reduce method, which always makes one out of two values until only one is left. The operation used to reduce is `multiplyExact`, the reason for this is that a method `Integer::multiply` unfortunately does not exist (or at least I don&#39;t know about it). The special thing about the method `multiplyExact` is that it throws an error as soon as an integer overflow occurs.","title":"product of Maximum of all subarray","body":"<p>From what i know, this should do what you want:</p>\n<pre><code>import java.util.Arrays;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        int[][] arrays = {\n            {4},\n            {7},\n            {4, 7}\n        };\n\n        int result = Arrays.stream(arrays).mapToInt((x) -&gt; Arrays.stream(x).max().getAsInt()).reduce(1, Math::multiplyExact);\n\n        System.out.println(result);\n    }\n}\n</code></pre>\n<p>First, the largest value from each of the source arrays is selected.</p>\n<pre><code>Arrays.stream(arrays).mapToInt(x -&gt; {});\n</code></pre>\n<p>To achieve this, we first iterate over each of these arrays in the lambda function of Arrays.stream and get the largest value in the array x by inserting</p>\n<pre><code>Arrays.stream(x).max().getAsInt()\n</code></pre>\n<p>In the last step, the largest numbers from the respective arrays are multiplied together, which is done by the reduce method, which always makes one out of two values until only one is left. The operation used to reduce is <code>multiplyExact</code>, the reason for this is that a method <code>Integer::multiply</code> unfortunately does not exist (or at least I don't know about it). The special thing about the method <code>multiplyExact</code> is that it throws an error as soon as an integer overflow occurs.</p>\n"}],"owner":{"account_id":10371181,"reputation":19,"user_id":7648831,"display_name":"Azim Uddin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":71258581,"answer_count":2,"score":0,"last_activity_date":1645745092,"creation_date":1645727712,"question_id":71256695,"body_markdown":"I have an Array with some distinct integer data in it and I need to get the max element from all the subarray possible and multiply it.\r\nHere is the example\r\ninput :\r\n```{4,7} ```\r\nRequired Output:\r\n196\r\n\r\nExplanation:\r\nsubarray possible\r\n```\r\n{4}=max{4}=4\r\n{7}=max{7}=7\r\n{4,7}=max{4,7}=7\r\nanswer=4*7*7=196\r\n```\r\ncan someone help me with this? Thanks in advance.\r\n","title":"product of Maximum of all subarray","body":"<p>I have an Array with some distinct integer data in it and I need to get the max element from all the subarray possible and multiply it.\nHere is the example\ninput :\n<code>{4,7} </code>\nRequired Output:\n196</p>\n<p>Explanation:\nsubarray possible</p>\n<pre><code>{4}=max{4}=4\n{7}=max{7}=7\n{4,7}=max{4,7}=7\nanswer=4*7*7=196\n</code></pre>\n<p>can someone help me with this? Thanks in advance.</p>\n"},{"tags":["java","parallel-processing","cucumber","testng","courgette"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1645699419,"post_id":71249695,"comment_id":125943653,"body_markdown":"Please don&#39;t put code as image but prefer copy/paste. Also, can you show your `pom.xml` ?","body":"Please don&#39;t put code as image but prefer copy/paste. Also, can you show your <code>pom.xml</code> ?"},{"owner":{"account_id":24363370,"reputation":1,"user_id":18297425,"display_name":"Patryk Baran"},"score":0,"creation_date":1645702799,"post_id":71249695,"comment_id":125944802,"body_markdown":"I can&#39;t add the whole, is it enough?","body":"I can&#39;t add the whole, is it enough?"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1645707048,"post_id":71249695,"comment_id":125946343,"body_markdown":"Your logs report some test failures. First of all you need to investigate why do the logic fail. We cannot help you unless we have at least full stacktrace and the code where that exception has been thrown.","body":"Your logs report some test failures. First of all you need to investigate why do the logic fail. We cannot help you unless we have at least full stacktrace and the code where that exception has been thrown."}],"answers":[{"tags":[],"owner":{"account_id":1245793,"reputation":3093,"user_id":1207289,"accept_rate":84,"display_name":"user1207289"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645744702,"creation_date":1645744702,"answer_id":71259346,"question_id":71249695,"body_markdown":"It seems some issue with your maven goal `test` . You can utilize this below config that I am using to run `courgette-jvm` and `testNG` tests . It uses `failsafe` plugin  and a maven `profile` named `acceptanceTests` . All config is in this profile . The command I use to run this is `mvn clean verify -P acceptanceTests -X` in intelliJ\r\n\r\n      &lt;/dependency&gt;\r\n              &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;6.14.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n              &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n            &lt;version&gt;6.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n              &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.prashant-ramcharan&lt;/groupId&gt;\r\n            &lt;artifactId&gt;courgette-jvm&lt;/artifactId&gt;\r\n            &lt;version&gt;5.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n      &lt;!-- httpclient dpendendecy is to resolve courgette-jvm error -  NoClassDefFoundError: org/apache/http/conn/ssl/TrustAllStrategy --&gt;        \r\n     &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n        &lt;version&gt;4.5.10&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n     &lt;profiles&gt;\r\n    &lt;profile&gt;\r\n          &lt;id&gt;acceptanceTests&lt;/id&gt;\r\n          &lt;activation&gt;\r\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n          &lt;/activation&gt;\r\n          &lt;build&gt;\r\n    \r\n            &lt;plugins&gt;\r\n                 &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt; \r\n                        &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt; \r\n                        &lt;version&gt;1.0.0&lt;/version&gt; \r\n                        &lt;executions&gt; \r\n                            &lt;execution&gt; \r\n                                &lt;phase&gt;generate-resources&lt;/phase&gt; \r\n                                &lt;goals&gt; \r\n                                    &lt;goal&gt;write-project-properties&lt;/goal&gt; \r\n                                &lt;/goals&gt; \r\n                                &lt;configuration&gt; \r\n                                    &lt;outputFile&gt;${project.build.outputDirectory}/my.properties&lt;/outputFile&gt; \r\n                                &lt;/configuration&gt; \r\n                            &lt;/execution&gt; \r\n                        &lt;/executions&gt; \r\n                 &lt;/plugin&gt;\r\n    \r\n     &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                     &lt;execution&gt;\r\n                      &lt;id&gt;integration-test&lt;/id&gt; \r\n                    &lt;goals&gt;\r\n                      &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                      \r\n                    &lt;/goals&gt;\r\n                         &lt;configuration&gt;\r\n                            &lt;parallel&gt;methods&lt;/parallel&gt;\r\n                             &lt;threadCount&gt;4&lt;/threadCount&gt;\r\n                            &lt;useUnlimitedThreads&gt;true&lt;/useUnlimitedThreads&gt;\r\n                               &lt;systemPropertyVariables&gt;\r\n                                    &lt;hub.port&gt;${hub.p}&lt;/hub.port&gt;\r\n                                     \r\n                              &lt;/systemPropertyVariables&gt;\r\n                          &lt;/configuration&gt;\r\n                  &lt;/execution&gt;\r\n             \r\n                &lt;/executions&gt;\r\n       \r\n              &lt;/plugin&gt;\r\n               &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n              &lt;source&gt;8&lt;/source&gt;\r\n              &lt;target&gt;8&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n                 \r\n          &lt;/plugin&gt;\r\n               \r\n                  &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;failsafe-report-only&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n      \r\n      &lt;/build&gt;\r\n    \r\n    &lt;/profile&gt;\r\n     &lt;/profiles&gt;\r\n\r\nRunner class is\r\n\r\n    @Test\r\n    @CourgetteOptions(\r\n            threads = 10,\r\n            runLevel = CourgetteRunLevel.SCENARIO,\r\n            rerunFailedScenarios = true,\r\n            rerunAttempts = 1,\r\n            showTestOutput = true,\r\n            reportTitle = &quot;Courgette-JVM Example&quot;,\r\n            reportTargetDir = &quot;build&quot;,\r\n            environmentInfo = &quot;browser=chrome; git_branch=master&quot;,\r\n            cucumberOptions = @CucumberOptions(\r\n                    features = &quot;src/test/resources/com/test/&quot;,\r\n                    \r\n                    glue = &quot;com.test.stepdefs&quot;,                  \r\n                    tags = {&quot;@firefox or @chrome&quot;},                                     \r\n                    publish = true,\r\n                    plugin = {\r\n                            &quot;pretty&quot;,\r\n                            &quot;json:target/cucumber-report/cucumber.json&quot;,\r\n                            &quot;html:target/cucumber-report/cucumber.html&quot;}\r\n            ))\r\n    class AcceptanceIT extends TestNGCourgette {\r\n    }","title":"courgette-jvm configuration no information on the source of the error","body":"<p>It seems some issue with your maven goal <code>test</code> . You can utilize this below config that I am using to run <code>courgette-jvm</code> and <code>testNG</code> tests . It uses <code>failsafe</code> plugin  and a maven <code>profile</code> named <code>acceptanceTests</code> . All config is in this profile . The command I use to run this is <code>mvn clean verify -P acceptanceTests -X</code> in intelliJ</p>\n<pre><code>  &lt;/dependency&gt;\n          &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;6.14.3&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n          &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n        &lt;version&gt;6.9.1&lt;/version&gt;\n    &lt;/dependency&gt;\n          &lt;dependency&gt;\n        &lt;groupId&gt;io.github.prashant-ramcharan&lt;/groupId&gt;\n        &lt;artifactId&gt;courgette-jvm&lt;/artifactId&gt;\n        &lt;version&gt;5.11.0&lt;/version&gt;\n    &lt;/dependency&gt;\n      &lt;dependency&gt;\n  &lt;!-- httpclient dpendendecy is to resolve courgette-jvm error -  NoClassDefFoundError: org/apache/http/conn/ssl/TrustAllStrategy --&gt;        \n &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n    &lt;version&gt;4.5.10&lt;/version&gt;\n&lt;/dependency&gt;\n\n &lt;profiles&gt;\n&lt;profile&gt;\n      &lt;id&gt;acceptanceTests&lt;/id&gt;\n      &lt;activation&gt;\n        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n      &lt;/activation&gt;\n      &lt;build&gt;\n\n        &lt;plugins&gt;\n             &lt;plugin&gt;\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt; \n                    &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt; \n                    &lt;version&gt;1.0.0&lt;/version&gt; \n                    &lt;executions&gt; \n                        &lt;execution&gt; \n                            &lt;phase&gt;generate-resources&lt;/phase&gt; \n                            &lt;goals&gt; \n                                &lt;goal&gt;write-project-properties&lt;/goal&gt; \n                            &lt;/goals&gt; \n                            &lt;configuration&gt; \n                                &lt;outputFile&gt;${project.build.outputDirectory}/my.properties&lt;/outputFile&gt; \n                            &lt;/configuration&gt; \n                        &lt;/execution&gt; \n                    &lt;/executions&gt; \n             &lt;/plugin&gt;\n\n &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M5&lt;/version&gt;\n            &lt;executions&gt;\n                 &lt;execution&gt;\n                  &lt;id&gt;integration-test&lt;/id&gt; \n                &lt;goals&gt;\n                  &lt;goal&gt;integration-test&lt;/goal&gt;\n                  \n                &lt;/goals&gt;\n                     &lt;configuration&gt;\n                        &lt;parallel&gt;methods&lt;/parallel&gt;\n                         &lt;threadCount&gt;4&lt;/threadCount&gt;\n                        &lt;useUnlimitedThreads&gt;true&lt;/useUnlimitedThreads&gt;\n                           &lt;systemPropertyVariables&gt;\n                                &lt;hub.port&gt;${hub.p}&lt;/hub.port&gt;\n                                 \n                          &lt;/systemPropertyVariables&gt;\n                      &lt;/configuration&gt;\n              &lt;/execution&gt;\n         \n            &lt;/executions&gt;\n   \n          &lt;/plugin&gt;\n           &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;8&lt;/source&gt;\n          &lt;target&gt;8&lt;/target&gt;\n        &lt;/configuration&gt;\n             \n      &lt;/plugin&gt;\n           \n              &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;failsafe-report-only&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n  &lt;/plugins&gt;\n  \n  &lt;/build&gt;\n\n&lt;/profile&gt;\n &lt;/profiles&gt;\n</code></pre>\n<p>Runner class is</p>\n<pre><code>@Test\n@CourgetteOptions(\n        threads = 10,\n        runLevel = CourgetteRunLevel.SCENARIO,\n        rerunFailedScenarios = true,\n        rerunAttempts = 1,\n        showTestOutput = true,\n        reportTitle = &quot;Courgette-JVM Example&quot;,\n        reportTargetDir = &quot;build&quot;,\n        environmentInfo = &quot;browser=chrome; git_branch=master&quot;,\n        cucumberOptions = @CucumberOptions(\n                features = &quot;src/test/resources/com/test/&quot;,\n                \n                glue = &quot;com.test.stepdefs&quot;,                  \n                tags = {&quot;@firefox or @chrome&quot;},                                     \n                publish = true,\n                plugin = {\n                        &quot;pretty&quot;,\n                        &quot;json:target/cucumber-report/cucumber.json&quot;,\n                        &quot;html:target/cucumber-report/cucumber.html&quot;}\n        ))\nclass AcceptanceIT extends TestNGCourgette {\n}\n</code></pre>\n"}],"owner":{"account_id":24363370,"reputation":1,"user_id":18297425,"display_name":"Patryk Baran"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1645744702,"creation_date":1645694496,"question_id":71249695,"body_markdown":"[test result][1]\r\n\r\n\r\n[runner class][2]\r\n\r\n    &lt;dependency&gt;\r\n  \t\t\t&lt;groupId&gt;io.github.prashant-ramcharan&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;courgette-jvm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--CUCUMBER DEPENDENCIES --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n  \t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n  \t\t\t&lt;version&gt;7.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;cucumber-java8&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${maven.surfire.plugin.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${maven.surfire.plugin.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7p9OD.png\r\n  [2]: https://i.stack.imgur.com/kuIvN.png\r\n\r\n\r\nI have no information about the cause of the error. I added courgette dependency to pom.xml. What could be causing the problem?\r\n","title":"courgette-jvm configuration no information on the source of the error","body":"<p><a href=\"https://i.stack.imgur.com/7p9OD.png\" rel=\"nofollow noreferrer\">test result</a></p>\n<p><a href=\"https://i.stack.imgur.com/kuIvN.png\" rel=\"nofollow noreferrer\">runner class</a></p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;io.github.prashant-ramcharan&lt;/groupId&gt;\n        &lt;artifactId&gt;courgette-jvm&lt;/artifactId&gt;\n        &lt;version&gt;6.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!--CUCUMBER DEPENDENCIES --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;7.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java8&lt;/artifactId&gt;\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven.surfire.plugin.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven.surfire.plugin.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I have no information about the cause of the error. I added courgette dependency to pom.xml. What could be causing the problem?</p>\n"},{"tags":["java","bson","bsondocument"],"owner":{"account_id":10110007,"reputation":963,"user_id":7471307,"accept_rate":57,"display_name":"Artanis Zeratul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645744479,"creation_date":1645744479,"question_id":71259319,"body_markdown":"Given I have this sample BSON Document which I retrieved from Mongo DB.\r\n\r\n```\r\n{\r\n    &quot;field1&quot;: &quot;text1&quot;,\r\n    &quot;field2&quot;: {\r\n        &quot;field2Sub1&quot;: &quot;text2&quot;\r\n    },\r\n    &quot;field3&quot; : [\r\n        {\r\n            &quot;field3Sub1&quot;: &quot;text3&quot;,\r\n            &quot;field3Sub2&quot;: &quot;text4&quot;\r\n        },\r\n        {\r\n            &quot;field3Sub1&quot;: &quot;text5&quot;,\r\n            &quot;field3Sub2&quot;: &quot;text6&quot;\r\n        }\r\n    ],\r\n    &quot;field4&quot;: {\r\n        &quot;field4Sub1&quot;: &quot;text7&quot;,\r\n        &quot;field4Sub2&quot; : [\r\n             {\r\n                 &quot;field4Sub2Sub1&quot;: &quot;text8&quot;,\r\n                 &quot;field4Sub2Sub2&quot;: &quot;text9&quot;\r\n            },\r\n            {\r\n                 &quot;field4Sub2Sub1&quot;: &quot;text10&quot;,\r\n                 &quot;field4Sub2Sub2&quot;: &quot;text11&quot;\r\n            }\r\n        ]\r\n    }\r\n}\r\n```\r\n\r\nIn Mongo DB if I want to search for a document that has a field of ``field4Sub2Sub2`` that contains the value ``&quot;text11&quot;``.\r\n\r\nI can just do this kind of search query:\r\n```\r\n{&quot;field4.field4Sub2.field4Sub2Sub2&quot;: &quot;text11&quot;}\r\n``` \r\n\r\nAlternatively, I can also search a document that has a field of ``field3Sub1`` that contains the value ``text3`` with this kind of search:\r\n```\r\n{&quot;field3.field3Sub1&quot;: &quot;text11&quot;}\r\n```\r\n\r\nGiven the object above, I converted this to a Java BSON Document.\r\nAnd, I would like to ask if there is a way in Java or a Java Library that can search through the internals of Document and give me the value of a particular field.\r\n\r\nUsing a dot annotated search string e.g.\r\n```&quot;field3[0].field3Sub1&quot;```\r\nor\r\n```&quot;field4.field4Sub1&quot;```\r\nor\r\n```&quot;field4.field4Sub2[1].field4Sub2Sub2&quot;```\r\n\r\nwhich will be returning the following values correspondingly:\r\n```\r\ntext3\r\ntext7\r\ntext11\r\n```\r\n\r\n\r\nThanks","title":"How to search for a field with a value deep in BSON Document in Java","body":"<p>Given I have this sample BSON Document which I retrieved from Mongo DB.</p>\n<pre><code>{\n    &quot;field1&quot;: &quot;text1&quot;,\n    &quot;field2&quot;: {\n        &quot;field2Sub1&quot;: &quot;text2&quot;\n    },\n    &quot;field3&quot; : [\n        {\n            &quot;field3Sub1&quot;: &quot;text3&quot;,\n            &quot;field3Sub2&quot;: &quot;text4&quot;\n        },\n        {\n            &quot;field3Sub1&quot;: &quot;text5&quot;,\n            &quot;field3Sub2&quot;: &quot;text6&quot;\n        }\n    ],\n    &quot;field4&quot;: {\n        &quot;field4Sub1&quot;: &quot;text7&quot;,\n        &quot;field4Sub2&quot; : [\n             {\n                 &quot;field4Sub2Sub1&quot;: &quot;text8&quot;,\n                 &quot;field4Sub2Sub2&quot;: &quot;text9&quot;\n            },\n            {\n                 &quot;field4Sub2Sub1&quot;: &quot;text10&quot;,\n                 &quot;field4Sub2Sub2&quot;: &quot;text11&quot;\n            }\n        ]\n    }\n}\n</code></pre>\n<p>In Mongo DB if I want to search for a document that has a field of <code>field4Sub2Sub2</code> that contains the value <code>&quot;text11&quot;</code>.</p>\n<p>I can just do this kind of search query:</p>\n<pre><code>{&quot;field4.field4Sub2.field4Sub2Sub2&quot;: &quot;text11&quot;}\n</code></pre>\n<p>Alternatively, I can also search a document that has a field of <code>field3Sub1</code> that contains the value <code>text3</code> with this kind of search:</p>\n<pre><code>{&quot;field3.field3Sub1&quot;: &quot;text11&quot;}\n</code></pre>\n<p>Given the object above, I converted this to a Java BSON Document.\nAnd, I would like to ask if there is a way in Java or a Java Library that can search through the internals of Document and give me the value of a particular field.</p>\n<p>Using a dot annotated search string e.g.\n<code>&quot;field3[0].field3Sub1&quot;</code>\nor\n<code>&quot;field4.field4Sub1&quot;</code>\nor\n<code>&quot;field4.field4Sub2[1].field4Sub2Sub2&quot;</code></p>\n<p>which will be returning the following values correspondingly:</p>\n<pre><code>text3\ntext7\ntext11\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1645736931,"post_id":71258221,"comment_id":125957477,"body_markdown":"You could use a series of `if` statements, something like `if (objects[i] instanceof Sqaure) {...} else if ...`, but this is cumbersome and difficult to maintain, would be better if `GeometricObject` had a `getName` or `getDescription` style method, so you could just do `System.out.println(objects[i].getDescription() + &quot; area is &quot; + objects[i].getArea());`","body":"You could use a series of <code>if</code> statements, something like <code>if (objects[i] instanceof Sqaure) {...} else if ...</code>, but this is cumbersome and difficult to maintain, would be better if <code>GeometricObject</code> had a <code>getName</code> or <code>getDescription</code> style method, so you could just do <code>System.out.println(objects[i].getDescription() + &quot; area is &quot; + objects[i].getArea());</code>"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":1,"creation_date":1645737534,"post_id":71258221,"comment_id":125957656,"body_markdown":"You could also make a [toString()](https://www.geeksforgeeks.org/object-tostring-method-in-java/) for each of your shapes that simply returns its name.","body":"You could also make a <a href=\"https://www.geeksforgeeks.org/object-tostring-method-in-java/\" rel=\"nofollow noreferrer\">toString()</a> for each of your shapes that simply returns its name."}],"answers":[{"tags":[],"owner":{"account_id":19875789,"reputation":2650,"user_id":14645101,"display_name":"Aniketh Malyala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645738649,"creation_date":1645738649,"answer_id":71258563,"question_id":71258221,"body_markdown":"You can use the ```getClass()``` method. This method will return the class of the object in the form: ```class ___```.\r\n\r\nTherefore, we can use a substring to isolate just the class name. Remember, we have to convert the class to a String using ```String.valueOf()```:\r\n\r\n    String className = (String.valueOf(objects[i].getClass()).substring(String.valueOf(objects[i].getClass()).indexOf(&quot; &quot;) + 1));\r\n\r\nThe purpose of: \r\n\r\n```String.valueOf(objects[i].getClass()).indexOf(&quot; &quot;)```\r\n\r\nis to retrieve the index of the space. If we add 1 from here, we get the index of the first letter of the class. Now, we can just take the subtring of ```String.valueOf(objects[i].getClass()``` to get our substring.\r\n\r\nNow, combining this with your current code:\r\n\r\n\r\n    String className = (String.valueOf(objects[i].getClass()).substring(String.valueOf(objects[i].getClass()).indexOf(&quot; &quot;) + 1));\r\n\r\n    System.out.println(&quot;Area of &quot; + className + &quot; is &quot; + objects[i].getArea());\r\n\r\nI hope this helped! Please let me know if you need any further clarification or details :)","title":"How to display a different message for different shapes in an array","body":"<p>You can use the <code>getClass()</code> method. This method will return the class of the object in the form: <code>class ___</code>.</p>\n<p>Therefore, we can use a substring to isolate just the class name. Remember, we have to convert the class to a String using <code>String.valueOf()</code>:</p>\n<pre><code>String className = (String.valueOf(objects[i].getClass()).substring(String.valueOf(objects[i].getClass()).indexOf(&quot; &quot;) + 1));\n</code></pre>\n<p>The purpose of:</p>\n<p><code>String.valueOf(objects[i].getClass()).indexOf(&quot; &quot;)</code></p>\n<p>is to retrieve the index of the space. If we add 1 from here, we get the index of the first letter of the class. Now, we can just take the subtring of <code>String.valueOf(objects[i].getClass()</code> to get our substring.</p>\n<p>Now, combining this with your current code:</p>\n<pre><code>String className = (String.valueOf(objects[i].getClass()).substring(String.valueOf(objects[i].getClass()).indexOf(&quot; &quot;) + 1));\n\nSystem.out.println(&quot;Area of &quot; + className + &quot; is &quot; + objects[i].getArea());\n</code></pre>\n<p>I hope this helped! Please let me know if you need any further clarification or details :)</p>\n"}],"owner":{"account_id":24369584,"reputation":9,"user_id":18302758,"display_name":"pop"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1645744007,"creation_date":1645736595,"question_id":71258221,"body_markdown":"This is the code I have been working on. \r\n\r\n\r\n\r\n\r\n    // array of 6 geometric objects: 2 squares, 2 rectangles, 2 circles\r\n    \t\t\r\n    GeometricObject[] objects = { new Square(2), new Square(5), new Rectangle(3, 4), new Rectangle(5, 6),\r\n    \t\t\t\tnew Circle(4), new Circle(5)};\r\n    \r\n    \t\t//Display the area by iterating the array&#39;s objects.\r\n    \t\tfor (int i = 0; i &lt; objects.length; i++) {\r\n    \r\n    \t\t\tSystem.out.println(&quot;Area is &quot; + objects[i].getArea());\r\n    \t\t\t\r\n    \r\n    \t\t\t//Checking whether or not the object is an instance of interface Colorable.\r\n    \r\n    \t\t\tif (objects[i] instanceof Colorable) {\r\n    \r\n    \t\t\t\t//Invoking the howToColor() method.\r\n    \r\n    \t\t\t\t((Colorable) objects[i]).howToColor();\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n\r\n\r\nThe current output is this: \r\n\r\n    Area is 4.0\r\n    Color all four sides.\r\n    Area is 25.0\r\n    Color all four sides.\r\n    Area is 12.0\r\n    Area is 30.0\r\n    Area is 50.26548245743669\r\n    Area is 78.53981633974483\r\n    4.0\r\n    9.0\r\n    25.0\r\n    36.0\r\n    81.0\r\n\r\nI want to organize it so it tells you which shape&#39;s area its displaying, for example: \r\n\r\n    The squares area is:\r\n    Rectangle area is:\r\n    The Circle area is: \r\n\r\nThe only time Color all four sides should show up is after the Square&#39;s area is displayed. Can someone help me? Thanks!\r\n","title":"How to display a different message for different shapes in an array","body":"<p>This is the code I have been working on.</p>\n<pre><code>// array of 6 geometric objects: 2 squares, 2 rectangles, 2 circles\n        \nGeometricObject[] objects = { new Square(2), new Square(5), new Rectangle(3, 4), new Rectangle(5, 6),\n                new Circle(4), new Circle(5)};\n\n        //Display the area by iterating the array's objects.\n        for (int i = 0; i &lt; objects.length; i++) {\n\n            System.out.println(&quot;Area is &quot; + objects[i].getArea());\n            \n\n            //Checking whether or not the object is an instance of interface Colorable.\n\n            if (objects[i] instanceof Colorable) {\n\n                //Invoking the howToColor() method.\n\n                ((Colorable) objects[i]).howToColor();\n\n            }\n\n        }\n</code></pre>\n<p>The current output is this:</p>\n<pre><code>Area is 4.0\nColor all four sides.\nArea is 25.0\nColor all four sides.\nArea is 12.0\nArea is 30.0\nArea is 50.26548245743669\nArea is 78.53981633974483\n4.0\n9.0\n25.0\n36.0\n81.0\n</code></pre>\n<p>I want to organize it so it tells you which shape's area its displaying, for example:</p>\n<pre><code>The squares area is:\nRectangle area is:\nThe Circle area is: \n</code></pre>\n<p>The only time Color all four sides should show up is after the Square's area is displayed. Can someone help me? Thanks!</p>\n"},{"tags":["java","truststore","trustmanager"],"comments":[{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":0,"creation_date":1478098136,"post_id":40382682,"comment_id":68017575,"body_markdown":"It is technically possible, some Java EE servers offer this feature. Now they maybe override a lot of the native Java processes to achieve this...","body":"It is technically possible, some Java EE servers offer this feature. Now they maybe override a lot of the native Java processes to achieve this..."},{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":0,"creation_date":1478098238,"post_id":40382682,"comment_id":68017644,"body_markdown":"Your use case could also be a security flaw, blindly accepting new certificates isn&#39;t a good idea.","body":"Your use case could also be a security flaw, blindly accepting new certificates isn&#39;t a good idea."},{"owner":{"account_id":9486000,"reputation":91,"user_id":7052371,"display_name":"C&#233;dric O."},"score":0,"creation_date":1478098473,"post_id":40382682,"comment_id":68017835,"body_markdown":"@Aaron is right, this would be a security issue, as you are accepting certificate without knowing if it&#39;s a good one or not. This is the same as not verifying the certificates at all","body":"@Aaron is right, this would be a security issue, as you are accepting certificate without knowing if it&#39;s a good one or not. This is the same as not verifying the certificates at all"},{"owner":{"account_id":1941838,"reputation":435,"user_id":1802607,"accept_rate":69,"display_name":"Fabio"},"score":0,"creation_date":1478098496,"post_id":40382682,"comment_id":68017852,"body_markdown":"I could use Tomcat `trustManagerClassName`, but that would solve only half of the problem, unfortunately. We wouldn&#39;t accept certificates blindly, we would delegate administrative users to dynamically import them from the application GUI.","body":"I could use Tomcat <code>trustManagerClassName</code>, but that would solve only half of the problem, unfortunately. We wouldn&#39;t accept certificates blindly, we would delegate administrative users to dynamically import them from the application GUI."},{"owner":{"account_id":2144499,"reputation":439,"user_id":4113567,"accept_rate":86,"display_name":"marshal craft"},"score":0,"creation_date":1478098703,"post_id":40382682,"comment_id":68017994,"body_markdown":"Im not familar with oracle java&#39;s interactions with https servers, however I would like to know how the new certificates are getting there? Also I found this to import certificate on oracle site `keytool -import -noprompt -trustcacerts -alias ${cert.alias} -file \n${cert.file} -keystore ${keystore.file} -storepass ${keystore.pass}`","body":"Im not familar with oracle java&#39;s interactions with https servers, however I would like to know how the new certificates are getting there? Also I found this to import certificate on oracle site <code>keytool -import -noprompt -trustcacerts -alias ${cert.alias} -file  ${cert.file} -keystore ${keystore.file} -storepass ${keystore.pass}</code>"},{"owner":{"account_id":9486000,"reputation":91,"user_id":7052371,"display_name":"C&#233;dric O."},"score":0,"creation_date":1478098748,"post_id":40382682,"comment_id":68018028,"body_markdown":"You can create your own trust manager to verify another truststore which would be dynamic, so you can add the certificate in this truststore when the admin checks it, and then use the trust manager to verify the next webservice calls","body":"You can create your own trust manager to verify another truststore which would be dynamic, so you can add the certificate in this truststore when the admin checks it, and then use the trust manager to verify the next webservice calls"},{"owner":{"account_id":1941838,"reputation":435,"user_id":1802607,"accept_rate":69,"display_name":"Fabio"},"score":0,"creation_date":1478098819,"post_id":40382682,"comment_id":68018084,"body_markdown":"@marshalcraft , with progamatically I mean with java, I&#39;m well aware of the keytool feature.","body":"@marshalcraft , with progamatically I mean with java, I&#39;m well aware of the keytool feature."},{"owner":{"account_id":1941838,"reputation":435,"user_id":1802607,"accept_rate":69,"display_name":"Fabio"},"score":0,"creation_date":1478098905,"post_id":40382682,"comment_id":68018142,"body_markdown":"@C&#233;dricO. Even if I create my own trustmanager (and I did), how can I force Java to use it instead of his own?","body":"@C&#233;dricO. Even if I create my own trustmanager (and I did), how can I force Java to use it instead of his own?"},{"owner":{"account_id":9486000,"reputation":91,"user_id":7052371,"display_name":"C&#233;dric O."},"score":0,"creation_date":1478098997,"post_id":40382682,"comment_id":68018206,"body_markdown":"@Fabio, have a look here https://www.mkyong.com/webservices/jax-ws/how-to-bypass-certificate-checking-in-a-java-web-service-client/\nthis is not exactly the same subject, but the functionality used will be the same for you","body":"@Fabio, have a look here <a href=\"https://www.mkyong.com/webservices/jax-ws/how-to-bypass-certificate-checking-in-a-java-web-service-client/\" rel=\"nofollow noreferrer\">mkyong.com/webservices/jax-ws/&hellip;</a> this is not exactly the same subject, but the functionality used will be the same for you"},{"owner":{"account_id":2144499,"reputation":439,"user_id":4113567,"accept_rate":86,"display_name":"marshal craft"},"score":0,"creation_date":1478099099,"post_id":40382682,"comment_id":68018289,"body_markdown":"As for trust issues with the certificates. They would have to be sent via a secure tls 1.2 connection which further utilizes both the client and server certificates for that connection. You trust the server which is distributing new certificates, and have a permanent certificate for that server, then there is no security flaw with using the dynamic certificates for the application server.","body":"As for trust issues with the certificates. They would have to be sent via a secure tls 1.2 connection which further utilizes both the client and server certificates for that connection. You trust the server which is distributing new certificates, and have a permanent certificate for that server, then there is no security flaw with using the dynamic certificates for the application server."},{"owner":{"account_id":2144499,"reputation":439,"user_id":4113567,"accept_rate":86,"display_name":"marshal craft"},"score":0,"creation_date":1478100677,"post_id":40382682,"comment_id":68019494,"body_markdown":"@Fabio http://www.java2s.com/Tutorial/Java/0490__Security/Createsa1024bitRSAkeypairandstoresittothefilesystemastwofiles.htm using the java.security class. It only shows generation of key&#39;s, however you should be able to store the keystore if I understand correctly that it is simply a directory and outputing the key to text file. At the very least. Or this http://www.java2s.com/Tutorial/Java/0490__Security/KeyStoreExample.htm","body":"@Fabio <a href=\"http://www.java2s.com/Tutorial/Java/0490__Security/Createsa1024bitRSAkeypairandstoresittothefilesystemastwofiles.htm\" rel=\"nofollow noreferrer\">java2s.com/Tutorial/Java/0490__Security/&hellip;</a> using the java.security class. It only shows generation of key&#39;s, however you should be able to store the keystore if I understand correctly that it is simply a directory and outputing the key to text file. At the very least. Or this <a href=\"http://www.java2s.com/Tutorial/Java/0490__Security/KeyStoreExample.htm\" rel=\"nofollow noreferrer\">java2s.com/Tutorial/Java/0490__Security/KeyStoreExample.htm</a>"},{"owner":{"account_id":2144499,"reputation":439,"user_id":4113567,"accept_rate":86,"display_name":"marshal craft"},"score":0,"creation_date":1478101053,"post_id":40382682,"comment_id":68019798,"body_markdown":"Also `java.security.keystore.setEntry()` api. So it seems it is completely possible.","body":"Also <code>java.security.keystore.setEntry()</code> api. So it seems it is completely possible."},{"owner":{"account_id":2144499,"reputation":439,"user_id":4113567,"accept_rate":86,"display_name":"marshal craft"},"score":0,"creation_date":1478102292,"post_id":40382682,"comment_id":68020711,"body_markdown":"Possible duplicate of [Programmatically Import CA trust cert into existing keystore file without using keytool](http://stackoverflow.com/questions/18889058/programmatically-import-ca-trust-cert-into-existing-keystore-file-without-using)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/18889058/programmatically-import-ca-trust-cert-into-existing-keystore-file-without-using\">Programmatically Import CA trust cert into existing keystore file without using keytool</a>"},{"owner":{"account_id":2443099,"reputation":9128,"user_id":2131074,"accept_rate":75,"display_name":"GPI"},"score":0,"creation_date":1478102868,"post_id":40382682,"comment_id":68021069,"body_markdown":"Do not try to override the JVM&#39;s default trust/key store. Create your own keystores, instanciate you own Tust/KeyManagers with them, and feed them to init your own SSLContext and instanciate your SSLSocketFactory from this SSLContext. Then make sure this socket factory is used by your HTTP Layer (e.g. Apache HTTP Client or HTTPURLConnection). See http://stackoverflow.com/questions/28883632/setting-a-client-certificate-as-a-request-property-in-a-java-http-conneciton/28883926#28883926","body":"Do not try to override the JVM&#39;s default trust/key store. Create your own keystores, instanciate you own Tust/KeyManagers with them, and feed them to init your own SSLContext and instanciate your SSLSocketFactory from this SSLContext. Then make sure this socket factory is used by your HTTP Layer (e.g. Apache HTTP Client or HTTPURLConnection). See <a href=\"http://stackoverflow.com/questions/28883632/setting-a-client-certificate-as-a-request-property-in-a-java-http-conneciton/28883926#28883926\" title=\"setting a client certificate as a request property in a java http conneciton\">stackoverflow.com/questions/28883632/&hellip;</a>"},{"owner":{"account_id":3063384,"reputation":550,"user_id":2595609,"display_name":"nirmalsingh"},"score":0,"creation_date":1497519890,"post_id":40382682,"comment_id":76117082,"body_markdown":"@Fabio, are you able to solve this problem ? I am also searching a solution for a similar problem. I want my server process to dynamically reload its trust store whenever a new client certificate gets added to the trust store. new client certificate addition to the trust store will be an offline step which will happen in background. I don&#39;t want my server process to be restarted in order to reload the updated trust store. I am even open to sending a trigger event through some hook to my server process for initiating reload. But nothing like automatic reload. Any pointers ?","body":"@Fabio, are you able to solve this problem ? I am also searching a solution for a similar problem. I want my server process to dynamically reload its trust store whenever a new client certificate gets added to the trust store. new client certificate addition to the trust store will be an offline step which will happen in background. I don&#39;t want my server process to be restarted in order to reload the updated trust store. I am even open to sending a trigger event through some hook to my server process for initiating reload. But nothing like automatic reload. Any pointers ?"}],"answers":[{"tags":[],"owner":{"account_id":2144499,"reputation":439,"user_id":4113567,"accept_rate":86,"display_name":"marshal craft"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1478102092,"creation_date":1478102092,"answer_id":40384307,"question_id":40382682,"body_markdown":"Seems this question has been answered here https://stackoverflow.com/questions/18889058/programmatically-import-ca-trust-cert-into-existing-keystore-file-without-using .\r\n\r\nI think the issue is that really a truststore and keystore are the same things but they are used with a keymanager for private keys (client authentication (typically not used and no real signing authority)) and trustmanager for server authentication (always done for full tls connection). \r\n\r\nProgramatically you still use keystore for a truststore in this aspect. Hope I am correct on this.","title":"Reload Java TrustStore programmatically","body":"<p>Seems this question has been answered here <a href=\"https://stackoverflow.com/questions/18889058/programmatically-import-ca-trust-cert-into-existing-keystore-file-without-using\">Programmatically Import CA trust cert into existing keystore file without using keytool</a> .</p>\n\n<p>I think the issue is that really a truststore and keystore are the same things but they are used with a keymanager for private keys (client authentication (typically not used and no real signing authority)) and trustmanager for server authentication (always done for full tls connection). </p>\n\n<p>Programatically you still use keystore for a truststore in this aspect. Hope I am correct on this.</p>\n"},{"tags":[],"owner":{"account_id":15492584,"reputation":164,"user_id":11436109,"display_name":"SP193"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1618026808,"creation_date":1561430993,"answer_id":56746195,"question_id":40382682,"body_markdown":"While it is posted in the comment of [this other SO post][1], I want to mention this method as a potential answer because it helped me solve this problem too.\r\n\r\nThis article tells us about creating a new SSLContext that contains a wrapper (ReloadableX509TrustManager) around the standard X509TrustManager: https://jcalcote.wordpress.com/2010/06/22/managing-a-dynamic-java-trust-store/\r\n\r\nWhenever a client/server is being authenticated (with checkClientTrusted/checkServerTrusted), the X509ReloadableTrustManager will call the related method of the X509TrustManager within. If it fails (CertificateException is thrown), then it will reload the TrustStore before making another attempt. Each &quot;reload&quot; actually replaces the X509TrustManager with a new instance, since we cannot touch the certificates within.\r\n\r\nPersonally, I varied from this article slightly. Within checkClientTrusted/checkServerTrusted of ReloadableX509TrustManager:\r\n\r\n1. Check if the TrustStore was modified, by the file&#39;s modified timestamp. If modified, then create a new TrustManager with the new TrustStore.\r\n2. Call checkClientTrusted/checkServerTrusted of the embedded X509TrustManager.\r\n\r\nTo reduce the number of file I/O requests, I kept track of the timestamp of the last check on the TrustStore, to restrict the polling interval on the TrustStore to a minimum of 15s.\r\n\r\nI believe my method is slightly better because it would allow authentication to take place with the current TrustStore, which could also have certificates removed from it. The original method would still allow the application to continuously trust a client/server, even if the related certificate(s) was/were removed.\r\n\r\nEDIT: In retrospect, I think the reloading process should be made thread-safe because I cannot find anything that indicates that the checkClientTrusted() and checkServerTrusted() methods within X509TrustManager may be designed without thread-safety in mind. In fact, the checkTrustedInit() method of the default X509TrustManagerImpl class has some synchronized blocks - which might hint that these functions must be made thread-safe.\r\n\r\nEDIT 2021/04/10: Here is a sample implementation:\r\n```\r\npackage com.test.certificate;\r\n\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.InputStream;\r\nimport java.security.KeyStore;\r\nimport java.security.KeyStoreException;\r\nimport java.security.NoSuchProviderException;\r\nimport java.security.cert.Certificate;\r\nimport java.security.cert.CertificateException;\r\nimport java.security.cert.CertificateFactory;\r\nimport java.security.cert.X509Certificate;\r\nimport java.util.List;\r\n\r\nimport javax.net.ssl.TrustManager;\r\nimport javax.net.ssl.TrustManagerFactory;\r\nimport javax.net.ssl.X509TrustManager;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class ReloadableX509TrustManager implements X509TrustManager {\r\n\r\n\tprivate static final Logger logger = LoggerFactory.getLogger(ReloadableX509TrustManager.class);\r\n\r\n\tprivate X509TrustManager trustManager;\r\n\r\n\tprivate static final String KEYSTORE_RUNTIME_FORMAT = &quot;JKS&quot;;\r\n\tprivate static final String CERTIFICATE_ENTRY_FORMAT = &quot;X.509&quot;;\r\n\r\n\tpublic ReloadableX509TrustManager() throws Exception {\r\n\t\treload();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {\r\n\t\ttry {\r\n\t\t\treload();\r\n\t\t} catch (Exception ex) {\r\n\t\t\tlogger.warn(&quot;Failed to reload TrustStore due to &quot; + ex, ex);\r\n\t\t}\r\n\t\ttrustManager.checkClientTrusted(chain, authType);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {\r\n\t\ttry {\r\n\t\t\treload();\r\n\t\t} catch (Exception ex) {\r\n\t\t\tlogger.warn(&quot;Failed to reload TrustStore due to &quot; + ex, ex);\r\n\t\t}\r\n\t\ttrustManager.checkServerTrusted(chain, authType);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic X509Certificate[] getAcceptedIssuers() {\r\n\t\treturn trustManager.getAcceptedIssuers();\r\n\t}\r\n\r\n\t/**\r\n\t * Reloads the inner TrustStore.\r\n\t * For performance, reloading of the TrustStore will only be done if there is a change.\r\n\t * @throws Exception\r\n\t */\r\n\tpublic synchronized void reload() throws Exception {\r\n\t\tif (!isUpdated())\r\n\t\t\treturn;\r\n\r\n\t\tKeyStore trustStore = KeyStore.getInstance(KEYSTORE_RUNTIME_FORMAT);\r\n\t\ttrustStore.load(null, null);\r\n\r\n\t\tList&lt;TrustedCertificate&gt; certs = getCertificates();\r\n\t\tCertificateFactory cf = CertificateFactory.getInstance(CERTIFICATE_ENTRY_FORMAT);\r\n\r\n\t\tfor (TrustedCertificate cert : certs) {\r\n\t\t\tInputStream is = new ByteArrayInputStream(cert.getCertificate());\r\n\t\t\tCertificate certEntry;\r\n\t\t\ttry {\r\n\t\t\t\tcertEntry = cf.generateCertificate(is);\r\n\t\t\t} catch (CertificateException e) {\r\n\t\t\t\tlogger.error(&quot;Failed to generate certificate &quot; + cert.getAliasForKeystore() + &quot; due to: &quot; + e);\r\n\t\t\t\tcontinue;\r\n\t\t\t} finally {\r\n\t\t\t\tis.close();\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\t\t\t\ttrustStore.setCertificateEntry(cert.getAliasForKeystore(), certEntry);\r\n\t\t\t} catch (KeyStoreException e) {\r\n\t\t\t\tlogger.error(&quot;Failed to insert certificate &quot; + cert.getAliasForKeystore() + &quot; due to: &quot; + e);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tTrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n\t\ttrustManagerFactory.init(trustStore);\r\n\r\n\t\t// Locate the X509TrustManager and get a reference to it.\r\n\t\tTrustManager[] trustManagers = trustManagerFactory.getTrustManagers();\r\n\t\tfor (TrustManager tm : trustManagers) {\r\n\t\t\tif (tm instanceof X509TrustManager) {\r\n\t\t\t\ttrustManager = (X509TrustManager)tm;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthrow new NoSuchProviderException(&quot;X509TrustManager not available from TrustManagerFactory.&quot;);\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether the TrustStore was updated.\r\n\t * @return Whether the TrustStore was updated.\r\n\t */\r\n\tprivate boolean isUpdated() {\r\n\t\t// TODO Write your logic to check whether the TrustStore was updated.\r\n        // If disk I/O is used, it may be good to limit how often the file is accessed for performance.\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**\r\n\t * Returns a list of certificates from the TrustStore.\r\n\t * @return A list of certificates from the TrustStore.\r\n\t * @throws Exception\r\n\t */\r\n\tprivate List&lt;TrustedCertificate&gt; getCertificates() throws Exception {\r\n\t\t// TODO Write your logic to retrieve all certificates from the TrustStore.\r\n\t\treturn ;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAnd then to generate a new SSLContext that uses the new TrustManager:\r\n```\r\n\tprivate SSLContext initContext() throws Exception {\r\n    \tTrustManager[] trustManagers = { getTrustManager() };\r\n\r\n    \t//Initialize a new SSLContext, with our custom TrustManager.\r\n    \tSSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n    \tsslContext.init(null, trustManagers, null);\r\n    \treturn sslContext;\r\n\t}\r\n```\r\n\r\nSomething similar can be done if you needed a reloadable KeyStore. But instead of implementing X509TrustManager, the class shall implement X509KeyManager instead. This custom KeyManager is passed as an array to the first argument of sslContext.init().\r\n\r\n  [1]: https://stackoverflow.com/questions/13173610/sslcontext-should-i-reload-it","title":"Reload Java TrustStore programmatically","body":"<p>While it is posted in the comment of <a href=\"https://stackoverflow.com/questions/13173610/sslcontext-should-i-reload-it\">this other SO post</a>, I want to mention this method as a potential answer because it helped me solve this problem too.</p>\n<p>This article tells us about creating a new SSLContext that contains a wrapper (ReloadableX509TrustManager) around the standard X509TrustManager: <a href=\"https://jcalcote.wordpress.com/2010/06/22/managing-a-dynamic-java-trust-store/\" rel=\"nofollow noreferrer\">https://jcalcote.wordpress.com/2010/06/22/managing-a-dynamic-java-trust-store/</a></p>\n<p>Whenever a client/server is being authenticated (with checkClientTrusted/checkServerTrusted), the X509ReloadableTrustManager will call the related method of the X509TrustManager within. If it fails (CertificateException is thrown), then it will reload the TrustStore before making another attempt. Each &quot;reload&quot; actually replaces the X509TrustManager with a new instance, since we cannot touch the certificates within.</p>\n<p>Personally, I varied from this article slightly. Within checkClientTrusted/checkServerTrusted of ReloadableX509TrustManager:</p>\n<ol>\n<li>Check if the TrustStore was modified, by the file's modified timestamp. If modified, then create a new TrustManager with the new TrustStore.</li>\n<li>Call checkClientTrusted/checkServerTrusted of the embedded X509TrustManager.</li>\n</ol>\n<p>To reduce the number of file I/O requests, I kept track of the timestamp of the last check on the TrustStore, to restrict the polling interval on the TrustStore to a minimum of 15s.</p>\n<p>I believe my method is slightly better because it would allow authentication to take place with the current TrustStore, which could also have certificates removed from it. The original method would still allow the application to continuously trust a client/server, even if the related certificate(s) was/were removed.</p>\n<p>EDIT: In retrospect, I think the reloading process should be made thread-safe because I cannot find anything that indicates that the checkClientTrusted() and checkServerTrusted() methods within X509TrustManager may be designed without thread-safety in mind. In fact, the checkTrustedInit() method of the default X509TrustManagerImpl class has some synchronized blocks - which might hint that these functions must be made thread-safe.</p>\n<p>EDIT 2021/04/10: Here is a sample implementation:</p>\n<pre><code>package com.test.certificate;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.InputStream;\nimport java.security.KeyStore;\nimport java.security.KeyStoreException;\nimport java.security.NoSuchProviderException;\nimport java.security.cert.Certificate;\nimport java.security.cert.CertificateException;\nimport java.security.cert.CertificateFactory;\nimport java.security.cert.X509Certificate;\nimport java.util.List;\n\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.TrustManagerFactory;\nimport javax.net.ssl.X509TrustManager;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class ReloadableX509TrustManager implements X509TrustManager {\n\n    private static final Logger logger = LoggerFactory.getLogger(ReloadableX509TrustManager.class);\n\n    private X509TrustManager trustManager;\n\n    private static final String KEYSTORE_RUNTIME_FORMAT = &quot;JKS&quot;;\n    private static final String CERTIFICATE_ENTRY_FORMAT = &quot;X.509&quot;;\n\n    public ReloadableX509TrustManager() throws Exception {\n        reload();\n    }\n\n    @Override\n    public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {\n        try {\n            reload();\n        } catch (Exception ex) {\n            logger.warn(&quot;Failed to reload TrustStore due to &quot; + ex, ex);\n        }\n        trustManager.checkClientTrusted(chain, authType);\n    }\n\n    @Override\n    public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {\n        try {\n            reload();\n        } catch (Exception ex) {\n            logger.warn(&quot;Failed to reload TrustStore due to &quot; + ex, ex);\n        }\n        trustManager.checkServerTrusted(chain, authType);\n    }\n\n    @Override\n    public X509Certificate[] getAcceptedIssuers() {\n        return trustManager.getAcceptedIssuers();\n    }\n\n    /**\n     * Reloads the inner TrustStore.\n     * For performance, reloading of the TrustStore will only be done if there is a change.\n     * @throws Exception\n     */\n    public synchronized void reload() throws Exception {\n        if (!isUpdated())\n            return;\n\n        KeyStore trustStore = KeyStore.getInstance(KEYSTORE_RUNTIME_FORMAT);\n        trustStore.load(null, null);\n\n        List&lt;TrustedCertificate&gt; certs = getCertificates();\n        CertificateFactory cf = CertificateFactory.getInstance(CERTIFICATE_ENTRY_FORMAT);\n\n        for (TrustedCertificate cert : certs) {\n            InputStream is = new ByteArrayInputStream(cert.getCertificate());\n            Certificate certEntry;\n            try {\n                certEntry = cf.generateCertificate(is);\n            } catch (CertificateException e) {\n                logger.error(&quot;Failed to generate certificate &quot; + cert.getAliasForKeystore() + &quot; due to: &quot; + e);\n                continue;\n            } finally {\n                is.close();\n            }\n\n            try {\n                trustStore.setCertificateEntry(cert.getAliasForKeystore(), certEntry);\n            } catch (KeyStoreException e) {\n                logger.error(&quot;Failed to insert certificate &quot; + cert.getAliasForKeystore() + &quot; due to: &quot; + e);\n                continue;\n            }\n        }\n\n        TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        trustManagerFactory.init(trustStore);\n\n        // Locate the X509TrustManager and get a reference to it.\n        TrustManager[] trustManagers = trustManagerFactory.getTrustManagers();\n        for (TrustManager tm : trustManagers) {\n            if (tm instanceof X509TrustManager) {\n                trustManager = (X509TrustManager)tm;\n                return;\n            }\n        }\n\n        throw new NoSuchProviderException(&quot;X509TrustManager not available from TrustManagerFactory.&quot;);\n    }\n\n    /**\n     * Indicates whether the TrustStore was updated.\n     * @return Whether the TrustStore was updated.\n     */\n    private boolean isUpdated() {\n        // TODO Write your logic to check whether the TrustStore was updated.\n        // If disk I/O is used, it may be good to limit how often the file is accessed for performance.\n        return false;\n    }\n\n    /**\n     * Returns a list of certificates from the TrustStore.\n     * @return A list of certificates from the TrustStore.\n     * @throws Exception\n     */\n    private List&lt;TrustedCertificate&gt; getCertificates() throws Exception {\n        // TODO Write your logic to retrieve all certificates from the TrustStore.\n        return ;\n    }\n\n}\n</code></pre>\n<p>And then to generate a new SSLContext that uses the new TrustManager:</p>\n<pre><code>    private SSLContext initContext() throws Exception {\n        TrustManager[] trustManagers = { getTrustManager() };\n\n        //Initialize a new SSLContext, with our custom TrustManager.\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslContext.init(null, trustManagers, null);\n        return sslContext;\n    }\n</code></pre>\n<p>Something similar can be done if you needed a reloadable KeyStore. But instead of implementing X509TrustManager, the class shall implement X509KeyManager instead. This custom KeyManager is passed as an array to the first argument of sslContext.init().</p>\n"},{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645744000,"creation_date":1645744000,"answer_id":71259269,"question_id":40382682,"body_markdown":"I had posted a similar answer here: https://stackoverflow.com/questions/69506869/reloading-a-java-net-http-httpclients-sslcontext/69507126#69507126\r\n\r\nBasically what you need is a custom trust manager which wraps around the actual trustmanager which is able to swap the actual trustmanager whenever needed, for example when the truststore gets updated.\r\n\r\nYou can find a full answer on the link [here][1], below is a small snippet which should do the trick for you and it uses the wrapper trustmanager named hot swappable trustmanager under the covers\r\n\r\n```java\r\nSSLFactory sslFactory = SSLFactory.builder()\r\n          .withSwappableTrustMaterial()\r\n          .withTrustMaterial(&quot;truststore.jks&quot;, &quot;password&quot;.toCharArray())\r\n          .build();\r\n          \r\nHttpClient httpClient = HttpClient.newBuilder()\r\n          .sslParameters(sslFactory.getSslParameters())\r\n          .sslContext(sslFactory.getSslContext())\r\n          .build()\r\n\r\n// execute https request\r\nHttpResponse&lt;String&gt; response = httpClient.send(aRequest, HttpResponse.BodyHandlers.ofString());\r\n\r\n// swap trust materials and reuse existing http client\r\nTrustManagerUtils.swapTrustManager(sslFactory.getTrustManager().get(), anotherTrustManager);\r\n\r\n// Cleanup old ssl sessions by invalidating them all. Forces to use new ssl sessions which will be created by the swapped TrustManager\r\nSSLSessionUtils.invalidateCaches(sslFactory.getSslContext());\r\n\r\nHttpResponse&lt;String&gt; response = httpClient.send(aRequest, HttpResponse.BodyHandlers.ofString());\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/69506869/reloading-a-java-net-http-httpclients-sslcontext/69507126#69507126","title":"Reload Java TrustStore programmatically","body":"<p>I had posted a similar answer here: <a href=\"https://stackoverflow.com/questions/69506869/reloading-a-java-net-http-httpclients-sslcontext/69507126#69507126\">Reloading a java.net.http.HttpClient&#39;s SSLContext</a></p>\n<p>Basically what you need is a custom trust manager which wraps around the actual trustmanager which is able to swap the actual trustmanager whenever needed, for example when the truststore gets updated.</p>\n<p>You can find a full answer on the link <a href=\"https://stackoverflow.com/questions/69506869/reloading-a-java-net-http-httpclients-sslcontext/69507126#69507126\">here</a>, below is a small snippet which should do the trick for you and it uses the wrapper trustmanager named hot swappable trustmanager under the covers</p>\n<pre class=\"lang-java prettyprint-override\"><code>SSLFactory sslFactory = SSLFactory.builder()\n          .withSwappableTrustMaterial()\n          .withTrustMaterial(&quot;truststore.jks&quot;, &quot;password&quot;.toCharArray())\n          .build();\n          \nHttpClient httpClient = HttpClient.newBuilder()\n          .sslParameters(sslFactory.getSslParameters())\n          .sslContext(sslFactory.getSslContext())\n          .build()\n\n// execute https request\nHttpResponse&lt;String&gt; response = httpClient.send(aRequest, HttpResponse.BodyHandlers.ofString());\n\n// swap trust materials and reuse existing http client\nTrustManagerUtils.swapTrustManager(sslFactory.getTrustManager().get(), anotherTrustManager);\n\n// Cleanup old ssl sessions by invalidating them all. Forces to use new ssl sessions which will be created by the swapped TrustManager\nSSLSessionUtils.invalidateCaches(sslFactory.getSslContext());\n\nHttpResponse&lt;String&gt; response = httpClient.send(aRequest, HttpResponse.BodyHandlers.ofString());\n</code></pre>\n"}],"owner":{"account_id":1941838,"reputation":435,"user_id":1802607,"accept_rate":69,"display_name":"Fabio"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10033,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1645744000,"creation_date":1478097508,"question_id":40382682,"body_markdown":"I&#39;ve read quite a lot about this topic and it seems impossible to do, but just to be sure I&#39;d like one more opinion.\r\n\r\nUse case:\r\nWeb application that connects programmatically with one or more https services, the services are dynamic and the certificates get frequent updates.\r\n\r\nWhat the application should do it&#39;s to update the TrustStore with the new certificates and use them without restarting the application. It&#39;s important that no new code should be implemented to do the https connections (hence, it should integrate seamlessly).\r\n\r\nI&#39;ve tried (with no luck) to override the default Java TrustManager, any help will be appreciated.\r\n\r\nEDIT: I&#39;ve tryied some of the solution proposed in the comments/answers, but I still need to restart my tomcat afterwards","title":"Reload Java TrustStore programmatically","body":"<p>I've read quite a lot about this topic and it seems impossible to do, but just to be sure I'd like one more opinion.</p>\n\n<p>Use case:\nWeb application that connects programmatically with one or more https services, the services are dynamic and the certificates get frequent updates.</p>\n\n<p>What the application should do it's to update the TrustStore with the new certificates and use them without restarting the application. It's important that no new code should be implemented to do the https connections (hence, it should integrate seamlessly).</p>\n\n<p>I've tried (with no luck) to override the default Java TrustManager, any help will be appreciated.</p>\n\n<p>EDIT: I've tryied some of the solution proposed in the comments/answers, but I still need to restart my tomcat afterwards</p>\n"},{"tags":["java","jpa","eclipselink","glassfish-5","mariadb-10.4"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1589218229,"post_id":61690913,"comment_id":109200324,"body_markdown":"What database platform class is being used? Check that it has support for IDENTITY and/or SEQUENCE, otherwise EclipseLink will default to table sequencing. If you don&#39;t know the platform class used (you can specify it with the target-database persistence property) it should get logged during deployment when it tests the datasource to detect the DB.","body":"What database platform class is being used? Check that it has support for IDENTITY and/or SEQUENCE, otherwise EclipseLink will default to table sequencing. If you don&#39;t know the platform class used (you can specify it with the target-database persistence property) it should get logged during deployment when it tests the datasource to detect the DB."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1589218815,"post_id":61690913,"comment_id":109200623,"body_markdown":"Also note, IDENTITY != SEQUENCE. If you are creating a sequence &quot;SEQUANCE&quot; in the database and want it used, you must define it in JPA using the GeneratedValue to which points to a sequence definition AND the SequenceGenerator annotation to define the sequence itself. see https://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Entities/Ids/GeneratedValue and https://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Entities/Ids/SequenceGenerator","body":"Also note, IDENTITY != SEQUENCE. If you are creating a sequence &quot;SEQUANCE&quot; in the database and want it used, you must define it in JPA using the GeneratedValue to which points to a sequence definition AND the SequenceGenerator annotation to define the sequence itself. see <a href=\"https://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Entities/Ids/GeneratedValue\" rel=\"nofollow noreferrer\">wiki.eclipse.org/EclipseLink/UserGuide/JPA/&hellip;</a> and <a href=\"https://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Entities/Ids/SequenceGenerator\" rel=\"nofollow noreferrer\">wiki.eclipse.org/EclipseLink/UserGuide/JPA/&hellip;</a>"},{"owner":{"account_id":7422326,"reputation":13,"user_id":5646165,"display_name":"yacdidi"},"score":0,"creation_date":1589249335,"post_id":61690913,"comment_id":109212132,"body_markdown":"Thank you for your answer, I use MariaDB 10.4 and it supports both IDENTITY and SEQUENCE, but what I do not understand is the fact that it supports IDENTITY but it is as if it is always configured in SEQUENCE despite that I have chosen IDENTITY. excuse me for my level in english language","body":"Thank you for your answer, I use MariaDB 10.4 and it supports both IDENTITY and SEQUENCE, but what I do not understand is the fact that it supports IDENTITY but it is as if it is always configured in SEQUENCE despite that I have chosen IDENTITY. excuse me for my level in english language"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1589289360,"post_id":61690913,"comment_id":109229107,"body_markdown":"DatabasePlatform is an Eclipselink class that is extended to provide DB specific behaviour. The platform class you are using in your persistence unit must have identity and sequence support built in or it might default to using a sequence or table sequencing. What is the target database platform that was specified? https://www.eclipse.org/eclipselink/documentation/2.4/jpa/extensions/p_target_database.htm","body":"DatabasePlatform is an Eclipselink class that is extended to provide DB specific behaviour. The platform class you are using in your persistence unit must have identity and sequence support built in or it might default to using a sequence or table sequencing. What is the target database platform that was specified? <a href=\"https://www.eclipse.org/eclipselink/documentation/2.4/jpa/extensions/p_target_database.htm\" rel=\"nofollow noreferrer\">eclipse.org/eclipselink/documentation/2.4/jpa/extensions/&hellip;</a>"},{"owner":{"account_id":7422326,"reputation":13,"user_id":5646165,"display_name":"yacdidi"},"score":0,"creation_date":1589332834,"post_id":61690913,"comment_id":109250454,"body_markdown":"It works thank you very much chris.","body":"It works thank you very much chris."}],"answers":[{"tags":[],"owner":{"account_id":7422326,"reputation":13,"user_id":5646165,"display_name":"yacdidi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1589333248,"creation_date":1589333248,"answer_id":61764825,"question_id":61690913,"body_markdown":"The problem is solved using Chris comments, i just add the following line in my persistence.xml file:\r\n\r\n\t&lt;property name=&quot;eclipselink.target-database&quot; value=&quot;MySQL&quot;/&gt;\r\n\r\nThank you very much Chris.\r\nSo my new persistence.xml file is:\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;persistence version=&quot;2.2&quot; xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot;&gt;\r\n\t\t&lt;!-- Define Persistence Unit --&gt;\r\n\t\t&lt;persistence-unit name=&quot;my_persistence_unit&quot; transaction-type=&quot;JTA&quot;&gt;\r\n\t\t\t&lt;jta-data-source&gt;jdbc/mariadb&lt;/jta-data-source&gt;\r\n\t\t\t&lt;class&gt;com.yac.model.Address&lt;/class&gt;\r\n\t\t\t&lt;class&gt;com.yac.model.Commande&lt;/class&gt;\r\n\t\t\t&lt;class&gt;com.yac.model.CommandeLine&lt;/class&gt;\r\n\t\t\t&lt;class&gt;com.yac.model.Dish&lt;/class&gt;\r\n\t\t\t&lt;class&gt;com.yac.model.Dishtype&lt;/class&gt;\r\n\t\t\t&lt;class&gt;com.yac.model.Ingredient&lt;/class&gt;\r\n\t\t\t&lt;class&gt;com.yac.model.Payement&lt;/class&gt;\r\n\t\t\t&lt;class&gt;com.yac.model.Profil&lt;/class&gt;\r\n\t\t\t&lt;class&gt;com.yac.model.Restaurant&lt;/class&gt;\r\n\t\t\t&lt;class&gt;com.yac.model.Userapp&lt;/class&gt;\r\n\t\t\t&lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;property name=&quot;eclipselink.target-database&quot; value=&quot;MySQL&quot;/&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t&lt;/persistence-unit&gt;\r\n\t&lt;/persistence&gt;\r\n\r\n\r\nI just specified the database platform in MySQL in the persistence.xml file of the moment MariaDB is based on it, because MariaDB is not mentioned in the list.\r\nIf there are other suggestions do not hesitate thank you.","title":"Problems with java @GeneratedValue (strategy = GenerationType.IDENTITY) using MariaDB 10.4 and eclipselink","body":"<p>The problem is solved using Chris comments, i just add the following line in my persistence.xml file:</p>\n\n<pre><code>&lt;property name=\"eclipselink.target-database\" value=\"MySQL\"/&gt;\n</code></pre>\n\n<p>Thank you very much Chris.\nSo my new persistence.xml file is:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence version=\"2.2\" xmlns=\"http://java.sun.com/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd\"&gt;\n    &lt;!-- Define Persistence Unit --&gt;\n    &lt;persistence-unit name=\"my_persistence_unit\" transaction-type=\"JTA\"&gt;\n        &lt;jta-data-source&gt;jdbc/mariadb&lt;/jta-data-source&gt;\n        &lt;class&gt;com.yac.model.Address&lt;/class&gt;\n        &lt;class&gt;com.yac.model.Commande&lt;/class&gt;\n        &lt;class&gt;com.yac.model.CommandeLine&lt;/class&gt;\n        &lt;class&gt;com.yac.model.Dish&lt;/class&gt;\n        &lt;class&gt;com.yac.model.Dishtype&lt;/class&gt;\n        &lt;class&gt;com.yac.model.Ingredient&lt;/class&gt;\n        &lt;class&gt;com.yac.model.Payement&lt;/class&gt;\n        &lt;class&gt;com.yac.model.Profil&lt;/class&gt;\n        &lt;class&gt;com.yac.model.Restaurant&lt;/class&gt;\n        &lt;class&gt;com.yac.model.Userapp&lt;/class&gt;\n        &lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\n        &lt;properties&gt;\n            &lt;property name=\"eclipselink.target-database\" value=\"MySQL\"/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<p>I just specified the database platform in MySQL in the persistence.xml file of the moment MariaDB is based on it, because MariaDB is not mentioned in the list.\nIf there are other suggestions do not hesitate thank you.</p>\n"},{"tags":[],"owner":{"account_id":312194,"reputation":75,"user_id":626139,"display_name":"mtz1406"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645743891,"creation_date":1645743891,"answer_id":71259262,"question_id":61690913,"body_markdown":"Another Solution:\r\nAdd `?useMysqlMetadata=true` to your JDBC URL connection as bellow:\r\n\r\n    &lt;property name=&quot;URL&quot; value=&quot;jdbc:mariadb://[HOST]:[PORT]/[DB NAME]?useMysqlMetadata=true&quot;/&gt;\r\n\r\nthat will make MariaDB use MySQL meta data and then eclipselink will detect it as MySQL.","title":"Problems with java @GeneratedValue (strategy = GenerationType.IDENTITY) using MariaDB 10.4 and eclipselink","body":"<p>Another Solution:\nAdd <code>?useMysqlMetadata=true</code> to your JDBC URL connection as bellow:</p>\n<pre><code>&lt;property name=&quot;URL&quot; value=&quot;jdbc:mariadb://[HOST]:[PORT]/[DB NAME]?useMysqlMetadata=true&quot;/&gt;\n</code></pre>\n<p>that will make MariaDB use MySQL meta data and then eclipselink will detect it as MySQL.</p>\n"}],"owner":{"account_id":7422326,"reputation":13,"user_id":5646165,"display_name":"yacdidi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1793,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61764825,"answer_count":2,"score":1,"last_activity_date":1645743891,"creation_date":1588990249,"question_id":61690913,"body_markdown":"I am developing a REST web service in Java EE I am using: Glassfish 5.0 (build 25), MariaDB 10.4 and eclipselink (JPA 2.1)\r\nhere is my code:\r\n\r\ncommande_line table\r\n-------------------\r\n\tCREATE TABLE IF NOT EXISTS `cooldb`.`commande_line` (\r\n\t  `id` INT NOT NULL AUTO_INCREMENT,\r\n\t  `quantity` INT NULL,\r\n\t  `discount` INT NULL,\r\n\t  `dish` INT NOT NULL,\r\n\t  `commande` INT NOT NULL,\r\n\t  PRIMARY KEY (`id`),\r\n\t  UNIQUE INDEX `id_UNIQUE` (`id` ASC),\r\n\t  INDEX `fk_commande_line_dish1_idx` (`dish` ASC),\r\n\t  INDEX `fk_commande_line_commande1_idx` (`commande` ASC),\r\n\t  CONSTRAINT `fk_commande_line_dish1`\r\n\t\tFOREIGN KEY (`dish`)\r\n\t\tREFERENCES `cooldb`.`dish` (`id`)\r\n\t\tON DELETE CASCADE\r\n\t\tON UPDATE CASCADE,\r\n\t  CONSTRAINT `fk_commande_line_commande1`\r\n\t\tFOREIGN KEY (`commande`)\r\n\t\tREFERENCES `cooldb`.`commande` (`id`)\r\n\t\tON DELETE CASCADE\r\n\t\tON UPDATE CASCADE)\r\n\tENGINE = InnoDB\r\n\tDEFAULT CHARACTER SET = utf8;\r\n\r\npersistance.xml\r\n---------------\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;persistence version=&quot;2.2&quot; xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot;&gt;\r\n\t  &lt;!-- Define Persistence Unit --&gt;\r\n\t  &lt;persistence-unit name=&quot;my_persistence_unit&quot; transaction-type=&quot;JTA&quot;&gt;\r\n\t\t&lt;jta-data-source&gt;jdbc/mariadb&lt;/jta-data-source&gt;\r\n\t\t&lt;class&gt;com.yac.model.Address&lt;/class&gt;\r\n\t\t&lt;class&gt;com.yac.model.Commande&lt;/class&gt;\r\n\t\t&lt;class&gt;com.yac.model.CommandeLine&lt;/class&gt;\r\n\t\t&lt;class&gt;com.yac.model.Dish&lt;/class&gt;\r\n\t\t&lt;class&gt;com.yac.model.Dishtype&lt;/class&gt;\r\n\t\t&lt;class&gt;com.yac.model.Ingredient&lt;/class&gt;\r\n\t\t&lt;class&gt;com.yac.model.Payement&lt;/class&gt;\r\n\t\t&lt;class&gt;com.yac.model.Profil&lt;/class&gt;\r\n\t\t&lt;class&gt;com.yac.model.Restaurant&lt;/class&gt;\r\n\t\t&lt;class&gt;com.yac.model.Userapp&lt;/class&gt;\r\n\t\t&lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\r\n\t\t&lt;properties&gt;\r\n\t\t&lt;/properties&gt;\r\n\t  &lt;/persistence-unit&gt;\r\n\t&lt;/persistence&gt;\r\n\r\ncommandeline entity\r\n-------------------\r\n\tpublic class CommandeLine implements Serializable {\r\n\r\n\t\tprivate static final long serialVersionUID = 1L;\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t\t@Basic(optional = false)\r\n\t\t@Column(name = &quot;id&quot;)\r\n\t\tprivate Integer id;\r\n\t\t@Column(name = &quot;quantity&quot;)\r\n\t\tprivate Integer quantity;\r\n\t\t@Column(name = &quot;discount&quot;)\r\n\t\tprivate Integer discount;\r\n\t\t@JoinColumn(name = &quot;commande&quot;, referencedColumnName = &quot;id&quot;)\r\n\t\t@ManyToOne(optional = false)\r\n\t\tprivate Commande commande;\r\n\t\t@JoinColumn(name = &quot;dish&quot;, referencedColumnName = &quot;id&quot;)\r\n\t\t@ManyToOne(optional = false)\r\n\t\tprivate Dish dish;\r\n\t\t//Constructor\r\n\t\t// Setter and Getter\r\n\t}\r\n\r\ncommandeline web service\r\n------------------------\r\n\t@Stateless\r\n\t@Path(&quot;commandeline&quot;)\r\n\tpublic class CommandeLineFacadeREST extends AbstractFacade&lt;CommandeLine&gt; {\r\n\r\n\t\t@PersistenceContext(unitName = &quot;my_persistence_unit&quot;)\r\n\t\tprivate EntityManager em;\r\n\r\n\t\tpublic CommandeLineFacadeREST() {\r\n\t\t\tsuper(CommandeLine.class);\r\n\t\t}\r\n\r\n\t\t@POST\r\n\t\t@Override\r\n\t\t@Consumes(MediaType.APPLICATION_JSON)\r\n\t\tpublic void create(CommandeLine entity) {\r\n\t\t\tsuper.create(entity);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected EntityManager getEntityManager() {\r\n\t\t\treturn em;\r\n\t\t}\r\n\t}\r\n\r\nAbstractFacade\r\n--------------\r\n\tpublic abstract class AbstractFacade&lt;T&gt; {\r\n\r\n\t\tprivate Class&lt;T&gt; entityClass;\r\n\r\n\t\tpublic AbstractFacade(Class&lt;T&gt; entityClass) {\r\n\t\t\tthis.entityClass = entityClass;\r\n\t\t}\r\n\r\n\t\tprotected abstract EntityManager getEntityManager();\r\n\r\n\t\tpublic void create(T entity) {\r\n\t\t\tgetEntityManager().persist(entity);\r\n\t\t}\r\n\t}\r\n\r\nThe problem is when I test my web service with Postman and I try to insert a record with a POST request\r\nhere is what I receive as error message:\r\n\r\n\tLocal Exception Stack: \r\n\tException [EclipseLink-4002] (Eclipse Persistence Services - 2.7.0.v20170811-d680af5): org.eclipse.persistence.exceptions.DatabaseException\r\n\tInternal Exception: java.sql.SQLSyntaxErrorException: (conn=158) Table &#39;cooldb.sequence&#39; doesn&#39;t exist\r\n\tError Code: 1146\r\n\tCall: UPDATE SEQUENCE SET SEQ_COUNT = SEQ_COUNT + ? WHERE SEQ_NAME = ?\r\n\t\tbind =&gt; [2 parameters bound]\r\n\tQuery: DataModifyQuery(name=&quot;SEQ_GEN_SEQUENCE&quot; sql=&quot;UPDATE SEQUENCE SET SEQ_COUNT = SEQ_COUNT + ? WHERE SEQ_NAME = ?&quot;) ...\r\n\r\nI don&#39;t understand why the problem with SEQUANCE when I use @GeneratedValue (strategy = GenerationType.IDENTITY).\r\nWhen I change with @GeneratedValue (strategy = GenerationType.SEQUENCE) and I create the table with the following script:\r\n\r\n\tCREATE SEQUENCE SEQUANCE START WITH 1 INCREMENT BY 1;\r\n\r\nby applying the solution shown in : https://stackoverflow.com/questions/23141014/table-customerjpa-sequence-doesnt-exist-jpa\r\nbut the same probleme\r\n\r\nthank you in advance for your help.","title":"Problems with java @GeneratedValue (strategy = GenerationType.IDENTITY) using MariaDB 10.4 and eclipselink","body":"<p>I am developing a REST web service in Java EE I am using: Glassfish 5.0 (build 25), MariaDB 10.4 and eclipselink (JPA 2.1)\nhere is my code:</p>\n\n<h2>commande_line table</h2>\n\n<pre><code>CREATE TABLE IF NOT EXISTS `cooldb`.`commande_line` (\n  `id` INT NOT NULL AUTO_INCREMENT,\n  `quantity` INT NULL,\n  `discount` INT NULL,\n  `dish` INT NOT NULL,\n  `commande` INT NOT NULL,\n  PRIMARY KEY (`id`),\n  UNIQUE INDEX `id_UNIQUE` (`id` ASC),\n  INDEX `fk_commande_line_dish1_idx` (`dish` ASC),\n  INDEX `fk_commande_line_commande1_idx` (`commande` ASC),\n  CONSTRAINT `fk_commande_line_dish1`\n    FOREIGN KEY (`dish`)\n    REFERENCES `cooldb`.`dish` (`id`)\n    ON DELETE CASCADE\n    ON UPDATE CASCADE,\n  CONSTRAINT `fk_commande_line_commande1`\n    FOREIGN KEY (`commande`)\n    REFERENCES `cooldb`.`commande` (`id`)\n    ON DELETE CASCADE\n    ON UPDATE CASCADE)\nENGINE = InnoDB\nDEFAULT CHARACTER SET = utf8;\n</code></pre>\n\n<h2>persistance.xml</h2>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence version=\"2.2\" xmlns=\"http://java.sun.com/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd\"&gt;\n  &lt;!-- Define Persistence Unit --&gt;\n  &lt;persistence-unit name=\"my_persistence_unit\" transaction-type=\"JTA\"&gt;\n    &lt;jta-data-source&gt;jdbc/mariadb&lt;/jta-data-source&gt;\n    &lt;class&gt;com.yac.model.Address&lt;/class&gt;\n    &lt;class&gt;com.yac.model.Commande&lt;/class&gt;\n    &lt;class&gt;com.yac.model.CommandeLine&lt;/class&gt;\n    &lt;class&gt;com.yac.model.Dish&lt;/class&gt;\n    &lt;class&gt;com.yac.model.Dishtype&lt;/class&gt;\n    &lt;class&gt;com.yac.model.Ingredient&lt;/class&gt;\n    &lt;class&gt;com.yac.model.Payement&lt;/class&gt;\n    &lt;class&gt;com.yac.model.Profil&lt;/class&gt;\n    &lt;class&gt;com.yac.model.Restaurant&lt;/class&gt;\n    &lt;class&gt;com.yac.model.Userapp&lt;/class&gt;\n    &lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\n    &lt;properties&gt;\n    &lt;/properties&gt;\n  &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<h2>commandeline entity</h2>\n\n<pre><code>public class CommandeLine implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Basic(optional = false)\n    @Column(name = \"id\")\n    private Integer id;\n    @Column(name = \"quantity\")\n    private Integer quantity;\n    @Column(name = \"discount\")\n    private Integer discount;\n    @JoinColumn(name = \"commande\", referencedColumnName = \"id\")\n    @ManyToOne(optional = false)\n    private Commande commande;\n    @JoinColumn(name = \"dish\", referencedColumnName = \"id\")\n    @ManyToOne(optional = false)\n    private Dish dish;\n    //Constructor\n    // Setter and Getter\n}\n</code></pre>\n\n<h2>commandeline web service</h2>\n\n<pre><code>@Stateless\n@Path(\"commandeline\")\npublic class CommandeLineFacadeREST extends AbstractFacade&lt;CommandeLine&gt; {\n\n    @PersistenceContext(unitName = \"my_persistence_unit\")\n    private EntityManager em;\n\n    public CommandeLineFacadeREST() {\n        super(CommandeLine.class);\n    }\n\n    @POST\n    @Override\n    @Consumes(MediaType.APPLICATION_JSON)\n    public void create(CommandeLine entity) {\n        super.create(entity);\n    }\n\n    @Override\n    protected EntityManager getEntityManager() {\n        return em;\n    }\n}\n</code></pre>\n\n<h2>AbstractFacade</h2>\n\n<pre><code>public abstract class AbstractFacade&lt;T&gt; {\n\n    private Class&lt;T&gt; entityClass;\n\n    public AbstractFacade(Class&lt;T&gt; entityClass) {\n        this.entityClass = entityClass;\n    }\n\n    protected abstract EntityManager getEntityManager();\n\n    public void create(T entity) {\n        getEntityManager().persist(entity);\n    }\n}\n</code></pre>\n\n<p>The problem is when I test my web service with Postman and I try to insert a record with a POST request\nhere is what I receive as error message:</p>\n\n<pre><code>Local Exception Stack: \nException [EclipseLink-4002] (Eclipse Persistence Services - 2.7.0.v20170811-d680af5): org.eclipse.persistence.exceptions.DatabaseException\nInternal Exception: java.sql.SQLSyntaxErrorException: (conn=158) Table 'cooldb.sequence' doesn't exist\nError Code: 1146\nCall: UPDATE SEQUENCE SET SEQ_COUNT = SEQ_COUNT + ? WHERE SEQ_NAME = ?\n    bind =&gt; [2 parameters bound]\nQuery: DataModifyQuery(name=\"SEQ_GEN_SEQUENCE\" sql=\"UPDATE SEQUENCE SET SEQ_COUNT = SEQ_COUNT + ? WHERE SEQ_NAME = ?\") ...\n</code></pre>\n\n<p>I don't understand why the problem with SEQUANCE when I use @GeneratedValue (strategy = GenerationType.IDENTITY).\nWhen I change with @GeneratedValue (strategy = GenerationType.SEQUENCE) and I create the table with the following script:</p>\n\n<pre><code>CREATE SEQUENCE SEQUANCE START WITH 1 INCREMENT BY 1;\n</code></pre>\n\n<p>by applying the solution shown in : <a href=\"https://stackoverflow.com/questions/23141014/table-customerjpa-sequence-doesnt-exist-jpa\">Table &#39;customerjpa.sequence&#39; doesn&#39;t exist JPA</a>\nbut the same probleme</p>\n\n<p>thank you in advance for your help.</p>\n"},{"tags":["java","swing","javafx","rendering","media-player"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1645743664,"post_id":71259163,"comment_id":125959283,"body_markdown":"As a &quot;general&quot; rule of thumb, you should not be mixing Swing&#39;s (passive rendering) with `BufferStrategy`.  Also, Swing doesn&#39;t understand how to deal with alpha based colors (`contentPane.setBackground(new Color(0,0,0,0));` is going to cause no end of issues).  You&#39;re creating a `BufferStrategy` which is attached to the native peer of the `Window` (which `JFrame` is extend from), but `JFrame` is a composite component, it&#39;s made up of a number of different components laid out to produce the window content you see","body":"As a &quot;general&quot; rule of thumb, you should not be mixing Swing&#39;s (passive rendering) with <code>BufferStrategy</code>.  Also, Swing doesn&#39;t understand how to deal with alpha based colors (<code>contentPane.setBackground(new Color(0,0,0,0));</code> is going to cause no end of issues).  You&#39;re creating a <code>BufferStrategy</code> which is attached to the native peer of the <code>Window</code> (which <code>JFrame</code> is extend from), but <code>JFrame</code> is a composite component, it&#39;s made up of a number of different components laid out to produce the window content you see"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1645743683,"post_id":71259163,"comment_id":125959286,"body_markdown":"... so, even without the issues of bridging JavaFX, this it&#39;s all competing against each other in ways it shouldn&#39;t be","body":"... so, even without the issues of bridging JavaFX, this it&#39;s all competing against each other in ways it shouldn&#39;t be"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1645743858,"post_id":71259163,"comment_id":125959325,"body_markdown":"Also note that `Window` itself (the canvas that you `BufferStrategy` is painting to) is not transparent (AWT components are always opaque), so you&#39;re running into another incompatibility","body":"Also note that <code>Window</code> itself (the canvas that you <code>BufferStrategy</code> is painting to) is not transparent (AWT components are always opaque), so you&#39;re running into another incompatibility"},{"owner":{"account_id":23690732,"reputation":81,"user_id":17715108,"display_name":"Eorix"},"score":0,"creation_date":1645743986,"post_id":71259163,"comment_id":125959356,"body_markdown":"Hi @MadProgrammer, thank you for your quick reply. I modified the color alpha issue thanks for the tip. So for the bufferStrategy your saying i should just draw swing&#39;s render without double buffering right? I&#39;m not sure if i got that right.","body":"Hi @MadProgrammer, thank you for your quick reply. I modified the color alpha issue thanks for the tip. So for the bufferStrategy your saying i should just draw swing&#39;s render without double buffering right? I&#39;m not sure if i got that right."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1645744116,"post_id":71259163,"comment_id":125959379,"body_markdown":"No, I&#39;m saying you shouldn&#39;t mix Swing components and `BufferStrategy`, there&#39;s a lot more going under the hood which you&#39;re not taking into account. I&#39;ve been trying to find an example how this &quot;might&quot; be done, but I can&#39;t find any one whose accomplished this","body":"No, I&#39;m saying you shouldn&#39;t mix Swing components and <code>BufferStrategy</code>, there&#39;s a lot more going under the hood which you&#39;re not taking into account. I&#39;ve been trying to find an example how this &quot;might&quot; be done, but I can&#39;t find any one whose accomplished this"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1645744160,"post_id":71259163,"comment_id":125959391,"body_markdown":"I&#39;d almost consider using a pure JavaFX workflow, it might be simpler to achieve, as JavaFX was originally intended as Flash competitor","body":"I&#39;d almost consider using a pure JavaFX workflow, it might be simpler to achieve, as JavaFX was originally intended as Flash competitor"},{"owner":{"account_id":23690732,"reputation":81,"user_id":17715108,"display_name":"Eorix"},"score":0,"creation_date":1645744237,"post_id":71259163,"comment_id":125959411,"body_markdown":"Oh okay so that&#39;s why i&#39;ve seen people drawing on AWT.Canvas instead of the JFrame ?","body":"Oh okay so that&#39;s why i&#39;ve seen people drawing on AWT.Canvas instead of the JFrame ?"},{"owner":{"account_id":23690732,"reputation":81,"user_id":17715108,"display_name":"Eorix"},"score":0,"creation_date":1645744353,"post_id":71259163,"comment_id":125959434,"body_markdown":"Yeah pure FX would be easier I guess but it&#39;s a school project and I have to use swing and a game loop so i&#39;ve been trying stuff I have to admit ^^","body":"Yeah pure FX would be easier I guess but it&#39;s a school project and I have to use swing and a game loop so i&#39;ve been trying stuff I have to admit ^^"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1645744370,"post_id":71259163,"comment_id":125959439,"body_markdown":"[How to Use Root Panes](https://docs.oracle.com/javase/tutorial/uiswing/components/rootpane.html) has a nice picture of what a `JFrame` looks like, but `BufferStrategy` will be using the `Frame`&#39;s layer (below the `rootPane`) to render it&#39;s content, this could be causing a lot of rendering overlap issues","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/rootpane.html\" rel=\"nofollow noreferrer\">How to Use Root Panes</a> has a nice picture of what a <code>JFrame</code> looks like, but <code>BufferStrategy</code> will be using the <code>Frame</code>&#39;s layer (below the <code>rootPane</code>) to render it&#39;s content, this could be causing a lot of rendering overlap issues"},{"owner":{"account_id":23690732,"reputation":81,"user_id":17715108,"display_name":"Eorix"},"score":0,"creation_date":1645744674,"post_id":71259163,"comment_id":125959490,"body_markdown":"Alright thank you, so I should paint in another &quot;thing&quot; i.e. use the bufferStrategy from let say an AWT canvas (anything but a swing component) and put that canvas in the contentPane ?","body":"Alright thank you, so I should paint in another &quot;thing&quot; i.e. use the bufferStrategy from let say an AWT canvas (anything but a swing component) and put that canvas in the contentPane ?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1645744916,"post_id":71259163,"comment_id":125959534,"body_markdown":"That would be preferable.  You might also consider having a look at [Swing animation running extremely slow](https://stackoverflow.com/questions/14886232/swing-animation-running-extremely-slow/14902184#14902184), [Rotating multiple images causing flickering. Java Graphics2D](https://stackoverflow.com/questions/23417786/rotating-multiple-images-causing-flickering-java-graphics2d/23419824#23419824) and [Slow movement using paintComponent method](https://stackoverflow.com/questions/16865391/slow-movement-using-paintcomponent-method/16867943#16867943) - these are all pure Swing implementations","body":"That would be preferable.  You might also consider having a look at <a href=\"https://stackoverflow.com/questions/14886232/swing-animation-running-extremely-slow/14902184#14902184\">Swing animation running extremely slow</a>, <a href=\"https://stackoverflow.com/questions/23417786/rotating-multiple-images-causing-flickering-java-graphics2d/23419824#23419824\">Rotating multiple images causing flickering. Java Graphics2D</a> and <a href=\"https://stackoverflow.com/questions/16865391/slow-movement-using-paintcomponent-method/16867943#16867943\">Slow movement using paintComponent method</a> - these are all pure Swing implementations"},{"owner":{"account_id":23690732,"reputation":81,"user_id":17715108,"display_name":"Eorix"},"score":0,"creation_date":1645745086,"post_id":71259163,"comment_id":125959571,"body_markdown":"Alright thank you very much that was really helpful !","body":"Alright thank you very much that was really helpful !"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1645745390,"post_id":71259163,"comment_id":125959647,"body_markdown":"Perhaps convert the whole thing to use only JavaFX rather than dealing with interleaving issues between two disparate toolkits.","body":"Perhaps convert the whole thing to use only JavaFX rather than dealing with interleaving issues between two disparate toolkits."},{"owner":{"account_id":23690732,"reputation":81,"user_id":17715108,"display_name":"Eorix"},"score":0,"creation_date":1645746055,"post_id":71259163,"comment_id":125959774,"body_markdown":"Thanks @jewelsea but like I said I wish I could but it&#39;s a school project and I have no choice but to use swing .. But maybe i&#39;ve misunderstood something, I thought that a bufferstrategy was required for active rendering but i just saw that swing component&#39;s are already double buffered so i think i could just draw in a JPanel ? Doesn&#39;t fix the media player issue but it still something.","body":"Thanks @jewelsea but like I said I wish I could but it&#39;s a school project and I have no choice but to use swing .. But maybe i&#39;ve misunderstood something, I thought that a bufferstrategy was required for active rendering but i just saw that swing component&#39;s are already double buffered so i think i could just draw in a JPanel ? Doesn&#39;t fix the media player issue but it still something."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1645746421,"post_id":71259163,"comment_id":125959833,"body_markdown":"Sorry, missed your earlier comment that you must use Swing.  I don’t know how to achieve the desired functionality given that requirement.","body":"Sorry, missed your earlier comment that you must use Swing.  I don’t know how to achieve the desired functionality given that requirement."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1645771711,"post_id":71259163,"comment_id":125964023,"body_markdown":"*&quot;it&#39;s a school project&quot;* I doubt the school would specify that a project has music. My advice would be to stick to the spec. A robust, well written, well-documented implementation of the spec will get better marks (and just as importantly teach what the project was expected to teach) than can likely be achieved by going over-spec in a less rigorous manner.","body":"<i>&quot;it&#39;s a school project&quot;</i> I doubt the school would specify that a project has music. My advice would be to stick to the spec. A robust, well written, well-documented implementation of the spec will get better marks (and just as importantly teach what the project was expected to teach) than can likely be achieved by going over-spec in a less rigorous manner."},{"owner":{"account_id":23690732,"reputation":81,"user_id":17715108,"display_name":"Eorix"},"score":0,"creation_date":1645865618,"post_id":71259163,"comment_id":125987140,"body_markdown":"HI @AndrewThompson, thank you for your wise reply and indeed this should be an advice to follow most of the time at least it&#39;s what I did during the past years for every projects. Now this one I didn&#39;t really explained but it&#39;s different, it&#39;s the final project of my Bachelor&#39;s Degree in Computer Science in France and the source code itself is not given to the teachers at the end, there is just an oral with a jury and random people and you have to put on the show, make your demo, and proved that what you&#39;ve been learning for the past 3 years wasn&#39;t for nothing. Hence music and cinematics !","body":"HI @AndrewThompson, thank you for your wise reply and indeed this should be an advice to follow most of the time at least it&#39;s what I did during the past years for every projects. Now this one I didn&#39;t really explained but it&#39;s different, it&#39;s the final project of my Bachelor&#39;s Degree in Computer Science in France and the source code itself is not given to the teachers at the end, there is just an oral with a jury and random people and you have to put on the show, make your demo, and proved that what you&#39;ve been learning for the past 3 years wasn&#39;t for nothing. Hence music and cinematics !"}],"owner":{"account_id":23690732,"reputation":81,"user_id":17715108,"display_name":"Eorix"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645743129,"creation_date":1645743129,"question_id":71259163,"body_markdown":"I&#39;m making a 2D game in Java with Swing and I got to a point where i needed to do Active Rendering to play the game&#39;s animations smoothly, so i set-up a test project where I just implemented the whole double buffering/page flipping/active rendering thing, and it&#39;s working, I get 60 fps and I can draw my swing components in my buffer through a SwingUtilities.InvokeAndWait() call so that I still perform draw calls within the EDT.\r\n\r\nNow the problem is that I also have to play video cinematic in the game and I found JavaFX&#39;s MediaPlayer to be the simplest way to do so and it works great with a JFXPanel and passive rendering. But that&#39;s where I&#39;m kinda stuck :\r\n\r\nWhen I start the MediaPlayer I have to make the call through Platform.runLater() so that it works on the JavaFX&#39;s side (it&#39;s using another and unique thread to perform rendering). The problem is that by doing so I can&#39;t actually render this video through my game loop&#39;s rendering thread, where every swing components are actually being drawn.\r\n\r\nSo right now what happens is that whenever I play the video my framerate goes from 60 to 30fps, I tried to bake the same video in both 60 and 30 fps and see if it would change anything but it&#39;s independant of the video&#39;s framerate, always goes down to 30fps. And the other problem is that it&#39;s not synchronized at all with what is being drawn in the game loop, like for example the simple FPS string debug on the top left corner of the screen is flickering when the video is playing since the draw calls are not synchronized.\r\n\r\nSo my question is how could I possibly integrate this media player with Active Rendering ?\r\n\r\nThank you !\r\n\r\nThe Main class where the active rendering is done :\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.image.BufferStrategy;\r\n    import java.awt.event.KeyAdapter;\r\n    import java.awt.event.KeyEvent;\r\n    import java.io.*;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    \r\n    public class Main extends JFrame\r\n    {\r\n    \tprivate final static boolean DEBUG_FPS = true;\r\n    \r\n    \tprivate Container contentPane;\r\n    \tprivate GraphicsDevice graphicsDevice;\r\n    \tprivate GraphicsEnvironment graphicsEnvironment;\r\n    \tprivate BufferStrategy bufferStrategy;\r\n    \tprivate Graphics2D graphics;\r\n    \r\n    \tprivate boolean running;\r\n    \tprivate long lastTime;\r\n    \tprivate long timeSinceLastFPSCalculation;\r\n    \tprivate long deltaTime;\r\n    \tprivate int fps;\r\n    \tprivate int frameCount;\r\n    \r\n    \tprivate int screenWidth;\r\n    \tprivate int screenHeight;\r\n    \tprivate int screenBitDepth;\r\n    \tprivate int screenRefreshRate;\r\n    \tprivate int TARGET_FPS;\r\n    \tprivate long TARGET_FRAME_TIME;\r\n    \r\n    \tprivate Font font;\r\n    \tprivate boolean isAnimationRunning;\r\n    \r\n    \tpublic static void main(String[] args){new Main();}\r\n    \r\n    \tprivate void debugFPS()\r\n    \t{\r\n    \t\tgraphics.setColor(Color.WHITE);\r\n    \t\tgraphics.setFont(font); \r\n    \t\tgraphics.drawString(&quot;FPS: &quot;+fps,30,30);\r\n    \t}\r\n    \r\n    \tpublic Main()\r\n    \t{\r\n    \t\tgraphicsEnvironment = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n    \t\tgraphicsDevice = graphicsEnvironment.getDefaultScreenDevice();\r\n    \t\tbufferStrategy = null;\r\n    \t\tgraphics = null;\r\n    \t\t\r\n    \t\tscreenWidth = graphicsDevice.getDisplayMode().getWidth();\r\n    \t\tscreenHeight = graphicsDevice.getDisplayMode().getHeight();\r\n    \t\tscreenBitDepth = graphicsDevice.getDisplayMode().getBitDepth();\r\n    \t\tscreenRefreshRate = graphicsDevice.getDisplayMode().getRefreshRate();\r\n    \t\tTARGET_FPS = screenRefreshRate;\r\n    \t\tTARGET_FRAME_TIME = (long)1e9/TARGET_FPS;\r\n    \t\t\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tfont = Font.createFont(Font.TRUETYPE_FONT,new File(&quot;Font.ttf&quot;)).deriveFont(30f);\r\n    \t\t\tgraphicsEnvironment.registerFont(font);\r\n    \t\t}\r\n    \t\tcatch(IOException|FontFormatException e){}\r\n    \r\n    \t\tcontentPane = getContentPane();\r\n    \t\tcontentPane.setBackground(new Color(0,0,0,0));\r\n    \t\tcontentPane.setLayout(null);\r\n    \r\n    \t\tBackgroundPanel backgroundPanel = new BackgroundPanel(screenWidth,screenHeight);\r\n    \t\tcontentPane.add(backgroundPanel.jfxPanel);\r\n    \t\tbackgroundPanel.startVideo();\r\n    \t\tisAnimationRunning = true;\r\n    \r\n    \t\tsetSize(screenWidth,screenHeight);\r\n    \t\tsetResizable(false);\r\n    \t\tsetLocationRelativeTo(null);\r\n    \t\tsetDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    \t\tsetUndecorated(true);\r\n    \t\tsetFocusTraversalKeysEnabled(false);\r\n    \t\tsetIgnoreRepaint(true);\r\n    \t\tsetVisible(true);\r\n    \t\t\r\n    \t\tif(graphicsDevice.isFullScreenSupported()) graphicsDevice.setFullScreenWindow(this);\r\n    \t\tcreateBufferStrategy(2);\r\n    \t\tbufferStrategy = getBufferStrategy();\r\n    \r\n    \t\taddKeyListener(new KeyAdapter()\r\n    \t\t{\r\n    \t\t\tpublic void keyPressed(KeyEvent e)\r\n    \t\t\t{\r\n    \t\t\t\tif(e.getKeyCode() == KeyEvent.VK_ESCAPE)\r\n    \t\t\t\t{\r\n    \t\t\t\t\trunning = false;\r\n    \t\t\t\t}\r\n    \t\t\t\telse if(e.getKeyCode() == KeyEvent.VK_SPACE)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tisAnimationRunning = !isAnimationRunning;\r\n    \t\t\t\t\tif(isAnimationRunning) backgroundPanel.startVideo();\r\n    \t\t\t\t\telse backgroundPanel.stopVideo();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\t\r\n    \t\tnew Thread(new Runnable()\r\n    \t\t{\r\n    \t\t\tpublic void run()\r\n    \t\t\t{\r\n    \t\t\t\tgameLoop();\r\n    \t\t\t}\r\n    \t\t}).start();\r\n    \t}\r\n    \r\n    \tpublic void gameLoop()\r\n    \t{\r\n    \t\trunning = true;\r\n    \t\tlastTime = System.nanoTime();\r\n    \t\ttimeSinceLastFPSCalculation = lastTime;\r\n    \t\tdeltaTime = 0;\r\n    \t\tfps = 0;\r\n    \t\tframeCount = 0;\r\n    \r\n    \t\twhile(running)\r\n    \t\t{\r\n    \t\t\tlong now = System.nanoTime();\r\n    \t\t\tdeltaTime = now - lastTime;\r\n    \t\t\tlastTime += deltaTime;\r\n    \r\n    \t\t\tupdate();\r\n    \r\n    \t\t\tdo\r\n    \t\t\t{\r\n    \t\t\t\tdo\r\n    \t\t\t\t{\r\n    \t\t\t\t\tgraphics = (Graphics2D)bufferStrategy.getDrawGraphics();\r\n    \t\t\t\t\trender();\r\n    \t\t\t\t\tgraphics.dispose();\r\n    \t\t\t\t}\r\n    \t\t\t\twhile(bufferStrategy.contentsRestored());\r\n    \r\n    \t\t\t\tbufferStrategy.show();\r\n    \t\t\t}\r\n    \t\t\twhile(bufferStrategy.contentsLost());\r\n    \r\n    \t\t\tframeCount++;\r\n    \t\t\t\r\n    \t\t\tif(now-timeSinceLastFPSCalculation &gt;= 1e9)\r\n    \t\t\t{\r\n    \t\t\t\tfps = frameCount;\r\n    \t\t\t\ttimeSinceLastFPSCalculation = now;\r\n    \t\t\t\tframeCount = 0;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tlong sleepTime = TARGET_FRAME_TIME-(System.nanoTime()-lastTime);\r\n    \t\t\t\r\n    \t\t\tif(sleepTime &gt; 0)\r\n    \t\t\t{\r\n    \t\t\t\tlong sleepPhaseBegin = System.nanoTime();\r\n    \t\t\t\twhile(System.nanoTime()-sleepPhaseBegin &lt; sleepTime) Thread.yield();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tgraphicsDevice.setFullScreenWindow(null);\r\n    \t\tSystem.exit(0);\r\n    \t}\r\n    \r\n    \tpublic void update()\r\n    \t{\r\n    \r\n    \t}\r\n    \r\n    \tpublic void renderSwingComponents()\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tSwingUtilities.invokeAndWait(new Runnable()\r\n    \t\t\t{\r\n    \t\t\t\tpublic void run()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tcontentPane.paintAll(graphics);\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t}\r\n    \t\tcatch(InterruptedException e){Thread.currentThread().interrupt();}\r\n    \t\tcatch(InvocationTargetException e){}\r\n    \t}\r\n    \r\n    \tpublic void render()\r\n    \t{\r\n    \t\tgraphics.setColor(Color.BLACK);\r\n    \t\tgraphics.fillRect(0,0,screenWidth,screenHeight);\r\n    \t\tgraphics.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING,RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\r\n    \t\tgraphics.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);\r\n    \t\tgraphics.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION,RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);\r\n    \t\tgraphics.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING,RenderingHints.VALUE_COLOR_RENDER_QUALITY);\r\n    \t\tgraphics.setRenderingHint(RenderingHints.KEY_RENDERING,RenderingHints.VALUE_RENDER_QUALITY);\r\n    \t\trenderSwingComponents();\r\n    \t\tif(DEBUG_FPS) debugFPS();\r\n    \t}\r\n    }\r\n\r\nThe BackgroundPanel class where the jfxPanel is being held :\r\n\r\n    import javax.swing.JPanel;\r\n    import java.awt.Graphics;\r\n    import java.awt.image.BufferedImage;\r\n    import javax.imageio.ImageIO;\r\n    import java.io.IOException;\r\n    import java.io.File;\r\n    \r\n    import javafx.embed.swing.JFXPanel;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.media.Media;\r\n    import javafx.scene.media.MediaPlayer;\r\n    import javafx.scene.media.MediaView;\r\n    import javafx.animation.Animation;\r\n    import javafx.application.Platform;\r\n    import javafx.scene.Group;\r\n    import javafx.beans.binding.Bindings;\r\n    import java.net.URISyntaxException;\r\n    import javafx.concurrent.Task;\r\n    \r\n    public final class BackgroundPanel extends JPanel\r\n    {\r\n    \tprivate BufferedImage background;\r\n    \r\n    \tprivate JFXPanel jfxPanel;\r\n    \tprivate MediaPlayer mediaPlayer;\r\n    \tprivate MediaView mediaView;\r\n    \tprivate Scene scene;\r\n    \r\n    \tpublic BackgroundPanel(int screenWidth, int screenHeight)\r\n    \t{\r\n    \t\tsetOpaque(false);\r\n    \t\tsetBounds(0,0,screenWidth,screenHeight);\r\n    \t\tsetLayout(null);\r\n    \t\t\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tbackground = ImageIO.read(new File(&quot;MenuPanel.png&quot;));\r\n    \t\t}\r\n    \t\tcatch(IOException e){}\r\n    \r\n    \t\tPlatform.setImplicitExit(false);\r\n    \t\tjfxPanel = new JFXPanel();\r\n    \t\tjfxPanel.setBounds(0,0,screenWidth,screenHeight);\r\n    \t\tjfxPanel.setFocusable(false);\r\n    \t\t\r\n    \t\tPlatform.runLater(new Runnable()\r\n    \t\t{\r\n    \t\t\tpublic void run()\r\n    \t\t\t{\r\n    \t\t\t\tString videoPath = &quot;&quot;;\r\n    \t\t\t\t\r\n    \t\t\t\ttry\r\n    \t\t\t\t{\r\n    \t\t\t\t\tvideoPath = getClass().getResource(&quot;/Animation.mp4&quot;).toURI().toString();\r\n    \t\t\t\t}\r\n    \t\t\t\tcatch(URISyntaxException e){e.printStackTrace();}\r\n    \r\n    \t\t\t\tmediaPlayer = new MediaPlayer(new Media(videoPath));\r\n    \t\t\t\tmediaPlayer.setCycleCount(0);\r\n    \t\t\t\tmediaView = new MediaView(mediaPlayer);\r\n    \t\t\t\tjfxPanel.setScene(new Scene(new Group(mediaView),screenWidth,screenHeight));\r\n    \t\t\t\tmediaView.fitWidthProperty().bind(Bindings.selectDouble(mediaView.sceneProperty(),&quot;width&quot;));\r\n    \t\t\t\tmediaView.fitHeightProperty().bind(Bindings.selectDouble(mediaView.sceneProperty(),&quot;height&quot;));\r\n    \t\t\t\tmediaView.setPreserveRatio(false);\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tadd(jfxPanel);\r\n    \t}\r\n    \r\n    \tpublic void startVideo()\r\n    \t{\r\n    \t\tjfxPanel.setVisible(true);\r\n    \t\tPlatform.runLater(new Runnable(){public void run(){mediaPlayer.play();}});\r\n    \t}\r\n    \r\n    \tpublic void stopVideo()\r\n    \t{\r\n    \t\tjfxPanel.setVisible(false);\r\n    \t\tPlatform.runLater(new Runnable(){public void run(){mediaPlayer.stop();}});\r\n    \t}\r\n    \r\n    \tpublic void paintComponent(Graphics g)\r\n    \t{\r\n    \t\tg.drawImage(background,0,0,this.getWidth(),this.getHeight(),null);\r\n    \t}\r\n    }","title":"How can I integrate a MediaPlayer video in Swing with a JFXPanel and Active Rendering?","body":"<p>I'm making a 2D game in Java with Swing and I got to a point where i needed to do Active Rendering to play the game's animations smoothly, so i set-up a test project where I just implemented the whole double buffering/page flipping/active rendering thing, and it's working, I get 60 fps and I can draw my swing components in my buffer through a SwingUtilities.InvokeAndWait() call so that I still perform draw calls within the EDT.</p>\n<p>Now the problem is that I also have to play video cinematic in the game and I found JavaFX's MediaPlayer to be the simplest way to do so and it works great with a JFXPanel and passive rendering. But that's where I'm kinda stuck :</p>\n<p>When I start the MediaPlayer I have to make the call through Platform.runLater() so that it works on the JavaFX's side (it's using another and unique thread to perform rendering). The problem is that by doing so I can't actually render this video through my game loop's rendering thread, where every swing components are actually being drawn.</p>\n<p>So right now what happens is that whenever I play the video my framerate goes from 60 to 30fps, I tried to bake the same video in both 60 and 30 fps and see if it would change anything but it's independant of the video's framerate, always goes down to 30fps. And the other problem is that it's not synchronized at all with what is being drawn in the game loop, like for example the simple FPS string debug on the top left corner of the screen is flickering when the video is playing since the draw calls are not synchronized.</p>\n<p>So my question is how could I possibly integrate this media player with Active Rendering ?</p>\n<p>Thank you !</p>\n<p>The Main class where the active rendering is done :</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.image.BufferStrategy;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\nimport java.io.*;\nimport java.lang.reflect.InvocationTargetException;\n\npublic class Main extends JFrame\n{\n    private final static boolean DEBUG_FPS = true;\n\n    private Container contentPane;\n    private GraphicsDevice graphicsDevice;\n    private GraphicsEnvironment graphicsEnvironment;\n    private BufferStrategy bufferStrategy;\n    private Graphics2D graphics;\n\n    private boolean running;\n    private long lastTime;\n    private long timeSinceLastFPSCalculation;\n    private long deltaTime;\n    private int fps;\n    private int frameCount;\n\n    private int screenWidth;\n    private int screenHeight;\n    private int screenBitDepth;\n    private int screenRefreshRate;\n    private int TARGET_FPS;\n    private long TARGET_FRAME_TIME;\n\n    private Font font;\n    private boolean isAnimationRunning;\n\n    public static void main(String[] args){new Main();}\n\n    private void debugFPS()\n    {\n        graphics.setColor(Color.WHITE);\n        graphics.setFont(font); \n        graphics.drawString(&quot;FPS: &quot;+fps,30,30);\n    }\n\n    public Main()\n    {\n        graphicsEnvironment = GraphicsEnvironment.getLocalGraphicsEnvironment();\n        graphicsDevice = graphicsEnvironment.getDefaultScreenDevice();\n        bufferStrategy = null;\n        graphics = null;\n        \n        screenWidth = graphicsDevice.getDisplayMode().getWidth();\n        screenHeight = graphicsDevice.getDisplayMode().getHeight();\n        screenBitDepth = graphicsDevice.getDisplayMode().getBitDepth();\n        screenRefreshRate = graphicsDevice.getDisplayMode().getRefreshRate();\n        TARGET_FPS = screenRefreshRate;\n        TARGET_FRAME_TIME = (long)1e9/TARGET_FPS;\n        \n        try\n        {\n            font = Font.createFont(Font.TRUETYPE_FONT,new File(&quot;Font.ttf&quot;)).deriveFont(30f);\n            graphicsEnvironment.registerFont(font);\n        }\n        catch(IOException|FontFormatException e){}\n\n        contentPane = getContentPane();\n        contentPane.setBackground(new Color(0,0,0,0));\n        contentPane.setLayout(null);\n\n        BackgroundPanel backgroundPanel = new BackgroundPanel(screenWidth,screenHeight);\n        contentPane.add(backgroundPanel.jfxPanel);\n        backgroundPanel.startVideo();\n        isAnimationRunning = true;\n\n        setSize(screenWidth,screenHeight);\n        setResizable(false);\n        setLocationRelativeTo(null);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        setUndecorated(true);\n        setFocusTraversalKeysEnabled(false);\n        setIgnoreRepaint(true);\n        setVisible(true);\n        \n        if(graphicsDevice.isFullScreenSupported()) graphicsDevice.setFullScreenWindow(this);\n        createBufferStrategy(2);\n        bufferStrategy = getBufferStrategy();\n\n        addKeyListener(new KeyAdapter()\n        {\n            public void keyPressed(KeyEvent e)\n            {\n                if(e.getKeyCode() == KeyEvent.VK_ESCAPE)\n                {\n                    running = false;\n                }\n                else if(e.getKeyCode() == KeyEvent.VK_SPACE)\n                {\n                    isAnimationRunning = !isAnimationRunning;\n                    if(isAnimationRunning) backgroundPanel.startVideo();\n                    else backgroundPanel.stopVideo();\n                }\n            }\n        });\n        \n        new Thread(new Runnable()\n        {\n            public void run()\n            {\n                gameLoop();\n            }\n        }).start();\n    }\n\n    public void gameLoop()\n    {\n        running = true;\n        lastTime = System.nanoTime();\n        timeSinceLastFPSCalculation = lastTime;\n        deltaTime = 0;\n        fps = 0;\n        frameCount = 0;\n\n        while(running)\n        {\n            long now = System.nanoTime();\n            deltaTime = now - lastTime;\n            lastTime += deltaTime;\n\n            update();\n\n            do\n            {\n                do\n                {\n                    graphics = (Graphics2D)bufferStrategy.getDrawGraphics();\n                    render();\n                    graphics.dispose();\n                }\n                while(bufferStrategy.contentsRestored());\n\n                bufferStrategy.show();\n            }\n            while(bufferStrategy.contentsLost());\n\n            frameCount++;\n            \n            if(now-timeSinceLastFPSCalculation &gt;= 1e9)\n            {\n                fps = frameCount;\n                timeSinceLastFPSCalculation = now;\n                frameCount = 0;\n            }\n            \n            long sleepTime = TARGET_FRAME_TIME-(System.nanoTime()-lastTime);\n            \n            if(sleepTime &gt; 0)\n            {\n                long sleepPhaseBegin = System.nanoTime();\n                while(System.nanoTime()-sleepPhaseBegin &lt; sleepTime) Thread.yield();\n            }\n        }\n\n        graphicsDevice.setFullScreenWindow(null);\n        System.exit(0);\n    }\n\n    public void update()\n    {\n\n    }\n\n    public void renderSwingComponents()\n    {\n        try\n        {\n            SwingUtilities.invokeAndWait(new Runnable()\n            {\n                public void run()\n                {\n                    contentPane.paintAll(graphics);\n                }\n            });\n        }\n        catch(InterruptedException e){Thread.currentThread().interrupt();}\n        catch(InvocationTargetException e){}\n    }\n\n    public void render()\n    {\n        graphics.setColor(Color.BLACK);\n        graphics.fillRect(0,0,screenWidth,screenHeight);\n        graphics.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING,RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\n        graphics.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);\n        graphics.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION,RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);\n        graphics.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING,RenderingHints.VALUE_COLOR_RENDER_QUALITY);\n        graphics.setRenderingHint(RenderingHints.KEY_RENDERING,RenderingHints.VALUE_RENDER_QUALITY);\n        renderSwingComponents();\n        if(DEBUG_FPS) debugFPS();\n    }\n}\n</code></pre>\n<p>The BackgroundPanel class where the jfxPanel is being held :</p>\n<pre><code>import javax.swing.JPanel;\nimport java.awt.Graphics;\nimport java.awt.image.BufferedImage;\nimport javax.imageio.ImageIO;\nimport java.io.IOException;\nimport java.io.File;\n\nimport javafx.embed.swing.JFXPanel;\nimport javafx.scene.Scene;\nimport javafx.scene.media.Media;\nimport javafx.scene.media.MediaPlayer;\nimport javafx.scene.media.MediaView;\nimport javafx.animation.Animation;\nimport javafx.application.Platform;\nimport javafx.scene.Group;\nimport javafx.beans.binding.Bindings;\nimport java.net.URISyntaxException;\nimport javafx.concurrent.Task;\n\npublic final class BackgroundPanel extends JPanel\n{\n    private BufferedImage background;\n\n    private JFXPanel jfxPanel;\n    private MediaPlayer mediaPlayer;\n    private MediaView mediaView;\n    private Scene scene;\n\n    public BackgroundPanel(int screenWidth, int screenHeight)\n    {\n        setOpaque(false);\n        setBounds(0,0,screenWidth,screenHeight);\n        setLayout(null);\n        \n        try\n        {\n            background = ImageIO.read(new File(&quot;MenuPanel.png&quot;));\n        }\n        catch(IOException e){}\n\n        Platform.setImplicitExit(false);\n        jfxPanel = new JFXPanel();\n        jfxPanel.setBounds(0,0,screenWidth,screenHeight);\n        jfxPanel.setFocusable(false);\n        \n        Platform.runLater(new Runnable()\n        {\n            public void run()\n            {\n                String videoPath = &quot;&quot;;\n                \n                try\n                {\n                    videoPath = getClass().getResource(&quot;/Animation.mp4&quot;).toURI().toString();\n                }\n                catch(URISyntaxException e){e.printStackTrace();}\n\n                mediaPlayer = new MediaPlayer(new Media(videoPath));\n                mediaPlayer.setCycleCount(0);\n                mediaView = new MediaView(mediaPlayer);\n                jfxPanel.setScene(new Scene(new Group(mediaView),screenWidth,screenHeight));\n                mediaView.fitWidthProperty().bind(Bindings.selectDouble(mediaView.sceneProperty(),&quot;width&quot;));\n                mediaView.fitHeightProperty().bind(Bindings.selectDouble(mediaView.sceneProperty(),&quot;height&quot;));\n                mediaView.setPreserveRatio(false);\n            }\n        });\n\n        add(jfxPanel);\n    }\n\n    public void startVideo()\n    {\n        jfxPanel.setVisible(true);\n        Platform.runLater(new Runnable(){public void run(){mediaPlayer.play();}});\n    }\n\n    public void stopVideo()\n    {\n        jfxPanel.setVisible(false);\n        Platform.runLater(new Runnable(){public void run(){mediaPlayer.stop();}});\n    }\n\n    public void paintComponent(Graphics g)\n    {\n        g.drawImage(background,0,0,this.getWidth(),this.getHeight(),null);\n    }\n}\n</code></pre>\n"},{"tags":["java","joptionpane","parseint"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1645740161,"post_id":71258647,"comment_id":125958455,"body_markdown":"So, the error is telling you that the input value of `&quot;&quot;` can&#39;t be converted to `int`.  You&#39;re not doing any validation on the `String` returned from `showInputDialog` and are simply, blindly, trying to convert it to an `int`, which is failing, because no input has been made","body":"So, the error is telling you that the input value of <code>&quot;&quot;</code> can&#39;t be converted to <code>int</code>.  You&#39;re not doing any validation on the <code>String</code> returned from <code>showInputDialog</code> and are simply, blindly, trying to convert it to an <code>int</code>, which is failing, because no input has been made"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1645742061,"post_id":71258647,"comment_id":125958904,"body_markdown":"Faith, you might also want to use doubles for your &quot;price&quot; variables, even if the prices for the meals are 7.00 and 4.00.","body":"Faith, you might also want to use doubles for your &quot;price&quot; variables, even if the prices for the meals are 7.00 and 4.00."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645741266,"creation_date":1645740055,"answer_id":71258764,"question_id":71258647,"body_markdown":"Your problem is that you have no error handling. If any of the dialogs that set the `adultMealOrder` or `kidsMealOrder` is left blank, when you try to parse the integer value, it throws an exception. You must handle the exception and convert the blank String value to zero. Basically, the function cannot convert an empty string into a number. You must do it yourself.\r\n\r\n```\r\ntry {\r\n    adultMealOrdered = Integer.parseInt(adultMealOrder);\r\n} catch (NumberFormatException nfe) {\r\n    adultMealOrdered = 0;\r\n}\r\n```\r\nAnother way to handle this, is to check the output of the dialog function and continue to prompt until the output is not null or not empty.\r\n```\r\nwhile (adultMealOrder == null || adultMealOrder.isBlank()) {\r\n    adultMealOrder = JOptionPane.showInputDialog(&quot;Please enter the number of adult meals:&quot;);\r\n}\r\n```\r\nI personally rather add the error handling on the `parseInt` function rather than this, but it is an option nevertheless.\r\n\r\n----------\r\nYou have other issues:\r\n\r\n 1. Your application runs forever. You have no way to close the application. So, every time you &quot;run&quot; the application, the previous executions are still idle in the background. You should create an application frame and open these dialogs from there. Once you close the frame (if you set `EXIT_ON_CLOSE`), this problem should be fixed.\r\n 2. Don&#39;t loop to calculate the final price. \r\n```\r\nfor(int i = 0; i &lt; adultMealOrdered; i++) {\r\n    totalPrice = totalPrice + adultMeal;\r\n}\r\nfor(int n = 0; n &lt; kidsMealOrdered; n++) {\r\n    totalPrice = totalPrice + kidsMeal;\r\n}\r\n```\r\nShould be simplified to this:\r\n```\r\ntotalPrice = (adultMealOrdered * adultMeal) + (kidsMealOrdered * kidsMeal);\r\n```","title":"When using JOptionPane.showInputDialog the window disappears before I can input and it&#39;s breaking parseint()","body":"<p>Your problem is that you have no error handling. If any of the dialogs that set the <code>adultMealOrder</code> or <code>kidsMealOrder</code> is left blank, when you try to parse the integer value, it throws an exception. You must handle the exception and convert the blank String value to zero. Basically, the function cannot convert an empty string into a number. You must do it yourself.</p>\n<pre><code>try {\n    adultMealOrdered = Integer.parseInt(adultMealOrder);\n} catch (NumberFormatException nfe) {\n    adultMealOrdered = 0;\n}\n</code></pre>\n<p>Another way to handle this, is to check the output of the dialog function and continue to prompt until the output is not null or not empty.</p>\n<pre><code>while (adultMealOrder == null || adultMealOrder.isBlank()) {\n    adultMealOrder = JOptionPane.showInputDialog(&quot;Please enter the number of adult meals:&quot;);\n}\n</code></pre>\n<p>I personally rather add the error handling on the <code>parseInt</code> function rather than this, but it is an option nevertheless.</p>\n<hr />\n<p>You have other issues:</p>\n<ol>\n<li>Your application runs forever. You have no way to close the application. So, every time you &quot;run&quot; the application, the previous executions are still idle in the background. You should create an application frame and open these dialogs from there. Once you close the frame (if you set <code>EXIT_ON_CLOSE</code>), this problem should be fixed.</li>\n<li>Don't loop to calculate the final price.</li>\n</ol>\n<pre><code>for(int i = 0; i &lt; adultMealOrdered; i++) {\n    totalPrice = totalPrice + adultMeal;\n}\nfor(int n = 0; n &lt; kidsMealOrdered; n++) {\n    totalPrice = totalPrice + kidsMeal;\n}\n</code></pre>\n<p>Should be simplified to this:</p>\n<pre><code>totalPrice = (adultMealOrdered * adultMeal) + (kidsMealOrdered * kidsMeal);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645743098,"creation_date":1645741108,"answer_id":71258905,"question_id":71258647,"body_markdown":"So, the error is telling you that the input value of `&quot;&quot;` can&#39;t be converted to `int`.  You&#39;re not doing any validation on the `String` returned from `showInputDialog` and are simply, blindly, trying to convert it to an `int`, which is failing, because no input has been made (and even worse, the return value could be `null`).\r\n\r\n# Cavet\r\n\r\nThe following is a &quot;conceptual&quot; idea which encompasses the input/validation into a self contained and re-usable unit of work.  This &quot;concept&quot; could be used for console input as well.\r\n\r\nThe intention isn&#39;t to &quot;answer&quot; the question directly, but offer (not only an answer), but a conceptual and re-usable workflow and encourage a different way of &quot;thinking&quot; when approaching these kind of issues.\r\n\r\n# Possible solution\r\n\r\nThere are any number of ways you &quot;might&quot; consider fixing this, but the basic idea is to:\r\n\r\n1. Check that the return value is not `null`\r\n2. Validate the return value to ensure it&#39;s actually an `int` value.\r\n\r\nTo this end, I might encapsulate the logic into a self contained unit of work, for example...\r\n\r\n        public static Integer getIntFromUser(String prompt) {\r\n            Integer result = null;\r\n            boolean done = false;\r\n            do {\r\n                String value = JOptionPane.showInputDialog(prompt);\r\n                // User pressed cancel\r\n                if (value == null) {\r\n                    done = true;\r\n                } else {\r\n                    Scanner scanner = new Scanner(value);\r\n                    if (scanner.hasNextInt()) {\r\n                        result = scanner.nextInt();\r\n                        done = true;\r\n                    } else {\r\n                        JOptionPane.showMessageDialog(null, &quot;Please enter a numeric value&quot;);\r\n                    }\r\n                }\r\n            } while (!done);\r\n            return result;\r\n        }\r\n\r\nThis will loop until the user either inputs a valid `int` value or presses &lt;kbd&gt;Cancel&lt;/kbd&gt; (hence the reason it returns `Integer` instead of `int`, this way you can inspect the return value for `null`)\r\n\r\nThe `collectOrder` method would also change to look something more like...\r\n\r\n    public static boolean collectOrder() {\r\n        boolean validUserInput = false;\r\n        Integer inputValue = getIntFromUser(&quot;Please enter the number of adult meals:&quot;);\r\n        if (inputValue != null) {\r\n            // Only prompt for the kids meal if the adult value is valid,\r\n            // otherwise it&#39;s likely that they clicked cancel\r\n            adultMealOrdered = inputValue;\r\n            inputValue = getIntFromUser(&quot;Please enter the number of kids meals:&quot;);\r\n            if (inputValue != null) {\r\n                kidsMealOrdered = inputValue;\r\n                validUserInput = true;\r\n            }\r\n        }\r\n        \r\n        return validUserInput;\r\n    }\r\n\r\nThe intention here is to check the return result from `getIntFromUser`, if it&#39;s `null`, the user pressed `&lt;kbd&gt;Cancel&lt;/kbd&gt;` and we should stop any further processing, otherwise we go onto the next step.\r\n\r\n`collectOrder` also returns `boolean` to indicate whether it has all the required data or not, so we don&#39;t try and finalise the order with invalid or partial data.\r\n\r\n# Runnable example...\r\n\r\n    public static class ChiliToGo {\r\n\r\n        static int adultMeal = 7;\r\n        static int kidsMeal = 4;\r\n        static int adultMealOrdered;\r\n        static int kidsMealOrdered;\r\n        static int totalPrice;\r\n\r\n        public static void main(String[] args) {\r\n            if (collectOrder()) {\r\n                finalizeOrder();\r\n            }\r\n        }\r\n\r\n        public static boolean collectOrder() {\r\n            boolean validUserInput = false;\r\n            Integer inputValue = getIntFromUser(&quot;Please enter the number of adult meals:&quot;);\r\n            if (inputValue != null) {\r\n                // Only prompt for the kids meal if the adult value is valid,\r\n                // otherwise it&#39;s likely that they clicked cancel\r\n                adultMealOrdered = inputValue;\r\n                inputValue = getIntFromUser(&quot;Please enter the number of kids meals:&quot;);\r\n                if (inputValue != null) {\r\n                    kidsMealOrdered = inputValue;\r\n                    validUserInput = true;\r\n                }\r\n            }\r\n            \r\n            return validUserInput;\r\n        }\r\n\r\n        public static Integer getIntFromUser(String prompt) {\r\n            Integer result = null;\r\n            boolean done = false;\r\n            do {\r\n                String value = JOptionPane.showInputDialog(prompt);\r\n                // User pressed cancel\r\n                if (value == null) {\r\n                    done = true;\r\n                } else {\r\n                    Scanner scanner = new Scanner(value);\r\n                    if (scanner.hasNextInt()) {\r\n                        result = scanner.nextInt();\r\n                        done = true;\r\n                    } else {\r\n                        JOptionPane.showMessageDialog(null, &quot;Please enter a numeric value&quot;);\r\n                    }\r\n                }\r\n            } while (!done);\r\n            return result;\r\n        }\r\n\r\n        public static void finalizeOrder() {\r\n            for (int i = 0; i &lt; adultMealOrdered; i++) {\r\n                totalPrice = totalPrice + adultMeal;\r\n            }\r\n            for (int n = 0; n &lt; kidsMealOrdered; n++) {\r\n                totalPrice = totalPrice + kidsMeal;\r\n            }\r\n\r\n            JOptionPane.showInternalMessageDialog(null, &quot;Your order total is: &quot; + totalPrice, null, JOptionPane.INFORMATION_MESSAGE);\r\n        }\r\n    }\r\n\r\n&gt; But why not use a try-catch block?\r\n\r\nWell, this might be a little old school, and you don&#39;t always have the choice, but `try-catch` blocks, generally, shouldn&#39;t be used as control flow mechanisms (every rule has an exception &#128521;)","title":"When using JOptionPane.showInputDialog the window disappears before I can input and it&#39;s breaking parseint()","body":"<p>So, the error is telling you that the input value of <code>&quot;&quot;</code> can't be converted to <code>int</code>.  You're not doing any validation on the <code>String</code> returned from <code>showInputDialog</code> and are simply, blindly, trying to convert it to an <code>int</code>, which is failing, because no input has been made (and even worse, the return value could be <code>null</code>).</p>\n<h1>Cavet</h1>\n<p>The following is a &quot;conceptual&quot; idea which encompasses the input/validation into a self contained and re-usable unit of work.  This &quot;concept&quot; could be used for console input as well.</p>\n<p>The intention isn't to &quot;answer&quot; the question directly, but offer (not only an answer), but a conceptual and re-usable workflow and encourage a different way of &quot;thinking&quot; when approaching these kind of issues.</p>\n<h1>Possible solution</h1>\n<p>There are any number of ways you &quot;might&quot; consider fixing this, but the basic idea is to:</p>\n<ol>\n<li>Check that the return value is not <code>null</code></li>\n<li>Validate the return value to ensure it's actually an <code>int</code> value.</li>\n</ol>\n<p>To this end, I might encapsulate the logic into a self contained unit of work, for example...</p>\n<pre><code>    public static Integer getIntFromUser(String prompt) {\n        Integer result = null;\n        boolean done = false;\n        do {\n            String value = JOptionPane.showInputDialog(prompt);\n            // User pressed cancel\n            if (value == null) {\n                done = true;\n            } else {\n                Scanner scanner = new Scanner(value);\n                if (scanner.hasNextInt()) {\n                    result = scanner.nextInt();\n                    done = true;\n                } else {\n                    JOptionPane.showMessageDialog(null, &quot;Please enter a numeric value&quot;);\n                }\n            }\n        } while (!done);\n        return result;\n    }\n</code></pre>\n<p>This will loop until the user either inputs a valid <code>int</code> value or presses <kbd>Cancel</kbd> (hence the reason it returns <code>Integer</code> instead of <code>int</code>, this way you can inspect the return value for <code>null</code>)</p>\n<p>The <code>collectOrder</code> method would also change to look something more like...</p>\n<pre><code>public static boolean collectOrder() {\n    boolean validUserInput = false;\n    Integer inputValue = getIntFromUser(&quot;Please enter the number of adult meals:&quot;);\n    if (inputValue != null) {\n        // Only prompt for the kids meal if the adult value is valid,\n        // otherwise it's likely that they clicked cancel\n        adultMealOrdered = inputValue;\n        inputValue = getIntFromUser(&quot;Please enter the number of kids meals:&quot;);\n        if (inputValue != null) {\n            kidsMealOrdered = inputValue;\n            validUserInput = true;\n        }\n    }\n    \n    return validUserInput;\n}\n</code></pre>\n<p>The intention here is to check the return result from <code>getIntFromUser</code>, if it's <code>null</code>, the user pressed <code>&lt;kbd&gt;Cancel&lt;/kbd&gt;</code> and we should stop any further processing, otherwise we go onto the next step.</p>\n<p><code>collectOrder</code> also returns <code>boolean</code> to indicate whether it has all the required data or not, so we don't try and finalise the order with invalid or partial data.</p>\n<h1>Runnable example...</h1>\n<pre><code>public static class ChiliToGo {\n\n    static int adultMeal = 7;\n    static int kidsMeal = 4;\n    static int adultMealOrdered;\n    static int kidsMealOrdered;\n    static int totalPrice;\n\n    public static void main(String[] args) {\n        if (collectOrder()) {\n            finalizeOrder();\n        }\n    }\n\n    public static boolean collectOrder() {\n        boolean validUserInput = false;\n        Integer inputValue = getIntFromUser(&quot;Please enter the number of adult meals:&quot;);\n        if (inputValue != null) {\n            // Only prompt for the kids meal if the adult value is valid,\n            // otherwise it's likely that they clicked cancel\n            adultMealOrdered = inputValue;\n            inputValue = getIntFromUser(&quot;Please enter the number of kids meals:&quot;);\n            if (inputValue != null) {\n                kidsMealOrdered = inputValue;\n                validUserInput = true;\n            }\n        }\n        \n        return validUserInput;\n    }\n\n    public static Integer getIntFromUser(String prompt) {\n        Integer result = null;\n        boolean done = false;\n        do {\n            String value = JOptionPane.showInputDialog(prompt);\n            // User pressed cancel\n            if (value == null) {\n                done = true;\n            } else {\n                Scanner scanner = new Scanner(value);\n                if (scanner.hasNextInt()) {\n                    result = scanner.nextInt();\n                    done = true;\n                } else {\n                    JOptionPane.showMessageDialog(null, &quot;Please enter a numeric value&quot;);\n                }\n            }\n        } while (!done);\n        return result;\n    }\n\n    public static void finalizeOrder() {\n        for (int i = 0; i &lt; adultMealOrdered; i++) {\n            totalPrice = totalPrice + adultMeal;\n        }\n        for (int n = 0; n &lt; kidsMealOrdered; n++) {\n            totalPrice = totalPrice + kidsMeal;\n        }\n\n        JOptionPane.showInternalMessageDialog(null, &quot;Your order total is: &quot; + totalPrice, null, JOptionPane.INFORMATION_MESSAGE);\n    }\n}\n</code></pre>\n<blockquote>\n<p>But why not use a try-catch block?</p>\n</blockquote>\n<p>Well, this might be a little old school, and you don't always have the choice, but <code>try-catch</code> blocks, generally, shouldn't be used as control flow mechanisms (every rule has an exception 😉)</p>\n"}],"owner":{"account_id":24369108,"reputation":81,"user_id":18302359,"display_name":"Faith Heath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645743098,"creation_date":1645739226,"question_id":71258647,"body_markdown":"Why do my JOptionPane.showInputDialog windows disappear before I can enter an input? I think it&#39;s what&#39;s causing my code to break. I&#39;ve googled everything I can think of and nothing seems to apply to what I&#39;m doing here. The error I get is: \r\n```\r\nException in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;&quot;\r\n        at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\r\n        at java.base/java.lang.Integer.parseInt(Integer.java:678)\r\n        at java.base/java.lang.Integer.parseInt(Integer.java:786)\r\n        at ChiliToGo.collectOrder(ChiliToGo.java:25)\r\n        at ChiliToGo.main(ChiliToGo.java:13)\r\n```\r\nI&#39;m just in a beginner java course so It&#39;s probably really dumb what I&#39;m doing.\r\n\r\nI&#39;ve tried formatting the string and moving the main method into a separate class to access the methods in a non-static way because they are the best solutions I got from the posts I found. I&#39;m just really confused because the parseint shouldn&#39;t get the string until I press ok right? It&#39;s only there for a moment and I don&#39;t have a chance to enter the input\r\n\r\nAny help would be appreciated, code is below. Sorry if I made any mistakes this is my first post\r\n\r\n```\r\nimport javax.swing.JOptionPane;\r\n\r\npublic class ChiliToGo {    \r\n    static int adultMeal = 7;\r\n    static int kidsMeal = 4;\r\n    static String adultMealOrder;\r\n    static String kidsMealOrder;\r\n    static int adultMealOrdered;\r\n    static int kidsMealOrdered;\r\n    static int totalPrice;\r\n\r\n    public static void main(String[] args) {\r\n        collectOrder();\r\n        finalizeOrder();\r\n    }\r\n\r\n    public static void collectOrder() {\r\n\r\n        adultMealOrder = JOptionPane.showInputDialog(&quot;Please enter the number of adult meals:&quot;);\r\n        kidsMealOrder = JOptionPane.showInputDialog(&quot;Please enter the number of kids meals:&quot;);\r\n        \r\n        adultMealOrdered = Integer.parseInt(adultMealOrder);\r\n        kidsMealOrdered = Integer.parseInt(kidsMealOrder);\r\n    }\r\n\r\n    public static void finalizeOrder() {\r\n        for(int i = 0; i &lt; adultMealOrdered; i++) {\r\n            totalPrice = totalPrice + adultMeal;\r\n        }\r\n        for(int n = 0; n &lt; kidsMealOrdered; n++) {\r\n            totalPrice = totalPrice + kidsMeal;\r\n        }\r\n\r\n        JOptionPane.showInternalMessageDialog( null, &quot;Your order total is: &quot; + totalPrice, null, JOptionPane.INFORMATION_MESSAGE);\r\n    }\r\n}\r\n\r\n```","title":"When using JOptionPane.showInputDialog the window disappears before I can input and it&#39;s breaking parseint()","body":"<p>Why do my JOptionPane.showInputDialog windows disappear before I can enter an input? I think it's what's causing my code to break. I've googled everything I can think of and nothing seems to apply to what I'm doing here. The error I get is:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;&quot;\n        at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\n        at java.base/java.lang.Integer.parseInt(Integer.java:678)\n        at java.base/java.lang.Integer.parseInt(Integer.java:786)\n        at ChiliToGo.collectOrder(ChiliToGo.java:25)\n        at ChiliToGo.main(ChiliToGo.java:13)\n</code></pre>\n<p>I'm just in a beginner java course so It's probably really dumb what I'm doing.</p>\n<p>I've tried formatting the string and moving the main method into a separate class to access the methods in a non-static way because they are the best solutions I got from the posts I found. I'm just really confused because the parseint shouldn't get the string until I press ok right? It's only there for a moment and I don't have a chance to enter the input</p>\n<p>Any help would be appreciated, code is below. Sorry if I made any mistakes this is my first post</p>\n<pre><code>import javax.swing.JOptionPane;\n\npublic class ChiliToGo {    \n    static int adultMeal = 7;\n    static int kidsMeal = 4;\n    static String adultMealOrder;\n    static String kidsMealOrder;\n    static int adultMealOrdered;\n    static int kidsMealOrdered;\n    static int totalPrice;\n\n    public static void main(String[] args) {\n        collectOrder();\n        finalizeOrder();\n    }\n\n    public static void collectOrder() {\n\n        adultMealOrder = JOptionPane.showInputDialog(&quot;Please enter the number of adult meals:&quot;);\n        kidsMealOrder = JOptionPane.showInputDialog(&quot;Please enter the number of kids meals:&quot;);\n        \n        adultMealOrdered = Integer.parseInt(adultMealOrder);\n        kidsMealOrdered = Integer.parseInt(kidsMealOrder);\n    }\n\n    public static void finalizeOrder() {\n        for(int i = 0; i &lt; adultMealOrdered; i++) {\n            totalPrice = totalPrice + adultMeal;\n        }\n        for(int n = 0; n &lt; kidsMealOrdered; n++) {\n            totalPrice = totalPrice + kidsMeal;\n        }\n\n        JOptionPane.showInternalMessageDialog( null, &quot;Your order total is: &quot; + totalPrice, null, JOptionPane.INFORMATION_MESSAGE);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","xml","veracode"],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645742635,"creation_date":1645742334,"answer_id":71259067,"question_id":71193615,"body_markdown":"According to OWASP when describing how to prevent [XML eXternal Entity injection (XXE)](https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html), when using Java and `TransformerFactory` the [recommended approach](https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html#transformerfactory) is the following: \r\n\r\n```java\r\nTransformerFactory tf = TransformerFactory.newInstance();\r\ntf.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\r\ntf.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;&quot;);\r\n```\r\n\r\nPlease, note they are configuring attributes, not features.\r\n\r\nPlease, consider review as well the [documentation](https://docs.oracle.com/javase/8/docs/api/javax/xml/transform/TransformerFactory.html#setAttribute-java.lang.String-java.lang.Object-) provided for the `setAttribute` method in `TransformerFactory`, I think it can be of help:\r\n\r\n&gt; Access to external DTDs in the source file is restricted to the \r\n&gt; protocols specified by the `XMLConstants.ACCESS_EXTERNAL_DTD` \r\n&gt; property. If access is denied during transformation due to the \r\n&gt; restriction of this property, `TransformerException` will be thrown \r\n&gt; by `Transformer.transform(Source, Result)`.\r\n&gt;\r\n&gt; Access to external DTDs in the stylesheet is restricted to the \r\n&gt; protocols specified by the `XMLConstants.ACCESS_EXTERNAL_DTD` \r\n&gt; property. If access is denied during the creation of a new \r\n&gt; transformer due to the restriction of this property, \r\n&gt; `TransformerConfigurationException` will be thrown by the \r\n&gt; `newTransformer(Source)` method.\r\n&gt;\r\n&gt; Access to external reference set by the stylesheet processing \r\n&gt; instruction, Import and Include element is restricted to the \r\n&gt; protocols specified by the `XMLConstants.ACCESS_EXTERNAL_STYLESHEET`\r\n&gt; property. If access is denied during the creation of a new transformer\r\n&gt; due to the restriction of this property,\r\n&gt; `TransformerConfigurationException` will be thrown by the\r\n&gt; `newTransformer(Source)` method.","title":"Improper Restriction of XML EER for TransformerFactory","body":"<p>According to OWASP when describing how to prevent <a href=\"https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html\" rel=\"nofollow noreferrer\">XML eXternal Entity injection (XXE)</a>, when using Java and <code>TransformerFactory</code> the <a href=\"https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html#transformerfactory\" rel=\"nofollow noreferrer\">recommended approach</a> is the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TransformerFactory tf = TransformerFactory.newInstance();\ntf.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\ntf.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;&quot;);\n</code></pre>\n<p>Please, note they are configuring attributes, not features.</p>\n<p>Please, consider review as well the <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/xml/transform/TransformerFactory.html#setAttribute-java.lang.String-java.lang.Object-\" rel=\"nofollow noreferrer\">documentation</a> provided for the <code>setAttribute</code> method in <code>TransformerFactory</code>, I think it can be of help:</p>\n<blockquote>\n<p>Access to external DTDs in the source file is restricted to the\nprotocols specified by the <code>XMLConstants.ACCESS_EXTERNAL_DTD</code>\nproperty. If access is denied during transformation due to the\nrestriction of this property, <code>TransformerException</code> will be thrown\nby <code>Transformer.transform(Source, Result)</code>.</p>\n<p>Access to external DTDs in the stylesheet is restricted to the\nprotocols specified by the <code>XMLConstants.ACCESS_EXTERNAL_DTD</code>\nproperty. If access is denied during the creation of a new\ntransformer due to the restriction of this property,\n<code>TransformerConfigurationException</code> will be thrown by the\n<code>newTransformer(Source)</code> method.</p>\n<p>Access to external reference set by the stylesheet processing\ninstruction, Import and Include element is restricted to the\nprotocols specified by the <code>XMLConstants.ACCESS_EXTERNAL_STYLESHEET</code>\nproperty. If access is denied during the creation of a new transformer\ndue to the restriction of this property,\n<code>TransformerConfigurationException</code> will be thrown by the\n<code>newTransformer(Source)</code> method.</p>\n</blockquote>\n"}],"owner":{"account_id":12247989,"reputation":123,"user_id":8939178,"display_name":"Masoom Raza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":848,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71259067,"answer_count":1,"score":0,"last_activity_date":1645742635,"creation_date":1645353985,"question_id":71193615,"body_markdown":"Getting Veracode vulnerability &quot;Improper Restriction of XML External Entity Reference&quot; for &quot;TransformerFactory&quot;, There are several solution for this and the most relevant I found is: [solution][1]. But after trying these solution none of them worked. Below is the code:\r\n\r\n```\r\nimport net.sf.saxon.TransformerFactoryImpl;\r\n.....\r\n TransformerFactory genericFactory = TransformerFactoryImpl.newInstance();\r\n genericFactory.setFeature(&quot;http://javax.xml.XMLConstants/property/accessExternalDTD&quot;, false);\t\r\n genericFactory.setFeature(Constants.FEATURE_SECURE_PROCESSING,true);\r\n```\r\nThe error is: \r\n```\r\njavax.xml.transform.TransformerConfigurationException: Unsupported TransformerFactory feature: http://javax.xml.XMLConstants/property/accessExternalDTD\r\n```\r\nCurrently I am running the application on Java 8 and the relevant jars are:\r\nsaxon9.jar, \r\nxalan-2.7.2.jar\r\n\r\nI tried several combination for these like:\r\n```\r\n//1\r\n TransformerFactory genericFactory = javax.xml.transform.TransformerFactory.newInstance();\r\n genericFactory.setFeature(&quot;http://javax.xml.XMLConstants/property/accessExternalDTD&quot;, false);\t\r\n//2\r\n TransformerFactory genericFactory = com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newInstance();\r\n genericFactory.setFeature(&quot;http://javax.xml.XMLConstants/property/accessExternalDTD&quot;, false);\r\n```\r\nBut getting the same error. How to solve this error?\r\n\r\n  [1]: https://stackoverflow.com/questions/58374278/org-xml-sax-saxnotrecognizedexception-property-http-javax-xml-xmlconstants-p","title":"Improper Restriction of XML EER for TransformerFactory","body":"<p>Getting Veracode vulnerability &quot;Improper Restriction of XML External Entity Reference&quot; for &quot;TransformerFactory&quot;, There are several solution for this and the most relevant I found is: <a href=\"https://stackoverflow.com/questions/58374278/org-xml-sax-saxnotrecognizedexception-property-http-javax-xml-xmlconstants-p\">solution</a>. But after trying these solution none of them worked. Below is the code:</p>\n<pre><code>import net.sf.saxon.TransformerFactoryImpl;\n.....\n TransformerFactory genericFactory = TransformerFactoryImpl.newInstance();\n genericFactory.setFeature(&quot;http://javax.xml.XMLConstants/property/accessExternalDTD&quot;, false);  \n genericFactory.setFeature(Constants.FEATURE_SECURE_PROCESSING,true);\n</code></pre>\n<p>The error is:</p>\n<pre><code>javax.xml.transform.TransformerConfigurationException: Unsupported TransformerFactory feature: http://javax.xml.XMLConstants/property/accessExternalDTD\n</code></pre>\n<p>Currently I am running the application on Java 8 and the relevant jars are:\nsaxon9.jar,\nxalan-2.7.2.jar</p>\n<p>I tried several combination for these like:</p>\n<pre><code>//1\n TransformerFactory genericFactory = javax.xml.transform.TransformerFactory.newInstance();\n genericFactory.setFeature(&quot;http://javax.xml.XMLConstants/property/accessExternalDTD&quot;, false);  \n//2\n TransformerFactory genericFactory = com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newInstance();\n genericFactory.setFeature(&quot;http://javax.xml.XMLConstants/property/accessExternalDTD&quot;, false);\n</code></pre>\n<p>But getting the same error. How to solve this error?</p>\n"},{"tags":["java","build"],"answers":[{"tags":[],"owner":{"account_id":5512082,"reputation":338,"user_id":4378061,"display_name":"mdh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645690971,"creation_date":1645690971,"answer_id":71249028,"question_id":71248206,"body_markdown":"It is indeed possible, just define another execution section and put your second output file path there like described here https://stackoverflow.com/questions/17845423/maven-shade-plugin-to-produce-two-jars\r\n\r\nYou may have to define separate ids for both executions.","title":"Multiple output jar files for intellij pom.xml file","body":"<p>It is indeed possible, just define another execution section and put your second output file path there like described here <a href=\"https://stackoverflow.com/questions/17845423/maven-shade-plugin-to-produce-two-jars\">Maven Shade Plugin to produce two Jars</a></p>\n<p>You may have to define separate ids for both executions.</p>\n"}],"owner":{"account_id":18856786,"reputation":43,"user_id":13754545,"display_name":"Zoboo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71249028,"answer_count":1,"score":0,"last_activity_date":1645742386,"creation_date":1645685949,"question_id":71248206,"body_markdown":"Is it possible to build 2 of the same jar files but in separate directories in intellij?\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YDaLJ.png\r\n\r\nAs you can see in lines 41 and 42 I have the outputFile locations set to 2 different locations, however it only builds the jar file in the last outputFile. Is it possible to build in 2 different directories?","title":"Multiple output jar files for intellij pom.xml file","body":"<p>Is it possible to build 2 of the same jar files but in separate directories in intellij?\n<a href=\"https://i.stack.imgur.com/YDaLJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YDaLJ.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see in lines 41 and 42 I have the outputFile locations set to 2 different locations, however it only builds the jar file in the last outputFile. Is it possible to build in 2 different directories?</p>\n"},{"tags":["java","list","collections","java-stream"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1645462404,"post_id":71209769,"comment_id":125872493,"body_markdown":"I don&#39;t clearly understand what is the difference between the classes `RegionCountry ` and `Region`  in terms of their responsibilities? Can the `Region` class alone substitute them both?","body":"I don&#39;t clearly understand what is the difference between the classes <code>RegionCountry </code> and <code>Region</code>  in terms of their responsibilities? Can the <code>Region</code> class alone substitute them both?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1645462843,"post_id":71209769,"comment_id":125872664,"body_markdown":"According to your problem could you provide an example of input?","body":"According to your problem could you provide an example of input?"},{"owner":{"account_id":23526594,"reputation":249,"user_id":17573032,"display_name":"Mohsin M"},"score":0,"creation_date":1645462887,"post_id":71209769,"comment_id":125872679,"body_markdown":"@alexander-ivanchenko No, `RegionCountry` Indicates Region(Ex. Asia, Europe etc) and List of countries within that Region(Ex. UK, Germany within Europe). While `Region` only indicates one Single region, we cannot replace other classes by  `Region`. Input could be any `List&lt;Long&gt;`  which indicates region or country Ids","body":"@alexander-ivanchenko No, <code>RegionCountry</code> Indicates Region(Ex. Asia, Europe etc) and List of countries within that Region(Ex. UK, Germany within Europe). While <code>Region</code> only indicates one Single region, we cannot replace other classes by  <code>Region</code>. Input could be any <code>List&lt;Long&gt;</code>  which indicates region or country Ids"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1645463113,"post_id":71209769,"comment_id":125872763,"body_markdown":"Got it. How about an example of `countryIds`, `regionIds ` and `regionCountries` to reproduce the problem?","body":"Got it. How about an example of <code>countryIds</code>, <code>regionIds </code> and <code>regionCountries</code> to reproduce the problem?"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645742322,"creation_date":1645742322,"answer_id":71259065,"question_id":71209769,"body_markdown":"The presented code seems to be fine and working, so the actual datasets need to be checked if they meet the provided condition: \r\n`regionIds` contain `rc.regionId` AND `countryIds` contain IDs of all countries.\r\n\r\n[Online demo (using `record` instead of classes to avoid boilerplate code)](https://www.jdoodle.com/iembed/v0/nEJ):\r\n```\r\nnon-filtered\r\nRegionCountry[region=Region[regionId=1, regionName=Europe], countries=[Country[countryId=1, countryName=Albania], Country[countryId=2, countryName=Andorra], Country[countryId=6, countryName=Germany]]]\r\nRegionCountry[region=Region[regionId=3, regionName=America], countries=[Country[countryId=15, countryName=Canada], Country[countryId=16, countryName=US]]]\r\nregion ids: [3, 1]\r\ncountry ids: [1, 2, 3, 15, 6]\r\nfiltered\r\nRegionCountry[region=Region[regionId=1, regionName=Europe], countries=[Country[countryId=1, countryName=Albania], Country[countryId=2, countryName=Andorra], Country[countryId=6, countryName=Germany]]]\r\n```\r\n\r\nA minor optimization would be to use `Set` instead of `List` for `regionIds`, `countryIds` to make faster checks with `Set::contains`.","title":"Check if value from one list is present in another list using stream","body":"<p>The presented code seems to be fine and working, so the actual datasets need to be checked if they meet the provided condition:\n<code>regionIds</code> contain <code>rc.regionId</code> AND <code>countryIds</code> contain IDs of all countries.</p>\n<p><a href=\"https://www.jdoodle.com/iembed/v0/nEJ\" rel=\"nofollow noreferrer\">Online demo (using <code>record</code> instead of classes to avoid boilerplate code)</a>:</p>\n<pre><code>non-filtered\nRegionCountry[region=Region[regionId=1, regionName=Europe], countries=[Country[countryId=1, countryName=Albania], Country[countryId=2, countryName=Andorra], Country[countryId=6, countryName=Germany]]]\nRegionCountry[region=Region[regionId=3, regionName=America], countries=[Country[countryId=15, countryName=Canada], Country[countryId=16, countryName=US]]]\nregion ids: [3, 1]\ncountry ids: [1, 2, 3, 15, 6]\nfiltered\nRegionCountry[region=Region[regionId=1, regionName=Europe], countries=[Country[countryId=1, countryName=Albania], Country[countryId=2, countryName=Andorra], Country[countryId=6, countryName=Germany]]]\n</code></pre>\n<p>A minor optimization would be to use <code>Set</code> instead of <code>List</code> for <code>regionIds</code>, <code>countryIds</code> to make faster checks with <code>Set::contains</code>.</p>\n"}],"owner":{"account_id":23526594,"reputation":249,"user_id":17573032,"display_name":"Mohsin M"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71259065,"answer_count":1,"score":0,"last_activity_date":1645742322,"creation_date":1645460918,"question_id":71209769,"body_markdown":"I have `List&lt;RegionCountry&gt; regionCountries` of:\r\n\r\n    \r\n\r\n    class RegionCountry {\r\n        Region region;\r\n        List&lt;Country&gt; countries;\r\n       }\r\n\r\nAnd Region and Country looks like:\r\n\r\n    class Region {\r\n        Long regionId;\r\n        String regionName;\r\n    }\r\n    \r\n    class Country {\r\n        Long countryId;\r\n        String countryName;\r\n    }\r\n\r\nEach Region have multiple countries within them. I am getting `List&lt;Long&gt; countryIds` and `List&lt;Long&gt; regionIds` from the UI which I want to compare against this `regionCountries`. So I did something like:\r\n\r\n    List&lt;RegionCountry&gt; filteredList = regionCountries\r\n    \t\t\t\t\t\t\t.stream()\r\n                                .filter(regionCountry -&gt; regionIds.contains(regionCountry.getRegion().getRegionId()))\r\n    \t\t\t\t\t\t\t.filter(regionCountry -&gt; regionCountry.getCountries()\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t.stream()\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t.allMatch(country -&gt; countryIds.contains(country.getCountryId())))\r\n                                .collect(Collectors.toList());\r\n\t\t\t\t\t\t\t\r\nBut it is not returning anything. I am trying to figure out how to compare `List&lt;Long&gt; countryIds` with `List&lt;Country&gt; countries` of `RegionCountry`. Is there any better approach to do it in `Java 8` or `8+` using `stream API`? Or can it be simplified by using any other approach? ","title":"Check if value from one list is present in another list using stream","body":"<p>I have <code>List&lt;RegionCountry&gt; regionCountries</code> of:</p>\n<pre><code>class RegionCountry {\n    Region region;\n    List&lt;Country&gt; countries;\n   }\n</code></pre>\n<p>And Region and Country looks like:</p>\n<pre><code>class Region {\n    Long regionId;\n    String regionName;\n}\n\nclass Country {\n    Long countryId;\n    String countryName;\n}\n</code></pre>\n<p>Each Region have multiple countries within them. I am getting <code>List&lt;Long&gt; countryIds</code> and <code>List&lt;Long&gt; regionIds</code> from the UI which I want to compare against this <code>regionCountries</code>. So I did something like:</p>\n<pre><code>List&lt;RegionCountry&gt; filteredList = regionCountries\n                            .stream()\n                            .filter(regionCountry -&gt; regionIds.contains(regionCountry.getRegion().getRegionId()))\n                            .filter(regionCountry -&gt; regionCountry.getCountries()\n                                                    .stream()\n                                                    .allMatch(country -&gt; countryIds.contains(country.getCountryId())))\n                            .collect(Collectors.toList());\n                        \n</code></pre>\n<p>But it is not returning anything. I am trying to figure out how to compare <code>List&lt;Long&gt; countryIds</code> with <code>List&lt;Country&gt; countries</code> of <code>RegionCountry</code>. Is there any better approach to do it in <code>Java 8</code> or <code>8+</code> using <code>stream API</code>? Or can it be simplified by using any other approach?</p>\n"},{"tags":["java","windows","cmd","command-line","windows-firewall"],"comments":[{"owner":{"account_id":21736352,"reputation":439,"user_id":16044298,"display_name":"Bradford Griggs"},"score":0,"creation_date":1645747564,"post_id":71258999,"comment_id":125960011,"body_markdown":"To whoever voted to close the question: This question is specifically how to programmatically launch a program (in Java) while bypassing Windows Defender Firewall dialog. Can you explain why you voted to close this question?","body":"To whoever voted to close the question: This question is specifically how to programmatically launch a program (in Java) while bypassing Windows Defender Firewall dialog. Can you explain why you voted to close this question?"},{"owner":{"account_id":653447,"reputation":15025,"user_id":447901,"accept_rate":66,"display_name":"lit"},"score":1,"creation_date":1645804332,"post_id":71258999,"comment_id":125974822,"body_markdown":"&quot;Configure and manage Microsoft Defender Antivirus with the mpcmdrun.exe command-line tool&quot; https://learn.microsoft.com/en-us/microsoft-365/security/defender-endpoint/command-line-arguments-microsoft-defender-antivirus?view=o365-worldwide","body":"&quot;Configure and manage Microsoft Defender Antivirus with the mpcmdrun.exe command-line tool&quot; <a href=\"https://learn.microsoft.com/en-us/microsoft-365/security/defender-endpoint/command-line-arguments-microsoft-defender-antivirus?view=o365-worldwide\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/microsoft-365/security/&hellip;</a>"}],"owner":{"account_id":21736352,"reputation":439,"user_id":16044298,"display_name":"Bradford Griggs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1645742031,"creation_date":1645741720,"question_id":71258999,"body_markdown":"I&#39;m launching a program with administrative privileges in `Java` using the `CMD`: \r\n\r\n\ttry {\r\n\t\tRuntime.getRuntime().exec(cmd, null, new File(processDir));\r\n\t} catch (IOException e1) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te1.printStackTrace();\r\n\t}\r\n\r\n\r\nThis causes the Windows Security Alert dialog to appear:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI would like to suppress the dialog from appearing as this would require manual input for a program that is suppose to be fully automated.\r\n\r\n**1)** Is it possible to execute a specific command in a way that prevents the dialog from appearing for that command?\r\n\r\n**2)** If not, is it possible to programmatically disable the dialog from ever appearing?\r\n\r\nPresumably, I could completely disable `Windows Defender Firewall` but this isn&#39;t ideal. \r\n\r\nI&#39;m using `Java + Windows 10`.\r\n\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dIpzy.jpg","title":"How to Suppress Windows Security Alert when Launching Java Program via CMD?","body":"<p>I'm launching a program with administrative privileges in <code>Java</code> using the <code>CMD</code>:</p>\n<pre><code>try {\n    Runtime.getRuntime().exec(cmd, null, new File(processDir));\n} catch (IOException e1) {\n    // TODO Auto-generated catch block\n    e1.printStackTrace();\n}\n</code></pre>\n<p>This causes the Windows Security Alert dialog to appear:</p>\n<p><a href=\"https://i.stack.imgur.com/dIpzy.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dIpzy.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I would like to suppress the dialog from appearing as this would require manual input for a program that is suppose to be fully automated.</p>\n<p><strong>1)</strong> Is it possible to execute a specific command in a way that prevents the dialog from appearing for that command?</p>\n<p><strong>2)</strong> If not, is it possible to programmatically disable the dialog from ever appearing?</p>\n<p>Presumably, I could completely disable <code>Windows Defender Firewall</code> but this isn't ideal.</p>\n<p>I'm using <code>Java + Windows 10</code>.</p>\n<p>Thanks</p>\n"},{"tags":["java","eclipse","apache-kafka"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1645772832,"post_id":71257310,"comment_id":125964265,"body_markdown":"Looks like you are using the Java module system, just deleting the &#39;module-info.java&#39; to stop using that would be a quick fix.","body":"Looks like you are using the Java module system, just deleting the &#39;module-info.java&#39; to stop using that would be a quick fix."},{"owner":{"account_id":24289131,"reputation":1,"user_id":18234469,"display_name":"Adri2210"},"score":0,"creation_date":1645796332,"post_id":71257310,"comment_id":125971687,"body_markdown":"Where can I find that file in Java?","body":"Where can I find that file in Java?"}],"owner":{"account_id":24289131,"reputation":1,"user_id":18234469,"display_name":"Adri2210"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645741823,"creation_date":1645731147,"question_id":71257310,"body_markdown":"I am trying to use the code from a youtube tutorial to set up Kafka with Eclipse. The thing is I finally managed to set up the servers and the code, as far as my knowledge goes, seems fine to me. The problem is that I have to import files from Kafka to make the program work and it seems there has been a problem with the module dependencies. I already looked up some questions which told me to install new software which I did and it still does not work.\r\n\r\nThe code looks like this \r\n\r\n``` \r\nimport java.util.Properties;\r\n\r\nimport org.apache.kafka.clients.producer.KafkaProducer;\r\nimport org.apache.kafka.clients.producer.Producer;\r\nimport org.apache.kafka.clients.producer.ProducerRecord;\r\n\r\npublic class Produce {\r\n\r\n\tpublic static void main(String [] args) {\r\n\r\n\t\t// properties for producer\r\n\t\tProperties props = new Properties();\r\n\t\tprops.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\r\n\t\tprops.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.IntegerSerializer&quot;);\r\n\t\tprops.put(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n\r\n\t\t// create Producer\r\n\t\tProducer&lt;Integer, String&gt; producer = new KafkaProducer&lt;Integer,String&gt;(props);\r\n\t\t\r\n\t\t// send messages to my topic\r\n\t\tfor(int i = 0; i &lt; 1; i++) {\r\n\t\tProducerRecord&lt;Integer, String&gt; producerRecord = new ProducerRecord&lt;Integer, String&gt;(&quot;Test Topic&quot;, i, &quot;Test Message #&quot; +  Integer.toString(i));\r\n\t\tproducer.send(producerRecord);\r\n\t\t}\r\n\t\t \t\r\n\t\t// close Producer\r\n\t\t\r\n\t\tproducer.close();\r\n\t}\r\n    }\r\n``` \r\n\r\nand the error message is this :\r\nError occurred during initialization of boot layer\r\njava.lang.module.FindException: Unable to derive module descriptor for C:\\Users\\adria\\kafka_2.13-3.1.0\\libs\\jackson-module-scala_2.13-2.12.3.jar\r\nCaused by: java.lang.IllegalArgumentException: jackson.module.scala.2.13: Invalid module name: &#39;2&#39; is not a Java identifier\r\n\r\nI can understand somewhat but not enough to get anywhere near solving it. Thanks for the help.\r\n","title":"Kafka in Eclipse","body":"<p>I am trying to use the code from a youtube tutorial to set up Kafka with Eclipse. The thing is I finally managed to set up the servers and the code, as far as my knowledge goes, seems fine to me. The problem is that I have to import files from Kafka to make the program work and it seems there has been a problem with the module dependencies. I already looked up some questions which told me to install new software which I did and it still does not work.</p>\n<p>The code looks like this</p>\n<pre><code>import java.util.Properties;\n\nimport org.apache.kafka.clients.producer.KafkaProducer;\nimport org.apache.kafka.clients.producer.Producer;\nimport org.apache.kafka.clients.producer.ProducerRecord;\n\npublic class Produce {\n\n    public static void main(String [] args) {\n\n        // properties for producer\n        Properties props = new Properties();\n        props.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\n        props.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.IntegerSerializer&quot;);\n        props.put(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n\n        // create Producer\n        Producer&lt;Integer, String&gt; producer = new KafkaProducer&lt;Integer,String&gt;(props);\n        \n        // send messages to my topic\n        for(int i = 0; i &lt; 1; i++) {\n        ProducerRecord&lt;Integer, String&gt; producerRecord = new ProducerRecord&lt;Integer, String&gt;(&quot;Test Topic&quot;, i, &quot;Test Message #&quot; +  Integer.toString(i));\n        producer.send(producerRecord);\n        }\n            \n        // close Producer\n        \n        producer.close();\n    }\n    }\n</code></pre>\n<p>and the error message is this :\nError occurred during initialization of boot layer\njava.lang.module.FindException: Unable to derive module descriptor for C:\\Users\\adria\\kafka_2.13-3.1.0\\libs\\jackson-module-scala_2.13-2.12.3.jar\nCaused by: java.lang.IllegalArgumentException: jackson.module.scala.2.13: Invalid module name: '2' is not a Java identifier</p>\n<p>I can understand somewhat but not enough to get anywhere near solving it. Thanks for the help.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8431,"page":1561,"page_size":100}
