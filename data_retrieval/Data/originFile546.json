{"items":[{"tags":["java","keycloak"],"owner":{"account_id":1811030,"reputation":1073,"user_id":1647105,"accept_rate":59,"display_name":"George"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679843509,"creation_date":1679843509,"question_id":75848591,"body_markdown":"keycloak **authorization** (not authentication) service documentation [here][1] mentions &quot;Support for custom access control mechanisms (ACMs) through a Service Provider Interface (SPI)&quot;. I take that to mean I can write my own custom java code to evaluate authorization requests. There is no documentation on creating this type of service provider interface. Can someone point me towards an example or starting point?\r\n\r\n\r\n  [1]: https://www.keycloak.org/docs/latest/authorization_services/#_getting_started_overview","title":"where can I find a keycloak authorization SPI example?","body":"<p>keycloak <strong>authorization</strong> (not authentication) service documentation <a href=\"https://www.keycloak.org/docs/latest/authorization_services/#_getting_started_overview\" rel=\"nofollow noreferrer\">here</a> mentions &quot;Support for custom access control mechanisms (ACMs) through a Service Provider Interface (SPI)&quot;. I take that to mean I can write my own custom java code to evaluate authorization requests. There is no documentation on creating this type of service provider interface. Can someone point me towards an example or starting point?</p>\n"},{"tags":["java","redis","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1679803528,"post_id":75844830,"comment_id":133784895,"body_markdown":"It&#39;s definitely a wrong way because it breaks Reactor flow. Can you show a part of the code related to the caching itself?","body":"It&#39;s definitely a wrong way because it breaks Reactor flow. Can you show a part of the code related to the caching itself?"},{"owner":{"account_id":996011,"reputation":3477,"user_id":1011926,"accept_rate":78,"display_name":"Chris"},"score":0,"creation_date":1679843514,"post_id":75844830,"comment_id":133789486,"body_markdown":"I&#39;ve updated the question, if I understood you correctly. I&#39;m just doing a standard `@Cacheable` on the service class","body":"I&#39;ve updated the question, if I understood you correctly. I&#39;m just doing a standard <code>@Cacheable</code> on the service class"},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1679846763,"post_id":75844830,"comment_id":133790087,"body_markdown":"Ah, I see. I guess `@Cacheable` doesn&#39;t support Reactor yet. There are some discussions like https://github.com/spring-projects/spring-framework/issues/17920 but to my understanding there is no standard way yet an you have to implement caching part manually not relying on `@Cacheable`","body":"Ah, I see. I guess <code>@Cacheable</code> doesn&#39;t support Reactor yet. There are some discussions like <a href=\"https://github.com/spring-projects/spring-framework/issues/17920\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/issues/17920</a> but to my understanding there is no standard way yet an you have to implement caching part manually not relying on <code>@Cacheable</code>"}],"owner":{"account_id":996011,"reputation":3477,"user_id":1011926,"accept_rate":78,"display_name":"Chris"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1435,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679843480,"creation_date":1679782466,"question_id":75844830,"body_markdown":"I have a `CacheConfig` where I&#39;ve setup the `ReactiveRedisConnectionFactory` and I can connect to Redis. However when I attempt to save anything into the cache it fails due to \r\n\r\n```\r\nCaused by: java.lang.IllegalArgumentException: DefaultSerializer requires a Serializable payload but received an object of type [reactor.core.publisher.MonoFlatMapMany]\r\n\tat org.springframework.core.serializer.DefaultSerializer.serialize(DefaultSerializer.java:43) ~[spring-core-6.0.7.jar:6.0.7]\r\n\tat org.springframework.core.serializer.Serializer.serializeToByteArray(Serializer.java:56) ~[spring-core-6.0.7.jar:6.0.7]\r\n\tat org.springframework.core.serializer.support.SerializingConverter.convert(SerializingConverter.java:60) ~[spring-core-6.0.7.jar:6.0.7]\r\n```\r\n\r\nI think the problem is I can&#39;t serialize Flux/Mono objects so I&#39;ve attempted to write a custom serializer to handle this by doing it manually myself, but I don&#39;t think I&#39;m able to do that without calling `.block()` on `Flux` objects so I can get their contents into a `byte[]`. \r\n\r\nMy cache config:\r\n```java\r\n@EnableCaching\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class CacheConfig implements CachingConfigurer {\r\n\r\n    private final ObjectMapper objectMapper;\r\n\r\n    @Bean\r\n    public LettuceConnectionFactory redisConnectionFactory() {\r\n        LettuceClientConfiguration clientConfig = LettuceClientConfiguration.builder()\r\n                .commandTimeout(Duration.ofSeconds(2))\r\n                .shutdownTimeout(Duration.ZERO)\r\n                .build();\r\n\r\n        RedisStandaloneConfiguration serverConfig = new RedisStandaloneConfiguration(&quot;localhost&quot;, 6379);\r\n\r\n        return new LettuceConnectionFactory(serverConfig, clientConfig);\r\n    }\r\n\r\n    @Bean\r\n    public CacheManager cacheManager() {\r\n        RedisCacheConfiguration cacheConfig = RedisCacheConfiguration.defaultCacheConfig()\r\n                .entryTtl(Duration.ofMinutes(5))\r\n                .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(new ReactiveRedisSerializer&lt;&gt;(objectMapper)));\r\n\r\n        return RedisCacheManager.builder(redisConnectionFactory())\r\n                .cacheDefaults(cacheConfig)\r\n                .build();\r\n    }\r\n\r\n    @Override\r\n    public CacheResolver cacheResolver() {\r\n        return new SimpleCacheResolver(cacheManager());\r\n    }\r\n}\r\n```\r\n\r\nAnd the code I&#39;ve got for the `ReactiveRedisSerializer` which you can see is blocking and will throw ``\r\n\r\n```java\r\n@Slf4j\r\n@RequiredArgsConstructor\r\npublic class ReactiveRedisSerializer&lt;T&gt; implements RedisSerializer&lt;T&gt; {\r\n\r\n    private final ObjectMapper objectMapper;\r\n\r\n    @Override\r\n       @Override\r\n    public byte[] serialize(T t) throws SerializationException {\r\n        if (t == null) {\r\n            return null;\r\n        }\r\n\r\n        if (t instanceof Mono&lt;?&gt; mono) {\r\n            try {\r\n                return objectMapper.writeValueAsBytes(mono.toFuture().get());\r\n            } catch (JsonProcessingException | InterruptedException | ExecutionException e) {\r\n                throw new SerializationException(&quot;Failed to serialize Mono&quot;, e);\r\n            }\r\n        }\r\n\r\n        if (t instanceof Flux&lt;?&gt; flux) {\r\n            try {\r\n                List&lt;?&gt; list = flux.collectList().block(); // How to avoid doing this?\r\n                return objectMapper.writeValueAsBytes(list);\r\n            } catch (JsonProcessingException e) {\r\n                throw new SerializationException(&quot;Failed to serialize Flux&quot;, e);\r\n            }\r\n        }\r\n\r\n        try {\r\n            return objectMapper.writeValueAsString(t).getBytes(StandardCharsets.UTF_8);\r\n        } catch (JsonProcessingException e) {\r\n            throw new SerializationException(&quot;Failed to serialize object&quot;, e);\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public T deserialize(byte[] bytes) throws SerializationException {\r\n        if (bytes == null) {\r\n            return null;\r\n        }\r\n\r\n        try {\r\n            return (T) objectMapper.readValue(bytes, Object.class);\r\n        } catch (Exception e) {\r\n            throw new SerializationException(&quot;Failed to deserialize object&quot;, e);\r\n        }\r\n    }\r\n}\r\n```\r\nThis doesn&#39;t feel like the right way to go, so is there a supported &quot;out the box&quot; approach here?\r\n\r\nEdit: \r\n\r\nI&#39;m adding data to the cache in the very standard Spring way\r\n\r\n```java\r\n@Cacheable(cacheNames = &quot;placesCache&quot;)\r\npublic Flux&lt;Place&gt; getPlaces(final PlaceRequest placeRequest) {\r\n\r\n    final String query = &quot;%s in %s&quot;.formatted(placeRequest.vendorType(), placeRequest.city());\r\n\r\n    return googleMapsService\r\n            .textSearch(query)\r\n            .flatMapMany(response -&gt; placeMapper.toPlaces(response)\r\n                    .map(place -&gt; place.withQuery(query).withVendorType(placeRequest.vendorType())));\r\n}\r\n```\r\nNothing special about this. \r\n","title":"Webflux with reactive redis cache","body":"<p>I have a <code>CacheConfig</code> where I've setup the <code>ReactiveRedisConnectionFactory</code> and I can connect to Redis. However when I attempt to save anything into the cache it fails due to</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: DefaultSerializer requires a Serializable payload but received an object of type [reactor.core.publisher.MonoFlatMapMany]\n    at org.springframework.core.serializer.DefaultSerializer.serialize(DefaultSerializer.java:43) ~[spring-core-6.0.7.jar:6.0.7]\n    at org.springframework.core.serializer.Serializer.serializeToByteArray(Serializer.java:56) ~[spring-core-6.0.7.jar:6.0.7]\n    at org.springframework.core.serializer.support.SerializingConverter.convert(SerializingConverter.java:60) ~[spring-core-6.0.7.jar:6.0.7]\n</code></pre>\n<p>I think the problem is I can't serialize Flux/Mono objects so I've attempted to write a custom serializer to handle this by doing it manually myself, but I don't think I'm able to do that without calling <code>.block()</code> on <code>Flux</code> objects so I can get their contents into a <code>byte[]</code>.</p>\n<p>My cache config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableCaching\n@Configuration\n@RequiredArgsConstructor\npublic class CacheConfig implements CachingConfigurer {\n\n    private final ObjectMapper objectMapper;\n\n    @Bean\n    public LettuceConnectionFactory redisConnectionFactory() {\n        LettuceClientConfiguration clientConfig = LettuceClientConfiguration.builder()\n                .commandTimeout(Duration.ofSeconds(2))\n                .shutdownTimeout(Duration.ZERO)\n                .build();\n\n        RedisStandaloneConfiguration serverConfig = new RedisStandaloneConfiguration(&quot;localhost&quot;, 6379);\n\n        return new LettuceConnectionFactory(serverConfig, clientConfig);\n    }\n\n    @Bean\n    public CacheManager cacheManager() {\n        RedisCacheConfiguration cacheConfig = RedisCacheConfiguration.defaultCacheConfig()\n                .entryTtl(Duration.ofMinutes(5))\n                .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(new ReactiveRedisSerializer&lt;&gt;(objectMapper)));\n\n        return RedisCacheManager.builder(redisConnectionFactory())\n                .cacheDefaults(cacheConfig)\n                .build();\n    }\n\n    @Override\n    public CacheResolver cacheResolver() {\n        return new SimpleCacheResolver(cacheManager());\n    }\n}\n</code></pre>\n<p>And the code I've got for the <code>ReactiveRedisSerializer</code> which you can see is blocking and will throw ``</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@RequiredArgsConstructor\npublic class ReactiveRedisSerializer&lt;T&gt; implements RedisSerializer&lt;T&gt; {\n\n    private final ObjectMapper objectMapper;\n\n    @Override\n       @Override\n    public byte[] serialize(T t) throws SerializationException {\n        if (t == null) {\n            return null;\n        }\n\n        if (t instanceof Mono&lt;?&gt; mono) {\n            try {\n                return objectMapper.writeValueAsBytes(mono.toFuture().get());\n            } catch (JsonProcessingException | InterruptedException | ExecutionException e) {\n                throw new SerializationException(&quot;Failed to serialize Mono&quot;, e);\n            }\n        }\n\n        if (t instanceof Flux&lt;?&gt; flux) {\n            try {\n                List&lt;?&gt; list = flux.collectList().block(); // How to avoid doing this?\n                return objectMapper.writeValueAsBytes(list);\n            } catch (JsonProcessingException e) {\n                throw new SerializationException(&quot;Failed to serialize Flux&quot;, e);\n            }\n        }\n\n        try {\n            return objectMapper.writeValueAsString(t).getBytes(StandardCharsets.UTF_8);\n        } catch (JsonProcessingException e) {\n            throw new SerializationException(&quot;Failed to serialize object&quot;, e);\n        }\n    }\n\n\n    @Override\n    public T deserialize(byte[] bytes) throws SerializationException {\n        if (bytes == null) {\n            return null;\n        }\n\n        try {\n            return (T) objectMapper.readValue(bytes, Object.class);\n        } catch (Exception e) {\n            throw new SerializationException(&quot;Failed to deserialize object&quot;, e);\n        }\n    }\n}\n</code></pre>\n<p>This doesn't feel like the right way to go, so is there a supported &quot;out the box&quot; approach here?</p>\n<p>Edit:</p>\n<p>I'm adding data to the cache in the very standard Spring way</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Cacheable(cacheNames = &quot;placesCache&quot;)\npublic Flux&lt;Place&gt; getPlaces(final PlaceRequest placeRequest) {\n\n    final String query = &quot;%s in %s&quot;.formatted(placeRequest.vendorType(), placeRequest.city());\n\n    return googleMapsService\n            .textSearch(query)\n            .flatMapMany(response -&gt; placeMapper.toPlaces(response)\n                    .map(place -&gt; place.withQuery(query).withVendorType(placeRequest.vendorType())));\n}\n</code></pre>\n<p>Nothing special about this.</p>\n"},{"tags":["java","arrays","object"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1679844979,"post_id":75848492,"comment_id":133789765,"body_markdown":"You did everything right **except** for writing code to actually print the resulting array.","body":"You did everything right <b>except</b> for writing code to actually print the resulting array."}],"owner":{"account_id":28129946,"reputation":1,"user_id":21494716,"display_name":"javaNewbie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679842993,"answer_count":0,"score":0,"last_activity_date":1679843042,"creation_date":1679842759,"question_id":75848492,"body_markdown":"Why do i only get the location and not the result when i call the method? I thought I did everything right but seems like I didn&#39;t, since the output is: [I@f6f4d33\r\n\r\n```\r\npublic class ExtremaElements {\r\n\r\n    public static int[] computeMinMax(int[] a) {\r\n        if(a.length == 0){\r\n            throw new IllegalArgumentException();\r\n        }\r\n        if(a.length == 1){\r\n           return new int[] {a[0], a[0]};\r\n        }\r\n        int min = a[0];\r\n        int max = a[1];\r\n        if(min &gt; max){\r\n            min = a[1];\r\n            max = a[0];\r\n        }\r\n        for(int i = 2; i &lt; a.length; i++){\r\n            if(a[i] &lt; min){\r\n                min = a[i];\r\n            } else if(a[i] &gt; max){\r\n                max = a[i];\r\n            }\r\n            return new int[] {min, max};\r\n\r\n        }\r\n        return new int[] {min, max};\r\n    }\r\n    public static void main (String[]args){\r\n        ExtremaElements bob = new ExtremaElements();\r\n        int[] array = {7, 9, 10, 2, 23, 17, 15};\r\n\r\n        System.out.println(bob.computeMinMax(array));\r\n    }\r\n}\r\n```\r\n\r\nI was expecting the result to be: 2, 23 ","title":"Why do i only get the location and not the result when i call the method?","body":"<p>Why do i only get the location and not the result when i call the method? I thought I did everything right but seems like I didn't, since the output is: [I@f6f4d33</p>\n<pre><code>public class ExtremaElements {\n\n    public static int[] computeMinMax(int[] a) {\n        if(a.length == 0){\n            throw new IllegalArgumentException();\n        }\n        if(a.length == 1){\n           return new int[] {a[0], a[0]};\n        }\n        int min = a[0];\n        int max = a[1];\n        if(min &gt; max){\n            min = a[1];\n            max = a[0];\n        }\n        for(int i = 2; i &lt; a.length; i++){\n            if(a[i] &lt; min){\n                min = a[i];\n            } else if(a[i] &gt; max){\n                max = a[i];\n            }\n            return new int[] {min, max};\n\n        }\n        return new int[] {min, max};\n    }\n    public static void main (String[]args){\n        ExtremaElements bob = new ExtremaElements();\n        int[] array = {7, 9, 10, 2, 23, 17, 15};\n\n        System.out.println(bob.computeMinMax(array));\n    }\n}\n</code></pre>\n<p>I was expecting the result to be: 2, 23</p>\n"},{"tags":["java","spring","spring-boot","kotlin","spring-integration-ip"],"answers":[{"tags":[],"owner":{"account_id":4352142,"reputation":528,"user_id":3552082,"accept_rate":83,"display_name":"Romain-p"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679842311,"creation_date":1679842311,"answer_id":75848435,"question_id":75847515,"body_markdown":"Adding a simple component extending `ApplicationEventPublisher` solved it. Now all listeners are working as expected\r\n\r\n```kotlin\r\n@Component\r\nclass TcpController: ApplicationEventPublisher {\r\n    @EventListener\r\n    fun onSocketConnect(event: TcpConnectionOpenEvent) {\r\n        println(&quot;Opened ${event.connectionId}&quot;)\r\n        val con = event.source as TcpNioConnection\r\n        val ip = (con.socketInfo.remoteSocketAddress as InetSocketAddress).address.hostAddress\r\n        \r\n        println(&quot;IP: $ip&quot;)\r\n    }\r\n\r\n    @EventListener\r\n    fun onSocketClose(event: TcpConnectionCloseEvent) {\r\n        println(&quot;Closed ${event.connectionId}&quot;)\r\n    }\r\n\r\n    @EventListener\r\n    fun onSocketIdle(event: TcpConnectionExceptionEvent) {\r\n        println(&quot;Idle ${event.connectionId}&quot;)\r\n    }\r\n```\r\nI hope it helps!","title":"How to handle socket open/close/error events using spring boot integration ip","body":"<p>Adding a simple component extending <code>ApplicationEventPublisher</code> solved it. Now all listeners are working as expected</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Component\nclass TcpController: ApplicationEventPublisher {\n    @EventListener\n    fun onSocketConnect(event: TcpConnectionOpenEvent) {\n        println(&quot;Opened ${event.connectionId}&quot;)\n        val con = event.source as TcpNioConnection\n        val ip = (con.socketInfo.remoteSocketAddress as InetSocketAddress).address.hostAddress\n        \n        println(&quot;IP: $ip&quot;)\n    }\n\n    @EventListener\n    fun onSocketClose(event: TcpConnectionCloseEvent) {\n        println(&quot;Closed ${event.connectionId}&quot;)\n    }\n\n    @EventListener\n    fun onSocketIdle(event: TcpConnectionExceptionEvent) {\n        println(&quot;Idle ${event.connectionId}&quot;)\n    }\n</code></pre>\n<p>I hope it helps!</p>\n"}],"owner":{"account_id":4352142,"reputation":528,"user_id":3552082,"accept_rate":83,"display_name":"Romain-p"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679842311,"creation_date":1679831062,"question_id":75847515,"body_markdown":"I&#39;m using spring boot and integration libraries in order to use a custom TCP/IP protocol in my application.\r\n\r\nHere the configuration:\r\n```kotlin\r\n@EnableIntegration\r\n@Configuration\r\nclass TcpServerConfiguration {\r\n    @Value(&quot;\\${tcp.server.port}&quot;)\r\n    lateinit var port: Integer\r\n\r\n    @Bean\r\n    fun inboundGateway(controller: TcpController): IntegrationFlow {\r\n        return IntegrationFlow.from(Tcp.inboundGateway(Tcp.nioServer(port.toInt())\r\n            .leaveOpen(true)\r\n            .soTimeout(TimeUnit.MILLISECONDS.convert(1L, TimeUnit.MINUTES).toInt())\r\n            .soTcpNoDelay(true)\r\n            .directBuffers(true)\r\n            .deserializer(TcpCodecs.lengthHeader4())\r\n            .serializer(TcpCodecs.lengthHeader4()).get()))\r\n            .handle(controller)\r\n            .get()\r\n    }\r\n}\r\n\r\n@Component\r\nclass TcpController {\r\n    @ServiceActivator\r\n    fun onPacketReceived(data: ByteArray) {\r\n        val readable = String(data)\r\n        println(readable)\r\n    }\r\n}\r\n```\r\n\r\nI can communicate with my server, but I would like to be able to listen on the events propagated from my TCP server.\r\nFor example, I would like to be able to send a message to an incoming connection, but I can&#39;t catch the events, I get errors like this:\r\n\r\n```\r\no.s.i.i.tcp.connection.TcpNioConnection  : No publisher available to publish TcpConnectionOpenEvent [source=TcpNioConnection:127.0.0.1:50408:4561:672dbfcb-d560-46d2-8edb-603f5557cfc1], [factory=unknown, connectionId=127.0.0.1:50408:4561:672dbfcb-d560-46d2-8edb-603f5557cfc1] **OPENED**\r\n```\r\n\r\nUnfortunely such handler is never reached and the error keeps going..\r\n```kotlin\r\n    @EventListener\r\n    fun onSocketConnect(event: TcpConnectionOpenEvent) {\r\n        println(&quot;welcome ${event.connectionId}&quot;)\r\n    }\r\n```","title":"How to handle socket open/close/error events using spring boot integration ip","body":"<p>I'm using spring boot and integration libraries in order to use a custom TCP/IP protocol in my application.</p>\n<p>Here the configuration:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@EnableIntegration\n@Configuration\nclass TcpServerConfiguration {\n    @Value(&quot;\\${tcp.server.port}&quot;)\n    lateinit var port: Integer\n\n    @Bean\n    fun inboundGateway(controller: TcpController): IntegrationFlow {\n        return IntegrationFlow.from(Tcp.inboundGateway(Tcp.nioServer(port.toInt())\n            .leaveOpen(true)\n            .soTimeout(TimeUnit.MILLISECONDS.convert(1L, TimeUnit.MINUTES).toInt())\n            .soTcpNoDelay(true)\n            .directBuffers(true)\n            .deserializer(TcpCodecs.lengthHeader4())\n            .serializer(TcpCodecs.lengthHeader4()).get()))\n            .handle(controller)\n            .get()\n    }\n}\n\n@Component\nclass TcpController {\n    @ServiceActivator\n    fun onPacketReceived(data: ByteArray) {\n        val readable = String(data)\n        println(readable)\n    }\n}\n</code></pre>\n<p>I can communicate with my server, but I would like to be able to listen on the events propagated from my TCP server.\nFor example, I would like to be able to send a message to an incoming connection, but I can't catch the events, I get errors like this:</p>\n<pre><code>o.s.i.i.tcp.connection.TcpNioConnection  : No publisher available to publish TcpConnectionOpenEvent [source=TcpNioConnection:127.0.0.1:50408:4561:672dbfcb-d560-46d2-8edb-603f5557cfc1], [factory=unknown, connectionId=127.0.0.1:50408:4561:672dbfcb-d560-46d2-8edb-603f5557cfc1] **OPENED**\n</code></pre>\n<p>Unfortunely such handler is never reached and the error keeps going..</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    @EventListener\n    fun onSocketConnect(event: TcpConnectionOpenEvent) {\n        println(&quot;welcome ${event.connectionId}&quot;)\n    }\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea","javafx"],"comments":[{"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"score":0,"creation_date":1679832774,"post_id":75847461,"comment_id":133787868,"body_markdown":"are both projects using gradle?","body":"are both projects using gradle?"},{"owner":{"account_id":27454054,"reputation":11,"user_id":20945806,"display_name":"randomnamme"},"score":0,"creation_date":1679832947,"post_id":75847461,"comment_id":133787897,"body_markdown":"no, only the second one","body":"no, only the second one"}],"answers":[{"tags":[],"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679841524,"creation_date":1679837068,"answer_id":75848016,"question_id":75847461,"body_markdown":"Seems like the only way in this case would be to build a jar in Project1 and reference it from the Project2 like so:\r\n\r\n```\r\ndependencies {\r\n    implementation files( &#39;../Project1/project1.jar&#39;)\r\n}\r\n```\r\n\r\nThe way you tried with `project( &#39;:Project1&#39; )` is only possible, if that project is also managed by gradle.\r\n\r\nUPDATE\r\n\r\nIf you use have both projects managed by Gradle, the only thing that was missing in your setup is the declaration in `Project2/settings.gradle` - NOT `build.gradle`, but `settings.gradle`\r\n\r\nProject2/settings.gradle\r\n```\r\ninclude &#39;Project1&#39;\r\nproject( &#39;:Project1&#39; ).projectDir = file &#39;../Project1&#39;\r\n```\r\n\r\nthen, the `implementation project(&quot;:Project1&quot;)` in build.gradle will work as desired.\r\n\r\nsee https://docs.gradle.org/current/userguide/fine_tuning_project_layout.html","title":"Gradle: Importing dependency from an existing module to another","body":"<p>Seems like the only way in this case would be to build a jar in Project1 and reference it from the Project2 like so:</p>\n<pre><code>dependencies {\n    implementation files( '../Project1/project1.jar')\n}\n</code></pre>\n<p>The way you tried with <code>project( ':Project1' )</code> is only possible, if that project is also managed by gradle.</p>\n<p>UPDATE</p>\n<p>If you use have both projects managed by Gradle, the only thing that was missing in your setup is the declaration in <code>Project2/settings.gradle</code> - NOT <code>build.gradle</code>, but <code>settings.gradle</code></p>\n<p>Project2/settings.gradle</p>\n<pre><code>include 'Project1'\nproject( ':Project1' ).projectDir = file '../Project1'\n</code></pre>\n<p>then, the <code>implementation project(&quot;:Project1&quot;)</code> in build.gradle will work as desired.</p>\n<p>see <a href=\"https://docs.gradle.org/current/userguide/fine_tuning_project_layout.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/fine_tuning_project_layout.html</a></p>\n"}],"owner":{"account_id":27454054,"reputation":11,"user_id":20945806,"display_name":"randomnamme"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679841524,"creation_date":1679830321,"question_id":75847461,"body_markdown":"I am using IntellijIDEA and my project structure is like this:\r\n\r\nProject:\r\n\r\n   -&gt; Project1 (this is a console app module)\r\n\r\n   -&gt; Project2 (this is a javaFX module, using gradle)\r\n\r\nI want to be able to use the code from Project1 in Project2. But everything seems so complicated, and there are a lot of explanations on internet, but let me be honest, they seem VERY UNHELPFUL.\r\n\r\nI tried adding this to the dependencies part in &#39;build.gradle&#39;:\r\n\r\n\r\n```\r\ndependencies {\r\n    [...]\r\n    implementation project(&quot;:Project1&quot;)\r\n}\r\n```\r\nBut I get this error:\r\n\r\n```\r\nA problem occurred evaluating root project &#39;Project2&#39;.\r\n&gt; Project with path &#39;:Project1&#39; could not be found in root project &#39;Project2&#39;.\r\n```\r\nI also opened the Project2 module settings and added the dependency there for Project1.\r\nHow can I make this work?\r\n","title":"Gradle: Importing dependency from an existing module to another","body":"<p>I am using IntellijIDEA and my project structure is like this:</p>\n<p>Project:</p>\n<p>-&gt; Project1 (this is a console app module)</p>\n<p>-&gt; Project2 (this is a javaFX module, using gradle)</p>\n<p>I want to be able to use the code from Project1 in Project2. But everything seems so complicated, and there are a lot of explanations on internet, but let me be honest, they seem VERY UNHELPFUL.</p>\n<p>I tried adding this to the dependencies part in 'build.gradle':</p>\n<pre><code>dependencies {\n    [...]\n    implementation project(&quot;:Project1&quot;)\n}\n</code></pre>\n<p>But I get this error:</p>\n<pre><code>A problem occurred evaluating root project 'Project2'.\n&gt; Project with path ':Project1' could not be found in root project 'Project2'.\n</code></pre>\n<p>I also opened the Project2 module settings and added the dependency there for Project1.\nHow can I make this work?</p>\n"},{"tags":["java","android","arrays"],"owner":{"account_id":28129680,"reputation":1,"user_id":21494478,"display_name":"soon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679839517,"creation_date":1679839517,"question_id":75848253,"body_markdown":"`public class HomePage extends Fragment {`\r\n\r\n```\r\n@Override\r\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n    View view = inflater.inflate(R.layout.fragment_home_page, container, false);\r\n\r\n    Toolbar toolbar = view.findViewById(R.id.toolbar);\r\n    ((AppCompatActivity) requireActivity()).setSupportActionBar(toolbar);\r\n\r\n    textView1 = view.findViewById(R.id.home_dog_name);\r\n    textView2 = view.findViewById(R.id.home_age_view);\r\n    homeTextView1 = view.findViewById(R.id.home_gender_view);\r\n\r\n    // ViewModelProvider 생성\r\n    ViewModelProvider viewModelProvider = new        ViewModelProvider(requireActivity());\r\n    // SettingViewModel 가져오기\r\n    SettingsViewModel settingViewModel = viewModelProvider.get(SettingsViewModel.class);\r\n\r\n    // LiveData를 이용해 데이터 변경 감지\r\n    settingViewModel.getName().observe(getViewLifecycleOwner(), name -&gt; textView1.setText(name));\r\n    settingViewModel.getAge().observe(getViewLifecycleOwner(), age -&gt; textView2.setText(age));\r\n    settingViewModel.getGender().observe(getViewLifecycleOwner(), gender -&gt; homeTextView1.setText(gender));\r\n\r\n    settingViewModel.getImageBase64().observe(getViewLifecycleOwner(), imageBase64 -&gt; {\r\n        if (!imageBase64.isEmpty()) {\r\n            byte[] decodedString = Base64.decode(imageBase64, Base64.DEFAULT);\r\n            Bitmap decodedByte = BitmapFactory.decodeByteArray(decodedString, 0, decodedString.length);\r\n            imageView1.setImageBitmap(decodedByte);\r\n        }\r\n    });\r\n\r\n    bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n    isCollected = false;\r\n\r\n    adapter = new ArrayAdapter&lt;String&gt;(getActivity(), R.layout.testview_layout, R.id.custom_text1);\r\n\r\n    homeButton = view.findViewById(R.id.home_button);\r\n    homeButton.setOnClickListener(v -&gt; {\r\n        if (checkSharedPreferences() &amp;&amp; checkBluetooth()) {\r\n            isCollected = !isCollected;\r\n            updateButton();\r\n        }\r\n    });\r\n\r\n    loadDataFromSharedPreferences();\r\n\r\n    return view;\r\n}\r\n\r\nprivate void loadDataFromSharedPreferences() {\r\n    SharedPreferences sharedPreferences = requireActivity().getSharedPreferences(&quot;settings_data&quot;, Context.MODE_PRIVATE);\r\n    name = sharedPreferences.getString(&quot;name&quot;, &quot;&quot;);\r\n    age = sharedPreferences.getString(&quot;age&quot;, &quot;&quot;);\r\n    gender = sharedPreferences.getString(&quot;gender&quot;, &quot;&quot;);\r\n    kg = sharedPreferences.getString(&quot;kg&quot;, &quot;&quot;);\r\n    bread = sharedPreferences.getString(&quot;bread&quot;, &quot;&quot;);\r\n    imageBase64 = sharedPreferences.getString(&quot;imageBase64&quot;, &quot;&quot;);\r\n\r\n    textView1.setText(name + &quot;의&quot; + &quot;\\n&quot; + &quot;하루&quot;);\r\n    textView2.setText(age);\r\n    homeTextView1.setText(gender);\r\n\r\n    if (!imageBase64.isEmpty()) {\r\n        byte[] decodedString = Base64.decode(imageBase64, Base64.DEFAULT);\r\n        Bitmap decodedByte = BitmapFactory.decodeByteArray(decodedString, 0, decodedString.length);\r\n        imageView1.setImageBitmap(decodedByte);\r\n    }\r\n}\r\n\r\nprivate boolean checkSharedPreferences() {\r\n    SharedPreferences sharedPreferences = requireActivity().getSharedPreferences(&quot;settings_data&quot;, Context.MODE_PRIVATE);\r\n    name = sharedPreferences.getString(&quot;name&quot;, &quot;&quot;);\r\n    age = sharedPreferences.getString(&quot;age&quot;, &quot;&quot;);\r\n    gender = sharedPreferences.getString(&quot;gender&quot;, &quot;&quot;);\r\n    kg = sharedPreferences.getString(&quot;kg&quot;, &quot;&quot;);\r\n    bread = sharedPreferences.getString(&quot;bread&quot;, &quot;&quot;);\r\n    imageBase64 = sharedPreferences.getString(&quot;imageBase64&quot;, &quot;&quot;);\r\n\r\n    return !name.isEmpty() &amp;&amp; !age.isEmpty() &amp;&amp; !gender.isEmpty() &amp;&amp; !kg.isEmpty() &amp;&amp; !bread.isEmpty() &amp;&amp; !imageBase64.isEmpty();\r\n}\r\n\r\nprivate boolean checkBluetooth() {\r\n    BluetoothAdapter bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n    if (bluetoothAdapter == null) {\r\n        Toast.makeText(getActivity(), &quot;블루투스를 지원하지 않는 기기입니다.&quot;, Toast.LENGTH_SHORT).show();\r\n        return false;\r\n    }\r\n\r\n    if (!bluetoothAdapter.isEnabled()) {\r\n        Intent enableBluetoothIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\n        startActivityForResult(enableBluetoothIntent, 1);\r\n        return false;\r\n    }\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n        if (ContextCompat.checkSelfPermission(getActivity(), Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED\r\n                || ContextCompat.checkSelfPermission(getActivity(), Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(getActivity(), new String[]{Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION}, 2);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    showBluetoothDeviceList();\r\n    return true;\r\n}\r\n\r\n\r\n@Override\r\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    if (requestCode == 2) {\r\n        if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n            // 권한이 승인된 후 처리할 작업을 여기에 작성하세요.\r\n            showBluetoothDeviceList();\r\n        } else {\r\n            Toast.makeText(getActivity(), &quot;위치 권한이 거부되었습니다.&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n}\r\n\r\nprivate void updateButton () {\r\n    if (isCollected) {\r\n        homeButton.setText(&quot;수집중&quot;);\r\n        homeButton.setBackgroundResource(R.drawable.btn_radius2);\r\n    } else {\r\n        homeButton.setText(&quot;수집&quot;);\r\n        homeButton.setBackgroundResource(R.drawable.btn_radius);\r\n    }\r\n}\r\n\r\n@SuppressLint(&quot;MissingPermission&quot;)\r\nprivate final BroadcastReceiver deviceFoundReceiver = new BroadcastReceiver() {\r\n    public void onReceive(Context context, Intent intent) {\r\n        String action = intent.getAction();\r\n\r\n        if (BluetoothDevice.ACTION_FOUND.equals(action)) {\r\n            BluetoothDevice device =           intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\r\n            if (adapter != null) {\r\n                adapter.add(device.getName() + &quot;\\n&quot; + device.getAddress());\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n@SuppressLint(&quot;MissingPermission&quot;)\r\nprivate final BroadcastReceiver discoveryFinishedReceiver = new BroadcastReceiver() {\r\n    public void onReceive(Context context, Intent intent) {\r\n        String action = intent.getAction();\r\n\r\n        if (BluetoothAdapter.ACTION_DISCOVERY_FINISHED.equals(action)) {\r\n            bluetoothAdapter.cancelDiscovery();\r\n        }\r\n    }\r\n};\r\n\r\n@SuppressLint(&quot;MissingPermission&quot;)\r\nprivate void showBluetoothDeviceList() {\r\n    Dialog dialog = new Dialog(getActivity());\r\n    dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n    dialog.setContentView(R.layout.custom_spinner_item);\r\n\r\n    ListView listView = dialog.findViewById(R.id.devices_list_view);\r\n    listView.setAdapter(adapter);\r\n\r\n    Set&lt;BluetoothDevice&gt; pairedDevices = bluetoothAdapter.getBondedDevices();\r\n    for (BluetoothDevice device : pairedDevices) {\r\n        adapter.add(device.getName() + &quot;\\n&quot; + device.getAddress());\r\n    }\r\n\r\n    IntentFilter filter1 = new IntentFilter(BluetoothDevice.ACTION_FOUND);\r\n    requireActivity().registerReceiver(deviceFoundReceiver, filter1);\r\n\r\n    IntentFilter filter2 = new IntentFilter(BluetoothAdapter.ACTION_DISCOVERY_FINISHED);\r\n    requireActivity().registerReceiver(discoveryFinishedReceiver, filter2);\r\n\r\n    if (bluetoothAdapter.isDiscovering()) {\r\n        bluetoothAdapter.cancelDiscovery();\r\n    }\r\n\r\n    bluetoothAdapter.startDiscovery();\r\n\r\n    listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n        @Override\r\n        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n            String deviceInfo = adapter.getItem(position);\r\n            String deviceAddress = deviceInfo.split(&quot;\\n&quot;)[1].trim();\r\n\r\n            // Connect to the device using the deviceAddress\r\n            // ...\r\n\r\n            dialog.dismiss();\r\n        }\r\n    });\r\n    dialog.show();\r\n}\r\n\r\n@Override\r\npublic void onDestroyView() {\r\n    super.onDestroyView();\r\n\r\n    requireActivity().unregisterReceiver(deviceFoundReceiver);\r\n    requireActivity().unregisterReceiver(discoveryFinishedReceiver);\r\n}\r\n```\r\n\r\n`}`\r\n\r\n`I am a beginner in Android Java coding. I am trying to set up 4 tabs using bottomNavigationView, and the current code is for the first tab. However, when I try to switch to the fourth tab, I keep encountering errors and I&#39;m not sure what the issue is.`\r\n\r\n`E/ArrayAdapter: You must supply a resource ID for a TextView`\r\n`D/AndroidRuntime: Shutting down VM`\r\n`E/AndroidRuntime: FATAL EXCEPTION: main`\r\n`Process: com.example.test_2, PID: 12515`\r\n`java.lang.IllegalStateException: ArrayAdapter requires the resource ID to be a TextView`\r\n`at android.widget.ArrayAdapter.createViewFromResource(ArrayAdapter.java:446)`\r\n`at android.widget.ArrayAdapter.getView(ArrayAdapter.java:416)`\r\n`at android.widget.AbsSpinner.onMeasure(AbsSpinner.java:206)`\r\n`at android.widget.Spinner.onMeasure(Spinner.java:614)`\r\n`at android.view.View.measure(View.java:25466)`\r\n`at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)`\r\n`at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)`\r\n`at android.widget.LinearLayout.measureHorizontal(LinearLayout.java:1204)`\r\n`at android.widget.LinearLayout.onMeasure(LinearLayout.java:723)`\r\n`at android.view.View.measure(View.java:25466)`\r\n`at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)`\r\n`at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)`\r\n`at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)`\r\n`at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)`\r\n`at android.view.View.measure(View.java:25466)`\r\n`at at androidx.constraintlayout.core.widgets.analyzer.BasicMeasure.measureChildren(BasicMeasure.java:134)`\r\n`at androidx.constraintlayout.core.widgets.analyzer.BasicMeasure.solverMeasure(BasicMeasure.java:278)`\r\n`at android.view.View.measure(View.java:25466)`\r\n`at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)`\r\n`at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)`\r\n`at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)`\r\n`at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)`\r\n`at android.view.View.measure(View.java:25466)`\r\n`at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)`\r\n`at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)`\r\n`at android.view.View.measure(View.java:25466)`\r\n`at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)`\r\n`at`\r\n`at android.view.View.measure(View.java:25466)`\r\n`at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)`\r\n`at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)`\r\n`at android.view.View.measure(View.java:25466)`\r\n`at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)`\r\n`at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)`\r\n`at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)`\r\n`at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)`\r\n`at android.view.View.measure(View.java:25466)`\r\n`at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)`\r\n`at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)`\r\n`at android.view.View.measure(View.java:25466)`\r\n`at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)`\r\n`at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)`\r\n`at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)`\r\n`at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)`\r\n`at android.view.View.measure(View.java:25466)`\r\n`at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)`\r\n`E/AndroidRuntime:     at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)`\r\n`at com.android.internal.policy.DecorView.onMeasure(DecorView.java:747)`\r\n`at android.view.View.measure(View.java:25466)`\r\n`at android.view.Choreographer$CallbackRecord.run(Choreographer.java:972)`\r\n`at android.view.Choreographer.doCallbacks(Choreographer.java:796)`\r\n`at android.view.Choreographer.doFrame(Choreographer.java:731)`\r\n`at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:957)`\r\n`at android.os.Handler.handleCallback(Handler.java:938)`\r\n`at android.os.Handler.dispatchMessage(Handler.java:99)`\r\n`at android.os.Looper.loop(Looper.java:223)`\r\n`at android.app.ActivityThread.main(ActivityThread.java:7656)`\r\n`at java.lang.reflect.Method.invoke(Native Method)`\r\n`at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)`\r\n`at java.lang.ClassCastException: android.widget.LinearLayout cannot be cast to android.widget.TextView`\r\n`at android.widget.ArrayAdapter.createViewFromResource(ArrayAdapter.java:433)`\r\n`... 72 more`\r\n`To create a custom dialog xml file, I was told that I needed to make a separate TextView. So, I created an xml file called test view_layout, and the TextView has an id value of custom_text1. The layout for the custom dialog is named custom_spinner_item.`","title":"android java do not skip to another tab","body":"<p><code>public class HomePage extends Fragment {</code></p>\n<pre><code>@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n    View view = inflater.inflate(R.layout.fragment_home_page, container, false);\n\n    Toolbar toolbar = view.findViewById(R.id.toolbar);\n    ((AppCompatActivity) requireActivity()).setSupportActionBar(toolbar);\n\n    textView1 = view.findViewById(R.id.home_dog_name);\n    textView2 = view.findViewById(R.id.home_age_view);\n    homeTextView1 = view.findViewById(R.id.home_gender_view);\n\n    // ViewModelProvider 생성\n    ViewModelProvider viewModelProvider = new        ViewModelProvider(requireActivity());\n    // SettingViewModel 가져오기\n    SettingsViewModel settingViewModel = viewModelProvider.get(SettingsViewModel.class);\n\n    // LiveData를 이용해 데이터 변경 감지\n    settingViewModel.getName().observe(getViewLifecycleOwner(), name -&gt; textView1.setText(name));\n    settingViewModel.getAge().observe(getViewLifecycleOwner(), age -&gt; textView2.setText(age));\n    settingViewModel.getGender().observe(getViewLifecycleOwner(), gender -&gt; homeTextView1.setText(gender));\n\n    settingViewModel.getImageBase64().observe(getViewLifecycleOwner(), imageBase64 -&gt; {\n        if (!imageBase64.isEmpty()) {\n            byte[] decodedString = Base64.decode(imageBase64, Base64.DEFAULT);\n            Bitmap decodedByte = BitmapFactory.decodeByteArray(decodedString, 0, decodedString.length);\n            imageView1.setImageBitmap(decodedByte);\n        }\n    });\n\n    bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n    isCollected = false;\n\n    adapter = new ArrayAdapter&lt;String&gt;(getActivity(), R.layout.testview_layout, R.id.custom_text1);\n\n    homeButton = view.findViewById(R.id.home_button);\n    homeButton.setOnClickListener(v -&gt; {\n        if (checkSharedPreferences() &amp;&amp; checkBluetooth()) {\n            isCollected = !isCollected;\n            updateButton();\n        }\n    });\n\n    loadDataFromSharedPreferences();\n\n    return view;\n}\n\nprivate void loadDataFromSharedPreferences() {\n    SharedPreferences sharedPreferences = requireActivity().getSharedPreferences(&quot;settings_data&quot;, Context.MODE_PRIVATE);\n    name = sharedPreferences.getString(&quot;name&quot;, &quot;&quot;);\n    age = sharedPreferences.getString(&quot;age&quot;, &quot;&quot;);\n    gender = sharedPreferences.getString(&quot;gender&quot;, &quot;&quot;);\n    kg = sharedPreferences.getString(&quot;kg&quot;, &quot;&quot;);\n    bread = sharedPreferences.getString(&quot;bread&quot;, &quot;&quot;);\n    imageBase64 = sharedPreferences.getString(&quot;imageBase64&quot;, &quot;&quot;);\n\n    textView1.setText(name + &quot;의&quot; + &quot;\\n&quot; + &quot;하루&quot;);\n    textView2.setText(age);\n    homeTextView1.setText(gender);\n\n    if (!imageBase64.isEmpty()) {\n        byte[] decodedString = Base64.decode(imageBase64, Base64.DEFAULT);\n        Bitmap decodedByte = BitmapFactory.decodeByteArray(decodedString, 0, decodedString.length);\n        imageView1.setImageBitmap(decodedByte);\n    }\n}\n\nprivate boolean checkSharedPreferences() {\n    SharedPreferences sharedPreferences = requireActivity().getSharedPreferences(&quot;settings_data&quot;, Context.MODE_PRIVATE);\n    name = sharedPreferences.getString(&quot;name&quot;, &quot;&quot;);\n    age = sharedPreferences.getString(&quot;age&quot;, &quot;&quot;);\n    gender = sharedPreferences.getString(&quot;gender&quot;, &quot;&quot;);\n    kg = sharedPreferences.getString(&quot;kg&quot;, &quot;&quot;);\n    bread = sharedPreferences.getString(&quot;bread&quot;, &quot;&quot;);\n    imageBase64 = sharedPreferences.getString(&quot;imageBase64&quot;, &quot;&quot;);\n\n    return !name.isEmpty() &amp;&amp; !age.isEmpty() &amp;&amp; !gender.isEmpty() &amp;&amp; !kg.isEmpty() &amp;&amp; !bread.isEmpty() &amp;&amp; !imageBase64.isEmpty();\n}\n\nprivate boolean checkBluetooth() {\n    BluetoothAdapter bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n    if (bluetoothAdapter == null) {\n        Toast.makeText(getActivity(), &quot;블루투스를 지원하지 않는 기기입니다.&quot;, Toast.LENGTH_SHORT).show();\n        return false;\n    }\n\n    if (!bluetoothAdapter.isEnabled()) {\n        Intent enableBluetoothIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\n        startActivityForResult(enableBluetoothIntent, 1);\n        return false;\n    }\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        if (ContextCompat.checkSelfPermission(getActivity(), Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED\n                || ContextCompat.checkSelfPermission(getActivity(), Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(getActivity(), new String[]{Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION}, 2);\n            return false;\n        }\n    }\n\n    showBluetoothDeviceList();\n    return true;\n}\n\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    if (requestCode == 2) {\n        if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n            // 권한이 승인된 후 처리할 작업을 여기에 작성하세요.\n            showBluetoothDeviceList();\n        } else {\n            Toast.makeText(getActivity(), &quot;위치 권한이 거부되었습니다.&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n\nprivate void updateButton () {\n    if (isCollected) {\n        homeButton.setText(&quot;수집중&quot;);\n        homeButton.setBackgroundResource(R.drawable.btn_radius2);\n    } else {\n        homeButton.setText(&quot;수집&quot;);\n        homeButton.setBackgroundResource(R.drawable.btn_radius);\n    }\n}\n\n@SuppressLint(&quot;MissingPermission&quot;)\nprivate final BroadcastReceiver deviceFoundReceiver = new BroadcastReceiver() {\n    public void onReceive(Context context, Intent intent) {\n        String action = intent.getAction();\n\n        if (BluetoothDevice.ACTION_FOUND.equals(action)) {\n            BluetoothDevice device =           intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\n            if (adapter != null) {\n                adapter.add(device.getName() + &quot;\\n&quot; + device.getAddress());\n            }\n        }\n    }\n};\n\n@SuppressLint(&quot;MissingPermission&quot;)\nprivate final BroadcastReceiver discoveryFinishedReceiver = new BroadcastReceiver() {\n    public void onReceive(Context context, Intent intent) {\n        String action = intent.getAction();\n\n        if (BluetoothAdapter.ACTION_DISCOVERY_FINISHED.equals(action)) {\n            bluetoothAdapter.cancelDiscovery();\n        }\n    }\n};\n\n@SuppressLint(&quot;MissingPermission&quot;)\nprivate void showBluetoothDeviceList() {\n    Dialog dialog = new Dialog(getActivity());\n    dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\n    dialog.setContentView(R.layout.custom_spinner_item);\n\n    ListView listView = dialog.findViewById(R.id.devices_list_view);\n    listView.setAdapter(adapter);\n\n    Set&lt;BluetoothDevice&gt; pairedDevices = bluetoothAdapter.getBondedDevices();\n    for (BluetoothDevice device : pairedDevices) {\n        adapter.add(device.getName() + &quot;\\n&quot; + device.getAddress());\n    }\n\n    IntentFilter filter1 = new IntentFilter(BluetoothDevice.ACTION_FOUND);\n    requireActivity().registerReceiver(deviceFoundReceiver, filter1);\n\n    IntentFilter filter2 = new IntentFilter(BluetoothAdapter.ACTION_DISCOVERY_FINISHED);\n    requireActivity().registerReceiver(discoveryFinishedReceiver, filter2);\n\n    if (bluetoothAdapter.isDiscovering()) {\n        bluetoothAdapter.cancelDiscovery();\n    }\n\n    bluetoothAdapter.startDiscovery();\n\n    listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n            String deviceInfo = adapter.getItem(position);\n            String deviceAddress = deviceInfo.split(&quot;\\n&quot;)[1].trim();\n\n            // Connect to the device using the deviceAddress\n            // ...\n\n            dialog.dismiss();\n        }\n    });\n    dialog.show();\n}\n\n@Override\npublic void onDestroyView() {\n    super.onDestroyView();\n\n    requireActivity().unregisterReceiver(deviceFoundReceiver);\n    requireActivity().unregisterReceiver(discoveryFinishedReceiver);\n}\n</code></pre>\n<p><code>}</code></p>\n<p><code>I am a beginner in Android Java coding. I am trying to set up 4 tabs using bottomNavigationView, and the current code is for the first tab. However, when I try to switch to the fourth tab, I keep encountering errors and I'm not sure what the issue is.</code></p>\n<p><code>E/ArrayAdapter: You must supply a resource ID for a TextView</code>\n<code>D/AndroidRuntime: Shutting down VM</code>\n<code>E/AndroidRuntime: FATAL EXCEPTION: main</code>\n<code>Process: com.example.test_2, PID: 12515</code>\n<code>java.lang.IllegalStateException: ArrayAdapter requires the resource ID to be a TextView</code>\n<code>at android.widget.ArrayAdapter.createViewFromResource(ArrayAdapter.java:446)</code>\n<code>at android.widget.ArrayAdapter.getView(ArrayAdapter.java:416)</code>\n<code>at android.widget.AbsSpinner.onMeasure(AbsSpinner.java:206)</code>\n<code>at android.widget.Spinner.onMeasure(Spinner.java:614)</code>\n<code>at android.view.View.measure(View.java:25466)</code>\n<code>at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)</code>\n<code>at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)</code>\n<code>at android.widget.LinearLayout.measureHorizontal(LinearLayout.java:1204)</code>\n<code>at android.widget.LinearLayout.onMeasure(LinearLayout.java:723)</code>\n<code>at android.view.View.measure(View.java:25466)</code>\n<code>at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)</code>\n<code>at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)</code>\n<code>at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)</code>\n<code>at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)</code>\n<code>at android.view.View.measure(View.java:25466)</code>\n<code>at at androidx.constraintlayout.core.widgets.analyzer.BasicMeasure.measureChildren(BasicMeasure.java:134)</code>\n<code>at androidx.constraintlayout.core.widgets.analyzer.BasicMeasure.solverMeasure(BasicMeasure.java:278)</code>\n<code>at android.view.View.measure(View.java:25466)</code>\n<code>at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)</code>\n<code>at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)</code>\n<code>at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)</code>\n<code>at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)</code>\n<code>at android.view.View.measure(View.java:25466)</code>\n<code>at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)</code>\n<code>at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)</code>\n<code>at android.view.View.measure(View.java:25466)</code>\n<code>at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)</code>\n<code>at</code>\n<code>at android.view.View.measure(View.java:25466)</code>\n<code>at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)</code>\n<code>at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)</code>\n<code>at android.view.View.measure(View.java:25466)</code>\n<code>at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)</code>\n<code>at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)</code>\n<code>at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)</code>\n<code>at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)</code>\n<code>at android.view.View.measure(View.java:25466)</code>\n<code>at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)</code>\n<code>at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)</code>\n<code>at android.view.View.measure(View.java:25466)</code>\n<code>at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)</code>\n<code>at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)</code>\n<code>at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)</code>\n<code>at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)</code>\n<code>at android.view.View.measure(View.java:25466)</code>\n<code>at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)</code>\n<code>E/AndroidRuntime:     at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)</code>\n<code>at com.android.internal.policy.DecorView.onMeasure(DecorView.java:747)</code>\n<code>at android.view.View.measure(View.java:25466)</code>\n<code>at android.view.Choreographer$CallbackRecord.run(Choreographer.java:972)</code>\n<code>at android.view.Choreographer.doCallbacks(Choreographer.java:796)</code>\n<code>at android.view.Choreographer.doFrame(Choreographer.java:731)</code>\n<code>at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:957)</code>\n<code>at android.os.Handler.handleCallback(Handler.java:938)</code>\n<code>at android.os.Handler.dispatchMessage(Handler.java:99)</code>\n<code>at android.os.Looper.loop(Looper.java:223)</code>\n<code>at android.app.ActivityThread.main(ActivityThread.java:7656)</code>\n<code>at java.lang.reflect.Method.invoke(Native Method)</code>\n<code>at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)</code>\n<code>at java.lang.ClassCastException: android.widget.LinearLayout cannot be cast to android.widget.TextView</code>\n<code>at android.widget.ArrayAdapter.createViewFromResource(ArrayAdapter.java:433)</code>\n<code>... 72 more</code>\n<code>To create a custom dialog xml file, I was told that I needed to make a separate TextView. So, I created an xml file called test view_layout, and the TextView has an id value of custom_text1. The layout for the custom dialog is named custom_spinner_item.</code></p>\n"},{"tags":["java","exception","appium","appium-android","appium-java"],"answers":[{"tags":[],"owner":{"account_id":16581218,"reputation":1,"user_id":13612863,"display_name":"Itay Sasson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679837495,"creation_date":1679837495,"answer_id":75848061,"question_id":75731476,"body_markdown":"Appium is basically HTTP server.\r\nIn order to use the webdriver/client - you need a working server.\r\nYou can start the server locally with the following code:\r\n\r\n \r\n\r\n      public static void startService_3(){\r\n            AppiumServiceBuilder appiumServiceBuilder=new AppiumServiceBuilder()\r\n                    .withAppiumJS(new File(&quot;C:\\\\Users\\\\&quot; + &quot;{user}&quot; + &quot;\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\appium\\\\build\\\\lib\\\\main.js&quot;))\r\n                    .withArgument(GeneralServerFlag.LOG_LEVEL, &quot;warn&quot;)\r\n                    .withIPAddress(&quot;127.0.0.1&quot;)\r\n                    .usingAnyFreePort()\r\n                    .withArgument(GeneralServerFlag.SHELL);\r\n            service = AppiumDriverLocalService.buildService(appiumServiceBuilder);\r\n            service.start();\r\n        } \r\n\r\nThe pom.xml I&#39;m using contains:\r\n\r\n \r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n            &lt;version&gt;7.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;31.1-jre&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n                &lt;version&gt;3.141.59&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nPlease let me know if it helps you.","title":"Appium-my console shows seesion not created exception-How to resolve","body":"<p>Appium is basically HTTP server.\nIn order to use the webdriver/client - you need a working server.\nYou can start the server locally with the following code:</p>\n<pre><code>  public static void startService_3(){\n        AppiumServiceBuilder appiumServiceBuilder=new AppiumServiceBuilder()\n                .withAppiumJS(new File(&quot;C:\\\\Users\\\\&quot; + &quot;{user}&quot; + &quot;\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\appium\\\\build\\\\lib\\\\main.js&quot;))\n                .withArgument(GeneralServerFlag.LOG_LEVEL, &quot;warn&quot;)\n                .withIPAddress(&quot;127.0.0.1&quot;)\n                .usingAnyFreePort()\n                .withArgument(GeneralServerFlag.SHELL);\n        service = AppiumDriverLocalService.buildService(appiumServiceBuilder);\n        service.start();\n    } \n</code></pre>\n<p>The pom.xml I'm using contains:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;io.appium&lt;/groupId&gt;\n        &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n        &lt;version&gt;7.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;31.1-jre&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;3.141.59&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Please let me know if it helps you.</p>\n"}],"owner":{"account_id":28012959,"reputation":1,"user_id":21395177,"display_name":"Naveen Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679837495,"creation_date":1678787328,"question_id":75731476,"body_markdown":"i am using Appium V1.22.3 version\r\n\r\nScript\r\n\r\n```\r\npackage appium;\r\n\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\n\r\nimport org.openqa.selenium.remote.DesiredCapabilities;\r\n\r\nimport com.google.common.collect.ImmutableBiMap;\r\n\r\nimport io.appium.java_client.android.AndroidDriver;\r\nimport io.appium.java_client.remote.MobileCapabilityType;\r\nimport io.appium.java_client.remote.MobilePlatform;\r\n\r\npublic class appium {\r\n\tpublic static AndroidDriver driver;\r\n\r\n\tpublic static void main(String[] args) throws MalformedURLException {\r\n\t\tDesiredCapabilities cap=new DesiredCapabilities();\r\ncap.setCapability(&quot;platformName&quot;, &quot;Android&quot;);\r\ncap.setCapability(&quot;platformVersion&quot;, &quot;13&quot;);\r\ncap.setCapability(&quot;udid&quot;, &quot;3200c3acb4e9758b&quot;);\r\ncap.setCapability(&quot;devicemName&quot;, &quot;Galaxy M13&quot;);\r\ncap.setCapability(&quot;appPackage&quot;, &quot;com.google.android.calculator&quot;);\r\ncap.setCapability(&quot;appActivity&quot;, &quot;com.google.android.calculator.calculator&quot;);\r\nURL url=new URL(&quot;http:0.0.0.0:4723/wd/hub/&quot;);\r\ndriver =new AndroidDriver(cap);\r\nSystem.out.println(&quot;Done&quot;);\r\n\t\t\r\n\t\t}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\ni have watched multiple videos in yputube but still not yet issue resolved.can anyone suggest me a solution\r\n\r\n\r\n\r\n","title":"Appium-my console shows seesion not created exception-How to resolve","body":"<p>i am using Appium V1.22.3 version</p>\n<p>Script</p>\n<pre><code>package appium;\n\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\nimport org.openqa.selenium.remote.DesiredCapabilities;\n\nimport com.google.common.collect.ImmutableBiMap;\n\nimport io.appium.java_client.android.AndroidDriver;\nimport io.appium.java_client.remote.MobileCapabilityType;\nimport io.appium.java_client.remote.MobilePlatform;\n\npublic class appium {\n    public static AndroidDriver driver;\n\n    public static void main(String[] args) throws MalformedURLException {\n        DesiredCapabilities cap=new DesiredCapabilities();\ncap.setCapability(&quot;platformName&quot;, &quot;Android&quot;);\ncap.setCapability(&quot;platformVersion&quot;, &quot;13&quot;);\ncap.setCapability(&quot;udid&quot;, &quot;3200c3acb4e9758b&quot;);\ncap.setCapability(&quot;devicemName&quot;, &quot;Galaxy M13&quot;);\ncap.setCapability(&quot;appPackage&quot;, &quot;com.google.android.calculator&quot;);\ncap.setCapability(&quot;appActivity&quot;, &quot;com.google.android.calculator.calculator&quot;);\nURL url=new URL(&quot;http:0.0.0.0:4723/wd/hub/&quot;);\ndriver =new AndroidDriver(cap);\nSystem.out.println(&quot;Done&quot;);\n        \n        }\n\n}\n</code></pre>\n<p>i have watched multiple videos in yputube but still not yet issue resolved.can anyone suggest me a solution</p>\n"},{"tags":["java","eclipse","video","ffmpeg","runtime"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1679763425,"post_id":75843148,"comment_id":133780679,"body_markdown":"You are not consuming STDOUT+STDERR so it will freeze. Use `ProcessBuilder` and handle reading both streams before calling `waitFor()`.","body":"You are not consuming STDOUT+STDERR so it will freeze. Use <code>ProcessBuilder</code> and handle reading both streams before calling <code>waitFor()</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1679765124,"post_id":75843148,"comment_id":133780939,"body_markdown":"You might be able to simplify that to `ProcessBuilder pb = new ProcessBuilder(setCommand(args, outputFile, fileFormat));pb.inheritIO();pb.start();`","body":"You might be able to simplify that to <code>ProcessBuilder pb = new ProcessBuilder(setCommand(args, outputFile, fileFormat));pb.inheritIO();pb.start();</code>"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679764406,"creation_date":1679763998,"answer_id":75843278,"question_id":75843148,"body_markdown":"To reliably start a sub-process you need to handle the output streams or the process will block. Use `ProcessBuilder` to have better control of where output streams go - including redirect to `File`. \r\n\r\nHere is a simple example of how to handle launch which could be used in place of `Runtime.exec()` and sends STDOUT(/STDERR) to any stream you pass in:\r\n\r\n    // Example: start(yourCmd, null, System.out, null);\r\n    // or start(yourCmd, null, System.out, System.err);\r\n    // Don&#39;t forget to close streams you pass in - if appropriate\r\n\r\n    public static int start(String[] cmd, byte[] stdin, OutputStream stdout, OutputStream stderr)\r\n            throws IOException, InterruptedException\r\n    {\r\n        Objects.requireNonNull(cmd);\r\n        Objects.requireNonNull(stdout);\r\n        System.out.println(&quot;start &quot;+Arrays.toString(cmd));\r\n\r\n        // Launch and wait:\r\n        ProcessBuilder pb = new ProcessBuilder(cmd);\r\n        if (stderr == null) {\r\n            pb.redirectErrorStream(true);   // No STDERR =&gt; merge to STDOUT\r\n        }\r\n\r\n        Process p = pb.start();\r\n\r\n        // Consumes STDERR at same time as STDOUT, not doing this large streams can block I/O in the sub-process\r\n        Thread bg = null;\r\n        if (stderr != null) {\r\n            Runnable task = () -&gt; {\r\n                try(var from = p.getErrorStream()) {\r\n                    from.transferTo(stderr);\r\n                } catch(IOException io) {\r\n                    throw new UncheckedIOException(io);\r\n                }\r\n            };\r\n            bg = new Thread(task, &quot;STDERR&quot;);\r\n            bg.start();\r\n        }\r\n\r\n        // Send STDIN if required, and close STDIN stream\r\n        // NOTE!!! a huge input stream can lock up STDOUT/STDERR readers, you may need a background thread here too\r\n        try(OutputStream os = p.getOutputStream()) {\r\n            if (stdin != null) os.write(stdin);\r\n        }\r\n\r\n        // Move STDOUT to the output stream\r\n        try(var stdo = p.getInputStream()) {\r\n            stdo.transferTo(stdout);\r\n        }\r\n\r\n        int rc = p.waitFor();\r\n        if (bg != null) {\r\n            bg.join();\r\n        }\r\n\r\n        System.out.println(&quot;start &quot;+Arrays.toString(cmd));\r\n        System.out.println(&quot;Exit &quot;+p.pid()+&quot; CODE &quot;+rc +&#39; &#39;+(rc == 0 ? &quot;OK&quot;:&quot;**** ERROR ****&quot;)+&quot; &quot;+(stderr == null ? &quot;STDERR&gt;OUT&quot;:&quot;&quot;));\r\n        return rc;\r\n    }\r\n\r\n","title":"Runtime.exec() freezes on execution of ffmpeg Audio-replacing command that works in windows console","body":"<p>To reliably start a sub-process you need to handle the output streams or the process will block. Use <code>ProcessBuilder</code> to have better control of where output streams go - including redirect to <code>File</code>.</p>\n<p>Here is a simple example of how to handle launch which could be used in place of <code>Runtime.exec()</code> and sends STDOUT(/STDERR) to any stream you pass in:</p>\n<pre><code>// Example: start(yourCmd, null, System.out, null);\n// or start(yourCmd, null, System.out, System.err);\n// Don't forget to close streams you pass in - if appropriate\n\npublic static int start(String[] cmd, byte[] stdin, OutputStream stdout, OutputStream stderr)\n        throws IOException, InterruptedException\n{\n    Objects.requireNonNull(cmd);\n    Objects.requireNonNull(stdout);\n    System.out.println(&quot;start &quot;+Arrays.toString(cmd));\n\n    // Launch and wait:\n    ProcessBuilder pb = new ProcessBuilder(cmd);\n    if (stderr == null) {\n        pb.redirectErrorStream(true);   // No STDERR =&gt; merge to STDOUT\n    }\n\n    Process p = pb.start();\n\n    // Consumes STDERR at same time as STDOUT, not doing this large streams can block I/O in the sub-process\n    Thread bg = null;\n    if (stderr != null) {\n        Runnable task = () -&gt; {\n            try(var from = p.getErrorStream()) {\n                from.transferTo(stderr);\n            } catch(IOException io) {\n                throw new UncheckedIOException(io);\n            }\n        };\n        bg = new Thread(task, &quot;STDERR&quot;);\n        bg.start();\n    }\n\n    // Send STDIN if required, and close STDIN stream\n    // NOTE!!! a huge input stream can lock up STDOUT/STDERR readers, you may need a background thread here too\n    try(OutputStream os = p.getOutputStream()) {\n        if (stdin != null) os.write(stdin);\n    }\n\n    // Move STDOUT to the output stream\n    try(var stdo = p.getInputStream()) {\n        stdo.transferTo(stdout);\n    }\n\n    int rc = p.waitFor();\n    if (bg != null) {\n        bg.join();\n    }\n\n    System.out.println(&quot;start &quot;+Arrays.toString(cmd));\n    System.out.println(&quot;Exit &quot;+p.pid()+&quot; CODE &quot;+rc +' '+(rc == 0 ? &quot;OK&quot;:&quot;**** ERROR ****&quot;)+&quot; &quot;+(stderr == null ? &quot;STDERR&gt;OUT&quot;:&quot;&quot;));\n    return rc;\n}\n</code></pre>\n"}],"owner":{"account_id":14975766,"reputation":21,"user_id":21489436,"display_name":"Finn Andre Worm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75843278,"answer_count":1,"score":0,"last_activity_date":1679836873,"creation_date":1679762836,"question_id":75843148,"body_markdown":"I have been building an application to merge together videos based on data I got from the web. I was lucky enough to find this great tool ffmpeg that has saved me a lot of time and effort, but unfortunately I seem to be stuck on the following issue:\r\n\r\nIm attempting to execute a command for merging a video with audio (in the future I will also be adding hardcoded .ASS subtitles and .PNG images).\r\nMy application dynamically generates me a command based on the files its suppposed to use which works just as intended, as the command that I get works inside of my windows console (cmd).\r\nBut when I try to run it through my Java application, the code seems to &quot;freeze&quot; permanently and while the placeholder file gets created on my desktop with the filename and correct file format, it just has the default windows video icon and cant be opened (as it has not finished being created, duh).\r\nIm also using Eclipse, perhaps thats worth noting.\r\n\r\nThis is the part of the code where it freezes:\r\n\r\n\tprotected void runFFMPEG(Multimap&lt;String,String&gt; args, String outputFile, String fileFormat) throws IOException\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tRuntime.getRuntime().exec(setCommand(args, outputFile, fileFormat)).waitFor();\r\n\t\t}\r\n\t\tcatch (InterruptedException e)\r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\nas previously said, the command itself is generated correctly, but heres the code nonetheless:\r\n\r\n    private String[] setCommand(Multimap&lt;String, String&gt; args, String outputFile, String fileFormat)\r\n\t{\r\n\t\tString[] command = new String[args.size()*2+2];\r\n\t\tcommand[0] = ffmpegLocation;\r\n\t\tint[] i = new int[1];\r\n\t\ti[0] = 1;\r\n\t\targs.forEach((key, value) -&gt; { \r\n\t\t\tcommand[i[0]++] = key;\r\n\t\t\tcommand[i[0]++] = value;\r\n\t\t});\r\n\t\tcommand[i[0]] = outputFile + fileFormat;\r\n\t\treturn command;\r\n\t}\r\n\r\n\t\r\n\r\n**Note**: I used a normal string previously for **command**, but I saw another thread saying that using an array instead fixxed their issue (which it didnt for me, else i wouldnt be here...).\r\n\r\nThis is an example command that gets generated:\r\n\r\n**ffmpeg.exe -ss 00:00:00 -to 00:00:15 -i C:\\Users\\Test.mp4 -i  C:\\Users\\FINAL.mp3 -map 0 -map 1:a -c:v copy C:/Users/User/TestVideo.mp4**\r\n\r\nI also have a different command that concats the audio together into one FINAL.mp3 file, so its not like ffmpeg entirely fails to work in my application.\r\nMy guess is that it has something to do with the Runtime i get with Runtime.getRunTime(), but I cant seem to find out what the problem is.\r\nCan someone tell me what I did wrong? Thanks in advance!","title":"Runtime.exec() freezes on execution of ffmpeg Audio-replacing command that works in windows console","body":"<p>I have been building an application to merge together videos based on data I got from the web. I was lucky enough to find this great tool ffmpeg that has saved me a lot of time and effort, but unfortunately I seem to be stuck on the following issue:</p>\n<p>Im attempting to execute a command for merging a video with audio (in the future I will also be adding hardcoded .ASS subtitles and .PNG images).\nMy application dynamically generates me a command based on the files its suppposed to use which works just as intended, as the command that I get works inside of my windows console (cmd).\nBut when I try to run it through my Java application, the code seems to &quot;freeze&quot; permanently and while the placeholder file gets created on my desktop with the filename and correct file format, it just has the default windows video icon and cant be opened (as it has not finished being created, duh).\nIm also using Eclipse, perhaps thats worth noting.</p>\n<p>This is the part of the code where it freezes:</p>\n<pre><code>protected void runFFMPEG(Multimap&lt;String,String&gt; args, String outputFile, String fileFormat) throws IOException\n{\n    try\n    {\n        Runtime.getRuntime().exec(setCommand(args, outputFile, fileFormat)).waitFor();\n    }\n    catch (InterruptedException e)\n    {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>as previously said, the command itself is generated correctly, but heres the code nonetheless:</p>\n<pre><code>private String[] setCommand(Multimap&lt;String, String&gt; args, String outputFile, String fileFormat)\n{\n    String[] command = new String[args.size()*2+2];\n    command[0] = ffmpegLocation;\n    int[] i = new int[1];\n    i[0] = 1;\n    args.forEach((key, value) -&gt; { \n        command[i[0]++] = key;\n        command[i[0]++] = value;\n    });\n    command[i[0]] = outputFile + fileFormat;\n    return command;\n}\n</code></pre>\n<p><strong>Note</strong>: I used a normal string previously for <strong>command</strong>, but I saw another thread saying that using an array instead fixxed their issue (which it didnt for me, else i wouldnt be here...).</p>\n<p>This is an example command that gets generated:</p>\n<p><strong>ffmpeg.exe -ss 00:00:00 -to 00:00:15 -i C:\\Users\\Test.mp4 -i  C:\\Users\\FINAL.mp3 -map 0 -map 1:a -c:v copy C:/Users/User/TestVideo.mp4</strong></p>\n<p>I also have a different command that concats the audio together into one FINAL.mp3 file, so its not like ffmpeg entirely fails to work in my application.\nMy guess is that it has something to do with the Runtime i get with Runtime.getRunTime(), but I cant seem to find out what the problem is.\nCan someone tell me what I did wrong? Thanks in advance!</p>\n"},{"tags":["java","math","collision-detection"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1679622059,"post_id":75829363,"comment_id":133758652,"body_markdown":"Have you considered using parts of the `Shape` API, which already provides this kind of functionality?","body":"Have you considered using parts of the <code>Shape</code> API, which already provides this kind of functionality?"},{"owner":{"account_id":27128994,"reputation":11,"user_id":20671480,"display_name":"Yes 59"},"score":0,"creation_date":1679622167,"post_id":75829363,"comment_id":133758662,"body_markdown":"I&#39;m doing this for a comp sci class and we never learned how to do that so I don&#39;t know if my teacher would like that. I can use packages and stuff that we haven&#39;t learned but I think a whole API would be too much","body":"I&#39;m doing this for a comp sci class and we never learned how to do that so I don&#39;t know if my teacher would like that. I can use packages and stuff that we haven&#39;t learned but I think a whole API would be too much"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1679624422,"post_id":75829363,"comment_id":133758910,"body_markdown":"They&#39;re built in - just saying, the wheels already been invited.  If it was me, I might have a quick look at the code behind it and see if it&#39;s adaptable to your needs ;)","body":"They&#39;re built in - just saying, the wheels already been invited.  If it was me, I might have a quick look at the code behind it and see if it&#39;s adaptable to your needs ;)"},{"owner":{"account_id":27128994,"reputation":11,"user_id":20671480,"display_name":"Yes 59"},"score":0,"creation_date":1679628949,"post_id":75829363,"comment_id":133759340,"body_markdown":"Ah i see, it looks like a lot of it is with rectangles and not ellipses but I&#39;ll check it out, thanks","body":"Ah i see, it looks like a lot of it is with rectangles and not ellipses but I&#39;ll check it out, thanks"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1679629041,"post_id":75829363,"comment_id":133759352,"body_markdown":"[`Ellipse2D`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/geom/Ellipse2D.html)?  You could even make you&#39;re shapes with [`Path2D`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/geom/Path2D.html)","body":"<a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/geom/Ellipse2D.html\" rel=\"nofollow noreferrer\"><code>Ellipse2D</code></a>?  You could even make you&#39;re shapes with <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/geom/Path2D.html\" rel=\"nofollow noreferrer\"><code>Path2D</code></a>"}],"answers":[{"tags":[],"owner":{"account_id":1580982,"reputation":57898,"user_id":1468366,"accept_rate":78,"display_name":"MvG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679836067,"creation_date":1679834421,"answer_id":75847807,"question_id":75829363,"body_markdown":"I&#39;ll try to come up with an exact mathematical formula on whether two ellipses intersect. This answer would be easier on http://math.stackexchange.com where I would have proper mathematicall typesetting. But I&#39;ll try to be clear here as well.\r\n\r\nI assume you have a typo in your formula, and that you want `a` as one semi-axis and `b` as the other, not `a` in both cases. I assume your formula actually is\r\n\r\n    (x-h)&#178;/a&#178; + (y-k)&#178;/b&#178; = 1\r\n\r\nwhich can also be written in [matrix representation](https://en.wikipedia.org/wiki/Matrix_representation_of_conic_sections) as\r\n\r\n              ⎡ b&#178;     0         -b&#178;h      ⎤   ⎡x⎤\r\n    [x y 1] * ⎢ 0      a&#178;        -a&#178;k      ⎥ * ⎢y⎥ = 0\r\n              ⎣-b&#178;h   -a&#178;k   a&#178;k&#178;+b&#178;h&#178;-a&#178;b&#178;⎦   ⎣1⎦\r\n\r\nThe zeros in that matrix account for the fact that your ellipse is aligned with the coordinate axes. Some other readers might be dealing with rotated ellipses, in which case you would get an even more general form of this matrix, with non-zero entries everywhere but still symmetric.\r\n\r\nIf you have two different ellipses, you get two different matrices. Let&#39;s call them `M₁` and `M₂`. Then `M₁ + λM₂` is a linear combination of these two matrices. It represents a conic section which shares the same four points of intersection with the two given ellipses. (Some of these intersections might have complex coordinates, so you don&#39;t really see them.) Among these linear combinations are three special [degenerate](https://en.wikipedia.org/wiki/Degenerate_conic) cases, where the conic section turns into a pair of lines. These are characterized by `det(M₁ + λM₂) = 0`. This is a cubic (i.e. third degree) polynomial in `λ`.\r\n\r\nNow the point between the two ellipses intersecting one another and them not intersecting is a situation where they touch in a single point. That single point has algebraic multiplicity two, which means in the formulas it corresponds to two of the four points of intersection being in the same place. Which in turn means that two of the degenerate conics are in fact the same. Which means that the cubic polynomial in `λ` has a zero of multiplicit greater than 1. Which means that the [discriminant](https://en.wikipedia.org/wiki/Cubic_equation#Discriminant) of that polynomial is zero.\r\n\r\nIf the discriminant is zero at the point where the two ellipses touch, chances are that the sign of the discriminant can tell you whether the two ellipses are disjoint or whether they have more than that single point in common. A bit of experimentation should tell you which sign is which.\r\n\r\nBut there is a caveat here: the transition from two (real) points of intersection to four points of intersection again entails a touching situation, where two points are in the same location and the discriminant is zero. Moving through that situation will again change the sign of the discriminant. So while you can use the sign of the discriminant to distinguish between zero points of intersection and two points of intersection, it won&#39;t help to distinguish zero points of intersections from four points of intersection. It also won&#39;t distinguish between zero points of intersection because the ellipses don&#39;t overlap and zero points of intersection because one of the ellipses fully contains the other. If your hit boxes move so fast that they could go from no intersection to four points of intersection or full containment in a single step, this might be a problem for the approach I suggested. I&#39;ve asked a [Math StackExchange question](https://math.stackexchange.com/q/4666719/35416) of my own trying to get some ideas for how to improve this.\r\n\r\nI&#39;ll not write up the formula of the discriminant in your case, because if you go from the initial variables to that equation you&#39;d find it has total degree 32 in those variables. But if you do a careful step-by-step computation you should be able to get there within reasonable amount of effort, first to a matrix with linear terms, then to cubic terms for each part of the determinant, which you can combine to a single cubic, and then you can apply the known fixed formula `18abcd-4b&#179;d+b&#178;c&#178;-4ac&#179;-27a&#178;d&#178;` for a general cubic `aλ&#179;+bλ&#178;+cλ+d`. Keep in mind that you will get some really large numbers, so you should use double arithmetic as integer overflow is a very likely problem.","title":"How do I detect intersections with elipses in java","body":"<p>I'll try to come up with an exact mathematical formula on whether two ellipses intersect. This answer would be easier on <a href=\"http://math.stackexchange.com\">http://math.stackexchange.com</a> where I would have proper mathematicall typesetting. But I'll try to be clear here as well.</p>\n<p>I assume you have a typo in your formula, and that you want <code>a</code> as one semi-axis and <code>b</code> as the other, not <code>a</code> in both cases. I assume your formula actually is</p>\n<pre><code>(x-h)²/a² + (y-k)²/b² = 1\n</code></pre>\n<p>which can also be written in <a href=\"https://en.wikipedia.org/wiki/Matrix_representation_of_conic_sections\" rel=\"nofollow noreferrer\">matrix representation</a> as</p>\n<pre><code>          ⎡ b²     0         -b²h      ⎤   ⎡x⎤\n[x y 1] * ⎢ 0      a²        -a²k      ⎥ * ⎢y⎥ = 0\n          ⎣-b²h   -a²k   a²k²+b²h²-a²b²⎦   ⎣1⎦\n</code></pre>\n<p>The zeros in that matrix account for the fact that your ellipse is aligned with the coordinate axes. Some other readers might be dealing with rotated ellipses, in which case you would get an even more general form of this matrix, with non-zero entries everywhere but still symmetric.</p>\n<p>If you have two different ellipses, you get two different matrices. Let's call them <code>M₁</code> and <code>M₂</code>. Then <code>M₁ + λM₂</code> is a linear combination of these two matrices. It represents a conic section which shares the same four points of intersection with the two given ellipses. (Some of these intersections might have complex coordinates, so you don't really see them.) Among these linear combinations are three special <a href=\"https://en.wikipedia.org/wiki/Degenerate_conic\" rel=\"nofollow noreferrer\">degenerate</a> cases, where the conic section turns into a pair of lines. These are characterized by <code>det(M₁ + λM₂) = 0</code>. This is a cubic (i.e. third degree) polynomial in <code>λ</code>.</p>\n<p>Now the point between the two ellipses intersecting one another and them not intersecting is a situation where they touch in a single point. That single point has algebraic multiplicity two, which means in the formulas it corresponds to two of the four points of intersection being in the same place. Which in turn means that two of the degenerate conics are in fact the same. Which means that the cubic polynomial in <code>λ</code> has a zero of multiplicit greater than 1. Which means that the <a href=\"https://en.wikipedia.org/wiki/Cubic_equation#Discriminant\" rel=\"nofollow noreferrer\">discriminant</a> of that polynomial is zero.</p>\n<p>If the discriminant is zero at the point where the two ellipses touch, chances are that the sign of the discriminant can tell you whether the two ellipses are disjoint or whether they have more than that single point in common. A bit of experimentation should tell you which sign is which.</p>\n<p>But there is a caveat here: the transition from two (real) points of intersection to four points of intersection again entails a touching situation, where two points are in the same location and the discriminant is zero. Moving through that situation will again change the sign of the discriminant. So while you can use the sign of the discriminant to distinguish between zero points of intersection and two points of intersection, it won't help to distinguish zero points of intersections from four points of intersection. It also won't distinguish between zero points of intersection because the ellipses don't overlap and zero points of intersection because one of the ellipses fully contains the other. If your hit boxes move so fast that they could go from no intersection to four points of intersection or full containment in a single step, this might be a problem for the approach I suggested. I've asked a <a href=\"https://math.stackexchange.com/q/4666719/35416\">Math StackExchange question</a> of my own trying to get some ideas for how to improve this.</p>\n<p>I'll not write up the formula of the discriminant in your case, because if you go from the initial variables to that equation you'd find it has total degree 32 in those variables. But if you do a careful step-by-step computation you should be able to get there within reasonable amount of effort, first to a matrix with linear terms, then to cubic terms for each part of the determinant, which you can combine to a single cubic, and then you can apply the known fixed formula <code>18abcd-4b³d+b²c²-4ac³-27a²d²</code> for a general cubic <code>aλ³+bλ²+cλ+d</code>. Keep in mind that you will get some really large numbers, so you should use double arithmetic as integer overflow is a very likely problem.</p>\n"}],"owner":{"account_id":27128994,"reputation":11,"user_id":20671480,"display_name":"Yes 59"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679836067,"creation_date":1679621983,"question_id":75829363,"body_markdown":"I&#39;m trying to make a smash bros like game and I wanted hitboxes to be elipses since I can see where they collide better and move them in a more accurate direction and I&#39;m using the formula ((x-h)^2)/a^2) + \r\n((y-k)^2)/a^2) = 1 to do this but I can&#39;t get it to work\r\n\r\nI tried having it iterate through each x value in the domain of the first elipse and compare it to every domain value of the second elipse and if any x values were equal I had it check if they shared a y value and it works at some points but not others and I was wondering if anyone knew why\r\n\r\n```\r\npublic double[] intersects(Hitbox h1)\r\n\t{\r\n\t\tdouble d[] = {-1, -1};\r\n\t\tfor(double q = h-(a/2.0); q &lt;= h+(a/2.0); q += 10)\r\n\t\t{\r\n\t        for(double w = h1.getH()-(h1.getA()/2.0); w &lt;= h1.getH()+(h1.getA()/2.0); w += 10)\r\n\t          {\r\n\t            int ha = h1.getA();\r\n\t            int hb = h1.getB();\r\n\t            int hh = h1.getH();\r\n\t            int hk = h1.getK();\r\n\t            \r\n\t             if(Math.abs(q-w) &lt; 10)\r\n\t             {\r\n\t            \t long ab = (a*a)*(b*b);\r\n\t \t            System.out.println( q + &quot; \\t&quot; + w);\r\n\t \t            System.out.println(&quot;ab\\t&quot; + ab);\r\n\t \t            long bb = (int)((b*b)*((q-h)*(q-h)));\r\n\t \t            System.out.println(&quot;bb\\t&quot; + bb);\r\n\t \t            double y1 = k + Math.sqrt((ab-bb)/(a*a));\r\n\t \t            System.out.println(&quot;y1\\t&quot; + y1);\r\n\t \t            double negy1 = k - Math.sqrt((ab-bb)/(a*a));\r\n\t \t            System.out.println(&quot;negy1\\t&quot; + negy1);\r\n\t \t\r\n\t \t            ab = (ha*ha)*(hb*hb);\r\n\t \t            System.out.println(&quot;ab2\\t&quot; + ab);\r\n\t \t            bb = (int)((hb*hb)*((w-hh)*(w-hh)));\r\n\t \t            System.out.println(&quot;bb2\\t&quot; + bb);\r\n\t \t            double y2 = hk + Math.sqrt((ab-bb)/(ha*ha));\r\n\t \t            System.out.println(&quot;y2\\t&quot; + y2);\r\n\t \t            double negy2 = hk - Math.sqrt((ab-bb)/(ha*ha));\r\n\t \t            System.out.println(&quot;negy2\\t&quot; + negy2);\r\n\t \t            \r\n\t \t            \r\n\t \t            if(Math.abs(y2-y1) &lt; 30 ||Math.abs(negy2-y1) &lt; 30)\r\n\t \t            {\r\n\t \t              d[0] = q;\r\n\t \t              d[1] = y1;\r\n\t \t              latestIntersection = d;\r\n\t \t              System.out.println(&quot;fadonbhfabdfbnaodf&quot;);\r\n\t \t              return d;\r\n\t \t            }\r\n\t \t            if(Math.abs(y2-negy1) &lt; 30 ||Math.abs(negy2-negy1) &lt; 30)\r\n\t \t            {\r\n\t \t              d[0] = q;\r\n\t \t              d[1] = negy1;\r\n\t \t              latestIntersection = d;\r\n\t \t              System.out.println(&quot;fadonbhfabdfbnaodf&quot;);\r\n\t \t              return d;\r\n\t \t            }\r\n\t             }\r\n\t          }\r\n\t\t}\r\n\t\tlatestIntersection = d;\r\n        return d;\r\n\t}\r\n```\r\n\r\n\r\nedit:\r\n\r\nhere&#39;s solution\r\n\r\n  \r\n\r\n      public class Hitbox {\r\n    \r\n    \tprivate int h, k, a, b, startx, starty;\r\n    \tprivate double[] latestIntersection = {-1,-1};\r\n    \t\r\n    \tpublic Hitbox(int h, int k, int a, int b)\r\n    \t{\r\n    \t\tthis.a = a;\r\n    \t\tthis.b = b;\r\n    \t\tthis.h = h;\r\n    \t\tthis.k = k*-1;\r\n    \t}\r\n    \t\r\n    \tpublic double[] intersects(Hitbox h1)\r\n    \t{\r\n    \t\tdouble d[] = {-1, -1};\r\n    \t\tfor(double q = 1; q &lt;= 360; q+=.5)\r\n    \t\t{\r\n    \t\t\tdouble f = 0;\r\n                if(a &gt; b)\r\n                \tf = Math.sqrt((a*a)-(b*b));\r\n                else\r\n                \tf = Math.sqrt((b*b)-(a*a));\r\n                \r\n                double e = f/a;\r\n                \r\n                double top = (a*a)*(1-(e*e));\r\n                double bottom = 1-((e*e)*(Math.cos(q)*Math.cos(q)));\r\n                \r\n                double r1 = Math.sqrt(top/bottom);\r\n                \r\n                double x1 = r1*Math.cos(q);\r\n                double y1 = r1*Math.sin(q);\r\n                x1 += h;\r\n                y1 += k;\r\n                \r\n    \t        for(double w = 0; w &lt;= 360; w+=.5)\r\n    \t          {\r\n    \t        \tdouble a2 = h1.getA();\r\n    \t        \tdouble b2 = h1.getB();\r\n    \t        \t\r\n    \t        \tdouble f2 = 0;\r\n    \t        \t\r\n    \t        \tif(a2 &gt; b2)\r\n    \t            \tf2 = Math.sqrt((a2*a2)-(b2*b2));\r\n    \t            else\r\n    \t            \tf2 = Math.sqrt((b2*b2)-(a2*a2));\r\n    \t        \t\r\n    \t        \tdouble e2 = f2/a2;\r\n    \t        \t\r\n    \t            double top2 = (a2*a2)*(1-(e2*e2));\r\n    \t            double bottom2 = 1-((e2*e2)*(Math.cos(w)*Math.cos(w)));\r\n    \t            \r\n    \t            double r2 = Math.sqrt(top2/bottom2);\r\n    \t            \r\n    \t            double x2 = r2*Math.cos(w);\r\n    \t            double y2 = r2*Math.sin(w);\r\n    \t            x2 += h1.getH();\r\n    \t            y2 += h1.getK();\r\n    \t           \r\n    \t            \r\n    \t            if(Math.abs(x2-x1) &lt; 1 &amp;&amp; Math.abs(y2-y1) &lt; 1)\r\n    \t            {\r\n    \t            \td[0] = x1;\r\n    \t            \td[1] = y2;\r\n    \t            \tlatestIntersection = d;\r\n    \t            \treturn d;\r\n    \t            }\r\n    \t            \r\n    \t            \r\n    \t          }\r\n    \t\t}\r\n    \t\tlatestIntersection = d;\r\n            return d;\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic double[] getOppositeInteresection()\r\n    \t{\r\n    \t\tdouble d[] = {-1,-1};\r\n    \t\tif(latestIntersection != d)\r\n    \t\t{\r\n    \t\t\tif(latestIntersection[0]-h &lt; 0)\r\n    \t\t\t{\r\n    \t\t\t\td[0] = latestIntersection[0]-h + (((latestIntersection[0]-h)*2)*-1);\r\n    \t\t\t\tSystem.out.println(d[0]);\r\n    \t\t\t\td[0] += h;\r\n    \t\t\t}\r\n    \t\t\telse if(latestIntersection[0]-h &gt; 0)\r\n    \t\t\t{\r\n    \t\t\t\td[0] = latestIntersection[0]-h - ((latestIntersection[0]-h)*2);\r\n    \t\t\t\tSystem.out.println(d[0]);\r\n    \t\t\t\td[0] += h;\r\n    \t\t\t}\r\n    \t\t\tif(latestIntersection[1]-k &lt; 0)\r\n    \t\t\t{\r\n    \t\t\t\td[1] = latestIntersection[1]-k + (((latestIntersection[1]-k)*2)*-1);\r\n    \t\t\t\tSystem.out.println(d[1]);\r\n    \t\t\t\td[1] += k;\r\n    \t\t\t\treturn d;\r\n    \t\t\t}\r\n    \t\t\telse if(latestIntersection[1]-k &gt; 0)\r\n    \t\t\t{\r\n    \t\t\t\td[1] = latestIntersection[1]-k - ((latestIntersection[1]-k)*2);\r\n    \t\t\t\tSystem.out.println(d[1]);\r\n    \t\t\t\td[1] += k;\r\n    \t\t\t\treturn d;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn d;\r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n      public int getA()\r\n      {\r\n        return a;\r\n      }\r\n      public int getB()\r\n      {\r\n        return b;\r\n      }\r\n    \r\n      public int getH()\r\n      {\r\n        return this.h;\r\n      }\r\n    \r\n      public int getK()\r\n      {\r\n        return this.k;\r\n      }\r\n    \r\n    public void setH(int h)\r\n    {\r\n    \tthis.h = h;\r\n    }\r\n    \r\n    public void setK(int k)\r\n    {\r\n    \tthis.k = k;\r\n    }\r\n    \r\n    public void setA(int a)\r\n    {\r\n    \tthis.a = a;\r\n    }\r\n    \r\n    public void setB(int b)\r\n    {\r\n    \tthis.b = b;\r\n    }\r\n      \r\n      \r\n    }\r\n\r\n","title":"How do I detect intersections with elipses in java","body":"<p>I'm trying to make a smash bros like game and I wanted hitboxes to be elipses since I can see where they collide better and move them in a more accurate direction and I'm using the formula ((x-h)^2)/a^2) +\n((y-k)^2)/a^2) = 1 to do this but I can't get it to work</p>\n<p>I tried having it iterate through each x value in the domain of the first elipse and compare it to every domain value of the second elipse and if any x values were equal I had it check if they shared a y value and it works at some points but not others and I was wondering if anyone knew why</p>\n<pre><code>public double[] intersects(Hitbox h1)\n    {\n        double d[] = {-1, -1};\n        for(double q = h-(a/2.0); q &lt;= h+(a/2.0); q += 10)\n        {\n            for(double w = h1.getH()-(h1.getA()/2.0); w &lt;= h1.getH()+(h1.getA()/2.0); w += 10)\n              {\n                int ha = h1.getA();\n                int hb = h1.getB();\n                int hh = h1.getH();\n                int hk = h1.getK();\n                \n                 if(Math.abs(q-w) &lt; 10)\n                 {\n                     long ab = (a*a)*(b*b);\n                    System.out.println( q + &quot; \\t&quot; + w);\n                    System.out.println(&quot;ab\\t&quot; + ab);\n                    long bb = (int)((b*b)*((q-h)*(q-h)));\n                    System.out.println(&quot;bb\\t&quot; + bb);\n                    double y1 = k + Math.sqrt((ab-bb)/(a*a));\n                    System.out.println(&quot;y1\\t&quot; + y1);\n                    double negy1 = k - Math.sqrt((ab-bb)/(a*a));\n                    System.out.println(&quot;negy1\\t&quot; + negy1);\n        \n                    ab = (ha*ha)*(hb*hb);\n                    System.out.println(&quot;ab2\\t&quot; + ab);\n                    bb = (int)((hb*hb)*((w-hh)*(w-hh)));\n                    System.out.println(&quot;bb2\\t&quot; + bb);\n                    double y2 = hk + Math.sqrt((ab-bb)/(ha*ha));\n                    System.out.println(&quot;y2\\t&quot; + y2);\n                    double negy2 = hk - Math.sqrt((ab-bb)/(ha*ha));\n                    System.out.println(&quot;negy2\\t&quot; + negy2);\n                    \n                    \n                    if(Math.abs(y2-y1) &lt; 30 ||Math.abs(negy2-y1) &lt; 30)\n                    {\n                      d[0] = q;\n                      d[1] = y1;\n                      latestIntersection = d;\n                      System.out.println(&quot;fadonbhfabdfbnaodf&quot;);\n                      return d;\n                    }\n                    if(Math.abs(y2-negy1) &lt; 30 ||Math.abs(negy2-negy1) &lt; 30)\n                    {\n                      d[0] = q;\n                      d[1] = negy1;\n                      latestIntersection = d;\n                      System.out.println(&quot;fadonbhfabdfbnaodf&quot;);\n                      return d;\n                    }\n                 }\n              }\n        }\n        latestIntersection = d;\n        return d;\n    }\n</code></pre>\n<p>edit:</p>\n<p>here's solution</p>\n<pre><code>  public class Hitbox {\n\n    private int h, k, a, b, startx, starty;\n    private double[] latestIntersection = {-1,-1};\n    \n    public Hitbox(int h, int k, int a, int b)\n    {\n        this.a = a;\n        this.b = b;\n        this.h = h;\n        this.k = k*-1;\n    }\n    \n    public double[] intersects(Hitbox h1)\n    {\n        double d[] = {-1, -1};\n        for(double q = 1; q &lt;= 360; q+=.5)\n        {\n            double f = 0;\n            if(a &gt; b)\n                f = Math.sqrt((a*a)-(b*b));\n            else\n                f = Math.sqrt((b*b)-(a*a));\n            \n            double e = f/a;\n            \n            double top = (a*a)*(1-(e*e));\n            double bottom = 1-((e*e)*(Math.cos(q)*Math.cos(q)));\n            \n            double r1 = Math.sqrt(top/bottom);\n            \n            double x1 = r1*Math.cos(q);\n            double y1 = r1*Math.sin(q);\n            x1 += h;\n            y1 += k;\n            \n            for(double w = 0; w &lt;= 360; w+=.5)\n              {\n                double a2 = h1.getA();\n                double b2 = h1.getB();\n                \n                double f2 = 0;\n                \n                if(a2 &gt; b2)\n                    f2 = Math.sqrt((a2*a2)-(b2*b2));\n                else\n                    f2 = Math.sqrt((b2*b2)-(a2*a2));\n                \n                double e2 = f2/a2;\n                \n                double top2 = (a2*a2)*(1-(e2*e2));\n                double bottom2 = 1-((e2*e2)*(Math.cos(w)*Math.cos(w)));\n                \n                double r2 = Math.sqrt(top2/bottom2);\n                \n                double x2 = r2*Math.cos(w);\n                double y2 = r2*Math.sin(w);\n                x2 += h1.getH();\n                y2 += h1.getK();\n               \n                \n                if(Math.abs(x2-x1) &lt; 1 &amp;&amp; Math.abs(y2-y1) &lt; 1)\n                {\n                    d[0] = x1;\n                    d[1] = y2;\n                    latestIntersection = d;\n                    return d;\n                }\n                \n                \n              }\n        }\n        latestIntersection = d;\n        return d;\n    }\n    \n    \n    public double[] getOppositeInteresection()\n    {\n        double d[] = {-1,-1};\n        if(latestIntersection != d)\n        {\n            if(latestIntersection[0]-h &lt; 0)\n            {\n                d[0] = latestIntersection[0]-h + (((latestIntersection[0]-h)*2)*-1);\n                System.out.println(d[0]);\n                d[0] += h;\n            }\n            else if(latestIntersection[0]-h &gt; 0)\n            {\n                d[0] = latestIntersection[0]-h - ((latestIntersection[0]-h)*2);\n                System.out.println(d[0]);\n                d[0] += h;\n            }\n            if(latestIntersection[1]-k &lt; 0)\n            {\n                d[1] = latestIntersection[1]-k + (((latestIntersection[1]-k)*2)*-1);\n                System.out.println(d[1]);\n                d[1] += k;\n                return d;\n            }\n            else if(latestIntersection[1]-k &gt; 0)\n            {\n                d[1] = latestIntersection[1]-k - ((latestIntersection[1]-k)*2);\n                System.out.println(d[1]);\n                d[1] += k;\n                return d;\n            }\n        }\n        \n        return d;\n    }\n    \n    \n\n  public int getA()\n  {\n    return a;\n  }\n  public int getB()\n  {\n    return b;\n  }\n\n  public int getH()\n  {\n    return this.h;\n  }\n\n  public int getK()\n  {\n    return this.k;\n  }\n\npublic void setH(int h)\n{\n    this.h = h;\n}\n\npublic void setK(int k)\n{\n    this.k = k;\n}\n\npublic void setA(int a)\n{\n    this.a = a;\n}\n\npublic void setB(int b)\n{\n    this.b = b;\n}\n  \n  \n}\n</code></pre>\n"},{"tags":["java","spring-boot","docker"],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679667633,"creation_date":1679667633,"answer_id":75834797,"question_id":75833022,"body_markdown":"After revised the **Dockerfile** and removing **maven** build form cqrs.core, the issue disappeared.\r\n\r\n\r\nHere is the Dockerfile shown below\r\n\r\n    FROM openjdk:17-jdk-slim\r\n    \r\n    ARG JAR_FILE=target/*.jar\r\n    \r\n    COPY ${JAR_FILE} account.cmd.jar\r\n    \r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/account.cmd.jar&quot;]\r\n    \r\n    EXPOSE 5000","title":"Cannot run docker-compose.yml covering mongodb, kafka, zookeper for CQRS in Spring Boot? Docker-compose Issue","body":"<p>After revised the <strong>Dockerfile</strong> and removing <strong>maven</strong> build form cqrs.core, the issue disappeared.</p>\n<p>Here is the Dockerfile shown below</p>\n<pre><code>FROM openjdk:17-jdk-slim\n\nARG JAR_FILE=target/*.jar\n\nCOPY ${JAR_FILE} account.cmd.jar\n\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/account.cmd.jar&quot;]\n\nEXPOSE 5000\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75834797,"answer_count":1,"score":0,"last_activity_date":1679835845,"creation_date":1679656907,"question_id":75833022,"body_markdown":"I have a problem to run docker-compose.yml file covering mongodb, kafka, zookeper for CQRS in Spring Boot. I only focus on account-cmd to dockerize it now.\r\n\r\nWhen I try to run this command shown below, zookeeper is always pulling.\r\n\r\n    docker-compose up --build\r\n\r\nAs I get this problem, I cannot test the app running on Docker.\r\n\r\nHow can I fix it?\r\n\r\nHere is Dockerfile shown below\r\n\r\n    FROM openjdk:17-jdk-slim AS build\r\n    \r\n    COPY pom.xml mvnw ./\r\n    COPY .mvn .mvn\r\n    RUN ./mvnw dependency:resolve\r\n    \r\n    COPY src src\r\n    RUN ./mvnw package -Dmaven.test.skip\r\n    \r\n    FROM openjdk:17-jdk-slim\r\n    WORKDIR account-cmd\r\n    COPY --from=build target/*.jar account-cmd.jar\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;account-cmd.jar&quot;]\r\n\r\nHere is docker-compose.yml shown below\r\n\r\n    version: &#39;3.9&#39;\r\n    \r\n    services:\r\n      app:\r\n        image: &#39;account-cmd:latest&#39;\r\n        build:\r\n          context: .\r\n        ports:\r\n          - &quot;5000:8080&quot;\r\n        depends_on:\r\n          - zookeeper\r\n          - kafka\r\n          - mongodb\r\n        environment:\r\n          - kafka.producer.bootstrap-servers=broker:9092\r\n          - kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\r\n          - kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\r\n          - spring.data.mongodb.host=mongodb\r\n          - spring.data.mongodb.port=27017\r\n          - spring.data.mongodb.database=bankAccount\r\n          - server.port=5000\r\n        networks:\r\n          - bankAccount\r\n    \r\n    \r\n      mongodb:\r\n        image: &quot;mongo:latest&quot;\r\n        container_name: mongo-container\r\n        restart: always\r\n        ports:\r\n          - &quot;27017:27017&quot;\r\n        volumes:\r\n          - mongodb_data_container:/data/db\r\n        networks:\r\n          - bankAccount\r\n    \r\n      zookeeper:\r\n        image: &quot;bitnami/zookeeper&quot;\r\n        restart: always\r\n        ports:\r\n          - &quot;2181:2181&quot;\r\n        volumes:\r\n          - &quot;zookeeper_data:/bitnami&quot;\r\n        environment:\r\n          - ALLOW_ANONYMOUS_LOGIN=yes\r\n        networks:\r\n          - bankAccount\r\n    \r\n      kafka:\r\n        image: &quot;bitnami/kafka&quot;\r\n        ports:\r\n          - &quot;9092:9092&quot;\r\n        restart: always\r\n        volumes:\r\n          - &quot;kafka_data:/bitnami&quot;\r\n        environment:\r\n          - KAFKA_ZOOKEEPER_CONNECT=zookeeper:2181\r\n          - ALLOW_PLAINTEXT_LISTENER=yes\r\n          - KAFKA_LISTENERS=PLAINTEXT://:9092\r\n          - KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://localhost:9092\r\n        depends_on:\r\n          - zookeeper\r\n        networks:\r\n          - bankAccount\r\n    \r\n    \r\n    volumes:\r\n      mongodb_data_container:\r\n      zookeeper_data:\r\n        driver: local\r\n      kafka_data:\r\n        driver: local\r\n    \r\n    networks:\r\n      bankAccount:\r\n\r\n\r\nHere is my repo : [Link][1]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/cqrs-example","title":"Cannot run docker-compose.yml covering mongodb, kafka, zookeper for CQRS in Spring Boot? Docker-compose Issue","body":"<p>I have a problem to run docker-compose.yml file covering mongodb, kafka, zookeper for CQRS in Spring Boot. I only focus on account-cmd to dockerize it now.</p>\n<p>When I try to run this command shown below, zookeeper is always pulling.</p>\n<pre><code>docker-compose up --build\n</code></pre>\n<p>As I get this problem, I cannot test the app running on Docker.</p>\n<p>How can I fix it?</p>\n<p>Here is Dockerfile shown below</p>\n<pre><code>FROM openjdk:17-jdk-slim AS build\n\nCOPY pom.xml mvnw ./\nCOPY .mvn .mvn\nRUN ./mvnw dependency:resolve\n\nCOPY src src\nRUN ./mvnw package -Dmaven.test.skip\n\nFROM openjdk:17-jdk-slim\nWORKDIR account-cmd\nCOPY --from=build target/*.jar account-cmd.jar\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;account-cmd.jar&quot;]\n</code></pre>\n<p>Here is docker-compose.yml shown below</p>\n<pre><code>version: '3.9'\n\nservices:\n  app:\n    image: 'account-cmd:latest'\n    build:\n      context: .\n    ports:\n      - &quot;5000:8080&quot;\n    depends_on:\n      - zookeeper\n      - kafka\n      - mongodb\n    environment:\n      - kafka.producer.bootstrap-servers=broker:9092\n      - kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\n      - kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\n      - spring.data.mongodb.host=mongodb\n      - spring.data.mongodb.port=27017\n      - spring.data.mongodb.database=bankAccount\n      - server.port=5000\n    networks:\n      - bankAccount\n\n\n  mongodb:\n    image: &quot;mongo:latest&quot;\n    container_name: mongo-container\n    restart: always\n    ports:\n      - &quot;27017:27017&quot;\n    volumes:\n      - mongodb_data_container:/data/db\n    networks:\n      - bankAccount\n\n  zookeeper:\n    image: &quot;bitnami/zookeeper&quot;\n    restart: always\n    ports:\n      - &quot;2181:2181&quot;\n    volumes:\n      - &quot;zookeeper_data:/bitnami&quot;\n    environment:\n      - ALLOW_ANONYMOUS_LOGIN=yes\n    networks:\n      - bankAccount\n\n  kafka:\n    image: &quot;bitnami/kafka&quot;\n    ports:\n      - &quot;9092:9092&quot;\n    restart: always\n    volumes:\n      - &quot;kafka_data:/bitnami&quot;\n    environment:\n      - KAFKA_ZOOKEEPER_CONNECT=zookeeper:2181\n      - ALLOW_PLAINTEXT_LISTENER=yes\n      - KAFKA_LISTENERS=PLAINTEXT://:9092\n      - KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://localhost:9092\n    depends_on:\n      - zookeeper\n    networks:\n      - bankAccount\n\n\nvolumes:\n  mongodb_data_container:\n  zookeeper_data:\n    driver: local\n  kafka_data:\n    driver: local\n\nnetworks:\n  bankAccount:\n</code></pre>\n<p>Here is my repo : <a href=\"https://github.com/Rapter1990/cqrs-example\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679835670,"creation_date":1679835670,"answer_id":75847907,"question_id":75833401,"body_markdown":"You should have deprecated the old class and package until the producer no longer was sending those events.\r\n\r\nYour only solution now is to skip those events.\r\n\r\nOtherwise, tests shouldn&#39;t rely on existing topic data, so you&#39;d never catch this error without having both versions of the old and new packages on your classpath, which I&#39;m guessing you want to avoid. ","title":"How to write Kafka event deserialization unit test which takes event headers into consideration?","body":"<p>You should have deprecated the old class and package until the producer no longer was sending those events.</p>\n<p>Your only solution now is to skip those events.</p>\n<p>Otherwise, tests shouldn't rely on existing topic data, so you'd never catch this error without having both versions of the old and new packages on your classpath, which I'm guessing you want to avoid.</p>\n"}],"owner":{"account_id":11453004,"reputation":137,"user_id":15555049,"display_name":"Aleksei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679835670,"creation_date":1679659286,"question_id":75833401,"body_markdown":"We send events to Kafka as JSON objects and recently we had deserialization errors in prod: \r\n\r\n```\r\nCaused by: java.lang.IllegalArgumentException: The class &#39;com.our.company.otherPackage.MyEventClass&#39; is not in the trusted packages: [java.util, java.lang, com.our.company.package]. If you believe this class is safe to deserialize, please provide its name. If the serialization is only done by a trusted source, you can also enable trust all (*).\r\n```\r\n\r\n```\r\nCaused by: java.lang.ClassNotFoundException: com.our.otherPackage.ImmutableMyEventClass\r\n```\r\nJust in case: events are defined with org.Immutables library, that&#39;s why we have here _Immutable_ prefix\r\n\r\nOur Kafka events have `__TypeId__` header key with value `com.our.company.package.ImmutableMyEventClass`. These headers are considered during deserialization. Kafka event class was moved to other package, and when producer started to send events with `__TypeId__` header value of `com.our.company.otherPackage.ImmutableMyEventClass`, then consumers started to get deserialization errors. \r\n\r\nConsumers look like this:\r\n\r\n```\r\n@KafkaListener(\r\n        topics = &quot;${com.our.company.topic}&quot;,\r\n        containerFactory = &quot;containerFactory&quot;)\r\nvoid onEvent(ConsumerRecord&lt;String, MyEventClass&gt; record) {\r\n\r\n}\r\n```\r\n\r\nQuestion: how to write a unit test for deserialization to cover such cases? It would be great to protect ourselves from such cases in future. \r\n\r\nI know that we can handle the problem from the other side and make changes to deserializer, \r\n\r\nAlso, I am leaving this link where with explanation that checking `__TypeId__` can be disabled. Maybe it will be useful for somebody with similar problems: https://stackoverflow.com/questions/70856954/prevent-typeid-to-be-used-in-spring-cloud-stream\r\n\r\nBut let&#39;s focus on deserialization test with event headers: it would be a useful knowledge.","title":"How to write Kafka event deserialization unit test which takes event headers into consideration?","body":"<p>We send events to Kafka as JSON objects and recently we had deserialization errors in prod:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: The class 'com.our.company.otherPackage.MyEventClass' is not in the trusted packages: [java.util, java.lang, com.our.company.package]. If you believe this class is safe to deserialize, please provide its name. If the serialization is only done by a trusted source, you can also enable trust all (*).\n</code></pre>\n<pre><code>Caused by: java.lang.ClassNotFoundException: com.our.otherPackage.ImmutableMyEventClass\n</code></pre>\n<p>Just in case: events are defined with org.Immutables library, that's why we have here <em>Immutable</em> prefix</p>\n<p>Our Kafka events have <code>__TypeId__</code> header key with value <code>com.our.company.package.ImmutableMyEventClass</code>. These headers are considered during deserialization. Kafka event class was moved to other package, and when producer started to send events with <code>__TypeId__</code> header value of <code>com.our.company.otherPackage.ImmutableMyEventClass</code>, then consumers started to get deserialization errors.</p>\n<p>Consumers look like this:</p>\n<pre><code>@KafkaListener(\n        topics = &quot;${com.our.company.topic}&quot;,\n        containerFactory = &quot;containerFactory&quot;)\nvoid onEvent(ConsumerRecord&lt;String, MyEventClass&gt; record) {\n\n}\n</code></pre>\n<p>Question: how to write a unit test for deserialization to cover such cases? It would be great to protect ourselves from such cases in future.</p>\n<p>I know that we can handle the problem from the other side and make changes to deserializer,</p>\n<p>Also, I am leaving this link where with explanation that checking <code>__TypeId__</code> can be disabled. Maybe it will be useful for somebody with similar problems: <a href=\"https://stackoverflow.com/questions/70856954/prevent-typeid-to-be-used-in-spring-cloud-stream\">Prevent __TypeId__ to be used in Spring Cloud Stream</a></p>\n<p>But let's focus on deserialization test with event headers: it would be a useful knowledge.</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1679792778,"post_id":75845328,"comment_id":133784186,"body_markdown":"Does this answer your question? [What is the difference between RemoteWebDriver and WebDriver?](https://stackoverflow.com/questions/57528987/what-is-the-difference-between-remotewebdriver-and-webdriver)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/57528987/what-is-the-difference-between-remotewebdriver-and-webdriver\">What is the difference between RemoteWebDriver and WebDriver?</a>"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1679792837,"post_id":75845328,"comment_id":133784188,"body_markdown":"Here are some more related [questions and answers](https://www.google.com/search?q=selenium+remotewebdriver+vs.+webdriver+site:stackoverflow.com) which may help, for more background.","body":"Here are some more related <a href=\"https://www.google.com/search?q=selenium+remotewebdriver+vs.+webdriver+site:stackoverflow.com\" rel=\"nofollow noreferrer\">questions and answers</a> which may help, for more background."}],"answers":[{"tags":[],"owner":{"account_id":16581218,"reputation":1,"user_id":13612863,"display_name":"Itay Sasson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679835520,"creation_date":1679835520,"answer_id":75847894,"question_id":75845328,"body_markdown":"The short answer is that RemoteWebDriver is to run selenium on other machines.\r\n\r\nRemoteWebDriver as interface of WebDriver and few more methods.\r\n\r\non your local machine you can use both RemoteWebDriver &amp; WebDriver but if you will to run it on different machine, you will need to use RemoteWebDriver.","title":"What&#39;s the difference between WebDriver and RemoteWebDriver in selenium? When and where we use them?","body":"<p>The short answer is that RemoteWebDriver is to run selenium on other machines.</p>\n<p>RemoteWebDriver as interface of WebDriver and few more methods.</p>\n<p>on your local machine you can use both RemoteWebDriver &amp; WebDriver but if you will to run it on different machine, you will need to use RemoteWebDriver.</p>\n"}],"owner":{"account_id":23903746,"reputation":1,"user_id":17901587,"display_name":"Poseidon Greek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1679835520,"creation_date":1679791804,"question_id":75845328,"body_markdown":"I haven&#39;t got a clear explanation of these two. Can anyone please explain this to me?\r\n\r\n1. What&#39;s WebDriver and RemoteWebDriver? When and where we can declare it in selenium scripts?\r\n\r\n2. In place of WebDriver can we declare the RemoteWebDriver?\r\n","title":"What&#39;s the difference between WebDriver and RemoteWebDriver in selenium? When and where we use them?","body":"<p>I haven't got a clear explanation of these two. Can anyone please explain this to me?</p>\n<ol>\n<li><p>What's WebDriver and RemoteWebDriver? When and where we can declare it in selenium scripts?</p>\n</li>\n<li><p>In place of WebDriver can we declare the RemoteWebDriver?</p>\n</li>\n</ol>\n"},{"tags":["java","methods"],"answers":[{"tags":[],"owner":{"account_id":22260,"reputation":28542,"user_id":54736,"accept_rate":59,"display_name":"Silfverstrom"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1314431186,"creation_date":1314430868,"answer_id":7213185,"question_id":7213165,"body_markdown":"It&#39;s a common design patter to encapsulate the process of &quot;getting&quot; and &quot;setting&quot; variables in methods. This gives you more freedom if you ever want to change the underlying implementation.\r\n\r\nFor an example, lets say you one day want to change the parameter girlName to be an object Girl instead;\r\nIf you directly access girlName from your outer classes, you will have to change all your external code.\r\n\r\nWith a setter method, you could simply change one method and do\r\n\r\n    public void setGirlname(String name)\r\n    {\r\n       girlname = new Girl(name, some_other_data);\r\n    }\r\n\r\nOr perhaps you want to make sure girlname always is returned with uppercase.\r\n\r\n    public String getGirlname()\r\n    {\r\n        return girlName.toUpperCase();\r\n    }\r\n\r\nThus giving you a loot more flexibility in your code design.\r\n","title":"What names should getter and setter methods have","body":"<p>It's a common design patter to encapsulate the process of \"getting\" and \"setting\" variables in methods. This gives you more freedom if you ever want to change the underlying implementation.</p>\n\n<p>For an example, lets say you one day want to change the parameter girlName to be an object Girl instead;\nIf you directly access girlName from your outer classes, you will have to change all your external code.</p>\n\n<p>With a setter method, you could simply change one method and do</p>\n\n<pre><code>public void setGirlname(String name)\n{\n   girlname = new Girl(name, some_other_data);\n}\n</code></pre>\n\n<p>Or perhaps you want to make sure girlname always is returned with uppercase.</p>\n\n<pre><code>public String getGirlname()\n{\n    return girlName.toUpperCase();\n}\n</code></pre>\n\n<p>Thus giving you a loot more flexibility in your code design.</p>\n"},{"tags":[],"owner":{"account_id":416547,"reputation":91914,"user_id":791998,"accept_rate":80,"display_name":"Petar Ivanov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1314430898,"creation_date":1314430898,"answer_id":7213187,"question_id":7213165,"body_markdown":"The point of getters and setters is that only they are meant to be used to access the private varialble, which they are getting or setting. This way you provide encapsulation and it will be much easier to refactor or modify your code later.\r\n\r\nImagine you use `girlName` instead of its getter. Then if you want to add something like a default (say the default name is &#39;Guest&#39; if it wasn&#39;t set before), then you&#39;ll have to modify both the getter and the `sayName` function.\r\n\r\nThere is no requirement for getters and setter to start with get and set - they are just normal member functions. However it&#39;s a convention to do that. (especially if you use [Java Beans][1])\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/JavaBean","title":"What names should getter and setter methods have","body":"<p>The point of getters and setters is that only they are meant to be used to access the private varialble, which they are getting or setting. This way you provide encapsulation and it will be much easier to refactor or modify your code later.</p>\n\n<p>Imagine you use <code>girlName</code> instead of its getter. Then if you want to add something like a default (say the default name is 'Guest' if it wasn't set before), then you'll have to modify both the getter and the <code>sayName</code> function.</p>\n\n<p>There is no requirement for getters and setter to start with get and set - they are just normal member functions. However it's a convention to do that. (especially if you use <a href=\"http://en.wikipedia.org/wiki/JavaBean\" rel=\"nofollow\">Java Beans</a>)</p>\n"},{"tags":[],"owner":{"account_id":539291,"reputation":3420,"user_id":907095,"accept_rate":96,"display_name":"Adnan Bhatti"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1314430924,"creation_date":1314430924,"answer_id":7213190,"question_id":7213165,"body_markdown":"You can use girlName here you really don&#39;t have to call getName(). The reason you need getName() is if you you want to get the name outside of this class. For example if you create a new class and then create the above class object in the new class and assign that object a name (value for girlName) you won&#39;t be able to access girlName from new class since it is private .. so you need a public method which will get the value for you. \r\n\r\n\r\nAlso it doesn&#39;t have to be getName or setName but this just makes it easy to understand what function is doing. \r\n","title":"What names should getter and setter methods have","body":"<p>You can use girlName here you really don't have to call getName(). The reason you need getName() is if you you want to get the name outside of this class. For example if you create a new class and then create the above class object in the new class and assign that object a name (value for girlName) you won't be able to access girlName from new class since it is private .. so you need a public method which will get the value for you. </p>\n\n<p>Also it doesn't have to be getName or setName but this just makes it easy to understand what function is doing. </p>\n"},{"tags":[],"owner":{"account_id":237401,"reputation":4558,"user_id":505539,"display_name":"i100"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1314431047,"creation_date":1314431047,"answer_id":7213199,"question_id":7213165,"body_markdown":"This way you can inspect classes and invoke them at runtime using Reflection. See more [here][1]\r\n\r\n\r\n  [1]: http://tutorials.jenkov.com/java-reflection/getters-setters.html\r\n\r\nHTH\r\n\r\nIvo Stoykov","title":"What names should getter and setter methods have","body":"<p>This way you can inspect classes and invoke them at runtime using Reflection. See more <a href=\"http://tutorials.jenkov.com/java-reflection/getters-setters.html\" rel=\"nofollow\">here</a></p>\n\n<p>HTH</p>\n\n<p>Ivo Stoykov</p>\n"},{"tags":[],"owner":{"account_id":250245,"reputation":11187,"user_id":526836,"accept_rate":71,"display_name":"Kiril Kirilov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1314431259,"creation_date":1314431259,"answer_id":7213215,"question_id":7213165,"body_markdown":"You must first read about [abstraction][1], [encapsulation][2] and [OOP][3] to understand about accessors, mutators, immutability and data access.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Abstraction_%28computer_science%29\r\n  [2]: http://en.wikipedia.org/wiki/Encapsulation_%28object-oriented_programming%29\r\n  [3]: http://en.wikipedia.org/wiki/Object-oriented_programming","title":"What names should getter and setter methods have","body":"<p>You must first read about <a href=\"http://en.wikipedia.org/wiki/Abstraction_%28computer_science%29\" rel=\"nofollow\">abstraction</a>, <a href=\"http://en.wikipedia.org/wiki/Encapsulation_%28object-oriented_programming%29\" rel=\"nofollow\">encapsulation</a> and <a href=\"http://en.wikipedia.org/wiki/Object-oriented_programming\" rel=\"nofollow\">OOP</a> to understand about accessors, mutators, immutability and data access.</p>\n"},{"tags":[],"owner":{"account_id":110120,"reputation":4781,"user_id":291538,"accept_rate":91,"display_name":"rompetroll"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679835202,"creation_date":1314432375,"answer_id":7213302,"question_id":7213165,"body_markdown":"You absolutely can use the variable directly in your example, mostly because `sayName()` is in the same class.\r\n\r\nOther than that, I see 3 reasons for having getters and setters:\r\n\r\n 1. It&#39;s a principle of object oriented programming to keep values\r\n    (state) private and provide public methods for interaction with\r\n    other classes.\r\n\r\n 2. Classes with getters and setters often follow the Java beans design pattern. This pattern allows those objects to be used in template engines or expression languages like JSP or Spring.\r\n\r\n 3. In some cases it prevents actual errors. An example:\r\n\r\n```java\r\npublic class DateHolder {\r\n    public Date date;\r\n\r\n    public static void main(String... args) {\r\n        DateHolder holder = new DateHolder();\r\n        holder.date = new Date();\r\n        System.out.println(&quot;date in holder: &quot; + holder.date);\r\n        Date outsideDateRef = holder.date;\r\n        outsideDateRef.setTime(1l);\r\n        // will be different, although we did not change anything in the holder object.\r\n        System.out.println(&quot;date in holder: &quot; + holder.date);\r\n    }\r\n}\r\n```\r\n\r\n\r\nwrapping the date variable with getter and setter that operate only with the value, not the reference, would prevent this:\r\n\r\n```java\r\npublic class DateHolder {\r\n    private Date date;\r\n\r\n    public Date getDate() {\r\n       return (Date)this.date.clone();\r\n    }\r\n\r\n    public void setDate(Date date) {\r\n       this.date = (Date) date.clone();\r\n    }\r\n\r\n    public static void main(String... args) {\r\n        DateHolder holder = new DateHolder();\r\n        holder.setDate( new Date() );\r\n        System.out.println(&quot;date in holder: &quot; + holder.getDate());\r\n        Date outsideDateRef = holder.getDate();\r\n        outsideDateRef.setTime(1l);\r\n        // Date in holder will not have changed\r\n        System.out.println(&quot;date in holder: &quot; + holder.getDate());\r\n    }\r\n}\r\n```","title":"What names should getter and setter methods have","body":"<p>You absolutely can use the variable directly in your example, mostly because <code>sayName()</code> is in the same class.</p>\n<p>Other than that, I see 3 reasons for having getters and setters:</p>\n<ol>\n<li><p>It's a principle of object oriented programming to keep values\n(state) private and provide public methods for interaction with\nother classes.</p>\n</li>\n<li><p>Classes with getters and setters often follow the Java beans design pattern. This pattern allows those objects to be used in template engines or expression languages like JSP or Spring.</p>\n</li>\n<li><p>In some cases it prevents actual errors. An example:</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class DateHolder {\n    public Date date;\n\n    public static void main(String... args) {\n        DateHolder holder = new DateHolder();\n        holder.date = new Date();\n        System.out.println(&quot;date in holder: &quot; + holder.date);\n        Date outsideDateRef = holder.date;\n        outsideDateRef.setTime(1l);\n        // will be different, although we did not change anything in the holder object.\n        System.out.println(&quot;date in holder: &quot; + holder.date);\n    }\n}\n</code></pre>\n<p>wrapping the date variable with getter and setter that operate only with the value, not the reference, would prevent this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DateHolder {\n    private Date date;\n\n    public Date getDate() {\n       return (Date)this.date.clone();\n    }\n\n    public void setDate(Date date) {\n       this.date = (Date) date.clone();\n    }\n\n    public static void main(String... args) {\n        DateHolder holder = new DateHolder();\n        holder.setDate( new Date() );\n        System.out.println(&quot;date in holder: &quot; + holder.getDate());\n        Date outsideDateRef = holder.getDate();\n        outsideDateRef.setTime(1l);\n        // Date in holder will not have changed\n        System.out.println(&quot;date in holder: &quot; + holder.getDate());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1600895,"reputation":11,"user_id":1481936,"display_name":"Reeta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350714069,"creation_date":1340694627,"answer_id":11202322,"question_id":7213165,"body_markdown":"We want to prevent direct access to the variable, we make the variable a private variable.\r\nWhen the variable is private, other classes are not able to access that variable.\r\nIf we create variable as public it is accessible for all.\r\n\r\nto change the actual private variable we will now need public getter() or setter().\r\nThe basic naming conventions say that we will take the name of the variable and prefix it with get and/or set.\r\n\r\nin your specific case the getGirlname would be correct.\r\n\r\nWe call this encapsulation\r\n","title":"What names should getter and setter methods have","body":"<p>We want to prevent direct access to the variable, we make the variable a private variable.\nWhen the variable is private, other classes are not able to access that variable.\nIf we create variable as public it is accessible for all.</p>\n\n<p>to change the actual private variable we will now need public getter() or setter().\nThe basic naming conventions say that we will take the name of the variable and prefix it with get and/or set.</p>\n\n<p>in your specific case the getGirlname would be correct.</p>\n\n<p>We call this encapsulation</p>\n"}],"owner":{"account_id":461350,"reputation":426,"user_id":862993,"accept_rate":50,"display_name":"Daniel Bezden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20379,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":7,"score":4,"last_activity_date":1679835202,"creation_date":1314430516,"question_id":7213165,"body_markdown":"I am still very confused about getter and setter methods. I had this code;\r\n\r\n    public class MethodsInstances {\r\n    \t\r\n    \tpublic MethodsInstances(String name){\r\n    \t\tgirlName = name;\r\n    \t}\r\n    \t\r\n    \tprivate String girlName;\r\n    \t\r\n    \tpublic String getName(){\r\n    \t\treturn girlName;\r\n    \t}\r\n    \r\n    \tpublic void sayName(){\r\n    \t\tSystem.out.printf(&quot;Your first gf was %s&quot;, getName());\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nBut for &quot;sayName&quot;, why couldnt you instead of using getName(), just type girlName? It would be the same, because getName() returns girlName, as seen in the code. Also, do the methods have to start with get and set, or can be named whatever you want?\r\n\r\nHuge thanks from the newbie coder, Dan B","title":"What names should getter and setter methods have","body":"<p>I am still very confused about getter and setter methods. I had this code;</p>\n\n<pre><code>public class MethodsInstances {\n\n    public MethodsInstances(String name){\n        girlName = name;\n    }\n\n    private String girlName;\n\n    public String getName(){\n        return girlName;\n    }\n\n    public void sayName(){\n        System.out.printf(\"Your first gf was %s\", getName());\n\n    }\n}\n</code></pre>\n\n<p>But for \"sayName\", why couldnt you instead of using getName(), just type girlName? It would be the same, because getName() returns girlName, as seen in the code. Also, do the methods have to start with get and set, or can be named whatever you want?</p>\n\n<p>Huge thanks from the newbie coder, Dan B</p>\n"},{"tags":["java","eclipse","maven","properties","application.properties"],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679835150,"creation_date":1679835150,"answer_id":75847866,"question_id":75842890,"body_markdown":"`Class#getResourceAsStream` is loading _resources_ from the class loader (where `MyApp` is loaded from).\r\n\r\nIf you include a leading `/`, it will look up the resources from the _classpath root_ (or classloader root), which would be `target/classes` (where classes and resources are copied to) or `src/main/resources`. This does NOT refer to your project root.\r\n\r\nIn order to fix it, you could try to tell Maven to move the `application.properties` to `target/classes` (where it would normally be moved to):\r\n\r\n```xml\r\n        &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;copy-resources&lt;/id&gt;\r\n                    &lt;phase&gt;package&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;outputDirectory&gt;${project.build.outputDirectory}&lt;/outputDirectory&gt;&lt;!-- alternative: ${project.build.directory}/classes --&gt;\r\n                        &lt;resources&gt;\r\n                            &lt;resource&gt;\r\n                                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                                &lt;filtering&gt;true&lt;/filtering&gt;\r\n                            &lt;/resource&gt;\r\n                        &lt;/resources&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n```\r\n\r\nResources will also be part of the application when you package it (e.g. in a JAR).\r\n\r\n\r\n\r\nAlternatively, If you want to access files from where you are executing the project, you can use APIs for dealing with files:\r\n```java\r\nPath path=Path.of(&quot;application.properties&quot;);\r\ntry(InputStream is=new BufferedInputStream(Files.newInputStream(path)){\r\n    //use is here\r\n}\r\n```\r\nBut be warned that this approach would require the file to be present when packaging the application and it will not include anything from inside the application.","title":"Working with the right application.properties when building maven project","body":"<p><code>Class#getResourceAsStream</code> is loading <em>resources</em> from the class loader (where <code>MyApp</code> is loaded from).</p>\n<p>If you include a leading <code>/</code>, it will look up the resources from the <em>classpath root</em> (or classloader root), which would be <code>target/classes</code> (where classes and resources are copied to) or <code>src/main/resources</code>. This does NOT refer to your project root.</p>\n<p>In order to fix it, you could try to tell Maven to move the <code>application.properties</code> to <code>target/classes</code> (where it would normally be moved to):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;copy-resources&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy-resources&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;${project.build.outputDirectory}&lt;/outputDirectory&gt;&lt;!-- alternative: ${project.build.directory}/classes --&gt;\n                        &lt;resources&gt;\n                            &lt;resource&gt;\n                                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                                &lt;filtering&gt;true&lt;/filtering&gt;\n                            &lt;/resource&gt;\n                        &lt;/resources&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>Resources will also be part of the application when you package it (e.g. in a JAR).</p>\n<p>Alternatively, If you want to access files from where you are executing the project, you can use APIs for dealing with files:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Path path=Path.of(&quot;application.properties&quot;);\ntry(InputStream is=new BufferedInputStream(Files.newInputStream(path)){\n    //use is here\n}\n</code></pre>\n<p>But be warned that this approach would require the file to be present when packaging the application and it will not include anything from inside the application.</p>\n"}],"owner":{"account_id":13419252,"reputation":13,"user_id":9682632,"display_name":"Kinozato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75847866,"answer_count":1,"score":0,"last_activity_date":1679835150,"creation_date":1679760074,"question_id":75842890,"body_markdown":"I am not that experienced with maven. I am still learning and right now I am trying to do a simple project that will build for different environments populating different paths (I am also getting some guidance from chatGPT).\r\n\r\nThis is the simple structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nMy java file:\r\n\r\n    package com.example;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.util.Properties;\r\n    \r\n    public class MyApp {\r\n        public static void main(String[] args) {\r\n            try {\r\n                Properties props = new Properties();\r\n                InputStream stream = MyApp.class.getResourceAsStream(&quot;/application.properties&quot;);\r\n    \r\n                props.load(stream);\r\n                stream.close();\r\n                System.out.println(&quot;Path: &quot; + props.getProperty(&quot;path.oldscores&quot;));\r\n                \r\n                \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nand the pom:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n                                 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n      &lt;artifactId&gt;my-app&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-resources&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\r\n                            &lt;resources&gt;\r\n                                &lt;resource&gt;\r\n                                    &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                                    &lt;filtering&gt;true&lt;/filtering&gt;\r\n                                &lt;/resource&gt;\r\n                            &lt;/resources&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;mainClass&gt;com.example.MyApp&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    \r\n    \r\n    \r\n      &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;dev&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;oldscores&gt;/Users/Eclipse Workspace/TEST/my-app/oldscores.txt&lt;/oldscores&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;prod&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;env&gt;prod&lt;/env&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;test&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;env&gt;test&lt;/env&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n      &lt;/profiles&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nIf I build it &quot;mvn clean install -Pdev&quot; I see that the application.properties in the outputDirectory specified gets populated:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nmy problem is with this line from my java file: \r\n\r\n&gt; InputStream stream = MyApp.class.getResourceAsStream(&quot;/application.properties&quot;);\r\n\r\n\r\nto my understanding we are still invoking the application.properties from the root (which is also confusing me because /application.properties would mean that this file is in the same location as where the pom is. If I execute this java file with this configuration I get:\r\n\r\n&gt; Path: ${oldscores}\r\n\r\nit is calling the application.properties from src/main/resources:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nIf I change it to:\r\n\r\n&gt; InputStream stream = MyApp.class.getResourceAsStream(&quot;/target/application.properties&quot;);\r\n\r\nwhich to me makes sense since now we are looking in root -&gt; target -&gt; and the properties file, I get:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\nPlease help me understand where my confusion is and how I can extract the properties that get populated in the target folder or if this is even the correct way of doing this.\r\n \r\nThanks!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qz9Sh.png\r\n  [2]: https://i.stack.imgur.com/uhavT.png\r\n  [3]: https://i.stack.imgur.com/awZD0.png\r\n  [4]: https://i.stack.imgur.com/a6yFh.jpg","title":"Working with the right application.properties when building maven project","body":"<p>I am not that experienced with maven. I am still learning and right now I am trying to do a simple project that will build for different environments populating different paths (I am also getting some guidance from chatGPT).</p>\n<p>This is the simple structure:</p>\n<p><a href=\"https://i.stack.imgur.com/qz9Sh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qz9Sh.png\" alt=\"enter image description here\" /></a></p>\n<p>My java file:</p>\n<pre><code>package com.example;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.Properties;\n\npublic class MyApp {\n    public static void main(String[] args) {\n        try {\n            Properties props = new Properties();\n            InputStream stream = MyApp.class.getResourceAsStream(&quot;/application.properties&quot;);\n\n            props.load(stream);\n            stream.close();\n            System.out.println(&quot;Path: &quot; + props.getProperty(&quot;path.oldscores&quot;));\n            \n            \n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>and the pom:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \n                             http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\n  &lt;artifactId&gt;my-app&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n  &lt;/dependencies&gt;\n\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;copy-resources&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy-resources&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\n                        &lt;resources&gt;\n                            &lt;resource&gt;\n                                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                                &lt;filtering&gt;true&lt;/filtering&gt;\n                            &lt;/resource&gt;\n                        &lt;/resources&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;mainClass&gt;com.example.MyApp&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n\n\n  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;dev&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;oldscores&gt;/Users/Eclipse Workspace/TEST/my-app/oldscores.txt&lt;/oldscores&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n      &lt;id&gt;prod&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;env&gt;prod&lt;/env&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n      &lt;id&gt;test&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;env&gt;test&lt;/env&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>If I build it &quot;mvn clean install -Pdev&quot; I see that the application.properties in the outputDirectory specified gets populated:</p>\n<p><a href=\"https://i.stack.imgur.com/uhavT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uhavT.png\" alt=\"enter image description here\" /></a></p>\n<p>my problem is with this line from my java file:</p>\n<blockquote>\n<p>InputStream stream = MyApp.class.getResourceAsStream(&quot;/application.properties&quot;);</p>\n</blockquote>\n<p>to my understanding we are still invoking the application.properties from the root (which is also confusing me because /application.properties would mean that this file is in the same location as where the pom is. If I execute this java file with this configuration I get:</p>\n<blockquote>\n<p>Path: ${oldscores}</p>\n</blockquote>\n<p>it is calling the application.properties from src/main/resources:</p>\n<p><a href=\"https://i.stack.imgur.com/awZD0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/awZD0.png\" alt=\"enter image description here\" /></a></p>\n<p>If I change it to:</p>\n<blockquote>\n<p>InputStream stream = MyApp.class.getResourceAsStream(&quot;/target/application.properties&quot;);</p>\n</blockquote>\n<p>which to me makes sense since now we are looking in root -&gt; target -&gt; and the properties file, I get:</p>\n<p><a href=\"https://i.stack.imgur.com/a6yFh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a6yFh.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Please help me understand where my confusion is and how I can extract the properties that get populated in the target folder or if this is even the correct way of doing this.</p>\n<p>Thanks!</p>\n"},{"tags":["java","android","eclipse","macos","sqlite"],"comments":[{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":3,"creation_date":1421116512,"post_id":27914091,"comment_id":44227426,"body_markdown":"Where is the logcat message? Which line in the file does it refer to?","body":"Where is the logcat message? Which line in the file does it refer to?"},{"owner":{"account_id":5579737,"reputation":1,"user_id":4422027,"display_name":"P. Walch"},"score":0,"creation_date":1421116680,"post_id":27914091,"comment_id":44227469,"body_markdown":"I am honestly not sure I am new to programming android.","body":"I am honestly not sure I am new to programming android."},{"owner":{"account_id":5579737,"reputation":1,"user_id":4422027,"display_name":"P. Walch"},"score":0,"creation_date":1421116847,"post_id":27914091,"comment_id":44227508,"body_markdown":"It does not say where as far as I know.","body":"It does not say where as far as I know."}],"answers":[{"tags":[],"owner":{"account_id":20707,"reputation":30822,"user_id":49746,"display_name":"Todd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1421116815,"creation_date":1421116815,"answer_id":27914142,"question_id":27914091,"body_markdown":"    SELECT DISTINCT _id, Drive Time, Time of Day FROM mainTable WHERE _id=-1\r\n\r\nPut quotes around &#39;Drive Time&#39; and &#39;Time of Day&#39; or rename the columns to `Drive_Time` and `Time_Of_Day`. That&#39;s not valid SQL as written.\r\n","title":"App keeps crashing when a button is pressed","body":"<pre><code>SELECT DISTINCT _id, Drive Time, Time of Day FROM mainTable WHERE _id=-1\n</code></pre>\n\n<p>Put quotes around 'Drive Time' and 'Time of Day' or rename the columns to <code>Drive_Time</code> and <code>Time_Of_Day</code>. That's not valid SQL as written.</p>\n"},{"tags":[],"owner":{"account_id":1780791,"reputation":341,"user_id":1623602,"display_name":"Abhi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421119420,"creation_date":1421119420,"answer_id":27914418,"question_id":27914091,"body_markdown":"Double quotes works for column names, try it as\r\n\r\n    SELECT DISTINCT _id, &quot;Drive Time&quot;, &quot;Time of Day&quot; FROM mainTable WHERE _id=-1\r\n\r\n","title":"App keeps crashing when a button is pressed","body":"<p>Double quotes works for column names, try it as</p>\n\n<pre><code>SELECT DISTINCT _id, \"Drive Time\", \"Time of Day\" FROM mainTable WHERE _id=-1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3455497,"reputation":1041,"user_id":2894109,"accept_rate":48,"display_name":"Pihu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679834708,"creation_date":1421122226,"answer_id":27914746,"question_id":27914091,"body_markdown":"You need to put double quotes while describing the column names.\r\n\r\nChange your code to: \r\n\r\n    SELECT DISTINCT _id, &quot;Drive Time&quot;, &quot;Time of Day&quot; FROM mainTable WHERE _id=-1\r\n","title":"App keeps crashing when a button is pressed","body":"<p>You need to put double quotes while describing the column names.</p>\n<p>Change your code to:</p>\n<pre><code>SELECT DISTINCT _id, &quot;Drive Time&quot;, &quot;Time of Day&quot; FROM mainTable WHERE _id=-1\n</code></pre>\n"}],"owner":{"account_id":5579737,"reputation":1,"user_id":4422027,"display_name":"P. Walch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1679834779,"creation_date":1421116394,"question_id":27914091,"body_markdown":"Every time I try to run my app, it crashes when I press a button. LogCat says that the cause is in this file. Here are the LogCat messages and the file that is causing the crash supposedly.\r\n\r\nHere is the file where the error is:\r\n     \r\n    package com.example.drive.drivercorder;\r\n\r\n    import android.content.ContentValues;\r\n    import android.content.Context;\r\n    import android.database.Cursor;\r\n    import android.database.sqlite.SQLiteDatabase;\r\n    import android.database.sqlite.SQLiteOpenHelper;\r\n    import android.util.Log;\r\n\r\n\r\n\r\n    public class dbadapter {\r\n\r\n\tprivate static final String TAG = &quot;DBAdapter&quot;;\r\n\r\n\tpublic static final String KEY_ROWID = &quot;_id&quot;;\r\n\tpublic static final int COL_ROWID = 0;\r\n\r\n\tpublic static final String KEY_DRIVETIME = &quot;Drive Time&quot;;\r\n\tpublic static final String KEY_NIGHTORDAY = &quot;Time of Day&quot;;\r\n\r\n\t\r\n\r\n\tpublic static final int COL_DRIVETIME = 1;\r\n\tpublic static final int COL_NIGHTORDAY = 2;\r\n\r\n\r\n\t\r\n\tpublic static final String[] ALL_KEYS = new String[] {KEY_ROWID, KEY_DRIVETIME,    \r\n    KEY_NIGHTORDAY, };\r\n\t\r\n\r\n\tpublic static final String DATABASE_NAME = &quot;MyDb&quot;;\r\n\tpublic static final String DATABASE_TABLE = &quot;mainTable&quot;;\r\n\r\n\tpublic static final int DATABASE_VERSION = 2;\t\r\n\t\r\n\tprivate static final String DATABASE_CREATE_SQL = \r\n\t\t\t&quot;create table &quot; + DATABASE_TABLE \r\n\t\t\t+ &quot; (&quot; + KEY_ROWID + &quot; integer primary key autoincrement, &quot;\r\n\r\n\t\t\t+ KEY_DRIVETIME + &quot; integer not null, &quot;\r\n\t\t\t+ KEY_NIGHTORDAY + &quot; text not null &quot;\r\n\r\n\t\t\t\r\n\r\n\t\t\t+ &quot;);&quot;;\r\n\r\n\r\n    private DatabaseHelper myDBHelper;\r\n\tprivate SQLiteDatabase db;\r\n\r\n\r\n\t\r\n\tpublic dbadapter(Context ctx) {\r\n        myDBHelper = new DatabaseHelper(ctx);\r\n\t}\r\n\t\r\n\r\n\tpublic dbadapter open() {\r\n\t\tdb = myDBHelper.getWritableDatabase();\r\n\t\treturn this;\r\n\t}\r\n\t\r\n\r\n\tpublic void close() {\r\n\t    myDBHelper.close();\r\n\t}\r\n\t\r\n\r\n\tpublic long insertRow(int drivetime, String nightorday) {\r\n\r\n\t\tContentValues initialValues = new ContentValues();\r\n\t\tinitialValues.put(KEY_DRIVETIME, drivetime);\r\n\t\tinitialValues.put(KEY_NIGHTORDAY, nightorday);\r\n\r\n\t\t\r\n\r\n\t\treturn db.insert(DATABASE_TABLE, null, initialValues);\r\n\t}\r\n\r\n\r\n\t\r\n\r\n\tpublic Cursor getAllRows() {\r\n\t\tString where = null;\r\n\t\tCursor c = \tdb.query(true, DATABASE_TABLE, ALL_KEYS, \r\n\t\t\t\t\t\t\twhere, null, null, null, null, null);\r\n\t\tif (c != null) c.moveToFirst();\r\n\t\treturn c;\r\n\t}\r\n\r\n\r\n\tpublic Cursor getRow(long rowId) {\r\n\t\tString where = KEY_ROWID + &quot;=&quot; + rowId;\r\n\t\tCursor c = \tdb.query(true, DATABASE_TABLE, ALL_KEYS, \r\n\t\t\t\t\t\twhere, null, null, null, null, null);\r\n\t\tif (c != null) {\r\n\t\t\tc.moveToFirst();\r\n\t\t}\r\n\t\treturn c;\r\n\t}\r\n\t\r\n\r\n\tpublic boolean updateRow(long rowId, int drivetime, String nightorday) {\r\n\t\tString where = KEY_ROWID + &quot;=&quot; + rowId;\r\n\r\n\t\tContentValues newValues = new ContentValues();\r\n\t\tnewValues.put(KEY_DRIVETIME, drivetime);\r\n\t\tnewValues.put(KEY_NIGHTORDAY, nightorday);\r\n\r\n\t\treturn db.update(DATABASE_TABLE, newValues, where, null) != 0;\r\n\t}\r\n\t\r\n\r\n\tprivate static class DatabaseHelper extends SQLiteOpenHelper{\r\n\t\tDatabaseHelper(Context context) {\r\n\r\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void onCreate(SQLiteDatabase _db) {\r\n\t\t\t_db.execSQL(DATABASE_CREATE_SQL);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void onUpgrade(SQLiteDatabase _db, int oldVersion, int newVersion) {\r\n\t\t\tLog.w(TAG, &quot;Upgrading application&#39;s database from version &quot; + oldVersion\r\n\t\t\t\t\t+ &quot; to &quot; + newVersion + &quot;, which will destroy all old data!&quot;);\r\n\r\n\t\t\t_db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + DATABASE_TABLE);\r\n\t\t\t\r\n\r\n\t\t\tonCreate(_db);\r\n\t\t}\r\n\t}\r\n    }\r\n\r\nAnd here are the log cat messages indicating the cause of the crash:\r\n \r\n&gt; Caused by: android.database.sqlite.SQLiteException: near &quot;Day&quot;: syntax error (code 1): , while compiling: SELECT DISTINCT _id, Drive Time, Time of Day FROM mainTable WHERE _id=-1\r\n","title":"App keeps crashing when a button is pressed","body":"<p>Every time I try to run my app, it crashes when I press a button. LogCat says that the cause is in this file. Here are the LogCat messages and the file that is causing the crash supposedly.</p>\n<p>Here is the file where the error is:</p>\n<pre><code>package com.example.drive.drivercorder;\n\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.util.Log;\n\n\n\npublic class dbadapter {\n\nprivate static final String TAG = &quot;DBAdapter&quot;;\n\npublic static final String KEY_ROWID = &quot;_id&quot;;\npublic static final int COL_ROWID = 0;\n\npublic static final String KEY_DRIVETIME = &quot;Drive Time&quot;;\npublic static final String KEY_NIGHTORDAY = &quot;Time of Day&quot;;\n\n\n\npublic static final int COL_DRIVETIME = 1;\npublic static final int COL_NIGHTORDAY = 2;\n\n\n\npublic static final String[] ALL_KEYS = new String[] {KEY_ROWID, KEY_DRIVETIME,    \nKEY_NIGHTORDAY, };\n\n\npublic static final String DATABASE_NAME = &quot;MyDb&quot;;\npublic static final String DATABASE_TABLE = &quot;mainTable&quot;;\n\npublic static final int DATABASE_VERSION = 2;   \n\nprivate static final String DATABASE_CREATE_SQL = \n        &quot;create table &quot; + DATABASE_TABLE \n        + &quot; (&quot; + KEY_ROWID + &quot; integer primary key autoincrement, &quot;\n\n        + KEY_DRIVETIME + &quot; integer not null, &quot;\n        + KEY_NIGHTORDAY + &quot; text not null &quot;\n\n        \n\n        + &quot;);&quot;;\n\n\nprivate DatabaseHelper myDBHelper;\nprivate SQLiteDatabase db;\n\n\n\npublic dbadapter(Context ctx) {\n    myDBHelper = new DatabaseHelper(ctx);\n}\n\n\npublic dbadapter open() {\n    db = myDBHelper.getWritableDatabase();\n    return this;\n}\n\n\npublic void close() {\n    myDBHelper.close();\n}\n\n\npublic long insertRow(int drivetime, String nightorday) {\n\n    ContentValues initialValues = new ContentValues();\n    initialValues.put(KEY_DRIVETIME, drivetime);\n    initialValues.put(KEY_NIGHTORDAY, nightorday);\n\n    \n\n    return db.insert(DATABASE_TABLE, null, initialValues);\n}\n\n\n\n\npublic Cursor getAllRows() {\n    String where = null;\n    Cursor c =  db.query(true, DATABASE_TABLE, ALL_KEYS, \n                        where, null, null, null, null, null);\n    if (c != null) c.moveToFirst();\n    return c;\n}\n\n\npublic Cursor getRow(long rowId) {\n    String where = KEY_ROWID + &quot;=&quot; + rowId;\n    Cursor c =  db.query(true, DATABASE_TABLE, ALL_KEYS, \n                    where, null, null, null, null, null);\n    if (c != null) {\n        c.moveToFirst();\n    }\n    return c;\n}\n\n\npublic boolean updateRow(long rowId, int drivetime, String nightorday) {\n    String where = KEY_ROWID + &quot;=&quot; + rowId;\n\n    ContentValues newValues = new ContentValues();\n    newValues.put(KEY_DRIVETIME, drivetime);\n    newValues.put(KEY_NIGHTORDAY, nightorday);\n\n    return db.update(DATABASE_TABLE, newValues, where, null) != 0;\n}\n\n\nprivate static class DatabaseHelper extends SQLiteOpenHelper{\n    DatabaseHelper(Context context) {\n\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase _db) {\n        _db.execSQL(DATABASE_CREATE_SQL);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase _db, int oldVersion, int newVersion) {\n        Log.w(TAG, &quot;Upgrading application's database from version &quot; + oldVersion\n                + &quot; to &quot; + newVersion + &quot;, which will destroy all old data!&quot;);\n\n        _db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + DATABASE_TABLE);\n        \n\n        onCreate(_db);\n    }\n}\n}\n</code></pre>\n<p>And here are the log cat messages indicating the cause of the crash:</p>\n<blockquote>\n<p>Caused by: android.database.sqlite.SQLiteException: near &quot;Day&quot;: syntax error (code 1): , while compiling: SELECT DISTINCT _id, Drive Time, Time of Day FROM mainTable WHERE _id=-1</p>\n</blockquote>\n"},{"tags":["java","timezone","java-time","datetime-parsing","datetimeformatter"],"comments":[{"owner":{"account_id":2165323,"reputation":17417,"user_id":1918561,"accept_rate":100,"display_name":"Gereon"},"score":0,"creation_date":1679747864,"post_id":75841656,"comment_id":133778303,"body_markdown":"`MESZ` is not in the standard list of [timezone names](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones), although it&#39;s used frequently in Germany. You&#39;ll probably have to special-case a replacement with `CEST` for it.","body":"<code>MESZ</code> is not in the standard list of <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">timezone names</a>, although it&#39;s used frequently in Germany. You&#39;ll probably have to special-case a replacement with <code>CEST</code> for it."},{"owner":{"account_id":22392775,"reputation":29,"user_id":16604539,"display_name":"Vishal "},"score":1,"creation_date":1679767403,"post_id":75841656,"comment_id":133781252,"body_markdown":"Thank you @Gereon. I also found the answer that I have to use `Locale.Germany`","body":"Thank you @Gereon. I also found the answer that I have to use <code>Locale.Germany</code>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1679833720,"post_id":75841656,"comment_id":133787998,"body_markdown":"Do not parse into a `LocalDateTime` here. Your string contains a time zone abbreviation that you want to pick up. So use `ZonedDateTime`. You can always convert later if you need to, and take the time zone into account in that conversion, but for most purposes you will not need to.","body":"Do not parse into a <code>LocalDateTime</code> here. Your string contains a time zone abbreviation that you want to pick up. So use <code>ZonedDateTime</code>. You can always convert later if you need to, and take the time zone into account in that conversion, but for most purposes you will not need to."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679833914,"post_id":75841656,"comment_id":133788019,"body_markdown":"Does this answer your question? [java DateTimeFormatterBuilder fails on testtime](https://stackoverflow.com/questions/50526234/java-datetimeformatterbuilder-fails-on-testtime)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/50526234/java-datetimeformatterbuilder-fails-on-testtime\">java DateTimeFormatterBuilder fails on testtime</a>"}],"answers":[{"tags":[],"owner":{"account_id":22392775,"reputation":29,"user_id":16604539,"display_name":"Vishal "},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679767313,"creation_date":1679767313,"answer_id":75843594,"question_id":75841656,"body_markdown":"I found the answer. I have to use DateTimeFormatter with Locale\r\n```\r\nDateTimeFormatter FORMATTER = DateTimeFormatter.ofLocalizedDateTime(FormatStyle.LONG).withLocale(Locale.GERMANY);\r\nLocalDateTime time = LocalDateTime.parse(&quot;27. April 2021 00:03:50 MESZ&quot;, FORMATTER);\r\n```\r\n\r\n\r\n","title":"MESZ is not recognized in the pattern of DateTimeFormatter of Java","body":"<p>I found the answer. I have to use DateTimeFormatter with Locale</p>\n<pre><code>DateTimeFormatter FORMATTER = DateTimeFormatter.ofLocalizedDateTime(FormatStyle.LONG).withLocale(Locale.GERMANY);\nLocalDateTime time = LocalDateTime.parse(&quot;27. April 2021 00:03:50 MESZ&quot;, FORMATTER);\n</code></pre>\n"}],"owner":{"account_id":22392775,"reputation":29,"user_id":16604539,"display_name":"Vishal "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75843594,"answer_count":1,"score":0,"last_activity_date":1679833937,"creation_date":1679747060,"question_id":75841656,"body_markdown":"```\r\nLocalDateTime time = LocalDateTime.parse(&quot;27. April 2021 00:03:50 MESZ&quot;, DateTimeFormatter.ofPattern(&quot;dd. MMMM yyyy HH:mm:ss z&quot;));\r\n```\r\nTrying to parse time string as shown above. &#39;z&#39; in the pattern is not able to recognize &quot;MESZ&quot; time zone.\r\n\r\n\r\nCan someone tell me if there is any other pattern I have to use to match &quot;MESZ&quot;?","title":"MESZ is not recognized in the pattern of DateTimeFormatter of Java","body":"<pre><code>LocalDateTime time = LocalDateTime.parse(&quot;27. April 2021 00:03:50 MESZ&quot;, DateTimeFormatter.ofPattern(&quot;dd. MMMM yyyy HH:mm:ss z&quot;));\n</code></pre>\n<p>Trying to parse time string as shown above. 'z' in the pattern is not able to recognize &quot;MESZ&quot; time zone.</p>\n<p>Can someone tell me if there is any other pattern I have to use to match &quot;MESZ&quot;?</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679833320,"creation_date":1679833320,"answer_id":75847719,"question_id":75847368,"body_markdown":"1. Add a log4j.properties file to your client to see connection issues \r\n2. Make sure `advertised.listeners=PLAINTEXT://220.220.220.220:9092` on the server\r\n3. Test first with other tools like `kafka-console-consumer` or `kcat`","title":"KafkaConsumer get empty records from remote kafka server but get records when running the same program in the kafka server machine","body":"<ol>\n<li>Add a log4j.properties file to your client to see connection issues</li>\n<li>Make sure <code>advertised.listeners=PLAINTEXT://220.220.220.220:9092</code> on the server</li>\n<li>Test first with other tools like <code>kafka-console-consumer</code> or <code>kcat</code></li>\n</ol>\n"}],"owner":{"account_id":9420062,"reputation":159,"user_id":7006709,"display_name":"zzy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75847719,"answer_count":1,"score":0,"last_activity_date":1679833366,"creation_date":1679829169,"question_id":75847368,"body_markdown":"I am using Kafka server 3.3.1 and java package Kafka-Clients 3.3.1.\r\n\r\nI have a simple KafkaConsumer program as below:\r\n```\r\n        Properties consumerProperties= new Properties();\r\n        // fake ip address\r\n        consumerProperties.put(&quot;bootstrap.servers&quot;, &quot;220.220.220.220:9092&quot;);\r\n\r\n        consumerProperties.put(&quot;group.id&quot;, &quot;TestConsumerGroup&quot;);\r\n        consumerProperties.put(&quot;key.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n        consumerProperties.put(&quot;value.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n\r\n        consumerProperties.put(&quot;auto.offset.reset&quot;, &quot;earliest&quot;);\r\n        consumerProperties.put(&quot;client.id&quot;, &quot;remote1&quot;);\r\n\r\n        KafkaConsumer consumer = new KafkaConsumer(consumerProperties);\r\n\r\n        String topicName=&quot;quickstart-events&quot;;\r\n        consumer.subscribe(Collections.singletonList(topicName));\r\n\r\n        Duration duration = Duration.ofSeconds(10);\r\n        int epoch=1;\r\n        while(true){\r\n\r\n            System.out.println(epoch++);\r\n\r\n            ConsumerRecords&lt;String, String&gt; records=consumer.poll(5000);\r\n            consumer.seekToBeginning(consumer.assignment());\r\n\r\n            System.out.println(&quot;records count:&quot;+records.count());\r\n            for(var record: records){\r\n                System.out.printf(&quot;topic=%s, partition=%d, offset=%d, key=%s, value=%s\\n&quot;, record.topic(),\r\n                record.partition(), record.offset(), record.key(), record.value());\r\n            }\r\n        }\r\n\r\n```\r\n\r\nFirstly, I run this program in the machine A(this can access kafka server machien with ssh) which is a different machine with kafka server machine.\r\nconsumerProperties.put(&quot;bootstrap.servers&quot;, &quot;220.220.220.220:9092&quot;);// public ip 220.220.220.220:9092 this is the kafka server machine.\r\n\r\nThen the records count always is empty no matter the timeout duration. By the way, if I call listTopics() method then I can get the result successfully in machine A.\r\n\r\nSecondly, I deploy this program in the kafka server machine. Then I can read the message records successfully.\r\n\r\nDo you know the reason? Thanks\r\nThen \r\n\r\n\r\nThe expect result is that I should get the same result with I run this program in the kafka server machine.","title":"KafkaConsumer get empty records from remote kafka server but get records when running the same program in the kafka server machine","body":"<p>I am using Kafka server 3.3.1 and java package Kafka-Clients 3.3.1.</p>\n<p>I have a simple KafkaConsumer program as below:</p>\n<pre><code>        Properties consumerProperties= new Properties();\n        // fake ip address\n        consumerProperties.put(&quot;bootstrap.servers&quot;, &quot;220.220.220.220:9092&quot;);\n\n        consumerProperties.put(&quot;group.id&quot;, &quot;TestConsumerGroup&quot;);\n        consumerProperties.put(&quot;key.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\n        consumerProperties.put(&quot;value.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\n\n        consumerProperties.put(&quot;auto.offset.reset&quot;, &quot;earliest&quot;);\n        consumerProperties.put(&quot;client.id&quot;, &quot;remote1&quot;);\n\n        KafkaConsumer consumer = new KafkaConsumer(consumerProperties);\n\n        String topicName=&quot;quickstart-events&quot;;\n        consumer.subscribe(Collections.singletonList(topicName));\n\n        Duration duration = Duration.ofSeconds(10);\n        int epoch=1;\n        while(true){\n\n            System.out.println(epoch++);\n\n            ConsumerRecords&lt;String, String&gt; records=consumer.poll(5000);\n            consumer.seekToBeginning(consumer.assignment());\n\n            System.out.println(&quot;records count:&quot;+records.count());\n            for(var record: records){\n                System.out.printf(&quot;topic=%s, partition=%d, offset=%d, key=%s, value=%s\\n&quot;, record.topic(),\n                record.partition(), record.offset(), record.key(), record.value());\n            }\n        }\n\n</code></pre>\n<p>Firstly, I run this program in the machine A(this can access kafka server machien with ssh) which is a different machine with kafka server machine.\nconsumerProperties.put(&quot;bootstrap.servers&quot;, &quot;220.220.220.220:9092&quot;);// public ip 220.220.220.220:9092 this is the kafka server machine.</p>\n<p>Then the records count always is empty no matter the timeout duration. By the way, if I call listTopics() method then I can get the result successfully in machine A.</p>\n<p>Secondly, I deploy this program in the kafka server machine. Then I can read the message records successfully.</p>\n<p>Do you know the reason? Thanks\nThen</p>\n<p>The expect result is that I should get the same result with I run this program in the kafka server machine.</p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1679788936,"post_id":75845196,"comment_id":133783898,"body_markdown":"Please don&#39;t post photos of text. Edit your question to include your code.","body":"Please don&#39;t post photos of text. Edit your question to include your code."},{"owner":{"account_id":18326407,"reputation":7,"user_id":13345940,"display_name":"KrcnHc"},"score":0,"creation_date":1679789001,"post_id":75845196,"comment_id":133783901,"body_markdown":"Oh sorry, I will edit it right now.","body":"Oh sorry, I will edit it right now."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1679789235,"post_id":75845196,"comment_id":133783918,"body_markdown":"Have a look at where you declare `metroMap`. You are declaring a one-dimensional array, but you are trying to set *two* dimensions.","body":"Have a look at where you declare <code>metroMap</code>. You are declaring a one-dimensional array, but you are trying to set <i>two</i> dimensions."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1679789485,"post_id":75845196,"comment_id":133783943,"body_markdown":"An `ArrayList` is a `List` which uses arrays internally. It cannot be used like an array. I suggest you read some Java tutorials, e.g. https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html and https://docs.oracle.com/javase/tutorial/collections/interfaces/list.html","body":"An <code>ArrayList</code> is a <code>List</code> which uses arrays internally. It cannot be used like an array. I suggest you read some Java tutorials, e.g. <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.htm&zwnj;&#8203;l</a> and <a href=\"https://docs.oracle.com/javase/tutorial/collections/interfaces/list.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/collections/interfaces/&hellip;</a>"},{"owner":{"account_id":18326407,"reputation":7,"user_id":13345940,"display_name":"KrcnHc"},"score":0,"creation_date":1679789517,"post_id":75845196,"comment_id":133783950,"body_markdown":"I knew that wasn&#39;t right but that was what I could think of as closest to the correct way.","body":"I knew that wasn&#39;t right but that was what I could think of as closest to the correct way."},{"owner":{"account_id":18326407,"reputation":7,"user_id":13345940,"display_name":"KrcnHc"},"score":0,"creation_date":1679789544,"post_id":75845196,"comment_id":133783952,"body_markdown":"Ok I will check them out thanks","body":"Ok I will check them out thanks"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1679793804,"post_id":75845196,"comment_id":133784266,"body_markdown":"You might want to consider using Java’s object-oriented features to define a class (a [record](https://openjdk.org/jeps/395), probably) to represent your data in a meaningful structure.","body":"You might want to consider using Java’s object-oriented features to define a class (a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a>, probably) to represent your data in a meaningful structure."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1679841970,"post_id":75845196,"comment_id":133789197,"body_markdown":"I suspect this could be the result of an [X-Y Problem](https://en.wikipedia.org/wiki/XY_problem) . The O/P might have  wanted a 10 x N x 3 String array, but wasn&#39;t familiar with how to have the middle dimension variable. So, thought of mixing arrays and `List` Objects.  If this is correct, I suggest the title be changed to &quot;Three dimension array with variable size of middle dimension&quot;, and the question body edited for clarification.","body":"I suspect this could be the result of an <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">X-Y Problem</a> . The O/P might have  wanted a 10 x N x 3 String array, but wasn&#39;t familiar with how to have the middle dimension variable. So, thought of mixing arrays and <code>List</code> Objects.  If this is correct, I suggest the title be changed to &quot;Three dimension array with variable size of middle dimension&quot;, and the question body edited for clarification."}],"answers":[{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679833293,"creation_date":1679796562,"answer_id":75845531,"question_id":75845196,"body_markdown":"When it was decided to add generics to Java, generics were implemented in a way that made them incompatible with arrays. So, a line like `ArrayList&lt;String[]&gt;[] metroMap = new ArrayList&lt;String[]&gt;[10][3];` would cause a compiler error: `Generic array creation`. \r\n\r\nWithout generics, you could have an array of `ArrayList`. And, each element in one of the `ArrayList` elements could be an array or another `List`. As you reference each element, you would want to use a cast.\r\n\r\n        List[] mapMetro = new ArrayList [12];\r\n        int stops;\r\n        ... \r\n        String [][] foo = new String [stops][3];\r\n        ... \r\n        mapMetro [0].add (foo);\r\n        ... \r\n        String [][] bitter = (String [][]) mapMetro[i].get (j);\r\n\r\nThis is generally not advised. Search for &quot;Java Don&#39;t use raw types in new code.&quot; \r\n\r\nI&#39;ve spent little time on this possibility, because I&#39;d like to suggest an alternative: Simply use a &quot;3D array&quot;.   \r\n\r\nJava doesn&#39;t have true multidimensional arrays. But, an array is a reference type. And Java allows arrays of reference types, so nested arrays are allowed. \r\n\r\nOne consequence is &quot;ragged&quot; arrays are allowed. For example, in a &quot;2D array&quot;, row zero might have 12 elements, row one might have 2 elements, row 3 might have zero elements, row 4 might have 42 elements. \r\n\r\nMore to the point: The references can be manipulated to point to other Objects of the same type.\r\n\r\n       String [][] foo = new String [10][12];\r\n       String [] roadRunner = new String [18];\r\n       ... // code to use foo and roadRunner\r\n       foo [5] = new String [] {&quot;Bugs&quot;,&quot;Daffy&quot;,&quot;Yosemite Sam&quot;};\r\n       foo [6] = roadRunner; \r\n       foo [7] = new String [7];\r\n\r\nSo, when you know `metroMap` will have `k` elements (lines), but each line has a different number of stations, you can delay declaring the number of stations until information for each line is available: \r\n\r\n       String [][][] metroMap = new String [k][][];\r\n       int stations;\r\n       ... \r\n       for (int j = 0; j &lt; metroMap.length; j++) {\r\n         // put yourcode to get number of stations for line j here\r\n         // I&#39;ll assume it is in variable &quot;stations&quot; \r\n         metroMap [j] = new String [stations][3];\r\n         // your code to fill elements of  metroMap[j] here\r\n       }\r\n\r\nYou can iterate over the array with nested loops:\r\n\r\n      for (int j = 0; j &lt; metroMap.length; j++) {\r\n           for (int k = 0; k &lt; metroMap[j].length; k++) {\r\n               for (int m = 0; m &lt; metroMap[j][k].length; m++) {\r\n                  String foo = metroMap [j][k][m];\r\n                  ...\r\n               }\r\n           }\r\n       }\r\n \r\nOr, using the enhanced for loop:\r\n\r\n       for (String [][] stops: metroMap) {\r\n           for (String [] aStation: stops) { \r\n               for (String foo: aStation) {\r\n                  ... \r\n               }\r\n           }\r\n       }\r\n\r\nComment: I neglected to mention a third possibility: Java allows nested Collections: One could code `ArrayList&lt;ArrayList&lt;ArrayList&lt;String&gt;&gt;&gt; foo;` for example. \r\n       ","title":"Can I create an array of arraylists of arrays in Java?","body":"<p>When it was decided to add generics to Java, generics were implemented in a way that made them incompatible with arrays. So, a line like <code>ArrayList&lt;String[]&gt;[] metroMap = new ArrayList&lt;String[]&gt;[10][3];</code> would cause a compiler error: <code>Generic array creation</code>.</p>\n<p>Without generics, you could have an array of <code>ArrayList</code>. And, each element in one of the <code>ArrayList</code> elements could be an array or another <code>List</code>. As you reference each element, you would want to use a cast.</p>\n<pre><code>    List[] mapMetro = new ArrayList [12];\n    int stops;\n    ... \n    String [][] foo = new String [stops][3];\n    ... \n    mapMetro [0].add (foo);\n    ... \n    String [][] bitter = (String [][]) mapMetro[i].get (j);\n</code></pre>\n<p>This is generally not advised. Search for &quot;Java Don't use raw types in new code.&quot;</p>\n<p>I've spent little time on this possibility, because I'd like to suggest an alternative: Simply use a &quot;3D array&quot;.</p>\n<p>Java doesn't have true multidimensional arrays. But, an array is a reference type. And Java allows arrays of reference types, so nested arrays are allowed.</p>\n<p>One consequence is &quot;ragged&quot; arrays are allowed. For example, in a &quot;2D array&quot;, row zero might have 12 elements, row one might have 2 elements, row 3 might have zero elements, row 4 might have 42 elements.</p>\n<p>More to the point: The references can be manipulated to point to other Objects of the same type.</p>\n<pre><code>   String [][] foo = new String [10][12];\n   String [] roadRunner = new String [18];\n   ... // code to use foo and roadRunner\n   foo [5] = new String [] {&quot;Bugs&quot;,&quot;Daffy&quot;,&quot;Yosemite Sam&quot;};\n   foo [6] = roadRunner; \n   foo [7] = new String [7];\n</code></pre>\n<p>So, when you know <code>metroMap</code> will have <code>k</code> elements (lines), but each line has a different number of stations, you can delay declaring the number of stations until information for each line is available:</p>\n<pre><code>   String [][][] metroMap = new String [k][][];\n   int stations;\n   ... \n   for (int j = 0; j &lt; metroMap.length; j++) {\n     // put yourcode to get number of stations for line j here\n     // I'll assume it is in variable &quot;stations&quot; \n     metroMap [j] = new String [stations][3];\n     // your code to fill elements of  metroMap[j] here\n   }\n</code></pre>\n<p>You can iterate over the array with nested loops:</p>\n<pre><code>  for (int j = 0; j &lt; metroMap.length; j++) {\n       for (int k = 0; k &lt; metroMap[j].length; k++) {\n           for (int m = 0; m &lt; metroMap[j][k].length; m++) {\n              String foo = metroMap [j][k][m];\n              ...\n           }\n       }\n   }\n</code></pre>\n<p>Or, using the enhanced for loop:</p>\n<pre><code>   for (String [][] stops: metroMap) {\n       for (String [] aStation: stops) { \n           for (String foo: aStation) {\n              ... \n           }\n       }\n   }\n</code></pre>\n<p>Comment: I neglected to mention a third possibility: Java allows nested Collections: One could code <code>ArrayList&lt;ArrayList&lt;ArrayList&lt;String&gt;&gt;&gt; foo;</code> for example.</p>\n"}],"owner":{"account_id":18326407,"reputation":7,"user_id":13345940,"display_name":"KrcnHc"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1679794376,"accepted_answer_id":75845531,"answer_count":1,"score":-3,"last_activity_date":1679833293,"creation_date":1679788730,"question_id":75845196,"body_markdown":"What I want to create is a 10-element array that consist of arraylists. Also the arraylists should consist of 3-element(string) arrays. (Something like metroMap[10][?][3])\r\nI learned that arraylist of arrays and array of arraylists are possible but what about the above example?\r\n\r\nI tried creating it but I had trouble specifying the number of elements\r\n\r\n    ArrayList&lt;String[]&gt;[] metroMap = new ArrayList&lt;String[]&gt;[10][3];\r\n    /*\r\n    String[][] firstMetroline = new String[occurences(metrolines[0][2], &#39;,&#39;)][3]; // creating arrays with the\r\n    String[][] secondMetroline = new String[occurences(metrolines[1][2], &#39;,&#39;)][3]; // required sizes for\r\n    String[][] thirdMetroline = new String[occurences(metrolines[2][2], &#39;,&#39;)][3]; // each metroline\r\n    String[][] fourthMetroline = new String[occurences(metrolines[3][2], &#39;,&#39;)][3];\r\n    String[][] fifthMetroline = new String[occurences(metrolines[4][2], &#39;,&#39;)][3];\r\n    String[][] sixthMetroline = new String[occurences(metrolines[5][2], &#39;,&#39;)][3];\r\n    String[][] seventhMetroline = new String[occurences(metrolines[6][2], &#39;,&#39;)][3];\r\n    String[][] eighthMetroline = new String[occurences(metrolines[7][2], &#39;,&#39;)][3];\r\n    String[][] ninthMetroline = new String[occurences(metrolines[8][2], &#39;,&#39;)][3];\r\n    String[][] tenthMetroline = new String[occurences(metrolines[9][2], &#39;,&#39;)][3];\r\n    */\r\n    for (int j = 0; j &lt; 10; j++) {\r\n        String stationsString = metrolines[0][2];\r\n        for (int i = 0; i &lt; occurences(metrolines[j][2], &#39;,&#39;); i++) {\r\n            // further processing our data by storing each station and their coordinates as elements of our arrays\r\n            if (stationsString.charAt(0) == &#39;*&#39;) {\r\n                metroMap[j][i][0] = stationsString.substring(1, stationsString.indexOf(&#39; &#39;));\r\n                metroMap[j][i][2] = &quot;Visible&quot;;\r\n            } else {\r\n                metroMap[j][i][0] = stationsString.substring(0, stationsString.indexOf(&#39; &#39;));\r\n                metroMap[j][i][2] = &quot;Invisible&quot;;\r\n            }\r\n            stationsString = stationsString.substring(stationsString.indexOf(&#39; &#39;) + 1);\r\n            if (stationsString.indexOf(&#39; &#39;) != -1) {\r\n                metroMap[j][i][1] = stationsString.substring(0, stationsString.indexOf(&#39; &#39;));\r\n                stationsString = stationsString.substring(stationsString.indexOf(&#39; &#39;) + 1);\r\n            } else\r\n                metroMap[j][i][1] = stationsString;\r\n        }\r\n    }","title":"Can I create an array of arraylists of arrays in Java?","body":"<p>What I want to create is a 10-element array that consist of arraylists. Also the arraylists should consist of 3-element(string) arrays. (Something like metroMap[10][?][3])\nI learned that arraylist of arrays and array of arraylists are possible but what about the above example?</p>\n<p>I tried creating it but I had trouble specifying the number of elements</p>\n<pre><code>ArrayList&lt;String[]&gt;[] metroMap = new ArrayList&lt;String[]&gt;[10][3];\n/*\nString[][] firstMetroline = new String[occurences(metrolines[0][2], ',')][3]; // creating arrays with the\nString[][] secondMetroline = new String[occurences(metrolines[1][2], ',')][3]; // required sizes for\nString[][] thirdMetroline = new String[occurences(metrolines[2][2], ',')][3]; // each metroline\nString[][] fourthMetroline = new String[occurences(metrolines[3][2], ',')][3];\nString[][] fifthMetroline = new String[occurences(metrolines[4][2], ',')][3];\nString[][] sixthMetroline = new String[occurences(metrolines[5][2], ',')][3];\nString[][] seventhMetroline = new String[occurences(metrolines[6][2], ',')][3];\nString[][] eighthMetroline = new String[occurences(metrolines[7][2], ',')][3];\nString[][] ninthMetroline = new String[occurences(metrolines[8][2], ',')][3];\nString[][] tenthMetroline = new String[occurences(metrolines[9][2], ',')][3];\n*/\nfor (int j = 0; j &lt; 10; j++) {\n    String stationsString = metrolines[0][2];\n    for (int i = 0; i &lt; occurences(metrolines[j][2], ','); i++) {\n        // further processing our data by storing each station and their coordinates as elements of our arrays\n        if (stationsString.charAt(0) == '*') {\n            metroMap[j][i][0] = stationsString.substring(1, stationsString.indexOf(' '));\n            metroMap[j][i][2] = &quot;Visible&quot;;\n        } else {\n            metroMap[j][i][0] = stationsString.substring(0, stationsString.indexOf(' '));\n            metroMap[j][i][2] = &quot;Invisible&quot;;\n        }\n        stationsString = stationsString.substring(stationsString.indexOf(' ') + 1);\n        if (stationsString.indexOf(' ') != -1) {\n            metroMap[j][i][1] = stationsString.substring(0, stationsString.indexOf(' '));\n            stationsString = stationsString.substring(stationsString.indexOf(' ') + 1);\n        } else\n            metroMap[j][i][1] = stationsString;\n    }\n}\n</code></pre>\n"},{"tags":["java","maven-2","maven","surefire"],"comments":[{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1262882130,"post_id":2021771,"comment_id":1943942,"body_markdown":"Could you post your POM? That would be easier.","body":"Could you post your POM? That would be easier."},{"owner":{"account_id":4774,"reputation":26513,"user_id":7345,"accept_rate":81,"display_name":"mindas"},"score":0,"creation_date":1262883650,"post_id":2021771,"comment_id":1944146,"body_markdown":"I can&#39;t post entire POM for both legal reasons and length - it&#39;s a big project, with hundreds of lines just in the POM. I could probably post relevant part(s), but not sure what exactly can be relevant.","body":"I can&#39;t post entire POM for both legal reasons and length - it&#39;s a big project, with hundreds of lines just in the POM. I could probably post relevant part(s), but not sure what exactly can be relevant."},{"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"score":1,"creation_date":1262884568,"post_id":2021771,"comment_id":1944286,"body_markdown":"Well, at least the maven-surefire-plugin configuration (if you have one or if you are inheriting one). Can you say if this problem is specific to one module? Does it happen outside the project? Are you inheriting from a corporate POM?","body":"Well, at least the maven-surefire-plugin configuration (if you have one or if you are inheriting one). Can you say if this problem is specific to one module? Does it happen outside the project? Are you inheriting from a corporate POM?"},{"owner":{"account_id":36408,"reputation":45923,"user_id":103842,"accept_rate":92,"display_name":"Kaleb Pederson"},"score":0,"creation_date":1262886581,"post_id":2021771,"comment_id":1944573,"body_markdown":"Can you provide detail on what the symptoms of &quot;can&#39;t execute&quot; are?","body":"Can you provide detail on what the symptoms of &quot;can&#39;t execute&quot; are?"}],"answers":[{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1520429736,"creation_date":1262882388,"answer_id":2021928,"question_id":2021771,"body_markdown":"Have you configured your maven-compile-plugin for the correct compiler level, like:\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;source&gt;1.5&lt;/source&gt;\r\n        &lt;target&gt;1.5&lt;/target&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nOtherwise maven will have trouble with annotations\r\n","title":"Surefire is not picking up Junit 4 tests","body":"<p>Have you configured your maven-compile-plugin for the correct compiler level, like:</p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;source&gt;1.5&lt;/source&gt;\n    &lt;target&gt;1.5&lt;/target&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Otherwise maven will have trouble with annotations</p>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1262886024,"creation_date":1262884364,"answer_id":2022150,"question_id":2021771,"body_markdown":"The verification that you&#39;ve done are good, especially checking that you are using version 2.3+ of the surefire plugin (by default, you&#39;ll get version 2.4.3 with maven 2.1 [super POM][1] so this should be ok) and checking that you not pulling the `junit-3.8.1.jar` dependency transitively. \r\n\r\nNow, just to validated that this is not a &quot;global problem&quot; (I don&#39;t think so TBH), could you create a project from scratch, for example by running:  \r\n\r\n    mvn archetype:create -DgroupId=com.mycompany.app -DartifactId=maven-junit4-testcase\r\n\r\nThen update the junit dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.7&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd configure the compiler level for 1.5+\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;source&gt;1.5&lt;/source&gt;\r\n        &lt;target&gt;1.5&lt;/target&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nFinally put your `SimpleTest.java` next to `AppTest.java` and run `mvn test`.\r\n\r\nIf running `mvn test` works fine for that project (and I&#39;m expecting it to run without problem), could you please update your question with the POM configuration you&#39;re using (from the project having troubles)?\r\n\r\n\r\n  [1]: http://maven.apache.org/guides/introduction/introduction-to-the-pom.html","title":"Surefire is not picking up Junit 4 tests","body":"<p>The verification that you've done are good, especially checking that you are using version 2.3+ of the surefire plugin (by default, you'll get version 2.4.3 with maven 2.1 <a href=\"http://maven.apache.org/guides/introduction/introduction-to-the-pom.html\" rel=\"nofollow noreferrer\">super POM</a> so this should be ok) and checking that you not pulling the <code>junit-3.8.1.jar</code> dependency transitively. </p>\n\n<p>Now, just to validated that this is not a \"global problem\" (I don't think so TBH), could you create a project from scratch, for example by running:  </p>\n\n<pre><code>mvn archetype:create -DgroupId=com.mycompany.app -DartifactId=maven-junit4-testcase\n</code></pre>\n\n<p>Then update the junit dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;junit&lt;/groupId&gt;\n  &lt;artifactId&gt;junit&lt;/artifactId&gt;\n  &lt;version&gt;4.7&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And configure the compiler level for 1.5+</p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;source&gt;1.5&lt;/source&gt;\n    &lt;target&gt;1.5&lt;/target&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Finally put your <code>SimpleTest.java</code> next to <code>AppTest.java</code> and run <code>mvn test</code>.</p>\n\n<p>If running <code>mvn test</code> works fine for that project (and I'm expecting it to run without problem), could you please update your question with the POM configuration you're using (from the project having troubles)?</p>\n"},{"tags":[],"owner":{"account_id":36408,"reputation":45923,"user_id":103842,"accept_rate":92,"display_name":"Kaleb Pederson"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1262886970,"creation_date":1262886970,"answer_id":2022420,"question_id":2021771,"body_markdown":"I don&#39;t know what you mean by &quot;can&#39;t execute,&quot; but does it help to explicitly set the includes used by the `maven-surefire-plugin`?\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.3&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;includes&gt;\r\n                &lt;include&gt;**/*Test.java&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAlso, does running maven with the `-X` flag provide any useful information?","title":"Surefire is not picking up Junit 4 tests","body":"<p>I don't know what you mean by \"can't execute,\" but does it help to explicitly set the includes used by the <code>maven-surefire-plugin</code>?</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.4.3&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;includes&gt;\n            &lt;include&gt;**/*Test.java&lt;/include&gt;\n        &lt;/includes&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Also, does running maven with the <code>-X</code> flag provide any useful information?</p>\n"},{"tags":[],"owner":{"account_id":4774,"reputation":26513,"user_id":7345,"accept_rate":81,"display_name":"mindas"},"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1262954039,"creation_date":1262954039,"answer_id":2027544,"question_id":2021771,"body_markdown":"`mvn -X` helped me to reveal the following:\r\n\r\n    ...\r\n    [INFO] [surefire:test {execution: default-test}]\r\n    [DEBUG] dummy:dummy:jar:1.0 (selected for null)\r\n    [DEBUG]   org.apache.maven.surefire:surefire-booter:jar:2.4.3:runtime (selected for runtime)\r\n    [DEBUG]     org.apache.maven.surefire:surefire-api:jar:2.4.3:runtime (selected for runtime)\r\n    [DEBUG] Adding to surefire booter test classpath: /home/mindas/.m2/repository/org/apache/maven/surefire/surefire-booter/2.4.3/surefire-booter-2.4.3.jar\r\n    [DEBUG] Adding to surefire booter test classpath: /home/mindas/.m2/repository/org/apache/maven/surefire/surefire-api/2.4.3/surefire-api-2.4.3.jar\r\n    [DEBUG] dummy:dummy:jar:1.0 (selected for null)\r\n    [DEBUG]   org.testng:testng:jar:jdk15:5.8:test (selected for test)\r\n    [DEBUG]     junit:junit:jar:3.8.1:test (selected for test)\r\n    [DEBUG] Adding to surefire booter test classpath: /home/mindas/.m2/repository/org/testng/testng/5.8/testng-5.8-jdk15.jar\r\n    [DEBUG] Adding to surefire booter test classpath: /home/mindas/.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar\r\n    [DEBUG] dummy:dummy:jar:1.0 (selected for null)\r\n    [DEBUG] Retrieving parent-POM: org.apache.maven.surefire:surefire-providers:pom:2.4.3 for project: null:surefire-testng:jar:null from the repository.\r\n    [DEBUG] Adding managed dependencies for unknown:surefire-testng\r\n    [DEBUG]   org.apache.maven.surefire:surefire-api:jar:2.4.3\r\n    [DEBUG]   org.apache.maven.surefire:surefire-booter:jar:2.4.3\r\n    [DEBUG]   org.codehaus.plexus:plexus-utils:jar:1.5.1\r\n    [DEBUG]   org.apache.maven.surefire:surefire-testng:jar:2.4.3:test (selected for test)\r\n    [DEBUG]     org.apache.maven:maven-artifact:jar:2.0:test (selected for test)\r\n    [DEBUG]       org.codehaus.plexus:plexus-utils:jar:1.0.4:test (selected for test)\r\n    [DEBUG]     junit:junit:jar:3.8.1:test (selected for test)\r\n    [DEBUG]     org.testng:testng:jar:jdk15:5.7:test (selected for test)\r\n    [DEBUG]     org.apache.maven.surefire:surefire-api:jar:2.4.3:test (selected for test)\r\n    ...\r\n    [DEBUG] Test Classpath :\r\n    ...\r\n    [DEBUG]   /home/mindas/.m2/repository/junit/junit/4.7/junit-4.7.jar\r\n\r\nSo it seems that the problem was coming from `testng` jar requiring JUnit v3.8.1. Even though `Test Classpath` was set to depend on JUnit 4, it was too late.\r\n\r\n`testng` dependency was located in my POM:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n      &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n      &lt;version&gt;5.8&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;classifier&gt;jdk15&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n\r\nImmediately after I have commented it out, tests started to execute.\r\n\r\nLessons learned:\r\n\r\n- `mvn dependency:tree` is not always enough, `mvn -X` is a friend.\r\n- surefire is not made for developer heaven (I have realized this while looking at project JIRA reports). This is especially true as there are no other alternatives if you use Maven.\r\n\r\nThanks everybody for your help. Unfortunately there is no way to split answer points between Pascal and Kaleb, but Kaleb&#39;s advice to use `mvn -X` helped me to get on the right track so correct answer points go to him.","title":"Surefire is not picking up Junit 4 tests","body":"<p><code>mvn -X</code> helped me to reveal the following:</p>\n\n<pre><code>...\n[INFO] [surefire:test {execution: default-test}]\n[DEBUG] dummy:dummy:jar:1.0 (selected for null)\n[DEBUG]   org.apache.maven.surefire:surefire-booter:jar:2.4.3:runtime (selected for runtime)\n[DEBUG]     org.apache.maven.surefire:surefire-api:jar:2.4.3:runtime (selected for runtime)\n[DEBUG] Adding to surefire booter test classpath: /home/mindas/.m2/repository/org/apache/maven/surefire/surefire-booter/2.4.3/surefire-booter-2.4.3.jar\n[DEBUG] Adding to surefire booter test classpath: /home/mindas/.m2/repository/org/apache/maven/surefire/surefire-api/2.4.3/surefire-api-2.4.3.jar\n[DEBUG] dummy:dummy:jar:1.0 (selected for null)\n[DEBUG]   org.testng:testng:jar:jdk15:5.8:test (selected for test)\n[DEBUG]     junit:junit:jar:3.8.1:test (selected for test)\n[DEBUG] Adding to surefire booter test classpath: /home/mindas/.m2/repository/org/testng/testng/5.8/testng-5.8-jdk15.jar\n[DEBUG] Adding to surefire booter test classpath: /home/mindas/.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar\n[DEBUG] dummy:dummy:jar:1.0 (selected for null)\n[DEBUG] Retrieving parent-POM: org.apache.maven.surefire:surefire-providers:pom:2.4.3 for project: null:surefire-testng:jar:null from the repository.\n[DEBUG] Adding managed dependencies for unknown:surefire-testng\n[DEBUG]   org.apache.maven.surefire:surefire-api:jar:2.4.3\n[DEBUG]   org.apache.maven.surefire:surefire-booter:jar:2.4.3\n[DEBUG]   org.codehaus.plexus:plexus-utils:jar:1.5.1\n[DEBUG]   org.apache.maven.surefire:surefire-testng:jar:2.4.3:test (selected for test)\n[DEBUG]     org.apache.maven:maven-artifact:jar:2.0:test (selected for test)\n[DEBUG]       org.codehaus.plexus:plexus-utils:jar:1.0.4:test (selected for test)\n[DEBUG]     junit:junit:jar:3.8.1:test (selected for test)\n[DEBUG]     org.testng:testng:jar:jdk15:5.7:test (selected for test)\n[DEBUG]     org.apache.maven.surefire:surefire-api:jar:2.4.3:test (selected for test)\n...\n[DEBUG] Test Classpath :\n...\n[DEBUG]   /home/mindas/.m2/repository/junit/junit/4.7/junit-4.7.jar\n</code></pre>\n\n<p>So it seems that the problem was coming from <code>testng</code> jar requiring JUnit v3.8.1. Even though <code>Test Classpath</code> was set to depend on JUnit 4, it was too late.</p>\n\n<p><code>testng</code> dependency was located in my POM:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.testng&lt;/groupId&gt;\n  &lt;artifactId&gt;testng&lt;/artifactId&gt;\n  &lt;version&gt;5.8&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n  &lt;classifier&gt;jdk15&lt;/classifier&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Immediately after I have commented it out, tests started to execute.</p>\n\n<p>Lessons learned:</p>\n\n<ul>\n<li><code>mvn dependency:tree</code> is not always enough, <code>mvn -X</code> is a friend.</li>\n<li>surefire is not made for developer heaven (I have realized this while looking at project JIRA reports). This is especially true as there are no other alternatives if you use Maven.</li>\n</ul>\n\n<p>Thanks everybody for your help. Unfortunately there is no way to split answer points between Pascal and Kaleb, but Kaleb's advice to use <code>mvn -X</code> helped me to get on the right track so correct answer points go to him.</p>\n"},{"tags":[],"owner":{"account_id":84033,"reputation":7089,"user_id":235161,"display_name":"Randall Hauch"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1302038688,"creation_date":1302038688,"answer_id":5558724,"question_id":2021771,"body_markdown":"The Surefire plugin figures out which JUnit provider should be used based upon the classpath. If there are multiple JUnit versions on the classpath, you can either correct the classpath to have only one JUnit version on the classpath (as discussed above), or you can explicitly specify which provider you want to use. For example, specifying the following in your (parent) POM forces using the newest provider (e.g., &quot;surefire-junit47&quot;):\r\n\r\n    [...]\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;2.8&lt;/version&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;!-- Force using the latest JUnit 47 provider --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n          &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    [...]\r\n\r\nNote however that Surefire 2.7 changed the way it&#39;s determining which unit test classes are run. ***The new behavior when using Surefire 2.7 (or later) with JUnit 4 is that any test without a @Test annotation will be skipped automatically.*** This may be great if you just have JUnit 4 unit tests, but if you have a combination of JUnit 3 and 4 unit tests, using the &quot;surefire-junit47&quot; provider will not work correctly. In such cases, its best to explicitly choose the &quot;surefire-junit4&quot; provider:\r\n\r\n    [...]\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;2.8&lt;/version&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n          &lt;!-- Use the older JUnit 4 provider --&gt;\r\n          &lt;artifactId&gt;surefire-junit4&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    [...]\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-surefire-plugin/examples/junit.html#How_is_the_provider_chosen_","title":"Surefire is not picking up Junit 4 tests","body":"<p>The Surefire plugin figures out which JUnit provider should be used based upon the classpath. If there are multiple JUnit versions on the classpath, you can either correct the classpath to have only one JUnit version on the classpath (as discussed above), or you can explicitly specify which provider you want to use. For example, specifying the following in your (parent) POM forces using the newest provider (e.g., \"surefire-junit47\"):</p>\n\n<pre><code>[...]\n&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;version&gt;2.8&lt;/version&gt;\n  &lt;dependencies&gt;\n    &lt;!-- Force using the latest JUnit 47 provider --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n      &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\n      &lt;version&gt;2.8&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n[...]\n</code></pre>\n\n<p>Note however that Surefire 2.7 changed the way it's determining which unit test classes are run. <strong><em>The new behavior when using Surefire 2.7 (or later) with JUnit 4 is that any test without a @Test annotation will be skipped automatically.</em></strong> This may be great if you just have JUnit 4 unit tests, but if you have a combination of JUnit 3 and 4 unit tests, using the \"surefire-junit47\" provider will not work correctly. In such cases, its best to explicitly choose the \"surefire-junit4\" provider:</p>\n\n<pre><code>[...]\n&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;version&gt;2.8&lt;/version&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n      &lt;!-- Use the older JUnit 4 provider --&gt;\n      &lt;artifactId&gt;surefire-junit4&lt;/artifactId&gt;\n      &lt;version&gt;2.8&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n[...]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":373701,"reputation":1606,"user_id":723506,"accept_rate":75,"display_name":"David Carboni"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1312367552,"creation_date":1312367552,"answer_id":6925096,"question_id":2021771,"body_markdown":"For the benefit of Googlers, when I had this issue it was because I&#39;d included a PowerMock dependency that pulled in TestNG, causing no [TestNG] tests to be detected by SureFire.\r\n\r\nI used the m2eclipse &quot;Dependency Hierarchy&quot; tab of the POM editor to find the dependency and right-clicked to generate an exclusion (see XML below).\r\n\r\nFor completeness (and for those not using m2eclipse) here&#39;s the XML that excludes the dependency - I only came across this feature of Maven by seeing these tags generated automatically:  \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n      &lt;artifactId&gt;powermock-mockito-release-full&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4.9&lt;/version&gt;\r\n      &lt;classifier&gt;full&lt;/classifier&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;artifactId&gt;powermock-module-testng&lt;/artifactId&gt;\r\n          &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n(In my case, excluding &quot;powermock-module-testng&quot; was sufficient, but you could exclude TestNG directly if it&#39;s coming in from somewhere else.)","title":"Surefire is not picking up Junit 4 tests","body":"<p>For the benefit of Googlers, when I had this issue it was because I'd included a PowerMock dependency that pulled in TestNG, causing no [TestNG] tests to be detected by SureFire.</p>\n\n<p>I used the m2eclipse \"Dependency Hierarchy\" tab of the POM editor to find the dependency and right-clicked to generate an exclusion (see XML below).</p>\n\n<p>For completeness (and for those not using m2eclipse) here's the XML that excludes the dependency - I only came across this feature of Maven by seeing these tags generated automatically:  </p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n  &lt;artifactId&gt;powermock-mockito-release-full&lt;/artifactId&gt;\n  &lt;version&gt;1.4.9&lt;/version&gt;\n  &lt;classifier&gt;full&lt;/classifier&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;artifactId&gt;powermock-module-testng&lt;/artifactId&gt;\n      &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>(In my case, excluding \"powermock-module-testng\" was sufficient, but you could exclude TestNG directly if it's coming in from somewhere else.)</p>\n"},{"tags":[],"owner":{"account_id":135067,"reputation":9676,"user_id":337621,"accept_rate":70,"display_name":"G&#225;bor Lipt&#225;k"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1475668028,"creation_date":1372940125,"answer_id":17470083,"question_id":2021771,"body_markdown":"One more possible cause can be this bug (closed with &quot;Won&#39;t fix&quot;): https://issues.apache.org/jira/browse/SUREFIRE-587\r\n\r\nShort summary: Tests extending TestCase (but not using annotations) will not be picked up if their name does not end with &quot;Test&quot;.","title":"Surefire is not picking up Junit 4 tests","body":"<p>One more possible cause can be this bug (closed with \"Won't fix\"): <a href=\"https://issues.apache.org/jira/browse/SUREFIRE-587\" rel=\"noreferrer\">https://issues.apache.org/jira/browse/SUREFIRE-587</a></p>\n\n<p>Short summary: Tests extending TestCase (but not using annotations) will not be picked up if their name does not end with \"Test\".</p>\n"},{"tags":[],"owner":{"account_id":2433974,"reputation":41,"user_id":2124321,"display_name":"MadhuGujjalapudi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1392981174,"creation_date":1392980836,"answer_id":21932697,"question_id":2021771,"body_markdown":"One small change helped me Funnily!!!\r\n\r\nI changed the class name from MyClassTest to TestMyClass, \r\nI got this idea after veryfing my parent POM.xml contains below line\r\n    \r\n    &lt;test.include.pattern&gt; **/Test*.java &lt;test.include.pattern/&gt;","title":"Surefire is not picking up Junit 4 tests","body":"<p>One small change helped me Funnily!!!</p>\n\n<p>I changed the class name from MyClassTest to TestMyClass, \nI got this idea after veryfing my parent POM.xml contains below line</p>\n\n<pre><code>&lt;test.include.pattern&gt; **/Test*.java &lt;test.include.pattern/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":149002,"reputation":2739,"user_id":361172,"accept_rate":20,"display_name":"James Selvakumar"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1473727778,"creation_date":1473044688,"answer_id":39323386,"question_id":2021771,"body_markdown":"For some poor soul out there who is wondering why Maven doesn&#39;t pick up JUnit tests. \r\n\r\nI have both JUnit and TestNG as dependecies. But I want failsafe to run my functional tests using TestNG and surefire to run my unit tests using JUnit.\r\n\r\nHowever, I found that surefire was attempting to run my unit tests using TestNG and found nothing to run. My JUnit tests were skipped. \r\n\r\nLater I came across this [Maven issue][1] and configured surefire to run only &quot;JUnit&quot; tests like this:\r\n\r\n    &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;properties&gt;\r\n          &lt;property&gt;\r\n            &lt;name&gt;junit&lt;/name&gt;\r\n            &lt;value&gt;true&lt;/value&gt;\r\n          &lt;/property&gt;\r\n        &lt;/properties&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nHope this helps someone.\r\n\r\n  [1]: https://issues.apache.org/jira/browse/SUREFIRE-377","title":"Surefire is not picking up Junit 4 tests","body":"<p>For some poor soul out there who is wondering why Maven doesn't pick up JUnit tests. </p>\n\n<p>I have both JUnit and TestNG as dependecies. But I want failsafe to run my functional tests using TestNG and surefire to run my unit tests using JUnit.</p>\n\n<p>However, I found that surefire was attempting to run my unit tests using TestNG and found nothing to run. My JUnit tests were skipped. </p>\n\n<p>Later I came across this <a href=\"https://issues.apache.org/jira/browse/SUREFIRE-377\" rel=\"noreferrer\">Maven issue</a> and configured surefire to run only \"JUnit\" tests like this:</p>\n\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;properties&gt;\n      &lt;property&gt;\n        &lt;name&gt;junit&lt;/name&gt;\n        &lt;value&gt;true&lt;/value&gt;\n      &lt;/property&gt;\n    &lt;/properties&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Hope this helps someone.</p>\n"},{"tags":[],"owner":{"account_id":4809151,"reputation":557,"user_id":3883118,"display_name":"Ashutosh Shukla"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1494410971,"creation_date":1494410971,"answer_id":43889426,"question_id":2021771,"body_markdown":"1.) Include following surefire plugin in pom.xml\r\n\r\n    &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.20&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n2.)By default surefire plugin picks Test class from package :- src/test/java/....\r\n  \r\n So go to Build Path and include test folder in classpath like below :\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/QMIf3.png\r\n  [2]: https://i.stack.imgur.com/aS6u5.png\r\n\r\n3.) Go to --&gt; Run As --&gt;Maven Test\r\n\r\n    [INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.081 \r\n    s - in com.bnym.dcm.api.controller.AccountControllerTest\r\n    [INFO] Running com.bnym.dcm.api.controller.DCMApiControllerTest\r\n    [INFO] Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - \r\n    in com.bnym.dcm.api.controller.DCMApiControllerTest\r\n    [INFO] \r\n    [INFO] Results:\r\n    [INFO] \r\n    [INFO] Tests run: 7, Failures: 0, Errors: 0, Skipped: 0\r\n    [INFO] \r\n    [INFO] ----------------------------------------------------------------------\r\n    --\r\n    [INFO] BUILD SUCCESS","title":"Surefire is not picking up Junit 4 tests","body":"<p>1.) Include following surefire plugin in pom.xml</p>\n\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n&lt;version&gt;2.20&lt;/version&gt;\n&lt;configuration&gt;\n&lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>2.)By default surefire plugin picks Test class from package :- src/test/java/....</p>\n\n<p>So go to Build Path and include test folder in classpath like below :</p>\n\n<p><a href=\"https://i.stack.imgur.com/QMIf3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QMIf3.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/aS6u5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aS6u5.png\" alt=\"enter image description here\"></a></p>\n\n<p>3.) Go to --> Run As -->Maven Test</p>\n\n<pre><code>[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.081 \ns - in com.bnym.dcm.api.controller.AccountControllerTest\n[INFO] Running com.bnym.dcm.api.controller.DCMApiControllerTest\n[INFO] Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - \nin com.bnym.dcm.api.controller.DCMApiControllerTest\n[INFO] \n[INFO] Results:\n[INFO] \n[INFO] Tests run: 7, Failures: 0, Errors: 0, Skipped: 0\n[INFO] \n[INFO] ----------------------------------------------------------------------\n--\n[INFO] BUILD SUCCESS\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9034172,"reputation":1,"user_id":6730819,"display_name":"GeeMoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495224091,"creation_date":1495224091,"answer_id":44078194,"question_id":2021771,"body_markdown":"Had a similar issue when trying to run integration tests. I had an old version of the surefire plugin which was trying to run TestNG and not jUnit. I changed the version number in the pom to 2.20 and it worked. ","title":"Surefire is not picking up Junit 4 tests","body":"<p>Had a similar issue when trying to run integration tests. I had an old version of the surefire plugin which was trying to run TestNG and not jUnit. I changed the version number in the pom to 2.20 and it worked. </p>\n"},{"tags":[],"owner":{"account_id":31617,"reputation":52341,"user_id":86967,"accept_rate":56,"display_name":"Brent Bradburn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595970097,"creation_date":1595901774,"answer_id":63125988,"question_id":2021771,"body_markdown":"If you&#39;re using Maven, **the filename matters**.\r\n\r\nBy default, test filenames need to either start or end with &quot;Test&quot; or &quot;Tests&quot;, or they will be silently ignored when searching for tests.\r\n\r\nhttps://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html","title":"Surefire is not picking up Junit 4 tests","body":"<p>If you're using Maven, <strong>the filename matters</strong>.</p>\n<p>By default, test filenames need to either start or end with &quot;Test&quot; or &quot;Tests&quot;, or they will be silently ignored when searching for tests.</p>\n<p><a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html</a></p>\n"},{"tags":[],"owner":{"account_id":4132184,"reputation":1939,"user_id":3409387,"accept_rate":100,"display_name":"anandbibek"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1618746956,"creation_date":1618746956,"answer_id":67148219,"question_id":2021771,"body_markdown":"In case you have JUnit 5 (`import org.junit.jupiter.api.Test;`) in your dependencies and you&#39;re trying to run some JUnit4 (`import org.junit.Test;`) tests, make sure you include following dependency\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Surefire is not picking up Junit 4 tests","body":"<p>In case you have JUnit 5 (<code>import org.junit.jupiter.api.Test;</code>) in your dependencies and you're trying to run some JUnit4 (<code>import org.junit.Test;</code>) tests, make sure you include following dependency</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n  &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":4774,"reputation":26513,"user_id":7345,"accept_rate":81,"display_name":"mindas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77896,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":2027544,"answer_count":13,"score":46,"last_activity_date":1679833284,"creation_date":1262880952,"question_id":2021771,"body_markdown":"For some reason I cannot get Maven 2 Surefire plugin to execute JUnit 4 test class.\r\n\r\n    public class SimpleTest {\r\n      @org.junit.Test\r\n      public void simple() {\r\n         System.out.println(&quot;foo&quot;);\r\n      }\r\n    }\r\n\r\nHowever if I change this class to be JUnit-3 like, such as \r\n\r\n    public class SimpleTest extends junit.framework.TestCase {\r\n      public void testBar() {\r\n         System.out.println(&quot;bar&quot;);\r\n      }\r\n\r\n      @org.junit.Test\r\n      public void simple() {\r\n         System.out.println(&quot;foo&quot;);\r\n      }\r\n    }\r\nthen it gets executed. Here&#39;s what I&#39;ve done:\r\n\r\n- verified Maven version: Apache Maven 2.2.1 (r801777; 2009-08-06 20:16:01+0100)\r\n- verified Surefire version: followed [this](https://stackoverflow.com/questions/1336379/how-do-i-configure-maven-2s-surefire-plugin-to-run-junit-4-5) advice\r\n- verified Surefire version: checked Surefire jars in my `~/.m2/repository/org/apache/maven/surefire` -- all of them are either version 2.4.2 or 2.4.3\r\n- done a `mvn dependency:tree | grep junit` to ensure I only depend on junit version 4.7\r\n\r\nThe module I am having this problem at doesn&#39;t have JUnit 3 tests.\r\n\r\nIs there anything else I am missing?","title":"Surefire is not picking up Junit 4 tests","body":"<p>For some reason I cannot get Maven 2 Surefire plugin to execute JUnit 4 test class.</p>\n\n<pre><code>public class SimpleTest {\n  @org.junit.Test\n  public void simple() {\n     System.out.println(\"foo\");\n  }\n}\n</code></pre>\n\n<p>However if I change this class to be JUnit-3 like, such as </p>\n\n<pre><code>public class SimpleTest extends junit.framework.TestCase {\n  public void testBar() {\n     System.out.println(\"bar\");\n  }\n\n  @org.junit.Test\n  public void simple() {\n     System.out.println(\"foo\");\n  }\n}\n</code></pre>\n\n<p>then it gets executed. Here's what I've done:</p>\n\n<ul>\n<li>verified Maven version: Apache Maven 2.2.1 (r801777; 2009-08-06 20:16:01+0100)</li>\n<li>verified Surefire version: followed <a href=\"https://stackoverflow.com/questions/1336379/how-do-i-configure-maven-2s-surefire-plugin-to-run-junit-4-5\">this</a> advice</li>\n<li>verified Surefire version: checked Surefire jars in my <code>~/.m2/repository/org/apache/maven/surefire</code> -- all of them are either version 2.4.2 or 2.4.3</li>\n<li>done a <code>mvn dependency:tree | grep junit</code> to ensure I only depend on junit version 4.7</li>\n</ul>\n\n<p>The module I am having this problem at doesn't have JUnit 3 tests.</p>\n\n<p>Is there anything else I am missing?</p>\n"},{"tags":["java","json","parsing","multidimensional-array"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1679687210,"post_id":75837368,"comment_id":133771906,"body_markdown":"The modified object is just enclosed in a parent object and wrapped in an array, do I see that correctly? Your &quot;final objects&quot; isn&#39;t valid JSON, so it is not exactly clear what you are after","body":"The modified object is just enclosed in a parent object and wrapped in an array, do I see that correctly? Your &quot;final objects&quot; isn&#39;t valid JSON, so it is not exactly clear what you are after"},{"owner":{"account_id":27128530,"reputation":1,"user_id":20671103,"display_name":"Cn4"},"score":0,"creation_date":1679692883,"post_id":75837368,"comment_id":133772887,"body_markdown":"Yes you did see that correctly .However  thats how the api i am using was designed feels like the &quot;name&quot; i wanted as a variable of the object has it own variable for every diferent object. \n\nI am sorry if i am not being clear. But this is kinda hard to explain since my first language ain t english.","body":"Yes you did see that correctly .However  thats how the api i am using was designed feels like the &quot;name&quot; i wanted as a variable of the object has it own variable for every diferent object.   I am sorry if i am not being clear. But this is kinda hard to explain since my first language ain t english."}],"owner":{"account_id":27128530,"reputation":1,"user_id":20671103,"display_name":"Cn4"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679832460,"creation_date":1679684963,"question_id":75837368,"body_markdown":"\r\nI have a JSON file with a structure that looks something like this:\r\n\r\n```json\r\n{\r\n    &quot;ASDAS&quot;: {\r\n        &quot;g&quot;: 100,\r\n        &quot;f&quot;: {\r\n            &quot;a&quot;: false,\r\n            &quot;b&quot;: 83,\r\n            &quot;c&quot;: 8728,\r\n            &quot;d&quot;: 84,\r\n            &quot;e&quot;: &quot;2023-03-24T18:36:18.861Z&quot;\r\n        }\r\n    },\r\n    &quot;WQEQW&quot;: {\r\n        &quot;g&quot;: 80.9,\r\n        &quot;f&quot;: {\r\n            &quot;a&quot;: false,\r\n            &quot;b&quot;: 344,\r\n            &quot;c&quot;: 742,\r\n            &quot;d&quot;: 326,\r\n            &quot;e&quot;: &quot;2023-03-24T18:44:13.798Z&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHowever, the file is quite large and I wish to parse its data into an array of objects. In this new array, the first parameter of the structure would be something like a name. The issue I&#39;m facing is that I&#39;m struggling to parse the file correctly.\r\n\r\nI tried modifing the file into something like this :\r\n\r\n```json\r\n{\r\n    &quot;objects&quot;: [{\r\n        &quot;ASDAS&quot;: {\r\n            &quot;g&quot;: 100,\r\n            &quot;f&quot;: {\r\n                &quot;a&quot;: false,\r\n                &quot;b&quot;: 83,\r\n                &quot;c&quot;: 8728,\r\n                &quot;d&quot;: 84,\r\n                &quot;e&quot;: &quot;2023-03-24T18:36:18.861Z&quot;\r\n            }\r\n        },\r\n        &quot;WQEQW&quot;: {\r\n            &quot;g&quot;: 80.9,\r\n            &quot;f&quot;: {\r\n                &quot;a&quot;: false,\r\n                &quot;b&quot;: 344,\r\n                &quot;c&quot;: 742,\r\n                &quot;d&quot;: 326,\r\n                &quot;e&quot;: &quot;2023-03-24T18:44:13.798Z&quot;\r\n            }\r\n        }\r\n    }]\r\n}\r\n```\r\n\r\nSo, it would be easier to parse the data into the objects. One of the final objects would be nice if it looked something like this:\r\n\r\n```json\r\nobject(\r\n  name=ASDAS,\r\n  g=100,\r\n  f(a=false, b=83, c=8728, d=84, e=2023-03-24T18:36:18.861Z)\r\n);\r\n```\r\n\r\n(This would be inside an array with others.)\r\n\r\nI would appreciate an answer in either C# or Java, but if you can provide a more generic solution (links for things like this), I would not be upset either!","title":"Formating Array of json objects into array of objects in C or Java","body":"<p>I have a JSON file with a structure that looks something like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;ASDAS&quot;: {\n        &quot;g&quot;: 100,\n        &quot;f&quot;: {\n            &quot;a&quot;: false,\n            &quot;b&quot;: 83,\n            &quot;c&quot;: 8728,\n            &quot;d&quot;: 84,\n            &quot;e&quot;: &quot;2023-03-24T18:36:18.861Z&quot;\n        }\n    },\n    &quot;WQEQW&quot;: {\n        &quot;g&quot;: 80.9,\n        &quot;f&quot;: {\n            &quot;a&quot;: false,\n            &quot;b&quot;: 344,\n            &quot;c&quot;: 742,\n            &quot;d&quot;: 326,\n            &quot;e&quot;: &quot;2023-03-24T18:44:13.798Z&quot;\n        }\n    }\n}\n</code></pre>\n<p>However, the file is quite large and I wish to parse its data into an array of objects. In this new array, the first parameter of the structure would be something like a name. The issue I'm facing is that I'm struggling to parse the file correctly.</p>\n<p>I tried modifing the file into something like this :</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;objects&quot;: [{\n        &quot;ASDAS&quot;: {\n            &quot;g&quot;: 100,\n            &quot;f&quot;: {\n                &quot;a&quot;: false,\n                &quot;b&quot;: 83,\n                &quot;c&quot;: 8728,\n                &quot;d&quot;: 84,\n                &quot;e&quot;: &quot;2023-03-24T18:36:18.861Z&quot;\n            }\n        },\n        &quot;WQEQW&quot;: {\n            &quot;g&quot;: 80.9,\n            &quot;f&quot;: {\n                &quot;a&quot;: false,\n                &quot;b&quot;: 344,\n                &quot;c&quot;: 742,\n                &quot;d&quot;: 326,\n                &quot;e&quot;: &quot;2023-03-24T18:44:13.798Z&quot;\n            }\n        }\n    }]\n}\n</code></pre>\n<p>So, it would be easier to parse the data into the objects. One of the final objects would be nice if it looked something like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>object(\n  name=ASDAS,\n  g=100,\n  f(a=false, b=83, c=8728, d=84, e=2023-03-24T18:36:18.861Z)\n);\n</code></pre>\n<p>(This would be inside an array with others.)</p>\n<p>I would appreciate an answer in either C# or Java, but if you can provide a more generic solution (links for things like this), I would not be upset either!</p>\n"},{"tags":["java","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1514705850,"creation_date":1514705850,"answer_id":48040821,"question_id":48040638,"body_markdown":"It has the line break already but the cell does not show it. You need setting a cell style having wrap text property set to the cell.\r\n\r\nExample:\r\n\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    \r\n    class ExcelLineBreakWrapText {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      Workbook workbook = new XSSFWorkbook();\r\n      Sheet sheet = workbook.createSheet();\r\n    \r\n      CellStyle wrapStyle = workbook.createCellStyle();\r\n      wrapStyle.setWrapText(true);\r\n    \r\n      Row row = sheet.createRow(0);\r\n    \r\n      Cell cell = row.createCell(0); \r\n      cell.setCellStyle(wrapStyle);\r\n      cell.setCellValue(&quot;Consommation (cr&#233;dits)\\r\\nR&#233;alisation (produits)&quot;);\r\n    \r\n      sheet.autoSizeColumn(0);\r\n    \r\n      workbook.write(new FileOutputStream(&quot;ExcelLineBreakWrapText.xlsx&quot;));\r\n      workbook.close();\r\n    \r\n     }\r\n    }\r\n\r\n","title":"How to insert a linebreak as the data of a cell using Apache POI?","body":"<p>It has the line break already but the cell does not show it. You need setting a cell style having wrap text property set to the cell.</p>\n\n<p>Example:</p>\n\n<pre><code>import org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\n\nclass ExcelLineBreakWrapText {\n\n public static void main(String[] args) throws Exception {\n\n  Workbook workbook = new XSSFWorkbook();\n  Sheet sheet = workbook.createSheet();\n\n  CellStyle wrapStyle = workbook.createCellStyle();\n  wrapStyle.setWrapText(true);\n\n  Row row = sheet.createRow(0);\n\n  Cell cell = row.createCell(0); \n  cell.setCellStyle(wrapStyle);\n  cell.setCellValue(\"Consommation (crédits)\\r\\nRéalisation (produits)\");\n\n  sheet.autoSizeColumn(0);\n\n  workbook.write(new FileOutputStream(\"ExcelLineBreakWrapText.xlsx\"));\n  workbook.close();\n\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4514444,"reputation":17059,"user_id":3669698,"accept_rate":55,"display_name":"Hadi J"},"down_vote_count":0,"up_vote_count":63,"is_accepted":true,"score":63,"last_activity_date":1679832418,"creation_date":1514706146,"answer_id":48040849,"question_id":48040638,"body_markdown":"Try this: [here][1]\r\n\r\n\r\n\r\n\r\n\r\n\r\n    Row row = sheet.createRow(2);\r\n    Cell cell = row.createCell(2);\r\n    cell.setCellValue(&quot;Use \\n with word wrap on to create a new line&quot;);\r\n\r\n    //to enable newlines you need set a cell styles with wrap=true\r\n    CellStyle cs = wb.createCellStyle();\r\n    cs.setWrapText(true);\r\n    cell.setCellStyle(cs);\r\n\r\n\r\n  [1]: https://poi.apache.org/components/spreadsheet/quick-guide.html#NewLinesInCells","title":"How to insert a linebreak as the data of a cell using Apache POI?","body":"<p>Try this: <a href=\"https://poi.apache.org/components/spreadsheet/quick-guide.html#NewLinesInCells\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>Row row = sheet.createRow(2);\nCell cell = row.createCell(2);\ncell.setCellValue(&quot;Use \\n with word wrap on to create a new line&quot;);\n\n//to enable newlines you need set a cell styles with wrap=true\nCellStyle cs = wb.createCellStyle();\ncs.setWrapText(true);\ncell.setCellStyle(cs);\n</code></pre>\n"}],"owner":{"account_id":1039267,"reputation":18413,"user_id":1045704,"accept_rate":78,"display_name":"pheromix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39209,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":48040849,"answer_count":2,"score":35,"last_activity_date":1679832418,"creation_date":1514703756,"question_id":48040638,"body_markdown":"I use Apache POI 3.16 to create an Excel file. I want to set the data inside a particular cell to have a linebreak :\r\n\r\n    rowConsommationEtRealisation.createCell(0).setCellValue(&quot;Consommation (cr&#233;dits)\\r\\nR&#233;alisation (produits)&quot;);\r\n\r\nWhen I open the file then the cell value does not have linebreak ! So how to create linebreak ?","title":"How to insert a linebreak as the data of a cell using Apache POI?","body":"<p>I use Apache POI 3.16 to create an Excel file. I want to set the data inside a particular cell to have a linebreak :</p>\n\n<pre><code>rowConsommationEtRealisation.createCell(0).setCellValue(\"Consommation (crédits)\\r\\nRéalisation (produits)\");\n</code></pre>\n\n<p>When I open the file then the cell value does not have linebreak ! So how to create linebreak ?</p>\n"},{"tags":["java","arrays","prefix-sum"],"answers":[{"tags":[],"owner":{"account_id":22330083,"reputation":162,"user_id":16551451,"display_name":"Vishen"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1627541111,"creation_date":1627539576,"answer_id":68571008,"question_id":68570933,"body_markdown":"i too do leetcode, it&#39;s giving you TLE, because it&#39;s not the solution they are expecting. it&#39;s correct but it will O(N*N) operations to compute, there is much better solution with O(N), \r\n```\r\npublic int[] productExceptSelf(int[] nums) {\r\n          \r\n        int output[] = new int[ nums.length];\r\n        \r\n        output[0] = 1;\r\n\r\n        // left prefix product\r\n        for(int i=1;i&lt;nums.length;i++){\r\n             output[i] = output[i-1] * nums[i-1];\r\n        }\r\n        \r\n        int product = 1;\r\n\r\n        for(int i=nums.length-1;i&gt;=0;i--){\r\n            \r\n            output[i] = output[i] * product;\r\n            \r\n            product*= nums[i];\r\n        }\r\n        \r\n        return output;\r\n}\r\n```\r\n ","title":"238.Product of Array Except Self-Leetcode","body":"<p>i too do leetcode, it's giving you TLE, because it's not the solution they are expecting. it's correct but it will O(N*N) operations to compute, there is much better solution with O(N),</p>\n<pre><code>public int[] productExceptSelf(int[] nums) {\n          \n        int output[] = new int[ nums.length];\n        \n        output[0] = 1;\n\n        // left prefix product\n        for(int i=1;i&lt;nums.length;i++){\n             output[i] = output[i-1] * nums[i-1];\n        }\n        \n        int product = 1;\n\n        for(int i=nums.length-1;i&gt;=0;i--){\n            \n            output[i] = output[i] * product;\n            \n            product*= nums[i];\n        }\n        \n        return output;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7557651,"reputation":51,"user_id":5736615,"display_name":"Piyush Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636382601,"creation_date":1636382269,"answer_id":69885253,"question_id":68570933,"body_markdown":"The above problem is giving TLE (Time Limit Exceeds) because the above problem is solved in O(N^2) time complexity. As mentioned in the Question, Algorithm should run in O(N) time and without using the division operator. \r\n\r\n**Approach-1**\r\n\r\n    public int[] productExceptSelf(int[] nums) {\r\n\r\n        int[] leftProduct = new int[nums.length];\r\n        int[] rightProduct = new int[nums.length];\r\n        /**\r\n          calculate the left Prefix and right Suffix Product.\r\n        */\r\n        for (int i=0,j= nums.length-1; i &lt; nums.length; i++, j--) {\r\n            if (i == 0) {\r\n                leftProduct[i] = nums[i];\r\n                rightProduct[j] = nums[j];\r\n            }else {\r\n                leftProduct[i] = leftProduct[i-1] * nums[i];\r\n                rightProduct[j] = rightProduct[j+1] * nums[j];\r\n            }\r\n        }\r\n\r\n        for (int i=0; i &lt; nums.length; i++) {\r\n\r\n            if (i == 0) {\r\n                nums[i] = rightProduct[1];\r\n            }else if (i == (nums.length - 1)) {\r\n                nums[i] = leftProduct[i-1];\r\n            }else {\r\n                nums[i] = leftProduct[i-1] * rightProduct[i+1];\r\n            }\r\n        }\r\n        return nums;\r\n    }\r\n\r\n**Time Complexity: O(N)**, \r\n**Space Complexity: O(N)**\r\n\r\nThis can also be solved in O(1) space (as it&#39;s mentioned Output array does not count as  extra space.) \r\n\r\nHint: ***use the output array to store the left Prefix Product &amp; traverse the array from the right side***.\r\n","title":"238.Product of Array Except Self-Leetcode","body":"<p>The above problem is giving TLE (Time Limit Exceeds) because the above problem is solved in O(N^2) time complexity. As mentioned in the Question, Algorithm should run in O(N) time and without using the division operator.</p>\n<p><strong>Approach-1</strong></p>\n<pre><code>public int[] productExceptSelf(int[] nums) {\n\n    int[] leftProduct = new int[nums.length];\n    int[] rightProduct = new int[nums.length];\n    /**\n      calculate the left Prefix and right Suffix Product.\n    */\n    for (int i=0,j= nums.length-1; i &lt; nums.length; i++, j--) {\n        if (i == 0) {\n            leftProduct[i] = nums[i];\n            rightProduct[j] = nums[j];\n        }else {\n            leftProduct[i] = leftProduct[i-1] * nums[i];\n            rightProduct[j] = rightProduct[j+1] * nums[j];\n        }\n    }\n\n    for (int i=0; i &lt; nums.length; i++) {\n\n        if (i == 0) {\n            nums[i] = rightProduct[1];\n        }else if (i == (nums.length - 1)) {\n            nums[i] = leftProduct[i-1];\n        }else {\n            nums[i] = leftProduct[i-1] * rightProduct[i+1];\n        }\n    }\n    return nums;\n}\n</code></pre>\n<p><strong>Time Complexity: O(N)</strong>,\n<strong>Space Complexity: O(N)</strong></p>\n<p>This can also be solved in O(1) space (as it's mentioned Output array does not count as  extra space.)</p>\n<p>Hint: <em><strong>use the output array to store the left Prefix Product &amp; traverse the array from the right side</strong></em>.</p>\n"},{"tags":[],"owner":{"account_id":23446303,"reputation":21,"user_id":17503073,"display_name":"AleksandrRogov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637849311,"creation_date":1637806305,"answer_id":70105042,"question_id":68570933,"body_markdown":"This solution also gives O(N) but use only 1 cycle.\r\n\r\n    public int[] productExceptSelf(int[] nums) {\r\n        int[] res = new int[nums.length];\r\n        res[0] = 1;\r\n        res[nums.length-1] = 1;\r\n        int n = 1;\r\n        int k = nums.length-2;\r\n        int fromLeft = 1;\r\n        int fromRight = 1;\r\n        while(n &lt; nums.length) {\r\n            fromLeft  = nums[n-1] * fromLeft;\r\n            fromRight = nums[k+1] * fromRight;\r\n            if (n &lt; k) {\r\n                res[n] = fromLeft;\r\n                res[k] = fromRight;\r\n            } else {\r\n                if (n == k) {\r\n                    res[n] = fromLeft * fromRight;\r\n                } else {\r\n                    res[n] = fromLeft  * res[n];\r\n                    res[k] = fromRight * res[k];\r\n                }\r\n            }\r\n            n++;\r\n            k--;\r\n        }\r\n        return res;\r\n    }\r\n","title":"238.Product of Array Except Self-Leetcode","body":"<p>This solution also gives O(N) but use only 1 cycle.</p>\n<pre><code>public int[] productExceptSelf(int[] nums) {\n    int[] res = new int[nums.length];\n    res[0] = 1;\n    res[nums.length-1] = 1;\n    int n = 1;\n    int k = nums.length-2;\n    int fromLeft = 1;\n    int fromRight = 1;\n    while(n &lt; nums.length) {\n        fromLeft  = nums[n-1] * fromLeft;\n        fromRight = nums[k+1] * fromRight;\n        if (n &lt; k) {\n            res[n] = fromLeft;\n            res[k] = fromRight;\n        } else {\n            if (n == k) {\n                res[n] = fromLeft * fromRight;\n            } else {\n                res[n] = fromLeft  * res[n];\n                res[k] = fromRight * res[k];\n            }\n        }\n        n++;\n        k--;\n    }\n    return res;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23467769,"reputation":1,"user_id":17521676,"display_name":"Rohit Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637991756,"creation_date":1637991756,"answer_id":70132347,"question_id":68570933,"body_markdown":"    class Solution {\r\n        public int[] productExceptSelf(int[] arr) {\r\n           int[]  res = new int[arr.length];\r\n            for(int i =0, temp =1; i &lt; arr.length;i++){ // first iteration to make res making temp inc\r\n                res[i] = temp;\r\n                temp *= arr[i];\r\n               }\r\n            for(int i = arr.length -1 , temp =1;i&gt;=0;i--){\r\n                res[i] *= temp;\r\n                temp *= arr[i];\r\n            }\r\n            return res;\r\n        }\r\n    }\r\n    \r\n    **Time Complexity O(N) Space Complexity O(N)**","title":"238.Product of Array Except Self-Leetcode","body":"<pre><code>class Solution {\n    public int[] productExceptSelf(int[] arr) {\n       int[]  res = new int[arr.length];\n        for(int i =0, temp =1; i &lt; arr.length;i++){ // first iteration to make res making temp inc\n            res[i] = temp;\n            temp *= arr[i];\n           }\n        for(int i = arr.length -1 , temp =1;i&gt;=0;i--){\n            res[i] *= temp;\n            temp *= arr[i];\n        }\n        return res;\n    }\n}\n\n**Time Complexity O(N) Space Complexity O(N)**\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25910550,"reputation":1,"user_id":19634885,"display_name":"Abhinandan G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666802339,"creation_date":1666802339,"answer_id":74211325,"question_id":68570933,"body_markdown":"    class Solution:\r\n    def productExceptSelf(self, nums: List[int]) -&gt; List[int]:\r\n        l=[]\r\n        if nums.count(0)&gt;=2:\r\n            return [0]*len(nums)\r\n        if nums.count(0)==1:\r\n            index_of_zero=nums.index(0)\r\n            k=nums\r\n            s=1\r\n            k.remove(0)\r\n            for i in range(len(k)):\r\n                s=s*k[i]\r\n            l=[0]*len(k)\r\n            l.insert(index_of_zero,s)\r\n            return l\r\n        else:\r\n            s=1\r\n            for i in range(len(nums)):\r\n                s=s*nums[i]\r\n            for i in range(len(nums)):\r\n                l.append(s//nums[i])\r\n            return l","title":"238.Product of Array Except Self-Leetcode","body":"<pre><code>class Solution:\ndef productExceptSelf(self, nums: List[int]) -&gt; List[int]:\n    l=[]\n    if nums.count(0)&gt;=2:\n        return [0]*len(nums)\n    if nums.count(0)==1:\n        index_of_zero=nums.index(0)\n        k=nums\n        s=1\n        k.remove(0)\n        for i in range(len(k)):\n            s=s*k[i]\n        l=[0]*len(k)\n        l.insert(index_of_zero,s)\n        return l\n    else:\n        s=1\n        for i in range(len(nums)):\n            s=s*nums[i]\n        for i in range(len(nums)):\n            l.append(s//nums[i])\n        return l\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3245007,"reputation":2260,"user_id":2736849,"accept_rate":80,"display_name":"mfaisalhyder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674693890,"creation_date":1674693890,"answer_id":75241375,"question_id":68570933,"body_markdown":"I got this question recently.\r\n\r\nThis is how I solved it (definitely after the interview :p ) in **Java8**.\r\n\r\n```\r\nprivate static List&lt;Integer&gt; getProduct(final int[] inputs) {\r\n    int length = inputs.length;\r\n\r\n    int[] prefixArr = new int[length];\r\n    int[] suffixArr = new int[length];\r\n\r\n    //leftArr\r\n    prefixArr[0] = 1;\r\n    //rightArr\r\n    suffixArr[length - 1] = 1;\r\n\r\n    for (int index = 1; index &lt; length; index++)\r\n        prefixArr[index] = inputs[index - 1] * prefixArr[index - 1];\r\n\r\n    for (int index = (length - 2); index &gt;= 0; index--)\r\n        suffixArr[index] = inputs[index + 1] * suffixArr[index + 1];\r\n\r\n    return IntStream\r\n             .range(0, length)\r\n             .mapToObj(index -&gt; prefixArr[index] * suffixArr[index])\r\n             .collect(Collectors.toList())\r\n    ;\r\n}\r\n```\r\nThis solves the problem in 2 loops ideally and one stream iteration, hence **O(n)** is satisfied.","title":"238.Product of Array Except Self-Leetcode","body":"<p>I got this question recently.</p>\n<p>This is how I solved it (definitely after the interview :p ) in <strong>Java8</strong>.</p>\n<pre><code>private static List&lt;Integer&gt; getProduct(final int[] inputs) {\n    int length = inputs.length;\n\n    int[] prefixArr = new int[length];\n    int[] suffixArr = new int[length];\n\n    //leftArr\n    prefixArr[0] = 1;\n    //rightArr\n    suffixArr[length - 1] = 1;\n\n    for (int index = 1; index &lt; length; index++)\n        prefixArr[index] = inputs[index - 1] * prefixArr[index - 1];\n\n    for (int index = (length - 2); index &gt;= 0; index--)\n        suffixArr[index] = inputs[index + 1] * suffixArr[index + 1];\n\n    return IntStream\n             .range(0, length)\n             .mapToObj(index -&gt; prefixArr[index] * suffixArr[index])\n             .collect(Collectors.toList())\n    ;\n}\n</code></pre>\n<p>This solves the problem in 2 loops ideally and one stream iteration, hence <strong>O(n)</strong> is satisfied.</p>\n"}],"owner":{"account_id":21921677,"reputation":55,"user_id":16204842,"display_name":"Rohan Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13536,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":6,"score":0,"last_activity_date":1679832211,"creation_date":1627539099,"question_id":68570933,"body_markdown":"I have been trying out this problem on leetcode. ***[238.Product of array except self][1]*** \r\n\r\n\r\n  [1]: https://leetcode.com/problems/product-of-array-except-self/\r\n\r\n&gt; Given an integer array **nums**, return an array answer such that\r\n&gt; **answer[i]** is equal to the product of all the elements of **nums** except\r\n&gt; **nums[i]**.\r\n&gt; \r\n&gt; The product of any prefix or suffix of nums is guaranteed to fit in a\r\n&gt; 32-bit integer.\r\n&gt; \r\n&gt; You must write an algorithm that runs in **O(n)** time and without using\r\n&gt; the division operation.\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt;\r\n\r\n&gt; **Example 1 :**\r\n&gt;  \r\n&gt; \r\n&gt;     Input: nums = [1,2,3,4]\r\n&gt;     \r\n&gt;     Output: [24,12,8,6]\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; **Example 2:**\r\n&gt; \r\n&gt;  \r\n&gt; \r\n&gt;     Input: nums = [-1,1,0,-3,3]\r\n&gt;      \r\n&gt;      Output: [0,0,9,0,0]\r\n\r\nThis was my solution to the above-given problem.\r\n\r\n\r\n\r\n\r\n    public int[] productExceptSelf(int[] nums) {\r\n       \r\n        int answer[]=new int[nums.length];\r\n        for(int i=0;i&lt;nums.length;i++){\r\n            int prod=1;\r\n            for(int j=0;j&lt;nums.length;j++){\r\n                if(j!=i)\r\n                    \r\n                    prod=prod*nums[j];\r\n            }\r\n            answer[i]=prod;\r\n        }\r\n        return answer;\r\n    }\r\nThis is passing 19/20 test cases. There is one test case that is not working and I&#39;m getting an error ***&quot;Time limit exceeded.&quot;*** \r\n\r\nTest case which is failing is given below:\r\n\r\n \r\n\r\n&gt;     Input: [-1,-1,-1,-1,..............];\r\n&gt;      \r\n&gt;     Output: Time limit exceeded.\r\n\r\nIf someone can help me with what edition I have to do to my code?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"238.Product of Array Except Self-Leetcode","body":"<p>I have been trying out this problem on leetcode. <em><strong><a href=\"https://leetcode.com/problems/product-of-array-except-self/\" rel=\"nofollow noreferrer\">238.Product of array except self</a></strong></em></p>\n<blockquote>\n<p>Given an integer array <strong>nums</strong>, return an array answer such that\n<strong>answer[i]</strong> is equal to the product of all the elements of <strong>nums</strong> except\n<strong>nums[i]</strong>.</p>\n<p>The product of any prefix or suffix of nums is guaranteed to fit in a\n32-bit integer.</p>\n<p>You must write an algorithm that runs in <strong>O(n)</strong> time and without using\nthe division operation.</p>\n</blockquote>\n<blockquote>\n<p><strong>Example 1 :</strong></p>\n<pre><code>Input: nums = [1,2,3,4]\n\nOutput: [24,12,8,6]\n</code></pre>\n<p><strong>Example 2:</strong></p>\n<pre><code>Input: nums = [-1,1,0,-3,3]\n \n Output: [0,0,9,0,0]\n</code></pre>\n</blockquote>\n<p>This was my solution to the above-given problem.</p>\n<pre><code>public int[] productExceptSelf(int[] nums) {\n   \n    int answer[]=new int[nums.length];\n    for(int i=0;i&lt;nums.length;i++){\n        int prod=1;\n        for(int j=0;j&lt;nums.length;j++){\n            if(j!=i)\n                \n                prod=prod*nums[j];\n        }\n        answer[i]=prod;\n    }\n    return answer;\n}\n</code></pre>\n<p>This is passing 19/20 test cases. There is one test case that is not working and I'm getting an error <em><strong>&quot;Time limit exceeded.&quot;</strong></em></p>\n<p>Test case which is failing is given below:</p>\n<blockquote>\n<pre><code>Input: [-1,-1,-1,-1,..............];\n \nOutput: Time limit exceeded.\n</code></pre>\n</blockquote>\n<p>If someone can help me with what edition I have to do to my code?</p>\n"},{"tags":["java","unit-testing","powermock"],"answers":[{"tags":[],"owner":{"account_id":11426762,"reputation":89,"user_id":8376709,"display_name":"Yury"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679831430,"creation_date":1679831430,"answer_id":75847551,"question_id":75847039,"body_markdown":"Powermock has no support for junit 5. If you do the same with junit 4 it should work.","title":"Test case using powerMock in java for class new object mock","body":"<p>Powermock has no support for junit 5. If you do the same with junit 4 it should work.</p>\n"}],"owner":{"account_id":2389864,"reputation":3086,"user_id":2089929,"accept_rate":0,"display_name":"aman kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679831430,"creation_date":1679825022,"question_id":75847039,"body_markdown":"I am trying to mock the class instance of a user which is created inside another class which is `MyClass` method count.\r\n\r\nI want to write unit test case for `Myclass` method `count`\r\n\r\nBelow is sample code\r\n\r\n```\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.mockito.Mock;\r\nimport org.mockito.Mockito;\r\nimport org.powermock.api.mockito.PowerMockito;\r\nimport org.powermock.core.classloader.annotations.PrepareForTest;\r\nimport org.powermock.modules.junit4.PowerMockRunner;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nclass User{\r\n    public int count(){\r\n        return 123;\r\n    }\r\n}\r\n\r\nclass MyClass{\r\n    public int count(){\r\n        User user = new User();\r\n        return user.count();\r\n    }\r\n}\r\n\r\n\r\n@RunWith(PowerMockRunner.class)\r\n@PrepareForTest( MyClass.class)\r\npublic class ServiceTestClass{\r\n  \r\n    @Test\r\n    public void testMethod() throws Exception {\r\n\r\n\r\n        User user = Mockito.mock(User.class);\r\n        when(user.count()).thenReturn(45);\r\n        whenNew(User.class).withAnyArguments().thenReturn(user);\r\n        MyClass myClass= new MyClass();\r\n        System.out.println(myClass.count());\r\n        verifyNew(User.class).withNoArguments();\r\n\r\n    }\r\n\r\n}\r\n```\r\nIdealy, `System.out.println(myClass.count());` should print `45` but it&#39;s printing `123`.\r\n\r\nCan anyone please help what i am doing wrong here?","title":"Test case using powerMock in java for class new object mock","body":"<p>I am trying to mock the class instance of a user which is created inside another class which is <code>MyClass</code> method count.</p>\n<p>I want to write unit test case for <code>Myclass</code> method <code>count</code></p>\n<p>Below is sample code</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport org.powermock.api.mockito.PowerMockito;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.test.context.SpringBootTest;\nclass User{\n    public int count(){\n        return 123;\n    }\n}\n\nclass MyClass{\n    public int count(){\n        User user = new User();\n        return user.count();\n    }\n}\n\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest( MyClass.class)\npublic class ServiceTestClass{\n  \n    @Test\n    public void testMethod() throws Exception {\n\n\n        User user = Mockito.mock(User.class);\n        when(user.count()).thenReturn(45);\n        whenNew(User.class).withAnyArguments().thenReturn(user);\n        MyClass myClass= new MyClass();\n        System.out.println(myClass.count());\n        verifyNew(User.class).withNoArguments();\n\n    }\n\n}\n</code></pre>\n<p>Idealy, <code>System.out.println(myClass.count());</code> should print <code>45</code> but it's printing <code>123</code>.</p>\n<p>Can anyone please help what i am doing wrong here?</p>\n"},{"tags":["java","maven","junit","maven-surefire-plugin"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1650040148,"post_id":71886525,"comment_id":127029932,"body_markdown":"You miss the *java* folder after *src/test*","body":"You miss the <i>java</i> folder after <i>src/test</i>"},{"owner":{"account_id":20791623,"reputation":23,"user_id":15269659,"display_name":"Dava Loper"},"score":0,"creation_date":1650040452,"post_id":71886525,"comment_id":127030037,"body_markdown":"when I tried to add java folder then I lost the visibility of the package private methods/variables. Is there a way to overcome this?","body":"when I tried to add java folder then I lost the visibility of the package private methods/variables. Is there a way to overcome this?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1650195947,"post_id":71886525,"comment_id":127055322,"body_markdown":"_&quot;they are ending with Tests&quot;_, that right there could be your problem, because the pattern looks for classes ending in `Test`, not `Test**s**`. And as Jens says, make sure that your layout follows Maven conventions. Java test should normally be in `src/test/java`, not `src/test`","body":"<i>&quot;they are ending with Tests&quot;</i>, that right there could be your problem, because the pattern looks for classes ending in <code>Test</code>, not <code>Test**s**</code>. And as Jens says, make sure that your layout follows Maven conventions. Java test should normally be in <code>src&#47;test&#47;java</code>, not <code>src&#47;test</code>"}],"answers":[{"tags":[],"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650042825,"creation_date":1650042825,"answer_id":71886947,"question_id":71886525,"body_markdown":"Is there any reason why you configure just a certain tests? By default the surefire plugin should access all classes in testRoot and sub directories. \r\n\r\nYou could also just link a specific file like\r\n\r\n   &lt;include&gt;src/test/ArchTest.java&lt;/include&gt;\r\n\r\nto see if it is the &quot;include&quot; in your configuration or something else. I am not sure that the wildecards are working as you expect them to work. See https://stackoverflow.com/questions/13288532/maven-include-wildcard-match-on-partial-folder-name .\r\nBased on this you might try out \r\n\r\n     &lt;configuration&gt;\r\n          &lt;includes&gt;\r\n              &lt;include&gt;/**/*Test.java&lt;/include&gt;\r\n          &lt;/includes&gt;\r\n      &lt;/configuration&gt;\r\n\r\n\r\n\r\n","title":"Maven surefire plugin doesn&#39;t find unit tests","body":"<p>Is there any reason why you configure just a certain tests? By default the surefire plugin should access all classes in testRoot and sub directories.</p>\n<p>You could also just link a specific file like</p>\n<p>src/test/ArchTest.java</p>\n<p>to see if it is the &quot;include&quot; in your configuration or something else. I am not sure that the wildecards are working as you expect them to work. See <a href=\"https://stackoverflow.com/questions/13288532/maven-include-wildcard-match-on-partial-folder-name\">Maven &lt;include&gt; wildcard match on partial folder name</a> .\nBased on this you might try out</p>\n<pre><code> &lt;configuration&gt;\n      &lt;includes&gt;\n          &lt;include&gt;/**/*Test.java&lt;/include&gt;\n      &lt;/includes&gt;\n  &lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17044087,"reputation":77,"user_id":12331329,"display_name":"Rohan Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679831103,"creation_date":1679831103,"answer_id":75847519,"question_id":71886525,"body_markdown":"add this for junit 5\r\n\r\n    &lt;build&gt;\r\n\t&lt;plugins&gt;\r\n\t\t&lt;plugin&gt;\r\n           &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n           &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n           &lt;version&gt;2.22.0&lt;/version&gt;\r\n\r\n\r\n               &lt;dependency&gt;\r\n                   &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n                   &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\r\n                   &lt;version&gt;1.2.0&lt;/version&gt;\r\n               &lt;/dependency&gt;\r\n           &lt;/dependencies&gt;\r\n           &lt;configuration&gt;\r\n           \t&lt;additionalClasspathElements&gt;\r\n           \t\t&lt;additionalClasspathElement&gt;src/test/java/&lt;/additionalClasspathElement&gt;\r\n           \t&lt;/additionalClasspathElements&gt;\r\n           &lt;/configuration&gt;\r\n       &lt;/plugin&gt;\r\n\t&lt;/plugins&gt;\r\n&lt;/build&gt;\r\n\r\n\r\nadd this for junit 4\r\n\r\n\r\n    &lt;build&gt;\r\n\t&lt;plugins&gt;\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.22.0&lt;/version&gt;\r\n\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;surefire-junit4&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;2.22.0&lt;/version&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t&lt;include&gt;**/*.java&lt;/include&gt;\r\n\t\t\t\t&lt;/includes&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;\r\n\t&lt;/plugins&gt;\r\n&lt;/build&gt;","title":"Maven surefire plugin doesn&#39;t find unit tests","body":"<p>add this for junit 5</p>\n<pre><code>&lt;build&gt;\n&lt;plugins&gt;\n    &lt;plugin&gt;\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n       &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n       &lt;version&gt;2.22.0&lt;/version&gt;\n\n\n           &lt;dependency&gt;\n               &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n               &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\n               &lt;version&gt;1.2.0&lt;/version&gt;\n           &lt;/dependency&gt;\n       &lt;/dependencies&gt;\n       &lt;configuration&gt;\n        &lt;additionalClasspathElements&gt;\n            &lt;additionalClasspathElement&gt;src/test/java/&lt;/additionalClasspathElement&gt;\n        &lt;/additionalClasspathElements&gt;\n       &lt;/configuration&gt;\n   &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n\n<p>add this for junit 4</p>\n<pre><code>&lt;build&gt;\n&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.22.0&lt;/version&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n                &lt;artifactId&gt;surefire-junit4&lt;/artifactId&gt;\n                &lt;version&gt;2.22.0&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n        &lt;configuration&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*.java&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n\n"}],"owner":{"account_id":20791623,"reputation":23,"user_id":15269659,"display_name":"Dava Loper"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1242,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71886947,"answer_count":2,"score":0,"last_activity_date":1679831103,"creation_date":1650040068,"question_id":71886525,"body_markdown":" - Yes, the Java classes which are containing the tests are named correctly. (they are ending with Tests)\r\n - Tried to add the following configuration in pom.xml:\r\n```\r\n\r\n     &lt;configuration&gt;\r\n            &lt;includes&gt;\r\n                &lt;include&gt;**/*Test.java&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n        &lt;/configuration&gt;\r\n\r\n```\r\n - Tests are located under the following structure: &lt;root&gt;/src/test/*packagename*/JavaClassTest.java where *packagename* is the same package what is under the unit test written under src/main/java path.\r\n - I&#39;m using jupiter Junit 5 and maven-surefire-plugin with 2.22.2\r\n\r\nAnd I still get the following error on mvn test:\r\n\r\n```\r\n\r\n    --- maven-surefire-plugin:2.22.2:test (default-test) @ &lt;project-name&gt; ---\r\n    [INFO] No tests to run.\r\n\r\n```\r\n\r\nWhat do I do wrong?","title":"Maven surefire plugin doesn&#39;t find unit tests","body":"<ul>\n<li>Yes, the Java classes which are containing the tests are named correctly. (they are ending with Tests)</li>\n<li>Tried to add the following configuration in pom.xml:</li>\n</ul>\n<pre><code>\n     &lt;configuration&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*Test.java&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/configuration&gt;\n\n</code></pre>\n<ul>\n<li>Tests are located under the following structure: /src/test/<em>packagename</em>/JavaClassTest.java where <em>packagename</em> is the same package what is under the unit test written under src/main/java path.</li>\n<li>I'm using jupiter Junit 5 and maven-surefire-plugin with 2.22.2</li>\n</ul>\n<p>And I still get the following error on mvn test:</p>\n<pre><code>\n    --- maven-surefire-plugin:2.22.2:test (default-test) @ &lt;project-name&gt; ---\n    [INFO] No tests to run.\n\n</code></pre>\n<p>What do I do wrong?</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":18669557,"reputation":640,"user_id":13608717,"display_name":"Daniel"},"score":1,"creation_date":1679828905,"post_id":75847278,"comment_id":133787361,"body_markdown":"your query looks quite complex, so best way would be to use your DB query as-is using @query(nativequery = true)","body":"your query looks quite complex, so best way would be to use your DB query as-is using @query(nativequery = true)"}],"answers":[{"tags":[],"owner":{"account_id":20261613,"reputation":323,"user_id":14859844,"display_name":"Shahab Ranjbary"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679829682,"creation_date":1679829350,"answer_id":75847379,"question_id":75847278,"body_markdown":"You can use the @Query annotation with the nativeQuery attribute set to true. \r\n\r\n    @Query(value = &quot;SELECT A.other_table_id, A.update_date_time &quot; +\r\n               &quot;FROM event A, &quot; +\r\n               &quot;(SELECT other_table_id, MAX(update_date_time) AS update_date_time &quot; +\r\n               &quot; FROM event &quot; +\r\n               &quot; WHERE other_table_id IN (:ids) &quot; +\r\n               &quot; GROUP BY other_table_id) B &quot; +\r\n               &quot;WHERE A.other_table_id = B.other_table_id &quot; +\r\n               &quot;  AND A.update_date_time = B.update_date_time&quot;, nativeQuery = true)\r\n    List&lt;Object[]&gt; findMaxDateForID(@Param(&quot;ids&quot;) List&lt;Long&gt; ids);\r\n\r\nit gets list of ids if you want to pass one by one id you can using:\r\n\r\n    @Query(value = &quot;SELECT A.other_table_id, A.update_date_time &quot; +\r\n           &quot;FROM event A, &quot; +\r\n           &quot;(SELECT other_table_id, MAX(update_date_time) AS update_date_time &quot; +\r\n           &quot; FROM event &quot; +\r\n           &quot; WHERE other_table_id=:id &quot; +\r\n           &quot; GROUP BY other_table_id) B &quot; +\r\n           &quot;WHERE A.other_table_id = B.other_table_id &quot; +\r\n           &quot;  AND A.update_date_time = B.update_date_time&quot;, nativeQuery = true)\r\n    List&lt;Object[]&gt; findMaxDateForID(@Param(&quot;id&quot;) Long id);","title":"Best way to fetch max date using jpa repository","body":"<p>You can use the @Query annotation with the nativeQuery attribute set to true.</p>\n<pre><code>@Query(value = &quot;SELECT A.other_table_id, A.update_date_time &quot; +\n           &quot;FROM event A, &quot; +\n           &quot;(SELECT other_table_id, MAX(update_date_time) AS update_date_time &quot; +\n           &quot; FROM event &quot; +\n           &quot; WHERE other_table_id IN (:ids) &quot; +\n           &quot; GROUP BY other_table_id) B &quot; +\n           &quot;WHERE A.other_table_id = B.other_table_id &quot; +\n           &quot;  AND A.update_date_time = B.update_date_time&quot;, nativeQuery = true)\nList&lt;Object[]&gt; findMaxDateForID(@Param(&quot;ids&quot;) List&lt;Long&gt; ids);\n</code></pre>\n<p>it gets list of ids if you want to pass one by one id you can using:</p>\n<pre><code>@Query(value = &quot;SELECT A.other_table_id, A.update_date_time &quot; +\n       &quot;FROM event A, &quot; +\n       &quot;(SELECT other_table_id, MAX(update_date_time) AS update_date_time &quot; +\n       &quot; FROM event &quot; +\n       &quot; WHERE other_table_id=:id &quot; +\n       &quot; GROUP BY other_table_id) B &quot; +\n       &quot;WHERE A.other_table_id = B.other_table_id &quot; +\n       &quot;  AND A.update_date_time = B.update_date_time&quot;, nativeQuery = true)\nList&lt;Object[]&gt; findMaxDateForID(@Param(&quot;id&quot;) Long id);\n</code></pre>\n"}],"owner":{"account_id":5776444,"reputation":55,"user_id":4558381,"display_name":"Dev Dev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":366,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75847379,"answer_count":1,"score":0,"last_activity_date":1679831085,"creation_date":1679828033,"question_id":75847278,"body_markdown":"I have a table event\r\n```sql\r\nCREATE TABLE `event` (\r\n  `otherTableId` bigint unsigned NOT NULL,\r\n  `updateDateTime` datetime NOT NULL,\r\n  KEY `otherTableId` (`otherTableId`)\r\n) ENGINE=InnoDB DEFAULT CHARSET=latin1;\r\n```\r\nI am using jpa repository, \r\nWhat is best way to replicate below query which can have multiple ids to query and need max date row for each id\r\n\r\n```sql\r\nselect \r\n    A.otherTableId, \r\n    A.updateDateTime \r\nfrom \r\n    event as A, \r\n    (\r\n      select \r\n          otherTableId, \r\n          max(updateDateTime) as updateDateTime \r\n      from \r\n          event \r\n      where \r\n          otherTableId in (5,88,77,96,10054) \r\n      group by \r\n          otherTableId) as B \r\nwhere \r\n    A.otherTableId = B.otherTableId \r\n    and A.updateDateTime=B.updateDateTime\r\n```\r\n","title":"Best way to fetch max date using jpa repository","body":"<p>I have a table event</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE `event` (\n  `otherTableId` bigint unsigned NOT NULL,\n  `updateDateTime` datetime NOT NULL,\n  KEY `otherTableId` (`otherTableId`)\n) ENGINE=InnoDB DEFAULT CHARSET=latin1;\n</code></pre>\n<p>I am using jpa repository,\nWhat is best way to replicate below query which can have multiple ids to query and need max date row for each id</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select \n    A.otherTableId, \n    A.updateDateTime \nfrom \n    event as A, \n    (\n      select \n          otherTableId, \n          max(updateDateTime) as updateDateTime \n      from \n          event \n      where \n          otherTableId in (5,88,77,96,10054) \n      group by \n          otherTableId) as B \nwhere \n    A.otherTableId = B.otherTableId \n    and A.updateDateTime=B.updateDateTime\n</code></pre>\n"},{"tags":["java","pdf","itext","pdfbox","tagged-pdf"],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1568106614,"creation_date":1566393996,"answer_id":57592766,"question_id":57591441,"body_markdown":"### A nesting issue\n\n&gt;How I was tagged: Instead of extract text and tagging I am adding mcid&#39;s to the existing content stream (both open and closing ex: `/p&lt;&lt; MCID 0 &gt;&gt; BDC .. .. .. EMC`)\n\nYou&#39;re doing this incorrectly. See for example the start of the page content stream in your document:\n\n&lt;!-- language-all: lang-none --&gt;\n\n    BT\n    0 i\n    /C0_0 18 Tf\n    41.91 740.175 Td\n    /H2 &lt;&lt;/MCID  0  &gt;&gt; BDC\n    ( \\) F M M P  8 P S M E) Tj\n    ET\n    /TouchUp_TextEdit MP\n    BT\n    /C0_1 14 Tf\n    EMC \n\nFocusing on the beginning and end of text objects and marked content, we see that you have `BT ... BDC ... ET ... BT ... EMC`\n\nAccording to the specification, though:\n\n&gt;When the marked-content operators **BMC**, **BDC**, and **EMC** are combined with the text object operators **BT** and **ET** (see 9.4, “Text Objects”), each pair of matching operators (**BMC**…**EMC**, **BDC**…**EMC**, or **BT**…**ET**) shall be properly (separately) nested. Therefore, the sequences\n&gt;\n&gt;     BMC             BT\n&gt;       BT              BMC\n&gt;         …    and         …\n&gt;       ET              EMC\n&gt;     EMC             ET\n&gt;\n&gt;are valid, but\n&gt;\n&gt;     BMC             BT\n&gt;       BT              BMC\n&gt;         …    and         …\n&gt;       EMC             ET\n&gt;     BT              EMC\n&gt;\n&gt;are not valid.\n\n*(ISO 32000-1 section 14.6 &quot;Marked Content&quot;)*\n\n*This issue was fixed in the second shared PDF, `res1.pdf`.*\n\n### Missing ParentTree and StructParents\n\nThe problem your question focuses on is\n\n&gt; There is an option called &quot;Find Tag from Selection&quot; . Is not working.\n\nFinding a tag from selection essentially means that you have the **MCID** of some content stream instruction and you search the structure element in the structure tree referencing that marked content ID.\n\nHow PDF processors are expected to do this, is described in section 14.7.4.4 &quot;Finding Structure Elements from Content Items&quot; of the PDF specification ISO 32000-1 (or section 14.7.5.4 in ISO 32000-2):\n\n&gt; Because a stream cannot contain object references, there is no way for content items that are marked-content sequences to refer directly back to their parent structure elements (the ones to which they belong as content items). Instead, a different mechanism, the *structural parent tree*, shall be provided for this purpose. For consistency, content items that are entire PDF objects, such as XObjects, shall also use the parent tree to refer to their parent structure elements.\n&gt;\n&gt;The parent tree is a number tree, accessed from the **ParentTree** entry in a document’s structure tree root. The tree shall contain an entry for each object that is a content item of at least one structure element and for each content stream containing at least one marked-content sequence that is a content item.\n\nYour PDF does not have that **ParentTree** at all, and your page does not contain a **StructParents** entry to lookup in a parent tree. Thus, the prescribed way to get from *marked content* to the *structure tree* is impossible to go.\n\n*A **ParentTree** was added in the third shared PDF, `new.pdf`.*\n\n### Incorrect ParentTree entries\n\nWhile in `new.pdf` you have a **ParentTree**, its contents are clearly incorrect:\n\n[![Screenshot ParentTree][1]][1]\n\nThe **ParentTree** is a *number tree*, i.e. integers are *mapped* to something here, so there obviously must not be multiple entries for the same integer key.\n\nFurthermore, looking inside one of those values:\n\n[![Screenshot ParentTree, first entry opened][2]][2]\n\none sees that you claim that the following **StructElem** is the value for all marked content IDs:\n\n[![common value of all content IDs][3]][3]\n\nInspecting this **StructElem** further, one sees that it represents the final paragraph on the final page.\n\nThus, your observation\n\n&gt;Now instead of &quot;selection not found &quot; it is highlighting the last &amp;lt;P&gt; tag in parent tree. Irrespective of what what we selected.\n\nis what one can expect. If one expects any reasonable behavior at all, that is, with a **ParentTree** structure broken so badly.\n\n*Actually there was not only this `new.pdf` but also `res.pdf` and `tagged without altext.pdf` with **ParentTree**s, but all these **ParentTree**s were broken like the tree of `new.pdf`.*\n\nYou might want to start inspecting the structures you create when analyzing an unwanted behavior.\n\n### Another issue with parent tree entries\n\nThe previously described issue in parent trees meanwhile has been resolved, different pages now have different struct parents and the parent tree arrays now reference the struct elements for distinct MCIDs.\n\nFor some documents a different error occurs now, though, e.g. &quot;res29_08_19.pdf&quot;. Here the parent tree starts like this:\n\n[![Screenshot ParentTree][4]][4]\n\nIn particular the first entry in the array is for MCID 3, the second for MCID 4, ...\n\nThis is invalid, according to the specification\n\n&gt;The array element corresponding to each sequence shall be found by using the sequence’s marked-content identifier as a zero-based index into the array.\n\n*(ISO 32000-1 section 14.7.4.4 &quot;Finding Structure Elements from Content Items&quot;)*\n\nThus, the first entry must be for MCID 0, the second for MCID 1, ...\n\nYou objected in a comment\n\n&gt; No I used 0 and 1 Mcid&#39;s for Artifacts.\n\nBut as a corollary of the above: *Do not give MCIDs to marked content sequences you don&#39;t have a structure element for!* MCIDs are for going back and forth between the structure hierarchy and the content streams. If you mark a piece of content without having a structure element for it, don&#39;t give it a MCID.\n\n### Yet another issue with parent tree entries\n\nYou again report problems with your newest file [mathpdf.pdf][5]. And indeed, there are issues; Adobe Acrobat Preflight reports a 5 pages list of inconsistent parent tree mappings like this:\n\n[![preflight report excerpt][6]][6]\n\nIn contrast to the previous issues the cause does not become clear by looking at the parent tree alone, one also has to look at the structure hierarchy.\n\nDoing so, though, one peculiarity immediately hits the eye: In your parent tree you do not reference the actual parent structure element of the MCID but you reference a new structure tree node which claims to have the actual parent node from the structure hierarchy as its own parent (not actually being one of its kids) and also claims to have the MCID in question as kid.\n\nFor example let&#39;s look at the MCID 0 on the first page. In the structure hierarchy you have:\n\n[![structure hierarchy screen shot][7]][7]\n\nIn the parent tree you have:\n\n[![parent tree screen shot][8]][8]\n\nYou should have simply referenced object 238 (the structure hierarchy parent of MCID 0) directly from the parent tree array for page one instead of that in-between object 62 which claims to have that object 238 as parent and MCID 0 as kid.\n\nThe reported inconsistency may be due to the node referenced from the parent tree (in object 62) claims to be a **P** paragraph with a parent node (in object 238) which is a **Span**. That is not allowed, a paragraph may *contain* a span but it cannot be *contained* in one.\n\n\n\n  [1]: https://i.stack.imgur.com/AZW3h.png\n  [2]: https://i.stack.imgur.com/emykv.png\n  [3]: https://i.stack.imgur.com/IrjLR.png\n  [4]: https://i.stack.imgur.com/81cOO.png\n  [5]: https://drive.google.com/file/d/1aD1HGQsEXOovpfWdf7JRNwJhP7tX6pmy/view?usp=sharing\n  [6]: https://i.stack.imgur.com/K6kwS.png\n  [7]: https://i.stack.imgur.com/tIvqa.png\n  [8]: https://i.stack.imgur.com/VV1VH.png","title":"&quot;Find Tag from Selection&quot; is not working in tagged pdf?","body":"<h3>A nesting issue</h3>\n<blockquote>\n<p>How I was tagged: Instead of extract text and tagging I am adding mcid's to the existing content stream (both open and closing ex: <code>/p&lt;&lt; MCID 0 &gt;&gt; BDC .. .. .. EMC</code>)</p>\n</blockquote>\n<p>You're doing this incorrectly. See for example the start of the page content stream in your document:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>BT\n0 i\n/C0_0 18 Tf\n41.91 740.175 Td\n/H2 &lt;&lt;/MCID  0  &gt;&gt; BDC\n( \\) F M M P  8 P S M E) Tj\nET\n/TouchUp_TextEdit MP\nBT\n/C0_1 14 Tf\nEMC \n</code></pre>\n<p>Focusing on the beginning and end of text objects and marked content, we see that you have <code>BT ... BDC ... ET ... BT ... EMC</code></p>\n<p>According to the specification, though:</p>\n<blockquote>\n<p>When the marked-content operators <strong>BMC</strong>, <strong>BDC</strong>, and <strong>EMC</strong> are combined with the text object operators <strong>BT</strong> and <strong>ET</strong> (see 9.4, “Text Objects”), each pair of matching operators (<strong>BMC</strong>…<strong>EMC</strong>, <strong>BDC</strong>…<strong>EMC</strong>, or <strong>BT</strong>…<strong>ET</strong>) shall be properly (separately) nested. Therefore, the sequences</p>\n<pre class=\"lang-none prettyprint-override\"><code>BMC             BT\n  BT              BMC\n    …    and         …\n  ET              EMC\nEMC             ET\n</code></pre>\n<p>are valid, but</p>\n<pre class=\"lang-none prettyprint-override\"><code>BMC             BT\n  BT              BMC\n    …    and         …\n  EMC             ET\nBT              EMC\n</code></pre>\n<p>are not valid.</p>\n</blockquote>\n<p><em>(ISO 32000-1 section 14.6 &quot;Marked Content&quot;)</em></p>\n<p><em>This issue was fixed in the second shared PDF, <code>res1.pdf</code>.</em></p>\n<h3>Missing ParentTree and StructParents</h3>\n<p>The problem your question focuses on is</p>\n<blockquote>\n<p>There is an option called &quot;Find Tag from Selection&quot; . Is not working.</p>\n</blockquote>\n<p>Finding a tag from selection essentially means that you have the <strong>MCID</strong> of some content stream instruction and you search the structure element in the structure tree referencing that marked content ID.</p>\n<p>How PDF processors are expected to do this, is described in section 14.7.4.4 &quot;Finding Structure Elements from Content Items&quot; of the PDF specification ISO 32000-1 (or section 14.7.5.4 in ISO 32000-2):</p>\n<blockquote>\n<p>Because a stream cannot contain object references, there is no way for content items that are marked-content sequences to refer directly back to their parent structure elements (the ones to which they belong as content items). Instead, a different mechanism, the <em>structural parent tree</em>, shall be provided for this purpose. For consistency, content items that are entire PDF objects, such as XObjects, shall also use the parent tree to refer to their parent structure elements.</p>\n<p>The parent tree is a number tree, accessed from the <strong>ParentTree</strong> entry in a document’s structure tree root. The tree shall contain an entry for each object that is a content item of at least one structure element and for each content stream containing at least one marked-content sequence that is a content item.</p>\n</blockquote>\n<p>Your PDF does not have that <strong>ParentTree</strong> at all, and your page does not contain a <strong>StructParents</strong> entry to lookup in a parent tree. Thus, the prescribed way to get from <em>marked content</em> to the <em>structure tree</em> is impossible to go.</p>\n<p><em>A <strong>ParentTree</strong> was added in the third shared PDF, <code>new.pdf</code>.</em></p>\n<h3>Incorrect ParentTree entries</h3>\n<p>While in <code>new.pdf</code> you have a <strong>ParentTree</strong>, its contents are clearly incorrect:</p>\n<p><a href=\"https://i.stack.imgur.com/AZW3h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AZW3h.png\" alt=\"Screenshot ParentTree\" /></a></p>\n<p>The <strong>ParentTree</strong> is a <em>number tree</em>, i.e. integers are <em>mapped</em> to something here, so there obviously must not be multiple entries for the same integer key.</p>\n<p>Furthermore, looking inside one of those values:</p>\n<p><a href=\"https://i.stack.imgur.com/emykv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/emykv.png\" alt=\"Screenshot ParentTree, first entry opened\" /></a></p>\n<p>one sees that you claim that the following <strong>StructElem</strong> is the value for all marked content IDs:</p>\n<p><a href=\"https://i.stack.imgur.com/IrjLR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IrjLR.png\" alt=\"common value of all content IDs\" /></a></p>\n<p>Inspecting this <strong>StructElem</strong> further, one sees that it represents the final paragraph on the final page.</p>\n<p>Thus, your observation</p>\n<blockquote>\n<p>Now instead of &quot;selection not found &quot; it is highlighting the last &lt;P&gt; tag in parent tree. Irrespective of what what we selected.</p>\n</blockquote>\n<p>is what one can expect. If one expects any reasonable behavior at all, that is, with a <strong>ParentTree</strong> structure broken so badly.</p>\n<p><em>Actually there was not only this <code>new.pdf</code> but also <code>res.pdf</code> and <code>tagged without altext.pdf</code> with <strong>ParentTree</strong>s, but all these <strong>ParentTree</strong>s were broken like the tree of <code>new.pdf</code>.</em></p>\n<p>You might want to start inspecting the structures you create when analyzing an unwanted behavior.</p>\n<h3>Another issue with parent tree entries</h3>\n<p>The previously described issue in parent trees meanwhile has been resolved, different pages now have different struct parents and the parent tree arrays now reference the struct elements for distinct MCIDs.</p>\n<p>For some documents a different error occurs now, though, e.g. &quot;res29_08_19.pdf&quot;. Here the parent tree starts like this:</p>\n<p><a href=\"https://i.stack.imgur.com/81cOO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/81cOO.png\" alt=\"Screenshot ParentTree\" /></a></p>\n<p>In particular the first entry in the array is for MCID 3, the second for MCID 4, ...</p>\n<p>This is invalid, according to the specification</p>\n<blockquote>\n<p>The array element corresponding to each sequence shall be found by using the sequence’s marked-content identifier as a zero-based index into the array.</p>\n</blockquote>\n<p><em>(ISO 32000-1 section 14.7.4.4 &quot;Finding Structure Elements from Content Items&quot;)</em></p>\n<p>Thus, the first entry must be for MCID 0, the second for MCID 1, ...</p>\n<p>You objected in a comment</p>\n<blockquote>\n<p>No I used 0 and 1 Mcid's for Artifacts.</p>\n</blockquote>\n<p>But as a corollary of the above: <em>Do not give MCIDs to marked content sequences you don't have a structure element for!</em> MCIDs are for going back and forth between the structure hierarchy and the content streams. If you mark a piece of content without having a structure element for it, don't give it a MCID.</p>\n<h3>Yet another issue with parent tree entries</h3>\n<p>You again report problems with your newest file <a href=\"https://drive.google.com/file/d/1aD1HGQsEXOovpfWdf7JRNwJhP7tX6pmy/view?usp=sharing\" rel=\"nofollow noreferrer\">mathpdf.pdf</a>. And indeed, there are issues; Adobe Acrobat Preflight reports a 5 pages list of inconsistent parent tree mappings like this:</p>\n<p><a href=\"https://i.stack.imgur.com/K6kwS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K6kwS.png\" alt=\"preflight report excerpt\" /></a></p>\n<p>In contrast to the previous issues the cause does not become clear by looking at the parent tree alone, one also has to look at the structure hierarchy.</p>\n<p>Doing so, though, one peculiarity immediately hits the eye: In your parent tree you do not reference the actual parent structure element of the MCID but you reference a new structure tree node which claims to have the actual parent node from the structure hierarchy as its own parent (not actually being one of its kids) and also claims to have the MCID in question as kid.</p>\n<p>For example let's look at the MCID 0 on the first page. In the structure hierarchy you have:</p>\n<p><a href=\"https://i.stack.imgur.com/tIvqa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tIvqa.png\" alt=\"structure hierarchy screen shot\" /></a></p>\n<p>In the parent tree you have:</p>\n<p><a href=\"https://i.stack.imgur.com/VV1VH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VV1VH.png\" alt=\"parent tree screen shot\" /></a></p>\n<p>You should have simply referenced object 238 (the structure hierarchy parent of MCID 0) directly from the parent tree array for page one instead of that in-between object 62 which claims to have that object 238 as parent and MCID 0 as kid.</p>\n<p>The reported inconsistency may be due to the node referenced from the parent tree (in object 62) claims to be a <strong>P</strong> paragraph with a parent node (in object 238) which is a <strong>Span</strong>. That is not allowed, a paragraph may <em>contain</em> a span but it cannot be <em>contained</em> in one.</p>\n"}],"owner":{"account_id":16547773,"reputation":269,"user_id":11956879,"display_name":"fascinating coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1302,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":57592766,"answer_count":1,"score":5,"last_activity_date":1679830291,"creation_date":1566389770,"question_id":57591441,"body_markdown":"I have tagged a pdf using pdfbox. \r\n\r\nHow I was tagged:  Instead of extract text and tagging I am adding mcid&#39;s to the existing content stream (both open and closing ex: /p&lt;&lt; MCID 0 &gt;&gt; BDC .. .. .. EMC) and then I am adding that marked content to document root catalog structure.\r\n\r\nWhat working: Almost everything is working fine like completely tagged pdf. It is passing the PAC3 accessibility checker also.\r\n\r\n    //Adding tags\r\n    tokens.add(++ind, type_check(t_ype, page));\r\n    currentMarkedContentDictionary = new COSDictionary();\r\n    currentMarkedContentDictionary.setInt(COSName.MCID, mcid);\r\n    if (altText != null &amp;&amp; !altText.isEmpty()) {\r\n    \tcurrentMarkedContentDictionary.setString(COSName.ALT, altText);\r\n    }\r\n    mcid++;\r\n    tokens.add(++ind, currentMarkedContentDictionary);\r\n    tokens.add(++ind, Operator.getOperator(&quot;BDC&quot;));\r\n    \r\n    // Adding marked content to root structure\r\n    structureElement.appendKid(markedContent);\r\n    \t\t\t\t\t\t\t \r\n    currentSection.appendKid(structureElement);\t\t\t\t\r\n    \t\t\t\t\t\t\t\t \r\n   \r\n\t\t    \t\t\t\r\n\r\nWhat not working:  After tagging one future Is missing from tag structure. There is an option called &quot;Find Tag from Selection&quot; . Is not working. It is going to last tag while I select some test and press &quot; Find tag from selection&quot; in root structure. Please find the pdf in below link.\r\n\r\nhttps://drive.google.com/file/d/11Lhuj50Bb9kChvD0kL_GOHQn4RNKZ0hR/view?usp=sharing\r\n\r\nParent tree:\r\n\r\nhttps://drive.google.com/file/d/109xhUpqsQSFLPJB2nhXoU9ssMKnyht3G/view?usp=sharing\r\n\r\nextra doc with tagging and parent tree:\r\nhttps://drive.google.com/file/d/1yzZSsjkb5_dGfq1Wu3VxsH73vr3alRmC/view?usp=sharing\r\n\r\nPlease help me to solve this problem.\r\n\r\n**New Problem:**\r\nI observed that \r\n\r\nwhile Jaws reading my tagged document, I am pressing controls like ctl+shift+5 in windows machine . It will show the options like \r\ndrop down&gt;&quot;Read based on tagged structure&quot; or  &gt;&quot;Top left to bottom right&quot;\r\nand below two radio buttons \r\n&gt; Read curent page\r\n&gt; Read all pages\r\nimage you can see. Shift+CTL+5 in adobe dc\r\n[you can see image here][1]\r\n\r\nI selected &quot;read based on tagging structure and Read current page&quot; Now the jaws not reading the Tag structure. But if i use same doc for &quot;Read entire document&quot; it is reading perfect?\r\n\r\nLink to doc:\r\n\r\nhttps://drive.google.com/file/d/1CguMHa4DikFMP15VGERnPNWRq5vO3u6I/view?usp=sharing\r\n\r\nAny help?\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ALiAx.png","title":"&quot;Find Tag from Selection&quot; is not working in tagged pdf?","body":"<p>I have tagged a pdf using pdfbox. </p>\n\n<p>How I was tagged:  Instead of extract text and tagging I am adding mcid's to the existing content stream (both open and closing ex: /p&lt;&lt; MCID 0 >> BDC .. .. .. EMC) and then I am adding that marked content to document root catalog structure.</p>\n\n<p>What working: Almost everything is working fine like completely tagged pdf. It is passing the PAC3 accessibility checker also.</p>\n\n<pre><code>//Adding tags\ntokens.add(++ind, type_check(t_ype, page));\ncurrentMarkedContentDictionary = new COSDictionary();\ncurrentMarkedContentDictionary.setInt(COSName.MCID, mcid);\nif (altText != null &amp;&amp; !altText.isEmpty()) {\n    currentMarkedContentDictionary.setString(COSName.ALT, altText);\n}\nmcid++;\ntokens.add(++ind, currentMarkedContentDictionary);\ntokens.add(++ind, Operator.getOperator(\"BDC\"));\n\n// Adding marked content to root structure\nstructureElement.appendKid(markedContent);\n\ncurrentSection.appendKid(structureElement);             \n</code></pre>\n\n<p>What not working:  After tagging one future Is missing from tag structure. There is an option called \"Find Tag from Selection\" . Is not working. It is going to last tag while I select some test and press \" Find tag from selection\" in root structure. Please find the pdf in below link.</p>\n\n<p><a href=\"https://drive.google.com/file/d/11Lhuj50Bb9kChvD0kL_GOHQn4RNKZ0hR/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/11Lhuj50Bb9kChvD0kL_GOHQn4RNKZ0hR/view?usp=sharing</a></p>\n\n<p>Parent tree:</p>\n\n<p><a href=\"https://drive.google.com/file/d/109xhUpqsQSFLPJB2nhXoU9ssMKnyht3G/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/109xhUpqsQSFLPJB2nhXoU9ssMKnyht3G/view?usp=sharing</a></p>\n\n<p>extra doc with tagging and parent tree:\n<a href=\"https://drive.google.com/file/d/1yzZSsjkb5_dGfq1Wu3VxsH73vr3alRmC/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1yzZSsjkb5_dGfq1Wu3VxsH73vr3alRmC/view?usp=sharing</a></p>\n\n<p>Please help me to solve this problem.</p>\n\n<p><strong>New Problem:</strong>\nI observed that </p>\n\n<p>while Jaws reading my tagged document, I am pressing controls like ctl+shift+5 in windows machine . It will show the options like \ndrop down>\"Read based on tagged structure\" or  >\"Top left to bottom right\"\nand below two radio buttons </p>\n\n<blockquote>\n  <p>Read curent page\n  Read all pages\n  image you can see. Shift+CTL+5 in adobe dc\n  <a href=\"https://i.stack.imgur.com/ALiAx.png\" rel=\"nofollow noreferrer\">you can see image here</a></p>\n</blockquote>\n\n<p>I selected \"read based on tagging structure and Read current page\" Now the jaws not reading the Tag structure. But if i use same doc for \"Read entire document\" it is reading perfect?</p>\n\n<p>Link to doc:</p>\n\n<p><a href=\"https://drive.google.com/file/d/1CguMHa4DikFMP15VGERnPNWRq5vO3u6I/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1CguMHa4DikFMP15VGERnPNWRq5vO3u6I/view?usp=sharing</a></p>\n\n<p>Any help?</p>\n"},{"tags":["java","final"],"comments":[{"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"score":1,"creation_date":1698130878,"post_id":5181578,"comment_id":136362767,"body_markdown":"A great candidate for a `final` class in Java is one that only holds `public static` constants or utilities that you want your entire project to have access to! It&#39;s effectively a namespace for those constants or utilities.","body":"A great candidate for a <code>final</code> class in Java is one that only holds <code>public static</code> constants or utilities that you want your entire project to have access to! It&#39;s effectively a namespace for those constants or utilities."}],"answers":[{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":1,"up_vote_count":634,"is_accepted":true,"score":633,"last_activity_date":1583284079,"creation_date":1299160534,"answer_id":5181618,"question_id":5181578,"body_markdown":"First of all, I recommend this article: [Java: When to create a final class](http://programming.guide/java/when-to-create-a-final-class.html)\r\n\r\n----\r\n\r\n&gt; **If they do, when do they use it so I can understand it better and know when to use it.**\r\n\r\nA `final` class is simply a class that **can&#39;t be extended**.\r\n\r\n(It does not mean that all references to objects of the class would act as if they were declared as `final`.) \r\n\r\nWhen it&#39;s useful to declare a class as final is covered in the answers of this question:\r\n\r\n- https://stackoverflow.com/questions/218744/good-reasons-to-prohibit-inheritance-in-java\r\n\r\n&gt; **If Java is object oriented, and you declare a class `final`, doesn&#39;t it stop the idea of class having the characteristics of objects?**\r\n\r\nIn some sense yes.\r\n\r\nBy marking a class as final you disable a powerful and flexible feature of the language for that part of the code. Some classes however, should not (and in certain cases *can* not) be designed to take subclassing into account in a good way. In these cases it makes sense to mark the class as final, even though it limits OOP. (Remember however that a final class can still extend another non-final class.)\r\n","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>First of all, I recommend this article: <a href=\"http://programming.guide/java/when-to-create-a-final-class.html\" rel=\"noreferrer\">Java: When to create a final class</a></p>\n\n<hr>\n\n<blockquote>\n  <p><strong>If they do, when do they use it so I can understand it better and know when to use it.</strong></p>\n</blockquote>\n\n<p>A <code>final</code> class is simply a class that <strong>can't be extended</strong>.</p>\n\n<p>(It does not mean that all references to objects of the class would act as if they were declared as <code>final</code>.) </p>\n\n<p>When it's useful to declare a class as final is covered in the answers of this question:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/218744/good-reasons-to-prohibit-inheritance-in-java\">Good reasons to prohibit inheritance in Java?</a></li>\n</ul>\n\n<blockquote>\n  <p><strong>If Java is object oriented, and you declare a class <code>final</code>, doesn't it stop the idea of class having the characteristics of objects?</strong></p>\n</blockquote>\n\n<p>In some sense yes.</p>\n\n<p>By marking a class as final you disable a powerful and flexible feature of the language for that part of the code. Some classes however, should not (and in certain cases <em>can</em> not) be designed to take subclassing into account in a good way. In these cases it makes sense to mark the class as final, even though it limits OOP. (Remember however that a final class can still extend another non-final class.)</p>\n"},{"tags":[],"owner":{"account_id":294745,"reputation":793,"user_id":598798,"display_name":"javadeveloper"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1425602960,"creation_date":1299160571,"answer_id":5181626,"question_id":5181578,"body_markdown":"The best example is \r\n\r\n&gt; public final class String\r\n\r\nwhich is an immutable class and cannot be extended.\r\nOf course, there is more than just making the class final to be immutable.\r\n\r\n","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>The best example is </p>\n\n<blockquote>\n  <p>public final class String</p>\n</blockquote>\n\n<p>which is an immutable class and cannot be extended.\nOf course, there is more than just making the class final to be immutable.</p>\n"},{"tags":[],"owner":{"account_id":196355,"reputation":9114,"user_id":439751,"accept_rate":75,"display_name":"James"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1299160599,"creation_date":1299160599,"answer_id":5181631,"question_id":5181578,"body_markdown":"Yes, sometimes you may want this though, either for security or speed reasons. It&#39;s done also in C++. It may not be *that* applicable for programs, but moreso for frameworks.\r\nhttp://www.glenmccl.com/perfj_025.htm","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>Yes, sometimes you may want this though, either for security or speed reasons. It's done also in C++. It may not be <em>that</em> applicable for programs, but moreso for frameworks.\n<a href=\"http://www.glenmccl.com/perfj_025.htm\" rel=\"nofollow\">http://www.glenmccl.com/perfj_025.htm</a></p>\n"},{"tags":[],"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1299160666,"creation_date":1299160666,"answer_id":5181643,"question_id":5181578,"body_markdown":"If the class is marked `final`, it means that the class&#39; structure can&#39;t be modified by anything external. Where this is the most visible is when you&#39;re doing traditional polymorphic inheritance, basically `class B extends A` just won&#39;t work. It&#39;s basically a way to protect some parts of your code *(to extent)*.\r\n\r\nTo clarify, marking class `final` doesn&#39;t mark its fields as `final` and as such doesn&#39;t protect the object properties but the actual class structure instead.","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>If the class is marked <code>final</code>, it means that the class' structure can't be modified by anything external. Where this is the most visible is when you're doing traditional polymorphic inheritance, basically <code>class B extends A</code> just won't work. It's basically a way to protect some parts of your code <em>(to extent)</em>.</p>\n\n<p>To clarify, marking class <code>final</code> doesn't mark its fields as <code>final</code> and as such doesn't protect the object properties but the actual class structure instead.</p>\n"},{"tags":[],"owner":{"account_id":321474,"reputation":15645,"user_id":640325,"accept_rate":62,"display_name":"Shay Rojansky"},"down_vote_count":1,"up_vote_count":42,"is_accepted":false,"score":41,"last_activity_date":1431629490,"creation_date":1299160669,"answer_id":5181644,"question_id":5181578,"body_markdown":"One scenario where final is important, when you want to **prevent inheritance** of a class, for security reasons. This allows you to make sure that code you are running _cannot be overridden_ by someone.\r\n\r\nAnother scenario is for optimization: I seem to remember that the Java compiler inlines some function calls from final classes. So, if you call `a.x()` and a is declared `final`, we know at compile-time what the code will be and can inline into the calling function. I have no idea whether this is actually done, but with final it is a possibility.","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>One scenario where final is important, when you want to <strong>prevent inheritance</strong> of a class, for security reasons. This allows you to make sure that code you are running <em>cannot be overridden</em> by someone.</p>\n\n<p>Another scenario is for optimization: I seem to remember that the Java compiler inlines some function calls from final classes. So, if you call <code>a.x()</code> and a is declared <code>final</code>, we know at compile-time what the code will be and can inline into the calling function. I have no idea whether this is actually done, but with final it is a possibility.</p>\n"},{"tags":[],"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1299160790,"creation_date":1299160790,"answer_id":5181668,"question_id":5181578,"body_markdown":"If you imagine the class hierarchy as a tree (as it is in Java), abstract classes can only be branches and final classes are those that can only be leafs. Classes that fall into neither of those categories can be both branches and leafs.\r\n\r\nThere&#39;s no violation of OO principles here, final is simply providing a nice symmetry.\r\n\r\nIn practice you want to use final if you want your objects to be immutable or if you&#39;re writing an API, to signal to the users of the API that the class is just not intended for extension.","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>If you imagine the class hierarchy as a tree (as it is in Java), abstract classes can only be branches and final classes are those that can only be leafs. Classes that fall into neither of those categories can be both branches and leafs.</p>\n\n<p>There's no violation of OO principles here, final is simply providing a nice symmetry.</p>\n\n<p>In practice you want to use final if you want your objects to be immutable or if you're writing an API, to signal to the users of the API that the class is just not intended for extension.</p>\n"},{"tags":[],"owner":{"account_id":55621,"reputation":8047,"user_id":166611,"accept_rate":75,"display_name":"JuanZe"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1299160881,"creation_date":1299160881,"answer_id":5181684,"question_id":5181578,"body_markdown":"A final class is a class that can&#39;t be extended. Also methods could be declared as final to indicate that cannot be overridden by subclasses. \r\n\r\nPreventing the class from being subclassed could be particularly useful if you write APIs or libraries and want to avoid being extended to alter base behaviour.","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>A final class is a class that can't be extended. Also methods could be declared as final to indicate that cannot be overridden by subclasses. </p>\n\n<p>Preventing the class from being subclassed could be particularly useful if you write APIs or libraries and want to avoid being extended to alter base behaviour.</p>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":5,"up_vote_count":20,"is_accepted":false,"score":15,"last_activity_date":1515441551,"creation_date":1299160906,"answer_id":5181693,"question_id":5181578,"body_markdown":"Relevant reading: [The Open-Closed Principle][1] by Bob Martin.\r\n\r\n**Key quote:**\r\n\r\n&gt; Software Entities (Classes, Modules,\r\n&gt; Functions, etc.)  should be open for\r\n&gt; Extension, but closed for\r\n&gt; Modification.\r\n\r\nThe `final` keyword is the means to enforce this in Java, whether it&#39;s used on methods or on classes.\r\n \r\n\r\n  [1]: https://www.cs.duke.edu/courses/fall07/cps108/papers/ocp.pdf","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>Relevant reading: <a href=\"https://www.cs.duke.edu/courses/fall07/cps108/papers/ocp.pdf\" rel=\"nofollow noreferrer\">The Open-Closed Principle</a> by Bob Martin.</p>\n\n<p><strong>Key quote:</strong></p>\n\n<blockquote>\n  <p>Software Entities (Classes, Modules,\n  Functions, etc.)  should be open for\n  Extension, but closed for\n  Modification.</p>\n</blockquote>\n\n<p>The <code>final</code> keyword is the means to enforce this in Java, whether it's used on methods or on classes.</p>\n"},{"tags":[],"owner":{"account_id":1376767,"reputation":3185,"user_id":1310634,"accept_rate":50,"display_name":"andyqee"},"down_vote_count":26,"up_vote_count":234,"is_accepted":false,"score":208,"last_activity_date":1529252778,"creation_date":1347155270,"answer_id":12335925,"question_id":5181578,"body_markdown":"In Java, items with the `final` modifier cannot be changed!\r\n\r\nThis includes final classes, final variables, and final methods:\r\n\r\n - A final class cannot be extended by any other class\r\n - A final variable cannot be reassigned another value\r\n - A final method cannot be overridden","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>In Java, items with the <code>final</code> modifier cannot be changed!</p>\n\n<p>This includes final classes, final variables, and final methods:</p>\n\n<ul>\n<li>A final class cannot be extended by any other class</li>\n<li>A final variable cannot be reassigned another value</li>\n<li>A final method cannot be overridden</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1976384,"reputation":21,"user_id":1774086,"display_name":"skhaapioloir"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1351211567,"creation_date":1351211567,"answer_id":13079276,"question_id":5181578,"body_markdown":"Final classes cannot be extended. So if you want a class to behave a certain way and don&#39;t someone to override the methods (with possibly less efficient and more malicious code), you can declare the whole class as final or specific methods which you don&#39;t want to be changed. \r\n\r\nSince declaring a class does not prevent a class from being instantiated, it does not mean it will stop the class from having the characteristics of an object. It&#39;s just that you will have to stick to the methods just the way they are declared in the class. ","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>Final classes cannot be extended. So if you want a class to behave a certain way and don't someone to override the methods (with possibly less efficient and more malicious code), you can declare the whole class as final or specific methods which you don't want to be changed. </p>\n\n<p>Since declaring a class does not prevent a class from being instantiated, it does not mean it will stop the class from having the characteristics of an object. It's just that you will have to stick to the methods just the way they are declared in the class. </p>\n"},{"tags":[],"owner":{"account_id":2003582,"reputation":878,"user_id":1794041,"accept_rate":67,"display_name":"Rahul"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1357292834,"creation_date":1357292834,"answer_id":14154684,"question_id":5181578,"body_markdown":"One advantage of keeping a class as final :-\r\n\r\nString class is kept final so that no one can override its methods and change the functionality. e.g no one can change functionality of length() method. It will always return length of a string.\r\n\r\nDeveloper of this class wanted no one to change functionality of this class, so he kept it as final.","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>One advantage of keeping a class as final :-</p>\n\n<p>String class is kept final so that no one can override its methods and change the functionality. e.g no one can change functionality of length() method. It will always return length of a string.</p>\n\n<p>Developer of this class wanted no one to change functionality of this class, so he kept it as final.</p>\n"},{"tags":[],"owner":{"account_id":2485005,"reputation":11,"user_id":2163589,"display_name":"lok"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1385486221,"creation_date":1363143691,"answer_id":15376273,"question_id":5181578,"body_markdown":"As above told, if you want no one can change the functionality of the method then you can declare it as final.\r\n\r\nExample: Application server file path for download/upload, splitting string based on offset, such methods you can declare it Final so that these method functions will not be altered. And if you want such final methods in a separate class, then define that class as Final class. So Final class will have all final methods, where as Final method can be declared and defined in non-final class.","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>As above told, if you want no one can change the functionality of the method then you can declare it as final.</p>\n\n<p>Example: Application server file path for download/upload, splitting string based on offset, such methods you can declare it Final so that these method functions will not be altered. And if you want such final methods in a separate class, then define that class as Final class. So Final class will have all final methods, where as Final method can be declared and defined in non-final class.</p>\n"},{"tags":[],"owner":{"account_id":952436,"reputation":403,"user_id":978314,"accept_rate":60,"display_name":"Ben Wu"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1370823358,"creation_date":1370823358,"answer_id":17015476,"question_id":5181578,"body_markdown":"Be careful when you make a class &quot;final&quot;. Because if you want to write an unit test for a final class, you cannot subclass this final class in order to use the dependency-breaking technique &quot;Subclass and Override Method&quot; described in Michael C. Feathers&#39; book &quot;Working Effectively with Legacy Code&quot;. In this book, Feathers said, &quot;Seriously, it is easy to believe that sealed and final are a wrong-headed mistake, that they should never have been added to programming languages. But the real fault lies with us. When we depend directly on libraries that are out of our control, we are just asking for trouble.&quot;","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>Be careful when you make a class \"final\". Because if you want to write an unit test for a final class, you cannot subclass this final class in order to use the dependency-breaking technique \"Subclass and Override Method\" described in Michael C. Feathers' book \"Working Effectively with Legacy Code\". In this book, Feathers said, \"Seriously, it is easy to believe that sealed and final are a wrong-headed mistake, that they should never have been added to programming languages. But the real fault lies with us. When we depend directly on libraries that are out of our control, we are just asking for trouble.\"</p>\n"},{"tags":[],"owner":{"account_id":2304091,"reputation":8985,"user_id":2023728,"accept_rate":83,"display_name":"mel3kings"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1371796463,"creation_date":1371794936,"answer_id":17228711,"question_id":5181578,"body_markdown":"**TO ADDRESS THE FINAL CLASS PROBLEM:**\r\n\r\nThere are two ways to make a class final. The first is to use the keyword final in the class declaration:\r\n\r\n    public final class SomeClass {\r\n      //  . . . Class contents\r\n    }\r\n\r\nThe second way to make a class final is to declare all of its constructors as private:\r\n\r\n    public class SomeClass {\r\n      public final static SOME_INSTANCE = new SomeClass(5);\r\n      private SomeClass(final int value) {\r\n      }\r\n\r\nMarking it final saves you the trouble if finding out that it is actual a final, to demonstrate look at  this Test class. looks public at first glance.\r\n\r\n    public class Test{\r\n      private Test(Class beanClass, Class stopClass, int flags)\r\n        throws Exception{\r\n        //  . . . snip . . . \r\n      }\r\n    }\r\n\r\nUnfortunately, since the only constructor of the class is private, it is impossible to extend this class. In the case of the Test class, there is no reason that the class should be final. The Test class is a good example of how implicit final classes can cause problems.\r\n\r\n**So you should mark it final when you implicitly make a class final by making it&#39;s constructor private.**\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"What is the point of &quot;final class&quot; in Java?","body":"<p><strong>TO ADDRESS THE FINAL CLASS PROBLEM:</strong></p>\n\n<p>There are two ways to make a class final. The first is to use the keyword final in the class declaration:</p>\n\n<pre><code>public final class SomeClass {\n  //  . . . Class contents\n}\n</code></pre>\n\n<p>The second way to make a class final is to declare all of its constructors as private:</p>\n\n<pre><code>public class SomeClass {\n  public final static SOME_INSTANCE = new SomeClass(5);\n  private SomeClass(final int value) {\n  }\n</code></pre>\n\n<p>Marking it final saves you the trouble if finding out that it is actual a final, to demonstrate look at  this Test class. looks public at first glance.</p>\n\n<pre><code>public class Test{\n  private Test(Class beanClass, Class stopClass, int flags)\n    throws Exception{\n    //  . . . snip . . . \n  }\n}\n</code></pre>\n\n<p>Unfortunately, since the only constructor of the class is private, it is impossible to extend this class. In the case of the Test class, there is no reason that the class should be final. The Test class is a good example of how implicit final classes can cause problems.</p>\n\n<p><strong>So you should mark it final when you implicitly make a class final by making it's constructor private.</strong></p>\n"},{"tags":[],"owner":{"account_id":1804933,"reputation":5136,"user_id":1642266,"display_name":"Kingz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1380142419,"creation_date":1380142419,"answer_id":19015018,"question_id":5181578,"body_markdown":"think of FINAL as the &quot;End of the line&quot; - that guy cannot produce offspring anymore. So when you see it this way, there are ton of real world scenarios that you will come across that requires you to flag an &#39;end of line&#39; marker to the class. It is Domain Driven Design - if your domain demands that a given ENTITY (class) cannot create sub-classes, then mark it as FINAL.\r\n\r\nI should note that there is nothing stopping you from inheriting a &quot;should be tagged as final&quot; class. But that is generally classified as &quot;abuse of inheritance&quot;, and done because most often you would like to inherit some function from the base class in your class.\r\n\r\nThe best approach is to look at the domain and let it dictate your design decisions.","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>think of FINAL as the \"End of the line\" - that guy cannot produce offspring anymore. So when you see it this way, there are ton of real world scenarios that you will come across that requires you to flag an 'end of line' marker to the class. It is Domain Driven Design - if your domain demands that a given ENTITY (class) cannot create sub-classes, then mark it as FINAL.</p>\n\n<p>I should note that there is nothing stopping you from inheriting a \"should be tagged as final\" class. But that is generally classified as \"abuse of inheritance\", and done because most often you would like to inherit some function from the base class in your class.</p>\n\n<p>The best approach is to look at the domain and let it dictate your design decisions.</p>\n"},{"tags":[],"owner":{"account_id":676634,"reputation":454,"user_id":1812722,"display_name":"Wilhem Meignan"},"down_vote_count":5,"up_vote_count":2,"is_accepted":false,"score":-3,"last_activity_date":1407337452,"creation_date":1407337452,"answer_id":25163817,"question_id":5181578,"body_markdown":"Object Orientation is not about inheritance, it is about encapsulation. And inheritance breaks encapsulation.\r\n\r\nDeclaring a class final makes perfect sense in a lot of cases. Any object representing a “value” like a color or an amount of money could be final. They stand on their own.\r\n\r\nIf you are writing libraries, make your classes final unless you explicitly indent them to be derived. Otherwise, people may derive your classes and override methods, breaking your assumptions / invariants. This may have security implications as well.\r\n\r\nJoshua Bloch in “Effective Java” recommends designing explicitly for inheritance or prohibiting it and he notes that designing for inheritance is not that easy.","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>Object Orientation is not about inheritance, it is about encapsulation. And inheritance breaks encapsulation.</p>\n\n<p>Declaring a class final makes perfect sense in a lot of cases. Any object representing a “value” like a color or an amount of money could be final. They stand on their own.</p>\n\n<p>If you are writing libraries, make your classes final unless you explicitly indent them to be derived. Otherwise, people may derive your classes and override methods, breaking your assumptions / invariants. This may have security implications as well.</p>\n\n<p>Joshua Bloch in “Effective Java” recommends designing explicitly for inheritance or prohibiting it and he notes that designing for inheritance is not that easy.</p>\n"},{"tags":[],"owner":{"account_id":481416,"reputation":355314,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1526976448,"creation_date":1427196694,"answer_id":29231530,"question_id":5181578,"body_markdown":"**`final class` can avoid breaking the public API when you add new methods**\r\n\r\nSuppose that on version 1 of your `Base` class you do:\r\n\r\n    public class Base {}\r\n\r\nand a client does:\r\n\r\n    class Derived extends Base {\r\n        public int method() { return 1; }\r\n    }\r\n\r\nThen if in version 2 you want to add a `method` method to `Base`:\r\n\r\n    class Base {\r\n        public String method() { return null; }\r\n    }\r\n\r\nit would break the client code.\r\n\r\nIf we had used `final class Base` instead, the client wouldn&#39;t have been able to inherit, and the method addition wouldn&#39;t break the API.","title":"What is the point of &quot;final class&quot; in Java?","body":"<p><strong><code>final class</code> can avoid breaking the public API when you add new methods</strong></p>\n\n<p>Suppose that on version 1 of your <code>Base</code> class you do:</p>\n\n<pre><code>public class Base {}\n</code></pre>\n\n<p>and a client does:</p>\n\n<pre><code>class Derived extends Base {\n    public int method() { return 1; }\n}\n</code></pre>\n\n<p>Then if in version 2 you want to add a <code>method</code> method to <code>Base</code>:</p>\n\n<pre><code>class Base {\n    public String method() { return null; }\n}\n</code></pre>\n\n<p>it would break the client code.</p>\n\n<p>If we had used <code>final class Base</code> instead, the client wouldn't have been able to inherit, and the method addition wouldn't break the API.</p>\n"},{"tags":[],"owner":{"account_id":3901380,"reputation":393,"user_id":3229161,"display_name":"jaamit"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1427445854,"creation_date":1427445854,"answer_id":29296456,"question_id":5181578,"body_markdown":"Android Looper class is a good practical example of this. \r\nhttp://developer.android.com/reference/android/os/Looper.html\r\n\r\nThe Looper class provides certain functionality which is NOT intended to be overridden by any other class. Hence, no sub-class here.","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>Android Looper class is a good practical example of this. \n<a href=\"http://developer.android.com/reference/android/os/Looper.html\" rel=\"nofollow\">http://developer.android.com/reference/android/os/Looper.html</a></p>\n\n<p>The Looper class provides certain functionality which is NOT intended to be overridden by any other class. Hence, no sub-class here.</p>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1458638604,"creation_date":1435827914,"answer_id":31180174,"question_id":5181578,"body_markdown":"The keyword `final` itself means something is final and is not supposed to be modified in any way. If a class if marked `final` then it can not be extended or sub-classed. But the question is why do we mark a class `final`? IMO there are various reasons:\r\n\r\n 1. **Standardization:** Some classes perform standard functions and they are not meant to be modified e.g. classes performing various functions related to string manipulations or mathematical functions etc.\r\n 2. **Security reasons**: Sometimes we write classes which perform various authentication and password related functions and we do not want them to be altered by anyone else. \r\n\r\nI have heard that marking class `final` improves efficiency but frankly I could not find this argument to carry much weight.\r\n\r\n&gt; If Java is object oriented, and you declare a class final, doesn&#39;t it\r\n&gt; stop the idea of class having the characteristics of objects?\r\n\r\nPerhaps yes, but sometimes that is the intended purpose. Sometimes we do that to achieve bigger benefits of security etc. by sacrificing the ability of this class to be extended. But a final class can still extend one class if it needs to.\r\n\r\nOn a side note we should [prefer composition over inheritance][1] and `final` keyword actually helps in enforcing this principle.\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11343840/favor-composition-over-inheritance","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>The keyword <code>final</code> itself means something is final and is not supposed to be modified in any way. If a class if marked <code>final</code> then it can not be extended or sub-classed. But the question is why do we mark a class <code>final</code>? IMO there are various reasons:</p>\n\n<ol>\n<li><strong>Standardization:</strong> Some classes perform standard functions and they are not meant to be modified e.g. classes performing various functions related to string manipulations or mathematical functions etc.</li>\n<li><strong>Security reasons</strong>: Sometimes we write classes which perform various authentication and password related functions and we do not want them to be altered by anyone else. </li>\n</ol>\n\n<p>I have heard that marking class <code>final</code> improves efficiency but frankly I could not find this argument to carry much weight.</p>\n\n<blockquote>\n  <p>If Java is object oriented, and you declare a class final, doesn't it\n  stop the idea of class having the characteristics of objects?</p>\n</blockquote>\n\n<p>Perhaps yes, but sometimes that is the intended purpose. Sometimes we do that to achieve bigger benefits of security etc. by sacrificing the ability of this class to be extended. But a final class can still extend one class if it needs to.</p>\n\n<p>On a side note we should <a href=\"https://stackoverflow.com/questions/11343840/favor-composition-over-inheritance\">prefer composition over inheritance</a> and <code>final</code> keyword actually helps in enforcing this principle.</p>\n"},{"tags":[],"owner":{"account_id":2729652,"reputation":5593,"user_id":2353713,"accept_rate":69,"display_name":"Andy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1530912690,"creation_date":1530912690,"answer_id":51217859,"question_id":5181578,"body_markdown":"Let&#39;s say you have an `Employee` class that has a method `greet`. When the `greet` method is called it simply prints `Hello everyone!`. So that is the ***expected behavior*** of `greet` method\r\n\r\n    public class Employee {\r\n    \r\n    \tvoid greet() {\r\n    \t\tSystem.out.println(&quot;Hello everyone!&quot;);\r\n    \t}\r\n    }\r\nNow, let `GrumpyEmployee` subclass `Employee` and override `greet` method as shown below. \r\n\r\n    public class GrumpyEmployee extends Employee {\r\n    \r\n    \t@Override\r\n    \tvoid greet() {\r\n    \t\tSystem.out.println(&quot;Get lost!&quot;);\r\n    \t}\r\n    }\r\nNow in the below code have a look at the `sayHello` method. It takes `Employee` instance as a parameter and calls the greet method hoping that it would say *`Hello everyone!`* But what we get is *`Get lost!`*. This change in behavior is because of `Employee grumpyEmployee = new GrumpyEmployee();`\r\n\r\n\r\n    public class TestFinal {\r\n    \tstatic Employee grumpyEmployee = new GrumpyEmployee();\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tTestFinal testFinal = new TestFinal();\r\n    \t\ttestFinal.sayHello(grumpyEmployee);\r\n    \t}\r\n    \t\r\n    \tprivate void sayHello(Employee employee) {\r\n    \t\temployee.greet(); //Here you would expect a warm greeting, but what you get is &quot;Get lost!&quot;\r\n    \t}\r\n    }\r\n\r\nThis situation can be ***avoided*** if the `Employee` class was made `final`. Just imagine the amount of chaos a cheeky programmer could cause if `String` Class was not declared as `final`. ","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>Let's say you have an <code>Employee</code> class that has a method <code>greet</code>. When the <code>greet</code> method is called it simply prints <code>Hello everyone!</code>. So that is the <strong><em>expected behavior</em></strong> of <code>greet</code> method</p>\n\n<pre><code>public class Employee {\n\n    void greet() {\n        System.out.println(\"Hello everyone!\");\n    }\n}\n</code></pre>\n\n<p>Now, let <code>GrumpyEmployee</code> subclass <code>Employee</code> and override <code>greet</code> method as shown below. </p>\n\n<pre><code>public class GrumpyEmployee extends Employee {\n\n    @Override\n    void greet() {\n        System.out.println(\"Get lost!\");\n    }\n}\n</code></pre>\n\n<p>Now in the below code have a look at the <code>sayHello</code> method. It takes <code>Employee</code> instance as a parameter and calls the greet method hoping that it would say <em><code>Hello everyone!</code></em> But what we get is <em><code>Get lost!</code></em>. This change in behavior is because of <code>Employee grumpyEmployee = new GrumpyEmployee();</code></p>\n\n<pre><code>public class TestFinal {\n    static Employee grumpyEmployee = new GrumpyEmployee();\n\n    public static void main(String[] args) {\n        TestFinal testFinal = new TestFinal();\n        testFinal.sayHello(grumpyEmployee);\n    }\n\n    private void sayHello(Employee employee) {\n        employee.greet(); //Here you would expect a warm greeting, but what you get is \"Get lost!\"\n    }\n}\n</code></pre>\n\n<p>This situation can be <strong><em>avoided</em></strong> if the <code>Employee</code> class was made <code>final</code>. Just imagine the amount of chaos a cheeky programmer could cause if <code>String</code> Class was not declared as <code>final</code>. </p>\n"},{"tags":[],"owner":{"account_id":13244493,"reputation":77,"user_id":9564046,"display_name":"G. Raven"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1549121614,"creation_date":1549121614,"answer_id":54494541,"question_id":5181578,"body_markdown":"Final class cannot be extended further. If we do not need to make a class inheritable in java,we can use this approach.\r\n\r\nIf we just need to make particular methods in a class not to be overridden, we just can put final keyword in front of them. There the class is still inheritable.\r\n\r\n","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>Final class cannot be extended further. If we do not need to make a class inheritable in java,we can use this approach.</p>\n\n<p>If we just need to make particular methods in a class not to be overridden, we just can put final keyword in front of them. There the class is still inheritable.</p>\n"},{"tags":[],"owner":{"account_id":12397977,"reputation":247,"user_id":9036713,"display_name":"Kavinda Pushpitha"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1559545088,"creation_date":1559545088,"answer_id":56422429,"question_id":5181578,"body_markdown":"In java final keyword uses for below occasions.\r\n\r\n 1.  **Final Variables**\r\n 2. **Final Methods**\r\n 3. **Final Classes**\r\n\r\n&gt; In java final variables can&#39;t reassign, **final classes** can&#39;t extends and final methods can&#39;t override.\r\n\r\n","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>In java final keyword uses for below occasions.</p>\n\n<ol>\n<li><strong>Final Variables</strong></li>\n<li><strong>Final Methods</strong></li>\n<li><strong>Final Classes</strong></li>\n</ol>\n\n<blockquote>\n  <p>In java final variables can't reassign, <strong>final classes</strong> can't extends and final methods can't override.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":259035,"reputation":12666,"user_id":541624,"accept_rate":64,"display_name":"ericn"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1624830047,"creation_date":1624830047,"answer_id":68155504,"question_id":5181578,"body_markdown":"I know only one actual use case: generated classes\r\n\r\nAmong the use cases of generated classes, I know one: dependency inject e.g. https://github.com/google/dagger","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>I know only one actual use case: generated classes</p>\n<p>Among the use cases of generated classes, I know one: dependency inject e.g. <a href=\"https://github.com/google/dagger\" rel=\"nofollow noreferrer\">https://github.com/google/dagger</a></p>\n"},{"tags":[],"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1627636218,"creation_date":1627636218,"answer_id":68588361,"question_id":5181578,"body_markdown":"The other answers have focused on what `final class` tells the compiler: do not allow another class to declare it `extends` this class, and why that is desirable. \r\n\r\nBut the compiler is not the only reader of the phrase `final class`. Every **programmer** who reads the source code also reads that. It can aid rapid program comprehension.\r\n\r\nIn general, if a programmer sees `Thing thing = that.someMethod(...);` and the programmer wants to understand the subsequent behaviour of the object accessed through the `thing` object-reference, the programmer must consider the `Thing` class hierarchy: potentially many types, scattered over many packages. But if the programmer knows, or reads, `final class Thing`, they instantly know that they do not need to search for and study so many Java files, because there are no derived classes: they need study only `Thing.java` and, perhaps, it&#39;s base classes.","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>The other answers have focused on what <code>final class</code> tells the compiler: do not allow another class to declare it <code>extends</code> this class, and why that is desirable.</p>\n<p>But the compiler is not the only reader of the phrase <code>final class</code>. Every <strong>programmer</strong> who reads the source code also reads that. It can aid rapid program comprehension.</p>\n<p>In general, if a programmer sees <code>Thing thing = that.someMethod(...);</code> and the programmer wants to understand the subsequent behaviour of the object accessed through the <code>thing</code> object-reference, the programmer must consider the <code>Thing</code> class hierarchy: potentially many types, scattered over many packages. But if the programmer knows, or reads, <code>final class Thing</code>, they instantly know that they do not need to search for and study so many Java files, because there are no derived classes: they need study only <code>Thing.java</code> and, perhaps, it's base classes.</p>\n"},{"tags":[],"owner":{"account_id":1015589,"reputation":1607,"user_id":2746335,"accept_rate":29,"display_name":"caduceus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679830164,"creation_date":1679830164,"answer_id":75847439,"question_id":5181578,"body_markdown":"Marking a class final indicates to static analysis tools that the class could never be inherited. If a method is not throwing an exception, but the method signature says it is, the tool now has the go-ahead to warn you about it, or patch it immediately. As long as the class is not final you can say a method throws an exception even when it doesn&#39;t, since it may be that an overriding method will want to throw that exception.\r\n\r\nThe `abstract` and `final` keywords are basically achieving the same ends. I guess if they had to rewrite Java from scratch they&#39;d probably choose one of these as the default and only have the opposing modifier.","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>Marking a class final indicates to static analysis tools that the class could never be inherited. If a method is not throwing an exception, but the method signature says it is, the tool now has the go-ahead to warn you about it, or patch it immediately. As long as the class is not final you can say a method throws an exception even when it doesn't, since it may be that an overriding method will want to throw that exception.</p>\n<p>The <code>abstract</code> and <code>final</code> keywords are basically achieving the same ends. I guess if they had to rewrite Java from scratch they'd probably choose one of these as the default and only have the opposing modifier.</p>\n"}],"owner":{"account_id":249712,"reputation":14702,"user_id":525965,"accept_rate":93,"display_name":"newbie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":586905,"favorite_count":0,"down_vote_count":1,"up_vote_count":691,"accepted_answer_id":5181618,"answer_count":25,"score":690,"last_activity_date":1679830164,"creation_date":1299160343,"question_id":5181578,"body_markdown":"I am reading a book about Java and it says that you can declare the whole class as `final`. I cannot think of anything where I&#39;d use this. \r\n\r\nI am just new to programming and I am wondering **if programmers actually use this on their programs**. If they do, when do they use it so I can understand it better and know when to use it. \r\n\r\nIf Java is object oriented, and you declare a class `final`, doesn&#39;t it stop the idea of class having the characteristics of objects?","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>I am reading a book about Java and it says that you can declare the whole class as <code>final</code>. I cannot think of anything where I'd use this. </p>\n\n<p>I am just new to programming and I am wondering <strong>if programmers actually use this on their programs</strong>. If they do, when do they use it so I can understand it better and know when to use it. </p>\n\n<p>If Java is object oriented, and you declare a class <code>final</code>, doesn't it stop the idea of class having the characteristics of objects?</p>\n"},{"tags":["java","database","playframework","oracle12c","socket-timeout-exception"],"answers":[{"tags":[],"owner":{"account_id":779805,"reputation":4963,"user_id":836215,"display_name":"ibre5041"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679828275,"creation_date":1593444459,"answer_id":62641468,"question_id":62632709,"body_markdown":"You can enable TCP keepalive for JDBC - either be setting JVM directive or by adding &quot;ENABLE=BROKEN&quot; into connection string.\r\n\r\nBut:\r\n- Usually Cisco/Juniper cuts off TCP connection when it is inactive for more that on one hour.\r\n- While Linux kernel starts sending keepalive probes after two hours(tcp_keepalive_time). So if you decide to turn tcp keepalive on, you will also need root to change this kernel tunable to lower value(10-15 minutes)\r\n- Moreover HikariCP should not keep open any connection for longer than 30 minutes - by default.\r\n\r\nSo if your FW, Linux kernel and HikariCP all use default settings, then this error should not occur in your system.\r\n\r\nSee HikariCP [official documentation][1]\r\n\r\n&gt; maxLifetime:\r\n&gt; This property controls the maximum lifetime of a connection in the\r\n&gt; pool. An in-use connection will never be retired, only when it is\r\n&gt; closed will it then be removed. On a connection-by-connection basis,\r\n&gt; minor negative attenuation is applied to avoid mass-extinction in the\r\n&gt; pool. We strongly recommend setting this value, and it should be\r\n&gt; several seconds shorter than any database or infrastructure imposed\r\n&gt; connection time limit. A value of 0 indicates no maximum lifetime\r\n&gt; (infinite lifetime), subject of course to the idleTimeout setting. The\r\n&gt; minimum allowed value is 30000ms (30 seconds). Default: 1800000 (30\r\n&gt; minutes)\r\n\r\n\r\n\r\n  [1]: https://github.com/brettwooldridge/HikariCP","title":"How to solve &quot;Socket read timed out&quot; when using hikari connection pool","body":"<p>You can enable TCP keepalive for JDBC - either be setting JVM directive or by adding &quot;ENABLE=BROKEN&quot; into connection string.</p>\n<p>But:</p>\n<ul>\n<li>Usually Cisco/Juniper cuts off TCP connection when it is inactive for more that on one hour.</li>\n<li>While Linux kernel starts sending keepalive probes after two hours(tcp_keepalive_time). So if you decide to turn tcp keepalive on, you will also need root to change this kernel tunable to lower value(10-15 minutes)</li>\n<li>Moreover HikariCP should not keep open any connection for longer than 30 minutes - by default.</li>\n</ul>\n<p>So if your FW, Linux kernel and HikariCP all use default settings, then this error should not occur in your system.</p>\n<p>See HikariCP <a href=\"https://github.com/brettwooldridge/HikariCP\" rel=\"nofollow noreferrer\">official documentation</a></p>\n<blockquote>\n<p>maxLifetime:\nThis property controls the maximum lifetime of a connection in the\npool. An in-use connection will never be retired, only when it is\nclosed will it then be removed. On a connection-by-connection basis,\nminor negative attenuation is applied to avoid mass-extinction in the\npool. We strongly recommend setting this value, and it should be\nseveral seconds shorter than any database or infrastructure imposed\nconnection time limit. A value of 0 indicates no maximum lifetime\n(infinite lifetime), subject of course to the idleTimeout setting. The\nminimum allowed value is 30000ms (30 seconds). Default: 1800000 (30\nminutes)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3684821,"reputation":770,"user_id":3068803,"display_name":"surendrapanday"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1616812434,"creation_date":1616812434,"answer_id":66827517,"question_id":62632709,"body_markdown":"I have added the below configuration for hickaricp in configuration file and it is \r\nworking fine.\r\n\r\n    ## Database Connection Pool\r\n\r\n    play.db.pool = hikaricp\r\n    play.db.prototype.hikaricp.connectionTimeout=120000\r\n    play.db.prototype.hikaricp.idleTimeout=15000\r\n    play.db.prototype.hikaricp.leakDetectionThreshold=120000\r\n    play.db.prototype.hikaricp.validationTimeout=10000\r\n    play.db.prototype.hikaricp.maxLifetime=120000","title":"How to solve &quot;Socket read timed out&quot; when using hikari connection pool","body":"<p>I have added the below configuration for hickaricp in configuration file and it is\nworking fine.</p>\n<pre><code>## Database Connection Pool\n\nplay.db.pool = hikaricp\nplay.db.prototype.hikaricp.connectionTimeout=120000\nplay.db.prototype.hikaricp.idleTimeout=15000\nplay.db.prototype.hikaricp.leakDetectionThreshold=120000\nplay.db.prototype.hikaricp.validationTimeout=10000\nplay.db.prototype.hikaricp.maxLifetime=120000\n</code></pre>\n"}],"owner":{"account_id":3684821,"reputation":770,"user_id":3068803,"display_name":"surendrapanday"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11964,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66827517,"answer_count":2,"score":2,"last_activity_date":1679828275,"creation_date":1593413620,"question_id":62632709,"body_markdown":"I am developing an application using play framework (version 2.8.0), java(version 1.8) with an oracle database(version 12C).\r\n\r\nThere is only zero or one hit to the database in a day, I am getting below error.\r\n\r\n    java.sql.SQLRecoverableException: IO Error: Socket read timed out\r\n        at oracle.jdbc.driver.T4CConnection.logoff(T4CConnection.java:919)\r\n        at oracle.jdbc.driver.PhysicalConnection.close(PhysicalConnection.java:2005)\r\n        at com.zaxxer.hikari.pool.PoolBase.quietlyCloseConnection(PoolBase.java:138)\r\n        at com.zaxxer.hikari.pool.HikariPool.lambda$closeConnection$1(HikariPool.java:447)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.net.SocketTimeoutException: Socket read timed out\r\n        at oracle.net.nt.TimeoutSocketChannel.read(TimeoutSocketChannel.java:174)\r\n        at oracle.net.ns.NIOHeader.readHeaderBuffer(NIOHeader.java:82)\r\n        at oracle.net.ns.NIOPacket.readFromSocketChannel(NIOPacket.java:139)\r\n        at oracle.net.ns.NIOPacket.readFromSocketChannel(NIOPacket.java:101)\r\n        at oracle.net.ns.NIONSDataChannel.readDataFromSocketChannel(NIONSDataChannel.java:80)\r\n        at oracle.jdbc.driver.T4CMAREngineNIO.prepareForReading(T4CMAREngineNIO.java:98)\r\n        at oracle.jdbc.driver.T4CMAREngineNIO.unmarshalUB1(T4CMAREngineNIO.java:534)\r\n        at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:485)\r\n        at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:252)\r\n        at oracle.jdbc.driver.T4C7Ocommoncall.doOLOGOFF(T4C7Ocommoncall.java:62)\r\n        at oracle.jdbc.driver.T4CConnection.logoff(T4CConnection.java:908)\r\n        ... 6 common frames omitted\r\n\r\n    db {\r\n    default {\r\n    driver=oracle.jdbc.OracleDriver\r\n    url=&quot;jdbc:oracle:thin:@XXX.XXX.XXX.XX:XXXX/XXXXXXX&quot;\r\n    username=&quot;XXXXXXXXX&quot;\r\n    password=&quot;XXXXXXXXX&quot;\r\n    hikaricp {\r\n      dataSource {\r\n        cachePrepStmts = true\r\n        prepStmtCacheSize = 250\r\n        prepStmtCacheSqlLimit = 2048\r\n          }\r\n         }\r\n      }\r\n    }\r\n\r\nIt seems it is causing due to inactive database connection, How can I solve this?\r\nPlease let me know if any other information is required?","title":"How to solve &quot;Socket read timed out&quot; when using hikari connection pool","body":"<p>I am developing an application using play framework (version 2.8.0), java(version 1.8) with an oracle database(version 12C).</p>\n<p>There is only zero or one hit to the database in a day, I am getting below error.</p>\n<pre><code>java.sql.SQLRecoverableException: IO Error: Socket read timed out\n    at oracle.jdbc.driver.T4CConnection.logoff(T4CConnection.java:919)\n    at oracle.jdbc.driver.PhysicalConnection.close(PhysicalConnection.java:2005)\n    at com.zaxxer.hikari.pool.PoolBase.quietlyCloseConnection(PoolBase.java:138)\n    at com.zaxxer.hikari.pool.HikariPool.lambda$closeConnection$1(HikariPool.java:447)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.net.SocketTimeoutException: Socket read timed out\n    at oracle.net.nt.TimeoutSocketChannel.read(TimeoutSocketChannel.java:174)\n    at oracle.net.ns.NIOHeader.readHeaderBuffer(NIOHeader.java:82)\n    at oracle.net.ns.NIOPacket.readFromSocketChannel(NIOPacket.java:139)\n    at oracle.net.ns.NIOPacket.readFromSocketChannel(NIOPacket.java:101)\n    at oracle.net.ns.NIONSDataChannel.readDataFromSocketChannel(NIONSDataChannel.java:80)\n    at oracle.jdbc.driver.T4CMAREngineNIO.prepareForReading(T4CMAREngineNIO.java:98)\n    at oracle.jdbc.driver.T4CMAREngineNIO.unmarshalUB1(T4CMAREngineNIO.java:534)\n    at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:485)\n    at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:252)\n    at oracle.jdbc.driver.T4C7Ocommoncall.doOLOGOFF(T4C7Ocommoncall.java:62)\n    at oracle.jdbc.driver.T4CConnection.logoff(T4CConnection.java:908)\n    ... 6 common frames omitted\n\ndb {\ndefault {\ndriver=oracle.jdbc.OracleDriver\nurl=&quot;jdbc:oracle:thin:@XXX.XXX.XXX.XX:XXXX/XXXXXXX&quot;\nusername=&quot;XXXXXXXXX&quot;\npassword=&quot;XXXXXXXXX&quot;\nhikaricp {\n  dataSource {\n    cachePrepStmts = true\n    prepStmtCacheSize = 250\n    prepStmtCacheSqlLimit = 2048\n      }\n     }\n  }\n}\n</code></pre>\n<p>It seems it is causing due to inactive database connection, How can I solve this?\nPlease let me know if any other information is required?</p>\n"},{"tags":["java","string","list","java-stream"],"answers":[{"tags":[],"owner":{"account_id":2234417,"reputation":12839,"user_id":1971216,"accept_rate":83,"display_name":"QuentinC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679825187,"creation_date":1679825187,"answer_id":75847059,"question_id":75846958,"body_markdown":"Stream.distinct() only allows you to discard elements that are present multiple times **in the same collection** or **as they are iterated**.\r\n\r\nI suggest using [ListUtils.subtract](https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/ListUtils.html) from apache commons, but you can also do it with streams, like this:\r\n\r\n    List&lt;String&gt; result = list2.stream()\r\n    .filter(item -&gt; !list1.contains(item))\r\n    .collect(Collectors.toList());\r\n\r\nNotice that it&#39;s an `O(n^2)` algorithm, due to the fact that List.contains is linear.\r\nIf your lists are big, you should replace them with sets to be more efficient.\r\n","title":"Filter two lists that have same elements to only obtain a list with distinct elements using Java Stream","body":"<p>Stream.distinct() only allows you to discard elements that are present multiple times <strong>in the same collection</strong> or <strong>as they are iterated</strong>.</p>\n<p>I suggest using <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/ListUtils.html\" rel=\"nofollow noreferrer\">ListUtils.subtract</a> from apache commons, but you can also do it with streams, like this:</p>\n<pre><code>List&lt;String&gt; result = list2.stream()\n.filter(item -&gt; !list1.contains(item))\n.collect(Collectors.toList());\n</code></pre>\n<p>Notice that it's an <code>O(n^2)</code> algorithm, due to the fact that List.contains is linear.\nIf your lists are big, you should replace them with sets to be more efficient.</p>\n"}],"owner":{"account_id":18759194,"reputation":1122,"user_id":13678514,"display_name":"Emmanuel Njorodongo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75847059,"answer_count":1,"score":0,"last_activity_date":1679827514,"creation_date":1679824017,"question_id":75846958,"body_markdown":"I have `list1` and `list2` like below \r\n\r\n```jave\r\nList&lt;String&gt; list1 = List.of(&quot;DX4555&quot;, &quot;DY4897&quot;, &quot;FG4333&quot;, &quot;IH09992&quot;);\r\nList&lt;String&gt; list2 = List.of(&quot;DX4555&quot;, &quot;DY4897&quot;, &quot;FG4333&quot;, &quot;IH09992&quot;, &quot;LJ48833&quot;, &quot;YTR3888&quot;);\r\n```\r\nWhat I would like to achieve is to have a list that only contains elements in list2 that are not in list1 which are unique which are `[&quot;LJ48833&quot;,&quot;YTR3888&quot;]`\r\n\r\nI would like to achieve this using Java Stream \r\n\r\nI have tried using `stream().distinct()`, but it&#39;s not working.","title":"Filter two lists that have same elements to only obtain a list with distinct elements using Java Stream","body":"<p>I have <code>list1</code> and <code>list2</code> like below</p>\n<pre><code>List&lt;String&gt; list1 = List.of(&quot;DX4555&quot;, &quot;DY4897&quot;, &quot;FG4333&quot;, &quot;IH09992&quot;);\nList&lt;String&gt; list2 = List.of(&quot;DX4555&quot;, &quot;DY4897&quot;, &quot;FG4333&quot;, &quot;IH09992&quot;, &quot;LJ48833&quot;, &quot;YTR3888&quot;);\n</code></pre>\n<p>What I would like to achieve is to have a list that only contains elements in list2 that are not in list1 which are unique which are <code>[&quot;LJ48833&quot;,&quot;YTR3888&quot;]</code></p>\n<p>I would like to achieve this using Java Stream</p>\n<p>I have tried using <code>stream().distinct()</code>, but it's not working.</p>\n"},{"tags":["java","android","kotlin","minify"],"answers":[{"tags":[],"owner":{"account_id":1025690,"reputation":1932,"user_id":1035041,"display_name":"Ajay Kumar Meher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679787554,"creation_date":1679787554,"answer_id":75845132,"question_id":75844880,"body_markdown":"Try adding proguard rules as `-keep class javax.xml.** { *; }`. Once you get it executed successfully. Then, reduce the scope for more optimisation. With the error log it looks like your interface is getting minified as well.","title":"Android javax.xml.namespace.NamespaceContext in Kotlin and minifyEnabled","body":"<p>Try adding proguard rules as <code>-keep class javax.xml.** { *; }</code>. Once you get it executed successfully. Then, reduce the scope for more optimisation. With the error log it looks like your interface is getting minified as well.</p>\n"},{"tags":[],"owner":{"account_id":4141886,"reputation":193,"user_id":3396908,"display_name":"johngray1965"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679826024,"creation_date":1679826024,"answer_id":75847123,"question_id":75844880,"body_markdown":"in the end, I implement the interface in place:\r\n\r\n        private val namespaceResolver = object : NamespaceContext {\r\n            override fun getNamespaceURI(prefix: String?): String {\r\n                requireNotNull(prefix) { &quot;No prefix provided!&quot; }\r\n                return when (prefix) {\r\n    ...\r\n                    else -&gt; {\r\n                        throw IllegalArgumentException(&quot;Unexpected prefix&quot;)\r\n                    }\r\n                }\r\n            }\r\n    \r\n            override fun getPrefix(namespaceURI: String?): String {\r\n                error(&quot;Not implemented&quot;)\r\n            }\r\n    \r\n            override fun getPrefixes(namespaceURI: String?): MutableIterator&lt;Any?&gt; {\r\n                error(&quot;Not implemented&quot;)\r\n            }\r\n        }\r\n\r\nWith it implemented in place, the problem went away.","title":"Android javax.xml.namespace.NamespaceContext in Kotlin and minifyEnabled","body":"<p>in the end, I implement the interface in place:</p>\n<pre><code>    private val namespaceResolver = object : NamespaceContext {\n        override fun getNamespaceURI(prefix: String?): String {\n            requireNotNull(prefix) { &quot;No prefix provided!&quot; }\n            return when (prefix) {\n...\n                else -&gt; {\n                    throw IllegalArgumentException(&quot;Unexpected prefix&quot;)\n                }\n            }\n        }\n\n        override fun getPrefix(namespaceURI: String?): String {\n            error(&quot;Not implemented&quot;)\n        }\n\n        override fun getPrefixes(namespaceURI: String?): MutableIterator&lt;Any?&gt; {\n            error(&quot;Not implemented&quot;)\n        }\n    }\n</code></pre>\n<p>With it implemented in place, the problem went away.</p>\n"}],"owner":{"account_id":4141886,"reputation":193,"user_id":3396908,"display_name":"johngray1965"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679826024,"creation_date":1679783365,"question_id":75844880,"body_markdown":"In an Android app, I implement the interface javax.xml.namespace.NamespaceContext in several places.  The interface has 3 methods, I only care about 1 (we throw an exception if either of other two are called).  The signature for the one we care about is:\r\n\r\n        String getNamespaceURI(String prefix);\r\n\r\n The implementations were in Java, now they in Kotlin.    The Kotlin implementations seemed to be working fine until last night when I started to test with &quot;minifyEnabled true&quot;. \r\n\r\nWith minifyEnabled, I get the following exception:\r\n\r\n    java.lang.IncompatibleClassChangeError: Class ‘mypackage.content.loader.EPubNamespaceResolver&#39; does not implement interface &#39;javax.xml.namespace.NamespaceContext&#39; in call to &#39;java.l\r\n                            ang.String javax.xml.namespace.NamespaceContext.getNamespaceURI(java.lang.String)&#39; (declaration of &#39;org.apache.xpath.jaxp.JAXPPrefixResolver&#39; appears in /apex/com.android.art/javalib/apache-xml.jar)\r\n                         E      at org.apache.xpath.jaxp.JAXPPrefixResolver.getNamespaceForPrefix(JAXPPrefixResolver.java:47)\r\n                         E      at org.apache.xpath.compiler.Lexer.mapNSTokens(Lexer.java:596)\r\n                         E      at org.apache.xpath.compiler.Lexer.tokenize(Lexer.java:365)\r\n                         E      at org.apache.xpath.compiler.Lexer.tokenize(Lexer.java:98)\r\n                         E      at org.apache.xpath.compiler.XPathParser.initXPath(XPathParser.java:112)\r\n                         E      at org.apache.xpath.XPath.&lt;init&gt;(XPath.java:178)\r\n                         E      at org.apache.xpath.XPath.&lt;init&gt;(XPath.java:266)\r\n                         E      at org.apache.xpath.jaxp.XPathImpl.eval(XPathImpl.java:195)\r\n                         E      at org.apache.xpath.jaxp.XPathImpl.evaluate(XPathImpl.java:281)\r\n\r\n\r\nI didn&#39;t have any proguard rules for it in Java, it just worked.  I tried putting proguard rules to keep it, I tried @Keep. I tried playing with whether the param and return type were nullable or not.   I just can&#39;t make it work with  minifyEnabled in Kotlin.","title":"Android javax.xml.namespace.NamespaceContext in Kotlin and minifyEnabled","body":"<p>In an Android app, I implement the interface javax.xml.namespace.NamespaceContext in several places.  The interface has 3 methods, I only care about 1 (we throw an exception if either of other two are called).  The signature for the one we care about is:</p>\n<pre><code>    String getNamespaceURI(String prefix);\n</code></pre>\n<p>The implementations were in Java, now they in Kotlin.    The Kotlin implementations seemed to be working fine until last night when I started to test with &quot;minifyEnabled true&quot;.</p>\n<p>With minifyEnabled, I get the following exception:</p>\n<pre><code>java.lang.IncompatibleClassChangeError: Class ‘mypackage.content.loader.EPubNamespaceResolver' does not implement interface 'javax.xml.namespace.NamespaceContext' in call to 'java.l\n                        ang.String javax.xml.namespace.NamespaceContext.getNamespaceURI(java.lang.String)' (declaration of 'org.apache.xpath.jaxp.JAXPPrefixResolver' appears in /apex/com.android.art/javalib/apache-xml.jar)\n                     E      at org.apache.xpath.jaxp.JAXPPrefixResolver.getNamespaceForPrefix(JAXPPrefixResolver.java:47)\n                     E      at org.apache.xpath.compiler.Lexer.mapNSTokens(Lexer.java:596)\n                     E      at org.apache.xpath.compiler.Lexer.tokenize(Lexer.java:365)\n                     E      at org.apache.xpath.compiler.Lexer.tokenize(Lexer.java:98)\n                     E      at org.apache.xpath.compiler.XPathParser.initXPath(XPathParser.java:112)\n                     E      at org.apache.xpath.XPath.&lt;init&gt;(XPath.java:178)\n                     E      at org.apache.xpath.XPath.&lt;init&gt;(XPath.java:266)\n                     E      at org.apache.xpath.jaxp.XPathImpl.eval(XPathImpl.java:195)\n                     E      at org.apache.xpath.jaxp.XPathImpl.evaluate(XPathImpl.java:281)\n</code></pre>\n<p>I didn't have any proguard rules for it in Java, it just worked.  I tried putting proguard rules to keep it, I tried @Keep. I tried playing with whether the param and return type were nullable or not.   I just can't make it work with  minifyEnabled in Kotlin.</p>\n"},{"tags":["java","proguard"],"answers":[{"tags":[],"owner":{"account_id":6451300,"reputation":1733,"user_id":4998135,"accept_rate":95,"display_name":"Nico"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1503476098,"creation_date":1503475781,"answer_id":45834146,"question_id":45833694,"body_markdown":"You can tell ProGuard to keep everything with an annotation like this:\r\n\r\n`-keep @com.google.inject.Singleton public interface *`\r\n\r\nThe above would keep the interface itself from obfuscation.\r\n\r\nTo get the implementations of the interface you can do something like this:\r\n\r\n    -keep public class * implements **.MainEntity \r\n\r\nSo Right now I am confused what you want to achieve. If you only annotate the interface it wont be a help for ProGuard. The classes would need this annotation.","title":"How to keep class which implement an interface with annotation","body":"<p>You can tell ProGuard to keep everything with an annotation like this:</p>\n\n<p><code>-keep @com.google.inject.Singleton public interface *</code></p>\n\n<p>The above would keep the interface itself from obfuscation.</p>\n\n<p>To get the implementations of the interface you can do something like this:</p>\n\n<pre><code>-keep public class * implements **.MainEntity \n</code></pre>\n\n<p>So Right now I am confused what you want to achieve. If you only annotate the interface it wont be a help for ProGuard. The classes would need this annotation.</p>\n"},{"tags":[],"owner":{"account_id":2694134,"reputation":1006,"user_id":2326666,"accept_rate":62,"display_name":"xxlali"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1503496129,"creation_date":1503496129,"answer_id":45841600,"question_id":45833694,"body_markdown":"After a long trial and error process I get what I want. Here is the solution \r\n\r\nKeep class names with annotation KeepAll;\r\n\r\n    -keep @com.package.name.KeepAll public class **\r\n\r\nKeep class members of classes and interface with annotation KeepAll;\r\n\r\n    -keepclassmembers @com.package.name.KeepAll class ** { public &lt;methods&gt;; &lt;fields&gt;;}\r\n\r\nKeep class members of a class which implemets a class that has KeepAll annotation. (This was what I want)\r\n\r\n    -keepclassmembers public class * implements @com.package.name.KeepAll ** { public &lt;methods&gt;; &lt;fields&gt;;}","title":"How to keep class which implement an interface with annotation","body":"<p>After a long trial and error process I get what I want. Here is the solution </p>\n\n<p>Keep class names with annotation KeepAll;</p>\n\n<pre><code>-keep @com.package.name.KeepAll public class **\n</code></pre>\n\n<p>Keep class members of classes and interface with annotation KeepAll;</p>\n\n<pre><code>-keepclassmembers @com.package.name.KeepAll class ** { public &lt;methods&gt;; &lt;fields&gt;;}\n</code></pre>\n\n<p>Keep class members of a class which implemets a class that has KeepAll annotation. (This was what I want)</p>\n\n<pre><code>-keepclassmembers public class * implements @com.package.name.KeepAll ** { public &lt;methods&gt;; &lt;fields&gt;;}\n</code></pre>\n"}],"owner":{"account_id":2694134,"reputation":1006,"user_id":2326666,"accept_rate":62,"display_name":"xxlali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2341,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":45841600,"answer_count":2,"score":4,"last_activity_date":1679825729,"creation_date":1503474450,"question_id":45833694,"body_markdown":"I defined an annotation named `@KeepAll`. \r\n\r\nI have an interface like\r\n\r\n    @KeepAll\r\n    public interface MainEntity {\r\n        //some methods\r\n    }\r\n\r\nI want to keep all classes which implement this interface from obfuscation. Is this possible on ProGuard?\r\n\r\n**NOTE** I know I can define it as \r\n\r\n    -keep public class * implements **.MainEntity \r\n\r\nBut I don&#39;t want to specify interface name but annotation name. ","title":"How to keep class which implement an interface with annotation","body":"<p>I defined an annotation named <code>@KeepAll</code>. </p>\n\n<p>I have an interface like</p>\n\n<pre><code>@KeepAll\npublic interface MainEntity {\n    //some methods\n}\n</code></pre>\n\n<p>I want to keep all classes which implement this interface from obfuscation. Is this possible on ProGuard?</p>\n\n<p><strong>NOTE</strong> I know I can define it as </p>\n\n<pre><code>-keep public class * implements **.MainEntity \n</code></pre>\n\n<p>But I don't want to specify interface name but annotation name. </p>\n"},{"tags":["java","android","android-permissions"],"comments":[{"owner":{"account_id":2530265,"reputation":3734,"user_id":2198705,"display_name":"Nghia Bui"},"score":0,"creation_date":1577760421,"post_id":59418504,"comment_id":105247923,"body_markdown":"Same question, would love to see an answer.","body":"Same question, would love to see an answer."},{"owner":{"account_id":11172407,"reputation":641,"user_id":8199030,"accept_rate":46,"display_name":"Mateen Chaudhry"},"score":0,"creation_date":1579444967,"post_id":59418504,"comment_id":105760848,"body_markdown":"Did you find any solution and can you please form which android version this behavior changed or miui version?","body":"Did you find any solution and can you please form which android version this behavior changed or miui version?"}],"answers":[{"tags":[],"owner":{"account_id":3107535,"reputation":1830,"user_id":2630035,"display_name":"Zohar"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1679825711,"creation_date":1578784876,"answer_id":59699548,"question_id":59418504,"body_markdown":"To redirect users to the &quot;other permissions&quot; screen use this code\r\n\r\n            Intent intent = new Intent(&quot;miui.intent.action.APP_PERM_EDITOR&quot;);\r\n            intent.setClassName(&quot;com.miui.securitycenter&quot;,\r\n                    &quot;com.miui.permcenter.permissions.PermissionsEditorActivity&quot;);\r\n            intent.putExtra(&quot;extra_pkgname&quot;, getPackageName());\r\n            startActivity(intent);\r\n\r\n[Source][1]\r\n\r\nStill looking for a way to tell if this option is checked or not programmatically...\r\n\r\nWhat&#39;s more interesting is, how some apps have managed to have this option checked before any user interaction... maybe there is some secret miui permission?...\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/59380516/2630035","title":"Xiaomi devices permission to enable apps pop-up windows while running in the background","body":"<p>To redirect users to the &quot;other permissions&quot; screen use this code</p>\n<pre><code>        Intent intent = new Intent(&quot;miui.intent.action.APP_PERM_EDITOR&quot;);\n        intent.setClassName(&quot;com.miui.securitycenter&quot;,\n                &quot;com.miui.permcenter.permissions.PermissionsEditorActivity&quot;);\n        intent.putExtra(&quot;extra_pkgname&quot;, getPackageName());\n        startActivity(intent);\n</code></pre>\n<p><a href=\"https://stackoverflow.com/a/59380516/2630035\">Source</a></p>\n<p>Still looking for a way to tell if this option is checked or not programmatically...</p>\n<p>What's more interesting is, how some apps have managed to have this option checked before any user interaction... maybe there is some secret miui permission?...</p>\n"},{"tags":[],"owner":{"account_id":3676021,"reputation":1747,"user_id":3062108,"accept_rate":71,"display_name":"BennyP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607287715,"creation_date":1607287715,"answer_id":65172936,"question_id":59418504,"body_markdown":"This permission is added automatically by Google Play and isn&#39;t granted on local builds, not even release builds\r\n\r\nif you target SDK version 30 and compile with 30, Google Play will give you the permission\r\n\r\n```\r\n   compileSdkVersion 30\r\n   targetSdkVersion 30\r\n```\r\nnote: I targeted 28 and it didn&#39;t work for me","title":"Xiaomi devices permission to enable apps pop-up windows while running in the background","body":"<p>This permission is added automatically by Google Play and isn't granted on local builds, not even release builds</p>\n<p>if you target SDK version 30 and compile with 30, Google Play will give you the permission</p>\n<pre><code>   compileSdkVersion 30\n   targetSdkVersion 30\n</code></pre>\n<p>note: I targeted 28 and it didn't work for me</p>\n"}],"owner":{"account_id":16447427,"reputation":475,"user_id":11881795,"display_name":"Mo Dev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7630,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":59699548,"answer_count":2,"score":12,"last_activity_date":1679825711,"creation_date":1576801520,"question_id":59418504,"body_markdown":"Xiaomi devices latest update introduced a new permission that prevents my app (custom shortcuts launcher) that works in the background from working untill users enable this permission:\r\n&quot;&quot;Display pop-up windows while running in the background&quot; \r\n\r\nThe question is, how can I show a permission prompt window for this permission, or at least how to redirect users to &quot;other permissions&quot; screen?","title":"Xiaomi devices permission to enable apps pop-up windows while running in the background","body":"<p>Xiaomi devices latest update introduced a new permission that prevents my app (custom shortcuts launcher) that works in the background from working untill users enable this permission:\n\"\"Display pop-up windows while running in the background\" </p>\n\n<p>The question is, how can I show a permission prompt window for this permission, or at least how to redirect users to \"other permissions\" screen?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":44321,"reputation":9248,"user_id":130028,"accept_rate":79,"display_name":"marcolopes"},"score":3,"creation_date":1353790576,"post_id":3914404,"comment_id":18551259,"body_markdown":"https://svn.apache.org/repos/asf/commons/dormant/feedparser/trunk/src/java/org/apache/commons/feedparser/tools/ISO8601DateParser.java","body":"<a href=\"https://svn.apache.org/repos/asf/commons/dormant/feedparser/trunk/src/java/org/apache/commons/feedparser/tools/ISO8601DateParser.java\" rel=\"nofollow noreferrer\">svn.apache.org/repos/asf/commons/dormant/feedparser/trunk/sr&zwnj;&#8203;c/&hellip;</a>"},{"owner":{"account_id":1479530,"reputation":6711,"user_id":1389219,"accept_rate":50,"display_name":"vegemite4me"},"score":5,"creation_date":1409906152,"post_id":3914404,"comment_id":40136907,"body_markdown":"@marcolopes Beware, that use of a `private static SimpleDateFormat` is not thread safe.","body":"@marcolopes Beware, that use of a <code>private static SimpleDateFormat</code> is not thread safe."},{"owner":{"account_id":69926,"reputation":12519,"user_id":203204,"accept_rate":72,"display_name":"Anthony"},"score":0,"creation_date":1447359769,"post_id":3914404,"comment_id":55134244,"body_markdown":"Possible duplicate of [Converting ISO 8601-compliant String to java.util.Date](http://stackoverflow.com/questions/2201925/converting-iso-8601-compliant-string-to-java-util-date)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/2201925/converting-iso-8601-compliant-string-to-java-util-date\">Converting ISO 8601-compliant String to java.util.Date</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1455744831,"post_id":3914404,"comment_id":58631983,"body_markdown":"Similar to [this other Question](http://stackoverflow.com/q/35453198/642706), but that one truncates to whole second whereas this Question truncates to whole minute.","body":"Similar to <a href=\"http://stackoverflow.com/q/35453198/642706\">this other Question</a>, but that one truncates to whole second whereas this Question truncates to whole minute."}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":9,"up_vote_count":40,"is_accepted":false,"score":31,"last_activity_date":1520555543,"creation_date":1286885114,"answer_id":3914444,"question_id":3914404,"body_markdown":"use [JodaTime][1] \r\n\r\n&gt;The ISO 8601 calendar system is the default implementation within Joda-Time  \r\n\r\n[Here][2] is the doc for JodaTime Formatter \r\n\r\nEdit:\r\n\r\nIf you don&#39;t want to add or if you don&#39;t see value of adding above library you could just use in built `SimpleDateFormat` class to format the Date to required ISO format\r\n\r\nas suggested by @Joachim Sauer\r\n\r\n    DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mmZ&quot;);\r\n    String nowAsString = df.format(new Date());\r\n\r\n\r\n  [1]: https://www.joda.org/joda-time/\r\n  [2]: https://www.joda.org/joda-time/apidocs/org/joda/time/format/DateTimeFormat.html","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>use <a href=\"https://www.joda.org/joda-time/\" rel=\"noreferrer\">JodaTime</a> </p>\n\n<blockquote>\n  <p>The ISO 8601 calendar system is the default implementation within Joda-Time  </p>\n</blockquote>\n\n<p><a href=\"https://www.joda.org/joda-time/apidocs/org/joda/time/format/DateTimeFormat.html\" rel=\"noreferrer\">Here</a> is the doc for JodaTime Formatter </p>\n\n<p>Edit:</p>\n\n<p>If you don't want to add or if you don't see value of adding above library you could just use in built <code>SimpleDateFormat</code> class to format the Date to required ISO format</p>\n\n<p>as suggested by @Joachim Sauer</p>\n\n<pre><code>DateFormat df = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mmZ\");\nString nowAsString = df.format(new Date());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":23,"up_vote_count":376,"is_accepted":true,"score":353,"last_activity_date":1467216458,"creation_date":1286885425,"answer_id":3914498,"question_id":3914404,"body_markdown":"Use [`SimpleDateFormat`][1] to format any [`Date`][2] object you want:\r\n\r\n    TimeZone tz = TimeZone.getTimeZone(&quot;UTC&quot;);\r\n    DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm&#39;Z&#39;&quot;); // Quoted &quot;Z&quot; to indicate UTC, no timezone offset\r\n    df.setTimeZone(tz);\r\n    String nowAsISO = df.format(new Date());\r\n\r\nUsing a `new Date()` as shown above will format the current time.\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/util/Date.html    ","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>Use <a href=\"http://download.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a> to format any <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>Date</code></a> object you want:</p>\n\n<pre><code>TimeZone tz = TimeZone.getTimeZone(\"UTC\");\nDateFormat df = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm'Z'\"); // Quoted \"Z\" to indicate UTC, no timezone offset\ndf.setTimeZone(tz);\nString nowAsISO = df.format(new Date());\n</code></pre>\n\n<p>Using a <code>new Date()</code> as shown above will format the current time.</p>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":2,"up_vote_count":133,"is_accepted":false,"score":131,"last_activity_date":1504635760,"creation_date":1286885852,"answer_id":3914546,"question_id":3914404,"body_markdown":"**Java 8:**\r\n\r\n    thisMoment = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mmX&quot;)\r\n                                  .withZone(ZoneOffset.UTC)\r\n                                  .format(Instant.now());\r\n\r\n\r\n----------\r\n\r\n\r\n**Pre Java 8:**\r\n\r\n    thisMoment = String.format(&quot;%tFT%&lt;tRZ&quot;,\r\n                               Calendar.getInstance(TimeZone.getTimeZone(&quot;Z&quot;)));\r\n\r\nFrom [the docs](http://download.oracle.com/javase/6/docs/api/java/util/Formatter.html):\r\n\r\n&gt; `&#39;R&#39;`&amp;nbsp;&amp;nbsp;&amp;nbsp; Time formatted for the 24-hour clock as &quot;%tH:%tM&quot;&lt;br/&gt;\r\n&gt; `&#39;F&#39;`&amp;nbsp;&amp;nbsp;&amp;nbsp; ISO 8601  complete date formatted as &quot;%tY-%tm-%td&quot;.\r\n","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p><strong>Java 8:</strong></p>\n\n<pre><code>thisMoment = DateTimeFormatter.ofPattern(\"yyyy-MM-dd'T'HH:mmX\")\n                              .withZone(ZoneOffset.UTC)\n                              .format(Instant.now());\n</code></pre>\n\n<hr>\n\n<p><strong>Pre Java 8:</strong></p>\n\n<pre><code>thisMoment = String.format(\"%tFT%&lt;tRZ\",\n                           Calendar.getInstance(TimeZone.getTimeZone(\"Z\")));\n</code></pre>\n\n<p>From <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Formatter.html\" rel=\"noreferrer\">the docs</a>:</p>\n\n<blockquote>\n  <p><code>'R'</code>&nbsp;&nbsp;&nbsp; Time formatted for the 24-hour clock as \"%tH:%tM\"<br/>\n  <code>'F'</code>&nbsp;&nbsp;&nbsp; ISO 8601  complete date formatted as \"%tY-%tm-%td\".</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"down_vote_count":2,"up_vote_count":236,"is_accepted":false,"score":234,"last_activity_date":1473958901,"creation_date":1286888699,"answer_id":3914973,"question_id":3914404,"body_markdown":"For systems where the default Time Zone is not UTC:  \r\n\r\n    TimeZone tz = TimeZone.getTimeZone(&quot;UTC&quot;);\r\n    DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm&#39;Z&#39;&quot;);\r\n    df.setTimeZone(tz);\r\n    String nowAsISO = df.format(new Date());\r\n\r\nThe `SimpleDateFormat` instance may be declared as a global constant if needed frequently, but beware that this class is not thread-safe. It must be synchronized if accessed concurrently by multiple threads.  \r\n\r\nEDIT: I would prefer Joda Time if doing many different Times/Date manipulations...  \r\nEDIT2: corrected: `setTimeZone` does not accept a String (corrected by Paul)","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>For systems where the default Time Zone is not UTC:  </p>\n\n<pre><code>TimeZone tz = TimeZone.getTimeZone(\"UTC\");\nDateFormat df = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm'Z'\");\ndf.setTimeZone(tz);\nString nowAsISO = df.format(new Date());\n</code></pre>\n\n<p>The <code>SimpleDateFormat</code> instance may be declared as a global constant if needed frequently, but beware that this class is not thread-safe. It must be synchronized if accessed concurrently by multiple threads.  </p>\n\n<p>EDIT: I would prefer Joda Time if doing many different Times/Date manipulations...<br>\nEDIT2: corrected: <code>setTimeZone</code> does not accept a String (corrected by Paul)</p>\n"},{"tags":[],"owner":{"account_id":320613,"reputation":358,"user_id":638987,"display_name":"Surej"},"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1324473077,"creation_date":1324473077,"answer_id":8590324,"question_id":3914404,"body_markdown":"Try This,\r\n\r\n\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSSSZ&quot;);\r\n    \t\tString date=sdf.format (new Date() );\r\n\r\n\r\nIts For  ISO 8601 format","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>Try This,</p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSSSSSSZ\");\n        String date=sdf.format (new Date() );\n</code></pre>\n\n<p>Its For  ISO 8601 format</p>\n"},{"tags":[],"owner":{"account_id":88507,"reputation":4193,"user_id":244744,"accept_rate":33,"display_name":"Matthew Buckett"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1341936290,"creation_date":1341936290,"answer_id":11417382,"question_id":3914404,"body_markdown":"If you don&#39;t want to include Jodatime (as nice as it is)\r\n\r\n    javax.xml.bind.DatatypeConverter.printDateTime(\r\n        Calendar.getInstance(TimeZone.getTimeZone(&quot;UTC&quot;))\r\n    );\r\nwhich returns a string of:\r\n\r\n    2012-07-10T16:02:48.440Z\r\n\r\nwhich is slightly different to the original request but is still ISO-8601.","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>If you don't want to include Jodatime (as nice as it is)</p>\n\n<pre><code>javax.xml.bind.DatatypeConverter.printDateTime(\n    Calendar.getInstance(TimeZone.getTimeZone(\"UTC\"))\n);\n</code></pre>\n\n<p>which returns a string of:</p>\n\n<pre><code>2012-07-10T16:02:48.440Z\n</code></pre>\n\n<p>which is slightly different to the original request but is still ISO-8601.</p>\n"},{"tags":[],"owner":{"account_id":1874363,"reputation":1758,"user_id":1695901,"accept_rate":67,"display_name":"gilbertpilz"},"down_vote_count":5,"up_vote_count":7,"is_accepted":false,"score":2,"last_activity_date":1352907543,"creation_date":1352907543,"answer_id":13382014,"question_id":3914404,"body_markdown":"Here&#39;s a whole class optimized so that invoking &quot;now()&quot; doesn&#39;t do anything more that it has to do.\r\n\r\n    public class Iso8601Util\r\n    {\r\n        private static TimeZone tz = TimeZone.getTimeZone(&quot;UTC&quot;);\r\n        private static DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm&#39;Z&#39;&quot;);\r\n    \r\n        static\r\n        {\r\n            df.setTimeZone(tz);\r\n        }\r\n    \r\n        public static String now()\r\n        {\r\n            return df.format(new Date());\r\n        }\r\n    }","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>Here's a whole class optimized so that invoking \"now()\" doesn't do anything more that it has to do.</p>\n\n<pre><code>public class Iso8601Util\n{\n    private static TimeZone tz = TimeZone.getTimeZone(\"UTC\");\n    private static DateFormat df = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm'Z'\");\n\n    static\n    {\n        df.setTimeZone(tz);\n    }\n\n    public static String now()\n    {\n        return df.format(new Date());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1405616017,"creation_date":1357893376,"answer_id":14274358,"question_id":3914404,"body_markdown":"[DateFormatUtils](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/time/DateFormatUtils.html) from Apache `commons-lang3` have useful constants, for example: `DateFormatUtils.ISO_DATETIME_FORMAT`","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/time/DateFormatUtils.html\">DateFormatUtils</a> from Apache <code>commons-lang3</code> have useful constants, for example: <code>DateFormatUtils.ISO_DATETIME_FORMAT</code></p>\n"},{"tags":[],"owner":{"account_id":492994,"reputation":3705,"user_id":1271412,"accept_rate":78,"display_name":"petertc"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1396976082,"creation_date":1381288354,"answer_id":19262422,"question_id":3914404,"body_markdown":"ISO 8601 may contains seconds \r\nsee http://en.wikipedia.org/wiki/ISO_8601#Times\r\n\r\nso the code should be \r\n\r\n    DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;);","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>ISO 8601 may contains seconds \nsee <a href=\"http://en.wikipedia.org/wiki/ISO_8601#Times\">http://en.wikipedia.org/wiki/ISO_8601#Times</a></p>\n\n<p>so the code should be </p>\n\n<pre><code>DateFormat df = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss'Z'\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":301761,"reputation":9652,"user_id":609707,"display_name":"d.danailov"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1396966969,"creation_date":1396966969,"answer_id":22939941,"question_id":3914404,"body_markdown":"For Java version 7\r\n\r\nYou can follow Oracle documentation: \r\nhttp://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\r\n\r\nX - is used for ISO 8601 time zone\r\n\r\n    TimeZone tz = TimeZone.getTimeZone(&quot;UTC&quot;);\r\n    DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssX&quot;);\r\n    df.setTimeZone(tz);\r\n    String nowAsISO = df.format(new Date());\r\n    \t\t\r\n    System.out.println(nowAsISO);\r\n    \t\t\r\n    DateFormat df1 = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssX&quot;);\r\n    //nowAsISO = &quot;2013-05-31T00:00:00Z&quot;;\r\n    Date finalResult = df1.parse(nowAsISO);\r\n    \r\n    System.out.println(finalResult);","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>For Java version 7</p>\n\n<p>You can follow Oracle documentation: \n<a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html</a></p>\n\n<p>X - is used for ISO 8601 time zone</p>\n\n<pre><code>TimeZone tz = TimeZone.getTimeZone(\"UTC\");\nDateFormat df = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ssX\");\ndf.setTimeZone(tz);\nString nowAsISO = df.format(new Date());\n\nSystem.out.println(nowAsISO);\n\nDateFormat df1 = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ssX\");\n//nowAsISO = \"2013-05-31T00:00:00Z\";\nDate finalResult = df1.parse(nowAsISO);\n\nSystem.out.println(finalResult);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1528407610,"creation_date":1396975717,"answer_id":22943361,"question_id":3914404,"body_markdown":"# Joda-Time\r\n\r\n**Update:** The [Joda-Time](http://www.joda.org/joda-time/) project is now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), with the team advising migration to the [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes. For Java 6 &amp; 7, see the [*ThreeTen-Backport*][1] project, further adapted for Android in the [*ThreeTenABP*][2] project.\r\n\r\nUsing the [Joda-Time][3] library…\r\n\r\n    String output = new DateTime( DateTimeZone.UTC ).toString() ;\r\n\r\nThis is thread-safe. Joda-Time creates new [immutable objects][4] rather than changing existing objects.\r\n\r\nIf you truly intended to ask for a format without seconds, resolving to minutes, then use one of the many other built-in formatters in Joda-Time.\r\n\r\n    DateTime now = new DateTime( DateTimeZone.UTC ) ;\r\n    String output = ISODateTimeFormat.dateHourMinute.print( now ) ;\r\n\r\n# java.time\r\n\r\nFor Java 8 and later, Joda-Time continues to work. But the built-in [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework supplants Joda-Time. So migrate your code from Joda-Time to java.time as soon as is convenient.\r\n\r\nSee [my other Answer](https://stackoverflow.com/a/50184308/642706) for a modern solution.\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the java.time classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: http://www.threeten.org/threetenbp/\r\n  [2]: https://github.com/JakeWharton/ThreeTenABP\r\n  [3]: http://www.joda.org/joda-time/\r\n  [4]: http://en.m.wikipedia.org/wiki/Immutable_object\r\n  [5]: https://stackoverflow.com/users/893578/sheepy","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<h1>Joda-Time</h1>\n\n<p><strong>Update:</strong> The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> project is now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, with the team advising migration to the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes. For Java 6 &amp; 7, see the <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em>ThreeTen-Backport</em></a> project, further adapted for Android in the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><em>ThreeTenABP</em></a> project.</p>\n\n<p>Using the <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> library…</p>\n\n<pre><code>String output = new DateTime( DateTimeZone.UTC ).toString() ;\n</code></pre>\n\n<p>This is thread-safe. Joda-Time creates new <a href=\"http://en.m.wikipedia.org/wiki/Immutable_object\" rel=\"nofollow noreferrer\">immutable objects</a> rather than changing existing objects.</p>\n\n<p>If you truly intended to ask for a format without seconds, resolving to minutes, then use one of the many other built-in formatters in Joda-Time.</p>\n\n<pre><code>DateTime now = new DateTime( DateTimeZone.UTC ) ;\nString output = ISODateTimeFormat.dateHourMinute.print( now ) ;\n</code></pre>\n\n<h1>java.time</h1>\n\n<p>For Java 8 and later, Joda-Time continues to work. But the built-in <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> framework supplants Joda-Time. So migrate your code from Joda-Time to java.time as soon as is convenient.</p>\n\n<p>See <a href=\"https://stackoverflow.com/a/50184308/642706\">my other Answer</a> for a modern solution.</p>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"nofollow noreferrer\"><strong>Java SE 10</strong></a>, and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the java.time classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <em>ThreeTen-Backport</em> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"nofollow noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":480372,"reputation":17424,"user_id":893578,"display_name":"Sheepy"},"down_vote_count":2,"up_vote_count":264,"is_accepted":false,"score":262,"last_activity_date":1524562241,"creation_date":1429010817,"answer_id":29626123,"question_id":3914404,"body_markdown":"# Java 8 Native\r\n\r\n[java.time][1] makes it simple since Java 8.  And thread safe.\r\n\r\n    ZonedDateTime.now( ZoneOffset.UTC ).format( DateTimeFormatter.ISO_INSTANT )\r\n\r\nResult: `2015-04-14T11:07:36.639Z`\r\n\r\n&gt; You may be tempted to use lighter `Temporal` such as `Instant` or `LocalDateTime`,\r\n&gt; but they lacks formatter support or time zone data.\r\n&gt; Only `ZonedDateTime` works out of the box.\r\n\r\nBy tuning or chaining the options / operations of [ZonedDateTime][2] and [DateTimeFormatter][3], you can easily control the [timezone][4] and [precision][5], to a certain degree:\r\n\r\n    ZonedDateTime.now( ZoneId.of( &quot;Europe/Paris&quot; ) )\r\n                 .truncatedTo( ChronoUnit.MINUTES )\r\n                 .format( DateTimeFormatter.ISO_DATE_TIME )\r\n \r\nResult: `2015-04-14T11:07:00+01:00[Europe/Paris]`\r\n\r\nRefined requirements, such as removing the seconds part, must still be served by custom formats or custom post process.\r\n\r\n    .format( DateTimeFormatter.ISO_LOCAL_DATE_TIME ) // 2015-04-14T11:07:00\r\n    .format( DateTimeFormatter.ISO_LOCAL_DATE ) // 2015-04-14\r\n    .format( DateTimeFormatter.ISO_LOCAL_TIME ) // 11:07:00\r\n    .format( DateTimeFormatter.ofPattern( &quot;yyyy-MM-dd HH:mm&quot; ) ) // 2015-04-14 11:07\r\n\r\n&gt; For Java 6 &amp; 7, you may consider back-ports of java.time such as [ThreeTen-Backport][6], which also has an [Android port][7].\r\n&gt; Both are lighter than Joda, and has learned from Joda&#39;s [experience][8] - esp. considering that java.time is designed by Joda&#39;s author.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalUnit.html\r\n  [6]: http://www.threeten.org/threetenbp/\r\n  [7]: https://github.com/JakeWharton/ThreeTenABP\r\n  [8]: http://blog.joda.org/2009/11/why-jsr-310-isn-joda-time_4941.html","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<h1>Java 8 Native</h1>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> makes it simple since Java 8.  And thread safe.</p>\n\n<pre><code>ZonedDateTime.now( ZoneOffset.UTC ).format( DateTimeFormatter.ISO_INSTANT )\n</code></pre>\n\n<p>Result: <code>2015-04-14T11:07:36.639Z</code></p>\n\n<blockquote>\n  <p>You may be tempted to use lighter <code>Temporal</code> such as <code>Instant</code> or <code>LocalDateTime</code>,\n  but they lacks formatter support or time zone data.\n  Only <code>ZonedDateTime</code> works out of the box.</p>\n</blockquote>\n\n<p>By tuning or chaining the options / operations of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\">ZonedDateTime</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\">DateTimeFormatter</a>, you can easily control the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\" rel=\"noreferrer\">timezone</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalUnit.html\" rel=\"noreferrer\">precision</a>, to a certain degree:</p>\n\n<pre><code>ZonedDateTime.now( ZoneId.of( \"Europe/Paris\" ) )\n             .truncatedTo( ChronoUnit.MINUTES )\n             .format( DateTimeFormatter.ISO_DATE_TIME )\n</code></pre>\n\n<p>Result: <code>2015-04-14T11:07:00+01:00[Europe/Paris]</code></p>\n\n<p>Refined requirements, such as removing the seconds part, must still be served by custom formats or custom post process.</p>\n\n<pre><code>.format( DateTimeFormatter.ISO_LOCAL_DATE_TIME ) // 2015-04-14T11:07:00\n.format( DateTimeFormatter.ISO_LOCAL_DATE ) // 2015-04-14\n.format( DateTimeFormatter.ISO_LOCAL_TIME ) // 11:07:00\n.format( DateTimeFormatter.ofPattern( \"yyyy-MM-dd HH:mm\" ) ) // 2015-04-14 11:07\n</code></pre>\n\n<blockquote>\n  <p>For Java 6 &amp; 7, you may consider back-ports of java.time such as <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\">ThreeTen-Backport</a>, which also has an <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\">Android port</a>.\n  Both are lighter than Joda, and has learned from Joda's <a href=\"http://blog.joda.org/2009/11/why-jsr-310-isn-joda-time_4941.html\" rel=\"noreferrer\">experience</a> - esp. considering that java.time is designed by Joda's author.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6562321,"reputation":2161,"user_id":5073022,"display_name":"Владимир Зайцев"},"down_vote_count":0,"up_vote_count":206,"is_accepted":false,"score":206,"last_activity_date":1525706820,"creation_date":1445269516,"answer_id":33218689,"question_id":3914404,"body_markdown":"As of Java 8 you can simply do:\r\n\r\n    Instant.now().toString();\r\n\r\nFrom the [`java.time.Instant`](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html) docs:\r\n\r\n&gt; #### [now](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#now--)\r\n&gt;\r\n&gt; ---\r\n&gt; \r\n&gt; `public static Instant now()`\r\n&gt;\r\n&gt; Obtains the current instant from the system clock.\r\n&gt;\r\n&gt; This will query the [system UTC clock](https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#systemUTC--) to obtain the current instant.\r\n\r\n&amp;nbsp;\r\n\r\n&gt; #### [toString](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#toString)\r\n&gt;\r\n&gt; ---\r\n&gt;\r\n&gt; `public String toString()`\r\n&gt;\r\n&gt; A string representation of this instant using ISO-8601 representation.\r\n&gt;\r\n&gt; The format used is the same as [`DateTimeFormatter.ISO_INSTANT`](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_INSTANT).","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>As of Java 8 you can simply do:</p>\n\n<pre><code>Instant.now().toString();\n</code></pre>\n\n<p>From the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>java.time.Instant</code></a> docs:</p>\n\n<blockquote>\n  <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#now--\" rel=\"noreferrer\">now</a>\n  \n  <hr>\n  \n  <p><code>public static Instant now()</code></p>\n  \n  <p>Obtains the current instant from the system clock.</p>\n  \n  <p>This will query the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#systemUTC--\" rel=\"noreferrer\">system UTC clock</a> to obtain the current instant.</p>\n</blockquote>\n\n<p>&nbsp;</p>\n\n<blockquote>\n  <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#toString\" rel=\"noreferrer\">toString</a>\n  \n  <hr>\n  \n  <p><code>public String toString()</code></p>\n  \n  <p>A string representation of this instant using ISO-8601 representation.</p>\n  \n  <p>The format used is the same as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_INSTANT\" rel=\"noreferrer\"><code>DateTimeFormatter.ISO_INSTANT</code></a>.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4912957,"reputation":4595,"user_id":3957736,"accept_rate":80,"display_name":"always_a_rookie"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1446674685,"creation_date":1446674685,"answer_id":33532945,"question_id":3914404,"body_markdown":"You could use Java&#39;s [SimpleDateFormat][1] with the following pattern **`yyyy-MM-dd&#39;T&#39;HH:mm:ssXXX`** for ISO 8601.\r\n\r\n&gt; **Sample Code:** (lists out for all the available time zones)\r\n\r\n    for (String timeZone : TimeZone.getAvailableIDs())\r\n    {\r\n    \tDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssXXX&quot;);\r\n    \tdateFormat.setTimeZone(TimeZone.getTimeZone(timeZone));\r\n    \tString formatted = dateFormat.format(new Date());\r\n    \tSystem.out.print(formatted);\r\n    \r\n    \tif (formatted.endsWith(&quot;Z&quot;))\r\n    \t{\r\n    \t\t// These time zone&#39;s have offset of &#39;0&#39; from GMT.\r\n    \t\tSystem.out.print(&quot;\\t(&quot; + timeZone + &quot;)&quot;);\r\n    \t}\r\n    \r\n    \tSystem.out.println();\r\n    }\r\n\r\nYou could use:\r\n\r\n&gt; TimeZone.getDefault()\r\n\r\nfor the default vm timezone. More [here][2]\r\n\r\nYou might notice the date time for few time zones that end with `&#39;Z&#39;`. These time zones have offset of `&#39;0&#39;` from GMT.\r\n\r\nMore info can be found [here][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/TimeZone.html#getDefault--\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html#iso8601timezone","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>You could use Java's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">SimpleDateFormat</a> with the following pattern <strong><code>yyyy-MM-dd'T'HH:mm:ssXXX</code></strong> for ISO 8601.</p>\n\n<blockquote>\n  <p><strong>Sample Code:</strong> (lists out for all the available time zones)</p>\n</blockquote>\n\n<pre><code>for (String timeZone : TimeZone.getAvailableIDs())\n{\n    DateFormat dateFormat = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ssXXX\");\n    dateFormat.setTimeZone(TimeZone.getTimeZone(timeZone));\n    String formatted = dateFormat.format(new Date());\n    System.out.print(formatted);\n\n    if (formatted.endsWith(\"Z\"))\n    {\n        // These time zone's have offset of '0' from GMT.\n        System.out.print(\"\\t(\" + timeZone + \")\");\n    }\n\n    System.out.println();\n}\n</code></pre>\n\n<p>You could use:</p>\n\n<blockquote>\n  <p>TimeZone.getDefault()</p>\n</blockquote>\n\n<p>for the default vm timezone. More <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/TimeZone.html#getDefault--\" rel=\"noreferrer\">here</a></p>\n\n<p>You might notice the date time for few time zones that end with <code>'Z'</code>. These time zones have offset of <code>'0'</code> from GMT.</p>\n\n<p>More info can be found <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html#iso8601timezone\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":3132928,"reputation":67,"user_id":2650151,"accept_rate":100,"display_name":"jo&#227;o tiago viegas"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1449585877,"creation_date":1449585877,"answer_id":34158749,"question_id":3914404,"body_markdown":"Still, joda-time does only support the extended format:\r\n&quot;2015-12-09T00:22:42.930Z&quot;\r\nnot the basic:\r\n&quot;20151209T002242.930Z&quot;\r\n...we might be better off testing a list of formats with java SimpleDateFormat.","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>Still, joda-time does only support the extended format:\n\"2015-12-09T00:22:42.930Z\"\nnot the basic:\n\"20151209T002242.930Z\"\n...we might be better off testing a list of formats with java SimpleDateFormat.</p>\n"},{"tags":[],"owner":{"account_id":5030019,"reputation":362,"user_id":4040544,"display_name":"Gerardo Suarez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498235757,"creation_date":1498235444,"answer_id":44726166,"question_id":3914404,"body_markdown":"I did it in Android using Calendar and SimpleDateFormat. The following method returns a Calendar with the &quot;GMT&quot; TimeZone (This is the universal time zone). Then you can use the Calendar class to set the hour between differents time zones, using the method setTimeZone() of the Calendar class.\r\n\r\n\r\n    private static final String GMT = &quot;GMT&quot;;\r\n    private static final String DATE_FORMAT_ISO = &quot;yyyyMMdd&#39;T&#39;HHmmss&quot;;\r\n\r\n    public static Calendar isoToCalendar(final String inputDate) {\r\n        Calendar calendar = Calendar.getInstance(TimeZone.getTimeZone(GMT));\r\n        try {\r\n            SimpleDateFormat dateFormat = new SimpleDateFormat(DATE_FORMAT_ISO, Locale.US);\r\n            dateFormat.setTimeZone(TimeZone.getTimeZone(GMT));\r\n            Date date = dateFormat.parse(inputDate);\r\n            calendar.setTime(date);\r\n        } catch (ParseException e) {\r\n            Log.e(&quot;TAG&quot;,e.getMessage());\r\n        }\r\n        return calendar;\r\n    }\r\n\r\nREMEMBER: \r\nThe Date class doesn&#39;t know about the TimeZone existence. By this reason, if you debug one date,you always see the date for your current timezone.","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>I did it in Android using Calendar and SimpleDateFormat. The following method returns a Calendar with the \"GMT\" TimeZone (This is the universal time zone). Then you can use the Calendar class to set the hour between differents time zones, using the method setTimeZone() of the Calendar class.</p>\n\n<pre><code>private static final String GMT = \"GMT\";\nprivate static final String DATE_FORMAT_ISO = \"yyyyMMdd'T'HHmmss\";\n\npublic static Calendar isoToCalendar(final String inputDate) {\n    Calendar calendar = Calendar.getInstance(TimeZone.getTimeZone(GMT));\n    try {\n        SimpleDateFormat dateFormat = new SimpleDateFormat(DATE_FORMAT_ISO, Locale.US);\n        dateFormat.setTimeZone(TimeZone.getTimeZone(GMT));\n        Date date = dateFormat.parse(inputDate);\n        calendar.setTime(date);\n    } catch (ParseException e) {\n        Log.e(\"TAG\",e.getMessage());\n    }\n    return calendar;\n}\n</code></pre>\n\n<p>REMEMBER: \nThe Date class doesn't know about the TimeZone existence. By this reason, if you debug one date,you always see the date for your current timezone.</p>\n"},{"tags":[],"owner":{"account_id":1457300,"reputation":1699,"user_id":1372570,"display_name":"Tuncay G&#246;nc&#252;oğlu"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1504875462,"creation_date":1504875462,"answer_id":46117108,"question_id":3914404,"body_markdown":"I do believe the easiest way is to first go to instant and then to string like: \r\n\r\n    String d = new Date().toInstant().toString();\r\n\r\nWhich will result in:\r\n\r\n`2017-09-08T12:56:45.331Z`","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>I do believe the easiest way is to first go to instant and then to string like: </p>\n\n<pre><code>String d = new Date().toInstant().toString();\n</code></pre>\n\n<p>Which will result in:</p>\n\n<p><code>2017-09-08T12:56:45.331Z</code></p>\n"},{"tags":[],"owner":{"account_id":186063,"reputation":17556,"user_id":423171,"accept_rate":83,"display_name":"cprcrack"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1506583581,"creation_date":1506583581,"answer_id":46463299,"question_id":3914404,"body_markdown":"\r\n    private static String getCurrentDateIso()\r\n    {\r\n        // Returns the current date with the same format as Javascript&#39;s new Date().toJSON(), ISO 8601\r\n        DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;, Locale.US);\r\n        dateFormat.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n        return dateFormat.format(new Date());\r\n    }","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<pre><code>private static String getCurrentDateIso()\n{\n    // Returns the current date with the same format as Javascript's new Date().toJSON(), ISO 8601\n    DateFormat dateFormat = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\", Locale.US);\n    dateFormat.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n    return dateFormat.format(new Date());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522759138,"creation_date":1522759138,"answer_id":49630317,"question_id":3914404,"body_markdown":"They should have added some kind of simple way to go from Date to Instant and also a method called `toISO8601`, which is what a lot of people are looking for.\r\nAs a complement to other answers, from a java.util.Date to ISO 8601 format:\r\n\r\n    Instant.ofEpochMilli(date.getTime()).toString();\r\n\r\nIt is not really visible when using auto-completion but:\r\n`java.time.Instant.toString()`: \r\n&gt; A string representation of this instant using ISO-8601\r\n\r\n\r\n","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>They should have added some kind of simple way to go from Date to Instant and also a method called <code>toISO8601</code>, which is what a lot of people are looking for.\nAs a complement to other answers, from a java.util.Date to ISO 8601 format:</p>\n\n<pre><code>Instant.ofEpochMilli(date.getTime()).toString();\n</code></pre>\n\n<p>It is not really visible when using auto-completion but:\n<code>java.time.Instant.toString()</code>: </p>\n\n<blockquote>\n  <p>A string representation of this instant using ISO-8601</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3948842,"reputation":682,"user_id":3260199,"display_name":"apen"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1524798519,"creation_date":1524798519,"answer_id":50054631,"question_id":3914404,"body_markdown":"    DateTimeFormatter.ISO_DATE_TIME\r\n            .withZone(ZoneOffset.UTC)\r\n            .format(yourDateObject.toInstant())","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<pre><code>DateTimeFormatter.ISO_DATE_TIME\n        .withZone(ZoneOffset.UTC)\n        .format(yourDateObject.toInstant())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1525476975,"creation_date":1525476975,"answer_id":50184308,"question_id":3914404,"body_markdown":"# tl;dr\r\n\r\nSome of the other Answers are correct in recommending *java.time* classes but go about using unnecessary lengths for your specific needs.\r\n\r\n    Instant.now()                               // Capture the current moment in UTC with a resolution as fines nanoseconds but usually in microseconds or milliseconds.\r\n           .truncatedTo( ChronoUnit.MINUTES )   // Lop off any seconds or fractional second, to get a value in whole minutes.\r\n           .toString()                          // Generate a String in standard ISO 8601 format where a `T` separates the year-month-day from the hour-minute-second, and the `Z` on the end for “Zulu” means UTC.\r\n\r\n&gt;2018-01-23T12:34Z\r\n\r\n# `Instant::toString`\r\n\r\nThe `jav.time.Instant` class represents a moment in UTC, always in UTC. \r\n\r\n    Instant instant = Instant.now() ;\r\n\r\n&gt;instant.toString(): 2018-01-23T12:34:56.123456Z\r\n\r\nThe `Z` on the end of your example string `2010-10-12T08:50Z` is pronounced “Zulu” and means [UTC][1]. \r\n\r\nYour desired format happens to comply with the [ISO 8601][2] standard. The *java.time* classes use these standard formats by default when parsing/generating strings. So no need to specify a formatting pattern. Just call [`Instant::toString`][3] as seen above.\r\n\r\nIf you specifically want whole minutes without second or fractional second, then truncate. Specify a unit of time via `ChronoUnit` class.\r\n\r\n    Instant instant = Instant.now().truncatedTo( ChronoUnit.MINUTES ) ;\r\n    String output = instant.toString();  // Generate a `String` object in standard ISO 8601 format.\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the java.time classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [3]: https://docs.oracle.com/javase/10/docs/api/java/time/Instant.html#toString()","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<h1>tl;dr</h1>\n\n<p>Some of the other Answers are correct in recommending <em>java.time</em> classes but go about using unnecessary lengths for your specific needs.</p>\n\n<pre><code>Instant.now()                               // Capture the current moment in UTC with a resolution as fines nanoseconds but usually in microseconds or milliseconds.\n       .truncatedTo( ChronoUnit.MINUTES )   // Lop off any seconds or fractional second, to get a value in whole minutes.\n       .toString()                          // Generate a String in standard ISO 8601 format where a `T` separates the year-month-day from the hour-minute-second, and the `Z` on the end for “Zulu” means UTC.\n</code></pre>\n\n<blockquote>\n  <p>2018-01-23T12:34Z</p>\n</blockquote>\n\n<h1><code>Instant::toString</code></h1>\n\n<p>The <code>jav.time.Instant</code> class represents a moment in UTC, always in UTC. </p>\n\n<pre><code>Instant instant = Instant.now() ;\n</code></pre>\n\n<blockquote>\n  <p>instant.toString(): 2018-01-23T12:34:56.123456Z</p>\n</blockquote>\n\n<p>The <code>Z</code> on the end of your example string <code>2010-10-12T08:50Z</code> is pronounced “Zulu” and means <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a>. </p>\n\n<p>Your desired format happens to comply with the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> standard. The <em>java.time</em> classes use these standard formats by default when parsing/generating strings. So no need to specify a formatting pattern. Just call <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/Instant.html#toString()\" rel=\"noreferrer\"><code>Instant::toString</code></a> as seen above.</p>\n\n<p>If you specifically want whole minutes without second or fractional second, then truncate. Specify a unit of time via <code>ChronoUnit</code> class.</p>\n\n<pre><code>Instant instant = Instant.now().truncatedTo( ChronoUnit.MINUTES ) ;\nString output = instant.toString();  // Generate a `String` object in standard ISO 8601 format.\n</code></pre>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the java.time classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <em>ThreeTen-Backport</em> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":7286383,"reputation":49,"user_id":5554326,"display_name":"Anton Rybochkin"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1571327977,"creation_date":1571327977,"answer_id":58436603,"question_id":3914404,"body_markdown":"If you care about performance, I created a [library](https://github.com/axibase/date-processor) which outperforms standard Java parser and formatter in manipulating with ISO8601-formatted dates. DatetimeProcessor implementations are thread-safe and can be cached in a concurrent map or static fields.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.axibase&lt;/groupId&gt;\r\n  &lt;artifactId&gt;date-processor&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n```java\r\nimport com.axibase.date.DatetimeProcessor;\r\nimport com.axibase.date.PatternResolver;\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\n\r\nimport java.time.Clock;\r\nimport java.time.Instant;\r\nimport java.time.ZoneId;\r\nimport java.time.ZoneOffset;\r\n\r\nimport static org.hamcrest.MatcherAssert.assertThat;\r\nimport static org.hamcrest.core.Is.is;\r\n\r\npublic class DateFormatTest {\r\n    private Clock clock;\r\n\r\n    @Before\r\n    public void prepare() {\r\n        clock = Clock.fixed(Instant.ofEpochMilli(1571285405300L), ZoneId.of(&quot;Europe/Berlin&quot;));\r\n    }\r\n\r\n    @Test\r\n    public void testIsoMillis(){\r\n        final DatetimeProcessor formatter = PatternResolver.createNewFormatter(&quot;iso&quot;);\r\n        assertThat(formatter.print(clock.millis(), ZoneOffset.UTC), is(&quot;2019-10-17T04:10:05.300Z&quot;));\r\n    }\r\n\r\n    @Test\r\n    public void testIsoMillisLocalZone(){\r\n        final DatetimeProcessor formatter = PatternResolver.createNewFormatter(&quot;iso&quot;);\r\n        assertThat(formatter.print(clock.millis(), clock.getZone()), is(&quot;2019-10-17T06:10:05.300+02:00&quot;));\r\n    }\r\n\r\n    @Test\r\n    public void testIsoMinutes(){\r\n        final DatetimeProcessor formatter = PatternResolver.createNewFormatter(&quot;yyyy-MM-ddTHH:mmXXX&quot;);\r\n        assertThat(formatter.print(clock.millis(), ZoneOffset.UTC), is(&quot;2019-10-17T04:10Z&quot;));\r\n    }\r\n}\r\n\r\n```","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>If you care about performance, I created a <a href=\"https://github.com/axibase/date-processor\" rel=\"nofollow noreferrer\">library</a> which outperforms standard Java parser and formatter in manipulating with ISO8601-formatted dates. DatetimeProcessor implementations are thread-safe and can be cached in a concurrent map or static fields.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.axibase&lt;/groupId&gt;\n  &lt;artifactId&gt;date-processor&lt;/artifactId&gt;\n  &lt;version&gt;1.0.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>import com.axibase.date.DatetimeProcessor;\nimport com.axibase.date.PatternResolver;\nimport org.junit.Before;\nimport org.junit.Test;\n\nimport java.time.Clock;\nimport java.time.Instant;\nimport java.time.ZoneId;\nimport java.time.ZoneOffset;\n\nimport static org.hamcrest.MatcherAssert.assertThat;\nimport static org.hamcrest.core.Is.is;\n\npublic class DateFormatTest {\n    private Clock clock;\n\n    @Before\n    public void prepare() {\n        clock = Clock.fixed(Instant.ofEpochMilli(1571285405300L), ZoneId.of(\"Europe/Berlin\"));\n    }\n\n    @Test\n    public void testIsoMillis(){\n        final DatetimeProcessor formatter = PatternResolver.createNewFormatter(\"iso\");\n        assertThat(formatter.print(clock.millis(), ZoneOffset.UTC), is(\"2019-10-17T04:10:05.300Z\"));\n    }\n\n    @Test\n    public void testIsoMillisLocalZone(){\n        final DatetimeProcessor formatter = PatternResolver.createNewFormatter(\"iso\");\n        assertThat(formatter.print(clock.millis(), clock.getZone()), is(\"2019-10-17T06:10:05.300+02:00\"));\n    }\n\n    @Test\n    public void testIsoMinutes(){\n        final DatetimeProcessor formatter = PatternResolver.createNewFormatter(\"yyyy-MM-ddTHH:mmXXX\");\n        assertThat(formatter.print(clock.millis(), ZoneOffset.UTC), is(\"2019-10-17T04:10Z\"));\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18958915,"reputation":1102,"user_id":13834895,"display_name":"Andrew Chelix"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1640900786,"creation_date":1640900786,"answer_id":70537012,"question_id":3914404,"body_markdown":"For those using **Joda Time**, here&#39;s a one-liner in the format yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;\r\n``` kotlin\r\nDateTime(timeInMillis, DateTimeZone.UTC).toString(ISODateTimeFormat.dateTimeNoMillis())\r\n```\r\n","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>For those using <strong>Joda Time</strong>, here's a one-liner in the format yyyy-MM-dd'T'HH:mm:ss'Z'</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>DateTime(timeInMillis, DateTimeZone.UTC).toString(ISODateTimeFormat.dateTimeNoMillis())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1106279,"reputation":9834,"user_id":1097600,"accept_rate":80,"display_name":"Sorter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679825049,"creation_date":1679825049,"answer_id":75847045,"question_id":3914404,"body_markdown":"# Java 8+\r\n\r\nIf you are still using `SimpleDateFormat` with new `Instant` API, it will not work. Use `DateTimeFormatter` instead.\r\n\r\n```\r\nInstant ts = Instant.now();\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.000&#39;Z&#39;&quot;)\r\n                .withZone(ZoneId.systemDefault());\r\nString output = formatter.format(ts);\r\n```","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<h1>Java 8+</h1>\n<p>If you are still using <code>SimpleDateFormat</code> with new <code>Instant</code> API, it will not work. Use <code>DateTimeFormatter</code> instead.</p>\n<pre><code>Instant ts = Instant.now();\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.000'Z'&quot;)\n                .withZone(ZoneId.systemDefault());\nString output = formatter.format(ts);\n</code></pre>\n"}],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":531933,"favorite_count":0,"down_vote_count":1,"up_vote_count":418,"accepted_answer_id":3914498,"answer_count":24,"score":417,"last_activity_date":1679825049,"creation_date":1286884844,"question_id":3914404,"body_markdown":"What is the most elegant way to get [ISO 8601](http://en.wikipedia.org/wiki/ISO_8601) formatted presentation of the current moment, UTC? It should look like: `2010-10-12T08:50Z`.\r\n\r\nExample: \r\n\r\n```\r\nString d = DateFormat.getDateTimeInstance(DateFormat.ISO_8601).format(date);\r\n```","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>What is the most elegant way to get <a href=\"http://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> formatted presentation of the current moment, UTC? It should look like: <code>2010-10-12T08:50Z</code>.</p>\n<p>Example:</p>\n<pre><code>String d = DateFormat.getDateTimeInstance(DateFormat.ISO_8601).format(date);\n</code></pre>\n"},{"tags":["java","android","spotify"],"owner":{"account_id":28055050,"reputation":3,"user_id":21430227,"display_name":"Devil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679824975,"creation_date":1679820863,"question_id":75846753,"body_markdown":"in my application ive been trying to make my app able to pause or resume spotify music playback as i command it. And i found this but it isnt working out . can anybody help me with it.\r\n\r\n```\r\nIntent intent = new \r\nIntent(&quot;com.spotify.mobile.android.ui.widget.PLAY&quot;);\r\n   intent.putExtra(&quot;paused&quot;,false);\r\n   intent.setPackage(&quot;com.spotify.music&quot;);\r\n   sendBroadcast(intent);\r\n```\r\n\r\ni tried this but it didn&#39;t work. setpackage works since its able to open spotify but the INTENT ACTION i dont think it works.\r\n\r\nEDIT.\r\nIntent(&quot;com.spotify.mobile.android.ui.widget.NEXT&quot;);\r\ncan change the song to next but pause or play doest work.","title":"How to make a application pause spotify playback on command programmatically","body":"<p>in my application ive been trying to make my app able to pause or resume spotify music playback as i command it. And i found this but it isnt working out . can anybody help me with it.</p>\n<pre><code>Intent intent = new \nIntent(&quot;com.spotify.mobile.android.ui.widget.PLAY&quot;);\n   intent.putExtra(&quot;paused&quot;,false);\n   intent.setPackage(&quot;com.spotify.music&quot;);\n   sendBroadcast(intent);\n</code></pre>\n<p>i tried this but it didn't work. setpackage works since its able to open spotify but the INTENT ACTION i dont think it works.</p>\n<p>EDIT.\nIntent(&quot;com.spotify.mobile.android.ui.widget.NEXT&quot;);\ncan change the song to next but pause or play doest work.</p>\n"},{"tags":["java","lombok"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679824443,"creation_date":1679824443,"answer_id":75846984,"question_id":75846922,"body_markdown":"For a generic class, lombok will generate a *generic* builder class. After all, how would the builder know what type parameters the type it is building has, otherwise? The builder class is static, so it can&#39;t access the type parameter declared in the outer class.\r\n\r\nAs you probably know, if you declare the builder class with the matching name yourself, lombok will not generate the builder class again, and would directly inject the builder methods into the class you wrote.\r\n\r\nHowever, since your class is not generic, it fails to compile when Lombok generates methods that have a `T` in it.\r\n\r\nIntelliJ also seems to be confused about the `elementClazz(SomeClass.class)` call, since `elementClazz` is supposed to take a `Class&lt;T&gt;`, but `T` doesn&#39;t exist since the builder isn&#39;t generic. Therefore, it seems to think that `T` is not `SomeClass` but some other random type, giving you the error you see.\r\n\r\nIn short, just make the builder class generic:\r\n\r\n    public static class GenericClassBuilder&lt;T&gt; {\r\n        public GenericClassBuilder&lt;T&gt; strings(Collection&lt;String&gt; strs) {\r\n            // ...","title":"Syntax error for lombok Generic class , builder pattern and custom setter","body":"<p>For a generic class, lombok will generate a <em>generic</em> builder class. After all, how would the builder know what type parameters the type it is building has, otherwise? The builder class is static, so it can't access the type parameter declared in the outer class.</p>\n<p>As you probably know, if you declare the builder class with the matching name yourself, lombok will not generate the builder class again, and would directly inject the builder methods into the class you wrote.</p>\n<p>However, since your class is not generic, it fails to compile when Lombok generates methods that have a <code>T</code> in it.</p>\n<p>IntelliJ also seems to be confused about the <code>elementClazz(SomeClass.class)</code> call, since <code>elementClazz</code> is supposed to take a <code>Class&lt;T&gt;</code>, but <code>T</code> doesn't exist since the builder isn't generic. Therefore, it seems to think that <code>T</code> is not <code>SomeClass</code> but some other random type, giving you the error you see.</p>\n<p>In short, just make the builder class generic:</p>\n<pre><code>public static class GenericClassBuilder&lt;T&gt; {\n    public GenericClassBuilder&lt;T&gt; strings(Collection&lt;String&gt; strs) {\n        // ...\n</code></pre>\n"}],"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75846984,"answer_count":1,"score":0,"last_activity_date":1679824443,"creation_date":1679823542,"question_id":75846922,"body_markdown":"Following are the set of classes.\r\n\r\n\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    \r\n    import java.util.Collection;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    @Data\r\n    @Builder\r\n    public class GenericClass&lt;T&gt; {\r\n    \r\n        //Omitted other attributes for brevity.\r\n    \r\n        private Class&lt;T&gt; elementClazz;\r\n    \r\n        @SuppressWarnings(&quot;rawtypes&quot;)\r\n        private Class&lt;? extends Collection&gt; collectionClazz;\r\n    \r\n        private Collection&lt;String&gt; strings;\r\n    \r\n    \r\n        /*BUILDER*/\r\n        public static class GenericClassBuilder {\r\n            public GenericClassBuilder strings(Collection&lt;String&gt; strs) {\r\n                if (strs == null)\r\n                    strs = Collections.emptyList();\r\n                this.strings = strs;\r\n                return this;\r\n            }\r\n        }\r\n    \r\n    \r\n    }\r\n    \r\n    @Data\r\n    class SomeClass {\r\n        private int number;\r\n    }\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            GenericClass.&lt;SomeClass&gt;builder().elementClazz(SomeClass.class).collectionClazz(List.class).build();\r\n        }\r\n    }\r\n\r\n\r\nBut I see syntax error in `.elementClazz(SomeClass.class)`. However this goes away if I remove the custom setter method in builder class.\r\n\r\nHow do I make this work?\r\n","title":"Syntax error for lombok Generic class , builder pattern and custom setter","body":"<p>Following are the set of classes.</p>\n<pre><code>import lombok.Builder;\nimport lombok.Data;\n\nimport java.util.Collection;\nimport java.util.Collections;\nimport java.util.List;\n\n@Data\n@Builder\npublic class GenericClass&lt;T&gt; {\n\n    //Omitted other attributes for brevity.\n\n    private Class&lt;T&gt; elementClazz;\n\n    @SuppressWarnings(&quot;rawtypes&quot;)\n    private Class&lt;? extends Collection&gt; collectionClazz;\n\n    private Collection&lt;String&gt; strings;\n\n\n    /*BUILDER*/\n    public static class GenericClassBuilder {\n        public GenericClassBuilder strings(Collection&lt;String&gt; strs) {\n            if (strs == null)\n                strs = Collections.emptyList();\n            this.strings = strs;\n            return this;\n        }\n    }\n\n\n}\n\n@Data\nclass SomeClass {\n    private int number;\n}\n\nclass Main {\n    public static void main(String[] args) {\n        GenericClass.&lt;SomeClass&gt;builder().elementClazz(SomeClass.class).collectionClazz(List.class).build();\n    }\n}\n</code></pre>\n<p>But I see syntax error in <code>.elementClazz(SomeClass.class)</code>. However this goes away if I remove the custom setter method in builder class.</p>\n<p>How do I make this work?</p>\n"},{"tags":["java","spring","spring-boot","error-handling","spring-restcontroller"],"comments":[{"owner":{"account_id":16296427,"reputation":5,"user_id":12376717,"display_name":"Jmeter Tea"},"score":0,"creation_date":1690713936,"post_id":75823252,"comment_id":135389234,"body_markdown":"@Ranjan it isn&#39;t relevant to my question","body":"@Ranjan it isn&#39;t relevant to my question"},{"owner":{"account_id":8653469,"reputation":72,"user_id":6478449,"display_name":"Ranjan"},"score":0,"creation_date":1690777986,"post_id":75823252,"comment_id":135395120,"body_markdown":"Sorry, Instead of adding in another question. I added the comment here. Please Ignore.","body":"Sorry, Instead of adding in another question. I added the comment here. Please Ignore."}],"owner":{"account_id":16296427,"reputation":5,"user_id":12376717,"display_name":"Jmeter Tea"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679824225,"creation_date":1679576010,"question_id":75823252,"body_markdown":"When I call my API with non numeric value as % Spring reject the request with 400 http status code\r\n\r\n     @RestController\r\n     public Controller {\r\n         @PostMapping\r\n         public MyDto api(@RequestBody API request) {\r\n         }\r\n     }\r\n\r\n     @Data\r\n     public class API { \r\n           private Integer limit;\r\n     }\r\n\r\nFor example sending:\r\n\r\n    POST http:\\\\localhost\r\n    Content-Type: application/json\r\n    \r\n     { &quot;limit&quot;: &quot;%%&quot; }\r\n\r\nHow can I control the Exception and handle it in my code? for example make limit get null value instead of rejecting request? Must I change limit to String and convert it to Integer in code?","title":"Handle non numeric value in rest controller endpoint","body":"<p>When I call my API with non numeric value as % Spring reject the request with 400 http status code</p>\n<pre><code> @RestController\n public Controller {\n     @PostMapping\n     public MyDto api(@RequestBody API request) {\n     }\n }\n\n @Data\n public class API { \n       private Integer limit;\n }\n</code></pre>\n<p>For example sending:</p>\n<pre><code>POST http:\\\\localhost\nContent-Type: application/json\n\n { &quot;limit&quot;: &quot;%%&quot; }\n</code></pre>\n<p>How can I control the Exception and handle it in my code? for example make limit get null value instead of rejecting request? Must I change limit to String and convert it to Integer in code?</p>\n"},{"tags":["java","cmd","ansi-escape","jline","jansi"],"answers":[{"tags":[],"owner":{"account_id":5656033,"reputation":431,"user_id":4923239,"display_name":"MrZoraman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432194483,"creation_date":1432194483,"answer_id":30367641,"question_id":30365817,"body_markdown":"I&#39;ve found a solution! Here&#39;s what it looks like jansi requires in order to change between dark and light colors. For example:\r\n\r\n`Ansi.ansi().a(Attribute.RESET).fg(Ansi.Color.MAGENTA).boldOff().toString()` Dark Purple\r\n`Ansi.ansi().a(Attribute.RESET).fg(Ansi.Color.MAGENTA).bold().toString()` Light Purple\r\n\r\nAnd so on...","title":"How do I get ANSI bright colors to work in the windows cmd?","body":"<p>I've found a solution! Here's what it looks like jansi requires in order to change between dark and light colors. For example:</p>\n\n<p><code>Ansi.ansi().a(Attribute.RESET).fg(Ansi.Color.MAGENTA).boldOff().toString()</code> Dark Purple\n<code>Ansi.ansi().a(Attribute.RESET).fg(Ansi.Color.MAGENTA).bold().toString()</code> Light Purple</p>\n\n<p>And so on...</p>\n"}],"owner":{"account_id":5656033,"reputation":431,"user_id":4923239,"display_name":"MrZoraman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1074,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679824142,"creation_date":1432188658,"question_id":30365817,"body_markdown":"I am using java, the jline library and jansi. I have regular colors working just fine, either using `\\u001B[32m` for example, or `Ansi.ansi().fg(Ansi.Color.GREEN)`.\r\n\r\nHowever, I cannot seem to get the bright set of colors working. I&#39;ve tried both `\\u001B[92m` or `Ansi.ansi().fgBright(Ansi.Color.GREEN)`.\r\n\r\nWhen I try to use bright colors, I don&#39;t see anything strange show up in the console, but the color does not change.\r\n\r\n\r\nAdditional Info:\r\n\r\n- I&#39;m on a preview build of windows 10, but I&#39;ve tried my code on windows server 2012 R2. \r\n\r\n- jansi says that ansi is both detected and enabled.\r\n\r\n- Issuing `AnsiConsole.systemInstall();` at the beginning does not fix my issue.\r\n\r\n\r\nOne final note: my goal is to be multiplatform.","title":"How do I get ANSI bright colors to work in the windows cmd?","body":"<p>I am using java, the jline library and jansi. I have regular colors working just fine, either using <code>\\u001B[32m</code> for example, or <code>Ansi.ansi().fg(Ansi.Color.GREEN)</code>.</p>\n\n<p>However, I cannot seem to get the bright set of colors working. I've tried both <code>\\u001B[92m</code> or <code>Ansi.ansi().fgBright(Ansi.Color.GREEN)</code>.</p>\n\n<p>When I try to use bright colors, I don't see anything strange show up in the console, but the color does not change.</p>\n\n<p>Additional Info:</p>\n\n<ul>\n<li><p>I'm on a preview build of windows 10, but I've tried my code on windows server 2012 R2. </p></li>\n<li><p>jansi says that ansi is both detected and enabled.</p></li>\n<li><p>Issuing <code>AnsiConsole.systemInstall();</code> at the beginning does not fix my issue.</p></li>\n</ul>\n\n<p>One final note: my goal is to be multiplatform.</p>\n"},{"tags":["java","c","inputstream","ansi-c","server-communication"],"comments":[{"owner":{"account_id":1076053,"reputation":85188,"user_id":1281433,"accept_rate":43,"display_name":"Joshua Taylor"},"score":2,"creation_date":1387394809,"post_id":20666671,"comment_id":30943796,"body_markdown":"I know you said you can&#39;t use it, but _why_ can&#39;t you close the socket on the server?  If you&#39;re not willing to close it, doesn&#39;t that mean that you&#39;re going to send something else later? And if that&#39;s the case, then Java should still be able to read, right?","body":"I know you said you can&#39;t use it, but <i>why</i> can&#39;t you close the socket on the server?  If you&#39;re not willing to close it, doesn&#39;t that mean that you&#39;re going to send something else later? And if that&#39;s the case, then Java should still be able to read, right?"},{"owner":{"account_id":1076053,"reputation":85188,"user_id":1281433,"accept_rate":43,"display_name":"Joshua Taylor"},"score":0,"creation_date":1387395316,"post_id":20666671,"comment_id":30944105,"body_markdown":"You&#39;ll probably want to figure out ahead of time how many bytes you&#39;re going to send, and prefix your data with that number so that the client can determine when to stop reading.  It&#39;s like the [`Content-Length` header](http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.13) in HTTP.","body":"You&#39;ll probably want to figure out ahead of time how many bytes you&#39;re going to send, and prefix your data with that number so that the client can determine when to stop reading.  It&#39;s like the <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.13\" rel=\"nofollow noreferrer\"><code>Content-Length</code> header</a> in HTTP."},{"owner":{"account_id":18250,"reputation":39302,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":0,"creation_date":1387395725,"post_id":20666671,"comment_id":30944359,"body_markdown":"If you need to send distinct &quot;messages&quot; over a TCP connection, that&#39;s an application-level concern that you have to implement and handle yourself. TCP doesn&#39;t really concern itself with that. (UDP does but its unreliability likely makes it unsuitable for your use case. I.e. not media streaming or P2P.)","body":"If you need to send distinct &quot;messages&quot; over a TCP connection, that&#39;s an application-level concern that you have to implement and handle yourself. TCP doesn&#39;t really concern itself with that. (UDP does but its unreliability likely makes it unsuitable for your use case. I.e. not media streaming or P2P.)"},{"owner":{"account_id":18250,"reputation":39302,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":0,"creation_date":1387395790,"post_id":20666671,"comment_id":30944407,"body_markdown":"Now, unless this is a school assignment, what I&#39;d do is get some sort of messaging middleware that *does* handle this. The simplest one I can think of that works across C and Java is probably [0MQ](http://zeromq.org). If your use case is text-based, you could also do what HTTP does where an empty line signifies the end of request headers – you&#39;d have to make sure to flush the socket explicitly after sending the message of course. When the client receives a blank line, it will go and do something else, then get back to the socket later.","body":"Now, unless this is a school assignment, what I&#39;d do is get some sort of messaging middleware that <i>does</i> handle this. The simplest one I can think of that works across C and Java is probably <a href=\"http://zeromq.org\" rel=\"nofollow noreferrer\">0MQ</a>. If your use case is text-based, you could also do what HTTP does where an empty line signifies the end of request headers – you&#39;d have to make sure to flush the socket explicitly after sending the message of course. When the client receives a blank line, it will go and do something else, then get back to the socket later."}],"answers":[{"tags":[],"owner":{"account_id":408053,"reputation":730,"user_id":778483,"display_name":"MischaNix"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1387395220,"creation_date":1387395220,"answer_id":20666838,"question_id":20666671,"body_markdown":"If you want to send intermittent data over the same TCP socket, you&#39;ll need to encode the boundaries of the information you&#39;re sending within the data you&#39;re sending.  An example of this is to send &quot;packets&quot; of data with a length-prefix, so that the receiver of a packet will read as many bytes off the socket as the length-prefix says to.","title":"How to determine end of read","body":"<p>If you want to send intermittent data over the same TCP socket, you'll need to encode the boundaries of the information you're sending within the data you're sending.  An example of this is to send \"packets\" of data with a length-prefix, so that the receiver of a packet will read as many bytes off the socket as the length-prefix says to.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387398273,"creation_date":1387398273,"answer_id":20667692,"question_id":20666671,"body_markdown":"You have two problems with your reader.  You assume you will always read a full buffer.  You cannot assume this unless you only read one byte at a time.  You also assume you will always read whole multi-byte characters, this is unlikely to be true unless you never use multi-byte characters.  \r\n\r\nSince you are writing text I suggest you send new lines between messages and read the stream as text.\r\n\r\n\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(\r\n                            Client.getCl().getInputStream(), &quot;UTF-8&quot;));\r\n    for(String line; (line = br.readLine()) != null; ) {\r\n        // process a whole line of text at once. e.g.\r\n        System.out.println(line);\r\n    }\r\n\r\nThis will decode the text, read whole lines and handle any multi-byte characters.\r\n","title":"How to determine end of read","body":"<p>You have two problems with your reader.  You assume you will always read a full buffer.  You cannot assume this unless you only read one byte at a time.  You also assume you will always read whole multi-byte characters, this is unlikely to be true unless you never use multi-byte characters.  </p>\n\n<p>Since you are writing text I suggest you send new lines between messages and read the stream as text.</p>\n\n<pre><code>BufferedReader br = new BufferedReader(new InputStreamReader(\n                        Client.getCl().getInputStream(), \"UTF-8\"));\nfor(String line; (line = br.readLine()) != null; ) {\n    // process a whole line of text at once. e.g.\n    System.out.println(line);\n}\n</code></pre>\n\n<p>This will decode the text, read whole lines and handle any multi-byte characters.</p>\n"}],"owner":{"account_id":3551677,"reputation":219,"user_id":2966401,"accept_rate":67,"display_name":"Stepan Tuhacek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":20666838,"answer_count":2,"score":3,"last_activity_date":1679823605,"creation_date":1387394593,"question_id":20666671,"body_markdown":"I have simple C server and Java client. I&#39;m sending text file line by line from server to client:\r\n\r\n\t\tdo {\r\n\t\t\tsend(sockfd, line, strlen(line), 0);\r\n\t\t\tprintf(&quot;%s\\n&quot;, line);\r\n\t\t} while ((fgets(line, 100, fp)) != NULL);  \r\n\r\nand read it in Java client with:  \r\n\r\n  \t\tClient.getCl().getInputStream().read(inmsg);\r\n  \t\tdo{\t  \t\t\t\r\n  \t\t\t decoded = new String(inmsg, &quot;UTF-8&quot;);\r\n\t\t\t System.out.println(decoded);\r\n  \t\t}while(Client.getCl().getInputStream().read(inmsg) &gt; 0);  \r\n\r\nMy problem is that I don&#39;t know how to send &quot;end of read&quot; from server to client. The client freezes on last read. I know that methode `read()` returns integer with number of recieving bytes and -1 when there is nothing to read and 0 when the length of buffer is zero. The only solution which returned -1 to client was to close socket on server side, but I can&#39;t use that. Also I&#39;ve tried following:  \r\n1) Send 0 length at the end of sending method to tell client, that length is zero:  \r\n\r\n    send(sockfd, NULL, NULL, 0);  \r\n2) Define flags and send:  \r\n\r\n    #define MSG_FIN 0x200\r\n    #define MSG_EOR 0x0080\r\n\r\nand again with both flags:  \r\n\r\n     send(sockfd, NULL, NULL, MSG_FIN);\r\n     send(sockfd, NULL, NULL, MSG_EOR);  \r\n\r\nAnyone please help what am I doing wrong here? Thanks","title":"How to determine end of read","body":"<p>I have simple C server and Java client. I'm sending text file line by line from server to client:</p>\n\n<pre><code>    do {\n        send(sockfd, line, strlen(line), 0);\n        printf(\"%s\\n\", line);\n    } while ((fgets(line, 100, fp)) != NULL);  \n</code></pre>\n\n<p>and read it in Java client with:  </p>\n\n<pre><code>    Client.getCl().getInputStream().read(inmsg);\n    do{             \n         decoded = new String(inmsg, \"UTF-8\");\n         System.out.println(decoded);\n    }while(Client.getCl().getInputStream().read(inmsg) &gt; 0);  \n</code></pre>\n\n<p>My problem is that I don't know how to send \"end of read\" from server to client. The client freezes on last read. I know that methode <code>read()</code> returns integer with number of recieving bytes and -1 when there is nothing to read and 0 when the length of buffer is zero. The only solution which returned -1 to client was to close socket on server side, but I can't use that. Also I've tried following:<br>\n1) Send 0 length at the end of sending method to tell client, that length is zero:  </p>\n\n<pre><code>send(sockfd, NULL, NULL, 0);  \n</code></pre>\n\n<p>2) Define flags and send:  </p>\n\n<pre><code>#define MSG_FIN 0x200\n#define MSG_EOR 0x0080\n</code></pre>\n\n<p>and again with both flags:  </p>\n\n<pre><code> send(sockfd, NULL, NULL, MSG_FIN);\n send(sockfd, NULL, NULL, MSG_EOR);  \n</code></pre>\n\n<p>Anyone please help what am I doing wrong here? Thanks</p>\n"},{"tags":["java","jsch","ansi-escape","vt100"],"comments":[{"owner":{"account_id":2567170,"reputation":10683,"user_id":3537858,"display_name":"Alexey Gavrilov"},"score":1,"creation_date":1407442470,"post_id":25189651,"comment_id":39228374,"body_markdown":"A side comment that I have created an Expect-like library that supports filtering out the input, such as ANSI control characters, out-of-the-box. Could give it a try. Link: https://github.com/Alexey1Gavrilov/expectit","body":"A side comment that I have created an Expect-like library that supports filtering out the input, such as ANSI control characters, out-of-the-box. Could give it a try. Link: <a href=\"https://github.com/Alexey1Gavrilov/expectit\" rel=\"nofollow noreferrer\">github.com/Alexey1Gavrilov/expectit</a>"},{"owner":{"account_id":3902605,"reputation":6480,"user_id":3230038,"accept_rate":68,"display_name":"Leo"},"score":0,"creation_date":1407443690,"post_id":25189651,"comment_id":39228949,"body_markdown":"hey, I will surely take a look on that! it&#39;s apache 2 license, is it ok if I copy a snippet of your code and add to my solution?","body":"hey, I will surely take a look on that! it&#39;s apache 2 license, is it ok if I copy a snippet of your code and add to my solution?"},{"owner":{"account_id":2567170,"reputation":10683,"user_id":3537858,"display_name":"Alexey Gavrilov"},"score":0,"creation_date":1407444108,"post_id":25189651,"comment_id":39229143,"body_markdown":"Sure! It is Apache 2 :-). If you have any feedback post a message to the google group: https://groups.google.com/forum/#!forum/java-expectit .","body":"Sure! It is Apache 2 :-). If you have any feedback post a message to the google group: <a href=\"https://groups.google.com/forum/#!forum/java-expectit\" rel=\"nofollow noreferrer\">groups.google.com/forum/#!forum/java-expectit</a> ."},{"owner":{"account_id":3902605,"reputation":6480,"user_id":3230038,"accept_rate":68,"display_name":"Leo"},"score":0,"creation_date":1407452623,"post_id":25189651,"comment_id":39232472,"body_markdown":"I&#39;ve been working with expectJ for a year, only because the alternatives could not deal with expect interact(). I&#39;ve saw your solution briefly but it looks like a big improvement, full of interesting ideas. I wonder if the new closure syntax will allow java developers to have an even more powerful expect implementation. Thanks a bunch!","body":"I&#39;ve been working with expectJ for a year, only because the alternatives could not deal with expect interact(). I&#39;ve saw your solution briefly but it looks like a big improvement, full of interesting ideas. I wonder if the new closure syntax will allow java developers to have an even more powerful expect implementation. Thanks a bunch!"},{"owner":{"account_id":2567170,"reputation":10683,"user_id":3537858,"display_name":"Alexey Gavrilov"},"score":1,"creation_date":1407479947,"post_id":25189651,"comment_id":39239338,"body_markdown":"thanks. I have created GitHub issues to add support for interact() method and Java 8 lambdas.","body":"thanks. I have created GitHub issues to add support for interact() method and Java 8 lambdas."},{"owner":{"account_id":2567170,"reputation":10683,"user_id":3537858,"display_name":"Alexey Gavrilov"},"score":1,"creation_date":1437728465,"post_id":25189651,"comment_id":51162916,"body_markdown":"here is a working example of the ExpectIt interact support: https://github.com/Alexey1Gavrilov/ExpectIt/blob/master/expect-java8/src/main/java/net/sf/expectit/java8/Java8Example.java","body":"here is a working example of the ExpectIt interact support: <a href=\"https://github.com/Alexey1Gavrilov/ExpectIt/blob/master/expect-java8/src/main/java/net/sf/expectit/java8/Java8Example.java\" rel=\"nofollow noreferrer\">github.com/Alexey1Gavrilov/ExpectIt/blob/master/expect-java8&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1407437257,"creation_date":1407437257,"answer_id":25189932,"question_id":25189651,"body_markdown":"Most ANSI VT100 sequences have the format `ESC` `[`, optionally followed by a number or by two numbers separated by `;`, followed by some character that is not a digit or `;`.  So something like\r\n\r\n    reply = reply.replaceAll(&quot;\\u001B\\\\[[\\\\d;]*[^\\\\d;]&quot;,&quot;&quot;);\r\n\r\nor \r\n\r\n    reply = reply.replaceAll(&quot;\\\\e\\\\[[\\\\d;]*[^\\\\d;]&quot;,&quot;&quot;);  // \\e matches escape character\r\n\r\nshould catch most of them, I think.  There may be other cases that you could add individually. (I have not tested this.)\r\n\r\nSome of the alternatives in the regex you posted start with `\\\\[`, rather than the escape character, which may mean that you could be deleting some text you&#39;re not supposed to delete, or deleting part of a control sequence but leaving the ESC character in.","title":"How to remove ANSI control chars (VT100) from a Java String","body":"<p>Most ANSI VT100 sequences have the format <code>ESC</code> <code>[</code>, optionally followed by a number or by two numbers separated by <code>;</code>, followed by some character that is not a digit or <code>;</code>.  So something like</p>\n\n<pre><code>reply = reply.replaceAll(\"\\u001B\\\\[[\\\\d;]*[^\\\\d;]\",\"\");\n</code></pre>\n\n<p>or </p>\n\n<pre><code>reply = reply.replaceAll(\"\\\\e\\\\[[\\\\d;]*[^\\\\d;]\",\"\");  // \\e matches escape character\n</code></pre>\n\n<p>should catch most of them, I think.  There may be other cases that you could add individually. (I have not tested this.)</p>\n\n<p>Some of the alternatives in the regex you posted start with <code>\\\\[</code>, rather than the escape character, which may mean that you could be deleting some text you're not supposed to delete, or deleting part of a control sequence but leaving the ESC character in.</p>\n"}],"owner":{"account_id":3902605,"reputation":6480,"user_id":3230038,"accept_rate":68,"display_name":"Leo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5082,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":25189932,"answer_count":1,"score":6,"last_activity_date":1679823517,"creation_date":1407436356,"question_id":25189651,"body_markdown":"I am working with automation and using Jsch to connect to remote boxes and automate some tasks.\r\n\r\nI am having problem parsing the command results because sometimes they come with [ANSI Control chars][1].\r\n\r\nI&#39;ve already saw [this answer][2] and [this other one][3] but it does not provide any library to do that. I don&#39;t want to reinvent the wheel, if there is any. And I don&#39;t feel confident with those answers.\r\n\r\nRight now, I am trying this, but I am not really sure it&#39;s complete enough.\r\n\r\n    reply = reply.replaceAll(&quot;\\\\[..;..[m]|\\\\[.{0,2}[m]|\\\\(Page \\\\d+\\\\)|\\u001B\\\\[[K]|\\u001B|\\u000F&quot;, &quot;&quot;);\r\n\r\nHow to remove ANSI control chars (VT100) from a Java String?\r\n\r\n  [1]: http://www.termsys.demon.co.uk/vtansi.htm\r\n  [2]: https://stackoverflow.com/questions/7205837/how-to-remove-colors-etc-from-ssh-output\r\n  [3]: https://unix.stackexchange.com/questions/14684/removing-control-chars-including-console-codes-colours-from-script-output","title":"How to remove ANSI control chars (VT100) from a Java String","body":"<p>I am working with automation and using Jsch to connect to remote boxes and automate some tasks.</p>\n\n<p>I am having problem parsing the command results because sometimes they come with <a href=\"http://www.termsys.demon.co.uk/vtansi.htm\" rel=\"nofollow noreferrer\">ANSI Control chars</a>.</p>\n\n<p>I've already saw <a href=\"https://stackoverflow.com/questions/7205837/how-to-remove-colors-etc-from-ssh-output\">this answer</a> and <a href=\"https://unix.stackexchange.com/questions/14684/removing-control-chars-including-console-codes-colours-from-script-output\">this other one</a> but it does not provide any library to do that. I don't want to reinvent the wheel, if there is any. And I don't feel confident with those answers.</p>\n\n<p>Right now, I am trying this, but I am not really sure it's complete enough.</p>\n\n<pre><code>reply = reply.replaceAll(\"\\\\[..;..[m]|\\\\[.{0,2}[m]|\\\\(Page \\\\d+\\\\)|\\u001B\\\\[[K]|\\u001B|\\u000F\", \"\");\n</code></pre>\n\n<p>How to remove ANSI control chars (VT100) from a Java String?</p>\n"},{"tags":["java","c","sockets","ansi-c"],"comments":[{"owner":{"account_id":21062,"reputation":18735,"user_id":50902,"accept_rate":100,"display_name":"kmkaplan"},"score":0,"creation_date":1357827933,"post_id":14260043,"comment_id":19791371,"body_markdown":"Do you have sender side code?","body":"Do you have sender side code?"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1357827948,"post_id":14260043,"comment_id":19791378,"body_markdown":"I don&#39;t see how this happens as you are not getting `-1` for EOF either I assume. What are you getting, an Exception?","body":"I don&#39;t see how this happens as you are not getting <code>-1</code> for EOF either I assume. What are you getting, an Exception?"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1357828040,"post_id":14260043,"comment_id":19791429,"body_markdown":"Did you set the size of the socket&#39;s receive buffer?","body":"Did you set the size of the socket&#39;s receive buffer?"},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":2,"creation_date":1357828045,"post_id":14260043,"comment_id":19791432,"body_markdown":"Not the main problem, but your loop skips the last byte, use `while(pos &lt; length)`","body":"Not the main problem, but your loop skips the last byte, use <code>while(pos &lt; length)</code>"}],"answers":[{"tags":[],"owner":{"account_id":13903,"reputation":393603,"user_id":28169,"accept_rate":88,"display_name":"unwind"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1357827977,"creation_date":1357827977,"answer_id":14260118,"question_id":14260043,"body_markdown":"What do you mean it &quot;goes wrong&quot;? What is the output? It can&#39;t be exiting the loop before reading the full 64 KB, so what really happens?\r\n\r\nAlso, it&#39;s better to save the return value of the I/O call separately and inspect it, before assuming the I/O was successful. If that&#39;s &lt;code&gt;[DataInputStream.read()][1]&lt;/code&gt;, it returns -1 on error.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/io/DataInputStream.html#read%28byte%5B%5D%29","title":"Read all bytes from socket Stops at 52964 bytes","body":"<p>What do you mean it \"goes wrong\"? What is the output? It can't be exiting the loop before reading the full 64 KB, so what really happens?</p>\n\n<p>Also, it's better to save the return value of the I/O call separately and inspect it, before assuming the I/O was successful. If that's <code><a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/io/DataInputStream.html#read%28byte%5B%5D%29\" rel=\"nofollow\">DataInputStream.read()</a></code>, it returns -1 on error.</p>\n"},{"tags":[],"owner":{"display_name":"user195488"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1357828138,"creation_date":1357828138,"answer_id":14260168,"question_id":14260043,"body_markdown":"`InputStream.read()` returns the number of bytes read or -1 if the end of the stream has been reached. You need to check for that error condition. Also, I suspect your `while(..)` loop is the problem. Why are you calling it `pos` as in position? You may be terminating prematurely. Also, ensure that your C code, whatever it is doing, is sending properly. You can examine the network traffic with a tool like [Wireshark][1] to be sure.\r\n\r\n\r\n  [1]: http://www.wireshark.org/","title":"Read all bytes from socket Stops at 52964 bytes","body":"<p><code>InputStream.read()</code> returns the number of bytes read or -1 if the end of the stream has been reached. You need to check for that error condition. Also, I suspect your <code>while(..)</code> loop is the problem. Why are you calling it <code>pos</code> as in position? You may be terminating prematurely. Also, ensure that your C code, whatever it is doing, is sending properly. You can examine the network traffic with a tool like <a href=\"http://www.wireshark.org/\" rel=\"nofollow\">Wireshark</a> to be sure.</p>\n"},{"tags":[],"owner":{"account_id":2166167,"reputation":1645,"user_id":1919251,"display_name":"parsifal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1410423890,"creation_date":1357828166,"answer_id":14260180,"question_id":14260043,"body_markdown":"This is yet another case where [Jakarta Commons IOUtils](http://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/IOUtils.html) is a better choice than writing it yourself. It&#39;s one line of code, and it&#39;s fully tested. I recommend `IOUtils.readFully()` in this case.\r\n\r\nIf it does not read the entire buffer, then you know that you&#39;re not sending all the content. Perhaps you&#39;re missing a flush on the server side.","title":"Read all bytes from socket Stops at 52964 bytes","body":"<p>This is yet another case where <a href=\"http://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/IOUtils.html\" rel=\"nofollow\">Jakarta Commons IOUtils</a> is a better choice than writing it yourself. It's one line of code, and it's fully tested. I recommend <code>IOUtils.readFully()</code> in this case.</p>\n\n<p>If it does not read the entire buffer, then you know that you're not sending all the content. Perhaps you're missing a flush on the server side.</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1357851383,"creation_date":1357851383,"answer_id":14267127,"question_id":14260043,"body_markdown":"Your code is incorrect as it doesn&#39;t check for -1.\r\n\r\nThis is a case for using DataInputStream.readFully() rather than coding it yourself and getting it wrong.","title":"Read all bytes from socket Stops at 52964 bytes","body":"<p>Your code is incorrect as it doesn't check for -1.</p>\n\n<p>This is a case for using DataInputStream.readFully() rather than coding it yourself and getting it wrong.</p>\n"}],"owner":{"account_id":2215803,"reputation":470,"user_id":1956445,"accept_rate":50,"display_name":"Eernie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":995,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":14260180,"answer_count":4,"score":4,"last_activity_date":1679823407,"creation_date":1357827761,"question_id":14260043,"body_markdown":"I&#39;m making a Server that gets packages at 64 kb size. \r\n\r\n            int length = 65536;\r\n            byte[] bytes = new byte[length];\r\n\r\n            int pos = 0;\r\n            while(pos &lt; length -1)\r\n            {\r\n                System.out.println(&quot;Before read&quot;);\r\n                pos += dis.read(bytes, pos, length-pos);\r\n                System.out.println(&quot;&quot;+pos+&quot; &gt;&gt; &quot;+ length);\r\n            }\r\n\r\nThis is the code I use to read all bytes from the socket. `Dis` is a `InputStream`. \r\nWhen I run the code 1 out of n goes wrong. The code only receives 52964 bytes instead of `65536` bytes.\r\n\r\nI also checked the C code and it says it send `65536` bytes.\r\n\r\nDoes someone know what I&#39;m doing wrong?","title":"Read all bytes from socket Stops at 52964 bytes","body":"<p>I'm making a Server that gets packages at 64 kb size. </p>\n\n<pre><code>        int length = 65536;\n        byte[] bytes = new byte[length];\n\n        int pos = 0;\n        while(pos &lt; length -1)\n        {\n            System.out.println(\"Before read\");\n            pos += dis.read(bytes, pos, length-pos);\n            System.out.println(\"\"+pos+\" &gt;&gt; \"+ length);\n        }\n</code></pre>\n\n<p>This is the code I use to read all bytes from the socket. <code>Dis</code> is a <code>InputStream</code>. \nWhen I run the code 1 out of n goes wrong. The code only receives 52964 bytes instead of <code>65536</code> bytes.</p>\n\n<p>I also checked the C code and it says it send <code>65536</code> bytes.</p>\n\n<p>Does someone know what I'm doing wrong?</p>\n"},{"tags":["java","android","animation","background","switch-statement"],"owner":{"account_id":26501094,"reputation":1,"user_id":20138025,"display_name":"Georgie2295"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679822963,"creation_date":1679822963,"question_id":75846888,"body_markdown":"I need your help please. \r\nI made a simple TicTacToe app and I displayed on the background an animation using PNG sequences. --&gt;until here all good. \r\n\r\nI want to implement the option that when the player press start again to display a new background animation. \r\n\r\nI have tried to use an intent and to duplicate the layout and java files  to make them  switch  by pressing a button-it did not work, the game is restarting  on the same layout. \r\nI now try to  add the 2nd animation to MainActivity.java where is also the 1st one but I am not sure  how  to make the connection. \r\n\r\n\r\nAny guidance is much appreciated!\r\n\r\nI have tried to use an intent, created new xml layout with the 2nd background and when clicking the start again button the 1st background was still displayed. \r\nI have tried to modify the MainActivity.java and now I am stuck, I have duplicated the code from the 1st background and made the modification accordingly for the 2nd background but I cannot find a way to make them switch when start again button is pressed. ","title":"Switch animations in Android Studio","body":"<p>I need your help please.\nI made a simple TicTacToe app and I displayed on the background an animation using PNG sequences. --&gt;until here all good.</p>\n<p>I want to implement the option that when the player press start again to display a new background animation.</p>\n<p>I have tried to use an intent and to duplicate the layout and java files  to make them  switch  by pressing a button-it did not work, the game is restarting  on the same layout.\nI now try to  add the 2nd animation to MainActivity.java where is also the 1st one but I am not sure  how  to make the connection.</p>\n<p>Any guidance is much appreciated!</p>\n<p>I have tried to use an intent, created new xml layout with the 2nd background and when clicking the start again button the 1st background was still displayed.\nI have tried to modify the MainActivity.java and now I am stuck, I have duplicated the code from the 1st background and made the modification accordingly for the 2nd background but I cannot find a way to make them switch when start again button is pressed.</p>\n"},{"tags":["java","android","android-webview"],"comments":[{"owner":{"account_id":6770336,"reputation":1873,"user_id":5213857,"display_name":"Swayangjit"},"score":0,"creation_date":1655574917,"post_id":72670746,"comment_id":128366286,"body_markdown":"You are exposing your personal numbers here.. Please blur it out before posting it in SO","body":"You are exposing your personal numbers here.. Please blur it out before posting it in SO"},{"owner":{"account_id":19585129,"reputation":164,"user_id":14333417,"display_name":"Muhammad Farhan Arif"},"score":0,"creation_date":1655621078,"post_id":72670746,"comment_id":128371904,"body_markdown":"There is no issue in your webpage. Actually you&#39;ve to change your website. Which framework and language you&#39;ve used for website? I&#39;ve done such work in Laravel php.","body":"There is no issue in your webpage. Actually you&#39;ve to change your website. Which framework and language you&#39;ve used for website? I&#39;ve done such work in Laravel php."},{"owner":{"account_id":22688352,"reputation":11,"user_id":16857615,"display_name":"Syed Shahrose"},"score":0,"creation_date":1655661993,"post_id":72670746,"comment_id":128379606,"body_markdown":"@MuhammadFarhanArif Website is developed in Laravel PHP.\nNow tell me how I can solve it.","body":"@MuhammadFarhanArif Website is developed in Laravel PHP. Now tell me how I can solve it."}],"answers":[{"tags":[],"owner":{"account_id":24812977,"reputation":46,"user_id":18694180,"display_name":"SamilYT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655579419,"creation_date":1655579419,"answer_id":72672028,"question_id":72670746,"body_markdown":"try to add this, i&#39;m not sure it&#39;s will work for that page but when i&#39;m using webview i always enable all to be sure\r\n```\r\nwebSettings.setLoadsImagesAutomatically(true);\r\nwebSettings.setDatabaseEnabled(true);\r\nwebSettings.setDomStorageEnabled(true);\r\nwebSettings.setJavaScriptEnabled(true);\r\nwebSettings.setJavaScriptCanOpenWindowsAutomatically(true);\r\n\r\nif (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.JELLY_BEAN) {\r\n    webSettings.setAllowFileAccessFromFileURLs(true);\r\n    webSettings.setAllowUniversalAccessFromFileURLs(true);\r\n}\r\n```","title":"WebView Failure","body":"<p>try to add this, i'm not sure it's will work for that page but when i'm using webview i always enable all to be sure</p>\n<pre><code>webSettings.setLoadsImagesAutomatically(true);\nwebSettings.setDatabaseEnabled(true);\nwebSettings.setDomStorageEnabled(true);\nwebSettings.setJavaScriptEnabled(true);\nwebSettings.setJavaScriptCanOpenWindowsAutomatically(true);\n\nif (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.JELLY_BEAN) {\n    webSettings.setAllowFileAccessFromFileURLs(true);\n    webSettings.setAllowUniversalAccessFromFileURLs(true);\n}\n</code></pre>\n"}],"owner":{"account_id":22688352,"reputation":11,"user_id":16857615,"display_name":"Syed Shahrose"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679822356,"creation_date":1655568264,"question_id":72670746,"body_markdown":"I have created a WebView of this website https://smartfix.pk/ but in my app, WhatsApp is not working,\r\nwhen I click it gives me the error \r\n\r\n![enter image description here][1] \r\n \r\n [1]: https://i.stack.imgur.com/Vd6iS.png\r\n\r\n&gt; webpage at whatsapp://send/?phone=923005475032&amp;text=Hello%2C%20I%20have%20a%20question%20about%20SmartFix%20Services could not be loaded because: net::ERR_UNKNOWN_URL_SCHEME\r\n\r\n``` \r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    WebView web;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        web = findViewById(R.id.webView);\r\n        WebSettings webSettings = web.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n        web.setWebViewClient(new Callback());\r\n        web.loadUrl(&quot;https://smartfix.pk/&quot;);\r\n    }\r\n\r\n\r\n    private class Callback extends WebViewClient {\r\n        @Override\r\n        public boolean shouldOverrideKeyEvent(WebView view, KeyEvent event) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\n","title":"WebView Failure","body":"<p>I have created a WebView of this website <a href=\"https://smartfix.pk/\" rel=\"nofollow noreferrer\">https://smartfix.pk/</a> but in my app, WhatsApp is not working,\nwhen I click it gives me the error</p>\n<p><img src=\"https://i.stack.imgur.com/Vd6iS.png\" alt=\"enter image description here\" /></p>\n<blockquote>\n<p>webpage at whatsapp://send/?phone=923005475032&amp;text=Hello%2C%20I%20have%20a%20question%20about%20SmartFix%20Services could not be loaded because: net::ERR_UNKNOWN_URL_SCHEME</p>\n</blockquote>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    WebView web;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        web = findViewById(R.id.webView);\n        WebSettings webSettings = web.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n        web.setWebViewClient(new Callback());\n        web.loadUrl(&quot;https://smartfix.pk/&quot;);\n    }\n\n\n    private class Callback extends WebViewClient {\n        @Override\n        public boolean shouldOverrideKeyEvent(WebView view, KeyEvent event) {\n            return false;\n        }\n    }\n\n\n\n}\n</code></pre>\n"},{"tags":["java","sql-server"],"answers":[{"tags":[],"owner":{"account_id":13638,"reputation":424823,"user_id":27535,"accept_rate":89,"display_name":"gbn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1329312305,"creation_date":1329311962,"answer_id":9294177,"question_id":9294100,"body_markdown":"[Use an ISO or ODBC date format][1] for all values. &lt;br&gt;\r\nOr the legacy SQL Server `yyymmdd hh:nn:ss`\r\n\r\n`MM/dd/yyyy` is not safe, neither are the the constants you gave for UPD_DT and ULDT_CRE_DT\r\n\r\n\r\n    &#39;19980223 14:23:05&#39;\r\n    {ts &#39;1998-02-23 14:23:05&#39;}\r\n    {d &#39;1998-02-23&#39;}\r\n    &#39;1998-02-23T14:23:05&#39;\r\n\r\nAnd have you heard of SQL Injection, often caused by building SQL commands with string concatenation\r\n\r\n\r\n  [1]: http://www.karaszi.com/SQLServer/info_datetime.asp#DtFormatsInput","title":"Conversion failed when converting date and/or time from character string","body":"<p><a href=\"http://www.karaszi.com/SQLServer/info_datetime.asp#DtFormatsInput\" rel=\"nofollow\">Use an ISO or ODBC date format</a> for all values. <br>\nOr the legacy SQL Server <code>yyymmdd hh:nn:ss</code></p>\n\n<p><code>MM/dd/yyyy</code> is not safe, neither are the the constants you gave for UPD_DT and ULDT_CRE_DT</p>\n\n<pre><code>'19980223 14:23:05'\n{ts '1998-02-23 14:23:05'}\n{d '1998-02-23'}\n'1998-02-23T14:23:05'\n</code></pre>\n\n<p>And have you heard of SQL Injection, often caused by building SQL commands with string concatenation</p>\n"},{"tags":[],"owner":{"account_id":892161,"reputation":11512,"user_id":930207,"display_name":"mcfinnigan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1329311984,"creation_date":1329311984,"answer_id":9294182,"question_id":9294100,"body_markdown":"your date1 object will be formatted using the standard `toString()` representation of `java.lang.Date`, which is unlikely to be compatible with the various date formats supported by your JDBC drivers.\r\n\r\nRather use another SimpleDateFormat object to format `date1` into your SQL Server default date format before appending it to your query.\r\n\r\nAlso, do yourself a favour and read up on PreparedStatements and paramaterised queries; they really make this sort of stuff easier.","title":"Conversion failed when converting date and/or time from character string","body":"<p>your date1 object will be formatted using the standard <code>toString()</code> representation of <code>java.lang.Date</code>, which is unlikely to be compatible with the various date formats supported by your JDBC drivers.</p>\n\n<p>Rather use another SimpleDateFormat object to format <code>date1</code> into your SQL Server default date format before appending it to your query.</p>\n\n<p>Also, do yourself a favour and read up on PreparedStatements and paramaterised queries; they really make this sort of stuff easier.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1571152223,"creation_date":1329312579,"answer_id":9294306,"question_id":9294100,"body_markdown":"First, only American humans use `MM-DD-YYYY` format for dates - everyone/everything else, especially databases, uses the ISO format `YYYY-MM-DD`.\r\n\r\nJDBC when used correctly will handle formatting your object into your SQL for you.\r\n\r\nThirdly (and this is minor), prefer `stmt.execute()` over `stmt.executeUpdate()` for inserts - an insert is not an update, it&#39;s an insert. Although, it *will* work using either.\r\n\r\nPutting it all together, you get something like this (for example):\r\n\r\n    String sql = &quot;insert into table (int_col, date_col, boolean_col, text_col)&quot; +\r\n       &quot; values (?, ?, ?, ?)&quot;;\r\n    PreparedStatement statement = connection.prepareStatement(sql);\r\n    statement.setObject(1, 7);\r\n    statement.setObject(2, new Date());\r\n    statement.setObject(3, true);\r\n    statement.setObject(4, &quot;hello&quot;);\r\n    statement.execute();\r\n\r\nNote:\r\n\r\n- the use of placeholders `?` in the sql\r\n- the use of `statement.setObject(n, object)`\r\n- the absence of quotes around date and text placeholders\r\n \r\nThe JDBC driver will do all the necessary conversions and formatting for you for all &quot;usual&quot; java objects, especially enclosing values in quotes for you if quotes are required for that column/data type.\r\n\r\nYou can change your code around yourself to work in the way I&#39;ve demonstrated here.","title":"Conversion failed when converting date and/or time from character string","body":"<p>First, only American humans use <code>MM-DD-YYYY</code> format for dates - everyone/everything else, especially databases, uses the ISO format <code>YYYY-MM-DD</code>.</p>\n\n<p>JDBC when used correctly will handle formatting your object into your SQL for you.</p>\n\n<p>Thirdly (and this is minor), prefer <code>stmt.execute()</code> over <code>stmt.executeUpdate()</code> for inserts - an insert is not an update, it's an insert. Although, it <em>will</em> work using either.</p>\n\n<p>Putting it all together, you get something like this (for example):</p>\n\n<pre><code>String sql = \"insert into table (int_col, date_col, boolean_col, text_col)\" +\n   \" values (?, ?, ?, ?)\";\nPreparedStatement statement = connection.prepareStatement(sql);\nstatement.setObject(1, 7);\nstatement.setObject(2, new Date());\nstatement.setObject(3, true);\nstatement.setObject(4, \"hello\");\nstatement.execute();\n</code></pre>\n\n<p>Note:</p>\n\n<ul>\n<li>the use of placeholders <code>?</code> in the sql</li>\n<li>the use of <code>statement.setObject(n, object)</code></li>\n<li>the absence of quotes around date and text placeholders</li>\n</ul>\n\n<p>The JDBC driver will do all the necessary conversions and formatting for you for all \"usual\" java objects, especially enclosing values in quotes for you if quotes are required for that column/data type.</p>\n\n<p>You can change your code around yourself to work in the way I've demonstrated here.</p>\n"},{"tags":[],"owner":{"account_id":19430074,"reputation":11,"user_id":14210729,"display_name":"Otunba Sodiq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679820543,"creation_date":1679820543,"answer_id":75846729,"question_id":9294100,"body_markdown":"The above error also occur when setting upper and lower bound in spark sql\r\n\r\n&gt; conversion failed when converting date and/or time from character\r\n&gt; string. at com.microsoft.sqlserver.jdbc.sqlserverexception\r\n\r\nWhat I did was to convert the bound to date, e.g lower bound = &#39;2023-03-18&#39; and upper bound &#39;2023-03-19&#39;. Then the error disappear because it will generate the boundaries **&quot;WHERE condition&quot; with &quot;yyyy-MM-DD HH:MM:SS&quot;** without the millisecond because that is where the problem stems from.","title":"Conversion failed when converting date and/or time from character string","body":"<p>The above error also occur when setting upper and lower bound in spark sql</p>\n<blockquote>\n<p>conversion failed when converting date and/or time from character\nstring. at com.microsoft.sqlserver.jdbc.sqlserverexception</p>\n</blockquote>\n<p>What I did was to convert the bound to date, e.g lower bound = '2023-03-18' and upper bound '2023-03-19'. Then the error disappear because it will generate the boundaries <strong>&quot;WHERE condition&quot; with &quot;yyyy-MM-DD HH:MM:SS&quot;</strong> without the millisecond because that is where the problem stems from.</p>\n"}],"owner":{"account_id":1250193,"reputation":155,"user_id":1210739,"accept_rate":0,"display_name":"mani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21469,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":4,"score":2,"last_activity_date":1679820543,"creation_date":1329311585,"question_id":9294100,"body_markdown":"i want to insert the record in sql server . Table name and columns are specified in this code,   \r\n\r\n          String str_date=date;\r\n        \r\n          DateFormat formatter ; \r\n     \t\t \r\n          formatter = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n        \r\n          date1 = (Date)formatter.parse(str_date);  \r\n        \r\n          System.out.println(&quot;Today is &quot; +date1 );\r\n    \r\n \r\n\r\n-----------------------------------------------------------------------\r\n         try{\r\n        \r\n          String query=&quot;INSERT INTO BULT_DATA &quot; +\r\n     \t\t\t\t&quot;(ULDT_ID&quot; +\r\n     \t\t\t\t&quot;,ULDT_DESC&quot; +\r\n     \t\t\t\t&quot;,ULDT_DT&quot; +\r\n     \t\t\t\t&quot;,ULDT_ULTH_ID&quot; +\r\n     \t\t\t\t&quot;,ULDT_DATA_FILE&quot; +\r\n     \t\t\t\t&quot;,ULDT_MAX_ROW_NO&quot; +\r\n     \t\t\t\t&quot;,ULDT_REC_STS&quot; +\r\n     \t\t\t\t&quot;,ULDT_CRE_USER_ID&quot; +\r\n     \t\t\t\t&quot;,ULDT_CRE_DT&quot; +\r\n     \t\t\t\t&quot;,ULDT_UPD_USER_ID&quot; +\r\n     \t\t\t\t&quot;,ULDT_UPD_DT&quot; +\r\n     \t\t\t\t&quot;,ULDT_APRV_USER_ID&quot; +\r\n     \t\t\t\t&quot;,ULDT_APRV_DT)&quot; +\r\n     \t\t\t\t&quot;VALUES (&#39;&quot;+\r\n     \t\t\t\tuploadID+&quot;&#39;,&#39;&quot;+\r\n     \t\t\t\tuploadDes+&quot;&#39;,&#39;&quot;+\r\n     \t\t\t\tdate1+&quot;&#39;,&#39;&quot; +\r\n     \t\t\t\ttemplateID+&quot;&#39;,&#39;&quot;+\r\n     \t\t\t\tdataFile+&quot;&#39;,&#39;&quot;+\r\n     \t\t\t\tnoRows+&quot;&#39;,&#39;&quot; +\r\n     \t\t\t\t\t\t&quot;N&#39;,&#39;&quot; +\r\n     \t\t\t\t\t\t&quot;admin&#39;,&#39;&quot; +\r\n     \t\t\t\t\t\t&quot;2011-12-05 18:41:50.000&#39;,&#39;&quot; +\r\n     \t\t\t\t\t\t&quot;admin&#39;,&#39;&quot; +\r\n     \t\t\t\t\t\t&quot;2011-12-05 18:41:50.000&#39;,&#39;&quot; +\r\n     \t\t\t\t\t\t&quot;NULL&#39;,&#39;&quot; +\r\n     \t\t\t\t\t\t&quot;NULL&#39;)&quot;;\r\n\r\n\r\n                System.out.println(&quot;query :: &quot;+query);\r\n     \r\n     \t\tint stmnt= stmt.executeUpdate(query);\r\n     \r\n                     }catch (Exception e) {\r\n     \t\t\r\n     \t\te.printStackTrace();\r\n     }\r\n\r\nbut i got this exception\r\n\r\ncom.microsoft.sqlserver.jdbc.SQLServerException: Conversion failed when converting date and/or time from character string.\r\n","title":"Conversion failed when converting date and/or time from character string","body":"<p>i want to insert the record in sql server . Table name and columns are specified in this code,   </p>\n\n<pre><code>      String str_date=date;\n\n      DateFormat formatter ; \n\n      formatter = new SimpleDateFormat(\"MM/dd/yyyy\");\n\n      date1 = (Date)formatter.parse(str_date);  \n\n      System.out.println(\"Today is \" +date1 );\n</code></pre>\n\n<hr>\n\n<pre><code>     try{\n\n      String query=\"INSERT INTO BULT_DATA \" +\n                \"(ULDT_ID\" +\n                \",ULDT_DESC\" +\n                \",ULDT_DT\" +\n                \",ULDT_ULTH_ID\" +\n                \",ULDT_DATA_FILE\" +\n                \",ULDT_MAX_ROW_NO\" +\n                \",ULDT_REC_STS\" +\n                \",ULDT_CRE_USER_ID\" +\n                \",ULDT_CRE_DT\" +\n                \",ULDT_UPD_USER_ID\" +\n                \",ULDT_UPD_DT\" +\n                \",ULDT_APRV_USER_ID\" +\n                \",ULDT_APRV_DT)\" +\n                \"VALUES ('\"+\n                uploadID+\"','\"+\n                uploadDes+\"','\"+\n                date1+\"','\" +\n                templateID+\"','\"+\n                dataFile+\"','\"+\n                noRows+\"','\" +\n                        \"N','\" +\n                        \"admin','\" +\n                        \"2011-12-05 18:41:50.000','\" +\n                        \"admin','\" +\n                        \"2011-12-05 18:41:50.000','\" +\n                        \"NULL','\" +\n                        \"NULL')\";\n\n\n            System.out.println(\"query :: \"+query);\n\n        int stmnt= stmt.executeUpdate(query);\n\n                 }catch (Exception e) {\n\n        e.printStackTrace();\n }\n</code></pre>\n\n<p>but i got this exception</p>\n\n<p>com.microsoft.sqlserver.jdbc.SQLServerException: Conversion failed when converting date and/or time from character string.</p>\n"},{"tags":["java","android","android-studio","timer","timertask"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1679785413,"post_id":75844943,"comment_id":133783603,"body_markdown":"You need to strip out all the code that is (a) irrelevant to your problem, and (b) meaningless to us readers. And how are we to know what is `convert(teamModel.getMultiplier())`, a key argument in the key method call? Voting to close as unclear and lacking details. Also, this is almost certainly a duplicate of existing questions.","body":"You need to strip out all the code that is (a) irrelevant to your problem, and (b) meaningless to us readers. And how are we to know what is <code>convert(teamModel.getMultiplier())</code>, a key argument in the key method call? Voting to close as unclear and lacking details. Also, this is almost certainly a duplicate of existing questions."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1679785512,"post_id":75844943,"comment_id":133783609,"body_markdown":"FYI, the `Timer`/`TimerTask` classes have been supplanted by the Executors framework. So noted in [the class API documentation](https://developer.android.com/reference/java/util/Timer).","body":"FYI, the <code>Timer</code>/<code>TimerTask</code> classes have been supplanted by the Executors framework. So noted in <a href=\"https://developer.android.com/reference/java/util/Timer\" rel=\"nofollow noreferrer\">the class API documentation</a>."},{"owner":{"account_id":23786770,"reputation":1,"user_id":17798716,"display_name":"G&#246;kdeniz"},"score":0,"creation_date":1679839392,"post_id":75844943,"comment_id":133788970,"body_markdown":"Executors framework didn&#39;t work too :(","body":"Executors framework didn&#39;t work too :("}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679819984,"creation_date":1679819984,"answer_id":75846693,"question_id":75844943,"body_markdown":"TimerTask won&#39;t work when the app is closed.  The TimerTask is an object within your app, if your app isn&#39;t running, the timer is no longer in memory.  If you need to be woken up to do processing every 15 minutes, your options are JobScheduler, WorkManager, or an Alarm.  Which of the 3 depends on your usecase.\r\n","title":"Timertask period don&#39;t work at the time i set","body":"<p>TimerTask won't work when the app is closed.  The TimerTask is an object within your app, if your app isn't running, the timer is no longer in memory.  If you need to be woken up to do processing every 15 minutes, your options are JobScheduler, WorkManager, or an Alarm.  Which of the 3 depends on your usecase.</p>\n"}],"owner":{"account_id":23786770,"reputation":1,"user_id":17798716,"display_name":"G&#246;kdeniz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1679827806,"answer_count":1,"score":-2,"last_activity_date":1679819984,"creation_date":1679784388,"question_id":75844943,"body_markdown":"Android studio Java TimerTask don&#39;t work at the time i set. \r\nI want it to run every 15 minutes in a service class even when application is closed too.\r\n\r\nI want it to run every 15 minutes in a service class even when application is closed too. but it works like every hour instead of every 15 minutes\r\n\r\n```java\r\nhandler = new Handler();\r\n        timer = new Timer();\r\n\r\n        TimerTask timerTask = new TimerTask() {\r\n            @Override\r\n            public void run() {\r\n                handler.post(() -&gt; {\r\n                    if (user.isMining() &amp; checkTime(user.getStopFrom()) &lt; 0) {\r\n                        myRef.update(&quot;Balance&quot;, FieldValue.increment(0.000001));\r\n                    }else{\r\n                        onDestroy();\r\n                    }\r\n                });\r\n            }\r\n        };\r\n\r\n        timer.schedule(timerTask,2000,convert(teamModel.getMultiplier()));\r\n```\r\n\r\n","title":"Timertask period don&#39;t work at the time i set","body":"<p>Android studio Java TimerTask don't work at the time i set.\nI want it to run every 15 minutes in a service class even when application is closed too.</p>\n<p>I want it to run every 15 minutes in a service class even when application is closed too. but it works like every hour instead of every 15 minutes</p>\n<pre class=\"lang-java prettyprint-override\"><code>handler = new Handler();\n        timer = new Timer();\n\n        TimerTask timerTask = new TimerTask() {\n            @Override\n            public void run() {\n                handler.post(() -&gt; {\n                    if (user.isMining() &amp; checkTime(user.getStopFrom()) &lt; 0) {\n                        myRef.update(&quot;Balance&quot;, FieldValue.increment(0.000001));\n                    }else{\n                        onDestroy();\n                    }\n                });\n            }\n        };\n\n        timer.schedule(timerTask,2000,convert(teamModel.getMultiplier()));\n</code></pre>\n"},{"tags":["java","testing","out-of-memory"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1679413269,"post_id":75802969,"comment_id":133715795,"body_markdown":"Why can&#39;t you change the memory parameters for a test?  Seems like an unreasonable constraint.","body":"Why can&#39;t you change the memory parameters for a test?  Seems like an unreasonable constraint."},{"owner":{"account_id":4835964,"reputation":1710,"user_id":3902663,"accept_rate":78,"display_name":"SATO Yusuke"},"score":0,"creation_date":1679819233,"post_id":75802969,"comment_id":133786134,"body_markdown":"Thank you for your question. The reason (1) it&#39;s not preferable to change what I&#39;m testing only for the test (it is a test of the set of java command line options for this application rather than a test of a single command line option itself). If I change what I&#39;m testing only for the test, I have to have another demonstration that the change doesn&#39;t affect the result of the test (i.e. `.hprof` is written properly and contains what I want to analyze the cause of `OutOfMemoryError` in the application).","body":"Thank you for your question. The reason (1) it&#39;s not preferable to change what I&#39;m testing only for the test (it is a test of the set of java command line options for this application rather than a test of a single command line option itself). If I change what I&#39;m testing only for the test, I have to have another demonstration that the change doesn&#39;t affect the result of the test (i.e. <code>.hprof</code> is written properly and contains what I want to analyze the cause of <code>OutOfMemoryError</code> in the application)."},{"owner":{"account_id":4835964,"reputation":1710,"user_id":3902663,"accept_rate":78,"display_name":"SATO Yusuke"},"score":0,"creation_date":1679819237,"post_id":75802969,"comment_id":133786136,"body_markdown":"The reason (2) it is difficult to predict the appropriate size of `-Xmx` and `-Xms` for every applications. When you set `-Xmx64m`, a simple Java batch application with no frameworks will finish with no `OutOfMemoryError`. On the other hand, a Java batch application with Spring Boot and Spring Batch will not be able to launch with `-Xmx64m` and confirm the `.hprof` contains what I whant for error analyses. I have also added the answers to your question in the note of the question.","body":"The reason (2) it is difficult to predict the appropriate size of <code>-Xmx</code> and <code>-Xms</code> for every applications. When you set <code>-Xmx64m</code>, a simple Java batch application with no frameworks will finish with no <code>OutOfMemoryError</code>. On the other hand, a Java batch application with Spring Boot and Spring Batch will not be able to launch with <code>-Xmx64m</code> and confirm the <code>.hprof</code> contains what I whant for error analyses. I have also added the answers to your question in the note of the question."}],"answers":[{"tags":[],"owner":{"account_id":1581458,"reputation":126,"user_id":1466762,"display_name":"polleke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679414019,"creation_date":1679414019,"answer_id":75803489,"question_id":75802969,"body_markdown":"throw(new OutOfMemoryError(&quot;bam&quot;));","title":"Cause OutOfMemoryError intentionally without additional programs","body":"<p>throw(new OutOfMemoryError(&quot;bam&quot;));</p>\n"}],"owner":{"account_id":4835964,"reputation":1710,"user_id":3902663,"accept_rate":78,"display_name":"SATO Yusuke"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679819224,"creation_date":1679411332,"question_id":75802969,"body_markdown":"## Background\r\n\r\nI am building two Java applications:\r\n\r\n1. A Web application runs on a Tomcat\r\n2. A batch application runs on RHEL\r\n\r\nI want to test the command line options of the `java` command were set properly. For example, I want to test a heap dump file (`.hprof`) generated when an OutOfMemoryError is caused in those Java applications.\r\n\r\n## Problem\r\n\r\nI want to run those tests on a test server. According to a rule of our project, I can&#39;t add additional programs unrelated to the application business logic.\r\n\r\n## Question\r\n\r\nIs there any way to cause OutOfMemoryError intentionally without additional programs?\r\n\r\nNote:\r\n\r\n- I can&#39;t change the parameters of the `-Xmx` and `-Xms` options only for this test. The reasons are:\r\n  1. Because it&#39;s not preferable to change what I&#39;m testing only for the test (it is a test of the set of java command line options for this application rather than a test of a single command line option itself). If I change what I&#39;m testing only for the test, I have to have another demonstration that the change doesn&#39;t affect the result of the test (i.e. `.hprof` is written properly and contains what I want to analyze the cause of `OutOfMemoryError` in the application).\r\n  2. It is difficult to predict the appropriate size of `-Xmx` and `-Xms` for every application. When you set `-Xmx64m`, a simple Java batch application with no frameworks will finish with no `OutOfMemoryError`. On the other hand, a Java batch application with Spring Boot and Spring Batch will not be able to launch with `-Xmx64m` and confirm the `.hprof` contains what I want for error analyses.\r\n- In the web application, it is difficult to read a large test dataset and store them in memory (there are no functions that read large datasets).\r\n- In the batch application, the application handles large datasets so memory consumption is not affected by the size of the test dataset.\r\n","title":"Cause OutOfMemoryError intentionally without additional programs","body":"<h2>Background</h2>\n<p>I am building two Java applications:</p>\n<ol>\n<li>A Web application runs on a Tomcat</li>\n<li>A batch application runs on RHEL</li>\n</ol>\n<p>I want to test the command line options of the <code>java</code> command were set properly. For example, I want to test a heap dump file (<code>.hprof</code>) generated when an OutOfMemoryError is caused in those Java applications.</p>\n<h2>Problem</h2>\n<p>I want to run those tests on a test server. According to a rule of our project, I can't add additional programs unrelated to the application business logic.</p>\n<h2>Question</h2>\n<p>Is there any way to cause OutOfMemoryError intentionally without additional programs?</p>\n<p>Note:</p>\n<ul>\n<li>I can't change the parameters of the <code>-Xmx</code> and <code>-Xms</code> options only for this test. The reasons are:\n<ol>\n<li>Because it's not preferable to change what I'm testing only for the test (it is a test of the set of java command line options for this application rather than a test of a single command line option itself). If I change what I'm testing only for the test, I have to have another demonstration that the change doesn't affect the result of the test (i.e. <code>.hprof</code> is written properly and contains what I want to analyze the cause of <code>OutOfMemoryError</code> in the application).</li>\n<li>It is difficult to predict the appropriate size of <code>-Xmx</code> and <code>-Xms</code> for every application. When you set <code>-Xmx64m</code>, a simple Java batch application with no frameworks will finish with no <code>OutOfMemoryError</code>. On the other hand, a Java batch application with Spring Boot and Spring Batch will not be able to launch with <code>-Xmx64m</code> and confirm the <code>.hprof</code> contains what I want for error analyses.</li>\n</ol>\n</li>\n<li>In the web application, it is difficult to read a large test dataset and store them in memory (there are no functions that read large datasets).</li>\n<li>In the batch application, the application handles large datasets so memory consumption is not affected by the size of the test dataset.</li>\n</ul>\n"},{"tags":["java","json","jackson","option-type"],"comments":[{"owner":{"account_id":11426762,"reputation":89,"user_id":8376709,"display_name":"Yury"},"score":0,"creation_date":1679781471,"post_id":75844408,"comment_id":133783131,"body_markdown":"Did you try to use Include.NON_NULL. That way Optional logic would still work and null values wont be included into the serialized json. But if you want to separate options you can define 2 ObjectMapper`s, one for each purpose or change the config every time you use it","body":"Did you try to use Include.NON_NULL. That way Optional logic would still work and null values wont be included into the serialized json. But if you want to separate options you can define 2 ObjectMapper`s, one for each purpose or change the config every time you use it"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1679788056,"post_id":75844408,"comment_id":133783827,"body_markdown":"you seem to be doing something wrong: that is definitely bad idea to use `Optional` as object&#39;s field.","body":"you seem to be doing something wrong: that is definitely bad idea to use <code>Optional</code> as object&#39;s field."},{"owner":{"account_id":2005139,"reputation":649,"user_id":1795240,"display_name":"k.liakos"},"score":0,"creation_date":1679815769,"post_id":75844408,"comment_id":133785757,"body_markdown":"@Yury I tried the Include.NON_NULL as well, doesn&#39;t make any difference vs Include.NON_ABSENT. It looks like the OptionalDeserializer is never invoked if a field has null literal value.","body":"@Yury I tried the Include.NON_NULL as well, doesn&#39;t make any difference vs Include.NON_ABSENT. It looks like the OptionalDeserializer is never invoked if a field has null literal value."},{"owner":{"account_id":2005139,"reputation":649,"user_id":1795240,"display_name":"k.liakos"},"score":0,"creation_date":1679815823,"post_id":75844408,"comment_id":133785762,"body_markdown":"@AndreyB.Panfilov Oracle seems to have different opinion: https://www.oracle.com/technical-resources/articles/java/java8-optional.html","body":"@AndreyB.Panfilov Oracle seems to have different opinion: <a href=\"https://www.oracle.com/technical-resources/articles/java/java8-optional.html\" rel=\"nofollow noreferrer\">oracle.com/technical-resources/articles/java/&hellip;</a>"},{"owner":{"account_id":2005139,"reputation":649,"user_id":1795240,"display_name":"k.liakos"},"score":0,"creation_date":1679815874,"post_id":75844408,"comment_id":133785769,"body_markdown":"@Yury btw yes, the 2 ObjectMappers is a solution I thought of and could work, however I want to avoid it if possible.","body":"@Yury btw yes, the 2 ObjectMappers is a solution I thought of and could work, however I want to avoid it if possible."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1679817409,"post_id":75844408,"comment_id":133785928,"body_markdown":"@k.liakos that is not an &quot;Oracle&#39;s opinion&quot;, you just found someone&#39;s misleading blogpost under oracle.com domain. [You should almost never use it as a field of something or a method parameter](https://stackoverflow.com/a/26328555/3426309)","body":"@k.liakos that is not an &quot;Oracle&#39;s opinion&quot;, you just found someone&#39;s misleading blogpost under oracle.com domain. <a href=\"https://stackoverflow.com/a/26328555/3426309\">You should almost never use it as a field of something or a method parameter</a>"},{"owner":{"account_id":2005139,"reputation":649,"user_id":1795240,"display_name":"k.liakos"},"score":0,"creation_date":1679818021,"post_id":75844408,"comment_id":133785990,"body_markdown":"@AndreyB.Panfilov Well you seem to be right. However they say &quot;almost&quot; never. I want to have a tri-state value for PATCH update, in order to differentiate between a value not been provided (=don&#39;t update the field) vs provided null (=clear the field&#39;s value). And Optional seems like a nice feat for the case (Javascript has undefined+null to separate this). I could have added a custom wrapper class, but I would have to rewrite all Serializers/Deserializers and handling for JSON.","body":"@AndreyB.Panfilov Well you seem to be right. However they say &quot;almost&quot; never. I want to have a tri-state value for PATCH update, in order to differentiate between a value not been provided (=don&#39;t update the field) vs provided null (=clear the field&#39;s value). And Optional seems like a nice feat for the case (Javascript has undefined+null to separate this). I could have added a custom wrapper class, but I would have to rewrite all Serializers/Deserializers and handling for JSON."},{"owner":{"account_id":11426762,"reputation":89,"user_id":8376709,"display_name":"Yury"},"score":0,"creation_date":1679826409,"post_id":75844408,"comment_id":133786981,"body_markdown":"another way to deal with it is to use objectMapper.readerForUpdating (https://www.logicbig.com/tutorials/misc/jackson/reader-for-updating.html). That will only update/deserialize values coming in json, and you dont have to use Optional for fields.","body":"another way to deal with it is to use objectMapper.readerForUpdating (<a href=\"https://www.logicbig.com/tutorials/misc/jackson/reader-for-updating.html\" rel=\"nofollow noreferrer\">logicbig.com/tutorials/misc/jackson/reader-for-updating.htm&zwnj;&#8203;l</a>). That will only update/deserialize values coming in json, and you dont have to use Optional for fields."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679781451,"creation_date":1679781451,"answer_id":75844753,"question_id":75844408,"body_markdown":"You can do this with a custom serializer:\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\nimport com.fasterxml.jackson.core.JsonGenerator;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.JsonSerializer;\r\nimport com.fasterxml.jackson.databind.SerializerProvider;\r\nimport com.fasterxml.jackson.databind.annotation.JsonSerialize;\r\nimport com.fasterxml.jackson.databind.json.JsonMapper;\r\nimport com.fasterxml.jackson.datatype.jdk8.Jdk8Module;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Optional;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        var OBJECT_MAPPER = JsonMapper.builder()\r\n                .addModule(new Jdk8Module())\r\n                .serializationInclusion(JsonInclude.Include.NON_ABSENT)\r\n                .build();\r\n        System.out.println(OBJECT_MAPPER.writeValueAsString(new Test(null)));\r\n        System.out.println(OBJECT_MAPPER.writeValueAsString(new Test(Optional.empty())));\r\n        System.out.println(OBJECT_MAPPER.writeValueAsString(new Test(Optional.of(&quot;jim&quot;))));\r\n\r\n        System.out.println(OBJECT_MAPPER.readValue(&quot;{}&quot;, Test.class).toString());\r\n        System.out.println(OBJECT_MAPPER.readValue(&quot;{\\&quot;something\\&quot;:null}&quot;, Test.class).toString());\r\n        System.out.println(OBJECT_MAPPER.readValue(&quot;{\\&quot;something\\&quot;:\\&quot;jim\\&quot;}&quot;, Test.class).toString());\r\n    }\r\n}\r\n\r\nclass Test {\r\n    @JsonSerialize(using = MyOptionalSerializer.class)\r\n    private Optional&lt;String&gt; something;\r\n\r\n    public Test() {}\r\n\r\n    Test(Optional&lt;String&gt; something) {\r\n        this.something = something;\r\n    }\r\n\r\n    public Optional&lt;String&gt; getSomething() {\r\n        return something;\r\n    }\r\n\r\n    public void setSomething(Optional&lt;String&gt; something) {\r\n        this.something = something;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Test{&quot; +\r\n                &quot;something=&quot; + something +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\nclass MyOptionalSerializer extends JsonSerializer&lt;Optional&lt;?&gt;&gt; {\r\n\r\n    @Override\r\n    public void serialize(Optional&lt;?&gt; value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\r\n        if (value != null) {\r\n            if (value.isPresent()) {\r\n                gen.writeObject(value.get());\r\n            } else {\r\n                gen.writeObject(null);\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"How to make Jackson deserialize explicit null to Optional.EMPTY, but not to serialize empty Optional as null","body":"<p>You can do this with a custom serializer:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.JsonSerializer;\nimport com.fasterxml.jackson.databind.SerializerProvider;\nimport com.fasterxml.jackson.databind.annotation.JsonSerialize;\nimport com.fasterxml.jackson.databind.json.JsonMapper;\nimport com.fasterxml.jackson.datatype.jdk8.Jdk8Module;\n\nimport java.io.IOException;\nimport java.util.Optional;\n\npublic class Main {\n\n    public static void main(String[] args) throws JsonProcessingException {\n        var OBJECT_MAPPER = JsonMapper.builder()\n                .addModule(new Jdk8Module())\n                .serializationInclusion(JsonInclude.Include.NON_ABSENT)\n                .build();\n        System.out.println(OBJECT_MAPPER.writeValueAsString(new Test(null)));\n        System.out.println(OBJECT_MAPPER.writeValueAsString(new Test(Optional.empty())));\n        System.out.println(OBJECT_MAPPER.writeValueAsString(new Test(Optional.of(&quot;jim&quot;))));\n\n        System.out.println(OBJECT_MAPPER.readValue(&quot;{}&quot;, Test.class).toString());\n        System.out.println(OBJECT_MAPPER.readValue(&quot;{\\&quot;something\\&quot;:null}&quot;, Test.class).toString());\n        System.out.println(OBJECT_MAPPER.readValue(&quot;{\\&quot;something\\&quot;:\\&quot;jim\\&quot;}&quot;, Test.class).toString());\n    }\n}\n\nclass Test {\n    @JsonSerialize(using = MyOptionalSerializer.class)\n    private Optional&lt;String&gt; something;\n\n    public Test() {}\n\n    Test(Optional&lt;String&gt; something) {\n        this.something = something;\n    }\n\n    public Optional&lt;String&gt; getSomething() {\n        return something;\n    }\n\n    public void setSomething(Optional&lt;String&gt; something) {\n        this.something = something;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Test{&quot; +\n                &quot;something=&quot; + something +\n                '}';\n    }\n}\n\nclass MyOptionalSerializer extends JsonSerializer&lt;Optional&lt;?&gt;&gt; {\n\n    @Override\n    public void serialize(Optional&lt;?&gt; value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\n        if (value != null) {\n            if (value.isPresent()) {\n                gen.writeObject(value.get());\n            } else {\n                gen.writeObject(null);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2005139,"reputation":649,"user_id":1795240,"display_name":"k.liakos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679817504,"creation_date":1679817504,"answer_id":75846538,"question_id":75844408,"body_markdown":"I figured out what I was doing wrong, and it was very simple, I just got stuck: I wasn&#39;t using `readValue` for Deserialization, but instead `convertValue`.\r\n\r\nAs the javadoc of `convertValue` mentions:\r\n&gt; This method is functionally similar to first serializing given value into JSON, and then binding JSON data into value of given type\r\n\r\nSo since the `serializationInclusion` was set to skip nulls on output, the field was being removed completely in the intermediate step.\r\n\r\nReproduction example:\r\n\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.json.JsonMapper;\r\nimport com.fasterxml.jackson.datatype.jdk8.Jdk8Module;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.ToString;\r\nimport org.junit.Test;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Optional;\r\n\r\npublic class JacksonOptionalTest {\r\n    @Test\r\n    public void testOptional() throws JsonProcessingException {\r\n        var OBJECT_MAPPER = JsonMapper.builder()\r\n                .addModule(new Jdk8Module())\r\n                .serializationInclusion(JsonInclude.Include.NON_ABSENT)\r\n                .build();\r\n\r\n        System.out.println(&quot;writeValueAsString&quot;);\r\n        System.out.println(OBJECT_MAPPER.writeValueAsString(new MyClass(null)));\r\n        System.out.println(OBJECT_MAPPER.writeValueAsString(new MyClass(Optional.empty())));\r\n        System.out.println(OBJECT_MAPPER.writeValueAsString(new MyClass(Optional.of(&quot;jim&quot;))));\r\n\r\n        System.out.println(&quot;\\nreadValue&quot;);\r\n        System.out.println(OBJECT_MAPPER.readValue(&quot;{}&quot;, MyClass.class).toString());\r\n        System.out.println(OBJECT_MAPPER.readValue(&quot;{\\&quot;something\\&quot;:null}&quot;, MyClass.class).toString());\r\n        System.out.println(OBJECT_MAPPER.readValue(&quot;{\\&quot;something\\&quot;:\\&quot;jim\\&quot;}&quot;, MyClass.class).toString());\r\n\r\n\r\n        final var map = new HashMap&lt;&gt;();\r\n        map.put(&quot;something&quot;, null);\r\n\r\n        System.out.println(&quot;\\nconvertValue&quot;);\r\n        System.out.println(OBJECT_MAPPER.convertValue(map, MyClass.class).toString());\r\n    }\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @ToString\r\n    private static class MyClass {\r\n        @JsonProperty\r\n        private Optional&lt;String&gt; something;\r\n    }\r\n}\r\n```\r\n\r\nIf you run the above test, it prints the following:\r\n```\r\nwriteValueAsString\r\n{}\r\n{}\r\n{&quot;something&quot;:&quot;jim&quot;}\r\n\r\nreadValue\r\nJacksonOptionalTest.MyClass(something=null)\r\nJacksonOptionalTest.MyClass(something=Optional.empty)\r\nJacksonOptionalTest.MyClass(something=Optional[jim])\r\n\r\nconvertValue\r\nJacksonOptionalTest.MyClass(something=null)\r\n```\r\n\r\nIn the last test with `convertValue` we can see that instead of deserializing the value to `Optional.empty`, we got null, which is expected according to what  `convertValue` does.","title":"How to make Jackson deserialize explicit null to Optional.EMPTY, but not to serialize empty Optional as null","body":"<p>I figured out what I was doing wrong, and it was very simple, I just got stuck: I wasn't using <code>readValue</code> for Deserialization, but instead <code>convertValue</code>.</p>\n<p>As the javadoc of <code>convertValue</code> mentions:</p>\n<blockquote>\n<p>This method is functionally similar to first serializing given value into JSON, and then binding JSON data into value of given type</p>\n</blockquote>\n<p>So since the <code>serializationInclusion</code> was set to skip nulls on output, the field was being removed completely in the intermediate step.</p>\n<p>Reproduction example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.json.JsonMapper;\nimport com.fasterxml.jackson.datatype.jdk8.Jdk8Module;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport lombok.ToString;\nimport org.junit.Test;\n\nimport java.util.HashMap;\nimport java.util.Optional;\n\npublic class JacksonOptionalTest {\n    @Test\n    public void testOptional() throws JsonProcessingException {\n        var OBJECT_MAPPER = JsonMapper.builder()\n                .addModule(new Jdk8Module())\n                .serializationInclusion(JsonInclude.Include.NON_ABSENT)\n                .build();\n\n        System.out.println(&quot;writeValueAsString&quot;);\n        System.out.println(OBJECT_MAPPER.writeValueAsString(new MyClass(null)));\n        System.out.println(OBJECT_MAPPER.writeValueAsString(new MyClass(Optional.empty())));\n        System.out.println(OBJECT_MAPPER.writeValueAsString(new MyClass(Optional.of(&quot;jim&quot;))));\n\n        System.out.println(&quot;\\nreadValue&quot;);\n        System.out.println(OBJECT_MAPPER.readValue(&quot;{}&quot;, MyClass.class).toString());\n        System.out.println(OBJECT_MAPPER.readValue(&quot;{\\&quot;something\\&quot;:null}&quot;, MyClass.class).toString());\n        System.out.println(OBJECT_MAPPER.readValue(&quot;{\\&quot;something\\&quot;:\\&quot;jim\\&quot;}&quot;, MyClass.class).toString());\n\n\n        final var map = new HashMap&lt;&gt;();\n        map.put(&quot;something&quot;, null);\n\n        System.out.println(&quot;\\nconvertValue&quot;);\n        System.out.println(OBJECT_MAPPER.convertValue(map, MyClass.class).toString());\n    }\n\n    @Data\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @ToString\n    private static class MyClass {\n        @JsonProperty\n        private Optional&lt;String&gt; something;\n    }\n}\n</code></pre>\n<p>If you run the above test, it prints the following:</p>\n<pre><code>writeValueAsString\n{}\n{}\n{&quot;something&quot;:&quot;jim&quot;}\n\nreadValue\nJacksonOptionalTest.MyClass(something=null)\nJacksonOptionalTest.MyClass(something=Optional.empty)\nJacksonOptionalTest.MyClass(something=Optional[jim])\n\nconvertValue\nJacksonOptionalTest.MyClass(something=null)\n</code></pre>\n<p>In the last test with <code>convertValue</code> we can see that instead of deserializing the value to <code>Optional.empty</code>, we got null, which is expected according to what  <code>convertValue</code> does.</p>\n"}],"owner":{"account_id":2005139,"reputation":649,"user_id":1795240,"display_name":"k.liakos"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":696,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679817504,"creation_date":1679776937,"question_id":75844408,"body_markdown":"Assuming I have a POJO like this:\r\n\r\n```java\r\npublic static class Test {\r\n  private Optional&lt;String&gt; something;\r\n}\r\n```\r\n\r\nAnd a Jackson mapper like this:\r\n\r\n```java\r\nvar OBJECT_MAPPER = JsonMapper.builder()\r\n  .addModule(new Jdk8Module())\r\n  .serializationInclusion(JsonInclude.Include.NON_ABSENT)\r\n  .build();\r\n```\r\n\r\nIf I deserialize the JSON string `{&quot;something&quot;: null}`, I get a `Test` object with `something=null`. Instead of that, I want to get a Test object with `something=Optional.EMPTY`.\r\n\r\nMy desired deserialization strategy for Optional is:\r\n- null → not provided\r\n- Optional.empty() → provided null\r\n- Optional.of() → provided not null\r\n\r\nThe above can be achieved if I keep the default `serializationInclusion` (remove the `serializationInclusion(JsonInclude.Include.NON_ABSENT)` setting). This results in serializing everything and including nulls in the JSON string output, which is not what I want.\r\n\r\n```java\r\nTest test = new Test();\r\n// This should serialize to {}, not {&quot;something&quot;: null}\r\n\r\nTest test2 = new Test();\r\ntest2.setSomething(Optional.EMPTY);\r\n// This should also serialize to {}, not {&quot;something&quot;: null}\r\n```\r\n\r\nTLTR: is there a way to separate the `serializationInclusion` separately for serialization and deserialization?\r\n","title":"How to make Jackson deserialize explicit null to Optional.EMPTY, but not to serialize empty Optional as null","body":"<p>Assuming I have a POJO like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static class Test {\n  private Optional&lt;String&gt; something;\n}\n</code></pre>\n<p>And a Jackson mapper like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var OBJECT_MAPPER = JsonMapper.builder()\n  .addModule(new Jdk8Module())\n  .serializationInclusion(JsonInclude.Include.NON_ABSENT)\n  .build();\n</code></pre>\n<p>If I deserialize the JSON string <code>{&quot;something&quot;: null}</code>, I get a <code>Test</code> object with <code>something=null</code>. Instead of that, I want to get a Test object with <code>something=Optional.EMPTY</code>.</p>\n<p>My desired deserialization strategy for Optional is:</p>\n<ul>\n<li>null → not provided</li>\n<li>Optional.empty() → provided null</li>\n<li>Optional.of() → provided not null</li>\n</ul>\n<p>The above can be achieved if I keep the default <code>serializationInclusion</code> (remove the <code>serializationInclusion(JsonInclude.Include.NON_ABSENT)</code> setting). This results in serializing everything and including nulls in the JSON string output, which is not what I want.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Test test = new Test();\n// This should serialize to {}, not {&quot;something&quot;: null}\n\nTest test2 = new Test();\ntest2.setSomething(Optional.EMPTY);\n// This should also serialize to {}, not {&quot;something&quot;: null}\n</code></pre>\n<p>TLTR: is there a way to separate the <code>serializationInclusion</code> separately for serialization and deserialization?</p>\n"},{"tags":["java",".class-file"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":12,"creation_date":1679814095,"post_id":75846313,"comment_id":133785612,"body_markdown":"Are you running on Windows, by any chance? If so, the file system is case-insensitive, so you *can&#39;t* create both `A.class` and `a.class`. On a case-sensitive file-system, I&#39;d expect both files to be created.","body":"Are you running on Windows, by any chance? If so, the file system is case-insensitive, so you <i>can&#39;t</i> create both <code>A.class</code> and <code>a.class</code>. On a case-sensitive file-system, I&#39;d expect both files to be created."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1679814193,"post_id":75846313,"comment_id":133785621,"body_markdown":"As a side-note, please read https://stackoverflow.com/editing-help and preview your post carefully before submitting - all your code was written as non-code, and all your non-code was written as code. (I&#39;ve fixed it for you now.)","body":"As a side-note, please read <a href=\"https://stackoverflow.com/editing-help\">stackoverflow.com/editing-help</a> and preview your post carefully before submitting - all your code was written as non-code, and all your non-code was written as code. (I&#39;ve fixed it for you now.)"}],"answers":[{"tags":[],"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1679815161,"creation_date":1679815161,"answer_id":75846389,"question_id":75846313,"body_markdown":"Historically in Java, the name (and case) of the &quot;main&quot; **public** class of the file had to match the file name. So public class A has to be in the file A.java and will compile into A.class and you will run it&#39;s main() method using &quot;java A&quot;. we have to name the class and the file the same way.\r\n\r\nThe second class in the file is not public (implicitly protected since no modifier was given) and is not nested under the A class. no one outside the package of class A will be able to use it. therefore it does not need its&#39; own class file.\r\n\r\nThat is Java&#39;s way of implementing the principle of &quot;Encapsulation&quot;. you could create classes and sub-classes in your code, and anyone who receives the compiled products of these classes will not be able to see the internal structure of your code. ","title":"Why only one .class file is created in java &amp; which is declared first?","body":"<p>Historically in Java, the name (and case) of the &quot;main&quot; <strong>public</strong> class of the file had to match the file name. So public class A has to be in the file A.java and will compile into A.class and you will run it's main() method using &quot;java A&quot;. we have to name the class and the file the same way.</p>\n<p>The second class in the file is not public (implicitly protected since no modifier was given) and is not nested under the A class. no one outside the package of class A will be able to use it. therefore it does not need its' own class file.</p>\n<p>That is Java's way of implementing the principle of &quot;Encapsulation&quot;. you could create classes and sub-classes in your code, and anyone who receives the compiled products of these classes will not be able to see the internal structure of your code.</p>\n"}],"owner":{"account_id":22617641,"reputation":1,"user_id":16796941,"display_name":"user16796941"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679815161,"creation_date":1679814004,"question_id":75846313,"body_markdown":"In Java:\r\n\r\n```java\r\nclass A{}\r\nclass a{}\r\n```\r\n\r\nafter compilation : A.class\r\n\r\n```java\r\nclass a{}\r\nclass A{}\r\n```\r\n\r\nafter compilation : a.class\r\n\r\nWhy only one class created?\r\nthe first we declared only that .class file generated\r\n\r\nPlease explain the reason in detail.\r\n","title":"Why only one .class file is created in java &amp; which is declared first?","body":"<p>In Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class A{}\nclass a{}\n</code></pre>\n<p>after compilation : A.class</p>\n<pre class=\"lang-java prettyprint-override\"><code>class a{}\nclass A{}\n</code></pre>\n<p>after compilation : a.class</p>\n<p>Why only one class created?\nthe first we declared only that .class file generated</p>\n<p>Please explain the reason in detail.</p>\n"},{"tags":["java","protocol-buffers","protoc"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679813948,"post_id":75846185,"comment_id":133785595,"body_markdown":"You might be able use import, i.e. create a file `myAddressBook.proto` containing `option java_package = &quot;com.example.protobuf&quot;; option java_outer_classname = &quot;AddressBookProtos&quot;; import &quot;vendorAddressBook.proto&quot;;` (I have not tried this)","body":"You might be able use import, i.e. create a file <code>myAddressBook.proto</code> containing <code>option java_package = &quot;com.example.protobuf&quot;; option java_outer_classname = &quot;AddressBookProtos&quot;; import &quot;vendorAddressBook.proto&quot;;</code> (I have not tried this)"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1679814072,"post_id":75846185,"comment_id":133785611,"body_markdown":"@tgdavies: No, that&#39;s not what imports in protobuf do.","body":"@tgdavies: No, that&#39;s not what imports in protobuf do."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679814212,"post_id":75846185,"comment_id":133785626,"body_markdown":"@JonSkeet So you&#39;d have to be using the `AddressBook` type in another type you defined in your own file?","body":"@JonSkeet So you&#39;d have to be using the <code>AddressBook</code> type in another type you defined in your own file?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1679815728,"post_id":75846185,"comment_id":133785752,"body_markdown":"@tgdavies: Yes. But it wouldn&#39;t change the package or outer classname for anything in the imported proto.","body":"@tgdavies: Yes. But it wouldn&#39;t change the package or outer classname for anything in the imported proto."},{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":0,"creation_date":1679853239,"post_id":75846185,"comment_id":133791200,"body_markdown":"The producer of the protos **should** include `option` for the languages that their users may need. Google does this for its services. A challenge is that `option` applies to packages and `protoc` generally compiles multiple packages requiring a way to specify multiple `xxx_out` and `xxx_opt`. That said, it&#39;s reasonable to want to be able to override these with `protoc` and take the hit when you can&#39;t update the proto sources (file feedback) or you&#39;ll have to duplicate the proto sources and amend as you&#39;re doing","body":"The producer of the protos <b>should</b> include <code>option</code> for the languages that their users may need. Google does this for its services. A challenge is that <code>option</code> applies to packages and <code>protoc</code> generally compiles multiple packages requiring a way to specify multiple <code>xxx_out</code> and <code>xxx_opt</code>. That said, it&#39;s reasonable to want to be able to override these with <code>protoc</code> and take the hit when you can&#39;t update the proto sources (file feedback) or you&#39;ll have to duplicate the proto sources and amend as you&#39;re doing"}],"owner":{"account_id":3681639,"reputation":9725,"user_id":3066467,"accept_rate":67,"display_name":"Guntram Blohm"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1679812255,"creation_date":1679811632,"question_id":75846185,"body_markdown":"I have some input files that contain protobuf data, with a corresponding `.proto` definition. For the sake of a minimal example (taken from [here](https://www.baeldung.com/google-protocol-buffer)), assume this .proto file looks like\r\n\r\n```\r\nmessage Person {\r\n    required string name = 1;\r\n}\r\n```\r\n\r\nAccording to every example I can find on the net, I have to specify my java package and class names in the .proto file itself, amending it with\r\n\r\n```\r\noption java_package = &quot;com.example.protobuf&quot;;\r\noption java_outer_classname = &quot;AddressBookProtos&quot;;\r\n```\r\n\r\nThe problem is - if I do that, I&#39;ll have to change my `.proto` file every time the vendor updates their definition, and of course the vendor doesn&#39;t want to add those options to their version, because a) they&#39;re not using java and b) different customers may have different requirements as to the package/class names.\r\n\r\nSo what I&#39;d like to do is to not have those options in the `.proto` file, and give them on the command line to `protoc` in a way similar to this:\r\n\r\n`protoc --java_out=. --option java_package=&quot;com.example.protobuf&quot; --option java_outer_classname=&quot;AddressBookProtos&quot; message.proto`\r\n\r\nbut I can&#39;t find any documentation if this is possible at all or which syntax to use.\r\n\r\nSo, is it possible to pass options to `protoc` in a similar way?\r\n","title":"Can I pass java options to protoc on the command line?","body":"<p>I have some input files that contain protobuf data, with a corresponding <code>.proto</code> definition. For the sake of a minimal example (taken from <a href=\"https://www.baeldung.com/google-protocol-buffer\" rel=\"nofollow noreferrer\">here</a>), assume this .proto file looks like</p>\n<pre><code>message Person {\n    required string name = 1;\n}\n</code></pre>\n<p>According to every example I can find on the net, I have to specify my java package and class names in the .proto file itself, amending it with</p>\n<pre><code>option java_package = &quot;com.example.protobuf&quot;;\noption java_outer_classname = &quot;AddressBookProtos&quot;;\n</code></pre>\n<p>The problem is - if I do that, I'll have to change my <code>.proto</code> file every time the vendor updates their definition, and of course the vendor doesn't want to add those options to their version, because a) they're not using java and b) different customers may have different requirements as to the package/class names.</p>\n<p>So what I'd like to do is to not have those options in the <code>.proto</code> file, and give them on the command line to <code>protoc</code> in a way similar to this:</p>\n<p><code>protoc --java_out=. --option java_package=&quot;com.example.protobuf&quot; --option java_outer_classname=&quot;AddressBookProtos&quot; message.proto</code></p>\n<p>but I can't find any documentation if this is possible at all or which syntax to use.</p>\n<p>So, is it possible to pass options to <code>protoc</code> in a similar way?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2637276,"reputation":24,"user_id":2281641,"display_name":"Sudheep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679811734,"creation_date":1679811734,"answer_id":75846190,"question_id":75845896,"body_markdown":"The error message is pretty descriptive. It is pointing to a incompatible comparisons between integer and char.   \r\n\r\nAs you get the same error in edit and delete I doubt the SerialNumber column. \r\nTry executing the query directly on the database query window to confirm this. \r\n\r\nTry by casting char to integer.","title":"I&#39;ve connected this program to my database, and everytime that I try to run it it shows me this error","body":"<p>The error message is pretty descriptive. It is pointing to a incompatible comparisons between integer and char.</p>\n<p>As you get the same error in edit and delete I doubt the SerialNumber column.\nTry executing the query directly on the database query window to confirm this.</p>\n<p>Try by casting char to integer.</p>\n"}],"owner":{"account_id":28126754,"reputation":1,"user_id":21492002,"display_name":"Gumban Nikki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679811734,"creation_date":1679805742,"question_id":75845896,"body_markdown":"java.sql.SQLSyntaxErrorException: Comparisons between &#39;INTEGER&#39; and &#39;CHAR (UCS_BASIC)&#39; are not supported. Types must be comparable. String types must also have matching collation. If collation does not match, a possible solution is to cast operands to force them to the default collation (e.g. SELECT tablename FROM sys.systables WHERE CAST(tablename AS VARCHAR(128)) = &#39;T1&#39;)\r\n\r\nwhen i click edit button the error shows also in my delete button here&#39;s my code\r\ncan you help me\r\n\r\nThis is the code for edit button\r\n private void UpdateBtnMouseClicked(java.awt.event.MouseEvent evt) {                                       \r\n\r\n       if(SerialNumber.getText().isEmpty()||ProductName.getText().isEmpty()||DateAcquired.getText().isEmpty()||Quantity.getText().isEmpty()||Description.getText().isEmpty())\r\n        {\r\n            JOptionPane.showMessageDialog(this, &quot;Missing Information&quot;);\r\n        }else {\r\n               try {\r\n                   \r\n                    Con = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/Inventorydb&quot;,&quot;User1&quot;, &quot;1220&quot;);\r\n                    String UpdateQuery = &quot;Update User1.PRODUCTTBL set ProductName=&#39;&quot;+ProductName.getText()+&quot;&#39;&quot;+&quot;,DateAcquired=&#39;&quot;+DateAcquired.getText()+&quot;&#39;&quot;+&quot;,Quantity=&#39;&quot;+Quantity.getText()+&quot;&#39;&quot;+&quot;,Description=&#39;&quot;+Description.getText()+&quot;&#39;&quot;+&quot; where SerialNumber=&quot;+&quot;&#39;&quot;+SerialNumber.getText()+&quot;&#39;&quot;;\r\n                    Statement Add = Con.createStatement();\r\n                    Add.executeUpdate(UpdateQuery);\r\n                    JOptionPane.showMessageDialog(this, &quot;Product Updated Successfully&quot;);\r\n                    SelectProd();\r\n                   \r\n                   }catch(Exception e){\r\n                       \r\n                       e.printStackTrace();\r\n                       \r\n                   }\r\n              }\r\n          \r\n        \r\n    }                         \r\n\r\nThis is the code for the delete button\r\n private void DeleteBtnMouseClicked(java.awt.event.MouseEvent evt) {                                       \r\n\r\n      if(SerialNumber.getText().isEmpty())\r\n        {\r\n            \r\n           JOptionPane.showMessageDialog(this, &quot;Enter the SerialNumber to be Deleted&quot;);\r\n            \r\n        }\r\n        else\r\n        {\r\n            \r\n           try{\r\n               \r\n               Con = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/Inventorydb&quot;,&quot;User1&quot;, &quot;1220&quot;);\r\n               String ID = SerialNumber.getText();\r\n               String Query = &quot;Delete from User1.PRODUCTTBL where SERIALNUMBER=&quot;+&quot;&#39;&quot;+ID+&quot;&#39;&quot;;\r\n               Statement Add = Con.createStatement();\r\n               Add.executeUpdate(Query);\r\n               SelectProd ();\r\n               JOptionPane.showMessageDialog(this, &quot;Product Deleted Successfully&quot;);\r\n               \r\n           }catch(SQLException e)\r\n           {\r\n               \r\n               e.printStackTrace();\r\n               \r\n           }\r\n            \r\n        }\r\n        \r\n    }                  ","title":"I&#39;ve connected this program to my database, and everytime that I try to run it it shows me this error","body":"<p>java.sql.SQLSyntaxErrorException: Comparisons between 'INTEGER' and 'CHAR (UCS_BASIC)' are not supported. Types must be comparable. String types must also have matching collation. If collation does not match, a possible solution is to cast operands to force them to the default collation (e.g. SELECT tablename FROM sys.systables WHERE CAST(tablename AS VARCHAR(128)) = 'T1')</p>\n<p>when i click edit button the error shows also in my delete button here's my code\ncan you help me</p>\n<p>This is the code for edit button\nprivate void UpdateBtnMouseClicked(java.awt.event.MouseEvent evt) {</p>\n<pre><code>   if(SerialNumber.getText().isEmpty()||ProductName.getText().isEmpty()||DateAcquired.getText().isEmpty()||Quantity.getText().isEmpty()||Description.getText().isEmpty())\n    {\n        JOptionPane.showMessageDialog(this, &quot;Missing Information&quot;);\n    }else {\n           try {\n               \n                Con = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/Inventorydb&quot;,&quot;User1&quot;, &quot;1220&quot;);\n                String UpdateQuery = &quot;Update User1.PRODUCTTBL set ProductName='&quot;+ProductName.getText()+&quot;'&quot;+&quot;,DateAcquired='&quot;+DateAcquired.getText()+&quot;'&quot;+&quot;,Quantity='&quot;+Quantity.getText()+&quot;'&quot;+&quot;,Description='&quot;+Description.getText()+&quot;'&quot;+&quot; where SerialNumber=&quot;+&quot;'&quot;+SerialNumber.getText()+&quot;'&quot;;\n                Statement Add = Con.createStatement();\n                Add.executeUpdate(UpdateQuery);\n                JOptionPane.showMessageDialog(this, &quot;Product Updated Successfully&quot;);\n                SelectProd();\n               \n               }catch(Exception e){\n                   \n                   e.printStackTrace();\n                   \n               }\n          }\n      \n    \n}                         \n</code></pre>\n<p>This is the code for the delete button\nprivate void DeleteBtnMouseClicked(java.awt.event.MouseEvent evt) {</p>\n<pre><code>  if(SerialNumber.getText().isEmpty())\n    {\n        \n       JOptionPane.showMessageDialog(this, &quot;Enter the SerialNumber to be Deleted&quot;);\n        \n    }\n    else\n    {\n        \n       try{\n           \n           Con = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/Inventorydb&quot;,&quot;User1&quot;, &quot;1220&quot;);\n           String ID = SerialNumber.getText();\n           String Query = &quot;Delete from User1.PRODUCTTBL where SERIALNUMBER=&quot;+&quot;'&quot;+ID+&quot;'&quot;;\n           Statement Add = Con.createStatement();\n           Add.executeUpdate(Query);\n           SelectProd ();\n           JOptionPane.showMessageDialog(this, &quot;Product Deleted Successfully&quot;);\n           \n       }catch(SQLException e)\n       {\n           \n           e.printStackTrace();\n           \n       }\n        \n    }\n    \n}                  \n</code></pre>\n"},{"tags":["java","algorithm","sorting","object","quicksort"],"comments":[{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1679779898,"post_id":75844603,"comment_id":133782941,"body_markdown":"You write that this code sorts by department, but it actually sorts by name. Can you clarify?","body":"You write that this code sorts by department, but it actually sorts by name. Can you clarify?"},{"owner":{"display_name":"user21490683"},"score":0,"creation_date":1679780338,"post_id":75844603,"comment_id":133782998,"body_markdown":"sorry, i modified it.","body":"sorry, i modified it."},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1679811550,"post_id":75844603,"comment_id":133785412,"body_markdown":"Please do not remove the information that was essential to your question. I rolled back the destructive edit you made.","body":"Please do not remove the information that was essential to your question. I rolled back the destructive edit you made."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679780751,"creation_date":1679780751,"answer_id":75844706,"question_id":75844603,"body_markdown":"You could create a `compareTo` method on your `Staff` class, which performs a comparison based on `dep` and `id` (when there is a tie):\r\n\r\n```\r\n    int compareTo(Staff other) {\r\n        int res = dep.compareTo(other.dep);\r\n        return res != 0 ? res : id - other.id;\r\n    }\r\n```\r\n\r\nNow in your `quickSort` code, just compare using this method:\r\n\r\n```\r\n            Staff pivot = staffs[i];\r\n            while (j &gt; i)\r\n            {\r\n                while (staffs[i].compareTo(pivot) &lt;= 0 &amp;&amp; i &lt; end &amp;&amp; j &gt; i) {\r\n                    i++;\r\n                }\r\n                while (staffs[j].compareTo(pivot) &gt;= 0 &amp;&amp; j &gt; start &amp;&amp; j &gt;= i) {\r\n                    j--;\r\n                }\r\n                if (j &gt; i)\r\n                    swap(staffs, i, j);\r\n            }\r\n```","title":"Quicksort with duplicate values in object arrays","body":"<p>You could create a <code>compareTo</code> method on your <code>Staff</code> class, which performs a comparison based on <code>dep</code> and <code>id</code> (when there is a tie):</p>\n<pre><code>    int compareTo(Staff other) {\n        int res = dep.compareTo(other.dep);\n        return res != 0 ? res : id - other.id;\n    }\n</code></pre>\n<p>Now in your <code>quickSort</code> code, just compare using this method:</p>\n<pre><code>            Staff pivot = staffs[i];\n            while (j &gt; i)\n            {\n                while (staffs[i].compareTo(pivot) &lt;= 0 &amp;&amp; i &lt; end &amp;&amp; j &gt; i) {\n                    i++;\n                }\n                while (staffs[j].compareTo(pivot) &gt;= 0 &amp;&amp; j &gt; start &amp;&amp; j &gt;= i) {\n                    j--;\n                }\n                if (j &gt; i)\n                    swap(staffs, i, j);\n            }\n</code></pre>\n"}],"owner":{"display_name":"user21490683"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679811498,"creation_date":1679779522,"question_id":75844603,"body_markdown":"```\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tStaff[] staffs = new Staff[10];\r\n\t\tStaff[] answer = new Staff[staffs.length];\r\n\t\tint temp = 0;\r\n\t\t\r\n\t\t\r\n\t\tstaffs[0] = new Staff(1,&quot;J&quot;,&quot;IT&quot;);\r\n\t\tstaffs[1] = new Staff(3,&quot;I&quot;,&quot;IT&quot;);\r\n\t\tstaffs[2] = new Staff(2,&quot;H&quot;,&quot;GA&quot;);\r\n\t\tstaffs[3] = new Staff(7,&quot;G&quot;,&quot;GA&quot;);\r\n\t\tstaffs[4] = new Staff(5,&quot;F&quot;,&quot;AUDIT&quot;);\r\n\t\tstaffs[5] = new Staff(6,&quot;E&quot;,&quot;AUDIT&quot;);\r\n\t\tstaffs[6] = new Staff(4,&quot;D&quot;,&quot;IT&quot;);\r\n\t\tstaffs[7] = new Staff(10,&quot;C&quot;,&quot;IT&quot;);\r\n\t\tstaffs[8] = new Staff(9,&quot;B&quot;,&quot;HR&quot;);\r\n\t\tstaffs[9] = new Staff(8,&quot;A&quot;,&quot;HR&quot;);\r\n\t\t\r\n\t\t\r\n\t\tPrintArray(staffs);\r\n\t\tquickSort(staffs, 0, staffs.length-1);\r\n\t\tPrintArray(staffs);\r\n\t}\r\n\tprivate static void quickSort(Staff[] staffs, int start, int end)\r\n\t{\r\n\r\n\t        int i = start;\r\n\t        int j = end;\r\n\t        if (j - i &gt;= 1)\r\n\t        {\r\n\t            String pivot = staffs[i].dep;\r\n\t            while (j &gt; i)\r\n\t            {\r\n\r\n\t                while (staffs[i].dep.compareTo(pivot) &lt;= 0 &amp;&amp; i &lt; end &amp;&amp; j &gt; i){\r\n\t                    i++;\r\n\t                }\r\n\r\n\t                while (staffs[j].dep.compareTo(pivot) &gt;= 0 &amp;&amp; j &gt; start &amp;&amp; j &gt;= i){\r\n\t                    j--;\r\n\t                }\r\n\t                \r\n\t                if (j &gt; i)\r\n\t                    swap(staffs, i, j);\r\n\t            }\r\n\r\n\t        \r\n\t            swap(staffs, start, j);\r\n\t            quickSort(staffs, start, j - 1);\r\n\t            quickSort(staffs, j + 1, end);\r\n\t        }\r\n\t    }\r\n\r\n\t    private static void swap(Staff[] staffs, int i, int j)\r\n\t    {\r\n\t    Staff temp = staffs[i];\r\n\t    staffs[i] = staffs[j];\r\n\t    staffs[j] = temp;\r\n\t    }\r\n\tpublic static void PrintArray(Staff[] staffs) {\r\n\t\tfor(int a = 0; a&lt;staffs.length; a++) {\r\n\t\t\tSystem.out.println(staffs[a].id+&quot;, &quot;+staffs[a].name+&quot;, &quot;+staffs[a].dep);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nI sorted this object array in quicksort algorithm.\r\nIt will be sorted by department value.\r\nBut the thing is there are duplicated department value.\r\nI want to code that if there is duplicate value in department column,\r\nthen sorting object by ascending order of id.\r\n\r\nHow can i handle this?","title":"Quicksort with duplicate values in object arrays","body":"<pre><code>public class Main {\n    public static void main(String[] args) {\n        Staff[] staffs = new Staff[10];\n        Staff[] answer = new Staff[staffs.length];\n        int temp = 0;\n        \n        \n        staffs[0] = new Staff(1,&quot;J&quot;,&quot;IT&quot;);\n        staffs[1] = new Staff(3,&quot;I&quot;,&quot;IT&quot;);\n        staffs[2] = new Staff(2,&quot;H&quot;,&quot;GA&quot;);\n        staffs[3] = new Staff(7,&quot;G&quot;,&quot;GA&quot;);\n        staffs[4] = new Staff(5,&quot;F&quot;,&quot;AUDIT&quot;);\n        staffs[5] = new Staff(6,&quot;E&quot;,&quot;AUDIT&quot;);\n        staffs[6] = new Staff(4,&quot;D&quot;,&quot;IT&quot;);\n        staffs[7] = new Staff(10,&quot;C&quot;,&quot;IT&quot;);\n        staffs[8] = new Staff(9,&quot;B&quot;,&quot;HR&quot;);\n        staffs[9] = new Staff(8,&quot;A&quot;,&quot;HR&quot;);\n        \n        \n        PrintArray(staffs);\n        quickSort(staffs, 0, staffs.length-1);\n        PrintArray(staffs);\n    }\n    private static void quickSort(Staff[] staffs, int start, int end)\n    {\n\n            int i = start;\n            int j = end;\n            if (j - i &gt;= 1)\n            {\n                String pivot = staffs[i].dep;\n                while (j &gt; i)\n                {\n\n                    while (staffs[i].dep.compareTo(pivot) &lt;= 0 &amp;&amp; i &lt; end &amp;&amp; j &gt; i){\n                        i++;\n                    }\n\n                    while (staffs[j].dep.compareTo(pivot) &gt;= 0 &amp;&amp; j &gt; start &amp;&amp; j &gt;= i){\n                        j--;\n                    }\n                    \n                    if (j &gt; i)\n                        swap(staffs, i, j);\n                }\n\n            \n                swap(staffs, start, j);\n                quickSort(staffs, start, j - 1);\n                quickSort(staffs, j + 1, end);\n            }\n        }\n\n        private static void swap(Staff[] staffs, int i, int j)\n        {\n        Staff temp = staffs[i];\n        staffs[i] = staffs[j];\n        staffs[j] = temp;\n        }\n    public static void PrintArray(Staff[] staffs) {\n        for(int a = 0; a&lt;staffs.length; a++) {\n            System.out.println(staffs[a].id+&quot;, &quot;+staffs[a].name+&quot;, &quot;+staffs[a].dep);\n        }\n        System.out.println(&quot;&quot;);\n    }\n\n}\n</code></pre>\n<p>I sorted this object array in quicksort algorithm.\nIt will be sorted by department value.\nBut the thing is there are duplicated department value.\nI want to code that if there is duplicate value in department column,\nthen sorting object by ascending order of id.</p>\n<p>How can i handle this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":8,"creation_date":1378305412,"post_id":18616646,"comment_id":27403577,"body_markdown":"Why all the null handling? It seems fairly pointless - returning -1 from methods like this is almost always a bad idea, IMO. Without that, the methods would be significantly simpler - to the extent that I&#39;d quite possibly just inline them...","body":"Why all the null handling? It seems fairly pointless - returning -1 from methods like this is almost always a bad idea, IMO. Without that, the methods would be significantly simpler - to the extent that I&#39;d quite possibly just inline them..."}],"answers":[{"tags":[],"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1378305438,"creation_date":1378305438,"answer_id":18616770,"question_id":18616646,"body_markdown":"I wonder if you have really tried to solve it by yourself.  It is so obvious and straight forward\r\n\r\npsuedo code:\r\n\r\n    if ( monthOf(currentDate) &gt;= MARCH) then\r\n      FY =  yearOf(currentDate) + &quot;-&quot; + (yearOf(currentDate) +1);\r\n    else \r\n      FY = (yearOf(currentDate) - 1) + &quot;-&quot; + yearOf(currentDate);\r\n\r\n","title":"Get Current Financial Year ( YYYY-YYYY) from Current Date","body":"<p>I wonder if you have really tried to solve it by yourself.  It is so obvious and straight forward</p>\n\n<p>psuedo code:</p>\n\n<pre><code>if ( monthOf(currentDate) &gt;= MARCH) then\n  FY =  yearOf(currentDate) + \"-\" + (yearOf(currentDate) +1);\nelse \n  FY = (yearOf(currentDate) - 1) + \"-\" + yearOf(currentDate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":936797,"reputation":2054,"user_id":965593,"accept_rate":67,"display_name":"pamphlet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1378305460,"creation_date":1378305460,"answer_id":18616781,"question_id":18616646,"body_markdown":"Something like:\r\n\r\n    Date d = new Date();\r\n    int y = d.getMonth() &lt; 3 ? d.getYear() - 1 : d.getYear();\r\n\r\n    System.out.println(&quot;Financial Year : &quot; + y + &quot;-&quot; + (y + 1));\r\n    System.out.println(&quot;Financial month : &quot; + d.getMonth());","title":"Get Current Financial Year ( YYYY-YYYY) from Current Date","body":"<p>Something like:</p>\n\n<pre><code>Date d = new Date();\nint y = d.getMonth() &lt; 3 ? d.getYear() - 1 : d.getYear();\n\nSystem.out.println(\"Financial Year : \" + y + \"-\" + (y + 1));\nSystem.out.println(\"Financial month : \" + d.getMonth());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1384417,"reputation":1467,"user_id":1316731,"accept_rate":57,"display_name":"Umang Mehta"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1378305821,"creation_date":1378305821,"answer_id":18616915,"question_id":18616646,"body_markdown":"    public static void main(String[] args) {\r\n    \r\n        int year = Calendar.getInstance().get(Calendar.YEAR);\r\n    \r\n        int month = Calendar.getInstance().get(Calendar.MONTH) + 1;\r\n        System.out.println(&quot;Financial month : &quot; + month);\r\n        if (month &lt; 3) {\r\n            System.out.println(&quot;Financial Year : &quot; + (year - 1) + &quot;-&quot; + year);\r\n        } else {\r\n            System.out.println(&quot;Financial Year : &quot; + year + &quot;-&quot; + (year + 1));\r\n        }\r\n    }\r\n\r\nJust remove the extra functions. ","title":"Get Current Financial Year ( YYYY-YYYY) from Current Date","body":"<pre><code>public static void main(String[] args) {\n\n    int year = Calendar.getInstance().get(Calendar.YEAR);\n\n    int month = Calendar.getInstance().get(Calendar.MONTH) + 1;\n    System.out.println(\"Financial month : \" + month);\n    if (month &lt; 3) {\n        System.out.println(\"Financial Year : \" + (year - 1) + \"-\" + year);\n    } else {\n        System.out.println(\"Financial Year : \" + year + \"-\" + (year + 1));\n    }\n}\n</code></pre>\n\n<p>Just remove the extra functions. </p>\n"},{"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1378306691,"creation_date":1378306220,"answer_id":18617055,"question_id":18616646,"body_markdown":"It could be beneficial to make an object for the `FiscalDate` so you can reuse it throughout an application.  I would avoid deprecated methods such as `getMonth()` and `getYear()` as others have suggested.\r\n\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    \r\n    \r\n    public class FiscalDate {\r\n    \r\n    \tprivate Date actual;\r\n    \tprivate int month;\r\n    \tprivate int year;\r\n    \r\n    \tpublic FiscalDate(Date date){\r\n    \t\tthis.actual = date;\r\n    \t\tthis.init();\r\n    \t}\r\n    \t\r\n    \tprivate void init(){\r\n    \t\tCalendar cal = Calendar.getInstance();\r\n    \t\tcal.setTime(this.actual);\r\n    \t\tthis.month = cal.get(Calendar.MONTH);\r\n    \t    int advance = (this.month &lt;= 3) ? -1:0;\r\n    \t    this.year = cal.get(Calendar.YEAR) + advance;\r\n    \t}\r\n    \r\n    \tpublic Date getActual() {\r\n    \t\treturn actual;\r\n    \t}\r\n    \r\n    \tpublic void setActual(Date actual) {\r\n    \t\tthis.actual = actual;\r\n    \t}\r\n    \r\n    \tpublic int getMonth() {\r\n    \t\treturn month;\r\n    \t}\r\n    \r\n    \tpublic void setMonth(int month) {\r\n    \t\tthis.month = month;\r\n    \t}\r\n    \r\n    \tpublic int getYear() {\r\n    \t\treturn year;\r\n    \t}\r\n    \r\n    \tpublic void setYear(int year) {\r\n    \t\tthis.year = year;\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tFiscalDate fDate = new FiscalDate(new Date());\r\n    \t\tSystem.out.println(fDate.getYear());\r\n    \t}\r\n    }\r\n\r\n","title":"Get Current Financial Year ( YYYY-YYYY) from Current Date","body":"<p>It could be beneficial to make an object for the <code>FiscalDate</code> so you can reuse it throughout an application.  I would avoid deprecated methods such as <code>getMonth()</code> and <code>getYear()</code> as others have suggested.</p>\n\n<pre><code>import java.util.Calendar;\nimport java.util.Date;\n\n\npublic class FiscalDate {\n\n    private Date actual;\n    private int month;\n    private int year;\n\n    public FiscalDate(Date date){\n        this.actual = date;\n        this.init();\n    }\n\n    private void init(){\n        Calendar cal = Calendar.getInstance();\n        cal.setTime(this.actual);\n        this.month = cal.get(Calendar.MONTH);\n        int advance = (this.month &lt;= 3) ? -1:0;\n        this.year = cal.get(Calendar.YEAR) + advance;\n    }\n\n    public Date getActual() {\n        return actual;\n    }\n\n    public void setActual(Date actual) {\n        this.actual = actual;\n    }\n\n    public int getMonth() {\n        return month;\n    }\n\n    public void setMonth(int month) {\n        this.month = month;\n    }\n\n    public int getYear() {\n        return year;\n    }\n\n    public void setYear(int year) {\n        this.year = year;\n    }\n\n    public static void main(String[] args) {\n        FiscalDate fDate = new FiscalDate(new Date());\n        System.out.println(fDate.getYear());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1378319419,"creation_date":1378319419,"answer_id":18621248,"question_id":18616646,"body_markdown":"I suspect that one of the values needed is the fiscal month.  The fiscal month is the month within the fiscal year.  For instance, if the fiscal year starts in March, then March is the 0 month of the fiscal year.  February is the 11 month of the fiscal year.\r\n\r\nHere are some test results:\r\n\r\n    Current Date : Wed Sep 04 14:23:17 EDT 2013\r\n    Fiscal Years : 2013-2014\r\n    Fiscal Month : 6\r\n     \r\n    Current Date : Fri Feb 01 00:00:00 EST 2013\r\n    Fiscal Years : 2012-2013\r\n    Fiscal Month : 11\r\n     \r\n    Current Date : Wed Jul 25 00:00:00 EDT 2012\r\n    Fiscal Years : 2012-2013\r\n    Fiscal Month : 4\r\n\r\nBorrowing from [Kevin Bowersox&#39;s answer][1], here&#39;s a FiscalDate class that gives the fiscal year and fiscal month, as well as the calendar year and calendar month.  Both month values are zero based.\r\n\r\n\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    \r\n    public class FiscalDate {\r\n    \r\n    \tprivate static final int\tFIRST_FISCAL_MONTH\t= Calendar.MARCH;\r\n    \r\n    \tprivate Calendar\t\t\tcalendarDate;\r\n    \r\n    \tpublic FiscalDate(Calendar calendarDate) {\r\n    \t\tthis.calendarDate = calendarDate;\r\n    \t}\r\n    \r\n    \tpublic FiscalDate(Date date) {\r\n    \t\tthis.calendarDate = Calendar.getInstance();\r\n    \t\tthis.calendarDate.setTime(date);\r\n    \t}\r\n    \r\n    \tpublic int getFiscalMonth() {\r\n    \t\tint month = calendarDate.get(Calendar.MONTH);\r\n    \t\tint result = ((month - FIRST_FISCAL_MONTH - 1) % 12) + 1;\r\n    \t\tif (result &lt; 0) {\r\n    \t\t\tresult += 12;\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \tpublic int getFiscalYear() {\r\n    \t\tint month = calendarDate.get(Calendar.MONTH);\r\n    \t\tint year = calendarDate.get(Calendar.YEAR);\r\n    \t\treturn (month &gt;= FIRST_FISCAL_MONTH) ? year : year - 1;\r\n    \t}\r\n    \r\n    \tpublic int getCalendarMonth() {\r\n    \t\treturn calendarDate.get(Calendar.MONTH);\r\n    \t}\r\n    \r\n    \tpublic int getCalendarYear() {\r\n    \t\treturn calendarDate.get(Calendar.YEAR);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tdisplayFinancialDate(Calendar.getInstance());\r\n    \t\tdisplayFinancialDate(setDate(2013, 1, 1));\r\n    \t\tdisplayFinancialDate(setDate(2012, 6, 25));\r\n    \t}\r\n    \r\n    \tprivate static Calendar setDate(int year, int month, int day) {\r\n    \t\tCalendar calendar = Calendar.getInstance();\r\n    \t\tcalendar.set(Calendar.YEAR, year);\r\n    \t\tcalendar.set(Calendar.MONTH, month);\r\n    \t\tcalendar.set(Calendar.DAY_OF_MONTH, day);\r\n    \t\tcalendar.set(Calendar.HOUR_OF_DAY, 0);\r\n    \t\tcalendar.set(Calendar.MINUTE, 0);\r\n    \t\tcalendar.set(Calendar.SECOND, 0);\r\n    \r\n    \t\treturn calendar;\r\n    \t}\r\n    \r\n    \tprivate static void displayFinancialDate(Calendar calendar) {\r\n    \t\tFiscalDate fiscalDate = new FiscalDate(calendar);\r\n    \t\tint year = fiscalDate.getFiscalYear();\r\n    \t\tSystem.out.println(&quot;Current Date : &quot; + calendar.getTime().toString());\r\n    \t\tSystem.out.println(&quot;Fiscal Years : &quot; + year + &quot;-&quot; + (year + 1));\r\n    \t\tSystem.out.println(&quot;Fiscal Month : &quot; + fiscalDate.getFiscalMonth());\r\n    \t\tSystem.out.println(&quot; &quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/18617055/300257","title":"Get Current Financial Year ( YYYY-YYYY) from Current Date","body":"<p>I suspect that one of the values needed is the fiscal month.  The fiscal month is the month within the fiscal year.  For instance, if the fiscal year starts in March, then March is the 0 month of the fiscal year.  February is the 11 month of the fiscal year.</p>\n\n<p>Here are some test results:</p>\n\n<pre><code>Current Date : Wed Sep 04 14:23:17 EDT 2013\nFiscal Years : 2013-2014\nFiscal Month : 6\n\nCurrent Date : Fri Feb 01 00:00:00 EST 2013\nFiscal Years : 2012-2013\nFiscal Month : 11\n\nCurrent Date : Wed Jul 25 00:00:00 EDT 2012\nFiscal Years : 2012-2013\nFiscal Month : 4\n</code></pre>\n\n<p>Borrowing from <a href=\"https://stackoverflow.com/a/18617055/300257\">Kevin Bowersox's answer</a>, here's a FiscalDate class that gives the fiscal year and fiscal month, as well as the calendar year and calendar month.  Both month values are zero based.</p>\n\n<pre><code>import java.util.Calendar;\nimport java.util.Date;\n\npublic class FiscalDate {\n\n    private static final int    FIRST_FISCAL_MONTH  = Calendar.MARCH;\n\n    private Calendar            calendarDate;\n\n    public FiscalDate(Calendar calendarDate) {\n        this.calendarDate = calendarDate;\n    }\n\n    public FiscalDate(Date date) {\n        this.calendarDate = Calendar.getInstance();\n        this.calendarDate.setTime(date);\n    }\n\n    public int getFiscalMonth() {\n        int month = calendarDate.get(Calendar.MONTH);\n        int result = ((month - FIRST_FISCAL_MONTH - 1) % 12) + 1;\n        if (result &lt; 0) {\n            result += 12;\n        }\n        return result;\n    }\n\n    public int getFiscalYear() {\n        int month = calendarDate.get(Calendar.MONTH);\n        int year = calendarDate.get(Calendar.YEAR);\n        return (month &gt;= FIRST_FISCAL_MONTH) ? year : year - 1;\n    }\n\n    public int getCalendarMonth() {\n        return calendarDate.get(Calendar.MONTH);\n    }\n\n    public int getCalendarYear() {\n        return calendarDate.get(Calendar.YEAR);\n    }\n\n    public static void main(String[] args) {\n        displayFinancialDate(Calendar.getInstance());\n        displayFinancialDate(setDate(2013, 1, 1));\n        displayFinancialDate(setDate(2012, 6, 25));\n    }\n\n    private static Calendar setDate(int year, int month, int day) {\n        Calendar calendar = Calendar.getInstance();\n        calendar.set(Calendar.YEAR, year);\n        calendar.set(Calendar.MONTH, month);\n        calendar.set(Calendar.DAY_OF_MONTH, day);\n        calendar.set(Calendar.HOUR_OF_DAY, 0);\n        calendar.set(Calendar.MINUTE, 0);\n        calendar.set(Calendar.SECOND, 0);\n\n        return calendar;\n    }\n\n    private static void displayFinancialDate(Calendar calendar) {\n        FiscalDate fiscalDate = new FiscalDate(calendar);\n        int year = fiscalDate.getFiscalYear();\n        System.out.println(\"Current Date : \" + calendar.getTime().toString());\n        System.out.println(\"Fiscal Years : \" + year + \"-\" + (year + 1));\n        System.out.println(\"Fiscal Month : \" + fiscalDate.getFiscalMonth());\n        System.out.println(\" \");\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3563024,"reputation":61,"user_id":3540613,"display_name":"APOORVA DOSHI"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1595873209,"creation_date":1498021546,"answer_id":44667211,"question_id":18616646,"body_markdown":"    int CurrentYear = Calendar.getInstance().get(Calendar.YEAR);\r\n    int CurrentMonth = (Calendar.getInstance().get(Calendar.MONTH)+1);\r\n    String financiyalYearFrom=&quot;&quot;;\r\n    String financiyalYearTo=&quot;&quot;;\r\n    if (CurrentMonth&lt;4) {\r\n        financiyalYearFrom=&quot;01-04-&quot;+(CurrentYear-1);\r\n        financiyalYearTo=&quot;31-03-&quot;+(CurrentYear);\r\n    } else {\r\n        financiyalYearFrom=&quot;01-04-&quot;+(CurrentYear);\r\n        financiyalYearTo=&quot;31-03-&quot;+(CurrentYear+1);\r\n    }","title":"Get Current Financial Year ( YYYY-YYYY) from Current Date","body":"<pre><code>int CurrentYear = Calendar.getInstance().get(Calendar.YEAR);\nint CurrentMonth = (Calendar.getInstance().get(Calendar.MONTH)+1);\nString financiyalYearFrom=&quot;&quot;;\nString financiyalYearTo=&quot;&quot;;\nif (CurrentMonth&lt;4) {\n    financiyalYearFrom=&quot;01-04-&quot;+(CurrentYear-1);\n    financiyalYearTo=&quot;31-03-&quot;+(CurrentYear);\n} else {\n    financiyalYearFrom=&quot;01-04-&quot;+(CurrentYear);\n    financiyalYearTo=&quot;31-03-&quot;+(CurrentYear+1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":309146,"reputation":1,"user_id":621443,"display_name":"nivas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522829253,"creation_date":1522828854,"answer_id":49645738,"question_id":18616646,"body_markdown":"\tpublic interface FinancialYearService {\r\n\t\t public int getFinancialYear();\r\n\t\t public int getFinancialMonth();\r\n\t\t public void generateFinancialYearMonth(int month,int year);\r\n\t}\r\n\r\n\tpublic class FinancialYearServiceImpl implements FinancialYearService {\r\n\t\t\r\n\t\tprivate int financialYear;\r\n\t\tprivate int financialMonth;\r\n\t\r\n\t\tprivate void setFinancialYear(int financialYear) {\r\n\t\t\tthis.financialYear = financialYear;\r\n\t\t}\r\n\t\r\n\t\tprivate void setFinancialMonth(int financialMonth) {\r\n\t\t\tthis.financialMonth = financialMonth;\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic int getFinancialYear() {\r\n\t\t\t \r\n\t\t\treturn financialYear;\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic int getFinancialMonth() {\r\n\t\t\t\r\n\t\t\treturn financialMonth;\r\n\t\t}\r\n\t\r\n\t\t/*\r\n\t\t * (non-Javadoc)\r\n\t\t * have to send current month and year to get financial month and year \r\n\t\t */\r\n\t\t@Override\r\n\t\tpublic void generateFinancialYearMonth(int month,int year) {\r\n\t\t\t \r\n\t\t\tif(month &lt;= 3 ){ \r\n\t\t\t\r\n\t\t\t  setFinancialMonth(month + 9);\r\n\t\t\t  setFinancialYear(year - 1); \r\n\t\t\t\r\n\t\t    }\r\n\t\t    else{\r\n\t\t\t\r\n\t\t\t  setFinancialMonth(month - 3);\r\n\t\t\t  setFinancialYear(year);\r\n\t\t\t\r\n\t\t    }\r\n\t\t\t\r\n\t\t}\r\n\t\r\n\t}","title":"Get Current Financial Year ( YYYY-YYYY) from Current Date","body":"<pre><code>public interface FinancialYearService {\n     public int getFinancialYear();\n     public int getFinancialMonth();\n     public void generateFinancialYearMonth(int month,int year);\n}\n\npublic class FinancialYearServiceImpl implements FinancialYearService {\n\n    private int financialYear;\n    private int financialMonth;\n\n    private void setFinancialYear(int financialYear) {\n        this.financialYear = financialYear;\n    }\n\n    private void setFinancialMonth(int financialMonth) {\n        this.financialMonth = financialMonth;\n    }\n\n    @Override\n    public int getFinancialYear() {\n\n        return financialYear;\n    }\n\n    @Override\n    public int getFinancialMonth() {\n\n        return financialMonth;\n    }\n\n    /*\n     * (non-Javadoc)\n     * have to send current month and year to get financial month and year \n     */\n    @Override\n    public void generateFinancialYearMonth(int month,int year) {\n\n        if(month &lt;= 3 ){ \n\n          setFinancialMonth(month + 9);\n          setFinancialYear(year - 1); \n\n        }\n        else{\n\n          setFinancialMonth(month - 3);\n          setFinancialYear(year);\n\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1269331,"reputation":1260,"user_id":1225994,"accept_rate":78,"display_name":"Dipin Krishnan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571665258,"creation_date":1571665258,"answer_id":58487572,"question_id":18616646,"body_markdown":"For those who are looking for a solution in JavaScript, here it is using [MomentJS][1] library.\r\n\r\n    let financialYear;\r\n    let today = moment();\r\n    if(today.month() &gt;= 3){\r\n        financialYear = today.format(&#39;YYYY&#39;) + &#39;-&#39; + today.add(1, &#39;years&#39;).format(&#39;YYYY&#39;)\r\n    }\r\n    else{\r\n        financialYear = today.subtract(1, &#39;years&#39;).format(&#39;YYYY&#39;) + &#39;-&#39; + today.add(1, &#39;years&#39;).format(&#39;YYYY&#39;)\r\n    }\r\n    console.log(financialYear)\r\n\r\nhttps://codepen.io/connect_dips/pen/QWWdwed\r\n\r\n  [1]: https://momentjs.com/","title":"Get Current Financial Year ( YYYY-YYYY) from Current Date","body":"<p>For those who are looking for a solution in JavaScript, here it is using <a href=\"https://momentjs.com/\" rel=\"nofollow noreferrer\">MomentJS</a> library.</p>\n\n<pre><code>let financialYear;\nlet today = moment();\nif(today.month() &gt;= 3){\n    financialYear = today.format('YYYY') + '-' + today.add(1, 'years').format('YYYY')\n}\nelse{\n    financialYear = today.subtract(1, 'years').format('YYYY') + '-' + today.add(1, 'years').format('YYYY')\n}\nconsole.log(financialYear)\n</code></pre>\n\n<p><a href=\"https://codepen.io/connect_dips/pen/QWWdwed\" rel=\"nofollow noreferrer\">https://codepen.io/connect_dips/pen/QWWdwed</a></p>\n"},{"tags":[],"owner":{"account_id":19171035,"reputation":1,"user_id":14004781,"display_name":"Raman Kansal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595873005,"creation_date":1595870543,"answer_id":63120396,"question_id":18616646,"body_markdown":"This code allows you to set an anniversary date and set the fiscal year on different constructors with the given assumptions.\r\n\r\n    public class FiscalYear {\r\n\r\n        public String fyAnnualStartDate = &quot;02-01&quot;;\r\n        public Calendar fyCalStart;\r\n        public Calendar fyCalEnd;\r\n        public Date fyStartDate;\r\n        public Date fyEndDate;\r\n        public int year;\r\n        public int month;\r\n        public int day;\r\n        public String timeZone = &quot;PST&quot;;\r\n        protected  SimpleDateFormat isoSDF = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;);\r\n        public  Date statusTime = null;\r\n        public  String stringTime = &quot;&quot;;\r\n        public String fyName;\r\n    \r\n        /**\r\n         * This is our lazy constructor assumes this is 02-01 for the start year and PST for the time zone\r\n         * \r\n         * Assumes that the year passed is the start of the year which assigns to the fiscal year\r\n         * \r\n         * I.E. 2020 would be fy21\r\n         * \r\n         * @param year\r\n         * @throws ParseException\r\n         */\r\n        public FiscalYear(int year) throws ParseException {\r\n            // TODO Auto-generated constructor stub\r\n            this.year = year;\r\n            setYearMonth();\r\n            setDates();\r\n            setName();\r\n        }\r\n    \r\n        public FiscalYear(int year, String zone) throws ParseException {\r\n            // TODO Auto-generated constructor stub\r\n            this.year = year;\r\n            this.timeZone = zone;\r\n            setYearMonth();\r\n            setDates();\r\n            setName();\r\n        }\r\n        \r\n        /**\r\n         * This constructor allows you to set the annualstartdate if you need to adjust the fiscal year to a new company\r\n         * @param year\r\n         * @param zone\r\n         * @param annualStartDate\r\n         * @throws ParseException\r\n         */\r\n        public FiscalYear(int year, String zone, String annualStartDate) throws ParseException {\r\n            // TODO Auto-generated constructor stub\r\n            \r\n            this.fyAnnualStartDate = annualStartDate;\r\n            this.year = year;\r\n            this.timeZone = zone;\r\n            setYearMonth();\r\n            setDates();\r\n            setName();\r\n        }\r\n        \r\n        /**\r\n         * This constructor allows you to set the annualstartdate if you need to adjust the fiscal year to a new company\r\n         * However this allows you to provide the current date or date in general to confirm the true fiscal year\r\n         * @param year\r\n         * @param zone\r\n         * @param annualStartDate\r\n         * @throws Exception\r\n         */\r\n        public FiscalYear(Date year, String zone, String annualStartDate) throws Exception {\r\n            // TODO Auto-generated constructor stub\r\n            \r\n            this.timeZone = zone;\r\n            this.fyAnnualStartDate = annualStartDate;\r\n            this.year = getActualYear(year);\r\n            setYearMonth();\r\n            setDates();\r\n            setName();\r\n        }\r\n        \r\n        /**\r\n         * This constructor allows you to provide the current date or date in general to confirm the true fiscal year\r\n         * Default annual start date is set in var fyAnnualStartDate\r\n         * \r\n         * @param year\r\n         * @throws Exception\r\n         */\r\n        public FiscalYear(Date year) throws Exception {\r\n            // TODO Auto-generated constructor stub\r\n            \r\n            this.year = getActualYear(year);\r\n            setYearMonth();\r\n            setDates();\r\n            setName();\r\n        }\r\n        \r\n        /**\r\n         * Gets the actual FY to be correct given the window can a Fiscal year can have two years within it\r\n         * \r\n         * This tests to figure out which FY this should instantiate to given the date you are providing based on the start date and logic that\r\n         * Fiscal Year 21 corresponds to the a lesser actual start year \r\n         * I.E. 2020 would be fy21\r\n         * @param year2\r\n         * @return\r\n         * @throws Exception\r\n         */\r\n        public static int getActualYear(Date year2) throws Exception {\r\n            // TODO Auto-generated method stub\r\n            SimpleDateFormat isoSDFTest = new SimpleDateFormat(&quot;yyyy&quot;);\r\n            \r\n            FiscalYear test = new FiscalYear(Integer.parseInt(isoSDFTest.format(year2)));\r\n            FiscalYear testBefore = new FiscalYear(Integer.parseInt(isoSDFTest.format(year2))-1);\r\n            FiscalYear testAfter = new FiscalYear(Integer.parseInt(isoSDFTest.format(year2))+1);\r\n            \r\n            if ((test.getStartDateAsDate().before(year2) &amp;&amp; test.getEndDateAsDate().after(year2)) || year2.equals(test.getStartDateAsDate()) || year2.equals(test.getEndDateAsDate())) {\r\n                return Integer.parseInt(isoSDFTest.format(test.getStartDateAsDate()));\r\n            }\r\n            \r\n            if ((testBefore.getStartDateAsDate().before(year2) &amp;&amp; testBefore.getEndDateAsDate().after(year2)) || year2.equals(testBefore.getStartDateAsDate()) || year2.equals(testBefore.getEndDateAsDate())) {\r\n                return Integer.parseInt(isoSDFTest.format(testBefore.getStartDateAsDate()));\r\n            }\r\n            \r\n            if ((testAfter.getStartDateAsDate().before(year2) &amp;&amp; testAfter.getEndDateAsDate().after(year2)) || year2.equals(testAfter.getStartDateAsDate()) || year2.equals(testAfter.getEndDateAsDate())) {\r\n                return Integer.parseInt(isoSDFTest.format(testAfter.getStartDateAsDate()));\r\n            }\r\n            \r\n            throw new Exception(&quot;Issue figuring window out&quot;);\r\n        }\r\n    \r\n        private void setName() {\r\n            // TODO Auto-generated method stub\r\n            String fy = &quot;FY&quot;;\r\n            this.fyName = fy+String.valueOf(year+1).substring(2,4);\r\n        }\r\n    \r\n        private void setYearMonth() {\r\n            // TODO Auto-generated method stub\r\n            String []  arr = fyAnnualStartDate.split(&quot;-&quot;);\r\n            month = Integer.parseInt(arr[0])-1;\r\n            day = Integer.parseInt(arr[1]);\r\n        }\r\n    \r\n        private void setDates() throws ParseException {\r\n            // TODO Auto-generated method stub\r\n            isoSDF.setTimeZone(TimeZone.getTimeZone(timeZone));\r\n    \r\n            Calendar cal = Calendar.getInstance();\r\n            cal.setTimeZone(TimeZone.getTimeZone(timeZone));\r\n            cal.set(Calendar.YEAR, year);\r\n            cal.set(Calendar.MONTH, month);\r\n            cal.set(Calendar.DAY_OF_MONTH, day);\r\n            cal.set(Calendar.HOUR_OF_DAY,0);\r\n            cal.set(Calendar.MINUTE,0);\r\n            cal.set(Calendar.SECOND,0);\r\n            cal.set(Calendar.MILLISECOND,0);\r\n    \r\n            fyCalStart = cal;\r\n            fyStartDate = cal.getTime();\r\n    \r\n            Calendar endCal = (Calendar) cal.clone();\r\n            endCal.add(Calendar.YEAR, 1);\r\n            endCal.add(Calendar.SECOND,-1);\r\n    \r\n            fyCalEnd = endCal;\r\n            fyEndDate = endCal.getTime();\r\n    \r\n            statusTime = isoSDF.parse(isoSDF.format(new Date()));\r\n            stringTime = isoSDF.format(statusTime);\r\n        }\r\n    \r\n        public String getStartDate() {\r\n            return isoSDF.format(fyStartDate);\r\n        }\r\n    \r\n        public String getEndDate() {\r\n            return  isoSDF.format(fyEndDate);\r\n        }\r\n        \r\n        public Date getStartDateAsDate() {\r\n            return fyStartDate;\r\n        }\r\n    \r\n        public Date getEndDateAsDate() {\r\n            return  fyEndDate;\r\n        }\r\n    \r\n        public void shiftWindow(int shift) {\r\n            fyCalStart.add(Calendar.YEAR, shift);\r\n            fyCalEnd.add(Calendar.YEAR, shift);\r\n            fyStartDate = fyCalStart.getTime();\r\n            fyEndDate = fyCalEnd.getTime();\r\n            year = year + shift;\r\n            setName();\r\n        }\r\n    \r\n        public String getQuarterStartDate(int quarter) throws Exception {\r\n            Calendar temp =  (Calendar) fyCalStart.clone();\r\n    \r\n            quarter = validateQuarter(quarter);\r\n    \r\n            if (quarter==1) {\r\n    \r\n            } else if (quarter==2) {\r\n                temp.add(Calendar.MONTH, 3);\r\n            } else if (quarter==3) {\r\n                temp.add(Calendar.MONTH, 6);\r\n            } else {\r\n                temp.add(Calendar.MONTH, 9);\r\n            }\r\n    \r\n            Date tempDate = temp.getTime();\r\n            return isoSDF.format(tempDate);\r\n        }\r\n    \r\n        public String getQuarterEndDate(int quarter) throws Exception {\r\n            Calendar temp = (Calendar) fyCalEnd.clone();\r\n    \r\n            quarter = validateQuarter(quarter);\r\n    \r\n            if (quarter==1) {\r\n                temp.add(Calendar.MONTH, -9);\r\n            } else if (quarter==2) {\r\n                temp.add(Calendar.MONTH, -6);\r\n            } else if (quarter==3) {\r\n                temp.add(Calendar.MONTH, -3);\r\n            } else {\r\n    \r\n            }\r\n    \r\n            Date tempDate = temp.getTime();\r\n            return isoSDF.format(tempDate);\r\n        }\r\n    \r\n        public String getMonthStartDate(int quarter, int month) throws Exception {\r\n            Calendar temp =  (Calendar) fyCalStart.clone();\r\n    \r\n            quarter = validateQuarter(quarter);\r\n            month = validateMonth(month);\r\n    \r\n            if (quarter==1) {\r\n                if (month==1) {\r\n    \r\n                } else if (month==2) {\r\n                    temp.add(Calendar.MONTH, 1);\r\n                } else {\r\n                    temp.add(Calendar.MONTH, 2);\r\n                }\r\n            } else if (quarter==2) {\r\n                if (month==1) {\r\n                    temp.add(Calendar.MONTH, 3);\r\n                } else if (month==2) {\r\n                    temp.add(Calendar.MONTH, 4);\r\n                } else {\r\n                    temp.add(Calendar.MONTH, 5);\r\n                }\r\n            } else if (quarter==3) {\r\n                if (month==1) {\r\n                    temp.add(Calendar.MONTH, 6);\r\n                } else if (month==2) {\r\n                    temp.add(Calendar.MONTH, 7);\r\n                } else {\r\n                    temp.add(Calendar.MONTH, 8);\r\n                }\r\n            } else {\r\n                if (month==1) {\r\n                    temp.add(Calendar.MONTH, 9);\r\n                } else if (month==2) {\r\n                    temp.add(Calendar.MONTH, 10);\r\n                } else {\r\n                    temp.add(Calendar.MONTH, 11);\r\n                }\r\n            }\r\n    \r\n            Date tempDate = temp.getTime();\r\n            return isoSDF.format(tempDate);\r\n        }\r\n    \r\n        public String getMonthEndDate(int quarter, int month) throws Exception {\r\n            Calendar temp = (Calendar) fyCalEnd.clone();\r\n    \r\n            quarter = validateQuarter(quarter);\r\n            month = validateMonth(month);\r\n    \r\n            if (quarter==1) {\r\n                if (month==1) {\r\n                    temp.add(Calendar.MONTH, -11);\r\n                } else if (month==2) {\r\n                    temp.add(Calendar.MONTH, -10);\r\n                } else {\r\n                    temp.add(Calendar.MONTH, -9);\r\n                }\r\n            } else if (quarter==2) {\r\n                if (month==1) {\r\n                    temp.add(Calendar.MONTH, -8);\r\n                } else if (month==2) {\r\n                    temp.add(Calendar.MONTH, -7);\r\n                } else {\r\n                    temp.add(Calendar.MONTH, -6);\r\n                }\r\n            } else if (quarter==3) {\r\n                if (month==1) {\r\n                    temp.add(Calendar.MONTH, -5);\r\n                } else if (month==2) {\r\n                    temp.add(Calendar.MONTH, -4);\r\n                } else {\r\n                    temp.add(Calendar.MONTH, -3);\r\n                }\r\n            } else {\r\n                if (month==1) {\r\n                    temp.add(Calendar.MONTH, -2);\r\n                } else if (month==2) {\r\n                    temp.add(Calendar.MONTH, -1);\r\n                } else {\r\n    \r\n                }\r\n            }\r\n    \r\n            Date tempDate = temp.getTime();\r\n            return isoSDF.format(tempDate);\r\n        }\r\n    \r\n        public Date getQuarterStartDateAsDate(int quarter) throws Exception {\r\n            Calendar temp =  (Calendar) fyCalStart.clone();\r\n    \r\n            quarter = validateQuarter(quarter);\r\n    \r\n            if (quarter==1) {\r\n    \r\n            } else if (quarter==2) {\r\n                temp.add(Calendar.MONTH, 3);\r\n            } else if (quarter==3) {\r\n                temp.add(Calendar.MONTH, 6);\r\n            } else {\r\n                temp.add(Calendar.MONTH, 9);\r\n            }\r\n    \r\n            \r\n            Date tempDate = temp.getTime();\r\n            \r\n            return tempDate;\r\n        }\r\n    \r\n        public Date getQuarterEndDateAsDate(int quarter) throws Exception {\r\n            Calendar temp = (Calendar) fyCalEnd.clone();\r\n    \r\n            quarter = validateQuarter(quarter);\r\n    \r\n            if (quarter==1) {\r\n                temp.add(Calendar.MONTH, -9);\r\n            } else if (quarter==2) {\r\n                temp.add(Calendar.MONTH, -6);\r\n            } else if (quarter==3) {\r\n                temp.add(Calendar.MONTH, -3);\r\n            } else {\r\n    \r\n            }\r\n            \r\n            Date tempDate = temp.getTime();\r\n            \r\n            return tempDate;\r\n        }\r\n    \r\n        public Date getMonthStartDateAsDate(int quarter, int month) throws Exception {\r\n            Calendar temp =  (Calendar) fyCalStart.clone();\r\n    \r\n            quarter = validateQuarter(quarter);\r\n            month = validateMonth(month);\r\n    \r\n            if (quarter==1) {\r\n                if (month==1) {\r\n    \r\n                } else if (month==2) {\r\n                    temp.add(Calendar.MONTH, 1);\r\n                } else {\r\n                    temp.add(Calendar.MONTH, 2);\r\n                }\r\n            } else if (quarter==2) {\r\n                if (month==1) {\r\n                    temp.add(Calendar.MONTH, 3);\r\n                } else if (month==2) {\r\n                    temp.add(Calendar.MONTH, 4);\r\n                } else {\r\n                    temp.add(Calendar.MONTH, 5);\r\n                }\r\n            } else if (quarter==3) {\r\n                if (month==1) {\r\n                    temp.add(Calendar.MONTH, 6);\r\n                } else if (month==2) {\r\n                    temp.add(Calendar.MONTH, 7);\r\n                } else {\r\n                    temp.add(Calendar.MONTH, 8);\r\n                }\r\n            } else {\r\n                if (month==1) {\r\n                    temp.add(Calendar.MONTH, 9);\r\n                } else if (month==2) {\r\n                    temp.add(Calendar.MONTH, 10);\r\n                } else {\r\n                    temp.add(Calendar.MONTH, 11);\r\n                }\r\n            }\r\n            \r\n            Date tempDate = temp.getTime();\r\n            \r\n            return tempDate;\r\n        }\r\n    \r\n        public Date getMonthEndDateAsDate(int quarter, int month) throws Exception {\r\n            Calendar temp = (Calendar) fyCalEnd.clone();\r\n    \r\n            quarter = validateQuarter(quarter);\r\n            month = validateMonth(month);\r\n    \r\n            if (quarter==1) {\r\n                if (month==1) {\r\n                    temp.add(Calendar.MONTH, -11);\r\n                } else if (month==2) {\r\n                    temp.add(Calendar.MONTH, -10);\r\n                } else {\r\n                    temp.add(Calendar.MONTH, -9);\r\n                }\r\n            } else if (quarter==2) {\r\n                if (month==1) {\r\n                    temp.add(Calendar.MONTH, -8);\r\n                } else if (month==2) {\r\n                    temp.add(Calendar.MONTH, -7);\r\n                } else {\r\n                    temp.add(Calendar.MONTH, -6);\r\n                }\r\n            } else if (quarter==3) {\r\n                if (month==1) {\r\n                    temp.add(Calendar.MONTH, -5);\r\n                } else if (month==2) {\r\n                    temp.add(Calendar.MONTH, -4);\r\n                } else {\r\n                    temp.add(Calendar.MONTH, -3);\r\n                }\r\n            } else {\r\n                if (month==1) {\r\n                    temp.add(Calendar.MONTH, -2);\r\n                } else if (month==2) {\r\n                    temp.add(Calendar.MONTH, -1);\r\n                } else {\r\n    \r\n                }\r\n            }\r\n            \r\n            Date tempDate = temp.getTime();\r\n            \r\n            return tempDate;\r\n        }\r\n        \r\n        /**\r\n         * Gets the current FY year based on start year\r\n         * @return\r\n         */\r\n        public String getFYName() {\r\n            return fyName;\r\n        }\r\n    \r\n        /**\r\n         * Gets a systematic name for the FY year plus quarter\r\n         * @param quarter\r\n         * @return\r\n         * @throws Exception\r\n         */\r\n        public String getQuarterName(int quarter) throws Exception {\r\n            quarter=validateQuarter(quarter);\r\n            return fyName+&quot;.Q&quot;+quarter;\r\n        }\r\n    \r\n        /**\r\n         * Gets a systematic name for the FY year, quarter and month\r\n         * @param quarter\r\n         * @param month\r\n         * @return\r\n         * @throws Exception\r\n         */\r\n        public String getMonthName(int quarter, int month) throws Exception {\r\n            quarter=validateQuarter(quarter);\r\n            month=validateMonth(month);\r\n            return fyName+&quot;.Q&quot;+quarter+&quot;.M&quot;+month;\r\n        }\r\n    \r\n        public int validateQuarter(int quarter) throws Exception {\r\n            int [] test = {1,2,3,4};\r\n    \r\n            for(int i:test) {\r\n                if (i==quarter) {\r\n                    return i;\r\n                }\r\n            }\r\n    \r\n            throw new Exception(&quot;Invalid Quarter&quot;);\r\n        }\r\n    \r\n        public int validateMonth(int month) throws Exception {\r\n            int [] test = {1,2,3};\r\n    \r\n            for(int i:test) {\r\n                if (i==month) {\r\n                    return i;\r\n                }\r\n            }\r\n\r\n            throw new Exception(&quot;Invalid Month&quot;);\r\n        }\r\n    \r\n        /**\r\n         * Method tests if given a string format does it belong to the current fiscalyear\r\n         * Does not say if its a future or past just returns true or false\r\n         * @param fy\r\n         * @return\r\n         * @throws Exception \r\n         */\r\n        public static boolean inCurrentFyWindow(String fy) throws Exception {\r\n            Date yearTest = new Date();\r\n            FiscalYear test = new FiscalYear(yearTest);\r\n    \r\n            if (fy.length()==8 ||fy.length()==6) {\r\n                //FY21Q1M1\r\n                String fyName = fy.split(&quot;Q&quot;)[0];\r\n    \r\n                if (test.getFYName().toLowerCase().equals(fyName.toLowerCase())) {\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n    \r\n            } else {\r\n                //FY21\r\n                if (test.getFYName().toLowerCase().equals(fy.toLowerCase())) {\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        \r\n        /**\r\n         * Method tests if the string for FiscalYear being passed has passed or not based on the current FiscalYear\r\n         * \r\n         * This can test FY year, FY year, quarter and finally FY year, quarter and month combinations\r\n         * \r\n         * @param fy\r\n         * @return\r\n         * @throws Exception\r\n         */\r\n        public static boolean hasWindowHappenedFully(String fy) throws Exception {\r\n            Date yearTest = new Date();\r\n            \r\n            if (fy.length()==8) {\r\n                //FY21Q1M1\r\n                String fyName = &quot;20&quot; + fy.substring(2, 4);\r\n                int quarter = Integer.parseInt(fy.substring(5, 6));\r\n                int month = Integer.parseInt(fy.substring(7, 8));\r\n                \r\n                FiscalYear yQM = new FiscalYear(Integer.parseInt(fyName)-1);\r\n                \r\n                if (yearTest.after(yQM.getMonthEndDateAsDate(quarter, month))) {\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            } else if (fy.length()==6) {\r\n                //FY21Q1\r\n                String fyName = &quot;20&quot; + fy.substring(2, 4);\r\n                int quarter = Integer.parseInt(fy.substring(5, 6));\r\n    \r\n                FiscalYear yQM = new FiscalYear(Integer.parseInt(fyName)-1);\r\n    \r\n                if (yearTest.after(yQM.getQuarterEndDateAsDate(quarter))) {\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            } else {\r\n                //FY21\r\n                String fyName = &quot;20&quot; + fy.substring(2, 4);\r\n    \r\n                FiscalYear yQM = new FiscalYear(Integer.parseInt(fyName)-1);\r\n                \r\n                if (yearTest.after(yQM.getEndDateAsDate())) {\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        \r\n        public static String getCurrentFiscalYear() throws Exception {\r\n            Date yearTest = new Date();\r\n            FiscalYear test = new FiscalYear(yearTest);\r\n            return  test.getFYName();\r\n        }\r\n        \r\n        public static String getCurrentFiscalYearQuarter() throws Exception {\r\n            Date yearTest = new Date();\r\n            FiscalYear test = new FiscalYear(yearTest);\r\n            \r\n            for(int q=1; q&lt;=4; q++ ) {\r\n                for(int m=1; m&lt;=3; m++ )\r\n                    if (test.getMonthStartDateAsDate(q, m).before(yearTest) &amp;&amp; test.getMonthEndDateAsDate(q, m).after(yearTest)) {\r\n                        return test.getFYName()+&quot;.Q&quot;+q;\r\n                    }\r\n                \r\n            }\r\n            \r\n            return test.getFYName();\r\n        }\r\n        \r\n        public static String getCurrentFiscalYearQuarterMonth() throws Exception {\r\n            Date yearTest = new Date();\r\n            FiscalYear test = new FiscalYear(yearTest);\r\n            \r\n            for(int q=1; q&lt;=4; q++ ) {\r\n                for(int m=1; m&lt;=3; m++ )\r\n                    if (test.getMonthStartDateAsDate(q, m).before(yearTest) &amp;&amp; test.getMonthEndDateAsDate(q, m).after(yearTest)) {\r\n                        return test.getFYName()+&quot;.Q&quot;+q+&quot;.M&quot;+m;\r\n                    }\r\n                \r\n            }\r\n            \r\n            return test.getFYName();\r\n        }\r\n        \r\n        public static String getFiscalYear(Date year2) throws Exception {\r\n            FiscalYear test = new FiscalYear(year2);\r\n            return test.getFYName();\r\n        }\r\n        \r\n        public static String getFiscalYearQuarter(Date year2) throws Exception {\r\n            FiscalYear test = new FiscalYear(year2);\r\n            \r\n            for(int q=1; q&lt;=4; q++ ) {\r\n                for(int m=1; m&lt;=3; m++ )\r\n                    if (test.getMonthStartDateAsDate(q, m).before(year2) &amp;&amp; test.getMonthEndDateAsDate(q, m).after(year2) || year2.equals(test.getMonthStartDateAsDate(q, m)) || year2.equals(test.getMonthEndDateAsDate(q, m))) {\r\n                        return test.getFYName()+&quot;.Q&quot;+q+&quot;.M&quot;+m;\r\n                    }\r\n                \r\n            }\r\n            \r\n            return test.getFYName();\r\n        }\r\n        \r\n        public static String getFiscalYearQuarterMonth(Date year2) throws Exception {\r\n            FiscalYear test = new FiscalYear(year2);\r\n            \r\n            for(int q=1; q&lt;=4; q++ ) {\r\n                for(int m=1; m&lt;=3; m++ )\r\n                    if (test.getMonthStartDateAsDate(q, m).before(year2) &amp;&amp; test.getMonthEndDateAsDate(q, m).after(year2) || year2.equals(test.getMonthStartDateAsDate(q, m)) || year2.equals(test.getMonthEndDateAsDate(q, m))) {\r\n                        return test.getFYName()+&quot;.Q&quot;+q+&quot;.M&quot;+m;\r\n                    }\r\n                \r\n            }\r\n            \r\n            return test.getFYName();\r\n        }\r\n\r\n    }\r\n","title":"Get Current Financial Year ( YYYY-YYYY) from Current Date","body":"<p>This code allows you to set an anniversary date and set the fiscal year on different constructors with the given assumptions.</p>\n<pre><code>public class FiscalYear {\n\n    public String fyAnnualStartDate = &quot;02-01&quot;;\n    public Calendar fyCalStart;\n    public Calendar fyCalEnd;\n    public Date fyStartDate;\n    public Date fyEndDate;\n    public int year;\n    public int month;\n    public int day;\n    public String timeZone = &quot;PST&quot;;\n    protected  SimpleDateFormat isoSDF = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSZ&quot;);\n    public  Date statusTime = null;\n    public  String stringTime = &quot;&quot;;\n    public String fyName;\n\n    /**\n     * This is our lazy constructor assumes this is 02-01 for the start year and PST for the time zone\n     * \n     * Assumes that the year passed is the start of the year which assigns to the fiscal year\n     * \n     * I.E. 2020 would be fy21\n     * \n     * @param year\n     * @throws ParseException\n     */\n    public FiscalYear(int year) throws ParseException {\n        // TODO Auto-generated constructor stub\n        this.year = year;\n        setYearMonth();\n        setDates();\n        setName();\n    }\n\n    public FiscalYear(int year, String zone) throws ParseException {\n        // TODO Auto-generated constructor stub\n        this.year = year;\n        this.timeZone = zone;\n        setYearMonth();\n        setDates();\n        setName();\n    }\n    \n    /**\n     * This constructor allows you to set the annualstartdate if you need to adjust the fiscal year to a new company\n     * @param year\n     * @param zone\n     * @param annualStartDate\n     * @throws ParseException\n     */\n    public FiscalYear(int year, String zone, String annualStartDate) throws ParseException {\n        // TODO Auto-generated constructor stub\n        \n        this.fyAnnualStartDate = annualStartDate;\n        this.year = year;\n        this.timeZone = zone;\n        setYearMonth();\n        setDates();\n        setName();\n    }\n    \n    /**\n     * This constructor allows you to set the annualstartdate if you need to adjust the fiscal year to a new company\n     * However this allows you to provide the current date or date in general to confirm the true fiscal year\n     * @param year\n     * @param zone\n     * @param annualStartDate\n     * @throws Exception\n     */\n    public FiscalYear(Date year, String zone, String annualStartDate) throws Exception {\n        // TODO Auto-generated constructor stub\n        \n        this.timeZone = zone;\n        this.fyAnnualStartDate = annualStartDate;\n        this.year = getActualYear(year);\n        setYearMonth();\n        setDates();\n        setName();\n    }\n    \n    /**\n     * This constructor allows you to provide the current date or date in general to confirm the true fiscal year\n     * Default annual start date is set in var fyAnnualStartDate\n     * \n     * @param year\n     * @throws Exception\n     */\n    public FiscalYear(Date year) throws Exception {\n        // TODO Auto-generated constructor stub\n        \n        this.year = getActualYear(year);\n        setYearMonth();\n        setDates();\n        setName();\n    }\n    \n    /**\n     * Gets the actual FY to be correct given the window can a Fiscal year can have two years within it\n     * \n     * This tests to figure out which FY this should instantiate to given the date you are providing based on the start date and logic that\n     * Fiscal Year 21 corresponds to the a lesser actual start year \n     * I.E. 2020 would be fy21\n     * @param year2\n     * @return\n     * @throws Exception\n     */\n    public static int getActualYear(Date year2) throws Exception {\n        // TODO Auto-generated method stub\n        SimpleDateFormat isoSDFTest = new SimpleDateFormat(&quot;yyyy&quot;);\n        \n        FiscalYear test = new FiscalYear(Integer.parseInt(isoSDFTest.format(year2)));\n        FiscalYear testBefore = new FiscalYear(Integer.parseInt(isoSDFTest.format(year2))-1);\n        FiscalYear testAfter = new FiscalYear(Integer.parseInt(isoSDFTest.format(year2))+1);\n        \n        if ((test.getStartDateAsDate().before(year2) &amp;&amp; test.getEndDateAsDate().after(year2)) || year2.equals(test.getStartDateAsDate()) || year2.equals(test.getEndDateAsDate())) {\n            return Integer.parseInt(isoSDFTest.format(test.getStartDateAsDate()));\n        }\n        \n        if ((testBefore.getStartDateAsDate().before(year2) &amp;&amp; testBefore.getEndDateAsDate().after(year2)) || year2.equals(testBefore.getStartDateAsDate()) || year2.equals(testBefore.getEndDateAsDate())) {\n            return Integer.parseInt(isoSDFTest.format(testBefore.getStartDateAsDate()));\n        }\n        \n        if ((testAfter.getStartDateAsDate().before(year2) &amp;&amp; testAfter.getEndDateAsDate().after(year2)) || year2.equals(testAfter.getStartDateAsDate()) || year2.equals(testAfter.getEndDateAsDate())) {\n            return Integer.parseInt(isoSDFTest.format(testAfter.getStartDateAsDate()));\n        }\n        \n        throw new Exception(&quot;Issue figuring window out&quot;);\n    }\n\n    private void setName() {\n        // TODO Auto-generated method stub\n        String fy = &quot;FY&quot;;\n        this.fyName = fy+String.valueOf(year+1).substring(2,4);\n    }\n\n    private void setYearMonth() {\n        // TODO Auto-generated method stub\n        String []  arr = fyAnnualStartDate.split(&quot;-&quot;);\n        month = Integer.parseInt(arr[0])-1;\n        day = Integer.parseInt(arr[1]);\n    }\n\n    private void setDates() throws ParseException {\n        // TODO Auto-generated method stub\n        isoSDF.setTimeZone(TimeZone.getTimeZone(timeZone));\n\n        Calendar cal = Calendar.getInstance();\n        cal.setTimeZone(TimeZone.getTimeZone(timeZone));\n        cal.set(Calendar.YEAR, year);\n        cal.set(Calendar.MONTH, month);\n        cal.set(Calendar.DAY_OF_MONTH, day);\n        cal.set(Calendar.HOUR_OF_DAY,0);\n        cal.set(Calendar.MINUTE,0);\n        cal.set(Calendar.SECOND,0);\n        cal.set(Calendar.MILLISECOND,0);\n\n        fyCalStart = cal;\n        fyStartDate = cal.getTime();\n\n        Calendar endCal = (Calendar) cal.clone();\n        endCal.add(Calendar.YEAR, 1);\n        endCal.add(Calendar.SECOND,-1);\n\n        fyCalEnd = endCal;\n        fyEndDate = endCal.getTime();\n\n        statusTime = isoSDF.parse(isoSDF.format(new Date()));\n        stringTime = isoSDF.format(statusTime);\n    }\n\n    public String getStartDate() {\n        return isoSDF.format(fyStartDate);\n    }\n\n    public String getEndDate() {\n        return  isoSDF.format(fyEndDate);\n    }\n    \n    public Date getStartDateAsDate() {\n        return fyStartDate;\n    }\n\n    public Date getEndDateAsDate() {\n        return  fyEndDate;\n    }\n\n    public void shiftWindow(int shift) {\n        fyCalStart.add(Calendar.YEAR, shift);\n        fyCalEnd.add(Calendar.YEAR, shift);\n        fyStartDate = fyCalStart.getTime();\n        fyEndDate = fyCalEnd.getTime();\n        year = year + shift;\n        setName();\n    }\n\n    public String getQuarterStartDate(int quarter) throws Exception {\n        Calendar temp =  (Calendar) fyCalStart.clone();\n\n        quarter = validateQuarter(quarter);\n\n        if (quarter==1) {\n\n        } else if (quarter==2) {\n            temp.add(Calendar.MONTH, 3);\n        } else if (quarter==3) {\n            temp.add(Calendar.MONTH, 6);\n        } else {\n            temp.add(Calendar.MONTH, 9);\n        }\n\n        Date tempDate = temp.getTime();\n        return isoSDF.format(tempDate);\n    }\n\n    public String getQuarterEndDate(int quarter) throws Exception {\n        Calendar temp = (Calendar) fyCalEnd.clone();\n\n        quarter = validateQuarter(quarter);\n\n        if (quarter==1) {\n            temp.add(Calendar.MONTH, -9);\n        } else if (quarter==2) {\n            temp.add(Calendar.MONTH, -6);\n        } else if (quarter==3) {\n            temp.add(Calendar.MONTH, -3);\n        } else {\n\n        }\n\n        Date tempDate = temp.getTime();\n        return isoSDF.format(tempDate);\n    }\n\n    public String getMonthStartDate(int quarter, int month) throws Exception {\n        Calendar temp =  (Calendar) fyCalStart.clone();\n\n        quarter = validateQuarter(quarter);\n        month = validateMonth(month);\n\n        if (quarter==1) {\n            if (month==1) {\n\n            } else if (month==2) {\n                temp.add(Calendar.MONTH, 1);\n            } else {\n                temp.add(Calendar.MONTH, 2);\n            }\n        } else if (quarter==2) {\n            if (month==1) {\n                temp.add(Calendar.MONTH, 3);\n            } else if (month==2) {\n                temp.add(Calendar.MONTH, 4);\n            } else {\n                temp.add(Calendar.MONTH, 5);\n            }\n        } else if (quarter==3) {\n            if (month==1) {\n                temp.add(Calendar.MONTH, 6);\n            } else if (month==2) {\n                temp.add(Calendar.MONTH, 7);\n            } else {\n                temp.add(Calendar.MONTH, 8);\n            }\n        } else {\n            if (month==1) {\n                temp.add(Calendar.MONTH, 9);\n            } else if (month==2) {\n                temp.add(Calendar.MONTH, 10);\n            } else {\n                temp.add(Calendar.MONTH, 11);\n            }\n        }\n\n        Date tempDate = temp.getTime();\n        return isoSDF.format(tempDate);\n    }\n\n    public String getMonthEndDate(int quarter, int month) throws Exception {\n        Calendar temp = (Calendar) fyCalEnd.clone();\n\n        quarter = validateQuarter(quarter);\n        month = validateMonth(month);\n\n        if (quarter==1) {\n            if (month==1) {\n                temp.add(Calendar.MONTH, -11);\n            } else if (month==2) {\n                temp.add(Calendar.MONTH, -10);\n            } else {\n                temp.add(Calendar.MONTH, -9);\n            }\n        } else if (quarter==2) {\n            if (month==1) {\n                temp.add(Calendar.MONTH, -8);\n            } else if (month==2) {\n                temp.add(Calendar.MONTH, -7);\n            } else {\n                temp.add(Calendar.MONTH, -6);\n            }\n        } else if (quarter==3) {\n            if (month==1) {\n                temp.add(Calendar.MONTH, -5);\n            } else if (month==2) {\n                temp.add(Calendar.MONTH, -4);\n            } else {\n                temp.add(Calendar.MONTH, -3);\n            }\n        } else {\n            if (month==1) {\n                temp.add(Calendar.MONTH, -2);\n            } else if (month==2) {\n                temp.add(Calendar.MONTH, -1);\n            } else {\n\n            }\n        }\n\n        Date tempDate = temp.getTime();\n        return isoSDF.format(tempDate);\n    }\n\n    public Date getQuarterStartDateAsDate(int quarter) throws Exception {\n        Calendar temp =  (Calendar) fyCalStart.clone();\n\n        quarter = validateQuarter(quarter);\n\n        if (quarter==1) {\n\n        } else if (quarter==2) {\n            temp.add(Calendar.MONTH, 3);\n        } else if (quarter==3) {\n            temp.add(Calendar.MONTH, 6);\n        } else {\n            temp.add(Calendar.MONTH, 9);\n        }\n\n        \n        Date tempDate = temp.getTime();\n        \n        return tempDate;\n    }\n\n    public Date getQuarterEndDateAsDate(int quarter) throws Exception {\n        Calendar temp = (Calendar) fyCalEnd.clone();\n\n        quarter = validateQuarter(quarter);\n\n        if (quarter==1) {\n            temp.add(Calendar.MONTH, -9);\n        } else if (quarter==2) {\n            temp.add(Calendar.MONTH, -6);\n        } else if (quarter==3) {\n            temp.add(Calendar.MONTH, -3);\n        } else {\n\n        }\n        \n        Date tempDate = temp.getTime();\n        \n        return tempDate;\n    }\n\n    public Date getMonthStartDateAsDate(int quarter, int month) throws Exception {\n        Calendar temp =  (Calendar) fyCalStart.clone();\n\n        quarter = validateQuarter(quarter);\n        month = validateMonth(month);\n\n        if (quarter==1) {\n            if (month==1) {\n\n            } else if (month==2) {\n                temp.add(Calendar.MONTH, 1);\n            } else {\n                temp.add(Calendar.MONTH, 2);\n            }\n        } else if (quarter==2) {\n            if (month==1) {\n                temp.add(Calendar.MONTH, 3);\n            } else if (month==2) {\n                temp.add(Calendar.MONTH, 4);\n            } else {\n                temp.add(Calendar.MONTH, 5);\n            }\n        } else if (quarter==3) {\n            if (month==1) {\n                temp.add(Calendar.MONTH, 6);\n            } else if (month==2) {\n                temp.add(Calendar.MONTH, 7);\n            } else {\n                temp.add(Calendar.MONTH, 8);\n            }\n        } else {\n            if (month==1) {\n                temp.add(Calendar.MONTH, 9);\n            } else if (month==2) {\n                temp.add(Calendar.MONTH, 10);\n            } else {\n                temp.add(Calendar.MONTH, 11);\n            }\n        }\n        \n        Date tempDate = temp.getTime();\n        \n        return tempDate;\n    }\n\n    public Date getMonthEndDateAsDate(int quarter, int month) throws Exception {\n        Calendar temp = (Calendar) fyCalEnd.clone();\n\n        quarter = validateQuarter(quarter);\n        month = validateMonth(month);\n\n        if (quarter==1) {\n            if (month==1) {\n                temp.add(Calendar.MONTH, -11);\n            } else if (month==2) {\n                temp.add(Calendar.MONTH, -10);\n            } else {\n                temp.add(Calendar.MONTH, -9);\n            }\n        } else if (quarter==2) {\n            if (month==1) {\n                temp.add(Calendar.MONTH, -8);\n            } else if (month==2) {\n                temp.add(Calendar.MONTH, -7);\n            } else {\n                temp.add(Calendar.MONTH, -6);\n            }\n        } else if (quarter==3) {\n            if (month==1) {\n                temp.add(Calendar.MONTH, -5);\n            } else if (month==2) {\n                temp.add(Calendar.MONTH, -4);\n            } else {\n                temp.add(Calendar.MONTH, -3);\n            }\n        } else {\n            if (month==1) {\n                temp.add(Calendar.MONTH, -2);\n            } else if (month==2) {\n                temp.add(Calendar.MONTH, -1);\n            } else {\n\n            }\n        }\n        \n        Date tempDate = temp.getTime();\n        \n        return tempDate;\n    }\n    \n    /**\n     * Gets the current FY year based on start year\n     * @return\n     */\n    public String getFYName() {\n        return fyName;\n    }\n\n    /**\n     * Gets a systematic name for the FY year plus quarter\n     * @param quarter\n     * @return\n     * @throws Exception\n     */\n    public String getQuarterName(int quarter) throws Exception {\n        quarter=validateQuarter(quarter);\n        return fyName+&quot;.Q&quot;+quarter;\n    }\n\n    /**\n     * Gets a systematic name for the FY year, quarter and month\n     * @param quarter\n     * @param month\n     * @return\n     * @throws Exception\n     */\n    public String getMonthName(int quarter, int month) throws Exception {\n        quarter=validateQuarter(quarter);\n        month=validateMonth(month);\n        return fyName+&quot;.Q&quot;+quarter+&quot;.M&quot;+month;\n    }\n\n    public int validateQuarter(int quarter) throws Exception {\n        int [] test = {1,2,3,4};\n\n        for(int i:test) {\n            if (i==quarter) {\n                return i;\n            }\n        }\n\n        throw new Exception(&quot;Invalid Quarter&quot;);\n    }\n\n    public int validateMonth(int month) throws Exception {\n        int [] test = {1,2,3};\n\n        for(int i:test) {\n            if (i==month) {\n                return i;\n            }\n        }\n\n        throw new Exception(&quot;Invalid Month&quot;);\n    }\n\n    /**\n     * Method tests if given a string format does it belong to the current fiscalyear\n     * Does not say if its a future or past just returns true or false\n     * @param fy\n     * @return\n     * @throws Exception \n     */\n    public static boolean inCurrentFyWindow(String fy) throws Exception {\n        Date yearTest = new Date();\n        FiscalYear test = new FiscalYear(yearTest);\n\n        if (fy.length()==8 ||fy.length()==6) {\n            //FY21Q1M1\n            String fyName = fy.split(&quot;Q&quot;)[0];\n\n            if (test.getFYName().toLowerCase().equals(fyName.toLowerCase())) {\n                return true;\n            } else {\n                return false;\n            }\n\n        } else {\n            //FY21\n            if (test.getFYName().toLowerCase().equals(fy.toLowerCase())) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n    }\n    \n    /**\n     * Method tests if the string for FiscalYear being passed has passed or not based on the current FiscalYear\n     * \n     * This can test FY year, FY year, quarter and finally FY year, quarter and month combinations\n     * \n     * @param fy\n     * @return\n     * @throws Exception\n     */\n    public static boolean hasWindowHappenedFully(String fy) throws Exception {\n        Date yearTest = new Date();\n        \n        if (fy.length()==8) {\n            //FY21Q1M1\n            String fyName = &quot;20&quot; + fy.substring(2, 4);\n            int quarter = Integer.parseInt(fy.substring(5, 6));\n            int month = Integer.parseInt(fy.substring(7, 8));\n            \n            FiscalYear yQM = new FiscalYear(Integer.parseInt(fyName)-1);\n            \n            if (yearTest.after(yQM.getMonthEndDateAsDate(quarter, month))) {\n                return true;\n            } else {\n                return false;\n            }\n        } else if (fy.length()==6) {\n            //FY21Q1\n            String fyName = &quot;20&quot; + fy.substring(2, 4);\n            int quarter = Integer.parseInt(fy.substring(5, 6));\n\n            FiscalYear yQM = new FiscalYear(Integer.parseInt(fyName)-1);\n\n            if (yearTest.after(yQM.getQuarterEndDateAsDate(quarter))) {\n                return true;\n            } else {\n                return false;\n            }\n        } else {\n            //FY21\n            String fyName = &quot;20&quot; + fy.substring(2, 4);\n\n            FiscalYear yQM = new FiscalYear(Integer.parseInt(fyName)-1);\n            \n            if (yearTest.after(yQM.getEndDateAsDate())) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n    }\n    \n    public static String getCurrentFiscalYear() throws Exception {\n        Date yearTest = new Date();\n        FiscalYear test = new FiscalYear(yearTest);\n        return  test.getFYName();\n    }\n    \n    public static String getCurrentFiscalYearQuarter() throws Exception {\n        Date yearTest = new Date();\n        FiscalYear test = new FiscalYear(yearTest);\n        \n        for(int q=1; q&lt;=4; q++ ) {\n            for(int m=1; m&lt;=3; m++ )\n                if (test.getMonthStartDateAsDate(q, m).before(yearTest) &amp;&amp; test.getMonthEndDateAsDate(q, m).after(yearTest)) {\n                    return test.getFYName()+&quot;.Q&quot;+q;\n                }\n            \n        }\n        \n        return test.getFYName();\n    }\n    \n    public static String getCurrentFiscalYearQuarterMonth() throws Exception {\n        Date yearTest = new Date();\n        FiscalYear test = new FiscalYear(yearTest);\n        \n        for(int q=1; q&lt;=4; q++ ) {\n            for(int m=1; m&lt;=3; m++ )\n                if (test.getMonthStartDateAsDate(q, m).before(yearTest) &amp;&amp; test.getMonthEndDateAsDate(q, m).after(yearTest)) {\n                    return test.getFYName()+&quot;.Q&quot;+q+&quot;.M&quot;+m;\n                }\n            \n        }\n        \n        return test.getFYName();\n    }\n    \n    public static String getFiscalYear(Date year2) throws Exception {\n        FiscalYear test = new FiscalYear(year2);\n        return test.getFYName();\n    }\n    \n    public static String getFiscalYearQuarter(Date year2) throws Exception {\n        FiscalYear test = new FiscalYear(year2);\n        \n        for(int q=1; q&lt;=4; q++ ) {\n            for(int m=1; m&lt;=3; m++ )\n                if (test.getMonthStartDateAsDate(q, m).before(year2) &amp;&amp; test.getMonthEndDateAsDate(q, m).after(year2) || year2.equals(test.getMonthStartDateAsDate(q, m)) || year2.equals(test.getMonthEndDateAsDate(q, m))) {\n                    return test.getFYName()+&quot;.Q&quot;+q+&quot;.M&quot;+m;\n                }\n            \n        }\n        \n        return test.getFYName();\n    }\n    \n    public static String getFiscalYearQuarterMonth(Date year2) throws Exception {\n        FiscalYear test = new FiscalYear(year2);\n        \n        for(int q=1; q&lt;=4; q++ ) {\n            for(int m=1; m&lt;=3; m++ )\n                if (test.getMonthStartDateAsDate(q, m).before(year2) &amp;&amp; test.getMonthEndDateAsDate(q, m).after(year2) || year2.equals(test.getMonthStartDateAsDate(q, m)) || year2.equals(test.getMonthEndDateAsDate(q, m))) {\n                    return test.getFYName()+&quot;.Q&quot;+q+&quot;.M&quot;+m;\n                }\n            \n        }\n        \n        return test.getFYName();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2326808,"reputation":11,"user_id":5446718,"display_name":"user23509"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613072615,"creation_date":1613072615,"answer_id":66161727,"question_id":18616646,"body_markdown":"Javascript\r\n\r\n        let FY = document.getElementById(&quot;fYear&quot;);\r\n        FY.innerHTML = new Date().getMonth() &lt;= 9 ? &quot;Fiscal Year &quot;+new Date().getFullYear() : &quot;Fiscal Year &quot;+new Date().getFullYear() +1;","title":"Get Current Financial Year ( YYYY-YYYY) from Current Date","body":"<p>Javascript</p>\n<pre><code>    let FY = document.getElementById(&quot;fYear&quot;);\n    FY.innerHTML = new Date().getMonth() &lt;= 9 ? &quot;Fiscal Year &quot;+new Date().getFullYear() : &quot;Fiscal Year &quot;+new Date().getFullYear() +1;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13437764,"reputation":11,"user_id":9695738,"display_name":"Shashikant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641293749,"creation_date":1641291515,"answer_id":70577199,"question_id":18616646,"body_markdown":"Simple solution to find given date financial year in Java\r\n  \r\n    package testing;\r\n    \r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.time.LocalDate;\r\n    import java.time.ZoneId;\r\n    import java.util.Date;\r\n    \r\n    public class CurrentFinancialYear {\r\n    \r\n    \tpublic static void main(String[] args) throws ParseException {\r\n    \t\tSystem.out.println(getActualFinancialYear(&quot;01-02-2022 23:10:10&quot;));\r\n    \t}    \t\r\n\r\n    \tpublic static int getActualFinancialYear(String givendate) throws ParseException {\r\n    \t\t\r\n    \t\tSimpleDateFormat formatter = new SimpleDateFormat(&quot;dd-MM-yyyy HH:mm:ss&quot;);\r\n    \t\tDate givenDate=formatter.parse(givendate);\r\n    \t\tLocalDate localDate1 = givenDate.toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\r\n    \t\tint year = localDate1.getYear();\r\n    \t\tString fiscaldate = &quot;31-03-&quot; + year + &quot; 23:59:59&quot;;\r\n    \t\tDate fiscalDate = formatter.parse(fiscaldate);\r\n    \t\t\r\n    \t\tif (givenDate.before(fiscalDate)) {\r\n    \t\t\tyear = year - 1;\r\n    \t\t}\r\n    \t\treturn year;\r\n    \t}\r\n    }\r\n","title":"Get Current Financial Year ( YYYY-YYYY) from Current Date","body":"<p>Simple solution to find given date financial year in Java</p>\n<pre><code>package testing;\n\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.time.LocalDate;\nimport java.time.ZoneId;\nimport java.util.Date;\n\npublic class CurrentFinancialYear {\n\n    public static void main(String[] args) throws ParseException {\n        System.out.println(getActualFinancialYear(&quot;01-02-2022 23:10:10&quot;));\n    }       \n\n    public static int getActualFinancialYear(String givendate) throws ParseException {\n        \n        SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd-MM-yyyy HH:mm:ss&quot;);\n        Date givenDate=formatter.parse(givendate);\n        LocalDate localDate1 = givenDate.toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\n        int year = localDate1.getYear();\n        String fiscaldate = &quot;31-03-&quot; + year + &quot; 23:59:59&quot;;\n        Date fiscalDate = formatter.parse(fiscaldate);\n        \n        if (givenDate.before(fiscalDate)) {\n            year = year - 1;\n        }\n        return year;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6865726,"reputation":119,"user_id":5278260,"display_name":"Rajeev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648732986,"creation_date":1648732986,"answer_id":71693280,"question_id":18616646,"body_markdown":"    public static int getCurrentFromFinancialYear(String inputDate) {\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH:mm:ss:SSS&quot;);\r\n            LocalDate todayDateTime = LocalDate.parse(inputDate, formatter);\r\n            int year = todayDateTime.getYear();\r\n            String fiscalDateStr = &quot;01-04-&quot; + year + &quot; 00:00:00:000&quot;;\r\n            LocalDate fiscalDateTime = LocalDate.parse(fiscalDateStr, formatter);\r\n    \r\n            if (todayDateTime.isBefore(fiscalDateTime)) {\r\n                year = year - 1;\r\n            }\r\n            return year;\r\n        }","title":"Get Current Financial Year ( YYYY-YYYY) from Current Date","body":"<pre><code>public static int getCurrentFromFinancialYear(String inputDate) {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH:mm:ss:SSS&quot;);\n        LocalDate todayDateTime = LocalDate.parse(inputDate, formatter);\n        int year = todayDateTime.getYear();\n        String fiscalDateStr = &quot;01-04-&quot; + year + &quot; 00:00:00:000&quot;;\n        LocalDate fiscalDateTime = LocalDate.parse(fiscalDateStr, formatter);\n\n        if (todayDateTime.isBefore(fiscalDateTime)) {\n            year = year - 1;\n        }\n        return year;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5958620,"reputation":3514,"user_id":4684417,"accept_rate":0,"display_name":"Abhinav Saxena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679811486,"creation_date":1679811486,"answer_id":75846173,"question_id":18616646,"body_markdown":"    public String getFinancialYear() {\r\n        String finYear;\r\n        int year = Calendar.getInstance().get(Calendar.YEAR);\r\n        int month = Calendar.getInstance().get(Calendar.MONTH) + 1;\r\n\r\n        if (month &lt;= 3) {\r\n            finYear = year - 1 + &quot;-&quot; + year;\r\n        } else {\r\n            finYear = year + &quot;-&quot; + (year + 1);\r\n        }\r\n        return finYear;\r\n    }","title":"Get Current Financial Year ( YYYY-YYYY) from Current Date","body":"<pre><code>public String getFinancialYear() {\n    String finYear;\n    int year = Calendar.getInstance().get(Calendar.YEAR);\n    int month = Calendar.getInstance().get(Calendar.MONTH) + 1;\n\n    if (month &lt;= 3) {\n        finYear = year - 1 + &quot;-&quot; + year;\n    } else {\n        finYear = year + &quot;-&quot; + (year + 1);\n    }\n    return finYear;\n}\n</code></pre>\n"}],"owner":{"account_id":1114418,"reputation":779,"user_id":1104121,"accept_rate":62,"display_name":"Namita"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47020,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":13,"score":2,"last_activity_date":1679811486,"creation_date":1378305130,"question_id":18616646,"body_markdown":"I am trying to find out current financial year (FY - March to April) on the basis of current date in more efficient way. Here&#39;s what I have written so far\r\n\r\n    public static void main(String[] args) {\r\n        int year = getYearFromDate(new Date());\r\n        System.out.println(&quot;Financial Year : &quot; + year + &quot;-&quot; + (year+1));\r\n        System.out.println(&quot;Financial month : &quot; + getMonthFromDate(new Date()));\r\n    }\r\n    \r\n    private static int getMonthFromDate(Date date) {\r\n        int result = -1;\r\n        if (date != null) {\r\n            Calendar cal = Calendar.getInstance();\r\n            cal.setTime(date);\r\n            result = cal.get(Calendar.MONTH)+1;\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    public static int getYearFromDate(Date date) {\r\n        int result = -1;\r\n        if (date != null) {\r\n            Calendar cal = Calendar.getInstance();\r\n            cal.setTime(date);\r\n            result = cal.get(Calendar.YEAR);\r\n        }\r\n        return result;\r\n    }\r\n\r\nSo if the current month is less than or equal to 3 (March) and year is 2013, FY should be = 2012-2013, if the month is 6(June) and year is 2013, FY should be = 2013-2014. \r\n\r\nHow do I achieve it?","title":"Get Current Financial Year ( YYYY-YYYY) from Current Date","body":"<p>I am trying to find out current financial year (FY - March to April) on the basis of current date in more efficient way. Here's what I have written so far</p>\n<pre><code>public static void main(String[] args) {\n    int year = getYearFromDate(new Date());\n    System.out.println(&quot;Financial Year : &quot; + year + &quot;-&quot; + (year+1));\n    System.out.println(&quot;Financial month : &quot; + getMonthFromDate(new Date()));\n}\n\nprivate static int getMonthFromDate(Date date) {\n    int result = -1;\n    if (date != null) {\n        Calendar cal = Calendar.getInstance();\n        cal.setTime(date);\n        result = cal.get(Calendar.MONTH)+1;\n    }\n    return result;\n}\n\npublic static int getYearFromDate(Date date) {\n    int result = -1;\n    if (date != null) {\n        Calendar cal = Calendar.getInstance();\n        cal.setTime(date);\n        result = cal.get(Calendar.YEAR);\n    }\n    return result;\n}\n</code></pre>\n<p>So if the current month is less than or equal to 3 (March) and year is 2013, FY should be = 2012-2013, if the month is 6(June) and year is 2013, FY should be = 2013-2014.</p>\n<p>How do I achieve it?</p>\n"},{"tags":["java","double"],"answers":[{"tags":[],"owner":{"account_id":16157388,"reputation":1,"user_id":11664342,"display_name":"Partyush Dhiman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679811284,"creation_date":1679811249,"answer_id":75846162,"question_id":75846154,"body_markdown":"The issue is with the precision.format(tot) line. The DecimalFormat object has been initialized with the format &quot;.2&quot; which means that it will format the number to two decimal places. However, in the line ed5.setText(precision.format(tot));, the formatted number is being assigned to a TextView which may have a different format or may be rounding off the number to zero decimal places.\r\n\r\nTo fix this, you can try using the String.format method to format the number to two decimal places and then set it to the TextView as a string.\r\n\r\nHere&#39;s the updated code:\r\n\r\npublic void avgcal() {\r\n    double avg = .0, tot, wg1, wg2, wg3, wg4, dq1, dq2, dq3, dq4, st1, st2, st3, st4, intot1, intot2, intot3, intot4;\r\n\r\n    // Subject grades calculator\r\n    wg1 = Double.parseDouble(ed2.getText().toString());\r\n    dq1 = Double.parseDouble(ed3.getText().toString());\r\n    st1 = Double.parseDouble(ed4.getText().toString());\r\n\r\n    wg2 = Double.parseDouble(ed8.getText().toString());\r\n    dq2 = Double.parseDouble(ed9.getText().toString());\r\n    st2 = Double.parseDouble(ed10.getText().toString());\r\n\r\n    wg3 = Double.parseDouble(ed11.getText().toString());\r\n    dq3 = Double.parseDouble(ed12.getText().toString());\r\n    st3 = Double.parseDouble(ed13.getText().toString());\r\n\r\n    wg4 = Double.parseDouble(ed19.getText().toString());\r\n    dq4 = Double.parseDouble(ed20.getText().toString());\r\n    st4 = Double.parseDouble(ed21.getText().toString());\r\n\r\n    intot1 = st1 / dq1 * wg1;\r\n    intot2 = st2 / dq2 * wg2;\r\n    intot3 = st3 / dq3 * wg3;\r\n    intot4 = st4 / dq4 * wg4;\r\n\r\n    // SUM OF ALL DATA\r\n    tot = intot1 + intot2 + intot3 + intot4;\r\n\r\n    // Format the number to two decimal places and set it to the TextView\r\n    ed5.setText(String.format(&quot;%.2f&quot;, tot));\r\n}\r\n\r\nThis code should format the number to two decimal places and set it to the TextView.","title":"java android-studio double fraction only shows .0","body":"<p>The issue is with the precision.format(tot) line. The DecimalFormat object has been initialized with the format &quot;.2&quot; which means that it will format the number to two decimal places. However, in the line ed5.setText(precision.format(tot));, the formatted number is being assigned to a TextView which may have a different format or may be rounding off the number to zero decimal places.</p>\n<p>To fix this, you can try using the String.format method to format the number to two decimal places and then set it to the TextView as a string.</p>\n<p>Here's the updated code:</p>\n<p>public void avgcal() {\ndouble avg = .0, tot, wg1, wg2, wg3, wg4, dq1, dq2, dq3, dq4, st1, st2, st3, st4, intot1, intot2, intot3, intot4;</p>\n<pre><code>// Subject grades calculator\nwg1 = Double.parseDouble(ed2.getText().toString());\ndq1 = Double.parseDouble(ed3.getText().toString());\nst1 = Double.parseDouble(ed4.getText().toString());\n\nwg2 = Double.parseDouble(ed8.getText().toString());\ndq2 = Double.parseDouble(ed9.getText().toString());\nst2 = Double.parseDouble(ed10.getText().toString());\n\nwg3 = Double.parseDouble(ed11.getText().toString());\ndq3 = Double.parseDouble(ed12.getText().toString());\nst3 = Double.parseDouble(ed13.getText().toString());\n\nwg4 = Double.parseDouble(ed19.getText().toString());\ndq4 = Double.parseDouble(ed20.getText().toString());\nst4 = Double.parseDouble(ed21.getText().toString());\n\nintot1 = st1 / dq1 * wg1;\nintot2 = st2 / dq2 * wg2;\nintot3 = st3 / dq3 * wg3;\nintot4 = st4 / dq4 * wg4;\n\n// SUM OF ALL DATA\ntot = intot1 + intot2 + intot3 + intot4;\n\n// Format the number to two decimal places and set it to the TextView\ned5.setText(String.format(&quot;%.2f&quot;, tot));\n</code></pre>\n<p>}</p>\n<p>This code should format the number to two decimal places and set it to the TextView.</p>\n"}],"owner":{"account_id":23333404,"reputation":1,"user_id":17409454,"display_name":"Ryuuu126"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679811284,"creation_date":1679811027,"question_id":75846154,"body_markdown":"Problem in my calculation system is that the output fraction of double always shows 0\r\nlike 77.3 in my calculation results but in program output it shows 77.0\r\n\r\nhere&#39;s the code of my program\r\n\r\n\r\n    public void  avgcal()\r\n    {\r\n        double avg = .0,tot,wg1,wg2,wg3,wg4,dq1,dq2,dq3,dq4,st1,st2,st3,st4,intot1,intot2,intot3,intot4;\r\n\r\n        DecimalFormat precision = new DecimalFormat(&quot;.2&quot;);\r\n\r\n        //Subject grades calculator\r\n        wg1 = Double.parseDouble(ed2.getText().toString());\r\n        dq1 = Double.parseDouble(ed3.getText().toString());\r\n        st1 = Double.parseDouble(ed4.getText().toString());\r\n\r\n        wg2 = Double.parseDouble(ed8.getText().toString());\r\n        dq2 = Double.parseDouble(ed9.getText().toString());\r\n        st2 = Double.parseDouble(ed10.getText().toString());\r\n\r\n        wg3 = Double.parseDouble(ed11.getText().toString());\r\n        dq3 = Double.parseDouble(ed12.getText().toString());\r\n        st3 = Double.parseDouble(ed13.getText().toString());\r\n\r\n        wg4 = Double.parseDouble(ed19.getText().toString());\r\n        dq4 = Double.parseDouble(ed20.getText().toString());\r\n        st4 = Double.parseDouble(ed21.getText().toString());\r\n\r\n        intot1 = st1 / dq1 * wg1;\r\n        intot2 = st2 / dq2 * wg2;\r\n        intot3 = st3 / dq3 * wg3;\r\n        intot4 = st4 / dq4 * wg4;\r\n\r\n\r\n\r\n        //SUM OF ALL DATA\r\n        tot = intot1 + intot2 + intot3 + intot4;\r\n\r\n\r\n        ed5.setText(precision.format(tot));\r\n    }\r\n}\r\n","title":"java android-studio double fraction only shows .0","body":"<p>Problem in my calculation system is that the output fraction of double always shows 0\nlike 77.3 in my calculation results but in program output it shows 77.0</p>\n<p>here's the code of my program</p>\n<pre><code>public void  avgcal()\n{\n    double avg = .0,tot,wg1,wg2,wg3,wg4,dq1,dq2,dq3,dq4,st1,st2,st3,st4,intot1,intot2,intot3,intot4;\n\n    DecimalFormat precision = new DecimalFormat(&quot;.2&quot;);\n\n    //Subject grades calculator\n    wg1 = Double.parseDouble(ed2.getText().toString());\n    dq1 = Double.parseDouble(ed3.getText().toString());\n    st1 = Double.parseDouble(ed4.getText().toString());\n\n    wg2 = Double.parseDouble(ed8.getText().toString());\n    dq2 = Double.parseDouble(ed9.getText().toString());\n    st2 = Double.parseDouble(ed10.getText().toString());\n\n    wg3 = Double.parseDouble(ed11.getText().toString());\n    dq3 = Double.parseDouble(ed12.getText().toString());\n    st3 = Double.parseDouble(ed13.getText().toString());\n\n    wg4 = Double.parseDouble(ed19.getText().toString());\n    dq4 = Double.parseDouble(ed20.getText().toString());\n    st4 = Double.parseDouble(ed21.getText().toString());\n\n    intot1 = st1 / dq1 * wg1;\n    intot2 = st2 / dq2 * wg2;\n    intot3 = st3 / dq3 * wg3;\n    intot4 = st4 / dq4 * wg4;\n\n\n\n    //SUM OF ALL DATA\n    tot = intot1 + intot2 + intot3 + intot4;\n\n\n    ed5.setText(precision.format(tot));\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":4,"creation_date":1674781478,"post_id":75253160,"comment_id":132792027,"body_markdown":"Don&#39;t - Swing is not thread safe and you should be trying to create new instances of UI components outside the context of the Event Dispatching Thread.  I can&#39;t see how the code you&#39;ve posted would even run without generating a `NullPointerException` - consider providing a [mcve]","body":"Don&#39;t - Swing is not thread safe and you should be trying to create new instances of UI components outside the context of the Event Dispatching Thread.  I can&#39;t see how the code you&#39;ve posted would even run without generating a <code>NullPointerException</code> - consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1674781532,"post_id":75253160,"comment_id":132792034,"body_markdown":"Not sure what you are doing but you definitely should NOT be extending Thread to create a JFrame. Swing components should be created on the Event Dispatch Thread (EDT). Read the section from the Swing tutorial on [Concurrency](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more information. The tutorial contains many basic examples to get you started.","body":"Not sure what you are doing but you definitely should NOT be extending Thread to create a JFrame. Swing components should be created on the Event Dispatch Thread (EDT). Read the section from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency</a> for more information. The tutorial contains many basic examples to get you started."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1674782323,"post_id":75253160,"comment_id":132792142,"body_markdown":"Actually, you shouldn&#39;t ever extend Thread, except in very unusual circumstances. This isn&#39;t one of those.","body":"Actually, you shouldn&#39;t ever extend Thread, except in very unusual circumstances. This isn&#39;t one of those."},{"owner":{"account_id":14618034,"reputation":197,"user_id":10707177,"display_name":"Alfredo Marin"},"score":0,"creation_date":1674784562,"post_id":75253160,"comment_id":132792457,"body_markdown":"Thanks guys! I learned this way a LONG time ago, about 5 years now, and recently needed to use Swing again and I had no idea how I&#39;d do it back in the days! Now I know I was doing it wrong! Many thanks!!","body":"Thanks guys! I learned this way a LONG time ago, about 5 years now, and recently needed to use Swing again and I had no idea how I&#39;d do it back in the days! Now I know I was doing it wrong! Many thanks!!"}],"answers":[{"tags":[],"owner":{"account_id":14618034,"reputation":197,"user_id":10707177,"display_name":"Alfredo Marin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679810771,"creation_date":1679810771,"answer_id":75846137,"question_id":75253160,"body_markdown":"As [Mad Programmer][1] said:\r\nDon&#39;t - Swing is not thread safe and you should be trying to create new instances of UI components outside the context of the Event Dispatching Thread. I can&#39;t see how the code you&#39;ve posted would even run without generating a NullPointerException - consider providing a [minimal reproducible example][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/992484/madprogrammer\r\n  [2]: https://stackoverflow.com/help/minimal-reproducible-example","title":"Can&#39;t dispose JFrame inside Thread","body":"<p>As <a href=\"https://stackoverflow.com/users/992484/madprogrammer\">Mad Programmer</a> said:\nDon't - Swing is not thread safe and you should be trying to create new instances of UI components outside the context of the Event Dispatching Thread. I can't see how the code you've posted would even run without generating a NullPointerException - consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a></p>\n"}],"owner":{"account_id":14618034,"reputation":197,"user_id":10707177,"display_name":"Alfredo Marin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75846137,"answer_count":1,"score":0,"last_activity_date":1679810771,"creation_date":1674781199,"question_id":75253160,"body_markdown":"I have a class that extends Thread and inside this class I have a JFrame. I need to dispose this JFrame without finalizing the system, like we do with `System.exit(0)`.\r\n\r\nWhen I create and initialize the frame, it has a name like &quot;frame0&quot; but then, when I call it&#39;s name on the ActionListener, it shows &quot;frame1&quot;, even if the JFrame class is final or static.\r\n\r\n    public class RegisterExercise extends Thread {\r\n\r\n    private final JFrame frame;\r\n    private JButton btnSave;\r\n    private JPanel mainPanel;\r\n    private JButton btnCancel;\r\n    private JTextField txtName;\r\n    private JTextField txtEasyName;\r\n    private JTextField txtDescription;\r\n    private JTextField txtMachineName;\r\n    private JLabel lblName;\r\n    private JLabel lblEasyName;\r\n    private JLabel lblDescription;\r\n    private JLabel lblMachineName;\r\n\r\n    public RegisterExercise() {\r\n        frame = new JFrame(&quot;Register an exercise&quot;);\r\n        btnCancel.addActionListener(e -&gt; {\r\n            System.out.println(&quot;Frame:&quot; + frame.getName());\r\n            frame.dispose();\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        try {\r\n            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n        } catch (ClassNotFoundException | InstantiationException | IllegalAccessException |\r\n                 UnsupportedLookAndFeelException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        initializeFrame(frame);\r\n        super.run();\r\n    }\r\n\r\n    private void initializeFrame(JFrame frame) {\r\n        frame.setContentPane(new RegisterExercise().mainPanel);\r\n        frame.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n        System.out.println(&quot;This is frame:&quot; + frame.getName());\r\n    }\r\n    }\r\n\r\nThis class is called from another Thread that I created, I&#39;ll share here the class that calls this Thread class\r\n\r\n    public class Menu extends Thread {\r\n\r\n    private JButton btnExit;\r\n    private JPanel mainPanel;\r\n    private JButton btnRegisterExercise;\r\n    private JTable menuTable;\r\n    private JLabel lblVersion;\r\n\r\n    // JFrames\r\n\r\n    private RegisterExercise registerExercise;\r\n\r\n    public Menu() {\r\n\r\n        // Exit Button\r\n        btnExit.addActionListener(e -&gt; {\r\n            int answer = JOptionPane.showConfirmDialog(null, &quot;Do you want do leave?&quot;, &quot;Leaving&quot;, JOptionPane.YES_NO_OPTION);\r\n            if (answer == JOptionPane.YES_OPTION) {\r\n                System.exit(0);\r\n            }\r\n        });\r\n\r\n        // Register Exercise Button\r\n        btnRegisterExercise.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                if (registerExercise == null) {\r\n                    registerExercise = new RegisterExercise();\r\n                    registerExercise.start();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        try {\r\n            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n        } catch (ClassNotFoundException | InstantiationException | IllegalAccessException |\r\n                 UnsupportedLookAndFeelException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        JFrame frame = new JFrame(&quot;My Move Gym&quot;);\r\n        frame.setContentPane(new Menu().mainPanel);\r\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n        super.run();\r\n    }\r\n    }\r\n","title":"Can&#39;t dispose JFrame inside Thread","body":"<p>I have a class that extends Thread and inside this class I have a JFrame. I need to dispose this JFrame without finalizing the system, like we do with <code>System.exit(0)</code>.</p>\n<p>When I create and initialize the frame, it has a name like &quot;frame0&quot; but then, when I call it's name on the ActionListener, it shows &quot;frame1&quot;, even if the JFrame class is final or static.</p>\n<pre><code>public class RegisterExercise extends Thread {\n\nprivate final JFrame frame;\nprivate JButton btnSave;\nprivate JPanel mainPanel;\nprivate JButton btnCancel;\nprivate JTextField txtName;\nprivate JTextField txtEasyName;\nprivate JTextField txtDescription;\nprivate JTextField txtMachineName;\nprivate JLabel lblName;\nprivate JLabel lblEasyName;\nprivate JLabel lblDescription;\nprivate JLabel lblMachineName;\n\npublic RegisterExercise() {\n    frame = new JFrame(&quot;Register an exercise&quot;);\n    btnCancel.addActionListener(e -&gt; {\n        System.out.println(&quot;Frame:&quot; + frame.getName());\n        frame.dispose();\n    });\n}\n\n@Override\npublic void run() {\n    try {\n        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException |\n             UnsupportedLookAndFeelException e) {\n        throw new RuntimeException(e);\n    }\n    initializeFrame(frame);\n    super.run();\n}\n\nprivate void initializeFrame(JFrame frame) {\n    frame.setContentPane(new RegisterExercise().mainPanel);\n    frame.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\n    frame.pack();\n    frame.setVisible(true);\n    System.out.println(&quot;This is frame:&quot; + frame.getName());\n}\n}\n</code></pre>\n<p>This class is called from another Thread that I created, I'll share here the class that calls this Thread class</p>\n<pre><code>public class Menu extends Thread {\n\nprivate JButton btnExit;\nprivate JPanel mainPanel;\nprivate JButton btnRegisterExercise;\nprivate JTable menuTable;\nprivate JLabel lblVersion;\n\n// JFrames\n\nprivate RegisterExercise registerExercise;\n\npublic Menu() {\n\n    // Exit Button\n    btnExit.addActionListener(e -&gt; {\n        int answer = JOptionPane.showConfirmDialog(null, &quot;Do you want do leave?&quot;, &quot;Leaving&quot;, JOptionPane.YES_NO_OPTION);\n        if (answer == JOptionPane.YES_OPTION) {\n            System.exit(0);\n        }\n    });\n\n    // Register Exercise Button\n    btnRegisterExercise.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            if (registerExercise == null) {\n                registerExercise = new RegisterExercise();\n                registerExercise.start();\n            }\n        }\n    });\n}\n\n@Override\npublic void run() {\n    try {\n        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException |\n             UnsupportedLookAndFeelException e) {\n        throw new RuntimeException(e);\n    }\n    JFrame frame = new JFrame(&quot;My Move Gym&quot;);\n    frame.setContentPane(new Menu().mainPanel);\n    frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n    frame.pack();\n    frame.setVisible(true);\n    super.run();\n}\n}\n</code></pre>\n"},{"tags":["java","android","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1679750516,"post_id":75841290,"comment_id":133778684,"body_markdown":"First of all, show us what you have tried and what exactly doesn&#39;t work the way you expect. Please also edit your question and add your database structure as a screenshot and indicate the exact document you want to update.","body":"First of all, show us what you have tried and what exactly doesn&#39;t work the way you expect. Please also edit your question and add your database structure as a screenshot and indicate the exact document you want to update."},{"owner":{"account_id":26322658,"reputation":2747,"user_id":20239914,"display_name":"Rohit Kharche"},"score":0,"creation_date":1681013292,"post_id":75841290,"comment_id":133989810,"body_markdown":"Did you find the below posted answer useful or are you looking for something else ?","body":"Did you find the below posted answer useful or are you looking for something else ?"}],"answers":[{"tags":[],"owner":{"account_id":26322658,"reputation":2747,"user_id":20239914,"display_name":"Rohit Kharche"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679810672,"creation_date":1679810672,"answer_id":75846132,"question_id":75841290,"body_markdown":"According to [**`Create a password-based account`**](https://firebase.google.com/docs/auth/android/password-auth#create_a_password-based_account), it looks like you are using `task.isSuccessful` as a method but actually it is boolean. You are setting new User document correctly and for your \r\n\r\n&gt; I want to update the value of newvalue to that particular object. I can update the Firestore document but don&#39;t know how to refer to that particular object since in the register activity is called user.\r\n\r\nQuery you can get the User uid anywhere in application with `auth.currentUser.uid` assuming user is already logged in then you can use [**`Custom objects`**](https://firebase.google.com/docs/firestore/query-data/get-data#custom_objects) to get the user document as follows:\r\n```\r\nval db = Firebase.firestore\r\nval userId = auth.currentUser.uid;\r\nval docRef = db.collection(&quot;user&quot;).document(userId)\r\ndocRef.get().addOnSuccessListener { documentSnapshot -&gt;\r\n    val user = documentSnapshot.toObject&lt;User&gt;() // there’s your retrieved Object class\r\n}\r\n```\r\nTo update the `newValue` field you can update as follows:\r\n```\r\nval db = Firebase.firestore\r\nval userId = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\nval docRef = db.collection(&quot;user&quot;).document(userId)\r\ndocRef\r\n     .update(&quot;newvalue&quot;, newValue) // ⇐ you can also update the other fields \r\n     .addOnSuccessListener { Log.d(TAG, &quot;DocumentSnapshot successfully updated!&quot;) }\r\n     .addOnFailureListener { e -&gt; Log.w(TAG, &quot;Error updating document&quot;, e) }\r\n```\r\n","title":"Retrieve Object classes","body":"<p>According to <a href=\"https://firebase.google.com/docs/auth/android/password-auth#create_a_password-based_account\" rel=\"nofollow noreferrer\"><strong><code>Create a password-based account</code></strong></a>, it looks like you are using <code>task.isSuccessful</code> as a method but actually it is boolean. You are setting new User document correctly and for your</p>\n<blockquote>\n<p>I want to update the value of newvalue to that particular object. I can update the Firestore document but don't know how to refer to that particular object since in the register activity is called user.</p>\n</blockquote>\n<p>Query you can get the User uid anywhere in application with <code>auth.currentUser.uid</code> assuming user is already logged in then you can use <a href=\"https://firebase.google.com/docs/firestore/query-data/get-data#custom_objects\" rel=\"nofollow noreferrer\"><strong><code>Custom objects</code></strong></a> to get the user document as follows:</p>\n<pre><code>val db = Firebase.firestore\nval userId = auth.currentUser.uid;\nval docRef = db.collection(&quot;user&quot;).document(userId)\ndocRef.get().addOnSuccessListener { documentSnapshot -&gt;\n    val user = documentSnapshot.toObject&lt;User&gt;() // there’s your retrieved Object class\n}\n</code></pre>\n<p>To update the <code>newValue</code> field you can update as follows:</p>\n<pre><code>val db = Firebase.firestore\nval userId = FirebaseAuth.getInstance().getCurrentUser().getUid();\nval docRef = db.collection(&quot;user&quot;).document(userId)\ndocRef\n     .update(&quot;newvalue&quot;, newValue) // ⇐ you can also update the other fields \n     .addOnSuccessListener { Log.d(TAG, &quot;DocumentSnapshot successfully updated!&quot;) }\n     .addOnFailureListener { e -&gt; Log.w(TAG, &quot;Error updating document&quot;, e) }\n</code></pre>\n"}],"owner":{"account_id":27899238,"reputation":15,"user_id":21303872,"display_name":"seven"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75846132,"answer_count":1,"score":0,"last_activity_date":1679810672,"creation_date":1679742466,"question_id":75841290,"body_markdown":"I have a class named User and every time user clicks on the register button in RegisterActivity.java , will use firebase authentication create userwithemailandpassword method and inside it generates a new user object using User class and stored that user object to firestore.\r\n\r\n```\r\nauth.createUserWithEmailAndPassword(email,password).addOnCompleteListener(task -&gt; {\r\n    if(task.isSuccessful()){\r\n        Toast.makeText(SignUp.this,&quot;Sign Up successfully!&quot;,Toast.LENGTH_SHORT).show();\r\n        //store user data\r\n        userid=auth.getCurrentUser().getUid();\r\n        DocumentReference documentReference=fstore.collection(&quot;user&quot;).document(userid);\r\n        User user=new User(name,userid,&quot;user&quot;,email,newvalue);\r\n        documentReference.set(user);\r\n\r\n        Intent intent=new Intent(SignUp.this,LoginActivity.class);\r\n        startActivity(intent);\r\n    }else{\r\n        Toast.makeText(SignUp.this,&quot;SignUp Failed&quot;+task.getException().getMessage(),Toast.LENGTH_SHORT).show();\r\n    }\r\n});\r\n```\r\n\r\nNow, in another activity, I want to update the value of newvalue to that particular object. I can update to Firestore document but  don&#39;t know how to refer to that particular object since in the register activity is called user.\r\n\r\n```\r\nUser user=new User(name,userid,&quot;user&quot;,email,newvalue);\r\n```\r\n\r\nThis is my User class:\r\n\r\n```\r\npublic class User {\r\n    String username;\r\n    String role;\r\n    String email;\r\n    String userid;\r\n    String newvalue;\r\n\r\n    public User(){\r\n\r\n    }\r\n    public User(String username, String userid, String role, String email,String newvalue) {\r\n        this.username = username;\r\n        this.userid = userid;\r\n        this.role = role;\r\n        this.email = email;\r\n        this.token=token;\r\n        this.newvalue=newvalue;\r\n    }\r\n    public String getnewValue() {\r\n            return newvalue;\r\n    }\r\n\r\n    public void setnewvalue(String newvalue) {\r\n        this.newvalue = newvalue;\r\n    }\r\n\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    public String getUserid() {\r\n        return userid;\r\n    }\r\n\r\n    public void setUserid(String userid) {\r\n        this.userid = userid;\r\n    }\r\n\r\n    public String getRole() {\r\n        return role;\r\n    }\r\n\r\n    public void setRole(String role) {\r\n        this.role = role;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n\r\n    @Override\r\n    public String toString() {\r\n        return username;}\r\n}\r\n```","title":"Retrieve Object classes","body":"<p>I have a class named User and every time user clicks on the register button in RegisterActivity.java , will use firebase authentication create userwithemailandpassword method and inside it generates a new user object using User class and stored that user object to firestore.</p>\n<pre><code>auth.createUserWithEmailAndPassword(email,password).addOnCompleteListener(task -&gt; {\n    if(task.isSuccessful()){\n        Toast.makeText(SignUp.this,&quot;Sign Up successfully!&quot;,Toast.LENGTH_SHORT).show();\n        //store user data\n        userid=auth.getCurrentUser().getUid();\n        DocumentReference documentReference=fstore.collection(&quot;user&quot;).document(userid);\n        User user=new User(name,userid,&quot;user&quot;,email,newvalue);\n        documentReference.set(user);\n\n        Intent intent=new Intent(SignUp.this,LoginActivity.class);\n        startActivity(intent);\n    }else{\n        Toast.makeText(SignUp.this,&quot;SignUp Failed&quot;+task.getException().getMessage(),Toast.LENGTH_SHORT).show();\n    }\n});\n</code></pre>\n<p>Now, in another activity, I want to update the value of newvalue to that particular object. I can update to Firestore document but  don't know how to refer to that particular object since in the register activity is called user.</p>\n<pre><code>User user=new User(name,userid,&quot;user&quot;,email,newvalue);\n</code></pre>\n<p>This is my User class:</p>\n<pre><code>public class User {\n    String username;\n    String role;\n    String email;\n    String userid;\n    String newvalue;\n\n    public User(){\n\n    }\n    public User(String username, String userid, String role, String email,String newvalue) {\n        this.username = username;\n        this.userid = userid;\n        this.role = role;\n        this.email = email;\n        this.token=token;\n        this.newvalue=newvalue;\n    }\n    public String getnewValue() {\n            return newvalue;\n    }\n\n    public void setnewvalue(String newvalue) {\n        this.newvalue = newvalue;\n    }\n\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getUserid() {\n        return userid;\n    }\n\n    public void setUserid(String userid) {\n        this.userid = userid;\n    }\n\n    public String getRole() {\n        return role;\n    }\n\n    public void setRole(String role) {\n        this.role = role;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n\n    @Override\n    public String toString() {\n        return username;}\n}\n</code></pre>\n"},{"tags":["java","android","xml","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":20779858,"reputation":94,"user_id":15260560,"display_name":"Jitendra Kohar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675778441,"creation_date":1675778441,"answer_id":75374421,"question_id":75374348,"body_markdown":"if you want to add a listview element in the recycler view, kindly add this linear layout,listItem, and orientation in the recycler view so that you can design it.\r\n\r\n      tools:listitem=&quot;@layout/viewholder_category&quot;\r\n      android:orientation=&quot;horizontal&quot;\r\n      app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b4CIL.png","title":"i am willing to design the recycler view but how do i see what my recycler view element looks?","body":"<p>if you want to add a listview element in the recycler view, kindly add this linear layout,listItem, and orientation in the recycler view so that you can design it.</p>\n<pre><code>  tools:listitem=&quot;@layout/viewholder_category&quot;\n  android:orientation=&quot;horizontal&quot;\n  app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/b4CIL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b4CIL.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":13945183,"reputation":76,"user_id":10070105,"display_name":"Tursunboy Tojiev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675856274,"creation_date":1675856274,"answer_id":75385236,"question_id":75374348,"body_markdown":"You can write like this:\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recylerView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/textView12&quot;\r\n        tools:listitem=&quot;@layout/item_title&quot;\r\n        tools:itemCount=&quot;4&quot;/&gt;\r\n\r\nHere `tools:listitem` for preview of item and `tools:itemCount` for number of preview items","title":"i am willing to design the recycler view but how do i see what my recycler view element looks?","body":"<p>You can write like this:</p>\n<pre><code>&lt;androidx.recyclerview.widget.RecyclerView\n    android:id=&quot;@+id/recylerView&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@id/textView12&quot;\n    tools:listitem=&quot;@layout/item_title&quot;\n    tools:itemCount=&quot;4&quot;/&gt;\n</code></pre>\n<p>Here <code>tools:listitem</code> for preview of item and <code>tools:itemCount</code> for number of preview items</p>\n"}],"owner":{"account_id":20779858,"reputation":94,"user_id":15260560,"display_name":"Jitendra Kohar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1676325411,"answer_count":2,"score":-3,"last_activity_date":1679810639,"creation_date":1675778132,"question_id":75374348,"body_markdown":"How can I visualize what my recycler view elements look like? my question is when we set up the recyclerView, it&#39;s a very difficult task. How should I preview my recycler view element in the layout design?\r\n\r\n[![enter image description here](https://i.stack.imgur.com/b8iR2.png)](https://i.stack.imgur.com/b8iR2.png)\r\n\r\nI want to visualize the recycler view element so that design it","title":"i am willing to design the recycler view but how do i see what my recycler view element looks?","body":"<p>How can I visualize what my recycler view elements look like? my question is when we set up the recyclerView, it's a very difficult task. How should I preview my recycler view element in the layout design?</p>\n<p><a href=\"https://i.stack.imgur.com/b8iR2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b8iR2.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to visualize the recycler view element so that design it</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8164709,"reputation":6730,"user_id":6147506,"accept_rate":79,"display_name":"nhouser9"},"score":0,"creation_date":1475530040,"post_id":39840659,"comment_id":66971119,"body_markdown":"What do you mean you are having trouble with the sum? Where is the code you have tried so far to compute the sum? Or are you just expecting us to do this part for you?","body":"What do you mean you are having trouble with the sum? Where is the code you have tried so far to compute the sum? Or are you just expecting us to do this part for you?"},{"owner":{"account_id":8164709,"reputation":6730,"user_id":6147506,"accept_rate":79,"display_name":"nhouser9"},"score":0,"creation_date":1475530069,"post_id":39840659,"comment_id":66971137,"body_markdown":"I&#39;m voting to close this question as off-topic because questions involving homework must show some attempt to solve the question on their own.","body":"I&#39;m voting to close this question as off-topic because questions involving homework must show some attempt to solve the question on their own."},{"owner":{"account_id":3273853,"reputation":819,"user_id":2756489,"accept_rate":84,"display_name":"Bennett Yeo"},"score":0,"creation_date":1475530107,"post_id":39840659,"comment_id":66971159,"body_markdown":"What part is stumping you specifically? It would help if you could review what you have tried. It doesn&#39;t appear as if you have code that actually attempts to sum all the items in your list.","body":"What part is stumping you specifically? It would help if you could review what you have tried. It doesn&#39;t appear as if you have code that actually attempts to sum all the items in your list."},{"owner":{"account_id":2701493,"reputation":1169,"user_id":2332121,"display_name":"Sanjeev Dhiman"},"score":0,"creation_date":1475530272,"post_id":39840659,"comment_id":66971229,"body_markdown":"While I agree on other folks to vote down, I still like to answer it based on what I understood. Hey! @Mason - In order to sum the floats, you need to sum them by yourself. Please Loop through your arraylist (which you are already doing) and add the elements yourself instead of just printing them. Something like - double sum = 0.0d;\n\t\tfor (int i=0; i&lt; L.size(); i= i+1)\n        {\n\t\t\tSystem.out.println(&quot;List contains &quot; + L.get(i));\n\t\t\tsum = sum + L.get(i);\n        }\n\t\t\n\t\tSystem.out.println(sum);","body":"While I agree on other folks to vote down, I still like to answer it based on what I understood. Hey! @Mason - In order to sum the floats, you need to sum them by yourself. Please Loop through your arraylist (which you are already doing) and add the elements yourself instead of just printing them. Something like - double sum = 0.0d; \t\tfor (int i=0; i&lt; L.size(); i= i+1)         { \t\t\tSystem.out.println(&quot;List contains &quot; + L.get(i)); \t\t\tsum = sum + L.get(i);         } \t\t \t\tSystem.out.println(sum);"},{"owner":{"account_id":9318184,"reputation":83,"user_id":6917826,"display_name":"Mason Salcido"},"score":0,"creation_date":1475530960,"post_id":39840659,"comment_id":66971492,"body_markdown":"My bad everyone I had previously uploaded outdated code, I reuploaded with my most current code which is where I am having issues. @nhouser9","body":"My bad everyone I had previously uploaded outdated code, I reuploaded with my most current code which is where I am having issues. @nhouser9"},{"owner":{"account_id":9318184,"reputation":83,"user_id":6917826,"display_name":"Mason Salcido"},"score":0,"creation_date":1475531433,"post_id":39840659,"comment_id":66971666,"body_markdown":"@SanjeevDhiman I have already tried that but then realized I can not add an Object and Double","body":"@SanjeevDhiman I have already tried that but then realized I can not add an Object and Double"},{"owner":{"account_id":8164709,"reputation":6730,"user_id":6147506,"accept_rate":79,"display_name":"nhouser9"},"score":0,"creation_date":1475531557,"post_id":39840659,"comment_id":66971722,"body_markdown":"Great you gave us the current code. That&#39;s a good first step. Now you need to tell us what the problem with it is. Give us a sample input and tell us what it outputs vs what you would expect it to output.","body":"Great you gave us the current code. That&#39;s a good first step. Now you need to tell us what the problem with it is. Give us a sample input and tell us what it outputs vs what you would expect it to output."},{"owner":{"account_id":9318184,"reputation":83,"user_id":6917826,"display_name":"Mason Salcido"},"score":0,"creation_date":1475532758,"post_id":39840659,"comment_id":66972177,"body_markdown":"Well when I try running my code I currently have I can not add an object and an int together, I am completely lost on how to get the values I enter in and then add them together @nhouser9","body":"Well when I try running my code I currently have I can not add an object and an int together, I am completely lost on how to get the values I enter in and then add them together @nhouser9"},{"owner":{"account_id":8164709,"reputation":6730,"user_id":6147506,"accept_rate":79,"display_name":"nhouser9"},"score":0,"creation_date":1475533758,"post_id":39840659,"comment_id":66972537,"body_markdown":"@MasonSalcido Thanks for the update. I posted an answer below. If it helps please remember to upvote and accept it.","body":"@MasonSalcido Thanks for the update. I posted an answer below. If it helps please remember to upvote and accept it."}],"answers":[{"tags":[],"owner":{"account_id":8164709,"reputation":6730,"user_id":6147506,"accept_rate":79,"display_name":"nhouser9"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1475548469,"creation_date":1475533735,"answer_id":39841394,"question_id":39840659,"body_markdown":"I have fixed up the code and put the new version below.\r\n\r\nThe main problem was the way you were using `ArrayList`. What you used was called a &quot;raw type&quot;. See this link for info on why that&#39;s bad: https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it. Basicaly, you should be providing `ArrayList` with a type parameter, like: `ArrayList&lt;String&gt;`.\r\n\r\nHowever, in this case the `List` was not even needed. We can simply keep a running total of the sum as each new number is entered. I changed the code to do that instead.\r\n\r\nI also renamed your variables. You should never name things like `n` or `x`. Name variables something that describes what they are used for. That makes it way easier for you, or people you are asking for help (like people on StackOverflow) to read your code. Making your code easy to understand is almost as important as making it work correctly, especially as you start working on bigger projects.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import java.util.Scanner; // load the scanner utility\r\n    \r\n    class Lab7 {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            double currentNumber = 1.0;\r\n            double sum = 0.0;\r\n            Scanner input = new Scanner( System.in );  //define the scanner\r\n\r\n            // read in the floats\r\n            while ( currentNumber != 0.0 )\r\n            {\r\n                System.out.println(&quot;Please input a number&quot;);\r\n                currentNumber = input.nextFloat();\r\n                System.out.println(&quot;read in &quot; + currentNumber);\r\n                sum = sum + currentNumber;\r\n            }\r\n            System.outprintln(&quot;Sum of nunbers &quot; + sum); \r\n    \r\n        }// of main\r\n    \r\n    } // of Lab7\r\n\r\nIf you absolutely have to use an array for this lab (keep in mind that it is not needed in any way, the only reason to do it is if the lab explicitly says you must do it), you can use the following:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import java.util.Scanner; // load the scanner utility\r\n    \r\n    class Lab7 {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            double currentNumber = 1.0;\r\n            double sum = 0.0;\r\n            Scanner input = new Scanner( System.in );  //define the scanner\r\n            ArrayList&lt;Float&gt; floats = new ArrayList&lt;&gt;(); //notice how we give a type argument\r\n\r\n            // read in the floats\r\n            while ( currentNumber != 0.0 )\r\n            {\r\n                System.out.println(&quot;Please input a number&quot;);\r\n                currentNumber = input.nextFloat();\r\n                System.out.println(&quot;read in &quot; + currentNumber);\r\n                floats.add((float) currentNumber);\r\n                sum = sum + currentNumber;\r\n            }\r\n            System.outprintln(&quot;Sum of nunbers &quot; + sum); \r\n    \r\n        }// of main\r\n    \r\n    } // of Lab7","title":"Taking in an input of Floats in an array then adding them together","body":"<p>I have fixed up the code and put the new version below.</p>\n\n<p>The main problem was the way you were using <code>ArrayList</code>. What you used was called a \"raw type\". See this link for info on why that's bad: <a href=\"https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it\">What is a raw type and why shouldn&#39;t we use it?</a>. Basicaly, you should be providing <code>ArrayList</code> with a type parameter, like: <code>ArrayList&lt;String&gt;</code>.</p>\n\n<p>However, in this case the <code>List</code> was not even needed. We can simply keep a running total of the sum as each new number is entered. I changed the code to do that instead.</p>\n\n<p>I also renamed your variables. You should never name things like <code>n</code> or <code>x</code>. Name variables something that describes what they are used for. That makes it way easier for you, or people you are asking for help (like people on StackOverflow) to read your code. Making your code easy to understand is almost as important as making it work correctly, especially as you start working on bigger projects.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Scanner; // load the scanner utility\n\nclass Lab7 {\n\n    public static void main(String[] args) {\n\n        double currentNumber = 1.0;\n        double sum = 0.0;\n        Scanner input = new Scanner( System.in );  //define the scanner\n\n        // read in the floats\n        while ( currentNumber != 0.0 )\n        {\n            System.out.println(\"Please input a number\");\n            currentNumber = input.nextFloat();\n            System.out.println(\"read in \" + currentNumber);\n            sum = sum + currentNumber;\n        }\n        System.outprintln(\"Sum of nunbers \" + sum); \n\n    }// of main\n\n} // of Lab7\n</code></pre>\n\n<p>If you absolutely have to use an array for this lab (keep in mind that it is not needed in any way, the only reason to do it is if the lab explicitly says you must do it), you can use the following:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Scanner; // load the scanner utility\n\nclass Lab7 {\n\n    public static void main(String[] args) {\n\n        double currentNumber = 1.0;\n        double sum = 0.0;\n        Scanner input = new Scanner( System.in );  //define the scanner\n        ArrayList&lt;Float&gt; floats = new ArrayList&lt;&gt;(); //notice how we give a type argument\n\n        // read in the floats\n        while ( currentNumber != 0.0 )\n        {\n            System.out.println(\"Please input a number\");\n            currentNumber = input.nextFloat();\n            System.out.println(\"read in \" + currentNumber);\n            floats.add((float) currentNumber);\n            sum = sum + currentNumber;\n        }\n        System.outprintln(\"Sum of nunbers \" + sum); \n\n    }// of main\n\n} // of Lab7\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19059270,"reputation":43,"user_id":13915725,"display_name":"clipovich"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1679810362,"creation_date":1679810362,"answer_id":75846119,"question_id":39840659,"body_markdown":"    System.outprintln(&quot;Sum of nunbers &quot; + sum);\r\n\r\nshould be\r\n\r\n    System.out.println(&quot;Sum of numbers &quot; + sum);\r\n\r\n ","title":"Taking in an input of Floats in an array then adding them together","body":"<pre><code>System.outprintln(&quot;Sum of nunbers &quot; + sum);\n</code></pre>\n<p>should be</p>\n<pre><code>System.out.println(&quot;Sum of numbers &quot; + sum);\n</code></pre>\n"}],"owner":{"account_id":9318184,"reputation":83,"user_id":6917826,"display_name":"Mason Salcido"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":498,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"closed_date":1697539275,"accepted_answer_id":39841394,"answer_count":2,"score":-1,"last_activity_date":1679810362,"creation_date":1475529946,"question_id":39840659,"body_markdown":"For an assignment in my CS class I am having to take in an input of floats, save them in an array, then display them and add them together to get a sum of the floats.  Currently I am having an issue with getting the sum of the floats.\r\n\r\nAs far as I can tell the below code should work, but I get an error: &quot;can not add an object and an int&quot;.\r\n\r\nMy code is:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import java.util.Scanner; // load the scanner utility\r\n    \r\n    class Lab7 {\r\n     \r\n        public static void main(String[] args) {\r\n    \r\n            double n;\r\n            double s;\r\n            Scanner input = new Scanner( System.in );  //define the scanner\r\n             \r\n            List L = new ArrayList();\r\n            s=0.0;\r\n            n=1.0;\r\n            // read in the floats\r\n            while ( n != 0.0 )\r\n              {\r\n                 System.out.println(&quot;Please input a number&quot;);\r\n                 n = input.nextFloat();\r\n                 if ( n != 0.0) L.add(n);\r\n                 System.out.println(&quot;read in &quot; + n);\r\n              \r\n              }\r\n              \r\n            for (int i=0; i&lt; L.size(); i= i+1)\r\n             {\r\n               System.out.println(&quot;List contains &quot; + L.get(i));\r\n               s = s + L.get(i);\r\n               System.outprintln(&quot;Sum of nunbers &quot; + s); \r\n             }\r\n                   \r\n                   \r\n       \r\n         }// of main\r\n         \r\n       } // of Lab7","title":"Taking in an input of Floats in an array then adding them together","body":"<p>For an assignment in my CS class I am having to take in an input of floats, save them in an array, then display them and add them together to get a sum of the floats.  Currently I am having an issue with getting the sum of the floats.</p>\n\n<p>As far as I can tell the below code should work, but I get an error: \"can not add an object and an int\".</p>\n\n<p>My code is:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Scanner; // load the scanner utility\n\nclass Lab7 {\n\n    public static void main(String[] args) {\n\n        double n;\n        double s;\n        Scanner input = new Scanner( System.in );  //define the scanner\n\n        List L = new ArrayList();\n        s=0.0;\n        n=1.0;\n        // read in the floats\n        while ( n != 0.0 )\n          {\n             System.out.println(\"Please input a number\");\n             n = input.nextFloat();\n             if ( n != 0.0) L.add(n);\n             System.out.println(\"read in \" + n);\n\n          }\n\n        for (int i=0; i&lt; L.size(); i= i+1)\n         {\n           System.out.println(\"List contains \" + L.get(i));\n           s = s + L.get(i);\n           System.outprintln(\"Sum of nunbers \" + s); \n         }\n\n\n\n     }// of main\n\n   } // of Lab7\n</code></pre>\n"},{"tags":["java","reflection","colors","awt"],"comments":[{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1402855346,"post_id":24232438,"comment_id":37423776,"body_markdown":"It might help you [java.awt.color to java.lang.string conversion](http://stackoverflow.com/questions/6717765/java-awt-color-to-java-lang-string-conversion)","body":"It might help you <a href=\"http://stackoverflow.com/questions/6717765/java-awt-color-to-java-lang-string-conversion\">java.awt.color to java.lang.string conversion</a>"}],"answers":[{"tags":[],"owner":{"account_id":2383218,"reputation":3710,"user_id":2084774,"accept_rate":75,"display_name":"Tareq Salah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402855908,"creation_date":1402855908,"answer_id":24232612,"question_id":24232438,"body_markdown":"You can use predefined `map &lt;Color, String&gt;` to insert some predfined colors on it and then use it to get the name\r\n\r\n    HashMap&lt;Color,String&gt; hm = new HashMap &lt;Color,String&gt;();\r\n    hm.put(Color.BLACK,&quot;Black&quot;);\r\n    .\r\n    .\r\n    .\r\n    hm.get(Color.BLACK)","title":"Getting a string representing the color name from an instance of Color","body":"<p>You can use predefined <code>map &lt;Color, String&gt;</code> to insert some predfined colors on it and then use it to get the name</p>\n\n<pre><code>HashMap&lt;Color,String&gt; hm = new HashMap &lt;Color,String&gt;();\nhm.put(Color.BLACK,\"Black\");\n.\n.\n.\nhm.get(Color.BLACK)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1402953416,"creation_date":1402856877,"answer_id":24232749,"question_id":24232438,"body_markdown":"`Color` class has only few non-static fields which are \r\n\r\n    name      | type         \r\n    ----------+---------------\r\n    value     | int \r\n    frgbvalue | float[] \r\n    fvalue    | float[] \r\n    falpha    | float \r\n    cs        | java.awt.color.ColorSpace \r\n\r\nand none of this fields store color name. Also it doesn&#39;t have any method which would check if color you are using is equal to one of its predefined ones and stored in static references like \r\n\r\n    public final static Color black = new Color(0, 0, 0);\r\n    public final static Color BLACK = black;\r\n\r\nBut nothing stops you from implementing your own method which will do it for you. Such method can look like\r\n\r\n    public static Optional&lt;String&gt; colorName(Color c) {\r\n    \tfor (Field f : Color.class.getDeclaredFields()) {\r\n    \t\t//we want to test only fields of type Color\r\n    \t\tif (f.getType().equals(Color.class))\r\n    \t\t\ttry {\r\n    \t\t\t\tif (f.get(null).equals(c))\r\n    \t\t\t\t\treturn Optional.of(f.getName().toLowerCase());\r\n    \t\t\t} catch (IllegalArgumentException | IllegalAccessException e) {\r\n    \t\t\t\t// shouldn&#39;t not be thrown, but just in case print its stacktrace\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t}\r\n    \treturn Optional.empty();\r\n    }\r\n\r\nUsage example \r\n\r\n    \r\n    System.out.println(colorName(Color.BLACK).orElse(&quot;no name found&quot;));\r\n    System.out.println(colorName(new Color(10, 20, 30)).orElse(&quot;no name found&quot;));\r\n    System.out.println(colorName(null).orElse(&quot;no name found&quot;));\r\n\r\nOutput:\r\n\r\n    black\r\n    no name found\r\n    no name found","title":"Getting a string representing the color name from an instance of Color","body":"<p><code>Color</code> class has only few non-static fields which are </p>\n\n<pre><code>name      | type         \n----------+---------------\nvalue     | int \nfrgbvalue | float[] \nfvalue    | float[] \nfalpha    | float \ncs        | java.awt.color.ColorSpace \n</code></pre>\n\n<p>and none of this fields store color name. Also it doesn't have any method which would check if color you are using is equal to one of its predefined ones and stored in static references like </p>\n\n<pre><code>public final static Color black = new Color(0, 0, 0);\npublic final static Color BLACK = black;\n</code></pre>\n\n<p>But nothing stops you from implementing your own method which will do it for you. Such method can look like</p>\n\n<pre><code>public static Optional&lt;String&gt; colorName(Color c) {\n    for (Field f : Color.class.getDeclaredFields()) {\n        //we want to test only fields of type Color\n        if (f.getType().equals(Color.class))\n            try {\n                if (f.get(null).equals(c))\n                    return Optional.of(f.getName().toLowerCase());\n            } catch (IllegalArgumentException | IllegalAccessException e) {\n                // shouldn't not be thrown, but just in case print its stacktrace\n                e.printStackTrace();\n            }\n    }\n    return Optional.empty();\n}\n</code></pre>\n\n<p>Usage example </p>\n\n<pre><code>System.out.println(colorName(Color.BLACK).orElse(\"no name found\"));\nSystem.out.println(colorName(new Color(10, 20, 30)).orElse(\"no name found\"));\nSystem.out.println(colorName(null).orElse(\"no name found\"));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>black\nno name found\nno name found\n</code></pre>\n"}],"owner":{"account_id":4146180,"reputation":402,"user_id":3399837,"accept_rate":100,"display_name":"AlexC"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1697,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":24232749,"answer_count":2,"score":0,"last_activity_date":1679810031,"creation_date":1402854791,"question_id":24232438,"body_markdown":"How can I get a String representing name of the color (and not the awt RGB code) from an instance of the Color class?\r\n\r\nFor example I have\r\n\r\n    Color black=Color.BLACK;\r\n\r\nand I want to get the string `&quot;Black&quot;`.\r\n\r\nI know this should be possible using Java reflection, but I&#39;m not very familiar with it. Thank you.","title":"Getting a string representing the color name from an instance of Color","body":"<p>How can I get a String representing name of the color (and not the awt RGB code) from an instance of the Color class?</p>\n\n<p>For example I have</p>\n\n<pre><code>Color black=Color.BLACK;\n</code></pre>\n\n<p>and I want to get the string <code>\"Black\"</code>.</p>\n\n<p>I know this should be possible using Java reflection, but I'm not very familiar with it. Thank you.</p>\n"},{"tags":["java","colors","rgb","tostring"],"comments":[{"owner":{"account_id":61630,"reputation":38237,"user_id":183579,"accept_rate":68,"display_name":"Richard H"},"score":0,"creation_date":1303160549,"post_id":5708830,"comment_id":6525656,"body_markdown":"where have you set this toString method?","body":"where have you set this toString method?"},{"owner":{"account_id":125128,"reputation":51999,"user_id":320700,"accept_rate":74,"display_name":"Yanick Rochon"},"score":0,"creation_date":1303160652,"post_id":5708830,"comment_id":6525682,"body_markdown":"possible duplicate of [How to get name of color using Color Chooser in java](http://stackoverflow.com/questions/1654582/how-to-get-name-of-color-using-color-chooser-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1654582/how-to-get-name-of-color-using-color-chooser-in-java\">How to get name of color using Color Chooser in java</a>"},{"owner":{"account_id":125128,"reputation":51999,"user_id":320700,"accept_rate":74,"display_name":"Yanick Rochon"},"score":0,"creation_date":1303163715,"post_id":5708830,"comment_id":6526328,"body_markdown":"also see http://stackoverflow.com/questions/4126029/java-color-code-convert-to-color-name","body":"also see <a href=\"http://stackoverflow.com/questions/4126029/java-color-code-convert-to-color-name\" title=\"java color code convert to color name\">stackoverflow.com/questions/4126029/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":269227,"reputation":18215,"user_id":558433,"accept_rate":72,"display_name":"Marcos Vasconcelos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1303160603,"creation_date":1303160603,"answer_id":5708869,"question_id":5708830,"body_markdown":"You can create a class which extends Color and has a String named &quot;colorName&quot;, then print it on toString.\r\n\r\nBy default, Color do not store this name, also, it&#39;s hard do identify colors by comparing these Red, Green, Blue values.","title":"Java - toString to Colour","body":"<p>You can create a class which extends Color and has a String named \"colorName\", then print it on toString.</p>\n\n<p>By default, Color do not store this name, also, it's hard do identify colors by comparing these Red, Green, Blue values.</p>\n"},{"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1303160679,"creation_date":1303160679,"answer_id":5708875,"question_id":5708830,"body_markdown":"This does not exist.  Good luck with rolling your own - it would need to return one of 256 x 256 x 256 (16,777,216) distinct strings to work.  How would you distinguish all the shades of blue, for example?  Why doesn&#39;t the RGB value work for you?","title":"Java - toString to Colour","body":"<p>This does not exist.  Good luck with rolling your own - it would need to return one of 256 x 256 x 256 (16,777,216) distinct strings to work.  How would you distinguish all the shades of blue, for example?  Why doesn't the RGB value work for you?</p>\n"},{"tags":[],"owner":{"account_id":115237,"reputation":4850,"user_id":2106959,"accept_rate":83,"display_name":"Joe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1303160843,"creation_date":1303160843,"answer_id":5708904,"question_id":5708830,"body_markdown":"You could subclass Color and override the toString method (or create a printColour method or whatever name) and then you could output a certain colour label for a certain range of RGB values.\r\n\r\nObviously your choice of the colour names and the specific range you assign them will be completely subjective.\r\n\r\n","title":"Java - toString to Colour","body":"<p>You could subclass Color and override the toString method (or create a printColour method or whatever name) and then you could output a certain colour label for a certain range of RGB values.</p>\n\n<p>Obviously your choice of the colour names and the specific range you assign them will be completely subjective.</p>\n"},{"tags":[],"owner":{"account_id":61630,"reputation":38237,"user_id":183579,"accept_rate":68,"display_name":"Richard H"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1303160889,"creation_date":1303160889,"answer_id":5708916,"question_id":5708830,"body_markdown":"You can subclass `Color` to either override the `toString()` method or add another method of your own to covert the RGB to a named color. Or you could have a static method somewhere that converts RGB to a named color. \r\n\r\nHowever given there are 256 * 256 * 256 =~ 16 million different RGB combinations most of your random RGB combinations will not correspond to a named color. So not sure it&#39;s worth doing.","title":"Java - toString to Colour","body":"<p>You can subclass <code>Color</code> to either override the <code>toString()</code> method or add another method of your own to covert the RGB to a named color. Or you could have a static method somewhere that converts RGB to a named color. </p>\n\n<p>However given there are 256 * 256 * 256 =~ 16 million different RGB combinations most of your random RGB combinations will not correspond to a named color. So not sure it's worth doing.</p>\n"},{"tags":[],"owner":{"account_id":3284,"reputation":42459,"user_id":4728,"accept_rate":86,"display_name":"Simon Nickerson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1303160976,"creation_date":1303160976,"answer_id":5708930,"question_id":5708830,"body_markdown":"This is non-trivial and rather subjective.\r\n\r\nHowever, you might want to look at http://blog.xkcd.com/2010/05/03/color-survey-results/ which attempts to answer this.","title":"Java - toString to Colour","body":"<p>This is non-trivial and rather subjective.</p>\n\n<p>However, you might want to look at <a href=\"http://blog.xkcd.com/2010/05/03/color-survey-results/\" rel=\"nofollow\">http://blog.xkcd.com/2010/05/03/color-survey-results/</a> which attempts to answer this.</p>\n"},{"tags":[],"owner":{"account_id":125128,"reputation":51999,"user_id":320700,"accept_rate":74,"display_name":"Yanick Rochon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1303164067,"creation_date":1303163081,"answer_id":5709265,"question_id":5708830,"body_markdown":"I&#39;ve never really came across something you&#39;re asking for, but would this work for you? (You might need to [add more colors](http://en.wikipedia.org/wiki/List_of_colors) for your needs) :\r\n\r\n\r\n\r\n    public final class ColorUtil {\r\n    \r\n        static private HashMap&lt;String,Color&gt; KNOWNCOLORS = new HashMap&lt;String,Color&gt;();\r\n    \t\r\n        static {\r\n            KNOWNCOLORS.put(&quot;black&quot;,     Color.black);\r\n            KNOWNCOLORS.put(&quot;darkgray&quot;,  Color.darkGray);\r\n            KNOWNCOLORS.put(&quot;lightgray&quot;, Color.lightGray);\r\n            KNOWNCOLORS.put(&quot;white&quot;,     Color.white);\r\n            KNOWNCOLORS.put(&quot;red&quot;,       Color.red);\r\n            KNOWNCOLORS.put(&quot;blue&quot;,      Color.blue);\r\n            KNOWNCOLORS.put(&quot;green&quot;,     Color.green);\r\n            KNOWNCOLORS.put(&quot;pink&quot;,      Color.pink);\r\n            KNOWNCOLORS.put(&quot;cyan&quot;,      Color.cyan);\r\n            KNOWNCOLORS.put(&quot;purple&quot;,    Color.magenta);\r\n            KNOWNCOLORS.put(&quot;orange&quot;,    Color.orange);\r\n            KNOWNCOLORS.put(&quot;yellow&quot;,    Color.yellow);\r\n            // add more here\r\n        }\r\n    \t\r\n    \t\r\n        static public String getBestColorName(Color c) {\r\n            int dist, diff = Integer.MAX_VALUE;\r\n            String colorName = toHex(c);\r\n            Color c2;\r\n\t\t\r\n            for (String name : KNOWNCOLORS.keySet()) {\r\n                c2 = KNOWNCOLORS.get(name);\r\n                dist = Math.abs(c.getRed() - c2.getRed())\r\n                        + Math.abs(c.getGreen() - c2.getGreen()) \r\n                        + Math.abs(c.getBlue() - c2.getBlue())\r\n                        + Math.abs(c.getAlpha() - c2.getAlpha());\r\n\r\n                if (dist &lt; diff) {\r\n                    diff = dist;\r\n                    colorName = name; \r\n                }\r\n            }\r\n\r\n            return colorName;\r\n        }\r\n    \t\r\n        static public int getColorValue(Color c) {\r\n            return (c.getAlpha() &lt;&lt; 24) \r\n                | (c.getRed() &lt;&lt; 16)\r\n                | (c.getGreen() &lt;&lt; 8) \r\n                | (c.getBlue()); \r\n        }\r\n    \t\r\n        static public String toHex(Color c) {\r\n            StringBuilder b = new StringBuilder();\r\n            if (c.getAlpha() &lt; 255) {\r\n                b.append(padLeft(Integer.toString(c.getAlpha(), 16), 2));\r\n            }\r\n            b.append(padLeft(Integer.toString(c.getRed(), 16), 2));\r\n            b.append(padLeft(Integer.toString(c.getGreen(), 16), 2));\r\n            b.append(padLeft(Integer.toString(c.getBlue(), 16), 2));\r\n    \r\n            return b.toString();\r\n        }\r\n    \r\n        static private String padLeft(String s, int n) {\r\n            return String.format(&quot;%1$#&quot; + n + &quot;s&quot;, s).replace(&quot; &quot;, &quot;0&quot;);\r\n        }\r\n    \r\n        private ColorUtil() {}\r\n    \r\n    \r\n    \r\n        static public void main(String...args) {\r\n            Color c;\r\n    \r\n            for (String name : KNOWNCOLORS.keySet()) {\r\n                if (!name.equals(getBestColorName(KNOWNCOLORS.get(name)))) {\r\n                    System.out.println(&quot;*** ERR!! Could not match color &quot; + name);\r\n                } \r\n            }\r\n    \r\n            for (int i=0; i&lt;30; i++) {\r\n                c = new Color((int) (Math.random() * 256), (int) (Math.random() * 256), (int) (Math.random() * 256));\r\n    \r\n                System.out.println(&quot;Color &quot; + toHex(c) \r\n                     + &quot; (&quot; + c.getAlpha() + &quot;,&quot; + c.getRed() + &quot;,&quot; + c.getGreen() + &quot;,&quot; + c.getBlue() + &quot;)&quot;\r\n                     + &quot; = &quot; + getBestColorName(c));\r\n            }\r\n    \r\n            System.out.println(&quot;Done!&quot;);\r\n        }\r\n    \t\r\n    }\r\n\r\n\r\nSample output :\r\n\r\n    Color e75848 (255,231,88,72) = red\r\n    Color 6f4854 (255,111,72,84) = darkgray\r\n    Color 5dc6af (255,93,198,175) = lightgray\r\n    Color 190971 (255,25,9,113) = darkgray\r\n    Color 8ef300 (255,142,243,0) = yellow\r\n    Color c2ec5b (255,194,236,91) = lightgray\r\n    Color 998794 (255,153,135,148) = lightgray\r\n    Color 328d06 (255,50,141,6) = darkgray\r\n    Color 223d03 (255,34,61,3) = darkgray\r\n    Color 51dfea (255,81,223,234) = cyan\r\n    Color baa801 (255,186,168,1) = orange\r\n    Color 8370d4 (255,131,112,212) = lightgray\r\n    Color 7766bd (255,119,102,189) = lightgray\r\n    Color 35024b (255,53,2,75) = darkgray\r\n    Color cdbfad (255,205,191,173) = lightgray\r\n    Color 5e3a21 (255,94,58,33) = darkgray\r\n    Color 11af5d (255,17,175,93) = darkgray\r\n    Color 480995 (255,72,9,149) = darkgray\r\n    Color 04adab (255,4,173,171) = cyan\r\n    Color 98641c (255,152,100,28) = darkgray\r\n    Color 3ef68c (255,62,246,140) = cyan\r\n    Color 4d091a (255,77,9,26) = darkgray\r\n    Color 56117d (255,86,17,125) = darkgray\r\n    Color 1a00ea (255,26,0,234) = blue\r\n    Color 2ffd3e (255,47,253,62) = green\r\n    Color 9a918b (255,154,145,139) = lightgray\r\n    Color 6f8f0e (255,111,143,14) = darkgray\r\n    Color 5f3e25 (255,95,62,37) = darkgray\r\n    Color 914e79 (255,145,78,121) = darkgray\r\n    Color 57f88b (255,87,248,139) = cyan\r\n    Done!\r\n\r\n","title":"Java - toString to Colour","body":"<p>I've never really came across something you're asking for, but would this work for you? (You might need to <a href=\"http://en.wikipedia.org/wiki/List_of_colors\" rel=\"nofollow\">add more colors</a> for your needs) :</p>\n\n<pre><code>public final class ColorUtil {\n\n    static private HashMap&lt;String,Color&gt; KNOWNCOLORS = new HashMap&lt;String,Color&gt;();\n\n    static {\n        KNOWNCOLORS.put(\"black\",     Color.black);\n        KNOWNCOLORS.put(\"darkgray\",  Color.darkGray);\n        KNOWNCOLORS.put(\"lightgray\", Color.lightGray);\n        KNOWNCOLORS.put(\"white\",     Color.white);\n        KNOWNCOLORS.put(\"red\",       Color.red);\n        KNOWNCOLORS.put(\"blue\",      Color.blue);\n        KNOWNCOLORS.put(\"green\",     Color.green);\n        KNOWNCOLORS.put(\"pink\",      Color.pink);\n        KNOWNCOLORS.put(\"cyan\",      Color.cyan);\n        KNOWNCOLORS.put(\"purple\",    Color.magenta);\n        KNOWNCOLORS.put(\"orange\",    Color.orange);\n        KNOWNCOLORS.put(\"yellow\",    Color.yellow);\n        // add more here\n    }\n\n\n    static public String getBestColorName(Color c) {\n        int dist, diff = Integer.MAX_VALUE;\n        String colorName = toHex(c);\n        Color c2;\n\n        for (String name : KNOWNCOLORS.keySet()) {\n            c2 = KNOWNCOLORS.get(name);\n            dist = Math.abs(c.getRed() - c2.getRed())\n                    + Math.abs(c.getGreen() - c2.getGreen()) \n                    + Math.abs(c.getBlue() - c2.getBlue())\n                    + Math.abs(c.getAlpha() - c2.getAlpha());\n\n            if (dist &lt; diff) {\n                diff = dist;\n                colorName = name; \n            }\n        }\n\n        return colorName;\n    }\n\n    static public int getColorValue(Color c) {\n        return (c.getAlpha() &lt;&lt; 24) \n            | (c.getRed() &lt;&lt; 16)\n            | (c.getGreen() &lt;&lt; 8) \n            | (c.getBlue()); \n    }\n\n    static public String toHex(Color c) {\n        StringBuilder b = new StringBuilder();\n        if (c.getAlpha() &lt; 255) {\n            b.append(padLeft(Integer.toString(c.getAlpha(), 16), 2));\n        }\n        b.append(padLeft(Integer.toString(c.getRed(), 16), 2));\n        b.append(padLeft(Integer.toString(c.getGreen(), 16), 2));\n        b.append(padLeft(Integer.toString(c.getBlue(), 16), 2));\n\n        return b.toString();\n    }\n\n    static private String padLeft(String s, int n) {\n        return String.format(\"%1$#\" + n + \"s\", s).replace(\" \", \"0\");\n    }\n\n    private ColorUtil() {}\n\n\n\n    static public void main(String...args) {\n        Color c;\n\n        for (String name : KNOWNCOLORS.keySet()) {\n            if (!name.equals(getBestColorName(KNOWNCOLORS.get(name)))) {\n                System.out.println(\"*** ERR!! Could not match color \" + name);\n            } \n        }\n\n        for (int i=0; i&lt;30; i++) {\n            c = new Color((int) (Math.random() * 256), (int) (Math.random() * 256), (int) (Math.random() * 256));\n\n            System.out.println(\"Color \" + toHex(c) \n                 + \" (\" + c.getAlpha() + \",\" + c.getRed() + \",\" + c.getGreen() + \",\" + c.getBlue() + \")\"\n                 + \" = \" + getBestColorName(c));\n        }\n\n        System.out.println(\"Done!\");\n    }\n\n}\n</code></pre>\n\n<p>Sample output :</p>\n\n<pre><code>Color e75848 (255,231,88,72) = red\nColor 6f4854 (255,111,72,84) = darkgray\nColor 5dc6af (255,93,198,175) = lightgray\nColor 190971 (255,25,9,113) = darkgray\nColor 8ef300 (255,142,243,0) = yellow\nColor c2ec5b (255,194,236,91) = lightgray\nColor 998794 (255,153,135,148) = lightgray\nColor 328d06 (255,50,141,6) = darkgray\nColor 223d03 (255,34,61,3) = darkgray\nColor 51dfea (255,81,223,234) = cyan\nColor baa801 (255,186,168,1) = orange\nColor 8370d4 (255,131,112,212) = lightgray\nColor 7766bd (255,119,102,189) = lightgray\nColor 35024b (255,53,2,75) = darkgray\nColor cdbfad (255,205,191,173) = lightgray\nColor 5e3a21 (255,94,58,33) = darkgray\nColor 11af5d (255,17,175,93) = darkgray\nColor 480995 (255,72,9,149) = darkgray\nColor 04adab (255,4,173,171) = cyan\nColor 98641c (255,152,100,28) = darkgray\nColor 3ef68c (255,62,246,140) = cyan\nColor 4d091a (255,77,9,26) = darkgray\nColor 56117d (255,86,17,125) = darkgray\nColor 1a00ea (255,26,0,234) = blue\nColor 2ffd3e (255,47,253,62) = green\nColor 9a918b (255,154,145,139) = lightgray\nColor 6f8f0e (255,111,143,14) = darkgray\nColor 5f3e25 (255,95,62,37) = darkgray\nColor 914e79 (255,145,78,121) = darkgray\nColor 57f88b (255,87,248,139) = cyan\nDone!\n</code></pre>\n"}],"owner":{"account_id":346755,"reputation":33,"user_id":680460,"display_name":"notbugfree"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6198,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":6,"score":2,"last_activity_date":1679809425,"creation_date":1303160380,"question_id":5708830,"body_markdown":"I have been trying to work this out all day.\r\n\r\nBasically I have made a for loop which adds entries into an arraylist. One of the entries is a &quot;Colour&quot; varible. I have used the `random.nextInt` to create new values for the red, green and blue parts of the colour constructor. I have also set a `toString` method so I can see the values going into the arraylist. \r\n\r\nProblem is:\r\n\r\nWhen printing out I get  :  `java.awt.Color[r=248,g=103,b=53]`\r\n\r\nand I understand why that is so, I&#39;m just wondering how I can change that so the output says the word &quot;orange&quot; or &quot;green&quot; or &quot;purple&quot; depending on what the random rgb values are. \r\n\r\nI looked on here and I found that I could possibly use the `getRGB` method and parsing and thats where I get stuck... any help would be great :)\r\n\r\n","title":"Java - toString to Colour","body":"<p>I have been trying to work this out all day.</p>\n\n<p>Basically I have made a for loop which adds entries into an arraylist. One of the entries is a \"Colour\" varible. I have used the <code>random.nextInt</code> to create new values for the red, green and blue parts of the colour constructor. I have also set a <code>toString</code> method so I can see the values going into the arraylist. </p>\n\n<p>Problem is:</p>\n\n<p>When printing out I get  :  <code>java.awt.Color[r=248,g=103,b=53]</code></p>\n\n<p>and I understand why that is so, I'm just wondering how I can change that so the output says the word \"orange\" or \"green\" or \"purple\" depending on what the random rgb values are. </p>\n\n<p>I looked on here and I found that I could possibly use the <code>getRGB</code> method and parsing and thats where I get stuck... any help would be great :)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3362613,"reputation":3562,"user_id":2824087,"accept_rate":100,"display_name":"Rob Gorman"},"score":1,"creation_date":1522794842,"post_id":49640034,"comment_id":86287786,"body_markdown":"I think you need to show some code..","body":"I think you need to show some code.."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1522795170,"post_id":49640034,"comment_id":86287892,"body_markdown":"What I&#39;d do: create my own enum or Map to link Strings to Colors","body":"What I&#39;d do: create my own enum or Map to link Strings to Colors"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1522795234,"post_id":49640034,"comment_id":86287914,"body_markdown":"But having said that, there is no one-size-fits all answer. What String should be returned for `Color(130, 23, 199)`? That&#39;s why you should write your own code that links a subset of Colors to corresponding Strings. So yes, as @RobGorman suggests -- please show some code.","body":"But having said that, there is no one-size-fits all answer. What String should be returned for <code>Color(130, 23, 199)</code>? That&#39;s why you should write your own code that links a subset of Colors to corresponding Strings. So yes, as @RobGorman suggests -- please show some code."},{"owner":{"account_id":12733195,"reputation":23,"user_id":9249107,"display_name":"user7784"},"score":0,"creation_date":1522795510,"post_id":49640034,"comment_id":86287992,"body_markdown":"@RobGorman I updated with a link to the code.","body":"@RobGorman I updated with a link to the code."},{"owner":{"account_id":2761650,"reputation":2950,"user_id":2378429,"display_name":"O.O.Balance"},"score":0,"creation_date":1522795663,"post_id":49640034,"comment_id":86288018,"body_markdown":"Please don&#39;t link to code. Include it in your post, properly formatted.","body":"Please don&#39;t link to code. Include it in your post, properly formatted."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1522795674,"post_id":49640034,"comment_id":86288022,"body_markdown":"Then try to do as suggested -- link your String with your date with either a Map or an enum. Also, please post pertinent code, preferably a [Minimal, Complete, and Verifiable Example Program](http://stackoverflow.com/help/mcve), here with your question, not in a link. Links can go dead, and links may hold large programs, programs too large to ask a volunteer to review. Your compliance with this request will be greatly appreciated and will likely help you in getting better and faster help.","body":"Then try to do as suggested -- link your String with your date with either a Map or an enum. Also, please post pertinent code, preferably a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable Example Program</a>, here with your question, not in a link. Links can go dead, and links may hold large programs, programs too large to ask a volunteer to review. Your compliance with this request will be greatly appreciated and will likely help you in getting better and faster help."},{"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"score":0,"creation_date":1522796075,"post_id":49640034,"comment_id":86288127,"body_markdown":"if you simply want RED to be &quot;RED&quot; then create an enum of all the colors a guitar can be and use those and not the java.awt.Color class since you aren&#39;t using the Color class for what it&#39;s used for","body":"if you simply want RED to be &quot;RED&quot; then create an enum of all the colors a guitar can be and use those and not the java.awt.Color class since you aren&#39;t using the Color class for what it&#39;s used for"},{"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"score":0,"creation_date":1522796405,"post_id":49640034,"comment_id":86288216,"body_markdown":"ok but did the professor&#39;s getColor() return a Color or did it return a String??","body":"ok but did the professor&#39;s getColor() return a Color or did it return a String??"}],"answers":[{"tags":[],"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1522855598,"creation_date":1522796845,"answer_id":49640342,"question_id":49640034,"body_markdown":"I would create a function in the guitar class that deciphers what color the guitar is and returns the `String` representation of that color and not the actual `Color` object. Try this\r\n\r\n    public String getColorOfGuitar() {\r\n\r\n\t    if(guitarColor.equals(Color.RED))\r\n\t        return &quot;RED&quot;;\r\n\t    else if(guitarColor.equals(Color.BLUE))\r\n\t    \treturn &quot;BLUE&quot;;\r\n\t    else if(guitarColor.equals(Color.YELLOW))\r\n\t    \treturn &quot;YELLOW&quot;;\r\n\t    else\r\n\t    \treturn &quot;Unknown Color&quot;;\r\n\t}\r\n\r\nNow when you call the method it will return a String representation of that Color\r\n\r\n    System.out.println(&quot;getColorOfGuitar() result: &quot; + g1.getColorOfGuitar()); //--&gt; getColor() result: RED","title":"java.awt.color return color name not RGB value","body":"<p>I would create a function in the guitar class that deciphers what color the guitar is and returns the <code>String</code> representation of that color and not the actual <code>Color</code> object. Try this</p>\n\n<pre><code>public String getColorOfGuitar() {\n\n    if(guitarColor.equals(Color.RED))\n        return \"RED\";\n    else if(guitarColor.equals(Color.BLUE))\n        return \"BLUE\";\n    else if(guitarColor.equals(Color.YELLOW))\n        return \"YELLOW\";\n    else\n        return \"Unknown Color\";\n}\n</code></pre>\n\n<p>Now when you call the method it will return a String representation of that Color</p>\n\n<pre><code>System.out.println(\"getColorOfGuitar() result: \" + g1.getColorOfGuitar()); //--&gt; getColor() result: RED\n</code></pre>\n"}],"owner":{"account_id":12733195,"reputation":23,"user_id":9249107,"display_name":"user7784"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4610,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49640342,"answer_count":1,"score":2,"last_activity_date":1679808798,"creation_date":1522794701,"question_id":49640034,"body_markdown":"Before anyone marks this as a duplicate, I read about 7 other questions that were similar and none of them had answers anywhere close to what I&#39;m looking for. I also ventured past the first two pages of Google search results and still couldn&#39;t find an answer.\r\n\r\nI don&#39;t care about all the colors in the world, I just want to use the ones that are already in the java Color class (i.e &quot;red&quot;, &quot;black&quot;, &quot;green&quot;).\r\n\r\nI&#39;m writing a program for an intro Java class and the professor said to declare &quot;a private Color data field named guitarColor that defines the color of the guitar. The default value should be Color.Red.&quot; His example output shows the color returning as &quot;getColor(): Red&quot;. So I need to use the color class to get the output in this format. \r\n\r\nWhen I use the java.awt.color class and input something like Color.RED, I want it to return &quot;Red&quot;, not &quot;java.awt.Color[r=255,g=0,b=0]&quot;. How can I do this?\r\n\r\n\r\n     \r\n    import java.awt.Color;\r\n    \r\n    public class Program\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \tGuitar g1 = new Guitar(); \r\n    \r\n    \tSystem.out.println(&quot;getColor() result: &quot; + g1.getColor());\r\n    \r\n    \t}\r\n    }\r\n    \r\n    \r\n    public class Guitar {    \r\n    \r\n    \tprivate Color guitarColor;\r\n    \r\n    \tpublic Guitar () {\r\n    \t\tguitarColor = Color.RED;\r\n    \t}\r\n    \r\n       public Color getColor() {\r\n    \t   return guitarColor;\r\n       }\r\n       \r\n    \r\n    } \r\n\r\n\r\nOutput: \r\n\r\n    getColor() result: java.awt.Color[r=255,g=0,b=0]","title":"java.awt.color return color name not RGB value","body":"<p>Before anyone marks this as a duplicate, I read about 7 other questions that were similar and none of them had answers anywhere close to what I'm looking for. I also ventured past the first two pages of Google search results and still couldn't find an answer.</p>\n\n<p>I don't care about all the colors in the world, I just want to use the ones that are already in the java Color class (i.e \"red\", \"black\", \"green\").</p>\n\n<p>I'm writing a program for an intro Java class and the professor said to declare \"a private Color data field named guitarColor that defines the color of the guitar. The default value should be Color.Red.\" His example output shows the color returning as \"getColor(): Red\". So I need to use the color class to get the output in this format. </p>\n\n<p>When I use the java.awt.color class and input something like Color.RED, I want it to return \"Red\", not \"java.awt.Color[r=255,g=0,b=0]\". How can I do this?</p>\n\n<pre><code>import java.awt.Color;\n\npublic class Program\n{\n    public static void main(String[] args) {\n\n    Guitar g1 = new Guitar(); \n\n    System.out.println(\"getColor() result: \" + g1.getColor());\n\n    }\n}\n\n\npublic class Guitar {    \n\n    private Color guitarColor;\n\n    public Guitar () {\n        guitarColor = Color.RED;\n    }\n\n   public Color getColor() {\n       return guitarColor;\n   }\n\n\n} \n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>getColor() result: java.awt.Color[r=255,g=0,b=0]\n</code></pre>\n"},{"tags":["java","colors"],"answers":[{"tags":[],"owner":{"account_id":223869,"reputation":54820,"user_id":483349,"accept_rate":67,"display_name":"Evan Mulawski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1289236338,"creation_date":1289235442,"answer_id":4126066,"question_id":4126029,"body_markdown":"Not all RGB values have aliases. You may need to create an array containing arrays of Red, Green, Blue, and Alias values. Then you would iterate over that array comparing the RGB values.\r\n\r\nhttp://en.wikipedia.org/wiki/List_of_colors\r\n\r\n**Edit:**\r\n\r\nSample:\r\n\r\n    //array of known aliases and rgb values\r\n    ArrayList colorList = new ArrayList();\r\n    colorList.add(new String[] {&quot;255&quot;, &quot;0&quot;, &quot;0&quot;, &quot;Red&quot;});\r\n    //etc...\r\n    \r\n    Color c = new Color(255, 0, 0); //test color\r\n    String name = &quot;Unknown&quot;;\r\n    for (String[] color : colorList)\r\n    {\r\n        int r = Integer.parseInt(color[0]) //red value\r\n        int g = Integer.parseInt(color[1]) //green value\r\n        int b = Integer.parseInt(color[2]) //blue value\r\n        String alias = color[3];\r\n    \r\n        if ((c.getRed() == r) &amp;&amp; (c.getGreen() == g) &amp;&amp; (c.getBlue() == b))\r\n        {\r\n            name = alias; //found it\r\n            break;\r\n        }\r\n    }","title":"Convert RGB values to color name","body":"<p>Not all RGB values have aliases. You may need to create an array containing arrays of Red, Green, Blue, and Alias values. Then you would iterate over that array comparing the RGB values.</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/List_of_colors\" rel=\"nofollow\">http://en.wikipedia.org/wiki/List_of_colors</a></p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Sample:</p>\n\n<pre><code>//array of known aliases and rgb values\nArrayList colorList = new ArrayList();\ncolorList.add(new String[] {\"255\", \"0\", \"0\", \"Red\"});\n//etc...\n\nColor c = new Color(255, 0, 0); //test color\nString name = \"Unknown\";\nfor (String[] color : colorList)\n{\n    int r = Integer.parseInt(color[0]) //red value\n    int g = Integer.parseInt(color[1]) //green value\n    int b = Integer.parseInt(color[2]) //blue value\n    String alias = color[3];\n\n    if ((c.getRed() == r) &amp;&amp; (c.getGreen() == g) &amp;&amp; (c.getBlue() == b))\n    {\n        name = alias; //found it\n        break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":59692,"reputation":35753,"user_id":178526,"accept_rate":85,"display_name":"sfussenegger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1289253071,"creation_date":1289235878,"answer_id":4126126,"question_id":4126029,"body_markdown":"You could simply build a lookup table, e.g. using the constants from Color class itself:\r\n\r\n    Map&lt;Integer, String&gt; map = new HashMap&lt;Integer, String&gt;();\r\n    for (Field f : Color.class.getFields()) {\r\n      if (f.getType() == Color.class) {\r\n        Color c = (Color) f.get(null);\r\n        map.put(c.getRGB(), f.getName()); \r\n      }\r\n    }\r\n\r\nIf you want all HTML colors or all those form Wikipedia linked by @evan, you have still a little homework to do though.\r\n\r\nEDIT resulting map:\r\n\r\n\r\n    0xff00ffff: CYAN\r\n    0xff0000ff: BLUE\r\n    0xffc0c0c0: LIGHT_GRAY\r\n    0xff808080: GRAY\r\n    0xffffff00: YELLOW\r\n    0xffff0000: RED\r\n    0xffffafaf: PINK\r\n    0xff000000: BLACK\r\n    0xff00ff00: GREEN\r\n    0xffffc800: ORANGE\r\n    0xff404040: DARK_GRAY\r\n    0xffff00ff: MAGENTA\r\n    0xffffffff: WHITE\r\n","title":"Convert RGB values to color name","body":"<p>You could simply build a lookup table, e.g. using the constants from Color class itself:</p>\n\n<pre><code>Map&lt;Integer, String&gt; map = new HashMap&lt;Integer, String&gt;();\nfor (Field f : Color.class.getFields()) {\n  if (f.getType() == Color.class) {\n    Color c = (Color) f.get(null);\n    map.put(c.getRGB(), f.getName()); \n  }\n}\n</code></pre>\n\n<p>If you want all HTML colors or all those form Wikipedia linked by @evan, you have still a little homework to do though.</p>\n\n<p>EDIT resulting map:</p>\n\n<pre><code>0xff00ffff: CYAN\n0xff0000ff: BLUE\n0xffc0c0c0: LIGHT_GRAY\n0xff808080: GRAY\n0xffffff00: YELLOW\n0xffff0000: RED\n0xffffafaf: PINK\n0xff000000: BLACK\n0xff00ff00: GREEN\n0xffffc800: ORANGE\n0xff404040: DARK_GRAY\n0xffff00ff: MAGENTA\n0xffffffff: WHITE\n</code></pre>\n"},{"tags":[],"owner":{"account_id":206727,"reputation":18470,"user_id":456188,"accept_rate":94,"display_name":"Chris Pfohl"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1289248049,"creation_date":1289235919,"answer_id":4126131,"question_id":4126029,"body_markdown":"Hmm, that&#39;s a kind of fun problem.  I can think of a few solutions:\r\n\r\n 1. You could do a bit of guesswork depending on the relationships between the R-G-B values (for example, if one color is very dominant you guess that one, but if there&#39;s a bit of other color you get more and more likely to guess the combination of those two emitted colors, if all three are close to equal then guess white, grey, or black depending on how high the average of the three values is, if two are high and the other is low guess the combinatoin of the two, etc. etc.)\r\n\r\n 2. You could go for a more learning approach where you set some initial guesses (as above) and then improve on those based on feedback from users.\r\n\r\nUnfortunately this problem is relatively subjective (although the question is not!) as people&#39;s perception of color varies widely between culture and even gender (see [Randall Munroe&#39;s &quot;study&quot; on it][1] ).\r\n\r\nIf you want a specific subset of RGB values (like the ones that are given constants in Java or C# you can iterate through each and compare, finally returning some default value if it&#39;s not equal to any of them).\r\n\r\n\r\n  [1]: http://blog.xkcd.com/2010/05/03/color-survey-results/\r\n\r\n**[EDIT]**\r\n\r\nAhh! Colorblind users eh? Have you considered creating a setting which lets the user specify which colors they have trouble differentiating?  If you did that you could let them know that something is &quot;20% Redder than Green&quot; (if, for instance, they had red-green colorblindness, which is most common).  That would be pretty simple.  They select a pixel, and you follow this pseudocode:\r\n\r\n    if( userColorTrouble == RedGreen )\r\n    {\r\n        int redVal = colorInQuestion.GetRed();\r\n        int greenVal = colorInQuestion.GetGreen();\r\n        if( redVal &gt; greenVal )\r\n        {\r\n             return &quot;The color is &quot; + (double)redVal / (redVal + greenVal) - .5d + &quot;% redder than green&quot;;\r\n        }\r\n        else\r\n        {\r\n             return &quot;The color is &quot; + (double)greenVal / (redVal + greenVal) - .5d + &quot;% greener than red&quot;;\r\n        }\r\n    }\r\n    \r\n\r\nThat could be a simpler, and more useful solution.","title":"Convert RGB values to color name","body":"<p>Hmm, that's a kind of fun problem.  I can think of a few solutions:</p>\n\n<ol>\n<li><p>You could do a bit of guesswork depending on the relationships between the R-G-B values (for example, if one color is very dominant you guess that one, but if there's a bit of other color you get more and more likely to guess the combination of those two emitted colors, if all three are close to equal then guess white, grey, or black depending on how high the average of the three values is, if two are high and the other is low guess the combinatoin of the two, etc. etc.)</p></li>\n<li><p>You could go for a more learning approach where you set some initial guesses (as above) and then improve on those based on feedback from users.</p></li>\n</ol>\n\n<p>Unfortunately this problem is relatively subjective (although the question is not!) as people's perception of color varies widely between culture and even gender (see <a href=\"http://blog.xkcd.com/2010/05/03/color-survey-results/\" rel=\"nofollow\">Randall Munroe's \"study\" on it</a> ).</p>\n\n<p>If you want a specific subset of RGB values (like the ones that are given constants in Java or C# you can iterate through each and compare, finally returning some default value if it's not equal to any of them).</p>\n\n<p><strong>[EDIT]</strong></p>\n\n<p>Ahh! Colorblind users eh? Have you considered creating a setting which lets the user specify which colors they have trouble differentiating?  If you did that you could let them know that something is \"20% Redder than Green\" (if, for instance, they had red-green colorblindness, which is most common).  That would be pretty simple.  They select a pixel, and you follow this pseudocode:</p>\n\n<pre><code>if( userColorTrouble == RedGreen )\n{\n    int redVal = colorInQuestion.GetRed();\n    int greenVal = colorInQuestion.GetGreen();\n    if( redVal &gt; greenVal )\n    {\n         return \"The color is \" + (double)redVal / (redVal + greenVal) - .5d + \"% redder than green\";\n    }\n    else\n    {\n         return \"The color is \" + (double)greenVal / (redVal + greenVal) - .5d + \"% greener than red\";\n    }\n}\n</code></pre>\n\n<p>That could be a simpler, and more useful solution.</p>\n"},{"tags":[],"owner":{"account_id":209644,"reputation":1256,"user_id":460790,"accept_rate":75,"display_name":"Ivan"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1422882988,"creation_date":1289236109,"answer_id":4126159,"question_id":4126029,"body_markdown":"1.  Populate a list of &quot;known&quot; colors.  \r\n2.  For each known color compute:    \r\n\r\n        rgbDistance = Math.abs(myColor.getRed() - colorI.getRed() + \r\n                      Math.abs(myColor.getGreen() - colorI.getGreen()) +\r\n                      Math.abs(myColor.getBlue() - colorI.getBlue())  \r\n\r\n3.  Return the name of `colorI` for which `rgbDistance` was smallest.","title":"Convert RGB values to color name","body":"<ol>\n<li>Populate a list of \"known\" colors.  </li>\n<li><p>For each known color compute:    </p>\n\n<pre><code>rgbDistance = Math.abs(myColor.getRed() - colorI.getRed() + \n              Math.abs(myColor.getGreen() - colorI.getGreen()) +\n              Math.abs(myColor.getBlue() - colorI.getBlue())  \n</code></pre></li>\n<li><p>Return the name of <code>colorI</code> for which <code>rgbDistance</code> was smallest.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":186344,"reputation":10769,"user_id":423673,"display_name":"baklarz2048"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1289237696,"creation_date":1289237276,"answer_id":4126314,"question_id":4126029,"body_markdown":"Frist of all convert pixels from RGB to HSV. It&#39;s much easier to define color ranges in HSV than in RGB.\r\n\r\n    /**\r\n    *\r\n    *@author Tomasz Drobiszewski\r\n    */\r\n    public class Color {\r\n    \t/**\r\n    \t * Human color table.\r\n    \t */\r\n    \tpublic static final int [] [] colors  = {\r\n    \t\t\t{-1,-10,-360,-0,-100,-10,-80},\r\n    \t\t\t{1,0,360,0,100,0,50},\r\n    \t\t\t{2,0,360,0,15,50,130},\r\n    \t\t\t{3,0,360,0,15,130,210},\r\n    \t\t\t{4,-15,15,15,100,50,255},\r\n    \t\t\t{5,15,45,15,100,50,255},\r\n    \t\t\t{6,45,75,15,100,50,255},\r\n    \t\t\t{7,75,105,15,100,50,255},\r\n    \t\t\t{8,105,135,15,100,50,255},\r\n    \t\t\t{9,135,165,15,100,50,255},\r\n    \t\t\t{10,165,195,15,100,50,255},\r\n    \t\t\t{11,195,225,15,100,50,255},\r\n    \t\t\t{12,225,255,15,100,50,255},\r\n    \t\t\t{13,255,285,15,100,50,255},\r\n    \t\t\t{14,285,315,15,100,50,255},\r\n    \t\t\t{15,315,345,15,100,50,255},\r\n    \t\t\t{16,345,375,15,100,50,255},\r\n    \t\t\t{17,0,360,0,15,210,255}\t\r\n    \t};\r\n    \t\r\n    \t/**\r\n    \t * Color names.\r\n    \t */\r\n    \tpublic static final String [] humanColors = {\r\n    \t\t\t&quot;unrecognized&quot;, \r\n    \t\t\t&quot;black&quot;, //black colors[1]\r\n    \t\t\t&quot;grey&quot;,\r\n    \t\t\t&quot;light_grey&quot;,\r\n    \t\t\t&quot;red&quot;,\r\n    \t\t\t&quot;orange&quot;,\r\n    \t\t\t&quot;yellow&quot;,\r\n    \t\t\t&quot;jasny_zielony&quot;,\r\n    \t\t\t&quot;zielony&quot;,\r\n    \t\t\t&quot;zielony&quot;,\r\n    \t\t\t&quot;turkusowy&quot;,\r\n    \t\t\t&quot;jasny_niebieski&quot;,\r\n    \t\t\t&quot;niebieski&quot;,\r\n    \t\t\t&quot;fioletowy&quot;,\r\n    \t\t\t&quot;fioletowy&quot;,\r\n    \t\t\t&quot;rozowy&quot;,\r\n    \t\t\t&quot;czerwony&quot;,\r\n    \t\t\t&quot;bialy&quot;,\r\n    \t\t};\r\n    \t\r\n    \t/**\r\n    \t * Convert from  RGB do HSV\r\n    \t * \r\n    \t * @param r\r\n    \t * @param g\r\n    \t * @param b\r\n    \t * @param hsv\r\n    \t */\r\n    \tpublic static void rgb2hsv(int r, int g, int b, int hsv[]) {\r\n    \r\n    \t\tint min; // Min. value of RGB\r\n    \t\tint max; // Max. value of RGB\r\n    \t\tint delMax; // Delta RGB value\r\n    \r\n    \t\tif (r &gt; g) {\r\n    \t\t\tmin = g;\r\n    \t\t\tmax = r;\r\n    \t\t} else {\r\n    \t\t\tmin = r;\r\n    \t\t\tmax = g;\r\n    \t\t}\r\n    \t\tif (b &gt; max)\r\n    \t\t\tmax = b;\r\n    \t\tif (b &lt; min)\r\n    \t\t\tmin = b;\r\n    \r\n    \t\tdelMax = max - min;\r\n    \r\n    \t\tfloat H = 0, S;\r\n    \t\tfloat V = max;\r\n    \r\n    \t\tif (delMax == 0) {\r\n    \t\t\tH = 0;\r\n    \t\t\tS = 0;\r\n    \r\n    \t\t} else {\r\n    \t\t\tS = delMax / (float) max;\r\n    \t\t\tif (r == max)\r\n    \t\t\t\tH = ((g - b) / (float) delMax) * 60;\r\n    \t\t\telse if (g == max)\r\n    \t\t\t\tH = (2 + (b - r) / (float) delMax) * 60;\r\n    \t\t\telse if (b == max)\r\n    \t\t\t\tH = (4 + (r - g) / (float) delMax) * 60;\r\n    \r\n    \t\t}\r\n    \r\n    \t\thsv[0] = (int) (H);\r\n    \t\thsv[1] = (int) (S * 100);\r\n    \t\thsv[2] = (int) V;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Return human color index {@link Color#colors}\r\n    \t * \r\n    \t * @param r\r\n    \t * @param g\r\n    \t * @param b\r\n    \t * @return\r\n    \t */\r\n    \tpublic static int [] getHumanColor(int r, int g, int b) {\r\n    \t\tint [] res = {0, 0, 0, 0};\r\n    \t\tint[] hsv = new int[3];\r\n    \t\trgb2hsv(r, g, b, hsv);\r\n    \t\tfor (int i = 1; i &lt; colors.length; i++) {\r\n    \t\t\tif (hsv[0] &lt;= colors[i][2] &amp;&amp; hsv[0] &gt;= colors[i][1]\r\n    \t\t\t\t\t&amp;&amp; hsv[1] &lt;= colors[i][4] &amp;&amp; hsv[1] &gt;= colors[i][3]\r\n    \t\t\t\t\t&amp;&amp; hsv[2] &lt;= colors[i][6] &amp;&amp; hsv[2] &gt;= colors[i][5]) {\r\n    \t\t\t\tres[3] = i;\r\n    \t\t\t\tres[0] = hsv[0];\r\n    \t\t\t\tres[1] = hsv[1];\r\n    \t\t\t\tres[2] = hsv[2];\r\n    \t\t\t\treturn res;\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t\treturn res;\r\n    \t}\r\n    \r\n    }","title":"Convert RGB values to color name","body":"<p>Frist of all convert pixels from RGB to HSV. It's much easier to define color ranges in HSV than in RGB.</p>\n\n<pre><code>/**\n*\n*@author Tomasz Drobiszewski\n*/\npublic class Color {\n    /**\n     * Human color table.\n     */\n    public static final int [] [] colors  = {\n            {-1,-10,-360,-0,-100,-10,-80},\n            {1,0,360,0,100,0,50},\n            {2,0,360,0,15,50,130},\n            {3,0,360,0,15,130,210},\n            {4,-15,15,15,100,50,255},\n            {5,15,45,15,100,50,255},\n            {6,45,75,15,100,50,255},\n            {7,75,105,15,100,50,255},\n            {8,105,135,15,100,50,255},\n            {9,135,165,15,100,50,255},\n            {10,165,195,15,100,50,255},\n            {11,195,225,15,100,50,255},\n            {12,225,255,15,100,50,255},\n            {13,255,285,15,100,50,255},\n            {14,285,315,15,100,50,255},\n            {15,315,345,15,100,50,255},\n            {16,345,375,15,100,50,255},\n            {17,0,360,0,15,210,255} \n    };\n\n    /**\n     * Color names.\n     */\n    public static final String [] humanColors = {\n            \"unrecognized\", \n            \"black\", //black colors[1]\n            \"grey\",\n            \"light_grey\",\n            \"red\",\n            \"orange\",\n            \"yellow\",\n            \"jasny_zielony\",\n            \"zielony\",\n            \"zielony\",\n            \"turkusowy\",\n            \"jasny_niebieski\",\n            \"niebieski\",\n            \"fioletowy\",\n            \"fioletowy\",\n            \"rozowy\",\n            \"czerwony\",\n            \"bialy\",\n        };\n\n    /**\n     * Convert from  RGB do HSV\n     * \n     * @param r\n     * @param g\n     * @param b\n     * @param hsv\n     */\n    public static void rgb2hsv(int r, int g, int b, int hsv[]) {\n\n        int min; // Min. value of RGB\n        int max; // Max. value of RGB\n        int delMax; // Delta RGB value\n\n        if (r &gt; g) {\n            min = g;\n            max = r;\n        } else {\n            min = r;\n            max = g;\n        }\n        if (b &gt; max)\n            max = b;\n        if (b &lt; min)\n            min = b;\n\n        delMax = max - min;\n\n        float H = 0, S;\n        float V = max;\n\n        if (delMax == 0) {\n            H = 0;\n            S = 0;\n\n        } else {\n            S = delMax / (float) max;\n            if (r == max)\n                H = ((g - b) / (float) delMax) * 60;\n            else if (g == max)\n                H = (2 + (b - r) / (float) delMax) * 60;\n            else if (b == max)\n                H = (4 + (r - g) / (float) delMax) * 60;\n\n        }\n\n        hsv[0] = (int) (H);\n        hsv[1] = (int) (S * 100);\n        hsv[2] = (int) V;\n    }\n\n    /**\n     * Return human color index {@link Color#colors}\n     * \n     * @param r\n     * @param g\n     * @param b\n     * @return\n     */\n    public static int [] getHumanColor(int r, int g, int b) {\n        int [] res = {0, 0, 0, 0};\n        int[] hsv = new int[3];\n        rgb2hsv(r, g, b, hsv);\n        for (int i = 1; i &lt; colors.length; i++) {\n            if (hsv[0] &lt;= colors[i][2] &amp;&amp; hsv[0] &gt;= colors[i][1]\n                    &amp;&amp; hsv[1] &lt;= colors[i][4] &amp;&amp; hsv[1] &gt;= colors[i][3]\n                    &amp;&amp; hsv[2] &lt;= colors[i][6] &amp;&amp; hsv[2] &gt;= colors[i][5]) {\n                res[3] = i;\n                res[0] = hsv[0];\n                res[1] = hsv[1];\n                res[2] = hsv[2];\n                return res;\n            }\n\n        }\n        return res;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2051701,"reputation":818,"user_id":1830564,"display_name":"cindyxiaoxiaoli"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1391466836,"creation_date":1387406743,"answer_id":20670056,"question_id":4126029,"body_markdown":"Here is [a working sample code](https://gist.github.com/XiaoxiaoLi/8031146) that does that. It converts an rgb/hex value/awt color into the closest color name.\r\n\r\n\timport java.awt.Color;\r\n\timport java.util.ArrayList;\r\n\t \r\n\t/**\r\n\t * Java Code to get a color name from rgb/hex value/awt color\r\n\t * \r\n\t * The part of looking up a color name from the rgb values is edited from\r\n\t * https://gist.github.com/nightlark/6482130#file-gistfile1-java (that has some errors) by Ryan Mast (nightlark)\r\n\t * \r\n\t * @author Xiaoxiao Li\r\n\t * \r\n\t */\r\n\tpublic class ColorUtils {\r\n\t \r\n\t\t/**\r\n\t\t * Initialize the color list that we have.\r\n\t\t */\r\n\t\tprivate ArrayList&lt;ColorName&gt; initColorList() {\r\n\t\t\tArrayList&lt;ColorName&gt; colorList = new ArrayList&lt;ColorName&gt;();\r\n\t\t\tcolorList.add(new ColorName(&quot;AliceBlue&quot;, 0xF0, 0xF8, 0xFF));\r\n\t\t\tcolorList.add(new ColorName(&quot;AntiqueWhite&quot;, 0xFA, 0xEB, 0xD7));\r\n\t\t\tcolorList.add(new ColorName(&quot;Aqua&quot;, 0x00, 0xFF, 0xFF));\r\n\t\t\tcolorList.add(new ColorName(&quot;Aquamarine&quot;, 0x7F, 0xFF, 0xD4));\r\n\t\t\tcolorList.add(new ColorName(&quot;Azure&quot;, 0xF0, 0xFF, 0xFF));\r\n\t\t\tcolorList.add(new ColorName(&quot;Beige&quot;, 0xF5, 0xF5, 0xDC));\r\n\t\t\tcolorList.add(new ColorName(&quot;Bisque&quot;, 0xFF, 0xE4, 0xC4));\r\n\t\t\tcolorList.add(new ColorName(&quot;Black&quot;, 0x00, 0x00, 0x00));\r\n\t\t\tcolorList.add(new ColorName(&quot;BlanchedAlmond&quot;, 0xFF, 0xEB, 0xCD));\r\n\t\t\tcolorList.add(new ColorName(&quot;Blue&quot;, 0x00, 0x00, 0xFF));\r\n\t\t\tcolorList.add(new ColorName(&quot;BlueViolet&quot;, 0x8A, 0x2B, 0xE2));\r\n\t\t\tcolorList.add(new ColorName(&quot;Brown&quot;, 0xA5, 0x2A, 0x2A));\r\n\t\t\tcolorList.add(new ColorName(&quot;BurlyWood&quot;, 0xDE, 0xB8, 0x87));\r\n\t\t\tcolorList.add(new ColorName(&quot;CadetBlue&quot;, 0x5F, 0x9E, 0xA0));\r\n\t\t\tcolorList.add(new ColorName(&quot;Chartreuse&quot;, 0x7F, 0xFF, 0x00));\r\n\t\t\tcolorList.add(new ColorName(&quot;Chocolate&quot;, 0xD2, 0x69, 0x1E));\r\n\t\t\tcolorList.add(new ColorName(&quot;Coral&quot;, 0xFF, 0x7F, 0x50));\r\n\t\t\tcolorList.add(new ColorName(&quot;CornflowerBlue&quot;, 0x64, 0x95, 0xED));\r\n\t\t\tcolorList.add(new ColorName(&quot;Cornsilk&quot;, 0xFF, 0xF8, 0xDC));\r\n\t\t\tcolorList.add(new ColorName(&quot;Crimson&quot;, 0xDC, 0x14, 0x3C));\r\n\t\t\tcolorList.add(new ColorName(&quot;Cyan&quot;, 0x00, 0xFF, 0xFF));\r\n\t\t\tcolorList.add(new ColorName(&quot;DarkBlue&quot;, 0x00, 0x00, 0x8B));\r\n\t\t\tcolorList.add(new ColorName(&quot;DarkCyan&quot;, 0x00, 0x8B, 0x8B));\r\n\t\t\tcolorList.add(new ColorName(&quot;DarkGoldenRod&quot;, 0xB8, 0x86, 0x0B));\r\n\t\t\tcolorList.add(new ColorName(&quot;DarkGray&quot;, 0xA9, 0xA9, 0xA9));\r\n\t\t\tcolorList.add(new ColorName(&quot;DarkGreen&quot;, 0x00, 0x64, 0x00));\r\n\t\t\tcolorList.add(new ColorName(&quot;DarkKhaki&quot;, 0xBD, 0xB7, 0x6B));\r\n\t\t\tcolorList.add(new ColorName(&quot;DarkMagenta&quot;, 0x8B, 0x00, 0x8B));\r\n\t\t\tcolorList.add(new ColorName(&quot;DarkOliveGreen&quot;, 0x55, 0x6B, 0x2F));\r\n\t\t\tcolorList.add(new ColorName(&quot;DarkOrange&quot;, 0xFF, 0x8C, 0x00));\r\n\t\t\tcolorList.add(new ColorName(&quot;DarkOrchid&quot;, 0x99, 0x32, 0xCC));\r\n\t\t\tcolorList.add(new ColorName(&quot;DarkRed&quot;, 0x8B, 0x00, 0x00));\r\n\t\t\tcolorList.add(new ColorName(&quot;DarkSalmon&quot;, 0xE9, 0x96, 0x7A));\r\n\t\t\tcolorList.add(new ColorName(&quot;DarkSeaGreen&quot;, 0x8F, 0xBC, 0x8F));\r\n\t\t\tcolorList.add(new ColorName(&quot;DarkSlateBlue&quot;, 0x48, 0x3D, 0x8B));\r\n\t\t\tcolorList.add(new ColorName(&quot;DarkSlateGray&quot;, 0x2F, 0x4F, 0x4F));\r\n\t\t\tcolorList.add(new ColorName(&quot;DarkTurquoise&quot;, 0x00, 0xCE, 0xD1));\r\n\t\t\tcolorList.add(new ColorName(&quot;DarkViolet&quot;, 0x94, 0x00, 0xD3));\r\n\t\t\tcolorList.add(new ColorName(&quot;DeepPink&quot;, 0xFF, 0x14, 0x93));\r\n\t\t\tcolorList.add(new ColorName(&quot;DeepSkyBlue&quot;, 0x00, 0xBF, 0xFF));\r\n\t\t\tcolorList.add(new ColorName(&quot;DimGray&quot;, 0x69, 0x69, 0x69));\r\n\t\t\tcolorList.add(new ColorName(&quot;DodgerBlue&quot;, 0x1E, 0x90, 0xFF));\r\n\t\t\tcolorList.add(new ColorName(&quot;FireBrick&quot;, 0xB2, 0x22, 0x22));\r\n\t\t\tcolorList.add(new ColorName(&quot;FloralWhite&quot;, 0xFF, 0xFA, 0xF0));\r\n\t\t\tcolorList.add(new ColorName(&quot;ForestGreen&quot;, 0x22, 0x8B, 0x22));\r\n\t\t\tcolorList.add(new ColorName(&quot;Fuchsia&quot;, 0xFF, 0x00, 0xFF));\r\n\t\t\tcolorList.add(new ColorName(&quot;Gainsboro&quot;, 0xDC, 0xDC, 0xDC));\r\n\t\t\tcolorList.add(new ColorName(&quot;GhostWhite&quot;, 0xF8, 0xF8, 0xFF));\r\n\t\t\tcolorList.add(new ColorName(&quot;Gold&quot;, 0xFF, 0xD7, 0x00));\r\n\t\t\tcolorList.add(new ColorName(&quot;GoldenRod&quot;, 0xDA, 0xA5, 0x20));\r\n\t\t\tcolorList.add(new ColorName(&quot;Gray&quot;, 0x80, 0x80, 0x80));\r\n\t\t\tcolorList.add(new ColorName(&quot;Green&quot;, 0x00, 0x80, 0x00));\r\n\t\t\tcolorList.add(new ColorName(&quot;GreenYellow&quot;, 0xAD, 0xFF, 0x2F));\r\n\t\t\tcolorList.add(new ColorName(&quot;HoneyDew&quot;, 0xF0, 0xFF, 0xF0));\r\n\t\t\tcolorList.add(new ColorName(&quot;HotPink&quot;, 0xFF, 0x69, 0xB4));\r\n\t\t\tcolorList.add(new ColorName(&quot;IndianRed&quot;, 0xCD, 0x5C, 0x5C));\r\n\t\t\tcolorList.add(new ColorName(&quot;Indigo&quot;, 0x4B, 0x00, 0x82));\r\n\t\t\tcolorList.add(new ColorName(&quot;Ivory&quot;, 0xFF, 0xFF, 0xF0));\r\n\t\t\tcolorList.add(new ColorName(&quot;Khaki&quot;, 0xF0, 0xE6, 0x8C));\r\n\t\t\tcolorList.add(new ColorName(&quot;Lavender&quot;, 0xE6, 0xE6, 0xFA));\r\n\t\t\tcolorList.add(new ColorName(&quot;LavenderBlush&quot;, 0xFF, 0xF0, 0xF5));\r\n\t\t\tcolorList.add(new ColorName(&quot;LawnGreen&quot;, 0x7C, 0xFC, 0x00));\r\n\t\t\tcolorList.add(new ColorName(&quot;LemonChiffon&quot;, 0xFF, 0xFA, 0xCD));\r\n\t\t\tcolorList.add(new ColorName(&quot;LightBlue&quot;, 0xAD, 0xD8, 0xE6));\r\n\t\t\tcolorList.add(new ColorName(&quot;LightCoral&quot;, 0xF0, 0x80, 0x80));\r\n\t\t\tcolorList.add(new ColorName(&quot;LightCyan&quot;, 0xE0, 0xFF, 0xFF));\r\n\t\t\tcolorList.add(new ColorName(&quot;LightGoldenRodYellow&quot;, 0xFA, 0xFA, 0xD2));\r\n\t\t\tcolorList.add(new ColorName(&quot;LightGray&quot;, 0xD3, 0xD3, 0xD3));\r\n\t\t\tcolorList.add(new ColorName(&quot;LightGreen&quot;, 0x90, 0xEE, 0x90));\r\n\t\t\tcolorList.add(new ColorName(&quot;LightPink&quot;, 0xFF, 0xB6, 0xC1));\r\n\t\t\tcolorList.add(new ColorName(&quot;LightSalmon&quot;, 0xFF, 0xA0, 0x7A));\r\n\t\t\tcolorList.add(new ColorName(&quot;LightSeaGreen&quot;, 0x20, 0xB2, 0xAA));\r\n\t\t\tcolorList.add(new ColorName(&quot;LightSkyBlue&quot;, 0x87, 0xCE, 0xFA));\r\n\t\t\tcolorList.add(new ColorName(&quot;LightSlateGray&quot;, 0x77, 0x88, 0x99));\r\n\t\t\tcolorList.add(new ColorName(&quot;LightSteelBlue&quot;, 0xB0, 0xC4, 0xDE));\r\n\t\t\tcolorList.add(new ColorName(&quot;LightYellow&quot;, 0xFF, 0xFF, 0xE0));\r\n\t\t\tcolorList.add(new ColorName(&quot;Lime&quot;, 0x00, 0xFF, 0x00));\r\n\t\t\tcolorList.add(new ColorName(&quot;LimeGreen&quot;, 0x32, 0xCD, 0x32));\r\n\t\t\tcolorList.add(new ColorName(&quot;Linen&quot;, 0xFA, 0xF0, 0xE6));\r\n\t\t\tcolorList.add(new ColorName(&quot;Magenta&quot;, 0xFF, 0x00, 0xFF));\r\n\t\t\tcolorList.add(new ColorName(&quot;Maroon&quot;, 0x80, 0x00, 0x00));\r\n\t\t\tcolorList.add(new ColorName(&quot;MediumAquaMarine&quot;, 0x66, 0xCD, 0xAA));\r\n\t\t\tcolorList.add(new ColorName(&quot;MediumBlue&quot;, 0x00, 0x00, 0xCD));\r\n\t\t\tcolorList.add(new ColorName(&quot;MediumOrchid&quot;, 0xBA, 0x55, 0xD3));\r\n\t\t\tcolorList.add(new ColorName(&quot;MediumPurple&quot;, 0x93, 0x70, 0xDB));\r\n\t\t\tcolorList.add(new ColorName(&quot;MediumSeaGreen&quot;, 0x3C, 0xB3, 0x71));\r\n\t\t\tcolorList.add(new ColorName(&quot;MediumSlateBlue&quot;, 0x7B, 0x68, 0xEE));\r\n\t\t\tcolorList.add(new ColorName(&quot;MediumSpringGreen&quot;, 0x00, 0xFA, 0x9A));\r\n\t\t\tcolorList.add(new ColorName(&quot;MediumTurquoise&quot;, 0x48, 0xD1, 0xCC));\r\n\t\t\tcolorList.add(new ColorName(&quot;MediumVioletRed&quot;, 0xC7, 0x15, 0x85));\r\n\t\t\tcolorList.add(new ColorName(&quot;MidnightBlue&quot;, 0x19, 0x19, 0x70));\r\n\t\t\tcolorList.add(new ColorName(&quot;MintCream&quot;, 0xF5, 0xFF, 0xFA));\r\n\t\t\tcolorList.add(new ColorName(&quot;MistyRose&quot;, 0xFF, 0xE4, 0xE1));\r\n\t\t\tcolorList.add(new ColorName(&quot;Moccasin&quot;, 0xFF, 0xE4, 0xB5));\r\n\t\t\tcolorList.add(new ColorName(&quot;NavajoWhite&quot;, 0xFF, 0xDE, 0xAD));\r\n\t\t\tcolorList.add(new ColorName(&quot;Navy&quot;, 0x00, 0x00, 0x80));\r\n\t\t\tcolorList.add(new ColorName(&quot;OldLace&quot;, 0xFD, 0xF5, 0xE6));\r\n\t\t\tcolorList.add(new ColorName(&quot;Olive&quot;, 0x80, 0x80, 0x00));\r\n\t\t\tcolorList.add(new ColorName(&quot;OliveDrab&quot;, 0x6B, 0x8E, 0x23));\r\n\t\t\tcolorList.add(new ColorName(&quot;Orange&quot;, 0xFF, 0xA5, 0x00));\r\n\t\t\tcolorList.add(new ColorName(&quot;OrangeRed&quot;, 0xFF, 0x45, 0x00));\r\n\t\t\tcolorList.add(new ColorName(&quot;Orchid&quot;, 0xDA, 0x70, 0xD6));\r\n\t\t\tcolorList.add(new ColorName(&quot;PaleGoldenRod&quot;, 0xEE, 0xE8, 0xAA));\r\n\t\t\tcolorList.add(new ColorName(&quot;PaleGreen&quot;, 0x98, 0xFB, 0x98));\r\n\t\t\tcolorList.add(new ColorName(&quot;PaleTurquoise&quot;, 0xAF, 0xEE, 0xEE));\r\n\t\t\tcolorList.add(new ColorName(&quot;PaleVioletRed&quot;, 0xDB, 0x70, 0x93));\r\n\t\t\tcolorList.add(new ColorName(&quot;PapayaWhip&quot;, 0xFF, 0xEF, 0xD5));\r\n\t\t\tcolorList.add(new ColorName(&quot;PeachPuff&quot;, 0xFF, 0xDA, 0xB9));\r\n\t\t\tcolorList.add(new ColorName(&quot;Peru&quot;, 0xCD, 0x85, 0x3F));\r\n\t\t\tcolorList.add(new ColorName(&quot;Pink&quot;, 0xFF, 0xC0, 0xCB));\r\n\t\t\tcolorList.add(new ColorName(&quot;Plum&quot;, 0xDD, 0xA0, 0xDD));\r\n\t\t\tcolorList.add(new ColorName(&quot;PowderBlue&quot;, 0xB0, 0xE0, 0xE6));\r\n\t\t\tcolorList.add(new ColorName(&quot;Purple&quot;, 0x80, 0x00, 0x80));\r\n\t\t\tcolorList.add(new ColorName(&quot;Red&quot;, 0xFF, 0x00, 0x00));\r\n\t\t\tcolorList.add(new ColorName(&quot;RosyBrown&quot;, 0xBC, 0x8F, 0x8F));\r\n\t\t\tcolorList.add(new ColorName(&quot;RoyalBlue&quot;, 0x41, 0x69, 0xE1));\r\n\t\t\tcolorList.add(new ColorName(&quot;SaddleBrown&quot;, 0x8B, 0x45, 0x13));\r\n\t\t\tcolorList.add(new ColorName(&quot;Salmon&quot;, 0xFA, 0x80, 0x72));\r\n\t\t\tcolorList.add(new ColorName(&quot;SandyBrown&quot;, 0xF4, 0xA4, 0x60));\r\n\t\t\tcolorList.add(new ColorName(&quot;SeaGreen&quot;, 0x2E, 0x8B, 0x57));\r\n\t\t\tcolorList.add(new ColorName(&quot;SeaShell&quot;, 0xFF, 0xF5, 0xEE));\r\n\t\t\tcolorList.add(new ColorName(&quot;Sienna&quot;, 0xA0, 0x52, 0x2D));\r\n\t\t\tcolorList.add(new ColorName(&quot;Silver&quot;, 0xC0, 0xC0, 0xC0));\r\n\t\t\tcolorList.add(new ColorName(&quot;SkyBlue&quot;, 0x87, 0xCE, 0xEB));\r\n\t\t\tcolorList.add(new ColorName(&quot;SlateBlue&quot;, 0x6A, 0x5A, 0xCD));\r\n\t\t\tcolorList.add(new ColorName(&quot;SlateGray&quot;, 0x70, 0x80, 0x90));\r\n\t\t\tcolorList.add(new ColorName(&quot;Snow&quot;, 0xFF, 0xFA, 0xFA));\r\n\t\t\tcolorList.add(new ColorName(&quot;SpringGreen&quot;, 0x00, 0xFF, 0x7F));\r\n\t\t\tcolorList.add(new ColorName(&quot;SteelBlue&quot;, 0x46, 0x82, 0xB4));\r\n\t\t\tcolorList.add(new ColorName(&quot;Tan&quot;, 0xD2, 0xB4, 0x8C));\r\n\t\t\tcolorList.add(new ColorName(&quot;Teal&quot;, 0x00, 0x80, 0x80));\r\n\t\t\tcolorList.add(new ColorName(&quot;Thistle&quot;, 0xD8, 0xBF, 0xD8));\r\n\t\t\tcolorList.add(new ColorName(&quot;Tomato&quot;, 0xFF, 0x63, 0x47));\r\n\t\t\tcolorList.add(new ColorName(&quot;Turquoise&quot;, 0x40, 0xE0, 0xD0));\r\n\t\t\tcolorList.add(new ColorName(&quot;Violet&quot;, 0xEE, 0x82, 0xEE));\r\n\t\t\tcolorList.add(new ColorName(&quot;Wheat&quot;, 0xF5, 0xDE, 0xB3));\r\n\t\t\tcolorList.add(new ColorName(&quot;White&quot;, 0xFF, 0xFF, 0xFF));\r\n\t\t\tcolorList.add(new ColorName(&quot;WhiteSmoke&quot;, 0xF5, 0xF5, 0xF5));\r\n\t\t\tcolorList.add(new ColorName(&quot;Yellow&quot;, 0xFF, 0xFF, 0x00));\r\n\t\t\tcolorList.add(new ColorName(&quot;YellowGreen&quot;, 0x9A, 0xCD, 0x32));\r\n\t\t\treturn colorList;\r\n\t\t}\r\n\t \r\n\t\t/**\r\n\t\t * Get the closest color name from our list\r\n\t\t * \r\n\t\t * @param r\r\n\t\t * @param g\r\n\t\t * @param b\r\n\t\t * @return\r\n\t\t */\r\n\t\tpublic String getColorNameFromRgb(int r, int g, int b) {\r\n\t\t\tArrayList&lt;ColorName&gt; colorList = initColorList();\r\n\t\t\tColorName closestMatch = null;\r\n\t\t\tint minMSE = Integer.MAX_VALUE;\r\n\t\t\tint mse;\r\n\t\t\tfor (ColorName c : colorList) {\r\n\t\t\t\tmse = c.computeMSE(r, g, b);\r\n\t\t\t\tif (mse &lt; minMSE) {\r\n\t\t\t\t\tminMSE = mse;\r\n\t\t\t\t\tclosestMatch = c;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t \r\n\t\t\tif (closestMatch != null) {\r\n\t\t\t\treturn closestMatch.getName();\r\n\t\t\t} else {\r\n\t\t\t\treturn &quot;No matched color name.&quot;;\r\n\t\t\t}\r\n\t\t}\r\n\t \r\n\t\t/**\r\n\t\t * Convert hexColor to rgb, then call getColorNameFromRgb(r, g, b)\r\n\t\t * \r\n\t\t * @param hexColor\r\n\t\t * @return\r\n\t\t */\r\n\t\tpublic String getColorNameFromHex(int hexColor) {\r\n\t\t\tint r = (hexColor &amp; 0xFF0000) &gt;&gt; 16;\r\n\t\t\tint g = (hexColor &amp; 0xFF00) &gt;&gt; 8;\r\n\t\t\tint b = (hexColor &amp; 0xFF);\r\n\t\t\treturn getColorNameFromRgb(r, g, b);\r\n\t\t}\r\n\t \r\n\t\tpublic int colorToHex(Color c) {\r\n\t\t\treturn Integer.decode(&quot;0x&quot;\r\n\t\t\t\t\t+ Integer.toHexString(c.getRGB()).substring(2));\r\n\t\t}\r\n\t \r\n\t\tpublic String getColorNameFromColor(Color color) {\r\n\t\t\treturn getColorNameFromRgb(color.getRed(), color.getGreen(),\r\n\t\t\t\t\tcolor.getBlue());\r\n\t\t}\r\n\t \r\n\t\t/**\r\n\t\t * SubClass of ColorUtils. In order to lookup color name\r\n\t\t * \r\n\t\t * @author Xiaoxiao Li\r\n\t\t * \r\n\t\t */\r\n\t\tpublic class ColorName {\r\n\t\t\tpublic int r, g, b;\r\n\t\t\tpublic String name;\r\n\t \r\n\t\t\tpublic ColorName(String name, int r, int g, int b) {\r\n\t\t\t\tthis.r = r;\r\n\t\t\t\tthis.g = g;\r\n\t\t\t\tthis.b = b;\r\n\t\t\t\tthis.name = name;\r\n\t\t\t}\r\n\t \r\n\t\t\tpublic int computeMSE(int pixR, int pixG, int pixB) {\r\n\t\t\t\treturn (int) (((pixR - r) * (pixR - r) + (pixG - g) * (pixG - g) + (pixB - b)\r\n\t\t\t\t\t\t* (pixB - b)) / 3);\r\n\t\t\t}\r\n\t \r\n\t\t\tpublic int getR() {\r\n\t\t\t\treturn r;\r\n\t\t\t}\r\n\t \r\n\t\t\tpublic int getG() {\r\n\t\t\t\treturn g;\r\n\t\t\t}\r\n\t \r\n\t\t\tpublic int getB() {\r\n\t\t\t\treturn b;\r\n\t\t\t}\r\n\t \r\n\t\t\tpublic String getName() {\r\n\t\t\t\treturn name;\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Convert RGB values to color name","body":"<p>Here is <a href=\"https://gist.github.com/XiaoxiaoLi/8031146\">a working sample code</a> that does that. It converts an rgb/hex value/awt color into the closest color name.</p>\n\n<pre><code>import java.awt.Color;\nimport java.util.ArrayList;\n\n/**\n * Java Code to get a color name from rgb/hex value/awt color\n * \n * The part of looking up a color name from the rgb values is edited from\n * https://gist.github.com/nightlark/6482130#file-gistfile1-java (that has some errors) by Ryan Mast (nightlark)\n * \n * @author Xiaoxiao Li\n * \n */\npublic class ColorUtils {\n\n    /**\n     * Initialize the color list that we have.\n     */\n    private ArrayList&lt;ColorName&gt; initColorList() {\n        ArrayList&lt;ColorName&gt; colorList = new ArrayList&lt;ColorName&gt;();\n        colorList.add(new ColorName(\"AliceBlue\", 0xF0, 0xF8, 0xFF));\n        colorList.add(new ColorName(\"AntiqueWhite\", 0xFA, 0xEB, 0xD7));\n        colorList.add(new ColorName(\"Aqua\", 0x00, 0xFF, 0xFF));\n        colorList.add(new ColorName(\"Aquamarine\", 0x7F, 0xFF, 0xD4));\n        colorList.add(new ColorName(\"Azure\", 0xF0, 0xFF, 0xFF));\n        colorList.add(new ColorName(\"Beige\", 0xF5, 0xF5, 0xDC));\n        colorList.add(new ColorName(\"Bisque\", 0xFF, 0xE4, 0xC4));\n        colorList.add(new ColorName(\"Black\", 0x00, 0x00, 0x00));\n        colorList.add(new ColorName(\"BlanchedAlmond\", 0xFF, 0xEB, 0xCD));\n        colorList.add(new ColorName(\"Blue\", 0x00, 0x00, 0xFF));\n        colorList.add(new ColorName(\"BlueViolet\", 0x8A, 0x2B, 0xE2));\n        colorList.add(new ColorName(\"Brown\", 0xA5, 0x2A, 0x2A));\n        colorList.add(new ColorName(\"BurlyWood\", 0xDE, 0xB8, 0x87));\n        colorList.add(new ColorName(\"CadetBlue\", 0x5F, 0x9E, 0xA0));\n        colorList.add(new ColorName(\"Chartreuse\", 0x7F, 0xFF, 0x00));\n        colorList.add(new ColorName(\"Chocolate\", 0xD2, 0x69, 0x1E));\n        colorList.add(new ColorName(\"Coral\", 0xFF, 0x7F, 0x50));\n        colorList.add(new ColorName(\"CornflowerBlue\", 0x64, 0x95, 0xED));\n        colorList.add(new ColorName(\"Cornsilk\", 0xFF, 0xF8, 0xDC));\n        colorList.add(new ColorName(\"Crimson\", 0xDC, 0x14, 0x3C));\n        colorList.add(new ColorName(\"Cyan\", 0x00, 0xFF, 0xFF));\n        colorList.add(new ColorName(\"DarkBlue\", 0x00, 0x00, 0x8B));\n        colorList.add(new ColorName(\"DarkCyan\", 0x00, 0x8B, 0x8B));\n        colorList.add(new ColorName(\"DarkGoldenRod\", 0xB8, 0x86, 0x0B));\n        colorList.add(new ColorName(\"DarkGray\", 0xA9, 0xA9, 0xA9));\n        colorList.add(new ColorName(\"DarkGreen\", 0x00, 0x64, 0x00));\n        colorList.add(new ColorName(\"DarkKhaki\", 0xBD, 0xB7, 0x6B));\n        colorList.add(new ColorName(\"DarkMagenta\", 0x8B, 0x00, 0x8B));\n        colorList.add(new ColorName(\"DarkOliveGreen\", 0x55, 0x6B, 0x2F));\n        colorList.add(new ColorName(\"DarkOrange\", 0xFF, 0x8C, 0x00));\n        colorList.add(new ColorName(\"DarkOrchid\", 0x99, 0x32, 0xCC));\n        colorList.add(new ColorName(\"DarkRed\", 0x8B, 0x00, 0x00));\n        colorList.add(new ColorName(\"DarkSalmon\", 0xE9, 0x96, 0x7A));\n        colorList.add(new ColorName(\"DarkSeaGreen\", 0x8F, 0xBC, 0x8F));\n        colorList.add(new ColorName(\"DarkSlateBlue\", 0x48, 0x3D, 0x8B));\n        colorList.add(new ColorName(\"DarkSlateGray\", 0x2F, 0x4F, 0x4F));\n        colorList.add(new ColorName(\"DarkTurquoise\", 0x00, 0xCE, 0xD1));\n        colorList.add(new ColorName(\"DarkViolet\", 0x94, 0x00, 0xD3));\n        colorList.add(new ColorName(\"DeepPink\", 0xFF, 0x14, 0x93));\n        colorList.add(new ColorName(\"DeepSkyBlue\", 0x00, 0xBF, 0xFF));\n        colorList.add(new ColorName(\"DimGray\", 0x69, 0x69, 0x69));\n        colorList.add(new ColorName(\"DodgerBlue\", 0x1E, 0x90, 0xFF));\n        colorList.add(new ColorName(\"FireBrick\", 0xB2, 0x22, 0x22));\n        colorList.add(new ColorName(\"FloralWhite\", 0xFF, 0xFA, 0xF0));\n        colorList.add(new ColorName(\"ForestGreen\", 0x22, 0x8B, 0x22));\n        colorList.add(new ColorName(\"Fuchsia\", 0xFF, 0x00, 0xFF));\n        colorList.add(new ColorName(\"Gainsboro\", 0xDC, 0xDC, 0xDC));\n        colorList.add(new ColorName(\"GhostWhite\", 0xF8, 0xF8, 0xFF));\n        colorList.add(new ColorName(\"Gold\", 0xFF, 0xD7, 0x00));\n        colorList.add(new ColorName(\"GoldenRod\", 0xDA, 0xA5, 0x20));\n        colorList.add(new ColorName(\"Gray\", 0x80, 0x80, 0x80));\n        colorList.add(new ColorName(\"Green\", 0x00, 0x80, 0x00));\n        colorList.add(new ColorName(\"GreenYellow\", 0xAD, 0xFF, 0x2F));\n        colorList.add(new ColorName(\"HoneyDew\", 0xF0, 0xFF, 0xF0));\n        colorList.add(new ColorName(\"HotPink\", 0xFF, 0x69, 0xB4));\n        colorList.add(new ColorName(\"IndianRed\", 0xCD, 0x5C, 0x5C));\n        colorList.add(new ColorName(\"Indigo\", 0x4B, 0x00, 0x82));\n        colorList.add(new ColorName(\"Ivory\", 0xFF, 0xFF, 0xF0));\n        colorList.add(new ColorName(\"Khaki\", 0xF0, 0xE6, 0x8C));\n        colorList.add(new ColorName(\"Lavender\", 0xE6, 0xE6, 0xFA));\n        colorList.add(new ColorName(\"LavenderBlush\", 0xFF, 0xF0, 0xF5));\n        colorList.add(new ColorName(\"LawnGreen\", 0x7C, 0xFC, 0x00));\n        colorList.add(new ColorName(\"LemonChiffon\", 0xFF, 0xFA, 0xCD));\n        colorList.add(new ColorName(\"LightBlue\", 0xAD, 0xD8, 0xE6));\n        colorList.add(new ColorName(\"LightCoral\", 0xF0, 0x80, 0x80));\n        colorList.add(new ColorName(\"LightCyan\", 0xE0, 0xFF, 0xFF));\n        colorList.add(new ColorName(\"LightGoldenRodYellow\", 0xFA, 0xFA, 0xD2));\n        colorList.add(new ColorName(\"LightGray\", 0xD3, 0xD3, 0xD3));\n        colorList.add(new ColorName(\"LightGreen\", 0x90, 0xEE, 0x90));\n        colorList.add(new ColorName(\"LightPink\", 0xFF, 0xB6, 0xC1));\n        colorList.add(new ColorName(\"LightSalmon\", 0xFF, 0xA0, 0x7A));\n        colorList.add(new ColorName(\"LightSeaGreen\", 0x20, 0xB2, 0xAA));\n        colorList.add(new ColorName(\"LightSkyBlue\", 0x87, 0xCE, 0xFA));\n        colorList.add(new ColorName(\"LightSlateGray\", 0x77, 0x88, 0x99));\n        colorList.add(new ColorName(\"LightSteelBlue\", 0xB0, 0xC4, 0xDE));\n        colorList.add(new ColorName(\"LightYellow\", 0xFF, 0xFF, 0xE0));\n        colorList.add(new ColorName(\"Lime\", 0x00, 0xFF, 0x00));\n        colorList.add(new ColorName(\"LimeGreen\", 0x32, 0xCD, 0x32));\n        colorList.add(new ColorName(\"Linen\", 0xFA, 0xF0, 0xE6));\n        colorList.add(new ColorName(\"Magenta\", 0xFF, 0x00, 0xFF));\n        colorList.add(new ColorName(\"Maroon\", 0x80, 0x00, 0x00));\n        colorList.add(new ColorName(\"MediumAquaMarine\", 0x66, 0xCD, 0xAA));\n        colorList.add(new ColorName(\"MediumBlue\", 0x00, 0x00, 0xCD));\n        colorList.add(new ColorName(\"MediumOrchid\", 0xBA, 0x55, 0xD3));\n        colorList.add(new ColorName(\"MediumPurple\", 0x93, 0x70, 0xDB));\n        colorList.add(new ColorName(\"MediumSeaGreen\", 0x3C, 0xB3, 0x71));\n        colorList.add(new ColorName(\"MediumSlateBlue\", 0x7B, 0x68, 0xEE));\n        colorList.add(new ColorName(\"MediumSpringGreen\", 0x00, 0xFA, 0x9A));\n        colorList.add(new ColorName(\"MediumTurquoise\", 0x48, 0xD1, 0xCC));\n        colorList.add(new ColorName(\"MediumVioletRed\", 0xC7, 0x15, 0x85));\n        colorList.add(new ColorName(\"MidnightBlue\", 0x19, 0x19, 0x70));\n        colorList.add(new ColorName(\"MintCream\", 0xF5, 0xFF, 0xFA));\n        colorList.add(new ColorName(\"MistyRose\", 0xFF, 0xE4, 0xE1));\n        colorList.add(new ColorName(\"Moccasin\", 0xFF, 0xE4, 0xB5));\n        colorList.add(new ColorName(\"NavajoWhite\", 0xFF, 0xDE, 0xAD));\n        colorList.add(new ColorName(\"Navy\", 0x00, 0x00, 0x80));\n        colorList.add(new ColorName(\"OldLace\", 0xFD, 0xF5, 0xE6));\n        colorList.add(new ColorName(\"Olive\", 0x80, 0x80, 0x00));\n        colorList.add(new ColorName(\"OliveDrab\", 0x6B, 0x8E, 0x23));\n        colorList.add(new ColorName(\"Orange\", 0xFF, 0xA5, 0x00));\n        colorList.add(new ColorName(\"OrangeRed\", 0xFF, 0x45, 0x00));\n        colorList.add(new ColorName(\"Orchid\", 0xDA, 0x70, 0xD6));\n        colorList.add(new ColorName(\"PaleGoldenRod\", 0xEE, 0xE8, 0xAA));\n        colorList.add(new ColorName(\"PaleGreen\", 0x98, 0xFB, 0x98));\n        colorList.add(new ColorName(\"PaleTurquoise\", 0xAF, 0xEE, 0xEE));\n        colorList.add(new ColorName(\"PaleVioletRed\", 0xDB, 0x70, 0x93));\n        colorList.add(new ColorName(\"PapayaWhip\", 0xFF, 0xEF, 0xD5));\n        colorList.add(new ColorName(\"PeachPuff\", 0xFF, 0xDA, 0xB9));\n        colorList.add(new ColorName(\"Peru\", 0xCD, 0x85, 0x3F));\n        colorList.add(new ColorName(\"Pink\", 0xFF, 0xC0, 0xCB));\n        colorList.add(new ColorName(\"Plum\", 0xDD, 0xA0, 0xDD));\n        colorList.add(new ColorName(\"PowderBlue\", 0xB0, 0xE0, 0xE6));\n        colorList.add(new ColorName(\"Purple\", 0x80, 0x00, 0x80));\n        colorList.add(new ColorName(\"Red\", 0xFF, 0x00, 0x00));\n        colorList.add(new ColorName(\"RosyBrown\", 0xBC, 0x8F, 0x8F));\n        colorList.add(new ColorName(\"RoyalBlue\", 0x41, 0x69, 0xE1));\n        colorList.add(new ColorName(\"SaddleBrown\", 0x8B, 0x45, 0x13));\n        colorList.add(new ColorName(\"Salmon\", 0xFA, 0x80, 0x72));\n        colorList.add(new ColorName(\"SandyBrown\", 0xF4, 0xA4, 0x60));\n        colorList.add(new ColorName(\"SeaGreen\", 0x2E, 0x8B, 0x57));\n        colorList.add(new ColorName(\"SeaShell\", 0xFF, 0xF5, 0xEE));\n        colorList.add(new ColorName(\"Sienna\", 0xA0, 0x52, 0x2D));\n        colorList.add(new ColorName(\"Silver\", 0xC0, 0xC0, 0xC0));\n        colorList.add(new ColorName(\"SkyBlue\", 0x87, 0xCE, 0xEB));\n        colorList.add(new ColorName(\"SlateBlue\", 0x6A, 0x5A, 0xCD));\n        colorList.add(new ColorName(\"SlateGray\", 0x70, 0x80, 0x90));\n        colorList.add(new ColorName(\"Snow\", 0xFF, 0xFA, 0xFA));\n        colorList.add(new ColorName(\"SpringGreen\", 0x00, 0xFF, 0x7F));\n        colorList.add(new ColorName(\"SteelBlue\", 0x46, 0x82, 0xB4));\n        colorList.add(new ColorName(\"Tan\", 0xD2, 0xB4, 0x8C));\n        colorList.add(new ColorName(\"Teal\", 0x00, 0x80, 0x80));\n        colorList.add(new ColorName(\"Thistle\", 0xD8, 0xBF, 0xD8));\n        colorList.add(new ColorName(\"Tomato\", 0xFF, 0x63, 0x47));\n        colorList.add(new ColorName(\"Turquoise\", 0x40, 0xE0, 0xD0));\n        colorList.add(new ColorName(\"Violet\", 0xEE, 0x82, 0xEE));\n        colorList.add(new ColorName(\"Wheat\", 0xF5, 0xDE, 0xB3));\n        colorList.add(new ColorName(\"White\", 0xFF, 0xFF, 0xFF));\n        colorList.add(new ColorName(\"WhiteSmoke\", 0xF5, 0xF5, 0xF5));\n        colorList.add(new ColorName(\"Yellow\", 0xFF, 0xFF, 0x00));\n        colorList.add(new ColorName(\"YellowGreen\", 0x9A, 0xCD, 0x32));\n        return colorList;\n    }\n\n    /**\n     * Get the closest color name from our list\n     * \n     * @param r\n     * @param g\n     * @param b\n     * @return\n     */\n    public String getColorNameFromRgb(int r, int g, int b) {\n        ArrayList&lt;ColorName&gt; colorList = initColorList();\n        ColorName closestMatch = null;\n        int minMSE = Integer.MAX_VALUE;\n        int mse;\n        for (ColorName c : colorList) {\n            mse = c.computeMSE(r, g, b);\n            if (mse &lt; minMSE) {\n                minMSE = mse;\n                closestMatch = c;\n            }\n        }\n\n        if (closestMatch != null) {\n            return closestMatch.getName();\n        } else {\n            return \"No matched color name.\";\n        }\n    }\n\n    /**\n     * Convert hexColor to rgb, then call getColorNameFromRgb(r, g, b)\n     * \n     * @param hexColor\n     * @return\n     */\n    public String getColorNameFromHex(int hexColor) {\n        int r = (hexColor &amp; 0xFF0000) &gt;&gt; 16;\n        int g = (hexColor &amp; 0xFF00) &gt;&gt; 8;\n        int b = (hexColor &amp; 0xFF);\n        return getColorNameFromRgb(r, g, b);\n    }\n\n    public int colorToHex(Color c) {\n        return Integer.decode(\"0x\"\n                + Integer.toHexString(c.getRGB()).substring(2));\n    }\n\n    public String getColorNameFromColor(Color color) {\n        return getColorNameFromRgb(color.getRed(), color.getGreen(),\n                color.getBlue());\n    }\n\n    /**\n     * SubClass of ColorUtils. In order to lookup color name\n     * \n     * @author Xiaoxiao Li\n     * \n     */\n    public class ColorName {\n        public int r, g, b;\n        public String name;\n\n        public ColorName(String name, int r, int g, int b) {\n            this.r = r;\n            this.g = g;\n            this.b = b;\n            this.name = name;\n        }\n\n        public int computeMSE(int pixR, int pixG, int pixB) {\n            return (int) (((pixR - r) * (pixR - r) + (pixG - g) * (pixG - g) + (pixB - b)\n                    * (pixB - b)) / 3);\n        }\n\n        public int getR() {\n            return r;\n        }\n\n        public int getG() {\n            return g;\n        }\n\n        public int getB() {\n            return b;\n        }\n\n        public String getName() {\n            return name;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3550259,"reputation":810,"user_id":2965312,"display_name":"rosterloh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407844542,"creation_date":1407844542,"answer_id":25263668,"question_id":4126029,"body_markdown":"In my case I was looking for a quick way to get the name of primary colours displayable on all on or all off LEDs so the following function works for me. Hope it&#39;s helpful to someone.\r\n\r\n    public static String getColourName(int c) {\r\n        String name = &quot;UNKNOWN&quot;;\r\n        int colour = Color.BLACK;\r\n\r\n        if(Color.red(c) &gt; 127)  { colour |= Color.RED; }\r\n        if(Color.green(c) &gt; 127) { colour |= Color.GREEN; }\r\n        if(Color.blue(c) &gt; 127) { colour |= Color.BLUE; }\r\n\r\n        switch (colour) {\r\n            case Color.BLACK:\r\n                name = &quot;BLACK&quot;;\r\n                break;\r\n            case Color.BLUE:\r\n                name = &quot;BLUE&quot;;\r\n                break;\r\n            case Color.GREEN:\r\n                name = &quot;GREEN&quot;;\r\n                break;\r\n            case Color.CYAN:\r\n                name = &quot;CYAN&quot;;\r\n                break;\r\n            case Color.RED:\r\n                name = &quot;RED&quot;;\r\n                break;\r\n            case Color.MAGENTA:\r\n                name = &quot;MAGENTA&quot;;\r\n                break;\r\n            case Color.YELLOW:\r\n                name = &quot;YELLOW&quot;;\r\n                break;\r\n            case Color.WHITE:\r\n                name = &quot;WHITE&quot;;\r\n                break;\r\n        }\r\n        return name;\r\n    }","title":"Convert RGB values to color name","body":"<p>In my case I was looking for a quick way to get the name of primary colours displayable on all on or all off LEDs so the following function works for me. Hope it's helpful to someone.</p>\n\n<pre><code>public static String getColourName(int c) {\n    String name = \"UNKNOWN\";\n    int colour = Color.BLACK;\n\n    if(Color.red(c) &gt; 127)  { colour |= Color.RED; }\n    if(Color.green(c) &gt; 127) { colour |= Color.GREEN; }\n    if(Color.blue(c) &gt; 127) { colour |= Color.BLUE; }\n\n    switch (colour) {\n        case Color.BLACK:\n            name = \"BLACK\";\n            break;\n        case Color.BLUE:\n            name = \"BLUE\";\n            break;\n        case Color.GREEN:\n            name = \"GREEN\";\n            break;\n        case Color.CYAN:\n            name = \"CYAN\";\n            break;\n        case Color.RED:\n            name = \"RED\";\n            break;\n        case Color.MAGENTA:\n            name = \"MAGENTA\";\n            break;\n        case Color.YELLOW:\n            name = \"YELLOW\";\n            break;\n        case Color.WHITE:\n            name = \"WHITE\";\n            break;\n    }\n    return name;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10319524,"reputation":21,"user_id":7612866,"display_name":"Tatsuaki Kobayashi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638431901,"creation_date":1638431901,"answer_id":70195872,"question_id":4126029,"body_markdown":"    public static String findColorNameByColor(Color c) throws IllegalArgumentException, IllegalAccessException {\r\n\t\tString candidateColorName = null;\r\n\t\tint rgbDistance = -1;\r\n\t\tfor(Field f : Color.class.getFields()) {\r\n\t\t\tColor sys_c = (Color) f.get(null);\r\n\t\t\tint dif_r = Math.abs(c.getRed() - sys_c.getRed());\r\n\t\t\tint dif_g = Math.abs(c.getGreen() - sys_c.getGreen());\r\n\t\t\tint dif_b = Math.abs(c.getBlue() - sys_c.getBlue());\r\n\t\t\tint sum = dif_r+dif_g+dif_b;\r\n\t\t\tif(sum == 0) {\r\n\t\t\t\treturn f.getName().trim().toLowerCase();\r\n\t\t\t}else {\r\n\t\t\t\tif (rgbDistance == -1) {\r\n\t\t\t\t\trgbDistance = sum;\r\n\t\t\t\t\tcandidateColorName = f.getName().trim().toLowerCase();\r\n\t\t\t\t}\r\n\t\t\t\tif(rgbDistance &gt; sum) {\r\n\t\t\t\t\trgbDistance = sum;\r\n\t\t\t\t\tcandidateColorName = f.getName().trim().toLowerCase();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn candidateColorName;\r\n\t}","title":"Convert RGB values to color name","body":"<pre><code>public static String findColorNameByColor(Color c) throws IllegalArgumentException, IllegalAccessException {\n    String candidateColorName = null;\n    int rgbDistance = -1;\n    for(Field f : Color.class.getFields()) {\n        Color sys_c = (Color) f.get(null);\n        int dif_r = Math.abs(c.getRed() - sys_c.getRed());\n        int dif_g = Math.abs(c.getGreen() - sys_c.getGreen());\n        int dif_b = Math.abs(c.getBlue() - sys_c.getBlue());\n        int sum = dif_r+dif_g+dif_b;\n        if(sum == 0) {\n            return f.getName().trim().toLowerCase();\n        }else {\n            if (rgbDistance == -1) {\n                rgbDistance = sum;\n                candidateColorName = f.getName().trim().toLowerCase();\n            }\n            if(rgbDistance &gt; sum) {\n                rgbDistance = sum;\n                candidateColorName = f.getName().trim().toLowerCase();\n            }\n        }\n    }\n    return candidateColorName;\n}\n</code></pre>\n"}],"owner":{"account_id":84665,"reputation":8558,"user_id":236501,"accept_rate":59,"display_name":"user236501"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64895,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":4126159,"answer_count":8,"score":20,"last_activity_date":1679808430,"creation_date":1289235217,"question_id":4126029,"body_markdown":"How can I convert a color in RGB format into a color name?\r\n\r\nExamples:\r\n\r\n* (0, 0, 255) -&gt; &quot;blue&quot;\r\n* (255, 0, 0) -&gt; &quot;red&quot;\r\n* (128, 128, 128) -&gt; &quot;grey&quot;\r\n","title":"Convert RGB values to color name","body":"<p>How can I convert a color in RGB format into a color name?</p>\n\n<p>Examples:</p>\n\n<ul>\n<li>(0, 0, 255) -> \"blue\"</li>\n<li>(255, 0, 0) -> \"red\"</li>\n<li>(128, 128, 128) -> \"grey\"</li>\n</ul>\n"},{"tags":["java","android","flutter"],"answers":[{"tags":[],"owner":{"account_id":15519062,"reputation":684,"user_id":11195731,"display_name":"Monu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677516717,"creation_date":1629740643,"answer_id":68896897,"question_id":68896788,"body_markdown":"1. Please check your environment variables if they contain JAVA_HOME with your JDK path.\r\n 2. Check your flutter path at the environment variable. \r\n 3. Then command it `flutter config --android-sdk=&quot;/home/user/Android/Sdk&quot;` **For Linux only**\r\n 4. Then command  `flutter doctor --android-licenses` and accept all licenses","title":"Flutter development - ERROR: JAVA_HOME is not set and no &#39;java&#39; command could be found in your PATH","body":"<ol>\n<li>Please check your environment variables if they contain JAVA_HOME with your JDK path.</li>\n<li>Check your flutter path at the environment variable.</li>\n<li>Then command it <code>flutter config --android-sdk=&quot;/home/user/Android/Sdk&quot;</code> <strong>For Linux only</strong></li>\n<li>Then command  <code>flutter doctor --android-licenses</code> and accept all licenses</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9005910,"reputation":71,"user_id":6712649,"display_name":"i3arty"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1629756253,"creation_date":1629756253,"answer_id":68899515,"question_id":68896788,"body_markdown":"So after like 2 hours of struggling figuring what&#39;s wrong I finally came up with what&#39;s wrong!!\r\n\r\nIf anyone has a similar issue try these\r\n\r\n 1. Fixing JAVA_HOME - Make sure it&#39;s in &quot;System variables&quot; and not user variables -- You can open the command on windows and just paste &quot;setx -m JAVA_HOME C:\\Program Files\\Java\\jdk-16.0.2&quot;\r\n\r\nThat&#39;s if you saved it by default, if it&#39;s in different folder just navigate to the folder and copy the location path eg D:\\Program Files\\Java\\jdk-16.0.\r\n\r\n 2. When you ask for licenses(flutter doctor --android-licenses) and run into &quot;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError&quot;\r\n\r\nTry going into your Android studio &gt; SDK manager &gt; SDK Tools tab &gt;Downloading android sdk command line tools &gt; Running cmd &gt; &quot;flutter doctor&quot; &gt; flutter doctor --android-licenses &gt; and then accept them all by typing &quot;y&quot; (Before i did not have the licenses, it was some errors)\r\n\r\n 3. If you run into issue that when you type &quot;flutter doctor&quot; and have error of  &quot;android studio not installed\r\n\r\nGo into your command and type &quot;flutter config --android-studio-dir=&quot;C:\\Program Files\\Android\\Android Studio&quot;\r\n\r\nThats if you installed it by default \r\n\r\nHope that helps someone who stumbles to similar issues\r\n\r\n \r\n\r\n","title":"Flutter development - ERROR: JAVA_HOME is not set and no &#39;java&#39; command could be found in your PATH","body":"<p>So after like 2 hours of struggling figuring what's wrong I finally came up with what's wrong!!</p>\n<p>If anyone has a similar issue try these</p>\n<ol>\n<li>Fixing JAVA_HOME - Make sure it's in &quot;System variables&quot; and not user variables -- You can open the command on windows and just paste &quot;setx -m JAVA_HOME C:\\Program Files\\Java\\jdk-16.0.2&quot;</li>\n</ol>\n<p>That's if you saved it by default, if it's in different folder just navigate to the folder and copy the location path eg D:\\Program Files\\Java\\jdk-16.0.</p>\n<ol start=\"2\">\n<li>When you ask for licenses(flutter doctor --android-licenses) and run into &quot;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError&quot;</li>\n</ol>\n<p>Try going into your Android studio &gt; SDK manager &gt; SDK Tools tab &gt;Downloading android sdk command line tools &gt; Running cmd &gt; &quot;flutter doctor&quot; &gt; flutter doctor --android-licenses &gt; and then accept them all by typing &quot;y&quot; (Before i did not have the licenses, it was some errors)</p>\n<ol start=\"3\">\n<li>If you run into issue that when you type &quot;flutter doctor&quot; and have error of  &quot;android studio not installed</li>\n</ol>\n<p>Go into your command and type &quot;flutter config --android-studio-dir=&quot;C:\\Program Files\\Android\\Android Studio&quot;</p>\n<p>Thats if you installed it by default</p>\n<p>Hope that helps someone who stumbles to similar issues</p>\n"},{"tags":[],"owner":{"account_id":24835968,"reputation":21,"user_id":18714611,"display_name":"Kiran Stha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679807876,"creation_date":1679807876,"answer_id":75846011,"question_id":68896788,"body_markdown":"I figured out that after setting the JAVA_HOME variable. You also should check the &quot;Path&quot; variable in the system variables, if you are doing this manually. See if there is Jdk path available, if not add the path including the bin folder in the path also remember do not add the bin folder path while locating in JAVA_HOME variable. ","title":"Flutter development - ERROR: JAVA_HOME is not set and no &#39;java&#39; command could be found in your PATH","body":"<p>I figured out that after setting the JAVA_HOME variable. You also should check the &quot;Path&quot; variable in the system variables, if you are doing this manually. See if there is Jdk path available, if not add the path including the bin folder in the path also remember do not add the bin folder path while locating in JAVA_HOME variable.</p>\n"}],"owner":{"account_id":9005910,"reputation":71,"user_id":6712649,"display_name":"i3arty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9087,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":68899515,"answer_count":3,"score":3,"last_activity_date":1679807876,"creation_date":1629740121,"question_id":68896788,"body_markdown":"So I am following a course from flutter on udemy and I run into this error when I try to run the app on the emulator.\r\n\r\nIt says &quot;ERROR: JAVA_HOME is not set and no &#39;java&#39; command could be found in your PATH.&quot;\r\n&quot;Please set the JAVA_HOME variable in your environment to match the\r\nlocation of your Java installation.\r\nException: Gradle task assembleDebug failed with exit code 1&quot;\r\n\r\nAlso when I run flutter doctor on cmd it says that it found 2 issues, which are those\r\n\r\n[!] Android toolchain - develop for Android devices (Android SDK version 31.0.0)\r\n\r\n    X Android license status unknown.\r\n      Run `flutter doctor --android-licenses` to accept the SDK licenses.\r\n      See https://flutter.dev/docs/get-started/install/windows#android-setup for more details.\r\n[√] Chrome - develop for the web\r\n[!] Android Studio (not installed) &lt;&lt;I have android studio installed so not sure why it says that.\r\n\r\n\r\nCan anyone help me? I tried looking online but the answers did not help me.\r\n\r\nThank you!\r\n","title":"Flutter development - ERROR: JAVA_HOME is not set and no &#39;java&#39; command could be found in your PATH","body":"<p>So I am following a course from flutter on udemy and I run into this error when I try to run the app on the emulator.</p>\n<p>It says &quot;ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH.&quot;\n&quot;Please set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.\nException: Gradle task assembleDebug failed with exit code 1&quot;</p>\n<p>Also when I run flutter doctor on cmd it says that it found 2 issues, which are those</p>\n<p>[!] Android toolchain - develop for Android devices (Android SDK version 31.0.0)</p>\n<pre><code>X Android license status unknown.\n  Run `flutter doctor --android-licenses` to accept the SDK licenses.\n  See https://flutter.dev/docs/get-started/install/windows#android-setup for more details.\n</code></pre>\n<p>[√] Chrome - develop for the web\n[!] Android Studio (not installed) &lt;&lt;I have android studio installed so not sure why it says that.</p>\n<p>Can anyone help me? I tried looking online but the answers did not help me.</p>\n<p>Thank you!</p>\n"},{"tags":["java","type-conversion","precision"],"owner":{"account_id":21571565,"reputation":9,"user_id":15904381,"display_name":"MR_MYSTERY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679808929,"answer_count":0,"score":0,"last_activity_date":1679807392,"creation_date":1679807392,"question_id":75845992,"body_markdown":"I have the follow code for converting rupees to paisa, but for the input 1290.12 I should get 129012 but the program gives 129011,\r\n\r\nThe program is given below:\r\n\r\n```\r\nimport java.util.*;\r\npublic class Hello{\r\n    public static void main(String[] args){\r\n       Scanner sc= new Scanner(System.in);\r\n       double num = sc.nextDouble();\r\n       System.out.print((long)(num*100));\r\n    }\r\n}\r\n```\r\n\r\n\r\nI tried the above code but for the input 1290.12 i am getting 129011 as output","title":"Loss of pression when converted from double to long in java","body":"<p>I have the follow code for converting rupees to paisa, but for the input 1290.12 I should get 129012 but the program gives 129011,</p>\n<p>The program is given below:</p>\n<pre><code>import java.util.*;\npublic class Hello{\n    public static void main(String[] args){\n       Scanner sc= new Scanner(System.in);\n       double num = sc.nextDouble();\n       System.out.print((long)(num*100));\n    }\n}\n</code></pre>\n<p>I tried the above code but for the input 1290.12 i am getting 129011 as output</p>\n"},{"tags":["java","appium"],"comments":[{"owner":{"account_id":12218669,"reputation":2466,"user_id":8918302,"display_name":"Suban Dhyako"},"score":0,"creation_date":1546502434,"post_id":54017732,"comment_id":94872957,"body_markdown":"Have you installed appium server in your  system? you must install appium server manually.","body":"Have you installed appium server in your  system? you must install appium server manually."},{"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"score":0,"creation_date":1546502605,"post_id":54017732,"comment_id":94873014,"body_markdown":"Installed already lol","body":"Installed already lol"},{"owner":{"account_id":12218669,"reputation":2466,"user_id":8918302,"display_name":"Suban Dhyako"},"score":0,"creation_date":1546502687,"post_id":54017732,"comment_id":94873039,"body_markdown":"can you post your error log?","body":"can you post your error log?"},{"owner":{"account_id":12218669,"reputation":2466,"user_id":8918302,"display_name":"Suban Dhyako"},"score":0,"creation_date":1546576422,"post_id":54017732,"comment_id":94902218,"body_markdown":"Did you installed node.js in your system? Do npm -v shows npm version? If it is not showing the version then you must add the nodejs path in the system variable","body":"Did you installed node.js in your system? Do npm -v shows npm version? If it is not showing the version then you must add the nodejs path in the system variable"},{"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"score":0,"creation_date":1546588877,"post_id":54017732,"comment_id":94905471,"body_markdown":"Shows 6.4.1 version.","body":"Shows 6.4.1 version."}],"answers":[{"tags":[],"owner":{"account_id":9758923,"reputation":327,"user_id":7234630,"display_name":"VSB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549144347,"creation_date":1549144347,"answer_id":54497892,"question_id":54017732,"body_markdown":"I faced the same issue at my end \r\n\r\n1. Try to run the node server instance from command line, just type &quot;node&quot; and enter -- server should get started\r\n2. Open another terminal window and just check if all details are been going good for the process running by doing &quot;ps eww&quot;\r\n3. The node process running should be displayed here \r\n4. Just kill the &quot;node server&quot;, by typing &quot;Killall node&quot; on the same command window you did &quot;ps eww&quot;\r\n5. The &quot;node&quot;window will show the process terminated.\r\n\r\nTime for the truth, run your script and all should get going smoothly\r\n\r\nI did this with \r\nappium - 1.9.0\r\nnode - 11.9.0\r\nnpm version - 6.5.0 \r\ntestscript - Java \r\ntool - Eclipse\r\nplatform - iOS (10.14)","title":"Appium: Exception: Invalid server instance exception has occured: There is no installed nodes","body":"<p>I faced the same issue at my end </p>\n\n<ol>\n<li>Try to run the node server instance from command line, just type \"node\" and enter -- server should get started</li>\n<li>Open another terminal window and just check if all details are been going good for the process running by doing \"ps eww\"</li>\n<li>The node process running should be displayed here </li>\n<li>Just kill the \"node server\", by typing \"Killall node\" on the same command window you did \"ps eww\"</li>\n<li>The \"node\"window will show the process terminated.</li>\n</ol>\n\n<p>Time for the truth, run your script and all should get going smoothly</p>\n\n<p>I did this with \nappium - 1.9.0\nnode - 11.9.0\nnpm version - 6.5.0 \ntestscript - Java \ntool - Eclipse\nplatform - iOS (10.14)</p>\n"},{"tags":[],"owner":{"account_id":8704816,"reputation":768,"user_id":6513289,"accept_rate":90,"display_name":"Appu Mistri"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1552911441,"creation_date":1552911441,"answer_id":55221202,"question_id":54017732,"body_markdown":"Try installing Appium globally. This resolved the issue for me.\r\n\r\n`npm install -g appium`","title":"Appium: Exception: Invalid server instance exception has occured: There is no installed nodes","body":"<p>Try installing Appium globally. This resolved the issue for me.</p>\n\n<p><code>npm install -g appium</code></p>\n"},{"tags":[],"owner":{"account_id":4825397,"reputation":597,"user_id":3894987,"accept_rate":100,"display_name":"Huy H&#243;m Hỉnh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591851216,"creation_date":1591851216,"answer_id":62317296,"question_id":54017732,"body_markdown":"I got the same problem when using `nvm` although `node` already installed on all versions.\r\n\r\nFinally, I decided to [uninstall nvm][1] and it&#39;s worked with the only `node` version\r\n\r\n\r\n  [1]: https://github.com/nvm-sh/nvm/issues/298","title":"Appium: Exception: Invalid server instance exception has occured: There is no installed nodes","body":"<p>I got the same problem when using <code>nvm</code> although <code>node</code> already installed on all versions.</p>\n\n<p>Finally, I decided to <a href=\"https://github.com/nvm-sh/nvm/issues/298\" rel=\"nofollow noreferrer\">uninstall nvm</a> and it's worked with the only <code>node</code> version</p>\n"},{"tags":[],"owner":{"account_id":4667724,"reputation":629,"user_id":3780373,"display_name":"PraNuta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679807234,"creation_date":1679807234,"answer_id":75845978,"question_id":54017732,"body_markdown":"•\tSometimes, when using Node Version Manager like **nvm** being used to install and maintain **node** and **npm**, you may need to download and install the same or higher version of **node/npm** being downloaded(in pkg form) from nodejs.org and update your PATH accordingly.","title":"Appium: Exception: Invalid server instance exception has occured: There is no installed nodes","body":"<p>•   Sometimes, when using Node Version Manager like <strong>nvm</strong> being used to install and maintain <strong>node</strong> and <strong>npm</strong>, you may need to download and install the same or higher version of <strong>node/npm</strong> being downloaded(in pkg form) from nodejs.org and update your PATH accordingly.</p>\n"}],"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11249,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1679807234,"creation_date":1546499031,"question_id":54017732,"body_markdown":"I tried to start the appium server programmatically but encounter error. How to resolve this issues? I have nodejs installed and appium installed and environemnt variable set properly. I&quot;m using maven appium java client 6.1.0 and selenium 3.14.0. Please help. A billion thanks for your help. \r\n\r\nCode: \r\n\r\n    try {\r\n    \t\t\tFile appDir = new File(System.getProperty(&quot;user.dir&quot;));\r\n    \t        File app = new File(appDir, &quot;..\\\\apk\\\\Flipkart.apk&quot;);\r\n    \t\t\t\r\n    \t        // apk Capabilities\r\n    \t\t\tDesiredCapabilities caps = new DesiredCapabilities();\r\n    \t        caps.setCapability(&quot;deviceName&quot;, &quot;Sony Xperia Z2&quot;);\r\n    \t        caps.setCapability(&quot;BROWSER_NAME&quot;, &quot;Android&quot;);\r\n    \t        caps.setCapability(&quot;platformVersion&quot;, &quot;6.0&quot;);\r\n    \t        caps.setCapability(MobileCapabilityType.PLATFORM_NAME, Platform.ANDROID);\r\n    \t        //caps.setCapability(&quot;udid&quot;, &quot;WUJ01N4RQ3&quot;); // DeviceId from &quot;adb devices&quot; command\r\n    \t        caps.setCapability(&quot;platformName&quot;, &quot;Android&quot;);\r\n    \t        caps.setCapability(&quot;app&quot;, app.getAbsolutePath());\r\n    \t        caps.setCapability(&quot;appPackage&quot;, &quot;com.flipkart.android&quot;);\r\n    \t        caps.setCapability(&quot;appActivity&quot;,&quot;com.flipkart.android.SplashActivity&quot;);\r\n    \t        \r\n    \t        // Appium Capabilities\r\n    \t        caps.setCapability(&quot;skipUnlock&quot;,&quot;true&quot;);\r\n    \t        caps.setCapability(&quot;noReset&quot;,&quot;false&quot;);\r\n    \r\n    \t        appiumBuilder = new AppiumServiceBuilder();\r\n    \t        appiumBuilder.withIPAddress(&quot;127.0.0.1&quot;);\r\n    \t        appiumBuilder.usingPort(47233);\r\n    \t        appiumBuilder.withCapabilities(caps);\r\n    \t        appiumBuilder.withStartUpTimeOut(3, TimeUnit.MINUTES);\r\n    \t        appiumBuilder.withLogFile(new File(System.getProperty(&quot;user.dir&quot;) + &quot;\\\\log\\\\appium.log&quot;));\r\n    \t        appiumBuilder.withArgument(GeneralServerFlag.SESSION_OVERRIDE);\r\n    \t        appiumBuilder.withArgument(GeneralServerFlag.LOG_LEVEL, &quot;DEBUG&quot;);\r\n    \t        appiumBuilder.withArgument(GeneralServerFlag.ASYNC_TRACE, &quot;true&quot;);\r\n    \t        \r\n    \t        appiumServer = AppiumDriverLocalService.buildService(appiumBuilder);\r\n    \t        appiumServer.start();\r\n    \t        //new URL(&quot;http://127.0.0.1:47233/wd/hub&quot;)\r\n    \t\t\tdriver = new AndroidDriver&lt;MobileElement&gt;(appiumServer, caps);\r\n    \t\t\tdriver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\r\n    \t\t\t\r\n    \t\t} catch (Exception ex) {\r\n    \t\t\tLogManager.logger.log(Level.INFO, &quot;Exception: &quot; + ex.getMessage());\r\n    \t\t}\r\n\r\n\r\nError Log: \r\n&gt; INFO: Exception: Invalid server instance exception has occured: There\r\n&gt; is no installed nodes! Please install node via NPM\r\n&gt; (https://www.npmjs.com/package/appium#using-node-js) or download and\r\n&gt; install Appium app (http://appium.io/downloads.html) Jan 03, 2019\r\n&gt; 3:52:12 PM com.peterwkc.testManager.AndroidManager tearDown INFO:\r\n&gt; Exception: null\r\n\r\nEDIT: \r\nI believe appium source code cannot detect my installation of nodejs and appium. \r\n","title":"Appium: Exception: Invalid server instance exception has occured: There is no installed nodes","body":"<p>I tried to start the appium server programmatically but encounter error. How to resolve this issues? I have nodejs installed and appium installed and environemnt variable set properly. I\"m using maven appium java client 6.1.0 and selenium 3.14.0. Please help. A billion thanks for your help. </p>\n\n<p>Code: </p>\n\n<pre><code>try {\n            File appDir = new File(System.getProperty(\"user.dir\"));\n            File app = new File(appDir, \"..\\\\apk\\\\Flipkart.apk\");\n\n            // apk Capabilities\n            DesiredCapabilities caps = new DesiredCapabilities();\n            caps.setCapability(\"deviceName\", \"Sony Xperia Z2\");\n            caps.setCapability(\"BROWSER_NAME\", \"Android\");\n            caps.setCapability(\"platformVersion\", \"6.0\");\n            caps.setCapability(MobileCapabilityType.PLATFORM_NAME, Platform.ANDROID);\n            //caps.setCapability(\"udid\", \"WUJ01N4RQ3\"); // DeviceId from \"adb devices\" command\n            caps.setCapability(\"platformName\", \"Android\");\n            caps.setCapability(\"app\", app.getAbsolutePath());\n            caps.setCapability(\"appPackage\", \"com.flipkart.android\");\n            caps.setCapability(\"appActivity\",\"com.flipkart.android.SplashActivity\");\n\n            // Appium Capabilities\n            caps.setCapability(\"skipUnlock\",\"true\");\n            caps.setCapability(\"noReset\",\"false\");\n\n            appiumBuilder = new AppiumServiceBuilder();\n            appiumBuilder.withIPAddress(\"127.0.0.1\");\n            appiumBuilder.usingPort(47233);\n            appiumBuilder.withCapabilities(caps);\n            appiumBuilder.withStartUpTimeOut(3, TimeUnit.MINUTES);\n            appiumBuilder.withLogFile(new File(System.getProperty(\"user.dir\") + \"\\\\log\\\\appium.log\"));\n            appiumBuilder.withArgument(GeneralServerFlag.SESSION_OVERRIDE);\n            appiumBuilder.withArgument(GeneralServerFlag.LOG_LEVEL, \"DEBUG\");\n            appiumBuilder.withArgument(GeneralServerFlag.ASYNC_TRACE, \"true\");\n\n            appiumServer = AppiumDriverLocalService.buildService(appiumBuilder);\n            appiumServer.start();\n            //new URL(\"http://127.0.0.1:47233/wd/hub\")\n            driver = new AndroidDriver&lt;MobileElement&gt;(appiumServer, caps);\n            driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\n\n        } catch (Exception ex) {\n            LogManager.logger.log(Level.INFO, \"Exception: \" + ex.getMessage());\n        }\n</code></pre>\n\n<p>Error Log: </p>\n\n<blockquote>\n  <p>INFO: Exception: Invalid server instance exception has occured: There\n  is no installed nodes! Please install node via NPM\n  (<a href=\"https://www.npmjs.com/package/appium#using-node-js\" rel=\"noreferrer\">https://www.npmjs.com/package/appium#using-node-js</a>) or download and\n  install Appium app (<a href=\"http://appium.io/downloads.html\" rel=\"noreferrer\">http://appium.io/downloads.html</a>) Jan 03, 2019\n  3:52:12 PM com.peterwkc.testManager.AndroidManager tearDown INFO:\n  Exception: null</p>\n</blockquote>\n\n<p>EDIT: \nI believe appium source code cannot detect my installation of nodejs and appium. </p>\n"},{"tags":["java","android","service"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1679828789,"post_id":75845819,"comment_id":133787339,"body_markdown":"Did you read [the documentation](https://developer.android.com/reference/android/app/ActivityManager?hl=en#getRunningTasks(int))?","body":"Did you read <a href=\"https://developer.android.com/reference/android/app/ActivityManager?hl=en#getRunningTasks(int)\" rel=\"nofollow noreferrer\">the documentation</a>?"}],"owner":{"account_id":28126584,"reputation":1,"user_id":21491865,"display_name":"Sumit Saini"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679804071,"creation_date":1679804071,"question_id":75845819,"body_markdown":"I am trying to create an app lock application for Android in Java. For this i need a service that runs in the background and listens if any application is launched and then do a certain task(to show a locked screen instead of the app). \r\n\r\nI tried doing the following \r\n\r\n```\r\npublic class BgService extends Service {\r\n    private TimerTask timerTask;\r\n    private Timer timer;\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        timer = new Timer();\r\n        timerTask = new TimerTask() {\r\n            @Override\r\n            public void run() {\r\n                try\r\n                {\r\n//                    System.out.println(&quot;Qwerty&quot;);\r\n                    Process mLogcatProc = null;\r\n                    BufferedReader reader = null;\r\n                    mLogcatProc = Runtime.getRuntime().exec(new String[]{&quot;logcat&quot;, &quot;-d&quot;});\r\n\r\n                    reader = new BufferedReader(new InputStreamReader(mLogcatProc.getInputStream()));\r\n\r\n                    String line;\r\n                    final StringBuilder log = new StringBuilder();\r\n                    String separator = System.getProperty(&quot;line.separator&quot;);\r\n\r\n                    while ((line = reader.readLine()) != null)\r\n                    {\r\n                        log.append(line);\r\n                        log.append(separator);\r\n                    }\r\n\r\n                    String w = log.toString();\r\n//                    System.out.println(&quot;Hello &quot;+w);\r\n//                    Toast.makeText(getApplicationContext(),w, Toast.LENGTH_LONG).show();\r\n                }\r\n                catch (Exception e)\r\n                {\r\n                    Toast.makeText(getApplicationContext(), e.getMessage(), Toast.LENGTH_LONG).show();\r\n                }\r\n                String appName = getLaunchedAppName(BgService.this);\r\n                Log.d(&quot;AppLaunchService&quot;, &quot;Launched app: &quot; + appName);\r\n//                // Do something with the launched app name\r\n            }\r\n        };\r\n        timer.schedule(timerTask, 0, 1000); // Check every 1 second\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        if (timer != null) {\r\n            timer.cancel();\r\n        }\r\n        if (timerTask != null) {\r\n            timerTask.cancel();\r\n        }\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n\r\n    public String getLaunchedAppName(Context context) {\r\n        String packageName = &quot;&quot;;\r\n        ActivityManager activityManager = (ActivityManager) context.getSystemService(Context.ACTIVITY_SERVICE);\r\n        if (activityManager != null) {\r\n            List&lt;ActivityManager.RunningTaskInfo&gt; runningTaskInfos = activityManager.getRunningTasks(1);\r\n            if (runningTaskInfos != null &amp;&amp; !runningTaskInfos.isEmpty()) {\r\n                packageName = runningTaskInfos.get(0).topActivity.getPackageName();\r\n                PackageManager packageManager = context.getPackageManager();\r\n                ApplicationInfo applicationInfo;\r\n                try {\r\n                    applicationInfo = packageManager.getApplicationInfo(packageName, 0);\r\n                } catch (PackageManager.NameNotFoundException e) {\r\n                    e.printStackTrace();\r\n                    applicationInfo = null;\r\n                }\r\n                String appName = (String) (applicationInfo != null ? packageManager.getApplicationLabel(applicationInfo) : &quot;Unknown&quot;);\r\n                return appName;\r\n            }\r\n        }\r\n        return packageName;\r\n    }\r\n}\r\n```\r\n\r\nBut this code keeps printing the name of the Launcher(Moto App Launcher, in my case). When i lunch the app from android studio, it&#39;ll show the name of the app, and once i try to open anything else it&#39;ll keep logging Moto App Launcher, i have tried this on other phones and it always prints the name of the launcher instead of the app.\r\n\r\n[Output of the above code when it runs as a background service](https://i.stack.imgur.com/5GMaF.png)\r\n\r\n","title":"Android background service not returning currently launched application. Java Android Version 11","body":"<p>I am trying to create an app lock application for Android in Java. For this i need a service that runs in the background and listens if any application is launched and then do a certain task(to show a locked screen instead of the app).</p>\n<p>I tried doing the following</p>\n<pre><code>public class BgService extends Service {\n    private TimerTask timerTask;\n    private Timer timer;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        timer = new Timer();\n        timerTask = new TimerTask() {\n            @Override\n            public void run() {\n                try\n                {\n//                    System.out.println(&quot;Qwerty&quot;);\n                    Process mLogcatProc = null;\n                    BufferedReader reader = null;\n                    mLogcatProc = Runtime.getRuntime().exec(new String[]{&quot;logcat&quot;, &quot;-d&quot;});\n\n                    reader = new BufferedReader(new InputStreamReader(mLogcatProc.getInputStream()));\n\n                    String line;\n                    final StringBuilder log = new StringBuilder();\n                    String separator = System.getProperty(&quot;line.separator&quot;);\n\n                    while ((line = reader.readLine()) != null)\n                    {\n                        log.append(line);\n                        log.append(separator);\n                    }\n\n                    String w = log.toString();\n//                    System.out.println(&quot;Hello &quot;+w);\n//                    Toast.makeText(getApplicationContext(),w, Toast.LENGTH_LONG).show();\n                }\n                catch (Exception e)\n                {\n                    Toast.makeText(getApplicationContext(), e.getMessage(), Toast.LENGTH_LONG).show();\n                }\n                String appName = getLaunchedAppName(BgService.this);\n                Log.d(&quot;AppLaunchService&quot;, &quot;Launched app: &quot; + appName);\n//                // Do something with the launched app name\n            }\n        };\n        timer.schedule(timerTask, 0, 1000); // Check every 1 second\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        if (timer != null) {\n            timer.cancel();\n        }\n        if (timerTask != null) {\n            timerTask.cancel();\n        }\n    }\n\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n    public String getLaunchedAppName(Context context) {\n        String packageName = &quot;&quot;;\n        ActivityManager activityManager = (ActivityManager) context.getSystemService(Context.ACTIVITY_SERVICE);\n        if (activityManager != null) {\n            List&lt;ActivityManager.RunningTaskInfo&gt; runningTaskInfos = activityManager.getRunningTasks(1);\n            if (runningTaskInfos != null &amp;&amp; !runningTaskInfos.isEmpty()) {\n                packageName = runningTaskInfos.get(0).topActivity.getPackageName();\n                PackageManager packageManager = context.getPackageManager();\n                ApplicationInfo applicationInfo;\n                try {\n                    applicationInfo = packageManager.getApplicationInfo(packageName, 0);\n                } catch (PackageManager.NameNotFoundException e) {\n                    e.printStackTrace();\n                    applicationInfo = null;\n                }\n                String appName = (String) (applicationInfo != null ? packageManager.getApplicationLabel(applicationInfo) : &quot;Unknown&quot;);\n                return appName;\n            }\n        }\n        return packageName;\n    }\n}\n</code></pre>\n<p>But this code keeps printing the name of the Launcher(Moto App Launcher, in my case). When i lunch the app from android studio, it'll show the name of the app, and once i try to open anything else it'll keep logging Moto App Launcher, i have tried this on other phones and it always prints the name of the launcher instead of the app.</p>\n<p><a href=\"https://i.stack.imgur.com/5GMaF.png\" rel=\"nofollow noreferrer\">Output of the above code when it runs as a background service</a></p>\n"},{"tags":["java","rest","single-page-application"],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679624640,"creation_date":1679624640,"answer_id":75829542,"question_id":75829264,"body_markdown":"I would absolutely recommend #2.\r\n\r\n1. Using approach #1, you would have a real problem reacting to an error if one of the patches were to fail.\r\n\r\n2. A patch is to an individual resource, not a collection.\r\n\r\n3. How would caching, etc. be handled? The specification is clear about ETags and individual resources, how should a server deal with concurrent changes?\r\n\r\nI don&#39;t see how offloading the client&#39;s job to the server helps, it makes everything more complicated.","title":"Should REST patch accept multiple entities in a single request body or different requests per entity","body":"<p>I would absolutely recommend #2.</p>\n<ol>\n<li><p>Using approach #1, you would have a real problem reacting to an error if one of the patches were to fail.</p>\n</li>\n<li><p>A patch is to an individual resource, not a collection.</p>\n</li>\n<li><p>How would caching, etc. be handled? The specification is clear about ETags and individual resources, how should a server deal with concurrent changes?</p>\n</li>\n</ol>\n<p>I don't see how offloading the client's job to the server helps, it makes everything more complicated.</p>\n"},{"tags":[],"owner":{"account_id":22259,"reputation":53853,"user_id":54734,"accept_rate":29,"display_name":"VoiceOfUnreason"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679802569,"creation_date":1679626076,"answer_id":75829622,"question_id":75829264,"body_markdown":"&gt; For Patch, should we a keep single endpoint which could accept request body like given below where SPA can send either one of the entities be updated.\r\n\r\nThat depends on: what are you using for `GET`?  Do you have one, two, or three resources?\r\n\r\nIf you are supporting reads via `GET /api/organization`, with all of the details of students and teachers embedded in the representation you return, then you should normally want to PATCH the organization resource.\r\n\r\nOn the other hand, if `GET /api/organization` returns a representation that links to data somewhere else (ex /api/organization/students/1), then you should normally target the linked resource that has the representation you wanted to change.\r\n\r\nRemember, you are implementing a facade to make your service look like an HTTP-aware document store.  So your endpoints should understand PATCH requests the same way that a document store does: that the patch is intended to be applied to the document identified by the target uri of the request.\r\n\r\nExpressed another way: PATCH really doesn&#39;t care whether a resource captures information about a single entity or multiple entities in your database.  It&#39;s all about the resource (ie: the web page) and making remote authoring changes to the representation(s) of that web page.\r\n\r\nWhich is pretty much the whole point of REST&#39;s &quot;uniform interface&quot; constraint - all resources understand request messages the same way, regardless of how they are implemented behind the facade.\r\n\r\nThe one constraint on PATCH that might impact your choice of resource model:\r\n\r\n&gt; The server MUST apply the entire set of changes atomically and never provide (e.g., in response to a GET during this operation) a partially modified representation. -- [RFC 5789][1]\r\n\r\nSo if patching teachers and students at the same time would require a distributed transaction, then maybe you don&#39;t want a resource model that suggests they can be changed together atomically.\r\n\r\n----\r\n\r\nThe heuristic to use is pretty simple: how would you arrange this information on web pages?  \r\n\r\nIf everything were embedded within a single HTML document, then you would of course patch that document.  On the other hand, if the main document was linking to other documents, then you would patch the main document to change the links, and patch the link target to change the representations returned from there.\r\n\r\n----\r\n\r\n&gt; Does this mean the patch operation - /api/organization, should be executed atomically on the server (for ex. as a transaction on a DB) and if students node in the request has bad data, teachers should not be saved/rolled back?\r\n\r\nIf you want a simple answer that elides the concerns of nuance: yes.\r\n\r\nThe more complicated version considers this observation by [Roy Fielding][2]:\r\n\r\n&gt; HTTP does not attempt to require the results of a GET to be safe.  What it does is require that the semantics of the operation be safe, and therefore it is a fault of the implementation, not the interface or the user of that interface, if anything happens as a result that causes loss of property....\r\n\r\nIf we can apply that idea in general, then a PATCH request _means_ &quot;please apply these changes atomically&quot;, but the server does have the freedom to do something other than what was asked.\r\n\r\nFrom the perspective of the server, these are our resources, and we get to decide when and how to change them.  So we could reject the proposed patch, and also make changes of our own choosing, which _could_ be a subset of the changes that were proposed in the request.\r\n\r\nBut if we do that, and it &quot;makes a mess&quot;, that&#39;s on us (the implementation) and not on HTTP or on the client sending the messages.\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc5789#section-2\r\n  [2]: https://lists.w3.org/Archives/Public/www-tag/2002Apr/0207.html","title":"Should REST patch accept multiple entities in a single request body or different requests per entity","body":"<blockquote>\n<p>For Patch, should we a keep single endpoint which could accept request body like given below where SPA can send either one of the entities be updated.</p>\n</blockquote>\n<p>That depends on: what are you using for <code>GET</code>?  Do you have one, two, or three resources?</p>\n<p>If you are supporting reads via <code>GET /api/organization</code>, with all of the details of students and teachers embedded in the representation you return, then you should normally want to PATCH the organization resource.</p>\n<p>On the other hand, if <code>GET /api/organization</code> returns a representation that links to data somewhere else (ex /api/organization/students/1), then you should normally target the linked resource that has the representation you wanted to change.</p>\n<p>Remember, you are implementing a facade to make your service look like an HTTP-aware document store.  So your endpoints should understand PATCH requests the same way that a document store does: that the patch is intended to be applied to the document identified by the target uri of the request.</p>\n<p>Expressed another way: PATCH really doesn't care whether a resource captures information about a single entity or multiple entities in your database.  It's all about the resource (ie: the web page) and making remote authoring changes to the representation(s) of that web page.</p>\n<p>Which is pretty much the whole point of REST's &quot;uniform interface&quot; constraint - all resources understand request messages the same way, regardless of how they are implemented behind the facade.</p>\n<p>The one constraint on PATCH that might impact your choice of resource model:</p>\n<blockquote>\n<p>The server MUST apply the entire set of changes atomically and never provide (e.g., in response to a GET during this operation) a partially modified representation. -- <a href=\"https://www.rfc-editor.org/rfc/rfc5789#section-2\" rel=\"nofollow noreferrer\">RFC 5789</a></p>\n</blockquote>\n<p>So if patching teachers and students at the same time would require a distributed transaction, then maybe you don't want a resource model that suggests they can be changed together atomically.</p>\n<hr />\n<p>The heuristic to use is pretty simple: how would you arrange this information on web pages?</p>\n<p>If everything were embedded within a single HTML document, then you would of course patch that document.  On the other hand, if the main document was linking to other documents, then you would patch the main document to change the links, and patch the link target to change the representations returned from there.</p>\n<hr />\n<blockquote>\n<p>Does this mean the patch operation - /api/organization, should be executed atomically on the server (for ex. as a transaction on a DB) and if students node in the request has bad data, teachers should not be saved/rolled back?</p>\n</blockquote>\n<p>If you want a simple answer that elides the concerns of nuance: yes.</p>\n<p>The more complicated version considers this observation by <a href=\"https://lists.w3.org/Archives/Public/www-tag/2002Apr/0207.html\" rel=\"nofollow noreferrer\">Roy Fielding</a>:</p>\n<blockquote>\n<p>HTTP does not attempt to require the results of a GET to be safe.  What it does is require that the semantics of the operation be safe, and therefore it is a fault of the implementation, not the interface or the user of that interface, if anything happens as a result that causes loss of property....</p>\n</blockquote>\n<p>If we can apply that idea in general, then a PATCH request <em>means</em> &quot;please apply these changes atomically&quot;, but the server does have the freedom to do something other than what was asked.</p>\n<p>From the perspective of the server, these are our resources, and we get to decide when and how to change them.  So we could reject the proposed patch, and also make changes of our own choosing, which <em>could</em> be a subset of the changes that were proposed in the request.</p>\n<p>But if we do that, and it &quot;makes a mess&quot;, that's on us (the implementation) and not on HTTP or on the client sending the messages.</p>\n"}],"owner":{"account_id":4119598,"reputation":383,"user_id":3380336,"accept_rate":75,"display_name":"Ketan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":539,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75829622,"answer_count":2,"score":1,"last_activity_date":1679802569,"creation_date":1679620577,"question_id":75829264,"body_markdown":"I have a question around choosing an approach while designing our REST API. \r\n\r\nOur REST API will be consumed by a SPA app (Created in React in case relevant) to add/update an Organization model which looks like following -\r\n\r\n```\r\nClass Organization{\r\n    List&lt;Student&gt; students;\r\n    List&lt;Teacher&gt; teachers;\r\n}\r\n```\r\n\r\nWe plan to provide Post and Patch methods for interactions with our API.\r\n\r\nFor Patch, should we a keep single endpoint which could accept request body like given below where SPA can send either one of the entities be updated.\r\n\r\nApproach 1 -\r\n\r\nPatch\r\n\r\n```\r\n/api/organization\r\n{\r\n    &quot;students&quot;:[],\r\n    &quot;teachers&quot;:[]\r\n}\r\n```\r\n\r\nOr should we instead provide two separate endpoints to update the specific entity?\r\n\r\nApproach 2 -\r\n\r\n```\r\n/api/organization/students/{id}\r\n\r\n/api/organization/teachers/{id}\r\n\r\n```\r\n\r\n(Please note that in real scenario there are around 10 such entities)\r\n\r\nSPA team is in favor of approach 1 keeping single endpoint which gives them flexibility to send any entity to a single patch endpoint and not having to keep track of different endpoints per entity.\r\n\r\nOn the other hand, API team is in favor approach 2 of patch endpoint per entity so they can have events generated on the back-end based on the patch call they receive per entity and not having to go through request body to see what came in.\r\n\r\nIs there any REST standard which applies in above scenario to choose one approach over the other?\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Should REST patch accept multiple entities in a single request body or different requests per entity","body":"<p>I have a question around choosing an approach while designing our REST API.</p>\n<p>Our REST API will be consumed by a SPA app (Created in React in case relevant) to add/update an Organization model which looks like following -</p>\n<pre><code>Class Organization{\n    List&lt;Student&gt; students;\n    List&lt;Teacher&gt; teachers;\n}\n</code></pre>\n<p>We plan to provide Post and Patch methods for interactions with our API.</p>\n<p>For Patch, should we a keep single endpoint which could accept request body like given below where SPA can send either one of the entities be updated.</p>\n<p>Approach 1 -</p>\n<p>Patch</p>\n<pre><code>/api/organization\n{\n    &quot;students&quot;:[],\n    &quot;teachers&quot;:[]\n}\n</code></pre>\n<p>Or should we instead provide two separate endpoints to update the specific entity?</p>\n<p>Approach 2 -</p>\n<pre><code>/api/organization/students/{id}\n\n/api/organization/teachers/{id}\n\n</code></pre>\n<p>(Please note that in real scenario there are around 10 such entities)</p>\n<p>SPA team is in favor of approach 1 keeping single endpoint which gives them flexibility to send any entity to a single patch endpoint and not having to keep track of different endpoints per entity.</p>\n<p>On the other hand, API team is in favor approach 2 of patch endpoint per entity so they can have events generated on the back-end based on the patch call they receive per entity and not having to go through request body to see what came in.</p>\n<p>Is there any REST standard which applies in above scenario to choose one approach over the other?</p>\n"},{"tags":["java","android","mapbox"],"owner":{"account_id":1311937,"reputation":1459,"user_id":1259763,"accept_rate":73,"display_name":"Federico Alvarez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679802003,"creation_date":1679798496,"question_id":75845601,"body_markdown":"I have been working with maps on android as a developer for quite a while, now  I have to intgrate MapBox to an exisitng app that is only Java, no Kotlin, and I find absolutely no way to add a marker to a Mapbox map!\r\n\r\nTo be honest this is ridiculous, it should not take more than a couple of minutes. Sorry for my rant.\r\n\r\nAll documentation is only for Kotlin, any attempt to migrate it to Java and you find that most methods/classes are not available.\r\n\r\nThis is my import:\r\n\r\n       implementation &#39;com.mapbox.maps:android:10.12.0&#39;\r\n\r\nAnd this is the map being instanciated:\r\n\r\n        mapView = mView.findViewById(R.id.fpmb_mapView);\r\n        mapView.getMapboxMap().loadStyleUri(Style.MAPBOX_STREETS);\r\n        mapView.getMapboxMap().setCamera(new CameraOptions.Builder().center(Point.fromLngLat(-56, -34)).zoom(8.0).build());\r\n\r\nAny help in adding a Marker would be much appreciated.\r\n\r\nEDIT 1: Following the kotlin example does work, it requires tweaking..., but it works: [https://docs.mapbox.com/android/maps/examples/add-one-marker-symbol/][1] or [https://docs.mapbox.com/android/maps/examples/default-point-annotation/][2]\r\n\r\n\r\n  [1]: https://docs.mapbox.com/android/maps/examples/add-one-marker-symbol/\r\n  [2]: https://docs.mapbox.com/android/maps/examples/default-point-annotation/","title":"Mapbox/Android/Java - Add marker","body":"<p>I have been working with maps on android as a developer for quite a while, now  I have to intgrate MapBox to an exisitng app that is only Java, no Kotlin, and I find absolutely no way to add a marker to a Mapbox map!</p>\n<p>To be honest this is ridiculous, it should not take more than a couple of minutes. Sorry for my rant.</p>\n<p>All documentation is only for Kotlin, any attempt to migrate it to Java and you find that most methods/classes are not available.</p>\n<p>This is my import:</p>\n<pre><code>   implementation 'com.mapbox.maps:android:10.12.0'\n</code></pre>\n<p>And this is the map being instanciated:</p>\n<pre><code>    mapView = mView.findViewById(R.id.fpmb_mapView);\n    mapView.getMapboxMap().loadStyleUri(Style.MAPBOX_STREETS);\n    mapView.getMapboxMap().setCamera(new CameraOptions.Builder().center(Point.fromLngLat(-56, -34)).zoom(8.0).build());\n</code></pre>\n<p>Any help in adding a Marker would be much appreciated.</p>\n<p>EDIT 1: Following the kotlin example does work, it requires tweaking..., but it works: <a href=\"https://docs.mapbox.com/android/maps/examples/add-one-marker-symbol/\" rel=\"nofollow noreferrer\">https://docs.mapbox.com/android/maps/examples/add-one-marker-symbol/</a> or <a href=\"https://docs.mapbox.com/android/maps/examples/default-point-annotation/\" rel=\"nofollow noreferrer\">https://docs.mapbox.com/android/maps/examples/default-point-annotation/</a></p>\n"},{"tags":["java","gremlin","tinkerpop","amazon-neptune"],"comments":[{"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"score":0,"creation_date":1679863214,"post_id":75845399,"comment_id":133792765,"body_markdown":"To further diagnose what is going on, it would be very helpful to see the `/profile` of this query (`%%gremlin profile` if using a notebook). FWIW all three of the and steps can be removed although I see why you are wanting one as a kind of collector step. The `has` steps can just be chained together.. What is the approximate cardinality of each `has` step? If `personId` is unique, it may also help to make the person ID the actual node ID. Perhaps also worth noting, the latest Amazon Neptune engine versions contain additional optimizations that may help with `has().has()` type patterns.","body":"To further diagnose what is going on, it would be very helpful to see the <code>&#47;profile</code> of this query (<code>%%gremlin profile</code> if using a notebook). FWIW all three of the and steps can be removed although I see why you are wanting one as a kind of collector step. The <code>has</code> steps can just be chained together.. What is the approximate cardinality of each <code>has</code> step? If <code>personId</code> is unique, it may also help to make the person ID the actual node ID. Perhaps also worth noting, the latest Amazon Neptune engine versions contain additional optimizations that may help with <code>has().has()</code> type patterns."}],"owner":{"account_id":10133926,"reputation":131,"user_id":7486210,"accept_rate":50,"display_name":"Ebad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679801720,"creation_date":1679793702,"question_id":75845399,"body_markdown":"Using Amazon Neptune with TinkerPop Gremlin 3.5.2\r\n\r\nI have a few different nodes that share the same fieldNames/values in my graph.\r\n\r\nFor example:\r\n\r\nPerson --&gt; Preferences &lt;-- Phone\r\n\r\nWith Person and Preferences sharing the fieldName &quot;personId&quot; (the values match as well).\r\nAnd Phone and Preferences sharing the fieldName &quot;phoneId&quot; (again the two values match as well).\r\n\r\nNow, when I try to query for those preferences, I have the personId and the phoneId.\r\n\r\nFor this particular query, I am trying to find two different Preferences in the graph. One for Person A and their Phone A, and one for Person B and their Phone B.\r\n\r\nI am trying to query by: (Nodes with &quot;personAId&quot; AND &quot;phoneAId&quot; or nodes with &quot;personBId&quot; AND &quot;phoneBId&quot;)\r\n```\r\ng.V().filter(\r\n    __.and(\r\n        __.or(\r\n            __.and(\r\n                has(&quot;personId&quot;, personAId),\r\n                has(&quot;phoneId&quot;, phoneAId)\r\n            ),\r\n            __.and(\r\n                has(&quot;personId&quot;, personBId),\r\n                has(&quot;phoneId&quot;, phoneBId)\r\n            )\r\n        )\r\n    )\r\n).elementMap().dedup().fold().next();\r\n\r\n```\r\nI know the first `__.and()` isn&#39;t needed, but I am using a traversal that we already have set up that takes multiple traversals to query by using the `__.and()` and I figured having only 1 wouldn&#39;t affect much.\r\n\r\nHowever, with the graph having about 5M nodes, it takes this query almost 2 minutes to implement. It also returns my expected nodes, but it just takes forever.\r\n\r\nI can query them in a different way individually, but then I would have to make 2 queries to the DB (which in this case would actually still be faster than the 1 here). Is there a reason why this query performs so slowly? How can I improve the performance of this query?\r\n\r\nThanks","title":"TinkerPop Gremlin query using multiple criteria performing very slow","body":"<p>Using Amazon Neptune with TinkerPop Gremlin 3.5.2</p>\n<p>I have a few different nodes that share the same fieldNames/values in my graph.</p>\n<p>For example:</p>\n<p>Person --&gt; Preferences &lt;-- Phone</p>\n<p>With Person and Preferences sharing the fieldName &quot;personId&quot; (the values match as well).\nAnd Phone and Preferences sharing the fieldName &quot;phoneId&quot; (again the two values match as well).</p>\n<p>Now, when I try to query for those preferences, I have the personId and the phoneId.</p>\n<p>For this particular query, I am trying to find two different Preferences in the graph. One for Person A and their Phone A, and one for Person B and their Phone B.</p>\n<p>I am trying to query by: (Nodes with &quot;personAId&quot; AND &quot;phoneAId&quot; or nodes with &quot;personBId&quot; AND &quot;phoneBId&quot;)</p>\n<pre><code>g.V().filter(\n    __.and(\n        __.or(\n            __.and(\n                has(&quot;personId&quot;, personAId),\n                has(&quot;phoneId&quot;, phoneAId)\n            ),\n            __.and(\n                has(&quot;personId&quot;, personBId),\n                has(&quot;phoneId&quot;, phoneBId)\n            )\n        )\n    )\n).elementMap().dedup().fold().next();\n\n</code></pre>\n<p>I know the first <code>__.and()</code> isn't needed, but I am using a traversal that we already have set up that takes multiple traversals to query by using the <code>__.and()</code> and I figured having only 1 wouldn't affect much.</p>\n<p>However, with the graph having about 5M nodes, it takes this query almost 2 minutes to implement. It also returns my expected nodes, but it just takes forever.</p>\n<p>I can query them in a different way individually, but then I would have to make 2 queries to the DB (which in this case would actually still be faster than the 1 here). Is there a reason why this query performs so slowly? How can I improve the performance of this query?</p>\n<p>Thanks</p>\n"},{"tags":["java","applet"],"answers":[{"tags":[],"owner":{"account_id":373125,"reputation":2393,"user_id":722565,"accept_rate":100,"display_name":"Vern"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1312083738,"creation_date":1312083738,"answer_id":6887422,"question_id":6887390,"body_markdown":"In general, you&#39;ll want to change all the non swing components to swing components. For events, they&#39;re roughly the same for both applets and swing applications. Hope it helps.","title":"Change java applet to java application","body":"<p>In general, you'll want to change all the non swing components to swing components. For events, they're roughly the same for both applets and swing applications. Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":229892,"reputation":37886,"user_id":493161,"accept_rate":90,"display_name":"jcomeau_ictx"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1679799572,"creation_date":1312083781,"answer_id":6887423,"question_id":6887390,"body_markdown":"Just add a main() method, make a Frame for your applet, add the applet to the frame, and call the applet&#39;s init() and start() methods. See my Mandelbrot.java for an example: https://jcomeau.com/src/java/com/jcomeau/Mandelbrot.java\r\n\r\nOne advantage of this approach is that it can be used with any existing applet, to allow it to function as either an applet or application. Use a JFrame if you&#39;re using Swing components, otherwise it should work pretty nearly the same.","title":"Change java applet to java application","body":"<p>Just add a main() method, make a Frame for your applet, add the applet to the frame, and call the applet's init() and start() methods. See my Mandelbrot.java for an example: <a href=\"https://jcomeau.com/src/java/com/jcomeau/Mandelbrot.java\" rel=\"nofollow noreferrer\">https://jcomeau.com/src/java/com/jcomeau/Mandelbrot.java</a></p>\n<p>One advantage of this approach is that it can be used with any existing applet, to allow it to function as either an applet or application. Use a JFrame if you're using Swing components, otherwise it should work pretty nearly the same.</p>\n"},{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1312085884,"creation_date":1312084476,"answer_id":6887451,"question_id":6887390,"body_markdown":"In all honesty, you need to re-write your program from scratch so that you can incorporate OOP techniques, arrays, collections, and other advantages that Java has to offer.  I recommend:\r\n\r\n* First of all since your code displays a series of questions and prompts for response, don&#39;t hard-code the questions in the code but make them part of the data. Have your program read in a text file that holds the questions. This will allow you to change questions or add questions without altering code.\r\n* Create a non-GUI Question class that holds questions and user responses and that is used by the GUI as its &quot;model&quot;.\r\n* Create an ArrayList of Question objects.\r\n* For your GUI, code to the JPanel, not the applet or the JFrame. This will give you the option of using your GUI in a JFrame or a JApplet, or even a JDialog or embedded in another JPanel should you so desire.\r\n* If you will need to swap display panels, consider using CardLayout for this purpose.\r\n* If however all you&#39;ll be doing is changing the text of the question, then display the question text in a JLabel and when you want to change it, call setText(...) on the JLabel passing in the new question&#39;s text.\r\n* Use the user-friendly layout managers to ease your work of laying out components in the GUI.\r\n* Your current code has a lot of unnecessary redundencies. Use of arrays and collections such as ArrayLists will remove many of these redudancies and make debugging and upgrading **much** easier.\r\n* As others have stated and as I stated in my earlier comment, you should move up to the Swing library as it is much more flexible and robust than the AWT gui library that you are currently using. The Swing tutorials will show you what you need to know to create beautiful Swing programs.","title":"Change java applet to java application","body":"<p>In all honesty, you need to re-write your program from scratch so that you can incorporate OOP techniques, arrays, collections, and other advantages that Java has to offer.  I recommend:</p>\n\n<ul>\n<li>First of all since your code displays a series of questions and prompts for response, don't hard-code the questions in the code but make them part of the data. Have your program read in a text file that holds the questions. This will allow you to change questions or add questions without altering code.</li>\n<li>Create a non-GUI Question class that holds questions and user responses and that is used by the GUI as its \"model\".</li>\n<li>Create an ArrayList of Question objects.</li>\n<li>For your GUI, code to the JPanel, not the applet or the JFrame. This will give you the option of using your GUI in a JFrame or a JApplet, or even a JDialog or embedded in another JPanel should you so desire.</li>\n<li>If you will need to swap display panels, consider using CardLayout for this purpose.</li>\n<li>If however all you'll be doing is changing the text of the question, then display the question text in a JLabel and when you want to change it, call setText(...) on the JLabel passing in the new question's text.</li>\n<li>Use the user-friendly layout managers to ease your work of laying out components in the GUI.</li>\n<li>Your current code has a lot of unnecessary redundencies. Use of arrays and collections such as ArrayLists will remove many of these redudancies and make debugging and upgrading <strong>much</strong> easier.</li>\n<li>As others have stated and as I stated in my earlier comment, you should move up to the Swing library as it is much more flexible and robust than the AWT gui library that you are currently using. The Swing tutorials will show you what you need to know to create beautiful Swing programs.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":451807,"reputation":36,"user_id":847892,"display_name":"Josh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1312086396,"creation_date":1312086396,"answer_id":6887548,"question_id":6887390,"body_markdown":"I&#39;m not sure what you are asking, but if you want it inside a window all you need to do is this:\r\n\r\n    \tpublic Object[] startNewSurvey()\r\n\t\t{\r\n\t\t\tjava.awt.Frame f = new java.awt.Frame(&quot;You&#39;re title here.&quot;);\r\n\t\t\tf.setSize(new Dimension(&lt;Width&gt;, &lt;Height&gt;));\r\n\t\t\tf.setResizable(false);\r\n\r\n\t\t\tsurvey s = new survey();\r\n\t\t\ts.init();\r\n\t\t\tf.add(s);\r\n\r\n\t\t\tf.setVisible(true);\r\n\t\t\treturn new Object[] { f, s };\r\n\t\t}\r\nThat will just instance a brand new frame and put another new instance of your survey class in that frame, then display it. It also returns a 2 sized Object[] array containing the new Frame and survey instances made. Hope that helps.","title":"Change java applet to java application","body":"<p>I'm not sure what you are asking, but if you want it inside a window all you need to do is this:</p>\n\n<pre><code>    public Object[] startNewSurvey()\n    {\n        java.awt.Frame f = new java.awt.Frame(\"You're title here.\");\n        f.setSize(new Dimension(&lt;Width&gt;, &lt;Height&gt;));\n        f.setResizable(false);\n\n        survey s = new survey();\n        s.init();\n        f.add(s);\n\n        f.setVisible(true);\n        return new Object[] { f, s };\n    }\n</code></pre>\n\n<p>That will just instance a brand new frame and put another new instance of your survey class in that frame, then display it. It also returns a 2 sized Object[] array containing the new Frame and survey instances made. Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":981468,"reputation":47,"user_id":9853866,"display_name":"surendra tomar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542018114,"creation_date":1542018114,"answer_id":53260112,"question_id":6887390,"body_markdown":"https://way2java.com/applets/applet-to-application/\r\n\r\nFollowing are the changes to be made from Applet to Application\r\n\r\n1. Delete the statement &quot;import java.applet&quot; package\r\n2. Replace extends Applet with Frame\r\n3. Replace the init() method with constructor\r\n4. Check the layout (for Applet, the default layout is FlowLayout and for Frame, it is BorderLayout)\r\n5. Add setXXX() methods like setSize() etc.\r\n6. Add the main() method\r\n7. HTML is not required (delete it)","title":"Change java applet to java application","body":"<p><a href=\"https://way2java.com/applets/applet-to-application/\" rel=\"nofollow noreferrer\">https://way2java.com/applets/applet-to-application/</a></p>\n\n<p>Following are the changes to be made from Applet to Application</p>\n\n<ol>\n<li>Delete the statement \"import java.applet\" package</li>\n<li>Replace extends Applet with Frame</li>\n<li>Replace the init() method with constructor</li>\n<li>Check the layout (for Applet, the default layout is FlowLayout and for Frame, it is BorderLayout)</li>\n<li>Add setXXX() methods like setSize() etc.</li>\n<li>Add the main() method</li>\n<li>HTML is not required (delete it)</li>\n</ol>\n"}],"owner":{"account_id":461281,"reputation":1,"user_id":862875,"display_name":"edison chen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3894,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1679799572,"creation_date":1312083179,"question_id":6887390,"body_markdown":"I have an applet that runs a GUI. I want to call this GUI from my other program. I know that I need to turn this applet into an application.  I have an init() and a actionPerformed(ActionEvent ae). How can I do it?\r\n\r\nMy code:\r\n\r\n        \r\n    import java.applet.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.util.*;\r\n    import java.io.*;\r\n    \r\n    public class survey extends Applet implements ActionListener\r\n    {\r\n    \tprivate TextField question;\r\n    \tprivate Button enter, start;\r\n    \tint count = 0;\r\n    \tint a = 0;\r\n    \tint b = 0;\r\n    \tint c = 0;\r\n    \tint d = 0;\r\n    \tString text, input;\r\n    \t\r\n    \tprivate Label intro1, intro2, intro3;\r\n    \tprivate Label qone1, qone2, qone3, qone4, qone5, qone6, qone7, qone8, qone9, qone10, qone11, qone12;\r\n    \tprivate Label qtwo1, qtwo2, qtwo3, qtwo4, qtwo5, qtwo6, qtwo7, qtwo8, qtwo9, qtwo10, qtwo11, qtwo12;\r\n    \tprivate Label qthree1, qthree2, qthree3, qthree4, qthree5, qthree6, qthree7, qthree8, qthree9, qthree10, qthree11, qthree12;\r\n    \tprivate Label qfour1, qfour2, qfour3, qfour4, qfour5, qfour6, qfour7, qfour8, qfour9, qfour10, qfour11, qfour12;\r\n    \tprivate Label qfive1, qfive2, qfive3, qfive4, qfive5, qfive6, qfive7, qfive8, qfive9, qfive10, qfive11, qfive12;\r\n    \tprivate Label qsix1, qsix2, qsix3, qsix4, qsix5, qsix6, qsix7, qsix8, qsix9, qsix10, qsix11, qsix12;\r\n    \tprivate Label qseven1, qseven2, qseven3, qseven4, qseven5, qseven6, qseven7, qseven8, qseven9, qseven10, qseven11, qseven12;\r\n    \tprivate Label qeight1, qeight2, qeight3, qeight4, qeight5, qeight6, qeight7, qeight8, qeight9, qeight10, qeight11, qeight12;\r\n    \tprivate Label qnine1, qnine2, qnine3, qnine4, qnine5, qnine6, qnine7, qnine8, qnine9, qnine10, qnine11, qnine12;\r\n    \tprivate Label qten1, qten2, qten3, qten4, qten5, qten6, qten7, qten8, qten9, qten10, qten11, qten12;\r\n    \tprivate Label qeleven1, qeleven2, qeleven3, qeleven4, qeleven5, qeleven6,\r\n    \tprivate Label finish1, finish2, finish3;\r\n    \r\n    \t\r\n    \tpublic void init()\r\n    \t{\r\n    \t\tsetLayout(null);\r\n    \t\tstart = new Button (&quot;Start&quot;);\r\n    \t\tquestion = new TextField(10);\r\n    \t\tenter = new Button (&quot;Enter&quot;);\r\n    \t\tif (count == 0)\r\n    \t\t{\r\n    \t\t\tsetBackground( Color.yellow);\r\n    \t\t\tintro1 = new Label(&quot;Target Advertising&quot;, Label.CENTER);\r\n    \t\t\tintro1.setFont(new Font(&quot;Times-Roman&quot;, Font.BOLD, 16));\r\n    \t\t\tintro2 = new Label(&quot;Welcome to this questionnaire. First, we would like to know more about your personal preferences.&quot;);\r\n    \t\t\tintro3 = new Label(&quot;For each question, Input a rating between 0-9 (zero = least interested, 9 = most interested) in the text box. Click enter for next question.&quot;);\r\n    \t\t\t\r\n    \t\t\tadd(intro1);\r\n    \t\t\tadd(intro2);\r\n    \t\t\tadd(intro3);\r\n    \t\t\tintro1.setBounds(0,0,800,20);\r\n    \t\t\tintro2.setBounds(15,20,800,20);\r\n    \t\t\tintro3.setBounds(15,40,800,20);\r\n    \t\t\tadd(start);\r\n    \t\t\tstart.setBounds(370,60,70,23);\r\n    \t\t\tstart.addActionListener(this);\r\n    \t\t}\r\n    \t\tif(count == 1)\r\n    \t\t{\r\n    \t\t\tsetBackground( Color.yellow );\r\n    \t\t\tqone1 = new Label(&quot;Question 1&quot;, Label.LEFT);\r\n    \t\t\tqone1.setFont(new Font(&quot;Times-Roman&quot;, Font.BOLD, 16));\r\n    \t\t\tqone2 = new Label(&quot;How much do you like action movies?&quot;);\r\n    \t\t\tqone3 = new Label(&quot;0&quot;);\r\n    \t\t\tqone4 = new Label(&quot;1&quot;);\r\n    \t\t\tqone5 = new Label(&quot;2&quot;);\r\n    \t\t\tqone6 = new Label(&quot;3&quot;);\r\n    \t\t\tqone7 = new Label(&quot;4&quot;);\r\n    \t\t\tqone8 = new Label(&quot;5&quot;);\r\n    \t\t\tqone9 = new Label(&quot;6&quot;);\r\n    \t\t\tqone10 = new Label(&quot;7&quot;);\r\n    \t\t\tqone11 = new Label(&quot;8&quot;);\r\n    \t\t\tqone12 = new Label(&quot;9&quot;);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tadd(qone1);\r\n    \t\t\tadd(qone2);\r\n    \t\t\tadd(qone3);\r\n    \t\t\tadd(qone4);\r\n    \t\t\tadd(qone5);\r\n    \t\t\tadd(qone6);\r\n    \t\t\tadd(qone7);\r\n    \t\t\tadd(qone8);\r\n    \t\t\tadd(qone9);\r\n    \t\t\tadd(qone10);\r\n    \t\t\tadd(qone11);\r\n    \t\t\tadd(qone12);\r\n    \r\n    \t\t\t\r\n    \t\t\tqone1.setBounds(15,0,800,20);\r\n    \t\t\tqone2.setBounds(15,20,800,15);\r\n    \t\t\tqone3.setBounds(15,60,800,15);\r\n    \t\t\tqone4.setBounds(15,80,800,15);\r\n    \t\t\tqone5.setBounds(15,100,800,15);\r\n    \t\t\tqone6.setBounds(15,120,800,15);\r\n    \t\t\tqone7.setBounds(15,140,800,15);\r\n    \t\t\tqone8.setBounds(15,160,800,15);\r\n    \t\t\tqone9.setBounds(15,180,800,15);\r\n    \t\t\tqone10.setBounds(15,200,800,15);\r\n    \t\t\tqone11.setBounds(15,220,800,15);\r\n    \t\t\tqone12.setBounds(15,240,800,15);\r\n    \r\n    \t\t\t\r\n    \t\t\tadd(question);\r\n    \t\t\tadd(enter);\r\n    \t\t\tquestion.setBounds(15,260,70,15);\r\n    \t\t\tenter.setBounds(90,260,110,23);\r\n    \t\t\tquestion.addActionListener(this);\r\n    \t\t\tenter.addActionListener(this);\r\n    \t\t}\r\n    \t\tif (count == 2)\r\n    \t\t{\r\n    \t\t\t\r\n    \t\t\tqtwo1 = new Label(&quot;Question 2&quot;, Label.LEFT);\r\n    \t\t\tqtwo1.setFont(new Font(&quot;Times-Roman&quot;, Font.BOLD, 16));\r\n    \t\t\tqtwo2 = new Label(&quot;How much do you like Science Fiction?&quot;);\r\n    \t\t\tqtwo3 = new Label(&quot;0&quot;);\r\n    \t\t\tqtwo4 = new Label(&quot;1&quot;);\r\n    \t\t\tqtwo5 = new Label(&quot;2&quot;);\r\n    \t\t\tqtwo6 = new Label(&quot;3&quot;);\r\n    \t\t\tqtwo7 = new Label(&quot;4&quot;);\r\n    \t\t\tqtwo8 = new Label(&quot;5&quot;);\r\n    \t\t\tqtwo9 = new Label(&quot;6&quot;);\r\n    \t\t\tqtwo10 = new Label(&quot;7&quot;);\r\n    \t\t\tqtwo11 = new Label(&quot;8&quot;);\r\n    \t\t\tqtwo12 = new Label(&quot;9&quot;);\r\n    \r\n    \t\t\t\r\n    \t\t\tadd(qtwo1);\r\n    \t\t\tadd(qtwo2);\r\n    \t\t\tadd(qtwo3);\r\n    \t\t\tadd(qtwo4);\r\n    \t\t\tadd(qtwo5);\r\n    \t\t\tadd(qtwo6);\r\n    \t\t\tadd(qtwo7);\r\n    \t\t\tadd(qtwo8);\r\n    \t\t\tadd(qtwo9);\r\n    \t\t\tadd(qtwo10);\r\n    \t\t\tadd(qtwo11);\r\n    \t\t\tadd(qtwo12);\r\n    \r\n    \t\t\t\r\n    \t\t\tqtwo1.setBounds(15,0,800,20);\r\n    \t\t\tqtwo2.setBounds(15,20,800,15);\r\n    \t\t\tqtwo3.setBounds(15,60,800,15);\r\n    \t\t\tqtwo4.setBounds(15,80,800,15);\r\n    \t\t\tqtwo5.setBounds(15,100,800,15);\r\n    \t\t\tqtwo6.setBounds(15,120,800,15);\r\n    \t\t\tqtwo7.setBounds(15,140,800,15);\r\n    \t\t\tqtwo8.setBounds(15,160,800,15);\r\n    \t\t\tqtwo9.setBounds(15,180,800,15);\r\n    \t\t\tqtwo10.setBounds(15,200,800,15);\r\n    \t\t\tqtwo11.setBounds(15,220,800,15);\r\n    \t\t\tqtwo12.setBounds(15,240,800,15);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tadd(question);\r\n    \t\t\tadd(enter);\r\n    \t\t\tquestion.setBounds(15,260,70,15);\r\n    \t\t\tenter.setBounds(90,260,110,23);\r\n    \t\t\tquestion.addActionListener(this);\r\n    \t\t\tenter.addActionListener(this);\r\n    \t\t}\r\n    \t\tif(count == 3)\r\n    \t\t{\r\n    \t\t\t\r\n    \t\t\tqthree1 = new Label(&quot;Question 3&quot;, Label.LEFT);\r\n    \t\t\tqthree1.setFont(new Font(&quot;Times-Roman&quot;, Font.BOLD, 16));\r\n    \t\t\tqthree2 = new Label(&quot;How much do you like comedy?&quot;);\r\n    \t\t\tqthree3 = new Label(&quot;0&quot;);\r\n    \t\t\tqthree4 = new Label(&quot;1&quot;);\r\n    \t\t\tqthree5 = new Label(&quot;2&quot;);\r\n    \t\t\tqthree6 = new Label(&quot;3&quot;);\r\n    \t\t\tqthree7 = new Label(&quot;4&quot;);\r\n    \t\t\tqthree8 = new Label(&quot;5&quot;);\r\n    \t\t\tqthree9 = new Label(&quot;6&quot;);\r\n    \t\t\tqthree10 = new Label(&quot;7&quot;);\r\n    \t\t\tqthree11 = new Label(&quot;8&quot;);\r\n    \t\t\tqthree12 = new Label(&quot;9&quot;);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tadd(qthree1);\r\n    \t\t\tadd(qthree2);\r\n    \t\t\tadd(qthree3);\r\n    \t\t\tadd(qthree4);\r\n    \t\t\tadd(qthree5);\r\n    \t\t\tadd(qthree6);\r\n    \t\t\tadd(qthree7);\r\n    \t\t\tadd(qthree8);\r\n    \t\t\tadd(qthree9);\r\n    \t\t\tadd(qthree10);\r\n    \t\t\tadd(qthree11);\r\n    \t\t\tadd(qthree12);\r\n    \r\n    \t\t\t\r\n    \t\t\tqthree1.setBounds(15,0,800,20);\r\n    \t\t\tqthree2.setBounds(15,20,800,15);\r\n    \t\t\tqthree3.setBounds(15,60,800,15);\r\n    \t\t\tqthree4.setBounds(15,80,800,15);\r\n    \t\t\tqthree5.setBounds(15,100,800,15);\r\n    \t\t\tqthree6.setBounds(15,120,800,15);\r\n    \t\t\tqthree7.setBounds(15,140,800,15);\r\n    \t\t\tqthree8.setBounds(15,160,800,15);\r\n    \t\t\tqthree9.setBounds(15,180,800,15);\r\n    \t\t\tqthree10.setBounds(15,200,800,15);\r\n    \t\t\tqthree11.setBounds(15,220,800,15);\r\n    \t\t\tqthree12.setBounds(15,240,800,15);\r\n    \r\n    \t\t\t\r\n    \t\t\tadd(question);\r\n    \t\t\tadd(enter);\r\n    \t\t\tquestion.setBounds(15,260,70,15);\r\n    \t\t\tenter.setBounds(90,260,110,23);\r\n    \t\t\tquestion.addActionListener(this);\r\n    \t\t\tenter.addActionListener(this);\r\n    \t\t}\r\n    \t\tif(count == 4)\r\n    \t\t{\r\n    \r\n    \t\t\t\r\n    \t\t\tqfour1 = new Label(&quot;Question 4&quot;, Label.LEFT);\r\n    \t\t\tqfour1.setFont(new Font(&quot;Times-Roman&quot;, Font.BOLD, 16));\r\n    \t\t\tqfour2 = new Label(&quot;How much do you like luxary cars?&quot;);\r\n    \t\t\tqfour3 = new Label(&quot;0&quot;);\r\n    \t\t\tqfour4 = new Label(&quot;1&quot;);\r\n    \t\t\tqfour5 = new Label(&quot;2&quot;);\r\n    \t\t\tqfour6 = new Label(&quot;3&quot;);\r\n    \t\t\tqfour7 = new Label(&quot;4&quot;);\r\n    \t\t\tqfour8 = new Label(&quot;5&quot;);\r\n    \t\t\tqfour9 = new Label(&quot;6&quot;);\r\n    \t\t\tqfour10 = new Label(&quot;7&quot;);\r\n    \t\t\tqfour11 = new Label(&quot;8&quot;);\r\n    \t\t\tqfour12 = new Label(&quot;9&quot;);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tadd(qfour1);\r\n    \t\t\tadd(qfour2);\r\n    \t\t\tadd(qfour3);\r\n    \t\t\tadd(qfour4);\r\n    \t\t\tadd(qfour5);\r\n    \t\t\tadd(qfour6);\r\n    \t\t\tadd(qfour7);\r\n    \t\t\tadd(qfour8);\r\n    \t\t\tadd(qfour9);\r\n    \t\t\tadd(qfour10);\r\n    \t\t\tadd(qfour11);\r\n    \t\t\tadd(qfour12);\r\n    \r\n    \t\t\t\r\n    \t\t\tqfour1.setBounds(15,0,800,20);\r\n    \t\t\tqfour2.setBounds(15,20,800,15);\r\n    \t\t\tqfour3.setBounds(15,60,800,15);\r\n    \t\t\tqfour4.setBounds(15,80,800,15);\r\n    \t\t\tqfour5.setBounds(15,100,800,15);\r\n    \t\t\tqfour6.setBounds(15,120,800,15);\r\n    \t\t\tqfour7.setBounds(15,140,800,15);\r\n    \t\t\tqfour8.setBounds(15,160,800,15);\r\n    \t\t\tqfour9.setBounds(15,180,800,15);\r\n    \t\t\tqfour10.setBounds(15,200,800,15);\r\n    \t\t\tqfour11.setBounds(15,220,800,15);\r\n    \t\t\tqfour12.setBounds(15,240,800,15);\r\n    \r\n    \t\t\t\r\n    \t\t\tadd(question);\r\n    \t\t\tadd(enter);\r\n    \t\t\tquestion.setBounds(15,260,70,15);\r\n    \t\t\tenter.setBounds(90,260,110,23);\r\n    \r\n    \t\t\tquestion.addActionListener(this);\r\n    \t\t\tenter.addActionListener(this);\r\n    \t\t}\r\n    \t\tif(count == 5)\r\n    \t\t{\r\n    \r\n    \t\t\t\r\n    \t\t\tqfive1 = new Label(&quot;Question 5&quot;, Label.LEFT);\r\n    \t\t\tqfive1.setFont(new Font(&quot;Times-Roman&quot;, Font.BOLD, 16));\r\n    \t\t\tqfive2 = new Label(&quot;How much do you like trucks?&quot;);\r\n    \t\t\tqfive3 = new Label(&quot;0&quot;);\r\n    \t\t\tqfive4 = new Label(&quot;1&quot;);\r\n    \t\t\tqfive5 = new Label(&quot;2&quot;);\r\n    \t\t\tqfive6 = new Label(&quot;3&quot;);\r\n    \t\t\tqfive7 = new Label(&quot;4&quot;);\r\n    \t\t\tqfive8 = new Label(&quot;5&quot;);\r\n    \t\t\tqfive9 = new Label(&quot;6&quot;);\r\n    \t\t\tqfive10 = new Label(&quot;7&quot;);\r\n    \t\t\tqfive11 = new Label(&quot;8&quot;);\r\n    \t\t\tqfive12 = new Label(&quot;9&quot;);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tadd(qfive1);\r\n    \t\t\tadd(qfive2);\r\n    \t\t\tadd(qfive3);\r\n    \t\t\tadd(qfive4);\r\n    \t\t\tadd(qfive5);\r\n    \t\t\tadd(qfive6);\r\n    \t\t\tadd(qfive7);\r\n    \t\t\tadd(qfive8);\r\n    \t\t\tadd(qfive9);\r\n    \t\t\tadd(qfive10);\r\n    \t\t\tadd(qfive11);\r\n    \t\t\tadd(qfive12);\r\n    \r\n    \t\t\t\r\n    \t\t\tqfive1.setBounds(15,0,800,20);\r\n    \t\t\tqfive2.setBounds(15,20,800,15);\r\n    \t\t\tqfive3.setBounds(15,60,800,15);\r\n    \t\t\tqfive4.setBounds(15,80,800,15);\r\n    \t\t\tqfive5.setBounds(15,100,800,15);\r\n    \t\t\tqfive6.setBounds(15,120,800,15);\r\n    \t\t\tqfive7.setBounds(15,140,800,15);\r\n    \t\t\tqfive8.setBounds(15,160,800,15);\r\n    \t\t\tqfive9.setBounds(15,180,800,15);\r\n    \t\t\tqfive10.setBounds(15,200,800,15);\r\n    \t\t\tqfive11.setBounds(15,220,800,15);\r\n    \t\t\tqfive12.setBounds(15,240,800,15);\r\n    \r\n    \t\t\t\r\n    \t\t\tadd(question);\r\n    \t\t\tadd(enter);\r\n    \t\t\tquestion.setBounds(15,260,70,15);\r\n    \t\t\tenter.setBounds(90,260,110,23);\r\n    \r\n    \r\n    \t\t\tquestion.addActionListener(this);\r\n    \t\t\tenter.addActionListener(this);\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n\r\n    \t\t\r\n    \t\tif(count == 7)\r\n    \t\t{\r\n    \r\n    \t\t\tfinish1 = new Label(&quot;Thank You.&quot; , Label.CENTER);\r\n    \t\t\tfinish1.setFont(new Font(&quot;Times-Roman&quot;, Font.BOLD, 50));\r\n    \t\t\tfinish2 = new Label(&quot;Questionnaire Completed.&quot;, Label.CENTER);\r\n    \t\t\tfinish2.setFont(new Font(&quot;Times-Roman&quot;, Font.BOLD, 50));\r\n    \t\t\t\r\n    \t\t\tadd(finish1);\r\n    \t\t\tadd(finish2);\r\n    \r\n    \t\t\tfinish1.setBounds(0,200,800,60);\r\n    \t\t\tfinish2.setBounds(0,300,800,60);\r\n    \t\t}\r\n    \t}\r\n    \tpublic void actionPerformed(ActionEvent ae)\r\n    \t{\r\n    \t\tString button = ae.getActionCommand();\r\n    \t\ttext = question.getText();\r\n    \t\tb = 0;\r\n    \t\tc = 0;\r\n    \r\n \r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\tif (count == 6)\r\n    \t\t{\r\n                input = text.toUpperCase();\r\n                remove(enter);\r\n    \t\t\tremove(question);\r\n    \t\t\tquestion.setText(&quot;&quot;);\r\n    \t\t\tremove(qsix1);\r\n    \t\t\tremove(qsix2);\r\n    \t\t\tremove(qsix3);\r\n    \t\t\tremove(qsix4);\r\n    \t\t\tremove(qsix5);\r\n    \t\t\tremove(qsix6);\r\n    \t\t\tremove(qsix7);\r\n    \t\t\tremove(qsix8);\r\n    \t\t\tremove(qsix9);\r\n    \t\t\tremove(qsix10);\r\n    \t\t\tremove(qsix11);\r\n    \t\t\tremove(qsix12);\r\n    \r\n    \t\t\ttry{\r\n    \t          \t  FileWriter fstream = new FileWriter(&quot;lets3.txt&quot;,true);\r\n    \t          \t  BufferedWriter out = new BufferedWriter(fstream);\r\n    \t          \t  out.write(new String(input));\r\n    \t          \t  out.write(&quot;\\n&quot;);\r\n    \t          \t  out.close();\r\n    \t          \t  }\r\n    \t          \r\n    \t          catch (Exception e){\r\n    \t          \t\t  System.err.println(&quot;Error: &quot; + e.getMessage());\r\n    \t          \t  }\r\n    \t\t\tif(input.equals(&quot;OL&quot;))\r\n    \t\t\t{\r\n    \t\t\t\tb = 1;\r\n    \t\t\t\tcount = 7;\r\n    \t\t\t\tinit();\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\tb = 2;\r\n    \t\t\t\tcount = 7;\r\n    \t\t\t\tinit();\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t\tif (count == 5)\r\n    \t\t{\r\n                \r\n                input = text.toUpperCase();\r\n                remove(enter);\r\n    \t\t\tremove(question);\r\n    \t\t\tquestion.setText(&quot;&quot;);\r\n    \t\t\tremove(qfive1);\r\n    \t\t\tremove(qfive2);\r\n    \t\t\tremove(qfive3);\r\n    \t\t\tremove(qfive4);\r\n    \t\t\tremove(qfive5);\r\n    \t\t\tremove(qfive6);\r\n    \t\t\tremove(qfive7);\r\n    \t\t\tremove(qfive8);\r\n    \t\t\tremove(qfive9);\r\n    \t\t\tremove(qfive10);\r\n    \t\t\tremove(qfive11);\r\n    \t\t\tremove(qfive12);\r\n    \r\n    \t\t\ttry{\r\n    \t          \t  FileWriter fstream = new FileWriter(&quot;lets3.txt&quot;,true);\r\n    \t          \t  BufferedWriter out = new BufferedWriter(fstream);\r\n    \t          \t  out.write(new String(input));\r\n    \t          \t  out.write(&quot;\\n&quot;);\r\n    \t          \t  out.close();\r\n    \t          \t  }\r\n    \t          \r\n    \t          catch (Exception e){\r\n    \t          \t\t  System.err.println(&quot;Error: &quot; + e.getMessage());\r\n    \t          \t  }\r\n    \t\t\tif(input.equals(&quot;BR&quot;))\r\n    \t\t\t{\r\n    \t\t\t\tb = 1;\r\n    \t\t\t\tcount = 6;\r\n    \t\t\t\tinit();\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\tb = 2;\r\n    \t\t\t\tcount = 6;\r\n    \t\t\t\tinit();\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t\tif (count == 4)\r\n    \t\t{\r\n                input = text.toLowerCase();\r\n                remove(enter);\r\n    \t\t\tremove(question);\r\n    \t\t\tquestion.setText(&quot;&quot;);\r\n    \t\t\tremove(qfour1);\r\n    \t\t\tremove(qfour2);\r\n    \t\t\tremove(qfour3);\r\n    \t\t\tremove(qfour4);\r\n    \t\t\tremove(qfour5);\r\n    \t\t\tremove(qfour6);\r\n    \t\t\tremove(qfour7);\r\n    \t\t\tremove(qfour8);\r\n    \t\t\tremove(qfour9);\r\n    \t\t\tremove(qfour10);\r\n    \t\t\tremove(qfour11);\r\n    \t\t\tremove(qfour12);\r\n    \r\n    \t\t\ttry{\r\n    \t          \t  FileWriter fstream = new FileWriter(&quot;lets3.txt&quot;,true);\r\n    \t          \t  BufferedWriter out = new BufferedWriter(fstream);\r\n    \t          \t  out.write(new String(input));\r\n    \t          \t  out.write(&quot;\\n&quot;);\r\n    \t          \t  out.close();\r\n    \t          \t  }\r\n    \t          \r\n    \t          catch (Exception e){\r\n    \t          \t\t  System.err.println(&quot;Error: &quot; + e.getMessage());\r\n    \t          \t  }\r\n    \t\t\tif(input.equals(&quot;no&quot;))\r\n    \t\t\t{\r\n    \t\t\t\tb = 1;\r\n    \t\t\t\tcount = 5;\r\n    \t\t\t\tinit();\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\tb = 2;\r\n    \t\t\t\tcount = 5;\r\n    \t\t\t\tinit();\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t\tif (count == 3)\r\n    \t\t{\r\n                input = text.toLowerCase();\r\n                remove(enter);\r\n    \t\t\tremove(question);\r\n    \t\t\tquestion.setText(&quot;&quot;);\r\n    \t\t\tremove(qthree1);\r\n    \t\t\tremove(qthree2);\r\n    \t\t\tremove(qthree3);\r\n    \t\t\tremove(qthree4);\r\n    \t\t\tremove(qthree5);\r\n    \t\t\tremove(qthree6);\r\n    \t\t\tremove(qthree7);\r\n    \t\t\tremove(qthree8);\r\n    \t\t\tremove(qthree9);\r\n    \t\t\tremove(qthree10);\r\n    \t\t\tremove(qthree11);\r\n    \t\t\tremove(qthree12);\r\n    \r\n    \t\t\ttry{\r\n    \t          \t  FileWriter fstream = new FileWriter(&quot;lets3.txt&quot;,true);\r\n    \t          \t  BufferedWriter out = new BufferedWriter(fstream);\r\n    \t          \t  out.write(new String(input));\r\n    \t          \t  out.write(&quot;\\n&quot;);\r\n    \t          \t  out.close();\r\n    \t          \t  }\r\n    \t          \r\n    \t          catch (Exception e){\r\n    \t          \t\t  System.err.println(&quot;Error: &quot; + e.getMessage());\r\n    \t          \t  }\r\n    \t\t\tif(input.equals(&quot;black&quot;))\r\n    \t\t\t{\r\n    \t\t\t\tb = 1;\r\n    \t\t\t\tcount = 4;\r\n    \t\t\t\tinit();\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\tb = 2;\r\n    \t\t\t\tcount = 4;\r\n    \t\t\t\tinit();\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t\tif (count == 2)\r\n    \t\t{\r\n                input = text.toLowerCase();\r\n                remove(enter);\r\n    \t\t\tremove(question);\r\n    \t\t\tquestion.setText(&quot;&quot;);\r\n    \t\t\tremove(qtwo1);\r\n    \t\t\tremove(qtwo2);\r\n    \t\t\tremove(qtwo3);\r\n    \t\t\tremove(qtwo4);\r\n    \t\t\tremove(qtwo5);\r\n    \t\t\tremove(qtwo6);\r\n    \t\t\tremove(qtwo7);\r\n    \t\t\tremove(qtwo8);\r\n    \t\t\tremove(qtwo9);\r\n    \t\t\tremove(qtwo10);\r\n    \t\t\tremove(qtwo11);\r\n    \t\t\tremove(qtwo12);\r\n    \r\n    \t\t\ttry{\r\n    \t          \t  FileWriter fstream = new FileWriter(&quot;lets3.txt&quot;,true);\r\n    \t          \t  BufferedWriter out = new BufferedWriter(fstream);\r\n    \t          \t  out.write(new String(input));\r\n    \t          \t  out.write(&quot;\\n&quot;);\r\n    \t          \t  out.close();\r\n    \t          \t  }\r\n    \t          \r\n    \t          catch (Exception e){\r\n    \t          \t\t  System.err.println(&quot;Error: &quot; + e.getMessage());\r\n    \t          \t  }\r\n    \t\t\tif(input.equals(&quot;yes&quot;))\r\n    \t\t\t{\r\n    \t\t\t\tb = 1;\r\n    \t\t\t\tcount = 3;\r\n    \t\t\t\tinit();\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\tb = 2;\r\n    \t\t\t\tcount = 3;\r\n    \t\t\t\tinit();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif (count == 1)\r\n    \t\t{\r\n                input = text.toUpperCase();\r\n                remove(enter);\r\n    \t\t\tremove(question);\r\n    \t\t\tquestion.setText(&quot;&quot;);\r\n    \t\t\tremove(qone1);\r\n    \t\t\tremove(qone2);\r\n    \t\t\tremove(qone3);\r\n    \t\t\tremove(qone4);\r\n    \t\t\tremove(qone5);\r\n    \t\t\tremove(qone6);\r\n    \t\t\tremove(qone7);\r\n    \t\t\tremove(qone8);\r\n    \t\t\tremove(qone9);\r\n    \t\t\tremove(qone10);\r\n    \t\t\tremove(qone11);\r\n    \t\t\tremove(qone12);\r\n    \r\n    \r\n                \r\n    \t\t\ttry{\r\n              \t  FileWriter fstream = new FileWriter(&quot;lets3.txt&quot;,true);\r\n              \t  BufferedWriter out = new BufferedWriter(fstream);\r\n              \t  out.write(new String(input));\r\n              \t  out.write(&quot;\\n&quot;);\r\n              \t  out.close();\r\n              \t  }\r\n              \r\n              catch (Exception e){\r\n              \t\t  System.err.println(&quot;Error: &quot; + e.getMessage());\r\n              \t  }\r\n    \t\t\t\r\n    \t\t\tif(input.equals(&quot;i&quot;))\r\n    \t\t\t{\r\n    \t\t\t\tb = 1;\r\n    \t\t\t\tcount = 2;\r\n    \t\t\t\tinit();\r\n    \t\t\t}\r\n    \t\t\telse \r\n    \t\t\t{\r\n    \t\t\t\tb = 1;\r\n    \t\t\t\tcount = 2;\r\n    \t\t\t\tinit();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif (count == 0)\r\n    \t\t{\r\n    \t\t\tremove(intro1);\r\n    \t\t\tremove(intro2);\r\n    \t\t\tremove(intro3);\r\n    \t\t\tremove(start);\r\n    \t\t\tcount = 1;\r\n    \t\t\tinit();\r\n    \t\t}\r\n    \t\tthis.validate();\r\n    \t}\r\n    }             \r\n            \r\n             \r\n \r\n\r\n","title":"Change java applet to java application","body":"<p>I have an applet that runs a GUI. I want to call this GUI from my other program. I know that I need to turn this applet into an application.  I have an init() and a actionPerformed(ActionEvent ae). How can I do it?</p>\n\n<p>My code:</p>\n\n<pre><code>import java.applet.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.util.*;\nimport java.io.*;\n\npublic class survey extends Applet implements ActionListener\n{\n    private TextField question;\n    private Button enter, start;\n    int count = 0;\n    int a = 0;\n    int b = 0;\n    int c = 0;\n    int d = 0;\n    String text, input;\n\n    private Label intro1, intro2, intro3;\n    private Label qone1, qone2, qone3, qone4, qone5, qone6, qone7, qone8, qone9, qone10, qone11, qone12;\n    private Label qtwo1, qtwo2, qtwo3, qtwo4, qtwo5, qtwo6, qtwo7, qtwo8, qtwo9, qtwo10, qtwo11, qtwo12;\n    private Label qthree1, qthree2, qthree3, qthree4, qthree5, qthree6, qthree7, qthree8, qthree9, qthree10, qthree11, qthree12;\n    private Label qfour1, qfour2, qfour3, qfour4, qfour5, qfour6, qfour7, qfour8, qfour9, qfour10, qfour11, qfour12;\n    private Label qfive1, qfive2, qfive3, qfive4, qfive5, qfive6, qfive7, qfive8, qfive9, qfive10, qfive11, qfive12;\n    private Label qsix1, qsix2, qsix3, qsix4, qsix5, qsix6, qsix7, qsix8, qsix9, qsix10, qsix11, qsix12;\n    private Label qseven1, qseven2, qseven3, qseven4, qseven5, qseven6, qseven7, qseven8, qseven9, qseven10, qseven11, qseven12;\n    private Label qeight1, qeight2, qeight3, qeight4, qeight5, qeight6, qeight7, qeight8, qeight9, qeight10, qeight11, qeight12;\n    private Label qnine1, qnine2, qnine3, qnine4, qnine5, qnine6, qnine7, qnine8, qnine9, qnine10, qnine11, qnine12;\n    private Label qten1, qten2, qten3, qten4, qten5, qten6, qten7, qten8, qten9, qten10, qten11, qten12;\n    private Label qeleven1, qeleven2, qeleven3, qeleven4, qeleven5, qeleven6,\n    private Label finish1, finish2, finish3;\n\n\n    public void init()\n    {\n        setLayout(null);\n        start = new Button (\"Start\");\n        question = new TextField(10);\n        enter = new Button (\"Enter\");\n        if (count == 0)\n        {\n            setBackground( Color.yellow);\n            intro1 = new Label(\"Target Advertising\", Label.CENTER);\n            intro1.setFont(new Font(\"Times-Roman\", Font.BOLD, 16));\n            intro2 = new Label(\"Welcome to this questionnaire. First, we would like to know more about your personal preferences.\");\n            intro3 = new Label(\"For each question, Input a rating between 0-9 (zero = least interested, 9 = most interested) in the text box. Click enter for next question.\");\n\n            add(intro1);\n            add(intro2);\n            add(intro3);\n            intro1.setBounds(0,0,800,20);\n            intro2.setBounds(15,20,800,20);\n            intro3.setBounds(15,40,800,20);\n            add(start);\n            start.setBounds(370,60,70,23);\n            start.addActionListener(this);\n        }\n        if(count == 1)\n        {\n            setBackground( Color.yellow );\n            qone1 = new Label(\"Question 1\", Label.LEFT);\n            qone1.setFont(new Font(\"Times-Roman\", Font.BOLD, 16));\n            qone2 = new Label(\"How much do you like action movies?\");\n            qone3 = new Label(\"0\");\n            qone4 = new Label(\"1\");\n            qone5 = new Label(\"2\");\n            qone6 = new Label(\"3\");\n            qone7 = new Label(\"4\");\n            qone8 = new Label(\"5\");\n            qone9 = new Label(\"6\");\n            qone10 = new Label(\"7\");\n            qone11 = new Label(\"8\");\n            qone12 = new Label(\"9\");\n\n\n            add(qone1);\n            add(qone2);\n            add(qone3);\n            add(qone4);\n            add(qone5);\n            add(qone6);\n            add(qone7);\n            add(qone8);\n            add(qone9);\n            add(qone10);\n            add(qone11);\n            add(qone12);\n\n\n            qone1.setBounds(15,0,800,20);\n            qone2.setBounds(15,20,800,15);\n            qone3.setBounds(15,60,800,15);\n            qone4.setBounds(15,80,800,15);\n            qone5.setBounds(15,100,800,15);\n            qone6.setBounds(15,120,800,15);\n            qone7.setBounds(15,140,800,15);\n            qone8.setBounds(15,160,800,15);\n            qone9.setBounds(15,180,800,15);\n            qone10.setBounds(15,200,800,15);\n            qone11.setBounds(15,220,800,15);\n            qone12.setBounds(15,240,800,15);\n\n\n            add(question);\n            add(enter);\n            question.setBounds(15,260,70,15);\n            enter.setBounds(90,260,110,23);\n            question.addActionListener(this);\n            enter.addActionListener(this);\n        }\n        if (count == 2)\n        {\n\n            qtwo1 = new Label(\"Question 2\", Label.LEFT);\n            qtwo1.setFont(new Font(\"Times-Roman\", Font.BOLD, 16));\n            qtwo2 = new Label(\"How much do you like Science Fiction?\");\n            qtwo3 = new Label(\"0\");\n            qtwo4 = new Label(\"1\");\n            qtwo5 = new Label(\"2\");\n            qtwo6 = new Label(\"3\");\n            qtwo7 = new Label(\"4\");\n            qtwo8 = new Label(\"5\");\n            qtwo9 = new Label(\"6\");\n            qtwo10 = new Label(\"7\");\n            qtwo11 = new Label(\"8\");\n            qtwo12 = new Label(\"9\");\n\n\n            add(qtwo1);\n            add(qtwo2);\n            add(qtwo3);\n            add(qtwo4);\n            add(qtwo5);\n            add(qtwo6);\n            add(qtwo7);\n            add(qtwo8);\n            add(qtwo9);\n            add(qtwo10);\n            add(qtwo11);\n            add(qtwo12);\n\n\n            qtwo1.setBounds(15,0,800,20);\n            qtwo2.setBounds(15,20,800,15);\n            qtwo3.setBounds(15,60,800,15);\n            qtwo4.setBounds(15,80,800,15);\n            qtwo5.setBounds(15,100,800,15);\n            qtwo6.setBounds(15,120,800,15);\n            qtwo7.setBounds(15,140,800,15);\n            qtwo8.setBounds(15,160,800,15);\n            qtwo9.setBounds(15,180,800,15);\n            qtwo10.setBounds(15,200,800,15);\n            qtwo11.setBounds(15,220,800,15);\n            qtwo12.setBounds(15,240,800,15);\n\n\n            add(question);\n            add(enter);\n            question.setBounds(15,260,70,15);\n            enter.setBounds(90,260,110,23);\n            question.addActionListener(this);\n            enter.addActionListener(this);\n        }\n        if(count == 3)\n        {\n\n            qthree1 = new Label(\"Question 3\", Label.LEFT);\n            qthree1.setFont(new Font(\"Times-Roman\", Font.BOLD, 16));\n            qthree2 = new Label(\"How much do you like comedy?\");\n            qthree3 = new Label(\"0\");\n            qthree4 = new Label(\"1\");\n            qthree5 = new Label(\"2\");\n            qthree6 = new Label(\"3\");\n            qthree7 = new Label(\"4\");\n            qthree8 = new Label(\"5\");\n            qthree9 = new Label(\"6\");\n            qthree10 = new Label(\"7\");\n            qthree11 = new Label(\"8\");\n            qthree12 = new Label(\"9\");\n\n\n            add(qthree1);\n            add(qthree2);\n            add(qthree3);\n            add(qthree4);\n            add(qthree5);\n            add(qthree6);\n            add(qthree7);\n            add(qthree8);\n            add(qthree9);\n            add(qthree10);\n            add(qthree11);\n            add(qthree12);\n\n\n            qthree1.setBounds(15,0,800,20);\n            qthree2.setBounds(15,20,800,15);\n            qthree3.setBounds(15,60,800,15);\n            qthree4.setBounds(15,80,800,15);\n            qthree5.setBounds(15,100,800,15);\n            qthree6.setBounds(15,120,800,15);\n            qthree7.setBounds(15,140,800,15);\n            qthree8.setBounds(15,160,800,15);\n            qthree9.setBounds(15,180,800,15);\n            qthree10.setBounds(15,200,800,15);\n            qthree11.setBounds(15,220,800,15);\n            qthree12.setBounds(15,240,800,15);\n\n\n            add(question);\n            add(enter);\n            question.setBounds(15,260,70,15);\n            enter.setBounds(90,260,110,23);\n            question.addActionListener(this);\n            enter.addActionListener(this);\n        }\n        if(count == 4)\n        {\n\n\n            qfour1 = new Label(\"Question 4\", Label.LEFT);\n            qfour1.setFont(new Font(\"Times-Roman\", Font.BOLD, 16));\n            qfour2 = new Label(\"How much do you like luxary cars?\");\n            qfour3 = new Label(\"0\");\n            qfour4 = new Label(\"1\");\n            qfour5 = new Label(\"2\");\n            qfour6 = new Label(\"3\");\n            qfour7 = new Label(\"4\");\n            qfour8 = new Label(\"5\");\n            qfour9 = new Label(\"6\");\n            qfour10 = new Label(\"7\");\n            qfour11 = new Label(\"8\");\n            qfour12 = new Label(\"9\");\n\n\n            add(qfour1);\n            add(qfour2);\n            add(qfour3);\n            add(qfour4);\n            add(qfour5);\n            add(qfour6);\n            add(qfour7);\n            add(qfour8);\n            add(qfour9);\n            add(qfour10);\n            add(qfour11);\n            add(qfour12);\n\n\n            qfour1.setBounds(15,0,800,20);\n            qfour2.setBounds(15,20,800,15);\n            qfour3.setBounds(15,60,800,15);\n            qfour4.setBounds(15,80,800,15);\n            qfour5.setBounds(15,100,800,15);\n            qfour6.setBounds(15,120,800,15);\n            qfour7.setBounds(15,140,800,15);\n            qfour8.setBounds(15,160,800,15);\n            qfour9.setBounds(15,180,800,15);\n            qfour10.setBounds(15,200,800,15);\n            qfour11.setBounds(15,220,800,15);\n            qfour12.setBounds(15,240,800,15);\n\n\n            add(question);\n            add(enter);\n            question.setBounds(15,260,70,15);\n            enter.setBounds(90,260,110,23);\n\n            question.addActionListener(this);\n            enter.addActionListener(this);\n        }\n        if(count == 5)\n        {\n\n\n            qfive1 = new Label(\"Question 5\", Label.LEFT);\n            qfive1.setFont(new Font(\"Times-Roman\", Font.BOLD, 16));\n            qfive2 = new Label(\"How much do you like trucks?\");\n            qfive3 = new Label(\"0\");\n            qfive4 = new Label(\"1\");\n            qfive5 = new Label(\"2\");\n            qfive6 = new Label(\"3\");\n            qfive7 = new Label(\"4\");\n            qfive8 = new Label(\"5\");\n            qfive9 = new Label(\"6\");\n            qfive10 = new Label(\"7\");\n            qfive11 = new Label(\"8\");\n            qfive12 = new Label(\"9\");\n\n\n            add(qfive1);\n            add(qfive2);\n            add(qfive3);\n            add(qfive4);\n            add(qfive5);\n            add(qfive6);\n            add(qfive7);\n            add(qfive8);\n            add(qfive9);\n            add(qfive10);\n            add(qfive11);\n            add(qfive12);\n\n\n            qfive1.setBounds(15,0,800,20);\n            qfive2.setBounds(15,20,800,15);\n            qfive3.setBounds(15,60,800,15);\n            qfive4.setBounds(15,80,800,15);\n            qfive5.setBounds(15,100,800,15);\n            qfive6.setBounds(15,120,800,15);\n            qfive7.setBounds(15,140,800,15);\n            qfive8.setBounds(15,160,800,15);\n            qfive9.setBounds(15,180,800,15);\n            qfive10.setBounds(15,200,800,15);\n            qfive11.setBounds(15,220,800,15);\n            qfive12.setBounds(15,240,800,15);\n\n\n            add(question);\n            add(enter);\n            question.setBounds(15,260,70,15);\n            enter.setBounds(90,260,110,23);\n\n\n            question.addActionListener(this);\n            enter.addActionListener(this);\n        }\n\n\n\n\n\n\n\n        if(count == 7)\n        {\n\n            finish1 = new Label(\"Thank You.\" , Label.CENTER);\n            finish1.setFont(new Font(\"Times-Roman\", Font.BOLD, 50));\n            finish2 = new Label(\"Questionnaire Completed.\", Label.CENTER);\n            finish2.setFont(new Font(\"Times-Roman\", Font.BOLD, 50));\n\n            add(finish1);\n            add(finish2);\n\n            finish1.setBounds(0,200,800,60);\n            finish2.setBounds(0,300,800,60);\n        }\n    }\n    public void actionPerformed(ActionEvent ae)\n    {\n        String button = ae.getActionCommand();\n        text = question.getText();\n        b = 0;\n        c = 0;\n\n\n\n\n\n\n        if (count == 6)\n        {\n            input = text.toUpperCase();\n            remove(enter);\n            remove(question);\n            question.setText(\"\");\n            remove(qsix1);\n            remove(qsix2);\n            remove(qsix3);\n            remove(qsix4);\n            remove(qsix5);\n            remove(qsix6);\n            remove(qsix7);\n            remove(qsix8);\n            remove(qsix9);\n            remove(qsix10);\n            remove(qsix11);\n            remove(qsix12);\n\n            try{\n                  FileWriter fstream = new FileWriter(\"lets3.txt\",true);\n                  BufferedWriter out = new BufferedWriter(fstream);\n                  out.write(new String(input));\n                  out.write(\"\\n\");\n                  out.close();\n                  }\n\n              catch (Exception e){\n                      System.err.println(\"Error: \" + e.getMessage());\n                  }\n            if(input.equals(\"OL\"))\n            {\n                b = 1;\n                count = 7;\n                init();\n            }\n            else\n            {\n                b = 2;\n                count = 7;\n                init();\n            }\n\n        }\n        if (count == 5)\n        {\n\n            input = text.toUpperCase();\n            remove(enter);\n            remove(question);\n            question.setText(\"\");\n            remove(qfive1);\n            remove(qfive2);\n            remove(qfive3);\n            remove(qfive4);\n            remove(qfive5);\n            remove(qfive6);\n            remove(qfive7);\n            remove(qfive8);\n            remove(qfive9);\n            remove(qfive10);\n            remove(qfive11);\n            remove(qfive12);\n\n            try{\n                  FileWriter fstream = new FileWriter(\"lets3.txt\",true);\n                  BufferedWriter out = new BufferedWriter(fstream);\n                  out.write(new String(input));\n                  out.write(\"\\n\");\n                  out.close();\n                  }\n\n              catch (Exception e){\n                      System.err.println(\"Error: \" + e.getMessage());\n                  }\n            if(input.equals(\"BR\"))\n            {\n                b = 1;\n                count = 6;\n                init();\n            }\n            else\n            {\n                b = 2;\n                count = 6;\n                init();\n            }\n\n        }\n        if (count == 4)\n        {\n            input = text.toLowerCase();\n            remove(enter);\n            remove(question);\n            question.setText(\"\");\n            remove(qfour1);\n            remove(qfour2);\n            remove(qfour3);\n            remove(qfour4);\n            remove(qfour5);\n            remove(qfour6);\n            remove(qfour7);\n            remove(qfour8);\n            remove(qfour9);\n            remove(qfour10);\n            remove(qfour11);\n            remove(qfour12);\n\n            try{\n                  FileWriter fstream = new FileWriter(\"lets3.txt\",true);\n                  BufferedWriter out = new BufferedWriter(fstream);\n                  out.write(new String(input));\n                  out.write(\"\\n\");\n                  out.close();\n                  }\n\n              catch (Exception e){\n                      System.err.println(\"Error: \" + e.getMessage());\n                  }\n            if(input.equals(\"no\"))\n            {\n                b = 1;\n                count = 5;\n                init();\n            }\n            else\n            {\n                b = 2;\n                count = 5;\n                init();\n            }\n\n        }\n        if (count == 3)\n        {\n            input = text.toLowerCase();\n            remove(enter);\n            remove(question);\n            question.setText(\"\");\n            remove(qthree1);\n            remove(qthree2);\n            remove(qthree3);\n            remove(qthree4);\n            remove(qthree5);\n            remove(qthree6);\n            remove(qthree7);\n            remove(qthree8);\n            remove(qthree9);\n            remove(qthree10);\n            remove(qthree11);\n            remove(qthree12);\n\n            try{\n                  FileWriter fstream = new FileWriter(\"lets3.txt\",true);\n                  BufferedWriter out = new BufferedWriter(fstream);\n                  out.write(new String(input));\n                  out.write(\"\\n\");\n                  out.close();\n                  }\n\n              catch (Exception e){\n                      System.err.println(\"Error: \" + e.getMessage());\n                  }\n            if(input.equals(\"black\"))\n            {\n                b = 1;\n                count = 4;\n                init();\n            }\n            else\n            {\n                b = 2;\n                count = 4;\n                init();\n            }\n\n        }\n        if (count == 2)\n        {\n            input = text.toLowerCase();\n            remove(enter);\n            remove(question);\n            question.setText(\"\");\n            remove(qtwo1);\n            remove(qtwo2);\n            remove(qtwo3);\n            remove(qtwo4);\n            remove(qtwo5);\n            remove(qtwo6);\n            remove(qtwo7);\n            remove(qtwo8);\n            remove(qtwo9);\n            remove(qtwo10);\n            remove(qtwo11);\n            remove(qtwo12);\n\n            try{\n                  FileWriter fstream = new FileWriter(\"lets3.txt\",true);\n                  BufferedWriter out = new BufferedWriter(fstream);\n                  out.write(new String(input));\n                  out.write(\"\\n\");\n                  out.close();\n                  }\n\n              catch (Exception e){\n                      System.err.println(\"Error: \" + e.getMessage());\n                  }\n            if(input.equals(\"yes\"))\n            {\n                b = 1;\n                count = 3;\n                init();\n            }\n            else\n            {\n                b = 2;\n                count = 3;\n                init();\n            }\n        }\n        if (count == 1)\n        {\n            input = text.toUpperCase();\n            remove(enter);\n            remove(question);\n            question.setText(\"\");\n            remove(qone1);\n            remove(qone2);\n            remove(qone3);\n            remove(qone4);\n            remove(qone5);\n            remove(qone6);\n            remove(qone7);\n            remove(qone8);\n            remove(qone9);\n            remove(qone10);\n            remove(qone11);\n            remove(qone12);\n\n\n\n            try{\n              FileWriter fstream = new FileWriter(\"lets3.txt\",true);\n              BufferedWriter out = new BufferedWriter(fstream);\n              out.write(new String(input));\n              out.write(\"\\n\");\n              out.close();\n              }\n\n          catch (Exception e){\n                  System.err.println(\"Error: \" + e.getMessage());\n              }\n\n            if(input.equals(\"i\"))\n            {\n                b = 1;\n                count = 2;\n                init();\n            }\n            else \n            {\n                b = 1;\n                count = 2;\n                init();\n            }\n        }\n        if (count == 0)\n        {\n            remove(intro1);\n            remove(intro2);\n            remove(intro3);\n            remove(start);\n            count = 1;\n            init();\n        }\n        this.validate();\n    }\n}             \n</code></pre>\n"},{"tags":["java","program-entry-point","runnable"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1679797527,"post_id":75845554,"comment_id":133784510,"body_markdown":"The string array contains the command line parameters. See https://docs.oracle.com/javase/tutorial/essential/environment/cmdLineArgs.html","body":"The string array contains the command line parameters. See <a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/cmdLineArgs.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/environment/&hellip;</a>"},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1679797571,"post_id":75845554,"comment_id":133784512,"body_markdown":"Does this answer your question? [Why is the Java main method static?](https://stackoverflow.com/questions/146576/why-is-the-java-main-method-static)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/146576/why-is-the-java-main-method-static\">Why is the Java main method static?</a>"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":6,"creation_date":1679797689,"post_id":75845554,"comment_id":133784520,"body_markdown":"[It is unclear what kind of an answer you want out of the &quot;why&quot; questions.](https://meta.stackoverflow.com/a/323382/5133585) Does &quot;because the language specification says so&quot; satisfy you? Please clarify.","body":"<a href=\"https://meta.stackoverflow.com/a/323382/5133585\">It is unclear what kind of an answer you want out of the &quot;why&quot; questions.</a> Does &quot;because the language specification says so&quot; satisfy you? Please clarify."},{"owner":{"account_id":2882210,"reputation":1777,"user_id":2472827,"display_name":"Neil"},"score":0,"creation_date":1679798263,"post_id":75845554,"comment_id":133784552,"body_markdown":"Are you not talking [Runnable](https://docs.oracle.com/javase/7/docs/api/java/lang/Runnable.html)? Because OS?","body":"Are you not talking <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Runnable.html\" rel=\"nofollow noreferrer\">Runnable</a>? Because OS?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1679808663,"post_id":75845554,"comment_id":133785211,"body_markdown":"You can write a Java class to be invoked by a runtime environment. For example you can write a [Jakarta Servlet](https://en.wikipedia.org/wiki/Jakarta_Servlet) to be invoked by a [Servlet container](https://en.wikipedia.org/wiki/Web_container) such as Tomcat, Jetty, Glassfish, etc.","body":"You can write a Java class to be invoked by a runtime environment. For example you can write a <a href=\"https://en.wikipedia.org/wiki/Jakarta_Servlet\" rel=\"nofollow noreferrer\">Jakarta Servlet</a> to be invoked by a <a href=\"https://en.wikipedia.org/wiki/Web_container\" rel=\"nofollow noreferrer\">Servlet container</a> such as Tomcat, Jetty, Glassfish, etc."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1679825459,"post_id":75845554,"comment_id":133786851,"body_markdown":"Does this answer your question? [Can we execute a java program without a main() method?](https://stackoverflow.com/questions/15173474/can-we-execute-a-java-program-without-a-main-method)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15173474/can-we-execute-a-java-program-without-a-main-method\">Can we execute a java program without a main() method?</a>"}],"answers":[{"tags":[],"owner":{"account_id":16260922,"reputation":89,"user_id":11742268,"display_name":"Ashutosh Mishra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679798500,"creation_date":1679798230,"answer_id":75845591,"question_id":75845554,"body_markdown":"It seems you have two questions:\r\n\r\n1. Is there any other way to create a class runnable?\r\n\r\nAs of now, there is no other way this is how java is made where the main method is the entry point of running the java program.\r\nThis you can understand as a constant identifier for the java- command to enter and run the java program.\r\n\r\n2. Why there is a string array in the main method?\r\n\r\nThere is a java command to run a java program. In this command, you can pass input for the main method which will then be passed as arguments in String array.\r\n\r\nExample: `java&#160;MyFirstJava&#160;a b abc 1`\r\n\r\nHere MyFirstJava is the class name\r\nThis is a feature to get user input with command line.\r\n\r\nHope this helps.","title":"Is &quot;public static void main(String[] name)&quot; the only way to make a runnable class?","body":"<p>It seems you have two questions:</p>\n<ol>\n<li>Is there any other way to create a class runnable?</li>\n</ol>\n<p>As of now, there is no other way this is how java is made where the main method is the entry point of running the java program.\nThis you can understand as a constant identifier for the java- command to enter and run the java program.</p>\n<ol start=\"2\">\n<li>Why there is a string array in the main method?</li>\n</ol>\n<p>There is a java command to run a java program. In this command, you can pass input for the main method which will then be passed as arguments in String array.</p>\n<p>Example: <code>java MyFirstJava a b abc 1</code></p>\n<p>Here MyFirstJava is the class name\nThis is a feature to get user input with command line.</p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":28123832,"reputation":1,"user_id":21489605,"display_name":"Connor"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679798866,"creation_date":1679797198,"question_id":75845554,"body_markdown":"The only clear commands of the main class for me are `static`, because you have to execute the method wihtout needing an object, `void`, because it has no return value and the `String array name` which you can decide by your own. But what I don&#39;t understand is **why the access has to be `public`**, **why you can&#39;t decide the `&quot;main&quot; name`** and **why the parameter has to be a `String array`?**\r\n\r\nAre there **other ways to create a method which is runnable** like the casual `main method`?\r\n\r\nThis is not possible:\r\n\r\n```\r\n...\r\npublic static void mayne(Object zzz) {\r\n...\r\n}\r\n...\r\n```\r\n\r\nWe do **not pass any arguments** to the `main methods parameter(s)`, why is a `String array` necessary?","title":"Is &quot;public static void main(String[] name)&quot; the only way to make a runnable class?","body":"<p>The only clear commands of the main class for me are <code>static</code>, because you have to execute the method wihtout needing an object, <code>void</code>, because it has no return value and the <code>String array name</code> which you can decide by your own. But what I don't understand is <strong>why the access has to be <code>public</code></strong>, <strong>why you can't decide the <code>&quot;main&quot; name</code></strong> and <strong>why the parameter has to be a <code>String array</code>?</strong></p>\n<p>Are there <strong>other ways to create a method which is runnable</strong> like the casual <code>main method</code>?</p>\n<p>This is not possible:</p>\n<pre><code>...\npublic static void mayne(Object zzz) {\n...\n}\n...\n</code></pre>\n<p>We do <strong>not pass any arguments</strong> to the <code>main methods parameter(s)</code>, why is a <code>String array</code> necessary?</p>\n"},{"tags":["java","spring","model-view-controller","spring-security"],"comments":[{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1679757592,"post_id":75842562,"comment_id":133779735,"body_markdown":"You should be using the `&lt;form:errors/&gt;` tag. Also, check if are you passing a param object in your modal.","body":"You should be using the <code>&lt;form:errors&#47;&gt;</code> tag. Also, check if are you passing a param object in your modal."},{"owner":{"account_id":25295509,"reputation":13,"user_id":19120735,"display_name":"Mandeep "},"score":0,"creation_date":1679762330,"post_id":75842562,"comment_id":133780494,"body_markdown":"how do i check the param object?","body":"how do i check the param object?"},{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1679762603,"post_id":75842562,"comment_id":133780535,"body_markdown":"Please add the code of your controller class.","body":"Please add the code of your controller class."},{"owner":{"account_id":25295509,"reputation":13,"user_id":19120735,"display_name":"Mandeep "},"score":0,"creation_date":1679794935,"post_id":75842562,"comment_id":133784346,"body_markdown":"Done i have two controller classes and added them both","body":"Done i have two controller classes and added them both"}],"owner":{"account_id":25295509,"reputation":13,"user_id":19120735,"display_name":"Mandeep "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679797301,"creation_date":1679756672,"question_id":75842562,"body_markdown":"The below C:if statement is not working. it is not showing the error message as expected.\r\n\r\n```\r\n&lt;%@ taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot; %&gt;\r\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt; \r\n&lt;form:form action=&quot;/Map/authenticateUser&quot; method=&quot;POST&quot; class=&quot;form-horizontal&quot;&gt;\r\n&lt;c:if test=&quot;${param.error != null}&quot;&gt;\r\n\t\t\r\n\t&lt;i class=&quot;failed&quot;&gt;Sorry! You entered invalid username/password.&lt;/i&gt;\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t&lt;div class=&quot;alert alert-danger col-xs-offset-1 col-xs-10&quot;&gt;\r\n\t\tInvalid username and password.&lt;/div&gt;\r\n\t\t\t\t\t\t\t\t\t\r\n&lt;/c:if&gt;\r\n\r\n\r\n```\r\nI am doing this from a course and the code runs on the Instructor&#39;s side. i am repeating the same steps but not getting the output.\r\n\r\nmy pom.xml\r\n\r\n```\r\n  &lt;dependencies&gt;\r\n    &lt;!-- Spring MVC support --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${springframework.version}&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t\r\n\t&lt;!-- Spring Security --&gt;\r\n\t&lt;!-- spring-security-web and spring-security-config --&gt;\r\n\t\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n\t    &lt;version&gt;${springsecurity.version}&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n\t    &lt;version&gt;${springsecurity.version}&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t\t\r\n  \t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t    &lt;version&gt;3.1.0&lt;/version&gt;\r\n\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t\r\n\t&lt;dependency&gt;\r\n        &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\t\r\n\t&lt;!-- to compensate for java 9+ not including jaxb --&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t    &lt;version&gt;2.3.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t\t\t\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.13.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt; \r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n```\r\n\r\nI dont know if I have to add different dependencies or make changes in my jsp page.\r\nI am new to Spring security.\r\n\r\n\r\nMy LoginController class:\r\n```\r\npackage com.mandeep.website.controller;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\n\r\n@Controller\r\npublic class LoginController {\r\n\t\r\n\t@GetMapping(&quot;/showMyLoginPage&quot;)\r\n\tpublic String showMyLoginPage() {\r\n\t\t\r\n\t\treturn &quot;fancy-login&quot;;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nMy Main Controller class:\r\n```\r\npackage com.mandeep.website.controller;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\n\r\n@Controller\r\npublic class AppController {\r\n\t\r\n\t@GetMapping(&quot;/&quot;)\r\n\tpublic String showHome() {\r\n\t\t\r\n\t\treturn &quot;index&quot;;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nNote: After debugging I found that the request of the Error URl is going as GET method. If anyone knows how to set it to POST method because Spring security uses POST.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/08Oou.png","title":"How can I show Error Page when ?error is added to URL in Spring security?","body":"<p>The below C:if statement is not working. it is not showing the error message as expected.</p>\n<pre><code>&lt;%@ taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot; %&gt;\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt; \n&lt;form:form action=&quot;/Map/authenticateUser&quot; method=&quot;POST&quot; class=&quot;form-horizontal&quot;&gt;\n&lt;c:if test=&quot;${param.error != null}&quot;&gt;\n        \n    &lt;i class=&quot;failed&quot;&gt;Sorry! You entered invalid username/password.&lt;/i&gt;\n                                        \n    &lt;div class=&quot;alert alert-danger col-xs-offset-1 col-xs-10&quot;&gt;\n        Invalid username and password.&lt;/div&gt;\n                                    \n&lt;/c:if&gt;\n\n\n</code></pre>\n<p>I am doing this from a course and the code runs on the Instructor's side. i am repeating the same steps but not getting the output.</p>\n<p>my pom.xml</p>\n<pre><code>  &lt;dependencies&gt;\n    &lt;!-- Spring MVC support --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;${springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- Spring Security --&gt;\n    &lt;!-- spring-security-web and spring-security-config --&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n        &lt;version&gt;${springsecurity.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;version&gt;${springsecurity.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n        \n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;jstl&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- to compensate for java 9+ not including jaxb --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n            \n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.13.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt; \n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n<p>I dont know if I have to add different dependencies or make changes in my jsp page.\nI am new to Spring security.</p>\n<p>My LoginController class:</p>\n<pre><code>package com.mandeep.website.controller;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\n\n@Controller\npublic class LoginController {\n    \n    @GetMapping(&quot;/showMyLoginPage&quot;)\n    public String showMyLoginPage() {\n        \n        return &quot;fancy-login&quot;;\n    }\n}\n\n</code></pre>\n<p>My Main Controller class:</p>\n<pre><code>package com.mandeep.website.controller;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\n\n@Controller\npublic class AppController {\n    \n    @GetMapping(&quot;/&quot;)\n    public String showHome() {\n        \n        return &quot;index&quot;;\n    }\n\n}\n</code></pre>\n<p>Note: After debugging I found that the request of the Error URl is going as GET method. If anyone knows how to set it to POST method because Spring security uses POST.</p>\n<p><a href=\"https://i.stack.imgur.com/08Oou.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/08Oou.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","selenium-ide"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1679690793,"post_id":75837449,"comment_id":133772597,"body_markdown":"Manual steps to reach the page with the table?","body":"Manual steps to reach the page with the table?"},{"owner":{"account_id":27000014,"reputation":1,"user_id":21125237,"display_name":"dountasker"},"score":0,"creation_date":1679722130,"post_id":75837449,"comment_id":133775620,"body_markdown":"@undetectedSelenium no its automation the above is a code snippet only of this part","body":"@undetectedSelenium no its automation the above is a code snippet only of this part"}],"answers":[{"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679796364,"creation_date":1679796364,"answer_id":75845516,"question_id":75837449,"body_markdown":"The problem was that your locator was not correct. It found no elements when I tried it.\r\n\r\nSwitch to a CSS selector, `div.oxd-table-body &gt; div &gt; div &gt; div:nth-of-type(2)` and it should work just fine.\r\n\r\n    List&lt;WebElement&gt; jobs = driver.findElements(By.cssSelector(&quot;div.oxd-table-body &gt; div &gt; div &gt; div:nth-of-type(2)&quot;));\r\n    for(int i = 0; i &lt; jobs.size(); i++){\r\n            System.out.println(jobs.get(i).getText());\r\n        }\r\n    }\r\n\r\n-----\r\n\r\nNOTE: You can test locators in the dev tools console of the browser. Just run `$$()` for CSS selectors and `$x()` for XPath. For example, the locator above would be\r\n\r\n    $$(&quot;div.oxd-table-body &gt; div &gt; div &gt; div:nth-of-type(2)&quot;)\r\n\r\nand it returns 25 elements on the page.","title":"I&#39;m unable to access the table values as it is not having a table tag","body":"<p>The problem was that your locator was not correct. It found no elements when I tried it.</p>\n<p>Switch to a CSS selector, <code>div.oxd-table-body &gt; div &gt; div &gt; div:nth-of-type(2)</code> and it should work just fine.</p>\n<pre><code>List&lt;WebElement&gt; jobs = driver.findElements(By.cssSelector(&quot;div.oxd-table-body &gt; div &gt; div &gt; div:nth-of-type(2)&quot;));\nfor(int i = 0; i &lt; jobs.size(); i++){\n        System.out.println(jobs.get(i).getText());\n    }\n}\n</code></pre>\n<hr />\n<p>NOTE: You can test locators in the dev tools console of the browser. Just run <code>$$()</code> for CSS selectors and <code>$x()</code> for XPath. For example, the locator above would be</p>\n<pre><code>$$(&quot;div.oxd-table-body &gt; div &gt; div &gt; div:nth-of-type(2)&quot;)\n</code></pre>\n<p>and it returns 25 elements on the page.</p>\n"}],"owner":{"account_id":27000014,"reputation":1,"user_id":21125237,"display_name":"dountasker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679796364,"creation_date":1679685671,"question_id":75837449,"body_markdown":"Tables usually have a &lt;table&gt; tag but this table is defined in the &lt;div&gt; class and it also has a container \r\nThis is the website: https://opensource-demo.orangehrmlive.com/web/index.php/admin/viewJobTitleList\r\n\r\n[enter image description here](https://i.stack.imgur.com/2K7gg.png)\r\n\r\n```\r\nList&lt;WebElement&gt; jobs = driver.findElements(By.xpath(&quot;//*[@id=\\&#39;app\\&#39;]/div[1]/div[2]/div[2]/div/div/div[3]/div/div/div[2]/div/div/div[1]/div[1]/div/div/div[2]&quot;));\r\n \tfor(int i=0;i&lt;jobs.size();i++){\r\n\t\t\tSystem.out.println(jobs.get(i).getText());\r\n\t\t}\r\n\t}\r\n```\r\n\r\nThis above code is not showing error as well as not working ,please tell me whats wrong \r\n\r\n","title":"I&#39;m unable to access the table values as it is not having a table tag","body":"<p>Tables usually have a  tag but this table is defined in the  class and it also has a container\nThis is the website: <a href=\"https://opensource-demo.orangehrmlive.com/web/index.php/admin/viewJobTitleList\" rel=\"nofollow noreferrer\">https://opensource-demo.orangehrmlive.com/web/index.php/admin/viewJobTitleList</a></p>\n<p><a href=\"https://i.stack.imgur.com/2K7gg.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>List&lt;WebElement&gt; jobs = driver.findElements(By.xpath(&quot;//*[@id=\\'app\\']/div[1]/div[2]/div[2]/div/div/div[3]/div/div/div[2]/div/div/div[1]/div[1]/div/div/div[2]&quot;));\n    for(int i=0;i&lt;jobs.size();i++){\n            System.out.println(jobs.get(i).getText());\n        }\n    }\n</code></pre>\n<p>This above code is not showing error as well as not working ,please tell me whats wrong</p>\n"},{"tags":["java","jmenu","jmenuitem"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1679799406,"post_id":75845490,"comment_id":133784607,"body_markdown":"UIManager.setLookAndFeel(UIManager.getCrossPlatformLookAndFeelClassName()) Doesn’t set the “windows” look and fell, it sets the “metal” (aka cross platform) look and feel and I, personally, wouldn’t use it, instead preferring the system look and feel, as using the system look and feel reduces the entry acceptance level for a user - when it “looks” different, it’s another hurdle for the user to get over","body":"UIManager.setLookAndFeel(UIManager.getCrossPlatformLookAndFe&zwnj;&#8203;elClassName()) Doesn’t set the “windows” look and fell, it sets the “metal” (aka cross platform) look and feel and I, personally, wouldn’t use it, instead preferring the system look and feel, as using the system look and feel reduces the entry acceptance level for a user - when it “looks” different, it’s another hurdle for the user to get over"}],"owner":{"account_id":18782952,"reputation":1,"user_id":13697166,"display_name":"ElliottIsaac"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679796114,"answer_count":0,"score":0,"last_activity_date":1679795823,"creation_date":1679795673,"question_id":75845490,"body_markdown":"I’m following a Java tutorial but it isn’t working.\r\n\r\nQuestion 1: why does the setMnemonic not work on my Mac, is it because Mac uses Option instead of Alt\r\n\r\nQuestion 2: why does the action listener not work on my JMenu\r\n\r\nThe mnemonic did work on my JMenuItem, also actionlisyener worked on JMenuItem too, but not JMenu\r\n\r\nI tried using UIManager.setLookAndFeel(UIManager.getCrossPlatformLookAndFeelClassName()); to use the windows feel and look on Mac\r\n\r\nThanks for any help!\r\n\r\n\r\nI have this:\r\n\r\n```\r\n\r\n\r\n\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.KeyEvent;\r\n\r\npublic class MyFrame extends JFrame implements ActionListener {\r\n\r\n    JMenu fileMenu;\r\n    JMenu editMenu;\r\n    JMenu helpMenu;\r\n\r\n    JMenuItem loadItem;\r\n    JMenuItem saveItem;\r\n    JMenuItem exitItem;\r\n\r\n    MyFrame() {\r\n\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        this.setSize(500, 500);\r\n        this.setLayout(new FlowLayout());\r\n\r\n        JMenuBar menuBar = new JMenuBar();\r\n\r\n        fileMenu = new JMenu(&quot;File&quot;);\r\n        editMenu = new JMenu(&quot;Edit&quot;);\r\n        helpMenu = new JMenu(&quot;Help&quot;);\r\n\r\n        loadItem = new JMenuItem(&quot;Load&quot;);\r\n        saveItem = new JMenuItem(&quot;Save&quot;);\r\n        exitItem = new JMenuItem(&quot;Exit&quot;);\r\n\r\n        fileMenu.addActionListener(this);\r\n        editMenu.addActionListener(this);\r\n        helpMenu.addActionListener(this);\r\n\r\n        fileMenu.setMnemonic(KeyEvent.VK_F); //alt+F打开file\r\n        editMenu.setMnemonic(KeyEvent.VK_E);\r\n        helpMenu.setMnemonic(KeyEvent.VK_H);\r\n\r\n        fileMenu.add(loadItem);\r\n        fileMenu.add(saveItem);\r\n        fileMenu.add(exitItem);\r\n\r\n        menuBar.add(fileMenu);\r\n        menuBar.add(editMenu);\r\n        menuBar.add(helpMenu);\r\n\r\n        this.setJMenuBar(menuBar);\r\n        this.setVisible(true);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (e.getSource() == fileMenu) {\r\n            System.out.println(&quot;File menu opened&quot;);\r\n        }\r\n        if (e.getSource() == editMenu) {\r\n            System.out.println(&quot;Edit menu opened&quot;);\r\n        }\r\n        if (e.getSource() == helpMenu) {\r\n            System.out.println(&quot;Help menu opened&quot;);\r\n        }\r\n    }\r\n} \r\n\r\n\r\n```\r\n\r\n\r\nI tried using UIManager.setLookAndFeel(UIManager.getCrossPlatformLookAndFeelClassName()); to use the windows feel and look on Mac\r\n\r\nThe tutorial was done on windows","title":"setMnemonic and ActionListener won’t work on JMenu","body":"<p>I’m following a Java tutorial but it isn’t working.</p>\n<p>Question 1: why does the setMnemonic not work on my Mac, is it because Mac uses Option instead of Alt</p>\n<p>Question 2: why does the action listener not work on my JMenu</p>\n<p>The mnemonic did work on my JMenuItem, also actionlisyener worked on JMenuItem too, but not JMenu</p>\n<p>I tried using UIManager.setLookAndFeel(UIManager.getCrossPlatformLookAndFeelClassName()); to use the windows feel and look on Mac</p>\n<p>Thanks for any help!</p>\n<p>I have this:</p>\n<pre><code>\n\n\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\n\npublic class MyFrame extends JFrame implements ActionListener {\n\n    JMenu fileMenu;\n    JMenu editMenu;\n    JMenu helpMenu;\n\n    JMenuItem loadItem;\n    JMenuItem saveItem;\n    JMenuItem exitItem;\n\n    MyFrame() {\n\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setSize(500, 500);\n        this.setLayout(new FlowLayout());\n\n        JMenuBar menuBar = new JMenuBar();\n\n        fileMenu = new JMenu(&quot;File&quot;);\n        editMenu = new JMenu(&quot;Edit&quot;);\n        helpMenu = new JMenu(&quot;Help&quot;);\n\n        loadItem = new JMenuItem(&quot;Load&quot;);\n        saveItem = new JMenuItem(&quot;Save&quot;);\n        exitItem = new JMenuItem(&quot;Exit&quot;);\n\n        fileMenu.addActionListener(this);\n        editMenu.addActionListener(this);\n        helpMenu.addActionListener(this);\n\n        fileMenu.setMnemonic(KeyEvent.VK_F); //alt+F打开file\n        editMenu.setMnemonic(KeyEvent.VK_E);\n        helpMenu.setMnemonic(KeyEvent.VK_H);\n\n        fileMenu.add(loadItem);\n        fileMenu.add(saveItem);\n        fileMenu.add(exitItem);\n\n        menuBar.add(fileMenu);\n        menuBar.add(editMenu);\n        menuBar.add(helpMenu);\n\n        this.setJMenuBar(menuBar);\n        this.setVisible(true);\n\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if (e.getSource() == fileMenu) {\n            System.out.println(&quot;File menu opened&quot;);\n        }\n        if (e.getSource() == editMenu) {\n            System.out.println(&quot;Edit menu opened&quot;);\n        }\n        if (e.getSource() == helpMenu) {\n            System.out.println(&quot;Help menu opened&quot;);\n        }\n    }\n} \n\n\n</code></pre>\n<p>I tried using UIManager.setLookAndFeel(UIManager.getCrossPlatformLookAndFeelClassName()); to use the windows feel and look on Mac</p>\n<p>The tutorial was done on windows</p>\n"},{"tags":["java","spring","spring-boot","http","interceptor"],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635943298,"creation_date":1635941933,"answer_id":69824719,"question_id":69824466,"body_markdown":"What if you try configuring Spring Security for it ...\r\nThe approach with writing the filter manually, it feels a bit low level ...\r\n\r\n```\r\n@Override\r\nprotected void configure(HttpSecurity http) throws Exception\r\n{\r\n     http\r\n    .authorizeRequests()\r\n       // You can actually disable other methods here as well\r\n      .antMatchers(HttpMethod.TRACE,&quot;/**&quot;).denyAll()\r\n    .httpBasic();\r\n}\r\n```\r\n\r\nIf this does not work for you ... according to the docs it says \r\n\r\n```\r\nNote that HttpServlets default TRACE processing will be applied\r\nin any case if your controllers happen to not generate a response\r\nof content type &#39;message/http&#39; (as required for a TRACE response)\r\n```\r\n\r\nWhy don&#39;t you try setting content type header to `message/http` when responding to a `TRACE` request in your filter ?  \r\n\r\nAnother option is disabling this in the [dispatcher servlet][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/54306649/2599899","title":"How to intercept/disable HTTP Trace Method in Java SpringBoot","body":"<p>What if you try configuring Spring Security for it ...\nThe approach with writing the filter manually, it feels a bit low level ...</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception\n{\n     http\n    .authorizeRequests()\n       // You can actually disable other methods here as well\n      .antMatchers(HttpMethod.TRACE,&quot;/**&quot;).denyAll()\n    .httpBasic();\n}\n</code></pre>\n<p>If this does not work for you ... according to the docs it says</p>\n<pre><code>Note that HttpServlets default TRACE processing will be applied\nin any case if your controllers happen to not generate a response\nof content type 'message/http' (as required for a TRACE response)\n</code></pre>\n<p>Why don't you try setting content type header to <code>message/http</code> when responding to a <code>TRACE</code> request in your filter ?</p>\n<p>Another option is disabling this in the <a href=\"https://stackoverflow.com/a/54306649/2599899\">dispatcher servlet</a></p>\n"},{"tags":[],"owner":{"account_id":1429890,"reputation":6439,"user_id":1352530,"accept_rate":75,"display_name":"Whimusical"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679793204,"creation_date":1679793204,"answer_id":75845380,"question_id":69824466,"body_markdown":"TRACE is currently disallowed by default, at least in Spring-Boot 3.1, since the default firewall WebSecurity uses StrictFirewall, which has as allowed methods DELETE, GET, HEAD, OPTIONS, PATCH, POST and PUT (https://github.com/spring-projects/spring-security/blob/492bde7808462dac36b399531f45a297bc212d69/web/src/main/java/org/springframework/security/web/firewall/StrictHttpFirewall.java#L562)\r\n\r\nThis can be tuned easily with:\r\n\r\n```\r\n@Bean\r\npublic WebSecurityCustomizer webSecurityCustomizer() {\r\n    StrictHttpFirewall strictHttpFirewall = new StrictHttpFirewall();\r\n    strictHttpFirewall.setAllowedHttpMethods(List.of(HttpMethod.GET.name(), HttpMethod.POST.name()))\r\n    return (web) -&gt; web.httpFirewall(strictHttpFirewall);\r\n}    \r\n\r\n","title":"How to intercept/disable HTTP Trace Method in Java SpringBoot","body":"<p>TRACE is currently disallowed by default, at least in Spring-Boot 3.1, since the default firewall WebSecurity uses StrictFirewall, which has as allowed methods DELETE, GET, HEAD, OPTIONS, PATCH, POST and PUT (<a href=\"https://github.com/spring-projects/spring-security/blob/492bde7808462dac36b399531f45a297bc212d69/web/src/main/java/org/springframework/security/web/firewall/StrictHttpFirewall.java#L562\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-security/blob/492bde7808462dac36b399531f45a297bc212d69/web/src/main/java/org/springframework/security/web/firewall/StrictHttpFirewall.java#L562</a>)</p>\n<p>This can be tuned easily with:</p>\n<pre><code>@Bean\npublic WebSecurityCustomizer webSecurityCustomizer() {\n    StrictHttpFirewall strictHttpFirewall = new StrictHttpFirewall();\n    strictHttpFirewall.setAllowedHttpMethods(List.of(HttpMethod.GET.name(), HttpMethod.POST.name()))\n    return (web) -&gt; web.httpFirewall(strictHttpFirewall);\n}    \n\n</code></pre>\n"}],"owner":{"account_id":20875859,"reputation":216,"user_id":15334651,"display_name":"SpartanX1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8206,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1679793204,"creation_date":1635940870,"question_id":69824466,"body_markdown":"In order to disable insecure http methods, I have used a request filter \r\n\r\n    @Component\r\n    public class MethodFilter extends OncePerRequestFilter {\r\n    \r\n        private final String[] allowedMethods = new String[]{&quot;PUT&quot;, &quot;POST&quot;, &quot;GET&quot;, &quot;OPTIONS&quot;};\r\n    \r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n                throws ServletException, IOException {\r\n            if (Arrays.stream(allowedMethods).noneMatch(x -&gt; x.equals(request.getMethod()))) {\r\n                response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED);\r\n            }\r\n            filterChain.doFilter(request, response);\r\n        }\r\n    }\r\n\r\nThis works perfectly for all methods except &quot;TRACE&quot;. \r\nFor trace method, this filter is not invoked and I get a echo back of the all the headers in response body\r\n\r\n    TRACE /error HTTP/1.1\r\n    my-header: test\r\n    accept: */*\r\n    host: localhost:8087\r\n    accept-encoding: gzip, deflate, br\r\n    connection: keep-alive\r\n\r\nFor all other methods which are not in the list I get result as expected \r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2021-11-03T11:49:48.545+0000&quot;,\r\n        &quot;status&quot;: 405,\r\n        &quot;error&quot;: &quot;Method Not Allowed&quot;,\r\n        &quot;message&quot;: &quot;DELETE method is not allowed&quot;,\r\n        &quot;path&quot;: &quot;/test&quot;\r\n    }\r\n\r\nReferring to [doc][1] it seems, trace requests are sent to frameworkservlet and processed there itself. Have tried setting `spring.mvc.dispatch-trace-request=true` but now the responses are clubbed like this (filter still not invoked)\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2021-11-03T11:49:48.545+0000&quot;,\r\n        &quot;status&quot;: 405,\r\n        &quot;error&quot;: &quot;Method Not Allowed&quot;,\r\n        &quot;message&quot;: &quot;TRACE method is not allowed&quot;,\r\n        &quot;path&quot;: &quot;/test&quot;\r\n    }TRACE /error HTTP/1.1\r\n    my-header: test\r\n    accept: */*\r\n    host: localhost:8087\r\n    accept-encoding: gzip, deflate, br\r\n    connection: keep-alive\r\n\r\nMy question is how can I make TRACE response as same as the other requests ?\r\n\r\nNote: The solution in this [thread][2] did not work for me.\r\n\r\n**Edit: \r\nFound the solution. An interceptor does the trick instead of a filter**\r\n\r\n    @Component\r\n    public class MethodInterceptor implements HandlerInterceptor {\r\n    \r\n        private final String[] allowedMethods = new String[]{&quot;PUT&quot;, &quot;POST&quot;, &quot;GET&quot;, &quot;OPTIONS&quot;};\r\n    \r\n        @Override\r\n        public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n            if (Arrays.stream(allowedMethods).noneMatch(x -&gt; x.equals(request.getMethod()))) {\r\n                response.setStatus(HttpServletResponse.SC_METHOD_NOT_ALLOWED);\r\n                response.setHeader(&quot;Allow&quot;, &quot;PUT, POST, GET, OPTIONS&quot;);\r\n                response.setContentType(&quot;message/http&quot;);\r\n                response.getWriter().println(request.getMethod() + &quot; method not allowed&quot;);\r\n                response.getWriter().flush();\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n\r\nAnd add the interceptor via config file\r\n  \r\n\r\n        @Configuration\r\n        public class InterceptorConfiguration implements WebMvcConfigurer {\r\n            @Override\r\n            public void addInterceptors(InterceptorRegistry registry) {\r\n                registry.addInterceptor(new MethodInterceptor());\r\n            }\r\n        }\r\n\r\nThis needs to be used in conjunction with `spring.mvc.dispatch-trace-request=true`\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blob/main/spring-webmvc/src/main/java/org/springframework/web/servlet/FrameworkServlet.java#L463\r\n  [2]: https://stackoverflow.com/questions/64810320/customize-spring-boot-http-trace-disabled-error-response\r\n","title":"How to intercept/disable HTTP Trace Method in Java SpringBoot","body":"<p>In order to disable insecure http methods, I have used a request filter</p>\n<pre><code>@Component\npublic class MethodFilter extends OncePerRequestFilter {\n\n    private final String[] allowedMethods = new String[]{&quot;PUT&quot;, &quot;POST&quot;, &quot;GET&quot;, &quot;OPTIONS&quot;};\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n        if (Arrays.stream(allowedMethods).noneMatch(x -&gt; x.equals(request.getMethod()))) {\n            response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED);\n        }\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>This works perfectly for all methods except &quot;TRACE&quot;.\nFor trace method, this filter is not invoked and I get a echo back of the all the headers in response body</p>\n<pre><code>TRACE /error HTTP/1.1\nmy-header: test\naccept: */*\nhost: localhost:8087\naccept-encoding: gzip, deflate, br\nconnection: keep-alive\n</code></pre>\n<p>For all other methods which are not in the list I get result as expected</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2021-11-03T11:49:48.545+0000&quot;,\n    &quot;status&quot;: 405,\n    &quot;error&quot;: &quot;Method Not Allowed&quot;,\n    &quot;message&quot;: &quot;DELETE method is not allowed&quot;,\n    &quot;path&quot;: &quot;/test&quot;\n}\n</code></pre>\n<p>Referring to <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-webmvc/src/main/java/org/springframework/web/servlet/FrameworkServlet.java#L463\" rel=\"nofollow noreferrer\">doc</a> it seems, trace requests are sent to frameworkservlet and processed there itself. Have tried setting <code>spring.mvc.dispatch-trace-request=true</code> but now the responses are clubbed like this (filter still not invoked)</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2021-11-03T11:49:48.545+0000&quot;,\n    &quot;status&quot;: 405,\n    &quot;error&quot;: &quot;Method Not Allowed&quot;,\n    &quot;message&quot;: &quot;TRACE method is not allowed&quot;,\n    &quot;path&quot;: &quot;/test&quot;\n}TRACE /error HTTP/1.1\nmy-header: test\naccept: */*\nhost: localhost:8087\naccept-encoding: gzip, deflate, br\nconnection: keep-alive\n</code></pre>\n<p>My question is how can I make TRACE response as same as the other requests ?</p>\n<p>Note: The solution in this <a href=\"https://stackoverflow.com/questions/64810320/customize-spring-boot-http-trace-disabled-error-response\">thread</a> did not work for me.</p>\n<p><strong>Edit:\nFound the solution. An interceptor does the trick instead of a filter</strong></p>\n<pre><code>@Component\npublic class MethodInterceptor implements HandlerInterceptor {\n\n    private final String[] allowedMethods = new String[]{&quot;PUT&quot;, &quot;POST&quot;, &quot;GET&quot;, &quot;OPTIONS&quot;};\n\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n        if (Arrays.stream(allowedMethods).noneMatch(x -&gt; x.equals(request.getMethod()))) {\n            response.setStatus(HttpServletResponse.SC_METHOD_NOT_ALLOWED);\n            response.setHeader(&quot;Allow&quot;, &quot;PUT, POST, GET, OPTIONS&quot;);\n            response.setContentType(&quot;message/http&quot;);\n            response.getWriter().println(request.getMethod() + &quot; method not allowed&quot;);\n            response.getWriter().flush();\n            return false;\n        }\n        return true;\n    }\n}\n</code></pre>\n<p>And add the interceptor via config file</p>\n<pre><code>    @Configuration\n    public class InterceptorConfiguration implements WebMvcConfigurer {\n        @Override\n        public void addInterceptors(InterceptorRegistry registry) {\n            registry.addInterceptor(new MethodInterceptor());\n        }\n    }\n</code></pre>\n<p>This needs to be used in conjunction with <code>spring.mvc.dispatch-trace-request=true</code></p>\n"},{"tags":["java","android-11","android-notification.mediastyle"],"comments":[{"owner":{"account_id":5508519,"reputation":95,"user_id":4375671,"accept_rate":40,"display_name":"zerstoer"},"score":0,"creation_date":1630611265,"post_id":64090494,"comment_id":122011549,"body_markdown":"Did you find a solution?","body":"Did you find a solution?"}],"answers":[{"tags":[],"owner":{"account_id":459700,"reputation":196,"user_id":860323,"display_name":"skvalex"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1603067526,"creation_date":1603067526,"answer_id":64419687,"question_id":64090494,"body_markdown":"You now need to add metadata to your media session as well:\r\n```\r\nmediaSessionCompat.setMetadata(\r\n    new MediaMetadataCompat.Builder()\r\n        .putString(MediaMetadata.METADATA_KEY_TITLE, track.getTitle())\r\n        .putString(MediaMetadata.METADATA_KEY_ARTIST, track.getArtist())\r\n        .build()\r\n    );\r\n```","title":"Mediastyle notifications not working in android 11","body":"<p>You now need to add metadata to your media session as well:</p>\n<pre><code>mediaSessionCompat.setMetadata(\n    new MediaMetadataCompat.Builder()\n        .putString(MediaMetadata.METADATA_KEY_TITLE, track.getTitle())\n        .putString(MediaMetadata.METADATA_KEY_ARTIST, track.getArtist())\n        .build()\n    );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7425095,"reputation":21,"user_id":5647886,"display_name":"Hani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1611503180,"creation_date":1611502835,"answer_id":65872564,"question_id":64090494,"body_markdown":"I had same issue and was able to resolve it only once I set compileSdkVersion to 30.","title":"Mediastyle notifications not working in android 11","body":"<p>I had same issue and was able to resolve it only once I set compileSdkVersion to 30.</p>\n"},{"tags":[],"owner":{"account_id":11953677,"reputation":870,"user_id":8746644,"display_name":"michpohl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661836857,"creation_date":1661836857,"answer_id":73537460,"question_id":64090494,"body_markdown":"Just had the same problem. Turns out `.setOngoing(true)` doesn&#39;t seem to work right with Mediastyle notifications. Once I removed it, the notification showed up correctly.  ","title":"Mediastyle notifications not working in android 11","body":"<p>Just had the same problem. Turns out <code>.setOngoing(true)</code> doesn't seem to work right with Mediastyle notifications. Once I removed it, the notification showed up correctly.</p>\n"},{"tags":[],"owner":{"account_id":26395389,"reputation":11,"user_id":20046611,"display_name":"Abdullah Hammad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672693953,"creation_date":1672693923,"answer_id":74987097,"question_id":64090494,"body_markdown":"There is a simple solution to it. Just add these lines after mediaSessionCompat declaration.\r\n   \r\n\r\n     mediaSessionCompat=new MediaSessionCompat(this,&quot;tag&quot;);\r\n    \r\n    \r\n    \r\n            mediaSessionCompat.setMetadata(\r\n                    new MediaMetadataCompat.Builder()\r\n                    .putString(MediaMetadata.METADATA_KEY_TITLE,&quot;Song Title&quot;)\r\n                    .putString(MediaMetadata.METADATA_KEY_ARTIST,&quot;Artist&quot;)\r\n                    .build());\r\n\r\nHope this helps.","title":"Mediastyle notifications not working in android 11","body":"<p>There is a simple solution to it. Just add these lines after mediaSessionCompat declaration.</p>\n<pre><code> mediaSessionCompat=new MediaSessionCompat(this,&quot;tag&quot;);\n\n\n\n        mediaSessionCompat.setMetadata(\n                new MediaMetadataCompat.Builder()\n                .putString(MediaMetadata.METADATA_KEY_TITLE,&quot;Song Title&quot;)\n                .putString(MediaMetadata.METADATA_KEY_ARTIST,&quot;Artist&quot;)\n                .build());\n</code></pre>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":14490284,"reputation":11,"user_id":10466808,"display_name":"Benabd Ellatif Ragheb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679792410,"creation_date":1679792410,"answer_id":75845353,"question_id":64090494,"body_markdown":"Works for me : Should add &quot;mMediaSession.setMetadata(..)&quot; after setStyle(..) \r\n\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            ...\r\n                mBuilder.setStyle(new androidx.media.app.NotificationCompat.MediaStyle()\r\n                                .setMediaSession(mMediaSession.getSessionToken())\r\n                                .setShowCancelButton(true)\r\n                                .setShowActionsInCompactView(0, 1, 2)\r\n                                .setCancelButtonIntent(\r\n                                        MediaButtonReceiver.buildMediaButtonPendingIntent(\r\n                                                context, PlaybackStateCompat.ACTION_STOP)))\r\n                                .addAction(new NotificationCompat.Action(\r\n                                        R.drawable.ic_noti_previous, &quot;Previous&quot;,\r\n                                        ppreviousIntent))\r\n                                .addAction(new NotificationCompat.Action(\r\n                                        R.drawable.ic_noti_pause, &quot;Pause&quot;,\r\n                                        pplayIntent))\r\n                                .addAction(new NotificationCompat.Action(\r\n                                        R.drawable.ic_noti_next, &quot;Next&quot;,\r\n                                        pnextIntent))\r\n                                .addAction(new NotificationCompat.Action(\r\n                                        R.drawable.ic_noti_close, &quot;Close&quot;,\r\n                                        pcloseIntent));\r\n                mMediaSession.setMetadata(\r\n                    new MediaMetadataCompat.Builder()\r\n                        .putString(MediaMetadata.METADATA_KEY_TITLE,&quot;Song Title&quot;)\r\n                                        .putString(MediaMetadata.METADATA_KEY_ARTIST,&quot;Artist&quot;)\r\n                                        .build());\r\n        \r\n    else\r\n    {\r\n        ...\r\n    }","title":"Mediastyle notifications not working in android 11","body":"<p>Works for me : Should add &quot;mMediaSession.setMetadata(..)&quot; after setStyle(..)</p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        ...\n            mBuilder.setStyle(new androidx.media.app.NotificationCompat.MediaStyle()\n                            .setMediaSession(mMediaSession.getSessionToken())\n                            .setShowCancelButton(true)\n                            .setShowActionsInCompactView(0, 1, 2)\n                            .setCancelButtonIntent(\n                                    MediaButtonReceiver.buildMediaButtonPendingIntent(\n                                            context, PlaybackStateCompat.ACTION_STOP)))\n                            .addAction(new NotificationCompat.Action(\n                                    R.drawable.ic_noti_previous, &quot;Previous&quot;,\n                                    ppreviousIntent))\n                            .addAction(new NotificationCompat.Action(\n                                    R.drawable.ic_noti_pause, &quot;Pause&quot;,\n                                    pplayIntent))\n                            .addAction(new NotificationCompat.Action(\n                                    R.drawable.ic_noti_next, &quot;Next&quot;,\n                                    pnextIntent))\n                            .addAction(new NotificationCompat.Action(\n                                    R.drawable.ic_noti_close, &quot;Close&quot;,\n                                    pcloseIntent));\n            mMediaSession.setMetadata(\n                new MediaMetadataCompat.Builder()\n                    .putString(MediaMetadata.METADATA_KEY_TITLE,&quot;Song Title&quot;)\n                                    .putString(MediaMetadata.METADATA_KEY_ARTIST,&quot;Artist&quot;)\n                                    .build());\n    \nelse\n{\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":19606882,"reputation":71,"user_id":14350337,"display_name":"janu935"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4265,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":5,"score":7,"last_activity_date":1679792410,"creation_date":1601222495,"question_id":64090494,"body_markdown":"My custom mediastyle notification no longer works in Android 11 for my music app. It works fine in Android 10 and previous versions. \r\n\r\nIs there any other code I need to add so that it works in Android 11. \r\n\r\nI should add that getting rid of the &quot; .setMediaSession(mediaSessionCompat.getSessionToken())) &quot; line gives me a notification, but its not an Oreo notification with the full background color, etc. \r\n\r\nHere is my code for creating notifications:\r\n\r\n```\r\npublic static final String CHANNEL_ID = &quot;Channel1&quot;;\r\n\r\n//public static final String ACTION_PREVIOUS = &quot;actionprevious&quot;;\r\npublic static final String ACTION_PLAY = &quot;actionplay&quot;;\r\npublic static final String ACTION_EXIT = &quot;actionexit&quot;;\r\n//public static final String ACTION_NEXT = &quot;actionnext&quot;;\r\n\r\npublic static Notification notification;\r\n\r\npublic static void createNotification(Context context, Track track, int playbutton, int exitApp, int pos, int size) {\r\n\r\n    if (Build.VERSION.SDK_INT &gt;=Build.VERSION_CODES.O) {\r\n\r\n        NotificationManagerCompat notificationManagerCompat = NotificationManagerCompat.from(context); \r\n        MediaSessionCompat mediaSessionCompat = new MediaSessionCompat(context, &quot;tag&quot;); /\r\n\r\n        mediaSessionCompat.setActive(true);\r\n\r\n        Bitmap icon = BitmapFactory.decodeResource(context.getResources(),R.drawable.half); \r\n\r\n        Intent intentPlay = new Intent(context, NotificationActionService.class)\r\n                .setAction(ACTION_PLAY);\r\n        PendingIntent pendingIntentPlay = PendingIntent.getBroadcast(context, 0,\r\n                intentPlay, PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n        Intent intentExit = new Intent(context, NotificationActionService.class)\r\n                .setAction(ACTION_EXIT);\r\n        PendingIntent pendingIntentExit = PendingIntent.getBroadcast(context, 0,\r\n                intentExit, PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n        exitApp = R.drawable.ic_close_black;\r\n\r\n    \r\n        Intent intentOpenApp = new Intent(context, MainActivity.class);\r\n        PendingIntent pendingIntentOpenApp = PendingIntent.getActivity(context,0,\r\n                intentOpenApp, 0);\r\n\r\n      \r\n\r\n         Notification.MediaStyle style = new Notification.MediaStyle();\r\n        androidx.core.app.NotificationCompat.Builder builder = new androidx.core.app.NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID)\r\n                //NotificationCompat.Builder builder = new NotificationCompat.Builder( this, NOTIFICATION_CHANNEL_ID );\r\n                .setSmallIcon(R.drawable.ic_audiotrack)\r\n                .setVisibility(androidx.core.app.NotificationCompat.VISIBILITY_PUBLIC) \r\n                .setLargeIcon(icon)\r\n                .setContentTitle( &quot;TEST&quot; )\r\n                .setContentText(notificationText)\r\n                .setContentIntent(pendingIntentOpenApp) \r\n                .setShowWhen(false) \r\n                .setOngoing(true)           .setBadgeIconType(androidx.core.app.NotificationCompat.BADGE_ICON_NONE) \r\n                .setOnlyAlertOnce(true)\r\n                .addAction(action)\r\n                .addAction(generateAction(R.drawable.ic_close_black, &quot;Exit&quot;, ACTION_EXIT))\r\n                .setStyle(new NotificationCompat.MediaStyle()\r\n                        .setShowActionsInCompactView(0,1)\r\n                        .setMediaSession(mediaSession.getSessionToken())); \r\n\r\n\r\n        mediaSession.setMetadata\r\n            (new MediaMetadataCompat.Builder()\r\n                .putBitmap(MediaMetadataCompat.METADATA_KEY_ALBUM_ART,icon)\r\n                .putString(MediaMetadata.METADATA_KEY_TITLE, &quot;TEST TITLE&quot;)\r\n                .putString(MediaMetadata.METADATA_KEY_ARTIST, &quot;TEST ARTIST&quot;)\r\n                .build()\r\n        );\r\n\r\n\r\n\r\n        startForeground(1, builder.build()); \r\n    }\r\n\r\n\r\n}\r\n```","title":"Mediastyle notifications not working in android 11","body":"<p>My custom mediastyle notification no longer works in Android 11 for my music app. It works fine in Android 10 and previous versions.</p>\n<p>Is there any other code I need to add so that it works in Android 11.</p>\n<p>I should add that getting rid of the &quot; .setMediaSession(mediaSessionCompat.getSessionToken())) &quot; line gives me a notification, but its not an Oreo notification with the full background color, etc.</p>\n<p>Here is my code for creating notifications:</p>\n<pre><code>public static final String CHANNEL_ID = &quot;Channel1&quot;;\n\n//public static final String ACTION_PREVIOUS = &quot;actionprevious&quot;;\npublic static final String ACTION_PLAY = &quot;actionplay&quot;;\npublic static final String ACTION_EXIT = &quot;actionexit&quot;;\n//public static final String ACTION_NEXT = &quot;actionnext&quot;;\n\npublic static Notification notification;\n\npublic static void createNotification(Context context, Track track, int playbutton, int exitApp, int pos, int size) {\n\n    if (Build.VERSION.SDK_INT &gt;=Build.VERSION_CODES.O) {\n\n        NotificationManagerCompat notificationManagerCompat = NotificationManagerCompat.from(context); \n        MediaSessionCompat mediaSessionCompat = new MediaSessionCompat(context, &quot;tag&quot;); /\n\n        mediaSessionCompat.setActive(true);\n\n        Bitmap icon = BitmapFactory.decodeResource(context.getResources(),R.drawable.half); \n\n        Intent intentPlay = new Intent(context, NotificationActionService.class)\n                .setAction(ACTION_PLAY);\n        PendingIntent pendingIntentPlay = PendingIntent.getBroadcast(context, 0,\n                intentPlay, PendingIntent.FLAG_UPDATE_CURRENT);\n\n        Intent intentExit = new Intent(context, NotificationActionService.class)\n                .setAction(ACTION_EXIT);\n        PendingIntent pendingIntentExit = PendingIntent.getBroadcast(context, 0,\n                intentExit, PendingIntent.FLAG_UPDATE_CURRENT);\n\n        exitApp = R.drawable.ic_close_black;\n\n    \n        Intent intentOpenApp = new Intent(context, MainActivity.class);\n        PendingIntent pendingIntentOpenApp = PendingIntent.getActivity(context,0,\n                intentOpenApp, 0);\n\n      \n\n         Notification.MediaStyle style = new Notification.MediaStyle();\n        androidx.core.app.NotificationCompat.Builder builder = new androidx.core.app.NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID)\n                //NotificationCompat.Builder builder = new NotificationCompat.Builder( this, NOTIFICATION_CHANNEL_ID );\n                .setSmallIcon(R.drawable.ic_audiotrack)\n                .setVisibility(androidx.core.app.NotificationCompat.VISIBILITY_PUBLIC) \n                .setLargeIcon(icon)\n                .setContentTitle( &quot;TEST&quot; )\n                .setContentText(notificationText)\n                .setContentIntent(pendingIntentOpenApp) \n                .setShowWhen(false) \n                .setOngoing(true)           .setBadgeIconType(androidx.core.app.NotificationCompat.BADGE_ICON_NONE) \n                .setOnlyAlertOnce(true)\n                .addAction(action)\n                .addAction(generateAction(R.drawable.ic_close_black, &quot;Exit&quot;, ACTION_EXIT))\n                .setStyle(new NotificationCompat.MediaStyle()\n                        .setShowActionsInCompactView(0,1)\n                        .setMediaSession(mediaSession.getSessionToken())); \n\n\n        mediaSession.setMetadata\n            (new MediaMetadataCompat.Builder()\n                .putBitmap(MediaMetadataCompat.METADATA_KEY_ALBUM_ART,icon)\n                .putString(MediaMetadata.METADATA_KEY_TITLE, &quot;TEST TITLE&quot;)\n                .putString(MediaMetadata.METADATA_KEY_ARTIST, &quot;TEST ARTIST&quot;)\n                .build()\n        );\n\n\n\n        startForeground(1, builder.build()); \n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","command-line-interface","ansi-escape","jansi"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1491430703,"post_id":43242304,"comment_id":73555264,"body_markdown":"Have you tried [`Ansi#eraseScreen(Ansi.Erase)`](http://fusesource.github.io/jansi/documentation/api/org/fusesource/jansi/Ansi.html#eraseScreen-org.fusesource.jansi.Ansi.Erase-) and using one of the other erase methods?  It might not be possible and might be limitation of the API","body":"Have you tried <a href=\"http://fusesource.github.io/jansi/documentation/api/org/fusesource/jansi/Ansi.html#eraseScreen-org.fusesource.jansi.Ansi.Erase-\" rel=\"nofollow noreferrer\"><code>Ansi#eraseScreen(Ansi.Erase)</code></a> and using one of the other erase methods?  It might not be possible and might be limitation of the API"},{"owner":{"account_id":1307328,"reputation":34488,"user_id":1256041,"accept_rate":80,"display_name":"sdgfsdh"},"score":0,"creation_date":1491463470,"post_id":43242304,"comment_id":73566008,"body_markdown":"@MadProgrammer Just tried it; it has the same problem.","body":"@MadProgrammer Just tried it; it has the same problem."},{"owner":{"account_id":2771516,"reputation":2174,"user_id":2386040,"display_name":"Jan"},"score":0,"creation_date":1582204989,"post_id":43242304,"comment_id":106702525,"body_markdown":"Your examplecode worked correctly when running in a console under Windows 10.","body":"Your examplecode worked correctly when running in a console under Windows 10."}],"answers":[{"tags":[],"owner":{"account_id":5704103,"reputation":3,"user_id":4508235,"display_name":"vizen10"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528967731,"creation_date":1528967731,"answer_id":50853856,"question_id":43242304,"body_markdown":"Maybe you can try by overwriting the world &quot;Hello...&quot; with &quot;...world&quot;.\r\n\r\nIt should be something like this:\r\n\r\n    System.out.print(&quot;Hello... &quot;);\r\n    System.out.print(ansi().cursorLeft(&quot;Hello... &quot;.lenght()).a(&quot;...world&quot;));\r\n","title":"How do I clear the screen using Jansi?","body":"<p>Maybe you can try by overwriting the world \"Hello...\" with \"...world\".</p>\n\n<p>It should be something like this:</p>\n\n<pre><code>System.out.print(\"Hello... \");\nSystem.out.print(ansi().cursorLeft(\"Hello... \".lenght()).a(\"...world\"));\n</code></pre>\n"}],"owner":{"account_id":1307328,"reputation":34488,"user_id":1256041,"accept_rate":80,"display_name":"sdgfsdh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":501,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679791357,"creation_date":1491429324,"question_id":43242304,"body_markdown":"I am trying to clear the console in Java using Jansi. I am using macOS, but Jansi should be portable. \r\n\r\nHere is the code that I have tried: \r\n\r\n    AnsiConsole.systemInstall();\r\n\r\n    System.out.println(&quot;Hello... &quot;);\r\n    System.out.println(Ansi.ansi().eraseScreen());\r\n    System.out.println(&quot;... world.&quot;);\r\n\r\nHowever, this does not clear the screen. It inserts many new lines and then prints the next line, like this:\r\n\r\n    Hello...\r\n\r\n\r\n\r\n\r\n\r\n\r\n     ... world. \r\n\r\nHow do I clear the screen properly, so that my final output is just the below? \r\n\r\n    ... world. ","title":"How do I clear the screen using Jansi?","body":"<p>I am trying to clear the console in Java using Jansi. I am using macOS, but Jansi should be portable. </p>\n\n<p>Here is the code that I have tried: </p>\n\n<pre><code>AnsiConsole.systemInstall();\n\nSystem.out.println(\"Hello... \");\nSystem.out.println(Ansi.ansi().eraseScreen());\nSystem.out.println(\"... world.\");\n</code></pre>\n\n<p>However, this does not clear the screen. It inserts many new lines and then prints the next line, like this:</p>\n\n<pre><code>Hello...\n\n\n\n\n\n\n ... world. \n</code></pre>\n\n<p>How do I clear the screen properly, so that my final output is just the below? </p>\n\n<pre><code>... world. \n</code></pre>\n"},{"tags":["java","ansi-escape"],"comments":[{"owner":{"account_id":8316464,"reputation":1047,"user_id":6249567,"display_name":"DamCx"},"score":0,"creation_date":1481275783,"post_id":41057014,"comment_id":69320877,"body_markdown":"The point is, checking if the console supports the ANSI escape codes isn&#39;t the best way to do this. In fact, you have to use a `PrintWriter`, on the `System.out` writer so you can set the Encoding type on it","body":"The point is, checking if the console supports the ANSI escape codes isn&#39;t the best way to do this. In fact, you have to use a <code>PrintWriter</code>, on the <code>System.out</code> writer so you can set the Encoding type on it"}],"answers":[{"tags":[],"owner":{"account_id":961485,"reputation":1731,"user_id":985752,"display_name":"Fabel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1485944905,"creation_date":1485944905,"answer_id":41977358,"question_id":41057014,"body_markdown":"I don&#39;t know if Java has some special way to deal with this, but there are two ways to deal with the problem itself. The usual method used (at least in the unix world) is to get the terminal used from the `TERM` environment variable and look up it&#39;s capabilities from the [terminfo][1]/[termcap][2] database (usually using [curses][3] or [slang][4]). Another more crude approach is to send the Device Status Report code (`&quot;\\u001B[6n&quot;`) and check if the terminal responds. This is of course a bit of a hack since a terminal that supports the DSR code might not support color for example.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Terminfo\r\n  [2]: https://en.wikipedia.org/wiki/Termcap\r\n  [3]: https://en.wikipedia.org/wiki/Curses_(programming_library)\r\n  [4]: https://en.wikipedia.org/wiki/S-Lang_(programming_library)","title":"Check if console supports ANSI escape codes in Java","body":"<p>I don't know if Java has some special way to deal with this, but there are two ways to deal with the problem itself. The usual method used (at least in the unix world) is to get the terminal used from the <code>TERM</code> environment variable and look up it's capabilities from the <a href=\"https://en.wikipedia.org/wiki/Terminfo\" rel=\"nofollow noreferrer\">terminfo</a>/<a href=\"https://en.wikipedia.org/wiki/Termcap\" rel=\"nofollow noreferrer\">termcap</a> database (usually using <a href=\"https://en.wikipedia.org/wiki/Curses_(programming_library)\" rel=\"nofollow noreferrer\">curses</a> or <a href=\"https://en.wikipedia.org/wiki/S-Lang_(programming_library)\" rel=\"nofollow noreferrer\">slang</a>). Another more crude approach is to send the Device Status Report code (<code>\"\\u001B[6n\"</code>) and check if the terminal responds. This is of course a bit of a hack since a terminal that supports the DSR code might not support color for example.</p>\n"},{"tags":[],"owner":{"account_id":11784512,"reputation":1147,"user_id":8622794,"display_name":"trozen"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1537180985,"creation_date":1537180985,"answer_id":52365927,"question_id":41057014,"body_markdown":"A simple java-only solution:\r\n\r\n    if (System.console() != null &amp;&amp; System.getenv().get(&quot;TERM&quot;) != null) {\r\n        System.out.println(&quot;\\u001B[36m&quot;+&quot;Menu option&quot;+&quot;\\u001B[0m&quot;);\r\n    } else {\r\n        System.out.println(&quot;Menu option&quot;);\r\n    }\r\n\r\nThe first term is there to check if a terminal is attached, second to see if TERM env var is defined (is not on Windows). This isn&#39;t perfect, but works well enough in my case.","title":"Check if console supports ANSI escape codes in Java","body":"<p>A simple java-only solution:</p>\n\n<pre><code>if (System.console() != null &amp;&amp; System.getenv().get(\"TERM\") != null) {\n    System.out.println(\"\\u001B[36m\"+\"Menu option\"+\"\\u001B[0m\");\n} else {\n    System.out.println(\"Menu option\");\n}\n</code></pre>\n\n<p>The first term is there to check if a terminal is attached, second to see if TERM env var is defined (is not on Windows). This isn't perfect, but works well enough in my case.</p>\n"}],"owner":{"account_id":4425106,"reputation":198,"user_id":3603786,"display_name":"Slye"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4545,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":52365927,"answer_count":2,"score":12,"last_activity_date":1679791259,"creation_date":1481275474,"question_id":41057014,"body_markdown":"I&#39;m building a program in Java that uses menus with different colors using ANSI escape codes. Something like\r\n\r\n    System.out.println(&quot;\\u001B[36m&quot;+&quot;Menu option&quot;+&quot;\\u001B[0m&quot;);\r\nThe problem is that i want to check if the console where the code is going to be executed supports using this codes, so in case it doesn&#39;t, print an alternative version without the codes.\r\n\r\nIt will be something similar to:\r\n\r\n    if(console.supportsANSICode){\r\n       System.out.println(&quot;\\u001B[36m&quot;+&quot;Menu option&quot;+&quot;\\u001B[0m&quot;);\r\n    }\r\n    else{\r\n       System.out.println(&quot;Menu option&quot;);\r\n    }\r\nIs there a method in java to check this?\r\n","title":"Check if console supports ANSI escape codes in Java","body":"<p>I'm building a program in Java that uses menus with different colors using ANSI escape codes. Something like</p>\n\n<pre><code>System.out.println(\"\\u001B[36m\"+\"Menu option\"+\"\\u001B[0m\");\n</code></pre>\n\n<p>The problem is that i want to check if the console where the code is going to be executed supports using this codes, so in case it doesn't, print an alternative version without the codes.</p>\n\n<p>It will be something similar to:</p>\n\n<pre><code>if(console.supportsANSICode){\n   System.out.println(\"\\u001B[36m\"+\"Menu option\"+\"\\u001B[0m\");\n}\nelse{\n   System.out.println(\"Menu option\");\n}\n</code></pre>\n\n<p>Is there a method in java to check this?</p>\n"},{"tags":["java","generics","cucumber"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1677991602,"post_id":75639656,"comment_id":133445317,"body_markdown":"What is the result of `body[0].getClass()`?","body":"What is the result of <code>body[0].getClass()</code>?"},{"owner":{"account_id":2387662,"reputation":705,"user_id":2088282,"accept_rate":85,"display_name":"Giovanni Silva"},"score":0,"creation_date":1678030958,"post_id":75639656,"comment_id":133450211,"body_markdown":"Is: class java.util.LinkedHashMap","body":"Is: class java.util.LinkedHashMap"},{"owner":{"account_id":2387662,"reputation":705,"user_id":2088282,"accept_rate":85,"display_name":"Giovanni Silva"},"score":0,"creation_date":1678031329,"post_id":75639656,"comment_id":133450268,"body_markdown":"I think the trick here is to create the appropriate ParameterizedTypeReference as mentioned in this answer: https://stackoverflow.com/questions/19463372/classcastexception-resttemplate-returning-listlinkedhashmap-instead-of-listm question is how to do that passing the type as CustomPageImpl&lt;ConcretType&gt; when ConcretType is a Class parameter","body":"I think the trick here is to create the appropriate ParameterizedTypeReference as mentioned in this answer: <a href=\"https://stackoverflow.com/questions/19463372/classcastexception-resttemplate-returning-listlinkedhashmap-instead-of-listm\" title=\"classcastexception resttemplate returning listlinkedhashmap instead of listm\">stackoverflow.com/questions/19463372/&hellip;</a> question is how to do that passing the type as CustomPageImpl&lt;ConcretType&gt; when ConcretType is a Class parameter"},{"owner":{"account_id":2387662,"reputation":705,"user_id":2088282,"accept_rate":85,"display_name":"Giovanni Silva"},"score":0,"creation_date":1678036400,"post_id":75639656,"comment_id":133451175,"body_markdown":"I edit the question with a link to a project that simulates the problem with JunitTests, if someone figures out how to make the listWithClassType test pass like the other two examples are passing then it will close this question.","body":"I edit the question with a link to a project that simulates the problem with JunitTests, if someone figures out how to make the listWithClassType test pass like the other two examples are passing then it will close this question."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1678043035,"post_id":75639656,"comment_id":133452305,"body_markdown":"So you are comparing instances of `LinkedHashMap` against instances of `Brand`. They&#39;ll never be considered equal because they&#39;re of a different type. Either convert the expected values to a `Map`, or the actual value to `Brand`.","body":"So you are comparing instances of <code>LinkedHashMap</code> against instances of <code>Brand</code>. They&#39;ll never be considered equal because they&#39;re of a different type. Either convert the expected values to a <code>Map</code>, or the actual value to <code>Brand</code>."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1678043619,"post_id":75639656,"comment_id":133452393,"body_markdown":"And fundamentally, I don&#39;t think you should use Cucumber for these tests. MockMvc seems much more appropriate for what you are testing here.","body":"And fundamentally, I don&#39;t think you should use Cucumber for these tests. MockMvc seems much more appropriate for what you are testing here."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1678043752,"post_id":75639656,"comment_id":133452419,"body_markdown":"Also note that testing against `Brand` is not effective. Because you use `Brand` in both the definition of the project and the expected value, the test is a bit of a tautology. So it would be better to test against the json representation.","body":"Also note that testing against <code>Brand</code> is not effective. Because you use <code>Brand</code> in both the definition of the project and the expected value, the test is a bit of a tautology. So it would be better to test against the json representation."}],"answers":[{"tags":[],"owner":{"account_id":2387662,"reputation":705,"user_id":2088282,"accept_rate":85,"display_name":"Giovanni Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679790624,"creation_date":1679790624,"answer_id":75845282,"question_id":75639656,"body_markdown":"One possibility is to build the ParameterizedTypeReference using a factory, that way it is generic:\r\n\r\n```java\r\npublic class ParameterizedTypeReferenceFactory {\r\n\r\n  private static Map&lt;Class&lt;?&gt;, ParameterizedTypeReference&lt;? extends CustomPageImpl&lt;? extends Object&gt;&gt;&gt; parameterizedTypes = Map.of(\r\n    Brand.class,\r\n    new ParameterizedTypeReference&lt;CustomPageImpl&lt;Brand&gt;&gt;() {\r\n    },\r\n    ProductCategory.class,\r\n    new ParameterizedTypeReference&lt;CustomPageImpl&lt;ProductCategory&gt;&gt;() {\r\n    },\r\n    Product.class,\r\n    new ParameterizedTypeReference&lt;CustomPageImpl&lt;Product&gt;&gt;() {\r\n    },\r\n    Market.class,\r\n    new ParameterizedTypeReference&lt;CustomPageImpl&lt;Market&gt;&gt;() {\r\n    },\r\n    MainStock.class,\r\n    new ParameterizedTypeReference&lt;CustomPageImpl&lt;MainStock&gt;&gt;() {\r\n    }\r\n  );\r\n\r\n  public static &lt;T&gt; ParameterizedTypeReference&lt;CustomPageImpl&lt;T&gt;&gt; buildCustomPageReference(Class&lt;T&gt; aClass) {\r\n    if (parameterizedTypes.containsKey(aClass)) {\r\n      return (ParameterizedTypeReference&lt;CustomPageImpl&lt;T&gt;&gt;) parameterizedTypes.get(aClass);\r\n    } else {\r\n      throw new IllegalArgumentException(String.format(&quot;Cannot find parametrized type for class %s&quot;, aClass));\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nAnd use it like this:\r\n\r\n```java\r\n    ParameterizedTypeReference&lt;? extends CustomPageImpl&lt;?&gt;&gt; typeRef = ParameterizedTypeReferenceFactory.buildCustomPageReference(aClass);\r\n    String uriBuild = uriComponentsBuilder[0].toUriString();\r\n    ResponseEntity&lt;? extends CustomPageImpl&lt;?&gt;&gt; forEntity = testRestTemplate.exchange(uriBuild, HttpMethod.GET, null, typeRef);\r\n    this.responseEntityPage = forEntity;\r\n```","title":"How to instantiate a generic list type in cucumber for tests","body":"<p>One possibility is to build the ParameterizedTypeReference using a factory, that way it is generic:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ParameterizedTypeReferenceFactory {\n\n  private static Map&lt;Class&lt;?&gt;, ParameterizedTypeReference&lt;? extends CustomPageImpl&lt;? extends Object&gt;&gt;&gt; parameterizedTypes = Map.of(\n    Brand.class,\n    new ParameterizedTypeReference&lt;CustomPageImpl&lt;Brand&gt;&gt;() {\n    },\n    ProductCategory.class,\n    new ParameterizedTypeReference&lt;CustomPageImpl&lt;ProductCategory&gt;&gt;() {\n    },\n    Product.class,\n    new ParameterizedTypeReference&lt;CustomPageImpl&lt;Product&gt;&gt;() {\n    },\n    Market.class,\n    new ParameterizedTypeReference&lt;CustomPageImpl&lt;Market&gt;&gt;() {\n    },\n    MainStock.class,\n    new ParameterizedTypeReference&lt;CustomPageImpl&lt;MainStock&gt;&gt;() {\n    }\n  );\n\n  public static &lt;T&gt; ParameterizedTypeReference&lt;CustomPageImpl&lt;T&gt;&gt; buildCustomPageReference(Class&lt;T&gt; aClass) {\n    if (parameterizedTypes.containsKey(aClass)) {\n      return (ParameterizedTypeReference&lt;CustomPageImpl&lt;T&gt;&gt;) parameterizedTypes.get(aClass);\n    } else {\n      throw new IllegalArgumentException(String.format(&quot;Cannot find parametrized type for class %s&quot;, aClass));\n    }\n  }\n}\n</code></pre>\n<p>And use it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    ParameterizedTypeReference&lt;? extends CustomPageImpl&lt;?&gt;&gt; typeRef = ParameterizedTypeReferenceFactory.buildCustomPageReference(aClass);\n    String uriBuild = uriComponentsBuilder[0].toUriString();\n    ResponseEntity&lt;? extends CustomPageImpl&lt;?&gt;&gt; forEntity = testRestTemplate.exchange(uriBuild, HttpMethod.GET, null, typeRef);\n    this.responseEntityPage = forEntity;\n</code></pre>\n"}],"owner":{"account_id":2387662,"reputation":705,"user_id":2088282,"accept_rate":85,"display_name":"Giovanni Silva"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679790624,"creation_date":1677978498,"question_id":75639656,"body_markdown":"I want to reuse an cucumber assertion that verify if a spring Page of some type contains in any order an datatype. I was able to get it working with list, but not with generic Page\r\n\r\nMy code:\r\n\r\n```\r\nScenario: List all brands\r\n    Given I have brands in database\r\n      | id | name                          |\r\n      | 1  | brand name for list           |\r\n      | 2  | second brand for list         |\r\n    When I Set GET Brand Endpoint\r\n    When I Set First Page Params\r\n    When I send a GET HTTP request for a page of type com.kugelbit.mercado.estoque.domain.product.Brand\r\n    Then I receive a valid response code for page 200\r\n    Then I receive a valid response page of type com.kugelbit.mercado.estoque.domain.product.Brand\r\n      | id | name |\r\n      | 1  | brand name for list |\r\n      | 2  | second brand for list |\r\n```\r\n\r\n```java\r\n@When(&quot;^I send a GET HTTP request for a page of type ([^\\&quot;]*)$&quot;)\r\n  public void iSendAGetHTTPRequestForPageOfType(String type) throws ClassNotFoundException, InstantiationException, IllegalAccessException {\r\n    Class&lt;?&gt; aClass = Class.forName(type);\r\n    final UriComponentsBuilder[] uriComponentsBuilder = {UriComponentsBuilder.fromUriString(this.apiUrl)};\r\n    if(this.urlSearchParams != null) {\r\n      urlSearchParams.forEach((key, value) -&gt; {\r\n        uriComponentsBuilder[0] = uriComponentsBuilder[0].queryParam(key, URLEncoder.encode(value, StandardCharsets.UTF_8));\r\n      });\r\n    }\r\n\r\n    CustomPageImpl customPage = new CustomPageImpl(List.of(aClass.newInstance()));\r\n\r\n    String uriBuild = uriComponentsBuilder[0].toUriString();\r\n    ResponseEntity&lt;CustomPageImpl&lt;?&gt;&gt; forEntity = (ResponseEntity&lt;CustomPageImpl&lt;?&gt;&gt;) testRestTemplate.exchange(uriBuild, HttpMethod.GET, null, customPage.getClass());\r\n    this.responseEntityPage = forEntity;\r\n  }\r\n```\r\n\r\n\r\n```java\r\n@Then(&quot;^I receive a valid response page of type ([^\\&quot;]*)$&quot;)\r\n  public void iReceiveAValidResponsePageOfType(String type, DataTable dataTable) throws ClassNotFoundException {\r\n    Class&lt;?&gt; aClass = Class.forName(type);\r\n    List&lt;?&gt; expected = dataTable.asList(aClass);\r\n    Object[] body = responseEntityPage.getBody().getContent().toArray();\r\n    assertThat(body).containsExactlyInAnyOrderElementsOf(expected);\r\n  }\r\n```\r\n\r\nThe assertion is failing with the following:\r\n\r\n&gt; Step failed java.lang.AssertionError:  Expecting actual:   [{&quot;id&quot;=1,\r\n&gt; &quot;name&quot;=&quot;brand name for list&quot;},\r\n&gt;     {&quot;id&quot;=2, &quot;name&quot;=&quot;second brand for list&quot;}] to contain exactly in any order:   [Brand(id=1, name=brand name for list), Brand(id=2,\r\n&gt; name=second brand for list)] elements not found:   [Brand(id=1,\r\n&gt; name=brand name for list), Brand(id=2, name=second brand for list)]\r\n&gt; and elements not expected:   [{&quot;id&quot;=1, &quot;name&quot;=&quot;brand name for list&quot;},\r\n&gt;     {&quot;id&quot;=2, &quot;name&quot;=&quot;second brand for list&quot;}]\r\n\r\nWhich means that the expected is a list of type Brand which is correct I do have a DataTable conversion. The actual body has the same properties but is list of type Object\r\n\r\nI did think in two possible solutions:\r\n\r\n1. Find a way to make the request passing the correct generic type of Page\r\n2. Find another assertion that compares the contents of the objects in the array ignoring the type.\r\n\r\nNote.: My ```CustomPageImpl``` is from this answer: https://stackoverflow.com/a/54423639\r\n\r\nHere is a project with junit test to simulate the problem of assertion in a rest template generic page: https://github.com/giovannicandido/spring-test-generic-resttemplate-question\r\n","title":"How to instantiate a generic list type in cucumber for tests","body":"<p>I want to reuse an cucumber assertion that verify if a spring Page of some type contains in any order an datatype. I was able to get it working with list, but not with generic Page</p>\n<p>My code:</p>\n<pre><code>Scenario: List all brands\n    Given I have brands in database\n      | id | name                          |\n      | 1  | brand name for list           |\n      | 2  | second brand for list         |\n    When I Set GET Brand Endpoint\n    When I Set First Page Params\n    When I send a GET HTTP request for a page of type com.kugelbit.mercado.estoque.domain.product.Brand\n    Then I receive a valid response code for page 200\n    Then I receive a valid response page of type com.kugelbit.mercado.estoque.domain.product.Brand\n      | id | name |\n      | 1  | brand name for list |\n      | 2  | second brand for list |\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@When(&quot;^I send a GET HTTP request for a page of type ([^\\&quot;]*)$&quot;)\n  public void iSendAGetHTTPRequestForPageOfType(String type) throws ClassNotFoundException, InstantiationException, IllegalAccessException {\n    Class&lt;?&gt; aClass = Class.forName(type);\n    final UriComponentsBuilder[] uriComponentsBuilder = {UriComponentsBuilder.fromUriString(this.apiUrl)};\n    if(this.urlSearchParams != null) {\n      urlSearchParams.forEach((key, value) -&gt; {\n        uriComponentsBuilder[0] = uriComponentsBuilder[0].queryParam(key, URLEncoder.encode(value, StandardCharsets.UTF_8));\n      });\n    }\n\n    CustomPageImpl customPage = new CustomPageImpl(List.of(aClass.newInstance()));\n\n    String uriBuild = uriComponentsBuilder[0].toUriString();\n    ResponseEntity&lt;CustomPageImpl&lt;?&gt;&gt; forEntity = (ResponseEntity&lt;CustomPageImpl&lt;?&gt;&gt;) testRestTemplate.exchange(uriBuild, HttpMethod.GET, null, customPage.getClass());\n    this.responseEntityPage = forEntity;\n  }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Then(&quot;^I receive a valid response page of type ([^\\&quot;]*)$&quot;)\n  public void iReceiveAValidResponsePageOfType(String type, DataTable dataTable) throws ClassNotFoundException {\n    Class&lt;?&gt; aClass = Class.forName(type);\n    List&lt;?&gt; expected = dataTable.asList(aClass);\n    Object[] body = responseEntityPage.getBody().getContent().toArray();\n    assertThat(body).containsExactlyInAnyOrderElementsOf(expected);\n  }\n</code></pre>\n<p>The assertion is failing with the following:</p>\n<blockquote>\n<p>Step failed java.lang.AssertionError:  Expecting actual:   [{&quot;id&quot;=1,\n&quot;name&quot;=&quot;brand name for list&quot;},\n{&quot;id&quot;=2, &quot;name&quot;=&quot;second brand for list&quot;}] to contain exactly in any order:   [Brand(id=1, name=brand name for list), Brand(id=2,\nname=second brand for list)] elements not found:   [Brand(id=1,\nname=brand name for list), Brand(id=2, name=second brand for list)]\nand elements not expected:   [{&quot;id&quot;=1, &quot;name&quot;=&quot;brand name for list&quot;},\n{&quot;id&quot;=2, &quot;name&quot;=&quot;second brand for list&quot;}]</p>\n</blockquote>\n<p>Which means that the expected is a list of type Brand which is correct I do have a DataTable conversion. The actual body has the same properties but is list of type Object</p>\n<p>I did think in two possible solutions:</p>\n<ol>\n<li>Find a way to make the request passing the correct generic type of Page</li>\n<li>Find another assertion that compares the contents of the objects in the array ignoring the type.</li>\n</ol>\n<p>Note.: My <code>CustomPageImpl</code> is from this answer: <a href=\"https://stackoverflow.com/a/54423639\">https://stackoverflow.com/a/54423639</a></p>\n<p>Here is a project with junit test to simulate the problem of assertion in a rest template generic page: <a href=\"https://github.com/giovannicandido/spring-test-generic-resttemplate-question\" rel=\"nofollow noreferrer\">https://github.com/giovannicandido/spring-test-generic-resttemplate-question</a></p>\n"},{"tags":["java","servlets","servlet-3.0"],"answers":[{"tags":[],"owner":{"account_id":9025175,"reputation":27,"user_id":6724705,"display_name":"Sudarshan Nagre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679401123,"creation_date":1679401123,"answer_id":75801117,"question_id":75800367,"body_markdown":"Use the below approach.\r\n\r\nInstead of retrieving the object of &#39;RequestDispatcher&#39; from getServletContext(), retrieve the same object from the HttpServletRequest like -   \r\n\r\n    RequestDispatcher rd = request.getRequestDispatcher(&quot;/forgotpassword.jsp&quot;);\r\n        \r\n    rd.include(request, response);","title":"Request Dispatcher is not include is not executing file but showing Its source code","body":"<p>Use the below approach.</p>\n<p>Instead of retrieving the object of 'RequestDispatcher' from getServletContext(), retrieve the same object from the HttpServletRequest like -</p>\n<pre><code>RequestDispatcher rd = request.getRequestDispatcher(&quot;/forgotpassword.jsp&quot;);\n    \nrd.include(request, response);\n</code></pre>\n"}],"owner":{"account_id":27500695,"reputation":1,"user_id":20984462,"display_name":"Diana "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679790267,"creation_date":1679396616,"question_id":75800367,"body_markdown":"```\r\nClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n            Connection con=DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/mysql&quot;,&quot;root&quot;,&quot;12345&quot;);\r\n            Statement st =con.createStatement();\r\n            String mi = &quot;select * from empinfo where EEmailID = &#39;&quot;+email+&quot;&#39;&quot;;\r\n            \r\n            ResultSet rs = st.executeQuery(mi);\r\n            if(rs.next()) {\r\n            if(email.equals(rs.getString(&quot;EEMailID&quot;))){\r\n                 // Generate a random OTP\r\n        Random random = new Random();\r\n        int otp = 100000 + random.nextInt(900000);\r\n\r\n        // Send OTP through email Calling Function\r\n        sendEmail(otp, email);\r\n\r\n        // Store OTP in the session for Verification\r\n        HttpSession session = request.getSession();\r\n        session.setAttribute(&quot;OTP&quot;, Integer.toString(otp));\r\n        session.setAttribute(&quot;eemail&quot;,email);\r\n\r\n        // Redirect the user to the OTP verification page\r\n        response.sendRedirect(&quot;otp.jsp&quot;);\r\n            }}\r\n            else{\r\n                out.println(&quot;Enter Registered Email Id only&quot;);\r\n                RequestDispatcher dis= getServletContext().getRequestDispatcher(&quot;/forgotpassword.jsp&quot;);\r\n                dis.include(request, response);\r\n                }\r\n```\r\n\r\n\r\nIt is showing this in the output:-\r\n\r\nEnter Registered Email Id only\r\n\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n        &lt;link href=&quot;bootstrap-4.0.0-dist/css/bootstrap.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;/&gt;\r\n        &lt;link href=&quot;bootstrap-4.0.0-dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;/&gt;\r\n        &lt;title&gt;JSP Page&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n       \r\n        &lt;center&gt;\r\n        &lt;form action=&quot;OTPLoginServlet&quot; method=&quot;post&quot;&gt;\r\n            &lt;label for=&quot;email&quot;&gt;Email:&lt;/label&gt;\r\n            &lt;input type=&quot;email&quot; id=&quot;email&quot; name=&quot;email&quot;&gt;&lt;br&gt;&lt;br&gt;\r\n            &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\r\n        &lt;/form&gt;\r\n    &lt;/center&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nabove is the code present in forgotpassword.jsp that is not executing but only showing it.\r\nSo, what can I do to solve this error?","title":"Request Dispatcher is not include is not executing file but showing Its source code","body":"<pre><code>Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n            Connection con=DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/mysql&quot;,&quot;root&quot;,&quot;12345&quot;);\n            Statement st =con.createStatement();\n            String mi = &quot;select * from empinfo where EEmailID = '&quot;+email+&quot;'&quot;;\n            \n            ResultSet rs = st.executeQuery(mi);\n            if(rs.next()) {\n            if(email.equals(rs.getString(&quot;EEMailID&quot;))){\n                 // Generate a random OTP\n        Random random = new Random();\n        int otp = 100000 + random.nextInt(900000);\n\n        // Send OTP through email Calling Function\n        sendEmail(otp, email);\n\n        // Store OTP in the session for Verification\n        HttpSession session = request.getSession();\n        session.setAttribute(&quot;OTP&quot;, Integer.toString(otp));\n        session.setAttribute(&quot;eemail&quot;,email);\n\n        // Redirect the user to the OTP verification page\n        response.sendRedirect(&quot;otp.jsp&quot;);\n            }}\n            else{\n                out.println(&quot;Enter Registered Email Id only&quot;);\n                RequestDispatcher dis= getServletContext().getRequestDispatcher(&quot;/forgotpassword.jsp&quot;);\n                dis.include(request, response);\n                }\n</code></pre>\n<p>It is showing this in the output:-</p>\n<p>Enter Registered Email Id only</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n        &lt;link href=&quot;bootstrap-4.0.0-dist/css/bootstrap.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;/&gt;\n        &lt;link href=&quot;bootstrap-4.0.0-dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;/&gt;\n        &lt;title&gt;JSP Page&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n       \n        &lt;center&gt;\n        &lt;form action=&quot;OTPLoginServlet&quot; method=&quot;post&quot;&gt;\n            &lt;label for=&quot;email&quot;&gt;Email:&lt;/label&gt;\n            &lt;input type=&quot;email&quot; id=&quot;email&quot; name=&quot;email&quot;&gt;&lt;br&gt;&lt;br&gt;\n            &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\n        &lt;/form&gt;\n    &lt;/center&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>above is the code present in forgotpassword.jsp that is not executing but only showing it.\nSo, what can I do to solve this error?</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3","aws-s3-client"],"comments":[{"owner":{"account_id":11434115,"reputation":2221,"user_id":8382028,"display_name":"ViaTech"},"score":1,"creation_date":1679769951,"post_id":75843819,"comment_id":133781611,"body_markdown":"Write the file to memory and then upload the stream...or delete the local file after each upload competes...I&#39;m kind of confused by this question. &quot;So is there a way to write the data directly to a file and upload it to S3 without being stored anywhere.&quot; ---Both methods above do this and are pretty standard","body":"Write the file to memory and then upload the stream...or delete the local file after each upload competes...I&#39;m kind of confused by this question. &quot;So is there a way to write the data directly to a file and upload it to S3 without being stored anywhere.&quot; ---Both methods above do this and are pretty standard"},{"owner":{"account_id":10594606,"reputation":3598,"user_id":7803797,"display_name":"Chaitanya"},"score":0,"creation_date":1679770496,"post_id":75843819,"comment_id":133781686,"body_markdown":"Does this answer your question? [Upload multipart file to AWS without saving it locally](https://stackoverflow.com/questions/50248710/upload-multipart-file-to-aws-without-saving-it-locally)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/50248710/upload-multipart-file-to-aws-without-saving-it-locally\">Upload multipart file to AWS without saving it locally</a>"},{"owner":{"account_id":11282308,"reputation":49,"user_id":8274248,"accept_rate":50,"display_name":"vyas"},"score":0,"creation_date":1679771128,"post_id":75843819,"comment_id":133781773,"body_markdown":"@Chaitanya This is fine, if i use Multipart File, but i need to write my data to multipartFile, how will it be possible. If you see my code above, i have a file name and json, i need to write that json by creating a file with file name and then upload that to S3","body":"@Chaitanya This is fine, if i use Multipart File, but i need to write my data to multipartFile, how will it be possible. If you see my code above, i have a file name and json, i need to write that json by creating a file with file name and then upload that to S3"},{"owner":{"account_id":11282308,"reputation":49,"user_id":8274248,"accept_rate":50,"display_name":"vyas"},"score":0,"creation_date":1679771604,"post_id":75843819,"comment_id":133781849,"body_markdown":"@ViaTech writing millions of files to a memory and then again deleting all those files after uploading to S3 will consume lots of time. So is there a way to upload the data by creating a file with the desired fileName directly in S3 bucket, without storing it anywhere","body":"@ViaTech writing millions of files to a memory and then again deleting all those files after uploading to S3 will consume lots of time. So is there a way to upload the data by creating a file with the desired fileName directly in S3 bucket, without storing it anywhere"},{"owner":{"account_id":11434115,"reputation":2221,"user_id":8382028,"display_name":"ViaTech"},"score":0,"creation_date":1679782788,"post_id":75843819,"comment_id":133783287,"body_markdown":"@vyas yes, as stated in my intial comment...a stream would be that way","body":"@vyas yes, as stated in my intial comment...a stream would be that way"}],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679788569,"creation_date":1679788569,"answer_id":75845190,"question_id":75843819,"body_markdown":"Here is the [AWS SDK for Java V2][1] code to upload an object using a **byte[]**:\r\n\r\n     private S3Client getClient() {\r\n            return S3Client.builder()\r\n                .region(PhotoApplicationResources.REGION)\r\n                .build();\r\n        }\r\n    \r\n    public void putObject(byte[] data, String bucketName, String objectKey) {\r\n            S3Client s3 = getClient();\r\n            try {\r\n                s3.putObject(PutObjectRequest.builder()\r\n                        .bucket(bucketName)\r\n                        .key(objectKey)\r\n                        .build(),\r\n                    RequestBody.fromBytes(data));\r\n            } catch (S3Exception e) {\r\n                System.err.println(e.getMessage());\r\n                e.printStackTrace();\r\n                throw e;\r\n            }\r\n        }\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html","title":"Hi, Iam working on a Java Code to upload Files into S3 bucket. But instead of uploading a file to S3, i need to write some data into a file name in S3","body":"<p>Here is the <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html\" rel=\"nofollow noreferrer\">AWS SDK for Java V2</a> code to upload an object using a <strong>byte[]</strong>:</p>\n<pre><code> private S3Client getClient() {\n        return S3Client.builder()\n            .region(PhotoApplicationResources.REGION)\n            .build();\n    }\n\npublic void putObject(byte[] data, String bucketName, String objectKey) {\n        S3Client s3 = getClient();\n        try {\n            s3.putObject(PutObjectRequest.builder()\n                    .bucket(bucketName)\n                    .key(objectKey)\n                    .build(),\n                RequestBody.fromBytes(data));\n        } catch (S3Exception e) {\n            System.err.println(e.getMessage());\n            e.printStackTrace();\n            throw e;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":11282308,"reputation":49,"user_id":8274248,"accept_rate":50,"display_name":"vyas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":557,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679788569,"creation_date":1679769776,"question_id":75843819,"body_markdown":"I am using aws-java-sdk-s3 dependency to use S3 libraries in my spring Boot App. I have written some demo code to upload a file to S3 bucket\r\n\r\n    upload(bucketName, key, fileName, s3client);\r\n\r\nBut my scenario is different, i am getting some data from DataBase and i need to write this data to a fileName and upload this file to S3 bucket, How to achieve this using AmazonS3. Below is my code i tried to do. Iam just skipping the S3 client creation here to make it simple\r\n\r\n    public void upload(String fileName,String folderName, List&lt;Map&lt;String,Object&gt;&gt; jsonData){\r\n     String bucketName= “myBucketName”;\r\n     String toFile = folderName + “/” + fileName;\r\n     FileOutputStream os = null; \r\n     try{\r\n    os = new FileOutputStream(fileName);\r\n    byte[] strToByte = jsonData.getBytes();\r\n    os.write(strToByte);\r\n    client.putObject(new PutObjectRequest(bucketName, toFile, new File(fileName)));\r\n        }catch(IOException e){\r\n    Log.error(e.getMessage);\r\n       }finally{\r\n    os.close();\r\n    }\r\n     }\r\n\r\nThis code is working fine, but a local copy of this file is creating in my local machine and that file is being uploaded to S3 bucket. Like this i have millions of files. I cannot store all of these in local System. So is there a way to write the data directly to a file and upload it to S3 without being stored anywhere.\r\n\r\n\r\n   ","title":"Hi, Iam working on a Java Code to upload Files into S3 bucket. But instead of uploading a file to S3, i need to write some data into a file name in S3","body":"<p>I am using aws-java-sdk-s3 dependency to use S3 libraries in my spring Boot App. I have written some demo code to upload a file to S3 bucket</p>\n<pre><code>upload(bucketName, key, fileName, s3client);\n</code></pre>\n<p>But my scenario is different, i am getting some data from DataBase and i need to write this data to a fileName and upload this file to S3 bucket, How to achieve this using AmazonS3. Below is my code i tried to do. Iam just skipping the S3 client creation here to make it simple</p>\n<pre><code>public void upload(String fileName,String folderName, List&lt;Map&lt;String,Object&gt;&gt; jsonData){\n String bucketName= “myBucketName”;\n String toFile = folderName + “/” + fileName;\n FileOutputStream os = null; \n try{\nos = new FileOutputStream(fileName);\nbyte[] strToByte = jsonData.getBytes();\nos.write(strToByte);\nclient.putObject(new PutObjectRequest(bucketName, toFile, new File(fileName)));\n    }catch(IOException e){\nLog.error(e.getMessage);\n   }finally{\nos.close();\n}\n }\n</code></pre>\n<p>This code is working fine, but a local copy of this file is creating in my local machine and that file is being uploaded to S3 bucket. Like this i have millions of files. I cannot store all of these in local System. So is there a way to write the data directly to a file and upload it to S3 without being stored anywhere.</p>\n"},{"tags":["java","encoding","inputstream"],"comments":[{"owner":{"account_id":1506070,"reputation":1020,"user_id":1409408,"accept_rate":93,"display_name":"David"},"score":1,"creation_date":1467811605,"post_id":38224818,"comment_id":63872289,"body_markdown":"Not a fix for your code, but can you copy out the code into a new standalone program and run it with test data you know causes problems? You can then add debug output to find out exactly what is happening. You may find something is going wrong elsewhere. Make sure the input and output are exactly as expected.","body":"Not a fix for your code, but can you copy out the code into a new standalone program and run it with test data you know causes problems? You can then add debug output to find out exactly what is happening. You may find something is going wrong elsewhere. Make sure the input and output are exactly as expected."},{"owner":{"account_id":2562129,"reputation":5879,"user_id":2223059,"accept_rate":38,"display_name":"craigmiller160"},"score":0,"creation_date":1467909950,"post_id":38224818,"comment_id":63923024,"body_markdown":"Tried that. Didn&#39;t really get anywhere. Thanks for the idea though.","body":"Tried that. Didn&#39;t really get anywhere. Thanks for the idea though."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1467814620,"creation_date":1467814620,"answer_id":38226308,"question_id":38224818,"body_markdown":"With XML there are minor problems: In the first line `&lt;?xml ... ?&gt;` specifies an encoding or defaults to UTF-8. Hence often XML is read as InputStream (binary) and left to the XML parser to find out the encoding.\r\n\r\nWhen writing XML, one may assume to have it say in a String. When writing the encoding from that `&lt;?xml ... ?&gt;` should be used in an `new OutputStreamWriter(ouputStream, encoding)`.\r\n\r\nBinary input and output XMLs must be tested for their encoding, in a programmer&#39;s editor like JEdit or Notepad++, that handles encodings.\r\n\r\nIF you want to read the text immediately in the right encoding: I did a search for XMLInputStreamReader and found some. But all your Reader class needs to do: buffer the first bytes in an ByteArrayOutputStream, till the `&lt;?xml encoding=...?&gt;` is handled, and then do an InputStreamReader.\r\n","title":"Java: InputStreamReader character encoding needs to be run twice","body":"<p>With XML there are minor problems: In the first line <code>&lt;?xml ... ?&gt;</code> specifies an encoding or defaults to UTF-8. Hence often XML is read as InputStream (binary) and left to the XML parser to find out the encoding.</p>\n\n<p>When writing XML, one may assume to have it say in a String. When writing the encoding from that <code>&lt;?xml ... ?&gt;</code> should be used in an <code>new OutputStreamWriter(ouputStream, encoding)</code>.</p>\n\n<p>Binary input and output XMLs must be tested for their encoding, in a programmer's editor like JEdit or Notepad++, that handles encodings.</p>\n\n<p>IF you want to read the text immediately in the right encoding: I did a search for XMLInputStreamReader and found some. But all your Reader class needs to do: buffer the first bytes in an ByteArrayOutputStream, till the <code>&lt;?xml encoding=...?&gt;</code> is handled, and then do an InputStreamReader.</p>\n"}],"owner":{"account_id":2562129,"reputation":5879,"user_id":2223059,"accept_rate":38,"display_name":"craigmiller160"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679788429,"creation_date":1467810396,"question_id":38224818,"body_markdown":"My company does a lot of work with XML transformations with clients all over the world. As such, we do at times encounter character encoding issues. We have a component of our application which is designed to normalize an InputStream to a specific character encoding. It works well... but with a catch.\r\n\r\nIn some cases, we need to run it twice. For the life of me I can&#39;t tell you why, I&#39;ve been trying to hard to figure out what is causing it, and I come up with nothing. It just seems that there are some files where when it runs the first time, it doesn&#39;t make it right, but when it runs the second time everything is finally good.\r\n\r\nHere is the code that does the encoding (assume that the &quot;encoding&quot; variable is &quot;UTF-8&quot;, it usually is):\r\n\r\n    char[] buffer = new char[getBufferSize()];\r\n    String encoding = getEncoding();\r\n    \r\n    Cache fileCache = getFileCache();\r\n    \r\n    try (InputStreamReader reader = new InputStreamReader(data.getDataStream(), encoding); Writer writer = fileCache.getWriter(encoding)) {\r\n    \tint charsRead;\r\n    \twhile ((charsRead = reader.read(buffer)) != -1) {\r\n    \t\twriter.write(buffer, 0, charsRead);\r\n    \t}\r\n    \tdata.setDataStream(fileCache.getInputStream());\r\n    } catch(IOException ex) {\r\n    \tthrow new Exception(String.format(&quot;Unable to normalize stream for %s encoding&quot;, encoding), ex);\r\n    }\r\n\r\nSo, sometimes this code needs to be run twice to make a stream behave with the specified encoding properly.\r\n\r\nI want to make it run better on the first try.\r\n\r\n1) What possible causes could there be for this issue?\r\n\r\n2) Is there any way to improve this code to make the &quot;stream normalization&quot; (as we call it) more effective?\r\n\r\n3) Other than using InputStreamReader, what alternative methods of fixing stream encoding are there that might work better?\r\n","title":"Java: InputStreamReader character encoding needs to be run twice","body":"<p>My company does a lot of work with XML transformations with clients all over the world. As such, we do at times encounter character encoding issues. We have a component of our application which is designed to normalize an InputStream to a specific character encoding. It works well... but with a catch.</p>\n<p>In some cases, we need to run it twice. For the life of me I can't tell you why, I've been trying to hard to figure out what is causing it, and I come up with nothing. It just seems that there are some files where when it runs the first time, it doesn't make it right, but when it runs the second time everything is finally good.</p>\n<p>Here is the code that does the encoding (assume that the &quot;encoding&quot; variable is &quot;UTF-8&quot;, it usually is):</p>\n<pre><code>char[] buffer = new char[getBufferSize()];\nString encoding = getEncoding();\n\nCache fileCache = getFileCache();\n\ntry (InputStreamReader reader = new InputStreamReader(data.getDataStream(), encoding); Writer writer = fileCache.getWriter(encoding)) {\n    int charsRead;\n    while ((charsRead = reader.read(buffer)) != -1) {\n        writer.write(buffer, 0, charsRead);\n    }\n    data.setDataStream(fileCache.getInputStream());\n} catch(IOException ex) {\n    throw new Exception(String.format(&quot;Unable to normalize stream for %s encoding&quot;, encoding), ex);\n}\n</code></pre>\n<p>So, sometimes this code needs to be run twice to make a stream behave with the specified encoding properly.</p>\n<p>I want to make it run better on the first try.</p>\n<ol>\n<li><p>What possible causes could there be for this issue?</p>\n</li>\n<li><p>Is there any way to improve this code to make the &quot;stream normalization&quot; (as we call it) more effective?</p>\n</li>\n<li><p>Other than using InputStreamReader, what alternative methods of fixing stream encoding are there that might work better?</p>\n</li>\n</ol>\n"},{"tags":["java","spring-boot","gradle","heroku","heroku-postgres"],"comments":[{"owner":{"account_id":14583346,"reputation":863,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"score":0,"creation_date":1679904121,"post_id":75845083,"comment_id":133797794,"body_markdown":"Which command do you use to build the application?","body":"Which command do you use to build the application?"},{"owner":{"account_id":16773930,"reputation":1518,"user_id":12125755,"display_name":"NeverSleeps"},"score":0,"creation_date":1679916234,"post_id":75845083,"comment_id":133800806,"body_markdown":"locally: standard `clean build`. But for heroku, I don&#39;t know where to set it","body":"locally: standard <code>clean build</code>. But for heroku, I don&#39;t know where to set it"},{"owner":{"account_id":14583346,"reputation":863,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"score":0,"creation_date":1679964784,"post_id":75845083,"comment_id":133812042,"body_markdown":"Most probably `build/libs/*.jar` will have two jars, one plain. Did you check the directory content?","body":"Most probably <code>build&#47;libs&#47;*.jar</code> will have two jars, one plain. Did you check the directory content?"}],"owner":{"account_id":16773930,"reputation":1518,"user_id":12125755,"display_name":"NeverSleeps"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679786712,"creation_date":1679786712,"question_id":75845083,"body_markdown":"I have created a simple repository which has two functions:\r\n1. Greets the user.\r\n2. Asks for a username, saves it to the `postgresql` database, greets the user by this name.\r\n\r\nWhen I test my application locally, it works correctly. But when I try to deploy it to Heroku, I get these errors:\r\n\r\n\r\n\r\n    heroku[web.1]: Starting process with command java -Dserver.port=11441 $JAVA_OPTS -jar build/libs/*.jar\r\n    app[web.1]: Setting JAVA_TOOL_OPTIONS defaults based on dyno size. Custom settings will override them.\r\n    app[web.1]: Picked up JAVA_TOOL_OPTIONS: -XX:+UseContainerSupport -Xmx300m -Xss512k -XX:CICompilerCount=2 -Dfile.encoding=UTF-8 \r\n    app[web.1]: Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/boot/SpringApplication\r\n    app[web.1]: \tat com.pro.library.Application.main(Application.java:10)\r\n    app[web.1]: Caused by: java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication\r\n    app[web.1]: \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n    app[web.1]: \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    app[web.1]: \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\r\n\r\nI have a feeling that the error is related to the creation of the jar, but I do not understand how to solve it. I have already looked at a bunch of articles on how to deploy to heroku, but so far this has not helped to identify my problem.\r\n\r\n\r\nmy Procfile:\r\n```\r\nweb: java -Dserver.port=$PORT $JAVA_OPTS -jar build/libs/*.jar\r\n```\r\n\r\nmy building.gradle.kts:\r\n```kotlin\r\nplugins {\r\n    java\r\n    id(&quot;org.springframework.boot&quot;) version &quot;2.7.1&quot;\r\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.1.0&quot;\r\n}\r\n\r\nversion = &quot;0.0.1&quot;\r\njava.sourceCompatibility = JavaVersion.VERSION_11\r\n\r\nconfigurations {\r\n    compileOnly {\r\n        extendsFrom(configurations.annotationProcessor.get())\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    maven { url = uri(&quot;https://repo.spring.io/milestone&quot;) }\r\n    maven { url = uri(&quot;https://repo.spring.io/snapshot&quot;) }\r\n}\r\n\r\ndependencies {\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa:2.7.9&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web:2.7.9&quot;)\r\n\r\n    compileOnly(&quot;org.projectlombok:lombok:1.18.26&quot;)\r\n    annotationProcessor(&quot;org.projectlombok:lombok:1.18.26&quot;)\r\n    implementation(&quot;org.mapstruct:mapstruct:1.5.3.Final&quot;)\r\n    annotationProcessor(&quot;org.mapstruct:mapstruct-processor:1.5.3.Final&quot;)\r\n\r\n    implementation(&quot;org.postgresql:postgresql:42.5.4&quot;)\r\n    implementation(&quot;org.flywaydb:flyway-core:8.5.13&quot;)\r\n    implementation(&quot;com.vladmihalcea:hibernate-types-52:2.20.0&quot;)\r\n\r\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test:2.7.9&quot;)\r\n    testImplementation(&quot;org.testcontainers:testcontainers:1.17.6&quot;)\r\n    testImplementation(&quot;org.testcontainers:postgresql:1.17.6&quot;)\r\n}\r\n\r\ntasks.withType&lt;Test&gt; {\r\n    useJUnitPlatform()\r\n}\r\n\r\ntasks.jar {\r\n    manifest {\r\n        attributes(\r\n            &quot;Main-Class&quot; to &quot;com.pro.library.Application&quot;,\r\n        )\r\n    }\r\n}\r\n\r\n```\r\n\r\nMy Application.java\r\n```java\r\n@SpringBootApplication\r\npublic class Application {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Application.class, args);\r\n\t}\r\n}\r\n```","title":"&quot;ClassNotFoundException: org.springframework.boot.SpringApplication&quot; for Deploy Spring Boot app to Heroku","body":"<p>I have created a simple repository which has two functions:</p>\n<ol>\n<li>Greets the user.</li>\n<li>Asks for a username, saves it to the <code>postgresql</code> database, greets the user by this name.</li>\n</ol>\n<p>When I test my application locally, it works correctly. But when I try to deploy it to Heroku, I get these errors:</p>\n<pre><code>heroku[web.1]: Starting process with command java -Dserver.port=11441 $JAVA_OPTS -jar build/libs/*.jar\napp[web.1]: Setting JAVA_TOOL_OPTIONS defaults based on dyno size. Custom settings will override them.\napp[web.1]: Picked up JAVA_TOOL_OPTIONS: -XX:+UseContainerSupport -Xmx300m -Xss512k -XX:CICompilerCount=2 -Dfile.encoding=UTF-8 \napp[web.1]: Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/boot/SpringApplication\napp[web.1]:     at com.pro.library.Application.main(Application.java:10)\napp[web.1]: Caused by: java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication\napp[web.1]:     at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\napp[web.1]:     at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\napp[web.1]:     at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n</code></pre>\n<p>I have a feeling that the error is related to the creation of the jar, but I do not understand how to solve it. I have already looked at a bunch of articles on how to deploy to heroku, but so far this has not helped to identify my problem.</p>\n<p>my Procfile:</p>\n<pre><code>web: java -Dserver.port=$PORT $JAVA_OPTS -jar build/libs/*.jar\n</code></pre>\n<p>my building.gradle.kts:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>plugins {\n    java\n    id(&quot;org.springframework.boot&quot;) version &quot;2.7.1&quot;\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.1.0&quot;\n}\n\nversion = &quot;0.0.1&quot;\njava.sourceCompatibility = JavaVersion.VERSION_11\n\nconfigurations {\n    compileOnly {\n        extendsFrom(configurations.annotationProcessor.get())\n    }\n}\n\nrepositories {\n    mavenCentral()\n    maven { url = uri(&quot;https://repo.spring.io/milestone&quot;) }\n    maven { url = uri(&quot;https://repo.spring.io/snapshot&quot;) }\n}\n\ndependencies {\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa:2.7.9&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web:2.7.9&quot;)\n\n    compileOnly(&quot;org.projectlombok:lombok:1.18.26&quot;)\n    annotationProcessor(&quot;org.projectlombok:lombok:1.18.26&quot;)\n    implementation(&quot;org.mapstruct:mapstruct:1.5.3.Final&quot;)\n    annotationProcessor(&quot;org.mapstruct:mapstruct-processor:1.5.3.Final&quot;)\n\n    implementation(&quot;org.postgresql:postgresql:42.5.4&quot;)\n    implementation(&quot;org.flywaydb:flyway-core:8.5.13&quot;)\n    implementation(&quot;com.vladmihalcea:hibernate-types-52:2.20.0&quot;)\n\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test:2.7.9&quot;)\n    testImplementation(&quot;org.testcontainers:testcontainers:1.17.6&quot;)\n    testImplementation(&quot;org.testcontainers:postgresql:1.17.6&quot;)\n}\n\ntasks.withType&lt;Test&gt; {\n    useJUnitPlatform()\n}\n\ntasks.jar {\n    manifest {\n        attributes(\n            &quot;Main-Class&quot; to &quot;com.pro.library.Application&quot;,\n        )\n    }\n}\n\n</code></pre>\n<p>My Application.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class Application {\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679786700,"creation_date":1679786700,"answer_id":75845082,"question_id":75833567,"body_markdown":"I know 2 options:\r\n\r\n1: adding custom method\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public abstract class BookRequestMapper {\r\n    \r\n        @Autowired\r\n        protected UserRepository userRepository;\r\n\r\n        @Mapping(target = &quot;user&quot;, source = &quot;dto.userId&quot;, qualifiedByName = &quot;mapUser&quot;)\r\n        public abstract Book toEntity(BookRequest dto);\r\n\r\n        @Named(&quot;mapUser&quot;) \r\n        protected User mapUser(Long userId){\r\n            return userRepository.getReferenceById(userId);\r\n        }\r\n \r\n    }\r\n\r\n- Official documentation: [adding-custom-methods][1]\r\n- Baeldung tutorial: [mapstruct-custom-mapper][2]\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#adding-custom-methods\r\n  [2]: https://www.baeldung.com/mapstruct-custom-mapper\r\n\r\n\r\n2: usign expression\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public abstract class BookRequestMapper {\r\n    \r\n        @Autowired\r\n        protected UserRepository userRepository;\r\n\r\n        @Mapping(target = &quot;user&quot;, expression = &quot;java(userRepository.getReferenceById(dto.getUserId()))&quot;)\r\n        public abstract Book toEntity(BookRequest dto);\r\n\r\n    }\r\n\r\n- Official documentation: [Mapping expression documentation][1]\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#expressions","title":"How to map FK field in MapStruct?","body":"<p>I know 2 options:</p>\n<p>1: adding custom method</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic abstract class BookRequestMapper {\n\n    @Autowired\n    protected UserRepository userRepository;\n\n    @Mapping(target = &quot;user&quot;, source = &quot;dto.userId&quot;, qualifiedByName = &quot;mapUser&quot;)\n    public abstract Book toEntity(BookRequest dto);\n\n    @Named(&quot;mapUser&quot;) \n    protected User mapUser(Long userId){\n        return userRepository.getReferenceById(userId);\n    }\n\n}\n</code></pre>\n<ul>\n<li>Official documentation: <a href=\"https://mapstruct.org/documentation/stable/reference/html/#adding-custom-methods\" rel=\"nofollow noreferrer\">adding-custom-methods</a></li>\n<li>Baeldung tutorial: <a href=\"https://www.baeldung.com/mapstruct-custom-mapper\" rel=\"nofollow noreferrer\">mapstruct-custom-mapper</a></li>\n</ul>\n<p>2: usign expression</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic abstract class BookRequestMapper {\n\n    @Autowired\n    protected UserRepository userRepository;\n\n    @Mapping(target = &quot;user&quot;, expression = &quot;java(userRepository.getReferenceById(dto.getUserId()))&quot;)\n    public abstract Book toEntity(BookRequest dto);\n\n}\n</code></pre>\n<ul>\n<li>Official documentation: <a href=\"https://mapstruct.org/documentation/stable/reference/html/#adding-custom-methods\" rel=\"nofollow noreferrer\">Mapping expression documentation</a></li>\n</ul>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679786700,"creation_date":1679660314,"question_id":75833567,"body_markdown":"I have the following entities:\r\n\r\n```\r\n@Entity\r\npublic class Book {\r\n\r\n    @Id\r\n    private Long id;\r\n\r\n    // other fields\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private User user;\r\n}\r\n```\r\n\r\n\r\n&lt;br/&gt;\r\n\r\n```\r\n@Entity\r\npublic class User {\r\n\r\n    @Id\r\n    private Long id;\r\n\r\n    // other fields\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\r\n    private Set&lt;Book&gt; books = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\nWhen I save a book, first I map the `BookRequest` fields using MapStruct and then I set the user field of the entity returned from mapper as shown below. \r\n\r\n```\r\npublic void create(BookRequest request) {\r\n    final Book book = bookRequestMapper.toEntity(request);\r\n\r\n    // here I set the User field of the Book \r\n    book.setUser(userRepository.getReferenceById(request.getUserId()));\r\n    bookRepository.save(book);\r\n}\r\n```\r\n\r\nHowever, I am wondering if this is a proper way or can I map the user in the mapper. So, how should I map the user in this scenario? Here is my mapper:\r\n\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface BookRequestMapper {\r\n\r\n    Book toEntity(BookRequest dto);\r\n}\r\n```\r\n\r\n","title":"How to map FK field in MapStruct?","body":"<p>I have the following entities:</p>\n<pre><code>@Entity\npublic class Book {\n\n    @Id\n    private Long id;\n\n    // other fields\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\n    private User user;\n}\n</code></pre>\n<br/>\n<pre><code>@Entity\npublic class User {\n\n    @Id\n    private Long id;\n\n    // other fields\n\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\n    private Set&lt;Book&gt; books = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>When I save a book, first I map the <code>BookRequest</code> fields using MapStruct and then I set the user field of the entity returned from mapper as shown below.</p>\n<pre><code>public void create(BookRequest request) {\n    final Book book = bookRequestMapper.toEntity(request);\n\n    // here I set the User field of the Book \n    book.setUser(userRepository.getReferenceById(request.getUserId()));\n    bookRepository.save(book);\n}\n</code></pre>\n<p>However, I am wondering if this is a proper way or can I map the user in the mapper. So, how should I map the user in this scenario? Here is my mapper:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface BookRequestMapper {\n\n    Book toEntity(BookRequest dto);\n}\n</code></pre>\n"},{"tags":["java","android","asynchronous","android-asynctask"],"answers":[{"tags":[],"owner":{"account_id":276236,"reputation":18430,"user_id":569558,"accept_rate":93,"display_name":"sdabet"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1358411632,"creation_date":1358411632,"answer_id":14374964,"question_id":14374682,"body_markdown":"In general I would recommend the static implementation (though both are acceptable).\r\n\r\nThe Google approach will require less code but your asynctask will be tightly coupled with your actitivy (which means not easily reusable). But sometimes this approach is more readable.\r\n\r\nWith the CommonsGuy approach, it will require more effort (and more code) to decouple activity and asynctask, but in the end you will have a more modular, more reusable code.","title":"What&#39;s the correct way to implement AsyncTask? static or non static nested class?","body":"<p>In general I would recommend the static implementation (though both are acceptable).</p>\n\n<p>The Google approach will require less code but your asynctask will be tightly coupled with your actitivy (which means not easily reusable). But sometimes this approach is more readable.</p>\n\n<p>With the CommonsGuy approach, it will require more effort (and more code) to decouple activity and asynctask, but in the end you will have a more modular, more reusable code.</p>\n"},{"tags":[],"owner":{"account_id":1932421,"reputation":72673,"user_id":1741542,"accept_rate":75,"display_name":"Olaf Dietsche"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1358413266,"creation_date":1358412687,"answer_id":14375206,"question_id":14374682,"body_markdown":"The linked article already says it \r\n\r\n&gt; This does emphasize, though, that you want doInBackground() of your AsyncTask to be completely decoupled from the Activity. If you only touch your Activity on the main application thread, your AsyncTask can survive the orientation change intact.\r\n\r\nDon&#39;t touch the Activity (e.g. its members) from the `AsyncTask`, which is in line with [Static Nested Classes](http://docs.oracle.com/javase/tutorial/java/javaOO/nested.html) \r\n\r\n&gt; **Static Nested Classes**  \r\nAs with class methods and variables, a static nested class is associated with its outer class. And like static class methods, a static nested class cannot refer directly to instance variables or methods defined in its enclosing class — it can use them only through an object reference.\r\n\r\nAlthough, the examples from Android, [AsyncTask reference](http://developer.android.com/reference/android/os/AsyncTask.html) and [Using AsyncTask](http://developer.android.com/guide/components/processes-and-threads.html#AsyncTask) are still using non-static nested classes.\r\n\r\nAnd according to this https://stackoverflow.com/q/253492/1741542, I would first go with the *static* inner class and resort to the non-static version only, if it is really necessary.","title":"What&#39;s the correct way to implement AsyncTask? static or non static nested class?","body":"<p>The linked article already says it </p>\n\n<blockquote>\n  <p>This does emphasize, though, that you want doInBackground() of your AsyncTask to be completely decoupled from the Activity. If you only touch your Activity on the main application thread, your AsyncTask can survive the orientation change intact.</p>\n</blockquote>\n\n<p>Don't touch the Activity (e.g. its members) from the <code>AsyncTask</code>, which is in line with <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/nested.html\" rel=\"nofollow noreferrer\">Static Nested Classes</a> </p>\n\n<blockquote>\n  <p><strong>Static Nested Classes</strong><br>\n  As with class methods and variables, a static nested class is associated with its outer class. And like static class methods, a static nested class cannot refer directly to instance variables or methods defined in its enclosing class — it can use them only through an object reference.</p>\n</blockquote>\n\n<p>Although, the examples from Android, <a href=\"http://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"nofollow noreferrer\">AsyncTask reference</a> and <a href=\"http://developer.android.com/guide/components/processes-and-threads.html#AsyncTask\" rel=\"nofollow noreferrer\">Using AsyncTask</a> are still using non-static nested classes.</p>\n\n<p>And according to this <a href=\"https://stackoverflow.com/q/253492/1741542\">Static nested class in Java, why?</a>, I would first go with the <em>static</em> inner class and resort to the non-static version only, if it is really necessary.</p>\n"},{"tags":[],"owner":{"account_id":430482,"reputation":27583,"user_id":813951,"accept_rate":75,"display_name":"Mister Smith"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1679786633,"creation_date":1358421509,"answer_id":14377898,"question_id":14374682,"body_markdown":"There&#39;s no single &quot;correct&quot; way of implementing `AsyncTask`. But here are my two cents:\r\n\r\nThis class is intended to perform &quot;light&quot; work in the context of an Activity. That&#39;s why it has the methods `onPreExecute`, `onProgressUpdate`, `onPostExecute` running in the UI thread, so that they can access fields and update GUI quickly. Any task that might take a longer time to complete and is not meant to update a specific activity should be moved to a Service.\r\n\r\nThose methods are mostly used to update the GUI. As the GUI is something related to the Activity instance (the fields are likely declared as private member variables), it is more convenient to implement the `AsyncTask` as a non-static nested class. It is also the most natural way in my opinion.\r\n\r\nIn case the task is going to be reused in other activities, I think it should be allowed to have its own class. To be honest, I&#39;m no fan of static nested classes, especially inside views. If it is a class, it means it is conceptually different than the activity. And if it is static, it means it is not related to this concrete instance of the activity. But as they are nested, those classes are visually inside the parent class making it harder to read, and can go unnoticed in the project package explorer as it only shows files. And despite being less coupled than inner classes, this is not really that useful: if the class changes, you have to merge/commit the whole parent file to the version control. If you were to reuse it, then you&#39;d have to access it as `Parent.Nested` everywhere. So in order not to couple other activities to the `Parent` class, you probably would like to refactor it and extract the nested class to its own file.\r\n\r\nSo for me the question would be *Inner Class vs Top-Level Class*.","title":"What&#39;s the correct way to implement AsyncTask? static or non static nested class?","body":"<p>There's no single &quot;correct&quot; way of implementing <code>AsyncTask</code>. But here are my two cents:</p>\n<p>This class is intended to perform &quot;light&quot; work in the context of an Activity. That's why it has the methods <code>onPreExecute</code>, <code>onProgressUpdate</code>, <code>onPostExecute</code> running in the UI thread, so that they can access fields and update GUI quickly. Any task that might take a longer time to complete and is not meant to update a specific activity should be moved to a Service.</p>\n<p>Those methods are mostly used to update the GUI. As the GUI is something related to the Activity instance (the fields are likely declared as private member variables), it is more convenient to implement the <code>AsyncTask</code> as a non-static nested class. It is also the most natural way in my opinion.</p>\n<p>In case the task is going to be reused in other activities, I think it should be allowed to have its own class. To be honest, I'm no fan of static nested classes, especially inside views. If it is a class, it means it is conceptually different than the activity. And if it is static, it means it is not related to this concrete instance of the activity. But as they are nested, those classes are visually inside the parent class making it harder to read, and can go unnoticed in the project package explorer as it only shows files. And despite being less coupled than inner classes, this is not really that useful: if the class changes, you have to merge/commit the whole parent file to the version control. If you were to reuse it, then you'd have to access it as <code>Parent.Nested</code> everywhere. So in order not to couple other activities to the <code>Parent</code> class, you probably would like to refactor it and extract the nested class to its own file.</p>\n<p>So for me the question would be <em>Inner Class vs Top-Level Class</em>.</p>\n"},{"tags":[],"owner":{"account_id":194169,"reputation":49718,"user_id":436341,"accept_rate":67,"display_name":"live-love"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537305103,"creation_date":1537305103,"answer_id":52394650,"question_id":14374682,"body_markdown":"I found out that a non-static nested Asynctask UI update is faster when you need to update your UI frequently by calling runOnUiThread in onProgressUpdate. For example, when you have to append lines to a TextView.\r\n\r\n    non-static:\r\n        @Override\r\n        protected void onProgressUpdate(String... values) {\r\n            runOnUiThread(() -&gt; {\r\n                TextView tv_results = findViewById(R.id.tv_results);\r\n                tv_results.append(values[0] + &quot;\\n&quot;);\r\n            });\r\n        }\r\n\r\nIt&#39;s 1000x faster than implementing listeners for a static AsyncTask. I might be wrong, but that was my experience. \r\n\r\n    static:\r\n            @Override\r\n            protected void onProgressUpdate(String... values) {\r\n                OnTaskStringUpdatedListener.OnTaskStringUpdated(task, values[0]);\r\n            }","title":"What&#39;s the correct way to implement AsyncTask? static or non static nested class?","body":"<p>I found out that a non-static nested Asynctask UI update is faster when you need to update your UI frequently by calling runOnUiThread in onProgressUpdate. For example, when you have to append lines to a TextView.</p>\n\n<pre><code>non-static:\n    @Override\n    protected void onProgressUpdate(String... values) {\n        runOnUiThread(() -&gt; {\n            TextView tv_results = findViewById(R.id.tv_results);\n            tv_results.append(values[0] + \"\\n\");\n        });\n    }\n</code></pre>\n\n<p>It's 1000x faster than implementing listeners for a static AsyncTask. I might be wrong, but that was my experience. </p>\n\n<pre><code>static:\n        @Override\n        protected void onProgressUpdate(String... values) {\n            OnTaskStringUpdatedListener.OnTaskStringUpdated(task, values[0]);\n        }\n</code></pre>\n"}],"owner":{"account_id":171163,"reputation":13601,"user_id":398398,"accept_rate":93,"display_name":"roxrook"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21851,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":14374964,"answer_count":4,"score":31,"last_activity_date":1679786633,"creation_date":1358410533,"question_id":14374682,"body_markdown":"The &quot;Login&quot; from Android examples implemented `AsyncTask` as a non-static inner class. However, according to Commonsguys, this class should be static and use weak-reference to the outside activity [see this][1].\r\n\r\nSo what is the correct way to implement `AsyncTask`? Static or non-static?\r\n\r\n**Commonsguy Implementation**  \r\nhttps://github.com/commonsguy/cw-android/tree/master/Rotation/RotationAsync/\r\n\r\n**Log in example from Google** \r\n\r\n    package com.example.asynctaskdemo;\r\n    \r\n    import android.animation.Animator;\r\n    import android.animation.AnimatorListenerAdapter;\r\n    import android.annotation.TargetApi;\r\n    import android.app.Activity;\r\n    import android.os.AsyncTask;\r\n    import android.os.Build;\r\n    import android.os.Bundle;\r\n    import android.text.TextUtils;\r\n    import android.view.KeyEvent;\r\n    import android.view.Menu;\r\n    import android.view.View;\r\n    import android.view.inputmethod.EditorInfo;\r\n    import android.widget.EditText;\r\n    import android.widget.TextView;\r\n    \r\n    /**\r\n     * Activity which displays a login screen to the user, offering registration as\r\n     * well.\r\n     */\r\n    public class LoginActivity extends Activity {\r\n    \t/**\r\n    \t * A dummy authentication store containing known user names and passwords.\r\n    \t * TODO: remove after connecting to a real authentication system.\r\n    \t */\r\n    \tprivate static final String[] DUMMY_CREDENTIALS = new String[] { &quot;foo@example.com:hello&quot;, &quot;bar@example.com:world&quot; };\r\n    \r\n    \t/**\r\n    \t * The default email to populate the email field with.\r\n    \t */\r\n    \tpublic static final String EXTRA_EMAIL = &quot;com.example.android.authenticatordemo.extra.EMAIL&quot;;\r\n    \r\n    \t/**\r\n    \t * Keep track of the login task to ensure we can cancel it if requested.\r\n    \t */\r\n    \tprivate UserLoginTask mAuthTask = null;\r\n    \r\n    \t// Values for email and password at the time of the login attempt.\r\n    \tprivate String mEmail;\r\n    \tprivate String mPassword;\r\n    \r\n    \t// UI references.\r\n    \tprivate EditText mEmailView;\r\n    \tprivate EditText mPasswordView;\r\n    \tprivate View mLoginFormView;\r\n    \tprivate View mLoginStatusView;\r\n    \tprivate TextView mLoginStatusMessageView;\r\n    \r\n    \t@Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \r\n    \t\tsetContentView(R.layout.activity_login);\r\n    \r\n    \t\t// Set up the login form.\r\n    \t\tmEmail = getIntent().getStringExtra(EXTRA_EMAIL);\r\n    \t\tmEmailView = (EditText) findViewById(R.id.email);\r\n    \t\tmEmailView.setText(mEmail);\r\n    \r\n    \t\tmPasswordView = (EditText) findViewById(R.id.password);\r\n    \t\tmPasswordView.setOnEditorActionListener(new TextView.OnEditorActionListener() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean onEditorAction(TextView textView, int id, KeyEvent keyEvent) {\r\n    \t\t\t\tif (id == R.id.login || id == EditorInfo.IME_NULL) {\r\n    \t\t\t\t\tattemptLogin();\r\n    \t\t\t\t\treturn true;\r\n    \t\t\t\t}\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tmLoginFormView = findViewById(R.id.login_form);\r\n    \t\tmLoginStatusView = findViewById(R.id.login_status);\r\n    \t\tmLoginStatusMessageView = (TextView) findViewById(R.id.login_status_message);\r\n    \r\n    \t\tfindViewById(R.id.sign_in_button).setOnClickListener(new View.OnClickListener() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void onClick(View view) {\r\n    \t\t\t\tattemptLogin();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean onCreateOptionsMenu(Menu menu) {\r\n    \t\tsuper.onCreateOptionsMenu(menu);\r\n    \t\tgetMenuInflater().inflate(R.menu.activity_login, menu);\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Attempts to sign in or register the account specified by the login form.\r\n    \t * If there are form errors (invalid email, missing fields, etc.), the\r\n    \t * errors are presented and no actual login attempt is made.\r\n    \t */\r\n    \tpublic void attemptLogin() {\r\n    \t\tif (mAuthTask != null) {\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \r\n    \t\t// Reset errors.\r\n    \t\tmEmailView.setError(null);\r\n    \t\tmPasswordView.setError(null);\r\n    \r\n    \t\t// Store values at the time of the login attempt.\r\n    \t\tmEmail = mEmailView.getText().toString();\r\n    \t\tmPassword = mPasswordView.getText().toString();\r\n    \r\n    \t\tboolean cancel = false;\r\n    \t\tView focusView = null;\r\n    \r\n    \t\t// Check for a valid password.\r\n    \t\tif (TextUtils.isEmpty(mPassword)) {\r\n    \t\t\tmPasswordView.setError(getString(R.string.error_field_required));\r\n    \t\t\tfocusView = mPasswordView;\r\n    \t\t\tcancel = true;\r\n    \t\t}\r\n    \t\telse if (mPassword.length() &lt; 4) {\r\n    \t\t\tmPasswordView.setError(getString(R.string.error_invalid_password));\r\n    \t\t\tfocusView = mPasswordView;\r\n    \t\t\tcancel = true;\r\n    \t\t}\r\n    \r\n    \t\t// Check for a valid email address.\r\n    \t\tif (TextUtils.isEmpty(mEmail)) {\r\n    \t\t\tmEmailView.setError(getString(R.string.error_field_required));\r\n    \t\t\tfocusView = mEmailView;\r\n    \t\t\tcancel = true;\r\n    \t\t}\r\n    \t\telse if (!mEmail.contains(&quot;@&quot;)) {\r\n    \t\t\tmEmailView.setError(getString(R.string.error_invalid_email));\r\n    \t\t\tfocusView = mEmailView;\r\n    \t\t\tcancel = true;\r\n    \t\t}\r\n    \r\n    \t\tif (cancel) {\r\n    \t\t\t// There was an error; don&#39;t attempt login and focus the first\r\n    \t\t\t// form field with an error.\r\n    \t\t\tfocusView.requestFocus();\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\t// Show a progress spinner, and kick off a background task to\r\n    \t\t\t// perform the user login attempt.\r\n    \t\t\tmLoginStatusMessageView.setText(R.string.login_progress_signing_in);\r\n    \t\t\tshowProgress(true);\r\n    \t\t\tmAuthTask = new UserLoginTask();\r\n    \t\t\tmAuthTask.execute((Void) null);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Shows the progress UI and hides the login form.\r\n    \t */\r\n    \t@TargetApi(Build.VERSION_CODES.HONEYCOMB_MR2)\r\n    \tprivate void showProgress(final boolean show) {\r\n    \t\t// On Honeycomb MR2 we have the ViewPropertyAnimator APIs, which allow\r\n    \t\t// for very easy animations. If available, use these APIs to fade-in\r\n    \t\t// the progress spinner.\r\n    \t\tif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB_MR2) {\r\n    \t\t\tint shortAnimTime = getResources().getInteger(android.R.integer.config_shortAnimTime);\r\n    \r\n    \t\t\tmLoginStatusView.setVisibility(View.VISIBLE);\r\n    \t\t\tmLoginStatusView.animate().setDuration(shortAnimTime).alpha(show ? 1 : 0).setListener(new AnimatorListenerAdapter() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void onAnimationEnd(Animator animation) {\r\n    \t\t\t\t\tmLoginStatusView.setVisibility(show ? View.VISIBLE : View.GONE);\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \r\n    \t\t\tmLoginFormView.setVisibility(View.VISIBLE);\r\n    \t\t\tmLoginFormView.animate().setDuration(shortAnimTime).alpha(show ? 0 : 1).setListener(new AnimatorListenerAdapter() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void onAnimationEnd(Animator animation) {\r\n    \t\t\t\t\tmLoginFormView.setVisibility(show ? View.GONE : View.VISIBLE);\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\t// The ViewPropertyAnimator APIs are not available, so simply show\r\n    \t\t\t// and hide the relevant UI components.\r\n    \t\t\tmLoginStatusView.setVisibility(show ? View.VISIBLE : View.GONE);\r\n    \t\t\tmLoginFormView.setVisibility(show ? View.GONE : View.VISIBLE);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Represents an asynchronous login/registration task used to authenticate\r\n    \t * the user.\r\n    \t */\r\n    \tpublic class UserLoginTask extends AsyncTask&lt;Void, Void, Boolean&gt; {\r\n    \t\t@Override\r\n    \t\tprotected Boolean doInBackground(Void... params) {\r\n    \t\t\t// TODO: attempt authentication against a network service.\r\n    \r\n    \t\t\ttry {\r\n    \t\t\t\t// Simulate network access.\r\n    \t\t\t\tThread.sleep(2000);\r\n    \t\t\t}\r\n    \t\t\tcatch (InterruptedException e) {\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \r\n    \t\t\tfor (String credential : DUMMY_CREDENTIALS) {\r\n    \t\t\t\tString[] pieces = credential.split(&quot;:&quot;);\r\n    \t\t\t\tif (pieces[0].equals(mEmail)) {\r\n    \t\t\t\t\t// Account exists, return true if the password matches.\r\n    \t\t\t\t\treturn pieces[1].equals(mPassword);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\t// TODO: register the new account here.\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tprotected void onPostExecute(final Boolean success) {\r\n    \t\t\tmAuthTask = null;\r\n    \t\t\tshowProgress(false);\r\n    \r\n    \t\t\tif (success) {\r\n    \t\t\t\tfinish();\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\tmPasswordView.setError(getString(R.string.error_incorrect_password));\r\n    \t\t\t\tmPasswordView.requestFocus();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tprotected void onCancelled() {\r\n    \t\t\tmAuthTask = null;\r\n    \t\t\tshowProgress(false);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nIf it depends on a specific situation, then with `ListView` items (text + plus Bitmap) loaded from the internet using `HttpClient`, how should I implement my AsyncTask? \r\n\r\n\r\n  [1]: http://commonsware.com/blog/2010/09/10/asynctask-screen-rotation.html","title":"What&#39;s the correct way to implement AsyncTask? static or non static nested class?","body":"<p>The \"Login\" from Android examples implemented <code>AsyncTask</code> as a non-static inner class. However, according to Commonsguys, this class should be static and use weak-reference to the outside activity <a href=\"http://commonsware.com/blog/2010/09/10/asynctask-screen-rotation.html\">see this</a>.</p>\n\n<p>So what is the correct way to implement <code>AsyncTask</code>? Static or non-static?</p>\n\n<p><strong>Commonsguy Implementation</strong><br>\n<a href=\"https://github.com/commonsguy/cw-android/tree/master/Rotation/RotationAsync/\">https://github.com/commonsguy/cw-android/tree/master/Rotation/RotationAsync/</a></p>\n\n<p><strong>Log in example from Google</strong> </p>\n\n<pre><code>package com.example.asynctaskdemo;\n\nimport android.animation.Animator;\nimport android.animation.AnimatorListenerAdapter;\nimport android.annotation.TargetApi;\nimport android.app.Activity;\nimport android.os.AsyncTask;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.text.TextUtils;\nimport android.view.KeyEvent;\nimport android.view.Menu;\nimport android.view.View;\nimport android.view.inputmethod.EditorInfo;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\n/**\n * Activity which displays a login screen to the user, offering registration as\n * well.\n */\npublic class LoginActivity extends Activity {\n    /**\n     * A dummy authentication store containing known user names and passwords.\n     * TODO: remove after connecting to a real authentication system.\n     */\n    private static final String[] DUMMY_CREDENTIALS = new String[] { \"foo@example.com:hello\", \"bar@example.com:world\" };\n\n    /**\n     * The default email to populate the email field with.\n     */\n    public static final String EXTRA_EMAIL = \"com.example.android.authenticatordemo.extra.EMAIL\";\n\n    /**\n     * Keep track of the login task to ensure we can cancel it if requested.\n     */\n    private UserLoginTask mAuthTask = null;\n\n    // Values for email and password at the time of the login attempt.\n    private String mEmail;\n    private String mPassword;\n\n    // UI references.\n    private EditText mEmailView;\n    private EditText mPasswordView;\n    private View mLoginFormView;\n    private View mLoginStatusView;\n    private TextView mLoginStatusMessageView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        setContentView(R.layout.activity_login);\n\n        // Set up the login form.\n        mEmail = getIntent().getStringExtra(EXTRA_EMAIL);\n        mEmailView = (EditText) findViewById(R.id.email);\n        mEmailView.setText(mEmail);\n\n        mPasswordView = (EditText) findViewById(R.id.password);\n        mPasswordView.setOnEditorActionListener(new TextView.OnEditorActionListener() {\n            @Override\n            public boolean onEditorAction(TextView textView, int id, KeyEvent keyEvent) {\n                if (id == R.id.login || id == EditorInfo.IME_NULL) {\n                    attemptLogin();\n                    return true;\n                }\n                return false;\n            }\n        });\n\n        mLoginFormView = findViewById(R.id.login_form);\n        mLoginStatusView = findViewById(R.id.login_status);\n        mLoginStatusMessageView = (TextView) findViewById(R.id.login_status_message);\n\n        findViewById(R.id.sign_in_button).setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                attemptLogin();\n            }\n        });\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        super.onCreateOptionsMenu(menu);\n        getMenuInflater().inflate(R.menu.activity_login, menu);\n        return true;\n    }\n\n    /**\n     * Attempts to sign in or register the account specified by the login form.\n     * If there are form errors (invalid email, missing fields, etc.), the\n     * errors are presented and no actual login attempt is made.\n     */\n    public void attemptLogin() {\n        if (mAuthTask != null) {\n            return;\n        }\n\n        // Reset errors.\n        mEmailView.setError(null);\n        mPasswordView.setError(null);\n\n        // Store values at the time of the login attempt.\n        mEmail = mEmailView.getText().toString();\n        mPassword = mPasswordView.getText().toString();\n\n        boolean cancel = false;\n        View focusView = null;\n\n        // Check for a valid password.\n        if (TextUtils.isEmpty(mPassword)) {\n            mPasswordView.setError(getString(R.string.error_field_required));\n            focusView = mPasswordView;\n            cancel = true;\n        }\n        else if (mPassword.length() &lt; 4) {\n            mPasswordView.setError(getString(R.string.error_invalid_password));\n            focusView = mPasswordView;\n            cancel = true;\n        }\n\n        // Check for a valid email address.\n        if (TextUtils.isEmpty(mEmail)) {\n            mEmailView.setError(getString(R.string.error_field_required));\n            focusView = mEmailView;\n            cancel = true;\n        }\n        else if (!mEmail.contains(\"@\")) {\n            mEmailView.setError(getString(R.string.error_invalid_email));\n            focusView = mEmailView;\n            cancel = true;\n        }\n\n        if (cancel) {\n            // There was an error; don't attempt login and focus the first\n            // form field with an error.\n            focusView.requestFocus();\n        }\n        else {\n            // Show a progress spinner, and kick off a background task to\n            // perform the user login attempt.\n            mLoginStatusMessageView.setText(R.string.login_progress_signing_in);\n            showProgress(true);\n            mAuthTask = new UserLoginTask();\n            mAuthTask.execute((Void) null);\n        }\n    }\n\n    /**\n     * Shows the progress UI and hides the login form.\n     */\n    @TargetApi(Build.VERSION_CODES.HONEYCOMB_MR2)\n    private void showProgress(final boolean show) {\n        // On Honeycomb MR2 we have the ViewPropertyAnimator APIs, which allow\n        // for very easy animations. If available, use these APIs to fade-in\n        // the progress spinner.\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB_MR2) {\n            int shortAnimTime = getResources().getInteger(android.R.integer.config_shortAnimTime);\n\n            mLoginStatusView.setVisibility(View.VISIBLE);\n            mLoginStatusView.animate().setDuration(shortAnimTime).alpha(show ? 1 : 0).setListener(new AnimatorListenerAdapter() {\n                @Override\n                public void onAnimationEnd(Animator animation) {\n                    mLoginStatusView.setVisibility(show ? View.VISIBLE : View.GONE);\n                }\n            });\n\n            mLoginFormView.setVisibility(View.VISIBLE);\n            mLoginFormView.animate().setDuration(shortAnimTime).alpha(show ? 0 : 1).setListener(new AnimatorListenerAdapter() {\n                @Override\n                public void onAnimationEnd(Animator animation) {\n                    mLoginFormView.setVisibility(show ? View.GONE : View.VISIBLE);\n                }\n            });\n        }\n        else {\n            // The ViewPropertyAnimator APIs are not available, so simply show\n            // and hide the relevant UI components.\n            mLoginStatusView.setVisibility(show ? View.VISIBLE : View.GONE);\n            mLoginFormView.setVisibility(show ? View.GONE : View.VISIBLE);\n        }\n    }\n\n    /**\n     * Represents an asynchronous login/registration task used to authenticate\n     * the user.\n     */\n    public class UserLoginTask extends AsyncTask&lt;Void, Void, Boolean&gt; {\n        @Override\n        protected Boolean doInBackground(Void... params) {\n            // TODO: attempt authentication against a network service.\n\n            try {\n                // Simulate network access.\n                Thread.sleep(2000);\n            }\n            catch (InterruptedException e) {\n                return false;\n            }\n\n            for (String credential : DUMMY_CREDENTIALS) {\n                String[] pieces = credential.split(\":\");\n                if (pieces[0].equals(mEmail)) {\n                    // Account exists, return true if the password matches.\n                    return pieces[1].equals(mPassword);\n                }\n            }\n\n            // TODO: register the new account here.\n            return true;\n        }\n\n        @Override\n        protected void onPostExecute(final Boolean success) {\n            mAuthTask = null;\n            showProgress(false);\n\n            if (success) {\n                finish();\n            }\n            else {\n                mPasswordView.setError(getString(R.string.error_incorrect_password));\n                mPasswordView.requestFocus();\n            }\n        }\n\n        @Override\n        protected void onCancelled() {\n            mAuthTask = null;\n            showProgress(false);\n        }\n    }\n}\n</code></pre>\n\n<p>If it depends on a specific situation, then with <code>ListView</code> items (text + plus Bitmap) loaded from the internet using <code>HttpClient</code>, how should I implement my AsyncTask? </p>\n"},{"tags":["java","android","media-player","ringtone"],"comments":[{"owner":{"display_name":"user5734311"},"score":0,"creation_date":1526941869,"post_id":50457321,"comment_id":87928359,"body_markdown":"My guess is the `MediaPlayer` instance takes some time to prepare; that&#39;s why you&#39;re supposed to asynchronously call `.create()` and only `.start()` it in a callback that runs when preparation has finished: https://developer.android.com/guide/topics/media/mediaplayer#preparingasync (also: javascript != java)","body":"My guess is the <code>MediaPlayer</code> instance takes some time to prepare; that&#39;s why you&#39;re supposed to asynchronously call <code>.create()</code> and only <code>.start()</code> it in a callback that runs when preparation has finished: <a href=\"https://developer.android.com/guide/topics/media/mediaplayer#preparingasync\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/media/&hellip;</a> (also: javascript != java)"}],"answers":[{"tags":[],"owner":{"account_id":11939540,"reputation":11,"user_id":8736813,"display_name":"Ahmed abo elnaga"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526942646,"creation_date":1526942646,"answer_id":50457494,"question_id":50457321,"body_markdown":"mediaPlayer.start();  remove  from onResume() \r\n \r\n     @Override\r\n    protected void onResume() {\r\n        super.onResume();   \r\n    }","title":"android.media.MediaPlayer.start()&#39; on a null object reference","body":"<p>mediaPlayer.start();  remove  from onResume() </p>\n\n<pre><code> @Override\nprotected void onResume() {\n    super.onResume();   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10472639,"reputation":144,"user_id":7720074,"display_name":"anilkay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526944239,"creation_date":1526944239,"answer_id":50457688,"question_id":50457321,"body_markdown":"MediaPlayer is heavy process. Android developers said should not use in Ui thread, but if you want to use it this code works just fine:\r\n\r\n  \r\n\r\n    mediaPlayer=MediaPlayer.create(this,R.raw.pota);\r\n            mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\r\n                @Override\r\n                public void onCompletion(MediaPlayer mediaPlayer) {\r\n                    mediaPlayer.start();\r\n                }\r\n            });\r\nYou can write this code whatever you want (onCreate,onStart,onResume).","title":"android.media.MediaPlayer.start()&#39; on a null object reference","body":"<p>MediaPlayer is heavy process. Android developers said should not use in Ui thread, but if you want to use it this code works just fine:</p>\n\n<pre><code>mediaPlayer=MediaPlayer.create(this,R.raw.pota);\n        mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n            @Override\n            public void onCompletion(MediaPlayer mediaPlayer) {\n                mediaPlayer.start();\n            }\n        });\n</code></pre>\n\n<p>You can write this code whatever you want (onCreate,onStart,onResume).</p>\n"}],"owner":{"account_id":13561879,"reputation":31,"user_id":9783294,"display_name":"Saouti Mohamed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6144,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1679786592,"creation_date":1526941394,"question_id":50457321,"body_markdown":"I am trying to add a ringtone to this layout and I can&#39;t know why is on a null object even thought I have the mp3 ringtone in raw file and I am writing the code as is showing below.\r\n\r\n    import android.content.Intent;\r\n    import android.media.MediaPlayer;\r\n    import android.os.Bundle;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.text.TextUtils;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n\r\n    import com.saoutimohamed.tewsilaclone.Common.Common;\r\n    import com.saoutimohamed.tewsilaclone.Mode.FCMResponse;\r\n    import com.saoutimohamed.tewsilaclone.Mode.Notification;\r\n    import com.saoutimohamed.tewsilaclone.Mode.Sender;\r\n    import com.saoutimohamed.tewsilaclone.Mode.Token;\r\n    import com.saoutimohamed.tewsilaclone.Remote.IFCMService;\r\n    import com.saoutimohamed.tewsilaclone.Remote.IGoogleAPI;\r\n\r\n    import org.json.JSONArray;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n\r\n    import retrofit2.Call;\r\n    import retrofit2.Callback;\r\n    import retrofit2.Response;\r\n\r\n    public class CustomerCall extends AppCompatActivity {\r\n\r\n        TextView txtTime, txtAddress, txtDistance;\r\n        MediaPlayer mediaPlayer;\r\n\r\n        IGoogleAPI mService;\r\n\r\n        Button btnAccept, btnDecline;\r\n\r\n        String customerId;\r\n        IFCMService ifcmService;\r\n        double lat,lng;\r\n\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_customer_call);\r\n\r\n            mService = Common.getGoogleAPI();\r\n            ifcmService = Common.getFCMService();\r\n\r\n            txtAddress = findViewById(R.id.txtAddress);\r\n            txtTime = findViewById(R.id.txtTime);\r\n            txtDistance = findViewById(R.id.txtDistance);\r\n\r\n            btnAccept = findViewById(R.id.btnAccept);\r\n            btnDecline = findViewById(R.id.btnDecline);\r\n\r\n            mediaPlayer = MediaPlayer.create(this,R.raw.ringtone);\r\n            mediaPlayer.start();\r\n            mediaPlayer.setLooping(true);\r\n\r\n            if (getIntent() != null)\r\n            {\r\n                 lat = getIntent().getDoubleExtra(&quot;lat&quot;,-1.0);\r\n                 lng = getIntent().getDoubleExtra(&quot;lng&quot;,-1.0);\r\n                customerId = getIntent().getStringExtra(&quot;customer&quot;);\r\n\r\n\r\n                getDirection(lat,lng);\r\n            }\r\n            btnDecline.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (!TextUtils.isEmpty(customerId))\r\n                        cancelBooking(customerId);\r\n                }\r\n            });\r\n\r\n            btnAccept.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Intent intent = new Intent(CustomerCall.this,DriverTracking.class);\r\n\r\n                    intent.putExtra(&quot;lat&quot;,lat);\r\n                    intent.putExtra(&quot;lng&quot;,lng);\r\n                    startActivity(intent);\r\n                    finish();\r\n\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n        private void cancelBooking(String customerId) {\r\n            Token token = new Token(customerId);\r\n            Notification notification = new Notification(&quot;Notice!&quot;,&quot;Driver has cancelled your request&quot;);\r\n            Sender sender = new Sender(token.getToken(),notification);\r\n            ifcmService.sandMessage(sender)\r\n                    .enqueue(new Callback&lt;FCMResponse&gt;() {\r\n                        @Override\r\n                        public void onResponse(Call&lt;FCMResponse&gt; call, Response&lt;FCMResponse&gt; response) {\r\n                            if (response.body().success ==1)\r\n                            {\r\n                                Toast.makeText(CustomerCall.this, &quot;Cancelled&quot;, Toast.LENGTH_SHORT).show();\r\n                                finish();\r\n                            }\r\n                        }\r\n\r\n                        @Override\r\n                        public void onFailure(Call&lt;FCMResponse&gt; call, Throwable t) {\r\n\r\n                        }\r\n                    });\r\n        }\r\n\r\n        private void getDirection(double lat,double lng) {\r\n            String requestApi;\r\n            try {\r\n                requestApi = &quot;https://maps.googleapis.com/maps/api/directions/json?&quot; +\r\n                        &quot;mode=driving&amp;&quot; +\r\n                        &quot;transit_routing_preference=less_driving&amp;&quot; +\r\n                        &quot;origin=&quot; + Common.mLastLocation.getLatitude() + &quot;,&quot; + Common.mLastLocation.getLongitude() + &quot;&amp;&quot; +\r\n                        &quot;destination=&quot; + lat+&quot;,&quot;+lng + &quot;&amp;&quot; +\r\n                        &quot;key=&quot; + getResources().getString(R.string.google_direction_api);\r\n                Log.d(&quot;SAOUTI&quot;, requestApi);\r\n                mService.getPath(requestApi)\r\n                        .enqueue(new Callback&lt;String&gt;() {\r\n                            @Override\r\n                            public void onResponse(Call&lt;String&gt; call, Response&lt;String&gt; response) {\r\n                                try {\r\n                                    JSONObject jsonObject = new JSONObject(response.body().toString());\r\n\r\n                                    JSONArray routes = jsonObject.getJSONArray(&quot;routes&quot;);\r\n\r\n                                    JSONObject object = routes.getJSONObject(0);\r\n\r\n                                    JSONArray legs = object.getJSONArray(&quot;legs&quot;);\r\n\r\n                                    JSONObject legsObject = legs.getJSONObject(0);\r\n\r\n                                    JSONObject distance = legsObject.getJSONObject(&quot;distance&quot;);\r\n\r\n                                    txtDistance.setText(distance.getString(&quot;text&quot;));\r\n\r\n                                    JSONObject time = legsObject.getJSONObject(&quot;duration&quot;);\r\n\r\n                                    txtTime.setText(time.getString(&quot;text&quot;));\r\n\r\n                                    String address = legsObject.getString(&quot;end_address&quot;);\r\n\r\n                                    txtAddress.setText(address);\r\n\r\n\r\n\r\n                                } catch (JSONException e) {\r\n                                    e.printStackTrace();\r\n                                }\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void onFailure(Call&lt;String&gt; call, Throwable t) {\r\n                                Toast.makeText(CustomerCall.this, &quot;&quot; + t.getMessage(), Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        });\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        protected void onStop() {\r\n            mediaPlayer.release();\r\n            super.onStop();\r\n        }\r\n\r\n        @Override\r\n        protected void onPause() {\r\n            mediaPlayer.release();\r\n            super.onPause();\r\n        }\r\n\r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n            mediaPlayer.start();\r\n        }\r\n    }\r\n\r\nand this is the logcat\r\n\r\n       Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.media.MediaPlayer.start()&#39; on a null object reference\r\n                          at com.saoutimohamed.tewsilaclone.CustomerCall.onCreate(CustomerCall.java:60)\r\n                          at android.app.Activity.performCreate(Activity.java:7174)\r\n                          at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1220)\r\n                          at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2908)\r\n                          at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3030) \r\n                          at android.app.ActivityThread.-wrap11(Unknown Source:0) \r\n                          at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1696) \r\n                          at android.os.Handler.dispatchMessage(Handler.java:105) \r\n                          at android.os.Looper.loop(Looper.java:164) \r\n                          at android.app.ActivityThread.main(ActivityThread.java:6938) \r\n                          at java.lang.reflect.Method.invoke(Native Method) \r\n                          at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327) \r\n                          at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374) \r\n\r\n\r\nthis ringtone is supposed to be a call from a rider to adriver","title":"android.media.MediaPlayer.start()&#39; on a null object reference","body":"<p>I am trying to add a ringtone to this layout and I can't know why is on a null object even thought I have the mp3 ringtone in raw file and I am writing the code as is showing below.</p>\n<pre><code>import android.content.Intent;\nimport android.media.MediaPlayer;\nimport android.os.Bundle;\nimport android.support.v7.app.AppCompatActivity;\nimport android.text.TextUtils;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.saoutimohamed.tewsilaclone.Common.Common;\nimport com.saoutimohamed.tewsilaclone.Mode.FCMResponse;\nimport com.saoutimohamed.tewsilaclone.Mode.Notification;\nimport com.saoutimohamed.tewsilaclone.Mode.Sender;\nimport com.saoutimohamed.tewsilaclone.Mode.Token;\nimport com.saoutimohamed.tewsilaclone.Remote.IFCMService;\nimport com.saoutimohamed.tewsilaclone.Remote.IGoogleAPI;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport retrofit2.Call;\nimport retrofit2.Callback;\nimport retrofit2.Response;\n\npublic class CustomerCall extends AppCompatActivity {\n\n    TextView txtTime, txtAddress, txtDistance;\n    MediaPlayer mediaPlayer;\n\n    IGoogleAPI mService;\n\n    Button btnAccept, btnDecline;\n\n    String customerId;\n    IFCMService ifcmService;\n    double lat,lng;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_customer_call);\n\n        mService = Common.getGoogleAPI();\n        ifcmService = Common.getFCMService();\n\n        txtAddress = findViewById(R.id.txtAddress);\n        txtTime = findViewById(R.id.txtTime);\n        txtDistance = findViewById(R.id.txtDistance);\n\n        btnAccept = findViewById(R.id.btnAccept);\n        btnDecline = findViewById(R.id.btnDecline);\n\n        mediaPlayer = MediaPlayer.create(this,R.raw.ringtone);\n        mediaPlayer.start();\n        mediaPlayer.setLooping(true);\n\n        if (getIntent() != null)\n        {\n             lat = getIntent().getDoubleExtra(&quot;lat&quot;,-1.0);\n             lng = getIntent().getDoubleExtra(&quot;lng&quot;,-1.0);\n            customerId = getIntent().getStringExtra(&quot;customer&quot;);\n\n\n            getDirection(lat,lng);\n        }\n        btnDecline.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (!TextUtils.isEmpty(customerId))\n                    cancelBooking(customerId);\n            }\n        });\n\n        btnAccept.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(CustomerCall.this,DriverTracking.class);\n\n                intent.putExtra(&quot;lat&quot;,lat);\n                intent.putExtra(&quot;lng&quot;,lng);\n                startActivity(intent);\n                finish();\n\n            }\n        });\n\n    }\n\n    private void cancelBooking(String customerId) {\n        Token token = new Token(customerId);\n        Notification notification = new Notification(&quot;Notice!&quot;,&quot;Driver has cancelled your request&quot;);\n        Sender sender = new Sender(token.getToken(),notification);\n        ifcmService.sandMessage(sender)\n                .enqueue(new Callback&lt;FCMResponse&gt;() {\n                    @Override\n                    public void onResponse(Call&lt;FCMResponse&gt; call, Response&lt;FCMResponse&gt; response) {\n                        if (response.body().success ==1)\n                        {\n                            Toast.makeText(CustomerCall.this, &quot;Cancelled&quot;, Toast.LENGTH_SHORT).show();\n                            finish();\n                        }\n                    }\n\n                    @Override\n                    public void onFailure(Call&lt;FCMResponse&gt; call, Throwable t) {\n\n                    }\n                });\n    }\n\n    private void getDirection(double lat,double lng) {\n        String requestApi;\n        try {\n            requestApi = &quot;https://maps.googleapis.com/maps/api/directions/json?&quot; +\n                    &quot;mode=driving&amp;&quot; +\n                    &quot;transit_routing_preference=less_driving&amp;&quot; +\n                    &quot;origin=&quot; + Common.mLastLocation.getLatitude() + &quot;,&quot; + Common.mLastLocation.getLongitude() + &quot;&amp;&quot; +\n                    &quot;destination=&quot; + lat+&quot;,&quot;+lng + &quot;&amp;&quot; +\n                    &quot;key=&quot; + getResources().getString(R.string.google_direction_api);\n            Log.d(&quot;SAOUTI&quot;, requestApi);\n            mService.getPath(requestApi)\n                    .enqueue(new Callback&lt;String&gt;() {\n                        @Override\n                        public void onResponse(Call&lt;String&gt; call, Response&lt;String&gt; response) {\n                            try {\n                                JSONObject jsonObject = new JSONObject(response.body().toString());\n\n                                JSONArray routes = jsonObject.getJSONArray(&quot;routes&quot;);\n\n                                JSONObject object = routes.getJSONObject(0);\n\n                                JSONArray legs = object.getJSONArray(&quot;legs&quot;);\n\n                                JSONObject legsObject = legs.getJSONObject(0);\n\n                                JSONObject distance = legsObject.getJSONObject(&quot;distance&quot;);\n\n                                txtDistance.setText(distance.getString(&quot;text&quot;));\n\n                                JSONObject time = legsObject.getJSONObject(&quot;duration&quot;);\n\n                                txtTime.setText(time.getString(&quot;text&quot;));\n\n                                String address = legsObject.getString(&quot;end_address&quot;);\n\n                                txtAddress.setText(address);\n\n\n\n                            } catch (JSONException e) {\n                                e.printStackTrace();\n                            }\n\n                        }\n\n                        @Override\n                        public void onFailure(Call&lt;String&gt; call, Throwable t) {\n                            Toast.makeText(CustomerCall.this, &quot;&quot; + t.getMessage(), Toast.LENGTH_SHORT).show();\n                        }\n                    });\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    protected void onStop() {\n        mediaPlayer.release();\n        super.onStop();\n    }\n\n    @Override\n    protected void onPause() {\n        mediaPlayer.release();\n        super.onPause();\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        mediaPlayer.start();\n    }\n}\n</code></pre>\n<p>and this is the logcat</p>\n<pre><code>   Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.media.MediaPlayer.start()' on a null object reference\n                      at com.saoutimohamed.tewsilaclone.CustomerCall.onCreate(CustomerCall.java:60)\n                      at android.app.Activity.performCreate(Activity.java:7174)\n                      at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1220)\n                      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2908)\n                      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3030) \n                      at android.app.ActivityThread.-wrap11(Unknown Source:0) \n                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1696) \n                      at android.os.Handler.dispatchMessage(Handler.java:105) \n                      at android.os.Looper.loop(Looper.java:164) \n                      at android.app.ActivityThread.main(ActivityThread.java:6938) \n                      at java.lang.reflect.Method.invoke(Native Method) \n                      at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327) \n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374) \n</code></pre>\n<p>this ringtone is supposed to be a call from a rider to adriver</p>\n"},{"tags":["java","android","android-mediaplayer"],"comments":[{"owner":{"account_id":10797936,"reputation":31,"user_id":7942976,"accept_rate":0,"display_name":"Thomas.Chan"},"score":0,"creation_date":1604311147,"post_id":64643128,"comment_id":114298993,"body_markdown":"But i have initialize the variable suppose not to hit null pointer exception in this point.","body":"But i have initialize the variable suppose not to hit null pointer exception in this point."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1604312923,"post_id":64643128,"comment_id":114299786,"body_markdown":"Look twice: you reassign `ivbsound = MediaPlayer.create()` ... must then return null. That is the thing. Android is tricky, you have to really understand when the framework does what.","body":"Look twice: you reassign <code>ivbsound = MediaPlayer.create()</code> ... must then return null. That is the thing. Android is tricky, you have to really understand when the framework does what."},{"owner":{"account_id":10797936,"reputation":31,"user_id":7942976,"accept_rate":0,"display_name":"Thomas.Chan"},"score":0,"creation_date":1604316314,"post_id":64643128,"comment_id":114301278,"body_markdown":"@GhostCat Yes, this is the one cause error, thank you so much buddy! the problem resolved.","body":"@GhostCat Yes, this is the one cause error, thank you so much buddy! the problem resolved."}],"answers":[{"tags":[],"owner":{"account_id":2000631,"reputation":841,"user_id":1791771,"display_name":"Rustam Samandarov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679786452,"creation_date":1604310856,"answer_id":64643266,"question_id":64643128,"body_markdown":"Try to create player with another audio file.\r\nMaybe the ivbutton file is corrupt\r\n\r\n\r\n[UPDATE]\r\n\r\nIf you are reusing it declare lazy property of this sound player and on every click play it\r\n\r\n    \r\n    class MyActivity extends AppCompatActivity {\r\n        private MediaPlayer soundPlayer = null;\r\n    \r\n        @Override\r\n        protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            \r\n            soundPlayer = MediaPlayer.create(this, R.raw.ivbutton);\r\n    \r\n            iv_33.setOnClickListener(view -&gt; {\r\n                soundPlayer.start();\r\n                int theCard = Integer.parseInt((String) view.getTag());\r\n                doStuff(iv_33, theCard);\r\n            });\r\n        }\r\n    }","title":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.media.MediaPlayer.start()&#39; on a null object reference","body":"<p>Try to create player with another audio file.\nMaybe the ivbutton file is corrupt</p>\n<p>[UPDATE]</p>\n<p>If you are reusing it declare lazy property of this sound player and on every click play it</p>\n<pre><code>class MyActivity extends AppCompatActivity {\n    private MediaPlayer soundPlayer = null;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        \n        soundPlayer = MediaPlayer.create(this, R.raw.ivbutton);\n\n        iv_33.setOnClickListener(view -&gt; {\n            soundPlayer.start();\n            int theCard = Integer.parseInt((String) view.getTag());\n            doStuff(iv_33, theCard);\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1604311035,"creation_date":1604311035,"answer_id":64643300,"question_id":64643128,"body_markdown":"It means that the creation of your MediaPlayer failed (maybe you have warn/debug messages about it).\r\nIt&#39;s useless to create a new MediaPlayer and then replace it by a new one.\r\n\r\nCheck if R.raw.ivbutton exist and correspond to a good media (which can be runned).\r\n\r\nPersonnally, this is how I do:\r\n\r\n```java\r\n\r\n    File mediaFile = obj.getFile();\r\n    MediaPlayer mediaPlayer = new MediaPlayer();\r\n    try {\r\n        mediaFile.setReadable(true); // be sure that the program have access to the media content\r\n        \r\n        // this try/catch is to support multiple Android version\r\n        try {\r\n             mediaPlayer.setDataSource(mediaFile.getAbsolutePath());\r\n        } catch (Exception e) {\r\n             mediaPlayer.setDataSource(context, Uri.fromFile(mediaFile));\r\n        }\r\n    \r\n        mediaPlayer.prepare(); // prepare it, after you can change volume ...\r\n    } catch (Exception e){\r\n        e.printStackTrace();\r\n    }\r\n    mediaPlayer.start(); // finally start the media\r\n```","title":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.media.MediaPlayer.start()&#39; on a null object reference","body":"<p>It means that the creation of your MediaPlayer failed (maybe you have warn/debug messages about it).\nIt's useless to create a new MediaPlayer and then replace it by a new one.</p>\n<p>Check if R.raw.ivbutton exist and correspond to a good media (which can be runned).</p>\n<p>Personnally, this is how I do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    File mediaFile = obj.getFile();\n    MediaPlayer mediaPlayer = new MediaPlayer();\n    try {\n        mediaFile.setReadable(true); // be sure that the program have access to the media content\n        \n        // this try/catch is to support multiple Android version\n        try {\n             mediaPlayer.setDataSource(mediaFile.getAbsolutePath());\n        } catch (Exception e) {\n             mediaPlayer.setDataSource(context, Uri.fromFile(mediaFile));\n        }\n    \n        mediaPlayer.prepare(); // prepare it, after you can change volume ...\n    } catch (Exception e){\n        e.printStackTrace();\n    }\n    mediaPlayer.start(); // finally start the media\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5949970,"reputation":671,"user_id":4678336,"display_name":"Ramy Ibrahim"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1604311100,"creation_date":1604311100,"answer_id":64643317,"question_id":64643128,"body_markdown":"please make sure that your sound file format you try to play is supported one check list from [here][1]. as the MediaPlayer.create returns null in case of the file is not supported which cause you null pointer exception. besides i recommend to check if(ivbsound != null) before calling ivbsound.start();\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/media/media-formats","title":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.media.MediaPlayer.start()&#39; on a null object reference","body":"<p>please make sure that your sound file format you try to play is supported one check list from <a href=\"https://developer.android.com/guide/topics/media/media-formats\" rel=\"nofollow noreferrer\">here</a>. as the MediaPlayer.create returns null in case of the file is not supported which cause you null pointer exception. besides i recommend to check if(ivbsound != null) before calling ivbsound.start();</p>\n"}],"owner":{"account_id":10797936,"reputation":31,"user_id":7942976,"accept_rate":0,"display_name":"Thomas.Chan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7006,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1604312870,"answer_count":3,"score":1,"last_activity_date":1679786452,"creation_date":1604310360,"question_id":64643128,"body_markdown":"When i try to click on the button several time then i encountered this error. \r\nBelow are the error in logcat: \r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.huiiy.myapplication, PID: 3933\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.media.MediaPlayer.start()&#39; on a null object reference\r\n        at com.example.huiiy.myapplication.Activity9$13.onClick(Activity9.java:288)\r\n        at android.view.View.performClick(View.java:5712)\r\n        at android.view.View$PerformClick.run(View.java:22514)\r\n        at android.os.Handler.handleCallback(Handler.java:751)\r\n        at android.os.Handler.dispatchMessage(Handler.java:95)\r\n        at android.os.Looper.loop(Looper.java:154)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6141)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\r\n```\r\n\r\n\r\nBelow are the coding of my application:\r\n\r\n        iv_33.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                MediaPlayer ivbsound = new MediaPlayer();\r\n                ivbsound = MediaPlayer.create(Activity9.this,R.raw.ivbutton);\r\n                //          MediaPlayer ivbsound = MediaPlayer.create(Activity9.this,R.raw.ivbutton);\r\n                ivbsound.start();\r\n                int theCard = Integer.parseInt((String) view.getTag());\r\n                doStuff(iv_33, theCard);\r\n            }\r\n        });","title":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.media.MediaPlayer.start()&#39; on a null object reference","body":"<p>When i try to click on the button several time then i encountered this error.\nBelow are the error in logcat:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.huiiy.myapplication, PID: 3933\n    java.lang.NullPointerException: Attempt to invoke virtual method 'void android.media.MediaPlayer.start()' on a null object reference\n        at com.example.huiiy.myapplication.Activity9$13.onClick(Activity9.java:288)\n        at android.view.View.performClick(View.java:5712)\n        at android.view.View$PerformClick.run(View.java:22514)\n        at android.os.Handler.handleCallback(Handler.java:751)\n        at android.os.Handler.dispatchMessage(Handler.java:95)\n        at android.os.Looper.loop(Looper.java:154)\n        at android.app.ActivityThread.main(ActivityThread.java:6141)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\n</code></pre>\n<p>Below are the coding of my application:</p>\n<pre><code>    iv_33.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            MediaPlayer ivbsound = new MediaPlayer();\n            ivbsound = MediaPlayer.create(Activity9.this,R.raw.ivbutton);\n            //          MediaPlayer ivbsound = MediaPlayer.create(Activity9.this,R.raw.ivbutton);\n            ivbsound.start();\n            int theCard = Integer.parseInt((String) view.getTag());\n            doStuff(iv_33, theCard);\n        }\n    });\n</code></pre>\n"},{"tags":["java","apache-camel","apache-plc4x"],"comments":[{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":0,"creation_date":1679779059,"post_id":75840534,"comment_id":133782839,"body_markdown":"What version of Camel do you use? And the NPE is something we should fix, at least give another exception explaining to the user if something must be configured. You are welcome to create a JIRA at ApacheCamel","body":"What version of Camel do you use? And the NPE is something we should fix, at least give another exception explaining to the user if something must be configured. You are welcome to create a JIRA at ApacheCamel"},{"owner":{"account_id":6446678,"reputation":75,"user_id":4994983,"display_name":"mdanish98"},"score":0,"creation_date":1679785890,"post_id":75840534,"comment_id":133783638,"body_markdown":"Camel core version : 3.20.2 Camel-PLC4X version : 3.20.2, actually I have tried using another endpoint configuration, like:\nplc4x:modbus-tcp://localhost:502?tags={unitId=1&amp;dataType=holding-register&amp;addresses=1}\nBut still, the tags are null while debugging. \nSure I will raise a ticket on Jira.","body":"Camel core version : 3.20.2 Camel-PLC4X version : 3.20.2, actually I have tried using another endpoint configuration, like: plc4x:modbus-tcp://localhost:502?tags={unitId=1&amp;dataType=hol&zwnj;&#8203;ding-register&amp;addres&zwnj;&#8203;ses=1} But still, the tags are null while debugging.  Sure I will raise a ticket on Jira."},{"owner":{"account_id":6446678,"reputation":75,"user_id":4994983,"display_name":"mdanish98"},"score":0,"creation_date":1679786269,"post_id":75840534,"comment_id":133783665,"body_markdown":"Also it is working if I configure it by creating a new instance of Plc4xEndpoint and configuring the tags manually there like below:\nMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n\t\t\tmap.put(&quot;value-1&quot;, &quot;holding-register:1&quot;);\n\t\t\t\n\t\t\tPlc4XEndpoint plc4xEndpoint = new Plc4XEndpoint(&quot;plc4x:modbus-tcp://localhost:502&quot;,\n\t\t\t\t\tgetContext().getComponent(&quot;plc4x&quot;));\n\t\t\tplc4xEndpoint.setTags(map);\n\t\t\tfrom(plc4xEndpoint).log(&quot;value : ${body}&quot;);\n\nBut why it is not working if I configure the endpoint as just String?","body":"Also it is working if I configure it by creating a new instance of Plc4xEndpoint and configuring the tags manually there like below: Map&lt;String, Object&gt; map = new HashMap&lt;&gt;(); \t\t\tmap.put(&quot;value-1&quot;, &quot;holding-register:1&quot;); \t\t\t \t\t\tPlc4XEndpoint plc4xEndpoint = new Plc4XEndpoint(&quot;plc4x:modbus-tcp://localhost:502&quot;, \t\t\t\t\tgetContext().getComponent(&quot;plc4x&quot;)); \t\t\tplc4xEndpoint.setTags(map); \t\t\tfrom(plc4xEndpoint).log(&quot;value : ${body}&quot;);  But why it is not working if I configure the endpoint as just String?"}],"owner":{"account_id":6446678,"reputation":75,"user_id":4994983,"display_name":"mdanish98"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679786208,"creation_date":1679733518,"question_id":75840534,"body_markdown":"I am using [ModbusPal][1] to create the Virtual modbus.\r\n\r\nI am using the endpoint URI as:\r\n\r\n    plc4x:modbus-tcp://localhost:502?unitId=1&amp;dataType=holding-register&amp;addresses=1\r\n\r\nFollowing is the screenshot of Modbus holding registers:\r\n[![enter image description here][2]][2]\r\n\r\nBut when starting camel context it throws NullPointerException.\r\n\r\n    java.lang.NullPointerException\r\n    \tat org.apache.camel.component.plc4x.Plc4XConsumer.startUnTriggered(Plc4XConsumer.java:89)\r\n    \tat org.apache.camel.component.plc4x.Plc4XConsumer.doStart(Plc4XConsumer.java:81)\r\n    \tat org.apache.camel.support.service.BaseService.start(BaseService.java:119)\r\n\r\nI debugged it and found the problem is with this line:\r\n\r\n            for (Map.Entry&lt;String, Object&gt; tag : tags.entrySet()) {\r\n\r\nHere **tags** is null, so basically I am not configuring the endpoint correctly.\r\n\r\nHow can I write the endpoint correctly?\r\n\r\n**Edit:**\r\nCamel core version : 3.20.2\r\nCamel-PLC4X version : 3.20.2\r\n\r\nBut when I am configuring the endpoint by creating an instance of Plc4XEndpoint and then configuring the tags there, it works like:\r\n\r\n    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n    \t\t\tmap.put(&quot;value-1&quot;, &quot;holding-register:1&quot;);\r\n    \t\t\t\r\n    \t\t\tPlc4XEndpoint plc4xEndpoint = new Plc4XEndpoint(&quot;plc4x:modbus-tcp://localhost:502&quot;,\r\n    \t\t\t\t\tgetContext().getComponent(&quot;plc4x&quot;));\r\n    \t\t\tplc4xEndpoint.setTags(map);\r\n    \t\t\tfrom(plc4xEndpoint).log(&quot;value : ${body}&quot;);\r\n\r\nBut why it is not working if I configure the endpoint as just String?\r\n\r\n  [1]: https://plc4x.apache.org/users/getting-started/virtual-modbus.html\r\n  [2]: https://i.stack.imgur.com/Oca1y.png","title":"How to create plc4x endpoint in camel","body":"<p>I am using <a href=\"https://plc4x.apache.org/users/getting-started/virtual-modbus.html\" rel=\"nofollow noreferrer\">ModbusPal</a> to create the Virtual modbus.</p>\n<p>I am using the endpoint URI as:</p>\n<pre><code>plc4x:modbus-tcp://localhost:502?unitId=1&amp;dataType=holding-register&amp;addresses=1\n</code></pre>\n<p>Following is the screenshot of Modbus holding registers:\n<a href=\"https://i.stack.imgur.com/Oca1y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Oca1y.png\" alt=\"enter image description here\" /></a></p>\n<p>But when starting camel context it throws NullPointerException.</p>\n<pre><code>java.lang.NullPointerException\n    at org.apache.camel.component.plc4x.Plc4XConsumer.startUnTriggered(Plc4XConsumer.java:89)\n    at org.apache.camel.component.plc4x.Plc4XConsumer.doStart(Plc4XConsumer.java:81)\n    at org.apache.camel.support.service.BaseService.start(BaseService.java:119)\n</code></pre>\n<p>I debugged it and found the problem is with this line:</p>\n<pre><code>        for (Map.Entry&lt;String, Object&gt; tag : tags.entrySet()) {\n</code></pre>\n<p>Here <strong>tags</strong> is null, so basically I am not configuring the endpoint correctly.</p>\n<p>How can I write the endpoint correctly?</p>\n<p><strong>Edit:</strong>\nCamel core version : 3.20.2\nCamel-PLC4X version : 3.20.2</p>\n<p>But when I am configuring the endpoint by creating an instance of Plc4XEndpoint and then configuring the tags there, it works like:</p>\n<pre><code>Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n            map.put(&quot;value-1&quot;, &quot;holding-register:1&quot;);\n            \n            Plc4XEndpoint plc4xEndpoint = new Plc4XEndpoint(&quot;plc4x:modbus-tcp://localhost:502&quot;,\n                    getContext().getComponent(&quot;plc4x&quot;));\n            plc4xEndpoint.setTags(map);\n            from(plc4xEndpoint).log(&quot;value : ${body}&quot;);\n</code></pre>\n<p>But why it is not working if I configure the endpoint as just String?</p>\n"},{"tags":["java","keycloak"],"comments":[{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1679761874,"post_id":75842360,"comment_id":133780419,"body_markdown":"The issue seems to be with your configuration. It&#39;s expecting the h2 database path but it&#39;s not finding it.","body":"The issue seems to be with your configuration. It&#39;s expecting the h2 database path but it&#39;s not finding it."},{"owner":{"account_id":28120468,"reputation":1,"user_id":21486791,"display_name":"InesBelhaj"},"score":0,"creation_date":1679778437,"post_id":75842360,"comment_id":133782765,"body_markdown":"I tried to resolve the issue by adding the path manually to the &quot;pom.xml&quot; file. However, it&#39;s not solved. Thus, I decided to build module by module. Now, I have the following error in the operator folder: &quot;Command execution failed.: Cannot run program &quot;C:\\Users\\inesb\\keycloak\\operator\\patch-sources.sh&quot; (in directory &quot;C:\\Users\\inesb\\keycloak\\operator&quot;): CreateProcess error=193, %1 is not a valid Win32 application -&gt; [Help 1]&quot; .  Knowing Keycloak can be installed on Windows, I don&#39;t know why I have this architecture mismatch.","body":"I tried to resolve the issue by adding the path manually to the &quot;pom.xml&quot; file. However, it&#39;s not solved. Thus, I decided to build module by module. Now, I have the following error in the operator folder: &quot;Command execution failed.: Cannot run program &quot;C:\\Users\\inesb\\keycloak\\operator\\patch-sources.sh&quot; (in directory &quot;C:\\Users\\inesb\\keycloak\\operator&quot;): CreateProcess error=193, %1 is not a valid Win32 application -&gt; [Help 1]&quot; .  Knowing Keycloak can be installed on Windows, I don&#39;t know why I have this architecture mismatch."},{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1679842578,"post_id":75842360,"comment_id":133789314,"body_markdown":"It&#39;s using the sh script. So will be built on a Linux machine or you have to install Cygwin or Linux subsystem. But it&#39;s not sure shell script uses which commands. So I would suggest to build on Linux.","body":"It&#39;s using the sh script. So will be built on a Linux machine or you have to install Cygwin or Linux subsystem. But it&#39;s not sure shell script uses which commands. So I would suggest to build on Linux."},{"owner":{"account_id":28120468,"reputation":1,"user_id":21486791,"display_name":"InesBelhaj"},"score":0,"creation_date":1679865601,"post_id":75842360,"comment_id":133793100,"body_markdown":"Is it possible to use Docker as another alternative ?","body":"Is it possible to use Docker as another alternative ?"}],"owner":{"account_id":28120468,"reputation":1,"user_id":21486791,"display_name":"InesBelhaj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679785154,"creation_date":1679754646,"question_id":75842360,"body_markdown":"I want to build Keycloak from source code on my computer to perform some coding.\r\nI followed the steps described in the Readme file on the git repository one by one. \r\n     \r\n     - Java version : 17.0.2\r\n     - Maven version : 3.9.1\r\n     - Git is already installed \r\n\r\nHowever, when I proceed to run the command &quot;mvn clean install&quot; after cloning the project, I get the following error: \r\n\r\n    [ERROR] ConfigurationTest.testDatabaseDefaults:259 \r\n    expected:jdbc:h2:file:C:[\\Users\\inesb\\data\\]h2/keycloakdb;;AUTO_... but \r\n    was:jdbc:h2:file:C:[/Users/inesb/data/]h2/keycloakdb;;AUTO_... [ERROR] \r\n    ConfigurationTest.testDatabaseProperties:337 expected:jdbc:h2:file: \r\n    [C:\\Users\\inesb\\data\\h2/keycloakdb;;AUTO_SERVER=TRUE];NON_KEYWORDS=VALUE \r\n    but was:jdbc:h2:file:[test- \r\n    dir/data/h2/keycloakdb;;test=test;test1=test1];NON_KEYWORDS=VALUE\r\n\r\nI also tried the command `&quot;mvn clean install -Pdistribution -DskipTests&quot;`. \r\n\r\nBut, I still get a build failure due the same error. \r\n\r\nI believe this issue may be related to path inconsistencies in the test configuration. However, I couldn&#39;t find a solution to the problem. \r\n\r\nI tried to modify the `ConfigurationTest` Class by implementing the Path class to create a Path object to represent the file path.\r\n\r\nHowever, it did not solve the issue.","title":"How to build Keycloak source code on Windows System","body":"<p>I want to build Keycloak from source code on my computer to perform some coding.\nI followed the steps described in the Readme file on the git repository one by one.</p>\n<pre><code> - Java version : 17.0.2\n - Maven version : 3.9.1\n - Git is already installed \n</code></pre>\n<p>However, when I proceed to run the command &quot;mvn clean install&quot; after cloning the project, I get the following error:</p>\n<pre><code>[ERROR] ConfigurationTest.testDatabaseDefaults:259 \nexpected:jdbc:h2:file:C:[\\Users\\inesb\\data\\]h2/keycloakdb;;AUTO_... but \nwas:jdbc:h2:file:C:[/Users/inesb/data/]h2/keycloakdb;;AUTO_... [ERROR] \nConfigurationTest.testDatabaseProperties:337 expected:jdbc:h2:file: \n[C:\\Users\\inesb\\data\\h2/keycloakdb;;AUTO_SERVER=TRUE];NON_KEYWORDS=VALUE \nbut was:jdbc:h2:file:[test- \ndir/data/h2/keycloakdb;;test=test;test1=test1];NON_KEYWORDS=VALUE\n</code></pre>\n<p>I also tried the command <code>&quot;mvn clean install -Pdistribution -DskipTests&quot;</code>.</p>\n<p>But, I still get a build failure due the same error.</p>\n<p>I believe this issue may be related to path inconsistencies in the test configuration. However, I couldn't find a solution to the problem.</p>\n<p>I tried to modify the <code>ConfigurationTest</code> Class by implementing the Path class to create a Path object to represent the file path.</p>\n<p>However, it did not solve the issue.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1575546555,"post_id":41356279,"comment_id":104607317,"body_markdown":"FYI, `Date` &amp; `Calendar` are both legacy as of the adoption of JSR 310 years ago. Supplanted by the modern *java.time* classes. For early Android, see the *ThreeTen-Backport* library and the *ThreeTenABP* wrapper.","body":"FYI, <code>Date</code> &amp; <code>Calendar</code> are both legacy as of the adoption of JSR 310 years ago. Supplanted by the modern <i>java.time</i> classes. For early Android, see the <i>ThreeTen-Backport</i> library and the <i>ThreeTenABP</i> wrapper."}],"answers":[{"tags":[],"owner":{"account_id":8419435,"reputation":2416,"user_id":6318630,"accept_rate":17,"display_name":"dsncode"},"down_vote_count":0,"up_vote_count":170,"is_accepted":false,"score":170,"last_activity_date":1524636701,"creation_date":1482905292,"answer_id":41356309,"question_id":41356279,"body_markdown":"Because you need to create an instance first.\r\n\r\ntry this\r\n\r\n    Calendar.getInstance().get(Calendar.YEAR);\r\n\r\nand you are good to go.","title":"How to get current year in android?","body":"<p>Because you need to create an instance first.</p>\n\n<p>try this</p>\n\n<pre><code>Calendar.getInstance().get(Calendar.YEAR);\n</code></pre>\n\n<p>and you are good to go.</p>\n"},{"tags":[],"owner":{"account_id":450762,"reputation":5576,"user_id":3831557,"display_name":"Rajen Raiyarela"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482905320,"creation_date":1482905320,"answer_id":41356313,"question_id":41356279,"body_markdown":"you should use\r\n\r\n`Calendar.getInstance().get(Calendar.YEAR)`;","title":"How to get current year in android?","body":"<p>you should use</p>\n\n<p><code>Calendar.getInstance().get(Calendar.YEAR)</code>;</p>\n"},{"tags":[],"owner":{"account_id":4639590,"reputation":2255,"user_id":3759846,"display_name":"Wajid"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1641996553,"creation_date":1482905363,"answer_id":41356320,"question_id":41356279,"body_markdown":"Yeah, you get an error because this is not a static method. First you need to create an instance of the Calendar class.&lt;br&gt;\r\ni.e.\r\n\r\n    Calendar calendar = Calendar.getInstance();\r\n    int year = calendar.get(Calendar.YEAR);\r\n\r\nIf your min API version is &lt;26, you can do a shorthand as well:\r\n\r\n    val yearInt = Year.now().value","title":"How to get current year in android?","body":"<p>Yeah, you get an error because this is not a static method. First you need to create an instance of the Calendar class.<br>\ni.e.</p>\n<pre><code>Calendar calendar = Calendar.getInstance();\nint year = calendar.get(Calendar.YEAR);\n</code></pre>\n<p>If your min API version is &lt;26, you can do a shorthand as well:</p>\n<pre><code>val yearInt = Year.now().value\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7114621,"reputation":43,"user_id":5441374,"display_name":"Wrong Chao"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1482905872,"creation_date":1482905872,"answer_id":41356413,"question_id":41356279,"body_markdown":"    // get current year、month and day\r\n    Calendar calendar = Calendar.getInstance();\r\n    int year = calendar.get(Calendar.YEAR);\r\n    int month = calendar.get(Calendar.MONTH);\r\n    int day = calendar.get(Calendar.DATE);\r\n    \r\n    // get current year millis\r\n    Time time = new Time(Time.TIMEZONE_UTC);\r\n    calendar.set(year, 0, 0, 0, 0, 0);\r\n    long year = calendar.getTimeInMillis();\r\n    time.set(year);\r\n    year = time.toMillis(true);\r\n","title":"How to get current year in android?","body":"<pre><code>// get current year、month and day\nCalendar calendar = Calendar.getInstance();\nint year = calendar.get(Calendar.YEAR);\nint month = calendar.get(Calendar.MONTH);\nint day = calendar.get(Calendar.DATE);\n\n// get current year millis\nTime time = new Time(Time.TIMEZONE_UTC);\ncalendar.set(year, 0, 0, 0, 0, 0);\nlong year = calendar.getTimeInMillis();\ntime.set(year);\nyear = time.toMillis(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11610316,"reputation":45,"user_id":8504730,"display_name":"Mustafa Karim"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1507108889,"creation_date":1507106648,"answer_id":46560596,"question_id":41356279,"body_markdown":"you can use `Calendar.getInstance() .get(Calendar.YEAR )` also for **Kotlin** language purposes ","title":"How to get current year in android?","body":"<p>you can use <code>Calendar.getInstance() .get(Calendar.YEAR )</code> also for <strong>Kotlin</strong> language purposes </p>\n"},{"tags":[],"owner":{"account_id":2670434,"reputation":1804,"user_id":2307970,"accept_rate":29,"display_name":"Zidane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507106922,"creation_date":1507106922,"answer_id":46560679,"question_id":41356279,"body_markdown":"Have you tried the code below \r\n\r\nCalendar c = Calendar.getInstance();\r\n\r\n    int seconds = c.get(Calendar.SECOND);\r\n    int hour = c.get(Calendar.HOUR_OF_DAY); // IF YOU USE HOUR IT WILL GIVE 12 HOUR USE HOUR_OF_DAY TO GET 24 HOUR FORMAT\r\n    int minutes = c.get(Calendar.MINUTE);\r\n    int date = c.get(Calendar.DATE);\r\n    int month = c.get(Calendar.MONTH) + 1; // in java month starts from 0 not from 1 so for december 11+1 = 12\r\n    int year = c.get(Calendar.YEAR);","title":"How to get current year in android?","body":"<p>Have you tried the code below </p>\n\n<p>Calendar c = Calendar.getInstance();</p>\n\n<pre><code>int seconds = c.get(Calendar.SECOND);\nint hour = c.get(Calendar.HOUR_OF_DAY); // IF YOU USE HOUR IT WILL GIVE 12 HOUR USE HOUR_OF_DAY TO GET 24 HOUR FORMAT\nint minutes = c.get(Calendar.MINUTE);\nint date = c.get(Calendar.DATE);\nint month = c.get(Calendar.MONTH) + 1; // in java month starts from 0 not from 1 so for december 11+1 = 12\nint year = c.get(Calendar.YEAR);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1679784788,"creation_date":1507124935,"answer_id":46566610,"question_id":41356279,"body_markdown":"# tl;dr \r\n\r\n    Year.now()\r\n        .getValue()\r\n\r\n&gt;2023\r\n\r\n\r\n# java.time\r\n\r\nThe other Answers use the troublesome old date-time classes such as Calendar. These are supplanted by the java.time classes. For older versions of Android, see the ThreeTen-Backport and ThreeTenABP projects. \r\n\r\n## `Year` class\r\n\r\nRather than pass around mere integers to represent a year, pass around objects. Namely, the [`Year`](https://docs.oracle.com/javase/9/docs/api/java/time/Year.html) class.\r\n\r\nGetting the current year requires a time zone. For any given moment, the date varies around the globe by zone. So it is possible for `Pacific/Auckland` to be on 2018 while `America/Montreal` is in 2017 simultaneously. \r\n\r\nBetter to pass explicitly the desired/expected zone. If omitted, you implicitly get the JVM’s current default time zone. That default can change at any moment during runtime, so it is not reliable. \r\n\r\n\r\n    ZoneId z = ZoneId.of( &quot;Asia/Kolkata&quot; ) ;\r\n    Year y = Year.now( z ) ;\r\n\r\nWhen you do need an integer, extract the value.\r\n\r\n    int yearNumber = y.getValue() ;\r\n\r\n\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes. Hibernate 5 &amp; JPA 2.2 support *java.time*. \r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n   - [**Java 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) brought some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n   - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n   - Later versions of Android (26+) bundle implementations of the *java.time* classes.\r\n   - For earlier Android (&lt;26), the process of [*API desugaring*](https://developer.android.com/studio/write/java8-support#library-desugaring) brings a [subset of the *java.time*](https://developer.android.com/studio/write/java8-support-table) functionality not originally built into Android.\r\n     - If the desugaring does not offer what you need, the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above) to Android. See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n\r\n\r\n","title":"How to get current year in android?","body":"<h1>tl;dr</h1>\n<pre><code>Year.now()\n    .getValue()\n</code></pre>\n<blockquote>\n<p>2023</p>\n</blockquote>\n<h1>java.time</h1>\n<p>The other Answers use the troublesome old date-time classes such as Calendar. These are supplanted by the java.time classes. For older versions of Android, see the ThreeTen-Backport and ThreeTenABP projects.</p>\n<h2><code>Year</code> class</h2>\n<p>Rather than pass around mere integers to represent a year, pass around objects. Namely, the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/Year.html\" rel=\"nofollow noreferrer\"><code>Year</code></a> class.</p>\n<p>Getting the current year requires a time zone. For any given moment, the date varies around the globe by zone. So it is possible for <code>Pacific/Auckland</code> to be on 2018 while <code>America/Montreal</code> is in 2017 simultaneously.</p>\n<p>Better to pass explicitly the desired/expected zone. If omitted, you implicitly get the JVM’s current default time zone. That default can change at any moment during runtime, so it is not reliable.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Asia/Kolkata&quot; ) ;\nYear y = Year.now( z ) ;\n</code></pre>\n<p>When you do need an integer, extract the value.</p>\n<pre><code>int yearNumber = y.getValue() ;\n</code></pre>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes. Hibernate 5 &amp; JPA 2.2 support <em>java.time</em>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"nofollow noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"nofollow noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java 9</strong></a> brought some minor features and fixes.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a>\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n<ul>\n<li>Later versions of Android (26+) bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the process of <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"nofollow noreferrer\"><em>API desugaring</em></a> brings a <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">subset of the <em>java.time</em></a> functionality not originally built into Android.\n<ul>\n<li>If the desugaring does not offer what you need, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above) to Android. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1634981,"reputation":7135,"user_id":1508724,"accept_rate":68,"display_name":"T D Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658801136,"creation_date":1658801136,"answer_id":73117031,"question_id":41356279,"body_markdown":"WIth Kotlin\r\n\r\n    LocalDateTime.now().year","title":"How to get current year in android?","body":"<p>WIth Kotlin</p>\n<pre><code>LocalDateTime.now().year\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8727017,"reputation":171,"user_id":6528374,"display_name":"Swapnil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673520614,"creation_date":1673420344,"answer_id":75079320,"question_id":41356279,"body_markdown":"in kotlin you can get  \r\n\r\n    val calendar: Calendar = Calendar.getInstance()\r\n    val currentYear = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n           LocalDate.now().year\r\n     } else {\r\n          calendar[Calendar.YEAR]\r\n     }\r\n\r\n","title":"How to get current year in android?","body":"<p>in kotlin you can get</p>\n<pre><code>val calendar: Calendar = Calendar.getInstance()\nval currentYear = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n       LocalDate.now().year\n } else {\n      calendar[Calendar.YEAR]\n }\n</code></pre>\n"}],"owner":{"account_id":8516814,"reputation":3204,"user_id":6390459,"accept_rate":75,"display_name":"Shunan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80470,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"accepted_answer_id":41356320,"answer_count":9,"score":58,"last_activity_date":1679784788,"creation_date":1482905145,"question_id":41356279,"body_markdown":"I tried\r\n\r\n    int year = Calendar.get(Calendar.YEAR);\r\n\r\nbut it is giving me compile time error that \r\n\r\n&gt; Non-static method &#39;get(int)&#39; cannot be referenced from a static context.\r\n\r\nI am calling this method from call method of observable.\r\n\r\n \r\n\r\n    Observable.combineLatest(ob1 ob2,\r\n                    ob3, new Func3&lt;String, String, String, Boolean&gt;() {\r\n                        @Override\r\n                        public Boolean call(String a, String b, String c) {...\r\n\r\nI had also seen `(new Date()).getYear();` but it is deprecated.\r\n","title":"How to get current year in android?","body":"<p>I tried</p>\n\n<pre><code>int year = Calendar.get(Calendar.YEAR);\n</code></pre>\n\n<p>but it is giving me compile time error that </p>\n\n<blockquote>\n  <p>Non-static method 'get(int)' cannot be referenced from a static context.</p>\n</blockquote>\n\n<p>I am calling this method from call method of observable.</p>\n\n<pre><code>Observable.combineLatest(ob1 ob2,\n                ob3, new Func3&lt;String, String, String, Boolean&gt;() {\n                    @Override\n                    public Boolean call(String a, String b, String c) {...\n</code></pre>\n\n<p>I had also seen <code>(new Date()).getYear();</code> but it is deprecated.</p>\n"},{"tags":["java","android","flutter","android-studio"],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1631476420,"creation_date":1631474567,"answer_id":69154555,"question_id":69110608,"body_markdown":"In the screen you&#39;ve shown, just use &quot;Android Studio default JDK&quot; (or any other JDK 11).\r\n\r\n    Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle &gt; Gradle JDK.\r\n\r\nYou&#39;d also need to setup the same path as `JAVA_HOME` environmental variable, as well as `ANDROID_HOME`. In Windows, these can be added below `Settings` &gt; `Advanced System Settings` &gt; `Environmental Variables`. Flutter needs these set up to find the CLI tools ...\r\nand the problem might not be the [CLI tools][1] themselves, but that it doesn&#39;t know about the Java SDK or Android SDK at all.\r\n\r\n  [1]: https://developer.android.com/studio#command-tools","title":"Flutter doctor results with &quot;cmdline-tools component is missing&quot;","body":"<p>In the screen you've shown, just use &quot;Android Studio default JDK&quot; (or any other JDK 11).</p>\n<pre><code>Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle &gt; Gradle JDK.\n</code></pre>\n<p>You'd also need to setup the same path as <code>JAVA_HOME</code> environmental variable, as well as <code>ANDROID_HOME</code>. In Windows, these can be added below <code>Settings</code> &gt; <code>Advanced System Settings</code> &gt; <code>Environmental Variables</code>. Flutter needs these set up to find the CLI tools ...\nand the problem might not be the <a href=\"https://developer.android.com/studio#command-tools\" rel=\"nofollow noreferrer\">CLI tools</a> themselves, but that it doesn't know about the Java SDK or Android SDK at all.</p>\n"},{"tags":[],"owner":{"account_id":19145701,"reputation":1582,"user_id":13984728,"display_name":"Mithson"},"down_vote_count":0,"up_vote_count":81,"is_accepted":true,"score":81,"last_activity_date":1672631542,"creation_date":1631542638,"answer_id":69164282,"question_id":69110608,"body_markdown":"You can follow the below steps in order to ensure proper working of your flutter project:\r\n\r\nYour sdk manager should look something like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**1. Installing Android SDK Command-line Tools in Android Studio:**\r\n\r\n`Preferences` &gt; `Appearance &amp; Behavior` &gt; `System Settings` &gt; `Android SDK` &gt; `SDK Tools` &gt; \r\n\r\n**Install these 3 tools:**\r\n- Android SDK Command-line Tools (latest)\r\n- Android SDK Build Tools 31\r\n- Android SDK Platform tools (latest version 31)\r\n\r\nMake sure every tool is the same latest version in order to avoid any errors as there might be new updates later on.\r\n\r\n\r\n2. Also make sure to **Accept Android Licences** by running below command in your cmd:\r\n\r\n```\r\nflutter doctor --android-licenses\r\n```\r\n\r\nIf anything above didn&#39;t work out make sure you have set the proper JDK/JRE locations in environment variables in system settings of windows: \r\n\r\nAdd below path in your System environment path variable for **user variable** as well as your **system variable**:\r\n\r\n\r\n     C:\\Program Files\\Java\\jdkXXXXX\\bin \r\n\r\nHere, XXX is your version, and this should be added in your sys var and user both\r\n\r\n    C:\\Users\\Neha\\AppData\\Local\\Android\\Sdk\\tools\r\n    C:\\Users\\Neha\\AppData\\Local\\Android\\Sdk\\build-tools\r\n    C:\\Users\\Neha\\AppData\\Local\\Android\\Sdk\\platform-tools\r\n\r\nThe above three paths should be added in your user variable path. Check the two screenshots attached below for proper path settings.\r\nI have added android studio&#39;s tools path also so do that as I have done in screenshot.\r\n\r\nThis one is for user variable path:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThis one is for system variable path:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nFollow [source][4] to learn more about setting the path for java.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/De17f.png\r\n  [2]: https://i.stack.imgur.com/VzUiT.png\r\n  [3]: https://i.stack.imgur.com/uAtm0.png\r\n  [4]: https://docs.oracle.com/cd/E19182-01/820-7851/inst_cli_jdk_javahome_t/index.html\r\n","title":"Flutter doctor results with &quot;cmdline-tools component is missing&quot;","body":"<p>You can follow the below steps in order to ensure proper working of your flutter project:</p>\n<p>Your sdk manager should look something like this:</p>\n<p><a href=\"https://i.stack.imgur.com/De17f.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/De17f.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>1. Installing Android SDK Command-line Tools in Android Studio:</strong></p>\n<p><code>Preferences</code> &gt; <code>Appearance &amp; Behavior</code> &gt; <code>System Settings</code> &gt; <code>Android SDK</code> &gt; <code>SDK Tools</code> &gt;</p>\n<p><strong>Install these 3 tools:</strong></p>\n<ul>\n<li>Android SDK Command-line Tools (latest)</li>\n<li>Android SDK Build Tools 31</li>\n<li>Android SDK Platform tools (latest version 31)</li>\n</ul>\n<p>Make sure every tool is the same latest version in order to avoid any errors as there might be new updates later on.</p>\n<ol start=\"2\">\n<li>Also make sure to <strong>Accept Android Licences</strong> by running below command in your cmd:</li>\n</ol>\n<pre><code>flutter doctor --android-licenses\n</code></pre>\n<p>If anything above didn't work out make sure you have set the proper JDK/JRE locations in environment variables in system settings of windows:</p>\n<p>Add below path in your System environment path variable for <strong>user variable</strong> as well as your <strong>system variable</strong>:</p>\n<pre><code> C:\\Program Files\\Java\\jdkXXXXX\\bin \n</code></pre>\n<p>Here, XXX is your version, and this should be added in your sys var and user both</p>\n<pre><code>C:\\Users\\Neha\\AppData\\Local\\Android\\Sdk\\tools\nC:\\Users\\Neha\\AppData\\Local\\Android\\Sdk\\build-tools\nC:\\Users\\Neha\\AppData\\Local\\Android\\Sdk\\platform-tools\n</code></pre>\n<p>The above three paths should be added in your user variable path. Check the two screenshots attached below for proper path settings.\nI have added android studio's tools path also so do that as I have done in screenshot.</p>\n<p>This one is for user variable path:</p>\n<p><a href=\"https://i.stack.imgur.com/VzUiT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/VzUiT.png\" alt=\"enter image description here\" /></a></p>\n<p>This one is for system variable path:</p>\n<p><a href=\"https://i.stack.imgur.com/uAtm0.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/uAtm0.png\" alt=\"enter image description here\" /></a></p>\n<p>Follow <a href=\"https://docs.oracle.com/cd/E19182-01/820-7851/inst_cli_jdk_javahome_t/index.html\" rel=\"noreferrer\">source</a> to learn more about setting the path for java.</p>\n"},{"tags":[],"owner":{"account_id":21664684,"reputation":11,"user_id":15983281,"display_name":"Vicky"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1643395348,"creation_date":1643395348,"answer_id":70898743,"question_id":69110608,"body_markdown":"If you are installing Flutter without Android Studio.\r\nRun this command in your Android/bin folder directory where you have your sdkmanager.bat file.\r\nIn my case its `C:\\Android\\bin&gt;`.\r\ntype this command\r\n\r\n    sdkmanager.bat --install &quot;cmdline-tools;latest --sdk_root=../\r\n\r\nThis worked for me and I hope it will work for you too.","title":"Flutter doctor results with &quot;cmdline-tools component is missing&quot;","body":"<p>If you are installing Flutter without Android Studio.\nRun this command in your Android/bin folder directory where you have your sdkmanager.bat file.\nIn my case its <code>C:\\Android\\bin&gt;</code>.\ntype this command</p>\n<pre><code>sdkmanager.bat --install &quot;cmdline-tools;latest --sdk_root=../\n</code></pre>\n<p>This worked for me and I hope it will work for you too.</p>\n"},{"tags":[],"owner":{"account_id":24318247,"reputation":11,"user_id":18259087,"display_name":"Sherin S"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1645353096,"creation_date":1645353096,"answer_id":71193515,"question_id":69110608,"body_markdown":"If you have installed Flutter without Android Studio. Run this command in your Android/bin folder directory where you have your sdkmanager.bat file. In my case its C:\\Android\\bin&gt;\r\n```\r\nsdkmanager.bat &quot;cmdline-tools;latest&quot; --sdk_root=../\r\n```","title":"Flutter doctor results with &quot;cmdline-tools component is missing&quot;","body":"<p>If you have installed Flutter without Android Studio. Run this command in your Android/bin folder directory where you have your sdkmanager.bat file. In my case its C:\\Android\\bin&gt;</p>\n<pre><code>sdkmanager.bat &quot;cmdline-tools;latest&quot; --sdk_root=../\n</code></pre>\n"}],"owner":{"account_id":17072221,"reputation":533,"user_id":12352707,"display_name":"Jhon Piper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43735,"favorite_count":0,"down_vote_count":2,"up_vote_count":35,"accepted_answer_id":69164282,"answer_count":4,"score":33,"last_activity_date":1679784627,"creation_date":1631143131,"question_id":69110608,"body_markdown":"I have tried the answers at [here][1] &amp; [here][2] to no avail.\r\n\r\nAfter installing Android Studio &amp; Flutter on Windows 10, when I run `flutter doctor`, I get the following:\r\n\r\n    [√] Flutter (Channel stable, 2.5.0, on Microsoft Windows [Version 10.0.19043.1202], locale en-US)\r\n    [X] Android toolchain - develop for Android devices\r\n        X cmdline-tools component is missing\r\n          Run `path/to/sdkmanager --install &quot;cmdline-tools;latest&quot;`\r\n          See https://developer.android.com/studio/command-line for more details.\r\n    [√] Chrome - develop for the web\r\n    [√] Android Studio (version 2020.3)\r\n    [√] VS Code (version 1.60.0)\r\n    [√] Connected device (2 available)\r\n\r\nOpening `Android Studio &gt; SDK Manager &gt; Android SDK &gt; SDK Tools` uninstalling and re-installing `Android SDK Command-line Tools (latest)` has no effect.\r\n\r\nI have also added `&lt;pathToSDK&gt;\\tools\\bin`, `&lt;pathToSDK&gt;\\platform-tools\\`, and `&lt;pathToSDK&gt;\\cmdline-tools\\latest\\bin` to the user PATH environment variables.\r\n\r\nFollowing the flutter instructions and running `&lt;pathToSDKManager&gt; --install &quot;cmdline-tools;latest&quot;` (Which for me is located in `&lt;pathToSDK&gt;\\cmdline-tools\\latest\\bin`) results with:\r\n\r\n    ERROR: JAVA_HOME is not set and no &#39;java&#39; command could be found in your PATH.\r\n    \r\n    Please set the JAVA_HOME variable in your environment to match the\r\n    location of your Java installation.\r\n\r\nI haven&#39;t been able to find any documentation on this other than that I need to install some  version on Java and add it to my path. The https://flutter.dev/docs/get-started/install/windows page mentions &quot;Make sure that you have a version of Java 8 installed and that your JAVA_HOME environment variable is set to the JDK’s folder.&quot; and then states &quot;Android Studio versions 2.2 and higher come with a JDK, so this should already be done.&quot; but doesn&#39;t elaborate further.\r\n\r\nOpening Android Studio and going to `File &gt; Project Structure &gt; Project &gt; Project SDK` I can see that Android Studio already recognized several versions of Java installed:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/68236007/i-am-getting-this-errors-cmdline-tools-component-is-missing-after-installing-f\r\n  [2]: https://stackoverflow.com/questions/68416723/i-am-getting-this-errors-cmdline-tools-component-is-missing-i-have-installed-f\r\n  [3]: https://i.stack.imgur.com/8gktF.png","title":"Flutter doctor results with &quot;cmdline-tools component is missing&quot;","body":"<p>I have tried the answers at <a href=\"https://stackoverflow.com/questions/68236007/i-am-getting-this-errors-cmdline-tools-component-is-missing-after-installing-f\">here</a> &amp; <a href=\"https://stackoverflow.com/questions/68416723/i-am-getting-this-errors-cmdline-tools-component-is-missing-i-have-installed-f\">here</a> to no avail.</p>\n<p>After installing Android Studio &amp; Flutter on Windows 10, when I run <code>flutter doctor</code>, I get the following:</p>\n<pre><code>[√] Flutter (Channel stable, 2.5.0, on Microsoft Windows [Version 10.0.19043.1202], locale en-US)\n[X] Android toolchain - develop for Android devices\n    X cmdline-tools component is missing\n      Run `path/to/sdkmanager --install &quot;cmdline-tools;latest&quot;`\n      See https://developer.android.com/studio/command-line for more details.\n[√] Chrome - develop for the web\n[√] Android Studio (version 2020.3)\n[√] VS Code (version 1.60.0)\n[√] Connected device (2 available)\n</code></pre>\n<p>Opening <code>Android Studio &gt; SDK Manager &gt; Android SDK &gt; SDK Tools</code> uninstalling and re-installing <code>Android SDK Command-line Tools (latest)</code> has no effect.</p>\n<p>I have also added <code>&lt;pathToSDK&gt;\\tools\\bin</code>, <code>&lt;pathToSDK&gt;\\platform-tools\\</code>, and <code>&lt;pathToSDK&gt;\\cmdline-tools\\latest\\bin</code> to the user PATH environment variables.</p>\n<p>Following the flutter instructions and running <code>&lt;pathToSDKManager&gt; --install &quot;cmdline-tools;latest&quot;</code> (Which for me is located in <code>&lt;pathToSDK&gt;\\cmdline-tools\\latest\\bin</code>) results with:</p>\n<pre><code>ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH.\n\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.\n</code></pre>\n<p>I haven't been able to find any documentation on this other than that I need to install some  version on Java and add it to my path. The <a href=\"https://flutter.dev/docs/get-started/install/windows\" rel=\"noreferrer\">https://flutter.dev/docs/get-started/install/windows</a> page mentions &quot;Make sure that you have a version of Java 8 installed and that your JAVA_HOME environment variable is set to the JDK’s folder.&quot; and then states &quot;Android Studio versions 2.2 and higher come with a JDK, so this should already be done.&quot; but doesn't elaborate further.</p>\n<p>Opening Android Studio and going to <code>File &gt; Project Structure &gt; Project &gt; Project SDK</code> I can see that Android Studio already recognized several versions of Java installed:</p>\n<p><a href=\"https://i.stack.imgur.com/8gktF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/8gktF.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","graph-databases","janusgraph"],"comments":[{"owner":{"account_id":22385601,"reputation":1411,"user_id":16598470,"display_name":"HadoopMarc"},"score":0,"creation_date":1679858103,"post_id":75844887,"comment_id":133791970,"body_markdown":"For inspiration, see: https://www.datastax.com/blog/gremlins-time-machine","body":"For inspiration, see: <a href=\"https://www.datastax.com/blog/gremlins-time-machine\" rel=\"nofollow noreferrer\">datastax.com/blog/gremlins-time-machine</a>"},{"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"score":2,"creation_date":1680352872,"post_id":75844887,"comment_id":133886027,"body_markdown":"Is the concern more over running out of storage or the cost of storage? A key thing to consider is query efficiency. You only have 3 basic building blocks to work with.  Nodes, Edges, and Properties. Using nodes and edges to represent the version chain might use more storage, but might also allow simple query writing and efficient query execution.","body":"Is the concern more over running out of storage or the cost of storage? A key thing to consider is query efficiency. You only have 3 basic building blocks to work with.  Nodes, Edges, and Properties. Using nodes and edges to represent the version chain might use more storage, but might also allow simple query writing and efficient query execution."},{"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"score":0,"creation_date":1680353209,"post_id":75844887,"comment_id":133886073,"body_markdown":"What information will you need to retrieve that is unique to each version?","body":"What information will you need to retrieve that is unique to each version?"},{"owner":{"account_id":7259207,"reputation":92,"user_id":5536648,"display_name":"A R K"},"score":0,"creation_date":1680371853,"post_id":75844887,"comment_id":133888805,"body_markdown":"Thanks Kelvin, the concern is related to the overall storage costs as their are millions of records already without using the version and facing latency issues in multiple hop queries, as one record could be updated multiple times may be more than 1000 and one record is related to more than 10000 related records in the  Graph, so just thinking to avoid storage cost, I require to retrieve the relationship based on version, so if record 1 version 1 is related to record to version 1 and record 1 version 2 is related to record 2 version 2, so I require to return versioned graph  for record r1:v1","body":"Thanks Kelvin, the concern is related to the overall storage costs as their are millions of records already without using the version and facing latency issues in multiple hop queries, as one record could be updated multiple times may be more than 1000 and one record is related to more than 10000 related records in the  Graph, so just thinking to avoid storage cost, I require to retrieve the relationship based on version, so if record 1 version 1 is related to record to version 1 and record 1 version 2 is related to record 2 version 2, so I require to return versioned graph  for record r1:v1"}],"owner":{"account_id":7259207,"reputation":92,"user_id":5536648,"display_name":"A R K"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679783858,"creation_date":1679783482,"question_id":75844887,"body_markdown":"Suppose there are multiple versions of a record A say v1, v2,v3 and vn, and A is related to B till version v2 and A is related to C from version v3\r\n\r\nSuppose A represent the record Id and vi represent the version where i &lt;= n\r\n\r\nSo the Graph Relationship could look like Av1 -&gt; Bv1 (Reads as A version v1 is related to B version v1)\r\nSimilarly Av2 -&gt; Bv2, Av3 -&gt; Cv1 and so on.\r\n\r\nSo what could be the best way to store these kind of versioned relationship in Graph database like Janusgraph?\r\n\r\nStoring separate vertex for each version will cause storage size to be increased, is there any good approach where storage size can be kept minimal and still we are able to query &quot;give me all related records for record A with version 1&quot; ?\r\n\r\nI am trying to create vertex for each version of a record in Graph database but this is causing the Graph database size to increased exponentially as there are multiple updates coming for the same record and with new version we need to create new vertices and edges to maintain the relationships","title":"Best way to store multiple versions of a record in Graph Database say JanusGraph","body":"<p>Suppose there are multiple versions of a record A say v1, v2,v3 and vn, and A is related to B till version v2 and A is related to C from version v3</p>\n<p>Suppose A represent the record Id and vi represent the version where i &lt;= n</p>\n<p>So the Graph Relationship could look like Av1 -&gt; Bv1 (Reads as A version v1 is related to B version v1)\nSimilarly Av2 -&gt; Bv2, Av3 -&gt; Cv1 and so on.</p>\n<p>So what could be the best way to store these kind of versioned relationship in Graph database like Janusgraph?</p>\n<p>Storing separate vertex for each version will cause storage size to be increased, is there any good approach where storage size can be kept minimal and still we are able to query &quot;give me all related records for record A with version 1&quot; ?</p>\n<p>I am trying to create vertex for each version of a record in Graph database but this is causing the Graph database size to increased exponentially as there are multiple updates coming for the same record and with new version we need to create new vertices and edges to maintain the relationships</p>\n"},{"tags":["java","spring-boot","jackson-databind"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1679734117,"post_id":75838411,"comment_id":133776674,"body_markdown":"As you noticed jackson deals with json payloads. [FormHttpMessageConverter](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/FormHttpMessageConverter.html) handles `x-www-form-urlencoded`. I&#39;m not sure if this will work, but you can try extending it to create a class to meet your needs.","body":"As you noticed jackson deals with json payloads. <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/FormHttpMessageConverter.html\" rel=\"nofollow noreferrer\">FormHttpMessageConverter</a> handles <code>x-www-form-urlencoded</code>. I&#39;m not sure if this will work, but you can try extending it to create a class to meet your needs."}],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679782393,"creation_date":1679782393,"answer_id":75844823,"question_id":75838411,"body_markdown":"You can use the [`RequestParam`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html) annotation that combines query parameters and form data into a single map called &quot;parameters&quot;, and that includes automatic parsing of the request body like below:\r\n\r\n~~~\r\npublic ResponseEntity&lt;Void&gt; test(@RequestParam Map&lt;String, String&gt; parameters) {}\r\n~~~\r\n\r\nThen you can use an [`ObjectMapper`](https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/ObjectMapper.html) instance to convert your `Map&lt;String, String&gt;` parameters to a subclass of your `AbstractClazz` depending from the value of the *discriminator* key obtaining the expected result:\r\n\r\n~~~\r\n@PostMapping(consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE)\r\npublic ResponseEntity&lt;Void&gt; test(@RequestParam Map&lt;String, String&gt; parameters) {\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    AbstractClazz clazz = mapper.convertValue(parameters, AbstractClazz.class); \r\n    return ResponseEntity.ok().build();\r\n}\r\n~~~\r\n","title":"Use abstract class with x-www-form-urlencoded content-type","body":"<p>You can use the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html\" rel=\"nofollow noreferrer\"><code>RequestParam</code></a> annotation that combines query parameters and form data into a single map called &quot;parameters&quot;, and that includes automatic parsing of the request body like below:</p>\n<pre><code>public ResponseEntity&lt;Void&gt; test(@RequestParam Map&lt;String, String&gt; parameters) {}\n</code></pre>\n<p>Then you can use an <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/ObjectMapper.html\" rel=\"nofollow noreferrer\"><code>ObjectMapper</code></a> instance to convert your <code>Map&lt;String, String&gt;</code> parameters to a subclass of your <code>AbstractClazz</code> depending from the value of the <em>discriminator</em> key obtaining the expected result:</p>\n<pre><code>@PostMapping(consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE)\npublic ResponseEntity&lt;Void&gt; test(@RequestParam Map&lt;String, String&gt; parameters) {\n    ObjectMapper mapper = new ObjectMapper();\n    AbstractClazz clazz = mapper.convertValue(parameters, AbstractClazz.class); \n    return ResponseEntity.ok().build();\n}\n</code></pre>\n"}],"owner":{"account_id":14450502,"reputation":314,"user_id":10438187,"display_name":"Poklakni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75844823,"answer_count":1,"score":1,"last_activity_date":1679782393,"creation_date":1679695305,"question_id":75838411,"body_markdown":"I have an abstract class\r\n```java\r\npublic abstract class AbstractClazz {\r\n\r\n    private String discriminator;\r\n\r\n    // getter, setter\r\n}\r\n```\r\n\r\nand I have multiple implementations of this class, one of them could look like this\r\n```java\r\npublic class ConcreteClazz {\r\n\r\n    private String value;\r\n\r\n    // getter, setter\r\n}\r\n```\r\n\r\nalso I have an endpoint that consumes x-www-form-urlencoded content type only.\r\n```java\r\n@PostMapping(consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE)\r\npublic ResponseEntity&lt;Void&gt; test(AbstractClazz abstractClazz) {\r\n    System.out.println(abstractClazz);\r\n    return ResponseEntity.ok().build();\r\n}\r\n```\r\n\r\nWhat I want to achieve is to deserialize to a concrete class based on the discriminator parameter in AbstractClazz. I&#39;ve tried using jackson @JsonSybTypes and @JsonTypeInfo annotations on the abstract class but it only works if the payload comes as json in request body and not as x-www-form-urlencoded content.\r\n\r\n```java\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;discriminator&quot;)\r\n@JsonSubTypes(@JsonSubTypes.Type(value = ConcreteClazz.class, name = &quot;concrete&quot;))\r\npublic abstract class AbstractClazz {\r\n\r\n    private String discriminator;\r\n\r\n    // getter, setter\r\n}\r\n```\r\nIs there a way how to achieve the same behavior with x-www-form-urlencoded content type?  \r\nThe error I get is \r\n```\r\nRequest processing failed: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.example.AbstractClazz]: Is it an abstract class?] with root cause\r\n\r\njava.lang.InstantiationException: null\r\n```","title":"Use abstract class with x-www-form-urlencoded content-type","body":"<p>I have an abstract class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class AbstractClazz {\n\n    private String discriminator;\n\n    // getter, setter\n}\n</code></pre>\n<p>and I have multiple implementations of this class, one of them could look like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ConcreteClazz {\n\n    private String value;\n\n    // getter, setter\n}\n</code></pre>\n<p>also I have an endpoint that consumes x-www-form-urlencoded content type only.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE)\npublic ResponseEntity&lt;Void&gt; test(AbstractClazz abstractClazz) {\n    System.out.println(abstractClazz);\n    return ResponseEntity.ok().build();\n}\n</code></pre>\n<p>What I want to achieve is to deserialize to a concrete class based on the discriminator parameter in AbstractClazz. I've tried using jackson @JsonSybTypes and @JsonTypeInfo annotations on the abstract class but it only works if the payload comes as json in request body and not as x-www-form-urlencoded content.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;discriminator&quot;)\n@JsonSubTypes(@JsonSubTypes.Type(value = ConcreteClazz.class, name = &quot;concrete&quot;))\npublic abstract class AbstractClazz {\n\n    private String discriminator;\n\n    // getter, setter\n}\n</code></pre>\n<p>Is there a way how to achieve the same behavior with x-www-form-urlencoded content type?<br />\nThe error I get is</p>\n<pre><code>Request processing failed: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.example.AbstractClazz]: Is it an abstract class?] with root cause\n\njava.lang.InstantiationException: null\n</code></pre>\n"},{"tags":["java","spring-boot","apache-camel","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":86421,"reputation":1450,"user_id":240342,"accept_rate":71,"display_name":"Steve Huston"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676052588,"creation_date":1676052588,"answer_id":75414694,"question_id":75385663,"body_markdown":"I have not tried this, but I&#39;m guessing Camel wants a bean annotated as a typeconverter to use for the .convertBodyTo directive.\r\n\r\nSince the actual converter is a generated class I&#39;m not sure how you would do that... maybe there&#39;s a way to define it in an XML file Camel reads.","title":"Apache Camel Mapstruct integration","body":"<p>I have not tried this, but I'm guessing Camel wants a bean annotated as a typeconverter to use for the .convertBodyTo directive.</p>\n<p>Since the actual converter is a generated class I'm not sure how you would do that... maybe there's a way to define it in an XML file Camel reads.</p>\n"},{"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679781721,"creation_date":1679781721,"answer_id":75844775,"question_id":75385663,"body_markdown":"There was a recent bug in camel-mapstruct-starter for SB that it did not auto-configure itself correctly, when you did not use mapstruct as a component in the routes.\r\n\r\nThis will be fixed in upcoming Camel releases:\r\nhttps://issues.apache.org/jira/browse/CAMEL-19181","title":"Apache Camel Mapstruct integration","body":"<p>There was a recent bug in camel-mapstruct-starter for SB that it did not auto-configure itself correctly, when you did not use mapstruct as a component in the routes.</p>\n<p>This will be fixed in upcoming Camel releases:\n<a href=\"https://issues.apache.org/jira/browse/CAMEL-19181\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/CAMEL-19181</a></p>\n"}],"owner":{"account_id":25080079,"reputation":27,"user_id":18932947,"display_name":"Alexxxx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":453,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75844775,"answer_count":2,"score":0,"last_activity_date":1679781721,"creation_date":1675858571,"question_id":75385663,"body_markdown":"In my Springboot Camel microservice I integrate camel mapstruct with this dependency:\r\n\r\n    &lt;camel.version&gt;3.20.1&lt;/camel.version&gt;\r\n    &lt;mapstruct.version&gt;1.5.3.Final&lt;/mapstruct.version&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;${camel.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;camel-mapstruct-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;${camel.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n        &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n        &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI also have a mapper like this:\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface CamelTestMapper {\r\n    \r\n        @BeanMapping(nullValueMappingStrategy = NullValueMappingStrategy.RETURN_DEFAULT)\r\n        CamelTestDto mapCamelTestEntity(CamelTestEntity camelTestEntity);\r\n    \r\n    }\r\n\r\nand a route like this:\r\n\r\n    from(&quot;direct:get-by-id&quot;)\r\n                    .routeId(&quot;db-get-by-id-route&quot;)\r\n                    .transacted()\r\n                    .process(camelTestSampleDatabaseProcessor)\r\n                    .log(LoggingLevel.INFO, &quot;Retrieved entity from db with name: ${body.name}&quot;)\r\n                    .to(&quot;mapstruct:org.example.model.dto.CamelTestDto&quot;)\r\n                    .log(LoggingLevel.INFO, &quot;Mapped new Dto: ${body}&quot;);\r\n\r\nI can&#39;t understand why in this way it works, and when I use\r\n\r\n    .convertBodyTo(CamelTestDto.class)\r\n\r\nit throw this exception:\r\n\r\n    org.apache.camel.InvalidPayloadException: No body available of type: org.example.model.dto.CamelTestDto but has type: org.example.model.entity.CamelTestEntity on: Message[4939598FD4DFE7C-0000000000000103]. \r\n        Caused by: No type converter available to convert from type: org.example.model.entity.CamelTestEntity to the required type: org.example.model.dto.CamelTestDto. Exchange[4939598FD4DFE7C-0000000000000103]. \r\n        Caused by: [org.apache.camel.NoTypeConversionAvailableException - No type converter available to convert from type: org.example.model.entity.CamelTestEntity to the required type: org.example.model.dto.CamelTestDto]\r\n\r\nObviously I already set the application .yml in this way:\r\n\r\n    camel:\r\n      component:\r\n        mapstruct:\r\n          mapper-package-name: org.example.mapper\r\n\r\n\r\nDoes anyone know how to solve it? Can you give to me some examples of how to use this integrations? Also with conversion with List please.","title":"Apache Camel Mapstruct integration","body":"<p>In my Springboot Camel microservice I integrate camel mapstruct with this dependency:</p>\n<pre><code>&lt;camel.version&gt;3.20.1&lt;/camel.version&gt;\n&lt;mapstruct.version&gt;1.5.3.Final&lt;/mapstruct.version&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;${camel.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-mapstruct-starter&lt;/artifactId&gt;\n    &lt;version&gt;${camel.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n    &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n    &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n    &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n    &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I also have a mapper like this:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface CamelTestMapper {\n\n    @BeanMapping(nullValueMappingStrategy = NullValueMappingStrategy.RETURN_DEFAULT)\n    CamelTestDto mapCamelTestEntity(CamelTestEntity camelTestEntity);\n\n}\n</code></pre>\n<p>and a route like this:</p>\n<pre><code>from(&quot;direct:get-by-id&quot;)\n                .routeId(&quot;db-get-by-id-route&quot;)\n                .transacted()\n                .process(camelTestSampleDatabaseProcessor)\n                .log(LoggingLevel.INFO, &quot;Retrieved entity from db with name: ${body.name}&quot;)\n                .to(&quot;mapstruct:org.example.model.dto.CamelTestDto&quot;)\n                .log(LoggingLevel.INFO, &quot;Mapped new Dto: ${body}&quot;);\n</code></pre>\n<p>I can't understand why in this way it works, and when I use</p>\n<pre><code>.convertBodyTo(CamelTestDto.class)\n</code></pre>\n<p>it throw this exception:</p>\n<pre><code>org.apache.camel.InvalidPayloadException: No body available of type: org.example.model.dto.CamelTestDto but has type: org.example.model.entity.CamelTestEntity on: Message[4939598FD4DFE7C-0000000000000103]. \n    Caused by: No type converter available to convert from type: org.example.model.entity.CamelTestEntity to the required type: org.example.model.dto.CamelTestDto. Exchange[4939598FD4DFE7C-0000000000000103]. \n    Caused by: [org.apache.camel.NoTypeConversionAvailableException - No type converter available to convert from type: org.example.model.entity.CamelTestEntity to the required type: org.example.model.dto.CamelTestDto]\n</code></pre>\n<p>Obviously I already set the application .yml in this way:</p>\n<pre><code>camel:\n  component:\n    mapstruct:\n      mapper-package-name: org.example.mapper\n</code></pre>\n<p>Does anyone know how to solve it? Can you give to me some examples of how to use this integrations? Also with conversion with List please.</p>\n"},{"tags":["javascript","java","spring","spring-websocket"],"answers":[{"tags":[],"owner":{"account_id":14697300,"reputation":519,"user_id":10614344,"display_name":"Kerem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679781563,"creation_date":1679666949,"answer_id":75834686,"question_id":75833159,"body_markdown":"I personally recommend sending an event to the server with the `id` of the sending client or some specific information about sender. The server should have a mapping for the websocket connections to each client/user. I would iterate through this mapping and send an specific event to each client except the sending one (the id mustn&#39;t match). Whenever a client receives this specific event then it reloads the page.\r\n\r\nBut, first of all, think about it. Do you really need to reload the entire page? Sounds like you want to reload the page, because things have changed. Instead of reloading the page you could just tell the client what have changed, so that the event_listener updates only part of the dom. \r\n\r\nAlso I would recommend you to read about server sent events. They are way cheaper than websockets. ","title":"Spring Boot Websockets: Is there a way to make Other Users reload page","body":"<p>I personally recommend sending an event to the server with the <code>id</code> of the sending client or some specific information about sender. The server should have a mapping for the websocket connections to each client/user. I would iterate through this mapping and send an specific event to each client except the sending one (the id mustn't match). Whenever a client receives this specific event then it reloads the page.</p>\n<p>But, first of all, think about it. Do you really need to reload the entire page? Sounds like you want to reload the page, because things have changed. Instead of reloading the page you could just tell the client what have changed, so that the event_listener updates only part of the dom.</p>\n<p>Also I would recommend you to read about server sent events. They are way cheaper than websockets.</p>\n"}],"owner":{"account_id":15189062,"reputation":1,"user_id":10960164,"display_name":"DomePB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679781563,"creation_date":1679657797,"question_id":75833159,"body_markdown":"When something from a client is sent through the websocket I want the other clients to refresh the page but not the sender.\r\n~~~javascript\r\nwindow.addEventListener(&quot;load&quot;, (e) =&gt; {\r\n  const socket = new SockJS(&quot;/stomp-endpoint&quot;);\r\n  const stompClient = Stomp.over(socket);\r\n  stompClient.connect({}, (frame) =&gt; {\r\n    stompClient.subscribe(&quot;/topic/greetings&quot;, (greeting) =&gt; {\r\n      console.log(&quot;UPDATE&quot; + greeting.body);\r\n      window.location = &quot;/&quot;; //location.reload();\r\n    });\r\n    Array.from(document.getElementsByClassName(&quot;move&quot;)).forEach((element) =&gt;\r\n      element.addEventListener(&quot;click&quot;, (e) =&gt; {\r\n        console.log(&quot;move&quot;);\r\n        stompClient.send(&quot;/app/hello&quot;, {}, JSON.stringify({ name: &quot;Tammie&quot; }));\r\n      })\r\n    );\r\n  });\r\n});\r\n~~~\r\nThis is my javascript code but this way every client that subscribes to the websocket reloads his page which is a problem because other methods won&#39;t be resolved on the sender site.\r\n\r\nI tried to give a User an id and it kinda worked to only reload Client that have a different id but I&#39;m not quite sure how to set different id in My Controller without it changing everytime the page refreshes.","title":"Spring Boot Websockets: Is there a way to make Other Users reload page","body":"<p>When something from a client is sent through the websocket I want the other clients to refresh the page but not the sender.</p>\n<pre class=\"lang-js prettyprint-override\"><code>window.addEventListener(&quot;load&quot;, (e) =&gt; {\n  const socket = new SockJS(&quot;/stomp-endpoint&quot;);\n  const stompClient = Stomp.over(socket);\n  stompClient.connect({}, (frame) =&gt; {\n    stompClient.subscribe(&quot;/topic/greetings&quot;, (greeting) =&gt; {\n      console.log(&quot;UPDATE&quot; + greeting.body);\n      window.location = &quot;/&quot;; //location.reload();\n    });\n    Array.from(document.getElementsByClassName(&quot;move&quot;)).forEach((element) =&gt;\n      element.addEventListener(&quot;click&quot;, (e) =&gt; {\n        console.log(&quot;move&quot;);\n        stompClient.send(&quot;/app/hello&quot;, {}, JSON.stringify({ name: &quot;Tammie&quot; }));\n      })\n    );\n  });\n});\n</code></pre>\n<p>This is my javascript code but this way every client that subscribes to the websocket reloads his page which is a problem because other methods won't be resolved on the sender site.</p>\n<p>I tried to give a User an id and it kinda worked to only reload Client that have a different id but I'm not quite sure how to set different id in My Controller without it changing everytime the page refreshes.</p>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679781492,"creation_date":1679781492,"answer_id":75844757,"question_id":75446926,"body_markdown":"Do you really have a custom `org.springframework.jdbc.core.BeanPropertyRowMapper` ?\r\n\r\nIts not possible to configure currently in camel-sql.\r\nYou are welcome to create a JIRA and work on a PR to add support for this.\r\n","title":"Apache-Camel SQLEndpoint - configure a custom BeanPropertyRowMapper","body":"<p>Do you really have a custom <code>org.springframework.jdbc.core.BeanPropertyRowMapper</code> ?</p>\n<p>Its not possible to configure currently in camel-sql.\nYou are welcome to create a JIRA and work on a PR to add support for this.</p>\n"}],"owner":{"account_id":2089789,"reputation":450,"user_id":1859881,"accept_rate":83,"display_name":"Ivo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75844757,"answer_count":1,"score":1,"last_activity_date":1679781492,"creation_date":1676372790,"question_id":75446926,"body_markdown":"I&#39;m using camel version 3.14.5 and I&#39;m wondering if there&#39;s a way (I can&#39;t see one) where I can use a custom`BeanPropertyRowMapper` when using a `SqlEndpoint`.\r\n\r\nI&#39;m using the sql endpoint like this in a route:\r\n\r\n    .to(&quot;mySqlComponent:classpath:my_sql.sql?outputType=StreamList&amp;outputClass=com.my.project.MyCustomMappedPojo&quot;)\r\n\r\nLooking at the code it does look like a BeanPropertyRowMapper is hardcoded in the class \r\n\r\n&gt; DefaultSqlEndpoint\r\n\r\n     @SuppressWarnings(&quot;unchecked&quot;)\r\n        public ResultSetIterator queryForStreamList(Connection connection, Statement statement, ResultSet rs) throws SQLException {\r\n            if (outputClass == null) {\r\n                RowMapper rowMapper = new ColumnMapRowMapper();\r\n                return new ResultSetIterator(connection, statement, rs, rowMapper);\r\n            } else {\r\n                Class&lt;?&gt; outputClzz = getCamelContext().getClassResolver().resolveClass(outputClass);\r\n                RowMapper rowMapper = new BeanPropertyRowMapper(outputClzz);\r\n                return new ResultSetIterator(connection, statement, rs, rowMapper);\r\n            }\r\n        }\r\n\r\nSo all I&#39;m after is a way to make use of a Custom RowMapper. \r\n\r\nThe most obvious way would be to pass it to the SqlEndpoint directly, but there&#39;s no such property. \r\n\r\nAlternatively I thought about using a custom `SqlEndpoint` whilst wiring a `SqlComponent` in Spring, but I see that the `SqlComponent` uses a `SqlEndpoint` hardcoded (i.e.: doesn&#39;t allow me to inject a custom Endpoint) which in turns uses the hardcoded BeanPropertyRowMapper as per the code sample above.","title":"Apache-Camel SQLEndpoint - configure a custom BeanPropertyRowMapper","body":"<p>I'm using camel version 3.14.5 and I'm wondering if there's a way (I can't see one) where I can use a custom<code>BeanPropertyRowMapper</code> when using a <code>SqlEndpoint</code>.</p>\n<p>I'm using the sql endpoint like this in a route:</p>\n<pre><code>.to(&quot;mySqlComponent:classpath:my_sql.sql?outputType=StreamList&amp;outputClass=com.my.project.MyCustomMappedPojo&quot;)\n</code></pre>\n<p>Looking at the code it does look like a BeanPropertyRowMapper is hardcoded in the class</p>\n<blockquote>\n<p>DefaultSqlEndpoint</p>\n</blockquote>\n<pre><code> @SuppressWarnings(&quot;unchecked&quot;)\n    public ResultSetIterator queryForStreamList(Connection connection, Statement statement, ResultSet rs) throws SQLException {\n        if (outputClass == null) {\n            RowMapper rowMapper = new ColumnMapRowMapper();\n            return new ResultSetIterator(connection, statement, rs, rowMapper);\n        } else {\n            Class&lt;?&gt; outputClzz = getCamelContext().getClassResolver().resolveClass(outputClass);\n            RowMapper rowMapper = new BeanPropertyRowMapper(outputClzz);\n            return new ResultSetIterator(connection, statement, rs, rowMapper);\n        }\n    }\n</code></pre>\n<p>So all I'm after is a way to make use of a Custom RowMapper.</p>\n<p>The most obvious way would be to pass it to the SqlEndpoint directly, but there's no such property.</p>\n<p>Alternatively I thought about using a custom <code>SqlEndpoint</code> whilst wiring a <code>SqlComponent</code> in Spring, but I see that the <code>SqlComponent</code> uses a <code>SqlEndpoint</code> hardcoded (i.e.: doesn't allow me to inject a custom Endpoint) which in turns uses the hardcoded BeanPropertyRowMapper as per the code sample above.</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1596029706,"post_id":63154787,"comment_id":111678442,"body_markdown":"Where do you get the error in IntelliJ or in the console?","body":"Where do you get the error in IntelliJ or in the console?"},{"owner":{"account_id":8215579,"reputation":1826,"user_id":6182083,"display_name":"Ayush Surana"},"score":0,"creation_date":1596029749,"post_id":63154787,"comment_id":111678471,"body_markdown":"Once I ran mvn clean install -DskipTests on the terminal.","body":"Once I ran mvn clean install -DskipTests on the terminal."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1596029899,"post_id":63154787,"comment_id":111678551,"body_markdown":"And in terminal JAVA_HOME is pointing to JDK 11?","body":"And in terminal JAVA_HOME is pointing to JDK 11?"},{"owner":{"account_id":8215579,"reputation":1826,"user_id":6182083,"display_name":"Ayush Surana"},"score":0,"creation_date":1596029957,"post_id":63154787,"comment_id":111678590,"body_markdown":"Yes as written on the question.","body":"Yes as written on the question."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1596030046,"post_id":63154787,"comment_id":111678655,"body_markdown":"And what Maven version are you using? Did you install this and has it any settings.xml configuration?","body":"And what Maven version are you using? Did you install this and has it any settings.xml configuration?"},{"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1596030322,"post_id":63154787,"comment_id":111678836,"body_markdown":"Do you have any other Java build in your Path environment variable?","body":"Do you have any other Java build in your Path environment variable?"},{"owner":{"account_id":1945704,"reputation":790,"user_id":1750909,"display_name":"Amit Vyas"},"score":0,"creation_date":1596030473,"post_id":63154787,"comment_id":111678932,"body_markdown":"What is javac -version? Add %JAVA_HOME%\\bin as the first value in path env variable. Seems you have multiple java version on the system. IN your path variable do u have oracle DB installed?  Share your path variable output.","body":"What is javac -version? Add %JAVA_HOME%\\bin as the first value in path env variable. Seems you have multiple java version on the system. IN your path variable do u have oracle DB installed?  Share your path variable output."},{"owner":{"account_id":8215579,"reputation":1826,"user_id":6182083,"display_name":"Ayush Surana"},"score":0,"creation_date":1596030581,"post_id":63154787,"comment_id":111679009,"body_markdown":"Updated the question to have the full Error I can see. \nmaven version is 3.6.3\nI have a project where I use JAVA 8. But presently I have only Java 11 in my Path Env Variable.","body":"Updated the question to have the full Error I can see.  maven version is 3.6.3 I have a project where I use JAVA 8. But presently I have only Java 11 in my Path Env Variable."},{"owner":{"account_id":1945704,"reputation":790,"user_id":1750909,"display_name":"Amit Vyas"},"score":0,"creation_date":1596030710,"post_id":63154787,"comment_id":111679088,"body_markdown":"Please print the output of the Path env. variable. And print javac -version output too.. Can you run the on command prompt just use mvn -e clean install","body":"Please print the output of the Path env. variable. And print javac -version output too.. Can you run the on command prompt just use mvn -e clean install"},{"owner":{"account_id":8215579,"reputation":1826,"user_id":6182083,"display_name":"Ayush Surana"},"score":0,"creation_date":1596030814,"post_id":63154787,"comment_id":111679170,"body_markdown":"javac -version is javac 11.0.8","body":"javac -version is javac 11.0.8"},{"owner":{"account_id":8215579,"reputation":1826,"user_id":6182083,"display_name":"Ayush Surana"},"score":0,"creation_date":1596030907,"post_id":63154787,"comment_id":111679235,"body_markdown":"Updated Path Environment Variable information to the Question.","body":"Updated Path Environment Variable information to the Question."},{"owner":{"account_id":8215579,"reputation":1826,"user_id":6182083,"display_name":"Ayush Surana"},"score":0,"creation_date":1596031261,"post_id":63154787,"comment_id":111679456,"body_markdown":"Amit Vyas. What do you mean by adding %JAVA_HOME%\\bin in my path Variable as the first entry to the path variable. Does heirarchy matter as I already have it in the Path Variable.","body":"Amit Vyas. What do you mean by adding %JAVA_HOME%\\bin in my path Variable as the first entry to the path variable. Does heirarchy matter as I already have it in the Path Variable."},{"owner":{"account_id":8215579,"reputation":1826,"user_id":6182083,"display_name":"Ayush Surana"},"score":0,"creation_date":1596031292,"post_id":63154787,"comment_id":111679479,"body_markdown":"@procrastinator How do I set JAVA_HOME in mvn.bat?","body":"@procrastinator How do I set JAVA_HOME in mvn.bat?"},{"owner":{"account_id":1945704,"reputation":790,"user_id":1750909,"display_name":"Amit Vyas"},"score":0,"creation_date":1596031502,"post_id":63154787,"comment_id":111679616,"body_markdown":"In your case you have correct. What is your M2_HOME? And Why you have 2 maven entries in D and H drive?","body":"In your case you have correct. What is your M2_HOME? And Why you have 2 maven entries in D and H drive?"},{"owner":{"account_id":1945704,"reputation":790,"user_id":1750909,"display_name":"Amit Vyas"},"score":1,"creation_date":1596031858,"post_id":63154787,"comment_id":111679856,"body_markdown":"You always do like create JAVA_HOME and set java without bin before the home path and refer the %JAVA_HOME%\\bin as an entry in the path. No hard coding of the java path in the PATH variable. Then have M2_HOME and add a maven path without a bin folder value. In PATH variable set %M2_HOME%\\bin as value. Then open new command prompt and run java -version , javac -version mvn -verion and mvn -e clean install. As @procrastinator make sure you don&#39;t have a hardcoded path in mvn.bat file. Delete all hardcoding from the PATH variable for java and maven home before doing above steps.","body":"You always do like create JAVA_HOME and set java without bin before the home path and refer the %JAVA_HOME%\\bin as an entry in the path. No hard coding of the java path in the PATH variable. Then have M2_HOME and add a maven path without a bin folder value. In PATH variable set %M2_HOME%\\bin as value. Then open new command prompt and run java -version , javac -version mvn -verion and mvn -e clean install. As @procrastinator make sure you don&#39;t have a hardcoded path in mvn.bat file. Delete all hardcoding from the PATH variable for java and maven home before doing above steps."},{"owner":{"account_id":8215579,"reputation":1826,"user_id":6182083,"display_name":"Ayush Surana"},"score":2,"creation_date":1596032001,"post_id":63154787,"comment_id":111679940,"body_markdown":"@procrastinator Updating JAVA_HOME in mvn.cmd(mvn.bat is mvn.cmd in maven 3.5 and above) worked. \nCan you post this as an answer so that I can accept it as the answer. Thank you so much!!!","body":"@procrastinator Updating JAVA_HOME in mvn.cmd(mvn.bat is mvn.cmd in maven 3.5 and above) worked.  Can you post this as an answer so that I can accept it as the answer. Thank you so much!!!"},{"owner":{"account_id":8215579,"reputation":1826,"user_id":6182083,"display_name":"Ayush Surana"},"score":0,"creation_date":1596032132,"post_id":63154787,"comment_id":111680019,"body_markdown":"@AmitVyas Thanks for the guidance. Will update my Path variables as the norm. Thanks so much for the effort.","body":"@AmitVyas Thanks for the guidance. Will update my Path variables as the norm. Thanks so much for the effort."},{"owner":{"account_id":1945704,"reputation":790,"user_id":1750909,"display_name":"Amit Vyas"},"score":0,"creation_date":1596032745,"post_id":63154787,"comment_id":111680447,"body_markdown":"@AyushSurana for troubleshooting it is oki to set JAVA Home explicit in the maven bat/shell file but you should not. Clean up your path/java home/maven home and everything should work seamlessly. Avoid setting explicit values in the maven as if u will try jdk 8 or 13 or 14 it will fail. Changing JAVA_HOME for nay value will make all dependent apps to work seamlessly.","body":"@AyushSurana for troubleshooting it is oki to set JAVA Home explicit in the maven bat/shell file but you should not. Clean up your path/java home/maven home and everything should work seamlessly. Avoid setting explicit values in the maven as if u will try jdk 8 or 13 or 14 it will fail. Changing JAVA_HOME for nay value will make all dependent apps to work seamlessly."},{"owner":{"account_id":251813,"reputation":1963,"user_id":529442,"display_name":"Eugene Gr. Philippov"},"score":0,"creation_date":1617993428,"post_id":63154787,"comment_id":118476774,"body_markdown":"A similar (and solved!) question for Heroku&#39;s Maven JDK: https://stackoverflow.com/questions/60817038/why-when-i-try-push-my-spring-boot-app-to-heroku-it-return-fatal-error-compilin","body":"A similar (and solved!) question for Heroku&#39;s Maven JDK: <a href=\"https://stackoverflow.com/questions/60817038/why-when-i-try-push-my-spring-boot-app-to-heroku-it-return-fatal-error-compilin\" title=\"why when i try push my spring boot app to heroku it return fatal error compilin\">stackoverflow.com/questions/60817038/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3547959,"reputation":2574,"user_id":2963422,"display_name":"Procrastinator"},"down_vote_count":2,"up_vote_count":112,"is_accepted":true,"score":110,"last_activity_date":1661030284,"creation_date":1596032117,"answer_id":63155672,"question_id":63154787,"body_markdown":"It seems like you&#39;re having the `JAVA_HOME` set in your `mvn.bat`. It could be pointing to the older version of Java (i.e., 8 in your case).\r\n\r\n`set JAVA_HOME=C:\\path\\to\\jdk11`. Try using it on the first line, before calling Maven.\r\n\r\n\r\n","title":"Maven is not using Java 11: error message &quot;Fatal error compiling: invalid target release: 11&quot;","body":"<p>It seems like you're having the <code>JAVA_HOME</code> set in your <code>mvn.bat</code>. It could be pointing to the older version of Java (i.e., 8 in your case).</p>\n<p><code>set JAVA_HOME=C:\\path\\to\\jdk11</code>. Try using it on the first line, before calling Maven.</p>\n"},{"tags":[],"owner":{"account_id":10057195,"reputation":427,"user_id":7435048,"display_name":"Mercuriat"},"down_vote_count":12,"up_vote_count":31,"is_accepted":false,"score":19,"last_activity_date":1661030534,"creation_date":1608988258,"answer_id":65456740,"question_id":63154787,"body_markdown":"I was experiencing this issue while trying to deploy a [Spring Boot][1] application to [Heroku][2]. \r\n\r\nMy JAVA_HOME was set correctly, but I was still receiving same error.\r\n\r\nBut then this worked for me: \r\n\r\nIn your *pom.xml* file, add or adapt to your own context: \r\n\r\n```lang-xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Spring_Framework#Spring_Boot\r\n  [2]: https://en.wikipedia.org/wiki/Heroku\r\n\r\n\r\n\r\n\r\n\r\n","title":"Maven is not using Java 11: error message &quot;Fatal error compiling: invalid target release: 11&quot;","body":"<p>I was experiencing this issue while trying to deploy a <a href=\"https://en.wikipedia.org/wiki/Spring_Framework#Spring_Boot\" rel=\"nofollow noreferrer\">Spring Boot</a> application to <a href=\"https://en.wikipedia.org/wiki/Heroku\" rel=\"nofollow noreferrer\">Heroku</a>.</p>\n<p>My JAVA_HOME was set correctly, but I was still receiving same error.</p>\n<p>But then this worked for me:</p>\n<p>In your <em>pom.xml</em> file, add or adapt to your own context:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.8&lt;/source&gt;\n        &lt;target&gt;1.8&lt;/target&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3635341,"reputation":35,"user_id":3030585,"display_name":"AzezoLinux"},"down_vote_count":13,"up_vote_count":6,"is_accepted":false,"score":-7,"last_activity_date":1661030698,"creation_date":1610289140,"answer_id":65654379,"question_id":63154787,"body_markdown":"Just change this \r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\nto\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n","title":"Maven is not using Java 11: error message &quot;Fatal error compiling: invalid target release: 11&quot;","body":"<p>Just change this</p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>to</p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1535921,"reputation":3060,"user_id":1431979,"display_name":"Pierre C"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1661030866,"creation_date":1616704766,"answer_id":66807280,"question_id":63154787,"body_markdown":"If other people are having this same problem, but with [Eclipse][1] (I know OP was referring to IntelliJ IDEA), also check the JRE in use for Maven:\r\n\r\n- Run configurations...\r\n- Select your Maven Build configuration\r\n- Click the JRE tab and choose the JRE version in accordance with your [POM][2] file.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Eclipse_%28software%29\r\n  [2]: https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\r\n\r\n","title":"Maven is not using Java 11: error message &quot;Fatal error compiling: invalid target release: 11&quot;","body":"<p>If other people are having this same problem, but with <a href=\"https://en.wikipedia.org/wiki/Eclipse_%28software%29\" rel=\"nofollow noreferrer\">Eclipse</a> (I know OP was referring to IntelliJ IDEA), also check the JRE in use for Maven:</p>\n<ul>\n<li>Run configurations...</li>\n<li>Select your Maven Build configuration</li>\n<li>Click the JRE tab and choose the JRE version in accordance with your <a href=\"https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\" rel=\"nofollow noreferrer\">POM</a> file.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7719340,"reputation":85,"user_id":5846031,"display_name":"thelearner"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1618579317,"creation_date":1618579317,"answer_id":67126057,"question_id":63154787,"body_markdown":"I was facing the same problem. Setting JAVA_HOME environment variable to the right JDK solved my problem.\r\n\r\njava -version was showing the right version, but **echo %JAVA_HOME%** pointed to the wrong JDK. Fixing it, solved this issue for me.","title":"Maven is not using Java 11: error message &quot;Fatal error compiling: invalid target release: 11&quot;","body":"<p>I was facing the same problem. Setting JAVA_HOME environment variable to the right JDK solved my problem.</p>\n<p>java -version was showing the right version, but <strong>echo %JAVA_HOME%</strong> pointed to the wrong JDK. Fixing it, solved this issue for me.</p>\n"},{"tags":[],"owner":{"account_id":2859902,"reputation":6027,"user_id":2455366,"display_name":"Mohit Singh"},"down_vote_count":9,"up_vote_count":6,"is_accepted":false,"score":-3,"last_activity_date":1661031084,"creation_date":1619417499,"answer_id":67261632,"question_id":63154787,"body_markdown":"1. Check the Java home under path inside environment variables. It should point to JDK 11 under your Java installation directory,\r\n\r\n2. Check for the below inside file *pom.xml*\r\n\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n\r\n3. Under *Path*, check the correct entry for %JAVA_HOME% environment variable and explicitly set JAVA_HOME=C:\\tools\\java\\jdk11\r\n4. Check, your mvn should not be overriding the Java version 11\r\n\r\n\r\n\r\n\r\n","title":"Maven is not using Java 11: error message &quot;Fatal error compiling: invalid target release: 11&quot;","body":"<ol>\n<li><p>Check the Java home under path inside environment variables. It should point to JDK 11 under your Java installation directory,</p>\n</li>\n<li><p>Check for the below inside file <em>pom.xml</em></p>\n<pre><code> &lt;properties&gt;\n     &lt;java.version&gt;11&lt;/java.version&gt;\n &lt;/properties&gt;\n</code></pre>\n</li>\n<li><p>Under <em>Path</em>, check the correct entry for %JAVA_HOME% environment variable and explicitly set JAVA_HOME=C:\\tools\\java\\jdk11</p>\n</li>\n<li><p>Check, your mvn should not be overriding the Java version 11</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12675932,"reputation":2179,"user_id":9211684,"display_name":"John Kitonyo"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1661031676,"creation_date":1623556274,"answer_id":67954689,"question_id":63154787,"body_markdown":"First run\r\n\r\n```lang-none\r\n/usr/libexec/java_home -V\r\n```\r\n\r\nThis will list all the possible **JAVA_HOME** paths possible on your machine.\r\n\r\nYou have two options:\r\n\r\nAdd the line (project permanent)\r\n\r\n```lang-none\r\nJAVA_HOME=&quot;/path/to/obtained/from/command/lib&quot;\r\n```\r\n\r\nin your *maven.bat* file, ideally right after the initial comments.\r\n\r\nRun\r\n\r\n```lang-none\r\nexport JAVA_HOME=/path/to/obtained/from/command/lib\r\n```\r\n\r\nBefore running the mvnw command.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Maven is not using Java 11: error message &quot;Fatal error compiling: invalid target release: 11&quot;","body":"<p>First run</p>\n<pre class=\"lang-none prettyprint-override\"><code>/usr/libexec/java_home -V\n</code></pre>\n<p>This will list all the possible <strong>JAVA_HOME</strong> paths possible on your machine.</p>\n<p>You have two options:</p>\n<p>Add the line (project permanent)</p>\n<pre class=\"lang-none prettyprint-override\"><code>JAVA_HOME=&quot;/path/to/obtained/from/command/lib&quot;\n</code></pre>\n<p>in your <em>maven.bat</em> file, ideally right after the initial comments.</p>\n<p>Run</p>\n<pre class=\"lang-none prettyprint-override\"><code>export JAVA_HOME=/path/to/obtained/from/command/lib\n</code></pre>\n<p>Before running the mvnw command.</p>\n"},{"tags":[],"owner":{"account_id":8129615,"reputation":37,"user_id":6123311,"display_name":"Piyush Singh"},"down_vote_count":7,"up_vote_count":1,"is_accepted":false,"score":-6,"last_activity_date":1661031331,"creation_date":1624472916,"answer_id":68105347,"question_id":63154787,"body_markdown":"This what helped me:\r\n\r\n[![Changed from 11 to 8, works fine][1]][1]\r\n\r\nThe issue must be you are using 8 locally, but pointing to a different version in your *pom.xml*.\r\n\r\n  [1]: https://i.stack.imgur.com/tJ109.png\r\n\r\n","title":"Maven is not using Java 11: error message &quot;Fatal error compiling: invalid target release: 11&quot;","body":"<p>This what helped me:</p>\n<p><a href=\"https://i.stack.imgur.com/tJ109.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tJ109.png\" alt=\"Changed from 11 to 8, works fine\" /></a></p>\n<p>The issue must be you are using 8 locally, but pointing to a different version in your <em>pom.xml</em>.</p>\n"},{"tags":[],"owner":{"account_id":4234411,"reputation":79,"user_id":3465988,"display_name":"Kff7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661032206,"creation_date":1637236484,"answer_id":70019389,"question_id":63154787,"body_markdown":"I had the same problem even the correct Java version 11 and JAVA_HOME variable was set.\r\n\r\nSwitching to another Java vendor from AdoptOpenJDK to Corretto solved it.\r\n\r\nYou can use [SDKMAN][1] to change easily and quick between different Java versions and vendors. (the JAVA_HOME variable will set automatically correct by SDKMAN).\r\n\r\nInstall SDKMAN by:\r\n\r\n```lang-none\r\ncurl -s &quot;https://get.sdkman.io&quot; | bash\r\n```\r\n\r\nThen enter in the terminal:\r\n\r\n```lang-none\r\nsource &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot;\r\n```\r\n\r\nTo ensure installation was successful:\r\n\r\n```lang-none\r\nsdk version\r\n```\r\n\r\nInstall Java 11:\r\n\r\n```lang-none\r\nsdk install java 11.0.13.8.1-amzn\r\nsdk default java 11.0.13.8.1-amzn\r\n```\r\n\r\nTo check the versions, runtime and vendor:\r\n\r\n```lang-none\r\njava --version\r\nmvn -v\r\n```\r\n\r\n  [1]: https://sdkman.io/install\r\n\r\n","title":"Maven is not using Java 11: error message &quot;Fatal error compiling: invalid target release: 11&quot;","body":"<p>I had the same problem even the correct Java version 11 and JAVA_HOME variable was set.</p>\n<p>Switching to another Java vendor from AdoptOpenJDK to Corretto solved it.</p>\n<p>You can use <a href=\"https://sdkman.io/install\" rel=\"nofollow noreferrer\">SDKMAN</a> to change easily and quick between different Java versions and vendors. (the JAVA_HOME variable will set automatically correct by SDKMAN).</p>\n<p>Install SDKMAN by:</p>\n<pre class=\"lang-none prettyprint-override\"><code>curl -s &quot;https://get.sdkman.io&quot; | bash\n</code></pre>\n<p>Then enter in the terminal:</p>\n<pre class=\"lang-none prettyprint-override\"><code>source &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot;\n</code></pre>\n<p>To ensure installation was successful:</p>\n<pre class=\"lang-none prettyprint-override\"><code>sdk version\n</code></pre>\n<p>Install Java 11:</p>\n<pre class=\"lang-none prettyprint-override\"><code>sdk install java 11.0.13.8.1-amzn\nsdk default java 11.0.13.8.1-amzn\n</code></pre>\n<p>To check the versions, runtime and vendor:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java --version\nmvn -v\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3883278,"reputation":505,"user_id":3215286,"display_name":"Djacomo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661032274,"creation_date":1640768485,"answer_id":70517218,"question_id":63154787,"body_markdown":"The fastest and the easiest way is to use SDKMAN https://sdkman.io/:\r\n\r\n1. Install JDK 11 with:\r\n\r\n    ```lang-none\r\n    sdk install 11.0.11.hs-adpt\r\n    ```\r\n\r\n    - ```sdk list java``` for the list of available JDK\r\n\r\n2. Create a .sdkmanrc file in your project main directory:\r\n\r\n    ```lang-none\r\n    java=11.0.11.hs-adpt\r\n    ```\r\n\r\n3. Switch JDK\r\n\r\n    - use ```sdk env``` for switch to right JDK.\r\n\r\n    - For automatic switch to the chosen jdk version, enable it in sdkman config file (```~/.sdkman/etc/config```)\r\n\r\n        ```lang-none\r\n        sdkman_auto_env=true\r\n        ```\r\n\r\n\r\n","title":"Maven is not using Java 11: error message &quot;Fatal error compiling: invalid target release: 11&quot;","body":"<p>The fastest and the easiest way is to use SDKMAN <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">https://sdkman.io/</a>:</p>\n<ol>\n<li><p>Install JDK 11 with:</p>\n<pre class=\"lang-none prettyprint-override\"><code>sdk install 11.0.11.hs-adpt\n</code></pre>\n<ul>\n<li><code>sdk list java</code> for the list of available JDK</li>\n</ul>\n</li>\n<li><p>Create a .sdkmanrc file in your project main directory:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java=11.0.11.hs-adpt\n</code></pre>\n</li>\n<li><p>Switch JDK</p>\n<ul>\n<li><p>use <code>sdk env</code> for switch to right JDK.</p>\n</li>\n<li><p>For automatic switch to the chosen jdk version, enable it in sdkman config file (<code>~/.sdkman/etc/config</code>)</p>\n<pre class=\"lang-none prettyprint-override\"><code>sdkman_auto_env=true\n</code></pre>\n</li>\n</ul>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9358826,"reputation":123,"user_id":6945898,"display_name":"amitsriv99"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672047932,"creation_date":1672047932,"answer_id":74919092,"question_id":63154787,"body_markdown":"And don&#39;t forget to change JRE version appropriately in the Run As --&gt; Run Configurations --&gt; JRE tab in Eclipse IDE..\r\n\r\n[![Run Configurations - JRE Settings][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JQLld.jpg","title":"Maven is not using Java 11: error message &quot;Fatal error compiling: invalid target release: 11&quot;","body":"<p>And don't forget to change JRE version appropriately in the Run As --&gt; Run Configurations --&gt; JRE tab in Eclipse IDE..</p>\n<p><a href=\"https://i.stack.imgur.com/JQLld.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JQLld.jpg\" alt=\"Run Configurations - JRE Settings\" /></a></p>\n"},{"tags":[],"owner":{"account_id":405758,"reputation":143,"user_id":774860,"display_name":"Mark Johnson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679781279,"creation_date":1679781279,"answer_id":75844746,"question_id":63154787,"body_markdown":"I was having the same error when packaging using Maven from VSCode.  I just needed to add the `release` element to the mavin maven-compiler-plugin in the pom.xml like this:\r\n\r\n``` xml\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;release&gt;11&lt;/release&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nThank you to Bing Chat to nail that one!","title":"Maven is not using Java 11: error message &quot;Fatal error compiling: invalid target release: 11&quot;","body":"<p>I was having the same error when packaging using Maven from VSCode.  I just needed to add the <code>release</code> element to the mavin maven-compiler-plugin in the pom.xml like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;release&gt;11&lt;/release&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Thank you to Bing Chat to nail that one!</p>\n"}],"owner":{"account_id":8215579,"reputation":1826,"user_id":6182083,"display_name":"Ayush Surana"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238282,"favorite_count":0,"down_vote_count":0,"up_vote_count":98,"accepted_answer_id":63155672,"answer_count":12,"score":98,"last_activity_date":1679781279,"creation_date":1596029506,"question_id":63154787,"body_markdown":"I am trying to compile my project with Java 11.\r\n\r\nWhen I try to run the application with Java 8 as the Java version in *pom.xml*, it works fine. But when I try to run it with Java 11, it throws an error.\r\n\r\n&gt; Fatal error compiling: invalid target release: 11\r\n\r\nI&#39;ve tried to fix it in various ways, like changing the environment variable, updating the path, and pointing %JAVA_HOME% to Java 11.\r\n\r\nThe commands and their results as on my computer are as follows:\r\n\r\n```lang-none\r\njava -version\r\necho %JAVA_HOME%\r\n```\r\n\r\nOutput:\r\n\r\n```lang-none\r\njava version &quot;11.0.8&quot; 2020-07-14 LTS\r\nC:\\Program Files\\Java\\jdk-11.0.8\r\n```\r\n\r\nI am using [IntelliJ IDEA][1] and have made the necessary changes as suggested in [this tutorial][2].\r\n\r\nMy *pom.xml* file looks something like this:\r\n\r\n\r\n\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.0.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;name&gt;demo&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;version&gt;1&lt;/version&gt;\r\n                    &lt;projectId&gt;businessapplication-6963d&lt;/projectId&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nWhen I check the Maven version, it shows JDK 1.8 as the Java version:\r\n\r\n```lang-none\r\nmvn --version\r\n```\r\n\r\nOutput:\r\n\r\n```lang-none\r\nJava version: 1.8.0_241, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk1.8.0_241\\jre\r\n```\r\n\r\nHow can I point Maven to Java 11? Or, if that is not the problem, how to solve this issue? I don&#39;t think that this question is a duplicate of [invalid target release: 1.7][3], as I have already implemented the solutions provided in that thread.\r\n\r\nError after building the project:\r\n\r\n```lang-none\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project demo: Fatal error compiling: invalid target release: 11 -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n```\r\n\r\nThe path environment variable is:\r\n\r\n```lang-none\r\nC:\\Program Files (x86)\\Common Files\\Intel\\Shared Files\\cpp\\bin\\Intel64;\r\nC:\\Program Files (x86)\\Intel\\iCLS Client\\;\r\nC:\\Program Files\\Intel\\iCLS Client\\;\r\nC:\\WINDOWS\\system32;C:\\WINDOWS;\r\nC:\\WINDOWS\\System32\\Wbem;\r\nC:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;\r\nC:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\DAL;\r\nC:\\Program Files\\Intel\\Intel(R) Management Engine Components\\DAL;\r\nC:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\IPT;\r\nC:\\Program Files\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\WINDOWS\\System32\\OpenSSH\\;\r\nC:\\Delhi 2.0\\apache-maven-3.6.1\\bin;\r\nC:\\Program Files\\Java\\jdk-11.0.8\\bin;C:\\Program Files\\Intel\\WiFi\\bin\\;\r\nC:\\Program Files\\Common Files\\Intel\\WirelessCommon\\;\r\nC:\\Program Files\\Git\\cmd;D:\\Flutter\\flutter\\flutter\\bin;\r\nC:\\Users\\Infinity97\\AppData\\Local\\Google\\Cloud SDK\\google-cloud-sdk\\bin;\r\nC:\\Users\\Infinity97\\AppData\\Local\\Microsoft\\WindowsApps;\r\nC:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2019.2\\bin;\r\nH:\\apache-maven-3.6.3\\bin;\r\nC:\\Program Files\\PostgreSQL\\12\\bin;\r\nC:\\Program Files\\PostgreSQL\\12\\lib;\r\nC:\\Program Files\\Docker Toolbox\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/IntelliJ_IDEA\r\n  [2]: https://www.baeldung.com/java-lang-unsupportedclassversion\r\n  [3]: https://stackoverflow.com/questions/28291691/fatal-error-compiling-invalid-target-release-1-8-help-1\r\n\r\n\r\n\r\n\r\n","title":"Maven is not using Java 11: error message &quot;Fatal error compiling: invalid target release: 11&quot;","body":"<p>I am trying to compile my project with Java 11.</p>\n<p>When I try to run the application with Java 8 as the Java version in <em>pom.xml</em>, it works fine. But when I try to run it with Java 11, it throws an error.</p>\n<blockquote>\n<p>Fatal error compiling: invalid target release: 11</p>\n</blockquote>\n<p>I've tried to fix it in various ways, like changing the environment variable, updating the path, and pointing %JAVA_HOME% to Java 11.</p>\n<p>The commands and their results as on my computer are as follows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java -version\necho %JAVA_HOME%\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java version &quot;11.0.8&quot; 2020-07-14 LTS\nC:\\Program Files\\Java\\jdk-11.0.8\n</code></pre>\n<p>I am using <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"noreferrer\">IntelliJ IDEA</a> and have made the necessary changes as suggested in <a href=\"https://www.baeldung.com/java-lang-unsupportedclassversion\" rel=\"noreferrer\">this tutorial</a>.</p>\n<p>My <em>pom.xml</em> file looks something like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n                &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.2.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;version&gt;1&lt;/version&gt;\n                    &lt;projectId&gt;businessapplication-6963d&lt;/projectId&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>When I check the Maven version, it shows JDK 1.8 as the Java version:</p>\n<pre class=\"lang-none prettyprint-override\"><code>mvn --version\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Java version: 1.8.0_241, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk1.8.0_241\\jre\n</code></pre>\n<p>How can I point Maven to Java 11? Or, if that is not the problem, how to solve this issue? I don't think that this question is a duplicate of <a href=\"https://stackoverflow.com/questions/28291691/fatal-error-compiling-invalid-target-release-1-8-help-1\">invalid target release: 1.7</a>, as I have already implemented the solutions provided in that thread.</p>\n<p>Error after building the project:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project demo: Fatal error compiling: invalid target release: 11 -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>The path environment variable is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>C:\\Program Files (x86)\\Common Files\\Intel\\Shared Files\\cpp\\bin\\Intel64;\nC:\\Program Files (x86)\\Intel\\iCLS Client\\;\nC:\\Program Files\\Intel\\iCLS Client\\;\nC:\\WINDOWS\\system32;C:\\WINDOWS;\nC:\\WINDOWS\\System32\\Wbem;\nC:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;\nC:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\DAL;\nC:\\Program Files\\Intel\\Intel(R) Management Engine Components\\DAL;\nC:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\IPT;\nC:\\Program Files\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\WINDOWS\\System32\\OpenSSH\\;\nC:\\Delhi 2.0\\apache-maven-3.6.1\\bin;\nC:\\Program Files\\Java\\jdk-11.0.8\\bin;C:\\Program Files\\Intel\\WiFi\\bin\\;\nC:\\Program Files\\Common Files\\Intel\\WirelessCommon\\;\nC:\\Program Files\\Git\\cmd;D:\\Flutter\\flutter\\flutter\\bin;\nC:\\Users\\Infinity97\\AppData\\Local\\Google\\Cloud SDK\\google-cloud-sdk\\bin;\nC:\\Users\\Infinity97\\AppData\\Local\\Microsoft\\WindowsApps;\nC:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2019.2\\bin;\nH:\\apache-maven-3.6.3\\bin;\nC:\\Program Files\\PostgreSQL\\12\\bin;\nC:\\Program Files\\PostgreSQL\\12\\lib;\nC:\\Program Files\\Docker Toolbox\n</code></pre>\n"},{"tags":["java","android","ios","flutter","dart"],"owner":{"account_id":19996213,"reputation":1,"user_id":14656199,"display_name":"Sandro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679781135,"creation_date":1679781135,"question_id":75844737,"body_markdown":"I want to program a flutter app which can record and play audio. But when I press the record button the app doesn&#39;t start recording. I&#39;ve tried checking the pubspec.yaml. Is there maybe a problem with the permission to access the device microphone? Or what else can I do? I also tried different simulators/devices... \r\n\r\n\r\n    import &#39;dart:io&#39;;\r\n    import &#39;package:flutter/material.dart&#39;;\r\n    import &#39;package:flutter_sound/flutter_sound.dart&#39;;\r\n    import &#39;package:permission_handler/permission_handler.dart&#39;;\r\n\r\n    void main() {\r\n      runApp(MyApp());\r\n    }\r\n\r\n    class MyApp extends StatelessWidget {\r\n      @override\r\n      Widget build(BuildContext context) {\r\n        return MaterialApp(\r\n          title: &#39;Audio Recorder&#39;,\r\n          home: MyHomePage(),\r\n        );\r\n      }\r\n    }\r\n\r\n    class MyHomePage extends StatefulWidget {\r\n      const MyHomePage({Key? key}) : super(key: key);\r\n\r\n      @override\r\n      State&lt;MyHomePage&gt; createState() =&gt; _MyHomePageState();\r\n    }\r\n\r\n    class _MyHomePageState extends State&lt;MyHomePage&gt; {\r\n      final recorder = FlutterSoundRecorder();\r\n\r\n      @override\r\n      void initState() {\r\n        super.initState();\r\n        initRecorder();\r\n      }\r\n\r\n      @override\r\n      void dispose() {\r\n        recorder.stopRecorder();\r\n        super.dispose();\r\n      }\r\n\r\n      Future initRecorder() async {\r\n        final status = await Permission.microphone.request();\r\n        if (status != PermissionStatus.granted) {\r\n          throw &#39;Permission not granted&#39;;\r\n        }\r\n        await recorder.openRecorder();\r\n        recorder.setSubscriptionDuration(const Duration(milliseconds: 500));\r\n      }\r\n\r\n      Future startRecord() async {\r\n        await recorder.startRecorder(toFile: &quot;audio&quot;);\r\n      }\r\n\r\n      Future stopRecorder() async {\r\n        final filePath = await recorder.stopRecorder();\r\n        final file = File(filePath!);\r\n        print(&#39;Recorded file path: $filePath&#39;);\r\n      }\r\n    \r\n      @override\r\n      Widget build(BuildContext context) {\r\n        return Scaffold(\r\n          backgroundColor: Colors.white,\r\n          body: Center(\r\n            child: Column(\r\n              mainAxisAlignment: MainAxisAlignment.center,\r\n              children: [\r\n                StreamBuilder&lt;RecordingDisposition&gt;(\r\n                  builder: (context, snapshot) {\r\n                    final duration = snapshot.hasData\r\n                        ? snapshot.data!.duration\r\n                        : Duration.zero;\r\n    \r\n                    String twoDigits(int n) =&gt; n.toString().padLeft(2, &#39;0&#39;);\r\n\r\n                    final twoDigitMinutes =\r\n                    twoDigits(duration.inMinutes.remainder(60));\r\n                    final twoDigitSeconds =\r\n                    twoDigits(duration.inSeconds.remainder(60));\r\n\r\n                    return Text(\r\n                      &#39;$twoDigitMinutes:$twoDigitSeconds&#39;,\r\n                      style: const TextStyle(\r\n                        color: Colors.black,\r\n                        fontSize: 50,\r\n                        fontWeight: FontWeight.bold,\r\n                      ),\r\n                    );\r\n                  },\r\n                  stream: recorder.onProgress,\r\n                ),\r\n                const SizedBox(height: 20),\r\n                GestureDetector(\r\n                  onTap: () async {\r\n                    if (recorder.isRecording) {\r\n                      await stopRecorder();\r\n                      setState(() {});\r\n                    } else {\r\n                      await startRecord();\r\n                      setState(() {});\r\n                    }\r\n                  },\r\n                  child: Container(\r\n                    width: 120,\r\n                    height: 120,\r\n                    decoration: BoxDecoration(\r\n                      color: Colors.red,\r\n                      shape: BoxShape.circle,\r\n                    ),\r\n                    child: Column(\r\n                      mainAxisAlignment: MainAxisAlignment.center,\r\n                      children: [\r\n                        Icon(\r\n                          recorder.isRecording ? Icons.stop : Icons.mic,\r\n                          size: 60,\r\n                          color: Colors.white,\r\n                        ),\r\n                        const SizedBox(height: 10),\r\n                        Text(\r\n                          &#39;Record&#39;,\r\n                          style: const TextStyle(\r\n                            color: Colors.white,\r\n                            fontSize: 20,\r\n                            fontWeight: FontWeight.bold,\r\n                          ),\r\n                        ),\r\n                      ],\r\n                    ),\r\n                  ),\r\n                ),\r\n              ],\r\n            ),\r\n          ),\r\n        );\r\n      }\r\n    }\r\n\r\n","title":"I can&#39;t start recording when pressing the record button. What should I do?","body":"<p>I want to program a flutter app which can record and play audio. But when I press the record button the app doesn't start recording. I've tried checking the pubspec.yaml. Is there maybe a problem with the permission to access the device microphone? Or what else can I do? I also tried different simulators/devices...</p>\n<pre><code>import 'dart:io';\nimport 'package:flutter/material.dart';\nimport 'package:flutter_sound/flutter_sound.dart';\nimport 'package:permission_handler/permission_handler.dart';\n\nvoid main() {\n  runApp(MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Audio Recorder',\n      home: MyHomePage(),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  const MyHomePage({Key? key}) : super(key: key);\n\n  @override\n  State&lt;MyHomePage&gt; createState() =&gt; _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  final recorder = FlutterSoundRecorder();\n\n  @override\n  void initState() {\n    super.initState();\n    initRecorder();\n  }\n\n  @override\n  void dispose() {\n    recorder.stopRecorder();\n    super.dispose();\n  }\n\n  Future initRecorder() async {\n    final status = await Permission.microphone.request();\n    if (status != PermissionStatus.granted) {\n      throw 'Permission not granted';\n    }\n    await recorder.openRecorder();\n    recorder.setSubscriptionDuration(const Duration(milliseconds: 500));\n  }\n\n  Future startRecord() async {\n    await recorder.startRecorder(toFile: &quot;audio&quot;);\n  }\n\n  Future stopRecorder() async {\n    final filePath = await recorder.stopRecorder();\n    final file = File(filePath!);\n    print('Recorded file path: $filePath');\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      backgroundColor: Colors.white,\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: [\n            StreamBuilder&lt;RecordingDisposition&gt;(\n              builder: (context, snapshot) {\n                final duration = snapshot.hasData\n                    ? snapshot.data!.duration\n                    : Duration.zero;\n\n                String twoDigits(int n) =&gt; n.toString().padLeft(2, '0');\n\n                final twoDigitMinutes =\n                twoDigits(duration.inMinutes.remainder(60));\n                final twoDigitSeconds =\n                twoDigits(duration.inSeconds.remainder(60));\n\n                return Text(\n                  '$twoDigitMinutes:$twoDigitSeconds',\n                  style: const TextStyle(\n                    color: Colors.black,\n                    fontSize: 50,\n                    fontWeight: FontWeight.bold,\n                  ),\n                );\n              },\n              stream: recorder.onProgress,\n            ),\n            const SizedBox(height: 20),\n            GestureDetector(\n              onTap: () async {\n                if (recorder.isRecording) {\n                  await stopRecorder();\n                  setState(() {});\n                } else {\n                  await startRecord();\n                  setState(() {});\n                }\n              },\n              child: Container(\n                width: 120,\n                height: 120,\n                decoration: BoxDecoration(\n                  color: Colors.red,\n                  shape: BoxShape.circle,\n                ),\n                child: Column(\n                  mainAxisAlignment: MainAxisAlignment.center,\n                  children: [\n                    Icon(\n                      recorder.isRecording ? Icons.stop : Icons.mic,\n                      size: 60,\n                      color: Colors.white,\n                    ),\n                    const SizedBox(height: 10),\n                    Text(\n                      'Record',\n                      style: const TextStyle(\n                        color: Colors.white,\n                        fontSize: 20,\n                        fontWeight: FontWeight.bold,\n                      ),\n                    ),\n                  ],\n                ),\n              ),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n"},{"tags":["java","apache-camel","sftp"],"answers":[{"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679780853,"creation_date":1679780853,"answer_id":75844718,"question_id":75595909,"body_markdown":"See the FTP documentation. The file is _left as is_ on the FTP server by default. You need to configure camel-ftp what it should do with the file afterwards, such as `delete=true` or any of the move options etc.","title":"Camel SFTP File Download - copy of file is moved to client but actual file is present in Server","body":"<p>See the FTP documentation. The file is <em>left as is</em> on the FTP server by default. You need to configure camel-ftp what it should do with the file afterwards, such as <code>delete=true</code> or any of the move options etc.</p>\n"}],"owner":{"account_id":17901350,"reputation":23,"user_id":13005525,"display_name":"Lokesh Deena"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679780853,"creation_date":1677608491,"question_id":75595909,"body_markdown":"I have a requirement to download file from external SFTP Server. I have service which has API hosted and once we hit API it should download the file from SFTP Server and I&#39;m using camel as integrator for downloading the files from server. Now when API is called route is started and file is copied from source (server) to destination (client) but the sftp route is not closed, still it fetches the file from server and since the file is present in the server. How to solve this, below is the code snippet. \r\n    \r\nAPI Code \r\n    \r\n    @GetMapping(&quot;myapicall&quot;)\r\n\tpublic void fetchFileFromSFTPServer() {\r\n\t\tlogger.info(&quot;-------Begin of fetchFileFromSFTPServer-------&quot;);\r\n\t\ttry {\r\n\t\t\tRouteBuilder routeBuilder = sftpRoute.buildRoute();\r\n\t\t\tcamelContext.addRoutes(routeBuilder);\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogger.error(&quot;Error while loading Routes------&quot; + e.getMessage());\r\n\t\t}\r\n\t\t\r\n\t\tcamelContext.setUseMDCLogging(true);\r\n\t\tlogger.info(&quot;-------End of fetchFileFromSFTPServer-------&quot; );\r\n\t}\r\n\r\nRoute Builder Code\r\n\r\n    public RouteBuilder buildRoute() {\r\n\t\tRouteBuilder builder = new RouteBuilder() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void configure() throws Exception {\r\n\t\t\t\t\r\n\t\t\t\tfrom(\r\n\t\t\t\t  &quot;sftp://server/?username=**&amp;password=**&amp;passiveMode=true&amp;disconnect=true&quot;)\r\n\t\t\t\t  .routeId(&quot;SFTP_File_Route&quot;).setExchangePattern(ExchangePattern.InOnly).\r\n\t\t\t\t  log(&quot;connecting to SFTP Server&quot;)\r\n\t\t\t\t  .to(&quot;file://C:/myLocal&quot;).end();\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn builder;\r\n\t}\r\n\r\n\r\n","title":"Camel SFTP File Download - copy of file is moved to client but actual file is present in Server","body":"<p>I have a requirement to download file from external SFTP Server. I have service which has API hosted and once we hit API it should download the file from SFTP Server and I'm using camel as integrator for downloading the files from server. Now when API is called route is started and file is copied from source (server) to destination (client) but the sftp route is not closed, still it fetches the file from server and since the file is present in the server. How to solve this, below is the code snippet.</p>\n<p>API Code</p>\n<pre><code>@GetMapping(&quot;myapicall&quot;)\npublic void fetchFileFromSFTPServer() {\n    logger.info(&quot;-------Begin of fetchFileFromSFTPServer-------&quot;);\n    try {\n        RouteBuilder routeBuilder = sftpRoute.buildRoute();\n        camelContext.addRoutes(routeBuilder);\n\n    } catch (Exception e) {\n        logger.error(&quot;Error while loading Routes------&quot; + e.getMessage());\n    }\n    \n    camelContext.setUseMDCLogging(true);\n    logger.info(&quot;-------End of fetchFileFromSFTPServer-------&quot; );\n}\n</code></pre>\n<p>Route Builder Code</p>\n<pre><code>public RouteBuilder buildRoute() {\n    RouteBuilder builder = new RouteBuilder() {\n\n        @Override\n        public void configure() throws Exception {\n            \n            from(\n              &quot;sftp://server/?username=**&amp;password=**&amp;passiveMode=true&amp;disconnect=true&quot;)\n              .routeId(&quot;SFTP_File_Route&quot;).setExchangePattern(ExchangePattern.InOnly).\n              log(&quot;connecting to SFTP Server&quot;)\n              .to(&quot;file://C:/myLocal&quot;).end();\n        }\n    };\n    return builder;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677773037,"creation_date":1677773037,"answer_id":75617961,"question_id":75602606,"body_markdown":"I had the same problem but with JMS component.\r\n\r\nHere is what I did:\r\n\r\n1) Set an id on my route (`.routeId(&quot;demo&quot;)`)\r\n\r\n2) Put my route with `.autostart(false)`\r\n\r\n2) Add to the context an **extra** system-oriented route with a `from(&quot;timer:&quot;)` in order to regularly monitor the health of (in my case) the JMS broker. When the broker is detected &quot;up&quot;, then a Camel processor can simply (via Camel API) ask te controller to restart the involved route(s): `context.getRouteController().start(&quot;demo&quot;)`\r\n\r\nHope this helps","title":"Allow Camel to start up even if the &quot;from&quot; endpoint is currently not available","body":"<p>I had the same problem but with JMS component.</p>\n<p>Here is what I did:</p>\n<ol>\n<li><p>Set an id on my route (<code>.routeId(&quot;demo&quot;)</code>)</p>\n</li>\n<li><p>Put my route with <code>.autostart(false)</code></p>\n</li>\n<li><p>Add to the context an <strong>extra</strong> system-oriented route with a <code>from(&quot;timer:&quot;)</code> in order to regularly monitor the health of (in my case) the JMS broker. When the broker is detected &quot;up&quot;, then a Camel processor can simply (via Camel API) ask te controller to restart the involved route(s): <code>context.getRouteController().start(&quot;demo&quot;)</code></p>\n</li>\n</ol>\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679780708,"creation_date":1679780708,"answer_id":75844704,"question_id":75602606,"body_markdown":"Yes you can use `autoStartup=false` that, however will not re-connect later when working. As the name implies the route is not started, and you need to do that manually later.\r\n\r\nYou can also take a look at supervised route controller, that can re-start failing routes on startup.\r\n\r\n- https://camel.apache.org/manual/route-controller.html#_supervisingroutecontroller","title":"Allow Camel to start up even if the &quot;from&quot; endpoint is currently not available","body":"<p>Yes you can use <code>autoStartup=false</code> that, however will not re-connect later when working. As the name implies the route is not started, and you need to do that manually later.</p>\n<p>You can also take a look at supervised route controller, that can re-start failing routes on startup.</p>\n<ul>\n<li><a href=\"https://camel.apache.org/manual/route-controller.html#_supervisingroutecontroller\" rel=\"nofollow noreferrer\">https://camel.apache.org/manual/route-controller.html#_supervisingroutecontroller</a></li>\n</ul>\n"}],"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75617961,"answer_count":2,"score":0,"last_activity_date":1679780708,"creation_date":1677667460,"question_id":75602606,"body_markdown":"I have a camel application running with Spring Boot. I want to improve resilience by letting my application start up even if one or more of the &quot;from&quot; endpoints (MQ or SMPP in my case) are not currently available - I want the application to just keep checking, and pick up messages once the endpoint becomes available.\r\n\r\nCurrent code:\r\n\r\n```java\r\n// Application.java\r\n@SpringBootApplication\r\n@ConfigurationPropertiesScan\r\npublic class Application \r\n{   \r\n    @Autowired private CamelContext context;\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n   @Bean\r\n    CommandLineRunner init(ProducerTemplate template) \r\n    {\r\n    \treturn args -&gt; \r\n    \t{\r\n    \t\tcontext.addRoutes(new MQRouteBuilder());\r\n    \t\tcontext.addRoutes(new SMPPRouteBuilder());\r\n        };\r\n    }\r\n}\r\n\r\n// example route builder\r\npublic class SMPPRouteBuilder extends RouteBuilder\r\n{\r\n    public void configure() throws Exception\r\n    {\r\n        from(&quot;smpp://{{camel.component.smpp.configuration.host}}&quot;).to(&quot;direct:processSMS&quot;);\r\n        //...\r\n    }\r\n}\r\n```\r\n\r\nCurrently, if the SMS-C defined as camel.component.smpp.configuration.host isn&#39;t available, the application fails to start:\r\n\r\n&gt; java.lang.IllegalStateException: Failed to execute CommandLineRunner at\r\n&gt; org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:787)\r\n&gt; ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE] \tat\r\n&gt; org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:768)\r\n&gt; ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE] \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:322)\r\n&gt; ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE] \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n&gt; ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE] \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\r\n&gt; ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE] \tat\r\n&gt; Application.main(Application.java:28)\r\n&gt; ~[classes/:na] Caused by: org.apache.camel.RuntimeCamelException:\r\n&gt; java.io.IOException: localhostInvalid \tat\r\n&gt; org.apache.camel.RuntimeCamelException.wrapRuntimeException(RuntimeCamelException.java:68)\r\n&gt; ~[camel-api-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.support.service.ServiceSupport.start(ServiceSupport.java:134)\r\n&gt; ~[camel-api-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.impl.engine.AbstractCamelContext.startService(AbstractCamelContext.java:2989)\r\n&gt; ~[camel-base-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.impl.engine.AbstractCamelContext.doStartOrResumeRouteConsumers(AbstractCamelContext.java:3327)\r\n&gt; ~[camel-base-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.impl.engine.AbstractCamelContext.doStartRouteConsumers(AbstractCamelContext.java:3258)\r\n&gt; ~[camel-base-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.impl.engine.AbstractCamelContext.safelyStartRouteServices(AbstractCamelContext.java:3163)\r\n&gt; ~[camel-base-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.impl.engine.AbstractCamelContext.safelyStartRouteServices(AbstractCamelContext.java:3189)\r\n&gt; ~[camel-base-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.impl.engine.AbstractCamelContext.startRouteService(AbstractCamelContext.java:3033)\r\n&gt; ~[camel-base-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.impl.DefaultModel.start(DefaultModel.java:358)\r\n&gt; ~[camel-core-engine-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.impl.DefaultModel.startRoute(DefaultModel.java:330)\r\n&gt; ~[camel-core-engine-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.impl.DefaultModel.startRouteDefinitions(DefaultModel.java:323)\r\n&gt; ~[camel-core-engine-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.impl.DefaultModel.addRouteDefinitions(DefaultModel.java:88)\r\n&gt; ~[camel-core-engine-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.impl.AbstractModelCamelContext.addRouteDefinitions(AbstractModelCamelContext.java:110)\r\n&gt; ~[camel-core-engine-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.builder.RouteBuilder.populateRoutes(RouteBuilder.java:520)\r\n&gt; ~[camel-core-engine-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.builder.RouteBuilder.addRoutesToCamelContext(RouteBuilder.java:437)\r\n&gt; ~[camel-core-engine-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.impl.engine.AbstractCamelContext.lambda$addRoutes$0(AbstractCamelContext.java:1160)\r\n&gt; ~[camel-base-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.impl.engine.AbstractCamelContext.doWithDefinedClassLoader(AbstractCamelContext.java:2544)\r\n&gt; ~[camel-base-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.impl.engine.AbstractCamelContext.addRoutes(AbstractCamelContext.java:1160)\r\n&gt; ~[camel-base-3.1.0.jar:3.1.0] \tat\r\n&gt; Application.lambda$0(Application.java:42)\r\n&gt; ~[classes/:na] \tat\r\n&gt; org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:784)\r\n&gt; ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE] \t... 5 common frames\r\n&gt; omitted Caused by: java.io.IOException: localhostInvalid \tat\r\n&gt; org.apache.camel.component.smpp.SmppConnectionFactory.createConnection(SmppConnectionFactory.java:112)\r\n&gt; ~[camel-smpp-3.1.0.jar:3.1.0] \tat\r\n&gt; org.jsmpp.session.SMPPSession.connectAndBind(SMPPSession.java:222)\r\n&gt; ~[jsmpp-2.3.8.jar:2.3.8] \tat\r\n&gt; org.jsmpp.session.SMPPSession.connectAndBind(SMPPSession.java:201)\r\n&gt; ~[jsmpp-2.3.8.jar:2.3.8] \tat\r\n&gt; org.apache.camel.component.smpp.SmppConsumer.createSession(SmppConsumer.java:95)\r\n&gt; ~[camel-smpp-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.component.smpp.SmppConsumer.doStart(SmppConsumer.java:84)\r\n&gt; ~[camel-smpp-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.support.service.ServiceSupport.start(ServiceSupport.java:121)\r\n&gt; ~[camel-api-3.1.0.jar:3.1.0] \t... 23 common frames omitted Caused by:\r\n&gt; java.net.UnknownHostException: localhostInvalid \tat\r\n&gt; java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:229)\r\n&gt; ~[na:na] \tat\r\n&gt; java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n&gt; ~[na:na] \tat java.base/java.net.Socket.connect(Socket.java:609)\r\n&gt; ~[na:na] \tat\r\n&gt; org.apache.camel.component.smpp.SmppConnectionFactory.createConnection(SmppConnectionFactory.java:99)\r\n&gt; ~[camel-smpp-3.1.0.jar:3.1.0]\r\n\r\nWhat I want instead, is for the application to start up, start listening on the connections it can connect to (e.g. MQ), and just periodically retry the ones it can&#39;t until they become available.","title":"Allow Camel to start up even if the &quot;from&quot; endpoint is currently not available","body":"<p>I have a camel application running with Spring Boot. I want to improve resilience by letting my application start up even if one or more of the &quot;from&quot; endpoints (MQ or SMPP in my case) are not currently available - I want the application to just keep checking, and pick up messages once the endpoint becomes available.</p>\n<p>Current code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Application.java\n@SpringBootApplication\n@ConfigurationPropertiesScan\npublic class Application \n{   \n    @Autowired private CamelContext context;\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n   @Bean\n    CommandLineRunner init(ProducerTemplate template) \n    {\n        return args -&gt; \n        {\n            context.addRoutes(new MQRouteBuilder());\n            context.addRoutes(new SMPPRouteBuilder());\n        };\n    }\n}\n\n// example route builder\npublic class SMPPRouteBuilder extends RouteBuilder\n{\n    public void configure() throws Exception\n    {\n        from(&quot;smpp://{{camel.component.smpp.configuration.host}}&quot;).to(&quot;direct:processSMS&quot;);\n        //...\n    }\n}\n</code></pre>\n<p>Currently, if the SMS-C defined as camel.component.smpp.configuration.host isn't available, the application fails to start:</p>\n<blockquote>\n<p>java.lang.IllegalStateException: Failed to execute CommandLineRunner at\norg.springframework.boot.SpringApplication.callRunner(SpringApplication.java:787)\n~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]    at\norg.springframework.boot.SpringApplication.callRunners(SpringApplication.java:768)\n~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]    at\norg.springframework.boot.SpringApplication.run(SpringApplication.java:322)\n~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]    at\norg.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\n~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]    at\norg.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\n~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]    at\nApplication.main(Application.java:28)\n~[classes/:na] Caused by: org.apache.camel.RuntimeCamelException:\njava.io.IOException: localhostInvalid     at\norg.apache.camel.RuntimeCamelException.wrapRuntimeException(RuntimeCamelException.java:68)\n~[camel-api-3.1.0.jar:3.1.0]  at\norg.apache.camel.support.service.ServiceSupport.start(ServiceSupport.java:134)\n~[camel-api-3.1.0.jar:3.1.0]  at\norg.apache.camel.impl.engine.AbstractCamelContext.startService(AbstractCamelContext.java:2989)\n~[camel-base-3.1.0.jar:3.1.0]     at\norg.apache.camel.impl.engine.AbstractCamelContext.doStartOrResumeRouteConsumers(AbstractCamelContext.java:3327)\n~[camel-base-3.1.0.jar:3.1.0]     at\norg.apache.camel.impl.engine.AbstractCamelContext.doStartRouteConsumers(AbstractCamelContext.java:3258)\n~[camel-base-3.1.0.jar:3.1.0]     at\norg.apache.camel.impl.engine.AbstractCamelContext.safelyStartRouteServices(AbstractCamelContext.java:3163)\n~[camel-base-3.1.0.jar:3.1.0]     at\norg.apache.camel.impl.engine.AbstractCamelContext.safelyStartRouteServices(AbstractCamelContext.java:3189)\n~[camel-base-3.1.0.jar:3.1.0]     at\norg.apache.camel.impl.engine.AbstractCamelContext.startRouteService(AbstractCamelContext.java:3033)\n~[camel-base-3.1.0.jar:3.1.0]     at\norg.apache.camel.impl.DefaultModel.start(DefaultModel.java:358)\n~[camel-core-engine-3.1.0.jar:3.1.0]  at\norg.apache.camel.impl.DefaultModel.startRoute(DefaultModel.java:330)\n~[camel-core-engine-3.1.0.jar:3.1.0]  at\norg.apache.camel.impl.DefaultModel.startRouteDefinitions(DefaultModel.java:323)\n~[camel-core-engine-3.1.0.jar:3.1.0]  at\norg.apache.camel.impl.DefaultModel.addRouteDefinitions(DefaultModel.java:88)\n~[camel-core-engine-3.1.0.jar:3.1.0]  at\norg.apache.camel.impl.AbstractModelCamelContext.addRouteDefinitions(AbstractModelCamelContext.java:110)\n~[camel-core-engine-3.1.0.jar:3.1.0]  at\norg.apache.camel.builder.RouteBuilder.populateRoutes(RouteBuilder.java:520)\n~[camel-core-engine-3.1.0.jar:3.1.0]  at\norg.apache.camel.builder.RouteBuilder.addRoutesToCamelContext(RouteBuilder.java:437)\n~[camel-core-engine-3.1.0.jar:3.1.0]  at\norg.apache.camel.impl.engine.AbstractCamelContext.lambda$addRoutes$0(AbstractCamelContext.java:1160)\n~[camel-base-3.1.0.jar:3.1.0]     at\norg.apache.camel.impl.engine.AbstractCamelContext.doWithDefinedClassLoader(AbstractCamelContext.java:2544)\n~[camel-base-3.1.0.jar:3.1.0]     at\norg.apache.camel.impl.engine.AbstractCamelContext.addRoutes(AbstractCamelContext.java:1160)\n~[camel-base-3.1.0.jar:3.1.0]     at\nApplication.lambda$0(Application.java:42)\n~[classes/:na]    at\norg.springframework.boot.SpringApplication.callRunner(SpringApplication.java:784)\n~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]    ... 5 common frames\nomitted Caused by: java.io.IOException: localhostInvalid  at\norg.apache.camel.component.smpp.SmppConnectionFactory.createConnection(SmppConnectionFactory.java:112)\n~[camel-smpp-3.1.0.jar:3.1.0]     at\norg.jsmpp.session.SMPPSession.connectAndBind(SMPPSession.java:222)\n~[jsmpp-2.3.8.jar:2.3.8]  at\norg.jsmpp.session.SMPPSession.connectAndBind(SMPPSession.java:201)\n~[jsmpp-2.3.8.jar:2.3.8]  at\norg.apache.camel.component.smpp.SmppConsumer.createSession(SmppConsumer.java:95)\n~[camel-smpp-3.1.0.jar:3.1.0]     at\norg.apache.camel.component.smpp.SmppConsumer.doStart(SmppConsumer.java:84)\n~[camel-smpp-3.1.0.jar:3.1.0]     at\norg.apache.camel.support.service.ServiceSupport.start(ServiceSupport.java:121)\n~[camel-api-3.1.0.jar:3.1.0]  ... 23 common frames omitted Caused by:\njava.net.UnknownHostException: localhostInvalid   at\njava.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:229)\n~[na:na]  at\njava.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n~[na:na]  at java.base/java.net.Socket.connect(Socket.java:609)\n~[na:na]  at\norg.apache.camel.component.smpp.SmppConnectionFactory.createConnection(SmppConnectionFactory.java:99)\n~[camel-smpp-3.1.0.jar:3.1.0]</p>\n</blockquote>\n<p>What I want instead, is for the application to start up, start listening on the connections it can connect to (e.g. MQ), and just periodically retry the ones it can't until they become available.</p>\n"},{"tags":["java","antlr"],"comments":[{"owner":{"account_id":57077,"reputation":39235,"user_id":170974,"accept_rate":70,"display_name":"tangens"},"score":0,"creation_date":1257031041,"post_id":1655854,"comment_id":1527458,"body_markdown":"On http://www.jguru.com/faq/view.jsp?EID=16185 they explain how to embed the package inside the grammar. But is there a way to specify it as command line parameter?","body":"On <a href=\"http://www.jguru.com/faq/view.jsp?EID=16185\" rel=\"nofollow noreferrer\">jguru.com/faq/view.jsp?EID=16185</a> they explain how to embed the package inside the grammar. But is there a way to specify it as command line parameter?"}],"answers":[{"tags":[],"owner":{"account_id":44586,"reputation":37547,"user_id":130964,"accept_rate":95,"display_name":"peter.murray.rust"},"down_vote_count":0,"up_vote_count":75,"is_accepted":true,"score":75,"last_activity_date":1412197388,"creation_date":1257031930,"answer_id":1655920,"question_id":1655854,"body_markdown":"ANTLR provides a header tool which allows you to include package and imports. You include this in your *.g grammar file:\r\n\r\n    @header {\r\n        package org.xmlcml.cml.converters.antlr;\r\n        import java.util.HashMap;\r\n    }\r\n\r\nAnd you may need it in the Lexer as well:\r\n\r\n    @lexer::header {package org.xmlcml.cml.converters.antlr;}\r\n\r\nand in case you need to add some members and code:\r\n\r\n    @members {\r\n        HashMap&lt;String, Object&gt; objectMap = new HashMap&lt;String, Object&gt;();\r\n        //...\r\n\r\n        private void addArrayValue(String content) {\r\n        //... code required by snippets in the grammar\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to specify a target package for ANTLR?","body":"<p>ANTLR provides a header tool which allows you to include package and imports. You include this in your *.g grammar file:</p>\n\n<pre><code>@header {\n    package org.xmlcml.cml.converters.antlr;\n    import java.util.HashMap;\n}\n</code></pre>\n\n<p>And you may need it in the Lexer as well:</p>\n\n<pre><code>@lexer::header {package org.xmlcml.cml.converters.antlr;}\n</code></pre>\n\n<p>and in case you need to add some members and code:</p>\n\n<pre><code>@members {\n    HashMap&lt;String, Object&gt; objectMap = new HashMap&lt;String, Object&gt;();\n    //...\n\n    private void addArrayValue(String content) {\n    //... code required by snippets in the grammar\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1031737,"reputation":10625,"user_id":1039947,"accept_rate":86,"display_name":"kmp"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1458486773,"creation_date":1413205652,"answer_id":26340736,"question_id":1655854,"body_markdown":"An old question with a perfectly good answer, but since the comment on the question asked for a command line option (and that was what I was actually searching for when I got here), I thought I&#39;d just chime in and say the following...\r\n\r\nYou can specifiy the package on the command line if you are using ANTLR 4.  I [checked][1] and it seems to not be there in version 3 so the [other][2] answer is the way to go for ANTLR 3. \r\n\r\nHere is an example:\r\n\r\n    java -cp antlr-4.4-complete.jar org.antlr.v4.Tool -package my.package MyGram.g4\r\n\r\nSee the `-package` option at [ANTLR Tool Command Line Options][3] for more information.\r\n\r\n\r\n  [1]: https://theantlrguy.atlassian.net/wiki/display/ANTLR3/Command+line+options\r\n  [2]: https://stackoverflow.com/a/1655920/1039947\r\n  [3]: https://github.com/antlr/antlr4/blob/master/doc/tool-options.md","title":"How to specify a target package for ANTLR?","body":"<p>An old question with a perfectly good answer, but since the comment on the question asked for a command line option (and that was what I was actually searching for when I got here), I thought I'd just chime in and say the following...</p>\n\n<p>You can specifiy the package on the command line if you are using ANTLR 4.  I <a href=\"https://theantlrguy.atlassian.net/wiki/display/ANTLR3/Command+line+options\" rel=\"noreferrer\">checked</a> and it seems to not be there in version 3 so the <a href=\"https://stackoverflow.com/a/1655920/1039947\">other</a> answer is the way to go for ANTLR 3. </p>\n\n<p>Here is an example:</p>\n\n<pre><code>java -cp antlr-4.4-complete.jar org.antlr.v4.Tool -package my.package MyGram.g4\n</code></pre>\n\n<p>See the <code>-package</code> option at <a href=\"https://github.com/antlr/antlr4/blob/master/doc/tool-options.md\" rel=\"noreferrer\">ANTLR Tool Command Line Options</a> for more information.</p>\n"},{"tags":[],"owner":{"account_id":1374386,"reputation":3070,"user_id":1308685,"accept_rate":88,"display_name":"Jeremy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664123017,"creation_date":1664123017,"answer_id":73846091,"question_id":1655854,"body_markdown":"It may have changed in more recent versions.  \r\nI&#39;m working on a DSL for a Savantly game service, and \r\nI place my grammar files in subfolders. \r\nThe generated classes are in a package corresponding to the folder structure. \r\n\r\nMy plugin configuration looks like this -  \r\n```\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.antlr&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;antlr4-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;${antlr.version}&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;sourceDirectory&gt;${basedir}&lt;/sourceDirectory&gt;\r\n\t\t&lt;includes&gt;\r\n\t\t   &lt;include&gt;**/*.g4&lt;/include&gt;\r\n\t\t&lt;/includes&gt;\r\n\t\t&lt;visitor&gt;true&lt;/visitor&gt;\r\n\t\t&lt;listener&gt;true&lt;/listener&gt;\r\n\t&lt;/configuration&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;antlr4&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nAnd the resulting folder structure -  \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NCTQB.png","title":"How to specify a target package for ANTLR?","body":"<p>It may have changed in more recent versions.<br />\nI'm working on a DSL for a Savantly game service, and\nI place my grammar files in subfolders.\nThe generated classes are in a package corresponding to the folder structure.</p>\n<p>My plugin configuration looks like this -</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.antlr&lt;/groupId&gt;\n    &lt;artifactId&gt;antlr4-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${antlr.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;sourceDirectory&gt;${basedir}&lt;/sourceDirectory&gt;\n        &lt;includes&gt;\n           &lt;include&gt;**/*.g4&lt;/include&gt;\n        &lt;/includes&gt;\n        &lt;visitor&gt;true&lt;/visitor&gt;\n        &lt;listener&gt;true&lt;/listener&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;antlr4&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>And the resulting folder structure -</p>\n<p><a href=\"https://i.stack.imgur.com/NCTQB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NCTQB.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2087834,"reputation":7157,"user_id":1858327,"accept_rate":71,"display_name":"Captain Man"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679780564,"creation_date":1679780564,"answer_id":75844694,"question_id":1655854,"body_markdown":"For folks using Gradle&#39;s Antlr plugin toss this into your `build.gradle.kts`,\r\n\r\n    tasks {\r\n        generateGrammarSource {\r\n            val pkg = &quot;com.stackoverflow.antlr&quot;\r\n            arguments = arguments + listOf(&quot;-package&quot;, pkg)\r\n            outputDirectory = outputDirectory.resolve(pkg.split(&quot;.&quot;).joinToString(&quot;/&quot;))\r\n        }\r\n    }\r\n\r\nThe `outputDirectory` part might not be needed, but for whatever reason Antlr does not put generated files into the package directory layout even though you give it a package. I wonder if this is a bug [because the documentation][1] mentions another option which makes it sound like it tries to. Either way, this works for me.\r\n\r\n&gt; ` -Xexact-output-dir  all output goes into -o dir regardless of paths/package`\r\n\r\n*(Also, I am on Windows and the `/` instead of `\\\\` seems to be working just fine.)*\r\n\r\n[1]: https://github.com/antlr/antlr4/blob/8dcc6526cfb154d688497f31cf1e0904801c6df2/doc/tool-options.md","title":"How to specify a target package for ANTLR?","body":"<p>For folks using Gradle's Antlr plugin toss this into your <code>build.gradle.kts</code>,</p>\n<pre><code>tasks {\n    generateGrammarSource {\n        val pkg = &quot;com.stackoverflow.antlr&quot;\n        arguments = arguments + listOf(&quot;-package&quot;, pkg)\n        outputDirectory = outputDirectory.resolve(pkg.split(&quot;.&quot;).joinToString(&quot;/&quot;))\n    }\n}\n</code></pre>\n<p>The <code>outputDirectory</code> part might not be needed, but for whatever reason Antlr does not put generated files into the package directory layout even though you give it a package. I wonder if this is a bug <a href=\"https://github.com/antlr/antlr4/blob/8dcc6526cfb154d688497f31cf1e0904801c6df2/doc/tool-options.md\" rel=\"nofollow noreferrer\">because the documentation</a> mentions another option which makes it sound like it tries to. Either way, this works for me.</p>\n<blockquote>\n<p><code> -Xexact-output-dir  all output goes into -o dir regardless of paths/package</code></p>\n</blockquote>\n<p><em>(Also, I am on Windows and the <code>/</code> instead of <code>\\\\</code> seems to be working just fine.)</em></p>\n"}],"owner":{"account_id":57077,"reputation":39235,"user_id":170974,"accept_rate":70,"display_name":"tangens"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21418,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":1655920,"answer_count":4,"score":51,"last_activity_date":1679780564,"creation_date":1257029805,"question_id":1655854,"body_markdown":"If I call:\r\n\r\n    java org.antlr.Tool -o outdir sources/com/example/Java5.g\r\n\r\n...with antlr-3.1.3 the parser and lexer code will be generated in the directory `outdir/sources/com/example`. But the generated classes don&#39;t have any `package` statement. I need them to life in the package `com.example`.\r\n\r\nIs there a way to specify the target package?","title":"How to specify a target package for ANTLR?","body":"<p>If I call:</p>\n\n<pre><code>java org.antlr.Tool -o outdir sources/com/example/Java5.g\n</code></pre>\n\n<p>...with antlr-3.1.3 the parser and lexer code will be generated in the directory <code>outdir/sources/com/example</code>. But the generated classes don't have any <code>package</code> statement. I need them to life in the package <code>com.example</code>.</p>\n\n<p>Is there a way to specify the target package?</p>\n"},{"tags":["java","spring","oauth","spring-cloud-config"],"comments":[{"owner":{"account_id":366241,"reputation":1735,"user_id":711659,"accept_rate":69,"display_name":"chrislhardin"},"score":0,"creation_date":1679231860,"post_id":75573893,"comment_id":133680569,"body_markdown":"I have this same need. I need to override the class that does the magic and call a config server protected by oauth.  The import mechanism support a type of authentication but it is not oauth.","body":"I have this same need. I need to override the class that does the magic and call a config server protected by oauth.  The import mechanism support a type of authentication but it is not oauth."},{"owner":{"account_id":366241,"reputation":1735,"user_id":711659,"accept_rate":69,"display_name":"chrislhardin"},"score":0,"creation_date":1679232236,"post_id":75573893,"comment_id":133680611,"body_markdown":"Maybe in boot  2.7 or 3.0, there is some ingenious answer for this. I am running simultaneous branches of those right now. I hacked a way around this issue but it doesn&#39;t load first like spring.config.import does. A custom implementation class would be just ideal.","body":"Maybe in boot  2.7 or 3.0, there is some ingenious answer for this. I am running simultaneous branches of those right now. I hacked a way around this issue but it doesn&#39;t load first like spring.config.import does. A custom implementation class would be just ideal."},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1679551747,"post_id":75573893,"comment_id":133742651,"body_markdown":"@chrislhardin Plz share a minimal reproduceable codebase.","body":"@chrislhardin Plz share a minimal reproduceable codebase."}],"answers":[{"tags":[],"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679780271,"creation_date":1679780271,"answer_id":75844669,"question_id":75573893,"body_markdown":"Actually, you can do this by creating a custom `ConfigDataLoader` that sets the RestTemplate on the `ConfigServicePropertySourceLocator`. To do that, first create `ConfigDataLoader`;\r\n\r\n    public class OAuth2ConfigDataLoader implements ConfigDataLoader&lt;ConfigServerConfigData&gt; {\r\n    \r\n        private final ConfigClientProperties clientProperties;\r\n        private final OAuth2RestTemplate oauth2RestTemplate;\r\n    \r\n        public OAuth2ConfigDataLoader(ConfigClientProperties clientProperties,\r\n                                      OAuth2RestTemplate oauth2RestTemplate) {\r\n            this.clientProperties = clientProperties;\r\n            this.oauth2RestTemplate = oauth2RestTemplate;\r\n        }\r\n    \r\n        @Override\r\n        public ConfigServerConfigData load(ConfigDataLoaderContext context,\r\n                                           ConfigServerConfigDataResource resource)\r\n                throws ConfigDataNotFoundException, IOException {\r\n            ConfigServicePropertySourceLocator locator =\r\n                    new ConfigServicePropertySourceLocator(clientProperties);\r\n            locator.setRestTemplate(oauth2RestTemplate);\r\n            return new ConfigServerConfigData(locator);\r\n        }\r\n    \r\n        @Override\r\n        public ConfigDataLoader&lt;ConfigServerConfigData&gt; withFallback(ConfigDataLoader&lt;?&gt; fallback) {\r\n            return this;\r\n        }\r\n    }\r\n\r\nThen create a configuration class to configure the `OAuth2RestTemplate`:\r\n\r\n    @Configuration\r\n    public class OAuth2RestTemplateConfig {\r\n    \r\n        @Bean\r\n        public OAuth2RestTemplate oauth2RestTemplate() {\r\n            // configure and return the OAuth2RestTemplate\r\n        }\r\n    }\r\n\r\nAnd last step, set these in your `application.properties` file:\r\n\r\n    spring.config.import=optional:configserver:http://localhost:8888/\r\n    spring.config.imports[0].name=oauth2\r\n    spring.config.imports[0].optional=true\r\n    spring.config.imports[0].loader=com.example.config.OAuth2ConfigDataLoader\r\n\r\n","title":"How to access OAuth2-secured Spring cloud config server when using spring.config.import?","body":"<p>Actually, you can do this by creating a custom <code>ConfigDataLoader</code> that sets the RestTemplate on the <code>ConfigServicePropertySourceLocator</code>. To do that, first create <code>ConfigDataLoader</code>;</p>\n<pre><code>public class OAuth2ConfigDataLoader implements ConfigDataLoader&lt;ConfigServerConfigData&gt; {\n\n    private final ConfigClientProperties clientProperties;\n    private final OAuth2RestTemplate oauth2RestTemplate;\n\n    public OAuth2ConfigDataLoader(ConfigClientProperties clientProperties,\n                                  OAuth2RestTemplate oauth2RestTemplate) {\n        this.clientProperties = clientProperties;\n        this.oauth2RestTemplate = oauth2RestTemplate;\n    }\n\n    @Override\n    public ConfigServerConfigData load(ConfigDataLoaderContext context,\n                                       ConfigServerConfigDataResource resource)\n            throws ConfigDataNotFoundException, IOException {\n        ConfigServicePropertySourceLocator locator =\n                new ConfigServicePropertySourceLocator(clientProperties);\n        locator.setRestTemplate(oauth2RestTemplate);\n        return new ConfigServerConfigData(locator);\n    }\n\n    @Override\n    public ConfigDataLoader&lt;ConfigServerConfigData&gt; withFallback(ConfigDataLoader&lt;?&gt; fallback) {\n        return this;\n    }\n}\n</code></pre>\n<p>Then create a configuration class to configure the <code>OAuth2RestTemplate</code>:</p>\n<pre><code>@Configuration\npublic class OAuth2RestTemplateConfig {\n\n    @Bean\n    public OAuth2RestTemplate oauth2RestTemplate() {\n        // configure and return the OAuth2RestTemplate\n    }\n}\n</code></pre>\n<p>And last step, set these in your <code>application.properties</code> file:</p>\n<pre><code>spring.config.import=optional:configserver:http://localhost:8888/\nspring.config.imports[0].name=oauth2\nspring.config.imports[0].optional=true\nspring.config.imports[0].loader=com.example.config.OAuth2ConfigDataLoader\n</code></pre>\n"}],"owner":{"account_id":7654780,"reputation":105,"user_id":5802110,"display_name":"dflachbart"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1679780271,"creation_date":1677433578,"question_id":75573893,"body_markdown":"I have a Spring Cloud configuration server that is secured with OAuth2 and use the old-style (pre-Spring 2.4) bootstrap approach to bind to the config server. In order to make it use an OAuth2RestTemplate I implemented a custom `ConfigServicePropertySourceLocator` that sets the rest template, configured via `spring.factories` (I found a few examples out there that showed how to do this):\r\n\r\n```\r\n@Configuration\r\npublic class ConfigClientOAuth2BootstrapConfiguration {\r\n\r\n    @Bean\r\n    @Primary\r\n    public ConfigServicePropertySourceLocator configServicePropertySourceLocator() {\r\n        ConfigClientProperties clientProperties = configClientProperties();\r\n        ConfigServicePropertySourceLocator locator = new ConfigServicePropertySourceLocator(clientProperties);\r\n        locator.setRestTemplate(oauth2RestTemplate());\r\n        \r\n        return locator;\r\n    }\r\n\r\n    [...]\r\n}\r\n```\r\n\r\nMETA-INF/spring.factories:\r\n\r\n```\r\norg.springframework.cloud.bootstrap.BootstrapConfiguration=\\\r\ncom.example.config.ConfigClientOAuth2BootstrapConfiguration\r\n\r\n```\r\n\r\nEverything works fine that way. \r\n\r\nBut I would like to use the new Spring Boot Config Data method of import via `spring.config.import=optional:configserver:` instead which got introduced in 2.4 (doing away with bootstrap.properties, and the need for `spring-cloud-starter-bootstrap`), but cannot find any documentation or examples on how to set a custom Rest Template in this case.\r\n\r\nDoes anyone have an example (or link to documentation) on how this could be done? Or maybe it&#39;s not possible?\r\n","title":"How to access OAuth2-secured Spring cloud config server when using spring.config.import?","body":"<p>I have a Spring Cloud configuration server that is secured with OAuth2 and use the old-style (pre-Spring 2.4) bootstrap approach to bind to the config server. In order to make it use an OAuth2RestTemplate I implemented a custom <code>ConfigServicePropertySourceLocator</code> that sets the rest template, configured via <code>spring.factories</code> (I found a few examples out there that showed how to do this):</p>\n<pre><code>@Configuration\npublic class ConfigClientOAuth2BootstrapConfiguration {\n\n    @Bean\n    @Primary\n    public ConfigServicePropertySourceLocator configServicePropertySourceLocator() {\n        ConfigClientProperties clientProperties = configClientProperties();\n        ConfigServicePropertySourceLocator locator = new ConfigServicePropertySourceLocator(clientProperties);\n        locator.setRestTemplate(oauth2RestTemplate());\n        \n        return locator;\n    }\n\n    [...]\n}\n</code></pre>\n<p>META-INF/spring.factories:</p>\n<pre><code>org.springframework.cloud.bootstrap.BootstrapConfiguration=\\\ncom.example.config.ConfigClientOAuth2BootstrapConfiguration\n\n</code></pre>\n<p>Everything works fine that way.</p>\n<p>But I would like to use the new Spring Boot Config Data method of import via <code>spring.config.import=optional:configserver:</code> instead which got introduced in 2.4 (doing away with bootstrap.properties, and the need for <code>spring-cloud-starter-bootstrap</code>), but cannot find any documentation or examples on how to set a custom Rest Template in this case.</p>\n<p>Does anyone have an example (or link to documentation) on how this could be done? Or maybe it's not possible?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9446,"page":546,"page_size":100}
