{"items":[{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":22147610,"reputation":31,"user_id":16583733,"display_name":"kimilao"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657271662,"creation_date":1657271625,"answer_id":72909195,"question_id":72909175,"body_markdown":"Strings in Java are in double quotations `&quot;&quot;`, single quotations `&#39;&#39;` are for characters only.","title":"&#39;Invalid character constant&#39; Java","body":"<p>Strings in Java are in double quotations <code>&quot;&quot;</code>, single quotations <code>''</code> are for characters only.</p>\n"}],"owner":{"account_id":25706733,"reputation":1,"user_id":19465895,"display_name":"emredll"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657271795,"answer_count":1,"score":0,"last_activity_date":1657271764,"creation_date":1657271555,"question_id":72909175,"body_markdown":"    package meraba;\r\n    \r\n    public class sinif1 {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            String emre = &#39;Emre&#39;;\r\n    \r\n            System.out.println(emre);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nWhere is the problem? I&#39;m new to java,thanks","title":"&#39;Invalid character constant&#39; Java","body":"<pre><code>package meraba;\n\npublic class sinif1 {\n\n    public static void main(String[] args) {\n\n        String emre = 'Emre';\n\n        System.out.println(emre);\n\n    }\n\n}\n</code></pre>\n<p>Where is the problem? I'm new to java,thanks</p>\n"},{"tags":["java","spring-boot","java-8"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1657247601,"post_id":72905998,"comment_id":128771128,"body_markdown":"Is it possible for your `Map` to be a `TreeMap`, or something else that can be made to stay in order?  If so, you could probably do something using the `subMap` method.","body":"Is it possible for your <code>Map</code> to be a <code>TreeMap</code>, or something else that can be made to stay in order?  If so, you could probably do something using the <code>subMap</code> method."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":5,"creation_date":1657247815,"post_id":72905998,"comment_id":128771151,"body_markdown":"Can you explain what&#39;s happening in your code? No one aware of the structure of your objects, and this snippet is very far from good coding practices - abuse of `Optional` in order to hide *null-check* and chain methods on it, unchecked type cast.","body":"Can you explain what&#39;s happening in your code? No one aware of the structure of your objects, and this snippet is very far from good coding practices - abuse of <code>Optional</code> in order to hide <i>null-check</i> and chain methods on it, unchecked type cast."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1657248630,"post_id":72905998,"comment_id":128771241,"body_markdown":"This code is quite hard to follow.","body":"This code is quite hard to follow."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657266298,"creation_date":1657266298,"answer_id":72908243,"question_id":72905998,"body_markdown":"I don&#39;t know the reasons behind the data structure and what you want to achieve.\r\n\r\nHowever, it is not important as this can be easily reproduced.\r\n\r\nUsing of Optional is a good start, however, for iterating and processing multiple inputs, you need to use [tag:java-stream] instead and then Optional inside of collecting (I assume you want `Map&lt;String, BigDecimal` output, but it can be adjusted easily).\r\n\r\nAlso, note `.filter(Objects::nonNull)` is meaningless as Optional handles `null` internally and is never passed to the next method.\r\n\r\n```java\r\nfinal Map&lt;String, Map&lt;?, ?&gt;&gt; fieldValue = Map.of(\r\n\t&quot;contents_of_a&quot;, new LinkedHashMap&lt;&gt;(Map.of(&quot;limit&quot;, &quot;10&quot;)),\r\n\t&quot;contents_of_b&quot;, new HashMap&lt;&gt;(Map.of(&quot;limit&quot;, &quot;11&quot;)),         // Different\r\n\t&quot;contents_of_c&quot;, new LinkedHashMap&lt;&gt;(Map.of(&quot;amount&quot;, &quot;12&quot;)),  // No amount\r\n\t&quot;contents_of_d&quot;, new LinkedHashMap&lt;&gt;(Map.of(&quot;limit&quot;, &quot;13&quot;)));\r\n\r\nfinal List&lt;String&gt; contents = List.of(\r\n        &quot;contents_of_a&quot;, \r\n        &quot;contents_of_b&quot;, \r\n        &quot;contents_of_c&quot;,\r\n        // d is missing, e is requested instead\r\n        &quot;contents_of_e&quot;);\r\n\r\nfinal int number = -1;\r\n\r\nfinal Map&lt;String, BigDecimal&gt; resultMap = contents.stream()\r\n\t\t.collect(Collectors.toMap(\r\n\t\t\t\tFunction.identity(),                               // key\r\n\t\t\t\tcontent -&gt; Optional.of(fieldValue)                 // value\r\n\t\t\t\t\t\t.map(coverages -&gt; fieldValue.get(content))\r\n\t\t\t\t\t\t.filter(LinkedHashMap.class::isInstance)\r\n                         // casting here to LinkedHashMap is not required\r\n                         // unless its specific methods are to be used\r\n                         // but we only get a value using Map#get\r\n\t\t\t\t\t\t.map(map -&gt; map.get(&quot;limit&quot;))\r\n\t\t\t\t\t\t.map(String::valueOf)\r\n\t\t\t\t\t\t.map(BigDecimal::new)\r\n                         // prefer this over orElse as Optional#orElseGet \r\n                         // does not create an object if not required\r\n\t\t\t\t\t\t.orElseGet(() -&gt; new BigDecimal(number))));\r\n\r\n// check out the output below the code\r\nresultMap.forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\r\n```\r\n\r\nOnly the content for `a` is used as the remaining were either not an instance of `LinkedHashMap`, didn&#39;t contain a key `limit` or were not among requested contents.\r\n\r\n&gt; ```java\r\n&gt; contents_of_a -&gt; 10\r\n&gt; contents_of_b -&gt; -1\r\n&gt; contents_of_e -&gt; -1\r\n&gt; contents_of_c -&gt; -1\r\n&gt; ```","title":"java 8 map.get multiple key values","body":"<p>I don't know the reasons behind the data structure and what you want to achieve.</p>\n<p>However, it is not important as this can be easily reproduced.</p>\n<p>Using of Optional is a good start, however, for iterating and processing multiple inputs, you need to use <a href=\"/questions/tagged/java-stream\" class=\"post-tag\" title=\"show questions tagged &#39;java-stream&#39;\" rel=\"tag\">java-stream</a> instead and then Optional inside of collecting (I assume you want <code>Map&lt;String, BigDecimal</code> output, but it can be adjusted easily).</p>\n<p>Also, note <code>.filter(Objects::nonNull)</code> is meaningless as Optional handles <code>null</code> internally and is never passed to the next method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Map&lt;String, Map&lt;?, ?&gt;&gt; fieldValue = Map.of(\n    &quot;contents_of_a&quot;, new LinkedHashMap&lt;&gt;(Map.of(&quot;limit&quot;, &quot;10&quot;)),\n    &quot;contents_of_b&quot;, new HashMap&lt;&gt;(Map.of(&quot;limit&quot;, &quot;11&quot;)),         // Different\n    &quot;contents_of_c&quot;, new LinkedHashMap&lt;&gt;(Map.of(&quot;amount&quot;, &quot;12&quot;)),  // No amount\n    &quot;contents_of_d&quot;, new LinkedHashMap&lt;&gt;(Map.of(&quot;limit&quot;, &quot;13&quot;)));\n\nfinal List&lt;String&gt; contents = List.of(\n        &quot;contents_of_a&quot;, \n        &quot;contents_of_b&quot;, \n        &quot;contents_of_c&quot;,\n        // d is missing, e is requested instead\n        &quot;contents_of_e&quot;);\n\nfinal int number = -1;\n\nfinal Map&lt;String, BigDecimal&gt; resultMap = contents.stream()\n        .collect(Collectors.toMap(\n                Function.identity(),                               // key\n                content -&gt; Optional.of(fieldValue)                 // value\n                        .map(coverages -&gt; fieldValue.get(content))\n                        .filter(LinkedHashMap.class::isInstance)\n                         // casting here to LinkedHashMap is not required\n                         // unless its specific methods are to be used\n                         // but we only get a value using Map#get\n                        .map(map -&gt; map.get(&quot;limit&quot;))\n                        .map(String::valueOf)\n                        .map(BigDecimal::new)\n                         // prefer this over orElse as Optional#orElseGet \n                         // does not create an object if not required\n                        .orElseGet(() -&gt; new BigDecimal(number))));\n\n// check out the output below the code\nresultMap.forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\n</code></pre>\n<p>Only the content for <code>a</code> is used as the remaining were either not an instance of <code>LinkedHashMap</code>, didn't contain a key <code>limit</code> or were not among requested contents.</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>contents_of_a -&gt; 10\ncontents_of_b -&gt; -1\ncontents_of_e -&gt; -1\ncontents_of_c -&gt; -1\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":17037921,"reputation":49,"user_id":12326546,"display_name":"Nelson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657271517,"creation_date":1657271130,"answer_id":72909108,"question_id":72905998,"body_markdown":"If you want to filter a map for which key starting with &quot;contents_of_&quot;, you can do this for Java 8:\r\n\r\n    Map&lt;String, Object&gt; filteredFieldValue = fieldValue.entrySet().stream().filter(e -&gt; {\r\n\t\tString k = e.getKey();\r\n\t\treturn Stream.of(&quot;contents_of_&quot;).anyMatch(k::startsWith);\r\n\t}).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n","title":"java 8 map.get multiple key values","body":"<p>If you want to filter a map for which key starting with &quot;contents_of_&quot;, you can do this for Java 8:</p>\n<pre><code>Map&lt;String, Object&gt; filteredFieldValue = fieldValue.entrySet().stream().filter(e -&gt; {\n    String k = e.getKey();\n    return Stream.of(&quot;contents_of_&quot;).anyMatch(k::startsWith);\n}).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n</code></pre>\n"}],"owner":{"account_id":3251911,"reputation":23,"user_id":2741923,"display_name":"user2741923"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72908243,"answer_count":2,"score":1,"last_activity_date":1657271517,"creation_date":1657246340,"question_id":72905998,"body_markdown":"I have following code where I want to get value for multiple keys which starts with same name:\r\nfor example contents_of_a1, contents_of_ab2, contents_of_abc3\r\n\r\n```\r\nOptional.ofNullable(((Map&lt;?, ?&gt;) fieldValue))\r\n                    .filter(Objects::nonNull)\r\n                    .map(coverages -&gt; coverages.get(&quot;contents_of_%&quot;))\r\n                    .filter(Objects::nonNull)\r\n                    .filter(LinkedHashMap.class::isInstance)\r\n                    .map(LinkedHashMap.class::cast)\r\n                    .map(contents -&gt; contents.get(&quot;limit&quot;))\r\n                    .map(limit -&gt; new BigDecimal(String.valueOf(limit)))\r\n                    .orElse(new BigDecimal(number));\r\n```\r\nHow can I pass contents_of%\r\n","title":"java 8 map.get multiple key values","body":"<p>I have following code where I want to get value for multiple keys which starts with same name:\nfor example contents_of_a1, contents_of_ab2, contents_of_abc3</p>\n<pre><code>Optional.ofNullable(((Map&lt;?, ?&gt;) fieldValue))\n                    .filter(Objects::nonNull)\n                    .map(coverages -&gt; coverages.get(&quot;contents_of_%&quot;))\n                    .filter(Objects::nonNull)\n                    .filter(LinkedHashMap.class::isInstance)\n                    .map(LinkedHashMap.class::cast)\n                    .map(contents -&gt; contents.get(&quot;limit&quot;))\n                    .map(limit -&gt; new BigDecimal(String.valueOf(limit)))\n                    .orElse(new BigDecimal(number));\n</code></pre>\n<p>How can I pass contents_of%</p>\n"},{"tags":["java","spring","spring-boot","gradle","build.gradle"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1657271450,"post_id":72906018,"comment_id":128776123,"body_markdown":"How did you build it and how are you running it? Also your logging `Running with Spring Boot v2.7.0, Spring v5.3.20 ` doesn&#39;t match with your dependencies. So you are probably not using gradle to build the war/jar you are running and manually messed around with dependencies.","body":"How did you build it and how are you running it? Also your logging <code>Running with Spring Boot v2.7.0, Spring v5.3.20 </code> doesn&#39;t match with your dependencies. So you are probably not using gradle to build the war/jar you are running and manually messed around with dependencies."},{"owner":{"account_id":139209,"reputation":18435,"user_id":344669,"accept_rate":70,"display_name":"sfgroups"},"score":0,"creation_date":1657283440,"post_id":72906018,"comment_id":128779879,"body_markdown":"converted from maven to gradle, thats how I got this file. removed version numbers from dependencies, its working now.","body":"converted from maven to gradle, thats how I got this file. removed version numbers from dependencies, its working now."}],"answers":[{"tags":[],"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657271268,"creation_date":1657271268,"answer_id":72909128,"question_id":72906018,"body_markdown":"If you use the `org.springframework.boot` gradle plugin you don&#39;t need to specify most of the versions of the dependencies used by Spring Boot since the plugin manages them for you:\r\n```gradle\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;com.h2database:h2&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-devtools&#39;   \r\n    testImplementation &#39;org.apache.httpcomponents:httpclient&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api&#39;\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-engine&#39;\r\n}\r\n```\r\n\r\nThe versions of those dependencies will be set according to the `org.springframework.boot` plugin version used which in your case is **2.7.0**:\r\n\r\n&gt; Running with Spring Boot v2.7.0, Spring v5.3.20 \r\n\r\nThe plugin version is generally specified like this:\r\n```gradle\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.7.0&#39;\r\n}\r\n```\r\n\r\nSee https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/ for more info.\r\n","title":"Springboot application dependencies class data/jpa/EntityManagerFactoryDependsOnPostProcesso cannot be opened because it does not exist","body":"<p>If you use the <code>org.springframework.boot</code> gradle plugin you don't need to specify most of the versions of the dependencies used by Spring Boot since the plugin manages them for you:</p>\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'com.h2database:h2'\n    implementation 'org.springframework.boot:spring-boot-devtools'   \n    testImplementation 'org.apache.httpcomponents:httpclient'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api'\n    testImplementation 'org.junit.jupiter:junit-jupiter-engine'\n}\n</code></pre>\n<p>The versions of those dependencies will be set according to the <code>org.springframework.boot</code> plugin version used which in your case is <strong>2.7.0</strong>:</p>\n<blockquote>\n<p>Running with Spring Boot v2.7.0, Spring v5.3.20</p>\n</blockquote>\n<p>The plugin version is generally specified like this:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.0'\n}\n</code></pre>\n<p>See <a href=\"https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/</a> for more info.</p>\n"}],"owner":{"account_id":139209,"reputation":18435,"user_id":344669,"accept_rate":70,"display_name":"sfgroups"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":792,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72909128,"answer_count":1,"score":0,"last_activity_date":1657271268,"creation_date":1657246604,"question_id":72906018,"body_markdown":"I have sample Spring Boot application, with Gradle I was able to compile it. but while running its giving the below error message.\r\n\r\n&gt; java.io.FileNotFoundException: class path resource\r\n&gt; [org/springframework/boot/autoconfigure/data/jpa/EntityManagerFactoryDependsOnPostProcessor.class]\r\n&gt; cannot be opened because it does not exist\r\n\r\n    2022-07-07 21:56:29.747 DEBUG 20120 --- [restartedMain] com.usbank.appfit.Application            : Running with Spring Boot v2.7.0, Spring v5.3.20 \r\n    2022-07-07 21:56:29.747  INFO 20120 --- [restartedMain] com.usbank.appfit.Application            : No active profile set, falling back to 1 default profile: &quot;default&quot; \r\n    2022-07-07 21:56:29.821  INFO 20120 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable \r\n    2022-07-07 21:56:29.822  INFO 20120 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39; \r\n    2022-07-07 21:56:30.898  WARN 20120 --- [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [org.springframework.boot.devtools.autoconfigure.DevToolsDataSourceAutoConfiguration]; nested exception is java.io.FileNotFoundException: class path resource [org/springframework/boot/autoconfigure/data/jpa/EntityManagerFactoryDependsOnPostProcessor.class] cannot be opened because it does not exist \r\n    2022-07-07 21:56:30.918  INFO 20120 --- [restartedMain] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled. \r\n    2022-07-07 21:56:30.986 ERROR 20120 --- [restartedMain] o.s.boot.SpringApplication               : Application run failed \r\n    org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [org.springframework.boot.devtools.autoconfigure.DevToolsDataSourceAutoConfiguration]; nested exception is java.io.FileNotFoundException: class path resource [org/springframework/boot/autoconfigure/data/jpa/EntityManagerFactoryDependsOnPostProcessor.class] cannot be opened because it does not exist\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:610)\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:311)\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250)\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:600)\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.access$800(ConfigurationClassParser.java:111)\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.lambda$processGroupImports$1(ConfigurationClassParser.java:812)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:809)\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:780)\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:193)\r\n    Caused by: java.io.FileNotFoundException: class path resource [org/springframework/boot/autoconfigure/data/jpa/EntityManagerFactoryDependsOnPostProcessor.class] cannot be opened because it does not exist\r\n    \tat org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:199)\r\n\r\n\r\nUsing below `build.gradle` file.\r\n\r\n \r\n\r\n    plugins {\r\n        id &#39;org.springframework.boot&#39;\r\n        id &#39;io.spring.dependency-management&#39;\r\n        id &#39;java&#39;\r\n        id &#39;maven-publish&#39;\r\n        id &#39;war&#39;\r\n    }\r\n    \r\n     \r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter:2.3.10.RELEASE&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web:2.3.10.RELEASE&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-actuator:2.3.10.RELEASE&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa:2.3.10.RELEASE&#39;\r\n        implementation &#39;com.h2database:h2:1.4.200&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-devtools:2.3.10.RELEASE&#39;   \r\n        testImplementation &#39;org.apache.httpcomponents:httpclient:4.5.7&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test:2.3.10.RELEASE&#39;\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.4.0&#39;\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-engine:5.4.0&#39;\r\n    }\r\n\r\n \r\n\r\nMay I know which dependencies need to be included to resolve this error?\r\n\r\nThanks","title":"Springboot application dependencies class data/jpa/EntityManagerFactoryDependsOnPostProcesso cannot be opened because it does not exist","body":"<p>I have sample Spring Boot application, with Gradle I was able to compile it. but while running its giving the below error message.</p>\n<blockquote>\n<p>java.io.FileNotFoundException: class path resource\n[org/springframework/boot/autoconfigure/data/jpa/EntityManagerFactoryDependsOnPostProcessor.class]\ncannot be opened because it does not exist</p>\n</blockquote>\n<pre><code>2022-07-07 21:56:29.747 DEBUG 20120 --- [restartedMain] com.usbank.appfit.Application            : Running with Spring Boot v2.7.0, Spring v5.3.20 \n2022-07-07 21:56:29.747  INFO 20120 --- [restartedMain] com.usbank.appfit.Application            : No active profile set, falling back to 1 default profile: &quot;default&quot; \n2022-07-07 21:56:29.821  INFO 20120 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable \n2022-07-07 21:56:29.822  INFO 20120 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG' \n2022-07-07 21:56:30.898  WARN 20120 --- [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [org.springframework.boot.devtools.autoconfigure.DevToolsDataSourceAutoConfiguration]; nested exception is java.io.FileNotFoundException: class path resource [org/springframework/boot/autoconfigure/data/jpa/EntityManagerFactoryDependsOnPostProcessor.class] cannot be opened because it does not exist \n2022-07-07 21:56:30.918  INFO 20120 --- [restartedMain] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled. \n2022-07-07 21:56:30.986 ERROR 20120 --- [restartedMain] o.s.boot.SpringApplication               : Application run failed \norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [org.springframework.boot.devtools.autoconfigure.DevToolsDataSourceAutoConfiguration]; nested exception is java.io.FileNotFoundException: class path resource [org/springframework/boot/autoconfigure/data/jpa/EntityManagerFactoryDependsOnPostProcessor.class] cannot be opened because it does not exist\n    at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:610)\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:311)\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250)\n    at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:600)\n    at org.springframework.context.annotation.ConfigurationClassParser.access$800(ConfigurationClassParser.java:111)\n    at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.lambda$processGroupImports$1(ConfigurationClassParser.java:812)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:809)\n    at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:780)\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:193)\nCaused by: java.io.FileNotFoundException: class path resource [org/springframework/boot/autoconfigure/data/jpa/EntityManagerFactoryDependsOnPostProcessor.class] cannot be opened because it does not exist\n    at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:199)\n</code></pre>\n<p>Using below <code>build.gradle</code> file.</p>\n<pre><code>plugins {\n    id 'org.springframework.boot'\n    id 'io.spring.dependency-management'\n    id 'java'\n    id 'maven-publish'\n    id 'war'\n}\n\n \n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter:2.3.10.RELEASE'\n    implementation 'org.springframework.boot:spring-boot-starter-web:2.3.10.RELEASE'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator:2.3.10.RELEASE'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa:2.3.10.RELEASE'\n    implementation 'com.h2database:h2:1.4.200'\n    implementation 'org.springframework.boot:spring-boot-devtools:2.3.10.RELEASE'   \n    testImplementation 'org.apache.httpcomponents:httpclient:4.5.7'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test:2.3.10.RELEASE'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.4.0'\n    testImplementation 'org.junit.jupiter:junit-jupiter-engine:5.4.0'\n}\n</code></pre>\n<p>May I know which dependencies need to be included to resolve this error?</p>\n<p>Thanks</p>\n"},{"tags":["java","future","completable-future"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1657261539,"post_id":72907385,"comment_id":128773227,"body_markdown":"Perhaps you want to use some [thenCombine](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/CompletionStage.html#thenCombine(java.util.concurrent.CompletionStage,java.util.function.BiFunction)) stages?","body":"Perhaps you want to use some <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/CompletionStage.html#thenCombine(java.util.concurrent.CompletionStage,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\">thenCombine</a> stages?"}],"answers":[{"tags":[],"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657271231,"creation_date":1657270692,"answer_id":72909025,"question_id":72907385,"body_markdown":"Use `thenCompose` to compose the results from different futures which depend on each other: \r\n\r\n    CompletableFuture&lt;String&gt; result =\r\n        CompletableFuture.supplyAsync(() -&gt; &quot;result 1&quot;)\r\n            .thenCompose(result1 -&gt;\r\n        CompletableFuture.supplyAsync(result1::length)\r\n            .thenCompose(strLen -&gt;\r\n        CompletableFuture.supplyAsync(strLen::toString)));\r\n\r\nNote though, since each future depend on the result of the previous one, there is no way in executing them in parallel. Each future will still execute after the previous has completed. \r\nIf the futures do not depend on each other, you can run them in parallel by [&quot;unearthing the hidden applicative&quot;][1].\r\n\r\nAlso note, `CompletableFuture` only has `supplyAsync` and `runAsync` taking a `Supplier` and a `Runnable`, respectively and there is no direct way of dealing with asynchronous actions that might throw an exception (e.g. running `Callable`). If you need to do that, you have to delegate to a  helper future as described [in this answer][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/70724491/402428\r\n  [2]: https://stackoverflow.com/a/71672946/402428","title":"How to access previous stage results in CompletableFuture","body":"<p>Use <code>thenCompose</code> to compose the results from different futures which depend on each other:</p>\n<pre><code>CompletableFuture&lt;String&gt; result =\n    CompletableFuture.supplyAsync(() -&gt; &quot;result 1&quot;)\n        .thenCompose(result1 -&gt;\n    CompletableFuture.supplyAsync(result1::length)\n        .thenCompose(strLen -&gt;\n    CompletableFuture.supplyAsync(strLen::toString)));\n</code></pre>\n<p>Note though, since each future depend on the result of the previous one, there is no way in executing them in parallel. Each future will still execute after the previous has completed.\nIf the futures do not depend on each other, you can run them in parallel by <a href=\"https://stackoverflow.com/a/70724491/402428\">&quot;unearthing the hidden applicative&quot;</a>.</p>\n<p>Also note, <code>CompletableFuture</code> only has <code>supplyAsync</code> and <code>runAsync</code> taking a <code>Supplier</code> and a <code>Runnable</code>, respectively and there is no direct way of dealing with asynchronous actions that might throw an exception (e.g. running <code>Callable</code>). If you need to do that, you have to delegate to a  helper future as described <a href=\"https://stackoverflow.com/a/71672946/402428\">in this answer</a>.</p>\n"}],"owner":{"account_id":2535770,"reputation":938,"user_id":2202934,"accept_rate":40,"display_name":"Aftab"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":507,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72909025,"answer_count":1,"score":2,"last_activity_date":1657271231,"creation_date":1657261167,"question_id":72907385,"body_markdown":"I am trying to chain tasks in CompletableFuture to execute them in parallel and get the best performance and resource utilization. \r\n\r\nThe workflow I am writing has five stages and each stage depends on the result of the previous stages. \r\n\r\nThe workflow execution is as follows: \r\n\r\n    * Stage-1: Create CustomerContext -&gt; This will call downstream services and return Context object.\r\n        \r\n    * Stage-2: Generate Candidates for the customer -&gt; This stage generate candidates and returns a List&lt;Candidate&gt; object. This stage requires CustomerContext as a parameter to generate the candidates. \r\n        \r\n    * Stage-3: Process Candidate -&gt; In this stage I process the candidates and returns processed List&lt;Candidate&gt;. This stage requires CustomerContext and List&lt;Candidate&gt; object from stage-1 and stage-2 \r\n        \r\n    * Stage-4: Rank candidates -&gt; In this stage I perform candidate ranking and returns ranked List&lt;Candidate&gt; object. This stage requires CustomerContext and List&lt;Candidate&gt; object from stage-1 and **stage-3** \r\n          \r\n    * Stage-5: Generate Result -&gt; In this stage I generate the final result and returns Result object by making downstream API calls., This stage requires CustomerContext and List&lt;Candidate&gt; object from **stage-1** and **stage-4** \r\n\r\nI can create a result holder object to hold each stage&#39;s results. However, I am not sure if that is the best solution. \r\n\r\nIs CompletableFuture the best solution for this use case? What would be the optimal way to chain these stages?\r\n\r\n","title":"How to access previous stage results in CompletableFuture","body":"<p>I am trying to chain tasks in CompletableFuture to execute them in parallel and get the best performance and resource utilization.</p>\n<p>The workflow I am writing has five stages and each stage depends on the result of the previous stages.</p>\n<p>The workflow execution is as follows:</p>\n<pre><code>* Stage-1: Create CustomerContext -&gt; This will call downstream services and return Context object.\n    \n* Stage-2: Generate Candidates for the customer -&gt; This stage generate candidates and returns a List&lt;Candidate&gt; object. This stage requires CustomerContext as a parameter to generate the candidates. \n    \n* Stage-3: Process Candidate -&gt; In this stage I process the candidates and returns processed List&lt;Candidate&gt;. This stage requires CustomerContext and List&lt;Candidate&gt; object from stage-1 and stage-2 \n    \n* Stage-4: Rank candidates -&gt; In this stage I perform candidate ranking and returns ranked List&lt;Candidate&gt; object. This stage requires CustomerContext and List&lt;Candidate&gt; object from stage-1 and **stage-3** \n      \n* Stage-5: Generate Result -&gt; In this stage I generate the final result and returns Result object by making downstream API calls., This stage requires CustomerContext and List&lt;Candidate&gt; object from **stage-1** and **stage-4** \n</code></pre>\n<p>I can create a result holder object to hold each stage's results. However, I am not sure if that is the best solution.</p>\n<p>Is CompletableFuture the best solution for this use case? What would be the optimal way to chain these stages?</p>\n"},{"tags":["java","string","replace"],"comments":[{"owner":{"account_id":9621752,"reputation":483,"user_id":7142748,"display_name":"jhueg"},"score":1,"creation_date":1657270937,"post_id":72908935,"comment_id":128775964,"body_markdown":"Please take the [tour](https://stackoverflow.com/tour), read [How to Ask](https://stackoverflow.com/questions/how-to-ask) and try to solve the task on your own first. If you come across a specific problem while doing so, provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and try to solve the task on your own first. If you come across a specific problem while doing so, provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657271031,"creation_date":1657271031,"answer_id":72909092,"question_id":72908935,"body_markdown":"We can do a regex replacement with dot all mode enabled:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String test = &quot;test_one {\\nLorem Ipsum is simply dummy text of the printing and typesetting industry.\\n}\\ntest_two {\\nLorem Ipsum is simply dummy text of the printing and typesetting industry.\\n}\\n\\ntest_three {\\nLorem Ipsum is simply dummy text of the printing and typesetting industry.\\n}&quot;;\r\n    test = test.replaceAll(&quot;(?s)\\\\btest_three \\\\{.*?\\\\}&quot;, &quot;test_three {\\nThis is my text\\n}&quot;);\r\n    System.out.println(test);\r\n\r\nThis prints:\r\n\r\n    test_one {\r\n    Lorem Ipsum is simply dummy text of the printing and typesetting industry.\r\n    }\r\n    test_two {\r\n    Lorem Ipsum is simply dummy text of the printing and typesetting industry.\r\n    }\r\n\r\n    test_three {\r\n    This is my text\r\n    }","title":"Replace all text between brackets Java","body":"<p>We can do a regex replacement with dot all mode enabled:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String test = &quot;test_one {\\nLorem Ipsum is simply dummy text of the printing and typesetting industry.\\n}\\ntest_two {\\nLorem Ipsum is simply dummy text of the printing and typesetting industry.\\n}\\n\\ntest_three {\\nLorem Ipsum is simply dummy text of the printing and typesetting industry.\\n}&quot;;\ntest = test.replaceAll(&quot;(?s)\\\\btest_three \\\\{.*?\\\\}&quot;, &quot;test_three {\\nThis is my text\\n}&quot;);\nSystem.out.println(test);\n</code></pre>\n<p>This prints:</p>\n<pre><code>test_one {\nLorem Ipsum is simply dummy text of the printing and typesetting industry.\n}\ntest_two {\nLorem Ipsum is simply dummy text of the printing and typesetting industry.\n}\n\ntest_three {\nThis is my text\n}\n</code></pre>\n"}],"owner":{"account_id":11257572,"reputation":25,"user_id":8256835,"display_name":"Влад"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72909092,"answer_count":1,"score":0,"last_activity_date":1657271031,"creation_date":1657270217,"question_id":72908935,"body_markdown":"I have String\r\n\r\n    String test = &quot;\r\n        test_one {\r\n        Lorem Ipsum is simply dummy text of the printing and typesetting industry.\r\n        }\r\n        \r\n        test_two {\r\n        Lorem Ipsum is simply dummy text of the printing and typesetting industry.\r\n        }\r\n        \r\n        test_three {\r\n        Lorem Ipsum is simply dummy text of the printing and typesetting industry.\r\n        }\r\n    &quot;\r\nI need replace whole text between brackets in &#39;test_two&#39; or &#39;test_three&#39; with another text ex &quot;This is my text&quot;;\r\n\r\nExpected output:\r\n\r\n    String test = &quot;\r\n            test_one {\r\n            Lorem Ipsum is simply dummy text of the printing and typesetting industry.\r\n            }\r\n            \r\n            test_two {\r\n            Lorem Ipsum is simply dummy text of the printing and typesetting industry.\r\n            }\r\n            \r\n            test_three {\r\n            **This is my text**\r\n            }\r\n        &quot;","title":"Replace all text between brackets Java","body":"<p>I have String</p>\n<pre><code>String test = &quot;\n    test_one {\n    Lorem Ipsum is simply dummy text of the printing and typesetting industry.\n    }\n    \n    test_two {\n    Lorem Ipsum is simply dummy text of the printing and typesetting industry.\n    }\n    \n    test_three {\n    Lorem Ipsum is simply dummy text of the printing and typesetting industry.\n    }\n&quot;\n</code></pre>\n<p>I need replace whole text between brackets in 'test_two' or 'test_three' with another text ex &quot;This is my text&quot;;</p>\n<p>Expected output:</p>\n<pre><code>String test = &quot;\n        test_one {\n        Lorem Ipsum is simply dummy text of the printing and typesetting industry.\n        }\n        \n        test_two {\n        Lorem Ipsum is simply dummy text of the printing and typesetting industry.\n        }\n        \n        test_three {\n        **This is my text**\n        }\n    &quot;\n</code></pre>\n"},{"tags":["java","maven","openapi","openapi-generator","openapi-generator-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":183306,"reputation":9428,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657270987,"creation_date":1657270987,"answer_id":72909082,"question_id":72908959,"body_markdown":"Sure, it is possibile.\r\n\r\nYou have to override the `pojo.mustache` file related to the OpenAPI generator you are using.\r\n\r\nI usually do that, and here is [the official OpenAPI customization guide][1].\r\n\r\n\r\n  [1]: https://openapi-generator.tech/docs/templating/","title":"Is it possible to add methods to OpenAPI?","body":"<p>Sure, it is possibile.</p>\n<p>You have to override the <code>pojo.mustache</code> file related to the OpenAPI generator you are using.</p>\n<p>I usually do that, and here is <a href=\"https://openapi-generator.tech/docs/templating/\" rel=\"nofollow noreferrer\">the official OpenAPI customization guide</a>.</p>\n"}],"owner":{"account_id":11159118,"reputation":159,"user_id":8189864,"display_name":"Тарас Предзимирський"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":727,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72909082,"answer_count":1,"score":3,"last_activity_date":1657271003,"creation_date":1657270353,"question_id":72908959,"body_markdown":"I have a question: is it possible to add methods with some logic to DTO, generated by open-api.\r\n\r\nFor example I have an openapi DTO:\r\n\r\n    CarDTO:\r\n       type: object\r\n       properties:\r\n         id:\r\n           type: string\r\n           format: uuid\r\n         isEngineWorks:\r\n           type: boolean\r\n           default: false\r\n         isFuelFull:\r\n           type: boolean\r\n           default: false\r\n\r\nI use maven plugin (openapi-generator-maven-plugin) and it generates me a java class:\r\n\r\n    public class CarDTO {\r\n        @JsonProperty(&quot;id&quot;)\r\n        @Valid\r\n        private UUID id;\r\n    \r\n        @JsonProperty(&quot;isEngineWorks&quot;)\r\n        private Boolean isEngineWorks = false;\r\n    \r\n        @JsonProperty(&quot;isFuelFull&quot;)\r\n        private Boolean isFuelFull = false;\r\n    }\r\n    \r\nIs it possible to add a method in openapi, so it will be generated in my DTO? as a result, I want to have:\r\n\r\n    public class CarDTO {\r\n        @JsonProperty(&quot;id&quot;)\r\n        @Valid\r\n        private UUID id;\r\n    \r\n        @JsonProperty(&quot;isEngineWorks&quot;)\r\n        private Boolean isEngineWorks = false;\r\n    \r\n        @JsonProperty(&quot;isFuelFull&quot;)\r\n        private Boolean isFuelFull = false;\r\n        \r\n        public boolean isCarReadyToDrive {\r\n            return isEngineWorks &amp;&amp; isFuelFull;  \r\n        }\r\n\r\n    }\r\n    ","title":"Is it possible to add methods to OpenAPI?","body":"<p>I have a question: is it possible to add methods with some logic to DTO, generated by open-api.</p>\n<p>For example I have an openapi DTO:</p>\n<pre><code>CarDTO:\n   type: object\n   properties:\n     id:\n       type: string\n       format: uuid\n     isEngineWorks:\n       type: boolean\n       default: false\n     isFuelFull:\n       type: boolean\n       default: false\n</code></pre>\n<p>I use maven plugin (openapi-generator-maven-plugin) and it generates me a java class:</p>\n<pre><code>public class CarDTO {\n    @JsonProperty(&quot;id&quot;)\n    @Valid\n    private UUID id;\n\n    @JsonProperty(&quot;isEngineWorks&quot;)\n    private Boolean isEngineWorks = false;\n\n    @JsonProperty(&quot;isFuelFull&quot;)\n    private Boolean isFuelFull = false;\n}\n</code></pre>\n<p>Is it possible to add a method in openapi, so it will be generated in my DTO? as a result, I want to have:</p>\n<pre><code>public class CarDTO {\n    @JsonProperty(&quot;id&quot;)\n    @Valid\n    private UUID id;\n\n    @JsonProperty(&quot;isEngineWorks&quot;)\n    private Boolean isEngineWorks = false;\n\n    @JsonProperty(&quot;isFuelFull&quot;)\n    private Boolean isFuelFull = false;\n    \n    public boolean isCarReadyToDrive {\n        return isEngineWorks &amp;&amp; isFuelFull;  \n    }\n\n}\n</code></pre>\n"},{"tags":["java","json","jackson","jsonschema","json-schema-validator"],"answers":[{"tags":[],"owner":{"account_id":2242741,"reputation":6993,"user_id":1976843,"display_name":"JEY"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1519815871,"creation_date":1519813826,"answer_id":49027338,"question_id":48984259,"body_markdown":"You will need to specify the schema for each properties like:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    JsonSchemaGenerator schemaGen = new JsonSchemaGenerator(mapper);\r\n    ObjectSchema schemaB = schemaGen.generateSchema(B.class).asObjectSchema();\r\n    schemaB.rejectAdditionalProperties();\r\n\r\n    ObjectSchema schema = schemaGen.generateSchema(A.class).asObjectSchema();\r\n    schema.rejectAdditionalProperties();\r\n    schema.putProperty(&quot;b&quot;, schemaB);\r\n\r\nYou can leverage reflection api to automatically do it for you. Here is a quick and dirty example:\r\n\r\n\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        final ObjectMapper mapper = new ObjectMapper();\r\n        final JsonSchemaGenerator schemaGen = new JsonSchemaGenerator(mapper);\r\n        ObjectSchema schema = generateSchema(schemaGen, A.class);\r\n        schema.rejectAdditionalProperties();\r\n        System.out.print(mapper.writerWithDefaultPrettyPrinter().writeValueAsString(schema));\r\n    }\r\n\r\n    public static &lt;T&gt; ObjectSchema generateSchema(JsonSchemaGenerator generator, Class&lt;T&gt; type) throws JsonMappingException {\r\n        ObjectSchema schema = generator.generateSchema(type).asObjectSchema();\r\n        for (final Field field : type.getDeclaredFields()) {\r\n            if (!field.getType().getName().startsWith(&quot;java&quot;) &amp;&amp; !field.getType().isPrimitive()) {\r\n                final ObjectSchema fieldSchema = generateSchema(generator, field.getType());\r\n                fieldSchema.rejectAdditionalProperties();\r\n                schema.putProperty(field.getName(), fieldSchema);\r\n            }\r\n        }\r\n        return schema;\r\n    }","title":"Jackson: How can I generate json schema which rejects all additional content","body":"<p>You will need to specify the schema for each properties like:</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nJsonSchemaGenerator schemaGen = new JsonSchemaGenerator(mapper);\nObjectSchema schemaB = schemaGen.generateSchema(B.class).asObjectSchema();\nschemaB.rejectAdditionalProperties();\n\nObjectSchema schema = schemaGen.generateSchema(A.class).asObjectSchema();\nschema.rejectAdditionalProperties();\nschema.putProperty(\"b\", schemaB);\n</code></pre>\n\n<p>You can leverage reflection api to automatically do it for you. Here is a quick and dirty example:</p>\n\n<pre><code>public static void main(String[] args) throws JsonProcessingException {\n    final ObjectMapper mapper = new ObjectMapper();\n    final JsonSchemaGenerator schemaGen = new JsonSchemaGenerator(mapper);\n    ObjectSchema schema = generateSchema(schemaGen, A.class);\n    schema.rejectAdditionalProperties();\n    System.out.print(mapper.writerWithDefaultPrettyPrinter().writeValueAsString(schema));\n}\n\npublic static &lt;T&gt; ObjectSchema generateSchema(JsonSchemaGenerator generator, Class&lt;T&gt; type) throws JsonMappingException {\n    ObjectSchema schema = generator.generateSchema(type).asObjectSchema();\n    for (final Field field : type.getDeclaredFields()) {\n        if (!field.getType().getName().startsWith(\"java\") &amp;&amp; !field.getType().isPrimitive()) {\n            final ObjectSchema fieldSchema = generateSchema(generator, field.getType());\n            fieldSchema.rejectAdditionalProperties();\n            schema.putProperty(field.getName(), fieldSchema);\n        }\n    }\n    return schema;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3371794,"reputation":143468,"user_id":2830850,"display_name":"Tarun Lalwani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519825637,"creation_date":1519825637,"answer_id":49031081,"question_id":48984259,"body_markdown":"Well I would go to a simpler route if you don&#39;t want to use reflections. I would use JSONPath. So you would need to add below to your `pom.xml`\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\nThen below code demonstrates how to alter the generated JSON file\r\n\r\n    package taruntest;\r\n    \r\n    import com.jayway.jsonpath.*;\r\n    \r\n    public class Test {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            String data = &quot;{\\n&quot; +\r\n                    &quot;  \\&quot;type\\&quot; : \\&quot;object\\&quot;,\\n&quot; +\r\n                    &quot;  \\&quot;id\\&quot; : \\&quot;urn:jsonschema:com.xxx.xxx:A\\&quot;,\\n&quot; +\r\n                    &quot;  \\&quot;additionalProperties\\&quot; : false,\\n&quot; +\r\n                    &quot;  \\&quot;properties\\&quot; : {\\n&quot; +\r\n                    &quot;    \\&quot;s\\&quot; : {\\n&quot; +\r\n                    &quot;      \\&quot;type\\&quot; : \\&quot;string\\&quot;\\n&quot; +\r\n                    &quot;    },\\n&quot; +\r\n                    &quot;    \\&quot;b\\&quot; : {\\n&quot; +\r\n                    &quot;      \\&quot;type\\&quot; : \\&quot;object\\&quot;,\\n&quot; +\r\n                    &quot;      \\&quot;id\\&quot; : \\&quot;urn:jsonschema:com.xxx.xxx:B\\&quot;,\\n&quot; +\r\n                    &quot;      \\&quot;properties\\&quot; : {\\n&quot; +\r\n                    &quot;        \\&quot;bd\\&quot; : {\\n&quot; +\r\n                    &quot;          \\&quot;type\\&quot; : \\&quot;number\\&quot;\\n&quot; +\r\n                    &quot;        }\\n&quot; +\r\n                    &quot;      }\\n&quot; +\r\n                    &quot;    }\\n&quot; +\r\n                    &quot;  }\\n&quot; +\r\n                    &quot;}&quot;;\r\n    \r\n            DocumentContext doc = JsonPath.parse(data);\r\n            doc.put(&quot;$..[?(@.id =~ /urn:jsonschema:.*/)]&quot;, &quot;additionalProperties&quot;, false);\r\n            String modified =  doc.jsonString();\r\n            System.out.println(modified);\r\n        }\r\n    }\r\n\r\nThe output of the run is (formatted manually)\r\n\r\n    {\r\n      &quot;type&quot;: &quot;object&quot;,\r\n      &quot;id&quot;: &quot;urn:jsonschema:com.xxx.xxx:A&quot;,\r\n      &quot;additionalProperties&quot;: false,\r\n      &quot;properties&quot;: {\r\n        &quot;s&quot;: {\r\n          &quot;type&quot;: &quot;string&quot;\r\n        },\r\n        &quot;b&quot;: {\r\n          &quot;type&quot;: &quot;object&quot;,\r\n          &quot;id&quot;: &quot;urn:jsonschema:com.xxx.xxx:B&quot;,\r\n          &quot;properties&quot;: {\r\n            &quot;bd&quot;: {\r\n              &quot;type&quot;: &quot;number&quot;\r\n            }\r\n          },\r\n          &quot;additionalProperties&quot;: false\r\n        }\r\n      }\r\n    }\r\n","title":"Jackson: How can I generate json schema which rejects all additional content","body":"<p>Well I would go to a simpler route if you don't want to use reflections. I would use JSONPath. So you would need to add below to your <code>pom.xml</code></p>\n\n<pre><code>  &lt;dependency&gt;\n    &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n    &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n    &lt;version&gt;2.3.0&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n\n<p>Then below code demonstrates how to alter the generated JSON file</p>\n\n<pre><code>package taruntest;\n\nimport com.jayway.jsonpath.*;\n\npublic class Test {\n\n    public static void main(String[] args) throws Exception {\n        String data = \"{\\n\" +\n                \"  \\\"type\\\" : \\\"object\\\",\\n\" +\n                \"  \\\"id\\\" : \\\"urn:jsonschema:com.xxx.xxx:A\\\",\\n\" +\n                \"  \\\"additionalProperties\\\" : false,\\n\" +\n                \"  \\\"properties\\\" : {\\n\" +\n                \"    \\\"s\\\" : {\\n\" +\n                \"      \\\"type\\\" : \\\"string\\\"\\n\" +\n                \"    },\\n\" +\n                \"    \\\"b\\\" : {\\n\" +\n                \"      \\\"type\\\" : \\\"object\\\",\\n\" +\n                \"      \\\"id\\\" : \\\"urn:jsonschema:com.xxx.xxx:B\\\",\\n\" +\n                \"      \\\"properties\\\" : {\\n\" +\n                \"        \\\"bd\\\" : {\\n\" +\n                \"          \\\"type\\\" : \\\"number\\\"\\n\" +\n                \"        }\\n\" +\n                \"      }\\n\" +\n                \"    }\\n\" +\n                \"  }\\n\" +\n                \"}\";\n\n        DocumentContext doc = JsonPath.parse(data);\n        doc.put(\"$..[?(@.id =~ /urn:jsonschema:.*/)]\", \"additionalProperties\", false);\n        String modified =  doc.jsonString();\n        System.out.println(modified);\n    }\n}\n</code></pre>\n\n<p>The output of the run is (formatted manually)</p>\n\n<pre><code>{\n  \"type\": \"object\",\n  \"id\": \"urn:jsonschema:com.xxx.xxx:A\",\n  \"additionalProperties\": false,\n  \"properties\": {\n    \"s\": {\n      \"type\": \"string\"\n    },\n    \"b\": {\n      \"type\": \"object\",\n      \"id\": \"urn:jsonschema:com.xxx.xxx:B\",\n      \"properties\": {\n        \"bd\": {\n          \"type\": \"number\"\n        }\n      },\n      \"additionalProperties\": false\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2489808,"reputation":3274,"user_id":2167531,"accept_rate":75,"display_name":"Shadow Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1520304457,"creation_date":1520302455,"answer_id":49122403,"question_id":48984259,"body_markdown":"The following worked for me:\r\n\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.kjetland.jackson.jsonSchema.JsonSchemaConfig;\r\n    import com.kjetland.jackson.jsonSchema.JsonSchemaGenerator;\r\n\r\n    ...\r\n\r\n\tObjectMapper objectMapper = new ObjectMapper();\r\n\tJsonSchemaConfig config = JsonSchemaConfig.nullableJsonSchemaDraft4();\r\n\tJsonSchemaGenerator schemaGenerator = new JsonSchemaGenerator(objectMapper, config);\r\n\tJsonNode jsonNode = schemaGenerator.generateJsonSchema(Test.class);\r\n\tString jsonSchemaText = jsonNode.toString();\r\n\r\nUsing maven dependency:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.kjetland&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mbknor-jackson-jsonschema_2.12&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.0.28&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nUsing the following classes:\r\n\r\nTest.java:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonCreator;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    \r\n    public class Test {\r\n    \t@JsonProperty(required = true)\r\n    \tprivate final String name;\r\n    \tprivate final TestChild child;\r\n    \r\n    \t@JsonCreator\r\n    \tpublic Test (\r\n    \t\t\t@JsonProperty(&quot;name&quot;) String name,\r\n    \t\t\t@JsonProperty(&quot;child&quot;) TestChild child) {\r\n    \t\tthis.name = name;\r\n    \t\tthis.child = child;\r\n    \t}\r\n    \r\n    \tpublic String getName () {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic TestChild getChild () {\r\n    \t\treturn child;\r\n    \t}\r\n    }\r\n\r\n...and TestChild.java:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonCreator;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    \r\n    public class TestChild {\r\n    \t@JsonProperty(required = true)\r\n    \tprivate final String childName;\r\n    \r\n    \t@JsonCreator\r\n    \tpublic TestChild (@JsonProperty(&quot;childName&quot;) String childName) {\r\n    \t\tthis.childName = childName;\r\n    \t}\r\n    \r\n    \tpublic String getChildName () {\r\n    \t\treturn childName;\r\n    \t}\r\n    }\r\n\r\nResults in (output of `jsonSchemaText` piped through `jq -C .` for pretty formatting):\r\n\r\n    {\r\n      &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,\r\n      &quot;title&quot;: &quot;Test&quot;,\r\n      &quot;type&quot;: &quot;object&quot;,\r\n      &quot;additionalProperties&quot;: false,\r\n      &quot;properties&quot;: {\r\n        &quot;name&quot;: {\r\n          &quot;type&quot;: &quot;string&quot;\r\n        },\r\n        &quot;child&quot;: {\r\n          &quot;oneOf&quot;: [\r\n            {\r\n              &quot;type&quot;: &quot;null&quot;,\r\n              &quot;title&quot;: &quot;Not included&quot;\r\n            },\r\n            {\r\n              &quot;$ref&quot;: &quot;#/definitions/TestChild&quot;\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      &quot;required&quot;: [\r\n        &quot;name&quot;\r\n      ],\r\n      &quot;definitions&quot;: {\r\n        &quot;TestChild&quot;: {\r\n          &quot;type&quot;: &quot;object&quot;,\r\n          &quot;additionalProperties&quot;: false,\r\n          &quot;properties&quot;: {\r\n            &quot;childName&quot;: {\r\n              &quot;type&quot;: &quot;string&quot;\r\n            }\r\n          },\r\n          &quot;required&quot;: [\r\n            &quot;childName&quot;\r\n          ]\r\n        }\r\n      }\r\n    }\r\n\r\nThis results in `&quot;additionalProperties&quot;: false` on both Test and TestChild.\r\n\r\nNote: You can replace `JsonSchemaConfig.nullableJsonSchemaDraft4()` with `JsonSchemaConfig.vanillaJsonSchemaDraft4()` in your schema generation code to get rid of the &quot;oneof&quot; references with &quot;type: null&quot; or &quot;type: ActualType&quot; in favor of just &quot;type: ActualType&quot; (note, this still won&#39;t add them to the &quot;required&quot; array unless you annotate the properties with `@JsonProperty(required = true)`).","title":"Jackson: How can I generate json schema which rejects all additional content","body":"<p>The following worked for me:</p>\n\n<pre><code>import com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.kjetland.jackson.jsonSchema.JsonSchemaConfig;\nimport com.kjetland.jackson.jsonSchema.JsonSchemaGenerator;\n\n...\n\nObjectMapper objectMapper = new ObjectMapper();\nJsonSchemaConfig config = JsonSchemaConfig.nullableJsonSchemaDraft4();\nJsonSchemaGenerator schemaGenerator = new JsonSchemaGenerator(objectMapper, config);\nJsonNode jsonNode = schemaGenerator.generateJsonSchema(Test.class);\nString jsonSchemaText = jsonNode.toString();\n</code></pre>\n\n<p>Using maven dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.kjetland&lt;/groupId&gt;\n    &lt;artifactId&gt;mbknor-jackson-jsonschema_2.12&lt;/artifactId&gt;\n    &lt;version&gt;1.0.28&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Using the following classes:</p>\n\n<p>Test.java:</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\npublic class Test {\n    @JsonProperty(required = true)\n    private final String name;\n    private final TestChild child;\n\n    @JsonCreator\n    public Test (\n            @JsonProperty(\"name\") String name,\n            @JsonProperty(\"child\") TestChild child) {\n        this.name = name;\n        this.child = child;\n    }\n\n    public String getName () {\n        return name;\n    }\n\n    public TestChild getChild () {\n        return child;\n    }\n}\n</code></pre>\n\n<p>...and TestChild.java:</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\npublic class TestChild {\n    @JsonProperty(required = true)\n    private final String childName;\n\n    @JsonCreator\n    public TestChild (@JsonProperty(\"childName\") String childName) {\n        this.childName = childName;\n    }\n\n    public String getChildName () {\n        return childName;\n    }\n}\n</code></pre>\n\n<p>Results in (output of <code>jsonSchemaText</code> piped through <code>jq -C .</code> for pretty formatting):</p>\n\n<pre><code>{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"title\": \"Test\",\n  \"type\": \"object\",\n  \"additionalProperties\": false,\n  \"properties\": {\n    \"name\": {\n      \"type\": \"string\"\n    },\n    \"child\": {\n      \"oneOf\": [\n        {\n          \"type\": \"null\",\n          \"title\": \"Not included\"\n        },\n        {\n          \"$ref\": \"#/definitions/TestChild\"\n        }\n      ]\n    }\n  },\n  \"required\": [\n    \"name\"\n  ],\n  \"definitions\": {\n    \"TestChild\": {\n      \"type\": \"object\",\n      \"additionalProperties\": false,\n      \"properties\": {\n        \"childName\": {\n          \"type\": \"string\"\n        }\n      },\n      \"required\": [\n        \"childName\"\n      ]\n    }\n  }\n}\n</code></pre>\n\n<p>This results in <code>\"additionalProperties\": false</code> on both Test and TestChild.</p>\n\n<p>Note: You can replace <code>JsonSchemaConfig.nullableJsonSchemaDraft4()</code> with <code>JsonSchemaConfig.vanillaJsonSchemaDraft4()</code> in your schema generation code to get rid of the \"oneof\" references with \"type: null\" or \"type: ActualType\" in favor of just \"type: ActualType\" (note, this still won't add them to the \"required\" array unless you annotate the properties with <code>@JsonProperty(required = true)</code>).</p>\n"},{"tags":[],"owner":{"account_id":1312984,"reputation":384,"user_id":1260562,"display_name":"Race"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579338406,"creation_date":1579229534,"answer_id":59780553,"question_id":48984259,"body_markdown":"This is my solution, without any reflect and hack way, and it works very well for me.\r\n\r\n```\r\npublic static void rejectAdditionalProperties(JsonSchema jsonSchema) {\r\n  if (jsonSchema.isObjectSchema()) {\r\n    ObjectSchema objectSchema = jsonSchema.asObjectSchema();\r\n    ObjectSchema.AdditionalProperties additionalProperties = objectSchema.getAdditionalProperties();\r\n    if (additionalProperties instanceof ObjectSchema.SchemaAdditionalProperties) {\r\n        rejectAdditionalProperties(((ObjectSchema.SchemaAdditionalProperties) additionalProperties).getJsonSchema());\r\n    } else {\r\n      for (JsonSchema property : objectSchema.getProperties().values()) {\r\n        rejectAdditionalProperties(property);\r\n      }\r\n      objectSchema.rejectAdditionalProperties();\r\n    }\r\n  } else if (jsonSchema.isArraySchema()) {\r\n    ArraySchema.Items items = jsonSchema.asArraySchema().getItems();\r\n    if (items.isSingleItems()) {\r\n      rejectAdditionalProperties(items.asSingleItems().getSchema());\r\n    } else if (items.isArrayItems()) {\r\n      for (JsonSchema schema : items.asArrayItems().getJsonSchemas()) {\r\n        rejectAdditionalProperties(schema);\r\n      }\r\n    }\r\n  }\r\n}\r\n```","title":"Jackson: How can I generate json schema which rejects all additional content","body":"<p>This is my solution, without any reflect and hack way, and it works very well for me.</p>\n\n<pre><code>public static void rejectAdditionalProperties(JsonSchema jsonSchema) {\n  if (jsonSchema.isObjectSchema()) {\n    ObjectSchema objectSchema = jsonSchema.asObjectSchema();\n    ObjectSchema.AdditionalProperties additionalProperties = objectSchema.getAdditionalProperties();\n    if (additionalProperties instanceof ObjectSchema.SchemaAdditionalProperties) {\n        rejectAdditionalProperties(((ObjectSchema.SchemaAdditionalProperties) additionalProperties).getJsonSchema());\n    } else {\n      for (JsonSchema property : objectSchema.getProperties().values()) {\n        rejectAdditionalProperties(property);\n      }\n      objectSchema.rejectAdditionalProperties();\n    }\n  } else if (jsonSchema.isArraySchema()) {\n    ArraySchema.Items items = jsonSchema.asArraySchema().getItems();\n    if (items.isSingleItems()) {\n      rejectAdditionalProperties(items.asSingleItems().getSchema());\n    } else if (items.isArrayItems()) {\n      for (JsonSchema schema : items.asArrayItems().getJsonSchemas()) {\n        rejectAdditionalProperties(schema);\n      }\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":8950570,"reputation":955,"user_id":6676704,"display_name":"Beno"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6880,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":4,"score":16,"last_activity_date":1657270902,"creation_date":1519633831,"question_id":48984259,"body_markdown":"I want to generate JSON schema where `&quot;additionalProperties&quot; : false` will be applied for all classes which I have.\r\n\r\nSuppose I have following classes:\r\n\r\n    class A{\r\n        private String s;\r\n        private B b;\r\n\r\n        public String getS() {\r\n            return s;\r\n        }\r\n\r\n        public B getB() {\r\n            return b;\r\n        }\r\n    }\r\n\r\n    class B{\r\n        private BigDecimal bd;\r\n\r\n        public BigDecimal getBd() {\r\n            return bd;\r\n        }\r\n    }\r\n\r\nWhen I am generating schema as following like below code the schema property `&quot;additionalProperties&quot; : false` was applying only for the class `A`.\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    JsonSchemaGenerator schemaGen = new JsonSchemaGenerator(mapper);\r\n    ObjectSchema schema = schemaGen.generateSchema(A.class).asObjectSchema();\r\n    schema.rejectAdditionalProperties();\r\n    mapper.writerWithDefaultPrettyPrinter().writeValueAsString(schema);\r\n\r\nHow can I generate the schema where `&quot;additionalProperties&quot; : false` will be applied on all classes? \r\n\r\nExample of `schema`\r\n\r\n```{\r\n  &quot;type&quot; : &quot;object&quot;,\r\n  &quot;id&quot; : &quot;urn:jsonschema:com.xxx.xxx:A&quot;,\r\n  &quot;additionalProperties&quot; : false,\r\n  &quot;properties&quot; : {\r\n    &quot;s&quot; : {\r\n      &quot;type&quot; : &quot;string&quot;\r\n    },\r\n    &quot;b&quot; : {\r\n      &quot;type&quot; : &quot;object&quot;,\r\n      &quot;id&quot; : &quot;urn:jsonschema:com.xxx.xxx:B&quot;,\r\n      &quot;properties&quot; : {\r\n        &quot;bd&quot; : {\r\n          &quot;type&quot; : &quot;number&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nNote: I don&#39;t want to generate schemes part by part. \r\n\r\nFor info: \r\nI have opened issue for this scenario if someone interested you can support fix of this issue. [Generate json schema which should rejects all additional content][1]\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-module-jsonSchema/issues/129","title":"Jackson: How can I generate json schema which rejects all additional content","body":"<p>I want to generate JSON schema where <code>\"additionalProperties\" : false</code> will be applied for all classes which I have.</p>\n\n<p>Suppose I have following classes:</p>\n\n<pre><code>class A{\n    private String s;\n    private B b;\n\n    public String getS() {\n        return s;\n    }\n\n    public B getB() {\n        return b;\n    }\n}\n\nclass B{\n    private BigDecimal bd;\n\n    public BigDecimal getBd() {\n        return bd;\n    }\n}\n</code></pre>\n\n<p>When I am generating schema as following like below code the schema property <code>\"additionalProperties\" : false</code> was applying only for the class <code>A</code>.</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nJsonSchemaGenerator schemaGen = new JsonSchemaGenerator(mapper);\nObjectSchema schema = schemaGen.generateSchema(A.class).asObjectSchema();\nschema.rejectAdditionalProperties();\nmapper.writerWithDefaultPrettyPrinter().writeValueAsString(schema);\n</code></pre>\n\n<p>How can I generate the schema where <code>\"additionalProperties\" : false</code> will be applied on all classes? </p>\n\n<p>Example of <code>schema</code></p>\n\n<p><code>{\n  \"type\" : \"object\",\n  \"id\" : \"urn:jsonschema:com.xxx.xxx:A\",\n  \"additionalProperties\" : false,\n  \"properties\" : {\n    \"s\" : {\n      \"type\" : \"string\"\n    },\n    \"b\" : {\n      \"type\" : \"object\",\n      \"id\" : \"urn:jsonschema:com.xxx.xxx:B\",\n      \"properties\" : {\n        \"bd\" : {\n          \"type\" : \"number\"\n        }\n      }\n    }\n  }\n}\n</code></p>\n\n<p>Note: I don't want to generate schemes part by part. </p>\n\n<p>For info: \nI have opened issue for this scenario if someone interested you can support fix of this issue. <a href=\"https://github.com/FasterXML/jackson-module-jsonSchema/issues/129\" rel=\"noreferrer\">Generate json schema which should rejects all additional content</a></p>\n"},{"tags":["java","spring","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":10615592,"reputation":827,"user_id":7818051,"display_name":"Minh Dao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657270687,"creation_date":1657270687,"answer_id":72909024,"question_id":72885052,"body_markdown":"&gt; I can&#39;t use the constructor because the constructors executes before the beforeStep event and I don&#39;t have these var at this moment.\r\n\r\nActually, you can delay your bean constructor by using `@JobScope` and `@StepScope`. Additionally, you can use `@Value` and Spring `SpEL` to inject your `jobParameters`.\r\n\r\nIn your case, you might want to rewrite your code, for e.g:\r\n\r\n```java\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class YourJobConfig {\r\n  private final StepBuilderFactory stepBuilder;\r\n\r\n  @Bean(&quot;yourStep&quot;)\r\n  public Step doWhatever() {\r\n    return stepBuilder\r\n      .get(&quot;yourStepName&quot;)\r\n      .&lt;Path, Path&gt;chunk(50) // &lt;-- replace your chunk size here\r\n      .reader(yourItemReader(null, 0)) // &lt;-- place your default values here\r\n      .process(yourItemProcessor())\r\n      .writer(yourItemWriter())\r\n  }\r\n\r\n  @Bean\r\n  public ItemReader&lt;Path&gt; yourItemReader(\r\n    @Value(&quot;#{jobParameters[&#39;attribute1&#39;]}&quot;) String attribute1,\r\n    @Value(&quot;#{jobParameters[&#39;attribute2&#39;]}&quot;) long attribute2    \r\n  ) {\r\n    return new ListItemReader(attribute1, attribute2) // &lt;-- this is your ListItemReader\r\n  }\r\n\r\n  @Bean\r\n  public ItemProcessor&lt;Path, Path&gt; yourItemProcessor(){\r\n    return new YourItemProcessor&lt;&gt;();\r\n  }\r\n\r\n  @Bean\r\n  public ItemWriter&lt;Path&gt; yourItemWriter(){\r\n    return new YourItemWriter&lt;&gt;();\r\n  }\r\n}\r\n```\r\n\r\nBefore starting your job, you can add some `jobParameters`:\r\n\r\n```java\r\npublic JobParameters getJobParams() {\r\n  JobParametersBuilder params = new JobParametersBuilder();\r\n\r\n  params.addString(&quot;attribute1&quot;, &quot;something_cool&quot;);\r\n  params.addLong(&quot;attribute2&quot;, 123456);\r\n\r\n  return params.toJobParameters();\r\n}\r\n```\r\n\r\nand add it to your job:\r\n\r\n```java\r\nJob yourJob = getYourJob();\r\njobParameters jobParams = getJobParams();\r\nJobExecution execution = jobLauncher.run(job, jobParams);\r\n```\r\n\r\n### References\r\n\r\n- [The Delegate Pattern and Registering with the Step](https://docs.spring.io/spring-batch/docs/current/reference/html/readersAndWriters.html#delegatePatternAndRegistering)\r\n- [How to get access to job parameters from ItemReader](https://stackoverflow.com/a/7218848/7818051)","title":"Custom ListItemReader Spring Batch","body":"<blockquote>\n<p>I can't use the constructor because the constructors executes before the beforeStep event and I don't have these var at this moment.</p>\n</blockquote>\n<p>Actually, you can delay your bean constructor by using <code>@JobScope</code> and <code>@StepScope</code>. Additionally, you can use <code>@Value</code> and Spring <code>SpEL</code> to inject your <code>jobParameters</code>.</p>\n<p>In your case, you might want to rewrite your code, for e.g:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@RequiredArgsConstructor\npublic class YourJobConfig {\n  private final StepBuilderFactory stepBuilder;\n\n  @Bean(&quot;yourStep&quot;)\n  public Step doWhatever() {\n    return stepBuilder\n      .get(&quot;yourStepName&quot;)\n      .&lt;Path, Path&gt;chunk(50) // &lt;-- replace your chunk size here\n      .reader(yourItemReader(null, 0)) // &lt;-- place your default values here\n      .process(yourItemProcessor())\n      .writer(yourItemWriter())\n  }\n\n  @Bean\n  public ItemReader&lt;Path&gt; yourItemReader(\n    @Value(&quot;#{jobParameters['attribute1']}&quot;) String attribute1,\n    @Value(&quot;#{jobParameters['attribute2']}&quot;) long attribute2    \n  ) {\n    return new ListItemReader(attribute1, attribute2) // &lt;-- this is your ListItemReader\n  }\n\n  @Bean\n  public ItemProcessor&lt;Path, Path&gt; yourItemProcessor(){\n    return new YourItemProcessor&lt;&gt;();\n  }\n\n  @Bean\n  public ItemWriter&lt;Path&gt; yourItemWriter(){\n    return new YourItemWriter&lt;&gt;();\n  }\n}\n</code></pre>\n<p>Before starting your job, you can add some <code>jobParameters</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public JobParameters getJobParams() {\n  JobParametersBuilder params = new JobParametersBuilder();\n\n  params.addString(&quot;attribute1&quot;, &quot;something_cool&quot;);\n  params.addLong(&quot;attribute2&quot;, 123456);\n\n  return params.toJobParameters();\n}\n</code></pre>\n<p>and add it to your job:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Job yourJob = getYourJob();\njobParameters jobParams = getJobParams();\nJobExecution execution = jobLauncher.run(job, jobParams);\n</code></pre>\n<h3>References</h3>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/readersAndWriters.html#delegatePatternAndRegistering\" rel=\"nofollow noreferrer\">The Delegate Pattern and Registering with the Step</a></li>\n<li><a href=\"https://stackoverflow.com/a/7218848/7818051\">How to get access to job parameters from ItemReader</a></li>\n</ul>\n"}],"owner":{"account_id":15279388,"reputation":107,"user_id":11024232,"display_name":"JuniorGuy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":672,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657270687,"creation_date":1657116619,"question_id":72885052,"body_markdown":"I coded a custom implementation of **ListItemReader**, triying to follow the example in the spring batch&#39;s github. Anyway, in my case, I need read a variable from the **jobContext**, this variable is a path where I have to read the files that contains. I can&#39;t use the constructor because the constructors executes before the **beforeStep** event and I don&#39;t have these var at this moment.\r\n\r\nAnyway this will work first execution, but if the list never goes again to null I can&#39;t execute again the `initialize` method.\r\n\r\nIf I tried add an else in the `!list.isEmpty()` condition that set my list to null. I enter in an infinite loop. \r\n\r\nThere are other methods to solve this? Maybe I am overcomplicating this.\r\n\r\n\r\n\r\n    public class ListItemReader&lt;Path&gt; implements ItemReader&lt;Path&gt;, StepExecutionListener {\r\n    \r\n    \tprivate List&lt;Path&gt; list;\r\n        private org.springframework.batch.core.JobExecution jobExecution;\r\n\t\r\n    \tpublic ListItemReader() {\r\n    \t\tthis.list = new ArrayList&lt;&gt;();\r\n    \t}\r\n\r\n        public void initialize(){\r\n\r\n            //Here I made an listdirectories of a path and add all the files to the list\r\n            String pathString = jobExecution.getExecutionContext().getString(Constants.CONTEXT_PATH);\r\n\t\t    Path path = Paths.get(pathString );\r\n            ...\r\n            items.add(Paths.get(..path..));\r\n        }\r\n    \r\n    \t@Nullable\r\n    \t@Override\r\n    \tpublic T read() {\r\n            if(list == null) initialize();\r\n\r\n    \t\tif (!list.isEmpty()) {\r\n    \t\t\treturn list.remove(0);\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n\r\n    \t@Override\r\n\t    public ExitStatus afterStep(StepExecution se) {\r\n\t\t    return ExitStatus.COMPLETED;\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public void beforeStep(StepExecution se) {\r\n\t\t    jobExecution = se.getJobExecution();\r\n\t    }\r\n    }","title":"Custom ListItemReader Spring Batch","body":"<p>I coded a custom implementation of <strong>ListItemReader</strong>, triying to follow the example in the spring batch's github. Anyway, in my case, I need read a variable from the <strong>jobContext</strong>, this variable is a path where I have to read the files that contains. I can't use the constructor because the constructors executes before the <strong>beforeStep</strong> event and I don't have these var at this moment.</p>\n<p>Anyway this will work first execution, but if the list never goes again to null I can't execute again the <code>initialize</code> method.</p>\n<p>If I tried add an else in the <code>!list.isEmpty()</code> condition that set my list to null. I enter in an infinite loop.</p>\n<p>There are other methods to solve this? Maybe I am overcomplicating this.</p>\n<pre><code>public class ListItemReader&lt;Path&gt; implements ItemReader&lt;Path&gt;, StepExecutionListener {\n\n    private List&lt;Path&gt; list;\n    private org.springframework.batch.core.JobExecution jobExecution;\n\n    public ListItemReader() {\n        this.list = new ArrayList&lt;&gt;();\n    }\n\n    public void initialize(){\n\n        //Here I made an listdirectories of a path and add all the files to the list\n        String pathString = jobExecution.getExecutionContext().getString(Constants.CONTEXT_PATH);\n        Path path = Paths.get(pathString );\n        ...\n        items.add(Paths.get(..path..));\n    }\n\n    @Nullable\n    @Override\n    public T read() {\n        if(list == null) initialize();\n\n        if (!list.isEmpty()) {\n            return list.remove(0);\n        }\n        return null;\n    }\n\n    @Override\n    public ExitStatus afterStep(StepExecution se) {\n        return ExitStatus.COMPLETED;\n    }\n\n    @Override\n    public void beforeStep(StepExecution se) {\n        jobExecution = se.getJobExecution();\n    }\n}\n</code></pre>\n"},{"tags":["java","kubernetes","load-testing","kubernetes-pod","hpa"],"answers":[{"tags":[],"owner":{"account_id":18449821,"reputation":99,"user_id":13440225,"display_name":"pluk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657270593,"creation_date":1657270593,"answer_id":72909005,"question_id":72907224,"body_markdown":"Make sure that you have the correct readiness probe for your pod. Seems that the new pod getting status ready before it&#39;s ready for serving traffic","title":"R esponse time of application increases in kubernetes when new pod scales up","body":"<p>Make sure that you have the correct readiness probe for your pod. Seems that the new pod getting status ready before it's ready for serving traffic</p>\n"}],"owner":{"account_id":11714955,"reputation":554,"user_id":8575770,"display_name":"Mr Kashyap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":445,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1657270593,"creation_date":1657260017,"question_id":72907224,"body_markdown":"I came across this issue during load test where we are seeing considerable increase in response time of the application when new pod scale up by Kubernetes HPA. The HPA we have set is for 75% CPU utlization, minimum 3 pods are already running. So for example:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kRYiE.jpg\r\n\r\nAs you can see the response time increase drastically, the peaks in this image are the time when new pods scale up. Even if the java application takes some time to start and warming up the JVM, the request serve almost reaches to zero for this time.\r\n\r\nAny clue of what could be causing the issue?","title":"R esponse time of application increases in kubernetes when new pod scales up","body":"<p>I came across this issue during load test where we are seeing considerable increase in response time of the application when new pod scale up by Kubernetes HPA. The HPA we have set is for 75% CPU utlization, minimum 3 pods are already running. So for example:</p>\n<p><a href=\"https://i.stack.imgur.com/kRYiE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kRYiE.jpg\" alt=\"enter image description here\" /></a></p>\n<p>As you can see the response time increase drastically, the peaks in this image are the time when new pods scale up. Even if the java application takes some time to start and warming up the JVM, the request serve almost reaches to zero for this time.</p>\n<p>Any clue of what could be causing the issue?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1657269838,"post_id":72908738,"comment_id":128775570,"body_markdown":"You are better off using a `DateTimeFormatter` which is able to do this job, but less brittle. For instance, you could parse into a `LocalDate` with the pattern `d MMMM uuuu` and then format using the pattern `dd-MM-uuuu`.","body":"You are better off using a <code>DateTimeFormatter</code> which is able to do this job, but less brittle. For instance, you could parse into a <code>LocalDate</code> with the pattern <code>d MMMM uuuu</code> and then format using the pattern <code>dd-MM-uuuu</code>."},{"owner":{"account_id":23407456,"reputation":263,"user_id":17469648,"display_name":"Rishi Ff"},"score":0,"creation_date":1657270089,"post_id":72908738,"comment_id":128775659,"body_markdown":"Yes. its less brittle. By using {DateTimeFormatter} not getting correct output.","body":"Yes. its less brittle. By using {DateTimeFormatter} not getting correct output."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1657270358,"post_id":72908738,"comment_id":128775758,"body_markdown":"Can you show us your use of a `DateTimeFormatter` which produces incorrect output?","body":"Can you show us your use of a <code>DateTimeFormatter</code> which produces incorrect output?"}],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657270362,"creation_date":1657270362,"answer_id":72908960,"question_id":72908738,"body_markdown":"If you can use `java.time`, you can have the conversion without manipulating `String`s. \r\n\r\nYou will be needing\r\n\r\n  - two `DateTimeFormatter`s\r\n    - one that handles the input `String` and\r\n    - a second one that handles the format of the desired output/result\r\n  - a `LocalDate` to represent the values of the date to be converted\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\t// spoken date\r\n\tString userWords = &quot;8 July 2022&quot;;\r\n\t// prepare two DateTimeFormatters, one for parsing the user&#39;s words and\r\n\tDateTimeFormatter dtfParse = DateTimeFormatter.ofPattern(\r\n                                                    &quot;d MMMM uuuu&quot;,\r\n                                                    Locale.ENGLISH);\r\n\t// a second one to be used in order to format the desired result\r\n\tDateTimeFormatter dtfFormat = DateTimeFormatter.ofPattern(\r\n                                                    &quot;dd-MM-uuuu&quot;,\r\n                                                    Locale.ENGLISH);\r\n\t// parse the input with the first formatter\r\n\tLocalDate localDate = LocalDate.parse(userWords, dtfParse);\r\n\t// and print it formatted by the second one\r\n\tSystem.out.println(localDate.format(dtfFormat));\r\n}\r\n```\r\n\r\nOutput of this code:\r\n```none\r\n08-07-2022\r\n```","title":"How to take date through google voice input in dd/mm/yyyy format?","body":"<p>If you can use <code>java.time</code>, you can have the conversion without manipulating <code>String</code>s.</p>\n<p>You will be needing</p>\n<ul>\n<li>two <code>DateTimeFormatter</code>s\n<ul>\n<li>one that handles the input <code>String</code> and</li>\n<li>a second one that handles the format of the desired output/result</li>\n</ul>\n</li>\n<li>a <code>LocalDate</code> to represent the values of the date to be converted</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    // spoken date\n    String userWords = &quot;8 July 2022&quot;;\n    // prepare two DateTimeFormatters, one for parsing the user's words and\n    DateTimeFormatter dtfParse = DateTimeFormatter.ofPattern(\n                                                    &quot;d MMMM uuuu&quot;,\n                                                    Locale.ENGLISH);\n    // a second one to be used in order to format the desired result\n    DateTimeFormatter dtfFormat = DateTimeFormatter.ofPattern(\n                                                    &quot;dd-MM-uuuu&quot;,\n                                                    Locale.ENGLISH);\n    // parse the input with the first formatter\n    LocalDate localDate = LocalDate.parse(userWords, dtfParse);\n    // and print it formatted by the second one\n    System.out.println(localDate.format(dtfFormat));\n}\n</code></pre>\n<p>Output of this code:</p>\n<pre class=\"lang-none prettyprint-override\"><code>08-07-2022\n</code></pre>\n"}],"owner":{"account_id":23407456,"reputation":263,"user_id":17469648,"display_name":"Rishi Ff"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72908960,"answer_count":1,"score":1,"last_activity_date":1657270549,"creation_date":1657269160,"question_id":72908738,"body_markdown":"I want to take the date as a text from the user through google voice input.\r\nSo when user says:\r\n\r\n&gt;8 July 2022 \r\n\r\nThen it will splits that string in `dd-mm-yyyy` format. How to get it?\r\nShould I use any other method to get the date through speech input?\r\n\r\n```java\r\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n    super.onActivityResult(requestCode, resultCode, data);\r\n    if (requestCode == 100) {\r\n        if (resultCode == RESULT_OK &amp;&amp; null != data) {\r\n            ArrayList&lt;String&gt; result = data.getStringArrayListExtra(RecognizerIntent.EXTRA_RESULTS);\r\n\r\n            String date = result.get(0);\r\n\r\n            date =   date.replace(&quot;january&quot;, &quot;1&quot;);\r\n            date =   date.replace(&quot;february&quot;, &quot;2&quot;);\r\n            date =   date.replace(&quot;march&quot;, &quot;3&quot;);\r\n            date =   date.replace(&quot;april&quot;, &quot;4&quot;);\r\n            date =   date.replace(&quot;may&quot;, &quot;5&quot;);\r\n            date =   date.replace(&quot;june&quot;, &quot;6&quot;);\r\n            date =   date.replace(&quot;july&quot;, &quot;7&quot;);\r\n            date =   date.replace(&quot;august&quot;, &quot;8&quot;);\r\n            date =   date.replace(&quot;september&quot;, &quot;9&quot;);\r\n            date =   date.replace(&quot;october&quot;, &quot;10&quot;);\r\n            date =   date.replace(&quot;november&quot;, &quot;11&quot;);\r\n            date =   date.replace(&quot;december&quot;, &quot;12&quot;);\r\n            String day = date.substring(1, 2);\r\n            String month = date.substring(2, 7);\r\n            String year = date.substring(date.length() - 4);\r\n            String year1 = year.replaceAll(&quot;[^A-Za-z]&quot;, &quot;&quot;);\r\n\r\n            mDatebtn.setText(day + &quot;-&quot; + month + &quot;-&quot; + year1);\r\n        }\r\n    }\r\n}\r\n```","title":"How to take date through google voice input in dd/mm/yyyy format?","body":"<p>I want to take the date as a text from the user through google voice input.\nSo when user says:</p>\n<blockquote>\n<p>8 July 2022</p>\n</blockquote>\n<p>Then it will splits that string in <code>dd-mm-yyyy</code> format. How to get it?\nShould I use any other method to get the date through speech input?</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (requestCode == 100) {\n        if (resultCode == RESULT_OK &amp;&amp; null != data) {\n            ArrayList&lt;String&gt; result = data.getStringArrayListExtra(RecognizerIntent.EXTRA_RESULTS);\n\n            String date = result.get(0);\n\n            date =   date.replace(&quot;january&quot;, &quot;1&quot;);\n            date =   date.replace(&quot;february&quot;, &quot;2&quot;);\n            date =   date.replace(&quot;march&quot;, &quot;3&quot;);\n            date =   date.replace(&quot;april&quot;, &quot;4&quot;);\n            date =   date.replace(&quot;may&quot;, &quot;5&quot;);\n            date =   date.replace(&quot;june&quot;, &quot;6&quot;);\n            date =   date.replace(&quot;july&quot;, &quot;7&quot;);\n            date =   date.replace(&quot;august&quot;, &quot;8&quot;);\n            date =   date.replace(&quot;september&quot;, &quot;9&quot;);\n            date =   date.replace(&quot;october&quot;, &quot;10&quot;);\n            date =   date.replace(&quot;november&quot;, &quot;11&quot;);\n            date =   date.replace(&quot;december&quot;, &quot;12&quot;);\n            String day = date.substring(1, 2);\n            String month = date.substring(2, 7);\n            String year = date.substring(date.length() - 4);\n            String year1 = year.replaceAll(&quot;[^A-Za-z]&quot;, &quot;&quot;);\n\n            mDatebtn.setText(day + &quot;-&quot; + month + &quot;-&quot; + year1);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","reactive-programming","spring-webflux","project-reactor","spring5"],"comments":[{"owner":{"account_id":9685706,"reputation":741,"user_id":7185610,"display_name":"Yauhen Balykin"},"score":0,"creation_date":1583492120,"post_id":60558190,"comment_id":107144003,"body_markdown":"What do you use to call your endpoint?","body":"What do you use to call your endpoint?"},{"owner":{"account_id":6908286,"reputation":225,"user_id":5305250,"accept_rate":100,"display_name":"full_stuck_developer"},"score":0,"creation_date":1583492479,"post_id":60558190,"comment_id":107144217,"body_markdown":"@YauhenBalykin I am using chrome browser and curl also to call this endpoint. But they are both behaving same in this case.","body":"@YauhenBalykin I am using chrome browser and curl also to call this endpoint. But they are both behaving same in this case."},{"owner":{"account_id":9685706,"reputation":741,"user_id":7185610,"display_name":"Yauhen Balykin"},"score":0,"creation_date":1583492696,"post_id":60558190,"comment_id":107144338,"body_markdown":"As I remember SSE doesn’t work for curl, but for Chrome it works ok","body":"As I remember SSE doesn’t work for curl, but for Chrome it works ok"},{"owner":{"account_id":9685706,"reputation":741,"user_id":7185610,"display_name":"Yauhen Balykin"},"score":0,"creation_date":1583503810,"post_id":60558190,"comment_id":107150013,"body_markdown":"I checked your code in Chrome on my pc, it works fine.","body":"I checked your code in Chrome on my pc, it works fine."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1583530715,"post_id":60558190,"comment_id":107161791,"body_markdown":"if you want to do requests using curl you need to include the `-N` parameter. So `curl -N http://localhost:8080/stream1` the `-N` parameter disables buffering so as curl receives data it will print it, and not buffer until the end of the request.","body":"if you want to do requests using curl you need to include the <code>-N</code> parameter. So <code>curl -N http:&#47;&#47;localhost:8080&#47;stream1</code> the <code>-N</code> parameter disables buffering so as curl receives data it will print it, and not buffer until the end of the request."},{"owner":{"account_id":1126254,"reputation":27393,"user_id":1113486,"display_name":"Simon Basl&#233;"},"score":0,"creation_date":1583742150,"post_id":60558190,"comment_id":107205185,"body_markdown":"`Thread.sleep` is almost never a good idea in Reactive Programming. Here you are creating a `Flux` that gives the illusion that things are asynchronous, when in reality they are very much synchronous and blocking thanks to the `sleep`. Since you&#39;re using WebFlux, you&#39;re potentially hogging up resources that will prevent other requests to be processed by the system.","body":"<code>Thread.sleep</code> is almost never a good idea in Reactive Programming. Here you are creating a <code>Flux</code> that gives the illusion that things are asynchronous, when in reality they are very much synchronous and blocking thanks to the <code>sleep</code>. Since you&#39;re using WebFlux, you&#39;re potentially hogging up resources that will prevent other requests to be processed by the system."},{"owner":{"account_id":6908286,"reputation":225,"user_id":5305250,"accept_rate":100,"display_name":"full_stuck_developer"},"score":0,"creation_date":1583748012,"post_id":60558190,"comment_id":107207652,"body_markdown":"@SimonBasl&#233; Thanks for pointing out. You are right. But to ask the problem and visualize the problem, I created this. This code snippet is just demo  to what the actual code might do in the meantime. In actual cases I am either using reactive WebClient for API call or somewhere a simple processing thread.","body":"@SimonBasl&#233; Thanks for pointing out. You are right. But to ask the problem and visualize the problem, I created this. This code snippet is just demo  to what the actual code might do in the meantime. In actual cases I am either using reactive WebClient for API call or somewhere a simple processing thread."},{"owner":{"account_id":5938469,"reputation":889,"user_id":4670625,"accept_rate":67,"display_name":"David Marciel"},"score":0,"creation_date":1655308766,"post_id":60558190,"comment_id":128303626,"body_markdown":"Did you managed to make it work?","body":"Did you managed to make it work?"}],"answers":[{"tags":[],"owner":{"account_id":15459711,"reputation":1631,"user_id":11152683,"display_name":"Lubo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657270213,"creation_date":1657270213,"answer_id":72908932,"question_id":60558190,"body_markdown":"you are using less ideal method for your task. You can use &#39;Flux.generate(...)&#39;. It is in contrast to &#39;Flux.create(...)&#39; used to generate single item, and it is used when subscriber requests something. So no problem with backpressure.\r\n\r\nSample:\r\n\r\n        @GetMapping(value = &quot;/feapi/automation/approach1&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\n        public Flux&lt;String&gt; streamData() {\r\n            final AtomicInteger counter = new AtomicInteger();\r\n            return Flux.generate(generator -&gt; {\r\n                try {\r\n                    TimeUnit.SECONDS.sleep(new Random().nextInt(1, 10));\r\n                    generator.next(&quot;Next step (&quot; + counter.incrementAndGet() + &quot;) done. Going further.&quot;);\r\n                    // NOTE only SINGLE item can be emmited in one generator call. You can also call complete or error.\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n        }","title":"Flux of strings emitted time to time","body":"<p>you are using less ideal method for your task. You can use 'Flux.generate(...)'. It is in contrast to 'Flux.create(...)' used to generate single item, and it is used when subscriber requests something. So no problem with backpressure.</p>\n<p>Sample:</p>\n<pre><code>    @GetMapping(value = &quot;/feapi/automation/approach1&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\n    public Flux&lt;String&gt; streamData() {\n        final AtomicInteger counter = new AtomicInteger();\n        return Flux.generate(generator -&gt; {\n            try {\n                TimeUnit.SECONDS.sleep(new Random().nextInt(1, 10));\n                generator.next(&quot;Next step (&quot; + counter.incrementAndGet() + &quot;) done. Going further.&quot;);\n                // NOTE only SINGLE item can be emmited in one generator call. You can also call complete or error.\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        });\n    }\n</code></pre>\n"}],"owner":{"account_id":6908286,"reputation":225,"user_id":5305250,"accept_rate":100,"display_name":"full_stuck_developer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":613,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1657270213,"creation_date":1583473192,"question_id":60558190,"body_markdown":"My problem: I want to create a stream of string that will be be sent from controller from time to time.\r\n\r\n\t   \r\n\r\n     Processing started!\r\n     Step 1 completed.                     (This might be sent after 5 seconds or 10 minutes.)\r\n     Process completed.                    (This might be sent after 15 minutes.)\r\n\r\nHere is code snippet in controller:\r\n\r\n\t\r\n\r\n    @GetMapping(value = &quot;/stream1&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\n    \tpublic Flux&lt;String&gt; streamData() {\r\n    \t\treturn Flux.create(emitter -&gt; {\r\n    \t\t\temitter.next(&quot;Processing started!&quot;);\r\n    \t\t\ttry {\r\n    \t\t\t\tTimeUnit.SECONDS.sleep(5);\r\n    \t\t\t\temitter.next(&quot;Step 1 completed.&quot;);\r\n    \t\t\t\tTimeUnit.SECONDS.sleep(5);\r\n    \t\t\t\temitter.next(&quot;Process completed.&quot;);\r\n    \t\t\t\temitter.complete();\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}, FluxSink.OverflowStrategy.LATEST);\r\n    \t\t//create.publish().connect();\r\n    \t\t//return create;\r\n    \t}\r\n\r\nBut it emmits data only when it is completed all processing. Means it emmits data after 10 seconds and all stream at once.\r\n\r\nHow to achieve some stream where it start sending data as soon as single data is ready?\r\n\r\n\r\n","title":"Flux of strings emitted time to time","body":"<p>My problem: I want to create a stream of string that will be be sent from controller from time to time.</p>\n\n<pre><code> Processing started!\n Step 1 completed.                     (This might be sent after 5 seconds or 10 minutes.)\n Process completed.                    (This might be sent after 15 minutes.)\n</code></pre>\n\n<p>Here is code snippet in controller:</p>\n\n<pre><code>@GetMapping(value = \"/stream1\", produces = MediaType.TEXT_EVENT_STREAM_VALUE)\n    public Flux&lt;String&gt; streamData() {\n        return Flux.create(emitter -&gt; {\n            emitter.next(\"Processing started!\");\n            try {\n                TimeUnit.SECONDS.sleep(5);\n                emitter.next(\"Step 1 completed.\");\n                TimeUnit.SECONDS.sleep(5);\n                emitter.next(\"Process completed.\");\n                emitter.complete();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }, FluxSink.OverflowStrategy.LATEST);\n        //create.publish().connect();\n        //return create;\n    }\n</code></pre>\n\n<p>But it emmits data only when it is completed all processing. Means it emmits data after 10 seconds and all stream at once.</p>\n\n<p>How to achieve some stream where it start sending data as soon as single data is ready?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":25757515,"reputation":11,"user_id":19508951,"display_name":"lhuynh"},"score":0,"creation_date":1658996768,"post_id":72908895,"comment_id":129192022,"body_markdown":"The reason is that the leftmost bit must be 0 for positive number and 1 for negative number.","body":"The reason is that the leftmost bit must be 0 for positive number and 1 for negative number."},{"owner":{"account_id":25757515,"reputation":11,"user_id":19508951,"display_name":"lhuynh"},"score":0,"creation_date":1658997383,"post_id":72908895,"comment_id":129192265,"body_markdown":"Suppose that we use 8 bits words to encode numbers.\n\n-125 = 10000011, and becomes 00000011 = 3 if we clear the bit 7. To preserve the sign, we have to add a FF to the left : 11111111 00000011.\nThe formula for clearBit here is correct (n+1)/8 + 1 =  (7+1)/8 + 1 = 2 words.\n\nLets take now a positive number 131 = 00000000 10000011. It becomes negative if we set the bit 15 to 1 (10000000 10000011), so we have to add a 00 word to the left to preserve the sign: 00000000 10000000 10000011.\nThe formula for setBit n/8 + 2 = 15/8 + 2 = 3 is correct.","body":"Suppose that we use 8 bits words to encode numbers.  -125 = 10000011, and becomes 00000011 = 3 if we clear the bit 7. To preserve the sign, we have to add a FF to the left : 11111111 00000011. The formula for clearBit here is correct (n+1)/8 + 1 =  (7+1)/8 + 1 = 2 words.  Lets take now a positive number 131 = 00000000 10000011. It becomes negative if we set the bit 15 to 1 (10000000 10000011), so we have to add a 00 word to the left to preserve the sign: 00000000 10000000 10000011. The formula for setBit n/8 + 2 = 15/8 + 2 = 3 is correct."}],"owner":{"account_id":25757515,"reputation":11,"user_id":19508951,"display_name":"lhuynh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1657270058,"creation_date":1657270058,"question_id":72908895,"body_markdown":"Please take a look at the BigInteger.setBit source code :\r\n```\r\npublic BigInteger setBit(int n) {\r\n...\r\n    int intNum = n &gt;&gt;&gt; 5;\r\n    int[] result = new int[Math.max(intLength(), intNum+2)];\r\n```\r\nthen at BigInteger.clearBit source code :\r\n```\r\npublic BigInteger clearBit(int n) {\r\n...\r\n    int intNum = n &gt;&gt;&gt; 5;\r\n    int[] result = new int[Math.max(intLength(), ((n + 1) &gt;&gt;&gt; 5) + 1)];\r\n```\r\n\r\nWhy the result length is n &gt;&gt;&gt; 5 + 2 for setBit, but ((n + 1) &gt;&gt;&gt; 5) + 1 for clearBit ?\r\n","title":"BigInteger.setBit and BigInteger.clearBit","body":"<p>Please take a look at the BigInteger.setBit source code :</p>\n<pre><code>public BigInteger setBit(int n) {\n...\n    int intNum = n &gt;&gt;&gt; 5;\n    int[] result = new int[Math.max(intLength(), intNum+2)];\n</code></pre>\n<p>then at BigInteger.clearBit source code :</p>\n<pre><code>public BigInteger clearBit(int n) {\n...\n    int intNum = n &gt;&gt;&gt; 5;\n    int[] result = new int[Math.max(intLength(), ((n + 1) &gt;&gt;&gt; 5) + 1)];\n</code></pre>\n<p>Why the result length is n &gt;&gt;&gt; 5 + 2 for setBit, but ((n + 1) &gt;&gt;&gt; 5) + 1 for clearBit ?</p>\n"},{"tags":["java","spring-boot","jpa","http-delete"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1657183768,"post_id":72894763,"comment_id":128751514,"body_markdown":"I would add logging to the controller, if the `roomNr` really gets populated as you want and also if the right method gets called at all.","body":"I would add logging to the controller, if the <code>roomNr</code> really gets populated as you want and also if the right method gets called at all."},{"owner":{"account_id":25691720,"reputation":9,"user_id":19453035,"display_name":"baphomet"},"score":0,"creation_date":1657196804,"post_id":72894763,"comment_id":128756496,"body_markdown":"can you give me a link or smth so i know what logging is? i find in google many different things. is it the same as log incoming request controller or this one? https://stackoverflow.com/questions/1992216/logging-from-springmvc-controller.\ni probably have to say that the entity also has a jointable with the bookings. maybe the foreign key is the problem, which is autogenarted there.","body":"can you give me a link or smth so i know what logging is? i find in google many different things. is it the same as log incoming request controller or this one? <a href=\"https://stackoverflow.com/questions/1992216/logging-from-springmvc-controller\" title=\"logging from springmvc controller\">stackoverflow.com/questions/1992216/&hellip;</a>. i probably have to say that the entity also has a jointable with the bookings. maybe the foreign key is the problem, which is autogenarted there."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1657197567,"post_id":72894763,"comment_id":128756801,"body_markdown":"To help you better on logging, I would need to know if you use plain Spring or a complete setup with Spring Boot? And as for the joined table: did you configure that the deletions are propagated? Or what is the intended behaviour for the table with the foreign keys?","body":"To help you better on logging, I would need to know if you use plain Spring or a complete setup with Spring Boot? And as for the joined table: did you configure that the deletions are propagated? Or what is the intended behaviour for the table with the foreign keys?"},{"owner":{"account_id":25691720,"reputation":9,"user_id":19453035,"display_name":"baphomet"},"score":0,"creation_date":1657199038,"post_id":72894763,"comment_id":128757461,"body_markdown":"i use in the pom: spring boot starter: data-jpa, web,test,validation; lombok;h2 and plugin is maven-plugin. manytomany(cascade = cascadeType.ALL) if that is what you meant with propagated. the purpose is that one booking can have many rooms and also one room can have many bookings, just at different times.","body":"i use in the pom: spring boot starter: data-jpa, web,test,validation; lombok;h2 and plugin is maven-plugin. manytomany(cascade = cascadeType.ALL) if that is what you meant with propagated. the purpose is that one booking can have many rooms and also one room can have many bookings, just at different times."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1657258126,"post_id":72894763,"comment_id":128772590,"body_markdown":"You can add a logger to the controller class with `private final Logger log = LoggerFactory.getLogger(MyController.class);` and then use it in the method `deleteOneZimmer` with `log.info(&quot;deleting room {}&quot;, roomNr);`. Usually you would prefer `log.debug` for this so production code will not output that, but then I would have to instruct you how to enable debug logging - too much for a single comment here ;)","body":"You can add a logger to the controller class with <code>private final Logger log = LoggerFactory.getLogger(MyController.class);</code> and then use it in the method <code>deleteOneZimmer</code> with <code>log.info(&quot;deleting room {}&quot;, roomNr);</code>. Usually you would prefer <code>log.debug</code> for this so production code will not output that, but then I would have to instruct you how to enable debug logging - too much for a single comment here ;)"},{"owner":{"account_id":25691720,"reputation":9,"user_id":19453035,"display_name":"baphomet"},"score":0,"creation_date":1657269221,"post_id":72894763,"comment_id":128775377,"body_markdown":"thanks, i found the problem. i simple forgot the @Pathvariable in the controller. but never the less, i am sure i will need a logger in the future and will try out your method anyway. and then this will help me a lot. so thank you again.","body":"thanks, i found the problem. i simple forgot the @Pathvariable in the controller. but never the less, i am sure i will need a logger in the future and will try out your method anyway. and then this will help me a lot. so thank you again."},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1657269327,"post_id":72894763,"comment_id":128775413,"body_markdown":"if you fixed it, post the answer and mark it as valid, it will help future users (and you&#39;ll get some points too)","body":"if you fixed it, post the answer and mark it as valid, it will help future users (and you&#39;ll get some points too)"},{"owner":{"account_id":25691720,"reputation":9,"user_id":19453035,"display_name":"baphomet"},"score":1,"creation_date":1657269517,"post_id":72894763,"comment_id":128775474,"body_markdown":"Done, will validate it tomorrow when i can. thanks.","body":"Done, will validate it tomorrow when i can. thanks."}],"answers":[{"tags":[],"owner":{"account_id":25691720,"reputation":9,"user_id":19453035,"display_name":"baphomet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657269467,"creation_date":1657269467,"answer_id":72908785,"question_id":72894763,"body_markdown":"I got the problem: I simply forgot @Pathvaribale in the Controller Class. ","title":"Delete an Object from the H2 database by ID without autogenerated ( The given id must not be null!)","body":"<p>I got the problem: I simply forgot @Pathvaribale in the Controller Class.</p>\n"}],"owner":{"account_id":25691720,"reputation":9,"user_id":19453035,"display_name":"baphomet"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657269467,"creation_date":1657183320,"question_id":72894763,"body_markdown":"I made a list of rooms without an autogenerated ID because the ID is also the room number and I want to give them this number manually. But in postman, I can not delete one room from the list/database(h2). I get the Error:\r\n\r\n```\r\nERROR 12848 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException: The given id must not be null!; nested exception is java.lang.IllegalArgumentException: The given id must not be null!] with root cause\r\n```\r\n\r\nI didn&#39;t find anything for delete yet, only post requests, which work fine for me.\r\nClass:\r\n\r\n```java\r\n@Entity\r\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;roomNr&quot;)\r\npublic class Room {\r\n    @Id\r\n    private Integer roomNr;\r\n```\r\nController:\r\n```\r\n @CrossOrigin\r\n @DeleteMapping(&quot;{roomNr}&quot;)\r\n public void deleteOneZimmer(Integer roomNr){\r\n        roomService.deleteOneRoom(roomNr);\r\n```\r\n\r\nService:\r\n```java\r\npublic void deleteOneRoom(Integer roomNr){\r\n        roomRep.deleteById(roomNr);\r\n    }\r\n```\r\n\r\nand in postman, I get `status: 500, error: Internal Server Error`.\r\n\r\nthe path in postman is: room/1 and any other room with another ID is not working either.\r\n\r\nThis is my first post, so sorry if I am missing some info to solve that problem.","title":"Delete an Object from the H2 database by ID without autogenerated ( The given id must not be null!)","body":"<p>I made a list of rooms without an autogenerated ID because the ID is also the room number and I want to give them this number manually. But in postman, I can not delete one room from the list/database(h2). I get the Error:</p>\n<pre><code>ERROR 12848 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException: The given id must not be null!; nested exception is java.lang.IllegalArgumentException: The given id must not be null!] with root cause\n</code></pre>\n<p>I didn't find anything for delete yet, only post requests, which work fine for me.\nClass:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;roomNr&quot;)\npublic class Room {\n    @Id\n    private Integer roomNr;\n</code></pre>\n<p>Controller:</p>\n<pre><code> @CrossOrigin\n @DeleteMapping(&quot;{roomNr}&quot;)\n public void deleteOneZimmer(Integer roomNr){\n        roomService.deleteOneRoom(roomNr);\n</code></pre>\n<p>Service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void deleteOneRoom(Integer roomNr){\n        roomRep.deleteById(roomNr);\n    }\n</code></pre>\n<p>and in postman, I get <code>status: 500, error: Internal Server Error</code>.</p>\n<p>the path in postman is: room/1 and any other room with another ID is not working either.</p>\n<p>This is my first post, so sorry if I am missing some info to solve that problem.</p>\n"},{"tags":["java","spring","tomcat"],"answers":[{"tags":[],"owner":{"account_id":25598846,"reputation":21,"user_id":19374156,"display_name":"VadiMayer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657268506,"creation_date":1657268506,"answer_id":72908621,"question_id":72686921,"body_markdown":"**the problem was here, not enough org.springframework.web.context.ContextLoaderListener in web.xml**\r\n\r\n\r\n    &lt;listener&gt;\r\n    \r\n            &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n        \r\n        &lt;/listener&gt;\r\n\r\n\r\n\r\n------------------------------------------\r\n\r\n\r\n    &lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\r\n    \t\t http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\r\n             version=&quot;4.0&quot;&gt;\r\n    \r\n        &lt;display-name&gt;Graduation_Project&lt;/display-name&gt;\r\n    \r\n    \r\n        &lt;context-param&gt;\r\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;\r\n                classpath:spring/spring-app.xml\r\n                classpath:spring/spring-db.xml\r\n            &lt;/param-value&gt;\r\n        &lt;/context-param&gt;\r\n    \r\n    \r\n        **&lt;listener&gt;\r\n            &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n        &lt;/listener&gt;**\r\n    \r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n            &lt;init-param&gt;\r\n                &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n                &lt;param-value&gt;classpath:spring/spring-mvc.xml&lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;/servlet&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    \r\n    &lt;/web-app&gt;","title":"is there a problem with profiles? NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available and No qualifying bean of type","body":"<p><strong>the problem was here, not enough org.springframework.web.context.ContextLoaderListener in web.xml</strong></p>\n<pre><code>&lt;listener&gt;\n\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    \n    &lt;/listener&gt;\n</code></pre>\n<hr />\n<pre><code>&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\n         http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\n         version=&quot;4.0&quot;&gt;\n\n    &lt;display-name&gt;Graduation_Project&lt;/display-name&gt;\n\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;\n            classpath:spring/spring-app.xml\n            classpath:spring/spring-db.xml\n        &lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n\n    **&lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;**\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;classpath:spring/spring-mvc.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n"}],"owner":{"account_id":25598846,"reputation":21,"user_id":19374156,"display_name":"VadiMayer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72908621,"answer_count":1,"score":0,"last_activity_date":1657269367,"creation_date":1655727771,"question_id":72686921,"body_markdown":"For the fourth day I have been trying to cope with this error.\r\n\r\n\r\n\r\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:872)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1344)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:309)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330)\r\n        ... 21 more\r\n\r\n\r\n\r\nthis problem occurs when I run SpringMain in tests:\r\n\r\n\r\n\r\n    package topjava.quest;\r\n    \r\n    import org.springframework.context.support.GenericXmlApplicationContext;\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    public class SpringMain {\r\n        public static void main(String[] args) {\r\n            try(GenericXmlApplicationContext appCtx = new GenericXmlApplicationContext()) {\r\n                appCtx.getEnvironment().setActiveProfiles(&quot;postgres&quot;, &quot;datajpa&quot;);\r\n                appCtx.load(&quot;spring/inmemory.xml&quot;);\r\n                appCtx.refresh();\r\n    \r\n                System.out.println(&quot;Bean definition names &quot; + Arrays.toString(appCtx.getBeanDefinitionNames()));\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nthere may be several profiles in the application, there is an assumption that this is where the error is, but I can&#39;t find it. While using one profile &quot;postgres,datajpa&quot;.\r\n\r\n\r\nweb.xml:\r\n\r\n\r\n\r\n\r\n    &lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\r\n             http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\r\n             version=&quot;4.0&quot;&gt;\r\n    \r\n        &lt;display-name&gt;Graduation_Project&lt;/display-name&gt;\r\n    \r\n        &lt;context-param&gt;\r\n            &lt;param-name&gt;spring.profiles.default&lt;/param-name&gt;\r\n            &lt;param-value&gt;postgres,datajpa&lt;/param-value&gt;\r\n        &lt;/context-param&gt;\r\n    \r\n        &lt;context-param&gt;\r\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;\r\n                classpath:spring/spring-app.xml\r\n                classpath:spring/spring-db.xml\r\n            &lt;/param-value&gt;\r\n        &lt;/context-param&gt;\r\n    \r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n            &lt;init-param&gt;\r\n                &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n                &lt;param-value&gt;classpath:spring/spring-mvc.xml&lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;/servlet&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    \r\n    &lt;/web-app&gt;\r\n\r\n\r\n\r\n\r\nspring-db.xml:\r\n\r\n\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:jdbc=&quot;http://www.springframework.org/schema/jdbc&quot;\r\n           xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n           xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n           xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n           xmlns:jpa=&quot;http://www.springframework.org/schema/data/jpa&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n           http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc.xsd\r\n           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\r\n           http://www.springframework.org/schema/data/jpa http://www.springframework.org/schema/data/jpa/spring-jpa.xsd\r\n           http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd&quot;&gt;\r\n    \r\n        &lt;jdbc:initialize-database data-source=&quot;dataSource&quot; enabled=&quot;${database.init}&quot;&gt;\r\n            &lt;jdbc:script location=&quot;${jdbc.initLocation}&quot;/&gt;\r\n            &lt;jdbc:script encoding=&quot;utf-8&quot; location=&quot;classpath:db/populateDB.sql&quot;/&gt;\r\n        &lt;/jdbc:initialize-database&gt;\r\n    \r\n        &lt;tx:annotation-driven/&gt;\r\n    \r\n        &lt;beans profile=&quot;postgres&quot;&gt;\r\n    \r\n            &lt;bean class=&quot;org.springframework.beans.factory.config.MethodInvokingBean&quot;&gt;\r\n                &lt;property name=&quot;staticMethod&quot; value=&quot;org.slf4j.bridge.SLF4JBridgeHandler.install&quot;/&gt;\r\n            &lt;/bean&gt;\r\n    \r\n            &lt;context:property-placeholder location=&quot;classpath:db/postgres.properties&quot; system-properties-mode=&quot;OVERRIDE&quot;/&gt;\r\n    \r\n            &lt;bean id=&quot;dataSource&quot;\r\n                  class=&quot;org.apache.tomcat.jdbc.pool.DataSource&quot;\r\n                  p:driverClassName=&quot;org.postgresql.Driver&quot;\r\n                  p:url=&quot;${database.url}&quot;\r\n                  p:username=&quot;${database.username}&quot;\r\n                  p:password=&quot;${database.password}&quot;/&gt;\r\n        &lt;/beans&gt;\r\n    \r\n        &lt;beans profile=&quot;datajpa&quot;&gt;\r\n            &lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;\r\n                  p:dataSource-ref=&quot;dataSource&quot;\r\n                  p:packagesToScan=&quot;topjava.quest.model&quot;&gt;\r\n                &lt;property name=&quot;jpaPropertyMap&quot;&gt;\r\n                    &lt;map&gt;\r\n                        &lt;entry key=&quot;#{T(org.hibernate.cfg.AvailableSettings).FORMAT_SQL}&quot; value=&quot;${hibernate.format_sql}&quot;/&gt;\r\n                        &lt;entry key=&quot;#{T(org.hibernate.cfg.AvailableSettings).USE_SQL_COMMENTS}&quot; value=&quot;${hibernate.use_sql_comments}&quot;/&gt;\r\n                        &lt;entry key=&quot;#{T(org.hibernate.cfg.AvailableSettings).JPA_PROXY_COMPLIANCE}&quot; value=&quot;${hibernate.jpa_proxy_compliance}&quot;/&gt;\r\n                    &lt;/map&gt;\r\n                &lt;/property&gt;\r\n    \r\n                &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n                    &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot; p:showSql=&quot;${jpa.showSql}&quot;/&gt;\r\n                &lt;/property&gt;\r\n            &lt;/bean&gt;\r\n    \r\n        &lt;/beans&gt;\r\n    \r\n        &lt;beans profile=&quot;datajpa&quot;&gt;\r\n            &lt;context:component-scan base-package=&quot;topjava.quest.repository.datajpa&quot;/&gt;\r\n            &lt;jpa:repositories base-package=&quot;topjava.quest.repository.datajpa&quot;/&gt;\r\n        &lt;/beans&gt;\r\n    &lt;/beans&gt;\r\n\r\n\r\n\r\n\r\npom.xml:\r\n\r\n\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;topjava.quest&lt;/groupId&gt;\r\n        &lt;artifactId&gt;graduationProject&lt;/artifactId&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \r\n            &lt;tomcat.version&gt;9.0.59&lt;/tomcat.version&gt;\r\n    \r\n            &lt;!--Spring--&gt;\r\n            &lt;spring-version&gt;5.3.15&lt;/spring-version&gt;\r\n            &lt;spring-data-jpa.version&gt;2.6.2&lt;/spring-data-jpa.version&gt;\r\n    \r\n            &lt;!-- Logging --&gt;\r\n            &lt;logback.version&gt;1.2.10&lt;/logback.version&gt;\r\n            &lt;slf4j.version&gt;1.7.35&lt;/slf4j.version&gt;\r\n    \r\n            &lt;!--DB--&gt;\r\n            &lt;postgresql.version&gt;42.3.3&lt;/postgresql.version&gt;\r\n    \r\n            &lt;!--Test--&gt;\r\n            &lt;junit.version&gt;4.13.2&lt;/junit.version&gt;\r\n            &lt;assertj.version&gt;3.22.0&lt;/assertj.version&gt;\r\n    \r\n            &lt;!--Hibernate--&gt;\r\n            &lt;hibernate.version&gt;5.6.5.Final&lt;/hibernate.version&gt;\r\n            &lt;hibernate-validator.version&gt;6.2.2.Final&lt;/hibernate-validator.version&gt;\r\n            &lt;javax-el.version&gt;3.0.1-b12&lt;/javax-el.version&gt;\r\n    \r\n            &lt;!--Web--&gt;\r\n            &lt;jstl.version&gt;1.2&lt;/jstl.version&gt;\r\n    \r\n        &lt;/properties&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;finalName&gt;graduationProject&lt;/finalName&gt;\r\n            &lt;defaultGoal&gt;package&lt;/defaultGoal&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;${java.version}&lt;/source&gt;\r\n                        &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;!--JDK17--&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;!--Test--&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.22.2&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;argLine&gt;-Dfile.encoding=UTF-8&lt;/argLine&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;!--Logging with SLF4J &amp; LogBack--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n                &lt;version&gt;${logback.version}&lt;/version&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!--JDK17--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!--Spring--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-data-jpa.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!--ORM--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n                &lt;version&gt;${hibernate-validator.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\r\n                &lt;version&gt;${javax-el.version}&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!--Web--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-servlet-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n                &lt;version&gt;${jstl.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!--Test--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${assertj.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;profiles&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;postgres&lt;/id&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                        &lt;version&gt;${postgresql.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\r\n                        &lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n                        &lt;scope&gt;provided&lt;/scope&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\r\n                        &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n                        &lt;scope&gt;runtime&lt;/scope&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;activation&gt;\r\n                    &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n                &lt;/activation&gt;\r\n            &lt;/profile&gt;\r\n        &lt;/profiles&gt;\r\n    \r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-framework-bom&lt;/artifactId&gt;\r\n                    &lt;version&gt;${spring-version}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n\r\nin spring-app, spring-db and spring-mvc, the active profiles &quot;postgres,datajpa&quot; are selected, I can&#39;t understand what the problem is?\r\n\r\nwhen I try to start Tomcat, I get another exception\r\n\r\n\r\n    20-Jun-2022 13:45:05.104 SEVERE [http-nio-8080-exec-6] org.apache.catalina.core.StandardWrapperValve.invoke РћС€РёР&#177;РєР&#176; РІС‹РґР&#181;Р&#187;Р&#181;РЅРёСЏ РґР&#187;СЏ СЃР&#181;СЂРІР&#187;Р&#181;С‚Р&#176; [mvc-dispatcher]\r\n    \torg.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;topjava.quest.service.RestaurantService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\r\n\r\nmy code in classes:\r\n\r\n\r\n    @Service\r\n    public class RestaurantService\r\n    \r\n    @Autowired\r\n    private RestaurantService restaurantService;\r\n\r\n\r\n\r\nthe beans are not duplicated anywhere, the service is @autowired and marked with the @service annotation. What&#39;s wrong?","title":"is there a problem with profiles? NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available and No qualifying bean of type","body":"<p>For the fourth day I have been trying to cope with this error.</p>\n<pre><code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:872)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1344)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:309)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330)\n    ... 21 more\n</code></pre>\n<p>this problem occurs when I run SpringMain in tests:</p>\n<pre><code>package topjava.quest;\n\nimport org.springframework.context.support.GenericXmlApplicationContext;\n\nimport java.util.Arrays;\n\npublic class SpringMain {\n    public static void main(String[] args) {\n        try(GenericXmlApplicationContext appCtx = new GenericXmlApplicationContext()) {\n            appCtx.getEnvironment().setActiveProfiles(&quot;postgres&quot;, &quot;datajpa&quot;);\n            appCtx.load(&quot;spring/inmemory.xml&quot;);\n            appCtx.refresh();\n\n            System.out.println(&quot;Bean definition names &quot; + Arrays.toString(appCtx.getBeanDefinitionNames()));\n        }\n    }\n}\n</code></pre>\n<p>there may be several profiles in the application, there is an assumption that this is where the error is, but I can't find it. While using one profile &quot;postgres,datajpa&quot;.</p>\n<p>web.xml:</p>\n<pre><code>&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\n         http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\n         version=&quot;4.0&quot;&gt;\n\n    &lt;display-name&gt;Graduation_Project&lt;/display-name&gt;\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;spring.profiles.default&lt;/param-name&gt;\n        &lt;param-value&gt;postgres,datajpa&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;\n            classpath:spring/spring-app.xml\n            classpath:spring/spring-db.xml\n        &lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;classpath:spring/spring-mvc.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<p>spring-db.xml:</p>\n<pre><code>&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:jdbc=&quot;http://www.springframework.org/schema/jdbc&quot;\n       xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\n       xmlns:jpa=&quot;http://www.springframework.org/schema/data/jpa&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n       http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc.xsd\n       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\n       http://www.springframework.org/schema/data/jpa http://www.springframework.org/schema/data/jpa/spring-jpa.xsd\n       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd&quot;&gt;\n\n    &lt;jdbc:initialize-database data-source=&quot;dataSource&quot; enabled=&quot;${database.init}&quot;&gt;\n        &lt;jdbc:script location=&quot;${jdbc.initLocation}&quot;/&gt;\n        &lt;jdbc:script encoding=&quot;utf-8&quot; location=&quot;classpath:db/populateDB.sql&quot;/&gt;\n    &lt;/jdbc:initialize-database&gt;\n\n    &lt;tx:annotation-driven/&gt;\n\n    &lt;beans profile=&quot;postgres&quot;&gt;\n\n        &lt;bean class=&quot;org.springframework.beans.factory.config.MethodInvokingBean&quot;&gt;\n            &lt;property name=&quot;staticMethod&quot; value=&quot;org.slf4j.bridge.SLF4JBridgeHandler.install&quot;/&gt;\n        &lt;/bean&gt;\n\n        &lt;context:property-placeholder location=&quot;classpath:db/postgres.properties&quot; system-properties-mode=&quot;OVERRIDE&quot;/&gt;\n\n        &lt;bean id=&quot;dataSource&quot;\n              class=&quot;org.apache.tomcat.jdbc.pool.DataSource&quot;\n              p:driverClassName=&quot;org.postgresql.Driver&quot;\n              p:url=&quot;${database.url}&quot;\n              p:username=&quot;${database.username}&quot;\n              p:password=&quot;${database.password}&quot;/&gt;\n    &lt;/beans&gt;\n\n    &lt;beans profile=&quot;datajpa&quot;&gt;\n        &lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;\n              p:dataSource-ref=&quot;dataSource&quot;\n              p:packagesToScan=&quot;topjava.quest.model&quot;&gt;\n            &lt;property name=&quot;jpaPropertyMap&quot;&gt;\n                &lt;map&gt;\n                    &lt;entry key=&quot;#{T(org.hibernate.cfg.AvailableSettings).FORMAT_SQL}&quot; value=&quot;${hibernate.format_sql}&quot;/&gt;\n                    &lt;entry key=&quot;#{T(org.hibernate.cfg.AvailableSettings).USE_SQL_COMMENTS}&quot; value=&quot;${hibernate.use_sql_comments}&quot;/&gt;\n                    &lt;entry key=&quot;#{T(org.hibernate.cfg.AvailableSettings).JPA_PROXY_COMPLIANCE}&quot; value=&quot;${hibernate.jpa_proxy_compliance}&quot;/&gt;\n                &lt;/map&gt;\n            &lt;/property&gt;\n\n            &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\n                &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot; p:showSql=&quot;${jpa.showSql}&quot;/&gt;\n            &lt;/property&gt;\n        &lt;/bean&gt;\n\n    &lt;/beans&gt;\n\n    &lt;beans profile=&quot;datajpa&quot;&gt;\n        &lt;context:component-scan base-package=&quot;topjava.quest.repository.datajpa&quot;/&gt;\n        &lt;jpa:repositories base-package=&quot;topjava.quest.repository.datajpa&quot;/&gt;\n    &lt;/beans&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;topjava.quest&lt;/groupId&gt;\n    &lt;artifactId&gt;graduationProject&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n\n        &lt;tomcat.version&gt;9.0.59&lt;/tomcat.version&gt;\n\n        &lt;!--Spring--&gt;\n        &lt;spring-version&gt;5.3.15&lt;/spring-version&gt;\n        &lt;spring-data-jpa.version&gt;2.6.2&lt;/spring-data-jpa.version&gt;\n\n        &lt;!-- Logging --&gt;\n        &lt;logback.version&gt;1.2.10&lt;/logback.version&gt;\n        &lt;slf4j.version&gt;1.7.35&lt;/slf4j.version&gt;\n\n        &lt;!--DB--&gt;\n        &lt;postgresql.version&gt;42.3.3&lt;/postgresql.version&gt;\n\n        &lt;!--Test--&gt;\n        &lt;junit.version&gt;4.13.2&lt;/junit.version&gt;\n        &lt;assertj.version&gt;3.22.0&lt;/assertj.version&gt;\n\n        &lt;!--Hibernate--&gt;\n        &lt;hibernate.version&gt;5.6.5.Final&lt;/hibernate.version&gt;\n        &lt;hibernate-validator.version&gt;6.2.2.Final&lt;/hibernate-validator.version&gt;\n        &lt;javax-el.version&gt;3.0.1-b12&lt;/javax-el.version&gt;\n\n        &lt;!--Web--&gt;\n        &lt;jstl.version&gt;1.2&lt;/jstl.version&gt;\n\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;graduationProject&lt;/finalName&gt;\n        &lt;defaultGoal&gt;package&lt;/defaultGoal&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;!--JDK17--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.2&lt;/version&gt;\n            &lt;/plugin&gt;\n\n            &lt;!--Test--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;-Dfile.encoding=UTF-8&lt;/argLine&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;!--Logging with SLF4J &amp; LogBack--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;${logback.version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--JDK17--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--Spring--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;${spring-data-jpa.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--ORM--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate-validator.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\n            &lt;version&gt;${javax-el.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--Web--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;${tomcat.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;${jstl.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--Test--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n            &lt;version&gt;${assertj.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;postgres&lt;/id&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n                    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n                    &lt;version&gt;${postgresql.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n                    &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\n                    &lt;version&gt;${tomcat.version}&lt;/version&gt;\n                    &lt;scope&gt;provided&lt;/scope&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\n                    &lt;version&gt;${slf4j.version}&lt;/version&gt;\n                    &lt;scope&gt;runtime&lt;/scope&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-framework-bom&lt;/artifactId&gt;\n                &lt;version&gt;${spring-version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n&lt;/project&gt;\n</code></pre>\n<p>in spring-app, spring-db and spring-mvc, the active profiles &quot;postgres,datajpa&quot; are selected, I can't understand what the problem is?</p>\n<p>when I try to start Tomcat, I get another exception</p>\n<pre><code>20-Jun-2022 13:45:05.104 SEVERE [http-nio-8080-exec-6] org.apache.catalina.core.StandardWrapperValve.invoke РћС€РёР±РєР° РІС‹РґРµР»РµРЅРёСЏ РґР»СЏ СЃРµСЂРІР»РµС‚Р° [mvc-dispatcher]\n    org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'topjava.quest.service.RestaurantService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n</code></pre>\n<p>my code in classes:</p>\n<pre><code>@Service\npublic class RestaurantService\n\n@Autowired\nprivate RestaurantService restaurantService;\n</code></pre>\n<p>the beans are not duplicated anywhere, the service is @autowired and marked with the @service annotation. What's wrong?</p>\n"},{"tags":["java","http","http-headers"],"answers":[{"tags":[],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657269351,"creation_date":1657269351,"answer_id":72908773,"question_id":72908591,"body_markdown":"The `HttpRequestBuilder` doesn&#39;t allow a direct set of the `Map&lt;String, List&lt;String&gt;&gt;` into the headers nor exposes an equivalent of `putAll`. \r\n\r\nHowever, provided you have a `Map&lt;String, List&lt;String&gt;&gt;` called `yourHeaders`, then you can simply do the following: \r\n\r\n    HttpRequest.Builder builder = HttpRequest.newBuilder()\r\n      .uri(URI.create(targetUrl)\r\n      .setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n      .method(myMethod, HttpRequest.BodyPublishers.ofString(body));\r\n\r\n    yourHeaders.forEach((headerKey, headerValues) -&gt; headerValues.forEach(value -&gt; builder.header(headerKey, value)));\r\n\r\n    return builder.build();","title":"How can i set Header map in case of custom HTTP Request in java?","body":"<p>The <code>HttpRequestBuilder</code> doesn't allow a direct set of the <code>Map&lt;String, List&lt;String&gt;&gt;</code> into the headers nor exposes an equivalent of <code>putAll</code>.</p>\n<p>However, provided you have a <code>Map&lt;String, List&lt;String&gt;&gt;</code> called <code>yourHeaders</code>, then you can simply do the following:</p>\n<pre><code>HttpRequest.Builder builder = HttpRequest.newBuilder()\n  .uri(URI.create(targetUrl)\n  .setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n  .method(myMethod, HttpRequest.BodyPublishers.ofString(body));\n\nyourHeaders.forEach((headerKey, headerValues) -&gt; headerValues.forEach(value -&gt; builder.header(headerKey, value)));\n\nreturn builder.build();\n</code></pre>\n"}],"owner":{"account_id":17044620,"reputation":50,"user_id":12331751,"display_name":"Dr Drake Ramoray"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1720,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72908773,"answer_count":1,"score":0,"last_activity_date":1657269351,"creation_date":1657268381,"question_id":72908591,"body_markdown":"I was using java.net.http package to create custom request. i could set additional headers to pass but can&#39;t set a header map in the request, is there any way i can do this in this particular way of making http request, or in any other method of making request.\r\n\r\n```\r\nHttpRequest.newBuilder()\r\n.uri(URI.create(targetUrl)\r\n.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n.method(myMethod, HttpRequest.BodyPublishers.ofString(body))\r\n.build();\r\n```\r\nI want to set HeaderMap =&gt; **Map&lt;String,List&lt;String&gt;&gt;** just like we are setting a single header above.\r\n\r\nIt would be great if anyone could help me in this.","title":"How can i set Header map in case of custom HTTP Request in java?","body":"<p>I was using java.net.http package to create custom request. i could set additional headers to pass but can't set a header map in the request, is there any way i can do this in this particular way of making http request, or in any other method of making request.</p>\n<pre><code>HttpRequest.newBuilder()\n.uri(URI.create(targetUrl)\n.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n.method(myMethod, HttpRequest.BodyPublishers.ofString(body))\n.build();\n</code></pre>\n<p>I want to set HeaderMap =&gt; <strong>Map&lt;String,List&gt;</strong> just like we are setting a single header above.</p>\n<p>It would be great if anyone could help me in this.</p>\n"},{"tags":["java","annotations","junit4"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1657269278,"post_id":72908699,"comment_id":128775400,"body_markdown":"If it is a WIP you might want to temporarily ignore/disable the test instead of removing in and having to re-add it later. Or if it is flaky and you need to have it disabled for now until you have ample time to fix the flakiness. Those are just 2 reasons of wanting to disable it instead of removing it. Disabled/ignored tests also show up in a report and act as an indication things need to be done, removing them won&#39;t let them show up.`@Ignore` has nothing to do with Mockito just with JUnit4 (in JUnit5 is is `@Disabled` which is more descriptive imho).","body":"If it is a WIP you might want to temporarily ignore/disable the test instead of removing in and having to re-add it later. Or if it is flaky and you need to have it disabled for now until you have ample time to fix the flakiness. Those are just 2 reasons of wanting to disable it instead of removing it. Disabled/ignored tests also show up in a report and act as an indication things need to be done, removing them won&#39;t let them show up.<code>@Ignore</code> has nothing to do with Mockito just with JUnit4 (in JUnit5 is is <code>@Disabled</code> which is more descriptive imho)."},{"owner":{"account_id":23558452,"reputation":1,"user_id":17600118,"display_name":"Abhishek Lc"},"score":0,"creation_date":1657287974,"post_id":72908699,"comment_id":128781599,"body_markdown":"Got clarity,Thank you!!!","body":"Got clarity,Thank you!!!"},{"owner":{"account_id":23558452,"reputation":1,"user_id":17600118,"display_name":"Abhishek Lc"},"score":0,"creation_date":1657460046,"post_id":72908699,"comment_id":128810450,"body_markdown":"And another doubt,is this Ignored test method will not considered for code coverage right?Thanks in advance","body":"And another doubt,is this Ignored test method will not considered for code coverage right?Thanks in advance"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1657518274,"post_id":72908699,"comment_id":128819845,"body_markdown":"Ofcourse it won&#39;t be considered. Test coverage is measured with instrumentation and only code that is called during running tests gets flagged, if you ignore/disable tests those code paths aren&#39;t taken and thus not counted.","body":"Ofcourse it won&#39;t be considered. Test coverage is measured with instrumentation and only code that is called during running tests gets flagged, if you ignore/disable tests those code paths aren&#39;t taken and thus not counted."}],"owner":{"account_id":23558452,"reputation":1,"user_id":17600118,"display_name":"Abhishek Lc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657269309,"creation_date":1657268937,"question_id":72908699,"body_markdown":"If @Ignore method will not make testCases to pass,whats the use of putting @Ignore on test method.We can directly delete the testMethod right?I am new to java &amp; junit &amp; mockito.Thanks in advance.","title":"how @Ignore annotation will work in junit &amp; mockito frameworks?","body":"<p>If @Ignore method will not make testCases to pass,whats the use of putting @Ignore on test method.We can directly delete the testMethod right?I am new to java &amp; junit &amp; mockito.Thanks in advance.</p>\n"},{"tags":["java","sqlite","sqlexception"],"answers":[{"tags":[],"owner":{"account_id":176353,"reputation":19877,"user_id":406987,"display_name":"Doon"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1352982952,"creation_date":1352982952,"answer_id":13397660,"question_id":13397592,"body_markdown":"With SQLite you just open the database.  If it doesn&#39;t exist it will be created for you automatically.  Then you can check if your tables exist and create them as required.","title":"SQLite: near &quot;DATABASE&quot;: syntax error","body":"<p>With SQLite you just open the database.  If it doesn't exist it will be created for you automatically.  Then you can check if your tables exist and create them as required.</p>\n"},{"tags":[],"owner":{"account_id":4502,"reputation":3732,"user_id":6801,"accept_rate":89,"display_name":"Trausti Thor"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1352982988,"creation_date":1352982988,"answer_id":13397666,"question_id":13397592,"body_markdown":"SQLite doesn&#39;t create database, if the file doesn&#39;t exist that you assign to, it gets created.\r\n\r\nYou just assign a file. It doesn&#39;t have the command to create database, only create table","title":"SQLite: near &quot;DATABASE&quot;: syntax error","body":"<p>SQLite doesn't create database, if the file doesn't exist that you assign to, it gets created.</p>\n\n<p>You just assign a file. It doesn't have the command to create database, only create table</p>\n"},{"tags":[],"owner":{"account_id":19504407,"reputation":1,"user_id":14269762,"display_name":"jokernate"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657268942,"creation_date":1657268942,"answer_id":72908701,"question_id":13397592,"body_markdown":"you have to create tables only, is it? Databases are already created in sqlite.online.com \r\neg. \r\nCREATE TABLE products (\r\nid INT NOT NULL,\r\nprice MONEY, \r\nPRIMARY KEY (id)\r\n);\r\n\r\n//I got the same error while trying the website to run sql code for the first time but maybe my post might help u.","title":"SQLite: near &quot;DATABASE&quot;: syntax error","body":"<p>you have to create tables only, is it? Databases are already created in sqlite.online.com\neg.\nCREATE TABLE products (\nid INT NOT NULL,\nprice MONEY,\nPRIMARY KEY (id)\n);</p>\n<p>//I got the same error while trying the website to run sql code for the first time but maybe my post might help u.</p>\n"}],"owner":{"account_id":1034596,"reputation":2386,"user_id":1042226,"accept_rate":52,"display_name":"Master Mind"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16914,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":13397660,"answer_count":3,"score":2,"last_activity_date":1657268942,"creation_date":1352982706,"question_id":13397592,"body_markdown":"When I try to create a database programatically in SQLite using java, it generates the following error in console.\r\n\r\n    java.sql.SQLException: near &quot;DATABASE&quot;: syntax error\r\n    \tat org.sqlite.DB.throwex(DB.java:288)\r\n    \tat org.sqlite.NativeDB.prepare(Native Method)\r\n    \tat org.sqlite.DB.prepare(DB.java:114)\r\n    \tat org.sqlite.PrepStmt.&lt;init&gt;(PrepStmt.java:37)\r\n    \tat org.sqlite.Conn.prepareStatement(Conn.java:224)\r\n    \tat org.sqlite.Conn.prepareStatement(Conn.java:217)\r\n    \tat org.sqlite.Conn.prepareStatement(Conn.java:206)\r\n    \tat com.mmcal.build.BuildDB.executeQuery(BuildDB.java:46)\r\n    \tat com.mmcal.build.BuildDB.createDB(BuildDB.java:19)\r\n    \tat MainGen.main(MainGen.java:16)\r\n\r\nMy code is :\r\n\r\n    public class BuildDB {\r\n\tConnection connection;\r\n\tPreparedStatement ps;\r\n\tResultSet rs;\r\n\tString qry;\r\n\r\n\tpublic void createDB() {\r\n\t\tqry = &quot;CREATE DATABASE IF NOT EXISTS myDb&quot;;\r\n\t\texecuteQuery(qry);\r\n\t}\r\n\tpublic boolean executeQuery(String qry) {\r\n\t\tint cnt = 0;\r\n\t\tboolean flag = false;\r\n\t\tconnection = ConnectionMaster.connectDb();\r\n\t\ttry {\r\n\t\t\tps = connection.prepareStatement(qry);\r\n\t\t\tcnt = ps.executeUpdate();\r\n\t\t\tSystem.out.println(flag);\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tif (cnt == 0) {\r\n\t\t\tflag = true;\r\n\t\t}\r\n\r\n\t\treturn flag;\r\n\r\n\t}\r\n    }\r\n\r\nWhat&#39;s the problem in my code or is this the correct way to create database in SQLite via programatically?","title":"SQLite: near &quot;DATABASE&quot;: syntax error","body":"<p>When I try to create a database programatically in SQLite using java, it generates the following error in console.</p>\n\n<pre><code>java.sql.SQLException: near \"DATABASE\": syntax error\n    at org.sqlite.DB.throwex(DB.java:288)\n    at org.sqlite.NativeDB.prepare(Native Method)\n    at org.sqlite.DB.prepare(DB.java:114)\n    at org.sqlite.PrepStmt.&lt;init&gt;(PrepStmt.java:37)\n    at org.sqlite.Conn.prepareStatement(Conn.java:224)\n    at org.sqlite.Conn.prepareStatement(Conn.java:217)\n    at org.sqlite.Conn.prepareStatement(Conn.java:206)\n    at com.mmcal.build.BuildDB.executeQuery(BuildDB.java:46)\n    at com.mmcal.build.BuildDB.createDB(BuildDB.java:19)\n    at MainGen.main(MainGen.java:16)\n</code></pre>\n\n<p>My code is :</p>\n\n<pre><code>public class BuildDB {\nConnection connection;\nPreparedStatement ps;\nResultSet rs;\nString qry;\n\npublic void createDB() {\n    qry = \"CREATE DATABASE IF NOT EXISTS myDb\";\n    executeQuery(qry);\n}\npublic boolean executeQuery(String qry) {\n    int cnt = 0;\n    boolean flag = false;\n    connection = ConnectionMaster.connectDb();\n    try {\n        ps = connection.prepareStatement(qry);\n        cnt = ps.executeUpdate();\n        System.out.println(flag);\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n    if (cnt == 0) {\n        flag = true;\n    }\n\n    return flag;\n\n}\n}\n</code></pre>\n\n<p>What's the problem in my code or is this the correct way to create database in SQLite via programatically?</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":21950446,"reputation":119,"user_id":16229705,"display_name":"Aasima Jamal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627286728,"creation_date":1627286728,"answer_id":68526398,"question_id":68526325,"body_markdown":"You can do it using a crop option so that you can have the ratio of what you want\r\n\r\n    `private fun pickImage() {\r\n        val intent = Intent(Intent.ACTION_PICK)\r\n        //to crop the image\r\n        intent.type = &quot;image/jpg&quot;\r\n        intent.putExtra(&quot;crop&quot;, &quot;true&quot;);\r\n        intent.putExtra(&quot;aspectX&quot;, 10);\r\n        intent.putExtra(&quot;aspectY&quot;, 10);\r\n        intent.putExtra(&quot;outputX&quot;, 396);\r\n        intent.putExtra(&quot;outputY&quot;, 396);\r\n        intent.putExtra(&quot;noFaceDetection&quot;, false);\r\n        intent.putExtra(&quot;return-data&quot;, true);\r\n        startActivityForResult(intent, imgcode)\r\n    }`\r\n\r\n\r\nActivityResult be like\r\n\r\n ` override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\r\n        super.onActivityResult(requestCode, resultCode, data)\r\n        //checking the request codes\r\n\r\n        if (requestCode == 1111 &amp;&amp; resultCode == Activity.RESULT_OK) {\r\n            //converting to bitmap\r\n            val bmp: Bitmap? = data?.getParcelableExtra&lt;Bitmap&gt;(&quot;data&quot;)\r\n            img.setImageBitmap(bmp)`","title":"How to allow only to a specific ratio when taking photos in custom Android camera app?","body":"<p>You can do it using a crop option so that you can have the ratio of what you want</p>\n<pre><code>`private fun pickImage() {\n    val intent = Intent(Intent.ACTION_PICK)\n    //to crop the image\n    intent.type = &quot;image/jpg&quot;\n    intent.putExtra(&quot;crop&quot;, &quot;true&quot;);\n    intent.putExtra(&quot;aspectX&quot;, 10);\n    intent.putExtra(&quot;aspectY&quot;, 10);\n    intent.putExtra(&quot;outputX&quot;, 396);\n    intent.putExtra(&quot;outputY&quot;, 396);\n    intent.putExtra(&quot;noFaceDetection&quot;, false);\n    intent.putExtra(&quot;return-data&quot;, true);\n    startActivityForResult(intent, imgcode)\n}`\n</code></pre>\n<p>ActivityResult be like</p>\n<p>` override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\nsuper.onActivityResult(requestCode, resultCode, data)\n//checking the request codes</p>\n<pre><code>    if (requestCode == 1111 &amp;&amp; resultCode == Activity.RESULT_OK) {\n        //converting to bitmap\n        val bmp: Bitmap? = data?.getParcelableExtra&lt;Bitmap&gt;(&quot;data&quot;)\n        img.setImageBitmap(bmp)`\n</code></pre>\n"}],"owner":{"account_id":15193004,"reputation":83,"user_id":10963223,"display_name":"Emre Turan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":383,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657268720,"creation_date":1627286299,"question_id":68526325,"body_markdown":"In my app user need to take a picture in a ratio of 1:1 and it must be the back camera.\r\n\r\nSo is there a way to set the ratio to 1:1 only and disable switching to the front camera?\r\n\r\nHere is a part of my code:\r\n\r\n```\r\nprivate void dispatchTakePictureIntent() {\r\n\r\n    ContentValues cValues = new ContentValues();\r\n    cValues.put(MediaStore.Images.Media.DISPLAY_NAME, &quot;Photo&quot;);\r\n    cValues.put(MediaStore.Images.Media.DESCRIPTION, &quot;Camera&quot;);\r\n    imageUri = getContentResolver().insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, cValues);\r\n\r\n    Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n    takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, imageUri);\r\n\r\n    try {\r\n        startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);\r\n    }\r\n    catch (ActivityNotFoundException e) {\r\n        // display error state to the user\r\n    }\r\n}\r\n```","title":"How to allow only to a specific ratio when taking photos in custom Android camera app?","body":"<p>In my app user need to take a picture in a ratio of 1:1 and it must be the back camera.</p>\n<p>So is there a way to set the ratio to 1:1 only and disable switching to the front camera?</p>\n<p>Here is a part of my code:</p>\n<pre><code>private void dispatchTakePictureIntent() {\n\n    ContentValues cValues = new ContentValues();\n    cValues.put(MediaStore.Images.Media.DISPLAY_NAME, &quot;Photo&quot;);\n    cValues.put(MediaStore.Images.Media.DESCRIPTION, &quot;Camera&quot;);\n    imageUri = getContentResolver().insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, cValues);\n\n    Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n    takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, imageUri);\n\n    try {\n        startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);\n    }\n    catch (ActivityNotFoundException e) {\n        // display error state to the user\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java"],"owner":{"account_id":25687719,"reputation":11,"user_id":19449541,"display_name":"Yusup Rismunawar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1657267872,"answer_count":0,"score":-1,"last_activity_date":1657268389,"creation_date":1657254711,"question_id":72906661,"body_markdown":"I have some problems when installing an android application. it shows an error like this, but it was installed on another phone and it worked.\r\n\r\n```\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean java.lang.String.equals(java.lang.Object)&#39; on a null object reference\r\n\tat com.google.appinventor.components.runtime.WebViewer$MyWebViewClient.shouldInterceptRequest(SourceFile:282)\r\n\tat pa.a(chromium-TrichromeWebViewGoogle.aab-stable-506007033:223)\r\n\tat org.chromium.android_webview.AwContentsBackgroundThreadClient.shouldInterceptRequestFromNative(chromium-TrichromeWebViewGoogle.aab-stable-506007033:34)\r\n```","title":"force closed after install android apk","body":"<p>I have some problems when installing an android application. it shows an error like this, but it was installed on another phone and it worked.</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'boolean java.lang.String.equals(java.lang.Object)' on a null object reference\n    at com.google.appinventor.components.runtime.WebViewer$MyWebViewClient.shouldInterceptRequest(SourceFile:282)\n    at pa.a(chromium-TrichromeWebViewGoogle.aab-stable-506007033:223)\n    at org.chromium.android_webview.AwContentsBackgroundThreadClient.shouldInterceptRequestFromNative(chromium-TrichromeWebViewGoogle.aab-stable-506007033:34)\n</code></pre>\n"},{"tags":["java","android","database","android-room"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657247121,"creation_date":1657224873,"answer_id":72903717,"question_id":72899456,"body_markdown":"You have 3 core tables (**`@Entity`** annotated classes defined in the entities list of the **`@Database`** annotation), Days, Meals and Water.\r\n\r\n\r\n**If** (see **However** below) you want a many-many relationship between Days and Meals and also between Days and Water then you would have an associative/mapping/reference (and other terms) table for each many-many relationship. Such a table has two columns one that uniquely associates/references/maps to the Day and the other that uniquely associates/reference/maps to the Meals, for the Days-Meals or in the case of the Days-Water associates/references/maps to the Water. Typically the association/reference/map will be to the id column.\r\n\r\nSo in your case (**if as per the heading**) you would have two of these tables.\r\n\r\nTo extract related data (Days with the related Meals and with the related Waters) then you have a POJO that has the Days **`@Embedded`** and an **`@Relation`** to the Meals, defining the associative/reference/mapping table using the **`@Associate`** and the **`@Junction`** annotation, likewise an `@Relation` to the Waters.\r\n\r\n**However**, your JSON describes two one-many relationships rather then two many-many relationships. That is the Meals have a reference to the parent Days and likewise the Waters have a reference to the parent Days.\r\n\r\nIn this case you just need the 3 core tables. For extracting the Days with the related Meals and also with the related Waters. You use the **`@Embedded`** annotation for the Days and **`@Relation`** for both the Meals and the Waters without the *`@Associate`* and *`@Juntion`* as there is no associative/reference/mapping table.\r\n\r\n\r\n**Working Example**\r\nThis working example uses both a\r\n-  1 (Day) to many (Meals and Waters), and\r\n- Many-Many (via mapping tables) allowing the same Meal to be used by many Days and also likewise the same Water to be used by many Days a Day being capable of having many of either.\r\n\r\nSo the 3 core tables (entities) **Day**, **Water** and **Meal**.\r\n\r\n**Day** (note a row is a Day so typically it is the Day table rather than Days table) :-\r\n\r\n    @Entity\r\n    public class Day {\r\n        @PrimaryKey\r\n        Long dayId = null;\r\n        String date;\r\n        Float weight;\r\n        /* etc */\r\n    \r\n        Day(){} /* Room will use this constructor */\r\n        @Ignore /* Tell Room to ignore this constructor, but still usable outside of Room, so makes life easier */\r\n        Day(String date, Float weight) {\r\n            this.dayId = null; /* not needed but effectively what happens */\r\n            this.date = date;\r\n            this.weight = weight;\r\n        }\r\n        /* No getters and setters required as members aren&#39;t private/protected */\r\n    }\r\n\r\n**Meal**\r\n\r\n    @Entity(\r\n            /* Optional but suggested */\r\n            foreignKeys = {\r\n                    @ForeignKey(\r\n                            entity = Day.class,\r\n                            parentColumns = {&quot;dayId&quot;},\r\n                            childColumns = {&quot;dayId_Meal_Map&quot;}\r\n                            /* Optional but can be useful */\r\n                            , onDelete = ForeignKey.CASCADE\r\n                            , onUpdate = ForeignKey.CASCADE\r\n                    )\r\n            }\r\n    )\r\n    class Meal {\r\n        @PrimaryKey\r\n        Long mealId=null;\r\n        @ColumnInfo(index = true)\r\n        long dayId_Meal_Map;\r\n        String food_meal_time;\r\n        /* etc */\r\n    \r\n        Meal(){}\r\n        @Ignore\r\n        Meal(long parentDayId, String food_meal_time) {\r\n            this.dayId_Meal_Map = parentDayId;\r\n            this.food_meal_time = food_meal_time;\r\n        }\r\n        @Ignore\r\n        Meal(String food_meal_time) {\r\n            this.food_meal_time = food_meal_time;\r\n        }\r\n    }\r\n\r\n- Note for M2M then you wouldn&#39;t have the reference to the parent day, as this is held within the mapping table, as such you wouldn&#39;t have the Foreign Key definition either, nor the index on the reference column.\r\n- For a similar reason two @Ignored constructors when one would suffice depending upon wether 1-M or M-M is used.\r\n\r\n**Water**\r\n\r\n    @Entity(\r\n            /* Optional but suggested */\r\n            foreignKeys = {\r\n                    @ForeignKey(\r\n                            entity = Day.class,\r\n                            parentColumns = {&quot;dayId&quot;},\r\n                            childColumns = {&quot;dayId_Water_Map&quot;}\r\n                            /* Optional but can be useful */\r\n                            , onDelete = ForeignKey.CASCADE\r\n                            , onUpdate = ForeignKey.CASCADE\r\n                    )\r\n            }\r\n    )\r\n    class Water {\r\n        @PrimaryKey\r\n        Long waterId=null;\r\n        @ColumnInfo(index = true)\r\n        long dayId_Water_Map;\r\n        Float water_ml;\r\n        /* etc */\r\n    \r\n        Water(){}\r\n        @Ignore\r\n        Water(long parentDayId, Float water_ml) {\r\n            this.dayId_Water_Map = parentDayId;\r\n            this.water_ml = water_ml;\r\n        }\r\n        /* Constructor for m2m i.e. reference to dayId is not needed as in the mapping table */\r\n        @Ignore\r\n        Water(Float water_ml) {\r\n            this.water_ml = water_ml;\r\n        }\r\n    }\r\n\r\nFor the **Many-Many** relationship then the 2 mapping tables **DayMealMap** and **DayWaterMap**\r\n\r\n**DayMealMap**\r\n\r\n    @Entity(\r\n            primaryKeys = {&quot;dayMealMap_dayId_Reference&quot;,&quot;dayMealMap_mealId_Reference&quot;},\r\n            /* Optional but suggested */\r\n            foreignKeys = {\r\n                    @ForeignKey(\r\n                            entity = Day.class,\r\n                            parentColumns = {&quot;dayId&quot;},\r\n                            childColumns = {&quot;dayMealMap_dayId_Reference&quot;}\r\n                            /* Optional but helpful */\r\n                            , onDelete = ForeignKey.CASCADE\r\n                            , onUpdate = ForeignKey.CASCADE\r\n    \r\n                    ),\r\n                    @ForeignKey(\r\n                            entity = Meal.class,\r\n                            parentColumns = &quot;mealId&quot;,\r\n                            childColumns = &quot;dayMealMap_mealId_Reference&quot;\r\n                            , onDelete = ForeignKey.CASCADE\r\n                            , onUpdate = ForeignKey.CASCADE\r\n                    )\r\n            }\r\n    )\r\n    class DayMealMap {\r\n        long dayMealMap_dayId_Reference;\r\n        /* Index optional but would likely improve efficiency */\r\n        /* Also ROOM will issue warning if not indexed */\r\n        @ColumnInfo(index = true)\r\n        long dayMealMap_mealId_Reference;\r\n    \r\n    \r\n        DayMealMap(){}\r\n        @Ignore\r\n        DayMealMap(long dayIdMap, long mealIdMap) {\r\n            this.dayMealMap_dayId_Reference = dayIdMap;\r\n            this.dayMealMap_mealId_Reference = mealIdMap;\r\n        }\r\n    }\r\n\r\n**DayWaterMap**\r\n\r\n    @Entity(\r\n            primaryKeys = {&quot;dayWaterMap_dayId_Reference&quot;,&quot;dayWaterMap_waterId_Reference&quot;},\r\n            foreignKeys = {\r\n                    @ForeignKey(\r\n                            entity = Day.class,\r\n                            parentColumns = &quot;dayId&quot;,\r\n                            childColumns = &quot;dayWaterMap_dayId_Reference&quot;\r\n                            , onDelete = ForeignKey.CASCADE\r\n                            , onUpdate = ForeignKey.CASCADE\r\n                    ),\r\n                    @ForeignKey(\r\n                            entity = Water.class,\r\n                            parentColumns = &quot;waterId&quot;,\r\n                            childColumns = &quot;dayWaterMap_waterId_Reference&quot;\r\n                            ,onDelete = ForeignKey.CASCADE\r\n                            ,onUpdate = ForeignKey.CASCADE\r\n                    )\r\n            }\r\n    )\r\n    class DayWaterMap {\r\n        long dayWaterMap_dayId_Reference;\r\n        @ColumnInfo(index = true)\r\n        long dayWaterMap_waterId_Reference;\r\n    \r\n        DayWaterMap(){}\r\n        @Ignore\r\n        DayWaterMap(long dayIdMap, long waterIdMap) {\r\n            this.dayWaterMap_dayId_Reference = dayIdMap;\r\n            this.dayWaterMap_waterId_Reference = waterIdMap;\r\n        }\r\n    }\r\n\r\nFor extract of the Days with the Related Meals and Waters via the 1-M relationship then a POJO\r\n\r\n    class DayWithRelatedMealsAlsoWithRelatedWaters {\r\n       @Embedded\r\n       Day day;\r\n       @Relation(\r\n               entity = Meal.class,\r\n               parentColumn = &quot;dayId&quot;,\r\n               entityColumn = &quot;dayId_Meal_Map&quot;\r\n       )\r\n       List&lt;Meal&gt; mealList;\r\n       @Relation(\r\n               entity = Water.class,\r\n               parentColumn = &quot;dayId&quot;,\r\n               entityColumn = &quot;dayId_Water_Map&quot;\r\n       )\r\n       List&lt;Water&gt; waterList;\r\n    }\r\n\r\nFor the Many-Many, to get the same related data it&#39;s POJO (via the mapping table (aka the associative tables))\r\n\r\n    class M2MDayWithRelatedMealsAlsoWithRealtedWaters {\r\n       @Embedded\r\n       Day day;\r\n       @Relation(\r\n               entity = Meal.class,\r\n               parentColumn = &quot;dayId&quot;,\r\n               entityColumn = &quot;mealId&quot;,\r\n               associateBy = @Junction(\r\n                       value = DayMealMap.class,\r\n                       parentColumn = &quot;dayMealMap_dayId_Reference&quot;,\r\n                       entityColumn = &quot;dayMealMap_mealId_Reference&quot;\r\n               )\r\n       )\r\n       List&lt;Meal&gt; mealList;\r\n       @Relation(\r\n               entity = Water.class,\r\n               parentColumn = &quot;dayId&quot;,\r\n               entityColumn = &quot;waterId&quot;,\r\n               associateBy = @Junction(\r\n                       value = DayWaterMap.class,\r\n                       parentColumn = &quot;dayWaterMap_dayId_Reference&quot;,\r\n                       entityColumn = &quot;dayWaterMap_waterId_Reference&quot;\r\n               )\r\n       )\r\n       List&lt;Water&gt; waterList;\r\n    \r\n    }\r\n\r\nAn `@Dao` annotated abstract class (could be an interface but I prefer an abstract class as it is more flexible (reasons beyond this question))\r\n\r\n**AllDao** (i.e. All of the DAO methods in one, for convenience):-\r\n\r\n    @Dao\r\n    abstract class AllDao {\r\n    \r\n        @Insert(onConflict = OnConflictStrategy.IGNORE)\r\n        abstract long insert(Day day);\r\n        @Insert(onConflict = OnConflictStrategy.IGNORE)\r\n        abstract long insert(Meal meal);\r\n        @Insert(onConflict = OnConflictStrategy.IGNORE)\r\n        abstract long insert(Water water);\r\n    \r\n        /* For many-many mapping table inserts */\r\n        @Insert(onConflict = OnConflictStrategy.IGNORE)\r\n        abstract long insert(DayMealMap dayMealMap);\r\n        @Insert(onConflict = OnConflictStrategy.IGNORE)\r\n        abstract long insert(DayWaterMap dayWaterMap);\r\n    \r\n        @Transaction\r\n        @Query(&quot;SELECT * FROM day&quot;)\r\n        abstract List&lt;DayWithRelatedMealsAlsoWithRelatedWaters&gt; getListOfDaysWithRelatedMealsAndRelatedWaters();\r\n    \r\n        @Transaction\r\n        @Query(&quot;SELECT * FROM day&quot;)\r\n        abstract List&lt;M2MDayWithRelatedMealsAlsoWithRealtedWaters&gt; getM2mListOfDaysWithRelatedMealsAlsoWithRelatedWaters();\r\n    \r\n    }\r\n\r\n- *obviously you&#39;d only use the one get..... depending upon how you proceed with the relationship type*\r\n\r\nStarting to put it all together from a Room perspective the `@Database` annotated class.\r\n\r\n    @Database(\r\n            entities = {\r\n                    /* Either 1-many or many-many use the 3 core tables */\r\n                    Day.class,\r\n                    Meal.class,\r\n                    Water.class\r\n                    /* for many-many then the 2 mapping tables */\r\n                    , DayMealMap.class\r\n                    , DayWaterMap.class\r\n            },\r\n    \r\n            version = 1,\r\n            exportSchema = false\r\n    )\r\n    abstract class TheDatabase extends RoomDatabase {\r\n        abstract AllDao getAllDao();\r\n    \r\n        private volatile static TheDatabase INSTANCE= null;\r\n    \r\n        public static TheDatabase getINSTANCE(Context context) {\r\n            if (INSTANCE==null) {\r\n                INSTANCE = Room.databaseBuilder(context,TheDatabase.class,&quot;the_database.db&quot;)\r\n                        .allowMainThreadQueries()\r\n                        .build();\r\n            }\r\n            return INSTANCE;\r\n        }\r\n    }\r\n\r\n- note `.allowMainThreadQueries` used for convenience and brevity/clarity.\r\n\r\n\r\nActually using all of the above to add some data and to then extract the data for both types of realtionships:-\r\n\r\n**MainActivity**\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        TheDatabase mDB;\r\n        AllDao mDao;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            mDB = TheDatabase.getINSTANCE(this);\r\n            mDao = mDB.getAllDao();\r\n    \r\n            /* 1-many */\r\n            long day001Id = mDao.insert(new Day(&quot;2022-07-08&quot;,10.10F));\r\n            long day002Id = mDao.insert(new Day(&quot;2022-07-09&quot;,11.11F));\r\n            long day003Id = mDao.insert(new Day(&quot;2022-07-09&quot;,12.12F));\r\n    \r\n            /* Add some related Meals (1-M) */\r\n            long m011Id = mDao.insert(new Meal(day001Id,&quot;09:00&quot;));\r\n            long m012Id = mDao.insert(new Meal(day001Id,&quot;11:00&quot;));\r\n            long m013Id = mDao.insert(new Meal(day001Id,&quot;13:00&quot;));\r\n            long m014Id = mDao.insert(new Meal(day001Id,&quot;18:00&quot;));\r\n            long m015Id = mDao.insert(new Meal(day001Id,&quot;21:00&quot;));\r\n    \r\n            long m021Id = mDao.insert(new Meal(day002Id,&quot;09:30&quot;));\r\n            long m022Id = mDao.insert(new Meal(day002Id,&quot;10:15&quot;));\r\n            long m023Id = mDao.insert(new Meal(day002Id,&quot;12:45&quot;));\r\n            long m024Id = mDao.insert(new Meal(day002Id,&quot;17:30&quot;));\r\n            long m025Id = mDao.insert(new Meal(day002Id,&quot;20:30&quot;));\r\n    \r\n            /* Add some Waters (1-M) */\r\n            long w011Id = mDao.insert(new Water(day001Id,100.100F));\r\n            long w012Id = mDao.insert(new Water(day001Id,200.200F));\r\n    \r\n            long w021Id = mDao.insert(new Water(day002Id, 120.12F));\r\n            long w022Id = mDao.insert(new Water(day002Id, 220.22F));\r\n    \r\n    \r\n    \r\n            /* Use the above Days, Meals and Waters to add M2M stuff */\r\n    \r\n            /* Day 1 just a subset of the 1-m&#39;s */\r\n            mDao.insert(new DayMealMap(day001Id,m011Id));\r\n            mDao.insert(new DayMealMap(day001Id,m013Id));\r\n            mDao.insert(new DayMealMap(day001Id,m015Id));\r\n            /* Day 2 just a subset of 1-m&#39;s */\r\n            mDao.insert(new DayMealMap(day002Id, m022Id));\r\n            mDao.insert(new DayMealMap(day002Id,m024Id));\r\n    \r\n            /* Note with 1-M day 3 was empty, this relates existing meals from day 1 and day 2 to day 3 */\r\n            mDao.insert(new DayMealMap(day003Id,m011Id));\r\n            mDao.insert(new DayMealMap(day003Id,m021Id));\r\n    \r\n    \r\n            for (DayWithRelatedMealsAlsoWithRelatedWaters d: mDao.getListOfDaysWithRelatedMealsAndRelatedWaters()) {\r\n                logADayWithRelatedMealsAndWaters(d,&quot;_1-M&quot;);\r\n            }\r\n            for (M2MDayWithRelatedMealsAlsoWithRealtedWaters m: mDao.getM2mListOfDaysWithRelatedMealsAlsoWithRelatedWaters()) {\r\n                logM2MDayWithRelatedMealsAndWaters(m,&quot;_M-M&quot;);\r\n            }\r\n    \r\n        }\r\n    \r\n        private void logADayWithRelatedMealsAndWaters(DayWithRelatedMealsAlsoWithRelatedWaters dwrmawrw, String suffix) {\r\n            Log.d(\r\n                    &quot;DAYINFO&quot; + suffix,\r\n                    &quot;Day is &quot; + dwrmawrw.day.date +\r\n                            &quot; Weight is &quot; + dwrmawrw.day.weight +\r\n                            &quot; ID is &quot; + dwrmawrw.day.dayId\r\n                    + &quot; The Day has &quot; + dwrmawrw.mealList.size() + &quot; meal(s) &quot;\r\n                    + &quot; and it has &quot; + dwrmawrw.waterList.size() + &quot; water(s).&quot;\r\n            );\r\n            for (Meal m: dwrmawrw.mealList) {\r\n                Log.d(\r\n                        &quot;DAYINFO&quot; + suffix,\r\n                        &quot;\\tMeal is &quot; + m.food_meal_time + &quot; it&#39;s parent Day has the ID &quot; + m.dayId_Meal_Map\r\n                );\r\n            }\r\n            for (Water w: dwrmawrw.waterList) {\r\n                Log.d(\r\n                        &quot;DAYINFO&quot; + suffix,\r\n                        &quot;\\tWater is &quot; + w.water_ml + &quot; it&#39;s parent Day has the ID &quot; + w.dayId_Water_Map\r\n                );\r\n            }\r\n        }\r\n    \r\n        private void logM2MDayWithRelatedMealsAndWaters(M2MDayWithRelatedMealsAlsoWithRealtedWaters mdwrmawrw, String suffix) {\r\n            Log.d(\r\n                    &quot;DAYINFO&quot; + suffix,\r\n                    &quot;Day is &quot; + mdwrmawrw.day.date +\r\n                            &quot; Weight is &quot; + mdwrmawrw.day.weight +\r\n                            &quot; ID is &quot; + mdwrmawrw.day.dayId\r\n                            + &quot; The Day has &quot; + mdwrmawrw.mealList.size() + &quot; meal(s) &quot;\r\n                            + &quot; and it has &quot; + mdwrmawrw.waterList.size() + &quot; water(s).&quot;\r\n            );\r\n            for (Meal m: mdwrmawrw.mealList) {\r\n                Log.d(\r\n                        &quot;DAYINFO&quot; + suffix,\r\n                        &quot;\\tMeal is &quot; + m.food_meal_time + &quot; it&#39;s parent Day has the ID &quot; + m.dayId_Meal_Map\r\n                );\r\n            }\r\n            for (Water w: mdwrmawrw.waterList) {\r\n                Log.d(\r\n                        &quot;DAYINFO&quot; + suffix,\r\n                        &quot;\\tWater is &quot; + w.water_ml + &quot; it&#39;s parent Day has the ID &quot; + w.dayId_Water_Map\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n- note the above is only designed to be run once as a demonstration.\r\n\r\n**THE RESULT** (i.e. the output written to the log, with spaces added to split the two types of relationshsips):-\r\n\r\n    2022-07-08 12:20:01.522 D/DAYINFO_1-M: Day is 2022-07-08 Weight is 10.1 ID is 1 The Day has 5 meal(s)  and it has 2 water(s).\r\n    2022-07-08 12:20:01.522 D/DAYINFO_1-M: \tMeal is 09:00 it&#39;s parent Day has the ID 1\r\n    2022-07-08 12:20:01.522 D/DAYINFO_1-M: \tMeal is 11:00 it&#39;s parent Day has the ID 1\r\n    2022-07-08 12:20:01.522 D/DAYINFO_1-M: \tMeal is 13:00 it&#39;s parent Day has the ID 1\r\n    2022-07-08 12:20:01.522 D/DAYINFO_1-M: \tMeal is 18:00 it&#39;s parent Day has the ID 1\r\n    2022-07-08 12:20:01.522 D/DAYINFO_1-M: \tMeal is 21:00 it&#39;s parent Day has the ID 1\r\n    2022-07-08 12:20:01.522 D/DAYINFO_1-M: \tWater is 100.1 it&#39;s parent Day has the ID 1\r\n    2022-07-08 12:20:01.523 D/DAYINFO_1-M: \tWater is 200.2 it&#39;s parent Day has the ID 1\r\n    2022-07-08 12:20:01.523 D/DAYINFO_1-M: Day is 2022-07-09 Weight is 11.11 ID is 2 The Day has 5 meal(s)  and it has 2 water(s).\r\n    2022-07-08 12:20:01.523 D/DAYINFO_1-M: \tMeal is 09:30 it&#39;s parent Day has the ID 2\r\n    2022-07-08 12:20:01.523 D/DAYINFO_1-M: \tMeal is 10:15 it&#39;s parent Day has the ID 2\r\n    2022-07-08 12:20:01.523 D/DAYINFO_1-M: \tMeal is 12:45 it&#39;s parent Day has the ID 2\r\n    2022-07-08 12:20:01.523 D/DAYINFO_1-M: \tMeal is 17:30 it&#39;s parent Day has the ID 2\r\n    2022-07-08 12:20:01.523 D/DAYINFO_1-M: \tMeal is 20:30 it&#39;s parent Day has the ID 2\r\n    2022-07-08 12:20:01.523 D/DAYINFO_1-M: \tWater is 120.12 it&#39;s parent Day has the ID 2\r\n    2022-07-08 12:20:01.523 D/DAYINFO_1-M: \tWater is 220.22 it&#39;s parent Day has the ID 2\r\n    2022-07-08 12:20:01.523 D/DAYINFO_1-M: Day is 2022-07-09 Weight is 12.12 ID is 3 The Day has 0 meal(s)  and it has 0 water(s).\r\n    \r\n    \r\n    \r\n    2022-07-08 12:20:01.527 D/DAYINFO_M-M: Day is 2022-07-08 Weight is 10.1 ID is 1 The Day has 3 meal(s)  and it has 0 water(s).\r\n    2022-07-08 12:20:01.527 D/DAYINFO_M-M: \tMeal is 09:00 it&#39;s parent Day has the ID 1\r\n    2022-07-08 12:20:01.527 D/DAYINFO_M-M: \tMeal is 13:00 it&#39;s parent Day has the ID 1\r\n    2022-07-08 12:20:01.527 D/DAYINFO_M-M: \tMeal is 21:00 it&#39;s parent Day has the ID 1\r\n    2022-07-08 12:20:01.527 D/DAYINFO_M-M: Day is 2022-07-09 Weight is 11.11 ID is 2 The Day has 2 meal(s)  and it has 0 water(s).\r\n    2022-07-08 12:20:01.527 D/DAYINFO_M-M: \tMeal is 10:15 it&#39;s parent Day has the ID 2\r\n    2022-07-08 12:20:01.527 D/DAYINFO_M-M: \tMeal is 17:30 it&#39;s parent Day has the ID 2\r\n    2022-07-08 12:20:01.528 D/DAYINFO_M-M: Day is 2022-07-09 Weight is 12.12 ID is 3 The Day has 2 meal(s)  and it has 0 water(s).\r\n    2022-07-08 12:20:01.528 D/DAYINFO_M-M: \tMeal is 09:00 it&#39;s parent Day has the ID 1\r\n    2022-07-08 12:20:01.528 D/DAYINFO_M-M: \tMeal is 09:30 it&#39;s parent Day has the ID 2\r\n\r\n- As can be seen, the related data is dependant upon relationship type and the data was purposefully applied to highlight the difference.\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I do Many to Multiple Many relationship in Room Android?","body":"<p>You have 3 core tables (<strong><code>@Entity</code></strong> annotated classes defined in the entities list of the <strong><code>@Database</code></strong> annotation), Days, Meals and Water.</p>\n<p><strong>If</strong> (see <strong>However</strong> below) you want a many-many relationship between Days and Meals and also between Days and Water then you would have an associative/mapping/reference (and other terms) table for each many-many relationship. Such a table has two columns one that uniquely associates/references/maps to the Day and the other that uniquely associates/reference/maps to the Meals, for the Days-Meals or in the case of the Days-Water associates/references/maps to the Water. Typically the association/reference/map will be to the id column.</p>\n<p>So in your case (<strong>if as per the heading</strong>) you would have two of these tables.</p>\n<p>To extract related data (Days with the related Meals and with the related Waters) then you have a POJO that has the Days <strong><code>@Embedded</code></strong> and an <strong><code>@Relation</code></strong> to the Meals, defining the associative/reference/mapping table using the <strong><code>@Associate</code></strong> and the <strong><code>@Junction</code></strong> annotation, likewise an <code>@Relation</code> to the Waters.</p>\n<p><strong>However</strong>, your JSON describes two one-many relationships rather then two many-many relationships. That is the Meals have a reference to the parent Days and likewise the Waters have a reference to the parent Days.</p>\n<p>In this case you just need the 3 core tables. For extracting the Days with the related Meals and also with the related Waters. You use the <strong><code>@Embedded</code></strong> annotation for the Days and <strong><code>@Relation</code></strong> for both the Meals and the Waters without the <em><code>@Associate</code></em> and <em><code>@Juntion</code></em> as there is no associative/reference/mapping table.</p>\n<p><strong>Working Example</strong>\nThis working example uses both a</p>\n<ul>\n<li>1 (Day) to many (Meals and Waters), and</li>\n<li>Many-Many (via mapping tables) allowing the same Meal to be used by many Days and also likewise the same Water to be used by many Days a Day being capable of having many of either.</li>\n</ul>\n<p>So the 3 core tables (entities) <strong>Day</strong>, <strong>Water</strong> and <strong>Meal</strong>.</p>\n<p><strong>Day</strong> (note a row is a Day so typically it is the Day table rather than Days table) :-</p>\n<pre><code>@Entity\npublic class Day {\n    @PrimaryKey\n    Long dayId = null;\n    String date;\n    Float weight;\n    /* etc */\n\n    Day(){} /* Room will use this constructor */\n    @Ignore /* Tell Room to ignore this constructor, but still usable outside of Room, so makes life easier */\n    Day(String date, Float weight) {\n        this.dayId = null; /* not needed but effectively what happens */\n        this.date = date;\n        this.weight = weight;\n    }\n    /* No getters and setters required as members aren't private/protected */\n}\n</code></pre>\n<p><strong>Meal</strong></p>\n<pre><code>@Entity(\n        /* Optional but suggested */\n        foreignKeys = {\n                @ForeignKey(\n                        entity = Day.class,\n                        parentColumns = {&quot;dayId&quot;},\n                        childColumns = {&quot;dayId_Meal_Map&quot;}\n                        /* Optional but can be useful */\n                        , onDelete = ForeignKey.CASCADE\n                        , onUpdate = ForeignKey.CASCADE\n                )\n        }\n)\nclass Meal {\n    @PrimaryKey\n    Long mealId=null;\n    @ColumnInfo(index = true)\n    long dayId_Meal_Map;\n    String food_meal_time;\n    /* etc */\n\n    Meal(){}\n    @Ignore\n    Meal(long parentDayId, String food_meal_time) {\n        this.dayId_Meal_Map = parentDayId;\n        this.food_meal_time = food_meal_time;\n    }\n    @Ignore\n    Meal(String food_meal_time) {\n        this.food_meal_time = food_meal_time;\n    }\n}\n</code></pre>\n<ul>\n<li>Note for M2M then you wouldn't have the reference to the parent day, as this is held within the mapping table, as such you wouldn't have the Foreign Key definition either, nor the index on the reference column.</li>\n<li>For a similar reason two @Ignored constructors when one would suffice depending upon wether 1-M or M-M is used.</li>\n</ul>\n<p><strong>Water</strong></p>\n<pre><code>@Entity(\n        /* Optional but suggested */\n        foreignKeys = {\n                @ForeignKey(\n                        entity = Day.class,\n                        parentColumns = {&quot;dayId&quot;},\n                        childColumns = {&quot;dayId_Water_Map&quot;}\n                        /* Optional but can be useful */\n                        , onDelete = ForeignKey.CASCADE\n                        , onUpdate = ForeignKey.CASCADE\n                )\n        }\n)\nclass Water {\n    @PrimaryKey\n    Long waterId=null;\n    @ColumnInfo(index = true)\n    long dayId_Water_Map;\n    Float water_ml;\n    /* etc */\n\n    Water(){}\n    @Ignore\n    Water(long parentDayId, Float water_ml) {\n        this.dayId_Water_Map = parentDayId;\n        this.water_ml = water_ml;\n    }\n    /* Constructor for m2m i.e. reference to dayId is not needed as in the mapping table */\n    @Ignore\n    Water(Float water_ml) {\n        this.water_ml = water_ml;\n    }\n}\n</code></pre>\n<p>For the <strong>Many-Many</strong> relationship then the 2 mapping tables <strong>DayMealMap</strong> and <strong>DayWaterMap</strong></p>\n<p><strong>DayMealMap</strong></p>\n<pre><code>@Entity(\n        primaryKeys = {&quot;dayMealMap_dayId_Reference&quot;,&quot;dayMealMap_mealId_Reference&quot;},\n        /* Optional but suggested */\n        foreignKeys = {\n                @ForeignKey(\n                        entity = Day.class,\n                        parentColumns = {&quot;dayId&quot;},\n                        childColumns = {&quot;dayMealMap_dayId_Reference&quot;}\n                        /* Optional but helpful */\n                        , onDelete = ForeignKey.CASCADE\n                        , onUpdate = ForeignKey.CASCADE\n\n                ),\n                @ForeignKey(\n                        entity = Meal.class,\n                        parentColumns = &quot;mealId&quot;,\n                        childColumns = &quot;dayMealMap_mealId_Reference&quot;\n                        , onDelete = ForeignKey.CASCADE\n                        , onUpdate = ForeignKey.CASCADE\n                )\n        }\n)\nclass DayMealMap {\n    long dayMealMap_dayId_Reference;\n    /* Index optional but would likely improve efficiency */\n    /* Also ROOM will issue warning if not indexed */\n    @ColumnInfo(index = true)\n    long dayMealMap_mealId_Reference;\n\n\n    DayMealMap(){}\n    @Ignore\n    DayMealMap(long dayIdMap, long mealIdMap) {\n        this.dayMealMap_dayId_Reference = dayIdMap;\n        this.dayMealMap_mealId_Reference = mealIdMap;\n    }\n}\n</code></pre>\n<p><strong>DayWaterMap</strong></p>\n<pre><code>@Entity(\n        primaryKeys = {&quot;dayWaterMap_dayId_Reference&quot;,&quot;dayWaterMap_waterId_Reference&quot;},\n        foreignKeys = {\n                @ForeignKey(\n                        entity = Day.class,\n                        parentColumns = &quot;dayId&quot;,\n                        childColumns = &quot;dayWaterMap_dayId_Reference&quot;\n                        , onDelete = ForeignKey.CASCADE\n                        , onUpdate = ForeignKey.CASCADE\n                ),\n                @ForeignKey(\n                        entity = Water.class,\n                        parentColumns = &quot;waterId&quot;,\n                        childColumns = &quot;dayWaterMap_waterId_Reference&quot;\n                        ,onDelete = ForeignKey.CASCADE\n                        ,onUpdate = ForeignKey.CASCADE\n                )\n        }\n)\nclass DayWaterMap {\n    long dayWaterMap_dayId_Reference;\n    @ColumnInfo(index = true)\n    long dayWaterMap_waterId_Reference;\n\n    DayWaterMap(){}\n    @Ignore\n    DayWaterMap(long dayIdMap, long waterIdMap) {\n        this.dayWaterMap_dayId_Reference = dayIdMap;\n        this.dayWaterMap_waterId_Reference = waterIdMap;\n    }\n}\n</code></pre>\n<p>For extract of the Days with the Related Meals and Waters via the 1-M relationship then a POJO</p>\n<pre><code>class DayWithRelatedMealsAlsoWithRelatedWaters {\n   @Embedded\n   Day day;\n   @Relation(\n           entity = Meal.class,\n           parentColumn = &quot;dayId&quot;,\n           entityColumn = &quot;dayId_Meal_Map&quot;\n   )\n   List&lt;Meal&gt; mealList;\n   @Relation(\n           entity = Water.class,\n           parentColumn = &quot;dayId&quot;,\n           entityColumn = &quot;dayId_Water_Map&quot;\n   )\n   List&lt;Water&gt; waterList;\n}\n</code></pre>\n<p>For the Many-Many, to get the same related data it's POJO (via the mapping table (aka the associative tables))</p>\n<pre><code>class M2MDayWithRelatedMealsAlsoWithRealtedWaters {\n   @Embedded\n   Day day;\n   @Relation(\n           entity = Meal.class,\n           parentColumn = &quot;dayId&quot;,\n           entityColumn = &quot;mealId&quot;,\n           associateBy = @Junction(\n                   value = DayMealMap.class,\n                   parentColumn = &quot;dayMealMap_dayId_Reference&quot;,\n                   entityColumn = &quot;dayMealMap_mealId_Reference&quot;\n           )\n   )\n   List&lt;Meal&gt; mealList;\n   @Relation(\n           entity = Water.class,\n           parentColumn = &quot;dayId&quot;,\n           entityColumn = &quot;waterId&quot;,\n           associateBy = @Junction(\n                   value = DayWaterMap.class,\n                   parentColumn = &quot;dayWaterMap_dayId_Reference&quot;,\n                   entityColumn = &quot;dayWaterMap_waterId_Reference&quot;\n           )\n   )\n   List&lt;Water&gt; waterList;\n\n}\n</code></pre>\n<p>An <code>@Dao</code> annotated abstract class (could be an interface but I prefer an abstract class as it is more flexible (reasons beyond this question))</p>\n<p><strong>AllDao</strong> (i.e. All of the DAO methods in one, for convenience):-</p>\n<pre><code>@Dao\nabstract class AllDao {\n\n    @Insert(onConflict = OnConflictStrategy.IGNORE)\n    abstract long insert(Day day);\n    @Insert(onConflict = OnConflictStrategy.IGNORE)\n    abstract long insert(Meal meal);\n    @Insert(onConflict = OnConflictStrategy.IGNORE)\n    abstract long insert(Water water);\n\n    /* For many-many mapping table inserts */\n    @Insert(onConflict = OnConflictStrategy.IGNORE)\n    abstract long insert(DayMealMap dayMealMap);\n    @Insert(onConflict = OnConflictStrategy.IGNORE)\n    abstract long insert(DayWaterMap dayWaterMap);\n\n    @Transaction\n    @Query(&quot;SELECT * FROM day&quot;)\n    abstract List&lt;DayWithRelatedMealsAlsoWithRelatedWaters&gt; getListOfDaysWithRelatedMealsAndRelatedWaters();\n\n    @Transaction\n    @Query(&quot;SELECT * FROM day&quot;)\n    abstract List&lt;M2MDayWithRelatedMealsAlsoWithRealtedWaters&gt; getM2mListOfDaysWithRelatedMealsAlsoWithRelatedWaters();\n\n}\n</code></pre>\n<ul>\n<li><em>obviously you'd only use the one get..... depending upon how you proceed with the relationship type</em></li>\n</ul>\n<p>Starting to put it all together from a Room perspective the <code>@Database</code> annotated class.</p>\n<pre><code>@Database(\n        entities = {\n                /* Either 1-many or many-many use the 3 core tables */\n                Day.class,\n                Meal.class,\n                Water.class\n                /* for many-many then the 2 mapping tables */\n                , DayMealMap.class\n                , DayWaterMap.class\n        },\n\n        version = 1,\n        exportSchema = false\n)\nabstract class TheDatabase extends RoomDatabase {\n    abstract AllDao getAllDao();\n\n    private volatile static TheDatabase INSTANCE= null;\n\n    public static TheDatabase getINSTANCE(Context context) {\n        if (INSTANCE==null) {\n            INSTANCE = Room.databaseBuilder(context,TheDatabase.class,&quot;the_database.db&quot;)\n                    .allowMainThreadQueries()\n                    .build();\n        }\n        return INSTANCE;\n    }\n}\n</code></pre>\n<ul>\n<li>note <code>.allowMainThreadQueries</code> used for convenience and brevity/clarity.</li>\n</ul>\n<p>Actually using all of the above to add some data and to then extract the data for both types of realtionships:-</p>\n<p><strong>MainActivity</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    TheDatabase mDB;\n    AllDao mDao;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mDB = TheDatabase.getINSTANCE(this);\n        mDao = mDB.getAllDao();\n\n        /* 1-many */\n        long day001Id = mDao.insert(new Day(&quot;2022-07-08&quot;,10.10F));\n        long day002Id = mDao.insert(new Day(&quot;2022-07-09&quot;,11.11F));\n        long day003Id = mDao.insert(new Day(&quot;2022-07-09&quot;,12.12F));\n\n        /* Add some related Meals (1-M) */\n        long m011Id = mDao.insert(new Meal(day001Id,&quot;09:00&quot;));\n        long m012Id = mDao.insert(new Meal(day001Id,&quot;11:00&quot;));\n        long m013Id = mDao.insert(new Meal(day001Id,&quot;13:00&quot;));\n        long m014Id = mDao.insert(new Meal(day001Id,&quot;18:00&quot;));\n        long m015Id = mDao.insert(new Meal(day001Id,&quot;21:00&quot;));\n\n        long m021Id = mDao.insert(new Meal(day002Id,&quot;09:30&quot;));\n        long m022Id = mDao.insert(new Meal(day002Id,&quot;10:15&quot;));\n        long m023Id = mDao.insert(new Meal(day002Id,&quot;12:45&quot;));\n        long m024Id = mDao.insert(new Meal(day002Id,&quot;17:30&quot;));\n        long m025Id = mDao.insert(new Meal(day002Id,&quot;20:30&quot;));\n\n        /* Add some Waters (1-M) */\n        long w011Id = mDao.insert(new Water(day001Id,100.100F));\n        long w012Id = mDao.insert(new Water(day001Id,200.200F));\n\n        long w021Id = mDao.insert(new Water(day002Id, 120.12F));\n        long w022Id = mDao.insert(new Water(day002Id, 220.22F));\n\n\n\n        /* Use the above Days, Meals and Waters to add M2M stuff */\n\n        /* Day 1 just a subset of the 1-m's */\n        mDao.insert(new DayMealMap(day001Id,m011Id));\n        mDao.insert(new DayMealMap(day001Id,m013Id));\n        mDao.insert(new DayMealMap(day001Id,m015Id));\n        /* Day 2 just a subset of 1-m's */\n        mDao.insert(new DayMealMap(day002Id, m022Id));\n        mDao.insert(new DayMealMap(day002Id,m024Id));\n\n        /* Note with 1-M day 3 was empty, this relates existing meals from day 1 and day 2 to day 3 */\n        mDao.insert(new DayMealMap(day003Id,m011Id));\n        mDao.insert(new DayMealMap(day003Id,m021Id));\n\n\n        for (DayWithRelatedMealsAlsoWithRelatedWaters d: mDao.getListOfDaysWithRelatedMealsAndRelatedWaters()) {\n            logADayWithRelatedMealsAndWaters(d,&quot;_1-M&quot;);\n        }\n        for (M2MDayWithRelatedMealsAlsoWithRealtedWaters m: mDao.getM2mListOfDaysWithRelatedMealsAlsoWithRelatedWaters()) {\n            logM2MDayWithRelatedMealsAndWaters(m,&quot;_M-M&quot;);\n        }\n\n    }\n\n    private void logADayWithRelatedMealsAndWaters(DayWithRelatedMealsAlsoWithRelatedWaters dwrmawrw, String suffix) {\n        Log.d(\n                &quot;DAYINFO&quot; + suffix,\n                &quot;Day is &quot; + dwrmawrw.day.date +\n                        &quot; Weight is &quot; + dwrmawrw.day.weight +\n                        &quot; ID is &quot; + dwrmawrw.day.dayId\n                + &quot; The Day has &quot; + dwrmawrw.mealList.size() + &quot; meal(s) &quot;\n                + &quot; and it has &quot; + dwrmawrw.waterList.size() + &quot; water(s).&quot;\n        );\n        for (Meal m: dwrmawrw.mealList) {\n            Log.d(\n                    &quot;DAYINFO&quot; + suffix,\n                    &quot;\\tMeal is &quot; + m.food_meal_time + &quot; it's parent Day has the ID &quot; + m.dayId_Meal_Map\n            );\n        }\n        for (Water w: dwrmawrw.waterList) {\n            Log.d(\n                    &quot;DAYINFO&quot; + suffix,\n                    &quot;\\tWater is &quot; + w.water_ml + &quot; it's parent Day has the ID &quot; + w.dayId_Water_Map\n            );\n        }\n    }\n\n    private void logM2MDayWithRelatedMealsAndWaters(M2MDayWithRelatedMealsAlsoWithRealtedWaters mdwrmawrw, String suffix) {\n        Log.d(\n                &quot;DAYINFO&quot; + suffix,\n                &quot;Day is &quot; + mdwrmawrw.day.date +\n                        &quot; Weight is &quot; + mdwrmawrw.day.weight +\n                        &quot; ID is &quot; + mdwrmawrw.day.dayId\n                        + &quot; The Day has &quot; + mdwrmawrw.mealList.size() + &quot; meal(s) &quot;\n                        + &quot; and it has &quot; + mdwrmawrw.waterList.size() + &quot; water(s).&quot;\n        );\n        for (Meal m: mdwrmawrw.mealList) {\n            Log.d(\n                    &quot;DAYINFO&quot; + suffix,\n                    &quot;\\tMeal is &quot; + m.food_meal_time + &quot; it's parent Day has the ID &quot; + m.dayId_Meal_Map\n            );\n        }\n        for (Water w: mdwrmawrw.waterList) {\n            Log.d(\n                    &quot;DAYINFO&quot; + suffix,\n                    &quot;\\tWater is &quot; + w.water_ml + &quot; it's parent Day has the ID &quot; + w.dayId_Water_Map\n            );\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>note the above is only designed to be run once as a demonstration.</li>\n</ul>\n<p><strong>THE RESULT</strong> (i.e. the output written to the log, with spaces added to split the two types of relationshsips):-</p>\n<pre><code>2022-07-08 12:20:01.522 D/DAYINFO_1-M: Day is 2022-07-08 Weight is 10.1 ID is 1 The Day has 5 meal(s)  and it has 2 water(s).\n2022-07-08 12:20:01.522 D/DAYINFO_1-M:  Meal is 09:00 it's parent Day has the ID 1\n2022-07-08 12:20:01.522 D/DAYINFO_1-M:  Meal is 11:00 it's parent Day has the ID 1\n2022-07-08 12:20:01.522 D/DAYINFO_1-M:  Meal is 13:00 it's parent Day has the ID 1\n2022-07-08 12:20:01.522 D/DAYINFO_1-M:  Meal is 18:00 it's parent Day has the ID 1\n2022-07-08 12:20:01.522 D/DAYINFO_1-M:  Meal is 21:00 it's parent Day has the ID 1\n2022-07-08 12:20:01.522 D/DAYINFO_1-M:  Water is 100.1 it's parent Day has the ID 1\n2022-07-08 12:20:01.523 D/DAYINFO_1-M:  Water is 200.2 it's parent Day has the ID 1\n2022-07-08 12:20:01.523 D/DAYINFO_1-M: Day is 2022-07-09 Weight is 11.11 ID is 2 The Day has 5 meal(s)  and it has 2 water(s).\n2022-07-08 12:20:01.523 D/DAYINFO_1-M:  Meal is 09:30 it's parent Day has the ID 2\n2022-07-08 12:20:01.523 D/DAYINFO_1-M:  Meal is 10:15 it's parent Day has the ID 2\n2022-07-08 12:20:01.523 D/DAYINFO_1-M:  Meal is 12:45 it's parent Day has the ID 2\n2022-07-08 12:20:01.523 D/DAYINFO_1-M:  Meal is 17:30 it's parent Day has the ID 2\n2022-07-08 12:20:01.523 D/DAYINFO_1-M:  Meal is 20:30 it's parent Day has the ID 2\n2022-07-08 12:20:01.523 D/DAYINFO_1-M:  Water is 120.12 it's parent Day has the ID 2\n2022-07-08 12:20:01.523 D/DAYINFO_1-M:  Water is 220.22 it's parent Day has the ID 2\n2022-07-08 12:20:01.523 D/DAYINFO_1-M: Day is 2022-07-09 Weight is 12.12 ID is 3 The Day has 0 meal(s)  and it has 0 water(s).\n\n\n\n2022-07-08 12:20:01.527 D/DAYINFO_M-M: Day is 2022-07-08 Weight is 10.1 ID is 1 The Day has 3 meal(s)  and it has 0 water(s).\n2022-07-08 12:20:01.527 D/DAYINFO_M-M:  Meal is 09:00 it's parent Day has the ID 1\n2022-07-08 12:20:01.527 D/DAYINFO_M-M:  Meal is 13:00 it's parent Day has the ID 1\n2022-07-08 12:20:01.527 D/DAYINFO_M-M:  Meal is 21:00 it's parent Day has the ID 1\n2022-07-08 12:20:01.527 D/DAYINFO_M-M: Day is 2022-07-09 Weight is 11.11 ID is 2 The Day has 2 meal(s)  and it has 0 water(s).\n2022-07-08 12:20:01.527 D/DAYINFO_M-M:  Meal is 10:15 it's parent Day has the ID 2\n2022-07-08 12:20:01.527 D/DAYINFO_M-M:  Meal is 17:30 it's parent Day has the ID 2\n2022-07-08 12:20:01.528 D/DAYINFO_M-M: Day is 2022-07-09 Weight is 12.12 ID is 3 The Day has 2 meal(s)  and it has 0 water(s).\n2022-07-08 12:20:01.528 D/DAYINFO_M-M:  Meal is 09:00 it's parent Day has the ID 1\n2022-07-08 12:20:01.528 D/DAYINFO_M-M:  Meal is 09:30 it's parent Day has the ID 2\n</code></pre>\n<ul>\n<li>As can be seen, the related data is dependant upon relationship type and the data was purposefully applied to highlight the difference.</li>\n</ul>\n"}],"owner":{"display_name":"user18504539"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":589,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72903717,"answer_count":1,"score":3,"last_activity_date":1657268217,"creation_date":1657203457,"question_id":72899456,"body_markdown":"I want to create a database like below. I followed the documentation but couldn&#39;t find any similar examples. Can you help me? There will be days and within these days there will be multiple Daily Meals and Daily Water tables\r\n\r\nA day database will be created as soon as the app is started and then whatever day it is in (can change the dates manually) daily water and daily meals will be added into that day\r\n\r\n```\r\n            &quot;days&quot;:\r\n            [\r\n                {\r\n                    &quot;id&quot;: &quot;Integer&quot;,\r\n                    &quot;date&quot;: &quot;String&quot;,\r\n                    &quot;weight&quot;: &quot;Float&quot;,\r\n                    &quot;height&quot;: &quot;Integer&quot;,\r\n                    &quot;waist_circumference&quot;: &quot;Integer&quot;,\r\n                    &quot;neck_circumference&quot;: &quot;Integer&quot;,\r\n                    &quot;hip_circumference&quot;: &quot;Integer&quot;,\r\n                    &quot;steps&quot;: &quot;Long&quot;,\r\n                    &quot;taken_kcal&quot;: &quot;Float&quot;,\r\n                    &quot;burned_kcal&quot;: &quot;Float&quot;,\r\n                    &quot;carb&quot;: &quot;Float&quot;,\r\n                    &quot;protein&quot;: &quot;Float&quot;,\r\n                    &quot;fat&quot;: &quot;Float&quot;,\r\n                    &quot;water_ml&quot;: &quot;Integer&quot;,\r\n                    &quot;water_percent&quot;: &quot;Float&quot;,\r\n                    &quot;meals&quot;:\r\n                    [\r\n                        {\r\n                            &quot;day_id&quot;: &quot;Integer&quot;,\r\n                            &quot;id&quot;: &quot;Integer&quot;,\r\n                            &quot;food_meal_time&quot;: &quot;String&quot;,\r\n                            &quot;food_name&quot;: &quot;String&quot;,\r\n                            &quot;food_image&quot;: &quot;String&quot;,\r\n                            &quot;food_kcal&quot;: &quot;Float&quot;,\r\n                            &quot;food_portion&quot;: &quot;String&quot;,\r\n                            &quot;food_carb&quot;: &quot;Float&quot;,\r\n                            &quot;food_protein&quot;: &quot;Float&quot;,\r\n                            &quot;food_fat&quot;: &quot;Float&quot;\r\n                        },\r\n                        {\r\n                            &quot;day_id&quot;: &quot;Integer&quot;,\r\n                            &quot;id&quot;: &quot;Integer&quot;,\r\n                            &quot;food_meal_time&quot;: &quot;String&quot;,\r\n                            &quot;food_name&quot;: &quot;String&quot;,\r\n                            &quot;food_image&quot;: &quot;String&quot;,\r\n                            &quot;food_kcal&quot;: &quot;Float&quot;,\r\n                            &quot;food_portion&quot;: &quot;String&quot;,\r\n                            &quot;food_carb&quot;: &quot;Float&quot;,\r\n                            &quot;food_protein&quot;: &quot;Float&quot;,\r\n                            &quot;food_fat&quot;: &quot;Float&quot;\r\n                        }\r\n                    ],\r\n                    &quot;water&quot;:\r\n                    [\r\n                        {\r\n                            &quot;day_id&quot;: &quot;Integer&quot;,\r\n                            &quot;id&quot;: &quot;Integer&quot;,\r\n                            &quot;water_ml&quot;: &quot;Float&quot;,\r\n                            &quot;water_percent&quot;: &quot;Float&quot;,\r\n                            &quot;water_time&quot;: &quot;Long&quot;\r\n                        },\r\n                        {\r\n                            &quot;day_id&quot;: &quot;Integer&quot;,\r\n                            &quot;id&quot;: &quot;Integer&quot;,\r\n                            &quot;water_ml&quot;: &quot;Float&quot;,\r\n                            &quot;water_percent&quot;: &quot;Float&quot;,\r\n                            &quot;water_time&quot;: &quot;Long&quot;\r\n                        },\r\n                        {\r\n                            &quot;day_id&quot;: &quot;Integer&quot;,\r\n                            &quot;id&quot;: &quot;Integer&quot;,\r\n                            &quot;water_ml&quot;: &quot;Float&quot;,\r\n                            &quot;water_percent&quot;: &quot;Float&quot;,\r\n                            &quot;water_time&quot;: &quot;Long&quot;\r\n                        }\r\n                    ]\r\n                }\r\n    ]\r\n\r\n```\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AZBbT.png\r\n  [2]: https://i.stack.imgur.com/qQZz8.png","title":"How can I do Many to Multiple Many relationship in Room Android?","body":"<p>I want to create a database like below. I followed the documentation but couldn't find any similar examples. Can you help me? There will be days and within these days there will be multiple Daily Meals and Daily Water tables</p>\n<p>A day database will be created as soon as the app is started and then whatever day it is in (can change the dates manually) daily water and daily meals will be added into that day</p>\n<pre><code>            &quot;days&quot;:\n            [\n                {\n                    &quot;id&quot;: &quot;Integer&quot;,\n                    &quot;date&quot;: &quot;String&quot;,\n                    &quot;weight&quot;: &quot;Float&quot;,\n                    &quot;height&quot;: &quot;Integer&quot;,\n                    &quot;waist_circumference&quot;: &quot;Integer&quot;,\n                    &quot;neck_circumference&quot;: &quot;Integer&quot;,\n                    &quot;hip_circumference&quot;: &quot;Integer&quot;,\n                    &quot;steps&quot;: &quot;Long&quot;,\n                    &quot;taken_kcal&quot;: &quot;Float&quot;,\n                    &quot;burned_kcal&quot;: &quot;Float&quot;,\n                    &quot;carb&quot;: &quot;Float&quot;,\n                    &quot;protein&quot;: &quot;Float&quot;,\n                    &quot;fat&quot;: &quot;Float&quot;,\n                    &quot;water_ml&quot;: &quot;Integer&quot;,\n                    &quot;water_percent&quot;: &quot;Float&quot;,\n                    &quot;meals&quot;:\n                    [\n                        {\n                            &quot;day_id&quot;: &quot;Integer&quot;,\n                            &quot;id&quot;: &quot;Integer&quot;,\n                            &quot;food_meal_time&quot;: &quot;String&quot;,\n                            &quot;food_name&quot;: &quot;String&quot;,\n                            &quot;food_image&quot;: &quot;String&quot;,\n                            &quot;food_kcal&quot;: &quot;Float&quot;,\n                            &quot;food_portion&quot;: &quot;String&quot;,\n                            &quot;food_carb&quot;: &quot;Float&quot;,\n                            &quot;food_protein&quot;: &quot;Float&quot;,\n                            &quot;food_fat&quot;: &quot;Float&quot;\n                        },\n                        {\n                            &quot;day_id&quot;: &quot;Integer&quot;,\n                            &quot;id&quot;: &quot;Integer&quot;,\n                            &quot;food_meal_time&quot;: &quot;String&quot;,\n                            &quot;food_name&quot;: &quot;String&quot;,\n                            &quot;food_image&quot;: &quot;String&quot;,\n                            &quot;food_kcal&quot;: &quot;Float&quot;,\n                            &quot;food_portion&quot;: &quot;String&quot;,\n                            &quot;food_carb&quot;: &quot;Float&quot;,\n                            &quot;food_protein&quot;: &quot;Float&quot;,\n                            &quot;food_fat&quot;: &quot;Float&quot;\n                        }\n                    ],\n                    &quot;water&quot;:\n                    [\n                        {\n                            &quot;day_id&quot;: &quot;Integer&quot;,\n                            &quot;id&quot;: &quot;Integer&quot;,\n                            &quot;water_ml&quot;: &quot;Float&quot;,\n                            &quot;water_percent&quot;: &quot;Float&quot;,\n                            &quot;water_time&quot;: &quot;Long&quot;\n                        },\n                        {\n                            &quot;day_id&quot;: &quot;Integer&quot;,\n                            &quot;id&quot;: &quot;Integer&quot;,\n                            &quot;water_ml&quot;: &quot;Float&quot;,\n                            &quot;water_percent&quot;: &quot;Float&quot;,\n                            &quot;water_time&quot;: &quot;Long&quot;\n                        },\n                        {\n                            &quot;day_id&quot;: &quot;Integer&quot;,\n                            &quot;id&quot;: &quot;Integer&quot;,\n                            &quot;water_ml&quot;: &quot;Float&quot;,\n                            &quot;water_percent&quot;: &quot;Float&quot;,\n                            &quot;water_time&quot;: &quot;Long&quot;\n                        }\n                    ]\n                }\n    ]\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/AZBbT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AZBbT.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/AZBbT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AZBbT.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/qQZz8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qQZz8.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","oracle","unix"],"owner":{"account_id":25756834,"reputation":1,"user_id":19508359,"display_name":"Roy D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657268142,"creation_date":1657264541,"question_id":72907948,"body_markdown":"I am running loadjava command to load java class to oracle database server from oracle application server.\r\nEx:  loadjava -user abc/abc -verbose -resolve -force abc.java\r\n\r\nafter running command java class loaded to DB but getting below warning message. So will be there any impact of issue if we ignore this ?\r\n\r\nWarning messgae:\r\nJava HotSpot(TM) Server VM warning: You have loaded library ..../lib/libocijdbc10.so which might have disabled stack guard. The VM will try to fix the stack guard now.\r\nIt&#39;s highly recommended that you fix the library with &#39;execstack -c &lt;libfile&gt;&#39;, or link it with &#39;-z noexecstack&#39;.\r\nresolving: source oracle/apps/fnd/security/abc\r\n\r\n-------------------------------------------------------------\r\n\r\nusing: jdk 1.7\r\n","title":"LoadJava giving warning while loading java class to oracle database","body":"<p>I am running loadjava command to load java class to oracle database server from oracle application server.\nEx:  loadjava -user abc/abc -verbose -resolve -force abc.java</p>\n<p>after running command java class loaded to DB but getting below warning message. So will be there any impact of issue if we ignore this ?</p>\n<p>Warning messgae:\nJava HotSpot(TM) Server VM warning: You have loaded library ..../lib/libocijdbc10.so which might have disabled stack guard. The VM will try to fix the stack guard now.\nIt's highly recommended that you fix the library with 'execstack -c ', or link it with '-z noexecstack'.\nresolving: source oracle/apps/fnd/security/abc</p>\n<hr />\n<p>using: jdk 1.7</p>\n"},{"tags":["java","javafx","styling","hbox"],"answers":[{"tags":[],"owner":{"account_id":18045251,"reputation":61,"user_id":13116421,"display_name":"Mackem2020"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657267557,"creation_date":1657206960,"answer_id":72900354,"question_id":72899212,"body_markdown":"So I managed to solve it. There was a small error on my part: I should have encapsulated them into a `Vbox` like so: \r\n\r\n    VBox vbox = new VBox(); \r\n    vbox.getChildren().addAll(hbox1, hbox2); \r\n    tabEnc.setContent(vbox); ","title":"JavaFX: Error when adding multiple Hboxes to content in tab","body":"<p>So I managed to solve it. There was a small error on my part: I should have encapsulated them into a <code>Vbox</code> like so:</p>\n<pre><code>VBox vbox = new VBox(); \nvbox.getChildren().addAll(hbox1, hbox2); \ntabEnc.setContent(vbox); \n</code></pre>\n"}],"owner":{"account_id":18045251,"reputation":61,"user_id":13116421,"display_name":"Mackem2020"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1657267557,"creation_date":1657202516,"question_id":72899212,"body_markdown":"I am trying to create a JavaFX application for file encryption I am fairly new to JavaFX so I am still learning the ropes. My issue at the moment is that I need to add Hbox1 and HBox2 to the content in the tab called tabEnc. At the moment I am getting an error &quot;Children: cycle detected&quot; which from what I understand is that a circular dependency is being created. I have tried numerous times to fix it but maybe I am overlooking something, any help would be greatly appreciated. \r\n\r\n**The error that comes up is as follows:**\r\n&lt;br&gt;&lt;/br&gt;\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.IllegalArgumentException: Children: cycle detected: parent = TabPane@6f5ca7e2[styleClass=tab-pane], node = TabPaneSkin$TabContentRegion@2d7c1f31[styleClass=tab-content-area]\r\n\r\nEssentially where the red line is in the below screenshot I would like the label there to be &quot;Select File&quot; which is contained in a different Hbox to that of the text field and buttons below it as they should be contained in another Hbox. \r\n\r\nIf my question is missing anything please let me know and I will amend it accordingly. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TrpUy.png\r\n\r\nMain.java\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.image.Image;\r\n    import javafx.stage.Stage;\r\n    import java.security.Security;\r\n    \r\n    public class Main extends Application {\r\n    \r\n        private Style clientStyle = new Style();\r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n    \r\n            primaryStage.setScene(clientStyle.getScene());\r\n            primaryStage.setTitle(&quot;NTH Secure&quot;);\r\n            primaryStage.getIcons().add(new Image((&quot;styles/lock.png&quot;)));\r\n            primaryStage.setResizable(false);\r\n            primaryStage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n\r\nStyle.java\r\n\r\n\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.*;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.scene.layout.HBox;\r\n    \r\n    \r\n    // A class containing the UI elements of the program\r\n    public class Style {\r\n        private Scene scene;\r\n        private TabPane tabPane;\r\n        private String dir = System.getProperty(&quot;user.dir&quot;)+&quot;/testFiles&quot;;\r\n    \r\n        public Style(){\r\n    \r\n            BorderPane root = new BorderPane();\r\n            scene = new Scene(root, 500, 300);\r\n            scene.getStylesheets().add(getClass().getResource(&quot;styles/application.css&quot;).toExternalForm());\r\n            tabPane = new TabPane();\r\n            root.setCenter(tabPane);\r\n    \r\n    \r\n            //Tab for encryption\r\n            Tab tabEnc = new Tab(&quot;Encrypt&quot;);\r\n            tabEnc.setClosable(false);\r\n            //PasswordField passwordTxt = new PasswordField();\r\n            Label selectLabel = new Label(&quot;Select File&quot;);\r\n            HBox hbox1 = new HBox(selectLabel);\r\n            hbox1.setPadding(new Insets(20, 20, 20, 20));\r\n            hbox1.setSpacing(10);\r\n    \r\n            TextField fileLabel = new TextField(&quot;&quot;);\r\n            fileLabel.setEditable(false);\r\n            Button buttonFile = new Button(&quot;Select&quot;);\r\n            Button buttonClear = new Button(&quot;Clear&quot;);\r\n            buttonClear.setPrefWidth(70);\r\n            buttonFile.setPrefWidth(80);\r\n            fileLabel.setPrefWidth(350);\r\n            HBox hbox2 = new HBox(fileLabel, buttonFile, buttonClear);\r\n            hbox2.setPadding(new Insets(20, 20, 20, 20));\r\n            hbox2.setSpacing(10);\r\n            root.getChildren().addAll(hbox1, hbox2);\r\n            tabEnc.setContent(root);\r\n    \r\n            //Tab for decryption\r\n            Tab tabDec = new Tab(&quot;Decrypt&quot;);\r\n            tabDec.setClosable(false);\r\n    \r\n            //Tab for information\r\n            Tab tabInf = new Tab(&quot;About&quot;);\r\n            tabInf.setClosable(false);\r\n    \r\n            tabPane.getTabs().addAll(tabEnc, tabDec, tabInf);\r\n    \r\n        }\r\n    \r\n        public Scene getScene(){\r\n            return this.scene;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n","title":"JavaFX: Error when adding multiple Hboxes to content in tab","body":"<p>I am trying to create a JavaFX application for file encryption I am fairly new to JavaFX so I am still learning the ropes. My issue at the moment is that I need to add Hbox1 and HBox2 to the content in the tab called tabEnc. At the moment I am getting an error &quot;Children: cycle detected&quot; which from what I understand is that a circular dependency is being created. I have tried numerous times to fix it but maybe I am overlooking something, any help would be greatly appreciated.</p>\n<p><strong>The error that comes up is as follows:</strong>\n<br>\nException in thread &quot;JavaFX Application Thread&quot; java.lang.IllegalArgumentException: Children: cycle detected: parent = TabPane@6f5ca7e2[styleClass=tab-pane], node = TabPaneSkin$TabContentRegion@2d7c1f31[styleClass=tab-content-area]</p>\n<p>Essentially where the red line is in the below screenshot I would like the label there to be &quot;Select File&quot; which is contained in a different Hbox to that of the text field and buttons below it as they should be contained in another Hbox.</p>\n<p>If my question is missing anything please let me know and I will amend it accordingly.</p>\n<p><a href=\"https://i.stack.imgur.com/TrpUy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TrpUy.png\" alt=\"enter image description here\" /></a></p>\n<p>Main.java</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.image.Image;\nimport javafx.stage.Stage;\nimport java.security.Security;\n\npublic class Main extends Application {\n\n    private Style clientStyle = new Style();\n    @Override\n    public void start(Stage primaryStage) {\n\n        primaryStage.setScene(clientStyle.getScene());\n        primaryStage.setTitle(&quot;NTH Secure&quot;);\n        primaryStage.getIcons().add(new Image((&quot;styles/lock.png&quot;)));\n        primaryStage.setResizable(false);\n        primaryStage.show();\n    }\n\n    public static void main(String[] args) {\n        Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\n        launch(args);\n    }\n}\n</code></pre>\n<p>Style.java</p>\n<pre><code>import javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.HBox;\n\n\n// A class containing the UI elements of the program\npublic class Style {\n    private Scene scene;\n    private TabPane tabPane;\n    private String dir = System.getProperty(&quot;user.dir&quot;)+&quot;/testFiles&quot;;\n\n    public Style(){\n\n        BorderPane root = new BorderPane();\n        scene = new Scene(root, 500, 300);\n        scene.getStylesheets().add(getClass().getResource(&quot;styles/application.css&quot;).toExternalForm());\n        tabPane = new TabPane();\n        root.setCenter(tabPane);\n\n\n        //Tab for encryption\n        Tab tabEnc = new Tab(&quot;Encrypt&quot;);\n        tabEnc.setClosable(false);\n        //PasswordField passwordTxt = new PasswordField();\n        Label selectLabel = new Label(&quot;Select File&quot;);\n        HBox hbox1 = new HBox(selectLabel);\n        hbox1.setPadding(new Insets(20, 20, 20, 20));\n        hbox1.setSpacing(10);\n\n        TextField fileLabel = new TextField(&quot;&quot;);\n        fileLabel.setEditable(false);\n        Button buttonFile = new Button(&quot;Select&quot;);\n        Button buttonClear = new Button(&quot;Clear&quot;);\n        buttonClear.setPrefWidth(70);\n        buttonFile.setPrefWidth(80);\n        fileLabel.setPrefWidth(350);\n        HBox hbox2 = new HBox(fileLabel, buttonFile, buttonClear);\n        hbox2.setPadding(new Insets(20, 20, 20, 20));\n        hbox2.setSpacing(10);\n        root.getChildren().addAll(hbox1, hbox2);\n        tabEnc.setContent(root);\n\n        //Tab for decryption\n        Tab tabDec = new Tab(&quot;Decrypt&quot;);\n        tabDec.setClosable(false);\n\n        //Tab for information\n        Tab tabInf = new Tab(&quot;About&quot;);\n        tabInf.setClosable(false);\n\n        tabPane.getTabs().addAll(tabEnc, tabDec, tabInf);\n\n    }\n\n    public Scene getScene(){\n        return this.scene;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","jar","inputstream"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1483139301,"post_id":4696013,"comment_id":70010216,"body_markdown":"You&#39;re not closing the Reader.","body":"You&#39;re not closing the Reader."}],"answers":[{"tags":[],"owner":{"account_id":109369,"reputation":3006,"user_id":289827,"accept_rate":47,"display_name":"Martin Ždila"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1295039967,"creation_date":1295039967,"answer_id":4696073,"question_id":4696013,"body_markdown":"This can be bug in the Java. I had a similar problem, described here: https://issues.apache.org/jira/browse/FELIX-1032\r\n\r\nIs your application running with some special class loader settings?","title":"java.lang.NullPointerException: Inflater has been closed On InputStreamReader","body":"<p>This can be bug in the Java. I had a similar problem, described here: <a href=\"https://issues.apache.org/jira/browse/FELIX-1032\" rel=\"nofollow\">https://issues.apache.org/jira/browse/FELIX-1032</a></p>\n\n<p>Is your application running with some special class loader settings?</p>\n"},{"tags":[],"owner":{"account_id":267568,"reputation":929,"user_id":555830,"display_name":"Penkov Vladimir"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1295040061,"creation_date":1295040061,"answer_id":4696086,"question_id":4696013,"body_markdown":"loading resource from project means that you do not deal with zip (jar is zip), so InputStreamReader resolves to file you want to read.\r\n\r\nMy guess is that InputStreamReader resolves to null or wrong file when dealing with jar. Log vars to be asure","title":"java.lang.NullPointerException: Inflater has been closed On InputStreamReader","body":"<p>loading resource from project means that you do not deal with zip (jar is zip), so InputStreamReader resolves to file you want to read.</p>\n\n<p>My guess is that InputStreamReader resolves to null or wrong file when dealing with jar. Log vars to be asure</p>\n"}],"owner":{"account_id":695884,"reputation":61,"user_id":576215,"display_name":"Yhonny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8415,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1657267448,"creation_date":1295039610,"question_id":4696013,"body_markdown":"I have the following problem:\r\n\r\nWhen I load the resource from the project all works fine, but when I put it on a .jar and try to load I get an exception.\r\n\r\nThe code is:\r\n    \r\n    InputStreamReader reader =\r\n        new InputStreamReader(\r\n            this.getClass().getResource(fileName).openStream())  \r\n    CsvReader stream = new CsvReader(reader);  \r\n    try {  \r\n        while (stream.readRecord()) {  \r\n            line = stream.getRawRecord();  \r\n            //DO SOMETHING...  \r\n        }  \r\n    }catch (Exception e) {  \r\n        System.err.println(e.getMessage());  \r\n        e.printStackTrace();  \r\n    } finally {  \r\n        stream.close();  \r\n    }\r\n    \r\nAnd the stackTrace is:\r\n    \r\n        Inflater has been closed java.lang.NullPointerException: Inflater has been closed\r\n     at java.util.zip.Inflater.ensureOpen(Inflater.java:364)\r\n     at java.util.zip.Inflater.inflate(Inflater.java:237)\r\n     at java.util.zip.InflaterInputStream.read(InflaterInputStream.java:135)\r\n     at java.io.FilterInputStream.read(FilterInputStream.java:116)\r\n     at sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:264)\r\n     at sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:306)\r\n     at sun.nio.cs.StreamDecoder.read(StreamDecoder.java:158)\r\n     at java.io.InputStreamReader.read(InputStreamReader.java:167)\r\n     at utils.csvreader.CsvReader.checkDataLength(CsvReader.java:1198)\r\n     at utils.csvreader.CsvReader.readRecord(CsvReader.java:604)\r\n\r\nThe problem happens on `stream.getRawRecord()`. I also tried with BufferedReader with same result on `readLine();`\r\n\r\nAny ideas?","title":"java.lang.NullPointerException: Inflater has been closed On InputStreamReader","body":"<p>I have the following problem:</p>\n\n<p>When I load the resource from the project all works fine, but when I put it on a .jar and try to load I get an exception.</p>\n\n<p>The code is:</p>\n\n<pre><code>InputStreamReader reader =\n    new InputStreamReader(\n        this.getClass().getResource(fileName).openStream())  \nCsvReader stream = new CsvReader(reader);  \ntry {  \n    while (stream.readRecord()) {  \n        line = stream.getRawRecord();  \n        //DO SOMETHING...  \n    }  \n}catch (Exception e) {  \n    System.err.println(e.getMessage());  \n    e.printStackTrace();  \n} finally {  \n    stream.close();  \n}\n</code></pre>\n\n<p>And the stackTrace is:</p>\n\n<pre><code>    Inflater has been closed java.lang.NullPointerException: Inflater has been closed\n at java.util.zip.Inflater.ensureOpen(Inflater.java:364)\n at java.util.zip.Inflater.inflate(Inflater.java:237)\n at java.util.zip.InflaterInputStream.read(InflaterInputStream.java:135)\n at java.io.FilterInputStream.read(FilterInputStream.java:116)\n at sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:264)\n at sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:306)\n at sun.nio.cs.StreamDecoder.read(StreamDecoder.java:158)\n at java.io.InputStreamReader.read(InputStreamReader.java:167)\n at utils.csvreader.CsvReader.checkDataLength(CsvReader.java:1198)\n at utils.csvreader.CsvReader.readRecord(CsvReader.java:604)\n</code></pre>\n\n<p>The problem happens on <code>stream.getRawRecord()</code>. I also tried with BufferedReader with same result on <code>readLine();</code></p>\n\n<p>Any ideas?</p>\n"},{"tags":["java","android","android-studio","deep-linking"],"comments":[{"owner":{"account_id":16379948,"reputation":788,"user_id":11831226,"display_name":"Hossein Asadi"},"score":0,"creation_date":1657264694,"post_id":72907935,"comment_id":128774054,"body_markdown":"Have you done manifest configuration? or do you know deep link how does it work?","body":"Have you done manifest configuration? or do you know deep link how does it work?"},{"owner":{"account_id":18625675,"reputation":624,"user_id":13574850,"display_name":"Mukul Kumar"},"score":0,"creation_date":1657265189,"post_id":72907935,"comment_id":128774177,"body_markdown":"@HosseinAsadi I have added my current manifest config. Can you please let me know if I have missed anything necessary there?","body":"@HosseinAsadi I have added my current manifest config. Can you please let me know if I have missed anything necessary there?"},{"owner":{"account_id":16379948,"reputation":788,"user_id":11831226,"display_name":"Hossein Asadi"},"score":0,"creation_date":1657269149,"post_id":72907935,"comment_id":128775355,"body_markdown":"see my below answer, you must first config deep link into manifest","body":"see my below answer, you must first config deep link into manifest"}],"owner":{"account_id":18625675,"reputation":624,"user_id":13574850,"display_name":"Mukul Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657267325,"creation_date":1657264452,"question_id":72907935,"body_markdown":"I have created a publisher app where I render ad-related tags. The ad that I render generally has clickThrough URLs like https://youtube.com or https://facebook.com. \r\n\r\nWhen I click on my ad I want these links to open in-app instead of the browser.(On directly clicking these links as text, it is opening in-app)\r\nDo I need to add any type of code for making this happen because I am in the idea that it should happen automatically?\r\n\r\nI am new to android, so please let me know if you need any more details for better understanding in the comments.  \r\n\r\n**Edit** - Adding **AndroidManifest.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n              xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n              package=&quot;com.iab.omid.sampleapp&quot;&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;application\r\n    \r\n            android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\r\n            android:name=&quot;.AdApplication&quot;\r\n            android:allowBackup=&quot;false&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;\r\n            tools:ignore=&quot;GoogleAppIndexingWarning&quot;&gt;\r\n            &lt;activity\r\n                android:name=&quot;.AdListActivity&quot;\r\n                android:label=&quot;@string/app_name&quot;\r\n                android:theme=&quot;@style/AppTheme.NoActionBar&quot;\r\n                android:exported=&quot;true&quot; &gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n                &lt;/intent-filter&gt;\r\n                \r\n            &lt;/activity&gt;\r\n            &lt;activity\r\n                android:name=&quot;.AdDetailActivity&quot;\r\n                android:label=&quot;@string/title_ad_detail&quot;\r\n                android:parentActivityName=&quot;.AdListActivity&quot;\r\n                android:theme=&quot;@style/AppTheme.NoActionBar&quot;\r\n                android:exported=&quot;false&quot;&gt;\r\n                &lt;meta-data\r\n                    android:name=&quot;android.support.PARENT_ACTIVITY&quot;\r\n                    android:value=&quot;com.iab.omid.sampleapp.AdListActivity&quot;/&gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity android:name=&quot;com.squareup.leakcanary.internal.DisplayLeakActivity&quot;\r\n                android:exported=&quot;true&quot;/&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;","title":"Deep linking not working in publisher App","body":"<p>I have created a publisher app where I render ad-related tags. The ad that I render generally has clickThrough URLs like <a href=\"https://youtube.com\" rel=\"nofollow noreferrer\">https://youtube.com</a> or <a href=\"https://facebook.com\" rel=\"nofollow noreferrer\">https://facebook.com</a>.</p>\n<p>When I click on my ad I want these links to open in-app instead of the browser.(On directly clicking these links as text, it is opening in-app)\nDo I need to add any type of code for making this happen because I am in the idea that it should happen automatically?</p>\n<p>I am new to android, so please let me know if you need any more details for better understanding in the comments.</p>\n<p><strong>Edit</strong> - Adding <strong>AndroidManifest.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n          xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n          package=&quot;com.iab.omid.sampleapp&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;application\n\n        android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\n        android:name=&quot;.AdApplication&quot;\n        android:allowBackup=&quot;false&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;\n        tools:ignore=&quot;GoogleAppIndexingWarning&quot;&gt;\n        &lt;activity\n            android:name=&quot;.AdListActivity&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:theme=&quot;@style/AppTheme.NoActionBar&quot;\n            android:exported=&quot;true&quot; &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n            &lt;/intent-filter&gt;\n            \n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;.AdDetailActivity&quot;\n            android:label=&quot;@string/title_ad_detail&quot;\n            android:parentActivityName=&quot;.AdListActivity&quot;\n            android:theme=&quot;@style/AppTheme.NoActionBar&quot;\n            android:exported=&quot;false&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.PARENT_ACTIVITY&quot;\n                android:value=&quot;com.iab.omid.sampleapp.AdListActivity&quot;/&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=&quot;com.squareup.leakcanary.internal.DisplayLeakActivity&quot;\n            android:exported=&quot;true&quot;/&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","datetime","templates","time","freemarker"],"comments":[{"owner":{"account_id":2916810,"reputation":597,"user_id":2499808,"display_name":"kfc"},"score":0,"creation_date":1564082276,"post_id":57195272,"comment_id":100924107,"body_markdown":"try this:\n\t\tLocalDateTime dateTime = LocalDateTime.parse(&quot;2019-04-21T08:23:27&quot;);\n\t\tZonedDateTime zonedDateTime = ZonedDateTime.parse(&quot;2015-05-05T10:15:30+01:00[Europe/Paris]&quot;);\n\t\tint h = dateTime.getHour();\n\t\tint m = dateTime.getMinute();\n\t\tint s = dateTime.getSecond();\n\t\tSystem.out.println(&quot;&quot; +h +&quot;:&quot; + m +&quot;:&quot;+s);\n\t\th = zonedDateTime.getHour();\n\t\tm = zonedDateTime.getMinute();\n\t\ts = zonedDateTime.getSecond();\n\t\tSystem.out.println(&quot;&quot; +h +&quot;:&quot; + m +&quot;:&quot;+s +&quot;,Zone:&quot; + zonedDateTime.getZone());\n\noutput: 8:23:27\n10:15:30,Zone:Europe/Paris","body":"try this: \t\tLocalDateTime dateTime = LocalDateTime.parse(&quot;2019-04-21T08:23:27&quot;); \t\tZonedDateTime zonedDateTime = ZonedDateTime.parse(&quot;2015-05-05T10:15:30+01:00[Europe/Paris]&zwnj;&#8203;&quot;); \t\tint h = dateTime.getHour(); \t\tint m = dateTime.getMinute(); \t\tint s = dateTime.getSecond(); \t\tSystem.out.println(&quot;&quot; +h +&quot;:&quot; + m +&quot;:&quot;+s); \t\th = zonedDateTime.getHour(); \t\tm = zonedDateTime.getMinute(); \t\ts = zonedDateTime.getSecond(); \t\tSystem.out.println(&quot;&quot; +h +&quot;:&quot; + m +&quot;:&quot;+s +&quot;,Zone:&quot; + zonedDateTime.getZone());  output: 8:23:27 10:15:30,Zone:Europe/Paris"},{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":0,"creation_date":1564167731,"post_id":57195272,"comment_id":100955747,"body_markdown":"Possible duplicate of https://stackoverflow.com/questions/56985317/how-to-display-date-time-as-local-time-without-the-timezone-at-the-end?noredirect=1#comment100575190_56985317","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/56985317/how-to-display-date-time-as-local-time-without-the-timezone-at-the-end?noredirect=1#comment100575190_56985317\" title=\"how to display date time as local time without the timezone at the end\">stackoverflow.com/questions/56985317/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":413454,"reputation":722,"user_id":787106,"display_name":"Jakob Vad Nielsen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657267182,"creation_date":1657267182,"answer_id":72908381,"question_id":57195272,"body_markdown":"This can also be handled with the Freemarker-Java8 package: https://github.com/lazee/freemarker-java-8\r\n\r\n\r\n    ${myzoneddatetime.format(&#39;HH:mm a&#39;)}\r\n\r\n","title":"How to convert date time string with zone offset to local time in freemarker?","body":"<p>This can also be handled with the Freemarker-Java8 package: <a href=\"https://github.com/lazee/freemarker-java-8\" rel=\"nofollow noreferrer\">https://github.com/lazee/freemarker-java-8</a></p>\n<pre><code>${myzoneddatetime.format('HH:mm a')}\n</code></pre>\n"}],"owner":{"account_id":2700422,"reputation":45,"user_id":2331262,"display_name":"user2331262"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1657267182,"creation_date":1564034528,"question_id":57195272,"body_markdown":"I have a date time string in FreeMarker template with zone offset. The format of the string is &quot;2019-04-21T08:23:27-07:00&quot;. How can I get the time &quot;8:23 AM&quot; from this string?.\r\n\r\n```\r\nSamples: \r\nHere is the output I am expecting from following inputs:\r\n   Input                               Output            \r\n1) &quot;2019-04-21T08:23:27-07:00&quot;         &quot;8:23 AM&quot;\r\n2) &quot;2019-01-17T11:23:27+03:00&quot;         &quot;11:23 AM&quot;\r\n3) &quot;2019-04-21T21:48:27+00:00&quot;         &quot;9:48 PM&quot;\r\n4) &quot;2019-03-18T15:48:27-05:30&quot;         &quot;3:48 PM&quot;\r\n```\r\nHere are the things so far I have tried :\r\n```\r\n1) myTimeString?datetime?time?string.short.  -&gt; Changes the time.\r\n2) myTimeString?datetime.iso?time?string.short.  -&gt; Changes the time.\r\n3) myTimeString?datetime?iso_local?time?string.short.  -&gt; Changes the time.\r\n4) myTimeString?datetime?iso_utc?time?string.short.  -&gt; Changes the time.\r\n```\r\n\r\n\r\nJava solutions are also fine.","title":"How to convert date time string with zone offset to local time in freemarker?","body":"<p>I have a date time string in FreeMarker template with zone offset. The format of the string is \"2019-04-21T08:23:27-07:00\". How can I get the time \"8:23 AM\" from this string?.</p>\n\n<pre><code>Samples: \nHere is the output I am expecting from following inputs:\n   Input                               Output            \n1) \"2019-04-21T08:23:27-07:00\"         \"8:23 AM\"\n2) \"2019-01-17T11:23:27+03:00\"         \"11:23 AM\"\n3) \"2019-04-21T21:48:27+00:00\"         \"9:48 PM\"\n4) \"2019-03-18T15:48:27-05:30\"         \"3:48 PM\"\n</code></pre>\n\n<p>Here are the things so far I have tried :</p>\n\n<pre><code>1) myTimeString?datetime?time?string.short.  -&gt; Changes the time.\n2) myTimeString?datetime.iso?time?string.short.  -&gt; Changes the time.\n3) myTimeString?datetime?iso_local?time?string.short.  -&gt; Changes the time.\n4) myTimeString?datetime?iso_utc?time?string.short.  -&gt; Changes the time.\n</code></pre>\n\n<p>Java solutions are also fine.</p>\n"},{"tags":["java","static","static-variables"],"comments":[{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":1,"creation_date":1402628806,"post_id":24197062,"comment_id":37356467,"body_markdown":"&quot;local&quot; and &quot;static&quot; are somewhat contradictory... But in any case, what&#39;s wrong with just having a regular instance variable or something and just not accessing it from other methods?","body":"&quot;local&quot; and &quot;static&quot; are somewhat contradictory... But in any case, what&#39;s wrong with just having a regular instance variable or something and just not accessing it from other methods?"},{"owner":{"account_id":2734060,"reputation":263882,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":0,"creation_date":1402628877,"post_id":24197062,"comment_id":37356480,"body_markdown":"&quot;I donot want the other methods in my class to access the variable&quot; - then don&#39;t have them access the variable. Problem solved. Access modifiers within a class would be overkill.","body":"&quot;I donot want the other methods in my class to access the variable&quot; - then don&#39;t have them access the variable. Problem solved. Access modifiers within a class would be overkill."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1402629785,"post_id":24197062,"comment_id":37356689,"body_markdown":"yes, the answer http://stackoverflow.com/a/12274406/217324 to that question has the right answer: use object instances to maintain state.","body":"yes, the answer <a href=\"http://stackoverflow.com/a/12274406/217324\">stackoverflow.com/a/12274406/217324</a> to that question has the right answer: use object instances to maintain state."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1402628949,"creation_date":1402628949,"answer_id":24197089,"question_id":24197062,"body_markdown":"I don&#39;t think there is any way to achieve this.  Java does not support &#39;local static&#39; a la C, and there is no way to retrofit this while still keeping your sourcecode &quot;real Java&quot;&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\n&gt; I donot want the other methods in my class to access the variable, but it should retain the value across the invocations of the method.\r\n\r\nThe best thing would be to make it an ordinary (private) static, and then just don&#39;t access it from other methods.  The last bit should be easy ... &#39;cos you are writing the class.\r\n\r\n--------------\r\n\r\n&lt;sup&gt;1 - I suppose you could hack something together that involves preprocessing your code, but that will make all sorts of other things unpleasant.  My advice is don&#39;t go there: it is not worth the pain.&lt;/sup&gt;","title":"Local static variables and Java","body":"<p>I don't think there is any way to achieve this.  Java does not support 'local static' a la C, and there is no way to retrofit this while still keeping your sourcecode \"real Java\"<sup>1</sup>.</p>\n\n<blockquote>\n  <p>I donot want the other methods in my class to access the variable, but it should retain the value across the invocations of the method.</p>\n</blockquote>\n\n<p>The best thing would be to make it an ordinary (private) static, and then just don't access it from other methods.  The last bit should be easy ... 'cos you are writing the class.</p>\n\n<hr>\n\n<p><sup>1 - I suppose you could hack something together that involves preprocessing your code, but that will make all sorts of other things unpleasant.  My advice is don't go there: it is not worth the pain.</sup></p>\n"},{"tags":[],"owner":{"account_id":3920887,"reputation":1301,"user_id":3243080,"accept_rate":91,"display_name":"Dean Leitersdorf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402630151,"creation_date":1402630151,"answer_id":24197231,"question_id":24197062,"body_markdown":"In theory, yes - but not in conventional manners.\n\nWhat I would do to create this:\n\n1. Create that Object in a totally different class, under the private modifier, with no ability to be accessed directly.\n\n2. Use a debugging tool, such as the JDI to find that variable in the other class, get it&#39;s ObjectReference and manipulate directly or create a new variable which references to that object, and use that variable, which references to the object, in your method.\n\n\nThis is quite complicated, as using the JDI is tough, and you would need to run your program on 2 processes. \nIf you want to do this, I suggest looking into the JDI, but my honest answer would be to look for another solution.","title":"Local static variables and Java","body":"<p>In theory, yes - but not in conventional manners.</p>\n\n<p>What I would do to create this:</p>\n\n<ol>\n<li><p>Create that Object in a totally different class, under the private modifier, with no ability to be accessed directly.</p></li>\n<li><p>Use a debugging tool, such as the JDI to find that variable in the other class, get it's ObjectReference and manipulate directly or create a new variable which references to that object, and use that variable, which references to the object, in your method.</p></li>\n</ol>\n\n<p>This is quite complicated, as using the JDI is tough, and you would need to run your program on 2 processes. \nIf you want to do this, I suggest looking into the JDI, but my honest answer would be to look for another solution.</p>\n"},{"tags":[],"owner":{"account_id":76896,"reputation":2532,"user_id":219837,"accept_rate":66,"display_name":"dacongy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402630221,"creation_date":1402630221,"answer_id":24197249,"question_id":24197062,"body_markdown":"What you want is the ability to constraint intermediate computation results within the relevant method itself. To achieve this, you can refer to the following code example. Suppose you want to maintain a *static* variable `i` across multiple calls of `m()`. Instead of having such a static variable, which is not feasible for Java, you can encapsulate variable `i` into a field of a class `A` visible only to `m()`, create a method `f()`, and move all your code for `m()` into `f()`. You can copy, compile, and run the following code, and see how it works.\r\n\r\n\r\n    public class S {\r\n      public void m() {\r\n        class A {\r\n          int i;\r\n\r\n          void f() {\r\n            System.out.println(i++);\r\n          }\r\n        }\r\n        A a = new A();\r\n        a.f();\r\n        a.f();\r\n        a.f();\r\n      }\r\n      public static void main(String[] args) {\r\n        S s = new S();\r\n        s.m();\r\n      }\r\n    }","title":"Local static variables and Java","body":"<p>What you want is the ability to constraint intermediate computation results within the relevant method itself. To achieve this, you can refer to the following code example. Suppose you want to maintain a <em>static</em> variable <code>i</code> across multiple calls of <code>m()</code>. Instead of having such a static variable, which is not feasible for Java, you can encapsulate variable <code>i</code> into a field of a class <code>A</code> visible only to <code>m()</code>, create a method <code>f()</code>, and move all your code for <code>m()</code> into <code>f()</code>. You can copy, compile, and run the following code, and see how it works.</p>\n\n<pre><code>public class S {\n  public void m() {\n    class A {\n      int i;\n\n      void f() {\n        System.out.println(i++);\n      }\n    }\n    A a = new A();\n    a.f();\n    a.f();\n    a.f();\n  }\n  public static void main(String[] args) {\n    S s = new S();\n    s.m();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2009857,"reputation":25959,"user_id":1798593,"display_name":"Patricia Shanahan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1402631417,"creation_date":1402631417,"answer_id":24197407,"question_id":24197062,"body_markdown":"Rather than trying to actually protect the variable, making the code more obscure and complicated, consider logical protection by comment and placement. I declare normal fields at the start of the class, but a field that should only be accessed from one method just before that method. Include a comment saying it should only be used in the one method:\r\n\r\n    // i should be used only in f\r\n    private int i;\r\n    /**\r\n    * Documentation for f().\r\n    */\r\n    public void f(){\r\n        System.out.println(i++);\r\n    }","title":"Local static variables and Java","body":"<p>Rather than trying to actually protect the variable, making the code more obscure and complicated, consider logical protection by comment and placement. I declare normal fields at the start of the class, but a field that should only be accessed from one method just before that method. Include a comment saying it should only be used in the one method:</p>\n\n<pre><code>// i should be used only in f\nprivate int i;\n/**\n* Documentation for f().\n*/\npublic void f(){\n    System.out.println(i++);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20269550,"reputation":206,"user_id":14866016,"display_name":"RedCrafter LP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657266851,"creation_date":1657266851,"answer_id":72908326,"question_id":24197062,"body_markdown":"Based on dacongy&#39;s idea of using a method local class I created a simple solution:\r\n```\r\npublic class Main {\r\n   public static String m() {\r\n      class Statics {\r\n         static String staticString;\r\n      }\r\n      if (Statics.staticString == null)\r\n         Statics.staticString = &quot;My lazy static method local variable&quot;;\r\n      return Statics.staticString;\r\n   }\r\n\r\n}\r\n```","title":"Local static variables and Java","body":"<p>Based on dacongy's idea of using a method local class I created a simple solution:</p>\n<pre><code>public class Main {\n   public static String m() {\n      class Statics {\n         static String staticString;\n      }\n      if (Statics.staticString == null)\n         Statics.staticString = &quot;My lazy static method local variable&quot;;\n      return Statics.staticString;\n   }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1226875,"reputation":135,"user_id":1192262,"accept_rate":40,"display_name":"Lakshmikantha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1657266851,"creation_date":1402628720,"question_id":24197062,"body_markdown":"I was wondering how to achieve the local static variable in java. I know Java wount support it. But what is the better way to achieve the same? I donot want the other methods in my class to access the variable, but it should retain the value across the invocations of the method.\r\n\r\nCan somebody please let me know.","title":"Local static variables and Java","body":"<p>I was wondering how to achieve the local static variable in java. I know Java wount support it. But what is the better way to achieve the same? I donot want the other methods in my class to access the variable, but it should retain the value across the invocations of the method.</p>\n\n<p>Can somebody please let me know.</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1657257983,"post_id":72906994,"comment_id":128772564,"body_markdown":"You could add an extra call to `filter` before your intended filter. Like this:  `.filter( Objects :: nonNull ).filter( … your predicate here … )`","body":"You could add an extra call to <code>filter</code> before your intended filter. Like this:  <code>.filter( Objects :: nonNull ).filter( … your predicate here … )</code>"},{"owner":{"account_id":9148063,"reputation":190,"user_id":6803498,"accept_rate":100,"display_name":"Ben Kosten"},"score":1,"creation_date":1657258145,"post_id":72906994,"comment_id":128772596,"body_markdown":"Use a ternary statement maybe? something like `requestParam1 != null ? predicate_when_not_null : predicate_when_null` or use an if statement?","body":"Use a ternary statement maybe? something like <code>requestParam1 != null ? predicate_when_not_null : predicate_when_null</code> or use an if statement?"},{"owner":{"account_id":21953091,"reputation":137,"user_id":16232045,"display_name":"Salman"},"score":0,"creation_date":1657262612,"post_id":72906994,"comment_id":128773492,"body_markdown":"There is 6 or 7 predicate that i want to apply only when is null. Is there any other good way","body":"There is 6 or 7 predicate that i want to apply only when is null. Is there any other good way"}],"answers":[{"tags":[],"owner":{"account_id":6357629,"reputation":1740,"user_id":4934324,"accept_rate":50,"display_name":"roookeee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657264661,"creation_date":1657263940,"answer_id":72907827,"question_id":72906994,"body_markdown":"You could use a (static) helper function to generate such `null`-safe predicates for a given getter:\r\n\r\n```java\r\nclass Scratch {\r\n    class Model {\r\n        private final String param1;\r\n        private final String param2;\r\n\r\n        Model(String param1, String param2) {\r\n            this.param1 = param1;\r\n            this.param2 = param2;\r\n        }\r\n\r\n        public String getParam2() {\r\n            return param2;\r\n        }\r\n\r\n        public String getParam1() {\r\n            return param1;\r\n        }\r\n    }\r\n    \r\n    public static &lt;T&gt; Predicate&lt;T&gt; startsWithIgnoreCase(Function&lt;T, String&gt; getter, String parameter) {\r\n        return t -&gt; StringUtils.isNotBlank(parameter) &amp;&amp; StringUtils.startsWithIgnoreCase(getter.apply(t), parameter);\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        // example usage\r\n        Predicate&lt;Model&gt; modelPredicate1 = startsWithIgnoreCase(Model::getParam1, args[0]);\r\n        Predicate&lt;Model&gt; modelPredicate2 = startsWithIgnoreCase(Model::getParam2, args[1]);\r\n    }\r\n\r\n}\r\n```\r\n","title":"Java 8 ignore filter (predicate) if null","body":"<p>You could use a (static) helper function to generate such <code>null</code>-safe predicates for a given getter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Scratch {\n    class Model {\n        private final String param1;\n        private final String param2;\n\n        Model(String param1, String param2) {\n            this.param1 = param1;\n            this.param2 = param2;\n        }\n\n        public String getParam2() {\n            return param2;\n        }\n\n        public String getParam1() {\n            return param1;\n        }\n    }\n    \n    public static &lt;T&gt; Predicate&lt;T&gt; startsWithIgnoreCase(Function&lt;T, String&gt; getter, String parameter) {\n        return t -&gt; StringUtils.isNotBlank(parameter) &amp;&amp; StringUtils.startsWithIgnoreCase(getter.apply(t), parameter);\n    }\n    \n    public static void main(String[] args) {\n        // example usage\n        Predicate&lt;Model&gt; modelPredicate1 = startsWithIgnoreCase(Model::getParam1, args[0]);\n        Predicate&lt;Model&gt; modelPredicate2 = startsWithIgnoreCase(Model::getParam2, args[1]);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1270084,"reputation":5416,"user_id":1226605,"accept_rate":86,"display_name":"devang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657266737,"creation_date":1657266737,"answer_id":72908304,"question_id":72906994,"body_markdown":"You could build something like this -\r\n\r\n```\r\nimport org.apache.commons.lang3.StringUtils;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.function.Function;\r\nimport java.util.function.Predicate;\r\nimport java.util.stream.Collectors;\r\n\r\nclass Scratch {\r\n    public static void main(String[] args) {\r\n        String requestParam1 = null;\r\n        String requestParam2 = null;\r\n        businessFunction(requestParam1, requestParam2);\r\n    }\r\n\r\n    public static List&lt;Model&gt; businessFunction(String requestParam1, String requestParam2) {\r\n        List&lt;Model&gt; list = new ArrayList&lt;&gt;();\r\n\r\n        Predicate&lt;Model&gt; predicate = _ -&gt; true; // not sure what the default should be, true or false\r\n\r\n        if (StringUtils.isNotBlank(requestParam1)) {\r\n            predicate = predicate.and(buildPredicate(Model::getParam1, requestParam1));\r\n        }\r\n\r\n        if (StringUtils.isNotBlank(requestParam2)) {\r\n            predicate = predicate.and(buildPredicate(Model::getParam2, requestParam2));\r\n        }\r\n\r\n        return list.stream().filter(predicate).collect(Collectors.toList());\r\n    }\r\n\r\n    public static Predicate&lt;Model&gt; buildPredicate(Function&lt;Model, String&gt; modelParamSupplier, String param) {\r\n        return model -&gt; StringUtils.startsWithIgnoreCase(modelParamSupplier.apply(model), param);\r\n    }\r\n\r\n    static class Model {\r\n        private final String param1;\r\n        private final String param2;\r\n\r\n        Model(String param1, String param2) {\r\n            this.param1 = param1;\r\n            this.param2 = param2;\r\n        }\r\n\r\n        public String getParam2() {\r\n            return param2;\r\n        }\r\n\r\n        public String getParam1() {\r\n            return param1;\r\n        }\r\n    }\r\n}\r\n```","title":"Java 8 ignore filter (predicate) if null","body":"<p>You could build something like this -</p>\n<pre><code>import org.apache.commons.lang3.StringUtils;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.function.Function;\nimport java.util.function.Predicate;\nimport java.util.stream.Collectors;\n\nclass Scratch {\n    public static void main(String[] args) {\n        String requestParam1 = null;\n        String requestParam2 = null;\n        businessFunction(requestParam1, requestParam2);\n    }\n\n    public static List&lt;Model&gt; businessFunction(String requestParam1, String requestParam2) {\n        List&lt;Model&gt; list = new ArrayList&lt;&gt;();\n\n        Predicate&lt;Model&gt; predicate = _ -&gt; true; // not sure what the default should be, true or false\n\n        if (StringUtils.isNotBlank(requestParam1)) {\n            predicate = predicate.and(buildPredicate(Model::getParam1, requestParam1));\n        }\n\n        if (StringUtils.isNotBlank(requestParam2)) {\n            predicate = predicate.and(buildPredicate(Model::getParam2, requestParam2));\n        }\n\n        return list.stream().filter(predicate).collect(Collectors.toList());\n    }\n\n    public static Predicate&lt;Model&gt; buildPredicate(Function&lt;Model, String&gt; modelParamSupplier, String param) {\n        return model -&gt; StringUtils.startsWithIgnoreCase(modelParamSupplier.apply(model), param);\n    }\n\n    static class Model {\n        private final String param1;\n        private final String param2;\n\n        Model(String param1, String param2) {\n            this.param1 = param1;\n            this.param2 = param2;\n        }\n\n        public String getParam2() {\n            return param2;\n        }\n\n        public String getParam1() {\n            return param1;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21953091,"reputation":137,"user_id":16232045,"display_name":"Salman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":934,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1657266737,"creation_date":1657257867,"question_id":72906994,"body_markdown":"I have multiple predicates like\r\n```\r\nfinal Predicate&lt;Model&gt; predicate1 = model -&gt; StringUtils.isNotBlank(requestParam1)\r\n\t\t\t\t&amp;&amp; StringUtils.startsWithIgnoreCase(model.getParam1(), requestParam1);\r\n\t\t\t\t\r\nfinal Predicate&lt;Model&gt; predicate2 = model -&gt; StringUtils.isNotBlank(requestParam2)\r\n\t\t\t\t&amp;&amp; StringUtils.startsWithIgnoreCase(model.getParam2(), requestParam2);\r\n\t\t\t\t\r\nlist.stream().filter(predicate1.and(predicate1)).collect(Collectors.toList())\t\t\t\t\r\n```\r\nHere both predicates apply is there any way through which i can only pass filter which is not null (i.e if requestParam1 null i don&#39;t want to add it in filter(....) same way for requestParam2)\r\n\r\nThank you\r\n","title":"Java 8 ignore filter (predicate) if null","body":"<p>I have multiple predicates like</p>\n<pre><code>final Predicate&lt;Model&gt; predicate1 = model -&gt; StringUtils.isNotBlank(requestParam1)\n                &amp;&amp; StringUtils.startsWithIgnoreCase(model.getParam1(), requestParam1);\n                \nfinal Predicate&lt;Model&gt; predicate2 = model -&gt; StringUtils.isNotBlank(requestParam2)\n                &amp;&amp; StringUtils.startsWithIgnoreCase(model.getParam2(), requestParam2);\n                \nlist.stream().filter(predicate1.and(predicate1)).collect(Collectors.toList())               \n</code></pre>\n<p>Here both predicates apply is there any way through which i can only pass filter which is not null (i.e if requestParam1 null i don't want to add it in filter(....) same way for requestParam2)</p>\n<p>Thank you</p>\n"},{"tags":["java","hibernate","jpa","hibernate-envers"],"comments":[{"owner":{"account_id":7767429,"reputation":674,"user_id":5878215,"display_name":"Zorglube"},"score":0,"creation_date":1657194889,"post_id":72897288,"comment_id":128755757,"body_markdown":"I&#39;m not sure, but I guess it&#39;s impossible.","body":"I&#39;m not sure, but I guess it&#39;s impossible."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1657195533,"post_id":72897288,"comment_id":128756024,"body_markdown":"According to [the docs](https://docs.jboss.org/envers/docs/#configuration), the config `org.hibernate.envers.revision_type_field_name` specifies the operation type and defaults to `REVTYPE`. And looking at your screenshot, you have that column with 3 distinct values, which look like enum ordinals","body":"According to <a href=\"https://docs.jboss.org/envers/docs/#configuration\" rel=\"nofollow noreferrer\">the docs</a>, the config <code>org.hibernate.envers.revision_type_field_name</code> specifies the operation type and defaults to <code>REVTYPE</code>. And looking at your screenshot, you have that column with 3 distinct values, which look like enum ordinals"},{"owner":{"account_id":7767429,"reputation":674,"user_id":5878215,"display_name":"Zorglube"},"score":0,"creation_date":1657196164,"post_id":72897288,"comment_id":128756276,"body_markdown":"It is an `enum`: https://github.com/hibernate/hibernate-orm/blob/main/hibernate-envers/src/main/java/org/hibernate/envers/RevisionType.java","body":"It is an <code>enum</code>: <a href=\"https://github.com/hibernate/hibernate-orm/blob/main/hibernate-envers/src/main/java/org/hibernate/envers/RevisionType.java\" rel=\"nofollow noreferrer\">github.com/hibernate/hibernate-orm/blob/main/hibernate-enver&zwnj;&#8203;s/&hellip;</a>"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1657198566,"post_id":72897288,"comment_id":128757225,"body_markdown":"If you really need the string value you could create an insert trigger on the database table that adds this to a separate colunn","body":"If you really need the string value you could create an insert trigger on the database table that adds this to a separate colunn"}],"answers":[{"tags":[],"owner":{"account_id":10385608,"reputation":30,"user_id":10926939,"display_name":"Andrew Samsonov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657266695,"creation_date":1657266695,"answer_id":72908298,"question_id":72897288,"body_markdown":"The change history is stored in the SOME_ENTITY_AUD tables corresponding to the SomeEntity instances. The SOME_ENTITY_AUD table has a field - REVTYPE - Represented by numbers from 0 to 2: \r\n- 0-ADD\r\n- 1-MOD\r\n- 2-DEL\r\n\r\n[See more details in the same question.][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71763753/is-there-an-implementation-of-org-hibernate-envers-audited-in-the-jpa/71765462#71765462","title":"How can I add in my audit table a column with actions that was done (modify, create,delete) using Hibernate Envers?","body":"<p>The change history is stored in the SOME_ENTITY_AUD tables corresponding to the SomeEntity instances. The SOME_ENTITY_AUD table has a field - REVTYPE - Represented by numbers from 0 to 2:</p>\n<ul>\n<li>0-ADD</li>\n<li>1-MOD</li>\n<li>2-DEL</li>\n</ul>\n<p><a href=\"https://stackoverflow.com/questions/71763753/is-there-an-implementation-of-org-hibernate-envers-audited-in-the-jpa/71765462#71765462\">See more details in the same question.</a></p>\n"}],"owner":{"account_id":25749618,"reputation":15,"user_id":19502368,"display_name":"Andrei Steau"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72908298,"answer_count":1,"score":0,"last_activity_date":1657266695,"creation_date":1657194526,"question_id":72897288,"body_markdown":"I know the type of operations are represented like numbers but can I make them appear as string type (&quot;UPDATE / DELETE / INSERT&quot;) \r\n\r\nI think rev or revtype show what type of operation is ( I tried edit, delete and insert in this order and that s the result )\r\n\r\n[This is my product_aud][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jVYvn.png","title":"How can I add in my audit table a column with actions that was done (modify, create,delete) using Hibernate Envers?","body":"<p>I know the type of operations are represented like numbers but can I make them appear as string type (&quot;UPDATE / DELETE / INSERT&quot;)</p>\n<p>I think rev or revtype show what type of operation is ( I tried edit, delete and insert in this order and that s the result )</p>\n<p><a href=\"https://i.stack.imgur.com/jVYvn.png\" rel=\"nofollow noreferrer\">This is my product_aud</a></p>\n"},{"tags":["java","graphics2d"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1657268721,"post_id":72908293,"comment_id":128775187,"body_markdown":"If you want to print a component (or do any printing for that fact), then you need to make use of a `Printable` `interface`, [for example](https://stackoverflow.com/questions/32000888/how-to-print-whole-jpanel-with-a-footer-in-every-page-in-java-swing/32001433#32001433). Take a look at the [Printing Trail](https://docs.oracle.com/javase/tutorial/2d/printing/index.html) for more details","body":"If you want to print a component (or do any printing for that fact), then you need to make use of a <code>Printable</code> <code>interface</code>, <a href=\"https://stackoverflow.com/questions/32000888/how-to-print-whole-jpanel-with-a-footer-in-every-page-in-java-swing/32001433#32001433\">for example</a>. Take a look at the <a href=\"https://docs.oracle.com/javase/tutorial/2d/printing/index.html\" rel=\"nofollow noreferrer\">Printing Trail</a> for more details"},{"owner":{"account_id":25098276,"reputation":1,"user_id":18949241,"display_name":"itsdicky"},"score":0,"creation_date":1657282897,"post_id":72908293,"comment_id":128779681,"body_markdown":"@MadProgrammer After I look at your example and the printing documentation finally I can understand now. I tried to use PrinterJob instead of PrintJob and implement Printable in my component and it works. Thanks for the answer.","body":"@MadProgrammer After I look at your example and the printing documentation finally I can understand now. I tried to use PrinterJob instead of PrintJob and implement Printable in my component and it works. Thanks for the answer."}],"owner":{"account_id":25098276,"reputation":1,"user_id":18949241,"display_name":"itsdicky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657266689,"creation_date":1657266689,"question_id":72908293,"body_markdown":"I&#39;m trying to get the Graphic from the PrintJob object using getGraphic(), but I have a problem when that code running. The ClassCastException catch this ```class sun.print.ProxyPrintGraphics cannot be cast to class java.awt.Graphics2D (sun.print.ProxyPrintGraphics and java.awt.Graphics2D are in module java.desktop of loader &#39;bootstrap&#39;)```. \r\n\r\nAnd this is the code that I run:\r\n```\r\ntry {\r\n     Toolkit tkp = jPanel3.getToolkit();\r\n     PrintJob pjp = tkp.getPrintJob(this, null, null);\r\n     Graphics g = pjp.getGraphics();\r\n     jPanel3.print(g);\r\n     g.dispose();\r\n     pjp.end();\r\n} catch (Exception e) {\r\n     e.printStackTrace();\r\n}\r\n```","title":"Can&#39;t get Graphics from the PrintJob object JAVA","body":"<p>I'm trying to get the Graphic from the PrintJob object using getGraphic(), but I have a problem when that code running. The ClassCastException catch this <code>class sun.print.ProxyPrintGraphics cannot be cast to class java.awt.Graphics2D (sun.print.ProxyPrintGraphics and java.awt.Graphics2D are in module java.desktop of loader 'bootstrap')</code>.</p>\n<p>And this is the code that I run:</p>\n<pre><code>try {\n     Toolkit tkp = jPanel3.getToolkit();\n     PrintJob pjp = tkp.getPrintJob(this, null, null);\n     Graphics g = pjp.getGraphics();\n     jPanel3.print(g);\n     g.dispose();\n     pjp.end();\n} catch (Exception e) {\n     e.printStackTrace();\n}\n</code></pre>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1657263804,"post_id":72907678,"comment_id":128773813,"body_markdown":"Define “it doesn&#39;t work out”.","body":"Define “it doesn&#39;t work out”."}],"answers":[{"tags":[],"owner":{"account_id":49215,"reputation":166,"user_id":146461,"display_name":"Flashpix"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657263333,"creation_date":1657263333,"answer_id":72907721,"question_id":72907678,"body_markdown":"Just use month[i] instead of month(i) in the final System.out.print. That should work.","title":"I am trying to set my program to print out the part of my month array that correlates to the index of the largest value in my temp array","body":"<p>Just use month[i] instead of month(i) in the final System.out.print. That should work.</p>\n"},{"tags":[],"owner":{"account_id":25756775,"reputation":11,"user_id":19508309,"display_name":"Akshay Ghadge"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657266577,"creation_date":1657264078,"answer_id":72907865,"question_id":72907678,"body_markdown":"\r\n```\r\nimport java.util.Arrays;\r\n\r\n\r\npublic class FindLargests {\r\n\r\n    public static void main(String[] args) {\r\n        //This defines the arrays\r\n        String[] month = {&quot;Jan&quot;, &quot;Feb&quot;, &quot;Mar&quot;, &quot;Apr&quot;, &quot;May&quot;, &quot;June&quot;, &quot;July&quot;, &quot;Aug&quot;, &quot;Sep&quot;, &quot;Oct&quot;, &quot;Nov&quot;, &quot;Dec&quot;};\r\n        int[] temp =     {34,      32,    40,    50,    55,    70,     73,     75,    70,    65,    55,    40};\r\n        //For loop to search the temps array to find the largest value\r\n        int max = temp[0];\r\n        int maxIndex = -1;\r\n\r\n        for (int i = 0; i &lt; temp.length; i++) {  // i --&gt; index\r\n\r\n            if (temp[i] &gt; max) {\r\n                max = temp[i];\r\n                maxIndex = i;//update maxIndex\r\n            }\r\n        }\r\n\r\n        System.out.print(&quot;The largest value is:  &quot; + month[maxIndex] + &quot; - &quot; + max);\r\n    }\r\n}\r\n```\r\n\r\nOutput: &quot;The largest value is: Aug - 75&quot;","title":"I am trying to set my program to print out the part of my month array that correlates to the index of the largest value in my temp array","body":"<pre><code>import java.util.Arrays;\n\n\npublic class FindLargests {\n\n    public static void main(String[] args) {\n        //This defines the arrays\n        String[] month = {&quot;Jan&quot;, &quot;Feb&quot;, &quot;Mar&quot;, &quot;Apr&quot;, &quot;May&quot;, &quot;June&quot;, &quot;July&quot;, &quot;Aug&quot;, &quot;Sep&quot;, &quot;Oct&quot;, &quot;Nov&quot;, &quot;Dec&quot;};\n        int[] temp =     {34,      32,    40,    50,    55,    70,     73,     75,    70,    65,    55,    40};\n        //For loop to search the temps array to find the largest value\n        int max = temp[0];\n        int maxIndex = -1;\n\n        for (int i = 0; i &lt; temp.length; i++) {  // i --&gt; index\n\n            if (temp[i] &gt; max) {\n                max = temp[i];\n                maxIndex = i;//update maxIndex\n            }\n        }\n\n        System.out.print(&quot;The largest value is:  &quot; + month[maxIndex] + &quot; - &quot; + max);\n    }\n}\n</code></pre>\n<p>Output: &quot;The largest value is: Aug - 75&quot;</p>\n"}],"owner":{"account_id":25756343,"reputation":1,"user_id":19507946,"display_name":"purpledot"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1657266577,"creation_date":1657263081,"question_id":72907678,"body_markdown":"Everytime I try to use the method shown below it doesn&#39;t work out.\r\n\r\n    import java.util.Arrays;\r\n\r\n\r\n    public class FindLargests {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t//This defines the arrays\r\n\t\tString[] month = {&quot;Jan&quot;, &quot;Feb&quot;, &quot;Mar&quot;, &quot;Apr&quot;, &quot;May&quot;, &quot;June&quot;, &quot;July&quot;, &quot;Aug&quot;, &quot;Sep&quot;, &quot;Oct&quot;, &quot;Nov&quot;, &quot;Dec&quot;};\r\n\t\tint[] temp = {34,32,40,50,55,70,73,75,70,65,55,40}; \r\n\t\t//For loop to search the temps array to find the largest value\r\n\t\tint max = temp[0];\r\n\t\tint maxIndex = -1;\r\n        \tfor (int i = 0; i &lt; temp.length; i++) {  // i --&gt; index\r\n                    if(temp[i]&gt;max)\r\n                        max = temp[i];\r\n            \t\r\n                    }\r\n\r\n\t\t\r\n\t\t//This prints out the result\r\n\t\tSystem.out.print(&quot;The largest value is:  &quot; + month(i) + &quot; - &quot; + max);\r\n        }\r\n    }","title":"I am trying to set my program to print out the part of my month array that correlates to the index of the largest value in my temp array","body":"<p>Everytime I try to use the method shown below it doesn't work out.</p>\n<pre><code>import java.util.Arrays;\n\n\npublic class FindLargests {\n\npublic static void main(String[] args) {\n    //This defines the arrays\n    String[] month = {&quot;Jan&quot;, &quot;Feb&quot;, &quot;Mar&quot;, &quot;Apr&quot;, &quot;May&quot;, &quot;June&quot;, &quot;July&quot;, &quot;Aug&quot;, &quot;Sep&quot;, &quot;Oct&quot;, &quot;Nov&quot;, &quot;Dec&quot;};\n    int[] temp = {34,32,40,50,55,70,73,75,70,65,55,40}; \n    //For loop to search the temps array to find the largest value\n    int max = temp[0];\n    int maxIndex = -1;\n        for (int i = 0; i &lt; temp.length; i++) {  // i --&gt; index\n                if(temp[i]&gt;max)\n                    max = temp[i];\n            \n                }\n\n    \n    //This prints out the result\n    System.out.print(&quot;The largest value is:  &quot; + month(i) + &quot; - &quot; + max);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","thymeleaf"],"comments":[{"owner":{"account_id":19170174,"reputation":312,"user_id":14004073,"display_name":"Pavel Polyakoff"},"score":1,"creation_date":1657200776,"post_id":72898332,"comment_id":128758224,"body_markdown":"You will have to implement custom logic in that case. Mostly redirecting to the same page with a parameter in uri (e.g. `return &quot;redirect:/form?err&quot;`) and then displaying an alert conditionally (`&lt;span style=&quot;color: #8b0000&quot; th:if=${param.err}&gt;Error!&lt;/span&gt;`) does the trick","body":"You will have to implement custom logic in that case. Mostly redirecting to the same page with a parameter in uri (e.g. <code>return &quot;redirect:&#47;form?err&quot;</code>) and then displaying an alert conditionally (<code>&lt;span style=&quot;color: #8b0000&quot; th:if=${param.err}&gt;Error!&lt;&#47;span&gt;</code>) does the trick"}],"answers":[{"tags":[],"owner":{"account_id":11383036,"reputation":526,"user_id":8345434,"accept_rate":62,"display_name":"Thanthla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657266555,"creation_date":1657266555,"answer_id":72908277,"question_id":72898332,"body_markdown":"I did it with the help of this question https://stackoverflow.com/q/58394445/8345434\r\n\r\n    @PostMapping(value=&quot;/submit&quot;)\r\n    public String doSubmit(@RequestParam(&quot;myParameter&quot;) String param, BindingResult bindingResult) {\r\n       bindingResult.reject(&quot;myParameter&quot;, &quot;myParameter&quot;); \r\n       return &quot;html&quot;;\r\n    }\r\n\r\n**Important:** `myParameter` must not be a key of a message source!\r\n\r\n    &lt;form th:action=&quot;@{/submit}&quot; method=&quot;post&quot;&gt;\r\n        &lt;label for=&quot;myParameter&quot; class=&quot;form-label&quot;&gt;My Parameter&lt;/label&gt;\r\n        &lt;input name=&quot;myParameter&quot; class=&quot;form-control&quot; type=&quot;text&quot;/&gt;\r\n        &lt;span class=&quot;text-danger&quot; th:if=&quot;${#lists.contains(#fields.globalErrors(), &amp;quot;myParameter&amp;quot;)}&quot; th:text=&quot;An Error happened&quot;&gt;Error&lt;/span&gt;\r\n\r\n    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Submit&lt;/button&gt;\r\n&lt;/form&gt;\r\n\r\n**Important:** Use `&amp;quot;` to indicate the string. `th:text? may contain a message key like `th:text=&quot;#{error.code1}&quot;`.\r\n","title":"How to display RequestParam errors in Thymeleaf","body":"<p>I did it with the help of this question <a href=\"https://stackoverflow.com/q/58394445/8345434\">Thymeleaf: display global errors by error code</a></p>\n<pre><code>@PostMapping(value=&quot;/submit&quot;)\npublic String doSubmit(@RequestParam(&quot;myParameter&quot;) String param, BindingResult bindingResult) {\n   bindingResult.reject(&quot;myParameter&quot;, &quot;myParameter&quot;); \n   return &quot;html&quot;;\n}\n</code></pre>\n<p><strong>Important:</strong> <code>myParameter</code> must not be a key of a message source!</p>\n<pre><code>&lt;form th:action=&quot;@{/submit}&quot; method=&quot;post&quot;&gt;\n    &lt;label for=&quot;myParameter&quot; class=&quot;form-label&quot;&gt;My Parameter&lt;/label&gt;\n    &lt;input name=&quot;myParameter&quot; class=&quot;form-control&quot; type=&quot;text&quot;/&gt;\n    &lt;span class=&quot;text-danger&quot; th:if=&quot;${#lists.contains(#fields.globalErrors(), &amp;quot;myParameter&amp;quot;)}&quot; th:text=&quot;An Error happened&quot;&gt;Error&lt;/span&gt;\n\n&lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Submit&lt;/button&gt;\n</code></pre>\n\n<p><strong>Important:</strong> Use <code>&amp;quot;</code> to indicate the string. <code>th:text? may contain a message key like </code>th:text=&quot;#{error.code1}&quot;`.</p>\n"}],"owner":{"account_id":11383036,"reputation":526,"user_id":8345434,"accept_rate":62,"display_name":"Thanthla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72908277,"answer_count":1,"score":0,"last_activity_date":1657266555,"creation_date":1657199022,"question_id":72898332,"body_markdown":"I want to use a form **without** an object. How to display errors? \r\n\r\n**Controller:**\r\n\r\n    @PostMapping(value=&quot;/submit&quot;)\r\n    public String doSubmit(@RequestParam(&quot;myParameter&quot;) String param, BindingResult bindingResult) {\r\n       bindingResult.rejectValue(&quot;myParameter&quot;, &quot;Oh nooo!!!!&quot;); \r\n       return &quot;html&quot;;\r\n    }\r\n\r\n**HTML:**\r\n\r\n    &lt;form th:action = &quot;@{/submit}&quot; method=&quot;post&quot;&gt;\r\n        &lt;label for=&quot;myParameter&quot; class=&quot;form-label&quot;&gt;My Parameter&lt;/label&gt;\r\n\t\t&lt;input name=&quot;myParameter&quot; class=&quot;form-control&quot; type=&quot;text&quot;/&gt;\r\n\t\t&lt;span class=&quot;text-danger&quot; th:if=&quot;${#fields.hasErrors(&#39;myParameter&#39;)}&quot; th:errors=&quot;myParameter&quot;&gt;Error&lt;/span&gt;\r\n\r\n        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Submit&lt;/button&gt;\r\n    &lt;/form&gt;\r\n\r\n`th:if=&quot;${#fields.hasErrors(&#39;myParameter&#39;)}&quot; th:errors=&quot;myParameter&quot;` throws errors, cause &quot;myParameter&quot; is not known.\r\n\r\nHow to display the error, **without** using `th:object` in `&lt;form&gt;` \r\n","title":"How to display RequestParam errors in Thymeleaf","body":"<p>I want to use a form <strong>without</strong> an object. How to display errors?</p>\n<p><strong>Controller:</strong></p>\n<pre><code>@PostMapping(value=&quot;/submit&quot;)\npublic String doSubmit(@RequestParam(&quot;myParameter&quot;) String param, BindingResult bindingResult) {\n   bindingResult.rejectValue(&quot;myParameter&quot;, &quot;Oh nooo!!!!&quot;); \n   return &quot;html&quot;;\n}\n</code></pre>\n<p><strong>HTML:</strong></p>\n<pre><code>&lt;form th:action = &quot;@{/submit}&quot; method=&quot;post&quot;&gt;\n    &lt;label for=&quot;myParameter&quot; class=&quot;form-label&quot;&gt;My Parameter&lt;/label&gt;\n    &lt;input name=&quot;myParameter&quot; class=&quot;form-control&quot; type=&quot;text&quot;/&gt;\n    &lt;span class=&quot;text-danger&quot; th:if=&quot;${#fields.hasErrors('myParameter')}&quot; th:errors=&quot;myParameter&quot;&gt;Error&lt;/span&gt;\n\n    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Submit&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n<p><code>th:if=&quot;${#fields.hasErrors('myParameter')}&quot; th:errors=&quot;myParameter&quot;</code> throws errors, cause &quot;myParameter&quot; is not known.</p>\n<p>How to display the error, <strong>without</strong> using <code>th:object</code> in <code>&lt;form&gt;</code></p>\n"},{"tags":["java","mongodb"],"owner":{"account_id":24819930,"reputation":101,"user_id":18700381,"display_name":"daph111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657266469,"creation_date":1657266469,"question_id":72908261,"body_markdown":"I&#39;m using Spring and Mongo and the regex query is not correct somehow...\r\n\r\n    String text = &quot;test&quot;;\r\n    ...\r\n    criteria.and(&quot;title&quot;).regex(text, &quot;i&quot;);\r\n    Query.query(criteria); // Output bellow\r\n\r\n\r\nCreate this query:\r\n\r\n \r\n\r\n     {&quot;title&quot;:{\r\n          &quot;$regularExpression&quot;:{\r\n             &quot;pattern&quot;:&quot;test&quot;,\r\n             &quot;options&quot;:&quot;i&quot;\r\n          }\r\n       }}\r\n\r\n\r\nInstead of:\r\n\r\n    {\r\n      &quot;title&quot;:{\r\n         &quot;$regex&quot;:&quot;test&quot;,\r\n         &quot;$options&quot;:&quot;i&quot;\r\n    }}\r\n\r\n\r\n**ERROR: unknown operator: $regularExpression**","title":"Spring creates wrong db query (Basic call with example)","body":"<p>I'm using Spring and Mongo and the regex query is not correct somehow...</p>\n<pre><code>String text = &quot;test&quot;;\n...\ncriteria.and(&quot;title&quot;).regex(text, &quot;i&quot;);\nQuery.query(criteria); // Output bellow\n</code></pre>\n<p>Create this query:</p>\n<pre><code> {&quot;title&quot;:{\n      &quot;$regularExpression&quot;:{\n         &quot;pattern&quot;:&quot;test&quot;,\n         &quot;options&quot;:&quot;i&quot;\n      }\n   }}\n</code></pre>\n<p>Instead of:</p>\n<pre><code>{\n  &quot;title&quot;:{\n     &quot;$regex&quot;:&quot;test&quot;,\n     &quot;$options&quot;:&quot;i&quot;\n}}\n</code></pre>\n<p><strong>ERROR: unknown operator: $regularExpression</strong></p>\n"},{"tags":["java","handler","runnable"],"owner":{"account_id":25756436,"reputation":1,"user_id":19508023,"display_name":"Behruz Zamanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1657267783,"answer_count":1,"score":-1,"last_activity_date":1657266466,"creation_date":1657260803,"question_id":72907315,"body_markdown":"I was making a  timer with a handler and runnable in java, but there is a problem with the handler. I am getting an error that handler is not used please help.\r\n```public void start (View view){\r\n        Handler mHandler= new Handler();\r\n        mHandler.post(new Runnable() {\r\n                @Override                        \r\n                public void run() {\r\n                    tvMessages.setText(&quot;&quot; + message + &quot;\\n&quot;);\r\n                }\r\n            });```","title":"Java Handler runnable","body":"<p>I was making a  timer with a handler and runnable in java, but there is a problem with the handler. I am getting an error that handler is not used please help.</p>\n<pre><code>        Handler mHandler= new Handler();\n        mHandler.post(new Runnable() {\n                @Override                        \n                public void run() {\n                    tvMessages.setText(&quot;&quot; + message + &quot;\\n&quot;);\n                }\n            });```\n</code></pre>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":5,"creation_date":1657262985,"post_id":72907621,"comment_id":128773599,"body_markdown":"You&#39;re not assigning the result of your `swap()` operations to anything.","body":"You&#39;re not assigning the result of your <code>swap()</code> operations to anything."}],"answers":[{"tags":[],"owner":{"account_id":10419169,"reputation":41,"user_id":7682306,"display_name":"markiv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657264822,"creation_date":1657264822,"answer_id":72908012,"question_id":72907621,"body_markdown":"Replace this method with something like this to get **[ABC, ACB, BAC, BCA, CBA, CAB]**\r\n\r\n    public static void permute(String S,int l,int r,List&lt;String&gt; ans){\r\n            if(l==r){\r\n                ans.add(S);\r\n                return ;\r\n            }\r\n            \r\n            for(int i=l;i&lt;=r;i++){\r\n                S =swap(S,l,i);\r\n                permute(S,l+1,r,ans);\r\n                S = swap(S,l,i);\r\n                }\r\n    }\r\n\r\n","title":"string permutation in java","body":"<p>Replace this method with something like this to get <strong>[ABC, ACB, BAC, BCA, CBA, CAB]</strong></p>\n<pre><code>public static void permute(String S,int l,int r,List&lt;String&gt; ans){\n        if(l==r){\n            ans.add(S);\n            return ;\n        }\n        \n        for(int i=l;i&lt;=r;i++){\n            S =swap(S,l,i);\n            permute(S,l+1,r,ans);\n            S = swap(S,l,i);\n            }\n}\n</code></pre>\n"}],"owner":{"account_id":21223936,"reputation":9,"user_id":15609948,"display_name":"Shashank Parihar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1657266099,"creation_date":1657262693,"question_id":72907621,"body_markdown":"//Not getting the correct output.I don&#39;t understand what&#39;s wrong with my code.\r\n```java\r\nclass Solution {\r\n\r\n  public List&lt;String&gt; find_permutation(String S) {\r\n    // Code here\r\n    List&lt;String&gt; ans = new ArrayList&lt;&gt;();\r\n    int l = 0, r = S.length() - 1;\r\n    permute(S, l, r, ans);\r\n\r\n    return ans;\r\n\r\n  }\r\n\r\n  public static void permute(String S, int l, int r, List&lt;String&gt; ans) {\r\n    if (l == r) {\r\n      ans.add(S);\r\n      return;\r\n    }\r\n\r\n    for (int i = l; i &lt;= r; i++) {\r\n      swap(S, l, i);\r\n      permute(S, l + 1, r, ans);\r\n      swap(S, l, i);\r\n    }\r\n  }\r\n\r\n  public static String swap(String S, int i, int j) {\r\n    char c[] = S.toCharArray();\r\n    char temp = c[i];\r\n    c[i] = c[j];\r\n    c[j] = temp;\r\n\r\n    return String.valueOf(c);\r\n  }\r\n\r\n}\r\n```\r\n// output\r\n\r\n    ABC\r\n\r\nYour Output: \r\nABC ABC ABC ABC ABC ABC \r\n\r\nExpected Output: \r\nABC ACB BAC BCA CAB CBA \r\n\r\nOutput Difference\r\nABC ABC ABC ABC ABC ABC ","title":"string permutation in java","body":"<p>//Not getting the correct output.I don't understand what's wrong with my code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n\n  public List&lt;String&gt; find_permutation(String S) {\n    // Code here\n    List&lt;String&gt; ans = new ArrayList&lt;&gt;();\n    int l = 0, r = S.length() - 1;\n    permute(S, l, r, ans);\n\n    return ans;\n\n  }\n\n  public static void permute(String S, int l, int r, List&lt;String&gt; ans) {\n    if (l == r) {\n      ans.add(S);\n      return;\n    }\n\n    for (int i = l; i &lt;= r; i++) {\n      swap(S, l, i);\n      permute(S, l + 1, r, ans);\n      swap(S, l, i);\n    }\n  }\n\n  public static String swap(String S, int i, int j) {\n    char c[] = S.toCharArray();\n    char temp = c[i];\n    c[i] = c[j];\n    c[j] = temp;\n\n    return String.valueOf(c);\n  }\n\n}\n</code></pre>\n<p>// output</p>\n<pre><code>ABC\n</code></pre>\n<p>Your Output:\nABC ABC ABC ABC ABC ABC</p>\n<p>Expected Output:\nABC ACB BAC BCA CAB CBA</p>\n<p>Output Difference\nABC ABC ABC ABC ABC ABC</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":14429279,"reputation":130,"user_id":10423076,"display_name":"Govil Kumar"},"score":0,"creation_date":1657105034,"post_id":72881844,"comment_id":128728868,"body_markdown":"Not sure what exactly you want to ask here. But the size of your jar depends on the dependencies that you have. Remove the dependencies that are not actually required by your application.\nEven containerisation will not help you here, because you will add layers in your container.","body":"Not sure what exactly you want to ask here. But the size of your jar depends on the dependencies that you have. Remove the dependencies that are not actually required by your application. Even containerisation will not help you here, because you will add layers in your container."},{"owner":{"account_id":11465333,"reputation":4830,"user_id":8403689,"display_name":"Imranmadbar"},"score":0,"creation_date":1657107642,"post_id":72881844,"comment_id":128729811,"body_markdown":"GovilKumar i am not talking about jar or any java app source size, I am searching tha any way that I can set the limit of memory when a java app (Spring boot jar) running time is occupied for different kinds of processes from its host machine.\nSee my example","body":"GovilKumar i am not talking about jar or any java app source size, I am searching tha any way that I can set the limit of memory when a java app (Spring boot jar) running time is occupied for different kinds of processes from its host machine. See my example"}],"answers":[{"tags":[],"owner":{"account_id":10354147,"reputation":155,"user_id":7636709,"display_name":"jklaze"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657265994,"creation_date":1657104603,"answer_id":72882250,"question_id":72881844,"body_markdown":"I don&#39;t know if this is what you are looking for, Java already crates a VM while running an app.\r\nYou can set the maximum allocation of memory while running your app with the -Xmx (Maximum heap size) parameter.\r\n\r\nExample:\r\n\r\n`java -Xmx400m myapp.jar`\r\n\r\nIn this example you set to 400Mb the **max available amount of memory** that can be allocated for the application, you can also set it as Gb by using &#39;G&#39; after the amount (i.e. &#39;-Xmx1G&#39; )\r\n\r\n\r\nAlternatively, if you are looking to set this limit inside the jar file I think this may be a duplicate of https://stackoverflow.com/questions/1018217/can-i-set-java-max-heap-size-for-running-from-a-jar-file\r\n\r\nOtherwise, if all the above is not what you are looking for and you still want a &#39;containerization technology&#39; you can use docker: https://www.docker.com/\r\n\r\nUseful links:\r\n\r\nhttps://alvinalexander.com/blog/post/java/java-xmx-xms-memory-heap-size-control/\\\r\nhttps://spring.io/blog/2015/12/10/spring-boot-memory-performance\\\r\nhttps://nodramadevops.com/2019/10/docker-memory-resource-limits/\r\n\r\n\r\nEDIT: \r\n docker may be what you need, just read the docs an you&#39;ll be fine in no time. https://docs.docker.com/config/containers/resource_constraints/","title":"Set memory limit for Java and Spring Boot App (jar)","body":"<p>I don't know if this is what you are looking for, Java already crates a VM while running an app.\nYou can set the maximum allocation of memory while running your app with the -Xmx (Maximum heap size) parameter.</p>\n<p>Example:</p>\n<p><code>java -Xmx400m myapp.jar</code></p>\n<p>In this example you set to 400Mb the <strong>max available amount of memory</strong> that can be allocated for the application, you can also set it as Gb by using 'G' after the amount (i.e. '-Xmx1G' )</p>\n<p>Alternatively, if you are looking to set this limit inside the jar file I think this may be a duplicate of <a href=\"https://stackoverflow.com/questions/1018217/can-i-set-java-max-heap-size-for-running-from-a-jar-file\">Can I set Java max heap size for running from a jar file?</a></p>\n<p>Otherwise, if all the above is not what you are looking for and you still want a 'containerization technology' you can use docker: <a href=\"https://www.docker.com/\" rel=\"nofollow noreferrer\">https://www.docker.com/</a></p>\n<p>Useful links:</p>\n<p><a href=\"https://alvinalexander.com/blog/post/java/java-xmx-xms-memory-heap-size-control/%5C\" rel=\"nofollow noreferrer\">https://alvinalexander.com/blog/post/java/java-xmx-xms-memory-heap-size-control/\\</a>\n<a href=\"https://spring.io/blog/2015/12/10/spring-boot-memory-performance%5C\" rel=\"nofollow noreferrer\">https://spring.io/blog/2015/12/10/spring-boot-memory-performance\\</a>\n<a href=\"https://nodramadevops.com/2019/10/docker-memory-resource-limits/\" rel=\"nofollow noreferrer\">https://nodramadevops.com/2019/10/docker-memory-resource-limits/</a></p>\n<p>EDIT:\ndocker may be what you need, just read the docs an you'll be fine in no time. <a href=\"https://docs.docker.com/config/containers/resource_constraints/\" rel=\"nofollow noreferrer\">https://docs.docker.com/config/containers/resource_constraints/</a></p>\n"}],"owner":{"account_id":11465333,"reputation":4830,"user_id":8403689,"display_name":"Imranmadbar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":833,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657265994,"creation_date":1657102999,"question_id":72881844,"body_markdown":"I know java applications running in JRE, and Java allocates the memory for the app from the host machine.\r\n\r\nIts also for spring boot app  what is with embedded tomcat and run as jar.\r\n\r\nMe asking for: **How to set Host machine physical memory limit for java spring boot app.**\r\n\r\nIs there any way I can set the physical memory limit for every spring boot application jar Like containerization technology? \r\n\r\nExample: **myapp.jar is supposed to consume not more than 400MB ram.**","title":"Set memory limit for Java and Spring Boot App (jar)","body":"<p>I know java applications running in JRE, and Java allocates the memory for the app from the host machine.</p>\n<p>Its also for spring boot app  what is with embedded tomcat and run as jar.</p>\n<p>Me asking for: <strong>How to set Host machine physical memory limit for java spring boot app.</strong></p>\n<p>Is there any way I can set the physical memory limit for every spring boot application jar Like containerization technology?</p>\n<p>Example: <strong>myapp.jar is supposed to consume not more than 400MB ram.</strong></p>\n"},{"tags":["java","encryption","cryptography","password-encryption","jce"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1657261976,"post_id":72906647,"comment_id":128773336,"body_markdown":"Those &quot;weird symbols&quot; are not problematic. That&#39;s the sort of thing you can _expect_ to see when a random sequence of bytes is decoded into characters, no matter which encoding you use.","body":"Those &quot;weird symbols&quot; are not problematic. That&#39;s the sort of thing you can <i>expect</i> to see when a random sequence of bytes is decoded into characters, no matter which encoding you use."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1657266489,"post_id":72906647,"comment_id":128774516,"body_markdown":"In addition to the problems addressed in the accepted answer, you should also specify mode and padding when instantiating the `Cipher` instance, otherwise provider-dependent default values will be used. This can lead to incompatibilities between encryption and decryption (if different defaults are applied) or even cause vulnerabilities. In your environment, for instance, ECB is used as mode. This is an insecure mode that should generally not be applied. Also note that passwords are generally not encrypted, but hashed.","body":"In addition to the problems addressed in the accepted answer, you should also specify mode and padding when instantiating the <code>Cipher</code> instance, otherwise provider-dependent default values will be used. This can lead to incompatibilities between encryption and decryption (if different defaults are applied) or even cause vulnerabilities. In your environment, for instance, ECB is used as mode. This is an insecure mode that should generally not be applied. Also note that passwords are generally not encrypted, but hashed."}],"answers":[{"tags":[],"owner":{"account_id":11416432,"reputation":578,"user_id":8369150,"display_name":"Halil Sahin"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1657263044,"creation_date":1657255024,"answer_id":72906692,"question_id":72906647,"body_markdown":"Because your algorithm have not any information about your plaintext&#39;s Charset. You have to set it when you&#39;re getting bytes.\r\n\r\n    byte[] text1 = &quot;welcome back&quot;.getBytes(StandardCharsets.UTF_8);\r\n    byte[] text2 = &quot;hello guys&quot;.getBytes(StandardCharsets.UTF_8); \r\nAnd for printing:\r\n\r\n    System.out.println(new String(encryptedText1, StandardCharsets.UTF_8));\r\n    System.out.println(new String(encryptedText2, StandardCharsets.UTF_8));\r\n\r\nThis approach should work. \r\n\r\nBut if do you want to see something you can read use Base64 encoder.\r\n\r\n    System.out.println(Base64.getEncoder().encodeToString(encryptedText1));\r\n    System.out.println(Base64.getEncoder().encodeToString(encryptedText2));","title":"Why does my encryption returns weird string of symbols as the encrypted text?","body":"<p>Because your algorithm have not any information about your plaintext's Charset. You have to set it when you're getting bytes.</p>\n<pre><code>byte[] text1 = &quot;welcome back&quot;.getBytes(StandardCharsets.UTF_8);\nbyte[] text2 = &quot;hello guys&quot;.getBytes(StandardCharsets.UTF_8); \n</code></pre>\n<p>And for printing:</p>\n<pre><code>System.out.println(new String(encryptedText1, StandardCharsets.UTF_8));\nSystem.out.println(new String(encryptedText2, StandardCharsets.UTF_8));\n</code></pre>\n<p>This approach should work.</p>\n<p>But if do you want to see something you can read use Base64 encoder.</p>\n<pre><code>System.out.println(Base64.getEncoder().encodeToString(encryptedText1));\nSystem.out.println(Base64.getEncoder().encodeToString(encryptedText2));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6357629,"reputation":1740,"user_id":4934324,"accept_rate":50,"display_name":"roookeee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657262978,"creation_date":1657262168,"answer_id":72907536,"question_id":72906647,"body_markdown":"Most if not all enryptions algorithm and (secure) hash functions just produce bytes, without any encoding as what they are producing is not text but literally just a `byte[]`.\r\n\r\nMost of the time these bytes are showns as `base64` encoded in a tutorial or when saved in a textual representation - see here on how to do this with Java 8+: https://stackoverflow.com/a/26897706/4934324","title":"Why does my encryption returns weird string of symbols as the encrypted text?","body":"<p>Most if not all enryptions algorithm and (secure) hash functions just produce bytes, without any encoding as what they are producing is not text but literally just a <code>byte[]</code>.</p>\n<p>Most of the time these bytes are showns as <code>base64</code> encoded in a tutorial or when saved in a textual representation - see here on how to do this with Java 8+: <a href=\"https://stackoverflow.com/a/26897706/4934324\">https://stackoverflow.com/a/26897706/4934324</a></p>\n"},{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657265682,"creation_date":1657264298,"answer_id":72907906,"question_id":72906647,"body_markdown":"## Second Problem\r\n\r\n&gt; The second problem is that the algorithm would return a different encrypted text every time and if I were to save the encrypted text into a database and decrypt it later, would it still work?\r\n\r\nNot completely sure I understand what the problem is. At least for the code in your question, for the **same** key and **same** input bytes, you&#39;ll get the same encrypted bytes out. But you must use the same key, both when encrypting and decrypting. And this means you need to (securely!) store the key somewhere.\r\n\r\nIf you&#39;re worried about seeing different output each time you run your example code, then that&#39;s because you generate a **new key** each time.\r\n\r\nThis can get complicated though, and I&#39;d like to state I&#39;m not a cryptography expert. I believe to use symmetric encryption properly, you want to avoid the same plain text resulting in the same cipher text. There are also different modes of AES, requiring different approaches. My point is that you should either do **a lot** of research, or hire an expert (if not both).\r\n\r\n---\r\n\r\n## First Problem\r\n\r\n&gt; The first problem being that the encrypted text is returning weird symbols and not letters, like &quot;c~&#249;▼=&#161;&#163;&#161;?&#197;♠?&#161;&#199;&#178;?&quot;, but it returns the correct normal text\r\n\r\nThose &quot;weird symbols&quot; are not indicative of a problem. This is the sort of thing you should _expect_ to see when you attempt to decode a random sequence of bytes into characters.\r\n\r\nYour code first _encodes_ a sequence of characters (the `String`) into a sequence of bytes (a `byte[]`). You then _encrypt_ this sequence of bytes and receive a new essentially _random_ sequence of bytes back. The encrypted bytes do not represent a sequence of characters anymore. Attempting to _decode_ these encrypted bytes into a sequence of characters can yield anything from the charset used, including the &quot;fallback/error&quot; character. This is okay though because, again, the encrypted bytes do not represent a sequence of characters.\r\n\r\nWhen you _decrypt_ the encrypted bytes, you get the original sequence of bytes back. The decrypted bytes do, of course, represent a sequence of characters, and thus can be _decoded_ into those characters. Note you must use the same charset when encoding and decoding the plain text in order to guarantee correctness. To ensure this, you should specify a charset. For example:\r\n\r\n```lang-java\r\n// encode\r\nbyte[] bytes = &quot;Hello, World!&quot;.getBytes(StandardCharasets.UTF_8);\r\n// decode\r\nString string = new String(bytes, StandardCharsets.UTF_8);\r\n```\r\n\r\nNote this does not attempt to _decode_ a sequence of _encrypted_ bytes. It decodes the original bytes, the same bytes you&#39;d get back after decrypting the encrypted bytes.\r\n\r\nIf you want to view the encrypted bytes as a `String`, then encoding those bytes into [Base64][1] is a common solution. Base64 can also be used for other non-character bytes, such as image files, or even bytes representing characters.\r\n\r\n```lang-java\r\nbyte[] bytes = &quot;Hello, World!&quot;.getBytes(StandardCharasets.UTF_8);\r\nbyte[] encryptedBytes = encrypt(bytes);\r\nString base64Text = Base64.getEncoder().encodeToString(encryptedBytes);\r\n```\r\n\r\nNote if you store the `base64Text`, then when you go to decrypt, you&#39;ll first need to decode the Base64 bytes into the original _encrypted_ bytes.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Base64.html","title":"Why does my encryption returns weird string of symbols as the encrypted text?","body":"<h2>Second Problem</h2>\n<blockquote>\n<p>The second problem is that the algorithm would return a different encrypted text every time and if I were to save the encrypted text into a database and decrypt it later, would it still work?</p>\n</blockquote>\n<p>Not completely sure I understand what the problem is. At least for the code in your question, for the <strong>same</strong> key and <strong>same</strong> input bytes, you'll get the same encrypted bytes out. But you must use the same key, both when encrypting and decrypting. And this means you need to (securely!) store the key somewhere.</p>\n<p>If you're worried about seeing different output each time you run your example code, then that's because you generate a <strong>new key</strong> each time.</p>\n<p>This can get complicated though, and I'd like to state I'm not a cryptography expert. I believe to use symmetric encryption properly, you want to avoid the same plain text resulting in the same cipher text. There are also different modes of AES, requiring different approaches. My point is that you should either do <strong>a lot</strong> of research, or hire an expert (if not both).</p>\n<hr />\n<h2>First Problem</h2>\n<blockquote>\n<p>The first problem being that the encrypted text is returning weird symbols and not letters, like &quot;c~ù▼=¡£¡?Å♠?¡Ç²?&quot;, but it returns the correct normal text</p>\n</blockquote>\n<p>Those &quot;weird symbols&quot; are not indicative of a problem. This is the sort of thing you should <em>expect</em> to see when you attempt to decode a random sequence of bytes into characters.</p>\n<p>Your code first <em>encodes</em> a sequence of characters (the <code>String</code>) into a sequence of bytes (a <code>byte[]</code>). You then <em>encrypt</em> this sequence of bytes and receive a new essentially <em>random</em> sequence of bytes back. The encrypted bytes do not represent a sequence of characters anymore. Attempting to <em>decode</em> these encrypted bytes into a sequence of characters can yield anything from the charset used, including the &quot;fallback/error&quot; character. This is okay though because, again, the encrypted bytes do not represent a sequence of characters.</p>\n<p>When you <em>decrypt</em> the encrypted bytes, you get the original sequence of bytes back. The decrypted bytes do, of course, represent a sequence of characters, and thus can be <em>decoded</em> into those characters. Note you must use the same charset when encoding and decoding the plain text in order to guarantee correctness. To ensure this, you should specify a charset. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// encode\nbyte[] bytes = &quot;Hello, World!&quot;.getBytes(StandardCharasets.UTF_8);\n// decode\nString string = new String(bytes, StandardCharsets.UTF_8);\n</code></pre>\n<p>Note this does not attempt to <em>decode</em> a sequence of <em>encrypted</em> bytes. It decodes the original bytes, the same bytes you'd get back after decrypting the encrypted bytes.</p>\n<p>If you want to view the encrypted bytes as a <code>String</code>, then encoding those bytes into <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Base64.html\" rel=\"nofollow noreferrer\">Base64</a> is a common solution. Base64 can also be used for other non-character bytes, such as image files, or even bytes representing characters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] bytes = &quot;Hello, World!&quot;.getBytes(StandardCharasets.UTF_8);\nbyte[] encryptedBytes = encrypt(bytes);\nString base64Text = Base64.getEncoder().encodeToString(encryptedBytes);\n</code></pre>\n<p>Note if you store the <code>base64Text</code>, then when you go to decrypt, you'll first need to decode the Base64 bytes into the original <em>encrypted</em> bytes.</p>\n"}],"owner":{"account_id":25752325,"reputation":11,"user_id":19504666,"display_name":"bem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":967,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72907906,"answer_count":3,"score":1,"last_activity_date":1657265682,"creation_date":1657254456,"question_id":72906647,"body_markdown":"I am creating an algorithm where it has to encrypt and decrypt passwords by using JCE and AES. I will keep the encrypted text into a database, however I&#39;m facing two problems. The first problem being that the encrypted text is returning weird symbols and not letters, like &quot;c~&#249;▼=&#161;&#163;&#161;?&#197;♠?&#161;&#199;&#178;?&quot;, but it returns the correct normal text. The second problem is that the algorithm would return a different encrypted text every time and if I were to save the encrypted text into a database and decrypt it later, would it still work? Or would I have to store the value as byte[] or String. \r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        byte[] text1 = &quot;welcome back&quot;.getBytes();\r\n        byte[] text2 = &quot;hello guys&quot;.getBytes();\r\n\r\n        KeyGenerator gen = KeyGenerator.getInstance(&quot;AES&quot;);\r\n        SecretKey key = gen.generateKey();\r\n\r\n        Cipher x = Cipher.getInstance(&quot;AES&quot;);\r\n        x.init(Cipher.ENCRYPT_MODE, key);\r\n        byte[] encryptedText1 = x.doFinal(text1);\r\n        byte[] encryptedText2 = x.doFinal(text2);\r\n\r\n        x.init(Cipher.DECRYPT_MODE,key);\r\n        byte[] decryptedText2 = x.doFinal(encryptedText2);\r\n        byte[] decryptedText1 = x.doFinal(encryptedText1);\r\n        System.out.println(new String(encryptedText1));\r\n        System.out.println(new String(encryptedText2));\r\n        System.out.println(new String(decryptedText1));\r\n        System.out.println(new String(decryptedText2));\r\n    }\r\n\r\nThe results are something like this:\r\n\r\n```lang-none\r\nc~&#249;▼=&#161;&#163;&#161;?&#197;♠?&#161;&#199;&#178;?\r\n&#224;&#201;?&lt;-??Y&#242;*?b?]?\r\nwelcome back\r\nhello guys\r\n```\r\n\r\nIs there anything I can do to fix these problems? Thank you very much.\r\n","title":"Why does my encryption returns weird string of symbols as the encrypted text?","body":"<p>I am creating an algorithm where it has to encrypt and decrypt passwords by using JCE and AES. I will keep the encrypted text into a database, however I'm facing two problems. The first problem being that the encrypted text is returning weird symbols and not letters, like &quot;c~ù▼=¡£¡?Å♠?¡Ç²?&quot;, but it returns the correct normal text. The second problem is that the algorithm would return a different encrypted text every time and if I were to save the encrypted text into a database and decrypt it later, would it still work? Or would I have to store the value as byte[] or String.</p>\n<pre><code>public static void main(String[] args) throws Exception {\n\n    byte[] text1 = &quot;welcome back&quot;.getBytes();\n    byte[] text2 = &quot;hello guys&quot;.getBytes();\n\n    KeyGenerator gen = KeyGenerator.getInstance(&quot;AES&quot;);\n    SecretKey key = gen.generateKey();\n\n    Cipher x = Cipher.getInstance(&quot;AES&quot;);\n    x.init(Cipher.ENCRYPT_MODE, key);\n    byte[] encryptedText1 = x.doFinal(text1);\n    byte[] encryptedText2 = x.doFinal(text2);\n\n    x.init(Cipher.DECRYPT_MODE,key);\n    byte[] decryptedText2 = x.doFinal(encryptedText2);\n    byte[] decryptedText1 = x.doFinal(encryptedText1);\n    System.out.println(new String(encryptedText1));\n    System.out.println(new String(encryptedText2));\n    System.out.println(new String(decryptedText1));\n    System.out.println(new String(decryptedText2));\n}\n</code></pre>\n<p>The results are something like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>c~ù▼=¡£¡?Å♠?¡Ç²?\nàÉ?&lt;-??Yò*?b?]?\nwelcome back\nhello guys\n</code></pre>\n<p>Is there anything I can do to fix these problems? Thank you very much.</p>\n"},{"tags":["java","javafx","raspberry-pi","executable-jar","javafxports"],"comments":[{"owner":{"account_id":9165235,"reputation":15414,"user_id":6815131,"display_name":"Joe C"},"score":1,"creation_date":1499541547,"post_id":44989904,"comment_id":76954585,"body_markdown":"Welcome to Stack Overflow!  Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include the desired behavior, _a specific problem or error_ and _the shortest code necessary_ to reproduce it **in the question itself**. Questions without a clear problem statement are not useful to other readers. See: [How to create a Minimal, Complete, and Verifiable example](http://stackoverflow.com/help/mcve).","body":"Welcome to Stack Overflow!  Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include the desired behavior, <i>a specific problem or error</i> and <i>the shortest code necessary</i> to reproduce it <b>in the question itself</b>. Questions without a clear problem statement are not useful to other readers. See: <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>."},{"owner":{"account_id":5237964,"reputation":6741,"user_id":4185959,"accept_rate":64,"display_name":"Itai"},"score":0,"creation_date":1499573076,"post_id":44989904,"comment_id":76960418,"body_markdown":"Possibly related to [this bug report](https://bitbucket.org/javafxports/android/issues/90/unnecessary-creation-of-font_map-for-every)","body":"Possibly related to <a href=\"https://bitbucket.org/javafxports/android/issues/90/unnecessary-creation-of-font_map-for-every\" rel=\"nofollow noreferrer\">this bug report</a>"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1499593106,"post_id":44989904,"comment_id":76963982,"body_markdown":"Have you tried running a recent Oracle JDK on your Pi? Have you run a regular JavaFX sample on your Pi, and if so, how it behaves? As already stated above, without code or stacktraces we can&#39;t really help.","body":"Have you tried running a recent Oracle JDK on your Pi? Have you run a regular JavaFX sample on your Pi, and if so, how it behaves? As already stated above, without code or stacktraces we can&#39;t really help."}],"answers":[{"tags":[],"owner":{"account_id":11286126,"reputation":103,"user_id":8277037,"display_name":"Thinklex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657265597,"creation_date":1499807214,"answer_id":45044465,"question_id":44989904,"body_markdown":"Thanks for your quick answers and suggestions, but today I found the solution (tldr; including images of the meeples lead to exceptions, which lead to a bad performance. Removing the images improved the performance):\r\n\r\n@Joe C - with my next question I will specify the problem more clearly ;)\r\n\r\n@sillyfly - no but thx. for your answer\r\n\r\n@Jos&#234; - Yes I tried. The first program I used gave me the same bug, but today I tried another self-written one -&gt; this one worked fine -&gt; see below\r\n\r\nThe problem was that the PI couldn&#39;t render my Meeples (they were basically images). I found this out using the stack trace of the PI. Two days ago I couldn&#180;t access the stack trace, due to an impossibility of exiting the game, now I developed an exit function, and here goes the stack trace. It showed me, that there is a null pointer at `com.sun.prism.impl.BaseGraphics.drawTexture(BaseGraphics.java:4000)` - this is for rendering Images (as far as I know).\r\n\r\nToday I removed my meeple images. I don&#180;t know why the PI can&#180;t render these images but it works fine now :)\r\n\r\n-Alex\r\n","title":"Raspbian JavaFX VERY VERY SLOW","body":"<p>Thanks for your quick answers and suggestions, but today I found the solution (tldr; including images of the meeples lead to exceptions, which lead to a bad performance. Removing the images improved the performance):</p>\n<p>@Joe C - with my next question I will specify the problem more clearly ;)</p>\n<p>@sillyfly - no but thx. for your answer</p>\n<p>@Josê - Yes I tried. The first program I used gave me the same bug, but today I tried another self-written one -&gt; this one worked fine -&gt; see below</p>\n<p>The problem was that the PI couldn't render my Meeples (they were basically images). I found this out using the stack trace of the PI. Two days ago I couldn´t access the stack trace, due to an impossibility of exiting the game, now I developed an exit function, and here goes the stack trace. It showed me, that there is a null pointer at <code>com.sun.prism.impl.BaseGraphics.drawTexture(BaseGraphics.java:4000)</code> - this is for rendering Images (as far as I know).</p>\n<p>Today I removed my meeple images. I don´t know why the PI can´t render these images but it works fine now :)</p>\n<p>-Alex</p>\n"}],"owner":{"account_id":11286126,"reputation":103,"user_id":8277037,"display_name":"Thinklex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":804,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":45044465,"answer_count":1,"score":2,"last_activity_date":1657265597,"creation_date":1499541320,"question_id":44989904,"body_markdown":"Hello Stackoverflow Community!\r\n\r\nI am facing a problem,\r\nwhen I want to execute my self-written JavaFX runnable Jar file program (it is a Chess game).\r\n\r\n\r\nWhen I execute the program it needs about ten seconds to start.\r\nAfter the start, when I want to select a piece or the menu items there are two possible options:\r\n\r\n 1. The Gui freezes completely after startup\r\n 2. I may click on a piece and it needs around 5 sec. to select it and when I want to hover (no self-written event) on the JavaFX menubar, the PI freezes for about 5 sec. and then displays the blue hover color.\r\n\r\nI have a Raspberry PI 3.\r\n\r\nI have currently installed the Java Environment: ,,openjdk version &quot;1.8.0_40-internal&quot; (`$ java -version`)\r\n\r\nI added manually the JavaFX files (they are not included in this openjdk version) as it is mentioned at:[Gluonhq][1] -section 2.1.4\r\n\r\nI run the Jar file with: `java -jar Chess.jar` -&gt; Chess.jar is jar file\r\n\r\n\r\nThe game runs without these errors on Linux Mint (openjdk version &quot;1.8.0_131&quot;) and Windows 10. \r\n\r\nI don&#180;t know what is the source of the problem. Maybe JavaFX on the PI is simply not a good idea?\r\n\r\nAnyway thanks for the help,\r\n\r\nAlex\r\n\r\n\r\n  [1]: http://docs.gluonhq.com/javafxports/","title":"Raspbian JavaFX VERY VERY SLOW","body":"<p>Hello Stackoverflow Community!</p>\n<p>I am facing a problem,\nwhen I want to execute my self-written JavaFX runnable Jar file program (it is a Chess game).</p>\n<p>When I execute the program it needs about ten seconds to start.\nAfter the start, when I want to select a piece or the menu items there are two possible options:</p>\n<ol>\n<li>The Gui freezes completely after startup</li>\n<li>I may click on a piece and it needs around 5 sec. to select it and when I want to hover (no self-written event) on the JavaFX menubar, the PI freezes for about 5 sec. and then displays the blue hover color.</li>\n</ol>\n<p>I have a Raspberry PI 3.</p>\n<p>I have currently installed the Java Environment: ,,openjdk version &quot;1.8.0_40-internal&quot; (<code>$ java -version</code>)</p>\n<p>I added manually the JavaFX files (they are not included in this openjdk version) as it is mentioned at:<a href=\"http://docs.gluonhq.com/javafxports/\" rel=\"nofollow noreferrer\">Gluonhq</a> -section 2.1.4</p>\n<p>I run the Jar file with: <code>java -jar Chess.jar</code> -&gt; Chess.jar is jar file</p>\n<p>The game runs without these errors on Linux Mint (openjdk version &quot;1.8.0_131&quot;) and Windows 10.</p>\n<p>I don´t know what is the source of the problem. Maybe JavaFX on the PI is simply not a good idea?</p>\n<p>Anyway thanks for the help,</p>\n<p>Alex</p>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":14245148,"reputation":949,"user_id":10582056,"display_name":"ahrooran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1657265335,"creation_date":1657265335,"question_id":72908096,"body_markdown":"I have an executor set up to be invoked via bean.\r\n\r\n    @Configuration\r\n    public class ExecutorConfiguration {\r\n    \r\n        @Bean\r\n        @Scope(ConfigurableBeanFactory.SCOPE_SINGLETON)\r\n        public ScheduledExecutorService jobExecutor(@Value(&quot;${scheduler.jobs}&quot;) Integer jobs) {\r\n            return Executors.newScheduledThreadPool(jobs);\r\n        }\r\n    }\r\n\r\nI control the shutdown operation of this executor via user input. Once shutdown, this executor will not start back up (no option for restart or submit new tasks).\r\n\r\nHence I want to re-instantiate the bean with a new executor. But only if the existing executor `isShutdown()` (I can check whether its shutdown or not)\r\n\r\nHow can I achieve this via Spring Boot? Or should I manually create an executor at runtime without the spring way (i.e., create a POJO singleton executor)","title":"Re-instantiating a bean","body":"<p>I have an executor set up to be invoked via bean.</p>\n<pre><code>@Configuration\npublic class ExecutorConfiguration {\n\n    @Bean\n    @Scope(ConfigurableBeanFactory.SCOPE_SINGLETON)\n    public ScheduledExecutorService jobExecutor(@Value(&quot;${scheduler.jobs}&quot;) Integer jobs) {\n        return Executors.newScheduledThreadPool(jobs);\n    }\n}\n</code></pre>\n<p>I control the shutdown operation of this executor via user input. Once shutdown, this executor will not start back up (no option for restart or submit new tasks).</p>\n<p>Hence I want to re-instantiate the bean with a new executor. But only if the existing executor <code>isShutdown()</code> (I can check whether its shutdown or not)</p>\n<p>How can I achieve this via Spring Boot? Or should I manually create an executor at runtime without the spring way (i.e., create a POJO singleton executor)</p>\n"},{"tags":["java"],"owner":{"account_id":25614847,"reputation":1,"user_id":19387606,"display_name":"temmpies "},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1657258884,"answer_count":1,"score":-4,"last_activity_date":1657264833,"creation_date":1657253037,"question_id":72906505,"body_markdown":"Is there a way I could take a &quot;5 word wordlist&quot; and add the same word list on to it so it would create a new word-list that will have 25 words?\r\n\r\nFor Ex:\r\n\r\nMy word-list is:\r\nHello\r\nHi\r\nBye\r\n\r\nAnd the new word-list would be:\r\n\r\nHelloHello\r\nHelloHi\r\nHelloBye\r\nHiHello\r\n\r\netc....\r\n\r\nAnd Possibly if the word is over a certain amount of charecters it wouldnt add that word to the new word-list.","title":"Adding word lists on top of each other in Java","body":"<p>Is there a way I could take a &quot;5 word wordlist&quot; and add the same word list on to it so it would create a new word-list that will have 25 words?</p>\n<p>For Ex:</p>\n<p>My word-list is:\nHello\nHi\nBye</p>\n<p>And the new word-list would be:</p>\n<p>HelloHello\nHelloHi\nHelloBye\nHiHello</p>\n<p>etc....</p>\n<p>And Possibly if the word is over a certain amount of charecters it wouldnt add that word to the new word-list.</p>\n"},{"tags":["java","spring-mvc","jsp"],"owner":{"account_id":25756886,"reputation":1,"user_id":19508405,"display_name":"user19508405"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657264808,"creation_date":1657264808,"question_id":72908007,"body_markdown":"JSP PAGE\r\n\r\n```\r\n&lt;form:form action=&quot;${pageContext.request.contextPath}/viewCSV&quot; id=&quot;form&quot;&gt;\r\n\r\n&lt;button type=&quot;button&quot; class=&quot;btn btn-default&quot; formaction=&quot;viewCSV&quot;&gt;download&lt;/button&gt;\r\n&lt;/form:form&gt;\r\n```\r\n\r\nController \r\n```\r\n@RequestMapping( value =&quot;/viewCSV&quot;)\r\npublic String viewCSV(HttpServletRequest request, HttpServletResponse response)\r\n{\r\n\r\nSystem.out.println(&quot;entered function&quot;);\r\nreturn &quot;&quot;;\r\n}\r\n```\r\n\r\nWe are ale to hit other mapping at same controller but unable to hit this one map viewCSV.\r\n \r\nanyone can give solution for this issues.","title":"Mapping is not working properly at my spring mvc project using maveen","body":"<p>JSP PAGE</p>\n<pre><code>&lt;form:form action=&quot;${pageContext.request.contextPath}/viewCSV&quot; id=&quot;form&quot;&gt;\n\n&lt;button type=&quot;button&quot; class=&quot;btn btn-default&quot; formaction=&quot;viewCSV&quot;&gt;download&lt;/button&gt;\n&lt;/form:form&gt;\n</code></pre>\n<p>Controller</p>\n<pre><code>@RequestMapping( value =&quot;/viewCSV&quot;)\npublic String viewCSV(HttpServletRequest request, HttpServletResponse response)\n{\n\nSystem.out.println(&quot;entered function&quot;);\nreturn &quot;&quot;;\n}\n</code></pre>\n<p>We are ale to hit other mapping at same controller but unable to hit this one map viewCSV.</p>\n<p>anyone can give solution for this issues.</p>\n"},{"tags":["java","json","sockets","server","client"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1657224466,"post_id":72903490,"comment_id":128766854,"body_markdown":"What is `JSONObject`? From which package and/or library it comes? Try to take a look at result of `json.toString()` since that is what will be sent by `printWriter.print(json);`","body":"What is <code>JSONObject</code>? From which package and/or library it comes? Try to take a look at result of <code>json.toString()</code> since that is what will be sent by <code>printWriter.print(json);</code>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1657224884,"post_id":72903490,"comment_id":128766984,"body_markdown":"BTW `catch(IOException e) { System.out.println(&quot;!&quot;); }` is bad idea, unless you really don&#39;t want to know *what* is wrong with your application. Usually we use `e.printStackTrace();` instead to help us debug the issue (more info: [What is a stack trace, and how can I use it to debug my application errors?](https://stackoverflow.com/q/3988788))","body":"BTW <code>catch(IOException e) { System.out.println(&quot;!&quot;); }</code> is bad idea, unless you really don&#39;t want to know <i>what</i> is wrong with your application. Usually we use <code>e.printStackTrace();</code> instead to help us debug the issue (more info: <a href=\"https://stackoverflow.com/q/3988788\">What is a stack trace, and how can I use it to debug my application errors?</a>)"},{"owner":{"account_id":25589,"reputation":562121,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"score":0,"creation_date":1657238882,"post_id":72903490,"comment_id":128769925,"body_markdown":"Your receiving code is expecting the JSON to be line-oriented, but JSON is not required to have line breaks in it. The receiving code is also reading until the connection is disconnected, but the sender code is not closing the socket after sending the JSON. The best way to handle this situation is to have the sender send the JSON&#39;s length before sending the actual JSON, and then have the receiver stop reading when it has read the specified amount.","body":"Your receiving code is expecting the JSON to be line-oriented, but JSON is not required to have line breaks in it. The receiving code is also reading until the connection is disconnected, but the sender code is not closing the socket after sending the JSON. The best way to handle this situation is to have the sender send the JSON&#39;s length before sending the actual JSON, and then have the receiver stop reading when it has read the specified amount."}],"answers":[{"tags":[],"owner":{"account_id":19186393,"reputation":102,"user_id":14017100,"display_name":"ARCHER"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657264487,"creation_date":1657225297,"answer_id":72903794,"question_id":72903490,"body_markdown":"&gt; &gt;When reading data in bytes, we need to define our own protocol for communication between server and client. The simplest protocol which\r\n&gt; we can define is called TLV (Type Length Value). It means that every\r\n&gt; *message written to the socket is in the form *of the Type Length Value.\r\n&gt; \r\n&gt; So we define every message sent as:\r\n&gt; \r\n&gt; A 1 byte character that represents the data type, like s for String A\r\n&gt; 4 byte integer that indicates the length to the data And then the\r\n&gt; actual data, whose length was just indicated\r\n\r\n    DataInputStream in = new DataInputStream(new BufferedInputStream(socket.getInputStream()));\r\n    char dataType = in.readChar();\r\n    int length = in.readInt();\r\n        if(dataType == &#39;s&#39;) {\r\n            byte[] messageByte = new byte[length];\r\n            boolean end = false;\r\n            StringBuilder dataString = new StringBuilder(length);\r\n            int totalBytesRead = 0;\r\n            while(!end) {\r\n                int currentBytesRead = in.read(messageByte);\r\n                totalBytesRead = currentBytesRead + totalBytesRead;\r\n                if(totalBytesRead &lt;= length) {\r\n                    dataString\r\n                      .append(new String(messageByte, 0, currentBytesRead, StandardCharsets.UTF_8));\r\n                } else {\r\n                    dataString\r\n                      .append(new String(messageByte, 0, length - totalBytesRead + currentBytesRead, \r\n                      StandardCharsets.UTF_8));\r\n                }\r\n                if(dataString.length()&gt;=length) {\r\n                    end = true;\r\n                }\r\n            }\r\n        }\r\n\r\n**More detail info can be found here**\r\nhttps://www.baeldung.com/java-inputstream-server-socket","title":"How do I read a Json from a socket? Java","body":"<blockquote>\n<blockquote>\n<p>When reading data in bytes, we need to define our own protocol for communication between server and client. The simplest protocol which\nwe can define is called TLV (Type Length Value). It means that every\n*message written to the socket is in the form *of the Type Length Value.</p>\n</blockquote>\n<p>So we define every message sent as:</p>\n<p>A 1 byte character that represents the data type, like s for String A\n4 byte integer that indicates the length to the data And then the\nactual data, whose length was just indicated</p>\n</blockquote>\n<pre><code>DataInputStream in = new DataInputStream(new BufferedInputStream(socket.getInputStream()));\nchar dataType = in.readChar();\nint length = in.readInt();\n    if(dataType == 's') {\n        byte[] messageByte = new byte[length];\n        boolean end = false;\n        StringBuilder dataString = new StringBuilder(length);\n        int totalBytesRead = 0;\n        while(!end) {\n            int currentBytesRead = in.read(messageByte);\n            totalBytesRead = currentBytesRead + totalBytesRead;\n            if(totalBytesRead &lt;= length) {\n                dataString\n                  .append(new String(messageByte, 0, currentBytesRead, StandardCharsets.UTF_8));\n            } else {\n                dataString\n                  .append(new String(messageByte, 0, length - totalBytesRead + currentBytesRead, \n                  StandardCharsets.UTF_8));\n            }\n            if(dataString.length()&gt;=length) {\n                end = true;\n            }\n        }\n    }\n</code></pre>\n<p><strong>More detail info can be found here</strong>\n<a href=\"https://www.baeldung.com/java-inputstream-server-socket\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-inputstream-server-socket</a></p>\n"},{"tags":[],"owner":{"account_id":25753892,"reputation":1,"user_id":19505946,"display_name":"elkapita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657231262,"creation_date":1657230598,"answer_id":72904619,"question_id":72903490,"body_markdown":"1. Consider using `javax websocket`.\r\n\r\n[javax.websocket client simple example][1]\r\n\r\nYou can simply implement `MessageHandler` and specify the type parameter you expecting to receive using POJOs.\r\n\r\n        @Override\r\n    public void onOpen(Session session, EndpointConfig config) {\r\n        session.addMessageHandler(new MessageHandler.Whole&lt;MyJsonObject&gt;() {\r\n    \r\n            @Override\r\n            public void onMessage(MyJsonObject message) {\r\n            //do something\r\n            }\r\n        });\r\n    }\r\n\r\nThat way you are creating a listener (@OnMessage) and handling each message as soon as it received. You can also implement MessageHandler with String type parameter and handle parsing the json yourself inside `OnMessage` method;\r\n\r\n    @Override\r\n    public void onOpen(Session session, EndpointConfig config) {\r\n        session.addMessageHandler(new MessageHandler.Whole&lt;String&gt;() {\r\n    \r\n            @Override\r\n            public void onMessage(String message) {\r\n                MyJsonObject jObj = new ObjectMapper().readValue(message, MyJsonObject.class);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n2. If you want to stick with java net socket consider switching to [Jackson Object Mapper][2] from JSONObject, that way you can convert input stream into any object:\r\n\r\n            private static void readMessageFromServer(Socket socket){\r\n               InputStream in = socket.getInputStream();\r\n               MyObject obj = new ObjectMapper().readValue(in, MyObject.class); \r\n            }\r\n\r\nmore javax webSocket [examples][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/26452903/javax-websocket-client-simple-example\r\n  [2]: https://stackabuse.com/definitive-guide-to-jackson-objectmapper-serialize-and-deserialize-java-objects/\r\n  [3]: https://www.programcreek.com/java-api-examples/?api=javax.websocket.MessageHandler\r\n","title":"How do I read a Json from a socket? Java","body":"<ol>\n<li>Consider using <code>javax websocket</code>.</li>\n</ol>\n<p><a href=\"https://stackoverflow.com/questions/26452903/javax-websocket-client-simple-example\">javax.websocket client simple example</a></p>\n<p>You can simply implement <code>MessageHandler</code> and specify the type parameter you expecting to receive using POJOs.</p>\n<pre><code>    @Override\npublic void onOpen(Session session, EndpointConfig config) {\n    session.addMessageHandler(new MessageHandler.Whole&lt;MyJsonObject&gt;() {\n\n        @Override\n        public void onMessage(MyJsonObject message) {\n        //do something\n        }\n    });\n}\n</code></pre>\n<p>That way you are creating a listener (@OnMessage) and handling each message as soon as it received. You can also implement MessageHandler with String type parameter and handle parsing the json yourself inside <code>OnMessage</code> method;</p>\n<pre><code>@Override\npublic void onOpen(Session session, EndpointConfig config) {\n    session.addMessageHandler(new MessageHandler.Whole&lt;String&gt;() {\n\n        @Override\n        public void onMessage(String message) {\n            MyJsonObject jObj = new ObjectMapper().readValue(message, MyJsonObject.class);\n        }\n    });\n}\n</code></pre>\n<ol start=\"2\">\n<li><p>If you want to stick with java net socket consider switching to <a href=\"https://stackabuse.com/definitive-guide-to-jackson-objectmapper-serialize-and-deserialize-java-objects/\" rel=\"nofollow noreferrer\">Jackson Object Mapper</a> from JSONObject, that way you can convert input stream into any object:</p>\n<pre><code>     private static void readMessageFromServer(Socket socket){\n        InputStream in = socket.getInputStream();\n        MyObject obj = new ObjectMapper().readValue(in, MyObject.class); \n     }\n</code></pre>\n</li>\n</ol>\n<p>more javax webSocket <a href=\"https://www.programcreek.com/java-api-examples/?api=javax.websocket.MessageHandler\" rel=\"nofollow noreferrer\">examples</a></p>\n"}],"owner":{"account_id":25753491,"reputation":1,"user_id":19505622,"display_name":"Lunarr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657264487,"creation_date":1657223450,"question_id":72903490,"body_markdown":"I am doing a Server/Client network. The messages are send as Json Objects. \r\nI have a method for writing the Json-Object but my method for reading the Json-Object doesnt work. I dont have any exceptions but there is no output like excpected. Something must be wrong with the bufferedReader. I dont know how to get that Json-Object from the socket who sent it.\r\nMethod for writing:\r\n```\r\npublic void writeMessage(JSONObject json) {\r\n        try {\r\n            PrintWriter printWriter = new PrintWriter(\r\n                    new OutputStreamWriter(\r\n                            socket.getOutputStream())); \r\n            printWriter.print(json);\r\n            printWriter.flush();\r\n\r\n        } catch (IOException writeMessageException) {\r\n            System.out.println(&quot;!&quot;);\r\n\r\n        }\r\n    }\r\n```\r\nmethod for reading the message/ receiving the message:\r\n```\r\nprivate static void readMessageFromServer(Socket socket) {\r\n        try (BufferedReader br = new BufferedReader(new InputStreamReader(socket.getInputStream()))) \r\n    {\r\n         StringBuilder sb = new StringBuilder();\r\n            String readLine;\r\n\t\t\twhile ((readLine = br.readLine()) != null) {\r\n                sb.append(readLine);\r\n            }\r\n            JSONObject js = new JSONObject(sb.toString());\r\n        String action1 = (String) js.get(&quot;action1&quot;);\r\n    System.out.println(action1);\r\n    } catch(IOException e) {\r\n        System.out.println(&quot;!&quot;);\r\n    }\r\n    }\r\n ```\r\nThank you :)\r\n\r\n","title":"How do I read a Json from a socket? Java","body":"<p>I am doing a Server/Client network. The messages are send as Json Objects.\nI have a method for writing the Json-Object but my method for reading the Json-Object doesnt work. I dont have any exceptions but there is no output like excpected. Something must be wrong with the bufferedReader. I dont know how to get that Json-Object from the socket who sent it.\nMethod for writing:</p>\n<pre><code>public void writeMessage(JSONObject json) {\n        try {\n            PrintWriter printWriter = new PrintWriter(\n                    new OutputStreamWriter(\n                            socket.getOutputStream())); \n            printWriter.print(json);\n            printWriter.flush();\n\n        } catch (IOException writeMessageException) {\n            System.out.println(&quot;!&quot;);\n\n        }\n    }\n</code></pre>\n<p>method for reading the message/ receiving the message:</p>\n<pre><code>private static void readMessageFromServer(Socket socket) {\n        try (BufferedReader br = new BufferedReader(new InputStreamReader(socket.getInputStream()))) \n    {\n         StringBuilder sb = new StringBuilder();\n            String readLine;\n            while ((readLine = br.readLine()) != null) {\n                sb.append(readLine);\n            }\n            JSONObject js = new JSONObject(sb.toString());\n        String action1 = (String) js.get(&quot;action1&quot;);\n    System.out.println(action1);\n    } catch(IOException e) {\n        System.out.println(&quot;!&quot;);\n    }\n    }\n</code></pre>\n<p>Thank you :)</p>\n"},{"tags":["java","eclipse","testing","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657264293,"creation_date":1588231080,"answer_id":61517880,"question_id":61506968,"body_markdown":"The error message is telling you that your method call is not a method call on a mock.\r\n\r\n```\r\norg.mockito.exceptions.misusing.MissingMethodInvocationException: \r\nwhen() requires an argument which has to be &#39;a method call on a mock&#39;.\r\nFor example:\r\n    when(mock.getArticles()).thenReturn(articles);\r\n```\r\n\r\nWhy? Because you are trying to mock **static** method.\r\n\r\n```\r\nMockito.when(mockBookSearch.returnFiveBooks(searchResults)).thenReturn(topFive);\r\n```\r\nwhich is equivalent to:\r\n```\r\nMockito.when(BookSearch.returnFiveBooks(searchResults)).thenReturn(topFive);\r\n```\r\n\r\nMockito cannot be used to mock static methods.\r\n\r\nThis explains the error you receive.\r\nBut more fundamental problem with your code is that you have a method under test, and mock it in the test. This makes no sense. You should mock collaborators used by your method (there are no in your code).\r\nTo test `returnFiveBooks` you don&#39;t need mocks at all:\r\n```\r\n@Test\r\npublic void returnFiveBooksFromSearchResults() {\r\n    var topFive = BookSearch.returnFiveBooks(searchResults);\r\n    assertEquals(topFive.size(), 5);\r\n}\r\n```\r\n\r\nEdit: Mocking static methods is supported since Mockito 3.4.0","title":"How can I solve this Mockito MissingMethodInvocationException using when()...?","body":"<p>The error message is telling you that your method call is not a method call on a mock.</p>\n<pre><code>org.mockito.exceptions.misusing.MissingMethodInvocationException: \nwhen() requires an argument which has to be 'a method call on a mock'.\nFor example:\n    when(mock.getArticles()).thenReturn(articles);\n</code></pre>\n<p>Why? Because you are trying to mock <strong>static</strong> method.</p>\n<pre><code>Mockito.when(mockBookSearch.returnFiveBooks(searchResults)).thenReturn(topFive);\n</code></pre>\n<p>which is equivalent to:</p>\n<pre><code>Mockito.when(BookSearch.returnFiveBooks(searchResults)).thenReturn(topFive);\n</code></pre>\n<p>Mockito cannot be used to mock static methods.</p>\n<p>This explains the error you receive.\nBut more fundamental problem with your code is that you have a method under test, and mock it in the test. This makes no sense. You should mock collaborators used by your method (there are no in your code).\nTo test <code>returnFiveBooks</code> you don't need mocks at all:</p>\n<pre><code>@Test\npublic void returnFiveBooksFromSearchResults() {\n    var topFive = BookSearch.returnFiveBooks(searchResults);\n    assertEquals(topFive.size(), 5);\n}\n</code></pre>\n<p>Edit: Mocking static methods is supported since Mockito 3.4.0</p>\n"}],"owner":{"account_id":7208375,"reputation":13,"user_id":5503293,"display_name":"ntolch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1808,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61517880,"answer_count":1,"score":1,"last_activity_date":1657264293,"creation_date":1588178467,"question_id":61506968,"body_markdown":"In Eclipse, using junit and Mockito.\r\nI&#39;m trying to test that a method returns a List of certain size, but get the following error:  \r\n\r\n&gt; org.mockito.exceptions.misusing.MissingMethodInvocationException: \r\n&gt; when() requires an argument which has to be &#39;a method call on a mock&#39;.\r\n&gt; For example:\r\n&gt;     when(mock.getArticles()).thenReturn(articles);\r\n&gt; \r\n&gt; Also, this error might show up because:\r\n&gt; 1. you stub either of: final/private/equals()/hashCode() methods.    Those methods *cannot* be stubbed/verified.\r\n&gt; 2. inside when() you don&#39;t call method on mock but on some other object.\r\n\r\nMy test:\r\n\r\n    class ValidateBookResultsTests {\r\n\r\n\tpublic static ArrayList&lt;Book&gt; searchResults = new ArrayList&lt;Book&gt;();\r\n\tpublic static List&lt;Book&gt; topFive;\r\n\tpublic static ArrayList&lt;String&gt; authors = new ArrayList&lt;String&gt;();\r\n\t\r\n\tpublic static Book book1;\r\n\tpublic static Book book2;\r\n\tpublic static Book book3;\r\n\tpublic static Book book4;\r\n\tpublic static Book book5;\r\n\tpublic static Book book6;\r\n\r\n\t@BeforeEach\r\n\tpublic void setUp() {\r\n\t\tbook1 = new Book(&quot;title1&quot;, authors, &quot;publisher1&quot;);\r\n\t\tbook2 = new Book(&quot;title2&quot;, authors, &quot;publisher2&quot;);\r\n\t\tbook3 = new Book(&quot;title3&quot;, authors, &quot;publisher3&quot;);\r\n\t\tbook4 = new Book(&quot;title4&quot;, authors, &quot;publisher4&quot;);\r\n\t\tbook5 = new Book(&quot;title5&quot;, authors, &quot;publisher5&quot;);\r\n\t\tbook6 = new Book(&quot;title6&quot;, authors, &quot;publisher6&quot;);\r\n\t\t\r\n\t\tsearchResults.add(book1);\r\n\t\tsearchResults.add(book2);\r\n\t\tsearchResults.add(book3);\r\n\t\tsearchResults.add(book4);\r\n\t\tsearchResults.add(book5);\r\n\t\tsearchResults.add(book6);\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void returnFiveBooksFromSearchResults() {\r\n\t\tauthors.add(&quot;John Doe&quot;);\r\n\t\tauthors.add(&quot;Bill Gates&quot;);\r\n\t\t\r\n\t\tBookSearch mockBookSearch = Mockito.mock(BookSearch.class);\r\n\t\tMockito.when(mockBookSearch.returnFiveBooks(searchResults)).thenReturn(topFive);\r\n\t\t\r\n\t\tSystem.out.println(&quot;return books: &quot; + mockBookSearch.returnFiveBooks(searchResults));\r\n\t\tSystem.out.println(&quot;top: &quot;+ topFive);\r\n\t\t\r\n\t\tassertEquals(topFive.size(), 5);\r\n     }\r\n\t}\r\n\r\n\r\nMy relevant code:\r\n\r\n    public static List&lt;Book&gt; returnFiveBooks(ArrayList&lt;Book&gt; searchResults) {\r\n      Collections.shuffle(searchResults);\r\n      topFive = searchResults.subList(0, 5);\r\n    \r\n      printFiveResults();\r\n    \r\n      return topFive; }\r\n  \r\n\r\n\r\n\r\nI&#39;ve read other solutions that say to create a mock class/object, which I believe I&#39;ve done with \r\n&quot;BookSearch mockBookSearch = Mockito.mock(BookSearch.class);&quot;\r\n\r\nWhat am I missing?","title":"How can I solve this Mockito MissingMethodInvocationException using when()...?","body":"<p>In Eclipse, using junit and Mockito.\nI'm trying to test that a method returns a List of certain size, but get the following error:  </p>\n\n<blockquote>\n  <p>org.mockito.exceptions.misusing.MissingMethodInvocationException: \n  when() requires an argument which has to be 'a method call on a mock'.\n  For example:\n      when(mock.getArticles()).thenReturn(articles);</p>\n  \n  <p>Also, this error might show up because:\n  1. you stub either of: final/private/equals()/hashCode() methods.    Those methods <em>cannot</em> be stubbed/verified.\n  2. inside when() you don't call method on mock but on some other object.</p>\n</blockquote>\n\n<p>My test:</p>\n\n<pre><code>class ValidateBookResultsTests {\n\npublic static ArrayList&lt;Book&gt; searchResults = new ArrayList&lt;Book&gt;();\npublic static List&lt;Book&gt; topFive;\npublic static ArrayList&lt;String&gt; authors = new ArrayList&lt;String&gt;();\n\npublic static Book book1;\npublic static Book book2;\npublic static Book book3;\npublic static Book book4;\npublic static Book book5;\npublic static Book book6;\n\n@BeforeEach\npublic void setUp() {\n    book1 = new Book(\"title1\", authors, \"publisher1\");\n    book2 = new Book(\"title2\", authors, \"publisher2\");\n    book3 = new Book(\"title3\", authors, \"publisher3\");\n    book4 = new Book(\"title4\", authors, \"publisher4\");\n    book5 = new Book(\"title5\", authors, \"publisher5\");\n    book6 = new Book(\"title6\", authors, \"publisher6\");\n\n    searchResults.add(book1);\n    searchResults.add(book2);\n    searchResults.add(book3);\n    searchResults.add(book4);\n    searchResults.add(book5);\n    searchResults.add(book6);\n}\n\n@Test\npublic void returnFiveBooksFromSearchResults() {\n    authors.add(\"John Doe\");\n    authors.add(\"Bill Gates\");\n\n    BookSearch mockBookSearch = Mockito.mock(BookSearch.class);\n    Mockito.when(mockBookSearch.returnFiveBooks(searchResults)).thenReturn(topFive);\n\n    System.out.println(\"return books: \" + mockBookSearch.returnFiveBooks(searchResults));\n    System.out.println(\"top: \"+ topFive);\n\n    assertEquals(topFive.size(), 5);\n }\n}\n</code></pre>\n\n<p>My relevant code:</p>\n\n<pre><code>public static List&lt;Book&gt; returnFiveBooks(ArrayList&lt;Book&gt; searchResults) {\n  Collections.shuffle(searchResults);\n  topFive = searchResults.subList(0, 5);\n\n  printFiveResults();\n\n  return topFive; }\n</code></pre>\n\n<p>I've read other solutions that say to create a mock class/object, which I believe I've done with \n\"BookSearch mockBookSearch = Mockito.mock(BookSearch.class);\"</p>\n\n<p>What am I missing?</p>\n"},{"tags":["java","file","download","anchor","vaadin14"],"answers":[{"tags":[],"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657264158,"creation_date":1657264158,"answer_id":72907877,"question_id":72906971,"body_markdown":"You can&#39;t start a download from a server-side event listener, no. The browser will block this; it&#39;s a security limitation. This is because there&#39;s no way to link the &quot;click&quot; function call to the original user event, and all downloads must be directly initiated by the user.\r\n\r\nThe proper solution would probably be something like a custom Servlet or a RequestHandler that handles the generation of the content. Do also check https://vaadin.com/directory/component/lazy-download-button for ideas.","title":"Is there a way to call an anchor after a Context Menu Item is clicked?","body":"<p>You can't start a download from a server-side event listener, no. The browser will block this; it's a security limitation. This is because there's no way to link the &quot;click&quot; function call to the original user event, and all downloads must be directly initiated by the user.</p>\n<p>The proper solution would probably be something like a custom Servlet or a RequestHandler that handles the generation of the content. Do also check <a href=\"https://vaadin.com/directory/component/lazy-download-button\" rel=\"nofollow noreferrer\">https://vaadin.com/directory/component/lazy-download-button</a> for ideas.</p>\n"}],"owner":{"account_id":22510881,"reputation":110,"user_id":16705849,"display_name":"Lukas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72907877,"answer_count":1,"score":0,"last_activity_date":1657264158,"creation_date":1657257562,"question_id":72906971,"body_markdown":"Im trying to download a file using the anchor and a context menu. I need to create the anchor dynamically, so that means I need to call a function, before the anchor gets called. \r\n\r\nI already tried the following:\r\n```\r\nthis.ctmFilesGrid.addItem(&quot;  Download&quot;, click -&gt; {\r\n\t\t\tif(click.getItem().isPresent()) {\r\n\t\t\t\tthis.fDownloadingFile = click.getItem().get();\r\n\t\t\t\tthis.createDownloadingAnchor();\t\r\n\t\t\t\tthis.ancFileDownloader.getElement().callJsFunction(&quot;click&quot;);\r\n\t\t\t}\r\n\t\t}).addComponentAsFirst(FontAwesome.Solid.FILE_DOWNLOAD.create());\r\n```\r\nBut the anchor isnt called.\r\n\r\nI hope someone can help me with that.\r\nThanks in advance","title":"Is there a way to call an anchor after a Context Menu Item is clicked?","body":"<p>Im trying to download a file using the anchor and a context menu. I need to create the anchor dynamically, so that means I need to call a function, before the anchor gets called.</p>\n<p>I already tried the following:</p>\n<pre><code>this.ctmFilesGrid.addItem(&quot;  Download&quot;, click -&gt; {\n            if(click.getItem().isPresent()) {\n                this.fDownloadingFile = click.getItem().get();\n                this.createDownloadingAnchor(); \n                this.ancFileDownloader.getElement().callJsFunction(&quot;click&quot;);\n            }\n        }).addComponentAsFirst(FontAwesome.Solid.FILE_DOWNLOAD.create());\n</code></pre>\n<p>But the anchor isnt called.</p>\n<p>I hope someone can help me with that.\nThanks in advance</p>\n"},{"tags":["java","spring-boot","spring-security","spring-boot-actuator"],"comments":[{"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1643199834,"post_id":70862475,"comment_id":125275111,"body_markdown":"Can you add `logging.level.org.springframework.security=TRACE` to your `application.properties` and see where the 403 is coming from?","body":"Can you add <code>logging.level.org.springframework.security=TRACE</code> to your <code>application.properties</code> and see where the 403 is coming from?"},{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1643204622,"post_id":70862475,"comment_id":125276841,"body_markdown":"How do you pass username and password? Are you using Postman to test it?","body":"How do you pass username and password? Are you using Postman to test it?"},{"owner":{"account_id":5552111,"reputation":91,"user_id":4404787,"accept_rate":8,"display_name":"Aman Kush"},"score":0,"creation_date":1643209228,"post_id":70862475,"comment_id":125279002,"body_markdown":"@Nemanja Yes I am using Postman to pass username and password using Basic Auth.","body":"@Nemanja Yes I am using Postman to pass username and password using Basic Auth."},{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1643215585,"post_id":70862475,"comment_id":125282027,"body_markdown":"Do you have actuorRole enviroment variable defined? Can you verify that role that you have provided in properties file and role that you take from env.variable are same?","body":"Do you have actuorRole enviroment variable defined? Can you verify that role that you have provided in properties file and role that you take from env.variable are same?"},{"owner":{"account_id":5552111,"reputation":91,"user_id":4404787,"accept_rate":8,"display_name":"Aman Kush"},"score":0,"creation_date":1643219791,"post_id":70862475,"comment_id":125283836,"body_markdown":"Yes they both are getting picked from same environment variable.","body":"Yes they both are getting picked from same environment variable."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1643233757,"post_id":70862475,"comment_id":125288799,"body_markdown":"What are the values for `${username}`, `${actuatorPassword}` and `${actuatorRole}`? For testing replace your env variables with static values.","body":"What are the values for <code>${username}</code>, <code>${actuatorPassword}</code> and <code>${actuatorRole}</code>? For testing replace your env variables with static values."},{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1643234398,"post_id":70862475,"comment_id":125289011,"body_markdown":"Try to disable csrf by setting csrf().disable(). If you ommit this, csrf is enabled by default","body":"Try to disable csrf by setting csrf().disable(). If you ommit this, csrf is enabled by default"}],"answers":[{"tags":[],"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657264039,"creation_date":1657264039,"answer_id":72907856,"question_id":70862475,"body_markdown":"Does this help:\r\n\r\n    application.properties:\r\n    management.endpoints.enabled-by-default=false\r\n    management.endpoints.web.exposure.include=health\r\n    management.endpoint.health.enabled=true\r\n    management.endpoint.health.show-details=always","title":"Trying to secure actuator health endpoint giving 403 Forbidden error","body":"<p>Does this help:</p>\n<pre><code>application.properties:\nmanagement.endpoints.enabled-by-default=false\nmanagement.endpoints.web.exposure.include=health\nmanagement.endpoint.health.enabled=true\nmanagement.endpoint.health.show-details=always\n</code></pre>\n"}],"owner":{"account_id":5552111,"reputation":91,"user_id":4404787,"accept_rate":8,"display_name":"Aman Kush"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2561,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657264039,"creation_date":1643195219,"question_id":70862475,"body_markdown":"I am trying to secure actuator health endpoint using spring security:\r\n\r\nTo achieve this, I have added the following:\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class ActuatorSecurityConfiguration extends WebSecurityConfigurerAdapter implements ApplicationContextAware {\r\n    private static final String ACTUATOR_ROLE = System.getenv(&quot;actuatorRole&quot;);\r\n\r\n    @Override\r\n    public void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests()\r\n\r\n                .antMatchers(&quot;/actuator/**&quot;)\r\n                .hasRole(ACTUATOR_ROLE)\r\n                .anyRequest().authenticated();\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe following properties I have defined in my application.properties file:\r\n\r\n```\r\nspring.security.user.name=${username}\r\nspring.security.user.password=${actuatorPassword}\r\nspring.security.user.roles=${actuatorRole}\r\nmanagement.endpoint.health.roles=${actuatorRole}\r\n```\r\n\r\nBut when I am trying to run the health check after this configuration, it is giving me 403 Forbidden error. Can anybody please help me why I am getting this error?","title":"Trying to secure actuator health endpoint giving 403 Forbidden error","body":"<p>I am trying to secure actuator health endpoint using spring security:</p>\n<p>To achieve this, I have added the following:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class ActuatorSecurityConfiguration extends WebSecurityConfigurerAdapter implements ApplicationContextAware {\n    private static final String ACTUATOR_ROLE = System.getenv(&quot;actuatorRole&quot;);\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n\n                .antMatchers(&quot;/actuator/**&quot;)\n                .hasRole(ACTUATOR_ROLE)\n                .anyRequest().authenticated();\n    }\n}\n\n</code></pre>\n<p>The following properties I have defined in my application.properties file:</p>\n<pre><code>spring.security.user.name=${username}\nspring.security.user.password=${actuatorPassword}\nspring.security.user.roles=${actuatorRole}\nmanagement.endpoint.health.roles=${actuatorRole}\n</code></pre>\n<p>But when I am trying to run the health check after this configuration, it is giving me 403 Forbidden error. Can anybody please help me why I am getting this error?</p>\n"},{"tags":["java","mybatis","ibatis","spring-mybatis"],"owner":{"account_id":16275541,"reputation":1,"user_id":11752782,"display_name":"Duplicate Entry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657263957,"creation_date":1657263535,"question_id":72907749,"body_markdown":"mybatis version is mybatis-3.5.3\r\n\r\nthis is my test sql:\r\n\r\n        &lt;select id=&quot;getMap&quot; resultType=&quot;java.util.LinkedHashMap&quot;&gt;\r\n            select &quot;test.name&quot; from test where id = 1\r\n        &lt;/select&gt;\r\njava:\r\n\r\n        List&lt;LinkedHashMap&lt;String, String&gt;&gt; map = dataMapper.getMap();\r\n        log.info(&quot;{}&quot;, map);\r\n\r\noutput:\r\n[{test={name=628}}]\r\n\r\ncorrect output should be:\r\n[{test.name=628}]\r\n\r\nthe key code split is that,\r\nDefaultResultSetHandler.applyAutomaticMappings() =&gt; MetaObject.setValue() =&gt; `PropertyTokenizer prop = new PropertyTokenizer(name);` =&gt;\r\n\r\n      public PropertyTokenizer(String fullname) {\r\n    int delim = fullname.indexOf(&#39;.&#39;);\r\n    if (delim &gt; -1) {\r\n      name = fullname.substring(0, delim);\r\n      children = fullname.substring(delim + 1);\r\n    } else {\r\n      name = fullname;\r\n      children = null;\r\n    }\r\n    indexedName = name;\r\n    delim = name.indexOf(&#39;[&#39;);\r\n    if (delim &gt; -1) {\r\n      index = name.substring(delim + 1, name.length() - 1);\r\n      name = name.substring(0, delim);\r\n    }\r\ncolumn name must be show in front end, and there are many such columns, I can&#39;t change they.\r\nwhat should I do? Thanks!!","title":"mybatis autoMapping map and the column name has spot like this &#39;test.name&#39; , the name will be split","body":"<p>mybatis version is mybatis-3.5.3</p>\n<p>this is my test sql:</p>\n<pre><code>    &lt;select id=&quot;getMap&quot; resultType=&quot;java.util.LinkedHashMap&quot;&gt;\n        select &quot;test.name&quot; from test where id = 1\n    &lt;/select&gt;\n</code></pre>\n<p>java:</p>\n<pre><code>    List&lt;LinkedHashMap&lt;String, String&gt;&gt; map = dataMapper.getMap();\n    log.info(&quot;{}&quot;, map);\n</code></pre>\n<p>output:\n[{test={name=628}}]</p>\n<p>correct output should be:\n[{test.name=628}]</p>\n<p>the key code split is that,\nDefaultResultSetHandler.applyAutomaticMappings() =&gt; MetaObject.setValue() =&gt; <code>PropertyTokenizer prop = new PropertyTokenizer(name);</code> =&gt;</p>\n<pre><code>  public PropertyTokenizer(String fullname) {\nint delim = fullname.indexOf('.');\nif (delim &gt; -1) {\n  name = fullname.substring(0, delim);\n  children = fullname.substring(delim + 1);\n} else {\n  name = fullname;\n  children = null;\n}\nindexedName = name;\ndelim = name.indexOf('[');\nif (delim &gt; -1) {\n  index = name.substring(delim + 1, name.length() - 1);\n  name = name.substring(0, delim);\n}\n</code></pre>\n<p>column name must be show in front end, and there are many such columns, I can't change they.\nwhat should I do? Thanks!!</p>\n"},{"tags":["java","servlets","jdbc"],"comments":[{"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"score":0,"creation_date":1657220681,"post_id":72902938,"comment_id":128765684,"body_markdown":"You seem to have no active database connection since the`con` variable stays `null`. There is nothing wrong with the code you posted. If you want to catch this problem, use an if statement to check if `con` is `null`.","body":"You seem to have no active database connection since the<code>con</code> variable stays <code>null</code>. There is nothing wrong with the code you posted. If you want to catch this problem, use an if statement to check if <code>con</code> is <code>null</code>."},{"owner":{"account_id":25753231,"reputation":1,"user_id":19505421,"display_name":"Not me "},"score":0,"creation_date":1657221436,"post_id":72902938,"comment_id":128765928,"body_markdown":"code is clearly running when i create main method in servet but when i get values though html in doget method its not working ,its showing error","body":"code is clearly running when i create main method in servet but when i get values though html in doget method its not working ,its showing error"},{"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"score":0,"creation_date":1657222215,"post_id":72902938,"comment_id":128766163,"body_markdown":"You are looking in the wrong file. The problem is caused because this method `dbConnection.getConections()` returnes `null`.","body":"You are looking in the wrong file. The problem is caused because this method <code>dbConnection.getConections()</code> returnes <code>null</code>."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1657222655,"post_id":72902938,"comment_id":128766304,"body_markdown":"Watch out the way you construct your query is vulnerable to SQL injection attacks. Your only safety is that you parsed an Integer beforehand.","body":"Watch out the way you construct your query is vulnerable to SQL injection attacks. Your only safety is that you parsed an Integer beforehand."},{"owner":{"account_id":25753231,"reputation":1,"user_id":19505421,"display_name":"Not me "},"score":0,"creation_date":1657222870,"post_id":72902938,"comment_id":128766369,"body_markdown":"i dont understand why dbconnections.getconnections() is returning null and i checked every code perfectly yet while getting through doget method its showing nullexception","body":"i dont understand why dbconnections.getconnections() is returning null and i checked every code perfectly yet while getting through doget method its showing nullexception"},{"owner":{"account_id":25753231,"reputation":1,"user_id":19505421,"display_name":"Not me "},"score":0,"creation_date":1657223123,"post_id":72902938,"comment_id":128766441,"body_markdown":"will  parsing an integer truely save from sql injection?","body":"will  parsing an integer truely save from sql injection?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1657223449,"post_id":72902938,"comment_id":128766533,"body_markdown":"Learn about SQL injection: https://www.stackhawk.com/blog/java-sql-injection-guide-examples-and-prevention/","body":"Learn about SQL injection: <a href=\"https://www.stackhawk.com/blog/java-sql-injection-guide-examples-and-prevention/\" rel=\"nofollow noreferrer\">stackhawk.com/blog/&hellip;</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1657396210,"post_id":72902938,"comment_id":128802105,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657225117,"creation_date":1657223169,"answer_id":72903448,"question_id":72902938,"body_markdown":"getConections() may have silently returned null - in that case you will have to share the code or analyze yourself. getConections() may also have thrown an exception - you will have to check stdout where you printed the error.\r\n\r\nAnyway you need to check stdout closely as you cannot expect any result in the browser. If you want that, ensure to write something into the HttpServletResponse object - I can not see that in your current code.\r\n\r\nEdit: \r\n* The ClassNotFoundException indicates the JDBC driver is not on your classpath. Not a code issue itself, but check how you run your code.\r\n\r\n* Could you also check why your JDBC url contains a linefeed?","title":"not getting the output from jdbc throught servlet","body":"<p>getConections() may have silently returned null - in that case you will have to share the code or analyze yourself. getConections() may also have thrown an exception - you will have to check stdout where you printed the error.</p>\n<p>Anyway you need to check stdout closely as you cannot expect any result in the browser. If you want that, ensure to write something into the HttpServletResponse object - I can not see that in your current code.</p>\n<p>Edit:</p>\n<ul>\n<li><p>The ClassNotFoundException indicates the JDBC driver is not on your classpath. Not a code issue itself, but check how you run your code.</p>\n</li>\n<li><p>Could you also check why your JDBC url contains a linefeed?</p>\n</li>\n</ul>\n"}],"owner":{"account_id":25753231,"reputation":1,"user_id":19505421,"display_name":"Not me "},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1657263902,"creation_date":1657220278,"question_id":72902938,"body_markdown":"    #code of servlet  \r\n    public class EmployeeServlet extends HttpServlet {\r\n        \r\n        protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        \r\n            String username=request.getParameter(&quot;t1&quot;);\r\n  \t        int pass=Integer.parseInt(request.getParameter(&quot;t2&quot;));\r\n   \t   \r\n            Connection con=null;\r\n            try {\r\n                Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n                con=DriverManager.getConnection(&quot;jdbc:oracle:thin:HR/hr@localhost:1521:orcl\\r\\n&quot;+ &quot;&quot;,&quot;system&quot;,&quot;system&quot;);\r\n                Statement stmt =con.createStatement();\r\n                String query=&quot;select * from employee where emp_id=&quot;+pass;\r\n                ResultSet rs=stmt.executeQuery(query);\r\n\t\t\t\t\r\n                while(rs.next()) {\r\n\t\t\t\t    System.out.println(rs.getInt(1));\r\n\t\t\t\t\tSystem.out.println(rs.getString(2));\r\n\t\t\t    }\r\n   \r\n            stmt.close();\r\n            con.close();\r\n   \r\n            // Redirect the response to success page\r\n             \r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n \r\n    }\r\n\r\noutput::\r\njava.lang.ClassNotFoundException: oracle.jdbc.driver.OracleDriver\r\n\r\nStacktrace::\r\n\r\njava.lang.ClassNotFoundException: com.mysql.jdbc.Driver\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1407)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1215)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:377)\r\n\tat com.dynamic.employee.controller.EmployeeServlet.doGet(EmployeeServlet.java:88)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:832)\r\n","title":"not getting the output from jdbc throught servlet","body":"<pre><code>#code of servlet  \npublic class EmployeeServlet extends HttpServlet {\n    \n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    \n        String username=request.getParameter(&quot;t1&quot;);\n        int pass=Integer.parseInt(request.getParameter(&quot;t2&quot;));\n   \n        Connection con=null;\n        try {\n            Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\n            con=DriverManager.getConnection(&quot;jdbc:oracle:thin:HR/hr@localhost:1521:orcl\\r\\n&quot;+ &quot;&quot;,&quot;system&quot;,&quot;system&quot;);\n            Statement stmt =con.createStatement();\n            String query=&quot;select * from employee where emp_id=&quot;+pass;\n            ResultSet rs=stmt.executeQuery(query);\n            \n            while(rs.next()) {\n                System.out.println(rs.getInt(1));\n                System.out.println(rs.getString(2));\n            }\n\n        stmt.close();\n        con.close();\n\n        // Redirect the response to success page\n         \n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n<p>output::\njava.lang.ClassNotFoundException: oracle.jdbc.driver.OracleDriver</p>\n<p>Stacktrace::</p>\n<p>java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\nat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1407)\nat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1215)\nat java.base/java.lang.Class.forName0(Native Method)\nat java.base/java.lang.Class.forName(Class.java:377)\nat com.dynamic.employee.controller.EmployeeServlet.doGet(EmployeeServlet.java:88)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\nat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359)\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735)\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.base/java.lang.Thread.run(Thread.java:832)</p>\n"},{"tags":["java","windows-10"],"comments":[{"owner":{"account_id":13001608,"reputation":315,"user_id":9397537,"display_name":"Mellgood"},"score":0,"creation_date":1594204862,"post_id":62792888,"comment_id":111042704,"body_markdown":"Can you try to reboot? Configuration seems to be ok.\nBefore reboot, you can also try to close and open a new cmd shell, if you didn&#39;t try yet","body":"Can you try to reboot? Configuration seems to be ok. Before reboot, you can also try to close and open a new cmd shell, if you didn&#39;t try yet"},{"owner":{"account_id":190623,"reputation":2204,"user_id":430718,"display_name":"Hakan Dilek"},"score":0,"creation_date":1594205034,"post_id":62792888,"comment_id":111042804,"body_markdown":"did you start a new command prompt (`cmd.exe`) after applying system properties?","body":"did you start a new command prompt (<code>cmd.exe</code>) after applying system properties?"},{"owner":{"account_id":190623,"reputation":2204,"user_id":430718,"display_name":"Hakan Dilek"},"score":0,"creation_date":1594205089,"post_id":62792888,"comment_id":111042828,"body_markdown":"you might as well have another `JAVA_HOME` or `PATH` entry in **User variables** overriding these.","body":"you might as well have another <code>JAVA_HOME</code> or <code>PATH</code> entry in <b>User variables</b> overriding these."},{"owner":{"display_name":"user13270936"},"score":1,"creation_date":1594206333,"post_id":62792888,"comment_id":111043457,"body_markdown":"command prompt was only opened after the system variables had been set and yes I have rebooted the system also and have tried adding it to User variables as well","body":"command prompt was only opened after the system variables had been set and yes I have rebooted the system also and have tried adding it to User variables as well"},{"owner":{"account_id":190623,"reputation":2204,"user_id":430718,"display_name":"Hakan Dilek"},"score":0,"creation_date":1594206505,"post_id":62792888,"comment_id":111043557,"body_markdown":"what happens if you get rid of the user variables for `JAVA_HOME` and bin entry in `PATH` and just use the system variables?","body":"what happens if you get rid of the user variables for <code>JAVA_HOME</code> and bin entry in <code>PATH</code> and just use the system variables?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1594209196,"post_id":62792888,"comment_id":111044984,"body_markdown":"If you enter the command `set Path`, what is the output?","body":"If you enter the command <code>set Path</code>, what is the output?"},{"owner":{"display_name":"user13270936"},"score":1,"creation_date":1594212979,"post_id":62792888,"comment_id":111047053,"body_markdown":"Have managed to resolve this now by deleting both entries, rebooting the laptop, re-entering the same details, rebooting the laptop but had same issue, rebooted the laptop once more and now it works. What a ball ache, but thanks for the help.","body":"Have managed to resolve this now by deleting both entries, rebooting the laptop, re-entering the same details, rebooting the laptop but had same issue, rebooted the laptop once more and now it works. What a ball ache, but thanks for the help."}],"owner":{"display_name":"user13270936"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1657263392,"creation_date":1594204628,"question_id":62792888,"body_markdown":"Having an issue setting up system environment variable for Java in Windows 10 (see image): \r\n\r\n![Screenshot-system Variable][1]\r\n\r\nFrom command prompt is does not recognise `javac -version`. As you can see from the image I have setup `JAVA_HOME` and set the path to `%JAVA_HOME%\\bin`. Any suggestion\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jShg2.png\r\n\r\n","title":"Issue setting up environment variable for Java","body":"<p>Having an issue setting up system environment variable for Java in Windows 10 (see image):</p>\n<p><img src=\"https://i.stack.imgur.com/jShg2.png\" alt=\"Screenshot-system Variable\" /></p>\n<p>From command prompt is does not recognise <code>javac -version</code>. As you can see from the image I have setup <code>JAVA_HOME</code> and set the path to <code>%JAVA_HOME%\\bin</code>. Any suggestion</p>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":21140862,"reputation":9,"user_id":15543327,"display_name":"ALIMUL HASAN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1657264418,"answer_count":1,"score":-1,"last_activity_date":1657262921,"creation_date":1657260979,"question_id":72907347,"body_markdown":"[I got this error while I started to learn *Spring-Boot*. In line 17, I see no error! After adding GetMapping, RestController, RequestMapping , I ran this code and got the error.][1]\r\n\r\n        package com.projecttitan.titan.student;\r\n    \r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import java.util.List;\r\n    import java.util.UUID;\r\n    \r\n    @RestController // this class will serve as a RestController.\r\n    @RequestMapping(&quot;student&quot;) // to find the student page- localhost:port/student\r\n    public class studentController {\r\n    \r\n        @GetMapping // annotating method - this method will serve as a get request for client to consume.\r\n        public List&lt;Student&gt; getAllStudents(){\r\n            return List.of(\r\n                    new Student(UUID.randomUUID(), firstName:&quot;James&quot;, lastName:&quot;Hall&quot;, email:&quot;jameshall@gmail.com&quot;, Student.Gender.MALE),\r\n                    new Student(UUID.randomUUID(), firstName:&quot;Elisa&quot;, lastName:&quot;Tamara&quot;, email:&quot;elisatamara@yahoo.com&quot;, Student.Gender.FEMALE);\r\n            );\r\n        }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/E4yZ3.png","title":"Got an error when i started learning Spring Boot - &quot;java: not a statement&quot;","body":"<p><a href=\"https://i.stack.imgur.com/E4yZ3.png\" rel=\"nofollow noreferrer\">I got this error while I started to learn <em>Spring-Boot</em>. In line 17, I see no error! After adding GetMapping, RestController, RequestMapping , I ran this code and got the error.</a></p>\n<pre><code>    package com.projecttitan.titan.student;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\nimport java.util.UUID;\n\n@RestController // this class will serve as a RestController.\n@RequestMapping(&quot;student&quot;) // to find the student page- localhost:port/student\npublic class studentController {\n\n    @GetMapping // annotating method - this method will serve as a get request for client to consume.\n    public List&lt;Student&gt; getAllStudents(){\n        return List.of(\n                new Student(UUID.randomUUID(), firstName:&quot;James&quot;, lastName:&quot;Hall&quot;, email:&quot;jameshall@gmail.com&quot;, Student.Gender.MALE),\n                new Student(UUID.randomUUID(), firstName:&quot;Elisa&quot;, lastName:&quot;Tamara&quot;, email:&quot;elisatamara@yahoo.com&quot;, Student.Gender.FEMALE);\n        );\n    }\n}\n</code></pre>\n"},{"tags":["java","multidimensional-array","casting","floating-point"],"answers":[{"tags":[],"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1359836903,"creation_date":1359836903,"answer_id":14666192,"question_id":14666162,"body_markdown":"You need to copy it entry by entry (in two nested loops):\r\n\r\n        float[][] floatmatrix = new float[width][height];\r\n        for (w = 0; width &gt; w; w++) {\r\n            for (h = 0; height &gt; h; h++) {\r\n                floatmatrix[w][h] = (float) matrix[w][h];\r\n            }\r\n        }\r\n","title":"Convert 2D Double to 2D Float","body":"<p>You need to copy it entry by entry (in two nested loops):</p>\n\n<pre><code>    float[][] floatmatrix = new float[width][height];\n    for (w = 0; width &gt; w; w++) {\n        for (h = 0; height &gt; h; h++) {\n            floatmatrix[w][h] = (float) matrix[w][h];\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19096842,"reputation":1191,"user_id":13945920,"display_name":"Sawradip Saha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657262743,"creation_date":1657262743,"answer_id":72907628,"question_id":14666162,"body_markdown":"A more self-contained function:\r\n&gt; Input Shape will be automatically inferred.\r\n&gt; You can use it to convert any type to any type. Just convert `double` to your source data type, and `float` to target data type.\r\n\r\n    public float[][] d2fConverter(double[][] _tfIdf){\r\n        float[][] tfIdf = new double[_tfIdf.length][_tfIdf[0].length];\r\n        for (int w = 0; _tfIdf.length &gt; w; w++) {\r\n            for (int h = 0; _tfIdf[0].length &gt; h; h++) {\r\n                tfIdf[w][h] = (float) _tfIdf[w][h];\r\n            }\r\n        }\r\n        return tfIdf;\r\n    }","title":"Convert 2D Double to 2D Float","body":"<p>A more self-contained function:</p>\n<blockquote>\n<p>Input Shape will be automatically inferred.\nYou can use it to convert any type to any type. Just convert <code>double</code> to your source data type, and <code>float</code> to target data type.</p>\n</blockquote>\n<pre><code>public float[][] d2fConverter(double[][] _tfIdf){\n    float[][] tfIdf = new double[_tfIdf.length][_tfIdf[0].length];\n    for (int w = 0; _tfIdf.length &gt; w; w++) {\n        for (int h = 0; _tfIdf[0].length &gt; h; h++) {\n            tfIdf[w][h] = (float) _tfIdf[w][h];\n        }\n    }\n    return tfIdf;\n}\n</code></pre>\n"}],"owner":{"account_id":1869845,"reputation":79,"user_id":1692352,"accept_rate":62,"display_name":"MSRahman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657262743,"creation_date":1359836709,"question_id":14666162,"body_markdown":"Does anybody know how to convert a two dimensional array from double to float I have the following:\r\n\r\n    double [][] matrix = new double[width][height];\r\n\r\nI want to convert the data within the variable data to Flaot so i have a new variable as follows:\r\n\r\n    float [][] floatmatrix = new float[width][height];\r\n\r\nI tried casting but its not allowed e.g\r\n\r\n    float[][] data = (float[][]) result;\r\n\r\n","title":"Convert 2D Double to 2D Float","body":"<p>Does anybody know how to convert a two dimensional array from double to float I have the following:</p>\n\n<pre><code>double [][] matrix = new double[width][height];\n</code></pre>\n\n<p>I want to convert the data within the variable data to Flaot so i have a new variable as follows:</p>\n\n<pre><code>float [][] floatmatrix = new float[width][height];\n</code></pre>\n\n<p>I tried casting but its not allowed e.g</p>\n\n<pre><code>float[][] data = (float[][]) result;\n</code></pre>\n"},{"tags":["java","algorithm","dynamic-programming","fibonacci","memoization"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1657186634,"post_id":72894476,"comment_id":128752615,"body_markdown":"The word you are looking for is &#39;memoization&#39;.","body":"The word you are looking for is &#39;memoization&#39;."},{"owner":{"account_id":25660167,"reputation":89,"user_id":19426256,"display_name":"Drishti Jain"},"score":0,"creation_date":1657187527,"post_id":72894476,"comment_id":128752998,"body_markdown":"@user207421 I know it is memorization. What I am trying to ask is that is my implementation of memorization correct? Which user16320675 has given answer to, thanks by the way user16320675!","body":"@user207421 I know it is memorization. What I am trying to ask is that is my implementation of memorization correct? Which user16320675 has given answer to, thanks by the way user16320675!"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1657200065,"post_id":72894476,"comment_id":128757909,"body_markdown":"BTW user207421 meant &#39;memoization&#39; (without `r`), not &#39;memo**r**ization&#39; (with `r`) - see [Wikipedia](https://en.wikipedia.org/wiki/Memoization), first line: &quot;*Not to be confused with [Memorization](https://en.wikipedia.org/wiki/Memorization).*&quot;","body":"BTW user207421 meant &#39;memoization&#39; (without <code>r</code>), not &#39;memo<b>r</b>ization&#39; (with <code>r</code>) - see <a href=\"https://en.wikipedia.org/wiki/Memoization\" rel=\"nofollow noreferrer\">Wikipedia</a>, first line: &quot;<i>Not to be confused with <a href=\"https://en.wikipedia.org/wiki/Memorization\" rel=\"nofollow noreferrer\">Memorization</a>.</i>&quot;"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657216057,"creation_date":1657213278,"answer_id":72901729,"question_id":72894476,"body_markdown":"**Memoization** is an optimization technic which used with the so-called **top-down** approach, i.e. the problem is being divided into *subproblems* starting from the *top* (from the target input, which corresponds to the required final result), and by the means of recursion solution goes to the *bottom* (the cases for result is known in advance).\r\n\r\nThe point of *memoization* is to avoid recomputing the same values multiple times and **reuse** the previously computed results.\r\n\r\nThe code you&#39;ve provided doesn&#39;t uses *top-down* approach, hence it&#39;s not an example of *memoization*. In your solution you&#39;re going from *bottom* to *top*, from trivial cases of the first and second fibonacci numbers `0` and `1` to the target `n`. \r\n\r\n*Bottom-up* approach in *dynamic programming* is called **Tabulation**, it relies on loops (not on recursion contrary to *memoization*) and uses arrays to store intermediate results. Although you&#39;ve used an `ArrayList` (a dynamic array implementation), which slightly less efficient in this case because we know the resulting capacity in advance, I think your solution might be considered a valid implementation of *tabulation*.\r\n\r\nThere&#39;s nothing wrong with this approach, but if you&#39;re required to solve the problem using *memoization* then it&#39;s not the correct way.\r\n\r\nBefore writing the code using *memoization* technic, let&#39;s make a small detour.\r\n\r\nIn essence, *Dynamic programming* is nothing more than an enhanced *brute-force* approach. While solving a problem with a brute-force we need to find all possible outcomes, the same applies *dynamic programming*, the difference is that while using *dynamic programming* we&#39;re storing every result of the computation and reusing it instead of recomputing the same values multiple times.\r\n\r\nLet&#39;s start with creating a recursive brute-force solution (note in this solution indices start with `0` and input is non-negative because negative indices doesn&#39;t make sense and even if such validation is required it should not reside in a method responsible for performing computations as the Single responsibility principle suggests).\r\n\r\n    public static long fibonacciBrut(int n) {\r\n        if (n == 0) return 0; // base case\r\n        if (n == 1) return 1; // base case\r\n        \r\n        return fibonacciBrut(n - 1) + fibonacciBrut(n - 2); // recursive case\r\n    }\r\n\r\nIt&#39;s very concise, but it will cause the same values to recomputed multiple times in different recursive branches because each branch can&#39;t produce its result without all its subbranches hitting the base case. It means if let&#39;s say `n` = `30`, values like the third, the fourth, etc. Fibonacci numbers would be recomputed many times. Also see this MIT lecture: [*lecture notes*](https://ocw.mit.edu/courses/6-006-introduction-to-algorithms-spring-2008/resources/lec19/), [*the lecture itself*](https://ocw.mit.edu/courses/6-006-introduction-to-algorithms-fall-2011/resources/lecture-19-dynamic-programming-i-fibonacci-shortest-paths/).\r\n\r\n\r\nWe have a *top-down* solution, now enhance it by applying *memoization*. We need to utile a data structure to store the results. For that purpose we can use a `HashMap`.\r\n\r\nFor convenience, I&#39;ll introduce an overloaded helper-method, which is a good practice to make the client code (which needs the final result) to only concerned with providing the index `n` and all other stuff will happen under the hood.\r\n\r\n    public static long fibonacciMemo(int n) {\r\n        Map&lt;Integer, Long&gt; memo = new HashMap&lt;&gt;();\r\n        memo.put(0,0L);\r\n        memo.put(1,1L);\r\n\r\n        return fibonacciMemo(n, memo);\r\n    }\r\n\r\n    public static long fibonacciMemo(int n, Map&lt;Integer, Long&gt; memo) {\r\n        if (memo.containsKey(n)) {\r\n            return memo.get(n);\r\n        }\r\n\r\n        memo.put(n, fibonacciMemo(n - 1, memo) + fibonacciMemo(n - 2, memo));\r\n\r\n        return memo.get(n);\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Brute-force:&quot;);\r\n        System.out.println(fibonacciBrut(5));\r\n        System.out.println(fibonacciBrut(9));\r\n        System.out.println(fibonacciBrut(35));\r\n        \r\n        System.out.println(&quot;Memoization:&quot;);\r\n        System.out.println(fibonacciMemo(5));\r\n        System.out.println(fibonacciMemo(9));\r\n        System.out.println(fibonacciMemo(35));\r\n    }\r\n\r\n*Output:*\r\n```\r\nBrute-force:\r\n5            // the 5-th number\r\n34           // the 9-th number\r\n9227465      // the 35-th number\r\nMemoization:\r\n5            // the 5-th number\r\n34           // the 9-th number\r\n9227465      // the 35-th number\r\n```\r\n\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/t28)\r\n\r\n**Sidenote:** the most efficient way to calculate the `N`-th Fibonacci number is to iterate in a loop, maintaining two variables (*previous* and *current* number). Space complexity **O(1)** and time complexity **O(n)**. Basically, there&#39;s nothing that can be improved, I guess you were asked to implement this task using *memoization* technic because it&#39;s a simple problem, and you can focus on applying *memoization*.","title":"Is the following solution correct implementation of the Memoization approach for finding the N-th Fibonacci number?","body":"<p><strong>Memoization</strong> is an optimization technic which used with the so-called <strong>top-down</strong> approach, i.e. the problem is being divided into <em>subproblems</em> starting from the <em>top</em> (from the target input, which corresponds to the required final result), and by the means of recursion solution goes to the <em>bottom</em> (the cases for result is known in advance).</p>\n<p>The point of <em>memoization</em> is to avoid recomputing the same values multiple times and <strong>reuse</strong> the previously computed results.</p>\n<p>The code you've provided doesn't uses <em>top-down</em> approach, hence it's not an example of <em>memoization</em>. In your solution you're going from <em>bottom</em> to <em>top</em>, from trivial cases of the first and second fibonacci numbers <code>0</code> and <code>1</code> to the target <code>n</code>.</p>\n<p><em>Bottom-up</em> approach in <em>dynamic programming</em> is called <strong>Tabulation</strong>, it relies on loops (not on recursion contrary to <em>memoization</em>) and uses arrays to store intermediate results. Although you've used an <code>ArrayList</code> (a dynamic array implementation), which slightly less efficient in this case because we know the resulting capacity in advance, I think your solution might be considered a valid implementation of <em>tabulation</em>.</p>\n<p>There's nothing wrong with this approach, but if you're required to solve the problem using <em>memoization</em> then it's not the correct way.</p>\n<p>Before writing the code using <em>memoization</em> technic, let's make a small detour.</p>\n<p>In essence, <em>Dynamic programming</em> is nothing more than an enhanced <em>brute-force</em> approach. While solving a problem with a brute-force we need to find all possible outcomes, the same applies <em>dynamic programming</em>, the difference is that while using <em>dynamic programming</em> we're storing every result of the computation and reusing it instead of recomputing the same values multiple times.</p>\n<p>Let's start with creating a recursive brute-force solution (note in this solution indices start with <code>0</code> and input is non-negative because negative indices doesn't make sense and even if such validation is required it should not reside in a method responsible for performing computations as the Single responsibility principle suggests).</p>\n<pre><code>public static long fibonacciBrut(int n) {\n    if (n == 0) return 0; // base case\n    if (n == 1) return 1; // base case\n    \n    return fibonacciBrut(n - 1) + fibonacciBrut(n - 2); // recursive case\n}\n</code></pre>\n<p>It's very concise, but it will cause the same values to recomputed multiple times in different recursive branches because each branch can't produce its result without all its subbranches hitting the base case. It means if let's say <code>n</code> = <code>30</code>, values like the third, the fourth, etc. Fibonacci numbers would be recomputed many times. Also see this MIT lecture: <a href=\"https://ocw.mit.edu/courses/6-006-introduction-to-algorithms-spring-2008/resources/lec19/\" rel=\"nofollow noreferrer\"><em>lecture notes</em></a>, <a href=\"https://ocw.mit.edu/courses/6-006-introduction-to-algorithms-fall-2011/resources/lecture-19-dynamic-programming-i-fibonacci-shortest-paths/\" rel=\"nofollow noreferrer\"><em>the lecture itself</em></a>.</p>\n<p>We have a <em>top-down</em> solution, now enhance it by applying <em>memoization</em>. We need to utile a data structure to store the results. For that purpose we can use a <code>HashMap</code>.</p>\n<p>For convenience, I'll introduce an overloaded helper-method, which is a good practice to make the client code (which needs the final result) to only concerned with providing the index <code>n</code> and all other stuff will happen under the hood.</p>\n<pre><code>public static long fibonacciMemo(int n) {\n    Map&lt;Integer, Long&gt; memo = new HashMap&lt;&gt;();\n    memo.put(0,0L);\n    memo.put(1,1L);\n\n    return fibonacciMemo(n, memo);\n}\n\npublic static long fibonacciMemo(int n, Map&lt;Integer, Long&gt; memo) {\n    if (memo.containsKey(n)) {\n        return memo.get(n);\n    }\n\n    memo.put(n, fibonacciMemo(n - 1, memo) + fibonacciMemo(n - 2, memo));\n\n    return memo.get(n);\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(&quot;Brute-force:&quot;);\n    System.out.println(fibonacciBrut(5));\n    System.out.println(fibonacciBrut(9));\n    System.out.println(fibonacciBrut(35));\n    \n    System.out.println(&quot;Memoization:&quot;);\n    System.out.println(fibonacciMemo(5));\n    System.out.println(fibonacciMemo(9));\n    System.out.println(fibonacciMemo(35));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Brute-force:\n5            // the 5-th number\n34           // the 9-th number\n9227465      // the 35-th number\nMemoization:\n5            // the 5-th number\n34           // the 9-th number\n9227465      // the 35-th number\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/t28\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n<p><strong>Sidenote:</strong> the most efficient way to calculate the <code>N</code>-th Fibonacci number is to iterate in a loop, maintaining two variables (<em>previous</em> and <em>current</em> number). Space complexity <strong>O(1)</strong> and time complexity <strong>O(n)</strong>. Basically, there's nothing that can be improved, I guess you were asked to implement this task using <em>memoization</em> technic because it's a simple problem, and you can focus on applying <em>memoization</em>.</p>\n"}],"owner":{"account_id":25660167,"reputation":89,"user_id":19426256,"display_name":"Drishti Jain"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1657262669,"creation_date":1657181925,"question_id":72894476,"body_markdown":"As I understand *memoization* in dynamic programming, we use the output of the function with smaller input to find the current input&#39;s output.\r\n\r\nI have written a code for finding the `N`-th element of the Fibonacci sequence. Is it a correct way of implementing it using *memoization*?\r\n\r\nIf not, can you explain where I went wrong and what I misunderstood? If yes, is there an alternate answer?\r\n\r\n*My code:*\r\n```\r\npublic class FibonaciQuestion {\r\n\r\n    static ArrayList&lt;Integer&gt; series = new ArrayList&lt;&gt;(Arrays.asList(0, 1));\r\n\r\n    public static int fibonacci(int n) {\r\n        \r\n        int len = series.size();\r\n        if (n &lt; len) {\r\n            return series.get(n);\r\n        }\r\n\r\n        int sum = 0;\r\n        for (int i = len; i &lt;= n; i++) {\r\n            sum = series.get(i - 1) + series.get(i - 2);\r\n            series.add(i, sum);\r\n        }\r\n        return series.get(n);\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        int n = scanner.nextInt();\r\n        scanner.close();\r\n        System.out.println(fibonacci(n));\r\n    }\r\n}\r\n```","title":"Is the following solution correct implementation of the Memoization approach for finding the N-th Fibonacci number?","body":"<p>As I understand <em>memoization</em> in dynamic programming, we use the output of the function with smaller input to find the current input's output.</p>\n<p>I have written a code for finding the <code>N</code>-th element of the Fibonacci sequence. Is it a correct way of implementing it using <em>memoization</em>?</p>\n<p>If not, can you explain where I went wrong and what I misunderstood? If yes, is there an alternate answer?</p>\n<p><em>My code:</em></p>\n<pre><code>public class FibonaciQuestion {\n\n    static ArrayList&lt;Integer&gt; series = new ArrayList&lt;&gt;(Arrays.asList(0, 1));\n\n    public static int fibonacci(int n) {\n        \n        int len = series.size();\n        if (n &lt; len) {\n            return series.get(n);\n        }\n\n        int sum = 0;\n        for (int i = len; i &lt;= n; i++) {\n            sum = series.get(i - 1) + series.get(i - 2);\n            series.add(i, sum);\n        }\n        return series.get(n);\n\n    }\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        int n = scanner.nextInt();\n        scanner.close();\n        System.out.println(fibonacci(n));\n    }\n}\n</code></pre>\n"},{"tags":["java","threadpool","threadpoolexecutor"],"comments":[{"owner":{"account_id":6357629,"reputation":1740,"user_id":4934324,"accept_rate":50,"display_name":"roookeee"},"score":0,"creation_date":1657262392,"post_id":72907541,"comment_id":128773437,"body_markdown":"Are you `submit`ting more tasks after calling `shutdown()` - e.g. does the `SenderThread` runnable itself `submit` new tasks? Calling `shutdown()` will directly reject new `submit`s and this seems to be the most likely issue.","body":"Are you <code>submit</code>ting more tasks after calling <code>shutdown()</code> - e.g. does the <code>SenderThread</code> runnable itself <code>submit</code> new tasks? Calling <code>shutdown()</code> will directly reject new <code>submit</code>s and this seems to be the most likely issue."},{"owner":{"account_id":5976197,"reputation":60,"user_id":4696962,"display_name":"Aras"},"score":0,"creation_date":1657262794,"post_id":72907541,"comment_id":128773535,"body_markdown":"No this is the only usage of this executor service. SenderThreads does not submit new tasks. And if it was the case that other tasks are submitted, would not  the queued tasks increase?","body":"No this is the only usage of this executor service. SenderThreads does not submit new tasks. And if it was the case that other tasks are submitted, would not  the queued tasks increase?"},{"owner":{"account_id":6357629,"reputation":1740,"user_id":4934324,"accept_rate":50,"display_name":"roookeee"},"score":0,"creation_date":1657262957,"post_id":72907541,"comment_id":128773586,"body_markdown":"Is this really the code you use then? The `ExecutorService` will not accept new tasks and reject them immediately when `shutdown()` has been called - is this code somehow called twice? That would mean the executor is already shutdown on the second call and explain your issue. I think we need more of the real code / context as your example seems fine to me.","body":"Is this really the code you use then? The <code>ExecutorService</code> will not accept new tasks and reject them immediately when <code>shutdown()</code> has been called - is this code somehow called twice? That would mean the executor is already shutdown on the second call and explain your issue. I think we need more of the real code / context as your example seems fine to me."},{"owner":{"account_id":5976197,"reputation":60,"user_id":4696962,"display_name":"Aras"},"score":0,"creation_date":1657263557,"post_id":72907541,"comment_id":128773751,"body_markdown":"This code is called from a service so it is possible that it is called more than once. But everytime it is closing after executing 1 task from the call. That seems odd to me. I suspect that somehow the threadpool only accepts 1 element but I do not know why.","body":"This code is called from a service so it is possible that it is called more than once. But everytime it is closing after executing 1 task from the call. That seems odd to me. I suspect that somehow the threadpool only accepts 1 element but I do not know why."},{"owner":{"account_id":5976197,"reputation":60,"user_id":4696962,"display_name":"Aras"},"score":0,"creation_date":1657263647,"post_id":72907541,"comment_id":128773772,"body_markdown":"Is it a good practice to remove shutdown if there is such a possibility of rejecting all following tasks, will it have side effects? Or creating the executorservice in the method? I am now creating it on the class definition.","body":"Is it a good practice to remove shutdown if there is such a possibility of rejecting all following tasks, will it have side effects? Or creating the executorservice in the method? I am now creating it on the class definition."},{"owner":{"account_id":6357629,"reputation":1740,"user_id":4934324,"accept_rate":50,"display_name":"roookeee"},"score":0,"creation_date":1657264142,"post_id":72907541,"comment_id":128773902,"body_markdown":"You should only `shutdown()` the `ExecutorService` when you are finished processing. If this is a web application and is used for handling some tasks for the whole time the application runs, you should only  `shutdown()` when your application exits. \n\nBasically: We know now that the method that `submit`s new tasks and calls `shutdown()` is called more than once which means the second time its called its already shutdown and not accepting new tasks, creating the exception you see. Either start a new executor for each method call (most likely not what you want) or shutdown later","body":"You should only <code>shutdown()</code> the <code>ExecutorService</code> when you are finished processing. If this is a web application and is used for handling some tasks for the whole time the application runs, you should only  <code>shutdown()</code> when your application exits.   Basically: We know now that the method that <code>submit</code>s new tasks and calls <code>shutdown()</code> is called more than once which means the second time its called its already shutdown and not accepting new tasks, creating the exception you see. Either start a new executor for each method call (most likely not what you want) or shutdown later"},{"owner":{"account_id":5976197,"reputation":60,"user_id":4696962,"display_name":"Aras"},"score":1,"creation_date":1657267052,"post_id":72907541,"comment_id":128774680,"body_markdown":"Thanks @roookeee I will close it on program exit","body":"Thanks @roookeee I will close it on program exit"}],"owner":{"account_id":5976197,"reputation":60,"user_id":4696962,"display_name":"Aras"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657262221,"creation_date":1657262221,"question_id":72907541,"body_markdown":"I am getting this exception \r\n\r\n    Task java.util.concurrent.FutureTask@341cf993 rejected from java.util.concurrent.ThreadPoolExecutor@122db90f\r\n\r\n    [Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 1]                                                                                                      \r\n\r\nThe code I am using is as follows:\r\n\r\n    private ExecutorService executorService = Executors.newFixedThreadPool(300);\r\n    ...\r\n    collection.forEach(x -&gt; { executorService.submit(new SenderThread(sender, params));});\r\n    executorService.shutdown();\r\n\r\nThis collection is 10-20 elements and when I execute it, it completes the execution for the first task then it gives RecejtedExecutionException and does not complete other tasks.\r\n\r\nDo you have any suggestion for overcoming this issue?\r\n\r\n","title":"Getting RecejtedExecutionException after 1 task is completed","body":"<p>I am getting this exception</p>\n<pre><code>Task java.util.concurrent.FutureTask@341cf993 rejected from java.util.concurrent.ThreadPoolExecutor@122db90f\n\n[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 1]                                                                                                      \n</code></pre>\n<p>The code I am using is as follows:</p>\n<pre><code>private ExecutorService executorService = Executors.newFixedThreadPool(300);\n...\ncollection.forEach(x -&gt; { executorService.submit(new SenderThread(sender, params));});\nexecutorService.shutdown();\n</code></pre>\n<p>This collection is 10-20 elements and when I execute it, it completes the execution for the first task then it gives RecejtedExecutionException and does not complete other tasks.</p>\n<p>Do you have any suggestion for overcoming this issue?</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":1453141,"reputation":2684,"user_id":1369466,"accept_rate":43,"display_name":"QAMAR"},"score":0,"creation_date":1359916408,"post_id":14675695,"comment_id":20515791,"body_markdown":"Updated the answer checkout!","body":"Updated the answer checkout!"}],"answers":[{"tags":[],"owner":{"account_id":2307858,"reputation":4119,"user_id":2026742,"accept_rate":50,"display_name":"Michał Z."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1359916049,"creation_date":1359916049,"answer_id":14675743,"question_id":14675695,"body_markdown":"You should use onItemClickListener instead of onClickListener.","title":"how to use onclicklistener for grid view","body":"<p>You should use onItemClickListener instead of onClickListener.</p>\n"},{"tags":[],"owner":{"account_id":1453141,"reputation":2684,"user_id":1369466,"accept_rate":43,"display_name":"QAMAR"},"down_vote_count":1,"up_vote_count":44,"is_accepted":true,"score":43,"last_activity_date":1359916102,"creation_date":1359916102,"answer_id":14675753,"question_id":14675695,"body_markdown":"GridView is Like a ListView\r\n\r\nYou should use some thing like this \r\n\r\n    gridView.setOnItemClickListener(new OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; parent, View v,\r\n                    int position, long id) {\r\n \r\n                // DO something\r\n                \r\n            }\r\n        });\r\n\r\nthe code is not perfect\r\n\r\nfor reference see [http://developer.android.com/reference/android/widget/GridView.html][1]\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/widget/GridView.html","title":"how to use onclicklistener for grid view","body":"<p>GridView is Like a ListView</p>\n\n<p>You should use some thing like this </p>\n\n<pre><code>gridView.setOnItemClickListener(new OnItemClickListener() {\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; parent, View v,\n                int position, long id) {\n\n            // DO something\n\n        }\n    });\n</code></pre>\n\n<p>the code is not perfect</p>\n\n<p>for reference see <a href=\"http://developer.android.com/reference/android/widget/GridView.html\">http://developer.android.com/reference/android/widget/GridView.html</a></p>\n"},{"tags":[],"owner":{"account_id":2098089,"reputation":5795,"user_id":1866427,"accept_rate":67,"display_name":"lokoko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1359963285,"creation_date":1359963285,"answer_id":14682214,"question_id":14675695,"body_markdown":"gridView.onClickListener() would be the listener for the grid as a view. gridView.setOnItemClickListener() would be the listener for an item in the grid. It would take the position as a parameter that would indicate the item you are clicking on. The parent parameter would indicate the gridView itself. You could use this to base the dimension of the item. Something like \r\n\r\n    view.setMinHeight(parent.getHeight()/n);","title":"how to use onclicklistener for grid view","body":"<p>gridView.onClickListener() would be the listener for the grid as a view. gridView.setOnItemClickListener() would be the listener for an item in the grid. It would take the position as a parameter that would indicate the item you are clicking on. The parent parameter would indicate the gridView itself. You could use this to base the dimension of the item. Something like </p>\n\n<pre><code>view.setMinHeight(parent.getHeight()/n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25756083,"reputation":221,"user_id":19507723,"display_name":"harry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657262146,"creation_date":1657262146,"answer_id":72907533,"question_id":14675695,"body_markdown":"     gridLayout_topCategory.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n                @Override\r\n                public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n\r\n                     fragmentManager =getParentFragmentManager();\r\n                    fragmentManager.beginTransaction().replace(R.id.fragment_container, new FragCategory(getContext(),fragmentManager),&quot;fragCategory&quot;).addToBackStack(null).commit();\r\n                    Home.ll_bottomTabBarLayout.setVisibility(View.GONE);\r\n                }\r\n            });","title":"how to use onclicklistener for grid view","body":"<pre><code> gridLayout_topCategory.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n\n                 fragmentManager =getParentFragmentManager();\n                fragmentManager.beginTransaction().replace(R.id.fragment_container, new FragCategory(getContext(),fragmentManager),&quot;fragCategory&quot;).addToBackStack(null).commit();\n                Home.ll_bottomTabBarLayout.setVisibility(View.GONE);\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":2061046,"reputation":1978,"user_id":1837565,"accept_rate":82,"display_name":"Metalhead1247"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35315,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":14675753,"answer_count":4,"score":8,"last_activity_date":1657262146,"creation_date":1359915828,"question_id":14675695,"body_markdown":"i used  gridview to display numbers, \r\nso if i click on any number the next activity should start. \r\ni tried this code but the app crashes\r\n\r\n\r\n             private GridView gridView = null;\r\n\r\n          gridView.setOnClickListener(new OnClickListener()\r\n\r\n\t\t{\r\n                  public void onClick(View v5) \r\n\r\n\t\t\t{\r\n\t\t\t\tsetContentView(R.layout.Abc);\r\n\t\t\t\tIntent myIntent = new \r\n\r\n     Intent(getApplicationContext(),Abc.class);\r\n\t\t\t\tstartActivity(myIntent);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\nhere is the xml code for gridview\r\n\r\n\r\n         &lt;GridView\r\n        android:id=&quot;@+id/month_gridView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/calendar_days&quot;\r\n        android:layout_marginLeft=&quot;7dp&quot;\r\n        android:layout_marginRight=&quot;8dp&quot;\r\n        android:background=&quot;@color/grid_background&quot;\r\n        android:fadingEdge=&quot;none&quot;\r\n        android:gravity=&quot;top|left&quot;\r\n        android:horizontalSpacing=&quot;2dp&quot;\r\n        android:listSelector=&quot;@android:color/transparent&quot;\r\n        android:numColumns=&quot;7&quot;\r\n        android:padding=&quot;1dp&quot;\r\n        android:stretchMode=&quot;columnWidth&quot;\r\n        android:verticalSpacing=&quot;2dp&quot;&gt;\r\n    &lt;/GridView&gt;\r\n\r\n\r\n\r\n\r\nlogcat\r\nfile log\r\n\r\n\r\n   \r\n\r\n     02-04 00:10:50.603: D/AndroidRuntime(341): Shutting down VM\r\n        02-04 00:10:50.603: W/dalvikvm(341): threadid=1: thread exiting with uncaughtexception(group=0x40015560)\r\n        02-04 00:10:50.635: E/AndroidRuntime(341): FATAL EXCEPTION: main\r\n        02-04 00:10:50.635: E/AndroidRuntime(341): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.indianic.demo.calendark/com.indianic.demo.calendark.CalendarActivity}: java.lang.RuntimeException: Don&#39;t call setOnClickListener for an AdapterView. You probably want setOnItemClickListener instead\r\n        02-04 00:10:50.635: E/AndroidRuntime(341): \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1647)\r\n        02-04 00:10:50.635: E/AndroidRuntime(341): \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)\r\n        02-04 00:10:50.635: E/AndroidRuntime(341): \tat android.app.ActivityThread.access$1500(ActivityThread.java:117)\r\n        02-04 00:10:50.635: E/AndroidRuntime(341): \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)\r\n        02-04 00:10:50.635: E/AndroidRuntime(341): \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n        02-04 00:10:50.635: E/AndroidRuntime(341): \tat android.os.Looper.loop(Looper.java:123)\r\n        02-04 00:10:50.635: E/AndroidRuntime(341): \tat android.app.ActivityThread.main(ActivityThread.java:3683)\r\n        02-04 00:10:50.635: E/AndroidRuntime(341): \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n        02-04 00:10:50.635: E/AndroidRuntime(341): \tat java.lang.reflect.Method.invoke(Method.java:507)\r\n        02-04 00:10:50.635: E/AndroidRuntime(341): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\r\n        02-04 00:10:50.635: E/AndroidRuntime(341): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\r\n        02-04 00:10:50.635: E/AndroidRuntime(341): \tat dalvik.system.NativeStart.main(Native Method)\r\n        02-04 00:10:50.635: E/AndroidRuntime(341): Caused by: java.lang.RuntimeException: Don&#39;t call setOnClickListener for an AdapterView. You probably want setOnItemClickListener instead\r\n        02-04 00:10:50.635: E/AndroidRuntime(341): \tat android.widget.AdapterView.setOnClickListener(AdapterView.java:750)\r\n        02-04 00:10:50.635: E/AndroidRuntime(341): \tat com.indianic.demo.calendark.CalendarActivity.onCreate(CalendarActivity.java:126)\r\n        02-04 00:10:50.635: E/AndroidRuntime(341): \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\r\n        02-04 00:10:50.635: E/AndroidRuntime(341): \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611)\r\n        02-04 00:10:50.635: E/AndroidRuntime(341): \t... 11 more\r\n        02-04 00:10:53.203: I/Process(341): Sending signal. PID: 341 SIG: 9\r\n\r\n","title":"how to use onclicklistener for grid view","body":"<p>i used  gridview to display numbers, \nso if i click on any number the next activity should start. \ni tried this code but the app crashes</p>\n\n<pre><code>         private GridView gridView = null;\n\n      gridView.setOnClickListener(new OnClickListener()\n\n    {\n              public void onClick(View v5) \n\n        {\n            setContentView(R.layout.Abc);\n            Intent myIntent = new \n\n Intent(getApplicationContext(),Abc.class);\n            startActivity(myIntent);\n\n        }\n    });\n</code></pre>\n\n<p>here is the xml code for gridview</p>\n\n<pre><code>     &lt;GridView\n    android:id=\"@+id/month_gridView\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_below=\"@+id/calendar_days\"\n    android:layout_marginLeft=\"7dp\"\n    android:layout_marginRight=\"8dp\"\n    android:background=\"@color/grid_background\"\n    android:fadingEdge=\"none\"\n    android:gravity=\"top|left\"\n    android:horizontalSpacing=\"2dp\"\n    android:listSelector=\"@android:color/transparent\"\n    android:numColumns=\"7\"\n    android:padding=\"1dp\"\n    android:stretchMode=\"columnWidth\"\n    android:verticalSpacing=\"2dp\"&gt;\n&lt;/GridView&gt;\n</code></pre>\n\n<p>logcat\nfile log</p>\n\n<pre><code> 02-04 00:10:50.603: D/AndroidRuntime(341): Shutting down VM\n    02-04 00:10:50.603: W/dalvikvm(341): threadid=1: thread exiting with uncaughtexception(group=0x40015560)\n    02-04 00:10:50.635: E/AndroidRuntime(341): FATAL EXCEPTION: main\n    02-04 00:10:50.635: E/AndroidRuntime(341): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.indianic.demo.calendark/com.indianic.demo.calendark.CalendarActivity}: java.lang.RuntimeException: Don't call setOnClickListener for an AdapterView. You probably want setOnItemClickListener instead\n    02-04 00:10:50.635: E/AndroidRuntime(341):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1647)\n    02-04 00:10:50.635: E/AndroidRuntime(341):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)\n    02-04 00:10:50.635: E/AndroidRuntime(341):  at android.app.ActivityThread.access$1500(ActivityThread.java:117)\n    02-04 00:10:50.635: E/AndroidRuntime(341):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)\n    02-04 00:10:50.635: E/AndroidRuntime(341):  at android.os.Handler.dispatchMessage(Handler.java:99)\n    02-04 00:10:50.635: E/AndroidRuntime(341):  at android.os.Looper.loop(Looper.java:123)\n    02-04 00:10:50.635: E/AndroidRuntime(341):  at android.app.ActivityThread.main(ActivityThread.java:3683)\n    02-04 00:10:50.635: E/AndroidRuntime(341):  at java.lang.reflect.Method.invokeNative(Native Method)\n    02-04 00:10:50.635: E/AndroidRuntime(341):  at java.lang.reflect.Method.invoke(Method.java:507)\n    02-04 00:10:50.635: E/AndroidRuntime(341):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\n    02-04 00:10:50.635: E/AndroidRuntime(341):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\n    02-04 00:10:50.635: E/AndroidRuntime(341):  at dalvik.system.NativeStart.main(Native Method)\n    02-04 00:10:50.635: E/AndroidRuntime(341): Caused by: java.lang.RuntimeException: Don't call setOnClickListener for an AdapterView. You probably want setOnItemClickListener instead\n    02-04 00:10:50.635: E/AndroidRuntime(341):  at android.widget.AdapterView.setOnClickListener(AdapterView.java:750)\n    02-04 00:10:50.635: E/AndroidRuntime(341):  at com.indianic.demo.calendark.CalendarActivity.onCreate(CalendarActivity.java:126)\n    02-04 00:10:50.635: E/AndroidRuntime(341):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\n    02-04 00:10:50.635: E/AndroidRuntime(341):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611)\n    02-04 00:10:50.635: E/AndroidRuntime(341):  ... 11 more\n    02-04 00:10:53.203: I/Process(341): Sending signal. PID: 341 SIG: 9\n</code></pre>\n"},{"tags":["java","android","kotlin","android-recyclerview"],"comments":[{"owner":{"account_id":6255300,"reputation":213,"user_id":4864109,"accept_rate":57,"display_name":"hvar90"},"score":0,"creation_date":1595467956,"post_id":55983573,"comment_id":111487730,"body_markdown":"did you find a solution for your problem??","body":"did you find a solution for your problem??"}],"answers":[{"tags":[],"owner":{"account_id":15611698,"reputation":13,"user_id":11262947,"display_name":"Gerard Gosk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611427389,"creation_date":1611325145,"answer_id":65846888,"question_id":55983573,"body_markdown":"You can do that with adding to ViewHolder field which will have information about if is view swipeable, and on method onSwiped set that to false, and animate item to orginal x with method translationX(0), you can use too transaltionY(0) if you are swiping vertical too. IF YOU DO THAT ITEM WILL NOT BE SWIPEABLE AGAIN\r\n\r\n       private ItemTouchHelper.SimpleCallback simpleItemTouchCallback = new ItemTouchHelper.SimpleCallback(0, ItemTouchHelper.LEFT | ItemTouchHelper.RIGHT) {\r\n \r\n        @Override\r\n        public boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder target) {\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public void onSwiped(@NonNull RecyclerView.ViewHolder viewHolder, int direction) {\r\n            Log.e(&quot;Swiped&quot;,&quot;Swiped&quot;);\r\n            ((YourViewHolder) viewHolder).setSwipeable(false);\r\n            View item = viewHolder.itemView;\r\n            item.animate().translationX(0);\r\n        }\r\n \r\n        @Override\r\n        public int getSwipeDirs(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder) {\r\n            if(((RemarkAdapter.RemarkViewHolder) viewHolder).isSwipeable()){\r\n                return super.getSwipeDirs(recyclerView, viewHolder);\r\n            }\r\n            else{\r\n                return 0;\r\n            }\r\n        }\r\n \r\n    };","title":"RecyclerView swipe without deleting an item","body":"<p>You can do that with adding to ViewHolder field which will have information about if is view swipeable, and on method onSwiped set that to false, and animate item to orginal x with method translationX(0), you can use too transaltionY(0) if you are swiping vertical too. IF YOU DO THAT ITEM WILL NOT BE SWIPEABLE AGAIN</p>\n<pre><code>   private ItemTouchHelper.SimpleCallback simpleItemTouchCallback = new ItemTouchHelper.SimpleCallback(0, ItemTouchHelper.LEFT | ItemTouchHelper.RIGHT) {\n\n    @Override\n    public boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder target) {\n        return false;\n    }\n\n    @Override\n    public void onSwiped(@NonNull RecyclerView.ViewHolder viewHolder, int direction) {\n        Log.e(&quot;Swiped&quot;,&quot;Swiped&quot;);\n        ((YourViewHolder) viewHolder).setSwipeable(false);\n        View item = viewHolder.itemView;\n        item.animate().translationX(0);\n    }\n\n    @Override\n    public int getSwipeDirs(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder) {\n        if(((RemarkAdapter.RemarkViewHolder) viewHolder).isSwipeable()){\n            return super.getSwipeDirs(recyclerView, viewHolder);\n        }\n        else{\n            return 0;\n        }\n    }\n\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24853023,"reputation":11,"user_id":18729711,"display_name":"its_inno1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657261717,"creation_date":1656901844,"answer_id":72851245,"question_id":55983573,"body_markdown":"Try capturing the data before it&#39;s removed and insert it back in the same position after swipe action is done.\r\n\r\nSo, let&#39;s say you have stored arrays of strings in a `recyclerView`:\r\n\r\n    //your array\r\n    ArrayList&lt;String&gt; names = new ArrayList();\r\n\r\n    //an array we will need later to store deleted name\r\n    ArrayList&lt;String&gt; deleted_names = new ArrayList();\r\n\r\n    names.add(&quot;inno&quot;);\r\n    names.add(&quot;anna&quot;);\r\n    names.add(&quot;john&quot;);\r\n    \r\n    //your recyclerViewAdapter\r\n    recyclerAdapter = new RecyclerAdapter(names,this);\r\n    recyclerView.setAdapter(recyclerAdapter);\r\n\r\n    private ItemTouchHelper.SimpleCallback simpleItemTouchCallback = new \r\n    ItemTouchHelper.SimpleCallback(0, ItemTouchHelper.LEFT | ItemTouchHelper.RIGHT) \r\n    {\r\n\r\n    @Override\r\n    public boolean onMove(@NonNull RecyclerView recyclerView, @NonNull \r\n    RecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder target) {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public void onSwiped(@NonNull RecyclerView.ViewHolder viewHolder, int direction) \r\n    {\r\n        Log.e(&quot;Swiped&quot;,&quot;Swiped&quot;);\r\n        int position = viewHolder.getLayoutPosition();\r\n\r\n        if (direction == ItemTouchHelper.RIGHT) {\r\n            deleted_names = names.get(position);\r\n\r\n            names.remove(position);\r\n            recyclerAdapter.notifyItemRemoved(position);\r\n\r\n            names.add(position,deleted_names);\r\n            recyclerAdapter.notifyItemInserted(position);\r\n        }\r\n       \r\n    }\r\n\r\n    @Override\r\n    public int getSwipeDirs(@NonNull RecyclerView recyclerView, @NonNull \r\n    RecyclerView.ViewHolder viewHolder) {\r\n        if(((RemarkAdapter.RemarkViewHolder) viewHolder).isSwipeable()){\r\n            return super.getSwipeDirs(recyclerView, viewHolder);\r\n        }\r\n        else{\r\n            return 0;\r\n        }\r\n     }\r\n\r\n    };\r\n\r\n\r\n","title":"RecyclerView swipe without deleting an item","body":"<p>Try capturing the data before it's removed and insert it back in the same position after swipe action is done.</p>\n<p>So, let's say you have stored arrays of strings in a <code>recyclerView</code>:</p>\n<pre><code>//your array\nArrayList&lt;String&gt; names = new ArrayList();\n\n//an array we will need later to store deleted name\nArrayList&lt;String&gt; deleted_names = new ArrayList();\n\nnames.add(&quot;inno&quot;);\nnames.add(&quot;anna&quot;);\nnames.add(&quot;john&quot;);\n\n//your recyclerViewAdapter\nrecyclerAdapter = new RecyclerAdapter(names,this);\nrecyclerView.setAdapter(recyclerAdapter);\n\nprivate ItemTouchHelper.SimpleCallback simpleItemTouchCallback = new \nItemTouchHelper.SimpleCallback(0, ItemTouchHelper.LEFT | ItemTouchHelper.RIGHT) \n{\n\n@Override\npublic boolean onMove(@NonNull RecyclerView recyclerView, @NonNull \nRecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder target) {\n    return false;\n}\n\n@Override\npublic void onSwiped(@NonNull RecyclerView.ViewHolder viewHolder, int direction) \n{\n    Log.e(&quot;Swiped&quot;,&quot;Swiped&quot;);\n    int position = viewHolder.getLayoutPosition();\n\n    if (direction == ItemTouchHelper.RIGHT) {\n        deleted_names = names.get(position);\n\n        names.remove(position);\n        recyclerAdapter.notifyItemRemoved(position);\n\n        names.add(position,deleted_names);\n        recyclerAdapter.notifyItemInserted(position);\n    }\n   \n}\n\n@Override\npublic int getSwipeDirs(@NonNull RecyclerView recyclerView, @NonNull \nRecyclerView.ViewHolder viewHolder) {\n    if(((RemarkAdapter.RemarkViewHolder) viewHolder).isSwipeable()){\n        return super.getSwipeDirs(recyclerView, viewHolder);\n    }\n    else{\n        return 0;\n    }\n }\n\n};\n</code></pre>\n"}],"owner":{"account_id":15871810,"reputation":51,"user_id":11452208,"display_name":"ProgClov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":473,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1657261717,"creation_date":1556980365,"question_id":55983573,"body_markdown":"I want to do some action on swipe in RecyclerView. I use ItemTouchHelper.SimpleCallback for that purpose.\r\n\r\nBut when I do a swipe, an item disappears from my RecyclerView.\r\n\r\nHow do I fix that? I want to show some swiping animation and call onSwiped() callback without removing an item.\r\n\r\n```\r\nval simpleItemTouchCallback = object : ItemTouchHelper.SimpleCallback(0, ItemTouchHelper.LEFT or ItemTouchHelper.RIGHT) {\r\n    override fun onMove(recyclerView: RecyclerView, viewHolder: RecyclerView.ViewHolder, target: RecyclerView.ViewHolder): Boolean {\r\n        return false\r\n    }\r\n\r\n    override fun onSwiped(viewHolder: RecyclerView.ViewHolder, swipeDir: Int) {\r\n        val position = viewHolder.adapterPosition\r\n        val item = (recyclerView.adapter as DashboardAdapter).getItem(position)\r\n\r\n        if (swipeDir == ItemTouchHelper.LEFT) {\r\n            // Close query\r\n            ...\r\n\r\n        } else if (swipeDir == ItemTouchHelper.RIGHT) {\r\n            // Take query\r\n            ...\r\n        }\r\n\r\n        recyclerView.adapter?.notifyDataSetChanged()\r\n    }\r\n}\r\n\r\nval itemTouchHelper = ItemTouchHelper(simpleItemTouchCallback)\r\nitemTouchHelper.attachToRecyclerView(recyclerView)\r\n```","title":"RecyclerView swipe without deleting an item","body":"<p>I want to do some action on swipe in RecyclerView. I use ItemTouchHelper.SimpleCallback for that purpose.</p>\n\n<p>But when I do a swipe, an item disappears from my RecyclerView.</p>\n\n<p>How do I fix that? I want to show some swiping animation and call onSwiped() callback without removing an item.</p>\n\n<pre><code>val simpleItemTouchCallback = object : ItemTouchHelper.SimpleCallback(0, ItemTouchHelper.LEFT or ItemTouchHelper.RIGHT) {\n    override fun onMove(recyclerView: RecyclerView, viewHolder: RecyclerView.ViewHolder, target: RecyclerView.ViewHolder): Boolean {\n        return false\n    }\n\n    override fun onSwiped(viewHolder: RecyclerView.ViewHolder, swipeDir: Int) {\n        val position = viewHolder.adapterPosition\n        val item = (recyclerView.adapter as DashboardAdapter).getItem(position)\n\n        if (swipeDir == ItemTouchHelper.LEFT) {\n            // Close query\n            ...\n\n        } else if (swipeDir == ItemTouchHelper.RIGHT) {\n            // Take query\n            ...\n        }\n\n        recyclerView.adapter?.notifyDataSetChanged()\n    }\n}\n\nval itemTouchHelper = ItemTouchHelper(simpleItemTouchCallback)\nitemTouchHelper.attachToRecyclerView(recyclerView)\n</code></pre>\n"},{"tags":["java","serialization","integer"],"comments":[{"owner":{"account_id":7340,"reputation":12654,"user_id":12719,"display_name":"pgras"},"score":1,"creation_date":1242113112,"post_id":851491,"comment_id":659800,"body_markdown":"Could you please post the serailization and deserialization code ?","body":"Could you please post the serailization and deserialization code ?"}],"answers":[{"tags":[],"owner":{"account_id":7340,"reputation":12654,"user_id":12719,"display_name":"pgras"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1242113265,"creation_date":1242112302,"answer_id":851525,"question_id":851491,"body_markdown":"check the source code for Integer, here is what I have for Integer in several verions of java:\r\n\r\n    /** use serialVersionUID from JDK 1.0.2 for interoperability */\r\n    private static final long serialVersionUID = 1360826667806852920L;\r\n\r\nSo I&#39;d say the problem comes from a class of yours that you changed between serialization and deserialization and that has no specific serialVersionUID...\r\n\r\n\r\nMaybe you should look [at this][1], same problem description and it looks like wrong serialization / deserialization code....\r\n\r\n\r\n  [1]: http://forums.sun.com/thread.jspa?threadID=479051&amp;messageID=2228486","title":"Java Deserialization of java.lang.Integer - Exception","body":"<p>check the source code for Integer, here is what I have for Integer in several verions of java:</p>\n\n<pre><code>/** use serialVersionUID from JDK 1.0.2 for interoperability */\nprivate static final long serialVersionUID = 1360826667806852920L;\n</code></pre>\n\n<p>So I'd say the problem comes from a class of yours that you changed between serialization and deserialization and that has no specific serialVersionUID...</p>\n\n<p>Maybe you should look <a href=\"http://forums.sun.com/thread.jspa?threadID=479051&amp;messageID=2228486\" rel=\"nofollow noreferrer\">at this</a>, same problem description and it looks like wrong serialization / deserialization code....</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1242112391,"creation_date":1242112391,"answer_id":851529,"question_id":851491,"body_markdown":"That shouldn&#39;t happen. Note that the IDs differ only in the last few digits; the second one ist the one I see in my JDK sources.\r\n\r\nMy guess is that the serialized stream got corrupted somehow.","title":"Java Deserialization of java.lang.Integer - Exception","body":"<p>That shouldn't happen. Note that the IDs differ only in the last few digits; the second one ist the one I see in my JDK sources.</p>\n\n<p>My guess is that the serialized stream got corrupted somehow.</p>\n"},{"tags":[],"owner":{"account_id":32681,"reputation":138933,"user_id":90848,"accept_rate":90,"display_name":"Laurence Gonsalves"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1242112735,"creation_date":1242112735,"answer_id":851543,"question_id":851491,"body_markdown":"From looking at the JDK source, 1360826667806852920 is the correct `serialVersionUID` for `Integer`. I wasn&#39;t able to find any classes in the JDK with the `serialVersionUID` 1360826667802527544.\r\n\r\nInterestingly, searching for 1360826667802527544 on Google turned up a few other people with this problem, notably [this thread](http://forum.java.sun.com/thread.jspa?threadID=479051&amp;messageID=2228486) on Sun&#39;s forums. The problem there was that the person was storing bytes in a String, and the serialized data was getting mangled. Since you&#39;re getting the same `serialVersionUID` it seems very likely that you&#39;re running into a similar problem.\r\n\r\nNever store bytes in a `String`. Use a byte array or a class designed to hold bytes, not chars.","title":"Java Deserialization of java.lang.Integer - Exception","body":"<p>From looking at the JDK source, 1360826667806852920 is the correct <code>serialVersionUID</code> for <code>Integer</code>. I wasn't able to find any classes in the JDK with the <code>serialVersionUID</code> 1360826667802527544.</p>\n\n<p>Interestingly, searching for 1360826667802527544 on Google turned up a few other people with this problem, notably <a href=\"http://forum.java.sun.com/thread.jspa?threadID=479051&amp;messageID=2228486\" rel=\"nofollow noreferrer\">this thread</a> on Sun's forums. The problem there was that the person was storing bytes in a String, and the serialized data was getting mangled. Since you're getting the same <code>serialVersionUID</code> it seems very likely that you're running into a similar problem.</p>\n\n<p>Never store bytes in a <code>String</code>. Use a byte array or a class designed to hold bytes, not chars.</p>\n"},{"tags":[],"owner":{"account_id":4503723,"reputation":184,"user_id":3661654,"display_name":"Satyen Shimpi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494516425,"creation_date":1494516425,"answer_id":43919715,"question_id":851491,"body_markdown":"I faced the same issue and it is because when we are trying to store Integer object to String, the character encoding is getting messed up and while deserialization the serialVersionUID read is wrong. That&#39;s the root cause of this error.\r\nTo avoid this error use **Base64** **encoding** before storing it to String.\r\n[see this answer][1] and the problem resolved for me.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/134918/3661654\r\n\r\n            /** Read the object from Base64 string. */\r\n       private static Object fromString( String str ) throws IOException, ClassNotFoundException {\r\n            byte [] data = Base64.getDecoder().decode(str);\r\n            ObjectInputStream ois = new ObjectInputStream(new ByteArrayInputStream(data));\r\n            Object o = ois.readObject();\r\n            ois.close();\r\n            return o;\r\n       }\r\n    \r\n        /** Write the object to a Base64 string. */\r\n        private static String toString( Serializable o ) throws IOException {\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            ObjectOutputStream oos = new ObjectOutputStream( baos );\r\n            oos.writeObject( o );\r\n            oos.close();\r\n            return Base64.getEncoder().encodeToString(baos.toByteArray()); \r\n        }\r\n\r\n","title":"Java Deserialization of java.lang.Integer - Exception","body":"<p>I faced the same issue and it is because when we are trying to store Integer object to String, the character encoding is getting messed up and while deserialization the serialVersionUID read is wrong. That's the root cause of this error.\nTo avoid this error use <strong>Base64</strong> <strong>encoding</strong> before storing it to String.\n<a href=\"https://stackoverflow.com/a/134918/3661654\">see this answer</a> and the problem resolved for me.</p>\n\n<pre><code>        /** Read the object from Base64 string. */\n   private static Object fromString( String str ) throws IOException, ClassNotFoundException {\n        byte [] data = Base64.getDecoder().decode(str);\n        ObjectInputStream ois = new ObjectInputStream(new ByteArrayInputStream(data));\n        Object o = ois.readObject();\n        ois.close();\n        return o;\n   }\n\n    /** Write the object to a Base64 string. */\n    private static String toString( Serializable o ) throws IOException {\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        ObjectOutputStream oos = new ObjectOutputStream( baos );\n        oos.writeObject( o );\n        oos.close();\n        return Base64.getEncoder().encodeToString(baos.toByteArray()); \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3220899,"reputation":1,"user_id":2718400,"display_name":"Charalampos Mysirlidis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657261700,"creation_date":1657261700,"answer_id":72907467,"question_id":851491,"body_markdown":"I&#39;ve run into the same issue on a compiled jasperreport. \r\nThe packed ear on the server was corrupted due to the filtering of the ant build. As a result, the original jasperreport file with the one on the ear had some differences.\r\n\r\nI&#39;ve modified the ant build to copy only the file (instead of filtering) and not filter the ","title":"Java Deserialization of java.lang.Integer - Exception","body":"<p>I've run into the same issue on a compiled jasperreport.\nThe packed ear on the server was corrupted due to the filtering of the ant build. As a result, the original jasperreport file with the one on the ear had some differences.</p>\n<p>I've modified the ant build to copy only the file (instead of filtering) and not filter the</p>\n"}],"owner":{"display_name":"Colin Henry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1657261700,"creation_date":1242111447,"question_id":851491,"body_markdown":"Recieved the following exception when deserializing a `HashMap&lt;String, Integer&gt;`:\r\n\r\n\r\n&lt;pre&gt;java.io.InvalidClassException: java.lang.Integer; local class incompatible: stream classdesc serialVersionUID = 1360826667802527544, local class serialVersionUID = 1360826667806852920&lt;/pre&gt;\r\n\r\nSerialized and deserialized on the same machine, with the same JRE. JDK 1.6.0_12\r\n\r\n","title":"Java Deserialization of java.lang.Integer - Exception","body":"<p>Recieved the following exception when deserializing a <code>HashMap&lt;String, Integer&gt;</code>:</p>\n\n<pre>java.io.InvalidClassException: java.lang.Integer; local class incompatible: stream classdesc serialVersionUID = 1360826667802527544, local class serialVersionUID = 1360826667806852920</pre>\n\n<p>Serialized and deserialized on the same machine, with the same JRE. JDK 1.6.0_12</p>\n"},{"tags":["java","jna","webp","animated-webp"],"answers":[{"tags":[],"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657244428,"creation_date":1657237380,"answer_id":72905282,"question_id":72905193,"body_markdown":"JNA structures need their size information to be properly allocated, so this mapping should have given you an error without specifying the byte array size:\r\n```\r\n@Structure.FieldOrder({ &quot;bytes&quot;, &quot;length&quot; })\r\npublic static class WebPData extends Structure {\r\n    public byte[] bytes;\r\n    public int length;\r\n}\r\n```\r\nSince you&#39;ve indicated the bytes are allocated elsewhere, the pointer to the array should just be mapped with a `Pointer`. Also the type of `length` is `size_t` so you need to use that mapping for either *nix, or the `SIZE_T` mapping for Windows.\r\n```java\r\n@Structure.FieldOrder({ &quot;bytes&quot;, &quot;length&quot; })\r\npublic static class WebPData extends Structure {\r\n    public Pointer bytes;\r\n    public BaseTSD.SIZE_T length;\r\n}\r\n```\r\nYou could then manually allocate the bytes. You indicate `WebPMalloc()` does that but I don&#39;t know how that&#39;s any different than just using `malloc()` or equivalent which is under the hood if you use JNA&#39;s `new Memory(size)`.  If you use that function you would pass the length value as a parameter to that function and the return value would be a `Pointer` that you would set as `bytes`.\r\n\r\nOnce you&#39;ve set the bytes to a pointer to the length-sized allocation, you can pass the structure as the `webp_data` argument.\r\n\r\nIt is possible that with your mapping of `byte[]` the native code tried to make it work (as that&#39;s just a pointer) but using `int` for the length may have not been correct if `size_t` was 8 bytes.","title":"Decode an animated image using libwebp DLLs and JNA","body":"<p>JNA structures need their size information to be properly allocated, so this mapping should have given you an error without specifying the byte array size:</p>\n<pre><code>@Structure.FieldOrder({ &quot;bytes&quot;, &quot;length&quot; })\npublic static class WebPData extends Structure {\n    public byte[] bytes;\n    public int length;\n}\n</code></pre>\n<p>Since you've indicated the bytes are allocated elsewhere, the pointer to the array should just be mapped with a <code>Pointer</code>. Also the type of <code>length</code> is <code>size_t</code> so you need to use that mapping for either *nix, or the <code>SIZE_T</code> mapping for Windows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Structure.FieldOrder({ &quot;bytes&quot;, &quot;length&quot; })\npublic static class WebPData extends Structure {\n    public Pointer bytes;\n    public BaseTSD.SIZE_T length;\n}\n</code></pre>\n<p>You could then manually allocate the bytes. You indicate <code>WebPMalloc()</code> does that but I don't know how that's any different than just using <code>malloc()</code> or equivalent which is under the hood if you use JNA's <code>new Memory(size)</code>.  If you use that function you would pass the length value as a parameter to that function and the return value would be a <code>Pointer</code> that you would set as <code>bytes</code>.</p>\n<p>Once you've set the bytes to a pointer to the length-sized allocation, you can pass the structure as the <code>webp_data</code> argument.</p>\n<p>It is possible that with your mapping of <code>byte[]</code> the native code tried to make it work (as that's just a pointer) but using <code>int</code> for the length may have not been correct if <code>size_t</code> was 8 bytes.</p>\n"},{"tags":[],"owner":{"account_id":2758189,"reputation":463,"user_id":2375667,"accept_rate":20,"display_name":"user2375667"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657261471,"creation_date":1657261127,"answer_id":72907368,"question_id":72905193,"body_markdown":"Thanks to [Daniel Widdis&#39; answer][1] I changed the `WebPData`&#39;s `bytes` field to a Pointer again. I didn&#39;t really know before how to get my raw data into that, not sure why I didn&#39;t notice the Pointer&#39;s `write()` method before.\r\n\r\nThe type of the `WebPData`&#39;s `length` field almost doesn&#39;t seem to matter (`short`, `int`, `long`, `float`, `double` all worked), I guess it automatically converts it somehow. Not sure if that could break under different circumstances/systems though.\r\n\r\nBoth `new Memory()` and the native `WebPMalloc()` function seem to work for allocating the memory. I&#39;ve looked at what the function actually does:\r\n\r\n```c\r\nvoid* WebPMalloc(size_t size) {\r\n  return WebPSafeMalloc(1, size);\r\n}\r\n\r\nvoid* WebPSafeMalloc(uint64_t nmemb, size_t size) {\r\n  void* ptr;\r\n  Increment(&amp;num_malloc_calls);\r\n  if (!CheckSizeArgumentsOverflow(nmemb, size)) return NULL;\r\n  assert(nmemb * size &gt; 0);\r\n  ptr = malloc((size_t)(nmemb * size));\r\n  AddMem(ptr, (size_t)(nmemb * size));\r\n  return ptr;\r\n}\r\n```\r\n\r\nI don&#39;t fully understand what that does, but it seems to be doing some additional checks and management. Not sure if it&#39;s necessary to use it, but might as well if the library recommends it?\r\n\r\nAfter providing the data as a Pointer, I got the decoder object. The only thing from there that I had some issues with was the function to get the next frame:\r\n\r\n```c\r\nWEBP_EXTERN int WebPAnimDecoderGetNext(WebPAnimDecoder* dec,\r\n                                                   uint8_t** buf, int* timestamp);\r\n```\r\n\r\nIt seems to be a double pointer? So I had to get the Pointer from the reference, and then the Pointer from that again:\r\n\r\n```java\r\nPointerByReference buf = new PointerByReference();\r\nIntByReference timestamp = new IntByReference();\r\nint nextResult = LibWebPDemux.INSTANCE.WebPAnimDecoderGetNext(dec, buf, timestamp);\r\nImageIcon icon = createImage(buf.getPointer().getPointer(0), info.canvas_width, info.canvas_height);\r\n```\r\n\r\nHere&#39;s the updated code, cleaned up a bit to what is actually used. I&#39;m not sure if it&#39;s entirely correct, but I&#39;m getting the frames and other info now, so it shouldn&#39;t be that wrong at least.\r\n\r\nIt definitely needs some proper error checking and I&#39;m not sure if I need to clean up any more memory afterwards.\r\n\r\n```java\r\npackage webptest;\r\n\r\nimport com.sun.jna.Library;\r\nimport com.sun.jna.Memory;\r\nimport com.sun.jna.Native;\r\nimport com.sun.jna.Pointer;\r\nimport com.sun.jna.Structure;\r\nimport com.sun.jna.platform.win32.BaseTSD;\r\nimport com.sun.jna.ptr.IntByReference;\r\nimport com.sun.jna.ptr.PointerByReference;\r\nimport java.awt.BorderLayout;\r\nimport java.awt.FlowLayout;\r\nimport java.awt.Image;\r\nimport java.awt.image.BufferedImage;\r\nimport java.awt.image.ColorModel;\r\nimport java.awt.image.DataBufferInt;\r\nimport java.awt.image.DirectColorModel;\r\nimport java.awt.image.SampleModel;\r\nimport java.awt.image.WritableRaster;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.net.URL;\r\nimport java.net.URLConnection;\r\nimport java.util.Hashtable;\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.SwingUtilities;\r\n\r\npublic class WebPDecodingTest1 {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        System.setProperty(&quot;jna.library.path&quot;, &quot;&lt;path&gt;\\\\lib\\\\x64&quot;);\r\n        ImageIcon[] animatedImage = decodeAnimated(&quot;https://storage.googleapis.com/downloads.webmproject.org/webp/images/dancing_banana2.lossless.webp&quot;);\r\n        showImages(animatedImage);\r\n    }\r\n    \r\n    //==========================\r\n    // Animated image\r\n    //==========================\r\n    \r\n    /**\r\n     * Decode the frames of an animated image. Doesn&#39;t work and incomplete.\r\n     */\r\n    private static ImageIcon[] decodeAnimated(String url) throws Exception {\r\n        byte[] rawData = getBytesFromURL(new URL(url));\r\n        LibWebPDemux.WebPData data = new LibWebPDemux.WebPData();\r\n        data.bytes = LibWebP.INSTANCE.WebPMalloc(rawData.length);\r\n        // This worked as well\r\n//        data.bytes = new Memory(rawData.length);\r\n\r\n        data.bytes.write(0, rawData, 0, rawData.length);\r\n        data.length = rawData.length;\r\n        Pointer dec = LibWebPDemux.INSTANCE.WebPAnimDecoderNewInternal(data, null, LibWebPDemux.WEBP_DEMUX_ABI_VERSION);\r\n        System.out.println(dec);\r\n        \r\n        LibWebPDemux.WebPAnimInfo info = new LibWebPDemux.WebPAnimInfo();\r\n        LibWebPDemux.INSTANCE.WebPAnimDecoderGetInfo(dec, info);\r\n        System.out.println(info.canvas_width+&quot; &quot;+info.canvas_height+&quot; &quot;+info.frame_count);\r\n        ImageIcon[] result = new ImageIcon[info.frame_count];\r\n        int frame = 0;\r\n        while (LibWebPDemux.INSTANCE.WebPAnimDecoderHasMoreFrames(dec) == 1) {\r\n            PointerByReference buf = new PointerByReference();\r\n            IntByReference timestamp = new IntByReference();\r\n            \r\n            int nextResult = LibWebPDemux.INSTANCE.WebPAnimDecoderGetNext(dec, buf, timestamp);\r\n            System.out.println(nextResult+&quot; &quot;+timestamp.getValue());\r\n            \r\n            ImageIcon icon = createImage(buf.getPointer().getPointer(0), info.canvas_width, info.canvas_height);\r\n            result[frame] = icon;\r\n            frame++;\r\n        }\r\n        /**\r\n         * Not sure if this is correct or if other stuff needs to be cleared as\r\n         * well.\r\n         */\r\n        LibWebPDemux.INSTANCE.WebPAnimDecoderDelete(dec);\r\n        LibWebP.INSTANCE.WebPFree(data.bytes);\r\n        return result;\r\n    }\r\n    \r\n    //==========================\r\n    // libwebp\r\n    //==========================\r\n    public interface LibWebP extends Library {\r\n\r\n        LibWebP INSTANCE = Native.load(&quot;libwebp&quot;, LibWebP.class);\r\n        \r\n        /*\r\n        [webp/types.h]\r\n            // Allocates &#39;size&#39; bytes of memory. Returns NULL upon error. Memory\r\n            // must be deallocated by calling WebPFree(). This function is made available\r\n            // by the core &#39;libwebp&#39; library.\r\n            WEBP_EXTERN void* WebPMalloc(size_t size);\r\n        */\r\n        public Pointer WebPMalloc(int size);\r\n        \r\n        /*\r\n        [webp/types.h]\r\n            // Releases memory returned by the WebPDecode*() functions (from decode.h).\r\n            WEBP_EXTERN void WebPFree(void* ptr);\r\n        */\r\n        public void WebPFree(Pointer pointer);\r\n    }\r\n    \r\n    //==========================\r\n    // libwebpdemux\r\n    //==========================\r\n    public interface LibWebPDemux extends Library {\r\n        LibWebPDemux INSTANCE = Native.load(&quot;libwebpdemux&quot;, LibWebPDemux.class);\r\n        \r\n        static final int WEBP_DEMUX_ABI_VERSION = 0x0107;\r\n        \r\n        /*\r\n        [webp/demux.h]\r\n            // Internal, version-checked, entry point.\r\n            WEBP_EXTERN WebPAnimDecoder* WebPAnimDecoderNewInternal(\r\n                const WebPData*, const WebPAnimDecoderOptions*, int);\r\n\r\n            // Creates and initializes a WebPAnimDecoder object.\r\n            // Parameters:\r\n            //   webp_data - (in) WebP bitstream. This should remain unchanged during the\r\n            //                    lifetime of the output WebPAnimDecoder object.\r\n            //   dec_options - (in) decoding options. Can be passed NULL to choose\r\n            //                      reasonable defaults (in particular, color mode MODE_RGBA\r\n            //                      will be picked).\r\n            // Returns:\r\n            //   A pointer to the newly created WebPAnimDecoder object, or NULL in case of\r\n            //   parsing error, invalid option or memory error.\r\n            static WEBP_INLINE WebPAnimDecoder* WebPAnimDecoderNew(\r\n                const WebPData* webp_data, const WebPAnimDecoderOptions* dec_options) {\r\n              return WebPAnimDecoderNewInternal(webp_data, dec_options,\r\n                                                WEBP_DEMUX_ABI_VERSION);\r\n            }\r\n        */\r\n        public Pointer WebPAnimDecoderNewInternal(WebPData webp_data, Structure dec_options, int version);\r\n        \r\n        /*\r\n        [webp/mux_types.h]\r\n            // Data type used to describe &#39;raw&#39; data, e.g., chunk data\r\n            // (ICC profile, metadata) and WebP compressed image data.\r\n            // &#39;bytes&#39; memory must be allocated using WebPMalloc() and such.\r\n            struct WebPData {\r\n              const uint8_t* bytes;\r\n              size_t size;\r\n            };\r\n        */\r\n        @Structure.FieldOrder({ &quot;bytes&quot;, &quot;length&quot; })\r\n        public static class WebPData extends Structure {\r\n            public Pointer bytes;\r\n            \r\n            public long length;\r\n        }\r\n        \r\n        /*\r\n        [webp/demux.h]\r\n            // Get global information about the animation.\r\n            // Parameters:\r\n            //   dec - (in) decoder instance to get information from.\r\n            //   info - (out) global information fetched from the animation.\r\n            // Returns:\r\n            //   True on success.\r\n            WEBP_EXTERN int WebPAnimDecoderGetInfo(const WebPAnimDecoder* dec,\r\n                                                   WebPAnimInfo* info);\r\n        */\r\n        public int WebPAnimDecoderGetInfo(Pointer dec, WebPAnimInfo info);\r\n        \r\n        /*\r\n        [webp/demux.h]\r\n            // Global information about the animation..\r\n            struct WebPAnimInfo {\r\n              uint32_t canvas_width;\r\n              uint32_t canvas_height;\r\n              uint32_t loop_count;\r\n              uint32_t bgcolor;\r\n              uint32_t frame_count;\r\n              uint32_t pad[4];   // padding for later use\r\n            };\r\n        */\r\n        @Structure.FieldOrder({ &quot;canvas_width&quot;, &quot;canvas_height&quot;, &quot;loop_count&quot;, &quot;bgcolor&quot;, &quot;frame_count&quot;, &quot;pad&quot; })\r\n        public static class WebPAnimInfo extends Structure {\r\n            public int canvas_width;\r\n            public int canvas_height;\r\n            public int loop_count;\r\n            public int bgcolor;\r\n            public int frame_count;\r\n            public int[] pad = new int[4];\r\n        }\r\n        \r\n        /*\r\n        [webp/demux.h]\r\n            // Check if there are more frames left to decode.\r\n            // Parameters:\r\n            //   dec - (in) decoder instance to be checked.\r\n            // Returns:\r\n            //   True if &#39;dec&#39; is not NULL and some frames are yet to be decoded.\r\n            //   Otherwise, returns false.\r\n            WEBP_EXTERN int WebPAnimDecoderHasMoreFrames(const WebPAnimDecoder* dec);\r\n        */\r\n        public int WebPAnimDecoderHasMoreFrames(Pointer dec);\r\n        \r\n        /*\r\n        [webp/demux.h]\r\n            // Fetch the next frame from &#39;dec&#39; based on options supplied to\r\n            // WebPAnimDecoderNew(). This will be a fully reconstructed canvas of size\r\n            // &#39;canvas_width * 4 * canvas_height&#39;, and not just the frame sub-rectangle. The\r\n            // returned buffer &#39;buf&#39; is valid only until the next call to\r\n            // WebPAnimDecoderGetNext(), WebPAnimDecoderReset() or WebPAnimDecoderDelete().\r\n            // Parameters:\r\n            //   dec - (in/out) decoder instance from which the next frame is to be fetched.\r\n            //   buf - (out) decoded frame.\r\n            //   timestamp - (out) timestamp of the frame in milliseconds.\r\n            // Returns:\r\n            //   False if any of the arguments are NULL, or if there is a parsing or\r\n            //   decoding error, or if there are no more frames. Otherwise, returns true.\r\n            WEBP_EXTERN int WebPAnimDecoderGetNext(WebPAnimDecoder* dec,\r\n                                                   uint8_t** buf, int* timestamp);\r\n        */\r\n        public int WebPAnimDecoderGetNext(Pointer dec, PointerByReference buf, IntByReference timestamp);\r\n        \r\n        /*\r\n        [webp/demux.h]\r\n            // Deletes the WebPAnimDecoder object.\r\n            // Parameters:\r\n            //   dec - (in/out) decoder instance to be deleted\r\n            WEBP_EXTERN void WebPAnimDecoderDelete(WebPAnimDecoder* dec);\r\n        */\r\n        public void WebPAnimDecoderDelete(Pointer dec);\r\n    }\r\n    \r\n    //==========================\r\n    // General Helpers\r\n    //==========================\r\n    private static ImageIcon createImage(Pointer pixelData, int width, int height) {\r\n        if (pixelData != null) {\r\n            int[] pixels = pixelData.getIntArray(0, width * height);\r\n\r\n            ColorModel colorModel;\r\n            colorModel = new DirectColorModel(32, 0x000000ff, 0x0000ff00, 0x00ff0000, 0xff000000);\r\n\r\n            SampleModel sampleModel = colorModel.createCompatibleSampleModel(width, height);\r\n            DataBufferInt db = new DataBufferInt(pixels, width * height);\r\n            WritableRaster raster = WritableRaster.createWritableRaster(sampleModel, db, null);\r\n\r\n            Image img = new BufferedImage(colorModel, raster, false, new Hashtable&lt;Object, Object&gt;());\r\n            return new ImageIcon(img.getScaledInstance(100, 100, 0)); // Resized for testing\r\n        }\r\n        return null;\r\n    }\r\n    \r\n    private static void showImages(ImageIcon... icons) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            JFrame frame = new JFrame();\r\n            frame.setLayout(new FlowLayout());\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            for (ImageIcon icon : icons) {\r\n                frame.add(new JLabel(icon), BorderLayout.CENTER);\r\n            }\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        });\r\n        \r\n    }\r\n    \r\n    public static byte[] getBytesFromURL(URL url) throws Exception {\r\n        URLConnection c = url.openConnection();\r\n        try (InputStream input = c.getInputStream()) {\r\n            byte[] imageData = readAllBytes(input);\r\n            return imageData;\r\n        }\r\n    }\r\n    \r\n    private static byte[] readAllBytes(InputStream input) throws IOException {\r\n        ByteArrayOutputStream result = new ByteArrayOutputStream();\r\n        byte[] buffer = new byte[1024];\r\n        int length;\r\n        while ((length = input.read(buffer, 0, buffer.length)) != -1) {\r\n            result.write(buffer, 0, length);\r\n        }\r\n        return result.toByteArray();\r\n    }\r\n    \r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/72905282/","title":"Decode an animated image using libwebp DLLs and JNA","body":"<p>Thanks to <a href=\"https://stackoverflow.com/a/72905282/\">Daniel Widdis' answer</a> I changed the <code>WebPData</code>'s <code>bytes</code> field to a Pointer again. I didn't really know before how to get my raw data into that, not sure why I didn't notice the Pointer's <code>write()</code> method before.</p>\n<p>The type of the <code>WebPData</code>'s <code>length</code> field almost doesn't seem to matter (<code>short</code>, <code>int</code>, <code>long</code>, <code>float</code>, <code>double</code> all worked), I guess it automatically converts it somehow. Not sure if that could break under different circumstances/systems though.</p>\n<p>Both <code>new Memory()</code> and the native <code>WebPMalloc()</code> function seem to work for allocating the memory. I've looked at what the function actually does:</p>\n<pre class=\"lang-c prettyprint-override\"><code>void* WebPMalloc(size_t size) {\n  return WebPSafeMalloc(1, size);\n}\n\nvoid* WebPSafeMalloc(uint64_t nmemb, size_t size) {\n  void* ptr;\n  Increment(&amp;num_malloc_calls);\n  if (!CheckSizeArgumentsOverflow(nmemb, size)) return NULL;\n  assert(nmemb * size &gt; 0);\n  ptr = malloc((size_t)(nmemb * size));\n  AddMem(ptr, (size_t)(nmemb * size));\n  return ptr;\n}\n</code></pre>\n<p>I don't fully understand what that does, but it seems to be doing some additional checks and management. Not sure if it's necessary to use it, but might as well if the library recommends it?</p>\n<p>After providing the data as a Pointer, I got the decoder object. The only thing from there that I had some issues with was the function to get the next frame:</p>\n<pre class=\"lang-c prettyprint-override\"><code>WEBP_EXTERN int WebPAnimDecoderGetNext(WebPAnimDecoder* dec,\n                                                   uint8_t** buf, int* timestamp);\n</code></pre>\n<p>It seems to be a double pointer? So I had to get the Pointer from the reference, and then the Pointer from that again:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PointerByReference buf = new PointerByReference();\nIntByReference timestamp = new IntByReference();\nint nextResult = LibWebPDemux.INSTANCE.WebPAnimDecoderGetNext(dec, buf, timestamp);\nImageIcon icon = createImage(buf.getPointer().getPointer(0), info.canvas_width, info.canvas_height);\n</code></pre>\n<p>Here's the updated code, cleaned up a bit to what is actually used. I'm not sure if it's entirely correct, but I'm getting the frames and other info now, so it shouldn't be that wrong at least.</p>\n<p>It definitely needs some proper error checking and I'm not sure if I need to clean up any more memory afterwards.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package webptest;\n\nimport com.sun.jna.Library;\nimport com.sun.jna.Memory;\nimport com.sun.jna.Native;\nimport com.sun.jna.Pointer;\nimport com.sun.jna.Structure;\nimport com.sun.jna.platform.win32.BaseTSD;\nimport com.sun.jna.ptr.IntByReference;\nimport com.sun.jna.ptr.PointerByReference;\nimport java.awt.BorderLayout;\nimport java.awt.FlowLayout;\nimport java.awt.Image;\nimport java.awt.image.BufferedImage;\nimport java.awt.image.ColorModel;\nimport java.awt.image.DataBufferInt;\nimport java.awt.image.DirectColorModel;\nimport java.awt.image.SampleModel;\nimport java.awt.image.WritableRaster;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.URL;\nimport java.net.URLConnection;\nimport java.util.Hashtable;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.SwingUtilities;\n\npublic class WebPDecodingTest1 {\n\n    public static void main(String[] args) throws Exception {\n        System.setProperty(&quot;jna.library.path&quot;, &quot;&lt;path&gt;\\\\lib\\\\x64&quot;);\n        ImageIcon[] animatedImage = decodeAnimated(&quot;https://storage.googleapis.com/downloads.webmproject.org/webp/images/dancing_banana2.lossless.webp&quot;);\n        showImages(animatedImage);\n    }\n    \n    //==========================\n    // Animated image\n    //==========================\n    \n    /**\n     * Decode the frames of an animated image. Doesn't work and incomplete.\n     */\n    private static ImageIcon[] decodeAnimated(String url) throws Exception {\n        byte[] rawData = getBytesFromURL(new URL(url));\n        LibWebPDemux.WebPData data = new LibWebPDemux.WebPData();\n        data.bytes = LibWebP.INSTANCE.WebPMalloc(rawData.length);\n        // This worked as well\n//        data.bytes = new Memory(rawData.length);\n\n        data.bytes.write(0, rawData, 0, rawData.length);\n        data.length = rawData.length;\n        Pointer dec = LibWebPDemux.INSTANCE.WebPAnimDecoderNewInternal(data, null, LibWebPDemux.WEBP_DEMUX_ABI_VERSION);\n        System.out.println(dec);\n        \n        LibWebPDemux.WebPAnimInfo info = new LibWebPDemux.WebPAnimInfo();\n        LibWebPDemux.INSTANCE.WebPAnimDecoderGetInfo(dec, info);\n        System.out.println(info.canvas_width+&quot; &quot;+info.canvas_height+&quot; &quot;+info.frame_count);\n        ImageIcon[] result = new ImageIcon[info.frame_count];\n        int frame = 0;\n        while (LibWebPDemux.INSTANCE.WebPAnimDecoderHasMoreFrames(dec) == 1) {\n            PointerByReference buf = new PointerByReference();\n            IntByReference timestamp = new IntByReference();\n            \n            int nextResult = LibWebPDemux.INSTANCE.WebPAnimDecoderGetNext(dec, buf, timestamp);\n            System.out.println(nextResult+&quot; &quot;+timestamp.getValue());\n            \n            ImageIcon icon = createImage(buf.getPointer().getPointer(0), info.canvas_width, info.canvas_height);\n            result[frame] = icon;\n            frame++;\n        }\n        /**\n         * Not sure if this is correct or if other stuff needs to be cleared as\n         * well.\n         */\n        LibWebPDemux.INSTANCE.WebPAnimDecoderDelete(dec);\n        LibWebP.INSTANCE.WebPFree(data.bytes);\n        return result;\n    }\n    \n    //==========================\n    // libwebp\n    //==========================\n    public interface LibWebP extends Library {\n\n        LibWebP INSTANCE = Native.load(&quot;libwebp&quot;, LibWebP.class);\n        \n        /*\n        [webp/types.h]\n            // Allocates 'size' bytes of memory. Returns NULL upon error. Memory\n            // must be deallocated by calling WebPFree(). This function is made available\n            // by the core 'libwebp' library.\n            WEBP_EXTERN void* WebPMalloc(size_t size);\n        */\n        public Pointer WebPMalloc(int size);\n        \n        /*\n        [webp/types.h]\n            // Releases memory returned by the WebPDecode*() functions (from decode.h).\n            WEBP_EXTERN void WebPFree(void* ptr);\n        */\n        public void WebPFree(Pointer pointer);\n    }\n    \n    //==========================\n    // libwebpdemux\n    //==========================\n    public interface LibWebPDemux extends Library {\n        LibWebPDemux INSTANCE = Native.load(&quot;libwebpdemux&quot;, LibWebPDemux.class);\n        \n        static final int WEBP_DEMUX_ABI_VERSION = 0x0107;\n        \n        /*\n        [webp/demux.h]\n            // Internal, version-checked, entry point.\n            WEBP_EXTERN WebPAnimDecoder* WebPAnimDecoderNewInternal(\n                const WebPData*, const WebPAnimDecoderOptions*, int);\n\n            // Creates and initializes a WebPAnimDecoder object.\n            // Parameters:\n            //   webp_data - (in) WebP bitstream. This should remain unchanged during the\n            //                    lifetime of the output WebPAnimDecoder object.\n            //   dec_options - (in) decoding options. Can be passed NULL to choose\n            //                      reasonable defaults (in particular, color mode MODE_RGBA\n            //                      will be picked).\n            // Returns:\n            //   A pointer to the newly created WebPAnimDecoder object, or NULL in case of\n            //   parsing error, invalid option or memory error.\n            static WEBP_INLINE WebPAnimDecoder* WebPAnimDecoderNew(\n                const WebPData* webp_data, const WebPAnimDecoderOptions* dec_options) {\n              return WebPAnimDecoderNewInternal(webp_data, dec_options,\n                                                WEBP_DEMUX_ABI_VERSION);\n            }\n        */\n        public Pointer WebPAnimDecoderNewInternal(WebPData webp_data, Structure dec_options, int version);\n        \n        /*\n        [webp/mux_types.h]\n            // Data type used to describe 'raw' data, e.g., chunk data\n            // (ICC profile, metadata) and WebP compressed image data.\n            // 'bytes' memory must be allocated using WebPMalloc() and such.\n            struct WebPData {\n              const uint8_t* bytes;\n              size_t size;\n            };\n        */\n        @Structure.FieldOrder({ &quot;bytes&quot;, &quot;length&quot; })\n        public static class WebPData extends Structure {\n            public Pointer bytes;\n            \n            public long length;\n        }\n        \n        /*\n        [webp/demux.h]\n            // Get global information about the animation.\n            // Parameters:\n            //   dec - (in) decoder instance to get information from.\n            //   info - (out) global information fetched from the animation.\n            // Returns:\n            //   True on success.\n            WEBP_EXTERN int WebPAnimDecoderGetInfo(const WebPAnimDecoder* dec,\n                                                   WebPAnimInfo* info);\n        */\n        public int WebPAnimDecoderGetInfo(Pointer dec, WebPAnimInfo info);\n        \n        /*\n        [webp/demux.h]\n            // Global information about the animation..\n            struct WebPAnimInfo {\n              uint32_t canvas_width;\n              uint32_t canvas_height;\n              uint32_t loop_count;\n              uint32_t bgcolor;\n              uint32_t frame_count;\n              uint32_t pad[4];   // padding for later use\n            };\n        */\n        @Structure.FieldOrder({ &quot;canvas_width&quot;, &quot;canvas_height&quot;, &quot;loop_count&quot;, &quot;bgcolor&quot;, &quot;frame_count&quot;, &quot;pad&quot; })\n        public static class WebPAnimInfo extends Structure {\n            public int canvas_width;\n            public int canvas_height;\n            public int loop_count;\n            public int bgcolor;\n            public int frame_count;\n            public int[] pad = new int[4];\n        }\n        \n        /*\n        [webp/demux.h]\n            // Check if there are more frames left to decode.\n            // Parameters:\n            //   dec - (in) decoder instance to be checked.\n            // Returns:\n            //   True if 'dec' is not NULL and some frames are yet to be decoded.\n            //   Otherwise, returns false.\n            WEBP_EXTERN int WebPAnimDecoderHasMoreFrames(const WebPAnimDecoder* dec);\n        */\n        public int WebPAnimDecoderHasMoreFrames(Pointer dec);\n        \n        /*\n        [webp/demux.h]\n            // Fetch the next frame from 'dec' based on options supplied to\n            // WebPAnimDecoderNew(). This will be a fully reconstructed canvas of size\n            // 'canvas_width * 4 * canvas_height', and not just the frame sub-rectangle. The\n            // returned buffer 'buf' is valid only until the next call to\n            // WebPAnimDecoderGetNext(), WebPAnimDecoderReset() or WebPAnimDecoderDelete().\n            // Parameters:\n            //   dec - (in/out) decoder instance from which the next frame is to be fetched.\n            //   buf - (out) decoded frame.\n            //   timestamp - (out) timestamp of the frame in milliseconds.\n            // Returns:\n            //   False if any of the arguments are NULL, or if there is a parsing or\n            //   decoding error, or if there are no more frames. Otherwise, returns true.\n            WEBP_EXTERN int WebPAnimDecoderGetNext(WebPAnimDecoder* dec,\n                                                   uint8_t** buf, int* timestamp);\n        */\n        public int WebPAnimDecoderGetNext(Pointer dec, PointerByReference buf, IntByReference timestamp);\n        \n        /*\n        [webp/demux.h]\n            // Deletes the WebPAnimDecoder object.\n            // Parameters:\n            //   dec - (in/out) decoder instance to be deleted\n            WEBP_EXTERN void WebPAnimDecoderDelete(WebPAnimDecoder* dec);\n        */\n        public void WebPAnimDecoderDelete(Pointer dec);\n    }\n    \n    //==========================\n    // General Helpers\n    //==========================\n    private static ImageIcon createImage(Pointer pixelData, int width, int height) {\n        if (pixelData != null) {\n            int[] pixels = pixelData.getIntArray(0, width * height);\n\n            ColorModel colorModel;\n            colorModel = new DirectColorModel(32, 0x000000ff, 0x0000ff00, 0x00ff0000, 0xff000000);\n\n            SampleModel sampleModel = colorModel.createCompatibleSampleModel(width, height);\n            DataBufferInt db = new DataBufferInt(pixels, width * height);\n            WritableRaster raster = WritableRaster.createWritableRaster(sampleModel, db, null);\n\n            Image img = new BufferedImage(colorModel, raster, false, new Hashtable&lt;Object, Object&gt;());\n            return new ImageIcon(img.getScaledInstance(100, 100, 0)); // Resized for testing\n        }\n        return null;\n    }\n    \n    private static void showImages(ImageIcon... icons) {\n        SwingUtilities.invokeLater(() -&gt; {\n            JFrame frame = new JFrame();\n            frame.setLayout(new FlowLayout());\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            for (ImageIcon icon : icons) {\n                frame.add(new JLabel(icon), BorderLayout.CENTER);\n            }\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n        \n    }\n    \n    public static byte[] getBytesFromURL(URL url) throws Exception {\n        URLConnection c = url.openConnection();\n        try (InputStream input = c.getInputStream()) {\n            byte[] imageData = readAllBytes(input);\n            return imageData;\n        }\n    }\n    \n    private static byte[] readAllBytes(InputStream input) throws IOException {\n        ByteArrayOutputStream result = new ByteArrayOutputStream();\n        byte[] buffer = new byte[1024];\n        int length;\n        while ((length = input.read(buffer, 0, buffer.length)) != -1) {\n            result.write(buffer, 0, length);\n        }\n        return result.toByteArray();\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":2758189,"reputation":463,"user_id":2375667,"accept_rate":20,"display_name":"user2375667"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1657261471,"creation_date":1657236213,"question_id":72905193,"body_markdown":"I need to read static and animated WebP images in Java. There is no DLL offered for [libwepb][1], so I&#39;ve downloaded the [source][2] and compiled it in the Native Tools Command Prompt for VS 2022 on Windows like this:\r\n\r\n    ..\\libwebp-1.2.2&gt;nmake /f Makefile.vc CFG=release-dynamic RTLIBCFG=dynamic OBJDIR=output\r\n\r\nThis resulted in the files `libwebp.dll`, `libwebpdecoder.dll` and `libwebpdemux.dll`. I&#39;m using `jna-5.12.1.jar` for JNA. I was able to decode a static image using the `libwebp.dll` and the function `WebPDecodeRGBA`, however decoding an animated image doesn&#39;t work with that. From what I understand the demux functions in `libwebpdemux.dll` are required for that.\r\n\r\nI tried to implement the [WebPAnimDecoder][3] API, but I&#39;m already stuck at creating the decoder:\r\n```c\r\nWebPAnimDecoder* dec = WebPAnimDecoderNew(webp_data, &amp;dec_options);\r\n```\r\nFrom the [documentation][4] it looks like `dec_options` can just be null to get a default, but I&#39;m not sure how it wants the `webp_data`. I tried to implement the [WebPData struct][5], but I&#39;m not sure if that is even correct.\r\n```java\r\n@Structure.FieldOrder({ &quot;bytes&quot;, &quot;length&quot; })\r\npublic static class WebPData extends Structure {\r\n    public byte[] bytes;\r\n    public int length;\r\n}\r\n```\r\nI&#39;ve gotten an &quot;Invalid memory access&quot; exception by just assigning the bytes directly `data.bytes = rawdata;`. At the WebP struct definition it says &quot;&#39;bytes&#39; memory must be allocated using [WebPMalloc()][6] and such.&quot;, so I assume that is required somehow, but I don&#39;t know how that would work, how do I get the data in there? The way it is now throws an exception complaining about the return type.\r\n\r\nWhat also confuses me is that the [example][7] calls [`WebPAnimDecoderNew`][8], but that function is not exported, so I can&#39;t access it. Instead, there is a function called [`WebPAnimDecoderNewInternal`][9] with an additional int parameter that apparently is supposed to receive the `WEBP_DEMUX_ABI_VERSION` constant. I&#39;m not quite sure what the signficance of that is. Am I really supposed to call the &quot;Internal&quot; function?\r\n\r\nThis is what I&#39;ve been testing with (more information in some comments):\r\n\r\n```java\r\npackage webptest;\r\n\r\nimport com.sun.jna.Library;\r\nimport com.sun.jna.Native;\r\nimport com.sun.jna.Pointer;\r\nimport com.sun.jna.Structure;\r\nimport com.sun.jna.ptr.IntByReference;\r\nimport java.awt.BorderLayout;\r\nimport java.awt.FlowLayout;\r\nimport java.awt.Image;\r\nimport java.awt.image.BufferedImage;\r\nimport java.awt.image.ColorModel;\r\nimport java.awt.image.DataBufferInt;\r\nimport java.awt.image.DirectColorModel;\r\nimport java.awt.image.SampleModel;\r\nimport java.awt.image.WritableRaster;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.net.URL;\r\nimport java.net.URLConnection;\r\nimport java.util.Hashtable;\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.SwingUtilities;\r\n\r\npublic class WebPDecodingTest {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        System.setProperty(&quot;jna.library.path&quot;, &quot;&lt;path&gt;\\\\lib\\\\x64&quot;);\r\n        \r\n        // This only shows the first image\r\n        ImageIcon staticImage = decodeStatic(&quot;https://www.gstatic.com/webp/gallery/4.sm.webp&quot;);\r\n        ImageIcon animatedImage = decodeStatic(&quot;https://storage.googleapis.com/downloads.webmproject.org/webp/images/dancing_banana2.lossless.webp&quot;);\r\n        showImages(staticImage, animatedImage);\r\n        \r\n        // This throws an error (and it&#39;s incomplete anyway)\r\n        ImageIcon[] animatedImage2 = decodeAnimated(&quot;https://storage.googleapis.com/downloads.webmproject.org/webp/images/dancing_banana2.lossless.webp&quot;);\r\n        showImages(animatedImage2);\r\n    }\r\n\r\n    //==========================\r\n    // Animated image\r\n    //==========================\r\n    \r\n    /**\r\n     * Decode the frames of an animated image. Doesn&#39;t work and incomplete.\r\n     */\r\n    private static ImageIcon[] decodeAnimated(String url) throws Exception {\r\n        byte[] rawData = getBytesFromURL(new URL(url));\r\n        System.out.println(&quot;Bytes length: &quot;+rawData.length);\r\n\r\n        /**\r\n         * I assume that this is already not correct. In a C example\r\n         * (examples/anim_util.c) it uses &quot;WebPDataInit(&amp;webp_data);&quot; first, but\r\n         * that function isn&#39;t exported. It&#39;s in &quot;src/webp/mux_types.h&quot;:\r\n         * \r\n             // Initializes the contents of the &#39;webp_data&#39; object with default values.\r\n            static WEBP_INLINE void WebPDataInit(WebPData* webp_data) {\r\n              if (webp_data != NULL) {\r\n                memset(webp_data, 0, sizeof(*webp_data));\r\n              }\r\n            }\r\n         * \r\n         * I tried just assigning the data direclty like &quot;data.bytes = rawdata;&quot;\r\n         * however that resulted in a &quot;Invalid memory access&quot; exception when\r\n         * calling &quot;WebPAnimDecoderNewInternal&quot;.\r\n         * \r\n         * At the definition of the WebPData struct (see above) it says\r\n         * &quot;&#39;bytes&#39; memory must be allocated using WebPMalloc() and such.&quot;\r\n         * so I assume that might be required to be used, but I&#39;m not sure how.\r\n         * \r\n         * The way it is now throws a &quot;Unsupported return type class [B in\r\n         * function WebPMalloc&quot; exception.\r\n         */\r\n        LibWebPDemux.WebPData data = new LibWebPDemux.WebPData();\r\n        data.bytes = LibWebP.INSTANCE.WebPMalloc(rawData.length);\r\n        data.length = rawData.length;\r\n\r\n        // This may not be required, instead &quot;null&quot; can be provided for default options\r\n//        LibWebPDemux.WebPAnimDecoderOptions options = new LibWebPDemux.WebPAnimDecoderOptions();\r\n//        int initResult = LibWebPDemux.INSTANCE.WebPAnimDecoderOptionsInitInternal(options, LibWebPDemux.WEBP_DEMUX_ABI_VERSION);\r\n//        System.out.println(initResult);\r\n\r\n        Pointer dec = LibWebPDemux.INSTANCE.WebPAnimDecoderNewInternal(data, null, LibWebPDemux.WEBP_DEMUX_ABI_VERSION);\r\n        System.out.println(dec);\r\n        \r\n        // Just testing if accessing the lib works at all (it appears to)\r\n//        int version = LibWebPDemux.INSTANCE.WebPGetDemuxVersion();\r\n//        System.out.println(version);\r\n        return null;\r\n    }\r\n    \r\n    //==========================\r\n    // libwebp\r\n    //==========================\r\n    public interface LibWebP extends Library {\r\n\r\n        LibWebP INSTANCE = Native.load(&quot;libwebp&quot;, LibWebP.class);\r\n\r\n        /*\r\n        [webp/decode.h]\r\n            // Retrieve basic header information: width, height.\r\n            // This function will also validate the header, returning true on success,\r\n            // false otherwise. &#39;*width&#39; and &#39;*height&#39; are only valid on successful return.\r\n            // Pointers &#39;width&#39; and &#39;height&#39; can be passed NULL if deemed irrelevant.\r\n            // Note: The following chunk sequences (before the raw VP8/VP8L data) are\r\n            // considered valid by this function:\r\n            // RIFF + VP8(L)\r\n            // RIFF + VP8X + (optional chunks) + VP8(L)\r\n            // ALPH + VP8 &lt;-- Not a valid WebP format: only allowed for internal purpose.\r\n            // VP8(L)     &lt;-- Not a valid WebP format: only allowed for internal purpose.\r\n            WEBP_EXTERN int WebPGetInfo(const uint8_t* data, size_t data_size,\r\n                                        int* width, int* height);\r\n        */\r\n        public int WebPGetInfo(byte[] data, int data_size, IntByReference width, IntByReference height);\r\n        \r\n        /*\r\n        [webp/decode.h]\r\n            // Decodes WebP images pointed to by &#39;data&#39; and returns RGBA samples, along\r\n            // with the dimensions in *width and *height. The ordering of samples in\r\n            // memory is R, G, B, A, R, G, B, A... in scan order (endian-independent).\r\n            // The returned pointer should be deleted calling WebPFree().\r\n            // Returns NULL in case of error.\r\n            WEBP_EXTERN uint8_t* WebPDecodeRGBA(const uint8_t* data, size_t data_size,\r\n                                                int* width, int* height);\r\n        */\r\n        public Pointer WebPDecodeRGBA(byte[] data, int data_size, IntByReference width, IntByReference height);\r\n        \r\n        /*\r\n        [webp/types.h]\r\n            // Allocates &#39;size&#39; bytes of memory. Returns NULL upon error. Memory\r\n            // must be deallocated by calling WebPFree(). This function is made available\r\n            // by the core &#39;libwebp&#39; library.\r\n            WEBP_EXTERN void* WebPMalloc(size_t size);\r\n        */\r\n        public byte[] WebPMalloc(int size);\r\n        \r\n        /*\r\n        [webp/types.h]\r\n            // Releases memory returned by the WebPDecode*() functions (from decode.h).\r\n            WEBP_EXTERN void WebPFree(void* ptr);\r\n        */\r\n        public void WebPFree(Pointer pointer);\r\n    }\r\n    \r\n    //==========================\r\n    // libwebpdemux\r\n    //==========================\r\n    public interface LibWebPDemux extends Library {\r\n        LibWebPDemux INSTANCE = Native.load(&quot;libwebpdemux&quot;, LibWebPDemux.class);\r\n        \r\n        static final int WEBP_DEMUX_ABI_VERSION = 0x0107;\r\n        \r\n        /*\r\n        [webp/demux.h]\r\n            // Internal, version-checked, entry point.\r\n            WEBP_EXTERN WebPAnimDecoder* WebPAnimDecoderNewInternal(\r\n                const WebPData*, const WebPAnimDecoderOptions*, int);\r\n\r\n            // Creates and initializes a WebPAnimDecoder object.\r\n            // Parameters:\r\n            //   webp_data - (in) WebP bitstream. This should remain unchanged during the\r\n            //                    lifetime of the output WebPAnimDecoder object.\r\n            //   dec_options - (in) decoding options. Can be passed NULL to choose\r\n            //                      reasonable defaults (in particular, color mode MODE_RGBA\r\n            //                      will be picked).\r\n            // Returns:\r\n            //   A pointer to the newly created WebPAnimDecoder object, or NULL in case of\r\n            //   parsing error, invalid option or memory error.\r\n            static WEBP_INLINE WebPAnimDecoder* WebPAnimDecoderNew(\r\n                const WebPData* webp_data, const WebPAnimDecoderOptions* dec_options) {\r\n              return WebPAnimDecoderNewInternal(webp_data, dec_options,\r\n                                                WEBP_DEMUX_ABI_VERSION);\r\n            }\r\n        */\r\n        public Pointer WebPAnimDecoderNewInternal(WebPData webp_data, Structure dec_options, int version);\r\n        \r\n        /*\r\n        [webp/mux_types.h]\r\n            // Data type used to describe &#39;raw&#39; data, e.g., chunk data\r\n            // (ICC profile, metadata) and WebP compressed image data.\r\n            // &#39;bytes&#39; memory must be allocated using WebPMalloc() and such.\r\n            struct WebPData {\r\n              const uint8_t* bytes;\r\n              size_t size;\r\n            };\r\n        */\r\n        @Structure.FieldOrder({ &quot;bytes&quot;, &quot;length&quot; })\r\n        public static class WebPData extends Structure {\r\n            public byte[] bytes;\r\n            public int length;\r\n        }\r\n        \r\n        /*\r\n        [webp/demux.h]\r\n            // Returns the version number of the demux library, packed in hexadecimal using\r\n            // 8bits for each of major/minor/revision. E.g: v2.5.7 is 0x020507.\r\n            WEBP_EXTERN int WebPGetDemuxVersion(void);\r\n        */\r\n        public int WebPGetDemuxVersion();\r\n        \r\n        /*\r\n        [webp/demux.h]\r\n            // Internal, version-checked, entry point.\r\n            WEBP_EXTERN int WebPAnimDecoderOptionsInitInternal(\r\n                WebPAnimDecoderOptions*, int);\r\n\r\n            // Should always be called, to initialize a fresh WebPAnimDecoderOptions\r\n            // structure before modification. Returns false in case of version mismatch.\r\n            // WebPAnimDecoderOptionsInit() must have succeeded before using the\r\n            // &#39;dec_options&#39; object.\r\n            static WEBP_INLINE int WebPAnimDecoderOptionsInit(\r\n                WebPAnimDecoderOptions* dec_options) {\r\n              return WebPAnimDecoderOptionsInitInternal(dec_options,\r\n                                                        WEBP_DEMUX_ABI_VERSION);\r\n            }\r\n        */\r\n        public int WebPAnimDecoderOptionsInitInternal(WebPAnimDecoderOptions options, int version);\r\n        \r\n        /*\r\n        [webp/demux.h]\r\n            // Global options.\r\n            struct WebPAnimDecoderOptions {\r\n              // Output colorspace. Only the following modes are supported:\r\n              // MODE_RGBA, MODE_BGRA, MODE_rgbA and MODE_bgrA.\r\n              WEBP_CSP_MODE color_mode;\r\n              int use_threads;           // If true, use multi-threaded decoding.\r\n              uint32_t padding[7];       // Padding for later use.\r\n            };\r\n        \r\n        [webp/decode.h]\r\n            typedef enum WEBP_CSP_MODE {\r\n              MODE_RGB = 0, MODE_RGBA = 1,\r\n              MODE_BGR = 2, MODE_BGRA = 3,\r\n              MODE_ARGB = 4, MODE_RGBA_4444 = 5,\r\n              MODE_RGB_565 = 6,\r\n              // RGB-premultiplied transparent modes (alpha value is preserved)\r\n              MODE_rgbA = 7,\r\n              MODE_bgrA = 8,\r\n              MODE_Argb = 9,\r\n              MODE_rgbA_4444 = 10,\r\n              // YUV modes must come after RGB ones.\r\n              MODE_YUV = 11, MODE_YUVA = 12,  // yuv 4:2:0\r\n              MODE_LAST = 13\r\n            } WEBP_CSP_MODE;\r\n        */\r\n        @Structure.FieldOrder({ &quot;color_mode&quot;, &quot;use_threads&quot;, &quot;padding&quot; })\r\n        public static class WebPAnimDecoderOptions extends Structure {\r\n            public int color_mode; // enum\r\n            public int use_threads;\r\n            public int[] padding = new int[7];\r\n        }\r\n        \r\n        /*\r\n        [webp/demux.h]\r\n            // Global information about the animation..\r\n            struct WebPAnimInfo {\r\n              uint32_t canvas_width;\r\n              uint32_t canvas_height;\r\n              uint32_t loop_count;\r\n              uint32_t bgcolor;\r\n              uint32_t frame_count;\r\n              uint32_t pad[4];   // padding for later use\r\n            };\r\n        */\r\n        @Structure.FieldOrder({ &quot;canvas_width&quot;, &quot;canvas_height&quot;, &quot;loop_count&quot;, &quot;bgcolor&quot;, &quot;frame_count&quot;, &quot;pad&quot; })\r\n        public static class WebPAnimInfo extends Structure {\r\n            public int canvas_width;\r\n            public int canvas_height;\r\n            public int loop_count;\r\n            public int bgcolor;\r\n            public int frame_count;\r\n            public int[] pad = new int[4];\r\n        }\r\n    }\r\n    \r\n    //==========================\r\n    // Static image\r\n    //==========================\r\n    \r\n    /**\r\n     * Decoding a static WebP image. I&#39;m not sure if it&#39;s entirely correct, but\r\n     * at least an image comes out of it.\r\n     */\r\n    private static ImageIcon decodeStatic(String url) throws Exception {\r\n        byte[] rawData = getBytesFromURL(new URL(url));\r\n        IntByReference widthRef = new IntByReference();\r\n        IntByReference heightRef = new IntByReference();\r\n        int result = LibWebP.INSTANCE.WebPGetInfo(rawData, rawData.length, widthRef, heightRef);\r\n        if (result == 1) {\r\n//            System.out.println(widthRef.getValue() + &quot; &quot; + heightRef.getValue());\r\n\r\n            Pointer pixelData = LibWebP.INSTANCE.WebPDecodeRGBA(rawData, rawData.length, widthRef, heightRef);\r\n            if (pixelData != null) {\r\n                int width = widthRef.getValue();\r\n                int height = heightRef.getValue();\r\n\r\n                int[] pixels = pixelData.getIntArray(0, width * height);\r\n\r\n                ColorModel colorModel;\r\n                colorModel = new DirectColorModel(32, 0x000000ff, 0x0000ff00, 0x00ff0000, 0xff000000);\r\n\r\n                SampleModel sampleModel = colorModel.createCompatibleSampleModel(width, height);\r\n                DataBufferInt db = new DataBufferInt(pixels, width * height);\r\n                WritableRaster raster = WritableRaster.createWritableRaster(sampleModel, db, null);\r\n\r\n                Image img = new BufferedImage(colorModel, raster, false, new Hashtable&lt;Object, Object&gt;());\r\n                return new ImageIcon(img);\r\n            }\r\n        }\r\n        System.out.println(&quot;Not a valid WebP&quot;);\r\n        return null;\r\n    }\r\n    \r\n    //==========================\r\n    // General Helpers\r\n    //==========================\r\n    private static void showImages(ImageIcon... icons) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            JFrame frame = new JFrame();\r\n            frame.setLayout(new FlowLayout());\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            for (ImageIcon icon : icons) {\r\n                frame.add(new JLabel(icon), BorderLayout.CENTER);\r\n            }\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n    \r\n    public static byte[] getBytesFromURL(URL url) throws Exception {\r\n        URLConnection c = url.openConnection();\r\n        try (InputStream input = c.getInputStream()) {\r\n            byte[] imageData = readAllBytes(input);\r\n            return imageData;\r\n        }\r\n    }\r\n    \r\n    private static byte[] readAllBytes(InputStream input) throws IOException {\r\n        ByteArrayOutputStream result = new ByteArrayOutputStream();\r\n        byte[] buffer = new byte[1024];\r\n        int length;\r\n        while ((length = input.read(buffer, 0, buffer.length)) != -1) {\r\n            result.write(buffer, 0, length);\r\n        }\r\n        return result.toByteArray();\r\n    }    \r\n}\r\n```\r\n\r\n\r\n  [1]: https://developers.google.com/speed/webp/download\r\n  [2]: https://storage.googleapis.com/downloads.webmproject.org/releases/webp/libwebp-1.2.2.tar.gz\r\n  [3]: https://github.com/webmproject/libwebp/blob/v1.2.2/src/webp/demux.h#L221\r\n  [4]: https://github.com/webmproject/libwebp/blob/v1.2.2/src/webp/demux.h#L281\r\n  [5]: https://github.com/webmproject/libwebp/blob/v1.2.2/src/webp/mux_types.h#L59\r\n  [6]: https://github.com/webmproject/libwebp/blob/v1.2.2/src/webp/types.h#L59\r\n  [7]: https://github.com/webmproject/libwebp/blob/v1.2.2/src/webp/demux.h#L230\r\n  [8]: https://github.com/webmproject/libwebp/blob/v1.2.2/src/webp/demux.h#L287\r\n  [9]: https://github.com/webmproject/libwebp/blob/v1.2.2/src/webp/demux.h#L274","title":"Decode an animated image using libwebp DLLs and JNA","body":"<p>I need to read static and animated WebP images in Java. There is no DLL offered for <a href=\"https://developers.google.com/speed/webp/download\" rel=\"nofollow noreferrer\">libwepb</a>, so I've downloaded the <a href=\"https://storage.googleapis.com/downloads.webmproject.org/releases/webp/libwebp-1.2.2.tar.gz\" rel=\"nofollow noreferrer\">source</a> and compiled it in the Native Tools Command Prompt for VS 2022 on Windows like this:</p>\n<pre><code>..\\libwebp-1.2.2&gt;nmake /f Makefile.vc CFG=release-dynamic RTLIBCFG=dynamic OBJDIR=output\n</code></pre>\n<p>This resulted in the files <code>libwebp.dll</code>, <code>libwebpdecoder.dll</code> and <code>libwebpdemux.dll</code>. I'm using <code>jna-5.12.1.jar</code> for JNA. I was able to decode a static image using the <code>libwebp.dll</code> and the function <code>WebPDecodeRGBA</code>, however decoding an animated image doesn't work with that. From what I understand the demux functions in <code>libwebpdemux.dll</code> are required for that.</p>\n<p>I tried to implement the <a href=\"https://github.com/webmproject/libwebp/blob/v1.2.2/src/webp/demux.h#L221\" rel=\"nofollow noreferrer\">WebPAnimDecoder</a> API, but I'm already stuck at creating the decoder:</p>\n<pre class=\"lang-c prettyprint-override\"><code>WebPAnimDecoder* dec = WebPAnimDecoderNew(webp_data, &amp;dec_options);\n</code></pre>\n<p>From the <a href=\"https://github.com/webmproject/libwebp/blob/v1.2.2/src/webp/demux.h#L281\" rel=\"nofollow noreferrer\">documentation</a> it looks like <code>dec_options</code> can just be null to get a default, but I'm not sure how it wants the <code>webp_data</code>. I tried to implement the <a href=\"https://github.com/webmproject/libwebp/blob/v1.2.2/src/webp/mux_types.h#L59\" rel=\"nofollow noreferrer\">WebPData struct</a>, but I'm not sure if that is even correct.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Structure.FieldOrder({ &quot;bytes&quot;, &quot;length&quot; })\npublic static class WebPData extends Structure {\n    public byte[] bytes;\n    public int length;\n}\n</code></pre>\n<p>I've gotten an &quot;Invalid memory access&quot; exception by just assigning the bytes directly <code>data.bytes = rawdata;</code>. At the WebP struct definition it says &quot;'bytes' memory must be allocated using <a href=\"https://github.com/webmproject/libwebp/blob/v1.2.2/src/webp/types.h#L59\" rel=\"nofollow noreferrer\">WebPMalloc()</a> and such.&quot;, so I assume that is required somehow, but I don't know how that would work, how do I get the data in there? The way it is now throws an exception complaining about the return type.</p>\n<p>What also confuses me is that the <a href=\"https://github.com/webmproject/libwebp/blob/v1.2.2/src/webp/demux.h#L230\" rel=\"nofollow noreferrer\">example</a> calls <a href=\"https://github.com/webmproject/libwebp/blob/v1.2.2/src/webp/demux.h#L287\" rel=\"nofollow noreferrer\"><code>WebPAnimDecoderNew</code></a>, but that function is not exported, so I can't access it. Instead, there is a function called <a href=\"https://github.com/webmproject/libwebp/blob/v1.2.2/src/webp/demux.h#L274\" rel=\"nofollow noreferrer\"><code>WebPAnimDecoderNewInternal</code></a> with an additional int parameter that apparently is supposed to receive the <code>WEBP_DEMUX_ABI_VERSION</code> constant. I'm not quite sure what the signficance of that is. Am I really supposed to call the &quot;Internal&quot; function?</p>\n<p>This is what I've been testing with (more information in some comments):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package webptest;\n\nimport com.sun.jna.Library;\nimport com.sun.jna.Native;\nimport com.sun.jna.Pointer;\nimport com.sun.jna.Structure;\nimport com.sun.jna.ptr.IntByReference;\nimport java.awt.BorderLayout;\nimport java.awt.FlowLayout;\nimport java.awt.Image;\nimport java.awt.image.BufferedImage;\nimport java.awt.image.ColorModel;\nimport java.awt.image.DataBufferInt;\nimport java.awt.image.DirectColorModel;\nimport java.awt.image.SampleModel;\nimport java.awt.image.WritableRaster;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.URL;\nimport java.net.URLConnection;\nimport java.util.Hashtable;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.SwingUtilities;\n\npublic class WebPDecodingTest {\n\n    public static void main(String[] args) throws Exception {\n        System.setProperty(&quot;jna.library.path&quot;, &quot;&lt;path&gt;\\\\lib\\\\x64&quot;);\n        \n        // This only shows the first image\n        ImageIcon staticImage = decodeStatic(&quot;https://www.gstatic.com/webp/gallery/4.sm.webp&quot;);\n        ImageIcon animatedImage = decodeStatic(&quot;https://storage.googleapis.com/downloads.webmproject.org/webp/images/dancing_banana2.lossless.webp&quot;);\n        showImages(staticImage, animatedImage);\n        \n        // This throws an error (and it's incomplete anyway)\n        ImageIcon[] animatedImage2 = decodeAnimated(&quot;https://storage.googleapis.com/downloads.webmproject.org/webp/images/dancing_banana2.lossless.webp&quot;);\n        showImages(animatedImage2);\n    }\n\n    //==========================\n    // Animated image\n    //==========================\n    \n    /**\n     * Decode the frames of an animated image. Doesn't work and incomplete.\n     */\n    private static ImageIcon[] decodeAnimated(String url) throws Exception {\n        byte[] rawData = getBytesFromURL(new URL(url));\n        System.out.println(&quot;Bytes length: &quot;+rawData.length);\n\n        /**\n         * I assume that this is already not correct. In a C example\n         * (examples/anim_util.c) it uses &quot;WebPDataInit(&amp;webp_data);&quot; first, but\n         * that function isn't exported. It's in &quot;src/webp/mux_types.h&quot;:\n         * \n             // Initializes the contents of the 'webp_data' object with default values.\n            static WEBP_INLINE void WebPDataInit(WebPData* webp_data) {\n              if (webp_data != NULL) {\n                memset(webp_data, 0, sizeof(*webp_data));\n              }\n            }\n         * \n         * I tried just assigning the data direclty like &quot;data.bytes = rawdata;&quot;\n         * however that resulted in a &quot;Invalid memory access&quot; exception when\n         * calling &quot;WebPAnimDecoderNewInternal&quot;.\n         * \n         * At the definition of the WebPData struct (see above) it says\n         * &quot;'bytes' memory must be allocated using WebPMalloc() and such.&quot;\n         * so I assume that might be required to be used, but I'm not sure how.\n         * \n         * The way it is now throws a &quot;Unsupported return type class [B in\n         * function WebPMalloc&quot; exception.\n         */\n        LibWebPDemux.WebPData data = new LibWebPDemux.WebPData();\n        data.bytes = LibWebP.INSTANCE.WebPMalloc(rawData.length);\n        data.length = rawData.length;\n\n        // This may not be required, instead &quot;null&quot; can be provided for default options\n//        LibWebPDemux.WebPAnimDecoderOptions options = new LibWebPDemux.WebPAnimDecoderOptions();\n//        int initResult = LibWebPDemux.INSTANCE.WebPAnimDecoderOptionsInitInternal(options, LibWebPDemux.WEBP_DEMUX_ABI_VERSION);\n//        System.out.println(initResult);\n\n        Pointer dec = LibWebPDemux.INSTANCE.WebPAnimDecoderNewInternal(data, null, LibWebPDemux.WEBP_DEMUX_ABI_VERSION);\n        System.out.println(dec);\n        \n        // Just testing if accessing the lib works at all (it appears to)\n//        int version = LibWebPDemux.INSTANCE.WebPGetDemuxVersion();\n//        System.out.println(version);\n        return null;\n    }\n    \n    //==========================\n    // libwebp\n    //==========================\n    public interface LibWebP extends Library {\n\n        LibWebP INSTANCE = Native.load(&quot;libwebp&quot;, LibWebP.class);\n\n        /*\n        [webp/decode.h]\n            // Retrieve basic header information: width, height.\n            // This function will also validate the header, returning true on success,\n            // false otherwise. '*width' and '*height' are only valid on successful return.\n            // Pointers 'width' and 'height' can be passed NULL if deemed irrelevant.\n            // Note: The following chunk sequences (before the raw VP8/VP8L data) are\n            // considered valid by this function:\n            // RIFF + VP8(L)\n            // RIFF + VP8X + (optional chunks) + VP8(L)\n            // ALPH + VP8 &lt;-- Not a valid WebP format: only allowed for internal purpose.\n            // VP8(L)     &lt;-- Not a valid WebP format: only allowed for internal purpose.\n            WEBP_EXTERN int WebPGetInfo(const uint8_t* data, size_t data_size,\n                                        int* width, int* height);\n        */\n        public int WebPGetInfo(byte[] data, int data_size, IntByReference width, IntByReference height);\n        \n        /*\n        [webp/decode.h]\n            // Decodes WebP images pointed to by 'data' and returns RGBA samples, along\n            // with the dimensions in *width and *height. The ordering of samples in\n            // memory is R, G, B, A, R, G, B, A... in scan order (endian-independent).\n            // The returned pointer should be deleted calling WebPFree().\n            // Returns NULL in case of error.\n            WEBP_EXTERN uint8_t* WebPDecodeRGBA(const uint8_t* data, size_t data_size,\n                                                int* width, int* height);\n        */\n        public Pointer WebPDecodeRGBA(byte[] data, int data_size, IntByReference width, IntByReference height);\n        \n        /*\n        [webp/types.h]\n            // Allocates 'size' bytes of memory. Returns NULL upon error. Memory\n            // must be deallocated by calling WebPFree(). This function is made available\n            // by the core 'libwebp' library.\n            WEBP_EXTERN void* WebPMalloc(size_t size);\n        */\n        public byte[] WebPMalloc(int size);\n        \n        /*\n        [webp/types.h]\n            // Releases memory returned by the WebPDecode*() functions (from decode.h).\n            WEBP_EXTERN void WebPFree(void* ptr);\n        */\n        public void WebPFree(Pointer pointer);\n    }\n    \n    //==========================\n    // libwebpdemux\n    //==========================\n    public interface LibWebPDemux extends Library {\n        LibWebPDemux INSTANCE = Native.load(&quot;libwebpdemux&quot;, LibWebPDemux.class);\n        \n        static final int WEBP_DEMUX_ABI_VERSION = 0x0107;\n        \n        /*\n        [webp/demux.h]\n            // Internal, version-checked, entry point.\n            WEBP_EXTERN WebPAnimDecoder* WebPAnimDecoderNewInternal(\n                const WebPData*, const WebPAnimDecoderOptions*, int);\n\n            // Creates and initializes a WebPAnimDecoder object.\n            // Parameters:\n            //   webp_data - (in) WebP bitstream. This should remain unchanged during the\n            //                    lifetime of the output WebPAnimDecoder object.\n            //   dec_options - (in) decoding options. Can be passed NULL to choose\n            //                      reasonable defaults (in particular, color mode MODE_RGBA\n            //                      will be picked).\n            // Returns:\n            //   A pointer to the newly created WebPAnimDecoder object, or NULL in case of\n            //   parsing error, invalid option or memory error.\n            static WEBP_INLINE WebPAnimDecoder* WebPAnimDecoderNew(\n                const WebPData* webp_data, const WebPAnimDecoderOptions* dec_options) {\n              return WebPAnimDecoderNewInternal(webp_data, dec_options,\n                                                WEBP_DEMUX_ABI_VERSION);\n            }\n        */\n        public Pointer WebPAnimDecoderNewInternal(WebPData webp_data, Structure dec_options, int version);\n        \n        /*\n        [webp/mux_types.h]\n            // Data type used to describe 'raw' data, e.g., chunk data\n            // (ICC profile, metadata) and WebP compressed image data.\n            // 'bytes' memory must be allocated using WebPMalloc() and such.\n            struct WebPData {\n              const uint8_t* bytes;\n              size_t size;\n            };\n        */\n        @Structure.FieldOrder({ &quot;bytes&quot;, &quot;length&quot; })\n        public static class WebPData extends Structure {\n            public byte[] bytes;\n            public int length;\n        }\n        \n        /*\n        [webp/demux.h]\n            // Returns the version number of the demux library, packed in hexadecimal using\n            // 8bits for each of major/minor/revision. E.g: v2.5.7 is 0x020507.\n            WEBP_EXTERN int WebPGetDemuxVersion(void);\n        */\n        public int WebPGetDemuxVersion();\n        \n        /*\n        [webp/demux.h]\n            // Internal, version-checked, entry point.\n            WEBP_EXTERN int WebPAnimDecoderOptionsInitInternal(\n                WebPAnimDecoderOptions*, int);\n\n            // Should always be called, to initialize a fresh WebPAnimDecoderOptions\n            // structure before modification. Returns false in case of version mismatch.\n            // WebPAnimDecoderOptionsInit() must have succeeded before using the\n            // 'dec_options' object.\n            static WEBP_INLINE int WebPAnimDecoderOptionsInit(\n                WebPAnimDecoderOptions* dec_options) {\n              return WebPAnimDecoderOptionsInitInternal(dec_options,\n                                                        WEBP_DEMUX_ABI_VERSION);\n            }\n        */\n        public int WebPAnimDecoderOptionsInitInternal(WebPAnimDecoderOptions options, int version);\n        \n        /*\n        [webp/demux.h]\n            // Global options.\n            struct WebPAnimDecoderOptions {\n              // Output colorspace. Only the following modes are supported:\n              // MODE_RGBA, MODE_BGRA, MODE_rgbA and MODE_bgrA.\n              WEBP_CSP_MODE color_mode;\n              int use_threads;           // If true, use multi-threaded decoding.\n              uint32_t padding[7];       // Padding for later use.\n            };\n        \n        [webp/decode.h]\n            typedef enum WEBP_CSP_MODE {\n              MODE_RGB = 0, MODE_RGBA = 1,\n              MODE_BGR = 2, MODE_BGRA = 3,\n              MODE_ARGB = 4, MODE_RGBA_4444 = 5,\n              MODE_RGB_565 = 6,\n              // RGB-premultiplied transparent modes (alpha value is preserved)\n              MODE_rgbA = 7,\n              MODE_bgrA = 8,\n              MODE_Argb = 9,\n              MODE_rgbA_4444 = 10,\n              // YUV modes must come after RGB ones.\n              MODE_YUV = 11, MODE_YUVA = 12,  // yuv 4:2:0\n              MODE_LAST = 13\n            } WEBP_CSP_MODE;\n        */\n        @Structure.FieldOrder({ &quot;color_mode&quot;, &quot;use_threads&quot;, &quot;padding&quot; })\n        public static class WebPAnimDecoderOptions extends Structure {\n            public int color_mode; // enum\n            public int use_threads;\n            public int[] padding = new int[7];\n        }\n        \n        /*\n        [webp/demux.h]\n            // Global information about the animation..\n            struct WebPAnimInfo {\n              uint32_t canvas_width;\n              uint32_t canvas_height;\n              uint32_t loop_count;\n              uint32_t bgcolor;\n              uint32_t frame_count;\n              uint32_t pad[4];   // padding for later use\n            };\n        */\n        @Structure.FieldOrder({ &quot;canvas_width&quot;, &quot;canvas_height&quot;, &quot;loop_count&quot;, &quot;bgcolor&quot;, &quot;frame_count&quot;, &quot;pad&quot; })\n        public static class WebPAnimInfo extends Structure {\n            public int canvas_width;\n            public int canvas_height;\n            public int loop_count;\n            public int bgcolor;\n            public int frame_count;\n            public int[] pad = new int[4];\n        }\n    }\n    \n    //==========================\n    // Static image\n    //==========================\n    \n    /**\n     * Decoding a static WebP image. I'm not sure if it's entirely correct, but\n     * at least an image comes out of it.\n     */\n    private static ImageIcon decodeStatic(String url) throws Exception {\n        byte[] rawData = getBytesFromURL(new URL(url));\n        IntByReference widthRef = new IntByReference();\n        IntByReference heightRef = new IntByReference();\n        int result = LibWebP.INSTANCE.WebPGetInfo(rawData, rawData.length, widthRef, heightRef);\n        if (result == 1) {\n//            System.out.println(widthRef.getValue() + &quot; &quot; + heightRef.getValue());\n\n            Pointer pixelData = LibWebP.INSTANCE.WebPDecodeRGBA(rawData, rawData.length, widthRef, heightRef);\n            if (pixelData != null) {\n                int width = widthRef.getValue();\n                int height = heightRef.getValue();\n\n                int[] pixels = pixelData.getIntArray(0, width * height);\n\n                ColorModel colorModel;\n                colorModel = new DirectColorModel(32, 0x000000ff, 0x0000ff00, 0x00ff0000, 0xff000000);\n\n                SampleModel sampleModel = colorModel.createCompatibleSampleModel(width, height);\n                DataBufferInt db = new DataBufferInt(pixels, width * height);\n                WritableRaster raster = WritableRaster.createWritableRaster(sampleModel, db, null);\n\n                Image img = new BufferedImage(colorModel, raster, false, new Hashtable&lt;Object, Object&gt;());\n                return new ImageIcon(img);\n            }\n        }\n        System.out.println(&quot;Not a valid WebP&quot;);\n        return null;\n    }\n    \n    //==========================\n    // General Helpers\n    //==========================\n    private static void showImages(ImageIcon... icons) {\n        SwingUtilities.invokeLater(() -&gt; {\n            JFrame frame = new JFrame();\n            frame.setLayout(new FlowLayout());\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            for (ImageIcon icon : icons) {\n                frame.add(new JLabel(icon), BorderLayout.CENTER);\n            }\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n    \n    public static byte[] getBytesFromURL(URL url) throws Exception {\n        URLConnection c = url.openConnection();\n        try (InputStream input = c.getInputStream()) {\n            byte[] imageData = readAllBytes(input);\n            return imageData;\n        }\n    }\n    \n    private static byte[] readAllBytes(InputStream input) throws IOException {\n        ByteArrayOutputStream result = new ByteArrayOutputStream();\n        byte[] buffer = new byte[1024];\n        int length;\n        while ((length = input.read(buffer, 0, buffer.length)) != -1) {\n            result.write(buffer, 0, length);\n        }\n        return result.toByteArray();\n    }    \n}\n</code></pre>\n"},{"tags":["java","hadoop","mapreduce"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1657257066,"post_id":72906865,"comment_id":128772408,"body_markdown":"The core of your issue appears to be &quot;A required privilege is not held by the client&quot; This may be helpful: https://stackoverflow.com/questions/28958999/hdfs-write-resulting-in-createsymboliclink-error-1314-a-required-privilege","body":"The core of your issue appears to be &quot;A required privilege is not held by the client&quot; This may be helpful: <a href=\"https://stackoverflow.com/questions/28958999/hdfs-write-resulting-in-createsymboliclink-error-1314-a-required-privilege\" title=\"hdfs write resulting in createsymboliclink error 1314 a required privilege\">stackoverflow.com/questions/28958999/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25756042,"reputation":11,"user_id":19507692,"display_name":"Zahid_Ashraf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657261449,"creation_date":1657261449,"answer_id":72907427,"question_id":72906865,"body_markdown":"Alright, I figured out the solution after did so many research. What I did is, I set the following properties in mapred-site.xml\r\n\r\n    &lt;property&gt;\r\n        &lt;name&gt;yarn.app.mapreduce.am.env&lt;/name&gt;\r\n        &lt;value&gt;HADOOP_MAPRED_HOME=$HADOOP_HOME&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    &lt;property&gt;\r\n       &lt;name&gt;mapreduce.map.env&lt;/name&gt;\r\n       &lt;value&gt;HADOOP_MAPRED_HOME=$HADOOP_HOME&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    &lt;property&gt;\r\n       &lt;name&gt;mapreduce.reduce.env&lt;/name&gt;\r\n       &lt;value&gt;HADOOP_MAPRED_HOME=$HADOOP_HOME&lt;/value&gt;\r\n&lt;/property&gt;","title":"Hadoop mapreduce program fail","body":"<p>Alright, I figured out the solution after did so many research. What I did is, I set the following properties in mapred-site.xml</p>\n<pre><code>&lt;property&gt;\n    &lt;name&gt;yarn.app.mapreduce.am.env&lt;/name&gt;\n    &lt;value&gt;HADOOP_MAPRED_HOME=$HADOOP_HOME&lt;/value&gt;\n&lt;/property&gt;\n&lt;property&gt;\n   &lt;name&gt;mapreduce.map.env&lt;/name&gt;\n   &lt;value&gt;HADOOP_MAPRED_HOME=$HADOOP_HOME&lt;/value&gt;\n&lt;/property&gt;\n&lt;property&gt;\n   &lt;name&gt;mapreduce.reduce.env&lt;/name&gt;\n   &lt;value&gt;HADOOP_MAPRED_HOME=$HADOOP_HOME&lt;/value&gt;\n</code></pre>\n\n"}],"owner":{"account_id":25756042,"reputation":11,"user_id":19507692,"display_name":"Zahid_Ashraf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657261449,"creation_date":1657256716,"question_id":72906865,"body_markdown":"I have installed Hadoop 3.2.3 stable version. I set all environment variables like JAVA_HOME, HADOOP_HOME, PATH etc.. I configured yarn-site.xml, hdfs-site.xml, core-site.xml, mapred-site.xml.\r\n\r\nI uploaded sample files in HDFS. When I am executing the wordcount program in hadoop-mapreduce-examples-3.2.3.jar using below command\t\r\n\r\n**bin\\yarn jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.3.jar wordcount /input /output**\r\n\r\nHowever, I got the error like below:[enter image description here][1]\r\n\r\nApplication application_1657253647702_0002 failed 2 times due to AM Container for appattempt_1657253647702_0002_000002 exited with exitCode: 1\r\nFailing this attempt.Diagnostics: [2022-07-08 12:30:30.730]Exception from container-launch.\r\nContainer id: container_1657253647702_0002_02_000001\r\nExit code: 1\r\nException message: CreateSymbolicLink error (1314): A required privilege is not held by the client.\r\nShell output: 1 file(s) moved.\r\n&quot;Setting up env variables&quot;\r\n&quot;Setting up job resources&quot;\r\n[2022-07-08 12:30:30.731]Container exited with a non-zero exit code 1.\r\n[2022-07-08 12:30:30.731]Container exited with a non-zero exit code 1.\r\nFor more detailed output, check the application tracking page: http://DESKTOP-P234DBF:8088/cluster/app/application_1657253647702_0002 Then click on links to logs of each attempt.\r\n. Failing the application.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vyq7w.png","title":"Hadoop mapreduce program fail","body":"<p>I have installed Hadoop 3.2.3 stable version. I set all environment variables like JAVA_HOME, HADOOP_HOME, PATH etc.. I configured yarn-site.xml, hdfs-site.xml, core-site.xml, mapred-site.xml.</p>\n<p>I uploaded sample files in HDFS. When I am executing the wordcount program in hadoop-mapreduce-examples-3.2.3.jar using below command</p>\n<p><strong>bin\\yarn jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.3.jar wordcount /input /output</strong></p>\n<p>However, I got the error like below:<a href=\"https://i.stack.imgur.com/vyq7w.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Application application_1657253647702_0002 failed 2 times due to AM Container for appattempt_1657253647702_0002_000002 exited with exitCode: 1\nFailing this attempt.Diagnostics: [2022-07-08 12:30:30.730]Exception from container-launch.\nContainer id: container_1657253647702_0002_02_000001\nExit code: 1\nException message: CreateSymbolicLink error (1314): A required privilege is not held by the client.\nShell output: 1 file(s) moved.\n&quot;Setting up env variables&quot;\n&quot;Setting up job resources&quot;\n[2022-07-08 12:30:30.731]Container exited with a non-zero exit code 1.\n[2022-07-08 12:30:30.731]Container exited with a non-zero exit code 1.\nFor more detailed output, check the application tracking page: http://DESKTOP-P234DBF:8088/cluster/app/application_1657253647702_0002 Then click on links to logs of each attempt.\n. Failing the application.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":3,"creation_date":1655712906,"post_id":72684045,"comment_id":128388048,"body_markdown":"Parse each line to a POJO, then search for the instance with the lowest load and voila, you have all the information","body":"Parse each line to a POJO, then search for the instance with the lowest load and voila, you have all the information"},{"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"score":4,"creation_date":1655713094,"post_id":72684045,"comment_id":128388112,"body_markdown":"Could you show the code you&#39;ve written so far?","body":"Could you show the code you&#39;ve written so far?"},{"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"score":0,"creation_date":1655713901,"post_id":72684045,"comment_id":128388415,"body_markdown":"It is always better to show the code that you have written and ask help in that","body":"It is always better to show the code that you have written and ask help in that"}],"answers":[{"tags":[],"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655713597,"creation_date":1655713597,"answer_id":72684192,"question_id":72684045,"body_markdown":"You can iterate through the entire list and keep a variable which keeps track of the minimum that have been encountered and a variable name that keeps track of the person who has the minimum value . \r\n\r\nTo extract the minimum from the list, you can use *split* function of String class and then get the integer value using *Integer.parseInt*\r\n\r\n    class Main {\r\n        public static void main(String args[]) {\r\n    \r\n            List&lt;String&gt; r = new ArrayList&lt;&gt;();\r\n            r.add(&quot;Wesley Smith, London, 4&quot;);\r\n            r.add(&quot;Mark Hammond, London, 2&quot;);\r\n            r.add(&quot;Abul Ali, London,12&quot;);\r\n            String driver = findLowestLoad(r);\r\n            System.out.println(driver);\r\n        }\r\n    \r\n        private static String findLowestLoad(List&lt;String&gt; r) {\r\n            int min = Integer.MAX_VALUE;\r\n            String name = &quot;&quot;;\r\n            for (int i = 0; i &lt; r.size(); i++) {\r\n                int delValue = Integer.parseInt(r.get(i).split(&quot;,&quot;)[2].trim());\r\n                if (delValue &lt; min) {\r\n                    min = delValue;\r\n                    name = r.get(i).split(&quot;,&quot;)[0];\r\n                }\r\n            }\r\n            return name;\r\n        }\r\n    \r\n    }\r\n\r\nand the output is \r\n\r\n    Mark Hammond\r\n\r\n","title":"How can I identify the lowest number in a group of strings?","body":"<p>You can iterate through the entire list and keep a variable which keeps track of the minimum that have been encountered and a variable name that keeps track of the person who has the minimum value .</p>\n<p>To extract the minimum from the list, you can use <em>split</em> function of String class and then get the integer value using <em>Integer.parseInt</em></p>\n<pre><code>class Main {\n    public static void main(String args[]) {\n\n        List&lt;String&gt; r = new ArrayList&lt;&gt;();\n        r.add(&quot;Wesley Smith, London, 4&quot;);\n        r.add(&quot;Mark Hammond, London, 2&quot;);\n        r.add(&quot;Abul Ali, London,12&quot;);\n        String driver = findLowestLoad(r);\n        System.out.println(driver);\n    }\n\n    private static String findLowestLoad(List&lt;String&gt; r) {\n        int min = Integer.MAX_VALUE;\n        String name = &quot;&quot;;\n        for (int i = 0; i &lt; r.size(); i++) {\n            int delValue = Integer.parseInt(r.get(i).split(&quot;,&quot;)[2].trim());\n            if (delValue &lt; min) {\n                min = delValue;\n                name = r.get(i).split(&quot;,&quot;)[0];\n            }\n        }\n        return name;\n    }\n\n}\n</code></pre>\n<p>and the output is</p>\n<pre><code>Mark Hammond\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1657260555,"creation_date":1655718696,"answer_id":72685178,"question_id":72684045,"body_markdown":"One idea**&#185;** is to create a simple class (or record class) to hold the information:\r\n\r\n````java\r\nrecord DeliveryDriver(\r\n    String name,\r\n    String location,\r\n    int load\r\n) {\r\n    // empty\r\n}\r\n```` \r\n\r\nthen some code to convert one input line to an instance of that class:\r\n````java\r\nDeliveryDriver createDriver(String line) {\r\n    String[] fields = line.split(&quot;\\\\h*,\\\\h*&quot;, -1);\r\n    String name = fields[0];\r\n    String location = fields[1];\r\n    int load = Integer.parseInt(fields[2]);\r\n    return new DeliveryDriver(name, location, load);\r\n}\r\n````\r\n\r\nnow you can read each line, create a driver and add it to a list (not posted here).  \r\nOnce you have the `List&lt;DeliveryDriver&gt;`, you can loop over it and find the desired one:\r\n````java\r\nDeliveryDriver findDriver(List&lt;DeliveryDriver&gt; drivers) {\r\n    DeliveryDriver best = null;\r\n    for (DeliveryDriver driver : drivers) {\r\n        if (best == null || driver.load() &lt; best.load()) {\r\n            best = driver;\r\n        }\r\n    }\r\n    return best;\r\n}\r\n````\r\n\r\nThe previous method can be written using the Java 8 Stream API in one expression:  \r\n```java\r\ndrivers\r\n.stream()\r\n.sorted(Comparator.comparingInt(DeliveryDriver::load))\r\n.findFirst()\r\n.orElse(null);`\r\n````\r\n\r\nOnce you got the driver  \r\n`DeliveryDriver driver = findDriver(drivers);`  \r\nyou have all its information:  \r\n`String name = driver.name();`  or  \r\n`int load = driver.load();`\r\n\r\n------\r\n\r\n&lt;sub&gt;**1** - code posted here is to show the basic idea, it is missing *assertions*, parameter tests, ... it is **not** meant to be complete, not compilation error free!&lt;/sub&gt;","title":"How can I identify the lowest number in a group of strings?","body":"<p>One idea<strong>¹</strong> is to create a simple class (or record class) to hold the information:</p>\n<pre class=\"lang-java prettyprint-override\"><code>record DeliveryDriver(\n    String name,\n    String location,\n    int load\n) {\n    // empty\n}\n</code></pre>\n<p>then some code to convert one input line to an instance of that class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DeliveryDriver createDriver(String line) {\n    String[] fields = line.split(&quot;\\\\h*,\\\\h*&quot;, -1);\n    String name = fields[0];\n    String location = fields[1];\n    int load = Integer.parseInt(fields[2]);\n    return new DeliveryDriver(name, location, load);\n}\n</code></pre>\n<p>now you can read each line, create a driver and add it to a list (not posted here).<br />\nOnce you have the <code>List&lt;DeliveryDriver&gt;</code>, you can loop over it and find the desired one:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DeliveryDriver findDriver(List&lt;DeliveryDriver&gt; drivers) {\n    DeliveryDriver best = null;\n    for (DeliveryDriver driver : drivers) {\n        if (best == null || driver.load() &lt; best.load()) {\n            best = driver;\n        }\n    }\n    return best;\n}\n</code></pre>\n<p>The previous method can be written using the Java 8 Stream API in one expression:</p>\n<pre class=\"lang-java prettyprint-override\"><code>drivers\n.stream()\n.sorted(Comparator.comparingInt(DeliveryDriver::load))\n.findFirst()\n.orElse(null);`\n</code></pre>\n<p>Once you got the driver<br />\n<code>DeliveryDriver driver = findDriver(drivers);</code><br />\nyou have all its information:<br />\n<code>String name = driver.name();</code>  or<br />\n<code>int load = driver.load();</code></p>\n<hr />\n<p><sub><strong>1</strong> - code posted here is to show the basic idea, it is missing <em>assertions</em>, parameter tests, ... it is <strong>not</strong> meant to be complete, not compilation error free!</sub></p>\n"}],"owner":{"account_id":24743156,"reputation":43,"user_id":18629654,"display_name":"CoderInNeed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":72684192,"answer_count":2,"score":-3,"last_activity_date":1657260555,"creation_date":1655712748,"question_id":72684045,"body_markdown":"I am trying to write a program that can identify which delivery driver has the lowest current delivery load.\r\n\r\nThe drivers name, location and current delivery load are in this format:\r\n\r\n```\r\nWesley Smith, London, 4\r\n\r\nMark Hammond, London, 2\r\n\r\nAbul Ali, London, 12\r\n\r\nNed Cayhill, London, 6\r\n```\r\n\r\nI am trying to write a program that can identify that Mark Hammond (in this instance) has the lowest load and then that entire string will be assigned to a new variable.\r\n\r\nI have tried taking the last character (the current delivery load) from all the strings and comparing them all but then I lose a way of reconnecting that number back to its original driver. \r\n\r\nHere is the code I have written so far (edited)\r\n```\r\nArrayList&lt;String&gt; matchedDrivers = new ArrayList&lt;String&gt;();\r\nArrayList&lt;Integer&gt; deliveries = new ArrayList&lt;String&gt;();\r\n\r\nmatchedDrivers.add(&quot;Wesley Smith, London, 4&quot;);\r\nmatchedDrivers.add(&quot;Mark Hammond, London, 2&quot;);\r\nmatchedDrivers.add(&quot;Abul Ali, London, 12&quot;);\r\nmatchedDrivers.add(&quot;Ned Cayhill, London, 6&quot;);\r\n\r\nfor(int i = 0;i&lt;matchedDrivers.size();i++) \r\n{\r\n  String mDriver = matchedDrivers.get(i);\r\n  \r\n  String load = mDriver.substring(mDriver.lastIndexOf(&quot;,&quot;) + 1);\r\n  int intLoad = Integer.parseInt(load)\r\n  deliveries.add(intLoad);\r\n}\r\n\r\nInteger max = Collections.max(deliveries);\r\n\r\nSystem.out.println(max);\r\n\r\n```\r\n\r\nThanks in advance!","title":"How can I identify the lowest number in a group of strings?","body":"<p>I am trying to write a program that can identify which delivery driver has the lowest current delivery load.</p>\n<p>The drivers name, location and current delivery load are in this format:</p>\n<pre><code>Wesley Smith, London, 4\n\nMark Hammond, London, 2\n\nAbul Ali, London, 12\n\nNed Cayhill, London, 6\n</code></pre>\n<p>I am trying to write a program that can identify that Mark Hammond (in this instance) has the lowest load and then that entire string will be assigned to a new variable.</p>\n<p>I have tried taking the last character (the current delivery load) from all the strings and comparing them all but then I lose a way of reconnecting that number back to its original driver.</p>\n<p>Here is the code I have written so far (edited)</p>\n<pre><code>ArrayList&lt;String&gt; matchedDrivers = new ArrayList&lt;String&gt;();\nArrayList&lt;Integer&gt; deliveries = new ArrayList&lt;String&gt;();\n\nmatchedDrivers.add(&quot;Wesley Smith, London, 4&quot;);\nmatchedDrivers.add(&quot;Mark Hammond, London, 2&quot;);\nmatchedDrivers.add(&quot;Abul Ali, London, 12&quot;);\nmatchedDrivers.add(&quot;Ned Cayhill, London, 6&quot;);\n\nfor(int i = 0;i&lt;matchedDrivers.size();i++) \n{\n  String mDriver = matchedDrivers.get(i);\n  \n  String load = mDriver.substring(mDriver.lastIndexOf(&quot;,&quot;) + 1);\n  int intLoad = Integer.parseInt(load)\n  deliveries.add(intLoad);\n}\n\nInteger max = Collections.max(deliveries);\n\nSystem.out.println(max);\n\n</code></pre>\n<p>Thanks in advance!</p>\n"},{"tags":["java","android","android-studio","imageview","android-alertdialog"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1657231069,"post_id":72904510,"comment_id":128768614,"body_markdown":"Use `Picasso.get().load(selectedImage).fit().centerCrop().into(myImageView);` and get rid of all the `MediaStore` stuff. You might also consider using a `DialogFragment` rather than `AlertDialog.Builder`.","body":"Use <code>Picasso.get().load(selectedImage).fit().centerCrop().into(my&zwnj;&#8203;ImageView);</code> and get rid of all the <code>MediaStore</code> stuff. You might also consider using a <code>DialogFragment</code> rather than <code>AlertDialog.Builder</code>."},{"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"score":0,"creation_date":1657369740,"post_id":72904510,"comment_id":128796995,"body_markdown":"@shiho remove one `/` from the file and try again. Like this `file://`","body":"@shiho remove one <code>&#47;</code> from the file and try again. Like this <code>file:&#47;&#47;</code>"}],"answers":[{"tags":[],"owner":{"account_id":11640488,"reputation":51,"user_id":8525101,"display_name":"MuseYkh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657259964,"creation_date":1657259964,"answer_id":72907215,"question_id":72904510,"body_markdown":"Why not use the Uri directly to display the picture?\r\nJust like:\r\n\r\n    Uri selectedImage = result.getData().getData();\r\n    Picasso.get().load(selectedImage).fit().centerCrop().into(myImageView);\r\n\r\nAt the same time, it is worth noting that \r\n\r\n&gt; resolver.query()\r\n\r\n is a I/O operation. It is not recommended to operate directly on the main thread\r\n","title":"Upload image from gallery and display in AlertDialog","body":"<p>Why not use the Uri directly to display the picture?\nJust like:</p>\n<pre><code>Uri selectedImage = result.getData().getData();\nPicasso.get().load(selectedImage).fit().centerCrop().into(myImageView);\n</code></pre>\n<p>At the same time, it is worth noting that</p>\n<blockquote>\n<p>resolver.query()</p>\n</blockquote>\n<p>is a I/O operation. It is not recommended to operate directly on the main thread</p>\n"}],"owner":{"account_id":25090019,"reputation":31,"user_id":18941766,"display_name":"shiho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657259964,"creation_date":1657229941,"question_id":72904510,"body_markdown":"I&#39;m trying to display an image uploaded from the gallery in an AlertDialog but it&#39;s not working for me right now.\r\n\r\nMy code: \r\n\r\n    private void dispatchTakePictureIntent() {\r\n            Intent imageGetter = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n            activityLauncher.launch(imageGetter);\r\n        }\r\n\r\n    ActivityResultLauncher&lt;Intent&gt; activityLauncher = registerForActivityResult( new ActivityResultContracts.StartActivityForResult(), result -&gt; {\r\n            Uri selectedImage = result.getData().getData();\r\n            String[] filePathColumn = {MediaStore.Images.Media.DATA};//Array size of 1, and we put in a string\r\n            Cursor cursor = getContext().getContentResolver().query(selectedImage, filePathColumn, null, null, null);\r\n            cursor.moveToFirst();\r\n            int columnIndex = cursor.getColumnIndex(filePathColumn[0]);\r\n            String user_image_path = cursor.getString(columnIndex);\r\n            myImageView = new ImageView(getContext());\r\n            Picasso.get().load(user_image_path).fit().centerCrop().into(myImageView);\r\n            AlertDialog.Builder builder =\r\n                    new AlertDialog.Builder(getContext()).\r\n                            setMessage(&quot;Message above the image&quot;).\r\n                            setPositiveButton(&quot;OK&quot;, (dialog, which) -&gt; dialog.dismiss()).\r\n                            setView(myImageView);\r\n            builder.create().show();\r\n            cursor.close();\r\n        });\r\n\r\nThe gallery opens up and I can choose a picture but after I choose a picture it goes back and a blank dialog with no image (the message is there) shows up.\r\n\r\nI tried adding &quot;file:/// &quot; to the Picasso but that doesn&#39;t work.\r\n\r\nThanks.","title":"Upload image from gallery and display in AlertDialog","body":"<p>I'm trying to display an image uploaded from the gallery in an AlertDialog but it's not working for me right now.</p>\n<p>My code:</p>\n<pre><code>private void dispatchTakePictureIntent() {\n        Intent imageGetter = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n        activityLauncher.launch(imageGetter);\n    }\n\nActivityResultLauncher&lt;Intent&gt; activityLauncher = registerForActivityResult( new ActivityResultContracts.StartActivityForResult(), result -&gt; {\n        Uri selectedImage = result.getData().getData();\n        String[] filePathColumn = {MediaStore.Images.Media.DATA};//Array size of 1, and we put in a string\n        Cursor cursor = getContext().getContentResolver().query(selectedImage, filePathColumn, null, null, null);\n        cursor.moveToFirst();\n        int columnIndex = cursor.getColumnIndex(filePathColumn[0]);\n        String user_image_path = cursor.getString(columnIndex);\n        myImageView = new ImageView(getContext());\n        Picasso.get().load(user_image_path).fit().centerCrop().into(myImageView);\n        AlertDialog.Builder builder =\n                new AlertDialog.Builder(getContext()).\n                        setMessage(&quot;Message above the image&quot;).\n                        setPositiveButton(&quot;OK&quot;, (dialog, which) -&gt; dialog.dismiss()).\n                        setView(myImageView);\n        builder.create().show();\n        cursor.close();\n    });\n</code></pre>\n<p>The gallery opens up and I can choose a picture but after I choose a picture it goes back and a blank dialog with no image (the message is there) shows up.</p>\n<p>I tried adding &quot;file:/// &quot; to the Picasso but that doesn't work.</p>\n<p>Thanks.</p>\n"},{"tags":["java","ftp","apache-commons-net"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656481285,"creation_date":1656481285,"answer_id":72796294,"question_id":72793174,"body_markdown":"There&#39;s no standard way to request recursive directory listing from remote server in &quot;one call&quot;.\r\n\r\nSo even if the Apache Common Net (or any other library) had a single call API to request recursive directory listing, it would internally have to do the same recursive algorithm, as for example here:  \r\nhttps://stackoverflow.com/q/55096136/850848\r\n\r\n---\r\n\r\nSome FTP servers support a non-standard request for recursive listing.\r\n\r\nFor example [ProFTPD has `-R` switch](http://www.proftpd.org/docs/howto/ListOptions.html) to `LIST` command (and similar) to list the directories recursively.\r\n\r\nIn Apache Commons Net you can inject that switch by simply prepending it to the path:\r\n```\r\nftpClient.listFiles(&quot;-R &quot; + remotePath);\r\n```\r\n\r\nBut you can use that only if you know for sure that you are connected to ProFTPD.\r\n\r\n---\r\n\r\nI do not know of any other FTP server with similar functionality. With other FTP servers you can optimize the listing by using multiple parallel connections.\r\n\r\nIf you have a choice of protocols, consider using WebDAV, as that&#39;s the only file transfer protocol I know of that supports recursive directory listing.\r\n\r\n----\r\n\r\nSimilar question:  \r\nhttps://stackoverflow.com/q/42050334/850848","title":"Get a whole FTP directory listings recursively in one call possible to reduce time","body":"<p>There's no standard way to request recursive directory listing from remote server in &quot;one call&quot;.</p>\n<p>So even if the Apache Common Net (or any other library) had a single call API to request recursive directory listing, it would internally have to do the same recursive algorithm, as for example here:<br />\n<a href=\"https://stackoverflow.com/q/55096136/850848\">Retrieve all sub folders contents using Java Apache Commons Net library</a></p>\n<hr />\n<p>Some FTP servers support a non-standard request for recursive listing.</p>\n<p>For example <a href=\"http://www.proftpd.org/docs/howto/ListOptions.html\" rel=\"nofollow noreferrer\">ProFTPD has <code>-R</code> switch</a> to <code>LIST</code> command (and similar) to list the directories recursively.</p>\n<p>In Apache Commons Net you can inject that switch by simply prepending it to the path:</p>\n<pre><code>ftpClient.listFiles(&quot;-R &quot; + remotePath);\n</code></pre>\n<p>But you can use that only if you know for sure that you are connected to ProFTPD.</p>\n<hr />\n<p>I do not know of any other FTP server with similar functionality. With other FTP servers you can optimize the listing by using multiple parallel connections.</p>\n<p>If you have a choice of protocols, consider using WebDAV, as that's the only file transfer protocol I know of that supports recursive directory listing.</p>\n<hr />\n<p>Similar question:<br />\n<a href=\"https://stackoverflow.com/q/42050334/850848\">How to list the sub directories in a Windows FTP server?</a></p>\n"}],"owner":{"account_id":25335025,"reputation":83,"user_id":19154308,"display_name":"dsknjksad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657259876,"creation_date":1656450600,"question_id":72793174,"body_markdown":"Get a whole FTP directory listings recursively in one call if possible to reduce time using possibly Apache Commons API. Right now I have to call it multiple times to get all the directory listings is there any solutions for that.","title":"Get a whole FTP directory listings recursively in one call possible to reduce time","body":"<p>Get a whole FTP directory listings recursively in one call if possible to reduce time using possibly Apache Commons API. Right now I have to call it multiple times to get all the directory listings is there any solutions for that.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":5950073,"reputation":191,"user_id":4678398,"display_name":"JCampy"},"score":0,"creation_date":1657219356,"post_id":72902541,"comment_id":128765253,"body_markdown":"How much time after load test are you getting your final stats?  Garbage collection only runs periodically, so you may need to wait a bit for it to happen.  Alternatively, you could have a circular dependency on allocated objects that prevents them from being garbage collected.","body":"How much time after load test are you getting your final stats?  Garbage collection only runs periodically, so you may need to wait a bit for it to happen.  Alternatively, you could have a circular dependency on allocated objects that prevents them from being garbage collected."},{"owner":{"account_id":25752980,"reputation":1,"user_id":19505213,"display_name":"A Jesh"},"score":0,"creation_date":1657220095,"post_id":72902541,"comment_id":128765475,"body_markdown":"waited for an hour to see memory footprint of the application","body":"waited for an hour to see memory footprint of the application"},{"owner":{"account_id":5950073,"reputation":191,"user_id":4678398,"display_name":"JCampy"},"score":0,"creation_date":1657223154,"post_id":72902541,"comment_id":128766450,"body_markdown":"Seems like something is holding the memory in your code.  I thought it might be the circular reference issue, but I am seeing reference to those being GC&#39;d as well in Java 8 (sorry, wasn&#39;t sure when that happened).  So it seems like something in your code is holding on to objects somehow.  A tool like VisualVM can help identify what&#39;s being held in memory, and then you can review the use of those objects in your code and make sure they are released for GC.","body":"Seems like something is holding the memory in your code.  I thought it might be the circular reference issue, but I am seeing reference to those being GC&#39;d as well in Java 8 (sorry, wasn&#39;t sure when that happened).  So it seems like something in your code is holding on to objects somehow.  A tool like VisualVM can help identify what&#39;s being held in memory, and then you can review the use of those objects in your code and make sure they are released for GC."},{"owner":{"account_id":25752980,"reputation":1,"user_id":19505213,"display_name":"A Jesh"},"score":0,"creation_date":1657223182,"post_id":72902541,"comment_id":128766460,"body_markdown":"Garbage collection is happening when the same application deployed in Windows environment","body":"Garbage collection is happening when the same application deployed in Windows environment"},{"owner":{"account_id":25752980,"reputation":1,"user_id":19505213,"display_name":"A Jesh"},"score":0,"creation_date":1657223245,"post_id":72902541,"comment_id":128766475,"body_markdown":"below Problem Suspect reported from MAT tool --&gt;  _One instance of “org.apache.tomcat.util.net.NioEndpoint” loaded by “org.springframework.boot.loader.LaunchedURLClassLoader @ 0xc0106240” occupies 8,446,416 (16.41%) bytes. The memory is accumulated in one instance of “java.lang.Object[]”, loaded by “&lt;system class loader&gt;”, which occupies 8,439,448 (16.39%) bytes._","body":"below Problem Suspect reported from MAT tool --&gt;  <i>One instance of “org.apache.tomcat.util.net.NioEndpoint” loaded by “org.springframework.boot.loader.LaunchedURLClassLoader @ 0xc0106240” occupies 8,446,416 (16.41%) bytes. The memory is accumulated in one instance of “java.lang.Object[]”, loaded by “&lt;system class loader&gt;”, which occupies 8,439,448 (16.39%) bytes.</i>"},{"owner":{"account_id":5950073,"reputation":191,"user_id":4678398,"display_name":"JCampy"},"score":0,"creation_date":1657224065,"post_id":72902541,"comment_id":128766721,"body_markdown":"OK, I am seeing some reference via searches to JVMs inside Docker getting different settings than you may get natively (like different GC algorithms).  To be honest, I&#39;ve only run C++ apps inside Docker to date, so this was unexpected.  At this point, I&#39;ll have to defer to someone with more experience with that combination of technologies.  Sorry I couldn&#39;t be more help.","body":"OK, I am seeing some reference via searches to JVMs inside Docker getting different settings than you may get natively (like different GC algorithms).  To be honest, I&#39;ve only run C++ apps inside Docker to date, so this was unexpected.  At this point, I&#39;ll have to defer to someone with more experience with that combination of technologies.  Sorry I couldn&#39;t be more help."},{"owner":{"account_id":25752980,"reputation":1,"user_id":19505213,"display_name":"A Jesh"},"score":0,"creation_date":1657224311,"post_id":72902541,"comment_id":128766799,"body_markdown":"Thanks @JCampy for your immediate response to my post. came to know about circular dependency cause for GC failure. Thanks once again.","body":"Thanks @JCampy for your immediate response to my post. came to know about circular dependency cause for GC failure. Thanks once again."}],"owner":{"account_id":25752980,"reputation":1,"user_id":19505213,"display_name":"A Jesh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657259468,"creation_date":1657217920,"question_id":72902541,"body_markdown":"Deployed the spring boot (v2.1.3) application in docker (20.10) as container and running load test to verify our application. Java version is 8\r\n\r\nPlease find the stats before load test, at time of load test and after load test.\r\n\r\n**::: Before Load test**\r\n\r\nID     NAME                CPU %     MEM USAGE / LIMIT     MEM %     NET I/O           BLOCK I/O        \r\nc-id   CONTAINER_NAME    3.22%     583MiB / 31.36GiB     1.82%     24.6kB / 13.7kB   0B / 0B   \r\n\r\n**:::at time of load test**\r\n\r\nID     NAME                CPU %     MEM USAGE / LIMIT     MEM %     NET I/O           BLOCK I/O          \r\nc-id   CONTAINER_NAME    0.14%     1.223GiB / 31.36GiB   3.90%     47.9MB / 675MB    0B / 65.5kB  \r\n\r\n\r\n**:::after load test:::**\r\n\r\nID     NAME                CPU %     MEM USAGE / LIMIT     MEM %     NET I/O           BLOCK I/O       \r\nc-id   CONTAINER_NAME    0.09%     1.3GiB / 31.36GiB     4.15%     115MB / 675MB     0B / 8.77MB      \r\n\r\nMemory for the container is keep on increasing. its not all coming to normal even after completing the load test. ie. Garbage collection is not happening in docker container. (whereas garbage collection is happening when the same application deployed in Windows environment)\r\n\r\nAre there any configuration to reduce the memory after load test.\r\n\r\nCan anyone of you help me on that. ","title":"Unable to reduce Memory footprint of Java Spring boot application in docker container after load test","body":"<p>Deployed the spring boot (v2.1.3) application in docker (20.10) as container and running load test to verify our application. Java version is 8</p>\n<p>Please find the stats before load test, at time of load test and after load test.</p>\n<p><strong>::: Before Load test</strong></p>\n<p>ID     NAME                CPU %     MEM USAGE / LIMIT     MEM %     NET I/O           BLOCK I/O<br />\nc-id   CONTAINER_NAME    3.22%     583MiB / 31.36GiB     1.82%     24.6kB / 13.7kB   0B / 0B</p>\n<p><strong>:::at time of load test</strong></p>\n<p>ID     NAME                CPU %     MEM USAGE / LIMIT     MEM %     NET I/O           BLOCK I/O<br />\nc-id   CONTAINER_NAME    0.14%     1.223GiB / 31.36GiB   3.90%     47.9MB / 675MB    0B / 65.5kB</p>\n<p><strong>:::after load test:::</strong></p>\n<p>ID     NAME                CPU %     MEM USAGE / LIMIT     MEM %     NET I/O           BLOCK I/O<br />\nc-id   CONTAINER_NAME    0.09%     1.3GiB / 31.36GiB     4.15%     115MB / 675MB     0B / 8.77MB</p>\n<p>Memory for the container is keep on increasing. its not all coming to normal even after completing the load test. ie. Garbage collection is not happening in docker container. (whereas garbage collection is happening when the same application deployed in Windows environment)</p>\n<p>Are there any configuration to reduce the memory after load test.</p>\n<p>Can anyone of you help me on that.</p>\n"},{"tags":["java","jackson"],"answers":[{"tags":[],"owner":{"account_id":25235500,"reputation":181,"user_id":19115786,"display_name":"Roman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657259054,"creation_date":1657259054,"answer_id":72907111,"question_id":72906574,"body_markdown":"Jackson doesnt even try to deserialize &quot;null&quot; values, so the only way is to sanitize input before mapping","title":"Jackson ObjectMapper - fail on &quot;null&quot; as JSON string","body":"<p>Jackson doesnt even try to deserialize &quot;null&quot; values, so the only way is to sanitize input before mapping</p>\n"}],"owner":{"account_id":15093150,"reputation":127,"user_id":10892400,"display_name":"herdsothom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72907111,"answer_count":1,"score":0,"last_activity_date":1657259054,"creation_date":1657253728,"question_id":72906574,"body_markdown":"Is it possible to make ObjectMapper fail when `&quot;null&quot;` is the entire string that is passed in? \r\n\r\n\r\nThe below code returns null, rather than throwing an exception:\r\n\r\n```objectMapper.readValue(&quot;null&quot;, MyModel.class);```\r\n\r\nI have tried the following configurations, with no luck:\r\n```\r\n.configure(DeserializationFeature.FAIL_ON_NULL_CREATOR_PROPERTIES, true)\r\n.configure(DeserializationFeature.FAIL_ON_NULL_FOR_PRIMITIVES, true)\r\n.configure(DeserializationFeature.FAIL_ON_MISSING_CREATOR_PROPERTIES, true);\r\n```","title":"Jackson ObjectMapper - fail on &quot;null&quot; as JSON string","body":"<p>Is it possible to make ObjectMapper fail when <code>&quot;null&quot;</code> is the entire string that is passed in?</p>\n<p>The below code returns null, rather than throwing an exception:</p>\n<p><code>objectMapper.readValue(&quot;null&quot;, MyModel.class);</code></p>\n<p>I have tried the following configurations, with no luck:</p>\n<pre><code>.configure(DeserializationFeature.FAIL_ON_NULL_CREATOR_PROPERTIES, true)\n.configure(DeserializationFeature.FAIL_ON_NULL_FOR_PRIMITIVES, true)\n.configure(DeserializationFeature.FAIL_ON_MISSING_CREATOR_PROPERTIES, true);\n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":25751864,"reputation":1,"user_id":19504284,"display_name":"Sandeep Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1657261277,"answer_count":0,"score":-2,"last_activity_date":1657258366,"creation_date":1657258366,"question_id":72907036,"body_markdown":"    [The program is to enter 10 nos then find the positive even sum and odd negative sum][1]\r\n\r\n\r\n  [1]: java program \r\nhttps://i.stack.imgur.com/xKqyT.jpg","title":"The sum variable is not executing as expected by the for loop","body":"<pre><code>[The program is to enter 10 nos then find the positive even sum and odd negative sum][1]\n</code></pre>\n<p>[1]: java program\n<a href=\"https://i.stack.imgur.com/xKqyT.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/xKqyT.jpg</a></p>\n"},{"tags":["java","set"],"comments":[{"owner":{"account_id":7881594,"reputation":737,"user_id":5955362,"display_name":"Jaydeep Devda"},"score":2,"creation_date":1657254501,"post_id":72906645,"comment_id":128772012,"body_markdown":"Have ever thinking to use map ?","body":"Have ever thinking to use map ?"},{"owner":{"account_id":12232652,"reputation":4004,"user_id":8930395,"display_name":"LOrD_ARaGOrN"},"score":0,"creation_date":1657254987,"post_id":72906645,"comment_id":128772083,"body_markdown":"i am getting SET only.","body":"i am getting SET only."},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":2,"creation_date":1657255994,"post_id":72906645,"comment_id":128772254,"body_markdown":"I can&#39;t see any effort from your side! Since your data has no particular pattern, I recommend you to use the `startsWith()` and `endsWith()` methods in the `String` class. Get each of the elements and check the occurrence by the above methods.","body":"I can&#39;t see any effort from your side! Since your data has no particular pattern, I recommend you to use the <code>startsWith()</code> and <code>endsWith()</code> methods in the <code>String</code> class. Get each of the elements and check the occurrence by the above methods."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657257354,"creation_date":1657255597,"answer_id":72906750,"question_id":72906645,"body_markdown":"Establish your inputs.\r\n\r\n    Set &lt; String &gt; inputs = Set.of( &quot;a-b-c&quot; , &quot;abc-type=unknown&quot; , &quot;xyz-type=a.b.c.d&quot; , &quot;log-value&quot; );\r\n\r\n# Loops\r\n\r\nCall a method we invent for extracting the desired value. Our method returns an `Optional` because we may find nothing to report.\r\n\r\n    Optional &lt; String &gt; result = this.extract( &quot;xyz-type&quot; , inputs );\r\n\r\nReport result.\r\n\r\n    System.out.println( &quot;result = &quot; + result );\r\n\r\nWrite that method.\r\n\r\nWe loop each input in our set. Keep in mind that a `Set` iterates in an unspecified order.\r\n\r\nFor each input string, try splitting on an EQUALS SIGN character. If this results in two parts, then proceed to see if the first part is our target string. If so, return the second part. If all else fails, return an empty `Optional&lt;String&gt;`. \r\n\r\n    private Optional &lt; String &gt; extract ( final String target , final Set &lt; String &gt; inputs )\r\n    {\r\n        for ( String input : inputs )\r\n        {\r\n            String[] parts = input.split( &quot;=&quot; );\r\n            if ( parts.length == 2 )\r\n            {\r\n                if ( Objects.equals( parts[ 0 ] , target ) )\r\n                {\r\n                    return Optional.of( parts[ 1 ] );\r\n                }\r\n            }\r\n        }\r\n        return Optional.empty();\r\n    }\r\n\r\nWhen run.\r\n\r\n```none\r\nresult = Optional[a.b.c.d]\r\n```\r\n\r\n# Streams\r\n\r\nThis might possibly be done more briefly using streams. But as a student of Java, first master loops before trying streams.\r\n\r\nCall our streams-based extract method.\r\n\r\n    Optional &lt; String &gt; result = this.extractViaStreams( &quot;xyz-type=&quot; , inputs );\r\n\r\nWrite that method.\r\n\r\n    private Optional &lt; String &gt; extractViaStreams ( final String target , final Set &lt; String &gt; inputs )\r\n    {\r\n        return\r\n                inputs\r\n                        .stream()\r\n                        .filter( input -&gt; input.startsWith( target ) )\r\n                        .map( input -&gt; input.split( target )[ 1 ] )\r\n                        .findAny();\r\n    }\r\n\r\nThanks owed to Arun Sudhakaran whose [Comment](https://stackoverflow.com/questions/72906645/how-can-i-check-a-pattern-in-a-set-and-extract-its-value-if-it-exists/72906750#comment128772254_72906645) about `String#startsWith` gave me the idea for this stream code.\r\n\r\n\r\n  [1]: https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=&amp;cad=rja&amp;uact=8&amp;ved=2ahUKEwjrjZ2pw-j4AhWbJjQIHamZBrcQFnoECBEQAQ&amp;url=https%3A%2F%2Fdocs.oracle.com%2Fen%2Fjava%2Fjavase%2F17%2Fdocs%2Fapi%2Fjava.base%2Fjava%2Futil%2FMap.html&amp;usg=AOvVaw1wRNqSzUgrxCf4ftXa2Coc\r\n  [2]: https://stackoverflow.com/a/72906841/642706","title":"How can I check a pattern in a SET and extract its value if it exists","body":"<p>Establish your inputs.</p>\n<pre><code>Set &lt; String &gt; inputs = Set.of( &quot;a-b-c&quot; , &quot;abc-type=unknown&quot; , &quot;xyz-type=a.b.c.d&quot; , &quot;log-value&quot; );\n</code></pre>\n<h1>Loops</h1>\n<p>Call a method we invent for extracting the desired value. Our method returns an <code>Optional</code> because we may find nothing to report.</p>\n<pre><code>Optional &lt; String &gt; result = this.extract( &quot;xyz-type&quot; , inputs );\n</code></pre>\n<p>Report result.</p>\n<pre><code>System.out.println( &quot;result = &quot; + result );\n</code></pre>\n<p>Write that method.</p>\n<p>We loop each input in our set. Keep in mind that a <code>Set</code> iterates in an unspecified order.</p>\n<p>For each input string, try splitting on an EQUALS SIGN character. If this results in two parts, then proceed to see if the first part is our target string. If so, return the second part. If all else fails, return an empty <code>Optional&lt;String&gt;</code>.</p>\n<pre><code>private Optional &lt; String &gt; extract ( final String target , final Set &lt; String &gt; inputs )\n{\n    for ( String input : inputs )\n    {\n        String[] parts = input.split( &quot;=&quot; );\n        if ( parts.length == 2 )\n        {\n            if ( Objects.equals( parts[ 0 ] , target ) )\n            {\n                return Optional.of( parts[ 1 ] );\n            }\n        }\n    }\n    return Optional.empty();\n}\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>result = Optional[a.b.c.d]\n</code></pre>\n<h1>Streams</h1>\n<p>This might possibly be done more briefly using streams. But as a student of Java, first master loops before trying streams.</p>\n<p>Call our streams-based extract method.</p>\n<pre><code>Optional &lt; String &gt; result = this.extractViaStreams( &quot;xyz-type=&quot; , inputs );\n</code></pre>\n<p>Write that method.</p>\n<pre><code>private Optional &lt; String &gt; extractViaStreams ( final String target , final Set &lt; String &gt; inputs )\n{\n    return\n            inputs\n                    .stream()\n                    .filter( input -&gt; input.startsWith( target ) )\n                    .map( input -&gt; input.split( target )[ 1 ] )\n                    .findAny();\n}\n</code></pre>\n<p>Thanks owed to Arun Sudhakaran whose <a href=\"https://stackoverflow.com/questions/72906645/how-can-i-check-a-pattern-in-a-set-and-extract-its-value-if-it-exists/72906750#comment128772254_72906645\">Comment</a> about <code>String#startsWith</code> gave me the idea for this stream code.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657258320,"creation_date":1657256520,"answer_id":72906841,"question_id":72906645,"body_markdown":"If you&#39;re going utilize these data multiple times it&#39;s probelly worth to transform this `Set` into a `Map`.\r\n\r\nFor one time use you can iterate over the set using a loop or a stream, try to split each element with a delimiter (`&quot;=&quot;`) and check whether there&#39;s a match with the given key (`&quot;xyz-type&quot;`).\r\n\r\nThat&#39;s how it can be done using Stream API:\r\n\r\n    public String getValue(Set&lt;String&gt; associatedSet, String delimiter, String key) {\r\n        \r\n        return associatedSet.stream()         // Stream&lt;String&gt;\r\n            .map(str -&gt; str.split(delimiter)) // Stream&lt;String[]&gt;\r\n            .filter(arr -&gt; arr.length == 2)\r\n            .filter(arr -&gt; arr[0].equals(key))\r\n            .map(arr -&gt; arr[1])              // Stream&lt;String&gt;\r\n            .findFirst()                     // Optional&lt;String&gt;\r\n            .orElse(&quot;no such key&quot;); // or .orElseThrow() depending on you needs\r\n    }\r\n\r\nA that how you can generate a `Map` using streams, assuming that all &quot;keys&quot; are unique:\r\n\r\n    public Map&lt;String, String&gt; toMap(Set&lt;String&gt; associatedSet, String delimiter) {\r\n        \r\n        return associatedSet.stream()         // Stream&lt;String&gt;\r\n            .map(str -&gt; str.split(delimiter)) // Stream&lt;String[]&gt;\r\n            .collect(Collectors.toMap(\r\n                arr -&gt; arr[0],\r\n                arr -&gt; arr.length == 2 ? arr[1] : &quot;&quot; // if delimiter is not present (length == 1) the key would be associated with an empty string\r\n            ));\r\n    }\r\n\r\nIf there could be multiple occurrences of the same &quot;key&quot; you can use the following approach:\r\n\r\n    public Map&lt;String, List&lt;String&gt;&gt; toMap(Set&lt;String&gt; associatedSet, String delimiter) {\r\n        \r\n        return associatedSet.stream()         // Stream&lt;String&gt;\r\n            .map(str -&gt; str.split(delimiter)) // Stream&lt;String[]&gt;\r\n            .collect(Collectors.groupingBy(\r\n                arr -&gt; arr[0],\r\n                Collectors.mapping(arr -&gt; arr.length == 2 ? arr[1] : &quot;&quot;,\r\n                    Collectors.toList())\r\n            ));\r\n    }","title":"How can I check a pattern in a SET and extract its value if it exists","body":"<p>If you're going utilize these data multiple times it's probelly worth to transform this <code>Set</code> into a <code>Map</code>.</p>\n<p>For one time use you can iterate over the set using a loop or a stream, try to split each element with a delimiter (<code>&quot;=&quot;</code>) and check whether there's a match with the given key (<code>&quot;xyz-type&quot;</code>).</p>\n<p>That's how it can be done using Stream API:</p>\n<pre><code>public String getValue(Set&lt;String&gt; associatedSet, String delimiter, String key) {\n    \n    return associatedSet.stream()         // Stream&lt;String&gt;\n        .map(str -&gt; str.split(delimiter)) // Stream&lt;String[]&gt;\n        .filter(arr -&gt; arr.length == 2)\n        .filter(arr -&gt; arr[0].equals(key))\n        .map(arr -&gt; arr[1])              // Stream&lt;String&gt;\n        .findFirst()                     // Optional&lt;String&gt;\n        .orElse(&quot;no such key&quot;); // or .orElseThrow() depending on you needs\n}\n</code></pre>\n<p>A that how you can generate a <code>Map</code> using streams, assuming that all &quot;keys&quot; are unique:</p>\n<pre><code>public Map&lt;String, String&gt; toMap(Set&lt;String&gt; associatedSet, String delimiter) {\n    \n    return associatedSet.stream()         // Stream&lt;String&gt;\n        .map(str -&gt; str.split(delimiter)) // Stream&lt;String[]&gt;\n        .collect(Collectors.toMap(\n            arr -&gt; arr[0],\n            arr -&gt; arr.length == 2 ? arr[1] : &quot;&quot; // if delimiter is not present (length == 1) the key would be associated with an empty string\n        ));\n}\n</code></pre>\n<p>If there could be multiple occurrences of the same &quot;key&quot; you can use the following approach:</p>\n<pre><code>public Map&lt;String, List&lt;String&gt;&gt; toMap(Set&lt;String&gt; associatedSet, String delimiter) {\n    \n    return associatedSet.stream()         // Stream&lt;String&gt;\n        .map(str -&gt; str.split(delimiter)) // Stream&lt;String[]&gt;\n        .collect(Collectors.groupingBy(\n            arr -&gt; arr[0],\n            Collectors.mapping(arr -&gt; arr.length == 2 ? arr[1] : &quot;&quot;,\n                Collectors.toList())\n        ));\n}\n</code></pre>\n"}],"owner":{"account_id":12232652,"reputation":4004,"user_id":8930395,"display_name":"LOrD_ARaGOrN"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657258320,"creation_date":1657254417,"question_id":72906645,"body_markdown":"I have a set like below.\r\n\r\n    Set&lt;String&gt; name= new HashSet&lt;String&gt;();\r\n            name.add(&quot;a-b-c&quot;);\r\n            name.add(&quot;abc-type=unknown&quot;);\r\n            name.add(&quot;xyz-type=a.b.c.d&quot;);\r\n            name.add(&quot;log-value&quot;);\r\nprint\r\n\r\n    [a-b-c, log-value, abc-type=unknown, xyz-type=a.b.c.d]\r\n\r\nI want to check if xyz-type exist and get its value &quot;a.b.c.d&quot; .","title":"How can I check a pattern in a SET and extract its value if it exists","body":"<p>I have a set like below.</p>\n<pre><code>Set&lt;String&gt; name= new HashSet&lt;String&gt;();\n        name.add(&quot;a-b-c&quot;);\n        name.add(&quot;abc-type=unknown&quot;);\n        name.add(&quot;xyz-type=a.b.c.d&quot;);\n        name.add(&quot;log-value&quot;);\n</code></pre>\n<p>print</p>\n<pre><code>[a-b-c, log-value, abc-type=unknown, xyz-type=a.b.c.d]\n</code></pre>\n<p>I want to check if xyz-type exist and get its value &quot;a.b.c.d&quot; .</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1657122501,"post_id":72886256,"comment_id":128736365,"body_markdown":"You know that `getItemCount()` is for backing data count of the adapter right? Is that array what feeding data for your adapter? If it is so, why don&#39;t you declare it as a global field in your adapter?","body":"You know that <code>getItemCount()</code> is for backing data count of the adapter right? Is that array what feeding data for your adapter? If it is so, why don&#39;t you declare it as a global field in your adapter?"},{"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"score":0,"creation_date":1657123820,"post_id":72886256,"comment_id":128736919,"body_markdown":"@Kozmotronik I did that thank you.","body":"@Kozmotronik I did that thank you."},{"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"score":0,"creation_date":1657126518,"post_id":72886256,"comment_id":128737928,"body_markdown":"@Kozmotronik would you mind take another look of the code, because it won&#39;t fix it yet. I added relevant code.","body":"@Kozmotronik would you mind take another look of the code, because it won&#39;t fix it yet. I added relevant code."}],"answers":[{"tags":[],"owner":{"account_id":25737161,"reputation":169,"user_id":19491703,"display_name":"Beant Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657255174,"creation_date":1657122201,"answer_id":72886459,"question_id":72886256,"body_markdown":"You can declare `int size=0;` globally inside Adapter.\r\nalso, create this array list when the constructor gets called.\r\nso you can have the list prepared before `getItemCount()` gets called.\r\n\r\n    Adaper(){\r\n    ArrayList&lt;Integer&gt; integers = new ArrayList&lt;&gt;();\r\n            integers.add(2);\r\n            integers.add(8);\r\n            integers.add(2);\r\n            integers.add(61);\r\n            integers.add(3);\r\n            integers.add(75);\r\n            size = integers.size();\r\n    }","title":"How to pass ArrayList size from onBindViewHolder to getItemCount() method in RecyclerView?","body":"<p>You can declare <code>int size=0;</code> globally inside Adapter.\nalso, create this array list when the constructor gets called.\nso you can have the list prepared before <code>getItemCount()</code> gets called.</p>\n<pre><code>Adaper(){\nArrayList&lt;Integer&gt; integers = new ArrayList&lt;&gt;();\n        integers.add(2);\n        integers.add(8);\n        integers.add(2);\n        integers.add(61);\n        integers.add(3);\n        integers.add(75);\n        size = integers.size();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25756083,"reputation":221,"user_id":19507723,"display_name":"harry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657258284,"creation_date":1657258284,"answer_id":72907026,"question_id":72886256,"body_markdown":"       \r\n\r\n     checklistHelper =  dbHelper.getChecklists(id);\r\n                String status = checklistHelper.getStatus();\r\n                String[] statusSplit = status.split(&quot;\\n&quot;);\r\n                ArrayList&lt;String&gt; newStatusList = new ArrayList&lt;&gt;(Arrays.asList(statusSplit));\r\n                newStatusList.remove(position);\r\n                notifyItemRemoved(position);\r\n             \r\n                int size =  newStatusList.size();\r\n\r\n \r\n@Override\r\n    public int getItemCount() {\r\n\r\n        return newStatusList.size();","title":"How to pass ArrayList size from onBindViewHolder to getItemCount() method in RecyclerView?","body":"<pre><code> checklistHelper =  dbHelper.getChecklists(id);\n            String status = checklistHelper.getStatus();\n            String[] statusSplit = status.split(&quot;\\n&quot;);\n            ArrayList&lt;String&gt; newStatusList = new ArrayList&lt;&gt;(Arrays.asList(statusSplit));\n            newStatusList.remove(position);\n            notifyItemRemoved(position);\n         \n            int size =  newStatusList.size();\n</code></pre>\n<p>@Override\npublic int getItemCount() {</p>\n<pre><code>    return newStatusList.size();\n</code></pre>\n"}],"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1657258284,"creation_date":1657121367,"question_id":72886256,"body_markdown":"I have this array inside onBindViewHolder method like that.\r\n\r\n    checklistHelper =  dbHelper.getChecklists(id);\r\n                    String status = checklistHelper.getStatus();\r\n                    String[] statusSplit = status.split(&quot;\\n&quot;);\r\n                    ArrayList&lt;String&gt; newStatusList = new ArrayList&lt;&gt;(Arrays.asList(statusSplit));\r\n                    newStatusList.remove(position);\r\n                    notifyItemRemoved(position);\r\n                    int size =  newStatusList.size();\r\n\r\nI want to pass size to below method\r\n\r\n    @Override\r\n        public int getItemCount() {\r\n\r\n            return size;\r\n\r\nBy doing that getItemCount  won&#39;t get any values in it, this means I don&#39;t see any item. If I want to put that code in the Adapter constructor the items get showed, but after deleting a row, the row gets recreated again. Because I can&#39;t put \r\n\r\n    newStatusList.remove(position);\r\n    notifyItemRemoved(position);\r\n\r\n\r\ninside adapter constructor, since I can&#39;t access ViewHolder position inside adapter constructor.\r\n\r\nAny help is appreciated.","title":"How to pass ArrayList size from onBindViewHolder to getItemCount() method in RecyclerView?","body":"<p>I have this array inside onBindViewHolder method like that.</p>\n<pre><code>checklistHelper =  dbHelper.getChecklists(id);\n                String status = checklistHelper.getStatus();\n                String[] statusSplit = status.split(&quot;\\n&quot;);\n                ArrayList&lt;String&gt; newStatusList = new ArrayList&lt;&gt;(Arrays.asList(statusSplit));\n                newStatusList.remove(position);\n                notifyItemRemoved(position);\n                int size =  newStatusList.size();\n</code></pre>\n<p>I want to pass size to below method</p>\n<pre><code>@Override\n    public int getItemCount() {\n\n        return size;\n</code></pre>\n<p>By doing that getItemCount  won't get any values in it, this means I don't see any item. If I want to put that code in the Adapter constructor the items get showed, but after deleting a row, the row gets recreated again. Because I can't put</p>\n<pre><code>newStatusList.remove(position);\nnotifyItemRemoved(position);\n</code></pre>\n<p>inside adapter constructor, since I can't access ViewHolder position inside adapter constructor.</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","proguard"],"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1657347856,"post_id":72895960,"comment_id":128793732,"body_markdown":"(There is no `except` in the introduction of the first pattern, but it contains a `!`: Please check.)","body":"(There is no <code>except</code> in the introduction of the first pattern, but it contains a <code>!</code>: Please check.)"}],"answers":[{"tags":[],"owner":{"account_id":450954,"reputation":600,"user_id":846563,"accept_rate":57,"display_name":"datahaki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657257960,"creation_date":1657188427,"answer_id":72895961,"question_id":72895960,"body_markdown":"    -keep class ![org.myorg.special,org.myorg.another],org.** { *; }","title":"Advanced pattern matching in proguard to keep multiple packages","body":"<pre><code>-keep class ![org.myorg.special,org.myorg.another],org.** { *; }\n</code></pre>\n"}],"owner":{"account_id":450954,"reputation":600,"user_id":846563,"accept_rate":57,"display_name":"datahaki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657257960,"creation_date":1657188427,"question_id":72895960,"body_markdown":"In order to configure proguard to keep all classes from a single package, say `org.myorg.special`, the following notation works:\r\n\r\n    -keep class !org.myorg.special { *; }\r\n\r\nI would like to configure proguard to keep all classes except when they are from either of **two** packages, say `org.myorg.special` and `org.myorg.another`.\r\n\r\nI have tried for instance\r\n\r\n    -keep class !(org.myorg.special,org.myorg.another) { *; }\r\n\r\nbut the above syntax is not supported by proguard.\r\nWhat is the correct syntax?\r\n","title":"Advanced pattern matching in proguard to keep multiple packages","body":"<p>In order to configure proguard to keep all classes from a single package, say <code>org.myorg.special</code>, the following notation works:</p>\n<pre><code>-keep class !org.myorg.special { *; }\n</code></pre>\n<p>I would like to configure proguard to keep all classes except when they are from either of <strong>two</strong> packages, say <code>org.myorg.special</code> and <code>org.myorg.another</code>.</p>\n<p>I have tried for instance</p>\n<pre><code>-keep class !(org.myorg.special,org.myorg.another) { *; }\n</code></pre>\n<p>but the above syntax is not supported by proguard.\nWhat is the correct syntax?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":4,"creation_date":1657257132,"post_id":72906907,"comment_id":128772416,"body_markdown":"Primitives are not Objects.  They are treated differently.","body":"Primitives are not Objects.  They are treated differently."},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1657257662,"post_id":72906907,"comment_id":128772507,"body_markdown":"In advanced to the comment above:\nObjects are generated at the heap of your memory. They are compared by it&#39;s memory address reference by default. For primitive types it is different since they are not heap objects they are compared by their value","body":"In advanced to the comment above: Objects are generated at the heap of your memory. They are compared by it&#39;s memory address reference by default. For primitive types it is different since they are not heap objects they are compared by their value"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657257755,"creation_date":1657257755,"answer_id":72906984,"question_id":72906907,"body_markdown":"This operator is actually the &#39;primitive&#39; comparison that exists on machine language level. To compare two values, load one of them into a CPU register, then subtract the other value and see if all bits are zero.\r\n\r\nThis comparison works for boolean, numbers, characters - anything you can put into a memory location that is not bigger than the CPUs register. In Java such data types are called primitive types. Today most machines have 64 bits which is the magic size limitation.\r\n\r\nSince Objects and Arrays can easily exceed that given size, a pointer to their memory location is passed instead. The primitive comparison would now compare two Objects by comparing their memory pointers. But it is not smart enough to compare the Object content. \r\n\r\nSo if you have two Objects in different addresses that both have the same value the `==` comparison will fail, although most people think the result should be true. That&#39;s why Java has both == operator and the .equals method.","title":"how does == operator in java works for primitive types","body":"<p>This operator is actually the 'primitive' comparison that exists on machine language level. To compare two values, load one of them into a CPU register, then subtract the other value and see if all bits are zero.</p>\n<p>This comparison works for boolean, numbers, characters - anything you can put into a memory location that is not bigger than the CPUs register. In Java such data types are called primitive types. Today most machines have 64 bits which is the magic size limitation.</p>\n<p>Since Objects and Arrays can easily exceed that given size, a pointer to their memory location is passed instead. The primitive comparison would now compare two Objects by comparing their memory pointers. But it is not smart enough to compare the Object content.</p>\n<p>So if you have two Objects in different addresses that both have the same value the <code>==</code> comparison will fail, although most people think the result should be true. That's why Java has both == operator and the .equals method.</p>\n"}],"owner":{"account_id":18096575,"reputation":130,"user_id":13154754,"display_name":"Manish Visave"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657262181,"answer_count":1,"score":0,"last_activity_date":1657257755,"creation_date":1657257050,"question_id":72906907,"body_markdown":"I was reading about == operator and I noticed it says it is used for reference comparison. But then how does it work when we have a condition like \r\n```java\r\nint i = 5;\r\nif (i == 5){\r\n    .....\r\n}\r\n\r\n```\r\ni being int primitive type. \r\n\r\nDoes it gets converted to Integer wrapper class behind the scene and the It behaves like strings immutable class meaning even if we hard code value it will point to the same object in memory?","title":"how does == operator in java works for primitive types","body":"<p>I was reading about == operator and I noticed it says it is used for reference comparison. But then how does it work when we have a condition like</p>\n<pre class=\"lang-java prettyprint-override\"><code>int i = 5;\nif (i == 5){\n    .....\n}\n\n</code></pre>\n<p>i being int primitive type.</p>\n<p>Does it gets converted to Integer wrapper class behind the scene and the It behaves like strings immutable class meaning even if we hard code value it will point to the same object in memory?</p>\n"},{"tags":["java","arrays"],"owner":{"account_id":25756124,"reputation":1,"user_id":19507757,"display_name":"SAHIL SAROHA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1657258269,"answer_count":0,"score":-1,"last_activity_date":1657257685,"creation_date":1657257471,"question_id":72906954,"body_markdown":"```\r\nint inputN = sc.nextInt();\r\nint size = sc.nextInt();\r\nint numbers[] = new int[size];\r\nfor (int i = 0; i&lt;size; i++) { numBers[i] = sc.nextInt();\r\n}\r\nfor\r\n(int i=0; i&lt;numBers.length; i++) { if (numBers[i] == inputN){ System.out.println(&quot;true&quot;);\r\nbreak;\r\n}\r\nelse {\r\nI\r\nSystem.out.println(&quot;false&quot;);\r\n}\r\n```","title":"I solved this array question. I just only want to print &quot;true&quot; or &quot;false&quot;","body":"<pre><code>int inputN = sc.nextInt();\nint size = sc.nextInt();\nint numbers[] = new int[size];\nfor (int i = 0; i&lt;size; i++) { numBers[i] = sc.nextInt();\n}\nfor\n(int i=0; i&lt;numBers.length; i++) { if (numBers[i] == inputN){ System.out.println(&quot;true&quot;);\nbreak;\n}\nelse {\nI\nSystem.out.println(&quot;false&quot;);\n}\n</code></pre>\n"},{"tags":["java","android","sqlite","android-studio"],"answers":[{"tags":[],"owner":{"account_id":2557581,"reputation":6571,"user_id":2219237,"accept_rate":60,"display_name":"Vasily Kabunov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657254187,"creation_date":1657254187,"answer_id":72906621,"question_id":72905340,"body_markdown":"Probably, your problem is here:\r\n\r\n```\r\nIntent intent = new Intent(MainActivity.this, HomeActivity.class);\r\nintent.putExtra(&quot;account&quot;, account);\r\nIntent intent1 = new Intent(MainActivity.this, AddModifyTask.class);\r\nintent1.putExtra(&quot;account&quot;, account);\r\nstartActivity(intent);\r\n```\r\n\r\nYou are creating `intent1` for `AddModifyTask`, but starting `intent` for `HomeActivity`.\r\n\r\nTry something like:\r\n\r\n```\r\nIntent intent = new Intent(MainActivity.this, AddModifyTask.class);\r\nintent.putExtra(&quot;account&quot;, account);\r\nstartActivity(intent);\r\n```","title":"intent.putExtra returns correct value in fragment but returns null in activity","body":"<p>Probably, your problem is here:</p>\n<pre><code>Intent intent = new Intent(MainActivity.this, HomeActivity.class);\nintent.putExtra(&quot;account&quot;, account);\nIntent intent1 = new Intent(MainActivity.this, AddModifyTask.class);\nintent1.putExtra(&quot;account&quot;, account);\nstartActivity(intent);\n</code></pre>\n<p>You are creating <code>intent1</code> for <code>AddModifyTask</code>, but starting <code>intent</code> for <code>HomeActivity</code>.</p>\n<p>Try something like:</p>\n<pre><code>Intent intent = new Intent(MainActivity.this, AddModifyTask.class);\nintent.putExtra(&quot;account&quot;, account);\nstartActivity(intent);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25549590,"reputation":15,"user_id":19334213,"display_name":"B&#249;i Minh Thương"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657257535,"creation_date":1657257535,"answer_id":72906965,"question_id":72905340,"body_markdown":"I used `SharedPreferences` instead of `intent.putExtra`\r\n\r\n    Boolean result = db.checkUserNamePassword(account, password);\r\n                        if(result==true) {\r\n                            Intent intent = new Intent(MainActivity.this, HomeActivity.class);\r\n                            intent.putExtra(&quot;account&quot;, account);\r\n                            SharedPreferences sharedPref = getSharedPreferences(&quot;account&quot;, MODE_PRIVATE);\r\n                            SharedPreferences.Editor editor = sharedPref.edit();\r\n                            editor.putString(&quot;account&quot;, account);\r\n                            editor.apply();\r\n                            startActivity(intent);\r\n\r\nat AddModifyTask\r\n\r\n    public void saveTask(View v) {\r\n            /*Checking for Empty Task*/\r\n            if (edit_text.getText().toString().trim().length() &gt; 0) {\r\n                if (isModify) {\r\n                    SharedPreferences sharedPreferences = getSharedPreferences(&quot;account&quot;, MODE_PRIVATE);\r\n                    String account = sharedPreferences.getString(&quot;account&quot;,&quot;&quot;);\r\n                    mydb.updateTask(task_id, edit_text.getText().toString(), new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(calendar.getTime()), account);\r\n                    Toast.makeText(getApplicationContext(), &quot;T&#225;c vụ đ&#227; được cập nhật.&quot;, Toast.LENGTH_SHORT).show();\r\n                } else {\r\n                    SharedPreferences sharedPreferences = getSharedPreferences(&quot;account&quot;, MODE_PRIVATE);\r\n                    String account = sharedPreferences.getString(&quot;account&quot;,&quot;&quot;);\r\n                    mydb.insertTask(edit_text.getText().toString(), new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(calendar.getTime()), account);\r\n                    Toast.makeText(getApplicationContext(), &quot;Đ&#227; th&#234;m.&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                finish();","title":"intent.putExtra returns correct value in fragment but returns null in activity","body":"<p>I used <code>SharedPreferences</code> instead of <code>intent.putExtra</code></p>\n<pre><code>Boolean result = db.checkUserNamePassword(account, password);\n                    if(result==true) {\n                        Intent intent = new Intent(MainActivity.this, HomeActivity.class);\n                        intent.putExtra(&quot;account&quot;, account);\n                        SharedPreferences sharedPref = getSharedPreferences(&quot;account&quot;, MODE_PRIVATE);\n                        SharedPreferences.Editor editor = sharedPref.edit();\n                        editor.putString(&quot;account&quot;, account);\n                        editor.apply();\n                        startActivity(intent);\n</code></pre>\n<p>at AddModifyTask</p>\n<pre><code>public void saveTask(View v) {\n        /*Checking for Empty Task*/\n        if (edit_text.getText().toString().trim().length() &gt; 0) {\n            if (isModify) {\n                SharedPreferences sharedPreferences = getSharedPreferences(&quot;account&quot;, MODE_PRIVATE);\n                String account = sharedPreferences.getString(&quot;account&quot;,&quot;&quot;);\n                mydb.updateTask(task_id, edit_text.getText().toString(), new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(calendar.getTime()), account);\n                Toast.makeText(getApplicationContext(), &quot;Tác vụ đã được cập nhật.&quot;, Toast.LENGTH_SHORT).show();\n            } else {\n                SharedPreferences sharedPreferences = getSharedPreferences(&quot;account&quot;, MODE_PRIVATE);\n                String account = sharedPreferences.getString(&quot;account&quot;,&quot;&quot;);\n                mydb.insertTask(edit_text.getText().toString(), new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(calendar.getTime()), account);\n                Toast.makeText(getApplicationContext(), &quot;Đã thêm.&quot;, Toast.LENGTH_SHORT).show();\n            }\n            finish();\n</code></pre>\n"}],"owner":{"account_id":25549590,"reputation":15,"user_id":19334213,"display_name":"B&#249;i Minh Thương"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657257535,"creation_date":1657237931,"question_id":72905340,"body_markdown":"I need to get the `account` from **MainActivity** to add to my command in **AddModifyTask**. I used `intent.putExtra` in **MainActivity** and get `account` by `getIntent.getStringExtra` in **AddModifyTask** but it always return `null`, still the same with `getIntent.getStringExtra` in **Fragment** then it returns the correct `account` value, can anyone help me please\r\n\r\nMainAcitivy, I need to pass `account` from here\r\n\r\n \r\n\r\n    Boolean result = db.checkUserNamePassword(account, password);\r\n                        if(result==true) {\r\n                            Intent intent = new Intent(MainActivity.this, HomeActivity.class);\r\n                            intent.putExtra(&quot;account&quot;, account);\r\n                            Intent intent1 = new Intent(MainActivity.this, AddModifyTask.class);\r\n                            intent1.putExtra(&quot;account&quot;, account);\r\n                            startActivity(intent);\r\nAddModifyTask activity where I need to pass `account` to but it just return `null`\r\n\r\n    public void saveTask(View v) {\r\n            /*Checking for Empty Task*/\r\n            if (edit_text.getText().toString().trim().length() &gt; 0) {\r\n                if (isModify) {\r\n                    String account = getIntent().getStringExtra(&quot;account&quot;);\r\n                    mydb.updateTask(task_id, edit_text.getText().toString(), new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(calendar.getTime()), account);\r\n                    Toast.makeText(getApplicationContext(), &quot;Task updated.&quot;, Toast.LENGTH_SHORT).show();\r\n                } else {\r\n                    String account = getIntent().getStringExtra(&quot;account&quot;);\r\n                    mydb.insertTask(edit_text.getText().toString(), new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(calendar.getTime()), account);\r\n                    Toast.makeText(getApplicationContext(), &quot;Added.&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                finish();\r\n    \r\n            } else {\r\n                Toast.makeText(getApplicationContext(), &quot;No empty.&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\nstill the same with `getIntent.getStringExtra` in **Fragment** then it returns the correct `account` value\r\n\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            View v = inflater.inflate(R.layout.fragment_profile, container, false);\r\n            TextView textViewAccount = v.findViewById(R.id.textViewAccount);\r\n    \r\n            String account = getActivity().getIntent().getStringExtra(&quot;account&quot;);\r\n            textViewAccount.setText(account);\r\n            }\r\n            return v;\r\n        }\r\nFunction `insertTask` and `updateTask` in **database**, is the problem with the statement in the **database** or the `getIntent` in the **AddModifyTask** or in both?\r\n\r\n    public boolean insertTask(String task, String task_at, String account) {\r\n        Date date;\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        ContentValues contentValues = new ContentValues();\r\n        contentValues.put(&quot;task&quot;, task);\r\n        contentValues.put(&quot;task_at&quot;, task_at);\r\n        contentValues.put(&quot;status&quot;, 0);\r\n        contentValues.put(&quot;user&quot;, account);\r\n        db.insert(TB_TASK, null, contentValues);\r\n        return true;\r\n    }\r\n    \r\n        public boolean updateTask(String id, String task, String task_at, String account) {\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            ContentValues contentValues = new ContentValues();\r\n            contentValues.put(&quot;task&quot;, task);\r\n            contentValues.put(&quot;task_at&quot;, task_at);\r\n            contentValues.put(&quot;user&quot;,  account);\r\n            db.update(TB_TASK, contentValues, &quot;id = ? &quot;, new String[]{id});\r\n            return true;\r\n        }\r\nPlease help!","title":"intent.putExtra returns correct value in fragment but returns null in activity","body":"<p>I need to get the <code>account</code> from <strong>MainActivity</strong> to add to my command in <strong>AddModifyTask</strong>. I used <code>intent.putExtra</code> in <strong>MainActivity</strong> and get <code>account</code> by <code>getIntent.getStringExtra</code> in <strong>AddModifyTask</strong> but it always return <code>null</code>, still the same with <code>getIntent.getStringExtra</code> in <strong>Fragment</strong> then it returns the correct <code>account</code> value, can anyone help me please</p>\n<p>MainAcitivy, I need to pass <code>account</code> from here</p>\n<pre><code>Boolean result = db.checkUserNamePassword(account, password);\n                    if(result==true) {\n                        Intent intent = new Intent(MainActivity.this, HomeActivity.class);\n                        intent.putExtra(&quot;account&quot;, account);\n                        Intent intent1 = new Intent(MainActivity.this, AddModifyTask.class);\n                        intent1.putExtra(&quot;account&quot;, account);\n                        startActivity(intent);\n</code></pre>\n<p>AddModifyTask activity where I need to pass <code>account</code> to but it just return <code>null</code></p>\n<pre><code>public void saveTask(View v) {\n        /*Checking for Empty Task*/\n        if (edit_text.getText().toString().trim().length() &gt; 0) {\n            if (isModify) {\n                String account = getIntent().getStringExtra(&quot;account&quot;);\n                mydb.updateTask(task_id, edit_text.getText().toString(), new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(calendar.getTime()), account);\n                Toast.makeText(getApplicationContext(), &quot;Task updated.&quot;, Toast.LENGTH_SHORT).show();\n            } else {\n                String account = getIntent().getStringExtra(&quot;account&quot;);\n                mydb.insertTask(edit_text.getText().toString(), new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(calendar.getTime()), account);\n                Toast.makeText(getApplicationContext(), &quot;Added.&quot;, Toast.LENGTH_SHORT).show();\n            }\n            finish();\n\n        } else {\n            Toast.makeText(getApplicationContext(), &quot;No empty.&quot;, Toast.LENGTH_SHORT).show();\n        }\n</code></pre>\n<p>still the same with <code>getIntent.getStringExtra</code> in <strong>Fragment</strong> then it returns the correct <code>account</code> value</p>\n<pre><code>public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View v = inflater.inflate(R.layout.fragment_profile, container, false);\n        TextView textViewAccount = v.findViewById(R.id.textViewAccount);\n\n        String account = getActivity().getIntent().getStringExtra(&quot;account&quot;);\n        textViewAccount.setText(account);\n        }\n        return v;\n    }\n</code></pre>\n<p>Function <code>insertTask</code> and <code>updateTask</code> in <strong>database</strong>, is the problem with the statement in the <strong>database</strong> or the <code>getIntent</code> in the <strong>AddModifyTask</strong> or in both?</p>\n<pre><code>public boolean insertTask(String task, String task_at, String account) {\n    Date date;\n    SQLiteDatabase db = this.getWritableDatabase();\n    ContentValues contentValues = new ContentValues();\n    contentValues.put(&quot;task&quot;, task);\n    contentValues.put(&quot;task_at&quot;, task_at);\n    contentValues.put(&quot;status&quot;, 0);\n    contentValues.put(&quot;user&quot;, account);\n    db.insert(TB_TASK, null, contentValues);\n    return true;\n}\n\n    public boolean updateTask(String id, String task, String task_at, String account) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues contentValues = new ContentValues();\n        contentValues.put(&quot;task&quot;, task);\n        contentValues.put(&quot;task_at&quot;, task_at);\n        contentValues.put(&quot;user&quot;,  account);\n        db.update(TB_TASK, contentValues, &quot;id = ? &quot;, new String[]{id});\n        return true;\n    }\n</code></pre>\n<p>Please help!</p>\n"},{"tags":["java","spring","spring-boot","tomcat"],"answers":[{"tags":[],"owner":{"account_id":381269,"reputation":493,"user_id":1960592,"display_name":"cerdoc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657228713,"creation_date":1657228713,"answer_id":72904341,"question_id":72904213,"body_markdown":"Your Tomcat version 8.5.24 is using Servlet API 3.1, see this : https://tomcat.apache.org/whichversion.html\r\n\r\nYou have to upgrade you servlet-api dependency from 3.0.1 to 3.1\r\n","title":"java- Correct the classpath of your application so that it contains compatible versions of the classes","body":"<p>Your Tomcat version 8.5.24 is using Servlet API 3.1, see this : <a href=\"https://tomcat.apache.org/whichversion.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/whichversion.html</a></p>\n<p>You have to upgrade you servlet-api dependency from 3.0.1 to 3.1</p>\n"},{"tags":[],"owner":{"account_id":1410041,"reputation":7508,"user_id":1336841,"display_name":"Forketyfork"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657257434,"creation_date":1657257434,"answer_id":72906948,"question_id":72904213,"body_markdown":"There are several issues with your Gradle configuration:\r\n1. These dependencies have conflicting versions, you only need one of them:\r\n```\r\n    compileOnly group: &#39;javax.servlet&#39;, name: &#39;servlet-api&#39;, version: &#39;2.3&#39;\r\n    compile &#39;javax.servlet:javax.servlet-api:3.0.1&#39;\r\n```\r\n\r\n2. `servlet-api` dependency with a proper version is already provided by `spring-boot-web-starter`, so you don&#39;t need to specify it at all, you can just remove both of those lines.\r\n\r\n3. The `tomcat-catalina` dependency is most likely not needed too, since `spring-boot-web-starter` already contains embedded Tomcat, and it&#39;s not the best idea to include Tomcat in your compilation classpath anyway. So this line can also be removed:\r\n```\r\ncompile group: &#39;org.apache.tomcat&#39;, name: &#39;tomcat-catalina&#39;, version: &#39;8.5.24&#39;\r\n```","title":"java- Correct the classpath of your application so that it contains compatible versions of the classes","body":"<p>There are several issues with your Gradle configuration:</p>\n<ol>\n<li>These dependencies have conflicting versions, you only need one of them:</li>\n</ol>\n<pre><code>    compileOnly group: 'javax.servlet', name: 'servlet-api', version: '2.3'\n    compile 'javax.servlet:javax.servlet-api:3.0.1'\n</code></pre>\n<ol start=\"2\">\n<li><p><code>servlet-api</code> dependency with a proper version is already provided by <code>spring-boot-web-starter</code>, so you don't need to specify it at all, you can just remove both of those lines.</p>\n</li>\n<li><p>The <code>tomcat-catalina</code> dependency is most likely not needed too, since <code>spring-boot-web-starter</code> already contains embedded Tomcat, and it's not the best idea to include Tomcat in your compilation classpath anyway. So this line can also be removed:</p>\n</li>\n</ol>\n<pre><code>compile group: 'org.apache.tomcat', name: 'tomcat-catalina', version: '8.5.24'\n</code></pre>\n"}],"owner":{"account_id":23387545,"reputation":35,"user_id":17452639,"display_name":"OzosStackOverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3599,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72904341,"answer_count":2,"score":0,"last_activity_date":1657257434,"creation_date":1657227984,"question_id":72904213,"body_markdown":"I&#39;m trying to make an endpoint using Springboot but im getting this error upon compilation...\r\n\r\n&quot;Correct the classpath of your application so that it contains compatible versions of the classes org.apache.catalina.authenticator.AuthenticatorBase and javax.servlet.ServletContext&quot;\r\n\r\nAny suggestions? A google search didnt lead me to the right direction.\r\n\r\n```java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [NonLoginAuthenticator[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]]\r\n\tat java.util.concurrent.FutureTask.report(Unknown Source) [na:1.8.0_321]\r\n\tat java.util.concurrent.FutureTask.get(Unknown Source) [na:1.8.0_321]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_321]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat java.util.concurrent.AbstractExecutorService.submit(Unknown Source) [na:1.8.0_321]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:479) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:184) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) [spring-context-5.3.21.jar:5.3.21]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat com.example.HelloWorld.HelloWorldApplication.main(HelloWorldApplication.java:10) [main/:na]\r\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [NonLoginAuthenticator[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]]\r\n\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardPipeline.startInternal(StandardPipeline.java:176) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5147) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_321]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat java.util.concurrent.AbstractExecutorService.submit(Unknown Source) [na:1.8.0_321]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\t... 29 common frames omitted\r\nCaused by: java.lang.NoSuchMethodError: javax.servlet.ServletContext.getVirtualServerName()Ljava/lang/String;\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.startInternal(AuthenticatorBase.java:1319) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\t... 39 common frames omitted\r\n\r\n2022-07-07 17:02:17.896 ERROR 1512 --- [           main] org.apache.catalina.core.ContainerBase   : A child container failed during start\r\n\r\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\r\n\tat java.util.concurrent.FutureTask.report(Unknown Source) ~[na:1.8.0_321]\r\n\tat java.util.concurrent.FutureTask.get(Unknown Source) ~[na:1.8.0_321]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:479) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:184) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) [spring-context-5.3.21.jar:5.3.21]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat com.example.HelloWorld.HelloWorldApplication.main(HelloWorldApplication.java:10) [main/:na]\r\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:938) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat java.util.concurrent.FutureTask.run(Unknown Source) ~[na:1.8.0_321]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat java.util.concurrent.AbstractExecutorService.submit(Unknown Source) ~[na:1.8.0_321]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\t... 21 common frames omitted\r\nCaused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [NonLoginAuthenticator[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]]\r\n\tat java.util.concurrent.FutureTask.report(Unknown Source) ~[na:1.8.0_321]\r\n\tat java.util.concurrent.FutureTask.get(Unknown Source) ~[na:1.8.0_321]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\t... 29 common frames omitted\r\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [NonLoginAuthenticator[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]]\r\n\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardPipeline.startInternal(StandardPipeline.java:176) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5147) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat java.util.concurrent.FutureTask.run(Unknown Source) ~[na:1.8.0_321]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat java.util.concurrent.AbstractExecutorService.submit(Unknown Source) ~[na:1.8.0_321]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\t... 29 common frames omitted\r\nCaused by: java.lang.NoSuchMethodError: javax.servlet.ServletContext.getVirtualServerName()Ljava/lang/String;\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.startInternal(AuthenticatorBase.java:1319) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\t... 39 common frames omitted\r\n\r\n2022-07-07 17:02:17.896  INFO 1512 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2022-07-07 17:02:17.899  WARN 1512 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n2022-07-07 17:02:17.905  INFO 1512 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-07-07 17:02:17.922 ERROR 1512 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n\r\n    org.apache.catalina.authenticator.AuthenticatorBase.startInternal(AuthenticatorBase.java:1319)\r\n\r\nThe following method did not exist:\r\n\r\n    javax.servlet.ServletContext.getVirtualServerName()Ljava/lang/String;\r\n\r\nThe calling method&#39;s class, org.apache.catalina.authenticator.AuthenticatorBase, was loaded from the following location:\r\n\r\n    jar:file:/C:/Users/axf924/.gradle/caches/modules-2/files-2.1/org.apache.tomcat.embed/tomcat-embed-core/9.0.64/2d91a06d1b93ba13a2cca9e9ea7c143a64037351/tomcat-embed-core-9.0.64.jar!/org/apache/catalina/authenticator/AuthenticatorBase.class\r\n\r\nThe called method&#39;s class, javax.servlet.ServletContext, is available from the following locations:\r\n\r\n    jar:file:/C:/Program%20Files/Java/jre1.8.0_321/lib/ext/servlet-api.jar!/javax/servlet/ServletContext.class\r\n    jar:file:/C:/Users/axf924/.gradle/caches/modules-2/files-2.1/org.apache.tomcat.embed/tomcat-embed-core/9.0.64/2d91a06d1b93ba13a2cca9e9ea7c143a64037351/tomcat-embed-core-9.0.64.jar!/javax/servlet/ServletContext.class\r\n    jar:file:/C:/Program%20Files/Java/jre1.8.0_321/lib/ext/servlet-api.jar!/javax/servlet/ServletContext.class\r\n\r\nThe called method&#39;s class hierarchy was loaded from the following locations:\r\n\r\n    javax.servlet.ServletContext: file:/C:/Program%20Files/Java/jre1.8.0_321/lib/ext/servlet-api.jar\r\n\r\n\r\nAction:\r\n\r\nCorrect the classpath of your application so that it contains compatible versions of the classes org.apache.catalina.authenticator.AuthenticatorBase and javax.servlet.ServletContext\r\n```\r\n\r\nbuild.gradle\r\n```dependencies {\r\n\t\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\t\r\n\tcompileOnly group: &#39;javax.servlet&#39;, name: &#39;servlet-api&#39;, version: &#39;2.3&#39;\r\n\tcompile &#39;javax.servlet:javax.servlet-api:3.0.1&#39;\r\n\tcompile group: &#39;org.apache.tomcat&#39;, name: &#39;tomcat-catalina&#39;, version: &#39;8.5.24&#39;\r\n}```","title":"java- Correct the classpath of your application so that it contains compatible versions of the classes","body":"<p>I'm trying to make an endpoint using Springboot but im getting this error upon compilation...</p>\n<p>&quot;Correct the classpath of your application so that it contains compatible versions of the classes org.apache.catalina.authenticator.AuthenticatorBase and javax.servlet.ServletContext&quot;</p>\n<p>Any suggestions? A google search didnt lead me to the right direction.</p>\n<pre><code>    at java.util.concurrent.FutureTask.report(Unknown Source) [na:1.8.0_321]\n    at java.util.concurrent.FutureTask.get(Unknown Source) [na:1.8.0_321]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_321]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at java.util.concurrent.AbstractExecutorService.submit(Unknown Source) [na:1.8.0_321]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:479) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:184) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) [spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) [spring-boot-2.7.1.jar:2.7.1]\n    at com.example.HelloWorld.HelloWorldApplication.main(HelloWorldApplication.java:10) [main/:na]\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [NonLoginAuthenticator[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]]\n    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardPipeline.startInternal(StandardPipeline.java:176) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5147) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_321]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at java.util.concurrent.AbstractExecutorService.submit(Unknown Source) [na:1.8.0_321]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    ... 29 common frames omitted\nCaused by: java.lang.NoSuchMethodError: javax.servlet.ServletContext.getVirtualServerName()Ljava/lang/String;\n    at org.apache.catalina.authenticator.AuthenticatorBase.startInternal(AuthenticatorBase.java:1319) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    ... 39 common frames omitted\n\n2022-07-07 17:02:17.896 ERROR 1512 --- [           main] org.apache.catalina.core.ContainerBase   : A child container failed during start\n\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\n    at java.util.concurrent.FutureTask.report(Unknown Source) ~[na:1.8.0_321]\n    at java.util.concurrent.FutureTask.get(Unknown Source) ~[na:1.8.0_321]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:479) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:184) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) [spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) [spring-boot-2.7.1.jar:2.7.1]\n    at com.example.HelloWorld.HelloWorldApplication.main(HelloWorldApplication.java:10) [main/:na]\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:938) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at java.util.concurrent.FutureTask.run(Unknown Source) ~[na:1.8.0_321]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at java.util.concurrent.AbstractExecutorService.submit(Unknown Source) ~[na:1.8.0_321]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    ... 21 common frames omitted\nCaused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [NonLoginAuthenticator[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]]\n    at java.util.concurrent.FutureTask.report(Unknown Source) ~[na:1.8.0_321]\n    at java.util.concurrent.FutureTask.get(Unknown Source) ~[na:1.8.0_321]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    ... 29 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [NonLoginAuthenticator[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]]\n    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardPipeline.startInternal(StandardPipeline.java:176) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5147) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at java.util.concurrent.FutureTask.run(Unknown Source) ~[na:1.8.0_321]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at java.util.concurrent.AbstractExecutorService.submit(Unknown Source) ~[na:1.8.0_321]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    ... 29 common frames omitted\nCaused by: java.lang.NoSuchMethodError: javax.servlet.ServletContext.getVirtualServerName()Ljava/lang/String;\n    at org.apache.catalina.authenticator.AuthenticatorBase.startInternal(AuthenticatorBase.java:1319) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    ... 39 common frames omitted\n\n2022-07-07 17:02:17.896  INFO 1512 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-07-07 17:02:17.899  WARN 1512 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n2022-07-07 17:02:17.905  INFO 1512 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-07-07 17:02:17.922 ERROR 1512 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\n\n    org.apache.catalina.authenticator.AuthenticatorBase.startInternal(AuthenticatorBase.java:1319)\n\nThe following method did not exist:\n\n    javax.servlet.ServletContext.getVirtualServerName()Ljava/lang/String;\n\nThe calling method's class, org.apache.catalina.authenticator.AuthenticatorBase, was loaded from the following location:\n\n    jar:file:/C:/Users/axf924/.gradle/caches/modules-2/files-2.1/org.apache.tomcat.embed/tomcat-embed-core/9.0.64/2d91a06d1b93ba13a2cca9e9ea7c143a64037351/tomcat-embed-core-9.0.64.jar!/org/apache/catalina/authenticator/AuthenticatorBase.class\n\nThe called method's class, javax.servlet.ServletContext, is available from the following locations:\n\n    jar:file:/C:/Program%20Files/Java/jre1.8.0_321/lib/ext/servlet-api.jar!/javax/servlet/ServletContext.class\n    jar:file:/C:/Users/axf924/.gradle/caches/modules-2/files-2.1/org.apache.tomcat.embed/tomcat-embed-core/9.0.64/2d91a06d1b93ba13a2cca9e9ea7c143a64037351/tomcat-embed-core-9.0.64.jar!/javax/servlet/ServletContext.class\n    jar:file:/C:/Program%20Files/Java/jre1.8.0_321/lib/ext/servlet-api.jar!/javax/servlet/ServletContext.class\n\nThe called method's class hierarchy was loaded from the following locations:\n\n    javax.servlet.ServletContext: file:/C:/Program%20Files/Java/jre1.8.0_321/lib/ext/servlet-api.jar\n\n\nAction:\n\nCorrect the classpath of your application so that it contains compatible versions of the classes org.apache.catalina.authenticator.AuthenticatorBase and javax.servlet.ServletContext\n</code></pre>\n<p>build.gradle</p>\n<pre><code>    \n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    \n    compileOnly group: 'javax.servlet', name: 'servlet-api', version: '2.3'\n    compile 'javax.servlet:javax.servlet-api:3.0.1'\n    compile group: 'org.apache.tomcat', name: 'tomcat-catalina', version: '8.5.24'\n}```\n</code></pre>\n"},{"tags":["java","javafx","scenebuilder"],"owner":{"account_id":25061098,"reputation":39,"user_id":18915975,"display_name":"abhishek kr sahu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1657291038,"answer_count":0,"score":-1,"last_activity_date":1657256780,"creation_date":1657250356,"question_id":72906286,"body_markdown":"I have a demo project. In the fxml file, I have a date picker. It doesn&#39;t show any value by default. I want to set the default value to it, but the challenge is that I want it to be set just after I call the page. I can set it to default by setOnAction/setOnClick etc, but I don&#39;t want to click anywhere. I want when I open the page, should show the date picker with current local timings. Thanks in advance.\r\n\r\n**I tried**\r\n\r\n - Tried to do that in initialize(), but shows `Exception in Application start method\r\njava.lang.reflect.InvocationTargetException` error. Means I am not able to interact with the fxml components from this method.\r\n- Created constructor. Didn&#39;t worked.\r\n\r\n**fxml controller Code**\r\n```\r\n\r\npackage tesr2;\r\n\r\nimport java.net.URL;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.time.LocalDate;\r\nimport java.time.Month;\r\nimport java.util.ResourceBundle;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\nimport javafx.beans.value.ChangeListener;\r\nimport javafx.beans.value.ObservableValue;\r\nimport javafx.concurrent.Task;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.DatePicker;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.ProgressIndicator;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.control.TreeItem;\r\nimport javafx.scene.control.TreeView;\r\nimport javafx.scene.input.KeyEvent;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.scene.layout.GridPane;\r\nimport javafx.stage.Stage;\r\n\r\npublic class FXMLDocumentController implements Initializable {\r\n\r\n    @FXML\r\n    private TreeView&lt;String&gt; appTreeView;\r\n    public DatePicker datePicker;\r\n    private Label wizardPass;\r\n    private int month, day, year;\r\n\r\n    @FXML\r\n    private BorderPane borderPane;\r\n    @FXML\r\n    private GridPane gridPane;\r\n    LocalDate date;\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle rb) {\r\n        // TODO\r\n        System.out.println(&quot;here in start method&quot;);\r\n        System.out.println(java.time.LocalDate.now());\r\n        LocalDate Localdate = java.time.LocalDate.now();\r\n        month = java.time.LocalDate.now().getMonthValue();\r\n        day = java.time.LocalDate.now().getDayOfMonth();\r\n        year = java.time.LocalDate.now().getYear();\r\n        System.out.println(day + &quot; &quot; + month + &quot; &quot; + year);\r\n\r\n        datePicker.setValue(Localdate);\r\n\r\n    }\r\n\r\n    private void onPickingADate(ActionEvent event) {\r\n        datePicker.setValue(LocalDate.now());\r\n\r\n        date = datePicker.getValue();\r\n        System.out.println(date.getDayOfMonth());\r\n        System.out.println(date.getMonthValue());\r\n        System.out.println(date.getYear());\r\n        day = date.getDayOfMonth();\r\n        month = date.getMonthValue();\r\n        year = date.getYear();\r\n        System.out.println(day + &quot; &quot; + month + &quot; &quot; + year + &quot; updated&quot;);\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n**fxml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.DatePicker?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.control.TreeView?&gt;\r\n&lt;?import javafx.scene.layout.BorderPane?&gt;\r\n&lt;?import javafx.scene.layout.ColumnConstraints?&gt;\r\n&lt;?import javafx.scene.layout.GridPane?&gt;\r\n&lt;?import javafx.scene.layout.RowConstraints?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n\r\n&lt;BorderPane fx:id=&quot;borderPane&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;602.0&quot; prefWidth=&quot;1022.0&quot; xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;tesr2.FXMLDocumentController&quot;&gt;\r\n   &lt;left&gt;\r\n      &lt;TreeView fx:id=&quot;appTreeView&quot; prefHeight=&quot;600.0&quot; prefWidth=&quot;250.0&quot; BorderPane.alignment=&quot;CENTER&quot; /&gt;\r\n   &lt;/left&gt;\r\n   &lt;right&gt;\r\n      &lt;VBox prefHeight=&quot;602.0&quot; prefWidth=&quot;43.0&quot; BorderPane.alignment=&quot;CENTER&quot; /&gt;\r\n   &lt;/right&gt;\r\n   &lt;center&gt;\r\n      &lt;GridPane fx:id=&quot;gridPane&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n        &lt;columnConstraints&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;136.0&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;22.666748046875&quot; /&gt;\r\n          &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;549.0&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;399.3333740234375&quot; /&gt;\r\n          &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;372.3333740234375&quot; minWidth=&quot;0.0&quot; prefWidth=&quot;302.6666259765625&quot; /&gt;\r\n        &lt;/columnConstraints&gt;\r\n        &lt;rowConstraints&gt;\r\n          &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n          &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n          &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n        &lt;/rowConstraints&gt;\r\n         &lt;children&gt;\r\n            &lt;DatePicker fx:id=&quot;datePicker&quot; GridPane.columnIndex=&quot;1&quot;&gt;\r\n               &lt;GridPane.margin&gt;\r\n                  &lt;Insets /&gt;\r\n               &lt;/GridPane.margin&gt;\r\n            &lt;/DatePicker&gt;\r\n            &lt;TextField promptText=&quot;resort code&quot; GridPane.columnIndex=&quot;2&quot; /&gt;\r\n         &lt;/children&gt;\r\n      &lt;/GridPane&gt;\r\n   &lt;/center&gt;\r\n&lt;/BorderPane&gt;\r\n\r\n\r\n```\r\n**Application Code**\r\n```\r\n/*\r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\npackage tesr2;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\n/**\r\n *\r\n * @author absasahu\r\n */\r\npublic class Tesr2 extends Application {\r\n    \r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;FXMLDocument.fxml&quot;));\r\n        \r\n        Scene scene = new Scene(root);\r\n        \r\n        stage.setScene(scene);\r\n        stage.setTitle(&quot;Opera Password&quot;);\r\n        stage.show();\r\n    }\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n    \r\n}\r\n\r\n```\r\nPlease give any Ideas.\r\nThank You.\r\n\r\n","title":"Want to set default value to datepicker just after calling the page In JavaFX","body":"<p>I have a demo project. In the fxml file, I have a date picker. It doesn't show any value by default. I want to set the default value to it, but the challenge is that I want it to be set just after I call the page. I can set it to default by setOnAction/setOnClick etc, but I don't want to click anywhere. I want when I open the page, should show the date picker with current local timings. Thanks in advance.</p>\n<p><strong>I tried</strong></p>\n<ul>\n<li>Tried to do that in initialize(), but shows <code>Exception in Application start method java.lang.reflect.InvocationTargetException</code> error. Means I am not able to interact with the fxml components from this method.</li>\n<li>Created constructor. Didn't worked.</li>\n</ul>\n<p><strong>fxml controller Code</strong></p>\n<pre><code>\npackage tesr2;\n\nimport java.net.URL;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.time.LocalDate;\nimport java.time.Month;\nimport java.util.ResourceBundle;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javafx.beans.value.ChangeListener;\nimport javafx.beans.value.ObservableValue;\nimport javafx.concurrent.Task;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.DatePicker;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.ProgressIndicator;\nimport javafx.scene.control.TextField;\nimport javafx.scene.control.TreeItem;\nimport javafx.scene.control.TreeView;\nimport javafx.scene.input.KeyEvent;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.GridPane;\nimport javafx.stage.Stage;\n\npublic class FXMLDocumentController implements Initializable {\n\n    @FXML\n    private TreeView&lt;String&gt; appTreeView;\n    public DatePicker datePicker;\n    private Label wizardPass;\n    private int month, day, year;\n\n    @FXML\n    private BorderPane borderPane;\n    @FXML\n    private GridPane gridPane;\n    LocalDate date;\n\n    @Override\n    public void initialize(URL url, ResourceBundle rb) {\n        // TODO\n        System.out.println(&quot;here in start method&quot;);\n        System.out.println(java.time.LocalDate.now());\n        LocalDate Localdate = java.time.LocalDate.now();\n        month = java.time.LocalDate.now().getMonthValue();\n        day = java.time.LocalDate.now().getDayOfMonth();\n        year = java.time.LocalDate.now().getYear();\n        System.out.println(day + &quot; &quot; + month + &quot; &quot; + year);\n\n        datePicker.setValue(Localdate);\n\n    }\n\n    private void onPickingADate(ActionEvent event) {\n        datePicker.setValue(LocalDate.now());\n\n        date = datePicker.getValue();\n        System.out.println(date.getDayOfMonth());\n        System.out.println(date.getMonthValue());\n        System.out.println(date.getYear());\n        day = date.getDayOfMonth();\n        month = date.getMonthValue();\n        year = date.getYear();\n        System.out.println(day + &quot; &quot; + month + &quot; &quot; + year + &quot; updated&quot;);\n\n    }\n\n}\n\n</code></pre>\n<p><strong>fxml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.DatePicker?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.control.TreeView?&gt;\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n&lt;?import javafx.scene.layout.ColumnConstraints?&gt;\n&lt;?import javafx.scene.layout.GridPane?&gt;\n&lt;?import javafx.scene.layout.RowConstraints?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n\n&lt;BorderPane fx:id=&quot;borderPane&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;602.0&quot; prefWidth=&quot;1022.0&quot; xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;tesr2.FXMLDocumentController&quot;&gt;\n   &lt;left&gt;\n      &lt;TreeView fx:id=&quot;appTreeView&quot; prefHeight=&quot;600.0&quot; prefWidth=&quot;250.0&quot; BorderPane.alignment=&quot;CENTER&quot; /&gt;\n   &lt;/left&gt;\n   &lt;right&gt;\n      &lt;VBox prefHeight=&quot;602.0&quot; prefWidth=&quot;43.0&quot; BorderPane.alignment=&quot;CENTER&quot; /&gt;\n   &lt;/right&gt;\n   &lt;center&gt;\n      &lt;GridPane fx:id=&quot;gridPane&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n        &lt;columnConstraints&gt;\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;136.0&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;22.666748046875&quot; /&gt;\n          &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;549.0&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;399.3333740234375&quot; /&gt;\n          &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;372.3333740234375&quot; minWidth=&quot;0.0&quot; prefWidth=&quot;302.6666259765625&quot; /&gt;\n        &lt;/columnConstraints&gt;\n        &lt;rowConstraints&gt;\n          &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n          &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n          &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n        &lt;/rowConstraints&gt;\n         &lt;children&gt;\n            &lt;DatePicker fx:id=&quot;datePicker&quot; GridPane.columnIndex=&quot;1&quot;&gt;\n               &lt;GridPane.margin&gt;\n                  &lt;Insets /&gt;\n               &lt;/GridPane.margin&gt;\n            &lt;/DatePicker&gt;\n            &lt;TextField promptText=&quot;resort code&quot; GridPane.columnIndex=&quot;2&quot; /&gt;\n         &lt;/children&gt;\n      &lt;/GridPane&gt;\n   &lt;/center&gt;\n&lt;/BorderPane&gt;\n\n\n</code></pre>\n<p><strong>Application Code</strong></p>\n<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage tesr2;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\n/**\n *\n * @author absasahu\n */\npublic class Tesr2 extends Application {\n    \n    @Override\n    public void start(Stage stage) throws Exception {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;FXMLDocument.fxml&quot;));\n        \n        Scene scene = new Scene(root);\n        \n        stage.setScene(scene);\n        stage.setTitle(&quot;Opera Password&quot;);\n        stage.show();\n    }\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        launch(args);\n    }\n    \n}\n\n</code></pre>\n<p>Please give any Ideas.\nThank You.</p>\n"},{"tags":["java","spring","jsp","servlets","guice"],"answers":[{"tags":[],"owner":{"account_id":1410041,"reputation":7508,"user_id":1336841,"display_name":"Forketyfork"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657256708,"creation_date":1657256708,"answer_id":72906864,"question_id":72899887,"body_markdown":"You can check whether anything is being served at all, e.g by checking if static JavaScript files are accessible throught the browser.\r\n\r\nIf nothing is being served at all, you might want to check the logs for any deployment errors.\r\n\r\nI&#39;m not sure why you install `ServletModule` inside another `ServletModule`, this also might cause an error. The code could probably be simplified as follows:\r\n\r\n```java\r\n @Override\r\n  protected void configureServlets() {\r\n\r\n    // load application settings\r\n    AppSettings settings = AppSettings.get();\r\n\r\n    bind(ObjectMapper.class).toProvider(ObjectMapperProvider.class);\r\n\r\n    install(new JpaModule(jpaUnit, true, false));\r\n\r\n    // check for CORS requests earlier\r\n    filter(&quot;*&quot;).through(CorsFilter.class);\r\n    // pre-session tenant filter should be come before PersistFilter\r\n    filter(&quot;*&quot;).through(PreSessionTenantFilter.class);\r\n    // order is important, PersistFilter must come first\r\n    filter(&quot;*&quot;).through(PersistFilter.class);\r\n    filter(&quot;*&quot;).through(AppFilter.class);\r\n    filter(&quot;*&quot;).through(GuiceShiroFilter.class);\r\n    // pre-session tenant filter should be come after shiro filter\r\n    filter(&quot;*&quot;).through(PostSessionTenantFilter.class);\r\n\r\n    for (Module module : getModules()) {\r\n      install(module);\r\n    }\r\n\r\n    filter(&quot;/js/*&quot;, NoCacheFilter.STATIC_URL_PATTERNS).through(NoCacheFilter.class);\r\n\r\n    serve(&quot;/js/messages.js&quot;).with(I18nServlet.class);\r\n    serve(&quot;/login.jsp&quot;);\r\n}\r\n```","title":"ServletModule : serve not finding jsp page","body":"<p>You can check whether anything is being served at all, e.g by checking if static JavaScript files are accessible throught the browser.</p>\n<p>If nothing is being served at all, you might want to check the logs for any deployment errors.</p>\n<p>I'm not sure why you install <code>ServletModule</code> inside another <code>ServletModule</code>, this also might cause an error. The code could probably be simplified as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Override\n  protected void configureServlets() {\n\n    // load application settings\n    AppSettings settings = AppSettings.get();\n\n    bind(ObjectMapper.class).toProvider(ObjectMapperProvider.class);\n\n    install(new JpaModule(jpaUnit, true, false));\n\n    // check for CORS requests earlier\n    filter(&quot;*&quot;).through(CorsFilter.class);\n    // pre-session tenant filter should be come before PersistFilter\n    filter(&quot;*&quot;).through(PreSessionTenantFilter.class);\n    // order is important, PersistFilter must come first\n    filter(&quot;*&quot;).through(PersistFilter.class);\n    filter(&quot;*&quot;).through(AppFilter.class);\n    filter(&quot;*&quot;).through(GuiceShiroFilter.class);\n    // pre-session tenant filter should be come after shiro filter\n    filter(&quot;*&quot;).through(PostSessionTenantFilter.class);\n\n    for (Module module : getModules()) {\n      install(module);\n    }\n\n    filter(&quot;/js/*&quot;, NoCacheFilter.STATIC_URL_PATTERNS).through(NoCacheFilter.class);\n\n    serve(&quot;/js/messages.js&quot;).with(I18nServlet.class);\n    serve(&quot;/login.jsp&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":10487879,"reputation":289,"user_id":8253322,"display_name":"Maher Ben Taleb Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657256708,"creation_date":1657205172,"question_id":72899887,"body_markdown":"I am trying to serve my login.jsp page but I always get page not found.\r\n\r\nthis is my **ConfigureServlet** method:\r\n```\r\n @Override\r\n  protected void configureServlets() {\r\n\r\n    // load application settings\r\n    AppSettings settings = AppSettings.get();\r\n\r\n    bind(ObjectMapper.class).toProvider(ObjectMapperProvider.class);\r\n\r\n    install(new JpaModule(jpaUnit, true, false));\r\n\r\n    install(\r\n        new ServletModule() {\r\n\r\n          @Override\r\n          protected void configureServlets() {\r\n            // check for CORS requests earlier\r\n            filter(&quot;*&quot;).through(CorsFilter.class);\r\n            // pre-session tenant filter should be come before PersistFilter\r\n            filter(&quot;*&quot;).through(PreSessionTenantFilter.class);\r\n            // order is important, PersistFilter must come first\r\n            filter(&quot;*&quot;).through(PersistFilter.class);\r\n            filter(&quot;*&quot;).through(AppFilter.class);\r\n            filter(&quot;*&quot;).through(GuiceShiroFilter.class);\r\n            // pre-session tenant filter should be come after shiro filter\r\n            filter(&quot;*&quot;).through(PostSessionTenantFilter.class);\r\n          }\r\n        });\r\n\r\n    for (Module module : getModules()) {\r\n      install(module);\r\n    }\r\n\r\n    filter(&quot;/js/*&quot;, NoCacheFilter.STATIC_URL_PATTERNS).through(NoCacheFilter.class);\r\n\r\n    serve(&quot;/js/messages.js&quot;).with(I18nServlet.class);\r\n    serve(&quot;/login.jsp&quot;);\r\n}\r\n```\r\nmy login page is under :\r\n**src : main : webapp: login.jsp**\r\n","title":"ServletModule : serve not finding jsp page","body":"<p>I am trying to serve my login.jsp page but I always get page not found.</p>\n<p>this is my <strong>ConfigureServlet</strong> method:</p>\n<pre><code> @Override\n  protected void configureServlets() {\n\n    // load application settings\n    AppSettings settings = AppSettings.get();\n\n    bind(ObjectMapper.class).toProvider(ObjectMapperProvider.class);\n\n    install(new JpaModule(jpaUnit, true, false));\n\n    install(\n        new ServletModule() {\n\n          @Override\n          protected void configureServlets() {\n            // check for CORS requests earlier\n            filter(&quot;*&quot;).through(CorsFilter.class);\n            // pre-session tenant filter should be come before PersistFilter\n            filter(&quot;*&quot;).through(PreSessionTenantFilter.class);\n            // order is important, PersistFilter must come first\n            filter(&quot;*&quot;).through(PersistFilter.class);\n            filter(&quot;*&quot;).through(AppFilter.class);\n            filter(&quot;*&quot;).through(GuiceShiroFilter.class);\n            // pre-session tenant filter should be come after shiro filter\n            filter(&quot;*&quot;).through(PostSessionTenantFilter.class);\n          }\n        });\n\n    for (Module module : getModules()) {\n      install(module);\n    }\n\n    filter(&quot;/js/*&quot;, NoCacheFilter.STATIC_URL_PATTERNS).through(NoCacheFilter.class);\n\n    serve(&quot;/js/messages.js&quot;).with(I18nServlet.class);\n    serve(&quot;/login.jsp&quot;);\n}\n</code></pre>\n<p>my login page is under :\n<strong>src : main : webapp: login.jsp</strong></p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":955055,"reputation":3960,"user_id":980521,"display_name":"ecle"},"score":0,"creation_date":1657243058,"post_id":72905595,"comment_id":128770474,"body_markdown":"You can check how a custom `RecyclerView.Adapter` handles the click events of a custom `RecyclerView.ViewHolder` from a fragment using a custom click listener in [GeoPackageAdapter.java](https://github.com/ngageoint/geopackage-mapcache-android/blob/04f17b05e0ce8e0da0a3fdbd5d2a3c5bcc0b79c4/mapcache/src/main/java/mil/nga/mapcache/view/GeoPackageAdapter.java)","body":"You can check how a custom <code>RecyclerView.Adapter</code> handles the click events of a custom <code>RecyclerView.ViewHolder</code> from a fragment using a custom click listener in <a href=\"https://github.com/ngageoint/geopackage-mapcache-android/blob/04f17b05e0ce8e0da0a3fdbd5d2a3c5bcc0b79c4/mapcache/src/main/java/mil/nga/mapcache/view/GeoPackageAdapter.java\" rel=\"nofollow noreferrer\">GeoPackageAdapter.java</a>"}],"answers":[{"tags":[],"owner":{"account_id":25755033,"reputation":1,"user_id":19506868,"display_name":"ye luo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657243715,"creation_date":1657243715,"answer_id":72905792,"question_id":72905595,"body_markdown":"If you want to get the click event of recyclerview item in HomeFragment ,\r\n\r\nInterface It&#39;s a good choice\r\n\r\n\r\n    //RecycleAdapter\r\n\r\n    private RecyclerViewListener  recyclerViewListener  \r\n\r\n    public void setRecyclerViewListener(RecyclerViewListener  recyclerViewListener){\r\n    this.RecyclerViewListener  recyclerViewListener ;\r\n    }\r\n\r\n    public Interface RecyclerViewListener{\r\n    void onClick(View  view);\r\n    }\r\n\r\n\r\n\r\n\r\n    class MyViewHolder extends RecyclerView.ViewHolder{\r\n    ImageView imageView;\r\n    TextView recyclertext;\r\n    public MyViewHolder(@NonNull View itemView) {\r\n        super(itemView);\r\n\r\n     \r\n        recyclertext = itemView.findViewById(R.id.recycler_text);\r\n\r\n        recyclertext .setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n              if(recyclerViewListener  !=null)recyclerViewListener.onClick(v)\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n    //HomeFragment\r\n\r\n    recycleAdapter.setRecyclerViewListener(new RecyclerViewListener{\r\n    @Override\r\n            public void onClick(View v) {\r\n            //todo\r\n\r\n            }\r\n    })\r\n\r\n","title":"Android RecyclerView - How to get items selected in Fragment class which calls CustomAdapter. I know how to use get(getAbsoluteAdapterPosition()","body":"<p>If you want to get the click event of recyclerview item in HomeFragment ,</p>\n<p>Interface It's a good choice</p>\n<pre><code>//RecycleAdapter\n\nprivate RecyclerViewListener  recyclerViewListener  \n\npublic void setRecyclerViewListener(RecyclerViewListener  recyclerViewListener){\nthis.RecyclerViewListener  recyclerViewListener ;\n}\n\npublic Interface RecyclerViewListener{\nvoid onClick(View  view);\n}\n\n\n\n\nclass MyViewHolder extends RecyclerView.ViewHolder{\nImageView imageView;\nTextView recyclertext;\npublic MyViewHolder(@NonNull View itemView) {\n    super(itemView);\n\n \n    recyclertext = itemView.findViewById(R.id.recycler_text);\n\n    recyclertext .setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n          if(recyclerViewListener  !=null)recyclerViewListener.onClick(v)\n\n        }\n    });\n\n}\n\n\n//HomeFragment\n\nrecycleAdapter.setRecyclerViewListener(new RecyclerViewListener{\n@Override\n        public void onClick(View v) {\n        //todo\n\n        }\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25192167,"reputation":339,"user_id":19374335,"display_name":"Praveen Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657256554,"creation_date":1657256554,"answer_id":72906850,"question_id":72905595,"body_markdown":"**Create Interface Class in your Project**\r\n\r\n    public interface ItemClick {\r\n    public void onClick(IconsModel IconsModel,int pos);\r\n    }\r\n \r\n**Interface class call your recyclerAdapter**\r\n\r\n    public class RecycleAdapter extends RecyclerView.Adapter&lt;RecycleAdapter.MyViewHolder&gt; {\r\n\r\n    Context context;\r\n    List&lt;IconsModel&gt; iconsList;\r\n    ItemClick click;\r\n\r\n    public TokensListAdapter(Context context, List&lt;IconsModel&gt; iconsList, ItemClick click) {\r\n        this.context = context;\r\n        this.tokensModelList = tokensModelList;\r\n        this.click = click;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public TokensListAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        LayoutInflater inflater =  LayoutInflater.from(parent.getContext());\r\n        View view = inflater.inflate(R.layout.R.layout.recycler_row_items,parent,false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull TokensListAdapter.ViewHolder holder, int position) {\r\n\r\n        IconsModel iconModel = iconsList.get(position);\r\n        holder.imageView.setImageResource(iconModel.getImageid());\r\n        holder.recyclertext.setText(iconModel.getIconName());\r\n\r\n\r\n        holder.itemView.setOnClickListener(v -&gt; {\r\n            click.onClick(iconModel,position);\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return iconsList.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        ImageView imageView;\r\n        TextView recyclertext;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            imageView = itemView.findViewById(R.id.recycler_image);\r\n            recyclertext = itemView.findViewById(R.id.recycler_text);\r\n        }\r\n      }\r\n    }\r\n\r\n**Interface Class implement Your Fragment**\r\n\r\n    public class HomeFragment  extends Fragment implements ItemClick {\r\n\r\n    //adapter assign\r\n    recycleAdapter = new RecycleAdapter(getContext,list,this);\r\n\r\n **override method import your fragment**\r\n\r\n    @Override\r\n    public void onClick(ItemCLick click, int pos) {\r\n     Toast.makeText(getContext(), &quot;Clicked&quot; + pos, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n","title":"Android RecyclerView - How to get items selected in Fragment class which calls CustomAdapter. I know how to use get(getAbsoluteAdapterPosition()","body":"<p><strong>Create Interface Class in your Project</strong></p>\n<pre><code>public interface ItemClick {\npublic void onClick(IconsModel IconsModel,int pos);\n}\n</code></pre>\n<p><strong>Interface class call your recyclerAdapter</strong></p>\n<pre><code>public class RecycleAdapter extends RecyclerView.Adapter&lt;RecycleAdapter.MyViewHolder&gt; {\n\nContext context;\nList&lt;IconsModel&gt; iconsList;\nItemClick click;\n\npublic TokensListAdapter(Context context, List&lt;IconsModel&gt; iconsList, ItemClick click) {\n    this.context = context;\n    this.tokensModelList = tokensModelList;\n    this.click = click;\n}\n\n@NonNull\n@Override\npublic TokensListAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    LayoutInflater inflater =  LayoutInflater.from(parent.getContext());\n    View view = inflater.inflate(R.layout.R.layout.recycler_row_items,parent,false);\n    return new ViewHolder(view);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull TokensListAdapter.ViewHolder holder, int position) {\n\n    IconsModel iconModel = iconsList.get(position);\n    holder.imageView.setImageResource(iconModel.getImageid());\n    holder.recyclertext.setText(iconModel.getIconName());\n\n\n    holder.itemView.setOnClickListener(v -&gt; {\n        click.onClick(iconModel,position);\n    });\n}\n\n@Override\npublic int getItemCount() {\n    return iconsList.size();\n}\n\npublic class ViewHolder extends RecyclerView.ViewHolder {\n    ImageView imageView;\n    TextView recyclertext;\n\n    public ViewHolder(@NonNull View itemView) {\n        super(itemView);\n        imageView = itemView.findViewById(R.id.recycler_image);\n        recyclertext = itemView.findViewById(R.id.recycler_text);\n    }\n  }\n}\n</code></pre>\n<p><strong>Interface Class implement Your Fragment</strong></p>\n<pre><code>public class HomeFragment  extends Fragment implements ItemClick {\n\n//adapter assign\nrecycleAdapter = new RecycleAdapter(getContext,list,this);\n</code></pre>\n<p><strong>override method import your fragment</strong></p>\n<pre><code>@Override\npublic void onClick(ItemCLick click, int pos) {\n Toast.makeText(getContext(), &quot;Clicked&quot; + pos, Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n"}],"owner":{"account_id":10563957,"reputation":11,"user_id":7782800,"display_name":"appsy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657256554,"creation_date":1657241331,"question_id":72905595,"body_markdown":"Below recycler view  code is working fine and I can Toast message what recycler view position was selected in RecycleAdapter class. But I want to know how can I get what recycler position selected in HomeFragment class?. I tried to get position by setting onclick listener to Imageview and Textview but gives error as reference to Null. Basically I want to use get(getAbsoluteAdapterPosition() in HomeFragment class to know what item selected and navigate to another Fragment. get(getAbsoluteAdapterPosition() is working as expected inside RecycleAdapter.class\r\n\r\nbinding.recyclerview.setOnClickListener is not working in HomeFragment.class. no error but no when I click on recycler views this is not shooted.\r\n\r\ntxt.setOnClickListener is giving error as null refernce which makes sense. because this is inflated in Adapter class but trying to refer in HomeFragement class. So how can I get what selected in homefragment.class. Thanks in advance\r\n\r\n\r\nHomeFragment.class\r\n&#39;&#39;&#39;\r\n\r\n    public class HomeFragment extends Fragment {\r\n        HomeFragmentBinding binding;\r\n        @Override\r\n        public void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            View v = inflater.inflate(R.id.home_fragment, container, false);\r\n            return v;\r\n        }\r\n    \r\n        public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n    \r\n            %% some code here %%\r\n            recycleAdapter = new RecycleAdapter(list);\r\n    \r\n            binding.recyclerview.setAdapter(recycleAdapter);\r\n    \r\n            TextView txt = (TextView) binding.getRoot().findViewById(R.id.recycler_text);\r\n            txt.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Toast.makeText(getContext(), &quot;Clicked on Image&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n    \r\n            binding.recyclerview.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Toast.makeText(getContext(), &quot;RecyclerView clicked&quot;, Toast.LENGTH_SHORT).show();\r\n                    Log.d(&quot;RecyclerViewclicked&quot;, &quot; --- &quot;);\r\n                }\r\n            });\r\n\r\n&#39;&#39;&#39;\r\n&gt;\r\nRecycleAdapter.class\r\n\r\n\r\n\r\n&#39;&#39;&#39;\r\n\r\n    public class RecycleAdapter extends RecyclerView.Adapter&lt;RecycleAdapter.MyViewHolder&gt;{\r\n        RecyclerRowItemsBinding binding;\r\n        List&lt;IconsModel&gt; iconsList;\r\n        public RecycleAdapter(List&lt;IconsModel&gt; iconslist) {\r\n            this.iconsList = iconslist;\r\n        }\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        LayoutInflater inflator = LayoutInflater.from(parent.getContext());\r\n        View v = inflator.inflate(R.layout.recycler_row_items, parent, false);\r\n        MyViewHolder myviewholder = new MyViewHolder(v);\r\n        return myviewholder;\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        IconsModel iconModel = iconsList.get(position);\r\n        holder.imageView.setImageResource(iconModel.getImageid());\r\n        holder.recyclertext.setText(iconModel.getIconName());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        //return 20;\r\n        return iconsList.size();\r\n    }\r\n\r\n    class MyViewHolder extends RecyclerView.ViewHolder{\r\n        ImageView imageView;\r\n        TextView recyclertext;\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            imageView = itemView.findViewById(R.id.recycler_image);\r\n            recyclertext = itemView.findViewById(R.id.recycler_text);\r\n\r\n            itemView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    IconsModel iconModel = iconsList.get(getAbsoluteAdapterPosition());\r\n                    Toast.makeText(***itemView.getContext(), &quot;Clicked on &quot;+iconModel.getIconName()***, Toast.LENGTH_SHORT).show();\r\n\r\n                }\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n    ;\r\n}\r\n&#39;&#39;&#39;\r\n\r\nhome_fragment.xml\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    \r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/recyclerview&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            tools:layout_editor_absoluteX=&quot;1dp&quot;\r\n            tools:layout_editor_absoluteY=&quot;1dp&quot;\r\n            app:layoutManager=&quot;androidx.recyclerview.widget.GridLayoutManager&quot;/&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n&#39;&#39;&#39;\r\nrecycler_row.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:layout_margin=&quot;5dp&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        app:cardCornerRadius=&quot;5dp&quot;\r\n        app:cardElevation=&quot;5dp&quot;\r\n        app:cardBackgroundColor=&quot;@color/home_bg_cardview&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;?attr/selectableItemBackground&quot;\r\n            android:backgroundTint=&quot;@color/home_bg_cardview&quot;\r\n            android:weightSum=&quot;2&quot;&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/recycler_image&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;120dp&quot;\r\n                android:layout_weight=&quot;0.5&quot;\r\n                app:srcCompat=&quot;?android:attr/actionModeWebSearchDrawable&quot;\r\n                tools:ignore=&quot;ContentDescription&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/recycler_text&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_marginBottom=&quot;29dp&quot;\r\n                android:layout_weight=&quot;1.5&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;Browse Items&quot;\r\n                android:textAlignment=&quot;center&quot;\r\n                android:textSize=&quot;24sp&quot; /&gt;\r\n    \r\n        &lt;/LinearLayout&gt;\r\n    &lt;/androidx.cardview.widget.CardView&gt;","title":"Android RecyclerView - How to get items selected in Fragment class which calls CustomAdapter. I know how to use get(getAbsoluteAdapterPosition()","body":"<p>Below recycler view  code is working fine and I can Toast message what recycler view position was selected in RecycleAdapter class. But I want to know how can I get what recycler position selected in HomeFragment class?. I tried to get position by setting onclick listener to Imageview and Textview but gives error as reference to Null. Basically I want to use get(getAbsoluteAdapterPosition() in HomeFragment class to know what item selected and navigate to another Fragment. get(getAbsoluteAdapterPosition() is working as expected inside RecycleAdapter.class</p>\n<p>binding.recyclerview.setOnClickListener is not working in HomeFragment.class. no error but no when I click on recycler views this is not shooted.</p>\n<p>txt.setOnClickListener is giving error as null refernce which makes sense. because this is inflated in Adapter class but trying to refer in HomeFragement class. So how can I get what selected in homefragment.class. Thanks in advance</p>\n<p>HomeFragment.class\n'''</p>\n<pre><code>public class HomeFragment extends Fragment {\n    HomeFragmentBinding binding;\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View v = inflater.inflate(R.id.home_fragment, container, false);\n        return v;\n    }\n\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n\n        %% some code here %%\n        recycleAdapter = new RecycleAdapter(list);\n\n        binding.recyclerview.setAdapter(recycleAdapter);\n\n        TextView txt = (TextView) binding.getRoot().findViewById(R.id.recycler_text);\n        txt.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Toast.makeText(getContext(), &quot;Clicked on Image&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n        binding.recyclerview.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Toast.makeText(getContext(), &quot;RecyclerView clicked&quot;, Toast.LENGTH_SHORT).show();\n                Log.d(&quot;RecyclerViewclicked&quot;, &quot; --- &quot;);\n            }\n        });\n</code></pre>\n<p>'''</p>\n<blockquote>\n</blockquote>\n<p>RecycleAdapter.class</p>\n<p>'''</p>\n<pre><code>public class RecycleAdapter extends RecyclerView.Adapter&lt;RecycleAdapter.MyViewHolder&gt;{\n    RecyclerRowItemsBinding binding;\n    List&lt;IconsModel&gt; iconsList;\n    public RecycleAdapter(List&lt;IconsModel&gt; iconslist) {\n        this.iconsList = iconslist;\n    }\n@NonNull\n@Override\npublic MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    LayoutInflater inflator = LayoutInflater.from(parent.getContext());\n    View v = inflator.inflate(R.layout.recycler_row_items, parent, false);\n    MyViewHolder myviewholder = new MyViewHolder(v);\n    return myviewholder;\n}\n\n@Override\npublic void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n    IconsModel iconModel = iconsList.get(position);\n    holder.imageView.setImageResource(iconModel.getImageid());\n    holder.recyclertext.setText(iconModel.getIconName());\n}\n\n@Override\npublic int getItemCount() {\n    //return 20;\n    return iconsList.size();\n}\n\nclass MyViewHolder extends RecyclerView.ViewHolder{\n    ImageView imageView;\n    TextView recyclertext;\n    public MyViewHolder(@NonNull View itemView) {\n        super(itemView);\n\n        imageView = itemView.findViewById(R.id.recycler_image);\n        recyclertext = itemView.findViewById(R.id.recycler_text);\n\n        itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                IconsModel iconModel = iconsList.get(getAbsoluteAdapterPosition());\n                Toast.makeText(***itemView.getContext(), &quot;Clicked on &quot;+iconModel.getIconName()***, Toast.LENGTH_SHORT).show();\n\n            }\n        });\n\n    }\n}\n\n;\n</code></pre>\n<p>}\n'''</p>\n<p>home_fragment.xml</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recyclerview&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        tools:layout_editor_absoluteX=&quot;1dp&quot;\n        tools:layout_editor_absoluteY=&quot;1dp&quot;\n        app:layoutManager=&quot;androidx.recyclerview.widget.GridLayoutManager&quot;/&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>'''\nrecycler_row.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_gravity=&quot;center&quot;\n    android:layout_margin=&quot;5dp&quot;\n    android:orientation=&quot;horizontal&quot;\n    app:cardCornerRadius=&quot;5dp&quot;\n    app:cardElevation=&quot;5dp&quot;\n    app:cardBackgroundColor=&quot;@color/home_bg_cardview&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;?attr/selectableItemBackground&quot;\n        android:backgroundTint=&quot;@color/home_bg_cardview&quot;\n        android:weightSum=&quot;2&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/recycler_image&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;120dp&quot;\n            android:layout_weight=&quot;0.5&quot;\n            app:srcCompat=&quot;?android:attr/actionModeWebSearchDrawable&quot;\n            tools:ignore=&quot;ContentDescription&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/recycler_text&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_marginBottom=&quot;29dp&quot;\n            android:layout_weight=&quot;1.5&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;Browse Items&quot;\n            android:textAlignment=&quot;center&quot;\n            android:textSize=&quot;24sp&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653295460,"creation_date":1653295460,"answer_id":72345637,"question_id":72339562,"body_markdown":"&gt; I want to update the above record but when I update that it updates the parent (user) node instead of the child.\r\n\r\nThat&#39;s the expected behavior since your calling `updateChildren()` on the following reference:\r\n\r\n    FirebaseDatabase.getInstance().getReference().child(&quot;User&quot;);\r\n\r\nWhich points exactly to the `User` node. If you want to update the child, you have to add the key to the reference:\r\n\r\n    DatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n    DatabaseReference childRef = db.child(&quot;User&quot;).child(&quot;-N2gd...8-6b&quot;); &#128072;\r\n    childRef.updateChildren(m).addOnSuccessListener(/* ... /*);\r\n\r\nSo the key to solving this problem is to add the key of the node in your reference. If you didn&#39;t store the key yet, then please check the answer from the following post:\r\n\r\n* https://stackoverflow.com/questions/45199583/how-to-get-a-key-of-an-object-that-was-pushed-just-now-in-firebase","title":"Updating data in firebase realtime database","body":"<blockquote>\n<p>I want to update the above record but when I update that it updates the parent (user) node instead of the child.</p>\n</blockquote>\n<p>That's the expected behavior since your calling <code>updateChildren()</code> on the following reference:</p>\n<pre><code>FirebaseDatabase.getInstance().getReference().child(&quot;User&quot;);\n</code></pre>\n<p>Which points exactly to the <code>User</code> node. If you want to update the child, you have to add the key to the reference:</p>\n<pre><code>DatabaseReference db = FirebaseDatabase.getInstance().getReference();\nDatabaseReference childRef = db.child(&quot;User&quot;).child(&quot;-N2gd...8-6b&quot;); 👈\nchildRef.updateChildren(m).addOnSuccessListener(/* ... /*);\n</code></pre>\n<p>So the key to solving this problem is to add the key of the node in your reference. If you didn't store the key yet, then please check the answer from the following post:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/45199583/how-to-get-a-key-of-an-object-that-was-pushed-just-now-in-firebase\">How to get a key of an object that was pushed just now in Firebase?</a></li>\n</ul>\n"}],"owner":{"account_id":24300835,"reputation":21,"user_id":18244357,"display_name":"Fatima_Afzaal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1657256112,"creation_date":1653238201,"question_id":72339562,"body_markdown":"I want to update the above record but when I update that it updates the parent (user) instead of the child.\r\n\r\n\r\n\r\n\r\n      `     button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                sendNotification();\r\n                Toast.makeText(MainActivity2.this, str, Toast.LENGTH_SHORT).show();\r\n                HashMap&lt;String, Object&gt; m = new HashMap&lt;String, Object&gt;();\r\n                Intent intent = getIntent();\r\n                String ID=intent.getStringExtra(&quot;counter&quot;);\r\n                String email = intent.getStringExtra(&quot;email&quot;);\r\n                m.put(&quot;ID&quot;,ID);\r\n                m.put(&quot;Email&quot;, email);\r\n                if(s!=&quot;Query&quot; &amp;&amp; s!=&quot;Resource&quot;)\r\n                m.put(&quot;Complain&quot;, t.getText().toString());\r\n                else if(s!=&quot;Complain&quot; &amp;&amp; s!=&quot;Resource&quot;)\r\n                m.put(&quot;Query&quot;, t.getText().toString());\r\n                else\r\n                m.put(&quot;Resources&quot;,t.getText().toString());\r\n                m.put(&quot;Time&quot;, &quot;&quot;);\r\n                m.put(&quot;Feedback&quot;, &quot;Pending&quot;);\r\n                FirebaseDatabase.getInstance().getReference().child(&quot;User&quot;).updateChildren(m).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Void unused) {\r\n                        Toast.makeText(MainActivity2.this, &quot;Your data is successfully updated&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n\r\n            }\r\n        });`\r\n\r\nDB structure:  \r\n![DB structure][1]\r\n \r\n\r\n  [1]: https://i.stack.imgur.com/ha4GN.png","title":"Updating data in firebase realtime database","body":"<p>I want to update the above record but when I update that it updates the parent (user) instead of the child.</p>\n<pre><code>  `     button.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            sendNotification();\n            Toast.makeText(MainActivity2.this, str, Toast.LENGTH_SHORT).show();\n            HashMap&lt;String, Object&gt; m = new HashMap&lt;String, Object&gt;();\n            Intent intent = getIntent();\n            String ID=intent.getStringExtra(&quot;counter&quot;);\n            String email = intent.getStringExtra(&quot;email&quot;);\n            m.put(&quot;ID&quot;,ID);\n            m.put(&quot;Email&quot;, email);\n            if(s!=&quot;Query&quot; &amp;&amp; s!=&quot;Resource&quot;)\n            m.put(&quot;Complain&quot;, t.getText().toString());\n            else if(s!=&quot;Complain&quot; &amp;&amp; s!=&quot;Resource&quot;)\n            m.put(&quot;Query&quot;, t.getText().toString());\n            else\n            m.put(&quot;Resources&quot;,t.getText().toString());\n            m.put(&quot;Time&quot;, &quot;&quot;);\n            m.put(&quot;Feedback&quot;, &quot;Pending&quot;);\n            FirebaseDatabase.getInstance().getReference().child(&quot;User&quot;).updateChildren(m).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                @Override\n                public void onSuccess(Void unused) {\n                    Toast.makeText(MainActivity2.this, &quot;Your data is successfully updated&quot;, Toast.LENGTH_SHORT).show();\n                }\n            });\n\n        }\n    });`\n</code></pre>\n<p>DB structure:<br />\n<img src=\"https://i.stack.imgur.com/ha4GN.png\" alt=\"DB structure\" /></p>\n"},{"tags":["java","spring-boot","eclipse","rest"],"comments":[{"owner":{"account_id":19554364,"reputation":29,"user_id":14309150,"display_name":"Satyabrata Sahoo"},"score":0,"creation_date":1657201882,"post_id":72898350,"comment_id":128758687,"body_markdown":"I did it my own.","body":"I did it my own."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1657202323,"post_id":72898350,"comment_id":128758891,"body_markdown":"If you figured out a solution, it&#39;s best to post it as an answer and accept, so people will be aware that it&#39;s answered.","body":"If you figured out a solution, it&#39;s best to post it as an answer and accept, so people will be aware that it&#39;s answered."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1657202516,"post_id":72898350,"comment_id":128758983,"body_markdown":"Tbh, your solution looks wrong for login check -  you will login student `A`, even if input password is wrong, but there exist student `B` with inputted password.","body":"Tbh, your solution looks wrong for login check -  you will login student <code>A</code>, even if input password is wrong, but there exist student <code>B</code> with inputted password."},{"owner":{"account_id":19554364,"reputation":29,"user_id":14309150,"display_name":"Satyabrata Sahoo"},"score":0,"creation_date":1657255029,"post_id":72898350,"comment_id":128772093,"body_markdown":"Correct, It is logging in with A&#39;s email and B&#39;s Password. How can I overcome this problem?","body":"Correct, It is logging in with A&#39;s email and B&#39;s Password. How can I overcome this problem?"}],"answers":[{"tags":[],"owner":{"account_id":19170942,"reputation":33,"user_id":14004705,"display_name":"Veidt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657199518,"creation_date":1657199518,"answer_id":72898453,"question_id":72898350,"body_markdown":"In your @Repository you need a `findByEmail` method, either with @Query annotation and your implementation or shipped with spring naming conventions(in that case read about Spring JpaRepository).\r\nThis method should return whole Student object and you can check its password.","title":"How can I check if email and password exists for same student?[Spring Boot API]","body":"<p>In your @Repository you need a <code>findByEmail</code> method, either with @Query annotation and your implementation or shipped with spring naming conventions(in that case read about Spring JpaRepository).\nThis method should return whole Student object and you can check its password.</p>\n"},{"tags":[],"owner":{"account_id":13689867,"reputation":66,"user_id":9877961,"display_name":"Jelly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657213248,"creation_date":1657213248,"answer_id":72901722,"question_id":72898350,"body_markdown":"Your solution seems wrong since it could return false positives.\r\n\r\nYour solution:\r\n\r\n    @PostMapping(&quot;/login&quot;)\r\n    public String login(@RequestBody Student student) {\r\n        if(studentService.existsByEmail(student.getEmail())) {\r\n            if(studentService.existsByPassword(student.getPassword())) {\r\n                return &quot;student Exists&quot;;\r\n            }\r\n            return &quot;Incorrect Password&quot;;\r\n        }\r\n        return &quot;Student doesn&#39;t exist with this email id:- &quot; + student.getEmail() ;\r\n    }\r\n\r\n\r\n\r\nLet&#39;s say there are 2 students, Mark with email address &quot;mark@student.com&quot; and password &quot;markymark&quot;, and Kim with email address &quot;kim@student.com&quot; and password &quot;kimmykimkim&quot;. \r\n\r\nIf your request specifies email &quot;mark@student.com&quot; and password &quot;kimmykimkim&quot; then the code in your solution would return &quot;student Exists&quot;. mark@student.com does indeed exist, however, their password is not &quot;kimmykimkim&quot;.\r\n\r\nYou could fix it by adding and using the following repository method:\r\n\r\n    existsByEmailAndPassword(String email, String password);\r\n\r\nIs this for a school assignment? If not you should consider storing your passwords encrypted. You&#39;d then first need to retrieve the password of a student, given their email address. Then you need to compare the plaintext password to the encrypted password using a password encoder. [This](https://docs.spring.io/spring-security/reference/features/authentication/password-storage.html) spring security reference can be useful.","title":"How can I check if email and password exists for same student?[Spring Boot API]","body":"<p>Your solution seems wrong since it could return false positives.</p>\n<p>Your solution:</p>\n<pre><code>@PostMapping(&quot;/login&quot;)\npublic String login(@RequestBody Student student) {\n    if(studentService.existsByEmail(student.getEmail())) {\n        if(studentService.existsByPassword(student.getPassword())) {\n            return &quot;student Exists&quot;;\n        }\n        return &quot;Incorrect Password&quot;;\n    }\n    return &quot;Student doesn't exist with this email id:- &quot; + student.getEmail() ;\n}\n</code></pre>\n<p>Let's say there are 2 students, Mark with email address &quot;mark@student.com&quot; and password &quot;markymark&quot;, and Kim with email address &quot;kim@student.com&quot; and password &quot;kimmykimkim&quot;.</p>\n<p>If your request specifies email &quot;mark@student.com&quot; and password &quot;kimmykimkim&quot; then the code in your solution would return &quot;student Exists&quot;. mark@student.com does indeed exist, however, their password is not &quot;kimmykimkim&quot;.</p>\n<p>You could fix it by adding and using the following repository method:</p>\n<pre><code>existsByEmailAndPassword(String email, String password);\n</code></pre>\n<p>Is this for a school assignment? If not you should consider storing your passwords encrypted. You'd then first need to retrieve the password of a student, given their email address. Then you need to compare the plaintext password to the encrypted password using a password encoder. <a href=\"https://docs.spring.io/spring-security/reference/features/authentication/password-storage.html\" rel=\"nofollow noreferrer\">This</a> spring security reference can be useful.</p>\n"}],"owner":{"account_id":19554364,"reputation":29,"user_id":14309150,"display_name":"Satyabrata Sahoo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72901722,"answer_count":2,"score":0,"last_activity_date":1657255971,"creation_date":1657199114,"question_id":72898350,"body_markdown":"I have database table called student, contains fname, lname, city, email &amp; password. I want to create an Spring boot API, which will check email &amp; password for login purpose. I have tried something but this is checking email in total student table and password in total student table. \r\n\r\n**I want to find email first then check if given password exists for same email.**\r\n\r\nPlease help me over here.\r\nMy code in controller:- \r\n```\r\n@GetMapping(&quot;login/{email}/{pass}&quot;)\r\npublic String login(@PathVariable(&quot;email&quot;) String email, @PathVariable(&quot;pass&quot;) String pass) {\r\n\t\t\r\n\t\tBoolean isEmail = studentService.existsByEmail(student.getEmail());\r\n\t\tBoolean isPassword = studentService.existsByPassword(student.getPassword());\r\n\t\tif(isEmail) {\r\n\t\t\tif(isPassword) {\r\n\t\t\t\treturn &quot;student exists&quot;;\r\n\t\t\t}\r\n\t\t\treturn &quot;Not found&quot;;\r\n\t\t}\r\n\t\treturn &quot;Did Not found&quot;;\r\n\t}\r\n```\r\nFinal Solution:- (Special thanks to all.)\r\n```\r\n@PostMapping(&quot;/login&quot;)\r\n\tpublic String login(@RequestBody Student student) {\r\n\t\tif(studentService.existsByEmailAndPassword(student.getEmail(), student.getPassword())) {\r\n\t\t\tString resultString = &quot;Logged in Successfully&quot;;\r\n\t\t\treturn resultString;\r\n\t\t}\r\n\t\treturn &quot;Student doesn&#39;t exist with the given email id:- &quot; + student.getEmail();\r\n\t}\r\n```\r\n\r\n","title":"How can I check if email and password exists for same student?[Spring Boot API]","body":"<p>I have database table called student, contains fname, lname, city, email &amp; password. I want to create an Spring boot API, which will check email &amp; password for login purpose. I have tried something but this is checking email in total student table and password in total student table.</p>\n<p><strong>I want to find email first then check if given password exists for same email.</strong></p>\n<p>Please help me over here.\nMy code in controller:-</p>\n<pre><code>@GetMapping(&quot;login/{email}/{pass}&quot;)\npublic String login(@PathVariable(&quot;email&quot;) String email, @PathVariable(&quot;pass&quot;) String pass) {\n        \n        Boolean isEmail = studentService.existsByEmail(student.getEmail());\n        Boolean isPassword = studentService.existsByPassword(student.getPassword());\n        if(isEmail) {\n            if(isPassword) {\n                return &quot;student exists&quot;;\n            }\n            return &quot;Not found&quot;;\n        }\n        return &quot;Did Not found&quot;;\n    }\n</code></pre>\n<p>Final Solution:- (Special thanks to all.)</p>\n<pre><code>@PostMapping(&quot;/login&quot;)\n    public String login(@RequestBody Student student) {\n        if(studentService.existsByEmailAndPassword(student.getEmail(), student.getPassword())) {\n            String resultString = &quot;Logged in Successfully&quot;;\n            return resultString;\n        }\n        return &quot;Student doesn't exist with the given email id:- &quot; + student.getEmail();\n    }\n</code></pre>\n"},{"tags":["java","spring","hibernate","blob","jbpm"],"comments":[{"owner":{"account_id":8888106,"reputation":1254,"user_id":6635754,"display_name":"Abbas Kararawala"},"score":1,"creation_date":1657815866,"post_id":72906717,"comment_id":128905540,"body_markdown":"which version of jbpm do you target for your upgrade FYI latest jbpm support hibernate - 5.3.20.Final - reference: https://github.com/kiegroup/droolsjbpm-build-bootstrap/blob/main/pom.xml","body":"which version of jbpm do you target for your upgrade FYI latest jbpm support hibernate - 5.3.20.Final - reference: <a href=\"https://github.com/kiegroup/droolsjbpm-build-bootstrap/blob/main/pom.xml\" rel=\"nofollow noreferrer\">github.com/kiegroup/droolsjbpm-build-bootstrap/blob/main/&hellip;</a>"},{"owner":{"account_id":49179,"reputation":297,"user_id":146355,"accept_rate":15,"display_name":"Maria"},"score":0,"creation_date":1658225931,"post_id":72906717,"comment_id":128993321,"body_markdown":"We are using JBPM version &quot;5.4.0.Final&quot; &amp; Drools version &quot;5.5.0.Final&quot;. Which version we should choose for the upgrade activity(latest or version lower than the latest). Do we have any scripts to upgrade from &quot;5.4.0.Final&quot; to the suggested version? if so could you share those details?","body":"We are using JBPM version &quot;5.4.0.Final&quot; &amp; Drools version &quot;5.5.0.Final&quot;. Which version we should choose for the upgrade activity(latest or version lower than the latest). Do we have any scripts to upgrade from &quot;5.4.0.Final&quot; to the suggested version? if so could you share those details?"},{"owner":{"account_id":49179,"reputation":297,"user_id":146355,"accept_rate":15,"display_name":"Maria"},"score":0,"creation_date":1658425111,"post_id":72906717,"comment_id":129054386,"body_markdown":"Do we have any scripts to upgrade from &quot;JBPM 5.4.0.Final&quot; to the latest version? if so could you share those details?","body":"Do we have any scripts to upgrade from &quot;JBPM 5.4.0.Final&quot; to the latest version? if so could you share those details?"},{"owner":{"account_id":8888106,"reputation":1254,"user_id":6635754,"display_name":"Abbas Kararawala"},"score":0,"creation_date":1658474758,"post_id":72906717,"comment_id":129064577,"body_markdown":"db scripts you can find here - https://github.com/kiegroup/jbpm/tree/main/jbpm-db-scripts/src/main/resources/db : apply till the version you&#39;re targetting for update. i would suggest to downgrade your hibernate version to what is currently supported","body":"db scripts you can find here - <a href=\"https://github.com/kiegroup/jbpm/tree/main/jbpm-db-scripts/src/main/resources/db\" rel=\"nofollow noreferrer\">github.com/kiegroup/jbpm/tree/main/jbpm-db-scripts/src/main/&zwnj;&#8203;&hellip;</a> : apply till the version you&#39;re targetting for update. i would suggest to downgrade your hibernate version to what is currently supported"}],"owner":{"account_id":49179,"reputation":297,"user_id":146355,"accept_rate":15,"display_name":"Maria"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657255678,"creation_date":1657255264,"question_id":72906717,"body_markdown":"We have migrated spring (from &quot;3.1.1.RELEASE&quot; to &quot;5.3.20&quot;) &amp; hibernate (&quot;3.6.9.Final&quot; to &quot;5.6.9.Final&quot;) whereas JBPM remains same version(&quot;5.4.0.Final&quot;). Due to hibernate upgrade the blob type in the file &quot;ProcessInstanceInfo.hbm.xml&quot; doesn&#39;t support it. So I have changed the blob type from &quot;org.hibernate.type.PrimitiveByteArrayBlobType&quot; to &quot;org.hibernate.type.MaterializedBlobType&quot; in ProcessInstanceInfo.hbm.xml. After the change, the &quot;@Pre-Update&quot; method doesn&#39;t get invoked due to which the process instance blob is not updated (Set as NULL in the database) which impacts the task creation i.e task cannot be created. We have planned to upgrade the JBPM later.","title":"Pre-Update method doesn&#39;t get invoked","body":"<p>We have migrated spring (from &quot;3.1.1.RELEASE&quot; to &quot;5.3.20&quot;) &amp; hibernate (&quot;3.6.9.Final&quot; to &quot;5.6.9.Final&quot;) whereas JBPM remains same version(&quot;5.4.0.Final&quot;). Due to hibernate upgrade the blob type in the file &quot;ProcessInstanceInfo.hbm.xml&quot; doesn't support it. So I have changed the blob type from &quot;org.hibernate.type.PrimitiveByteArrayBlobType&quot; to &quot;org.hibernate.type.MaterializedBlobType&quot; in ProcessInstanceInfo.hbm.xml. After the change, the &quot;@Pre-Update&quot; method doesn't get invoked due to which the process instance blob is not updated (Set as NULL in the database) which impacts the task creation i.e task cannot be created. We have planned to upgrade the JBPM later.</p>\n"},{"tags":["java","websphere","ibm-mq"],"answers":[{"tags":[],"owner":{"account_id":895964,"reputation":15035,"user_id":933250,"accept_rate":77,"display_name":"Shashi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657253081,"creation_date":1656634776,"answer_id":72823233,"question_id":72820088,"body_markdown":"I can see two problems in your code.\r\n1) There is no connection.Start() method call after setting message listener. Without calling connection.Start method, message delivery will not start. I wonder how application received message(s) without Start().\r\n\r\n2) Your application is exiting immediately after \r\n\r\n`&quot;System.out.println(&quot;=======connection happened=========&quot;);&quot;`. \r\n\r\nSince onMessage method gets called on a separate thread, you need to make your main thread wait till message processing is complete.\r\n\r\nTweak your applications to something like:\r\n\r\n       //... other code\r\n\r\n       receiver.setMessageListener(this);\r\n       con.start();\r\n       System.out.println(&quot;=======connection happened=========&quot;);\r\n       // Wait for a key to be hit.\r\n       System.in.read();\r\n\r\nHope this helps.\r\n\r\n\r\n**Further updates 8th July:**\r\nYou have two threads in your application:\r\n1) Main thread that creates connection, consumer and a message listener. Attaches the message listener to a consumer. \r\n2) Message listner thread - this is invoked by MQ libraries to deliver messages to your application.\r\n\r\nThe main thread controls the life cycle of your application. If that ends, all other threads in your application also end. Dont expect the message listner thread to run even after main thread ends. This is basic threading concepts, nothing specific to message listener. There is no issue here with message listener, it is working as designed.\r\n\r\nJMS is an API specification only, not an implementation. Many vendors like MQ JMS implement the specifications. \r\n\r\nInstead of using asynchronous consumer, you might want to use synchronous consumer.recieve(&lt;timeout&gt;) or consumer.receiveNoWait() methods on the main thread itself. These APIs retrieve messages if available or return null if there are no messages. You can check for null and exit.\r\n\r\nHope this helps.","title":"Unable to consume messages or only one message is getting retrieved while connecting to IBM MQ asynchronous?","body":"<p>I can see two problems in your code.</p>\n<ol>\n<li><p>There is no connection.Start() method call after setting message listener. Without calling connection.Start method, message delivery will not start. I wonder how application received message(s) without Start().</p>\n</li>\n<li><p>Your application is exiting immediately after</p>\n</li>\n</ol>\n<p><code>&quot;System.out.println(&quot;=======connection happened=========&quot;);&quot;</code>.</p>\n<p>Since onMessage method gets called on a separate thread, you need to make your main thread wait till message processing is complete.</p>\n<p>Tweak your applications to something like:</p>\n<pre><code>   //... other code\n\n   receiver.setMessageListener(this);\n   con.start();\n   System.out.println(&quot;=======connection happened=========&quot;);\n   // Wait for a key to be hit.\n   System.in.read();\n</code></pre>\n<p>Hope this helps.</p>\n<p><strong>Further updates 8th July:</strong>\nYou have two threads in your application:</p>\n<ol>\n<li>Main thread that creates connection, consumer and a message listener. Attaches the message listener to a consumer.</li>\n<li>Message listner thread - this is invoked by MQ libraries to deliver messages to your application.</li>\n</ol>\n<p>The main thread controls the life cycle of your application. If that ends, all other threads in your application also end. Dont expect the message listner thread to run even after main thread ends. This is basic threading concepts, nothing specific to message listener. There is no issue here with message listener, it is working as designed.</p>\n<p>JMS is an API specification only, not an implementation. Many vendors like MQ JMS implement the specifications.</p>\n<p>Instead of using asynchronous consumer, you might want to use synchronous consumer.recieve() or consumer.receiveNoWait() methods on the main thread itself. These APIs retrieve messages if available or return null if there are no messages. You can check for null and exit.</p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":17993658,"reputation":51,"user_id":13077202,"display_name":"Prasad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657255516,"creation_date":1656611564,"question_id":72820088,"body_markdown":"I had written a java code to consume messages from IBM MQ.. but while executing the code some times only one message is getting consumed and the process is stopping .. some times no messages are not getting consumed at all.. i  had written an asynchronous connection using setMessageListener() but i am not sure where the program is getting wrong. The below code \r\n\r\n```\r\n\r\npublic class MQConnectivity implements MessageListener {\r\n\t\r\n\tMQQueueConnectionFactory factory = new MQQueueConnectionFactory();\r\n\tQueueConnection con;\r\n\tQueue queue;\r\n\tQueueSession session;\r\n\tQueueReceiver receiver;\r\n\t\r\n\tpublic void init() {\r\n\t\ttry {\r\n\t\t\tfactory.setHostName(&quot;******&quot;);\r\n\t\t\tfactory.setPort(123);\r\n\t\t\tfactory.setChannel(&quot;Channel1&quot;);\r\n\t\t\tfactory.setQueueManager(&quot;queue_manager&quot;);\r\n\t\t\tfactory.setTransportType(new Integer(WMQConstants.WMQ_CM_CLIENT));\r\n\t\t\tcon=factory.createQueueConnection(&quot;user1&quot;,&quot; password1&quot;);\r\n\t\t\tqueue= new MQQueue(&quot;myQueue&quot;);\r\n\t\t\tsession=con.createQueueSession(false, Session.AUTO_ACKNOWLEDGE);\r\n\t\t\treceiver=session.createReceiver(queue);\r\n\t\t\treceiver.setMessageListener(this);\r\n\t\t\tSystem.out.println(&quot;=======connection happened=========&quot;);\r\n            con.start();\r\n            System.out.println(&quot;=======connection started=========&quot;);\r\n\t\t}catch(Exception ex) {\r\n\t\t\tSystem.out.println(&quot;exception is : &quot;+ex);\r\n\t\t}\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tnew MQConnectivity().init();\r\n\r\n\t}\r\n\t@Override\r\n\tpublic void onMessage(Message msg) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\ttry {\r\n\t\tSystem.out.println(&quot;Inside onMessage method&quot;);\r\n\t\tTextMessage txtMsg=(TextMessage)msg;\r\n\t\tSystem.out.println(txtMsg.getText());\r\n\t\t}catch(Exception ex) {\r\n\t\t\tSystem.out.println(&quot;error in onMessage&quot;+ex);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n   \r\n```\r\n ","title":"Unable to consume messages or only one message is getting retrieved while connecting to IBM MQ asynchronous?","body":"<p>I had written a java code to consume messages from IBM MQ.. but while executing the code some times only one message is getting consumed and the process is stopping .. some times no messages are not getting consumed at all.. i  had written an asynchronous connection using setMessageListener() but i am not sure where the program is getting wrong. The below code</p>\n<pre><code>\npublic class MQConnectivity implements MessageListener {\n    \n    MQQueueConnectionFactory factory = new MQQueueConnectionFactory();\n    QueueConnection con;\n    Queue queue;\n    QueueSession session;\n    QueueReceiver receiver;\n    \n    public void init() {\n        try {\n            factory.setHostName(&quot;******&quot;);\n            factory.setPort(123);\n            factory.setChannel(&quot;Channel1&quot;);\n            factory.setQueueManager(&quot;queue_manager&quot;);\n            factory.setTransportType(new Integer(WMQConstants.WMQ_CM_CLIENT));\n            con=factory.createQueueConnection(&quot;user1&quot;,&quot; password1&quot;);\n            queue= new MQQueue(&quot;myQueue&quot;);\n            session=con.createQueueSession(false, Session.AUTO_ACKNOWLEDGE);\n            receiver=session.createReceiver(queue);\n            receiver.setMessageListener(this);\n            System.out.println(&quot;=======connection happened=========&quot;);\n            con.start();\n            System.out.println(&quot;=======connection started=========&quot;);\n        }catch(Exception ex) {\n            System.out.println(&quot;exception is : &quot;+ex);\n        }\n    }\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        new MQConnectivity().init();\n\n    }\n    @Override\n    public void onMessage(Message msg) {\n        // TODO Auto-generated method stub\n        try {\n        System.out.println(&quot;Inside onMessage method&quot;);\n        TextMessage txtMsg=(TextMessage)msg;\n        System.out.println(txtMsg.getText());\n        }catch(Exception ex) {\n            System.out.println(&quot;error in onMessage&quot;+ex);\n        }\n    }\n\n}\n\n   \n</code></pre>\n"},{"tags":["java","spring","spring-boot","swagger-2.0","springfox"],"comments":[{"owner":{"account_id":6410870,"reputation":1740,"user_id":4970679,"display_name":"ahuemmer"},"score":1,"creation_date":1657085548,"post_id":72870322,"comment_id":128722426,"body_markdown":"Welcome to SO. It would be nice if you would not just throw your code and error message at us, but also write a few sentences about what you want to achieve and what you tried so far. Also, please make use of the formatting possibilities we provide also for your error logs.","body":"Welcome to SO. It would be nice if you would not just throw your code and error message at us, but also write a few sentences about what you want to achieve and what you tried so far. Also, please make use of the formatting possibilities we provide also for your error logs."},{"owner":{"account_id":16249938,"reputation":9,"user_id":11734152,"display_name":"Honey Bee"},"score":0,"creation_date":1657254879,"post_id":72870322,"comment_id":128772068,"body_markdown":"Thanks for letting me know. I found the fix. I&#39;ve given it below","body":"Thanks for letting me know. I found the fix. I&#39;ve given it below"}],"answers":[{"tags":[],"owner":{"account_id":16249938,"reputation":9,"user_id":11734152,"display_name":"Honey Bee"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1657255012,"creation_date":1657255012,"answer_id":72906688,"question_id":72870322,"body_markdown":"For the Spring Boot based projects, it&#39;s enough to add a single springfox-boot-starter dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Failed to process import candidates for configuration class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration]","body":"<p>For the Spring Boot based projects, it's enough to add a single springfox-boot-starter dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":16249938,"reputation":9,"user_id":11734152,"display_name":"Honey Bee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4392,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72906688,"answer_count":1,"score":1,"last_activity_date":1657255198,"creation_date":1657027858,"question_id":72870322,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    package com.nissan.common.config;\r\n\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\r\n    import springfox.documentation.builders.ApiInfoBuilder;\r\n    import springfox.documentation.builders.PathSelectors;\r\n    import springfox.documentation.builders.RequestHandlerSelectors;\r\n    import springfox.documentation.service.ApiInfo;\r\n    import springfox.documentation.service.Contact;\r\n    import springfox.documentation.spi.DocumentationType;\r\n    import springfox.documentation.spring.web.plugins.Docket;\r\n    import springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    @ComponentScan\r\n    @Slf4j\r\n    public class SwaggerConfig {\r\n\r\n      @Value(&quot;${swagger.api.controller.basepackage}&quot;)\r\n      private String basePackage;\r\n\r\n\r\n\r\n      @Bean\r\n      public Docket swaggerApi() {\r\n        log.info(&quot;Swagger Api loaded&quot;);\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n            .select()\r\n            .apis(RequestHandlerSelectors.basePackage(basePackage))\r\n            .paths(PathSelectors.any())\r\n            .build();\r\n      }\r\n\r\n      \r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n2022-07-05 17:24:53.527  WARN 6444 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration]; nested exception is java.io.FileNotFoundException: class path resource [springfox/documentation/spi/service/ResourceGroupingStrategy.class] cannot be opened because it does not exist\r\n2022-07-05 17:24:53.536  INFO 6444 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-07-05 17:24:53.559 ERROR 6444 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration]; nested exception is java.io.FileNotFoundException: class path resource [springfox/documentation/spi/service/ResourceGroupingStrategy.class] cannot be opened because it does not exist\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:610) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:311) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:600) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:311) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:199) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:304) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:207) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:175) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.6.jar:2.5.6]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) [spring-boot-2.5.6.jar:2.5.6]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) [spring-boot-2.5.6.jar:2.5.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:338) [spring-boot-2.5.6.jar:2.5.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) [spring-boot-2.5.6.jar:2.5.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) [spring-boot-2.5.6.jar:2.5.6]","title":"Failed to process import candidates for configuration class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration]","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>package com.nissan.common.config;\n\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\nimport springfox.documentation.builders.ApiInfoBuilder;\nimport springfox.documentation.builders.PathSelectors;\nimport springfox.documentation.builders.RequestHandlerSelectors;\nimport springfox.documentation.service.ApiInfo;\nimport springfox.documentation.service.Contact;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spring.web.plugins.Docket;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n@Configuration\n@EnableSwagger2\n@ComponentScan\n@Slf4j\npublic class SwaggerConfig {\n\n  @Value(\"${swagger.api.controller.basepackage}\")\n  private String basePackage;\n\n\n\n  @Bean\n  public Docket swaggerApi() {\n    log.info(\"Swagger Api loaded\");\n    return new Docket(DocumentationType.SWAGGER_2)\n        .select()\n        .apis(RequestHandlerSelectors.basePackage(basePackage))\n        .paths(PathSelectors.any())\n        .build();\n  }\n\n  \n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>2022-07-05 17:24:53.527  WARN 6444 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration]; nested exception is java.io.FileNotFoundException: class path resource [springfox/documentation/spi/service/ResourceGroupingStrategy.class] cannot be opened because it does not exist\n2022-07-05 17:24:53.536  INFO 6444 --- [           main] ConditionEvaluationReportLoggingListener :</p>\n<p>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-07-05 17:24:53.559 ERROR 6444 --- [           main] o.s.boot.SpringApplication               : Application run failed</p>\n<p>org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration]; nested exception is java.io.FileNotFoundException: class path resource [springfox/documentation/spi/service/ResourceGroupingStrategy.class] cannot be opened because it does not exist\nat org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:610) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:311) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:600) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:311) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:199) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:304) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:207) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:175) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.6.jar:2.5.6]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) [spring-boot-2.5.6.jar:2.5.6]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) [spring-boot-2.5.6.jar:2.5.6]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:338) [spring-boot-2.5.6.jar:2.5.6]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) [spring-boot-2.5.6.jar:2.5.6]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) [spring-boot-2.5.6.jar:2.5.6]</p>\n"},{"tags":["java","stream"],"answers":[{"tags":[],"owner":{"account_id":9686576,"reputation":526,"user_id":7186177,"display_name":"Tod Harter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657255161,"creation_date":1657255161,"answer_id":72906703,"question_id":72906646,"body_markdown":"I think it depends. If you have one instance of using this technique, then it probably makes sense to simply use an functional interface and a wrap function that are part of the class which utilizes it. If you are using this same pattern in several places (and they all have the same function interface signature) then you can define the functional interface at the package level and put the wrap function in a utility class.","title":"Where I define wrapper function and functional interface for exception handling on stream","body":"<p>I think it depends. If you have one instance of using this technique, then it probably makes sense to simply use an functional interface and a wrap function that are part of the class which utilizes it. If you are using this same pattern in several places (and they all have the same function interface signature) then you can define the functional interface at the package level and put the wrap function in a utility class.</p>\n"}],"owner":{"account_id":12612419,"reputation":91,"user_id":9171035,"display_name":"sjpark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1657270909,"accepted_answer_id":72906703,"answer_count":1,"score":-1,"last_activity_date":1657255161,"creation_date":1657254434,"question_id":72906646,"body_markdown":"While using streams, I learned how to handle exceptions using functional interfaces and wrapper functions.\r\n\r\nIf so, what is the best way to structure the package?\r\n\r\nIs it defined together in the class where stream is used? Or should I create a separate common class and define the wrapper function in it?\r\n\r\nThanks!","title":"Where I define wrapper function and functional interface for exception handling on stream","body":"<p>While using streams, I learned how to handle exceptions using functional interfaces and wrapper functions.</p>\n<p>If so, what is the best way to structure the package?</p>\n<p>Is it defined together in the class where stream is used? Or should I create a separate common class and define the wrapper function in it?</p>\n<p>Thanks!</p>\n"},{"tags":["java","json","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657199725,"creation_date":1657199208,"answer_id":72898368,"question_id":72897154,"body_markdown":"Json you posted is not valid. I guess it should look like this :\r\n\r\n\r\n    {\r\n      &quot;Application&quot;: {\r\n        &quot;DCode&quot;: &quot;unsecliverelease&quot;,\r\n        &quot;PType&quot;: &quot;DA&quot;,\r\n        &quot;AId&quot;: &quot;230391106&quot;,\r\n        &quot;ApNO&quot;: &quot;NTFLbjOF9fXI15AF1YiC&quot;,\r\n        &quot;crd&quot;: {\r\n          &quot;cate&quot;: &quot;lion&quot;,\r\n          &quot;ProductCode&quot;: &quot;lion&quot;\r\n        },\r\n        &quot;ld&quot;: {\r\n          &quot;dm&quot;: {\r\n            &quot;sn&quot;: &quot;3&quot;,\r\n            &quot;RandomNumbers&quot;: {\r\n              &quot;RandomNumber01&quot;: &quot;319&quot;,\r\n              &quot;RandomNumber02&quot;: &quot;731&quot;,\r\n              &quot;RandomNumber03&quot;: &quot;520&quot;,\r\n              &quot;RandomNumber04&quot;: &quot;102&quot;,\r\n              &quot;RandomNumber05&quot;: &quot;678&quot;\r\n            },\r\n            &quot;Request&quot;: {\r\n              &quot;Name&quot;: &quot;MSE&quot;,\r\n              &quot;ACount&quot;: &quot;1&quot;,\r\n              &quot;BrandInd&quot;: &quot;wert&quot;,\r\n              &quot;CID&quot;: &quot;123456789&quot;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    \r\n\r\nWhat you can do is the following:\r\n\r\n    String json =&quot;{\\n&quot; +\r\n                         &quot;  \\&quot;Application\\&quot;: {\\n&quot; +\r\n                         &quot;    \\&quot;DCode\\&quot;: \\&quot;unsecliverelease\\&quot;,\\n&quot; +\r\n                         &quot;    \\&quot;PType\\&quot;: \\&quot;DA\\&quot;,\\n&quot; +\r\n                         &quot;    \\&quot;AId\\&quot;: \\&quot;230391106\\&quot;,\\n&quot; +\r\n                         &quot;    \\&quot;ApNO\\&quot;: \\&quot;NTFLbjOF9fXI15AF1YiC\\&quot;,\\n&quot; +\r\n                         &quot;    \\&quot;crd\\&quot;: {\\n&quot; +\r\n                         &quot;      \\&quot;cate\\&quot;: \\&quot;lion\\&quot;,\\n&quot; +\r\n                         &quot;      \\&quot;ProductCode\\&quot;: \\&quot;lion\\&quot;\\n&quot; +\r\n                         &quot;    },\\n&quot; +\r\n                         &quot;    \\&quot;ld\\&quot;: {\\n&quot; +\r\n                         &quot;      \\&quot;dm\\&quot;: {\\n&quot; +\r\n                         &quot;        \\&quot;sn\\&quot;: \\&quot;3\\&quot;,\\n&quot; +\r\n                         &quot;        \\&quot;RandomNumbers\\&quot;: {\\n&quot; +\r\n                         &quot;          \\&quot;RandomNumber01\\&quot;: \\&quot;319\\&quot;,\\n&quot; +\r\n                         &quot;          \\&quot;RandomNumber02\\&quot;: \\&quot;731\\&quot;,\\n&quot; +\r\n                         &quot;          \\&quot;RandomNumber03\\&quot;: \\&quot;520\\&quot;,\\n&quot; +\r\n                         &quot;          \\&quot;RandomNumber04\\&quot;: \\&quot;102\\&quot;,\\n&quot; +\r\n                         &quot;          \\&quot;RandomNumber05\\&quot;: \\&quot;678\\&quot;\\n&quot; +\r\n                         &quot;        },\\n&quot; +\r\n                         &quot;        \\&quot;Request\\&quot;: {\\n&quot; +\r\n                         &quot;          \\&quot;Name\\&quot;: \\&quot;MSE\\&quot;,\\n&quot; +\r\n                         &quot;          \\&quot;ACount\\&quot;: \\&quot;1\\&quot;,\\n&quot; +\r\n                         &quot;          \\&quot;BrandInd\\&quot;: \\&quot;wert\\&quot;,\\n&quot; +\r\n                         &quot;          \\&quot;CID\\&quot;: \\&quot;123456789\\&quot;\\n&quot; +\r\n                         &quot;        }\\n&quot; +\r\n                         &quot;      }\\n&quot; +\r\n                         &quot;    }\\n&quot; +\r\n                         &quot;  }\\n&quot; +\r\n                         &quot;}&quot;;\r\n        \r\n        \r\n\r\n    CRequestModel cRequestModel = new CRequestModel();\r\n        cRequestModel.setRequestJSON(json);\r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        JsonNode actualObj = mapper.readTree(json);\r\n        JsonNode cidNode = actualObj.get(&quot;Application&quot;).get(&quot;ld&quot;).get(&quot;dm&quot;).get(&quot;Request&quot;).get(&quot;CID&quot;);\r\n        int cid= mapper.treeToValue(cidNode,Integer.class);\r\n        cRequestModel.setCid(cid);\r\n\r\n**NOTE**: The assumption is that the json you get will always have structure above and propeties: ld, dm, Request,CID. (order doesn&#39;t matter)","title":"From a nested JSON String getting a specific key&#39;s value","body":"<p>Json you posted is not valid. I guess it should look like this :</p>\n<pre><code>{\n  &quot;Application&quot;: {\n    &quot;DCode&quot;: &quot;unsecliverelease&quot;,\n    &quot;PType&quot;: &quot;DA&quot;,\n    &quot;AId&quot;: &quot;230391106&quot;,\n    &quot;ApNO&quot;: &quot;NTFLbjOF9fXI15AF1YiC&quot;,\n    &quot;crd&quot;: {\n      &quot;cate&quot;: &quot;lion&quot;,\n      &quot;ProductCode&quot;: &quot;lion&quot;\n    },\n    &quot;ld&quot;: {\n      &quot;dm&quot;: {\n        &quot;sn&quot;: &quot;3&quot;,\n        &quot;RandomNumbers&quot;: {\n          &quot;RandomNumber01&quot;: &quot;319&quot;,\n          &quot;RandomNumber02&quot;: &quot;731&quot;,\n          &quot;RandomNumber03&quot;: &quot;520&quot;,\n          &quot;RandomNumber04&quot;: &quot;102&quot;,\n          &quot;RandomNumber05&quot;: &quot;678&quot;\n        },\n        &quot;Request&quot;: {\n          &quot;Name&quot;: &quot;MSE&quot;,\n          &quot;ACount&quot;: &quot;1&quot;,\n          &quot;BrandInd&quot;: &quot;wert&quot;,\n          &quot;CID&quot;: &quot;123456789&quot;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>What you can do is the following:</p>\n<pre><code>String json =&quot;{\\n&quot; +\n                     &quot;  \\&quot;Application\\&quot;: {\\n&quot; +\n                     &quot;    \\&quot;DCode\\&quot;: \\&quot;unsecliverelease\\&quot;,\\n&quot; +\n                     &quot;    \\&quot;PType\\&quot;: \\&quot;DA\\&quot;,\\n&quot; +\n                     &quot;    \\&quot;AId\\&quot;: \\&quot;230391106\\&quot;,\\n&quot; +\n                     &quot;    \\&quot;ApNO\\&quot;: \\&quot;NTFLbjOF9fXI15AF1YiC\\&quot;,\\n&quot; +\n                     &quot;    \\&quot;crd\\&quot;: {\\n&quot; +\n                     &quot;      \\&quot;cate\\&quot;: \\&quot;lion\\&quot;,\\n&quot; +\n                     &quot;      \\&quot;ProductCode\\&quot;: \\&quot;lion\\&quot;\\n&quot; +\n                     &quot;    },\\n&quot; +\n                     &quot;    \\&quot;ld\\&quot;: {\\n&quot; +\n                     &quot;      \\&quot;dm\\&quot;: {\\n&quot; +\n                     &quot;        \\&quot;sn\\&quot;: \\&quot;3\\&quot;,\\n&quot; +\n                     &quot;        \\&quot;RandomNumbers\\&quot;: {\\n&quot; +\n                     &quot;          \\&quot;RandomNumber01\\&quot;: \\&quot;319\\&quot;,\\n&quot; +\n                     &quot;          \\&quot;RandomNumber02\\&quot;: \\&quot;731\\&quot;,\\n&quot; +\n                     &quot;          \\&quot;RandomNumber03\\&quot;: \\&quot;520\\&quot;,\\n&quot; +\n                     &quot;          \\&quot;RandomNumber04\\&quot;: \\&quot;102\\&quot;,\\n&quot; +\n                     &quot;          \\&quot;RandomNumber05\\&quot;: \\&quot;678\\&quot;\\n&quot; +\n                     &quot;        },\\n&quot; +\n                     &quot;        \\&quot;Request\\&quot;: {\\n&quot; +\n                     &quot;          \\&quot;Name\\&quot;: \\&quot;MSE\\&quot;,\\n&quot; +\n                     &quot;          \\&quot;ACount\\&quot;: \\&quot;1\\&quot;,\\n&quot; +\n                     &quot;          \\&quot;BrandInd\\&quot;: \\&quot;wert\\&quot;,\\n&quot; +\n                     &quot;          \\&quot;CID\\&quot;: \\&quot;123456789\\&quot;\\n&quot; +\n                     &quot;        }\\n&quot; +\n                     &quot;      }\\n&quot; +\n                     &quot;    }\\n&quot; +\n                     &quot;  }\\n&quot; +\n                     &quot;}&quot;;\n    \n    \n\nCRequestModel cRequestModel = new CRequestModel();\n    cRequestModel.setRequestJSON(json);\n\n    ObjectMapper mapper = new ObjectMapper();\n    JsonNode actualObj = mapper.readTree(json);\n    JsonNode cidNode = actualObj.get(&quot;Application&quot;).get(&quot;ld&quot;).get(&quot;dm&quot;).get(&quot;Request&quot;).get(&quot;CID&quot;);\n    int cid= mapper.treeToValue(cidNode,Integer.class);\n    cRequestModel.setCid(cid);\n</code></pre>\n<p><strong>NOTE</strong>: The assumption is that the json you get will always have structure above and propeties: ld, dm, Request,CID. (order doesn't matter)</p>\n"},{"tags":[],"owner":{"account_id":13007077,"reputation":13,"user_id":9401288,"display_name":"Mattia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657254999,"creation_date":1657208601,"answer_id":72900746,"question_id":72897154,"body_markdown":"If you have JSON string that can change, I think you have to create a method that parses that JSON string into a `jsonobject` and then extract a value from a specified &quot;key&quot;.\r\n\r\nFor example, if you have a JSON string so composed,\r\n\r\n    {\r\n     &quot;name&quot;:&quot;Sam&quot;, \r\n     &quot;surname&quot;:&quot;Baudo&quot;\r\n    }\r\n\r\n    String jsonStringInput = &quot;input-json-value&quot;; \r\n    JSONObject json = new JSONObject(jsonStringInput);\r\n    String surname = json.getString(&quot;surname&quot;);","title":"From a nested JSON String getting a specific key&#39;s value","body":"<p>If you have JSON string that can change, I think you have to create a method that parses that JSON string into a <code>jsonobject</code> and then extract a value from a specified &quot;key&quot;.</p>\n<p>For example, if you have a JSON string so composed,</p>\n<pre><code>{\n &quot;name&quot;:&quot;Sam&quot;, \n &quot;surname&quot;:&quot;Baudo&quot;\n}\n\nString jsonStringInput = &quot;input-json-value&quot;; \nJSONObject json = new JSONObject(jsonStringInput);\nString surname = json.getString(&quot;surname&quot;);\n</code></pre>\n"}],"owner":{"account_id":25593085,"reputation":95,"user_id":19369457,"display_name":"Somnath Mukherjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":836,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657254999,"creation_date":1657193962,"question_id":72897154,"body_markdown":"Here I&#39;m having a controller which is of postmapping type. I&#39;m taking the request body as String which a nested JSON. When the controller is being called with the String as request body I want to map that String into a POJO. In that POJO I have fields which are to be mapped from that nested json and also a field which takes the actual String request body as is. Kindly help me how do I map a particular field from that nested json string to the POJO.\r\n\r\nThe request looks like - \r\n\r\n    {\r\n        &quot;Application&quot;: {\r\n            &quot;DCode&quot;: &quot;unsecliverelease&quot;,\r\n            &quot;PType&quot;: &quot;DA&quot;,\r\n            &quot;AId&quot;: &quot;230391106&quot;,\r\n            &quot;ApNO&quot;: &quot;NTFLbjOF9fXI15AF1YiC&quot;,\r\n            &quot;crd&quot;: {\r\n                &quot;cate&quot;: &quot;lion&quot;,\r\n                &quot;ProductCode&quot;: &quot;lion&quot;\r\n            },\r\n            &quot;ld&quot;: {\r\n                &quot;dm&quot;: {\r\n                    &quot;sn&quot;: &quot;3&quot;,\r\n                    &quot;RandomNumbers&quot;: {\r\n                        &quot;RandomNumber01&quot;: &quot;319&quot;,\r\n                        &quot;RandomNumber02&quot;: &quot;731&quot;,\r\n                        &quot;RandomNumber03&quot;: &quot;520&quot;,\r\n                        &quot;RandomNumber04&quot;: &quot;102&quot;,\r\n                        &quot;RandomNumber05&quot;: &quot;678&quot;\r\n                    },\r\n                    &quot;Request&quot;: {\r\n                        &quot;Name&quot;: &quot;MSE&quot;,\r\n                        &quot;ACount&quot;: &quot;1&quot;,\r\n                        &quot;BrandInd&quot;: &quot;wert&quot;,\r\n                        &quot;CID&quot;: &quot;123456789&quot;,\r\n                        \r\n                    }\r\n                }\r\n        }\r\n\r\n//controller\r\n\r\n    @PostMapping(\r\n          value = &quot;/decision&quot;,\r\n          produces = MediaType.APPLICATION_JSON_VALUE,\r\n          consumes = MediaType.APPLICATION_JSON_VALUE)\r\n      public ResponseEntity&lt;crdResponse &gt; getDecision(\r\n          @RequestBody final @Valid String request) throws JsonProcessingException {\r\n        crdResponse response =\r\n            crdService.getDec(request);\r\n    \r\n        return ResponseEntity.ok().body(response);\r\n      }\r\n\r\n//POJO\r\n\r\n    public class CRequestModel {\r\n    \r\n      @Column(name = &quot;rid&quot;)\r\n      @Id\r\n      private String crdRqsId;\r\n    \r\n      @Column(name = &quot;scode&quot;)\r\n      private String scode;\r\n    \r\n      @Column(name = &quot;cid&quot;)\r\n      private Integer cid;\r\n    \r\n      @Column(name = &quot;RequestNumber&quot;)\r\n      private Integer requestNumber;\r\n    \r\n      @Column(name = &quot;RequestJson&quot;)\r\n      private String requestJSON;\r\n    \r\n      @Column(name = &quot;CreatedAt&quot;)\r\n      private Timestamp createdAt;\r\n    }\r\n\r\n\r\nI want to save the whole JSON string into requestJSON field and want to save CID value(from request JSON STRING) into cid field.\r\n\r\nKindly help me with the same. This input JSON String can change so the order in which the CID is there in current JSON String might vary.\r\n","title":"From a nested JSON String getting a specific key&#39;s value","body":"<p>Here I'm having a controller which is of postmapping type. I'm taking the request body as String which a nested JSON. When the controller is being called with the String as request body I want to map that String into a POJO. In that POJO I have fields which are to be mapped from that nested json and also a field which takes the actual String request body as is. Kindly help me how do I map a particular field from that nested json string to the POJO.</p>\n<p>The request looks like -</p>\n<pre><code>{\n    &quot;Application&quot;: {\n        &quot;DCode&quot;: &quot;unsecliverelease&quot;,\n        &quot;PType&quot;: &quot;DA&quot;,\n        &quot;AId&quot;: &quot;230391106&quot;,\n        &quot;ApNO&quot;: &quot;NTFLbjOF9fXI15AF1YiC&quot;,\n        &quot;crd&quot;: {\n            &quot;cate&quot;: &quot;lion&quot;,\n            &quot;ProductCode&quot;: &quot;lion&quot;\n        },\n        &quot;ld&quot;: {\n            &quot;dm&quot;: {\n                &quot;sn&quot;: &quot;3&quot;,\n                &quot;RandomNumbers&quot;: {\n                    &quot;RandomNumber01&quot;: &quot;319&quot;,\n                    &quot;RandomNumber02&quot;: &quot;731&quot;,\n                    &quot;RandomNumber03&quot;: &quot;520&quot;,\n                    &quot;RandomNumber04&quot;: &quot;102&quot;,\n                    &quot;RandomNumber05&quot;: &quot;678&quot;\n                },\n                &quot;Request&quot;: {\n                    &quot;Name&quot;: &quot;MSE&quot;,\n                    &quot;ACount&quot;: &quot;1&quot;,\n                    &quot;BrandInd&quot;: &quot;wert&quot;,\n                    &quot;CID&quot;: &quot;123456789&quot;,\n                    \n                }\n            }\n    }\n</code></pre>\n<p>//controller</p>\n<pre><code>@PostMapping(\n      value = &quot;/decision&quot;,\n      produces = MediaType.APPLICATION_JSON_VALUE,\n      consumes = MediaType.APPLICATION_JSON_VALUE)\n  public ResponseEntity&lt;crdResponse &gt; getDecision(\n      @RequestBody final @Valid String request) throws JsonProcessingException {\n    crdResponse response =\n        crdService.getDec(request);\n\n    return ResponseEntity.ok().body(response);\n  }\n</code></pre>\n<p>//POJO</p>\n<pre><code>public class CRequestModel {\n\n  @Column(name = &quot;rid&quot;)\n  @Id\n  private String crdRqsId;\n\n  @Column(name = &quot;scode&quot;)\n  private String scode;\n\n  @Column(name = &quot;cid&quot;)\n  private Integer cid;\n\n  @Column(name = &quot;RequestNumber&quot;)\n  private Integer requestNumber;\n\n  @Column(name = &quot;RequestJson&quot;)\n  private String requestJSON;\n\n  @Column(name = &quot;CreatedAt&quot;)\n  private Timestamp createdAt;\n}\n</code></pre>\n<p>I want to save the whole JSON string into requestJSON field and want to save CID value(from request JSON STRING) into cid field.</p>\n<p>Kindly help me with the same. This input JSON String can change so the order in which the CID is there in current JSON String might vary.</p>\n"},{"tags":["java","spring","spring-boot","webclient","spring-webclient"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":3,"creation_date":1642579078,"post_id":70766948,"comment_id":125104890,"body_markdown":"The `sarShomare` is different.","body":"The <code>sarShomare</code> is different."},{"owner":{"account_id":10794010,"reputation":1606,"user_id":7940437,"display_name":"Majid Roustaei"},"score":0,"creation_date":1642579520,"post_id":70766948,"comment_id":125105034,"body_markdown":"it was a good point. so why they have the same traceId and threadName?","body":"it was a good point. so why they have the same traceId and threadName?"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1642596270,"post_id":70766948,"comment_id":125111699,"body_markdown":"How do you add trace ids? Thread name is likely to be shared as that’s really the point of reactive…","body":"How do you add trace ids? Thread name is likely to be shared as that’s really the point of reactive…"},{"owner":{"account_id":1416455,"reputation":1818,"user_id":1342086,"accept_rate":70,"display_name":"rj2700"},"score":1,"creation_date":1651183959,"post_id":70766948,"comment_id":127310339,"body_markdown":"It also depends on how the request was sent into this app. Trace IDs can be shared in multiple requests if all of the requests were generated from the same &quot;root&quot;, I believe. So if 1 requests comes into service A and service A splits calls to downstream services, it&#39;ll have the same trace ID.","body":"It also depends on how the request was sent into this app. Trace IDs can be shared in multiple requests if all of the requests were generated from the same &quot;root&quot;, I believe. So if 1 requests comes into service A and service A splits calls to downstream services, it&#39;ll have the same trace ID."}],"answers":[{"tags":[],"owner":{"account_id":4083966,"reputation":1293,"user_id":3353717,"display_name":"roj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657254032,"creation_date":1657254032,"answer_id":72906609,"question_id":70766948,"body_markdown":"@majid-roustaei This looks like it&#39;s because you have &#39;swallowed&#39; the exception in the &#39;doOnError&#39; block, rather than rethrowing it. So, just like a catch block that logs an exception but does nothing else, the method will complete successfully.\r\nTo prevent successful completion you could just rethrow it by updating your `doOnError` lambda to this:\r\n```java\r\n   .doOnError(throwable -&gt; { \r\n       logger.error(&quot;throws exception when send SMS to : {} with {} &quot;, clientId, provider.getSarShomare(), throwable);\r\n       throw throwable;\r\n       })\r\n```\r\nThat should stop your &#39;Successfully sent&#39; message in the event of an exception.","title":"Java WebClient both doOnError and doOnSuccess methods happen in a single request","body":"<p>@majid-roustaei This looks like it's because you have 'swallowed' the exception in the 'doOnError' block, rather than rethrowing it. So, just like a catch block that logs an exception but does nothing else, the method will complete successfully.\nTo prevent successful completion you could just rethrow it by updating your <code>doOnError</code> lambda to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   .doOnError(throwable -&gt; { \n       logger.error(&quot;throws exception when send SMS to : {} with {} &quot;, clientId, provider.getSarShomare(), throwable);\n       throw throwable;\n       })\n</code></pre>\n<p>That should stop your 'Successfully sent' message in the event of an exception.</p>\n"}],"owner":{"account_id":10794010,"reputation":1606,"user_id":7940437,"display_name":"Majid Roustaei"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3361,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657254032,"creation_date":1642578468,"question_id":70766948,"body_markdown":"I&#39;m using `WebClient` in a `spring boot` application and here is a part of my code:\r\n\r\n        WebClient webClient = setApiKey(provider);\r\n        return webClient\r\n                .post()\r\n                .uri(&quot;sms&quot;)\r\n                .body(Mono.just(jsonArray.toString()), String.class)\r\n                .retrieve()\r\n                .onStatus(httpStatus -&gt; httpStatus.is4xxClientError(),\r\n                        response -&gt; Mono.error(new HttpClientErrorException(response.statusCode())))\r\n                .onStatus(httpStatus -&gt; httpStatus.is5xxServerError(),\r\n                        response -&gt; Mono.error(new HttpServerErrorException(response.statusCode())))\r\n                .bodyToMono(AdpBatchSmsResponseDto.class)\r\n                .doOnSuccess(response -&gt; logger.info(&quot;Successfully send SMS to : {} with {} &quot;, clientId, provider.getSarShomare()))\r\n                .doOnError(throwable -&gt; logger.error(&quot;throws exception when send SMS to : {} with {} &quot;, clientId, provider.getSarShomare(), throwable))\r\n                .block();\r\n\r\nin some cases, both `doOnError` and `doOnSuccess` methods happen and do the code which I want to each one do, nearly simultaneously. here is a picture from my log in `kibana`:\r\n\r\n [![kibana][1]][1]\r\n\r\nas it is highlighted, they have the same `traceId` and almost happen at the same time.\r\nwhy they both happen? whether the call is successful or not, one of them might be called.\r\n\r\n  [1]: https://i.stack.imgur.com/cz1PW.png","title":"Java WebClient both doOnError and doOnSuccess methods happen in a single request","body":"<p>I'm using <code>WebClient</code> in a <code>spring boot</code> application and here is a part of my code:</p>\n<pre><code>    WebClient webClient = setApiKey(provider);\n    return webClient\n            .post()\n            .uri(&quot;sms&quot;)\n            .body(Mono.just(jsonArray.toString()), String.class)\n            .retrieve()\n            .onStatus(httpStatus -&gt; httpStatus.is4xxClientError(),\n                    response -&gt; Mono.error(new HttpClientErrorException(response.statusCode())))\n            .onStatus(httpStatus -&gt; httpStatus.is5xxServerError(),\n                    response -&gt; Mono.error(new HttpServerErrorException(response.statusCode())))\n            .bodyToMono(AdpBatchSmsResponseDto.class)\n            .doOnSuccess(response -&gt; logger.info(&quot;Successfully send SMS to : {} with {} &quot;, clientId, provider.getSarShomare()))\n            .doOnError(throwable -&gt; logger.error(&quot;throws exception when send SMS to : {} with {} &quot;, clientId, provider.getSarShomare(), throwable))\n            .block();\n</code></pre>\n<p>in some cases, both <code>doOnError</code> and <code>doOnSuccess</code> methods happen and do the code which I want to each one do, nearly simultaneously. here is a picture from my log in <code>kibana</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/cz1PW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cz1PW.png\" alt=\"kibana\" /></a></p>\n<p>as it is highlighted, they have the same <code>traceId</code> and almost happen at the same time.\nwhy they both happen? whether the call is successful or not, one of them might be called.</p>\n"},{"tags":["java","amazon-ec2","microservices","heap-memory","infrastructure"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1657254330,"post_id":72906607,"comment_id":128771983,"body_markdown":"Don&#39;t store the whole 2 million rows in memory. Write/print the pages to file as you go, that way you really only need to keep one or two pages worth of data in memory at a time, and you should be nowhere near your memory cap. Apache has the ability to only read select rows at a time, see here for example: [How to load a large xlsx file with Apache POI?](https://stackoverflow.com/questions/11891851/how-to-load-a-large-xlsx-file-with-apache-poi) Or for even more fine control of the sheet data see: https://poi.apache.org/components/spreadsheet/how-to.html#xssf_sax_api","body":"Don&#39;t store the whole 2 million rows in memory. Write/print the pages to file as you go, that way you really only need to keep one or two pages worth of data in memory at a time, and you should be nowhere near your memory cap. Apache has the ability to only read select rows at a time, see here for example: <a href=\"https://stackoverflow.com/questions/11891851/how-to-load-a-large-xlsx-file-with-apache-poi\">How to load a large xlsx file with Apache POI?</a> Or for even more fine control of the sheet data see: <a href=\"https://poi.apache.org/components/spreadsheet/how-to.html#xssf_sax_api\" rel=\"nofollow noreferrer\">poi.apache.org/components/spreadsheet/how-to.html#xssf_sax_a&zwnj;&#8203;pi</a>"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1657254561,"post_id":72906607,"comment_id":128772021,"body_markdown":"If you need to process all 2 million rows and do some calculations, then this can still be done a few rows at a time for example by stripping out only the essential data","body":"If you need to process all 2 million rows and do some calculations, then this can still be done a few rows at a time for example by stripping out only the essential data"}],"owner":{"account_id":2460946,"reputation":1889,"user_id":2145133,"accept_rate":18,"display_name":"Code Geas Coder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657254007,"creation_date":1657254007,"question_id":72906607,"body_markdown":"I have a service to build a report in JAVA that are using Apache POI, but at this moment i have a problem.\r\n\r\nI need allow the report generation with a lot of data (2 millions of rows) and only the map creation with that data spends 4 GB of memory more the memory that spends apache POI to build the report, i need more than 8 GB.\r\n\r\nThis process is launched manually for somebody, but the person can run the process whenever he wants.\r\n\r\nThis process will be executed only two or three times per week, then I don&#39;t know if having a machine with a lot of memory is the solution, because they are resources that are being spent only for 2 or 3 executions per week.\r\n\r\nOr I don&#39;t know if exists a tool to help with the memory on demand, like redis or How can I attack this problem without spending so many resources?","title":"occasional process spends a lot of memory Java ec2","body":"<p>I have a service to build a report in JAVA that are using Apache POI, but at this moment i have a problem.</p>\n<p>I need allow the report generation with a lot of data (2 millions of rows) and only the map creation with that data spends 4 GB of memory more the memory that spends apache POI to build the report, i need more than 8 GB.</p>\n<p>This process is launched manually for somebody, but the person can run the process whenever he wants.</p>\n<p>This process will be executed only two or three times per week, then I don't know if having a machine with a lot of memory is the solution, because they are resources that are being spent only for 2 or 3 executions per week.</p>\n<p>Or I don't know if exists a tool to help with the memory on demand, like redis or How can I attack this problem without spending so many resources?</p>\n"},{"tags":["java","for-loop","nested-for-loop"],"comments":[{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":1,"creation_date":1656542643,"post_id":72808578,"comment_id":128601761,"body_markdown":"What are `CF` and `FC`? Those aren&#39;t included in the code you posted.","body":"What are <code>CF</code> and <code>FC</code>? Those aren&#39;t included in the code you posted."},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1656542927,"post_id":72808578,"comment_id":128601829,"body_markdown":"This is just a guess from what you&#39;ve posted above, but: perhaps one or both of the functions `CF` and `FC` are modifying one of the statics you&#39;ve defined (c1, f1, f2, c2). I&#39;d try to rework the functions so that the only inputs they use are parameters that are passed into the functions – don&#39;t refer to any globally accessible things (like the four static `double` values you&#39;ve defined).","body":"This is just a guess from what you&#39;ve posted above, but: perhaps one or both of the functions <code>CF</code> and <code>FC</code> are modifying one of the statics you&#39;ve defined (c1, f1, f2, c2). I&#39;d try to rework the functions so that the only inputs they use are parameters that are passed into the functions – don&#39;t refer to any globally accessible things (like the four static <code>double</code> values you&#39;ve defined)."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1656542970,"post_id":72808578,"comment_id":128601839,"body_markdown":"instead of two loops, you need a single loop (eventually with two variables **&#185;**) - nested loops means that you will get all combinations of both variables || **1** `for (c1=startC, f2=startF; c1&lt;=finishC &amp;&amp; f2&lt;=finishF; c1+=stepC, f2+=stepF)`","body":"instead of two loops, you need a single loop (eventually with two variables <b>&#185;</b>) - nested loops means that you will get all combinations of both variables || <b>1</b> <code>for (c1=startC, f2=startF; c1&lt;=finishC &amp;&amp; f2&lt;=finishF; c1+=stepC, f2+=stepF)</code>"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1656543081,"post_id":72808578,"comment_id":128601856,"body_markdown":"Both loops are working correctly, but note that the value of `f1` in the outer loop only changes once every 10 cycles of the inner loop (Not every cycle like you want in your example).","body":"Both loops are working correctly, but note that the value of <code>f1</code> in the outer loop only changes once every 10 cycles of the inner loop (Not every cycle like you want in your example)."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1656543598,"post_id":72808578,"comment_id":128601970,"body_markdown":"BTW 50&#176;C is not 10&#176;F, it is 122&#176;F (Good values to test: 0&#176;C=32&#176;F and 100&#176;C=212&#176;F)","body":"BTW 50&#176;C is not 10&#176;F, it is 122&#176;F (Good values to test: 0&#176;C=32&#176;F and 100&#176;C=212&#176;F)"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1656548010,"post_id":72808578,"comment_id":128602700,"body_markdown":"You only need one for loop and one conversion, from Celsius to Fahrenheit.  You already have the temperatures in Celsius.  By the way, the conversion is F = C * 9 / 5 + 32","body":"You only need one for loop and one conversion, from Celsius to Fahrenheit.  You already have the temperatures in Celsius.  By the way, the conversion is F = C * 9 / 5 + 32"},{"owner":{"account_id":20045822,"reputation":45,"user_id":14695508,"display_name":"NobleRuckus"},"score":0,"creation_date":1656565393,"post_id":72808578,"comment_id":128604940,"body_markdown":"@user16320675 Thank you my friend! This was the solution. I played with it a tiny bit, plugged the numbers in and off it went! Thank you! Also just to comment on the other comment you had, the temp conversion was correct, I just had to switch around where I printed C and F. All fixed now!","body":"@user16320675 Thank you my friend! This was the solution. I played with it a tiny bit, plugged the numbers in and off it went! Thank you! Also just to comment on the other comment you had, the temp conversion was correct, I just had to switch around where I printed C and F. All fixed now!"}],"answers":[{"tags":[],"owner":{"account_id":20045822,"reputation":45,"user_id":14695508,"display_name":"NobleRuckus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656565843,"creation_date":1656565843,"answer_id":72810559,"question_id":72808578,"body_markdown":"As suggested by @user16320675, I combined everything into a single for-loop and it is now working as expected! I didn&#39;t even know you could combine for-loop statements with the &amp;&amp; operator. User&#39;s suggestion that answered my problem was:\r\n\r\n```\r\nfor (c1=startC, f2=startF; c1&lt;=finishC &amp;&amp; f2&lt;=finishF; c1+=stepC, f2+=stepF)\r\n```\r\nI just made a couple tiny changes and off it went! Thank you everyone for your help and time!","title":"In a Java nested for-loop, the code works properly if separated into 2 different for-loops. If nested, the outer loop doesn&#39;t increment. Thoughts?","body":"<p>As suggested by @user16320675, I combined everything into a single for-loop and it is now working as expected! I didn't even know you could combine for-loop statements with the &amp;&amp; operator. User's suggestion that answered my problem was:</p>\n<pre><code>for (c1=startC, f2=startF; c1&lt;=finishC &amp;&amp; f2&lt;=finishF; c1+=stepC, f2+=stepF)\n</code></pre>\n<p>I just made a couple tiny changes and off it went! Thank you everyone for your help and time!</p>\n"}],"owner":{"account_id":20045822,"reputation":45,"user_id":14695508,"display_name":"NobleRuckus"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1657253770,"creation_date":1656542344,"question_id":72808578,"body_markdown":"I&#39;m having some trouble with a nested for loop. After days of agonizing searching and trial and error, I finally got the math working for a temperature conversion table. When I separate this code, it works great. Celsius converts to Fahrenheit and vise versa and both sides loop properly. However, when I try and nest the for loops, one side stops working. I&#39;ve tried moving my statements around, but I keep coming up with the same result which is one side will not increment while the other side does. I&#39;m new to Java so I don&#39;t see what I&#39;m doing wrong as I used a for loop on a previous program with success. I&#39;m not sure what to do with the: f1 = CF(c1); I&#39;ve tried it in both loops while nested. ANY insight is greatly appreciated.\r\n```\r\nstatic double c1, f1; // c1 is the celsius temp, f1 is the equivalent \r\n                      // fahrenheit temp\r\nstatic double f2, c2; // f2 is the fahrenheit temp, c2 is the equivalent \r\n                      //   celsius temp\r\n\r\ndouble start = -50;\r\ndouble finish = 50;\r\nint five = 5;\r\n\r\nfor (c1 = start; c1 &lt;= finish; c1 += five) {  \t\t\t\t\r\n\r\n    f1 = CF(c1);\r\n\r\n    for (f2 = start; f2 &lt;= finish; f2 += five){\r\n\t\t\t\t\r\n        c2 = FC(f2);\r\n        System.out.print(&quot;\\n&quot;);\r\n        System.out.format(&quot;%6.3fC %6.3fF &lt;&gt; %6.3fF %6.3fC&quot;, f2, c2, c1, f1);\r\n    }\r\n}\r\n```\r\nAs stated above, when the for loops are separated, everything works properly. When the loops are nested, the outer loop stops working, while the inner loop functions properly. To clarify, the inner loop converts fahrenheit to celsius and prints them starting from -50 to 50 in increments of 5. However, this is a snippet of what I&#39;m getting\r\n\r\n```\r\n30.000C     -1.111F &lt;&gt;   50.000F    122.000C\r\n35.000C      1.667F &lt;&gt;   50.000F    122.000C\r\n40.000C      4.444F &lt;&gt;   50.000F    122.000C\r\n45.000C      7.222F &lt;&gt;   50.000F    122.000C\r\n50.000C     10.000F &lt;&gt;   50.000F    122.000C\r\n\r\nMy expected outcome should be:\r\n30.000C   -1.111F &lt;&gt; 30.000C     86.000F\r\n35.000C    1.667F &lt;&gt; 35.000C     95.000F\r\n40.000C    4.444F &lt;&gt; 40.000C    104.000F\r\n45.000C    7.222F &lt;&gt; 45.000C    113.000F\r\n50.000C    10.000F&lt;&gt; 50.000C    122.000F\r\n``` ","title":"In a Java nested for-loop, the code works properly if separated into 2 different for-loops. If nested, the outer loop doesn&#39;t increment. Thoughts?","body":"<p>I'm having some trouble with a nested for loop. After days of agonizing searching and trial and error, I finally got the math working for a temperature conversion table. When I separate this code, it works great. Celsius converts to Fahrenheit and vise versa and both sides loop properly. However, when I try and nest the for loops, one side stops working. I've tried moving my statements around, but I keep coming up with the same result which is one side will not increment while the other side does. I'm new to Java so I don't see what I'm doing wrong as I used a for loop on a previous program with success. I'm not sure what to do with the: f1 = CF(c1); I've tried it in both loops while nested. ANY insight is greatly appreciated.</p>\n<pre><code>static double c1, f1; // c1 is the celsius temp, f1 is the equivalent \n                      // fahrenheit temp\nstatic double f2, c2; // f2 is the fahrenheit temp, c2 is the equivalent \n                      //   celsius temp\n\ndouble start = -50;\ndouble finish = 50;\nint five = 5;\n\nfor (c1 = start; c1 &lt;= finish; c1 += five) {                \n\n    f1 = CF(c1);\n\n    for (f2 = start; f2 &lt;= finish; f2 += five){\n                \n        c2 = FC(f2);\n        System.out.print(&quot;\\n&quot;);\n        System.out.format(&quot;%6.3fC %6.3fF &lt;&gt; %6.3fF %6.3fC&quot;, f2, c2, c1, f1);\n    }\n}\n</code></pre>\n<p>As stated above, when the for loops are separated, everything works properly. When the loops are nested, the outer loop stops working, while the inner loop functions properly. To clarify, the inner loop converts fahrenheit to celsius and prints them starting from -50 to 50 in increments of 5. However, this is a snippet of what I'm getting</p>\n<pre><code>30.000C     -1.111F &lt;&gt;   50.000F    122.000C\n35.000C      1.667F &lt;&gt;   50.000F    122.000C\n40.000C      4.444F &lt;&gt;   50.000F    122.000C\n45.000C      7.222F &lt;&gt;   50.000F    122.000C\n50.000C     10.000F &lt;&gt;   50.000F    122.000C\n\nMy expected outcome should be:\n30.000C   -1.111F &lt;&gt; 30.000C     86.000F\n35.000C    1.667F &lt;&gt; 35.000C     95.000F\n40.000C    4.444F &lt;&gt; 40.000C    104.000F\n45.000C    7.222F &lt;&gt; 45.000C    113.000F\n50.000C    10.000F&lt;&gt; 50.000C    122.000F\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1657253169,"post_id":72906484,"comment_id":128771821,"body_markdown":"The first line in the blog post you linked to has a pretty good answer.. _&quot;The Builder pattern is a creational design pattern that lets you construct complex objects step by step.&quot;_","body":"The first line in the blog post you linked to has a pretty good answer.. <i>&quot;The Builder pattern is a creational design pattern that lets you construct complex objects step by step.&quot;</i>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1657256443,"post_id":72906484,"comment_id":128772316,"body_markdown":"Design patterns are not obligatory.  If you don&#39;t think a given design pattern will help your particular use-case ... don&#39;t use it.  The example above is one where the benefit is marginal.  But in other use-cases, the builder pattern is helpful.","body":"Design patterns are not obligatory.  If you don&#39;t think a given design pattern will help your particular use-case ... don&#39;t use it.  The example above is one where the benefit is marginal.  But in other use-cases, the builder pattern is helpful."}],"owner":{"account_id":13192885,"reputation":50,"user_id":9857097,"display_name":"LFC"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657252952,"answer_count":0,"score":0,"last_activity_date":1657252781,"creation_date":1657252781,"question_id":72906484,"body_markdown":"I came across a [blog](https://medium.com/@gaurav.k.tyagi.1/builder-design-pattern-java-a87a831633a1) on medium which highlights the use of builder design pattern. First they create a person POJO class\r\n```\r\npublic class Person {\r\n\r\n    private final String firstName;\r\n    private final String lastName;\r\n    private final int age;\r\n    private final String height;\r\n    private final String weight;\r\n    private final String eyesColor;\r\n    private final String hairColor;\r\n    private final String birthPlace;\r\n    private final Date birthDate;\r\n    private final int numberOfSibling;\r\n    private final boolean married;\r\n   // Private Constructor\r\n    private Person(PersonBuilder builder){\r\n        this.firstName = builder.firstName;\r\n        this.lastName = builder.lastName;\r\n        this.age = builder.age;\r\n        this.height = builder.height;\r\n        this.weight = builder.weight;\r\n        this.eyesColor = builder.eyesColor;\r\n        this.hairColor = builder.hairColor;\r\n        this.birthPlace = builder.birthPlace;\r\n        this.birthDate = builder.birthDate;\r\n        this.numberOfSibling = builder.numberOfSibling;\r\n        this.married = builder.married;\r\n    }\r\n\r\n    // Static Inner Class with same parameters\r\n    public static class PersonBuilder{\r\n\r\n        private String firstName;\r\n        private String lastName;\r\n        private int age;\r\n        private String height;\r\n        private String weight;\r\n        private String eyesColor;\r\n        private String hairColor;\r\n        private String birthPlace;\r\n        private Date birthDate;\r\n        private int numberOfSibling;\r\n        private boolean married;\r\n        public PersonBuilder(){}\r\n/* If you have some necessary/compulsary parameters then you can use parametrized constructor instead of default constructor.\r\n        public PersonBuilder(String firstName){\r\n            this.firstName = firstName;\r\n       }  */\r\n        public PersonBuilder setFirstName(String firstName){\r\n            this.firstName = firstName;\r\n            return this;\r\n        }\r\n\r\n        public PersonBuilder setLastName(String lastName){\r\n            this.lastName = lastName;\r\n            return this;\r\n        }\r\n\r\n        public PersonBuilder setAge(int age){\r\n            this.age = age;\r\n            return this;\r\n        }\r\n\r\n        public PersonBuilder setHeight(String height){\r\n            this.height = height;\r\n            return this;\r\n        }\r\n\r\n        public PersonBuilder setWeight(String weight){\r\n            this.weight = weight;\r\n            return this;\r\n        }\r\n\r\n        public PersonBuilder setEyesColor(String eyesColor){\r\n            this.eyesColor = eyesColor;\r\n            return this;\r\n        }\r\n\r\n        public PersonBuilder setHairColor(String hairColor){\r\n            this.hairColor = hairColor;\r\n            return this;\r\n        }\r\n\r\n        public PersonBuilder setBirthPlace(String birthPlace){\r\n            this.birthPlace = birthPlace;\r\n            return this;\r\n        }\r\n\r\n        public PersonBuilder setBirthDate(Date birthDate){\r\n            this.birthDate = birthDate;\r\n            return this;\r\n        }\r\n\r\n        public PersonBuilder setNumberOfSibling(int numberOfSibling){\r\n            this.numberOfSibling = numberOfSibling;\r\n            return this;\r\n        }\r\n\r\n        public PersonBuilder setMarried(boolean married){\r\n            this.married = married;\r\n            return this;\r\n        }\r\n\r\n        public Person build(){\r\n            Person person = new Person(this);\r\n            return person;\r\n        }\r\n    }\r\n}\r\n```\r\nThey then create an object by invoking the build method as :-\r\n```\r\nPerson person = new Person.PersonBuilder()\r\n                .setFirstName(&quot;Gaurav Tyagi&quot;)\r\n                .setAge(30)\r\n                .setBirthPlace(&quot;India&quot;)\r\n                .setMarried(true)\r\n                .setNumberOfSibling(2)\r\n                .build();\r\n```\r\nI want to know what benefit does this builder design pattern offer. I can create Person class as -\r\n```\r\npublic class Person{\r\n private final String firstName;\r\n    private final String lastName;\r\n    private final int age;\r\n//and other properties\r\npublic Person(){}\r\npublic Person setAge(int age)\r\n{\r\nthis.age=age;\r\nreturn this;\r\n} \r\n// and other setters returning Person object\r\n}\r\n```\r\nand create object\r\n```\r\nPerson person=new Person().setAge(20).setName(&quot;Samarth&quot;); // and other setters chained together.\r\n```\r\nI can get similar results and I even don&#39;t need the build method and also don&#39;t need to create a nested static class with repeated properties. Correct me if I am wrong! ","title":"What is the need of Builder design pattern in Java?","body":"<p>I came across a <a href=\"https://medium.com/@gaurav.k.tyagi.1/builder-design-pattern-java-a87a831633a1\" rel=\"nofollow noreferrer\">blog</a> on medium which highlights the use of builder design pattern. First they create a person POJO class</p>\n<pre><code>public class Person {\n\n    private final String firstName;\n    private final String lastName;\n    private final int age;\n    private final String height;\n    private final String weight;\n    private final String eyesColor;\n    private final String hairColor;\n    private final String birthPlace;\n    private final Date birthDate;\n    private final int numberOfSibling;\n    private final boolean married;\n   // Private Constructor\n    private Person(PersonBuilder builder){\n        this.firstName = builder.firstName;\n        this.lastName = builder.lastName;\n        this.age = builder.age;\n        this.height = builder.height;\n        this.weight = builder.weight;\n        this.eyesColor = builder.eyesColor;\n        this.hairColor = builder.hairColor;\n        this.birthPlace = builder.birthPlace;\n        this.birthDate = builder.birthDate;\n        this.numberOfSibling = builder.numberOfSibling;\n        this.married = builder.married;\n    }\n\n    // Static Inner Class with same parameters\n    public static class PersonBuilder{\n\n        private String firstName;\n        private String lastName;\n        private int age;\n        private String height;\n        private String weight;\n        private String eyesColor;\n        private String hairColor;\n        private String birthPlace;\n        private Date birthDate;\n        private int numberOfSibling;\n        private boolean married;\n        public PersonBuilder(){}\n/* If you have some necessary/compulsary parameters then you can use parametrized constructor instead of default constructor.\n        public PersonBuilder(String firstName){\n            this.firstName = firstName;\n       }  */\n        public PersonBuilder setFirstName(String firstName){\n            this.firstName = firstName;\n            return this;\n        }\n\n        public PersonBuilder setLastName(String lastName){\n            this.lastName = lastName;\n            return this;\n        }\n\n        public PersonBuilder setAge(int age){\n            this.age = age;\n            return this;\n        }\n\n        public PersonBuilder setHeight(String height){\n            this.height = height;\n            return this;\n        }\n\n        public PersonBuilder setWeight(String weight){\n            this.weight = weight;\n            return this;\n        }\n\n        public PersonBuilder setEyesColor(String eyesColor){\n            this.eyesColor = eyesColor;\n            return this;\n        }\n\n        public PersonBuilder setHairColor(String hairColor){\n            this.hairColor = hairColor;\n            return this;\n        }\n\n        public PersonBuilder setBirthPlace(String birthPlace){\n            this.birthPlace = birthPlace;\n            return this;\n        }\n\n        public PersonBuilder setBirthDate(Date birthDate){\n            this.birthDate = birthDate;\n            return this;\n        }\n\n        public PersonBuilder setNumberOfSibling(int numberOfSibling){\n            this.numberOfSibling = numberOfSibling;\n            return this;\n        }\n\n        public PersonBuilder setMarried(boolean married){\n            this.married = married;\n            return this;\n        }\n\n        public Person build(){\n            Person person = new Person(this);\n            return person;\n        }\n    }\n}\n</code></pre>\n<p>They then create an object by invoking the build method as :-</p>\n<pre><code>Person person = new Person.PersonBuilder()\n                .setFirstName(&quot;Gaurav Tyagi&quot;)\n                .setAge(30)\n                .setBirthPlace(&quot;India&quot;)\n                .setMarried(true)\n                .setNumberOfSibling(2)\n                .build();\n</code></pre>\n<p>I want to know what benefit does this builder design pattern offer. I can create Person class as -</p>\n<pre><code>public class Person{\n private final String firstName;\n    private final String lastName;\n    private final int age;\n//and other properties\npublic Person(){}\npublic Person setAge(int age)\n{\nthis.age=age;\nreturn this;\n} \n// and other setters returning Person object\n}\n</code></pre>\n<p>and create object</p>\n<pre><code>Person person=new Person().setAge(20).setName(&quot;Samarth&quot;); // and other setters chained together.\n</code></pre>\n<p>I can get similar results and I even don't need the build method and also don't need to create a nested static class with repeated properties. Correct me if I am wrong!</p>\n"},{"tags":["java","spring","unit-testing","mockito","junit4"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1657299597,"post_id":72906442,"comment_id":128785528,"body_markdown":"you might need to mock the response for this function also `API.get()` can u show the actual code ?","body":"you might need to mock the response for this function also <code>API.get()</code> can u show the actual code ?"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1657308386,"post_id":72906442,"comment_id":128788123,"body_markdown":"One common way is to create SomeApiService exposing static methods of external API, and inject SomeApiService to the controller. Note that there might be a better way - spring has a ton of functionality around authentication, it is difficult to suggest sth without knowing more about your external API.","body":"One common way is to create SomeApiService exposing static methods of external API, and inject SomeApiService to the controller. Note that there might be a better way - spring has a ton of functionality around authentication, it is difficult to suggest sth without knowing more about your external API."},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1657312289,"post_id":72906442,"comment_id":128789167,"body_markdown":"Show me the codes of `API.get();` . Ideally , it should have some way to configure which user to be returned when it is called.","body":"Show me the codes of <code>API.get();</code> . Ideally , it should have some way to configure which user to be returned when it is called."}],"owner":{"account_id":18049123,"reputation":119,"user_id":13119267,"display_name":"MusicalChicken"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657252242,"creation_date":1657252242,"question_id":72906442,"body_markdown":"I have a function and a unit test of it via mockito. I have trouble in checking the arguments. Here is the function code:  \r\n```\r\nimport API;\r\npublic class Controller {\r\n     private Service service;\r\n     public void testingFunction(String path, String name){\r\n           String user = API.get(); // the function gets the userName from a API\r\n           this.service.putInformation(path, name, user);  \r\n     }\r\n}\r\n```\r\n\r\nAnd here is my tester for the `testingFunction`:\r\n```\r\n    @Mock\r\n    Service service;\r\n\r\n    @InjectMocks\r\n    Controller controller;\r\n\r\n    private static final String TEST_USER = &quot;userName&quot;;\r\n    private static final String PATH = &quot;test path&quot;;\r\n    private static final String NAME = &quot;test name&quot;;\r\n\r\n    @Test\r\n    public void valid_test() {\r\n        controller.testingFunction(PATH, NAME);\r\n        Mockito.verify(service).putInformation(eq(PATH), eq(NAME), eq(TEST_USER));\r\n    }\r\n```\r\nHowever, I got the error that `Argument(s) are different! Actual invocation has different arguments`. The different argument is USER because one is TEST_USER and one is null.\r\n\r\nIt can be passed by the anyString(). However, I&#39;m worried that the test isn&#39;t strict enough without argument check.\r\nI&#39;m not sure how to mock the API because it&#39;s external.\r\n\r\nThank you for any suggestions!\r\n","title":"how to test method if testing func and mocking func have different argument","body":"<p>I have a function and a unit test of it via mockito. I have trouble in checking the arguments. Here is the function code:</p>\n<pre><code>import API;\npublic class Controller {\n     private Service service;\n     public void testingFunction(String path, String name){\n           String user = API.get(); // the function gets the userName from a API\n           this.service.putInformation(path, name, user);  \n     }\n}\n</code></pre>\n<p>And here is my tester for the <code>testingFunction</code>:</p>\n<pre><code>    @Mock\n    Service service;\n\n    @InjectMocks\n    Controller controller;\n\n    private static final String TEST_USER = &quot;userName&quot;;\n    private static final String PATH = &quot;test path&quot;;\n    private static final String NAME = &quot;test name&quot;;\n\n    @Test\n    public void valid_test() {\n        controller.testingFunction(PATH, NAME);\n        Mockito.verify(service).putInformation(eq(PATH), eq(NAME), eq(TEST_USER));\n    }\n</code></pre>\n<p>However, I got the error that <code>Argument(s) are different! Actual invocation has different arguments</code>. The different argument is USER because one is TEST_USER and one is null.</p>\n<p>It can be passed by the anyString(). However, I'm worried that the test isn't strict enough without argument check.\nI'm not sure how to mock the API because it's external.</p>\n<p>Thank you for any suggestions!</p>\n"},{"tags":["java","neo4j"],"comments":[{"owner":{"account_id":9963444,"reputation":12317,"user_id":7371893,"display_name":"jose_bacoy"},"score":0,"creation_date":1657123254,"post_id":72885721,"comment_id":128736689,"body_markdown":"The error says &quot;the id you are using to run the neo4j service does not have access to create files on that directory: /User/Desktop/db2/logs&quot;.  Try using sudo neo4j console to start the start the db","body":"The error says &quot;the id you are using to run the neo4j service does not have access to create files on that directory: /User/Desktop/db2/logs&quot;.  Try using sudo neo4j console to start the start the db"}],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657252234,"creation_date":1657251865,"answer_id":72906417,"question_id":72885721,"body_markdown":"You posted this error:\r\n```\r\njava.io.IOException: Unable to create directory path [/User/Desktop/db2/logs] for Neo4j store.\r\n```\r\nFrom that error, it looks like:\r\n* Neo4j was installed at &quot;/User/Desktop/db2&quot;\r\n* The permissions for that directory do not have &quot;write&quot; permission\r\n\r\nI tried to reproduce this locally using Neo4j Community 4.4.5, following the steps below.\r\nI do see an IOException related to &quot;logs&quot;, but it&#39;s slightly different from what you posted. Perhaps we&#39;re on different versions of Neo4j.\r\n\r\n* Open terminal into install directory: `cd neo4j`\r\n* Verify &quot;neo4j&quot; is stopped: `./bin/neo4j stop`\r\n* Rename existing &quot;logs&quot; directory: `mv logs logs.save`\r\n* Remove write permission for the Neo4j install: `chmod u-w .`\r\n* Start neo4j in console mode: `./bin/neo4j console`\r\n* Observe errors in console output\r\n\t```\r\n\t2022-07-08 03:28:38.081+0000 INFO  Starting...\r\n\tERROR StatusLogger Unable to create file [****************************]/neo4j/logs/debug.log\r\n\t java.io.IOException: Could not create directory [****************************]/neo4j/logs\r\n\t...\r\n\t```\r\n\r\nTo fix things, try:\r\n* Get a terminal into your Neo4j directory:\r\n\t```\r\n\tcd /User/Desktop/db2\r\n\t```\r\n* Set write permissions for the entire directory tree:\r\n\t```\r\n\tchmod u+w -R .\r\n\t```\r\n* Start neo4j in console mode:\r\n\t```\r\n\t./bin/neo4j console\r\n\t```\r\n\r\nIf this works and you&#39;re able to run neo4j fine, it points to an issue with user permissions when running neo4j as a system service.\r\nThe best steps from there depend on the system, your access, how comfortable you are making changes, probably other things. An easy, brute-force hammer would be to manually create each directory you discover (such as &quot;/User/Desktop/db2/logs&quot;) and grant premissions to all users (`chmod ugo+w .`), then try re-running the service, see what errors pop up. Repeat that until you&#39;re able to run the service without errors.\r\n","title":"Unable to create directory path [/User/Desktop/db2/logs] for Neo4j store","body":"<p>You posted this error:</p>\n<pre><code>java.io.IOException: Unable to create directory path [/User/Desktop/db2/logs] for Neo4j store.\n</code></pre>\n<p>From that error, it looks like:</p>\n<ul>\n<li>Neo4j was installed at &quot;/User/Desktop/db2&quot;</li>\n<li>The permissions for that directory do not have &quot;write&quot; permission</li>\n</ul>\n<p>I tried to reproduce this locally using Neo4j Community 4.4.5, following the steps below.\nI do see an IOException related to &quot;logs&quot;, but it's slightly different from what you posted. Perhaps we're on different versions of Neo4j.</p>\n<ul>\n<li>Open terminal into install directory: <code>cd neo4j</code></li>\n<li>Verify &quot;neo4j&quot; is stopped: <code>./bin/neo4j stop</code></li>\n<li>Rename existing &quot;logs&quot; directory: <code>mv logs logs.save</code></li>\n<li>Remove write permission for the Neo4j install: <code>chmod u-w .</code></li>\n<li>Start neo4j in console mode: <code>./bin/neo4j console</code></li>\n<li>Observe errors in console output\n<pre><code>2022-07-08 03:28:38.081+0000 INFO  Starting...\nERROR StatusLogger Unable to create file [****************************]/neo4j/logs/debug.log\n java.io.IOException: Could not create directory [****************************]/neo4j/logs\n...\n</code></pre>\n</li>\n</ul>\n<p>To fix things, try:</p>\n<ul>\n<li>Get a terminal into your Neo4j directory:\n<pre><code>cd /User/Desktop/db2\n</code></pre>\n</li>\n<li>Set write permissions for the entire directory tree:\n<pre><code>chmod u+w -R .\n</code></pre>\n</li>\n<li>Start neo4j in console mode:\n<pre><code>./bin/neo4j console\n</code></pre>\n</li>\n</ul>\n<p>If this works and you're able to run neo4j fine, it points to an issue with user permissions when running neo4j as a system service.\nThe best steps from there depend on the system, your access, how comfortable you are making changes, probably other things. An easy, brute-force hammer would be to manually create each directory you discover (such as &quot;/User/Desktop/db2/logs&quot;) and grant premissions to all users (<code>chmod ugo+w .</code>), then try re-running the service, see what errors pop up. Repeat that until you're able to run the service without errors.</p>\n"}],"owner":{"account_id":25597657,"reputation":25,"user_id":19373138,"display_name":"Giammaria Giordano"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657252234,"creation_date":1657119236,"question_id":72885721,"body_markdown":"I am trying to use a tool that, in two steps, analyzes code smells for android.\r\nIn the first step, the tool parses an apk and generates within a directory .db files that should then be converted to CSV files in the next step; however, whenever I try to run the second step, the console returns the following error:\r\n``` \r\njava.io.IOException: Unable to create directory path [/User/Desktop/db2/logs] for Neo4j store.\r\n``` \r\n\r\nI think it is a Neo4J configuration problem.\r\nI am currently running the tool with the following Java configuration:\r\n``` \r\necho $JAVA_HOME \r\n/home/User/openlogic-openjdk-11.0.15\r\n``` \r\n``` \r\nupdate-alternatives --config java\r\n* 0 /usr/lib/jvm/java-11-openjdk-amd64/bin/java 1111 auto mode\r\n``` \r\nTo be safe, I also started Neo4J, which returned the following output\r\n``` \r\nsudo systemctl status neo4j.service\r\n``` \r\n``` \r\nneo4j.service - Neo4j Graph Database\r\n     Loaded: loaded (/lib/systemd/system/neo4j.service; enabled; vendor preset: enabled)\r\n     Active: active (running) since Wed 2022-07-06 20:11:04 CEST; 16min ago\r\n   Main PID: 1040 (java)\r\n      Tasks: 57 (limit: 18901)\r\n     Memory: 705.4M\r\n        CPU: 16.639s\r\n     CGroup: /system.slice/neo4j.service\r\n             └─1040 /usr/bin/java -cp &quot;/var/lib/neo4j/plugins:/etc/neo4j:/usr/share/neo4j/lib/*:/var/lib/neo4j/plugins/*&quot; -XX:+UseG1GC -XX:-OmitStackTraceInFastThrow -XX:+AlwaysPreTouch -XX:+UnlockExper&gt;.\r\n``` \r\n\r\nHow can I solve this?","title":"Unable to create directory path [/User/Desktop/db2/logs] for Neo4j store","body":"<p>I am trying to use a tool that, in two steps, analyzes code smells for android.\nIn the first step, the tool parses an apk and generates within a directory .db files that should then be converted to CSV files in the next step; however, whenever I try to run the second step, the console returns the following error:</p>\n<pre><code>java.io.IOException: Unable to create directory path [/User/Desktop/db2/logs] for Neo4j store.\n</code></pre>\n<p>I think it is a Neo4J configuration problem.\nI am currently running the tool with the following Java configuration:</p>\n<pre><code>echo $JAVA_HOME \n/home/User/openlogic-openjdk-11.0.15\n</code></pre>\n<pre><code>update-alternatives --config java\n* 0 /usr/lib/jvm/java-11-openjdk-amd64/bin/java 1111 auto mode\n</code></pre>\n<p>To be safe, I also started Neo4J, which returned the following output</p>\n<pre><code>sudo systemctl status neo4j.service\n</code></pre>\n<pre><code>neo4j.service - Neo4j Graph Database\n     Loaded: loaded (/lib/systemd/system/neo4j.service; enabled; vendor preset: enabled)\n     Active: active (running) since Wed 2022-07-06 20:11:04 CEST; 16min ago\n   Main PID: 1040 (java)\n      Tasks: 57 (limit: 18901)\n     Memory: 705.4M\n        CPU: 16.639s\n     CGroup: /system.slice/neo4j.service\n             └─1040 /usr/bin/java -cp &quot;/var/lib/neo4j/plugins:/etc/neo4j:/usr/share/neo4j/lib/*:/var/lib/neo4j/plugins/*&quot; -XX:+UseG1GC -XX:-OmitStackTraceInFastThrow -XX:+AlwaysPreTouch -XX:+UnlockExper&gt;.\n</code></pre>\n<p>How can I solve this?</p>\n"},{"tags":["java","apache-poi","xwpf"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657252010,"creation_date":1657117757,"answer_id":72885349,"question_id":72884458,"body_markdown":"If the table is in an editable region (between `PermStart` and `PermEnd`) then it will be editable including adding rows. \r\n\r\nThe `PermStart` and `PermEnd` can be inserted in document body using\r\n\r\n    // CTPermStart marking the start of unprotected range  \r\n    CTPermStart ctPermStart = document.getDocument().getBody().addNewPermStart();\r\n    ctPermStart.setEdGrp(STEdGrp.EVERYONE);\r\n    ctPermStart.setId(&quot;123456&quot;); //note the Id\r\n\r\nand\r\n\r\n    // CTPerm marking the end of unprotected range  \r\n    document.getDocument().getBody().addNewPermEnd().setId(&quot;123456&quot;); //note the same Id\r\n\r\nAll body elements between this `PermStart` and `PermEnd` are  editable in a protected document. That is true also for tables between this `PermStart` and `PermEnd`.\r\n\r\nIf only parts of tables shall be editable, then `PermStart` and `PermEnd` also can be inserted within the table. For example if only the last row of a table shall be editable and new rows shall be insertable, then:\r\n\r\n    XWPFTable table = ...;\r\n    ...  \r\n    // CTPermStart marking the start of unprotected range  \r\n    ctPermStart = table.getCTTbl().addNewPermStart();\r\n    ctPermStart.setEdGrp(STEdGrp.EVERYONE);\r\n    ctPermStart.setId(&quot;789012&quot;); //note the Id\r\n  \r\n    XWPFTableRow row = table.createRow();\r\n\r\n    // CTPerm marking the end of unprotected range  \r\n    table.getCTTbl().addNewPermEnd().setId(&quot;789012&quot;); //note the same Id\r\n    ...\r\n\r\nComplete example:\r\n\r\n    import java.io.*;\r\n    \r\n    import org.apache.poi.wp.usermodel.*;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    \r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTPermStart;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.STEdGrp;\r\n    \r\n    public class CreateWordPartialProtected {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      XWPFDocument document= new XWPFDocument();\r\n    \r\n      // create header\r\n      XWPFHeader header = document.createHeader(HeaderFooterType.DEFAULT);\r\n    \r\n      XWPFParagraph paragraph = header.createParagraph();\r\n      paragraph.setAlignment(ParagraphAlignment.LEFT);\r\n    \r\n      XWPFRun run = paragraph.createRun();  \r\n      run.setText(&quot;The page header:&quot;);\r\n    \r\n      // create footer\r\n      XWPFFooter footer = document.createFooter(HeaderFooterType.DEFAULT);\r\n    \r\n      paragraph = footer.createParagraph();\r\n      paragraph.setAlignment(ParagraphAlignment.CENTER);\r\n    \r\n      run = paragraph.createRun();  \r\n      run.setText(&quot;Page &quot;);\r\n      paragraph.getCTP().addNewFldSimple().setInstr(&quot;PAGE \\\\* MERGEFORMAT&quot;);\r\n      run = paragraph.createRun();  \r\n      run.setText(&quot; of &quot;);\r\n      paragraph.getCTP().addNewFldSimple().setInstr(&quot;NUMPAGES \\\\* MERGEFORMAT&quot;);\r\n    \r\n      // the body content\r\n      paragraph = document.createParagraph();\r\n      run=paragraph.createRun();  \r\n      run.setText(&quot;This body part is protected.&quot;);\r\n      paragraph = document.createParagraph();\r\n    \r\n      // CTPermStart marking the start of unprotected range  \r\n      CTPermStart ctPermStart = document.getDocument().getBody().addNewPermStart();\r\n      ctPermStart.setEdGrp(STEdGrp.EVERYONE);\r\n      ctPermStart.setId(&quot;123456&quot;); //note the Id\r\n    \r\n      paragraph = document.createParagraph();\r\n      run=paragraph.createRun();  \r\n      run.setText(&quot;This body part is not protected.&quot;);\r\n    \r\n      // CTPerm marking the end of unprotected range  \r\n      document.getDocument().getBody().addNewPermEnd().setId(&quot;123456&quot;); //note the same Id\r\n    \r\n      paragraph = document.createParagraph();\r\n    \r\n      paragraph = document.createParagraph();\r\n      run=paragraph.createRun();  \r\n      run.setText(&quot;This body part is protected again.&quot;);\r\n      paragraph = document.createParagraph();\r\n      \r\n    \r\n      XWPFTable table = document.createTable(1, 3);\r\n      table.setWidth(&quot;100%&quot;);\r\n      table.getRow(0).getCell(0).setText(&quot;Column 1&quot;);\r\n      table.getRow(0).getCell(1).setText(&quot;Column 2&quot;);\r\n      table.getRow(0).getCell(2).setText(&quot;Column 3&quot;);\r\n      \r\n      // CTPermStart marking the start of unprotected range  \r\n      ctPermStart = table.getCTTbl().addNewPermStart();\r\n      ctPermStart.setEdGrp(STEdGrp.EVERYONE);\r\n      ctPermStart.setId(&quot;789012&quot;); //note the Id\r\n      \r\n      XWPFTableRow row = table.createRow();\r\n    \r\n      // CTPerm marking the end of unprotected range  \r\n      table.getCTTbl().addNewPermEnd().setId(&quot;789012&quot;); //note the same Id\r\n      \r\n      paragraph = document.createParagraph();\r\n    \r\n      paragraph = document.createParagraph();\r\n      run=paragraph.createRun();  \r\n      run.setText(&quot;This body part is protected again.&quot;);\r\n      paragraph = document.createParagraph();\r\n    \r\n      document.enforceReadonlyProtection(&quot;passwd&quot;, org.apache.poi.poifs.crypt.HashAlgorithm.sha1); //enforce readonly protection\r\n    \r\n      FileOutputStream out = new FileOutputStream(&quot;CreateWordPartialProtected.docx&quot;);\r\n      document.write(out);\r\n      out.close();\r\n      document.close();\r\n    \r\n     }\r\n    }\r\n\r\n\r\nThis code is tested and works using `apache poi 5.2.2`. It produces a Word document having two editable regions. The second is in a table after the title row. So that title row is protected. The last row is in that editable region. So this row is editable and new rows can be inserted above and below that row. All this tested in `Microsoft Word 2017` and `Microsoft Word 365`. Other text-processing applications, which are able to handle `*.docx` files, might not respect editable regions.\r\n\r\n","title":"How to allow more rows to be created in apache POI with read only protection?","body":"<p>If the table is in an editable region (between <code>PermStart</code> and <code>PermEnd</code>) then it will be editable including adding rows.</p>\n<p>The <code>PermStart</code> and <code>PermEnd</code> can be inserted in document body using</p>\n<pre><code>// CTPermStart marking the start of unprotected range  \nCTPermStart ctPermStart = document.getDocument().getBody().addNewPermStart();\nctPermStart.setEdGrp(STEdGrp.EVERYONE);\nctPermStart.setId(&quot;123456&quot;); //note the Id\n</code></pre>\n<p>and</p>\n<pre><code>// CTPerm marking the end of unprotected range  \ndocument.getDocument().getBody().addNewPermEnd().setId(&quot;123456&quot;); //note the same Id\n</code></pre>\n<p>All body elements between this <code>PermStart</code> and <code>PermEnd</code> are  editable in a protected document. That is true also for tables between this <code>PermStart</code> and <code>PermEnd</code>.</p>\n<p>If only parts of tables shall be editable, then <code>PermStart</code> and <code>PermEnd</code> also can be inserted within the table. For example if only the last row of a table shall be editable and new rows shall be insertable, then:</p>\n<pre><code>XWPFTable table = ...;\n...  \n// CTPermStart marking the start of unprotected range  \nctPermStart = table.getCTTbl().addNewPermStart();\nctPermStart.setEdGrp(STEdGrp.EVERYONE);\nctPermStart.setId(&quot;789012&quot;); //note the Id\n\nXWPFTableRow row = table.createRow();\n\n// CTPerm marking the end of unprotected range  \ntable.getCTTbl().addNewPermEnd().setId(&quot;789012&quot;); //note the same Id\n...\n</code></pre>\n<p>Complete example:</p>\n<pre><code>import java.io.*;\n\nimport org.apache.poi.wp.usermodel.*;\n\nimport org.apache.poi.xwpf.usermodel.*;\n\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTPermStart;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.STEdGrp;\n\npublic class CreateWordPartialProtected {\n\n public static void main(String[] args) throws Exception {\n\n  XWPFDocument document= new XWPFDocument();\n\n  // create header\n  XWPFHeader header = document.createHeader(HeaderFooterType.DEFAULT);\n\n  XWPFParagraph paragraph = header.createParagraph();\n  paragraph.setAlignment(ParagraphAlignment.LEFT);\n\n  XWPFRun run = paragraph.createRun();  \n  run.setText(&quot;The page header:&quot;);\n\n  // create footer\n  XWPFFooter footer = document.createFooter(HeaderFooterType.DEFAULT);\n\n  paragraph = footer.createParagraph();\n  paragraph.setAlignment(ParagraphAlignment.CENTER);\n\n  run = paragraph.createRun();  \n  run.setText(&quot;Page &quot;);\n  paragraph.getCTP().addNewFldSimple().setInstr(&quot;PAGE \\\\* MERGEFORMAT&quot;);\n  run = paragraph.createRun();  \n  run.setText(&quot; of &quot;);\n  paragraph.getCTP().addNewFldSimple().setInstr(&quot;NUMPAGES \\\\* MERGEFORMAT&quot;);\n\n  // the body content\n  paragraph = document.createParagraph();\n  run=paragraph.createRun();  \n  run.setText(&quot;This body part is protected.&quot;);\n  paragraph = document.createParagraph();\n\n  // CTPermStart marking the start of unprotected range  \n  CTPermStart ctPermStart = document.getDocument().getBody().addNewPermStart();\n  ctPermStart.setEdGrp(STEdGrp.EVERYONE);\n  ctPermStart.setId(&quot;123456&quot;); //note the Id\n\n  paragraph = document.createParagraph();\n  run=paragraph.createRun();  \n  run.setText(&quot;This body part is not protected.&quot;);\n\n  // CTPerm marking the end of unprotected range  \n  document.getDocument().getBody().addNewPermEnd().setId(&quot;123456&quot;); //note the same Id\n\n  paragraph = document.createParagraph();\n\n  paragraph = document.createParagraph();\n  run=paragraph.createRun();  \n  run.setText(&quot;This body part is protected again.&quot;);\n  paragraph = document.createParagraph();\n  \n\n  XWPFTable table = document.createTable(1, 3);\n  table.setWidth(&quot;100%&quot;);\n  table.getRow(0).getCell(0).setText(&quot;Column 1&quot;);\n  table.getRow(0).getCell(1).setText(&quot;Column 2&quot;);\n  table.getRow(0).getCell(2).setText(&quot;Column 3&quot;);\n  \n  // CTPermStart marking the start of unprotected range  \n  ctPermStart = table.getCTTbl().addNewPermStart();\n  ctPermStart.setEdGrp(STEdGrp.EVERYONE);\n  ctPermStart.setId(&quot;789012&quot;); //note the Id\n  \n  XWPFTableRow row = table.createRow();\n\n  // CTPerm marking the end of unprotected range  \n  table.getCTTbl().addNewPermEnd().setId(&quot;789012&quot;); //note the same Id\n  \n  paragraph = document.createParagraph();\n\n  paragraph = document.createParagraph();\n  run=paragraph.createRun();  \n  run.setText(&quot;This body part is protected again.&quot;);\n  paragraph = document.createParagraph();\n\n  document.enforceReadonlyProtection(&quot;passwd&quot;, org.apache.poi.poifs.crypt.HashAlgorithm.sha1); //enforce readonly protection\n\n  FileOutputStream out = new FileOutputStream(&quot;CreateWordPartialProtected.docx&quot;);\n  document.write(out);\n  out.close();\n  document.close();\n\n }\n}\n</code></pre>\n<p>This code is tested and works using <code>apache poi 5.2.2</code>. It produces a Word document having two editable regions. The second is in a table after the title row. So that title row is protected. The last row is in that editable region. So this row is editable and new rows can be inserted above and below that row. All this tested in <code>Microsoft Word 2017</code> and <code>Microsoft Word 365</code>. Other text-processing applications, which are able to handle <code>*.docx</code> files, might not respect editable regions.</p>\n"}],"owner":{"account_id":25741159,"reputation":21,"user_id":19495148,"display_name":"mz0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657252010,"creation_date":1657114259,"question_id":72884458,"body_markdown":"I&#39;m working creating a docx file which needs to be readonly protected except in some fields. For those fields I have solved it with this:\r\n\r\n```\r\npInit.getCTP().addNewPermStart();\r\n...\r\npEnd.getCTP().addNewPermEnd();\r\n```\r\nBut now I want to allow adding new rows to a XWPFTable, but this line:\r\n```\r\ndocument.enforceReadonlyProtection(wordLockedPass, HashAlgorithm.sha1);\r\n```\r\nblock this functionality and I don&#39;t know what to do.\r\n\r\nThanks in advance!\r\n","title":"How to allow more rows to be created in apache POI with read only protection?","body":"<p>I'm working creating a docx file which needs to be readonly protected except in some fields. For those fields I have solved it with this:</p>\n<pre><code>pInit.getCTP().addNewPermStart();\n...\npEnd.getCTP().addNewPermEnd();\n</code></pre>\n<p>But now I want to allow adding new rows to a XWPFTable, but this line:</p>\n<pre><code>document.enforceReadonlyProtection(wordLockedPass, HashAlgorithm.sha1);\n</code></pre>\n<p>block this functionality and I don't know what to do.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","hyperlink","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":8159822,"reputation":653,"user_id":6144186,"display_name":"Nam Tran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657168856,"creation_date":1657168342,"answer_id":72892315,"question_id":44524118,"body_markdown":"This works, but need more some steps to get text formatting correctly:\r\n\r\n    \ttry (var fis = new FileInputStream(fileName);\r\n\t\t\t\tvar doc = new XWPFDocument(fis)) {\r\n\t\t\tvar pList = doc.getParagraphs();\r\n\t\t\tfor (var p : pList) {\r\n\t\t\t\tvar runs = p.getRuns();\r\n\t\t\t\tfor (int i = 0; i &lt; runs.size(); i++) {\r\n\t\t\t\t\tvar r = runs.get(i);\r\n\t\t\t\t\tif (r instanceof XWPFHyperlinkRun) {\r\n\t\t\t\t\t\tvar run = (XWPFHyperlinkRun) r;\r\n\t\t\t\t\t\tvar link = run.getHyperlink(doc);\r\n\t\t\t\t\t\t// To get text: link for checking\r\n\t\t\t\t\t\tSystem.out.println(run.getText(0) + &quot;: &quot; + link.getURL());\r\n\t\t\t\t\t\t// how i replace it\r\n\t\t\t\t\t\tvar run1 = p.insertNewHyperlinkRun(i, &quot;http://google.com&quot;);\r\n\t\t\t\t\t\trun1.setText(run.getText(0));\r\n\t\t\t\t\t\t// remove the old link\r\n\t\t\t\t\t\tp.removeRun(i + 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ttry (var fos = new FileOutputStream(outFileName)) {\r\n\t\t\t\tdoc.write(fos);\r\n\t\t\t}\r\n\t\t}\r\n\r\nI&#39;m using these libraries:\r\n\r\n    implementation &#39;org.apache.poi:poi:5.2.2&#39;\r\n\timplementation &#39;org.apache.poi:poi-ooxml:5.2.2&#39;","title":"How to edit a Hyperlink in a Word Document using Apache POI?","body":"<p>This works, but need more some steps to get text formatting correctly:</p>\n<pre><code>    try (var fis = new FileInputStream(fileName);\n            var doc = new XWPFDocument(fis)) {\n        var pList = doc.getParagraphs();\n        for (var p : pList) {\n            var runs = p.getRuns();\n            for (int i = 0; i &lt; runs.size(); i++) {\n                var r = runs.get(i);\n                if (r instanceof XWPFHyperlinkRun) {\n                    var run = (XWPFHyperlinkRun) r;\n                    var link = run.getHyperlink(doc);\n                    // To get text: link for checking\n                    System.out.println(run.getText(0) + &quot;: &quot; + link.getURL());\n                    // how i replace it\n                    var run1 = p.insertNewHyperlinkRun(i, &quot;http://google.com&quot;);\n                    run1.setText(run.getText(0));\n                    // remove the old link\n                    p.removeRun(i + 1);\n                }\n            }\n        }\n        try (var fos = new FileOutputStream(outFileName)) {\n            doc.write(fos);\n        }\n    }\n</code></pre>\n<p>I'm using these libraries:</p>\n<pre><code>implementation 'org.apache.poi:poi:5.2.2'\nimplementation 'org.apache.poi:poi-ooxml:5.2.2'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8494000,"reputation":1108,"user_id":6454838,"display_name":"NickAth"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657195442,"creation_date":1657195442,"answer_id":72897513,"question_id":44524118,"body_markdown":"I found a way to edit the url of the link in a &quot;indirect way&quot; (copy the previous hyperlink, modify the url, delete the previous hyperlink and add the new one in the paragraph). \r\n\r\nCode is shown below:\r\n\r\n    private void editLinksOfParagraph(XWPFParagraph paragraph, XWPFDocument document) {\r\n        for (int rIndex = 0; rIndex &lt; paragraph.getRuns().size(); rIndex++) {\r\n            XWPFRun run = paragraph.getRuns().get(rIndex);\r\n\r\n            if (run instanceof XWPFHyperlinkRun) {\r\n                // get the url of the link to edit it\r\n                XWPFHyperlink link = ((XWPFHyperlinkRun) run).getHyperlink(document);\r\n                String linkURL = link.getURL();\r\n                //get the xml representation of the hyperlink that includes all the information\r\n                XmlObject xmlObject = run.getCTR().copy();\r\n\r\n                linkURL += &quot;-edited-link&quot;; //edited url of the link, f.e add a &#39;-edited-link&#39; suffix\r\n                //remove the previous link from the paragraph\r\n                paragraph.removeRun(rIndex);\r\n                //add the new hyperlinked with updated url in the paragraph, in place of the previous deleted\r\n                XWPFHyperlinkRun hyperlinkRun = paragraph.insertNewHyperlinkRun(rIndex, linkURL);\r\n                hyperlinkRun.getCTR().set(xmlObject);\r\n            }\r\n        }\r\n    }","title":"How to edit a Hyperlink in a Word Document using Apache POI?","body":"<p>I found a way to edit the url of the link in a &quot;indirect way&quot; (copy the previous hyperlink, modify the url, delete the previous hyperlink and add the new one in the paragraph).</p>\n<p>Code is shown below:</p>\n<pre><code>private void editLinksOfParagraph(XWPFParagraph paragraph, XWPFDocument document) {\n    for (int rIndex = 0; rIndex &lt; paragraph.getRuns().size(); rIndex++) {\n        XWPFRun run = paragraph.getRuns().get(rIndex);\n\n        if (run instanceof XWPFHyperlinkRun) {\n            // get the url of the link to edit it\n            XWPFHyperlink link = ((XWPFHyperlinkRun) run).getHyperlink(document);\n            String linkURL = link.getURL();\n            //get the xml representation of the hyperlink that includes all the information\n            XmlObject xmlObject = run.getCTR().copy();\n\n            linkURL += &quot;-edited-link&quot;; //edited url of the link, f.e add a '-edited-link' suffix\n            //remove the previous link from the paragraph\n            paragraph.removeRun(rIndex);\n            //add the new hyperlinked with updated url in the paragraph, in place of the previous deleted\n            XWPFHyperlinkRun hyperlinkRun = paragraph.insertNewHyperlinkRun(rIndex, linkURL);\n            hyperlinkRun.getCTR().set(xmlObject);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657251345,"creation_date":1657197280,"answer_id":72897909,"question_id":44524118,"body_markdown":"This requirement needs knowledge about how hyperlinks referring to an external reference get stored in Microsoft Word documents and how this gets represented in `XWPF` of Apache POI.\r\n\r\nThe `XWPFHyperlinkRun` is the representation of a linked text run in a `IRunBody`. This text run, or even multiple text runs, is/are wrapped with a XML object of type `CTHyperlink`. This contains a relation ID which points to a relation in the package relations part. This package relation contains the URI which is the hyperlink&#39;s target.\r\n\r\nCurrently (`apache poi 5.2.2`) `XWPFHyperlinkRun` provides access to a `XWPFHyperlink`. But this is very rudimentary. It only has getters for the Id and the URI. It neither provides access to it&#39;s XWPFHyperlinkRun and it&#39;s IRunBody nor it provides a setter for the target URI in the package relations part. It not even has internally access to it&#39;s the package relations part.\r\n\r\nSo only using Apache POI classes the only possibility currently is to delete the old `XWPFHyperlinkRun` and create a new one pointing to the new URI. But as the text runs also contain the text formatting, deleting them will also delete the text formatting. It would must be copied from the old `XWPFHyperlinkRun` to the new before deleting the old one. That&#39;s uncomfortable. \r\n\r\nSo the rudimentary `XWPFHyperlink` should be extended to provide a setter for the target URI in the package relations part. A new class `XWPFHyperlinkExtended` could look like so:\r\n\r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    import org.apache.poi.openxml4j.opc.PackageRelationship;\r\n    import org.apache.poi.openxml4j.exceptions.InvalidFormatException;\r\n    \r\n    /**\r\n     * Extended XWPF hyperlink class\r\n     * Provides access to it&#39;s Id, URI, XWPFHyperlinkRun, IRunBody.\r\n     * Provides setting target URI in PackageRelationship.\r\n    */\r\n    public class XWPFHyperlinkExtended {\r\n    \t\r\n     private String id;\r\n     private String uri;\r\n     private XWPFHyperlinkRun hyperlinkRun;\r\n     private IRunBody runBody;\r\n     private PackageRelationship rel;\r\n    \r\n     public XWPFHyperlinkExtended(XWPFHyperlinkRun hyperlinkRun, PackageRelationship rel) {\r\n      this.id = rel.getId();\r\n      this.uri = rel.getTargetURI().toString();\r\n      this.hyperlinkRun = hyperlinkRun;\r\n      this.runBody = hyperlinkRun.getParent();\r\n      this.rel = rel;\r\n     }\r\n    \r\n     public String getId() {\r\n      return this.id;\r\n     }\r\n     public String getURI() {\r\n      return this.uri;\r\n     }\r\n     public IRunBody getIRunBody() {\r\n      return this.runBody; \r\n     }\r\n     public XWPFHyperlinkRun getHyperlinkRun() {\r\n      return this.hyperlinkRun; \r\n     }\r\n     \r\n     /**\r\n      * Provides setting target URI in PackageRelationship.\r\n      * The old PackageRelationship gets removed.\r\n      * A new PackageRelationship gets added using the same Id.\r\n     */\r\n     public void setTargetURI(String uri) {\r\n      this.runBody.getPart().getPackagePart().removeRelationship(this.getId());\r\n      this.uri = uri;\r\n      PackageRelationship rel = this.runBody.getPart().getPackagePart().addExternalRelationship(uri, XWPFRelation.HYPERLINK.getRelation(), this.getId());\r\n      this.rel = rel;\r\n     }\r\n      \r\n    }\r\n\r\nIt does not extend `XWPFHyperlink` as this is so rudimentary it&#39;s not worth it. Furthermore after `setTargetURI` the `String uri` needs to be updated. But there is no setter in `XWPFHyperlink` and the field is only accessible from inside the package.\r\n\r\nThe new `XWPFHyperlinkExtended` can be got from `XWPFHyperlinkRun` like so:\r\n\r\n     /**\r\n      * If this HyperlinkRun refers to an external reference hyperlink,\r\n      * return the XWPFHyperlinkExtended object for it.\r\n      * May return null if no PackageRelationship found.\r\n     */\t\r\n     /*modifiers*/ XWPFHyperlinkExtended getHyperlink(XWPFHyperlinkRun hyperlinkRun) {\r\n      try {\r\n       for (org.apache.poi.openxml4j.opc.PackageRelationship rel : hyperlinkRun.getParent().getPart().getPackagePart().getRelationshipsByType(XWPFRelation.HYPERLINK.getRelation())) {\t \r\n        if (rel.getId().equals(hyperlinkRun.getHyperlinkId())) {\r\n         return new XWPFHyperlinkExtended(hyperlinkRun, rel);\r\n        }\r\n       }\r\n      } catch (org.apache.poi.openxml4j.exceptions.InvalidFormatException ifex) {\r\n       // do nothing, simply do not return something\t  \r\n      }\r\n      return null;\t \r\n     }\r\n\r\nOnce we have that `XWPFHyperlinkExtended` we can set an new target URI using it&#39;s method `setTargetURI`.\r\n\r\n______________________________________________________________\r\n\r\nA further problem results from the fact, that the XML object of type `CTHyperlink` can wrap around multiple text runs, not only one. Then multiple `XWPFHyperlinkRun` are in one `CTHyperlink` and point to one target URI. For example this could look like:\r\n\r\n... [this **is** a **link** to **example.com**]-&gt;https://example.com ...\r\n\r\nThis results in 6 `XWPFHyperlinkRun`s in one `CTHyperlink` linking to https://example.com.\r\n\r\nThis leads to problems when link text needs to be changed when the link target changes. The text of all the 6 text runs is the link text. So which text run shall be changed?\r\n\r\nThe best I have found is a method  which sets the text of the first text run in the CTHyperlink. \r\n\r\n     /**\r\n      * Sets the text of the first text run in the CTHyperlink of this XWPFHyperlinkRun.\r\n      * Tries solving the problem when a CTHyperlink contains multiple text runs.\r\n      * Then the String value is set in first text run only. All other text runs are set empty.\r\n     */\t\r\n     /*modifiers*/ void setTextInFirstRun(XWPFHyperlinkRun hyperlinkRun, String value) {\r\n      org.openxmlformats.schemas.wordprocessingml.x2006.main.CTHyperlink ctHyperlink = hyperlinkRun.getCTHyperlink();\r\n      for (int r = 0; r &lt; ctHyperlink.getRList().size(); r++) {\r\n       org.openxmlformats.schemas.wordprocessingml.x2006.main.CTR ctR = ctHyperlink.getRList().get(r);\r\n       for (int t = 0; t &lt; ctR.getTList().size(); t++) {\r\n        org.openxmlformats.schemas.wordprocessingml.x2006.main.CTText ctText = ctR.getTList().get(t);\r\n        if (r == 0 &amp;&amp; t == 0) {\r\n         ctText.setStringValue(value);  \r\n        } else {\r\n         ctText.setStringValue(&quot;&quot;);  \r\n        }\r\n       }\r\n      }\r\n     }\r\n\r\nThere the `String` value is set in first text run only. All other text runs are set empty. The text formatting of the first text run remains.\r\n\r\n\r\n","title":"How to edit a Hyperlink in a Word Document using Apache POI?","body":"<p>This requirement needs knowledge about how hyperlinks referring to an external reference get stored in Microsoft Word documents and how this gets represented in <code>XWPF</code> of Apache POI.</p>\n<p>The <code>XWPFHyperlinkRun</code> is the representation of a linked text run in a <code>IRunBody</code>. This text run, or even multiple text runs, is/are wrapped with a XML object of type <code>CTHyperlink</code>. This contains a relation ID which points to a relation in the package relations part. This package relation contains the URI which is the hyperlink's target.</p>\n<p>Currently (<code>apache poi 5.2.2</code>) <code>XWPFHyperlinkRun</code> provides access to a <code>XWPFHyperlink</code>. But this is very rudimentary. It only has getters for the Id and the URI. It neither provides access to it's XWPFHyperlinkRun and it's IRunBody nor it provides a setter for the target URI in the package relations part. It not even has internally access to it's the package relations part.</p>\n<p>So only using Apache POI classes the only possibility currently is to delete the old <code>XWPFHyperlinkRun</code> and create a new one pointing to the new URI. But as the text runs also contain the text formatting, deleting them will also delete the text formatting. It would must be copied from the old <code>XWPFHyperlinkRun</code> to the new before deleting the old one. That's uncomfortable.</p>\n<p>So the rudimentary <code>XWPFHyperlink</code> should be extended to provide a setter for the target URI in the package relations part. A new class <code>XWPFHyperlinkExtended</code> could look like so:</p>\n<pre><code>import org.apache.poi.xwpf.usermodel.*;\nimport org.apache.poi.openxml4j.opc.PackageRelationship;\nimport org.apache.poi.openxml4j.exceptions.InvalidFormatException;\n\n/**\n * Extended XWPF hyperlink class\n * Provides access to it's Id, URI, XWPFHyperlinkRun, IRunBody.\n * Provides setting target URI in PackageRelationship.\n*/\npublic class XWPFHyperlinkExtended {\n    \n private String id;\n private String uri;\n private XWPFHyperlinkRun hyperlinkRun;\n private IRunBody runBody;\n private PackageRelationship rel;\n\n public XWPFHyperlinkExtended(XWPFHyperlinkRun hyperlinkRun, PackageRelationship rel) {\n  this.id = rel.getId();\n  this.uri = rel.getTargetURI().toString();\n  this.hyperlinkRun = hyperlinkRun;\n  this.runBody = hyperlinkRun.getParent();\n  this.rel = rel;\n }\n\n public String getId() {\n  return this.id;\n }\n public String getURI() {\n  return this.uri;\n }\n public IRunBody getIRunBody() {\n  return this.runBody; \n }\n public XWPFHyperlinkRun getHyperlinkRun() {\n  return this.hyperlinkRun; \n }\n \n /**\n  * Provides setting target URI in PackageRelationship.\n  * The old PackageRelationship gets removed.\n  * A new PackageRelationship gets added using the same Id.\n */\n public void setTargetURI(String uri) {\n  this.runBody.getPart().getPackagePart().removeRelationship(this.getId());\n  this.uri = uri;\n  PackageRelationship rel = this.runBody.getPart().getPackagePart().addExternalRelationship(uri, XWPFRelation.HYPERLINK.getRelation(), this.getId());\n  this.rel = rel;\n }\n  \n}\n</code></pre>\n<p>It does not extend <code>XWPFHyperlink</code> as this is so rudimentary it's not worth it. Furthermore after <code>setTargetURI</code> the <code>String uri</code> needs to be updated. But there is no setter in <code>XWPFHyperlink</code> and the field is only accessible from inside the package.</p>\n<p>The new <code>XWPFHyperlinkExtended</code> can be got from <code>XWPFHyperlinkRun</code> like so:</p>\n<pre><code> /**\n  * If this HyperlinkRun refers to an external reference hyperlink,\n  * return the XWPFHyperlinkExtended object for it.\n  * May return null if no PackageRelationship found.\n */ \n /*modifiers*/ XWPFHyperlinkExtended getHyperlink(XWPFHyperlinkRun hyperlinkRun) {\n  try {\n   for (org.apache.poi.openxml4j.opc.PackageRelationship rel : hyperlinkRun.getParent().getPart().getPackagePart().getRelationshipsByType(XWPFRelation.HYPERLINK.getRelation())) {   \n    if (rel.getId().equals(hyperlinkRun.getHyperlinkId())) {\n     return new XWPFHyperlinkExtended(hyperlinkRun, rel);\n    }\n   }\n  } catch (org.apache.poi.openxml4j.exceptions.InvalidFormatException ifex) {\n   // do nothing, simply do not return something      \n  }\n  return null;   \n }\n</code></pre>\n<p>Once we have that <code>XWPFHyperlinkExtended</code> we can set an new target URI using it's method <code>setTargetURI</code>.</p>\n<hr />\n<p>A further problem results from the fact, that the XML object of type <code>CTHyperlink</code> can wrap around multiple text runs, not only one. Then multiple <code>XWPFHyperlinkRun</code> are in one <code>CTHyperlink</code> and point to one target URI. For example this could look like:</p>\n<p>... [this <strong>is</strong> a <strong>link</strong> to <strong>example.com</strong>]-&gt;https://example.com ...</p>\n<p>This results in 6 <code>XWPFHyperlinkRun</code>s in one <code>CTHyperlink</code> linking to <a href=\"https://example.com\" rel=\"nofollow noreferrer\">https://example.com</a>.</p>\n<p>This leads to problems when link text needs to be changed when the link target changes. The text of all the 6 text runs is the link text. So which text run shall be changed?</p>\n<p>The best I have found is a method  which sets the text of the first text run in the CTHyperlink.</p>\n<pre><code> /**\n  * Sets the text of the first text run in the CTHyperlink of this XWPFHyperlinkRun.\n  * Tries solving the problem when a CTHyperlink contains multiple text runs.\n  * Then the String value is set in first text run only. All other text runs are set empty.\n */ \n /*modifiers*/ void setTextInFirstRun(XWPFHyperlinkRun hyperlinkRun, String value) {\n  org.openxmlformats.schemas.wordprocessingml.x2006.main.CTHyperlink ctHyperlink = hyperlinkRun.getCTHyperlink();\n  for (int r = 0; r &lt; ctHyperlink.getRList().size(); r++) {\n   org.openxmlformats.schemas.wordprocessingml.x2006.main.CTR ctR = ctHyperlink.getRList().get(r);\n   for (int t = 0; t &lt; ctR.getTList().size(); t++) {\n    org.openxmlformats.schemas.wordprocessingml.x2006.main.CTText ctText = ctR.getTList().get(t);\n    if (r == 0 &amp;&amp; t == 0) {\n     ctText.setStringValue(value);  \n    } else {\n     ctText.setStringValue(&quot;&quot;);  \n    }\n   }\n  }\n }\n</code></pre>\n<p>There the <code>String</code> value is set in first text run only. All other text runs are set empty. The text formatting of the first text run remains.</p>\n"}],"owner":{"account_id":6628090,"reputation":167,"user_id":5117622,"accept_rate":44,"display_name":"Su_toL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":928,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1657251345,"creation_date":1497363406,"question_id":44524118,"body_markdown":"So I&#39;ve been browsing around the source code / documentation for POI (specifically XWPF) and I can&#39;t seem to find anything that relates to editing a hyperlink in a .docx. I only see functionality to get the information for the currently set hyperlink. My goal is to change the hyperlink in a .docx to link to &quot;http://yahoo.com&quot; from &quot;http://google.com&quot; as an example. Any help would be greatly appreciated. Thanks!","title":"How to edit a Hyperlink in a Word Document using Apache POI?","body":"<p>So I've been browsing around the source code / documentation for POI (specifically XWPF) and I can't seem to find anything that relates to editing a hyperlink in a .docx. I only see functionality to get the information for the currently set hyperlink. My goal is to change the hyperlink in a .docx to link to \"<a href=\"http://yahoo.com\" rel=\"noreferrer\">http://yahoo.com</a>\" from \"<a href=\"http://google.com\" rel=\"noreferrer\">http://google.com</a>\" as an example. Any help would be greatly appreciated. Thanks!</p>\n"},{"tags":["java","zip"],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657249728,"creation_date":1657181777,"answer_id":72894442,"question_id":72893743,"body_markdown":"_**Warning:** The below causes each entry in the source ZIP file to be decompressed, only to immediately recompress it when copying it to the target ZIP file. As far as I can tell, this is unavoidable if all you have access to is the `ZipInputStream`. Perhaps someone else knows of a better approach. I would recommend modifying your code to somehow get the raw byte stream of the ZIP file, that way you can just dump the bytes into your target file._\r\n\r\n---\r\n\r\nIf I understand your goal correctly, you want to copy a ZIP file from one location to another, but you only have access to the ZIP file via a `ZipInputStream`. If that&#39;s the case, then you can implement this by opening a `ZipOutputStream` to the target file and copying the entries over.\r\n\r\nFor example:\r\n\r\n```lang-java\r\nimport java.io.File;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.util.zip.ZipEntry;\r\nimport java.util.zip.ZipInputStream;\r\nimport java.util.zip.ZipOutputStream;\r\n\r\npublic class Main {\r\n\r\n  public static void copyZipFile(ZipInputStream in, File target) throws IOException {\r\n    try (ZipOutputStream out = new ZipOutputStream(new FileOutputStream(target))) {\r\n      byte[] buffer = new byte[1024 * 8];\r\n\r\n      ZipEntry entry;\r\n      while ((entry = in.getNextEntry()) != null) {\r\n        out.putNextEntry(entry);\r\n        \r\n        int read;\r\n        while ((read = in.read(buffer)) != -1) {\r\n          out.write(buffer, 0, read);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    File target = /* your target file */;\r\n    try (ZipInputStream in = /* your ZipInputStream */) {\r\n      copyZipFile(in, target);\r\n    } catch (IOException ex) {\r\n      ex.printStackTrace();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nIt&#39;s important you close the streams when done with them (which is done via _try-with-resources_ in the above example).\r\n\r\nNote the manual buffer handling can be replaced with `InputStream#transferTo(OutputStream)` in Java 9+.","title":"How can I create a Zipfile and save it to my local path when I have access to ZipInputStream","body":"<p><em><strong>Warning:</strong> The below causes each entry in the source ZIP file to be decompressed, only to immediately recompress it when copying it to the target ZIP file. As far as I can tell, this is unavoidable if all you have access to is the <code>ZipInputStream</code>. Perhaps someone else knows of a better approach. I would recommend modifying your code to somehow get the raw byte stream of the ZIP file, that way you can just dump the bytes into your target file.</em></p>\n<hr />\n<p>If I understand your goal correctly, you want to copy a ZIP file from one location to another, but you only have access to the ZIP file via a <code>ZipInputStream</code>. If that's the case, then you can implement this by opening a <code>ZipOutputStream</code> to the target file and copying the entries over.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipInputStream;\nimport java.util.zip.ZipOutputStream;\n\npublic class Main {\n\n  public static void copyZipFile(ZipInputStream in, File target) throws IOException {\n    try (ZipOutputStream out = new ZipOutputStream(new FileOutputStream(target))) {\n      byte[] buffer = new byte[1024 * 8];\n\n      ZipEntry entry;\n      while ((entry = in.getNextEntry()) != null) {\n        out.putNextEntry(entry);\n        \n        int read;\n        while ((read = in.read(buffer)) != -1) {\n          out.write(buffer, 0, read);\n        }\n      }\n    }\n  }\n\n  public static void main(String[] args) {\n    File target = /* your target file */;\n    try (ZipInputStream in = /* your ZipInputStream */) {\n      copyZipFile(in, target);\n    } catch (IOException ex) {\n      ex.printStackTrace();\n    }\n  }\n}\n</code></pre>\n<p>It's important you close the streams when done with them (which is done via <em>try-with-resources</em> in the above example).</p>\n<p>Note the manual buffer handling can be replaced with <code>InputStream#transferTo(OutputStream)</code> in Java 9+.</p>\n"}],"owner":{"account_id":24048061,"reputation":118,"user_id":18026862,"display_name":"Arjun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657249728,"creation_date":1657178418,"question_id":72893743,"body_markdown":"I have a method which has access to the zip file&#39;s name and the zipInputStream object (The zipInputStream actually comes from a service which cannot take any additional changes). I want to save the contents of the zipInputStream as a ZIP file in a particular path on my system. Can someone help me with the best way to do this? \r\n\r\nPS: I&#39;m still finding my way around java","title":"How can I create a Zipfile and save it to my local path when I have access to ZipInputStream","body":"<p>I have a method which has access to the zip file's name and the zipInputStream object (The zipInputStream actually comes from a service which cannot take any additional changes). I want to save the contents of the zipInputStream as a ZIP file in a particular path on my system. Can someone help me with the best way to do this?</p>\n<p>PS: I'm still finding my way around java</p>\n"},{"tags":["java","macos","http"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1657242215,"post_id":72905635,"comment_id":128770374,"body_markdown":"My guess is that you don&#39;t have the right permissions set on the Mac. Don&#39;t much about MacOS, but I have a feeling that you need to set read/write privileges correctly for either the logged user or the application.","body":"My guess is that you don&#39;t have the right permissions set on the Mac. Don&#39;t much about MacOS, but I have a feeling that you need to set read/write privileges correctly for either the logged user or the application."},{"owner":{"account_id":18089914,"reputation":59,"user_id":13149761,"display_name":"NoThrottle"},"score":0,"creation_date":1657242433,"post_id":72905635,"comment_id":128770401,"body_markdown":"What do you mean by that? AFAIK, sudo is the only way to elevate a program, and the issue persists regardless of the elevation. Granted, I&#39;m basing off linux knowledge, macOS might work entirely differently. @hfontanez","body":"What do you mean by that? AFAIK, sudo is the only way to elevate a program, and the issue persists regardless of the elevation. Granted, I&#39;m basing off linux knowledge, macOS might work entirely differently. @hfontanez"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1657242679,"post_id":72905635,"comment_id":128770429,"body_markdown":"I would check your firewall, and all the firewalls in between this system and the outside world.  Maybe try `traceroute` to see where the packets die.","body":"I would check your firewall, and all the firewalls in between this system and the outside world.  Maybe try <code>traceroute</code> to see where the packets die."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1657242703,"post_id":72905635,"comment_id":128770431,"body_markdown":"Think about this... in Windows, if you are not an admin user, you will be denied access to a user folder that isn&#39;t the current user. I am sure MacOS has something similar. That&#39;s my guess.","body":"Think about this... in Windows, if you are not an admin user, you will be denied access to a user folder that isn&#39;t the current user. I am sure MacOS has something similar. That&#39;s my guess."},{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":1,"creation_date":1657243147,"post_id":72905635,"comment_id":128770489,"body_markdown":"If your client gets a 403 response, then shouldn&#39;t the server&#39;s error_log reveal the cause?","body":"If your client gets a 403 response, then shouldn&#39;t the server&#39;s error_log reveal the cause?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1657243606,"post_id":72905635,"comment_id":128770563,"body_markdown":"Well it has nothing to do with (1), NIO, (2) Java, (3) `sudo`, (4) local file permissions. The *server* denied you access. It doesn&#39;t know about any of these things. Possibly you got bounced by a local HTTP proxy.","body":"Well it has nothing to do with (1), NIO, (2) Java, (3) <code>sudo</code>, (4) local file permissions. The <i>server</i> denied you access. It doesn&#39;t know about any of these things. Possibly you got bounced by a local HTTP proxy."},{"owner":{"account_id":18089914,"reputation":59,"user_id":13149761,"display_name":"NoThrottle"},"score":0,"creation_date":1657244813,"post_id":72905635,"comment_id":128770746,"body_markdown":"@user207421 how would you suggest modifying the code above so it gives me more information (e.g the response body)? It seems downloading it every other way besides NIO works.","body":"@user207421 how would you suggest modifying the code above so it gives me more information (e.g the response body)? It seems downloading it every other way besides NIO works."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1657245351,"post_id":72905635,"comment_id":128770834,"body_markdown":"Is Java downloading from the Mac system in question?  Then I&#39;m going to guess that the SSL layer may not be working right for NIO.  I haven&#39;t looked at SSL on top of NIO thoroughly myself, so I&#39;m sorta guessing.","body":"Is Java downloading from the Mac system in question?  Then I&#39;m going to guess that the SSL layer may not be working right for NIO.  I haven&#39;t looked at SSL on top of NIO thoroughly myself, so I&#39;m sorta guessing."},{"owner":{"account_id":18089914,"reputation":59,"user_id":13149761,"display_name":"NoThrottle"},"score":0,"creation_date":1657245565,"post_id":72905635,"comment_id":128770859,"body_markdown":"@markspace Java is downloading to the mac. Unless I read your question wrong.","body":"@markspace Java is downloading to the mac. Unless I read your question wrong."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1657245572,"post_id":72905635,"comment_id":128770860,"body_markdown":"It doesn&#39;t have anything to do with the code. Do you have a local proxy set? and does Java know about it?","body":"It doesn&#39;t have anything to do with the code. Do you have a local proxy set? and does Java know about it?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1657245607,"post_id":72905635,"comment_id":128770864,"body_markdown":"@markspace The fact that a 403 response was received proves that it doesn&#39;t have anything to do with SSL.","body":"@markspace The fact that a 403 response was received proves that it doesn&#39;t have anything to do with SSL."},{"owner":{"account_id":18089914,"reputation":59,"user_id":13149761,"display_name":"NoThrottle"},"score":0,"creation_date":1657245949,"post_id":72905635,"comment_id":128770919,"body_markdown":"I removed all the code that attempts to clean up errors and added the full? error stack trace.","body":"I removed all the code that attempts to clean up errors and added the full? error stack trace."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1657246486,"post_id":72905635,"comment_id":128770984,"body_markdown":"@NoThrottle That&#39;s a fair point, I was thinking about it in terms of a Java IO error, not in terms of the server actually replying with an error code.","body":"@NoThrottle That&#39;s a fair point, I was thinking about it in terms of a Java IO error, not in terms of the server actually replying with an error code."}],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1657246161,"creation_date":1657245293,"answer_id":72905917,"question_id":72905635,"body_markdown":"With high probably, the HTTP server doesn&#39;t like the Java default [user agent ](http://www.useragentstring.com) header, which is being sent - or it&#39;s absence; use another client. This can easily be validated by comparing the server logs. https://datatracker.ietf.org/doc/html/rfc7231#section-6.5.3\r\n\r\nThe point is, that neither NIO `Channel` nor `URL` permit setting that header.","title":"Why is it that Java NIO Download works on Windows but returns Forbidden 403 on macOS?","body":"<p>With high probably, the HTTP server doesn't like the Java default <a href=\"http://www.useragentstring.com\" rel=\"nofollow noreferrer\">user agent </a> header, which is being sent - or it's absence; use another client. This can easily be validated by comparing the server logs. <a href=\"https://datatracker.ietf.org/doc/html/rfc7231#section-6.5.3\" rel=\"nofollow noreferrer\">https://datatracker.ietf.org/doc/html/rfc7231#section-6.5.3</a></p>\n<p>The point is, that neither NIO <code>Channel</code> nor <code>URL</code> permit setting that header.</p>\n"}],"owner":{"account_id":18089914,"reputation":59,"user_id":13149761,"display_name":"NoThrottle"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72905917,"answer_count":1,"score":0,"last_activity_date":1657247981,"creation_date":1657241785,"question_id":72905635,"body_markdown":"I have a small command-line program that I wrote for re-downloading files from a server in bulk. It works flawlessly in Windows, but doesn&#39;t seem to work in macOS. \r\n\r\nHere is the error I receive:\r\n\r\n```\r\nDownload failed: java.io.IOException: Server returned HTTP response code: 403 for URL:\r\nhttps://cdn.modrinth.com/data/P7dR8mSH/versions/0.56.3+1.19/fabric-api-0.56.3%2B1.19.jar\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1914)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1512)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:268)\r\n\tat java.net.URL.openStream(URL.java:1092)\r\n\tat main.downloadUsingNIO(main.java:37)\r\n\tat main.main(main.java:20)\r\n```\r\n\r\nRelevant code:\r\n```\r\n   private static void downloadUsingNIO(String urlStr, String file) throws IOException {\r\n       URL url = new URL(urlStr);\r\n       ReadableByteChannel rbc = Channels.newChannel(url.openStream());\r\n       FileOutputStream fos = new FileOutputStream(file);\r\n       fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);\r\n       fos.close();\r\n       rbc.close();\r\n   }\r\n```\r\n\r\nUsage:\r\n```\r\ndownloadUsingNIO(URLOFFILE, WHERETOSAVEANDTOWHATFILE);\r\n```\r\n\r\nOther information:\r\n 1. Both windows and macos accounts used are the primary administrator accounts.\r\n 2. running the jar with elevated permissions through &quot;sudo java -jar &quot; does not fix it.\r\n 3. The file is downloadable in safari with the same link.\r\n 4. The download works with &quot;curl -o thing.jar &lt;link&gt;&quot;\r\n 5. Tried Apache Commons.IO, didn&#39;t do anything as it uses the same code underneath (the stacktrace was the same)\r\n\r\n--------------------\r\n\r\nThank you for the answers, this is the code that I used to fix the issue:\r\n\r\n```\r\nprivate static void downloadUsingNIO(String Strurl, String path) throws IOException {\r\n\r\n        final URLConnection connection = new URL(Strurl).openConnection();\r\n        connection.addRequestProperty(&quot;User-Agent&quot;,\r\n                &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:102.0) Gecko/20100101 Firefox/102.0&quot;);\r\n\r\n        final int contentLength = connection.getContentLength();\r\n        final File end = new File(path);\r\n\r\n        if (end.exists()) {\r\n            final URLConnection savedFileConnection = end.toURI().toURL().openConnection();\r\n            if (savedFileConnection.getContentLength() == contentLength) {\r\n                return;\r\n            }\r\n        } else {\r\n            final File dir = end.getParentFile();\r\n            if (!dir.exists())\r\n                dir.mkdirs();\r\n        }\r\n\r\n        final ReadableByteChannel rbc = Channels.newChannel(connection.getInputStream());\r\n        final FileOutputStream fos = new FileOutputStream(end);\r\n        fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);\r\n        fos.close();\r\n\t\t\r\n        return;\r\n\t}\r\n```","title":"Why is it that Java NIO Download works on Windows but returns Forbidden 403 on macOS?","body":"<p>I have a small command-line program that I wrote for re-downloading files from a server in bulk. It works flawlessly in Windows, but doesn't seem to work in macOS.</p>\n<p>Here is the error I receive:</p>\n<pre><code>Download failed: java.io.IOException: Server returned HTTP response code: 403 for URL:\nhttps://cdn.modrinth.com/data/P7dR8mSH/versions/0.56.3+1.19/fabric-api-0.56.3%2B1.19.jar\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1914)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1512)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:268)\n    at java.net.URL.openStream(URL.java:1092)\n    at main.downloadUsingNIO(main.java:37)\n    at main.main(main.java:20)\n</code></pre>\n<p>Relevant code:</p>\n<pre><code>   private static void downloadUsingNIO(String urlStr, String file) throws IOException {\n       URL url = new URL(urlStr);\n       ReadableByteChannel rbc = Channels.newChannel(url.openStream());\n       FileOutputStream fos = new FileOutputStream(file);\n       fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);\n       fos.close();\n       rbc.close();\n   }\n</code></pre>\n<p>Usage:</p>\n<pre><code>downloadUsingNIO(URLOFFILE, WHERETOSAVEANDTOWHATFILE);\n</code></pre>\n<p>Other information:</p>\n<ol>\n<li>Both windows and macos accounts used are the primary administrator accounts.</li>\n<li>running the jar with elevated permissions through &quot;sudo java -jar &quot; does not fix it.</li>\n<li>The file is downloadable in safari with the same link.</li>\n<li>The download works with &quot;curl -o thing.jar &quot;</li>\n<li>Tried Apache Commons.IO, didn't do anything as it uses the same code underneath (the stacktrace was the same)</li>\n</ol>\n<hr />\n<p>Thank you for the answers, this is the code that I used to fix the issue:</p>\n<pre><code>private static void downloadUsingNIO(String Strurl, String path) throws IOException {\n\n        final URLConnection connection = new URL(Strurl).openConnection();\n        connection.addRequestProperty(&quot;User-Agent&quot;,\n                &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:102.0) Gecko/20100101 Firefox/102.0&quot;);\n\n        final int contentLength = connection.getContentLength();\n        final File end = new File(path);\n\n        if (end.exists()) {\n            final URLConnection savedFileConnection = end.toURI().toURL().openConnection();\n            if (savedFileConnection.getContentLength() == contentLength) {\n                return;\n            }\n        } else {\n            final File dir = end.getParentFile();\n            if (!dir.exists())\n                dir.mkdirs();\n        }\n\n        final ReadableByteChannel rbc = Channels.newChannel(connection.getInputStream());\n        final FileOutputStream fos = new FileOutputStream(end);\n        fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);\n        fos.close();\n        \n        return;\n    }\n</code></pre>\n"},{"tags":["java","google-api","gmail-api"],"comments":[{"owner":{"account_id":1628937,"reputation":13445,"user_id":1503886,"accept_rate":100,"display_name":"Jay Lee"},"score":0,"creation_date":1458911731,"post_id":36214968,"comment_id":60072632,"body_markdown":"What errors do you get?","body":"What errors do you get?"},{"owner":{"account_id":2215904,"reputation":3694,"user_id":1956510,"accept_rate":55,"display_name":"tqjustc"},"score":0,"creation_date":1458930319,"post_id":36214968,"comment_id":60082404,"body_markdown":"@JayLee  the output is one word: `Error`","body":"@JayLee  the output is one word: <code>Error</code>"},{"owner":{"account_id":6665255,"reputation":1742,"user_id":5143082,"accept_rate":83,"display_name":"Bhunnu Baba"},"score":0,"creation_date":1459142875,"post_id":36214968,"comment_id":60142098,"body_markdown":"do you see msg &quot;Invalid string value&quot; in your output?","body":"do you see msg &quot;Invalid string value&quot; in your output?"},{"owner":{"account_id":2652155,"reputation":28560,"user_id":2293534,"accept_rate":75,"display_name":"SkyWalker"},"score":0,"creation_date":1459275183,"post_id":36214968,"comment_id":60209177,"body_markdown":"@tqjustc Would you please provide **e.printStackTrace();** from your catch block? It will help to give you proper solution.","body":"@tqjustc Would you please provide <b>e.printStackTrace();</b> from your catch block? It will help to give you proper solution."},{"owner":{"account_id":2215904,"reputation":3694,"user_id":1956510,"accept_rate":55,"display_name":"tqjustc"},"score":0,"creation_date":1459312804,"post_id":36214968,"comment_id":60223882,"body_markdown":"@SkyWalker  It still printed:  400,  Bad request","body":"@SkyWalker  It still printed:  400,  Bad request"},{"owner":{"account_id":2652155,"reputation":28560,"user_id":2293534,"accept_rate":75,"display_name":"SkyWalker"},"score":0,"creation_date":1459477106,"post_id":36214968,"comment_id":60315222,"body_markdown":"@tqjustc Would you please check my updated answer? I have provided 2 running code as sample, some precautions and token related info. Hope it will help you.","body":"@tqjustc Would you please check my updated answer? I have provided 2 running code as sample, some precautions and token related info. Hope it will help you."},{"owner":{"account_id":1888725,"reputation":1493,"user_id":1707382,"display_name":"SlavaSt"},"score":0,"creation_date":1459509583,"post_id":36214968,"comment_id":60329635,"body_markdown":"Why don&#39;t you want to use google&#39;s Gmail Java API?  https://developers.google.com/gmail/api/quickstart/java","body":"Why don&#39;t you want to use google&#39;s Gmail Java API?  <a href=\"https://developers.google.com/gmail/api/quickstart/java\" rel=\"nofollow noreferrer\">developers.google.com/gmail/api/quickstart/java</a>"},{"owner":{"account_id":14157912,"reputation":105,"user_id":10228014,"display_name":"Tabish"},"score":0,"creation_date":1585370079,"post_id":36214968,"comment_id":107741319,"body_markdown":"I am facing the same error that is \n{\n    &quot;error&quot;: &quot;invalid_grant&quot;,\n    &quot;error_description&quot;: &quot;Bad Request&quot;\n}\nI am using the endpoint via postman can anyone tell me what i should use in grant_type parameter ?","body":"I am facing the same error that is  {     &quot;error&quot;: &quot;invalid_grant&quot;,     &quot;error_description&quot;: &quot;Bad Request&quot; } I am using the endpoint via postman can anyone tell me what i should use in grant_type parameter ?"},{"owner":{"account_id":4386610,"reputation":105,"user_id":3576562,"accept_rate":80,"display_name":"Programminghobby"},"score":0,"creation_date":1589239676,"post_id":36214968,"comment_id":109209909,"body_markdown":"@tqjustc I am trying to make Rest calls to the gmail api server without the gmail client library and without the user prompt to send emails in gmail. I see you are making a similar call in native java. In your java code above, where did your value for the &quot;code&quot; url parameter? Also the since I am programming the REST request to gmail api from my ionic/angular2 mobile(android/ios) app, and the link you have says &quot;The client_secret is not applicable to requests from clients registered as Android, iOS, or Chrome applications.&quot; do I skip the &quot;client_secret&quot; or do I replace it with something else?","body":"@tqjustc I am trying to make Rest calls to the gmail api server without the gmail client library and without the user prompt to send emails in gmail. I see you are making a similar call in native java. In your java code above, where did your value for the &quot;code&quot; url parameter? Also the since I am programming the REST request to gmail api from my ionic/angular2 mobile(android/ios) app, and the link you have says &quot;The client_secret is not applicable to requests from clients registered as Android, iOS, or Chrome applications.&quot; do I skip the &quot;client_secret&quot; or do I replace it with something else?"}],"answers":[{"tags":[],"owner":{"account_id":8082020,"reputation":946,"user_id":6090859,"display_name":"newhouse"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1459104955,"creation_date":1459104955,"answer_id":36251298,"question_id":36214968,"body_markdown":"You are not using the right endpoint. Try to change the `authURL` to `https://www.googleapis.com/oauth2/v4/token`\r\n\r\nFrom the documentation:\r\n\r\n&gt; To make this token request, send an HTTP POST request to the /oauth2/v4/token endpoint\r\n\r\nThe actual request might look like the following:\r\n\r\n    POST /oauth2/v4/token HTTP/1.1\r\n    Host: www.googleapis.com\r\n    Content-Type: application/x-www-form-urlencoded\r\n\r\n    code=4/v6xr77ewYqhvHSyW6UJ1w7jKwAzu&amp;\r\n    client_id=8819981768.apps.googleusercontent.com&amp;\r\n    client_secret=your_client_secret&amp;\r\n    redirect_uri=https://oauth2-login-demo.appspot.com/code&amp;\r\n    grant_type=authorization_code\r\n\r\n**Reference** https://developers.google.com/identity/protocols/OAuth2InstalledApp#handlingtheresponse","title":"How to get access token using gmail api","body":"<p>You are not using the right endpoint. Try to change the <code>authURL</code> to <code>https://www.googleapis.com/oauth2/v4/token</code></p>\n\n<p>From the documentation:</p>\n\n<blockquote>\n  <p>To make this token request, send an HTTP POST request to the /oauth2/v4/token endpoint</p>\n</blockquote>\n\n<p>The actual request might look like the following:</p>\n\n<pre><code>POST /oauth2/v4/token HTTP/1.1\nHost: www.googleapis.com\nContent-Type: application/x-www-form-urlencoded\n\ncode=4/v6xr77ewYqhvHSyW6UJ1w7jKwAzu&amp;\nclient_id=8819981768.apps.googleusercontent.com&amp;\nclient_secret=your_client_secret&amp;\nredirect_uri=https://oauth2-login-demo.appspot.com/code&amp;\ngrant_type=authorization_code\n</code></pre>\n\n<p><strong>Reference</strong> <a href=\"https://developers.google.com/identity/protocols/OAuth2InstalledApp#handlingtheresponse\" rel=\"nofollow\">https://developers.google.com/identity/protocols/OAuth2InstalledApp#handlingtheresponse</a></p>\n"},{"tags":[],"owner":{"account_id":1706562,"reputation":2945,"user_id":1565503,"accept_rate":27,"display_name":"Benoit Vanalderweireldt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459299459,"creation_date":1459137681,"answer_id":36255783,"question_id":36214968,"body_markdown":"**For me your request is fine**, I tried it using Curl, I also get a &#39;HTTP/1.1 400 Bad Request&#39; with the reason why it failed &#39;invalid_grant&#39; :\r\n\r\n    curl -X POST https://www.googleapis.com/oauth2/v4/token -d &#39;code=4/SVisuz_x*********************&amp;client_id=*******************7vet.apps.googleusercontent.com&amp;client_secret=***************&amp;redirect_uri=https://oauth2-login-demo.appspot.com/code&amp;grant_type=authorization_code&#39;\r\n\r\nI receive (HTTP/1.1 400 Bad Request) :\r\n\r\n    {\r\n     &quot;error&quot;: &quot;invalid_grant&quot;,\r\n     &quot;error_description&quot;: &quot;Code was already redeemed.&quot;\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\nNow using HttpClient from Apache :\r\n\r\n\tURL obj = new URL(authURL);\r\n\tHttpClient client = HttpClientBuilder.create().build();\r\n\tHttpPost post = new HttpPost(authURL);\r\n\tpost.addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n\tpost.addHeader(&quot;Host&quot;, &quot;www.googleapis.com&quot;);\r\n\tpost.setEntity(new StringEntity(strBuild.toString()));\r\n\t        \r\n\tHttpResponse resp = client.execute(post);\r\n\tSystem.out.println(resp.getStatusLine());\r\n\tSystem.out.println(EntityUtils.toString(resp.getEntity()));\r\n\r\nI see in my console :\r\n\r\n    HTTP/1.1 400 Bad Request\r\n    {\r\n     &quot;error&quot;: &quot;invalid_grant&quot;,\r\n     &quot;error_description&quot;: &quot;Code was already redeemed.&quot;\r\n    }\r\n\r\n\r\n----------\r\n\r\nAre you sure the code you are using is still valid ? Can you try with a new one ?","title":"How to get access token using gmail api","body":"<p><strong>For me your request is fine</strong>, I tried it using Curl, I also get a 'HTTP/1.1 400 Bad Request' with the reason why it failed 'invalid_grant' :</p>\n\n<pre><code>curl -X POST https://www.googleapis.com/oauth2/v4/token -d 'code=4/SVisuz_x*********************&amp;client_id=*******************7vet.apps.googleusercontent.com&amp;client_secret=***************&amp;redirect_uri=https://oauth2-login-demo.appspot.com/code&amp;grant_type=authorization_code'\n</code></pre>\n\n<p>I receive (HTTP/1.1 400 Bad Request) :</p>\n\n<pre><code>{\n \"error\": \"invalid_grant\",\n \"error_description\": \"Code was already redeemed.\"\n}\n</code></pre>\n\n<hr>\n\n<p>Now using HttpClient from Apache :</p>\n\n<pre><code>URL obj = new URL(authURL);\nHttpClient client = HttpClientBuilder.create().build();\nHttpPost post = new HttpPost(authURL);\npost.addHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\npost.addHeader(\"Host\", \"www.googleapis.com\");\npost.setEntity(new StringEntity(strBuild.toString()));\n\nHttpResponse resp = client.execute(post);\nSystem.out.println(resp.getStatusLine());\nSystem.out.println(EntityUtils.toString(resp.getEntity()));\n</code></pre>\n\n<p>I see in my console :</p>\n\n<pre><code>HTTP/1.1 400 Bad Request\n{\n \"error\": \"invalid_grant\",\n \"error_description\": \"Code was already redeemed.\"\n}\n</code></pre>\n\n<hr>\n\n<p>Are you sure the code you are using is still valid ? Can you try with a new one ?</p>\n"},{"tags":[],"owner":{"account_id":2652155,"reputation":28560,"user_id":2293534,"accept_rate":75,"display_name":"SkyWalker"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1459737278,"creation_date":1459183260,"answer_id":36266696,"question_id":36214968,"body_markdown":"&gt; How to get access token using gmail api?\r\n\r\n**Ans:** As per [your following tutorial][1], you are using `OAuth 2.0`. So there is a basic pattern for accessing a Google API using `OAuth 2.0`. It follows 4 steps:\r\n\r\n 1. Obtain OAuth 2.0 credentials from the Google Developers Console.\r\n 2. Obtain an access token from the Google Authorization Server.\r\n 3. Send the access token to an API.\r\n 4. Refresh the access token, if necessary.\r\n\r\nFor details, you can follow the tutorial - [Using OAuth 2.0 to Access Google APIs][2]\r\n\r\n\r\nYou have to visit the [Google Developers Console][3] to obtain OAuth 2.0 credentials such as a `client ID` and `client secret` that are known to both Google and your application\r\n\r\n---\r\n\r\nRoot Cause Analysis:\r\n--\r\n**Issue-1:**\r\n\r\nAfter studying your code, some lacking are found. If your code runs smoothly, then the code always give an empty string. Because your `AccessToken()` method always return `return &quot;&quot;;`\r\n\r\n**Issue-2:**\r\n\r\n     catch (Exception e)\r\n        {\r\n            System.out.println(&quot;Error.&quot;);\r\n        }\r\nYour try catch block is going exception block. Because, it seems that you have not completed your code properly. You have missed `encoding` as well as using `JSONObject` which prepares the access token. So it is giving output as \r\n\r\n&gt; Error.\r\n\r\nSolution:\r\n---------\r\nI got that your code is similar with this [tutorial][4]\r\n\r\n\r\nAs your code needs more changes to solve your issue. So I offer you to use **LinkedHashMap** or **ArrayList**. Those will provide easier way to make solution. So I give you 2 sample code to make your life easier. You can choose any of them. You need to change `refresh_token, client id, client secret and grant type` as yours.\r\n\r\n    private String getAccessToken()\r\n    {\r\n        try\r\n        {\r\n            Map&lt;String,Object&gt; params = new LinkedHashMap&lt;&gt;();\r\n            params.put(&quot;grant_type&quot;,&quot;refresh_token&quot;);\r\n            params.put(&quot;client_id&quot;,[YOUR CLIENT ID]);\r\n            params.put(&quot;client_secret&quot;,[YOUR CLIENT SECRET]);\r\n            params.put(&quot;refresh_token&quot;,[YOUR REFRESH TOKEN]);\r\n    \r\n            StringBuilder postData = new StringBuilder();\r\n            for(Map.Entry&lt;String,Object&gt; param : params.entrySet())\r\n            {\r\n                if(postData.length() != 0)\r\n                {\r\n                    postData.append(&#39;&amp;&#39;);\r\n                }\r\n                postData.append(URLEncoder.encode(param.getKey(),&quot;UTF-8&quot;));\r\n                postData.append(&#39;=&#39;);\r\n                postData.append(URLEncoder.encode(String.valueOf(param.getValue()),&quot;UTF-8&quot;));\r\n            }\r\n            byte[] postDataBytes = postData.toString().getBytes(&quot;UTF-8&quot;);\r\n    \r\n            URL url = new URL(&quot;https://accounts.google.com/o/oauth2/token&quot;);\r\n            HttpURLConnection con = (HttpURLConnection)url.openConnection();\r\n            con.setDoOutput(true);\r\n            con.setUseCaches(false);\r\n            con.setRequestMethod(&quot;POST&quot;);\r\n            con.getOutputStream().write(postDataBytes);\r\n    \r\n            BufferedReader  reader = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n            StringBuffer buffer = new StringBuffer();\r\n            for (String line = reader.readLine(); line != null; line = reader.readLine())\r\n            {\r\n                buffer.append(line);\r\n            }\r\n    \r\n            JSONObject json = new JSONObject(buffer.toString());\r\n            String accessToken = json.getString(&quot;access_token&quot;);\r\n            return accessToken;\r\n        }\r\n        catch (Exception ex)\r\n        {\r\n            ex.printStackTrace(); \r\n        }\r\n        return null;\r\n    }\r\n\r\n&gt; For **accessing google play android developer api**, you need to pass the\r\n&gt; previous refresh token to get access token\r\n\r\n    private String getAccessToken(String refreshToken){\r\n    \r\n    HttpClient client = new DefaultHttpClient();\r\n    HttpPost post = new HttpPost(&quot;https://accounts.google.com/o/oauth2/token&quot;);\r\n    try \r\n    {\r\n        List&lt;NameValuePair&gt; nameValuePairs = new ArrayList&lt;NameValuePair&gt;(4);\r\n        nameValuePairs.add(new BasicNameValuePair(&quot;grant_type&quot;,    &quot;refresh_token&quot;));\r\n        nameValuePairs.add(new BasicNameValuePair(&quot;client_id&quot;,     GOOGLE_CLIENT_ID));\r\n        nameValuePairs.add(new BasicNameValuePair(&quot;client_secret&quot;, GOOGLE_CLIENT_SECRET));\r\n        nameValuePairs.add(new BasicNameValuePair(&quot;refresh_token&quot;, refreshToken));\r\n        post.setEntity(new UrlEncodedFormEntity(nameValuePairs));\r\n    \r\n        org.apache.http.HttpResponse response = client.execute(post);\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));\r\n        StringBuffer buffer = new StringBuffer();\r\n        for (String line = reader.readLine(); line != null; line = reader.readLine())\r\n        {\r\n            buffer.append(line);\r\n        }\r\n    \r\n        JSONObject json = new JSONObject(buffer.toString());\r\n        String accessToken = json.getString(&quot;access_token&quot;);\r\n    \r\n        return accessToken;\r\n    \r\n    }\r\n    catch (IOException e) { e.printStackTrace(); }\r\n    \r\n    return null;\r\n    }\r\n\r\nResource Link:\r\n--------------\r\n- [Unable to get the subscription information from Google Play Android Developer API][5]\r\n\r\n- [Using java.net.URLConnection to fire and handle HTTP requests][6]\r\n\r\n- [How to send HTTP request GET/POST in Java][7]\r\n\r\n\r\nHope that, this `samples` and `resource link` will help you to solve your issue and get access of `access token`.\r\n\r\n---\r\n\r\n[What is 400 bad request?][8]\r\n------------------------\r\n\r\n**Ans:** It indicates that the query was invalid. Parent ID was missing or the combination of dimensions or metrics requested was not valid.\r\n\r\n**Recommended Action:** You need to make changes to the API query in order for it to work.\r\n\r\n&gt; For `HTTP/1.1 400 Bad Request error`, you can go through [my another\r\n&gt; answer][11]. **It will help you to make sense about `which host you\r\n&gt; need to use` and which conditions you need to apply**.\r\n\r\n[Why token expires? What is the limit of token?][9]\r\n---\r\nA token might stop working for one of these reasons:\r\n\r\n 1. The user has `revoked` access.\r\n 2. The token has not been used for `six months`.\r\n 3. The `user changed passwords` and the token contains Gmail, Calendar,\r\n    Contacts, or Hangouts scopes.\r\n 4. The user account has `exceeded a certain number of token requests`.\r\n\r\nThere is `currently a limit of 25 refresh tokens per user account per client`. If the limit is reached, creating a new token automatically invalidates the oldest token without warning. This limit does not apply to service accounts.\r\n\r\nWhich precautions should be followed?\r\n---\r\nPrecautions - 1:\r\n---\r\n&gt; Some requests require an authentication step where the user logs in\r\n&gt; with their Google account. After logging in, the user is asked whether\r\n&gt; they are willing to grant the permissions that your application is\r\n&gt; requesting. This process is called user consent.\r\n&gt; \r\n&gt; If the user grants the permission, the Google Authorization Server\r\n&gt; sends your application an access token (or an authorization code that\r\n&gt; your application can use to obtain an access token). If the user does\r\n&gt; not grant the permission, the server returns an error.\r\n\r\nPrecautions - 2:\r\n---\r\n&gt; If an access token is issued for the Google+ API, it does not grant\r\n&gt; access to the Google Contacts API. You can, however, send that access\r\n&gt; token to the Google+ API multiple times for similar operations.\r\n\r\nPrecautions - 3:\r\n---\r\n\r\n&gt; An access token typically has an expiration date of 1 hour, after\r\n&gt; which you will get an error if you try to use it. [Google Credential][10]\r\n&gt; takes care of automatically &quot;refreshing&quot; the token, which simply means\r\n&gt; getting a new access token.\r\n\r\n&gt; Save refresh tokens in secure long-term storage and continue to use\r\n&gt; them as long as they remain valid. Limits apply to the number of\r\n&gt; refresh tokens that are issued per client-user combination, and per\r\n&gt; user across all clients, and these limits are different. If your\r\n&gt; application requests enough refresh tokens to go over one of the\r\n&gt; limits, older refresh tokens stop working.\r\n\r\n\r\n\r\n\r\n  [1]: https://developers.google.com/identity/protocols/OAuth2InstalledApp#handlingtheresponse\r\n  [2]: https://developers.google.com/identity/protocols/OAuth2#basicsteps\r\n  [3]: https://console.developers.google.com/\r\n  [4]: http://www.mkyong.com/java/how-to-automate-login-a-website-java-example/\r\n  [5]: https://stackoverflow.com/questions/11115381/unable-to-get-the-subscription-information-from-google-play-android-developer-ap?rq=1\r\n  [6]: https://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests\r\n  [7]: http://www.mkyong.com/java/how-to-send-http-request-getpost-in-java/\r\n  [8]: https://developers.google.com/analytics/devguides/reporting/core/v3/coreErrors#standard_errors\r\n  [9]: https://developers.google.com/identity/protocols/OAuth2#expiration\r\n  [10]: https://developers.google.com/api-client-library/java/google-api-java-client/reference/1.20.0/com/google/api/client/googleapis/auth/oauth2/GoogleCredential.html\r\n  [11]: https://stackoverflow.com/questions/35019357/google-play-developer-api-query-purchase-token-returns-invalid-value/36290762#36290762","title":"How to get access token using gmail api","body":"<blockquote>\n  <p>How to get access token using gmail api?</p>\n</blockquote>\n\n<p><strong>Ans:</strong> As per <a href=\"https://developers.google.com/identity/protocols/OAuth2InstalledApp#handlingtheresponse\" rel=\"noreferrer\">your following tutorial</a>, you are using <code>OAuth 2.0</code>. So there is a basic pattern for accessing a Google API using <code>OAuth 2.0</code>. It follows 4 steps:</p>\n\n<ol>\n<li>Obtain OAuth 2.0 credentials from the Google Developers Console.</li>\n<li>Obtain an access token from the Google Authorization Server.</li>\n<li>Send the access token to an API.</li>\n<li>Refresh the access token, if necessary.</li>\n</ol>\n\n<p>For details, you can follow the tutorial - <a href=\"https://developers.google.com/identity/protocols/OAuth2#basicsteps\" rel=\"noreferrer\">Using OAuth 2.0 to Access Google APIs</a></p>\n\n<p>You have to visit the <a href=\"https://console.developers.google.com/\" rel=\"noreferrer\">Google Developers Console</a> to obtain OAuth 2.0 credentials such as a <code>client ID</code> and <code>client secret</code> that are known to both Google and your application</p>\n\n<hr>\n\n<h2>Root Cause Analysis:</h2>\n\n<p><strong>Issue-1:</strong></p>\n\n<p>After studying your code, some lacking are found. If your code runs smoothly, then the code always give an empty string. Because your <code>AccessToken()</code> method always return <code>return \"\";</code></p>\n\n<p><strong>Issue-2:</strong></p>\n\n<pre><code> catch (Exception e)\n    {\n        System.out.println(\"Error.\");\n    }\n</code></pre>\n\n<p>Your try catch block is going exception block. Because, it seems that you have not completed your code properly. You have missed <code>encoding</code> as well as using <code>JSONObject</code> which prepares the access token. So it is giving output as </p>\n\n<blockquote>\n  <p>Error.</p>\n</blockquote>\n\n<h2>Solution:</h2>\n\n<p>I got that your code is similar with this <a href=\"http://www.mkyong.com/java/how-to-automate-login-a-website-java-example/\" rel=\"noreferrer\">tutorial</a></p>\n\n<p>As your code needs more changes to solve your issue. So I offer you to use <strong>LinkedHashMap</strong> or <strong>ArrayList</strong>. Those will provide easier way to make solution. So I give you 2 sample code to make your life easier. You can choose any of them. You need to change <code>refresh_token, client id, client secret and grant type</code> as yours.</p>\n\n<pre><code>private String getAccessToken()\n{\n    try\n    {\n        Map&lt;String,Object&gt; params = new LinkedHashMap&lt;&gt;();\n        params.put(\"grant_type\",\"refresh_token\");\n        params.put(\"client_id\",[YOUR CLIENT ID]);\n        params.put(\"client_secret\",[YOUR CLIENT SECRET]);\n        params.put(\"refresh_token\",[YOUR REFRESH TOKEN]);\n\n        StringBuilder postData = new StringBuilder();\n        for(Map.Entry&lt;String,Object&gt; param : params.entrySet())\n        {\n            if(postData.length() != 0)\n            {\n                postData.append('&amp;');\n            }\n            postData.append(URLEncoder.encode(param.getKey(),\"UTF-8\"));\n            postData.append('=');\n            postData.append(URLEncoder.encode(String.valueOf(param.getValue()),\"UTF-8\"));\n        }\n        byte[] postDataBytes = postData.toString().getBytes(\"UTF-8\");\n\n        URL url = new URL(\"https://accounts.google.com/o/oauth2/token\");\n        HttpURLConnection con = (HttpURLConnection)url.openConnection();\n        con.setDoOutput(true);\n        con.setUseCaches(false);\n        con.setRequestMethod(\"POST\");\n        con.getOutputStream().write(postDataBytes);\n\n        BufferedReader  reader = new BufferedReader(new InputStreamReader(con.getInputStream()));\n        StringBuffer buffer = new StringBuffer();\n        for (String line = reader.readLine(); line != null; line = reader.readLine())\n        {\n            buffer.append(line);\n        }\n\n        JSONObject json = new JSONObject(buffer.toString());\n        String accessToken = json.getString(\"access_token\");\n        return accessToken;\n    }\n    catch (Exception ex)\n    {\n        ex.printStackTrace(); \n    }\n    return null;\n}\n</code></pre>\n\n<blockquote>\n  <p>For <strong>accessing google play android developer api</strong>, you need to pass the\n  previous refresh token to get access token</p>\n</blockquote>\n\n<pre><code>private String getAccessToken(String refreshToken){\n\nHttpClient client = new DefaultHttpClient();\nHttpPost post = new HttpPost(\"https://accounts.google.com/o/oauth2/token\");\ntry \n{\n    List&lt;NameValuePair&gt; nameValuePairs = new ArrayList&lt;NameValuePair&gt;(4);\n    nameValuePairs.add(new BasicNameValuePair(\"grant_type\",    \"refresh_token\"));\n    nameValuePairs.add(new BasicNameValuePair(\"client_id\",     GOOGLE_CLIENT_ID));\n    nameValuePairs.add(new BasicNameValuePair(\"client_secret\", GOOGLE_CLIENT_SECRET));\n    nameValuePairs.add(new BasicNameValuePair(\"refresh_token\", refreshToken));\n    post.setEntity(new UrlEncodedFormEntity(nameValuePairs));\n\n    org.apache.http.HttpResponse response = client.execute(post);\n    BufferedReader reader = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));\n    StringBuffer buffer = new StringBuffer();\n    for (String line = reader.readLine(); line != null; line = reader.readLine())\n    {\n        buffer.append(line);\n    }\n\n    JSONObject json = new JSONObject(buffer.toString());\n    String accessToken = json.getString(\"access_token\");\n\n    return accessToken;\n\n}\ncatch (IOException e) { e.printStackTrace(); }\n\nreturn null;\n}\n</code></pre>\n\n<h2>Resource Link:</h2>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/11115381/unable-to-get-the-subscription-information-from-google-play-android-developer-ap?rq=1\">Unable to get the subscription information from Google Play Android Developer API</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests\">Using java.net.URLConnection to fire and handle HTTP requests</a></p></li>\n<li><p><a href=\"http://www.mkyong.com/java/how-to-send-http-request-getpost-in-java/\" rel=\"noreferrer\">How to send HTTP request GET/POST in Java</a></p></li>\n</ul>\n\n<p>Hope that, this <code>samples</code> and <code>resource link</code> will help you to solve your issue and get access of <code>access token</code>.</p>\n\n<hr>\n\n<h2><a href=\"https://developers.google.com/analytics/devguides/reporting/core/v3/coreErrors#standard_errors\" rel=\"noreferrer\">What is 400 bad request?</a></h2>\n\n<p><strong>Ans:</strong> It indicates that the query was invalid. Parent ID was missing or the combination of dimensions or metrics requested was not valid.</p>\n\n<p><strong>Recommended Action:</strong> You need to make changes to the API query in order for it to work.</p>\n\n<blockquote>\n  <p>For <code>HTTP/1.1 400 Bad Request error</code>, you can go through <a href=\"https://stackoverflow.com/questions/35019357/google-play-developer-api-query-purchase-token-returns-invalid-value/36290762#36290762\">my another\n  answer</a>. <strong>It will help you to make sense about <code>which host you\n  need to use</code> and which conditions you need to apply</strong>.</p>\n</blockquote>\n\n<h2><a href=\"https://developers.google.com/identity/protocols/OAuth2#expiration\" rel=\"noreferrer\">Why token expires? What is the limit of token?</a></h2>\n\n<p>A token might stop working for one of these reasons:</p>\n\n<ol>\n<li>The user has <code>revoked</code> access.</li>\n<li>The token has not been used for <code>six months</code>.</li>\n<li>The <code>user changed passwords</code> and the token contains Gmail, Calendar,\nContacts, or Hangouts scopes.</li>\n<li>The user account has <code>exceeded a certain number of token requests</code>.</li>\n</ol>\n\n<p>There is <code>currently a limit of 25 refresh tokens per user account per client</code>. If the limit is reached, creating a new token automatically invalidates the oldest token without warning. This limit does not apply to service accounts.</p>\n\n<h2>Which precautions should be followed?</h2>\n\n<h2>Precautions - 1:</h2>\n\n<blockquote>\n  <p>Some requests require an authentication step where the user logs in\n  with their Google account. After logging in, the user is asked whether\n  they are willing to grant the permissions that your application is\n  requesting. This process is called user consent.</p>\n  \n  <p>If the user grants the permission, the Google Authorization Server\n  sends your application an access token (or an authorization code that\n  your application can use to obtain an access token). If the user does\n  not grant the permission, the server returns an error.</p>\n</blockquote>\n\n<h2>Precautions - 2:</h2>\n\n<blockquote>\n  <p>If an access token is issued for the Google+ API, it does not grant\n  access to the Google Contacts API. You can, however, send that access\n  token to the Google+ API multiple times for similar operations.</p>\n</blockquote>\n\n<h2>Precautions - 3:</h2>\n\n<blockquote>\n  <p>An access token typically has an expiration date of 1 hour, after\n  which you will get an error if you try to use it. <a href=\"https://developers.google.com/api-client-library/java/google-api-java-client/reference/1.20.0/com/google/api/client/googleapis/auth/oauth2/GoogleCredential.html\" rel=\"noreferrer\">Google Credential</a>\n  takes care of automatically \"refreshing\" the token, which simply means\n  getting a new access token.</p>\n  \n  <p>Save refresh tokens in secure long-term storage and continue to use\n  them as long as they remain valid. Limits apply to the number of\n  refresh tokens that are issued per client-user combination, and per\n  user across all clients, and these limits are different. If your\n  application requests enough refresh tokens to go over one of the\n  limits, older refresh tokens stop working.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6113103,"reputation":76,"user_id":4768943,"display_name":"Fırat Kocabay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459430891,"creation_date":1459430891,"answer_id":36334890,"question_id":36214968,"body_markdown":"Firstly, you must look this page : \r\n\r\nhttps://developers.google.com/gmail/api/auth/web-server#create_a_client_id_and_client_secret\r\n\r\nThe value you see in the query parameter code is a string you have to post to google in order to get the access token.\r\n\r\nAfter the web server receives the authorization code, it may exchange the authorization code for an access token and a refresh token. This request is an HTTPS POST to the URL https://www.googleapis.com/oauth2/v3/token\r\nPOST /oauth2/v3/token HTTP/1.1\r\ncontent-type: application/x-www-form-urlencoded\r\n\r\ncode=4/v4-CqVXkhiTkn9uapv6V0iqUmelHNnbLRr1EbErzkQw#&amp;redirect_uri=&lt;redirect_uri&gt;&amp;client_id=&lt;client_id&gt;&amp;scope=&amp;client_secret=************&amp;grant_type=authorization_code\r\nhttps://developers.google.com/identity/protocols/OAuth2WebServer","title":"How to get access token using gmail api","body":"<p>Firstly, you must look this page : </p>\n\n<p><a href=\"https://developers.google.com/gmail/api/auth/web-server#create_a_client_id_and_client_secret\" rel=\"nofollow\">https://developers.google.com/gmail/api/auth/web-server#create_a_client_id_and_client_secret</a></p>\n\n<p>The value you see in the query parameter code is a string you have to post to google in order to get the access token.</p>\n\n<p>After the web server receives the authorization code, it may exchange the authorization code for an access token and a refresh token. This request is an HTTPS POST to the URL <a href=\"https://www.googleapis.com/oauth2/v3/token\" rel=\"nofollow\">https://www.googleapis.com/oauth2/v3/token</a>\nPOST /oauth2/v3/token HTTP/1.1\ncontent-type: application/x-www-form-urlencoded</p>\n\n<p>code=4/v4-CqVXkhiTkn9uapv6V0iqUmelHNnbLRr1EbErzkQw#&amp;redirect_uri=&amp;client_id=&amp;scope=&amp;client_secret=************&amp;grant_type=authorization_code\n<a href=\"https://developers.google.com/identity/protocols/OAuth2WebServer\" rel=\"nofollow\">https://developers.google.com/identity/protocols/OAuth2WebServer</a></p>\n"},{"tags":[],"owner":{"account_id":2586515,"reputation":2672,"user_id":2242104,"display_name":"Yoav Aharoni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459707528,"creation_date":1459707161,"answer_id":36389204,"question_id":36214968,"body_markdown":"I think I understand what&#39;s wrong:\n\n1. as @newhouse said, you should POST to `https://www.googleapis.com/oauth2/v4/token` and not `https://accounts.google.com/o/oauth2/token` (@newhouse I gave you a +1 :) )\n\n    (`https://www.googleapis.com/oauth2/v4/token` is for getting the `authorization_code` and `https://accounts.google.com/o/oauth2/token` is for getting the `code`).\n\n2. **You can&#39;t use the same `code` more than once.**\n\n   Everything else seems in order so, if you keep getting 400, you are probably trying to use the `code` you got more than one time (then you&#39;ll get 400 every time, again and again).\n\n\\* You should also lose the `con.setRequestProperty(&quot;Host&quot;, &quot;www.googleapis.com&quot;);` ","title":"How to get access token using gmail api","body":"<p>I think I understand what's wrong:</p>\n<ol>\n<li><p>as @newhouse said, you should POST to <code>https://www.googleapis.com/oauth2/v4/token</code> and not <code>https://accounts.google.com/o/oauth2/token</code> (@newhouse I gave you a +1 :) )</p>\n<p>(<code>https://www.googleapis.com/oauth2/v4/token</code> is for getting the <code>authorization_code</code> and <code>https://accounts.google.com/o/oauth2/token</code> is for getting the <code>code</code>).</p>\n</li>\n<li><p><strong>You can't use the same <code>code</code> more than once.</strong></p>\n<p>Everything else seems in order so, if you keep getting 400, you are probably trying to use the <code>code</code> you got more than one time (then you'll get 400 every time, again and again).</p>\n</li>\n</ol>\n<p>* You should also lose the <code>con.setRequestProperty(&quot;Host&quot;, &quot;www.googleapis.com&quot;);</code></p>\n"},{"tags":[],"owner":{"account_id":10779645,"reputation":171,"user_id":7930533,"display_name":"Umang Joshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493287873,"creation_date":1493287873,"answer_id":43654774,"question_id":36214968,"body_markdown":"Refer : https://developers.google.com/android-publisher/authorization\r\n\r\nYou already have authorization code that is called &quot;refresh token&quot;. Please keep it in safe place. You can use &quot;refresh token&quot; to generate &quot;access token&quot;.\r\n\r\nTo get &quot;access token&quot;, please make a post request to following URL\r\n\r\nhttps://accounts.google.com/o/oauth2/token\r\n\r\nParameters:\r\n\r\n - grant_type\r\n - client_id\r\n - client_secret\r\n - refresh_token\r\n\r\nwhere &quot;grant_type&quot; should be &quot;refresh_token&quot;\r\n\r\nWe are using PHP to do same, here is PHP&#39;s code for your reference\r\n\r\n        $curl = curl_init();\r\n      \r\n        curl_setopt_array($curl, array(\r\n        CURLOPT_RETURNTRANSFER =&gt; 1,\r\n        CURLOPT_URL =&gt; &#39;https://accounts.google.com/o/oauth2/token&#39;,\r\n        CURLOPT_USERAGENT =&gt; &#39;Pocket Experts Services&#39;,\r\n        CURLOPT_POST =&gt; 1,\r\n        CURLOPT_POSTFIELDS =&gt; array(\r\n        &quot;grant_type&quot; =&gt; &quot;refresh_token&quot;,\r\n        &quot;client_id&quot; =&gt; $GOOGLE_CLIENT_ID,\r\n        &quot;client_secret&quot; =&gt; $GOOGLE_CLIENT_SECRET,\r\n        &quot;refresh_token&quot; =&gt; $GOOGLE_REFRESH_TOKEN,\r\n        )));\r\n        \r\n\r\n        // Send the request &amp; save response to $resp\r\n        $resp = curl_exec($curl);\r\n\r\nHope it will help you.","title":"How to get access token using gmail api","body":"<p>Refer : <a href=\"https://developers.google.com/android-publisher/authorization\" rel=\"nofollow noreferrer\">https://developers.google.com/android-publisher/authorization</a></p>\n\n<p>You already have authorization code that is called \"refresh token\". Please keep it in safe place. You can use \"refresh token\" to generate \"access token\".</p>\n\n<p>To get \"access token\", please make a post request to following URL</p>\n\n<p><a href=\"https://accounts.google.com/o/oauth2/token\" rel=\"nofollow noreferrer\">https://accounts.google.com/o/oauth2/token</a></p>\n\n<p>Parameters:</p>\n\n<ul>\n<li>grant_type</li>\n<li>client_id</li>\n<li>client_secret</li>\n<li>refresh_token</li>\n</ul>\n\n<p>where \"grant_type\" should be \"refresh_token\"</p>\n\n<p>We are using PHP to do same, here is PHP's code for your reference</p>\n\n<pre><code>    $curl = curl_init();\n\n    curl_setopt_array($curl, array(\n    CURLOPT_RETURNTRANSFER =&gt; 1,\n    CURLOPT_URL =&gt; 'https://accounts.google.com/o/oauth2/token',\n    CURLOPT_USERAGENT =&gt; 'Pocket Experts Services',\n    CURLOPT_POST =&gt; 1,\n    CURLOPT_POSTFIELDS =&gt; array(\n    \"grant_type\" =&gt; \"refresh_token\",\n    \"client_id\" =&gt; $GOOGLE_CLIENT_ID,\n    \"client_secret\" =&gt; $GOOGLE_CLIENT_SECRET,\n    \"refresh_token\" =&gt; $GOOGLE_REFRESH_TOKEN,\n    )));\n\n\n    // Send the request &amp; save response to $resp\n    $resp = curl_exec($curl);\n</code></pre>\n\n<p>Hope it will help you.</p>\n"},{"tags":[],"owner":{"account_id":15333342,"reputation":105,"user_id":11062452,"display_name":"bessam Sahli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599415282,"creation_date":1599415282,"answer_id":63767315,"question_id":36214968,"body_markdown":"the low security methode was temporary and i couldn&#39;t use it in production but I found an article that made it easier using node [here][1]\r\nwith an example code and it works perfect\r\n\r\n  [1]: http://blog.bessam.engineer/How-to-use-nodemailer-with-GMail-and-OAuth","title":"How to get access token using gmail api","body":"<p>the low security methode was temporary and i couldn't use it in production but I found an article that made it easier using node <a href=\"http://blog.bessam.engineer/How-to-use-nodemailer-with-GMail-and-OAuth\" rel=\"nofollow noreferrer\">here</a>\nwith an example code and it works perfect</p>\n"}],"owner":{"account_id":2215904,"reputation":3694,"user_id":1956510,"accept_rate":55,"display_name":"tqjustc"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46981,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":7,"score":16,"last_activity_date":1657247720,"creation_date":1458886370,"question_id":36214968,"body_markdown":"I got the authorization code following [this document][1]. But when I tried to get access token, I always got errors. Can anyone help me ?\r\n\r\n\tpublic String AccessToken()\r\n\t{\r\n\t\tString accessToken = &quot;&quot;;\r\n\t\tStringBuilder strBuild = new StringBuilder();\r\n\t\t\r\n\t\tString authURL = &quot;https://accounts.google.com/o/oauth2/token?&quot;;\r\n\t\tString code = &quot;4/SVisuz_x*********************&quot;;\r\n\t\tString client_id = &quot;******************e.apps.googleusercontent.com&quot;;\r\n\t\tString client_secret = &quot;*******************&quot;;\r\n\t\tString redirect_uri = &quot;urn:ietf:wg:oauth:2.0:oob&quot;;\r\n\t\tString grant_type=&quot;authorization_code&quot;;\r\n\t\tstrBuild.append(&quot;code=&quot;).append(code)\r\n\t\t\t\t.append(&quot;&amp;client_id=&quot;).append(client_id)\r\n\t\t\t\t.append(&quot;&amp;client_secret=&quot;).append(client_secret)\r\n\t\t\t\t.append(&quot;&amp;redirect_uri=&quot;).append(redirect_uri)\r\n\t\t\t\t.append(&quot;&amp;grant_type=&quot;).append(grant_type);\r\n\t\tSystem.out.println(strBuild.toString());\r\n\t\ttry{\r\n\t\t\tURL obj = new URL(authURL);\r\n\t        HttpURLConnection con = (HttpURLConnection) obj.openConnection();\r\n\t        con.setDoOutput(true);\r\n\t        con.setRequestMethod(&quot;POST&quot;);\r\n\t        \r\n\t        con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n\t        con.setRequestProperty(&quot;Host&quot;, &quot;www.googleapis.com&quot;);\r\n\t        \r\n\t        //BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(con.getOutputStream()));\r\n\t        //bw.write(strBuild.toString());\r\n\t        //bw.close();\r\n\t        \r\n\t\t\tDataOutputStream wr = new DataOutputStream(con.getOutputStream());\r\n\t\t\twr.writeBytes(strBuild.toString());\r\n\t\t\twr.flush();\r\n\t\t\twr.close();\r\n\t        \r\n\t        //OutputStreamWriter out = new OutputStreamWriter(con.getOutputStream());\r\n\t        System.out.println(con.getResponseCode());\r\n\t        System.out.println(con.getResponseMessage());             \r\n\t        \r\n\t\t} catch (Exception e)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Error.&quot;);\r\n\t\t}\r\n\t\treturn &quot;&quot;;\r\n\t}\r\n\r\n\r\nwhen I ran this code, the output is: \r\n`400\r\nBad Request`\r\n  [1]: https://developers.google.com/identity/protocols/OAuth2InstalledApp#handlingtheresponse","title":"How to get access token using gmail api","body":"<p>I got the authorization code following <a href=\"https://developers.google.com/identity/protocols/OAuth2InstalledApp#handlingtheresponse\">this document</a>. But when I tried to get access token, I always got errors. Can anyone help me ?</p>\n\n<pre><code>public String AccessToken()\n{\n    String accessToken = \"\";\n    StringBuilder strBuild = new StringBuilder();\n\n    String authURL = \"https://accounts.google.com/o/oauth2/token?\";\n    String code = \"4/SVisuz_x*********************\";\n    String client_id = \"******************e.apps.googleusercontent.com\";\n    String client_secret = \"*******************\";\n    String redirect_uri = \"urn:ietf:wg:oauth:2.0:oob\";\n    String grant_type=\"authorization_code\";\n    strBuild.append(\"code=\").append(code)\n            .append(\"&amp;client_id=\").append(client_id)\n            .append(\"&amp;client_secret=\").append(client_secret)\n            .append(\"&amp;redirect_uri=\").append(redirect_uri)\n            .append(\"&amp;grant_type=\").append(grant_type);\n    System.out.println(strBuild.toString());\n    try{\n        URL obj = new URL(authURL);\n        HttpURLConnection con = (HttpURLConnection) obj.openConnection();\n        con.setDoOutput(true);\n        con.setRequestMethod(\"POST\");\n\n        con.setRequestProperty(\"Content-Type\", \"application/x-www-form-urlencoded\");\n        con.setRequestProperty(\"Host\", \"www.googleapis.com\");\n\n        //BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(con.getOutputStream()));\n        //bw.write(strBuild.toString());\n        //bw.close();\n\n        DataOutputStream wr = new DataOutputStream(con.getOutputStream());\n        wr.writeBytes(strBuild.toString());\n        wr.flush();\n        wr.close();\n\n        //OutputStreamWriter out = new OutputStreamWriter(con.getOutputStream());\n        System.out.println(con.getResponseCode());\n        System.out.println(con.getResponseMessage());             \n\n    } catch (Exception e)\n    {\n        System.out.println(\"Error.\");\n    }\n    return \"\";\n}\n</code></pre>\n\n<p>when I ran this code, the output is: \n<code>400\nBad Request</code></p>\n"},{"tags":["java","go"],"comments":[{"owner":{"account_id":1968644,"reputation":32046,"user_id":1768232,"accept_rate":81,"display_name":"durron597"},"score":3,"creation_date":1429115171,"post_id":29655531,"comment_id":47451084,"body_markdown":"possible duplicate of [How to wait for a set of threads to complete?](http://stackoverflow.com/questions/1252190/how-to-wait-for-a-set-of-threads-to-complete)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1252190/how-to-wait-for-a-set-of-threads-to-complete\">How to wait for a set of threads to complete?</a>"},{"owner":{"account_id":3216234,"reputation":28654,"user_id":2714852,"display_name":"twotwotwo"},"score":2,"creation_date":1429124188,"post_id":29655531,"comment_id":47456640,"body_markdown":"I don&#39;t know Java but, for the case where you `wg.Add(n)` before starting all *n* tasks, [CountDownLatch](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html) looks like a fit, using `countDown()` for `wg.Done()` and `await()` for `wg.Wait()`.","body":"I don&#39;t know Java but, for the case where you <code>wg.Add(n)</code> before starting all <i>n</i> tasks, <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"nofollow noreferrer\">CountDownLatch</a> looks like a fit, using <code>countDown()</code> for <code>wg.Done()</code> and <code>await()</code> for <code>wg.Wait()</code>."},{"owner":{"account_id":3216234,"reputation":28654,"user_id":2714852,"display_name":"twotwotwo"},"score":2,"creation_date":1429124390,"post_id":29655531,"comment_id":47456772,"body_markdown":"The accepted answer on the linked question could work too, since threads are objects in Java. But they&#39;re slightly different: with CountDownLatch a thread can do other work after it finishes the task (so you could use it handing tasks to a pool of long-lived threads), with `thread.join()` it can&#39;t. Since the tasks differ a little I&#39;m not voting to close as dupe.","body":"The accepted answer on the linked question could work too, since threads are objects in Java. But they&#39;re slightly different: with CountDownLatch a thread can do other work after it finishes the task (so you could use it handing tasks to a pool of long-lived threads), with <code>thread.join()</code> it can&#39;t. Since the tasks differ a little I&#39;m not voting to close as dupe."},{"owner":{"account_id":1286794,"reputation":47472,"user_id":1239701,"display_name":"Not_a_Golfer"},"score":0,"creation_date":1429127064,"post_id":29655531,"comment_id":47458442,"body_markdown":"I&#39;m using CountdownLatch for most cases I&#39;d use a WaitGroup in Go.","body":"I&#39;m using CountdownLatch for most cases I&#39;d use a WaitGroup in Go."}],"answers":[{"tags":[],"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429192472,"creation_date":1429192472,"answer_id":29676898,"question_id":29655531,"body_markdown":"After looking at the golang doc and confirming that Semaphore won&#39;t break with an enormous amount of permits I think a `Semaphore` set to `Integer.MAX_VALUE` is the closest to a golang `WaitGroup`.\r\n\r\nThe `thread.join` is probably more similar to how you would use WaitGroup with goroutines since it deals with the cleanup of the threads however an isolated `WaitGroup` just like a `Semaphore` is agnostic of what increments it.\r\n\r\nCountdownLatch doesn&#39;t work because you need to know a priori how many threads you want to run and you cannot increment a CountdownLatch.\r\n\r\nAssuming the semaphore is set to `Integer.MAX_VALUE`:\r\n\r\n`wg.Add(n)` == `semaphore.acquire(n)`\r\n\r\n`wg.Done()` == `semaphore.release()`\r\n\r\nand in your thread where you want everything to stop:\r\n\r\n`wg.Wait()` == `semaphore.acquire(Integer.MAX_VALUE)`\r\n\r\nHowever I&#39;m not sure all the semantics carryover so I&#39;m not going to mark this correct for now.\r\n\r\n","title":"What is the Java equivalent of Golang&#39;s WaitGroup","body":"<p>After looking at the golang doc and confirming that Semaphore won't break with an enormous amount of permits I think a <code>Semaphore</code> set to <code>Integer.MAX_VALUE</code> is the closest to a golang <code>WaitGroup</code>.</p>\n\n<p>The <code>thread.join</code> is probably more similar to how you would use WaitGroup with goroutines since it deals with the cleanup of the threads however an isolated <code>WaitGroup</code> just like a <code>Semaphore</code> is agnostic of what increments it.</p>\n\n<p>CountdownLatch doesn't work because you need to know a priori how many threads you want to run and you cannot increment a CountdownLatch.</p>\n\n<p>Assuming the semaphore is set to <code>Integer.MAX_VALUE</code>:</p>\n\n<p><code>wg.Add(n)</code> == <code>semaphore.acquire(n)</code></p>\n\n<p><code>wg.Done()</code> == <code>semaphore.release()</code></p>\n\n<p>and in your thread where you want everything to stop:</p>\n\n<p><code>wg.Wait()</code> == <code>semaphore.acquire(Integer.MAX_VALUE)</code></p>\n\n<p>However I'm not sure all the semantics carryover so I'm not going to mark this correct for now.</p>\n"},{"tags":[],"owner":{"account_id":30408,"reputation":877,"user_id":82928,"accept_rate":80,"display_name":"user82928"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1432595772,"creation_date":1432595772,"answer_id":30447188,"question_id":29655531,"body_markdown":"    public class WaitGroup {\r\n    \r\n        private int jobs = 0;\r\n    \r\n        public synchronized void add(int i) {\r\n            jobs += i;\r\n        }\r\n    \r\n        public synchronized void done() {\r\n            if (--jobs == 0) {\r\n                notifyAll();\r\n            }\r\n        }\r\n    \r\n        public synchronized void await() throws InterruptedException {\r\n            while (jobs &gt; 0) {\r\n                wait();\r\n            }\r\n        }\r\n\r\n    }","title":"What is the Java equivalent of Golang&#39;s WaitGroup","body":"<pre><code>public class WaitGroup {\n\n    private int jobs = 0;\n\n    public synchronized void add(int i) {\n        jobs += i;\n    }\n\n    public synchronized void done() {\n        if (--jobs == 0) {\n            notifyAll();\n        }\n    }\n\n    public synchronized void await() throws InterruptedException {\n        while (jobs &gt; 0) {\n            wait();\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4250636,"reputation":9291,"user_id":3477832,"accept_rate":75,"display_name":"kostya"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1432603776,"creation_date":1432603776,"answer_id":30448080,"question_id":29655531,"body_markdown":"`WaitGroup` has `Add(delta)` method that can be called after a `WaitGroup` has been created. `CountDownLatch` doesn&#39;t support this, number of tasks needs to be specified in advance. JDK7 `Phaser` can be used instead in this case:\r\n\r\n    phaser.register = wg.Add(1)\r\n    phaser.arrive = wg.Done\r\n    phaser.await = wg.Wait","title":"What is the Java equivalent of Golang&#39;s WaitGroup","body":"<p><code>WaitGroup</code> has <code>Add(delta)</code> method that can be called after a <code>WaitGroup</code> has been created. <code>CountDownLatch</code> doesn't support this, number of tasks needs to be specified in advance. JDK7 <code>Phaser</code> can be used instead in this case:</p>\n\n<pre><code>phaser.register = wg.Add(1)\nphaser.arrive = wg.Done\nphaser.await = wg.Wait\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6713493,"reputation":1,"user_id":5176063,"display_name":"user5176063"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1533550331,"creation_date":1533548256,"answer_id":51704624,"question_id":29655531,"body_markdown":"No, there is no &#39;CountDownLatch&#39; in Go.\r\n\r\n`sync.WaitGroup` may have the &#39;wait task finish&#39; feature, but this API&#39;s `Add()` doesn&#39;t happens-befor `Done()`.\r\n","title":"What is the Java equivalent of Golang&#39;s WaitGroup","body":"<p>No, there is no 'CountDownLatch' in Go.</p>\n\n<p><code>sync.WaitGroup</code> may have the 'wait task finish' feature, but this API's <code>Add()</code> doesn't happens-befor <code>Done()</code>.</p>\n"},{"tags":[],"owner":{"account_id":9050387,"reputation":350,"user_id":6740934,"display_name":"Yao Yuan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657246926,"creation_date":1657246367,"answer_id":72906001,"question_id":29655531,"body_markdown":"Thanks to @kostya&#39;s answer.\r\nI write a WaitGroup class with [Phaser](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Phaser.html)\r\n\r\n```java\r\npublic class WaitGroup {\r\n\r\n    Phaser phaser = new Phaser(1);\r\n\r\n    public void add() {\r\n        phaser.register();\r\n    }\r\n\r\n    public void done() {\r\n        phaser.arrive();\r\n    }\r\n\r\n    public void await() {\r\n        phaser.arriveAndAwaitAdvance();\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"What is the Java equivalent of Golang&#39;s WaitGroup","body":"<p>Thanks to @kostya's answer.\nI write a WaitGroup class with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Phaser.html\" rel=\"nofollow noreferrer\">Phaser</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class WaitGroup {\n\n    Phaser phaser = new Phaser(1);\n\n    public void add() {\n        phaser.register();\n    }\n\n    public void done() {\n        phaser.arrive();\n    }\n\n    public void await() {\n        phaser.arriveAndAwaitAdvance();\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5781,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":30448080,"answer_count":5,"score":10,"last_activity_date":1657246926,"creation_date":1429114624,"question_id":29655531,"body_markdown":"Golang has something called a `WaitGroup` which is sort of like in Java a `CompletionService` or a `CountDownLatch` or a `Semaphore` or some combination of the latter.\r\n\r\nI&#39;m not entirely sure how you would implement a WaitGroup in Java. I would imagine a custom CompletionService with some sort of Poison message would be the route to go (since queues can&#39;t say when they are done) but perhaps there is a better concurrent data structure/lock?\r\n\r\nEDIT I posted a possible solution below using `Semaphore` that I think is more analogous than using `thread.join`.\r\n\r\n","title":"What is the Java equivalent of Golang&#39;s WaitGroup","body":"<p>Golang has something called a <code>WaitGroup</code> which is sort of like in Java a <code>CompletionService</code> or a <code>CountDownLatch</code> or a <code>Semaphore</code> or some combination of the latter.</p>\n\n<p>I'm not entirely sure how you would implement a WaitGroup in Java. I would imagine a custom CompletionService with some sort of Poison message would be the route to go (since queues can't say when they are done) but perhaps there is a better concurrent data structure/lock?</p>\n\n<p>EDIT I posted a possible solution below using <code>Semaphore</code> that I think is more analogous than using <code>thread.join</code>.</p>\n"},{"tags":["java","selenium","automation","static","page-factory"],"owner":{"account_id":15544002,"reputation":67,"user_id":11213856,"display_name":"Elgun Quliyev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657260037,"answer_count":0,"score":0,"last_activity_date":1657246638,"creation_date":1657246107,"question_id":72905975,"body_markdown":"I have login page class. Inside that class I have locators and methods. I am using `PageFactory` class in that class.\r\nIn `loginTest` class, in `@Test` annotations I am trying to initialize login page and use the methods from that class. But I am getting `ExceptionInInitializerError` because `initElements` static method of `PageFactory.initElements(driver, Policy_Violations_Page.class)`. How to handle this error?\r\n\r\n```java\r\n@Test(priority = 1,groups = &quot;login&quot;)\r\npublic void verify_navigation_broken_urls() throws InterruptedException {\r\n    Policy_Violations_Page pg = PageFactory.initElements(driver, Policy_Violations_Page.class);\r\n    pg.navigateto_Policy_Violations();\r\n}\r\n```","title":"how to fix ExceptionInInitializerError","body":"<p>I have login page class. Inside that class I have locators and methods. I am using <code>PageFactory</code> class in that class.\nIn <code>loginTest</code> class, in <code>@Test</code> annotations I am trying to initialize login page and use the methods from that class. But I am getting <code>ExceptionInInitializerError</code> because <code>initElements</code> static method of <code>PageFactory.initElements(driver, Policy_Violations_Page.class)</code>. How to handle this error?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test(priority = 1,groups = &quot;login&quot;)\npublic void verify_navigation_broken_urls() throws InterruptedException {\n    Policy_Violations_Page pg = PageFactory.initElements(driver, Policy_Violations_Page.class);\n    pg.navigateto_Policy_Violations();\n}\n</code></pre>\n"},{"tags":["java","microsoft-graph-api"],"comments":[{"owner":{"account_id":23997029,"reputation":589,"user_id":17982436,"display_name":"Mehtab Siddique"},"score":0,"creation_date":1657288590,"post_id":72897255,"comment_id":128781797,"body_markdown":"Please check this doc for Requesting an authorization code: https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow#request-an-authorization-code","body":"Please check this doc for Requesting an authorization code: <a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow#request-an-authorization-code\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/azure/active-directory/develop/&hellip;</a>"},{"owner":{"account_id":954101,"reputation":135,"user_id":979705,"accept_rate":57,"display_name":"N.D.H.Vu"},"score":0,"creation_date":1657507784,"post_id":72897255,"comment_id":128818334,"body_markdown":"@MehtabSiddique Thanks for the reply. I have already read it, but it all about the concept and no sample code on how to do it using MS Graph SDK.","body":"@MehtabSiddique Thanks for the reply. I have already read it, but it all about the concept and no sample code on how to do it using MS Graph SDK."}],"owner":{"account_id":954101,"reputation":135,"user_id":979705,"accept_rate":57,"display_name":"N.D.H.Vu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657246208,"creation_date":1657194431,"question_id":72897255,"body_markdown":"Disclaimer: This is a continue from my previous question &quot;[how-to-set-scope-when-call-microsoft-graph-api][1]&quot;\r\n\r\nI am learning to call Microsoft Graph API in Java for my project. Current task is to post a message on a channel.\r\n\r\nMy current code is as below:\r\n\r\n    ClientSecretCredential _credential = new ClientSecretCredentialBuilder().clientId(clientId).clientSecret(secretValue).tenantId(tenantId).build();\r\n    TokenCredentialAuthProvider authProvider = new TokenCredentialAuthProvider(graphUserScopes, _credential);\r\n    GraphServiceClient&lt;Request&gt;_client = GraphServiceClient.builder().authenticationProvider(authProvider).buildClient();\r\n    \r\n    ChatMessage chatMessage = new ChatMessage();\r\n    ItemBody body = new ItemBody();\r\n    body.content = message;\r\n    chatMessage.body = body;\r\n    \r\n    _client.teams(teamId).channels(channelId).messages().buildRequest().post(chatMessage);\r\n\r\nI have come to learn that ClientSecretCredential is for &quot;Application&quot; type of action only, and &quot;send channel message&quot; require a &quot;Delegated&quot; type. I think about trying AuthorizationCodeCredential class, but do not know how to request &quot;authorizationCode&quot; like in this link: [Authorization code provider][2]\r\n\r\nCan anyone help me with code to get &quot;authorizationCode&quot;?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/72867754/how-to-set-scope-when-call-microsoft-graph-api\r\n  [2]: https://learn.microsoft.com/en-us/graph/sdks/choose-authentication-providers?tabs=Java#authorization-code-provider","title":"How to request authorization code for AuthorizationCodeCredential","body":"<p>Disclaimer: This is a continue from my previous question &quot;<a href=\"https://stackoverflow.com/questions/72867754/how-to-set-scope-when-call-microsoft-graph-api\">how-to-set-scope-when-call-microsoft-graph-api</a>&quot;</p>\n<p>I am learning to call Microsoft Graph API in Java for my project. Current task is to post a message on a channel.</p>\n<p>My current code is as below:</p>\n<pre><code>ClientSecretCredential _credential = new ClientSecretCredentialBuilder().clientId(clientId).clientSecret(secretValue).tenantId(tenantId).build();\nTokenCredentialAuthProvider authProvider = new TokenCredentialAuthProvider(graphUserScopes, _credential);\nGraphServiceClient&lt;Request&gt;_client = GraphServiceClient.builder().authenticationProvider(authProvider).buildClient();\n\nChatMessage chatMessage = new ChatMessage();\nItemBody body = new ItemBody();\nbody.content = message;\nchatMessage.body = body;\n\n_client.teams(teamId).channels(channelId).messages().buildRequest().post(chatMessage);\n</code></pre>\n<p>I have come to learn that ClientSecretCredential is for &quot;Application&quot; type of action only, and &quot;send channel message&quot; require a &quot;Delegated&quot; type. I think about trying AuthorizationCodeCredential class, but do not know how to request &quot;authorizationCode&quot; like in this link: <a href=\"https://learn.microsoft.com/en-us/graph/sdks/choose-authentication-providers?tabs=Java#authorization-code-provider\" rel=\"nofollow noreferrer\">Authorization code provider</a></p>\n<p>Can anyone help me with code to get &quot;authorizationCode&quot;?</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1657243230,"post_id":72905637,"comment_id":128770503,"body_markdown":"I can reproduce this. One thing that works for me is to also run the Intellij Build task as a before launch action. Either before or after the maven goal seems to work.","body":"I can reproduce this. One thing that works for me is to also run the Intellij Build task as a before launch action. Either before or after the maven goal seems to work."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1657243491,"post_id":72905637,"comment_id":128770537,"body_markdown":"Have you raised a ticket with Intellij?","body":"Have you raised a ticket with Intellij?"},{"owner":{"account_id":19531393,"reputation":31,"user_id":14291081,"display_name":"Crispy"},"score":0,"creation_date":1657245748,"post_id":72905637,"comment_id":128770888,"body_markdown":"@tgdavies Thank you! This workaround works for me. I haven&#39;t raised a ticket yet as I wasn&#39;t sure if it truly is a bug or if there was some configuration option that I was missing or something. The fact that you can reproduce it is probably confirmation enough that I should raise a ticket, so I will do so. Thank you again!","body":"@tgdavies Thank you! This workaround works for me. I haven&#39;t raised a ticket yet as I wasn&#39;t sure if it truly is a bug or if there was some configuration option that I was missing or something. The fact that you can reproduce it is probably confirmation enough that I should raise a ticket, so I will do so. Thank you again!"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1657248629,"post_id":72905637,"comment_id":128771240,"body_markdown":"And maybe make the maven target `package` so the tests get run?","body":"And maybe make the maven target <code>package</code> so the tests get run?"},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1657253488,"post_id":72905637,"comment_id":128771860,"body_markdown":"What version of IntelliJ are you using? Relevant info as others potentially encounter the same issue.","body":"What version of IntelliJ are you using? Relevant info as others potentially encounter the same issue."}],"answers":[{"tags":[],"owner":{"account_id":19531393,"reputation":31,"user_id":14291081,"display_name":"Crispy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657246055,"creation_date":1657246055,"answer_id":72905973,"question_id":72905637,"body_markdown":"As suggested by tgdavies in a comment, it&#39;s possible to make this work first time by adding an IntelliJ Build task following the Maven Build task in the Before launch steps. My Main Run Target now has Before launch: `1. Run Maven Goal &#39;Project Name: compiler:compile&#39;` `2. Build`. Obviously this solution is less than ideal but at this stage, I&#39;ll take functional. I&#39;ll be raising a ticket with IntelliJ and hopefully it will be addressed... Thanks tgdavies!","title":"First Run of Maven Built Application in IntelliJ fails","body":"<p>As suggested by tgdavies in a comment, it's possible to make this work first time by adding an IntelliJ Build task following the Maven Build task in the Before launch steps. My Main Run Target now has Before launch: <code>1. Run Maven Goal 'Project Name: compiler:compile'</code> <code>2. Build</code>. Obviously this solution is less than ideal but at this stage, I'll take functional. I'll be raising a ticket with IntelliJ and hopefully it will be addressed... Thanks tgdavies!</p>\n"}],"owner":{"account_id":19531393,"reputation":31,"user_id":14291081,"display_name":"Crispy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657246055,"creation_date":1657241828,"question_id":72905637,"body_markdown":"I have a project that I want to build with Maven but run with IntelliJ, i.e. not delegate run actions to Maven. I have an Application Run Configuration that points at the main class of my project, with a Before Launch action of `1. Run Maven Goal &#39;Project Name: compiler:compile&#39;`. The FIRST time only that I run this config, I get:\r\n\r\n&gt; Error: Could not find or load main class xx.Main \r\n&gt; \r\n&gt; Caused by: java.lang.ClassNotFoundException: xx.Main\r\n\r\nAnd on subsequent (using the exact same run config) runs, it works perfectly. \r\n\r\nNote: if I have a separate Maven Build Target for my project and I run that first and then the Application Run Target (without the build before launch), it works first try. I&#39;ve also tried setting a Before Launch action to run that Build Target, with the same failure as a result. This ONLY occurs when I try to build and run in the same target.\r\n\r\nIt seems like IntelliJ is caching the build state BEFORE anything runs and then using that same state AFTER the Maven Build has run... Does anyone know why this occurs and if there is a way to fix it, or am I just stuck running it twice after every clean? Happy to provide more detail if required.\r\n\r\nBackground as to why I want to do it one step: I&#39;m setting this up for some very junior (and VERY prone to messing things up) devs and the fewer steps there are, the better. I don&#39;t want them to have to think about how to make it run.","title":"First Run of Maven Built Application in IntelliJ fails","body":"<p>I have a project that I want to build with Maven but run with IntelliJ, i.e. not delegate run actions to Maven. I have an Application Run Configuration that points at the main class of my project, with a Before Launch action of <code>1. Run Maven Goal 'Project Name: compiler:compile'</code>. The FIRST time only that I run this config, I get:</p>\n<blockquote>\n<p>Error: Could not find or load main class xx.Main</p>\n<p>Caused by: java.lang.ClassNotFoundException: xx.Main</p>\n</blockquote>\n<p>And on subsequent (using the exact same run config) runs, it works perfectly.</p>\n<p>Note: if I have a separate Maven Build Target for my project and I run that first and then the Application Run Target (without the build before launch), it works first try. I've also tried setting a Before Launch action to run that Build Target, with the same failure as a result. This ONLY occurs when I try to build and run in the same target.</p>\n<p>It seems like IntelliJ is caching the build state BEFORE anything runs and then using that same state AFTER the Maven Build has run... Does anyone know why this occurs and if there is a way to fix it, or am I just stuck running it twice after every clean? Happy to provide more detail if required.</p>\n<p>Background as to why I want to do it one step: I'm setting this up for some very junior (and VERY prone to messing things up) devs and the fewer steps there are, the better. I don't want them to have to think about how to make it run.</p>\n"},{"tags":["java","spring-boot","maven","junit","junit5"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1597744006,"post_id":63465987,"comment_id":112227006,"body_markdown":"Please show the full code including imports etc. of your test class...","body":"Please show the full code including imports etc. of your test class..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1597744069,"post_id":63465987,"comment_id":112227042,"body_markdown":"Remove the dependencies to maven-surefire-plugin in your project and remove the definition of the version for maven-surefire-plugin cause they are already handled in the parent.","body":"Remove the dependencies to maven-surefire-plugin in your project and remove the definition of the version for maven-surefire-plugin cause they are already handled in the parent."},{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":0,"creation_date":1597744247,"post_id":63465987,"comment_id":112227136,"body_markdown":"Hi, updated the question having added the import and removed the maven dependency. This had been added just when trying to debug the issue a bit more but whether with or without it I keep getting the same error message still.","body":"Hi, updated the question having added the import and removed the maven dependency. This had been added just when trying to debug the issue a bit more but whether with or without it I keep getting the same error message still."}],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1597744633,"creation_date":1597744633,"answer_id":63466216,"question_id":63465987,"body_markdown":"The problem is related to that you trying to use a different version of junit jupiter. The version which is predefined by [spring-boot-parent (2.2.4.RELEASE) is 5.5.2](https://search.maven.org/artifact/org.springframework.boot/spring-boot-dependencies/2.2.4.RELEASE/pom). The simplest solution is to remove the versions of junit-jupiter parts (version tag) and use the one which is inherited from spring-boot-parent. The best recommendation I can give is to start with a newer version of Spring Boot (2.3.3.RELEASE most recent one) which uses a more recent version. \r\n\r\nIf you can&#39;t go that way you have to use the `junit-bom` file instead like this:\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n      &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\r\n            &lt;version&gt;5.6.2&lt;/version&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n          &lt;/dependency&gt;\r\n\r\nThen it should work fine. Afterwards you have to use the dependencies without defining the version tag anymore in your pom.xml file.\r\n\r\n\r\n","title":"No Tests Were Executed when using JUnit5 and Spring-boot-starter-parent","body":"<p>The problem is related to that you trying to use a different version of junit jupiter. The version which is predefined by <a href=\"https://search.maven.org/artifact/org.springframework.boot/spring-boot-dependencies/2.2.4.RELEASE/pom\" rel=\"nofollow noreferrer\">spring-boot-parent (2.2.4.RELEASE) is 5.5.2</a>. The simplest solution is to remove the versions of junit-jupiter parts (version tag) and use the one which is inherited from spring-boot-parent. The best recommendation I can give is to start with a newer version of Spring Boot (2.3.3.RELEASE most recent one) which uses a more recent version.</p>\n<p>If you can't go that way you have to use the <code>junit-bom</code> file instead like this:</p>\n\n<pre><code>  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\n        &lt;version&gt;5.6.2&lt;/version&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n      &lt;/dependency&gt;\n</code></pre>\n<p>Then it should work fine. Afterwards you have to use the dependencies without defining the version tag anymore in your pom.xml file.</p>\n"},{"tags":[],"owner":{"account_id":16643589,"reputation":191,"user_id":12028426,"display_name":"Waqqas Sharif"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1657244899,"creation_date":1657244899,"answer_id":72905879,"question_id":63465987,"body_markdown":"Adding -DfailIfNoTests=false to the mvn command seems to make it work.","title":"No Tests Were Executed when using JUnit5 and Spring-boot-starter-parent","body":"<p>Adding -DfailIfNoTests=false to the mvn command seems to make it work.</p>\n"}],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2807,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63466216,"answer_count":2,"score":0,"last_activity_date":1657244899,"creation_date":1597743856,"question_id":63465987,"body_markdown":"I have a very simple JUnit test class that I can not run unless I remove `parent spring-boot-starter-parent` from the pom, which wouldn&#39;t be a possibility for our production application. The error we get on is No Tests Were Executed and below is the mvp with the parent piece that whenever not commented out would block the tests. If I can get any guidance to know how to fix this please.\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n     \r\n    &lt;!-- Piece to be disabled for tests to run --&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n      &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;com.hmhco&lt;/groupId&gt;\r\n    &lt;artifactId&gt;crs-v2&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;crs-v2&lt;/name&gt;\r\n    &lt;description&gt;Content Recommendation Service V2&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;junit.jupiter.version&gt;5.6.2&lt;/junit.jupiter.version&gt;\r\n        &lt;maven.surefire.version&gt;3.0.0-M5&lt;/maven.surefire.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven.surefire.version}&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n    import org.junit.jupiter.api.Test;\r\n\r\n    public class TestingTest {\r\n\r\n    @Test\r\n    public void checking() {\r\n        System.out.println(&quot;checking------------&quot;);\r\n    }\r\n    }\r\n\r\nThank you.","title":"No Tests Were Executed when using JUnit5 and Spring-boot-starter-parent","body":"<p>I have a very simple JUnit test class that I can not run unless I remove <code>parent spring-boot-starter-parent</code> from the pom, which wouldn't be a possibility for our production application. The error we get on is No Tests Were Executed and below is the mvp with the parent piece that whenever not commented out would block the tests. If I can get any guidance to know how to fix this please.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n \n&lt;!-- Piece to be disabled for tests to run --&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n  &lt;/parent&gt;\n\n&lt;groupId&gt;com.hmhco&lt;/groupId&gt;\n&lt;artifactId&gt;crs-v2&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;crs-v2&lt;/name&gt;\n&lt;description&gt;Content Recommendation Service V2&lt;/description&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;junit.jupiter.version&gt;5.6.2&lt;/junit.jupiter.version&gt;\n    &lt;maven.surefire.version&gt;3.0.0-M5&lt;/maven.surefire.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven.surefire.version}&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<pre><code>import org.junit.jupiter.api.Test;\n\npublic class TestingTest {\n\n@Test\npublic void checking() {\n    System.out.println(&quot;checking------------&quot;);\n}\n}\n</code></pre>\n<p>Thank you.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":25755158,"reputation":1,"user_id":19506971,"display_name":"wjgso666"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657244454,"creation_date":1657244454,"answer_id":72905843,"question_id":72905775,"body_markdown":"You should apply for relevant permission.","title":"How to get All files Name in Public Directory in Android 11+?","body":"<p>You should apply for relevant permission.</p>\n"}],"owner":{"display_name":"user19506886"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657244454,"creation_date":1657243598,"question_id":72905775,"body_markdown":"I have not getting Files which created without my App means Another Files which not created by my Application...\r\n```\r\nfolder = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS) + &quot;/&quot; + &quot;com.krunaldhoriya.stockmanager&quot;);\r\n            if (!folder.exists()) {\r\n                folder.mkdirs();\r\n            }\r\n            files = folder.listFiles();\r\n            for(int i = 0;i&lt;files.length;i++) {\r\n                Toast.makeText(MainActivity.this,files[i].getName(),Toast.LENGTH_LONG).show();\r\n            }\r\n```\r\nIt not Display by Any other files which not created by my Application...\r\nSo How to i get All files of this directory which it have already ?","title":"How to get All files Name in Public Directory in Android 11+?","body":"<p>I have not getting Files which created without my App means Another Files which not created by my Application...</p>\n<pre><code>folder = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS) + &quot;/&quot; + &quot;com.krunaldhoriya.stockmanager&quot;);\n            if (!folder.exists()) {\n                folder.mkdirs();\n            }\n            files = folder.listFiles();\n            for(int i = 0;i&lt;files.length;i++) {\n                Toast.makeText(MainActivity.this,files[i].getName(),Toast.LENGTH_LONG).show();\n            }\n</code></pre>\n<p>It not Display by Any other files which not created by my Application...\nSo How to i get All files of this directory which it have already ?</p>\n"},{"tags":["java","queue","big-o","enqueue"],"comments":[{"owner":{"account_id":16876231,"reputation":617,"user_id":12203568,"display_name":"SephB"},"score":4,"creation_date":1657227272,"post_id":72904081,"comment_id":128767668,"body_markdown":"However, the loop will always iterate a specific number of times *depending on how many items are in the list*. How many items in the list is your `n`, so `O(n)`.","body":"However, the loop will always iterate a specific number of times <i>depending on how many items are in the list</i>. How many items in the list is your <code>n</code>, so <code>O(n)</code>."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1657227363,"post_id":72904081,"comment_id":128767694,"body_markdown":"Exactly what @StephB said - you answered your own question. If your loop depends on `n` then it is `O(n)` - even if it is half of `n` or a tenth. Still `O(n)`.","body":"Exactly what @StephB said - you answered your own question. If your loop depends on <code>n</code> then it is <code>O(n)</code> - even if it is half of <code>n</code> or a tenth. Still <code>O(n)</code>."}],"answers":[{"tags":[],"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657228910,"creation_date":1657227814,"answer_id":72904183,"question_id":72904081,"body_markdown":"Let&#39;s start from the following excerpt from the question:\r\n\r\n&gt; However, the loop will always iterate a specific number of times depending on how many items are in the list.\r\n\r\nThis is a correct statement.\r\n\r\nPlease, note the dependency on the input size:\r\n\r\n&gt; iterate a specific number of times depending on how many items are in the list\r\n\r\nTherefore, the algorithm has the linear time complexity — `O(n)`.\r\n\r\n# Linear time complexity\r\nA slightly reformatted excerpt from the article: [Time complexity: Linear_time - Wikipedia](https://en.wikipedia.org/wiki/Time_complexity#Linear_time):\r\n\r\n&gt; An algorithm is said to take **linear time**, or `O(n)` time, if its time complexity is `O(n)`. Informally, this means that the running time increases at most linearly with the size of the input. More precisely, this means that there is a constant `c` such that the running time is at most `cn` for every input of size `n`. For example, a procedure that adds up all elements of a list requires time proportional to the length of the list, if the adding time is constant, or, at least, bounded by a constant.\r\n\r\nA slightly reformatted excerpt from the article: [Big O notation: Orders of common functions - Wikipedia](https://en.wikipedia.org/wiki/Big_O_notation#Orders_of_common_functions): let&#39;s refer to the corresponding row:\r\n\r\n&gt; Notation: `O(n)`\r\n&gt;\r\n&gt; Name: [linear](https://en.wikipedia.org/wiki/Linear_time)\r\n&gt;\r\n&gt; Example: Finding an item in an unsorted list or in an unsorted array; adding two `n`-bit integers by [ripple carry](https://en.wikipedia.org/wiki/Ripple_carry_adder &quot;Ripple carry adder&quot;)","title":"What is the Big O for this enqueue method?","body":"<p>Let's start from the following excerpt from the question:</p>\n<blockquote>\n<p>However, the loop will always iterate a specific number of times depending on how many items are in the list.</p>\n</blockquote>\n<p>This is a correct statement.</p>\n<p>Please, note the dependency on the input size:</p>\n<blockquote>\n<p>iterate a specific number of times depending on how many items are in the list</p>\n</blockquote>\n<p>Therefore, the algorithm has the linear time complexity — <code>O(n)</code>.</p>\n<h1>Linear time complexity</h1>\n<p>A slightly reformatted excerpt from the article: <a href=\"https://en.wikipedia.org/wiki/Time_complexity#Linear_time\" rel=\"nofollow noreferrer\">Time complexity: Linear_time - Wikipedia</a>:</p>\n<blockquote>\n<p>An algorithm is said to take <strong>linear time</strong>, or <code>O(n)</code> time, if its time complexity is <code>O(n)</code>. Informally, this means that the running time increases at most linearly with the size of the input. More precisely, this means that there is a constant <code>c</code> such that the running time is at most <code>cn</code> for every input of size <code>n</code>. For example, a procedure that adds up all elements of a list requires time proportional to the length of the list, if the adding time is constant, or, at least, bounded by a constant.</p>\n</blockquote>\n<p>A slightly reformatted excerpt from the article: <a href=\"https://en.wikipedia.org/wiki/Big_O_notation#Orders_of_common_functions\" rel=\"nofollow noreferrer\">Big O notation: Orders of common functions - Wikipedia</a>: let's refer to the corresponding row:</p>\n<blockquote>\n<p>Notation: <code>O(n)</code></p>\n<p>Name: <a href=\"https://en.wikipedia.org/wiki/Linear_time\" rel=\"nofollow noreferrer\">linear</a></p>\n<p>Example: Finding an item in an unsorted list or in an unsorted array; adding two <code>n</code>-bit integers by <a href=\"https://en.wikipedia.org/wiki/Ripple_carry_adder\" rel=\"nofollow noreferrer\" title=\"Ripple carry adder\">ripple carry</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657244414,"creation_date":1657243709,"answer_id":72905791,"question_id":72904081,"body_markdown":"&gt; However, the loop will always iterate a specific number of times depending on how many items are in the list. This makes me believe it&#39;s actually O(1).\r\n\r\n&gt; Am I wrong?\r\n\r\nYour reasoning is wrong.\r\n\r\nA complexity analysis of an algorithm needs to take account of all possible inputs.\r\n\r\nWhile the number of elements in a single given list can be assumed to be constant while you are looping, the number of elements in *any* list is not a constant.  If you consider all possible lists that could be inputs to the algorithm, the length of the list is a variable whose value can get arbitrarily large&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nIf we call that variable `N` then it is clear that the complexity class for your algorithm is `O(N)`.  (I won&#39;t go into the details because I think you already understand them.)\r\n\r\nThe only way that your reasoning could be semi-correct would be if you could categorically state that the input list length was less than some constant `L`.  The complexity class then collapses to `O(1)`.  However even this reasoning is dubious&lt;sup&gt;2&lt;/sup&gt;, since the algorithm as written does not check that constraint.  It has no control over the list length!  \r\n\r\nOn the other hand, if you rewrote the algorithm as this:\r\n\r\n    public static final int L = 42;\r\n    \r\n    public Node&lt;T&gt; enqueue(T data){\r\n        Node&lt;T&gt; toQueue = new Node&lt;&gt;(data);\r\n        if (this.head == null) {\r\n            this.head = toQueue;\r\n            return toQueue;\r\n        }\r\n        Node&lt;T&gt; lastNode = this.head;\r\n        int count = 0;\r\n        while(lastNode.next != null){\r\n            lastNode = lastNode.next;\r\n            if (count++ &gt; L) {\r\n               throw InvalidArgumentException(&quot;list too long&quot;);\r\n            }\r\n        }\r\n\r\n        lastNode.next = toQueue;\r\n\r\n        return toQueue;\r\n    }\r\n\r\nthen we can legitimately say that the method is `O(1)`.  It will either give a result or throw an exception within a constant time.\r\n\r\n----------------------\r\n\r\n&lt;sup&gt;1 - I am ignoring the fact that there are practical limits on how long a simple linked list like this can be in a Java program.  If the list is too large, it won&#39;t fit in the heap.  And there are limits on how large you could make the heap.&lt;br&gt;\r\n2 - A more mathematically sound way to describe the scenario is that your algorithm is `O(N)` *but* your use of the algorithm is `O(1)` because the calling code (not shown) enforces a bound on the list length.&lt;/sup&gt; ","title":"What is the Big O for this enqueue method?","body":"<blockquote>\n<p>However, the loop will always iterate a specific number of times depending on how many items are in the list. This makes me believe it's actually O(1).</p>\n</blockquote>\n<blockquote>\n<p>Am I wrong?</p>\n</blockquote>\n<p>Your reasoning is wrong.</p>\n<p>A complexity analysis of an algorithm needs to take account of all possible inputs.</p>\n<p>While the number of elements in a single given list can be assumed to be constant while you are looping, the number of elements in <em>any</em> list is not a constant.  If you consider all possible lists that could be inputs to the algorithm, the length of the list is a variable whose value can get arbitrarily large<sup>1</sup>.</p>\n<p>If we call that variable <code>N</code> then it is clear that the complexity class for your algorithm is <code>O(N)</code>.  (I won't go into the details because I think you already understand them.)</p>\n<p>The only way that your reasoning could be semi-correct would be if you could categorically state that the input list length was less than some constant <code>L</code>.  The complexity class then collapses to <code>O(1)</code>.  However even this reasoning is dubious<sup>2</sup>, since the algorithm as written does not check that constraint.  It has no control over the list length!</p>\n<p>On the other hand, if you rewrote the algorithm as this:</p>\n<pre><code>public static final int L = 42;\n\npublic Node&lt;T&gt; enqueue(T data){\n    Node&lt;T&gt; toQueue = new Node&lt;&gt;(data);\n    if (this.head == null) {\n        this.head = toQueue;\n        return toQueue;\n    }\n    Node&lt;T&gt; lastNode = this.head;\n    int count = 0;\n    while(lastNode.next != null){\n        lastNode = lastNode.next;\n        if (count++ &gt; L) {\n           throw InvalidArgumentException(&quot;list too long&quot;);\n        }\n    }\n\n    lastNode.next = toQueue;\n\n    return toQueue;\n}\n</code></pre>\n<p>then we can legitimately say that the method is <code>O(1)</code>.  It will either give a result or throw an exception within a constant time.</p>\n<hr />\n<p><sup>1 - I am ignoring the fact that there are practical limits on how long a simple linked list like this can be in a Java program.  If the list is too large, it won't fit in the heap.  And there are limits on how large you could make the heap.<br>\n2 - A more mathematically sound way to describe the scenario is that your algorithm is <code>O(N)</code> <em>but</em> your use of the algorithm is <code>O(1)</code> because the calling code (not shown) enforces a bound on the list length.</sup></p>\n"}],"owner":{"account_id":25537980,"reputation":1,"user_id":19324676,"display_name":"GeRmAnImAl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1657295227,"answer_count":2,"score":-3,"last_activity_date":1657244414,"creation_date":1657227102,"question_id":72904081,"body_markdown":"I wrote code for an enqueue method in a singly linked list and I&#39;m wondering if anyone can tell me the Big O is for this code. I at first assumed it was O(n) because of the loop. However, the loop will always iterate a specific number of times depending on how many items are in the list. This makes me believe it&#39;s actually O(1). Am I wrong?\r\n\r\n```\r\npublic Node&lt;T&gt; enqueue(T data){\r\n        Node&lt;T&gt; toQueue = new Node&lt;&gt;(data);\r\n        if (this.head == null) {\r\n            this.head = toQueue;\r\n            return toQueue;\r\n        }\r\n        Node&lt;T&gt; lastNode = this.head;\r\n        while(lastNode.next != null){\r\n            lastNode = lastNode.next;\r\n        }\r\n\r\n        lastNode.next = toQueue;\r\n\r\n        return toQueue;\r\n    }\r\n```","title":"What is the Big O for this enqueue method?","body":"<p>I wrote code for an enqueue method in a singly linked list and I'm wondering if anyone can tell me the Big O is for this code. I at first assumed it was O(n) because of the loop. However, the loop will always iterate a specific number of times depending on how many items are in the list. This makes me believe it's actually O(1). Am I wrong?</p>\n<pre><code>public Node&lt;T&gt; enqueue(T data){\n        Node&lt;T&gt; toQueue = new Node&lt;&gt;(data);\n        if (this.head == null) {\n            this.head = toQueue;\n            return toQueue;\n        }\n        Node&lt;T&gt; lastNode = this.head;\n        while(lastNode.next != null){\n            lastNode = lastNode.next;\n        }\n\n        lastNode.next = toQueue;\n\n        return toQueue;\n    }\n</code></pre>\n"},{"tags":["java","pdf","itext","sign"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1657123186,"post_id":72885745,"comment_id":128736651,"body_markdown":"Your flow cannot be correct: In `sign` you prepare the PDF for signing and sign it with a signature you provide as a parameter; thus, that signature has been created before the data to sign were known! (The data to sign are finalized by that preparation for signing.)","body":"Your flow cannot be correct: In <code>sign</code> you prepare the PDF for signing and sign it with a signature you provide as a parameter; thus, that signature has been created before the data to sign were known! (The data to sign are finalized by that preparation for signing.)"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1657128172,"post_id":72885745,"comment_id":128738555,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":25741357,"reputation":11,"user_id":19495303,"display_name":"papi_pl"},"score":0,"creation_date":1657131016,"post_id":72885745,"comment_id":128739621,"body_markdown":"@mkl thank you for your comment, after some reading i think i should use deferred sign process with pre signing like in example here   https://git.itextsupport.com/projects/I7JS/repos/signatures/browse/src/test/java/com/itextpdf/samples/signatures/chapter04/C4_09_DeferredSigning.java","body":"@mkl thank you for your comment, after some reading i think i should use deferred sign process with pre signing like in example here   <a href=\"https://git.itextsupport.com/projects/I7JS/repos/signatures/browse/src/test/java/com/itextpdf/samples/signatures/chapter04/C4_09_DeferredSigning.java\" rel=\"nofollow noreferrer\">git.itextsupport.com/projects/I7JS/repos/signatures/browse/s&zwnj;&#8203;rc/&hellip;</a>"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1657134765,"post_id":72885745,"comment_id":128740801,"body_markdown":"That is one option. Another one would be to call your sign service from within your `CustomSignature`. Which is better depends on details of your signature service and your whole use case.","body":"That is one option. Another one would be to call your sign service from within your <code>CustomSignature</code>. Which is better depends on details of your signature service and your whole use case."}],"answers":[{"tags":[],"owner":{"account_id":25741357,"reputation":11,"user_id":19495303,"display_name":"papi_pl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657243989,"creation_date":1657208261,"answer_id":72900649,"question_id":72885745,"body_markdown":"According to advice posted in the comment, I still use custom `IExternalSignature` implementation with external call in sign method:\r\n\r\n        public void sign(Certificate[] chain, PdfSigner.CryptoStandard subfilter, String fieldName) throws GeneralSecurityException, IOException {\r\n        try (InputStream is = new FileInputStream(src); FileOutputStream os = new FileOutputStream(dest)) {\r\n            PdfReader reader = new PdfReader(is);\r\n            PdfSigner signer = new PdfSigner(reader, os, new StampingProperties());\r\n            signer.setFieldName(fieldName); //My signature fields\r\n            IExternalDigest digest = new BouncyCastleDigest();\r\n            IExternalSignature signature = new CustomSignature(chain);\r\n            signer.signDetached(digest, signature, chain, null, null, null,\r\n                    8196, subfilter);\r\n        }\r\n    }\r\n\r\n    public class CustomSignature implements IExternalSignature {\r\n        private Certificate[] chain;\r\n        public CustomSignature(Certificate[] chain) {\r\n            this.chain = chain;\r\n        }\r\n        public String getHashAlgorithm() {\r\n            return DigestAlgorithms.SHA256;\r\n        }\r\n\r\n        public String getEncryptionAlgorithm() {\r\n            return &quot;RSA&quot;;\r\n        }\r\n\r\n        public byte[] sign(byte[] message) throws GeneralSecurityException {\r\n            BouncyCastleDigest digest = new BouncyCastleDigest();\r\n            byte[] hash = digest.getMessageDigest(&quot;SHA256&quot;).digest(message);\r\n            return Base64.getDecoder().decode(client.getSignedHash(Base64.getEncoder().encodeToString(hash))); // call externall service here\r\n        }\r\n    }\r\n\r\nAnd for the first call validation error disappeared, Signature1 seems to be ok, but a problem occurred when I tried to sign second sig field using pdf generetaed in first call and takes another file as output. Now newly created Signature2 is ok, but the first one failed with a broken byte range:\r\n\r\n    new DocumentSigner(SOURCE, DEST1).sign(chain,PdfSigner.CryptoStandard.CMS, &quot;Signature1&quot;);\r\n    new DocumentSigner(DEST1, DEST2).sign(chain, PdfSigner.CryptoStandard.CMS, &quot;Signature2&quot;);\r\n\r\nI will be grateful for any ideas what can I do to sign multiple fields without broke previous ones \r\n\r\n[Here is Adobe validation output after the second call][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dauPj.png\r\n\r\n\r\n**UPDATE:**\r\n\r\nI used append mode on PdfSigner&#39;s `StampingProperties` and now everything is ok:\r\n\r\n    StampingProperties stampingProperties = new StampingProperties();\r\n    stampingProperties.useAppendMode();\r\n    PdfSigner signer = new PdfSigner(reader, os, stampingProperties);","title":"Itext sign pdf with external signature causes validation fail (“the document has been altered or corrupted..&quot;)","body":"<p>According to advice posted in the comment, I still use custom <code>IExternalSignature</code> implementation with external call in sign method:</p>\n<pre><code>    public void sign(Certificate[] chain, PdfSigner.CryptoStandard subfilter, String fieldName) throws GeneralSecurityException, IOException {\n    try (InputStream is = new FileInputStream(src); FileOutputStream os = new FileOutputStream(dest)) {\n        PdfReader reader = new PdfReader(is);\n        PdfSigner signer = new PdfSigner(reader, os, new StampingProperties());\n        signer.setFieldName(fieldName); //My signature fields\n        IExternalDigest digest = new BouncyCastleDigest();\n        IExternalSignature signature = new CustomSignature(chain);\n        signer.signDetached(digest, signature, chain, null, null, null,\n                8196, subfilter);\n    }\n}\n\npublic class CustomSignature implements IExternalSignature {\n    private Certificate[] chain;\n    public CustomSignature(Certificate[] chain) {\n        this.chain = chain;\n    }\n    public String getHashAlgorithm() {\n        return DigestAlgorithms.SHA256;\n    }\n\n    public String getEncryptionAlgorithm() {\n        return &quot;RSA&quot;;\n    }\n\n    public byte[] sign(byte[] message) throws GeneralSecurityException {\n        BouncyCastleDigest digest = new BouncyCastleDigest();\n        byte[] hash = digest.getMessageDigest(&quot;SHA256&quot;).digest(message);\n        return Base64.getDecoder().decode(client.getSignedHash(Base64.getEncoder().encodeToString(hash))); // call externall service here\n    }\n}\n</code></pre>\n<p>And for the first call validation error disappeared, Signature1 seems to be ok, but a problem occurred when I tried to sign second sig field using pdf generetaed in first call and takes another file as output. Now newly created Signature2 is ok, but the first one failed with a broken byte range:</p>\n<pre><code>new DocumentSigner(SOURCE, DEST1).sign(chain,PdfSigner.CryptoStandard.CMS, &quot;Signature1&quot;);\nnew DocumentSigner(DEST1, DEST2).sign(chain, PdfSigner.CryptoStandard.CMS, &quot;Signature2&quot;);\n</code></pre>\n<p>I will be grateful for any ideas what can I do to sign multiple fields without broke previous ones</p>\n<p><a href=\"https://i.stack.imgur.com/dauPj.png\" rel=\"nofollow noreferrer\">Here is Adobe validation output after the second call</a></p>\n<p><strong>UPDATE:</strong></p>\n<p>I used append mode on PdfSigner's <code>StampingProperties</code> and now everything is ok:</p>\n<pre><code>StampingProperties stampingProperties = new StampingProperties();\nstampingProperties.useAppendMode();\nPdfSigner signer = new PdfSigner(reader, os, stampingProperties);\n</code></pre>\n"}],"owner":{"account_id":25741357,"reputation":11,"user_id":19495303,"display_name":"papi_pl"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":562,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657243989,"creation_date":1657119370,"question_id":72885745,"body_markdown":"I try to sign pdf document using itext7, certificate and external signature returned from external web service say Sign Service:\r\n\r\nI did the following steps:\r\n\r\n1. Got the orginal pdf, added last page (sign page) with 2 signatures filelds on it and created temp pdf\r\n\r\n2. Calculated hash from created temp pdf\r\n\r\n3. Exchanhed with Sign Service my Base64 encoded hash with encoded Base64 signed hash (I&#39;m not sure is this raw or CMS signature - I treat it as CMS container)\r\n\r\n4. Decoded and put obtained signed hash along with certificate from Sign Company to one of my Sig field on temp pdf file. I will need sign subseqent field/fields in this way in the furure.\r\n\r\nUnfortunately i got validation errors in Adobe Reader: “the document has been altered or corrupted since the signature was applied”:\r\n[link to Adobe validation result][1]\r\n\r\nBelow the code fragment where I create sign page:\r\n\r\n    private void createPdfDocument(Document doc, int iteration) {\r\n        //Add last sign page to doc\r\n        doc.add(new AreaBreak(AreaBreakType.LAST_PAGE));\r\n        doc.add(new AreaBreak(AreaBreakType.NEXT_PAGE));\r\n\r\n        PdfPage lastPage = doc.getPdfDocument().getLastPage();\r\n        float width = lastPage.getPageSize().getWidth();\r\n        float height = lastPage.getPageSize().getHeight();\r\n\r\n        createTitle(doc);\r\n        PdfAcroForm form = PdfAcroForm.getAcroForm(doc.getPdfDocument(), true);\r\n\r\n        for (int i = 1; i &lt;= iteration; i++) {\r\n            addSignArea(doc, form, VERTICAL_RECTANGLE_START - (i - 1) * VERTICAL_MARGIN,\r\n                    VERTICAL_TEXT_START - (i - 1) * VERTICAL_MARGIN, i);\r\n        }\r\n        System.out.println(&quot;Creating sign page finished&quot;);\r\n    }\r\n    private void addSignArea(Document doc, PdfAcroForm form, int verticalRectPosition, int verticalFieldPosition, int iteration) {\r\n        Color color = new DeviceRgb(46, 66, 148);\r\n\r\n        //Create sign area frame\r\n        new PdfCanvas(doc.getPdfDocument().getLastPage())\r\n                .roundRectangle(50, verticalRectPosition, 495, 50, 5)\r\n                .setLineWidth(0.5f)\r\n                .setStrokeColor(color)\r\n                .stroke();\r\n\r\n        //Create text fields inside frame\r\n        PdfSignatureFormField signField = PdfSignatureFormField.createSignature(doc.getPdfDocument(),\r\n                new Rectangle(50, verticalRectPosition, 495, 50));\r\n        signField.setFieldName(getFieldCountedName(&quot;Signature&quot;, iteration));\r\n        form.addField(signField);\r\n    }\r\n\r\nI calculate document hash that way:\r\n\r\n    public String getDocumentHash() {\r\n        try (FileInputStream is = new FileInputStream(DOC)) {\r\n            byte[] hash = DigestAlgorithms.digest(is, DigestAlgorithms.SHA256, null);\r\n            String encodeToString = Base64.getEncoder().encodeToString(hash);\r\n            System.out.println(encodeToString);\r\n            return encodeToString;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\nAnd finally sign pdf file:\r\n\r\n    public class DocumentSigner {\r\n\r\n    public static final String DEST = &quot;&quot;;\r\n    private static final String SOURCE = &quot;&quot;;\r\n    private static final String DOC_HASH = &quot;6XsoKhEXVMu8e0R7BGtaKvghwL0GBrqTGAivFpct6J4=&quot;;\r\n\r\n    public static final String[] RESULT_FILES = new String[]{\r\n            &quot;sign_doc_result1.pdf&quot;\r\n    };\r\n\r\n    public static void main(String[] args) throws GeneralSecurityException, IOException {\r\n        File file = new File(DEST);\r\n        file.mkdirs();\r\n\r\n        Certificate[] chain = new Certificate[1];\r\n        chain[0] = CertLoadTest.getPublicCert(); //load cert from path\r\n\r\n        String encodedExternalHash = getExternalSignedHash(); //get the signded hash returned from the Sign Service\r\n\r\n        new DocumentSigner().sign(SOURCE, DEST + RESULT_FILES[0], chain, PdfSigner.CryptoStandard.CMS,\r\n                encodedExternalHash, DOC_HASH, &quot;Signature1&quot;);\r\n    }\r\n\r\n    public void sign(String src, String dest, Certificate[] chain, PdfSigner.CryptoStandard subfilter,\r\n                     String encodedExternalHash, String documentHash,  String fieldName) throws GeneralSecurityException, IOException {\r\n\r\n        try (FileOutputStream os = new FileOutputStream(dest); InputStream is = new FileInputStream(src)) {\r\n            PdfReader reader = new PdfReader(is);\r\n            PdfSigner signer = new PdfSigner(reader, os, new StampingProperties());\r\n            signer.setFieldName(fieldName);\r\n\r\n            IExternalDigest digest = new BouncyCastleDigest();\r\n            IExternalSignature signature = new CustomSignature(Base64.getDecoder().decode(encodedExternalHash),\r\n                    Base64.getDecoder().decode(documentHash), chain);\r\n\r\n            signer.signDetached(digest, signature, chain, null, null, null,\r\n                    8096, subfilter);\r\n        }\r\n    }\r\n\r\n    public class CustomSignature implements IExternalSignature {\r\n        private byte[] signedHash;\r\n        private byte[] documentHash;\r\n        private Certificate[] chain;\r\n\r\n        public CustomSignature(byte[] signedHash, byte[] documentHash, Certificate[] chain) {\r\n            this.signedHash = signedHash;\r\n            this.documentHash = documentHash;\r\n            this.chain = chain;\r\n        }\r\n\r\n        public String getHashAlgorithm() {\r\n            return DigestAlgorithms.SHA256;\r\n        }\r\n\r\n        public String getEncryptionAlgorithm() {\r\n            return &quot;RSA&quot;;\r\n        }\r\n\r\n        public byte[] sign(byte[] message) throws GeneralSecurityException {\r\n            return signedHash;\r\n        }\r\n    }\r\n\r\n    private static String getExternalSignedHash() {\r\n        //mocked Sign Service result - documentHash is exchanged with signedHash\r\n        return &quot;3BLqVMOLSFXEfCy++n0DmRqcfCGCqSLy9Nzpn1IpAn6iTqr+h78+yOomGMAL0La77IB08Tou9gkxbwSXPHrdN5+EPm7HCXeI/z3fzj711H9OH6P9tWtVHgieKUFOVhrm/PTeypSC/vy7RJQLNmL5+/+Moby5Bdo/KaaN2h9Jj41w1i6CwL/7wzCZ0h+AU9sI+IC0i/UbWFFz7VMfN5barcF1vP+ECLiX3qtZrGbFZNZfrr+28ytNTdUR4iZJRLKL2nXeg0CqxsTjnAyUsFMTCro1qv0QkQO8Cv6AJFhWlUFGUkt+pIUKhIticlypB+WdzwmISOsRK0IUiKgrJI6E3g==&quot;;\r\n    }\r\n\r\nA also tried to treat returned from Sign Service hash as a raw signature - this is what sign method in CustomSignature class looks like then:\r\n\r\n            BouncyCastleDigest digest = new BouncyCastleDigest();\r\n            PdfPKCS7 sgn = new PdfPKCS7(null, chain, &quot;SHA256&quot;, null, digest, false);\r\n            byte[] sh = sgn.getAuthenticatedAttributeBytes(documentHash, PdfSigner.CryptoStandard.CMS, null, null);\r\n            sgn.setExternalDigest(signedHash, null, &quot;RSA&quot;);\r\n            byte[] encodedSig = sgn.getEncodedPKCS7(documentHash, PdfSigner.CryptoStandard.CMS, null, null, null);\r\n            return encodedSig;\r\n\r\n\r\nBut in this case i get formmatting signature errors in Adobe Reader\r\n\r\nIs my flow correct or maybe i need another approach to properly sign document.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cpJLb.png","title":"Itext sign pdf with external signature causes validation fail (“the document has been altered or corrupted..&quot;)","body":"<p>I try to sign pdf document using itext7, certificate and external signature returned from external web service say Sign Service:</p>\n<p>I did the following steps:</p>\n<ol>\n<li><p>Got the orginal pdf, added last page (sign page) with 2 signatures filelds on it and created temp pdf</p>\n</li>\n<li><p>Calculated hash from created temp pdf</p>\n</li>\n<li><p>Exchanhed with Sign Service my Base64 encoded hash with encoded Base64 signed hash (I'm not sure is this raw or CMS signature - I treat it as CMS container)</p>\n</li>\n<li><p>Decoded and put obtained signed hash along with certificate from Sign Company to one of my Sig field on temp pdf file. I will need sign subseqent field/fields in this way in the furure.</p>\n</li>\n</ol>\n<p>Unfortunately i got validation errors in Adobe Reader: “the document has been altered or corrupted since the signature was applied”:\n<a href=\"https://i.stack.imgur.com/cpJLb.png\" rel=\"nofollow noreferrer\">link to Adobe validation result</a></p>\n<p>Below the code fragment where I create sign page:</p>\n<pre><code>private void createPdfDocument(Document doc, int iteration) {\n    //Add last sign page to doc\n    doc.add(new AreaBreak(AreaBreakType.LAST_PAGE));\n    doc.add(new AreaBreak(AreaBreakType.NEXT_PAGE));\n\n    PdfPage lastPage = doc.getPdfDocument().getLastPage();\n    float width = lastPage.getPageSize().getWidth();\n    float height = lastPage.getPageSize().getHeight();\n\n    createTitle(doc);\n    PdfAcroForm form = PdfAcroForm.getAcroForm(doc.getPdfDocument(), true);\n\n    for (int i = 1; i &lt;= iteration; i++) {\n        addSignArea(doc, form, VERTICAL_RECTANGLE_START - (i - 1) * VERTICAL_MARGIN,\n                VERTICAL_TEXT_START - (i - 1) * VERTICAL_MARGIN, i);\n    }\n    System.out.println(&quot;Creating sign page finished&quot;);\n}\nprivate void addSignArea(Document doc, PdfAcroForm form, int verticalRectPosition, int verticalFieldPosition, int iteration) {\n    Color color = new DeviceRgb(46, 66, 148);\n\n    //Create sign area frame\n    new PdfCanvas(doc.getPdfDocument().getLastPage())\n            .roundRectangle(50, verticalRectPosition, 495, 50, 5)\n            .setLineWidth(0.5f)\n            .setStrokeColor(color)\n            .stroke();\n\n    //Create text fields inside frame\n    PdfSignatureFormField signField = PdfSignatureFormField.createSignature(doc.getPdfDocument(),\n            new Rectangle(50, verticalRectPosition, 495, 50));\n    signField.setFieldName(getFieldCountedName(&quot;Signature&quot;, iteration));\n    form.addField(signField);\n}\n</code></pre>\n<p>I calculate document hash that way:</p>\n<pre><code>public String getDocumentHash() {\n    try (FileInputStream is = new FileInputStream(DOC)) {\n        byte[] hash = DigestAlgorithms.digest(is, DigestAlgorithms.SHA256, null);\n        String encodeToString = Base64.getEncoder().encodeToString(hash);\n        System.out.println(encodeToString);\n        return encodeToString;\n    } catch (Exception e) {\n        e.printStackTrace();\n        return null;\n    }\n}\n</code></pre>\n<p>And finally sign pdf file:</p>\n<pre><code>public class DocumentSigner {\n\npublic static final String DEST = &quot;&quot;;\nprivate static final String SOURCE = &quot;&quot;;\nprivate static final String DOC_HASH = &quot;6XsoKhEXVMu8e0R7BGtaKvghwL0GBrqTGAivFpct6J4=&quot;;\n\npublic static final String[] RESULT_FILES = new String[]{\n        &quot;sign_doc_result1.pdf&quot;\n};\n\npublic static void main(String[] args) throws GeneralSecurityException, IOException {\n    File file = new File(DEST);\n    file.mkdirs();\n\n    Certificate[] chain = new Certificate[1];\n    chain[0] = CertLoadTest.getPublicCert(); //load cert from path\n\n    String encodedExternalHash = getExternalSignedHash(); //get the signded hash returned from the Sign Service\n\n    new DocumentSigner().sign(SOURCE, DEST + RESULT_FILES[0], chain, PdfSigner.CryptoStandard.CMS,\n            encodedExternalHash, DOC_HASH, &quot;Signature1&quot;);\n}\n\npublic void sign(String src, String dest, Certificate[] chain, PdfSigner.CryptoStandard subfilter,\n                 String encodedExternalHash, String documentHash,  String fieldName) throws GeneralSecurityException, IOException {\n\n    try (FileOutputStream os = new FileOutputStream(dest); InputStream is = new FileInputStream(src)) {\n        PdfReader reader = new PdfReader(is);\n        PdfSigner signer = new PdfSigner(reader, os, new StampingProperties());\n        signer.setFieldName(fieldName);\n\n        IExternalDigest digest = new BouncyCastleDigest();\n        IExternalSignature signature = new CustomSignature(Base64.getDecoder().decode(encodedExternalHash),\n                Base64.getDecoder().decode(documentHash), chain);\n\n        signer.signDetached(digest, signature, chain, null, null, null,\n                8096, subfilter);\n    }\n}\n\npublic class CustomSignature implements IExternalSignature {\n    private byte[] signedHash;\n    private byte[] documentHash;\n    private Certificate[] chain;\n\n    public CustomSignature(byte[] signedHash, byte[] documentHash, Certificate[] chain) {\n        this.signedHash = signedHash;\n        this.documentHash = documentHash;\n        this.chain = chain;\n    }\n\n    public String getHashAlgorithm() {\n        return DigestAlgorithms.SHA256;\n    }\n\n    public String getEncryptionAlgorithm() {\n        return &quot;RSA&quot;;\n    }\n\n    public byte[] sign(byte[] message) throws GeneralSecurityException {\n        return signedHash;\n    }\n}\n\nprivate static String getExternalSignedHash() {\n    //mocked Sign Service result - documentHash is exchanged with signedHash\n    return &quot;3BLqVMOLSFXEfCy++n0DmRqcfCGCqSLy9Nzpn1IpAn6iTqr+h78+yOomGMAL0La77IB08Tou9gkxbwSXPHrdN5+EPm7HCXeI/z3fzj711H9OH6P9tWtVHgieKUFOVhrm/PTeypSC/vy7RJQLNmL5+/+Moby5Bdo/KaaN2h9Jj41w1i6CwL/7wzCZ0h+AU9sI+IC0i/UbWFFz7VMfN5barcF1vP+ECLiX3qtZrGbFZNZfrr+28ytNTdUR4iZJRLKL2nXeg0CqxsTjnAyUsFMTCro1qv0QkQO8Cv6AJFhWlUFGUkt+pIUKhIticlypB+WdzwmISOsRK0IUiKgrJI6E3g==&quot;;\n}\n</code></pre>\n<p>A also tried to treat returned from Sign Service hash as a raw signature - this is what sign method in CustomSignature class looks like then:</p>\n<pre><code>        BouncyCastleDigest digest = new BouncyCastleDigest();\n        PdfPKCS7 sgn = new PdfPKCS7(null, chain, &quot;SHA256&quot;, null, digest, false);\n        byte[] sh = sgn.getAuthenticatedAttributeBytes(documentHash, PdfSigner.CryptoStandard.CMS, null, null);\n        sgn.setExternalDigest(signedHash, null, &quot;RSA&quot;);\n        byte[] encodedSig = sgn.getEncodedPKCS7(documentHash, PdfSigner.CryptoStandard.CMS, null, null, null);\n        return encodedSig;\n</code></pre>\n<p>But in this case i get formmatting signature errors in Adobe Reader</p>\n<p>Is my flow correct or maybe i need another approach to properly sign document.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":0,"creation_date":1657193596,"post_id":72896939,"comment_id":128755248,"body_markdown":"Try add `@ComponentScan` over `IHubApplication.class`","body":"Try add <code>@ComponentScan</code> over <code>IHubApplication.class</code>"},{"owner":{"account_id":4153002,"reputation":139,"user_id":3404905,"display_name":"chethan bhounsley g"},"score":0,"creation_date":1657194326,"post_id":72896939,"comment_id":128755529,"body_markdown":"CustomConfig was generated through SDK with same class and same package was causing issue. Thank you.","body":"CustomConfig was generated through SDK with same class and same package was causing issue. Thank you."}],"owner":{"account_id":4153002,"reputation":139,"user_id":3404905,"display_name":"chethan bhounsley g"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657243903,"creation_date":1657192963,"question_id":72896939,"body_markdown":"I have a spring boot application with base \r\n\r\n```\r\n@SpringBootApplication(scanBasePackages = { &quot;com.abc.xyz.pqr&quot; })\r\npublic class IhubApplication {}\r\n```\r\n\r\nand library folder where I am loading multiple projects having different packages scanned using \r\n\r\n*Project 1:*\r\n\r\n    @Configuration\r\n    @ComponentScan(basePackages = &quot;com.pqr.abc&quot;)\r\n    public class CustomConfig {\r\n    \r\n    }\r\n\r\n*Project 2:*\r\n\r\n```\r\n@ComponentScan(basePackages = {&quot;com.abc.xyx&quot;})\r\n@Configuration\r\npublic class CustomConfig {}\r\n```\r\n\r\n**Problem:** On running `IhubApplication`, only one is loading from lib, i.e, `com.abc.xyx`. Project with component scan `com.pqr.abc` is being ignored.\r\n\r\n","title":"Multiple Projects - @ComponentScan is not working correctly","body":"<p>I have a spring boot application with base</p>\n<pre><code>@SpringBootApplication(scanBasePackages = { &quot;com.abc.xyz.pqr&quot; })\npublic class IhubApplication {}\n</code></pre>\n<p>and library folder where I am loading multiple projects having different packages scanned using</p>\n<p><em>Project 1:</em></p>\n<pre><code>@Configuration\n@ComponentScan(basePackages = &quot;com.pqr.abc&quot;)\npublic class CustomConfig {\n\n}\n</code></pre>\n<p><em>Project 2:</em></p>\n<pre><code>@ComponentScan(basePackages = {&quot;com.abc.xyx&quot;})\n@Configuration\npublic class CustomConfig {}\n</code></pre>\n<p><strong>Problem:</strong> On running <code>IhubApplication</code>, only one is loading from lib, i.e, <code>com.abc.xyx</code>. Project with component scan <code>com.pqr.abc</code> is being ignored.</p>\n"},{"tags":["java","android","expandablelistview"],"comments":[{"owner":{"account_id":6305344,"reputation":2779,"user_id":4898562,"display_name":"i_A_mok"},"score":1,"creation_date":1657442615,"post_id":72905785,"comment_id":128807326,"body_markdown":"I think you have to replace `while (res.moveToNext()){ ctrVisit = res.getString(3); }` with some code related to **childPosition**.","body":"I think you have to replace <code>while (res.moveToNext()){ ctrVisit = res.getString(3); }</code> with some code related to <b>childPosition</b>."},{"owner":{"account_id":9132874,"reputation":15,"user_id":6793755,"display_name":"Ryan Baltazar"},"score":0,"creation_date":1657500894,"post_id":72905785,"comment_id":128817568,"body_markdown":"Thank you sir. Everything is fine now, The problem is I declared my button and textviews as Global.","body":"Thank you sir. Everything is fine now, The problem is I declared my button and textviews as Global."}],"owner":{"account_id":9132874,"reputation":15,"user_id":6793755,"display_name":"Ryan Baltazar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657243655,"creation_date":1657243655,"question_id":72905785,"body_markdown":"I&#39;m trying to add an remove function on my child list inside ExpandableListView, but when I clicked the button inside child list, it always returns me the last list on my child even though I select the first one or other child list. \r\n\r\nHere&#39;s my source code for ExpandableListView\r\n\r\n\r\nExpandableListView Code : \r\n\r\n     private void fillData(){\r\n            String COA = String.format(dataBaseHelper.getCount(VisitDate));\r\n            if(COA.equals(0)) {\r\n                mGroupsCursor = dataBaseHelper.getSelectedParentMVPDate(reformatMVPDate());\r\n                startManagingCursor(mGroupsCursor);\r\n                mGroupsCursor.moveToFirst();\r\n                ExpandableListView SelectedListView = (ExpandableListView) findViewById(R.id.MVPListitem);\r\n                mAdapter = new MyExpandableListAdapter(mGroupsCursor, this,\r\n                        R.layout.mvp_list_parent,\r\n                        R.layout.mvp_list_child,\r\n                        new String[]{DataBaseHelper.MVP_INDUSTRY_TYPE},\r\n                        new int[]{R.id.txtMVPParent},\r\n                        new String[]{DataBaseHelper.MVP_BRCH_CODE_NAME, DataBaseHelper.MVP_BRCH_ADDRESS, DataBaseHelper.MVP_ID},\r\n                        new int[]{R.id.txtviewBrnchCodeName, R.id.txtviewBrchAddr, R.id.txtmvpID});\r\n                SelectedListView.setAdapter(mAdapter);\r\n            }\r\n            else{\r\n                mGroupsCursor = dataBaseHelper.getSelectedParentMVPDate(reformatMVPDate());\r\n                startManagingCursor(mGroupsCursor);\r\n                mGroupsCursor.moveToFirst();\r\n                ExpandableListView SelectedListView = (ExpandableListView) findViewById(R.id.MVPListitem);\r\n                mAdapter = new MyExpandableListAdapter(mGroupsCursor, this,\r\n                        R.layout.mvp_list_parent,\r\n                        R.layout.mvp_list_child,\r\n                        new String[]{DataBaseHelper.MVP_INDUSTRY_TYPE},\r\n                        new int[]{R.id.txtMVPParent},\r\n                        new String[]{DataBaseHelper.MVP_BRCH_CODE_NAME, DataBaseHelper.MVP_BRCH_ADDRESS, DataBaseHelper.MVP_ID},\r\n                        new int[]{R.id.txtviewBrnchCodeName, R.id.txtviewBrchAddr, R.id.txtmvpID});\r\n                SelectedListView.setAdapter(mAdapter);\r\n            }\r\n        }\r\n    \r\n        public class MyExpandableListAdapter extends SimpleCursorTreeAdapter {\r\n            public MyExpandableListAdapter(Cursor cursor, Context context,int groupLayout,\r\n                                           int childLayout, String[] groupFrom, int[] groupTo, String[] childrenFrom,\r\n                                           int[] childrenTo) {\r\n                super(context, cursor, groupLayout, groupFrom, groupTo,\r\n                        childLayout, childrenFrom, childrenTo);\r\n            }\r\n    \r\n            @Override\r\n            protected Cursor getChildrenCursor(Cursor cursor) {\r\n                @SuppressLint(&quot;Range&quot;) Cursor childCursor = dataBaseHelper.getSelectedChildMVPDate(cursor.getString(cursor.getColumnIndex(DataBaseHelper.MVP_INDUSTRY_TYPE)),reformatMVPDate());\r\n                startManagingCursor(childCursor);\r\n                childCursor.moveToFirst();\r\n                return childCursor;\r\n            }\r\n    \r\n            public View getChildView(final int groupPosition,\r\n                                     final int childPosition, boolean isLastChild, View convertView,\r\n                                     ViewGroup parent) {\r\n    \r\n    \r\n        View rowView = super.getChildView(groupPosition, childPosition,\r\n                        isLastChild, convertView, parent);\r\n    \r\n    \r\n    \r\n    \r\n                removeMVP = (Button) rowView.findViewById(R.id.btnRemove);\r\n                txtBCN = (TextView) rowView.findViewById(R.id.txtviewBrnchCodeName);\r\n                txtBA = (TextView) rowView.findViewById(R.id.txtviewBrchAddr);\r\n                txtmvpID = (TextView) rowView.findViewById(R.id.txtmvpID);\r\n                if(edit.getVisibility() == View.VISIBLE){\r\n                    removeMVP.setVisibility(View.GONE);\r\n                }\r\n                else{\r\n                    removeMVP.setVisibility(View.VISIBLE);\r\n                }\r\n                //remove childList\r\n                removeMVP.setOnClickListener(new View.OnClickListener() {\r\n                    @SuppressLint(&quot;Range&quot;)\r\n                    public void onClick(View v) {\r\n                        AlertDialog.Builder builder = new AlertDialog.Builder(MasterVisitPlan.this);\r\n                        builder.setTitle(&quot;Delete Appointment&quot;)\r\n                                .setMessage(&quot;Are you sure? Assigned date and branch will be removed.&quot; + txtBCN.getText().toString())\r\n                                .setCancelable(false)\r\n                                .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n                                    @Override\r\n                                    public void onClick(DialogInterface dialog, int which) {\r\n                                        Cursor res = dataBaseHelper.getCounterVisitData(txtBCN.getText().toString(), reformatDate());\r\n                                        if(res.getCount() == 0){\r\n                                            return;\r\n                                        }while (res.moveToNext()){\r\n                                            ctrVisit = res.getString(3);\r\n                                        }\r\n                                        int diffCounterVisit = Integer.parseInt(ctrVisit) - 1;\r\n                                        dataBaseHelper.updateCounterVisit(txtBCN.getText().toString(),String.valueOf(diffCounterVisit),reformatDate());\r\n                                        Integer deletedRows = dataBaseHelper.DeleteSelectedChildMVPDate(txtmvpID.getText().toString());\r\n                                        if(deletedRows &gt; 0){\r\n                                            AlertDialog.Builder builder = new AlertDialog.Builder(MasterVisitPlan.this);\r\n                                            builder.setMessage(&quot;✔ Successfully removed.&quot;)\r\n                                                    .setCancelable(false)\r\n                                                    .setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n                                                        @Override\r\n                                                        public void onClick(DialogInterface dialog, int which) {\r\n                                                            edit.clearAnimation();\r\n                                                            dialog.cancel();\r\n                                                            setMonthView();\r\n                                                            getStatus();\r\n                                                            btnViewfromUploadStatus();\r\n                                                            enableView(calendar, false);\r\n                                                        }\r\n                                                    });\r\n                                            AlertDialog dialogDeleted = builder.create();\r\n                                            dialogDeleted.show();\r\n                                        }else{\r\n                                            Toast.makeText(MasterVisitPlan.this, &quot;Data not Deleted&quot;, Toast.LENGTH_SHORT).show();\r\n                                        }\r\n                                        fillData();\r\n                                        countMVPData();\r\n                                    }\r\n                                })\r\n                                .setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\r\n                                    @Override\r\n                                    public void onClick(DialogInterface dialog, int which) {\r\n                                        dialog.cancel();\r\n                                    }\r\n                                });\r\n                        AlertDialog dialog = builder.create();\r\n                        dialog.show();\r\n                    }\r\n                });\r\n                return rowView;\r\n            }\r\n        }\r\n\r\n","title":"Delete child item inside ExpandableListView","body":"<p>I'm trying to add an remove function on my child list inside ExpandableListView, but when I clicked the button inside child list, it always returns me the last list on my child even though I select the first one or other child list.</p>\n<p>Here's my source code for ExpandableListView</p>\n<p>ExpandableListView Code :</p>\n<pre><code> private void fillData(){\n        String COA = String.format(dataBaseHelper.getCount(VisitDate));\n        if(COA.equals(0)) {\n            mGroupsCursor = dataBaseHelper.getSelectedParentMVPDate(reformatMVPDate());\n            startManagingCursor(mGroupsCursor);\n            mGroupsCursor.moveToFirst();\n            ExpandableListView SelectedListView = (ExpandableListView) findViewById(R.id.MVPListitem);\n            mAdapter = new MyExpandableListAdapter(mGroupsCursor, this,\n                    R.layout.mvp_list_parent,\n                    R.layout.mvp_list_child,\n                    new String[]{DataBaseHelper.MVP_INDUSTRY_TYPE},\n                    new int[]{R.id.txtMVPParent},\n                    new String[]{DataBaseHelper.MVP_BRCH_CODE_NAME, DataBaseHelper.MVP_BRCH_ADDRESS, DataBaseHelper.MVP_ID},\n                    new int[]{R.id.txtviewBrnchCodeName, R.id.txtviewBrchAddr, R.id.txtmvpID});\n            SelectedListView.setAdapter(mAdapter);\n        }\n        else{\n            mGroupsCursor = dataBaseHelper.getSelectedParentMVPDate(reformatMVPDate());\n            startManagingCursor(mGroupsCursor);\n            mGroupsCursor.moveToFirst();\n            ExpandableListView SelectedListView = (ExpandableListView) findViewById(R.id.MVPListitem);\n            mAdapter = new MyExpandableListAdapter(mGroupsCursor, this,\n                    R.layout.mvp_list_parent,\n                    R.layout.mvp_list_child,\n                    new String[]{DataBaseHelper.MVP_INDUSTRY_TYPE},\n                    new int[]{R.id.txtMVPParent},\n                    new String[]{DataBaseHelper.MVP_BRCH_CODE_NAME, DataBaseHelper.MVP_BRCH_ADDRESS, DataBaseHelper.MVP_ID},\n                    new int[]{R.id.txtviewBrnchCodeName, R.id.txtviewBrchAddr, R.id.txtmvpID});\n            SelectedListView.setAdapter(mAdapter);\n        }\n    }\n\n    public class MyExpandableListAdapter extends SimpleCursorTreeAdapter {\n        public MyExpandableListAdapter(Cursor cursor, Context context,int groupLayout,\n                                       int childLayout, String[] groupFrom, int[] groupTo, String[] childrenFrom,\n                                       int[] childrenTo) {\n            super(context, cursor, groupLayout, groupFrom, groupTo,\n                    childLayout, childrenFrom, childrenTo);\n        }\n\n        @Override\n        protected Cursor getChildrenCursor(Cursor cursor) {\n            @SuppressLint(&quot;Range&quot;) Cursor childCursor = dataBaseHelper.getSelectedChildMVPDate(cursor.getString(cursor.getColumnIndex(DataBaseHelper.MVP_INDUSTRY_TYPE)),reformatMVPDate());\n            startManagingCursor(childCursor);\n            childCursor.moveToFirst();\n            return childCursor;\n        }\n\n        public View getChildView(final int groupPosition,\n                                 final int childPosition, boolean isLastChild, View convertView,\n                                 ViewGroup parent) {\n\n\n    View rowView = super.getChildView(groupPosition, childPosition,\n                    isLastChild, convertView, parent);\n\n\n\n\n            removeMVP = (Button) rowView.findViewById(R.id.btnRemove);\n            txtBCN = (TextView) rowView.findViewById(R.id.txtviewBrnchCodeName);\n            txtBA = (TextView) rowView.findViewById(R.id.txtviewBrchAddr);\n            txtmvpID = (TextView) rowView.findViewById(R.id.txtmvpID);\n            if(edit.getVisibility() == View.VISIBLE){\n                removeMVP.setVisibility(View.GONE);\n            }\n            else{\n                removeMVP.setVisibility(View.VISIBLE);\n            }\n            //remove childList\n            removeMVP.setOnClickListener(new View.OnClickListener() {\n                @SuppressLint(&quot;Range&quot;)\n                public void onClick(View v) {\n                    AlertDialog.Builder builder = new AlertDialog.Builder(MasterVisitPlan.this);\n                    builder.setTitle(&quot;Delete Appointment&quot;)\n                            .setMessage(&quot;Are you sure? Assigned date and branch will be removed.&quot; + txtBCN.getText().toString())\n                            .setCancelable(false)\n                            .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n                                @Override\n                                public void onClick(DialogInterface dialog, int which) {\n                                    Cursor res = dataBaseHelper.getCounterVisitData(txtBCN.getText().toString(), reformatDate());\n                                    if(res.getCount() == 0){\n                                        return;\n                                    }while (res.moveToNext()){\n                                        ctrVisit = res.getString(3);\n                                    }\n                                    int diffCounterVisit = Integer.parseInt(ctrVisit) - 1;\n                                    dataBaseHelper.updateCounterVisit(txtBCN.getText().toString(),String.valueOf(diffCounterVisit),reformatDate());\n                                    Integer deletedRows = dataBaseHelper.DeleteSelectedChildMVPDate(txtmvpID.getText().toString());\n                                    if(deletedRows &gt; 0){\n                                        AlertDialog.Builder builder = new AlertDialog.Builder(MasterVisitPlan.this);\n                                        builder.setMessage(&quot;✔ Successfully removed.&quot;)\n                                                .setCancelable(false)\n                                                .setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\n                                                    @Override\n                                                    public void onClick(DialogInterface dialog, int which) {\n                                                        edit.clearAnimation();\n                                                        dialog.cancel();\n                                                        setMonthView();\n                                                        getStatus();\n                                                        btnViewfromUploadStatus();\n                                                        enableView(calendar, false);\n                                                    }\n                                                });\n                                        AlertDialog dialogDeleted = builder.create();\n                                        dialogDeleted.show();\n                                    }else{\n                                        Toast.makeText(MasterVisitPlan.this, &quot;Data not Deleted&quot;, Toast.LENGTH_SHORT).show();\n                                    }\n                                    fillData();\n                                    countMVPData();\n                                }\n                            })\n                            .setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\n                                @Override\n                                public void onClick(DialogInterface dialog, int which) {\n                                    dialog.cancel();\n                                }\n                            });\n                    AlertDialog dialog = builder.create();\n                    dialog.show();\n                }\n            });\n            return rowView;\n        }\n    }\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8790,"page":1202,"page_size":100}
