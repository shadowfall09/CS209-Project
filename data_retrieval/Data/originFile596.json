{"items":[{"tags":["java","android","android-studio","notifications","firebase-cloud-messaging"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678201281,"creation_date":1678201281,"answer_id":75663655,"question_id":75660066,"body_markdown":"Firebase Cloud Messaging supports sending messages from either the Firebase console (its web-based admin interface) or through its API **from trusted environments**. This is best illustrated by this diagram from the documentation on the [Firebase Cloud Messaging arcitecture](https://firebase.google.com/docs/cloud-messaging/fcm-architecture):\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo there is no way to send messages directly from one Android device to another through (just) FCM. You will need some sort of trusted environment, such as your development machine, a server that you control, or Cloud Functions/Cloud Run, to send messages from.\r\n\r\nFor an example of this, you can have a look at the Cloud Functions sample use-case of [notifying the user when something interesting happens](https://firebase.google.com/docs/functions/use-cases#notify_users_when_something_interesting_happens) or at my classic blog post [Sending notifications between Android devices with Firebase Database and Cloud Messaging](https://firebase.blog/posts/2016/08/sending-notifications-between-android/).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/td1GO.png","title":"Send notifications programmatically using FCM","body":"<p>Firebase Cloud Messaging supports sending messages from either the Firebase console (its web-based admin interface) or through its API <strong>from trusted environments</strong>. This is best illustrated by this diagram from the documentation on the <a href=\"https://firebase.google.com/docs/cloud-messaging/fcm-architecture\" rel=\"nofollow noreferrer\">Firebase Cloud Messaging arcitecture</a>:</p>\n<p><a href=\"https://i.stack.imgur.com/td1GO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/td1GO.png\" alt=\"enter image description here\" /></a></p>\n<p>So there is no way to send messages directly from one Android device to another through (just) FCM. You will need some sort of trusted environment, such as your development machine, a server that you control, or Cloud Functions/Cloud Run, to send messages from.</p>\n<p>For an example of this, you can have a look at the Cloud Functions sample use-case of <a href=\"https://firebase.google.com/docs/functions/use-cases#notify_users_when_something_interesting_happens\" rel=\"nofollow noreferrer\">notifying the user when something interesting happens</a> or at my classic blog post <a href=\"https://firebase.blog/posts/2016/08/sending-notifications-between-android/\" rel=\"nofollow noreferrer\">Sending notifications between Android devices with Firebase Database and Cloud Messaging</a>.</p>\n"}],"owner":{"account_id":11089907,"reputation":1,"user_id":8142168,"display_name":"Raouf_Kelani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678201281,"creation_date":1678180974,"question_id":75660066,"body_markdown":"I have two android apps, one for admin and one for users. I send the content from the admin, but I send notifications from Onesignal.\r\nI&#39;ve tried to find a way to send the notifications programmatically from a code inside the admin, the best way is to use the `FCM` (Firebase Cloud Messaging) but I don&#39;t know how to use it.\r\nI&#39;m using `android studio` with `JAVA`.\r\n\r\nI&#39;ve tried the `FCM` but I still don&#39;t know how to send a notification.","title":"Send notifications programmatically using FCM","body":"<p>I have two android apps, one for admin and one for users. I send the content from the admin, but I send notifications from Onesignal.\nI've tried to find a way to send the notifications programmatically from a code inside the admin, the best way is to use the <code>FCM</code> (Firebase Cloud Messaging) but I don't know how to use it.\nI'm using <code>android studio</code> with <code>JAVA</code>.</p>\n<p>I've tried the <code>FCM</code> but I still don't know how to send a notification.</p>\n"},{"tags":["java","spring","websphere","hazelcast"],"answers":[{"tags":[],"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678039604,"creation_date":1678039604,"answer_id":75644312,"question_id":75622547,"body_markdown":"there are two possibilities,\r\n\r\n1. [Repeat mechanism](https://stackoverflow.com/questions/66375704/a-retry-mechanism-in-java-with-scheduledexecutorservice) in code.\r\n2. Scheduler works multiple times and gets outofmemory sometimes and not every time, it depends to load of the application.\r\n\r\nEasiest solution would be increase the heap https://stackoverflow.com/a/69348545/175554 better solution would be change the scheduler code to handle data not getting outofmemory, paging and processing block by block.","title":"Spring MVC request/response thread throws a Exception with a caused by of another scheduler thread","body":"<p>there are two possibilities,</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/66375704/a-retry-mechanism-in-java-with-scheduledexecutorservice\">Repeat mechanism</a> in code.</li>\n<li>Scheduler works multiple times and gets outofmemory sometimes and not every time, it depends to load of the application.</li>\n</ol>\n<p>Easiest solution would be increase the heap <a href=\"https://stackoverflow.com/a/69348545/175554\">https://stackoverflow.com/a/69348545/175554</a> better solution would be change the scheduler code to handle data not getting outofmemory, paging and processing block by block.</p>\n"},{"tags":[],"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678201225,"creation_date":1678201225,"answer_id":75663641,"question_id":75622547,"body_markdown":"Heap is used by the whole process, not allocated to any particular thread. If any thread exhausts the heap, everything is affected.\r\n\r\nOOME means you don&#39;t have a large enough heap for the needs at that point in time. It could be that there&#39;s a leak somewhere that is never giving back memory it needs to, or it could be that you simply need a larger heap for this application&#39;s load. \r\n\r\nOr it could be both. That is, that you have peak needs for a larger heap, but you also, say, forgot to close some resource that is holding onto that memory, thus not allowing it to be garbage collected.\r\n\r\nThere are WebSphere heap analysis tools you can use to try to determine which case it is, or you can open a Support Case with IBM if you have Support, and have them start that analysis and point you in the right direction.\r\n\r\nExporting an Excel file it would not surprise me if the heap requirements are just quite large. We have an application where we use a 3rd-party library to work with Excel files as well, and it can definitely be memory-intensive. Depending on your library (or custom code), there could be ways to make that more memory efficient - although if so likely at the cost of speed. But I&#39;d also definitely look for like failure to close some opened resource(s).\r\n\r\nFinally, I&#39;m kind-of surprised Hazelcast would be in the mix for this. It&#39;s definitely not a good practice to put _large_ items on the HttpSession.","title":"Spring MVC request/response thread throws a Exception with a caused by of another scheduler thread","body":"<p>Heap is used by the whole process, not allocated to any particular thread. If any thread exhausts the heap, everything is affected.</p>\n<p>OOME means you don't have a large enough heap for the needs at that point in time. It could be that there's a leak somewhere that is never giving back memory it needs to, or it could be that you simply need a larger heap for this application's load.</p>\n<p>Or it could be both. That is, that you have peak needs for a larger heap, but you also, say, forgot to close some resource that is holding onto that memory, thus not allowing it to be garbage collected.</p>\n<p>There are WebSphere heap analysis tools you can use to try to determine which case it is, or you can open a Support Case with IBM if you have Support, and have them start that analysis and point you in the right direction.</p>\n<p>Exporting an Excel file it would not surprise me if the heap requirements are just quite large. We have an application where we use a 3rd-party library to work with Excel files as well, and it can definitely be memory-intensive. Depending on your library (or custom code), there could be ways to make that more memory efficient - although if so likely at the cost of speed. But I'd also definitely look for like failure to close some opened resource(s).</p>\n<p>Finally, I'm kind-of surprised Hazelcast would be in the mix for this. It's definitely not a good practice to put <em>large</em> items on the HttpSession.</p>\n"}],"owner":{"account_id":3703814,"reputation":335,"user_id":3107112,"accept_rate":64,"display_name":"NYoung"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678201225,"creation_date":1677808958,"question_id":75622547,"body_markdown":"We have a production web server built with IBM Websphere, Spring IoC, Spring MVC, and Hazelcast. We use Hazelcast as the Spring session implementation. A single schedule thread will do the health check every 60 seconds. During a large excel exporting job, many OutOfMemoryErrors has thrown. But after the job is completed with success, most requests to the server are failed with a stack trace like this.\r\n\r\n```\r\n[LargeThreadPool-thread-6481] ERROR xxxxFilter Exception captured in filter scope: org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.OutOfMemoryError: Java Heap space\r\n  at org.springframework.web.DispatcherServlet.doDispatch(DispatcherServlet.java:982)\r\n  at org.springframework.web.DispatcherServlet.doService(DispatcherServlet.java:901)\r\n  xxx\r\n  spring filter stack\r\n  xxx\r\n  IBM Websphere stack\r\nCaused by: java.lang.OutOfMemroyError: Java heap space\r\n  at java.lang.Class.getDeclaredFieldsImpl\r\n  at java.lang.Class.getDeclaredFileds\r\n  at java.io.ObjectStreamClass.getDefaultSerialFileds\r\n  xxx\r\n  at com.hazelcast.client.impl.proxy.ClientMapProxy.setAsync\r\n  xxx\r\n  at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFuturedTask.run\r\n  \r\n```\r\n\r\nWebsphere dumped 4 phd and java core files during the job execution, no more dump after the job was completed.\r\n\r\nI tried to debug the code of hazelcast, they did catch the OOME to do some client lifecycle management but did not rethrow it to somewhere another thread can access it.\r\n\r\nMy questions:\r\nThe schedule thread should be dead after OOME happened. How come the thread execution can repeatably be the cause of another thread?\r\n\r\n","title":"Spring MVC request/response thread throws a Exception with a caused by of another scheduler thread","body":"<p>We have a production web server built with IBM Websphere, Spring IoC, Spring MVC, and Hazelcast. We use Hazelcast as the Spring session implementation. A single schedule thread will do the health check every 60 seconds. During a large excel exporting job, many OutOfMemoryErrors has thrown. But after the job is completed with success, most requests to the server are failed with a stack trace like this.</p>\n<pre><code>[LargeThreadPool-thread-6481] ERROR xxxxFilter Exception captured in filter scope: org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.OutOfMemoryError: Java Heap space\n  at org.springframework.web.DispatcherServlet.doDispatch(DispatcherServlet.java:982)\n  at org.springframework.web.DispatcherServlet.doService(DispatcherServlet.java:901)\n  xxx\n  spring filter stack\n  xxx\n  IBM Websphere stack\nCaused by: java.lang.OutOfMemroyError: Java heap space\n  at java.lang.Class.getDeclaredFieldsImpl\n  at java.lang.Class.getDeclaredFileds\n  at java.io.ObjectStreamClass.getDefaultSerialFileds\n  xxx\n  at com.hazelcast.client.impl.proxy.ClientMapProxy.setAsync\n  xxx\n  at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFuturedTask.run\n  \n</code></pre>\n<p>Websphere dumped 4 phd and java core files during the job execution, no more dump after the job was completed.</p>\n<p>I tried to debug the code of hazelcast, they did catch the OOME to do some client lifecycle management but did not rethrow it to somewhere another thread can access it.</p>\n<p>My questions:\nThe schedule thread should be dead after OOME happened. How come the thread execution can repeatably be the cause of another thread?</p>\n"},{"tags":["java","eclipse","jsp","tomcat"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1678144545,"post_id":75652918,"comment_id":133473428,"body_markdown":"I doubt this does not happen with Jetty 9.4 for the same(!) edit in the same situation.","body":"I doubt this does not happen with Jetty 9.4 for the same(!) edit in the same situation."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1678163430,"post_id":75652918,"comment_id":133475774,"body_markdown":"(1) Are you using Windows platform? (2) Are you debugging a page or class and not ending the debug?","body":"(1) Are you using Windows platform? (2) Are you debugging a page or class and not ending the debug?"},{"owner":{"account_id":44082,"reputation":3850,"user_id":129150,"accept_rate":48,"display_name":"isobretatel"},"score":0,"creation_date":1678193073,"post_id":75652918,"comment_id":133482369,"body_markdown":"1. Yes. 2. Yes.","body":"1. Yes. 2. Yes."}],"answers":[{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678127111,"creation_date":1678127111,"answer_id":75654488,"question_id":75652918,"body_markdown":"You could also ignore this message. Tomcat is reloading the JSP all by itself, and eclipse tries to do it again. As you observe, the changed JSP is active, so there&#39;s nothing that eclipse could do for you additionally.","title":"Hot code replace failed - JSP + Eclipse + Tomcat","body":"<p>You could also ignore this message. Tomcat is reloading the JSP all by itself, and eclipse tries to do it again. As you observe, the changed JSP is active, so there's nothing that eclipse could do for you additionally.</p>\n"}],"owner":{"account_id":44082,"reputation":3850,"user_id":129150,"accept_rate":48,"display_name":"isobretatel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678200947,"creation_date":1678117531,"question_id":75652918,"body_markdown":"When I edit a JSP, I get &quot;Hot code replace failed&quot; warning. The change is still visible in the browser.\r\nI use Eclipse 2022-12 (4.26.0), Tomcat 9.0, Java 11 OpenJDK.\r\n\r\nIt does not happen with Jetty 9.4. According to Jetty/jasper documentation, Jetty uses JDK compiler if available. Does that mean that I should force Tomcat to use JDK compiler instead of ECJ compiler? How do I do that?","title":"Hot code replace failed - JSP + Eclipse + Tomcat","body":"<p>When I edit a JSP, I get &quot;Hot code replace failed&quot; warning. The change is still visible in the browser.\nI use Eclipse 2022-12 (4.26.0), Tomcat 9.0, Java 11 OpenJDK.</p>\n<p>It does not happen with Jetty 9.4. According to Jetty/jasper documentation, Jetty uses JDK compiler if available. Does that mean that I should force Tomcat to use JDK compiler instead of ECJ compiler? How do I do that?</p>\n"},{"tags":["java","gradle","cucumber","testng","appium"],"owner":{"account_id":25459568,"reputation":1,"user_id":19259624,"display_name":"jordan99"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678200899,"creation_date":1677145145,"question_id":75542969,"body_markdown":"I have a framework of mobile test automation and i made many changes to allow my code to support parallel execution but i encounter a problem which is the following: When the first thread terminates, his tearDown stop the other running thread, for infomation i have two appium server and driver instances that are running.\r\nCucumber runner is:\r\n\r\n\r\n```\r\npackage com.runners;\r\nimport io.cucumber.testng.*;\r\nimport org.apache.logging.log4j.ThreadContext;\r\nimport org.testng.annotations.*;\r\nimport tabesto.testing.drivers.DriverManagerMobile.AndroidDeviceA;\r\nimport tabesto.testing.drivers.DriverManagerMobile.AppiumServer;\r\nimport tabesto.testing.integration.reporter.GlobalParams;\r\n\r\nimport java.io.File;\r\nimport java.time.Duration;\r\n\r\n\r\npublic class RunnerBase {\r\n\r\n    private static final ThreadLocal&lt;TestNGCucumberRunner&gt; testNGCucumberRunner = new ThreadLocal&lt;&gt;();\r\n\r\n    public static TestNGCucumberRunner getRunner(){\r\n        return testNGCucumberRunner.get();\r\n    }\r\n\r\n    private static void setRunner(TestNGCucumberRunner testNGCucumberRunner1){\r\n        testNGCucumberRunner.set(testNGCucumberRunner1);\r\n    }\r\n\r\n    @Parameters({&quot;platformName&quot;, &quot;udid&quot;, &quot;deviceName&quot;, &quot;systemPort&quot;,\r\n            &quot;chromeDriverPort&quot;})\r\n    @BeforeClass(alwaysRun = true)\r\n     public void setUpClass(String platformName, String udid, String deviceName, @Optional(&quot;Android&quot;) String systemPort,\r\n                           @Optional(&quot;Android&quot;) String chromeDriverPort) throws Exception {\r\n        GlobalParams params = new GlobalParams();\r\n        String strFile = &quot;logs&quot; + File.separator + &quot;Android&quot;;\r\n        File logFile = new File(strFile);\r\n        if (!logFile.exists()) {\r\n            logFile.mkdirs();\r\n        }\r\n        ThreadContext.put(&quot;ROUTINGKEY&quot;, strFile);\r\n        params.setPlatformName(platformName);\r\n        params.setUDID(udid);\r\n        params.setDeviceName(deviceName);\r\n        params.setSystemPort(systemPort);\r\n        params.setChromeDriverPort(chromeDriverPort);\r\n        new AppiumServer().startServer();\r\n        new AndroidDeviceA().initializeDriver();\r\n        AndroidDeviceA.getDriver().manage().timeouts().implicitlyWait(Duration.ofSeconds(4));\r\n        setRunner(new TestNGCucumberRunner(this.getClass()));\r\n\r\n    }\r\n\r\n\r\n    @Test(groups = &quot;cucumber&quot;, description = &quot;Runs Cucumber Scenarios&quot;, dataProvider = &quot;scenarios&quot;)\r\n    public void scenario(PickleWrapper pickle, FeatureWrapper cucumberFeature) throws Throwable {\r\n        getRunner().runScenario(pickle.getPickle());\r\n    }\r\n\r\n    @DataProvider\r\n    public Object[][] scenarios() {\r\n        return getRunner().provideScenarios();\r\n    }\r\n\r\n    @AfterClass(alwaysRun = true)\r\n    public void tearDownClass(){\r\n        AndroidDeviceA driverManager = new AndroidDeviceA();\r\n        if(driverManager.getDriver() != null){\r\n            driverManager.getDriver().quit();\r\n            driverManager.setDriver(null);\r\n        }\r\n        AppiumServer serverManager = new AppiumServer();\r\n        if(serverManager.getServer() != null){\r\n            serverManager.getServer().stop();\r\n        }\r\n        if(testNGCucumberRunner != null){\r\n            getRunner().finish();\r\n        }\r\n\r\n\r\n  }\r\n}\r\n```\r\n\r\n\r\nAndroidDriver code:\r\n\r\n```\r\npackage tabesto.testing.drivers.DriverManagerMobile;\r\n\r\nimport io.appium.java_client.AppiumDriver;\r\nimport io.appium.java_client.android.AndroidDriver;\r\nimport tabesto.testing.config.Settings;\r\nimport tabesto.testing.utils.HelpersMethod;\r\n\r\n\r\nimport java.io.IOException;\r\n\r\npublic class AndroidDeviceA {\r\n\r\n    private static final ThreadLocal&lt;AndroidDriver&gt; driver = new ThreadLocal&lt;&gt;();\r\n    HelpersMethod utils = new HelpersMethod();\r\n\r\n\r\n    public static AndroidDriver getDriver() {\r\n        return driver.get();\r\n    }\r\n\r\n\r\n    public static void setDriver(AndroidDriver driver2) {\r\n        driver.set(driver2);\r\n    }\r\n\r\n    public void initializeDriver() throws Exception {\r\n        AndroidDriver driver = null;\r\n\r\n            try {\r\n                utils.log().info(&quot;initializing Appium driver&quot;);\r\n                if (Boolean.getBoolean(Settings.getInstance().getModeDebug())){\r\n                    new AppiumServer();\r\n                    driver = new AndroidDriver(AppiumServer.getServer().getUrl(), new UiAutomatorOptions().getUiAutomatorOptionsMobile());\r\n                }else\r\n                {\r\n                    driver = new AndroidDriver(new UiAutomatorOptions().getUiAutomatorOptionsMobile());\r\n                }\r\n                if (driver == null) {\r\n                    throw new Exception(&quot;driver is null. ABORT!!!&quot;);\r\n                }\r\n                utils.log().info(&quot;Driver is initialized&quot;);\r\n                AndroidDeviceA.setDriver(driver);\r\n\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                utils.log().fatal(&quot;Driver initialization failure. ABORT !!!!&quot; + e.toString());\r\n                throw e;\r\n            }\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\nAppium Server code:\r\n\r\n```\r\npackage tabesto.testing.drivers.DriverManagerMobile;\r\n\r\nimport io.appium.java_client.AppiumDriver;\r\nimport io.appium.java_client.service.local.AppiumDriverLocalService;\r\nimport io.appium.java_client.service.local.AppiumServerHasNotBeenStartedLocallyException;\r\nimport io.appium.java_client.service.local.AppiumServiceBuilder;\r\nimport io.appium.java_client.service.local.flags.GeneralServerFlag;\r\nimport tabesto.testing.integration.reporter.GlobalParams;\r\nimport tabesto.testing.utils.HelpersMethod;\r\n\r\nimport java.io.File;\r\nimport java.text.DateFormat;\r\nimport java.text.SimpleDateFormat;\r\nimport java.time.Duration;\r\nimport java.util.Date;\r\n\r\npublic class AppiumServer {\r\n\r\n    private static final ThreadLocal&lt;AppiumDriverLocalService&gt; server = new ThreadLocal&lt;&gt;();\r\n    HelpersMethod utils = new HelpersMethod();\r\n\r\n    public static AppiumDriverLocalService getServer(){\r\n        return server.get();\r\n    }\r\n    public static void setServer(AppiumDriverLocalService server2) {\r\n        server.set(server2);\r\n    }\r\n    public void startServer(){\r\n        AppiumDriverLocalService server = WindowsGetAppiumService();\r\n        server.start();\r\n\r\n        if(server == null || !server.isRunning()){\r\n            utils.log().fatal(&quot;Appium server not started. ABORT!!!&quot;);\r\n            throw new AppiumServerHasNotBeenStartedLocallyException(&quot;Appium server not started. ABORT!!!&quot;);\r\n        }\r\n        AppiumServer.setServer(server);\r\n        utils.log().info(&quot;Appium server started&quot;);\r\n\r\n    }\r\n\r\n    private String getDateTime() {\r\n        DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd-HH-mm-ss&quot;);\r\n        Date date = new Date();\r\n        return dateFormat.format(date);\r\n    }\r\n\r\n\r\n    public AppiumDriverLocalService WindowsGetAppiumService() {\r\n        GlobalParams params = new GlobalParams();\r\n\r\n        return AppiumDriverLocalService.buildService(new AppiumServiceBuilder()\r\n                .usingAnyFreePort()\r\n                .withArgument(GeneralServerFlag.SESSION_OVERRIDE)\r\n                        .withTimeout(Duration.ofSeconds(120))\r\n                .withLogFile(new File(params.getPlatformName() + &quot;_&quot;\r\n                        + params.getDeviceName() + File.separator + getDateTime()+&quot;.log&quot;)));\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nTestnG XML:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n&lt;suite name=&quot;Suite&quot; parallel=&quot;tests&quot;&gt;\r\n    &lt;listeners&gt;\r\n        &lt;listener class-name=&quot;test.testing.integration.reporter.InfluxDBListener&quot; /&gt;\r\n    &lt;/listeners&gt;\r\n    &lt;test name=&quot;GalaxyTabA&quot;&gt;\r\n        &lt;parameter name=&quot;platformName&quot; value=&quot;Android&quot; /&gt;\r\n        &lt;parameter name=&quot;udid&quot; value=&quot;R52N102P7GJ&quot; /&gt;\r\n        &lt;parameter name=&quot;deviceName&quot; value=&quot;Galaxy Tab A&quot; /&gt;\r\n        &lt;parameter name=&quot;systemPort&quot; value=&quot;10000&quot; /&gt;\r\n        &lt;parameter name=&quot;chromeDriverPort&quot; value=&quot;11000&quot; /&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;com.runners.MyPixel2XLTestNGRunnerTest&quot;/&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n    &lt;test name=&quot;GalaxyTab&quot;&gt;\r\n        &lt;parameter name=&quot;platformName&quot; value=&quot;Android&quot; /&gt;\r\n        &lt;parameter name=&quot;udid&quot; value=&quot;R9WM91REZCJ&quot; /&gt;\r\n        &lt;parameter name=&quot;deviceName&quot; value=&quot;Galaxy Tab&quot; /&gt;\r\n        &lt;parameter name=&quot;systemPort&quot; value=&quot;10002&quot; /&gt;\r\n        &lt;parameter name=&quot;chromeDriverPort&quot; value=&quot;11002&quot; /&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;com.runners.MyPixel4XLTestNGRunnerTest&quot;/&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n&lt;/suite&gt;\r\n```\r\n\r\n\r\nRun parallel test and i expected that if one thread is teardown, the other thread must continue to run.\r\n\r\nThanks in advance.\r\n","title":"Run Parallel test with Appium Testng cucumber gradle don&#39;t work properly","body":"<p>I have a framework of mobile test automation and i made many changes to allow my code to support parallel execution but i encounter a problem which is the following: When the first thread terminates, his tearDown stop the other running thread, for infomation i have two appium server and driver instances that are running.\nCucumber runner is:</p>\n<pre><code>package com.runners;\nimport io.cucumber.testng.*;\nimport org.apache.logging.log4j.ThreadContext;\nimport org.testng.annotations.*;\nimport tabesto.testing.drivers.DriverManagerMobile.AndroidDeviceA;\nimport tabesto.testing.drivers.DriverManagerMobile.AppiumServer;\nimport tabesto.testing.integration.reporter.GlobalParams;\n\nimport java.io.File;\nimport java.time.Duration;\n\n\npublic class RunnerBase {\n\n    private static final ThreadLocal&lt;TestNGCucumberRunner&gt; testNGCucumberRunner = new ThreadLocal&lt;&gt;();\n\n    public static TestNGCucumberRunner getRunner(){\n        return testNGCucumberRunner.get();\n    }\n\n    private static void setRunner(TestNGCucumberRunner testNGCucumberRunner1){\n        testNGCucumberRunner.set(testNGCucumberRunner1);\n    }\n\n    @Parameters({&quot;platformName&quot;, &quot;udid&quot;, &quot;deviceName&quot;, &quot;systemPort&quot;,\n            &quot;chromeDriverPort&quot;})\n    @BeforeClass(alwaysRun = true)\n     public void setUpClass(String platformName, String udid, String deviceName, @Optional(&quot;Android&quot;) String systemPort,\n                           @Optional(&quot;Android&quot;) String chromeDriverPort) throws Exception {\n        GlobalParams params = new GlobalParams();\n        String strFile = &quot;logs&quot; + File.separator + &quot;Android&quot;;\n        File logFile = new File(strFile);\n        if (!logFile.exists()) {\n            logFile.mkdirs();\n        }\n        ThreadContext.put(&quot;ROUTINGKEY&quot;, strFile);\n        params.setPlatformName(platformName);\n        params.setUDID(udid);\n        params.setDeviceName(deviceName);\n        params.setSystemPort(systemPort);\n        params.setChromeDriverPort(chromeDriverPort);\n        new AppiumServer().startServer();\n        new AndroidDeviceA().initializeDriver();\n        AndroidDeviceA.getDriver().manage().timeouts().implicitlyWait(Duration.ofSeconds(4));\n        setRunner(new TestNGCucumberRunner(this.getClass()));\n\n    }\n\n\n    @Test(groups = &quot;cucumber&quot;, description = &quot;Runs Cucumber Scenarios&quot;, dataProvider = &quot;scenarios&quot;)\n    public void scenario(PickleWrapper pickle, FeatureWrapper cucumberFeature) throws Throwable {\n        getRunner().runScenario(pickle.getPickle());\n    }\n\n    @DataProvider\n    public Object[][] scenarios() {\n        return getRunner().provideScenarios();\n    }\n\n    @AfterClass(alwaysRun = true)\n    public void tearDownClass(){\n        AndroidDeviceA driverManager = new AndroidDeviceA();\n        if(driverManager.getDriver() != null){\n            driverManager.getDriver().quit();\n            driverManager.setDriver(null);\n        }\n        AppiumServer serverManager = new AppiumServer();\n        if(serverManager.getServer() != null){\n            serverManager.getServer().stop();\n        }\n        if(testNGCucumberRunner != null){\n            getRunner().finish();\n        }\n\n\n  }\n}\n</code></pre>\n<p>AndroidDriver code:</p>\n<pre><code>package tabesto.testing.drivers.DriverManagerMobile;\n\nimport io.appium.java_client.AppiumDriver;\nimport io.appium.java_client.android.AndroidDriver;\nimport tabesto.testing.config.Settings;\nimport tabesto.testing.utils.HelpersMethod;\n\n\nimport java.io.IOException;\n\npublic class AndroidDeviceA {\n\n    private static final ThreadLocal&lt;AndroidDriver&gt; driver = new ThreadLocal&lt;&gt;();\n    HelpersMethod utils = new HelpersMethod();\n\n\n    public static AndroidDriver getDriver() {\n        return driver.get();\n    }\n\n\n    public static void setDriver(AndroidDriver driver2) {\n        driver.set(driver2);\n    }\n\n    public void initializeDriver() throws Exception {\n        AndroidDriver driver = null;\n\n            try {\n                utils.log().info(&quot;initializing Appium driver&quot;);\n                if (Boolean.getBoolean(Settings.getInstance().getModeDebug())){\n                    new AppiumServer();\n                    driver = new AndroidDriver(AppiumServer.getServer().getUrl(), new UiAutomatorOptions().getUiAutomatorOptionsMobile());\n                }else\n                {\n                    driver = new AndroidDriver(new UiAutomatorOptions().getUiAutomatorOptionsMobile());\n                }\n                if (driver == null) {\n                    throw new Exception(&quot;driver is null. ABORT!!!&quot;);\n                }\n                utils.log().info(&quot;Driver is initialized&quot;);\n                AndroidDeviceA.setDriver(driver);\n\n            } catch (IOException e) {\n                e.printStackTrace();\n                utils.log().fatal(&quot;Driver initialization failure. ABORT !!!!&quot; + e.toString());\n                throw e;\n            }\n\n\n    }\n}\n</code></pre>\n<p>Appium Server code:</p>\n<pre><code>package tabesto.testing.drivers.DriverManagerMobile;\n\nimport io.appium.java_client.AppiumDriver;\nimport io.appium.java_client.service.local.AppiumDriverLocalService;\nimport io.appium.java_client.service.local.AppiumServerHasNotBeenStartedLocallyException;\nimport io.appium.java_client.service.local.AppiumServiceBuilder;\nimport io.appium.java_client.service.local.flags.GeneralServerFlag;\nimport tabesto.testing.integration.reporter.GlobalParams;\nimport tabesto.testing.utils.HelpersMethod;\n\nimport java.io.File;\nimport java.text.DateFormat;\nimport java.text.SimpleDateFormat;\nimport java.time.Duration;\nimport java.util.Date;\n\npublic class AppiumServer {\n\n    private static final ThreadLocal&lt;AppiumDriverLocalService&gt; server = new ThreadLocal&lt;&gt;();\n    HelpersMethod utils = new HelpersMethod();\n\n    public static AppiumDriverLocalService getServer(){\n        return server.get();\n    }\n    public static void setServer(AppiumDriverLocalService server2) {\n        server.set(server2);\n    }\n    public void startServer(){\n        AppiumDriverLocalService server = WindowsGetAppiumService();\n        server.start();\n\n        if(server == null || !server.isRunning()){\n            utils.log().fatal(&quot;Appium server not started. ABORT!!!&quot;);\n            throw new AppiumServerHasNotBeenStartedLocallyException(&quot;Appium server not started. ABORT!!!&quot;);\n        }\n        AppiumServer.setServer(server);\n        utils.log().info(&quot;Appium server started&quot;);\n\n    }\n\n    private String getDateTime() {\n        DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd-HH-mm-ss&quot;);\n        Date date = new Date();\n        return dateFormat.format(date);\n    }\n\n\n    public AppiumDriverLocalService WindowsGetAppiumService() {\n        GlobalParams params = new GlobalParams();\n\n        return AppiumDriverLocalService.buildService(new AppiumServiceBuilder()\n                .usingAnyFreePort()\n                .withArgument(GeneralServerFlag.SESSION_OVERRIDE)\n                        .withTimeout(Duration.ofSeconds(120))\n                .withLogFile(new File(params.getPlatformName() + &quot;_&quot;\n                        + params.getDeviceName() + File.separator + getDateTime()+&quot;.log&quot;)));\n    }\n}\n</code></pre>\n<p>TestnG XML:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;Suite&quot; parallel=&quot;tests&quot;&gt;\n    &lt;listeners&gt;\n        &lt;listener class-name=&quot;test.testing.integration.reporter.InfluxDBListener&quot; /&gt;\n    &lt;/listeners&gt;\n    &lt;test name=&quot;GalaxyTabA&quot;&gt;\n        &lt;parameter name=&quot;platformName&quot; value=&quot;Android&quot; /&gt;\n        &lt;parameter name=&quot;udid&quot; value=&quot;R52N102P7GJ&quot; /&gt;\n        &lt;parameter name=&quot;deviceName&quot; value=&quot;Galaxy Tab A&quot; /&gt;\n        &lt;parameter name=&quot;systemPort&quot; value=&quot;10000&quot; /&gt;\n        &lt;parameter name=&quot;chromeDriverPort&quot; value=&quot;11000&quot; /&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;com.runners.MyPixel2XLTestNGRunnerTest&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n    &lt;test name=&quot;GalaxyTab&quot;&gt;\n        &lt;parameter name=&quot;platformName&quot; value=&quot;Android&quot; /&gt;\n        &lt;parameter name=&quot;udid&quot; value=&quot;R9WM91REZCJ&quot; /&gt;\n        &lt;parameter name=&quot;deviceName&quot; value=&quot;Galaxy Tab&quot; /&gt;\n        &lt;parameter name=&quot;systemPort&quot; value=&quot;10002&quot; /&gt;\n        &lt;parameter name=&quot;chromeDriverPort&quot; value=&quot;11002&quot; /&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;com.runners.MyPixel4XLTestNGRunnerTest&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>Run parallel test and i expected that if one thread is teardown, the other thread must continue to run.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","gradle-kotlin-dsl"],"comments":[{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1678165234,"post_id":75650768,"comment_id":133476004,"body_markdown":"What does &quot;miserable fails&quot; look like? What error do you get? What have you done to try and fix it?","body":"What does &quot;miserable fails&quot; look like? What error do you get? What have you done to try and fix it?"}],"answers":[{"comments":[{"owner":{"account_id":27947363,"reputation":23,"user_id":21342044,"display_name":"Acacio Afonso"},"score":0,"creation_date":1678227084,"post_id":75663563,"comment_id":133491880,"body_markdown":"That didn&#39;t work too","body":"That didn&#39;t work too"},{"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"score":0,"creation_date":1678241762,"post_id":75663563,"comment_id":133494055,"body_markdown":"Are you getting some error when you run the `readImageVersion` task?","body":"Are you getting some error when you run the <code>readImageVersion</code> task?"},{"owner":{"account_id":27947363,"reputation":23,"user_id":21342044,"display_name":"Acacio Afonso"},"score":0,"creation_date":1678277426,"post_id":75663563,"comment_id":133500546,"body_markdown":"This is my script on Jenkinsfile to get this file:\n\n            steps {\n                script {\n                    def props = readProperties file: &#39;image.version&#39;\n                    def version = props[&#39;Version&#39;]\n                    echo &#39;Building docker image...&#39;\n                    echo &quot;Version: ${version}&quot;\n                }\n            }\n\nAnd it shows that file image.version does not exist","body":"This is my script on Jenkinsfile to get this file:              steps {                 script {                     def props = readProperties file: &#39;image.version&#39;                     def version = props[&#39;Version&#39;]                     echo &#39;Building docker image...&#39;                     echo &quot;Version: ${version}&quot;                 }             }  And it shows that file image.version does not exist"},{"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"score":0,"creation_date":1678298754,"post_id":75663563,"comment_id":133507204,"body_markdown":"The snippet I posted is the kts equivalent of what you had asked in the question. Jenkins not finding the file is probably due to some unrelated reason as you seem to have done multiple changes(Java 8 -&gt; 17, build.gradle -&gt; kts).  Were gradle version and Jenkinsfile contents also changed as part of this? If you share the complete contents of original build.gradle, new build.gradle.kts, Jenkinsfile and gradle version(s) used, I might be able to help - can&#39;t be sure","body":"The snippet I posted is the kts equivalent of what you had asked in the question. Jenkins not finding the file is probably due to some unrelated reason as you seem to have done multiple changes(Java 8 -&gt; 17, build.gradle -&gt; kts).  Were gradle version and Jenkinsfile contents also changed as part of this? If you share the complete contents of original build.gradle, new build.gradle.kts, Jenkinsfile and gradle version(s) used, I might be able to help - can&#39;t be sure"},{"owner":{"account_id":27947363,"reputation":23,"user_id":21342044,"display_name":"Acacio Afonso"},"score":0,"creation_date":1680178645,"post_id":75663563,"comment_id":133856042,"body_markdown":"I improve the question, if you, please, could look this\nhttps://stackoverflow.com/questions/75888151/build-gradle-kts-task-to-return-string","body":"I improve the question, if you, please, could look this <a href=\"https://stackoverflow.com/questions/75888151/build-gradle-kts-task-to-return-string\" title=\"build gradle kts task to return string\">stackoverflow.com/questions/75888151/&hellip;</a>"}],"tags":[],"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678200829,"creation_date":1678200829,"answer_id":75663563,"question_id":75650768,"body_markdown":"The `build.gradle.kts` equivalent of the `build.gradle` snippet in the question would be something like below:\r\n\r\n```kotlin\r\nextra.apply {\r\n    set(&quot;buildVersion&quot;, &quot;1.0.0&quot;)\r\n}\r\n\r\ntasks.register(&quot;readImageVersion&quot;) {\r\n     doLast {\r\n         file(&quot;image.version&quot;).appendText(&quot;&quot;&quot;Version=${project.property(&quot;buildVersion&quot;)}&quot;&quot;&quot;)\r\n     }\r\n}","title":"Create new File on build.gradle.kts","body":"<p>The <code>build.gradle.kts</code> equivalent of the <code>build.gradle</code> snippet in the question would be something like below:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>extra.apply {\n    set(&quot;buildVersion&quot;, &quot;1.0.0&quot;)\n}\n\ntasks.register(&quot;readImageVersion&quot;) {\n     doLast {\n         file(&quot;image.version&quot;).appendText(&quot;&quot;&quot;Version=${project.property(&quot;buildVersion&quot;)}&quot;&quot;&quot;)\n     }\n}\n</code></pre>\n"}],"owner":{"account_id":27947363,"reputation":23,"user_id":21342044,"display_name":"Acacio Afonso"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":634,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75663563,"answer_count":1,"score":2,"last_activity_date":1678200829,"creation_date":1678105220,"question_id":75650768,"body_markdown":"I have a project that use Jenkinsfile to do some tasks, one of them is generate build version of project with the version on .jar file name.\r\n\r\nUsing Java 8 and build.gradle i was doing like this\r\n\r\n- Build.gradle\r\n\r\n      ext {\r\n          buildVersion = &#39;1.0.0&#39;\r\n      }\r\n\r\n      task readImageVersion() {\r\n           doLast {\r\n               new File(&quot;image.version&quot;).text = &quot;Version=${buildVersion}&quot;\r\n           }\r\n      }\r\n\r\n- Read this file to get version on Jenkinsfile\r\n\r\n      script {\r\n           def props = readProperties file: &#39;image.version&#39;\r\n           def version = props[&#39;Version&#39;]\r\n      }\r\n\r\nNow i&#39;m using Java 17 and build.gradle.kts and i can&#39;t find a way to do something like this.\r\nCan someone help?\r\n\r\nI thy to do something like this, but miserable fails\r\n\r\n    task(&quot;readImageVersion&quot;) {\r\n\t     File.createTempFile(version as String, &quot;.txt&quot;)\r\n    }","title":"Create new File on build.gradle.kts","body":"<p>I have a project that use Jenkinsfile to do some tasks, one of them is generate build version of project with the version on .jar file name.</p>\n<p>Using Java 8 and build.gradle i was doing like this</p>\n<ul>\n<li><p>Build.gradle</p>\n<pre><code>ext {\n    buildVersion = '1.0.0'\n}\n\ntask readImageVersion() {\n     doLast {\n         new File(&quot;image.version&quot;).text = &quot;Version=${buildVersion}&quot;\n     }\n}\n</code></pre>\n</li>\n<li><p>Read this file to get version on Jenkinsfile</p>\n<pre><code>script {\n     def props = readProperties file: 'image.version'\n     def version = props['Version']\n}\n</code></pre>\n</li>\n</ul>\n<p>Now i'm using Java 17 and build.gradle.kts and i can't find a way to do something like this.\nCan someone help?</p>\n<p>I thy to do something like this, but miserable fails</p>\n<pre><code>task(&quot;readImageVersion&quot;) {\n     File.createTempFile(version as String, &quot;.txt&quot;)\n}\n</code></pre>\n"},{"tags":["java","javafx"],"answers":[{"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1678137444,"post_id":75654469,"comment_id":133472117,"body_markdown":"@stach and James. There appear to be two bugs in the code. One by the OP. `line.setEndY(e.getX());`. The other bug I can&#39;t lock down only happens on the first drag. The line extends to the left top corner if you try to drag from the `Circle` to the `Rectangle`. After reading the docs, It&#39;s my understanding that all dragging gestures should start with `OnMousePressed` and end with `OnMouseReleased`, and it is within these methods that `setMouseTransparent(...)` should be called.","body":"@stach and James. There appear to be two bugs in the code. One by the OP. <code>line.setEndY(e.getX());</code>. The other bug I can&#39;t lock down only happens on the first drag. The line extends to the left top corner if you try to drag from the <code>Circle</code> to the <code>Rectangle</code>. After reading the docs, It&#39;s my understanding that all dragging gestures should start with <code>OnMousePressed</code> and end with <code>OnMouseReleased</code>, and it is within these methods that <code>setMouseTransparent(...)</code> should be called."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1678138423,"post_id":75654469,"comment_id":133472306,"body_markdown":"Moving only the `Line` code from `setOnDragDetected` to `setOnMousePressed` appears to eliminate the second bug.","body":"Moving only the <code>Line</code> code from <code>setOnDragDetected</code> to <code>setOnMousePressed</code> appears to eliminate the second bug."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1678199902,"post_id":75654469,"comment_id":133484394,"body_markdown":"@SedJ601 Thanks for spotting those. The second issue (the line extending to the top left of the screen) occurs because `dragDetected` events typically only happen after the mouse has been dragged a few pixels. The `onMouseDragged` event happens during simple mouse drag; it isn&#39;t limited to &quot;full press-drag-release gestures&quot; which are initiated by the call to `startFullDrag()`. Thus the `onMouseDragged()` is invoked *before* the `onDragDetected`. I think a better solution is to use `onMouseDragOver` (which is limited to full press-drag-release) instead of `onMouseDragged`. I will edit...","body":"@SedJ601 Thanks for spotting those. The second issue (the line extending to the top left of the screen) occurs because <code>dragDetected</code> events typically only happen after the mouse has been dragged a few pixels. The <code>onMouseDragged</code> event happens during simple mouse drag; it isn&#39;t limited to &quot;full press-drag-release gestures&quot; which are initiated by the call to <code>startFullDrag()</code>. Thus the <code>onMouseDragged()</code> is invoked <i>before</i> the <code>onDragDetected</code>. I think a better solution is to use <code>onMouseDragOver</code> (which is limited to full press-drag-release) instead of <code>onMouseDragged</code>. I will edit..."}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678200711,"creation_date":1678126943,"answer_id":75654469,"question_id":75654376,"body_markdown":"From the [documentation](https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/input/MouseDragEvent.html):\r\n\r\n&gt; When you drag a node, it&#39;s still under cursor, so it is considered being a potential gesture target during the whole gesture. If you need to drag a node to a different node and let the other node know about it, you need to ensure that the nodes under the dragged node are picked as the potential gesture targets. You can achieve this by calling setMouseTransparent(true) on the dragged node\r\n\r\nIn your case, the line is immediately under the mouse cursor (because you set the end coordinates of the line to the mouse coordinates during dragging), so the line receives the mouse drag released event.\r\n\r\nCall \r\n\r\n    line.setMouseTransparent(true);\r\n\r\nso that the node underneath can receive the event.\r\n\r\nIf you need the line to be able to receive mouse events at times other than the dragging, call\r\n\r\n    line.setMouseTransparent(true);\r\n\r\nin the `onDragDetected` handler, and \r\n\r\n    line.setMouseTransparent(false);\r\n\r\nin the `onMouseDragReleased` handler.\r\n\r\nNote also that `onDragDetected` is only called after the mouse has been dragged a few pixels. From the [documentation](https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/input/MouseEvent.html#DRAG_DETECTED)\r\n\r\n&gt; Note that his event is generated based on dragging the mouse over a platform-specific distance threshold.\r\n\r\nOn the other hand, `onMouseDragged` events are generated during simple mouse press-drag-release, so `onMouseDragged` is invoked *immediately* the mouse is dragged a single pixel. Consequently, during the beginning of the drag gesture, the `onMouseDragged` handler is invoked *before* the `onDragDetected` handler, causing the line&#39;s end coordinates to be set while its start coordinates are out of sync.\r\n\r\nOne solution to this is to use `onMouseDragOver` (which is only invoked during full mouse press-drag-release gestures, which are initiated by the call to `startFullDrag()`) in place of `onMouseDragged`. Since you want to detect drag over *anywhere*, add this handler to the scene, not to the individual nodes. Since it is only invoked during the full mouse press-drag-release gestures, it will only be invoked after dragging has started on a node. I implement this solution in the code below. \r\n\r\nAnother option is to force detection of a mouse drag gesture by calling `setDragDetect(true)` in the `onMouseDragged` handler.\r\n\r\nThere are also a couple of copy-paste errors in the original code which I have fixed below.\r\n\r\n(Credit to @SedJ601 for spotting a couple of these bugs.)\r\n\r\n    public class Example extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            Pane pane = new Pane();\r\n            Scene scene = new Scene(pane, 1000, 1000);\r\n            Circle circle = new Circle(400, 500, 50);\r\n            Rectangle rect = new Rectangle(200, 200, 20, 30);\r\n            Line line = new Line();\r\n            line.setStroke(Color.RED);\r\n            pane.getChildren().add(circle);\r\n            pane.getChildren().add(rect);\r\n            pane.getChildren().add(line);\r\n            Node[] nodes = {circle, rect};\r\n            scene.setOnMouseDragReleased(e -&gt; {\r\n                System.out.println(&quot;Scene: drag released&quot;);\r\n            });\r\n            for (Node node:nodes) {\r\n                node.setOnDragDetected(e -&gt; {\r\n                    System.out.println(&quot;drag started&quot;);\r\n                    line.setStartX(node.localToScene(node.getBoundsInLocal()).getCenterX());\r\n                    line.setStartY(node.localToScene(node.getBoundsInLocal()).getCenterY());\r\n                    line.setEndX(e.getX());\r\n\r\n                    // Copy-paste bug fixed in line below;\r\n                    line.setEndY(e.getY());\r\n\r\n                    line.setMouseTransparent(true);\r\n                    node.startFullDrag();\r\n                });\r\n\r\n\r\n                node.setOnMouseDragReleased(e -&gt; {\r\n                    System.out.println(&quot;Node: drag released&quot;);\r\n                    line.setEndX((node.localToScene(node.getBoundsInLocal()).getCenterX()));\r\n                    // Note you had a copy-and-paste error in the next line, which I have fixed:\r\n                    line.setEndY((node.localToScene(node.getBoundsInLocal()).getCenterY()));\r\n                    line.setMouseTransparent(false);\r\n                });\r\n\r\n            }\r\n\r\n            // onMouseDragged replaced by onMouseDragOver:\r\n            scene.setOnMouseDragOver(e -&gt; {\r\n                line.setEndX(e.getX());\r\n                line.setEndY(e.getY());\r\n            });\r\n   \r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    }","title":"MouseDragRelease is not called on Node","body":"<p>From the <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/input/MouseDragEvent.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>When you drag a node, it's still under cursor, so it is considered being a potential gesture target during the whole gesture. If you need to drag a node to a different node and let the other node know about it, you need to ensure that the nodes under the dragged node are picked as the potential gesture targets. You can achieve this by calling setMouseTransparent(true) on the dragged node</p>\n</blockquote>\n<p>In your case, the line is immediately under the mouse cursor (because you set the end coordinates of the line to the mouse coordinates during dragging), so the line receives the mouse drag released event.</p>\n<p>Call</p>\n<pre><code>line.setMouseTransparent(true);\n</code></pre>\n<p>so that the node underneath can receive the event.</p>\n<p>If you need the line to be able to receive mouse events at times other than the dragging, call</p>\n<pre><code>line.setMouseTransparent(true);\n</code></pre>\n<p>in the <code>onDragDetected</code> handler, and</p>\n<pre><code>line.setMouseTransparent(false);\n</code></pre>\n<p>in the <code>onMouseDragReleased</code> handler.</p>\n<p>Note also that <code>onDragDetected</code> is only called after the mouse has been dragged a few pixels. From the <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/input/MouseEvent.html#DRAG_DETECTED\" rel=\"nofollow noreferrer\">documentation</a></p>\n<blockquote>\n<p>Note that his event is generated based on dragging the mouse over a platform-specific distance threshold.</p>\n</blockquote>\n<p>On the other hand, <code>onMouseDragged</code> events are generated during simple mouse press-drag-release, so <code>onMouseDragged</code> is invoked <em>immediately</em> the mouse is dragged a single pixel. Consequently, during the beginning of the drag gesture, the <code>onMouseDragged</code> handler is invoked <em>before</em> the <code>onDragDetected</code> handler, causing the line's end coordinates to be set while its start coordinates are out of sync.</p>\n<p>One solution to this is to use <code>onMouseDragOver</code> (which is only invoked during full mouse press-drag-release gestures, which are initiated by the call to <code>startFullDrag()</code>) in place of <code>onMouseDragged</code>. Since you want to detect drag over <em>anywhere</em>, add this handler to the scene, not to the individual nodes. Since it is only invoked during the full mouse press-drag-release gestures, it will only be invoked after dragging has started on a node. I implement this solution in the code below.</p>\n<p>Another option is to force detection of a mouse drag gesture by calling <code>setDragDetect(true)</code> in the <code>onMouseDragged</code> handler.</p>\n<p>There are also a couple of copy-paste errors in the original code which I have fixed below.</p>\n<p>(Credit to @SedJ601 for spotting a couple of these bugs.)</p>\n<pre><code>public class Example extends Application {\n    @Override\n    public void start(Stage stage) throws Exception {\n        Pane pane = new Pane();\n        Scene scene = new Scene(pane, 1000, 1000);\n        Circle circle = new Circle(400, 500, 50);\n        Rectangle rect = new Rectangle(200, 200, 20, 30);\n        Line line = new Line();\n        line.setStroke(Color.RED);\n        pane.getChildren().add(circle);\n        pane.getChildren().add(rect);\n        pane.getChildren().add(line);\n        Node[] nodes = {circle, rect};\n        scene.setOnMouseDragReleased(e -&gt; {\n            System.out.println(&quot;Scene: drag released&quot;);\n        });\n        for (Node node:nodes) {\n            node.setOnDragDetected(e -&gt; {\n                System.out.println(&quot;drag started&quot;);\n                line.setStartX(node.localToScene(node.getBoundsInLocal()).getCenterX());\n                line.setStartY(node.localToScene(node.getBoundsInLocal()).getCenterY());\n                line.setEndX(e.getX());\n\n                // Copy-paste bug fixed in line below;\n                line.setEndY(e.getY());\n\n                line.setMouseTransparent(true);\n                node.startFullDrag();\n            });\n\n\n            node.setOnMouseDragReleased(e -&gt; {\n                System.out.println(&quot;Node: drag released&quot;);\n                line.setEndX((node.localToScene(node.getBoundsInLocal()).getCenterX()));\n                // Note you had a copy-and-paste error in the next line, which I have fixed:\n                line.setEndY((node.localToScene(node.getBoundsInLocal()).getCenterY()));\n                line.setMouseTransparent(false);\n            });\n\n        }\n\n        // onMouseDragged replaced by onMouseDragOver:\n        scene.setOnMouseDragOver(e -&gt; {\n            line.setEndX(e.getX());\n            line.setEndY(e.getY());\n        });\n\n        stage.setScene(scene);\n        stage.show();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27950127,"reputation":23,"user_id":21344205,"display_name":"Stach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75654469,"answer_count":1,"score":2,"last_activity_date":1678200711,"creation_date":1678126286,"question_id":75654376,"body_markdown":"```\r\npublic class Example extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        Pane pane = new Pane();\r\n        Scene scene = new Scene(pane, 1000, 1000);\r\n        Circle circle = new Circle(400, 500, 50);\r\n        Rectangle rect = new Rectangle(200, 200, 20, 30);\r\n        Line line = new Line();\r\n        line.setStroke(Color.RED);\r\n        pane.getChildren().add(circle);\r\n        pane.getChildren().add(rect);\r\n        pane.getChildren().add(line);\r\n        Node[] nodes = {circle, rect};\r\n        scene.setOnMouseDragReleased(e -&gt; {\r\n            System.out.println(&quot;Scene: drag released&quot;);\r\n        });\r\n        for (Node node:nodes) {\r\n            node.setOnDragDetected(e -&gt; {\r\n                System.out.println(&quot;drag started&quot;);\r\n                line.setStartX(node.localToScene(node.getBoundsInLocal()).getCenterX());\r\n                line.setStartY(node.localToScene(node.getBoundsInLocal()).getCenterY());\r\n                line.setEndX(e.getX());\r\n                line.setEndY(e.getX());\r\n                node.startFullDrag();\r\n            });\r\n            node.setOnMouseDragged(e -&gt; {\r\n                line.setEndX(e.getX());\r\n                line.setEndY(e.getY());\r\n            });\r\n            node.setOnMouseDragReleased(e -&gt; {\r\n                System.out.println(&quot;Node: drag released&quot;);\r\n                line.setEndX((node.localToScene(node.getBoundsInLocal()).getCenterX()));\r\n                line.setEndY((node.localToScene(node.getBoundsInLocal()).getCenterX()));\r\n            });\r\n\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nFor some reason, drag release is called only for scene, but not for node. When line update in onMouseDragged for node is commented out, end of line doesn&#39;t follow the cursor, but onMouseDragRelease is called for both scene and node.\r\nI want to have smooth line drawing, but also preserve onMouseDragRelease particulary for the node.","title":"MouseDragRelease is not called on Node","body":"<pre><code>public class Example extends Application {\n    @Override\n    public void start(Stage stage) throws Exception {\n        Pane pane = new Pane();\n        Scene scene = new Scene(pane, 1000, 1000);\n        Circle circle = new Circle(400, 500, 50);\n        Rectangle rect = new Rectangle(200, 200, 20, 30);\n        Line line = new Line();\n        line.setStroke(Color.RED);\n        pane.getChildren().add(circle);\n        pane.getChildren().add(rect);\n        pane.getChildren().add(line);\n        Node[] nodes = {circle, rect};\n        scene.setOnMouseDragReleased(e -&gt; {\n            System.out.println(&quot;Scene: drag released&quot;);\n        });\n        for (Node node:nodes) {\n            node.setOnDragDetected(e -&gt; {\n                System.out.println(&quot;drag started&quot;);\n                line.setStartX(node.localToScene(node.getBoundsInLocal()).getCenterX());\n                line.setStartY(node.localToScene(node.getBoundsInLocal()).getCenterY());\n                line.setEndX(e.getX());\n                line.setEndY(e.getX());\n                node.startFullDrag();\n            });\n            node.setOnMouseDragged(e -&gt; {\n                line.setEndX(e.getX());\n                line.setEndY(e.getY());\n            });\n            node.setOnMouseDragReleased(e -&gt; {\n                System.out.println(&quot;Node: drag released&quot;);\n                line.setEndX((node.localToScene(node.getBoundsInLocal()).getCenterX()));\n                line.setEndY((node.localToScene(node.getBoundsInLocal()).getCenterX()));\n            });\n\n            stage.setScene(scene);\n            stage.show();\n        }\n    }\n}\n</code></pre>\n<p>For some reason, drag release is called only for scene, but not for node. When line update in onMouseDragged for node is commented out, end of line doesn't follow the cursor, but onMouseDragRelease is called for both scene and node.\nI want to have smooth line drawing, but also preserve onMouseDragRelease particulary for the node.</p>\n"},{"tags":["java","json","serialization","gson"],"comments":[{"owner":{"account_id":1781636,"reputation":7670,"user_id":1624202,"accept_rate":61,"display_name":"Cruncher"},"score":0,"creation_date":1382552232,"post_id":19549255,"comment_id":29007629,"body_markdown":"You can probably parse the JSON yourself to find the &quot;wantedName&quot; value.","body":"You can probably parse the JSON yourself to find the &quot;wantedName&quot; value."},{"owner":{"account_id":1082935,"reputation":907,"user_id":1079407,"accept_rate":74,"display_name":"Angelo"},"score":0,"creation_date":1382552282,"post_id":19549255,"comment_id":29007656,"body_markdown":"@Cruncher I was thinking about regex but I would like to avoid using it if possible.","body":"@Cruncher I was thinking about regex but I would like to avoid using it if possible."},{"owner":{"account_id":302118,"reputation":11940,"user_id":610305,"accept_rate":85,"display_name":"Amar"},"score":0,"creation_date":1382552391,"post_id":19549255,"comment_id":29007724,"body_markdown":"you may create a `ExclusionStrategy`,  see here : http://stackoverflow.com/questions/4802887/gson-how-to-exclude-specific-fields-from-serialization-without-annotations","body":"you may create a <code>ExclusionStrategy</code>,  see here : <a href=\"http://stackoverflow.com/questions/4802887/gson-how-to-exclude-specific-fields-from-serialization-without-annotations\" title=\"gson how to exclude specific fields from serialization without annotations\">stackoverflow.com/questions/4802887/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1790949,"reputation":77601,"user_id":1631379,"accept_rate":80,"display_name":"Maxim Shoustin"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1382552278,"creation_date":1382552278,"answer_id":19549386,"question_id":19549255,"body_markdown":"If you need one field only, use `JSONObject`.\r\n\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n\r\n\r\n    public class Main {\t\r\n\tpublic static void main(String[] args) throws JSONException  {\r\n\t\t\r\n\t\tString str = &quot;{&quot; + \r\n\t\t\t\t&quot;    \\&quot;result\\&quot;: {&quot; + \r\n\t\t\t\t&quot;        \\&quot;name1\\&quot;: \\&quot;value1\\&quot;,&quot; + \r\n\t\t\t\t&quot;        \\&quot;name2\\&quot;: \\&quot;value2\\&quot;,&quot; + \r\n\t\t\t\t&quot;    },&quot; + \r\n\t\t\t\t&quot;    \\&quot;wantedName\\&quot;: \\&quot;wantedValue\\&quot;&quot; + \r\n\t\t\t\t&quot;}&quot;;\r\n\t\t\r\n\t\tJSONObject jsonObject = new JSONObject(str);\r\n\t\t\r\n\t\tSystem.out.println(jsonObject.getString(&quot;wantedName&quot;));\r\n    }\r\n\r\nOutput:\r\n\r\n    wantedValue","title":"How to deserialize only some fields in JSON?","body":"<p>If you need one field only, use <code>JSONObject</code>.</p>\n\n<pre><code>import org.json.JSONException;\nimport org.json.JSONObject;\n\n\npublic class Main { \npublic static void main(String[] args) throws JSONException  {\n\n    String str = \"{\" + \n            \"    \\\"result\\\": {\" + \n            \"        \\\"name1\\\": \\\"value1\\\",\" + \n            \"        \\\"name2\\\": \\\"value2\\\",\" + \n            \"    },\" + \n            \"    \\\"wantedName\\\": \\\"wantedValue\\\"\" + \n            \"}\";\n\n    JSONObject jsonObject = new JSONObject(str);\n\n    System.out.println(jsonObject.getString(\"wantedName\"));\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>wantedValue\n</code></pre>\n"},{"tags":[],"owner":{"account_id":98380,"reputation":16210,"user_id":266337,"display_name":"Chris Lohfink"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382552497,"creation_date":1382552497,"answer_id":19549456,"question_id":19549255,"body_markdown":"Can use just a portion of gson, using it just to parse the json:\r\n\r\n    Reader reader = /* create reader from source */\r\n    Streams.parse(new JsonReader(reader)).getAsJsonObject().get(&quot;wantedValue&quot;).getAsString();","title":"How to deserialize only some fields in JSON?","body":"<p>Can use just a portion of gson, using it just to parse the json:</p>\n\n<pre><code>Reader reader = /* create reader from source */\nStreams.parse(new JsonReader(reader)).getAsJsonObject().get(\"wantedValue\").getAsString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1158046,"reputation":2465,"user_id":1138137,"accept_rate":67,"display_name":"Alper Akture"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1382578827,"creation_date":1382552777,"answer_id":19549549,"question_id":19549255,"body_markdown":"If you don&#39;t have to use Gson, I would use https://github.com/douglascrockford/JSON-java. You can easily extract single fields. I could not find a way to do something this simple using Gson. \r\n\r\nYou would just do \r\n    \r\n    String wantedName = new JSONObject(jsonString).getString(&quot;wantedName&quot;);","title":"How to deserialize only some fields in JSON?","body":"<p>If you don't have to use Gson, I would use <a href=\"https://github.com/douglascrockford/JSON-java\" rel=\"nofollow\">https://github.com/douglascrockford/JSON-java</a>. You can easily extract single fields. I could not find a way to do something this simple using Gson. </p>\n\n<p>You would just do </p>\n\n<pre><code>String wantedName = new JSONObject(jsonString).getString(\"wantedName\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17815140,"reputation":111,"user_id":12938887,"display_name":"Nico"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678200654,"creation_date":1678200654,"answer_id":75663519,"question_id":19549255,"body_markdown":"Here is a version which will work with gson version 2.10\r\n\r\n```\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.JsonObject;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n        String str = &quot;{&quot; +\r\n                &quot;    \\&quot;result\\&quot;: {&quot; +\r\n                &quot;        \\&quot;name1\\&quot;: \\&quot;value1\\&quot;,&quot; +\r\n                &quot;        \\&quot;name2\\&quot;: \\&quot;value2\\&quot;&quot; +\r\n                &quot;    },&quot; +\r\n                &quot;    \\&quot;wantedName\\&quot;: \\&quot;wantedValue\\&quot;&quot; +\r\n                &quot;}&quot;;\r\n\r\n        Gson gson = new Gson();\r\n        JsonObject jsonObject = gson.fromJson(str, JsonObject.class);\r\n\r\n        System.out.println(jsonObject.get(&quot;wantedName&quot;).getAsString());\r\n    }\r\n}\r\n```\r\n","title":"How to deserialize only some fields in JSON?","body":"<p>Here is a version which will work with gson version 2.10</p>\n<pre><code>import com.google.gson.Gson;\nimport com.google.gson.JsonObject;\n\npublic class Main {\n    public static void main(String[] args) {\n\n        String str = &quot;{&quot; +\n                &quot;    \\&quot;result\\&quot;: {&quot; +\n                &quot;        \\&quot;name1\\&quot;: \\&quot;value1\\&quot;,&quot; +\n                &quot;        \\&quot;name2\\&quot;: \\&quot;value2\\&quot;&quot; +\n                &quot;    },&quot; +\n                &quot;    \\&quot;wantedName\\&quot;: \\&quot;wantedValue\\&quot;&quot; +\n                &quot;}&quot;;\n\n        Gson gson = new Gson();\n        JsonObject jsonObject = gson.fromJson(str, JsonObject.class);\n\n        System.out.println(jsonObject.get(&quot;wantedName&quot;).getAsString());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1082935,"reputation":907,"user_id":1079407,"accept_rate":74,"display_name":"Angelo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3128,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":19549386,"answer_count":4,"score":4,"last_activity_date":1678200654,"creation_date":1382551830,"question_id":19549255,"body_markdown":"I&#39;m using Gson to extraxt some fields. By the way I don&#39;t want to create a class due to the fact that I need only one value in all JSON response. Here&#39;s my response:\r\n\r\n    {\r\n        &quot;result&quot;: {\r\n            &quot;name1&quot;: &quot;value1&quot;,\r\n            &quot;name2&quot;: &quot;value2&quot;,\r\n        },\r\n        &quot;wantedName&quot;: &quot;wantedValue&quot;\r\n    }\r\n\r\nI need `wantedValue` but I don&#39;t want to create the entire class for deserialization. Is it possible to achieve this using Gson? ","title":"How to deserialize only some fields in JSON?","body":"<p>I'm using Gson to extraxt some fields. By the way I don't want to create a class due to the fact that I need only one value in all JSON response. Here's my response:</p>\n\n<pre><code>{\n    \"result\": {\n        \"name1\": \"value1\",\n        \"name2\": \"value2\",\n    },\n    \"wantedName\": \"wantedValue\"\n}\n</code></pre>\n\n<p>I need <code>wantedValue</code> but I don't want to create the entire class for deserialization. Is it possible to achieve this using Gson? </p>\n"},{"tags":["java","environment-variables","java-home"],"comments":[{"owner":{"account_id":308785,"reputation":7639,"user_id":620858,"accept_rate":100,"display_name":"Sergey Vedernikov"},"score":5,"creation_date":1298535715,"post_id":5102022,"comment_id":13902911,"body_markdown":"you can read [here](http://stackoverflow.com/questions/2025290/what-is-java-home-how-does-jvm-will-find-the-javac-path-stored-in-java-home)","body":"you can read <a href=\"http://stackoverflow.com/questions/2025290/what-is-java-home-how-does-jvm-will-find-the-javac-path-stored-in-java-home\">here</a>"},{"owner":{"account_id":3506652,"reputation":9764,"user_id":2932052,"accept_rate":73,"display_name":"Wolf"},"score":3,"creation_date":1469859506,"post_id":5102022,"comment_id":64722487,"body_markdown":"I find the question has not an answer yet. As to execute java itself, it&#39;s not necessary to have this variable if you have the folder with the binary in the path. All answers point out the obvious: &quot;Where java was installed&quot;. But Why: what is the meaning to running java applications?","body":"I find the question has not an answer yet. As to execute java itself, it&#39;s not necessary to have this variable if you have the folder with the binary in the path. All answers point out the obvious: &quot;Where java was installed&quot;. But Why: what is the meaning to running java applications?"},{"owner":{"account_id":96769,"reputation":8248,"user_id":262852,"accept_rate":65,"display_name":"Thufir"},"score":7,"creation_date":1493072363,"post_id":5102022,"comment_id":74247444,"body_markdown":"despite all these comments and answers, I see no actual **reason** to set this environment variable.  No rationale.  I came here from trying to set this with wsdl2java.  If I wasn&#39;t using this tool, no need for the env variable....seemingly it&#39;s just that some tools use this var.  but why?","body":"despite all these comments and answers, I see no actual <b>reason</b> to set this environment variable.  No rationale.  I came here from trying to set this with wsdl2java.  If I wasn&#39;t using this tool, no need for the env variable....seemingly it&#39;s just that some tools use this var.  but why?"},{"owner":{"account_id":2039249,"reputation":578,"user_id":2191900,"display_name":"Rohan"},"score":0,"creation_date":1531360935,"post_id":5102022,"comment_id":89570103,"body_markdown":"@Thufir - I have not seen the **reason** stated anywhere explicitly, however.\n- JAVA_HOME is just convention. It doesn&#39;t have any special meaning other than everyone agreed to use it AFAIK\n- The only use I see is it gives tools the ability to differentiate between the JRE which is normally set in the PATH variable and the JDK. Normally the JAVE_HOME is set to the JDK.\n- It&#39;s explicit. There is no dealing with the order of directories like you have with PATH where there could be multiple places to find java exe.","body":"@Thufir - I have not seen the <b>reason</b> stated anywhere explicitly, however. - JAVA_HOME is just convention. It doesn&#39;t have any special meaning other than everyone agreed to use it AFAIK - The only use I see is it gives tools the ability to differentiate between the JRE which is normally set in the PATH variable and the JDK. Normally the JAVE_HOME is set to the JDK. - It&#39;s explicit. There is no dealing with the order of directories like you have with PATH where there could be multiple places to find java exe."}],"answers":[{"comments":[{"owner":{"account_id":2047743,"reputation":7324,"user_id":1827457,"accept_rate":80,"display_name":"LtWorf"},"score":10,"creation_date":1417431468,"post_id":5102050,"comment_id":42931209,"body_markdown":"But it is stupid, because java should be in the path, and the binary can locate itself and open the other files using a relative path.","body":"But it is stupid, because java should be in the path, and the binary can locate itself and open the other files using a relative path."},{"owner":{"account_id":17751,"reputation":1741,"user_id":40066,"accept_rate":50,"display_name":"Haakon"},"score":9,"creation_date":1417446845,"post_id":5102050,"comment_id":42939517,"body_markdown":"It&#39;s useful when java is *not* on $PATH, for example when you have multiple SDK installations.","body":"It&#39;s useful when java is <i>not</i> on $PATH, for example when you have multiple SDK installations."},{"owner":{"account_id":2047743,"reputation":7324,"user_id":1827457,"accept_rate":80,"display_name":"LtWorf"},"score":0,"creation_date":1418132466,"post_id":5102050,"comment_id":43209697,"body_markdown":"The 1st argument to the binary is the full name of the executable itself, java doesn&#39;t need to be in the path to find its own directory.","body":"The 1st argument to the binary is the full name of the executable itself, java doesn&#39;t need to be in the path to find its own directory."},{"owner":{"account_id":1237894,"reputation":725,"user_id":1201103,"accept_rate":90,"display_name":"LastStar007"},"score":0,"creation_date":1549517642,"post_id":5102050,"comment_id":95931939,"body_markdown":"@Haakon As someone trying to set up multiple JDKs, why would you *not* want java on the path? How does Windows locate java from java_home anyway? I thought the path was more or less defined as &quot;the list of places the OS will look for executables&quot;.","body":"@Haakon As someone trying to set up multiple JDKs, why would you <i>not</i> want java on the path? How does Windows locate java from java_home anyway? I thought the path was more or less defined as &quot;the list of places the OS will look for executables&quot;."}],"tags":[],"owner":{"account_id":17751,"reputation":1741,"user_id":40066,"accept_rate":50,"display_name":"Haakon"},"comment_count":4,"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1469859317,"creation_date":1298535679,"answer_id":5102050,"question_id":5102022,"body_markdown":"The purpose is to point to where Java is installed. `$JAVA_HOME/bin/java` should execute the Java runtime.","title":"what is the reason for the existence of the JAVA_HOME environment variable?","body":"<p>The purpose is to point to where Java is installed. <code>$JAVA_HOME/bin/java</code> should execute the Java runtime.</p>\n"},{"comments":[{"owner":{"account_id":19314,"reputation":6654,"user_id":45163,"accept_rate":86,"display_name":"Chris Nava"},"score":47,"creation_date":1298565472,"post_id":5102068,"comment_id":5726004,"body_markdown":"One correction: JAVA_HOME should point to a JDK not a JRE.  Many apps don&#39;t care about the difference but it is significant for some.","body":"One correction: JAVA_HOME should point to a JDK not a JRE.  Many apps don&#39;t care about the difference but it is significant for some."},{"owner":{"account_id":1494447,"reputation":2413,"user_id":1400737,"accept_rate":78,"display_name":"rogue lad"},"score":4,"creation_date":1388745733,"post_id":5102068,"comment_id":31373177,"body_markdown":"There is also JRE folder available in the JDK. Hence, with the help of JAVA_HOME , an application can locate JDK as well as JRE.","body":"There is also JRE folder available in the JDK. Hence, with the help of JAVA_HOME , an application can locate JDK as well as JRE."},{"owner":{"account_id":3309,"reputation":7338,"user_id":4771,"display_name":"andreas"},"score":0,"creation_date":1516475470,"post_id":5102068,"comment_id":83706847,"body_markdown":"@ChrisNava: Seem that pointing JAVA_HOME to a JRE installation is valid in some cases (most non-development cases I would guess): https://stackoverflow.com/questions/17601827/which-one-should-java-home-to-point-jdk-or-jre. So saying &quot;should&quot; is saying too much.","body":"@ChrisNava: Seem that pointing JAVA_HOME to a JRE installation is valid in some cases (most non-development cases I would guess): <a href=\"https://stackoverflow.com/questions/17601827/which-one-should-java-home-to-point-jdk-or-jre\" title=\"which one should java home to point jdk or jre\">stackoverflow.com/questions/17601827/&hellip;</a>. So saying &quot;should&quot; is saying too much."}],"tags":[],"owner":{"account_id":205049,"reputation":73345,"user_id":453596,"accept_rate":76,"display_name":"kamaci"},"comment_count":3,"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1420794378,"creation_date":1298535801,"answer_id":5102068,"question_id":5102022,"body_markdown":"**Environment variables** are strings that contain information such as drive, path, or file name.\r\n\r\nThe **JAVA_HOME environment variable** points to the directory where the Java runtime environment (JRE) is installed on your computer. ","title":"what is the reason for the existence of the JAVA_HOME environment variable?","body":"<p><strong>Environment variables</strong> are strings that contain information such as drive, path, or file name.</p>\n\n<p>The <strong>JAVA_HOME environment variable</strong> points to the directory where the Java runtime environment (JRE) is installed on your computer. </p>\n"},{"tags":[],"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1469859215,"creation_date":1298538373,"answer_id":5102501,"question_id":5102022,"body_markdown":"When you run a Java program you need to first start the JVM, typically this is done by running an executable, on Windows this is **java.exe**. You can get that in lots of ways for example just giving a full path:\r\n\r\n    C:\\somedir\\bin\\java.exe\r\n\r\nor may having it on your PATH.\r\n\r\nYou specify as command line arguments some class files or Jar files containing class files which are your program. But that&#39;s not enough, the java.exe itself needs various other resources, not least all the Java libraries. By setting the environment variable JAVA_HOME you specify where the JRE, and hence all those runtime resources, are to be found. You should ensure that the particular Java you execute matches the setting of JAVA_HOME.\r\n\r\nYou may also need to put `JAVA_HOME\\bin` early on your path so that if the `java.exe` spawns a copy of itself (for example to compile a JSP) it picks up the right version.","title":"what is the reason for the existence of the JAVA_HOME environment variable?","body":"<p>When you run a Java program you need to first start the JVM, typically this is done by running an executable, on Windows this is <strong>java.exe</strong>. You can get that in lots of ways for example just giving a full path:</p>\n\n<pre><code>C:\\somedir\\bin\\java.exe\n</code></pre>\n\n<p>or may having it on your PATH.</p>\n\n<p>You specify as command line arguments some class files or Jar files containing class files which are your program. But that's not enough, the java.exe itself needs various other resources, not least all the Java libraries. By setting the environment variable JAVA_HOME you specify where the JRE, and hence all those runtime resources, are to be found. You should ensure that the particular Java you execute matches the setting of JAVA_HOME.</p>\n\n<p>You may also need to put <code>JAVA_HOME\\bin</code> early on your path so that if the <code>java.exe</code> spawns a copy of itself (for example to compile a JSP) it picks up the right version.</p>\n"},{"comments":[{"owner":{"account_id":1088545,"reputation":1,"user_id":1083704,"accept_rate":71,"display_name":"Val"},"score":1,"creation_date":1381660798,"post_id":5105322,"comment_id":28658641,"body_markdown":"You are conflating `environment` with `path`, which are different things but used in Windows exactly the same way as in Linux.","body":"You are conflating <code>environment</code> with <code>path</code>, which are different things but used in Windows exactly the same way as in Linux."},{"owner":{"account_id":163640,"reputation":13105,"user_id":385907,"accept_rate":76,"display_name":"barlop"},"score":1,"creation_date":1406464122,"post_id":5105322,"comment_id":38834159,"body_markdown":"@val just pointing out, that has since been corrected in his answer.","body":"@val just pointing out, that has since been corrected in his answer."},{"owner":{"account_id":2701010,"reputation":1085,"user_id":2331741,"accept_rate":100,"display_name":"filip_j"},"score":0,"creation_date":1471514401,"post_id":5105322,"comment_id":65381010,"body_markdown":"Just to add to the list [JAVA_HOME in Windows 10](https://javatutorial.net/set-java-home-windows-10)","body":"Just to add to the list <a href=\"https://javatutorial.net/set-java-home-windows-10\" rel=\"nofollow noreferrer\">JAVA_HOME in Windows 10</a>"}],"tags":[],"owner":{"account_id":69592,"reputation":53841,"user_id":202375,"accept_rate":62,"display_name":"Saurabh Gokhale"},"comment_count":3,"down_vote_count":4,"up_vote_count":9,"is_accepted":false,"score":5,"last_activity_date":1391257951,"creation_date":1298554350,"answer_id":5105322,"question_id":5102022,"body_markdown":"**`JAVA_HOME`** is an *environment variable*.   \r\n\r\nIt has to be setup on different operating system. Check out the following links.  \r\n\r\n - [JAVA_HOME in Ubuntu][1]  \r\n - [JAVA_HOME in Windowx Xp][2]  \r\n - [JAVA_HOME in Linux Bash][3]  \r\n - [JAVA_HOME in Windows 7][4]  \r\n\r\n\r\nAlso see [**here**][5] for more information.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2655641/set-environment-variable-in-ubuntu\r\n  [2]: http://wso2.org/project/wsas/java/1.1/docs/setting-java-home.html\r\n  [3]: http://www.cyberciti.biz/faq/linux-unix-set-java_home-path-variable/\r\n  [4]: https://stackoverflow.com/questions/2619584/how-to-set-java-home-on-windows-7\r\n  [5]: https://stackoverflow.com/questions/3820954/java-home-environment-variable-and-java-jdk-fun","title":"what is the reason for the existence of the JAVA_HOME environment variable?","body":"<p><strong><code>JAVA_HOME</code></strong> is an <em>environment variable</em>.   </p>\n\n<p>It has to be setup on different operating system. Check out the following links.  </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2655641/set-environment-variable-in-ubuntu\">JAVA_HOME in Ubuntu</a>  </li>\n<li><a href=\"http://wso2.org/project/wsas/java/1.1/docs/setting-java-home.html\" rel=\"nofollow noreferrer\">JAVA_HOME in Windowx Xp</a>  </li>\n<li><a href=\"http://www.cyberciti.biz/faq/linux-unix-set-java_home-path-variable/\" rel=\"nofollow noreferrer\">JAVA_HOME in Linux Bash</a>  </li>\n<li><a href=\"https://stackoverflow.com/questions/2619584/how-to-set-java-home-on-windows-7\">JAVA_HOME in Windows 7</a>  </li>\n</ul>\n\n<p>Also see <a href=\"https://stackoverflow.com/questions/3820954/java-home-environment-variable-and-java-jdk-fun\"><strong>here</strong></a> for more information.</p>\n"},{"tags":[],"owner":{"account_id":6164670,"reputation":121,"user_id":4805076,"display_name":"Nico Kadel-Garcia"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1517967162,"creation_date":1517964924,"answer_id":48654332,"question_id":5102022,"body_markdown":"`JAVA_HOME` allows you to run any of multiple java installations. Even if you have  the `/usr/lib/jvm/java-1.8.0/bin/java`  in your PATH first, it&#39;s useful to be able to say `JAVA_HOME=/usr/lib/jvm/java-1.5.0` and have the default &quot;java&quot; with which you run programs use the other one, instead, as a matter of an environment setting. This allows a programmer to use the java they need, even if it&#39;s not installed in a normal system location, and test or provide reverse compatibility with that alternate version. And it&#39;s not vulnerable to being reset in the PATH by another installed program, such as a major version update for java itself. ","title":"what is the reason for the existence of the JAVA_HOME environment variable?","body":"<p><code>JAVA_HOME</code> allows you to run any of multiple java installations. Even if you have  the <code>/usr/lib/jvm/java-1.8.0/bin/java</code>  in your PATH first, it's useful to be able to say <code>JAVA_HOME=/usr/lib/jvm/java-1.5.0</code> and have the default \"java\" with which you run programs use the other one, instead, as a matter of an environment setting. This allows a programmer to use the java they need, even if it's not installed in a normal system location, and test or provide reverse compatibility with that alternate version. And it's not vulnerable to being reset in the PATH by another installed program, such as a major version update for java itself. </p>\n"},{"tags":[],"owner":{"account_id":8124702,"reputation":1511,"user_id":6120063,"display_name":"karlsebal"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1569128820,"creation_date":1569128820,"answer_id":58046211,"question_id":5102022,"body_markdown":"According to @dirai [here](https://stackoverflow.com/a/27716151/6120063) **`JAVA_HOME` is not used by Java itself** but by some third party tools like for instance Apache Tomcat. Most applications however will work without this variable being set but some could show unexpected behaviour.","title":"what is the reason for the existence of the JAVA_HOME environment variable?","body":"<p>According to @dirai <a href=\"https://stackoverflow.com/a/27716151/6120063\">here</a> <strong><code>JAVA_HOME</code> is not used by Java itself</strong> but by some third party tools like for instance Apache Tomcat. Most applications however will work without this variable being set but some could show unexpected behaviour.</p>\n"},{"tags":[],"owner":{"account_id":6826874,"reputation":652,"user_id":5252340,"display_name":"Pavan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656258103,"creation_date":1656258103,"answer_id":72762976,"question_id":5102022,"body_markdown":"To understand the purpose of `JAVA_HOME` environment variable, you need to first understand which programs look for and read this variable value. Some examples are: Apache Tomcat, Apache Maven, Gradle, Jenkins etc. If you notice, most of these are development tools and that&#39;s why mostly `JAVA_HOME` is set to point to JDK instead of JRE.\r\n\r\nConsumer facing Java applications don&#39;t read `JAVA_HOME` variable and they just need to know where the JVM is located and that&#39;s why JVM location (directory) needs to be added to the `PATH` variable. This is automatically done for you when you install Java software. Whenever you try to run a Java application by either double clicking on the app or through command line, your operating system reads `PATH` variable to locate and run JVM and it doesn&#39;t look for `JAVA_HOME` variable.","title":"what is the reason for the existence of the JAVA_HOME environment variable?","body":"<p>To understand the purpose of <code>JAVA_HOME</code> environment variable, you need to first understand which programs look for and read this variable value. Some examples are: Apache Tomcat, Apache Maven, Gradle, Jenkins etc. If you notice, most of these are development tools and that's why mostly <code>JAVA_HOME</code> is set to point to JDK instead of JRE.</p>\n<p>Consumer facing Java applications don't read <code>JAVA_HOME</code> variable and they just need to know where the JVM is located and that's why JVM location (directory) needs to be added to the <code>PATH</code> variable. This is automatically done for you when you install Java software. Whenever you try to run a Java application by either double clicking on the app or through command line, your operating system reads <code>PATH</code> variable to locate and run JVM and it doesn't look for <code>JAVA_HOME</code> variable.</p>\n"},{"tags":[],"owner":{"account_id":2169094,"reputation":87,"user_id":2377645,"display_name":"Ivan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678200367,"creation_date":1678200367,"answer_id":75663458,"question_id":5102022,"body_markdown":"JAVA_HOME is used in MacOS to determine which JRE to use when you are trying to launch java, javac, etc.\r\njava executable on PATH is just a proxy which then launches java from JAVA_HOME","title":"what is the reason for the existence of the JAVA_HOME environment variable?","body":"<p>JAVA_HOME is used in MacOS to determine which JRE to use when you are trying to launch java, javac, etc.\njava executable on PATH is just a proxy which then launches java from JAVA_HOME</p>\n"}],"owner":{"account_id":232243,"reputation":83887,"user_id":496949,"accept_rate":86,"display_name":"user496949"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84352,"favorite_count":0,"down_vote_count":0,"up_vote_count":112,"answer_count":8,"score":112,"last_activity_date":1678200367,"creation_date":1298535520,"question_id":5102022,"body_markdown":"Many java based application requires to set JAVA_HOME env variable. What&#39;s the purpose of this variable?","title":"what is the reason for the existence of the JAVA_HOME environment variable?","body":"<p>Many java based application requires to set JAVA_HOME env variable. What's the purpose of this variable?</p>\n"},{"tags":["java","spring-boot","email","mail-server"],"comments":[{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1678179749,"post_id":75659659,"comment_id":133478906,"body_markdown":"When you posta  a question, It would be usefull If you post more information. Code which creates the email, code of the email itself (html?), what actions are really under those buttons (html links?).","body":"When you posta  a question, It would be usefull If you post more information. Code which creates the email, code of the email itself (html?), what actions are really under those buttons (html links?)."}],"answers":[{"tags":[],"owner":{"account_id":7321840,"reputation":1,"user_id":5577621,"display_name":"adnan &#231;tekin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678200205,"creation_date":1678200205,"answer_id":75663417,"question_id":75659659,"body_markdown":"You could just embed the URL which sends a request to your server and open that URL in a new browser tab. On the frontend side, you can write an HTML code something like:\r\n\r\n    &lt;a href=&quot;https://www.yoursite.com/approve?emailId=1234&quot; target=&quot;_blank&quot;&gt;Approve&lt;/a&gt;\r\n    &lt;a href=&quot;https://www.yoursite.com/decline?emailId=1234&quot; target=&quot;_blank&quot;&gt;Decline&lt;/a&gt;\r\n\r\n**If neither approved nor declined under a certain time frame it should be deleted. -&gt;**\r\nYou can use a scheduled job on your serverside which checks every file one by one in an interval. If you don&#39;t know how to do it you can follow the following tutorial:\r\nhttps://www.baeldung.com/spring-scheduled-tasks\r\n","title":"How to save a file when a button is clicked on email in java","body":"<p>You could just embed the URL which sends a request to your server and open that URL in a new browser tab. On the frontend side, you can write an HTML code something like:</p>\n<pre><code>&lt;a href=&quot;https://www.yoursite.com/approve?emailId=1234&quot; target=&quot;_blank&quot;&gt;Approve&lt;/a&gt;\n&lt;a href=&quot;https://www.yoursite.com/decline?emailId=1234&quot; target=&quot;_blank&quot;&gt;Decline&lt;/a&gt;\n</code></pre>\n<p><strong>If neither approved nor declined under a certain time frame it should be deleted. -&gt;</strong>\nYou can use a scheduled job on your serverside which checks every file one by one in an interval. If you don't know how to do it you can follow the following tutorial:\n<a href=\"https://www.baeldung.com/spring-scheduled-tasks\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-scheduled-tasks</a></p>\n"}],"owner":{"account_id":22595527,"reputation":19,"user_id":17976980,"display_name":"vicky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678200205,"creation_date":1678178460,"question_id":75659659,"body_markdown":"I send a user email using Java spring boot with a approve and decline button. If the approve button is clicked a certain file must be saved and the time log should be noted and if declined the file must be deleted. If neither approved nor declined under a certain time frame it should be deleted.\r\n\r\nI am aware of sending these mails and buttons but I am not able to trigger the file save or delete action when approve is clicked from mail.\r\n","title":"How to save a file when a button is clicked on email in java","body":"<p>I send a user email using Java spring boot with a approve and decline button. If the approve button is clicked a certain file must be saved and the time log should be noted and if declined the file must be deleted. If neither approved nor declined under a certain time frame it should be deleted.</p>\n<p>I am aware of sending these mails and buttons but I am not able to trigger the file save or delete action when approve is clicked from mail.</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1678111357,"post_id":75651302,"comment_id":133464775,"body_markdown":"Please give more details on the expected flow. Do you really need to create a new consumer dynamically? Or do you need to start consuming messages during runtime but the consumer can be instantiated and initialized at startup? And what about the messages not matching the filter? Can be consumed and thrown away, right?","body":"Please give more details on the expected flow. Do you really need to create a new consumer dynamically? Or do you need to start consuming messages during runtime but the consumer can be instantiated and initialized at startup? And what about the messages not matching the filter? Can be consumed and thrown away, right?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1678117373,"post_id":75651302,"comment_id":133466709,"body_markdown":"You should use a registry. You should start the listeners as stopped. When you get a request, then request the registry to start any listener. Alternatively, don&#39;t use Kafka? Just query the database with your filter information","body":"You should use a registry. You should start the listeners as stopped. When you get a request, then request the registry to start any listener. Alternatively, don&#39;t use Kafka? Just query the database with your filter information"},{"owner":{"account_id":432554,"reputation":282,"user_id":817383,"accept_rate":56,"display_name":"Sascha Kaupp"},"score":0,"creation_date":1678176102,"post_id":75651302,"comment_id":133477909,"body_markdown":"I have to wait for a certain job outside my realm to have finished, when this happened I will get notified via REST-call. Then I have to read a bunch of Kafka messages, about 1-3 million.\n\nStarting consumers stopped seems to be a possibility. How could that be done? Using Kafka is unavoidable, I won&#39;t get access to the source database.","body":"I have to wait for a certain job outside my realm to have finished, when this happened I will get notified via REST-call. Then I have to read a bunch of Kafka messages, about 1-3 million.  Starting consumers stopped seems to be a possibility. How could that be done? Using Kafka is unavoidable, I won&#39;t get access to the source database."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1678182371,"post_id":75651302,"comment_id":133479579,"body_markdown":"Kafka consumer provides methods pause() and resume() for this.","body":"Kafka consumer provides methods pause() and resume() for this."},{"owner":{"account_id":432554,"reputation":282,"user_id":817383,"accept_rate":56,"display_name":"Sascha Kaupp"},"score":0,"creation_date":1678184196,"post_id":75651302,"comment_id":133480081,"body_markdown":"@Mar-Z Yes, but I could get multiple REST-calls for the import of different groups of data. I can create one KafkaConsumer that doesn&#39;t start until the first request comes and then retrieve it via something like kafkaListenerEndpointRegistry.getListenerContainer(&quot;myListener&quot;); - But then I have to tell it what to filter for. Also, what can I do when the next request comes along to consume the same topic but filter for different criteria? \n\nThat&#39;s why I thought about dynamically creating new Listeners but have no clue how.","body":"@Mar-Z Yes, but I could get multiple REST-calls for the import of different groups of data. I can create one KafkaConsumer that doesn&#39;t start until the first request comes and then retrieve it via something like kafkaListenerEndpointRegistry.getListenerContainer(&quot;myListen&zwnj;&#8203;er&quot;); - But then I have to tell it what to filter for. Also, what can I do when the next request comes along to consume the same topic but filter for different criteria?   That&#39;s why I thought about dynamically creating new Listeners but have no clue how."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1678186719,"post_id":75651302,"comment_id":133480839,"body_markdown":"What do you mean exactly with filtering? Do you want to consume only particular subset of messages from the topic? Leaving the rest untouched for future processing? I&#39;m not aware of such functionality in Kafka. I know it like this: consume a message, if it match the filter then process it, otherwise throw away.","body":"What do you mean exactly with filtering? Do you want to consume only particular subset of messages from the topic? Leaving the rest untouched for future processing? I&#39;m not aware of such functionality in Kafka. I know it like this: consume a message, if it match the filter then process it, otherwise throw away."}],"answers":[{"tags":[],"owner":{"account_id":432554,"reputation":282,"user_id":817383,"accept_rate":56,"display_name":"Sascha Kaupp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678200138,"creation_date":1678200138,"answer_id":75663404,"question_id":75651302,"body_markdown":"I came up with the following solution, it&#39;s not exaclty what I need and will need some work, but this basically does what I need:\r\n\r\nConsumerConfig.java\r\n```\r\n@Configuration\r\npublic class ConsumerConfig {\r\n    @Value(&quot;${spring.kafka.consumer.bootstrap-servers}&quot;)\r\n    String bootstrapAddress;\r\n    // Import all the other settings from application.yaml using @Value-notation\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n        // Create props for Factory\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        // ...\r\n\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n    }\r\n}\r\n```\r\n\r\nThen, inside of my REST-Controller:\r\n\r\nRestController.java\r\n```\r\npublic class RestController{\r\n    @Autowired\r\n    ConsumerFactory&lt;String, String&gt; consumerFactory;\r\n    // ...\r\n    private void consumeKafka(String searchCriteria) {\r\n        Consumer&lt;String, String&gt; consumer = consumerFactory.createConsumer();\r\n        consumer.subscribe(Arrays.asList(&quot;a.bunch.of.topics&quot;));\r\n        while(true){\r\n            ConsumerRecords&lt;String, String&gt; consumerRecords = consumer.poll(Duration.ofMillis(100));\r\n            for (ConsumerRecord cr : consumerRecords) {\r\n                // Convert cr to object, check whether object fits criteria, import or not...\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis basically does the trick and can be invoked in parallel, but leaves my microservice with a bunch of open and never gracefully deserializing KafkaConsumers.\r\n\r\nThanks to @Mar-Z and @OneCricketeer for your input!","title":"How can I create a KafkaConsumer during runtime? (In Spring Boot)","body":"<p>I came up with the following solution, it's not exaclty what I need and will need some work, but this basically does what I need:</p>\n<p>ConsumerConfig.java</p>\n<pre><code>@Configuration\npublic class ConsumerConfig {\n    @Value(&quot;${spring.kafka.consumer.bootstrap-servers}&quot;)\n    String bootstrapAddress;\n    // Import all the other settings from application.yaml using @Value-notation\n\n    @Bean\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\n        // Create props for Factory\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n        // ...\n\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\n    }\n}\n</code></pre>\n<p>Then, inside of my REST-Controller:</p>\n<p>RestController.java</p>\n<pre><code>public class RestController{\n    @Autowired\n    ConsumerFactory&lt;String, String&gt; consumerFactory;\n    // ...\n    private void consumeKafka(String searchCriteria) {\n        Consumer&lt;String, String&gt; consumer = consumerFactory.createConsumer();\n        consumer.subscribe(Arrays.asList(&quot;a.bunch.of.topics&quot;));\n        while(true){\n            ConsumerRecords&lt;String, String&gt; consumerRecords = consumer.poll(Duration.ofMillis(100));\n            for (ConsumerRecord cr : consumerRecords) {\n                // Convert cr to object, check whether object fits criteria, import or not...\n            }\n        }\n    }\n}\n</code></pre>\n<p>This basically does the trick and can be invoked in parallel, but leaves my microservice with a bunch of open and never gracefully deserializing KafkaConsumers.</p>\n<p>Thanks to @Mar-Z and @OneCricketeer for your input!</p>\n"}],"owner":{"account_id":432554,"reputation":282,"user_id":817383,"accept_rate":56,"display_name":"Sascha Kaupp"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75663404,"answer_count":1,"score":0,"last_activity_date":1678200138,"creation_date":1678108460,"question_id":75651302,"body_markdown":"I am working on an application that already consumes and creates Kafka messages. Creating Listeners that are initialized at startup using @Component and consume whatever messages are send to their respective topic(s) is not an issue.\r\n\r\nBut for the import of a big number of entries into a database, I have to wait for a REST-call before I start to consume certain Kafka topics and filter for a specific search pattern provided by the REST-call. How can this be achived?\r\n\r\nMy idea was to do something like this:\r\n\r\n```\r\npublic ResponseEntity&lt;Result&gt; restCall(String searchCriteria){\r\n  ...\r\n  MyKafkaListener mkl = new MyKafkaListener(searchCriteria);\r\n  // Do whatever I need to do to get it running...\r\n  mkl.start();\r\n  ...\r\n}\r\n```\r\n\r\nI only found a very complex way using KafkaListenerEndpointRegistry and a bunch of factory classes that need implementing. Do I really have to implement all those interfaces to do what I plan or is there a simpler way to start Kafka consumers as needed?\r\n\r\nEDIT:\r\n\r\nOne idea was to have a class that I could configure while it&#39;s already instanziated. My Listener could be like \r\n\r\n```\r\n@KafkaListener(id = &quot;myListener&quot;, topics = { &quot;wholeLottaTopics&quot;}, autoStartup = &quot;false&quot;, groupId = &quot;${spring.kafka.groupid}&quot;)\r\n    public boolean onMessage(ConsumerRecord cr)\r\n    {...}\r\n```\r\n\r\nThis Listener would be initialized during startup and I could get access to it and start it:\r\n\r\n```\r\nMessageListenerContainer myListener = kafkaListenerEndpointRegistry.getListenerContainer(&quot;myListener&quot;);\r\nmyListener.start();\r\n```\r\n\r\nBut retrieving it this way, I cannot access it&#39;s fields like searchCriteria etc. Also, when I get multiple REST-requests that tell my service to import data from the same topics according to different criteria, I cannot run another Consumer at the same time.","title":"How can I create a KafkaConsumer during runtime? (In Spring Boot)","body":"<p>I am working on an application that already consumes and creates Kafka messages. Creating Listeners that are initialized at startup using @Component and consume whatever messages are send to their respective topic(s) is not an issue.</p>\n<p>But for the import of a big number of entries into a database, I have to wait for a REST-call before I start to consume certain Kafka topics and filter for a specific search pattern provided by the REST-call. How can this be achived?</p>\n<p>My idea was to do something like this:</p>\n<pre><code>public ResponseEntity&lt;Result&gt; restCall(String searchCriteria){\n  ...\n  MyKafkaListener mkl = new MyKafkaListener(searchCriteria);\n  // Do whatever I need to do to get it running...\n  mkl.start();\n  ...\n}\n</code></pre>\n<p>I only found a very complex way using KafkaListenerEndpointRegistry and a bunch of factory classes that need implementing. Do I really have to implement all those interfaces to do what I plan or is there a simpler way to start Kafka consumers as needed?</p>\n<p>EDIT:</p>\n<p>One idea was to have a class that I could configure while it's already instanziated. My Listener could be like</p>\n<pre><code>@KafkaListener(id = &quot;myListener&quot;, topics = { &quot;wholeLottaTopics&quot;}, autoStartup = &quot;false&quot;, groupId = &quot;${spring.kafka.groupid}&quot;)\n    public boolean onMessage(ConsumerRecord cr)\n    {...}\n</code></pre>\n<p>This Listener would be initialized during startup and I could get access to it and start it:</p>\n<pre><code>MessageListenerContainer myListener = kafkaListenerEndpointRegistry.getListenerContainer(&quot;myListener&quot;);\nmyListener.start();\n</code></pre>\n<p>But retrieving it this way, I cannot access it's fields like searchCriteria etc. Also, when I get multiple REST-requests that tell my service to import data from the same topics according to different criteria, I cannot run another Consumer at the same time.</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux","reactor"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1606983646,"post_id":65121845,"comment_id":115130415,"body_markdown":"Shouldn&#39;t you just write a `map` and use a `defaultIfEmpty` instead?","body":"Shouldn&#39;t you just write a <code>map</code> and use a <code>defaultIfEmpty</code> instead?"}],"answers":[{"comments":[{"owner":{"account_id":8503655,"reputation":1414,"user_id":6375917,"display_name":"TongChen"},"score":0,"creation_date":1606994258,"post_id":65122636,"comment_id":115135145,"body_markdown":"I use this method and get an exception:java.lang.NullPointerException: null","body":"I use this method and get an exception:java.lang.NullPointerException: null"}],"tags":[],"owner":{"account_id":6524369,"reputation":21,"user_id":5047506,"display_name":"Ivan Rasikhin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606985678,"creation_date":1606985678,"answer_id":65122636,"question_id":65121845,"body_markdown":"You should rewrite your code like this:\r\n\r\n    @GetMapping(value = &quot;/gateway/readiness&quot;)\r\n    public Mono&lt;ResponseEntity&lt;Long&gt;&gt; readiness() {\r\n        Flux&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; hosts = Flux.empty();\r\n        return hosts\r\n                .flatMapIterable(Map::keySet)\r\n                .distinct()\r\n                .collectList()\r\n                .map(ignored -&gt; ResponseEntity.ok(1L))\r\n                .defaultIfEmpty(ResponseEntity.status(HttpStatus.SERVICE_UNAVAILABLE).build());\r\n    }\r\n","title":"How to check Flux&lt;Object&gt; is empty or not?","body":"<p>You should rewrite your code like this:</p>\n<pre><code>@GetMapping(value = &quot;/gateway/readiness&quot;)\npublic Mono&lt;ResponseEntity&lt;Long&gt;&gt; readiness() {\n    Flux&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; hosts = Flux.empty();\n    return hosts\n            .flatMapIterable(Map::keySet)\n            .distinct()\n            .collectList()\n            .map(ignored -&gt; ResponseEntity.ok(1L))\n            .defaultIfEmpty(ResponseEntity.status(HttpStatus.SERVICE_UNAVAILABLE).build());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6716331,"reputation":1131,"user_id":5178057,"display_name":"Stepan Tsybulski"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1607804671,"creation_date":1607804671,"answer_id":65269450,"question_id":65121845,"body_markdown":"Please, try the following:\r\n\r\n```\r\n@GetMapping(value = &quot;/gateway/readiness&quot;)\r\npublic Mono&lt;ServerResponse&gt; readiness() {\r\n    return hostProvider.getHosts()\r\n            .map(Map::keySet)\r\n            .flatMap(set -&gt; Flux.fromStream(set.stream()))\r\n            .collectList()\r\n            .flatMap(hostProviders -&gt; \r\n               // response whatever you want to the client\r\n               ServerResponse.ok().bodyValue(routeLocator.getRoutes().count())\r\n            )\r\n            // if no value was propagated from the above then send 503 response code\r\n            .switchIfEmpty(ServerResponse.status(HttpStatus.SERVICE_UNAVAILABLE).build());\r\n}\r\n```","title":"How to check Flux&lt;Object&gt; is empty or not?","body":"<p>Please, try the following:</p>\n<pre><code>@GetMapping(value = &quot;/gateway/readiness&quot;)\npublic Mono&lt;ServerResponse&gt; readiness() {\n    return hostProvider.getHosts()\n            .map(Map::keySet)\n            .flatMap(set -&gt; Flux.fromStream(set.stream()))\n            .collectList()\n            .flatMap(hostProviders -&gt; \n               // response whatever you want to the client\n               ServerResponse.ok().bodyValue(routeLocator.getRoutes().count())\n            )\n            // if no value was propagated from the above then send 503 response code\n            .switchIfEmpty(ServerResponse.status(HttpStatus.SERVICE_UNAVAILABLE).build());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1622222,"reputation":435,"user_id":1498537,"display_name":"alfiogang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678199190,"creation_date":1678199190,"answer_id":75663250,"question_id":65121845,"body_markdown":"You could use `Flux#hasElements()` instead of `Flux#collectList()` to consume lower memory\r\n\r\n    public static Mono&lt;String&gt; handle(Flux&lt;MyData&gt; myDataFlux) {\r\n        return myDataFlux.hasElements()\r\n                .flatMap(CheckEmptyFluxTest::produceResult);\r\n    }\r\n\r\n    private static Mono&lt;String&gt; produceResult(boolean any){\r\n        return any ? Mono.just(&quot;Success&quot;) : Mono.just(&quot;Empty&quot;);\r\n    }\r\n\r\n","title":"How to check Flux&lt;Object&gt; is empty or not?","body":"<p>You could use <code>Flux#hasElements()</code> instead of <code>Flux#collectList()</code> to consume lower memory</p>\n<pre><code>public static Mono&lt;String&gt; handle(Flux&lt;MyData&gt; myDataFlux) {\n    return myDataFlux.hasElements()\n            .flatMap(CheckEmptyFluxTest::produceResult);\n}\n\nprivate static Mono&lt;String&gt; produceResult(boolean any){\n    return any ? Mono.just(&quot;Success&quot;) : Mono.just(&quot;Empty&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":8503655,"reputation":1414,"user_id":6375917,"display_name":"TongChen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65269450,"answer_count":3,"score":0,"last_activity_date":1678199190,"creation_date":1606982089,"question_id":65121845,"body_markdown":"I have a api for kubernetes to call and detect service is available or not.In the api,first call a interface to get host of other service,the interface return a Flux&lt;Object&gt;,if the result is empty api return SERVICE_UNAVAILABLE other return ok.My current code as below:\r\n\r\n~~~java\r\n@GetMapping(value = &quot;/gateway/readiness&quot;)\r\npublic Mono&lt;Long&gt; readiness(ServerHttpResponse response) {\r\n\tFlux&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; hosts = hostProvider.getHosts();\r\n\tList&lt;String&gt; hostProviders = new ArrayList&lt;&gt;();\r\n\t\r\n    // the below code has a warning: Calling subscribe in a non-blocking scope\r\n\thosts.subscribe(new Consumer&lt;Map&lt;String, List&lt;String&gt;&gt;&gt;() {\r\n\t\t@Override\r\n\t\tpublic void accept(Map&lt;String, List&lt;String&gt;&gt; stringListMap) {\r\n\t\t\thostProviders.addAll(stringListMap.keySet());\r\n\t\t}\r\n\t});\r\n\tif (hostProviders.isEmpty()) {\r\n\t\tresponse.setStatusCode(HttpStatus.SERVICE_UNAVAILABLE);\r\n\t}\r\n\treturn routeLocator.getRoutes().count();\r\n}\r\n~~~\r\n\r\nHas graceful to do this?","title":"How to check Flux&lt;Object&gt; is empty or not?","body":"<p>I have a api for kubernetes to call and detect service is available or not.In the api,first call a interface to get host of other service,the interface return a Flux,if the result is empty api return SERVICE_UNAVAILABLE other return ok.My current code as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(value = &quot;/gateway/readiness&quot;)\npublic Mono&lt;Long&gt; readiness(ServerHttpResponse response) {\n    Flux&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; hosts = hostProvider.getHosts();\n    List&lt;String&gt; hostProviders = new ArrayList&lt;&gt;();\n    \n    // the below code has a warning: Calling subscribe in a non-blocking scope\n    hosts.subscribe(new Consumer&lt;Map&lt;String, List&lt;String&gt;&gt;&gt;() {\n        @Override\n        public void accept(Map&lt;String, List&lt;String&gt;&gt; stringListMap) {\n            hostProviders.addAll(stringListMap.keySet());\n        }\n    });\n    if (hostProviders.isEmpty()) {\n        response.setStatusCode(HttpStatus.SERVICE_UNAVAILABLE);\n    }\n    return routeLocator.getRoutes().count();\n}\n</code></pre>\n<p>Has graceful to do this?</p>\n"},{"tags":["java","sql","postgresql","jdbc","junit"],"comments":[{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":1,"creation_date":1678200081,"post_id":75663229,"comment_id":133484451,"body_markdown":"Your code isn&#39;t complete, how&#39;s statement variable declared?","body":"Your code isn&#39;t complete, how&#39;s statement variable declared?"},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1678290057,"post_id":75663229,"comment_id":133504560,"body_markdown":"PostgreSQL doesn&#39;t offer a broken caching layer.  If you have gone out of your way to introduce one, you haven&#39;t told us about it, so we can&#39;t tell you about it.","body":"PostgreSQL doesn&#39;t offer a broken caching layer.  If you have gone out of your way to introduce one, you haven&#39;t told us about it, so we can&#39;t tell you about it."}],"owner":{"account_id":14144959,"reputation":53,"user_id":10218542,"display_name":"Rashid Raza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678199064,"creation_date":1678199064,"question_id":75663229,"body_markdown":"When I am querying from postgresql for the first time, It&#39;s providing me null value but after waiting for some time the same query is giving me result.  I have added a dummy code of what I am trying and what I am getting.\r\n\r\nCould it be some kind of caching? If so, How can I overcome it.\r\n\r\n```\r\n        Class.forName(&quot;org.postgresql.Driver&quot;);\r\n\r\n         // Establish a connection to the database\r\n         String url = &quot;jdbc:postgresql://path-to-database&quot;;\r\n         String user = &quot;myusername&quot;;\r\n         String password = &quot;mypassword&quot;;\r\n         Connection connection = DriverManager.getConnection(url, user, password);\r\n\r\n         String query = &quot;SELECT * FROM mytable WHERE column1 = &#39;value1&#39;&quot;;\r\n         ResultSet resultSet = statement.executeQuery(query);\r\n\r\n         while (resultSet.next()) {\r\n            String column2 = resultSet.getString(&quot;column2&quot;);\r\n            System.out.println(column2);\r\n         }\r\n\r\n         Thread.sleep(100000); //wait for 100 seconds\r\n\r\n         resultSet = statement.executeQuery(query);\r\n         while (resultSet.next()) {\r\n            String column2 = resultSet.getString(&quot;column2&quot;);\r\n            System.out.println(column2);\r\n         }\r\n\r\n```\r\nOutput:\r\n```\r\nnull\r\nmyValue\r\n```\r\n","title":"When I am querying from postgresql for the first time, It&#39;s providing me null value but after waiting for some time the same query is giving me result","body":"<p>When I am querying from postgresql for the first time, It's providing me null value but after waiting for some time the same query is giving me result.  I have added a dummy code of what I am trying and what I am getting.</p>\n<p>Could it be some kind of caching? If so, How can I overcome it.</p>\n<pre><code>        Class.forName(&quot;org.postgresql.Driver&quot;);\n\n         // Establish a connection to the database\n         String url = &quot;jdbc:postgresql://path-to-database&quot;;\n         String user = &quot;myusername&quot;;\n         String password = &quot;mypassword&quot;;\n         Connection connection = DriverManager.getConnection(url, user, password);\n\n         String query = &quot;SELECT * FROM mytable WHERE column1 = 'value1'&quot;;\n         ResultSet resultSet = statement.executeQuery(query);\n\n         while (resultSet.next()) {\n            String column2 = resultSet.getString(&quot;column2&quot;);\n            System.out.println(column2);\n         }\n\n         Thread.sleep(100000); //wait for 100 seconds\n\n         resultSet = statement.executeQuery(query);\n         while (resultSet.next()) {\n            String column2 = resultSet.getString(&quot;column2&quot;);\n            System.out.println(column2);\n         }\n\n</code></pre>\n<p>Output:</p>\n<pre><code>null\nmyValue\n</code></pre>\n"},{"tags":["java","hamcrest","google-truth"],"answers":[{"comments":[{"owner":{"account_id":33655,"reputation":26403,"user_id":94363,"accept_rate":74,"display_name":"rds"},"score":1,"creation_date":1455463883,"post_id":34542967,"comment_id":58490762,"body_markdown":"The problem is really that the Truth `contains` verb on `IterableSubject` checks the equality of elements.  And a `Matcher` is not an `ExpectedType`. Thanks for your answer (finally accepted).","body":"The problem is really that the Truth <code>contains</code> verb on <code>IterableSubject</code> checks the equality of elements.  And a <code>Matcher</code> is not an <code>ExpectedType</code>. Thanks for your answer (finally accepted)."},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1498028396,"post_id":34542967,"comment_id":76322442,"body_markdown":"Note that your `containsExactlyOneInstanceOf()` isn&#39;t the same behavior as [`IterableSubject.containsExactly()`](https://google.github.io/truth/api/latest/com/google/common/truth/IterableSubject.html#containsExactly-java.lang.Object...-) - Truth&#39;s method requires exactly the given objects and nothing else.","body":"Note that your <code>containsExactlyOneInstanceOf()</code> isn&#39;t the same behavior as <a href=\"https://google.github.io/truth/api/latest/com/google/common/truth/IterableSubject.html#containsExactly-java.lang.Object...-\" rel=\"nofollow noreferrer\"><code>IterableSubject.containsExactly()</code></a> - Truth&#39;s method requires exactly the given objects and nothing else."}],"tags":[],"owner":{"account_id":3128021,"reputation":19974,"user_id":2646526,"display_name":"heenenee"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1451547739,"creation_date":1451547739,"answer_id":34542967,"question_id":34528085,"body_markdown":"You&#39;re trying to write a test to see if a `List` contains exactly one instance of a particular class using Hamcrest *and* Truth.  Instead, you should be writing this test with *either* Hamcrest *or* Truth.  Hamcrest and Truth are both libraries for making tests more expressive, each with their own particular usage, style, and syntax.  You can use them alongside each other in your tests if you like, but chaining their methods together as you are doing is not going to work.  (Maybe you got confused because both libraries can have assertions that start with `assertThat`?)  So for this particular test, you need to pick one of them and go with it.\r\n\r\nBoth libraries, however, are lacking the built-in functionality of checking that a `List` has one *and only one* item that satisfies a condition.  So with either library, you have two options: either you can do a little bit of pre-processing on the list so that you can use a built-in assertion, or you can extend the language of the library to give it this functionality.\r\n\r\nThe following is an example class that demonstrates both options for both libraries:\r\n\r\n    import com.google.common.collect.FluentIterable;\r\n    import com.google.common.truth.*;\r\n    import org.hamcrest.*;\r\n    import org.junit.Test;\r\n    \r\n    import java.util.*;\r\n    \r\n    import static com.google.common.truth.Truth.assertAbout;\r\n    import static com.google.common.truth.Truth.assert_;\r\n    import static org.hamcrest.MatcherAssert.assertThat;\r\n    import static org.hamcrest.Matchers.*;\r\n    \r\n    public class ExactlyOneInstanceTest {\r\n        List&lt;Object&gt; myList = Arrays.asList(&quot;&quot;, 3, &#39;A&#39;, new Object());\r\n    \r\n        @Test\r\n        public void hamcrestBuiltInTestExactlyOneInstance() {\r\n            long theNumberOfStringsInMyList = myList.stream().filter(o -&gt; o instanceof String).count();\r\n            assertThat(theNumberOfStringsInMyList, equalTo(1L));\r\n        }\r\n    \r\n        @Test\r\n        public void hamcrestExtendedTestExactlyOneInstance() {\r\n            assertThat(myList, HasExactlyOne.itemThat(is(instanceOf(String.class))));\r\n        }\r\n    \r\n        @Test\r\n        public void truthBuiltInTestExactlyOneInstance() {\r\n            long theNumberOfStringsInMyList = myList.stream().filter(o -&gt; o instanceof String).count();\r\n            // can&#39;t static import Truth.assertThat because of name clash,\r\n            // but we can use this alternative form\r\n            assert_().that(theNumberOfStringsInMyList).isEqualTo(1);\r\n        }\r\n    \r\n        @Test\r\n        public void truthExtendedTestExactlyOneInstance() {\r\n            assertAbout(iterable()).that(myList).containsExactlyOneInstanceOf(String.class);\r\n        }\r\n    \r\n    \r\n        // Hamcrest custom matcher\r\n        static class HasExactlyOne&lt;T&gt; extends TypeSafeDiagnosingMatcher&lt;Iterable&lt;? super T&gt;&gt; {\r\n            Matcher&lt;? super T&gt; elementMatcher;\r\n    \r\n            HasExactlyOne(Matcher&lt;? super T&gt; elementMatcher) {\r\n                this.elementMatcher = elementMatcher;\r\n            }\r\n    \r\n            @Factory\r\n            public static &lt;T&gt; Matcher&lt;Iterable&lt;? super T&gt;&gt; itemThat(Matcher&lt;? super T&gt; itemMatcher) {\r\n                return new HasExactlyOne&lt;&gt;(itemMatcher);\r\n            }\r\n    \r\n            @Override\r\n            public void describeTo(Description description) {\r\n                description\r\n                    .appendText(&quot;a collection containing exactly one item that &quot;)\r\n                    .appendDescriptionOf(elementMatcher);\r\n            }\r\n    \r\n            @Override\r\n            protected boolean matchesSafely(Iterable&lt;? super T&gt; item, Description mismatchDescription) {\r\n                return FluentIterable.from(item).filter(o -&gt; elementMatcher.matches(o)).size() == 1;\r\n            }\r\n        }\r\n    \r\n        // Truth custom extension\r\n        static &lt;T&gt; SubjectFactory&lt;ExtendedIterableSubject&lt;T&gt;, Iterable&lt;T&gt;&gt; iterable() {\r\n            return new SubjectFactory&lt;ExtendedIterableSubject&lt;T&gt;, Iterable&lt;T&gt;&gt;() {\r\n                @Override\r\n                public ExtendedIterableSubject&lt;T&gt; getSubject(FailureStrategy fs, Iterable&lt;T&gt; target) {\r\n                    return new ExtendedIterableSubject&lt;&gt;(fs, target);\r\n                }\r\n            };\r\n        }\r\n    \r\n        static class ExtendedIterableSubject&lt;T&gt; extends IterableSubject&lt;ExtendedIterableSubject&lt;T&gt;, T, Iterable&lt;T&gt;&gt; {\r\n            ExtendedIterableSubject(FailureStrategy failureStrategy, Iterable&lt;T&gt; list) {\r\n                super(failureStrategy, list);\r\n            }\r\n    \r\n            void containsExactlyOneInstanceOf(Class&lt;?&gt; clazz) {\r\n                if (FluentIterable.from(getSubject()).filter(clazz).size() != 1) {\r\n                    fail(&quot;contains exactly one instance of&quot;, clazz.getName());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nTry running and looking over that class and use whichever way seems most natural for you.  When writing future tests, just try sticking with the built-in assertions available to you and try to make the intent of the `@Test` methods and their assertions instantly readable.  If you see that you are writing the same code multiple times, or that a test method is not so simple to read, then refactor and/or extend the language of the library you&#39;re using.  Repeat until everything is tested and all tests are easily understandable.  Enjoy!","title":"How do I assert that a List contains exactly one instance of a particular class?","body":"<p>You're trying to write a test to see if a <code>List</code> contains exactly one instance of a particular class using Hamcrest <em>and</em> Truth.  Instead, you should be writing this test with <em>either</em> Hamcrest <em>or</em> Truth.  Hamcrest and Truth are both libraries for making tests more expressive, each with their own particular usage, style, and syntax.  You can use them alongside each other in your tests if you like, but chaining their methods together as you are doing is not going to work.  (Maybe you got confused because both libraries can have assertions that start with <code>assertThat</code>?)  So for this particular test, you need to pick one of them and go with it.</p>\n\n<p>Both libraries, however, are lacking the built-in functionality of checking that a <code>List</code> has one <em>and only one</em> item that satisfies a condition.  So with either library, you have two options: either you can do a little bit of pre-processing on the list so that you can use a built-in assertion, or you can extend the language of the library to give it this functionality.</p>\n\n<p>The following is an example class that demonstrates both options for both libraries:</p>\n\n<pre><code>import com.google.common.collect.FluentIterable;\nimport com.google.common.truth.*;\nimport org.hamcrest.*;\nimport org.junit.Test;\n\nimport java.util.*;\n\nimport static com.google.common.truth.Truth.assertAbout;\nimport static com.google.common.truth.Truth.assert_;\nimport static org.hamcrest.MatcherAssert.assertThat;\nimport static org.hamcrest.Matchers.*;\n\npublic class ExactlyOneInstanceTest {\n    List&lt;Object&gt; myList = Arrays.asList(\"\", 3, 'A', new Object());\n\n    @Test\n    public void hamcrestBuiltInTestExactlyOneInstance() {\n        long theNumberOfStringsInMyList = myList.stream().filter(o -&gt; o instanceof String).count();\n        assertThat(theNumberOfStringsInMyList, equalTo(1L));\n    }\n\n    @Test\n    public void hamcrestExtendedTestExactlyOneInstance() {\n        assertThat(myList, HasExactlyOne.itemThat(is(instanceOf(String.class))));\n    }\n\n    @Test\n    public void truthBuiltInTestExactlyOneInstance() {\n        long theNumberOfStringsInMyList = myList.stream().filter(o -&gt; o instanceof String).count();\n        // can't static import Truth.assertThat because of name clash,\n        // but we can use this alternative form\n        assert_().that(theNumberOfStringsInMyList).isEqualTo(1);\n    }\n\n    @Test\n    public void truthExtendedTestExactlyOneInstance() {\n        assertAbout(iterable()).that(myList).containsExactlyOneInstanceOf(String.class);\n    }\n\n\n    // Hamcrest custom matcher\n    static class HasExactlyOne&lt;T&gt; extends TypeSafeDiagnosingMatcher&lt;Iterable&lt;? super T&gt;&gt; {\n        Matcher&lt;? super T&gt; elementMatcher;\n\n        HasExactlyOne(Matcher&lt;? super T&gt; elementMatcher) {\n            this.elementMatcher = elementMatcher;\n        }\n\n        @Factory\n        public static &lt;T&gt; Matcher&lt;Iterable&lt;? super T&gt;&gt; itemThat(Matcher&lt;? super T&gt; itemMatcher) {\n            return new HasExactlyOne&lt;&gt;(itemMatcher);\n        }\n\n        @Override\n        public void describeTo(Description description) {\n            description\n                .appendText(\"a collection containing exactly one item that \")\n                .appendDescriptionOf(elementMatcher);\n        }\n\n        @Override\n        protected boolean matchesSafely(Iterable&lt;? super T&gt; item, Description mismatchDescription) {\n            return FluentIterable.from(item).filter(o -&gt; elementMatcher.matches(o)).size() == 1;\n        }\n    }\n\n    // Truth custom extension\n    static &lt;T&gt; SubjectFactory&lt;ExtendedIterableSubject&lt;T&gt;, Iterable&lt;T&gt;&gt; iterable() {\n        return new SubjectFactory&lt;ExtendedIterableSubject&lt;T&gt;, Iterable&lt;T&gt;&gt;() {\n            @Override\n            public ExtendedIterableSubject&lt;T&gt; getSubject(FailureStrategy fs, Iterable&lt;T&gt; target) {\n                return new ExtendedIterableSubject&lt;&gt;(fs, target);\n            }\n        };\n    }\n\n    static class ExtendedIterableSubject&lt;T&gt; extends IterableSubject&lt;ExtendedIterableSubject&lt;T&gt;, T, Iterable&lt;T&gt;&gt; {\n        ExtendedIterableSubject(FailureStrategy failureStrategy, Iterable&lt;T&gt; list) {\n            super(failureStrategy, list);\n        }\n\n        void containsExactlyOneInstanceOf(Class&lt;?&gt; clazz) {\n            if (FluentIterable.from(getSubject()).filter(clazz).size() != 1) {\n                fail(\"contains exactly one instance of\", clazz.getName());\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Try running and looking over that class and use whichever way seems most natural for you.  When writing future tests, just try sticking with the built-in assertions available to you and try to make the intent of the <code>@Test</code> methods and their assertions instantly readable.  If you see that you are writing the same code multiple times, or that a test method is not so simple to read, then refactor and/or extend the language of the library you're using.  Repeat until everything is tested and all tests are easily understandable.  Enjoy!</p>\n"},{"tags":[],"owner":{"account_id":33655,"reputation":26403,"user_id":94363,"accept_rate":74,"display_name":"rds"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455464305,"creation_date":1455464305,"answer_id":35393577,"question_id":34528085,"body_markdown":"A simpler workaround is\r\n\r\n    for (Object elt : myList) {\r\n        assertThat(elt).isInstanceOf(ExpectedType.class);\r\n    }\r\n\r\n[heenenee&#39;s answer][1] is more elegant:\r\n\r\n    assertThat(iterable()).that(myList).containsInstancesOf(ExpectedType.class);\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/34542967/94363","title":"How do I assert that a List contains exactly one instance of a particular class?","body":"<p>A simpler workaround is</p>\n\n<pre><code>for (Object elt : myList) {\n    assertThat(elt).isInstanceOf(ExpectedType.class);\n}\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/34542967/94363\">heenenee's answer</a> is more elegant:</p>\n\n<pre><code>assertThat(iterable()).that(myList).containsInstancesOf(ExpectedType.class);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3128021,"reputation":19974,"user_id":2646526,"display_name":"heenenee"},"score":0,"creation_date":1498066899,"post_id":44668779,"comment_id":76349800,"body_markdown":"I respectfully disagree.  Unit tests should strive to have a \\[[single](https://softwareengineering.stackexchange.com/questions/7823/is-it-ok-to-have-multiple-asserts-in-a-single-unit-test)\\] \\[[assertion](http://xunitpatterns.com/Assertion%20Roulette.html)\\].  Furthermore, neither the assertions here or the new `Correspondence` functionality are more readable than method names provided by a custom `Subject`.  Truth&#39;s documentation itself steers users towards custom subjects in order to make [&quot;assertions read as close to natural language as possible.&quot;](https://google.github.io/truth/extension)","body":"I respectfully disagree.  Unit tests should strive to have a &#91;<a href=\"https://softwareengineering.stackexchange.com/questions/7823/is-it-ok-to-have-multiple-asserts-in-a-single-unit-test\">single</a>&#93; &#91;<a href=\"http://xunitpatterns.com/Assertion%20Roulette.html\" rel=\"nofollow noreferrer\">assertion</a>&#93;.  Furthermore, neither the assertions here or the new <code>Correspondence</code> functionality are more readable than method names provided by a custom <code>Subject</code>.  Truth&#39;s documentation itself steers users towards custom subjects in order to make <a href=\"https://google.github.io/truth/extension\" rel=\"nofollow noreferrer\">&quot;assertions read as close to natural language as possible.&quot;</a>"},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1498075841,"post_id":44668779,"comment_id":76354971,"body_markdown":"I agree with the principle you cite, however it doesn&#39;t follow from there that we should write custom assertion logic for every possible complex assertion. It&#39;s not about how many `assert` calls a single test has, but about the *conceptual* number of assertions being made. A test should assert on one *fact*, which may well take multiple `assert` calls in order to establish.","body":"I agree with the principle you cite, however it doesn&#39;t follow from there that we should write custom assertion logic for every possible complex assertion. It&#39;s not about how many <code>assert</code> calls a single test has, but about the <i>conceptual</i> number of assertions being made. A test should assert on one <i>fact</i>, which may well take multiple <code>assert</code> calls in order to establish."},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1498076188,"post_id":44668779,"comment_id":76355158,"body_markdown":"Hiding assertion complexity inside a custom subject doesn&#39;t change the actual number of assertions being done. Furthermore, any time you create a custom `Subject` implementation it&#39;s a good idea to write tests *for that subject*, otherwise you&#39;re introducing a new vector for silent test failures. As evidenced by your subject you also are likely to wind up needing to re-implement *n* different assertions (contains, does not contain, containsExactly, etc.), as different variants crop up. With Fuzzy Truth you get all that for free, and all you have to write is one small  `Correspondence` impl.","body":"Hiding assertion complexity inside a custom subject doesn&#39;t change the actual number of assertions being done. Furthermore, any time you create a custom <code>Subject</code> implementation it&#39;s a good idea to write tests <i>for that subject</i>, otherwise you&#39;re introducing a new vector for silent test failures. As evidenced by your subject you also are likely to wind up needing to re-implement <i>n</i> different assertions (contains, does not contain, containsExactly, etc.), as different variants crop up. With Fuzzy Truth you get all that for free, and all you have to write is one small  <code>Correspondence</code> impl."}],"tags":[],"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498028458,"creation_date":1498028032,"answer_id":44668779,"question_id":34528085,"body_markdown":"First, note that [`IterableSubject.containsExactly()`][1] asserts that the input &quot;*contains exactly the provided objects or fails.*&quot; This means - even if you could pass `Matcher` objects here - that we&#39;re asserting the list contains exactly one `ExpectedType` instance. Neither of the existing answers correctly enforce that invariant (instead heenenee&#39;s method asserts one instance of `ExpectedType` *and any number of other instances*, and your solution asserts that the list contains *any number* of instances of `ExpectedType`). As I read your question you do intend to assert the exactly-one property, but regardless this demonstrates a problem with the accepted solution - it can accidentally lead to assertions you didn&#39;t intend to make.\r\n\r\n---\r\n\r\nWhen I run into limitations of the Truth API like this, the first thing I always try is simply splitting the assertion up into separate steps. This often proves to be easy to write, easy to read, and generally error-proof. Understandably, people often try to look for elegant one-liners with Truth, but generally speaking **there&#39;s nothing wrong with making sequential assertions**.\r\n\r\nIt&#39;s hard to beat that strategy here:\r\n\r\n    assertThat(ls).hasSize(1);\r\n    assertThat(Iterables.getOnlyElement(ls)).isInstanceOf(String.class);\r\n\r\nIf the iterable isn&#39;t of size 1 we&#39;ll get an error telling us that (along with the contents of the iterable). If it is, we assert that the only element is an instance of `String`. Done!\r\n\r\n---\r\n\r\nFor the general case of *n* instances the code does admittedly get a little messier, but it&#39;s still reasonable. We just use `assertWithMessage()` to include additional context about the list in the `isInstanceOf()` assertions:\r\n\r\n    assertThat(ls).hasSize(n);\r\n    for (int i = 0; i &lt; ls.size(); i++) {\r\n      assertWithMessage(&quot;list: %s - index: %s&quot;, ls, i)\r\n          .that(ls.get(i)).isInstanceOf(String.class);\r\n    }\r\n\r\nThis is both more readable and much more clearly correct than implementing your own custom `Subject`.\r\n\r\n---\r\n\r\nAs of [Truth 0.29][2] you can do better using &quot;[Fuzzy Truth][3]&quot; AKA [`Correspondence`][4]. This allows you to essentially describe some transformation of the collection, and then assert on the result of that transformation. In this case we&#39;ll create an `INSTANCEOF_CORRESPONDENCE`:\r\n\r\n    private static final Correspondence&lt;Object, Class&lt;?&gt;&gt; INSTANCEOF_CORRESPONDENCE =\r\n        new Correspondence&lt;Object, Class&lt;?&gt;&gt;() {\r\n          @Override\r\n          public boolean compare(@Nullable Object actual, @Nullable Class&lt;?&gt; expected) {\r\n            return expected.isInstance(actual);\r\n          }\r\n\r\n          @Override\r\n          public String toString() {\r\n            return &quot;is instanceof&quot;;\r\n          }\r\n        };\r\n\r\nNow you *can* write a nice one-liner!\r\n\r\n    assertThat(ls).comparingElementsUsing(INSTANCEOF_CORRESPONDENCE)\r\n        .containsExactly(String.class);\r\n\r\nThe big benefit of this approach over custom subjects is it&#39;s much more extensible - if you decide to make a different assertion the `Correspondence` implementation doesn&#39;t need to change, just your assertion:\r\n\r\n    assertThat(ls).comparingElementsUsing(INSTANCEOF_CORRESPONDENCE)\r\n        .doesNotContain(Integer.class);\r\n\r\nThere are also [tentative plans][5] to support method references and lambdas with `.comparingElementsUsing()` so that you&#39;ll be able to write something like:\r\n\r\n    assertThat(ls).comparingElementsUsing((o, c) -&gt; c.isInstance(o), &quot;is instanceof&quot;)\r\n        .containsExactly(String.class);\r\n\r\n  [1]: https://google.github.io/truth/api/latest/com/google/common/truth/IterableSubject.html#containsExactly-java.lang.Object...-\r\n  [2]: https://github.com/google/truth/releases/tag/release_0_29\r\n  [3]: https://google.github.io/truth/fuzzy\r\n  [4]: http://google.github.io/truth/api/latest/com/google/common/truth/Correspondence.html\r\n  [5]: https://github.com/google/truth/issues/325","title":"How do I assert that a List contains exactly one instance of a particular class?","body":"<p>First, note that <a href=\"https://google.github.io/truth/api/latest/com/google/common/truth/IterableSubject.html#containsExactly-java.lang.Object...-\" rel=\"nofollow noreferrer\"><code>IterableSubject.containsExactly()</code></a> asserts that the input \"<em>contains exactly the provided objects or fails.</em>\" This means - even if you could pass <code>Matcher</code> objects here - that we're asserting the list contains exactly one <code>ExpectedType</code> instance. Neither of the existing answers correctly enforce that invariant (instead heenenee's method asserts one instance of <code>ExpectedType</code> <em>and any number of other instances</em>, and your solution asserts that the list contains <em>any number</em> of instances of <code>ExpectedType</code>). As I read your question you do intend to assert the exactly-one property, but regardless this demonstrates a problem with the accepted solution - it can accidentally lead to assertions you didn't intend to make.</p>\n\n<hr>\n\n<p>When I run into limitations of the Truth API like this, the first thing I always try is simply splitting the assertion up into separate steps. This often proves to be easy to write, easy to read, and generally error-proof. Understandably, people often try to look for elegant one-liners with Truth, but generally speaking <strong>there's nothing wrong with making sequential assertions</strong>.</p>\n\n<p>It's hard to beat that strategy here:</p>\n\n<pre><code>assertThat(ls).hasSize(1);\nassertThat(Iterables.getOnlyElement(ls)).isInstanceOf(String.class);\n</code></pre>\n\n<p>If the iterable isn't of size 1 we'll get an error telling us that (along with the contents of the iterable). If it is, we assert that the only element is an instance of <code>String</code>. Done!</p>\n\n<hr>\n\n<p>For the general case of <em>n</em> instances the code does admittedly get a little messier, but it's still reasonable. We just use <code>assertWithMessage()</code> to include additional context about the list in the <code>isInstanceOf()</code> assertions:</p>\n\n<pre><code>assertThat(ls).hasSize(n);\nfor (int i = 0; i &lt; ls.size(); i++) {\n  assertWithMessage(\"list: %s - index: %s\", ls, i)\n      .that(ls.get(i)).isInstanceOf(String.class);\n}\n</code></pre>\n\n<p>This is both more readable and much more clearly correct than implementing your own custom <code>Subject</code>.</p>\n\n<hr>\n\n<p>As of <a href=\"https://github.com/google/truth/releases/tag/release_0_29\" rel=\"nofollow noreferrer\">Truth 0.29</a> you can do better using \"<a href=\"https://google.github.io/truth/fuzzy\" rel=\"nofollow noreferrer\">Fuzzy Truth</a>\" AKA <a href=\"http://google.github.io/truth/api/latest/com/google/common/truth/Correspondence.html\" rel=\"nofollow noreferrer\"><code>Correspondence</code></a>. This allows you to essentially describe some transformation of the collection, and then assert on the result of that transformation. In this case we'll create an <code>INSTANCEOF_CORRESPONDENCE</code>:</p>\n\n<pre><code>private static final Correspondence&lt;Object, Class&lt;?&gt;&gt; INSTANCEOF_CORRESPONDENCE =\n    new Correspondence&lt;Object, Class&lt;?&gt;&gt;() {\n      @Override\n      public boolean compare(@Nullable Object actual, @Nullable Class&lt;?&gt; expected) {\n        return expected.isInstance(actual);\n      }\n\n      @Override\n      public String toString() {\n        return \"is instanceof\";\n      }\n    };\n</code></pre>\n\n<p>Now you <em>can</em> write a nice one-liner!</p>\n\n<pre><code>assertThat(ls).comparingElementsUsing(INSTANCEOF_CORRESPONDENCE)\n    .containsExactly(String.class);\n</code></pre>\n\n<p>The big benefit of this approach over custom subjects is it's much more extensible - if you decide to make a different assertion the <code>Correspondence</code> implementation doesn't need to change, just your assertion:</p>\n\n<pre><code>assertThat(ls).comparingElementsUsing(INSTANCEOF_CORRESPONDENCE)\n    .doesNotContain(Integer.class);\n</code></pre>\n\n<p>There are also <a href=\"https://github.com/google/truth/issues/325\" rel=\"nofollow noreferrer\">tentative plans</a> to support method references and lambdas with <code>.comparingElementsUsing()</code> so that you'll be able to write something like:</p>\n\n<pre><code>assertThat(ls).comparingElementsUsing((o, c) -&gt; c.isInstance(o), \"is instanceof\")\n    .containsExactly(String.class);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":262837,"reputation":2045,"user_id":547995,"accept_rate":85,"display_name":"user547995"},"score":0,"creation_date":1700147170,"post_id":75663200,"comment_id":136621007,"body_markdown":"OP asked about checking if only one of each instance are included in the list. Your answer checks for the same type of all instances","body":"OP asked about checking if only one of each instance are included in the list. Your answer checks for the same type of all instances"},{"owner":{"account_id":987386,"reputation":1567,"user_id":1005567,"display_name":"spekdrum"},"score":0,"creation_date":1700205648,"post_id":75663200,"comment_id":136628072,"body_markdown":"The very first question of the OP is &quot;I&#39;d like to test that a list contains instances of an object.&quot; The same way was answered by rds user and received an updvote instead o a down vote :\\","body":"The very first question of the OP is &quot;I&#39;d like to test that a list contains instances of an object.&quot; The same way was answered by rds user and received an updvote instead o a down vote :\\"}],"tags":[],"owner":{"account_id":987386,"reputation":1567,"user_id":1005567,"display_name":"spekdrum"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678198925,"creation_date":1678198925,"answer_id":75663200,"question_id":34528085,"body_markdown":"Pretty old answer, but in AssertJ you can do this:\r\n\r\n    assertThat(myList)\r\n        .allMatch(elem -&gt; elem instanceof ExpectedType);","title":"How do I assert that a List contains exactly one instance of a particular class?","body":"<p>Pretty old answer, but in AssertJ you can do this:</p>\n<pre><code>assertThat(myList)\n    .allMatch(elem -&gt; elem instanceof ExpectedType);\n</code></pre>\n"}],"owner":{"account_id":33655,"reputation":26403,"user_id":94363,"accept_rate":74,"display_name":"rds"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21284,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":34542967,"answer_count":4,"score":3,"last_activity_date":1678198925,"creation_date":1451472877,"question_id":34528085,"body_markdown":"I&#39;d like to test that a list contains instances of an object.\r\n\r\nFor instance, with a single instance:\r\n\r\n    assertThat(mylist).containsExactly(Matchers.any(ExpectedType.class));\r\n\r\nThe array returned from tested `obj` does contain exactly one object of instance `ExpectedType`.\r\nHowever my test fails with:\r\n\r\n&gt; java.lang.AssertionError: Not true that &lt;[ExpectedType@7c781c42]&gt; contains exactly &lt;[an instance of ExpectedType]&gt;. It is missing &lt;[an instance of ExpectedType]&gt; and has unexpected items &lt;[ExpectedType@7c781c42]&gt;\r\n\r\nHow can I write this test?\r\n","title":"How do I assert that a List contains exactly one instance of a particular class?","body":"<p>I'd like to test that a list contains instances of an object.</p>\n\n<p>For instance, with a single instance:</p>\n\n<pre><code>assertThat(mylist).containsExactly(Matchers.any(ExpectedType.class));\n</code></pre>\n\n<p>The array returned from tested <code>obj</code> does contain exactly one object of instance <code>ExpectedType</code>.\nHowever my test fails with:</p>\n\n<blockquote>\n  <p>java.lang.AssertionError: Not true that &lt;[ExpectedType@7c781c42]> contains exactly &lt;[an instance of ExpectedType]>. It is missing &lt;[an instance of ExpectedType]> and has unexpected items &lt;[ExpectedType@7c781c42]></p>\n</blockquote>\n\n<p>How can I write this test?</p>\n"},{"tags":["java","arrays","apache-spark"],"answers":[{"comments":[{"owner":{"account_id":5766734,"reputation":55,"user_id":4551473,"accept_rate":75,"display_name":"INeedHelp101"},"score":0,"creation_date":1678202538,"post_id":75663158,"comment_id":133485304,"body_markdown":"I didn&#39;t post a few other lines but I was trying to cast the long element into a string and a whole other mess to try to resolve the datatype mismatch error. But to think all I needed to do was a select statement. Thanks! Was struggling for a while on this.","body":"I didn&#39;t post a few other lines but I was trying to cast the long element into a string and a whole other mess to try to resolve the datatype mismatch error. But to think all I needed to do was a select statement. Thanks! Was struggling for a while on this."},{"owner":{"account_id":5766734,"reputation":55,"user_id":4551473,"accept_rate":75,"display_name":"INeedHelp101"},"score":0,"creation_date":1678225069,"post_id":75663158,"comment_id":133491458,"body_markdown":"Do you know how to modify the name of the pivot column? I want to just append a value to each one so each column looks like indicator_1, indicator_2, etc. Trying to collectasList and use a WithColumnRenamed but no luck.","body":"Do you know how to modify the name of the pivot column? I want to just append a value to each one so each column looks like indicator_1, indicator_2, etc. Trying to collectasList and use a WithColumnRenamed but no luck."},{"owner":{"account_id":5766734,"reputation":55,"user_id":4551473,"accept_rate":75,"display_name":"INeedHelp101"},"score":0,"creation_date":1678309252,"post_id":75663158,"comment_id":133509777,"body_markdown":"Actually, found the solution. Added a .withColumn(&quot;modified_number&quot;, concat(lit(&quot;indicator_&quot;), col(&quot;_number&quot;))) in between the select and groupBy statement","body":"Actually, found the solution. Added a .withColumn(&quot;modified_number&quot;, concat(lit(&quot;indicator_&quot;), col(&quot;_number&quot;))) in between the select and groupBy statement"}],"tags":[],"owner":{"account_id":12182705,"reputation":10096,"user_id":8893686,"display_name":"Oli"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678198665,"creation_date":1678198665,"answer_id":75663158,"question_id":75658224,"body_markdown":"You problem is `split(col(&quot;response.indicator&quot;), &quot;,&quot;)` expects a string column whereas `response.indicator` actually is a `struct`. To &quot;unfold&quot; a `struct` named `s`, you can use `s.*` as follows:\r\n\r\n```java\r\n// I use the names provided in the schema, not the ones from your code.\r\nFile.withColumn(&quot;indicator&quot;, explode(col(&quot;response.indicator&quot;)))\r\n    .select(&quot;ID&quot;, &quot;indicator.*&quot;)\r\n    .groupBy(&quot;ID&quot;)\r\n    .pivot(&quot;_number&quot;)\r\n    .agg(first(&quot;_value&quot;))\r\n    .show();\r\n```","title":"Explode a nested array into new columns using Java Spark","body":"<p>You problem is <code>split(col(&quot;response.indicator&quot;), &quot;,&quot;)</code> expects a string column whereas <code>response.indicator</code> actually is a <code>struct</code>. To &quot;unfold&quot; a <code>struct</code> named <code>s</code>, you can use <code>s.*</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// I use the names provided in the schema, not the ones from your code.\nFile.withColumn(&quot;indicator&quot;, explode(col(&quot;response.indicator&quot;)))\n    .select(&quot;ID&quot;, &quot;indicator.*&quot;)\n    .groupBy(&quot;ID&quot;)\n    .pivot(&quot;_number&quot;)\n    .agg(first(&quot;_value&quot;))\n    .show();\n</code></pre>\n"}],"owner":{"account_id":5766734,"reputation":55,"user_id":4551473,"accept_rate":75,"display_name":"INeedHelp101"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75663158,"answer_count":1,"score":0,"last_activity_date":1678198793,"creation_date":1678165670,"question_id":75658224,"body_markdown":"I have a nested array in which I want to take all the elements in and put them each into a new column. This is what I have so far. Tried writing 2 methods but neither worked. Current error I&#39;m getting from the uncommented code is \r\n\r\n&gt; `cannot resolve &#39;split(response.indicator, &#39;,&#39;)&#39; due to data type mismatch: argument 1 requires string type, however, &#39;response.indicator&#39; is of array&lt;struct&lt;_VALUE:string,_number:bigint&gt;&gt; type.;;`\r\n\r\n   \r\n\r\n    File.withColumn(&quot;response.indicator&quot;, explode(col(&quot;response.ind&quot;)))\r\n                .withColumn(&quot;response.indicator&quot;, split(col(&quot;response.indicator&quot;), &quot;,&quot;))\r\n                .withColumn(&quot;key&quot;, col(&quot;response.indicator&quot;).getItem(1))\r\n                .withColumn(&quot;value&quot;, col(&quot;response.indicator&quot;).getItem(0))\r\n                .groupBy(&quot;ID&quot;)\r\n                .pivot(&quot;key&quot;)\r\n                .agg(first(&quot;value&quot;))\r\n                .show(true);\r\n\r\n        /*File.select(&quot;response.indicator&quot;).collectAsList().forEach(row -&gt; {\r\n            String name = String.valueOf(row.getList(0).get(1));\r\n            String value = String.valueOf(row.getList(0).get(0));\r\n            File.withColumn(name, col(value));\r\n        });*/\r\n\r\n\r\nHere is the schema\r\n\r\n     |-- ID: integer (nullable = true)\r\n     |-- response: struct (nullable = true)\r\n     |    |-- indicator: array (nullable = true)\r\n     |    |    |-- element: struct (containsNull = true)\r\n     |    |    |    |-- _VALUE: string (nullable = true)\r\n     |    |    |    |-- _number: long (nullable = true)\r\n\r\nWhat my data looks like\r\n\r\n    +--------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\r\n    |ID                  |response     \r\n    +--------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\r\n    | 1                  |[WrappedArray([N,7], [N,8], [N,9], [N,19], [N,20], [N,22], [N,12], [N,1], [N,2], [N,3], [N,4], [N,5], [N,6], [N,10], [N,11], [N,13], [N,14], [N,15], [N,16], [N,17], [N,18], [N,21], [N,25], [N,26])]  |  \r\n    | 2                  |[WrappedArray([Y,1], [N,8], [N,9], [N,19], [N,22], [Y,22], [N,20], [Y,7], [Y,23], [N,3], [Y,4], [N,11], [N,6], [Y,27], [N,5], [N,13], [N,14], [N,15], [Y,16], [N,17], [Y,18], [N,21], [N,25], [N,26])]\t|\r\n    +--------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\r\n\r\nWhat I want it to look like\r\n\r\n    +--------------------+-----------------------------+\r\n    |ID                  | 1 | 2    | 3 |  etc \r\n    +--------------------+-----------------------------+\r\n    | 1                  | N | N    | N | etc \r\n    | 2                  | Y | NULL | N |  etc\r\n    +--------------------+-----------------------------+                                                                                                                                                                            ","title":"Explode a nested array into new columns using Java Spark","body":"<p>I have a nested array in which I want to take all the elements in and put them each into a new column. This is what I have so far. Tried writing 2 methods but neither worked. Current error I'm getting from the uncommented code is</p>\n<blockquote>\n<p><code>cannot resolve 'split(response.indicator, ',')' due to data type mismatch: argument 1 requires string type, however, 'response.indicator' is of array&lt;struct&lt;_VALUE:string,_number:bigint&gt;&gt; type.;;</code></p>\n</blockquote>\n<pre><code>File.withColumn(&quot;response.indicator&quot;, explode(col(&quot;response.ind&quot;)))\n            .withColumn(&quot;response.indicator&quot;, split(col(&quot;response.indicator&quot;), &quot;,&quot;))\n            .withColumn(&quot;key&quot;, col(&quot;response.indicator&quot;).getItem(1))\n            .withColumn(&quot;value&quot;, col(&quot;response.indicator&quot;).getItem(0))\n            .groupBy(&quot;ID&quot;)\n            .pivot(&quot;key&quot;)\n            .agg(first(&quot;value&quot;))\n            .show(true);\n\n    /*File.select(&quot;response.indicator&quot;).collectAsList().forEach(row -&gt; {\n        String name = String.valueOf(row.getList(0).get(1));\n        String value = String.valueOf(row.getList(0).get(0));\n        File.withColumn(name, col(value));\n    });*/\n</code></pre>\n<p>Here is the schema</p>\n<pre><code> |-- ID: integer (nullable = true)\n |-- response: struct (nullable = true)\n |    |-- indicator: array (nullable = true)\n |    |    |-- element: struct (containsNull = true)\n |    |    |    |-- _VALUE: string (nullable = true)\n |    |    |    |-- _number: long (nullable = true)\n</code></pre>\n<p>What my data looks like</p>\n<pre><code>+--------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n|ID                  |response     \n+--------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| 1                  |[WrappedArray([N,7], [N,8], [N,9], [N,19], [N,20], [N,22], [N,12], [N,1], [N,2], [N,3], [N,4], [N,5], [N,6], [N,10], [N,11], [N,13], [N,14], [N,15], [N,16], [N,17], [N,18], [N,21], [N,25], [N,26])]  |  \n| 2                  |[WrappedArray([Y,1], [N,8], [N,9], [N,19], [N,22], [Y,22], [N,20], [Y,7], [Y,23], [N,3], [Y,4], [N,11], [N,6], [Y,27], [N,5], [N,13], [N,14], [N,15], [Y,16], [N,17], [Y,18], [N,21], [N,25], [N,26])]    |\n+--------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n</code></pre>\n<p>What I want it to look like</p>\n<pre><code>+--------------------+-----------------------------+\n|ID                  | 1 | 2    | 3 |  etc \n+--------------------+-----------------------------+\n| 1                  | N | N    | N | etc \n| 2                  | Y | NULL | N |  etc\n+--------------------+-----------------------------+                                                                                                                                                                            \n</code></pre>\n"},{"tags":["java","shell","sed","vagrant"],"comments":[{"owner":{"account_id":4663062,"reputation":85121,"user_id":3776858,"display_name":"Cyrus"},"score":0,"creation_date":1516465158,"post_id":48356434,"comment_id":83703344,"body_markdown":"This might help: [How to debug a bash script?](http://unix.stackexchange.com/q/155551/74329)","body":"This might help: <a href=\"http://unix.stackexchange.com/q/155551/74329\">How to debug a bash script?</a>"},{"owner":{"account_id":4054898,"reputation":2525,"user_id":3333246,"accept_rate":80,"display_name":"Greco Jonathan"},"score":0,"creation_date":1516475955,"post_id":48356434,"comment_id":83706998,"body_markdown":"Hum well thanks but I don&#39;t see how,, especially in vagrant context, the flow of informations is really massive","body":"Hum well thanks but I don&#39;t see how,, especially in vagrant context, the flow of informations is really massive"},{"owner":{"account_id":3262040,"reputation":686,"user_id":2747430,"display_name":"guicey"},"score":0,"creation_date":1516727120,"post_id":48356434,"comment_id":83803267,"body_markdown":"Hi Hooli, do you explicitly want to use the webupd8team version of java-8? Otherwise I can write two alternatives for installing java-8 as answer below. The alternatives are to install the openjdk-8 version with apt-get or mount a folder containing the rpm package downloaded from oracle website and install this silently.","body":"Hi Hooli, do you explicitly want to use the webupd8team version of java-8? Otherwise I can write two alternatives for installing java-8 as answer below. The alternatives are to install the openjdk-8 version with apt-get or mount a folder containing the rpm package downloaded from oracle website and install this silently."},{"owner":{"account_id":4054898,"reputation":2525,"user_id":3333246,"accept_rate":80,"display_name":"Greco Jonathan"},"score":0,"creation_date":1516731960,"post_id":48356434,"comment_id":83806019,"body_markdown":"Hi I don&#39;t specifically want the webupd8team , I just want  a functionnal version of JDK and JRE version without manual  commands.If you  make java work with it you&#39;ll earn the points :)","body":"Hi I don&#39;t specifically want the webupd8team , I just want  a functionnal version of JDK and JRE version without manual  commands.If you  make java work with it you&#39;ll earn the points :)"},{"owner":{"account_id":7863605,"reputation":637,"user_id":5943150,"display_name":"Guy"},"score":0,"creation_date":1516846439,"post_id":48356434,"comment_id":83860712,"body_markdown":"Is there any reason that openjdk isnt suitable. Does the oracle version give something extra?","body":"Is there any reason that openjdk isnt suitable. Does the oracle version give something extra?"}],"answers":[{"comments":[{"owner":{"account_id":4054898,"reputation":2525,"user_id":3333246,"accept_rate":80,"display_name":"Greco Jonathan"},"score":0,"creation_date":1516812274,"post_id":48427287,"comment_id":83845405,"body_markdown":"I will test, but far from i see you&#39;re using ubuntu which is very different in some ways for installing Java than Debian, wich is my first problem ;)","body":"I will test, but far from i see you&#39;re using ubuntu which is very different in some ways for installing Java than Debian, wich is my first problem ;)"},{"owner":{"account_id":4496958,"reputation":52167,"user_id":4296747,"display_name":"Frederic Henri"},"score":0,"creation_date":1516812393,"post_id":48427287,"comment_id":83845482,"body_markdown":"oh right, I&#39;ll need to review, I thought you were using the scotch box which is ubuntu based; let me know the outcome of your test, I&#39;ll check from my side","body":"oh right, I&#39;ll need to review, I thought you were using the scotch box which is ubuntu based; let me know the outcome of your test, I&#39;ll check from my side"},{"owner":{"account_id":4054898,"reputation":2525,"user_id":3333246,"accept_rate":80,"display_name":"Greco Jonathan"},"score":0,"creation_date":1516812425,"post_id":48427287,"comment_id":83845508,"body_markdown":"If you can test to install this debian box :  &quot;bento/debian-8.7&quot;. Or best : use my actual vagrant file (link in the question)","body":"If you can test to install this debian box :  &quot;bento/debian-8.7&quot;. Or best : use my actual vagrant file (link in the question)"},{"owner":{"account_id":4054898,"reputation":2525,"user_id":3333246,"accept_rate":80,"display_name":"Greco Jonathan"},"score":0,"creation_date":1516826173,"post_id":48427287,"comment_id":83853304,"body_markdown":"Tested, not working :  default: E\n    default: :\n    default: Unable to locate package oracle-java8-installer","body":"Tested, not working :  default: E     default: :     default: Unable to locate package oracle-java8-installer"},{"owner":{"account_id":4496958,"reputation":52167,"user_id":4296747,"display_name":"Frederic Henri"},"score":0,"creation_date":1516875888,"post_id":48427287,"comment_id":83872265,"body_markdown":"updated script for Debian - tested with `bento/debian-8.7` vagrant box","body":"updated script for Debian - tested with <code>bento&#47;debian-8.7</code> vagrant box"},{"owner":{"account_id":4054898,"reputation":2525,"user_id":3333246,"accept_rate":80,"display_name":"Greco Jonathan"},"score":0,"creation_date":1516878249,"post_id":48427287,"comment_id":83873759,"body_markdown":"It seems you have duplicated some code, is that wanted ? Which one to keep ?","body":"It seems you have duplicated some code, is that wanted ? Which one to keep ?"},{"owner":{"account_id":4496958,"reputation":52167,"user_id":4296747,"display_name":"Frederic Henri"},"score":0,"creation_date":1516882649,"post_id":48427287,"comment_id":83876583,"body_markdown":"oops sorry ! this is some copy/paster issue, clean the script","body":"oops sorry ! this is some copy/paster issue, clean the script"},{"owner":{"account_id":4054898,"reputation":2525,"user_id":3333246,"accept_rate":80,"display_name":"Greco Jonathan"},"score":0,"creation_date":1516906005,"post_id":48427287,"comment_id":83892451,"body_markdown":"It worked. But I don&#39;t understand why. Can you explain what the difference there is between my solution and yours ? We both use ppa:webupd8team/java. And if you can explain this part : --recv-keys EEA14886","body":"It worked. But I don&#39;t understand why. Can you explain what the difference there is between my solution and yours ? We both use ppa:webupd8team/java. And if you can explain this part : --recv-keys EEA14886"},{"owner":{"account_id":7605670,"reputation":1951,"user_id":5768523,"accept_rate":20,"display_name":"Ray Kim"},"score":0,"creation_date":1563309499,"post_id":48427287,"comment_id":100655269,"body_markdown":"`    default: Failed to fetch http://http.debian.net/debian/dists/jessie-backports/main/binary-amd64/Packages  404  Not Found [IP: 151.101.212.204 80]\n`","body":"`    default: Failed to fetch <a href=\"http://http.debian.net/debian/dists/jessie-backports/main/binary-amd64/Packages\" rel=\"nofollow noreferrer\">http.debian.net/debian/dists/jessie-backports/main/binary-am&zwnj;&#8203;d64/&hellip;</a>  404  Not Found [IP: 151.101.212.204 80] `"},{"owner":{"account_id":7605670,"reputation":1951,"user_id":5768523,"accept_rate":20,"display_name":"Ray Kim"},"score":0,"creation_date":1563309507,"post_id":48427287,"comment_id":100655272,"body_markdown":"`    default: Duplicate sources.list entry http://ppa.launchpad.net/webupd8team/java/ubuntu/ trusty/main amd64 Packages (/var/lib/apt/lists/ppa.launchpad.net_webupd8team_java_ubuntu_dists_trusty_main_binary-amd64_Packages)\n`","body":"`    default: Duplicate sources.list entry <a href=\"http://ppa.launchpad.net/webupd8team/java/ubuntu/\" rel=\"nofollow noreferrer\">ppa.launchpad.net/webupd8team/java/ubuntu</a> trusty/main amd64 Packages (/var/lib/apt/lists/ppa.launchpad.net_webupd8team_java_ubunt&zwnj;&#8203;u_dists_trusty_main_&zwnj;&#8203;binary-amd64_Package&zwnj;&#8203;s) `"},{"owner":{"account_id":7605670,"reputation":1951,"user_id":5768523,"accept_rate":20,"display_name":"Ray Kim"},"score":0,"creation_date":1563309515,"post_id":48427287,"comment_id":100655280,"body_markdown":"`    default: Unable to locate package oracle-java8-installer\n`","body":"`    default: Unable to locate package oracle-java8-installer `"},{"owner":{"account_id":7605670,"reputation":1951,"user_id":5768523,"accept_rate":20,"display_name":"Ray Kim"},"score":0,"creation_date":1563309529,"post_id":48427287,"comment_id":100655283,"body_markdown":"`    default: Unable to locate package oracle-java8-set-default`","body":"`    default: Unable to locate package oracle-java8-set-default`"},{"owner":{"account_id":4496958,"reputation":52167,"user_id":4296747,"display_name":"Frederic Henri"},"score":0,"creation_date":1563349820,"post_id":48427287,"comment_id":100665850,"body_markdown":"@RayKim since Debian Jessie has been released Saturday, 23rd June 2018 you dont need to use `backports` anymore","body":"@RayKim since Debian Jessie has been released Saturday, 23rd June 2018 you dont need to use <code>backports</code> anymore"}],"tags":[],"owner":{"account_id":4496958,"reputation":52167,"user_id":4296747,"display_name":"Frederic Henri"},"comment_count":13,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1516882601,"creation_date":1516811362,"answer_id":48427287,"question_id":48356434,"body_markdown":"The following snippet fixes the silent install of java from webupd8team repo for Debian distribution\r\n\r\n    sudo apt-get -y install software-properties-common\r\n    sudo add-apt-repository -y ppa:webupd8team/java\r\n    sudo bash -c &quot;echo deb http://http.debian.net/debian jessie-backports main &gt;&gt; /etc/apt/sources.list&quot;\r\n    sudo bash -c &quot;echo deb http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main &gt;&gt; /etc/apt/sources.list.d/webupd8team-java.list&quot;\r\n    sudo bash -c &quot;echo deb-src http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main &gt;&gt; /etc/apt/sources.list.d/webupd8team-java.list&quot;\r\n    sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys EEA14886\r\n    sudo apt-get update\r\n    sudo apt-get -y upgrade\r\n    \r\n    echo debconf shared/accepted-oracle-license-v1-1 select true | sudo debconf-set-selections\r\n    echo debconf shared/accepted-oracle-license-v1-1 seen true | sudo debconf-set-selectionssudo \r\n    \r\n    sudo apt-get -y install oracle-java8-installer oracle-java8-set-default\r\n    \r\n\r\nAs of today, it installs the following\r\n\r\n    vagrant@debian-8:~$ java -version\r\n    java version &quot;1.8.0_161&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_161-b12)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.161-b12, mixed mode)","title":"Install java 8 (jdk 1.8) using &quot;vagrant up&quot; not working on debian","body":"<p>The following snippet fixes the silent install of java from webupd8team repo for Debian distribution</p>\n\n<pre><code>sudo apt-get -y install software-properties-common\nsudo add-apt-repository -y ppa:webupd8team/java\nsudo bash -c \"echo deb http://http.debian.net/debian jessie-backports main &gt;&gt; /etc/apt/sources.list\"\nsudo bash -c \"echo deb http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main &gt;&gt; /etc/apt/sources.list.d/webupd8team-java.list\"\nsudo bash -c \"echo deb-src http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main &gt;&gt; /etc/apt/sources.list.d/webupd8team-java.list\"\nsudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys EEA14886\nsudo apt-get update\nsudo apt-get -y upgrade\n\necho debconf shared/accepted-oracle-license-v1-1 select true | sudo debconf-set-selections\necho debconf shared/accepted-oracle-license-v1-1 seen true | sudo debconf-set-selectionssudo \n\nsudo apt-get -y install oracle-java8-installer oracle-java8-set-default\n</code></pre>\n\n<p>As of today, it installs the following</p>\n\n<pre><code>vagrant@debian-8:~$ java -version\njava version \"1.8.0_161\"\nJava(TM) SE Runtime Environment (build 1.8.0_161-b12)\nJava HotSpot(TM) 64-Bit Server VM (build 25.161-b12, mixed mode)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7863605,"reputation":637,"user_id":5943150,"display_name":"Guy"},"score":0,"creation_date":1516827646,"post_id":48427959,"comment_id":83854072,"body_markdown":"@Hooli Ive just noticed its got using vi there. Id actually used sed at that point, but arent on a proper computer now. Any error message?","body":"@Hooli Ive just noticed its got using vi there. Id actually used sed at that point, but arent on a proper computer now. Any error message?"},{"owner":{"account_id":4054898,"reputation":2525,"user_id":3333246,"accept_rate":80,"display_name":"Greco Jonathan"},"score":0,"creation_date":1516830670,"post_id":48427959,"comment_id":83855583,"body_markdown":"default: E486: Pattern not found: stretch\\([^ ]*\\) main$","body":"default: E486: Pattern not found: stretch&#40;[^ ]*&#41; main$"},{"owner":{"account_id":7863605,"reputation":637,"user_id":5943150,"display_name":"Guy"},"score":0,"creation_date":1516838271,"post_id":48427959,"comment_id":83858555,"body_markdown":"@Hooli sorry about that, replaced with sed now. Youll have to check the expect command before running the whole thing automatically though, which would replace make-jpg in vagrantfile","body":"@Hooli sorry about that, replaced with sed now. Youll have to check the expect command before running the whole thing automatically though, which would replace make-jpg in vagrantfile"},{"owner":{"account_id":12260786,"reputation":215,"user_id":8948544,"display_name":"Karthik Sankaran"},"score":0,"creation_date":1661532778,"post_id":48427959,"comment_id":129802772,"body_markdown":"Does this still work? Running ```sudo apt-get install openjdk-8-jdk``` gives me the error ```E: Unable to locate package openjdk-8-jdk```","body":"Does this still work? Running <code>sudo apt-get install openjdk-8-jdk</code> gives me the error <code>E: Unable to locate package openjdk-8-jdk</code>"}],"tags":[],"owner":{"account_id":7863605,"reputation":637,"user_id":5943150,"display_name":"Guy"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516838142,"creation_date":1516813467,"answer_id":48427959,"question_id":48356434,"body_markdown":"I&#39;m putting this in just in case anyone is fine with Debians basic version, but has missed it. I think it should already be installed on anything but the most bare-bones systems.\r\n\r\nTo get `openJDK` working, which is the version offered in Debians standard repos, you would just need to use\r\n\r\n    apt-get install -y openjdk-8-jdk\r\n\r\nThere are other debug and docs packages as well.\r\n\r\nDebian also provide a package in the `contrib` repos called `java-package` which converts the source tarball from the Oracle site (you have to get it yourself to OK the terms and conditions), and creates a deb from it. Unfortunately there doesn&#39;t seem to be a way to directly presume yes to the questions asked, so it would need an `expect` script or something. \r\n\r\n    config.vm.provision &quot;shell&quot;, inline: &lt;&lt;-SHELL\r\n    \t# add contrib repos into source files.\r\n        mv /etc/apt/sources.list /etc/apt/sources.bk\r\n        sed -r s/stretch([^ ]*) main$/&amp; contrib/ /etc/apt/sources.bk | sudo tee /etc/apt/sources.list\r\n        # vi -c &#39;:%s/stretch\\([^ ]*\\) main$/&amp; contrib/g&#39; /etc/apt/sources.list -c &#39;wq&#39;\r\n    \tapt-get update\r\n    \tapt-get install -y java-package java-common expect\r\n    \t# some `expect` needed magic here\r\n        sudo -u vagrant fakeroot make-jpkg /vagrant/jdk-8*\r\n    \tdpkg -i oracle-java8*\r\n    SHELL\r\n\r\nIn terms of the interactions I get using `make-jpkg`, this script works (from the command line)\r\n\r\n    expect -c &#39;\r\n    set timeout -1\r\n    spawn fakeroot make-jpkg /vagrant/jdk-8u162-linux-x64.tar.gz\r\n    \r\n    expect &quot;Is this correct \\\\\\[Y/n\\\\\\]: $&quot; { send &quot;Y\\r&quot; }\r\n    expect &quot;Press \\\\\\[Return\\\\\\] to continue: &quot;  { send &quot;\\r&quot; }\r\n    expect &quot;*Press \\\\\\[Return\\\\\\] to continue or Ctrl-C to abort.&quot;      { send &quot;\\r&quot; }\r\n    expect eof { exit 0 }\r\n    &#39;\r\n\r\nbut could probably be done other ways.\r\n\r\nSo almost an answer, but may get you a bit closer.\r\n","title":"Install java 8 (jdk 1.8) using &quot;vagrant up&quot; not working on debian","body":"<p>I'm putting this in just in case anyone is fine with Debians basic version, but has missed it. I think it should already be installed on anything but the most bare-bones systems.</p>\n\n<p>To get <code>openJDK</code> working, which is the version offered in Debians standard repos, you would just need to use</p>\n\n<pre><code>apt-get install -y openjdk-8-jdk\n</code></pre>\n\n<p>There are other debug and docs packages as well.</p>\n\n<p>Debian also provide a package in the <code>contrib</code> repos called <code>java-package</code> which converts the source tarball from the Oracle site (you have to get it yourself to OK the terms and conditions), and creates a deb from it. Unfortunately there doesn't seem to be a way to directly presume yes to the questions asked, so it would need an <code>expect</code> script or something. </p>\n\n<pre><code>config.vm.provision \"shell\", inline: &lt;&lt;-SHELL\n    # add contrib repos into source files.\n    mv /etc/apt/sources.list /etc/apt/sources.bk\n    sed -r s/stretch([^ ]*) main$/&amp; contrib/ /etc/apt/sources.bk | sudo tee /etc/apt/sources.list\n    # vi -c ':%s/stretch\\([^ ]*\\) main$/&amp; contrib/g' /etc/apt/sources.list -c 'wq'\n    apt-get update\n    apt-get install -y java-package java-common expect\n    # some `expect` needed magic here\n    sudo -u vagrant fakeroot make-jpkg /vagrant/jdk-8*\n    dpkg -i oracle-java8*\nSHELL\n</code></pre>\n\n<p>In terms of the interactions I get using <code>make-jpkg</code>, this script works (from the command line)</p>\n\n<pre><code>expect -c '\nset timeout -1\nspawn fakeroot make-jpkg /vagrant/jdk-8u162-linux-x64.tar.gz\n\nexpect \"Is this correct \\\\\\[Y/n\\\\\\]: $\" { send \"Y\\r\" }\nexpect \"Press \\\\\\[Return\\\\\\] to continue: \"  { send \"\\r\" }\nexpect \"*Press \\\\\\[Return\\\\\\] to continue or Ctrl-C to abort.\"      { send \"\\r\" }\nexpect eof { exit 0 }\n'\n</code></pre>\n\n<p>but could probably be done other ways.</p>\n\n<p>So almost an answer, but may get you a bit closer.</p>\n"},{"tags":[],"owner":{"account_id":3262040,"reputation":686,"user_id":2747430,"display_name":"guicey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517425461,"creation_date":1517424661,"answer_id":48549442,"question_id":48356434,"body_markdown":"Sorry for my late answer. Another option is to mount a drive and install the oracle rpm package silently.\r\n\r\n1. Create directory and put there your Vagrantfile. This the root of your project. (./)\r\n\r\n**Vagrantfile**\r\n\r\n    # All Vagrant configuration is done below. The &quot;2&quot; in Vagrant.configure\r\n    # configures the configuration version (we support older styles for\r\n    # backwards compatibility). Please don&#39;t change it unless you know what\r\n    # you&#39;re doing.\r\n    Vagrant.configure(&quot;2&quot;) do |config|\r\n    \r\n      # The most common configuration options are documented and commented below.\r\n      # For a complete reference, please see the online documentation at\r\n      # https://docs.vagrantup.com.\r\n      # Every Vagrant development environment requires a box. You can search for\r\n      # boxes at https://atlas.hashicorp.com/search.\r\n      config.vm.box = &quot;bento/centos-7.4&quot;\r\n      config.vm.boot_timeout = 240\r\n\r\n      # Provider-specific configuration so you can fine-tune various\r\n      # backing providers for Vagrant. These expose provider-specific options.\r\n      # View the documentation for the provider you are using for more\r\n      # information on available options.\r\n      config.vm.provider &quot;virtualbox&quot; do |vb|\r\n        \r\n        # Enable the Host I/O cache for more performance\r\n        vb.customize [\r\n                     &quot;storagectl&quot;, :id,\r\n                     &quot;--name&quot;, &quot;SATA Controller&quot;,\r\n                     &quot;--hostiocache&quot;, &quot;on&quot;\r\n                     ]\r\n        vb.auto_nat_dns_proxy = false\r\n        vb.customize [&quot;modifyvm&quot;, :id, &quot;--natdnshostresolver1&quot;, &quot;off&quot;]\r\n        vb.customize [&quot;modifyvm&quot;, :id, &quot;--natdnsproxy1&quot;, &quot;off&quot;]\r\n        vb.customize [&quot;modifyvm&quot;, :id, &quot;--nictype1&quot;, &quot;virtio&quot;]\r\n        vb.customize [&quot;modifyvm&quot;, :id, &quot;--nictype2&quot;, &quot;virtio&quot;\r\n    \r\n        vb.customize [&quot;modifyvm&quot;, :id, &quot;--memory&quot;, 4096]\r\n        vb.customize [&quot;modifyvm&quot;, :id, &quot;--hwvirtex&quot;, &quot;on&quot;]\r\n        vb.cpus = 4\r\n      end\r\n\r\n      # Synced folders are configured within your Vagrantfile using the config.vm.synced_folder method.\r\n      # Vagrant shares by default the root directory of (./) with guest on /vagrant\r\n      config.vm.synced_folder &quot;.&quot;, &quot;/vagrant&quot;, disabled: true\r\n\r\n      # Synced folder is set as read-only for guest machine. You can configure the files on the host machine.\r\n      # For more mount options check: http://manpages.ubuntu.com/manpages/precise/man8/mount.vboxsf.8.html\r\n      config.vm.synced_folder &quot;./installfiles&quot;, &quot;/installfiles&quot;,\r\n                               owner: &quot;vagrant&quot;, group: &quot;vagrant&quot;, mount_options: [&quot;ro&quot;]\r\n\r\n      # Bootstrap shell scripts.\r\n      config.vm.provision &quot;shell&quot;, path: &quot;./bootstrap/setup.sh&quot;\r\n\r\n      config.vm.post_up_message = &quot;Finsihed provisioning!\\n&quot; \\\r\n                                  &quot;Type \\&quot;vagrant ssh\\&quot; to get started&quot;\r\n    end\r\n\r\n2. Create another directory named bootstrap from the root of your project. Create an empty file called setup.sh, put the content below in the setup.sh file. The file path will be ./bootstrap/setup.sh\r\n\r\n**setup.sh**\r\n\r\n    #!/usr/bin/env bash\r\n    echo &quot;installing Java 8 64 bit&quot;\r\n    sudo rpm -i /installfiles/java8/jdk-8u144-linux-x64.rpm\r\n    unzip /installfiles/java8/jce_policy-8.zip -d /tmp\r\n    sudo cp -f /tmp/UnlimitedJCEPolicyJDK8/* $JAVA_HOME/lib/security/\r\n\r\n3. Go to the oracle website download the correct 32 or 64 bit rpm linux package. Versions available on the oracle website might change. For this example i downloaded the jdk-8u144-linux-x64.rpm package. I also downloaded the unlimited encryption strength policy from the oracle website, name of the file is: jce_policy-8.zip.\r\n\r\n4. Create two directories from the root of your project named installfiles/java8. Place the downloaded files in there. The files path will be: ./installfiles/java8/jdk-8u144-linux-x64.rpm and ./installfiles/java8/jce_policy-8.zip\r\n\r\n5. Run the command *vagrant up*. On your host machine the directory ./installfiles will be synchronised with your virtualbox guest machine on the path /installfiles. During the provisioning state of vagrant java-8 will be installed automatically. Keep in mind that the rpm package manager comes out of the box with Red Hat distros. But it is also possible to install rpm packages on debian distros.","title":"Install java 8 (jdk 1.8) using &quot;vagrant up&quot; not working on debian","body":"<p>Sorry for my late answer. Another option is to mount a drive and install the oracle rpm package silently.</p>\n\n<ol>\n<li>Create directory and put there your Vagrantfile. This the root of your project. (./)</li>\n</ol>\n\n<p><strong>Vagrantfile</strong></p>\n\n<pre><code># All Vagrant configuration is done below. The \"2\" in Vagrant.configure\n# configures the configuration version (we support older styles for\n# backwards compatibility). Please don't change it unless you know what\n# you're doing.\nVagrant.configure(\"2\") do |config|\n\n  # The most common configuration options are documented and commented below.\n  # For a complete reference, please see the online documentation at\n  # https://docs.vagrantup.com.\n  # Every Vagrant development environment requires a box. You can search for\n  # boxes at https://atlas.hashicorp.com/search.\n  config.vm.box = \"bento/centos-7.4\"\n  config.vm.boot_timeout = 240\n\n  # Provider-specific configuration so you can fine-tune various\n  # backing providers for Vagrant. These expose provider-specific options.\n  # View the documentation for the provider you are using for more\n  # information on available options.\n  config.vm.provider \"virtualbox\" do |vb|\n\n    # Enable the Host I/O cache for more performance\n    vb.customize [\n                 \"storagectl\", :id,\n                 \"--name\", \"SATA Controller\",\n                 \"--hostiocache\", \"on\"\n                 ]\n    vb.auto_nat_dns_proxy = false\n    vb.customize [\"modifyvm\", :id, \"--natdnshostresolver1\", \"off\"]\n    vb.customize [\"modifyvm\", :id, \"--natdnsproxy1\", \"off\"]\n    vb.customize [\"modifyvm\", :id, \"--nictype1\", \"virtio\"]\n    vb.customize [\"modifyvm\", :id, \"--nictype2\", \"virtio\"\n\n    vb.customize [\"modifyvm\", :id, \"--memory\", 4096]\n    vb.customize [\"modifyvm\", :id, \"--hwvirtex\", \"on\"]\n    vb.cpus = 4\n  end\n\n  # Synced folders are configured within your Vagrantfile using the config.vm.synced_folder method.\n  # Vagrant shares by default the root directory of (./) with guest on /vagrant\n  config.vm.synced_folder \".\", \"/vagrant\", disabled: true\n\n  # Synced folder is set as read-only for guest machine. You can configure the files on the host machine.\n  # For more mount options check: http://manpages.ubuntu.com/manpages/precise/man8/mount.vboxsf.8.html\n  config.vm.synced_folder \"./installfiles\", \"/installfiles\",\n                           owner: \"vagrant\", group: \"vagrant\", mount_options: [\"ro\"]\n\n  # Bootstrap shell scripts.\n  config.vm.provision \"shell\", path: \"./bootstrap/setup.sh\"\n\n  config.vm.post_up_message = \"Finsihed provisioning!\\n\" \\\n                              \"Type \\\"vagrant ssh\\\" to get started\"\nend\n</code></pre>\n\n<ol start=\"2\">\n<li>Create another directory named bootstrap from the root of your project. Create an empty file called setup.sh, put the content below in the setup.sh file. The file path will be ./bootstrap/setup.sh</li>\n</ol>\n\n<p><strong>setup.sh</strong></p>\n\n<pre><code>#!/usr/bin/env bash\necho \"installing Java 8 64 bit\"\nsudo rpm -i /installfiles/java8/jdk-8u144-linux-x64.rpm\nunzip /installfiles/java8/jce_policy-8.zip -d /tmp\nsudo cp -f /tmp/UnlimitedJCEPolicyJDK8/* $JAVA_HOME/lib/security/\n</code></pre>\n\n<ol start=\"3\">\n<li><p>Go to the oracle website download the correct 32 or 64 bit rpm linux package. Versions available on the oracle website might change. For this example i downloaded the jdk-8u144-linux-x64.rpm package. I also downloaded the unlimited encryption strength policy from the oracle website, name of the file is: jce_policy-8.zip.</p></li>\n<li><p>Create two directories from the root of your project named installfiles/java8. Place the downloaded files in there. The files path will be: ./installfiles/java8/jdk-8u144-linux-x64.rpm and ./installfiles/java8/jce_policy-8.zip</p></li>\n<li><p>Run the command <em>vagrant up</em>. On your host machine the directory ./installfiles will be synchronised with your virtualbox guest machine on the path /installfiles. During the provisioning state of vagrant java-8 will be installed automatically. Keep in mind that the rpm package manager comes out of the box with Red Hat distros. But it is also possible to install rpm packages on debian distros.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":27213448,"reputation":11,"user_id":20743875,"display_name":"Lady Bug"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678198444,"creation_date":1678198444,"answer_id":75663107,"question_id":48356434,"body_markdown":"Debian 9 &quot;Stretch&quot; has java 8 (jdk 1.8) as default jre. If you do not care about the debian version the following might work for you. I configured `dabian/stretch64` as box. For me the -y flag worked to say yes to all questions. I have the following Vagrantfile:\r\n\r\n```\r\n# -*- mode: ruby -*-\r\n# vi: set ft=ruby :\r\n\r\nVagrant.configure(&quot;2&quot;) do |config|\r\n  config.vm.box = &quot;debian/stretch64&quot;\r\n  config.vm.synced_folder &quot;.&quot;, &quot;/vagrant&quot;, disabled: true\r\n\r\n  config.vm.provision &quot;shell&quot; do |s|\r\n    s.inline = &lt;&lt;-SHELL\r\n      sudo apt update\r\n      sudo apt install default-jre -y\r\n    SHELL\r\n  end\r\n```","title":"Install java 8 (jdk 1.8) using &quot;vagrant up&quot; not working on debian","body":"<p>Debian 9 &quot;Stretch&quot; has java 8 (jdk 1.8) as default jre. If you do not care about the debian version the following might work for you. I configured <code>dabian/stretch64</code> as box. For me the -y flag worked to say yes to all questions. I have the following Vagrantfile:</p>\n<pre><code># -*- mode: ruby -*-\n# vi: set ft=ruby :\n\nVagrant.configure(&quot;2&quot;) do |config|\n  config.vm.box = &quot;debian/stretch64&quot;\n  config.vm.synced_folder &quot;.&quot;, &quot;/vagrant&quot;, disabled: true\n\n  config.vm.provision &quot;shell&quot; do |s|\n    s.inline = &lt;&lt;-SHELL\n      sudo apt update\n      sudo apt install default-jre -y\n    SHELL\n  end\n</code></pre>\n"}],"owner":{"account_id":4054898,"reputation":2525,"user_id":3333246,"accept_rate":80,"display_name":"Greco Jonathan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4717,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48427287,"answer_count":4,"score":2,"last_activity_date":1678198444,"creation_date":1516453162,"question_id":48356434,"body_markdown":"When I am Running My Vagrantfile with its shell, I&#39;m struggle with Java 8 install with this exact same error :\r\n\r\n[StackOverflow - jdk-8-is-not-installed-error-404-not-found][1]\r\n\r\nIn order to fix that error, I added those lines :\r\n\r\n    sudo sed -i &#39;s|JAVA_VERSION=8u151|JAVA_VERSION=8u162|&#39; /var/lib/dpkg/info/oracle-java8-installer.*\r\n    sudo sed -i &#39;s|PARTNER_URL=http://download.oracle.com/otn-pub/java/jdk/8u151-b12/e758a0de34e24606bca991d704f6dcbf/|PARTNER_URL=http://download.oracle.com/otn-pub/java/jdk/8u162-b12/0da788060d494f5095bf8624735fa2f1/|&#39; /var/lib/dpkg/info/oracle-java8-installer.*\r\n    sudo sed -i &#39;s|SHA256SUM_TGZ=&quot;c78200ce409367b296ec39be4427f020e2c585470c4eed01021feada576f027f&quot;|SHA256SUM_TGZ=&quot;68ec82d47fd9c2b8eb84225b6db398a72008285fafc98631b1ff8d2229680257&quot;|&#39; /var/lib/dpkg/info/oracle-java8-installer.*\r\n    sudo sed -i &#39;s|J_DIR=jdk1.8.0_151|J_DIR=jdk1.8.0_162|&#39; /var/lib/dpkg/info/oracle-java8-installer.*\r\n\r\n\r\nI have in my Shell this block for java section:\r\n\r\n        \r\n    # /*======================\r\n    # =            JAVA      =\r\n    # ======================*/\r\n    # https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-get-on-debian-8\r\n    sudo apt-get install -y software-properties-common\r\n    echo &quot;deb http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main&quot; | sudo tee /etc/apt/sources.list.d/webupd8team-java.list\r\n    echo &quot;deb-src http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main&quot; | sudo tee -a /etc/apt/sources.list.d/webupd8team-java.list\r\n    sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys EEA14886\r\n    sudo apt-get update\r\n    \r\n    # Silent !! Sshh !\r\n    echo debconf shared/accepted-oracle-license-v1-1 select true | sudo debconf-set-selections\r\n    echo debconf shared/accepted-oracle-license-v1-1 seen true | sudo debconf-set-selections\r\n    \r\n    # see https://stackoverflow.com/questions/46815897/jdk-8-is-not-installed-error-404-not-found\r\n    # Still not work\r\n    sudo sed -i &#39;s|JAVA_VERSION=8u151|JAVA_VERSION=8u162|&#39; /var/lib/dpkg/info/oracle-java8-installer.*\r\n    sudo sed -i &#39;s|PARTNER_URL=http://download.oracle.com/otn-pub/java/jdk/8u151-b12/e758a0de34e24606bca991d704f6dcbf/|PARTNER_URL=http://download.oracle.com/otn-pub/java/jdk/8u162-b12/0da788060d494f5095bf8624735fa2f1/|&#39; /var/lib/dpkg/info/oracle-java8-installer.*\r\n    sudo sed -i &#39;s|SHA256SUM_TGZ=&quot;c78200ce409367b296ec39be4427f020e2c585470c4eed01021feada576f027f&quot;|SHA256SUM_TGZ=&quot;68ec82d47fd9c2b8eb84225b6db398a72008285fafc98631b1ff8d2229680257&quot;|&#39; /var/lib/dpkg/info/oracle-java8-installer.*\r\n    sudo sed -i &#39;s|J_DIR=jdk1.8.0_151|J_DIR=jdk1.8.0_162|&#39; /var/lib/dpkg/info/oracle-java8-installer.*\r\n    \r\n    sudo apt-get install -y oracle-java8-installer\r\n    sudo apt-get install -y oracle-java8-set-default\r\n\r\n\r\nThe weird thing is : Those lines taken one by one via SSH when the box is started and you can install Java, it Works. But it&#39;s not working when I provision for the first time my vagrant box.\r\n\r\nIs the problem comes from sed or another command ? I suppose it&#39;s the sed&#39;s command but don&#39;t know how to fix it, because it&#39;s working if I paste them via SSH.\r\n\r\nI want to make this work without any manual interventions.\r\n\r\nYou can test my VM using this github repo (V2) :\r\n[VagrantFile + shells][2]\r\n\r\n\r\nHow can I make this work using vagrant up ?\r\n\r\n\r\nEDIT :\r\n\r\n - I&#39;ve tested it on Vagrant 2.0 and virtualBox 5.6\r\n - Also tested with vagrant 1.7 and virtualBox 5.1\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/46815897/jdk-8-is-not-installed-error-404-not-found\r\n  [2]: https://github.com/jonathangreco/vagrant-file/tree/master/V2","title":"Install java 8 (jdk 1.8) using &quot;vagrant up&quot; not working on debian","body":"<p>When I am Running My Vagrantfile with its shell, I'm struggle with Java 8 install with this exact same error :</p>\n\n<p><a href=\"https://stackoverflow.com/questions/46815897/jdk-8-is-not-installed-error-404-not-found\">StackOverflow - jdk-8-is-not-installed-error-404-not-found</a></p>\n\n<p>In order to fix that error, I added those lines :</p>\n\n<pre><code>sudo sed -i 's|JAVA_VERSION=8u151|JAVA_VERSION=8u162|' /var/lib/dpkg/info/oracle-java8-installer.*\nsudo sed -i 's|PARTNER_URL=http://download.oracle.com/otn-pub/java/jdk/8u151-b12/e758a0de34e24606bca991d704f6dcbf/|PARTNER_URL=http://download.oracle.com/otn-pub/java/jdk/8u162-b12/0da788060d494f5095bf8624735fa2f1/|' /var/lib/dpkg/info/oracle-java8-installer.*\nsudo sed -i 's|SHA256SUM_TGZ=\"c78200ce409367b296ec39be4427f020e2c585470c4eed01021feada576f027f\"|SHA256SUM_TGZ=\"68ec82d47fd9c2b8eb84225b6db398a72008285fafc98631b1ff8d2229680257\"|' /var/lib/dpkg/info/oracle-java8-installer.*\nsudo sed -i 's|J_DIR=jdk1.8.0_151|J_DIR=jdk1.8.0_162|' /var/lib/dpkg/info/oracle-java8-installer.*\n</code></pre>\n\n<p>I have in my Shell this block for java section:</p>\n\n<pre><code># /*======================\n# =            JAVA      =\n# ======================*/\n# https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-get-on-debian-8\nsudo apt-get install -y software-properties-common\necho \"deb http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main\" | sudo tee /etc/apt/sources.list.d/webupd8team-java.list\necho \"deb-src http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main\" | sudo tee -a /etc/apt/sources.list.d/webupd8team-java.list\nsudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys EEA14886\nsudo apt-get update\n\n# Silent !! Sshh !\necho debconf shared/accepted-oracle-license-v1-1 select true | sudo debconf-set-selections\necho debconf shared/accepted-oracle-license-v1-1 seen true | sudo debconf-set-selections\n\n# see https://stackoverflow.com/questions/46815897/jdk-8-is-not-installed-error-404-not-found\n# Still not work\nsudo sed -i 's|JAVA_VERSION=8u151|JAVA_VERSION=8u162|' /var/lib/dpkg/info/oracle-java8-installer.*\nsudo sed -i 's|PARTNER_URL=http://download.oracle.com/otn-pub/java/jdk/8u151-b12/e758a0de34e24606bca991d704f6dcbf/|PARTNER_URL=http://download.oracle.com/otn-pub/java/jdk/8u162-b12/0da788060d494f5095bf8624735fa2f1/|' /var/lib/dpkg/info/oracle-java8-installer.*\nsudo sed -i 's|SHA256SUM_TGZ=\"c78200ce409367b296ec39be4427f020e2c585470c4eed01021feada576f027f\"|SHA256SUM_TGZ=\"68ec82d47fd9c2b8eb84225b6db398a72008285fafc98631b1ff8d2229680257\"|' /var/lib/dpkg/info/oracle-java8-installer.*\nsudo sed -i 's|J_DIR=jdk1.8.0_151|J_DIR=jdk1.8.0_162|' /var/lib/dpkg/info/oracle-java8-installer.*\n\nsudo apt-get install -y oracle-java8-installer\nsudo apt-get install -y oracle-java8-set-default\n</code></pre>\n\n<p>The weird thing is : Those lines taken one by one via SSH when the box is started and you can install Java, it Works. But it's not working when I provision for the first time my vagrant box.</p>\n\n<p>Is the problem comes from sed or another command ? I suppose it's the sed's command but don't know how to fix it, because it's working if I paste them via SSH.</p>\n\n<p>I want to make this work without any manual interventions.</p>\n\n<p>You can test my VM using this github repo (V2) :\n<a href=\"https://github.com/jonathangreco/vagrant-file/tree/master/V2\" rel=\"nofollow noreferrer\">VagrantFile + shells</a></p>\n\n<p>How can I make this work using vagrant up ?</p>\n\n<p>EDIT :</p>\n\n<ul>\n<li>I've tested it on Vagrant 2.0 and virtualBox 5.6</li>\n<li>Also tested with vagrant 1.7 and virtualBox 5.1</li>\n</ul>\n"},{"tags":["java","oracle","hibernate","jdbc","resultset"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1678201078,"post_id":75662910,"comment_id":133484807,"body_markdown":"Some thoughts without actually understanding that.....      size : 100; and you want to collect 50   ,  somewhere you are not closing the connection and query before doing another query and connection     https://stackoverflow.com/questions/4507440/must-jdbc-resultsets-and-statements-be-closed-separately-although-the-connection","body":"Some thoughts without actually understanding that.....      size : 100; and you want to collect 50   ,  somewhere you are not closing the connection and query before doing another query and connection     <a href=\"https://stackoverflow.com/questions/4507440/must-jdbc-resultsets-and-statements-be-closed-separately-although-the-connection\" title=\"must jdbc resultsets and statements be closed separately although the connection\">stackoverflow.com/questions/4507440/&hellip;</a>"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1678694752,"post_id":75662910,"comment_id":133576252,"body_markdown":"Post the full stack trace","body":"Post the full stack trace"}],"owner":{"account_id":3896512,"reputation":193,"user_id":3225404,"display_name":"lia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678197839,"creation_date":1678197394,"question_id":75662910,"body_markdown":"I ran this query but after a while, I got Closed Resultset error. I&#39;m sure the query is running in the database (I have checked the oracle side).\r\n\r\n    public static void migrateMessagesToElastic(Long firstMsgId, Long lastMsgId, Integer size) {\r\n        int offset = 0;\r\n        size = size != null ? size : 100;\r\n        List&lt;Long&gt; messageIdList;\r\n        List&lt;Message&gt; messageList = new ArrayList&lt;&gt;();\r\n        do {\r\n            try (HibernateSession session = SessionManager.openSession()) {\r\n                messageIdList = fetchMessageIds(firstMsgId, lastMsgId, offset, size, session);\r\n                messageList = messageIdList.stream().map(e -&gt; MessageCRUD.loadMessage(e, session)).collect(Collectors.toList());\r\n                bulkAddToElastic(messageList, session);\r\n                offset += size;\r\n                if (messageList.size() &gt;= 1) {\r\n                    CacheUtil.putLastMigratedMessageId(messageList.get(messageList.size() - 1).getId());\r\n                }\r\n                System.out.println(&quot;number of migrated messages : &quot; + offset);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        while (size &lt;= messageList.size());\r\n    }\r\n\r\n\r\n\r\nin this method I query to get 50 ids, and I got nothings but an error of closed resultset on getting results of the query.\r\n\r\n    private static List&lt;Long&gt; fetchMessageIds(Long firstMsgId, Long lastMsgId, int offset, int size, HibernateSession session) throws Exception {\r\n        try {\r\n            String hql = &quot;select m.id from Message m left outer join m.excludedUsers where m.id &gt;= :firstMsgId&quot;;\r\n            if (lastMsgId != null) {\r\n                hql += &quot;  and m.id &lt;= :lastMsgId &quot;;\r\n            }\r\n            hql += &quot; order by m.id&quot;;\r\n            Query query = session.createQuery(hql)\r\n                    .setParameter(&quot;firstMsgId&quot;, firstMsgId);\r\n            if (lastMsgId != null) {\r\n                query.setParameter(&quot;lastMsgId&quot;, lastMsgId);\r\n            }\r\n            List&lt;Long&gt; ids = (List&lt;Long&gt;) query\r\n                    .setFirstResult(offset)\r\n                    .setMaxResults(size)\r\n                    .list();\r\n            return ids;\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n            throw ex;\r\n        }\r\n    }\r\n\r\n\r\n\r\nand This is the error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/anGuS.png\r\n","title":"SQLException: Closed Resultset : next error","body":"<p>I ran this query but after a while, I got Closed Resultset error. I'm sure the query is running in the database (I have checked the oracle side).</p>\n<pre><code>public static void migrateMessagesToElastic(Long firstMsgId, Long lastMsgId, Integer size) {\n    int offset = 0;\n    size = size != null ? size : 100;\n    List&lt;Long&gt; messageIdList;\n    List&lt;Message&gt; messageList = new ArrayList&lt;&gt;();\n    do {\n        try (HibernateSession session = SessionManager.openSession()) {\n            messageIdList = fetchMessageIds(firstMsgId, lastMsgId, offset, size, session);\n            messageList = messageIdList.stream().map(e -&gt; MessageCRUD.loadMessage(e, session)).collect(Collectors.toList());\n            bulkAddToElastic(messageList, session);\n            offset += size;\n            if (messageList.size() &gt;= 1) {\n                CacheUtil.putLastMigratedMessageId(messageList.get(messageList.size() - 1).getId());\n            }\n            System.out.println(&quot;number of migrated messages : &quot; + offset);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    while (size &lt;= messageList.size());\n}\n</code></pre>\n<p>in this method I query to get 50 ids, and I got nothings but an error of closed resultset on getting results of the query.</p>\n<pre><code>private static List&lt;Long&gt; fetchMessageIds(Long firstMsgId, Long lastMsgId, int offset, int size, HibernateSession session) throws Exception {\n    try {\n        String hql = &quot;select m.id from Message m left outer join m.excludedUsers where m.id &gt;= :firstMsgId&quot;;\n        if (lastMsgId != null) {\n            hql += &quot;  and m.id &lt;= :lastMsgId &quot;;\n        }\n        hql += &quot; order by m.id&quot;;\n        Query query = session.createQuery(hql)\n                .setParameter(&quot;firstMsgId&quot;, firstMsgId);\n        if (lastMsgId != null) {\n            query.setParameter(&quot;lastMsgId&quot;, lastMsgId);\n        }\n        List&lt;Long&gt; ids = (List&lt;Long&gt;) query\n                .setFirstResult(offset)\n                .setMaxResults(size)\n                .list();\n        return ids;\n    } catch (Exception ex) {\n        ex.printStackTrace();\n        throw ex;\n    }\n}\n</code></pre>\n<p>and This is the error:</p>\n<p><a href=\"https://i.stack.imgur.com/anGuS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/anGuS.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring"],"answers":[{"comments":[{"owner":{"account_id":15937451,"reputation":116,"user_id":11500214,"display_name":"Cake"},"score":0,"creation_date":1678197923,"post_id":75662992,"comment_id":133483712,"body_markdown":"That worked, thank you very much. But what exactly is the problem when I don&#39;t have that line?","body":"That worked, thank you very much. But what exactly is the problem when I don&#39;t have that line?"},{"owner":{"account_id":20298,"reputation":26693,"user_id":48382,"accept_rate":61,"display_name":"Krzysztof Kraso"},"score":1,"creation_date":1678198149,"post_id":75662992,"comment_id":133483769,"body_markdown":"Without that line Spring doesn&#39;t know that you have a class that needs injection. Similarly how if you had a non-test class without e.g. Component annotation but an Autowired field inside. That field would be always set to default value (unless of course you would create a bean in another way).","body":"Without that line Spring doesn&#39;t know that you have a class that needs injection. Similarly how if you had a non-test class without e.g. Component annotation but an Autowired field inside. That field would be always set to default value (unless of course you would create a bean in another way)."}],"tags":[],"owner":{"account_id":20298,"reputation":26693,"user_id":48382,"accept_rate":61,"display_name":"Krzysztof Kraso"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678197802,"creation_date":1678197802,"answer_id":75662992,"question_id":75662947,"body_markdown":"BoxTest needs to be included in Spring configuration somehow.\r\nE.g. using `@ExtendWith(SpringExtension.class)` would help.\r\n\r\nYou can look at other options in [Spring documentation][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#integration-testing-annotations-junit-jupiter","title":"Java Spring dependency injection not working","body":"<p>BoxTest needs to be included in Spring configuration somehow.\nE.g. using <code>@ExtendWith(SpringExtension.class)</code> would help.</p>\n<p>You can look at other options in <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#integration-testing-annotations-junit-jupiter\" rel=\"nofollow noreferrer\">Spring documentation</a>.</p>\n"}],"owner":{"account_id":15937451,"reputation":116,"user_id":11500214,"display_name":"Cake"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1678200433,"accepted_answer_id":75662992,"answer_count":1,"score":-1,"last_activity_date":1678197816,"creation_date":1678197563,"question_id":75662947,"body_markdown":"I am very new to Java Spring and I tried to set up 2 classes and a Test for one of them. That is my project structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/zIJdOm.png\r\n\r\nHere is the code for the classes:\r\n\r\n&lt;!-- language: java --&gt;\r\n```\r\n@Component\r\npublic class Box {\r\n\r\n    private Item item;\r\n\r\n    @Autowired\r\n    public Box(Item item) {\r\n        this.item = item;\r\n    }\r\n\r\n    public Item getItem() {\r\n        return item;\r\n    }\r\n}\r\n```\r\n&lt;!-- language: java --&gt;\r\n```\r\n@Configuration\r\n@ComponentScan\r\npublic class BoxConfig {}\r\n```\r\n&lt;!-- language: java --&gt;\r\n```\r\n@Component\r\npublic class Item {}\r\n```\r\nAnd here is the code of the JUnit Test I wrote in the BoxTest class:\r\n&lt;!-- language: java --&gt;\r\n\r\n```\r\n@ContextConfiguration(classes = {BoxConfig.class})\r\npublic class BoxTest {\r\n\r\n    @Autowired\r\n    Box box;\r\n\r\n    @Test\r\n    public void BoxTest1() {\r\n        Assertions.assertNotNull(box.getItem());\r\n    }\r\n}\r\n```\r\n\r\nMy Expectation was, that Spring automatically injects a box object into the box attribute of the Test, but the box attribute ist always null so I keep getting a NullReferenceException. Does someone know why it is not properly initialised?","title":"Java Spring dependency injection not working","body":"<p>I am very new to Java Spring and I tried to set up 2 classes and a Test for one of them. That is my project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/zIJdOm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zIJdOm.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the code for the classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class Box {\n\n    private Item item;\n\n    @Autowired\n    public Box(Item item) {\n        this.item = item;\n    }\n\n    public Item getItem() {\n        return item;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@ComponentScan\npublic class BoxConfig {}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class Item {}\n</code></pre>\n<p>And here is the code of the JUnit Test I wrote in the BoxTest class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ContextConfiguration(classes = {BoxConfig.class})\npublic class BoxTest {\n\n    @Autowired\n    Box box;\n\n    @Test\n    public void BoxTest1() {\n        Assertions.assertNotNull(box.getItem());\n    }\n}\n</code></pre>\n<p>My Expectation was, that Spring automatically injects a box object into the box attribute of the Test, but the box attribute ist always null so I keep getting a NullReferenceException. Does someone know why it is not properly initialised?</p>\n"},{"tags":["java","android","android-cursor","android-contentresolver","android-query"],"owner":{"account_id":27957078,"reputation":1,"user_id":21349696,"display_name":"Aditya Srivastava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678197808,"creation_date":1678197808,"question_id":75662993,"body_markdown":"I was recently trying to make an app to list the audio files in user&#39;s device but I encountered an error that whenever the user tried to change the file name or delete the file it would not be removed from my database\r\n\r\n```\r\nUri uri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\r\nString[] projection = {MediaStore.Audio.AudioColumns.DATA, MediaStore.Audio.AudioColumns.TITLE};\r\nCursor c = this.getContentResolver().query(uri, projection, null, null, null);\r\nif (c != null) {\r\n     while (c.moveToNext()) {\r\n          String path = c.getString(0);\r\n          String name = c.getString(1);\r\n          Uri filePath = Uri.parse(path);\r\n          File audioFile = new File(filePath.getPath());\r\n     }\r\n}\r\n```\r\nIf the name of the file is changed still it will show the previous name and path instead of the new one so how to change the data of cursor along with file\r\n\r\nI tried running the code in onResume function and clearing the cache but the issue still exists.","title":"how do I sync the file changes in system of user with my app Android Studios?","body":"<p>I was recently trying to make an app to list the audio files in user's device but I encountered an error that whenever the user tried to change the file name or delete the file it would not be removed from my database</p>\n<pre><code>Uri uri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\nString[] projection = {MediaStore.Audio.AudioColumns.DATA, MediaStore.Audio.AudioColumns.TITLE};\nCursor c = this.getContentResolver().query(uri, projection, null, null, null);\nif (c != null) {\n     while (c.moveToNext()) {\n          String path = c.getString(0);\n          String name = c.getString(1);\n          Uri filePath = Uri.parse(path);\n          File audioFile = new File(filePath.getPath());\n     }\n}\n</code></pre>\n<p>If the name of the file is changed still it will show the previous name and path instead of the new one so how to change the data of cursor along with file</p>\n<p>I tried running the code in onResume function and clearing the cache but the issue still exists.</p>\n"},{"tags":["java","spring-boot","swagger-ui","spring-websocket","springdoc-openapi-ui"],"answers":[{"tags":[],"owner":{"account_id":7154253,"reputation":11,"user_id":5467275,"display_name":"huang kangda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678197783,"creation_date":1678197783,"answer_id":75662987,"question_id":75624442,"body_markdown":"Because websocket is `ws://` and swagger used `http://`","title":"Spring Boot WebSocket conflicts with SpringDoc Swagger UI: &quot;Can &quot;Upgrade&quot; only to &quot;WebSocket&quot;","body":"<p>Because websocket is <code>ws://</code> and swagger used <code>http://</code></p>\n"}],"owner":{"account_id":27924989,"reputation":1,"user_id":21324286,"display_name":"Micha Zawadzki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678197783,"creation_date":1677829866,"question_id":75624442,"body_markdown":"I have a Spring Boot application that uses WebSockets. I also want to expose Swagger UI using SpringDoc OpenAPI, but I&#39;m running into an error.\r\n\r\nWhen I try to access Swagger UI on `/swagger-ui/index.html/`, I get an error message that says &quot;Can &#39;Upgrade&#39; only to &#39;WebSocket&#39;.&quot; It seems like the WebSockets endpoint is conflicting with the Swagger UI endpoint.\r\n\r\nHere&#39;s my code:\r\n\r\n```\r\n@Configuration\r\n@EnableWebSocket\r\npublic class WebSocketConfig implements WebSocketConfigurer {\r\n\r\n    @Override\r\n    public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\r\n        registry.addHandler(new MyWebSocketHandler(), &quot;/*&quot;).setAllowedOrigins(&quot;*&quot;);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Configuration\r\npublic class SpringDocConfig {\r\n\r\n    @Bean\r\n    public GroupedOpenApi publicApi() {\r\n        return GroupedOpenApi.builder()\r\n            .group(&quot;My API&quot;)\r\n            .pathsToMatch(&quot;/api/**&quot;)\r\n            .build();\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.14&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;ws-demo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;ws-demo&lt;/name&gt;\r\n    &lt;description&gt;ws-demo&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;30.1-jre&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nIs there a way to use WebSockets and SpringDoc OpenAPI together without running into this error and without having to change the websocket endpoint?\r\n\r\nI&#39;ve tried to set a custom URL for the Swagger UI in the Spring Doc configuration, using this property, but it didn&#39;t work as it just redirects to `/swagger-ui/index.html`:\r\n\r\n`springdoc.swagger-ui.path=`","title":"Spring Boot WebSocket conflicts with SpringDoc Swagger UI: &quot;Can &quot;Upgrade&quot; only to &quot;WebSocket&quot;","body":"<p>I have a Spring Boot application that uses WebSockets. I also want to expose Swagger UI using SpringDoc OpenAPI, but I'm running into an error.</p>\n<p>When I try to access Swagger UI on <code>/swagger-ui/index.html/</code>, I get an error message that says &quot;Can 'Upgrade' only to 'WebSocket'.&quot; It seems like the WebSockets endpoint is conflicting with the Swagger UI endpoint.</p>\n<p>Here's my code:</p>\n<pre><code>@Configuration\n@EnableWebSocket\npublic class WebSocketConfig implements WebSocketConfigurer {\n\n    @Override\n    public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\n        registry.addHandler(new MyWebSocketHandler(), &quot;/*&quot;).setAllowedOrigins(&quot;*&quot;);\n    }\n}\n</code></pre>\n<pre><code>@Configuration\npublic class SpringDocConfig {\n\n    @Bean\n    public GroupedOpenApi publicApi() {\n        return GroupedOpenApi.builder()\n            .group(&quot;My API&quot;)\n            .pathsToMatch(&quot;/api/**&quot;)\n            .build();\n    }\n\n}\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.14&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;ws-demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ws-demo&lt;/name&gt;\n    &lt;description&gt;ws-demo&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;30.1-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.14&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Is there a way to use WebSockets and SpringDoc OpenAPI together without running into this error and without having to change the websocket endpoint?</p>\n<p>I've tried to set a custom URL for the Swagger UI in the Spring Doc configuration, using this property, but it didn't work as it just redirects to <code>/swagger-ui/index.html</code>:</p>\n<p><code>springdoc.swagger-ui.path=</code></p>\n"},{"tags":["java","concurrency","stream"],"answers":[{"comments":[{"owner":{"account_id":5136594,"reputation":113,"user_id":4115164,"display_name":"betta7391"},"score":0,"creation_date":1678197764,"post_id":75662928,"comment_id":133483670,"body_markdown":"Thank you for the replay. So I think that the good approce if I use a ForkJoinPool is to use the `get()` method. In my real case I&#39;m trying to use it in a quarkus application; using the `get` method I get this error: `java.util.concurrent.ExecutionException: java.util.ServiceConfigurationError: io.smallrye.config.SmallRyeConfigFactory: io.quarkus.runtime.configuration.QuarkusConfigFactory not a subtype`. Have you ever had a similar problem?","body":"Thank you for the replay. So I think that the good approce if I use a ForkJoinPool is to use the <code>get()</code> method. In my real case I&#39;m trying to use it in a quarkus application; using the <code>get</code> method I get this error: <code>java.util.concurrent.ExecutionException: java.util.ServiceConfigurationError: io.smallrye.config.SmallRyeConfigFactory: io.quarkus.runtime.configuration.QuarkusConfigFactory not a subtype</code>. Have you ever had a similar problem?"}],"tags":[],"owner":{"account_id":20298,"reputation":26693,"user_id":48382,"accept_rate":61,"display_name":"Krzysztof Kraso"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678197447,"creation_date":1678197447,"answer_id":75662928,"question_id":75662797,"body_markdown":"When you do `invoke()` on the ForkJoinTask you force it to execute.\r\nBut before you already submitted it for execution in the pool, so you execute it twice.\r\n\r\nPerforming `get()` will wait for the task (that was already submitted to the pool) to complete and return the result.","title":"Invoke vs Get ForkJoinPool","body":"<p>When you do <code>invoke()</code> on the ForkJoinTask you force it to execute.\nBut before you already submitted it for execution in the pool, so you execute it twice.</p>\n<p>Performing <code>get()</code> will wait for the task (that was already submitted to the pool) to complete and return the result.</p>\n"}],"owner":{"account_id":5136594,"reputation":113,"user_id":4115164,"display_name":"betta7391"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1678201661,"answer_count":1,"score":1,"last_activity_date":1678197447,"creation_date":1678196783,"question_id":75662797,"body_markdown":"Premise: I&#39;m not very familiar with concurrency.\r\n\r\nTake a look at this code:\r\n\r\n~~~java\r\nimport java.util.List;\r\nimport java.util.concurrent.ForkJoinPool;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\nimport java.util.stream.IntStream;\r\n\r\npublic class TestSync {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;Integer&gt; intArray = IntStream.rangeClosed(1, 500).boxed().toList();\r\n\r\n\t\tSystem.out.println(&quot;Element size: &quot; + intArray.size());\r\n\t\t\r\n\t\tAtomicInteger i = new AtomicInteger(intArray.size());\r\n\t\tForkJoinPool customThreadPool = new ForkJoinPool(50);\r\n\t\t\r\n\t\tcustomThreadPool.submit( () -&gt; {\r\n\t\t\tintArray.parallelStream().forEach(sp -&gt; {\r\n\t\t\t\tSystem.out.println(&quot;Remaining int: &quot; + i.decrementAndGet());\r\n\t\t\t});\r\n\t\t}).invoke();\r\n\t\tcustomThreadPool.shutdown();\r\n\t}\r\n\r\n}\r\n~~~\r\n\r\nThe related output is:\r\n\r\n~~~\r\nElement size: 500\r\nRemaining int: 499\r\nRemaining int: 498\r\nRemaining int: 497\r\nRemaining int: 495\r\nRemaining int: 494\r\nRemaining int: 493\r\nRemaining int: 492\r\nRemaining int: 491\r\nRemaining int: 490\r\nRemaining int: 489\r\nRemaining int: 488\r\nRemaining int: 487\r\n....\r\nRemaining int: -74\r\nRemaining int: -75\r\nRemaining int: -66\r\nRemaining int: -77\r\nRemaining int: -78\r\nRemaining int: -79\r\nRemaining int: -80\r\nRemaining int: -81\r\nRemaining int: -82\r\nRemaining int: -83\r\n...\r\n~~~\r\n\r\nIf I replace the `invoke()` with `get()`, negative numbers will never appear.\r\n\r\nCan some one help me to understand the difference between `invoke()` and `get()`?","title":"Invoke vs Get ForkJoinPool","body":"<p>Premise: I'm not very familiar with concurrency.</p>\n<p>Take a look at this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\nimport java.util.concurrent.ForkJoinPool;\nimport java.util.concurrent.atomic.AtomicInteger;\nimport java.util.stream.IntStream;\n\npublic class TestSync {\n\n    public static void main(String[] args) {\n        List&lt;Integer&gt; intArray = IntStream.rangeClosed(1, 500).boxed().toList();\n\n        System.out.println(&quot;Element size: &quot; + intArray.size());\n        \n        AtomicInteger i = new AtomicInteger(intArray.size());\n        ForkJoinPool customThreadPool = new ForkJoinPool(50);\n        \n        customThreadPool.submit( () -&gt; {\n            intArray.parallelStream().forEach(sp -&gt; {\n                System.out.println(&quot;Remaining int: &quot; + i.decrementAndGet());\n            });\n        }).invoke();\n        customThreadPool.shutdown();\n    }\n\n}\n</code></pre>\n<p>The related output is:</p>\n<pre><code>Element size: 500\nRemaining int: 499\nRemaining int: 498\nRemaining int: 497\nRemaining int: 495\nRemaining int: 494\nRemaining int: 493\nRemaining int: 492\nRemaining int: 491\nRemaining int: 490\nRemaining int: 489\nRemaining int: 488\nRemaining int: 487\n....\nRemaining int: -74\nRemaining int: -75\nRemaining int: -66\nRemaining int: -77\nRemaining int: -78\nRemaining int: -79\nRemaining int: -80\nRemaining int: -81\nRemaining int: -82\nRemaining int: -83\n...\n</code></pre>\n<p>If I replace the <code>invoke()</code> with <code>get()</code>, negative numbers will never appear.</p>\n<p>Can some one help me to understand the difference between <code>invoke()</code> and <code>get()</code>?</p>\n"},{"tags":["java","eclipse","gradle"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1678198026,"post_id":75662923,"comment_id":133483740,"body_markdown":"`Unsupported class file major version 61` - the code was compiled with Java 17, you can&#39;t run it on an older Java.","body":"<code>Unsupported class file major version 61</code> - the code was compiled with Java 17, you can&#39;t run it on an older Java."},{"owner":{"account_id":22883450,"reputation":129,"user_id":17024722,"display_name":"Ruchi"},"score":0,"creation_date":1678198807,"post_id":75662923,"comment_id":133483996,"body_markdown":"@greg-449 so please suggest what should I do? Currently in my system both java versions are there 11 and 17 and this gradle project was written in java 8","body":"@greg-449 so please suggest what should I do? Currently in my system both java versions are there 11 and 17 and this gradle project was written in java 8"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1678259371,"post_id":75662923,"comment_id":133496172,"body_markdown":"@Ruch Run Eclipse with Java 17, best with the one it is shipped. The Java to run Eclipse is unrelated to the Java you use in your projects. Please show the whole error by going to the _Error Log_ view, selecting the error, hitting Ctrl+C and pasting it into your question formatted as _Sample Code_.","body":"@Ruch Run Eclipse with Java 17, best with the one it is shipped. The Java to run Eclipse is unrelated to the Java you use in your projects. Please show the whole error by going to the <i>Error Log</i> view, selecting the error, hitting Ctrl+C and pasting it into your question formatted as <i>Sample Code</i>."}],"owner":{"account_id":22883450,"reputation":129,"user_id":17024722,"display_name":"Ruchi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678197429,"creation_date":1678197429,"question_id":75662923,"body_markdown":"I&#39;ve an existing gradle project of office and I&#39;m importing that in my local but having this exception as soon as click on finish. I&#39;m unable to figure out. I&#39;ve tried many answers that were available on stackoverflow but that didn&#39;t help. my exception -\r\n\r\n```org.gradle.tooling.BuildException: Could not fetch model of type &#39;GradleBuild&#39; using connection to Gradle distribution &#39;https://services.gradle.org/distributions/gradle-6.9.1-bin.zip&#39;.\r\n\tat org.gradle.tooling.internal.consumer.ExceptionTransformer.transform(ExceptionTransformer.java:51)\r\n\tat org.gradle.tooling.internal.consumer.ExceptionTransformer.transform(ExceptionTransformer.java:29)\r\n\tat org.gradle.tooling.internal.consumer.ResultHandlerAdapter.onFailure(ResultHandlerAdapter.java:43)\r\n\tat org.gradle.tooling.internal.consumer.async.DefaultAsyncConsumerActionExecutor$1$1.run(DefaultAsyncConsumerActionExecutor.java:69)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\tat org.gradle.tooling.internal.consumer.BlockingResultHandler.getResult(BlockingResultHandler.java:46)\r\n\tat org.gradle.tooling.internal.consumer.DefaultModelBuilder.get(DefaultModelBuilder.java:51)\r\n\tat org.eclipse.buildship.core.internal.util.gradle.CompatProjectConnection$CompatModelBuilder.get(CompatProjectConnection.java:272)\r\n\tat org.eclipse.buildship.core.internal.util.gradle.IdeAttachedProjectConnection.getModel(IdeAttachedProjectConnection.java:86)\r\n\tat org.eclipse.buildship.core.internal.workspace.DefaultModelProvider.queryModel(DefaultModelProvider.java:115)\r\n\tat org.eclipse.buildship.core.internal.workspace.DefaultModelProvider.lambda$fetchModel$0(DefaultModelProvider.java:50)\r\n\tat org.eclipse.buildship.core.internal.DefaultGradleBuild$GradleConnectionOperation.runInToolingApi(DefaultGradleBuild.java:329)\r\n\tat org.eclipse.buildship.core.internal.operation.DefaultToolingApiOperationManager$WorkspaceRunnableAdapter.run(DefaultToolingApiOperationManager.java:58)\r\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2380)\r\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2405)\r\n\tat org.eclipse.buildship.core.internal.operation.DefaultToolingApiOperationManager.run(DefaultToolingApiOperationManager.java:39)\r\n\tat org.eclipse.buildship.core.internal.DefaultGradleBuild.withConnection(DefaultGradleBuild.java:122)\r\n\tat org.eclipse.buildship.core.internal.workspace.DefaultModelProvider.lambda$fetchModel$1(DefaultModelProvider.java:49)\r\n\tat com.google.common.cache.LocalCache$LocalManualCache$1.load(LocalCache.java:4853)\r\n\tat com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3529)\r\n\tat com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2278)\r\n\tat com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2155)\r\n\tat com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2045)\r\n\tat com.google.common.cache.LocalCache.get(LocalCache.java:3951)\r\n\tat com.google.common.cache.LocalCache$LocalManualCache.get(LocalCache.java:4848)\r\n\tat org.eclipse.buildship.core.internal.workspace.DefaultModelProvider.getFromCache(DefaultModelProvider.java:98)\r\n\tat org.eclipse.buildship.core.internal.workspace.DefaultModelProvider.executeOperation(DefaultModelProvider.java:90)\r\n\tat org.eclipse.buildship.core.internal.workspace.DefaultModelProvider.fetchModel(DefaultModelProvider.java:48)\r\n\tat org.eclipse.buildship.ui.internal.wizard.project.ProjectPreviewWizardPage.fetchGradleBuildStructure(ProjectPreviewWizardPage.java:456)\r\n\tat org.eclipse.buildship.ui.internal.wizard.project.ProjectPreviewWizardPage$UpdatePreviewOperation.runInToolingApi(ProjectPreviewWizardPage.java:477)\r\n\tat org.eclipse.buildship.core.internal.operation.ToolingApiOperations$1.runInToolingApi(ToolingApiOperations.java:60)\r\n\tat org.eclipse.buildship.core.internal.operation.DefaultToolingApiOperationManager$WorkspaceRunnableAdapter.run(DefaultToolingApiOperationManager.java:58)\r\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2380)\r\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2405)\r\n\tat org.eclipse.buildship.core.internal.operation.DefaultToolingApiOperationManager.run(DefaultToolingApiOperationManager.java:39)\r\n\tat org.eclipse.buildship.core.internal.operation.DefaultToolingApiOperationManager.run(DefaultToolingApiOperationManager.java:33)\r\n\tat org.eclipse.buildship.ui.internal.wizard.project.ProjectPreviewWizardPage$4.run(ProjectPreviewWizardPage.java:311)\r\n\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:122)\r\nCaused by: org.gradle.internal.exceptions.LocationAwareException: Initialization script &#39;D:\\STS workspace UR\\.metadata\\.plugins\\org.eclipse.buildship.core\\init.d\\eclipsePlugin.gradle&#39;\r\nCould not compile initialization script &#39;D:\\STS workspace UR\\.metadata\\.plugins\\org.eclipse.buildship.core\\init.d\\eclipsePlugin.gradle&#39;.\r\n\tat org.gradle.initialization.exception.DefaultExceptionAnalyser.transform(DefaultExceptionAnalyser.java:103)\r\n\tat org.gradle.initialization.exception.DefaultExceptionAnalyser.collectFailures(DefaultExceptionAnalyser.java:67)\r\n\tat org.gradle.initialization.exception.MultipleBuildFailuresExceptionAnalyser.transform(MultipleBuildFailuresExceptionAnalyser.java:48)\r\n\tat org.gradle.initialization.exception.StackTraceSanitizingExceptionAnalyser.transform(StackTraceSanitizingExceptionAnalyser.java:30)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.finishBuild(DefaultGradleLauncher.java:188)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:151)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.getConfiguredBuild(DefaultGradleLauncher.java:113)\r\n\tat org.gradle.internal.invocation.GradleBuildController$1.create(GradleBuildController.java:72)\r\n\tat org.gradle.internal.invocation.GradleBuildController$1.create(GradleBuildController.java:67)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:213)\r\n\tat org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:67)\r\n\tat org.gradle.internal.invocation.GradleBuildController.configure(GradleBuildController.java:61)\r\n\tat org.gradle.tooling.internal.provider.runner.BuildModelActionRunner.run(BuildModelActionRunner.java:58)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:63)\r\n\tat org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\r\n\tat org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:77)\r\n\tat org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:49)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:44)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:44)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter.lambda$execute$0(InProcessBuildActionExecuter.java:59)\r\n\tat org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:86)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:58)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:30)\r\n\tat org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.lambda$execute$0(BuildTreeScopeLifecycleBuildActionExecuter.java:33)\r\n\tat org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\r\n\tat org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.execute(BuildTreeScopeLifecycleBuildActionExecuter.java:32)\r\n\tat org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.execute(BuildTreeScopeLifecycleBuildActionExecuter.java:27)\r\n\tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:104)\r\n\tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:55)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:64)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:37)\r\n\tat org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.lambda$execute$0(SessionScopeLifecycleBuildActionExecuter.java:54)\r\n\tat org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:67)\r\n\tat org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.execute(SessionScopeLifecycleBuildActionExecuter.java:50)\r\n\tat org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.execute(SessionScopeLifecycleBuildActionExecuter.java:36)\r\n\tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\r\n\tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:59)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:55)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:41)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\r\n\tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n\tat org.gradle.util.Swapper.swap(Swapper.java:38)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n\tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\nCaused by: org.gradle.groovy.scripts.ScriptCompilationException: Could not compile initialization script &#39;D:\\STS workspace UR\\.metadata\\.plugins\\org.eclipse.buildship.core\\init.d\\eclipsePlugin.gradle&#39;.\r\n\tat org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler.wrapCompilationFailure(DefaultScriptCompilationHandler.java:192)\r\n\tat org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler.compileScript(DefaultScriptCompilationHandler.java:141)\r\n\tat org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler.compileToDir(DefaultScriptCompilationHandler.java:95)\r\n\tat org.gradle.groovy.scripts.internal.BuildOperationBackedScriptCompilationHandler$2.run(BuildOperationBackedScriptCompilationHandler.java:54)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.groovy.scripts.internal.BuildOperationBackedScriptCompilationHandler.compileToDir(BuildOperationBackedScriptCompilationHandler.java:51)\r\n\tat org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$CompileToCrossBuildCacheAction.execute(FileCacheBackedScriptClassCompiler.java:190)\r\n\tat org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$CompileToCrossBuildCacheAction.execute(FileCacheBackedScriptClassCompiler.java:170)\r\n\tat org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$ProgressReportingInitializer.execute(FileCacheBackedScriptClassCompiler.java:211)\r\n\tat org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$ProgressReportingInitializer.execute(FileCacheBackedScriptClassCompiler.java:194)\r\n\tat org.gradle.cache.internal.DefaultPersistentDirectoryCache$Initializer.initialize(DefaultPersistentDirectoryCache.java:100)\r\n\tat org.gradle.cache.internal.FixedSharedModeCrossProcessCacheAccess$1.run(FixedSharedModeCrossProcessCacheAccess.java:86)\r\n\tat org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.doWriteAction(DefaultFileLockManager.java:215)\r\n\tat org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.writeFile(DefaultFileLockManager.java:205)\r\n\tat org.gradle.cache.internal.FixedSharedModeCrossProcessCacheAccess.open(FixedSharedModeCrossProcessCacheAccess.java:83)\r\n\tat org.gradle.cache.internal.DefaultCacheAccess.open(DefaultCacheAccess.java:139)\r\n\tat org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:89)\r\n\tat org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:43)\r\n\tat org.gradle.cache.internal.DefaultCacheFactory.doOpen(DefaultCacheFactory.java:103)\r\n\tat org.gradle.cache.internal.DefaultCacheFactory.open(DefaultCacheFactory.java:68)\r\n\tat org.gradle.cache.internal.DefaultCacheRepository$PersistentCacheBuilder.open(DefaultCacheRepository.java:126)\r\n\tat org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler.compile(FileCacheBackedScriptClassCompiler.java:116)\r\n\tat org.gradle.groovy.scripts.internal.CrossBuildInMemoryCachingScriptClassCache.getOrCompile(CrossBuildInMemoryCachingScriptClassCache.java:50)\r\n\tat org.gradle.groovy.scripts.internal.BuildScopeInMemoryCachingScriptClassCompiler.compile(BuildScopeInMemoryCachingScriptClassCompiler.java:50)\r\n\tat org.gradle.groovy.scripts.DefaultScriptCompilerFactory$ScriptCompilerImpl.compile(DefaultScriptCompilerFactory.java:49)\r\n\tat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:110)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\r\n\tat org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:43)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\r\n\tat org.gradle.configuration.DefaultInitScriptProcessor.process(DefaultInitScriptProcessor.java:50)\r\n\tat org.gradle.initialization.InitScriptHandler$1.run(InitScriptHandler.java:56)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.initialization.InitScriptHandler.executeScripts(InitScriptHandler.java:51)\r\n\tat org.gradle.initialization.DefaultSettingsPreparer.prepareSettings(DefaultSettingsPreparer.java:33)\r\n\tat org.gradle.initialization.BuildOperationFiringSettingsPreparer$LoadBuild.doLoadBuild(BuildOperationFiringSettingsPreparer.java:62)\r\n\tat org.gradle.initialization.BuildOperationFiringSettingsPreparer$LoadBuild.run(BuildOperationFiringSettingsPreparer.java:57)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.initialization.BuildOperationFiringSettingsPreparer.prepareSettings(BuildOperationFiringSettingsPreparer.java:45)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.prepareSettings(DefaultGradleLauncher.java:218)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.doClassicBuildStages(DefaultGradleLauncher.java:159)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:148)\r\n\t... 77 more\r\nCaused by: org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:\r\nGeneral error during semantic analysis: Unsupported class file major version 61\r\n\r\njava.lang.IllegalArgumentException: Unsupported class file major version 61\r\n\tat groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:196)\r\n\tat groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:177)\r\n\tat groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:163)\r\n\tat groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:284)\r\n\tat org.codehaus.groovy.ast.decompiled.AsmDecompiler.parseClass(AsmDecompiler.java:81)\r\n\tat org.codehaus.groovy.control.ClassNodeResolver.findDecompiled(ClassNodeResolver.java:251)\r\n\tat org.codehaus.groovy.control.ClassNodeResolver.tryAsLoaderClassOrScript(ClassNodeResolver.java:189)\r\n\tat org.codehaus.groovy.control.ClassNodeResolver.findClassNode(ClassNodeResolver.java:169)\r\n\tat org.codehaus.groovy.control.ClassNodeResolver.resolveName(ClassNodeResolver.java:125)\r\n\tat org.codehaus.groovy.ast.decompiled.AsmReferenceResolver.resolveClassNullable(AsmReferenceResolver.java:57)\r\n\tat org.codehaus.groovy.ast.decompiled.AsmReferenceResolver.resolveClass(AsmReferenceResolver.java:44)\r\n\tat org.codehaus.groovy.ast.decompiled.AsmReferenceResolver.resolveNonArrayType(AsmReferenceResolver.java:79)\r\n\tat org.codehaus.groovy.ast.decompiled.AsmReferenceResolver.resolveType(AsmReferenceResolver.java:70)\r\n\tat org.codehaus.groovy.ast.decompiled.MemberSignatureParser.createMethodNode(MemberSignatureParser.java:57)\r\n\tat org.codehaus.groovy.ast.decompiled.DecompiledClassNode$2.get(DecompiledClassNode.java:234)\r\n\tat org.codehaus.groovy.ast.decompiled.DecompiledClassNode$2.get(DecompiledClassNode.java:231)\r\n\tat org.codehaus.groovy.ast.decompiled.DecompiledClassNode.createMethodNode(DecompiledClassNode.java:242)\r\n\tat org.codehaus.groovy.ast.decompiled.DecompiledClassNode.lazyInitMembers(DecompiledClassNode.java:199)\r\n\tat org.codehaus.groovy.ast.decompiled.DecompiledClassNode.getDeclaredMethods(DecompiledClassNode.java:122)\r\n\tat org.codehaus.groovy.ast.ClassNode.getMethods(ClassNode.java:912)\r\n\tat org.codehaus.groovy.ast.ClassNode.tryFindPossibleMethod(ClassNode.java:1280)\r\n\tat org.codehaus.groovy.control.StaticImportVisitor.transformMethodCallExpression(StaticImportVisitor.java:252)\r\n\tat org.codehaus.groovy.control.StaticImportVisitor.transform(StaticImportVisitor.java:113)\r\n\tat org.codehaus.groovy.ast.ClassCodeExpressionTransformer.visitExpressionStatement(ClassCodeExpressionTransformer.java:142)\r\n\tat org.codehaus.groovy.ast.stmt.ExpressionStatement.visit(ExpressionStatement.java:40)\r\n\tat org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitClassCodeContainer(ClassCodeVisitorSupport.java:110)\r\n\tat org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitConstructorOrMethod(ClassCodeVisitorSupport.java:121)\r\n\tat org.codehaus.groovy.ast.ClassCodeExpressionTransformer.visitConstructorOrMethod(ClassCodeExpressionTransformer.java:53)\r\n\tat org.codehaus.groovy.control.StaticImportVisitor.visitConstructorOrMethod(StaticImportVisitor.java:89)\r\n\tat org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitConstructor(ClassCodeVisitorSupport.java:128)\r\n\tat org.codehaus.groovy.ast.ClassNode.visitContents(ClassNode.java:1099)\r\n\tat org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitClass(ClassCodeVisitorSupport.java:54)\r\n\tat org.codehaus.groovy.control.StaticImportVisitor.visitClass(StaticImportVisitor.java:83)\r\n\tat org.codehaus.groovy.control.CompilationUnit$14.call(CompilationUnit.java:708)\r\n\tat org.codehaus.groovy.control.CompilationUnit.applyToPrimaryClassNodes(CompilationUnit.java:1084)\r\n\tat org.codehaus.groovy.control.CompilationUnit.doPhaseOperation(CompilationUnit.java:640)\r\n\tat org.codehaus.groovy.control.CompilationUnit.processPhaseOperations(CompilationUnit.java:618)\r\n\tat org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:595)\r\n\tat groovy.lang.GroovyClassLoader.doParseClass(GroovyClassLoader.java:401)\r\n\tat groovy.lang.GroovyClassLoader.access$300(GroovyClassLoader.java:89)\r\n\tat groovy.lang.GroovyClassLoader$5.provide(GroovyClassLoader.java:341)\r\n\tat groovy.lang.GroovyClassLoader$5.provide(GroovyClassLoader.java:338)\r\n\tat org.codehaus.groovy.runtime.memoize.ConcurrentCommonCache.getAndPut(ConcurrentCommonCache.java:147)\r\n\tat groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:336)\r\n\tat org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler.compileScript(DefaultScriptCompilationHandler.java:139)\r\n\tat org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler.compileToDir(DefaultScriptCompilationHandler.java:95)\r\n\tat org.gradle.groovy.scripts.internal.BuildOperationBackedScriptCompilationHandler$2.run(BuildOperationBackedScriptCompilationHandler.java:54)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\t\r\n```\r\n\r\nMy setting when I import the project\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/K7TFv.png\r\n\r\n\r\nPlease help me in resolving this.","title":"Could not fetch model of type &#39;GradleBuild&#39; using connection to Gradle distribution &#39;https://services.gradle.org/distributions/gradle-6.9.1-bin.zip","body":"<p>I've an existing gradle project of office and I'm importing that in my local but having this exception as soon as click on finish. I'm unable to figure out. I've tried many answers that were available on stackoverflow but that didn't help. my exception -</p>\n<pre><code>    at org.gradle.tooling.internal.consumer.ExceptionTransformer.transform(ExceptionTransformer.java:51)\n    at org.gradle.tooling.internal.consumer.ExceptionTransformer.transform(ExceptionTransformer.java:29)\n    at org.gradle.tooling.internal.consumer.ResultHandlerAdapter.onFailure(ResultHandlerAdapter.java:43)\n    at org.gradle.tooling.internal.consumer.async.DefaultAsyncConsumerActionExecutor$1$1.run(DefaultAsyncConsumerActionExecutor.java:69)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n    at org.gradle.tooling.internal.consumer.BlockingResultHandler.getResult(BlockingResultHandler.java:46)\n    at org.gradle.tooling.internal.consumer.DefaultModelBuilder.get(DefaultModelBuilder.java:51)\n    at org.eclipse.buildship.core.internal.util.gradle.CompatProjectConnection$CompatModelBuilder.get(CompatProjectConnection.java:272)\n    at org.eclipse.buildship.core.internal.util.gradle.IdeAttachedProjectConnection.getModel(IdeAttachedProjectConnection.java:86)\n    at org.eclipse.buildship.core.internal.workspace.DefaultModelProvider.queryModel(DefaultModelProvider.java:115)\n    at org.eclipse.buildship.core.internal.workspace.DefaultModelProvider.lambda$fetchModel$0(DefaultModelProvider.java:50)\n    at org.eclipse.buildship.core.internal.DefaultGradleBuild$GradleConnectionOperation.runInToolingApi(DefaultGradleBuild.java:329)\n    at org.eclipse.buildship.core.internal.operation.DefaultToolingApiOperationManager$WorkspaceRunnableAdapter.run(DefaultToolingApiOperationManager.java:58)\n    at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2380)\n    at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2405)\n    at org.eclipse.buildship.core.internal.operation.DefaultToolingApiOperationManager.run(DefaultToolingApiOperationManager.java:39)\n    at org.eclipse.buildship.core.internal.DefaultGradleBuild.withConnection(DefaultGradleBuild.java:122)\n    at org.eclipse.buildship.core.internal.workspace.DefaultModelProvider.lambda$fetchModel$1(DefaultModelProvider.java:49)\n    at com.google.common.cache.LocalCache$LocalManualCache$1.load(LocalCache.java:4853)\n    at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3529)\n    at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2278)\n    at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2155)\n    at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2045)\n    at com.google.common.cache.LocalCache.get(LocalCache.java:3951)\n    at com.google.common.cache.LocalCache$LocalManualCache.get(LocalCache.java:4848)\n    at org.eclipse.buildship.core.internal.workspace.DefaultModelProvider.getFromCache(DefaultModelProvider.java:98)\n    at org.eclipse.buildship.core.internal.workspace.DefaultModelProvider.executeOperation(DefaultModelProvider.java:90)\n    at org.eclipse.buildship.core.internal.workspace.DefaultModelProvider.fetchModel(DefaultModelProvider.java:48)\n    at org.eclipse.buildship.ui.internal.wizard.project.ProjectPreviewWizardPage.fetchGradleBuildStructure(ProjectPreviewWizardPage.java:456)\n    at org.eclipse.buildship.ui.internal.wizard.project.ProjectPreviewWizardPage$UpdatePreviewOperation.runInToolingApi(ProjectPreviewWizardPage.java:477)\n    at org.eclipse.buildship.core.internal.operation.ToolingApiOperations$1.runInToolingApi(ToolingApiOperations.java:60)\n    at org.eclipse.buildship.core.internal.operation.DefaultToolingApiOperationManager$WorkspaceRunnableAdapter.run(DefaultToolingApiOperationManager.java:58)\n    at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2380)\n    at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2405)\n    at org.eclipse.buildship.core.internal.operation.DefaultToolingApiOperationManager.run(DefaultToolingApiOperationManager.java:39)\n    at org.eclipse.buildship.core.internal.operation.DefaultToolingApiOperationManager.run(DefaultToolingApiOperationManager.java:33)\n    at org.eclipse.buildship.ui.internal.wizard.project.ProjectPreviewWizardPage$4.run(ProjectPreviewWizardPage.java:311)\n    at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:122)\nCaused by: org.gradle.internal.exceptions.LocationAwareException: Initialization script 'D:\\STS workspace UR\\.metadata\\.plugins\\org.eclipse.buildship.core\\init.d\\eclipsePlugin.gradle'\nCould not compile initialization script 'D:\\STS workspace UR\\.metadata\\.plugins\\org.eclipse.buildship.core\\init.d\\eclipsePlugin.gradle'.\n    at org.gradle.initialization.exception.DefaultExceptionAnalyser.transform(DefaultExceptionAnalyser.java:103)\n    at org.gradle.initialization.exception.DefaultExceptionAnalyser.collectFailures(DefaultExceptionAnalyser.java:67)\n    at org.gradle.initialization.exception.MultipleBuildFailuresExceptionAnalyser.transform(MultipleBuildFailuresExceptionAnalyser.java:48)\n    at org.gradle.initialization.exception.StackTraceSanitizingExceptionAnalyser.transform(StackTraceSanitizingExceptionAnalyser.java:30)\n    at org.gradle.initialization.DefaultGradleLauncher.finishBuild(DefaultGradleLauncher.java:188)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:151)\n    at org.gradle.initialization.DefaultGradleLauncher.getConfiguredBuild(DefaultGradleLauncher.java:113)\n    at org.gradle.internal.invocation.GradleBuildController$1.create(GradleBuildController.java:72)\n    at org.gradle.internal.invocation.GradleBuildController$1.create(GradleBuildController.java:67)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:213)\n    at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:67)\n    at org.gradle.internal.invocation.GradleBuildController.configure(GradleBuildController.java:61)\n    at org.gradle.tooling.internal.provider.runner.BuildModelActionRunner.run(BuildModelActionRunner.java:58)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:63)\n    at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n    at org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:77)\n    at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:49)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:44)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:44)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.lambda$execute$0(InProcessBuildActionExecuter.java:59)\n    at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:86)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:58)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:30)\n    at org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.lambda$execute$0(BuildTreeScopeLifecycleBuildActionExecuter.java:33)\n    at org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\n    at org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.execute(BuildTreeScopeLifecycleBuildActionExecuter.java:32)\n    at org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.execute(BuildTreeScopeLifecycleBuildActionExecuter.java:27)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:104)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:55)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:64)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:37)\n    at org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.lambda$execute$0(SessionScopeLifecycleBuildActionExecuter.java:54)\n    at org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:67)\n    at org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.execute(SessionScopeLifecycleBuildActionExecuter.java:50)\n    at org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.execute(SessionScopeLifecycleBuildActionExecuter.java:36)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:59)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:55)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:41)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\n    at org.gradle.util.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: org.gradle.groovy.scripts.ScriptCompilationException: Could not compile initialization script 'D:\\STS workspace UR\\.metadata\\.plugins\\org.eclipse.buildship.core\\init.d\\eclipsePlugin.gradle'.\n    at org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler.wrapCompilationFailure(DefaultScriptCompilationHandler.java:192)\n    at org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler.compileScript(DefaultScriptCompilationHandler.java:141)\n    at org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler.compileToDir(DefaultScriptCompilationHandler.java:95)\n    at org.gradle.groovy.scripts.internal.BuildOperationBackedScriptCompilationHandler$2.run(BuildOperationBackedScriptCompilationHandler.java:54)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\n    at org.gradle.groovy.scripts.internal.BuildOperationBackedScriptCompilationHandler.compileToDir(BuildOperationBackedScriptCompilationHandler.java:51)\n    at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$CompileToCrossBuildCacheAction.execute(FileCacheBackedScriptClassCompiler.java:190)\n    at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$CompileToCrossBuildCacheAction.execute(FileCacheBackedScriptClassCompiler.java:170)\n    at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$ProgressReportingInitializer.execute(FileCacheBackedScriptClassCompiler.java:211)\n    at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler$ProgressReportingInitializer.execute(FileCacheBackedScriptClassCompiler.java:194)\n    at org.gradle.cache.internal.DefaultPersistentDirectoryCache$Initializer.initialize(DefaultPersistentDirectoryCache.java:100)\n    at org.gradle.cache.internal.FixedSharedModeCrossProcessCacheAccess$1.run(FixedSharedModeCrossProcessCacheAccess.java:86)\n    at org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.doWriteAction(DefaultFileLockManager.java:215)\n    at org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.writeFile(DefaultFileLockManager.java:205)\n    at org.gradle.cache.internal.FixedSharedModeCrossProcessCacheAccess.open(FixedSharedModeCrossProcessCacheAccess.java:83)\n    at org.gradle.cache.internal.DefaultCacheAccess.open(DefaultCacheAccess.java:139)\n    at org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:89)\n    at org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:43)\n    at org.gradle.cache.internal.DefaultCacheFactory.doOpen(DefaultCacheFactory.java:103)\n    at org.gradle.cache.internal.DefaultCacheFactory.open(DefaultCacheFactory.java:68)\n    at org.gradle.cache.internal.DefaultCacheRepository$PersistentCacheBuilder.open(DefaultCacheRepository.java:126)\n    at org.gradle.groovy.scripts.internal.FileCacheBackedScriptClassCompiler.compile(FileCacheBackedScriptClassCompiler.java:116)\n    at org.gradle.groovy.scripts.internal.CrossBuildInMemoryCachingScriptClassCache.getOrCompile(CrossBuildInMemoryCachingScriptClassCache.java:50)\n    at org.gradle.groovy.scripts.internal.BuildScopeInMemoryCachingScriptClassCompiler.compile(BuildScopeInMemoryCachingScriptClassCompiler.java:50)\n    at org.gradle.groovy.scripts.DefaultScriptCompilerFactory$ScriptCompilerImpl.compile(DefaultScriptCompilerFactory.java:49)\n    at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:110)\n    at org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\n    at org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\n    at org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:43)\n    at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\n    at org.gradle.configuration.DefaultInitScriptProcessor.process(DefaultInitScriptProcessor.java:50)\n    at org.gradle.initialization.InitScriptHandler$1.run(InitScriptHandler.java:56)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\n    at org.gradle.initialization.InitScriptHandler.executeScripts(InitScriptHandler.java:51)\n    at org.gradle.initialization.DefaultSettingsPreparer.prepareSettings(DefaultSettingsPreparer.java:33)\n    at org.gradle.initialization.BuildOperationFiringSettingsPreparer$LoadBuild.doLoadBuild(BuildOperationFiringSettingsPreparer.java:62)\n    at org.gradle.initialization.BuildOperationFiringSettingsPreparer$LoadBuild.run(BuildOperationFiringSettingsPreparer.java:57)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\n    at org.gradle.initialization.BuildOperationFiringSettingsPreparer.prepareSettings(BuildOperationFiringSettingsPreparer.java:45)\n    at org.gradle.initialization.DefaultGradleLauncher.prepareSettings(DefaultGradleLauncher.java:218)\n    at org.gradle.initialization.DefaultGradleLauncher.doClassicBuildStages(DefaultGradleLauncher.java:159)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:148)\n    ... 77 more\nCaused by: org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:\nGeneral error during semantic analysis: Unsupported class file major version 61\n\njava.lang.IllegalArgumentException: Unsupported class file major version 61\n    at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:196)\n    at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:177)\n    at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:163)\n    at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:284)\n    at org.codehaus.groovy.ast.decompiled.AsmDecompiler.parseClass(AsmDecompiler.java:81)\n    at org.codehaus.groovy.control.ClassNodeResolver.findDecompiled(ClassNodeResolver.java:251)\n    at org.codehaus.groovy.control.ClassNodeResolver.tryAsLoaderClassOrScript(ClassNodeResolver.java:189)\n    at org.codehaus.groovy.control.ClassNodeResolver.findClassNode(ClassNodeResolver.java:169)\n    at org.codehaus.groovy.control.ClassNodeResolver.resolveName(ClassNodeResolver.java:125)\n    at org.codehaus.groovy.ast.decompiled.AsmReferenceResolver.resolveClassNullable(AsmReferenceResolver.java:57)\n    at org.codehaus.groovy.ast.decompiled.AsmReferenceResolver.resolveClass(AsmReferenceResolver.java:44)\n    at org.codehaus.groovy.ast.decompiled.AsmReferenceResolver.resolveNonArrayType(AsmReferenceResolver.java:79)\n    at org.codehaus.groovy.ast.decompiled.AsmReferenceResolver.resolveType(AsmReferenceResolver.java:70)\n    at org.codehaus.groovy.ast.decompiled.MemberSignatureParser.createMethodNode(MemberSignatureParser.java:57)\n    at org.codehaus.groovy.ast.decompiled.DecompiledClassNode$2.get(DecompiledClassNode.java:234)\n    at org.codehaus.groovy.ast.decompiled.DecompiledClassNode$2.get(DecompiledClassNode.java:231)\n    at org.codehaus.groovy.ast.decompiled.DecompiledClassNode.createMethodNode(DecompiledClassNode.java:242)\n    at org.codehaus.groovy.ast.decompiled.DecompiledClassNode.lazyInitMembers(DecompiledClassNode.java:199)\n    at org.codehaus.groovy.ast.decompiled.DecompiledClassNode.getDeclaredMethods(DecompiledClassNode.java:122)\n    at org.codehaus.groovy.ast.ClassNode.getMethods(ClassNode.java:912)\n    at org.codehaus.groovy.ast.ClassNode.tryFindPossibleMethod(ClassNode.java:1280)\n    at org.codehaus.groovy.control.StaticImportVisitor.transformMethodCallExpression(StaticImportVisitor.java:252)\n    at org.codehaus.groovy.control.StaticImportVisitor.transform(StaticImportVisitor.java:113)\n    at org.codehaus.groovy.ast.ClassCodeExpressionTransformer.visitExpressionStatement(ClassCodeExpressionTransformer.java:142)\n    at org.codehaus.groovy.ast.stmt.ExpressionStatement.visit(ExpressionStatement.java:40)\n    at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitClassCodeContainer(ClassCodeVisitorSupport.java:110)\n    at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitConstructorOrMethod(ClassCodeVisitorSupport.java:121)\n    at org.codehaus.groovy.ast.ClassCodeExpressionTransformer.visitConstructorOrMethod(ClassCodeExpressionTransformer.java:53)\n    at org.codehaus.groovy.control.StaticImportVisitor.visitConstructorOrMethod(StaticImportVisitor.java:89)\n    at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitConstructor(ClassCodeVisitorSupport.java:128)\n    at org.codehaus.groovy.ast.ClassNode.visitContents(ClassNode.java:1099)\n    at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitClass(ClassCodeVisitorSupport.java:54)\n    at org.codehaus.groovy.control.StaticImportVisitor.visitClass(StaticImportVisitor.java:83)\n    at org.codehaus.groovy.control.CompilationUnit$14.call(CompilationUnit.java:708)\n    at org.codehaus.groovy.control.CompilationUnit.applyToPrimaryClassNodes(CompilationUnit.java:1084)\n    at org.codehaus.groovy.control.CompilationUnit.doPhaseOperation(CompilationUnit.java:640)\n    at org.codehaus.groovy.control.CompilationUnit.processPhaseOperations(CompilationUnit.java:618)\n    at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:595)\n    at groovy.lang.GroovyClassLoader.doParseClass(GroovyClassLoader.java:401)\n    at groovy.lang.GroovyClassLoader.access$300(GroovyClassLoader.java:89)\n    at groovy.lang.GroovyClassLoader$5.provide(GroovyClassLoader.java:341)\n    at groovy.lang.GroovyClassLoader$5.provide(GroovyClassLoader.java:338)\n    at org.codehaus.groovy.runtime.memoize.ConcurrentCommonCache.getAndPut(ConcurrentCommonCache.java:147)\n    at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:336)\n    at org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler.compileScript(DefaultScriptCompilationHandler.java:139)\n    at org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler.compileToDir(DefaultScriptCompilationHandler.java:95)\n    at org.gradle.groovy.scripts.internal.BuildOperationBackedScriptCompilationHandler$2.run(BuildOperationBackedScriptCompilationHandler.java:54)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    \n</code></pre>\n<p>My setting when I import the project\n<a href=\"https://i.stack.imgur.com/K7TFv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K7TFv.png\" alt=\"enter image description here\" /></a></p>\n<p>Please help me in resolving this.</p>\n"},{"tags":["java","mysql","sql","intellij-idea"],"comments":[{"owner":{"account_id":1935413,"reputation":439,"user_id":1743786,"display_name":"Amila kumara"},"score":0,"creation_date":1528566894,"post_id":50776975,"comment_id":88561023,"body_markdown":"I believe this is not a maven project. so check project libs on project structure","body":"I believe this is not a maven project. so check project libs on project structure"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1528579309,"post_id":50776975,"comment_id":88564134,"body_markdown":"The driver is not on the classpath at runtime.","body":"The driver is not on the classpath at runtime."}],"answers":[{"comments":[{"owner":{"account_id":11151783,"reputation":275,"user_id":8184778,"accept_rate":70,"display_name":"Workkkkk"},"score":2,"creation_date":1528569171,"post_id":50777023,"comment_id":88561667,"body_markdown":"I have added it as a library though. It still doesn&#39;t work","body":"I have added it as a library though. It still doesn&#39;t work"},{"owner":{"account_id":1578773,"reputation":2048,"user_id":1464597,"accept_rate":42,"display_name":"mohsenJsh"},"score":0,"creation_date":1528571950,"post_id":50777023,"comment_id":88562410,"body_markdown":"@Workkkkk please try some tutorial step by step some like this one: https://www.javatpoint.com/example-to-connect-to-the-mysql-database\nplease doanload jar file and at it again from this tutorial","body":"@Workkkkk please try some tutorial step by step some like this one: <a href=\"https://www.javatpoint.com/example-to-connect-to-the-mysql-database\" rel=\"nofollow noreferrer\">javatpoint.com/example-to-connect-to-the-mysql-database</a> please doanload jar file and at it again from this tutorial"}],"tags":[],"owner":{"account_id":1578773,"reputation":2048,"user_id":1464597,"accept_rate":42,"display_name":"mohsenJsh"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1528567553,"creation_date":1528566697,"answer_id":50777023,"question_id":50776975,"body_markdown":"you can add mysql connector via maven dependency like this:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.22&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nor you can download jar file manually at [here][1] or search on internet\r\n\r\nthen add downloaded jar file to your lib directory in project\r\n\r\nright click on file at intellij and select &#39;Add as library&#39;\r\n\r\n\r\n  [1]: https://dev.mysql.com/downloads/connector/j/5.1.html","title":"intelliJ IDEA: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver","body":"<p>you can add mysql connector via maven dependency like this:</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;5.1.22&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>or you can download jar file manually at <a href=\"https://dev.mysql.com/downloads/connector/j/5.1.html\" rel=\"nofollow noreferrer\">here</a> or search on internet</p>\n\n<p>then add downloaded jar file to your lib directory in project</p>\n\n<p>right click on file at intellij and select 'Add as library'</p>\n"},{"tags":[],"owner":{"account_id":2555708,"reputation":1769,"user_id":2217743,"display_name":"AntonioOtero"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620667491,"creation_date":1620667491,"answer_id":67475032,"question_id":50776975,"body_markdown":"I had the same issue. Just leaving this here in case it helps someone.\r\n\r\nIn my case, I cloned the repo that had the pom.xml file with an old driver that is not compatible with my local database. After cloning, I opened IntelliJ, ran the project and got the same error. Then I changed the pom.xml file with a newer driver and got into this rabbit hole.\r\n\r\nThe simple fix:\r\n1. Clone again the repo\r\n2. Open the pom.xml file with notepad or something else **before** opening IntelliJ.\r\n3. Update the pom.xml with the latest connector.\r\n4. Open IntelliJ\r\n5. Run project\r\nWorked at the first try.\r\n\r\nI don&#39;t know what IntelliJ does when opening a project for the first time that I cannot change afterwards. I&#39;m sure there must be a settings somewhere that fixes since I can&#39;t find it this but this tricked helped me .","title":"intelliJ IDEA: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver","body":"<p>I had the same issue. Just leaving this here in case it helps someone.</p>\n<p>In my case, I cloned the repo that had the pom.xml file with an old driver that is not compatible with my local database. After cloning, I opened IntelliJ, ran the project and got the same error. Then I changed the pom.xml file with a newer driver and got into this rabbit hole.</p>\n<p>The simple fix:</p>\n<ol>\n<li>Clone again the repo</li>\n<li>Open the pom.xml file with notepad or something else <strong>before</strong> opening IntelliJ.</li>\n<li>Update the pom.xml with the latest connector.</li>\n<li>Open IntelliJ</li>\n<li>Run project\nWorked at the first try.</li>\n</ol>\n<p>I don't know what IntelliJ does when opening a project for the first time that I cannot change afterwards. I'm sure there must be a settings somewhere that fixes since I can't find it this but this tricked helped me .</p>\n"},{"tags":[],"owner":{"account_id":19693763,"reputation":11,"user_id":14418062,"display_name":"Varinderjit"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1620839876,"creation_date":1620839159,"answer_id":67508091,"question_id":50776975,"body_markdown":"https://www.youtube.com/watch?v=T5Hey0e2Y_g\r\n\r\nThis will definitely work. But if you get an error saying,&#39;Exporting a package from system module is not allowed with --release&#39;, then you should do the following.\r\n\r\nGo to File-&gt;Settings-&gt;Build, Execution, Deployment-&gt;Compiler-&gt;Java Compiler:\r\nUnder &#39;Project bytecode version&#39; write the version of java you are using. But keep in mind that you should be using java version 11+. I&#39;ve tried it and it worked perfectly.","title":"intelliJ IDEA: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver","body":"<p><a href=\"https://www.youtube.com/watch?v=T5Hey0e2Y_g\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=T5Hey0e2Y_g</a></p>\n<p>This will definitely work. But if you get an error saying,'Exporting a package from system module is not allowed with --release', then you should do the following.</p>\n<p>Go to File-&gt;Settings-&gt;Build, Execution, Deployment-&gt;Compiler-&gt;Java Compiler:\nUnder 'Project bytecode version' write the version of java you are using. But keep in mind that you should be using java version 11+. I've tried it and it worked perfectly.</p>\n"},{"comments":[{"owner":{"account_id":2975624,"reputation":874,"user_id":2526714,"accept_rate":95,"display_name":"v0ld3m0rt"},"score":1,"creation_date":1656504607,"post_id":72752009,"comment_id":128588241,"body_markdown":"They already have that jar inside the project. See screenshot.","body":"They already have that jar inside the project. See screenshot."},{"owner":{"account_id":13254439,"reputation":29,"user_id":9570990,"display_name":"Ashad Ahmad"},"score":0,"creation_date":1656585379,"post_id":72752009,"comment_id":128611454,"body_markdown":"In the question&#39;s screenshot the jar is not inside the C:\\Program Files\\Java\\jdk, in my answer I meant to include the jar inside this folder, not outside it. \n\nQuestions Screenshot:\nExternal Libraries =&gt; (This is where they placed the jar)\n\nMy Answer:\nExternal Libraries =&gt; &lt;1.8&gt; =&gt; (This is where I am asking them to place the jar)","body":"In the question&#39;s screenshot the jar is not inside the C:\\Program Files\\Java\\jdk, in my answer I meant to include the jar inside this folder, not outside it.   Questions Screenshot: External Libraries =&gt; (This is where they placed the jar)  My Answer: External Libraries =&gt; &lt;1.8&gt; =&gt; (This is where I am asking them to place the jar)"},{"owner":{"account_id":2975624,"reputation":874,"user_id":2526714,"accept_rate":95,"display_name":"v0ld3m0rt"},"score":0,"creation_date":1656647946,"post_id":72752009,"comment_id":128628627,"body_markdown":"When you add any jar besides jre, it&#39;ll go in External Libraries folder only, no matter the location of that jar in your computer. How do you create a folder inside that?","body":"When you add any jar besides jre, it&#39;ll go in External Libraries folder only, no matter the location of that jar in your computer. How do you create a folder inside that?"},{"owner":{"account_id":13254439,"reputation":29,"user_id":9570990,"display_name":"Ashad Ahmad"},"score":0,"creation_date":1657048781,"post_id":72752009,"comment_id":128715671,"body_markdown":"@v0ld3m0rt Here&#39;s how my folder structure looks like. https://ibb.co/gjg87B1","body":"@v0ld3m0rt Here&#39;s how my folder structure looks like. <a href=\"https://ibb.co/gjg87B1\" rel=\"nofollow noreferrer\">ibb.co/gjg87B1</a>"}],"tags":[],"owner":{"account_id":13254439,"reputation":29,"user_id":9570990,"display_name":"Ashad Ahmad"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656141798,"creation_date":1656141798,"answer_id":72752009,"question_id":50776975,"body_markdown":"What you can do is, in your &quot;External Libraries Folder&quot;, there is a folder that contains various Jars provided by java. Right click on that folder (highlighted in picture attached) and click on &quot;Open Library Settings&quot;. \r\n\r\n[![Just a picture of where you have to right click on][1]][1]\r\n\r\nIt will open up a new window that will have all the jars listed up. Just below the list of all the jars you will find &quot;+&quot; and &quot;-&quot; symbols, click on the &quot;+&quot; symbol and add the mysql-connector jar by selecting it from the File Explorer. \r\n\r\nYour application should work now, I am not really sure if it&#39;s the correct way to do it, but it works.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bndhY.png","title":"intelliJ IDEA: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver","body":"<p>What you can do is, in your &quot;External Libraries Folder&quot;, there is a folder that contains various Jars provided by java. Right click on that folder (highlighted in picture attached) and click on &quot;Open Library Settings&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/bndhY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bndhY.png\" alt=\"Just a picture of where you have to right click on\" /></a></p>\n<p>It will open up a new window that will have all the jars listed up. Just below the list of all the jars you will find &quot;+&quot; and &quot;-&quot; symbols, click on the &quot;+&quot; symbol and add the mysql-connector jar by selecting it from the File Explorer.</p>\n<p>Your application should work now, I am not really sure if it's the correct way to do it, but it works.</p>\n"},{"tags":[],"owner":{"account_id":27957184,"reputation":21,"user_id":21349775,"display_name":"ManKrith"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678197351,"creation_date":1678197351,"answer_id":75662899,"question_id":50776975,"body_markdown":"I faced similar issue and this is what worked for me . \r\n**Right- Click on your Project --&gt; Maven --&gt; Reload Project .**\r\nNow the mysql-connector dependency was added under the External Libraries.\r\n[enter image description here][1]\r\nI am now able to establish connection to my MySQL DB.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eOqU2.png","title":"intelliJ IDEA: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver","body":"<p>I faced similar issue and this is what worked for me .\n<strong>Right- Click on your Project --&gt; Maven --&gt; Reload Project .</strong>\nNow the mysql-connector dependency was added under the External Libraries.\n<a href=\"https://i.stack.imgur.com/eOqU2.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nI am now able to establish connection to my MySQL DB.</p>\n"}],"owner":{"account_id":11151783,"reputation":275,"user_id":8184778,"accept_rate":70,"display_name":"Workkkkk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13357,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":5,"score":0,"last_activity_date":1678197351,"creation_date":1528566400,"question_id":50776975,"body_markdown":"I have downloaded the java connector and added it to my external library, however I am still unable to connect to my database. The error occurs at \r\n \r\nClass.forName(driver);\r\n\r\nError:java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\r\n\r\nI&#39;ve attached a screenshot which should show everything that you need to know.\r\n\r\n[![Picture][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/P1VdX.png\r\n\r\n\r\nSOLUTION: Turns out, you have to put the entire downloaded file in the External Library, not just the folder that its located in","title":"intelliJ IDEA: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver","body":"<p>I have downloaded the java connector and added it to my external library, however I am still unable to connect to my database. The error occurs at </p>\n\n<p>Class.forName(driver);</p>\n\n<p>Error:java.lang.ClassNotFoundException: com.mysql.jdbc.Driver</p>\n\n<p>I've attached a screenshot which should show everything that you need to know.</p>\n\n<p><a href=\"https://i.stack.imgur.com/P1VdX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P1VdX.png\" alt=\"Picture\"></a></p>\n\n<p>SOLUTION: Turns out, you have to put the entire downloaded file in the External Library, not just the folder that its located in</p>\n"},{"tags":["java","annotations","javadoc","lombok"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1678194668,"post_id":75662401,"comment_id":133482800,"body_markdown":"Javadocs target packages, classes and methods. Not annotations. This javadoc will be applied to the annotated class.","body":"Javadocs target packages, classes and methods. Not annotations. This javadoc will be applied to the annotated class."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1678194898,"post_id":75662401,"comment_id":133482861,"body_markdown":"If you want to add a javadoc, write the method explicitly rather than using Lombok.","body":"If you want to add a javadoc, write the method explicitly rather than using Lombok."},{"owner":{"account_id":6553087,"reputation":13,"user_id":21344958,"display_name":"Hal Jordan"},"score":0,"creation_date":1678201681,"post_id":75662401,"comment_id":133485017,"body_markdown":"It is weird because the Eclipse &quot;add Javadoc&quot; shortcut gives me all the methods parameters.","body":"It is weird because the Eclipse &quot;add Javadoc&quot; shortcut gives me all the methods parameters."},{"owner":{"account_id":6553087,"reputation":13,"user_id":21344958,"display_name":"Hal Jordan"},"score":0,"creation_date":1678202709,"post_id":75662401,"comment_id":133485367,"body_markdown":"Ah, Is it also possible to add them to packages and modules.","body":"Ah, Is it also possible to add them to packages and modules."}],"answers":[{"comments":[{"owner":{"account_id":6553087,"reputation":13,"user_id":21344958,"display_name":"Hal Jordan"},"score":0,"creation_date":1678198492,"post_id":75662644,"comment_id":133483874,"body_markdown":"I appreciate the informative answer.\nBut you misunderstood the intention of my question. It was just a doubt, not a request. And just for the specific case.","body":"I appreciate the informative answer. But you misunderstood the intention of my question. It was just a doubt, not a request. And just for the specific case."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1678200381,"post_id":75662644,"comment_id":133484557,"body_markdown":"Well, the doubt leads to &#39;... but can I write javadoc for the constructor lombok makes&#39;, and especially given that Stack Overflow questions are not for the individual (the design of SO is that all questions are general; somebody else in the future may also ask the same question and the answer should be useful for them just the same) - I thought I&#39;d fully answer the question _including_ the natural followup of: ... but how would I, and the followup on _that_ of &#39;.... but will it ever be possible&#39;? :)","body":"Well, the doubt leads to &#39;... but can I write javadoc for the constructor lombok makes&#39;, and especially given that Stack Overflow questions are not for the individual (the design of SO is that all questions are general; somebody else in the future may also ask the same question and the answer should be useful for them just the same) - I thought I&#39;d fully answer the question <i>including</i> the natural followup of: ... but how would I, and the followup on <i>that</i> of &#39;.... but will it ever be possible&#39;? :)"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678195969,"creation_date":1678195969,"answer_id":75662644,"question_id":75662401,"body_markdown":"lombok core maintainer here:\r\n\r\nIt is not possible to _directly_ javadoc the constructor that lombok generates. In theory lombok could set things up such that the javadoc that appears &#39;just above&#39; an annotation applies to the thing that annotation generates, but this is problematic for various reasons so I highly doubt we would ever add this:\r\n\r\n* Various lombok nodes generate multiple things, such as `@Getter` on a class which generates multiple getters.\r\n* Javac wants to bind those docs to something quite early in the process. We can work around it but it&#39;s technically asking for lots of bugreports.\r\n* It isn&#39;t compatible with many style guides and established ways of writing java code. Specifically, the vast majority of java programmers write their stuff as:\r\n\r\n```java\r\n/** javadoc */\r\n@Override public void foo() {}\r\n```\r\n\r\nand not as:\r\n\r\n```java\r\n@Override\r\n/** javadoc */\r\npublic void foo() {}\r\n```\r\n\r\neven though both are equally legal both as far as &#39;compile this code&#39; is concerned and as far as &#39;make javadoc based on this code&#39; is concerned.\r\n\r\nThat&#39;s a problem then: If everybody writes like this and lombok changes things so that:\r\n\r\n```java\r\n/** javadoc */\r\n@RequiredArgsConstructor\r\npublic class Foo {}\r\n```\r\n\r\nmeans that the javadoc is now on the constructor and not on the class, that&#39;s a breaking change, and one that tests won&#39;t catch (we wouldn&#39;t want to do that to our users!) - and even if somehow we accepted all that damage, that means users who are aware of this change and update their code accordingly need to write:\r\n\r\n```java\r\n@RequiredArgsConstructor\r\n/** javadoc */\r\npublic class Foo {}\r\n```\r\n\r\nand this is non-standard (in the sense that it doesn&#39;t match what 90%+ of all java programmers are used to, and lombok is not interested in attempting to change the established culture of the entire java ecosystem in that drastic a fashion unless it really, really pays off, and this is a few ballparks short of being useful enough to try it).\r\n\r\nAt best, we could say that this:\r\n\r\n```java\r\n/** javadoc A */\r\n@RequiredArgsConstructor\r\n/** javadoc B */\r\nclass Foo {}\r\n```\r\n\r\nis interpreted the way you want it to, but this &#39;feature&#39; would be very hard to discover, and we don&#39;t like adding features that are doomed to be used by virtually nobody. It&#39;s not worth the maintenance hassle and learning curve. If nobody knows this is how it works and they see your file where you do the above thing, do they even know what it means? Would they surmise this means if you delete `javadoc B`, that the javadoc now no longer applies to the constructor but only to the class, B has to be there so lombok knows that &#39;A&#39; is for the constructor? I doubt it, hence, we&#39;d veto this feature request if it works like this. Too likely to confuse.\r\n\r\nI guess if there is a need to specifically javadoc some boilerplate, then it is no longer boilerplate so you&#39;ll need to write it out long form.\r\n\r\n### But, really, just no shot at all?\r\n\r\nWe do have a &#39;feature&#39; that could be adopted for this: You can javadoc an individual field like so:\r\n\r\n```\r\n/**\r\n * A\r\n * -- SETTER --\r\n * B\r\n *\r\n * @param C\r\n */\r\n@Getter @Setter private String field;\r\n```\r\n\r\nand this results in lombok breaking that javadoc apart into bits, and is equivalent to:\r\n\r\n```\r\n/**\r\n * A\r\n */\r\nprivate String field;\r\n\r\n/**\r\n * A\r\n */\r\npublic String getField() { return field; }\r\n\r\n/**\r\n * B\r\n * @param C\r\n */\r\npublic void setField(String field) { this.field = field; }\r\n```\r\n\r\nThe same logic could be applied to class-level javadoc, that you could do something like:\r\n\r\n```\r\n/**\r\n * Water is wet\r\n * -- CONSTRUCTOR --\r\n * Circles are round\r\n */\r\n@RequiredArgsConstructor\r\npublic class Foo {}\r\n```\r\n\r\nand that lombok would break that javadoc apart into just &#39;water is wet&#39; to go on the class, and just &#39;Circles are round&#39; to go on the constructor. However, this is quite the change - presumably then you&#39;d want the constructor javadoc that lombok makes for you to include each field as a `@param`, perhaps copying over the javadoc on that field (but what if there&#39;s a ton of javadoc there? @param is not really intended to contain a lot, so do we just take the first sentence?\r\n\r\nYou see how that turns into a big feature that requires a lot of choices to be made. Point is, a feature request for this would not be immediately denied, but especially without an attached pull request with the feature implemented and the docs updated I doubt we&#39;d get around to fulfilling that request anytime soon.\r\n","title":"Add javadoc in annotations","body":"<p>lombok core maintainer here:</p>\n<p>It is not possible to <em>directly</em> javadoc the constructor that lombok generates. In theory lombok could set things up such that the javadoc that appears 'just above' an annotation applies to the thing that annotation generates, but this is problematic for various reasons so I highly doubt we would ever add this:</p>\n<ul>\n<li>Various lombok nodes generate multiple things, such as <code>@Getter</code> on a class which generates multiple getters.</li>\n<li>Javac wants to bind those docs to something quite early in the process. We can work around it but it's technically asking for lots of bugreports.</li>\n<li>It isn't compatible with many style guides and established ways of writing java code. Specifically, the vast majority of java programmers write their stuff as:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>/** javadoc */\n@Override public void foo() {}\n</code></pre>\n<p>and not as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n/** javadoc */\npublic void foo() {}\n</code></pre>\n<p>even though both are equally legal both as far as 'compile this code' is concerned and as far as 'make javadoc based on this code' is concerned.</p>\n<p>That's a problem then: If everybody writes like this and lombok changes things so that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/** javadoc */\n@RequiredArgsConstructor\npublic class Foo {}\n</code></pre>\n<p>means that the javadoc is now on the constructor and not on the class, that's a breaking change, and one that tests won't catch (we wouldn't want to do that to our users!) - and even if somehow we accepted all that damage, that means users who are aware of this change and update their code accordingly need to write:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\n/** javadoc */\npublic class Foo {}\n</code></pre>\n<p>and this is non-standard (in the sense that it doesn't match what 90%+ of all java programmers are used to, and lombok is not interested in attempting to change the established culture of the entire java ecosystem in that drastic a fashion unless it really, really pays off, and this is a few ballparks short of being useful enough to try it).</p>\n<p>At best, we could say that this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/** javadoc A */\n@RequiredArgsConstructor\n/** javadoc B */\nclass Foo {}\n</code></pre>\n<p>is interpreted the way you want it to, but this 'feature' would be very hard to discover, and we don't like adding features that are doomed to be used by virtually nobody. It's not worth the maintenance hassle and learning curve. If nobody knows this is how it works and they see your file where you do the above thing, do they even know what it means? Would they surmise this means if you delete <code>javadoc B</code>, that the javadoc now no longer applies to the constructor but only to the class, B has to be there so lombok knows that 'A' is for the constructor? I doubt it, hence, we'd veto this feature request if it works like this. Too likely to confuse.</p>\n<p>I guess if there is a need to specifically javadoc some boilerplate, then it is no longer boilerplate so you'll need to write it out long form.</p>\n<h3>But, really, just no shot at all?</h3>\n<p>We do have a 'feature' that could be adopted for this: You can javadoc an individual field like so:</p>\n<pre><code>/**\n * A\n * -- SETTER --\n * B\n *\n * @param C\n */\n@Getter @Setter private String field;\n</code></pre>\n<p>and this results in lombok breaking that javadoc apart into bits, and is equivalent to:</p>\n<pre><code>/**\n * A\n */\nprivate String field;\n\n/**\n * A\n */\npublic String getField() { return field; }\n\n/**\n * B\n * @param C\n */\npublic void setField(String field) { this.field = field; }\n</code></pre>\n<p>The same logic could be applied to class-level javadoc, that you could do something like:</p>\n<pre><code>/**\n * Water is wet\n * -- CONSTRUCTOR --\n * Circles are round\n */\n@RequiredArgsConstructor\npublic class Foo {}\n</code></pre>\n<p>and that lombok would break that javadoc apart into just 'water is wet' to go on the class, and just 'Circles are round' to go on the constructor. However, this is quite the change - presumably then you'd want the constructor javadoc that lombok makes for you to include each field as a <code>@param</code>, perhaps copying over the javadoc on that field (but what if there's a ton of javadoc there? @param is not really intended to contain a lot, so do we just take the first sentence?</p>\n<p>You see how that turns into a big feature that requires a lot of choices to be made. Point is, a feature request for this would not be immediately denied, but especially without an attached pull request with the feature implemented and the docs updated I doubt we'd get around to fulfilling that request anytime soon.</p>\n"}],"owner":{"account_id":6553087,"reputation":13,"user_id":21344958,"display_name":"Hal Jordan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":400,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75662644,"answer_count":1,"score":0,"last_activity_date":1678197125,"creation_date":1678194563,"question_id":75662401,"body_markdown":"I&#39;d like to add javadoc for an annotation, specifically for lombok.\r\n\r\nIf I do this:\r\n```\r\n/**\r\n * Custom constructor used only in &lt;code&gt;OrderMapper&lt;/code&gt;&lt;/p&gt;.\r\n * @param totalValue single parameter necessary to pass on the information to frontend\r\n * @see\t  &lt;a href= &quot;https://github.com/projectlombok/lombok/issues/1269&quot;&gt;Implicit @RequiredArgsConstructor on @Data will be removed when using @NoArgsConstructor #1269&lt;/a&gt;\r\n */\r\n@RequiredArgsConstructor \r\n```\r\nIt doesn&#39;t returns any errors but the javadoc is not generated.\r\n\r\nIt is even possible to do what I&#39;m trying to? If yes, What I&#39;m doing wrong?\r\n\r\n*I thought it was because of the generic constructor, but `@NoArgsConstructor` is unique and also doesn&#39;t work*.","title":"Add javadoc in annotations","body":"<p>I'd like to add javadoc for an annotation, specifically for lombok.</p>\n<p>If I do this:</p>\n<pre><code>/**\n * Custom constructor used only in &lt;code&gt;OrderMapper&lt;/code&gt;&lt;/p&gt;.\n * @param totalValue single parameter necessary to pass on the information to frontend\n * @see   &lt;a href= &quot;https://github.com/projectlombok/lombok/issues/1269&quot;&gt;Implicit @RequiredArgsConstructor on @Data will be removed when using @NoArgsConstructor #1269&lt;/a&gt;\n */\n@RequiredArgsConstructor \n</code></pre>\n<p>It doesn't returns any errors but the javadoc is not generated.</p>\n<p>It is even possible to do what I'm trying to? If yes, What I'm doing wrong?</p>\n<p><em>I thought it was because of the generic constructor, but <code>@NoArgsConstructor</code> is unique and also doesn't work</em>.</p>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"answers":[{"comments":[{"owner":{"account_id":18191330,"reputation":27,"user_id":13237132,"display_name":"jack_taylor123"},"score":0,"creation_date":1592208240,"post_id":62373127,"comment_id":110331445,"body_markdown":"I have tried removing &lt;div th:each=&quot;user:${users}&quot;&gt;, but that doesn&#39;t seem to work. As mentioned here (https://stackoverflow.com/a/35092065/13237132), using &quot;${#authentication.getPrincipal().getUser().getFirstName()}&quot; actually work, however, I am still unable to call my user&#39;s project objects. Any ideas? Thanks again!!!","body":"I have tried removing &lt;div th:each=&quot;user:${users}&quot;&gt;, but that doesn&#39;t seem to work. As mentioned here (<a href=\"https://stackoverflow.com/a/35092065/13237132\">stackoverflow.com/a/35092065/13237132</a>), using &quot;${#authentication.getPrincipal().getUser().getFirstName()}&quot; actually work, however, I am still unable to call my user&#39;s project objects. Any ideas? Thanks again!!!"}],"tags":[],"owner":{"account_id":13446567,"reputation":834,"user_id":9702353,"display_name":"Aritra Paul"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592141136,"creation_date":1592141136,"answer_id":62373127,"question_id":62345809,"body_markdown":"you have traversed `users` like list `&lt;div th:each=&quot;user:${users}&quot;&gt;` but from the controller, you passed it as a single object.\r\n\r\n    User user = userRepository.findByUsername(currentUser);\r\n    \r\n            model.addAttribute(&quot;users&quot;, user);\r\n\r\neither remove the loop from `html` or pass a list from the controller.","title":"Unable to Display Spring Boot Model Data in Thymeleaf","body":"<p>you have traversed <code>users</code> like list <code>&lt;div th:each=\"user:${users}\"&gt;</code> but from the controller, you passed it as a single object.</p>\n\n<pre><code>User user = userRepository.findByUsername(currentUser);\n\n        model.addAttribute(\"users\", user);\n</code></pre>\n\n<p>either remove the loop from <code>html</code> or pass a list from the controller.</p>\n"},{"tags":[],"owner":{"account_id":18864219,"reputation":311,"user_id":13760307,"display_name":"Nayan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1592388297,"creation_date":1592385596,"answer_id":62425636,"question_id":62345809,"body_markdown":"In the controller for the GetMapping(&quot;/dashboard&quot;) currentUser variable holds the value null,\r\n \r\nhence `User user = userRepository.findByUsername(currentUser)`;&lt;br&gt;\r\n-&gt; outputs the optional object.\r\n\r\n`List&lt;Project&gt; projectList = projectRepository.findByUser_Username(currentUser);`&lt;br&gt;\r\n-&gt; outputs the emptyList.\r\ntherefore unable to display the data.\r\n\r\nby using the Authentication or Principle object we can take out the current logged in user.\r\n\r\n","title":"Unable to Display Spring Boot Model Data in Thymeleaf","body":"<p>In the controller for the GetMapping(\"/dashboard\") currentUser variable holds the value null,</p>\n\n<p>hence <code>User user = userRepository.findByUsername(currentUser)</code>;<br>\n-> outputs the optional object.</p>\n\n<p><code>List&lt;Project&gt; projectList = projectRepository.findByUser_Username(currentUser);</code><br>\n-> outputs the emptyList.\ntherefore unable to display the data.</p>\n\n<p>by using the Authentication or Principle object we can take out the current logged in user.</p>\n"},{"tags":[],"owner":{"account_id":27957132,"reputation":1,"user_id":21349734,"display_name":"Piyush"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678196950,"creation_date":1678196950,"answer_id":75662828,"question_id":62345809,"body_markdown":"For beginners\r\n if you want to display model object with text in thymeleaf :\r\n\r\n    &lt; th:text=&quot; &#39;Hi&#39; + ${obj}&quot;&gt;","title":"Unable to Display Spring Boot Model Data in Thymeleaf","body":"<p>For beginners\nif you want to display model object with text in thymeleaf :</p>\n<pre><code>&lt; th:text=&quot; 'Hi' + ${obj}&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":18191330,"reputation":27,"user_id":13237132,"display_name":"jack_taylor123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":854,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62425636,"answer_count":3,"score":0,"last_activity_date":1678196950,"creation_date":1591970395,"question_id":62345809,"body_markdown":"Hi I am currently working on a Spring Boot Web Application which provides a Project Management Dashboard for Authenticated Users. The app currently consists of 3 main entity classes: User, Role and Project. Both Role and Project have a ManyToMany relationship with the class User. I am using Thymeleaf to display object data within my HTML template but it does not seem to pull my data correctly from my controller.\r\n\r\nWhenever, I call all user details and match the current user to the data row **it works**:\r\n\r\n```\r\n&lt;div th:each=&quot;allUser:${allUsers}&quot;&gt;\r\n               &lt;div th:if=&quot;${#authentication.getName() == allUser.username}&quot;&gt;\r\n\t\t\t\t&lt;span class=&quot;d-none d-lg-inline text-gray-600 small&quot; th:text=&quot;${allUser.firstName}&quot;&gt;&lt;/span&gt;\r\n\t\t\t\t&lt;span class=&quot;mr-4 d-none d-lg-inline text-gray-600 small&quot; th:text=&quot;${allUser.lastName}&quot;&gt;&lt;/span&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n               &lt;/div&gt;\r\n```\r\n\r\nHowever, when getting the current user in my controller **it doesn&#39;t to work**:\r\n\r\n```\r\n&lt;div th:each=&quot;user:${users}&quot;&gt;\r\n               &lt;div th:if=&quot;${#authentication.getName() == user.username}&quot;&gt;\r\n\t\t\t\t&lt;span class=&quot;d-none d-lg-inline text-gray-600 small&quot; th:text=&quot;${user.firstName}&quot;&gt;&lt;/span&gt;\r\n\t\t\t\t&lt;span class=&quot;mr-4 d-none d-lg-inline text-gray-600 small&quot; th:text=&quot;${user.lastName}&quot;&gt;&lt;/span&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n               &lt;/div&gt;\r\n```\r\n\r\nAdditionally, I am trying to display project information for projects assigned to the current user but that also does not print anything to the dashboard:\r\n\r\n```\r\n&lt;tr th:each=&quot;project:${projects}&quot;&gt;\r\n                      &lt;td th:text=&quot;${project.pxprojectname}&quot;&gt;&lt;/td&gt;\r\n                      &lt;td th:text=&quot;${project.initialpendingid}&quot;&gt;&lt;/td&gt;\r\n                      &lt;td th:text=&quot;${project.currentpendingid}&quot;&gt;&lt;/td&gt;\r\n                      &lt;td th:text=&quot;${project.completionstatus}&quot;&gt;&lt;/td&gt;\r\n                      &lt;td th:text=&quot;${project.manager}&quot;&gt;&lt;/td&gt;\r\n                      &lt;/tr&gt;\r\n```\r\n\r\nMy code can be found below:\r\n\r\n**User Class**\r\n```\r\n@Entity\r\n@Table(name = &quot;pxuser&quot;)\r\npublic class User {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\t@Column(name = &quot;tabid&quot;)\r\n\tprivate int tabid;\r\n\t\r\n\t@Column(name = &quot;username&quot;)\r\n    private String username;\r\n\t\r\n\t@Column(name = &quot;firstname&quot;)\r\n    private String firstName;\r\n\t\r\n\t@Column(name = &quot;lastname&quot;)\r\n    private String lastName;\r\n\t\r\n\t@Column(name = &quot;password&quot;)\r\n    private String password;\r\n\t\r\n\t@Column(name = &quot;active&quot;)\r\n    private boolean active;\r\n\t\r\n\t@ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n\t@JoinTable(name = &quot;pxuser_role&quot;, joinColumns = @JoinColumn(name = &quot;tabid&quot;), inverseJoinColumns = @JoinColumn(name = &quot;auth_role_id&quot;))\r\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n\r\n\t@ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n\t@JoinTable(name = &quot;pxassignment&quot;, joinColumns = @JoinColumn(name = &quot;usertabid&quot;), inverseJoinColumns = @JoinColumn(name = &quot;pxprojectid&quot;))\r\n    private Set&lt;Project&gt; projects = new HashSet&lt;&gt;();\r\n\t\r\n    public User() {\r\n\r\n    }\r\n    \r\n    public User(User user) {\r\n\t\tthis.tabid = user.getTabid();\r\n\t\tthis.username = user.getUsername();\r\n\t\tthis.firstName = user.getFirstName();\r\n\t\tthis.lastName = user.getLastName();\r\n\t\tthis.password = user.getPassword();\r\n\t\tthis.active = user.isActive();\r\n\t\tthis.roles = user.getRoles();\r\n\t\tthis.projects = user.getProjects();\r\n\t}\r\n\r\n\tpublic int getTabid() {\r\n\t\treturn tabid;\r\n\t}\r\n\r\n\tpublic void setTabid(int tabid) {\r\n\t\tthis.tabid = tabid;\r\n\t}\r\n\r\n\tpublic String getUsername() {\r\n\t\treturn username;\r\n\t}\r\n\r\n\tpublic void setUsername(String username) {\r\n\t\tthis.username = username;\r\n\t}\r\n\r\n\tpublic String getFirstName() {\r\n\t\treturn firstName;\r\n\t}\r\n\r\n\tpublic void setFirstName(String firstName) {\r\n\t\tthis.firstName = firstName;\r\n\t}\r\n\r\n\tpublic String getLastName() {\r\n\t\treturn lastName;\r\n\t}\r\n\r\n\tpublic void setLastName(String lastName) {\r\n\t\tthis.lastName = lastName;\r\n\t}\r\n\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\r\n\tpublic boolean isActive() {\r\n\t\treturn active;\r\n\t}\r\n\r\n\tpublic void setActive(boolean active) {\r\n\t\tthis.active = active;\r\n\t}\r\n\r\n\tpublic Set&lt;Role&gt; getRoles() {\r\n\t\treturn roles;\r\n\t}\r\n\r\n\tpublic void setRoles(Set&lt;Role&gt; roles) {\r\n\t\tthis.roles = roles;\r\n\t}\r\n\r\n\tpublic Set&lt;Project&gt; getProjects() {\r\n\t\treturn projects;\r\n\t}\r\n\r\n\tpublic void setProjects(Set&lt;Project&gt; projects) {\r\n\t\tthis.projects = projects;\r\n\t}\r\n \r\n}\r\n```\r\n**Project Class**\r\n```\r\n@Entity\r\n@Table(name = &quot;pxproject&quot;)\r\npublic class Project {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\t@Column(name = &quot;pxprojectid&quot;)\r\n\tprivate String pxprojectid;\r\n\t\r\n\t@Column(name = &quot;pxprojectname&quot;)\r\n\tprivate String pxprojectname;\r\n\t\r\n\t@Column(name = &quot;servername&quot;)\r\n\tprivate String servername;\r\n\t\r\n\t@Column(name = &quot;initialpendingid&quot;)\r\n\tprivate int initialpendingid;\r\n\t\r\n\t@Column(name = &quot;currentpendingid&quot;)\r\n\tprivate int currentpendingid;\r\n\t\r\n\t@Column(name = &quot;completionstatus&quot;)\r\n\tprivate String completionstatus;\r\n\t\r\n\t@Column(name = &quot;isactive&quot;)\r\n\tprivate boolean isactive;\r\n\t\r\n\t@Column(name = &quot;sfengagementid&quot;)\r\n\tprivate String sfengagementid;\r\n\t\r\n\t@Column(name = &quot;manager&quot;)\r\n\tprivate String manager;\r\n\r\n\t@ManyToMany(mappedBy = &quot;projects&quot;)\r\n    private Set&lt;User&gt; user = new HashSet&lt;&gt;();\r\n\t\r\n\t\r\n\tpublic Project() {\r\n\t}\r\n\r\n\tpublic Project(String pxprojectid, String pxprojectname, String servername, int initialpendingid, int currentpendingid, String completionstatus, boolean isactive, String sfengagementid, String manager, Set&lt;User&gt; users) {\r\n\t\t\r\n\t\tthis.pxprojectid = pxprojectid;\r\n\t\tthis.pxprojectname = pxprojectname;\r\n\t\tthis.servername = servername;\r\n\t\tthis.initialpendingid = initialpendingid;\r\n\t\tthis.currentpendingid = currentpendingid;\r\n\t\tthis.completionstatus = completionstatus;\r\n\t\tthis.isactive = isactive;\r\n\t\tthis.sfengagementid = sfengagementid;\r\n\t\tthis.manager = manager;\r\n\t\tthis.user = user;\r\n\t\t\r\n\t}\r\n\r\n\tpublic String getPxprojectid() {\r\n\t\treturn pxprojectid;\r\n\t}\r\n\r\n\tpublic void setPxprojectid(String pxprojectid) {\r\n\t\tthis.pxprojectid = pxprojectid;\r\n\t}\r\n\r\n\tpublic String getPxprojectname() {\r\n\t\treturn pxprojectname;\r\n\t}\r\n\r\n\tpublic void setPxprojectname(String pxprojectname) {\r\n\t\tthis.pxprojectname = pxprojectname;\r\n\t}\r\n\r\n\tpublic String getServername() {\r\n\t\treturn servername;\r\n\t}\r\n\r\n\tpublic void setServername(String servername) {\r\n\t\tthis.servername = servername;\r\n\t}\r\n\r\n\tpublic int getInitialpendingid() {\r\n\t\treturn initialpendingid;\r\n\t}\r\n\r\n\tpublic void setInitialpendingid(int initialpendingid) {\r\n\t\tthis.initialpendingid = initialpendingid;\r\n\t}\r\n\r\n\tpublic int getCurrentpendingid() {\r\n\t\treturn currentpendingid;\r\n\t}\r\n\r\n\tpublic void setCurrentpendingid(int currentpendingid) {\r\n\t\tthis.currentpendingid = currentpendingid;\r\n\t}\r\n\r\n\tpublic String getCompletionstatus() {\r\n\t\treturn completionstatus;\r\n\t}\r\n\r\n\tpublic void setCompletionstatus(String completionstatus) {\r\n\t\tthis.completionstatus = completionstatus;\r\n\t}\r\n\r\n\tpublic boolean isIsactive() {\r\n\t\treturn isactive;\r\n\t}\r\n\r\n\tpublic void setIsactive(boolean isactive) {\r\n\t\tthis.isactive = isactive;\r\n\t}\r\n\r\n\tpublic String getSfEngagementid() {\r\n\t\treturn sfengagementid;\r\n\t}\r\n\r\n\tpublic void setSfEngagementid(String sfengagementid) {\r\n\t\tthis.sfengagementid = sfengagementid;\r\n\t}\r\n\r\n\tpublic String getManager() {\r\n\t\treturn manager;\r\n\t}\r\n\r\n\tpublic void setManager(String manager) {\r\n\t\tthis.manager = manager;\r\n\t}\r\n\r\n\tpublic Set&lt;User&gt; getUser() {\r\n\t\treturn user;\r\n\t}\r\n\r\n\tpublic void setUser(Set&lt;User&gt; user) {\r\n\t\tthis.user = user;\r\n\t}\r\n\t\r\n}\r\n```\r\n**Role Class**\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;pxrole&quot;)\r\npublic class Role {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\t@Column(name = &quot;auth_role_id&quot;)\r\n\tprivate int auth_role_id;\r\n\t\r\n\t@Column(name = &quot;role_name&quot;)\r\n\tprivate String role_name;\r\n\t\r\n\t@Column(name = &quot;role_desc&quot;)\r\n\tprivate String role_desc;\r\n\r\n\tpublic Role() {\r\n\t\t\r\n\t}\r\n\r\n\tpublic int getAuth_role_id() {\r\n\t\treturn auth_role_id;\r\n\t}\r\n\r\n\tpublic void setAuth_role_id(int auth_role_id) {\r\n\t\tthis.auth_role_id = auth_role_id;\r\n\t}\r\n\r\n\tpublic String getRole_name() {\r\n\t\treturn role_name;\r\n\t}\r\n\r\n\tpublic void setRole_name(String role_name) {\r\n\t\tthis.role_name = role_name;\r\n\t}\r\n\r\n\tpublic String getRole_desc() {\r\n\t\treturn role_desc;\r\n\t}\r\n\r\n\tpublic void setRole_desc(String role_desc) {\r\n\t\tthis.role_desc = role_desc;\r\n\t}\r\n}\r\n```\r\n\r\n**Controller**\r\n\r\n```\r\n@Controller\r\npublic class HomeController {\r\n\t\r\n\t @Autowired \r\n\t ProjectRepository projectRepository;\r\n\t \r\n\t @Autowired \r\n\t ProjectService projectService;\r\n\t\r\n\t @Autowired \r\n\t UserRepository userRepository;\r\n\t \r\n\t @Autowired \r\n\t CustomUserDetailsService customUserDetailsService;\r\n\r\n\t\r\n\t@GetMapping(&quot;/&quot;)\r\n\t\tpublic String index() {\r\n\t\t\treturn &quot;index&quot;;\r\n\t\t}\r\n\r\n\t\r\n\t@GetMapping(&quot;/dashboard&quot;)\r\n\tpublic String dashboard(Model model, String currentUser) {\t\r\n\t\t\r\n\r\n\t\tList&lt;Project&gt; projectList = projectRepository.findByUser_Username(currentUser);\r\n\t\t\r\n\t\tList&lt;User&gt; userList = customUserDetailsService.getAllUsersDetails();\r\n\t\t\r\n\t\tUser user = userRepository.findByUsername(currentUser);\r\n\t\t\r\n\t\tmodel.addAttribute(&quot;projects&quot;, projectList);\r\n\t\tmodel.addAttribute(&quot;allUsers&quot;, userList);\r\n\t\tmodel.addAttribute(&quot;users&quot;, user);\r\n\t\t\t\r\n\t\treturn &quot;index&quot;;\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/admin&quot;)\r\n\tpublic String admin() {\r\n\t\treturn &quot;admin&quot;;\r\n\t}\r\n\t\r\n\t // Login form\r\n\t@GetMapping(&quot;/login&quot;)\r\n\t\tpublic String login() {\r\n\t\treturn &quot;login&quot;;\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/logout&quot;)\r\n\tpublic String logout() {\r\n\treturn &quot;login?logout&quot;;\r\n}\r\n\t\r\n\t@GetMapping(&quot;/dashboard/projects&quot;)\r\n\tpublic String projects() {\r\n\t\treturn &quot;projects&quot;;\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/error&quot;)\r\n\tpublic String error() {\r\n\t\treturn &quot;error&quot;;\r\n\t}\r\n}\r\n```\r\n\r\n**User Repository**\r\n```\r\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt;{\r\n\tpublic User findByUsername(String username);\r\n}\r\n```\r\n**Project Repository**\r\n```\r\npublic interface ProjectRepository  extends JpaRepository&lt;Project, Integer&gt;{\r\n\tList&lt;Project&gt; findByUser_Username(String username);\r\n}\r\n```\r\n\r\n**Custom User Details Service**\r\n```\r\n@Service\r\npublic class CustomUserDetailsService implements UserDetailsService{\r\n\r\n\t@Autowired\r\n\tUserRepository userRepository;\r\n\t\r\n\t\r\n\t@Override\r\n\tpublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException{\r\n\t\t\r\n\t\tUser user = userRepository.findByUsername(username);\r\n\t\t\r\n\t\t\r\n\t\tif (user == null) {\r\n\t\t\tthrow new UsernameNotFoundException(&quot;Invalid username or password.&quot;);\r\n\t\t}\t\t\r\n\t\treturn new CustomUserDetails (user);\r\n    }\t\r\n\tpublic List&lt;User&gt; getAllUsersDetails(){\t\t\r\n\t\treturn userRepository.findAll();\r\n\t}\r\n}\r\n```\r\n\r\n**Project Service**\r\n```\r\n@Service\r\npublic class ProjectService {\r\n\r\n\t@Autowired\r\n\tprivate ProjectRepository projectRepository;\r\n\t\r\n\t//Return List of All Projects\r\n\tpublic List&lt;Project&gt; getProjects(){\r\n\t\treturn projectRepository.findAll();\r\n\t\t\r\n\t\t}\r\n\t\r\n\t//Return List of Projects by Username\r\n\tpublic List&lt;Project&gt; getProjectsByUserUsername(String username){\r\n\t\treturn projectRepository.findByUser_Username(username);\r\n\t}\t\r\n}\r\n```\r\nAny help is much appreciated! \r\nThanks!!!","title":"Unable to Display Spring Boot Model Data in Thymeleaf","body":"<p>Hi I am currently working on a Spring Boot Web Application which provides a Project Management Dashboard for Authenticated Users. The app currently consists of 3 main entity classes: User, Role and Project. Both Role and Project have a ManyToMany relationship with the class User. I am using Thymeleaf to display object data within my HTML template but it does not seem to pull my data correctly from my controller.</p>\n\n<p>Whenever, I call all user details and match the current user to the data row <strong>it works</strong>:</p>\n\n<pre><code>&lt;div th:each=\"allUser:${allUsers}\"&gt;\n               &lt;div th:if=\"${#authentication.getName() == allUser.username}\"&gt;\n                &lt;span class=\"d-none d-lg-inline text-gray-600 small\" th:text=\"${allUser.firstName}\"&gt;&lt;/span&gt;\n                &lt;span class=\"mr-4 d-none d-lg-inline text-gray-600 small\" th:text=\"${allUser.lastName}\"&gt;&lt;/span&gt;\n                &lt;/div&gt;\n               &lt;/div&gt;\n</code></pre>\n\n<p>However, when getting the current user in my controller <strong>it doesn't to work</strong>:</p>\n\n<pre><code>&lt;div th:each=\"user:${users}\"&gt;\n               &lt;div th:if=\"${#authentication.getName() == user.username}\"&gt;\n                &lt;span class=\"d-none d-lg-inline text-gray-600 small\" th:text=\"${user.firstName}\"&gt;&lt;/span&gt;\n                &lt;span class=\"mr-4 d-none d-lg-inline text-gray-600 small\" th:text=\"${user.lastName}\"&gt;&lt;/span&gt;\n                &lt;/div&gt;\n               &lt;/div&gt;\n</code></pre>\n\n<p>Additionally, I am trying to display project information for projects assigned to the current user but that also does not print anything to the dashboard:</p>\n\n<pre><code>&lt;tr th:each=\"project:${projects}\"&gt;\n                      &lt;td th:text=\"${project.pxprojectname}\"&gt;&lt;/td&gt;\n                      &lt;td th:text=\"${project.initialpendingid}\"&gt;&lt;/td&gt;\n                      &lt;td th:text=\"${project.currentpendingid}\"&gt;&lt;/td&gt;\n                      &lt;td th:text=\"${project.completionstatus}\"&gt;&lt;/td&gt;\n                      &lt;td th:text=\"${project.manager}\"&gt;&lt;/td&gt;\n                      &lt;/tr&gt;\n</code></pre>\n\n<p>My code can be found below:</p>\n\n<p><strong>User Class</strong></p>\n\n<pre><code>@Entity\n@Table(name = \"pxuser\")\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = \"tabid\")\n    private int tabid;\n\n    @Column(name = \"username\")\n    private String username;\n\n    @Column(name = \"firstname\")\n    private String firstName;\n\n    @Column(name = \"lastname\")\n    private String lastName;\n\n    @Column(name = \"password\")\n    private String password;\n\n    @Column(name = \"active\")\n    private boolean active;\n\n    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JoinTable(name = \"pxuser_role\", joinColumns = @JoinColumn(name = \"tabid\"), inverseJoinColumns = @JoinColumn(name = \"auth_role_id\"))\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JoinTable(name = \"pxassignment\", joinColumns = @JoinColumn(name = \"usertabid\"), inverseJoinColumns = @JoinColumn(name = \"pxprojectid\"))\n    private Set&lt;Project&gt; projects = new HashSet&lt;&gt;();\n\n    public User() {\n\n    }\n\n    public User(User user) {\n        this.tabid = user.getTabid();\n        this.username = user.getUsername();\n        this.firstName = user.getFirstName();\n        this.lastName = user.getLastName();\n        this.password = user.getPassword();\n        this.active = user.isActive();\n        this.roles = user.getRoles();\n        this.projects = user.getProjects();\n    }\n\n    public int getTabid() {\n        return tabid;\n    }\n\n    public void setTabid(int tabid) {\n        this.tabid = tabid;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public boolean isActive() {\n        return active;\n    }\n\n    public void setActive(boolean active) {\n        this.active = active;\n    }\n\n    public Set&lt;Role&gt; getRoles() {\n        return roles;\n    }\n\n    public void setRoles(Set&lt;Role&gt; roles) {\n        this.roles = roles;\n    }\n\n    public Set&lt;Project&gt; getProjects() {\n        return projects;\n    }\n\n    public void setProjects(Set&lt;Project&gt; projects) {\n        this.projects = projects;\n    }\n\n}\n</code></pre>\n\n<p><strong>Project Class</strong></p>\n\n<pre><code>@Entity\n@Table(name = \"pxproject\")\npublic class Project {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = \"pxprojectid\")\n    private String pxprojectid;\n\n    @Column(name = \"pxprojectname\")\n    private String pxprojectname;\n\n    @Column(name = \"servername\")\n    private String servername;\n\n    @Column(name = \"initialpendingid\")\n    private int initialpendingid;\n\n    @Column(name = \"currentpendingid\")\n    private int currentpendingid;\n\n    @Column(name = \"completionstatus\")\n    private String completionstatus;\n\n    @Column(name = \"isactive\")\n    private boolean isactive;\n\n    @Column(name = \"sfengagementid\")\n    private String sfengagementid;\n\n    @Column(name = \"manager\")\n    private String manager;\n\n    @ManyToMany(mappedBy = \"projects\")\n    private Set&lt;User&gt; user = new HashSet&lt;&gt;();\n\n\n    public Project() {\n    }\n\n    public Project(String pxprojectid, String pxprojectname, String servername, int initialpendingid, int currentpendingid, String completionstatus, boolean isactive, String sfengagementid, String manager, Set&lt;User&gt; users) {\n\n        this.pxprojectid = pxprojectid;\n        this.pxprojectname = pxprojectname;\n        this.servername = servername;\n        this.initialpendingid = initialpendingid;\n        this.currentpendingid = currentpendingid;\n        this.completionstatus = completionstatus;\n        this.isactive = isactive;\n        this.sfengagementid = sfengagementid;\n        this.manager = manager;\n        this.user = user;\n\n    }\n\n    public String getPxprojectid() {\n        return pxprojectid;\n    }\n\n    public void setPxprojectid(String pxprojectid) {\n        this.pxprojectid = pxprojectid;\n    }\n\n    public String getPxprojectname() {\n        return pxprojectname;\n    }\n\n    public void setPxprojectname(String pxprojectname) {\n        this.pxprojectname = pxprojectname;\n    }\n\n    public String getServername() {\n        return servername;\n    }\n\n    public void setServername(String servername) {\n        this.servername = servername;\n    }\n\n    public int getInitialpendingid() {\n        return initialpendingid;\n    }\n\n    public void setInitialpendingid(int initialpendingid) {\n        this.initialpendingid = initialpendingid;\n    }\n\n    public int getCurrentpendingid() {\n        return currentpendingid;\n    }\n\n    public void setCurrentpendingid(int currentpendingid) {\n        this.currentpendingid = currentpendingid;\n    }\n\n    public String getCompletionstatus() {\n        return completionstatus;\n    }\n\n    public void setCompletionstatus(String completionstatus) {\n        this.completionstatus = completionstatus;\n    }\n\n    public boolean isIsactive() {\n        return isactive;\n    }\n\n    public void setIsactive(boolean isactive) {\n        this.isactive = isactive;\n    }\n\n    public String getSfEngagementid() {\n        return sfengagementid;\n    }\n\n    public void setSfEngagementid(String sfengagementid) {\n        this.sfengagementid = sfengagementid;\n    }\n\n    public String getManager() {\n        return manager;\n    }\n\n    public void setManager(String manager) {\n        this.manager = manager;\n    }\n\n    public Set&lt;User&gt; getUser() {\n        return user;\n    }\n\n    public void setUser(Set&lt;User&gt; user) {\n        this.user = user;\n    }\n\n}\n</code></pre>\n\n<p><strong>Role Class</strong></p>\n\n<pre><code>@Entity\n@Table(name = \"pxrole\")\npublic class Role {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = \"auth_role_id\")\n    private int auth_role_id;\n\n    @Column(name = \"role_name\")\n    private String role_name;\n\n    @Column(name = \"role_desc\")\n    private String role_desc;\n\n    public Role() {\n\n    }\n\n    public int getAuth_role_id() {\n        return auth_role_id;\n    }\n\n    public void setAuth_role_id(int auth_role_id) {\n        this.auth_role_id = auth_role_id;\n    }\n\n    public String getRole_name() {\n        return role_name;\n    }\n\n    public void setRole_name(String role_name) {\n        this.role_name = role_name;\n    }\n\n    public String getRole_desc() {\n        return role_desc;\n    }\n\n    public void setRole_desc(String role_desc) {\n        this.role_desc = role_desc;\n    }\n}\n</code></pre>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>@Controller\npublic class HomeController {\n\n     @Autowired \n     ProjectRepository projectRepository;\n\n     @Autowired \n     ProjectService projectService;\n\n     @Autowired \n     UserRepository userRepository;\n\n     @Autowired \n     CustomUserDetailsService customUserDetailsService;\n\n\n    @GetMapping(\"/\")\n        public String index() {\n            return \"index\";\n        }\n\n\n    @GetMapping(\"/dashboard\")\n    public String dashboard(Model model, String currentUser) {  \n\n\n        List&lt;Project&gt; projectList = projectRepository.findByUser_Username(currentUser);\n\n        List&lt;User&gt; userList = customUserDetailsService.getAllUsersDetails();\n\n        User user = userRepository.findByUsername(currentUser);\n\n        model.addAttribute(\"projects\", projectList);\n        model.addAttribute(\"allUsers\", userList);\n        model.addAttribute(\"users\", user);\n\n        return \"index\";\n    }\n\n    @GetMapping(\"/admin\")\n    public String admin() {\n        return \"admin\";\n    }\n\n     // Login form\n    @GetMapping(\"/login\")\n        public String login() {\n        return \"login\";\n    }\n\n    @GetMapping(\"/logout\")\n    public String logout() {\n    return \"login?logout\";\n}\n\n    @GetMapping(\"/dashboard/projects\")\n    public String projects() {\n        return \"projects\";\n    }\n\n    @GetMapping(\"/error\")\n    public String error() {\n        return \"error\";\n    }\n}\n</code></pre>\n\n<p><strong>User Repository</strong></p>\n\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Integer&gt;{\n    public User findByUsername(String username);\n}\n</code></pre>\n\n<p><strong>Project Repository</strong></p>\n\n<pre><code>public interface ProjectRepository  extends JpaRepository&lt;Project, Integer&gt;{\n    List&lt;Project&gt; findByUser_Username(String username);\n}\n</code></pre>\n\n<p><strong>Custom User Details Service</strong></p>\n\n<pre><code>@Service\npublic class CustomUserDetailsService implements UserDetailsService{\n\n    @Autowired\n    UserRepository userRepository;\n\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException{\n\n        User user = userRepository.findByUsername(username);\n\n\n        if (user == null) {\n            throw new UsernameNotFoundException(\"Invalid username or password.\");\n        }       \n        return new CustomUserDetails (user);\n    }   \n    public List&lt;User&gt; getAllUsersDetails(){     \n        return userRepository.findAll();\n    }\n}\n</code></pre>\n\n<p><strong>Project Service</strong></p>\n\n<pre><code>@Service\npublic class ProjectService {\n\n    @Autowired\n    private ProjectRepository projectRepository;\n\n    //Return List of All Projects\n    public List&lt;Project&gt; getProjects(){\n        return projectRepository.findAll();\n\n        }\n\n    //Return List of Projects by Username\n    public List&lt;Project&gt; getProjectsByUserUsername(String username){\n        return projectRepository.findByUser_Username(username);\n    }   \n}\n</code></pre>\n\n<p>Any help is much appreciated! \nThanks!!!</p>\n"},{"tags":["java","caching","integer","boxing"],"answers":[{"comments":[{"owner":{"account_id":203255,"reputation":10399,"user_id":450811,"accept_rate":77,"display_name":"Waldheinz"},"score":1,"creation_date":1287068130,"post_id":3934339,"comment_id":4198653,"body_markdown":"Although you don&#39;t specifically answer the OP&#39;s question, I 100% agree with you here. Pooling such &quot;cheap&quot; Objects is almost certainly a bad idea.","body":"Although you don&#39;t specifically answer the OP&#39;s question, I 100% agree with you here. Pooling such &quot;cheap&quot; Objects is almost certainly a bad idea."}],"tags":[],"owner":{"account_id":130717,"reputation":14948,"user_id":330184,"accept_rate":80,"display_name":"bwawok"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1287067144,"creation_date":1287067144,"answer_id":3934339,"question_id":3934291,"body_markdown":"My questions to you are:\r\n\r\n1) Why is your code making new Integer objects hurting you? Do you have a profile result to share, to prove that making too many Integers is slowing your down?  Object pooling, in general, is a BAD idea. You need a good case to justify it.\r\n\r\n2) Why are you doing new Integer(int)? If you just keep it as a primitive int, not only will you avoid &quot;creating a new object&quot;. you will not create any object at all. Auto boxing will handle converting it to an Integer if you need it at a later point in time.\r\n\r\n*Disclaimer I Don&#39;t use EITHER.. I write performance sensitive code, but have never come to a point where I would manually turn a primitive int into an Integer. I just keep as an int whenever possible, and let the JVM autobox if it is needed.","title":"Extending java Integer cache","body":"<p>My questions to you are:</p>\n\n<p>1) Why is your code making new Integer objects hurting you? Do you have a profile result to share, to prove that making too many Integers is slowing your down?  Object pooling, in general, is a BAD idea. You need a good case to justify it.</p>\n\n<p>2) Why are you doing new Integer(int)? If you just keep it as a primitive int, not only will you avoid \"creating a new object\". you will not create any object at all. Auto boxing will handle converting it to an Integer if you need it at a later point in time.</p>\n\n<p>*Disclaimer I Don't use EITHER.. I write performance sensitive code, but have never come to a point where I would manually turn a primitive int into an Integer. I just keep as an int whenever possible, and let the JVM autobox if it is needed.</p>\n"},{"tags":[],"owner":{"account_id":21485,"reputation":24909,"user_id":52233,"display_name":"Alan Geleynse"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1287067800,"creation_date":1287067800,"answer_id":3934458,"question_id":3934291,"body_markdown":"Extending the range of the cache may not get you what you are wanting, but if you have a real need to cache a greater range, you can use this code instead of Integer.valueOf(int).  You just need to adjust the cache range values to the range you want.\r\n\r\n    private static class IntegerCache \r\n    {\r\n        private IntegerCache(){}\r\n    \r\n        static final Integer cache[] = new Integer[-(-128) + 127 + 1];\r\n\r\n        static \r\n        {\r\n            for(int i = 0; i &lt; cache.length; i++)\r\n            cache[i] = new Integer(i - 128); \r\n        }\r\n    }\r\n    \r\n    public static Integer valueOf(int i) \r\n    {\r\n        final int offset = 128;\r\n        if (i &gt;= -128 &amp;&amp; i &lt;= 127) // must cache \r\n        {\r\n            return IntegerCache.cache[i + offset];\r\n        }\r\n        return new Integer(i);\r\n    }\r\n\r\nThe code is from: http://www.owasp.org/index.php/Java_gotchas","title":"Extending java Integer cache","body":"<p>Extending the range of the cache may not get you what you are wanting, but if you have a real need to cache a greater range, you can use this code instead of Integer.valueOf(int).  You just need to adjust the cache range values to the range you want.</p>\n\n<pre><code>private static class IntegerCache \n{\n    private IntegerCache(){}\n\n    static final Integer cache[] = new Integer[-(-128) + 127 + 1];\n\n    static \n    {\n        for(int i = 0; i &lt; cache.length; i++)\n        cache[i] = new Integer(i - 128); \n    }\n}\n\npublic static Integer valueOf(int i) \n{\n    final int offset = 128;\n    if (i &gt;= -128 &amp;&amp; i &lt;= 127) // must cache \n    {\n        return IntegerCache.cache[i + offset];\n    }\n    return new Integer(i);\n}\n</code></pre>\n\n<p>The code is from: <a href=\"http://www.owasp.org/index.php/Java_gotchas\" rel=\"nofollow\">http://www.owasp.org/index.php/Java_gotchas</a></p>\n"},{"tags":[],"owner":{"account_id":173843,"reputation":1974,"user_id":402805,"display_name":"Daniel Teply"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1287075826,"creation_date":1287075826,"answer_id":3935634,"question_id":3934291,"body_markdown":"You can use the java.lang.Integer.IntegerCache.high property to increase the size of this cache.  \r\nex :  \r\n&gt;     java -Djava.lang.Integer.IntegerCache.high=4096 SomeClass.class","title":"Extending java Integer cache","body":"<p>You can use the java.lang.Integer.IntegerCache.high property to increase the size of this cache.<br>\nex :  </p>\n\n<blockquote>\n<pre><code>java -Djava.lang.Integer.IntegerCache.high=4096 SomeClass.class\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":22589,"reputation":7074,"user_id":55870,"accept_rate":88,"display_name":"Dan Berindei"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343960280,"creation_date":1301823643,"answer_id":5528778,"question_id":3934291,"body_markdown":"[This is why the integer cache was added](http://blogs.oracle.com/darcy/entry/boxing_and_caches_integer_valueof):\r\n\r\n&gt; [...] to support the object identity semantics of autoboxing for values between -128 and 127 (inclusive), as required by the language specification.\r\n\r\nIf you profiled your app and you noticed that creating Integer objects is a hotspot, then by all means, copy the integer cache code and write your own with a different range. Otherwise your time would be better spent finding the real hotspots and improving those.","title":"Extending java Integer cache","body":"<p><a href=\"http://blogs.oracle.com/darcy/entry/boxing_and_caches_integer_valueof\" rel=\"nofollow\">This is why the integer cache was added</a>:</p>\n\n<blockquote>\n  <p>[...] to support the object identity semantics of autoboxing for values between -128 and 127 (inclusive), as required by the language specification.</p>\n</blockquote>\n\n<p>If you profiled your app and you noticed that creating Integer objects is a hotspot, then by all means, copy the integer cache code and write your own with a different range. Otherwise your time would be better spent finding the real hotspots and improving those.</p>\n"},{"tags":[],"owner":{"account_id":1925798,"reputation":1207,"user_id":1736287,"display_name":"cpurdy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1394230963,"creation_date":1394230963,"answer_id":22261863,"question_id":3934291,"body_markdown":"Apparently, the -XX:+AggressiveOpts sets the max to 20000. See the answer on https://stackoverflow.com/questions/15052216/how-large-is-the-integer-cache","title":"Extending java Integer cache","body":"<p>Apparently, the -XX:+AggressiveOpts sets the max to 20000. See the answer on <a href=\"https://stackoverflow.com/questions/15052216/how-large-is-the-integer-cache\">How large is the Integer cache?</a></p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678196928,"creation_date":1678121930,"answer_id":75653697,"question_id":3934291,"body_markdown":"Using java 8+ features of lambdas and the `Map interface` and  you can do it like so.  Create an independent cache using a `Map` that is preserved due to closure. This cache will be accessed during all invocations of `get()` for each `newCache` that is created.\r\n- `get(int value)` will return the same instance if it is under the limit, otherwise, it returns the new instance.\r\n- [Map.computeIfAbsent()](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#computeIfAbsent(K,java.util.function.Function)) will place the instance in the map if it is not there. The value that is in the map (just added or existing) will be returned; \r\n```\r\n@FunctionalInterface\r\ninterface IntegerCache {\r\n\r\n    Integer get(int value);\r\n\r\n    static IntegerCache newCache(int limit) {\r\n        // create a closure of the map and return the method\r\n        final Map&lt;Integer, Integer&gt; cache = new HashMap&lt;&gt;();\r\n\r\n        return value -&gt; {\r\n            Integer retVal = Integer.valueOf(value);\r\n            if (value &lt; limit) {\r\n                return cache.computeIfAbsent(value, v -&gt; Integer.valueOf(v));\r\n            }\r\n            return retVal;\r\n        };\r\n    }\r\n}\r\nIntegerCache cache = IntegerCache.newCache(1001);\r\nInteger a = cache.get(1000);  // under the limt\r\nInteger b = cache.get(1000);\r\nSystem.out.println(a == b);\r\na = cache.get(1002);          // over the limit\r\nb = cache.get(1002);\r\nSystem.out.println(a == b);\r\n```\r\nprints\r\n```\r\ntrue\r\nfalse\r\n","title":"Extending java Integer cache","body":"<p>Using java 8+ features of lambdas and the <code>Map interface</code> and  you can do it like so.  Create an independent cache using a <code>Map</code> that is preserved due to closure. This cache will be accessed during all invocations of <code>get()</code> for each <code>newCache</code> that is created.</p>\n<ul>\n<li><code>get(int value)</code> will return the same instance if it is under the limit, otherwise, it returns the new instance.</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#computeIfAbsent(K,java.util.function.Function)\" rel=\"nofollow noreferrer\">Map.computeIfAbsent()</a> will place the instance in the map if it is not there. The value that is in the map (just added or existing) will be returned;</li>\n</ul>\n<pre><code>@FunctionalInterface\ninterface IntegerCache {\n\n    Integer get(int value);\n\n    static IntegerCache newCache(int limit) {\n        // create a closure of the map and return the method\n        final Map&lt;Integer, Integer&gt; cache = new HashMap&lt;&gt;();\n\n        return value -&gt; {\n            Integer retVal = Integer.valueOf(value);\n            if (value &lt; limit) {\n                return cache.computeIfAbsent(value, v -&gt; Integer.valueOf(v));\n            }\n            return retVal;\n        };\n    }\n}\nIntegerCache cache = IntegerCache.newCache(1001);\nInteger a = cache.get(1000);  // under the limt\nInteger b = cache.get(1000);\nSystem.out.println(a == b);\na = cache.get(1002);          // over the limit\nb = cache.get(1002);\nSystem.out.println(a == b);\n</code></pre>\n<p>prints</p>\n<pre><code>true\nfalse\n</code></pre>\n"}],"owner":{"account_id":620810,"reputation":151,"user_id":362482,"display_name":"Trustin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4624,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":6,"score":4,"last_activity_date":1678196928,"creation_date":1287066888,"question_id":3934291,"body_markdown":"There&#39;s a general advice to use `Integer.valueOf(int)` instead of `new Integer(int)` because of caching. \r\n\r\nIn JDK 5+, you should really use `valueOf` because `Integer` now caches `Integer` objects between `-128` and `127` and can hand you back the same exact `Integer(0)` object every time instead of wasting an object construction on a brand new identical `Integer` object. \r\n\r\nHow can extend the range?","title":"Extending java Integer cache","body":"<p>There's a general advice to use <code>Integer.valueOf(int)</code> instead of <code>new Integer(int)</code> because of caching. </p>\n\n<p>In JDK 5+, you should really use <code>valueOf</code> because <code>Integer</code> now caches <code>Integer</code> objects between <code>-128</code> and <code>127</code> and can hand you back the same exact <code>Integer(0)</code> object every time instead of wasting an object construction on a brand new identical <code>Integer</code> object. </p>\n\n<p>How can extend the range?</p>\n"},{"tags":["java","jar"],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678196835,"creation_date":1678196835,"answer_id":75662808,"question_id":75660307,"body_markdown":"Like any  other Console Application....with the Command-Line. The `/?` tag (`AppName.jar /?`) would generally mean to display a short Command-Line help document presentation only. This help could be hard-coded but would be better if read in from a local text file or run from a batch file. Specific tags would be specific parameters for your application, for example, \r\n\r\n    MyAppplicationName.jar /pass:MyPassword /title:&quot;A&amp;B Company&quot; /name:&quot;Tom Jones&quot;\r\n\r\nNote that strings after the Command-Line tags which contain white-spaces are enclosed within quotation (&quot;&quot;) marks. A single white-space must be between each Command-Line tag. Command-Line tags can be supplied in any order using the below demo code:\r\n\r\nHere is a runnable demo which demonstrates:\r\n\r\n```\r\npublic class CommandLineDemo {\r\n\r\n    public final static String LS = System.lineSeparator();\r\n    public final static java.util.Scanner userInput = new java.util.Scanner(System.in);\r\n    \r\n    private String userName;\r\n    private String userPassword;\r\n    private String appTitle;\r\n    \r\n    \r\n    public static void main(String[] args) {\r\n        // App started this way to avoid the need for statics:\r\n        new CommandLineDemo().startApp(args);\r\n    }\r\n    \r\n    private void startApp(String[] args) {\r\n        if (args.length &gt; 0) {\r\n            for (String arg : args) {\r\n                String[] argParts = arg.split(&quot;:&quot;);\r\n                switch (argParts[0].toLowerCase()) {\r\n                    case &quot;/?&quot;: case &quot;/help&quot;:\r\n                        displayHelp();\r\n                        System.exit(0);\r\n                        break;\r\n                    case &quot;/name&quot;:\r\n                        this.userName = argParts[1];\r\n                        break;\r\n                    case &quot;/pass&quot;:\r\n                        this.userPassword = argParts[1];\r\n                        break;\r\n                    case &quot;/title&quot;:\r\n                        this.appTitle = argParts[1];\r\n                        break;\r\n                    // etc, etc, etc, ...\r\n                }\r\n            }\r\n        }\r\n        \r\n        System.out.println(&quot;Application Title: -&gt; &quot; + this.appTitle);\r\n        System.out.println(&quot;User Name:         -&gt; &quot; + this.userName);\r\n        System.out.println(&quot;User Password:     -&gt; &quot; + this.userPassword);\r\n    }\r\n    \r\n    private void displayHelp() {\r\n        // Apply your help mechanism here (whatever it will be)...\r\n        System.out.println();\r\n        System.out.println(&quot;Application Help:&quot; + LS + &quot;================&quot;);\r\n        System.out.println(&quot;Any text after a command-line tag which contains one or more&quot;);\r\n        System.out.println(&quot;white-spaces must be enclosed within quotation (\\&quot;\\&quot;) marks.&quot; + LS);\r\n        System.out.println(&quot;Command-Line Tags:&quot; + LS + &quot;==================&quot;);\r\n        System.out.printf(&quot;%-12s %-100s%n&quot;, &quot;/title:&quot;, &quot;The title for application (Company Name or whatever).&quot;);\r\n        System.out.printf(&quot;%-12s %-100s%n&quot;, &quot;/name:&quot;, &quot;The User Name     (required).&quot;);\r\n        System.out.printf(&quot;%-12s %-100s%n&quot;, &quot;/pass:&quot;, &quot;The User Password (required).&quot;);\r\n        System.out.println(&quot;*** More help would go here ***&quot;);\r\n        System.out.println(LS + &quot;&lt;&lt; Press ENTER to continue &gt;&gt;&quot;);\r\n        String tmp = userInput.nextLine();\r\n    }\r\n}\r\n```","title":"overloaded jar run with flags via cmd (like init, help etc)","body":"<p>Like any  other Console Application....with the Command-Line. The <code>/?</code> tag (<code>AppName.jar /?</code>) would generally mean to display a short Command-Line help document presentation only. This help could be hard-coded but would be better if read in from a local text file or run from a batch file. Specific tags would be specific parameters for your application, for example,</p>\n<pre><code>MyAppplicationName.jar /pass:MyPassword /title:&quot;A&amp;B Company&quot; /name:&quot;Tom Jones&quot;\n</code></pre>\n<p>Note that strings after the Command-Line tags which contain white-spaces are enclosed within quotation (&quot;&quot;) marks. A single white-space must be between each Command-Line tag. Command-Line tags can be supplied in any order using the below demo code:</p>\n<p>Here is a runnable demo which demonstrates:</p>\n<pre><code>public class CommandLineDemo {\n\n    public final static String LS = System.lineSeparator();\n    public final static java.util.Scanner userInput = new java.util.Scanner(System.in);\n    \n    private String userName;\n    private String userPassword;\n    private String appTitle;\n    \n    \n    public static void main(String[] args) {\n        // App started this way to avoid the need for statics:\n        new CommandLineDemo().startApp(args);\n    }\n    \n    private void startApp(String[] args) {\n        if (args.length &gt; 0) {\n            for (String arg : args) {\n                String[] argParts = arg.split(&quot;:&quot;);\n                switch (argParts[0].toLowerCase()) {\n                    case &quot;/?&quot;: case &quot;/help&quot;:\n                        displayHelp();\n                        System.exit(0);\n                        break;\n                    case &quot;/name&quot;:\n                        this.userName = argParts[1];\n                        break;\n                    case &quot;/pass&quot;:\n                        this.userPassword = argParts[1];\n                        break;\n                    case &quot;/title&quot;:\n                        this.appTitle = argParts[1];\n                        break;\n                    // etc, etc, etc, ...\n                }\n            }\n        }\n        \n        System.out.println(&quot;Application Title: -&gt; &quot; + this.appTitle);\n        System.out.println(&quot;User Name:         -&gt; &quot; + this.userName);\n        System.out.println(&quot;User Password:     -&gt; &quot; + this.userPassword);\n    }\n    \n    private void displayHelp() {\n        // Apply your help mechanism here (whatever it will be)...\n        System.out.println();\n        System.out.println(&quot;Application Help:&quot; + LS + &quot;================&quot;);\n        System.out.println(&quot;Any text after a command-line tag which contains one or more&quot;);\n        System.out.println(&quot;white-spaces must be enclosed within quotation (\\&quot;\\&quot;) marks.&quot; + LS);\n        System.out.println(&quot;Command-Line Tags:&quot; + LS + &quot;==================&quot;);\n        System.out.printf(&quot;%-12s %-100s%n&quot;, &quot;/title:&quot;, &quot;The title for application (Company Name or whatever).&quot;);\n        System.out.printf(&quot;%-12s %-100s%n&quot;, &quot;/name:&quot;, &quot;The User Name     (required).&quot;);\n        System.out.printf(&quot;%-12s %-100s%n&quot;, &quot;/pass:&quot;, &quot;The User Password (required).&quot;);\n        System.out.println(&quot;*** More help would go here ***&quot;);\n        System.out.println(LS + &quot;&lt;&lt; Press ENTER to continue &gt;&gt;&quot;);\n        String tmp = userInput.nextLine();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16438960,"reputation":21,"user_id":11875847,"display_name":"kmat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678196835,"creation_date":1678182439,"question_id":75660307,"body_markdown":"I would like to overload jar run with flags like init or help. Help would display what parameteres user need to pass and what they mean (im passing several run arguments when invoking jar via cmd). Init would initialize properties file (password etc). How I am supposed to approach that problem?","title":"overloaded jar run with flags via cmd (like init, help etc)","body":"<p>I would like to overload jar run with flags like init or help. Help would display what parameteres user need to pass and what they mean (im passing several run arguments when invoking jar via cmd). Init would initialize properties file (password etc). How I am supposed to approach that problem?</p>\n"},{"tags":["java","sharepoint","stream"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1677868989,"post_id":75629717,"comment_id":133428906,"body_markdown":"*a vast generated in-memory file* in what type is that contained?","body":"<i>a vast generated in-memory file</i> in what type is that contained?"},{"owner":{"account_id":4471258,"reputation":257,"user_id":3637526,"accept_rate":33,"display_name":"Luca Farsetti"},"score":0,"creation_date":1677873582,"post_id":75629717,"comment_id":133430030,"body_markdown":"It&#39;a a CSV file","body":"It&#39;a a CSV file"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1677875055,"post_id":75629717,"comment_id":133430370,"body_markdown":"You&#39;re saying it&#39;s *in memory*. How?","body":"You&#39;re saying it&#39;s <i>in memory</i>. How?"},{"owner":{"account_id":4471258,"reputation":257,"user_id":3637526,"accept_rate":33,"display_name":"Luca Farsetti"},"score":0,"creation_date":1678089567,"post_id":75629717,"comment_id":133458831,"body_markdown":"I generated it directly into a PipedOutputStream using jasperreport template, so I don&#39;t save it into a temporary file on the disk.","body":"I generated it directly into a PipedOutputStream using jasperreport template, so I don&#39;t save it into a temporary file on the disk."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678102974,"post_id":75629717,"comment_id":133462407,"body_markdown":"To progress, we probably need a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"To progress, we probably need a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678197170,"post_id":75662777,"comment_id":133483498,"body_markdown":"*Probably the proper parameter should be FileInputStream or a ByteArrayInputStream.* Right. But if you want to do it in memory it will have to be the latter","body":"<i>Probably the proper parameter should be FileInputStream or a ByteArrayInputStream.</i> Right. But if you want to do it in memory it will have to be the latter"}],"tags":[],"owner":{"account_id":4471258,"reputation":257,"user_id":3637526,"accept_rate":33,"display_name":"Luca Farsetti"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678196683,"creation_date":1678196683,"answer_id":75662777,"question_id":75629717,"body_markdown":"Ok, after some research i think it is not feasible. The GraphService from Microsoft SDK accepts an InputStream, but digging into the code shows that he wants the exact file size to upload it. Probably the proper parameter should be FileInputStream or a ByteArrayInputStream.\r\n\r\n","title":"Using PipedStream to upload file to SharePoint using Java Graph SDK causes Error &quot;The Content-Range header is missing or malformed&quot;","body":"<p>Ok, after some research i think it is not feasible. The GraphService from Microsoft SDK accepts an InputStream, but digging into the code shows that he wants the exact file size to upload it. Probably the proper parameter should be FileInputStream or a ByteArrayInputStream.</p>\n"}],"owner":{"account_id":4471258,"reputation":257,"user_id":3637526,"accept_rate":33,"display_name":"Luca Farsetti"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678196683,"creation_date":1677861673,"question_id":75629717,"body_markdown":"As the title said, i&#39;m trying to upload a vast generated in-memory file to SharePoint. To save memory, I try to use PipedStream to upload it but I have an exception with that cause: \r\n\r\n    com.microsoft.graph.core.ClientException: Error code: invalidRequest\r\n    Error message: The Content-Range header is missing or malformed.\r\n\r\nMy upload call is:\r\n\r\n    LargeFileUploadTask&lt;DriveItem&gt; largeFileUploadTask = new LargeFileUploadTask&lt;&gt;(uploadSession, msGraphServiceClient,\r\n          inputStream, streamSize, DriveItem.class);\r\n    \r\n        try {\r\n          LargeFileUploadResult&lt;DriveItem&gt; uploadResults = largeFileUploadTask.upload(CHUNK_SIZE, null, (current,\r\n            max) -&gt; log.debug(String.format(&quot;Uploaded %d bytes of %d total bytes&quot;, current, max)));\r\n    \r\n          return uploadResults.location;\r\n        } catch (IOException e) {\r\n          throw new IllegalArgumentException(&quot;File upload failed.&quot;, e);\r\n        }\r\n\r\nIs it possible to upload a file as a stream or do I need to know the exact file size before?\r\nThat&#39;s because I don&#39;t know the value of the `streamSize` variable.\r\n\r\nThank you in advance","title":"Using PipedStream to upload file to SharePoint using Java Graph SDK causes Error &quot;The Content-Range header is missing or malformed&quot;","body":"<p>As the title said, i'm trying to upload a vast generated in-memory file to SharePoint. To save memory, I try to use PipedStream to upload it but I have an exception with that cause:</p>\n<pre><code>com.microsoft.graph.core.ClientException: Error code: invalidRequest\nError message: The Content-Range header is missing or malformed.\n</code></pre>\n<p>My upload call is:</p>\n<pre><code>LargeFileUploadTask&lt;DriveItem&gt; largeFileUploadTask = new LargeFileUploadTask&lt;&gt;(uploadSession, msGraphServiceClient,\n      inputStream, streamSize, DriveItem.class);\n\n    try {\n      LargeFileUploadResult&lt;DriveItem&gt; uploadResults = largeFileUploadTask.upload(CHUNK_SIZE, null, (current,\n        max) -&gt; log.debug(String.format(&quot;Uploaded %d bytes of %d total bytes&quot;, current, max)));\n\n      return uploadResults.location;\n    } catch (IOException e) {\n      throw new IllegalArgumentException(&quot;File upload failed.&quot;, e);\n    }\n</code></pre>\n<p>Is it possible to upload a file as a stream or do I need to know the exact file size before?\nThat's because I don't know the value of the <code>streamSize</code> variable.</p>\n<p>Thank you in advance</p>\n"},{"tags":["java","spring","spring-boot","rest","spring-mvc"],"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677613708,"post_id":75593543,"comment_id":133371855,"body_markdown":"I would if I get the confirmation about the last points that I have been trying to ask for hours.","body":"I would if I get the confirmation about the last points that I have been trying to ask for hours."}],"answers":[{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677596317,"post_id":75593636,"comment_id":133366775,"body_markdown":"Actually I do not prefer using annotation (`@ResponseStatus(value = HttpStatus.NO_CONTENT)`) above the method as the other method has not and defined return status differently.","body":"Actually I do not prefer using annotation (<code>@ResponseStatus(value = HttpStatus.NO_CONTENT)</code>) above the method as the other method has not and defined return status differently."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1677596395,"post_id":75593636,"comment_id":133366795,"body_markdown":"You can use that annotation on all methods if you want; saves some extra boilerplate code when constructing your responses.","body":"You can use that annotation on all methods if you want; saves some extra boilerplate code when constructing your responses."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677596480,"post_id":75593636,"comment_id":133366823,"body_markdown":"Thanks a lot for these nice explanations. Then based on the situation, I think the implementations in my Update are ok for DELETE mapping. Right? ","body":"Thanks a lot for these nice explanations. Then based on the situation, I think the implementations in my Update are ok for DELETE mapping. Right? "},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677596535,"post_id":75593636,"comment_id":133366846,"body_markdown":"What about this --&gt;&gt;&gt; Thanks a lot for these nice explanations. Then based on the situation, I think the implementations in my Update are ok for DELETE mapping. Right? ","body":"What about this --&gt;&gt;&gt; Thanks a lot for these nice explanations. Then based on the situation, I think the implementations in my Update are ok for DELETE mapping. Right? "},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1677596585,"post_id":75593636,"comment_id":133366870,"body_markdown":"Yes, although I find them to be unnecessarily verbose. That&#39;s a matter of taste, though; not correctness.","body":"Yes, although I find them to be unnecessarily verbose. That&#39;s a matter of taste, though; not correctness."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677596775,"post_id":75593636,"comment_id":133366924,"body_markdown":"I updated the second method and as I need to `ResponseEntity&lt;ApiResponse&lt;Void&gt;&gt;`, I think this time it is ok. What do you think amigo?","body":"I updated the second method and as I need to <code>ResponseEntity&lt;ApiResponse&lt;Void&gt;&gt;</code>, I think this time it is ok. What do you think amigo?"}],"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677596224,"creation_date":1677595876,"answer_id":75593636,"question_id":75593543,"body_markdown":"A 204 (No Content) response should not include a body; &quot;No Content&quot; means _no content_. 204 is pretty standard for a DELETE response (when it succeeds of course), but I also see 200 OK.\r\n\r\nFor PUT requests that succeed, it&#39;s typical to return a 200 response status with the updated resource (entity, etc) as the body. That saves clients from making another round-trip GET to the server to get the updated resource.\r\n\r\nBy the way, Spring provides an annotation to specify the response status code so you don&#39;t have to be so verbose in the code. For example:\r\n```java\r\n@DeleteMapping(&quot;/categories/{id}&quot;)\r\n@ResponseStatus(value = HttpStatus.NO_CONTENT)\r\npublic void deleteById(@PathVariable long id) {\r\n    categoryService.deleteById(id);\r\n}\r\n```","title":"HTTP status for @PutMapping and @DeleteMapping for Spring Boot REST API?","body":"<p>A 204 (No Content) response should not include a body; &quot;No Content&quot; means <em>no content</em>. 204 is pretty standard for a DELETE response (when it succeeds of course), but I also see 200 OK.</p>\n<p>For PUT requests that succeed, it's typical to return a 200 response status with the updated resource (entity, etc) as the body. That saves clients from making another round-trip GET to the server to get the updated resource.</p>\n<p>By the way, Spring provides an annotation to specify the response status code so you don't have to be so verbose in the code. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DeleteMapping(&quot;/categories/{id}&quot;)\n@ResponseStatus(value = HttpStatus.NO_CONTENT)\npublic void deleteById(@PathVariable long id) {\n    categoryService.deleteById(id);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":1,"creation_date":1677596298,"post_id":75593693,"comment_id":133366765,"body_markdown":"A 201 (Created) response would be incorrect or at least misleading for a PUT, which should be for _updates_ to an existing resource, not creating new resources.","body":"A 201 (Created) response would be incorrect or at least misleading for a PUT, which should be for <i>updates</i> to an existing resource, not creating new resources."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677599563,"post_id":75593693,"comment_id":133367845,"body_markdown":"Voted up for your useful helps. Thanks a lot amigo.","body":"Voted up for your useful helps. Thanks a lot amigo."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1677610372,"post_id":75593693,"comment_id":133371003,"body_markdown":"PUT should not generally be used for creating resources, that should be a POST. PUT should address a specific resource for _updating_ (usually by ID). Thus, a 201 response is not appropriate for a PUT.","body":"PUT should not generally be used for creating resources, that should be a POST. PUT should address a specific resource for <i>updating</i> (usually by ID). Thus, a 201 response is not appropriate for a PUT."}],"tags":[],"owner":{"account_id":11267822,"reputation":61,"user_id":8264132,"display_name":"Tayyab Munir"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1677596837,"creation_date":1677596219,"answer_id":75593693,"question_id":75593543,"body_markdown":"For PUT\r\n\r\n - HTTP status 201 if the entry does not exist and is created\r\n - HTTP status 200 or HTTP status 204 if entry exists and is updated\r\n\r\nFor DELETE \r\n - HTTP status 200 \r\n\r\nvisit   [Mozilla docs][1] for further details\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/PUT","title":"HTTP status for @PutMapping and @DeleteMapping for Spring Boot REST API?","body":"<p>For PUT</p>\n<ul>\n<li>HTTP status 201 if the entry does not exist and is created</li>\n<li>HTTP status 200 or HTTP status 204 if entry exists and is updated</li>\n</ul>\n<p>For DELETE</p>\n<ul>\n<li>HTTP status 200</li>\n</ul>\n<p>visit   <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/PUT\" rel=\"nofollow noreferrer\">Mozilla docs</a> for further details</p>\n"},{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677596928,"post_id":75593791,"comment_id":133366960,"body_markdown":"What about my `@DeleteMapping()` usage examples for bot situation? Are they ok?","body":"What about my <code>@DeleteMapping()</code> usage examples for bot situation? Are they ok?"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1677597055,"post_id":75593791,"comment_id":133367012,"body_markdown":"@fredrick the second example you have for `@DeleteMapping()` `return ResponseEntity.status(HttpStatus.NO_CONTENT).build();` seems the most appropriate.","body":"@fredrick the second example you have for <code>@DeleteMapping()</code> <code>return ResponseEntity.status(HttpStatus.NO_CONTENT).build();</code> seems the most appropriate."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677597141,"post_id":75593791,"comment_id":133367040,"body_markdown":"Yes, but what I want to understand: **1.** When I need to return HttpStatus.OK, the the first example in my update is also a proper example, right?","body":"Yes, but what I want to understand: <b>1.</b> When I need to return HttpStatus.OK, the the first example in my update is also a proper example, right?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677597181,"post_id":75593791,"comment_id":133367057,"body_markdown":"**2.** I use `ResponseEntity&lt;ApiResponse&lt;Void&gt;&gt;` as teh return type for my second example. Is that ok with ``Void` ?","body":"<b>2.</b> I use <code>ResponseEntity&lt;ApiResponse&lt;Void&gt;&gt;</code> as teh return type for my second example. Is that ok with ``Void` ?"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1677597195,"post_id":75593791,"comment_id":133367064,"body_markdown":"@fredrick For delete operation you should return 204 in case the `categoryService.deleteById(id);` is an imidiate process and succeeds. If it is an async process which will be executed later in that case you need to return 200 Ok","body":"@fredrick For delete operation you should return 204 in case the <code>categoryService.deleteById(id);</code> is an imidiate process and succeeds. If it is an async process which will be executed later in that case you need to return 200 Ok"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1677597425,"post_id":75593791,"comment_id":133367151,"body_markdown":"@fredrick for PutMapping you can use both 204 and 200. If you return `void` then you should have status 204. If you return the updated object then you should have status 200. It is up to you and your client to decide which of the 2 suits you best.","body":"@fredrick for PutMapping you can use both 204 and 200. If you return <code>void</code> then you should have status 204. If you return the updated object then you should have status 200. It is up to you and your client to decide which of the 2 suits you best."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677597446,"post_id":75593791,"comment_id":133367159,"body_markdown":"Ok, I understood. But it is also possible to return OK as status and I just want to know if those implementations are ok. So, could you please clarify me about these 2 questions one by one?","body":"Ok, I understood. But it is also possible to return OK as status and I just want to know if those implementations are ok. So, could you please clarify me about these 2 questions one by one?"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1677598704,"post_id":75593791,"comment_id":133367569,"body_markdown":"@fredrick check my last comment I have answered both your questions","body":"@fredrick check my last comment I have answered both your questions"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677599122,"post_id":75593791,"comment_id":133367699,"body_markdown":"But I did not mean that with the 2 question. Those are in my comment. Here are &gt;&gt;&gt;","body":"But I did not mean that with the 2 question. Those are in my comment. Here are &gt;&gt;&gt;"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677599159,"post_id":75593791,"comment_id":133367710,"body_markdown":"Reagrding to DeleteMappings in my Update, &gt;&gt;&gt; **1.** When I need to return HttpStatus.OK, the the first example in my update is also a proper example, right?","body":"Reagrding to DeleteMappings in my Update, &gt;&gt;&gt; <b>1.</b> When I need to return HttpStatus.OK, the the first example in my update is also a proper example, right?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677599170,"post_id":75593791,"comment_id":133367713,"body_markdown":"2. I use ResponseEntity&lt;ApiResponse&lt;Void&gt;&gt; as teh return type for my second example. Is that ok with ``Void` ? ","body":"2. I use ResponseEntity&lt;ApiResponse&lt;Void&gt;&gt; as teh return type for my second example. Is that ok with ``Void` ? "},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1677599367,"post_id":75593791,"comment_id":133367784,"body_markdown":"@fredrick please do not spam in comments. The comments are useful for OP as well. Please try to form concrete comments which can be read from other users and provide value. As to your question the number 1 can be used for PutMapping with status Ok if you provide as a return the updated object. To your number 2 for PutMapping with status 204 is also ok if you use `void` as return type.","body":"@fredrick please do not spam in comments. The comments are useful for OP as well. Please try to form concrete comments which can be read from other users and provide value. As to your question the number 1 can be used for PutMapping with status Ok if you provide as a return the updated object. To your number 2 for PutMapping with status 204 is also ok if you use <code>void</code> as return type."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677599521,"post_id":75593791,"comment_id":133367827,"body_markdown":"I think you totally misunderstood &quot;update&quot; s... I mean **Update** in my question (see last part please), not updating an entity. But you repeated the same answer and that is why I also had to repeat the same questions :)  Any idea?","body":"I think you totally misunderstood &quot;update&quot; s... I mean <b>Update</b> in my question (see last part please), not updating an entity. But you repeated the same answer and that is why I also had to repeat the same questions :)  Any idea?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677599556,"post_id":75593791,"comment_id":133367843,"body_markdown":"By the way, voted up for your useful helps. Thanks a lot amigo.","body":"By the way, voted up for your useful helps. Thanks a lot amigo."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1677599629,"post_id":75593791,"comment_id":133367868,"body_markdown":"@fredrick my 1st comment in this thread already answered this question of yours.","body":"@fredrick my 1st comment in this thread already answered this question of yours."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677600619,"post_id":75593791,"comment_id":133368234,"body_markdown":"It was not clear and just would like to get clarified. **1.** The second method in the **Update section** with `ResponseEntity&lt;ApiResponse&lt;Void&gt;&gt;` return type is ok, right? **2.** If I want to return HTTP Status OK, then the first method in the **Update section** is also ok, right?","body":"It was not clear and just would like to get clarified. <b>1.</b> The second method in the <b>Update section</b> with <code>ResponseEntity&lt;ApiResponse&lt;Void&gt;&gt;</code> return type is ok, right? <b>2.</b> If I want to return HTTP Status OK, then the first method in the <b>Update section</b> is also ok, right?"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1677610223,"post_id":75593791,"comment_id":133370966,"body_markdown":"@fredrick I realize that you are somewhat new here, but you should understand that SO is not a discussion forum or platform. Lengthy discussions in comments should be avoided; for that, there is a [chat feature](https://chat.stackoverflow.com/rooms/new).","body":"@fredrick I realize that you are somewhat new here, but you should understand that SO is not a discussion forum or platform. Lengthy discussions in comments should be avoided; for that, there is a <a href=\"https://chat.stackoverflow.com/rooms/new\">chat feature</a>."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677613653,"post_id":75593791,"comment_id":133371841,"body_markdown":"I would avoid, but in order to just get a confirmation, I had to repeat the same questions multiple times. After reading the answer, I feel that my questions are not read.","body":"I would avoid, but in order to just get a confirmation, I had to repeat the same questions multiple times. After reading the answer, I feel that my questions are not read."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":1,"creation_date":1677658368,"post_id":75593791,"comment_id":133379240,"body_markdown":"@fredrick  `The second method in the Update section with ResponseEntity&lt;ApiResponse&lt;Void&gt;&gt; return type is ok, right? 2. If I want to return HTTP Status OK, then the first method in the Update section is also ok, right?` 1 seems ok you return void and you have status 204, so is correct. 2 seems not ok, in delete operations according to Rest best practices you should not return an object like you do.","body":"@fredrick  <code>The second method in the Update section with ResponseEntity&lt;ApiResponse&lt;Void&gt;&gt; return type is ok, right? 2. If I want to return HTTP Status OK, then the first method in the Update section is also ok, right?</code> 1 seems ok you return void and you have status 204, so is correct. 2 seems not ok, in delete operations according to Rest best practices you should not return an object like you do."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677658682,"post_id":75593791,"comment_id":133379301,"body_markdown":"Thans for reply, but in the part you shared: **&quot;9.7 DELETE: A successful response SHOULD be 200 (OK) if the response includes an entity describing the status ...&quot;** and for this reason I thought we can also use the second approach for delete if we need to return something. Is that wrong?","body":"Thans for reply, but in the part you shared: <b>&quot;9.7 DELETE: A successful response SHOULD be 200 (OK) if the response includes an entity describing the status ...&quot;</b> and for this reason I thought we can also use the second approach for delete if we need to return something. Is that wrong?"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":1,"creation_date":1677659104,"post_id":75593791,"comment_id":133379396,"body_markdown":"@fredrick if your action `categoryService.deleteById(id);` is already enacted by the time you return the response which I think is your case here, then according to best REST practices the 204 no content status without any returned entity is more appropriate","body":"@fredrick if your action <code>categoryService.deleteById(id);</code> is already enacted by the time you return the response which I think is your case here, then according to best REST practices the 204 no content status without any returned entity is more appropriate"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":1,"creation_date":1677659236,"post_id":75593791,"comment_id":133379429,"body_markdown":"@fredrick also read the documentation better. In delete operations in case of 200 Ok status, the response should be a message describing what the state of the action was. Not an actual object of your entity. Read also here https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/DELETE.","body":"@fredrick also read the documentation better. In delete operations in case of 200 Ok status, the response should be a message describing what the state of the action was. Not an actual object of your entity. Read also here <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/DELETE\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/HTTP/Methods/DELETE</a>."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677659513,"post_id":75593791,"comment_id":133379510,"body_markdown":"yes, I read and updated #1 st approach. Do you mean something like that (I just return SUCCESS as message belonging to my `ApiResponse` class and did not return entity, etc. Is that ok for now?","body":"yes, I read and updated #1 st approach. Do you mean something like that (I just return SUCCESS as message belonging to my <code>ApiResponse</code> class and did not return entity, etc. Is that ok for now?"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1677659758,"post_id":75593791,"comment_id":133379589,"body_markdown":"@fredrick your updated code looks ok, but keep in mind in REST services you are not obligated to do something. You follow the best practices but this is not an obligation and many times you may do something out of best practices for some reasons. This is also reality as well. Please accept the answer if you have solved your problem.","body":"@fredrick your updated code looks ok, but keep in mind in REST services you are not obligated to do something. You follow the best practices but this is not an obligation and many times you may do something out of best practices for some reasons. This is also reality as well. Please accept the answer if you have solved your problem."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677660307,"post_id":75593791,"comment_id":133379720,"body_markdown":"I agree with you and normally I will use the second approach with `NO_CONTENT` response. Why I was asking the first approach is in case I need to return status of `OK`. And of course I always try to follow the best practices as much as possible. Thanks a lot for your helps.","body":"I agree with you and normally I will use the second approach with <code>NO_CONTENT</code> response. Why I was asking the first approach is in case I need to return status of <code>OK</code>. And of course I always try to follow the best practices as much as possible. Thanks a lot for your helps."}],"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":25,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677659539,"creation_date":1677596733,"answer_id":75593791,"question_id":75593543,"body_markdown":"As described in [Http Protocol RFC 2616][1]\r\n\r\n&gt; **9.6 PUT**\r\n&gt; \r\n&gt;  If an existing resource is modified, either the 200 (OK) or 204 (No\r\n&gt; Content) response codes SHOULD be sent to indicate successful\r\n&gt; completion of the request.\r\n\r\nAlso \r\n\r\n&gt; **9.7 DELETE** \r\n&gt;\r\n&gt; A successful response SHOULD be 200 (OK) if the response includes an entity describing the status, 202 (Accepted) if the action\r\n&gt; has not yet been enacted, or 204 (No Content) if the action has been\r\n&gt; enacted but the response does not include an entity.\r\n\r\n**Edit**: To clarify. The part in delete operation that describes the status 200 (OK) expects an entity not of the actual business deleted or not in database, but another object entity which is able to describe the status of the delete action (DONE, PENDING, FAILED...).\r\n\r\n\r\n  [1]: https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.6","title":"HTTP status for @PutMapping and @DeleteMapping for Spring Boot REST API?","body":"<p>As described in <a href=\"https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.6\" rel=\"nofollow noreferrer\">Http Protocol RFC 2616</a></p>\n<blockquote>\n<p><strong>9.6 PUT</strong></p>\n<p>If an existing resource is modified, either the 200 (OK) or 204 (No\nContent) response codes SHOULD be sent to indicate successful\ncompletion of the request.</p>\n</blockquote>\n<p>Also</p>\n<blockquote>\n<p><strong>9.7 DELETE</strong></p>\n<p>A successful response SHOULD be 200 (OK) if the response includes an entity describing the status, 202 (Accepted) if the action\nhas not yet been enacted, or 204 (No Content) if the action has been\nenacted but the response does not include an entity.</p>\n</blockquote>\n<p><strong>Edit</strong>: To clarify. The part in delete operation that describes the status 200 (OK) expects an entity not of the actual business deleted or not in database, but another object entity which is able to describe the status of the delete action (DONE, PENDING, FAILED...).</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1462,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":75593791,"answer_count":3,"score":2,"last_activity_date":1678196502,"creation_date":1677595386,"question_id":75593543,"body_markdown":"I was using `HttpStatus.OK` for all of my requests in Spring Bot Controller. But I realized that it is good to return a proper Http status and started to use the followings:\r\n\r\n```\r\nGET --&gt; Ok\r\nPOST -&gt; Created\r\nPUT --&gt; Ok ???\r\nDELETE --&gt; NoContent ???\r\n```\r\n\r\nBut I am not sure regarding to PUT and DELETE, some people suggest using NoContent for DELETE and Ok for PUT. But I am confused and no idea which one is suitable. \r\n\r\nSo, which Status codes should I use for PUT and DELETE ? Here is an example usage for my DELETE, but I am not sure if we can return body when Status code is NoContent (is it meaningful?) \r\n\r\n```\r\n@DeleteMapping(&quot;/categories/{id}&quot;)\r\npublic ResponseEntity&lt;ApiResponse&lt;CommandResponse&gt;&gt; deleteById(@PathVariable long id) {\r\n    final CommandResponse response = categoryService.deleteById(id);\r\n    return ResponseEntity\r\n            .status(HttpStatus.NO_CONTENT)\r\n            .body(new ApiResponse&lt;&gt;(Instant.now(clock).toEpochMilli(), SUCCESS, response));\r\n}\r\n```\r\n\r\n**Update:** Based on the situatin, I think the following implementations are ok: \r\n\r\n\r\n***#1:***\r\n\r\n```\r\n@DeleteMapping(&quot;/categories/{id}&quot;)\r\npublic ResponseEntity&lt;ApiResponse&lt;Void&gt;&gt; deleteById(@PathVariable long id) {\r\n    categoryService.deleteById(id);\r\n    return ResponseEntity.ok(new ApiResponse&lt;&gt;(Instant.now(clock).toEpochMilli(), SUCCESS));\r\n}\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n***#2:***\r\n```\r\n@DeleteMapping(&quot;/categories/{id}&quot;)\r\npublic ResponseEntity&lt;ApiResponse&lt;Void&gt;&gt; deleteById(@PathVariable long id) {\r\n    categoryService.deleteById(id);\r\n    return ResponseEntity\r\n            .status(HttpStatus.NO_CONTENT)\r\n            .build();\r\n}\r\n```\r\n\r\n","title":"HTTP status for @PutMapping and @DeleteMapping for Spring Boot REST API?","body":"<p>I was using <code>HttpStatus.OK</code> for all of my requests in Spring Bot Controller. But I realized that it is good to return a proper Http status and started to use the followings:</p>\n<pre><code>GET --&gt; Ok\nPOST -&gt; Created\nPUT --&gt; Ok ???\nDELETE --&gt; NoContent ???\n</code></pre>\n<p>But I am not sure regarding to PUT and DELETE, some people suggest using NoContent for DELETE and Ok for PUT. But I am confused and no idea which one is suitable.</p>\n<p>So, which Status codes should I use for PUT and DELETE ? Here is an example usage for my DELETE, but I am not sure if we can return body when Status code is NoContent (is it meaningful?)</p>\n<pre><code>@DeleteMapping(&quot;/categories/{id}&quot;)\npublic ResponseEntity&lt;ApiResponse&lt;CommandResponse&gt;&gt; deleteById(@PathVariable long id) {\n    final CommandResponse response = categoryService.deleteById(id);\n    return ResponseEntity\n            .status(HttpStatus.NO_CONTENT)\n            .body(new ApiResponse&lt;&gt;(Instant.now(clock).toEpochMilli(), SUCCESS, response));\n}\n</code></pre>\n<p><strong>Update:</strong> Based on the situatin, I think the following implementations are ok:</p>\n<p><em><strong>#1:</strong></em></p>\n<pre><code>@DeleteMapping(&quot;/categories/{id}&quot;)\npublic ResponseEntity&lt;ApiResponse&lt;Void&gt;&gt; deleteById(@PathVariable long id) {\n    categoryService.deleteById(id);\n    return ResponseEntity.ok(new ApiResponse&lt;&gt;(Instant.now(clock).toEpochMilli(), SUCCESS));\n}\n</code></pre>\n<br/>\n<p><em><strong>#2:</strong></em></p>\n<pre><code>@DeleteMapping(&quot;/categories/{id}&quot;)\npublic ResponseEntity&lt;ApiResponse&lt;Void&gt;&gt; deleteById(@PathVariable long id) {\n    categoryService.deleteById(id);\n    return ResponseEntity\n            .status(HttpStatus.NO_CONTENT)\n            .build();\n}\n</code></pre>\n"},{"tags":["java","rest","tomcat"],"comments":[{"owner":{"account_id":1683953,"reputation":446,"user_id":1547595,"display_name":"moser"},"score":0,"creation_date":1695060046,"post_id":75662667,"comment_id":135970864,"body_markdown":"Similar issue here...","body":"Similar issue here..."}],"owner":{"account_id":24927929,"reputation":23,"user_id":18795436,"display_name":"Reconnact"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678196466,"creation_date":1678196105,"question_id":75662667,"body_markdown":"I am trying to build a restful API with Tomcat but after accidentally deleting my tomcat server I reinstalled it but now I get this error: \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XiUjf.png\r\n\r\nWhen I install another tomcat version I get a 404.\r\nThe current Tomcat version is 10.1.6.\r\n\r\nThis is my pom.xml:\r\n```\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.yahoofinance-api&lt;/groupId&gt;\r\n            &lt;artifactId&gt;YahooFinanceAPI&lt;/artifactId&gt;\r\n            &lt;version&gt;3.17.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-cdi2-se&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.weld.se&lt;/groupId&gt;\r\n            &lt;artifactId&gt;weld-se-core&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.3.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.23&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```","title":"java.lang.NoSuchMethodError: &#39;boolean org.glassfish.jersey.internal.config.SystemPropertiesConfigurationModel.hasProperty(java.lang.String)&#39;","body":"<p>I am trying to build a restful API with Tomcat but after accidentally deleting my tomcat server I reinstalled it but now I get this error:\n<a href=\"https://i.stack.imgur.com/XiUjf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XiUjf.png\" alt=\"enter image description here\" /></a></p>\n<p>When I install another tomcat version I get a 404.\nThe current Tomcat version is 10.1.6.</p>\n<p>This is my pom.xml:</p>\n<pre><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.yahoofinance-api&lt;/groupId&gt;\n            &lt;artifactId&gt;YahooFinanceAPI&lt;/artifactId&gt;\n            &lt;version&gt;3.17.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-cdi2-se&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.weld.se&lt;/groupId&gt;\n            &lt;artifactId&gt;weld-se-core&lt;/artifactId&gt;\n            &lt;version&gt;4.0.3.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;5.3.23&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","spring","rest","spring-mvc","spring-restcontroller"],"answers":[{"comments":[{"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"score":0,"creation_date":1678133403,"post_id":75655102,"comment_id":133471160,"body_markdown":"thanks, so return dtos even if the dto I am returning will be the same as the entity, but just without the id? I have added my delete method also - this should just return a long?","body":"thanks, so return dtos even if the dto I am returning will be the same as the entity, but just without the id? I have added my delete method also - this should just return a long?"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1678133784,"post_id":75655102,"comment_id":133471256,"body_markdown":"I added some explanation to the &quot;aside&quot; part of the answer. I don&#39;t know why a DELETE endpoint would return the ID that it was called with. As a caller of such an API I would not expect that.","body":"I added some explanation to the &quot;aside&quot; part of the answer. I don&#39;t know why a DELETE endpoint would return the ID that it was called with. As a caller of such an API I would not expect that."},{"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"score":0,"creation_date":1678134040,"post_id":75655102,"comment_id":133471322,"body_markdown":"thanks I appreciate it, what should a delete http method return ideally? Just the 200 response code?","body":"thanks I appreciate it, what should a delete http method return ideally? Just the 200 response code?"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":2,"creation_date":1678134657,"post_id":75655102,"comment_id":133471467,"body_markdown":"I usually return `void` with a response code of either 200 or 204 (No Content). That&#39;s pretty &quot;standard&quot; but keep in mind that REST doesn&#39;t really have a standard, only guidelines and conventions.","body":"I usually return <code>void</code> with a response code of either 200 or 204 (No Content). That&#39;s pretty &quot;standard&quot; but keep in mind that REST doesn&#39;t really have a standard, only guidelines and conventions."}],"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678133923,"creation_date":1678131372,"answer_id":75655102,"question_id":75654656,"body_markdown":"There&#39;s no need in the code above for the return types to be `ResponseEntity&lt;&gt;`. You can declare controller methods to return any type of object, and Spring is smart enough to wrap your intended return type in a ResponseEntity as needed.\r\n\r\nFor example:\r\n```java\r\n    @GetMapping(&quot;/{clientId}&quot;)\r\n   Client getClientById(@PathVariable long clientId) {\r\n        return clientService.getClientById(clientId);\r\n   }\r\n```\r\n\r\nIf you want to return a different HTTP status code besides 200 OK, you can use an annotation for that. For example:\r\n```java\r\n    @PostMapping\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public Client createClient(@RequestBody ClientDTO clientDTO) {\r\n        return clientService.createNewClient(clientDTO);\r\n    }\r\n```\r\n\r\nThe only time I ever make controller methods return `ResponseEntitiy&lt;&gt;` is if I have logic in the method that returns different response types (status codes) based on some conditions.\r\n\r\n---\r\nAs an aside, it&#39;s usually not a good idea to return your entities directly in API endpoints. Most of the time you&#39;re going to want to transform the entity types into DTO types, to separate the public representation of things from the persistent representations. The DTO can have whatever shape you want to expose to clients, and can vary independently from the domain or persistent form. At first this might seem like unnecessary form of code duplication; sometimes the two never diverge or have differing structure, names, etc. But many times experience has taught us that the domain/persistent entities evolve differenty from the API contract.","title":"Spring Rest Controller: Correct way to return entities from mapping methods?","body":"<p>There's no need in the code above for the return types to be <code>ResponseEntity&lt;&gt;</code>. You can declare controller methods to return any type of object, and Spring is smart enough to wrap your intended return type in a ResponseEntity as needed.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @GetMapping(&quot;/{clientId}&quot;)\n   Client getClientById(@PathVariable long clientId) {\n        return clientService.getClientById(clientId);\n   }\n</code></pre>\n<p>If you want to return a different HTTP status code besides 200 OK, you can use an annotation for that. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    public Client createClient(@RequestBody ClientDTO clientDTO) {\n        return clientService.createNewClient(clientDTO);\n    }\n</code></pre>\n<p>The only time I ever make controller methods return <code>ResponseEntitiy&lt;&gt;</code> is if I have logic in the method that returns different response types (status codes) based on some conditions.</p>\n<hr />\n<p>As an aside, it's usually not a good idea to return your entities directly in API endpoints. Most of the time you're going to want to transform the entity types into DTO types, to separate the public representation of things from the persistent representations. The DTO can have whatever shape you want to expose to clients, and can vary independently from the domain or persistent form. At first this might seem like unnecessary form of code duplication; sometimes the two never diverge or have differing structure, names, etc. But many times experience has taught us that the domain/persistent entities evolve differenty from the API contract.</p>\n"}],"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":696,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75655102,"answer_count":1,"score":0,"last_activity_date":1678196450,"creation_date":1678128237,"question_id":75654656,"body_markdown":"I have the following Rest `Controller` class that handles `HTTP` requests relating to my `Client` entity? \r\n\r\nFor context - a `client` (e.g. exercise client) can have one `Trainer`. But a `Trainer` can have many clients. \r\n\r\nAm I returning the entities in the correct way from my controller? I am using the Spring `ResponseEntity` class to wrap the Client related responses.Is there any other controller implementations I am missing in order to improve this code? - i.e.\r\n\r\n**Controller:**\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/clients&quot;)\r\n    public class ClientController {\r\n    \r\n        private final ClientService clientService;\r\n    \r\n        public ClientController(ClientService clientService) {\r\n            this.clientService = clientService;\r\n        }\r\n    \r\n        @GetMapping(&quot;/{clientId}&quot;)\r\n        ResponseEntity&lt;Client&gt; getClientById(@PathVariable long clientId) {\r\n            Client Client = clientService.getClientById(clientId);\r\n            return new ResponseEntity&lt;&gt;(Client, HttpStatus.OK);\r\n        }\r\n    \r\n        @GetMapping(&quot;/trainer/{trainerId}&quot;)\r\n        ResponseEntity&lt;List&lt;Client&gt;&gt; getClientsByTrainerId(@PathVariable long trainerId) {\r\n            List&lt;Client&gt; clients = clientService.getClientsByTrainerId(trainerId);\r\n            return new ResponseEntity&lt;&gt;(clients, HttpStatus.OK);\r\n        }\r\n    \r\n        @PostMapping\r\n        public ResponseEntity&lt;Client&gt; createClient(@RequestBody ClientDTO clientDTO) {\r\n            Client newClient = clientService.createNewClient(clientDTO);\r\n            return new ResponseEntity&lt;&gt;(newClient, HttpStatus.CREATED);\r\n        }\r\n    \r\n        @PutMapping(&quot;/{clientId}&quot;)\r\n        ResponseEntity&lt;Client&gt; updateClient(@PathVariable Long clientId, @RequestBody ClientDTO clientDTO) {\r\n            Client editedClient = clientService.editClient(clientId, clientDTO);\r\n            return new ResponseEntity&lt;&gt;(editedClient, HttpStatus.OK);\r\n        }\r\n    \r\n    }\r\n\r\n**Edit: Add Delete method**\r\n\r\n    @DeleteMapping(&quot;/{clientId}&quot;)\r\n    long deleteClient(@PathVariable long clientId) {\r\n        clientService.deleteClient(clientId);\r\n        return clientId;\r\n    }\r\n\r\n","title":"Spring Rest Controller: Correct way to return entities from mapping methods?","body":"<p>I have the following Rest <code>Controller</code> class that handles <code>HTTP</code> requests relating to my <code>Client</code> entity?</p>\n<p>For context - a <code>client</code> (e.g. exercise client) can have one <code>Trainer</code>. But a <code>Trainer</code> can have many clients.</p>\n<p>Am I returning the entities in the correct way from my controller? I am using the Spring <code>ResponseEntity</code> class to wrap the Client related responses.Is there any other controller implementations I am missing in order to improve this code? - i.e.</p>\n<p><strong>Controller:</strong></p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/clients&quot;)\npublic class ClientController {\n\n    private final ClientService clientService;\n\n    public ClientController(ClientService clientService) {\n        this.clientService = clientService;\n    }\n\n    @GetMapping(&quot;/{clientId}&quot;)\n    ResponseEntity&lt;Client&gt; getClientById(@PathVariable long clientId) {\n        Client Client = clientService.getClientById(clientId);\n        return new ResponseEntity&lt;&gt;(Client, HttpStatus.OK);\n    }\n\n    @GetMapping(&quot;/trainer/{trainerId}&quot;)\n    ResponseEntity&lt;List&lt;Client&gt;&gt; getClientsByTrainerId(@PathVariable long trainerId) {\n        List&lt;Client&gt; clients = clientService.getClientsByTrainerId(trainerId);\n        return new ResponseEntity&lt;&gt;(clients, HttpStatus.OK);\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;Client&gt; createClient(@RequestBody ClientDTO clientDTO) {\n        Client newClient = clientService.createNewClient(clientDTO);\n        return new ResponseEntity&lt;&gt;(newClient, HttpStatus.CREATED);\n    }\n\n    @PutMapping(&quot;/{clientId}&quot;)\n    ResponseEntity&lt;Client&gt; updateClient(@PathVariable Long clientId, @RequestBody ClientDTO clientDTO) {\n        Client editedClient = clientService.editClient(clientId, clientDTO);\n        return new ResponseEntity&lt;&gt;(editedClient, HttpStatus.OK);\n    }\n\n}\n</code></pre>\n<p><strong>Edit: Add Delete method</strong></p>\n<pre><code>@DeleteMapping(&quot;/{clientId}&quot;)\nlong deleteClient(@PathVariable long clientId) {\n    clientService.deleteClient(clientId);\n    return clientId;\n}\n</code></pre>\n"},{"tags":["java","hibernate","sequence-generators"],"answers":[{"comments":[{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":5,"creation_date":1486997633,"post_id":40011062,"comment_id":71575124,"body_markdown":"What if the annotations are from JPA ?","body":"What if the annotations are from JPA ?"},{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":3,"creation_date":1487169613,"post_id":40011062,"comment_id":71662322,"body_markdown":"If using Hibernate 4, one can change a property without changing code `properties.put(&quot;hibernate.id.new_generator_mappings&quot;, &quot;true&quot;);` (see [Vlad Mihalcea blog](https://vladmihalcea.com/2014/07/15/from-jpa-to-hibernates-legacy-and-enhanced-identifier-generators/)). However hibernate 5 is using the enhanced generators by default so no need for that property.","body":"If using Hibernate 4, one can change a property without changing code <code>properties.put(&quot;hibernate.id.new_generator_mappings&quot;, &quot;true&quot;);</code> (see <a href=\"https://vladmihalcea.com/2014/07/15/from-jpa-to-hibernates-legacy-and-enhanced-identifier-generators/\" rel=\"nofollow noreferrer\">Vlad Mihalcea blog</a>). However hibernate 5 is using the enhanced generators by default so no need for that property."},{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":0,"creation_date":1487169695,"post_id":40011062,"comment_id":71662378,"body_markdown":"Those new sequence generators are using _optimisers_, and the default is the `pooled` one and if this is problematic, you can still avoid issues by using the previous algorythm if you set hibernate to use the **hi/lo** optimizer, for exemple set  `properties.put(&quot;hibernate.id.optimizer.pooled.preferred&quot;, &quot;hilo&quot;);`. The benefit is still that there&#39;s no change in the code that is using JPA annotations.","body":"Those new sequence generators are using <i>optimisers</i>, and the default is the <code>pooled</code> one and if this is problematic, you can still avoid issues by using the previous algorythm if you set hibernate to use the <b>hi/lo</b> optimizer, for exemple set  <code>properties.put(&quot;hibernate.id.optimizer.pooled.preferred&quot;, &quot;hilo&quot;);</code>. The benefit is still that there&#39;s no change in the code that is using JPA annotations."},{"owner":{"account_id":6558074,"reputation":3092,"user_id":5070158,"accept_rate":94,"display_name":"Andrii Plotnikov"},"score":0,"creation_date":1490779789,"post_id":40011062,"comment_id":73260732,"body_markdown":"i&#39;ve received 28 messages like this. after changes still receive 28 messages llike this, so, for some reason, did not work for me :(","body":"i&#39;ve received 28 messages like this. after changes still receive 28 messages llike this, so, for some reason, did not work for me :("},{"owner":{"account_id":3739783,"reputation":2117,"user_id":3109776,"display_name":"AndreLDM"},"score":8,"creation_date":1490820514,"post_id":40011062,"comment_id":73289316,"body_markdown":"If upgrading to Spring Boot 1.4.x, check [this](http://stackoverflow.com/a/39244191/3109776)","body":"If upgrading to Spring Boot 1.4.x, check <a href=\"http://stackoverflow.com/a/39244191/3109776\">this</a>"},{"owner":{"account_id":3867657,"reputation":420,"user_id":3203794,"accept_rate":56,"display_name":"Abhishek-M"},"score":1,"creation_date":1497346913,"post_id":40011062,"comment_id":76027596,"body_markdown":"Hi, What is allocationSize here in new wikiSequenceGenerator ?","body":"Hi, What is allocationSize here in new wikiSequenceGenerator ?"},{"owner":{"account_id":4186632,"reputation":750,"user_id":3430262,"display_name":"semenchikus"},"score":0,"creation_date":1497439082,"post_id":40011062,"comment_id":76076942,"body_markdown":"Should be [50](https://github.com/hibernate/hibernate-orm/blob/0a2a5c622e3eb30724e80bc8661c0ac55ebfb2be/hibernate-core/src/main/resources/org/hibernate/jpa/orm_2_1.xsd)","body":"Should be <a href=\"https://github.com/hibernate/hibernate-orm/blob/0a2a5c622e3eb30724e80bc8661c0ac55ebfb2be/hibernate-core/src/main/resources/org/hibernate/jpa/orm_2_1.xsd\" rel=\"nofollow noreferrer\">50</a>"}],"tags":[],"owner":{"account_id":4186632,"reputation":750,"user_id":3430262,"display_name":"semenchikus"},"comment_count":7,"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1476323888,"creation_date":1476323888,"answer_id":40011062,"question_id":39861098,"body_markdown":"According to the warning message and Hibernate documentation ([Hibernate deprecated list](https://docs.jboss.org/hibernate/orm/5.0/javadocs/deprecated-list.html)) you should use [SequenceStyleGenerator](https://docs.jboss.org/hibernate/orm/5.0/javadocs/org/hibernate/id/enhanced/SequenceStyleGenerator.html). Or better use [@GenericGenerator](https://docs.jboss.org/hibernate/annotations/3.4/api/org/hibernate/annotations/GenericGenerator.html) and specify generator strategy.&lt;/p&gt;\r\nHere is a typical example of usage:\r\n\r\n    @GenericGenerator(\r\n            name = &quot;wikiSequenceGenerator&quot;,\r\n            strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;,\r\n            parameters = {\r\n                    @Parameter(name = &quot;sequence_name&quot;, value = &quot;WIKI_SEQUENCE&quot;),\r\n                    @Parameter(name = &quot;initial_value&quot;, value = &quot;1000&quot;),\r\n                    @Parameter(name = &quot;increment_size&quot;, value = &quot;1&quot;)\r\n            }\r\n    )\r\n    @Id\r\n    @GeneratedValue(generator = &quot;wikiSequenceGenerator&quot;)","title":"Replace @SequenceGenerator since its deprecated","body":"<p>According to the warning message and Hibernate documentation (<a href=\"https://docs.jboss.org/hibernate/orm/5.0/javadocs/deprecated-list.html\">Hibernate deprecated list</a>) you should use <a href=\"https://docs.jboss.org/hibernate/orm/5.0/javadocs/org/hibernate/id/enhanced/SequenceStyleGenerator.html\">SequenceStyleGenerator</a>. Or better use <a href=\"https://docs.jboss.org/hibernate/annotations/3.4/api/org/hibernate/annotations/GenericGenerator.html\">@GenericGenerator</a> and specify generator strategy.</p>\nHere is a typical example of usage:</p>\n\n<pre><code>@GenericGenerator(\n        name = \"wikiSequenceGenerator\",\n        strategy = \"org.hibernate.id.enhanced.SequenceStyleGenerator\",\n        parameters = {\n                @Parameter(name = \"sequence_name\", value = \"WIKI_SEQUENCE\"),\n                @Parameter(name = \"initial_value\", value = \"1000\"),\n                @Parameter(name = \"increment_size\", value = \"1\")\n        }\n)\n@Id\n@GeneratedValue(generator = \"wikiSequenceGenerator\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9358902,"reputation":1334,"user_id":6945943,"display_name":"Fahad S. Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678195640,"creation_date":1678195640,"answer_id":75662586,"question_id":39861098,"body_markdown":"In my case I had this property:\r\n\r\n    spring.jpa.hibernate.use-new-id-generator-mappings=false\r\n\r\n\r\nA colleague had added it by mistake, and it was not needed. After removing it the warning logs were removed. \r\n\r\nHope this helps someone. ","title":"Replace @SequenceGenerator since its deprecated","body":"<p>In my case I had this property:</p>\n<pre><code>spring.jpa.hibernate.use-new-id-generator-mappings=false\n</code></pre>\n<p>A colleague had added it by mistake, and it was not needed. After removing it the warning logs were removed.</p>\n<p>Hope this helps someone.</p>\n"}],"owner":{"account_id":2565823,"reputation":935,"user_id":2225935,"accept_rate":69,"display_name":"Finchsize"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35739,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":40011062,"answer_count":2,"score":28,"last_activity_date":1678195640,"creation_date":1475612504,"question_id":39861098,"body_markdown":"I have a problem with `@SequenceGenerator`:\r\n\r\n    @SequenceGenerator(name=&quot;pk_user_id&quot;, sequenceName=&quot;seq_user_id&quot;, allocationSize=1)\r\n    @GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;pk_user_id&quot;)\r\nWhen the application starts up it shows warning:\r\n\r\n&gt;&gt;WARN 7388 --- [           main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details\r\n\r\nI tried to find out how I can replace a deprecated code with a new one but can&#39;t find any solution.","title":"Replace @SequenceGenerator since its deprecated","body":"<p>I have a problem with <code>@SequenceGenerator</code>:</p>\n\n<pre><code>@SequenceGenerator(name=\"pk_user_id\", sequenceName=\"seq_user_id\", allocationSize=1)\n@GeneratedValue(strategy=GenerationType.SEQUENCE, generator=\"pk_user_id\")\n</code></pre>\n\n<p>When the application starts up it shows warning:</p>\n\n<blockquote>\n  <blockquote>\n    <p>WARN 7388 --- [           main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details</p>\n  </blockquote>\n</blockquote>\n\n<p>I tried to find out how I can replace a deprecated code with a new one but can't find any solution.</p>\n"},{"tags":["java","protocol-buffers","grpc"],"comments":[{"owner":{"account_id":2541459,"reputation":688,"user_id":2207175,"display_name":"suhas0sn07"},"score":0,"creation_date":1615258659,"post_id":53788789,"comment_id":117629791,"body_markdown":"None of the java to proto def worked for me, some of the suggested options work only for the basic (simple) java class. Check out https://stackoverflow.com/questions/4660203/generating-proto-file-from-existing-java-objects-or-xsd this answer. Here the xsd to proto works for complex xsd defs. There is no luck so far for java to proto.","body":"None of the java to proto def worked for me, some of the suggested options work only for the basic (simple) java class. Check out <a href=\"https://stackoverflow.com/questions/4660203/generating-proto-file-from-existing-java-objects-or-xsd\" title=\"generating proto file from existing java objects or xsd\">stackoverflow.com/questions/4660203/&hellip;</a> this answer. Here the xsd to proto works for complex xsd defs. There is no luck so far for java to proto."}],"answers":[{"tags":[],"owner":{"account_id":20718407,"reputation":21,"user_id":15213332,"display_name":"tem"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1616131130,"creation_date":1616131130,"answer_id":66702867,"question_id":53788789,"body_markdown":"Reply to the previous one\r\nProtobuf converters didn&#39;t work, this tool only convert java pojobean to proto message.\r\n\r\nIf you want to convert java class pojo code to .proto file, you could try protosuff here&#39; \r\nrefer two git:\r\ncheck[protostuff]: https://github.com/protostuff","title":"Tool to convert Java classes to Proto definitions","body":"<p>Reply to the previous one\nProtobuf converters didn't work, this tool only convert java pojobean to proto message.</p>\n<p>If you want to convert java class pojo code to .proto file, you could try protosuff here'\nrefer two git:\ncheck[protostuff]: <a href=\"https://github.com/protostuff\" rel=\"nofollow noreferrer\">https://github.com/protostuff</a></p>\n"}],"owner":{"account_id":14948844,"reputation":31,"user_id":10793252,"display_name":"L.Zhang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5393,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":1,"score":1,"last_activity_date":1678195593,"creation_date":1544837005,"question_id":53788789,"body_markdown":"I have an existing JAVA project that I&#39;d like to convert the nested classes/objects to Protocol Buffers .proto definitions (not the other way around). \r\n\r\nHow do I convert it?","title":"Tool to convert Java classes to Proto definitions","body":"<p>I have an existing JAVA project that I'd like to convert the nested classes/objects to Protocol Buffers .proto definitions (not the other way around).</p>\n<p>How do I convert it?</p>\n"},{"tags":["java","makefile","copy-paste","jnlp"],"answers":[{"tags":[],"owner":{"account_id":3477289,"reputation":307,"user_id":2910183,"display_name":"Bartomiej Jakub Kwiatek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678182831,"creation_date":1678182831,"answer_id":75660387,"question_id":75660386,"body_markdown":"When I run `jnlp -verbose app.jnlp` there is interesting output, that shows what command is exactly executed. After small changes I created makefile would be like this:\r\n```\r\nPOLICY_FILE = &quot;${HOME}/.java.policy&quot;\r\nJNLP_FILE = &quot;${HOME}/Projects/demo/application.jnlp&quot;\r\nSPLASH_FILE = &quot;${HOME}/Projects/demo/splash.png&quot;\r\nAPP_NAME = &quot;My demo application&quot;\r\n\r\ndefault:\r\n\t&quot;${JAVA_HOME}/bin/java&quot; \\\r\n\t\t-classpath &quot;${JAVA_HOME}/lib/deploy.jar&quot; \\\r\n\t\t-Djava.security.policy=&quot;file:${POLICY_FILE}&quot; \\\r\n\t\t-DtrustProxy=true \\\r\n\t\t-Xverify:remote \\\r\n\t\t-Djnlpx.home=&quot;${JAVA_HOME}/bin&quot; \\\r\n\t\t-Djava.security.manager \\\r\n\t\t-Djnlpx.origFilenameArg=${JNLP_FILE} \\\r\n\t\t-Djnlpx.remove=false \\\r\n\t\t-Dsun.awt.warmup=true \\\r\n\t\t-Xbootclasspath/a:&quot;${JAVA_HOME}/lib/javaws.jar:${JAVA_HOME}/lib/deploy.jar&quot;:&quot;${JAVA_HOME}/lib/plugin.jar&quot; \\\r\n\t\t-Xdock:name=&quot;${APP_NAME}&quot; \\\r\n\t\t-Dmacosx.jnlpx.dock.name=&quot;${APP_NAME}&quot; \\\r\n\t\t-Xdock:icon=&quot;${JAVA_HOME}/lib/deploy/webStartAppIcon.icns&quot; \\\r\n\t\t-Dmacosx.jnlpx.dock.icon=&quot;${JAVA_HOME}/lib/deploy/webStartAppIcon.icns&quot; \\\r\n\t\t-splash:&quot;${SPLASH_FILE}&quot; \\\r\n\t\t-Djnlpx.jvm=&quot;${JAVA_HOME}/bin/java&quot; com.sun.javaws.Main \\\r\n\t\t-verbose \\\r\n\t\t-notWebJava ${JNLP_FILE}\r\n```\r\n\r\nand `.java.policy` file:\r\n```\r\ngrant {\r\n  permission java.awt.AWTPermission &quot;accessClipboard&quot;;\r\n  permission java.security.AllPermission;\r\n};\r\n```","title":"JNLP clipboard access (copy-paste)","body":"<p>When I run <code>jnlp -verbose app.jnlp</code> there is interesting output, that shows what command is exactly executed. After small changes I created makefile would be like this:</p>\n<pre><code>POLICY_FILE = &quot;${HOME}/.java.policy&quot;\nJNLP_FILE = &quot;${HOME}/Projects/demo/application.jnlp&quot;\nSPLASH_FILE = &quot;${HOME}/Projects/demo/splash.png&quot;\nAPP_NAME = &quot;My demo application&quot;\n\ndefault:\n    &quot;${JAVA_HOME}/bin/java&quot; \\\n        -classpath &quot;${JAVA_HOME}/lib/deploy.jar&quot; \\\n        -Djava.security.policy=&quot;file:${POLICY_FILE}&quot; \\\n        -DtrustProxy=true \\\n        -Xverify:remote \\\n        -Djnlpx.home=&quot;${JAVA_HOME}/bin&quot; \\\n        -Djava.security.manager \\\n        -Djnlpx.origFilenameArg=${JNLP_FILE} \\\n        -Djnlpx.remove=false \\\n        -Dsun.awt.warmup=true \\\n        -Xbootclasspath/a:&quot;${JAVA_HOME}/lib/javaws.jar:${JAVA_HOME}/lib/deploy.jar&quot;:&quot;${JAVA_HOME}/lib/plugin.jar&quot; \\\n        -Xdock:name=&quot;${APP_NAME}&quot; \\\n        -Dmacosx.jnlpx.dock.name=&quot;${APP_NAME}&quot; \\\n        -Xdock:icon=&quot;${JAVA_HOME}/lib/deploy/webStartAppIcon.icns&quot; \\\n        -Dmacosx.jnlpx.dock.icon=&quot;${JAVA_HOME}/lib/deploy/webStartAppIcon.icns&quot; \\\n        -splash:&quot;${SPLASH_FILE}&quot; \\\n        -Djnlpx.jvm=&quot;${JAVA_HOME}/bin/java&quot; com.sun.javaws.Main \\\n        -verbose \\\n        -notWebJava ${JNLP_FILE}\n</code></pre>\n<p>and <code>.java.policy</code> file:</p>\n<pre><code>grant {\n  permission java.awt.AWTPermission &quot;accessClipboard&quot;;\n  permission java.security.AllPermission;\n};\n</code></pre>\n"}],"owner":{"account_id":3477289,"reputation":307,"user_id":2910183,"display_name":"Bartomiej Jakub Kwiatek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678195528,"creation_date":1678182831,"question_id":75660386,"body_markdown":"I was looking how to enable copy-paste for JNLP files. I have created policy file (like it is described here https://stackoverflow.com/questions/8513740/copy-paste-not-working-in-a-signed-applet or here http://www.shodor.org/interactivate/resources/InstructionsCopyPaste). But it is not working when I run `javaws application.jnlp` command.","title":"JNLP clipboard access (copy-paste)","body":"<p>I was looking how to enable copy-paste for JNLP files. I have created policy file (like it is described here <a href=\"https://stackoverflow.com/questions/8513740/copy-paste-not-working-in-a-signed-applet\">Copy/Paste not working in a signed Applet</a> or here <a href=\"http://www.shodor.org/interactivate/resources/InstructionsCopyPaste\" rel=\"nofollow noreferrer\">http://www.shodor.org/interactivate/resources/InstructionsCopyPaste</a>). But it is not working when I run <code>javaws application.jnlp</code> command.</p>\n"},{"tags":["java","php","encryption","aes-gcm"],"comments":[{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":1,"creation_date":1678195071,"post_id":75662300,"comment_id":133482917,"body_markdown":"Without going further - there is an obvious error: &quot;Cipher cipher = Cipher.getInstance(&quot;AES/CBC/NoPadding&quot;);&quot;. Try to exchange with **GCM**","body":"Without going further - there is an obvious error: &quot;Cipher cipher = Cipher.getInstance(&quot;AES/CBC/NoPadding&quot;);&quot;. Try to exchange with <b>GCM</b>"},{"owner":{"account_id":1265496,"reputation":607,"user_id":1222882,"accept_rate":42,"display_name":"Ankit"},"score":0,"creation_date":1678195249,"post_id":75662300,"comment_id":133482973,"body_markdown":"ya sorry there was GCM in java code actually I mixed two codes. let me correct the question","body":"ya sorry there was GCM in java code actually I mixed two codes. let me correct the question"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1678195995,"post_id":75662300,"comment_id":133483171,"body_markdown":"Apart from this typo, both codes are (almost) identical, i.e. provide the same ciphertext for the same input data. The difference is that in the Java code ciphertext and tag are implicitly concatenated (`ciphertext|tag`), while in the PHP code both are handled separately. For the PHP code to return the same result as the Java code `$encrypted = base64_encode($ciphertext . $tag)` must be used.","body":"Apart from this typo, both codes are (almost) identical, i.e. provide the same ciphertext for the same input data. The difference is that in the Java code ciphertext and tag are implicitly concatenated (<code>ciphertext|tag</code>), while in the PHP code both are handled separately. For the PHP code to return the same result as the Java code <code>$encrypted = base64_encode($ciphertext . $tag)</code> must be used."},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1678196107,"post_id":75662300,"comment_id":133483196,"body_markdown":"In the Java code the encoding should be explicitly specified in all `getBytes()` (otherwise provider-dependent default values are used).","body":"In the Java code the encoding should be explicitly specified in all <code>getBytes()</code> (otherwise provider-dependent default values are used)."},{"owner":{"account_id":1265496,"reputation":607,"user_id":1222882,"accept_rate":42,"display_name":"Ankit"},"score":0,"creation_date":1678196468,"post_id":75662300,"comment_id":133483301,"body_markdown":"@Topaco Thanks for your reply. but as the $tag is blank in php so concatenating would not create any difference.","body":"@Topaco Thanks for your reply. but as the $tag is blank in php so concatenating would not create any difference."},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1678196691,"post_id":75662300,"comment_id":133483353,"body_markdown":"*...as the $tag is blank in php so concatenating would not create any difference...* You are wrong. During encryption the tag is generated and passed by reference, s. the docs for [`openssl_encrypt()`](https://www.php.net/manual/en/function.openssl-encrypt.php).","body":"<i>...as the $tag is blank in php so concatenating would not create any difference...</i> You are wrong. During encryption the tag is generated and passed by reference, s. the docs for <a href=\"https://www.php.net/manual/en/function.openssl-encrypt.php\" rel=\"nofollow noreferrer\"><code>openssl_encrypt()</code></a>."},{"owner":{"account_id":1265496,"reputation":607,"user_id":1222882,"accept_rate":42,"display_name":"Ankit"},"score":0,"creation_date":1678197863,"post_id":75662300,"comment_id":133483693,"body_markdown":"ok so if I again want to decrypt encrypted string using php then i would base64_decode first then to extract tag again this will be like  $tag = substr( $textToDecrypt , $iv_len , 16 ); ?","body":"ok so if I again want to decrypt encrypted string using php then i would base64_decode first then to extract tag again this will be like  $tag = substr( $textToDecrypt , $iv_len , 16 ); ?"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1678198700,"post_id":75662300,"comment_id":133483950,"body_markdown":"If `$textToDecrypt` is the concatenation of ciphertext and tag, then `$ct_len = strlen($textToDecrypt) - $tag_length` is the length of the ciphertext. The ciphertext is then `$ct = substr($textToDecrypt, 0, $ct_len)` and the tag `$tag = substr($textToDecrypt, $ct_len, $tag_length)`.","body":"If <code>$textToDecrypt</code> is the concatenation of ciphertext and tag, then <code>$ct_len = strlen($textToDecrypt) - $tag_length</code> is the length of the ciphertext. The ciphertext is then <code>$ct = substr($textToDecrypt, 0, $ct_len)</code> and the tag <code>$tag = substr($textToDecrypt, $ct_len, $tag_length)</code>."},{"owner":{"account_id":1265496,"reputation":607,"user_id":1222882,"accept_rate":42,"display_name":"Ankit"},"score":0,"creation_date":1678199492,"post_id":75662300,"comment_id":133484258,"body_markdown":"@Topaco Thanks for your quick replies. so basically my question is answered in your first comment. let me know how to mark your reply as answer.","body":"@Topaco Thanks for your quick replies. so basically my question is answered in your first comment. let me know how to mark your reply as answer."}],"owner":{"account_id":1265496,"reputation":607,"user_id":1222882,"accept_rate":42,"display_name":"Ankit"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678195277,"creation_date":1678194005,"question_id":75662300,"body_markdown":"I am trying to understand java code and want to covert that to equivalent php code for AES 256 bit GCM No Padding option.\r\nIf I encrypt some text using both java and php encryption algorithm then result should be same. Please note I have a fixed key and IV value available which will be used in java and php side.\r\n\r\nBelow is the java code function to encrypt\r\n\r\n\r\n    public static final int AES_KEY_SIZE = 256;\r\n    public static final int GCM_IV_LENGTH = 12;\r\n    public static final int GCM_TAG_LENGTH = 16;\r\n    \r\n    public static String encrypt(String plainText, String encryptionKey, String IV) throws Exception {\r\n        \r\n            Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n        \r\n            SecretKeySpec key = new SecretKeySpec(encryptionKey.getBytes(&quot;UTF-8&quot;), &quot;AES&quot;);\r\n        \r\n            GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(GCM_TAG_LENGTH * 8, IV.getBytes());\r\n        \r\n            cipher.init(Cipher.ENCRYPT_MODE, key,gcmParameterSpec);\r\n        \r\n            byte[] cipherByte = cipher.doFinal(plainText.getBytes());\r\n        \r\n            String cipherText = new String(Base64.getEncoder().encodeToString(cipherByte));\r\n             \r\n            return cipherText;\r\n           \r\n        }\r\n\r\nI have idea that I can use php openssl_encrypt function for encryption but I am unable to understand some part of java code \r\n\r\n    SecretKeySpec key = new SecretKeySpec(encryptionKey.getBytes(&quot;UTF-8&quot;), &quot;AES&quot;);\r\n    GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(GCM_TAG_LENGTH * 8, IV.getBytes());\r\n\r\n\r\ncan some java/php expert help me to understand about lines of code what new SeceretKeySpec is actually doing and GCMParmeters how these work. what would be equivalent in php for doing same operation?\r\n\r\nBelow is the php code \r\n\r\n    function encrypt($key, $textToEncrypt,$iv){\r\n        $cipher = &#39;aes-256-gcm&#39;;\r\n        $iv_len = 12;\r\n        $tag_length = 16;\r\n    \t$tag = &quot;&quot;; \r\n    \t$ciphertext = openssl_encrypt($textToEncrypt, $cipher, $key, OPENSSL_RAW_DATA, $iv, $tag, &quot;&quot;, $tag_length);\r\n    \t$encrypted = base64_encode($ciphertext);\r\n        return $encrypted;\r\n    }\r\n\r\nI already did some research on stackoverflow but could not find equivalent solution for php. \r\nlike [https://stackoverflow.com/questions/65001817/aes-gcm-in-php-java][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/65001817/aes-gcm-in-php-java\r\n","title":"AES 256 bit GCM java equivalent code for php encryption and decryption","body":"<p>I am trying to understand java code and want to covert that to equivalent php code for AES 256 bit GCM No Padding option.\nIf I encrypt some text using both java and php encryption algorithm then result should be same. Please note I have a fixed key and IV value available which will be used in java and php side.</p>\n<p>Below is the java code function to encrypt</p>\n<pre><code>public static final int AES_KEY_SIZE = 256;\npublic static final int GCM_IV_LENGTH = 12;\npublic static final int GCM_TAG_LENGTH = 16;\n\npublic static String encrypt(String plainText, String encryptionKey, String IV) throws Exception {\n    \n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n    \n        SecretKeySpec key = new SecretKeySpec(encryptionKey.getBytes(&quot;UTF-8&quot;), &quot;AES&quot;);\n    \n        GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(GCM_TAG_LENGTH * 8, IV.getBytes());\n    \n        cipher.init(Cipher.ENCRYPT_MODE, key,gcmParameterSpec);\n    \n        byte[] cipherByte = cipher.doFinal(plainText.getBytes());\n    \n        String cipherText = new String(Base64.getEncoder().encodeToString(cipherByte));\n         \n        return cipherText;\n       \n    }\n</code></pre>\n<p>I have idea that I can use php openssl_encrypt function for encryption but I am unable to understand some part of java code</p>\n<pre><code>SecretKeySpec key = new SecretKeySpec(encryptionKey.getBytes(&quot;UTF-8&quot;), &quot;AES&quot;);\nGCMParameterSpec gcmParameterSpec = new GCMParameterSpec(GCM_TAG_LENGTH * 8, IV.getBytes());\n</code></pre>\n<p>can some java/php expert help me to understand about lines of code what new SeceretKeySpec is actually doing and GCMParmeters how these work. what would be equivalent in php for doing same operation?</p>\n<p>Below is the php code</p>\n<pre><code>function encrypt($key, $textToEncrypt,$iv){\n    $cipher = 'aes-256-gcm';\n    $iv_len = 12;\n    $tag_length = 16;\n    $tag = &quot;&quot;; \n    $ciphertext = openssl_encrypt($textToEncrypt, $cipher, $key, OPENSSL_RAW_DATA, $iv, $tag, &quot;&quot;, $tag_length);\n    $encrypted = base64_encode($ciphertext);\n    return $encrypted;\n}\n</code></pre>\n<p>I already did some research on stackoverflow but could not find equivalent solution for php.\nlike <a href=\"https://stackoverflow.com/questions/65001817/aes-gcm-in-php-java\">AES GCM in PHP/Java</a></p>\n"},{"tags":["java","docker","playwright","playwright-java"],"answers":[{"tags":[],"owner":{"account_id":5215518,"reputation":1730,"user_id":4170608,"display_name":"unickq"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678195151,"creation_date":1678195151,"answer_id":75662489,"question_id":75547272,"body_markdown":"\r\n\r\nhttps://hub.docker.com/_/microsoft-playwright-java and `mcr.microsoft.com/playwright/java:v1.30.0-focal` are totally fine to use.\r\n\r\n&gt; It does not state for which Java version this image uses, nor are there apparently different versions of the image offered\r\n\r\nUses openjdk-17-jdk, see https://github.com/microsoft/playwright-java/blob/main/utils/docker/Dockerfile.focal\r\n\r\n\r\n&gt; It states in the documentation that you are not supposed to use this image for production, only for test and development\r\n\r\nIt says `It is not recommended to use this Docker image to visit untrusted websites` JFYI - see how it was added https://github.com/microsoft/playwright/issues/20589#issuecomment-1416263856 because of container vulnerabilities found","title":"com.microsoft.playwright.PlaywrightException: Host system is missing dependencies to run browsers","body":"<p><a href=\"https://hub.docker.com/_/microsoft-playwright-java\" rel=\"nofollow noreferrer\">https://hub.docker.com/_/microsoft-playwright-java</a> and <code>mcr.microsoft.com/playwright/java:v1.30.0-focal</code> are totally fine to use.</p>\n<blockquote>\n<p>It does not state for which Java version this image uses, nor are there apparently different versions of the image offered</p>\n</blockquote>\n<p>Uses openjdk-17-jdk, see <a href=\"https://github.com/microsoft/playwright-java/blob/main/utils/docker/Dockerfile.focal\" rel=\"nofollow noreferrer\">https://github.com/microsoft/playwright-java/blob/main/utils/docker/Dockerfile.focal</a></p>\n<blockquote>\n<p>It states in the documentation that you are not supposed to use this image for production, only for test and development</p>\n</blockquote>\n<p>It says <code>It is not recommended to use this Docker image to visit untrusted websites</code> JFYI - see how it was added <a href=\"https://github.com/microsoft/playwright/issues/20589#issuecomment-1416263856\" rel=\"nofollow noreferrer\">https://github.com/microsoft/playwright/issues/20589#issuecomment-1416263856</a> because of container vulnerabilities found</p>\n"}],"owner":{"account_id":2243576,"reputation":407,"user_id":1977508,"accept_rate":50,"display_name":"Furious Gamer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":887,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678195151,"creation_date":1677167868,"question_id":75547272,"body_markdown":"I have a quarkus servicewhich use the `Playwright` library for Java for web scraping tasks. On my windows host everything works fine when running the service on localhost, but when i run it on a `openjdk:17.0.1-jdk-slim` docker image for deployment, i get the following error when executing code using `Playwright` in the service:\r\n\r\n    com.microsoft.playwright.PlaywrightException: Error {\r\n    quarkus-service  |   message=&#39;\r\n    quarkus-service  | \r\n    quarkus-service  |  Host system is missing dependencies to run browsers. \r\n    quarkus-service  |  Missing libraries:                                   \r\n    quarkus-service  |      libsoup-2.4.so.1                                 \r\n    quarkus-service  |      libgstreamer-1.0.so.0                            \r\n    quarkus-service  |      libgtk-3.so.0                                    \r\n    quarkus-service  |      libgdk-3.so.0                                    \r\n    quarkus-service  |      libcairo.so.2                                    \r\n    quarkus-service  |      libepoxy.so.0                                    \r\n    quarkus-service  |      libevent-2.1.so.7                                \r\n    quarkus-service  |      libopus.so.0                                     \r\n    quarkus-service  |      libicui18n.so.67                                 \r\n    quarkus-service  |      libicuuc.so.67                                   \r\n    quarkus-service  |      libpango-1.0.so.0                                \r\n    quarkus-service  |      libharfbuzz.so.0                                 \r\n    quarkus-service  |      libgdk_pixbuf-2.0.so.0                           \r\n    quarkus-service  |      libxml2.so.2                                     \r\n    quarkus-service  |      libsqlite3.so.0                                  \r\n    quarkus-service  |      libxslt.so.1                                     \r\n    quarkus-service  |      liblcms2.so.2                                    \r\n    quarkus-service  |      libwoff2dec.so.1.0.2                             \r\n    quarkus-service  |      libfontconfig.so.1                               \r\n    quarkus-service  |      libfreetype.so.6                                 \r\n    quarkus-service  |      libharfbuzz-icu.so.0                             \r\n    quarkus-service  |      libgstallocators-1.0.so.0                        \r\n    quarkus-service  |      libgstapp-1.0.so.0                               \r\n    quarkus-service  |      libgstbase-1.0.so.0                              \r\n    quarkus-service  |      libgstpbutils-1.0.so.0                           \r\n    quarkus-service  |      libgstaudio-1.0.so.0                             \r\n    quarkus-service  |      libgsttag-1.0.so.0                               \r\n    quarkus-service  |      libgstvideo-1.0.so.0                             \r\n    quarkus-service  |      libgstgl-1.0.so.0                                \r\n    quarkus-service  |      libgstfft-1.0.so.0                               \r\n    quarkus-service  |      libjpeg.so.62                                    \r\n    quarkus-service  |      libpng16.so.16                                   \r\n    quarkus-service  |      libopenjp2.so.7                                  \r\n    quarkus-service  |      libwebpdemux.so.2                                \r\n    quarkus-service  |      libwebp.so.6                                     \r\n    quarkus-service  |      libenchant-2.so.2                                \r\n    quarkus-service  |      libsecret-1.so.0                                 \r\n    quarkus-service  |      libhyphen.so.0                                   \r\n    quarkus-service  |      libX11.so.6                                      \r\n    quarkus-service  |      libXcomposite.so.1                               \r\n    quarkus-service  |      libXdamage.so.1                                  \r\n    quarkus-service  |      libwayland-server.so.0                           \r\n    quarkus-service  |      libwayland-egl.so.1                              \r\n    quarkus-service  |      libwayland-client.so.0                           \r\n    quarkus-service  |      libmanette-0.2.so.0                              \r\n    quarkus-service  |      libgbm.so.1                                      \r\n    quarkus-service  |      libdrm.so.2                                      \r\n    quarkus-service  |      libatomic.so.1                                   \r\n    quarkus-service  |      libxkbcommon.so.0                                \r\n    quarkus-service  |      libdbus-1.so.3                                   \r\n    quarkus-service  |      libGLESv2.so.2                                   \r\n    quarkus-service  |      libx264.so                                       \r\n    quarkus-service  | \r\n\r\nSo it seems dependencies are missing on this image. For the NodeJS versions of the library, there appear to be e.g. NPM based utility functions for `Playwright` to install these, but i don&#39;t see how to do this for Java. When i tried adding `apt-get install` commands to my docker image build to manually install all the dependencies, they cannot be resolved. \r\n\r\nI then found that there is a docker image for `Playwright` for Java (https://hub.docker.com/_/microsoft-playwright-java), with the documentation stating that alpine based images are not supported for some reason and i assumed that is related (https://playwright.dev/java/docs/docker#usage). However, what find odd is that:\r\n\r\n1. It does not state for which Java version this image uses, nor are there apparently different versions of the image offered. The Dockerfile is not even present to look at and see what it does on docker hub. I assume that Java must be installed on the image, otherwise you couldn&#39;t use the library - so do they use just a single image with a fixed java version? I saw that you can specify the version of `Playwright` when using a tag for the image, but what about the Java version?  \r\n\r\n2. It states in the documentation that you are not supposed to use this image for production, only for test and development. Then how am i supposed to set up the docker image for production? Use an ubuntu base image, install the java version i need and then manually install all the dependencies? I am not sure i am missing something, so i wanted to see if this is the right (or only) way.","title":"com.microsoft.playwright.PlaywrightException: Host system is missing dependencies to run browsers","body":"<p>I have a quarkus servicewhich use the <code>Playwright</code> library for Java for web scraping tasks. On my windows host everything works fine when running the service on localhost, but when i run it on a <code>openjdk:17.0.1-jdk-slim</code> docker image for deployment, i get the following error when executing code using <code>Playwright</code> in the service:</p>\n<pre><code>com.microsoft.playwright.PlaywrightException: Error {\nquarkus-service  |   message='\nquarkus-service  | \nquarkus-service  |  Host system is missing dependencies to run browsers. \nquarkus-service  |  Missing libraries:                                   \nquarkus-service  |      libsoup-2.4.so.1                                 \nquarkus-service  |      libgstreamer-1.0.so.0                            \nquarkus-service  |      libgtk-3.so.0                                    \nquarkus-service  |      libgdk-3.so.0                                    \nquarkus-service  |      libcairo.so.2                                    \nquarkus-service  |      libepoxy.so.0                                    \nquarkus-service  |      libevent-2.1.so.7                                \nquarkus-service  |      libopus.so.0                                     \nquarkus-service  |      libicui18n.so.67                                 \nquarkus-service  |      libicuuc.so.67                                   \nquarkus-service  |      libpango-1.0.so.0                                \nquarkus-service  |      libharfbuzz.so.0                                 \nquarkus-service  |      libgdk_pixbuf-2.0.so.0                           \nquarkus-service  |      libxml2.so.2                                     \nquarkus-service  |      libsqlite3.so.0                                  \nquarkus-service  |      libxslt.so.1                                     \nquarkus-service  |      liblcms2.so.2                                    \nquarkus-service  |      libwoff2dec.so.1.0.2                             \nquarkus-service  |      libfontconfig.so.1                               \nquarkus-service  |      libfreetype.so.6                                 \nquarkus-service  |      libharfbuzz-icu.so.0                             \nquarkus-service  |      libgstallocators-1.0.so.0                        \nquarkus-service  |      libgstapp-1.0.so.0                               \nquarkus-service  |      libgstbase-1.0.so.0                              \nquarkus-service  |      libgstpbutils-1.0.so.0                           \nquarkus-service  |      libgstaudio-1.0.so.0                             \nquarkus-service  |      libgsttag-1.0.so.0                               \nquarkus-service  |      libgstvideo-1.0.so.0                             \nquarkus-service  |      libgstgl-1.0.so.0                                \nquarkus-service  |      libgstfft-1.0.so.0                               \nquarkus-service  |      libjpeg.so.62                                    \nquarkus-service  |      libpng16.so.16                                   \nquarkus-service  |      libopenjp2.so.7                                  \nquarkus-service  |      libwebpdemux.so.2                                \nquarkus-service  |      libwebp.so.6                                     \nquarkus-service  |      libenchant-2.so.2                                \nquarkus-service  |      libsecret-1.so.0                                 \nquarkus-service  |      libhyphen.so.0                                   \nquarkus-service  |      libX11.so.6                                      \nquarkus-service  |      libXcomposite.so.1                               \nquarkus-service  |      libXdamage.so.1                                  \nquarkus-service  |      libwayland-server.so.0                           \nquarkus-service  |      libwayland-egl.so.1                              \nquarkus-service  |      libwayland-client.so.0                           \nquarkus-service  |      libmanette-0.2.so.0                              \nquarkus-service  |      libgbm.so.1                                      \nquarkus-service  |      libdrm.so.2                                      \nquarkus-service  |      libatomic.so.1                                   \nquarkus-service  |      libxkbcommon.so.0                                \nquarkus-service  |      libdbus-1.so.3                                   \nquarkus-service  |      libGLESv2.so.2                                   \nquarkus-service  |      libx264.so                                       \nquarkus-service  | \n</code></pre>\n<p>So it seems dependencies are missing on this image. For the NodeJS versions of the library, there appear to be e.g. NPM based utility functions for <code>Playwright</code> to install these, but i don't see how to do this for Java. When i tried adding <code>apt-get install</code> commands to my docker image build to manually install all the dependencies, they cannot be resolved.</p>\n<p>I then found that there is a docker image for <code>Playwright</code> for Java (<a href=\"https://hub.docker.com/_/microsoft-playwright-java\" rel=\"nofollow noreferrer\">https://hub.docker.com/_/microsoft-playwright-java</a>), with the documentation stating that alpine based images are not supported for some reason and i assumed that is related (<a href=\"https://playwright.dev/java/docs/docker#usage\" rel=\"nofollow noreferrer\">https://playwright.dev/java/docs/docker#usage</a>). However, what find odd is that:</p>\n<ol>\n<li><p>It does not state for which Java version this image uses, nor are there apparently different versions of the image offered. The Dockerfile is not even present to look at and see what it does on docker hub. I assume that Java must be installed on the image, otherwise you couldn't use the library - so do they use just a single image with a fixed java version? I saw that you can specify the version of <code>Playwright</code> when using a tag for the image, but what about the Java version?</p>\n</li>\n<li><p>It states in the documentation that you are not supposed to use this image for production, only for test and development. Then how am i supposed to set up the docker image for production? Use an ubuntu base image, install the java version i need and then manually install all the dependencies? I am not sure i am missing something, so i wanted to see if this is the right (or only) way.</p>\n</li>\n</ol>\n"},{"tags":["java","spring","redis","locking","redisson"],"answers":[{"tags":[],"owner":{"account_id":18393488,"reputation":11,"user_id":13398583,"display_name":"Rostyslav Pryimak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678195096,"creation_date":1678195096,"answer_id":75662481,"question_id":75658579,"body_markdown":"I guess your approach is wrong. You don&#39;t need Redis or other tools with locks for that. With proper setup of kafka consumer groups message won&#39;t be picked up by different pod","title":"Unexpected error occurred in scheduled task, None of slaves were synced - Java/Spring/Redis","body":"<p>I guess your approach is wrong. You don't need Redis or other tools with locks for that. With proper setup of kafka consumer groups message won't be picked up by different pod</p>\n"}],"owner":{"account_id":16408851,"reputation":13,"user_id":11852703,"display_name":"DEEP GAHLOT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678195096,"creation_date":1678169838,"question_id":75658579,"body_markdown":"Applying locks on kafka events using redis so that same kafka event will not process by multiple pods.\r\n\r\n&gt; java.lang.IllegalStateException: None of slaves were synced \tat\r\n&gt; org.redisson.RedissonBaseLock.lambda$evalWriteAsync$0(RedissonBaseLock.java:225)\r\n&gt; \tat java.util.concurrent.CompletableFuture.uniHandle(Unknown Source)\r\n&gt; \tat java.util.concurrent.CompletableFuture$UniHandle.tryFire(Unknown\r\n&gt; Source) \tat\r\n&gt; java.util.concurrent.CompletableFuture.postComplete(Unknown Source)\r\n&gt; \tat java.util.concurrent.CompletableFuture.complete(Unknown Source)\r\n&gt; \tat\r\n&gt; org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:322)\r\n&gt; \tat java.util.concurrent.CompletableFuture.uniWhenComplete(Unknown\r\n&gt; Source) \tat\r\n&gt; java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(Unknown\r\n&gt; Source) \tat\r\n&gt; java.util.concurrent.CompletableFuture.postComplete(Unknown Source)\r\n&gt; \tat java.util.concurrent.CompletableFuture.complete(Unknown Source)\r\n&gt; \tat\r\n&gt; org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:163)\r\n&gt; \tat\r\n&gt; org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:524)\r\n&gt; \tat\r\n&gt; org.redisson.command.RedisExecutor.lambda$execute$4(RedisExecutor.java:176)\r\n&gt; \tat java.util.concurrent.CompletableFuture.uniWhenComplete(Unknown\r\n&gt; Source) \tat\r\n&gt; java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(Unknown\r\n&gt; Source) \tat\r\n&gt; java.util.concurrent.CompletableFuture.postComplete(Unknown Source)\r\n&gt; \tat java.util.concurrent.CompletableFuture.complete(Unknown Source)\r\n&gt; \tat\r\n&gt; org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:318)\r\n&gt; \tat\r\n&gt; org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:210)\r\n&gt; \tat\r\n&gt; org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:137)\r\n&gt; \tat\r\n&gt; org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:113)\r\n&gt; \tat\r\n&gt; io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)\r\n&gt; \tat\r\n&gt; io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)\r\n&gt; \tat\r\n&gt; io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)\r\n&gt; \tat io.netty.channel.Abstract...\r\n\r\n","title":"Unexpected error occurred in scheduled task, None of slaves were synced - Java/Spring/Redis","body":"<p>Applying locks on kafka events using redis so that same kafka event will not process by multiple pods.</p>\n<blockquote>\n<p>java.lang.IllegalStateException: None of slaves were synced   at\norg.redisson.RedissonBaseLock.lambda$evalWriteAsync$0(RedissonBaseLock.java:225)\nat java.util.concurrent.CompletableFuture.uniHandle(Unknown Source)\nat java.util.concurrent.CompletableFuture$UniHandle.tryFire(Unknown\nSource)   at\njava.util.concurrent.CompletableFuture.postComplete(Unknown Source)\nat java.util.concurrent.CompletableFuture.complete(Unknown Source)\nat\norg.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:322)\nat java.util.concurrent.CompletableFuture.uniWhenComplete(Unknown\nSource)   at\njava.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(Unknown\nSource)   at\njava.util.concurrent.CompletableFuture.postComplete(Unknown Source)\nat java.util.concurrent.CompletableFuture.complete(Unknown Source)\nat\norg.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:163)\nat\norg.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:524)\nat\norg.redisson.command.RedisExecutor.lambda$execute$4(RedisExecutor.java:176)\nat java.util.concurrent.CompletableFuture.uniWhenComplete(Unknown\nSource)   at\njava.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(Unknown\nSource)   at\njava.util.concurrent.CompletableFuture.postComplete(Unknown Source)\nat java.util.concurrent.CompletableFuture.complete(Unknown Source)\nat\norg.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:318)\nat\norg.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:210)\nat\norg.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:137)\nat\norg.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:113)\nat\nio.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)\nat\nio.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)\nat\nio.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)\nat io.netty.channel.Abstract...</p>\n</blockquote>\n"},{"tags":["java","pdf","resize","itext"],"comments":[{"owner":{"account_id":1202593,"reputation":9569,"user_id":1173495,"accept_rate":46,"display_name":"SANN3"},"score":0,"creation_date":1488439652,"post_id":42547357,"comment_id":72233549,"body_markdown":"What metadata &#39;s you want to keep ?","body":"What metadata &#39;s you want to keep ?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1488442623,"post_id":42547357,"comment_id":72235257,"body_markdown":"Resize using a `PdfReader` / `PdfStamper` pair. Whenever you only want to change details of a pdf, use a `PdfStamper`!","body":"Resize using a <code>PdfReader</code> / <code>PdfStamper</code> pair. Whenever you only want to change details of a pdf, use a <code>PdfStamper</code>!"},{"owner":{"account_id":1676783,"reputation":147,"user_id":3878831,"display_name":"Luo Kaisa"},"score":0,"creation_date":1488670096,"post_id":42547357,"comment_id":72335637,"body_markdown":"@SANN3 Thanks. I want to keep the metadata of the page numeration, for example. When I replace PdfWriter with PdfStamper I get errors.","body":"@SANN3 Thanks. I want to keep the metadata of the page numeration, for example. When I replace PdfWriter with PdfStamper I get errors."}],"owner":{"account_id":1676783,"reputation":147,"user_id":3878831,"display_name":"Luo Kaisa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1678195090,"creation_date":1488431669,"question_id":42547357,"body_markdown":"I&#39;m using the following code to resize a PDF to width=553 and\r\nheight=714:\r\n\r\n    [...]\r\n    public static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tif (args.length &lt; 2) {\r\n\t\t\t\tSystem.out.println(&quot;Pdf resizer&quot;);\r\n\t\t\t\tSystem.out.println(&quot;Args: pdf_in pdf_out&quot;);\r\n\t\t\t\tSystem.exit(2);\r\n\t\t\t}\r\n\t\t\tfloat Width = 553;\r\n\t\t\tfloat Height = 714;\r\n\t\t\tPdfReader reader = new PdfReader(args[0]);\r\n\t\t\tDocument doc = new Document(new Rectangle(Width, Height));\r\n\t\t\tPdfWriter writer = PdfWriter.getInstance(doc, new FileOutputStream(args[1]));\r\n\t\t\tdoc.open();\r\n\t\t\tPdfContentByte cb = writer.getDirectContent();\r\n\r\n\t\t\tPdfImportedPage tp;\r\n\t\t\tint pageNumber;\r\n\t\t\tint NumberOfPages = reader.getNumberOfPages();\r\n\t\t\tfloat Width2, Height2, WidthFactor, HeightFactor, factor;\r\n\t\t\tfloat offsetX, offsetY;\r\n\r\n\t\t\tfor (pageNumber = 1; pageNumber &lt;= NumberOfPages; pageNumber++) {\r\n\t\t\t\ttp = writer.getImportedPage(reader, pageNumber);\r\n\t\t\t\tWidth2 = reader.getPageSize(pageNumber).getWidth();\r\n\t\t\t\tHeight2 = reader.getPageSize(pageNumber).getHeight();\r\n\t\t\t\tWidthFactor = Width / Width2;\r\n\t\t\t\tHeightFactor = Height / Height2;\r\n\t\t\t\tfactor = Math.min(WidthFactor, HeightFactor);\r\n\t\t\t\toffsetX = (Width - (Width2 * factor)) / 2;\r\n\t\t\t\toffsetY = (Height - (Height2 * factor)) / 2;\r\n\t\t\t\tcb.addTemplate(tp, factor, 0, 0, factor, offsetX, offsetY);\r\n\t\t\t\tdoc.newPage();\r\n\t\t\t}\r\n\t\t\tdoc.close();\r\n\t\t\tSystem.exit(0);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace(System.out);\r\n\t\t\tSystem.exit(1);\r\n\t\t}\r\n\t}\r\n\r\nThe problem is that the metadata gets lost. How can I keep the original\r\nmetadata on the resized PDF?\r\n\r\nMany thanks in advance,\r\n\r\nCesar\r\n","title":"Resizing a pdf and keeping original metadata","body":"<p>I'm using the following code to resize a PDF to width=553 and\nheight=714:</p>\n\n<pre><code>[...]\npublic static void main(String[] args) {\n    try {\n        if (args.length &lt; 2) {\n            System.out.println(\"Pdf resizer\");\n            System.out.println(\"Args: pdf_in pdf_out\");\n            System.exit(2);\n        }\n        float Width = 553;\n        float Height = 714;\n        PdfReader reader = new PdfReader(args[0]);\n        Document doc = new Document(new Rectangle(Width, Height));\n        PdfWriter writer = PdfWriter.getInstance(doc, new FileOutputStream(args[1]));\n        doc.open();\n        PdfContentByte cb = writer.getDirectContent();\n\n        PdfImportedPage tp;\n        int pageNumber;\n        int NumberOfPages = reader.getNumberOfPages();\n        float Width2, Height2, WidthFactor, HeightFactor, factor;\n        float offsetX, offsetY;\n\n        for (pageNumber = 1; pageNumber &lt;= NumberOfPages; pageNumber++) {\n            tp = writer.getImportedPage(reader, pageNumber);\n            Width2 = reader.getPageSize(pageNumber).getWidth();\n            Height2 = reader.getPageSize(pageNumber).getHeight();\n            WidthFactor = Width / Width2;\n            HeightFactor = Height / Height2;\n            factor = Math.min(WidthFactor, HeightFactor);\n            offsetX = (Width - (Width2 * factor)) / 2;\n            offsetY = (Height - (Height2 * factor)) / 2;\n            cb.addTemplate(tp, factor, 0, 0, factor, offsetX, offsetY);\n            doc.newPage();\n        }\n        doc.close();\n        System.exit(0);\n    } catch (Exception e) {\n        e.printStackTrace(System.out);\n        System.exit(1);\n    }\n}\n</code></pre>\n\n<p>The problem is that the metadata gets lost. How can I keep the original\nmetadata on the resized PDF?</p>\n\n<p>Many thanks in advance,</p>\n\n<p>Cesar</p>\n"},{"tags":["java","jdbc","glassfish","jaas","glassfish-4"],"comments":[{"owner":{"account_id":2983171,"reputation":837,"user_id":2532694,"accept_rate":60,"display_name":"Bikram"},"score":0,"creation_date":1480210134,"post_id":19365162,"comment_id":68868366,"body_markdown":"I am having issue with migration from 4.0 to 4.1.1 http://stackoverflow.com/questions/40686737/migration-from-glassfish-4-0-to-glassfish-4-1-1-jdbc-realm-issue","body":"I am having issue with migration from 4.0 to 4.1.1 <a href=\"http://stackoverflow.com/questions/40686737/migration-from-glassfish-4-0-to-glassfish-4-1-1-jdbc-realm-issue\" title=\"migration from glassfish 4 0 to glassfish 4 1 1 jdbc realm issue\">stackoverflow.com/questions/40686737/&hellip;</a>"},{"owner":{"account_id":203680,"reputation":112068,"user_id":451475,"accept_rate":100,"display_name":"zaph"},"score":0,"creation_date":1512522359,"post_id":19365162,"comment_id":82289658,"body_markdown":"SHA-256 is only marginally better for a password verifier than MD5, neither should be used. When saving a password verifier just using a hash function is not sufficient and just adding a salt does little to improve the security. Instead use a function such as `PBKDF2`, `Rfc2898DeriveBytes`, `Argon2`, `password_hash`, `Bcrypt` or similar functions. The point is to make the attacker spend substantial of time finding passwords by brute force.","body":"SHA-256 is only marginally better for a password verifier than MD5, neither should be used. When saving a password verifier just using a hash function is not sufficient and just adding a salt does little to improve the security. Instead use a function such as <code>PBKDF2</code>, <code>Rfc2898DeriveBytes</code>, <code>Argon2</code>, <code>password_hash</code>, <code>Bcrypt</code> or similar functions. The point is to make the attacker spend substantial of time finding passwords by brute force."}],"answers":[{"comments":[{"owner":{"account_id":3414783,"reputation":3286,"user_id":2863995,"accept_rate":57,"display_name":"Arnold Galovics"},"score":0,"creation_date":1382040003,"post_id":19435696,"comment_id":28816447,"body_markdown":"I did this, but if i want to log in, it isn&#39;t working. So what? But if i change the password field to an SHA-256 encoded password, it is working.","body":"I did this, but if i want to log in, it isn&#39;t working. So what? But if i change the password field to an SHA-256 encoded password, it is working."},{"owner":{"display_name":"user2880020"},"score":0,"creation_date":1382382712,"post_id":19435696,"comment_id":28929682,"body_markdown":"Hi , did you manage to solve it ? Can you put MD5 at both places and try again ? (with MD5 hashed passwords in the database). \n\nBoth Sha-256 and MD5 encryptions are working fine here, with GlassFish OSE 4.0 and MySQL.\n\nAnyway, if it&#39;s working with SHA-256 you should stick with that because MD5 hash text has been cracked with just the power of a cluster made of 20 Playstations.. SHA-256 is &#39;safer&#39; since it takes more time to decrypt it.","body":"Hi , did you manage to solve it ? Can you put MD5 at both places and try again ? (with MD5 hashed passwords in the database).   Both Sha-256 and MD5 encryptions are working fine here, with GlassFish OSE 4.0 and MySQL.  Anyway, if it&#39;s working with SHA-256 you should stick with that because MD5 hash text has been cracked with just the power of a cluster made of 20 Playstations.. SHA-256 is &#39;safer&#39; since it takes more time to decrypt it."}],"tags":[],"owner":{"display_name":"user2880020"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382038704,"creation_date":1382038704,"answer_id":19435696,"question_id":19365162,"body_markdown":"&gt; So, what is the Password encryption algorithm field?\r\n\r\nDigest Algorithm is used to encrypt/hash the login request, while Password encryption algorithm is used to decrypt the password from db.\r\n\r\n&gt; But if I made a simple login application with JAAS, and create the\r\n&gt; tables, insert one user, and the password is encrypted with MD5, the\r\n&gt; user cannot log in.\r\n\r\nPut MD5 in password encryption field, and leave Digest Algorithm blank (by default , it is sha-256 in GlassFish 4).","title":"Glassfish 4 - JDBC Realm","body":"<blockquote>\n  <p>So, what is the Password encryption algorithm field?</p>\n</blockquote>\n\n<p>Digest Algorithm is used to encrypt/hash the login request, while Password encryption algorithm is used to decrypt the password from db.</p>\n\n<blockquote>\n  <p>But if I made a simple login application with JAAS, and create the\n  tables, insert one user, and the password is encrypted with MD5, the\n  user cannot log in.</p>\n</blockquote>\n\n<p>Put MD5 in password encryption field, and leave Digest Algorithm blank (by default , it is sha-256 in GlassFish 4).</p>\n"},{"tags":[],"owner":{"account_id":78406,"reputation":796,"user_id":223175,"display_name":"AlwaysLearning"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1382388749,"creation_date":1382388749,"answer_id":19504468,"question_id":19365162,"body_markdown":"The documentation is not very clear on this point, but my interpretation is as follows.  This is based on [Glassfish v4 reference manual][1].\r\n\r\nPassword encryption algorithm determines how the passwords are encrypted *within your database*.  This is the parameter `digestrealm-password-enc-algorithm`.  You really want to have this set to something because of course leaving passwords in a database in the clear is a security hole.\r\n\r\nWhen someone tries to authenticate, glassfish needs a way to compare what was submitted to what&#39;s in the database.  But, since the latter is all locked up, it needs a key to unlock.  The encryption (strictly, hashing) used on that key is what is defined in Digest Algorithm (parameter `digest-algorithm`).  It defaults to SHA-256 in v4 (prior, it was MD5).\r\n\r\n \r\n  [1]: https://glassfish.java.net/docs/4.0/reference-manual.pdf","title":"Glassfish 4 - JDBC Realm","body":"<p>The documentation is not very clear on this point, but my interpretation is as follows.  This is based on <a href=\"https://glassfish.java.net/docs/4.0/reference-manual.pdf\" rel=\"nofollow\">Glassfish v4 reference manual</a>.</p>\n\n<p>Password encryption algorithm determines how the passwords are encrypted <em>within your database</em>.  This is the parameter <code>digestrealm-password-enc-algorithm</code>.  You really want to have this set to something because of course leaving passwords in a database in the clear is a security hole.</p>\n\n<p>When someone tries to authenticate, glassfish needs a way to compare what was submitted to what's in the database.  But, since the latter is all locked up, it needs a key to unlock.  The encryption (strictly, hashing) used on that key is what is defined in Digest Algorithm (parameter <code>digest-algorithm</code>).  It defaults to SHA-256 in v4 (prior, it was MD5).</p>\n"}],"owner":{"account_id":3414783,"reputation":3286,"user_id":2863995,"accept_rate":57,"display_name":"Arnold Galovics"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9983,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":19504468,"answer_count":2,"score":7,"last_activity_date":1678194719,"creation_date":1381769390,"question_id":19365162,"body_markdown":"What&#39;s the difference between the Password encryption algorithm and the Digest Algorithm in Glassfish 4?\r\nBecause Password encryption algorithm cannot be blank, I used MD5, and for Encoding, Hex.\r\nThe Digest Algorithm is blank, so the default is SHA-256.\r\n\r\nBut if I made a simple login application with JAAS, and create the tables, insert one user, and the password is encrypted with MD5, the user cannot log in. If i encrypt the password with SHA-256, the user can log in.\r\n\r\nSo, what is the Password encryption algorithm field?\r\n","title":"Glassfish 4 - JDBC Realm","body":"<p>What's the difference between the Password encryption algorithm and the Digest Algorithm in Glassfish 4?\nBecause Password encryption algorithm cannot be blank, I used MD5, and for Encoding, Hex.\nThe Digest Algorithm is blank, so the default is SHA-256.</p>\n\n<p>But if I made a simple login application with JAAS, and create the tables, insert one user, and the password is encrypted with MD5, the user cannot log in. If i encrypt the password with SHA-256, the user can log in.</p>\n\n<p>So, what is the Password encryption algorithm field?</p>\n"},{"tags":["java","maven","github-actions","javadoc","building-github-actions"],"answers":[{"comments":[{"owner":{"account_id":3013056,"reputation":4671,"user_id":2556034,"display_name":"chantey"},"score":1,"creation_date":1659176819,"post_id":71042698,"comment_id":129234494,"body_markdown":"are there any resources for why this is the case?","body":"are there any resources for why this is the case?"},{"owner":{"account_id":2361230,"reputation":18506,"user_id":2067877,"accept_rate":65,"display_name":"Grzegorz Krukowski"},"score":2,"creation_date":1659289164,"post_id":71042698,"comment_id":129254200,"body_markdown":"@chantey https://docs.github.com/en/actions/creating-actions/creating-a-composite-action#creating-an-action-metadata-file","body":"@chantey <a href=\"https://docs.github.com/en/actions/creating-actions/creating-a-composite-action#creating-an-action-metadata-file\" rel=\"nofollow noreferrer\">docs.github.com/en/actions/creating-actions/&hellip;</a>"},{"owner":{"account_id":138912,"reputation":993,"user_id":344162,"accept_rate":89,"display_name":"Gustavo Puma"},"score":2,"creation_date":1670588997,"post_id":71042698,"comment_id":131914385,"body_markdown":"@GrzegorzKrukowski the link doesn&#39;t go into the *why*. Unfortunately I find Github Actions documentation to be lacking, in general","body":"@GrzegorzKrukowski the link doesn&#39;t go into the <i>why</i>. Unfortunately I find Github Actions documentation to be lacking, in general"},{"owner":{"account_id":2361230,"reputation":18506,"user_id":2067877,"accept_rate":65,"display_name":"Grzegorz Krukowski"},"score":1,"creation_date":1670589237,"post_id":71042698,"comment_id":131914469,"body_markdown":"@GustavoPuma you are right I will update &quot;WHY&quot; in my answer, they don&#39;t have it in docs","body":"@GustavoPuma you are right I will update &quot;WHY&quot; in my answer, they don&#39;t have it in docs"},{"owner":{"account_id":138912,"reputation":993,"user_id":344162,"accept_rate":89,"display_name":"Gustavo Puma"},"score":1,"creation_date":1670589829,"post_id":71042698,"comment_id":131914659,"body_markdown":"thank you. I understand that a workflow always needs to define a runner type. Would you happen to know why it is not the case that the composite action cannot simply use whatever was specified in the caller?","body":"thank you. I understand that a workflow always needs to define a runner type. Would you happen to know why it is not the case that the composite action cannot simply use whatever was specified in the caller?"}],"tags":[],"owner":{"account_id":2361230,"reputation":18506,"user_id":2067877,"accept_rate":65,"display_name":"Grzegorz Krukowski"},"comment_count":5,"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1670589338,"creation_date":1644367590,"answer_id":71042698,"question_id":71041836,"body_markdown":"When using composite actions, you have to specify the shell.\r\n\r\nAs you dont specify a runner type in composite actions, you need to specify the shell instead for each action.\r\n\r\nIn your case, the problem is in this step, you need to add `shell: bash` here:\r\n\r\n```\r\n- name: Generate Javadoc\r\n  shell: bash\r\n  run: mvn org.apache.maven.plugins:maven-javadoc-plugin:3.3.1:aggregate\r\n```\r\n\r\nDocs: https://docs.github.com/en/actions/creating-actions/creating-a-composite-action#creating-an-action-metadata-file","title":"GitHub Actions: Required property is missing: shell","body":"<p>When using composite actions, you have to specify the shell.</p>\n<p>As you dont specify a runner type in composite actions, you need to specify the shell instead for each action.</p>\n<p>In your case, the problem is in this step, you need to add <code>shell: bash</code> here:</p>\n<pre><code>- name: Generate Javadoc\n  shell: bash\n  run: mvn org.apache.maven.plugins:maven-javadoc-plugin:3.3.1:aggregate\n</code></pre>\n<p>Docs: <a href=\"https://docs.github.com/en/actions/creating-actions/creating-a-composite-action#creating-an-action-metadata-file\" rel=\"noreferrer\">https://docs.github.com/en/actions/creating-actions/creating-a-composite-action#creating-an-action-metadata-file</a></p>\n"},{"tags":[],"owner":{"account_id":2443774,"reputation":475,"user_id":2131621,"display_name":"Jay"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678194663,"creation_date":1678194663,"answer_id":75662415,"question_id":71041836,"body_markdown":"Putting this here to help other noobs like me and because it&#39;s too long for a comment on the actual answer.\r\n\r\nIf you loosely followed https://docs.github.com/en/actions/creating-actions/creating-a-composite-action (where it doesn&#39;t explicitly tell you that the shell property is required) to create your action, it told you to tag the commit with v1 and then in the workflow that you are trying to use the action you specify &lt;action name&gt;@v1\r\n\r\nNow if, like me, you omitted the shell property in the action you are creating, you&#39;ll be getting &#39;Required property is missing: shell&#39;\r\nAnd if, like me, you&#39;ve been adding &#39;shell: bash&#39; all over the action.yaml for hours wondering why it&#39;s still broken, it&#39;s because you&#39;re still specifying @v1 in the workflow file which of course is referencing a commit/version before the many commits you&#39;ve made trying to fix the action.\r\n\r\nSo, make sure to specify &lt;action name&gt;@master/main/&lt;tag that refers to a version you actually want to test&gt; in your workflow file..","title":"GitHub Actions: Required property is missing: shell","body":"<p>Putting this here to help other noobs like me and because it's too long for a comment on the actual answer.</p>\n<p>If you loosely followed <a href=\"https://docs.github.com/en/actions/creating-actions/creating-a-composite-action\" rel=\"nofollow noreferrer\">https://docs.github.com/en/actions/creating-actions/creating-a-composite-action</a> (where it doesn't explicitly tell you that the shell property is required) to create your action, it told you to tag the commit with v1 and then in the workflow that you are trying to use the action you specify @v1</p>\n<p>Now if, like me, you omitted the shell property in the action you are creating, you'll be getting 'Required property is missing: shell'\nAnd if, like me, you've been adding 'shell: bash' all over the action.yaml for hours wondering why it's still broken, it's because you're still specifying @v1 in the workflow file which of course is referencing a commit/version before the many commits you've made trying to fix the action.</p>\n<p>So, make sure to specify @master/main/ in your workflow file..</p>\n"}],"owner":{"account_id":20683611,"reputation":1187,"user_id":15186569,"display_name":"ThrowsError"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15952,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":71042698,"answer_count":2,"score":28,"last_activity_date":1678194663,"creation_date":1644360210,"question_id":71041836,"body_markdown":"## Introduction\r\nI am currently to crate a composite GitHub Actions that build a JavaDoc from Java project and publish it automatically to a static page with GitHub Page.\r\n\r\n## Problematic\r\n\r\nBut I got this error when I try to run it:\r\n\r\n```log\r\nCurrent runner version: &#39;2.287.1&#39;\r\nOperating System\r\nVirtual Environment\r\nVirtual Environment Provisioner\r\nGITHUB_TOKEN Permissions\r\nSecret source: Actions\r\nPrepare workflow directory\r\nPrepare all required actions\r\nGetting action download info\r\nDownload action repository &#39;MathieuSoysal/Javadoc-publisher.yml@v2.0.2&#39; (SHA:878c07f835dd9bcbb8800090d109c91b0f0d4581)\r\nError: MathieuSoysal/Javadoc-publisher.yml/v2.0.2/action.yml (Line: 29, Col: 5): Required property is missing: shell\r\nError: MathieuSoysal/Javadoc-publisher.yml/v2.0.2/action.yml (Line: 29, Col: 5): Required property is missing: shell\r\nError: GitHub.DistributedTask.ObjectTemplating.TemplateValidationException: The template is not valid. MathieuSoysal/Javadoc-publisher.yml/v2.0.2/action.yml (Line: 29, Col: 5): Required property is missing: shell\r\n   at GitHub.DistributedTask.ObjectTemplating.TemplateValidationErrors.Check()\r\n   at GitHub.Runner.Worker.ActionManifestManager.ConvertRuns(IExecutionContext executionContext, TemplateContext templateContext, TemplateToken inputsToken, String fileRelativePath, MappingToken outputs)\r\n   at GitHub.Runner.Worker.ActionManifestManager.Load(IExecutionContext executionContext, String manifestFile)\r\nError: Fail to load MathieuSoysal/Javadoc-publisher.yml/v2.0.2/action.yml\r\n```\r\n\r\n## Affected code:\r\n\r\n```yaml\r\nname: Deploy Javadoc\r\ndescription: &#39;Automatically  generate your Javadoc from your maven project and deploy it with GitHub Page on javadoc branch.&#39;\r\nbranding:\r\n  icon: &#39;book-open&#39;\r\n  color: &#39;white&#39;\r\ninputs:\r\n  java-version:  # version of java\r\n    description: &#39;Java version inside your project&#39;\r\n    required: true\r\n    default: &#39;17&#39;\r\n  GITHUB_TOKEN: # GitHub Token\r\n    description: &#39;The GitHub token the GitHub repository&#39;\r\n    required: true\r\n  javadoc-branch: # branch where the javadoc is hosted\r\n    description: &#39;Branch where the javadoc is hosted&#39;\r\n    required: true\r\n    default: javadoc\r\n \r\nruns:\r\n  using: &quot;composite&quot;\r\n  steps:\r\n  - uses: actions/checkout@v2\r\n    with:\r\n      fetch-depth: 0\r\n  - uses: actions/setup-java@v2\r\n    with:\r\n      java-version: ${{ inputs.java-version }}\r\n      distribution: &#39;adopt&#39;\r\n  - name: Generate Javadoc\r\n    run: mvn org.apache.maven.plugins:maven-javadoc-plugin:3.3.1:aggregate\r\n  - name: Deploy &#128640;\r\n    uses: JamesIves/github-pages-deploy-action@4.1.8\r\n    with:\r\n      GITHUB_TOKEN: ${{ inputs.GITHUB_TOKEN }}\r\n      BRANCH: ${{ inputs.javadoc-branch }}\r\n      CLEAN: true\r\n      FOLDER: target/site/apidocs\r\n      TARGET_FOLDER: javadoc\r\n```\r\n\r\n## Code that execute the GitHub Actions in question:\r\n```yaml\r\nname: Deploy Javadoc\r\n\r\non:\r\n  push:\r\n    branches:\r\n      - master\r\n\r\njobs:\r\n  publish:\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - name: Deploy JavaDoc &#128640;\r\n        uses: MathieuSoysal/Javadoc-publisher.yml@v2.0.3\r\n        with:\r\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\r\n          javadoc-branch: javadoc\r\n          java-version: 17\r\n```\r\n\r\n## Question\r\n\r\nAnyone have an idea to solve this problem?","title":"GitHub Actions: Required property is missing: shell","body":"<h2>Introduction</h2>\n<p>I am currently to crate a composite GitHub Actions that build a JavaDoc from Java project and publish it automatically to a static page with GitHub Page.</p>\n<h2>Problematic</h2>\n<p>But I got this error when I try to run it:</p>\n<pre><code>Current runner version: '2.287.1'\nOperating System\nVirtual Environment\nVirtual Environment Provisioner\nGITHUB_TOKEN Permissions\nSecret source: Actions\nPrepare workflow directory\nPrepare all required actions\nGetting action download info\nDownload action repository 'MathieuSoysal/Javadoc-publisher.yml@v2.0.2' (SHA:878c07f835dd9bcbb8800090d109c91b0f0d4581)\nError: MathieuSoysal/Javadoc-publisher.yml/v2.0.2/action.yml (Line: 29, Col: 5): Required property is missing: shell\nError: MathieuSoysal/Javadoc-publisher.yml/v2.0.2/action.yml (Line: 29, Col: 5): Required property is missing: shell\nError: GitHub.DistributedTask.ObjectTemplating.TemplateValidationException: The template is not valid. MathieuSoysal/Javadoc-publisher.yml/v2.0.2/action.yml (Line: 29, Col: 5): Required property is missing: shell\n   at GitHub.DistributedTask.ObjectTemplating.TemplateValidationErrors.Check()\n   at GitHub.Runner.Worker.ActionManifestManager.ConvertRuns(IExecutionContext executionContext, TemplateContext templateContext, TemplateToken inputsToken, String fileRelativePath, MappingToken outputs)\n   at GitHub.Runner.Worker.ActionManifestManager.Load(IExecutionContext executionContext, String manifestFile)\nError: Fail to load MathieuSoysal/Javadoc-publisher.yml/v2.0.2/action.yml\n</code></pre>\n<h2>Affected code:</h2>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: Deploy Javadoc\ndescription: 'Automatically  generate your Javadoc from your maven project and deploy it with GitHub Page on javadoc branch.'\nbranding:\n  icon: 'book-open'\n  color: 'white'\ninputs:\n  java-version:  # version of java\n    description: 'Java version inside your project'\n    required: true\n    default: '17'\n  GITHUB_TOKEN: # GitHub Token\n    description: 'The GitHub token the GitHub repository'\n    required: true\n  javadoc-branch: # branch where the javadoc is hosted\n    description: 'Branch where the javadoc is hosted'\n    required: true\n    default: javadoc\n \nruns:\n  using: &quot;composite&quot;\n  steps:\n  - uses: actions/checkout@v2\n    with:\n      fetch-depth: 0\n  - uses: actions/setup-java@v2\n    with:\n      java-version: ${{ inputs.java-version }}\n      distribution: 'adopt'\n  - name: Generate Javadoc\n    run: mvn org.apache.maven.plugins:maven-javadoc-plugin:3.3.1:aggregate\n  - name: Deploy \n    uses: JamesIves/github-pages-deploy-action@4.1.8\n    with:\n      GITHUB_TOKEN: ${{ inputs.GITHUB_TOKEN }}\n      BRANCH: ${{ inputs.javadoc-branch }}\n      CLEAN: true\n      FOLDER: target/site/apidocs\n      TARGET_FOLDER: javadoc\n</code></pre>\n<h2>Code that execute the GitHub Actions in question:</h2>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: Deploy Javadoc\n\non:\n  push:\n    branches:\n      - master\n\njobs:\n  publish:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Deploy JavaDoc \n        uses: MathieuSoysal/Javadoc-publisher.yml@v2.0.3\n        with:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n          javadoc-branch: javadoc\n          java-version: 17\n</code></pre>\n<h2>Question</h2>\n<p>Anyone have an idea to solve this problem?</p>\n"},{"tags":["java","spring","spring-boot","caching","ehcache"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1678195937,"post_id":75662349,"comment_id":133483157,"body_markdown":"Implement the `CacheConfigurer` interface in your configuration and return your cache manager from the `cacheManager` method.","body":"Implement the <code>CacheConfigurer</code> interface in your configuration and return your cache manager from the <code>cacheManager</code> method."}],"owner":{"account_id":22811756,"reputation":21,"user_id":16962946,"display_name":"Prateek Deshpande"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678194280,"creation_date":1678194280,"question_id":75662349,"body_markdown":"I am using EhCache 3.10.8 and SpringBoot 2.4.0. I have the following Spring bean-based configuration with a TTL of 30 seconds. I am calling a method using Cacheable annotation to populate the entries in the cache. But the entries are not getting evicted even after ~5 minutes.&lt;br/&gt;\r\nIs this bean definition correct? What can I do to make sure that the cache would be evicted after the configured TTL? &lt;br/&gt;&lt;br/&gt;\r\n**build.gradle**\r\n```\r\n//Caching\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-cache:2.7.0&#39;\r\nimplementation &#39;javax.cache:cache-api:1.1.1&#39;\r\nimplementation &#39;org.ehcache:ehcache:3.10.8&#39;\r\n```\r\n\r\n**CacheConfig**\r\n\r\n```\r\npackage com.example.application.config;\r\n\r\nimport org.ehcache.config.builders.CacheConfigurationBuilder;\r\nimport org.ehcache.config.builders.ExpiryPolicyBuilder;\r\nimport org.ehcache.config.builders.ResourcePoolsBuilder;\r\nimport org.ehcache.config.units.MemoryUnit;\r\nimport org.ehcache.jsr107.Eh107Configuration;\r\nimport org.springframework.cache.annotation.EnableCaching;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport javax.cache.CacheManager;\r\nimport javax.cache.Caching;\r\nimport javax.cache.spi.CachingProvider;\r\nimport java.time.Duration;\r\n\r\n@Configuration\r\n@EnableCaching\r\npublic class CacheConfig {\r\n\r\n    @Bean\r\n    public CacheManager ehCacheManager() {\r\n        CachingProvider provider = Caching.getCachingProvider();\r\n        CacheManager cacheManager = provider.getCacheManager();\r\n\r\n        CacheConfigurationBuilder&lt;String, Boolean&gt; configuration =\r\n            CacheConfigurationBuilder.newCacheConfigurationBuilder(\r\n                    String.class,\r\n                    Boolean.class,\r\n                    ResourcePoolsBuilder\r\n                        .newResourcePoolsBuilder().offheap(5, MemoryUnit.MB))\r\n              .withExpiry(ExpiryPolicyBuilder.timeToLiveExpiration(Duration.ofSeconds(30)));\r\n\r\n        javax.cache.configuration.Configuration&lt;String, Boolean&gt; cacheConfiguration =\r\n            Eh107Configuration.fromEhcacheCacheConfiguration(configuration);\r\n\r\n        cacheManager.createCache(&quot;isUrlVerified&quot;, cacheConfiguration);\r\n        return cacheManager;\r\n    }\r\n}\r\n```\r\n\r\n**Cacheable usage**\r\n```\r\n@Cacheable(value = &quot;isUrlVerified&quot;, key = &quot;#url&quot;)\r\npublic Boolean verifyUrl(String url) {\r\n    //Code to call another service to check if URL is valid\r\n}\r\n```","title":"EhCache 3.10.8 is not evicting cached entries in spring boot","body":"<p>I am using EhCache 3.10.8 and SpringBoot 2.4.0. I have the following Spring bean-based configuration with a TTL of 30 seconds. I am calling a method using Cacheable annotation to populate the entries in the cache. But the entries are not getting evicted even after ~5 minutes.<br/>\nIs this bean definition correct? What can I do to make sure that the cache would be evicted after the configured TTL? <br/><br/>\n<strong>build.gradle</strong></p>\n<pre><code>//Caching\nimplementation 'org.springframework.boot:spring-boot-starter-cache:2.7.0'\nimplementation 'javax.cache:cache-api:1.1.1'\nimplementation 'org.ehcache:ehcache:3.10.8'\n</code></pre>\n<p><strong>CacheConfig</strong></p>\n<pre><code>package com.example.application.config;\n\nimport org.ehcache.config.builders.CacheConfigurationBuilder;\nimport org.ehcache.config.builders.ExpiryPolicyBuilder;\nimport org.ehcache.config.builders.ResourcePoolsBuilder;\nimport org.ehcache.config.units.MemoryUnit;\nimport org.ehcache.jsr107.Eh107Configuration;\nimport org.springframework.cache.annotation.EnableCaching;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport javax.cache.CacheManager;\nimport javax.cache.Caching;\nimport javax.cache.spi.CachingProvider;\nimport java.time.Duration;\n\n@Configuration\n@EnableCaching\npublic class CacheConfig {\n\n    @Bean\n    public CacheManager ehCacheManager() {\n        CachingProvider provider = Caching.getCachingProvider();\n        CacheManager cacheManager = provider.getCacheManager();\n\n        CacheConfigurationBuilder&lt;String, Boolean&gt; configuration =\n            CacheConfigurationBuilder.newCacheConfigurationBuilder(\n                    String.class,\n                    Boolean.class,\n                    ResourcePoolsBuilder\n                        .newResourcePoolsBuilder().offheap(5, MemoryUnit.MB))\n              .withExpiry(ExpiryPolicyBuilder.timeToLiveExpiration(Duration.ofSeconds(30)));\n\n        javax.cache.configuration.Configuration&lt;String, Boolean&gt; cacheConfiguration =\n            Eh107Configuration.fromEhcacheCacheConfiguration(configuration);\n\n        cacheManager.createCache(&quot;isUrlVerified&quot;, cacheConfiguration);\n        return cacheManager;\n    }\n}\n</code></pre>\n<p><strong>Cacheable usage</strong></p>\n<pre><code>@Cacheable(value = &quot;isUrlVerified&quot;, key = &quot;#url&quot;)\npublic Boolean verifyUrl(String url) {\n    //Code to call another service to check if URL is valid\n}\n</code></pre>\n"},{"tags":["java","spring-boot","kotlin","rsocket","spring-rsocket"],"owner":{"account_id":15929957,"reputation":21,"user_id":11494602,"display_name":" "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678193855,"creation_date":1678193855,"question_id":75662271,"body_markdown":"I am testing RSocket request-response logic and have some problem with processing headers.\r\n\r\nI am using spring boot 2.7.9 with Kotlin.\r\n\r\nMy Controller:\r\n\r\n```{kotlin}\r\npackage com.mol.rsocket.controller\r\n\r\nimport com.mol.rsocket.model.HelloRequest\r\nimport org.springframework.messaging.handler.annotation.Headers\r\nimport org.springframework.messaging.handler.annotation.MessageMapping\r\nimport org.springframework.stereotype.Controller\r\nimport reactor.core.publisher.Mono\r\nimport reactor.kotlin.core.publisher.toMono\r\n\r\n@Controller\r\nclass Controller {\r\n\r\n    @MessageMapping(&quot;hello&quot;)\r\n    fun currentMarketData(\r\n        request: HelloRequest,\r\n        @Headers headers: Map&lt;String, String&gt;,\r\n    ): Mono&lt;String&gt; {\r\n        println(&quot;Headers ${headers.keys}&quot;)\r\n        return &quot;Hello ${request.name}!!&quot;.toMono()\r\n    }\r\n}\r\n```\r\n\r\nAnd my build.gradle\r\n\r\n```\r\nimport org.jetbrains.kotlin.gradle.tasks.KotlinCompile\r\n\r\nplugins {\r\n\tid(&quot;org.springframework.boot&quot;) version &quot;2.7.9&quot;\r\n\tid(&quot;io.spring.dependency-management&quot;) version &quot;1.0.15.RELEASE&quot;\r\n\tkotlin(&quot;jvm&quot;) version &quot;1.6.21&quot;\r\n\tkotlin(&quot;plugin.spring&quot;) version &quot;1.6.21&quot;\r\n}\r\n\r\ngroup = &quot;com.mol&quot;\r\nversion = &quot;0.0.1-SNAPSHOT&quot;\r\njava.sourceCompatibility = JavaVersion.VERSION_17\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation(&quot;org.springframework.boot:spring-boot-starter-rsocket&quot;)\r\n\timplementation(&quot;org.springframework.boot:spring-boot-starter-webflux&quot;)\r\n\timplementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\r\n\timplementation(&quot;io.projectreactor.kotlin:reactor-kotlin-extensions&quot;)\r\n\timplementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\r\n\timplementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-reactor&quot;)\r\n\ttestImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n\ttestImplementation(&quot;io.projectreactor:reactor-test&quot;)\r\n}\r\n\r\ntasks.withType&lt;KotlinCompile&gt; {\r\n\tkotlinOptions {\r\n\t\tfreeCompilerArgs = listOf(&quot;-Xjsr305=strict&quot;)\r\n\t\tjvmTarget = &quot;17&quot;\r\n\t}\r\n}\r\n\r\ntasks.withType&lt;Test&gt; {\r\n\tuseJUnitPlatform()\r\n}\r\n```\r\n\r\nFor testing requests I use rsocket-cli and my request looks like:\r\n`rsocket-cli --route=hello -i &quot;{\\&quot;name\\&quot;: \\&quot;Kirill\\&quot;}&quot; --header foo:bar --header hello:world --request tcp://localhost:7000`\r\n\r\nSo in the console I don&#39;t see my headers keys. Only this:\r\n\r\nHeaders \\[dataBufferFactory, rsocketRequester, rsocketResponse, lookupDestination, contentType, rsocketFrameType\\]\r\n\r\nI found some information about extracting headers here, but it doesn&#39;t helps me\r\nhttps://docs.spring.io/spring-framework/docs/current/reference/html/rsocket.html","title":"Processing headers with rsocket in spring boot application","body":"<p>I am testing RSocket request-response logic and have some problem with processing headers.</p>\n<p>I am using spring boot 2.7.9 with Kotlin.</p>\n<p>My Controller:</p>\n<pre><code>package com.mol.rsocket.controller\n\nimport com.mol.rsocket.model.HelloRequest\nimport org.springframework.messaging.handler.annotation.Headers\nimport org.springframework.messaging.handler.annotation.MessageMapping\nimport org.springframework.stereotype.Controller\nimport reactor.core.publisher.Mono\nimport reactor.kotlin.core.publisher.toMono\n\n@Controller\nclass Controller {\n\n    @MessageMapping(&quot;hello&quot;)\n    fun currentMarketData(\n        request: HelloRequest,\n        @Headers headers: Map&lt;String, String&gt;,\n    ): Mono&lt;String&gt; {\n        println(&quot;Headers ${headers.keys}&quot;)\n        return &quot;Hello ${request.name}!!&quot;.toMono()\n    }\n}\n</code></pre>\n<p>And my build.gradle</p>\n<pre><code>import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\nplugins {\n    id(&quot;org.springframework.boot&quot;) version &quot;2.7.9&quot;\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.0.15.RELEASE&quot;\n    kotlin(&quot;jvm&quot;) version &quot;1.6.21&quot;\n    kotlin(&quot;plugin.spring&quot;) version &quot;1.6.21&quot;\n}\n\ngroup = &quot;com.mol&quot;\nversion = &quot;0.0.1-SNAPSHOT&quot;\njava.sourceCompatibility = JavaVersion.VERSION_17\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(&quot;org.springframework.boot:spring-boot-starter-rsocket&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-webflux&quot;)\n    implementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\n    implementation(&quot;io.projectreactor.kotlin:reactor-kotlin-extensions&quot;)\n    implementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\n    implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-reactor&quot;)\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\n    testImplementation(&quot;io.projectreactor:reactor-test&quot;)\n}\n\ntasks.withType&lt;KotlinCompile&gt; {\n    kotlinOptions {\n        freeCompilerArgs = listOf(&quot;-Xjsr305=strict&quot;)\n        jvmTarget = &quot;17&quot;\n    }\n}\n\ntasks.withType&lt;Test&gt; {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>For testing requests I use rsocket-cli and my request looks like:\n<code>rsocket-cli --route=hello -i &quot;{\\&quot;name\\&quot;: \\&quot;Kirill\\&quot;}&quot; --header foo:bar --header hello:world --request tcp://localhost:7000</code></p>\n<p>So in the console I don't see my headers keys. Only this:</p>\n<p>Headers [dataBufferFactory, rsocketRequester, rsocketResponse, lookupDestination, contentType, rsocketFrameType]</p>\n<p>I found some information about extracting headers here, but it doesn't helps me\n<a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/rsocket.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/rsocket.html</a></p>\n"},{"tags":["java","eclipse","codenameone"],"answers":[{"comments":[{"owner":{"account_id":4836407,"reputation":684,"user_id":3902947,"accept_rate":92,"display_name":"After_Sunset"},"score":0,"creation_date":1678192758,"post_id":75657840,"comment_id":133482281,"body_markdown":"Thanks Shai, however I have 5 other projects that all work without issue. Furthermore, the project builds locally without issue. Migrating 6 projects is not a valid short term solution, if something breaks I need the ability to fix that issue in the short term. I am planning to migrate the projects to maven, but again if five other projects work and this one doesn&#39;t that is a good indication theres an actual solution to my current problem. Any suggestions for me to try?","body":"Thanks Shai, however I have 5 other projects that all work without issue. Furthermore, the project builds locally without issue. Migrating 6 projects is not a valid short term solution, if something breaks I need the ability to fix that issue in the short term. I am planning to migrate the projects to maven, but again if five other projects work and this one doesn&#39;t that is a good indication theres an actual solution to my current problem. Any suggestions for me to try?"},{"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":0,"creation_date":1678243724,"post_id":75657840,"comment_id":133494285,"body_markdown":"Sure, that&#39;s why we haven&#39;t removed the plugins from the stores. I guess this is something that&#39;s builtin to a newer version of Eclipse that got in the way. Notice the last line: C:\\WINDOWS\\system32\\javac.20230306_120937.args which seems to indicate this is something global in the system. Check the environment and global java command.","body":"Sure, that&#39;s why we haven&#39;t removed the plugins from the stores. I guess this is something that&#39;s builtin to a newer version of Eclipse that got in the way. Notice the last line: C:\\WINDOWS\\system32\\javac.20230306_120937.args which seems to indicate this is something global in the system. Check the environment and global java command."}],"tags":[],"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678160204,"creation_date":1678160204,"answer_id":75657840,"question_id":75653931,"body_markdown":"The plugin is for legacy projects only. We [migrated to maven](https://www.codenameone.com/blog/migrating-your-project-to-maven.html) a few years back. You should start with https://start.codenameone.com/\r\n\r\nHaving said that the problem will happen there too. You need to use JDK 11. Not a newer JDK. Newer JDKs dropped support to older features that we need.","title":"CodenameOne: Error sending build to codename one build server","body":"<p>The plugin is for legacy projects only. We <a href=\"https://www.codenameone.com/blog/migrating-your-project-to-maven.html\" rel=\"nofollow noreferrer\">migrated to maven</a> a few years back. You should start with <a href=\"https://start.codenameone.com/\" rel=\"nofollow noreferrer\">https://start.codenameone.com/</a></p>\n<p>Having said that the problem will happen there too. You need to use JDK 11. Not a newer JDK. Newer JDKs dropped support to older features that we need.</p>\n"}],"owner":{"account_id":4836407,"reputation":684,"user_id":3902947,"accept_rate":92,"display_name":"After_Sunset"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678193612,"creation_date":1678123385,"question_id":75653931,"body_markdown":"I am using eclipse \r\n **Version: 2021-09 (4.21.0)\r\nBuild id: 20210910-1417**\r\nwith Ant. Upon trying to send any build to the codename one build server via the context menu shown below \r\n\r\n[![enter image description here][1]][1]\r\n\r\nI receive the following Java compiler error:\r\n\r\n&gt;  [javac] An exception has occurred in the compiler (19.0.2). Please file a bug against the Java compiler via the Java bug reporting page (http://bugreport.java.com) after checking the Bug Database (http://bugs.java.com) for duplicates. Include your program, the following diagnostic, and the parameters passed to the Java compiler in your report. Thank you.\r\n    [javac] java.lang.ClassCastException: class com.sun.tools.javac.tree.JCTree$JCConstantCaseLabel cannot be cast to class com.sun.tools.javac.tree.JCTree$JCLiteral (com.sun.tools.javac.tree.JCTree$JCConstantCaseLabel and com.sun.tools.javac.tree.JCTree$JCLiteral are in module jdk.compiler of loader &#39;app&#39;)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.TreeDiffer.visitLiteral(TreeDiffer.java:425)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCLiteral.accept(JCTree.java:2692)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:49)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeScanner.visitConstantCaseLabel(TreeScanner.java:316)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCConstantCaseLabel.accept(JCTree.java:2327)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.TreeDiffer.scan(TreeDiffer.java:146)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.TreeDiffer.scan(TreeDiffer.java:161)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.TreeDiffer.visitCase(TreeDiffer.java:297)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCCase.accept(JCTree.java:1328)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.TreeDiffer.scan(TreeDiffer.java:146)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.TreeDiffer.scan(TreeDiffer.java:161)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.TreeDiffer.visitSwitch(TreeDiffer.java:532)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCSwitch.accept(JCTree.java:1287)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.TreeDiffer.scan(TreeDiffer.java:146)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.TreeDiffer.scan(TreeDiffer.java:161)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.TreeDiffer.visitBlock(TreeDiffer.java:279)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCBlock.accept(JCTree.java:1082)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.TreeDiffer.scan(TreeDiffer.java:146)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod$DedupedLambda.equals(LambdaToMethod.java:207)\r\n    [javac] \tat java.base/java.util.HashMap.putVal(HashMap.java:641)\r\n    [javac] \tat java.base/java.util.HashMap.putIfAbsent(HashMap.java:1152)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.visitLambda(LambdaToMethod.java:396)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCLambda.accept(JCTree.java:1976)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:70)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.visitApply(TreeTranslator.java:291)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCMethodInvocation.accept(JCTree.java:1799)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.visitExec(TreeTranslator.java:256)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCExpressionStatement.accept(JCTree.java:1586)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:70)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.visitBlock(TreeTranslator.java:167)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCBlock.accept(JCTree.java:1082)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.visitIf(TreeTranslator.java:250)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCIf.accept(JCTree.java:1555)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:70)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.visitBlock(TreeTranslator.java:167)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCBlock.accept(JCTree.java:1082)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.visitLambda(LambdaToMethod.java:391)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCLambda.accept(JCTree.java:1976)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:70)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.visitApply(TreeTranslator.java:291)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCMethodInvocation.accept(JCTree.java:1799)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.visitExec(TreeTranslator.java:256)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCExpressionStatement.accept(JCTree.java:1586)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:70)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.visitBlock(TreeTranslator.java:167)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCBlock.accept(JCTree.java:1082)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.visitIf(TreeTranslator.java:250)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCIf.accept(JCTree.java:1555)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:70)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.visitBlock(TreeTranslator.java:167)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCBlock.accept(JCTree.java:1082)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.visitIf(TreeTranslator.java:250)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCIf.accept(JCTree.java:1555)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:70)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.visitBlock(TreeTranslator.java:167)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCBlock.accept(JCTree.java:1082)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.visitIf(TreeTranslator.java:250)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCIf.accept(JCTree.java:1555)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:70)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.visitBlock(TreeTranslator.java:167)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCBlock.accept(JCTree.java:1082)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.visitMethodDef(TreeTranslator.java:150)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCMethodDecl.accept(JCTree.java:912)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:70)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.visitClassDef(TreeTranslator.java:139)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.visitClassDef(LambdaToMethod.java:307)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCClassDecl.accept(JCTree.java:810)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translateTopLevelClass(LambdaToMethod.java:287)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.main.JavaCompiler.desugar(JavaCompiler.java:1560)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.main.JavaCompiler.desugar(JavaCompiler.java:1426)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:946)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.main.Main.compile(Main.java:317)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.main.Main.compile(Main.java:176)\r\n    [javac] \tat jdk.compiler/com.sun.tools.javac.Main.compile(Main.java:64)\r\n    [javac] \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    [javac] \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    [javac] \tat org.apache.tools.ant.taskdefs.compilers.Javac13.execute(Javac13.java:57)\r\n    [javac] \tat org.apache.tools.ant.taskdefs.Javac.compile(Javac.java:1388)\r\n    [javac] \tat org.apache.tools.ant.taskdefs.Javac.execute(Javac.java:1117)\r\n    [javac] \tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:299)\r\n    [javac] \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    [javac] \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    [javac] \tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\r\n    [javac] \tat org.apache.tools.ant.Task.perform(Task.java:350)\r\n    [javac] \tat org.apache.tools.ant.Target.execute(Target.java:449)\r\n    [javac] \tat org.apache.tools.ant.Target.performTasks(Target.java:470)\r\n    [javac] \tat org.apache.tools.ant.Project.executeSortedTargets(Project.java:1401)\r\n    [javac] \tat org.apache.tools.ant.Project.executeTarget(Project.java:1374)\r\n    [javac] \tat org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\r\n    [javac] \tat org.eclipse.ant.internal.core.ant.EclipseDefaultExecutor.executeTargets(EclipseDefaultExecutor.java:34)\r\n    [javac] \tat org.apache.tools.ant.Project.executeTargets(Project.java:1264)\r\n    [javac] \tat org.eclipse.ant.internal.core.ant.InternalAntRunner.run(InternalAntRunner.java:712)\r\n    [javac] \tat org.eclipse.ant.internal.core.ant.InternalAntRunner.run(InternalAntRunner.java:532)\r\n    [javac] \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    [javac] \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    [javac] \tat org.eclipse.ant.core.AntRunner.run(AntRunner.java:374)\r\n    [javac] \tat org.eclipse.ant.core.AntRunner.run(AntRunner.java:476)\r\n    [javac] \tat codenameoneplugin.actions.SendBuild$1.run(SendBuild.java:47)\r\n    [javac] \tat java.base/java.lang.Thread.run(Thread.java:1589)\r\n    [javac] printing javac parameters to: C:\\WINDOWS\\system32\\javac.20230306_120937.args\r\n\r\nI have Five other codename one projects in this workspace that are all working without issue. Also, the jar Ant task also works without issues. The problem only happens when trying to send the build to the codename one server. Completely baffled as to what is going on here. Has anyone encountered this before? If not, any suggestions on how to go about diagnosing the issue?\r\n\r\n\r\n**EDIT**\r\n\r\nAs you can see below the jar builds locally without issue. Why is it trying to use java compiler 19.0.2 when sending to codename one when I&#39;ve never even installed that on my system?\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SR4zP.png\r\n  [2]: https://i.stack.imgur.com/SyW3O.png","title":"CodenameOne: Error sending build to codename one build server","body":"<p>I am using eclipse\n<strong>Version: 2021-09 (4.21.0)\nBuild id: 20210910-1417</strong>\nwith Ant. Upon trying to send any build to the codename one build server via the context menu shown below</p>\n<p><a href=\"https://i.stack.imgur.com/SR4zP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SR4zP.png\" alt=\"enter image description here\" /></a></p>\n<p>I receive the following Java compiler error:</p>\n<blockquote>\n<p>[javac] An exception has occurred in the compiler (19.0.2). Please file a bug against the Java compiler via the Java bug reporting page (<a href=\"http://bugreport.java.com\" rel=\"nofollow noreferrer\">http://bugreport.java.com</a>) after checking the Bug Database (<a href=\"http://bugs.java.com\" rel=\"nofollow noreferrer\">http://bugs.java.com</a>) for duplicates. Include your program, the following diagnostic, and the parameters passed to the Java compiler in your report. Thank you.\n[javac] java.lang.ClassCastException: class com.sun.tools.javac.tree.JCTree$JCConstantCaseLabel cannot be cast to class com.sun.tools.javac.tree.JCTree$JCLiteral (com.sun.tools.javac.tree.JCTree$JCConstantCaseLabel and com.sun.tools.javac.tree.JCTree$JCLiteral are in module jdk.compiler of loader 'app')\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.TreeDiffer.visitLiteral(TreeDiffer.java:425)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCLiteral.accept(JCTree.java:2692)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:49)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeScanner.visitConstantCaseLabel(TreeScanner.java:316)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCConstantCaseLabel.accept(JCTree.java:2327)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.TreeDiffer.scan(TreeDiffer.java:146)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.TreeDiffer.scan(TreeDiffer.java:161)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.TreeDiffer.visitCase(TreeDiffer.java:297)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCCase.accept(JCTree.java:1328)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.TreeDiffer.scan(TreeDiffer.java:146)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.TreeDiffer.scan(TreeDiffer.java:161)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.TreeDiffer.visitSwitch(TreeDiffer.java:532)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCSwitch.accept(JCTree.java:1287)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.TreeDiffer.scan(TreeDiffer.java:146)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.TreeDiffer.scan(TreeDiffer.java:161)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.TreeDiffer.visitBlock(TreeDiffer.java:279)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCBlock.accept(JCTree.java:1082)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.TreeDiffer.scan(TreeDiffer.java:146)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod$DedupedLambda.equals(LambdaToMethod.java:207)\n[javac]     at java.base/java.util.HashMap.putVal(HashMap.java:641)\n[javac]     at java.base/java.util.HashMap.putIfAbsent(HashMap.java:1152)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.visitLambda(LambdaToMethod.java:396)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCLambda.accept(JCTree.java:1976)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:70)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.visitApply(TreeTranslator.java:291)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCMethodInvocation.accept(JCTree.java:1799)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.visitExec(TreeTranslator.java:256)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCExpressionStatement.accept(JCTree.java:1586)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:70)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.visitBlock(TreeTranslator.java:167)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCBlock.accept(JCTree.java:1082)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.visitIf(TreeTranslator.java:250)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCIf.accept(JCTree.java:1555)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:70)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.visitBlock(TreeTranslator.java:167)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCBlock.accept(JCTree.java:1082)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.visitLambda(LambdaToMethod.java:391)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCLambda.accept(JCTree.java:1976)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:70)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.visitApply(TreeTranslator.java:291)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCMethodInvocation.accept(JCTree.java:1799)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.visitExec(TreeTranslator.java:256)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCExpressionStatement.accept(JCTree.java:1586)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:70)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.visitBlock(TreeTranslator.java:167)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCBlock.accept(JCTree.java:1082)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.visitIf(TreeTranslator.java:250)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCIf.accept(JCTree.java:1555)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:70)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.visitBlock(TreeTranslator.java:167)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCBlock.accept(JCTree.java:1082)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.visitIf(TreeTranslator.java:250)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCIf.accept(JCTree.java:1555)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:70)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.visitBlock(TreeTranslator.java:167)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCBlock.accept(JCTree.java:1082)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.visitIf(TreeTranslator.java:250)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCIf.accept(JCTree.java:1555)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:70)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.visitBlock(TreeTranslator.java:167)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCBlock.accept(JCTree.java:1082)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.visitMethodDef(TreeTranslator.java:150)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCMethodDecl.accept(JCTree.java:912)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:70)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.visitClassDef(TreeTranslator.java:139)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.visitClassDef(LambdaToMethod.java:307)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCClassDecl.accept(JCTree.java:810)\n[javac]     at jdk.compiler/com.sun.tools.javac.tree.TreeTranslator.translate(TreeTranslator.java:58)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:267)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translate(LambdaToMethod.java:260)\n[javac]     at jdk.compiler/com.sun.tools.javac.comp.LambdaToMethod.translateTopLevelClass(LambdaToMethod.java:287)\n[javac]     at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.desugar(JavaCompiler.java:1560)\n[javac]     at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.desugar(JavaCompiler.java:1426)\n[javac]     at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:946)\n[javac]     at jdk.compiler/com.sun.tools.javac.main.Main.compile(Main.java:317)\n[javac]     at jdk.compiler/com.sun.tools.javac.main.Main.compile(Main.java:176)\n[javac]     at jdk.compiler/com.sun.tools.javac.Main.compile(Main.java:64)\n[javac]     at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n[javac]     at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n[javac]     at org.apache.tools.ant.taskdefs.compilers.Javac13.execute(Javac13.java:57)\n[javac]     at org.apache.tools.ant.taskdefs.Javac.compile(Javac.java:1388)\n[javac]     at org.apache.tools.ant.taskdefs.Javac.execute(Javac.java:1117)\n[javac]     at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:299)\n[javac]     at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n[javac]     at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n[javac]     at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\n[javac]     at org.apache.tools.ant.Task.perform(Task.java:350)\n[javac]     at org.apache.tools.ant.Target.execute(Target.java:449)\n[javac]     at org.apache.tools.ant.Target.performTasks(Target.java:470)\n[javac]     at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1401)\n[javac]     at org.apache.tools.ant.Project.executeTarget(Project.java:1374)\n[javac]     at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\n[javac]     at org.eclipse.ant.internal.core.ant.EclipseDefaultExecutor.executeTargets(EclipseDefaultExecutor.java:34)\n[javac]     at org.apache.tools.ant.Project.executeTargets(Project.java:1264)\n[javac]     at org.eclipse.ant.internal.core.ant.InternalAntRunner.run(InternalAntRunner.java:712)\n[javac]     at org.eclipse.ant.internal.core.ant.InternalAntRunner.run(InternalAntRunner.java:532)\n[javac]     at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n[javac]     at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n[javac]     at org.eclipse.ant.core.AntRunner.run(AntRunner.java:374)\n[javac]     at org.eclipse.ant.core.AntRunner.run(AntRunner.java:476)\n[javac]     at codenameoneplugin.actions.SendBuild$1.run(SendBuild.java:47)\n[javac]     at java.base/java.lang.Thread.run(Thread.java:1589)\n[javac] printing javac parameters to: C:\\WINDOWS\\system32\\javac.20230306_120937.args</p>\n</blockquote>\n<p>I have Five other codename one projects in this workspace that are all working without issue. Also, the jar Ant task also works without issues. The problem only happens when trying to send the build to the codename one server. Completely baffled as to what is going on here. Has anyone encountered this before? If not, any suggestions on how to go about diagnosing the issue?</p>\n<p><strong>EDIT</strong></p>\n<p>As you can see below the jar builds locally without issue. Why is it trying to use java compiler 19.0.2 when sending to codename one when I've never even installed that on my system?\n<a href=\"https://i.stack.imgur.com/SyW3O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SyW3O.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","apache-httpclient-4.x","apache-httpclient-5.x"],"comments":[{"owner":{"account_id":11337142,"reputation":424,"user_id":8312606,"display_name":"SauriBabu"},"score":0,"creation_date":1678190878,"post_id":75661688,"comment_id":133481816,"body_markdown":"HttpClient is Thread Safe class so it should work in concurrent scenario. If you want to override default config of HttpClient then its one time thing and do it in some method with @bean. you can have dedicated httpClient for each external client.","body":"HttpClient is Thread Safe class so it should work in concurrent scenario. If you want to override default config of HttpClient then its one time thing and do it in some method with @bean. you can have dedicated httpClient for each external client."},{"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"score":0,"creation_date":1678190999,"post_id":75661688,"comment_id":133481851,"body_markdown":"@SauriBabu, so I can configure a bean and then autowire it where I want, this is what you&#39;re saying? What about using it, should I use it within try() still?","body":"@SauriBabu, so I can configure a bean and then autowire it where I want, this is what you&#39;re saying? What about using it, should I use it within try() still?"},{"owner":{"account_id":11337142,"reputation":424,"user_id":8312606,"display_name":"SauriBabu"},"score":0,"creation_date":1678191579,"post_id":75661688,"comment_id":133482005,"body_markdown":"you got it correct. you can wrap actual API call in try block.  in heavy prod workload sometimes network connection fails so day2 could be adding retry capability in code.","body":"you got it correct. you can wrap actual API call in try block.  in heavy prod workload sometimes network connection fails so day2 could be adding retry capability in code."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1678192197,"post_id":75661688,"comment_id":133482161,"body_markdown":"As you are using Spring Boot, configuire a `RestTemplate` using the Apache HTTP client you want to use. Configure it as an `@Bean` and inject it. Both the `RestTemplate` and the Apache HTTP Client are threadsafe (and relatively heavy to create) so reuse the single instance you have.","body":"As you are using Spring Boot, configuire a <code>RestTemplate</code> using the Apache HTTP client you want to use. Configure it as an <code>@Bean</code> and inject it. Both the <code>RestTemplate</code> and the Apache HTTP Client are threadsafe (and relatively heavy to create) so reuse the single instance you have."},{"owner":{"account_id":11337142,"reputation":424,"user_id":8312606,"display_name":"SauriBabu"},"score":0,"creation_date":1678193150,"post_id":75661688,"comment_id":133482393,"body_markdown":"@M.Deinum I think RestTemplate by default uses Java http client. is there any benefit to configure it to use Apache httpClient ?","body":"@M.Deinum I think RestTemplate by default uses Java http client. is there any benefit to configure it to use Apache httpClient ?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1678193241,"post_id":75661688,"comment_id":133482420,"body_markdown":"That is what is being used in the question. Apache HTTP Client has more options then the default java http client, like connection pooling, caching etc.","body":"That is what is being used in the question. Apache HTTP Client has more options then the default java http client, like connection pooling, caching etc."},{"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"score":0,"creation_date":1678194533,"post_id":75661688,"comment_id":133482752,"body_markdown":"@M.Deinum, sorry, I&#39;m not familiar with Rest Template, is it neccessary thing to do or I can just configure Http Apache Client as Bean and use it where I want? What exactly for I need Rest Template if I&#39;m using Apache already?","body":"@M.Deinum, sorry, I&#39;m not familiar with Rest Template, is it neccessary thing to do or I can just configure Http Apache Client as Bean and use it where I want? What exactly for I need Rest Template if I&#39;m using Apache already?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1678196008,"post_id":75661688,"comment_id":133483174,"body_markdown":"`RestTemplate` is an abstraction over multiple HTTP clients, so if you decide to switch, you don&#39;t need to rewrite your code.","body":"<code>RestTemplate</code> is an abstraction over multiple HTTP clients, so if you decide to switch, you don&#39;t need to rewrite your code."},{"owner":{"account_id":963148,"reputation":794,"user_id":987044,"accept_rate":50,"display_name":"ledlogic"},"score":0,"creation_date":1681196532,"post_id":75661688,"comment_id":134013114,"body_markdown":"Did others find that you need to still use EntityUtils.consumeEntity with the try with stream approach especially for POST requests?  In the past, if we didn&#39;t consume the entities it could cause memory leakage as the resources were not released.","body":"Did others find that you need to still use EntityUtils.consumeEntity with the try with stream approach especially for POST requests?  In the past, if we didn&#39;t consume the entities it could cause memory leakage as the resources were not released."}],"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678193488,"creation_date":1678190217,"question_id":75661688,"body_markdown":"I have an api method in which I take a file, do some processing and send it to another service using apache http client. \r\n\r\n```lang-java\r\npublic void myMethod(MultipartFile multipartFile) {\r\n    doProcessing(multipartFile.getInputStream); \r\n    httpClient.sendFile(multipartFile);\r\n}\r\n```\r\nIt seems to be working, but the question for me is now how should I configure it so it will be safe to use in Spring boot multi request scenario?\r\nRight now I&#39;m doing it like this:\r\n\r\n```lang-java\r\npublic void sendFile(MultipartFile document){\r\n    MultipartEntityBuilder builder = MultipartEntityBuilder.create();\r\n    builder.setMode(HttpMultipartMode.LEGACY); \r\n    builder.addPart(\r\n        &quot;id&quot;, \r\n        new StringBody(id.toString(), ContentType.MULTIPART_FORM_DATA)\r\n    );\r\n    builder.addPart(\r\n        &quot;document&quot;, \r\n        new InputStreamBody(document.getInputStream(), ContentType.parse(mediaType))\r\n    );\r\n\r\n    HttpEntity entity = builder.build();\r\n    HttpPost method = new HttpPost(&quot;myservice:8080/api/load&quot;);\r\n    method.setEntity(entity);\r\n    RequestConfig requestConfig = RequestConfig.custom()\r\n        .setExpectContinueEnabled(true).build();\r\n    HttpClientBuilder httpClientBuilder = HttpClientBuilder.create()\r\n        .setDefaultRequestConfig(requestConfig);\r\n    try (CloseableHttpClient client = httpClientBuilder.build();\r\n         CloseableHttpResponse responseHttp = httpClient.execute(method);) {\r\n        String json = EntityUtils.toString(responseHttp.getEntity(), StandardCharsets.UTF_8);\r\n        response = objectMapper.readValue(json, Dto.class);\r\n// ...\r\n    }\r\n}\r\n```\r\nBut I&#39;m not sure if this is the right usage if there will be multiple concurrent requests. Can I use it like this or I should create one final client field? Are there properties I should configure for the multithread scenario? Tried to search for something in the internet, but didn&#39;t find something. Thanks in advance!","title":"Apache http client correct thread usage in Spring boot","body":"<p>I have an api method in which I take a file, do some processing and send it to another service using apache http client.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void myMethod(MultipartFile multipartFile) {\n    doProcessing(multipartFile.getInputStream); \n    httpClient.sendFile(multipartFile);\n}\n</code></pre>\n<p>It seems to be working, but the question for me is now how should I configure it so it will be safe to use in Spring boot multi request scenario?\nRight now I'm doing it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void sendFile(MultipartFile document){\n    MultipartEntityBuilder builder = MultipartEntityBuilder.create();\n    builder.setMode(HttpMultipartMode.LEGACY); \n    builder.addPart(\n        &quot;id&quot;, \n        new StringBody(id.toString(), ContentType.MULTIPART_FORM_DATA)\n    );\n    builder.addPart(\n        &quot;document&quot;, \n        new InputStreamBody(document.getInputStream(), ContentType.parse(mediaType))\n    );\n\n    HttpEntity entity = builder.build();\n    HttpPost method = new HttpPost(&quot;myservice:8080/api/load&quot;);\n    method.setEntity(entity);\n    RequestConfig requestConfig = RequestConfig.custom()\n        .setExpectContinueEnabled(true).build();\n    HttpClientBuilder httpClientBuilder = HttpClientBuilder.create()\n        .setDefaultRequestConfig(requestConfig);\n    try (CloseableHttpClient client = httpClientBuilder.build();\n         CloseableHttpResponse responseHttp = httpClient.execute(method);) {\n        String json = EntityUtils.toString(responseHttp.getEntity(), StandardCharsets.UTF_8);\n        response = objectMapper.readValue(json, Dto.class);\n// ...\n    }\n}\n</code></pre>\n<p>But I'm not sure if this is the right usage if there will be multiple concurrent requests. Can I use it like this or I should create one final client field? Are there properties I should configure for the multithread scenario? Tried to search for something in the internet, but didn't find something. Thanks in advance!</p>\n"},{"tags":["java","couchbase","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":5636066,"reputation":6620,"user_id":4461537,"accept_rate":89,"display_name":"Ren&#233; Winkler"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677830227,"creation_date":1677830227,"answer_id":75624499,"question_id":75624400,"body_markdown":"SubscribeOn forces the source emission to use specific Schedulers, publishOn changes Schedulers for all the downstream operations in the pipeline.\r\n\r\nhttps://www.vinsguru.com/reactor-schedulers-publishon-vs-subscribeon/\r\n","title":"Reactor subscriber not executed in the specified scheduler","body":"<p>SubscribeOn forces the source emission to use specific Schedulers, publishOn changes Schedulers for all the downstream operations in the pipeline.</p>\n<p><a href=\"https://www.vinsguru.com/reactor-schedulers-publishon-vs-subscribeon/\" rel=\"nofollow noreferrer\">https://www.vinsguru.com/reactor-schedulers-publishon-vs-subscribeon/</a></p>\n"},{"tags":[],"owner":{"account_id":5963819,"reputation":416,"user_id":4688115,"display_name":"Graham Pople"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678193080,"creation_date":1678193080,"answer_id":75662145,"question_id":75624400,"body_markdown":"That&#39;s correct.  The SDK uses its own thread pool (&quot;cb-io&quot;) to execute operations on, and to avoid an expensive thread context switch (which would slow your application&#39;s performance), the SDK won&#39;t automatically switch back to your scheduler on returning control to you.\r\n\r\nIf you do need this, there&#39;s two options:\r\n\r\n 1. Use .publishOn() after each `collection.reactive().get()` to return to your scheduler.\r\n 2. Consider making the SDK use your scheduler instead of its own.  See &quot;Computation scheduler&quot; config option in [SDK client settings][1].\r\n\r\n\r\n  [1]: https://docs.couchbase.com/java-sdk/current/ref/client-settings.html","title":"Reactor subscriber not executed in the specified scheduler","body":"<p>That's correct.  The SDK uses its own thread pool (&quot;cb-io&quot;) to execute operations on, and to avoid an expensive thread context switch (which would slow your application's performance), the SDK won't automatically switch back to your scheduler on returning control to you.</p>\n<p>If you do need this, there's two options:</p>\n<ol>\n<li>Use .publishOn() after each <code>collection.reactive().get()</code> to return to your scheduler.</li>\n<li>Consider making the SDK use your scheduler instead of its own.  See &quot;Computation scheduler&quot; config option in <a href=\"https://docs.couchbase.com/java-sdk/current/ref/client-settings.html\" rel=\"nofollow noreferrer\">SDK client settings</a>.</li>\n</ol>\n"}],"owner":{"account_id":8728958,"reputation":873,"user_id":6529706,"accept_rate":27,"display_name":"Zizou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678193080,"creation_date":1677829579,"question_id":75624400,"body_markdown":"I&#39;m starting with java reactor and facing an issue when testing a code that is querying couchbase and processing result documents.\r\nMy code looks like that\r\n\r\n      Flux&lt;String&gt; documentIds = getDocumentIds();\r\n      documentIds\r\n            .windowTimeout(WINDOW, Duration.ofMillis(300))\r\n            .onBackpressureBuffer()\r\n            .flatMap(\r\n                obs -&gt;\r\n                    obs.concatMap(\r\n    \t\t\t\tdocId -&gt; couchbaseCollection.reactive().get(docId, getOptions).retryWhen(retryFunction)),\r\n                512)\r\n            .takeWhile(d -&gt; !interrupted.get())\r\n            .map(\r\n                doc -&gt; processDocument(doc)\r\n            .bufferTimeout(this.commitBatch,Duration.ofSeconds(11101))\r\n            .subscribeOn(Schedulers.fromExecutor(processorThread))\r\n            .subscribe(\r\n                new Subscriber&lt;&gt;() {\r\n    \t\t\t\r\n    \t\t\t}\r\n     \r\n     \r\n\r\nI&#39;m logging the methode onNext and can see it isn&#39;t executed in the thread specified in the subscribeOn methode, instead it is executed in couchbase KeyValue thread (cb-io-kv-x-y).\r\n\r\nWhich is more confusing is that if I change to use publishOn instead of subscribeOn, I get my code executed in the expected thread.\r\nAny help please?\r\n","title":"Reactor subscriber not executed in the specified scheduler","body":"<p>I'm starting with java reactor and facing an issue when testing a code that is querying couchbase and processing result documents.\nMy code looks like that</p>\n<pre><code>  Flux&lt;String&gt; documentIds = getDocumentIds();\n  documentIds\n        .windowTimeout(WINDOW, Duration.ofMillis(300))\n        .onBackpressureBuffer()\n        .flatMap(\n            obs -&gt;\n                obs.concatMap(\n                docId -&gt; couchbaseCollection.reactive().get(docId, getOptions).retryWhen(retryFunction)),\n            512)\n        .takeWhile(d -&gt; !interrupted.get())\n        .map(\n            doc -&gt; processDocument(doc)\n        .bufferTimeout(this.commitBatch,Duration.ofSeconds(11101))\n        .subscribeOn(Schedulers.fromExecutor(processorThread))\n        .subscribe(\n            new Subscriber&lt;&gt;() {\n            \n            }\n \n \n</code></pre>\n<p>I'm logging the methode onNext and can see it isn't executed in the thread specified in the subscribeOn methode, instead it is executed in couchbase KeyValue thread (cb-io-kv-x-y).</p>\n<p>Which is more confusing is that if I change to use publishOn instead of subscribeOn, I get my code executed in the expected thread.\nAny help please?</p>\n"},{"tags":["java","spring","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":87204,"reputation":22463,"user_id":241990,"accept_rate":100,"display_name":"Shaun the Sheep"},"score":0,"creation_date":1405078708,"post_id":24696717,"comment_id":38296594,"body_markdown":"What happens if you use &quot;/ping&quot; or &quot;/ping*&quot; as the pattern?","body":"What happens if you use &quot;/ping&quot; or &quot;/ping*&quot; as the pattern?"},{"owner":{"account_id":1267127,"reputation":1663,"user_id":1224205,"accept_rate":20,"display_name":"Marceau"},"score":0,"creation_date":1405079567,"post_id":24696717,"comment_id":38297051,"body_markdown":"Are you _the_ Luke Taylor, whose name I&#39;ve seen many many times in Spring Security Javadoc comments? Quite an honor if so!\n\nThe behavior is the same using /ping and using /ping*, unfortunately.","body":"Are you <i>the</i> Luke Taylor, whose name I&#39;ve seen many many times in Spring Security Javadoc comments? Quite an honor if so!  The behavior is the same using /ping and using /ping*, unfortunately."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":10,"creation_date":1405079713,"post_id":24696717,"comment_id":38297119,"body_markdown":"Shouldn&#39;t your `authorizeRequests().anyRequest().authenticated()` be the last one? In XML the ordering of the elements is important so I can imagine the same applies to java config.","body":"Shouldn&#39;t your <code>authorizeRequests().anyRequest().authenticated()</code> be the last one? In XML the ordering of the elements is important so I can imagine the same applies to java config."},{"owner":{"account_id":1267127,"reputation":1663,"user_id":1224205,"accept_rate":20,"display_name":"Marceau"},"score":0,"creation_date":1405080217,"post_id":24696717,"comment_id":38297414,"body_markdown":"@M.Deinum, I tried your suggestion by placing the .authorizeRequests().antMatchers(&quot;/ping**&quot;).permitAll() before, and it now works. Thanks!","body":"@M.Deinum, I tried your suggestion by placing the .authorizeRequests().antMatchers(&quot;/ping**&quot;).permitAll() before, and it now works. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":457655,"reputation":1005,"user_id":857110,"accept_rate":79,"display_name":"PeiSong"},"comment_count":0,"down_vote_count":1,"up_vote_count":48,"is_accepted":false,"score":47,"last_activity_date":1536600661,"creation_date":1405556667,"answer_id":24793001,"question_id":24696717,"body_markdown":"I saw the same issue. Make sure you didn&#39;t call  \r\n`super.configure(http);`  \r\n`anyRequest().authenticated();`  \r\nis called by default.","title":"Spring Security permitAll not allowing anonymous access","body":"<p>I saw the same issue. Make sure you didn't call<br>\n<code>super.configure(http);</code><br>\n<code>anyRequest().authenticated();</code><br>\nis called by default.</p>\n"},{"tags":[],"owner":{"account_id":2738241,"reputation":1007,"user_id":2360385,"display_name":"samsong8610"},"comment_count":0,"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1438618554,"creation_date":1438618554,"answer_id":31792102,"question_id":24696717,"body_markdown":"The permission order is important, it works when I configure it like this:\r\n\r\n    .authorizeRequests()\r\n            .antMatchers(&quot;/ping**&quot;)\r\n            .permitAll()\r\n            .and()\r\n    .authorizeRequests()\r\n            .anyRequest()\r\n            .authenticated()\r\n            .and()","title":"Spring Security permitAll not allowing anonymous access","body":"<p>The permission order is important, it works when I configure it like this:</p>\n\n<pre><code>.authorizeRequests()\n        .antMatchers(\"/ping**\")\n        .permitAll()\n        .and()\n.authorizeRequests()\n        .anyRequest()\n        .authenticated()\n        .and()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":2,"creation_date":1601666313,"post_id":47804693,"comment_id":113486986,"body_markdown":"Oh how I wanted this to work.  I am getting : nested exception is java.lang.IllegalStateException: Can&#39;t configure antMatchers after anyRequest. springBootVersion = &#39;2.3.3.RELEASE&#39;","body":"Oh how I wanted this to work.  I am getting : nested exception is java.lang.IllegalStateException: Can&#39;t configure antMatchers after anyRequest. springBootVersion = &#39;2.3.3.RELEASE&#39;"},{"owner":{"account_id":119626,"reputation":2009,"user_id":311440,"display_name":"Will Iverson"},"score":1,"creation_date":1612483341,"post_id":47804693,"comment_id":116788618,"body_markdown":"FWIW, I had to put .anonymous() at the end of the filter chain to get things to work right. It appears that the behavior of .anonymous is to add an &quot;anonymous&quot; user, so if you put it earlier in the filter chain it adds that as the user and calls it good.","body":"FWIW, I had to put .anonymous() at the end of the filter chain to get things to work right. It appears that the behavior of .anonymous is to add an &quot;anonymous&quot; user, so if you put it earlier in the filter chain it adds that as the user and calls it good."}],"tags":[],"owner":{"account_id":12496903,"reputation":181,"user_id":9096558,"display_name":"Kris"},"comment_count":2,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1678192868,"creation_date":1513215715,"answer_id":47804693,"question_id":24696717,"body_markdown":"Need to add *.anonymous()*\r\n\r\n    http\r\n        .addFilterBefore(muiltpartFilter, ChannelProcessingFilter.class)\r\n        .addFilterBefore(cf, ChannelProcessingFilter.class)\r\n        .anonymous().and()\r\n        .authorizeRequests().anyRequest().authenticated().and()\r\n            .authorizeRequests()\r\n                .antMatchers(&quot;/ping**&quot;)\r\n                .permitAll()\r\n                .and()\r\n            .formLogin()\r\n                .loginPage(&quot;/login&quot;)\r\n                .permitAll()\r\n                .and()\r\n            .logout()\r\n                .logoutUrl(&quot;/logout&quot;)\r\n            .logoutSuccessUrl(&quot;/login&quot;);\r\n\r\nReferred from: https://stackoverflow.com/a/25280897/256245","title":"Spring Security permitAll not allowing anonymous access","body":"<p>Need to add <em>.anonymous()</em></p>\n<pre><code>http\n    .addFilterBefore(muiltpartFilter, ChannelProcessingFilter.class)\n    .addFilterBefore(cf, ChannelProcessingFilter.class)\n    .anonymous().and()\n    .authorizeRequests().anyRequest().authenticated().and()\n        .authorizeRequests()\n            .antMatchers(&quot;/ping**&quot;)\n            .permitAll()\n            .and()\n        .formLogin()\n            .loginPage(&quot;/login&quot;)\n            .permitAll()\n            .and()\n        .logout()\n            .logoutUrl(&quot;/logout&quot;)\n        .logoutSuccessUrl(&quot;/login&quot;);\n</code></pre>\n<p>Referred from: <a href=\"https://stackoverflow.com/a/25280897/256245\">https://stackoverflow.com/a/25280897/256245</a></p>\n"},{"tags":[],"owner":{"account_id":10878966,"reputation":734,"user_id":8000120,"display_name":"J. Jerez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592266341,"creation_date":1592266341,"answer_id":62398998,"question_id":24696717,"body_markdown":"    @Override\r\n    public void configure(HttpSecurity http) throws Exception {\r\n    \thttp.anonymous().and()...;\r\n    }\r\n    \r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n    \tweb.ignoring().mvcMatchers(&quot;/ping**&quot;);\r\n    }","title":"Spring Security permitAll not allowing anonymous access","body":"<pre><code>@Override\npublic void configure(HttpSecurity http) throws Exception {\n    http.anonymous().and()...;\n}\n\n@Override\npublic void configure(WebSecurity web) throws Exception {\n    web.ignoring().mvcMatchers(\"/ping**\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3192900,"reputation":917,"user_id":2696779,"display_name":"johnnyaug"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1613216139,"creation_date":1613216139,"answer_id":66184647,"question_id":24696717,"body_markdown":"I was struggling with this a problem for a day. What I had to do in the end is to remove the `@Component` annotation from my filter, and instantiate it manually, as described in [this](https://stackoverflow.com/a/40969780) answer.\r\n\r\nSo for the original question this would look something like:\r\n```java\r\nhttp\r\n    .addFilterBefore(new MultiPartFilter(), ChannelProcessingFilter.class)\r\n    .addFilterBefore(new OtherFilter(), ChannelProcessingFilter.class)\r\n    .authorizeRequests() // ... rest omitted for brevity\r\n```\r\n\r\nI also had to remove these endpoints from spring security altogether by overriding `configure(WebSecurity web)` as described in J. Perez&#39;s answer:\r\n\r\n```\r\n@Override\r\npublic void configure(WebSecurity web) throws Exception {\r\n    web.ignoring().antMatchers(&quot;/ping**&quot;);\r\n}\r\n```","title":"Spring Security permitAll not allowing anonymous access","body":"<p>I was struggling with this a problem for a day. What I had to do in the end is to remove the <code>@Component</code> annotation from my filter, and instantiate it manually, as described in <a href=\"https://stackoverflow.com/a/40969780\">this</a> answer.</p>\n<p>So for the original question this would look something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http\n    .addFilterBefore(new MultiPartFilter(), ChannelProcessingFilter.class)\n    .addFilterBefore(new OtherFilter(), ChannelProcessingFilter.class)\n    .authorizeRequests() // ... rest omitted for brevity\n</code></pre>\n<p>I also had to remove these endpoints from spring security altogether by overriding <code>configure(WebSecurity web)</code> as described in J. Perez's answer:</p>\n<pre><code>@Override\npublic void configure(WebSecurity web) throws Exception {\n    web.ignoring().antMatchers(&quot;/ping**&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24278063,"reputation":1,"user_id":18225062,"display_name":"Prabhakar Thangavel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647585872,"creation_date":1647436064,"answer_id":71497651,"question_id":24696717,"body_markdown":"This occurred to me due to that I&#39;m setting the blank token API request, I had to remove this from my angular \r\n```java\r\nif (token) {\r\n    newHeaders = newHeaders.append(&#39;Authorization&#39;, &#39;Bearer&#39; + &#39; &#39; + token);\r\n}\r\n```\r\nHere the token is empty","title":"Spring Security permitAll not allowing anonymous access","body":"<p>This occurred to me due to that I'm setting the blank token API request, I had to remove this from my angular</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (token) {\n    newHeaders = newHeaders.append('Authorization', 'Bearer' + ' ' + token);\n}\n</code></pre>\n<p>Here the token is empty</p>\n"},{"tags":[],"owner":{"account_id":83518,"reputation":6215,"user_id":234110,"accept_rate":67,"display_name":"Anand Rockzz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652973386,"creation_date":1652973386,"answer_id":72307090,"question_id":24696717,"body_markdown":"Make sure the class is annotated with `@Configuration`. &#129318;","title":"Spring Security permitAll not allowing anonymous access","body":"<p>Make sure the class is annotated with <code>@Configuration</code>. </p>\n"},{"tags":[],"owner":{"account_id":1425338,"reputation":241,"user_id":1349021,"display_name":"sn1987a"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1667257963,"creation_date":1667257963,"answer_id":74269969,"question_id":24696717,"body_markdown":"I wasn&#39;t able to POST to a permitAll() url. After that, I found that the reason is due to CSRF enabled. SO I disable it by:\r\n\r\n    http.....and().csrf().disable();\r\n\r\nP.S: it&#39;s not a good idea to disable it, I will have to figure out how to POST with CSRF in the future.","title":"Spring Security permitAll not allowing anonymous access","body":"<p>I wasn't able to POST to a permitAll() url. After that, I found that the reason is due to CSRF enabled. SO I disable it by:</p>\n<pre><code>http.....and().csrf().disable();\n</code></pre>\n<p>P.S: it's not a good idea to disable it, I will have to figure out how to POST with CSRF in the future.</p>\n"}],"owner":{"account_id":1267127,"reputation":1663,"user_id":1224205,"accept_rate":20,"display_name":"Marceau"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158539,"favorite_count":0,"down_vote_count":0,"up_vote_count":82,"answer_count":8,"score":82,"last_activity_date":1678192868,"creation_date":1405078311,"question_id":24696717,"body_markdown":"I have a single method that I want to allow both anonymous and authenticated access to.\r\n\r\nI am using Spring Security 3.2.4 with Java based configuration.\r\n\r\nThe overridden configure method (in my custom configuration class extending `WebSecurityConfigurerAdapter`) has the following `http` block:\r\n\r\n        http\r\n\t\t\t.addFilterBefore(muiltpartFilter, ChannelProcessingFilter.class)\r\n\t\t\t.addFilterBefore(cf, ChannelProcessingFilter.class)\r\n\t\t\t.authorizeRequests()\r\n\t\t\t\t.anyRequest()\r\n\t\t\t\t.authenticated()\r\n\t\t\t\t.and()\r\n\t\t\t.authorizeRequests()\r\n\t\t\t\t.antMatchers(&quot;/ping**&quot;)\r\n\t\t\t\t.permitAll()\r\n\t\t\t\t.and()\r\n\t\t\t.formLogin()\r\n\t\t\t\t.loginPage(&quot;/login&quot;)\r\n\t\t\t\t.permitAll()\r\n\t\t\t\t.and()\r\n\t\t\t.logout()\r\n\t\t\t\t.logoutUrl(&quot;/logout&quot;)\r\n\t\t\t.logoutSuccessUrl(&quot;/login&quot;);\r\n\r\n\r\nThe ping request handler and method is in a controller that also contains the login handler, and it has no separate `@PreAuthorize` or other annotations that might cause the issue.\r\n\r\nThe problem is that anonymous access is denied and the user is redirected to the login page.\r\n\r\nLogging at the debug level, I see the following feedback from Spring Security:\r\n\r\n    [2014-07-11 13:18:04,483] [DEBUG] [org.springframework.security.web.access.intercept.FilterSecurityInterceptor] Secure object: FilterInvocation: URL: /ping; Attributes: [authenticated]\r\n    [2014-07-11 13:18:04,483] [DEBUG] [org.springframework.security.web.access.intercept.FilterSecurityInterceptor] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@6faad796: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@ffffa64e: RemoteIpAddress: 192.168.2.128; SessionId: 0EF6B13BBA5F00C020FF9C35A6E3FBA9; Granted Authorities: ROLE_ANONYMOUS\r\n    [2014-07-11 13:18:04,483] [DEBUG] [org.springframework.security.access.vote.AffirmativeBased] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@123f2882, returned: -1\r\n    [2014-07-11 13:18:04,483] [DEBUG] [org.springframework.security.web.access.ExceptionTranslationFilter] Access is denied (user is anonymous); redirecting to authentication entry point\r\n\r\n\r\nWhat I&#39;m trying to accomplish is to have a method that can be called at any point and which will send a reply indicating whether or not the request is inside a logged-in session.","title":"Spring Security permitAll not allowing anonymous access","body":"<p>I have a single method that I want to allow both anonymous and authenticated access to.</p>\n<p>I am using Spring Security 3.2.4 with Java based configuration.</p>\n<p>The overridden configure method (in my custom configuration class extending <code>WebSecurityConfigurerAdapter</code>) has the following <code>http</code> block:</p>\n<pre><code>    http\n        .addFilterBefore(muiltpartFilter, ChannelProcessingFilter.class)\n        .addFilterBefore(cf, ChannelProcessingFilter.class)\n        .authorizeRequests()\n            .anyRequest()\n            .authenticated()\n            .and()\n        .authorizeRequests()\n            .antMatchers(&quot;/ping**&quot;)\n            .permitAll()\n            .and()\n        .formLogin()\n            .loginPage(&quot;/login&quot;)\n            .permitAll()\n            .and()\n        .logout()\n            .logoutUrl(&quot;/logout&quot;)\n        .logoutSuccessUrl(&quot;/login&quot;);\n</code></pre>\n<p>The ping request handler and method is in a controller that also contains the login handler, and it has no separate <code>@PreAuthorize</code> or other annotations that might cause the issue.</p>\n<p>The problem is that anonymous access is denied and the user is redirected to the login page.</p>\n<p>Logging at the debug level, I see the following feedback from Spring Security:</p>\n<pre><code>[2014-07-11 13:18:04,483] [DEBUG] [org.springframework.security.web.access.intercept.FilterSecurityInterceptor] Secure object: FilterInvocation: URL: /ping; Attributes: [authenticated]\n[2014-07-11 13:18:04,483] [DEBUG] [org.springframework.security.web.access.intercept.FilterSecurityInterceptor] Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@6faad796: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@ffffa64e: RemoteIpAddress: 192.168.2.128; SessionId: 0EF6B13BBA5F00C020FF9C35A6E3FBA9; Granted Authorities: ROLE_ANONYMOUS\n[2014-07-11 13:18:04,483] [DEBUG] [org.springframework.security.access.vote.AffirmativeBased] Voter: org.springframework.security.web.access.expression.WebExpressionVoter@123f2882, returned: -1\n[2014-07-11 13:18:04,483] [DEBUG] [org.springframework.security.web.access.ExceptionTranslationFilter] Access is denied (user is anonymous); redirecting to authentication entry point\n</code></pre>\n<p>What I'm trying to accomplish is to have a method that can be called at any point and which will send a reply indicating whether or not the request is inside a logged-in session.</p>\n"},{"tags":["java","character-encoding","tomcat7","cjk"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1673963602,"post_id":75147380,"comment_id":132610009,"body_markdown":"Tomcat On Windows ?","body":"Tomcat On Windows ?"},{"owner":{"account_id":27553187,"reputation":78,"user_id":21027876,"display_name":"Yaseen"},"score":0,"creation_date":1674017300,"post_id":75147380,"comment_id":132622857,"body_markdown":"Tomcat on centos7","body":"Tomcat on centos7"},{"owner":{"account_id":27553187,"reputation":78,"user_id":21027876,"display_name":"Yaseen"},"score":0,"creation_date":1674019312,"post_id":75147380,"comment_id":132623129,"body_markdown":"Japanese Folder: /data//\nThe docker image is locally created as per our environment setup.\nDocker version 20.10.12, build e91ed57","body":"Japanese Folder: /data// The docker image is locally created as per our environment setup. Docker version 20.10.12, build e91ed57"}],"answers":[{"comments":[{"owner":{"account_id":27553187,"reputation":78,"user_id":21027876,"display_name":"Yaseen"},"score":1,"creation_date":1678786027,"post_id":75662089,"comment_id":133596549,"body_markdown":"Upgraded to Tomcat7.0.109 and now its Working","body":"Upgraded to Tomcat7.0.109 and now its Working"}],"tags":[],"owner":{"account_id":15274969,"reputation":26,"user_id":11020958,"display_name":"Muhammed Yaseen"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678192745,"creation_date":1678192745,"answer_id":75662089,"question_id":75147380,"body_markdown":"Upgrade Tomcat7 to tomcat9 or Tomcat7.0.109.\r\nThe support is not available in Tomcat7 Early versions","title":"Unable to read and write Japanese folder structure in Tomcat 7, but it works for a Docker container","body":"<p>Upgrade Tomcat7 to tomcat9 or Tomcat7.0.109.\nThe support is not available in Tomcat7 Early versions</p>\n"}],"owner":{"account_id":27553187,"reputation":78,"user_id":21027876,"display_name":"Yaseen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75662089,"answer_count":1,"score":2,"last_activity_date":1678192745,"creation_date":1673963167,"question_id":75147380,"body_markdown":"Getting a `FileNotFoundException` while reading a Japanese folder structer from a Tomcat 7 web application. But it&#39;s working in a Docker container and direct java console execution.\r\n\r\nBoth Docker and normal tomcat7 setup and configurations are the same.\r\n\r\nWe have done following configurations:\r\n\r\n1. Tomcat Server `server.xml` - In Connector tag added `URIEncoding` attribute as:\r\n   ```xml\r\n   &lt;Connector port=&quot;8080&quot;\r\n              protocol=&quot;HTTP/1.1&quot; \r\n              connectionTimeout=&quot;20000&quot; \r\n              redirectPort=&quot;8443&quot;\r\n              URIEncoding=&quot;UTF-8&quot;/&gt;\r\n   ```\r\n2. `catalina.sh` - added following:\r\n   ```bash\r\n   export JAVA_OPTS=&quot;$JAVA_OPTS -server \\\r\n      -XX:-UseGCOverheadLimit \\\r\n      -Djava.awt.headless=true \\\r\n      -Djavax.servlet.request.encoding=UTF-8 \\\r\n      -Dfile.encoding=UTF-8&quot;\r\n \r\n   export CATALINA_OPTS=&quot;$CATALINA_OPTS \\\r\n      -Dfile.encoding=&#39;UTF-8&#39;&quot;`\r\n   ```\r\n3. Executed the following command to change the server language:\r\n   ```bash\r\n   export LC_ALL=en_US.UTF-8\r\n   ```","title":"Unable to read and write Japanese folder structure in Tomcat 7, but it works for a Docker container","body":"<p>Getting a <code>FileNotFoundException</code> while reading a Japanese folder structer from a Tomcat 7 web application. But it's working in a Docker container and direct java console execution.</p>\n<p>Both Docker and normal tomcat7 setup and configurations are the same.</p>\n<p>We have done following configurations:</p>\n<ol>\n<li>Tomcat Server <code>server.xml</code> - In Connector tag added <code>URIEncoding</code> attribute as:\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Connector port=&quot;8080&quot;\n           protocol=&quot;HTTP/1.1&quot; \n           connectionTimeout=&quot;20000&quot; \n           redirectPort=&quot;8443&quot;\n           URIEncoding=&quot;UTF-8&quot;/&gt;\n</code></pre>\n</li>\n<li><code>catalina.sh</code> - added following:\n<pre class=\"lang-bash prettyprint-override\"><code>export JAVA_OPTS=&quot;$JAVA_OPTS -server \\\n   -XX:-UseGCOverheadLimit \\\n   -Djava.awt.headless=true \\\n   -Djavax.servlet.request.encoding=UTF-8 \\\n   -Dfile.encoding=UTF-8&quot;\n\nexport CATALINA_OPTS=&quot;$CATALINA_OPTS \\\n   -Dfile.encoding='UTF-8'&quot;`\n</code></pre>\n</li>\n<li>Executed the following command to change the server language:\n<pre class=\"lang-bash prettyprint-override\"><code>export LC_ALL=en_US.UTF-8\n</code></pre>\n</li>\n</ol>\n"},{"tags":["java","postgresql","spring-boot"],"comments":[{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1678194921,"post_id":75662056,"comment_id":133482868,"body_markdown":"1) Could you add some logging to your application? you can log  for instance what was the validationStatus, what is the point, some ciritcal parts of the dbReportData, as well operations which are happening in saveFiles() method. The log can be TRACE or DEBUG, so you can swith it off later. 2) Are you connecting to the same database? 3) What does the saveFiles method do? Do you see the effect of this method on prod machine or wherever the files are saved? 4) After you add logging  you can compare logs from dev and prod, or you can share the prod logs in your main question.","body":"1) Could you add some logging to your application? you can log  for instance what was the validationStatus, what is the point, some ciritcal parts of the dbReportData, as well operations which are happening in saveFiles() method. The log can be TRACE or DEBUG, so you can swith it off later. 2) Are you connecting to the same database? 3) What does the saveFiles method do? Do you see the effect of this method on prod machine or wherever the files are saved? 4) After you add logging  you can compare logs from dev and prod, or you can share the prod logs in your main question."},{"owner":{"account_id":6535921,"reputation":6578,"user_id":5055401,"accept_rate":75,"display_name":"Inzimam Tariq IT"},"score":0,"creation_date":1678196147,"post_id":75662056,"comment_id":133483207,"body_markdown":"its a multipart request so in the saveFiles() I 1st check if there is any file if yes I save the file in server directory.\nthe code execute until this line `ReportData dbReportData = reportDataRepo.save(reportData);` and I can see data in that table.","body":"its a multipart request so in the saveFiles() I 1st check if there is any file if yes I save the file in server directory. the code execute until this line <code>ReportData dbReportData = reportDataRepo.save(reportData);</code> and I can see data in that table."},{"owner":{"account_id":6535921,"reputation":6578,"user_id":5055401,"accept_rate":75,"display_name":"Inzimam Tariq IT"},"score":0,"creation_date":1678196180,"post_id":75662056,"comment_id":133483216,"body_markdown":"I have checked the files directory yet. let me check it","body":"I have checked the files directory yet. let me check it"},{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1678261454,"post_id":75662056,"comment_id":133496543,"body_markdown":"so is your program entering the saveFiles() method? If yes could you share its body and add some logging there. After adding logging please share the console output in here.","body":"so is your program entering the saveFiles() method? If yes could you share its body and add some logging there. After adding logging please share the console output in here."},{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1678274083,"post_id":75662056,"comment_id":133499710,"body_markdown":"Maybe you should edit your question then to contain all the error messages which you are seing, and state from where are they are comming. Now things are a bit unclear, because previously you were writing about timeout.","body":"Maybe you should edit your question then to contain all the error messages which you are seing, and state from where are they are comming. Now things are a bit unclear, because previously you were writing about timeout."},{"owner":{"account_id":6535921,"reputation":6578,"user_id":5055401,"accept_rate":75,"display_name":"Inzimam Tariq IT"},"score":0,"creation_date":1678424253,"post_id":75662056,"comment_id":133533413,"body_markdown":"It was a third-party library from which I was getting data. That lib was taking forever to respond. Thanks for your time @fascynacja","body":"It was a third-party library from which I was getting data. That lib was taking forever to respond. Thanks for your time @fascynacja"}],"owner":{"account_id":6535921,"reputation":6578,"user_id":5055401,"accept_rate":75,"display_name":"Inzimam Tariq IT"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678192566,"creation_date":1678192566,"question_id":75662056,"body_markdown":"I have a spring boot project that works very well on my local machine and also on our `dev` server. The project is deployed on tomcat 9 as a WAR file and using java 17. Last week the same WAR file was deployed on the `prod` server and there it always returns a timeout error. but the data is saved on the main table.\r\n\r\nHere is my code\r\n\r\n    String validationStatus = parseValidateData(jsonStr, reportType);\r\n                if (!validationStatus.equals(AppConstants.OK)) {\r\n                    return ResponseHandler.generateResponse(false, &quot;Upload Failed: &quot; + validationStatus, HttpStatus.OK, null);\r\n                }\r\n    \r\n                Point point = (Point) wktToGeometry(&quot;POINT (&quot; + reportData.getLng().doubleValue() + &quot; &quot; + reportData.getLat().doubleValue() + &quot;)&quot;);\r\n                point.setSRID(4326);\r\n                reportData.setGeom(point);\r\n                ReportData dbReportData = reportDataRepo.save(reportData);\r\n                saveFiles(files, dbReportData.getId());\r\n\r\nAnd after that, I save data to the other tables based on the `reportType` attribute. And in those tables, I save the id of the ReportData table which I get from dbReportData object.\r\n\r\nSo my question in the `prod` server is the clone of `dev` server with some more RAM assigned to it than `dev` server. If the same code works on `dev` server then why not on `prod` server?\r\n2nd if I have something that I have to change please let me know.  \r\nI&#39;m using postgres as the database engine.\r\n\r\nThanks","title":"Spring boot project request timeout error on the production server","body":"<p>I have a spring boot project that works very well on my local machine and also on our <code>dev</code> server. The project is deployed on tomcat 9 as a WAR file and using java 17. Last week the same WAR file was deployed on the <code>prod</code> server and there it always returns a timeout error. but the data is saved on the main table.</p>\n<p>Here is my code</p>\n<pre><code>String validationStatus = parseValidateData(jsonStr, reportType);\n            if (!validationStatus.equals(AppConstants.OK)) {\n                return ResponseHandler.generateResponse(false, &quot;Upload Failed: &quot; + validationStatus, HttpStatus.OK, null);\n            }\n\n            Point point = (Point) wktToGeometry(&quot;POINT (&quot; + reportData.getLng().doubleValue() + &quot; &quot; + reportData.getLat().doubleValue() + &quot;)&quot;);\n            point.setSRID(4326);\n            reportData.setGeom(point);\n            ReportData dbReportData = reportDataRepo.save(reportData);\n            saveFiles(files, dbReportData.getId());\n</code></pre>\n<p>And after that, I save data to the other tables based on the <code>reportType</code> attribute. And in those tables, I save the id of the ReportData table which I get from dbReportData object.</p>\n<p>So my question in the <code>prod</code> server is the clone of <code>dev</code> server with some more RAM assigned to it than <code>dev</code> server. If the same code works on <code>dev</code> server then why not on <code>prod</code> server?\n2nd if I have something that I have to change please let me know.<br />\nI'm using postgres as the database engine.</p>\n<p>Thanks</p>\n"},{"tags":["java","generics","autowired"],"comments":[{"owner":{"account_id":21963661,"reputation":23,"user_id":16241226,"display_name":"purvi ijantkar"},"score":1,"creation_date":1677586693,"post_id":75589009,"comment_id":133363503,"body_markdown":"The issue is now solved by adding @Qualifies test123 and Test1DAOImpl along with the above  changes","body":"The issue is now solved by adding @Qualifies test123 and Test1DAOImpl along with the above  changes"},{"owner":{"account_id":3670691,"reputation":1950,"user_id":3057983,"display_name":"JohnH"},"score":0,"creation_date":1678043506,"post_id":75589009,"comment_id":133452377,"body_markdown":"Consider submitting the answer to your question. That will help more SO users who view your question.","body":"Consider submitting the answer to your question. That will help more SO users who view your question."}],"owner":{"account_id":21963661,"reputation":23,"user_id":16241226,"display_name":"purvi ijantkar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1678192517,"creation_date":1677569391,"question_id":75589009,"body_markdown":"I have the following classes in the follwing pattern:\r\n\r\n```\r\npublic abstract class BaseDAOMongoImpl&lt;K, E extends Entity&gt; implements BaseDAO&lt;K, E&gt; {\r\n    public BaseDAOMongoImpl() {\r\n        ParameterizedType pt = (ParameterizedType) this.getClass().getGenericSuperclass();\r\n        entityClass = (Class&lt;E&gt;) pt.getActualTypeArguments()[1];\r\n        entityClassName = entityClass.getSimpleName();\r\n    }\r\n...\r\n}\r\n\r\n@Repository\r\npublic class TestDAO1Impl extends BaseDAOMongoImpl&lt;String, Test1MockEvent&gt; {\r\n    public String getOverridingCollectionName() {\r\n        return &quot;test1&quot;;\r\n    }\r\n}\r\n\r\n@Repository\r\npublic class Test123 extends TestDAO1Impl {\r\n    public void testing(){\r\n\r\n    }\r\n```\r\n\r\nNow, when I am auto-wiring `Test123` in some class I am getting the following exception:\r\n```\r\nClass cannot be cast to class java.lang.reflect.ParameterizedType (java.lang.Class and java.lang.reflect.ParameterizedType )\r\n```\r\n\r\nI tried to write a recursive function that returns a the proper class name in the base class construct like below:\r\n```\r\npublic BaseDAOMongoImpl() {\r\n        ParameterizedType pt = (ParameterizedType)getClassThatExtendsBaseDAOMongoImpl(this.getClass()).getGenericSuperclass(); \r\n        this.entityClass = (Class) pt.getActualTypeArguments()[1];\r\n        this.entityClassName = this.entityClass.getSimpleName();\r\n        this.isAuditable = this.isAuditableEntity(this.entityClass);\r\n        LOGGER.debug(&quot;entity class:{}, isAuditable:{}&quot;, new Object[]{this.entityClass, this.isAuditable});\r\n}\r\n\r\nprivate Class&lt;?&gt; getClassThatExtendsBaseDAOMongoImpl(Class&lt;?&gt; source) {\r\n        if (BaseDAOMongoImpl.class.getCanonicalName().equals(source.getSuperclass().getCanonicalName()))\r\n            return source;\r\n        return getClassThatExtendsBaseDAOMongoImpl(source.getSuperclass());\r\n    }\r\n```\r\nBut I am getting the below exception:\r\n```\r\nnested exception is org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type &#39;Test1DAOImpl&#39; available: expected single matching bean but found 2: test123,test1DAOImpl\r\n```\r\nAny help would be appreciated.","title":"Class cannot be cast to class java.lang.reflect.ParameterizedType (java.lang.Class and java.lang.reflect.ParameterizedType )","body":"<p>I have the following classes in the follwing pattern:</p>\n<pre><code>public abstract class BaseDAOMongoImpl&lt;K, E extends Entity&gt; implements BaseDAO&lt;K, E&gt; {\n    public BaseDAOMongoImpl() {\n        ParameterizedType pt = (ParameterizedType) this.getClass().getGenericSuperclass();\n        entityClass = (Class&lt;E&gt;) pt.getActualTypeArguments()[1];\n        entityClassName = entityClass.getSimpleName();\n    }\n...\n}\n\n@Repository\npublic class TestDAO1Impl extends BaseDAOMongoImpl&lt;String, Test1MockEvent&gt; {\n    public String getOverridingCollectionName() {\n        return &quot;test1&quot;;\n    }\n}\n\n@Repository\npublic class Test123 extends TestDAO1Impl {\n    public void testing(){\n\n    }\n</code></pre>\n<p>Now, when I am auto-wiring <code>Test123</code> in some class I am getting the following exception:</p>\n<pre><code>Class cannot be cast to class java.lang.reflect.ParameterizedType (java.lang.Class and java.lang.reflect.ParameterizedType )\n</code></pre>\n<p>I tried to write a recursive function that returns a the proper class name in the base class construct like below:</p>\n<pre><code>public BaseDAOMongoImpl() {\n        ParameterizedType pt = (ParameterizedType)getClassThatExtendsBaseDAOMongoImpl(this.getClass()).getGenericSuperclass(); \n        this.entityClass = (Class) pt.getActualTypeArguments()[1];\n        this.entityClassName = this.entityClass.getSimpleName();\n        this.isAuditable = this.isAuditableEntity(this.entityClass);\n        LOGGER.debug(&quot;entity class:{}, isAuditable:{}&quot;, new Object[]{this.entityClass, this.isAuditable});\n}\n\nprivate Class&lt;?&gt; getClassThatExtendsBaseDAOMongoImpl(Class&lt;?&gt; source) {\n        if (BaseDAOMongoImpl.class.getCanonicalName().equals(source.getSuperclass().getCanonicalName()))\n            return source;\n        return getClassThatExtendsBaseDAOMongoImpl(source.getSuperclass());\n    }\n</code></pre>\n<p>But I am getting the below exception:</p>\n<pre><code>nested exception is org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type 'Test1DAOImpl' available: expected single matching bean but found 2: test123,test1DAOImpl\n</code></pre>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","database-migration","flyway"],"answers":[{"tags":[],"owner":{"account_id":17607340,"reputation":129,"user_id":12776145,"display_name":"Nitish N Banakar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678192368,"creation_date":1678192368,"answer_id":75662011,"question_id":74799328,"body_markdown":"Specify default schema for the connection in the FLYWAY_URL\r\n\r\nIn your case use\r\n```FLYWAY_URL=jdbc:mysql://localhost/test```\r\n","title":"Flyway is unable to deremine default schema for schema history table","body":"<p>Specify default schema for the connection in the FLYWAY_URL</p>\n<p>In your case use\n<code>FLYWAY_URL=jdbc:mysql://localhost/test</code></p>\n"}],"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678192368,"creation_date":1671025998,"question_id":74799328,"body_markdown":"I&#39;m trying to integrate FlyWay to non-spring application\r\nI have next class, which is executed on app start:\r\n\r\n    @Singleton\r\n    @Startup\r\n    @TransactionManagement(value = TransactionManagementType.BEAN)\r\n    public class Config {\r\n        private static final String MIGRATIONS_PATH = &quot;migration&quot;;\r\n        private final static Dotenv ENV = Dotenv.configure().load();\r\n        @Resource\r\n        private static MariaDbDataSource dataSource;\r\n    \r\n        static {\r\n            dataSource = new MariaDbDataSource();\r\n            try {\r\n                dataSource.setUrl(ENV.get(FlyWayParameters.URL.getParameter()));\r\n                dataSource.setDatabaseName(ENV.get(FlyWayParameters.SCHEMA.getParameter()));\r\n                dataSource.setUser(ENV.get(FlyWayParameters.USER.getParameter()));\r\n                dataSource.setPassword(ENV.get(FlyWayParameters.PASSWORD.getParameter()));\r\n            } catch (SQLException e) {\r\n                log.error(&quot;[ERROR] Database initialization failed. Possible problem with configuration&quot;);\r\n            }\r\n        }\r\n    \r\n        @PostConstruct\r\n        private void onStartup() {\r\n            Flyway flyway = configureFlyWay();\r\n            flyway.migrate();\r\n        }\r\n    \r\n        private Flyway configureFlyWay() {\r\n            Flyway flyway = Flyway.configure()\r\n                    .dataSource(dataSource)\r\n                    .locations(MIGRATIONS_PATH)\r\n                    .load();\r\n            return flyway;\r\n        }\r\n    }\r\n\r\nI take db params from .env file(example):\r\n\r\n    FLYWAY_URL=jdbc:mysql://localhost\r\n    FLYWAY_USER=test\r\n    FLYWAY_PASSWORD=test\r\n    FLYWAY_SCHEMA=testschema\r\n\r\n\r\n SO dataSource is ok, flyaway is created, but when `migrate()` starts I&#39;m getting exception:\r\n\r\n    org.flywaydb.core.api.FlywayException: Unable to determine schema for the schema history table. Set a default schema for the connection or specify one using the defaultSchema property! \r\n\r\nI tried to add `.defaultSchema()` to flyway config object, but this didnt help. What can be wrong?","title":"Flyway is unable to deremine default schema for schema history table","body":"<p>I'm trying to integrate FlyWay to non-spring application\nI have next class, which is executed on app start:</p>\n<pre><code>@Singleton\n@Startup\n@TransactionManagement(value = TransactionManagementType.BEAN)\npublic class Config {\n    private static final String MIGRATIONS_PATH = &quot;migration&quot;;\n    private final static Dotenv ENV = Dotenv.configure().load();\n    @Resource\n    private static MariaDbDataSource dataSource;\n\n    static {\n        dataSource = new MariaDbDataSource();\n        try {\n            dataSource.setUrl(ENV.get(FlyWayParameters.URL.getParameter()));\n            dataSource.setDatabaseName(ENV.get(FlyWayParameters.SCHEMA.getParameter()));\n            dataSource.setUser(ENV.get(FlyWayParameters.USER.getParameter()));\n            dataSource.setPassword(ENV.get(FlyWayParameters.PASSWORD.getParameter()));\n        } catch (SQLException e) {\n            log.error(&quot;[ERROR] Database initialization failed. Possible problem with configuration&quot;);\n        }\n    }\n\n    @PostConstruct\n    private void onStartup() {\n        Flyway flyway = configureFlyWay();\n        flyway.migrate();\n    }\n\n    private Flyway configureFlyWay() {\n        Flyway flyway = Flyway.configure()\n                .dataSource(dataSource)\n                .locations(MIGRATIONS_PATH)\n                .load();\n        return flyway;\n    }\n}\n</code></pre>\n<p>I take db params from .env file(example):</p>\n<pre><code>FLYWAY_URL=jdbc:mysql://localhost\nFLYWAY_USER=test\nFLYWAY_PASSWORD=test\nFLYWAY_SCHEMA=testschema\n</code></pre>\n<p>SO dataSource is ok, flyaway is created, but when <code>migrate()</code> starts I'm getting exception:</p>\n<pre><code>org.flywaydb.core.api.FlywayException: Unable to determine schema for the schema history table. Set a default schema for the connection or specify one using the defaultSchema property! \n</code></pre>\n<p>I tried to add <code>.defaultSchema()</code> to flyway config object, but this didnt help. What can be wrong?</p>\n"},{"tags":["java","android","xml","android-layout","button"],"comments":[{"owner":{"account_id":18378745,"reputation":802,"user_id":13387235,"display_name":"Dhruv Sakariya"},"score":0,"creation_date":1678190568,"post_id":75661603,"comment_id":133481750,"body_markdown":"thats a recycler view not a static button","body":"thats a recycler view not a static button"},{"owner":{"account_id":26324765,"reputation":13,"user_id":19986263,"display_name":"Judith "},"score":0,"creation_date":1678191665,"post_id":75661603,"comment_id":133482023,"body_markdown":"How do I code it?","body":"How do I code it?"},{"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"score":0,"creation_date":1678192308,"post_id":75661603,"comment_id":133482188,"body_markdown":"[Chips in Material Design3 android](https://github.com/material-components/material-components-android/blob/master/docs/components/Chip.md)","body":"<a href=\"https://github.com/material-components/material-components-android/blob/master/docs/components/Chip.md\" rel=\"nofollow noreferrer\">Chips in Material Design3 android</a>"}],"answers":[{"tags":[],"owner":{"account_id":18378745,"reputation":802,"user_id":13387235,"display_name":"Dhruv Sakariya"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678192333,"creation_date":1678192333,"answer_id":75662005,"question_id":75661603,"body_markdown":"Set index to -1 initially and when you click the item it will change color of particular item    \r\n\r\n\r\n    index=-1;\r\n    \r\n    public void onBindViewHolder(final ViewHolder holder, final int position) {\r\n          \r\n    \r\n            holder.view.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    index=position;\r\n                    notifyDataSetChanged();\r\n                }\r\n            });\r\n            if(index==position){\r\n                holder.view.setBackgroundColor(Color.parseColor(&quot;#567845&quot;));\r\n                holder.tv1.setTextColor(Color.parseColor(&quot;#ffffff&quot;));\r\n            }\r\n            else\r\n            {\r\n                holder.view.setBackgroundColor(Color.parseColor(&quot;#ffffff&quot;));\r\n                holder.tv1.setTextColor(Color.parseColor(&quot;#000000&quot;));\r\n            }\r\n    \r\n        }","title":"How to create a button on click the background color changes","body":"<p>Set index to -1 initially and when you click the item it will change color of particular item</p>\n<pre><code>index=-1;\n\npublic void onBindViewHolder(final ViewHolder holder, final int position) {\n      \n\n        holder.view.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                index=position;\n                notifyDataSetChanged();\n            }\n        });\n        if(index==position){\n            holder.view.setBackgroundColor(Color.parseColor(&quot;#567845&quot;));\n            holder.tv1.setTextColor(Color.parseColor(&quot;#ffffff&quot;));\n        }\n        else\n        {\n            holder.view.setBackgroundColor(Color.parseColor(&quot;#ffffff&quot;));\n            holder.tv1.setTextColor(Color.parseColor(&quot;#000000&quot;));\n        }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":26324765,"reputation":13,"user_id":19986263,"display_name":"Judith "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75662005,"answer_count":1,"score":1,"last_activity_date":1678192333,"creation_date":1678189694,"question_id":75661603,"body_markdown":"[enter image description here][1]\r\nCheck image\r\n\r\nI tried using button and on click event to change the background color. Also I don&#39;t know how to add the check icon on click and also how to return it to default state clicking the next button\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4JwHl.jpg","title":"How to create a button on click the background color changes","body":"<p><a href=\"https://i.stack.imgur.com/4JwHl.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>\nCheck image</p>\n<p>I tried using button and on click event to change the background color. Also I don't know how to add the check icon on click and also how to return it to default state clicking the next button</p>\n"},{"tags":["java","android","firebase","listener"],"comments":[{"owner":{"account_id":1907065,"reputation":756,"user_id":1721719,"accept_rate":60,"display_name":"Tim Mutton"},"score":0,"creation_date":1433485176,"post_id":30659569,"comment_id":49381665,"body_markdown":"assume root is stored on the class (and the class isn&#39;t gc&#39;ed) it shouldn&#39;t matter that the function completes","body":"assume root is stored on the class (and the class isn&#39;t gc&#39;ed) it shouldn&#39;t matter that the function completes"},{"owner":{"account_id":168508,"reputation":40402,"user_id":394010,"accept_rate":100,"display_name":"Kato"},"score":1,"creation_date":1433517256,"post_id":30659569,"comment_id":49402263,"body_markdown":"You cannot synchronously return an asynchronous value. The `message` variable here is completely pointless as it&#39;s not going to be set at the time it returns--the data has to be fetched from the server first. Instead, getMessage() should either accept a callback of some sort or trigger an event. There is [a guide dedicated to these concepts](https://www.firebase.com/docs/android/), chocked full of examples and advice.","body":"You cannot synchronously return an asynchronous value. The <code>message</code> variable here is completely pointless as it&#39;s not going to be set at the time it returns--the data has to be fetched from the server first. Instead, getMessage() should either accept a callback of some sort or trigger an event. There is <a href=\"https://www.firebase.com/docs/android/\" rel=\"nofollow noreferrer\">a guide dedicated to these concepts</a>, chocked full of examples and advice."},{"owner":{"account_id":6281292,"reputation":407,"user_id":4882204,"accept_rate":67,"display_name":"Sathindu"},"score":0,"creation_date":1482408333,"post_id":30659569,"comment_id":69767199,"body_markdown":"[Use this Answer](http://stackoverflow.com/a/38542796/4882204). I have faced the same issue and solved using EventBus.","body":"<a href=\"http://stackoverflow.com/a/38542796/4882204\">Use this Answer</a>. I have faced the same issue and solved using EventBus."}],"answers":[{"comments":[{"owner":{"account_id":156855,"reputation":1054,"user_id":374405,"accept_rate":80,"display_name":"cmikeb1"},"score":3,"creation_date":1539987162,"post_id":42811962,"comment_id":92713248,"body_markdown":"That&#39;s all well and good, but in the rest of the Java world we use servlets and RestTemplates that are synchronous. Google throwing in an asynchronous library really complicates things.","body":"That&#39;s all well and good, but in the rest of the Java world we use servlets and RestTemplates that are synchronous. Google throwing in an asynchronous library really complicates things."},{"owner":{"account_id":6814250,"reputation":1483,"user_id":5243472,"display_name":"Vladyslav Ulianytskyi"},"score":0,"creation_date":1540212616,"post_id":42811962,"comment_id":92768672,"body_markdown":"yes, possible it is useful just for android use only","body":"yes, possible it is useful just for android use only"},{"owner":{"account_id":3260232,"reputation":2090,"user_id":2745944,"accept_rate":84,"display_name":"martinseal1987"},"score":2,"creation_date":1565437806,"post_id":42811962,"comment_id":101360058,"body_markdown":"this is the standard approach but there are scenarios where this just leads to spaghetti code","body":"this is the standard approach but there are scenarios where this just leads to spaghetti code"}],"tags":[],"owner":{"account_id":6814250,"reputation":1483,"user_id":5243472,"display_name":"Vladyslav Ulianytskyi"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1678192227,"creation_date":1489586391,"answer_id":42811962,"question_id":30659569,"body_markdown":"Don&#39;t use Firebase as functions that return valuesit goes against its asynchronous nature.\r\n\r\nPlan a code structure that allows Firebase to perform its task and then within the closure (block) go to the next step.\r\n\r\nIn your code, for example, change the function to not return anything and within the onDataChange, as the last line call the next function to update your UI.\r\n","title":"Wait until Firebase retrieves data","body":"<p>Don't use Firebase as functions that return valuesit goes against its asynchronous nature.</p>\n<p>Plan a code structure that allows Firebase to perform its task and then within the closure (block) go to the next step.</p>\n<p>In your code, for example, change the function to not return anything and within the onDataChange, as the last line call the next function to update your UI.</p>\n"},{"comments":[{"owner":{"account_id":5155236,"reputation":134,"user_id":4128634,"accept_rate":33,"display_name":"Flaom"},"score":0,"creation_date":1517799735,"post_id":46997517,"comment_id":84227582,"body_markdown":"I followed these instructions to the dot, and I&#39;m still experiencing the same exact issue as OP. I don&#39;t understand how I&#39;m supposed to structure my code such that I&#39;m able to use the data inside of the Firebase database","body":"I followed these instructions to the dot, and I&#39;m still experiencing the same exact issue as OP. I don&#39;t understand how I&#39;m supposed to structure my code such that I&#39;m able to use the data inside of the Firebase database"},{"owner":{"account_id":16146755,"reputation":614,"user_id":11656240,"display_name":"austinw"},"score":1,"creation_date":1609634335,"post_id":46997517,"comment_id":115884272,"body_markdown":"@Floam, this is because the implementation above has one critical mistake -- the value from dataSnapshot is not extracted before passing it to the listener. Instead, in the example above, inside of `onChange` method, one should call `listener.onSuccess(dataSnapshot.getValue());` (this example is assuming the goal is to extract the value)","body":"@Floam, this is because the implementation above has one critical mistake -- the value from dataSnapshot is not extracted before passing it to the listener. Instead, in the example above, inside of <code>onChange</code> method, one should call <code>listener.onSuccess(dataSnapshot.getValue());</code> (this example is assuming the goal is to extract the value)"},{"owner":{"account_id":8565131,"reputation":525,"user_id":6417843,"display_name":"Jashanpreet singh Chakkal"},"score":0,"creation_date":1627243311,"post_id":46997517,"comment_id":121098494,"body_markdown":"@Floam, one more critical mistake will be the life-cycle of the function. If used inside a Thread, say for loading a image from Firebase storage then the thread will not wait for the listeners to be called rather the thread will complete itself making the whole listener useless.","body":"@Floam, one more critical mistake will be the life-cycle of the function. If used inside a Thread, say for loading a image from Firebase storage then the thread will not wait for the listeners to be called rather the thread will complete itself making the whole listener useless."}],"tags":[],"owner":{"account_id":10383717,"reputation":589,"user_id":7657561,"display_name":"Joseph Varghese"},"comment_count":3,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1675623517,"creation_date":1509259330,"answer_id":46997517,"question_id":30659569,"body_markdown":"Make an interface\r\n\r\n     public interface OnGetDataListener {\r\n        //this is for callbacks\r\n        void onSuccess(DataSnapshot dataSnapshot);\r\n        void onStart();\r\n        void onFailure();\r\n    }\r\n\r\n\r\nDeclare the following function readData()\r\n\r\n    public void readData(Firebase ref, final OnGetDataListener listener) {\r\n        listener.onStart();\r\n        ref.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                listener.onSuccess(dataSnapshot);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(FirebaseError firebaseError) {\r\n                listener.onFailure();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\nCall the `readData()` function as follows\r\n\r\n    readData(root.child(&quot;MessagesOnLaunch&quot;).child(&quot;Message&quot;), new OnGetDataListener() {\r\n                    @Override\r\n                    public void onSuccess(DataSnapshot dataSnapshot) {\r\n                        \r\n                   //got data from database....now you can use the retrieved data\r\n\r\n                                             \r\n                    }\r\n                    @Override\r\n                    public void onStart() {\r\n                        //when starting\r\n                        Log.d(&quot;ONSTART&quot;, &quot;Started&quot;);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onFailure() {\r\n                        Log.d(&quot;onFailure&quot;, &quot;Failed&quot;);\r\n                    }\r\n                });\r\n\r\n\r\nreadData() can be called inside your getMessage() method or even inside onCreate()","title":"Wait until Firebase retrieves data","body":"<p>Make an interface</p>\n<pre><code> public interface OnGetDataListener {\n    //this is for callbacks\n    void onSuccess(DataSnapshot dataSnapshot);\n    void onStart();\n    void onFailure();\n}\n</code></pre>\n<p>Declare the following function readData()</p>\n<pre><code>public void readData(Firebase ref, final OnGetDataListener listener) {\n    listener.onStart();\n    ref.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(DataSnapshot dataSnapshot) {\n            listener.onSuccess(dataSnapshot);\n        }\n\n        @Override\n        public void onCancelled(FirebaseError firebaseError) {\n            listener.onFailure();\n        }\n    });\n\n}\n</code></pre>\n<p>Call the <code>readData()</code> function as follows</p>\n<pre><code>readData(root.child(&quot;MessagesOnLaunch&quot;).child(&quot;Message&quot;), new OnGetDataListener() {\n                @Override\n                public void onSuccess(DataSnapshot dataSnapshot) {\n                    \n               //got data from database....now you can use the retrieved data\n\n                                         \n                }\n                @Override\n                public void onStart() {\n                    //when starting\n                    Log.d(&quot;ONSTART&quot;, &quot;Started&quot;);\n                }\n\n                @Override\n                public void onFailure() {\n                    Log.d(&quot;onFailure&quot;, &quot;Failed&quot;);\n                }\n            });\n</code></pre>\n<p>readData() can be called inside your getMessage() method or even inside onCreate()</p>\n"},{"comments":[{"owner":{"account_id":4620171,"reputation":151,"user_id":3745489,"accept_rate":83,"display_name":"Zod"},"score":0,"creation_date":1532356733,"post_id":50817294,"comment_id":89931531,"body_markdown":"`message` is not declared. If you declare `message` at start of function as `String message = null`, it has to be declared `final` too or it won&#39;t compile. And then since its final you can&#39;t update `message` anymore within `onDataChange`.\n\nThis is so frustrating. Almost no way to get data out of `onDataChange` to the outside world in a clean piece of code.","body":"<code>message</code> is not declared. If you declare <code>message</code> at start of function as <code>String message = null</code>, it has to be declared <code>final</code> too or it won&#39;t compile. And then since its final you can&#39;t update <code>message</code> anymore within <code>onDataChange</code>.  This is so frustrating. Almost no way to get data out of <code>onDataChange</code> to the outside world in a clean piece of code."},{"owner":{"account_id":4487142,"reputation":1255,"user_id":3649372,"display_name":"Nathan Adams"},"score":3,"creation_date":1534642934,"post_id":50817294,"comment_id":90777581,"body_markdown":"Awesome way to do this!\n@Zod Use a final AtomicReference or array wrapper to g/set the message","body":"Awesome way to do this! @Zod Use a final AtomicReference or array wrapper to g/set the message"},{"owner":{"account_id":156855,"reputation":1054,"user_id":374405,"accept_rate":80,"display_name":"cmikeb1"},"score":1,"creation_date":1539988857,"post_id":50817294,"comment_id":92713644,"body_markdown":"You might also add `public synchronized String getMessage()` to the method signature to ensure only one thread is calling this method at a time.  Without it, empirical testing proved I was getting the wrong `message` returned about 10% of the time when running this method in parallel (e.g. two or more requests coming into your servlet at the same time, so two threads calling this method at the same time).","body":"You might also add <code>public synchronized String getMessage()</code> to the method signature to ensure only one thread is calling this method at a time.  Without it, empirical testing proved I was getting the wrong <code>message</code> returned about 10% of the time when running this method in parallel (e.g. two or more requests coming into your servlet at the same time, so two threads calling this method at the same time)."},{"owner":{"account_id":11753440,"reputation":133,"user_id":8601830,"display_name":"Tirupati Singh"},"score":1,"creation_date":1545825748,"post_id":50817294,"comment_id":94704018,"body_markdown":"here I have missed declaring &quot;message&quot; variable which is confusing to the users looking for answers. @NathanAdams is correct. I will edit the answer. Thanks Nathan for clarifying.","body":"here I have missed declaring &quot;message&quot; variable which is confusing to the users looking for answers. @NathanAdams is correct. I will edit the answer. Thanks Nathan for clarifying."}],"tags":[],"owner":{"account_id":11753440,"reputation":133,"user_id":8601830,"display_name":"Tirupati Singh"},"comment_count":4,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1554706528,"creation_date":1528806627,"answer_id":50817294,"question_id":30659569,"body_markdown":"You can use CountDownLatch.\r\nThis is how you can use it.\r\n\r\n\r\n    public String getMessage(){\r\n       CountDownLatch done = new CountDownLatch(1);\r\n       final String message[] = {null}; \r\n       root.child(&quot;MessagesOnLaunch&quot;).child(&quot;Message&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\r\n\r\n        @Override\r\n        public void onDataChange(DataSnapshot dataSnapshot) {\r\n            message[0] = (String) dataSnapshot.getValue();\r\n            System.out.println(&quot;worked&quot;);\r\n            done.countDown();\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(FirebaseError firebaseError) {\r\n            System.out.println(&quot;failed&quot;+firebaseError.getMessage());\r\n        }\r\n    });\r\n\r\n    try {\r\n        done.await(); //it will wait till the response is received from firebase.\r\n    } catch(InterruptedException e) {\r\n        e.printStackTrace();\r\n    }\r\n    return message[0];\r\n    }\r\n    \r\n ","title":"Wait until Firebase retrieves data","body":"<p>You can use CountDownLatch.\nThis is how you can use it.</p>\n\n<pre><code>public String getMessage(){\n   CountDownLatch done = new CountDownLatch(1);\n   final String message[] = {null}; \n   root.child(\"MessagesOnLaunch\").child(\"Message\").addListenerForSingleValueEvent(new ValueEventListener() {\n\n    @Override\n    public void onDataChange(DataSnapshot dataSnapshot) {\n        message[0] = (String) dataSnapshot.getValue();\n        System.out.println(\"worked\");\n        done.countDown();\n    }\n\n    @Override\n    public void onCancelled(FirebaseError firebaseError) {\n        System.out.println(\"failed\"+firebaseError.getMessage());\n    }\n});\n\ntry {\n    done.await(); //it will wait till the response is received from firebase.\n} catch(InterruptedException e) {\n    e.printStackTrace();\n}\nreturn message[0];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4620171,"reputation":151,"user_id":3745489,"accept_rate":83,"display_name":"Zod"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532358196,"creation_date":1532358196,"answer_id":51481934,"question_id":30659569,"body_markdown":"I&#39;ll leave this here to help anyone who faces the same problem as me. @Tirupati Singh code looks nice but I wrote my answer below his why it didn&#39;t work for me. Using Atomic type worked - \r\n\r\n    public AtomicInteger getMessage(){\r\n\t        final AtomicBoolean done = new AtomicBoolean(false);\r\n\t        final AtomicInteger message1 = new AtomicInteger(0);\r\n\r\n\t        //assuming you have already called firebase initialization code for admin sdk, android etc\r\n\t       DatabaseReference root = FirebaseDatabase.getInstance().getReference(&quot;server&quot;);\r\n\t\t   root.child(&quot;MessagesOnLaunch&quot;).child(&quot;Message&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\r\n\r\n\t\t    public void onDataChange(DataSnapshot dataSnapshot) {\r\n\t\t        message1.set((Integer) dataSnapshot.getValue()); \r\n\t\t        done.set(true);\r\n\t\t    }\r\n\r\n\t\t\tpublic void onCancelled(DatabaseError error) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n\t    while (!done.get());\r\n\r\n\t\treturn message1;\r\n\t}\r\n\r\nNote the function can only return message type Integer. I couldn&#39;t get it to work for String as no Atomic type for String. Hope this helps!","title":"Wait until Firebase retrieves data","body":"<p>I'll leave this here to help anyone who faces the same problem as me. @Tirupati Singh code looks nice but I wrote my answer below his why it didn't work for me. Using Atomic type worked - </p>\n\n<pre><code>public AtomicInteger getMessage(){\n        final AtomicBoolean done = new AtomicBoolean(false);\n        final AtomicInteger message1 = new AtomicInteger(0);\n\n        //assuming you have already called firebase initialization code for admin sdk, android etc\n       DatabaseReference root = FirebaseDatabase.getInstance().getReference(\"server\");\n       root.child(\"MessagesOnLaunch\").child(\"Message\").addListenerForSingleValueEvent(new ValueEventListener() {\n\n        public void onDataChange(DataSnapshot dataSnapshot) {\n            message1.set((Integer) dataSnapshot.getValue()); \n            done.set(true);\n        }\n\n        public void onCancelled(DatabaseError error) {\n            // TODO Auto-generated method stub\n\n        }\n    });\n    while (!done.get());\n\n    return message1;\n}\n</code></pre>\n\n<p>Note the function can only return message type Integer. I couldn't get it to work for String as no Atomic type for String. Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":2302601,"reputation":896,"user_id":2022579,"display_name":"Pedro Bacchini"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1552046075,"creation_date":1552045688,"answer_id":55062638,"question_id":30659569,"body_markdown":"As @CMikeB1 commented on another response in the java world when we are dealing with servlets and services rest we use sync calls to perform operations, it would be useful to have both options in sdk firebase admin so that the developer could choose which one to use depending on his case use.\r\n\r\nI made my implementation from waiting to read the sync data using ApiFuture which is the current interface adopted by the sdk of the firebase admin. here&#39;s [a link](https://medium.com/google-cloud/firebase-asynchronous-operations-with-admin-java-sdk-82ca9b4f6022)!\r\n\r\n    public DataSnapshot getMessage() {\r\n        final SettableApiFuture&lt;DataSnapshot&gt; future = SettableApiFuture.create();\r\n        databaseReference.child(&quot;MessagesOnLaunch&quot;).child(&quot;Message&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                future.set(dataSnapshot);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n                future.setException(databaseError.toException());\r\n            }\r\n        });\r\n        try {\r\n            return future.get();\r\n        } catch(InterruptedException | ExecutionException e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }","title":"Wait until Firebase retrieves data","body":"<p>As @CMikeB1 commented on another response in the java world when we are dealing with servlets and services rest we use sync calls to perform operations, it would be useful to have both options in sdk firebase admin so that the developer could choose which one to use depending on his case use.</p>\n\n<p>I made my implementation from waiting to read the sync data using ApiFuture which is the current interface adopted by the sdk of the firebase admin. here's <a href=\"https://medium.com/google-cloud/firebase-asynchronous-operations-with-admin-java-sdk-82ca9b4f6022\" rel=\"nofollow noreferrer\">a link</a>!</p>\n\n<pre><code>public DataSnapshot getMessage() {\n    final SettableApiFuture&lt;DataSnapshot&gt; future = SettableApiFuture.create();\n    databaseReference.child(\"MessagesOnLaunch\").child(\"Message\").addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(DataSnapshot dataSnapshot) {\n            future.set(dataSnapshot);\n        }\n\n        @Override\n        public void onCancelled(DatabaseError databaseError) {\n            future.setException(databaseError.toException());\n        }\n    });\n    try {\n        return future.get();\n    } catch(InterruptedException | ExecutionException e) {\n        e.printStackTrace();\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3260232,"reputation":2090,"user_id":2745944,"accept_rate":84,"display_name":"martinseal1987"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565454621,"creation_date":1565454621,"answer_id":57443862,"question_id":30659569,"body_markdown":"Sorry to be a little late to this party but rather than have firebase return a value you could set up an observer / view model, then when you run your async firebase function the onData method is called from this you would update your view models data which then triggers its onDataChanged method which you can then update your layout from","title":"Wait until Firebase retrieves data","body":"<p>Sorry to be a little late to this party but rather than have firebase return a value you could set up an observer / view model, then when you run your async firebase function the onData method is called from this you would update your view models data which then triggers its onDataChanged method which you can then update your layout from</p>\n"},{"tags":[],"owner":{"account_id":11456444,"reputation":11,"user_id":8397287,"display_name":"Gnana Sreekar"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1576253001,"creation_date":1576253001,"answer_id":59326044,"question_id":30659569,"body_markdown":"You can follow this link https://youtu.be/LVaIArVY52U \r\n\r\nFirebase database is quite slow when retrieving the data so to make the application wait for the process to complete you can follow this\r\n\r\nCreate a new class Ex. Firebasedata.java and extent it with Application and add put this code in the OnCreate sections\r\n\r\n```\r\npublic class Firebasedata extends Application {\r\n    @Override\r\n    public void onCreate() {\r\n        FirebaseDatabase.getInstance().setPersistenceEnabled(true);\r\n        super.onCreate();\r\n    }\r\n}\r\n```\r\ndeclare the java class in the manifests\r\n\r\n```\r\n &lt;application\r\n        android:name=&quot;.Firebasedata&quot;  &lt;------\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n     ...\r\n     ...\r\n    &lt;/application&gt;\r\n```\r\nThen go back to the class where you want to get the data and create a dialog with this code\r\n\r\n```\r\n    ProgressDialog TempDialog;\r\n    CountDownTimer mCountDownTimer;\r\n    int i=0;\r\n        \r\n        TempDialog = new ProgressDialog(MainActivity.this);\r\n        TempDialog.setMessage(&quot;Please wait...&quot;);\r\n        TempDialog.setCancelable(false);\r\n        TempDialog.setProgress(i);\r\n        TempDialog.setProgressStyle(ProgressDialog.STYLE_SPINNER);\r\n        TempDialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.GRAY));\r\n\r\n TempDialog.show();\r\n        mCountDownTimer = new CountDownTimer(2000, 1000)\r\n        {\r\n            public void onTick(long millisUntilFinished)\r\n            {\r\n                TempDialog.setMessage(&quot;Please wait..&quot;);\r\n            }\r\n\r\n            public void onFinish()\r\n            {\r\n                TempDialog.dismiss();\r\n                //Your action like intents are placed here\r\n\r\n            }\r\n        }.start();\r\n```\r\n\r\nYou can look into the link above and get a better idea","title":"Wait until Firebase retrieves data","body":"<p>You can follow this link <a href=\"https://youtu.be/LVaIArVY52U\" rel=\"nofollow noreferrer\">https://youtu.be/LVaIArVY52U</a> </p>\n\n<p>Firebase database is quite slow when retrieving the data so to make the application wait for the process to complete you can follow this</p>\n\n<p>Create a new class Ex. Firebasedata.java and extent it with Application and add put this code in the OnCreate sections</p>\n\n<pre><code>public class Firebasedata extends Application {\n    @Override\n    public void onCreate() {\n        FirebaseDatabase.getInstance().setPersistenceEnabled(true);\n        super.onCreate();\n    }\n}\n</code></pre>\n\n<p>declare the java class in the manifests</p>\n\n<pre><code> &lt;application\n        android:name=\".Firebasedata\"  &lt;------\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n     ...\n     ...\n    &lt;/application&gt;\n</code></pre>\n\n<p>Then go back to the class where you want to get the data and create a dialog with this code</p>\n\n<pre><code>    ProgressDialog TempDialog;\n    CountDownTimer mCountDownTimer;\n    int i=0;\n\n        TempDialog = new ProgressDialog(MainActivity.this);\n        TempDialog.setMessage(\"Please wait...\");\n        TempDialog.setCancelable(false);\n        TempDialog.setProgress(i);\n        TempDialog.setProgressStyle(ProgressDialog.STYLE_SPINNER);\n        TempDialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.GRAY));\n\n TempDialog.show();\n        mCountDownTimer = new CountDownTimer(2000, 1000)\n        {\n            public void onTick(long millisUntilFinished)\n            {\n                TempDialog.setMessage(\"Please wait..\");\n            }\n\n            public void onFinish()\n            {\n                TempDialog.dismiss();\n                //Your action like intents are placed here\n\n            }\n        }.start();\n</code></pre>\n\n<p>You can look into the link above and get a better idea</p>\n"},{"tags":[],"owner":{"account_id":18507669,"reputation":89,"user_id":13483631,"display_name":"Aayush Mathur"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1595697202,"creation_date":1595697202,"answer_id":63091213,"question_id":30659569,"body_markdown":"Firebase usually takes about 1-2 seconds to load the data.\r\n\r\nSo keeping that in mind you can add a new thread using Handler, to make the system wait for say, 2 Seconds and then use the value retrieved from the Database.\r\n\r\nTill then you can display a Loading Dialog box to the user which can be closed once the data is retrieved.\r\n\r\n     Handler handler = new Handler();\r\n            handler.postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    {\r\n                        loadingDialog.dismiss();//dismiss the dialog box once data is retreived\r\n                        Toast.makeText(Act_NewHome.this, &quot;Not enough players online right now!&quot;, Toast.LENGTH_SHORT).show();\r\n    tvUserName.setText(u_name);\r\n                    }\r\n                }\r\n            }, 2000);// 2000 milliseconds = 2seconds","title":"Wait until Firebase retrieves data","body":"<p>Firebase usually takes about 1-2 seconds to load the data.</p>\n<p>So keeping that in mind you can add a new thread using Handler, to make the system wait for say, 2 Seconds and then use the value retrieved from the Database.</p>\n<p>Till then you can display a Loading Dialog box to the user which can be closed once the data is retrieved.</p>\n<pre><code> Handler handler = new Handler();\n        handler.postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                {\n                    loadingDialog.dismiss();//dismiss the dialog box once data is retreived\n                    Toast.makeText(Act_NewHome.this, &quot;Not enough players online right now!&quot;, Toast.LENGTH_SHORT).show();\ntvUserName.setText(u_name);\n                }\n            }\n        }, 2000);// 2000 milliseconds = 2seconds\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18177545,"reputation":35,"user_id":13225987,"display_name":"Ajay Pawar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599804673,"creation_date":1599796906,"answer_id":63840619,"question_id":30659569,"body_markdown":"Add this code inside `onDataChange()` method                                        \r\n                    \r\n\r\n    do{\r\n        message = (String) dataSnapshot.getValue();\r\n        if(message.equals(null)) \r\n            break;\r\n    }while (!message.equals(null));\r\n\r\n                     \r\n","title":"Wait until Firebase retrieves data","body":"<p>Add this code inside <code>onDataChange()</code> method</p>\n<pre><code>do{\n    message = (String) dataSnapshot.getValue();\n    if(message.equals(null)) \n        break;\n}while (!message.equals(null));\n\n                 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":16146755,"reputation":614,"user_id":11656240,"display_name":"austinw"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1609635647,"creation_date":1609635647,"answer_id":65545695,"question_id":30659569,"body_markdown":"The topmost answer by @Joseph is almost correct! His answer is definitely the simplest and easiest to understand and implement, so I&#39;m going to piggyback off of his answer and correct one fatal flaw. \r\n\r\n**Step 1: Like he said above, using a simple callback interface would do the trick, like so:**\r\n\r\n```\r\npublic interface OnGetDataListener {\r\n    //this is for callbacks\r\n    void onSuccess(String dataSnapshotValue);\r\n}\r\n```\r\n**Step 2: Create a method that accepts an implementation of the interface as a parameter, and queries the Firebase Database.** This is where the original answerer&#39;s mistake was made... Instead of passing a DataSnapshot to the callback, you must pass the value of the snapshot.\r\n```\r\npublic void readData(Firebase ref, final OnGetDataListener listener) {\r\n\r\n    ref.addListenerForSingleValueEvent(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(DataSnapshot dataSnapshot) {\r\n\r\n            // This is how you use the value once it is loaded! Make sure to pass the\r\n            // value of the DataSnapshot object, not the object itself (this was the\r\n            // original answerer&#39;s mistake!\r\n            listener.onSuccess(dataSnapshot.getValue());\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(FirebaseError firebaseError) {}\r\n    });\r\n}\r\n```\r\n**Step 3: Call the above function and pass an implementation of the callback interface that handles the data after it is loaded.**\r\n```\r\nreadData(root.child(&quot;MessagesOnLaunch&quot;).child(&quot;Message&quot;), new OnGetDataListener() {\r\n                @Override\r\n                public void onSuccess(String dataSnapshotValue) {\r\n\r\n                // This is where you can handle the snapshot&#39;s value! (log it, add it \r\n                // to a list, etc.)\r\n\r\n                }\r\n            });\r\n```","title":"Wait until Firebase retrieves data","body":"<p>The topmost answer by @Joseph is almost correct! His answer is definitely the simplest and easiest to understand and implement, so I'm going to piggyback off of his answer and correct one fatal flaw.</p>\n<p><strong>Step 1: Like he said above, using a simple callback interface would do the trick, like so:</strong></p>\n<pre><code>public interface OnGetDataListener {\n    //this is for callbacks\n    void onSuccess(String dataSnapshotValue);\n}\n</code></pre>\n<p><strong>Step 2: Create a method that accepts an implementation of the interface as a parameter, and queries the Firebase Database.</strong> This is where the original answerer's mistake was made... Instead of passing a DataSnapshot to the callback, you must pass the value of the snapshot.</p>\n<pre><code>public void readData(Firebase ref, final OnGetDataListener listener) {\n\n    ref.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(DataSnapshot dataSnapshot) {\n\n            // This is how you use the value once it is loaded! Make sure to pass the\n            // value of the DataSnapshot object, not the object itself (this was the\n            // original answerer's mistake!\n            listener.onSuccess(dataSnapshot.getValue());\n        }\n\n        @Override\n        public void onCancelled(FirebaseError firebaseError) {}\n    });\n}\n</code></pre>\n<p><strong>Step 3: Call the above function and pass an implementation of the callback interface that handles the data after it is loaded.</strong></p>\n<pre><code>readData(root.child(&quot;MessagesOnLaunch&quot;).child(&quot;Message&quot;), new OnGetDataListener() {\n                @Override\n                public void onSuccess(String dataSnapshotValue) {\n\n                // This is where you can handle the snapshot's value! (log it, add it \n                // to a list, etc.)\n\n                }\n            });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10528158,"reputation":334,"user_id":7758485,"display_name":"DiLDoST"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616179317,"creation_date":1616103782,"answer_id":66699546,"question_id":30659569,"body_markdown":"After a long research, i couldn&#39;t find it so i did it my way. It can be done like this. But this code is not safe on main thread because it **waits** until the data retrives. So it has much load if you use it on **Main Thread** . I added the **WorkerThread Annotation** to tell that it shouldnt be used in **UIThread** , another *new *Thread** is safe. I tested and it&#39;s working on *new *Thread** but not on *Main Thread*\r\n\r\n***Class***\r\n\r\n\tpublic static class DBUtils{\r\n\t\tprivate boolean fetched;\r\n\t\tprivate DataSnapshot result;\r\n\t\tprivate DatabaseReference dbr;\r\n\t\tprivate DatabaseException err;\r\n\t\t\r\n\t\tprivate DBUtils(DatabaseReference dbr){\r\n\t\t\tthis.dbr=dbr;\r\n\t\t}\r\n\t\t\r\n\t\tprivate DataSnapshot fetch(boolean error){\r\n\t\t\tresult=null;\r\n\t\t\tif(dbr!=null){\r\n\t\t\t\tfetched=false;\r\n\t\t\t\tdbr.addListenerForSingleValueEvent(new ValueEventListener(){\r\n\r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tpublic void onDataChange(DataSnapshot data)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tresult=data;\r\n\t\t\t\t\t\t\tdone();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tpublic void onCancelled(DatabaseError e)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\terr=e.toException();\r\n\t\t\t\t\t\t\tdone();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tprivate void done()\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tfetched=true;\r\n\t\t\t\t\t\t\t//dbr.removeEventListener(this);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\tfetched=true;\r\n\t\t\t}\r\n\t\t\twhile(!fetched){\r\n\t\t\t\t// wait\r\n\t\t\t}\r\n\t\t\tif(error&amp;&amp;err!=null){\r\n\t\t\t\tthrow err;\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\t\r\n\t\t@WorkerThread\r\n\t\tpublic static @Nullable DataSnapshot getRealtimeValue(@NonNull DatabaseReference ref)\r\n\t\t{\r\n\t\t\treturn getRealtimeValue(ref,false);\r\n\t\t}\r\n\t\t\r\n\t\t@WorkerThread\r\n\t\tpublic static @Nullable DataSnapshot getRealtimeValue(@NonNull DatabaseReference ref, boolean throwError) throws DatabaseException\r\n\t\t{\r\n\t\t\treturn new DBUtils(ref).fetch(throwError);\r\n\t\t}\r\n\t}\r\n\r\n***To use***\r\n\r\n\t...\r\n\tDatabaseReference ref = ...: // Your ref goes here\r\n\tboolean throwError = false; // if true, the code will throw the error occurred during data fetching, else if false, it will just skip it and return null\r\n\tDataSnapshot result = DBUtils.getRealtimeValue(ref, throwError);\r\n\t...\r\n\r\n*Don&#39;t forget to upvote me, &#39;cause i barely need votes to help others more. And also mark this as Solved if this is what you want*\r\n\r\n*** DiLDoST***","title":"Wait until Firebase retrieves data","body":"<p>After a long research, i couldn't find it so i did it my way. It can be done like this. But this code is not safe on main thread because it <strong>waits</strong> until the data retrives. So it has much load if you use it on <strong>Main Thread</strong> . I added the <strong>WorkerThread Annotation</strong> to tell that it shouldnt be used in <strong>UIThread</strong> , another <em>new <em>Thread</em></em> is safe. I tested and it's working on <em>new <em>Thread</em></em> but not on <em>Main Thread</em></p>\n<p><em><strong>Class</strong></em></p>\n<pre><code>public static class DBUtils{\n    private boolean fetched;\n    private DataSnapshot result;\n    private DatabaseReference dbr;\n    private DatabaseException err;\n    \n    private DBUtils(DatabaseReference dbr){\n        this.dbr=dbr;\n    }\n    \n    private DataSnapshot fetch(boolean error){\n        result=null;\n        if(dbr!=null){\n            fetched=false;\n            dbr.addListenerForSingleValueEvent(new ValueEventListener(){\n\n                    @Override\n                    public void onDataChange(DataSnapshot data)\n                    {\n                        result=data;\n                        done();\n                    }\n\n                    @Override\n                    public void onCancelled(DatabaseError e)\n                    {\n                        err=e.toException();\n                        done();\n                    }\n\n                    private void done()\n                    {\n                        fetched=true;\n                        //dbr.removeEventListener(this);\n                    }\n                });\n        }else{\n            fetched=true;\n        }\n        while(!fetched){\n            // wait\n        }\n        if(error&amp;&amp;err!=null){\n            throw err;\n        }\n        return result;\n    }\n    \n    @WorkerThread\n    public static @Nullable DataSnapshot getRealtimeValue(@NonNull DatabaseReference ref)\n    {\n        return getRealtimeValue(ref,false);\n    }\n    \n    @WorkerThread\n    public static @Nullable DataSnapshot getRealtimeValue(@NonNull DatabaseReference ref, boolean throwError) throws DatabaseException\n    {\n        return new DBUtils(ref).fetch(throwError);\n    }\n}\n</code></pre>\n<p><em><strong>To use</strong></em></p>\n<pre><code>...\nDatabaseReference ref = ...: // Your ref goes here\nboolean throwError = false; // if true, the code will throw the error occurred during data fetching, else if false, it will just skip it and return null\nDataSnapshot result = DBUtils.getRealtimeValue(ref, throwError);\n...\n</code></pre>\n<p><em>Don't forget to upvote me, 'cause i barely need votes to help others more. And also mark this as Solved if this is what you want</em></p>\n<p><em><strong> DiLDoST</strong></em></p>\n"}],"owner":{"account_id":5499254,"reputation":1074,"user_id":4369107,"accept_rate":20,"display_name":"ben"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38721,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"closed_date":1638714504,"answer_count":11,"score":27,"last_activity_date":1678192227,"creation_date":1433485004,"question_id":30659569,"body_markdown":"I want to build a method that returns a `child` value in Firebase. I tried to do something like this:\r\n\r\n    public String getMessage(){\r\n\r\n        root.child(&quot;MessagesOnLaunch&quot;).child(&quot;Message&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                message = (String) dataSnapshot.getValue();\r\n                Log.i(&quot;4r398&quot;, &quot;work&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(FirebaseError firebaseError) {\r\n                Log.e(&quot;error&quot;, firebaseError.getMessage());\r\n            }\r\n        });\r\n        return message;\r\n    }\r\n\r\nThe problem is that the method returns `null`. That is probably because the method doesn&#39;t wait until the listener finishes and return `null` because it&#39;s the default value of `message`.\r\n\r\nHow can I make this method wait until the listener occurs **and then return the value**?\r\n\r\n","title":"Wait until Firebase retrieves data","body":"<p>I want to build a method that returns a <code>child</code> value in Firebase. I tried to do something like this:</p>\n<pre><code>public String getMessage(){\n\n    root.child(&quot;MessagesOnLaunch&quot;).child(&quot;Message&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(DataSnapshot dataSnapshot) {\n            message = (String) dataSnapshot.getValue();\n            Log.i(&quot;4r398&quot;, &quot;work&quot;);\n        }\n\n        @Override\n        public void onCancelled(FirebaseError firebaseError) {\n            Log.e(&quot;error&quot;, firebaseError.getMessage());\n        }\n    });\n    return message;\n}\n</code></pre>\n<p>The problem is that the method returns <code>null</code>. That is probably because the method doesn't wait until the listener finishes and return <code>null</code> because it's the default value of <code>message</code>.</p>\n<p>How can I make this method wait until the listener occurs <strong>and then return the value</strong>?</p>\n"},{"tags":["java","class","oop","package"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1677779517,"post_id":75618952,"comment_id":133409543,"body_markdown":"How does your project structure look?","body":"How does your project structure look?"},{"owner":{"account_id":27920538,"reputation":1,"user_id":21320809,"display_name":"Ahswamedh"},"score":0,"creation_date":1677853462,"post_id":75618952,"comment_id":133424405,"body_markdown":"Both java and class files are in the same package","body":"Both java and class files are in the same package"}],"answers":[{"tags":[],"owner":{"account_id":153280,"reputation":2419,"user_id":368416,"accept_rate":58,"display_name":"singhspk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677790815,"creation_date":1677790815,"answer_id":75620772,"question_id":75618952,"body_markdown":"since you compiled Circle.java already and it&#39;s in the package circleClass, for other classes using the circleClass.Circle class, during compilation they&#39;ll try and find classes in the folder you&#39;re compiling from. \r\n\r\nTo compile you have two options.\r\n1. Compile both classes together. From the folder circleClass, you can run ```javac *.java```\r\n2. Or if you already have the Circle class compiled, make sure you have the  folder circleDemo in classpath before compiling circleDemo. \r\n```javac -cp ../ circleDemo.java```","title":"Java- Cannot find symbol of a class defined in another file but belonging to the same package","body":"<p>since you compiled Circle.java already and it's in the package circleClass, for other classes using the circleClass.Circle class, during compilation they'll try and find classes in the folder you're compiling from.</p>\n<p>To compile you have two options.</p>\n<ol>\n<li>Compile both classes together. From the folder circleClass, you can run <code>javac *.java</code></li>\n<li>Or if you already have the Circle class compiled, make sure you have the  folder circleDemo in classpath before compiling circleDemo.\n<code>javac -cp ../ circleDemo.java</code></li>\n</ol>\n"}],"owner":{"account_id":27920538,"reputation":1,"user_id":21320809,"display_name":"Ahswamedh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678192191,"creation_date":1677778387,"question_id":75618952,"body_markdown":"So I am currently learning OOP in java. I created a java package called circleClass and made two java class files. The Circle.java contains the Circle class and circleDemo.java is trying to create a Circle object.\r\n\r\nCircle File\r\n\r\n```\r\npackage circleClass;\r\n\r\npublic class Circle {\r\n\tdouble radius = 1.0;\r\n\tString color = &quot;blue&quot;;\r\n\r\n\tCircle(){\r\n\t\tthis.radius = 1;\r\n\t\tthis.color = &quot;blue&quot;;\r\n\t}\r\n\r\n\tCircle(double radius) {\r\n\t\tthis.radius = radius;\r\n\t}\r\n\r\n\tdouble getRadius() {\r\n\t\treturn this.radius;\r\n\t}\r\n\r\n\tdouble getArea() {\r\n\t\treturn this.radius * this.radius * 3.14;\r\n\t}\r\n}\r\n\r\n```\r\n\r\ncircleDemo File\r\n\r\n```\r\npackage circleClass;\r\npublic class circleDemo {\r\n\tpublic static void main(String[] args) {\r\n\t\tCircle c1 = new Circle();\r\n\t\tSystem.out.println(&quot;The area of the circle c1 is = &quot; + c1.getArea());\r\n\t\tCircle c2 = new Circle(10);\r\n\t\tSystem.out.println(&quot;The area of the circle c2 is = &quot; + c2.getArea());\r\n\t\tCircle c3 = new Circle(20);\r\n\t\tSystem.out.println(&quot;The area of the circle c3 is = &quot; + c3.getArea());\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nHowever whenever I try to compile circleDemo.java, it gives the following error:\r\n```\r\ncircleDemo.java:5: error: cannot find symbol\r\n                Circle c1 = new Circle();\r\n                ^\r\n  symbol:   class Circle\r\n  location: class circleDemo\r\ncircleDemo.java:5: error: cannot find symbol\r\n                Circle c1 = new Circle();\r\n                                ^\r\n  symbol:   class Circle\r\n  location: class circleDemo\r\n```\r\n\r\n\r\nThe Circle.java file is already compiled and created a Circle.class file. Also, do I need to import the file if they belong to the same package or not?\r\n\r\nI tried making all the constructors and methods in the Circle class public but it did not have any effect. I tried importing the Circle class but it just showed the the import statement is never used.\r\n\r\nPlease help. I am new to the field and am using VS Code.\r\n\r\nEdit:\r\nI found the above error only occurred when I use the run code option of code editor. But if I use run java or debug java from Java Debugger extension, it runs perfectly. Why does that happen? Is it a java thing or a VS Code thing?","title":"Java- Cannot find symbol of a class defined in another file but belonging to the same package","body":"<p>So I am currently learning OOP in java. I created a java package called circleClass and made two java class files. The Circle.java contains the Circle class and circleDemo.java is trying to create a Circle object.</p>\n<p>Circle File</p>\n<pre><code>package circleClass;\n\npublic class Circle {\n    double radius = 1.0;\n    String color = &quot;blue&quot;;\n\n    Circle(){\n        this.radius = 1;\n        this.color = &quot;blue&quot;;\n    }\n\n    Circle(double radius) {\n        this.radius = radius;\n    }\n\n    double getRadius() {\n        return this.radius;\n    }\n\n    double getArea() {\n        return this.radius * this.radius * 3.14;\n    }\n}\n\n</code></pre>\n<p>circleDemo File</p>\n<pre><code>package circleClass;\npublic class circleDemo {\n    public static void main(String[] args) {\n        Circle c1 = new Circle();\n        System.out.println(&quot;The area of the circle c1 is = &quot; + c1.getArea());\n        Circle c2 = new Circle(10);\n        System.out.println(&quot;The area of the circle c2 is = &quot; + c2.getArea());\n        Circle c3 = new Circle(20);\n        System.out.println(&quot;The area of the circle c3 is = &quot; + c3.getArea());\n    }\n}\n</code></pre>\n<p>However whenever I try to compile circleDemo.java, it gives the following error:</p>\n<pre><code>circleDemo.java:5: error: cannot find symbol\n                Circle c1 = new Circle();\n                ^\n  symbol:   class Circle\n  location: class circleDemo\ncircleDemo.java:5: error: cannot find symbol\n                Circle c1 = new Circle();\n                                ^\n  symbol:   class Circle\n  location: class circleDemo\n</code></pre>\n<p>The Circle.java file is already compiled and created a Circle.class file. Also, do I need to import the file if they belong to the same package or not?</p>\n<p>I tried making all the constructors and methods in the Circle class public but it did not have any effect. I tried importing the Circle class but it just showed the the import statement is never used.</p>\n<p>Please help. I am new to the field and am using VS Code.</p>\n<p>Edit:\nI found the above error only occurred when I use the run code option of code editor. But if I use run java or debug java from Java Debugger extension, it runs perfectly. Why does that happen? Is it a java thing or a VS Code thing?</p>\n"},{"tags":["java","for-loop","multidimensional-array"],"comments":[{"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"score":0,"creation_date":1386321259,"post_id":20420065,"comment_id":30498488,"body_markdown":"Format your out put as we can see","body":"Format your out put as we can see"},{"owner":{"account_id":455917,"reputation":6566,"user_id":854386,"accept_rate":86,"display_name":"Andrey"},"score":1,"creation_date":1386321474,"post_id":20420065,"comment_id":30498596,"body_markdown":"Have you tried to solve it yourself? What particular difficulties you are facing? Is it your homework?","body":"Have you tried to solve it yourself? What particular difficulties you are facing? Is it your homework?"}],"answers":[{"comments":[{"owner":{"account_id":9076392,"reputation":123,"user_id":6757825,"display_name":"Vivek"},"score":0,"creation_date":1579092229,"post_id":20420359,"comment_id":105649689,"body_markdown":"you really changed my approach of looking at the problem! Writing the indexes down makes it very easy to come up with the solution","body":"you really changed my approach of looking at the problem! Writing the indexes down makes it very easy to come up with the solution"}],"tags":[],"owner":{"account_id":2226433,"reputation":5566,"user_id":1965084,"accept_rate":97,"display_name":"alex"},"comment_count":1,"down_vote_count":6,"up_vote_count":10,"is_accepted":false,"score":4,"last_activity_date":1386322167,"creation_date":1386322167,"answer_id":20420359,"question_id":20420065,"body_markdown":"Just help yourself, have a look at the indices you need to loop through:\r\n\r\n    #1 (0,0)               -&gt; a\r\n    #2 (1,0)  (0,1)        -&gt; bd\r\n    #3 (2,0)  (1,1)  (0,2) -&gt; gec\r\n    #4 (2,1)  (1,2)        -&gt; hf\r\n    #5 (2,2)               -&gt; i\r\n\r\nLook at the change of the indices in each iteration and create your algorithm. Not so difficult, so do your homework yourself ;)","title":"Loop diagonally through two dimensional array","body":"<p>Just help yourself, have a look at the indices you need to loop through:</p>\n\n<pre><code>#1 (0,0)               -&gt; a\n#2 (1,0)  (0,1)        -&gt; bd\n#3 (2,0)  (1,1)  (0,2) -&gt; gec\n#4 (2,1)  (1,2)        -&gt; hf\n#5 (2,2)               -&gt; i\n</code></pre>\n\n<p>Look at the change of the indices in each iteration and create your algorithm. Not so difficult, so do your homework yourself ;)</p>\n"},{"tags":[],"owner":{"account_id":3554556,"reputation":1334,"user_id":2968614,"display_name":"Aditya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509594079,"creation_date":1386325720,"answer_id":20421596,"question_id":20420065,"body_markdown":"Here is the code:\r\n\r\n    public void loopDiag(String [][] b) {\r\n    \r\n    \t\tboolean isPrinted  = false;\r\n    \t\tfor (int i = 0 ; i &lt; b.length ; i++) {\r\n    \t\t\tString temp=&quot;&quot;;\r\n    \t\t\tint x=i;\r\n    \t\t\tfor(int j = 0 ; j &lt; b.length ; j++) {\r\n    \t\t\t\tint y = j;\r\n    \t\t\t\twhile (x &gt;= 0 &amp;&amp; y &lt; b.length) {\r\n    \t\t\t\t\tisPrinted = false;\r\n    \t\t\t\t\ttemp+=b[x--][y++];\t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\tif(!isPrinted) {\r\n    \t\t\t\t\tSystem.out.println(temp);\r\n    \t\t\t\t\tisPrinted = true;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}","title":"Loop diagonally through two dimensional array","body":"<p>Here is the code:</p>\n\n<pre><code>public void loopDiag(String [][] b) {\n\n        boolean isPrinted  = false;\n        for (int i = 0 ; i &lt; b.length ; i++) {\n            String temp=\"\";\n            int x=i;\n            for(int j = 0 ; j &lt; b.length ; j++) {\n                int y = j;\n                while (x &gt;= 0 &amp;&amp; y &lt; b.length) {\n                    isPrinted = false;\n                    temp+=b[x--][y++];                  \n                }\n                if(!isPrinted) {\n                    System.out.println(temp);\n                    isPrinted = true;\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":315980,"reputation":10348,"user_id":631911,"display_name":"Tatarize"},"score":1,"creation_date":1424244052,"post_id":20422854,"comment_id":45464681,"body_markdown":"Yeah, but what would you do if you had an matrix where height != width. I don&#39;t actually see the requirement in the original except that his code implies it, but his code implies you should loop arrays with i and j rather than j and k. So whatever.","body":"Yeah, but what would you do if you had an matrix where height != width. I don&#39;t actually see the requirement in the original except that his code implies it, but his code implies you should loop arrays with i and j rather than j and k. So whatever."},{"owner":{"account_id":423159,"reputation":1950,"user_id":802378,"display_name":"krisdestruction"},"score":0,"creation_date":1444319048,"post_id":20422854,"comment_id":53863588,"body_markdown":"For variant 2, there are many extra cases. Changing `dim * 2` to `dim * 2 - 1` will resolve one of them.","body":"For variant 2, there are many extra cases. Changing <code>dim * 2</code> to <code>dim * 2 - 1</code> will resolve one of them."},{"owner":{"display_name":"user5698345"},"score":1,"creation_date":1537944803,"post_id":20422854,"comment_id":91963071,"body_markdown":"It is possible for rectangle?","body":"It is possible for rectangle?"},{"owner":{"account_id":1726656,"reputation":5599,"user_id":1581160,"accept_rate":62,"display_name":"Nicolai"},"score":0,"creation_date":1537963519,"post_id":20422854,"comment_id":91974117,"body_markdown":"@Tatarize, @&quot; &quot;, Please, see my update for rectangular matrix, i.e. height != width","body":"@Tatarize, @&quot; &quot;, Please, see my update for rectangular matrix, i.e. height != width"},{"owner":{"account_id":12395830,"reputation":2168,"user_id":9035706,"display_name":"Eerik Sven Puudist"},"score":0,"creation_date":1606785441,"post_id":20422854,"comment_id":115061953,"body_markdown":"Works perfectly! @user243872 what about marking the answer as accepted?","body":"Works perfectly! @user243872 what about marking the answer as accepted?"},{"owner":{"account_id":17066984,"reputation":89,"user_id":12348862,"display_name":"Laura Galera"},"score":0,"creation_date":1621551216,"post_id":20422854,"comment_id":119537650,"body_markdown":"I would like to do the same but the opposite diagonal. Any idea about how changing this could work?","body":"I would like to do the same but the opposite diagonal. Any idea about how changing this could work?"}],"tags":[],"owner":{"account_id":1726656,"reputation":5599,"user_id":1581160,"accept_rate":62,"display_name":"Nicolai"},"comment_count":6,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1678191897,"creation_date":1386329647,"answer_id":20422854,"question_id":20420065,"body_markdown":"Initialize array only for test purpose:\r\n```java\r\nint dim = 5;\r\nchar ch = &#39;A&#39;;\r\nString[][] array = new String[dim][];\r\nfor( int i = 0 ; i &lt; dim ; i++ ) {\r\n\tarray[i] = new String[dim];\r\n\tfor( int j = 0 ; j &lt; dim ; j++, ch++ ) {\r\n\t\tarray[i][j] = &quot;&quot; + ch;\r\n\t}\r\n}\r\n```\r\nOutput our matrix:\r\n```java\r\nfor( int i = 0 ; i &lt; dim ; i++ ) {\r\n\tfor( int j = 0 ; j &lt; dim ; j++, ch++ ) {\r\n\t\tSystem.out.print( array[i][j] + &quot; &quot; );\r\n\t}\r\n\tSystem.out.println();\r\n}\r\nSystem.out.println( &quot;============================&quot; );\r\n```\r\n## Solution\r\n\r\nElement indexes from diagonals have one rule - their sum is constant on one diagonal:\r\n\r\n### Variant 1\r\n\r\nUse two loops to extract all diagonals.\r\n\r\nFirst loop extracts top half of diagonals:\r\n```java\r\nfor( int k = 0 ; k &lt; dim ; k++ ) {\r\n\tfor( int j = 0 ; j &lt;= k ; j++ ) {\r\n\t\tint i = k - j;\r\n\t\tSystem.out.print( array[i][j] + &quot; &quot; );\r\n\t}\r\n\tSystem.out.println();\r\n}\r\n```\r\nSecond loop iterates on bottom half of diagonals: \r\n```java\r\nfor( int k = dim - 2 ; k &gt;= 0 ; k-- ) {\r\n\tfor( int j = 0 ; j &lt;= k ; j++ ) {\r\n\t\tint i = k - j;\r\n\t\tSystem.out.print( array[dim - j - 1][dim - i - 1] + &quot; &quot; );\r\n\t}\r\n\tSystem.out.println();\r\n}\r\n```\r\n### Variant 2\r\n\r\nUse one loop to extract all diagonals, but there are **extra iterations** and **one additional check**:\r\n```java\r\nfor( int k = 0 ; k &lt; dim * 2 ; k++ ) {\r\n\tfor( int j = 0 ; j &lt;= k ; j++ ) {\r\n\t\tint i = k - j;\r\n\t\tif( i &lt; dim &amp;&amp; j &lt; dim ) {\r\n\t\t\tSystem.out.print( array[i][j] + &quot; &quot; );\r\n\t\t}\r\n\t}\r\n\tSystem.out.println();\r\n}\r\n```\r\nThe output:\r\n```\r\nA B C D E \r\nF G H I J \r\nK L M N O \r\nP Q R S T \r\nU V W X Y \r\n============================\r\nA \r\nF B \r\nK G C \r\nP L H D \r\nU Q M I E \r\nV R N J \r\nW S O \r\nX T \r\nY \r\n```\r\n# Update\r\n\r\nThere are questions about rectangular matrix (*height* != *width*) in comments. Here is solution for rectangular matrix:\r\n\r\nThe rule remains the same: *Sum of element indexes from the same diagonal is constant*\r\n\r\nThe minimum sum of indexes is **0** (for first element in matrix with indexes [0;0])\r\n\r\nThe maximum sum of indexes is **width + height - 2** (for last element in matrix with indexes [height-1; with-1])\r\n\r\nInitialize rectangular matrix only for test purpose:\r\n```java\r\nint WIDTH = 7;\r\nint HEIGHT = 3;\r\nchar ch = &#39;A&#39;;\r\nString[][] array = new String[HEIGHT][];\r\nfor( int i = 0 ; i &lt; HEIGHT ; i++ ) {\r\n    array[i] = new String[WIDTH];\r\n    for( int j = 0 ; j &lt; WIDTH ; j++, ch++ ) {\r\n        array[i][j] = &quot;&quot; + ch;\r\n    }\r\n}\r\n```\r\nPrint our rectangular matrix:\r\n```java\r\nfor( int i = 0 ; i &lt; HEIGHT ; i++ ) {\r\n    for( int j = 0 ; j &lt; WIDTH ; j++, ch++ ) {\r\n        System.out.print( array[i][j] + &quot; &quot; );\r\n    }\r\n    System.out.println();\r\n}\r\nSystem.out.println( &quot;============================&quot; );\r\n```\r\n### Solution\r\n```java\r\nfor( int k = 0 ; k &lt;= WIDTH + HEIGHT - 2; k++ ) {\r\n    for( int j = 0 ; j &lt;= k ; j++ ) {\r\n        int i = k - j;\r\n        if( i &lt; HEIGHT &amp;&amp; j &lt; WIDTH ) {\r\n            System.out.print( array[i][j] + &quot; &quot; );\r\n        }\r\n    }\r\n    System.out.println();\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\nA B C D E F G \r\nH I J K L M N \r\nO P Q R S T U \r\n============================\r\nA \r\nH B \r\nO I C \r\nP J D \r\nQ K E \r\nR L F \r\nS M G \r\nT N \r\nU \r\n```","title":"Loop diagonally through two dimensional array","body":"<p>Initialize array only for test purpose:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int dim = 5;\nchar ch = 'A';\nString[][] array = new String[dim][];\nfor( int i = 0 ; i &lt; dim ; i++ ) {\n    array[i] = new String[dim];\n    for( int j = 0 ; j &lt; dim ; j++, ch++ ) {\n        array[i][j] = &quot;&quot; + ch;\n    }\n}\n</code></pre>\n<p>Output our matrix:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for( int i = 0 ; i &lt; dim ; i++ ) {\n    for( int j = 0 ; j &lt; dim ; j++, ch++ ) {\n        System.out.print( array[i][j] + &quot; &quot; );\n    }\n    System.out.println();\n}\nSystem.out.println( &quot;============================&quot; );\n</code></pre>\n<h2>Solution</h2>\n<p>Element indexes from diagonals have one rule - their sum is constant on one diagonal:</p>\n<h3>Variant 1</h3>\n<p>Use two loops to extract all diagonals.</p>\n<p>First loop extracts top half of diagonals:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for( int k = 0 ; k &lt; dim ; k++ ) {\n    for( int j = 0 ; j &lt;= k ; j++ ) {\n        int i = k - j;\n        System.out.print( array[i][j] + &quot; &quot; );\n    }\n    System.out.println();\n}\n</code></pre>\n<p>Second loop iterates on bottom half of diagonals:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for( int k = dim - 2 ; k &gt;= 0 ; k-- ) {\n    for( int j = 0 ; j &lt;= k ; j++ ) {\n        int i = k - j;\n        System.out.print( array[dim - j - 1][dim - i - 1] + &quot; &quot; );\n    }\n    System.out.println();\n}\n</code></pre>\n<h3>Variant 2</h3>\n<p>Use one loop to extract all diagonals, but there are <strong>extra iterations</strong> and <strong>one additional check</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for( int k = 0 ; k &lt; dim * 2 ; k++ ) {\n    for( int j = 0 ; j &lt;= k ; j++ ) {\n        int i = k - j;\n        if( i &lt; dim &amp;&amp; j &lt; dim ) {\n            System.out.print( array[i][j] + &quot; &quot; );\n        }\n    }\n    System.out.println();\n}\n</code></pre>\n<p>The output:</p>\n<pre><code>A B C D E \nF G H I J \nK L M N O \nP Q R S T \nU V W X Y \n============================\nA \nF B \nK G C \nP L H D \nU Q M I E \nV R N J \nW S O \nX T \nY \n</code></pre>\n<h1>Update</h1>\n<p>There are questions about rectangular matrix (<em>height</em> != <em>width</em>) in comments. Here is solution for rectangular matrix:</p>\n<p>The rule remains the same: <em>Sum of element indexes from the same diagonal is constant</em></p>\n<p>The minimum sum of indexes is <strong>0</strong> (for first element in matrix with indexes [0;0])</p>\n<p>The maximum sum of indexes is <strong>width + height - 2</strong> (for last element in matrix with indexes [height-1; with-1])</p>\n<p>Initialize rectangular matrix only for test purpose:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int WIDTH = 7;\nint HEIGHT = 3;\nchar ch = 'A';\nString[][] array = new String[HEIGHT][];\nfor( int i = 0 ; i &lt; HEIGHT ; i++ ) {\n    array[i] = new String[WIDTH];\n    for( int j = 0 ; j &lt; WIDTH ; j++, ch++ ) {\n        array[i][j] = &quot;&quot; + ch;\n    }\n}\n</code></pre>\n<p>Print our rectangular matrix:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for( int i = 0 ; i &lt; HEIGHT ; i++ ) {\n    for( int j = 0 ; j &lt; WIDTH ; j++, ch++ ) {\n        System.out.print( array[i][j] + &quot; &quot; );\n    }\n    System.out.println();\n}\nSystem.out.println( &quot;============================&quot; );\n</code></pre>\n<h3>Solution</h3>\n<pre class=\"lang-java prettyprint-override\"><code>for( int k = 0 ; k &lt;= WIDTH + HEIGHT - 2; k++ ) {\n    for( int j = 0 ; j &lt;= k ; j++ ) {\n        int i = k - j;\n        if( i &lt; HEIGHT &amp;&amp; j &lt; WIDTH ) {\n            System.out.print( array[i][j] + &quot; &quot; );\n        }\n    }\n    System.out.println();\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>A B C D E F G \nH I J K L M N \nO P Q R S T U \n============================\nA \nH B \nO I C \nP J D \nQ K E \nR L F \nS M G \nT N \nU \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1563248,"reputation":469,"user_id":1452622,"display_name":"AtlasMeh-ed"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1398988921,"creation_date":1398988921,"answer_id":23418712,"question_id":20420065,"body_markdown":"I wrote the following code. The key is to exhaust all of the diagonals that start at the top and then move onto the diagonals that start on the sides. I included a method that combines the two angles to traverse diagonals Northwest - Southeast and Northeast - Southwest and stand alone methods for traversing the respective angles.\r\n\r\n\r\n\tpublic static void main(String[] args){\r\n\t\tint[][] m = {{1,2,3},{4,5,6},{7,8,9},{10,11,12}};\r\n\t\tprintDiagonals(m, DiagonalDirection.NEtoSW, new DiagonalVisitor() {\t\t\r\n\t\t\tpublic void visit(int x, int y, int[][] m) {\r\n\t\t\t\tSystem.out.println(m[x][y]);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\tpublic enum DiagonalDirection{\r\n\t\tNWToSE,\r\n\t\tNEtoSW\r\n\t}\r\n\t\r\n\tprivate static abstract class DiagonalVisitor{\r\n\t\tpublic abstract void visit(int x, int y, int[][] m);\r\n\t}\r\n\t\r\n\tpublic static void printDiagonals(int[][] m, DiagonalDirection d, DiagonalVisitor visitor){\r\n\t\t\r\n\t\tint xStart = d==DiagonalDirection.NEtoSW ? 0 : m.length-1;\r\n\t\tint yStart = 1;\r\n\r\n\t\t\r\n\t\twhile(true){\r\n\t\t\tint xLoop, yLoop;\r\n\t\t\tif(xStart&gt;=0 &amp;&amp; xStart&lt;m.length){\r\n\t\t\t\txLoop = xStart;\r\n\t\t\t\tyLoop = 0;\r\n\t\t\t\txStart++;\r\n\t\t\t}else if(yStart&lt;m[0].length){\r\n\t\t\t\txLoop = d==DiagonalDirection.NEtoSW ? m.length-1 : 0;\r\n\t\t\t\tyLoop = yStart;\r\n\t\t\t\tyStart++;\r\n\t\t\t}else\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tfor(;(xLoop&lt;m.length &amp;&amp; xLoop&gt;=0)&amp;&amp;yLoop&lt;m[0].length; xLoop=d==DiagonalDirection.NEtoSW ? xLoop-1 : xLoop+1, yLoop++){\r\n\t\t\t\tvisitor.visit(xLoop, yLoop, m);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void printDiagonalsNEtoSW(int[][] m, DiagonalVisitor visitor){\r\n\t\t\r\n\t\tint xStart = 0;\r\n\t\tint yStart = 1;\r\n\r\n\t\t\r\n\t\twhile(true){\r\n\t\t\tint xLoop, yLoop;\r\n\t\t\tif(xStart&lt;m.length){\r\n\t\t\t\txLoop = xStart;\r\n\t\t\t\tyLoop = 0;\r\n\t\t\t\txStart++;\r\n\t\t\t}else if(yStart&lt;m[0].length){\r\n\t\t\t\txLoop = m.length-1;\r\n\t\t\t\tyLoop = yStart;\r\n\t\t\t\tyStart++;\r\n\t\t\t}else\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tfor(;xLoop&gt;=0 &amp;&amp; yLoop&lt;m[0].length; xLoop--, yLoop++){\r\n\t\t\t\tvisitor.visit(xLoop, yLoop, m);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void printDiagonalsNWtoSE(int[][] m, DiagonalVisitor visitor){\r\n\t\t\r\n\t\tint xStart = m.length-1;\r\n\t\tint yStart = 1;\r\n\r\n\t\t\r\n\t\twhile(true){\r\n\t\t\tint xLoop, yLoop;\r\n\t\t\tif(xStart&gt;=0){\r\n\t\t\t\txLoop = xStart;\r\n\t\t\t\tyLoop = 0;\r\n\t\t\t\txStart--;\r\n\t\t\t}else if(yStart&lt;m[0].length){\r\n\t\t\t\txLoop = 0;\r\n\t\t\t\tyLoop = yStart;\r\n\t\t\t\tyStart++;\r\n\t\t\t}else\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tfor(;xLoop&lt;m.length &amp;&amp; yLoop&lt;m[0].length; xLoop++, yLoop++){\r\n\t\t\t\tvisitor.visit(xLoop, yLoop, m);\r\n\t\t\t}\t\t\r\n\t\t}\r\n\t}\r\n\t","title":"Loop diagonally through two dimensional array","body":"<p>I wrote the following code. The key is to exhaust all of the diagonals that start at the top and then move onto the diagonals that start on the sides. I included a method that combines the two angles to traverse diagonals Northwest - Southeast and Northeast - Southwest and stand alone methods for traversing the respective angles.</p>\n\n<pre><code>public static void main(String[] args){\n    int[][] m = {{1,2,3},{4,5,6},{7,8,9},{10,11,12}};\n    printDiagonals(m, DiagonalDirection.NEtoSW, new DiagonalVisitor() {     \n        public void visit(int x, int y, int[][] m) {\n            System.out.println(m[x][y]);\n        }\n    });\n}\n\npublic enum DiagonalDirection{\n    NWToSE,\n    NEtoSW\n}\n\nprivate static abstract class DiagonalVisitor{\n    public abstract void visit(int x, int y, int[][] m);\n}\n\npublic static void printDiagonals(int[][] m, DiagonalDirection d, DiagonalVisitor visitor){\n\n    int xStart = d==DiagonalDirection.NEtoSW ? 0 : m.length-1;\n    int yStart = 1;\n\n\n    while(true){\n        int xLoop, yLoop;\n        if(xStart&gt;=0 &amp;&amp; xStart&lt;m.length){\n            xLoop = xStart;\n            yLoop = 0;\n            xStart++;\n        }else if(yStart&lt;m[0].length){\n            xLoop = d==DiagonalDirection.NEtoSW ? m.length-1 : 0;\n            yLoop = yStart;\n            yStart++;\n        }else\n            break;\n\n        for(;(xLoop&lt;m.length &amp;&amp; xLoop&gt;=0)&amp;&amp;yLoop&lt;m[0].length; xLoop=d==DiagonalDirection.NEtoSW ? xLoop-1 : xLoop+1, yLoop++){\n            visitor.visit(xLoop, yLoop, m);\n        }\n\n    }\n\n}\n\npublic static void printDiagonalsNEtoSW(int[][] m, DiagonalVisitor visitor){\n\n    int xStart = 0;\n    int yStart = 1;\n\n\n    while(true){\n        int xLoop, yLoop;\n        if(xStart&lt;m.length){\n            xLoop = xStart;\n            yLoop = 0;\n            xStart++;\n        }else if(yStart&lt;m[0].length){\n            xLoop = m.length-1;\n            yLoop = yStart;\n            yStart++;\n        }else\n            break;\n\n        for(;xLoop&gt;=0 &amp;&amp; yLoop&lt;m[0].length; xLoop--, yLoop++){\n            visitor.visit(xLoop, yLoop, m);\n        }\n\n\n    }\n}\n\npublic static void printDiagonalsNWtoSE(int[][] m, DiagonalVisitor visitor){\n\n    int xStart = m.length-1;\n    int yStart = 1;\n\n\n    while(true){\n        int xLoop, yLoop;\n        if(xStart&gt;=0){\n            xLoop = xStart;\n            yLoop = 0;\n            xStart--;\n        }else if(yStart&lt;m[0].length){\n            xLoop = 0;\n            yLoop = yStart;\n            yStart++;\n        }else\n            break;\n\n        for(;xLoop&lt;m.length &amp;&amp; yLoop&lt;m[0].length; xLoop++, yLoop++){\n            visitor.visit(xLoop, yLoop, m);\n        }       \n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":914346,"reputation":1030,"user_id":947488,"display_name":"Stefan Reich"},"score":0,"creation_date":1532172686,"post_id":33769730,"comment_id":89880632,"body_markdown":"That is perfect!","body":"That is perfect!"}],"tags":[],"owner":{"account_id":1538787,"reputation":3125,"user_id":1433996,"display_name":"Greg Whittier"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1447806580,"creation_date":1447806580,"answer_id":33769730,"question_id":20420065,"body_markdown":"This works for non-square arrays.  It&#39;s simple to understand, but calls min() and max() once per diagonal.\r\n\r\n    int ndiags = width +  height - 1;\r\n    System.out.println(&quot;---&quot;);\r\n    for (int diag = 0; diag &lt; ndiags; diag++) {\r\n        int row_stop = Math.max(0,  diag -  width + 1);\r\n        int row_start = Math.min(diag, height - 1);\r\n        for (int row = row_start; row &gt;= row_stop; row--) {\r\n            // on a given diagonal row + col = constant &quot;diag&quot;\r\n            // diag labels the diagonal number\r\n            int col = diag - row;\r\n            System.out.println(col + &quot;,&quot; + row);\r\n            relax(col, row);\r\n        }\r\n        System.out.println(&quot;---&quot;);\r\n    }\r\n\r\nHere&#39;s output for width=3, height=3\r\n\r\n    ---\r\n    0,0\r\n    ---\r\n    0,1\r\n    1,0\r\n    ---\r\n    0,2\r\n    1,1\r\n    2,0\r\n    ---\r\n    1,2\r\n    2,1\r\n    ---\r\n    2,2\r\n    ---\r\n\r\nwidth=3, height=2\r\n\r\n    ---\r\n    0,0\r\n    ---\r\n    0,1\r\n    1,0\r\n    ---\r\n    1,1\r\n    2,0\r\n    ---\r\n    2,1\r\n    ---\r\n\r\nwidth = 2, height = 3\r\n\r\n    ---\r\n    0,0\r\n    ---\r\n    0,1\r\n    1,0\r\n    ---\r\n    0,2\r\n    1,1\r\n    ---\r\n    1,2\r\n    ---","title":"Loop diagonally through two dimensional array","body":"<p>This works for non-square arrays.  It's simple to understand, but calls min() and max() once per diagonal.</p>\n\n<pre><code>int ndiags = width +  height - 1;\nSystem.out.println(\"---\");\nfor (int diag = 0; diag &lt; ndiags; diag++) {\n    int row_stop = Math.max(0,  diag -  width + 1);\n    int row_start = Math.min(diag, height - 1);\n    for (int row = row_start; row &gt;= row_stop; row--) {\n        // on a given diagonal row + col = constant \"diag\"\n        // diag labels the diagonal number\n        int col = diag - row;\n        System.out.println(col + \",\" + row);\n        relax(col, row);\n    }\n    System.out.println(\"---\");\n}\n</code></pre>\n\n<p>Here's output for width=3, height=3</p>\n\n<pre><code>---\n0,0\n---\n0,1\n1,0\n---\n0,2\n1,1\n2,0\n---\n1,2\n2,1\n---\n2,2\n---\n</code></pre>\n\n<p>width=3, height=2</p>\n\n<pre><code>---\n0,0\n---\n0,1\n1,0\n---\n1,1\n2,0\n---\n2,1\n---\n</code></pre>\n\n<p>width = 2, height = 3</p>\n\n<pre><code>---\n0,0\n---\n0,1\n1,0\n---\n0,2\n1,1\n---\n1,2\n---\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4253329,"reputation":563,"user_id":3482661,"display_name":"leoflower"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1452541490,"creation_date":1452541490,"answer_id":34729765,"question_id":20420065,"body_markdown":"As Alex mentioned here, you need to look into indices in the loop. \r\nThe following is how I approached this problem. \r\n\r\n    Input:         \r\n    a b c    ----- (0,0) (0,1) (0,2)\r\n    d e f    ----- (1,0) (1,1) (1,2)\r\n    g h i    ----- (2,0) (2,1) (2,2)\r\n   \r\n    Output:\r\n    a        ----- (0,0)\r\n    b d      ----- (0,1) (1,0)\r\n    c e g    ----- (0,2) (1,1) (2,0)\r\n    f h      ----- (1,2) (2,1)\r\n    i        ----- (2,2)\r\n    \r\n    public class PrintDiagonal{\r\n\r\n    \tpublic static void printDR(String[][] matrix, int rows, int cols){\r\n\t\t    for(int c=0; c &lt; cols; c++){\r\n\t\t\t    for(int i=0, j=c; i&lt; rows &amp;&amp; j&gt;=0;i++,j--){\r\n\t\t\t\t    System.out.print(matrix[i][j] +&quot; &quot;);\r\n\t\t\t     }\r\n\t\t\t     System.out.println();\r\n\t\t    }\r\n\r\n\t\t    for(int r =1; r &lt; rows; r++){\r\n\t\t\t    for(int i =r, j= cols -1; i&lt;rows &amp;&amp; j&gt;=0; i++,j--){\r\n\t\t\t\t    System.out.print(matrix[i][j] + &quot; &quot;);\r\n\t\t\t    }\r\n\t\t\t    System.out.println();\r\n\t\t    }\r\n        }\r\n    \tpublic static void main(String[] args){\r\n\t\t    String[][] matrix ={\r\n\t\t\t    {&quot;a&quot;,&quot;b&quot;,&quot;c&quot;},\r\n\t\t\t    {&quot;d&quot;,&quot;e&quot;,&quot;f&quot;},\r\n\t\t\t    {&quot;g&quot;,&quot;h&quot;,&quot;i&quot;}\r\n\t\t    };\r\n\r\n\t\t    int rows = matrix.length;\r\n\t\t    int columns = matrix[0].length;\t\r\n\t\t    printDR(matrix ,rows, columns);\r\n\t    }\r\n    }","title":"Loop diagonally through two dimensional array","body":"<p>As Alex mentioned here, you need to look into indices in the loop. \nThe following is how I approached this problem. </p>\n\n<pre><code>Input:         \na b c    ----- (0,0) (0,1) (0,2)\nd e f    ----- (1,0) (1,1) (1,2)\ng h i    ----- (2,0) (2,1) (2,2)\n\nOutput:\na        ----- (0,0)\nb d      ----- (0,1) (1,0)\nc e g    ----- (0,2) (1,1) (2,0)\nf h      ----- (1,2) (2,1)\ni        ----- (2,2)\n\npublic class PrintDiagonal{\n\n    public static void printDR(String[][] matrix, int rows, int cols){\n        for(int c=0; c &lt; cols; c++){\n            for(int i=0, j=c; i&lt; rows &amp;&amp; j&gt;=0;i++,j--){\n                System.out.print(matrix[i][j] +\" \");\n             }\n             System.out.println();\n        }\n\n        for(int r =1; r &lt; rows; r++){\n            for(int i =r, j= cols -1; i&lt;rows &amp;&amp; j&gt;=0; i++,j--){\n                System.out.print(matrix[i][j] + \" \");\n            }\n            System.out.println();\n        }\n    }\n    public static void main(String[] args){\n        String[][] matrix ={\n            {\"a\",\"b\",\"c\"},\n            {\"d\",\"e\",\"f\"},\n            {\"g\",\"h\",\"i\"}\n        };\n\n        int rows = matrix.length;\n        int columns = matrix[0].length; \n        printDR(matrix ,rows, columns);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3323515,"reputation":45,"user_id":3221481,"accept_rate":40,"display_name":"Twin"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1453753043,"creation_date":1453752667,"answer_id":35001427,"question_id":20420065,"body_markdown":"This is the same as what leoflower posted here. I&#39;ve just changed the variable names for better understanding.\r\n\r\nlevel = denotes the current level of the diagonal that is being printed. Ex:- level = 2 denotes diagonal elements with indices (0,2),(1,1),(2,0)\r\n\r\ncurrDiagRowIndex = denotes row index of the current diagonal being printed\r\n\r\ncurrDiagColIndex = denotes columnn index of the current diagonal being printed\r\n\r\n    void printMatrixDiagonal(int matrix[][], int endRowIndex, int endColIndex){\r\n\t\tfor(int level = 0; level &lt; endColIndex; level++){\r\n\t\t\tfor(int currDiagRowIndex = 0, currDiagColIndex = level; currDiagRowIndex &lt; endRowIndex &amp;&amp; currDiagColIndex &gt;= 0 ; currDiagRowIndex++, currDiagColIndex--){\r\n\t\t\t\tSystem.out.print(matrix[currDiagRowIndex][currDiagColIndex] + &quot;  &quot;);\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t\t\r\n\t\tfor(int level = 1; level &lt; endRowIndex; level++){\r\n\t\t\tfor(int currDiagRowIndex = level, currDiagColIndex = endColIndex-1; currDiagRowIndex &lt; endRowIndex &amp;&amp; currDiagColIndex &gt;= 0; currDiagRowIndex++, currDiagColIndex--){\r\n\t\t\t\tSystem.out.print(matrix[currDiagRowIndex][currDiagColIndex]+ &quot;  &quot;);\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t}\r\n\r\nInput:\r\n\r\n    1 2 3 4 5 \r\n    6 7 8 9 10\r\n    11 12 13 14 15\r\n    16 17 18 19 20\r\n    21 22 23 24 25\r\n\r\nOutput:\r\n\r\n    1  \r\n    2  6  \r\n    3  7  11  \r\n    4  8  12  16  \r\n    5  9  13  17  21  \r\n    10  14  18  22  \r\n    15  19  23  \r\n    20  24  \r\n    25  \r\n\r\n","title":"Loop diagonally through two dimensional array","body":"<p>This is the same as what leoflower posted here. I've just changed the variable names for better understanding.</p>\n\n<p>level = denotes the current level of the diagonal that is being printed. Ex:- level = 2 denotes diagonal elements with indices (0,2),(1,1),(2,0)</p>\n\n<p>currDiagRowIndex = denotes row index of the current diagonal being printed</p>\n\n<p>currDiagColIndex = denotes columnn index of the current diagonal being printed</p>\n\n<pre><code>void printMatrixDiagonal(int matrix[][], int endRowIndex, int endColIndex){\n    for(int level = 0; level &lt; endColIndex; level++){\n        for(int currDiagRowIndex = 0, currDiagColIndex = level; currDiagRowIndex &lt; endRowIndex &amp;&amp; currDiagColIndex &gt;= 0 ; currDiagRowIndex++, currDiagColIndex--){\n            System.out.print(matrix[currDiagRowIndex][currDiagColIndex] + \"  \");\n        }\n        System.out.println();\n    }\n\n    for(int level = 1; level &lt; endRowIndex; level++){\n        for(int currDiagRowIndex = level, currDiagColIndex = endColIndex-1; currDiagRowIndex &lt; endRowIndex &amp;&amp; currDiagColIndex &gt;= 0; currDiagRowIndex++, currDiagColIndex--){\n            System.out.print(matrix[currDiagRowIndex][currDiagColIndex]+ \"  \");\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n\n<p>Input:</p>\n\n<pre><code>1 2 3 4 5 \n6 7 8 9 10\n11 12 13 14 15\n16 17 18 19 20\n21 22 23 24 25\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1  \n2  6  \n3  7  11  \n4  8  12  16  \n5  9  13  17  21  \n10  14  18  22  \n15  19  23  \n20  24  \n25  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":222490,"reputation":417,"user_id":481125,"accept_rate":40,"display_name":"Big O"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1469604690,"creation_date":1468191085,"answer_id":38297135,"question_id":20420065,"body_markdown":"&gt; Solutions would be much easier if we break it down into 2 sub-problems:\r\n\r\n 1. Figure out the start of each diagonal.\r\n 2. Given the starting indices of a diagonal, print the diagonal.\r\n\r\n        public void printMatrixDiagonals(int[][] matrix) {\r\n\r\n        \tint c = 0;\r\n        \tint count = matrix.length + matrix[0].length -1;\r\n        \tint i = 0, j = 0;\r\n            //There can be at most  m + n -1 diagonals to be printed\r\n        \twhile (c &lt; count) {\r\n                //Start printing diagonals from i and j\r\n        \t\tprintDiagonal(i, j, matrix);\r\n        \t\tif (i &lt; matrix.length -1) {\r\n                    //We increment row index until we reach the max number of rows\r\n        \t\t\ti++;\r\n        \t\t} else if (j &lt; matrix[0].length - 1) {\r\n                    //We are at maximum index of row; so its time to increment col index\r\n                    //We increment column index until we reach the max number of columns\r\n        \t\t\tj++;\r\n        \t\t}\r\n        \t\tc++;\r\n        \t}\r\n        }\r\n\r\n\r\n&gt; Print Diagonal: Notice that every time we start printing each diagonal, the index of row should be decremented and the index of column should be incremented. So given the starting indices of each diagonal, we can print the diagonal as follows:\r\n\r\n\r\n\tprivate void printDiagonal(int i, int j, int[][] m) {\r\n\t\twhile (i &gt;=0 &amp;&amp; j&lt; m[0].length ) {\r\n\t\t\tSystem.out.print(m[i][j] + &quot; &quot;);\r\n\t\t\ti--;\r\n\t\t\tj++;\r\n\t\t}\r\n\t\tSystem.out.println(&quot;&quot;);\r\n\t}","title":"Loop diagonally through two dimensional array","body":"<blockquote>\n  <p>Solutions would be much easier if we break it down into 2 sub-problems:</p>\n</blockquote>\n\n<ol>\n<li>Figure out the start of each diagonal.</li>\n<li><p>Given the starting indices of a diagonal, print the diagonal.</p>\n\n<pre><code>public void printMatrixDiagonals(int[][] matrix) {\n\n    int c = 0;\n    int count = matrix.length + matrix[0].length -1;\n    int i = 0, j = 0;\n    //There can be at most  m + n -1 diagonals to be printed\n    while (c &lt; count) {\n        //Start printing diagonals from i and j\n        printDiagonal(i, j, matrix);\n        if (i &lt; matrix.length -1) {\n            //We increment row index until we reach the max number of rows\n            i++;\n        } else if (j &lt; matrix[0].length - 1) {\n            //We are at maximum index of row; so its time to increment col index\n            //We increment column index until we reach the max number of columns\n            j++;\n        }\n        c++;\n    }\n}\n</code></pre></li>\n</ol>\n\n<blockquote>\n  <p>Print Diagonal: Notice that every time we start printing each diagonal, the index of row should be decremented and the index of column should be incremented. So given the starting indices of each diagonal, we can print the diagonal as follows:</p>\n</blockquote>\n\n<pre><code>private void printDiagonal(int i, int j, int[][] m) {\n    while (i &gt;=0 &amp;&amp; j&lt; m[0].length ) {\n        System.out.print(m[i][j] + \" \");\n        i--;\n        j++;\n    }\n    System.out.println(\"\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":549851,"reputation":49,"user_id":1511537,"display_name":"brahmananda Kar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501634828,"creation_date":1473854470,"answer_id":39489941,"question_id":20420065,"body_markdown":"This is very intuitive way to print diagonal matrix in while loop .\r\n\r\ngeneralize the problem  as whole rather than two part and optimized in terms of space complexity .\r\n\r\n    package algorithm;\r\n    \r\n    public class printDiagonaly\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            int[][] a = new int[][]{{1, 2, 3, 4, 5},\r\n                    {6, 7, 8, 9, 10},\r\n                    {11, 12, 13, 14, 15},\r\n                    {16, 17, 18, 19, 20}};\r\n    \r\n            int lr = 0;\r\n            int lc = -1;\r\n            int fr = -1;\r\n            int fc = 0;\r\n            int row = a.length - 1;\r\n            int col = a[0].length - 1;\r\n    \r\n            while (lc &lt; col || fc &lt; col || fr &lt; row || lr &lt; row)\r\n            {\r\n                if (fr &lt; row)\r\n                {\r\n                    fr++;\r\n                }\r\n                else\r\n                {\r\n                    fc++;\r\n                }\r\n    \r\n                if (lc &lt; col)\r\n                {\r\n                    lc++;\r\n                }\r\n                else\r\n                {\r\n                    lr++;\r\n                }\r\n    \r\n                int tfr = fr;\r\n                int tlr = lr;\r\n                int tlc = lc;\r\n                int tfc = fc;\r\n    \r\n                while (tfr &gt;= tlr &amp;&amp; tfc &lt;= tlc)\r\n                {\r\n    \r\n                    System.out.print(a[tfr][tfc] + &quot; &quot;);\r\n                    tfr--;\r\n                    tfc++;\r\n                }\r\n                System.out.println(&quot;\\n&quot;);\r\n            }\r\n        }\r\n    }\r\n    ","title":"Loop diagonally through two dimensional array","body":"<p>This is very intuitive way to print diagonal matrix in while loop .</p>\n\n<p>generalize the problem  as whole rather than two part and optimized in terms of space complexity .</p>\n\n<pre><code>package algorithm;\n\npublic class printDiagonaly\n{\n    public static void main(String[] args)\n    {\n        int[][] a = new int[][]{{1, 2, 3, 4, 5},\n                {6, 7, 8, 9, 10},\n                {11, 12, 13, 14, 15},\n                {16, 17, 18, 19, 20}};\n\n        int lr = 0;\n        int lc = -1;\n        int fr = -1;\n        int fc = 0;\n        int row = a.length - 1;\n        int col = a[0].length - 1;\n\n        while (lc &lt; col || fc &lt; col || fr &lt; row || lr &lt; row)\n        {\n            if (fr &lt; row)\n            {\n                fr++;\n            }\n            else\n            {\n                fc++;\n            }\n\n            if (lc &lt; col)\n            {\n                lc++;\n            }\n            else\n            {\n                lr++;\n            }\n\n            int tfr = fr;\n            int tlr = lr;\n            int tlc = lc;\n            int tfc = fc;\n\n            while (tfr &gt;= tlr &amp;&amp; tfc &lt;= tlc)\n            {\n\n                System.out.print(a[tfr][tfc] + \" \");\n                tfr--;\n                tfc++;\n            }\n            System.out.println(\"\\n\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5575239,"reputation":108,"user_id":4418840,"display_name":"Shubham Vadhera"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488060397,"creation_date":1488059255,"answer_id":42461978,"question_id":20420065,"body_markdown":"This is how:\r\n\r\n    int [][]mat = { {1,2,3},\r\n                    {4,5,6},\r\n                    {7,8,9},\r\n    };\r\n                      \r\n    int N=3;\r\n                      \r\n    for (int s=0; s&lt;N; s++) {\r\n        for (int i=s; i&gt;-1; i--) {\r\n            System.out.print(mat[i][s-i] + &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n            \r\n    for (int s=1; s&lt;N; s++) {\r\n        for (int i=N-1; i&gt;=s; i--) {\r\n            System.out.print(mat[i][s+N-1-i] + &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\nThe first loop prints the diagonals beginning from first column, the second loop prints the remaining diagonals (beginning from bottom row).\r\n\r\nOutput:\r\n\r\n    1 \r\n    4 2 \r\n    7 5 3 \r\n    8 6 \r\n    9 ","title":"Loop diagonally through two dimensional array","body":"<p>This is how:</p>\n\n<pre><code>int [][]mat = { {1,2,3},\n                {4,5,6},\n                {7,8,9},\n};\n\nint N=3;\n\nfor (int s=0; s&lt;N; s++) {\n    for (int i=s; i&gt;-1; i--) {\n        System.out.print(mat[i][s-i] + \" \");\n    }\n    System.out.println();\n}\n\nfor (int s=1; s&lt;N; s++) {\n    for (int i=N-1; i&gt;=s; i--) {\n        System.out.print(mat[i][s+N-1-i] + \" \");\n    }\n    System.out.println();\n}\n</code></pre>\n\n<p>The first loop prints the diagonals beginning from first column, the second loop prints the remaining diagonals (beginning from bottom row).</p>\n\n<p>Output:</p>\n\n<pre><code>1 \n4 2 \n7 5 3 \n8 6 \n9 \n</code></pre>\n"},{"comments":[{"owner":{"account_id":6989544,"reputation":2886,"user_id":5359302,"display_name":"George Alexandria"},"score":0,"creation_date":1501626273,"post_id":45448314,"comment_id":77858327,"body_markdown":"You group elements correct, but return this groups into a wrang sequence. Please, check the correct positions of this groups in the question.","body":"You group elements correct, but return this groups into a wrang sequence. Please, check the correct positions of this groups in the question."}],"tags":[],"owner":{"account_id":11463194,"reputation":11,"user_id":8402210,"display_name":"Apurv Jaiswal"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501634925,"creation_date":1501624647,"answer_id":45448314,"question_id":20420065,"body_markdown":"        String ar[][]={{&quot;a&quot;,&quot;b&quot;,&quot;c&quot;},{&quot;d&quot;,&quot;e&quot;,&quot;f&quot;},{&quot;g&quot;,&quot;h&quot;,&quot;i&quot;}};\r\n        int size1=ar.length-1, size2=ar.length;\r\n\r\n\t\tfor(int i=0; i&lt;ar.length; i++)\r\n\t\t{\t\r\n            String a=&quot;&quot;;\t\t\r\n\t\t\tfor(int j=0, x=ar.length-1-i; j&lt;ar.length-i; j++, x--)\r\n\t\t\t{\r\n\t\t\t\tif((j+x)==size1)\r\n\t\t\t\ta=a+ar[x][j];\r\n\t\t\t}\r\n\t\t\tsize1--;\r\n    \r\n\t\t\tSystem.out.println(a);\r\n\t\t\ta=&quot;&quot;;\r\n\t\t\tfor(int j=i+1, x=ar.length-1; j&lt;ar.length; j++, x--)\r\n\t\t\t{\r\n\t\t\t\tif((j+x)==size2)\r\n\t\t\t\ta=a+ar[x][j];\r\n\t\t\t}\r\n\t\t\tSystem.out.println(a);\r\n\t\t\tsize2++;\r\n\t\t}\r\n\r\nOUTPUT\r\n======\r\ngec\r\nhf\r\ndb\r\ni\r\na","title":"Loop diagonally through two dimensional array","body":"<pre><code>    String ar[][]={{\"a\",\"b\",\"c\"},{\"d\",\"e\",\"f\"},{\"g\",\"h\",\"i\"}};\n    int size1=ar.length-1, size2=ar.length;\n\n    for(int i=0; i&lt;ar.length; i++)\n    {   \n        String a=\"\";        \n        for(int j=0, x=ar.length-1-i; j&lt;ar.length-i; j++, x--)\n        {\n            if((j+x)==size1)\n            a=a+ar[x][j];\n        }\n        size1--;\n\n        System.out.println(a);\n        a=\"\";\n        for(int j=i+1, x=ar.length-1; j&lt;ar.length; j++, x--)\n        {\n            if((j+x)==size2)\n            a=a+ar[x][j];\n        }\n        System.out.println(a);\n        size2++;\n    }\n</code></pre>\n\n<h1>OUTPUT</h1>\n\n<p>gec\nhf\ndb\ni\na</p>\n"},{"tags":[],"owner":{"account_id":19909925,"reputation":11,"user_id":14588123,"display_name":"Surya P"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606205778,"creation_date":1606205778,"answer_id":64982570,"question_id":20420065,"body_markdown":"**Type 1: We can solve this using python very easily**\r\n\r\nCode:\r\n\r\n    r,c=map(int,input().split())\r\n    mat=[[str(ch) for ch in input().split()]for _ in range(r)]\r\n    for i in range(r*c-2):\r\n        lis=[]\r\n        for j in range(r):\r\n            for k in range(c):\r\n                if k+j==i:\r\n                    lis.append(mat[j][k])\r\n        print(*lis[::-1])\r\n\r\nOutput:\r\n  \r\n\r\n    5 5\r\n    a b c d e\r\n    f g h i j\r\n    k l m n o\r\n    p q r s t\r\n    u v w x y\r\n\r\n    a\r\n    f b\r\n    k g c\r\n    p l h d\r\n    u q m i e\r\n    v r n j\r\n    w s o\r\n    x t\r\n    y\r\n\r\n","title":"Loop diagonally through two dimensional array","body":"<p><strong>Type 1: We can solve this using python very easily</strong></p>\n<p>Code:</p>\n<pre><code>r,c=map(int,input().split())\nmat=[[str(ch) for ch in input().split()]for _ in range(r)]\nfor i in range(r*c-2):\n    lis=[]\n    for j in range(r):\n        for k in range(c):\n            if k+j==i:\n                lis.append(mat[j][k])\n    print(*lis[::-1])\n</code></pre>\n<p>Output:</p>\n<pre><code>5 5\na b c d e\nf g h i j\nk l m n o\np q r s t\nu v w x y\n\na\nf b\nk g c\np l h d\nu q m i e\nv r n j\nw s o\nx t\ny\n</code></pre>\n"}],"owner":{"account_id":3689559,"reputation":351,"user_id":3072542,"accept_rate":33,"display_name":"user243872"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92347,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"answer_count":12,"score":23,"last_activity_date":1678191897,"creation_date":1386321204,"question_id":20420065,"body_markdown":"I wrote the following code to walk half the diagonals of an array:\r\n\r\n    String[][] b = [a,b,c]\r\n                   [d,e,f]\r\n                   [g,h,i];  \r\n\r\n    public void LoopDiag()\r\n       for (int i = b.length - 1; i &gt; 0; i--) {\r\n           String temp = &quot;&quot;;\r\n           for (int j = 0, x = i; x &lt;= b.length - 1; j++, x++) {\r\n              temp = temp+b[x][j];\r\n           }\r\n           System.out.println(temp)\r\n       }\r\n\r\n\r\n       for (int i = 0; i &lt;= b.length - 1; i++) {\r\n            String temp = &quot;&quot;;\r\n            for (int j = 0, y = i; y &lt;= b.length - 1; j++, y++) {\r\n            temp = temp+b[j][y];\r\n            }\r\n            System.out.println(temp);\r\n       }\r\n    }\r\n\r\nRight now it prints the diagonals i.e current output:  \r\n\r\n    g dh aei bf c\r\n\r\nHow do I make it print the other half diagonals i.e required output:  \r\n\r\n    a db gec hf i \r\n\r\n ","title":"Loop diagonally through two dimensional array","body":"<p>I wrote the following code to walk half the diagonals of an array:</p>\n\n<pre><code>String[][] b = [a,b,c]\n               [d,e,f]\n               [g,h,i];  \n\npublic void LoopDiag()\n   for (int i = b.length - 1; i &gt; 0; i--) {\n       String temp = \"\";\n       for (int j = 0, x = i; x &lt;= b.length - 1; j++, x++) {\n          temp = temp+b[x][j];\n       }\n       System.out.println(temp)\n   }\n\n\n   for (int i = 0; i &lt;= b.length - 1; i++) {\n        String temp = \"\";\n        for (int j = 0, y = i; y &lt;= b.length - 1; j++, y++) {\n        temp = temp+b[j][y];\n        }\n        System.out.println(temp);\n   }\n}\n</code></pre>\n\n<p>Right now it prints the diagonals i.e current output:  </p>\n\n<pre><code>g dh aei bf c\n</code></pre>\n\n<p>How do I make it print the other half diagonals i.e required output:  </p>\n\n<pre><code>a db gec hf i \n</code></pre>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":22644,"reputation":14098,"user_id":56044,"accept_rate":71,"display_name":"Michael Brewer-Davis"},"score":2,"creation_date":1310404513,"post_id":6653821,"comment_id":7863954,"body_markdown":"Are you posting to SO for help *during* an examination?","body":"Are you posting to SO for help <i>during</i> an examination?"},{"owner":{"account_id":178679,"reputation":11876,"user_id":410824,"accept_rate":81,"display_name":"Grammin"},"score":1,"creation_date":1310404575,"post_id":6653821,"comment_id":7863981,"body_markdown":"I don&#39;t know why this is getting so many downvotes without an explanation, this is a valid question in my opinion.","body":"I don&#39;t know why this is getting so many downvotes without an explanation, this is a valid question in my opinion."},{"owner":{"account_id":80775,"reputation":80366,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":0,"creation_date":1310404606,"post_id":6653821,"comment_id":7863991,"body_markdown":"I&#39;m sure your lab TA can be of some help to you.","body":"I&#39;m sure your lab TA can be of some help to you."},{"owner":{"account_id":229892,"reputation":37886,"user_id":493161,"accept_rate":90,"display_name":"jcomeau_ictx"},"score":4,"creation_date":1310404643,"post_id":6653821,"comment_id":7864011,"body_markdown":"I don&#39;t think anybody can give an authoritative answer except for your professor.","body":"I don&#39;t think anybody can give an authoritative answer except for your professor."},{"owner":{"account_id":294765,"reputation":3209,"user_id":598824,"accept_rate":62,"display_name":"Muthu Ganapathy Nathan"},"score":0,"creation_date":1310404769,"post_id":6653821,"comment_id":7864054,"body_markdown":"@Michael Brewer-Davis no sir, but in our college they will provide only notepad and they will tell us to do within 3 hours for that only i need the program to be simpler and so that i can be understood by every student. otherwise i wont worry about program length and using difficult concepts","body":"@Michael Brewer-Davis no sir, but in our college they will provide only notepad and they will tell us to do within 3 hours for that only i need the program to be simpler and so that i can be understood by every student. otherwise i wont worry about program length and using difficult concepts"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1678192906,"post_id":6653821,"comment_id":133482321,"body_markdown":"As the accepted answer suggests, `java.util.Date` is a bad role model for a date class, and in 2023 even more than in 2011. First, `java.util.Date` despite its name never represented a date. It represented a point in time (and a point in time that fell on at least two different dates in the time zones of the world). Second, it was always poorly designed, which was the reason for most of the constructors and methods to be deprecated in Java 1.1. -","body":"As the accepted answer suggests, <code>java.util.Date</code> is a bad role model for a date class, and in 2023 even more than in 2011. First, <code>java.util.Date</code> despite its name never represented a date. It represented a point in time (and a point in time that fell on at least two different dates in the time zones of the world). Second, it was always poorly designed, which was the reason for most of the constructors and methods to be deprecated in Java 1.1. -"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1678192911,"post_id":6653821,"comment_id":133482322,"body_markdown":"- Third, `java.util.Date` is long outdated (no pun intended). It was replaced by [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html) in Java 8 early in 2014. You may take inspiration from its `LocalDate` class, but please dont feel obliged to do all of it.","body":"- Third, <code>java.util.Date</code> is long outdated (no pun intended). It was replaced by <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a> in Java 8 early in 2014. You may take inspiration from its <code>LocalDate</code> class, but please dont feel obliged to do all of it."}],"answers":[{"tags":[],"owner":{"display_name":"user177800"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1310408450,"creation_date":1310404575,"answer_id":6653862,"question_id":6653821,"body_markdown":"  1. [Serializable][1] means the class can be Serialized to a transportable binary form.\r\n  1. [Clonable][2] means the class can be cloned, this is very tricky to get right, mainly because of inheritance and mutability concerns.\r\n  1. [Comparable][3] means the class supports being *compared* to other classes of the same type.\r\n\r\nOf these `Comparable` is the only one that requires any code to function, it is also probably the only one that is any use in your scenario.\r\n\r\n`Serializable` is what is called a `Marker Interface` it doesn&#39;t require any code to cause anything to happen since it doesn&#39;t have any methods to implement. It just exists to *mark* the object as supporting something and another class and check for this interface and do things based on its existence.\r\n\r\n`Cloneable` is something you want to stay away from if at all possible. Cloning objects in Java is not straight forward, has lots of gotchas and generally behaves in the most non-intuitive ways imaginable. If you really want to know about this, learn about this, [read this article][4].\r\n\r\n`Comparable` is very valuable, it lets you compare to like objects to see if one is less than, equal or greater than another. This is a requirement for *sorting* and Collections classes that support [Comparators&lt;T&gt;][5]. `Comparators` can be thought of as stand alone implementations of `Comparable` that can be plugged into other classes to control how objects are compared.\r\n\r\n`java.util.Date` is a tricky class, it appears to be a straight forward struct type class with some mutators and convenience methods, but the underlying problem domain for calendar data isn&#39;t that simple. Calendar math has lots of *exceptional* cases. That is why there are so many methods on `java.util.Date` that are deprecated, they produced **wrong** behavior in many cases.\r\n\r\nFor some more code to study, look at this [temporal package][6] I developed to wrap the standard Java `Calendar` with very basic [Date][7], [Time][8] and [TimeStamp][9] classes, they all just delegate to an instance of `Calendar` for the actual calcuations.\r\n\r\n**NOTE:** *this library code pre-dates JodaTime for those of you that might complain about just not using that library.*\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/io/Serializable.html\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/lang/Cloneable.html\r\n  [3]: http://download.oracle.com/javase/6/docs/api/java/lang/Comparable.html\r\n  [4]: http://www.javapractices.com/topic/TopicAction.do?Id=71\r\n  [5]: http://download.oracle.com/javase/6/docs/api/java/util/Comparator.html\r\n  [6]: https://github.com/fuzzylollipop/sqlck/tree/master/src/main/java/com/vertigrated/temporal\r\n  [7]: https://github.com/fuzzylollipop/sqlck/blob/master/src/main/java/com/vertigrated/temporal/Date.java\r\n  [8]: https://github.com/fuzzylollipop/sqlck/blob/master/src/main/java/com/vertigrated/temporal/Time.java\r\n  [9]: https://github.com/fuzzylollipop/sqlck/blob/master/src/main/java/com/vertigrated/temporal/TimeStamp.java","title":"Developing a simple utility class( like a Date class )in java","body":"<ol>\n<li><a href=\"http://download.oracle.com/javase/6/docs/api/java/io/Serializable.html\" rel=\"nofollow\">Serializable</a> means the class can be Serialized to a transportable binary form.</li>\n<li><a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Cloneable.html\" rel=\"nofollow\">Clonable</a> means the class can be cloned, this is very tricky to get right, mainly because of inheritance and mutability concerns.</li>\n<li><a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Comparable.html\" rel=\"nofollow\">Comparable</a> means the class supports being <em>compared</em> to other classes of the same type.</li>\n</ol>\n\n<p>Of these <code>Comparable</code> is the only one that requires any code to function, it is also probably the only one that is any use in your scenario.</p>\n\n<p><code>Serializable</code> is what is called a <code>Marker Interface</code> it doesn't require any code to cause anything to happen since it doesn't have any methods to implement. It just exists to <em>mark</em> the object as supporting something and another class and check for this interface and do things based on its existence.</p>\n\n<p><code>Cloneable</code> is something you want to stay away from if at all possible. Cloning objects in Java is not straight forward, has lots of gotchas and generally behaves in the most non-intuitive ways imaginable. If you really want to know about this, learn about this, <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=71\" rel=\"nofollow\">read this article</a>.</p>\n\n<p><code>Comparable</code> is very valuable, it lets you compare to like objects to see if one is less than, equal or greater than another. This is a requirement for <em>sorting</em> and Collections classes that support <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Comparator.html\" rel=\"nofollow\">Comparators</a>. <code>Comparators</code> can be thought of as stand alone implementations of <code>Comparable</code> that can be plugged into other classes to control how objects are compared.</p>\n\n<p><code>java.util.Date</code> is a tricky class, it appears to be a straight forward struct type class with some mutators and convenience methods, but the underlying problem domain for calendar data isn't that simple. Calendar math has lots of <em>exceptional</em> cases. That is why there are so many methods on <code>java.util.Date</code> that are deprecated, they produced <strong>wrong</strong> behavior in many cases.</p>\n\n<p>For some more code to study, look at this <a href=\"https://github.com/fuzzylollipop/sqlck/tree/master/src/main/java/com/vertigrated/temporal\" rel=\"nofollow\">temporal package</a> I developed to wrap the standard Java <code>Calendar</code> with very basic <a href=\"https://github.com/fuzzylollipop/sqlck/blob/master/src/main/java/com/vertigrated/temporal/Date.java\" rel=\"nofollow\">Date</a>, <a href=\"https://github.com/fuzzylollipop/sqlck/blob/master/src/main/java/com/vertigrated/temporal/Time.java\" rel=\"nofollow\">Time</a> and <a href=\"https://github.com/fuzzylollipop/sqlck/blob/master/src/main/java/com/vertigrated/temporal/TimeStamp.java\" rel=\"nofollow\">TimeStamp</a> classes, they all just delegate to an instance of <code>Calendar</code> for the actual calcuations.</p>\n\n<p><strong>NOTE:</strong> <em>this library code pre-dates JodaTime for those of you that might complain about just not using that library.</em></p>\n"},{"tags":[],"owner":{"account_id":430919,"reputation":7004,"user_id":814628,"accept_rate":86,"display_name":"dchhetri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1310404595,"creation_date":1310404595,"answer_id":6653867,"question_id":6653821,"body_markdown":"Since this is a lab project, why don&#39;t you list down what kind of function a &#39;simple&#39; Date class needs and should have. For example, toString() -- returns a string representation of a Data or toMilliSecond() -- returns the number of milliSecond from the reference time.","title":"Developing a simple utility class( like a Date class )in java","body":"<p>Since this is a lab project, why don't you list down what kind of function a 'simple' Date class needs and should have. For example, toString() -- returns a string representation of a Data or toMilliSecond() -- returns the number of milliSecond from the reference time.</p>\n"},{"comments":[{"owner":{"account_id":294765,"reputation":3209,"user_id":598824,"accept_rate":62,"display_name":"Muthu Ganapathy Nathan"},"score":0,"creation_date":1310405239,"post_id":6653924,"comment_id":7864182,"body_markdown":"could you tell me how it will defer with the original date class","body":"could you tell me how it will defer with the original date class"},{"owner":{"account_id":403847,"reputation":23234,"user_id":771837,"display_name":"trutheality"},"score":1,"creation_date":1310405827,"post_id":6653924,"comment_id":7864383,"body_markdown":"Well first of all the original `Date` class is storing a date and a time (the suggested functions I put above are just for the date part). Secondly, all the methods you see deprecated in the `Date` class are deprecated because that functionality is performed by a different class (`Calendar`). It depends on what functionality you need. If you don&#39;t know you should ask the professor.","body":"Well first of all the original <code>Date</code> class is storing a date and a time (the suggested functions I put above are just for the date part). Secondly, all the methods you see deprecated in the <code>Date</code> class are deprecated because that functionality is performed by a different class (<code>Calendar</code>). It depends on what functionality you need. If you don&#39;t know you should ask the professor."}],"tags":[],"owner":{"account_id":403847,"reputation":23234,"user_id":771837,"display_name":"trutheality"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1310404927,"creation_date":1310404927,"answer_id":6653924,"question_id":6653821,"body_markdown":"You don&#39;t have to implement all the interfaces to have a simple working `Date` class.\r\n\r\nI would suggest that you forget about Java&#39;s `Date` class and consider what you think is needed for a date class. For example:\r\n\r\n- Get/set day of month\r\n- Get/set month\r\n- Get/set year\r\n- Get day of week\r\n- `toString()`\r\n\r\nWould give you a pretty good basic date class.\r\nFor the sake of completeness, I&#39;ll tell you what the interfaces are for. You can decide whether to implement them based on how much you have learned and the assignment&#39;s requirements:\r\n\r\n- `Serializable` is for saving your object to a stream. You actually don&#39;t need to do much work to implement it.\r\n- `Comparable` is for comparing objects (`date1.compareTo(date2)` should return an integer indicating whether `date1` is before, after, or the same as `date2`).\r\n- `Clonable` is for creating a deep copy of the object.","title":"Developing a simple utility class( like a Date class )in java","body":"<p>You don't have to implement all the interfaces to have a simple working <code>Date</code> class.</p>\n\n<p>I would suggest that you forget about Java's <code>Date</code> class and consider what you think is needed for a date class. For example:</p>\n\n<ul>\n<li>Get/set day of month</li>\n<li>Get/set month</li>\n<li>Get/set year</li>\n<li>Get day of week</li>\n<li><code>toString()</code></li>\n</ul>\n\n<p>Would give you a pretty good basic date class.\nFor the sake of completeness, I'll tell you what the interfaces are for. You can decide whether to implement them based on how much you have learned and the assignment's requirements:</p>\n\n<ul>\n<li><code>Serializable</code> is for saving your object to a stream. You actually don't need to do much work to implement it.</li>\n<li><code>Comparable</code> is for comparing objects (<code>date1.compareTo(date2)</code> should return an integer indicating whether <code>date1</code> is before, after, or the same as <code>date2</code>).</li>\n<li><code>Clonable</code> is for creating a deep copy of the object.</li>\n</ul>\n"}],"owner":{"account_id":294765,"reputation":3209,"user_id":598824,"accept_rate":62,"display_name":"Muthu Ganapathy Nathan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1284,"favorite_count":0,"down_vote_count":6,"up_vote_count":4,"accepted_answer_id":6653924,"answer_count":3,"score":-2,"last_activity_date":1678191666,"creation_date":1310404308,"question_id":6653821,"body_markdown":"I am a college student.\r\n\r\n **In our college we have to develop a simple Date class in Java similar to the one available in java.util package.**\r\n\r\n**If we do that then what are the methods we can implement in that class,\r\nSince most of the methods are deprecated in original Date class.**\r\n\r\nI saw the original Date class definitions in java/util/Date.java. Being a beginner to java, I could not understand the concepts of Serializable, Cloneable, Comparable &lt;Date&gt;,and many variables like fasttime.\r\n\r\nIt will be good if we can implement this date class simply (since we have to develop this code as a test with in 3 hours at lab.) \r\n\r\n\r\nWhether it is necessary to implement those concepts in a simple Date class.\r\n\r\nIf I take it as a Project and start developing the whole Date utilities, \r\nthen that code will run to many pages\r\nand I cannot finish it with 3 hours for our lab session.\r\n\r\nSo someone please guide me.... \r\n\r\nI have doubts about....\r\n\r\n1. Whether it is possible to create a utility class similar to Date class with a simpler implementation.\r\n2. If we do that, **then what are the methods we can implement in that class** , since most of the useful methods are deprecated in the original date class.\r\n\r\nThanks in advance.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Developing a simple utility class( like a Date class )in java","body":"<p>I am a college student.</p>\n\n<p><strong>In our college we have to develop a simple Date class in Java similar to the one available in java.util package.</strong></p>\n\n<p><strong>If we do that then what are the methods we can implement in that class,\nSince most of the methods are deprecated in original Date class.</strong></p>\n\n<p>I saw the original Date class definitions in java/util/Date.java. Being a beginner to java, I could not understand the concepts of Serializable, Cloneable, Comparable ,and many variables like fasttime.</p>\n\n<p>It will be good if we can implement this date class simply (since we have to develop this code as a test with in 3 hours at lab.) </p>\n\n<p>Whether it is necessary to implement those concepts in a simple Date class.</p>\n\n<p>If I take it as a Project and start developing the whole Date utilities, \nthen that code will run to many pages\nand I cannot finish it with 3 hours for our lab session.</p>\n\n<p>So someone please guide me.... </p>\n\n<p>I have doubts about....</p>\n\n<ol>\n<li>Whether it is possible to create a utility class similar to Date class with a simpler implementation.</li>\n<li>If we do that, <strong>then what are the methods we can implement in that class</strong> , since most of the useful methods are deprecated in the original date class.</li>\n</ol>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":470798,"reputation":6467,"user_id":878182,"accept_rate":50,"display_name":"Alistair A. Israel"},"score":4,"creation_date":1312967868,"post_id":4989091,"comment_id":8368216,"body_markdown":"Do you just want to &#39;collapse&#39; repeating characters, or remove duplicates entirely. That is, should &quot;abba&quot; result in &quot;aba&quot; or &quot;ab&quot;?","body":"Do you just want to &#39;collapse&#39; repeating characters, or remove duplicates entirely. That is, should &quot;abba&quot; result in &quot;aba&quot; or &quot;ab&quot;?"},{"owner":{"account_id":288244,"reputation":69,"user_id":588539,"display_name":"shivarajan"},"score":0,"creation_date":1613333572,"post_id":4989091,"comment_id":117037244,"body_markdown":"I don&#39;t think code will work as given.. flow never enters second loop :)","body":"I don&#39;t think code will work as given.. flow never enters second loop :)"}],"answers":[{"comments":[{"owner":{"account_id":282374,"reputation":775,"user_id":579227,"accept_rate":64,"display_name":"Ricco"},"score":0,"creation_date":1297661757,"post_id":4989118,"comment_id":5574150,"body_markdown":"I tried somethinig like that, but not StringWriter.toString(). The first loop would iterate through the input string and if that character did not exist in the result string then append it...but it didn&#39;t work.","body":"I tried somethinig like that, but not StringWriter.toString(). The first loop would iterate through the input string and if that character did not exist in the result string then append it...but it didn&#39;t work."}],"tags":[],"owner":{"account_id":31682,"reputation":22471,"user_id":87197,"accept_rate":81,"display_name":"Chris Dennett"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1297661462,"creation_date":1297661462,"answer_id":4989118,"question_id":4989091,"body_markdown":"Create a StringWriter. Run through the original string using charAt(i) in a for loop. Maintain a variable of char type keeping the last charAt value. If you iterate and the charAt value equals what is stored in that variable, don&#39;t add to the StringWriter. Finally, use the StringWriter.toString() method and get a string, and do what you need with it.","title":"Removing duplicates from a String in Java","body":"<p>Create a StringWriter. Run through the original string using charAt(i) in a for loop. Maintain a variable of char type keeping the last charAt value. If you iterate and the charAt value equals what is stored in that variable, don't add to the StringWriter. Finally, use the StringWriter.toString() method and get a string, and do what you need with it.</p>\n"},{"tags":[],"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1297661673,"creation_date":1297661673,"answer_id":4989137,"question_id":4989091,"body_markdown":"You can&#39;t. You can create a new String that has duplicates removed. Why aren&#39;t you using StringBuilder (or StringBuffer, presumably)?\r\n\r\nYou can run through the string and store the unique characters in a char[] array, keeping track of how many unique characters you&#39;ve seen. Then you can create a new String using the `String(char[], int, int)` constructor.\r\n\r\nAlso, the problem is a little ambiguous&amp;mdash;does &amp;ldquo;duplicates&amp;rdquo; mean adjacent repetitions? (In other words, what should happen with `abcab`?)","title":"Removing duplicates from a String in Java","body":"<p>You can't. You can create a new String that has duplicates removed. Why aren't you using StringBuilder (or StringBuffer, presumably)?</p>\n\n<p>You can run through the string and store the unique characters in a char[] array, keeping track of how many unique characters you've seen. Then you can create a new String using the <code>String(char[], int, int)</code> constructor.</p>\n\n<p>Also, the problem is a little ambiguous&mdash;does &ldquo;duplicates&rdquo; mean adjacent repetitions? (In other words, what should happen with <code>abcab</code>?)</p>\n"},{"comments":[{"owner":{"account_id":455032,"reputation":2720,"user_id":853001,"display_name":"realPK"},"score":0,"creation_date":1469326332,"post_id":4989139,"comment_id":64487809,"body_markdown":"Its not returning a String though.","body":"Its not returning a String though."}],"tags":[],"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1429900166,"creation_date":1297661699,"answer_id":4989139,"question_id":4989091,"body_markdown":"I would use the help of [LinkedHashSet][1]. Removes dups (as we are using a Set, maintains the order as we are using linked list impl). This is kind of a dirty solution. there might be even a better way.\r\n\r\n    String s=&quot;aabbccdef&quot;;\r\n    Set&lt;Character&gt; set=new LinkedHashSet&lt;Character&gt;();\r\n    for(char c:s.toCharArray())\r\n    {\r\n        set.add(Character.valueOf(c));\r\n    }\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/util/LinkedHashSet.html","title":"Removing duplicates from a String in Java","body":"<p>I would use the help of <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/util/LinkedHashSet.html\" rel=\"nofollow\">LinkedHashSet</a>. Removes dups (as we are using a Set, maintains the order as we are using linked list impl). This is kind of a dirty solution. there might be even a better way.</p>\n\n<pre><code>String s=\"aabbccdef\";\nSet&lt;Character&gt; set=new LinkedHashSet&lt;Character&gt;();\nfor(char c:s.toCharArray())\n{\n    set.add(Character.valueOf(c));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":282374,"reputation":775,"user_id":579227,"accept_rate":64,"display_name":"Ricco"},"score":0,"creation_date":1297662247,"post_id":4989150,"comment_id":5574190,"body_markdown":"I guess I can&#39;t really avoid StringBuilder or an array list...oh well, thanks","body":"I guess I can&#39;t really avoid StringBuilder or an array list...oh well, thanks"},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Palo Ebermann"},"score":0,"creation_date":1297681954,"post_id":4989150,"comment_id":5576953,"body_markdown":"@Rico: You can also do this manually (like creating an array of the right length, then putting all non-duplicates in it, then creating a string of this), but it is simply more work this way, and a StringBuilder is really made to construct Strings.","body":"@Rico: You can also do this manually (like creating an array of the right length, then putting all non-duplicates in it, then creating a string of this), but it is simply more work this way, and a StringBuilder is really made to construct Strings."},{"owner":{"account_id":470798,"reputation":6467,"user_id":878182,"accept_rate":50,"display_name":"Alistair A. Israel"},"score":0,"creation_date":1312967797,"post_id":4989150,"comment_id":8368209,"body_markdown":"This will also remove the second &#39;f&#39;, which may or may not be what the OP wants.","body":"This will also remove the second &#39;f&#39;, which may or may not be what the OP wants."},{"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"score":0,"creation_date":1429952718,"post_id":4989150,"comment_id":47851657,"body_markdown":"Using `new StringBuilder(charSet.size())` will optimize this slightly to avoid resizing the `StringBuilder`.","body":"Using <code>new StringBuilder(charSet.size())</code> will optimize this slightly to avoid resizing the <code>StringBuilder</code>."}],"tags":[],"owner":{"account_id":23137,"reputation":898,"user_id":57738,"display_name":"Dave"},"comment_count":4,"down_vote_count":0,"up_vote_count":57,"is_accepted":true,"score":57,"last_activity_date":1489580613,"creation_date":1297661851,"answer_id":4989150,"question_id":4989091,"body_markdown":"Convert the string to an array of char, and store it in a `LinkedHashSet`.  That will preserve your ordering, and remove duplicates.  Something like:\r\n\r\n\tString string = &quot;aabbccdefatafaz&quot;;\r\n\t\t\r\n\tchar[] chars = string.toCharArray();\r\n\tSet&lt;Character&gt; charSet = new LinkedHashSet&lt;Character&gt;();\r\n\tfor (char c : chars) {\r\n\t\tcharSet.add(c);\r\n\t}\r\n\t\t\r\n\tStringBuilder sb = new StringBuilder();\r\n\tfor (Character character : charSet) {\r\n\t\tsb.append(character);\r\n\t}\r\n\tSystem.out.println(sb.toString());","title":"Removing duplicates from a String in Java","body":"<p>Convert the string to an array of char, and store it in a <code>LinkedHashSet</code>.  That will preserve your ordering, and remove duplicates.  Something like:</p>\n\n<pre><code>String string = \"aabbccdefatafaz\";\n\nchar[] chars = string.toCharArray();\nSet&lt;Character&gt; charSet = new LinkedHashSet&lt;Character&gt;();\nfor (char c : chars) {\n    charSet.add(c);\n}\n\nStringBuilder sb = new StringBuilder();\nfor (Character character : charSet) {\n    sb.append(character);\n}\nSystem.out.println(sb.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":566350,"reputation":21,"user_id":887543,"display_name":"HariKrishna"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437075761,"creation_date":1312967019,"answer_id":7008285,"question_id":4989091,"body_markdown":"    public class RemoveRepeated4rmString {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString s = &quot;harikrishna&quot;;\r\n    \t\tString s2 = &quot;&quot;;\r\n    \t\tfor (int i = 0; i &lt; s.length(); i++) {\r\n    \t\t\tBoolean found = false;\r\n    \t\t\tfor (int j = 0; j &lt; s2.length(); j++) {\r\n    \t\t\t\tif (s.charAt(i) == s2.charAt(j)) {\r\n    \t\t\t\t\tfound = true;\r\n                        break; //don&#39;t need to iterate further\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tif (found == false) {\r\n    \t\t\t\ts2 = s2.concat(String.valueOf(s.charAt(i)));\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(s2);\r\n    \t}\r\n    }","title":"Removing duplicates from a String in Java","body":"<pre><code>public class RemoveRepeated4rmString {\n\n    public static void main(String[] args) {\n        String s = \"harikrishna\";\n        String s2 = \"\";\n        for (int i = 0; i &lt; s.length(); i++) {\n            Boolean found = false;\n            for (int j = 0; j &lt; s2.length(); j++) {\n                if (s.charAt(i) == s2.charAt(j)) {\n                    found = true;\n                    break; //don't need to iterate further\n                }\n            }\n            if (found == false) {\n                s2 = s2.concat(String.valueOf(s.charAt(i)));\n            }\n        }\n        System.out.println(s2);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":454315,"reputation":27651,"user_id":851811,"accept_rate":100,"display_name":"Xavi L&#243;pez"},"score":0,"creation_date":1355425805,"post_id":13865961,"comment_id":19094973,"body_markdown":"This will not work on the examples you asked about in [Remove duplicate in a string without using arrays](http://stackoverflow.com/q/13866036/851811)","body":"This will not work on the examples you asked about in <a href=\"http://stackoverflow.com/q/13866036/851811\">Remove duplicate in a string without using arrays</a>"}],"tags":[],"owner":{"display_name":"user1901928"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1355422625,"creation_date":1355422625,"answer_id":13865961,"question_id":4989091,"body_markdown":"\r\n\t\tString input = &quot;AAAB&quot;;\r\n\r\n\t\tString output = &quot;&quot;;\r\n\t\tfor (int index = 0; index &lt; input.length(); index++) {\r\n\t\t\tif (input.charAt(index % input.length()) != input\r\n\t\t\t\t\t.charAt((index + 1) % input.length())) {\r\n\r\n\t\t\t\toutput += input.charAt(index);\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(output);\r\n\r\nbut you cant use it if the input has the same elements, or if its empty!\r\n","title":"Removing duplicates from a String in Java","body":"<pre><code>    String input = \"AAAB\";\n\n    String output = \"\";\n    for (int index = 0; index &lt; input.length(); index++) {\n        if (input.charAt(index % input.length()) != input\n                .charAt((index + 1) % input.length())) {\n\n            output += input.charAt(index);\n\n        }\n    }\n    System.out.println(output);\n</code></pre>\n\n<p>but you cant use it if the input has the same elements, or if its empty!</p>\n"},{"comments":[{"owner":{"account_id":199671,"reputation":148444,"user_id":445131,"accept_rate":89,"display_name":"Eric Leschinski"},"score":0,"creation_date":1429901067,"post_id":26790378,"comment_id":47836214,"body_markdown":"This code makes two mistakes, first: it only replaces consecutive duplicates. It fails to compress `abcabc` to `abc` because inside your loop you are only testing the similarity of adjacent indices in the array.  second: you are passing a char[] by reference, and in order to change the array by reference is to destroy it and re-create it, forcing its lifetime to only exist in this particular method.  You&#39;ll have to return the variable, which makes a clone of the entire thing, one of which needs to be garbage collected.","body":"This code makes two mistakes, first: it only replaces consecutive duplicates. It fails to compress <code>abcabc</code> to <code>abc</code> because inside your loop you are only testing the similarity of adjacent indices in the array.  second: you are passing a char[] by reference, and in order to change the array by reference is to destroy it and re-create it, forcing its lifetime to only exist in this particular method.  You&#39;ll have to return the variable, which makes a clone of the entire thing, one of which needs to be garbage collected."}],"tags":[],"owner":{"account_id":5080598,"reputation":21,"user_id":4076840,"display_name":"Delta Hex"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1636709071,"creation_date":1415311913,"answer_id":26790378,"question_id":4989091,"body_markdown":"\r\n\tpublic static void alpha(char[] finalname)\r\n\t{\r\n\t\tif (finalname == null)\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif (finalname.length &lt;2)\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tchar empty = &#39;\\000&#39;;\r\n\t\tfor (int i=0; i&lt;finalname.length-1; i++)\r\n\t\t{\r\n\t\t\tif (finalname[i] == finalname[i+1])\r\n\t\t\t{\r\n\t\t\t\tfinalname[i] = empty;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tString alphaname = String.valueOf(finalname);\r\n\t\talphaname = alphaname.replace(&quot;\\000&quot;, &quot;&quot;);\r\n\t\tSystem.out.println(alphaname);\r\n\t\t\r\n\t\t\t\r\n\t}","title":"Removing duplicates from a String in Java","body":"<pre><code>public static void alpha(char[] finalname)\n{\n    if (finalname == null)\n    {\n        return;\n    }\n    \n    if (finalname.length &lt;2)\n    {\n        return;\n    }\n    \n    char empty = '\\000';\n    for (int i=0; i&lt;finalname.length-1; i++)\n    {\n        if (finalname[i] == finalname[i+1])\n        {\n            finalname[i] = empty;\n        }\n    }\n    \n    String alphaname = String.valueOf(finalname);\n    alphaname = alphaname.replace(&quot;\\000&quot;, &quot;&quot;);\n    System.out.println(alphaname);\n    \n        \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":199671,"reputation":148444,"user_id":445131,"accept_rate":89,"display_name":"Eric Leschinski"},"score":2,"creation_date":1429900291,"post_id":28071264,"comment_id":47835735,"body_markdown":"Good answer, but each time `+=` gets run, the entire string is destroyed and re-copied resulting in unnecessary inefficiency.  Also testing for the length() of the string on every iteration of the loop introduces inefficiency.  The length of the loop doesn&#39;t change so you don&#39;t have to check it on every character.","body":"Good answer, but each time <code>+=</code> gets run, the entire string is destroyed and re-copied resulting in unnecessary inefficiency.  Also testing for the length() of the string on every iteration of the loop introduces inefficiency.  The length of the loop doesn&#39;t change so you don&#39;t have to check it on every character."}],"tags":[],"owner":{"account_id":5661436,"reputation":81,"user_id":4478971,"display_name":"Michele Vergnano"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1421855166,"creation_date":1421855166,"answer_id":28071264,"question_id":4989091,"body_markdown":"Try this simple solution:\r\n\r\n    public String removeDuplicates(String input){\r\n        String result = &quot;&quot;;\r\n        for (int i = 0; i &lt; input.length(); i++) {\r\n            if(!result.contains(String.valueOf(input.charAt(i)))) {\r\n                result += String.valueOf(input.charAt(i));\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n","title":"Removing duplicates from a String in Java","body":"<p>Try this simple solution:</p>\n\n<pre><code>public String removeDuplicates(String input){\n    String result = \"\";\n    for (int i = 0; i &lt; input.length(); i++) {\n        if(!result.contains(String.valueOf(input.charAt(i)))) {\n            result += String.valueOf(input.charAt(i));\n        }\n    }\n    return result;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":199671,"reputation":148444,"user_id":445131,"accept_rate":89,"display_name":"Eric Leschinski"},"score":1,"creation_date":1429899231,"post_id":29680581,"comment_id":47835116,"body_markdown":"This answer is right, but it has a runtime complexity of `O(n * n * n )`.  Each time you call str.length, you are stepping the entire array.  Since an algorithm can be designed to do this in O(n) runtime complexity without using additional memory, this answer will get you in trouble if I see you put this sort of thing in production. This is the generic easy-to-understand answer given by programmers who write very VERY slow running code.  It&#39;s a good exercise in understanding runtime complexity.","body":"This answer is right, but it has a runtime complexity of <code>O(n * n * n )</code>.  Each time you call str.length, you are stepping the entire array.  Since an algorithm can be designed to do this in O(n) runtime complexity without using additional memory, this answer will get you in trouble if I see you put this sort of thing in production. This is the generic easy-to-understand answer given by programmers who write very VERY slow running code.  It&#39;s a good exercise in understanding runtime complexity."},{"owner":{"account_id":10063010,"reputation":5822,"user_id":7438973,"accept_rate":44,"display_name":"nagendra547"},"score":0,"creation_date":1503556838,"post_id":29680581,"comment_id":78666921,"body_markdown":"O(n2) bad complexity","body":"O(n2) bad complexity"}],"tags":[],"owner":{"account_id":5550402,"reputation":625,"user_id":4403696,"display_name":"SEGStriker"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429899133,"creation_date":1429201228,"answer_id":29680581,"question_id":4989091,"body_markdown":"Oldschool way (as we wrote such a tasks in Apple ][ Basic, adapted to Java):\r\n\r\n\tint i,j;\r\n    StringBuffer str=new StringBuffer();\r\n\tScanner in = new Scanner(System.in);\r\n\tSystem.out.print(&quot;Enter string: &quot;);\r\n\tstr.append(in.nextLine());\r\n\r\n\tfor (i=0;i&lt;str.length()-1;i++){\r\n\t\tfor (j=i+1;j&lt;str.length();j++){\r\n\t      \tif (str.charAt(i)==str.charAt(j))\r\n\t        \tstr.deleteCharAt(j);\r\n        }\r\n    }\r\n\tSystem.out.println(&quot;Removed non-unique symbols: &quot; + str);","title":"Removing duplicates from a String in Java","body":"<p>Oldschool way (as we wrote such a tasks in Apple ][ Basic, adapted to Java):</p>\n\n<pre><code>int i,j;\nStringBuffer str=new StringBuffer();\nScanner in = new Scanner(System.in);\nSystem.out.print(\"Enter string: \");\nstr.append(in.nextLine());\n\nfor (i=0;i&lt;str.length()-1;i++){\n    for (j=i+1;j&lt;str.length();j++){\n        if (str.charAt(i)==str.charAt(j))\n            str.deleteCharAt(j);\n    }\n}\nSystem.out.println(\"Removed non-unique symbols: \" + str);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":199671,"reputation":148444,"user_id":445131,"accept_rate":89,"display_name":"Eric Leschinski"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429902746,"creation_date":1429902746,"answer_id":29855633,"question_id":4989091,"body_markdown":"Code to remove the duplicate characters in a string without using any additional buffer. NOTE: One or two additional variables are fine. An extra array is not:\r\n\r\n\r\n    import java.util.*;\r\n    public class Main{\r\n        public static char[] removeDupes(char[] arr){\r\n            if (arr == null || arr.length &lt; 2)\r\n                return arr;\r\n            int len = arr.length;\r\n            int tail = 1;\r\n            for(int x = 1; x &lt; len; x++){\r\n                int y;\r\n                for(y = 0; y &lt; tail; y++){\r\n                    if (arr[x] == arr[y]) break;\r\n                }\r\n                if (y == tail){\r\n                    arr[tail] = arr[x];\r\n                    tail++;\r\n                }\r\n            }\r\n            return Arrays.copyOfRange(arr, 0, tail);\r\n        }\r\n    \r\n        public static char[] bigArr(int len){\r\n            char[] arr = new char[len];\r\n            Random r = new Random();\r\n            String alphabet = &quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890!@#$%^&amp;*()-=_+[]{}|;:&#39;,.&lt;&gt;/?`~&quot;;\r\n    \r\n            for(int x = 0; x &lt; len; x++){\r\n                arr[x] = alphabet.charAt(r.nextInt(alphabet.length()));\r\n            }\r\n    \r\n            return arr;\r\n        }\r\n        public static void main(String args[]){\r\n    \r\n            String result = new String(removeDupes(new char[]{&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;a&#39;}));\r\n            assert &quot;abcd&quot;.equals(result) : &quot;abcda should return abcd but it returns: &quot; + result;\r\n    \r\n            result = new String(removeDupes(new char[]{&#39;a&#39;, &#39;a&#39;, &#39;a&#39;, &#39;a&#39;}));\r\n            assert &quot;a&quot;.equals(result) : &quot;aaaa should return a but it returns: &quot; + result;\r\n    \r\n            result = new String(removeDupes(new char[]{&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;a&#39;}));\r\n            assert &quot;abc&quot;.equals(result) : &quot;abca should return abc but it returns: &quot; + result;\r\n    \r\n            result = new String(removeDupes(new char[]{&#39;a&#39;, &#39;a&#39;, &#39;b&#39;, &#39;b&#39;}));\r\n            assert &quot;ab&quot;.equals(result) : &quot;aabb should return ab but it returns: &quot; + result;\r\n    \r\n            result = new String(removeDupes(new char[]{&#39;a&#39;}));\r\n            assert &quot;a&quot;.equals(result) : &quot;a should return a but it returns: &quot; + result;\r\n    \r\n            result = new String(removeDupes(new char[]{&#39;a&#39;, &#39;b&#39;, &#39;b&#39;, &#39;a&#39;}));\r\n            assert &quot;ab&quot;.equals(result) : &quot;abba should return ab but it returns: &quot; + result;\r\n    \r\n    \r\n            char[] arr = bigArr(5000000);\r\n            long startTime = System.nanoTime();\r\n            System.out.println(&quot;2: &quot; + new String(removeDupes(arr)));\r\n            long endTime = System.nanoTime();\r\n            long duration = (endTime - startTime);\r\n            System.out.println(&quot;Program took: &quot; + duration + &quot; nanoseconds&quot;);\r\n            System.out.println(&quot;Program took: &quot; + duration/1000000000 + &quot; seconds&quot;);\r\n    \r\n        }\r\n    }\r\n\r\n**How to read and talk about the above code:**\r\n\r\n1.  The method called removeDupes takes an array of primitive char called arr.\r\n2.  arr is returned as an array of primitive characters &quot;by value&quot;.  The arr passed in is garbage collected at the end of Main&#39;s member method removeDupes.\r\n3.  The runtime complexity of this algorithm is O(n) or more specifically O(n+(small constant)) the constant being the unique characters in the entire array of primitive chars. \r\n4.  The copyOfRange does not increase runtime complexity significantly since it only copies a small constant number of items.  The char array called arr is not stepped all the way through.\r\n5.  If you pass null into removeDupes, the method returns null.\r\n6.  If you pass an empty array of primitive chars or an array containing one value, that unmodified array is returned.\r\n7.  Method removeDupes goes about as fast as physically possible, fully utilizing the L1 and L2 cache, so [Branch redirects are kept to a minimum][1].  \r\n8.  A 2015 standard issue unburdened computer should be able to complete this method with an primitive char array containing 500 million characters between 15 and 25 seconds.\r\n\r\n**Explain how this code works:**\r\n\r\nThe first part of the array passed in is used as the repository for the unique characters that are ultimately returned.  At the beginning of the function the answer is: &quot;the characters between 0 and 1&quot; as between 0 and tail.  \r\n\r\nWe define the variable y outside of the loop because we want to find the first location where the array index that we are looking at has been duplicated in our repository.  When a duplicate is found, it breaks out and quits, the y==tail returns false and the repository is not contributed to.\r\n\r\nwhen the index x that we are peeking at is not represented in our repository, then we pull that one and add it to the end of our repository at index tail and increment tail.  \r\n\r\nAt the end, we return the array between the points 0 and tail, which should be smaller or equal to in length to the original array.\r\n\r\n**Talking points exercise for coder interviews:**\r\n\r\nWill the program behave differently if you change the y++ to ++y?  Why or why not.\r\n\r\nDoes the array copy at the end represent another &#39;N&#39; pass through the entire array making runtime complexity O(n*n) instead of O(n) ?  Why or why not.\r\n\r\nCan you replace the double equals comparing primitive characters with a .equals?  Why or why not?\r\n\r\nCan this method be changed in order to do the replacements &quot;by reference&quot; instead of as it is now, &quot;by value&quot;?  Why or why not?\r\n\r\nCan you increase the efficiency of this algorithm by sorting the repository of unique values at the beginning of &#39;arr&#39;?  Under which circumstances would it be more efficient?\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11227809/why-is-processing-a-sorted-array-faster-than-an-unsorted-array/11227902#11227902","title":"Removing duplicates from a String in Java","body":"<p>Code to remove the duplicate characters in a string without using any additional buffer. NOTE: One or two additional variables are fine. An extra array is not:</p>\n\n<pre><code>import java.util.*;\npublic class Main{\n    public static char[] removeDupes(char[] arr){\n        if (arr == null || arr.length &lt; 2)\n            return arr;\n        int len = arr.length;\n        int tail = 1;\n        for(int x = 1; x &lt; len; x++){\n            int y;\n            for(y = 0; y &lt; tail; y++){\n                if (arr[x] == arr[y]) break;\n            }\n            if (y == tail){\n                arr[tail] = arr[x];\n                tail++;\n            }\n        }\n        return Arrays.copyOfRange(arr, 0, tail);\n    }\n\n    public static char[] bigArr(int len){\n        char[] arr = new char[len];\n        Random r = new Random();\n        String alphabet = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890!@#$%^&amp;*()-=_+[]{}|;:',.&lt;&gt;/?`~\";\n\n        for(int x = 0; x &lt; len; x++){\n            arr[x] = alphabet.charAt(r.nextInt(alphabet.length()));\n        }\n\n        return arr;\n    }\n    public static void main(String args[]){\n\n        String result = new String(removeDupes(new char[]{'a', 'b', 'c', 'd', 'a'}));\n        assert \"abcd\".equals(result) : \"abcda should return abcd but it returns: \" + result;\n\n        result = new String(removeDupes(new char[]{'a', 'a', 'a', 'a'}));\n        assert \"a\".equals(result) : \"aaaa should return a but it returns: \" + result;\n\n        result = new String(removeDupes(new char[]{'a', 'b', 'c', 'a'}));\n        assert \"abc\".equals(result) : \"abca should return abc but it returns: \" + result;\n\n        result = new String(removeDupes(new char[]{'a', 'a', 'b', 'b'}));\n        assert \"ab\".equals(result) : \"aabb should return ab but it returns: \" + result;\n\n        result = new String(removeDupes(new char[]{'a'}));\n        assert \"a\".equals(result) : \"a should return a but it returns: \" + result;\n\n        result = new String(removeDupes(new char[]{'a', 'b', 'b', 'a'}));\n        assert \"ab\".equals(result) : \"abba should return ab but it returns: \" + result;\n\n\n        char[] arr = bigArr(5000000);\n        long startTime = System.nanoTime();\n        System.out.println(\"2: \" + new String(removeDupes(arr)));\n        long endTime = System.nanoTime();\n        long duration = (endTime - startTime);\n        System.out.println(\"Program took: \" + duration + \" nanoseconds\");\n        System.out.println(\"Program took: \" + duration/1000000000 + \" seconds\");\n\n    }\n}\n</code></pre>\n\n<p><strong>How to read and talk about the above code:</strong></p>\n\n<ol>\n<li>The method called removeDupes takes an array of primitive char called arr.</li>\n<li>arr is returned as an array of primitive characters \"by value\".  The arr passed in is garbage collected at the end of Main's member method removeDupes.</li>\n<li>The runtime complexity of this algorithm is O(n) or more specifically O(n+(small constant)) the constant being the unique characters in the entire array of primitive chars. </li>\n<li>The copyOfRange does not increase runtime complexity significantly since it only copies a small constant number of items.  The char array called arr is not stepped all the way through.</li>\n<li>If you pass null into removeDupes, the method returns null.</li>\n<li>If you pass an empty array of primitive chars or an array containing one value, that unmodified array is returned.</li>\n<li>Method removeDupes goes about as fast as physically possible, fully utilizing the L1 and L2 cache, so <a href=\"https://stackoverflow.com/questions/11227809/why-is-processing-a-sorted-array-faster-than-an-unsorted-array/11227902#11227902\">Branch redirects are kept to a minimum</a>.  </li>\n<li>A 2015 standard issue unburdened computer should be able to complete this method with an primitive char array containing 500 million characters between 15 and 25 seconds.</li>\n</ol>\n\n<p><strong>Explain how this code works:</strong></p>\n\n<p>The first part of the array passed in is used as the repository for the unique characters that are ultimately returned.  At the beginning of the function the answer is: \"the characters between 0 and 1\" as between 0 and tail.  </p>\n\n<p>We define the variable y outside of the loop because we want to find the first location where the array index that we are looking at has been duplicated in our repository.  When a duplicate is found, it breaks out and quits, the y==tail returns false and the repository is not contributed to.</p>\n\n<p>when the index x that we are peeking at is not represented in our repository, then we pull that one and add it to the end of our repository at index tail and increment tail.  </p>\n\n<p>At the end, we return the array between the points 0 and tail, which should be smaller or equal to in length to the original array.</p>\n\n<p><strong>Talking points exercise for coder interviews:</strong></p>\n\n<p>Will the program behave differently if you change the y++ to ++y?  Why or why not.</p>\n\n<p>Does the array copy at the end represent another 'N' pass through the entire array making runtime complexity O(n*n) instead of O(n) ?  Why or why not.</p>\n\n<p>Can you replace the double equals comparing primitive characters with a .equals?  Why or why not?</p>\n\n<p>Can this method be changed in order to do the replacements \"by reference\" instead of as it is now, \"by value\"?  Why or why not?</p>\n\n<p>Can you increase the efficiency of this algorithm by sorting the repository of unique values at the beginning of 'arr'?  Under which circumstances would it be more efficient?</p>\n"},{"tags":[],"owner":{"account_id":6673566,"reputation":21,"user_id":5149018,"display_name":"Jak Ratiwanich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446333400,"creation_date":1446333400,"answer_id":33457629,"question_id":4989091,"body_markdown":"Here is another logic I&#39;d like to share. You start comparing from midway of the string length and go backward.\r\n\r\nTest with:\r\ninput = &quot;azxxzy&quot;;\r\noutput = &quot;ay&quot;;\r\n\r\n    String removeMidway(String input){\r\n    \t\tcnt = cnt+1;\r\n    \t\tStringBuilder str = new StringBuilder(input);\r\n    \t\tint midlen = str.length()/2;\r\n    \t\tfor(int i=midlen-1;i&gt;0;i--){\r\n    \t\t\t\r\n    \t\t\tfor(int j=midlen;j&lt;str.length()-1;j++){\t\t\r\n    \t\t\t\tif(str.charAt(i)==str.charAt(j)){\r\n    \t\t\t\t\tstr.delete(i, j+1);\r\n    \t\t\t\t\tmidlen = str.length()/2;\r\n    \t\t\t\t\tSystem.out.println(&quot;i=&quot;+i+&quot;,j=&quot;+j+ &quot;,len=&quot;+ str.length() + &quot;,midlen=&quot; + midlen+ &quot;, after deleted = &quot; + str);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\t\t\r\n    \t\treturn str.toString();\r\n    \t}\r\n","title":"Removing duplicates from a String in Java","body":"<p>Here is another logic I'd like to share. You start comparing from midway of the string length and go backward.</p>\n\n<p>Test with:\ninput = \"azxxzy\";\noutput = \"ay\";</p>\n\n<pre><code>String removeMidway(String input){\n        cnt = cnt+1;\n        StringBuilder str = new StringBuilder(input);\n        int midlen = str.length()/2;\n        for(int i=midlen-1;i&gt;0;i--){\n\n            for(int j=midlen;j&lt;str.length()-1;j++){     \n                if(str.charAt(i)==str.charAt(j)){\n                    str.delete(i, j+1);\n                    midlen = str.length()/2;\n                    System.out.println(\"i=\"+i+\",j=\"+j+ \",len=\"+ str.length() + \",midlen=\" + midlen+ \", after deleted = \" + str);\n                }\n            }\n        }       \n        return str.toString();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1452542652,"creation_date":1452542652,"answer_id":34730085,"question_id":4989091,"body_markdown":"Here is an improvement to the [answer by Dave][1].\r\n\r\nIt uses `HashSet` instead of the slightly more costly `LinkedHashSet`, and reuses the `chars` buffer for the result, eliminating the need for a `StringBuilder`.\r\n\r\n\tString string = &quot;aabbccdefatafaz&quot;;\r\n\t\r\n\tchar[] chars = string.toCharArray();\r\n\tSet&lt;Character&gt; present = new HashSet&lt;&gt;();\r\n\tint len = 0;\r\n\tfor (char c : chars)\r\n\t\tif (present.add(c))\r\n\t\t\tchars[len++] = c;\r\n\t\r\n\tSystem.out.println(new String(chars, 0, len));   // abcdeftz\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/4989150/5221149","title":"Removing duplicates from a String in Java","body":"<p>Here is an improvement to the <a href=\"https://stackoverflow.com/a/4989150/5221149\">answer by Dave</a>.</p>\n\n<p>It uses <code>HashSet</code> instead of the slightly more costly <code>LinkedHashSet</code>, and reuses the <code>chars</code> buffer for the result, eliminating the need for a <code>StringBuilder</code>.</p>\n\n<pre><code>String string = \"aabbccdefatafaz\";\n\nchar[] chars = string.toCharArray();\nSet&lt;Character&gt; present = new HashSet&lt;&gt;();\nint len = 0;\nfor (char c : chars)\n    if (present.add(c))\n        chars[len++] = c;\n\nSystem.out.println(new String(chars, 0, len));   // abcdeftz\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3983689,"reputation":509,"user_id":3284965,"display_name":"manpatha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636709109,"creation_date":1458265627,"answer_id":36074733,"question_id":4989091,"body_markdown":"\r\n    void remove_duplicate (char* str, int len) {\r\n        unsigned int index = 0;\r\n        int c = 0;\r\n        int i = 0;\r\n        while (c &lt; len) {\r\n            /* this is just example more check can be added for\r\n               capital letter, space and special chars */\r\n\r\n            int pos = str[c] - &#39;a&#39;;\r\n            if ((index &amp; (1&lt;&lt;pos)) == 0) {\r\n                str[i++] = str[c];\r\n                index |= (1&lt;&lt;pos);\r\n            }\r\n            c++;\r\n        }\r\n        str[i] = 0;\r\n    }","title":"Removing duplicates from a String in Java","body":"<pre><code>void remove_duplicate (char* str, int len) {\n    unsigned int index = 0;\n    int c = 0;\n    int i = 0;\n    while (c &lt; len) {\n        /* this is just example more check can be added for\n           capital letter, space and special chars */\n\n        int pos = str[c] - 'a';\n        if ((index &amp; (1&lt;&lt;pos)) == 0) {\n            str[i++] = str[c];\n            index |= (1&lt;&lt;pos);\n        }\n        c++;\n    }\n    str[i] = 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6079355,"reputation":1914,"user_id":4745608,"display_name":"Aleksandr Erokhin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469281328,"creation_date":1469281328,"answer_id":38542446,"question_id":4989091,"body_markdown":"Another possible solution, in case a string is an ASCII string, is to maintain an array of 256 boolean elements to denote ASCII character appearance in a string. If a character appeared for the first time, we keep it and append to the result. Otherwise just skip it.\r\n\r\n    public String removeDuplicates(String input) {\r\n        boolean[] chars = new boolean[256];\r\n        StringBuilder resultStringBuilder = new StringBuilder();\r\n        for (Character c : input.toCharArray()) {\r\n            if (!chars[c]) {\r\n                resultStringBuilder.append(c);\r\n                chars[c] = true;\r\n            }\r\n        }\r\n        return resultStringBuilder.toString();\r\n    }\r\n\r\nThis approach will also work with Unicode string. You just need to increase `chars` size.","title":"Removing duplicates from a String in Java","body":"<p>Another possible solution, in case a string is an ASCII string, is to maintain an array of 256 boolean elements to denote ASCII character appearance in a string. If a character appeared for the first time, we keep it and append to the result. Otherwise just skip it.</p>\n\n<pre><code>public String removeDuplicates(String input) {\n    boolean[] chars = new boolean[256];\n    StringBuilder resultStringBuilder = new StringBuilder();\n    for (Character c : input.toCharArray()) {\n        if (!chars[c]) {\n            resultStringBuilder.append(c);\n            chars[c] = true;\n        }\n    }\n    return resultStringBuilder.toString();\n}\n</code></pre>\n\n<p>This approach will also work with Unicode string. You just need to increase <code>chars</code> size.</p>\n"},{"tags":[],"owner":{"account_id":455032,"reputation":2720,"user_id":853001,"display_name":"realPK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469326595,"creation_date":1469326595,"answer_id":38548148,"question_id":4989091,"body_markdown":"Solution using JDK7:\r\n\r\n    public static String removeDuplicateChars(final String str){\r\n\r\n        if (str == null || str.isEmpty()){\r\n            return str;\r\n        }\r\n\r\n        final char[] chArray = str.toCharArray();\r\n        final Set&lt;Character&gt; set = new LinkedHashSet&lt;&gt;();\r\n        for (char c : chArray) {\r\n            set.add(c);\r\n        }\r\n\r\n        final StringBuilder sb = new StringBuilder();\r\n        for (Character character : set) {\r\n            sb.append(character);\r\n        }\r\n        return sb.toString();\r\n    }","title":"Removing duplicates from a String in Java","body":"<p>Solution using JDK7:</p>\n\n<pre><code>public static String removeDuplicateChars(final String str){\n\n    if (str == null || str.isEmpty()){\n        return str;\n    }\n\n    final char[] chArray = str.toCharArray();\n    final Set&lt;Character&gt; set = new LinkedHashSet&lt;&gt;();\n    for (char c : chArray) {\n        set.add(c);\n    }\n\n    final StringBuilder sb = new StringBuilder();\n    for (Character character : set) {\n        sb.append(character);\n    }\n    return sb.toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":172198,"reputation":5240,"user_id":628006,"accept_rate":90,"display_name":"&#252;"},"score":0,"creation_date":1475777771,"post_id":39890808,"comment_id":67091375,"body_markdown":"Good to give some code, but it should come with some explanation to point the changes and why it is the solution of the OP&#39;s question.","body":"Good to give some code, but it should come with some explanation to point the changes and why it is the solution of the OP&#39;s question."}],"tags":[],"owner":{"display_name":"user6012628"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1475741388,"creation_date":1475741388,"answer_id":39890808,"question_id":4989091,"body_markdown":"     public static void main(String a[]){\r\n          String name=&quot;Madan&quot;;\r\n          System.out.println(name);\r\n          StringBuilder sb=new StringBuilder(name);\r\n          for(int i=0;i&lt;name.length();i++){\r\n              for(int j=i+1;j&lt;name.length();j++){\r\n                 if(name.charAt(i)==name.charAt(j)){\r\n                  sb.deleteCharAt(j);\r\n                  \r\n                 }\r\n              }\r\n          }\r\n         System.out.println(&quot;After deletion :&quot;+sb+&quot;&quot;);\r\n        \r\n        }","title":"Removing duplicates from a String in Java","body":"<pre><code> public static void main(String a[]){\n      String name=\"Madan\";\n      System.out.println(name);\n      StringBuilder sb=new StringBuilder(name);\n      for(int i=0;i&lt;name.length();i++){\n          for(int j=i+1;j&lt;name.length();j++){\n             if(name.charAt(i)==name.charAt(j)){\n              sb.deleteCharAt(j);\n\n             }\n          }\n      }\n     System.out.println(\"After deletion :\"+sb+\"\");\n\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6229027,"reputation":28489,"user_id":4850040,"accept_rate":62,"display_name":"Toby Speight"},"score":0,"creation_date":1489676642,"post_id":42835153,"comment_id":72784521,"body_markdown":"Whilst this code snippet is welcome, and may provide some help, it would be [greatly improved if it included an explanation](//meta.stackexchange.com/q/114762) of *how* and *why* this solves the problem. Remember that you are answering the question for readers in the future, not just the person asking now!  Please [edit] your answer to add explanation, and give an indication of what limitations and assumptions apply.","body":"Whilst this code snippet is welcome, and may provide some help, it would be <a href=\"//meta.stackexchange.com/q/114762\">greatly improved if it included an explanation</a> of <i>how</i> and <i>why</i> this solves the problem. Remember that you are answering the question for readers in the future, not just the person asking now!  Please <a href=\"https://stackoverflow.com/posts/42835153/edit\">edit</a> your answer to add explanation, and give an indication of what limitations and assumptions apply."}],"tags":[],"owner":{"account_id":2492773,"reputation":31,"user_id":2169927,"display_name":"Elamparuthi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489670100,"creation_date":1489670100,"answer_id":42835153,"question_id":4989091,"body_markdown":"\r\n\t\tString str = &quot;eamparuthik@gmail.com&quot;;\r\n\t\tchar[] c = str.toCharArray();\r\n\t\tString op = &quot;&quot;;\r\n\t\t\r\n\t\tfor(int i=0; i&lt;=c.length-1; i++){\r\n\t\t\tif(!op.contains(c[i] + &quot;&quot;))\r\n\t\t\top = op + c[i];\r\n\t\t}\r\n\t\tSystem.out.println(op);\r\n\t","title":"Removing duplicates from a String in Java","body":"<pre><code>    String str = \"eamparuthik@gmail.com\";\n    char[] c = str.toCharArray();\n    String op = \"\";\n\n    for(int i=0; i&lt;=c.length-1; i++){\n        if(!op.contains(c[i] + \"\"))\n        op = op + c[i];\n    }\n    System.out.println(op);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5096768,"reputation":1551,"user_id":4087817,"display_name":"ngg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493344872,"creation_date":1493344872,"answer_id":43670744,"question_id":4989091,"body_markdown":"    public static String removeDuplicateChar(String str){\r\n    \t\t char charArray[] = str.toCharArray();\r\n    \t\t StringBuilder stringBuilder= new StringBuilder();\r\n    \t\t for(int i=0;i&lt;charArray.length;i++){\r\n    \t\t\t int index = stringBuilder.toString().indexOf(charArray[i]);\r\n    \t\t\t if(index &lt;= -1){\r\n    \t\t\t\t stringBuilder.append(charArray[i]);\r\n    \t\t\t }\r\n    \t\t }\r\n    \t\t return stringBuilder.toString();\r\n    \t}","title":"Removing duplicates from a String in Java","body":"<pre><code>public static String removeDuplicateChar(String str){\n         char charArray[] = str.toCharArray();\n         StringBuilder stringBuilder= new StringBuilder();\n         for(int i=0;i&lt;charArray.length;i++){\n             int index = stringBuilder.toString().indexOf(charArray[i]);\n             if(index &lt;= -1){\n                 stringBuilder.append(charArray[i]);\n             }\n         }\n         return stringBuilder.toString();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user6319208"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500030850,"creation_date":1500029559,"answer_id":45101186,"question_id":4989091,"body_markdown":"    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    \r\n    public class RemoveDuplicacy\r\n    {\r\n    \t    public static void main(String args[])throws IOException\r\n    \t    {\r\n    \t        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n    \t        System.out.print(&quot;Enter any word : &quot;);\r\n    \t        String s = br.readLine();\r\n    \t        int l = s.length();\r\n    \t        char ch;\r\n    \t        String ans=&quot; &quot;;\r\n    \t         \r\n    \t        for(int i=0; i&lt;l; i++)\r\n    \t        {\r\n    \t            ch = s.charAt(i);\r\n    \t            if(ch!=&#39; &#39;)\r\n    \t                ans = ans + ch;\r\n    \t            s = s.replace(ch,&#39; &#39;); //Replacing all occurrence of the current character by a space\r\n    \t        }\r\n    \t \r\n    \t       System.out.println(&quot;Word after removing duplicate characters : &quot; + ans);\r\n    \t    }\r\n    \r\n    }","title":"Removing duplicates from a String in Java","body":"<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\npublic class RemoveDuplicacy\n{\n        public static void main(String args[])throws IOException\n        {\n            BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n            System.out.print(\"Enter any word : \");\n            String s = br.readLine();\n            int l = s.length();\n            char ch;\n            String ans=\" \";\n\n            for(int i=0; i&lt;l; i++)\n            {\n                ch = s.charAt(i);\n                if(ch!=' ')\n                    ans = ans + ch;\n                s = s.replace(ch,' '); //Replacing all occurrence of the current character by a space\n            }\n\n           System.out.println(\"Word after removing duplicate characters : \" + ans);\n        }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5145435,"reputation":4720,"user_id":4121573,"accept_rate":100,"display_name":"Adonis"},"score":0,"creation_date":1501872459,"post_id":45513338,"comment_id":77988378,"body_markdown":"Whilst this code snippet is welcome, and may provide some help, it would be greatly improved if it included an explanation of how and why this solves the problem. Remember that you are answering the question for readers in the future, not just the person asking now! Please edit your answer to add explanation, and give an indication of what limitations and assumptions apply. (Thanks @Toby Speight for this message)","body":"Whilst this code snippet is welcome, and may provide some help, it would be greatly improved if it included an explanation of how and why this solves the problem. Remember that you are answering the question for readers in the future, not just the person asking now! Please edit your answer to add explanation, and give an indication of what limitations and assumptions apply. (Thanks @Toby Speight for this message)"}],"tags":[],"owner":{"display_name":"user6863325"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501871239,"creation_date":1501871239,"answer_id":45513338,"question_id":4989091,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class dublicate {\r\n    \tpublic static void main(String... a) {\r\n    \t\tSystem.out.print(&quot;Enter the String&quot;);\r\n    \t\tScanner Sc = new Scanner(System.in);\r\n    \t\tString st=Sc.nextLine();\r\n    \t\tStringBuilder sb=new StringBuilder();\r\n    \t\tboolean [] bc=new boolean[256];\r\n    \t\tfor(int i=0;i&lt;st.length();i++)\r\n    \t\t{\r\n    \t\t\tint index=st.charAt(i);\r\n    \t\t\tif(bc[index]==false)\r\n    \t\t\t{\r\n    \t\t\t\tsb.append(st.charAt(i));\r\n    \t\t\t\tbc[index]=true;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t}\r\n    \t\tSystem.out.print(sb.toString());\r\n    \t}\r\n    }","title":"Removing duplicates from a String in Java","body":"<pre><code>import java.util.Scanner;\n\npublic class dublicate {\n    public static void main(String... a) {\n        System.out.print(\"Enter the String\");\n        Scanner Sc = new Scanner(System.in);\n        String st=Sc.nextLine();\n        StringBuilder sb=new StringBuilder();\n        boolean [] bc=new boolean[256];\n        for(int i=0;i&lt;st.length();i++)\n        {\n            int index=st.charAt(i);\n            if(bc[index]==false)\n            {\n                sb.append(st.charAt(i));\n                bc[index]=true;\n            }\n\n        }\n        System.out.print(sb.toString());\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11368907,"reputation":4584,"user_id":8334991,"display_name":"Alexandre Fenyo"},"score":0,"creation_date":1503545438,"post_id":45852441,"comment_id":78662968,"body_markdown":"Please, do not only give code, explain what was wrong and how this code solves the problem.","body":"Please, do not only give code, explain what was wrong and how this code solves the problem."}],"tags":[],"owner":{"account_id":11616878,"reputation":1,"user_id":8509290,"display_name":"hemachandra"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503550870,"creation_date":1503545108,"answer_id":45852441,"question_id":4989091,"body_markdown":"\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tint i,j;\r\n\t\tStringBuffer str=new StringBuffer();\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\tSystem.out.print(&quot;Enter string: &quot;);\r\n\r\n\t\tstr.append(in.nextLine());\r\n\r\n\t\tfor (i=0;i&lt;str.length()-1;i++)\r\n\t\t{\r\n\t\t\tfor (j=1;j&lt;str.length();j++)\r\n\t\t\t{\r\n\t\t\t\tif (str.charAt(i)==str.charAt(j))\r\n\t\t\t\t\tstr.deleteCharAt(j);\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Removed String: &quot; + str);\r\n\t}","title":"Removing duplicates from a String in Java","body":"<pre><code>public static void main(String[] args) {\n\n    int i,j;\n    StringBuffer str=new StringBuffer();\n    Scanner in = new Scanner(System.in);\n    System.out.print(\"Enter string: \");\n\n    str.append(in.nextLine());\n\n    for (i=0;i&lt;str.length()-1;i++)\n    {\n        for (j=1;j&lt;str.length();j++)\n        {\n            if (str.charAt(i)==str.charAt(j))\n                str.deleteCharAt(j);\n        }\n    }\n    System.out.println(\"Removed String: \" + str);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10063010,"reputation":5822,"user_id":7438973,"accept_rate":44,"display_name":"nagendra547"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503554305,"creation_date":1503553693,"answer_id":45853842,"question_id":4989091,"body_markdown":"This is improvement on solution suggested by @Dave. Here, I am implementing in single loop only. \r\n\r\n&gt; Let&#39;s **reuse the return** of **set.add(T item)** method and add it simultaneously in StringBuffer if add is successfull\r\n\r\nThis is just O(n). No need to make a loop again.\r\n\r\n\tString string = &quot;aabbccdefatafaz&quot;;\r\n\r\n\tchar[] chars = string.toCharArray();\r\n\tStringBuilder sb = new StringBuilder();\r\n\tSet&lt;Character&gt; charSet = new LinkedHashSet&lt;Character&gt;();\r\n\tfor (char c : chars) {\r\n\t    if(charSet.add(c) ){\r\n\t    \tsb.append(c);\r\n\t    }\r\n\t    \r\n\t}\r\n\tSystem.out.println(sb.toString()); // abcdeftz","title":"Removing duplicates from a String in Java","body":"<p>This is improvement on solution suggested by @Dave. Here, I am implementing in single loop only. </p>\n\n<blockquote>\n  <p>Let's <strong>reuse the return</strong> of <strong>set.add(T item)</strong> method and add it simultaneously in StringBuffer if add is successfull</p>\n</blockquote>\n\n<p>This is just O(n). No need to make a loop again.</p>\n\n<pre><code>String string = \"aabbccdefatafaz\";\n\nchar[] chars = string.toCharArray();\nStringBuilder sb = new StringBuilder();\nSet&lt;Character&gt; charSet = new LinkedHashSet&lt;Character&gt;();\nfor (char c : chars) {\n    if(charSet.add(c) ){\n        sb.append(c);\n    }\n\n}\nSystem.out.println(sb.toString()); // abcdeftz\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10089305,"reputation":49,"user_id":7456785,"display_name":"VRaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508137116,"creation_date":1508137116,"answer_id":46764548,"question_id":4989091,"body_markdown":"Simple solution is to iterate through the given string and put each unique character into another string(in this case, a variable **result** ) if this string doesn&#39;t contain that particular character.Finally return **result** string as output.\r\n\r\nBelow is working and tested code snippet for removing duplicate characters from the given string which has O(n) time complexity .\r\n\r\n    private static String removeDuplicate(String s) {\r\n\t\t  String result=&quot;&quot;;\r\n\t\t  for (int i=0 ;i&lt;s.length();i++) {\r\n\t\t\t  char ch = s.charAt(i);\r\n\t\t\t  if (!result.contains(&quot;&quot;+ch)) {\r\n\t\t\t\t  result+=&quot;&quot;+ch;\r\n\t\t\t  }\r\n\t\t  }\r\n\t\t  return result;\r\n\t  }\r\n\r\nIf the input is **madam** then output will be **mad**.   \r\nIf the input is **anagram** then output will be **angrm**\r\n\r\nHope this helps.  \r\nThanks\r\n","title":"Removing duplicates from a String in Java","body":"<p>Simple solution is to iterate through the given string and put each unique character into another string(in this case, a variable <strong>result</strong> ) if this string doesn't contain that particular character.Finally return <strong>result</strong> string as output.</p>\n\n<p>Below is working and tested code snippet for removing duplicate characters from the given string which has O(n) time complexity .</p>\n\n<pre><code>private static String removeDuplicate(String s) {\n      String result=\"\";\n      for (int i=0 ;i&lt;s.length();i++) {\n          char ch = s.charAt(i);\n          if (!result.contains(\"\"+ch)) {\n              result+=\"\"+ch;\n          }\n      }\n      return result;\n  }\n</code></pre>\n\n<p>If the input is <strong>madam</strong> then output will be <strong>mad</strong>.<br>\nIf the input is <strong>anagram</strong> then output will be <strong>angrm</strong></p>\n\n<p>Hope this helps.<br>\nThanks</p>\n"},{"tags":[],"owner":{"account_id":3318440,"reputation":129,"user_id":2790170,"accept_rate":22,"display_name":"Nitesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509078715,"creation_date":1509078715,"answer_id":46967547,"question_id":4989091,"body_markdown":"For the simplicity of the code- I have taken hardcore input, one can take input by using Scanner class also\r\n\r\n        public class KillDuplicateCharInString {\r\n    \tpublic static void main(String args[]) {\r\n    \t\tString str= &quot;aaaabccdde &quot;;\r\n    \t\tchar arr[]= str.toCharArray();\r\n    \t\tint n = arr.length;\r\n    \t\tString finalStr=&quot;&quot;;\r\n    \t\tfor(int i=0;i&lt;n;i++) {\r\n    \t\t\tif(i==n-1){\r\n    \t\t\t\tfinalStr+=arr[i];\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\tif(arr[i]==arr[i+1]) {\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\tfinalStr+=arr[i];\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(finalStr);\r\n    \r\n    \r\n    \r\n    \t}\r\n    }\r\n\r\n","title":"Removing duplicates from a String in Java","body":"<p>For the simplicity of the code- I have taken hardcore input, one can take input by using Scanner class also</p>\n\n<pre><code>    public class KillDuplicateCharInString {\n    public static void main(String args[]) {\n        String str= \"aaaabccdde \";\n        char arr[]= str.toCharArray();\n        int n = arr.length;\n        String finalStr=\"\";\n        for(int i=0;i&lt;n;i++) {\n            if(i==n-1){\n                finalStr+=arr[i];\n                break;\n            }\n            if(arr[i]==arr[i+1]) {\n                continue;\n            }\n            else {\n                finalStr+=arr[i];\n            }\n        }\n        System.out.println(finalStr);\n\n\n\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5330414,"reputation":1768,"user_id":4251114,"accept_rate":70,"display_name":"Sinux"},"score":1,"creation_date":1633676291,"post_id":47934738,"comment_id":122827777,"body_markdown":"can simplify with `Arrays.stream`","body":"can simplify with <code>Arrays.stream</code>"}],"tags":[],"owner":{"account_id":5992306,"reputation":3409,"user_id":4708077,"accept_rate":60,"display_name":"Fundhor"},"comment_count":1,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1572880857,"creation_date":1513905028,"answer_id":47934738,"question_id":4989091,"body_markdown":"Using **Stream** makes it easy.\r\n\r\n    noDuplicates = Arrays.asList(myString.split(&quot;&quot;))\r\n                         .stream()\r\n                         .distinct()\r\n                         .collect(Collectors.joining());\r\n\r\n&gt; Here is some more documentation about Stream and all you can do with\r\n&gt; it :\r\n&gt; https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\r\n&gt;\r\n&gt; The &#39;description&#39; part is very instructive about the benefits of Streams.","title":"Removing duplicates from a String in Java","body":"<p>Using <strong>Stream</strong> makes it easy.</p>\n\n<pre><code>noDuplicates = Arrays.asList(myString.split(\"\"))\n                     .stream()\n                     .distinct()\n                     .collect(Collectors.joining());\n</code></pre>\n\n<blockquote>\n  <p>Here is some more documentation about Stream and all you can do with\n  it :\n  <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html</a></p>\n  \n  <p>The 'description' part is very instructive about the benefits of Streams.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":3782477,"reputation":2332,"user_id":3141502,"accept_rate":100,"display_name":"Vaibhav Desai"},"score":0,"creation_date":1515315657,"post_id":48135599,"comment_id":83248594,"body_markdown":"Give some explanation about your solution and how it solves the problem.","body":"Give some explanation about your solution and how it solves the problem."}],"tags":[],"owner":{"account_id":12632994,"reputation":1,"user_id":9183608,"display_name":"Chandan Jaiswal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515317498,"creation_date":1515314227,"answer_id":48135599,"question_id":4989091,"body_markdown":"        \r\n    \r\n     public static void main (String[] args)\r\n     {\r\n        Scanner sc = new Scanner(System.in);\r\n        String s = sc.next();\r\n        String str = &quot;&quot;;\r\n        char c;\r\n        for(int i = 0; i &lt; s.length(); i++)\r\n        {\r\n            c = s.charAt(i);\r\n            str = str + c;\r\n            s = s.replace(c, &#39; &#39;);\r\n            if(i == s.length() - 1)\r\n            {\r\n               System.out.println(str.replaceAll(&quot;\\\\s&quot;, &quot;&quot;));   \r\n            }\r\n        }\r\n    }","title":"Removing duplicates from a String in Java","body":"<pre><code> public static void main (String[] args)\n {\n    Scanner sc = new Scanner(System.in);\n    String s = sc.next();\n    String str = \"\";\n    char c;\n    for(int i = 0; i &lt; s.length(); i++)\n    {\n        c = s.charAt(i);\n        str = str + c;\n        s = s.replace(c, ' ');\n        if(i == s.length() - 1)\n        {\n           System.out.println(str.replaceAll(\"\\\\s\", \"\"));   \n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12681426,"reputation":1,"user_id":9214953,"display_name":"Pravesh Kumar Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515913521,"creation_date":1515913521,"answer_id":48247388,"question_id":4989091,"body_markdown":"    package com.st.removeduplicate;\r\n     public class RemoveDuplicate {\r\n\t   public static void main(String[] args) {\r\n\t\tString str1=&quot;shushil&quot;,str2=&quot;&quot;;\t\t\r\n\t\tfor(int i=0; i&lt;=str1.length()-1;i++) {\r\n\t\t\tint count=0;\r\n\t\t\tfor(int j=0;j&lt;=i;j++) {\r\n\t\t\t\tif(str1.charAt(i)==str1.charAt(j)) \r\n\t\t\t\t\tcount++;\r\n\t\t\t\tif(count &gt;1)\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif(count==1) \r\n\t\t\t\tstr2=str2+str1.charAt(i);\r\n\t\t}\r\n\t\tSystem.out.println(str2);\r\n\r\n\t}\r\n\r\n}\r\n","title":"Removing duplicates from a String in Java","body":"<pre><code>package com.st.removeduplicate;\n public class RemoveDuplicate {\n   public static void main(String[] args) {\n    String str1=\"shushil\",str2=\"\";      \n    for(int i=0; i&lt;=str1.length()-1;i++) {\n        int count=0;\n        for(int j=0;j&lt;=i;j++) {\n            if(str1.charAt(i)==str1.charAt(j)) \n                count++;\n            if(count &gt;1)\n                break;\n        }\n        if(count==1) \n            str2=str2+str1.charAt(i);\n    }\n    System.out.println(str2);\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":12883159,"reputation":11,"user_id":9317577,"display_name":"Chris"},"score":0,"creation_date":1517846102,"post_id":48626301,"comment_id":84249666,"body_markdown":"I just realized his second example shows that it does remove duplicates even if they don&#39;t follow one another. So this solution is incorrect for what he/she is trying to accomplish.","body":"I just realized his second example shows that it does remove duplicates even if they don&#39;t follow one another. So this solution is incorrect for what he/she is trying to accomplish."}],"tags":[],"owner":{"account_id":12883159,"reputation":11,"user_id":9317577,"display_name":"Chris"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517845675,"creation_date":1517845675,"answer_id":48626301,"question_id":4989091,"body_markdown":"To me it looks like everyone is trying way too hard to accomplish this task. All we are concerned about is that it copies 1 copy of each letter if it repeats. Then because we are only concerned if those characters repeat one after the other the nested loops become arbitrary as you can just simply compare position n to position n + 1. Then because this only copies things down when they&#39;re different, to solve for the last character you can either append white space to the end of the original string, or just get it to copy the last character of the string to your result. \r\n\r\nString removeDuplicate(String s){\r\n        \r\n        String result = &quot;&quot;;\r\n        \r\n        for (int i = 0; i &lt; s.length(); i++){\r\n            if (i + 1 &lt; s.length() &amp;&amp; s.charAt(i) != s.charAt(i+1)){\r\n                result = result + s.charAt(i);\r\n            }\r\n            if (i + 1 == s.length()){\r\n                result = result + s.charAt(i);\r\n            }\r\n        }\r\n                \r\n        return result;\r\n        \r\n    }","title":"Removing duplicates from a String in Java","body":"<p>To me it looks like everyone is trying way too hard to accomplish this task. All we are concerned about is that it copies 1 copy of each letter if it repeats. Then because we are only concerned if those characters repeat one after the other the nested loops become arbitrary as you can just simply compare position n to position n + 1. Then because this only copies things down when they're different, to solve for the last character you can either append white space to the end of the original string, or just get it to copy the last character of the string to your result. </p>\n\n<p>String removeDuplicate(String s){</p>\n\n<pre><code>    String result = \"\";\n\n    for (int i = 0; i &lt; s.length(); i++){\n        if (i + 1 &lt; s.length() &amp;&amp; s.charAt(i) != s.charAt(i+1)){\n            result = result + s.charAt(i);\n        }\n        if (i + 1 == s.length()){\n            result = result + s.charAt(i);\n        }\n    }\n\n    return result;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6277349,"reputation":311,"user_id":4879651,"display_name":"Manash Ranjan Dakua"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1636709312,"creation_date":1523447396,"answer_id":49774379,"question_id":4989091,"body_markdown":"```\r\npackage com.core.interview.client;\r\n\r\nimport java.util.LinkedHashSet;\r\n\r\nimport java.util.Scanner;\r\n\r\nimport java.util.Set;\r\n\r\npublic class RemoveDuplicateFromString {\r\n\r\n\tpublic static String DupRemoveFromString(String str) {\r\n\r\n\t\tchar[] c1 = str.toCharArray();\r\n\r\n\t\tSet &lt; Character &gt; charSet = new LinkedHashSet &lt; Character &gt; ();\r\n\r\n\t\tfor (char c: c1) {\r\n\r\n\t\t\tcharSet.add(c);\r\n\t\t}\r\n\r\n\t\tStringBuffer sb = new StringBuffer();\r\n\r\n\t\tfor (Character c2: charSet) {\r\n\r\n\t\t\tsb.append(c2);\r\n\t\t}\r\n\r\n\t\treturn sb.toString();\r\n\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tSystem.out.println(&quot;Enter Your String: &quot;);\r\n\r\n\t\tScanner sc = new Scanner(System. in );\r\n\r\n\t\tString str = sc.nextLine();\r\n\r\n\t\tSystem.out.println(DupRemoveFromString(str));\r\n\t}\r\n}\r\n```","title":"Removing duplicates from a String in Java","body":"<pre><code>package com.core.interview.client;\n\nimport java.util.LinkedHashSet;\n\nimport java.util.Scanner;\n\nimport java.util.Set;\n\npublic class RemoveDuplicateFromString {\n\n    public static String DupRemoveFromString(String str) {\n\n        char[] c1 = str.toCharArray();\n\n        Set &lt; Character &gt; charSet = new LinkedHashSet &lt; Character &gt; ();\n\n        for (char c: c1) {\n\n            charSet.add(c);\n        }\n\n        StringBuffer sb = new StringBuffer();\n\n        for (Character c2: charSet) {\n\n            sb.append(c2);\n        }\n\n        return sb.toString();\n\n    }\n\n    public static void main(String[] args) {\n\n        System.out.println(&quot;Enter Your String: &quot;);\n\n        Scanner sc = new Scanner(System. in );\n\n        String str = sc.nextLine();\n\n        System.out.println(DupRemoveFromString(str));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12838098,"reputation":3,"user_id":9286989,"display_name":"Nagarjuna KR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524136779,"creation_date":1524136779,"answer_id":49919790,"question_id":4989091,"body_markdown":"Hope this will help.\r\n\r\n    public void RemoveDuplicates() {\r\n\t\tString s = &quot;Hello World!&quot;;\r\n\t\tint l = s.length();\r\n\t\tchar ch;\r\n\t\tString result = &quot;&quot;;\r\n\t\tfor (int i = 0; i &lt; l; i++) {\r\n\t\t\tch = s.charAt(i);\r\n\t\t\tif (ch != &#39; &#39;) {\r\n\t\t\t\tresult = result + ch;\r\n\t\t\t}\r\n\t\t\t// Replacing space in all occurrence of the current character\r\n\t\t\ts = s.replace(ch, &#39; &#39;);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;After removing duplicate characters : &quot; + result);\r\n\t}","title":"Removing duplicates from a String in Java","body":"<p>Hope this will help.</p>\n\n<pre><code>public void RemoveDuplicates() {\n    String s = \"Hello World!\";\n    int l = s.length();\n    char ch;\n    String result = \"\";\n    for (int i = 0; i &lt; l; i++) {\n        ch = s.charAt(i);\n        if (ch != ' ') {\n            result = result + ch;\n        }\n        // Replacing space in all occurrence of the current character\n        s = s.replace(ch, ' ');\n    }\n    System.out.println(\"After removing duplicate characters : \" + result);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":428194,"reputation":13578,"user_id":810358,"accept_rate":71,"display_name":"Venkatesh Laguduva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529157065,"creation_date":1529157065,"answer_id":50888503,"question_id":4989091,"body_markdown":"&#39;ve an array to know whether a character has already been recorded or not; if not, add that to the string buffer. Please note that I have made it case sensitive; with the int array, you can always make it(&#39;ve not done that in this code) to return the number of occurrences too.\r\n\r\n    private static String removeDuplicates(String s) {\r\n\r\n        int [] occurrences = new int[52];\r\n        Arrays.fill(occurrences,0);\r\n\r\n        StringBuffer deDupS = new StringBuffer();\r\n        for(int i = 0; i &lt; s.length(); i++) {\r\n            if(s.charAt(i) &gt;= 97) {\r\n                if(occurrences[s.charAt(i) - 97] == 0) {\r\n                    deDupS.append(s.charAt(i));\r\n                    occurrences[s.charAt(i) - 97]++;\r\n                }\r\n            } else if(s.charAt(i) &gt;= 65) {\r\n                if(occurrences[s.charAt(i) - 65 + 26] == 0) {\r\n                    deDupS.append(s.charAt(i));\r\n                    occurrences[s.charAt(i) - 65 + 26]++;\r\n                }\r\n            }\r\n        }\r\n\r\n        return deDupS.toString();\r\n\r\n    }\r\n\r\n","title":"Removing duplicates from a String in Java","body":"<p>'ve an array to know whether a character has already been recorded or not; if not, add that to the string buffer. Please note that I have made it case sensitive; with the int array, you can always make it('ve not done that in this code) to return the number of occurrences too.</p>\n\n<pre><code>private static String removeDuplicates(String s) {\n\n    int [] occurrences = new int[52];\n    Arrays.fill(occurrences,0);\n\n    StringBuffer deDupS = new StringBuffer();\n    for(int i = 0; i &lt; s.length(); i++) {\n        if(s.charAt(i) &gt;= 97) {\n            if(occurrences[s.charAt(i) - 97] == 0) {\n                deDupS.append(s.charAt(i));\n                occurrences[s.charAt(i) - 97]++;\n            }\n        } else if(s.charAt(i) &gt;= 65) {\n            if(occurrences[s.charAt(i) - 65 + 26] == 0) {\n                deDupS.append(s.charAt(i));\n                occurrences[s.charAt(i) - 65 + 26]++;\n            }\n        }\n    }\n\n    return deDupS.toString();\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13173718,"reputation":359828,"user_id":9515207,"display_name":"CertainPerformance"},"score":1,"creation_date":1531878363,"post_id":51392258,"comment_id":89756632,"body_markdown":"Please explain your code as well - don&#39;t just post a plain code block with no context","body":"Please explain your code as well - don&#39;t just post a plain code block with no context"}],"tags":[],"owner":{"account_id":10444960,"reputation":1,"user_id":7700313,"display_name":"venkat"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531877180,"creation_date":1531877180,"answer_id":51392258,"question_id":4989091,"body_markdown":"    StringBuilder builderWord = new StringBuilder(word);\r\n     for(int index=0; index &lt; builderWord.length(); index++) {\r\n       for(int reverseIndex=builderWord.length()-1; reverseIndex &gt; index;reverseIndex--) {\r\n         if (builderWord.charAt(reverseIndex) == builderWord.charAt(index)) {\r\n\t       builderWord.deleteCharAt(reverseIndex);\r\n\t     }\r\n       }\r\n    }\r\n    return builderWord.toString();","title":"Removing duplicates from a String in Java","body":"<pre><code>StringBuilder builderWord = new StringBuilder(word);\n for(int index=0; index &lt; builderWord.length(); index++) {\n   for(int reverseIndex=builderWord.length()-1; reverseIndex &gt; index;reverseIndex--) {\n     if (builderWord.charAt(reverseIndex) == builderWord.charAt(index)) {\n       builderWord.deleteCharAt(reverseIndex);\n     }\n   }\n}\nreturn builderWord.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14129446,"reputation":11,"user_id":10207805,"display_name":"rahul dhokale"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534942382,"creation_date":1534938165,"answer_id":51966098,"question_id":4989091,"body_markdown":"    String str1[] =&quot;Hi helloo helloo  oooo this&quot;.split(&quot; &quot;); \r\n    \r\n    Set&lt;String&gt; charSet = new LinkedHashSet&lt;String&gt;();\r\n    for (String c: str1) \r\n    {\r\n           charSet.add(c); \r\n    }\r\n    StringBuilder sb = new StringBuilder(); \r\n    for (String character : charSet) \r\n    {\r\n           sb.append(character); \r\n    }\r\n\r\n    System.out.println(sb.toString());\r\n\r\n\r\n","title":"Removing duplicates from a String in Java","body":"<pre><code>String str1[] =\"Hi helloo helloo  oooo this\".split(\" \"); \n\nSet&lt;String&gt; charSet = new LinkedHashSet&lt;String&gt;();\nfor (String c: str1) \n{\n       charSet.add(c); \n}\nStringBuilder sb = new StringBuilder(); \nfor (String character : charSet) \n{\n       sb.append(character); \n}\n\nSystem.out.println(sb.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10317787,"reputation":11,"user_id":7611606,"display_name":"vikram reddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539674680,"creation_date":1539674680,"answer_id":52830023,"question_id":4989091,"body_markdown":"I think working this way would be more easy,,, \r\nJust pass a string to this function and the job is done :) .\r\n\r\n    private static void removeduplicate(String name)\r\n    {\tchar[] arr = name.toCharArray();\r\n        StringBuffer modified =new StringBuffer();\r\n    \tfor(char a:arr)\r\n    \t{\r\n    \t\tif(!modified.contains(Character.toString(a)))\r\n    \t\t{\r\n    \t\t\tmodified=modified.append(Character.toString(a))\t;\r\n    \t\t}\r\n    \t}\r\n    \tSystem.out.println(modified);\r\n    }","title":"Removing duplicates from a String in Java","body":"<p>I think working this way would be more easy,,, \nJust pass a string to this function and the job is done :) .</p>\n\n<pre><code>private static void removeduplicate(String name)\n{   char[] arr = name.toCharArray();\n    StringBuffer modified =new StringBuffer();\n    for(char a:arr)\n    {\n        if(!modified.contains(Character.toString(a)))\n        {\n            modified=modified.append(Character.toString(a)) ;\n        }\n    }\n    System.out.println(modified);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9542944,"reputation":1,"user_id":7090290,"display_name":"Cesar Joel Ramos Cuetlach"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541357310,"creation_date":1541357310,"answer_id":53144194,"question_id":4989091,"body_markdown":"    public String removeDuplicates(String dupCharsString){\r\n\t\tStringBuffer buffer = new StringBuffer(dupCharsString);\r\n\t\tint step = 0;\r\n\t\twhile(step &lt;= buffer.length()){\r\n\t\t\tfor( int i = step + 1; i &lt; buffer.length(); i++ ){\r\n\t\t\t\tif( buffer.charAt(i) == buffer.charAt(step) ){\r\n\t\t\t\t\tbuffer.setCharAt(i, &#39; &#39;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tstep++;\r\n\t\t}\r\n\t\treturn buffer.toString().replaceAll(&quot;\\\\s&quot;,&quot;&quot;);\r\n\t}","title":"Removing duplicates from a String in Java","body":"<pre><code>public String removeDuplicates(String dupCharsString){\n    StringBuffer buffer = new StringBuffer(dupCharsString);\n    int step = 0;\n    while(step &lt;= buffer.length()){\n        for( int i = step + 1; i &lt; buffer.length(); i++ ){\n            if( buffer.charAt(i) == buffer.charAt(step) ){\n                buffer.setCharAt(i, ' ');\n            }\n        }\n        step++;\n    }\n    return buffer.toString().replaceAll(\"\\\\s\",\"\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15218137,"reputation":1,"user_id":10980852,"display_name":"sarfaraz pathan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548707134,"creation_date":1548704467,"answer_id":54409156,"question_id":4989091,"body_markdown":"```\r\nimport java.util.LinkedHashMap;\r\nimport java.util.Map.Entry;\r\n\r\npublic class Sol {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tchar[] str = &quot;bananas&quot;.toCharArray();\r\n\t\tLinkedHashMap&lt;Character,Integer&gt; map = new LinkedHashMap&lt;&gt;();\r\n\t\tStringBuffer s = new StringBuffer();\r\n\t\t\r\n\t\tfor(Character c : str){\r\n\t\t\tif(map.containsKey(c))\r\n\t\t\t\tmap.put(c, map.get(c)+1);\r\n\t\t\telse\r\n\t\t\t\tmap.put(c, 1);\r\n\t\t}\r\n\t\t\r\n\t\tfor(Entry&lt;Character,Integer&gt; entry : map.entrySet()){\r\n\t\t\ts.append(entry.getKey());\r\n\t\t}\r\n\t\t\t\r\n\t\tSystem.out.println(s);\r\n\t}\r\n\r\n}\r\n```","title":"Removing duplicates from a String in Java","body":"<pre><code>import java.util.LinkedHashMap;\nimport java.util.Map.Entry;\n\npublic class Sol {\n\n    public static void main(String[] args) {\n        char[] str = \"bananas\".toCharArray();\n        LinkedHashMap&lt;Character,Integer&gt; map = new LinkedHashMap&lt;&gt;();\n        StringBuffer s = new StringBuffer();\n\n        for(Character c : str){\n            if(map.containsKey(c))\n                map.put(c, map.get(c)+1);\n            else\n                map.put(c, 1);\n        }\n\n        for(Entry&lt;Character,Integer&gt; entry : map.entrySet()){\n            s.append(entry.getKey());\n        }\n\n        System.out.println(s);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11170662,"reputation":1,"user_id":8197743,"display_name":"Tisa"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1551379176,"creation_date":1551379176,"answer_id":54932209,"question_id":4989091,"body_markdown":"Try this simple solution using Set collection concept:\r\nString str = &quot;aabbcdegg&quot;;\r\n\t\t\r\n\t\tSet&lt;Character&gt;removeduplicates = new LinkedHashSet&lt;&gt;();\r\n\t\tchar strarray[]= str.toCharArray();\r\n\t\tfor(char c:strarray)\r\n\t\t{\r\n\t\t\tremoveduplicates.add(c);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tIterator&lt;Character&gt; itr = removeduplicates.iterator();\r\n\t\twhile(itr.hasNext())\r\n\t\t{\r\n\t\t\tSystem.out.print(itr.next());\r\n\t\t}","title":"Removing duplicates from a String in Java","body":"<p>Try this simple solution using Set collection concept:\nString str = \"aabbcdegg\";</p>\n\n<pre><code>    Set&lt;Character&gt;removeduplicates = new LinkedHashSet&lt;&gt;();\n    char strarray[]= str.toCharArray();\n    for(char c:strarray)\n    {\n        removeduplicates.add(c);\n    }\n\n\n    Iterator&lt;Character&gt; itr = removeduplicates.iterator();\n    while(itr.hasNext())\n    {\n        System.out.print(itr.next());\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":203704,"reputation":13105,"user_id":451518,"display_name":"default locale"},"score":0,"creation_date":1555066845,"post_id":55650019,"comment_id":97988901,"body_markdown":"I hope you don&#39;t mind if I ask you a couple of questions. Why are you posting two very similar answers to the same question? How is your approach different from previously posted answers?","body":"I hope you don&#39;t mind if I ask you a couple of questions. Why are you posting two very similar answers to the same question? How is your approach different from previously posted answers?"}],"tags":[],"owner":{"account_id":6277349,"reputation":311,"user_id":4879651,"display_name":"Manash Ranjan Dakua"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1555066570,"creation_date":1555066387,"answer_id":55650019,"question_id":4989091,"body_markdown":"    public class StringTest {\r\n    \r\n    \tpublic static String dupRemove(String str) {\r\n    \r\n    \t\tSet&lt;Character&gt; s1 = new HashSet&lt;Character&gt;();\r\n    \t\tStringBuffer sb = new StringBuffer();\r\n    \t\tfor (int i = 0; i &lt; str.length(); i++) {\r\n    \r\n    \t\t\tCharacter c = str.charAt(i);\r\n    \r\n    \t\t\tif (!s1.contains(c)) {\r\n    \t\t\t\ts1.add(c);\r\n    \t\t\t\tsb.append(c);\r\n    \t\t\t}\r\n    \t\t\r\n    \r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(sb.toString());\r\n    \r\n    \t\treturn sb.toString();\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tdupRemove(&quot;AAAAAAAAAAAAAAAAA BBBBBBBB&quot;);\r\n    \t}\r\n    \r\n    }","title":"Removing duplicates from a String in Java","body":"<pre><code>public class StringTest {\n\n    public static String dupRemove(String str) {\n\n        Set&lt;Character&gt; s1 = new HashSet&lt;Character&gt;();\n        StringBuffer sb = new StringBuffer();\n        for (int i = 0; i &lt; str.length(); i++) {\n\n            Character c = str.charAt(i);\n\n            if (!s1.contains(c)) {\n                s1.add(c);\n                sb.append(c);\n            }\n\n\n        }\n\n        System.out.println(sb.toString());\n\n        return sb.toString();\n\n    }\n\n    public static void main(String[] args) {\n\n        dupRemove(\"AAAAAAAAAAAAAAAAA BBBBBBBB\");\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1555067626,"creation_date":1555067626,"answer_id":55650385,"question_id":4989091,"body_markdown":"Java 8 has a new `String.chars()` method which returns a stream of characters in the String. You can use stream operations to filter out the duplicate characters like so:\r\n\r\n    String out = in.chars()\r\n                .mapToObj(c -&gt; Character.valueOf((char) c)) // bit messy as chars() returns an IntStream, not a CharStream (which doesn&#39;t exist)\r\n                .distinct()\r\n                .map(Object::toString)\r\n                .collect(Collectors.joining(&quot;&quot;));","title":"Removing duplicates from a String in Java","body":"<p>Java 8 has a new <code>String.chars()</code> method which returns a stream of characters in the String. You can use stream operations to filter out the duplicate characters like so:</p>\n\n<pre><code>String out = in.chars()\n            .mapToObj(c -&gt; Character.valueOf((char) c)) // bit messy as chars() returns an IntStream, not a CharStream (which doesn't exist)\n            .distinct()\n            .map(Object::toString)\n            .collect(Collectors.joining(\"\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6750304,"reputation":1,"user_id":5200491,"display_name":"ekishore4u"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564747487,"creation_date":1564739250,"answer_id":57323944,"question_id":4989091,"body_markdown":"```java\r\nString s = &quot;WelcomeToJava&quot;;\r\nString result = &quot;&quot;;\r\nList&lt;String&gt; al = new ArrayList&lt;String&gt;();\r\n\r\nfor (int i = 0; i &lt; s.length(); i++) {\r\n    for (int k = 0; k &lt; s.length(); k++) {\r\n        if (String.valueOf(s.charAt(i)).equalsIgnoreCase(String.valueOf(s.charAt(k)))) {\r\n            if (!al.contains(String.valueOf(s.charAt(i)))) {\r\n                al.add(String.valueOf(s.charAt(i)));\r\n                result = result + String.valueOf(s.charAt(i));\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nSystem.out.println(&quot;Result--&quot; + result);\r\n```","title":"Removing duplicates from a String in Java","body":"<pre class=\"lang-java prettyprint-override\"><code>String s = \"WelcomeToJava\";\nString result = \"\";\nList&lt;String&gt; al = new ArrayList&lt;String&gt;();\n\nfor (int i = 0; i &lt; s.length(); i++) {\n    for (int k = 0; k &lt; s.length(); k++) {\n        if (String.valueOf(s.charAt(i)).equalsIgnoreCase(String.valueOf(s.charAt(k)))) {\n            if (!al.contains(String.valueOf(s.charAt(i)))) {\n                al.add(String.valueOf(s.charAt(i)));\n                result = result + String.valueOf(s.charAt(i));\n            }\n        }\n    }\n}\n\nSystem.out.println(\"Result--\" + result);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4075374,"reputation":69,"user_id":3347200,"display_name":"user3347200"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568234342,"creation_date":1568234342,"answer_id":57896509,"question_id":4989091,"body_markdown":"    Arrays.stream(input.split(&quot;&quot;)).distinct().collect(joining());","title":"Removing duplicates from a String in Java","body":"<pre><code>Arrays.stream(input.split(\"\")).distinct().collect(joining());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16711259,"reputation":11,"user_id":12078436,"display_name":"Belde Venkaatesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568711100,"creation_date":1568710350,"answer_id":57970677,"question_id":4989091,"body_markdown":"```java\r\npublic class RemoveDuplicatesFromStingsMethod1UsingLoops {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString input = new String(&quot;aaabbbcccddd&quot;);\r\n\t\tString output = &quot;&quot;;\r\n\t\tfor (int i = 0; i &lt; input.length(); i++) {\r\n\t\t\tif (!output.contains(String.valueOf(input.charAt(i)))) {\r\n\t\t\t\toutput += String.valueOf(input.charAt(i));\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(output);\r\n\t}\r\n}\r\n```\r\n**output:** abcd","title":"Removing duplicates from a String in Java","body":"<pre class=\"lang-java prettyprint-override\"><code>public class RemoveDuplicatesFromStingsMethod1UsingLoops {\n\n    public static void main(String[] args) {\n\n        String input = new String(\"aaabbbcccddd\");\n        String output = \"\";\n        for (int i = 0; i &lt; input.length(); i++) {\n            if (!output.contains(String.valueOf(input.charAt(i)))) {\n                output += String.valueOf(input.charAt(i));\n            }\n        }\n        System.out.println(output);\n    }\n}\n</code></pre>\n\n<p><strong>output:</strong> abcd</p>\n"},{"comments":[{"owner":{"account_id":3540624,"reputation":1077,"user_id":3127242,"accept_rate":74,"display_name":"Boyan Hristov"},"score":0,"creation_date":1582241382,"post_id":60329736,"comment_id":106719922,"body_markdown":"Very inefficient, since in the worst case, you are traversing the whole output on every iteration.  Check out other answers using sets which are arguably more efficient. Since there are already so many answers, it&#39;s only useful to post your own if you also provide an explanation on what makes it good.","body":"Very inefficient, since in the worst case, you are traversing the whole output on every iteration.  Check out other answers using sets which are arguably more efficient. Since there are already so many answers, it&#39;s only useful to post your own if you also provide an explanation on what makes it good."}],"tags":[],"owner":{"account_id":17810762,"reputation":1,"user_id":12935440,"display_name":"Mohamed Yousif"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582239249,"creation_date":1582239249,"answer_id":60329736,"question_id":4989091,"body_markdown":"     String input = &quot;abbcccaabbddeessacccbbddefgaabbccddeeffggadscsda&quot;;\r\n        String output =&quot;&quot;;\r\n        \r\n        for (int i= 0; i&lt;input.length();i++) {\r\n        \tif (!output.contains(input.substring(i, i+1))) \r\n            \toutput = output+ input.substring(i, i+1);\r\n        \t\r\n        }\r\n\r\n        \r\n        \tSystem.out.println(output);","title":"Removing duplicates from a String in Java","body":"<pre><code> String input = \"abbcccaabbddeessacccbbddefgaabbccddeeffggadscsda\";\n    String output =\"\";\n\n    for (int i= 0; i&lt;input.length();i++) {\n        if (!output.contains(input.substring(i, i+1))) \n            output = output+ input.substring(i, i+1);\n\n    }\n\n\n        System.out.println(output);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12031250,"reputation":11,"user_id":8801402,"display_name":"Manoj Verma"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1582447941,"creation_date":1582446541,"answer_id":60360420,"question_id":4989091,"body_markdown":"```\r\npublic class RemoveDuplicate {\r\n\r\n\tstatic String st=&quot;papuuu&quot;;\r\n\tstatic String st1=&quot;&quot;;\r\n\tpublic static void main(String[] args) {\r\n\t\tfor (int i = 0; i &lt; st.length(); i++) {\r\n\t\t\tString ff = String.valueOf(st.charAt(i));\r\n\t\t\tif (!st1.contains(ff)) {\r\n\t\t\t\tst1 = st1 + st.charAt(i);\r\n\t\t\t}\r\n\t\t}\t\r\n\t\tSystem.out.println(st1);\r\n\t}\r\n}\r\n```","title":"Removing duplicates from a String in Java","body":"<pre><code>public class RemoveDuplicate {\n\n    static String st=\"papuuu\";\n    static String st1=\"\";\n    public static void main(String[] args) {\n        for (int i = 0; i &lt; st.length(); i++) {\n            String ff = String.valueOf(st.charAt(i));\n            if (!st1.contains(ff)) {\n                st1 = st1 + st.charAt(i);\n            }\n        }   \n        System.out.println(st1);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19596025,"reputation":1,"user_id":14342049,"display_name":"Yougesh Kumar"},"score":0,"creation_date":1601059654,"post_id":64069725,"comment_id":113297328,"body_markdown":"Output : Stackoverflws","body":"Output : Stackoverflws"}],"tags":[],"owner":{"account_id":19596025,"reputation":1,"user_id":14342049,"display_name":"Yougesh Kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601061579,"creation_date":1601059202,"answer_id":64069725,"question_id":4989091,"body_markdown":"```java\r\npackage StringPrograms;\r\n\r\npublic class RemoveDuplicateCharacters {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tboolean flag;\r\n\t\tString str = &quot;Stackoverflowtest&quot;;\r\n\t\tString a = &quot;&quot;;\r\n\t\tint dlen = a.length();\r\n\t\tfor (int i = 0; i &lt; str.length(); i++) {\r\n\t\t\tflag = false;\r\n\t\t\tfor (int j = 0; j &lt;dlen; j++)\r\n\t\t\t\t\r\n\t\t\t\t if (str.charAt(i) == a.charAt(j)) {\r\n\t\t\t\t\tflag = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\tif (flag == false) {\r\n\t\t\t\ta = a + str.charAt(i);\r\n\t\t\t\tdlen = dlen + 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(a);\r\n\r\n\t}\r\n\r\n}\r\n```\r\n","title":"Removing duplicates from a String in Java","body":"<pre class=\"lang-java prettyprint-override\"><code>package StringPrograms;\n\npublic class RemoveDuplicateCharacters {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        boolean flag;\n        String str = &quot;Stackoverflowtest&quot;;\n        String a = &quot;&quot;;\n        int dlen = a.length();\n        for (int i = 0; i &lt; str.length(); i++) {\n            flag = false;\n            for (int j = 0; j &lt;dlen; j++)\n                \n                 if (str.charAt(i) == a.charAt(j)) {\n                    flag = true;\n                    break;\n                }\n            if (flag == false) {\n                a = a + str.charAt(i);\n                dlen = dlen + 1;\n            }\n        }\n        System.out.println(a);\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19639765,"reputation":21,"user_id":14376154,"display_name":"Aditya Patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610046861,"creation_date":1610046861,"answer_id":65618568,"question_id":4989091,"body_markdown":"    String output = &quot;&quot;;\r\n        HashMap&lt;Character,Boolean&gt; map = new HashMap&lt;&gt;();\r\n        for(int i=0;i&lt;str.length();i++){\r\n            char ch = str.charAt(i);\r\n            if (!map.containsKey(ch)){\r\n                output += ch;\r\n                map.put(ch,true);\r\n            }\r\n        }\r\n\t\treturn output;\r\nThis is the simple approach using HashMap in Java in one pass .\r\n\r\nTime Complexity : O(n) \r\n\r\nSpace Complexity : O(n)","title":"Removing duplicates from a String in Java","body":"<pre><code>String output = &quot;&quot;;\n    HashMap&lt;Character,Boolean&gt; map = new HashMap&lt;&gt;();\n    for(int i=0;i&lt;str.length();i++){\n        char ch = str.charAt(i);\n        if (!map.containsKey(ch)){\n            output += ch;\n            map.put(ch,true);\n        }\n    }\n    return output;\n</code></pre>\n<p>This is the simple approach using HashMap in Java in one pass .</p>\n<p>Time Complexity : O(n)</p>\n<p>Space Complexity : O(n)</p>\n"},{"tags":[],"owner":{"account_id":21996499,"reputation":1,"user_id":16268927,"display_name":"Diksha Gajbhiye"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624197546,"creation_date":1624124041,"answer_id":68049307,"question_id":4989091,"body_markdown":"    package JavaPracticePackage;\r\n    \r\n    public class Replace_same_char {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString value = &quot;AABBCCDD&quot;;\r\n    \t\tString FinalValue = &quot;&quot;;\r\n    \t\tfor(int i=0; i&lt;value.length();i++) {\r\n    \t\t\tif(FinalValue.indexOf(value.charAt(i))==-1) {\r\n    \t\t\t\tFinalValue=FinalValue+value.charAt(i);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(FinalValue);\r\n    \t}\r\n    }","title":"Removing duplicates from a String in Java","body":"<pre><code>package JavaPracticePackage;\n\npublic class Replace_same_char {\n\n    public static void main(String[] args) {\n        String value = &quot;AABBCCDD&quot;;\n        String FinalValue = &quot;&quot;;\n        for(int i=0; i&lt;value.length();i++) {\n            if(FinalValue.indexOf(value.charAt(i))==-1) {\n                FinalValue=FinalValue+value.charAt(i);\n            }\n        }\n        System.out.println(FinalValue);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22349412,"reputation":1,"user_id":16567849,"display_name":"Sachin Devamore"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1628339974,"creation_date":1628339627,"answer_id":68692406,"question_id":4989091,"body_markdown":"&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n      let str = &#39;abcdabddbbccedbd&#39;; \r\n      let res = &quot;&quot;;\r\n      new Set([...str]).forEach((val) =&gt; {\r\n          res += val\r\n      })\r\n\r\n      console.log(res);\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Removing duplicates from a String in Java","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  let str = 'abcdabddbbccedbd'; \n  let res = \"\";\n  new Set([...str]).forEach((val) =&gt; {\n      res += val\n  })\n\n  console.log(res);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":15980430,"reputation":424,"user_id":11532220,"display_name":"Ali Dehkhodaei"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673217912,"creation_date":1673208922,"answer_id":75050965,"question_id":4989091,"body_markdown":" You can use HashSet class in java:\r\n\r\n    public static String removeDuplicates(String str) {\r\n            char[] chars = str.toCharArray();\r\n            Set&lt;String&gt; set = new HashSet&lt;&gt;();\r\n            for (int i = 0; i &lt; chars.length; i++) {\r\n                set.add(String.valueOf(chars[i]));\r\n            }\r\n           return String.join(&quot;&quot;, set);\r\n        }\r\nExample:\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            System.out.println(removeDuplicates(&quot;aabbccdd&quot;)); // abcd\r\n        }\r\n    }\r\n\r\n\r\n","title":"Removing duplicates from a String in Java","body":"<p>You can use HashSet class in java:</p>\n<pre><code>public static String removeDuplicates(String str) {\n        char[] chars = str.toCharArray();\n        Set&lt;String&gt; set = new HashSet&lt;&gt;();\n        for (int i = 0; i &lt; chars.length; i++) {\n            set.add(String.valueOf(chars[i]));\n        }\n       return String.join(&quot;&quot;, set);\n    }\n</code></pre>\n<p>Example:</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        System.out.println(removeDuplicates(&quot;aabbccdd&quot;)); // abcd\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":282374,"reputation":775,"user_id":579227,"accept_rate":64,"display_name":"Ricco"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286596,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":4989150,"answer_count":49,"score":28,"last_activity_date":1678191407,"creation_date":1297661192,"question_id":4989091,"body_markdown":"I am trying to iterate through a string in order to remove the duplicates characters.\r\n\r\nFor example the String `aabbccdef` should become `abcdef`\r\nand the String `abcdabcd` should become `abcd`\r\n\r\nHere is what I have so far:\r\n\r\n    public class test {\r\n\r\n        public static void main(String[] args) {\r\n    \t\t\r\n    \t\tString input = new String(&quot;abbc&quot;);\r\n    \t\tString output = new String();\r\n    \t\t\r\n    \t\tfor (int i = 0; i &lt; input.length(); i++) {\r\n    \t\t\tfor (int j = 0; j &lt; output.length(); j++) {\r\n    \t\t\t\tif (input.charAt(i) != output.charAt(j)) {\r\n    \t\t\t\t\toutput = output + input.charAt(i);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tSystem.out.println(output);\r\n    \t\t\r\n    \t}\r\n\r\n    }\r\n\r\nWhat is the best way to do this?\r\n\r\n\r\n","title":"Removing duplicates from a String in Java","body":"<p>I am trying to iterate through a string in order to remove the duplicates characters.</p>\n\n<p>For example the String <code>aabbccdef</code> should become <code>abcdef</code>\nand the String <code>abcdabcd</code> should become <code>abcd</code></p>\n\n<p>Here is what I have so far:</p>\n\n<pre><code>public class test {\n\n    public static void main(String[] args) {\n\n        String input = new String(\"abbc\");\n        String output = new String();\n\n        for (int i = 0; i &lt; input.length(); i++) {\n            for (int j = 0; j &lt; output.length(); j++) {\n                if (input.charAt(i) != output.charAt(j)) {\n                    output = output + input.charAt(i);\n                }\n            }\n        }\n\n        System.out.println(output);\n\n    }\n\n}\n</code></pre>\n\n<p>What is the best way to do this?</p>\n"},{"tags":["java","concurrency","playframework","completable-future"],"answers":[{"comments":[{"owner":{"account_id":5032416,"reputation":2150,"user_id":4042213,"accept_rate":91,"display_name":"Ebraheem Alrabeea"},"score":0,"creation_date":1512040956,"post_id":47571708,"comment_id":82101414,"body_markdown":"I think for the first time it is like the difference between `Thread` class and `Runnable` interface, So that there is more methods to use, but even more that will be benefit when I define a field of type `CompletableFuture&lt;T&gt;` instead of returning value by a method.","body":"I think for the first time it is like the difference between <code>Thread</code> class and <code>Runnable</code> interface, So that there is more methods to use, but even more that will be benefit when I define a field of type <code>CompletableFuture&lt;T&gt;</code> instead of returning value by a method."},{"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"score":0,"creation_date":1512041509,"post_id":47571708,"comment_id":82101756,"body_markdown":"@EbraheemAlrabee the `CompletionStage` interface simply contains abstract methods for computations which may or may not be asynchronous. so, of course, the _implementing_ type will almost always have more functionality than it&#39;s base type, so as mentioned by Eugene within his post unless you&#39;re using some other implementation of that interface then it probably makes sense to use  `CompletableFuture&lt;T&gt;` as the target type _for now_.However there may be more implementing classes in the future, you never know.","body":"@EbraheemAlrabee the <code>CompletionStage</code> interface simply contains abstract methods for computations which may or may not be asynchronous. so, of course, the <i>implementing</i> type will almost always have more functionality than it&#39;s base type, so as mentioned by Eugene within his post unless you&#39;re using some other implementation of that interface then it probably makes sense to use  <code>CompletableFuture&lt;T&gt;</code> as the target type <i>for now</i>.However there may be more implementing classes in the future, you never know."},{"owner":{"account_id":1019326,"reputation":766,"user_id":1030157,"display_name":"Hermes"},"score":0,"creation_date":1629297978,"post_id":47571708,"comment_id":121650600,"body_markdown":"As nicely explained by @Xiao, one should prefer to return `CompletionStage` rather than `CompletableFuture`.","body":"As nicely explained by @Xiao, one should prefer to return <code>CompletionStage</code> rather than <code>CompletableFuture</code>."},{"owner":{"account_id":34640,"reputation":20249,"user_id":97964,"accept_rate":88,"display_name":"jocull"},"score":1,"creation_date":1667969145,"post_id":47571708,"comment_id":131292257,"body_markdown":"To me, returning `CompletionStage` provides callers with an impaired implementation. Notable missing methods include `get`, `join`, and `cancel`. You can get these by calling `toCompletableFuture()` but that feels like code clutter if you need to do it often. It also sort of makes returning the interface moot if you are converting it to concrete constantly.","body":"To me, returning <code>CompletionStage</code> provides callers with an impaired implementation. Notable missing methods include <code>get</code>, <code>join</code>, and <code>cancel</code>. You can get these by calling <code>toCompletableFuture()</code> but that feels like code clutter if you need to do it often. It also sort of makes returning the interface moot if you are converting it to concrete constantly."}],"tags":[],"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"comment_count":4,"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1621687852,"creation_date":1512039294,"answer_id":47571708,"question_id":47571117,"body_markdown":"[`CompletionStage&lt;T&gt;`][1] is an interface of which [`CompletableFuture&lt;T&gt;`][2] is the only current implementing class. By looking at the javadoc for `CompletionStage&lt;T&gt;`, you&#39;ll notice it provides methods for taking one `CompletionStage&lt;T&gt;` and transforming it into another `CompletionStage&lt;T&gt;`. However, the returned values by the `CompletionStage&lt;T&gt;` are actually themselves `CompletabeFuture&lt;T&gt;` objects.\r\n\r\n So using `CompletabeFuture&lt;T&gt;` is kind of the same thing as using a `CompletionStage&lt;T&gt;` but the latter can be used as the base interface for possible new classes in the future as well as being a target type for many descending types just as we tend to do `List&lt;Integer&gt; integerList = new ArrayList&lt;&gt;();` rather than `ArrayList&lt;Integer&gt; integerList = new ArrayList&lt;&gt;();`\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletionStage.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html","title":"What is the difference between &#39;CompletionStage&#39; and &#39;CompletableFuture&#39;","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletionStage.html\" rel=\"noreferrer\"><code>CompletionStage&lt;T&gt;</code></a> is an interface of which <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"noreferrer\"><code>CompletableFuture&lt;T&gt;</code></a> is the only current implementing class. By looking at the javadoc for <code>CompletionStage&lt;T&gt;</code>, you'll notice it provides methods for taking one <code>CompletionStage&lt;T&gt;</code> and transforming it into another <code>CompletionStage&lt;T&gt;</code>. However, the returned values by the <code>CompletionStage&lt;T&gt;</code> are actually themselves <code>CompletabeFuture&lt;T&gt;</code> objects.</p>\n<p>So using <code>CompletabeFuture&lt;T&gt;</code> is kind of the same thing as using a <code>CompletionStage&lt;T&gt;</code> but the latter can be used as the base interface for possible new classes in the future as well as being a target type for many descending types just as we tend to do <code>List&lt;Integer&gt; integerList = new ArrayList&lt;&gt;();</code> rather than <code>ArrayList&lt;Integer&gt; integerList = new ArrayList&lt;&gt;();</code></p>\n"},{"comments":[{"owner":{"account_id":10414140,"reputation":341,"user_id":7678737,"display_name":"RafiAlhamd"},"score":1,"creation_date":1583231268,"post_id":47571868,"comment_id":107038107,"body_markdown":"Returning a &#39;concrete class&#39; should be avoided if there is a way to return the &#39;the super class/interface&#39;, unless the CALLER is looking for a &#39;subclass/concrete-class&#39;. \n\nI agree to the answer by @xiao.","body":"Returning a &#39;concrete class&#39; should be avoided if there is a way to return the &#39;the super class/interface&#39;, unless the CALLER is looking for a &#39;subclass/concrete-class&#39;.   I agree to the answer by @xiao."},{"owner":{"account_id":3350414,"reputation":3123,"user_id":2814580,"accept_rate":85,"display_name":"acmoune"},"score":1,"creation_date":1583847647,"post_id":47571868,"comment_id":107245245,"body_markdown":"You are both saying the same thing","body":"You are both saying the same thing"},{"owner":{"account_id":1019326,"reputation":766,"user_id":1030157,"display_name":"Hermes"},"score":0,"creation_date":1629298028,"post_id":47571868,"comment_id":121650629,"body_markdown":"As nicely explained by @Xiao, one should prefer to return `CompletionStage` rather than `CompletableFuture`.","body":"As nicely explained by @Xiao, one should prefer to return <code>CompletionStage</code> rather than <code>CompletableFuture</code>."}],"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1512040138,"creation_date":1512039757,"answer_id":47571868,"question_id":47571117,"body_markdown":"One is an interface and the other is a class. Usually you return the interface and not the implementation, but I doubt this is the case here. Returning `CompletableFuture` makes more sense for me. \r\n\r\n*Unless* you are using some other implementation of that interface of course, like Spring&#39;s `DelegatingCompletableFuture`, but from your examples you are not. ","title":"What is the difference between &#39;CompletionStage&#39; and &#39;CompletableFuture&#39;","body":"<p>One is an interface and the other is a class. Usually you return the interface and not the implementation, but I doubt this is the case here. Returning <code>CompletableFuture</code> makes more sense for me. </p>\n\n<p><em>Unless</em> you are using some other implementation of that interface of course, like Spring's <code>DelegatingCompletableFuture</code>, but from your examples you are not. </p>\n"},{"tags":[],"owner":{"account_id":1126731,"reputation":571,"user_id":1113842,"display_name":"Xiao"},"comment_count":0,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1520446493,"creation_date":1520446493,"answer_id":49158702,"question_id":47571117,"body_markdown":"A `CompletableFuture` is a `CompletionStage`. However, as its name suggests, it is\r\n\r\n - completable: It can be completed using `complete` or\r\n   `completeExceptionally`.\r\n - a `Future`: You can use `get` method, etc. to get the result.\r\n\r\nIMHO, in most APIs, like in your example, you should use `CompletionStage`, because\r\n\r\n - The implementation usually provides the mechanism to complete the stage. You don&#39;t need/want to expose methods like `complete` to the caller.\r\n - The caller is expected to use the returned value in an async manner instead of using blocking calls like `get` provided by `Future`.\r\n","title":"What is the difference between &#39;CompletionStage&#39; and &#39;CompletableFuture&#39;","body":"<p>A <code>CompletableFuture</code> is a <code>CompletionStage</code>. However, as its name suggests, it is</p>\n\n<ul>\n<li>completable: It can be completed using <code>complete</code> or\n<code>completeExceptionally</code>.</li>\n<li>a <code>Future</code>: You can use <code>get</code> method, etc. to get the result.</li>\n</ul>\n\n<p>IMHO, in most APIs, like in your example, you should use <code>CompletionStage</code>, because</p>\n\n<ul>\n<li>The implementation usually provides the mechanism to complete the stage. You don't need/want to expose methods like <code>complete</code> to the caller.</li>\n<li>The caller is expected to use the returned value in an async manner instead of using blocking calls like <code>get</code> provided by <code>Future</code>.</li>\n</ul>\n"}],"owner":{"account_id":5032416,"reputation":2150,"user_id":4042213,"accept_rate":91,"display_name":"Ebraheem Alrabeea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33328,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"accepted_answer_id":47571708,"answer_count":3,"score":59,"last_activity_date":1678191230,"creation_date":1512037585,"question_id":47571117,"body_markdown":"I have seen an example in each of them, but I need to know exactly what is the difference in deep because I think I can use both of them to get the same result, So I want to know then I can choose the correct one.\r\n\r\nWhat is the benefit of using each of them?\r\n\r\nLike this example both works:\r\n\r\n\tpublic CompletionStage&lt;Result&gt; getNextQueryUUID() {\r\n\t\treturn CompletableFuture.supplyAsync(() -&gt; {\r\n\t\t\tString nextId = dbRequestService.getNextRequestQueryUUID();\r\n\t\t\treturn ok(nextId);\r\n\t\t}, executor);\r\n\t}\r\n\r\n\r\n\tpublic CompletableFuture&lt;Result&gt; getNextQueryUUID() {\r\n\t\treturn CompletableFuture.supplyAsync(() -&gt; {\r\n\t\t\tString nextId = dbRequestService.getNextRequestQueryUUID();\r\n\t\t\treturn ok(nextId);\r\n\t\t}, executor);\r\n\t}\r\n\r\n&gt; This example runs in the `Play framework`.\r\n\r\n","title":"What is the difference between &#39;CompletionStage&#39; and &#39;CompletableFuture&#39;","body":"<p>I have seen an example in each of them, but I need to know exactly what is the difference in deep because I think I can use both of them to get the same result, So I want to know then I can choose the correct one.</p>\n<p>What is the benefit of using each of them?</p>\n<p>Like this example both works:</p>\n<pre><code>public CompletionStage&lt;Result&gt; getNextQueryUUID() {\n    return CompletableFuture.supplyAsync(() -&gt; {\n        String nextId = dbRequestService.getNextRequestQueryUUID();\n        return ok(nextId);\n    }, executor);\n}\n\n\npublic CompletableFuture&lt;Result&gt; getNextQueryUUID() {\n    return CompletableFuture.supplyAsync(() -&gt; {\n        String nextId = dbRequestService.getNextRequestQueryUUID();\n        return ok(nextId);\n    }, executor);\n}\n</code></pre>\n<blockquote>\n<p>This example runs in the <code>Play framework</code>.</p>\n</blockquote>\n"},{"tags":["java","jacob"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1412831901,"post_id":26270807,"comment_id":41215723,"body_markdown":"Did you try running the same java code in the server? If you tried that, you would have find the answer by your self.","body":"Did you try running the same java code in the server? If you tried that, you would have find the answer by your self."},{"owner":{"account_id":5148683,"reputation":1,"user_id":4123857,"display_name":"NewUser"},"score":0,"creation_date":1412834477,"post_id":26270807,"comment_id":41216607,"body_markdown":"I tried running it in server, got the error &#39;Can&#39;t get object clsid from progid&#39;. Then modified the code to use clsid for Excel, now i get the error &#39;com.jacob.com.ComFailException: Can&#39;t find moniker&#39;.","body":"I tried running it in server, got the error &#39;Can&#39;t get object clsid from progid&#39;. Then modified the code to use clsid for Excel, now i get the error &#39;com.jacob.com.ComFailException: Can&#39;t find moniker&#39;."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696837476,"post_id":26270807,"comment_id":136199058,"body_markdown":"No you can&#39;t. Excel macros require Excel. This seems readily apparent.","body":"No you can&#39;t. Excel macros require Excel. This seems readily apparent."}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1699853662,"post_id":73000549,"comment_id":136578612,"body_markdown":"No it doesn&#39;t. It means no Excel to bridge *to.* You could still bridge to other COM components if they&#39;re installed.","body":"No it doesn&#39;t. It means no Excel to bridge <i>to.</i> You could still bridge to other COM components if they&#39;re installed."}],"tags":[],"owner":{"account_id":25797038,"reputation":12,"user_id":19540038,"display_name":"GavinZhou0125"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658203962,"creation_date":1657928954,"answer_id":73000549,"question_id":26270807,"body_markdown":"As you tried, the answer is no. No excel means no Java Com Bridge.","title":"Excel Macro using Jacob","body":"<p>As you tried, the answer is no. No excel means no Java Com Bridge.</p>\n"},{"tags":[],"owner":{"account_id":19061095,"reputation":1,"user_id":13917188,"display_name":"Muzamil nawaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678191042,"creation_date":1678191042,"answer_id":75661815,"question_id":26270807,"body_markdown":"You have to understand first that purpose of JACOB is to connect java with windows component who exposes their operations via COM interface. That means you can only operate on those applications which are installed in the server and have implemented COM interface. For instance : MS Excel, MS Word, Adobe etc","title":"Excel Macro using Jacob","body":"<p>You have to understand first that purpose of JACOB is to connect java with windows component who exposes their operations via COM interface. That means you can only operate on those applications which are installed in the server and have implemented COM interface. For instance : MS Excel, MS Word, Adobe etc</p>\n"}],"owner":{"account_id":5148683,"reputation":1,"user_id":4123857,"display_name":"NewUser"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":367,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1678191042,"creation_date":1412831695,"question_id":26270807,"body_markdown":"Is it possible to run a Excel macro using java, placed in a server which does not have Microsoft Excel installed?. \r\n\r\nI have written a code using Java and Jacob - Java Com Bridge, which works fine in machines which has Excel installed.","title":"Excel Macro using Jacob","body":"<p>Is it possible to run a Excel macro using java, placed in a server which does not have Microsoft Excel installed?. </p>\n\n<p>I have written a code using Java and Jacob - Java Com Bridge, which works fine in machines which has Excel installed.</p>\n"},{"tags":["java","string","algorithm","types","overflow"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1678081225,"post_id":75647184,"comment_id":133457366,"body_markdown":"*&quot;... and `BigInteger` was not imported&quot;*.  Are you sure?  `BigInteger` is a Java SE and Java Android class.  You should be able to import it in your Java code.","body":"<i>&quot;... and <code>BigInteger</code> was not imported&quot;</i>.  Are you sure?  <code>BigInteger</code> is a Java SE and Java Android class.  You should be able to import it in your Java code."},{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1678081888,"post_id":75647184,"comment_id":133457457,"body_markdown":"What is the max length possible for the string?","body":"What is the max length possible for the string?"},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":1,"creation_date":1678082831,"post_id":75647184,"comment_id":133457597,"body_markdown":"*Number length possibly &gt; 64, implying number possibly &gt; 2^64* Is the number specified in decimal representation, *base 2* or otherwise?","body":"<i>Number length possibly &gt; 64, implying number possibly &gt; 2^64</i> Is the number specified in decimal representation, <i>base 2</i> or otherwise?"},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1678083208,"post_id":75647184,"comment_id":133457660,"body_markdown":"Start with simple cases: empty string, first character not in &quot;+-012468&quot;. Find out some things about *base conversion* and *modulo arithmetic*.","body":"Start with simple cases: empty string, first character not in &quot;+-012468&quot;. Find out some things about <i>base conversion</i> and <i>modulo arithmetic</i>."},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":1,"creation_date":1678087745,"post_id":75647184,"comment_id":133458437,"body_markdown":"Does this answer your question? [Given a huge integer number as a string, check if its a power of 2](https://stackoverflow.com/questions/52677174/given-a-huge-integer-number-as-a-string-check-if-its-a-power-of-2)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/52677174/given-a-huge-integer-number-as-a-string-check-if-its-a-power-of-2\">Given a huge integer number as a string, check if its a power of 2</a>"},{"owner":{"account_id":27892296,"reputation":21,"user_id":21298398,"display_name":"B DRUTHI"},"score":0,"creation_date":1678155879,"post_id":75647184,"comment_id":133474990,"body_markdown":"@Stephen C this question was on a programming platform, so the Math class was not imported.","body":"@Stephen C this question was on a programming platform, so the Math class was not imported."}],"answers":[{"comments":[{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1678082535,"post_id":75647476,"comment_id":133457550,"body_markdown":"_you need to convert the string number to binary string_ that is where the actual task is.","body":"<i>you need to convert the string number to binary string</i> that is where the actual task is."}],"tags":[],"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678082258,"creation_date":1678082258,"answer_id":75647476,"question_id":75647184,"body_markdown":"If you convert a decimal number to binary, all the number that are power of 2 has a starting 1 with rest are 0.\r\n```\r\n1:10\r\n2:100\r\n3:1000\r\n4:10000\r\n5:100000\r\n6:1000000\r\n```\r\nSo first, you need to convert the string number to binary string and then check if this pattern matches(maybe with a loop). You can easily find the first part online if you struggle.","title":"Find if Given number is power of 2 or not","body":"<p>If you convert a decimal number to binary, all the number that are power of 2 has a starting 1 with rest are 0.</p>\n<pre><code>1:10\n2:100\n3:1000\n4:10000\n5:100000\n6:1000000\n</code></pre>\n<p>So first, you need to convert the string number to binary string and then check if this pattern matches(maybe with a loop). You can easily find the first part online if you struggle.</p>\n"},{"comments":[{"owner":{"account_id":27892296,"reputation":21,"user_id":21298398,"display_name":"B DRUTHI"},"score":0,"creation_date":1678191421,"post_id":75647672,"comment_id":133481963,"body_markdown":"The atomic package is not imported in the question.","body":"The atomic package is not imported in the question."}],"tags":[],"owner":{"account_id":16852728,"reputation":1,"user_id":21335093,"display_name":"Vlad Lavrovsky"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678168266,"creation_date":1678084103,"answer_id":75647672,"question_id":75647184,"body_markdown":"This half() method divides String by 2 and returns the String. \r\nKeep dividing until result is short enough to convert to int. \r\nTest if the int is power of 2\r\n     \r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString x = &quot;562949953421312&quot;;\r\n\t\twhile (x.length() &gt; 4)\r\n\t\t\tx = half(x);\r\n\t\tSystem.out.println(isPowerOf2(Integer.parseInt(x)));\r\n\t}\r\n\r\n\tpublic static String half(String x)\r\n\t{\r\n\t\tAtomicInteger over = new AtomicInteger(0);\r\n\t\tString half = Arrays.stream(x.split(&quot;&quot;))\r\n\t\t\t\t.mapToInt(Integer::parseInt)\r\n\t\t\t\t.map(a -&gt; {\r\n\t\t\t\t\tint next = (over.get()+a)/2;\r\n\t\t\t\t\tover.set( a % 2 == 0? 0 : 10);\r\n\t\t\t\t\treturn next;\r\n\t\t\t\t})\r\n\t\t\t\t.mapToObj(String::valueOf)\r\n\t\t\t\t.collect(Collectors.joining());\r\n\t\thalf = half.replaceAll(&quot;^0&quot;, &quot;&quot;); //removing leading 0\r\n\t\treturn half;\r\n\t}\r\n\tpublic static boolean isPowerOf2(int number)\r\n\t{\r\n\t\t// 2^x is always binary 1 followed by zeros\r\n\t\tint bitwiseAnd = (number - 1) &amp; number;\r\n\t\treturn bitwiseAnd == 0;\r\n\t}\r\n","title":"Find if Given number is power of 2 or not","body":"<p>This half() method divides String by 2 and returns the String.\nKeep dividing until result is short enough to convert to int.\nTest if the int is power of 2</p>\n<pre><code>public static void main(String[] args) {\n    String x = &quot;562949953421312&quot;;\n    while (x.length() &gt; 4)\n        x = half(x);\n    System.out.println(isPowerOf2(Integer.parseInt(x)));\n}\n\npublic static String half(String x)\n{\n    AtomicInteger over = new AtomicInteger(0);\n    String half = Arrays.stream(x.split(&quot;&quot;))\n            .mapToInt(Integer::parseInt)\n            .map(a -&gt; {\n                int next = (over.get()+a)/2;\n                over.set( a % 2 == 0? 0 : 10);\n                return next;\n            })\n            .mapToObj(String::valueOf)\n            .collect(Collectors.joining());\n    half = half.replaceAll(&quot;^0&quot;, &quot;&quot;); //removing leading 0\n    return half;\n}\npublic static boolean isPowerOf2(int number)\n{\n    // 2^x is always binary 1 followed by zeros\n    int bitwiseAnd = (number - 1) &amp; number;\n    return bitwiseAnd == 0;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":1,"creation_date":1678087056,"post_id":75647698,"comment_id":133458287,"body_markdown":"No string of length &gt; 1 equals `&quot;1&quot;`. Test for &quot;+4&quot;.","body":"No string of length &gt; 1 equals <code>&quot;1&quot;</code>. Test for &quot;+4&quot;."}],"tags":[],"owner":{"account_id":23736004,"reputation":1,"user_id":20247938,"display_name":"balu_niranjan"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678084368,"creation_date":1678084368,"answer_id":75647698,"question_id":75647184,"body_markdown":"    public static int isPowerOfTwo(String number) {\r\n        // Remove leading zeros\r\n        number = number.replaceAll(&quot;^0+&quot;, &quot;&quot;);\r\n        \r\n        // If the number is zero or has more than one non-zero digit, it&#39;s not a power of two\r\n        if (number.length() == 0 || (number.length() &gt; 1 &amp;&amp; !number.equals(&quot;1&quot;))) {\r\n            return 0;\r\n        }\r\n        \r\n        // Convert the last digit to an integer\r\n        int lastDigit = number.charAt(number.length() - 1) - &#39;0&#39;;\r\n        \r\n        // If the last digit is odd, it&#39;s not a power of two\r\n        if (lastDigit % 2 == 1) {\r\n            return 0;\r\n        }\r\n        \r\n        // Divide the number by two until it becomes 1 or an odd number\r\n        while (number.length() &gt; 1) {\r\n            int carry = 0;\r\n            StringBuilder sb = new StringBuilder();\r\n            for (int i = 0; i &lt; number.length(); i++) {\r\n                int digit = number.charAt(i) - &#39;0&#39;;\r\n                int temp = carry * 10 + digit;\r\n                sb.append(temp / 2);\r\n                carry = temp % 2;\r\n            }\r\n            number = sb.toString().replaceAll(&quot;^0+&quot;, &quot;&quot;);\r\n            if (carry == 1) {\r\n                return 0;\r\n            }\r\n        }\r\n        \r\n        return 1;\r\n    }\r\n\r\nWorking of the code :\r\n\r\n1. We remove any leading zeros from the input string since they don&#39;t affect whether the number is a power of two or not.\r\n\r\n2. If the number is zero or has more than one non-zero digit, it can&#39;t be a power of two, so we return 0.\r\n\r\n3. Otherwise, we check if the last digit is odd. If it is, the number can&#39;t be a power of two, so we return 0.\r\n\r\n4. If the last digit is even, we divide the number by two until it becomes 1 or an odd number. We do this by repeatedly dividing each digit of the number by 2, keeping track of any carry, and appending the result to a StringBuilder. If there&#39;s a carry left over after the division, the number isn&#39;t a power of two and we return 0.\r\n\r\n5. If we reach the end of the loop and the number is 1, it&#39;s a power of two, so we return 1.\r\n\r\n**Note:** This code assumes that the input string represents a non-negative integer. If negative numbers are allowed, you may need to add additional checks to handle them properly.","title":"Find if Given number is power of 2 or not","body":"<pre><code>public static int isPowerOfTwo(String number) {\n    // Remove leading zeros\n    number = number.replaceAll(&quot;^0+&quot;, &quot;&quot;);\n    \n    // If the number is zero or has more than one non-zero digit, it's not a power of two\n    if (number.length() == 0 || (number.length() &gt; 1 &amp;&amp; !number.equals(&quot;1&quot;))) {\n        return 0;\n    }\n    \n    // Convert the last digit to an integer\n    int lastDigit = number.charAt(number.length() - 1) - '0';\n    \n    // If the last digit is odd, it's not a power of two\n    if (lastDigit % 2 == 1) {\n        return 0;\n    }\n    \n    // Divide the number by two until it becomes 1 or an odd number\n    while (number.length() &gt; 1) {\n        int carry = 0;\n        StringBuilder sb = new StringBuilder();\n        for (int i = 0; i &lt; number.length(); i++) {\n            int digit = number.charAt(i) - '0';\n            int temp = carry * 10 + digit;\n            sb.append(temp / 2);\n            carry = temp % 2;\n        }\n        number = sb.toString().replaceAll(&quot;^0+&quot;, &quot;&quot;);\n        if (carry == 1) {\n            return 0;\n        }\n    }\n    \n    return 1;\n}\n</code></pre>\n<p>Working of the code :</p>\n<ol>\n<li><p>We remove any leading zeros from the input string since they don't affect whether the number is a power of two or not.</p>\n</li>\n<li><p>If the number is zero or has more than one non-zero digit, it can't be a power of two, so we return 0.</p>\n</li>\n<li><p>Otherwise, we check if the last digit is odd. If it is, the number can't be a power of two, so we return 0.</p>\n</li>\n<li><p>If the last digit is even, we divide the number by two until it becomes 1 or an odd number. We do this by repeatedly dividing each digit of the number by 2, keeping track of any carry, and appending the result to a StringBuilder. If there's a carry left over after the division, the number isn't a power of two and we return 0.</p>\n</li>\n<li><p>If we reach the end of the loop and the number is 1, it's a power of two, so we return 1.</p>\n</li>\n</ol>\n<p><strong>Note:</strong> This code assumes that the input string represents a non-negative integer. If negative numbers are allowed, you may need to add additional checks to handle them properly.</p>\n"},{"comments":[{"owner":{"account_id":27892296,"reputation":21,"user_id":21298398,"display_name":"B DRUTHI"},"score":0,"creation_date":1678191243,"post_id":75648447,"comment_id":133481905,"body_markdown":"I liked your idea. I tried it out, and only 2/5 of the hidden test cases passed.","body":"I liked your idea. I tried it out, and only 2/5 of the hidden test cases passed."},{"owner":{"account_id":27892296,"reputation":21,"user_id":21298398,"display_name":"B DRUTHI"},"score":0,"creation_date":1678192149,"post_id":75648447,"comment_id":133482151,"body_markdown":"For storing the powers of 2 in an array, I need to use BigInteger, which is not imported.","body":"For storing the powers of 2 in an array, I need to use BigInteger, which is not imported."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1678193123,"post_id":75648447,"comment_id":133482383,"body_markdown":"Not sure what you are saying. You need to import BigInteger, or you should not use it?","body":"Not sure what you are saying. You need to import BigInteger, or you should not use it?"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1678193940,"post_id":75648447,"comment_id":133482599,"body_markdown":"BTW, I had tested this code thoroughly. If you cannot tell me for which input it is wrong, then I will just move on. However, it would be useful if you would quote the code challenge **literally**, so that we could spot some requirement that we may have missed.","body":"BTW, I had tested this code thoroughly. If you cannot tell me for which input it is wrong, then I will just move on. However, it would be useful if you would quote the code challenge <b>literally</b>, so that we could spot some requirement that we may have missed."},{"owner":{"account_id":27892296,"reputation":21,"user_id":21298398,"display_name":"B DRUTHI"},"score":0,"creation_date":1678280642,"post_id":75648447,"comment_id":133501471,"body_markdown":"All the required packages were already imported, and Math class was not one of them. So I can&#39;t use BigInteger","body":"All the required packages were already imported, and Math class was not one of them. So I can&#39;t use BigInteger"},{"owner":{"account_id":27892296,"reputation":21,"user_id":21298398,"display_name":"B DRUTHI"},"score":0,"creation_date":1678280699,"post_id":75648447,"comment_id":133501489,"body_markdown":"I pasted the problem verbatim. And added some of the things I got to know after testing code, like input is up to 21 digits long.","body":"I pasted the problem verbatim. And added some of the things I got to know after testing code, like input is up to 21 digits long."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1678280832,"post_id":75648447,"comment_id":133501526,"body_markdown":"My answer doesn&#39;t suggest to use BigInteger, so I don&#39;t know what you are getting at. If that is all that the code challenge says, then I stick with this answer. Sorry if it doesn&#39;t work for you. Your question has been closed. I should add that &quot;number&quot; is ambiguous. For instance, where does it say the number is an **integer**, that it is represented in **decimal base**, that it is **unsigned**? All these aspects are important. I would look for a different code challenge site -- where the constraints are clearly and unambiguously listed.","body":"My answer doesn&#39;t suggest to use BigInteger, so I don&#39;t know what you are getting at. If that is all that the code challenge says, then I stick with this answer. Sorry if it doesn&#39;t work for you. Your question has been closed. I should add that &quot;number&quot; is ambiguous. For instance, where does it say the number is an <b>integer</b>, that it is represented in <b>decimal base</b>, that it is <b>unsigned</b>? All these aspects are important. I would look for a different code challenge site -- where the constraints are clearly and unambiguously listed."},{"owner":{"account_id":27892296,"reputation":21,"user_id":21298398,"display_name":"B DRUTHI"},"score":0,"creation_date":1678368816,"post_id":75648447,"comment_id":133521464,"body_markdown":"How to store such large numbers in an array? I&#39;d have to use BigInteger, right?","body":"How to store such large numbers in an array? I&#39;d have to use BigInteger, right?"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1678368890,"post_id":75648447,"comment_id":133521488,"body_markdown":"No, just precalculate them (on a piece of paper if you want, or with Python, or... whatever), and put them as hard coded as strings in your Java code.","body":"No, just precalculate them (on a piece of paper if you want, or with Python, or... whatever), and put them as hard coded as strings in your Java code."}],"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678101998,"creation_date":1678090395,"answer_id":75648447,"question_id":75647184,"body_markdown":"I would suggest working in the opposite direction, and create a string that starts as &quot;1&quot; and then &quot;double&quot; it while it represents a number that is less than the number represented by the target string. Return 1 when it is equal, 0 otherwise:\r\n\r\n```\r\n    public static int power(String s) {\r\n        String p = &quot;1&quot;;\r\n        int psize = 1;\r\n        s = s.replaceAll(&quot;^0+&quot;, &quot;&quot;); // Only needed if input is not normalized\r\n        int size = s.length();\r\n        while (psize &lt; size || psize == size &amp;&amp; p.compareTo(s) &lt; 0) {\r\n            // multiply p by 2;\r\n            int carry = 0;\r\n            StringBuffer sum = new StringBuffer(psize + 1);\r\n            sum.setLength(psize + 1);\r\n            for (int i = psize - 1; i &gt;= 0; i--) {\r\n                int digit = (p.charAt(i) - &#39;0&#39;) * 2 + carry;\r\n                sum.setCharAt(i + 1, (char) (digit % 10 + &#39;0&#39;));\r\n                carry = digit / 10;\r\n            }\r\n            sum.setCharAt(0, (char) (carry + &#39;0&#39;));\r\n            p = sum.substring(1 - carry);\r\n            psize += carry;\r\n        }\r\n        return p.equals(s) ? 1 : 0;\r\n    }\r\n```\r\n\r\nTo reduce memory consumption you could also do this with just one string buffer:\r\n\r\n```\r\n    public static int power(String s) {\r\n        s = s.replaceAll(&quot;^0+&quot;, &quot;&quot;); // Only needed if input is not normalized\r\n        int size = s.length();\r\n        if (size == 0) return 0;\r\n        \r\n        StringBuffer sum = new StringBuffer(size);\r\n        sum.setLength(size);\r\n        // The current power of 2 is encoded in the string buffer \r\n        //    in a right-aligned manner:\r\n        int start = size - 1;\r\n        sum.setCharAt(start, &#39;1&#39;); \r\n        \r\n        while (start &gt; 0 || sum.charAt(0) &lt; s.charAt(0)) {\r\n            // Multiply number encoded in stringbuffer by 2;\r\n            int carry = 0;\r\n            for (int i = size - 1; i &gt;= start; i--) {\r\n                int digit = (sum.charAt(i) - &#39;0&#39;) * 2 + carry;\r\n                sum.setCharAt(i, (char) (digit % 10 + &#39;0&#39;));\r\n                carry = digit / 10;\r\n            }\r\n            if (carry &gt; 0) {\r\n                start--;\r\n                if (start &lt; 0) return 0;\r\n                sum.setCharAt(start, &#39;1&#39;);\r\n            }\r\n        }\r\n        return sum.toString().equals(s) ? 1 : 0;\r\n    }\r\n```\r\n\r\nIn a code comment you had written that the input will have no more than 21 characters. There are 67 powers of 2 that fit that condition, so you could even consider storing those powers (as strings) in an array, optionally grouped by the number of characters they have, and look for a match...","title":"Find if Given number is power of 2 or not","body":"<p>I would suggest working in the opposite direction, and create a string that starts as &quot;1&quot; and then &quot;double&quot; it while it represents a number that is less than the number represented by the target string. Return 1 when it is equal, 0 otherwise:</p>\n<pre><code>    public static int power(String s) {\n        String p = &quot;1&quot;;\n        int psize = 1;\n        s = s.replaceAll(&quot;^0+&quot;, &quot;&quot;); // Only needed if input is not normalized\n        int size = s.length();\n        while (psize &lt; size || psize == size &amp;&amp; p.compareTo(s) &lt; 0) {\n            // multiply p by 2;\n            int carry = 0;\n            StringBuffer sum = new StringBuffer(psize + 1);\n            sum.setLength(psize + 1);\n            for (int i = psize - 1; i &gt;= 0; i--) {\n                int digit = (p.charAt(i) - '0') * 2 + carry;\n                sum.setCharAt(i + 1, (char) (digit % 10 + '0'));\n                carry = digit / 10;\n            }\n            sum.setCharAt(0, (char) (carry + '0'));\n            p = sum.substring(1 - carry);\n            psize += carry;\n        }\n        return p.equals(s) ? 1 : 0;\n    }\n</code></pre>\n<p>To reduce memory consumption you could also do this with just one string buffer:</p>\n<pre><code>    public static int power(String s) {\n        s = s.replaceAll(&quot;^0+&quot;, &quot;&quot;); // Only needed if input is not normalized\n        int size = s.length();\n        if (size == 0) return 0;\n        \n        StringBuffer sum = new StringBuffer(size);\n        sum.setLength(size);\n        // The current power of 2 is encoded in the string buffer \n        //    in a right-aligned manner:\n        int start = size - 1;\n        sum.setCharAt(start, '1'); \n        \n        while (start &gt; 0 || sum.charAt(0) &lt; s.charAt(0)) {\n            // Multiply number encoded in stringbuffer by 2;\n            int carry = 0;\n            for (int i = size - 1; i &gt;= start; i--) {\n                int digit = (sum.charAt(i) - '0') * 2 + carry;\n                sum.setCharAt(i, (char) (digit % 10 + '0'));\n                carry = digit / 10;\n            }\n            if (carry &gt; 0) {\n                start--;\n                if (start &lt; 0) return 0;\n                sum.setCharAt(start, '1');\n            }\n        }\n        return sum.toString().equals(s) ? 1 : 0;\n    }\n</code></pre>\n<p>In a code comment you had written that the input will have no more than 21 characters. There are 67 powers of 2 that fit that condition, so you could even consider storing those powers (as strings) in an array, optionally grouped by the number of characters they have, and look for a match...</p>\n"}],"owner":{"account_id":27892296,"reputation":21,"user_id":21298398,"display_name":"B DRUTHI"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1678113760,"answer_count":4,"score":1,"last_activity_date":1678190948,"creation_date":1678078667,"question_id":75647184,"body_markdown":"Find if the Given number is a power of 2 or not.\r\n\r\n**Input:** Number length can be more than 64, which means the number can be greater than 2 ^ 64 (out of long long range) (Given as a string)\r\n\r\n**Output:** Return 1 if the number is a power of 2 else return 0\r\n\r\n**Example:**\r\nInput: 128\r\nOutput: 1\r\n\r\n\r\nThis is on a coding platform, and BigInteger was not imported(i.e. Math class was not imported). I had to perform operations on the string either without modifying its datatype or using a mathematical formula to prevent overflow. \r\n\r\n\r\n```\r\nclass Solution {\r\n  public static int power(String A) {\r\n      /* write your solution here */\r\n      while(Integer.parseInt(A)&gt;1){\r\n          if(Integer.parseInt(A)%2!=0)\r\n          return 0;\r\n       A=Integer.toString(Integer.parseInt(A)/2);\r\n      }\r\n      return 1;\r\n      \r\n      //long num=Long.parseUnsignedLong(A);\r\n      //while(num&gt;1){\r\n      //    if(num%2!=0)\r\n           //  return 0;\r\n         //num=num/2;\r\n       //}\r\n      // return 1; // The input can be up to 21 characters long, and that&#39;s why unsigned long didn&#39;t work.\r\n      \r\n  }\r\n}\r\n```\r\nWhat am I supposed to do? (In java only, please)\r\n ","title":"Find if Given number is power of 2 or not","body":"<p>Find if the Given number is a power of 2 or not.</p>\n<p><strong>Input:</strong> Number length can be more than 64, which means the number can be greater than 2 ^ 64 (out of long long range) (Given as a string)</p>\n<p><strong>Output:</strong> Return 1 if the number is a power of 2 else return 0</p>\n<p><strong>Example:</strong>\nInput: 128\nOutput: 1</p>\n<p>This is on a coding platform, and BigInteger was not imported(i.e. Math class was not imported). I had to perform operations on the string either without modifying its datatype or using a mathematical formula to prevent overflow.</p>\n<pre><code>class Solution {\n  public static int power(String A) {\n      /* write your solution here */\n      while(Integer.parseInt(A)&gt;1){\n          if(Integer.parseInt(A)%2!=0)\n          return 0;\n       A=Integer.toString(Integer.parseInt(A)/2);\n      }\n      return 1;\n      \n      //long num=Long.parseUnsignedLong(A);\n      //while(num&gt;1){\n      //    if(num%2!=0)\n           //  return 0;\n         //num=num/2;\n       //}\n      // return 1; // The input can be up to 21 characters long, and that's why unsigned long didn't work.\n      \n  }\n}\n</code></pre>\n<p>What am I supposed to do? (In java only, please)</p>\n"},{"tags":["java","spring-boot","amazon-dynamodb"],"comments":[{"owner":{"account_id":12794141,"reputation":513,"user_id":9257719,"display_name":"Karan Sharma"},"score":0,"creation_date":1678189808,"post_id":75661561,"comment_id":133481563,"body_markdown":"Seems like some dependency is missing. Can you try adding `spring-boot-starter-data-jpa` dependency and see if this solves?","body":"Seems like some dependency is missing. Can you try adding <code>spring-boot-starter-data-jpa</code> dependency and see if this solves?"},{"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"score":0,"creation_date":1678189888,"post_id":75661561,"comment_id":133481584,"body_markdown":"It works for single Primary key, with the same dependency. But when I use composite key then it got failed :( But I am trying","body":"It works for single Primary key, with the same dependency. But when I use composite key then it got failed :( But I am trying"},{"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"score":0,"creation_date":1678190100,"post_id":75661561,"comment_id":133481642,"body_markdown":"@KaranSharma I guess, it shouldn&#39;t be, as after adding that, I am getting this now:\nThe bean &#39;itemInfoRepository&#39;, defined in com.mukit09.dynamodblearning.repository.ItemInfoRepository defined in EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration, could not be registered. A bean with that name has already been defined in com.mukit09.dynamodblearning.repository.ItemInfoRepository defined in EnableDynamoDBRepositories declared on AwsDynamoDbConfig and overriding is disabled.","body":"@KaranSharma I guess, it shouldn&#39;t be, as after adding that, I am getting this now: The bean &#39;itemInfoRepository&#39;, defined in com.mukit09.dynamodblearning.repository.ItemInfoRepository defined in EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration, could not be registered. A bean with that name has already been defined in com.mukit09.dynamodblearning.repository.ItemInfoRepository defined in EnableDynamoDBRepositories declared on AwsDynamoDbConfig and overriding is disabled."},{"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"score":0,"creation_date":1678190144,"post_id":75661561,"comment_id":133481649,"body_markdown":"so it will have two repositories then to enable: EnableJpaRepositories and EnableDynamoDBRepositories","body":"so it will have two repositories then to enable: EnableJpaRepositories and EnableDynamoDBRepositories"}],"answers":[{"comments":[{"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"score":0,"creation_date":1678196927,"post_id":75661770,"comment_id":133483419,"body_markdown":"You are great, man! I just wonder, why Spring Boot don&#39;t have any embedded dependency yet for dynamodb? The spring boot projects who use dynamodb, will have to use a vulnerable dependency if they want to use the latest spring boot versions :(","body":"You are great, man! I just wonder, why Spring Boot don&#39;t have any embedded dependency yet for dynamodb? The spring boot projects who use dynamodb, will have to use a vulnerable dependency if they want to use the latest spring boot versions :("},{"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"score":0,"creation_date":1678198630,"post_id":75661770,"comment_id":133483924,"body_markdown":"just one thing:  2.2  itself isn&#39;t supported","body":"just one thing:  2.2  itself isn&#39;t supported"}],"tags":[],"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678190741,"creation_date":1678190741,"answer_id":75661770,"question_id":75661561,"body_markdown":"This is a known issue, as you can find [here](https://github.com/derjust/spring-data-dynamodb/issues/279) and [here](https://github.com/derjust/spring-data-dynamodb/issues/267) as Spring &gt; 2.2 is not supported. \r\n\r\nThere is a fork for which it may work, but I have not tested:\r\n\r\nhttps://github.com/boostchicken/spring-data-dynamodb.\r\n\r\n","title":"Why ReflectionEntityInformation when using Composite key of DynamoDB in Spring Boot","body":"<p>This is a known issue, as you can find <a href=\"https://github.com/derjust/spring-data-dynamodb/issues/279\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://github.com/derjust/spring-data-dynamodb/issues/267\" rel=\"nofollow noreferrer\">here</a> as Spring &gt; 2.2 is not supported.</p>\n<p>There is a fork for which it may work, but I have not tested:</p>\n<p><a href=\"https://github.com/boostchicken/spring-data-dynamodb\" rel=\"nofollow noreferrer\">https://github.com/boostchicken/spring-data-dynamodb</a>.</p>\n"}],"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75661770,"answer_count":1,"score":0,"last_activity_date":1678190741,"creation_date":1678189484,"question_id":75661561,"body_markdown":"I am learning DynamoDb, so was trying to do a basic project using Spring Boot and DynamoDB. I checked these link to run this application successfully, but got failed :(\r\n\r\n 1. https://stackoverflow.com/a/57386532/2952011\r\n 2. http://johnhunsley.blogspot.com/2016/11/spring-data-jpa-with-hash-range-key.html\r\n 3. https://medium.com/@leohoc/dynamodb-and-spring-data-a81c546a1305\r\n\r\nFor db setup, I used docker. Here is my compose file:\r\n\r\n    version: &#39;3.7&#39;\r\n    \r\n    services:\r\n      localstack:\r\n        container_name: localstack\r\n        image: localstack/localstack:latest\r\n        environment:\r\n          - DEBUG=1\r\n          - USE_SSL=0\r\n          - AWS_CBOR_DISABLE=1\r\n          - DOCKER_HOST=unix:///var/run/docker.sock\r\n          - HOSTNAME=localstack\r\n          - SERVICES=dynamodb\r\n          - AWS_DEFAULT_REGION=us-east-1\r\n        ports:\r\n          - &#39;4566-4583:4566-4583&#39;\r\n        volumes:\r\n          - ${TEMPDIR:-/tmp/localstack}:/var/lib/localstack\r\n          - /var/run/docker.sock:/var/run/docker.sock\r\n          - ./script/init-dynamodb.sh:/docker-entrypoint-initaws.d/init-dynamodb.sh\r\n\r\nThe script to create tables is here:\r\n\r\n    #!/bin/bash\r\n    \r\n    # -- &gt; Create DynamoDb Table\r\n    echo Creating  DynamoDb \\&#39;ItemInfo\\&#39; table ...\r\n    echo $(awslocal dynamodb create-table --cli-input-json &#39;{\r\n        &quot;TableName&quot;:&quot;ItemInfo&quot;,\r\n        &quot;KeySchema&quot;:\r\n          [\r\n            {&quot;AttributeName&quot;:&quot;id&quot;,&quot;KeyType&quot;:&quot;HASH&quot;}\r\n          ],\r\n          &quot;AttributeDefinitions&quot;:\r\n            [\r\n              {&quot;AttributeName&quot;:&quot;id&quot;,&quot;AttributeType&quot;:&quot;S&quot;}\r\n            ],\r\n            &quot;BillingMode&quot;:&quot;PAY_PER_REQUEST&quot;\r\n      }&#39;\r\n    )\r\n    \r\n    echo Creating  DynamoDb \\&#39;Music\\&#39; table ...\r\n    \r\n    echo $(awslocal dynamodb create-table --cli-input-json &#39;{\r\n        &quot;TableName&quot;:&quot;Music&quot;,\r\n        &quot;KeySchema&quot;:\r\n          [\r\n            {&quot;AttributeName&quot;:&quot;Artist&quot;,&quot;KeyType&quot;:&quot;HASH&quot;},\r\n            {&quot;AttributeName&quot;:&quot;SongTitle&quot;,&quot;KeyType&quot;:&quot;RANGE&quot;}\r\n          ],\r\n          &quot;AttributeDefinitions&quot;:\r\n            [\r\n              {&quot;AttributeName&quot;:&quot;Artist&quot;,&quot;AttributeType&quot;:&quot;S&quot;},\r\n              {&quot;AttributeName&quot;:&quot;SongTitle&quot;,&quot;AttributeType&quot;:&quot;S&quot;}\r\n            ],\r\n          &quot;ProvisionedThroughput&quot;:{\r\n            &quot;WriteCapacityUnits&quot;: 5,\r\n            &quot;ReadCapacityUnits&quot;: 5\r\n          },\r\n          &quot;TableClass&quot;: &quot;STANDARD&quot;\r\n      }&#39;\r\n    )\r\n    \r\n    # --&gt; List DynamoDb Tables\r\n    echo Listing tables ...\r\n    echo $(awslocal dynamodb list-tables)\r\n\r\n   \r\nSo after running:\r\n\r\n    sudo docker compose up -d\r\n\r\nwhen I execute this:\r\n\r\n    aws --endpoint-url=http://localhost:4566 --region=us-east-1  dynamodb describe-table --table-name Music\r\n\r\nI am getting this:\r\n\r\n    {\r\n        &quot;Table&quot;: {\r\n            &quot;AttributeDefinitions&quot;: [\r\n                {\r\n                    &quot;AttributeName&quot;: &quot;Artist&quot;,\r\n                    &quot;AttributeType&quot;: &quot;S&quot;\r\n                },\r\n                {\r\n                    &quot;AttributeName&quot;: &quot;SongTitle&quot;,\r\n                    &quot;AttributeType&quot;: &quot;S&quot;\r\n                }\r\n            ],\r\n            &quot;TableName&quot;: &quot;Music&quot;,\r\n            &quot;KeySchema&quot;: [\r\n                {\r\n                    &quot;AttributeName&quot;: &quot;Artist&quot;,\r\n                    &quot;KeyType&quot;: &quot;HASH&quot;\r\n                },\r\n                {\r\n                    &quot;AttributeName&quot;: &quot;SongTitle&quot;,\r\n                    &quot;KeyType&quot;: &quot;RANGE&quot;\r\n                }\r\n            ],\r\n            &quot;TableStatus&quot;: &quot;ACTIVE&quot;,\r\n            &quot;CreationDateTime&quot;: &quot;2023-03-07T14:17:46.287000+06:00&quot;,\r\n            &quot;ProvisionedThroughput&quot;: {\r\n                &quot;LastIncreaseDateTime&quot;: &quot;1970-01-01T06:00:00+06:00&quot;,\r\n                &quot;LastDecreaseDateTime&quot;: &quot;1970-01-01T06:00:00+06:00&quot;,\r\n                &quot;NumberOfDecreasesToday&quot;: 0,\r\n                &quot;ReadCapacityUnits&quot;: 5,\r\n                &quot;WriteCapacityUnits&quot;: 5\r\n            },\r\n            &quot;TableSizeBytes&quot;: 0,\r\n            &quot;ItemCount&quot;: 0,\r\n            &quot;TableArn&quot;: &quot;arn:aws:dynamodb:us-east-1:000000000000:table/Music&quot;,\r\n            &quot;TableId&quot;: &quot;bcce1ab3-8f0c-4b8f-9d55-6c69ec1ef2ad&quot;,\r\n            &quot;Replicas&quot;: [],\r\n            &quot;TableClassSummary&quot;: {\r\n                &quot;TableClass&quot;: &quot;STANDARD&quot;\r\n            }\r\n        }\r\n    }\r\n\r\nSo I believe table creation is okay. Now I am showing the (DynamoDB Table) Music class:\r\n\r\n    @DynamoDBTable(tableName = &quot;Music&quot;)\r\n    public class Music implements Serializable {\r\n        @Id\r\n        private MusicId musicId;\r\n    \r\n        public Music() {}\r\n    \r\n        public Music(MusicId musicId) {\r\n            this.musicId = musicId;\r\n        }\r\n    \r\n        public MusicId getMusicId() {\r\n            return musicId;\r\n        }\r\n    \r\n        public void setMusicId(MusicId musicId) {\r\n            this.musicId = musicId;\r\n        }\r\n\r\n        @DynamoDBHashKey(attributeName = &quot;Artist&quot;)\r\n        public String getArtist() {\r\n            return musicId != null ? musicId.getArtist() : null;\r\n        }\r\n        \r\n        public void setArtist(String artist) {\r\n            if (musicId == null)\r\n                musicId = new MusicId();\r\n            musicId.setArtist(artist);\r\n        }\r\n    \r\n        @DynamoDBRangeKey(attributeName = &quot;SongTitle&quot;)\r\n        public String getSongTitle() {\r\n            return musicId != null ? musicId.getSongTitle() : null;\r\n        }\r\n    \r\n        public void setSongTitle(String songTitle) {\r\n            if (musicId == null)\r\n                musicId = new MusicId();\r\n            musicId.setSongTitle(songTitle);\r\n        }\r\n    }\r\n\r\nHere is MusicId (DynamoDB Document) class:\r\n\r\n\r\n    @DynamoDBDocument\r\n    public class MusicId implements Serializable {\r\n        private static final long serialVersionUID = 100L;\r\n    \r\n        public MusicId() {\r\n    \r\n        }\r\n    \r\n        public MusicId(String artist, String songTitle) {\r\n            this.artist = artist;\r\n            this.songTitle = songTitle;\r\n        }\r\n    \r\n        private String artist;\r\n        private String songTitle;\r\n    \r\n        @DynamoDBHashKey(attributeName = &quot;Artist&quot;)\r\n        public String getArtist() {\r\n            return artist;\r\n        }\r\n    \r\n        public void setArtist(String artist) {\r\n            this.artist = artist;\r\n        }\r\n    \r\n        @DynamoDBRangeKey(attributeName = &quot;SongTitle&quot;)\r\n        public String getSongTitle() {\r\n            return songTitle;\r\n        }\r\n    \r\n        public void setSongTitle(String songTitle) {\r\n            this.songTitle = songTitle;\r\n        }\r\n    }\r\n\r\nHere is MusicRepository:\r\n\r\n    @EnableScan\r\n    public interface MusicRepository extends CrudRepository&lt;Music, MusicId&gt; {\r\n    }\r\n\r\nHere is DynamoDbServiceImpl which implements DynamoDbService:\r\n\r\n    @Service\r\n    public class DynamoDbServiceImpl implements DynamoDbService {\r\n        private final ItemInfoRepository itemInfoRepository;\r\n        private final MusicRepository musicRepository;\r\n    \r\n        @Autowired\r\n        public DynamoDbServiceImpl(ItemInfoRepository itemInfoRepository, MusicRepository musicRepository) {\r\n            this.itemInfoRepository = itemInfoRepository;\r\n            this.musicRepository = musicRepository;\r\n        }\r\n    \r\n        @Override\r\n        public void saveItem(ItemInfoDto dto) {\r\n            ItemInfo itemInfo = new ItemInfo();\r\n            itemInfo.setItemName(dto.getItemName());\r\n            itemInfo.setItemUrl(dto.getItemUrl());\r\n            itemInfoRepository.save(itemInfo);\r\n        }\r\n    \r\n        @Override\r\n        public void saveMusic(MusicDto dto) {\r\n            Music music = new Music();\r\n            music.setArtist(dto.getArtist());\r\n            musicRepository.save(music);\r\n        }\r\n    }\r\n\r\nAnd here is the AwsDynamoDbConfig to configure:\r\n\r\n    @Getter\r\n    @Setter\r\n    @Configuration\r\n    @EnableDynamoDBRepositories(basePackages = &quot;com.mukit09.dynamodblearning.repository&quot;)\r\n    public class AwsDynamoDbConfig {\r\n        @Value(&quot;${config.aws.region}&quot;)\r\n        private String region;\r\n        @Value(&quot;${config.aws.dynamodb.url}&quot;)\r\n        private String dynamoDbEndpointUrl;\r\n        @Value(&quot;${config.aws.dynamodb.access-key}&quot;)\r\n        private String accessKey;\r\n        @Value(&quot;${config.aws.dynamodb.secret-key}&quot;)\r\n        private String secretKey;\r\n    \r\n        @Bean(name = &quot;amazonDynamoDB&quot;)\r\n        public AmazonDynamoDB amazonDynamoDB() {\r\n            return AmazonDynamoDBClientBuilder.standard()\r\n                    .withCredentials(getCredentialsProvider())\r\n                    .withEndpointConfiguration(getEndpointConfiguration(dynamoDbEndpointUrl))\r\n                    .build();\r\n        }\r\n    \r\n        private EndpointConfiguration getEndpointConfiguration(String url) {\r\n            return new EndpointConfiguration(url, region);\r\n        }\r\n    \r\n        private AWSStaticCredentialsProvider getCredentialsProvider() {\r\n            return new AWSStaticCredentialsProvider(getBasicAWSCredentials());\r\n        }\r\n    \r\n        private BasicAWSCredentials getBasicAWSCredentials() {\r\n            return new BasicAWSCredentials(accessKey, secretKey);\r\n        }\r\n    }\r\n\r\nThese are the contents from application.properties:\r\n\r\n    #dynamoDB\r\n    config.aws.region=us-east-1\r\n    config.aws.dynamodb.url=http://127.0.0.1:4566\r\n    config.aws.dynamodb.access-key=localstack\r\n    config.aws.dynamodb.secret-key=localstack\r\n    \r\n    #log\r\n    logging.file.name=debug.log\r\n    logging.level.root= debug\r\n\r\nThis is my gradle file (build.gradle):\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;org.springframework.boot&#39; version &#39;2.7.9&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n    }\r\n    \r\n    group = &#39;com.mukit09&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;11&#39;\r\n    \r\n    configurations {\r\n        compileOnly {\r\n            extendsFrom annotationProcessor\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        implementation &#39;com.github.derjust:spring-data-dynamodb:5.1.0&#39;\r\n        implementation &#39;com.amazonaws:aws-java-sdk-dynamodb:1.12.420&#39;\r\n    \r\n        compileOnly &#39;org.projectlombok:lombok&#39;\r\n    \r\n        annotationProcessor &#39;org.springframework.boot:spring-boot-configuration-processor&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    }\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n\r\nWhen I try to run this application, it is failed keeping this log:\r\n\r\n    2023-03-07 17:32:17.375 ERROR 68881 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dynamoDbController&#39; defined in file [/home/mukit09/code/java/dynamodb-learning/build/classes/java/main/com/mukit09/dynamodblearning/controller/DynamoDbController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dynamoDbServiceImpl&#39; defined in file [/home/mukit09/code/java/dynamodb-learning/build/classes/java/main/com/mukit09/dynamodblearning/service/impl/DynamoDbServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;musicRepository&#39; defined in com.mukit09.dynamodblearning.repository.MusicRepository defined in @EnableDynamoDBRepositories declared on AwsDynamoDbConfig: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/springframework/data/repository/core/support/ReflectionEntityInformation\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.9.jar:2.7.9]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.9.jar:2.7.9]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.9.jar:2.7.9]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.9.jar:2.7.9]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.9.jar:2.7.9]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.9.jar:2.7.9]\r\n    \tat com.mukit09.dynamodblearning.DynamodbLearningApplication.main(DynamodbLearningApplication.java:10) ~[main/:na]\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dynamoDbServiceImpl&#39; defined in file [/home/mukit09/code/java/dynamodb-learning/build/classes/java/main/com/mukit09/dynamodblearning/service/impl/DynamoDbServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;musicRepository&#39; defined in com.mukit09.dynamodblearning.repository.MusicRepository defined in @EnableDynamoDBRepositories declared on AwsDynamoDbConfig: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/springframework/data/repository/core/support/ReflectionEntityInformation\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \t... 19 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;musicRepository&#39; defined in com.mukit09.dynamodblearning.repository.MusicRepository defined in @EnableDynamoDBRepositories declared on AwsDynamoDbConfig: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/springframework/data/repository/core/support/ReflectionEntityInformation\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \t... 33 common frames omitted\r\n    Caused by: java.lang.NoClassDefFoundError: org/springframework/data/repository/core/support/ReflectionEntityInformation\r\n    \tat java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016) ~[na:na]\r\n    \tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n    \tat org.socialsignin.spring.data.dynamodb.repository.support.DynamoDBEntityMetadataSupport.getEntityInformation(DynamoDBEntityMetadataSupport.java:125) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\r\n    \tat org.socialsignin.spring.data.dynamodb.repository.support.DynamoDBRepositoryFactory.getEntityInformation(DynamoDBRepositoryFactory.java:104) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\r\n    \tat org.socialsignin.spring.data.dynamodb.repository.support.DynamoDBRepositoryFactory.getDynamoDBRepository(DynamoDBRepositoryFactory.java:128) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\r\n    \tat org.socialsignin.spring.data.dynamodb.repository.support.DynamoDBRepositoryFactory.getTargetRepository(DynamoDBRepositoryFactory.java:150) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:325) ~[spring-data-commons-2.7.8.jar:2.7.8]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323) ~[spring-data-commons-2.7.8.jar:2.7.8]\r\n    \tat org.springframework.data.util.Lazy.getNullable(Lazy.java:231) ~[spring-data-commons-2.7.8.jar:2.7.8]\r\n    \tat org.springframework.data.util.Lazy.get(Lazy.java:115) ~[spring-data-commons-2.7.8.jar:2.7.8]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329) ~[spring-data-commons-2.7.8.jar:2.7.8]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.25.jar:5.3.25]\r\n    \t... 44 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.data.repository.core.support.ReflectionEntityInformation\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n    \t... 64 common frames omitted\r\n    \r\n    \r\n    Process finished with exit code 1\r\n\r\n\r\nAs a learner of this stack, definitely I did some mistake. Would you please help me please to find the error I made please?","title":"Why ReflectionEntityInformation when using Composite key of DynamoDB in Spring Boot","body":"<p>I am learning DynamoDb, so was trying to do a basic project using Spring Boot and DynamoDB. I checked these link to run this application successfully, but got failed :(</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/a/57386532/2952011\">https://stackoverflow.com/a/57386532/2952011</a></li>\n<li><a href=\"http://johnhunsley.blogspot.com/2016/11/spring-data-jpa-with-hash-range-key.html\" rel=\"nofollow noreferrer\">http://johnhunsley.blogspot.com/2016/11/spring-data-jpa-with-hash-range-key.html</a></li>\n<li><a href=\"https://medium.com/@leohoc/dynamodb-and-spring-data-a81c546a1305\" rel=\"nofollow noreferrer\">https://medium.com/@leohoc/dynamodb-and-spring-data-a81c546a1305</a></li>\n</ol>\n<p>For db setup, I used docker. Here is my compose file:</p>\n<pre><code>version: '3.7'\n\nservices:\n  localstack:\n    container_name: localstack\n    image: localstack/localstack:latest\n    environment:\n      - DEBUG=1\n      - USE_SSL=0\n      - AWS_CBOR_DISABLE=1\n      - DOCKER_HOST=unix:///var/run/docker.sock\n      - HOSTNAME=localstack\n      - SERVICES=dynamodb\n      - AWS_DEFAULT_REGION=us-east-1\n    ports:\n      - '4566-4583:4566-4583'\n    volumes:\n      - ${TEMPDIR:-/tmp/localstack}:/var/lib/localstack\n      - /var/run/docker.sock:/var/run/docker.sock\n      - ./script/init-dynamodb.sh:/docker-entrypoint-initaws.d/init-dynamodb.sh\n</code></pre>\n<p>The script to create tables is here:</p>\n<pre><code>#!/bin/bash\n\n# -- &gt; Create DynamoDb Table\necho Creating  DynamoDb \\'ItemInfo\\' table ...\necho $(awslocal dynamodb create-table --cli-input-json '{\n    &quot;TableName&quot;:&quot;ItemInfo&quot;,\n    &quot;KeySchema&quot;:\n      [\n        {&quot;AttributeName&quot;:&quot;id&quot;,&quot;KeyType&quot;:&quot;HASH&quot;}\n      ],\n      &quot;AttributeDefinitions&quot;:\n        [\n          {&quot;AttributeName&quot;:&quot;id&quot;,&quot;AttributeType&quot;:&quot;S&quot;}\n        ],\n        &quot;BillingMode&quot;:&quot;PAY_PER_REQUEST&quot;\n  }'\n)\n\necho Creating  DynamoDb \\'Music\\' table ...\n\necho $(awslocal dynamodb create-table --cli-input-json '{\n    &quot;TableName&quot;:&quot;Music&quot;,\n    &quot;KeySchema&quot;:\n      [\n        {&quot;AttributeName&quot;:&quot;Artist&quot;,&quot;KeyType&quot;:&quot;HASH&quot;},\n        {&quot;AttributeName&quot;:&quot;SongTitle&quot;,&quot;KeyType&quot;:&quot;RANGE&quot;}\n      ],\n      &quot;AttributeDefinitions&quot;:\n        [\n          {&quot;AttributeName&quot;:&quot;Artist&quot;,&quot;AttributeType&quot;:&quot;S&quot;},\n          {&quot;AttributeName&quot;:&quot;SongTitle&quot;,&quot;AttributeType&quot;:&quot;S&quot;}\n        ],\n      &quot;ProvisionedThroughput&quot;:{\n        &quot;WriteCapacityUnits&quot;: 5,\n        &quot;ReadCapacityUnits&quot;: 5\n      },\n      &quot;TableClass&quot;: &quot;STANDARD&quot;\n  }'\n)\n\n# --&gt; List DynamoDb Tables\necho Listing tables ...\necho $(awslocal dynamodb list-tables)\n</code></pre>\n<p>So after running:</p>\n<pre><code>sudo docker compose up -d\n</code></pre>\n<p>when I execute this:</p>\n<pre><code>aws --endpoint-url=http://localhost:4566 --region=us-east-1  dynamodb describe-table --table-name Music\n</code></pre>\n<p>I am getting this:</p>\n<pre><code>{\n    &quot;Table&quot;: {\n        &quot;AttributeDefinitions&quot;: [\n            {\n                &quot;AttributeName&quot;: &quot;Artist&quot;,\n                &quot;AttributeType&quot;: &quot;S&quot;\n            },\n            {\n                &quot;AttributeName&quot;: &quot;SongTitle&quot;,\n                &quot;AttributeType&quot;: &quot;S&quot;\n            }\n        ],\n        &quot;TableName&quot;: &quot;Music&quot;,\n        &quot;KeySchema&quot;: [\n            {\n                &quot;AttributeName&quot;: &quot;Artist&quot;,\n                &quot;KeyType&quot;: &quot;HASH&quot;\n            },\n            {\n                &quot;AttributeName&quot;: &quot;SongTitle&quot;,\n                &quot;KeyType&quot;: &quot;RANGE&quot;\n            }\n        ],\n        &quot;TableStatus&quot;: &quot;ACTIVE&quot;,\n        &quot;CreationDateTime&quot;: &quot;2023-03-07T14:17:46.287000+06:00&quot;,\n        &quot;ProvisionedThroughput&quot;: {\n            &quot;LastIncreaseDateTime&quot;: &quot;1970-01-01T06:00:00+06:00&quot;,\n            &quot;LastDecreaseDateTime&quot;: &quot;1970-01-01T06:00:00+06:00&quot;,\n            &quot;NumberOfDecreasesToday&quot;: 0,\n            &quot;ReadCapacityUnits&quot;: 5,\n            &quot;WriteCapacityUnits&quot;: 5\n        },\n        &quot;TableSizeBytes&quot;: 0,\n        &quot;ItemCount&quot;: 0,\n        &quot;TableArn&quot;: &quot;arn:aws:dynamodb:us-east-1:000000000000:table/Music&quot;,\n        &quot;TableId&quot;: &quot;bcce1ab3-8f0c-4b8f-9d55-6c69ec1ef2ad&quot;,\n        &quot;Replicas&quot;: [],\n        &quot;TableClassSummary&quot;: {\n            &quot;TableClass&quot;: &quot;STANDARD&quot;\n        }\n    }\n}\n</code></pre>\n<p>So I believe table creation is okay. Now I am showing the (DynamoDB Table) Music class:</p>\n<pre><code>@DynamoDBTable(tableName = &quot;Music&quot;)\npublic class Music implements Serializable {\n    @Id\n    private MusicId musicId;\n\n    public Music() {}\n\n    public Music(MusicId musicId) {\n        this.musicId = musicId;\n    }\n\n    public MusicId getMusicId() {\n        return musicId;\n    }\n\n    public void setMusicId(MusicId musicId) {\n        this.musicId = musicId;\n    }\n\n    @DynamoDBHashKey(attributeName = &quot;Artist&quot;)\n    public String getArtist() {\n        return musicId != null ? musicId.getArtist() : null;\n    }\n    \n    public void setArtist(String artist) {\n        if (musicId == null)\n            musicId = new MusicId();\n        musicId.setArtist(artist);\n    }\n\n    @DynamoDBRangeKey(attributeName = &quot;SongTitle&quot;)\n    public String getSongTitle() {\n        return musicId != null ? musicId.getSongTitle() : null;\n    }\n\n    public void setSongTitle(String songTitle) {\n        if (musicId == null)\n            musicId = new MusicId();\n        musicId.setSongTitle(songTitle);\n    }\n}\n</code></pre>\n<p>Here is MusicId (DynamoDB Document) class:</p>\n<pre><code>@DynamoDBDocument\npublic class MusicId implements Serializable {\n    private static final long serialVersionUID = 100L;\n\n    public MusicId() {\n\n    }\n\n    public MusicId(String artist, String songTitle) {\n        this.artist = artist;\n        this.songTitle = songTitle;\n    }\n\n    private String artist;\n    private String songTitle;\n\n    @DynamoDBHashKey(attributeName = &quot;Artist&quot;)\n    public String getArtist() {\n        return artist;\n    }\n\n    public void setArtist(String artist) {\n        this.artist = artist;\n    }\n\n    @DynamoDBRangeKey(attributeName = &quot;SongTitle&quot;)\n    public String getSongTitle() {\n        return songTitle;\n    }\n\n    public void setSongTitle(String songTitle) {\n        this.songTitle = songTitle;\n    }\n}\n</code></pre>\n<p>Here is MusicRepository:</p>\n<pre><code>@EnableScan\npublic interface MusicRepository extends CrudRepository&lt;Music, MusicId&gt; {\n}\n</code></pre>\n<p>Here is DynamoDbServiceImpl which implements DynamoDbService:</p>\n<pre><code>@Service\npublic class DynamoDbServiceImpl implements DynamoDbService {\n    private final ItemInfoRepository itemInfoRepository;\n    private final MusicRepository musicRepository;\n\n    @Autowired\n    public DynamoDbServiceImpl(ItemInfoRepository itemInfoRepository, MusicRepository musicRepository) {\n        this.itemInfoRepository = itemInfoRepository;\n        this.musicRepository = musicRepository;\n    }\n\n    @Override\n    public void saveItem(ItemInfoDto dto) {\n        ItemInfo itemInfo = new ItemInfo();\n        itemInfo.setItemName(dto.getItemName());\n        itemInfo.setItemUrl(dto.getItemUrl());\n        itemInfoRepository.save(itemInfo);\n    }\n\n    @Override\n    public void saveMusic(MusicDto dto) {\n        Music music = new Music();\n        music.setArtist(dto.getArtist());\n        musicRepository.save(music);\n    }\n}\n</code></pre>\n<p>And here is the AwsDynamoDbConfig to configure:</p>\n<pre><code>@Getter\n@Setter\n@Configuration\n@EnableDynamoDBRepositories(basePackages = &quot;com.mukit09.dynamodblearning.repository&quot;)\npublic class AwsDynamoDbConfig {\n    @Value(&quot;${config.aws.region}&quot;)\n    private String region;\n    @Value(&quot;${config.aws.dynamodb.url}&quot;)\n    private String dynamoDbEndpointUrl;\n    @Value(&quot;${config.aws.dynamodb.access-key}&quot;)\n    private String accessKey;\n    @Value(&quot;${config.aws.dynamodb.secret-key}&quot;)\n    private String secretKey;\n\n    @Bean(name = &quot;amazonDynamoDB&quot;)\n    public AmazonDynamoDB amazonDynamoDB() {\n        return AmazonDynamoDBClientBuilder.standard()\n                .withCredentials(getCredentialsProvider())\n                .withEndpointConfiguration(getEndpointConfiguration(dynamoDbEndpointUrl))\n                .build();\n    }\n\n    private EndpointConfiguration getEndpointConfiguration(String url) {\n        return new EndpointConfiguration(url, region);\n    }\n\n    private AWSStaticCredentialsProvider getCredentialsProvider() {\n        return new AWSStaticCredentialsProvider(getBasicAWSCredentials());\n    }\n\n    private BasicAWSCredentials getBasicAWSCredentials() {\n        return new BasicAWSCredentials(accessKey, secretKey);\n    }\n}\n</code></pre>\n<p>These are the contents from application.properties:</p>\n<pre><code>#dynamoDB\nconfig.aws.region=us-east-1\nconfig.aws.dynamodb.url=http://127.0.0.1:4566\nconfig.aws.dynamodb.access-key=localstack\nconfig.aws.dynamodb.secret-key=localstack\n\n#log\nlogging.file.name=debug.log\nlogging.level.root= debug\n</code></pre>\n<p>This is my gradle file (build.gradle):</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.7.9'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n}\n\ngroup = 'com.mukit09'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'com.github.derjust:spring-data-dynamodb:5.1.0'\n    implementation 'com.amazonaws:aws-java-sdk-dynamodb:1.12.420'\n\n    compileOnly 'org.projectlombok:lombok'\n\n    annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'\n    annotationProcessor 'org.projectlombok:lombok'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>When I try to run this application, it is failed keeping this log:</p>\n<pre><code>2023-03-07 17:32:17.375 ERROR 68881 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dynamoDbController' defined in file [/home/mukit09/code/java/dynamodb-learning/build/classes/java/main/com/mukit09/dynamodblearning/controller/DynamoDbController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dynamoDbServiceImpl' defined in file [/home/mukit09/code/java/dynamodb-learning/build/classes/java/main/com/mukit09/dynamodblearning/service/impl/DynamoDbServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'musicRepository' defined in com.mukit09.dynamodblearning.repository.MusicRepository defined in @EnableDynamoDBRepositories declared on AwsDynamoDbConfig: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/springframework/data/repository/core/support/ReflectionEntityInformation\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.25.jar:5.3.25]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.25.jar:5.3.25]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.9.jar:2.7.9]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.9.jar:2.7.9]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.9.jar:2.7.9]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.9.jar:2.7.9]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.9.jar:2.7.9]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.9.jar:2.7.9]\n    at com.mukit09.dynamodblearning.DynamodbLearningApplication.main(DynamodbLearningApplication.java:10) ~[main/:na]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dynamoDbServiceImpl' defined in file [/home/mukit09/code/java/dynamodb-learning/build/classes/java/main/com/mukit09/dynamodblearning/service/impl/DynamoDbServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'musicRepository' defined in com.mukit09.dynamodblearning.repository.MusicRepository defined in @EnableDynamoDBRepositories declared on AwsDynamoDbConfig: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/springframework/data/repository/core/support/ReflectionEntityInformation\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.25.jar:5.3.25]\n    ... 19 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'musicRepository' defined in com.mukit09.dynamodblearning.repository.MusicRepository defined in @EnableDynamoDBRepositories declared on AwsDynamoDbConfig: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/springframework/data/repository/core/support/ReflectionEntityInformation\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.25.jar:5.3.25]\n    ... 33 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/springframework/data/repository/core/support/ReflectionEntityInformation\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016) ~[na:na]\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    at org.socialsignin.spring.data.dynamodb.repository.support.DynamoDBEntityMetadataSupport.getEntityInformation(DynamoDBEntityMetadataSupport.java:125) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\n    at org.socialsignin.spring.data.dynamodb.repository.support.DynamoDBRepositoryFactory.getEntityInformation(DynamoDBRepositoryFactory.java:104) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\n    at org.socialsignin.spring.data.dynamodb.repository.support.DynamoDBRepositoryFactory.getDynamoDBRepository(DynamoDBRepositoryFactory.java:128) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\n    at org.socialsignin.spring.data.dynamodb.repository.support.DynamoDBRepositoryFactory.getTargetRepository(DynamoDBRepositoryFactory.java:150) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:325) ~[spring-data-commons-2.7.8.jar:2.7.8]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323) ~[spring-data-commons-2.7.8.jar:2.7.8]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:231) ~[spring-data-commons-2.7.8.jar:2.7.8]\n    at org.springframework.data.util.Lazy.get(Lazy.java:115) ~[spring-data-commons-2.7.8.jar:2.7.8]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329) ~[spring-data-commons-2.7.8.jar:2.7.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.25.jar:5.3.25]\n    ... 44 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.data.repository.core.support.ReflectionEntityInformation\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    ... 64 common frames omitted\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>As a learner of this stack, definitely I did some mistake. Would you please help me please to find the error I made please?</p>\n"},{"tags":["java","spring-boot","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":14258515,"reputation":27,"user_id":10300063,"display_name":"Santhosh Kumar S"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678190669,"creation_date":1678190669,"answer_id":75661758,"question_id":75660477,"body_markdown":"1. Jackson Object Mapper is thread safe, you don&#39;t have to worry while working on multithreading.\r\n2. If you want to Autowire this object make sure you do it in Singleton class\r\n3. Also use Constructor Injection.","title":"How to create instance of ObjectMapper of com.fasterxml.... package in multithreaded environment","body":"<ol>\n<li>Jackson Object Mapper is thread safe, you don't have to worry while working on multithreading.</li>\n<li>If you want to Autowire this object make sure you do it in Singleton class</li>\n<li>Also use Constructor Injection.</li>\n</ol>\n"}],"owner":{"account_id":27955125,"reputation":1,"user_id":21348108,"display_name":"shishir shastri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678190669,"creation_date":1678183281,"question_id":75660477,"body_markdown":"How to avoid new keyword should I use @Bean and autowire it in my service class.the same I am working on spring boot application can someone please guide with examples\r\n\r\nWhile autowiring ObjectMapper getting NoBean Exception.. Am running a task in background asynchronously using BackGround Task which implements callable.  In my Service I need Objectmapper but my service class can have multiple instances running in PROD environment. So my question is what is the alternate way of creating or injecting ObjectMapper instance which would be thread-safe","title":"How to create instance of ObjectMapper of com.fasterxml.... package in multithreaded environment","body":"<p>How to avoid new keyword should I use @Bean and autowire it in my service class.the same I am working on spring boot application can someone please guide with examples</p>\n<p>While autowiring ObjectMapper getting NoBean Exception.. Am running a task in background asynchronously using BackGround Task which implements callable.  In my Service I need Objectmapper but my service class can have multiple instances running in PROD environment. So my question is what is the alternate way of creating or injecting ObjectMapper instance which would be thread-safe</p>\n"},{"tags":["java","spring","spring-boot","parallel-processing","spring-batch"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1678191391,"post_id":75661719,"comment_id":133481954,"body_markdown":"I don&#39;t understand the correlation between the large data size and the need to process in parallel? Because when it is finally written to PDF, it must be sequential. If the data to be processed is d1, d2, d3, d4,...., because of parallel processing, the order of writing may be d2, d8, d12, d1, d4, d3...., the order of such data is in Is PDF acceptable? If not, it means that your data must still be sequential when writing to PDF.","body":"I don&#39;t understand the correlation between the large data size and the need to process in parallel? Because when it is finally written to PDF, it must be sequential. If the data to be processed is d1, d2, d3, d4,...., because of parallel processing, the order of writing may be d2, d8, d12, d1, d4, d3...., the order of such data is in Is PDF acceptable? If not, it means that your data must still be sequential when writing to PDF."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1678191455,"post_id":75661719,"comment_id":133481972,"body_markdown":"That won&#39;t work. What do you think happens if 4 threads write on the same file? Ever tried writing with 4 people on the same piece of paper and make it readable?","body":"That won&#39;t work. What do you think happens if 4 threads write on the same file? Ever tried writing with 4 people on the same piece of paper and make it readable?"},{"owner":{"account_id":3250464,"reputation":1553,"user_id":2740908,"accept_rate":54,"display_name":"Ronak Joshi"},"score":0,"creation_date":1678192030,"post_id":75661719,"comment_id":133482119,"body_markdown":"Thanks for the answer @life888888, what I want to make here is if I do parallel the time to do gather data, process it will save and if there is larger data comes and if its processed parallelly then might be it will save some amount of time.","body":"Thanks for the answer @life888888, what I want to make here is if I do parallel the time to do gather data, process it will save and if there is larger data comes and if its processed parallelly then might be it will save some amount of time."},{"owner":{"account_id":3250464,"reputation":1553,"user_id":2740908,"accept_rate":54,"display_name":"Ronak Joshi"},"score":0,"creation_date":1678192096,"post_id":75661719,"comment_id":133482136,"body_markdown":"@M.Deinum, respecting your answer, and I am also bit not sure that this will work as parallel, do you have any other suggestion to make it flexible in terms less execution time?","body":"@M.Deinum, respecting your answer, and I am also bit not sure that this will work as parallel, do you have any other suggestion to make it flexible in terms less execution time?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1678192286,"post_id":75661719,"comment_id":133482182,"body_markdown":"Your writing is always single threaded, so I doubt there is anything you can do to speed it up. The majority of the time will, probably, be spend writing so trying to optimize the read will not really help.","body":"Your writing is always single threaded, so I doubt there is anything you can do to speed it up. The majority of the time will, probably, be spend writing so trying to optimize the read will not really help."},{"owner":{"account_id":3250464,"reputation":1553,"user_id":2740908,"accept_rate":54,"display_name":"Ronak Joshi"},"score":0,"creation_date":1678192605,"post_id":75661719,"comment_id":133482257,"body_markdown":"Thanks for the suggestion @M.Deinum, I got your point.","body":"Thanks for the suggestion @M.Deinum, I got your point."}],"owner":{"account_id":3250464,"reputation":1553,"user_id":2740908,"accept_rate":54,"display_name":"Ronak Joshi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678190393,"creation_date":1678190393,"question_id":75661719,"body_markdown":"My project having Spring batch process where it should generate one PDF containing multiple data. The structure of the system for now is defined in three steps of Spring batch, where in the `reader` its reading one PostgresSQL query from where its getting data. In the `processor` there only few validations not much more and its return the same object to writer. Now in `writer` I tried to generate a single PDF containing all multiple data which writer method received. I have configured `SimpleTaskExecutor` by specifying `concurrency limit` as 20 which means it will use the multiple thread to do batch processing. Now What is happening from the query defined in reader return 4 data, and its going on processor to writer. When it calls write method its calling 4 times, at same moment. So, now what&#39;s happening that while generating PDF at a time its only might have single data, because its `running parallelly` and the data is not coming in sequential method which is expected.\r\n\r\nBelow is my bit piece of code,\r\n```\r\n@Component\r\npublic class Writer implements ItemWriter&lt;PeopleDecoded&gt; {\r\n\r\n    @Autowired\r\n    private PersonDecodedRepository personDecodedRepository;\r\n\r\n    @Autowired\r\n    PDFGeneratorService service;\r\n\r\n    @Override\r\n    public void write(List&lt;? extends PeopleDecoded&gt; items) throws Exception {\r\n        items.stream().map(peopleDecoded -&gt; {\r\n            File pdf = service.createPDF(peopleDecoded);\r\n            peopleDecoded.setFile(pdf.toBytes());\r\n           return peopleDecoded;\r\n        }).collect(Collectors.toList());\r\n        personDecodedRepository.saveAll(items);\r\n    }\r\n}\r\n```\r\nAs the above write method calls at the same time for all 4 data, its not able write all data into single PDF. I tried different ways like to take a `ConcurrentHashMap` but nothing is meaningful due to parallel processing. I also tried to take one `OutputStream` and tried to write over there but also not worked. As the data can be large I would required to do parallel processing instead of sequential, but having this difficulties. Any kind of help of even other suggestions or alternative will be appreciated. Thanks in advance to all.","title":"How to manage Spring batch parallel processing write method calls for PDF generation","body":"<p>My project having Spring batch process where it should generate one PDF containing multiple data. The structure of the system for now is defined in three steps of Spring batch, where in the <code>reader</code> its reading one PostgresSQL query from where its getting data. In the <code>processor</code> there only few validations not much more and its return the same object to writer. Now in <code>writer</code> I tried to generate a single PDF containing all multiple data which writer method received. I have configured <code>SimpleTaskExecutor</code> by specifying <code>concurrency limit</code> as 20 which means it will use the multiple thread to do batch processing. Now What is happening from the query defined in reader return 4 data, and its going on processor to writer. When it calls write method its calling 4 times, at same moment. So, now what's happening that while generating PDF at a time its only might have single data, because its <code>running parallelly</code> and the data is not coming in sequential method which is expected.</p>\n<p>Below is my bit piece of code,</p>\n<pre><code>@Component\npublic class Writer implements ItemWriter&lt;PeopleDecoded&gt; {\n\n    @Autowired\n    private PersonDecodedRepository personDecodedRepository;\n\n    @Autowired\n    PDFGeneratorService service;\n\n    @Override\n    public void write(List&lt;? extends PeopleDecoded&gt; items) throws Exception {\n        items.stream().map(peopleDecoded -&gt; {\n            File pdf = service.createPDF(peopleDecoded);\n            peopleDecoded.setFile(pdf.toBytes());\n           return peopleDecoded;\n        }).collect(Collectors.toList());\n        personDecodedRepository.saveAll(items);\n    }\n}\n</code></pre>\n<p>As the above write method calls at the same time for all 4 data, its not able write all data into single PDF. I tried different ways like to take a <code>ConcurrentHashMap</code> but nothing is meaningful due to parallel processing. I also tried to take one <code>OutputStream</code> and tried to write over there but also not worked. As the data can be large I would required to do parallel processing instead of sequential, but having this difficulties. Any kind of help of even other suggestions or alternative will be appreciated. Thanks in advance to all.</p>\n"},{"tags":["java","spring-boot","gradle","build.gradle"],"owner":{"account_id":5166364,"reputation":107,"user_id":4136195,"display_name":"Amit Rout"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678190290,"creation_date":1678190290,"question_id":75661703,"body_markdown":"I am using ```Gradle version 5.5.4``` and ```Java 8``` to build a sample spring boot java application.\r\n\r\nI can build successfully the application ```$./gradlew clean build``` but *.xml test-results are not getting generated.\r\n\r\n```\r\n$ cat build.gradle\r\nbuildscript {\r\n  repositories {\r\n    maven { url &quot;custom_artifactory_path/jcenter&quot;}\r\n  }\r\n  dependencies {\r\n    classpath(org.springframework.boot:spring-boot-gradle-plugin:2.1.18.RELEASE)\r\n  }\r\n}\r\n\r\nplugins {\r\n  id &quot;io.spring.dependency-management&quot; version &quot;1.0.5.RELEASE&quot;\r\n}\r\n\r\nallprojects {\r\n  apply plugins: &quot;java&quot;\r\n  apply plugins &quot;io.sprong.dependency-management&quot;\r\n  test {\r\n    useJunitPlatform()\r\n    reports.html.enabled = true\r\n  }\r\n  sourceCompatibility = javaVersion\r\n  targetCompatibility = javaVersion\r\n  \r\n  repositories {\r\n    maven { url &quot;custom_artifactory_path/jcenter&quot; }\r\n    maven { url &quot;custom_artifactory_path/cmp-local/m2&quot; }\r\n  }\r\n  \r\n  dependencyManagement {\r\n    imports { mavenBom &quot;org.springframework.boot:spring-boot-dependencies:2.1.18.RELEASE&quot; }\r\n  }\r\n}\r\n\r\nsubprojects {\r\n  jacoco {\r\n    toolVersion = &#39;0.8.0&#39;\r\n  }\r\n  dependencies {\r\n    compile(&quot;org.springframework.boot:spring-boot-starter&quot;)\r\n    // other dependencies \r\n  }\r\n}\r\n```\r\n\r\nNOTE: The test reports are properly generated whenever i am changing the spring-boot-gradle-plugin from current version ```2.1.18.RELEASE``` to other releases like ```2.0.*.RELEASE```.\r\n\r\n\r\n ","title":"spring-boot-gradle-plugin 2.1.18.RELEASE couldn&#39;t generate build test-results/test/*.xml reports","body":"<p>I am using <code>Gradle version 5.5.4</code> and <code>Java 8</code> to build a sample spring boot java application.</p>\n<p>I can build successfully the application <code>$./gradlew clean build</code> but *.xml test-results are not getting generated.</p>\n<pre><code>$ cat build.gradle\nbuildscript {\n  repositories {\n    maven { url &quot;custom_artifactory_path/jcenter&quot;}\n  }\n  dependencies {\n    classpath(org.springframework.boot:spring-boot-gradle-plugin:2.1.18.RELEASE)\n  }\n}\n\nplugins {\n  id &quot;io.spring.dependency-management&quot; version &quot;1.0.5.RELEASE&quot;\n}\n\nallprojects {\n  apply plugins: &quot;java&quot;\n  apply plugins &quot;io.sprong.dependency-management&quot;\n  test {\n    useJunitPlatform()\n    reports.html.enabled = true\n  }\n  sourceCompatibility = javaVersion\n  targetCompatibility = javaVersion\n  \n  repositories {\n    maven { url &quot;custom_artifactory_path/jcenter&quot; }\n    maven { url &quot;custom_artifactory_path/cmp-local/m2&quot; }\n  }\n  \n  dependencyManagement {\n    imports { mavenBom &quot;org.springframework.boot:spring-boot-dependencies:2.1.18.RELEASE&quot; }\n  }\n}\n\nsubprojects {\n  jacoco {\n    toolVersion = '0.8.0'\n  }\n  dependencies {\n    compile(&quot;org.springframework.boot:spring-boot-starter&quot;)\n    // other dependencies \n  }\n}\n</code></pre>\n<p>NOTE: The test reports are properly generated whenever i am changing the spring-boot-gradle-plugin from current version <code>2.1.18.RELEASE</code> to other releases like <code>2.0.*.RELEASE</code>.</p>\n"},{"tags":["java","spring-boot","elasticsearch","spring-data-elasticsearch","elasticsearch-5"],"comments":[{"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1678170168,"post_id":75658287,"comment_id":133476665,"body_markdown":"Can you show the code you&#39;re using to query ES?","body":"Can you show the code you&#39;re using to query ES?"},{"owner":{"account_id":26579158,"reputation":7,"user_id":20204076,"display_name":"Java2Avaj"},"score":0,"creation_date":1678171363,"post_id":75658287,"comment_id":133476897,"body_markdown":"Hi Val, thanks for replying. I included the code we use for querying to elasticsearch. Looking forward for your response","body":"Hi Val, thanks for replying. I included the code we use for querying to elasticsearch. Looking forward for your response"}],"answers":[{"comments":[{"owner":{"account_id":26579158,"reputation":7,"user_id":20204076,"display_name":"Java2Avaj"},"score":0,"creation_date":1678173197,"post_id":75658828,"comment_id":133477238,"body_markdown":"thanks for your response. Looks like it&#39;s too complicated as we only just want to measure the time it takes for the elasticsearch to run the query... Do you know any way how to measure the time it takes to query the elasticsearch aside from getting the &quot;took&quot; field?","body":"thanks for your response. Looks like it&#39;s too complicated as we only just want to measure the time it takes for the elasticsearch to run the query... Do you know any way how to measure the time it takes to query the elasticsearch aside from getting the &quot;took&quot; field?"},{"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1678173304,"post_id":75658828,"comment_id":133477259,"body_markdown":"Whatever you get from took doesn&#39;t include any latency between your app and ES, so it doesn&#39;t really show a real picture from the user standpoint. If you need the latter, then you can simply time your call","body":"Whatever you get from took doesn&#39;t include any latency between your app and ES, so it doesn&#39;t really show a real picture from the user standpoint. If you need the latter, then you can simply time your call"},{"owner":{"account_id":26579158,"reputation":7,"user_id":20204076,"display_name":"Java2Avaj"},"score":0,"creation_date":1678174739,"post_id":75658828,"comment_id":133477585,"body_markdown":"We are measuring time on different levels: \n1. from front endpoint to our backend endpoint\n2. from backend endpoint to elasticsearch\n3. from elasticsearch to elasticsearch (time it takes for the query)\n\nWe are in number 3 and we want to measure it as well to know which part/level we need to improve","body":"We are measuring time on different levels:  1. from front endpoint to our backend endpoint 2. from backend endpoint to elasticsearch 3. from elasticsearch to elasticsearch (time it takes for the query)  We are in number 3 and we want to measure it as well to know which part/level we need to improve"},{"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1678190083,"post_id":75658828,"comment_id":133481635,"body_markdown":"@Java2Avaj See the edit by P.J.Meisch, thanks P.J. &#128077;","body":"@Java2Avaj See the edit by P.J.Meisch, thanks P.J. "}],"tags":[],"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678190016,"creation_date":1678172266,"answer_id":75658828,"question_id":75658287,"body_markdown":"You cannot retrieve that information using `ElasticsearchRestTemplate`. As you can see [from the code](https://github.com/spring-projects/spring-data-elasticsearch/blob/main/src/main/java/org/springframework/data/elasticsearch/client/erhlc/ElasticsearchRestTemplate.java#L412-L420), the `took`information is [available inside `SearchResponse`](https://github.com/elastic/elasticsearch/blob/main/server/src/main/java/org/elasticsearch/action/search/SearchResponse.java#L192) but `SearchDocumentResponseBuilder.from(SearchResponse)` [doesn&#39;t make it available](https://github.com/spring-projects/spring-data-elasticsearch/blob/main/src/main/java/org/springframework/data/elasticsearch/client/erhlc/SearchDocumentResponseBuilder.java#L60-L71) and only returns SearchHits.\r\n\r\nWhat you could do is sub-class `ElasticsearchRestTemplate` and overload (not override!) the `search` method in order to return the raw `SearchResponse` so you can then call `SearchResponse.getTook()` from your code.\r\n\r\nEdit (by P.J.Meisch): Create an issue in [Github](https://github.com/spring-projects/spring-data-elasticsearch/issues) to have this added to the `SearchHits&lt;T&gt;` and feel free to contribute a pull request for that.","title":"Spring Data ElasticSearch Is it possible to get the &quot;took&quot; field from the response","body":"<p>You cannot retrieve that information using <code>ElasticsearchRestTemplate</code>. As you can see <a href=\"https://github.com/spring-projects/spring-data-elasticsearch/blob/main/src/main/java/org/springframework/data/elasticsearch/client/erhlc/ElasticsearchRestTemplate.java#L412-L420\" rel=\"nofollow noreferrer\">from the code</a>, the <code>took</code>information is <a href=\"https://github.com/elastic/elasticsearch/blob/main/server/src/main/java/org/elasticsearch/action/search/SearchResponse.java#L192\" rel=\"nofollow noreferrer\">available inside <code>SearchResponse</code></a> but <code>SearchDocumentResponseBuilder.from(SearchResponse)</code> <a href=\"https://github.com/spring-projects/spring-data-elasticsearch/blob/main/src/main/java/org/springframework/data/elasticsearch/client/erhlc/SearchDocumentResponseBuilder.java#L60-L71\" rel=\"nofollow noreferrer\">doesn't make it available</a> and only returns SearchHits.</p>\n<p>What you could do is sub-class <code>ElasticsearchRestTemplate</code> and overload (not override!) the <code>search</code> method in order to return the raw <code>SearchResponse</code> so you can then call <code>SearchResponse.getTook()</code> from your code.</p>\n<p>Edit (by P.J.Meisch): Create an issue in <a href=\"https://github.com/spring-projects/spring-data-elasticsearch/issues\" rel=\"nofollow noreferrer\">Github</a> to have this added to the <code>SearchHits&lt;T&gt;</code> and feel free to contribute a pull request for that.</p>\n"}],"owner":{"account_id":26579158,"reputation":7,"user_id":20204076,"display_name":"Java2Avaj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678190016,"creation_date":1678166506,"question_id":75658287,"body_markdown":"When I query from elasticsearch, I get a response: \r\n\r\n    {\r\n    &quot;took&quot;: 16,\r\n    &quot;timed_out&quot;: false,\r\n    &quot;_shards&quot;: {\r\n        &quot;total&quot;: 1,\r\n        &quot;successful&quot;: 1,\r\n        &quot;skipped&quot;: 0,\r\n        &quot;failed&quot;: 0\r\n    },\r\n\r\n\r\nIs it possible to get the &quot;took&quot; value using spring data elasticsearch?\r\n\r\nEDIT:\r\n\r\nThis is how we query to the elasticsearch:\r\n\r\n    SearchHits&lt;SearchPo&gt; findByAllAttributes(String searchText) {\r\n\r\n    return elasticsearchRestTemplate.search(buildHeaderSearchQuery(searchText),\r\n        SearchPo.class, IndexCoordinates.of(&quot;search&quot;);","title":"Spring Data ElasticSearch Is it possible to get the &quot;took&quot; field from the response","body":"<p>When I query from elasticsearch, I get a response:</p>\n<pre><code>{\n&quot;took&quot;: 16,\n&quot;timed_out&quot;: false,\n&quot;_shards&quot;: {\n    &quot;total&quot;: 1,\n    &quot;successful&quot;: 1,\n    &quot;skipped&quot;: 0,\n    &quot;failed&quot;: 0\n},\n</code></pre>\n<p>Is it possible to get the &quot;took&quot; value using spring data elasticsearch?</p>\n<p>EDIT:</p>\n<p>This is how we query to the elasticsearch:</p>\n<pre><code>SearchHits&lt;SearchPo&gt; findByAllAttributes(String searchText) {\n\nreturn elasticsearchRestTemplate.search(buildHeaderSearchQuery(searchText),\n    SearchPo.class, IndexCoordinates.of(&quot;search&quot;);\n</code></pre>\n"},{"tags":["java","pdf","itext","rotation","scale"],"comments":[{"owner":{"account_id":25676474,"reputation":1,"user_id":19439826,"display_name":"Leo Castro"},"score":0,"creation_date":1678284592,"post_id":75661385,"comment_id":133502712,"body_markdown":"Thanks. Do you have example code that fits my code to resize pages? It doesn&#39;t matter much to lose some PDF elements (links, glyphs, etc).","body":"Thanks. Do you have example code that fits my code to resize pages? It doesn&#39;t matter much to lose some PDF elements (links, glyphs, etc)."}],"owner":{"account_id":25676474,"reputation":1,"user_id":19439826,"display_name":"Leo Castro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678189326,"creation_date":1678188461,"question_id":75661385,"body_markdown":"iTextpdf,\r\n\r\nMy goal is to merge PDFs with pages of different sizes and different orientation/rotation, placing them all on A4 pages.\r\n\r\nI&#39;ve created code that can merge and rotate the pages in portrait orientation, but cannot scale the content to fit within the A4 page.\r\n\r\nI coded another routine (with itext.kernel) but it&#39;s throwing an exception that I couldn&#39;t resolve (The CMap com/itextpdf/io/font/cmap/UniJIS-UTF16-H was not found).\r\n\r\nCan anyone help me with this code to scale the content inside A4?\r\n\r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.5.12&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\n\r\n\r\n\r\n```\r\n    public byte[] gerarPDF() throws IOException, DocumentException {\r\n\r\n        Document document = new Document();   // PageSize.A4\r\n        //document.setPageSize(PageSize.A4);\r\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n        PdfCopy writer = new PdfCopy(document, outputStream);\r\n\r\n        document.open();\r\n\r\n        InputStream inputStream = new FileInputStream(&quot;document_46.pdf&quot;);\r\n        PdfReader reader = new PdfReader(inputStream);;\r\n\r\n        PdfImportedPage pdfImportedPage;\r\n        PdfDictionary pageDict;\r\n        int rotation;  int i = 1;\r\n\r\n        while ( i &lt;= reader.getNumberOfPages() ) {\r\n\r\n            pdfImportedPage = writer.getImportedPage(reader, i);\r\n\r\n            rotation = reader.getPageRotation(i);\r\n            pageDict = reader.getPageN(i);\r\n\r\n            // ROTACAO E ORIENTACAO DAS PAGINAS\r\n\r\n            // P&#225;gina em Paisagem, quando a largura &#233; maior que a altura\r\n            // rotaciona para posi&#231;&#227;o em Retrato\r\n            if (pdfImportedPage.getWidth() &gt; pdfImportedPage.getHeight()) {\r\n                pageDict.put(PdfName.ROTATE, new PdfNumber(rotation + 90));\r\n            }\r\n            // P&#225;gina com a rota&#231;&#227;o em 90&#186; - voltar para posi&#231;&#227;o em Retrato\r\n            if (rotation == 90) {\r\n                pageDict.put(PdfName.ROTATE, new PdfNumber(rotation - 90));\r\n            }\r\n\r\n            // SCALE DAS PAGINAS\r\n\r\n//            float widthPage = pdfImportedPage.getWidth();\r\n//            float heightPage = pdfImportedPage.getHeight();\r\n//\r\n//            if( widthPage &gt; heightPage ){\r\n//                pageDict.put(PdfName.MEDIABOX, new PdfRectangle(841.92f,595.32f));\r\n//\r\n//            }else if( widthPage &gt; 595.33 &amp;&amp; widthPage &lt; 612.51 ) {\r\n//                pageDict.put(PdfName.MEDIABOX, new PdfRectangle(595.32f, 841.92f));\r\n//\r\n//            }else if( widthPage &gt; 612.51 ) {\r\n//                pageDict.put(PdfName.MEDIABOX, new PdfRectangle(595.32f, 841.92f));\r\n//\r\n//            }else{\r\n//                pageDict.put(PdfName.MEDIABOX, new PdfRectangle(595.32f, 841.92f));\r\n//            }\r\n\r\n            pageDict.put(PdfName.MEDIABOX, new PdfRectangle(595.32f, 841.92f));\r\n\r\n\r\n\r\n            PdfCopy.PageStamp stamp = writer.createPageStamp(pdfImportedPage);\r\n            Chunk chunk = new Chunk(String.format(&quot;P&#225;gina %d&quot;, i));\r\n            Font font = new Font();\r\n            font.setFamily(Font.FontFamily.HELVETICA.name());\r\n            font.setSize(8);\r\n            font.setStyle(Font.FontStyle.ITALIC.getValue());\r\n            chunk.setFont(font);\r\n            ColumnText.showTextAligned(stamp.getUnderContent(), PdfContentByte.ALIGN_CENTER,\r\n                    new Phrase(chunk), 520, 20, 0);\r\n            stamp.alterContents();\r\n            writer.addPage(pdfImportedPage);\r\n            i++;\r\n        }\r\n\r\n        outputStream.flush();\r\n        document.close();\r\n        outputStream.close();\r\n\r\n        return outputStream.toByteArray();\r\n\r\n    }\r\n```\r\n\r\nWith this line I can make all the pages A4 size. OK\r\n\r\n    pageDict.put(PdfName.MEDIABOX, new PdfRectangle(595.32f, 841.92f));\r\n\r\nNow it remains to scale the content to fit inside the A4.","title":"iTextpdf - scale the content to fit within an A4 page","body":"<p>iTextpdf,</p>\n<p>My goal is to merge PDFs with pages of different sizes and different orientation/rotation, placing them all on A4 pages.</p>\n<p>I've created code that can merge and rotate the pages in portrait orientation, but cannot scale the content to fit within the A4 page.</p>\n<p>I coded another routine (with itext.kernel) but it's throwing an exception that I couldn't resolve (The CMap com/itextpdf/io/font/cmap/UniJIS-UTF16-H was not found).</p>\n<p>Can anyone help me with this code to scale the content inside A4?</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n            &lt;version&gt;5.5.12&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<pre><code>    public byte[] gerarPDF() throws IOException, DocumentException {\n\n        Document document = new Document();   // PageSize.A4\n        //document.setPageSize(PageSize.A4);\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n        PdfCopy writer = new PdfCopy(document, outputStream);\n\n        document.open();\n\n        InputStream inputStream = new FileInputStream(&quot;document_46.pdf&quot;);\n        PdfReader reader = new PdfReader(inputStream);;\n\n        PdfImportedPage pdfImportedPage;\n        PdfDictionary pageDict;\n        int rotation;  int i = 1;\n\n        while ( i &lt;= reader.getNumberOfPages() ) {\n\n            pdfImportedPage = writer.getImportedPage(reader, i);\n\n            rotation = reader.getPageRotation(i);\n            pageDict = reader.getPageN(i);\n\n            // ROTACAO E ORIENTACAO DAS PAGINAS\n\n            // Pgina em Paisagem, quando a largura  maior que a altura\n            // rotaciona para posio em Retrato\n            if (pdfImportedPage.getWidth() &gt; pdfImportedPage.getHeight()) {\n                pageDict.put(PdfName.ROTATE, new PdfNumber(rotation + 90));\n            }\n            // Pgina com a rotao em 90 - voltar para posio em Retrato\n            if (rotation == 90) {\n                pageDict.put(PdfName.ROTATE, new PdfNumber(rotation - 90));\n            }\n\n            // SCALE DAS PAGINAS\n\n//            float widthPage = pdfImportedPage.getWidth();\n//            float heightPage = pdfImportedPage.getHeight();\n//\n//            if( widthPage &gt; heightPage ){\n//                pageDict.put(PdfName.MEDIABOX, new PdfRectangle(841.92f,595.32f));\n//\n//            }else if( widthPage &gt; 595.33 &amp;&amp; widthPage &lt; 612.51 ) {\n//                pageDict.put(PdfName.MEDIABOX, new PdfRectangle(595.32f, 841.92f));\n//\n//            }else if( widthPage &gt; 612.51 ) {\n//                pageDict.put(PdfName.MEDIABOX, new PdfRectangle(595.32f, 841.92f));\n//\n//            }else{\n//                pageDict.put(PdfName.MEDIABOX, new PdfRectangle(595.32f, 841.92f));\n//            }\n\n            pageDict.put(PdfName.MEDIABOX, new PdfRectangle(595.32f, 841.92f));\n\n\n\n            PdfCopy.PageStamp stamp = writer.createPageStamp(pdfImportedPage);\n            Chunk chunk = new Chunk(String.format(&quot;Pgina %d&quot;, i));\n            Font font = new Font();\n            font.setFamily(Font.FontFamily.HELVETICA.name());\n            font.setSize(8);\n            font.setStyle(Font.FontStyle.ITALIC.getValue());\n            chunk.setFont(font);\n            ColumnText.showTextAligned(stamp.getUnderContent(), PdfContentByte.ALIGN_CENTER,\n                    new Phrase(chunk), 520, 20, 0);\n            stamp.alterContents();\n            writer.addPage(pdfImportedPage);\n            i++;\n        }\n\n        outputStream.flush();\n        document.close();\n        outputStream.close();\n\n        return outputStream.toByteArray();\n\n    }\n</code></pre>\n<p>With this line I can make all the pages A4 size. OK</p>\n<pre><code>pageDict.put(PdfName.MEDIABOX, new PdfRectangle(595.32f, 841.92f));\n</code></pre>\n<p>Now it remains to scale the content to fit inside the A4.</p>\n"},{"tags":["java","android","kotlin","listener"],"comments":[{"owner":{"account_id":8191460,"reputation":13817,"user_id":7366707,"accept_rate":86,"display_name":"Salem"},"score":0,"creation_date":1511723262,"post_id":47499891,"comment_id":81955248,"body_markdown":"&quot;It doesn&#39;t work&quot; - what&#39;s the error?","body":"&quot;It doesn&#39;t work&quot; - what&#39;s the error?"},{"owner":{"account_id":10602947,"reputation":941,"user_id":7809349,"accept_rate":14,"display_name":"manwhotrycoding"},"score":0,"creation_date":1511723576,"post_id":47499891,"comment_id":81955367,"body_markdown":"Listener isn&#39;t active","body":"Listener isn&#39;t active"},{"owner":{"account_id":1629380,"reputation":1088,"user_id":1504247,"accept_rate":68,"display_name":"vyi"},"score":1,"creation_date":1523655040,"post_id":47499891,"comment_id":86666555,"body_markdown":"Helped me in implementing a callback. The `object:OnClickListenerInterface` part was not known to me. Thanks","body":"Helped me in implementing a callback. The <code>object:OnClickListenerInterface</code> part was not known to me. Thanks"},{"owner":{"account_id":392397,"reputation":28086,"user_id":753632,"accept_rate":57,"display_name":"Johann"},"score":0,"creation_date":1560589210,"post_id":47499891,"comment_id":99793004,"body_markdown":"Here are some solutions: https://stackoverflow.com/a/56608847/753632","body":"Here are some solutions: <a href=\"https://stackoverflow.com/a/56608847/753632\">stackoverflow.com/a/56608847/753632</a>"}],"answers":[{"tags":[],"owner":{"account_id":4559274,"reputation":1790,"user_id":3702048,"accept_rate":100,"display_name":"Yev Kanivets"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511723870,"creation_date":1511723870,"answer_id":47500028,"question_id":47499891,"body_markdown":"First of all you need to remove this code:\r\n\r\n    mCircleShape.setOnClickListener(View.OnClickListener {\r\n          if (listener == null) return@OnClickListener\r\n          listener!!.onClick()\r\n        })\r\n\r\nBecause listener is always null at first and your code just always returns. \r\n\r\n`var listener: OnClickListenerInterface? = null` is already public (this is a default access level in Kotlin). So you can just set it in your activity, when needed. Use `listener?.onClick()` call to trigger it from your CircleShape.","title":"How I can use callback in Kotlin?","body":"<p>First of all you need to remove this code:</p>\n\n<pre><code>mCircleShape.setOnClickListener(View.OnClickListener {\n      if (listener == null) return@OnClickListener\n      listener!!.onClick()\n    })\n</code></pre>\n\n<p>Because listener is always null at first and your code just always returns. </p>\n\n<p><code>var listener: OnClickListenerInterface? = null</code> is already public (this is a default access level in Kotlin). So you can just set it in your activity, when needed. Use <code>listener?.onClick()</code> call to trigger it from your CircleShape.</p>\n"},{"tags":[],"owner":{"account_id":5283619,"reputation":55,"user_id":4218242,"display_name":"Gabriel Janucik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561635762,"creation_date":1511773673,"answer_id":47507204,"question_id":47499891,"body_markdown":"Have you tried to use a lambda expression? For example in your case:\r\n\r\n```kotlin\r\nmCircleShape.setOnClickListener( \r\n    { _ -&gt; ToastUtils.showSuccessMessage(context,&quot;pressed&quot;) }\r\n)\r\n```\r\n\r\nOr if you want to make it more kotlin style:\r\n\r\n```kotlin\r\nmCircleShape.listener = ( \r\n    { _ -&gt; ToastUtils.showSuccessMessage(context,&quot;pressed&quot;) }\r\n)\r\n```","title":"How I can use callback in Kotlin?","body":"<p>Have you tried to use a lambda expression? For example in your case:</p>\n\n<pre><code>mCircleShape.setOnClickListener( \n    { _ -&gt; ToastUtils.showSuccessMessage(context,\"pressed\") }\n)\n</code></pre>\n\n<p>Or if you want to make it more kotlin style:</p>\n\n<pre><code>mCircleShape.listener = ( \n    { _ -&gt; ToastUtils.showSuccessMessage(context,\"pressed\") }\n)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":392397,"reputation":28086,"user_id":753632,"accept_rate":57,"display_name":"Johann"},"score":5,"creation_date":1560589429,"post_id":48761541,"comment_id":99793052,"body_markdown":"Your second solutions doesn&#39;t demonstrate how the setOnClickListener in CirclesShapt.kt is suppose to call the listener.","body":"Your second solutions doesn&#39;t demonstrate how the setOnClickListener in CirclesShapt.kt is suppose to call the listener."}],"tags":[],"owner":{"account_id":8620362,"reputation":913,"user_id":6455501,"display_name":"glagarto"},"comment_count":1,"down_vote_count":2,"up_vote_count":43,"is_accepted":false,"score":41,"last_activity_date":1615533231,"creation_date":1518507008,"answer_id":48761541,"question_id":47499891,"body_markdown":"On CircleShape.kt.\r\n\r\n    private listener OnClickListenerInterface? = null\r\n    ...\r\n    fun setOnClickListener(listener: OnClickListenerInterface) {\r\n        this.listener = listener\r\n    }\r\n\r\nOn your Activity\r\n\r\n    mCircleShape.setOnClickListener(object: CircleShape.OnClickListenerInterface {\r\n        override fun onClick() {\r\n          // Do something here\r\n        }\r\n    })\r\n\r\n\r\nIf you&#39;re gonna use lambda expression, you can use a Function Type. Here how it looks like\r\non CirclesShapt.kt\r\n\r\n    fun setOnClickListener(listener: () -&gt; Unit){\r\n       listener() // or you could use optional if the lister is nullable &quot;listener?.invoke()&quot;\r\n    }\r\n\r\nSo in activity looks like.\r\n\r\n    mCircleShape.setOnClickListener {\r\n      // Do something here\r\n    }","title":"How I can use callback in Kotlin?","body":"<p>On CircleShape.kt.</p>\n<pre><code>private listener OnClickListenerInterface? = null\n...\nfun setOnClickListener(listener: OnClickListenerInterface) {\n    this.listener = listener\n}\n</code></pre>\n<p>On your Activity</p>\n<pre><code>mCircleShape.setOnClickListener(object: CircleShape.OnClickListenerInterface {\n    override fun onClick() {\n      // Do something here\n    }\n})\n</code></pre>\n<p>If you're gonna use lambda expression, you can use a Function Type. Here how it looks like\non CirclesShapt.kt</p>\n<pre><code>fun setOnClickListener(listener: () -&gt; Unit){\n   listener() // or you could use optional if the lister is nullable &quot;listener?.invoke()&quot;\n}\n</code></pre>\n<p>So in activity looks like.</p>\n<pre><code>mCircleShape.setOnClickListener {\n  // Do something here\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":987734,"reputation":1048,"user_id":1005846,"display_name":"Dmitry Guselnikov"},"score":0,"creation_date":1692225105,"post_id":53121003,"comment_id":135596401,"body_markdown":"This should be accepted answer","body":"This should be accepted answer"}],"tags":[],"owner":{"account_id":6980449,"reputation":2835,"user_id":5353589,"display_name":"Weidian Huang"},"comment_count":1,"down_vote_count":1,"up_vote_count":104,"is_accepted":false,"score":103,"last_activity_date":1660714744,"creation_date":1541170828,"answer_id":53121003,"question_id":47499891,"body_markdown":"A more simpler solution by using lambda.\r\n\r\nInside `CircleShape.kt`, declare a lambda function.\r\n\r\n    var listener: (()-&gt;Unit)? = null\r\n    ...\r\n    // When you want to invoke the listener\r\n    listener?.invoke()\r\n\r\n\r\nInside your Activity\r\n\r\n    mCircleShape.listener = {\r\n        // Do something when you observed a call\r\n    }","title":"How I can use callback in Kotlin?","body":"<p>A more simpler solution by using lambda.</p>\n<p>Inside <code>CircleShape.kt</code>, declare a lambda function.</p>\n<pre><code>var listener: (()-&gt;Unit)? = null\n...\n// When you want to invoke the listener\nlistener?.invoke()\n</code></pre>\n<p>Inside your Activity</p>\n<pre><code>mCircleShape.listener = {\n    // Do something when you observed a call\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12144261,"reputation":491,"user_id":8867099,"display_name":"Rishabh Shukla"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1549629114,"creation_date":1549629114,"answer_id":54592564,"question_id":47499891,"body_markdown":"to use Kotlin callbacks , \r\nI use them in my api calls for success or failure\r\nuse \r\n\r\n&gt; create enum class for state\r\n\r\n    enum class APIState(val result: Boolean) {\r\n    SUCCESS(true),\r\n    FAILURE(false)}\r\n\r\n&gt; use call back in fun\r\n\r\n     private fun fetchFeesList(studentID:String,call:(APIState)-&gt;Unit){\r\n     ... do stuff here , and use call(APIState.SUCCESS) or call(APIState.FAILURE) }\r\n\r\n&gt; when calling function fetchFeesList , call it like\r\n\r\n    fetchFeesList(studentID){\r\n            val res = it.result\r\n            if(res){\r\n                toast(&quot;success&quot;)\r\n            }else {\r\n                toast(&quot;failure&quot;)\r\n            }\r\n        }\r\n\r\n&gt; for toast(&quot;message&quot;) , use Anko Lib from GitHub : - https://github.com/Kotlin/anko\r\n","title":"How I can use callback in Kotlin?","body":"<p>to use Kotlin callbacks , \nI use them in my api calls for success or failure\nuse </p>\n\n<blockquote>\n  <p>create enum class for state</p>\n</blockquote>\n\n<pre><code>enum class APIState(val result: Boolean) {\nSUCCESS(true),\nFAILURE(false)}\n</code></pre>\n\n<blockquote>\n  <p>use call back in fun</p>\n</blockquote>\n\n<pre><code> private fun fetchFeesList(studentID:String,call:(APIState)-&gt;Unit){\n ... do stuff here , and use call(APIState.SUCCESS) or call(APIState.FAILURE) }\n</code></pre>\n\n<blockquote>\n  <p>when calling function fetchFeesList , call it like</p>\n</blockquote>\n\n<pre><code>fetchFeesList(studentID){\n        val res = it.result\n        if(res){\n            toast(\"success\")\n        }else {\n            toast(\"failure\")\n        }\n    }\n</code></pre>\n\n<blockquote>\n  <p>for toast(\"message\") , use Anko Lib from GitHub : - <a href=\"https://github.com/Kotlin/anko\" rel=\"noreferrer\">https://github.com/Kotlin/anko</a></p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1777644,"reputation":5334,"user_id":1621111,"accept_rate":47,"display_name":"Konstantin Konopko"},"score":1,"creation_date":1677091753,"post_id":56576605,"comment_id":133271076,"body_markdown":"You can call just `myCallback(&quot;result string&quot;)`","body":"You can call just <code>myCallback(&quot;result string&quot;)</code>"}],"tags":[],"owner":{"account_id":8248844,"reputation":9692,"user_id":6204133,"display_name":"Dan Alboteanu"},"comment_count":1,"down_vote_count":0,"up_vote_count":69,"is_accepted":false,"score":69,"last_activity_date":1582662315,"creation_date":1560415136,"answer_id":56576605,"question_id":47499891,"body_markdown":"define a function like this:\r\n\r\n      fun performWork(param1: String, myCallback: (result: String?) -&gt; Unit) {\r\n        // perform some network work\r\n\r\n        // on network finished\r\n        myCallback.invoke(&quot;result from network&quot;)\r\n      }\r\n\r\n\r\nuse like this:\r\n\r\n      performWork(&quot;http://...&quot;){ result -&gt;\r\n      //use result\r\n      }","title":"How I can use callback in Kotlin?","body":"<p>define a function like this:</p>\n\n<pre><code>  fun performWork(param1: String, myCallback: (result: String?) -&gt; Unit) {\n    // perform some network work\n\n    // on network finished\n    myCallback.invoke(\"result from network\")\n  }\n</code></pre>\n\n<p>use like this:</p>\n\n<pre><code>  performWork(\"http://...\"){ result -&gt;\n  //use result\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12911096,"reputation":111,"user_id":9336757,"display_name":"Makari Kevin"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1597242904,"creation_date":1597242904,"answer_id":63378814,"question_id":47499891,"body_markdown":"I was desperately looking for a Kotlin solution similar to what Java interfaces offer until I bumped into the suggestions offered thereabove. Having tried all of them, I was unable to arrive at a working solution that would suit my scenario.\r\n\r\nThis led to my own implementation which worked perfectly according to my use case, and therefore thought I could share the same here, though it may not be the perfect way of doing it, apologies in advance.  \r\n\r\nThe steps:\r\n\r\n - **1. Define your interface:**\r\n```\r\ninterface OnClickListenerInterface {\r\n    fun onClick()\r\n}\r\n```\r\n- **2. Inside the class that will trigger the &quot;onClick&quot; callback i.e. &quot;CircleShape&quot; for your case:**\r\n\r\nCreate a nullable variable.\r\n\r\n    var listener: OnClickListenerInterface? = null\r\n\r\nDeclare a function to initialise the variable above.\r\n\r\n    fun initOnClickInterface(listener: OnClickListenerInterface){\r\n            this.listener = listener\r\n        }\r\n\r\nAt the point where you want to trigger the &quot;onClick&quot; callback:\r\n\r\n    mCircleShape.setOnClickListener(View.OnClickListener {\r\n          if (listener == null) return@OnClickListener\r\n          listener?.onClick() // Trigger the call back\r\n        })\r\n\r\n- **3. Inside the activity where you want to receive the &quot;onClick&quot; callback:**\r\n\r\nMake the activity implement the OnClickListenerInterface, then create an object of your CircleShape class.\r\n\r\n    class Activity : AppCompatActivity(), OnClickListenerInterface {\r\n        val mCircleShape = CircleShape()\r\n        // ...other stuff\r\n\r\nInside the onCreate function of this activity, initialise your interface using the initOnClickInterface function we created in the CircleShape class. \r\n\r\n    mCircleShape.initOnClickListenerInterface(this)\r\n\r\nThen finish by overriding the onClick method of our interface by adding the code below in the activity.\r\n\r\n    override fun onClick() {\r\n            // Callback received successfully. Do your stuff here\r\n        }\r\n\r\nThe above steps worked for me.\r\n\r\nAs I said, in case of any issues with my coding, I&#39;m a learner too &#128526;.\r\n\r\nCheers!","title":"How I can use callback in Kotlin?","body":"<p>I was desperately looking for a Kotlin solution similar to what Java interfaces offer until I bumped into the suggestions offered thereabove. Having tried all of them, I was unable to arrive at a working solution that would suit my scenario.</p>\n<p>This led to my own implementation which worked perfectly according to my use case, and therefore thought I could share the same here, though it may not be the perfect way of doing it, apologies in advance.</p>\n<p>The steps:</p>\n<ul>\n<li><strong>1. Define your interface:</strong></li>\n</ul>\n<pre><code>interface OnClickListenerInterface {\n    fun onClick()\n}\n</code></pre>\n<ul>\n<li><strong>2. Inside the class that will trigger the &quot;onClick&quot; callback i.e. &quot;CircleShape&quot; for your case:</strong></li>\n</ul>\n<p>Create a nullable variable.</p>\n<pre><code>var listener: OnClickListenerInterface? = null\n</code></pre>\n<p>Declare a function to initialise the variable above.</p>\n<pre><code>fun initOnClickInterface(listener: OnClickListenerInterface){\n        this.listener = listener\n    }\n</code></pre>\n<p>At the point where you want to trigger the &quot;onClick&quot; callback:</p>\n<pre><code>mCircleShape.setOnClickListener(View.OnClickListener {\n      if (listener == null) return@OnClickListener\n      listener?.onClick() // Trigger the call back\n    })\n</code></pre>\n<ul>\n<li><strong>3. Inside the activity where you want to receive the &quot;onClick&quot; callback:</strong></li>\n</ul>\n<p>Make the activity implement the OnClickListenerInterface, then create an object of your CircleShape class.</p>\n<pre><code>class Activity : AppCompatActivity(), OnClickListenerInterface {\n    val mCircleShape = CircleShape()\n    // ...other stuff\n</code></pre>\n<p>Inside the onCreate function of this activity, initialise your interface using the initOnClickInterface function we created in the CircleShape class.</p>\n<pre><code>mCircleShape.initOnClickListenerInterface(this)\n</code></pre>\n<p>Then finish by overriding the onClick method of our interface by adding the code below in the activity.</p>\n<pre><code>override fun onClick() {\n        // Callback received successfully. Do your stuff here\n    }\n</code></pre>\n<p>The above steps worked for me.</p>\n<p>As I said, in case of any issues with my coding, I'm a learner too .</p>\n<p>Cheers!</p>\n"},{"tags":[],"owner":{"account_id":6415147,"reputation":4008,"user_id":9585130,"display_name":"Binh Ho"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672917583,"creation_date":1672917583,"answer_id":75017637,"question_id":47499891,"body_markdown":"Tested. This worked.\r\n\r\n    // Define interface\r\n    interface MyCallback {\r\n        fun success(param: String)\r\n        fun fail(param: String)\r\n    }\r\n    \r\n    fun functionHasCallback(param: Boolean, callback: MyCallback) {\r\n        // do somthing\r\n        if (ok) {\r\n            callback.success(&quot;value&quot;)\r\n        } else {\r\n            callback.fail(&quot;value&quot;)\r\n        }\r\n    }\r\n    \r\n    // Call function\r\n    functionHasCallback(\r\n        boolParam, \r\n        object: MyCallback {\r\n            override fun success(param: String) {\r\n                // Your code here\r\n            }\r\n    \r\n            override fun fail(param: String) {\r\n                // Your code here\r\n            }\r\n        }\r\n    )","title":"How I can use callback in Kotlin?","body":"<p>Tested. This worked.</p>\n<pre><code>// Define interface\ninterface MyCallback {\n    fun success(param: String)\n    fun fail(param: String)\n}\n\nfun functionHasCallback(param: Boolean, callback: MyCallback) {\n    // do somthing\n    if (ok) {\n        callback.success(&quot;value&quot;)\n    } else {\n        callback.fail(&quot;value&quot;)\n    }\n}\n\n// Call function\nfunctionHasCallback(\n    boolParam, \n    object: MyCallback {\n        override fun success(param: String) {\n            // Your code here\n        }\n\n        override fun fail(param: String) {\n            // Your code here\n        }\n    }\n)\n</code></pre>\n"}],"owner":{"account_id":10602947,"reputation":941,"user_id":7809349,"accept_rate":14,"display_name":"manwhotrycoding"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138478,"favorite_count":0,"down_vote_count":0,"up_vote_count":86,"answer_count":8,"score":86,"last_activity_date":1678189243,"creation_date":1511722955,"question_id":47499891,"body_markdown":"I have View and one CircleShape , which should show toast in this View. And I use it in main Activity.\r\nThis is my interface \r\n\r\n    interface OnClickListenerInterface {\r\n      fun onClick()\r\n    }\r\n\r\n\r\nIt is CircleShape( it is View in my xml) and listener in my View. I want to implement OnClick in my Activity. \r\n\r\n     var listener: OnClickListenerInterface? = null\r\n    \r\n     mCircleShape.setOnClickListener(View.OnClickListener {\r\n          if (listener == null) return@OnClickListener\r\n          listener!!.onClick()\r\n        })\r\n\r\nI know , that in Kotlin getters and setters generic automatics, but how I can set listener if it private. It is code from my Activity, but It doesn&#39;t work\r\n\r\n  \r\n\r\n    CircleShape.listener  = object :OnClickListenerInterface{\r\n          override fun onClick() {\r\n            ToastUtils.showSuccessMessage(getContext(),&quot;pressed&quot;)\r\n          }\r\n        }\r\n\r\n\r\nHow I should to use Callback, onClickListenere in Kotlin?\r\n","title":"How I can use callback in Kotlin?","body":"<p>I have View and one CircleShape , which should show toast in this View. And I use it in main Activity.\nThis is my interface </p>\n\n<pre><code>interface OnClickListenerInterface {\n  fun onClick()\n}\n</code></pre>\n\n<p>It is CircleShape( it is View in my xml) and listener in my View. I want to implement OnClick in my Activity. </p>\n\n<pre><code> var listener: OnClickListenerInterface? = null\n\n mCircleShape.setOnClickListener(View.OnClickListener {\n      if (listener == null) return@OnClickListener\n      listener!!.onClick()\n    })\n</code></pre>\n\n<p>I know , that in Kotlin getters and setters generic automatics, but how I can set listener if it private. It is code from my Activity, but It doesn't work</p>\n\n<pre><code>CircleShape.listener  = object :OnClickListenerInterface{\n      override fun onClick() {\n        ToastUtils.showSuccessMessage(getContext(),\"pressed\")\n      }\n    }\n</code></pre>\n\n<p>How I should to use Callback, onClickListenere in Kotlin?</p>\n"},{"tags":["python","java","spring-boot","servlets","prometheus"],"owner":{"account_id":2410596,"reputation":111,"user_id":2105747,"accept_rate":0,"display_name":"shaheer01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678189224,"creation_date":1676946968,"question_id":75515823,"body_markdown":"Getting the following error in running pytest:- \r\n\r\n      AssertionError: Expected http status 200, received 405: &lt;html&gt;\r\n    E               &lt;head&gt;\r\n    E               &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=utf-8&quot;/&gt;\r\n    E               &lt;title&gt;Error 405 HTTP method POST is not supported by this URL&lt;/title&gt;\r\n    E               &lt;/head&gt;\r\n    E               &lt;body&gt;&lt;h2&gt;HTTP ERROR 405 HTTP method POST is not supported by this URL&lt;/h2&gt;\r\n    E               &lt;table&gt;\r\n    E               &lt;tr&gt;&lt;th&gt;URI:&lt;/th&gt;&lt;td&gt;/activity/1111111&lt;/td&gt;&lt;/tr&gt;\r\n    E               &lt;tr&gt;&lt;th&gt;STATUS:&lt;/th&gt;&lt;td&gt;405&lt;/td&gt;&lt;/tr&gt;\r\n    E               &lt;tr&gt;&lt;th&gt;MESSAGE:&lt;/th&gt;&lt;td&gt;HTTP method POST is not supported by this URL&lt;/td&gt;&lt;/tr&gt;\r\n    E               &lt;tr&gt;&lt;th&gt;SERVLET:&lt;/th&gt;&lt;td&gt;org.eclipse.jetty.servlet.ServletHandler$Default404Servlet-438bad7c&lt;/td&gt;&lt;/tr&gt;\r\n    E               &lt;/table&gt;\r\n\r\nThe code due to which this error is coming is:\r\nThis error started coming after adding the line of the code below &quot;//Code Added&quot; i.e on using ServletContextHandler. Basically wanted to capture jvm metrics but on adding my usual test cases are failing to do even simple Get or POST requests.\r\n\r\n        public static void main(String[] args) throws Exception {\r\n            String basedir = prop(&quot;hs.webapp&quot;);\r\n            String logname = prop(&quot;hs.requestlog&quot;);\r\n            int serverPort = Integer.parseInt(prop(&quot;hs.port&quot;));\r\n    \r\n    \r\n            // very small queue - allow most queueing to happen upstream (haproxy)\r\n            // max 50 queued, 300 active requests and an idle timeout of 50 seconds\r\n            ArrayBlockingQueue&lt;Runnable&gt; queue = new ArrayBlockingQueue&lt;Runnable&gt;(50);\r\n            QueuedThreadPool threadPool = new QueuedThreadPool(300, 10, 50000, queue);\r\n            Server server = new Server(threadPool);\r\n    \r\n            HttpConfiguration http_config = new HttpConfiguration();\r\n            //http_config.setSecureScheme(&quot;https&quot;);\r\n            //http_config.setSecurePort(8443);\r\n            http_config.setOutputBufferSize(65536);\r\n            http_config.setRequestHeaderSize(8192);\r\n            http_config.setResponseHeaderSize(8192);\r\n            http_config.setSendServerVersion(false);\r\n            http_config.setSendDateHeader(false);\r\n    \r\n            ServerConnector http = new ServerConnector(server, new HttpConnectionFactory(http_config));\r\n            http.setPort(serverPort);\r\n            http.setIdleTimeout(120000);\r\n            server.addConnector(http);\r\n    \r\n            LowResourceMonitor lowResourcesMonitor = new LowResourceMonitor(server);\r\n            lowResourcesMonitor.setPeriod(5000);\r\n            lowResourcesMonitor.setLowResourcesIdleTimeout(1000);\r\n            lowResourcesMonitor.setMonitorThreads(true);\r\n            lowResourcesMonitor.setMaxConnections(20000);\r\n            lowResourcesMonitor.setMaxMemory(0);\r\n            lowResourcesMonitor.setMaxLowResourcesTime(5000);\r\n            server.addBean(lowResourcesMonitor);\r\n    \r\n            WebAppContext context = new WebAppContext();\r\n            context.setDescriptor(basedir + &quot;WEB-INF/web.xml&quot;);\r\n            context.setResourceBase(basedir);\r\n            context.setContextPath(&quot;/&quot;);\r\n            context.setErrorHandler(new PlaintextErrorHandler());\r\n    \r\n            HandlerCollection handlers = new HandlerCollection();\r\n            RequestLogHandler requestLogHandler = new RequestLogHandler();\r\n            handlers.setHandlers(new Handler[]{context, new DefaultHandler(), requestLogHandler});\r\n            server.setHandler(handlers);\r\n    \r\n            NCSARequestLog requestLog = new CustomNCSARequestLog(logname);\r\n            requestLog.setRetainDays(90);\r\n            requestLog.setAppend(true);\r\n            requestLog.setExtended(true);\r\n            requestLog.setLogTimeZone(&quot;GMT&quot;);\r\n            requestLog.setLogLatency(true);\r\n            requestLog.setPreferProxiedForAddress(true);\r\n            requestLogHandler.setRequestLog(requestLog);\r\n    \r\n    \t/*\r\n            // Configure StatisticsHandler.\r\n            StatisticsHandler stats = new StatisticsHandler();\r\n            stats.setHandler(server.getHandler());\r\n            server.setHandler(stats);\r\n            // Register collector.\r\n            new JettyStatisticsCollector(stats).register();\r\n    //        new QueuedThreadPoolStatisticsCollector(queuedThreadPool, &quot;myapp&quot;).register();\r\n    \r\n            server.setStopAtShutdown(true);*/\r\n    \r\n            //Code Added\r\n            ServletContextHandler servletContextHandler = new ServletContextHandler();\r\n    //        servletContextHandler.setContextPath(&quot;/&quot;);\r\n    //        context.setResourceBase(System.getProperty(&quot;java.io.tmpdir&quot;));\r\n    //        server.setHandler(servletContextHandler);\r\n            // Add default servlet\r\n            context.addServlet(DefaultServlet.class, &quot;/&quot;);\r\n            // Expose our example servlet.\r\n            //context.addServlet(new ServletHolder(new ExampleServlet()), &quot;/&quot;);\r\n            // Expose Promtheus metrics.\r\n            servletContextHandler.addServlet(new ServletHolder(new MetricsServlet()), &quot;/metrics&quot;);\r\n            // Add metrics about CPU, JVM memory etc.\r\n            DefaultExports.initialize();\r\n    \r\n\r\n\r\n            //server.setDumpAfterStart(true);\r\n            //server.setSendServerVersion(false);\r\n            server.start();\r\n            server.join();\r\n        }\r\n    \r\n\r\nPlease let me know if more info is needed or above is enough to help. Thanks!\r\n\r\nI am abl to get the JVM metrics though on doing \r\n\r\n    curl localhost:8002/metrics \r\n\r\noutput:-\r\n\r\n    jvm_buffer_pool_used_bytes{pool=&quot;mapped&quot;,} 0.0\r\n    jvm_buffer_pool_used_bytes{pool=&quot;direct&quot;,} 81920.0\r\n    # HELP jvm_buffer_pool_capacity_bytes Bytes capacity of a given JVM buffer pool.\r\n    # TYPE jvm_buffer_pool_capacity_bytes gauge\r\n    jvm_buffer_pool_capacity_bytes{pool=&quot;mapped&quot;,} 0.0\r\n    jvm_buffer_pool_capacity_bytes{pool=&quot;direct&quot;,} 81920.0\r\n    # HELP jvm_buffer_pool_used_buffers Used buffers of a given JVM buffer pool.\r\n    # TYPE jvm_buffer_pool_used_buffers gauge\r\n    jvm_buffer_pool_used_buffers{pool=&quot;mapped&quot;,} 0.0\r\n    jvm_buffer_pool_used_buffers{pool=&quot;direct&quot;,} 3.0\r\n    # HELP process_cpu_seconds_total Total user and system CPU time spent in seconds.\r\n    # TYPE process_cpu_seconds_total counter\r\n    process_cpu_seconds_total 5.42\r\n    # HELP process_start_time_seconds Start time of the process since unix epoch in seconds.\r\n    # TYPE process_start_time_seconds gauge\r\n    process_start_time_seconds 1.676981598495E9\r\n    # HELP process_open_fds Number of open file descriptors.\r\n    # TYPE process_open_fds gauge\r\n    process_open_fds 225.0\r\n    # HELP process_max_fds Maximum number of open file descriptors.\r\n    # TYPE process_max_fds gauge\r\n    process_max_fds 1048576.0\r\n    # HELP process_virtual_memory_bytes Virtual memory size in bytes.\r\n    # TYPE process_virtual_memory_bytes gauge\r\n    process_virtual_memory_bytes 4.659011584E9\r\n    # HELP process_resident_memory_bytes Resident memory size in bytes.\r\n    # TYPE process_resident_memory_bytes gauge\r\n    process_resident_memory_bytes 1.31592192E8\r\n    # HELP jvm_memory_pool_allocated_bytes_total Total bytes allocated in a given JVM memory pool. Only updated after GC, not continuously.\r\n    # TYPE jvm_memory_pool_allocated_bytes_total counter\r\n\r\nGot one link but didnt help much:\r\nhttps://stackoverflow.com/questions/28087127/embedded-jetty-with-webappcontext-and-servletcontexthandler-and-other-handlers?rq=1","title":"Embedded Jetty with WebAppContext and ServletContextHandler creating issues","body":"<p>Getting the following error in running pytest:-</p>\n<pre><code>  AssertionError: Expected http status 200, received 405: &lt;html&gt;\nE               &lt;head&gt;\nE               &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=utf-8&quot;/&gt;\nE               &lt;title&gt;Error 405 HTTP method POST is not supported by this URL&lt;/title&gt;\nE               &lt;/head&gt;\nE               &lt;body&gt;&lt;h2&gt;HTTP ERROR 405 HTTP method POST is not supported by this URL&lt;/h2&gt;\nE               &lt;table&gt;\nE               &lt;tr&gt;&lt;th&gt;URI:&lt;/th&gt;&lt;td&gt;/activity/1111111&lt;/td&gt;&lt;/tr&gt;\nE               &lt;tr&gt;&lt;th&gt;STATUS:&lt;/th&gt;&lt;td&gt;405&lt;/td&gt;&lt;/tr&gt;\nE               &lt;tr&gt;&lt;th&gt;MESSAGE:&lt;/th&gt;&lt;td&gt;HTTP method POST is not supported by this URL&lt;/td&gt;&lt;/tr&gt;\nE               &lt;tr&gt;&lt;th&gt;SERVLET:&lt;/th&gt;&lt;td&gt;org.eclipse.jetty.servlet.ServletHandler$Default404Servlet-438bad7c&lt;/td&gt;&lt;/tr&gt;\nE               &lt;/table&gt;\n</code></pre>\n<p>The code due to which this error is coming is:\nThis error started coming after adding the line of the code below &quot;//Code Added&quot; i.e on using ServletContextHandler. Basically wanted to capture jvm metrics but on adding my usual test cases are failing to do even simple Get or POST requests.</p>\n<pre><code>    public static void main(String[] args) throws Exception {\n        String basedir = prop(&quot;hs.webapp&quot;);\n        String logname = prop(&quot;hs.requestlog&quot;);\n        int serverPort = Integer.parseInt(prop(&quot;hs.port&quot;));\n\n\n        // very small queue - allow most queueing to happen upstream (haproxy)\n        // max 50 queued, 300 active requests and an idle timeout of 50 seconds\n        ArrayBlockingQueue&lt;Runnable&gt; queue = new ArrayBlockingQueue&lt;Runnable&gt;(50);\n        QueuedThreadPool threadPool = new QueuedThreadPool(300, 10, 50000, queue);\n        Server server = new Server(threadPool);\n\n        HttpConfiguration http_config = new HttpConfiguration();\n        //http_config.setSecureScheme(&quot;https&quot;);\n        //http_config.setSecurePort(8443);\n        http_config.setOutputBufferSize(65536);\n        http_config.setRequestHeaderSize(8192);\n        http_config.setResponseHeaderSize(8192);\n        http_config.setSendServerVersion(false);\n        http_config.setSendDateHeader(false);\n\n        ServerConnector http = new ServerConnector(server, new HttpConnectionFactory(http_config));\n        http.setPort(serverPort);\n        http.setIdleTimeout(120000);\n        server.addConnector(http);\n\n        LowResourceMonitor lowResourcesMonitor = new LowResourceMonitor(server);\n        lowResourcesMonitor.setPeriod(5000);\n        lowResourcesMonitor.setLowResourcesIdleTimeout(1000);\n        lowResourcesMonitor.setMonitorThreads(true);\n        lowResourcesMonitor.setMaxConnections(20000);\n        lowResourcesMonitor.setMaxMemory(0);\n        lowResourcesMonitor.setMaxLowResourcesTime(5000);\n        server.addBean(lowResourcesMonitor);\n\n        WebAppContext context = new WebAppContext();\n        context.setDescriptor(basedir + &quot;WEB-INF/web.xml&quot;);\n        context.setResourceBase(basedir);\n        context.setContextPath(&quot;/&quot;);\n        context.setErrorHandler(new PlaintextErrorHandler());\n\n        HandlerCollection handlers = new HandlerCollection();\n        RequestLogHandler requestLogHandler = new RequestLogHandler();\n        handlers.setHandlers(new Handler[]{context, new DefaultHandler(), requestLogHandler});\n        server.setHandler(handlers);\n\n        NCSARequestLog requestLog = new CustomNCSARequestLog(logname);\n        requestLog.setRetainDays(90);\n        requestLog.setAppend(true);\n        requestLog.setExtended(true);\n        requestLog.setLogTimeZone(&quot;GMT&quot;);\n        requestLog.setLogLatency(true);\n        requestLog.setPreferProxiedForAddress(true);\n        requestLogHandler.setRequestLog(requestLog);\n\n    /*\n        // Configure StatisticsHandler.\n        StatisticsHandler stats = new StatisticsHandler();\n        stats.setHandler(server.getHandler());\n        server.setHandler(stats);\n        // Register collector.\n        new JettyStatisticsCollector(stats).register();\n//        new QueuedThreadPoolStatisticsCollector(queuedThreadPool, &quot;myapp&quot;).register();\n\n        server.setStopAtShutdown(true);*/\n\n        //Code Added\n        ServletContextHandler servletContextHandler = new ServletContextHandler();\n//        servletContextHandler.setContextPath(&quot;/&quot;);\n//        context.setResourceBase(System.getProperty(&quot;java.io.tmpdir&quot;));\n//        server.setHandler(servletContextHandler);\n        // Add default servlet\n        context.addServlet(DefaultServlet.class, &quot;/&quot;);\n        // Expose our example servlet.\n        //context.addServlet(new ServletHolder(new ExampleServlet()), &quot;/&quot;);\n        // Expose Promtheus metrics.\n        servletContextHandler.addServlet(new ServletHolder(new MetricsServlet()), &quot;/metrics&quot;);\n        // Add metrics about CPU, JVM memory etc.\n        DefaultExports.initialize();\n\n\n\n        //server.setDumpAfterStart(true);\n        //server.setSendServerVersion(false);\n        server.start();\n        server.join();\n    }\n</code></pre>\n<p>Please let me know if more info is needed or above is enough to help. Thanks!</p>\n<p>I am abl to get the JVM metrics though on doing</p>\n<pre><code>curl localhost:8002/metrics \n</code></pre>\n<p>output:-</p>\n<pre><code>jvm_buffer_pool_used_bytes{pool=&quot;mapped&quot;,} 0.0\njvm_buffer_pool_used_bytes{pool=&quot;direct&quot;,} 81920.0\n# HELP jvm_buffer_pool_capacity_bytes Bytes capacity of a given JVM buffer pool.\n# TYPE jvm_buffer_pool_capacity_bytes gauge\njvm_buffer_pool_capacity_bytes{pool=&quot;mapped&quot;,} 0.0\njvm_buffer_pool_capacity_bytes{pool=&quot;direct&quot;,} 81920.0\n# HELP jvm_buffer_pool_used_buffers Used buffers of a given JVM buffer pool.\n# TYPE jvm_buffer_pool_used_buffers gauge\njvm_buffer_pool_used_buffers{pool=&quot;mapped&quot;,} 0.0\njvm_buffer_pool_used_buffers{pool=&quot;direct&quot;,} 3.0\n# HELP process_cpu_seconds_total Total user and system CPU time spent in seconds.\n# TYPE process_cpu_seconds_total counter\nprocess_cpu_seconds_total 5.42\n# HELP process_start_time_seconds Start time of the process since unix epoch in seconds.\n# TYPE process_start_time_seconds gauge\nprocess_start_time_seconds 1.676981598495E9\n# HELP process_open_fds Number of open file descriptors.\n# TYPE process_open_fds gauge\nprocess_open_fds 225.0\n# HELP process_max_fds Maximum number of open file descriptors.\n# TYPE process_max_fds gauge\nprocess_max_fds 1048576.0\n# HELP process_virtual_memory_bytes Virtual memory size in bytes.\n# TYPE process_virtual_memory_bytes gauge\nprocess_virtual_memory_bytes 4.659011584E9\n# HELP process_resident_memory_bytes Resident memory size in bytes.\n# TYPE process_resident_memory_bytes gauge\nprocess_resident_memory_bytes 1.31592192E8\n# HELP jvm_memory_pool_allocated_bytes_total Total bytes allocated in a given JVM memory pool. Only updated after GC, not continuously.\n# TYPE jvm_memory_pool_allocated_bytes_total counter\n</code></pre>\n<p>Got one link but didnt help much:\n<a href=\"https://stackoverflow.com/questions/28087127/embedded-jetty-with-webappcontext-and-servletcontexthandler-and-other-handlers?rq=1\">Embedded Jetty with WebAppContext and ServletContextHandler and other Handlers</a></p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":23624871,"reputation":352,"user_id":17657568,"display_name":"AMZ"},"score":0,"creation_date":1678041176,"post_id":75644301,"comment_id":133451978,"body_markdown":"@dariosicily I did it but it did not work!","body":"@dariosicily I did it but it did not work!"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1678042499,"post_id":75644301,"comment_id":133452212,"body_markdown":"You won&#39;t get the Flight objects with your query. Try this one: select f from Flight f","body":"You won&#39;t get the Flight objects with your query. Try this one: select f from Flight f"},{"owner":{"account_id":23624871,"reputation":352,"user_id":17657568,"display_name":"AMZ"},"score":0,"creation_date":1678043589,"post_id":75644301,"comment_id":133452388,"body_markdown":"@Mar-Z Well, if I do it like this, it will consume too much memory due to having many joins. Is there no way to select some columns?","body":"@Mar-Z Well, if I do it like this, it will consume too much memory due to having many joins. Is there no way to select some columns?"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1678095288,"post_id":75644301,"comment_id":133460280,"body_markdown":"As answered by @Daniel you can define a projection of the entity and use it in the repository method. (Even without a specific query)","body":"As answered by @Daniel you can define a projection of the entity and use it in the repository method. (Even without a specific query)"}],"answers":[{"tags":[],"owner":{"account_id":18669557,"reputation":640,"user_id":13608717,"display_name":"Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678054927,"creation_date":1678054927,"answer_id":75645711,"question_id":75644301,"body_markdown":"In your current query you actually define another view of entity to be loaded (as not all fields are included). And this is considered not to be an initial entity as actually has a difference in fields (even if it is a subset of fields).\r\n\r\nIf you need to load only some particular fields from your objects and not the whole object - Spring Data provides such functionality as &#39;Projection&#39; to do so.\r\n\r\nIt allows to define an interface with only needed fields and load only those fields.\r\n\r\n[Baeldung article][1] with projection examples\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-data-jpa-projections","title":"Using @Query in spring data jpa results in Object class as return type","body":"<p>In your current query you actually define another view of entity to be loaded (as not all fields are included). And this is considered not to be an initial entity as actually has a difference in fields (even if it is a subset of fields).</p>\n<p>If you need to load only some particular fields from your objects and not the whole object - Spring Data provides such functionality as 'Projection' to do so.</p>\n<p>It allows to define an interface with only needed fields and load only those fields.</p>\n<p><a href=\"https://www.baeldung.com/spring-data-jpa-projections\" rel=\"nofollow noreferrer\">Baeldung article</a> with projection examples</p>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678189055,"creation_date":1678189055,"answer_id":75661488,"question_id":75644301,"body_markdown":"In addition to the answer by @Daniel here code snippets using projection interface:\r\n\r\nProjection interface:\r\n\r\n    public interface FlightView {\r\n        String getFlightId();\r\n        String getFromAirport();\r\n        String getToAirport();\r\n        String getDeparture();\r\n        String getArrival();\r\n    }\r\n\r\nUsage in repository:\r\n\r\n    @Repository\r\n    public interface FlightRepository extends PagingAndSortingRepository&lt;Flight,Integer&gt; {\r\n        Page&lt;FlightView&gt; findAll(Pageable pageable);\r\n    }","title":"Using @Query in spring data jpa results in Object class as return type","body":"<p>In addition to the answer by @Daniel here code snippets using projection interface:</p>\n<p>Projection interface:</p>\n<pre><code>public interface FlightView {\n    String getFlightId();\n    String getFromAirport();\n    String getToAirport();\n    String getDeparture();\n    String getArrival();\n}\n</code></pre>\n<p>Usage in repository:</p>\n<pre><code>@Repository\npublic interface FlightRepository extends PagingAndSortingRepository&lt;Flight,Integer&gt; {\n    Page&lt;FlightView&gt; findAll(Pageable pageable);\n}\n</code></pre>\n"}],"owner":{"account_id":23624871,"reputation":352,"user_id":17657568,"display_name":"AMZ"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":490,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75645711,"answer_count":2,"score":0,"last_activity_date":1678189055,"creation_date":1678039505,"question_id":75644301,"body_markdown":"As shown in the code below, I have a flightRepository that has a querySearchFormFlights method.When I want to see its elements in the test class, to my surprise, all of them are Object type in the output, not the Flight type! Why is it like this?\r\n\r\n    @Repository\r\n    public interface FlightRepository extends PagingAndSortingRepository&lt;Flight,Integer&gt; {\r\n        @Query(&quot;select f.flightId,f.fromAirport,f.toAirport,f.departure,f.arrival from Flight f&quot;)\r\n        Page&lt;Flight&gt; querySearchFormFlights(PageRequest request);\r\n    }\r\n\r\ntest class\r\n\r\n    @SpringBootTest\r\n    class AirportApplicationTests {\r\n    \r\n        @Autowired\r\n        private FlightRepository flightRepository;\r\n    \r\n        @Test\r\n        void contextLoads() {\r\n            List&lt;Flight&gt; flights=flightRepository.querySearchFormFlights(PageRequest.of(0,20)).getContent();\r\n        }\r\n    }\r\n\r\noutput:\r\n\r\n    [[Ljava.lang.Object;@4ed7db72, [Ljava.lang.Object;@7018636a, [Ljava.lang.Object;@3e866323, [Ljava.lang.Object;@73624529, [Ljava.lang.Object;@31e1c7c, [Ljava.lang.Object;@30ae3c46, [Ljava.lang.Object;@3dbcde0b, [Ljava.lang.Object;@5c168f98, [Ljava.lang.Object;@2f98859a, [Ljava.lang.Object;@6e95c023]\r\n\r\n","title":"Using @Query in spring data jpa results in Object class as return type","body":"<p>As shown in the code below, I have a flightRepository that has a querySearchFormFlights method.When I want to see its elements in the test class, to my surprise, all of them are Object type in the output, not the Flight type! Why is it like this?</p>\n<pre><code>@Repository\npublic interface FlightRepository extends PagingAndSortingRepository&lt;Flight,Integer&gt; {\n    @Query(&quot;select f.flightId,f.fromAirport,f.toAirport,f.departure,f.arrival from Flight f&quot;)\n    Page&lt;Flight&gt; querySearchFormFlights(PageRequest request);\n}\n</code></pre>\n<p>test class</p>\n<pre><code>@SpringBootTest\nclass AirportApplicationTests {\n\n    @Autowired\n    private FlightRepository flightRepository;\n\n    @Test\n    void contextLoads() {\n        List&lt;Flight&gt; flights=flightRepository.querySearchFormFlights(PageRequest.of(0,20)).getContent();\n    }\n}\n</code></pre>\n<p>output:</p>\n<pre><code>[[Ljava.lang.Object;@4ed7db72, [Ljava.lang.Object;@7018636a, [Ljava.lang.Object;@3e866323, [Ljava.lang.Object;@73624529, [Ljava.lang.Object;@31e1c7c, [Ljava.lang.Object;@30ae3c46, [Ljava.lang.Object;@3dbcde0b, [Ljava.lang.Object;@5c168f98, [Ljava.lang.Object;@2f98859a, [Ljava.lang.Object;@6e95c023]\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1678038850,"post_id":75641479,"comment_id":133451582,"body_markdown":"What do you mean by &quot;cannot be removed&quot;? From application or directly from db? Also, Node collection is always single-valued or there may be more documents? Also, the value need to be updated on startup or should be inserted only once?","body":"What do you mean by &quot;cannot be removed&quot;? From application or directly from db? Also, Node collection is always single-valued or there may be more documents? Also, the value need to be updated on startup or should be inserted only once?"},{"owner":{"account_id":15831121,"reputation":1091,"user_id":11422407,"display_name":"leo0807"},"score":0,"creation_date":1678184148,"post_id":75641479,"comment_id":133480069,"body_markdown":"I want it cannot be removed from application and  it only insert once when the server startup.","body":"I want it cannot be removed from application and  it only insert once when the server startup."}],"answers":[{"tags":[],"owner":{"account_id":12808534,"reputation":622,"user_id":9267467,"display_name":"Tobok Sitanggang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678038444,"creation_date":1678038444,"answer_id":75644206,"question_id":75641479,"body_markdown":"anything can be removed within a database. but you can manage that by create separate users with different `roles/privileges` when accessing the database. ref: [create-a-user-defined-role](https://www.mongodb.com/docs/v4.2/tutorial/manage-users-and-roles/#create-a-user-defined-role)\r\n\r\nbut you can do it manually where you need to check the `_id|id` before or within operation delete,\r\n\r\nex:\r\n\r\n```\r\ndb.document.delete({id: {$ne: &#39;xxxx&#39;}}}\r\n```","title":"How to save one document or a file permanently inside collection of MongoDB with Springboot","body":"<p>anything can be removed within a database. but you can manage that by create separate users with different <code>roles/privileges</code> when accessing the database. ref: <a href=\"https://www.mongodb.com/docs/v4.2/tutorial/manage-users-and-roles/#create-a-user-defined-role\" rel=\"nofollow noreferrer\">create-a-user-defined-role</a></p>\n<p>but you can do it manually where you need to check the <code>_id|id</code> before or within operation delete,</p>\n<p>ex:</p>\n<pre><code>db.document.delete({id: {$ne: 'xxxx'}}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678187518,"creation_date":1678186191,"answer_id":75661026,"question_id":75641479,"body_markdown":"Assuming, you&#39;re using Spring Data Mongo, if you need to forbid delete operations on your collection, you can create a special repository interface and inherit the repository bean for that collection from that repository interface.\r\n\r\nDeclare a generic repository which allows only `save()` operation: \r\n\r\n&lt;!-- language: java --&gt;\r\n    @NoRepositoryBean\r\n    public interface SaveOnlyRepository&lt;T, ID&gt; extends Repository&lt;T, ID&gt; {\r\n    \r\n        &lt;S extends T&gt; S save(S entity);\r\n    }\r\n\r\nNote: Dont forget to annotate this generic repository with `@NoRepositoryBean` which is used to avoid creating repository proxies for interfaces that actually match the criteria of a repo interface but are not intended to be one.\r\n\r\nAnd extend your repository bean for that collection from that interface. Also add a `existsByValue()` method for further checking during the application startup.\r\n\r\n&lt;!-- language: java --&gt;\r\n    public interface NodeRepository extends SaveOnlyRepository&lt;Node, String&gt; {\r\n    \r\n        boolean existsByValue(String value);\r\n    }\r\n\r\nThen you can create a listener that listens for `ApplicationReadyEvent`\r\n\r\nWithin this listener you can check if the `Node` exists. If it doesn&#39;t, then you save a document.\r\n\r\n&lt;!-- language: java --&gt;\r\n    @Component\r\n    public class Listener {\r\n    \r\n        private final NodeRepository nodeRepository;\r\n    \r\n        public Listener(NodeRepository nodeRepository) {\r\n            this.nodeRepository = nodeRepository;\r\n        }\r\n    \r\n        @EventListener(ApplicationReadyEvent.class)\r\n        public void init() {\r\n            if (!nodeRepository.existsByValue(&quot;1&quot;)) {\r\n                nodeRepository.save(...);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"How to save one document or a file permanently inside collection of MongoDB with Springboot","body":"<p>Assuming, you're using Spring Data Mongo, if you need to forbid delete operations on your collection, you can create a special repository interface and inherit the repository bean for that collection from that repository interface.</p>\n<p>Declare a generic repository which allows only <code>save()</code> operation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoRepositoryBean\npublic interface SaveOnlyRepository&lt;T, ID&gt; extends Repository&lt;T, ID&gt; {\n\n    &lt;S extends T&gt; S save(S entity);\n}\n</code></pre>\n<p>Note: Dont forget to annotate this generic repository with <code>@NoRepositoryBean</code> which is used to avoid creating repository proxies for interfaces that actually match the criteria of a repo interface but are not intended to be one.</p>\n<p>And extend your repository bean for that collection from that interface. Also add a <code>existsByValue()</code> method for further checking during the application startup.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface NodeRepository extends SaveOnlyRepository&lt;Node, String&gt; {\n\n    boolean existsByValue(String value);\n}\n</code></pre>\n<p>Then you can create a listener that listens for <code>ApplicationReadyEvent</code></p>\n<p>Within this listener you can check if the <code>Node</code> exists. If it doesn't, then you save a document.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class Listener {\n\n    private final NodeRepository nodeRepository;\n\n    public Listener(NodeRepository nodeRepository) {\n        this.nodeRepository = nodeRepository;\n    }\n\n    @EventListener(ApplicationReadyEvent.class)\n    public void init() {\n        if (!nodeRepository.existsByValue(&quot;1&quot;)) {\n            nodeRepository.save(...);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15831121,"reputation":1091,"user_id":11422407,"display_name":"leo0807"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75661026,"answer_count":2,"score":0,"last_activity_date":1678187888,"creation_date":1678011187,"question_id":75641479,"body_markdown":"all! I&#39;m working on a project with MongoDB and Spring Boot. I want to implement a feature so that once I start running the server, there will be a fixed item (or file) stored in the collection of the MongoDB database. I want to forbid remove operation for this collection from application. How could I achieve this function? If there is any ambiguity, please let me know. \r\n\r\nHere is an example. Let&#39;s say that there is a collection called `Node`. This is the `schema`:\r\n```\r\n{\r\n    &quot;id&quot;: &quot;xxxx&quot;,\r\n    &quot;value&quot;: &quot;1&quot;,\r\n    &quot;left&quot;: &quot;left_node&quot;,\r\n    &quot;right&quot;: &quot;right_node&quot;\r\n}\r\n```\r\nI want to keep this data in the database once the server started.","title":"How to save one document or a file permanently inside collection of MongoDB with Springboot","body":"<p>all! I'm working on a project with MongoDB and Spring Boot. I want to implement a feature so that once I start running the server, there will be a fixed item (or file) stored in the collection of the MongoDB database. I want to forbid remove operation for this collection from application. How could I achieve this function? If there is any ambiguity, please let me know.</p>\n<p>Here is an example. Let's say that there is a collection called <code>Node</code>. This is the <code>schema</code>:</p>\n<pre><code>{\n    &quot;id&quot;: &quot;xxxx&quot;,\n    &quot;value&quot;: &quot;1&quot;,\n    &quot;left&quot;: &quot;left_node&quot;,\n    &quot;right&quot;: &quot;right_node&quot;\n}\n</code></pre>\n<p>I want to keep this data in the database once the server started.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1678184689,"post_id":75660372,"comment_id":133480247,"body_markdown":"Can you show your pom.xml? Which plugins do you use?","body":"Can you show your pom.xml? Which plugins do you use?"},{"owner":{"account_id":17486375,"reputation":1,"user_id":12679316,"display_name":"cent ten"},"score":0,"creation_date":1678187284,"post_id":75660372,"comment_id":133480986,"body_markdown":"https://github.com/apache/flink/blob/master/pom.xml","body":"<a href=\"https://github.com/apache/flink/blob/master/pom.xml\" rel=\"nofollow noreferrer\">github.com/apache/flink/blob/master/pom.xml</a>"}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678187514,"creation_date":1678187514,"answer_id":75661236,"question_id":75660372,"body_markdown":"Looking at the POM, one sees that it activates a profile:\r\n\r\n````xml\r\n&lt;profile&gt;\r\n  &lt;id&gt;fast&lt;/id&gt;\r\n  &lt;activation&gt;\r\n\t&lt;property&gt;\r\n\t\t&lt;name&gt;fast&lt;/name&gt;\r\n\t&lt;/property&gt;\r\n  &lt;/activation&gt;\r\n````","title":"what does -Dfast mean in mvn command line?","body":"<p>Looking at the POM, one sees that it activates a profile:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;profile&gt;\n  &lt;id&gt;fast&lt;/id&gt;\n  &lt;activation&gt;\n    &lt;property&gt;\n        &lt;name&gt;fast&lt;/name&gt;\n    &lt;/property&gt;\n  &lt;/activation&gt;\n</code></pre>\n"}],"owner":{"account_id":17486375,"reputation":1,"user_id":12679316,"display_name":"cent ten"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678187514,"creation_date":1678182772,"question_id":75660372,"body_markdown":"i got this comamnd to compile project.\r\n\r\nmvn clean install -DskipTests -Dfast  -Dmaven.compile.fork=true -Dscala-2.11   \r\n\r\nbut i dont quite understand -Dfast mean,after search all the pages still got nothing related to this.\r\n\r\nAnyone can help me?\r\n\r\nsearched document and github but no answer for this.\r\n\r\ni wanna know the exactly meaning of this parameter.\r\n\r\nmy pom file\r\nhttps://github.com/apache/flink/blob/master/pom.xml","title":"what does -Dfast mean in mvn command line?","body":"<p>i got this comamnd to compile project.</p>\n<p>mvn clean install -DskipTests -Dfast  -Dmaven.compile.fork=true -Dscala-2.11</p>\n<p>but i dont quite understand -Dfast mean,after search all the pages still got nothing related to this.</p>\n<p>Anyone can help me?</p>\n<p>searched document and github but no answer for this.</p>\n<p>i wanna know the exactly meaning of this parameter.</p>\n<p>my pom file\n<a href=\"https://github.com/apache/flink/blob/master/pom.xml\" rel=\"nofollow noreferrer\">https://github.com/apache/flink/blob/master/pom.xml</a></p>\n"},{"tags":["java","spring","web-services","spring-mvc","soap"],"answers":[{"comments":[{"owner":{"account_id":42005,"reputation":2840,"user_id":122230,"accept_rate":80,"display_name":"wytten"},"score":0,"creation_date":1353010266,"post_id":7109705,"comment_id":18314871,"body_markdown":"I can&#39;t find these classes in spring-ws 1.5.9","body":"I can&#39;t find these classes in spring-ws 1.5.9"},{"owner":{"account_id":374564,"reputation":4903,"user_id":724835,"accept_rate":100,"display_name":"JustinKSU"},"score":6,"creation_date":1353016481,"post_id":7109705,"comment_id":18317560,"body_markdown":"They aren&#39;t classes, they are categories that are logged to.  See documentation at http://static.springsource.org/spring-ws/site/reference/html/common.html#logging","body":"They aren&#39;t classes, they are categories that are logged to.  See documentation at <a href=\"http://static.springsource.org/spring-ws/site/reference/html/common.html#logging\" rel=\"nofollow noreferrer\">static.springsource.org/spring-ws/site/reference/html/&hellip;</a>"},{"owner":{"account_id":374564,"reputation":4903,"user_id":724835,"accept_rate":100,"display_name":"JustinKSU"},"score":0,"creation_date":1353017014,"post_id":7109705,"comment_id":18317772,"body_markdown":"PayloadLoggingInterceptor might also be helpful.  Original poster added a link to it.","body":"PayloadLoggingInterceptor might also be helpful.  Original poster added a link to it."},{"owner":{"account_id":374564,"reputation":4903,"user_id":724835,"accept_rate":100,"display_name":"JustinKSU"},"score":0,"creation_date":1446738052,"post_id":7109705,"comment_id":54877162,"body_markdown":"I would think so.  Try it out and let us know!","body":"I would think so.  Try it out and let us know!"},{"owner":{"account_id":1026421,"reputation":6747,"user_id":1035634,"display_name":"Ondrej Burkert"},"score":1,"creation_date":1471500566,"post_id":7109705,"comment_id":65373384,"body_markdown":"Just a bit more concise syntax: &lt;logger name=&quot;org.springframework.ws.client.MessageTracing&quot; level=&quot;TRACE&quot; /&gt;","body":"Just a bit more concise syntax: &lt;logger name=&quot;org.springframework.ws.client.MessageTracing&quot; level=&quot;TRACE&quot; /&gt;"},{"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"score":0,"creation_date":1493277536,"post_id":7109705,"comment_id":74349753,"body_markdown":"this just log message with http status 200 (OK). Is these some way to log message which end with other status like 400 ?","body":"this just log message with http status 200 (OK). Is these some way to log message which end with other status like 400 ?"},{"owner":{"account_id":374564,"reputation":4903,"user_id":724835,"accept_rate":100,"display_name":"JustinKSU"},"score":0,"creation_date":1493300673,"post_id":7109705,"comment_id":74366451,"body_markdown":"@hudi it depends.  Some things logged like 404 may not make it down to the Spring level.  It&#39;s a 500 error thrown by the application, I think it should get logged.  I would suggest asking a separate question with a little more detail.","body":"@hudi it depends.  Some things logged like 404 may not make it down to the Spring level.  It&#39;s a 500 error thrown by the application, I think it should get logged.  I would suggest asking a separate question with a little more detail."},{"owner":{"account_id":11954482,"reputation":811,"user_id":8747255,"display_name":"Mukhamedali  Zhadigerov"},"score":0,"creation_date":1566754406,"post_id":7109705,"comment_id":101747148,"body_markdown":"I&#39;ve added &lt;appender&gt; and now it logs to the file as well as console. How to make it log to the file only?","body":"I&#39;ve added &lt;appender&gt; and now it logs to the file as well as console. How to make it log to the file only?"},{"owner":{"account_id":316018,"reputation":2519,"user_id":631965,"accept_rate":68,"display_name":"Olgun Kaya"},"score":0,"creation_date":1581409680,"post_id":7109705,"comment_id":106413559,"body_markdown":"Below is where the logger&#39;s set. \n\n`protected static final Log sentMessageTracingLogger = LogFactory.getLog(&quot;org.springframework.ws.client.MessageTracing.sent&quot;);`\n    \n`protected static final Log receivedMessageTracingLogger = LogFactory.getLog(&quot;org.springframework.ws.client.MessageTracing.received&quot;);`","body":"Below is where the logger&#39;s set.   <code>protected static final Log sentMessageTracingLogger = LogFactory.getLog(&quot;org.springframework.ws.client.MessageTrac&zwnj;&#8203;ing.sent&quot;);</code>      <code>protected static final Log receivedMessageTracingLogger = LogFactory.getLog(&quot;org.springframework.ws.client.MessageTrac&zwnj;&#8203;ing.received&quot;);</code>"}],"tags":[],"owner":{"account_id":374564,"reputation":4903,"user_id":724835,"accept_rate":100,"display_name":"JustinKSU"},"comment_count":9,"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1656066412,"creation_date":1313680093,"answer_id":7109705,"question_id":7109251,"body_markdown":"You can use this to log the raw payload of incoming and outgoing web service calls..  I&#39;m not sure how to log how long the webservice communication took.\r\n\r\n       &lt;!-- Spring Web Service Payload Logging--&gt;\r\n       &lt;logger name=&quot;org.springframework.ws.client.MessageTracing&quot;&gt;\r\n       \t&lt;level value=&quot;TRACE&quot;/&gt; \r\n       &lt;/logger&gt;\r\n       &lt;logger name=&quot;org.springframework.ws.server.MessageTracing&quot;&gt;\r\n       \t&lt;level value=&quot;TRACE&quot;/&gt; \r\n       &lt;/logger&gt;\r\n\r\nAdditional details can be found at http://static.springsource.org/spring-ws/site/reference/html/common.html#logging","title":"How can I make Spring WebServices log all SOAP requests?","body":"<p>You can use this to log the raw payload of incoming and outgoing web service calls..  I'm not sure how to log how long the webservice communication took.</p>\n<pre><code>   &lt;!-- Spring Web Service Payload Logging--&gt;\n   &lt;logger name=&quot;org.springframework.ws.client.MessageTracing&quot;&gt;\n    &lt;level value=&quot;TRACE&quot;/&gt; \n   &lt;/logger&gt;\n   &lt;logger name=&quot;org.springframework.ws.server.MessageTracing&quot;&gt;\n    &lt;level value=&quot;TRACE&quot;/&gt; \n   &lt;/logger&gt;\n</code></pre>\n<p>Additional details can be found at <a href=\"http://static.springsource.org/spring-ws/site/reference/html/common.html#logging\" rel=\"nofollow noreferrer\">http://static.springsource.org/spring-ws/site/reference/html/common.html#logging</a></p>\n"},{"comments":[{"owner":{"account_id":1237712,"reputation":1077,"user_id":1200966,"accept_rate":75,"display_name":"aram063"},"score":3,"creation_date":1373588378,"post_id":17605616,"comment_id":25625248,"body_markdown":"Obviously, that should be added to your log4j.properties file.","body":"Obviously, that should be added to your log4j.properties file."}],"tags":[],"owner":{"account_id":1237712,"reputation":1077,"user_id":1200966,"accept_rate":75,"display_name":"aram063"},"comment_count":1,"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1430347494,"creation_date":1373587866,"answer_id":17605616,"question_id":7109251,"body_markdown":"This worked for me. It logs the request message sent and the response received. You could work out the total time taken from the log.\r\n\r\n    log4j.logger.org.springframework.ws.client.MessageTracing.sent=TRACE\r\n    log4j.logger.org.springframework.ws.client.MessageTracing.received=TRACE\r\n\r\n","title":"How can I make Spring WebServices log all SOAP requests?","body":"<p>This worked for me. It logs the request message sent and the response received. You could work out the total time taken from the log.</p>\n\n<pre><code>log4j.logger.org.springframework.ws.client.MessageTracing.sent=TRACE\nlog4j.logger.org.springframework.ws.client.MessageTracing.received=TRACE\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1336332,"reputation":3448,"user_id":1279002,"accept_rate":44,"display_name":"theINtoy"},"score":4,"creation_date":1449850683,"post_id":23589030,"comment_id":56199758,"body_markdown":"This worked for me. Thanks. Does anybody know how to pretty print the SOAP in the logs?","body":"This worked for me. Thanks. Does anybody know how to pretty print the SOAP in the logs?"}],"tags":[],"owner":{"account_id":1027983,"reputation":171,"user_id":1036850,"display_name":"E.L."},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1399783807,"creation_date":1399783807,"answer_id":23589030,"question_id":7109251,"body_markdown":"First, SLF4J is just a simple facade. It means you still need a logging framework(e.g. java.util.logging, logback, log4j). \r\n\r\nSecond, Spring-ws uses Commons Logging interface that is another simple facade like SLF4J.\r\n\r\nFinally, you can use below setting to enable Spring-ws message logging functionality.\r\n\r\n    log4j.logger.org.springframework.ws.client.MessageTracing.sent=DEBUG\r\n    log4j.logger.org.springframework.ws.client.MessageTracing.received=TRACE\r\n    \r\n    log4j.logger.org.springframework.ws.server.MessageTracing.sent=DEBUG\r\n    log4j.logger.org.springframework.ws.server.MessageTracing.received=TRACE","title":"How can I make Spring WebServices log all SOAP requests?","body":"<p>First, SLF4J is just a simple facade. It means you still need a logging framework(e.g. java.util.logging, logback, log4j). </p>\n\n<p>Second, Spring-ws uses Commons Logging interface that is another simple facade like SLF4J.</p>\n\n<p>Finally, you can use below setting to enable Spring-ws message logging functionality.</p>\n\n<pre><code>log4j.logger.org.springframework.ws.client.MessageTracing.sent=DEBUG\nlog4j.logger.org.springframework.ws.client.MessageTracing.received=TRACE\n\nlog4j.logger.org.springframework.ws.server.MessageTracing.sent=DEBUG\nlog4j.logger.org.springframework.ws.server.MessageTracing.received=TRACE\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8247852,"reputation":890,"user_id":6203414,"display_name":"mkane"},"score":1,"creation_date":1576684538,"post_id":25221543,"comment_id":104980641,"body_markdown":"Link not valid anymore","body":"Link not valid anymore"}],"tags":[],"owner":{"account_id":1041028,"reputation":2683,"user_id":1047052,"display_name":"Supun Sameera"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1678187220,"creation_date":1407607362,"answer_id":25221543,"question_id":7109251,"body_markdown":"\r\nAdd a servlet filter to the spring ws (to move with org.springframework.web.servlet.DispatcherServlet) in web.xml\r\n\r\nyou can find a filter here\r\nhttps://web.archive.org/web/20160317123724/http://www.wetfeetblog.com/servlet-filer-to-log-request-and-response-details-and-payload/431\r\n\r\ninside the filter you can log as you wish","title":"How can I make Spring WebServices log all SOAP requests?","body":"<p>Add a servlet filter to the spring ws (to move with org.springframework.web.servlet.DispatcherServlet) in web.xml</p>\n<p>you can find a filter here\n<a href=\"https://web.archive.org/web/20160317123724/http://www.wetfeetblog.com/servlet-filer-to-log-request-and-response-details-and-payload/431\" rel=\"nofollow noreferrer\">https://web.archive.org/web/20160317123724/http://www.wetfeetblog.com/servlet-filer-to-log-request-and-response-details-and-payload/431</a></p>\n<p>inside the filter you can log as you wish</p>\n"},{"tags":[],"owner":{"account_id":6518097,"reputation":339,"user_id":5043154,"display_name":"Shanaka Jayalath"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1435126262,"creation_date":1435126262,"answer_id":31018875,"question_id":7109251,"body_markdown":"Include the following in the `log4j.properties` file...\r\n\r\n 1. To log all server-side messages:\r\n`log4j.logger.org.springframework.ws.server.MessageTracing=DEBUG`\r\n 2. To log all client-side messages:\r\n`log4j.logger.org.springframework.ws.client.MessageTracing=TRACE`\r\n \r\nOn the `DEBUG` level - only the payload root element is logged\r\n\r\nOn the `TRACE` level - the entire message content is logged\r\n\r\nLastly to log only the sent or received messages use the `.sent` or `.received` at the end of the configurations.\r\n\r\nex : `log4j.logger.org.springframework.ws.server.MessageTracing.received=DEBUG`\r\nlogs the client-side received massages payload root element\r\nreturning :\r\n\r\n    DEBUG WebServiceMessageReceiverHandlerAdapter:114 - Accepting incoming [org.springframework.ws.transport.http.HttpServletConnection@51ad62d9] to [http://localhost:8080/mock-platform/services]\r\n\r\nFor more [info][1] \r\n\r\n\r\n  [1]: http://docs.spring.io/autorepo/docs/spring-ws/2.2.0.RELEASE/reference/htmlsingle/#logging","title":"How can I make Spring WebServices log all SOAP requests?","body":"<p>Include the following in the <code>log4j.properties</code> file...</p>\n\n<ol>\n<li>To log all server-side messages:\n<code>log4j.logger.org.springframework.ws.server.MessageTracing=DEBUG</code></li>\n<li>To log all client-side messages:\n<code>log4j.logger.org.springframework.ws.client.MessageTracing=TRACE</code></li>\n</ol>\n\n<p>On the <code>DEBUG</code> level - only the payload root element is logged</p>\n\n<p>On the <code>TRACE</code> level - the entire message content is logged</p>\n\n<p>Lastly to log only the sent or received messages use the <code>.sent</code> or <code>.received</code> at the end of the configurations.</p>\n\n<p>ex : <code>log4j.logger.org.springframework.ws.server.MessageTracing.received=DEBUG</code>\nlogs the client-side received massages payload root element\nreturning :</p>\n\n<pre><code>DEBUG WebServiceMessageReceiverHandlerAdapter:114 - Accepting incoming [org.springframework.ws.transport.http.HttpServletConnection@51ad62d9] to [http://localhost:8080/mock-platform/services]\n</code></pre>\n\n<p>For more <a href=\"http://docs.spring.io/autorepo/docs/spring-ws/2.2.0.RELEASE/reference/htmlsingle/#logging\" rel=\"noreferrer\">info</a> </p>\n"},{"comments":[{"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"score":1,"creation_date":1604502991,"post_id":37773780,"comment_id":114367407,"body_markdown":"Nice. Initially I was confused because Sent code flow was only using DEBUG and not TRACE so it did not print the complete SOAP message details for Request. But then I realised that the received message is in TRACE mode so it displays both the response and also the complete request message body to which the response is about","body":"Nice. Initially I was confused because Sent code flow was only using DEBUG and not TRACE so it did not print the complete SOAP message details for Request. But then I realised that the received message is in TRACE mode so it displays both the response and also the complete request message body to which the response is about"}],"tags":[],"owner":{"account_id":3750645,"reputation":28034,"user_id":3118209,"accept_rate":93,"display_name":"Arpit Aggarwal"},"comment_count":1,"down_vote_count":0,"up_vote_count":102,"is_accepted":false,"score":102,"last_activity_date":1465731537,"creation_date":1465731537,"answer_id":37773780,"question_id":7109251,"body_markdown":"For **Spring Boot** project adding below in `application.properties` worked for me:\r\n\r\n    logging.level.org.springframework.web=DEBUG\r\n    logging.level.org.springframework.ws.client.MessageTracing.sent=DEBUG\r\n    logging.level.org.springframework.ws.server.MessageTracing.sent=DEBUG\r\n    logging.level.org.springframework.ws.client.MessageTracing.received=TRACE\r\n    logging.level.org.springframework.ws.server.MessageTracing.received=TRACE","title":"How can I make Spring WebServices log all SOAP requests?","body":"<p>For <strong>Spring Boot</strong> project adding below in <code>application.properties</code> worked for me:</p>\n\n<pre><code>logging.level.org.springframework.web=DEBUG\nlogging.level.org.springframework.ws.client.MessageTracing.sent=DEBUG\nlogging.level.org.springframework.ws.server.MessageTracing.sent=DEBUG\nlogging.level.org.springframework.ws.client.MessageTracing.received=TRACE\nlogging.level.org.springframework.ws.server.MessageTracing.received=TRACE\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1976638,"reputation":2858,"user_id":1774291,"accept_rate":75,"display_name":"PeterS"},"score":0,"creation_date":1569312371,"post_id":49023160,"comment_id":102546249,"body_markdown":"Finally an answer that isn&#39;t using hard coded property files or spring XML!","body":"Finally an answer that isn&#39;t using hard coded property files or spring XML!"},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":2,"creation_date":1629797908,"post_id":49023160,"comment_id":121775879,"body_markdown":"Precisions, it could be obvious for some, but the method is exactly : `org.springframework.ws.client.core.support.WebServiceGatewaySupport#setInterceptors` and the implemented interface is `org.springframework.ws.client.support.interceptor.ClientInterceptor` for which you also need to implment an empty `afterCompletion` method.","body":"Precisions, it could be obvious for some, but the method is exactly : <code>org.springframework.ws.client.core.support.WebServiceGateway&zwnj;&#8203;Support#setIntercept&zwnj;&#8203;ors</code> and the implemented interface is <code>org.springframework.ws.client.support.interceptor.ClientInte&zwnj;&#8203;rceptor</code> for which you also need to implment an empty <code>afterCompletion</code> method."}],"tags":[],"owner":{"account_id":8722354,"reputation":458,"user_id":6525083,"display_name":"Rman"},"comment_count":2,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1519798911,"creation_date":1519798911,"answer_id":49023160,"question_id":7109251,"body_markdown":"If you have your own Logging system the following interceptor can be an alternative to log the SOAP messages.\r\n\r\n    \r\n\t\tsetInterceptors(new ClientInterceptor[]{new ClientInterceptor() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic boolean handleResponse(MessageContext messageContext) throws WebServiceClientException {\r\n\t\t\t\tSystem.out.println(&quot;### SOAP RESPONSE ###&quot;);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tByteArrayOutputStream buffer = new ByteArrayOutputStream();\r\n\t\t\t\t\tmessageContext.getResponse().writeTo(buffer);\r\n\t\t\t\t\tString payload = buffer.toString(java.nio.charset.StandardCharsets.UTF_8.name());\r\n\t\t\t\t\tSystem.out.println(payload);\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\tthrow new WebServiceClientException(&quot;Can not write the SOAP response into the out stream&quot;, e) {\r\n\t\t\t\t\t\tprivate static final long serialVersionUID = -7118480620416458069L;\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic boolean handleRequest(MessageContext messageContext) throws WebServiceClientException {\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;### SOAP REQUEST ###&quot;);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tByteArrayOutputStream buffer = new ByteArrayOutputStream();\r\n\t\t\t\t\tmessageContext.getRequest().writeTo(buffer);\r\n\t\t\t\t\tString payload = buffer.toString(java.nio.charset.StandardCharsets.UTF_8.name());\r\n\t\t\t\t\tSystem.out.println(payload);\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\tthrow new WebServiceClientException(&quot;Can not write the SOAP request into the out stream&quot;, e) {\r\n\t\t\t\t\t\tprivate static final long serialVersionUID = -7118480620416458069L;\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic boolean handleFault(MessageContext messageContext) throws WebServiceClientException {\r\n\t\t\t\tSystem.out.println(&quot;### SOAP FAULT ###&quot;);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tByteArrayOutputStream buffer = new ByteArrayOutputStream();\r\n\t\t\t\t\tmessageContext.getResponse().writeTo(buffer);\r\n\t\t\t\t\tString payload = buffer.toString(java.nio.charset.StandardCharsets.UTF_8.name());\r\n\t\t\t\t\tSystem.out.println(payload);\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\tthrow new WebServiceClientException(&quot;Can not write the SOAP fault into the out stream&quot;, e) {\r\n\t\t\t\t\t\tprivate static final long serialVersionUID = 3538336091916808141L;\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}});\r\n\r\nIn each handle method you can easily use `payload` to obtain raw soap messages.\r\n","title":"How can I make Spring WebServices log all SOAP requests?","body":"<p>If you have your own Logging system the following interceptor can be an alternative to log the SOAP messages.</p>\n\n<pre><code>    setInterceptors(new ClientInterceptor[]{new ClientInterceptor() {\n\n        @Override\n        public boolean handleResponse(MessageContext messageContext) throws WebServiceClientException {\n            System.out.println(\"### SOAP RESPONSE ###\");\n            try {\n                ByteArrayOutputStream buffer = new ByteArrayOutputStream();\n                messageContext.getResponse().writeTo(buffer);\n                String payload = buffer.toString(java.nio.charset.StandardCharsets.UTF_8.name());\n                System.out.println(payload);\n            } catch (IOException e) {\n                throw new WebServiceClientException(\"Can not write the SOAP response into the out stream\", e) {\n                    private static final long serialVersionUID = -7118480620416458069L;\n                };\n            }\n\n            return true;\n        }\n\n        @Override\n        public boolean handleRequest(MessageContext messageContext) throws WebServiceClientException {\n\n            System.out.println(\"### SOAP REQUEST ###\");\n            try {\n                ByteArrayOutputStream buffer = new ByteArrayOutputStream();\n                messageContext.getRequest().writeTo(buffer);\n                String payload = buffer.toString(java.nio.charset.StandardCharsets.UTF_8.name());\n                System.out.println(payload);\n            } catch (IOException e) {\n                throw new WebServiceClientException(\"Can not write the SOAP request into the out stream\", e) {\n                    private static final long serialVersionUID = -7118480620416458069L;\n                };\n            }\n\n            return true;\n        }\n\n        @Override\n        public boolean handleFault(MessageContext messageContext) throws WebServiceClientException {\n            System.out.println(\"### SOAP FAULT ###\");\n            try {\n                ByteArrayOutputStream buffer = new ByteArrayOutputStream();\n                messageContext.getResponse().writeTo(buffer);\n                String payload = buffer.toString(java.nio.charset.StandardCharsets.UTF_8.name());\n                System.out.println(payload);\n            } catch (IOException e) {\n                throw new WebServiceClientException(\"Can not write the SOAP fault into the out stream\", e) {\n                    private static final long serialVersionUID = 3538336091916808141L;\n                };\n            }\n\n            return true;\n        }\n    }});\n</code></pre>\n\n<p>In each handle method you can easily use <code>payload</code> to obtain raw soap messages.</p>\n"},{"comments":[{"owner":{"account_id":3547959,"reputation":2574,"user_id":2963422,"display_name":"Procrastinator"},"score":0,"creation_date":1637589255,"post_id":70063654,"comment_id":123859093,"body_markdown":"If you have a new question, please ask it by clicking the [Ask Question](https://stackoverflow.com/questions/ask) button. Include a link to this question if it helps provide context. - [From Review](/review/late-answers/30402983)","body":"If you have a new question, please ask it by clicking the <a href=\"https://stackoverflow.com/questions/ask\">Ask Question</a> button. Include a link to this question if it helps provide context. - <a href=\"/review/late-answers/30402983\">From Review</a>"},{"owner":{"account_id":4968804,"reputation":336,"user_id":3997280,"display_name":"Anurag Yadav"},"score":0,"creation_date":1650394570,"post_id":70063654,"comment_id":127103649,"body_markdown":"Anyways ...just call your method MySoapClient() before client call","body":"Anyways ...just call your method MySoapClient() before client call"}],"tags":[],"owner":{"account_id":17665257,"reputation":45,"user_id":12822793,"display_name":"naga sri sai"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637574035,"creation_date":1637574035,"answer_id":70063654,"question_id":7109251,"body_markdown":"    . . .\r\n    package com.example.Soap;\r\n    \r\n    import org.springframework.ws.client.WebServiceClientException;\r\n    import org.springframework.ws.client.support.interceptor.ClientInterceptor;\r\n    import org.springframework.ws.context.MessageContext;\r\n    \r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    public class LoggingVonfig  implements ClientInterceptor  {\r\n    \r\n    \r\n    \r\n            @Override\r\n            public boolean handleResponse(MessageContext messageContext) throws WebServiceClientException {\r\n                System.out.println(&quot;### SOAP RESPONSE ###&quot;);\r\n                try {\r\n                    ByteArrayOutputStream buffer = new ByteArrayOutputStream();\r\n                    messageContext.getResponse().writeTo(buffer);\r\n                    String payload = buffer.toString(java.nio.charset.StandardCharsets.UTF_8.name());\r\n                    System.out.println(payload);\r\n                } catch (IOException e) {\r\n                    throw new WebServiceClientException(&quot;Can not write the SOAP response into the out stream&quot;, e) {\r\n                        private static final long serialVersionUID = -7118480620416458069L;\r\n                    };\r\n                }\r\n    \r\n                return true;\r\n            }\r\n    \r\n            @Override\r\n            public boolean handleRequest(MessageContext messageContext) throws WebServiceClientException {\r\n    \r\n                System.out.println(&quot;### SOAP REQUEST ###&quot;);\r\n                try {\r\n                    ByteArrayOutputStream buffer = new ByteArrayOutputStream();\r\n                    messageContext.getRequest().writeTo(buffer);\r\n                    String payload = buffer.toString(java.nio.charset.StandardCharsets.UTF_8.name());\r\n                    System.out.println(payload);\r\n                } catch (IOException e) {\r\n                    throw new WebServiceClientException(&quot;Can not write the SOAP request into the out stream&quot;, e) {\r\n                        private static final long serialVersionUID = -7118480620416458069L;\r\n                    };\r\n                }\r\n    \r\n                return true;\r\n            }\r\n    \r\n            @Override\r\n            public boolean handleFault(MessageContext messageContext) throws WebServiceClientException {\r\n                System.out.println(&quot;### SOAP FAULT ###&quot;);\r\n                try {\r\n                    ByteArrayOutputStream buffer = new ByteArrayOutputStream();\r\n                    messageContext.getResponse().writeTo(buffer);\r\n                    String payload = buffer.toString(java.nio.charset.StandardCharsets.UTF_8.name());\r\n                    System.out.println(payload);\r\n                } catch (IOException e) {\r\n                    throw new WebServiceClientException(&quot;Can not write the SOAP fault into the out stream&quot;, e) {\r\n                        private static final long serialVersionUID = 3538336091916808141L;\r\n                    };\r\n                }\r\n    \r\n                return true;\r\n            }\r\n    \r\n        @Override\r\n        public void afterCompletion(MessageContext messageContext, Exception e) throws WebServiceClientException {\r\n    \r\n        }\r\n    \r\n    }\r\n    \r\n    . . . \r\n    \r\n    This is logging Configuration class\r\n    \r\n    \r\n    . . . \r\n    package com.example.Soap;\r\n    \r\n    import com.example.Soap.com.example.Soap.Add;\r\n    import com.example.Soap.com.example.Soap.AddResponse;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.ws.client.core.support.WebServiceGatewaySupport;\r\n    import org.springframework.ws.client.support.interceptor.ClientInterceptor;\r\n    import org.springframework.ws.soap.client.core.SoapActionCallback;\r\n    \r\n    public class CalculatorClient  extends WebServiceGatewaySupport {\r\n    \r\n        private static Logger log = LoggerFactory.getLogger(CalculatorClient.class);\r\n    \r\n        public com.example.Soap.com.example.Soap.AddResponse getaddition(com.example.Soap.com.example.Soap.Add addrequest){\r\n            com.example.Soap.com.example.Soap.Add add = new com.example.Soap.com.example.Soap.Add();\r\n            add.setIntB(addrequest.getIntB());\r\n            add.setIntA(addrequest.getIntA());\r\n            log.info(&quot;----------------------------------------------&quot;+&quot;Inbound Request&quot;+&quot;-----------------------&quot;);\r\n            com.example.Soap.com.example.Soap.AddResponse addResponse = (com.example.Soap.com.example.Soap.AddResponse) getWebServiceTemplate().marshalSendAndReceive(&quot;http://www.dneonline.com/calculator.asmx?wsdl&quot;,add,new SoapActionCallback(&quot;http://tempuri.org/Add&quot;));\r\n    \r\n            return addResponse;\r\n        }\r\n        public com.example.Soap.com.example.Soap.SubtractResponse getSubtract(com.example.Soap.com.example.Soap.Subtract subreq){\r\n            com.example.Soap.com.example.Soap.Subtract subtract=new com.example.Soap.com.example.Soap.Subtract();\r\n            subtract.setIntA(subreq.getIntA());\r\n            subtract.setIntB(subreq.getIntB());\r\n            com.example.Soap.com.example.Soap.SubtractResponse subtractResponse=(com.example.Soap.com.example.Soap.SubtractResponse) getWebServiceTemplate().marshalSendAndReceive(&quot;http://www.dneonline.com/calculator.asmx?wsdl&quot;,subtract,new SoapActionCallback(&quot;http://tempuri.org/Subtract&quot;));\r\n            return  subtractResponse;\r\n        }\r\n        public com.example.Soap.com.example.Soap.MultiplyResponse getMultiply(com.example.Soap.com.example.Soap.Multiply multiply)\r\n        {\r\n            com.example.Soap.com.example.Soap.Multiply multiply1=new com.example.Soap.com.example.Soap.Multiply();\r\n            multiply1.setIntA(multiply.getIntA());\r\n            multiply1.setIntB(multiply.getIntB());\r\n            com.example.Soap.com.example.Soap.MultiplyResponse multiplyResponse=(com.example.Soap.com.example.Soap.MultiplyResponse) getWebServiceTemplate().marshalSendAndReceive(&quot;http://www.dneonline.com/calculator.asmx?wsdl&quot;,multiply1,new SoapActionCallback(&quot;http://tempuri.org/Multiply&quot;));\r\n            return  multiplyResponse;\r\n        }\r\n        public com.example.Soap.com.example.Soap.DivideResponse getDivide(com.example.Soap.com.example.Soap.Divide divide){\r\n            com.example.Soap.com.example.Soap.Divide divide1=new com.example.Soap.com.example.Soap.Divide();\r\n            divide1.setIntA(divide.getIntA());\r\n            divide1.setIntB(divide.getIntB());\r\n            com.example.Soap.com.example.Soap.DivideResponse divideResponse=(com.example.Soap.com.example.Soap.DivideResponse) getWebServiceTemplate().marshalSendAndReceive(&quot;http://www.dneonline.com/calculator.asmx?wsdl&quot;,divide1,new SoapActionCallback(&quot;http://tempuri.org/Divide&quot;));\r\n            return divideResponse;\r\n        }\r\n    \r\n        public void MySoapClient() {\r\n            this.setInterceptors(new ClientInterceptor[] { new LoggingVonfig() });\r\n    \r\n        }\r\n    \r\n    }\r\n    \r\n    . . . \r\n    This is my client class\r\n    \r\n    . . . \r\n    package com.example.Soap;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.oxm.jaxb.Jaxb2Marshaller;\r\n    import org.springframework.ws.client.core.WebServiceTemplate;\r\n    \r\n    @Configuration\r\n    public class CalculatorConfig {\r\n    \r\n        @Bean\r\n        public Jaxb2Marshaller marshaller(){\r\n            Jaxb2Marshaller jaxb2Marshaller = new Jaxb2Marshaller();\r\n    //        jaxb2Marshaller.setPackagesToScan(&quot;com.example.Soap.com.example.Soap&quot;);\r\n    \r\n            jaxb2Marshaller.setContextPath(&quot;com.example.Soap.com.example.Soap&quot;); // this will serilaize and unserialize it\r\n            return jaxb2Marshaller;\r\n        }\r\n    \r\n        @Bean\r\n        public CalculatorClient calculatorClient(Jaxb2Marshaller jaxb2Marshaller){\r\n            WebServiceTemplate wsTemplate = new WebServiceTemplate();\r\n            CalculatorClient calculatorClient = new CalculatorClient();\r\n            calculatorClient.setDefaultUri(&quot;http://www.dneonline.com&quot;);\r\n            calculatorClient.setMarshaller(jaxb2Marshaller);\r\n            calculatorClient.setUnmarshaller(jaxb2Marshaller);\r\n    \r\n    \r\n            return calculatorClient;\r\n        }\r\n    \r\n    \r\n    }\r\n    \r\n    . . .\r\n    \r\n    configuration file\r\n    \r\n    . . . \r\n    \r\n    package com.example.Soap;\r\n    \r\n    import com.example.Soap.com.example.Soap.Add;\r\n    import com.example.Soap.com.example.Soap.AddResponse;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @SpringBootApplication\r\n    @RestController\r\n    public class SoapApplication {\r\n    \r\n    \t@Autowired\r\n    \tprivate CalculatorClient calculatorClient;\r\n    \r\n    \t@PostMapping(value = &quot;/add&quot;)\r\n    \tpublic com.example.Soap.com.example.Soap.AddResponse addelements(@RequestBody com.example.Soap.com.example.Soap.Add add){\r\n    \t\treturn calculatorClient.getaddition(add);\r\n    \t}\r\n    \t@PostMapping(value = &quot;/subtract&quot;)\r\n    \tpublic com.example.Soap.com.example.Soap.SubtractResponse addelements(@RequestBody com.example.Soap.com.example.Soap.Subtract subreq){\r\n    \t\treturn calculatorClient.getSubtract(subreq);\r\n    \t}\r\n    \t@PostMapping(value = &quot;/multiply&quot;)\r\n    \tpublic com.example.Soap.com.example.Soap.MultiplyResponse addelements(@RequestBody com.example.Soap.com.example.Soap.Multiply multiply){\r\n    \t\treturn  calculatorClient.getMultiply(multiply);\r\n    \t}\r\n    \t@PostMapping(value = &quot;/divide&quot;)\r\n    \tpublic com.example.Soap.com.example.Soap.DivideResponse addelements(@RequestBody com.example.Soap.com.example.Soap.Divide divide){\r\n    \t\treturn calculatorClient.getDivide(divide);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SoapApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n    .  . .\r\n\r\nThese are my classes but still, I can&#39;t able to log all requests and responses in my console. I&#39;m not getting where I have done wrong.\r\nI implemented Client configuration too.","title":"How can I make Spring WebServices log all SOAP requests?","body":"<pre><code>. . .\npackage com.example.Soap;\n\nimport org.springframework.ws.client.WebServiceClientException;\nimport org.springframework.ws.client.support.interceptor.ClientInterceptor;\nimport org.springframework.ws.context.MessageContext;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\n\npublic class LoggingVonfig  implements ClientInterceptor  {\n\n\n\n        @Override\n        public boolean handleResponse(MessageContext messageContext) throws WebServiceClientException {\n            System.out.println(&quot;### SOAP RESPONSE ###&quot;);\n            try {\n                ByteArrayOutputStream buffer = new ByteArrayOutputStream();\n                messageContext.getResponse().writeTo(buffer);\n                String payload = buffer.toString(java.nio.charset.StandardCharsets.UTF_8.name());\n                System.out.println(payload);\n            } catch (IOException e) {\n                throw new WebServiceClientException(&quot;Can not write the SOAP response into the out stream&quot;, e) {\n                    private static final long serialVersionUID = -7118480620416458069L;\n                };\n            }\n\n            return true;\n        }\n\n        @Override\n        public boolean handleRequest(MessageContext messageContext) throws WebServiceClientException {\n\n            System.out.println(&quot;### SOAP REQUEST ###&quot;);\n            try {\n                ByteArrayOutputStream buffer = new ByteArrayOutputStream();\n                messageContext.getRequest().writeTo(buffer);\n                String payload = buffer.toString(java.nio.charset.StandardCharsets.UTF_8.name());\n                System.out.println(payload);\n            } catch (IOException e) {\n                throw new WebServiceClientException(&quot;Can not write the SOAP request into the out stream&quot;, e) {\n                    private static final long serialVersionUID = -7118480620416458069L;\n                };\n            }\n\n            return true;\n        }\n\n        @Override\n        public boolean handleFault(MessageContext messageContext) throws WebServiceClientException {\n            System.out.println(&quot;### SOAP FAULT ###&quot;);\n            try {\n                ByteArrayOutputStream buffer = new ByteArrayOutputStream();\n                messageContext.getResponse().writeTo(buffer);\n                String payload = buffer.toString(java.nio.charset.StandardCharsets.UTF_8.name());\n                System.out.println(payload);\n            } catch (IOException e) {\n                throw new WebServiceClientException(&quot;Can not write the SOAP fault into the out stream&quot;, e) {\n                    private static final long serialVersionUID = 3538336091916808141L;\n                };\n            }\n\n            return true;\n        }\n\n    @Override\n    public void afterCompletion(MessageContext messageContext, Exception e) throws WebServiceClientException {\n\n    }\n\n}\n\n. . . \n\nThis is logging Configuration class\n\n\n. . . \npackage com.example.Soap;\n\nimport com.example.Soap.com.example.Soap.Add;\nimport com.example.Soap.com.example.Soap.AddResponse;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.ws.client.core.support.WebServiceGatewaySupport;\nimport org.springframework.ws.client.support.interceptor.ClientInterceptor;\nimport org.springframework.ws.soap.client.core.SoapActionCallback;\n\npublic class CalculatorClient  extends WebServiceGatewaySupport {\n\n    private static Logger log = LoggerFactory.getLogger(CalculatorClient.class);\n\n    public com.example.Soap.com.example.Soap.AddResponse getaddition(com.example.Soap.com.example.Soap.Add addrequest){\n        com.example.Soap.com.example.Soap.Add add = new com.example.Soap.com.example.Soap.Add();\n        add.setIntB(addrequest.getIntB());\n        add.setIntA(addrequest.getIntA());\n        log.info(&quot;----------------------------------------------&quot;+&quot;Inbound Request&quot;+&quot;-----------------------&quot;);\n        com.example.Soap.com.example.Soap.AddResponse addResponse = (com.example.Soap.com.example.Soap.AddResponse) getWebServiceTemplate().marshalSendAndReceive(&quot;http://www.dneonline.com/calculator.asmx?wsdl&quot;,add,new SoapActionCallback(&quot;http://tempuri.org/Add&quot;));\n\n        return addResponse;\n    }\n    public com.example.Soap.com.example.Soap.SubtractResponse getSubtract(com.example.Soap.com.example.Soap.Subtract subreq){\n        com.example.Soap.com.example.Soap.Subtract subtract=new com.example.Soap.com.example.Soap.Subtract();\n        subtract.setIntA(subreq.getIntA());\n        subtract.setIntB(subreq.getIntB());\n        com.example.Soap.com.example.Soap.SubtractResponse subtractResponse=(com.example.Soap.com.example.Soap.SubtractResponse) getWebServiceTemplate().marshalSendAndReceive(&quot;http://www.dneonline.com/calculator.asmx?wsdl&quot;,subtract,new SoapActionCallback(&quot;http://tempuri.org/Subtract&quot;));\n        return  subtractResponse;\n    }\n    public com.example.Soap.com.example.Soap.MultiplyResponse getMultiply(com.example.Soap.com.example.Soap.Multiply multiply)\n    {\n        com.example.Soap.com.example.Soap.Multiply multiply1=new com.example.Soap.com.example.Soap.Multiply();\n        multiply1.setIntA(multiply.getIntA());\n        multiply1.setIntB(multiply.getIntB());\n        com.example.Soap.com.example.Soap.MultiplyResponse multiplyResponse=(com.example.Soap.com.example.Soap.MultiplyResponse) getWebServiceTemplate().marshalSendAndReceive(&quot;http://www.dneonline.com/calculator.asmx?wsdl&quot;,multiply1,new SoapActionCallback(&quot;http://tempuri.org/Multiply&quot;));\n        return  multiplyResponse;\n    }\n    public com.example.Soap.com.example.Soap.DivideResponse getDivide(com.example.Soap.com.example.Soap.Divide divide){\n        com.example.Soap.com.example.Soap.Divide divide1=new com.example.Soap.com.example.Soap.Divide();\n        divide1.setIntA(divide.getIntA());\n        divide1.setIntB(divide.getIntB());\n        com.example.Soap.com.example.Soap.DivideResponse divideResponse=(com.example.Soap.com.example.Soap.DivideResponse) getWebServiceTemplate().marshalSendAndReceive(&quot;http://www.dneonline.com/calculator.asmx?wsdl&quot;,divide1,new SoapActionCallback(&quot;http://tempuri.org/Divide&quot;));\n        return divideResponse;\n    }\n\n    public void MySoapClient() {\n        this.setInterceptors(new ClientInterceptor[] { new LoggingVonfig() });\n\n    }\n\n}\n\n. . . \nThis is my client class\n\n. . . \npackage com.example.Soap;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.oxm.jaxb.Jaxb2Marshaller;\nimport org.springframework.ws.client.core.WebServiceTemplate;\n\n@Configuration\npublic class CalculatorConfig {\n\n    @Bean\n    public Jaxb2Marshaller marshaller(){\n        Jaxb2Marshaller jaxb2Marshaller = new Jaxb2Marshaller();\n//        jaxb2Marshaller.setPackagesToScan(&quot;com.example.Soap.com.example.Soap&quot;);\n\n        jaxb2Marshaller.setContextPath(&quot;com.example.Soap.com.example.Soap&quot;); // this will serilaize and unserialize it\n        return jaxb2Marshaller;\n    }\n\n    @Bean\n    public CalculatorClient calculatorClient(Jaxb2Marshaller jaxb2Marshaller){\n        WebServiceTemplate wsTemplate = new WebServiceTemplate();\n        CalculatorClient calculatorClient = new CalculatorClient();\n        calculatorClient.setDefaultUri(&quot;http://www.dneonline.com&quot;);\n        calculatorClient.setMarshaller(jaxb2Marshaller);\n        calculatorClient.setUnmarshaller(jaxb2Marshaller);\n\n\n        return calculatorClient;\n    }\n\n\n}\n\n. . .\n\nconfiguration file\n\n. . . \n\npackage com.example.Soap;\n\nimport com.example.Soap.com.example.Soap.Add;\nimport com.example.Soap.com.example.Soap.AddResponse;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\n@SpringBootApplication\n@RestController\npublic class SoapApplication {\n\n    @Autowired\n    private CalculatorClient calculatorClient;\n\n    @PostMapping(value = &quot;/add&quot;)\n    public com.example.Soap.com.example.Soap.AddResponse addelements(@RequestBody com.example.Soap.com.example.Soap.Add add){\n        return calculatorClient.getaddition(add);\n    }\n    @PostMapping(value = &quot;/subtract&quot;)\n    public com.example.Soap.com.example.Soap.SubtractResponse addelements(@RequestBody com.example.Soap.com.example.Soap.Subtract subreq){\n        return calculatorClient.getSubtract(subreq);\n    }\n    @PostMapping(value = &quot;/multiply&quot;)\n    public com.example.Soap.com.example.Soap.MultiplyResponse addelements(@RequestBody com.example.Soap.com.example.Soap.Multiply multiply){\n        return  calculatorClient.getMultiply(multiply);\n    }\n    @PostMapping(value = &quot;/divide&quot;)\n    public com.example.Soap.com.example.Soap.DivideResponse addelements(@RequestBody com.example.Soap.com.example.Soap.Divide divide){\n        return calculatorClient.getDivide(divide);\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(SoapApplication.class, args);\n    }\n\n}\n.  . .\n</code></pre>\n<p>These are my classes but still, I can't able to log all requests and responses in my console. I'm not getting where I have done wrong.\nI implemented Client configuration too.</p>\n"},{"tags":[],"owner":{"account_id":10241233,"reputation":129,"user_id":7558585,"display_name":"Nikita Zamalyutdinov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660660546,"creation_date":1660660546,"answer_id":73375784,"question_id":7109251,"body_markdown":"An easiest way is adding attribute into your security config (securityPolicy.xml):\r\n\r\n    &lt;xwss:SecurityConfiguration xmlns:xwss=&quot;http://java.sun.com/xml/ns/xwss/config&quot; dumpMessages=&quot;true&quot;&gt;\r\n\r\nNo additional settings inside `application.properties` required.\r\n\r\nCheck that [link][1] to understanding security policy file.\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/E17802_01/webservices/webservices/docs/1.6/tutorial/doc/XWS-SecurityIntro4.html#wp573045","title":"How can I make Spring WebServices log all SOAP requests?","body":"<p>An easiest way is adding attribute into your security config (securityPolicy.xml):</p>\n<pre><code>&lt;xwss:SecurityConfiguration xmlns:xwss=&quot;http://java.sun.com/xml/ns/xwss/config&quot; dumpMessages=&quot;true&quot;&gt;\n</code></pre>\n<p>No additional settings inside <code>application.properties</code> required.</p>\n<p>Check that <a href=\"https://docs.oracle.com/cd/E17802_01/webservices/webservices/docs/1.6/tutorial/doc/XWS-SecurityIntro4.html#wp573045\" rel=\"nofollow noreferrer\">link</a> to understanding security policy file.</p>\n"}],"owner":{"account_id":221470,"reputation":6821,"user_id":479490,"accept_rate":44,"display_name":"Nate Reed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137582,"favorite_count":0,"down_vote_count":0,"up_vote_count":71,"answer_count":9,"score":71,"last_activity_date":1678187220,"creation_date":1313678412,"question_id":7109251,"body_markdown":"I need all SOAP requests logged in the `CommonLogFormat` (see http://en.wikipedia.org/wiki/Common_Log_Format), plus the duration (the amount of time it takes to process the request).\r\n\r\nWhat&#39;s the best way to do this?  It looks like it&#39;s possible to configure log4j for Spring WebServices but will it log all the values I&#39;m interested in? \r\nhttp://pijava.wordpress.com/2009/12/04/spring-webservice-soap-requestresponse-logging-with-log4j/\r\n\r\nEDIT: We&#39;re actually using `SLF4J`, not `Log4j`.  Also, it looks like it&#39;s possible to do this by configuring the PayloadLoggingInterceptor:\r\nhttp://static.springsource.org/spring-ws/site/reference/html/server.html#server-endpoint-interceptor\r\n\r\nBut I am not sure where the log messages will go.  I added that interceptor to our interceptors and I don&#39;t see any log messages. \r\n\r\n","title":"How can I make Spring WebServices log all SOAP requests?","body":"<p>I need all SOAP requests logged in the <code>CommonLogFormat</code> (see <a href=\"http://en.wikipedia.org/wiki/Common_Log_Format\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/Common_Log_Format</a>), plus the duration (the amount of time it takes to process the request).</p>\n\n<p>What's the best way to do this?  It looks like it's possible to configure log4j for Spring WebServices but will it log all the values I'm interested in? \n<a href=\"http://pijava.wordpress.com/2009/12/04/spring-webservice-soap-requestresponse-logging-with-log4j/\" rel=\"noreferrer\">http://pijava.wordpress.com/2009/12/04/spring-webservice-soap-requestresponse-logging-with-log4j/</a></p>\n\n<p>EDIT: We're actually using <code>SLF4J</code>, not <code>Log4j</code>.  Also, it looks like it's possible to do this by configuring the PayloadLoggingInterceptor:\n<a href=\"http://static.springsource.org/spring-ws/site/reference/html/server.html#server-endpoint-interceptor\" rel=\"noreferrer\">http://static.springsource.org/spring-ws/site/reference/html/server.html#server-endpoint-interceptor</a></p>\n\n<p>But I am not sure where the log messages will go.  I added that interceptor to our interceptors and I don't see any log messages. </p>\n"},{"tags":["java","spring-boot","pact","mockserver","pact-jvm"],"comments":[{"owner":{"account_id":5145079,"reputation":374,"user_id":4121306,"accept_rate":50,"display_name":"Eric"},"score":0,"creation_date":1677698542,"post_id":74942016,"comment_id":133391366,"body_markdown":"Hi did you ever get an answer to this question? I&#39;m not using Spring but have the same use case - the framework is configured with a static port for the 2 providers and both providers are called as part of the flow of a single business method. Splitting into 2 tests is impossible.","body":"Hi did you ever get an answer to this question? I&#39;m not using Spring but have the same use case - the framework is configured with a static port for the 2 providers and both providers are called as part of the flow of a single business method. Splitting into 2 tests is impossible."},{"owner":{"account_id":5145079,"reputation":374,"user_id":4121306,"accept_rate":50,"display_name":"Eric"},"score":0,"creation_date":1677698913,"post_id":74942016,"comment_id":133393240,"body_markdown":"I don&#39;t have an answer but I have the same problem. I created an issue on the Pact issue tracker (https://github.com/pact-foundation/pact-jvm/issues/1675) and made a reference back to this issue. Please feel to comment there on that issue as well!","body":"I don&#39;t have an answer but I have the same problem. I created an issue on the Pact issue tracker (<a href=\"https://github.com/pact-foundation/pact-jvm/issues/1675\" rel=\"nofollow noreferrer\">github.com/pact-foundation/pact-jvm/issues/1675</a>) and made a reference back to this issue. Please feel to comment there on that issue as well!"},{"owner":{"account_id":1360703,"reputation":115,"user_id":1298139,"display_name":"Kevin de Boer"},"score":0,"creation_date":1677787621,"post_id":74942016,"comment_id":133411543,"body_markdown":"I asked in the pact Slack channel. Basically the answer was &quot;pull request welcome&quot;","body":"I asked in the pact Slack channel. Basically the answer was &quot;pull request welcome&quot;"},{"owner":{"account_id":5145079,"reputation":374,"user_id":4121306,"accept_rate":50,"display_name":"Eric"},"score":0,"creation_date":1677803749,"post_id":74942016,"comment_id":133414740,"body_markdown":"When did you ask in the slack channel? I posted there yesterday as well. Haven&#39;t checked it today.","body":"When did you ask in the slack channel? I posted there yesterday as well. Haven&#39;t checked it today."}],"answers":[{"comments":[{"owner":{"account_id":5145079,"reputation":374,"user_id":4121306,"accept_rate":50,"display_name":"Eric"},"score":0,"creation_date":1678187162,"post_id":75651099,"comment_id":133480962,"body_markdown":"@4b0 I&#39;m not sure why you felt the need to edit my answer? That link isn&#39;t to a release. It&#39;s a commit where they implemented the feature.","body":"@4b0 I&#39;m not sure why you felt the need to edit my answer? That link isn&#39;t to a release. It&#39;s a commit where they implemented the feature."}],"tags":[],"owner":{"account_id":5145079,"reputation":374,"user_id":4121306,"accept_rate":50,"display_name":"Eric"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678187180,"creation_date":1678107182,"answer_id":75651099,"question_id":74942016,"body_markdown":"Looks like they&#39;ve implemented this feature in\r\n\r\nhttps://github.com/pact-foundation/pact-jvm/commit/67a66702496daa52ba060e3c68abe68deaff524a","title":"Setting mock ports for multiple providers in pact-jvm","body":"<p>Looks like they've implemented this feature in</p>\n<p><a href=\"https://github.com/pact-foundation/pact-jvm/commit/67a66702496daa52ba060e3c68abe68deaff524a\" rel=\"nofollow noreferrer\">https://github.com/pact-foundation/pact-jvm/commit/67a66702496daa52ba060e3c68abe68deaff524a</a></p>\n"}],"owner":{"account_id":1360703,"reputation":115,"user_id":1298139,"display_name":"Kevin de Boer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":577,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678187180,"creation_date":1672241050,"question_id":74942016,"body_markdown":"I am trying to learn the [pact][1] framework by rewriting some of our wiremock tests that test our application written in java and springboot. I have provided a simplified example of where we end up getting stuck:\r\n\r\nConsumertest.java\r\n\r\n    @ExtendWith(PactConsumerTestExt.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    @AutoConfigureMockMvc\r\n    public class ContractConsumerTests {\r\n    \r\n        @Autowired\r\n        private MockMvc mockMvc;\r\n    \r\n        @Pact(provider = &quot;provider1&quot;, consumer = &quot;my_consumer&quot;)\r\n        public V4Pact provider1Pact(PactBuilder builder) {\r\n            ...\r\n        }\r\n    \r\n        @Pact(provider = &quot;provider2&quot;, consumer = &quot;my_consumer&quot;)\r\n        public V4Pact provider2Pact(PactBuilder builder) {\r\n            ...\r\n        }\r\n    \r\n        @Test\r\n        @PactTestFor(pactMethods = {&quot;provider1Pact&quot;, &quot;provider2Pact&quot;})\r\n        public void testMultipleProvider(@ForProvider(&quot;provider1&quot;) MockServer provider1Mock, @ForProvider(&quot;provider2&quot;) MockServer provider2Mock) throws Exception {\r\n            System.out.println(provider1Mock.getPort()); //random port != 1000\r\n            System.out.println(provider2Mock.getPort()); //random port != 2000\r\n    \r\n            //Calling this controller requires fetching data from provider1 and provider2 to compute the result\r\n            //application is configured to go to provider1 on localhost:1000 and provider 2 on localhost:2000\r\n            mockMvc.perform(get(&quot;/my/url&quot;)\r\n                            .param(&quot;foo&quot;, &quot;abc&quot;)\r\n                            .param(&quot;bar&quot;, &quot;123&quot;))\r\n                    .andExpect(status().isOk())\r\n                    .andExpect(content().string(&quot;expectedcontent&quot;));\r\n        }\r\n    }\r\n\r\n\r\nApplication.yml\r\n\r\n    application:\r\n      client:\r\n        provider1:\r\n          url: http://localhost:1000/\r\n        provider2:\r\n          url: http://localhost:2000/\r\n\r\n  [1]: https://docs.pact.io/\r\n\r\nPreviously we would have a single wiremock instance running on a set port (1000), and the application config would point to that port for both providers. However we can not do that now, since the resulting contract would then contain requests for both providers. If we were to give the contract to provider1 it could not satisfy the requests from provider2 and vica-versa.\r\n\r\nA similar question was asked 2 years ago: https://stackoverflow.com/questions/64459294/how-to-define-multiple-providers-using-pacttestfor, which answer was to split the test. This probably wont work for us for various reasons. But more importantly there is now support for multi provider tests: https://docs.pact.io/implementation_guides/jvm/consumer/junit5#using-multiple-providers-in-a-test-425\r\n\r\nNow, when you have but one provider in your test, you can specify the port for the mock with:\r\n\r\n    @PactTestFor(providerName = &quot;provider1&quot;, port=&quot;1000&quot;)\r\n\r\n\r\nThis will then match the port configured in the application and all is fine. However, since we are using multiple providers, using &#39;port=1000&#39; will now lead to an &#39;address already in use&#39; exception. Which makes sense, when both mockservers try to start on port 1000. \r\n\r\nOmmitting the port will default to a random port which will resolve the exception, but the application is configured to call a static port, which will never match the random port. And thus will always fail.\r\n\r\nThat then leads to the questions:  \r\nHow can we use whatever random mock port was chosen in our application configuration?  \r\nor  \r\nHow can we set the port per instance of MockServer to match the port in our config?","title":"Setting mock ports for multiple providers in pact-jvm","body":"<p>I am trying to learn the <a href=\"https://docs.pact.io/\" rel=\"nofollow noreferrer\">pact</a> framework by rewriting some of our wiremock tests that test our application written in java and springboot. I have provided a simplified example of where we end up getting stuck:</p>\n<p>Consumertest.java</p>\n<pre><code>@ExtendWith(PactConsumerTestExt.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@AutoConfigureMockMvc\npublic class ContractConsumerTests {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Pact(provider = &quot;provider1&quot;, consumer = &quot;my_consumer&quot;)\n    public V4Pact provider1Pact(PactBuilder builder) {\n        ...\n    }\n\n    @Pact(provider = &quot;provider2&quot;, consumer = &quot;my_consumer&quot;)\n    public V4Pact provider2Pact(PactBuilder builder) {\n        ...\n    }\n\n    @Test\n    @PactTestFor(pactMethods = {&quot;provider1Pact&quot;, &quot;provider2Pact&quot;})\n    public void testMultipleProvider(@ForProvider(&quot;provider1&quot;) MockServer provider1Mock, @ForProvider(&quot;provider2&quot;) MockServer provider2Mock) throws Exception {\n        System.out.println(provider1Mock.getPort()); //random port != 1000\n        System.out.println(provider2Mock.getPort()); //random port != 2000\n\n        //Calling this controller requires fetching data from provider1 and provider2 to compute the result\n        //application is configured to go to provider1 on localhost:1000 and provider 2 on localhost:2000\n        mockMvc.perform(get(&quot;/my/url&quot;)\n                        .param(&quot;foo&quot;, &quot;abc&quot;)\n                        .param(&quot;bar&quot;, &quot;123&quot;))\n                .andExpect(status().isOk())\n                .andExpect(content().string(&quot;expectedcontent&quot;));\n    }\n}\n</code></pre>\n<p>Application.yml</p>\n<pre><code>application:\n  client:\n    provider1:\n      url: http://localhost:1000/\n    provider2:\n      url: http://localhost:2000/\n</code></pre>\n<p>Previously we would have a single wiremock instance running on a set port (1000), and the application config would point to that port for both providers. However we can not do that now, since the resulting contract would then contain requests for both providers. If we were to give the contract to provider1 it could not satisfy the requests from provider2 and vica-versa.</p>\n<p>A similar question was asked 2 years ago: <a href=\"https://stackoverflow.com/questions/64459294/how-to-define-multiple-providers-using-pacttestfor\">How to define multiple providers using @PactTestFor</a>, which answer was to split the test. This probably wont work for us for various reasons. But more importantly there is now support for multi provider tests: <a href=\"https://docs.pact.io/implementation_guides/jvm/consumer/junit5#using-multiple-providers-in-a-test-425\" rel=\"nofollow noreferrer\">https://docs.pact.io/implementation_guides/jvm/consumer/junit5#using-multiple-providers-in-a-test-425</a></p>\n<p>Now, when you have but one provider in your test, you can specify the port for the mock with:</p>\n<pre><code>@PactTestFor(providerName = &quot;provider1&quot;, port=&quot;1000&quot;)\n</code></pre>\n<p>This will then match the port configured in the application and all is fine. However, since we are using multiple providers, using 'port=1000' will now lead to an 'address already in use' exception. Which makes sense, when both mockservers try to start on port 1000.</p>\n<p>Ommitting the port will default to a random port which will resolve the exception, but the application is configured to call a static port, which will never match the random port. And thus will always fail.</p>\n<p>That then leads to the questions:<br />\nHow can we use whatever random mock port was chosen in our application configuration?<br />\nor<br />\nHow can we set the port per instance of MockServer to match the port in our config?</p>\n"},{"tags":["java","google-api","gmail-api"],"owner":{"account_id":26269349,"reputation":11,"user_id":19939475,"display_name":"Julian Jocham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678186788,"creation_date":1678186086,"question_id":75661009,"body_markdown":"When sending an email using the Gmail API you can use any mailaddress to deliver the message to.\r\nWhat if that email is a wrong emailaddress and it is impossible to deliver the message?\r\nThe label will still be set to SENT right?\r\n\r\nIs it possible to detect that it did not find the receiving mailaddress and some kind of errorhandling for that?\r\n\r\nThe Gmail API doesnt present a solution to my eye on how to prevent this issue.\r\n\r\nhttps://developers.google.com/gmail/api/guides/sending?hl=en\r\n\r\nhttps://developers.google.com/gmail/api/guides/labels?hl=en","title":"Is there a Way to detect that an Email could not be delivered using Gmail API?","body":"<p>When sending an email using the Gmail API you can use any mailaddress to deliver the message to.\nWhat if that email is a wrong emailaddress and it is impossible to deliver the message?\nThe label will still be set to SENT right?</p>\n<p>Is it possible to detect that it did not find the receiving mailaddress and some kind of errorhandling for that?</p>\n<p>The Gmail API doesnt present a solution to my eye on how to prevent this issue.</p>\n<p><a href=\"https://developers.google.com/gmail/api/guides/sending?hl=en\" rel=\"nofollow noreferrer\">https://developers.google.com/gmail/api/guides/sending?hl=en</a></p>\n<p><a href=\"https://developers.google.com/gmail/api/guides/labels?hl=en\" rel=\"nofollow noreferrer\">https://developers.google.com/gmail/api/guides/labels?hl=en</a></p>\n"},{"tags":["java","oracle","jenkins"],"answers":[{"comments":[{"owner":{"account_id":5806757,"reputation":3715,"user_id":4579155,"accept_rate":73,"display_name":"abarisone"},"score":0,"creation_date":1434016301,"post_id":30777050,"comment_id":49604932,"body_markdown":"Could you please elaborate more your answer adding a little more description about the solution you provide?","body":"Could you please elaborate more your answer adding a little more description about the solution you provide?"},{"owner":{"account_id":5559764,"reputation":1,"user_id":4409549,"display_name":"lahuman"},"score":0,"creation_date":1434065669,"post_id":30777050,"comment_id":49635532,"body_markdown":"First you will install java on your machine. Second setting of jenkins. Don&#39;t use auto install.https://www.safaribooksonline.com/library/view/jenkins-the-definitive/9781449311155/httpatomoreillycomsourceoreillyimages864759.png","body":"First you will install java on your machine. Second setting of jenkins. Don&#39;t use auto install.<a href=\"https://www.safaribooksonline.com/library/view/jenkins-the-definitive/9781449311155/httpatomoreillycomsourceoreillyimages864759.png\" rel=\"nofollow noreferrer\">safaribooksonline.com/library/view/jenkins-the-defin&zwnj;&#8203;itive/&hellip;</a>"}],"tags":[],"owner":{"account_id":5559764,"reputation":1,"user_id":4409549,"display_name":"lahuman"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434015593,"creation_date":1434015593,"answer_id":30777050,"question_id":30776818,"body_markdown":"I think you can use &quot;YUM install java&quot;.\r\n\r\nUse this : \r\nyum search java | grep &#39;java-&#39;.\r\n\r\nAfter setting inside Jenkins environment. \r\n","title":"Jenkins fails to download JDK from Oracle","body":"<p>I think you can use \"YUM install java\".</p>\n\n<p>Use this : \nyum search java | grep 'java-'.</p>\n\n<p>After setting inside Jenkins environment. </p>\n"},{"comments":[{"owner":{"account_id":4783539,"reputation":53,"user_id":3864672,"accept_rate":50,"display_name":"Lukasx"},"score":0,"creation_date":1434016073,"post_id":30777184,"comment_id":49604785,"body_markdown":"We&#39;re using the Jenkins Web Interface to run our build process.\nIs there another way to agree to the OTN license terms?","body":"We&#39;re using the Jenkins Web Interface to run our build process. Is there another way to agree to the OTN license terms?"},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1434016506,"post_id":30777184,"comment_id":49605085,"body_markdown":"I just checked a Jenkins installation I am working with. In the section where the JDKs are configured, when choosing to install from java.sun.com there is a checkbox to agree to the license agreement, so this should work.","body":"I just checked a Jenkins installation I am working with. In the section where the JDKs are configured, when choosing to install from java.sun.com there is a checkbox to agree to the license agreement, so this should work."},{"owner":{"account_id":4783539,"reputation":53,"user_id":3864672,"accept_rate":50,"display_name":"Lukasx"},"score":1,"creation_date":1434016786,"post_id":30777184,"comment_id":49605228,"body_markdown":"I already checked this box, makes no real difference to our problem.","body":"I already checked this box, makes no real difference to our problem."}],"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434015901,"creation_date":1434015901,"answer_id":30777184,"question_id":30776818,"body_markdown":"with which command/tool do you try to download? When I try the link in the browser I get the information: \r\n*In order to download products from Oracle Technology Network you must agree to the OTN license terms.*\r\n\r\nNormally you have to check a checkbox on the Oracle site before you can download the JDK.\r\n\r\nWhen using wget you could add the following arguments to your request:\r\n\r\n    --nocookies --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot;\r\n\r\nWhen using a different tool, set the cookie accordingly.","title":"Jenkins fails to download JDK from Oracle","body":"<p>with which command/tool do you try to download? When I try the link in the browser I get the information: \n<em>In order to download products from Oracle Technology Network you must agree to the OTN license terms.</em></p>\n\n<p>Normally you have to check a checkbox on the Oracle site before you can download the JDK.</p>\n\n<p>When using wget you could add the following arguments to your request:</p>\n\n<pre><code>--nocookies --header \"Cookie: oraclelicense=accept-securebackup-cookie\"\n</code></pre>\n\n<p>When using a different tool, set the cookie accordingly.</p>\n"},{"tags":[],"owner":{"account_id":27955820,"reputation":1,"user_id":21348675,"display_name":"Harish Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678186569,"creation_date":1678186569,"answer_id":75661078,"question_id":30776818,"body_markdown":"If your using Ubuntu try below.\r\n\r\nThis is known bug currently. Please follow below steps to solve it.\r\n\r\n\r\n\r\nSSH to jenkins and run below command.\r\n\r\nsudo apt update\r\nsudo apt install openjdk-8-jdk -y\r\n\r\n\r\nLogin to Jenkins\r\n\r\nGo to Manage Jenkins =&gt; Global Tool Configuration\r\n\r\nClick on JDK Installation =&gt; Click on Red Cross mark on the right to remove Any JDK you have\r\n\r\n\r\n\r\nClick on Add JDK =&gt; uncheck Install automatically option\r\n\r\nIn name add below line\r\n\r\nOracleJDK8\r\n\r\n\r\n\r\nIn JAVA_HOME add below line and save.\r\n\r\n/usr/lib/jvm/java-8-openjdk-amd64\r\n","title":"Jenkins fails to download JDK from Oracle","body":"<p>If your using Ubuntu try below.</p>\n<p>This is known bug currently. Please follow below steps to solve it.</p>\n<p>SSH to jenkins and run below command.</p>\n<p>sudo apt update\nsudo apt install openjdk-8-jdk -y</p>\n<p>Login to Jenkins</p>\n<p>Go to Manage Jenkins =&gt; Global Tool Configuration</p>\n<p>Click on JDK Installation =&gt; Click on Red Cross mark on the right to remove Any JDK you have</p>\n<p>Click on Add JDK =&gt; uncheck Install automatically option</p>\n<p>In name add below line</p>\n<p>OracleJDK8</p>\n<p>In JAVA_HOME add below line and save.</p>\n<p>/usr/lib/jvm/java-8-openjdk-amd64</p>\n"}],"owner":{"account_id":4783539,"reputation":53,"user_id":3864672,"accept_rate":50,"display_name":"Lukasx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3557,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1678186569,"creation_date":1434014945,"question_id":30776818,"body_markdown":"I&#39;ve been trying to build a Maven project using Jenkins for a couple of days now.\r\n\r\nHowever it keeps failing to download the JDK from Oracle.\r\n\r\nIt keeps giving me the following error message:\r\n\r\n&gt; Installing JDK jdk-8u45-oth-JPR Downloading JDK from\r\n&gt; http://download.oracle.com/otn-pub/java/jdk/8u45-b14/jdk-8u45-linux-x64.tar.gz\r\n&gt; Downloading 5307bytes Installing\r\n&gt; /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh [JDK] $\r\n&gt; /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh -noregister\r\n&gt; /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: 1:\r\n&gt; /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: cannot open html: No\r\n&gt; such file /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: 2:\r\n&gt; /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: cannot open head: No\r\n&gt; such file /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: 3:\r\n&gt; /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: cannot open title: No\r\n&gt; such file /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: 3:\r\n&gt; /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: Request: not found\r\n&gt; /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: 4:\r\n&gt; /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: cannot open META: No\r\n&gt; such file /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: 5:\r\n&gt; /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: cannot open link: No\r\n&gt; such file /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: 6:\r\n&gt; /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: cannot open link: No\r\n&gt; such file /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: 7:\r\n&gt; /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh:  : not found\r\n&gt; /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: 8:\r\n&gt; /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: cannot open body: No\r\n&gt; such file /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: 9:\r\n&gt; /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: cannot open div: No\r\n&gt; such file /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: 10:\r\n&gt; /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: cannot open table: No\r\n&gt; such file /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: 11:\r\n&gt; /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: cannot open tr: No\r\n&gt; such file /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: 12:\r\n&gt; /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: Syntax error:\r\n&gt; redirection unexpected ERROR: Failed to install JDK. Exit code=2\r\n&gt; Retrying after 10 seconds\r\n\r\nIs there any solution to this problem?","title":"Jenkins fails to download JDK from Oracle","body":"<p>I've been trying to build a Maven project using Jenkins for a couple of days now.</p>\n\n<p>However it keeps failing to download the JDK from Oracle.</p>\n\n<p>It keeps giving me the following error message:</p>\n\n<blockquote>\n  <p>Installing JDK jdk-8u45-oth-JPR Downloading JDK from\n  <a href=\"http://download.oracle.com/otn-pub/java/jdk/8u45-b14/jdk-8u45-linux-x64.tar.gz\" rel=\"nofollow\">http://download.oracle.com/otn-pub/java/jdk/8u45-b14/jdk-8u45-linux-x64.tar.gz</a>\n  Downloading 5307bytes Installing\n  /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh [JDK] $\n  /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh -noregister\n  /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: 1:\n  /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: cannot open html: No\n  such file /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: 2:\n  /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: cannot open head: No\n  such file /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: 3:\n  /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: cannot open title: No\n  such file /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: 3:\n  /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: Request: not found\n  /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: 4:\n  /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: cannot open META: No\n  such file /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: 5:\n  /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: cannot open link: No\n  such file /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: 6:\n  /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: cannot open link: No\n  such file /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: 7:\n  /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh:  : not found\n  /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: 8:\n  /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: cannot open body: No\n  such file /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: 9:\n  /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: cannot open div: No\n  such file /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: 10:\n  /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: cannot open table: No\n  such file /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: 11:\n  /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: cannot open tr: No\n  such file /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: 12:\n  /var/jenkins/tools/hudson.model.JDK/JDK/jdk.sh: Syntax error:\n  redirection unexpected ERROR: Failed to install JDK. Exit code=2\n  Retrying after 10 seconds</p>\n</blockquote>\n\n<p>Is there any solution to this problem?</p>\n"},{"tags":["java","spring","spring-boot","kotlin","spring-webflux"],"comments":[{"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"score":0,"creation_date":1678185132,"post_id":75660726,"comment_id":133480375,"body_markdown":"there is a possibility that a jar is corrupted, try deleting the .gradle and .m2 directories in your project and then re-run gradle build or gradle clean build to download the dependencies again.","body":"there is a possibility that a jar is corrupted, try deleting the .gradle and .m2 directories in your project and then re-run gradle build or gradle clean build to download the dependencies again."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1678186059,"post_id":75660726,"comment_id":133480639,"body_markdown":"Have you **read** the error. `Caused by: java.lang.NoSuchFieldError: DECODE_SLASH` is pretty clear. The problem is your dependencies, you are trying to outsmart the Spring Boot dependency management. Remove the version of the `org.springframework.boot` dependencies, of the `io.projectreactor` dependencies` and I believe you don&#39; t need it on the `micrometer-tracing-bridge-brave` either. Remove the `junit-jupiter-engine` dependency that is included in `spring-boot-starter-test` already. Remove the versions from the `ext` block as well.","body":"Have you <b>read</b> the error. <code>Caused by: java.lang.NoSuchFieldError: DECODE_SLASH</code> is pretty clear. The problem is your dependencies, you are trying to outsmart the Spring Boot dependency management. Remove the version of the <code>org.springframework.boot</code> dependencies, of the <code>io.projectreactor</code> dependencies` and I believe you don&#39; t need it on the <code>micrometer-tracing-bridge-brave</code> either. Remove the <code>junit-jupiter-engine</code> dependency that is included in <code>spring-boot-starter-test</code> already. Remove the versions from the <code>ext</code> block as well."},{"owner":{"account_id":27954488,"reputation":1,"user_id":21347609,"display_name":"Micha Sikora"},"score":0,"creation_date":1678187307,"post_id":75660726,"comment_id":133480991,"body_markdown":"@Karim I did but It didn&#39;t help","body":"@Karim I did but It didn&#39;t help"},{"owner":{"account_id":27954488,"reputation":1,"user_id":21347609,"display_name":"Micha Sikora"},"score":0,"creation_date":1678187792,"post_id":75660726,"comment_id":133481095,"body_markdown":"@M.Deinum I wrote that on spring-boot-starter-webflux 3.0.2 worked fine . Your advices are not helpful. I have reason why i want to migrate in 3.0.4 but it isn&#39;t important.","body":"@M.Deinum I wrote that on spring-boot-starter-webflux 3.0.2 worked fine . Your advices are not helpful. I have reason why i want to migrate in 3.0.4 but it isn&#39;t important."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1678191270,"post_id":75660726,"comment_id":133481913,"body_markdown":"It doesn&#39;t matter if it worked on Spring BOot 3.0.2 the fact that you are manually managing all those dependencies will lead to incompatible versions, which is what you are seeing now, you can fix this if you just will let Spring BOot manage the proper versions instead of working around it.","body":"It doesn&#39;t matter if it worked on Spring BOot 3.0.2 the fact that you are manually managing all those dependencies will lead to incompatible versions, which is what you are seeing now, you can fix this if you just will let Spring BOot manage the proper versions instead of working around it."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678186530,"creation_date":1678186530,"answer_id":75661072,"question_id":75660726,"body_markdown":"If you read the stacktrace you will encounter the following:\r\n\r\n```\r\nCaused by: java.lang.NoSuchFieldError: DECODE_SLASH\r\n```\r\n\r\nThose kinds of errors generally come from the fact that you are mixing wrong dependencies. Looking at the snippet of your Gradle build you are trying very hard to work around the Spring Boot dependency management. \r\n\r\nCleanup your dependencies with the following \r\n\r\n1. Remove the `version` from the `org.springframework.boot` dependencies\r\n2. Remove the `version` from the `io.projectreactor` dependencies\r\n2. Remove the `junit-jupiter-engine` dependency, included in `spring-boot-starter-test`\r\n3. Remove the versions from the `ext` block. \r\n\r\n```\r\next {\r\n    mockServerVersion = &#39;5.15.0&#39;\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-actuator&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-validation&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-webflux&#39;\r\n    implementation group: &#39;io.micrometer&#39;, name: &#39;micrometer-tracing-bridge-brave&#39;\r\n    implementation group: &#39;org.jetbrains.kotlin&#39;, name: &#39;kotlin-reflect&#39;\r\n    implementation group: &#39;io.projectreactor.kotlin&#39;, name: &#39;reactor-kotlin-extensions&#39;\r\n    implementation group: &#39;io.springfox&#39;, name: &#39;springfox-boot-starter&#39;, version: swaggerSpringfoxVersion\r\n    implementation group: &#39;io.projectreactor&#39;, name: &#39;reactor-tools&#39;\r\n\r\n    testImplementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-test&#39;\r\n    testImplementation group: &#39;org.junit.jupiter&#39;, name: &#39;junit-jupiter-params&#39;\r\n    testImplementation group: &#39;org.mock-server&#39;, name: &#39;mockserver-spring-test-listener&#39;, version: mockServerVersion\r\n    testImplementation group: &#39;io.mockk&#39;, name: &#39;mockk&#39;, version: mockkVersion\r\n    testImplementation group: &#39;io.projectreactor&#39;, name: &#39;reactor-test&#39;     \r\n    testImplementation group: &#39;org.awaitility&#39;, name: &#39;awaitility&#39;, version: awaitilityVersion\r\n}\r\n```\r\n\r\nNow the only thing left that could be an issue is the `springfox-boot-starter` dependency, as that is over 2 years old that will reference not Spring Boot 3. ","title":"Why app reactive(Webflux) don&#39;t runnig after migration to SpringBoot 3.0.4","body":"<p>If you read the stacktrace you will encounter the following:</p>\n<pre><code>Caused by: java.lang.NoSuchFieldError: DECODE_SLASH\n</code></pre>\n<p>Those kinds of errors generally come from the fact that you are mixing wrong dependencies. Looking at the snippet of your Gradle build you are trying very hard to work around the Spring Boot dependency management.</p>\n<p>Cleanup your dependencies with the following</p>\n<ol>\n<li>Remove the <code>version</code> from the <code>org.springframework.boot</code> dependencies</li>\n<li>Remove the <code>version</code> from the <code>io.projectreactor</code> dependencies</li>\n<li>Remove the <code>junit-jupiter-engine</code> dependency, included in <code>spring-boot-starter-test</code></li>\n<li>Remove the versions from the <code>ext</code> block.</li>\n</ol>\n<pre><code>ext {\n    mockServerVersion = '5.15.0'\n}\n\ndependencies {\n\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-actuator'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-validation'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-webflux'\n    implementation group: 'io.micrometer', name: 'micrometer-tracing-bridge-brave'\n    implementation group: 'org.jetbrains.kotlin', name: 'kotlin-reflect'\n    implementation group: 'io.projectreactor.kotlin', name: 'reactor-kotlin-extensions'\n    implementation group: 'io.springfox', name: 'springfox-boot-starter', version: swaggerSpringfoxVersion\n    implementation group: 'io.projectreactor', name: 'reactor-tools'\n\n    testImplementation group: 'org.springframework.boot', name: 'spring-boot-starter-test'\n    testImplementation group: 'org.junit.jupiter', name: 'junit-jupiter-params'\n    testImplementation group: 'org.mock-server', name: 'mockserver-spring-test-listener', version: mockServerVersion\n    testImplementation group: 'io.mockk', name: 'mockk', version: mockkVersion\n    testImplementation group: 'io.projectreactor', name: 'reactor-test'     \n    testImplementation group: 'org.awaitility', name: 'awaitility', version: awaitilityVersion\n}\n</code></pre>\n<p>Now the only thing left that could be an issue is the <code>springfox-boot-starter</code> dependency, as that is over 2 years old that will reference not Spring Boot 3.</p>\n"}],"owner":{"account_id":27954488,"reputation":1,"user_id":21347609,"display_name":"Micha Sikora"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678186530,"creation_date":1678184697,"question_id":75660726,"body_markdown":"App throws exception on startup after migrating to spring-boot-starter-webflux 3.0.3 in version 3.0.4 as well. \r\n\r\nLogs with start:\r\n\r\n`yorg.springframework.context.ApplicationContextException: Unable to start reactive web server \tat org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.onRefresh(ReactiveWebServerApplicationContext.java:84) ~[spring-boot-3.0.4.jar:3.0.4] \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:578) ~[spring-context-6.0.6.jar:6.0.6] \tat org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[spring-boot-3.0.4.jar:3.0.4] \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.4.jar:3.0.4] \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.4.jar:3.0.4] \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.4.jar:3.0.4] \tat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:150) ~[spring-boot-3.0.4.jar:3.0.4] \tat pl.lhsystems.groupapp.service.profileinformation.ProfileInformationServiceApplication.main(ProfileInformationServiceApplication.java:29) ~[main/:na] Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;undertowReactiveWebServerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/reactive/ReactiveWebServerFactoryConfiguration$EmbeddedUndertow.class]: DECODE_SLASH \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606) ~[spring-beans-6.0.6.jar:6.0.6] \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.6.jar:6.0.6] \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.6.jar:6.0.6] \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.6.jar:6.0.6] \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.6.jar:6.0.6] \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.0.6.jar:6.0.6] \tat org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.getWebServerFactory(ReactiveWebServerApplicationContext.java:121) ~[spring-boot-3.0.4.jar:3.0.4] \tat org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.createWebServer(ReactiveWebServerApplicationContext.java:93) ~[spring-boot-3.0.4.jar:3.0.4] \tat org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.onRefresh(ReactiveWebServerApplicationContext.java:81) ~[spring-boot-3.0.4.jar:3.0.4] \t... 7 common frames omitted Caused by: java.lang.NoSuchFieldError: DECODE_SLASH \tat org.springframework.boot.autoconfigure.web.embedded.UndertowWebServerFactoryCustomizer.mapSlashProperties(UndertowWebServerFactoryCustomizer.java:121) ~[spring-boot-autoconfigure-3.0.4.jar:3.0.4] \tat org.springframework.boot.autoconfigure.web.embedded.UndertowWebServerFactoryCustomizer.mapUndertowProperties(UndertowWebServerFactoryCustomizer.java:105) ~[spring-boot-autoconfigure-3.0.4.jar:3.0.4] \tat org.springframework.boot.autoconfigure.web.embedded.UndertowWebServerFactoryCustomizer.customize(UndertowWebServerFactoryCustomizer.java:85) ~[spring-boot-autoconfigure-3.0.4.jar:3.0.4] \tat org.springframework.boot.autoconfigure.web.embedded.UndertowWebServerFactoryCustomizer.customize(UndertowWebServerFactoryCustomizer.java:59) ~[spring-boot-autoconfigure-3.0.4.jar:3.0.4] \tat `\r\n\r\nMy gradle.build\r\n\r\n```\r\n\r\next {\r\n    mockServerVersion = &#39;5.15.0&#39;\r\n    springBootVersion = &#39;3.0.4&#39;\r\n    junitJupiterVersion = &#39;5.9.2&#39;\r\n    projectreactorVersion = &#39;3.5.3&#39;\r\n    reactorKotlinVersion = &#39;1.2.1&#39;\r\n    junitJupiterVersion = &#39;5.9.2&#39;\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-actuator&#39;, version: springBootVersion\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-validation&#39;, version: springBootVersion\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-webflux&#39;, version: springBootVersion\r\n    implementation group: &#39;io.micrometer&#39;, name: &#39;micrometer-tracing-bridge-brave&#39;, version: &#39;1.0.2&#39;\r\n    implementation group: &#39;org.jetbrains.kotlin&#39;, name: &#39;kotlin-reflect&#39;, version: kotlinVersion\r\n    implementation group: &#39;io.projectreactor.kotlin&#39;, name: &#39;reactor-kotlin-extensions&#39;, version: reactorKotlinVersion\r\n    implementation group: &#39;io.springfox&#39;, name: &#39;springfox-boot-starter&#39;, version: swaggerSpringfoxVersion\r\n    implementation group: &#39;io.projectreactor&#39;, name: &#39;reactor-tools&#39;, version: projectreactorVersion\r\n\r\n    testImplementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-test&#39;, version: springBootVersion\r\n    testImplementation group: &#39;org.junit.jupiter&#39;, name: &#39;junit-jupiter-params&#39;, version: junitJupiterVersion\r\n    testImplementation group: &#39;org.mock-server&#39;, name: &#39;mockserver-spring-test-listener&#39;, version: mockServerVersion\r\n    testImplementation group: &#39;io.mockk&#39;, name: &#39;mockk&#39;, version: mockkVersion\r\n    testRuntimeOnly group: &#39;org.junit.jupiter&#39;, name: &#39;junit-jupiter-engine&#39;, version: junitJupiterVersion\r\n    testImplementation group: &#39;io.projectreactor&#39;, name: &#39;reactor-test&#39;, version: projectreactorVersion\r\n    testImplementation group: &#39;org.awaitility&#39;, name: &#39;awaitility&#39;, version: awaitilityVersion\r\n}\r\n```\r\n\r\nMaybe someone knows how to solve this problem. On spring-boot-starter-webflux 3.0.2 it worked","title":"Why app reactive(Webflux) don&#39;t runnig after migration to SpringBoot 3.0.4","body":"<p>App throws exception on startup after migrating to spring-boot-starter-webflux 3.0.3 in version 3.0.4 as well.</p>\n<p>Logs with start:</p>\n<p><code>yorg.springframework.context.ApplicationContextException: Unable to start reactive web server  at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.onRefresh(ReactiveWebServerApplicationContext.java:84) ~[spring-boot-3.0.4.jar:3.0.4]  at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:578) ~[spring-context-6.0.6.jar:6.0.6]    at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[spring-boot-3.0.4.jar:3.0.4]    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.4.jar:3.0.4]    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.4.jar:3.0.4]     at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.4.jar:3.0.4]    at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:150) ~[spring-boot-3.0.4.jar:3.0.4]  at pl.lhsystems.groupapp.service.profileinformation.ProfileInformationServiceApplication.main(ProfileInformationServiceApplication.java:29) ~[main/:na] Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'undertowReactiveWebServerFactory' defined in class path resource [org/springframework/boot/autoconfigure/web/reactive/ReactiveWebServerFactoryConfiguration$EmbeddedUndertow.class]: DECODE_SLASH    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606) ~[spring-beans-6.0.6.jar:6.0.6]   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.6.jar:6.0.6]     at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.6.jar:6.0.6]   at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.6.jar:6.0.6]   at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.6.jar:6.0.6]    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.0.6.jar:6.0.6]  at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.getWebServerFactory(ReactiveWebServerApplicationContext.java:121) ~[spring-boot-3.0.4.jar:3.0.4]   at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.createWebServer(ReactiveWebServerApplicationContext.java:93) ~[spring-boot-3.0.4.jar:3.0.4]    at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.onRefresh(ReactiveWebServerApplicationContext.java:81) ~[spring-boot-3.0.4.jar:3.0.4]  ... 7 common frames omitted Caused by: java.lang.NoSuchFieldError: DECODE_SLASH     at org.springframework.boot.autoconfigure.web.embedded.UndertowWebServerFactoryCustomizer.mapSlashProperties(UndertowWebServerFactoryCustomizer.java:121) ~[spring-boot-autoconfigure-3.0.4.jar:3.0.4]  at org.springframework.boot.autoconfigure.web.embedded.UndertowWebServerFactoryCustomizer.mapUndertowProperties(UndertowWebServerFactoryCustomizer.java:105) ~[spring-boot-autoconfigure-3.0.4.jar:3.0.4]   at org.springframework.boot.autoconfigure.web.embedded.UndertowWebServerFactoryCustomizer.customize(UndertowWebServerFactoryCustomizer.java:85) ~[spring-boot-autoconfigure-3.0.4.jar:3.0.4]    at org.springframework.boot.autoconfigure.web.embedded.UndertowWebServerFactoryCustomizer.customize(UndertowWebServerFactoryCustomizer.java:59) ~[spring-boot-autoconfigure-3.0.4.jar:3.0.4]    at </code></p>\n<p>My gradle.build</p>\n<pre><code>\next {\n    mockServerVersion = '5.15.0'\n    springBootVersion = '3.0.4'\n    junitJupiterVersion = '5.9.2'\n    projectreactorVersion = '3.5.3'\n    reactorKotlinVersion = '1.2.1'\n    junitJupiterVersion = '5.9.2'\n}\n\ndependencies {\n\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-actuator', version: springBootVersion\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-validation', version: springBootVersion\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-webflux', version: springBootVersion\n    implementation group: 'io.micrometer', name: 'micrometer-tracing-bridge-brave', version: '1.0.2'\n    implementation group: 'org.jetbrains.kotlin', name: 'kotlin-reflect', version: kotlinVersion\n    implementation group: 'io.projectreactor.kotlin', name: 'reactor-kotlin-extensions', version: reactorKotlinVersion\n    implementation group: 'io.springfox', name: 'springfox-boot-starter', version: swaggerSpringfoxVersion\n    implementation group: 'io.projectreactor', name: 'reactor-tools', version: projectreactorVersion\n\n    testImplementation group: 'org.springframework.boot', name: 'spring-boot-starter-test', version: springBootVersion\n    testImplementation group: 'org.junit.jupiter', name: 'junit-jupiter-params', version: junitJupiterVersion\n    testImplementation group: 'org.mock-server', name: 'mockserver-spring-test-listener', version: mockServerVersion\n    testImplementation group: 'io.mockk', name: 'mockk', version: mockkVersion\n    testRuntimeOnly group: 'org.junit.jupiter', name: 'junit-jupiter-engine', version: junitJupiterVersion\n    testImplementation group: 'io.projectreactor', name: 'reactor-test', version: projectreactorVersion\n    testImplementation group: 'org.awaitility', name: 'awaitility', version: awaitilityVersion\n}\n</code></pre>\n<p>Maybe someone knows how to solve this problem. On spring-boot-starter-webflux 3.0.2 it worked</p>\n"},{"tags":["java","multipartform-data","trello","quarkus-rest-client"],"answers":[{"tags":[],"owner":{"account_id":10029483,"reputation":31,"user_id":7416627,"display_name":"J. Reisner"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678186219,"creation_date":1678182264,"answer_id":75660270,"question_id":75659077,"body_markdown":"Got it to work by random...\r\n\r\nFor all who has similar problems, here&#39;s how I got it to work.\r\n\r\nCreate MultiDataFormOutput instance, fill it like this:\r\n\r\n\r\n```\r\n    byte[] buffer = getBufferFromFile();\r\n    String filename = &quot;MyFile.jpg&quot;;\r\n    MultipartFormDataOutput dataOutput = new MultipartFormDataOutput();\r\n    dataOutput.addFormData(&quot;mimeType&quot;, mimeType, MediaType.TEXT_PLAIN_TYPE);\r\n    dataOutput.addFormData(&quot;setCover&quot;, &quot;true&quot;, MediaType.TEXT_PLAIN_TYPE);\r\n    dataOutput.addFormData(&quot;name&quot;, filename, MediaType.TEXT_PLAIN_TYPE);\r\n    dataOutput.addFormData(&quot;file&quot;, buffer, MediaType.APPLICATION_OCTET_STREAM_TYPE, filename);\r\n\r\n```\r\n\r\nAt the client interface I did it this way:\r\n\r\n```\r\n    // Just for clarification\r\n    import javax.ws.rs.Consumes;\r\n    import javax.ws.rs.Produces;\r\n    import org.jboss.resteasy.annotations.providers.multipart.MultipartForm;\r\n    import org.jboss.resteasy.annotations.providers.multipart.PartType;\r\n    import jakarta.ws.rs.core.MediaType;\r\n    import org.jboss.resteasy.plugins.providers.multipart.MultipartFormDataOutput;\r\n\r\n    @Path(ADD_ATTACHMENT_CARD_URL)\r\n    @POST\r\n    @Consumes(MediaType.MULTIPART_FORM_DATA)\r\n    @ClientHeaderParam(name = &quot;Accept&quot;, value = MediaType.APPLICATION_JSON)\r\n    @ClientHeaderParam(name = &quot;User-Agent&quot;, value = &quot;FawnKeeper&quot;)\r\n    public void setCover(@QueryParam(&quot;key&quot;) String key, @QueryParam(&quot;token&quot;) String token, @PathParam(&quot;id&quot;) String id, @MultipartForm MultipartFormDataOutput file);\r\n\r\n```\r\n\r\nI tried this several times before, but did not work. The body contained always just the string representation of &quot;file&quot; - the MultipartFormDataOutput object.\r\n\r\nTo get this working with Quarkus rest client reactive, an additional configuration is needed at application.properties/yaml:\r\n\r\n```\r\nquarkus.index-dependency.resteasy-multipart.group-id=org.jboss.resteasy\r\nquarkus.index-dependency.resteasy-multipart.artifact-id=resteasy-multipart-provider\r\n\r\n```\r\n\r\nThis is the main difference from classic rest client to reactive rest client for getting multipart to work.\r\n\r\nHope this helps someone!","title":"Sending multipart/form-data with binary file with Quarkus REST client to Trello (API)","body":"<p>Got it to work by random...</p>\n<p>For all who has similar problems, here's how I got it to work.</p>\n<p>Create MultiDataFormOutput instance, fill it like this:</p>\n<pre><code>    byte[] buffer = getBufferFromFile();\n    String filename = &quot;MyFile.jpg&quot;;\n    MultipartFormDataOutput dataOutput = new MultipartFormDataOutput();\n    dataOutput.addFormData(&quot;mimeType&quot;, mimeType, MediaType.TEXT_PLAIN_TYPE);\n    dataOutput.addFormData(&quot;setCover&quot;, &quot;true&quot;, MediaType.TEXT_PLAIN_TYPE);\n    dataOutput.addFormData(&quot;name&quot;, filename, MediaType.TEXT_PLAIN_TYPE);\n    dataOutput.addFormData(&quot;file&quot;, buffer, MediaType.APPLICATION_OCTET_STREAM_TYPE, filename);\n\n</code></pre>\n<p>At the client interface I did it this way:</p>\n<pre><code>    // Just for clarification\n    import javax.ws.rs.Consumes;\n    import javax.ws.rs.Produces;\n    import org.jboss.resteasy.annotations.providers.multipart.MultipartForm;\n    import org.jboss.resteasy.annotations.providers.multipart.PartType;\n    import jakarta.ws.rs.core.MediaType;\n    import org.jboss.resteasy.plugins.providers.multipart.MultipartFormDataOutput;\n\n    @Path(ADD_ATTACHMENT_CARD_URL)\n    @POST\n    @Consumes(MediaType.MULTIPART_FORM_DATA)\n    @ClientHeaderParam(name = &quot;Accept&quot;, value = MediaType.APPLICATION_JSON)\n    @ClientHeaderParam(name = &quot;User-Agent&quot;, value = &quot;FawnKeeper&quot;)\n    public void setCover(@QueryParam(&quot;key&quot;) String key, @QueryParam(&quot;token&quot;) String token, @PathParam(&quot;id&quot;) String id, @MultipartForm MultipartFormDataOutput file);\n\n</code></pre>\n<p>I tried this several times before, but did not work. The body contained always just the string representation of &quot;file&quot; - the MultipartFormDataOutput object.</p>\n<p>To get this working with Quarkus rest client reactive, an additional configuration is needed at application.properties/yaml:</p>\n<pre><code>quarkus.index-dependency.resteasy-multipart.group-id=org.jboss.resteasy\nquarkus.index-dependency.resteasy-multipart.artifact-id=resteasy-multipart-provider\n\n</code></pre>\n<p>This is the main difference from classic rest client to reactive rest client for getting multipart to work.</p>\n<p>Hope this helps someone!</p>\n"}],"owner":{"account_id":10029483,"reputation":31,"user_id":7416627,"display_name":"J. Reisner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1298,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75660270,"answer_count":1,"score":1,"last_activity_date":1678186219,"creation_date":1678174223,"question_id":75659077,"body_markdown":"I&#39;m trying to update an old Java software and port it to Quarkus with RESTEASY / Reactive / Microprofile, which adds an image to a card at Trello (Trello doc: [Create attachment at card](https://developer.atlassian.com/cloud/trello/rest/api-group-cards/#api-cards-id-attachments-post). Please note: The documentation has some lacks and cannot be taken as fully &quot;true&quot;). For this I have to send a multipart/form-data with some properties (name, filename, mimeType, setCover and binary file). The big point: Sending the file as BINARY.\r\n\r\nMy old software worked properly:\r\n\r\n\r\n```\r\n        String name = &quot;Cover.jpg&quot;;\r\n        File tempImage = new File(name);\r\n        try {\r\n        \r\n            Client client = ClientBuilder.newClient(new ClientConfig())\r\n                    .register(MultiPartFeature.class);\r\n\r\n            String mime = &quot;image/jpg&quot;;\r\n\r\n            byte[] buffer = Files.readAllBytes(Paths.get(&quot;/PATH/&quot; + name));\r\n\r\n            // Save temporary\r\n            FileOutputStream fos = new FileOutputStream(tempImage);\r\n            fos.write(buffer);\r\n            fos.flush();\r\n            fos.close();\r\n\r\n            FileDataBodyPart filePart = new FileDataBodyPart(&quot;file&quot;, tempImage);\r\n\r\n            FormDataMultiPart formDataMultiPart = new FormDataMultiPart();\r\n            final FormDataMultiPart multipart = (FormDataMultiPart) formDataMultiPart\r\n                    .field(&quot;mimeType&quot;, mime)\r\n                    .field(&quot;setCover&quot;, &quot;true&quot;).field(&quot;name&quot;, name).bodyPart(filePart);\r\n\r\n\r\n            // Add Cover\r\n            WebTarget coverService = client.target(URI.create(&quot;https://api.trello.com/1/cards/CARD_ID/attachments&quot;));\r\n            String coverResponse = coverService.queryParam(&quot;key&quot;, &quot;KEY&quot;).queryParam(&quot;token&quot;, &quot;TOKEN&quot;).request()\r\n                    .header(&quot;Accept&quot;, &quot;application/json&quot;)\r\n                    .post(Entity.entity(multipart, multipart.getMediaType()), String.class);\r\n```\r\n\r\nWhich produces something like that: \r\n\r\n\r\n```\r\n1 * Sending client request on thread main\r\n1 &gt; POST https://api.trello.com/1/cards/CARD_ID/attachments?key=KEY&amp;token=TOKEN\r\n1 &gt; Accept: application/json\r\n1 &gt; Content-Type: multipart/form-data\r\n--Boundary_1_2089589253_1678121120116\r\nContent-Type: text/plain\r\nContent-Disposition: form-data; name=&quot;mimeType&quot;\r\n\r\nimage/jpg\r\n--Boundary_1_2089589253_1678121120116\r\nContent-Type: text/plain\r\nContent-Disposition: form-data; name=&quot;setCover&quot;\r\n\r\ntrue\r\n--Boundary_1_2089589253_1678121120116\r\nContent-Type: text/plain\r\nContent-Disposition: form-data; name=&quot;name&quot;\r\n\r\nCover.jpg\r\n--Boundary_1_2089589253_1678121120116\r\nContent-Type: image/jpeg\r\nContent-Disposition: form-data; filename=&quot;Cover.jpg&quot;; modification-date=&quot;Mon, 06 Mar 2023 16:45:19 GMT&quot;; size=105034; name=&quot;file&quot;\r\n\r\n&lt;BINARY! content&gt;\r\n--Boundary_1_2089589253_1678121120116--\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI tried many things, including the docs for multipart at quarkus.io. The main point of the doc:\r\n\r\n\r\n```\r\n@POST\r\n    @Consumes(MediaType.MULTIPART_FORM_DATA)\r\n    @Produces(MediaType.TEXT_PLAIN)\r\n    String sendMultipartData(@MultipartForm MultipartBody data);\r\n```\r\n\r\nAlso I tried nearly everything I found at the internet, but nothing works. The problem is most of the time: The content of the file is not sent as binary, instead as Base64.\r\n\r\nSo how can I send multipart with a binary content exactly like with the &quot;old&quot; way, but with Quarkus? I&#39;m trying for weeks now and am really frustrated.\r\n\r\nHere is the last code I tried:\r\n\r\n\r\n```\r\n    @Path(ADD_ATTACHMENT_CARD_URL)\r\n    @POST\r\n    @javax.ws.rs.Consumes(MediaType.MULTIPART_FORM_DATA)\r\n    @Consumes(MediaType.MULTIPART_FORM_DATA)\r\n    @ClientHeaderParam(name = &quot;Accept&quot;, value = MediaType.APPLICATION_JSON)\r\n    @ClientHeaderParam(name = &quot;User-Agent&quot;, value = &quot;FawnKeeper&quot;)\r\n    public void setCover(@QueryParam(&quot;key&quot;) String key, @QueryParam(&quot;token&quot;) String token, @PathParam(&quot;id&quot;) String id,@MultipartForm MultipartBody file);\r\n```\r\n\r\nWhere MultipartBody is something like this (changed it a lot, first try was with InputStream like at Quarkus docs, but resulted in something like &quot;Did not find converter to convert to String...&quot;):\r\n\r\nPlease note: I tried first with Annotation @FormParam on every member, but did not work (&quot;Converter...&quot;).\r\n\r\n```\r\npublic class MultipartBody implements Serializable {\r\n\r\n    @PartType(MediaType.TEXT_PLAIN)\r\n    public String mimeType = &quot;image/jpg&quot;;\r\n\r\n    @PartType(MediaType.TEXT_PLAIN)\r\n    public String setCover = &quot;false&quot;;\r\n\r\n    @PartType(MediaType.TEXT_PLAIN)\r\n    public String name = &quot;Cover.jpg&quot;;\r\n\r\n\r\n    @PartType(&quot;image/jpeg&quot;)\r\n    public File file;\r\n\r\n}\r\n```\r\nI also tried with vertx client, but had no luck... \r\n\r\nPlease note: I&#39;m not able to use the old code because of conflicting dependencies.\r\n\r\nI&#39;m really happy if someone can point me to the right direction or had done this before with Trello. Thank you for your time!","title":"Sending multipart/form-data with binary file with Quarkus REST client to Trello (API)","body":"<p>I'm trying to update an old Java software and port it to Quarkus with RESTEASY / Reactive / Microprofile, which adds an image to a card at Trello (Trello doc: <a href=\"https://developer.atlassian.com/cloud/trello/rest/api-group-cards/#api-cards-id-attachments-post\" rel=\"nofollow noreferrer\">Create attachment at card</a>. Please note: The documentation has some lacks and cannot be taken as fully &quot;true&quot;). For this I have to send a multipart/form-data with some properties (name, filename, mimeType, setCover and binary file). The big point: Sending the file as BINARY.</p>\n<p>My old software worked properly:</p>\n<pre><code>        String name = &quot;Cover.jpg&quot;;\n        File tempImage = new File(name);\n        try {\n        \n            Client client = ClientBuilder.newClient(new ClientConfig())\n                    .register(MultiPartFeature.class);\n\n            String mime = &quot;image/jpg&quot;;\n\n            byte[] buffer = Files.readAllBytes(Paths.get(&quot;/PATH/&quot; + name));\n\n            // Save temporary\n            FileOutputStream fos = new FileOutputStream(tempImage);\n            fos.write(buffer);\n            fos.flush();\n            fos.close();\n\n            FileDataBodyPart filePart = new FileDataBodyPart(&quot;file&quot;, tempImage);\n\n            FormDataMultiPart formDataMultiPart = new FormDataMultiPart();\n            final FormDataMultiPart multipart = (FormDataMultiPart) formDataMultiPart\n                    .field(&quot;mimeType&quot;, mime)\n                    .field(&quot;setCover&quot;, &quot;true&quot;).field(&quot;name&quot;, name).bodyPart(filePart);\n\n\n            // Add Cover\n            WebTarget coverService = client.target(URI.create(&quot;https://api.trello.com/1/cards/CARD_ID/attachments&quot;));\n            String coverResponse = coverService.queryParam(&quot;key&quot;, &quot;KEY&quot;).queryParam(&quot;token&quot;, &quot;TOKEN&quot;).request()\n                    .header(&quot;Accept&quot;, &quot;application/json&quot;)\n                    .post(Entity.entity(multipart, multipart.getMediaType()), String.class);\n</code></pre>\n<p>Which produces something like that:</p>\n<pre><code>1 * Sending client request on thread main\n1 &gt; POST https://api.trello.com/1/cards/CARD_ID/attachments?key=KEY&amp;token=TOKEN\n1 &gt; Accept: application/json\n1 &gt; Content-Type: multipart/form-data\n--Boundary_1_2089589253_1678121120116\nContent-Type: text/plain\nContent-Disposition: form-data; name=&quot;mimeType&quot;\n\nimage/jpg\n--Boundary_1_2089589253_1678121120116\nContent-Type: text/plain\nContent-Disposition: form-data; name=&quot;setCover&quot;\n\ntrue\n--Boundary_1_2089589253_1678121120116\nContent-Type: text/plain\nContent-Disposition: form-data; name=&quot;name&quot;\n\nCover.jpg\n--Boundary_1_2089589253_1678121120116\nContent-Type: image/jpeg\nContent-Disposition: form-data; filename=&quot;Cover.jpg&quot;; modification-date=&quot;Mon, 06 Mar 2023 16:45:19 GMT&quot;; size=105034; name=&quot;file&quot;\n\n&lt;BINARY! content&gt;\n--Boundary_1_2089589253_1678121120116--\n</code></pre>\n<p>I tried many things, including the docs for multipart at quarkus.io. The main point of the doc:</p>\n<pre><code>@POST\n    @Consumes(MediaType.MULTIPART_FORM_DATA)\n    @Produces(MediaType.TEXT_PLAIN)\n    String sendMultipartData(@MultipartForm MultipartBody data);\n</code></pre>\n<p>Also I tried nearly everything I found at the internet, but nothing works. The problem is most of the time: The content of the file is not sent as binary, instead as Base64.</p>\n<p>So how can I send multipart with a binary content exactly like with the &quot;old&quot; way, but with Quarkus? I'm trying for weeks now and am really frustrated.</p>\n<p>Here is the last code I tried:</p>\n<pre><code>    @Path(ADD_ATTACHMENT_CARD_URL)\n    @POST\n    @javax.ws.rs.Consumes(MediaType.MULTIPART_FORM_DATA)\n    @Consumes(MediaType.MULTIPART_FORM_DATA)\n    @ClientHeaderParam(name = &quot;Accept&quot;, value = MediaType.APPLICATION_JSON)\n    @ClientHeaderParam(name = &quot;User-Agent&quot;, value = &quot;FawnKeeper&quot;)\n    public void setCover(@QueryParam(&quot;key&quot;) String key, @QueryParam(&quot;token&quot;) String token, @PathParam(&quot;id&quot;) String id,@MultipartForm MultipartBody file);\n</code></pre>\n<p>Where MultipartBody is something like this (changed it a lot, first try was with InputStream like at Quarkus docs, but resulted in something like &quot;Did not find converter to convert to String...&quot;):</p>\n<p>Please note: I tried first with Annotation @FormParam on every member, but did not work (&quot;Converter...&quot;).</p>\n<pre><code>public class MultipartBody implements Serializable {\n\n    @PartType(MediaType.TEXT_PLAIN)\n    public String mimeType = &quot;image/jpg&quot;;\n\n    @PartType(MediaType.TEXT_PLAIN)\n    public String setCover = &quot;false&quot;;\n\n    @PartType(MediaType.TEXT_PLAIN)\n    public String name = &quot;Cover.jpg&quot;;\n\n\n    @PartType(&quot;image/jpeg&quot;)\n    public File file;\n\n}\n</code></pre>\n<p>I also tried with vertx client, but had no luck...</p>\n<p>Please note: I'm not able to use the old code because of conflicting dependencies.</p>\n<p>I'm really happy if someone can point me to the right direction or had done this before with Trello. Thank you for your time!</p>\n"},{"tags":["java","amazon-ecs"],"answers":[{"tags":[],"owner":{"account_id":3803644,"reputation":1290,"user_id":3156607,"display_name":"Dennis Kieselhorst"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678185726,"creation_date":1678185726,"answer_id":75660939,"question_id":74947827,"body_markdown":"You can leverage the `-XX:OnOutOfMemoryError` JVM param to run a command in this case (e.g. use a `aws s3` CLI call to move the heapdump to an S3 bucket).","title":"How to output Java HeapDump to persistent storage with ECS on Fargate 1.3.0","body":"<p>You can leverage the <code>-XX:OnOutOfMemoryError</code> JVM param to run a command in this case (e.g. use a <code>aws s3</code> CLI call to move the heapdump to an S3 bucket).</p>\n"}],"owner":{"account_id":26722059,"reputation":405,"user_id":20325718,"display_name":"YutaSaito"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75660939,"answer_count":1,"score":0,"last_activity_date":1678185726,"creation_date":1672294197,"question_id":74947827,"body_markdown":"I am using Fargate1.3.0 to run Java17+SpringBoot2.7 applications.\r\nPlease let me know how to output HeapDump to persistent storage such as s3 when OutOfMemoryError occurs.\r\nI think EFS can be used with ECS on Fargate 1.4.0, but for some reason I can&#39;t upgrade the version.\r\n\r\nI tried outputting with FluentBit running on the sidecar, but I couldn&#39;t output the file.\r\nPlease let me know if there are any errors in the settings.\r\nPlease let me know if there is any other better way.\r\n\r\nfluentbit conf\r\n\r\n```\r\n[INPUT]\r\n    Name tail\r\n    Path /logs/*\r\n    Pefresh_Interfal 5\r\n    Tag  jvmlogs\r\n\r\n[OUTPUT]\r\n    Name firehose\r\n    Match jvmlogs\r\n    regsion ap-northeast-1\r\n    delivery_strysteam XXX\r\n```\r\n","title":"How to output Java HeapDump to persistent storage with ECS on Fargate 1.3.0","body":"<p>I am using Fargate1.3.0 to run Java17+SpringBoot2.7 applications.\nPlease let me know how to output HeapDump to persistent storage such as s3 when OutOfMemoryError occurs.\nI think EFS can be used with ECS on Fargate 1.4.0, but for some reason I can't upgrade the version.</p>\n<p>I tried outputting with FluentBit running on the sidecar, but I couldn't output the file.\nPlease let me know if there are any errors in the settings.\nPlease let me know if there is any other better way.</p>\n<p>fluentbit conf</p>\n<pre><code>[INPUT]\n    Name tail\n    Path /logs/*\n    Pefresh_Interfal 5\n    Tag  jvmlogs\n\n[OUTPUT]\n    Name firehose\n    Match jvmlogs\n    regsion ap-northeast-1\n    delivery_strysteam XXX\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","h2"],"answers":[{"comments":[{"owner":{"account_id":5844270,"reputation":318,"user_id":4604830,"display_name":"Marcus"},"score":3,"creation_date":1646978196,"post_id":66333222,"comment_id":126261638,"body_markdown":"After looking for a whole day why my table is not created with Hibernate in the H2 database I found this answer. You are awesome! @sternk    \n  Adding those ` at my column name `key` finally did the trick.  \nThe issue appeared with upgrading to Spring Boot 2.5 and H2 2.1.210 and worked fine previously.","body":"After looking for a whole day why my table is not created with Hibernate in the H2 database I found this answer. You are awesome! @sternk       Adding those ` at my column name <code>key</code> finally did the trick.   The issue appeared with upgrading to Spring Boot 2.5 and H2 2.1.210 and worked fine previously."},{"owner":{"account_id":9749460,"reputation":683,"user_id":7228218,"display_name":"Islam Hassan"},"score":4,"creation_date":1654454835,"post_id":66333222,"comment_id":128089748,"body_markdown":"I had the same problem because of another reserved keyword, a table called `user`.","body":"I had the same problem because of another reserved keyword, a table called <code>user</code>."},{"owner":{"account_id":2666865,"reputation":141,"user_id":2305108,"accept_rate":76,"display_name":"shadow0wolf"},"score":3,"creation_date":1655557574,"post_id":66333222,"comment_id":128362883,"body_markdown":"this is applicable to table names as well , &quot;User&quot; is a reserved keywork in H2 DB , i resolved the same exception during spring boot project startup it in the same way as described in the answer.","body":"this is applicable to table names as well , &quot;User&quot; is a reserved keywork in H2 DB , i resolved the same exception during spring boot project startup it in the same way as described in the answer."},{"owner":{"account_id":19196094,"reputation":474,"user_id":14024740,"display_name":"AussieDev81"},"score":0,"creation_date":1655873627,"post_id":66333222,"comment_id":128431948,"body_markdown":"I also had the same issue dealing with a vehicle database, it did not like the `year` attribute &#129318;","body":"I also had the same issue dealing with a vehicle database, it did not like the <code>year</code> attribute "}],"tags":[],"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"comment_count":4,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1614083702,"creation_date":1614083702,"answer_id":66333222,"question_id":66333101,"body_markdown":"Try to correct this:\r\n\r\n``` java\r\n@Column(name=&quot;OFFSET&quot;)\r\nprivate Long offset;\r\n```\r\n\r\nto\r\n\r\n``` java\r\n@Column(name=&quot;`OFFSET`&quot;)\r\nprivate Long offset;\r\n```\r\n\r\nAs `OFFSET` is [reserved keyword](http://www.h2database.com/html/advanced.html#keywords) you should force Hibernate to quote an identifier in the generated SQL by enclosing the column name in backticks in the mapping document. See [this section](https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#mapping-quoted-identifiers) of hibernate documentation.","title":"How to fix org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement expected &quot;identifier&quot;","body":"<p>Try to correct this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Column(name=&quot;OFFSET&quot;)\nprivate Long offset;\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Column(name=&quot;`OFFSET`&quot;)\nprivate Long offset;\n</code></pre>\n<p>As <code>OFFSET</code> is <a href=\"http://www.h2database.com/html/advanced.html#keywords\" rel=\"noreferrer\">reserved keyword</a> you should force Hibernate to quote an identifier in the generated SQL by enclosing the column name in backticks in the mapping document. See <a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#mapping-quoted-identifiers\" rel=\"noreferrer\">this section</a> of hibernate documentation.</p>\n"},{"tags":[],"owner":{"account_id":27491171,"reputation":11,"user_id":20976512,"display_name":"Haritha koritala"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673856630,"creation_date":1673372648,"answer_id":75073889,"question_id":66333101,"body_markdown":"I faced this same but none of the solutions worked, but if i did the below it worked fine.\r\n\r\nUpdated the dialect from &quot; `spring.jpa.database-platform=org.hibernate.dialect.H2Dialect`&quot;  \r\n\r\nto &quot;`spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect`&quot;\r\n\r\n","title":"How to fix org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement expected &quot;identifier&quot;","body":"<p>I faced this same but none of the solutions worked, but if i did the below it worked fine.</p>\n<p>Updated the dialect from &quot; <code>spring.jpa.database-platform=org.hibernate.dialect.H2Dialect</code>&quot;</p>\n<p>to &quot;<code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect</code>&quot;</p>\n"},{"tags":[],"owner":{"account_id":27954917,"reputation":1,"user_id":21347949,"display_name":"Rishav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678185371,"creation_date":1678185273,"answer_id":75660841,"question_id":66333101,"body_markdown":"Apart from the accepted answer, I want to highlight an alternate way. \r\n\r\nWe can add &quot;NON_KEYWORDS=OFFSET&quot; in the spring.datasource.url property in properties file.\r\n\r\nThis works for the reserved keywords used as column name but also in table name. Like, User table name. ","title":"How to fix org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement expected &quot;identifier&quot;","body":"<p>Apart from the accepted answer, I want to highlight an alternate way.</p>\n<p>We can add &quot;NON_KEYWORDS=OFFSET&quot; in the spring.datasource.url property in properties file.</p>\n<p>This works for the reserved keywords used as column name but also in table name. Like, User table name.</p>\n"}],"owner":{"account_id":4268226,"reputation":135,"user_id":3490793,"display_name":"maker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33583,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":66333222,"answer_count":3,"score":11,"last_activity_date":1678185371,"creation_date":1614083273,"question_id":66333101,"body_markdown":"I am using H2 in-memory database for my springboot application. Where I have enabled `hibernate.ddl-auto`. I am getting below exception while hibernate is creating a schema \r\n\r\n```\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException:\r\nSyntax error in SQL statement &quot;CREATE TABLE PRODUCT_OFFSET_INFO (ID BIGINT NOT NULL, MODIFIED_TIMESTAMP TIMESTAMP, OFFSET[*] BIGINT, TOPIC_NAME VARCHAR(255), PRIMARY KEY (ID))&quot;; expected &quot;identifier&quot;; SQL statement:\r\ncreate table PRODUCT_OFFSET_INFO (ID bigint not null, MODIFIED_TIMESTAMP timestamp, OFFSET bigint, TOPIC_NAME varchar(255), primary key (ID)) [42001-200]\r\n&#39;&#39;&#39;\r\n```\r\n\r\n\r\nBelow is the Entity class:\r\n\r\n``` java\r\n@Entity\r\n@Table(name=&quot;PRODUCT_OFFSET_INFO&quot;)\r\npublic class ProductOffsetInfo implements Serializable\r\n{\r\n   private static final long serialVersionUID = -2147468513335906679L;\r\n    \r\n   @Id\r\n   @Column(name=&quot;ID&quot;)\r\n   private Long ProductId;\r\n    \r\n   @Column(name=&quot;TOPIC_NAME&quot;)\r\n   private String topic_name;\r\n    \r\n   @Column(name=&quot;OFFSET&quot;)\r\n   private Long offset;\r\n    \r\n   @Column(name = &quot;MODIFIED_TIMESTAMP&quot;)\r\n   private Date modified;\r\n    \r\n   public Long getProductId() {\r\n       return ProductId;\r\n   }\r\n   public void setProductId(Long ProductId) {\r\n       this.ProductId = ProductId;\r\n   }\r\n    \r\n   public String getTopic_name() {\r\n       return topic_name;\r\n   }\r\n   public void setTopic_name(String topic_name) {\r\n       this.topic_name = topic_name;\r\n   }\r\n    \r\n   public Long getOffset() {\r\n       return offset;\r\n   }\r\n   public void setOffset(Long offset) {\r\n       this.offset = offset;\r\n   }\r\n    \r\n   public Date getModified() {\r\n       return modified;\r\n   }\r\n    \r\n   public void setModified(Date modified) {\r\n       this.modified = modified;\r\n   }\r\n}\r\n```\r\n\r\nBelow is the database config file:\r\n\r\n``` java\r\n@Configuration\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(\r\n    entityManagerFactoryRef = &quot;productEntityManagerFactory&quot;,\r\n    transactionManagerRef = &quot;productTransactionManager&quot;,\r\n    basePackages = {&quot;com.product.repository.product&quot;}\r\n)\r\n@ComponentScan({&quot;com.product.repository.product.impl&quot;})\r\n@EntityScan({&quot;com.product.commons.entities.product.models&quot;,&quot;com.product.models.product&quot;})\r\npublic class ProductDbConfig {\r\n\r\n        @Autowired\r\n        private JpaProperties jpaProperties;\r\n        @Primary\r\n        @Bean(&quot;productHikariConfig&quot;)\r\n        @ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\r\n        public HikariConfig hikariConfig() {\r\n            return new HikariConfig();\r\n        }\r\n    \r\n        @Primary\r\n        @Bean(name = &quot;productDataSource&quot;)\r\n        @DependsOn(&quot;productHikariConfig&quot;)\r\n        public DataSource dataSource(@Qualifier(&quot;productHikariConfig&quot;) HikariConfig hikariConfig) {\r\n            return new HikariDataSource(hikariConfig);\r\n        }\r\n    \r\n        @Primary\r\n        @Bean(name = &quot;productEntityManagerFactory&quot;)\r\n        @PersistenceContext(unitName = &quot;product&quot;)\r\n        public LocalContainerEntityManagerFactoryBean entityManagerFactory(\r\n                EntityManagerFactoryBuilder builder, @Qualifier(&quot;productDataSource&quot;) DataSource datasource) {\r\n            return builder\r\n                    .dataSource(datasource).properties(jpaProperties.getProperties())\r\n                    .packages(&quot;com.product.commons.entities.product.models&quot;,&quot;com.product.models.product&quot;)\r\n                    .persistenceUnit(&quot;product&quot;)\r\n                    .build();\r\n        }\r\n    \r\n        @Primary\r\n        @Bean(name = &quot;productTransactionManager&quot;)\r\n        public PlatformTransactionManager transactionManager(\r\n                @Qualifier(&quot;productEntityManagerFactory&quot;) EntityManagerFactory entityManagerFactory) {\r\n            return new JpaTransactionManager(entityManagerFactory);\r\n        }\r\n    }\r\n```\r\n\r\nBelow is the `application.yml` content for DB\r\n\r\n```\r\n    spring:\r\n      profiles: mock\r\n      jpa:\r\n        database-platform: org.hibernate.dialect.H2Dialect\r\n        generate-ddl: true\r\n        hibernate:\r\n          ddl-auto: create\r\n      datasource:\r\n        jdbcUrl: jdbc:h2:mem:PRODUCT\r\n        driver-class-name: org.h2.Driver\r\n        maximumPoolSize: 10\r\n        minimumIdle: 5\r\n        idleTimeout: 60000\r\n        maxLifetime: 120000\r\n        leakDetectionThreshold: 180000\r\n        poolName: &quot;product&quot;\r\n\r\n```","title":"How to fix org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement expected &quot;identifier&quot;","body":"<p>I am using H2 in-memory database for my springboot application. Where I have enabled <code>hibernate.ddl-auto</code>. I am getting below exception while hibernate is creating a schema</p>\n<pre><code>Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException:\nSyntax error in SQL statement &quot;CREATE TABLE PRODUCT_OFFSET_INFO (ID BIGINT NOT NULL, MODIFIED_TIMESTAMP TIMESTAMP, OFFSET[*] BIGINT, TOPIC_NAME VARCHAR(255), PRIMARY KEY (ID))&quot;; expected &quot;identifier&quot;; SQL statement:\ncreate table PRODUCT_OFFSET_INFO (ID bigint not null, MODIFIED_TIMESTAMP timestamp, OFFSET bigint, TOPIC_NAME varchar(255), primary key (ID)) [42001-200]\n'''\n</code></pre>\n<p>Below is the Entity class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name=&quot;PRODUCT_OFFSET_INFO&quot;)\npublic class ProductOffsetInfo implements Serializable\n{\n   private static final long serialVersionUID = -2147468513335906679L;\n    \n   @Id\n   @Column(name=&quot;ID&quot;)\n   private Long ProductId;\n    \n   @Column(name=&quot;TOPIC_NAME&quot;)\n   private String topic_name;\n    \n   @Column(name=&quot;OFFSET&quot;)\n   private Long offset;\n    \n   @Column(name = &quot;MODIFIED_TIMESTAMP&quot;)\n   private Date modified;\n    \n   public Long getProductId() {\n       return ProductId;\n   }\n   public void setProductId(Long ProductId) {\n       this.ProductId = ProductId;\n   }\n    \n   public String getTopic_name() {\n       return topic_name;\n   }\n   public void setTopic_name(String topic_name) {\n       this.topic_name = topic_name;\n   }\n    \n   public Long getOffset() {\n       return offset;\n   }\n   public void setOffset(Long offset) {\n       this.offset = offset;\n   }\n    \n   public Date getModified() {\n       return modified;\n   }\n    \n   public void setModified(Date modified) {\n       this.modified = modified;\n   }\n}\n</code></pre>\n<p>Below is the database config file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(\n    entityManagerFactoryRef = &quot;productEntityManagerFactory&quot;,\n    transactionManagerRef = &quot;productTransactionManager&quot;,\n    basePackages = {&quot;com.product.repository.product&quot;}\n)\n@ComponentScan({&quot;com.product.repository.product.impl&quot;})\n@EntityScan({&quot;com.product.commons.entities.product.models&quot;,&quot;com.product.models.product&quot;})\npublic class ProductDbConfig {\n\n        @Autowired\n        private JpaProperties jpaProperties;\n        @Primary\n        @Bean(&quot;productHikariConfig&quot;)\n        @ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\n        public HikariConfig hikariConfig() {\n            return new HikariConfig();\n        }\n    \n        @Primary\n        @Bean(name = &quot;productDataSource&quot;)\n        @DependsOn(&quot;productHikariConfig&quot;)\n        public DataSource dataSource(@Qualifier(&quot;productHikariConfig&quot;) HikariConfig hikariConfig) {\n            return new HikariDataSource(hikariConfig);\n        }\n    \n        @Primary\n        @Bean(name = &quot;productEntityManagerFactory&quot;)\n        @PersistenceContext(unitName = &quot;product&quot;)\n        public LocalContainerEntityManagerFactoryBean entityManagerFactory(\n                EntityManagerFactoryBuilder builder, @Qualifier(&quot;productDataSource&quot;) DataSource datasource) {\n            return builder\n                    .dataSource(datasource).properties(jpaProperties.getProperties())\n                    .packages(&quot;com.product.commons.entities.product.models&quot;,&quot;com.product.models.product&quot;)\n                    .persistenceUnit(&quot;product&quot;)\n                    .build();\n        }\n    \n        @Primary\n        @Bean(name = &quot;productTransactionManager&quot;)\n        public PlatformTransactionManager transactionManager(\n                @Qualifier(&quot;productEntityManagerFactory&quot;) EntityManagerFactory entityManagerFactory) {\n            return new JpaTransactionManager(entityManagerFactory);\n        }\n    }\n</code></pre>\n<p>Below is the <code>application.yml</code> content for DB</p>\n<pre><code>    spring:\n      profiles: mock\n      jpa:\n        database-platform: org.hibernate.dialect.H2Dialect\n        generate-ddl: true\n        hibernate:\n          ddl-auto: create\n      datasource:\n        jdbcUrl: jdbc:h2:mem:PRODUCT\n        driver-class-name: org.h2.Driver\n        maximumPoolSize: 10\n        minimumIdle: 5\n        idleTimeout: 60000\n        maxLifetime: 120000\n        leakDetectionThreshold: 180000\n        poolName: &quot;product&quot;\n\n</code></pre>\n"},{"tags":["java","c","fork"],"comments":[{"owner":{"account_id":9606,"reputation":19644,"user_id":17826,"display_name":"Mark Bessey"},"score":1,"creation_date":1226598988,"post_id":287633,"comment_id":10581870,"body_markdown":"Maybe you could go into greater detail about what you&#39;re trying to accomplish? As mentioned, you can exec() another process, which could be another instance of the JVM, but that doesn&#39;t give you the same state-sharing as fork() does in C. On the other hand, you can run threads, but there you get more sharing than you would with fork().","body":"Maybe you could go into greater detail about what you&#39;re trying to accomplish? As mentioned, you can exec() another process, which could be another instance of the JVM, but that doesn&#39;t give you the same state-sharing as fork() does in C. On the other hand, you can run threads, but there you get more sharing than you would with fork()."},{"owner":{"account_id":14170,"reputation":4301,"user_id":28921,"accept_rate":86,"display_name":"sakana"},"score":0,"creation_date":1226670138,"post_id":287633,"comment_id":10581871,"body_markdown":"I simply want to avoid the sharing that thread implies. Thks for your concern :)","body":"I simply want to avoid the sharing that thread implies. Thks for your concern :)"}],"answers":[{"comments":[{"owner":{"account_id":23933,"reputation":7284,"user_id":60462,"accept_rate":71,"display_name":"Volker Stolz"},"score":2,"creation_date":1349769093,"post_id":287661,"comment_id":17300260,"body_markdown":"Those just refer to `Runtime.exec()`, which is WAY different from being able to explicitly control the child after a `fork()`.","body":"Those just refer to <code>Runtime.exec()</code>, which is WAY different from being able to explicitly control the child after a <code>fork()</code>."},{"owner":{"account_id":278533,"reputation":2635,"user_id":573167,"accept_rate":62,"display_name":"Jatin Kumar"},"score":0,"creation_date":1434608311,"post_id":287661,"comment_id":49853480,"body_markdown":"Can you please update the answer and fix the link for ProcessBuilder?","body":"Can you please update the answer and fix the link for ProcessBuilder?"},{"owner":{"account_id":1034461,"reputation":4779,"user_id":1042124,"accept_rate":70,"display_name":"Rahul"},"score":1,"creation_date":1525947226,"post_id":287661,"comment_id":87558259,"body_markdown":"link is dead :(","body":"link is dead :("},{"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"score":0,"creation_date":1526034187,"post_id":287661,"comment_id":87596398,"body_markdown":"This is an old answer, but if you still want to get the information, use the Wayback Machine to reach these old articles. Or search for newer ones?","body":"This is an old answer, but if you still want to get the information, use the Wayback Machine to reach these old articles. Or search for newer ones?"}],"tags":[],"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"comment_count":4,"down_vote_count":3,"up_vote_count":15,"is_accepted":true,"score":12,"last_activity_date":1678185318,"creation_date":1226598287,"answer_id":287661,"question_id":287633,"body_markdown":"Funnily, I am just working on this: a Java process running other Java processes. I used the article [From Runtime.exec() to ProcessBuilder](https://www.java-tips.org/java-se-tips-100019/88888889-java-util/426-from-runtimeexec-to-processbuilder.html) as a solid base, and [When Runtime.exec() won&#39;t](https://www.infoworld.com/article/2071275/when-runtime-exec---won-t.html?page=2) as a good advice how to gobble the output streams.\r\n\r\nPS.: For those wondering, I had to do that (instead of spawning new threads) because yet another Java process is checking the presence of these processes which are, normally, ran separately with shell commands.","title":"Java - C-Like Fork?","body":"<p>Funnily, I am just working on this: a Java process running other Java processes. I used the article <a href=\"https://www.java-tips.org/java-se-tips-100019/88888889-java-util/426-from-runtimeexec-to-processbuilder.html\" rel=\"nofollow noreferrer\">From Runtime.exec() to ProcessBuilder</a> as a solid base, and <a href=\"https://www.infoworld.com/article/2071275/when-runtime-exec---won-t.html?page=2\" rel=\"nofollow noreferrer\">When Runtime.exec() won't</a> as a good advice how to gobble the output streams.</p>\n<p>PS.: For those wondering, I had to do that (instead of spawning new threads) because yet another Java process is checking the presence of these processes which are, normally, ran separately with shell commands.</p>\n"},{"comments":[{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1324598824,"post_id":4315324,"comment_id":10687351,"body_markdown":"it seems that it doesn&#39;t truly fork but exec&#39;s new child processes in a way that gives some benefits like fork.","body":"it seems that it doesn&#39;t truly fork but exec&#39;s new child processes in a way that gives some benefits like fork."},{"owner":{"account_id":6683,"reputation":87298,"user_id":11343,"accept_rate":82,"display_name":"CharlesB"},"score":3,"creation_date":1326901281,"post_id":4315324,"comment_id":11148935,"body_markdown":"Note that it works only on POSIX-like system (so roughly everything but Windows)","body":"Note that it works only on POSIX-like system (so roughly everything but Windows)"},{"owner":{"account_id":3206370,"reputation":273,"user_id":2707369,"accept_rate":100,"display_name":"Arnaud"},"score":0,"creation_date":1487170488,"post_id":4315324,"comment_id":71663014,"body_markdown":"You can read the source code of Akuma, and use posix API using JNA like akuma does.","body":"You can read the source code of Akuma, and use posix API using JNA like akuma does."},{"owner":{"account_id":1677570,"reputation":18354,"user_id":1542723,"display_name":"Ferrybig"},"score":2,"creation_date":1498989790,"post_id":4315324,"comment_id":76717913,"body_markdown":"Whilst this may theoretically answer the question, [it would be preferable](//meta.stackoverflow.com/q/8259) to include the essential parts of the answer here, and provide the link for reference.","body":"Whilst this may theoretically answer the question, <a href=\"//meta.stackoverflow.com/q/8259\">it would be preferable</a> to include the essential parts of the answer here, and provide the link for reference."}],"tags":[],"owner":{"account_id":249372,"reputation":151,"user_id":525362,"display_name":"user525362"},"comment_count":4,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1320262083,"creation_date":1291130646,"answer_id":4315324,"question_id":287633,"body_markdown":"This answer is probably a little late but:\r\n\r\nhttp://akuma.kohsuke.org/\r\n\r\nseems to be exactly what your looking for","title":"Java - C-Like Fork?","body":"<p>This answer is probably a little late but:</p>\n\n<p><a href=\"http://akuma.kohsuke.org/\" rel=\"noreferrer\">http://akuma.kohsuke.org/</a></p>\n\n<p>seems to be exactly what your looking for</p>\n"},{"comments":[{"owner":{"account_id":203122,"reputation":1123,"user_id":450589,"accept_rate":75,"display_name":"Pietro Braione"},"score":1,"creation_date":1413375805,"post_id":21028141,"comment_id":41419416,"body_markdown":"As far as I can see, the isolation API is not supported under the current (1.8) JDK. There is an experimental MVM (Multitasking Virtual Machine) project that does, but it did not find its way in the mainline. Moreover it seems to me that the the isolation API does not allow to do a fork, where the state of the forking process is cloned in to the child: As far as I could understand the isolate starts with a main method, and (of course) different isolates do not share state.","body":"As far as I can see, the isolation API is not supported under the current (1.8) JDK. There is an experimental MVM (Multitasking Virtual Machine) project that does, but it did not find its way in the mainline. Moreover it seems to me that the the isolation API does not allow to do a fork, where the state of the forking process is cloned in to the child: As far as I could understand the isolate starts with a main method, and (of course) different isolates do not share state."}],"tags":[],"owner":{"account_id":1421723,"reputation":7768,"user_id":1346207,"accept_rate":77,"display_name":"Markus Malkusch"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1389291690,"creation_date":1389291690,"answer_id":21028141,"question_id":287633,"body_markdown":"The [Application Isolation API (JSR 121)](https://jcp.org/en/jsr/detail?id=121) introduces `Isolate` which addresses this use case.","title":"Java - C-Like Fork?","body":"<p>The <a href=\"https://jcp.org/en/jsr/detail?id=121\" rel=\"nofollow\">Application Isolation API (JSR 121)</a> introduces <code>Isolate</code> which addresses this use case.</p>\n"}],"owner":{"account_id":14170,"reputation":4301,"user_id":28921,"accept_rate":86,"display_name":"sakana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34344,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"accepted_answer_id":287661,"answer_count":3,"score":56,"last_activity_date":1678185318,"creation_date":1226597821,"question_id":287633,"body_markdown":"Is it possible to do  a &quot;C like&quot; fork in java, using an new independent jvm process ?\r\n\r\nHow?\r\n\r\n","title":"Java - C-Like Fork?","body":"<p>Is it possible to do  a \"C like\" fork in java, using an new independent jvm process ?</p>\n\n<p>How?</p>\n"},{"tags":["java","kotlin","datetime","time","datetime-format"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1678178725,"post_id":75659665,"comment_id":133478616,"body_markdown":"Try using x instead of x for the Timezone (offset)","body":"Try using x instead of x for the Timezone (offset)"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1678215517,"post_id":75659665,"comment_id":133489167,"body_markdown":"Yes, I agree, you should use `DateTimeFormatter.RFC_1123_DATE_TIME`. And you should never, ever use `SimpleDateFormat`. And yes, I understand your curiosity. I think the main thing is in the answer, no reason for me to repeat. I may add that one of the many problems with `SimpleDateFormat` was that it was overly tolerant with incorrect input, so I am not surprised when you tell me it parsed you string given the given format string. It makes proper validation about impossible.","body":"Yes, I agree, you should use <code>DateTimeFormatter.RFC_1123_DATE_TIME</code>. And you should never, ever use <code>SimpleDateFormat</code>. And yes, I understand your curiosity. I think the main thing is in the answer, no reason for me to repeat. I may add that one of the many problems with <code>SimpleDateFormat</code> was that it was overly tolerant with incorrect input, so I am not surprised when you tell me it parsed you string given the given format string. It makes proper validation about impossible."}],"answers":[{"comments":[{"owner":{"account_id":20297592,"reputation":735,"user_id":14887783,"display_name":"SageJustus"},"score":0,"creation_date":1678184209,"post_id":75659928,"comment_id":133480089,"body_markdown":"I read your answer and checked the documentation and did find that `z` does not apply to `+0800`. But I found that in the documentation `Z` and `x` have the same example `+0000`, but in my case `Z` doesn&#39;t apply. Can you tell me the difference between `offset-x` and `offset-Z`?","body":"I read your answer and checked the documentation and did find that <code>z</code> does not apply to <code>+0800</code>. But I found that in the documentation <code>Z</code> and <code>x</code> have the same example <code>+0000</code>, but in my case <code>Z</code> doesn&#39;t apply. Can you tell me the difference between <code>offset-x</code> and <code>offset-Z</code>?"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1678185287,"post_id":75659928,"comment_id":133480430,"body_markdown":"You can change to `val patternDtf = &quot;EEE, dd MMM yyyy HH:mm:ss Z&quot;` and parsing will work. It depends on the amount of pattern letters (`ZZZZ` will not work). See my edit for the explanation from the JavaDocs.","body":"You can change to <code>val patternDtf = &quot;EEE, dd MMM yyyy HH:mm:ss Z&quot;</code> and parsing will work. It depends on the amount of pattern letters (<code>ZZZZ</code> will not work). See my edit for the explanation from the JavaDocs."},{"owner":{"account_id":20297592,"reputation":735,"user_id":14887783,"display_name":"SageJustus"},"score":0,"creation_date":1678198419,"post_id":75659928,"comment_id":133483849,"body_markdown":"Using a `Z` works fine. I&#39;ve read the documentation before, I just didn&#39;t really understand what it meant, I don&#39;t use `DateTimeFormatter` very often. In my case, there doesn&#39;t seem to be any functional difference between `Z` and `x`, maybe just a difference in the way they are written?","body":"Using a <code>Z</code> works fine. I&#39;ve read the documentation before, I just didn&#39;t really understand what it meant, I don&#39;t use <code>DateTimeFormatter</code> very often. In my case, there doesn&#39;t seem to be any functional difference between <code>Z</code> and <code>x</code>, maybe just a difference in the way they are written?"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1678201266,"post_id":75659928,"comment_id":133484869,"body_markdown":"The difference is the variance of offset formats they can parse, meaning a `x` can parse offsets without a colon and without seconds, like `+0800` and `+08`, but a single `Z` can only parse `+0800`. And their count matters, e.g. `xx` seems to be equivalent to `Z` parsing only `+0800` while `xxx` can only parse `+08:00` and `xxxx` handles `+0800` and `+080015`, but not `+08` There`s also `z`, which can handle the ones with the colons.","body":"The difference is the variance of offset formats they can parse, meaning a <code>x</code> can parse offsets without a colon and without seconds, like <code>+0800</code> and <code>+08</code>, but a single <code>Z</code> can only parse <code>+0800</code>. And their count matters, e.g. <code>xx</code> seems to be equivalent to <code>Z</code> parsing only <code>+0800</code> while <code>xxx</code> can only parse <code>+08:00</code> and <code>xxxx</code> handles <code>+0800</code> and <code>+080015</code>, but not <code>+08</code> There<code>s also </code>z`, which can handle the ones with the colons."}],"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678185303,"creation_date":1678180162,"answer_id":75659928,"question_id":75659665,"body_markdown":"`+0800` is not a time zone, it is an offset from UTC.  \r\n\r\nA `DateTimeFormatter` distingishes between zone (`ZoneId`) and offset (`ZoneOffset`) and supports different pattern characters that&#39;s why it refuses to parse your `text`\r\n\r\nI would parse a `String` that contains an offset from UTC to an `OffsetDateTime` instead of a `LocalDateTime`, because the latter would strip off the information about the offset and simply keep a date and a time of day. But that obviously depends on the specific requirements\r\n\r\nThat means you will have to introduce a different pattern if you want to parse this input `String` with a `DateTimeFormatter`.\r\n\r\nYou could use `xxxx` instead of `zzz` in that pattern (the rest stays the same, but better use `uuuu` instead of `yyyy`).\r\n\r\n```kotlin\r\nfun main() {\r\n    // input String\r\n    val text = &quot;Tue, 07 Mar 2023 15:32:23 +0800&quot;\r\n    // pattern for the SimpleDateFormat\r\n    val patternSdf = &quot;EEE, dd MMM yyyy HH:mm:ss zzz&quot;\r\n    // pattern for the DateTimeFormatter\r\n    val patternDtf = &quot;EEE, dd MMM yyyy HH:mm:ss xxxx&quot;\r\n    // get a java.util.Date by parsing the String with the SimpleDateFormat\r\n    val date = SimpleDateFormat(patternSdf, Locale.ENGLISH).parse(text)\r\n    // print the Date\r\n  \tprintln(date)\r\n    // get a LocalDateTime by parsing the String with the DateTimeFormatter\r\n\tval dateTime = LocalDateTime.parse(\r\n        \t\t\t\ttext,\r\n        \t\t\t\tDateTimeFormatter.ofPattern(patternDtf, Locale.ENGLISH)\r\n    \t\t\t   )\r\n    // print it\r\n\tprintln(dateTime);\r\n    // get an OffsetDateTime using the same approach\r\n    val offsetDateTime = OffsetDateTime.parse(\r\n        \t\t\t\t\t text,\r\n        \t\t\t\t\t DateTimeFormatter.ofPattern(patternDtf, Locale.ENGLISH)\r\n    \t\t\t\t\t )\r\n    // print it\r\n    println(offsetDateTime)\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\nTue Mar 07 07:32:23 UTC 2023\r\n2023-03-07T15:32:23\r\n2023-03-07T15:32:23+08:00\r\n```\r\n\r\n---\r\n\r\nFrom [JavaDocs of `DateTimeFormatter`](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html):\r\n\r\n&gt;Offset X and x:  \r\nThis formats the offset based on the number of pattern letters. One letter outputs just the hour, such as &#39;+01&#39;, unless the minute is non-zero in which case the minute is also output, such as &#39;+0130&#39;. Two letters outputs the hour and minute, without a colon, such as &#39;+0130&#39;. Three letters outputs the hour and minute, with a colon, such as &#39;+01:30&#39;. Four letters outputs the hour and minute and optional second, without a colon, such as &#39;+013015&#39;. Five letters outputs the hour and minute and optional second, with a colon, such as &#39;+01:30:15&#39;. Six or more letters throws IllegalArgumentException. Pattern letter &#39;X&#39; (upper case) will output &#39;Z&#39; when the offset to be output would be zero, whereas pattern letter &#39;x&#39; (lower case) will output &#39;+00&#39;, &#39;+0000&#39;, or &#39;+00:00&#39;.\r\n\r\n&gt; Offset Z:  \r\nThis formats the offset based on the number of pattern letters. One, two or three letters outputs the hour and minute, without a colon, such as &#39;+0130&#39;. The output will be &#39;+0000&#39; when the offset is zero. Four letters outputs the full form of localized offset, equivalent to four letters of Offset-O. The output will be the corresponding localized offset text if the offset is zero. Five letters outputs the hour, minute, with optional second if non-zero, with colon. It outputs &#39;Z&#39; if the offset is zero. Six or more letters throws IllegalArgumentException.","title":"Error parsing RSS Feed Time with DateTimeFormatter","body":"<p><code>+0800</code> is not a time zone, it is an offset from UTC.</p>\n<p>A <code>DateTimeFormatter</code> distingishes between zone (<code>ZoneId</code>) and offset (<code>ZoneOffset</code>) and supports different pattern characters that's why it refuses to parse your <code>text</code></p>\n<p>I would parse a <code>String</code> that contains an offset from UTC to an <code>OffsetDateTime</code> instead of a <code>LocalDateTime</code>, because the latter would strip off the information about the offset and simply keep a date and a time of day. But that obviously depends on the specific requirements</p>\n<p>That means you will have to introduce a different pattern if you want to parse this input <code>String</code> with a <code>DateTimeFormatter</code>.</p>\n<p>You could use <code>xxxx</code> instead of <code>zzz</code> in that pattern (the rest stays the same, but better use <code>uuuu</code> instead of <code>yyyy</code>).</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun main() {\n    // input String\n    val text = &quot;Tue, 07 Mar 2023 15:32:23 +0800&quot;\n    // pattern for the SimpleDateFormat\n    val patternSdf = &quot;EEE, dd MMM yyyy HH:mm:ss zzz&quot;\n    // pattern for the DateTimeFormatter\n    val patternDtf = &quot;EEE, dd MMM yyyy HH:mm:ss xxxx&quot;\n    // get a java.util.Date by parsing the String with the SimpleDateFormat\n    val date = SimpleDateFormat(patternSdf, Locale.ENGLISH).parse(text)\n    // print the Date\n    println(date)\n    // get a LocalDateTime by parsing the String with the DateTimeFormatter\n    val dateTime = LocalDateTime.parse(\n                        text,\n                        DateTimeFormatter.ofPattern(patternDtf, Locale.ENGLISH)\n                   )\n    // print it\n    println(dateTime);\n    // get an OffsetDateTime using the same approach\n    val offsetDateTime = OffsetDateTime.parse(\n                             text,\n                             DateTimeFormatter.ofPattern(patternDtf, Locale.ENGLISH)\n                         )\n    // print it\n    println(offsetDateTime)\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Tue Mar 07 07:32:23 UTC 2023\n2023-03-07T15:32:23\n2023-03-07T15:32:23+08:00\n</code></pre>\n<hr />\n<p>From <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">JavaDocs of <code>DateTimeFormatter</code></a>:</p>\n<blockquote>\n<p>Offset X and x:<br />\nThis formats the offset based on the number of pattern letters. One letter outputs just the hour, such as '+01', unless the minute is non-zero in which case the minute is also output, such as '+0130'. Two letters outputs the hour and minute, without a colon, such as '+0130'. Three letters outputs the hour and minute, with a colon, such as '+01:30'. Four letters outputs the hour and minute and optional second, without a colon, such as '+013015'. Five letters outputs the hour and minute and optional second, with a colon, such as '+01:30:15'. Six or more letters throws IllegalArgumentException. Pattern letter 'X' (upper case) will output 'Z' when the offset to be output would be zero, whereas pattern letter 'x' (lower case) will output '+00', '+0000', or '+00:00'.</p>\n</blockquote>\n<blockquote>\n<p>Offset Z:<br />\nThis formats the offset based on the number of pattern letters. One, two or three letters outputs the hour and minute, without a colon, such as '+0130'. The output will be '+0000' when the offset is zero. Four letters outputs the full form of localized offset, equivalent to four letters of Offset-O. The output will be the corresponding localized offset text if the offset is zero. Five letters outputs the hour, minute, with optional second if non-zero, with colon. It outputs 'Z' if the offset is zero. Six or more letters throws IllegalArgumentException.</p>\n</blockquote>\n"}],"owner":{"account_id":20297592,"reputation":735,"user_id":14887783,"display_name":"SageJustus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75659928,"answer_count":1,"score":0,"last_activity_date":1678185303,"creation_date":1678178518,"question_id":75659665,"body_markdown":"I used `SimpleDateFormat` and `DateTimeFormatter` respectively to parse: \r\n```kotlin\r\nval text = &quot;Tue, 07 Mar 2023 15:32:23 +0800&quot;\r\nval pattern = &quot;EEE, dd MMM yyyy HH:mm:ss zzz&quot;\r\nval date = SimpleDateFormat(pattern, Locale.ENGLISH).parse(text)\r\nprintln(date)\r\nval dateTime = LocalDateTime.parse(text, DateTimeFormatter.ofPattern(pattern, Locale.ENGLISH))\r\nprintln(dateTime)\r\n```\r\nBut `DateTimeFormatter` got an error:\r\n```\r\njava.time.format.DateTimeParseException:\r\nText &#39;Tue, 07 Mar 2023 15:32:23 +0800&#39; could not be parsed at index 26\r\n```\r\n\r\nI know it can be successfully parsed using the built-in type `DateTimeFormatter.RFC_1123_DATE_TIME`.\r\nBut I want to know where is the problem with this pattern? Why does `DateTimeFormatter` go wrong?\r\n\r\nI found a related [question][1], but it&#39;s not the same as mine, his timezone is `GMT`, mine is `+0800`\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/44004542/threetenbp-parse-exception-when-parsing-date-with-time-zone-name","title":"Error parsing RSS Feed Time with DateTimeFormatter","body":"<p>I used <code>SimpleDateFormat</code> and <code>DateTimeFormatter</code> respectively to parse:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val text = &quot;Tue, 07 Mar 2023 15:32:23 +0800&quot;\nval pattern = &quot;EEE, dd MMM yyyy HH:mm:ss zzz&quot;\nval date = SimpleDateFormat(pattern, Locale.ENGLISH).parse(text)\nprintln(date)\nval dateTime = LocalDateTime.parse(text, DateTimeFormatter.ofPattern(pattern, Locale.ENGLISH))\nprintln(dateTime)\n</code></pre>\n<p>But <code>DateTimeFormatter</code> got an error:</p>\n<pre><code>java.time.format.DateTimeParseException:\nText 'Tue, 07 Mar 2023 15:32:23 +0800' could not be parsed at index 26\n</code></pre>\n<p>I know it can be successfully parsed using the built-in type <code>DateTimeFormatter.RFC_1123_DATE_TIME</code>.\nBut I want to know where is the problem with this pattern? Why does <code>DateTimeFormatter</code> go wrong?</p>\n<p>I found a related <a href=\"https://stackoverflow.com/questions/44004542/threetenbp-parse-exception-when-parsing-date-with-time-zone-name\">question</a>, but it's not the same as mine, his timezone is <code>GMT</code>, mine is <code>+0800</code></p>\n"},{"tags":["java","rest","http","spring-mvc","get"],"answers":[{"comments":[{"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"score":0,"creation_date":1678211881,"post_id":75660838,"comment_id":133488267,"body_markdown":"Can you please share an example how it would work in my scenario as my string is one string with a space in the middle? also would I use query params rather than path params?","body":"Can you please share an example how it would work in my scenario as my string is one string with a space in the middle? also would I use query params rather than path params?"}],"tags":[],"owner":{"account_id":22546040,"reputation":26,"user_id":16735955,"display_name":"gweebg"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678185269,"creation_date":1678185269,"answer_id":75660838,"question_id":75660719,"body_markdown":"You can find the answer [here](https://stackoverflow.com/q/2610360/16735955).\r\n**TLDR**: The common way to introduce the space (or equivalent) is to use spaces, escaped as %20 (Joe%20Blogs) or use dashes (Joe-Blogs).\r\n","title":"REST API: Correct verb and path to use for searching by a String that includes a space?","body":"<p>You can find the answer <a href=\"https://stackoverflow.com/q/2610360/16735955\">here</a>.\n<strong>TLDR</strong>: The common way to introduce the space (or equivalent) is to use spaces, escaped as %20 (Joe%20Blogs) or use dashes (Joe-Blogs).</p>\n"}],"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75660838,"answer_count":1,"score":-1,"last_activity_date":1678185269,"creation_date":1678184642,"question_id":75660719,"body_markdown":"I want to implement a `REST` endpoint that gets all `Trainers` that match a certain name.\r\n\r\nThe name field is both first and last name, e.g. `Joe Bloggs`\r\n\r\nIs the following implementation correct? What is a better alternative?\r\n\r\n    // v1/trainers/name/Joe Bloggs\r\n    @GetMapping(&quot;/v1/trainers/name/{trainerName}&quot;)\r\n    public List&lt;TrainerDTO&gt; findTrainersByName(@PathVariable String trainerName) {\r\n        return trainerService.findTrainersByName(trainerName);\r\n    }","title":"REST API: Correct verb and path to use for searching by a String that includes a space?","body":"<p>I want to implement a <code>REST</code> endpoint that gets all <code>Trainers</code> that match a certain name.</p>\n<p>The name field is both first and last name, e.g. <code>Joe Bloggs</code></p>\n<p>Is the following implementation correct? What is a better alternative?</p>\n<pre><code>// v1/trainers/name/Joe Bloggs\n@GetMapping(&quot;/v1/trainers/name/{trainerName}&quot;)\npublic List&lt;TrainerDTO&gt; findTrainersByName(@PathVariable String trainerName) {\n    return trainerService.findTrainersByName(trainerName);\n}\n</code></pre>\n"},{"tags":["java","csv","junit","parameters","parameterized-tests"],"comments":[{"owner":{"account_id":22973765,"reputation":1,"user_id":19353277,"display_name":"Chi"},"score":0,"creation_date":1678186237,"post_id":75660806,"comment_id":133480688,"body_markdown":"Thank you but no it doesn&#39;t.","body":"Thank you but no it doesn&#39;t."},{"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"score":0,"creation_date":1678186348,"post_id":75660806,"comment_id":133480722,"body_markdown":"you need to make sure that the file is readable in the Path from filename","body":"you need to make sure that the file is readable in the Path from filename"},{"owner":{"account_id":22973765,"reputation":1,"user_id":19353277,"display_name":"Chi"},"score":0,"creation_date":1678189859,"post_id":75660806,"comment_id":133481578,"body_markdown":"Thanks but the loading of a CSV is fine for me, I am looking for a way in which to vary the csv file being read based upon spring or I guess any similar non-static config.","body":"Thanks but the loading of a CSV is fine for me, I am looking for a way in which to vary the csv file being read based upon spring or I guess any similar non-static config."}],"owner":{"account_id":22973765,"reputation":1,"user_id":19353277,"display_name":"Chi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678231629,"answer_count":0,"score":0,"last_activity_date":1678185089,"creation_date":1678185089,"question_id":75660806,"body_markdown":"So I have created a parameterized test, which is a simple restassured test which logs into a user account.  I have some spring bean config in place, which you can specify a profile to pick up a certain test env, QA1, QA2, QA3 for example.  In each env I have different test accounts, I want to be able to run tests for QA1 for example it will run my ParameterizedTest for all the QA1 user accounts.  I&#39;m hitting a block atm in that when I try to specify CSV source for my ParameterizedTest it requires a static variable for the filename, and my env config coming from the spring bean is not static.  Any ideas on how I might achieve this?  Some code...\r\n\r\n```\r\n@SpringBootTest\r\npublic class LoginLogoutTest {\r\n    @Autowired\r\n    ParamsConfig paramsConfig;\r\n    String filename = paramsConfig.getUsersDataFile();\r\n\r\n    @ParameterizedTest\r\n    @CsvFileSource(resources = filename, numLinesToSkip = 1)\r\n    public void loginLogoutTest(String username, String password) {\r\n//Some test stuff\r\n}\r\n}\r\n```\r\n\r\nI tried to specify via the bean config for CsvFileSource, but that requires static filepath.\r\n\r\nI have tried to write a custom csv reader, but that also requires static filepath.","title":"How to feed @ParameterizedTest based on config value","body":"<p>So I have created a parameterized test, which is a simple restassured test which logs into a user account.  I have some spring bean config in place, which you can specify a profile to pick up a certain test env, QA1, QA2, QA3 for example.  In each env I have different test accounts, I want to be able to run tests for QA1 for example it will run my ParameterizedTest for all the QA1 user accounts.  I'm hitting a block atm in that when I try to specify CSV source for my ParameterizedTest it requires a static variable for the filename, and my env config coming from the spring bean is not static.  Any ideas on how I might achieve this?  Some code...</p>\n<pre><code>@SpringBootTest\npublic class LoginLogoutTest {\n    @Autowired\n    ParamsConfig paramsConfig;\n    String filename = paramsConfig.getUsersDataFile();\n\n    @ParameterizedTest\n    @CsvFileSource(resources = filename, numLinesToSkip = 1)\n    public void loginLogoutTest(String username, String password) {\n//Some test stuff\n}\n}\n</code></pre>\n<p>I tried to specify via the bean config for CsvFileSource, but that requires static filepath.</p>\n<p>I have tried to write a custom csv reader, but that also requires static filepath.</p>\n"},{"tags":["java","ssl","jakarta-mail"],"comments":[{"owner":{"account_id":93007,"reputation":51990,"user_id":254643,"display_name":"Raghuram"},"score":0,"creation_date":1296798598,"post_id":4894954,"comment_id":5447390,"body_markdown":"Possible duplicate of http://stackoverflow.com/questions/4062307/pkix-path-building-failed-unable-to-find-valid-certification-path-to-requested-t","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/4062307/pkix-path-building-failed-unable-to-find-valid-certification-path-to-requested-t\" title=\"pkix path building failed unable to find valid certification path to requested t\">stackoverflow.com/questions/4062307/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":148485,"reputation":141,"user_id":2682333,"display_name":"damd"},"score":0,"creation_date":1593593176,"post_id":5730201,"comment_id":110832345,"body_markdown":"Using mail.imaps.ssl.trust fixed it for me, strange that the documentation (that I&#39;ve read) does only mention mail.imap.ssl.trust and never mail.imaps.ssl.trust or any other property mail.imaps.xxx for that matter. I&#39;m assuming mail.imap.ssl.trust is used when starttls is used instead of a SSL tunnel.","body":"Using mail.imaps.ssl.trust fixed it for me, strange that the documentation (that I&#39;ve read) does only mention mail.imap.ssl.trust and never mail.imaps.ssl.trust or any other property mail.imaps.xxx for that matter. I&#39;m assuming mail.imap.ssl.trust is used when starttls is used instead of a SSL tunnel."}],"tags":[],"owner":{"account_id":740383,"reputation":577,"user_id":717121,"display_name":"Vishwanath"},"comment_count":1,"down_vote_count":2,"up_vote_count":58,"is_accepted":false,"score":56,"last_activity_date":1477281730,"creation_date":1303302252,"answer_id":5730201,"question_id":4894954,"body_markdown":"use `prop.put(&quot;mail.imaps.ssl.trust&quot;, &quot;*&quot;);` since you are using `imaps` store.\r\n\r\nand for `smtp` you can try :\r\n `prop.put(&quot;mail.smtp.ssl.trust&quot;, &quot;*&quot;);` .","title":"how to ignore server cert error in javamail","body":"<p>use <code>prop.put(\"mail.imaps.ssl.trust\", \"*\");</code> since you are using <code>imaps</code> store.</p>\n\n<p>and for <code>smtp</code> you can try :\n <code>prop.put(\"mail.smtp.ssl.trust\", \"*\");</code> .</p>\n"},{"comments":[{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":8,"creation_date":1325757579,"post_id":8737970,"comment_id":10886727,"body_markdown":"Why bother with SSL if you&#39;re willing to trust all hosts anyway... Don&#39;t use this in production.","body":"Why bother with SSL if you&#39;re willing to trust all hosts anyway... Don&#39;t use this in production."},{"owner":{"account_id":64492,"reputation":79,"user_id":190343,"display_name":"Lawrence Song"},"score":0,"creation_date":1325807544,"post_id":8737970,"comment_id":10903836,"body_markdown":"I agree that we should never use this in production. This is usually for self-signed certificate. I got the same problem for connecting to testing imaps server which use a self-signed certificate. This fixed it for me.","body":"I agree that we should never use this in production. This is usually for self-signed certificate. I got the same problem for connecting to testing imaps server which use a self-signed certificate. This fixed it for me."},{"owner":{"account_id":441665,"reputation":166,"user_id":831884,"display_name":"Tom Poulton"},"score":0,"creation_date":1351071379,"post_id":8737970,"comment_id":17714852,"body_markdown":"Thanks, I needed this to connect to Gmail over IMAP as part of a functional test framework.","body":"Thanks, I needed this to connect to Gmail over IMAP as part of a functional test framework."},{"owner":{"account_id":42068,"reputation":20631,"user_id":122441,"accept_rate":70,"display_name":"Hendy Irawan"},"score":0,"creation_date":1469558134,"post_id":8737970,"comment_id":64582798,"body_markdown":"@Bruno this is less secure than properly trusting specific certificate(s), and prone to MITM attack, but is still _relatively_ more secure than no encryption at all. I&#39;d say that trusting _specific_ hosts using `mail.imaps.ssl.trust` or `mail.smtp.ssl.trust` is better than this.","body":"@Bruno this is less secure than properly trusting specific certificate(s), and prone to MITM attack, but is still <i>relatively</i> more secure than no encryption at all. I&#39;d say that trusting <i>specific</i> hosts using <code>mail.imaps.ssl.trust</code> or <code>mail.smtp.ssl.trust</code> is better than this."}],"tags":[],"owner":{"account_id":64492,"reputation":79,"user_id":190343,"display_name":"Lawrence Song"},"comment_count":4,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1471495444,"creation_date":1325740187,"answer_id":8737970,"question_id":4894954,"body_markdown":"If you are using javamail 1.4.2+, there is a socket factory you can use to ignore server certificate. \r\n\r\n    MailSSLSocketFactory socketFactory= new MailSSLSocketFactory();\r\n    socketFactory.setTrustAllHosts(true);\r\n    prop.put(&quot;mail.imap.ssl.socketFactory&quot;, socketFactory);\r\n\r\n","title":"how to ignore server cert error in javamail","body":"<p>If you are using javamail 1.4.2+, there is a socket factory you can use to ignore server certificate. </p>\n\n<pre><code>MailSSLSocketFactory socketFactory= new MailSSLSocketFactory();\nsocketFactory.setTrustAllHosts(true);\nprop.put(\"mail.imap.ssl.socketFactory\", socketFactory);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":410094,"reputation":3426,"user_id":781723,"accept_rate":40,"display_name":"D.W."},"score":10,"creation_date":1351037911,"post_id":8740558,"comment_id":17706629,"body_markdown":"Ahh, StackOverflow: where secure answers to questions about security get downvoted, and insecure answers get upvoted.  Sigh....","body":"Ahh, StackOverflow: where secure answers to questions about security get downvoted, and insecure answers get upvoted.  Sigh...."},{"owner":{"account_id":1412466,"reputation":8275,"user_id":1338797,"display_name":"Tomasz Gandor"},"score":0,"creation_date":1363268704,"post_id":8740558,"comment_id":21789373,"body_markdown":"This is a great answer. What if you&#39;re using a third party code? You can&#39;t use any dirty hacks presented in other answers. This one worked, but it could be more specific as to how to add the certificate. What helped me with this, was to realize I had to change jre/lib/security/cacerts, using this advice: http://www.martin-probst.com/blog/2008/03/14/installing-importing-a-root-certificate-in-java/ In short: use `keytool -import -file your_cert.cer /path/to/cacerts`, the password is *changeit*.","body":"This is a great answer. What if you&#39;re using a third party code? You can&#39;t use any dirty hacks presented in other answers. This one worked, but it could be more specific as to how to add the certificate. What helped me with this, was to realize I had to change jre/lib/security/cacerts, using this advice: <a href=\"http://www.martin-probst.com/blog/2008/03/14/installing-importing-a-root-certificate-in-java/\" rel=\"nofollow noreferrer\">martin-probst.com/blog/2008/03/14/&hellip;</a> In short: use <code>keytool -import -file your_cert.cer &#47;path&#47;to&#47;cacerts</code>, the password is <i>changeit</i>."},{"owner":{"account_id":3143686,"reputation":341,"user_id":2805324,"display_name":"LateralFractal"},"score":0,"creation_date":1466563648,"post_id":8740558,"comment_id":63363190,"body_markdown":"Given the limitations of 3rd-party commercial singly-rooted CAs, anything less than a trust store whose only CA is yourself is less than complete. Point being, for multi-tenant web applications where the remote endpoint is desired by the client regardless of whether they paid for a commercial certificate, the MITM risk is often deemed acceptable for well-defined endpoints.","body":"Given the limitations of 3rd-party commercial singly-rooted CAs, anything less than a trust store whose only CA is yourself is less than complete. Point being, for multi-tenant web applications where the remote endpoint is desired by the client regardless of whether they paid for a commercial certificate, the MITM risk is often deemed acceptable for well-defined endpoints."}],"tags":[],"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"comment_count":3,"down_vote_count":2,"up_vote_count":36,"is_accepted":false,"score":34,"last_activity_date":1325757509,"creation_date":1325757509,"answer_id":8740558,"question_id":4894954,"body_markdown":"Don&#39;t ignore certificate verification errors (unless perhaps in a test environment): this defeats the point of using SSL/TLS.\r\n\r\nInstead, if you know you trust that server certificate, import it in your trust store (either the global trust store of the JRE or a local one that you specify with the `javax.net.ssl.trustStore*` system properties, for example).","title":"how to ignore server cert error in javamail","body":"<p>Don't ignore certificate verification errors (unless perhaps in a test environment): this defeats the point of using SSL/TLS.</p>\n\n<p>Instead, if you know you trust that server certificate, import it in your trust store (either the global trust store of the JRE or a local one that you specify with the <code>javax.net.ssl.trustStore*</code> system properties, for example).</p>\n"},{"tags":[],"owner":{"account_id":2080459,"reputation":69,"user_id":1852553,"display_name":"Chandana Buduru"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1516682119,"creation_date":1353912259,"answer_id":13559884,"question_id":4894954,"body_markdown":"         Properties propsSSL = new Properties();\r\n    \t propsSSL.put(&quot;mail.transport.protocol&quot;, &quot;smtps&quot;);\r\n    \t propsSSL.put(&quot;mail.smtps.host&quot;, &quot;hostname&quot;);\r\n    \t propsSSL.put(&quot;mail.smtps.auth&quot;, &quot;true&quot;);\r\n    \t propsSSL.put(&quot;mail.smtps.ssl.checkserveridentity&quot;, &quot;false&quot;);\r\n    \t propsSSL.put(&quot;mail.smtps.ssl.trust&quot;, &quot;*&quot;);\r\n\r\nAbove changes will fix `javax.mail.MessagingException: Could not connect to SMTP host: hostname, port: 465;` for the nested exception\r\n\r\n    javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path validation failed: java.security.cert.CertPathValidatorException: Path does not chain with any of the trust anchors\r\n    exception \r\n","title":"how to ignore server cert error in javamail","body":"<pre><code>     Properties propsSSL = new Properties();\n     propsSSL.put(\"mail.transport.protocol\", \"smtps\");\n     propsSSL.put(\"mail.smtps.host\", \"hostname\");\n     propsSSL.put(\"mail.smtps.auth\", \"true\");\n     propsSSL.put(\"mail.smtps.ssl.checkserveridentity\", \"false\");\n     propsSSL.put(\"mail.smtps.ssl.trust\", \"*\");\n</code></pre>\n\n<p>Above changes will fix <code>javax.mail.MessagingException: Could not connect to SMTP host: hostname, port: 465;</code> for the nested exception</p>\n\n<pre><code>javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path validation failed: java.security.cert.CertPathValidatorException: Path does not chain with any of the trust anchors\nexception \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1527735,"reputation":21,"user_id":1425743,"display_name":"user1425743"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1356081841,"creation_date":1356080784,"answer_id":13987136,"question_id":4894954,"body_markdown":"I was the same issue, using\r\n\r\n    MailSSLSocketFactory socketFactory= new MailSSLSocketFactory();\r\n    socketFactory.setTrustAllHosts(true);\r\n    prop.put(&quot;mail.pop3s.ssl.socketFactory&quot;, socketFactory);\r\n\r\n\r\ncom.sun.mail.util.MailSSLSocketFactory\r\n\r\nit&#39;s works!!","title":"how to ignore server cert error in javamail","body":"<p>I was the same issue, using</p>\n\n<pre><code>MailSSLSocketFactory socketFactory= new MailSSLSocketFactory();\nsocketFactory.setTrustAllHosts(true);\nprop.put(\"mail.pop3s.ssl.socketFactory\", socketFactory);\n</code></pre>\n\n<p>com.sun.mail.util.MailSSLSocketFactory</p>\n\n<p>it's works!!</p>\n"},{"tags":[],"owner":{"account_id":2310032,"reputation":11,"user_id":2028360,"display_name":"olegnyr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1359622073,"creation_date":1359622073,"answer_id":14621667,"question_id":4894954,"body_markdown":"        Properties pr = new Properties();\r\n        MailSSLSocketFactory socketFactory= new MailSSLSocketFactory();\r\n        socketFactory.setTrustAllHosts(true);\r\n        pr.put(&quot;mail.pop3s.ssl.socketFactory&quot;, socketFactory);\r\n        Session ses = Session.getInstance(pr);\r\n        ses.setDebug(true);\r\n        URLName url =  new URLName(&quot;pop3s://username:password@host:posrt&quot;);\r\n        Store store = ses.getStore(url.getProtocol());\r\n        store.connect(url.getHost(), url.getPort(), url.getUsername(), url.getPassword());\r\n        Folder inbox = store.getFolder(&quot;INBOX&quot;);\r\n        inbox.open(Folder.READ_ONLY);\r\n        try {\r\n            int i = inbox.getMessageCount();\r\n            com.sun.mail.pop3.POP3Message mes;\r\n            while (i &gt; 0) {\r\n                mes = (com.sun.mail.pop3.POP3Message) inbox.getMessage(i);\r\n                System.out.println(mes.getContentID());\r\n                i--;\r\n            }\r\n        } finally {\r\n            inbox.close(false);\r\n            store.close();\r\n        }\r\nDEBUG: setDebug: JavaMail version 1.4.5&lt;br&gt;\r\n&lt;b&gt;Exchange server 2010&lt;/b&gt;&lt;br&gt;\r\nPlainTextLogin&lt;br&gt;\r\nhttp://technet.microsoft.com/ru-ru/library/bb124498(v=exchg.141).aspx","title":"how to ignore server cert error in javamail","body":"<pre><code>    Properties pr = new Properties();\n    MailSSLSocketFactory socketFactory= new MailSSLSocketFactory();\n    socketFactory.setTrustAllHosts(true);\n    pr.put(\"mail.pop3s.ssl.socketFactory\", socketFactory);\n    Session ses = Session.getInstance(pr);\n    ses.setDebug(true);\n    URLName url =  new URLName(\"pop3s://username:password@host:posrt\");\n    Store store = ses.getStore(url.getProtocol());\n    store.connect(url.getHost(), url.getPort(), url.getUsername(), url.getPassword());\n    Folder inbox = store.getFolder(\"INBOX\");\n    inbox.open(Folder.READ_ONLY);\n    try {\n        int i = inbox.getMessageCount();\n        com.sun.mail.pop3.POP3Message mes;\n        while (i &gt; 0) {\n            mes = (com.sun.mail.pop3.POP3Message) inbox.getMessage(i);\n            System.out.println(mes.getContentID());\n            i--;\n        }\n    } finally {\n        inbox.close(false);\n        store.close();\n    }\n</code></pre>\n\n<p>DEBUG: setDebug: JavaMail version 1.4.5<br>\n<b>Exchange server 2010</b><br>\nPlainTextLogin<br>\n<a href=\"http://technet.microsoft.com/ru-ru/library/bb124498(v=exchg.141).aspx\" rel=\"nofollow\">http://technet.microsoft.com/ru-ru/library/bb124498(v=exchg.141).aspx</a></p>\n"},{"tags":[],"owner":{"account_id":3549245,"reputation":31,"user_id":2964484,"display_name":"Jaydip Pansuriya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387454706,"creation_date":1387454706,"answer_id":20681353,"question_id":4894954,"body_markdown":"This will help you bypass certificate process and get directly to ssl host\r\n\r\n    MailSSLSocketFactory sf = null;\r\n    try\r\n    {\r\n        sf = new MailSSLSocketFactory();\r\n    }\r\n    catch (GeneralSecurityException e)\r\n    {\r\n        e.printStackTrace();\r\n    }\r\n            sf.setTrustAllHosts(true);\r\n\r\n    Properties pop3Props = new Properties();\r\n    pop3Props.setProperty(&quot;mail.pop3.ssl.enable&quot;, &quot;true&quot;);\r\n    pop3Props.setProperty(&quot;mail.protocol.ssl.trust&quot;, &quot;pop3.live.com&quot;);\r\n    pop3Props.put(&quot;mail.pop3s.ssl.socketFactory&quot;, sf);\r\n    pop3Props.setProperty(&quot;mail.pop3s.port&quot;, &quot;995&quot;);\r\n\r\n    Session session = Session.getInstance(pop3Props);\r\n\r\n    try\r\n    {\r\n    /* Get a Store object*/\r\n       Store store = session.getStore(&quot;pop3s&quot;);\r\n    //process further activity \r\n    }","title":"how to ignore server cert error in javamail","body":"<p>This will help you bypass certificate process and get directly to ssl host</p>\n\n<pre><code>MailSSLSocketFactory sf = null;\ntry\n{\n    sf = new MailSSLSocketFactory();\n}\ncatch (GeneralSecurityException e)\n{\n    e.printStackTrace();\n}\n        sf.setTrustAllHosts(true);\n\nProperties pop3Props = new Properties();\npop3Props.setProperty(\"mail.pop3.ssl.enable\", \"true\");\npop3Props.setProperty(\"mail.protocol.ssl.trust\", \"pop3.live.com\");\npop3Props.put(\"mail.pop3s.ssl.socketFactory\", sf);\npop3Props.setProperty(\"mail.pop3s.port\", \"995\");\n\nSession session = Session.getInstance(pop3Props);\n\ntry\n{\n/* Get a Store object*/\n   Store store = session.getStore(\"pop3s\");\n//process further activity \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1271868,"reputation":170,"user_id":1227941,"accept_rate":83,"display_name":"Hicham"},"score":0,"creation_date":1632418956,"post_id":25627755,"comment_id":122493711,"body_markdown":"I thinks this is the best secured solution for a well known and trusted server","body":"I thinks this is the best secured solution for a well known and trusted server"}],"tags":[],"owner":{"account_id":1474388,"reputation":5265,"user_id":1385174,"accept_rate":60,"display_name":"Adam"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1409674000,"creation_date":1409674000,"answer_id":25627755,"question_id":4894954,"body_markdown":"I think @Bruno is correct to admonish you not to blindly trust all servers with the hack `setTrustAllHosts(true)`\r\n\r\nIn the [docs at Oracle][1] they show how to add your dev mail host to the trusted list without forcing your app to insecurely trust the whole world:\r\n\r\n    MailSSLSocketFactory sf = new MailSSLSocketFactory();\r\n    sf.setTrustedHosts(new String[] { &quot;my-server&quot; });\r\n    props.put(&quot;mail.smtp.ssl.enable&quot;, &quot;true&quot;);\r\n    // also use following for additional safety\r\n    props.put(&quot;mail.smtp.ssl.checkserveridentity&quot;, &quot;true&quot;);\r\n    props.put(&quot;mail.smtp.ssl.socketFactory&quot;, sf);\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/sslnotes-150073.txt &quot;docs at Oracle&quot;\r\n","title":"how to ignore server cert error in javamail","body":"<p>I think @Bruno is correct to admonish you not to blindly trust all servers with the hack <code>setTrustAllHosts(true)</code></p>\n\n<p>In the <a href=\"http://www.oracle.com/technetwork/java/sslnotes-150073.txt\" rel=\"nofollow\" title=\"docs at Oracle\">docs at Oracle</a> they show how to add your dev mail host to the trusted list without forcing your app to insecurely trust the whole world:</p>\n\n<pre><code>MailSSLSocketFactory sf = new MailSSLSocketFactory();\nsf.setTrustedHosts(new String[] { \"my-server\" });\nprops.put(\"mail.smtp.ssl.enable\", \"true\");\n// also use following for additional safety\nprops.put(\"mail.smtp.ssl.checkserveridentity\", \"true\");\nprops.put(\"mail.smtp.ssl.socketFactory\", sf);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4920294,"reputation":1,"user_id":3963028,"display_name":"perpanb0"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417766917,"creation_date":1417766917,"answer_id":27311450,"question_id":4894954,"body_markdown":"I was the same issue.\n\n&gt; MailSSLSocketFactory socketFactory = new MailSSLSocketFactory();\n&gt; socketFactory.setTrustedHosts(new String[] { &quot;my-server&quot;});\n&gt;\n&gt; socketFactory.setTrustAllHosts(true);\n&gt; props.put(&quot;mail.smtps.socketFactory&quot;, socketFactory);\n\nit&#39;s works!!","title":"how to ignore server cert error in javamail","body":"<p>I was the same issue.</p>\n<blockquote>\n<p>MailSSLSocketFactory socketFactory = new MailSSLSocketFactory();\nsocketFactory.setTrustedHosts(new String[] { &quot;my-server&quot;});</p>\n<p>socketFactory.setTrustAllHosts(true);\nprops.put(&quot;mail.smtps.socketFactory&quot;, socketFactory);</p>\n</blockquote>\n<p>it's works!!</p>\n"},{"tags":[],"owner":{"account_id":4674889,"reputation":1042,"user_id":3785573,"display_name":"Baji Shaik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1449213054,"creation_date":1449213054,"answer_id":34082800,"question_id":4894954,"body_markdown":"If It is the problem persisted in Java 6 then the solution is simple.It is just simple as Java 7 was released.Install java 7 in machine.java 7 have the certificates file having the capability of ignoring certificate authentication.\r\n\r\ncopy the &quot;cacerts&quot; file from following java 7 directory \r\n\r\n&gt; C:\\Program Files\\Java\\jdk1.7.0_79\\jre\\lib\\security\r\n\r\nand paste it in \r\n\r\n&gt; C:\\Program Files\\Java\\jdk1.6.0\\jre\\lib\\security\r\n\r\nnow the certificate authentication problem will be resolved.","title":"how to ignore server cert error in javamail","body":"<p>If It is the problem persisted in Java 6 then the solution is simple.It is just simple as Java 7 was released.Install java 7 in machine.java 7 have the certificates file having the capability of ignoring certificate authentication.</p>\n\n<p>copy the \"cacerts\" file from following java 7 directory </p>\n\n<blockquote>\n  <p>C:\\Program Files\\Java\\jdk1.7.0_79\\jre\\lib\\security</p>\n</blockquote>\n\n<p>and paste it in </p>\n\n<blockquote>\n  <p>C:\\Program Files\\Java\\jdk1.6.0\\jre\\lib\\security</p>\n</blockquote>\n\n<p>now the certificate authentication problem will be resolved.</p>\n"},{"tags":[],"owner":{"account_id":27890385,"reputation":1,"user_id":21296895,"display_name":"Rajdip Chauhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678184597,"creation_date":1678184597,"answer_id":75660710,"question_id":4894954,"body_markdown":"                client.ServerCertificateValidationCallback = (s, c, h, e) =&gt; true;\r\n\r\nIt&#39;s Work Successfully...","title":"how to ignore server cert error in javamail","body":"<pre><code>            client.ServerCertificateValidationCallback = (s, c, h, e) =&gt; true;\n</code></pre>\n<p>It's Work Successfully...</p>\n"}],"owner":{"account_id":95012,"reputation":1321,"user_id":259025,"accept_rate":0,"display_name":"ncowboy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66207,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":11,"score":27,"last_activity_date":1678184597,"creation_date":1296798230,"question_id":4894954,"body_markdown":"when i connect to my imap server using imaps,it failes.\r\n\r\ncan you tell me how to ignore server cert error in javamail\r\n\r\n    Exception in thread &quot;main&quot;\r\n    javax.mail.MessagingException:\r\n    sun.security.validator.ValidatorException:\r\n    PKIX path building failed:\r\n    sun.security.provider.certpath.SunCertPathBuilderException:\r\n    unable to find valid certification\r\n    path to requested target;   nested\r\n    exception is:\r\n        javax.net.ssl.SSLHandshakeException:\r\n    sun.security.validator.ValidatorException:\r\n    PKIX path building failed:\r\n    sun.security.provider.certpath.SunCertPathBuilderException:\r\n    unable to find valid certification\r\n    path to requested target \tat com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:665)\r\n        at javax.mail.Service.connect(Service.java:295)\r\n        at javax.mail.Service.connect(Service.java:176)\r\n        at App20110204.main(App20110204.java:31)\r\n    Caused by:\r\n    javax.net.ssl.SSLHandshakeException:\r\n    sun.security.validator.ValidatorException:\r\n    PKIX path building failed:\r\n    sun.security.provider.certpath.SunCertPathBuilderException:\r\n    unable to find valid certification\r\n    path to requested target \tat com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:174)\r\n        at com.sun.net.ssl.internal.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1623)\r\n        at com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Handshaker.java:198)\r\n        at com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Handshaker.java:192)\r\n        at com.sun.net.ssl.internal.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1074)\r\n        at com.sun.net.ssl.internal.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:128)\r\n        at com.sun.net.ssl.internal.ssl.Handshaker.processLoop(Handshaker.java:529)\r\n        at com.sun.net.ssl.internal.ssl.Handshaker.process_record(Handshaker.java:465)\r\n        at com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:884)\r\n        at com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1120)\r\n        at com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1147)\r\n        at com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1131)\r\n        at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:507)\r\n        at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:238)\r\n        at com.sun.mail.iap.Protocol.&lt;init&gt;(Protocol.java:113)\r\n        at com.sun.mail.imap.protocol.IMAPProtocol.&lt;init&gt;(IMAPProtocol.java:110)\r\n        at com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:632)\r\n        ... 3 more Caused by:\r\n    sun.security.validator.ValidatorException:\r\n    PKIX path building failed:\r\n    sun.security.provider.certpath.SunCertPathBuilderException:\r\n    unable to find valid certification\r\n    path to requested target \tat sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:294)\r\n        at sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:200)\r\n        at sun.security.validator.Validator.validate(Validator.java:218)\r\n        at com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:126)\r\n        at com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:209)\r\n        at com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:249)\r\n        at com.sun.net.ssl.internal.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1053)\r\n        ... 15 more Caused by:\r\n    sun.security.provider.certpath.SunCertPathBuilderException:\r\n    unable to find valid certification\r\n    path to requested target \tat sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:174)\r\n        at java.security.cert.CertPathBuilder.build(CertPathBuilder.java:238)\r\n        at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:289)\r\n        ... 21 more\r\n\r\nand my source code\r\n\r\n    Properties prop = new Properties();\r\n    prop.put(&quot;mail.imap.ssl.checkserveridentity&quot;, &quot;false&quot;);\r\n    prop.put(&quot;mail.imap.ssl.trust&quot;, &quot;*&quot;);\r\n    \r\n    Session session = Session.getDefaultInstance(prop);\r\n    Store store = session.getStore(&quot;imaps&quot;);\r\n    store.connect(&quot;mail.xxx.com&quot;, &quot;xxxx&quot;, &quot;p@ssw0rd&quot;);\r\n    System.out.println(store.getFolder(&quot;INBOX&quot;).getMessageCount());\r\n\r\n","title":"how to ignore server cert error in javamail","body":"<p>when i connect to my imap server using imaps,it failes.</p>\n\n<p>can you tell me how to ignore server cert error in javamail</p>\n\n<pre><code>Exception in thread \"main\"\njavax.mail.MessagingException:\nsun.security.validator.ValidatorException:\nPKIX path building failed:\nsun.security.provider.certpath.SunCertPathBuilderException:\nunable to find valid certification\npath to requested target;   nested\nexception is:\n    javax.net.ssl.SSLHandshakeException:\nsun.security.validator.ValidatorException:\nPKIX path building failed:\nsun.security.provider.certpath.SunCertPathBuilderException:\nunable to find valid certification\npath to requested target    at com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:665)\n    at javax.mail.Service.connect(Service.java:295)\n    at javax.mail.Service.connect(Service.java:176)\n    at App20110204.main(App20110204.java:31)\nCaused by:\njavax.net.ssl.SSLHandshakeException:\nsun.security.validator.ValidatorException:\nPKIX path building failed:\nsun.security.provider.certpath.SunCertPathBuilderException:\nunable to find valid certification\npath to requested target    at com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:174)\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1623)\n    at com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Handshaker.java:198)\n    at com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Handshaker.java:192)\n    at com.sun.net.ssl.internal.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1074)\n    at com.sun.net.ssl.internal.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:128)\n    at com.sun.net.ssl.internal.ssl.Handshaker.processLoop(Handshaker.java:529)\n    at com.sun.net.ssl.internal.ssl.Handshaker.process_record(Handshaker.java:465)\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:884)\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1120)\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1147)\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1131)\n    at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:507)\n    at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:238)\n    at com.sun.mail.iap.Protocol.&lt;init&gt;(Protocol.java:113)\n    at com.sun.mail.imap.protocol.IMAPProtocol.&lt;init&gt;(IMAPProtocol.java:110)\n    at com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:632)\n    ... 3 more Caused by:\nsun.security.validator.ValidatorException:\nPKIX path building failed:\nsun.security.provider.certpath.SunCertPathBuilderException:\nunable to find valid certification\npath to requested target    at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:294)\n    at sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:200)\n    at sun.security.validator.Validator.validate(Validator.java:218)\n    at com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:126)\n    at com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:209)\n    at com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:249)\n    at com.sun.net.ssl.internal.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1053)\n    ... 15 more Caused by:\nsun.security.provider.certpath.SunCertPathBuilderException:\nunable to find valid certification\npath to requested target    at sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:174)\n    at java.security.cert.CertPathBuilder.build(CertPathBuilder.java:238)\n    at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:289)\n    ... 21 more\n</code></pre>\n\n<p>and my source code</p>\n\n<pre><code>Properties prop = new Properties();\nprop.put(\"mail.imap.ssl.checkserveridentity\", \"false\");\nprop.put(\"mail.imap.ssl.trust\", \"*\");\n\nSession session = Session.getDefaultInstance(prop);\nStore store = session.getStore(\"imaps\");\nstore.connect(\"mail.xxx.com\", \"xxxx\", \"p@ssw0rd\");\nSystem.out.println(store.getFolder(\"INBOX\").getMessageCount());\n</code></pre>\n"},{"tags":["java","sorting","arraylist","hashmap"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678184551,"creation_date":1678184551,"answer_id":75660701,"question_id":75660305,"body_markdown":"You could do a `flatMap` on the map&#39;s entries, transforming each entry of `String` to `List&lt;Integer&gt;`, into a stream of multiple entries of `String` to `Integer`. Then you can just sort the entries with a comparator you prefer.\r\n\r\n    var result = scores.entrySet().stream()\r\n        .flatMap(\r\n            entry -&gt; entry.getValue().stream().map(v -&gt; Map.entry(entry.getKey(), v))\r\n        )\r\n        .sorted(\r\n            Map.Entry.&lt;String, Integer&gt;comparingByValue().reversed()\r\n                // if you would like to also break ties on the values by comparing the keys\r\n                //.thenComparing(Map.Entry.comparingByKey())\r\n        )\r\n        .toList();\r\n\r\n`result` is a `List&lt;Entry&lt;String, Integer&gt;&gt;`. Printing `result` gives you\r\n\r\n    [3=300, 1=200, 2=200, 1=100]\r\n\r\nAlso note that your if statement for adding the user input into the map can be simplified to the following using `computeIfAbsent`:\r\n\r\n    scores.computeIfAbsent(UID, x -&gt; new ArrayList&lt;&gt;()).add(score);","title":"How to flatten and sort a HashMap with ArrayList values in Java?","body":"<p>You could do a <code>flatMap</code> on the map's entries, transforming each entry of <code>String</code> to <code>List&lt;Integer&gt;</code>, into a stream of multiple entries of <code>String</code> to <code>Integer</code>. Then you can just sort the entries with a comparator you prefer.</p>\n<pre><code>var result = scores.entrySet().stream()\n    .flatMap(\n        entry -&gt; entry.getValue().stream().map(v -&gt; Map.entry(entry.getKey(), v))\n    )\n    .sorted(\n        Map.Entry.&lt;String, Integer&gt;comparingByValue().reversed()\n            // if you would like to also break ties on the values by comparing the keys\n            //.thenComparing(Map.Entry.comparingByKey())\n    )\n    .toList();\n</code></pre>\n<p><code>result</code> is a <code>List&lt;Entry&lt;String, Integer&gt;&gt;</code>. Printing <code>result</code> gives you</p>\n<pre><code>[3=300, 1=200, 2=200, 1=100]\n</code></pre>\n<p>Also note that your if statement for adding the user input into the map can be simplified to the following using <code>computeIfAbsent</code>:</p>\n<pre><code>scores.computeIfAbsent(UID, x -&gt; new ArrayList&lt;&gt;()).add(score);\n</code></pre>\n"}],"owner":{"account_id":24835048,"reputation":3,"user_id":18713807,"display_name":"Glandorf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75660701,"answer_count":1,"score":0,"last_activity_date":1678184551,"creation_date":1678182430,"question_id":75660305,"body_markdown":"So, I have a hashmap which has a String as key, and an Arraylist as Value.\r\n\r\n```\r\nstatic HashMap&lt;String, ArrayList&lt;Integer&gt;&gt; scores = new HashMap&lt;&gt;();\r\n```\r\n\r\nThen I just request Input with the Scanner Class:\r\n\r\n```\r\nScanner sc = new Scanner(System.in);\r\nString input = sc.nextLine();\r\n\r\nString[] inputArr = input.split(&quot; &quot;);\r\n```\r\n\r\nAnd then I just add the score to the player if he exists, and if he doesn&#39;t it just creates a new entry\r\n\r\n```\r\nfor (int i = 0; i &lt; inputArr.length; i += 2) {\r\n\r\n    String UID = inputArr[i];\r\n    int score = Integer.parseInt(inputArr[i + 1]);\r\n\r\n    if (!scores.containsKey(UID)) {\r\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(score);\r\n        scores.put(UID, list);\r\n    } else {\r\n        scores.get(UID).add(score);\r\n    }\r\n\r\n}\r\n```\r\n\r\nSo for example, if I Input `1 100 2 200 3 300 1 200` into the console,  \r\nI receive `{1=[100, 200], 2=[200], 3=[300]}`\r\n\r\nNow what I need is this Hashmap to be &quot;opened up&quot; and look like this: `3 300 1 200 2 200 1 100`.  \r\nNote that the Output is sorted descending by **value**.\r\n\r\nI also tried different methods, like a SortedTreeMap or a TreeBag, but none of them seem to work","title":"How to flatten and sort a HashMap with ArrayList values in Java?","body":"<p>So, I have a hashmap which has a String as key, and an Arraylist as Value.</p>\n<pre><code>static HashMap&lt;String, ArrayList&lt;Integer&gt;&gt; scores = new HashMap&lt;&gt;();\n</code></pre>\n<p>Then I just request Input with the Scanner Class:</p>\n<pre><code>Scanner sc = new Scanner(System.in);\nString input = sc.nextLine();\n\nString[] inputArr = input.split(&quot; &quot;);\n</code></pre>\n<p>And then I just add the score to the player if he exists, and if he doesn't it just creates a new entry</p>\n<pre><code>for (int i = 0; i &lt; inputArr.length; i += 2) {\n\n    String UID = inputArr[i];\n    int score = Integer.parseInt(inputArr[i + 1]);\n\n    if (!scores.containsKey(UID)) {\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n        list.add(score);\n        scores.put(UID, list);\n    } else {\n        scores.get(UID).add(score);\n    }\n\n}\n</code></pre>\n<p>So for example, if I Input <code>1 100 2 200 3 300 1 200</code> into the console,<br />\nI receive <code>{1=[100, 200], 2=[200], 3=[300]}</code></p>\n<p>Now what I need is this Hashmap to be &quot;opened up&quot; and look like this: <code>3 300 1 200 2 200 1 100</code>.<br />\nNote that the Output is sorted descending by <strong>value</strong>.</p>\n<p>I also tried different methods, like a SortedTreeMap or a TreeBag, but none of them seem to work</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","specifications"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1678184423,"post_id":75660590,"comment_id":133480148,"body_markdown":"You cannot create a query that covers multiple database.","body":"You cannot create a query that covers multiple database."}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678184489,"creation_date":1678184489,"answer_id":75660695,"question_id":75660590,"body_markdown":"You can&#39;t do queries across databases with JPA except when your database presents them as if they are in the same database. You can do that for example with [Oracle database links][1]. I expect the other big commercial databases to have similar features.\r\n\r\nWithout such a database feature you can only query data from one database at a time.\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/E18283_01/server.112/e17120/ds_concepts002.htm","title":"Not an entity error for classes in different databases","body":"<p>You can't do queries across databases with JPA except when your database presents them as if they are in the same database. You can do that for example with <a href=\"https://docs.oracle.com/cd/E18283_01/server.112/e17120/ds_concepts002.htm\" rel=\"nofollow noreferrer\">Oracle database links</a>. I expect the other big commercial databases to have similar features.</p>\n<p>Without such a database feature you can only query data from one database at a time.</p>\n"}],"owner":{"account_id":17446692,"reputation":456,"user_id":12647580,"display_name":"menoktaokan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75660695,"answer_count":1,"score":0,"last_activity_date":1678184489,"creation_date":1678183961,"question_id":75660590,"body_markdown":"I work on a spring boot project which works on different DBs.\r\nToday I tried to fetch some filtered records via `Specification`.\r\nFiltering is based on a different entity on another DB with no mapping or relation.\r\nI got a `Not an entity` error while fetching records. I thought the reason was based on the databases, so I tried the same way on two classes in the same DB and it worked.\r\n\r\nMy code is like that:\r\n\r\nclass 1:\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name=&quot;s&quot;)\r\n    public class S {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name=&quot;id&quot;)\r\n        Integer id;\r\n    \r\n        @Column(name=&quot;s_id&quot;)\r\n        Integer sId;\r\n    \r\n        @Column(name=&quot;c_id&quot;)\r\n        Integer cId;\r\n    }\r\n\r\nclass 2:\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;c&quot;)\r\n    public class C {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private Integer id;\r\n    \r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    }\r\nSpecificatin class:\r\n\r\n    public class SSpecification {\r\n    \r\n        public static Specification&lt;S&gt; isNameLike(String nameQuery) {\r\n            return (root, query, builder) -&gt; {\r\n    \r\n                query.distinct(true);\r\n    \r\n                Root&lt;C&gt; cRoot = query.from(Co.class);\r\n    \r\n                List&lt;Predicate&gt; predicateList = new ArrayList&lt;&gt;();\r\n                predicateList.add(builder.equal(root.get(&quot;cId&quot;), cRoot .get(&quot;id&quot;)));\r\n                predicateList.add(builder.like(cRoot .get(&quot;name&quot;), &quot;%&quot; + nameQuery + &quot;%&quot;));\r\n    \r\n                return builder.and(predicateList.toArray(Predicate[]::new));\r\n            };\r\n        }\r\n    \r\n        public static Specification&lt;S&gt; isMember(Boolean isMember) {\r\n            return (root, query, criteriaBuilder) -&gt; criteriaBuilder.equal(root.get(&quot;isMember&quot;), isMember);\r\n        }\r\n    }\r\n\r\nDo you have any idea to solve this problem?\r\n\r\nPs, I thought chained Tx management could be a solution but I was wrong.","title":"Not an entity error for classes in different databases","body":"<p>I work on a spring boot project which works on different DBs.\nToday I tried to fetch some filtered records via <code>Specification</code>.\nFiltering is based on a different entity on another DB with no mapping or relation.\nI got a <code>Not an entity</code> error while fetching records. I thought the reason was based on the databases, so I tried the same way on two classes in the same DB and it worked.</p>\n<p>My code is like that:</p>\n<p>class 1:</p>\n<pre><code>@Data\n@Entity\n@Table(name=&quot;s&quot;)\npublic class S {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;)\n    Integer id;\n\n    @Column(name=&quot;s_id&quot;)\n    Integer sId;\n\n    @Column(name=&quot;c_id&quot;)\n    Integer cId;\n}\n</code></pre>\n<p>class 2:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;c&quot;)\npublic class C {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n}\n</code></pre>\n<p>Specificatin class:</p>\n<pre><code>public class SSpecification {\n\n    public static Specification&lt;S&gt; isNameLike(String nameQuery) {\n        return (root, query, builder) -&gt; {\n\n            query.distinct(true);\n\n            Root&lt;C&gt; cRoot = query.from(Co.class);\n\n            List&lt;Predicate&gt; predicateList = new ArrayList&lt;&gt;();\n            predicateList.add(builder.equal(root.get(&quot;cId&quot;), cRoot .get(&quot;id&quot;)));\n            predicateList.add(builder.like(cRoot .get(&quot;name&quot;), &quot;%&quot; + nameQuery + &quot;%&quot;));\n\n            return builder.and(predicateList.toArray(Predicate[]::new));\n        };\n    }\n\n    public static Specification&lt;S&gt; isMember(Boolean isMember) {\n        return (root, query, criteriaBuilder) -&gt; criteriaBuilder.equal(root.get(&quot;isMember&quot;), isMember);\n    }\n}\n</code></pre>\n<p>Do you have any idea to solve this problem?</p>\n<p>Ps, I thought chained Tx management could be a solution but I was wrong.</p>\n"},{"tags":["java","out-of-memory","jmap","java-18"],"comments":[{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1677706322,"post_id":75511851,"comment_id":133393394,"body_markdown":"I don&#39;t think it is hanging, it&#39;s just not running the process in the background because you removed the instruction to do so by removing the `&amp;`. So it will exit, when the program ends. I believe that sharing more of the script will help here to understand the context.","body":"I don&#39;t think it is hanging, it&#39;s just not running the process in the background because you removed the instruction to do so by removing the <code>&amp;</code>. So it will exit, when the program ends. I believe that sharing more of the script will help here to understand the context."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1677762309,"post_id":75511851,"comment_id":133404108,"body_markdown":"`jmap` communicates with the JVM to create the heap dump. So its plausible that it will hang if you let the JVM wait for the completion of `jmap`.","body":"<code>jmap</code> communicates with the JVM to create the heap dump. So its plausible that it will hang if you let the JVM wait for the completion of <code>jmap</code>."}],"owner":{"account_id":243605,"reputation":6605,"user_id":515902,"accept_rate":64,"display_name":"TTT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678184237,"creation_date":1676910484,"question_id":75511851,"body_markdown":"When the JVM (OpenJDK 18) throws an `OutOfMemoryError`, I want to make sure it stops and we take a heap histogram using `jmap`.\r\n\r\nI achieve that with the flags `-XX:-ExitOnOutOfMemoryError -XX:OnOutOfMemoryError=/usr/bin/jmap -histo:live $jpid &amp;&amp; kill $jpid &amp;`&lt;sup&gt;2&lt;/sup&gt;. Assume that `$jpid` is the Java process&#39;s PID.\r\n\r\nIf I run `/usr/bin/jmap -histo:live $jpid &amp;&amp; kill $jpid` (ie. without `&amp;` at the end), `jmap` hangs indefinitely.\r\n\r\nI wonder, why does `jmap` hang when I don&#39;t fork it (using `&amp;`)?\r\n\r\n---\r\n\r\n&lt;sub&gt;1. I initially used `-XX:+ExitOnOutOfMemoryError` and `-XX:OnOutOfMemoryError=/usr/bin/jmap -histo:live $jpid`. That doesn&#39;t work, as the former flag will result in the JVM already being stopped when `jmap` is called.&lt;/sub&gt;\r\n\r\n&lt;sub&gt;2. In reality, the `jmap` + `kill` call is wrapped in a very simple shell script that logs some additional lines, but I omitted that for simplicity here.&lt;/sub&gt;\r\n","title":"Why does taking a heap histo using OnOutOfMemoryError hang?","body":"<p>When the JVM (OpenJDK 18) throws an <code>OutOfMemoryError</code>, I want to make sure it stops and we take a heap histogram using <code>jmap</code>.</p>\n<p>I achieve that with the flags <code>-XX:-ExitOnOutOfMemoryError -XX:OnOutOfMemoryError=/usr/bin/jmap -histo:live $jpid &amp;&amp; kill $jpid &amp;</code><sup>2</sup>. Assume that <code>$jpid</code> is the Java process's PID.</p>\n<p>If I run <code>/usr/bin/jmap -histo:live $jpid &amp;&amp; kill $jpid</code> (ie. without <code>&amp;</code> at the end), <code>jmap</code> hangs indefinitely.</p>\n<p>I wonder, why does <code>jmap</code> hang when I don't fork it (using <code>&amp;</code>)?</p>\n<hr />\n<p><sub>1. I initially used <code>-XX:+ExitOnOutOfMemoryError</code> and <code>-XX:OnOutOfMemoryError=/usr/bin/jmap -histo:live $jpid</code>. That doesn't work, as the former flag will result in the JVM already being stopped when <code>jmap</code> is called.</sub></p>\n<p><sub>2. In reality, the <code>jmap</code> + <code>kill</code> call is wrapped in a very simple shell script that logs some additional lines, but I omitted that for simplicity here.</sub></p>\n"},{"tags":["java","spring-boot","apache-kafka","kafka-producer-api","confluent-schema-registry"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1678207413,"post_id":75660374,"comment_id":133486882,"body_markdown":"Try adding jackson guava dependency to your POM","body":"Try adding jackson guava dependency to your POM"}],"owner":{"account_id":27700791,"reputation":1,"user_id":21145405,"display_name":"Puneet Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678183878,"creation_date":1678182774,"question_id":75660374,"body_markdown":"I am trying to build a application which will publish json messages to kafka topic. We have schema registry enabled on the topic. I am following the [kafka documentation](https://docs.confluent.io/platform/current/schema-registry/serdes-develop/serdes-json.html#using-schema-annotation-on-the-java-object) **but I am getting below error.** \r\n\r\n```\r\nCaused by: org.apache.kafka.common.KafkaException: Could not instantiate class io.confluent.kafka.serializers.json.KafkaJsonSchemaSerializer\r\n\tat org.apache.kafka.common.utils.Utils.newInstance(Utils.java:399)\r\n\tat org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:401)\r\n\tat org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:436)\r\n\tat org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:421)\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:388)\r\n\t... 34 common frames omitted\r\nCaused by: java.lang.reflect.InvocationTargetException: null\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat org.apache.kafka.common.utils.Utils.newInstance(Utils.java:395)\r\n\t... 38 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: com/fasterxml/jackson/datatype/guava/GuavaModule\r\n\tat io.confluent.kafka.serializers.json.AbstractKafkaJsonSchemaSerializer.&lt;init&gt;(AbstractKafkaJsonSchemaSerializer.java:43)\r\n\tat io.confluent.kafka.serializers.json.KafkaJsonSchemaSerializer.&lt;init&gt;(KafkaJsonSchemaSerializer.java:43)\r\n\t... 43 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.datatype.guava.GuavaModule\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:338)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n\t... 45 common frames omitted\r\n```\r\n\r\n\r\n**Here is the dependencies I am using.**\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka-schema-registry-client&lt;/artifactId&gt;\r\n            &lt;version&gt;7.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/io.confluent/kafka-json-serializer --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka-json-schema-serializer&lt;/artifactId&gt;\r\n            &lt;version&gt;7.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n**Here is my producer code **\r\n\r\n```\r\n@Bean\r\n\tpublic KafkaProducer&lt;String, Object&gt; jsonKafkaProducer() {\r\n\r\n\t\tProperties configProps = new Properties();\r\n\t\tconfigProps.put(ProducerConfig.CLIENT_ID_CONFIG, CLIENT_ID);\r\n\t\tconfigProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n\t\tconfigProps.put(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, SECURITY_MECHANISM);\r\n\t\tconfigProps.put(SslConfigs.SSL_TRUSTSTORE_TYPE_CONFIG, SSL_TYPE);\r\n\t\tconfigProps.put(SslConfigs.SSL_TRUSTSTORE_LOCATION_CONFIG, kafkaTruststore);\r\n\t\tconfigProps.put(SslConfigs.SSL_TRUSTSTORE_PASSWORD_CONFIG, kafkaTruststorePassword);\r\n\t\tconfigProps.put(SslConfigs.SSL_KEYSTORE_TYPE_CONFIG, SSL_TYPE);\r\n\t\tconfigProps.put(SslConfigs.SSL_KEYSTORE_LOCATION_CONFIG, kafkaKeystore);\r\n\t\tconfigProps.put(SslConfigs.SSL_KEYSTORE_PASSWORD_CONFIG, kafkaKeystorePassword);\r\n\t\tconfigProps.put(ProducerConfig.ACKS_CONFIG, &quot;all&quot;);\r\n\t\tconfigProps.put(ProducerConfig.RETRIES_CONFIG, 3);\r\n\t\tconfigProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, io.confluent.kafka.serializers.json.KafkaJsonSchemaSerializer.class);\r\n\t\tconfigProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, org.apache.kafka.common.serialization.StringSerializer.class);\r\n\r\n\t\tconfigProps.put(&quot;auto.register.schemas&quot;, false);\r\n\t\tconfigProps.put(&quot;schema.registry.url&quot;, schemaRegistryUrl);\r\n\t\tconfigProps.put(&quot;basic.auth.credentials.source&quot;, basicAuthCredSrc);\r\n\t\tconfigProps.put(&quot;basic.auth.user.info&quot;, basicAuthUserInfo);\r\n\t\treturn new KafkaProducer&lt;String, Object&gt;(configProps);\r\n\t}\r\n```\r\n\r\n","title":"How to use kafka json schema registry?","body":"<p>I am trying to build a application which will publish json messages to kafka topic. We have schema registry enabled on the topic. I am following the <a href=\"https://docs.confluent.io/platform/current/schema-registry/serdes-develop/serdes-json.html#using-schema-annotation-on-the-java-object\" rel=\"nofollow noreferrer\">kafka documentation</a> <strong>but I am getting below error.</strong></p>\n<pre><code>Caused by: org.apache.kafka.common.KafkaException: Could not instantiate class io.confluent.kafka.serializers.json.KafkaJsonSchemaSerializer\n    at org.apache.kafka.common.utils.Utils.newInstance(Utils.java:399)\n    at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:401)\n    at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:436)\n    at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:421)\n    at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:388)\n    ... 34 common frames omitted\nCaused by: java.lang.reflect.InvocationTargetException: null\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.apache.kafka.common.utils.Utils.newInstance(Utils.java:395)\n    ... 38 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: com/fasterxml/jackson/datatype/guava/GuavaModule\n    at io.confluent.kafka.serializers.json.AbstractKafkaJsonSchemaSerializer.&lt;init&gt;(AbstractKafkaJsonSchemaSerializer.java:43)\n    at io.confluent.kafka.serializers.json.KafkaJsonSchemaSerializer.&lt;init&gt;(KafkaJsonSchemaSerializer.java:43)\n    ... 43 common frames omitted\nCaused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.datatype.guava.GuavaModule\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:338)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 45 common frames omitted\n</code></pre>\n<p><strong>Here is the dependencies I am using.</strong></p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-schema-registry-client&lt;/artifactId&gt;\n            &lt;version&gt;7.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.confluent/kafka-json-serializer --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-json-schema-serializer&lt;/artifactId&gt;\n            &lt;version&gt;7.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>**Here is my producer code **</p>\n<pre><code>@Bean\n    public KafkaProducer&lt;String, Object&gt; jsonKafkaProducer() {\n\n        Properties configProps = new Properties();\n        configProps.put(ProducerConfig.CLIENT_ID_CONFIG, CLIENT_ID);\n        configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n        configProps.put(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, SECURITY_MECHANISM);\n        configProps.put(SslConfigs.SSL_TRUSTSTORE_TYPE_CONFIG, SSL_TYPE);\n        configProps.put(SslConfigs.SSL_TRUSTSTORE_LOCATION_CONFIG, kafkaTruststore);\n        configProps.put(SslConfigs.SSL_TRUSTSTORE_PASSWORD_CONFIG, kafkaTruststorePassword);\n        configProps.put(SslConfigs.SSL_KEYSTORE_TYPE_CONFIG, SSL_TYPE);\n        configProps.put(SslConfigs.SSL_KEYSTORE_LOCATION_CONFIG, kafkaKeystore);\n        configProps.put(SslConfigs.SSL_KEYSTORE_PASSWORD_CONFIG, kafkaKeystorePassword);\n        configProps.put(ProducerConfig.ACKS_CONFIG, &quot;all&quot;);\n        configProps.put(ProducerConfig.RETRIES_CONFIG, 3);\n        configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, io.confluent.kafka.serializers.json.KafkaJsonSchemaSerializer.class);\n        configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, org.apache.kafka.common.serialization.StringSerializer.class);\n\n        configProps.put(&quot;auto.register.schemas&quot;, false);\n        configProps.put(&quot;schema.registry.url&quot;, schemaRegistryUrl);\n        configProps.put(&quot;basic.auth.credentials.source&quot;, basicAuthCredSrc);\n        configProps.put(&quot;basic.auth.user.info&quot;, basicAuthUserInfo);\n        return new KafkaProducer&lt;String, Object&gt;(configProps);\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","controller","spring-restcontroller"],"comments":[{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":1,"creation_date":1678039414,"post_id":75642037,"comment_id":133451683,"body_markdown":"The long value is referring to the id of `Enseignant` class, the behaviour is due to avoid the infinite recursion.","body":"The long value is referring to the id of <code>Enseignant</code> class, the behaviour is due to avoid the infinite recursion."},{"owner":{"account_id":14698858,"reputation":519,"user_id":10615480,"display_name":"khalid tounoussi"},"score":0,"creation_date":1678042334,"post_id":75642037,"comment_id":133452181,"body_markdown":"so what is the solution, do i need to fetch again in my front ? or there is another solution in backend ?","body":"so what is the solution, do i need to fetch again in my front ? or there is another solution in backend ?"}],"answers":[{"tags":[],"owner":{"account_id":14698858,"reputation":519,"user_id":10615480,"display_name":"khalid tounoussi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678183551,"creation_date":1678183146,"answer_id":75660451,"question_id":75642037,"body_markdown":"removing this from entity Enseignant solve the problem.\r\n\r\n    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\r\n\r\n\r\nThe `@JsonIdentityInfo` annotation with PropertyGenerator as the generator type and &quot;id&quot; as the property name tells Jackson to use object identity when serializing the class. In other words, when Jackson encounters the same object reference multiple times, it will only include the full serialization of that object once, and subsequent references to the same object will be represented as a reference to the original object&#39;s ID.","title":"my Rest controller in spring boot app 3 send embedded Object as Number and sometimes as Object","body":"<p>removing this from entity Enseignant solve the problem.</p>\n<pre><code>@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\n</code></pre>\n<p>The <code>@JsonIdentityInfo</code> annotation with PropertyGenerator as the generator type and &quot;id&quot; as the property name tells Jackson to use object identity when serializing the class. In other words, when Jackson encounters the same object reference multiple times, it will only include the full serialization of that object once, and subsequent references to the same object will be represented as a reference to the original object's ID.</p>\n"}],"owner":{"account_id":14698858,"reputation":519,"user_id":10615480,"display_name":"khalid tounoussi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678183551,"creation_date":1678017219,"question_id":75642037,"body_markdown":"I am working with spring boot 3, I have an entity called UniteEnseignement that looks like this :\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(name = &quot;UNITE_ENSEIGNEMENT&quot;)\r\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\r\npublic class UniteEnseignement implements Identifiable&lt;UniteEnseignementId&gt;{\r\n    @Valid\r\n    @NotNull(message = &quot;codeFormation est Requis!&quot;)\r\n    @EmbeddedId\r\n    private UniteEnseignementId id;\r\n\r\n\r\n    @NotNull(message = &quot;noEnseignant est Requis!&quot;)\r\n    @ManyToOne(fetch = FetchType.EAGER, optional = false)\r\n    @JoinColumn(name = &quot;NO_ENSEIGNANT&quot;, nullable = false)\r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;})\r\n    private Enseignant noEnseignant; } \r\n```\r\n\r\nUniteEnseignementId : \r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Embeddable\r\n@ToString\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class UniteEnseignementId implements Serializable {\r\n    private static final long serialVersionUID = 8208650618508750641L;\r\n    @Column(name = &quot;CODE_FORMATION&quot;, nullable = false, length = 8)\r\n    @NotBlank(message = &quot;codeFormation est Requis!&quot;)\r\n    private String codeFormation;\r\n\r\n    @Column(name = &quot;CODE_UE&quot;, nullable = false, length = 8)\r\n    @NotBlank(message = &quot;codeUe est Requis!&quot;)\r\n    private String codeUe;\r\n}\r\n```\r\n\r\nEntity Enseignant :\r\n\r\n```\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table(name = &quot;ENSEIGNANT&quot;)\r\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\r\npublic class Enseignant  implements  Identifiable&lt;Long&gt;{\r\n\r\n    @Id\r\n    @Column(name = &quot;NO_ENSEIGNANT&quot;, nullable = false)\r\n    @SequenceGenerator(name=&quot;ens_seq&quot;, sequenceName = &quot;ens_seq&quot;, allocationSize=1)\r\n    @GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;ens_seq&quot;)\r\n    private Long id;\r\n\r\n    @OneToMany(mappedBy = &quot;noEnseignant&quot;, fetch = FetchType.LAZY)\r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;})\r\n    @JsonBackReference(value=&quot;noEnseignant&quot;)\r\n    @JsonIgnore\r\n    private List&lt;UniteEnseignement&gt; listUE;\r\n}\r\n```\r\n\r\nI want to call my Controller : UEController \r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/unites_enseignement&quot;)\r\npublic class UEController extends BaseController&lt;UniteEnseignement, UniteEnseignementId&gt; {\r\n\r\n    @Autowired\r\n    public UEController(UEService ueService) {\r\n        super(ueService);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;UniteEnseignement&gt; getAll() {\r\n        for( UniteEnseignement ue : super.getAll())\r\n            System.out.println(ue.getNoEnseignant());\r\n        return super.getAll();\r\n    }\r\n}\r\n```\r\n\r\nin my console it prints it correctly : \r\n\r\n```\r\n[UniteEnseignement{id=UniteEnseignementId(codeFormation=M2DOSI, codeUe=ISI)noEnseignantEnseignant{id=1, type=&#39;MCF&#39;, sexe=&#39;H&#39;, nom=&#39;S&#39;, prenom=&#39;P&#39;}, codeFormation=Formation{id=&#39;M2DOSI&#39;, diplome=&#39;M&#39;, n0Annee=3, nomFormation=&#39;Master D&#233;veloppement &#224; l&#39;Offshore des Syst&#232;mes d&#39;Information&#39;, doubleDiplome=&#39;O&#39;, debutAccreditation=2012-09-01, finAccreditation=2017-09-30}, designation=&#39;Ing&#233;nierie des Syst&#232;mes d&#39;Information&#39;, semestre=&#39;9  &#39;, description=&#39;null&#39;, nbhCm=30, nbhTd=30, nbhTp=30}, UniteEnseignement{id=UniteEnseignementId(codeFormation=M2DOSI, codeUe=IDL)noEnseignantEnseignant{id=1, type=&#39;MCF&#39;, sexe=&#39;H&#39;, nom=&#39;S&#39;, prenom=&#39;P&#39;}, codeFormation=Formation{id=&#39;M2DOSI&#39;, diplome=&#39;M&#39;, n0Annee=3, nomFormation=&#39;Master D&#233;veloppement &#224; l&#39;Offshore des Syst&#232;mes d&#39;Information&#39;, doubleDiplome=&#39;O&#39;, debutAccreditation=2012-09-01, finAccreditation=2017-09-30}, designation=&#39;Ing&#233;nierie de D&#233;veloppement Logiciel&#39;, semestre=&#39;9  &#39;, description=&#39;null&#39;, nbhCm=20, nbhTd=20, nbhTp=20}, UniteEnseignement{id=UniteEnseignementId(codeFormation=M2DOSI, codeUe=J2EE)noEnseignantEnseignant{id=2, type=&#39;MCF&#39;, sexe=&#39;H&#39;, nom=&#39;LL&#39;, prenom=&#39;MM&#39;}, codeFormation=Formation{id=&#39;M2DOSI&#39;, diplome=&#39;M&#39;, n0Annee=3, nomFormation=&#39;Master D&#233;veloppement &#224; l&#39;Offshore des Syst&#232;mes d&#39;Information&#39;, doubleDiplome=&#39;O&#39;, debutAccreditation=2012-09-01, finAccreditation=2017-09-30}, designation=&#39;Java/J2EE&#39;, semestre=&#39;9  &#39;, description=&#39;null&#39;, nbhCm=20, nbhTd=20, nbhTp=20}, UniteEnseignement{id=UniteEnseignementId(codeFormation=M2DOSI, codeUe=SR)noEnseignantEnseignant{id=2, type=&#39;MCF&#39;, sexe=&#39;H&#39;, nom=&#39;LL&#39;, prenom=&#39;MM&#39;}, codeFormation=Formation{id=&#39;M2DOSI&#39;, diplome=&#39;M&#39;, n0Annee=3, nomFormation=&#39;Master D&#233;veloppement &#224; l&#39;Offshore des Syst&#232;mes d&#39;Information&#39;, doubleDiplome=&#39;O&#39;, debutAccreditation=2012-09-01, finAccreditation=2017-09-30}, designation=&#39;Syst&#232;mes R&#233;partis&#39;, semestre=&#39;10 &#39;, description=&#39;null&#39;, nbhCm=20, nbhTd=20, nbhTp=20}, UniteEnseignement{id=UniteEnseignementId(codeFormation=M2DOSI, codeUe=EDE)noEnseignantEnseignant{id=3, type=&#39;PRAST&#39;, sexe=&#39;H&#39;, nom=&#39;Jean&#39;, prenom=&#39;Patrick&#39;}, codeFormation=Formation{id=&#39;M2DOSI&#39;, diplome=&#39;M&#39;, n0Annee=3, nomFormation=&#39;Master D&#233;veloppement &#224; l&#39;Offshore des Syst&#232;mes d&#39;Information&#39;, doubleDiplome=&#39;O&#39;, debutAccreditation=2012-09-01, finAccreditation=2017-09-30}, designation=&#39;Environnement de D&#233;veloppement&#39;, semestre=&#39;9  &#39;, description=&#39;null&#39;, nbhCm=0, nbhTd=0, nbhTp=48}, UniteEnseignement{id=UniteEnseignementId(codeFormation=M2DOSI, codeUe=WEB)noEnseignantEnseignant{id=3, type=&#39;PRAST&#39;, sexe=&#39;H&#39;, nom=&#39;Jean&#39;, prenom=&#39;Patrick&#39;}, codeFormation=Formation{id=&#39;M2DOSI&#39;, diplome=&#39;M&#39;, n0Annee=3, nomFormation=&#39;Master D&#233;veloppement &#224; l&#39;Offshore des Syst&#232;mes d&#39;Information&#39;, doubleDiplome=&#39;O&#39;, debutAccreditation=2012-09-01, finAccreditation=2017-09-30}, designation=&#39;Langages du WEB&#39;, semestre=&#39;9  &#39;, description=&#39;null&#39;, nbhCm=20, nbhTd=20, nbhTp=20}, UniteEnseignement{id=UniteEnseignementId(codeFormation=M2DOSI, codeUe=CO)noEnseignantEnseignant{id=5, type=&#39;MCF&#39;, sexe=&#39;H&#39;, nom=&#39;KER&#39;, prenom=&#39;Pat&#39;}, codeFormation=Formation{id=&#39;M2DOSI&#39;, diplome=&#39;M&#39;, n0Annee=3, nomFormation=&#39;Master D&#233;veloppement &#224; l&#39;Offshore des Syst&#232;mes d&#39;Information&#39;, doubleDiplome=&#39;O&#39;, debutAccreditation=2012-09-01, finAccreditation=2017-09-30}, designation=&#39;Conception Objet&#39;, semestre=&#39;9  &#39;, description=&#39;null&#39;, nbhCm=20, nbhTd=20, nbhTp=20}, UniteEnseignement{id=UniteEnseignementId(codeFormation=M2DOSI, codeUe=PCO)noEnseignantEnseignant{id=1, type=&#39;MCF&#39;, sexe=&#39;H&#39;, nom=&#39;S&#39;, prenom=&#39;P&#39;}, codeFormation=Formation{id=&#39;M2DOSI&#39;, diplome=&#39;M&#39;, n0Annee=3, nomFormation=&#39;Master D&#233;veloppement &#224; l&#39;Offshore des Syst&#232;mes d&#39;Information&#39;, doubleDiplome=&#39;O&#39;, debutAccreditation=2012-09-01, finAccreditation=2017-09-30}, designation=&#39;Pr&#233;paration au Contexte de l&#39;Offshore&#39;, semestre=&#39;10 &#39;, description=&#39;null&#39;, nbhCm=16, nbhTd=16, nbhTp=16}, UniteEnseignement{id=UniteEnseignementId(codeFormation=M2DOSI, codeUe=MMM)noEnseignantEnseignant{id=1, type=&#39;MCF&#39;, sexe=&#39;H&#39;, nom=&#39;S&#39;, prenom=&#39;P&#39;}, codeFormation=Formation{id=&#39;M2DOSI&#39;, diplome=&#39;M&#39;, n0Annee=3, nomFormation=&#39;Master D&#233;veloppement &#224; l&#39;Offshore des Syst&#232;mes d&#39;Information&#39;, doubleDiplome=&#39;O&#39;, debutAccreditation=2012-09-01, finAccreditation=2017-09-30}, designation=&#39;Ing&#233;nierie des Syst&#232;mes d&#39;Information&#39;, semestre=&#39;9  &#39;, description=&#39;null&#39;, nbhCm=20, nbhTd=20, nbhTp=20}, UniteEnseignement{id=UniteEnseignementId(codeFormation=M2DOSI, codeUe=DIDI)noEnseignantEnseignant{id=1, type=&#39;MCF&#39;, sexe=&#39;H&#39;, nom=&#39;S&#39;, prenom=&#39;P&#39;}, codeFormation=Formation{id=&#39;M2DOSI&#39;, diplome=&#39;M&#39;, n0Annee=3, nomFormation=&#39;Master D&#233;veloppement &#224; l&#39;Offshore des Syst&#232;mes d&#39;Information&#39;, doubleDiplome=&#39;O&#39;, debutAccreditation=2012-09-01, finAccreditation=2017-09-30}, designation=&#39;Ing&#233;nierie des Syst&#232;mes d&#39;Information&#39;, semestre=&#39;9  &#39;, description=&#39;null&#39;, nbhCm=30, nbhTd=30, nbhTp=30}]\r\n```\r\n\r\n\r\nbut in my postman, sometimes it gives me Object sometimes as Long.\r\n\r\n```\r\n[\r\n    {\r\n        &quot;id&quot;: {\r\n            &quot;codeFormation&quot;: &quot;M2DOSI&quot;,\r\n            &quot;codeUe&quot;: &quot;ISI&quot;\r\n        },\r\n        &quot;codeFormation&quot;: {\r\n            &quot;id&quot;: &quot;M2DOSI&quot;,\r\n            &quot;diplome&quot;: &quot;M&quot;,\r\n            &quot;n0Annee&quot;: 3,\r\n            &quot;nomFormation&quot;: &quot;Master D&#233;veloppement &#224; l&#39;Offshore des Syst&#232;mes d&#39;Information&quot;,\r\n            &quot;doubleDiplome&quot;: &quot;O&quot;,\r\n            &quot;debutAccreditation&quot;: &quot;01-09-2012&quot;,\r\n            &quot;finAccreditation&quot;: &quot;30-09-2017&quot;,\r\n            &quot;debutAccreditationBeforeFinAccreditation&quot;: true\r\n        },\r\n        &quot;noEnseignant&quot;: {\r\n            &quot;id&quot;: 1,\r\n            &quot;type&quot;: &quot;MCF&quot;,\r\n            &quot;sexe&quot;: &quot;H&quot;,\r\n            &quot;nom&quot;: &quot;S&quot;,\r\n            &quot;prenom&quot;: &quot;P&quot;,\r\n            &quot;adresse&quot;: &quot;6 rue de l&#39;eglise&quot;,\r\n            &quot;codePostal&quot;: &quot;29860&quot;,\r\n            &quot;ville&quot;: &quot;LE DRENNEC&quot;,\r\n            &quot;pays&quot;: &quot;FR&quot;,\r\n            &quot;mobile&quot;: &quot;06.00.00.01.00&quot;,\r\n            &quot;telephone&quot;: &quot;02.98.01.69.74&quot;,\r\n            &quot;emailUbo&quot;: &quot;ps@univ-brest.fr&quot;,\r\n            &quot;emailPerso&quot;: &quot;ps@gmail.com&quot;\r\n        },\r\n        &quot;designation&quot;: &quot;Ing&#233;nierie des Syst&#232;mes d&#39;Information&quot;,\r\n        &quot;semestre&quot;: &quot;9  &quot;,\r\n        &quot;description&quot;: null,\r\n        &quot;nbhCm&quot;: 30,\r\n        &quot;nbhTd&quot;: 30,\r\n        &quot;nbhTp&quot;: 30\r\n    },\r\n    {\r\n        &quot;id&quot;: {\r\n            &quot;codeFormation&quot;: &quot;M2DOSI&quot;,\r\n            &quot;codeUe&quot;: &quot;IDL&quot;\r\n        },\r\n        &quot;codeFormation&quot;: {\r\n            &quot;id&quot;: &quot;M2DOSI&quot;,\r\n            &quot;diplome&quot;: &quot;M&quot;,\r\n            &quot;n0Annee&quot;: 3,\r\n            &quot;nomFormation&quot;: &quot;Master D&#233;veloppement &#224; l&#39;Offshore des Syst&#232;mes d&#39;Information&quot;,\r\n            &quot;doubleDiplome&quot;: &quot;O&quot;,\r\n            &quot;debutAccreditation&quot;: &quot;01-09-2012&quot;,\r\n            &quot;finAccreditation&quot;: &quot;30-09-2017&quot;,\r\n            &quot;debutAccreditationBeforeFinAccreditation&quot;: true\r\n        },\r\n        &quot;noEnseignant&quot;: 1,\r\n        &quot;designation&quot;: &quot;Ing&#233;nierie de D&#233;veloppement Logiciel&quot;,\r\n        &quot;semestre&quot;: &quot;9  &quot;,\r\n        &quot;description&quot;: null,\r\n        &quot;nbhCm&quot;: 20,\r\n        &quot;nbhTd&quot;: 20,\r\n        &quot;nbhTp&quot;: 20\r\n    },\r\n    {\r\n        &quot;id&quot;: {\r\n            &quot;codeFormation&quot;: &quot;M2DOSI&quot;,\r\n            &quot;codeUe&quot;: &quot;J2EE&quot;\r\n        },\r\n        &quot;codeFormation&quot;: {\r\n            &quot;id&quot;: &quot;M2DOSI&quot;,\r\n            &quot;diplome&quot;: &quot;M&quot;,\r\n            &quot;n0Annee&quot;: 3,\r\n            &quot;nomFormation&quot;: &quot;Master D&#233;veloppement &#224; l&#39;Offshore des Syst&#232;mes d&#39;Information&quot;,\r\n            &quot;doubleDiplome&quot;: &quot;O&quot;,\r\n            &quot;debutAccreditation&quot;: &quot;01-09-2012&quot;,\r\n            &quot;finAccreditation&quot;: &quot;30-09-2017&quot;,\r\n            &quot;debutAccreditationBeforeFinAccreditation&quot;: true\r\n        },\r\n        &quot;noEnseignant&quot;: {\r\n            &quot;id&quot;: 2,\r\n            &quot;type&quot;: &quot;MCF&quot;,\r\n            &quot;sexe&quot;: &quot;H&quot;,\r\n            &quot;nom&quot;: &quot;LL&quot;,\r\n            &quot;prenom&quot;: &quot;MM&quot;,\r\n            &quot;adresse&quot;: &quot;18rue du pont&quot;,\r\n            &quot;codePostal&quot;: &quot;29200&quot;,\r\n            &quot;ville&quot;: &quot;BREST&quot;,\r\n            &quot;pays&quot;: &quot;FR&quot;,\r\n            &quot;mobile&quot;: &quot;06.00.00.00.32&quot;,\r\n            &quot;telephone&quot;: &quot;02.08.01.67.32&quot;,\r\n            &quot;emailUbo&quot;: &quot;mm@univ-brest.fr&quot;,\r\n            &quot;emailPerso&quot;: &quot;mm@gmail.com&quot;\r\n        },\r\n        &quot;designation&quot;: &quot;Java/J2EE&quot;,\r\n        &quot;semestre&quot;: &quot;9  &quot;,\r\n        &quot;description&quot;: null,\r\n        &quot;nbhCm&quot;: 20,\r\n        &quot;nbhTd&quot;: 20,\r\n        &quot;nbhTp&quot;: 20\r\n    },\r\n    {\r\n        &quot;id&quot;: {\r\n            &quot;codeFormation&quot;: &quot;M2DOSI&quot;,\r\n            &quot;codeUe&quot;: &quot;SR&quot;\r\n        },\r\n        &quot;codeFormation&quot;: {\r\n            &quot;id&quot;: &quot;M2DOSI&quot;,\r\n            &quot;diplome&quot;: &quot;M&quot;,\r\n            &quot;n0Annee&quot;: 3,\r\n            &quot;nomFormation&quot;: &quot;Master D&#233;veloppement &#224; l&#39;Offshore des Syst&#232;mes d&#39;Information&quot;,\r\n            &quot;doubleDiplome&quot;: &quot;O&quot;,\r\n            &quot;debutAccreditation&quot;: &quot;01-09-2012&quot;,\r\n            &quot;finAccreditation&quot;: &quot;30-09-2017&quot;,\r\n            &quot;debutAccreditationBeforeFinAccreditation&quot;: true\r\n        },\r\n        &quot;noEnseignant&quot;: 2,\r\n        &quot;designation&quot;: &quot;Syst&#232;mes R&#233;partis&quot;,\r\n        &quot;semestre&quot;: &quot;10 &quot;,\r\n        &quot;description&quot;: null,\r\n        &quot;nbhCm&quot;: 20,\r\n        &quot;nbhTd&quot;: 20,\r\n        &quot;nbhTp&quot;: 20\r\n    }\r\n]\r\n```\r\n\r\nI want to send always noEnseignant as Object.\r\n\r\nI have try to set noEnseignant in a loop, but I dont think it is a problem of service, because even in my Controller it prints everything right.","title":"my Rest controller in spring boot app 3 send embedded Object as Number and sometimes as Object","body":"<p>I am working with spring boot 3, I have an entity called UniteEnseignement that looks like this :</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;UNITE_ENSEIGNEMENT&quot;)\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\npublic class UniteEnseignement implements Identifiable&lt;UniteEnseignementId&gt;{\n    @Valid\n    @NotNull(message = &quot;codeFormation est Requis!&quot;)\n    @EmbeddedId\n    private UniteEnseignementId id;\n\n\n    @NotNull(message = &quot;noEnseignant est Requis!&quot;)\n    @ManyToOne(fetch = FetchType.EAGER, optional = false)\n    @JoinColumn(name = &quot;NO_ENSEIGNANT&quot;, nullable = false)\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;})\n    private Enseignant noEnseignant; } \n</code></pre>\n<p>UniteEnseignementId :</p>\n<pre><code>@Getter\n@Setter\n@Embeddable\n@ToString\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class UniteEnseignementId implements Serializable {\n    private static final long serialVersionUID = 8208650618508750641L;\n    @Column(name = &quot;CODE_FORMATION&quot;, nullable = false, length = 8)\n    @NotBlank(message = &quot;codeFormation est Requis!&quot;)\n    private String codeFormation;\n\n    @Column(name = &quot;CODE_UE&quot;, nullable = false, length = 8)\n    @NotBlank(message = &quot;codeUe est Requis!&quot;)\n    private String codeUe;\n}\n</code></pre>\n<p>Entity Enseignant :</p>\n<pre><code>@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\n@Entity\n@Table(name = &quot;ENSEIGNANT&quot;)\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\npublic class Enseignant  implements  Identifiable&lt;Long&gt;{\n\n    @Id\n    @Column(name = &quot;NO_ENSEIGNANT&quot;, nullable = false)\n    @SequenceGenerator(name=&quot;ens_seq&quot;, sequenceName = &quot;ens_seq&quot;, allocationSize=1)\n    @GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;ens_seq&quot;)\n    private Long id;\n\n    @OneToMany(mappedBy = &quot;noEnseignant&quot;, fetch = FetchType.LAZY)\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;})\n    @JsonBackReference(value=&quot;noEnseignant&quot;)\n    @JsonIgnore\n    private List&lt;UniteEnseignement&gt; listUE;\n}\n</code></pre>\n<p>I want to call my Controller : UEController</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/unites_enseignement&quot;)\npublic class UEController extends BaseController&lt;UniteEnseignement, UniteEnseignementId&gt; {\n\n    @Autowired\n    public UEController(UEService ueService) {\n        super(ueService);\n    }\n\n    @Override\n    public List&lt;UniteEnseignement&gt; getAll() {\n        for( UniteEnseignement ue : super.getAll())\n            System.out.println(ue.getNoEnseignant());\n        return super.getAll();\n    }\n}\n</code></pre>\n<p>in my console it prints it correctly :</p>\n<pre><code>[UniteEnseignement{id=UniteEnseignementId(codeFormation=M2DOSI, codeUe=ISI)noEnseignantEnseignant{id=1, type='MCF', sexe='H', nom='S', prenom='P'}, codeFormation=Formation{id='M2DOSI', diplome='M', n0Annee=3, nomFormation='Master Dveloppement  l'Offshore des Systmes d'Information', doubleDiplome='O', debutAccreditation=2012-09-01, finAccreditation=2017-09-30}, designation='Ingnierie des Systmes d'Information', semestre='9  ', description='null', nbhCm=30, nbhTd=30, nbhTp=30}, UniteEnseignement{id=UniteEnseignementId(codeFormation=M2DOSI, codeUe=IDL)noEnseignantEnseignant{id=1, type='MCF', sexe='H', nom='S', prenom='P'}, codeFormation=Formation{id='M2DOSI', diplome='M', n0Annee=3, nomFormation='Master Dveloppement  l'Offshore des Systmes d'Information', doubleDiplome='O', debutAccreditation=2012-09-01, finAccreditation=2017-09-30}, designation='Ingnierie de Dveloppement Logiciel', semestre='9  ', description='null', nbhCm=20, nbhTd=20, nbhTp=20}, UniteEnseignement{id=UniteEnseignementId(codeFormation=M2DOSI, codeUe=J2EE)noEnseignantEnseignant{id=2, type='MCF', sexe='H', nom='LL', prenom='MM'}, codeFormation=Formation{id='M2DOSI', diplome='M', n0Annee=3, nomFormation='Master Dveloppement  l'Offshore des Systmes d'Information', doubleDiplome='O', debutAccreditation=2012-09-01, finAccreditation=2017-09-30}, designation='Java/J2EE', semestre='9  ', description='null', nbhCm=20, nbhTd=20, nbhTp=20}, UniteEnseignement{id=UniteEnseignementId(codeFormation=M2DOSI, codeUe=SR)noEnseignantEnseignant{id=2, type='MCF', sexe='H', nom='LL', prenom='MM'}, codeFormation=Formation{id='M2DOSI', diplome='M', n0Annee=3, nomFormation='Master Dveloppement  l'Offshore des Systmes d'Information', doubleDiplome='O', debutAccreditation=2012-09-01, finAccreditation=2017-09-30}, designation='Systmes Rpartis', semestre='10 ', description='null', nbhCm=20, nbhTd=20, nbhTp=20}, UniteEnseignement{id=UniteEnseignementId(codeFormation=M2DOSI, codeUe=EDE)noEnseignantEnseignant{id=3, type='PRAST', sexe='H', nom='Jean', prenom='Patrick'}, codeFormation=Formation{id='M2DOSI', diplome='M', n0Annee=3, nomFormation='Master Dveloppement  l'Offshore des Systmes d'Information', doubleDiplome='O', debutAccreditation=2012-09-01, finAccreditation=2017-09-30}, designation='Environnement de Dveloppement', semestre='9  ', description='null', nbhCm=0, nbhTd=0, nbhTp=48}, UniteEnseignement{id=UniteEnseignementId(codeFormation=M2DOSI, codeUe=WEB)noEnseignantEnseignant{id=3, type='PRAST', sexe='H', nom='Jean', prenom='Patrick'}, codeFormation=Formation{id='M2DOSI', diplome='M', n0Annee=3, nomFormation='Master Dveloppement  l'Offshore des Systmes d'Information', doubleDiplome='O', debutAccreditation=2012-09-01, finAccreditation=2017-09-30}, designation='Langages du WEB', semestre='9  ', description='null', nbhCm=20, nbhTd=20, nbhTp=20}, UniteEnseignement{id=UniteEnseignementId(codeFormation=M2DOSI, codeUe=CO)noEnseignantEnseignant{id=5, type='MCF', sexe='H', nom='KER', prenom='Pat'}, codeFormation=Formation{id='M2DOSI', diplome='M', n0Annee=3, nomFormation='Master Dveloppement  l'Offshore des Systmes d'Information', doubleDiplome='O', debutAccreditation=2012-09-01, finAccreditation=2017-09-30}, designation='Conception Objet', semestre='9  ', description='null', nbhCm=20, nbhTd=20, nbhTp=20}, UniteEnseignement{id=UniteEnseignementId(codeFormation=M2DOSI, codeUe=PCO)noEnseignantEnseignant{id=1, type='MCF', sexe='H', nom='S', prenom='P'}, codeFormation=Formation{id='M2DOSI', diplome='M', n0Annee=3, nomFormation='Master Dveloppement  l'Offshore des Systmes d'Information', doubleDiplome='O', debutAccreditation=2012-09-01, finAccreditation=2017-09-30}, designation='Prparation au Contexte de l'Offshore', semestre='10 ', description='null', nbhCm=16, nbhTd=16, nbhTp=16}, UniteEnseignement{id=UniteEnseignementId(codeFormation=M2DOSI, codeUe=MMM)noEnseignantEnseignant{id=1, type='MCF', sexe='H', nom='S', prenom='P'}, codeFormation=Formation{id='M2DOSI', diplome='M', n0Annee=3, nomFormation='Master Dveloppement  l'Offshore des Systmes d'Information', doubleDiplome='O', debutAccreditation=2012-09-01, finAccreditation=2017-09-30}, designation='Ingnierie des Systmes d'Information', semestre='9  ', description='null', nbhCm=20, nbhTd=20, nbhTp=20}, UniteEnseignement{id=UniteEnseignementId(codeFormation=M2DOSI, codeUe=DIDI)noEnseignantEnseignant{id=1, type='MCF', sexe='H', nom='S', prenom='P'}, codeFormation=Formation{id='M2DOSI', diplome='M', n0Annee=3, nomFormation='Master Dveloppement  l'Offshore des Systmes d'Information', doubleDiplome='O', debutAccreditation=2012-09-01, finAccreditation=2017-09-30}, designation='Ingnierie des Systmes d'Information', semestre='9  ', description='null', nbhCm=30, nbhTd=30, nbhTp=30}]\n</code></pre>\n<p>but in my postman, sometimes it gives me Object sometimes as Long.</p>\n<pre><code>[\n    {\n        &quot;id&quot;: {\n            &quot;codeFormation&quot;: &quot;M2DOSI&quot;,\n            &quot;codeUe&quot;: &quot;ISI&quot;\n        },\n        &quot;codeFormation&quot;: {\n            &quot;id&quot;: &quot;M2DOSI&quot;,\n            &quot;diplome&quot;: &quot;M&quot;,\n            &quot;n0Annee&quot;: 3,\n            &quot;nomFormation&quot;: &quot;Master Dveloppement  l'Offshore des Systmes d'Information&quot;,\n            &quot;doubleDiplome&quot;: &quot;O&quot;,\n            &quot;debutAccreditation&quot;: &quot;01-09-2012&quot;,\n            &quot;finAccreditation&quot;: &quot;30-09-2017&quot;,\n            &quot;debutAccreditationBeforeFinAccreditation&quot;: true\n        },\n        &quot;noEnseignant&quot;: {\n            &quot;id&quot;: 1,\n            &quot;type&quot;: &quot;MCF&quot;,\n            &quot;sexe&quot;: &quot;H&quot;,\n            &quot;nom&quot;: &quot;S&quot;,\n            &quot;prenom&quot;: &quot;P&quot;,\n            &quot;adresse&quot;: &quot;6 rue de l'eglise&quot;,\n            &quot;codePostal&quot;: &quot;29860&quot;,\n            &quot;ville&quot;: &quot;LE DRENNEC&quot;,\n            &quot;pays&quot;: &quot;FR&quot;,\n            &quot;mobile&quot;: &quot;06.00.00.01.00&quot;,\n            &quot;telephone&quot;: &quot;02.98.01.69.74&quot;,\n            &quot;emailUbo&quot;: &quot;ps@univ-brest.fr&quot;,\n            &quot;emailPerso&quot;: &quot;ps@gmail.com&quot;\n        },\n        &quot;designation&quot;: &quot;Ingnierie des Systmes d'Information&quot;,\n        &quot;semestre&quot;: &quot;9  &quot;,\n        &quot;description&quot;: null,\n        &quot;nbhCm&quot;: 30,\n        &quot;nbhTd&quot;: 30,\n        &quot;nbhTp&quot;: 30\n    },\n    {\n        &quot;id&quot;: {\n            &quot;codeFormation&quot;: &quot;M2DOSI&quot;,\n            &quot;codeUe&quot;: &quot;IDL&quot;\n        },\n        &quot;codeFormation&quot;: {\n            &quot;id&quot;: &quot;M2DOSI&quot;,\n            &quot;diplome&quot;: &quot;M&quot;,\n            &quot;n0Annee&quot;: 3,\n            &quot;nomFormation&quot;: &quot;Master Dveloppement  l'Offshore des Systmes d'Information&quot;,\n            &quot;doubleDiplome&quot;: &quot;O&quot;,\n            &quot;debutAccreditation&quot;: &quot;01-09-2012&quot;,\n            &quot;finAccreditation&quot;: &quot;30-09-2017&quot;,\n            &quot;debutAccreditationBeforeFinAccreditation&quot;: true\n        },\n        &quot;noEnseignant&quot;: 1,\n        &quot;designation&quot;: &quot;Ingnierie de Dveloppement Logiciel&quot;,\n        &quot;semestre&quot;: &quot;9  &quot;,\n        &quot;description&quot;: null,\n        &quot;nbhCm&quot;: 20,\n        &quot;nbhTd&quot;: 20,\n        &quot;nbhTp&quot;: 20\n    },\n    {\n        &quot;id&quot;: {\n            &quot;codeFormation&quot;: &quot;M2DOSI&quot;,\n            &quot;codeUe&quot;: &quot;J2EE&quot;\n        },\n        &quot;codeFormation&quot;: {\n            &quot;id&quot;: &quot;M2DOSI&quot;,\n            &quot;diplome&quot;: &quot;M&quot;,\n            &quot;n0Annee&quot;: 3,\n            &quot;nomFormation&quot;: &quot;Master Dveloppement  l'Offshore des Systmes d'Information&quot;,\n            &quot;doubleDiplome&quot;: &quot;O&quot;,\n            &quot;debutAccreditation&quot;: &quot;01-09-2012&quot;,\n            &quot;finAccreditation&quot;: &quot;30-09-2017&quot;,\n            &quot;debutAccreditationBeforeFinAccreditation&quot;: true\n        },\n        &quot;noEnseignant&quot;: {\n            &quot;id&quot;: 2,\n            &quot;type&quot;: &quot;MCF&quot;,\n            &quot;sexe&quot;: &quot;H&quot;,\n            &quot;nom&quot;: &quot;LL&quot;,\n            &quot;prenom&quot;: &quot;MM&quot;,\n            &quot;adresse&quot;: &quot;18rue du pont&quot;,\n            &quot;codePostal&quot;: &quot;29200&quot;,\n            &quot;ville&quot;: &quot;BREST&quot;,\n            &quot;pays&quot;: &quot;FR&quot;,\n            &quot;mobile&quot;: &quot;06.00.00.00.32&quot;,\n            &quot;telephone&quot;: &quot;02.08.01.67.32&quot;,\n            &quot;emailUbo&quot;: &quot;mm@univ-brest.fr&quot;,\n            &quot;emailPerso&quot;: &quot;mm@gmail.com&quot;\n        },\n        &quot;designation&quot;: &quot;Java/J2EE&quot;,\n        &quot;semestre&quot;: &quot;9  &quot;,\n        &quot;description&quot;: null,\n        &quot;nbhCm&quot;: 20,\n        &quot;nbhTd&quot;: 20,\n        &quot;nbhTp&quot;: 20\n    },\n    {\n        &quot;id&quot;: {\n            &quot;codeFormation&quot;: &quot;M2DOSI&quot;,\n            &quot;codeUe&quot;: &quot;SR&quot;\n        },\n        &quot;codeFormation&quot;: {\n            &quot;id&quot;: &quot;M2DOSI&quot;,\n            &quot;diplome&quot;: &quot;M&quot;,\n            &quot;n0Annee&quot;: 3,\n            &quot;nomFormation&quot;: &quot;Master Dveloppement  l'Offshore des Systmes d'Information&quot;,\n            &quot;doubleDiplome&quot;: &quot;O&quot;,\n            &quot;debutAccreditation&quot;: &quot;01-09-2012&quot;,\n            &quot;finAccreditation&quot;: &quot;30-09-2017&quot;,\n            &quot;debutAccreditationBeforeFinAccreditation&quot;: true\n        },\n        &quot;noEnseignant&quot;: 2,\n        &quot;designation&quot;: &quot;Systmes Rpartis&quot;,\n        &quot;semestre&quot;: &quot;10 &quot;,\n        &quot;description&quot;: null,\n        &quot;nbhCm&quot;: 20,\n        &quot;nbhTd&quot;: 20,\n        &quot;nbhTp&quot;: 20\n    }\n]\n</code></pre>\n<p>I want to send always noEnseignant as Object.</p>\n<p>I have try to set noEnseignant in a loop, but I dont think it is a problem of service, because even in my Controller it prints everything right.</p>\n"},{"tags":["java","rest","jersey","jax-rs","rest-client"],"comments":[{"owner":{"account_id":13204383,"reputation":31,"user_id":9536647,"display_name":"Max"},"score":3,"creation_date":1522249535,"post_id":49436818,"comment_id":86082950,"body_markdown":"I fixed it now, all i had to do was adding javax.activation V1.1.1 to the maven dependencies. Somehow thought it was more. Wonder what it needs it for considering it ran without anyways.","body":"I fixed it now, all i had to do was adding javax.activation V1.1.1 to the maven dependencies. Somehow thought it was more. Wonder what it needs it for considering it ran without anyways."}],"answers":[{"tags":[],"owner":{"account_id":117925,"reputation":4564,"user_id":308578,"accept_rate":88,"display_name":"saber tabatabaee yazdi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678183498,"creation_date":1678183498,"answer_id":75660513,"question_id":49436818,"body_markdown":"in my case:\r\n\r\n- shelve all your changes or stash them\r\n- switch branch to master : ```git fetch &amp;&amp; checkout master```\r\n- restart your system\r\n- mvn clean install\r\n- cd ./target/\r\n- java -jar .\\a**SNAPSHOT.jar\r\n- invalidate cache and restart ","title":"Rest-Client HK2 failure detected","body":"<p>in my case:</p>\n<ul>\n<li>shelve all your changes or stash them</li>\n<li>switch branch to master : <code>git fetch &amp;&amp; checkout master</code></li>\n<li>restart your system</li>\n<li>mvn clean install</li>\n<li>cd ./target/</li>\n<li>java -jar .\\a**SNAPSHOT.jar</li>\n<li>invalidate cache and restart</li>\n</ul>\n"}],"owner":{"account_id":13204383,"reputation":31,"user_id":9536647,"display_name":"Max"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5189,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1678183498,"creation_date":1521746450,"question_id":49436818,"body_markdown":"Im developing a &quot;ManageYourAnime/Manga/Movies/TvShows/Whatever&quot;-Program. A friend had the idea/need and im now making it for him as it&#180;s a good opportunity to learn things and produce something somewhat useful, to at the very least a single person in the world.\r\n\r\nAnyways, i found out that myanimelist.net provides a restservice where you can search for animes or mangas specifically and then optain infos such as a description, alternate names, episode count, artwork, etc. And i want to use that in my application.\r\n\r\nIt already sort of works. I had it downloading artwork images, but it was painfully slow sometimes and the window was not responding until the request was complete, so i put it into a seperate thread (seems MUCH faster in postman). It works, sort of, but i do get this message every time ```Response response = builder.get();``` is called within the thread here.\r\n\r\n    public void run() {\r\n                String encoded = null;\r\n    \r\n                try {\r\n                    encoded = URLEncoder.encode(search, &quot;UTF-8&quot;);\r\n                } catch (UnsupportedEncodingException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n    \r\n                if(encoded != null) {\r\n                    Client client = ClientBuilder.newClient();\r\n                    client.register(HttpAuthenticationFeature.basic(accountName, password));\r\n                    client.register(JacksonXMLProvider.class);\r\n                    WebTarget target = client.target(String.format(&quot;%s%s&quot;, &quot;https://myanimelist.net/api/anime/search.xml?q=&quot;, encoded));;\r\n                    Invocation.Builder builder = target.request(MediaType.APPLICATION_XML);\r\n                    Response response = builder.get();\r\n                    if (response.getStatus() == Response.Status.OK.getStatusCode()) {\r\n                        results = response.readEntity(new GenericType&lt;List&lt;MyAnimeListEntity&gt;&gt;() {});\r\n                    }\r\n                    client.close();\r\n                }\r\n    \r\n                controller.done();\r\n            }\r\n\r\nThis is the error i get.\r\n\r\n    Mar 22, 2018 7:36:08 PM org.glassfish.jersey.internal.Errors logErrors\r\n    WARNING: The following warnings have been detected: WARNING: HK2 failure has been detected in a code that does not run in an active Jersey Error scope.\r\n    WARNING: HK2 service reification failed for [org.glassfish.jersey.message.internal.DataSourceProvider] with an exception:\r\n    MultiException stack 1 of 2\r\n    java.lang.NoClassDefFoundError: javax/activation/DataSource\r\n    \tat java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\r\n    \tat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3090)\r\n    \tat java.base/java.lang.Class.getDeclaredConstructors(Class.java:2316)\r\n    \tat org.jvnet.hk2.internal.Utilities$3.run(Utilities.java:1378)\r\n    \tat org.jvnet.hk2.internal.Utilities$3.run(Utilities.java:1374)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat org.jvnet.hk2.internal.Utilities.getAllConstructors(Utilities.java:1374)\r\n    \tat org.jvnet.hk2.internal.Utilities.findProducerConstructor(Utilities.java:1317)\r\n    \tat org.jvnet.hk2.internal.DefaultClassAnalyzer.getConstructor(DefaultClassAnalyzer.java:83)\r\n    \tat org.glassfish.jersey.inject.hk2.JerseyClassAnalyzer.getConstructor(JerseyClassAnalyzer.java:148)\r\n    \tat org.jvnet.hk2.internal.Utilities.getConstructor(Utilities.java:180)\r\n    \tat org.jvnet.hk2.internal.ClazzCreator.initialize(ClazzCreator.java:129)\r\n    \tat org.jvnet.hk2.internal.ClazzCreator.initialize(ClazzCreator.java:180)\r\n    \tat org.jvnet.hk2.internal.SystemDescriptor.internalReify(SystemDescriptor.java:740)\r\n    \tat org.jvnet.hk2.internal.SystemDescriptor.reify(SystemDescriptor.java:694)\r\n    \tat org.jvnet.hk2.internal.ServiceLocatorImpl.reifyDescriptor(ServiceLocatorImpl.java:464)\r\n    \tat org.jvnet.hk2.internal.ServiceLocatorImpl.narrow(ServiceLocatorImpl.java:2310)\r\n    \tat org.jvnet.hk2.internal.ServiceLocatorImpl.access$1200(ServiceLocatorImpl.java:128)\r\n    \tat org.jvnet.hk2.internal.ServiceLocatorImpl$9.compute(ServiceLocatorImpl.java:1395)\r\n    \tat org.jvnet.hk2.internal.ServiceLocatorImpl$9.compute(ServiceLocatorImpl.java:1390)\r\n    \tat org.glassfish.hk2.utilities.cache.internal.WeakCARCacheImpl.compute(WeakCARCacheImpl.java:128)\r\n    \tat org.jvnet.hk2.internal.ServiceLocatorImpl.internalGetAllServiceHandles(ServiceLocatorImpl.java:1452)\r\n    \tat org.jvnet.hk2.internal.ServiceLocatorImpl.getAllServiceHandles(ServiceLocatorImpl.java:1377)\r\n    \tat org.jvnet.hk2.internal.ServiceLocatorImpl.getAllServiceHandles(ServiceLocatorImpl.java:1366)\r\n    \tat org.glassfish.jersey.inject.hk2.AbstractHk2InjectionManager.getAllServiceHolders(AbstractHk2InjectionManager.java:158)\r\n    \tat org.glassfish.jersey.inject.hk2.ImmediateHk2InjectionManager.getAllServiceHolders(ImmediateHk2InjectionManager.java:54)\r\n    \tat org.glassfish.jersey.internal.inject.Providers.getServiceHolders(Providers.java:337)\r\n    \tat org.glassfish.jersey.internal.inject.Providers.getCustomProviders(Providers.java:175)\r\n    \tat org.glassfish.jersey.message.internal.MessageBodyFactory.initialize(MessageBodyFactory.java:264)\r\n    \tat org.glassfish.jersey.message.internal.MessageBodyFactory$MessageBodyWorkersConfigurator.postInit(MessageBodyFactory.java:136)\r\n    \tat org.glassfish.jersey.client.ClientConfig$State.lambda$initRuntime$2(ClientConfig.java:470)\r\n    \tat java.base/java.util.Arrays$ArrayList.forEach(Arrays.java:4389)\r\n    \tat org.glassfish.jersey.client.ClientConfig$State.initRuntime(ClientConfig.java:470)\r\n    \tat org.glassfish.jersey.internal.util.collection.Values$LazyValueImpl.get(Values.java:341)\r\n    \tat org.glassfish.jersey.client.ClientConfig.getRuntime(ClientConfig.java:826)\r\n    \tat org.glassfish.jersey.client.ClientRequest.getConfiguration(ClientRequest.java:285)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.validateHttpMethodAndEntity(JerseyInvocation.java:143)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.&lt;init&gt;(JerseyInvocation.java:112)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.&lt;init&gt;(JerseyInvocation.java:108)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.&lt;init&gt;(JerseyInvocation.java:99)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:419)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation$Builder.get(JerseyInvocation.java:319)\r\n    \tat contentdownloader.GetXmlFromRestController$runner.run(GetXmlFromRestController.java:111)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:844)\r\n    Caused by: java.lang.ClassNotFoundException: javax.activation.DataSource\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:190)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:499)\r\n    \t... 44 more\r\n    MultiException stack 2 of 2\r\n    java.lang.IllegalArgumentException: Errors were discovered while reifying SystemDescriptor(\r\n    \timplementation=org.glassfish.jersey.message.internal.DataSourceProvider\r\n    \tcontracts={javax.ws.rs.ext.MessageBodyWriter,javax.ws.rs.ext.MessageBodyReader}\r\n    \tscope=javax.inject.Singleton\r\n    \tqualifiers={}\r\n    \tdescriptorType=CLASS\r\n    \tdescriptorVisibility=NORMAL\r\n    \tmetadata=\r\n    \trank=0\r\n    \tloader=null\r\n    \tproxiable=null\r\n    \tproxyForSameScope=null\r\n    \tanalysisName=null\r\n    \tid=14\r\n    \tlocatorId=0\r\n    \tidentityHashCode=138770088\r\n    \treified=false)\r\n    \tat org.jvnet.hk2.internal.SystemDescriptor.reify(SystemDescriptor.java:705)\r\n    \tat org.jvnet.hk2.internal.ServiceLocatorImpl.reifyDescriptor(ServiceLocatorImpl.java:464)\r\n    \tat org.jvnet.hk2.internal.ServiceLocatorImpl.narrow(ServiceLocatorImpl.java:2310)\r\n    \tat org.jvnet.hk2.internal.ServiceLocatorImpl.access$1200(ServiceLocatorImpl.java:128)\r\n    \tat org.jvnet.hk2.internal.ServiceLocatorImpl$9.compute(ServiceLocatorImpl.java:1395)\r\n    \tat org.jvnet.hk2.internal.ServiceLocatorImpl$9.compute(ServiceLocatorImpl.java:1390)\r\n    \tat org.glassfish.hk2.utilities.cache.internal.WeakCARCacheImpl.compute(WeakCARCacheImpl.java:128)\r\n    \tat org.jvnet.hk2.internal.ServiceLocatorImpl.internalGetAllServiceHandles(ServiceLocatorImpl.java:1452)\r\n    \tat org.jvnet.hk2.internal.ServiceLocatorImpl.getAllServiceHandles(ServiceLocatorImpl.java:1377)\r\n    \tat org.jvnet.hk2.internal.ServiceLocatorImpl.getAllServiceHandles(ServiceLocatorImpl.java:1366)\r\n    \tat org.glassfish.jersey.inject.hk2.AbstractHk2InjectionManager.getAllServiceHolders(AbstractHk2InjectionManager.java:158)\r\n    \tat org.glassfish.jersey.inject.hk2.ImmediateHk2InjectionManager.getAllServiceHolders(ImmediateHk2InjectionManager.java:54)\r\n    \tat org.glassfish.jersey.internal.inject.Providers.getServiceHolders(Providers.java:337)\r\n    \tat org.glassfish.jersey.internal.inject.Providers.getCustomProviders(Providers.java:175)\r\n    \tat org.glassfish.jersey.message.internal.MessageBodyFactory.initialize(MessageBodyFactory.java:264)\r\n    \tat org.glassfish.jersey.message.internal.MessageBodyFactory$MessageBodyWorkersConfigurator.postInit(MessageBodyFactory.java:136)\r\n    \tat org.glassfish.jersey.client.ClientConfig$State.lambda$initRuntime$2(ClientConfig.java:470)\r\n    \tat java.base/java.util.Arrays$ArrayList.forEach(Arrays.java:4389)\r\n    \tat org.glassfish.jersey.client.ClientConfig$State.initRuntime(ClientConfig.java:470)\r\n    \tat org.glassfish.jersey.internal.util.collection.Values$LazyValueImpl.get(Values.java:341)\r\n    \tat org.glassfish.jersey.client.ClientConfig.getRuntime(ClientConfig.java:826)\r\n    \tat org.glassfish.jersey.client.ClientRequest.getConfiguration(ClientRequest.java:285)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.validateHttpMethodAndEntity(JerseyInvocation.java:143)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.&lt;init&gt;(JerseyInvocation.java:112)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.&lt;init&gt;(JerseyInvocation.java:108)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.&lt;init&gt;(JerseyInvocation.java:99)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:419)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation$Builder.get(JerseyInvocation.java:319)\r\n    \tat contentdownloader.GetXmlFromRestController$runner.run(GetXmlFromRestController.java:111)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:844)\r\n\r\nNow it DOES still work, but i don&#180;t know what to do about this still. I kinda feel like im doing something im not supposed to do this way. I really just don&#180;t exactly get what this means right now and would be very glad if someone could explain it, even though it technically does the thing regardless.\r\n\r\nThose are the dependencies i use for the request, might be useful to know.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n        &lt;version&gt;2.26&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n        &lt;version&gt;2.26&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-jaxrs-xml-provider&lt;/artifactId&gt;\r\n        &lt;version&gt;2.9.4&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Rest-Client HK2 failure detected","body":"<p>Im developing a \"ManageYourAnime/Manga/Movies/TvShows/Whatever\"-Program. A friend had the idea/need and im now making it for him as its a good opportunity to learn things and produce something somewhat useful, to at the very least a single person in the world.</p>\n\n<p>Anyways, i found out that myanimelist.net provides a restservice where you can search for animes or mangas specifically and then optain infos such as a description, alternate names, episode count, artwork, etc. And i want to use that in my application.</p>\n\n<p>It already sort of works. I had it downloading artwork images, but it was painfully slow sometimes and the window was not responding until the request was complete, so i put it into a seperate thread (seems MUCH faster in postman). It works, sort of, but i do get this message every time <code>Response response = builder.get();</code> is called within the thread here.</p>\n\n<pre><code>public void run() {\n            String encoded = null;\n\n            try {\n                encoded = URLEncoder.encode(search, \"UTF-8\");\n            } catch (UnsupportedEncodingException ex) {\n                ex.printStackTrace();\n            }\n\n            if(encoded != null) {\n                Client client = ClientBuilder.newClient();\n                client.register(HttpAuthenticationFeature.basic(accountName, password));\n                client.register(JacksonXMLProvider.class);\n                WebTarget target = client.target(String.format(\"%s%s\", \"https://myanimelist.net/api/anime/search.xml?q=\", encoded));;\n                Invocation.Builder builder = target.request(MediaType.APPLICATION_XML);\n                Response response = builder.get();\n                if (response.getStatus() == Response.Status.OK.getStatusCode()) {\n                    results = response.readEntity(new GenericType&lt;List&lt;MyAnimeListEntity&gt;&gt;() {});\n                }\n                client.close();\n            }\n\n            controller.done();\n        }\n</code></pre>\n\n<p>This is the error i get.</p>\n\n<pre><code>Mar 22, 2018 7:36:08 PM org.glassfish.jersey.internal.Errors logErrors\nWARNING: The following warnings have been detected: WARNING: HK2 failure has been detected in a code that does not run in an active Jersey Error scope.\nWARNING: HK2 service reification failed for [org.glassfish.jersey.message.internal.DataSourceProvider] with an exception:\nMultiException stack 1 of 2\njava.lang.NoClassDefFoundError: javax/activation/DataSource\n    at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3090)\n    at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2316)\n    at org.jvnet.hk2.internal.Utilities$3.run(Utilities.java:1378)\n    at org.jvnet.hk2.internal.Utilities$3.run(Utilities.java:1374)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at org.jvnet.hk2.internal.Utilities.getAllConstructors(Utilities.java:1374)\n    at org.jvnet.hk2.internal.Utilities.findProducerConstructor(Utilities.java:1317)\n    at org.jvnet.hk2.internal.DefaultClassAnalyzer.getConstructor(DefaultClassAnalyzer.java:83)\n    at org.glassfish.jersey.inject.hk2.JerseyClassAnalyzer.getConstructor(JerseyClassAnalyzer.java:148)\n    at org.jvnet.hk2.internal.Utilities.getConstructor(Utilities.java:180)\n    at org.jvnet.hk2.internal.ClazzCreator.initialize(ClazzCreator.java:129)\n    at org.jvnet.hk2.internal.ClazzCreator.initialize(ClazzCreator.java:180)\n    at org.jvnet.hk2.internal.SystemDescriptor.internalReify(SystemDescriptor.java:740)\n    at org.jvnet.hk2.internal.SystemDescriptor.reify(SystemDescriptor.java:694)\n    at org.jvnet.hk2.internal.ServiceLocatorImpl.reifyDescriptor(ServiceLocatorImpl.java:464)\n    at org.jvnet.hk2.internal.ServiceLocatorImpl.narrow(ServiceLocatorImpl.java:2310)\n    at org.jvnet.hk2.internal.ServiceLocatorImpl.access$1200(ServiceLocatorImpl.java:128)\n    at org.jvnet.hk2.internal.ServiceLocatorImpl$9.compute(ServiceLocatorImpl.java:1395)\n    at org.jvnet.hk2.internal.ServiceLocatorImpl$9.compute(ServiceLocatorImpl.java:1390)\n    at org.glassfish.hk2.utilities.cache.internal.WeakCARCacheImpl.compute(WeakCARCacheImpl.java:128)\n    at org.jvnet.hk2.internal.ServiceLocatorImpl.internalGetAllServiceHandles(ServiceLocatorImpl.java:1452)\n    at org.jvnet.hk2.internal.ServiceLocatorImpl.getAllServiceHandles(ServiceLocatorImpl.java:1377)\n    at org.jvnet.hk2.internal.ServiceLocatorImpl.getAllServiceHandles(ServiceLocatorImpl.java:1366)\n    at org.glassfish.jersey.inject.hk2.AbstractHk2InjectionManager.getAllServiceHolders(AbstractHk2InjectionManager.java:158)\n    at org.glassfish.jersey.inject.hk2.ImmediateHk2InjectionManager.getAllServiceHolders(ImmediateHk2InjectionManager.java:54)\n    at org.glassfish.jersey.internal.inject.Providers.getServiceHolders(Providers.java:337)\n    at org.glassfish.jersey.internal.inject.Providers.getCustomProviders(Providers.java:175)\n    at org.glassfish.jersey.message.internal.MessageBodyFactory.initialize(MessageBodyFactory.java:264)\n    at org.glassfish.jersey.message.internal.MessageBodyFactory$MessageBodyWorkersConfigurator.postInit(MessageBodyFactory.java:136)\n    at org.glassfish.jersey.client.ClientConfig$State.lambda$initRuntime$2(ClientConfig.java:470)\n    at java.base/java.util.Arrays$ArrayList.forEach(Arrays.java:4389)\n    at org.glassfish.jersey.client.ClientConfig$State.initRuntime(ClientConfig.java:470)\n    at org.glassfish.jersey.internal.util.collection.Values$LazyValueImpl.get(Values.java:341)\n    at org.glassfish.jersey.client.ClientConfig.getRuntime(ClientConfig.java:826)\n    at org.glassfish.jersey.client.ClientRequest.getConfiguration(ClientRequest.java:285)\n    at org.glassfish.jersey.client.JerseyInvocation.validateHttpMethodAndEntity(JerseyInvocation.java:143)\n    at org.glassfish.jersey.client.JerseyInvocation.&lt;init&gt;(JerseyInvocation.java:112)\n    at org.glassfish.jersey.client.JerseyInvocation.&lt;init&gt;(JerseyInvocation.java:108)\n    at org.glassfish.jersey.client.JerseyInvocation.&lt;init&gt;(JerseyInvocation.java:99)\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:419)\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.get(JerseyInvocation.java:319)\n    at contentdownloader.GetXmlFromRestController$runner.run(GetXmlFromRestController.java:111)\n    at java.base/java.lang.Thread.run(Thread.java:844)\nCaused by: java.lang.ClassNotFoundException: javax.activation.DataSource\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:190)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:499)\n    ... 44 more\nMultiException stack 2 of 2\njava.lang.IllegalArgumentException: Errors were discovered while reifying SystemDescriptor(\n    implementation=org.glassfish.jersey.message.internal.DataSourceProvider\n    contracts={javax.ws.rs.ext.MessageBodyWriter,javax.ws.rs.ext.MessageBodyReader}\n    scope=javax.inject.Singleton\n    qualifiers={}\n    descriptorType=CLASS\n    descriptorVisibility=NORMAL\n    metadata=\n    rank=0\n    loader=null\n    proxiable=null\n    proxyForSameScope=null\n    analysisName=null\n    id=14\n    locatorId=0\n    identityHashCode=138770088\n    reified=false)\n    at org.jvnet.hk2.internal.SystemDescriptor.reify(SystemDescriptor.java:705)\n    at org.jvnet.hk2.internal.ServiceLocatorImpl.reifyDescriptor(ServiceLocatorImpl.java:464)\n    at org.jvnet.hk2.internal.ServiceLocatorImpl.narrow(ServiceLocatorImpl.java:2310)\n    at org.jvnet.hk2.internal.ServiceLocatorImpl.access$1200(ServiceLocatorImpl.java:128)\n    at org.jvnet.hk2.internal.ServiceLocatorImpl$9.compute(ServiceLocatorImpl.java:1395)\n    at org.jvnet.hk2.internal.ServiceLocatorImpl$9.compute(ServiceLocatorImpl.java:1390)\n    at org.glassfish.hk2.utilities.cache.internal.WeakCARCacheImpl.compute(WeakCARCacheImpl.java:128)\n    at org.jvnet.hk2.internal.ServiceLocatorImpl.internalGetAllServiceHandles(ServiceLocatorImpl.java:1452)\n    at org.jvnet.hk2.internal.ServiceLocatorImpl.getAllServiceHandles(ServiceLocatorImpl.java:1377)\n    at org.jvnet.hk2.internal.ServiceLocatorImpl.getAllServiceHandles(ServiceLocatorImpl.java:1366)\n    at org.glassfish.jersey.inject.hk2.AbstractHk2InjectionManager.getAllServiceHolders(AbstractHk2InjectionManager.java:158)\n    at org.glassfish.jersey.inject.hk2.ImmediateHk2InjectionManager.getAllServiceHolders(ImmediateHk2InjectionManager.java:54)\n    at org.glassfish.jersey.internal.inject.Providers.getServiceHolders(Providers.java:337)\n    at org.glassfish.jersey.internal.inject.Providers.getCustomProviders(Providers.java:175)\n    at org.glassfish.jersey.message.internal.MessageBodyFactory.initialize(MessageBodyFactory.java:264)\n    at org.glassfish.jersey.message.internal.MessageBodyFactory$MessageBodyWorkersConfigurator.postInit(MessageBodyFactory.java:136)\n    at org.glassfish.jersey.client.ClientConfig$State.lambda$initRuntime$2(ClientConfig.java:470)\n    at java.base/java.util.Arrays$ArrayList.forEach(Arrays.java:4389)\n    at org.glassfish.jersey.client.ClientConfig$State.initRuntime(ClientConfig.java:470)\n    at org.glassfish.jersey.internal.util.collection.Values$LazyValueImpl.get(Values.java:341)\n    at org.glassfish.jersey.client.ClientConfig.getRuntime(ClientConfig.java:826)\n    at org.glassfish.jersey.client.ClientRequest.getConfiguration(ClientRequest.java:285)\n    at org.glassfish.jersey.client.JerseyInvocation.validateHttpMethodAndEntity(JerseyInvocation.java:143)\n    at org.glassfish.jersey.client.JerseyInvocation.&lt;init&gt;(JerseyInvocation.java:112)\n    at org.glassfish.jersey.client.JerseyInvocation.&lt;init&gt;(JerseyInvocation.java:108)\n    at org.glassfish.jersey.client.JerseyInvocation.&lt;init&gt;(JerseyInvocation.java:99)\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:419)\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.get(JerseyInvocation.java:319)\n    at contentdownloader.GetXmlFromRestController$runner.run(GetXmlFromRestController.java:111)\n    at java.base/java.lang.Thread.run(Thread.java:844)\n</code></pre>\n\n<p>Now it DOES still work, but i dont know what to do about this still. I kinda feel like im doing something im not supposed to do this way. I really just dont exactly get what this means right now and would be very glad if someone could explain it, even though it technically does the thing regardless.</p>\n\n<p>Those are the dependencies i use for the request, might be useful to know.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n    &lt;version&gt;2.26&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n    &lt;version&gt;2.26&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-jaxrs-xml-provider&lt;/artifactId&gt;\n    &lt;version&gt;2.9.4&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["python","java","pythoninterpreter"],"answers":[{"comments":[{"owner":{"account_id":20195407,"reputation":21,"user_id":14830185,"display_name":"Vitalij Victor"},"score":0,"creation_date":1678350104,"post_id":75660492,"comment_id":133516067,"body_markdown":"Exception in thread &quot;JavaFX Application Thread&quot; SyntaxError: (&quot;no viable alternative at input &#39;from&#39;&quot;, (&#39;&lt;string&gt;&#39;, 1, 0, &#39;from send2trash import send2trash\\n&#39;))","body":"Exception in thread &quot;JavaFX Application Thread&quot; SyntaxError: (&quot;no viable alternative at input &#39;from&#39;&quot;, (&#39;&lt;string&gt;&#39;, 1, 0, &#39;from send2trash import send2trash\\n&#39;))"},{"owner":{"account_id":15776504,"reputation":4122,"user_id":11384184,"display_name":"Lenormju"},"score":0,"creation_date":1678377685,"post_id":75660492,"comment_id":133524499,"body_markdown":"try `py.exec(&quot;import send2trash \\nsend2trash.send2trash(&#39;cat-2.jpg&#39;)&quot;);` instead, maybe it does not support this syntax.","body":"try <code>py.exec(&quot;import send2trash \\nsend2trash.send2trash(&#39;cat-2.jpg&#39;)&quot;);</code> instead, maybe it does not support this syntax."},{"owner":{"account_id":20195407,"reputation":21,"user_id":14830185,"display_name":"Vitalij Victor"},"score":0,"creation_date":1678463748,"post_id":75660492,"comment_id":133543169,"body_markdown":"File &quot;&lt;string&gt;&quot;, line 1, in &lt;module&gt;\nImportError: No module named send2trash","body":"File &quot;&lt;string&gt;&quot;, line 1, in &lt;module&gt; ImportError: No module named send2trash"},{"owner":{"account_id":15776504,"reputation":4122,"user_id":11384184,"display_name":"Lenormju"},"score":0,"creation_date":1678704019,"post_id":75660492,"comment_id":133578703,"body_markdown":"The problem now is that this module is not found. How did you install this package ? Where is it located ? You did not provide enough info about that, and it is actually another problem.","body":"The problem now is that this module is not found. How did you install this package ? Where is it located ? You did not provide enough info about that, and it is actually another problem."},{"owner":{"account_id":20195407,"reputation":21,"user_id":14830185,"display_name":"Vitalij Victor"},"score":0,"creation_date":1678705014,"post_id":75660492,"comment_id":133579020,"body_markdown":"The actual path with which the code works in Visual Studio is:  C:\\ProgramData\\Anaconda3\\Lib\\site-packages\\send2trash\\plat_win_legacy.py","body":"The actual path with which the code works in Visual Studio is:  C:\\ProgramData\\Anaconda3\\Lib\\site-packages\\send2trash\\plat_w&zwnj;&#8203;in_legacy.py"},{"owner":{"account_id":20195407,"reputation":21,"user_id":14830185,"display_name":"Vitalij Victor"},"score":0,"creation_date":1678706495,"post_id":75660492,"comment_id":133579417,"body_markdown":"Should I set up in my Intellij IDEA path for Python jdk?","body":"Should I set up in my Intellij IDEA path for Python jdk?"},{"owner":{"account_id":15776504,"reputation":4122,"user_id":11384184,"display_name":"Lenormju"},"score":0,"creation_date":1678717962,"post_id":75660492,"comment_id":133583025,"body_markdown":"I think you should look how to do it with PythonInterpreter, the docs may explain how. Otherwise, open another question here, because your original one (&quot;I get this error while running the code&quot;) was solved, now you are encountering another one.","body":"I think you should look how to do it with PythonInterpreter, the docs may explain how. Otherwise, open another question here, because your original one (&quot;I get this error while running the code&quot;) was solved, now you are encountering another one."}],"tags":[],"owner":{"account_id":15776504,"reputation":4122,"user_id":11384184,"display_name":"Lenormju"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678183365,"creation_date":1678183365,"answer_id":75660492,"question_id":75652847,"body_markdown":"I don&#39;t think you are supposed to execute line by line. Try instead to pass the whole string to `py.exec` :  \r\n\r\n```java\r\npy.exec(&quot;from send2trash import send2trash \\nsend2trash(&#39;cat-2.jpg&#39;)&quot;);\r\n```","title":"Use PythonInterpreter in Java to remove file into recycle bin","body":"<p>I don't think you are supposed to execute line by line. Try instead to pass the whole string to <code>py.exec</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>py.exec(&quot;from send2trash import send2trash \\nsend2trash('cat-2.jpg')&quot;);\n</code></pre>\n"}],"owner":{"account_id":20195407,"reputation":21,"user_id":14830185,"display_name":"Vitalij Victor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678183365,"creation_date":1678117176,"question_id":75652847,"body_markdown":"I want to use PythonInterpreter in Java code to remove file into recycle bin. \r\n\r\nThis is my Python code:\r\n```python\r\nfrom send2trash import send2trash\r\n\r\nsend2trash(&#39;C:\\Slides\\dog.jpg&#39;)\r\n```\r\nThis is my Java code:\r\n```java\r\nimport org.python.util.PythonInterpreter;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        PythonInterpreter py = new PythonInterpreter();\r\n        py.eval(&quot;from send2trash import send2trash&quot;);\r\n        py.exec(&quot;send2trash(&#39;cat-2.jpg&#39;)&quot;);\r\n    }\r\n}\r\n```\r\nThis is the error:\r\n&gt; Exception in thread &quot;main&quot; Traceback (most recent call last):\\\r\n&gt; File &quot;&lt;string&gt;&quot;, line 1, in &lt;module&gt;\\\r\n&gt; NameError: name &#39;send2trash&#39; is not defined\r\n\r\nMy Python code works correctly, but not in Java.\r\n\r\nThe Python environment is installed correctly because the Python code works correctly.","title":"Use PythonInterpreter in Java to remove file into recycle bin","body":"<p>I want to use PythonInterpreter in Java code to remove file into recycle bin.</p>\n<p>This is my Python code:</p>\n<pre class=\"lang-py prettyprint-override\"><code>from send2trash import send2trash\n\nsend2trash('C:\\Slides\\dog.jpg')\n</code></pre>\n<p>This is my Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.python.util.PythonInterpreter;\n\npublic class Main {\n    public static void main(String[] args) {\n        PythonInterpreter py = new PythonInterpreter();\n        py.eval(&quot;from send2trash import send2trash&quot;);\n        py.exec(&quot;send2trash('cat-2.jpg')&quot;);\n    }\n}\n</code></pre>\n<p>This is the error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; Traceback (most recent call last):<br />\nFile &quot;&quot;, line 1, in <br />\nNameError: name 'send2trash' is not defined</p>\n</blockquote>\n<p>My Python code works correctly, but not in Java.</p>\n<p>The Python environment is installed correctly because the Python code works correctly.</p>\n"},{"tags":["java","android","textview"],"comments":[{"owner":{"account_id":23659651,"reputation":104,"user_id":17687406,"display_name":"mi1000"},"score":0,"creation_date":1678062637,"post_id":75646221,"comment_id":133455318,"body_markdown":"Can you please add the code you tried to write ?","body":"Can you please add the code you tried to write ?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678065763,"post_id":75646221,"comment_id":133455676,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":0,"creation_date":1678076038,"post_id":75646221,"comment_id":133456786,"body_markdown":"Create your own class that extends ```TextView``` and set the text color there. See [here](https://stackoverflow.com/questions/26500873/how-to-set-text-color-for-all-the-textviews-programatically).","body":"Create your own class that extends <code>TextView</code> and set the text color there. See <a href=\"https://stackoverflow.com/questions/26500873/how-to-set-text-color-for-all-the-textviews-programatically\">here</a>."},{"owner":{"account_id":18172722,"reputation":13,"user_id":13222080,"display_name":"Tijan"},"score":1,"creation_date":1678086104,"post_id":75646221,"comment_id":133458078,"body_markdown":"ok thanks @Enowneb im going to try that","body":"ok thanks @Enowneb im going to try that"}],"answers":[{"tags":[],"owner":{"account_id":2647979,"reputation":1049,"user_id":2290295,"accept_rate":80,"display_name":"Ruslan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678106355,"creation_date":1678106355,"answer_id":75650958,"question_id":75646221,"body_markdown":"I would say what you are doing is fine. There is no such API to update text color of multiple TextView&#39;s. But it doesn&#39;t mean you can&#39;t extract your own helper method somewhere and use it.\r\n\r\nAnd if you wish you can avoid adding TextViews to array. For example, we can write\r\n\r\n    public class ViewHelpers {\r\n        public static void setTextColor(@ColorInt int colorResourceId, TextView... views) {\r\n            for (TextView textView : views) {\r\n                textView.setTextColor(colorResourceId);\r\n            }\r\n        }\r\n    }\r\n\r\nAnd later in code use it as follows:\r\n\r\n    ViewHelpers.setTextColor(R.color.myColor, textView1, textView2, textView3);","title":"Set text color for multiple TextViews at once","body":"<p>I would say what you are doing is fine. There is no such API to update text color of multiple TextView's. But it doesn't mean you can't extract your own helper method somewhere and use it.</p>\n<p>And if you wish you can avoid adding TextViews to array. For example, we can write</p>\n<pre><code>public class ViewHelpers {\n    public static void setTextColor(@ColorInt int colorResourceId, TextView... views) {\n        for (TextView textView : views) {\n            textView.setTextColor(colorResourceId);\n        }\n    }\n}\n</code></pre>\n<p>And later in code use it as follows:</p>\n<pre><code>ViewHelpers.setTextColor(R.color.myColor, textView1, textView2, textView3);\n</code></pre>\n"}],"owner":{"account_id":18172722,"reputation":13,"user_id":13222080,"display_name":"Tijan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75650958,"answer_count":1,"score":0,"last_activity_date":1678183340,"creation_date":1678062520,"question_id":75646221,"body_markdown":"Is there a way to set A text color for multiple textviews programmatically with one line of code (in Java/Android)?\r\n\r\n```\r\npublic void MakeAllTxtWhite(){\r\n\tTextView[] alltxt = {txt1, txt2, txt3, txt4, txt5,txt6,txt7,txt8, txt9, txt10, txt11, txt12, txt13, txt14, txt15, txt16,\r\n\t\t txt17, txt18, txt19, txt20, txt21, txt22, txt23, txt24, txt25, txt26, txt27, txt28, txt29, txt30, txt31, txt32, txt33, txt34};\r\n\tfor(TextView i : alltxt){\r\n\t\ti.setTextColor(i.getContext().getColor(R.color.white));\r\n\t}\r\n}\r\n```\r\n\r\nI know it is possible to put all the txvs in a list and iterate through it, but I wonder if there is another more suitable method.","title":"Set text color for multiple TextViews at once","body":"<p>Is there a way to set A text color for multiple textviews programmatically with one line of code (in Java/Android)?</p>\n<pre><code>public void MakeAllTxtWhite(){\n    TextView[] alltxt = {txt1, txt2, txt3, txt4, txt5,txt6,txt7,txt8, txt9, txt10, txt11, txt12, txt13, txt14, txt15, txt16,\n         txt17, txt18, txt19, txt20, txt21, txt22, txt23, txt24, txt25, txt26, txt27, txt28, txt29, txt30, txt31, txt32, txt33, txt34};\n    for(TextView i : alltxt){\n        i.setTextColor(i.getContext().getColor(R.color.white));\n    }\n}\n</code></pre>\n<p>I know it is possible to put all the txvs in a list and iterate through it, but I wonder if there is another more suitable method.</p>\n"},{"tags":["java","android","ondraw"],"answers":[{"tags":[],"owner":{"account_id":5806666,"reputation":1031,"user_id":4579081,"accept_rate":62,"display_name":"ema3272"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678183328,"creation_date":1678183328,"answer_id":75660483,"question_id":75557454,"body_markdown":"Instead of working at the view level, I have implemented the logic at the parent level:\r\n\r\n - the custom view only has a constructor and the `onDraw` method\r\n - the parent has got a `SimpleOnGestureListener` in which I analyse the touch event coordinates to determine which view has been clicked\r\n\r\n\r\n        @Override\r\n        public boolean onDown(MotionEvent event) {\r\n            if (((event.getSource() == SOURCE_MOUSE) || (event.getSource() == SOURCE_TOUCHPAD))\r\n                    &amp;&amp; (event.isButtonPressed(MotionEvent.BUTTON_SECONDARY))) {\r\n                FrameLayout drawingFrame = SCFrame.findViewById(R.id.drawingFrame);\r\n                if (drawingFrame.getChildCount() &gt; 0) {\r\n                    alignmentSquare = SCFrame.findViewById(R.id.alignmentSquare);\r\n                    RectF touchZone = new RectF();\r\n                    touchZone.set((float) (event.getX() - alignmentSquare.getWidth() - 0.5 * textViewWidth),\r\n                                (float) (event.getY() - alignmentSquare.getHeight() - 0.5 * textViewHeight),\r\n                                (float) (event.getX() - alignmentSquare.getWidth() + 0.5 * textViewWidth),\r\n                                (float) (event.getY() - alignmentSquare.getHeight() + 0.5 * textViewHeight));\r\n                    int tag = -1;\r\n                    for (int i = 0; i &lt; drawingFrame.getChildCount(); i++) {\r\n                        View v = drawingFrame.getChildAt(i);\r\n                        if ((v instanceof ScArc) &amp;&amp; touchZone.intersect(((ScArc) v).oval)) {\r\n                            tag = (int) v.getTag();\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                ...\r\n                }\r\n            }\r\n        }\r\n","title":"How can I set the dimension and position of a custom view drawn via onDraw?","body":"<p>Instead of working at the view level, I have implemented the logic at the parent level:</p>\n<ul>\n<li><p>the custom view only has a constructor and the <code>onDraw</code> method</p>\n</li>\n<li><p>the parent has got a <code>SimpleOnGestureListener</code> in which I analyse the touch event coordinates to determine which view has been clicked</p>\n<pre><code> @Override\n public boolean onDown(MotionEvent event) {\n     if (((event.getSource() == SOURCE_MOUSE) || (event.getSource() == SOURCE_TOUCHPAD))\n             &amp;&amp; (event.isButtonPressed(MotionEvent.BUTTON_SECONDARY))) {\n         FrameLayout drawingFrame = SCFrame.findViewById(R.id.drawingFrame);\n         if (drawingFrame.getChildCount() &gt; 0) {\n             alignmentSquare = SCFrame.findViewById(R.id.alignmentSquare);\n             RectF touchZone = new RectF();\n             touchZone.set((float) (event.getX() - alignmentSquare.getWidth() - 0.5 * textViewWidth),\n                         (float) (event.getY() - alignmentSquare.getHeight() - 0.5 * textViewHeight),\n                         (float) (event.getX() - alignmentSquare.getWidth() + 0.5 * textViewWidth),\n                         (float) (event.getY() - alignmentSquare.getHeight() + 0.5 * textViewHeight));\n             int tag = -1;\n             for (int i = 0; i &lt; drawingFrame.getChildCount(); i++) {\n                 View v = drawingFrame.getChildAt(i);\n                 if ((v instanceof ScArc) &amp;&amp; touchZone.intersect(((ScArc) v).oval)) {\n                     tag = (int) v.getTag();\n                     break;\n                 }\n             }\n\n         ...\n         }\n     }\n }\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":5806666,"reputation":1031,"user_id":4579081,"accept_rate":62,"display_name":"ema3272"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75660483,"answer_count":1,"score":0,"last_activity_date":1678183328,"creation_date":1677247108,"question_id":75557454,"body_markdown":"I have implemented a custom view by extending `View`. This class implements a constructor and the `onDraw` method. With these the view is correctly drawn. However, its dimensions are those of its parent. I have tried to add `onMeasure` and `onLayout` methods (commented in the code below) but then the custom view is not drawn anymore...\r\n\r\nMy final goal is to be able to draw several of these custom views in the same `FrameLayout` and be able to attach a `SimpleOnGestureListener` to each of them.\r\nHow can I fix this issue?\r\n\r\n    public class ScArc extends View {\r\n    RectF oval = new RectF();\r\n    Path path = new Path();\r\n    Paint paint = new Paint();\r\n    float left = 0;\r\n    float top = 0;\r\n    float right = 0;\r\n    float bottom = 0;\r\n    float startAngle = 0;\r\n    float sweepAngle;\r\n\r\n    public ScArc(Context context, float X1, float Y1, float X2, float Y2, ScMain.Azimuth azimuth, int sweepAngle,\r\n                 String strokeWidthName, String strokeColorName, int idx, boolean isForcingChain) {\r\n        super(context);\r\n\r\n        ...\r\n        \r\n        oval.set(left, top, right, bottom);\r\n        path.addArc(oval, startAngle, sweepAngle);\r\n\r\n        this.setClickable(true);\r\n        this.setEnabled(true);\r\n    }\r\n\r\n    @Override\r\n    public void onDraw(Canvas canvas) {\r\n        canvas.drawPath(path, paint);\r\n    }\r\n\r\n    //    @Override\r\n    //    public boolean onTouchEvent (MotionEvent event) {\r\n    //        if (((event.getSource() == SOURCE_MOUSE) || (event.getSource() == SOURCE_TOUCHPAD))\r\n    //                &amp;&amp; (event.getAction() == MotionEvent.ACTION_DOWN)\r\n    //                &amp;&amp; event.isButtonPressed(MotionEvent.BUTTON_SECONDARY)) {\r\n    //    \r\n    //            int tag = (int) this.getTag();\r\n    //            drawnStrongLinks.remove(drawnStrongLinks.indexOf(tag));\r\n    //    \r\n    //            FrameLayout drawingFrame = (FrameLayout) this.getParent();\r\n    //            drawingFrame.removeView(this);\r\n    //        }\r\n    //        return true;\r\n    //    }\r\n\r\n    //    @Override\r\n    //    protected void onLayout (boolean changed, int left, int top, int right, int bottom) {\r\n    //        super.onLayout(changed, (int) oval.left, (int) oval.top, (int) oval.right, (int) oval.bottom);\r\n    //    }\r\n\r\n    //    @Override\r\n    //    protected void onMeasure (int widthMeasureSpec, int heightMeasureSpec) {\r\n    //        super.onMeasure(widthMeasureSpec, heightMeasureSpec);\r\n    //        this.setMeasuredDimension((int) (oval.right - oval.left), (int) (oval.bottom - oval.top));\r\n    //    }\r\n\r\n    }\r\n\r\n","title":"How can I set the dimension and position of a custom view drawn via onDraw?","body":"<p>I have implemented a custom view by extending <code>View</code>. This class implements a constructor and the <code>onDraw</code> method. With these the view is correctly drawn. However, its dimensions are those of its parent. I have tried to add <code>onMeasure</code> and <code>onLayout</code> methods (commented in the code below) but then the custom view is not drawn anymore...</p>\n<p>My final goal is to be able to draw several of these custom views in the same <code>FrameLayout</code> and be able to attach a <code>SimpleOnGestureListener</code> to each of them.\nHow can I fix this issue?</p>\n<pre><code>public class ScArc extends View {\nRectF oval = new RectF();\nPath path = new Path();\nPaint paint = new Paint();\nfloat left = 0;\nfloat top = 0;\nfloat right = 0;\nfloat bottom = 0;\nfloat startAngle = 0;\nfloat sweepAngle;\n\npublic ScArc(Context context, float X1, float Y1, float X2, float Y2, ScMain.Azimuth azimuth, int sweepAngle,\n             String strokeWidthName, String strokeColorName, int idx, boolean isForcingChain) {\n    super(context);\n\n    ...\n    \n    oval.set(left, top, right, bottom);\n    path.addArc(oval, startAngle, sweepAngle);\n\n    this.setClickable(true);\n    this.setEnabled(true);\n}\n\n@Override\npublic void onDraw(Canvas canvas) {\n    canvas.drawPath(path, paint);\n}\n\n//    @Override\n//    public boolean onTouchEvent (MotionEvent event) {\n//        if (((event.getSource() == SOURCE_MOUSE) || (event.getSource() == SOURCE_TOUCHPAD))\n//                &amp;&amp; (event.getAction() == MotionEvent.ACTION_DOWN)\n//                &amp;&amp; event.isButtonPressed(MotionEvent.BUTTON_SECONDARY)) {\n//    \n//            int tag = (int) this.getTag();\n//            drawnStrongLinks.remove(drawnStrongLinks.indexOf(tag));\n//    \n//            FrameLayout drawingFrame = (FrameLayout) this.getParent();\n//            drawingFrame.removeView(this);\n//        }\n//        return true;\n//    }\n\n//    @Override\n//    protected void onLayout (boolean changed, int left, int top, int right, int bottom) {\n//        super.onLayout(changed, (int) oval.left, (int) oval.top, (int) oval.right, (int) oval.bottom);\n//    }\n\n//    @Override\n//    protected void onMeasure (int widthMeasureSpec, int heightMeasureSpec) {\n//        super.onMeasure(widthMeasureSpec, heightMeasureSpec);\n//        this.setMeasuredDimension((int) (oval.right - oval.left), (int) (oval.bottom - oval.top));\n//    }\n\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-eks","spring-cloud-aws"],"comments":[{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1677547071,"post_id":75583794,"comment_id":133355731,"body_markdown":"WHy not use the Java V2 SDK in a Spring Boot app. https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/secretsmanager/SecretsManagerClient.html","body":"WHy not use the Java V2 SDK in a Spring Boot app. <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/secretsmanager/SecretsManagerClient.html\" rel=\"nofollow noreferrer\">sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3803644,"reputation":1290,"user_id":3156607,"display_name":"Dennis Kieselhorst"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678182886,"creation_date":1678182886,"answer_id":75660397,"question_id":75583794,"body_markdown":"Add\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-aws-starter-secrets-manager&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nImport the secrets using\r\n\r\n    spring.config.import=aws-secretsmanager:/secrets/NAME_OF_YOUR_SECRET\r\n\r\nCheck the documentation https://docs.awspring.io/spring-cloud-aws/docs/3.0.0-SNAPSHOT/reference/html/index.html#spring-cloud-aws-secrets-manager for more details.","title":"Spring Cloud AWS - EKS and Secret Manager","body":"<p>Add</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-aws-starter-secrets-manager&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Import the secrets using</p>\n<pre><code>spring.config.import=aws-secretsmanager:/secrets/NAME_OF_YOUR_SECRET\n</code></pre>\n<p>Check the documentation <a href=\"https://docs.awspring.io/spring-cloud-aws/docs/3.0.0-SNAPSHOT/reference/html/index.html#spring-cloud-aws-secrets-manager\" rel=\"nofollow noreferrer\">https://docs.awspring.io/spring-cloud-aws/docs/3.0.0-SNAPSHOT/reference/html/index.html#spring-cloud-aws-secrets-manager</a> for more details.</p>\n"}],"owner":{"account_id":20257598,"reputation":11,"user_id":14856942,"display_name":"Minat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678182886,"creation_date":1677519493,"question_id":75583794,"body_markdown":"I&#39;m running a spring boot app in EKS/AWS. \r\nHow can I, using spring cloud aws, make spring app load properties from AWS secret manager in EKS?\r\nAny sample for EKS/K8S integration?\r\n\r\nI haven&#39;t used spring cloud aws yet. I&#39;ve seen samples that does not involve EKS/K8S in pulling properties from secret manager, so I don&#39;t know if it is possible and how to make this work with EKS","title":"Spring Cloud AWS - EKS and Secret Manager","body":"<p>I'm running a spring boot app in EKS/AWS.\nHow can I, using spring cloud aws, make spring app load properties from AWS secret manager in EKS?\nAny sample for EKS/K8S integration?</p>\n<p>I haven't used spring cloud aws yet. I've seen samples that does not involve EKS/K8S in pulling properties from secret manager, so I don't know if it is possible and how to make this work with EKS</p>\n"},{"tags":["java","tomcat","maven-plugin","tomcat8"],"comments":[{"owner":{"account_id":593875,"reputation":20381,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1680198626,"post_id":75660388,"comment_id":133861751,"body_markdown":"What did you Google [search] for? There are tons of examples online for how to do this. Maybe you just aren&#39;t looking for the right terms.","body":"What did you Google [search] for? There are tons of examples online for how to do this. Maybe you just aren&#39;t looking for the right terms."},{"owner":{"account_id":4398735,"reputation":1404,"user_id":3585050,"accept_rate":31,"display_name":"reza ramezani matin"},"score":0,"creation_date":1680491736,"post_id":75660388,"comment_id":133902136,"body_markdown":"If it is, please answer the question","body":"If it is, please answer the question"}],"owner":{"account_id":4398735,"reputation":1404,"user_id":3585050,"accept_rate":31,"display_name":"reza ramezani matin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678182837,"creation_date":1678182837,"question_id":75660388,"body_markdown":"My application is soap web services that is packaged as `war file` and is put it in webapp folder of tomcat to deploy so I googled how to build the java executable-jar-file with tomcat embedded but I did not the suitable document.\r\n\r\nI want to build my project by `mvn clean package` and run the application by `java -jar` instead of build it as war file and put it in webapp folder of tomcat to deploy it\r\n\r\nThe structure of my project:\r\n\r\nthe web.xml file:\r\n\r\n    &lt;!DOCTYPE web-app PUBLIC\r\n            &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\r\n            &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;\r\n    \r\n    &lt;web-app&gt;\r\n        &lt;listener&gt;\r\n            &lt;listener-class&gt;\r\n                com.sun.xml.ws.transport.http.servlet.WSServletContextListener\r\n            &lt;/listener-class&gt;\r\n        &lt;/listener&gt;\r\n    \r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;JAXWSServlet&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;\r\n                com.sun.xml.ws.transport.http.servlet.WSServlet\r\n            &lt;/servlet-class&gt;\r\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;/servlet&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;JAXWSServlet&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/core/*&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\n\r\nsun-jaxws.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;endpoints xmlns=&quot;http://java.sun.com/xml/ns/jax-ws/ri/runtime&quot; version=&quot;2.0&quot;&gt;\r\n        &lt;endpoint\r\n                name=&quot;MessageRelayService&quot;\r\n                implementation=&quot;com.messagerelay.ws.interactive.MessageRelay&quot;\r\n                url-pattern=&quot;/core/MessageRelayService&quot;/&gt;\r\n    &lt;/endpoints&gt;\r\n\r\n\r\n\r\nand the part of WS java file:\r\n\r\n    @WebService(targetNamespace = &quot;http://webservice.net/&quot;, serviceName = &quot;MessageRelayService&quot;)\r\n    @BindingType(value = SOAPBinding.SOAP12HTTP_BINDING)\r\n    public class MessageRelay {\r\n\r\n\r\n","title":"How to embed tomcat in the application and run by java -jar command","body":"<p>My application is soap web services that is packaged as <code>war file</code> and is put it in webapp folder of tomcat to deploy so I googled how to build the java executable-jar-file with tomcat embedded but I did not the suitable document.</p>\n<p>I want to build my project by <code>mvn clean package</code> and run the application by <code>java -jar</code> instead of build it as war file and put it in webapp folder of tomcat to deploy it</p>\n<p>The structure of my project:</p>\n<p>the web.xml file:</p>\n<pre><code>&lt;!DOCTYPE web-app PUBLIC\n        &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\n        &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;\n\n&lt;web-app&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;\n            com.sun.xml.ws.transport.http.servlet.WSServletContextListener\n        &lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;JAXWSServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;\n            com.sun.xml.ws.transport.http.servlet.WSServlet\n        &lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;JAXWSServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/core/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>sun-jaxws.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;endpoints xmlns=&quot;http://java.sun.com/xml/ns/jax-ws/ri/runtime&quot; version=&quot;2.0&quot;&gt;\n    &lt;endpoint\n            name=&quot;MessageRelayService&quot;\n            implementation=&quot;com.messagerelay.ws.interactive.MessageRelay&quot;\n            url-pattern=&quot;/core/MessageRelayService&quot;/&gt;\n&lt;/endpoints&gt;\n</code></pre>\n<p>and the part of WS java file:</p>\n<pre><code>@WebService(targetNamespace = &quot;http://webservice.net/&quot;, serviceName = &quot;MessageRelayService&quot;)\n@BindingType(value = SOAPBinding.SOAP12HTTP_BINDING)\npublic class MessageRelay {\n</code></pre>\n"},{"tags":["java","jupyter-notebook","java-threads"],"answers":[{"comments":[{"owner":{"account_id":2258235,"reputation":27,"user_id":1988928,"display_name":"Eduardo"},"score":0,"creation_date":1678189640,"post_id":75656080,"comment_id":133481522,"body_markdown":"In JShell it works properly, so I guess is a problem with Jupyter and the way the cells work, as commented in other answer.","body":"In JShell it works properly, so I guess is a problem with Jupyter and the way the cells work, as commented in other answer."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1678189750,"post_id":75656080,"comment_id":133481555,"body_markdown":"Ah.  OK.  As I said, I wasn&#39;t in a position to (investigate and) confirm the precise cause of the problem.  The solution is the same though.","body":"Ah.  OK.  As I said, I wasn&#39;t in a position to (investigate and) confirm the precise cause of the problem.  The solution is the same though."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678150384,"creation_date":1678138674,"answer_id":75656080,"question_id":75655180,"body_markdown":"I&#39;m not in position to confirm this, but from what I can tell IJava is based on JShell rather than native Java.  What I think is happening is that JShell is peremptorily closing when your `main` method ends.  But the `main` method ends before the child thread has finished.  Try adding a `t.join()` call after `t.start()`.  That will cause `main` to pause until the child thread has terminated.\r\n\r\nNote that this doesn&#39;t happen when using a native JVM.  The (normal) termination condition for a JVM is that all non-daemon threads have terminated.  Your child thread isn&#39;t a daemon thread so the JVM waits until it finishes ... after your main thread finishes.\r\n\r\n&gt; Is IJava a reliable kernel, since it has not been updated since 2019?\r\n\r\nI have no idea.  Try finding and looking at the issue tracker for the project.","title":"Problems when using threads in IJava at Jupyter notebooks","body":"<p>I'm not in position to confirm this, but from what I can tell IJava is based on JShell rather than native Java.  What I think is happening is that JShell is peremptorily closing when your <code>main</code> method ends.  But the <code>main</code> method ends before the child thread has finished.  Try adding a <code>t.join()</code> call after <code>t.start()</code>.  That will cause <code>main</code> to pause until the child thread has terminated.</p>\n<p>Note that this doesn't happen when using a native JVM.  The (normal) termination condition for a JVM is that all non-daemon threads have terminated.  Your child thread isn't a daemon thread so the JVM waits until it finishes ... after your main thread finishes.</p>\n<blockquote>\n<p>Is IJava a reliable kernel, since it has not been updated since 2019?</p>\n</blockquote>\n<p>I have no idea.  Try finding and looking at the issue tracker for the project.</p>\n"},{"comments":[{"owner":{"account_id":2258235,"reputation":27,"user_id":1988928,"display_name":"Eduardo"},"score":0,"creation_date":1678193074,"post_id":75660327,"comment_id":133482370,"body_markdown":"Yep, it seems to be a problem with Jupyter, since the same code works well on JShell. Thank you.","body":"Yep, it seems to be a problem with Jupyter, since the same code works well on JShell. Thank you."},{"owner":{"account_id":2258235,"reputation":27,"user_id":1988928,"display_name":"Eduardo"},"score":0,"creation_date":1678193202,"post_id":75660327,"comment_id":133482405,"body_markdown":"Now I wonder if Jupyter is the correct tool to teach thread-related code, since I am having issues with very simple snippets and I am not sure that future problems could be solved with a single &quot;join&quot;","body":"Now I wonder if Jupyter is the correct tool to teach thread-related code, since I am having issues with very simple snippets and I am not sure that future problems could be solved with a single &quot;join&quot;"},{"owner":{"account_id":14690937,"reputation":3398,"user_id":10609635,"display_name":"SpencerPark"},"score":1,"creation_date":1678244118,"post_id":75660327,"comment_id":133494322,"body_markdown":"I definitely see a lot of value in runnable lecture notes, kudos for putting in the effort towards that. Can&#39;t really speak about future problems, its possible they won&#39;t play nicely but also possible they just need some creative solutions :) That may depend on if you have some control over the frontend being used to view the notes.","body":"I definitely see a lot of value in runnable lecture notes, kudos for putting in the effort towards that. Can&#39;t really speak about future problems, its possible they won&#39;t play nicely but also possible they just need some creative solutions :) That may depend on if you have some control over the frontend being used to view the notes."}],"tags":[],"owner":{"account_id":14690937,"reputation":3398,"user_id":10609635,"display_name":"SpencerPark"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678182557,"creation_date":1678182557,"answer_id":75660327,"question_id":75655180,"body_markdown":"The problem is with a background thread writing io. To try and associate it with the correct cell, the io streams are tied to the currently executing cell. When nothing is in progress the output is dropped.\r\n\r\nTo rework your example a bit, one option is to just wait for the thread to finish executing:\r\n\r\n```java\r\nRunnable r = () -&gt; {\r\n    for (int x = 1; x &lt;6; x++) {\r\n        System.out.println(&quot;Runnable running &quot; + x);\r\n    }\r\n};\r\nThread t = new Thread(r);\r\nt.start();\r\nt.join();\r\n```\r\n\r\nThe above prints what you&#39;d expect:\r\n```\r\nRunnable running 1\r\nRunnable running 2\r\nRunnable running 3\r\nRunnable running 4\r\nRunnable running 5\r\n```\r\n\r\nThe way the jupyter architecture is structured, a kernel and frontend are separate. Logically there can even be multiple frontends sharing the same kernel so it isn&#39;t as straight forward to push background output from the kernel. Possible that IJava should just keep sending output to the last executed cell but I vaguely remember something along the lines of the spec not promising that frontends will continue accepting input from those streams after a cell is finished executing. (I think classic notebook does but colab doesn&#39;t for example).\r\n\r\nSo to sum things up, threads and background threads should work fine, the io is the issue. If you have other methods of seeing the behavior of that (changing a variable, writing to a file, etc. you should be able to observe that).","title":"Problems when using threads in IJava at Jupyter notebooks","body":"<p>The problem is with a background thread writing io. To try and associate it with the correct cell, the io streams are tied to the currently executing cell. When nothing is in progress the output is dropped.</p>\n<p>To rework your example a bit, one option is to just wait for the thread to finish executing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Runnable r = () -&gt; {\n    for (int x = 1; x &lt;6; x++) {\n        System.out.println(&quot;Runnable running &quot; + x);\n    }\n};\nThread t = new Thread(r);\nt.start();\nt.join();\n</code></pre>\n<p>The above prints what you'd expect:</p>\n<pre><code>Runnable running 1\nRunnable running 2\nRunnable running 3\nRunnable running 4\nRunnable running 5\n</code></pre>\n<p>The way the jupyter architecture is structured, a kernel and frontend are separate. Logically there can even be multiple frontends sharing the same kernel so it isn't as straight forward to push background output from the kernel. Possible that IJava should just keep sending output to the last executed cell but I vaguely remember something along the lines of the spec not promising that frontends will continue accepting input from those streams after a cell is finished executing. (I think classic notebook does but colab doesn't for example).</p>\n<p>So to sum things up, threads and background threads should work fine, the io is the issue. If you have other methods of seeing the behavior of that (changing a variable, writing to a file, etc. you should be able to observe that).</p>\n"}],"owner":{"account_id":2258235,"reputation":27,"user_id":1988928,"display_name":"Eduardo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1678182557,"creation_date":1678131853,"question_id":75655180,"body_markdown":"I need to explain some concepts relating Threads and concurrency in Java, and I thought that using an IJava kernel in Jupyter notebooks would be a good approach to write the lecture notes.\r\n\r\nBut the very first code using threads in the notebook yield an incorrect result. \r\nThe code is the following:\r\n\r\n```\r\nRunnable r = () -&gt; {\r\n    for (int x = 1; x &lt;6; x++) {\r\n        System.out.println(&quot;Runnable running &quot; + x);\r\n    }\r\n};\r\nThread t = new Thread(r);\r\nt.start();\r\n```\r\n\r\nAnd the expected result is: \r\n```\r\nRunnable running 1\r\nRunnable running 2\r\nRunnable running 3\r\nRunnable running 4\r\nRunnable running 5\r\n```\r\n\r\nBut what I obtain in the notebook is:\r\n[![enter image description here](https://i.stack.imgur.com/p7R7n.png)](https://i.stack.imgur.com/p7R7n.png)\r\n\r\nNot sure what happens here and why the rest of the x values are not printed.\r\nAs a comparison, I run the code in an IDE and it works as expected.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/5bQth.png)](https://i.stack.imgur.com/5bQth.png)\r\n\r\n**Some idea of why it is not working?**\r\n\r\nI also tried to add some `t.sleep(1000)` after the println but to no avail.\r\n\r\nIs IJava a reliable kernel, since it has not been updated since 2019?\r\n","title":"Problems when using threads in IJava at Jupyter notebooks","body":"<p>I need to explain some concepts relating Threads and concurrency in Java, and I thought that using an IJava kernel in Jupyter notebooks would be a good approach to write the lecture notes.</p>\n<p>But the very first code using threads in the notebook yield an incorrect result.\nThe code is the following:</p>\n<pre><code>Runnable r = () -&gt; {\n    for (int x = 1; x &lt;6; x++) {\n        System.out.println(&quot;Runnable running &quot; + x);\n    }\n};\nThread t = new Thread(r);\nt.start();\n</code></pre>\n<p>And the expected result is:</p>\n<pre><code>Runnable running 1\nRunnable running 2\nRunnable running 3\nRunnable running 4\nRunnable running 5\n</code></pre>\n<p>But what I obtain in the notebook is:\n<a href=\"https://i.stack.imgur.com/p7R7n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p7R7n.png\" alt=\"enter image description here\" /></a></p>\n<p>Not sure what happens here and why the rest of the x values are not printed.\nAs a comparison, I run the code in an IDE and it works as expected.</p>\n<p><a href=\"https://i.stack.imgur.com/5bQth.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5bQth.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Some idea of why it is not working?</strong></p>\n<p>I also tried to add some <code>t.sleep(1000)</code> after the println but to no avail.</p>\n<p>Is IJava a reliable kernel, since it has not been updated since 2019?</p>\n"},{"tags":["java","xml","eclipse","ant"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1678183259,"post_id":75660326,"comment_id":133479820,"body_markdown":"I don&#39;t see any use of the `classpath` path you set up. Shouldn&#39;t the `javac` have a `classpathref` to it?","body":"I don&#39;t see any use of the <code>classpath</code> path you set up. Shouldn&#39;t the <code>javac</code> have a <code>classpathref</code> to it?"},{"owner":{"account_id":3533906,"reputation":522,"user_id":2952709,"accept_rate":71,"display_name":"Alex Lemesios"},"score":0,"creation_date":1678184205,"post_id":75660326,"comment_id":133480085,"body_markdown":"@greg-449 can you elaborate further , give a snip code or post an answer  ? i won&#39;t downvote even if it&#39;s wrong.","body":"@greg-449 can you elaborate further , give a snip code or post an answer  ? i won&#39;t downvote even if it&#39;s wrong."}],"owner":{"account_id":3533906,"reputation":522,"user_id":2952709,"accept_rate":71,"display_name":"Alex Lemesios"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678182555,"creation_date":1678182555,"question_id":75660326,"body_markdown":"I have searched a lot , as I know there is a good amount of questions in SO related to this subject , though i couldn&#39;t find an answer that resolves my issue. \r\n\r\nI am using Ant in Eclipse , I want to compile successfully and build a project they hand me out at work . \r\n\r\nI have included several **target** elements in my **build.xml** file , one of them called **init** which includes all the .jar files of my lib directory , which resides in the **root** directory of the project.\r\n\r\nFollowing is my **build.xml** file :\r\n\r\n``` \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n\r\n&lt;project name=&quot;xxxName&quot; default=&quot;build&quot;&gt;\r\n    &lt;property name=&quot;build.dir&quot; value=&quot;build&quot;/&gt;\r\n    &lt;property name=&quot;src.dir&quot; value=&quot;src&quot;/&gt;\r\n    &lt;property environment=&quot;env&quot;/&gt;\r\n    &lt;property name=&quot;ECLIPSE_HOME&quot; value=&quot;../../../eclipse/jee-2022-09/eclipse/&quot;/&gt;\r\n    &lt;property name=&quot;debuglevel&quot; value=&quot;source,lines,vars&quot;/&gt;\r\n    &lt;property name=&quot;target&quot; value=&quot;1.8&quot;/&gt;\r\n    &lt;property name=&quot;source&quot; value=&quot;1.8&quot;/&gt;\r\n    &lt;target name=&quot;build&quot;  depends=&quot;compile&quot;&gt;\r\n        &lt;mkdir dir=&quot;build&quot;/&gt;\r\n        &lt;copy todir=&quot;build&quot;&gt;\r\n            &lt;fileset dir=&quot;.&quot;&gt;\r\n                &lt;include name=&quot;**/*.class&quot;/&gt;\r\n                &lt;include name=&quot;**/*.java&quot;/&gt;\r\n                &lt;include name=&quot;**/*.xsd&quot;/&gt;\r\n                &lt;include name=&quot;**/*.xml&quot;/&gt;\r\n            &lt;/fileset&gt;\r\n        &lt;/copy&gt;\r\n        &lt;mkdir dir=&quot;dist&quot;/&gt;\r\n        &lt;jar destfile=&quot;dist/Name.aar&quot;&gt;\r\n            &lt;fileset dir=&quot;build&quot;/&gt;\r\n            &lt;manifest&gt;\r\n                &lt;attribute name=&quot;Service-Class&quot; value=&quot;MyService.java&quot;/&gt;\r\n            &lt;/manifest&gt;\r\n        &lt;/jar&gt;\r\n    &lt;/target&gt;\r\n    &lt;target name=&quot;compile&quot;   depends=&quot;init&quot;&gt;\r\n        &lt;javac srcdir=&quot;src&quot; destdir=&quot;test&quot; /&gt;\r\n    &lt;/target&gt;\r\n\t&lt;target name=&quot;copy-classes&quot;&gt;\r\n    &lt;copy todir=&quot;${build.dir}/WEB-INF/classes&quot;&gt;\r\n        &lt;fileset dir=&quot;${src.dir}&quot;&gt;\r\n            &lt;include name=&quot;**/*.java&quot;/&gt;\r\n        &lt;/fileset&gt;\r\n    &lt;/copy&gt;\r\n&lt;/target&gt;\r\n\t&lt;target name=&quot;init&quot; &gt;\r\n\t\t&lt;path id=&quot;classpath&quot;&gt;\r\n\t  \t\t&lt;fileset dir=&quot;lib&quot;&gt;\r\n\t\t\t\t&lt;include name=&quot;*.jar&quot; /&gt;\r\n\t  \t\t&lt;/fileset&gt;\r\n\t  \t\t&lt;pathelement path=&quot;${basedir}/lib&quot; /&gt;\r\n\t\t\t&lt;/path&gt;\r\n\t  &lt;/target&gt;\r\n&lt;/project&gt;\r\n\r\n\r\n```\r\n\r\nMy project structure is as follows : \r\n\r\n```\r\nMyProject\r\n&lt;!-- Src,lib and build.xml all reside on the same level !--&gt;\r\n  -- src\r\n  -- lib\r\n  -- build.xml\r\n\r\n```\r\n\r\nMy problem :\r\n\r\nWhen trying to invoke the **build** target of my **build.xml** file the javac comes with the following errors :\r\n\r\n```\r\n\r\n    [javac] C:\\Path\\File.java:199: error: package org.apache.axis2.databinding.utils does not exist\r\n    [javac]                 xmlWriter.writeCharacters(org.apache.axis2.databinding.utils.ConverterUtil.convertToString(\r\n    [javac]                                                                             ^\r\n    [javac] C:\\Path\\File.java:199::203: error: package org.apache.axis2.databinding.utils does not exist\r\n    [javac]             xmlWriter.writeCharacters(org.apache.axis2.databinding.utils.ConverterUtil.convertToString(\r\n    [javac]                                                                         ^\r\n    [javac]C:\\Path\\File.java:199::236: error: package org.apache.axis2.databinding.utils does not exist\r\n    [javac]                                      .append(org.apache.axis2.databinding.utils.ConverterUtil.convertToString(\r\n    [javac]                                                                                ^\r\n    [javac] C:\\Path\\File.java:199::239: error: package org.apache.axis2.databinding.utils does not exist\r\n    [javac]                         stringToWrite.append(org.apache.axis2.databinding.utils.ConverterUtil.convertToString(\r\n    [javac]                                                                                ^\r\n    [javac] C:\\Path\\File.java:199::243: error: package org.apache.axis2.databinding.utils does not exist\r\n    [javac]                     stringToWrite.append(org.apache.axis2.databinding.utils.ConverterUtil.convertToString(\r\n    [javac]                                                                            ^\r\n    [javac]C:\\Path\\File.java:199::272: error: package org.apache.axis2.databinding.utils does not exist\r\n    [javac]                 prefix = org.apache.axis2.databinding.utils.BeanUtil.getUniquePrefix();\r\n    [javac]                                                            ^\r\n    [javac] C:\\Path\\File.java:199\r\n    [javac] C:\\Path\\File.java:199:error: package org.apache.axis2.databinding does not exist\r\n    [javac]                             throw new org.apache.axis2.databinding.ADBException(\r\n    [javac]                                                                   ^\r\n    [javac] 100 errors\r\n    [javac] only showing the first 100 errors, of 194 total; use -Xmaxerrs if you would like to see more\r\n\r\n```\r\n\r\nNotice how the compiler states it&#39;s only showing first 100 errors from 194, so it actually can&#39;t find **ANY** library that is related to the project . \r\n\r\nFirst thing i have tried to do , is check if actually the missing packages exist in the **lib** folder as **.jar** files , and they do . I haven&#39;t checked one by one , but at least the first 3 packages for which the javac is complaining about , have their respective **.jar** files in the **lib** folder. \r\n\r\nMoreover i know this for a fact as i have anyway added them in the Java build Path of the project and Eclipse could find them and resolve any issues. \r\n\r\nMy question is what am I missing in the **build** file and causes this issue ?\r\n\r\nAny help would be appreciated . thanks\r\n\r\n\r\n\r\n","title":"Eclipse - Ant Build - Package does not exist - javac , but .jar libs are included in build.xml","body":"<p>I have searched a lot , as I know there is a good amount of questions in SO related to this subject , though i couldn't find an answer that resolves my issue.</p>\n<p>I am using Ant in Eclipse , I want to compile successfully and build a project they hand me out at work .</p>\n<p>I have included several <strong>target</strong> elements in my <strong>build.xml</strong> file , one of them called <strong>init</strong> which includes all the .jar files of my lib directory , which resides in the <strong>root</strong> directory of the project.</p>\n<p>Following is my <strong>build.xml</strong> file :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n\n&lt;project name=&quot;xxxName&quot; default=&quot;build&quot;&gt;\n    &lt;property name=&quot;build.dir&quot; value=&quot;build&quot;/&gt;\n    &lt;property name=&quot;src.dir&quot; value=&quot;src&quot;/&gt;\n    &lt;property environment=&quot;env&quot;/&gt;\n    &lt;property name=&quot;ECLIPSE_HOME&quot; value=&quot;../../../eclipse/jee-2022-09/eclipse/&quot;/&gt;\n    &lt;property name=&quot;debuglevel&quot; value=&quot;source,lines,vars&quot;/&gt;\n    &lt;property name=&quot;target&quot; value=&quot;1.8&quot;/&gt;\n    &lt;property name=&quot;source&quot; value=&quot;1.8&quot;/&gt;\n    &lt;target name=&quot;build&quot;  depends=&quot;compile&quot;&gt;\n        &lt;mkdir dir=&quot;build&quot;/&gt;\n        &lt;copy todir=&quot;build&quot;&gt;\n            &lt;fileset dir=&quot;.&quot;&gt;\n                &lt;include name=&quot;**/*.class&quot;/&gt;\n                &lt;include name=&quot;**/*.java&quot;/&gt;\n                &lt;include name=&quot;**/*.xsd&quot;/&gt;\n                &lt;include name=&quot;**/*.xml&quot;/&gt;\n            &lt;/fileset&gt;\n        &lt;/copy&gt;\n        &lt;mkdir dir=&quot;dist&quot;/&gt;\n        &lt;jar destfile=&quot;dist/Name.aar&quot;&gt;\n            &lt;fileset dir=&quot;build&quot;/&gt;\n            &lt;manifest&gt;\n                &lt;attribute name=&quot;Service-Class&quot; value=&quot;MyService.java&quot;/&gt;\n            &lt;/manifest&gt;\n        &lt;/jar&gt;\n    &lt;/target&gt;\n    &lt;target name=&quot;compile&quot;   depends=&quot;init&quot;&gt;\n        &lt;javac srcdir=&quot;src&quot; destdir=&quot;test&quot; /&gt;\n    &lt;/target&gt;\n    &lt;target name=&quot;copy-classes&quot;&gt;\n    &lt;copy todir=&quot;${build.dir}/WEB-INF/classes&quot;&gt;\n        &lt;fileset dir=&quot;${src.dir}&quot;&gt;\n            &lt;include name=&quot;**/*.java&quot;/&gt;\n        &lt;/fileset&gt;\n    &lt;/copy&gt;\n&lt;/target&gt;\n    &lt;target name=&quot;init&quot; &gt;\n        &lt;path id=&quot;classpath&quot;&gt;\n            &lt;fileset dir=&quot;lib&quot;&gt;\n                &lt;include name=&quot;*.jar&quot; /&gt;\n            &lt;/fileset&gt;\n            &lt;pathelement path=&quot;${basedir}/lib&quot; /&gt;\n            &lt;/path&gt;\n      &lt;/target&gt;\n&lt;/project&gt;\n\n\n</code></pre>\n<p>My project structure is as follows :</p>\n<pre><code>MyProject\n&lt;!-- Src,lib and build.xml all reside on the same level !--&gt;\n  -- src\n  -- lib\n  -- build.xml\n\n</code></pre>\n<p>My problem :</p>\n<p>When trying to invoke the <strong>build</strong> target of my <strong>build.xml</strong> file the javac comes with the following errors :</p>\n<pre><code>\n    [javac] C:\\Path\\File.java:199: error: package org.apache.axis2.databinding.utils does not exist\n    [javac]                 xmlWriter.writeCharacters(org.apache.axis2.databinding.utils.ConverterUtil.convertToString(\n    [javac]                                                                             ^\n    [javac] C:\\Path\\File.java:199::203: error: package org.apache.axis2.databinding.utils does not exist\n    [javac]             xmlWriter.writeCharacters(org.apache.axis2.databinding.utils.ConverterUtil.convertToString(\n    [javac]                                                                         ^\n    [javac]C:\\Path\\File.java:199::236: error: package org.apache.axis2.databinding.utils does not exist\n    [javac]                                      .append(org.apache.axis2.databinding.utils.ConverterUtil.convertToString(\n    [javac]                                                                                ^\n    [javac] C:\\Path\\File.java:199::239: error: package org.apache.axis2.databinding.utils does not exist\n    [javac]                         stringToWrite.append(org.apache.axis2.databinding.utils.ConverterUtil.convertToString(\n    [javac]                                                                                ^\n    [javac] C:\\Path\\File.java:199::243: error: package org.apache.axis2.databinding.utils does not exist\n    [javac]                     stringToWrite.append(org.apache.axis2.databinding.utils.ConverterUtil.convertToString(\n    [javac]                                                                            ^\n    [javac]C:\\Path\\File.java:199::272: error: package org.apache.axis2.databinding.utils does not exist\n    [javac]                 prefix = org.apache.axis2.databinding.utils.BeanUtil.getUniquePrefix();\n    [javac]                                                            ^\n    [javac] C:\\Path\\File.java:199\n    [javac] C:\\Path\\File.java:199:error: package org.apache.axis2.databinding does not exist\n    [javac]                             throw new org.apache.axis2.databinding.ADBException(\n    [javac]                                                                   ^\n    [javac] 100 errors\n    [javac] only showing the first 100 errors, of 194 total; use -Xmaxerrs if you would like to see more\n\n</code></pre>\n<p>Notice how the compiler states it's only showing first 100 errors from 194, so it actually can't find <strong>ANY</strong> library that is related to the project .</p>\n<p>First thing i have tried to do , is check if actually the missing packages exist in the <strong>lib</strong> folder as <strong>.jar</strong> files , and they do . I haven't checked one by one , but at least the first 3 packages for which the javac is complaining about , have their respective <strong>.jar</strong> files in the <strong>lib</strong> folder.</p>\n<p>Moreover i know this for a fact as i have anyway added them in the Java build Path of the project and Eclipse could find them and resolve any issues.</p>\n<p>My question is what am I missing in the <strong>build</strong> file and causes this issue ?</p>\n<p>Any help would be appreciated . thanks</p>\n"},{"tags":["java","android","flutter","gradle"],"owner":{"account_id":15645174,"reputation":263,"user_id":11287483,"display_name":"Saayeed M Daawoud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678182532,"creation_date":1678182172,"question_id":75660252,"body_markdown":"since the last flutter upgrade when I&#39;m trying to open any previous project, it gives me this error  \r\n```\r\nError: Could not find or load main class org.gradle.wrapper.GradleWrapperMain\r\nCaused by: java.lang.ClassNotFoundException: org.gradle.wrapper.GradleWrapperMain\r\nException: Gradle task assembleDebug failed with exit code 1\r\n```\r\nThese are my trials to solve this problem, but no one works for me\r\n 1. I tried to update gradle distributionUrl to Version 7.4\r\n 2. remove the jar file and get it from a new project \r\n\r\nmy ```flutter doctor```\r\n\r\n```\r\nC:\\Users\\sayed&gt;flutter doctor\r\nDoctor summary (to see all details, run flutter doctor -v):\r\n[] Flutter (Channel stable, 3.7.5, on Microsoft Windows [Version 10.0.19045.2604], locale en-US)\r\n[] Windows Version (Installed version of Windows is version 10 or higher)\r\n[] Android toolchain - develop for Android devices (Android SDK version 33.0.1)\r\n[] Chrome - develop for the web\r\n[X] Visual Studio - develop for Windows\r\n    X Visual Studio not installed; this is necessary for Windows development.\r\n      Download at https://visualstudio.microsoft.com/downloads/.\r\n      Please install the &quot;Desktop development with C++&quot; workload, including all of its default components\r\n[] Android Studio (version 2022.1)\r\n[] VS Code (version 1.75.1)\r\n[] Connected device (4 available)\r\n[] HTTP Host Availability\r\n```","title":"how to solve error of :Could not find or load main class org.gradle.wrapper.GradleWrapperMain after upgrade flutter","body":"<p>since the last flutter upgrade when I'm trying to open any previous project, it gives me this error</p>\n<pre><code>Error: Could not find or load main class org.gradle.wrapper.GradleWrapperMain\nCaused by: java.lang.ClassNotFoundException: org.gradle.wrapper.GradleWrapperMain\nException: Gradle task assembleDebug failed with exit code 1\n</code></pre>\n<p>These are my trials to solve this problem, but no one works for me</p>\n<ol>\n<li>I tried to update gradle distributionUrl to Version 7.4</li>\n<li>remove the jar file and get it from a new project</li>\n</ol>\n<p>my <code>flutter doctor</code></p>\n<pre><code>C:\\Users\\sayed&gt;flutter doctor\nDoctor summary (to see all details, run flutter doctor -v):\n[] Flutter (Channel stable, 3.7.5, on Microsoft Windows [Version 10.0.19045.2604], locale en-US)\n[] Windows Version (Installed version of Windows is version 10 or higher)\n[] Android toolchain - develop for Android devices (Android SDK version 33.0.1)\n[] Chrome - develop for the web\n[X] Visual Studio - develop for Windows\n    X Visual Studio not installed; this is necessary for Windows development.\n      Download at https://visualstudio.microsoft.com/downloads/.\n      Please install the &quot;Desktop development with C++&quot; workload, including all of its default components\n[] Android Studio (version 2022.1)\n[] VS Code (version 1.75.1)\n[] Connected device (4 available)\n[] HTTP Host Availability\n</code></pre>\n"},{"tags":["java","apache-camel","spring-camel"],"owner":{"account_id":17669587,"reputation":1,"user_id":16578084,"display_name":"Denis-D-M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678182061,"creation_date":1678182061,"question_id":75660228,"body_markdown":"Let&#39;s say that we have very long routes with a lot of .split() and .multicast() and all they work in parallel, the goal is to completely stop particular inflight/exchange (not route, because all other threads will be affected). \r\nIt doesn&#39;t matter if .onCompletion() will be executed. \r\nWhat can you recommend?\r\n\r\nThe solution that I came across with is next: \r\n1. Set unique id as a property at start\r\n2. Create an http endpoint as a route which expects this id\r\n3. Create a processor in that http route which does next:\r\n\r\n```\r\n      .process(exchange -&gt; {\r\n        //id as a request body\r\n        var id = exchange.getMessage().getBody(String.class);\r\n        var inflightRepository = exchange.getContext().getInflightRepository();\r\n        var exchangesToRemove = inflightRepository.browse().stream()\r\n                               .filter(e -&gt; e.getExchange().getProperties().containsValue(id))\r\n                               .map(InflightRepository.InflightExchange::getExchange)\r\n                               .toList();\r\n\r\n        exchangesToRemove.forEach(e -&gt; inflightRepository.remove(e));\r\n      });\r\n```\r\nIt seems to work as expected, but if we have a .split(), even though we removed parent exchange and all the exchanges that we have at the moment, split will continue create new exchanges.","title":"How to remove camel exchange and sub-exchanges?","body":"<p>Let's say that we have very long routes with a lot of .split() and .multicast() and all they work in parallel, the goal is to completely stop particular inflight/exchange (not route, because all other threads will be affected).\nIt doesn't matter if .onCompletion() will be executed.\nWhat can you recommend?</p>\n<p>The solution that I came across with is next:</p>\n<ol>\n<li>Set unique id as a property at start</li>\n<li>Create an http endpoint as a route which expects this id</li>\n<li>Create a processor in that http route which does next:</li>\n</ol>\n<pre><code>      .process(exchange -&gt; {\n        //id as a request body\n        var id = exchange.getMessage().getBody(String.class);\n        var inflightRepository = exchange.getContext().getInflightRepository();\n        var exchangesToRemove = inflightRepository.browse().stream()\n                               .filter(e -&gt; e.getExchange().getProperties().containsValue(id))\n                               .map(InflightRepository.InflightExchange::getExchange)\n                               .toList();\n\n        exchangesToRemove.forEach(e -&gt; inflightRepository.remove(e));\n      });\n</code></pre>\n<p>It seems to work as expected, but if we have a .split(), even though we removed parent exchange and all the exchanges that we have at the moment, split will continue create new exchanges.</p>\n"},{"tags":["java","spring","amazon-web-services","jboss","java-6"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1677747084,"post_id":75613128,"comment_id":133399793,"body_markdown":"Did you think about using something like nginx?","body":"Did you think about using something like nginx?"},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":1,"creation_date":1677749488,"post_id":75613128,"comment_id":133400402,"body_markdown":"Do you mean that you need to call the actual services (with POST) to see if they are alive, or what do you mean with you can&#39;t have a GET endpoint? Is there a health SOAP endpoint, or are there just &quot;real&quot; endpoints that do things when you call them? Many SOAP services return WSDL if called with GET, you might use that as a health probe of sorts.","body":"Do you mean that you need to call the actual services (with POST) to see if they are alive, or what do you mean with you can&#39;t have a GET endpoint? Is there a health SOAP endpoint, or are there just &quot;real&quot; endpoints that do things when you call them? Many SOAP services return WSDL if called with GET, you might use that as a health probe of sorts."},{"owner":{"account_id":372060,"reputation":1227,"user_id":720909,"accept_rate":36,"display_name":"Arvind"},"score":0,"creation_date":1677751141,"post_id":75613128,"comment_id":133400887,"body_markdown":"will check nginx @dan1st","body":"will check nginx @dan1st"},{"owner":{"account_id":372060,"reputation":1227,"user_id":720909,"accept_rate":36,"display_name":"Arvind"},"score":0,"creation_date":1677751187,"post_id":75613128,"comment_id":133400904,"body_markdown":"@ewramner   we need to call POST to check health","body":"@ewramner   we need to call POST to check health"}],"answers":[{"tags":[],"owner":{"account_id":3803644,"reputation":1290,"user_id":3156607,"display_name":"Dennis Kieselhorst"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678182020,"creation_date":1678182020,"answer_id":75660222,"question_id":75613128,"body_markdown":"- Add an additional servlet to the JBoss deployment that provides a GET route. \r\n- Call the existing SOAP service (or whatever is needed to verify health) internally. \r\n- Use AWS Application Load Balancer and configure the target group health check (see https://docs.aws.amazon.com/elasticloadbalancing/latest/application/target-group-health-checks.html).\r\n\r\nYou may want to combine it with a Facade using Amazon API Gateway. That would allow you to incrementally modernize in the future (e.g. you could run the Java code providing the SOAP services in a serverless way as a AWS Lambda function).","title":"how to implement load balancer for Jboss","body":"<ul>\n<li>Add an additional servlet to the JBoss deployment that provides a GET route.</li>\n<li>Call the existing SOAP service (or whatever is needed to verify health) internally.</li>\n<li>Use AWS Application Load Balancer and configure the target group health check (see <a href=\"https://docs.aws.amazon.com/elasticloadbalancing/latest/application/target-group-health-checks.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/elasticloadbalancing/latest/application/target-group-health-checks.html</a>).</li>\n</ul>\n<p>You may want to combine it with a Facade using Amazon API Gateway. That would allow you to incrementally modernize in the future (e.g. you could run the Java code providing the SOAP services in a serverless way as a AWS Lambda function).</p>\n"}],"owner":{"account_id":372060,"reputation":1227,"user_id":720909,"accept_rate":36,"display_name":"Arvind"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75660222,"answer_count":1,"score":0,"last_activity_date":1678182020,"creation_date":1677747014,"question_id":75613128,"body_markdown":"We have a legacy java application which is developed in 2010 deployed in Jobss 5. we cant migrate to latest one because of some business and other constrain.\r\n\r\nwe have deployed our applicationin AWS, there are 9 servers and one load balancer.\r\n\r\nWe want to add and remove servers based on the health endpoint.\r\nthis is an ejb application and exposing soap service, we cant have GET call for a health endpoint.\r\n\r\nSo I am thinking to build a custom load balancer which will be a wrapper on top of these 9 servers which is a tedious task as I have to write a wrapper for each soap service around (1000 services)\r\n\r\nis there a  better way to handle this, any pointer will be highly appreciated \r\n\r\nThanks\r\n\r\n\r\n\r\n\r\n","title":"how to implement load balancer for Jboss","body":"<p>We have a legacy java application which is developed in 2010 deployed in Jobss 5. we cant migrate to latest one because of some business and other constrain.</p>\n<p>we have deployed our applicationin AWS, there are 9 servers and one load balancer.</p>\n<p>We want to add and remove servers based on the health endpoint.\nthis is an ejb application and exposing soap service, we cant have GET call for a health endpoint.</p>\n<p>So I am thinking to build a custom load balancer which will be a wrapper on top of these 9 servers which is a tedious task as I have to write a wrapper for each soap service around (1000 services)</p>\n<p>is there a  better way to handle this, any pointer will be highly appreciated</p>\n<p>Thanks</p>\n"},{"tags":["java","android","xml","android-studio","gridview"],"answers":[{"tags":[],"owner":{"account_id":23764275,"reputation":349,"user_id":17779236,"display_name":"Waqar Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678181936,"creation_date":1678181936,"answer_id":75660207,"question_id":75660130,"body_markdown":"You can use the recycler view for this purpose and set it&#39;s layout as Grid layout manager\r\n\r\nsimply add the  recycler view dependancy \r\n\r\n    implementation &quot;androidx.recyclerview:recyclerview:1.2.1&quot;\r\n\r\nJust create a new activity and test this example code\r\n[https://abhiandroid.com/materialdesign/recyclerview-gridview.html][1]\r\n\r\n\r\n  [1]: https://abhiandroid.com/materialdesign/recyclerview-gridview.html","title":"How to show all installed apps in a grid view","body":"<p>You can use the recycler view for this purpose and set it's layout as Grid layout manager</p>\n<p>simply add the  recycler view dependancy</p>\n<pre><code>implementation &quot;androidx.recyclerview:recyclerview:1.2.1&quot;\n</code></pre>\n<p>Just create a new activity and test this example code\n<a href=\"https://abhiandroid.com/materialdesign/recyclerview-gridview.html\" rel=\"nofollow noreferrer\">https://abhiandroid.com/materialdesign/recyclerview-gridview.html</a></p>\n"}],"owner":{"account_id":26489648,"reputation":153,"user_id":20127730,"display_name":"Mr_Milky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678181936,"creation_date":1678181329,"question_id":75660130,"body_markdown":"How to show all installed apps in a grid view,\r\nHow can I display a list of app icons in a gridview \r\n\r\n\r\nMainActivity:\r\n        \r\n        import android.content.Context;\r\n        import android.content.DialogInterface;\r\n        import android.content.Intent;\r\n        import android.content.pm.ApplicationInfo;\r\n        import android.content.pm.PackageInfo;\r\n        import android.content.pm.PackageManager;\r\n        import android.graphics.drawable.Drawable;\r\n        import android.net.Uri;\r\n        import android.os.Bundle;\r\n        import android.view.LayoutInflater;\r\n        import android.view.View;\r\n        import android.view.ViewGroup;\r\n        import android.widget.AdapterView;\r\n        import android.widget.BaseAdapter;\r\n        import android.widget.GridView;\r\n        import android.widget.ImageView;\r\n        import android.widget.ListAdapter;\r\n        import android.widget.ListView;\r\n        import android.widget.TextView;\r\n        import android.widget.Toast;\r\n        \r\n        import androidx.appcompat.app.AlertDialog;\r\n        import androidx.appcompat.app.AppCompatActivity;\r\n        \r\n        import java.util.ArrayList;\r\n        import java.util.List;\r\n        \r\n        public class MainActivity extends AppCompatActivity {\r\n        \r\n            private List&lt;AppList&gt; installedApps;\r\n            private AppAdapter installedAppAdapter;\r\n            ListView userInstalledApps;\r\n        \r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.activity_main);\r\n        \r\n                userInstalledApps = (ListView) findViewById(R.id.installed_app_list);\r\n        \r\n                installedApps = getInstalledApps();\r\n                installedAppAdapter = new AppAdapter(MainActivity.this, installedApps);\r\n                userInstalledApps.setAdapter(installedAppAdapter);\r\n                userInstalledApps.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n                    @Override\r\n                    public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, final int i, long l) {\r\n        \r\n                        String[] colors = {&quot; Open App&quot;, &quot; App Info&quot;};\r\n                        AlertDialog.Builder builder = new AlertDialog.Builder(MainActivity.this);\r\n                        builder.setTitle(&quot;Choose Action&quot;)\r\n                                .setItems(colors, new DialogInterface.OnClickListener() {\r\n                                    public void onClick(DialogInterface dialog, int which) {\r\n                                        // The &#39;which&#39; argument contains the index position of the selected item\r\n                                        if (which==0){\r\n                                            Intent intent = getPackageManager().getLaunchIntentForPackage(installedApps.get(i).packages);\r\n                                            if(intent != null){\r\n                                                startActivity(intent);\r\n                                            }\r\n                                            else {\r\n                                                Toast.makeText(MainActivity.this, installedApps.get(i).packages + &quot; Error, Please Try Again...&quot;, Toast.LENGTH_SHORT).show();\r\n                                            }\r\n                                        }\r\n                                        if (which==1){\r\n                                            Intent intent = new Intent(android.provider.Settings.ACTION_APPLICATION_DETAILS_SETTINGS);\r\n                                            intent.setData(Uri.parse(&quot;package:&quot; + installedApps.get(i).packages));\r\n                                            Toast.makeText(MainActivity.this, installedApps.get(i).packages, Toast.LENGTH_SHORT).show();\r\n                                            startActivity(intent);\r\n                                        }\r\n                                    }\r\n                                });\r\n                        builder.show();\r\n        \r\n                    }\r\n                });\r\n        \r\n                //Total Number of Installed-Apps(i.e. List Size)\r\n                String  abc = userInstalledApps.getCount()+&quot;&quot;;\r\n                TextView countApps = (TextView)findViewById(R.id.countApps);\r\n                countApps.setText(&quot;Total Installed Apps: &quot;+abc);\r\n                Toast.makeText(this, abc+&quot; Apps&quot;, Toast.LENGTH_SHORT).show();\r\n        \r\n            }\r\n        \r\n            private List&lt;AppList&gt; getInstalledApps() {\r\n                PackageManager pm = getPackageManager();\r\n                List&lt;AppList&gt; apps = new ArrayList&lt;AppList&gt;();\r\n                List&lt;PackageInfo&gt; packs = getPackageManager().getInstalledPackages(0);\r\n                //List&lt;PackageInfo&gt; packs = getPackageManager().getInstalledPackages(PackageManager.GET_PERMISSIONS);\r\n                for (int i = 0; i &lt; packs.size(); i++) {\r\n                    PackageInfo p = packs.get(i);\r\n                    if ((!isSystemPackage(p))) {\r\n                        String appName = p.applicationInfo.loadLabel(getPackageManager()).toString();\r\n                        Drawable icon = p.applicationInfo.loadIcon(getPackageManager());\r\n                        String packages = p.applicationInfo.packageName;\r\n                        apps.add(new AppList(appName, icon, packages));\r\n                    }\r\n                }\r\n                return apps;\r\n            }\r\n        \r\n            private boolean isSystemPackage(PackageInfo pkgInfo) {\r\n                return (pkgInfo.applicationInfo.flags &amp; ApplicationInfo.FLAG_SYSTEM) != 0;\r\n            }\r\n        \r\n            public class AppAdapter extends BaseAdapter {\r\n        \r\n                public LayoutInflater layoutInflater;\r\n                public List&lt;AppList&gt; listStorage;\r\n        \r\n                public AppAdapter(Context context, List&lt;AppList&gt; customizedListView) {\r\n                    layoutInflater =(LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n                    listStorage = customizedListView;\r\n                }\r\n        \r\n                @Override\r\n                public int getCount() {\r\n                    return listStorage.size();\r\n                }\r\n        \r\n                @Override\r\n                public Object getItem(int position) {\r\n                    return position;\r\n                }\r\n        \r\n                @Override\r\n                public long getItemId(int position) {\r\n                    return position;\r\n                }\r\n        \r\n                @Override\r\n                public View getView(int position, View convertView, ViewGroup parent) {\r\n        \r\n                    ViewHolder listViewHolder;\r\n                    if(convertView == null){\r\n                        listViewHolder = new ViewHolder();\r\n                        convertView = layoutInflater.inflate(R.layout.installed_app_list, parent, false);\r\n        \r\n                        listViewHolder.textInListView = (TextView)convertView.findViewById(R.id.list_app_name);\r\n                        listViewHolder.imageInListView = (ImageView)convertView.findViewById(R.id.app_icon);\r\n                        listViewHolder.packageInListView=(TextView)convertView.findViewById(R.id.app_package);\r\n                        listViewHolder.GridView = (GridView)convertView.findViewById(R.id.gridview);\r\n        \r\n                        convertView.setTag(listViewHolder);\r\n                    }else{\r\n                        listViewHolder = (ViewHolder)convertView.getTag();\r\n                    }\r\n                    listViewHolder.textInListView.setText(listStorage.get(position).getName());\r\n                    listViewHolder.imageInListView.setImageDrawable(listStorage.get(position).getIcon());\r\n                    listViewHolder.packageInListView.setText(listStorage.get(position).getPackages());\r\n         //           listViewHolder.GridView.setAdapter((ListAdapter) listStorage.get(position).getIcon());\r\n        \r\n                    return convertView;\r\n                }\r\n        \r\n                class ViewHolder{\r\n                    public GridView GridView;\r\n                    TextView textInListView;\r\n                    ImageView imageInListView;\r\n                    TextView packageInListView;\r\n        \r\n                }\r\n            }\r\n        \r\n            public class AppList {\r\n                private String name;\r\n                Drawable icon;\r\n                private String packages;\r\n                public AppList(String name, Drawable icon, String packages) {\r\n                    this.name = name;\r\n                    this.icon = icon;\r\n                    this.packages = packages;\r\n                }\r\n                public String getName() {\r\n                    return name;\r\n                }\r\n                public Drawable getIcon() {\r\n                    return icon;\r\n                }\r\n                public String getPackages() {\r\n                    return packages;\r\n                }\r\n        \r\n            }\r\n            }\r\n\r\n\r\nactivity_main.xml :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@drawable/backround&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/countApps&quot;\r\n            android:text=&quot;Count: &quot;\r\n            android:padding=&quot;5dp&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n        &lt;ListView\r\n            android:id=&quot;@+id/installed_app_list&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n    \r\n        &lt;GridView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            android:id=&quot;@+id/gridview&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;fill_parent&quot;\r\n            android:columnWidth=&quot;90dp&quot;\r\n            android:numColumns=&quot;auto_fit&quot;\r\n            android:verticalSpacing=&quot;10dp&quot;\r\n            android:horizontalSpacing=&quot;10dp&quot;\r\n            android:stretchMode=&quot;columnWidth&quot;\r\n            android:gravity=&quot;center&quot;\r\n            /&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n\r\ninstalled_app_list.xml :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;100dp&quot;\r\n            android:layout_height=&quot;70dp&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:padding=&quot;15dp&quot;&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/app_icon&quot;\r\n                android:layout_width=&quot;70dp&quot;\r\n                android:layout_height=&quot;43dp&quot; /&gt;\r\n    \r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;3dp&quot;\r\n                android:layout_marginLeft=&quot;3dp&quot;\r\n                android:descendantFocusability=&quot;beforeDescendants&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/app_package&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;App Package Name&quot;\r\n                    android:textSize=&quot;0dp&quot; /&gt;\r\n    \r\n            &lt;/LinearLayout&gt;\r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;200dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:padding=&quot;15dp&quot;&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/list_app_name&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;25dp&quot;\r\n                android:lineSpacingExtra=&quot;0sp&quot;\r\n                android:textSize=&quot;15dp&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\nCan you give me some source code of a simple grid view?\r\ni want all installed app in a grid view \r\n\r\nThankyou .............................................","title":"How to show all installed apps in a grid view","body":"<p>How to show all installed apps in a grid view,\nHow can I display a list of app icons in a gridview</p>\n<p>MainActivity:</p>\n<pre><code>    import android.content.Context;\n    import android.content.DialogInterface;\n    import android.content.Intent;\n    import android.content.pm.ApplicationInfo;\n    import android.content.pm.PackageInfo;\n    import android.content.pm.PackageManager;\n    import android.graphics.drawable.Drawable;\n    import android.net.Uri;\n    import android.os.Bundle;\n    import android.view.LayoutInflater;\n    import android.view.View;\n    import android.view.ViewGroup;\n    import android.widget.AdapterView;\n    import android.widget.BaseAdapter;\n    import android.widget.GridView;\n    import android.widget.ImageView;\n    import android.widget.ListAdapter;\n    import android.widget.ListView;\n    import android.widget.TextView;\n    import android.widget.Toast;\n    \n    import androidx.appcompat.app.AlertDialog;\n    import androidx.appcompat.app.AppCompatActivity;\n    \n    import java.util.ArrayList;\n    import java.util.List;\n    \n    public class MainActivity extends AppCompatActivity {\n    \n        private List&lt;AppList&gt; installedApps;\n        private AppAdapter installedAppAdapter;\n        ListView userInstalledApps;\n    \n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n    \n            userInstalledApps = (ListView) findViewById(R.id.installed_app_list);\n    \n            installedApps = getInstalledApps();\n            installedAppAdapter = new AppAdapter(MainActivity.this, installedApps);\n            userInstalledApps.setAdapter(installedAppAdapter);\n            userInstalledApps.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n                @Override\n                public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, final int i, long l) {\n    \n                    String[] colors = {&quot; Open App&quot;, &quot; App Info&quot;};\n                    AlertDialog.Builder builder = new AlertDialog.Builder(MainActivity.this);\n                    builder.setTitle(&quot;Choose Action&quot;)\n                            .setItems(colors, new DialogInterface.OnClickListener() {\n                                public void onClick(DialogInterface dialog, int which) {\n                                    // The 'which' argument contains the index position of the selected item\n                                    if (which==0){\n                                        Intent intent = getPackageManager().getLaunchIntentForPackage(installedApps.get(i).packages);\n                                        if(intent != null){\n                                            startActivity(intent);\n                                        }\n                                        else {\n                                            Toast.makeText(MainActivity.this, installedApps.get(i).packages + &quot; Error, Please Try Again...&quot;, Toast.LENGTH_SHORT).show();\n                                        }\n                                    }\n                                    if (which==1){\n                                        Intent intent = new Intent(android.provider.Settings.ACTION_APPLICATION_DETAILS_SETTINGS);\n                                        intent.setData(Uri.parse(&quot;package:&quot; + installedApps.get(i).packages));\n                                        Toast.makeText(MainActivity.this, installedApps.get(i).packages, Toast.LENGTH_SHORT).show();\n                                        startActivity(intent);\n                                    }\n                                }\n                            });\n                    builder.show();\n    \n                }\n            });\n    \n            //Total Number of Installed-Apps(i.e. List Size)\n            String  abc = userInstalledApps.getCount()+&quot;&quot;;\n            TextView countApps = (TextView)findViewById(R.id.countApps);\n            countApps.setText(&quot;Total Installed Apps: &quot;+abc);\n            Toast.makeText(this, abc+&quot; Apps&quot;, Toast.LENGTH_SHORT).show();\n    \n        }\n    \n        private List&lt;AppList&gt; getInstalledApps() {\n            PackageManager pm = getPackageManager();\n            List&lt;AppList&gt; apps = new ArrayList&lt;AppList&gt;();\n            List&lt;PackageInfo&gt; packs = getPackageManager().getInstalledPackages(0);\n            //List&lt;PackageInfo&gt; packs = getPackageManager().getInstalledPackages(PackageManager.GET_PERMISSIONS);\n            for (int i = 0; i &lt; packs.size(); i++) {\n                PackageInfo p = packs.get(i);\n                if ((!isSystemPackage(p))) {\n                    String appName = p.applicationInfo.loadLabel(getPackageManager()).toString();\n                    Drawable icon = p.applicationInfo.loadIcon(getPackageManager());\n                    String packages = p.applicationInfo.packageName;\n                    apps.add(new AppList(appName, icon, packages));\n                }\n            }\n            return apps;\n        }\n    \n        private boolean isSystemPackage(PackageInfo pkgInfo) {\n            return (pkgInfo.applicationInfo.flags &amp; ApplicationInfo.FLAG_SYSTEM) != 0;\n        }\n    \n        public class AppAdapter extends BaseAdapter {\n    \n            public LayoutInflater layoutInflater;\n            public List&lt;AppList&gt; listStorage;\n    \n            public AppAdapter(Context context, List&lt;AppList&gt; customizedListView) {\n                layoutInflater =(LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n                listStorage = customizedListView;\n            }\n    \n            @Override\n            public int getCount() {\n                return listStorage.size();\n            }\n    \n            @Override\n            public Object getItem(int position) {\n                return position;\n            }\n    \n            @Override\n            public long getItemId(int position) {\n                return position;\n            }\n    \n            @Override\n            public View getView(int position, View convertView, ViewGroup parent) {\n    \n                ViewHolder listViewHolder;\n                if(convertView == null){\n                    listViewHolder = new ViewHolder();\n                    convertView = layoutInflater.inflate(R.layout.installed_app_list, parent, false);\n    \n                    listViewHolder.textInListView = (TextView)convertView.findViewById(R.id.list_app_name);\n                    listViewHolder.imageInListView = (ImageView)convertView.findViewById(R.id.app_icon);\n                    listViewHolder.packageInListView=(TextView)convertView.findViewById(R.id.app_package);\n                    listViewHolder.GridView = (GridView)convertView.findViewById(R.id.gridview);\n    \n                    convertView.setTag(listViewHolder);\n                }else{\n                    listViewHolder = (ViewHolder)convertView.getTag();\n                }\n                listViewHolder.textInListView.setText(listStorage.get(position).getName());\n                listViewHolder.imageInListView.setImageDrawable(listStorage.get(position).getIcon());\n                listViewHolder.packageInListView.setText(listStorage.get(position).getPackages());\n     //           listViewHolder.GridView.setAdapter((ListAdapter) listStorage.get(position).getIcon());\n    \n                return convertView;\n            }\n    \n            class ViewHolder{\n                public GridView GridView;\n                TextView textInListView;\n                ImageView imageInListView;\n                TextView packageInListView;\n    \n            }\n        }\n    \n        public class AppList {\n            private String name;\n            Drawable icon;\n            private String packages;\n            public AppList(String name, Drawable icon, String packages) {\n                this.name = name;\n                this.icon = icon;\n                this.packages = packages;\n            }\n            public String getName() {\n                return name;\n            }\n            public Drawable getIcon() {\n                return icon;\n            }\n            public String getPackages() {\n                return packages;\n            }\n    \n        }\n        }\n</code></pre>\n<p>activity_main.xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@drawable/backround&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/countApps&quot;\n        android:text=&quot;Count: &quot;\n        android:padding=&quot;5dp&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n    &lt;ListView\n        android:id=&quot;@+id/installed_app_list&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n\n    &lt;GridView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        android:id=&quot;@+id/gridview&quot;\n        android:layout_width=&quot;fill_parent&quot;\n        android:layout_height=&quot;fill_parent&quot;\n        android:columnWidth=&quot;90dp&quot;\n        android:numColumns=&quot;auto_fit&quot;\n        android:verticalSpacing=&quot;10dp&quot;\n        android:horizontalSpacing=&quot;10dp&quot;\n        android:stretchMode=&quot;columnWidth&quot;\n        android:gravity=&quot;center&quot;\n        /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>installed_app_list.xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;100dp&quot;\n        android:layout_height=&quot;70dp&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:padding=&quot;15dp&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/app_icon&quot;\n            android:layout_width=&quot;70dp&quot;\n            android:layout_height=&quot;43dp&quot; /&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;3dp&quot;\n            android:layout_marginLeft=&quot;3dp&quot;\n            android:descendantFocusability=&quot;beforeDescendants&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/app_package&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;App Package Name&quot;\n                android:textSize=&quot;0dp&quot; /&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;200dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:padding=&quot;15dp&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/list_app_name&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;25dp&quot;\n            android:lineSpacingExtra=&quot;0sp&quot;\n            android:textSize=&quot;15dp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Can you give me some source code of a simple grid view?\ni want all installed app in a grid view</p>\n<p>Thankyou .............................................</p>\n"},{"tags":["java","quartz-scheduler"],"comments":[{"owner":{"account_id":1999476,"reputation":5872,"user_id":1790864,"accept_rate":33,"display_name":"Rev"},"score":0,"creation_date":1518433866,"post_id":33881043,"comment_id":84489937,"body_markdown":"Did you figure this out? I have the same issue. I want to be able to check the last time the Job was executed, which isn&#39;t possible when the expired trigger gets removed.","body":"Did you figure this out? I have the same issue. I want to be able to check the last time the Job was executed, which isn&#39;t possible when the expired trigger gets removed."},{"owner":{"account_id":5330807,"reputation":90,"user_id":4251405,"display_name":"Flame113"},"score":0,"creation_date":1546512767,"post_id":33881043,"comment_id":94877661,"body_markdown":"I have the same issue and still struggling to find a solution for this. Any help would be appreciated.","body":"I have the same issue and still struggling to find a solution for this. Any help would be appreciated."},{"owner":{"account_id":15155170,"reputation":85,"user_id":10936244,"display_name":"Shikari"},"score":0,"creation_date":1650887030,"post_id":33881043,"comment_id":127221724,"body_markdown":"I also need solution for this","body":"I also need solution for this"}],"answers":[{"tags":[],"owner":{"account_id":10508506,"reputation":34,"user_id":7744949,"display_name":"Duricic Milos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678181786,"creation_date":1678181786,"answer_id":75660196,"question_id":33881043,"body_markdown":"One idea crossed my mind which is to:\r\n\r\n1. create the transaction on the job\r\n2. load the relevant data into memory\r\n3. execute required business via job\r\n4. store relevant information, concretely the one loaded in step two, to some new DB table","title":"Quartz scheduler - disable automatic trigger removal after it fires the last time","body":"<p>One idea crossed my mind which is to:</p>\n<ol>\n<li>create the transaction on the job</li>\n<li>load the relevant data into memory</li>\n<li>execute required business via job</li>\n<li>store relevant information, concretely the one loaded in step two, to some new DB table</li>\n</ol>\n"}],"owner":{"account_id":2634762,"reputation":378,"user_id":2279784,"display_name":"vic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1221,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1678181786,"creation_date":1448314098,"question_id":33881043,"body_markdown":"**What works now**\r\n\r\nIn my Java Spring Boot application I&#39;m using Quartz Scheduler v2.2.2 (http://www.quartz-scheduler.org) to dynamically schedule execution of a job. The job store is Quartz managed transactional one with Oracle DB configured. Works.\r\n\r\n**What needs to work**\r\n\r\nThe triggers that &quot;expired&quot; (finished their last execution) are removed from the database by default. However what I need is that they stay persisted with a COMPLETED status. They should not fire any executions any more, but the Scheduler (http://quartz-scheduler.org/api/2.2.0/org/quartz/Scheduler.html) object should be able to retrieve them. Is there a way to disable trigger automatic removal (even if it&#39;s a dirty hack)?","title":"Quartz scheduler - disable automatic trigger removal after it fires the last time","body":"<p><strong>What works now</strong></p>\n\n<p>In my Java Spring Boot application I'm using Quartz Scheduler v2.2.2 (<a href=\"http://www.quartz-scheduler.org\" rel=\"nofollow\">http://www.quartz-scheduler.org</a>) to dynamically schedule execution of a job. The job store is Quartz managed transactional one with Oracle DB configured. Works.</p>\n\n<p><strong>What needs to work</strong></p>\n\n<p>The triggers that \"expired\" (finished their last execution) are removed from the database by default. However what I need is that they stay persisted with a COMPLETED status. They should not fire any executions any more, but the Scheduler (<a href=\"http://quartz-scheduler.org/api/2.2.0/org/quartz/Scheduler.html\" rel=\"nofollow\">http://quartz-scheduler.org/api/2.2.0/org/quartz/Scheduler.html</a>) object should be able to retrieve them. Is there a way to disable trigger automatic removal (even if it's a dirty hack)?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9629,"page":596,"page_size":100}
