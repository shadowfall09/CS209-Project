{"items":[{"tags":["java","rest","authentication","processmaker","processmaker-api"],"comments":[{"owner":{"account_id":3732948,"reputation":203,"user_id":3104722,"display_name":"Ethan Presberg"},"score":0,"creation_date":1664454778,"post_id":73866375,"comment_id":130478754,"body_markdown":"ProcessMaker 4 has native SDKs for exactly this use case! If you want to learn more about our SDKs that interact with the API, we have a Livestream tomorrow on precisely this topic. You would gain a lot of value by tuning in if you can or watch the recording on our channel later. https://youtu.be/rR79byOjSYo","body":"ProcessMaker 4 has native SDKs for exactly this use case! If you want to learn more about our SDKs that interact with the API, we have a Livestream tomorrow on precisely this topic. You would gain a lot of value by tuning in if you can or watch the recording on our channel later. <a href=\"https://youtu.be/rR79byOjSYo\" rel=\"nofollow noreferrer\">youtu.be/rR79byOjSYo</a>"}],"answers":[{"tags":[],"owner":{"account_id":2825306,"reputation":394,"user_id":2428072,"accept_rate":75,"display_name":"osantos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664444919,"creation_date":1664310218,"answer_id":73873435,"question_id":73866375,"body_markdown":"You can access the restful API documentation by logging into processmaker 4 and then accessing the following url http://youserver:yourport/api/documentation.\r\nYou shoud get a swager screen where you can see the Restfull endpoints and the parameters they take. You can even execute the calls from there if you click on the autorize button.\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIn order to be able to authenticate to access the API you first need to create an [Auth Client][2] and enable password grant.\r\n\r\nOnce you create an Auth client take note of the Client ID (the number not the name you provided when creating the client), and the secret.\r\n\r\nYou can obtain the access_token and the refresh_tokens by making a post request to the url https://yourhostname/oauth/token with content type &quot;application/json&quot; and the following body contents:\r\n\r\n    {\r\n      &quot;grant_type&quot;: &quot;password&quot;,\r\n      &quot;scope&quot;: &quot;*&quot;,\r\n      &quot;client_id&quot;: 6,\r\n      &quot;client_secret&quot;: &quot;zBBO.........30p0iHQ3&quot;,\r\n      &quot;username&quot;: &quot;yourusername&quot;,\r\n      &quot;password&quot;: &quot;yourpassword&quot;\r\n    }\r\n\r\nOf course you must replace the client_id, the secret, the username and password to your specific values. \r\n\r\n  [1]: https://i.stack.imgur.com/WRY5w.png\r\n  [2]: https://processmaker.gitbook.io/processmaker/processmaker-administration/auth-client-management/manage-client-authentications/create-a-new-client-authentication-key","title":"How to write a Java application with processMaker 4.0 API?","body":"<p>You can access the restful API documentation by logging into processmaker 4 and then accessing the following url http://youserver:yourport/api/documentation.\nYou shoud get a swager screen where you can see the Restfull endpoints and the parameters they take. You can even execute the calls from there if you click on the autorize button.\n<a href=\"https://i.stack.imgur.com/WRY5w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WRY5w.png\" alt=\"enter image description here\" /></a></p>\n<p>In order to be able to authenticate to access the API you first need to create an <a href=\"https://processmaker.gitbook.io/processmaker/processmaker-administration/auth-client-management/manage-client-authentications/create-a-new-client-authentication-key\" rel=\"nofollow noreferrer\">Auth Client</a> and enable password grant.</p>\n<p>Once you create an Auth client take note of the Client ID (the number not the name you provided when creating the client), and the secret.</p>\n<p>You can obtain the access_token and the refresh_tokens by making a post request to the url https://yourhostname/oauth/token with content type &quot;application/json&quot; and the following body contents:</p>\n<pre><code>{\n  &quot;grant_type&quot;: &quot;password&quot;,\n  &quot;scope&quot;: &quot;*&quot;,\n  &quot;client_id&quot;: 6,\n  &quot;client_secret&quot;: &quot;zBBO.........30p0iHQ3&quot;,\n  &quot;username&quot;: &quot;yourusername&quot;,\n  &quot;password&quot;: &quot;yourpassword&quot;\n}\n</code></pre>\n<p>Of course you must replace the client_id, the secret, the username and password to your specific values.</p>\n"}],"owner":{"account_id":4408505,"reputation":3,"user_id":3619914,"display_name":"Javaz81"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73873435,"answer_count":1,"score":0,"last_activity_date":1675374284,"creation_date":1664275835,"question_id":73866375,"body_markdown":"Good morning,\r\n\r\ni have downloaded and install the pm4-core docker image and installed it.\r\nI can run PM4, create and admin my pm4 instance without issues, but i want to develop a java program that uses the PM 4 restful API to edit some process data.\r\nI search on YouTube but I have found something about restful api usage with PM 3.2 not 4.\r\nFurthermore, in the &quot;Auth client&quot; section, the &quot;Enable direct API access&quot; option is missing.\r\n\r\nDoes someone have a simple piece of code written in java,kotlin, C#, swift etc... that authenticates and use restful PM4 API to share with?\r\n","title":"How to write a Java application with processMaker 4.0 API?","body":"<p>Good morning,</p>\n<p>i have downloaded and install the pm4-core docker image and installed it.\nI can run PM4, create and admin my pm4 instance without issues, but i want to develop a java program that uses the PM 4 restful API to edit some process data.\nI search on YouTube but I have found something about restful api usage with PM 3.2 not 4.\nFurthermore, in the &quot;Auth client&quot; section, the &quot;Enable direct API access&quot; option is missing.</p>\n<p>Does someone have a simple piece of code written in java,kotlin, C#, swift etc... that authenticates and use restful PM4 API to share with?</p>\n"},{"tags":["java","selenium","cucumber-serenity"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1661324638,"post_id":73468762,"comment_id":129741549,"body_markdown":"ehm ... OK? what part is deprecated? Just check the documentation of that method, and it&#39;ll tell you what to use instead.","body":"ehm ... OK? what part is deprecated? Just check the documentation of that method, and it&#39;ll tell you what to use instead."},{"owner":{"account_id":26146657,"reputation":11,"user_id":19835179,"display_name":"khadjolees"},"score":0,"creation_date":1661324786,"post_id":73468762,"comment_id":129741596,"body_markdown":"org.apache.http.params.CoreConnectionPNames is deprecated","body":"org.apache.http.params.CoreConnectionPNames is deprecated"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1661325610,"post_id":73468762,"comment_id":129741869,"body_markdown":"so check the documentation of that class","body":"so check the documentation of that class"},{"owner":{"account_id":26146657,"reputation":11,"user_id":19835179,"display_name":"khadjolees"},"score":0,"creation_date":1661325946,"post_id":73468762,"comment_id":129741994,"body_markdown":"Documentation says:\n\n@Deprecated \npublic interface CoreConnectionPNames\nDeprecated\n\n  org.apache.http.params\n  Maven: org.apache.httpcomponents:httpcore:4.4.9 (httpcore-4.4.9.jar)","body":"Documentation says:  @Deprecated  public interface CoreConnectionPNames Deprecated    org.apache.http.params   Maven: org.apache.httpcomponents:httpcore:4.4.9 (httpcore-4.4.9.jar)"},{"owner":{"account_id":26146657,"reputation":11,"user_id":19835179,"display_name":"khadjolees"},"score":0,"creation_date":1661326015,"post_id":73468762,"comment_id":129742020,"body_markdown":"No documentation found for org.apache.http.params","body":"No documentation found for org.apache.http.params"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1661326694,"post_id":73468762,"comment_id":129742251,"body_markdown":"https://javadoc.io/doc/org.apache.httpcomponents/httpcore/4.4/org/apache/http/params/CoreConnectionPNames.html","body":"<a href=\"https://javadoc.io/doc/org.apache.httpcomponents/httpcore/4.4/org/apache/http/params/CoreConnectionPNames.html\" rel=\"nofollow noreferrer\">javadoc.io/doc/org.apache.httpcomponents/httpcore/4.4/org/&hellip;</a>"},{"owner":{"account_id":26146657,"reputation":11,"user_id":19835179,"display_name":"khadjolees"},"score":0,"creation_date":1661328351,"post_id":73468762,"comment_id":129742897,"body_markdown":"I&#39;m sorry but I don&#39;t really get what I should use instead","body":"I&#39;m sorry but I don&#39;t really get what I should use instead"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1661328655,"post_id":73468762,"comment_id":129742996,"body_markdown":"Deprecated. \n(4.3) use configuration classes provided &#39;org.apache.http.config&#39; and &#39;org.apache.http.client.config&#39;","body":"Deprecated.  (4.3) use configuration classes provided &#39;org.apache.http.config&#39; and &#39;org.apache.http.client.config&#39;"}],"answers":[{"tags":[],"owner":{"account_id":961675,"reputation":4991,"user_id":985906,"accept_rate":93,"display_name":"JoshDM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675374205,"creation_date":1675374205,"answer_id":75329255,"question_id":73468762,"body_markdown":"`org.apache.http.params.CoreConnectionPNames` is deprecated and the class was removed.  This prevents you from using the pre-made constants.\r\n\r\nAccording to [Android Developer Reference for `CoreConnectionPNames`][1]:\r\n* The String value for `SO_TIMEOUT` was `&quot;http.socket.timeout&quot;`.\r\n    * according to [the JavaDocs][2], replacement guidance references `java.net.SocketOptions.SO_TIMEOUT`, but this is an `int` so this may not be proper guidance\r\n* The String value for `CONNECTION_TIMEOUT` was `&quot;http.connection.timeout&quot;`. \r\n    * there is no replacement guidance\r\n\r\nSubstituting these for the constants or creating your own constants can replace the original constants; however there is no guarantee these settings will be recognized going forward.  [This SO answer][3] should provide guidance on how to proceed forward modernizing the timeout.\r\n\r\nBroad guidance is to swap to applying `org.apache.http.client.config.RequestConfig`. \r\n\r\n```\r\nRequestConfig.custom().setSocketTimeout(timeout).setConnectTimeout(timeout).build();\r\n```\r\n\r\n  [1]: https://developer.android.com/reference/org/apache/http/params/CoreConnectionPNames\r\n  [2]: https://javadoc.io/doc/org.apache.httpcomponents/httpcore/4.4/org/apache/http/params/CoreConnectionPNames.html#SO_TIMEOUT\r\n  [3]: https://stackoverflow.com/questions/3000214/java-http-client-request-with-defined-timeout","title":"Need help replacing this method since CoreConnectionPNames is deprecated (org.apache.http.params)","body":"<p><code>org.apache.http.params.CoreConnectionPNames</code> is deprecated and the class was removed.  This prevents you from using the pre-made constants.</p>\n<p>According to <a href=\"https://developer.android.com/reference/org/apache/http/params/CoreConnectionPNames\" rel=\"nofollow noreferrer\">Android Developer Reference for <code>CoreConnectionPNames</code></a>:</p>\n<ul>\n<li>The String value for <code>SO_TIMEOUT</code> was <code>&quot;http.socket.timeout&quot;</code>.\n<ul>\n<li>according to <a href=\"https://javadoc.io/doc/org.apache.httpcomponents/httpcore/4.4/org/apache/http/params/CoreConnectionPNames.html#SO_TIMEOUT\" rel=\"nofollow noreferrer\">the JavaDocs</a>, replacement guidance references <code>java.net.SocketOptions.SO_TIMEOUT</code>, but this is an <code>int</code> so this may not be proper guidance</li>\n</ul>\n</li>\n<li>The String value for <code>CONNECTION_TIMEOUT</code> was <code>&quot;http.connection.timeout&quot;</code>.\n<ul>\n<li>there is no replacement guidance</li>\n</ul>\n</li>\n</ul>\n<p>Substituting these for the constants or creating your own constants can replace the original constants; however there is no guarantee these settings will be recognized going forward.  <a href=\"https://stackoverflow.com/questions/3000214/java-http-client-request-with-defined-timeout\">This SO answer</a> should provide guidance on how to proceed forward modernizing the timeout.</p>\n<p>Broad guidance is to swap to applying <code>org.apache.http.client.config.RequestConfig</code>.</p>\n<pre><code>RequestConfig.custom().setSocketTimeout(timeout).setConnectTimeout(timeout).build();\n</code></pre>\n"}],"owner":{"account_id":26146657,"reputation":11,"user_id":19835179,"display_name":"khadjolees"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675374205,"creation_date":1661324559,"question_id":73468762,"body_markdown":"I am using this method to set CONNECTION_TIMEOUT and SO_TIMEOUT\r\n    \r\n    public void setConfig(ContentType contentType, Integer timeout) {\r\n                setConfig(SerenityRest.config()\r\n                        .sslConfig(new SSLConfig().allowAllHostnames().relaxedHTTPSValidation())\r\n                        .httpClient(HttpClientConfig.httpClientConfig()\r\n                        .setParam(CoreConnectionPNames.CONNECTION_TIMEOUT, timeout)\r\n                        .setParam(CoreConnectionPNames.SO_TIMEOUT, timeout)))\r\n                        .addHeader(HttpHeaders.CONTENT_TYPE, contentType.toString());\r\n            }","title":"Need help replacing this method since CoreConnectionPNames is deprecated (org.apache.http.params)","body":"<p>I am using this method to set CONNECTION_TIMEOUT and SO_TIMEOUT</p>\n<pre><code>public void setConfig(ContentType contentType, Integer timeout) {\n            setConfig(SerenityRest.config()\n                    .sslConfig(new SSLConfig().allowAllHostnames().relaxedHTTPSValidation())\n                    .httpClient(HttpClientConfig.httpClientConfig()\n                    .setParam(CoreConnectionPNames.CONNECTION_TIMEOUT, timeout)\n                    .setParam(CoreConnectionPNames.SO_TIMEOUT, timeout)))\n                    .addHeader(HttpHeaders.CONTENT_TYPE, contentType.toString());\n        }\n</code></pre>\n"},{"tags":["java","xml","validation","schema"],"answers":[{"tags":[],"owner":{"account_id":27689474,"reputation":1,"user_id":21136475,"display_name":"Pomme"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675373923,"creation_date":1675373923,"answer_id":75329217,"question_id":71797513,"body_markdown":"There are a number of tools available from vendors who validate against the actual SMPTE specification. Photon is Netflix specific. ","title":"Is there any alternative to Netflix Photon library for validating IMF packages?","body":"<p>There are a number of tools available from vendors who validate against the actual SMPTE specification. Photon is Netflix specific.</p>\n"}],"owner":{"account_id":235278,"reputation":2907,"user_id":501986,"accept_rate":96,"display_name":"Dchris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675373923,"creation_date":1649422907,"question_id":71797513,"body_markdown":"I am validating [IMF packages][1] in Java and i want to use a new version of [CPL][2] which uses the namespace xmlns:cc=&quot;[http://www.smpte-ra.org/ns/2067-2/2020][3]&quot;.\r\nIt seems that Netflix Photon([even latest version 4.8.0][4]) -  is only supporting the below two CPL schema URIs(supportedCPLSchemaURIs constant in code):\r\n\r\n&gt; 1) http://www.smpte-ra.org/schemas/2067-3/2013 \r\n&gt; 2) http://www.smpte-ra.org/schemas/2067-3/2016\r\n\r\nWhen i try to validate the CPL i am getting the following error:\r\n\r\n&gt; Please check the CPL document and namespace URI, currently we only\r\n&gt; support the following schema URIs \r\n&gt; http://www.smpte-ra.org/schemas/2067-3/2013\r\n&gt; http://www.smpte-ra.org/schemas/2067-3/2016  [Photon version: 4.8.0]\r\n\r\n\r\nI was not able to find solution for the above.\r\n\r\nIs there any alternative library which can bypass the above error?\r\n\r\n\r\n  [1]: http://www.telestream.net/pdfs/datasheets/App-brief-Vantage-IMF.pdf\r\n  [2]: https://ieeexplore.ieee.org/document/7290378\r\n  [3]: https://ieeexplore.ieee.org/document/9097478\r\n  [4]: https://github.com/Netflix/photon/tree/feature/IMF2020","title":"Is there any alternative to Netflix Photon library for validating IMF packages?","body":"<p>I am validating <a href=\"http://www.telestream.net/pdfs/datasheets/App-brief-Vantage-IMF.pdf\" rel=\"nofollow noreferrer\">IMF packages</a> in Java and i want to use a new version of <a href=\"https://ieeexplore.ieee.org/document/7290378\" rel=\"nofollow noreferrer\">CPL</a> which uses the namespace xmlns:cc=&quot;<a href=\"https://ieeexplore.ieee.org/document/9097478\" rel=\"nofollow noreferrer\">http://www.smpte-ra.org/ns/2067-2/2020</a>&quot;.\nIt seems that Netflix Photon(<a href=\"https://github.com/Netflix/photon/tree/feature/IMF2020\" rel=\"nofollow noreferrer\">even latest version 4.8.0</a>) -  is only supporting the below two CPL schema URIs(supportedCPLSchemaURIs constant in code):</p>\n<blockquote>\n<ol>\n<li><a href=\"http://www.smpte-ra.org/schemas/2067-3/2013\" rel=\"nofollow noreferrer\">http://www.smpte-ra.org/schemas/2067-3/2013</a></li>\n<li><a href=\"http://www.smpte-ra.org/schemas/2067-3/2016\" rel=\"nofollow noreferrer\">http://www.smpte-ra.org/schemas/2067-3/2016</a></li>\n</ol>\n</blockquote>\n<p>When i try to validate the CPL i am getting the following error:</p>\n<blockquote>\n<p>Please check the CPL document and namespace URI, currently we only\nsupport the following schema URIs\n<a href=\"http://www.smpte-ra.org/schemas/2067-3/2013\" rel=\"nofollow noreferrer\">http://www.smpte-ra.org/schemas/2067-3/2013</a>\n<a href=\"http://www.smpte-ra.org/schemas/2067-3/2016\" rel=\"nofollow noreferrer\">http://www.smpte-ra.org/schemas/2067-3/2016</a>  [Photon version: 4.8.0]</p>\n</blockquote>\n<p>I was not able to find solution for the above.</p>\n<p>Is there any alternative library which can bypass the above error?</p>\n"},{"tags":["java","ssh","jsch","multiplexing","sshj"],"owner":{"account_id":12385654,"reputation":1,"user_id":21089897,"display_name":"cjsd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675373705,"creation_date":1675373705,"question_id":75329188,"body_markdown":"I&#39;m implementing an application that creates SSH connections and port forwards in those connections. A use case is that exactly the same connection; same host, same port, same forwards is requested again at a later point in time. Researching this, I found the multiplex protocol implemented in SSH. When testing this with a local OpenSSH binary everything works as expected, I see the socket file (ControlPath option) being created and the connection is being reused.\r\n\r\nI was looking for a Java implementation of this process but it seems none of the existing libraries work as I expect. I&#39;ve tried Jsch, sshj, mina-sshd, ..\r\n\r\nOnly by using the processbuilder and actually using a OpenSSH binary, I see the socket file being created and the connection being reused across JVM shutdowns. Have I made programming mistake or is it just not possible? The only project actually stating to support this feature is sshj, but when testing I didn&#39;t see any socket files being created..\r\n\r\nDo these pure Java implementations just work differently? Don&#39;t they create these socket files? Has anyone have any experience at all trying to make this work and can you point me in a direction?","title":"SSH Multiplexing in Java","body":"<p>I'm implementing an application that creates SSH connections and port forwards in those connections. A use case is that exactly the same connection; same host, same port, same forwards is requested again at a later point in time. Researching this, I found the multiplex protocol implemented in SSH. When testing this with a local OpenSSH binary everything works as expected, I see the socket file (ControlPath option) being created and the connection is being reused.</p>\n<p>I was looking for a Java implementation of this process but it seems none of the existing libraries work as I expect. I've tried Jsch, sshj, mina-sshd, ..</p>\n<p>Only by using the processbuilder and actually using a OpenSSH binary, I see the socket file being created and the connection being reused across JVM shutdowns. Have I made programming mistake or is it just not possible? The only project actually stating to support this feature is sshj, but when testing I didn't see any socket files being created..</p>\n<p>Do these pure Java implementations just work differently? Don't they create these socket files? Has anyone have any experience at all trying to make this work and can you point me in a direction?</p>\n"},{"tags":["java","spring-boot","netty"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675372942,"creation_date":1675372942,"answer_id":75329090,"question_id":75327145,"body_markdown":"Spring boot only has a single Netty service. All you are doing is changing the port for the single service.\r\n\r\nAdding more Netty services is fairly simple, eg [here][1]\r\n\r\nHowever, plugging in all the Spring Boot facilities (handlers, controllers) to provide their ease of use is a serious exercise.\r\n\r\n\r\n  [1]: https://developer.okta.com/blog/2019/11/25/java-netty-webflux","title":"How can I run Netty on multiple ports in Springboot application","body":"<p>Spring boot only has a single Netty service. All you are doing is changing the port for the single service.</p>\n<p>Adding more Netty services is fairly simple, eg <a href=\"https://developer.okta.com/blog/2019/11/25/java-netty-webflux\" rel=\"nofollow noreferrer\">here</a></p>\n<p>However, plugging in all the Spring Boot facilities (handlers, controllers) to provide their ease of use is a serious exercise.</p>\n"}],"owner":{"account_id":781169,"reputation":195,"user_id":5896333,"accept_rate":50,"display_name":"Dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675372942,"creation_date":1675360590,"question_id":75327145,"body_markdown":"I have a Springboot application using Netty and I want it to run on multiple ports 8080, 8082, 8084. \r\n\r\nI tried using NettyServerCustomizer using the code below, but then it only works on the last mentioned port (8084 in this example) \r\n```\r\n@Component\r\npublic class NettyWebServerFactoryPortCustomizer \r\n  implements WebServerFactoryCustomizer&lt;NettyReactiveWebServerFactory&gt; {\r\n\r\n    @Override\r\n    public void customize(NettyReactiveWebServerFactory serverFactory) {\r\n        //serverFactory.setPort(8088);\r\n        serverFactory.addServerCustomizers(new PortCustomizer(8080));\r\n        serverFactory.addServerCustomizers(new PortCustomizer(8082));\r\n        serverFactory.addServerCustomizers(new PortCustomizer(8084));\r\n    }\r\n    \r\n    private static class PortCustomizer implements NettyServerCustomizer {\r\n        private final int port;\r\n\r\n        private PortCustomizer(int port) {\r\n            this.port = port;\r\n        }\r\n    \r\n        @Override\r\n        public HttpServer apply(HttpServer httpServer) {\r\n            return httpServer.port(port);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAny tips would be useful. \r\n\r\nThanks ","title":"How can I run Netty on multiple ports in Springboot application","body":"<p>I have a Springboot application using Netty and I want it to run on multiple ports 8080, 8082, 8084.</p>\n<p>I tried using NettyServerCustomizer using the code below, but then it only works on the last mentioned port (8084 in this example)</p>\n<pre><code>@Component\npublic class NettyWebServerFactoryPortCustomizer \n  implements WebServerFactoryCustomizer&lt;NettyReactiveWebServerFactory&gt; {\n\n    @Override\n    public void customize(NettyReactiveWebServerFactory serverFactory) {\n        //serverFactory.setPort(8088);\n        serverFactory.addServerCustomizers(new PortCustomizer(8080));\n        serverFactory.addServerCustomizers(new PortCustomizer(8082));\n        serverFactory.addServerCustomizers(new PortCustomizer(8084));\n    }\n    \n    private static class PortCustomizer implements NettyServerCustomizer {\n        private final int port;\n\n        private PortCustomizer(int port) {\n            this.port = port;\n        }\n    \n        @Override\n        public HttpServer apply(HttpServer httpServer) {\n            return httpServer.port(port);\n        }\n    }\n}\n</code></pre>\n<p>Any tips would be useful.</p>\n<p>Thanks</p>\n"},{"tags":["java","writer"],"answers":[{"tags":[],"owner":{"account_id":32598,"reputation":13160,"user_id":90573,"display_name":"Tom Jefferys"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1305030337,"creation_date":1305030337,"answer_id":5949971,"question_id":5949926,"body_markdown":"`Append()` can take a `CharSequence`, whereas `write()` takes a `String`.\r\n\r\nSince `String` is an implementation of `CharSequence`, you can also pass a `String` to `append()`.  But you can also pass a `StringBuilder` or `StringBuffer` to `append`, which you can&#39;t do with `write()`.","title":"What is the difference between append and write methods of java.io.writer?","body":"<p><code>Append()</code> can take a <code>CharSequence</code>, whereas <code>write()</code> takes a <code>String</code>.</p>\n\n<p>Since <code>String</code> is an implementation of <code>CharSequence</code>, you can also pass a <code>String</code> to <code>append()</code>.  But you can also pass a <code>StringBuilder</code> or <code>StringBuffer</code> to <code>append</code>, which you can't do with <code>write()</code>.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1305030350,"creation_date":1305030350,"answer_id":5949975,"question_id":5949926,"body_markdown":"There are minor differences between append() and write(). All of which you can work out by reading the Javadocs. Hint. ;)\r\n\r\n* write will only take a String which must not be null and returns `void`\r\n* append will take any CharSequence which can be null and return the Writer so it can be chained.\r\n\r\nwrite is an older style format created before CharSequence was available.\r\n\r\nThese methods are overloaded so that there is a \r\n\r\n* `write(int)` where the `int` is cast to a char. `append(char)` must be a char type.\r\n* `write(char[] chars)` takes an array of char, there is no equivalent append().","title":"What is the difference between append and write methods of java.io.writer?","body":"<p>There are minor differences between append() and write(). All of which you can work out by reading the Javadocs. Hint. ;)</p>\n\n<ul>\n<li>write will only take a String which must not be null and returns <code>void</code></li>\n<li>append will take any CharSequence which can be null and return the Writer so it can be chained.</li>\n</ul>\n\n<p>write is an older style format created before CharSequence was available.</p>\n\n<p>These methods are overloaded so that there is a </p>\n\n<ul>\n<li><code>write(int)</code> where the <code>int</code> is cast to a char. <code>append(char)</code> must be a char type.</li>\n<li><code>write(char[] chars)</code> takes an array of char, there is no equivalent append().</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":309202,"reputation":1116,"user_id":2739211,"display_name":"joe776"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1503648201,"creation_date":1305030390,"answer_id":5949985,"question_id":5949926,"body_markdown":"`Writer.append(c)` returns the Writer instance. Thus you can chain multiple calls to append, e.g. `out.append(&quot;Hello&quot;).append(&quot;World&quot;)`;","title":"What is the difference between append and write methods of java.io.writer?","body":"<p><code>Writer.append(c)</code> returns the Writer instance. Thus you can chain multiple calls to append, e.g. <code>out.append(\"Hello\").append(\"World\")</code>;</p>\n"},{"tags":[],"owner":{"account_id":380511,"reputation":1898,"user_id":734579,"display_name":"jjwchoy"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1305030413,"creation_date":1305030413,"answer_id":5949994,"question_id":5949926,"body_markdown":"Probably to conform to the Appendable interface: http://download.oracle.com/javase/6/docs/api/java/lang/Appendable.html\r\n","title":"What is the difference between append and write methods of java.io.writer?","body":"<p>Probably to conform to the Appendable interface: <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Appendable.html\" rel=\"noreferrer\">http://download.oracle.com/javase/6/docs/api/java/lang/Appendable.html</a></p>\n"},{"tags":[],"owner":{"account_id":301489,"reputation":54254,"user_id":609251,"accept_rate":82,"display_name":"aroth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1305031283,"creation_date":1305030455,"answer_id":5950003,"question_id":5949926,"body_markdown":"Looks to me like it&#39;s a byproduct of the `Appendable` interface which `java.io.Writer` implements in order to provide compatibility with `java.util.Formatter`.  As you noted, the documentation points out that for `java.io.Writer` there is no practical difference between the two methods.\r\n","title":"What is the difference between append and write methods of java.io.writer?","body":"<p>Looks to me like it's a byproduct of the <code>Appendable</code> interface which <code>java.io.Writer</code> implements in order to provide compatibility with <code>java.util.Formatter</code>.  As you noted, the documentation points out that for <code>java.io.Writer</code> there is no practical difference between the two methods.</p>\n"},{"tags":[],"owner":{"account_id":387173,"reputation":199,"user_id":745368,"accept_rate":100,"display_name":"David"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1305030518,"creation_date":1305030518,"answer_id":5950013,"question_id":5949926,"body_markdown":"As you can see from the documentation, append also returns the Writer you have just written to so that you can perform multiple appends such as:\r\n\r\n    out.append(a).append(b).append(c)\r\n","title":"What is the difference between append and write methods of java.io.writer?","body":"<p>As you can see from the documentation, append also returns the Writer you have just written to so that you can perform multiple appends such as:</p>\n\n<pre><code>out.append(a).append(b).append(c)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3306342,"reputation":651,"user_id":2781042,"accept_rate":57,"display_name":"cadebe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675372768,"creation_date":1675372768,"answer_id":75329061,"question_id":5949926,"body_markdown":"What has been noted above is true. The different flavours of `BufferWiter`&#39;s `append()` method return a `Writer`, which implements `Appendable`, among others, thereby affording you the ability to chain calls. In addition, `append()` allows you to pass a `CharSequence` as well as a `char`, as opposed to an `int`, `String` or `char[]`, as with the `write()` methods. All correct.\r\n\r\nHowever, as the question states, an important issue to point out that the underlying behaviour of `append()` is still much the same as that of `write()`. Despite the somewhat misleading nomenclature, existing file content will be overwritten, **not appended**, unless your `FileWriter` is instantiated otherwise:\r\n\r\n    try (var writer = new BufferedWriter(new FileWriter(&quot;myFile.txt&quot;, true));) {\r\n        writer.append(&quot;XXX&quot;).append(&quot;ZZZ&quot;);\r\n    }\r\n\r\nIn that sense I think the original question raises a valid point.","title":"What is the difference between append and write methods of java.io.writer?","body":"<p>What has been noted above is true. The different flavours of <code>BufferWiter</code>'s <code>append()</code> method return a <code>Writer</code>, which implements <code>Appendable</code>, among others, thereby affording you the ability to chain calls. In addition, <code>append()</code> allows you to pass a <code>CharSequence</code> as well as a <code>char</code>, as opposed to an <code>int</code>, <code>String</code> or <code>char[]</code>, as with the <code>write()</code> methods. All correct.</p>\n<p>However, as the question states, an important issue to point out that the underlying behaviour of <code>append()</code> is still much the same as that of <code>write()</code>. Despite the somewhat misleading nomenclature, existing file content will be overwritten, <strong>not appended</strong>, unless your <code>FileWriter</code> is instantiated otherwise:</p>\n<pre><code>try (var writer = new BufferedWriter(new FileWriter(&quot;myFile.txt&quot;, true));) {\n    writer.append(&quot;XXX&quot;).append(&quot;ZZZ&quot;);\n}\n</code></pre>\n<p>In that sense I think the original question raises a valid point.</p>\n"}],"owner":{"account_id":17529,"reputation":153981,"user_id":39321,"accept_rate":80,"display_name":"Svish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39609,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":5949975,"answer_count":7,"score":35,"last_activity_date":1675372768,"creation_date":1305030098,"question_id":5949926,"body_markdown":"The [java.io.Writer][1] interface has two methods called append and write. What are the differences between these two? It even says that\r\n\r\n&gt; An invocation of this method of the form `out.append(c)` behaves in exactly the same way as the invocation `out.write(c) `\r\n\r\nso what is the reason for having two method name variants? \r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/io/Writer.html","title":"What is the difference between append and write methods of java.io.writer?","body":"<p>The <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/Writer.html\">java.io.Writer</a> interface has two methods called append and write. What are the differences between these two? It even says that</p>\n\n<blockquote>\n  <p>An invocation of this method of the form <code>out.append(c)</code> behaves in exactly the same way as the invocation <code>out.write(c)</code></p>\n</blockquote>\n\n<p>so what is the reason for having two method name variants? </p>\n"},{"tags":["java","android-studio","owl-api","opencascade"],"owner":{"account_id":27578426,"reputation":1,"user_id":21048109,"display_name":"hannah176"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675371590,"creation_date":1674200693,"question_id":75181088,"body_markdown":"I want to add the Open Cascade library to my existing Java project in Android Studio.   \r\n\r\nI have created the gradle.properties and the build.gradle as in the instructions on GitHub. However, I keep getting the error code:\r\n&gt;&quot;Could not set unknown property &#39;plugins&#39; for object of type org.gradle.api.internal.plugins.DefaultObjectConfigurationAction&quot;\r\n\r\nDoes somebody has the same problem? I also want to add the owlapi library and it also doesn&#39;t work.\r\n\r\nThat&#39;s my build.gradle code:\r\n\r\n```\r\napply plugins: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    compileSdk 33\r\n    buildToolsVersion &quot;30.0.0&quot;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.layoutgeneration&quot;\r\n        minSdk 24\r\n        targetSdk 33\r\n\r\n        ndk {\r\n            abiFilters &quot;arm64-v8a&quot;\r\n        }\r\n\r\n        externalNativeBuild {\r\n            cmake {\r\n                arguments &quot;-DOCCT_ROOT=&quot; + OCCT_ROOT,\r\n                        &quot;-DFREETYPE_ROOT=&quot; + FREETYPE_ROOT,\r\n                        &quot;-DANDROID_STL=gnustl_shared&quot;\r\n            }\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.txt&#39;\r\n        }\r\n    }\r\n\r\n    sourceSets {\r\n        main {\r\n            manifest.srcFile &#39;C:\\\\Users\\\\schre\\\\AndroidStudioProjects\\\\LayoutGeneration\\\\OCCTBibliothek\\\\opencascade-7.7.0\\\\opencascade-7.7.0\\\\samples\\\\java\\\\jniviewer\\\\app\\\\src\\\\main&#39;\r\n            assets.srcDirs = [OCCT_ROOT]\r\n        }\r\n\r\n        externalNativeBuild {\r\n            cmake {\r\n                path &quot;C:\\\\Users\\\\schre\\\\AndroidStudioProjects\\\\LayoutGeneration\\\\OCCTBibliothek\\\\opencascade-7.7.0\\\\opencascade-7.7.0\\\\samples\\\\java\\\\jniviewer\\\\app\\\\src\\\\main\\\\CMakeLists.txt&quot;\r\n            }\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n        implementation fileTree(dir: &#39;C:\\\\Users\\\\schre\\\\AndroidStudioProjects\\\\LayoutGeneration\\\\OCCTBibliothek\\\\opencascade-7.7.0\\\\opencascade-7.7.0\\\\samples\\\\java\\\\jniviewer\\\\app\\\\src\\\\main\\\\java\\\\com\\\\opencascade\\\\jnisample&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;com.android.support.appcompat-v7:28.0.0&#39;\r\n        implementation &#39;com.android.support.constraint:constraint-layout:2.0.4&#39;\r\n        implementation &#39;org.semanticwen.owlapi:owlapi-parent:5.5.0&#39;\r\n        implementation &#39;org.semanticweb.owlapi:owlapi-distribution:5.5.0&#39;\r\n        implementation &#39;org.semanticweb.owlapi:owlapi-apibinding:5.5.0&#39;\r\n        implementation &#39;org.semanticweb.owlapi:owlapi-impl:5.5.0&#39;\r\n        implementation &#39;org.semanticweb.owlapi:owlapi-parsers:5.5.0&#39;\r\n        implementation &#39;org.semanticweb.owlapi:owlapi-osgidistribution&#39;\r\n        implementation &#39;org.semanticweb.rulewerk:rulewerk-owlapi&#39;\r\n\r\n    }\r\n\r\n    repositories {\r\n        mavenCentral()\r\n        maven {\r\n            url\r\n            &#39;https://mvnrepository.com/artifact/net.sourceforge.owlapi/owlapi-parent:5.5.0&#39;\r\n            &#39;https://mvnrepository.com/artifact/net.sourceforge.owlapi/owlapi-api/5.5.0&#39;\r\n            &#39;https://mvnrepository.com/artifact/net.sourceforge.owlapi/owlapi-distribution/5.5.0&#39;\r\n            &#39;https://mvnrepository.com/artifact/net.sourceforge.owlapi/owlapi-apibinding/5.5.0&#39;\r\n            &#39;https://mvnrepository.com/artifact/net.sourceforge.owlapi/owlapi-impl/5.5.0&#39;\r\n            &#39;https://mvnrepository.com/artifact/net.sourceforge.owlapi/owlapi-parsers/5.5.0&#39;\r\n            &#39;https://mvnrepository.com/artifact/net.sourceforge.owlapi/owlapi-osgidistribution/5.5.0&#39;\r\n            &#39;https://mvnrepository.com/artifact/org.semanticweb.rulewerk/rulewerk-owlapi/0.9.0&#39;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Add OCCT library in Android Studio","body":"<p>I want to add the Open Cascade library to my existing Java project in Android Studio.</p>\n<p>I have created the gradle.properties and the build.gradle as in the instructions on GitHub. However, I keep getting the error code:</p>\n<blockquote>\n<p>&quot;Could not set unknown property 'plugins' for object of type org.gradle.api.internal.plugins.DefaultObjectConfigurationAction&quot;</p>\n</blockquote>\n<p>Does somebody has the same problem? I also want to add the owlapi library and it also doesn't work.</p>\n<p>That's my build.gradle code:</p>\n<pre><code>apply plugins: 'com.android.application'\n\nandroid {\n    compileSdk 33\n    buildToolsVersion &quot;30.0.0&quot;\n\n    defaultConfig {\n        applicationId &quot;com.example.layoutgeneration&quot;\n        minSdk 24\n        targetSdk 33\n\n        ndk {\n            abiFilters &quot;arm64-v8a&quot;\n        }\n\n        externalNativeBuild {\n            cmake {\n                arguments &quot;-DOCCT_ROOT=&quot; + OCCT_ROOT,\n                        &quot;-DFREETYPE_ROOT=&quot; + FREETYPE_ROOT,\n                        &quot;-DANDROID_STL=gnustl_shared&quot;\n            }\n        }\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'\n        }\n    }\n\n    sourceSets {\n        main {\n            manifest.srcFile 'C:\\\\Users\\\\schre\\\\AndroidStudioProjects\\\\LayoutGeneration\\\\OCCTBibliothek\\\\opencascade-7.7.0\\\\opencascade-7.7.0\\\\samples\\\\java\\\\jniviewer\\\\app\\\\src\\\\main'\n            assets.srcDirs = [OCCT_ROOT]\n        }\n\n        externalNativeBuild {\n            cmake {\n                path &quot;C:\\\\Users\\\\schre\\\\AndroidStudioProjects\\\\LayoutGeneration\\\\OCCTBibliothek\\\\opencascade-7.7.0\\\\opencascade-7.7.0\\\\samples\\\\java\\\\jniviewer\\\\app\\\\src\\\\main\\\\CMakeLists.txt&quot;\n            }\n        }\n    }\n\n    dependencies {\n        implementation fileTree(dir: 'C:\\\\Users\\\\schre\\\\AndroidStudioProjects\\\\LayoutGeneration\\\\OCCTBibliothek\\\\opencascade-7.7.0\\\\opencascade-7.7.0\\\\samples\\\\java\\\\jniviewer\\\\app\\\\src\\\\main\\\\java\\\\com\\\\opencascade\\\\jnisample', include: ['*.jar'])\n        implementation 'com.android.support.appcompat-v7:28.0.0'\n        implementation 'com.android.support.constraint:constraint-layout:2.0.4'\n        implementation 'org.semanticwen.owlapi:owlapi-parent:5.5.0'\n        implementation 'org.semanticweb.owlapi:owlapi-distribution:5.5.0'\n        implementation 'org.semanticweb.owlapi:owlapi-apibinding:5.5.0'\n        implementation 'org.semanticweb.owlapi:owlapi-impl:5.5.0'\n        implementation 'org.semanticweb.owlapi:owlapi-parsers:5.5.0'\n        implementation 'org.semanticweb.owlapi:owlapi-osgidistribution'\n        implementation 'org.semanticweb.rulewerk:rulewerk-owlapi'\n\n    }\n\n    repositories {\n        mavenCentral()\n        maven {\n            url\n            'https://mvnrepository.com/artifact/net.sourceforge.owlapi/owlapi-parent:5.5.0'\n            'https://mvnrepository.com/artifact/net.sourceforge.owlapi/owlapi-api/5.5.0'\n            'https://mvnrepository.com/artifact/net.sourceforge.owlapi/owlapi-distribution/5.5.0'\n            'https://mvnrepository.com/artifact/net.sourceforge.owlapi/owlapi-apibinding/5.5.0'\n            'https://mvnrepository.com/artifact/net.sourceforge.owlapi/owlapi-impl/5.5.0'\n            'https://mvnrepository.com/artifact/net.sourceforge.owlapi/owlapi-parsers/5.5.0'\n            'https://mvnrepository.com/artifact/net.sourceforge.owlapi/owlapi-osgidistribution/5.5.0'\n            'https://mvnrepository.com/artifact/org.semanticweb.rulewerk/rulewerk-owlapi/0.9.0'\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":1252925,"reputation":16085,"user_id":1212960,"accept_rate":93,"display_name":"Greg Kopff"},"score":0,"creation_date":1396266090,"post_id":22760554,"comment_id":34696639,"body_markdown":"Have you looked at [Mixing Joined and Table per concrete class inheritance](http://stackoverflow.com/questions/5977717/mixing-joined-and-table-per-concrete-class-inheritance)?","body":"Have you looked at <a href=\"http://stackoverflow.com/questions/5977717/mixing-joined-and-table-per-concrete-class-inheritance\">Mixing Joined and Table per concrete class inheritance</a>?"}],"answers":[{"tags":[],"owner":{"account_id":44871,"reputation":22865,"user_id":131929,"accept_rate":83,"display_name":"Marcel St&#246;r"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1396268821,"creation_date":1396268821,"answer_id":22761526,"question_id":22760554,"body_markdown":"While mixing inheritance strategies in an inheritance tree _can_ be sort of accomplished (https://stackoverflow.com/a/3916998/131929 refers to [Java Persistence with Hibernate][1]\r\n-&gt; 5.1.5 Mixing inheritance strategies (p207-p210)) I, and everybody else I know, advise against it.\r\n\r\nSidenote, I suggest you always use `@MappedSuperclass` rather than `@Entity` for abstract classes.\r\n\r\n  [1]: http://www.manning.com/bauer2/","title":"Hibernate inheritance JOINED + TABLE PER CLASS","body":"<p>While mixing inheritance strategies in an inheritance tree <em>can</em> be sort of accomplished (<a href=\"https://stackoverflow.com/a/3916998/131929\">https://stackoverflow.com/a/3916998/131929</a> refers to <a href=\"http://www.manning.com/bauer2/\" rel=\"nofollow noreferrer\">Java Persistence with Hibernate</a>\n-> 5.1.5 Mixing inheritance strategies (p207-p210)) I, and everybody else I know, advise against it.</p>\n\n<p>Sidenote, I suggest you always use <code>@MappedSuperclass</code> rather than <code>@Entity</code> for abstract classes.</p>\n"}],"owner":{"account_id":996936,"reputation":4882,"user_id":1012646,"accept_rate":47,"display_name":"Ido Barash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1045,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":22761526,"answer_count":1,"score":0,"last_activity_date":1675371557,"creation_date":1396265784,"question_id":22760554,"body_markdown":"I have this strange hierarchy:\r\n\r\n - Class `A` is abstract (but it is an entity) \r\n - Class `B` (abstract) and C both extend class `A` (TABLE_PER_CLASS).\r\n - Class `B` is also extended by classes `D` and `E` but this time it is JOINED.\r\n\r\nI want the `ID` of the `A` class to be the `ID` of all others.\r\n\r\nCan this be done?\r\n\r\nI get strange errors of IDs. can any one show me how to map?\r\n\r\nThis is how I did it:\r\n\r\n    @Entity\r\n    @Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\n    public abstract class A {\r\n          @Id\r\n        \t@GeneratedValue(strategy = GenerationType.TABLE)\r\n    \tprotected Integer id;\r\n    }\r\n\r\n\r\nClass C:\r\n\r\n    @Entity\r\n    @Table(name = &quot;managers&quot;)\r\n    public class C extends A {\r\n\r\n\r\nClass B:\r\n\r\n    @Entity\r\n    @Table(name = &quot;bb&quot;)\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    @DiscriminatorColumn(name = &quot;discriminator&quot;, discriminatorType = DiscriminatorType.STRING)\r\n    public abstract class B extends A {\r\n\r\n\r\n\r\nClass C,D:\r\n\r\n    @Entity\r\n    @Table(name = &quot;cc&quot;/&quot;dd&quot;)\r\n    @DiscriminatorValue(&quot;CC&quot;/&quot;DD&quot;)\r\n    public class C (or D) extends B {\r\n\r\n\r\n","title":"Hibernate inheritance JOINED + TABLE PER CLASS","body":"<p>I have this strange hierarchy:</p>\n<ul>\n<li>Class <code>A</code> is abstract (but it is an entity)</li>\n<li>Class <code>B</code> (abstract) and C both extend class <code>A</code> (TABLE_PER_CLASS).</li>\n<li>Class <code>B</code> is also extended by classes <code>D</code> and <code>E</code> but this time it is JOINED.</li>\n</ul>\n<p>I want the <code>ID</code> of the <code>A</code> class to be the <code>ID</code> of all others.</p>\n<p>Can this be done?</p>\n<p>I get strange errors of IDs. can any one show me how to map?</p>\n<p>This is how I did it:</p>\n<pre><code>@Entity\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\npublic abstract class A {\n      @Id\n        @GeneratedValue(strategy = GenerationType.TABLE)\n    protected Integer id;\n}\n</code></pre>\n<p>Class C:</p>\n<pre><code>@Entity\n@Table(name = &quot;managers&quot;)\npublic class C extends A {\n</code></pre>\n<p>Class B:</p>\n<pre><code>@Entity\n@Table(name = &quot;bb&quot;)\n@Inheritance(strategy = InheritanceType.JOINED)\n@DiscriminatorColumn(name = &quot;discriminator&quot;, discriminatorType = DiscriminatorType.STRING)\npublic abstract class B extends A {\n</code></pre>\n<p>Class C,D:</p>\n<pre><code>@Entity\n@Table(name = &quot;cc&quot;/&quot;dd&quot;)\n@DiscriminatorValue(&quot;CC&quot;/&quot;DD&quot;)\npublic class C (or D) extends B {\n</code></pre>\n"},{"tags":["java","maven","docker"],"answers":[{"tags":[],"owner":{"account_id":3206807,"reputation":2883,"user_id":2707727,"accept_rate":51,"display_name":"Casey Harrils"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574444170,"creation_date":1517328019,"answer_id":48525666,"question_id":48523558,"body_markdown":"I found out what the problem was - thank goodness for having a version in Gitlab to refer to (as well as a &quot;previous&quot; version on another machine)\r\n\r\nBasically, I used Maven to put the project together.\r\n\r\nTo build the project, I set up the command below and ran it under Jenkins:\r\n\r\n    $ /opt/maven/bin/mvn -f /var/jenkins/workspace/build-cc-restapi-dev/pom.xml -Pdevelopment clean package docker:build -B\r\n\r\n\r\nIn the pom.xml file, I did not specify : \r\n\r\n    &lt;artifactId&gt;&lt;/artifactId&gt;\r\n\r\nWhen I went ahead and set it \r\n\r\n    ex: &lt;artifactId&gt;stuff&lt;/artifactId&gt; \r\n\r\nDocker started the jar file correctly and everything worked fine.\r\n\r\n\r\n**UPDATE**\r\nNeed to report items more accurately.\r\n\r\n    &lt;artifactId&gt;&lt;/artifactId&gt;\r\n\r\nwas defined. But\r\n\r\n    &lt;artifactId&gt;stuff&lt;/artifactId&gt; =&gt; worked\r\n    &lt;artifactId&gt;ccinfieldworkserver&lt;/artifactId&gt; =&gt; worked\r\n    &lt;artifactId&gt;BackEndRestFunctionality&lt;/artifactId&gt; =&gt; did not work.\r\n\r\nTIA","title":"getting a java.lang.ClassNotFoundException when starting a Docker container","body":"<p>I found out what the problem was - thank goodness for having a version in Gitlab to refer to (as well as a \"previous\" version on another machine)</p>\n\n<p>Basically, I used Maven to put the project together.</p>\n\n<p>To build the project, I set up the command below and ran it under Jenkins:</p>\n\n<pre><code>$ /opt/maven/bin/mvn -f /var/jenkins/workspace/build-cc-restapi-dev/pom.xml -Pdevelopment clean package docker:build -B\n</code></pre>\n\n<p>In the pom.xml file, I did not specify : </p>\n\n<pre><code>&lt;artifactId&gt;&lt;/artifactId&gt;\n</code></pre>\n\n<p>When I went ahead and set it </p>\n\n<pre><code>ex: &lt;artifactId&gt;stuff&lt;/artifactId&gt; \n</code></pre>\n\n<p>Docker started the jar file correctly and everything worked fine.</p>\n\n<p><strong>UPDATE</strong>\nNeed to report items more accurately.</p>\n\n<pre><code>&lt;artifactId&gt;&lt;/artifactId&gt;\n</code></pre>\n\n<p>was defined. But</p>\n\n<pre><code>&lt;artifactId&gt;stuff&lt;/artifactId&gt; =&gt; worked\n&lt;artifactId&gt;ccinfieldworkserver&lt;/artifactId&gt; =&gt; worked\n&lt;artifactId&gt;BackEndRestFunctionality&lt;/artifactId&gt; =&gt; did not work.\n</code></pre>\n\n<p>TIA</p>\n"},{"tags":[],"owner":{"account_id":3206807,"reputation":2883,"user_id":2707727,"accept_rate":51,"display_name":"Casey Harrils"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1517328180,"creation_date":1517328180,"answer_id":48525718,"question_id":48523558,"body_markdown":"\r\n\r\nI found out what the problem was - thank goodness for having a version in Gitlab to refer to (as well as a &quot;previous&quot; version on another machine)\r\n\r\nBasically, I used Maven to put the project together. I executed the following command from Jenkins to build the .jar file\r\n\r\n    $ /opt/maven/bin/mvn -f /var/jenkins/workspace/build-cc-restapi-dev/pom.xml -Pdevelopment clean package docker:build -B\r\n\r\n\r\nIn the pom.xml file, I did not specify : \r\n\r\n    &lt;artifactId&gt;&lt;/artifactId&gt;\r\n\r\nWhen I went ahead and set it \r\n\r\n    ex: &lt;artifactId&gt;stuff&lt;/artifactId&gt; \r\n\r\nDocker started the jar file correctly and everything worked fine.\r\n","title":"getting a java.lang.ClassNotFoundException when starting a Docker container","body":"<p>I found out what the problem was - thank goodness for having a version in Gitlab to refer to (as well as a \"previous\" version on another machine)</p>\n\n<p>Basically, I used Maven to put the project together. I executed the following command from Jenkins to build the .jar file</p>\n\n<pre><code>$ /opt/maven/bin/mvn -f /var/jenkins/workspace/build-cc-restapi-dev/pom.xml -Pdevelopment clean package docker:build -B\n</code></pre>\n\n<p>In the pom.xml file, I did not specify : </p>\n\n<pre><code>&lt;artifactId&gt;&lt;/artifactId&gt;\n</code></pre>\n\n<p>When I went ahead and set it </p>\n\n<pre><code>ex: &lt;artifactId&gt;stuff&lt;/artifactId&gt; \n</code></pre>\n\n<p>Docker started the jar file correctly and everything worked fine.</p>\n"},{"tags":[],"owner":{"account_id":13089940,"reputation":133,"user_id":10491111,"display_name":"Carlos No&#233;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636647837,"creation_date":1636647837,"answer_id":69931667,"question_id":48523558,"body_markdown":"(Solved)\r\nin my case, I had the same problem (ClassNotfoundException) when starting my docker container.\r\n\r\nWhen I generated my image in docker I would specify a jar from my project which I had specified before with maven.\r\n\r\n**The error was that when generating said .jar it did not specify the Main Class well, and when docker was executing the jar it did not know where the main was.**\r\n\r\nTo fix it you must specify where your main class is located.\r\n\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;!-- DO NOT include log4j.properties file in your Jar --&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;**/log4j.properties&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;!-- Jar file entry point --&gt;\r\n                            &lt;mainClass&gt;com.carmuno.aleniet.dbcs.dbcdApplication&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\n","title":"getting a java.lang.ClassNotFoundException when starting a Docker container","body":"<p>(Solved)\nin my case, I had the same problem (ClassNotfoundException) when starting my docker container.</p>\n<p>When I generated my image in docker I would specify a jar from my project which I had specified before with maven.</p>\n<p><strong>The error was that when generating said .jar it did not specify the Main Class well, and when docker was executing the jar it did not know where the main was.</strong></p>\n<p>To fix it you must specify where your main class is located.</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;!-- DO NOT include log4j.properties file in your Jar --&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;**/log4j.properties&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;!-- Jar file entry point --&gt;\n                            &lt;mainClass&gt;com.carmuno.aleniet.dbcs.dbcdApplication&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27446337,"reputation":1,"user_id":20940037,"display_name":"lLagger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675371325,"creation_date":1675371325,"answer_id":75328844,"question_id":48523558,"body_markdown":"Here is my solition.\r\nmy old code:\r\n\r\n    FROM openjdk:11\r\n    \r\n    RUN mkdir /app\r\n    \r\n    COPY src/main/java/org/example/ /app\r\n    \r\n    WORKDIR /app\r\n    \r\n    CMD java Main\r\nhere is my new code;\r\n\r\n    FROM openjdk:11\r\n    \r\n    RUN mkdir /app\r\n    \r\n    COPY src/main/java/org/example/ /app\r\n    \r\n    WORKDIR /app\r\n    \r\n    CMD java Main.java\r\n\r\nso i just added .java to my Main from CMD","title":"getting a java.lang.ClassNotFoundException when starting a Docker container","body":"<p>Here is my solition.\nmy old code:</p>\n<pre><code>FROM openjdk:11\n\nRUN mkdir /app\n\nCOPY src/main/java/org/example/ /app\n\nWORKDIR /app\n\nCMD java Main\n</code></pre>\n<p>here is my new code;</p>\n<pre><code>FROM openjdk:11\n\nRUN mkdir /app\n\nCOPY src/main/java/org/example/ /app\n\nWORKDIR /app\n\nCMD java Main.java\n</code></pre>\n<p>so i just added .java to my Main from CMD</p>\n"}],"owner":{"account_id":3206807,"reputation":2883,"user_id":2707727,"accept_rate":51,"display_name":"Casey Harrils"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12996,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":48525718,"answer_count":4,"score":6,"last_activity_date":1675371325,"creation_date":1517321764,"question_id":48523558,"body_markdown":"I am having a problem starting a .jar file within a Docker Container. The error message I am getting is: \r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.ClassNotFoundException:\r\n&gt; ccinfw.MainApplication\r\n\r\nI have added information below. Why am I getting this error and how can I fix it?\r\n\r\nTIA\r\n\r\n**Manifest File**\r\n\r\n    Manifest-Version: 1.0\r\n    Implementation-Title: SpringBootErrorHandlingDemoy\r\n    Implementation-Version: 0.0.1-SNAPSHOT\r\n    Archiver-Version: Plexus Archiver\r\n    Built-By: root\r\n    Implementation-Vendor-Id: ccinfw\r\n    Spring-Boot-Version: 1.5.4.RELEASE\r\n    Implementation-Vendor: Pivotal Software, Inc.\r\n    Main-Class: org.springframework.boot.loader.JarLauncher\r\n    Start-Class: ccinfw.MainApplication\r\n    Spring-Boot-Classes: BOOT-INF/classes/\r\n    Spring-Boot-Lib: BOOT-INF/lib/\r\n    Created-By: Apache Maven 3.3.9\r\n    Build-Jdk: 1.8.0_131\r\n    Implementation-URL: http://maven.apache.org\r\n\r\n\r\n**ran jar -xvf BackEndRestFunctionality-0.0.1-SNAPSHOT.jar &gt; expanded. Below is a portion of the output. MainApplication.class does exist in the jar file**\r\n\r\n     [... snip ...]\r\n    \r\n     inflated: BOOT-INF/classes/ccinfw/security/user/ApplicationUser.class\r\n     inflated: BOOT-INF/classes/ccinfw/security/security/SecurityConstants.class\r\n     inflated: BOOT-INF/classes/ccinfw/security/security/AccountCredentials.class\r\n     inflated: BOOT-INF/classes/ccinfw/security/security/WebSecurity.class\r\n     inflated: BOOT-INF/classes/ccinfw/security/security/JWTAuthenticationFilter.class\r\n     inflated: BOOT-INF/classes/ccinfw/security/security/JWTAuthorizationFilter.class\r\n     **inflated: BOOT-INF/classes/ccinfw/MainApplication.class**\r\n     inflated: BOOT-INF/classes/ccinfw/dao/MstrgenroletypeDAO.class\r\n     inflated: BOOT-INF/classes/application.properties\r\n      created: META-INF/maven/\r\n      created: META-INF/maven/ccinfw/\r\n      created: META-INF/maven/ccinfw/BackEndRestFunctionality/\r\n     inflated: META-INF/maven/ccinfw/BackEndRestFunctionality/pom.xml\r\n     inflated: META-INF/maven/ccinfw/BackEndRestFunctionality/pom.properties\r\n      created: BOOT-INF/lib/\r\n    extracted: BOOT-INF/lib/slf4j-api-1.7.25.jar\r\n    \r\n    [... snip ...]\r\n\r\n\r\n**I am using the following software**\r\n\r\n    jenkins-slave-one:/var/jenkins/workspace/build-cc-restapi-dev/target/docker# java -version\r\n    openjdk version &quot;1.8.0_131&quot;\r\n    OpenJDK Runtime Environment (build 1.8.0_131-8u131-b11-2ubuntu1.16.04.3-b11)\r\n    OpenJDK 64-Bit Server VM (build 25.131-b11, mixed mode)\r\n    \r\n    jenkins-slave-one:/var/jenkins/workspace/build-cc-restapi-dev/target/docker# javac -version\r\n    javac 1.8.0_131\r\n    \r\n    jenkins-slave-one:/var/jenkins/workspace/build-cc-restapi-dev/target/docker# mvn -version\r\n    Apache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-10T16:41:47+00:00)\r\n    Maven home: /opt/maven\r\n    Java version: 1.8.0_131, vendor: Oracle Corporation\r\n    Java home: /usr/lib/jvm/java-8-openjdk-amd64/jre\r\n    Default locale: en_US, platform encoding: UTF-8\r\n    OS name: &quot;linux&quot;, version: &quot;4.4.0-87-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n\r\n\r\n**Maven Dependencies**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n**I am getting the following error message when starting it:**\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: ccinfw.MainApplication\r\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:94)\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:46)\r\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\r\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\r\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\r\n\r\n \r\n**the maven command executed within Jenkins**\r\n\r\n    $ /opt/maven/bin/mvn -f /var/jenkins/workspace/build-cc-restapi-dev/pom.xml -Pdevelopment clean package docker:build -B\r\n\r\n\r\n**portion of pom.xml file responsible for building**\r\n\r\n&lt;profiles&gt;\r\n\r\n\t&lt;profile&gt;\r\n\t\t&lt;id&gt;development&lt;/id&gt;\r\n\t\t&lt;build&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;phase&gt;test&lt;/phase&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;run&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t&lt;tasks&gt;\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t&lt;copy\r\n\t\t\t\t\t\t\t\t\t\tfile=&quot;${project.build.outputDirectory}/application.development.properties&quot;\r\n\t\t\t\t\t\t\t\t\t\ttofile=&quot;${project.build.outputDirectory}/application.properties&quot; /&gt;\r\n\t\t\t\t\t\t\t\t&lt;/tasks&gt;\r\n\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.spotify&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;imageName&gt;apostx-cc-restapi-dev&lt;/imageName&gt;\r\n\r\n\t\t\t\t\t\t&lt;baseImage&gt;java:8&lt;/baseImage&gt;\r\n\t\t\t\t\t\t&lt;entryPoint&gt;[&quot;java&quot;, &quot;-jar&quot;, &quot;/${project.build.finalName}.jar&quot;]&lt;/entryPoint&gt;\r\n\t\t\t\t\t\t&lt;!-- copy the service&#39;s jar file from target into the root directory \r\n\t\t\t\t\t\t\tof the image --&gt;\r\n\t\t\t\t\t\t&lt;resources&gt;\r\n\t\t\t\t\t\t\t&lt;resource&gt;\r\n\t\t\t\t\t\t\t\t&lt;targetPath&gt;/&lt;/targetPath&gt;\r\n\t\t\t\t\t\t\t\t&lt;directory&gt;${project.build.directory}&lt;/directory&gt;\r\n\t\t\t\t\t\t\t\t&lt;include&gt;${project.build.finalName}.jar&lt;/include&gt;\r\n\t\t\t\t\t\t\t&lt;/resource&gt;\r\n\t\t\t\t\t\t&lt;/resources&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;!-- Build an executable JAR --&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;!-- &lt;version&gt;2.6&lt;/version&gt; --&gt;\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;id&gt;analyze&lt;/id&gt;\r\n\t\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t&lt;failBuild&gt;true&lt;/failBuild&gt;\r\n\t\t\t\t\t\t\t\t&lt;ignoreDirect&gt;false&lt;/ignoreDirect&gt;\r\n\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t\t&lt;manifest&gt;\r\n\t\t\t\t\t\t\t\t&lt;mainClass&gt;ccinfw.MainApplication&lt;/mainClass&gt;\r\n\t\t\t\t\t\t\t&lt;/manifest&gt;\r\n\t\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/build&gt;\r\n\t&lt;/profile&gt;\r\n\r\n\r\n**the Dockerfile being accessed**\r\n\r\n    FROM java:8\r\n    ADD /BackEndRestFunctionality-0.0.1-SNAPSHOT.jar //\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/BackEndRestFunctionality-0.0.1-SNAPSHOT.jar&quot;]\r\n    ~\r\n\r\n**Here is a part of the Jenkins log file where the Docker Image file is being built using the generated .jar file - again - the .jar file works fine when ran on its own**\r\n\r\n    [INFO] Copying /var/jenkins/workspace/build-cc-restapi-dev/target/BackEndRestFunctionality-0.0.1-SNAPSHOT.jar -&gt; /var/jenkins/workspace/build-cc-restapi-dev/target/docker/BackEndRestFunctionality-0.0.1-SNAPSHOT.jar\r\n    [INFO] Building image apostx-cc-restapi-dev\r\n    Step 1/3 : FROM java:8\r\n     ---&gt; d23bdf5b1b1b\r\n    Step 2/3 : ADD /BackEndRestFunctionality-0.0.1-SNAPSHOT.jar //\r\n     ---&gt; abfcb05b4173\r\n    Removing intermediate container f573f737009a\r\n    Step 3/3 : ENTRYPOINT java -jar /BackEndRestFunctionality-0.0.1-SNAPSHOT.jar\r\n     ---&gt; Running in 28bb20467e70\r\n     ---&gt; 2ffb803f96dc\r\n    Removing intermediate container 28bb20467e70\r\n    ProgressMessage{id=null, status=null, stream=null, error=null, progress=null, progressDetail=null}\r\n    Successfully built 2ffb803f96dc\r\n    Successfully tagged apostx-cc-restapi-dev:latest\r\n    [INFO] Built apostx-cc-restapi-dev\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 30.181 s\r\n    [INFO] Finished at: 2018-01-30T06:18:18+00:00\r\n    [INFO] Final Memory: 36M/95M\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\n\r\n**Docker Image Layers**\r\n\r\n    351.5 MB \t\r\n    RUN set -x &amp;&amp; apt-get update &amp;&amp; apt-get install -y openjdk-8-jdk=&quot;$JAVA_DEBIAN_VERSION&quot; ca-certificates-java=&quot;$CA_CERTIFICATES_JAVA_VERSION&quot; &amp;&amp; rm -rf /var/lib/apt/lists/* &amp;&amp; [ &quot;$JAVA_HOME&quot; = &quot;$(docker-java-home)&quot; ]\r\n    123 MB \t\r\n    ADD file:89ecb642d662ee7edbb868340551106d51336c7e589fdaca4111725ec64da957 in /\r\n    122.6 MB \t\r\n    RUN apt-get update &amp;&amp; apt-get install -y --no-install-recommends bzr git mercurial openssh-client subversion procps &amp;&amp; rm -rf /var/lib/apt/lists/*\r\n    44.3 MB \t\r\n    RUN apt-get update &amp;&amp; apt-get install -y --no-install-recommends ca-certificates curl wget &amp;&amp; rm -rf /var/lib/apt/lists/*\r\n    32.9 MB \t\r\n    ADD file:565dae161b3b516b50d596648650278591d96fe820e36a3eeef0ee7c33d7915d in //\r\n    1.3 MB \t\r\n    RUN apt-get update &amp;&amp; apt-get install -y --no-install-recommends bzip2 unzip xz-utils &amp;&amp; rm -rf /var/lib/apt/lists/*\r\n    418.5 kB \t\r\n    RUN /var/lib/dpkg/info/ca-certificates-java.postinst configure\r\n    87 B \t\r\n    RUN { echo &#39;#!/bin/sh&#39;; echo &#39;set -e&#39;; echo; echo &#39;dirname &quot;$(dirname &quot;$(readlink -f &quot;$(which javac || which java)&quot;)&quot;)&quot;&#39;; } &gt; /usr/local/bin/docker-java-home &amp;&amp; chmod +x /usr/local/bin/docker-java-home\r\n    55 B \t\r\n    RUN echo &#39;deb http://deb.debian.org/debian jessie-backports main&#39; &gt; /etc/apt/sources.list.d/jessie-backports.list\r\n    0 B \t\r\n    CMD [&quot;/bin/bash&quot;]\r\n    0 B \t\r\n    ENV LANG=C.UTF-8\r\n    0 B \t\r\n    ENV JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\r\n    0 B \t\r\n    ENV JAVA_VERSION=8u111\r\n    0 B \t\r\n    ENV JAVA_DEBIAN_VERSION=8u111-b14-2~bpo8+1\r\n    0 B \t\r\n    ENV CA_CERTIFICATES_JAVA_VERSION=20140324\r\n    0 B \t\r\n    ENTRYPOINT [&quot;java&quot; &quot;-jar&quot; &quot;/BackEndRestFunctionality-0.0.1-SNAPSHOT.jar&quot;] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MziS8.png","title":"getting a java.lang.ClassNotFoundException when starting a Docker container","body":"<p>I am having a problem starting a .jar file within a Docker Container. The error message I am getting is: </p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.ClassNotFoundException:\n  ccinfw.MainApplication</p>\n</blockquote>\n\n<p>I have added information below. Why am I getting this error and how can I fix it?</p>\n\n<p>TIA</p>\n\n<p><strong>Manifest File</strong></p>\n\n<pre><code>Manifest-Version: 1.0\nImplementation-Title: SpringBootErrorHandlingDemoy\nImplementation-Version: 0.0.1-SNAPSHOT\nArchiver-Version: Plexus Archiver\nBuilt-By: root\nImplementation-Vendor-Id: ccinfw\nSpring-Boot-Version: 1.5.4.RELEASE\nImplementation-Vendor: Pivotal Software, Inc.\nMain-Class: org.springframework.boot.loader.JarLauncher\nStart-Class: ccinfw.MainApplication\nSpring-Boot-Classes: BOOT-INF/classes/\nSpring-Boot-Lib: BOOT-INF/lib/\nCreated-By: Apache Maven 3.3.9\nBuild-Jdk: 1.8.0_131\nImplementation-URL: http://maven.apache.org\n</code></pre>\n\n<p><strong>ran jar -xvf BackEndRestFunctionality-0.0.1-SNAPSHOT.jar > expanded. Below is a portion of the output. MainApplication.class does exist in the jar file</strong></p>\n\n<pre><code> [... snip ...]\n\n inflated: BOOT-INF/classes/ccinfw/security/user/ApplicationUser.class\n inflated: BOOT-INF/classes/ccinfw/security/security/SecurityConstants.class\n inflated: BOOT-INF/classes/ccinfw/security/security/AccountCredentials.class\n inflated: BOOT-INF/classes/ccinfw/security/security/WebSecurity.class\n inflated: BOOT-INF/classes/ccinfw/security/security/JWTAuthenticationFilter.class\n inflated: BOOT-INF/classes/ccinfw/security/security/JWTAuthorizationFilter.class\n **inflated: BOOT-INF/classes/ccinfw/MainApplication.class**\n inflated: BOOT-INF/classes/ccinfw/dao/MstrgenroletypeDAO.class\n inflated: BOOT-INF/classes/application.properties\n  created: META-INF/maven/\n  created: META-INF/maven/ccinfw/\n  created: META-INF/maven/ccinfw/BackEndRestFunctionality/\n inflated: META-INF/maven/ccinfw/BackEndRestFunctionality/pom.xml\n inflated: META-INF/maven/ccinfw/BackEndRestFunctionality/pom.properties\n  created: BOOT-INF/lib/\nextracted: BOOT-INF/lib/slf4j-api-1.7.25.jar\n\n[... snip ...]\n</code></pre>\n\n<p><strong>I am using the following software</strong></p>\n\n<pre><code>jenkins-slave-one:/var/jenkins/workspace/build-cc-restapi-dev/target/docker# java -version\nopenjdk version \"1.8.0_131\"\nOpenJDK Runtime Environment (build 1.8.0_131-8u131-b11-2ubuntu1.16.04.3-b11)\nOpenJDK 64-Bit Server VM (build 25.131-b11, mixed mode)\n\njenkins-slave-one:/var/jenkins/workspace/build-cc-restapi-dev/target/docker# javac -version\njavac 1.8.0_131\n\njenkins-slave-one:/var/jenkins/workspace/build-cc-restapi-dev/target/docker# mvn -version\nApache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-10T16:41:47+00:00)\nMaven home: /opt/maven\nJava version: 1.8.0_131, vendor: Oracle Corporation\nJava home: /usr/lib/jvm/java-8-openjdk-amd64/jre\nDefault locale: en_US, platform encoding: UTF-8\nOS name: \"linux\", version: \"4.4.0-87-generic\", arch: \"amd64\", family: \"unix\"\n</code></pre>\n\n<p><strong>Maven Dependencies</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/MziS8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MziS8.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>I am getting the following error message when starting it:</strong></p>\n\n<pre><code>Exception in thread \"main\" java.lang.ClassNotFoundException: ccinfw.MainApplication\nat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\nat org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:94)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\nat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:46)\nat org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\nat org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\nat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\n</code></pre>\n\n<p><strong>the maven command executed within Jenkins</strong></p>\n\n<pre><code>$ /opt/maven/bin/mvn -f /var/jenkins/workspace/build-cc-restapi-dev/pom.xml -Pdevelopment clean package docker:build -B\n</code></pre>\n\n<p><strong>portion of pom.xml file responsible for building</strong></p>\n\n<p></p>\n\n<pre><code>&lt;profile&gt;\n    &lt;id&gt;development&lt;/id&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;run&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;tasks&gt;\n\n                                &lt;copy\n                                    file=\"${project.build.outputDirectory}/application.development.properties\"\n                                    tofile=\"${project.build.outputDirectory}/application.properties\" /&gt;\n                            &lt;/tasks&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.spotify&lt;/groupId&gt;\n                &lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt;\n\n                &lt;configuration&gt;\n                    &lt;imageName&gt;apostx-cc-restapi-dev&lt;/imageName&gt;\n\n                    &lt;baseImage&gt;java:8&lt;/baseImage&gt;\n                    &lt;entryPoint&gt;[\"java\", \"-jar\", \"/${project.build.finalName}.jar\"]&lt;/entryPoint&gt;\n                    &lt;!-- copy the service's jar file from target into the root directory \n                        of the image --&gt;\n                    &lt;resources&gt;\n                        &lt;resource&gt;\n                            &lt;targetPath&gt;/&lt;/targetPath&gt;\n                            &lt;directory&gt;${project.build.directory}&lt;/directory&gt;\n                            &lt;include&gt;${project.build.finalName}.jar&lt;/include&gt;\n                        &lt;/resource&gt;\n                    &lt;/resources&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;!-- Build an executable JAR --&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;!-- &lt;version&gt;2.6&lt;/version&gt; --&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;analyze&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;failBuild&gt;true&lt;/failBuild&gt;\n                            &lt;ignoreDirect&gt;false&lt;/ignoreDirect&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;ccinfw.MainApplication&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/profile&gt;\n</code></pre>\n\n<p><strong>the Dockerfile being accessed</strong></p>\n\n<pre><code>FROM java:8\nADD /BackEndRestFunctionality-0.0.1-SNAPSHOT.jar //\nENTRYPOINT [\"java\", \"-jar\", \"/BackEndRestFunctionality-0.0.1-SNAPSHOT.jar\"]\n~\n</code></pre>\n\n<p><strong>Here is a part of the Jenkins log file where the Docker Image file is being built using the generated .jar file - again - the .jar file works fine when ran on its own</strong></p>\n\n<pre><code>[INFO] Copying /var/jenkins/workspace/build-cc-restapi-dev/target/BackEndRestFunctionality-0.0.1-SNAPSHOT.jar -&gt; /var/jenkins/workspace/build-cc-restapi-dev/target/docker/BackEndRestFunctionality-0.0.1-SNAPSHOT.jar\n[INFO] Building image apostx-cc-restapi-dev\nStep 1/3 : FROM java:8\n ---&gt; d23bdf5b1b1b\nStep 2/3 : ADD /BackEndRestFunctionality-0.0.1-SNAPSHOT.jar //\n ---&gt; abfcb05b4173\nRemoving intermediate container f573f737009a\nStep 3/3 : ENTRYPOINT java -jar /BackEndRestFunctionality-0.0.1-SNAPSHOT.jar\n ---&gt; Running in 28bb20467e70\n ---&gt; 2ffb803f96dc\nRemoving intermediate container 28bb20467e70\nProgressMessage{id=null, status=null, stream=null, error=null, progress=null, progressDetail=null}\nSuccessfully built 2ffb803f96dc\nSuccessfully tagged apostx-cc-restapi-dev:latest\n[INFO] Built apostx-cc-restapi-dev\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 30.181 s\n[INFO] Finished at: 2018-01-30T06:18:18+00:00\n[INFO] Final Memory: 36M/95M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n\n<p><strong>Docker Image Layers</strong></p>\n\n<pre><code>351.5 MB    \nRUN set -x &amp;&amp; apt-get update &amp;&amp; apt-get install -y openjdk-8-jdk=\"$JAVA_DEBIAN_VERSION\" ca-certificates-java=\"$CA_CERTIFICATES_JAVA_VERSION\" &amp;&amp; rm -rf /var/lib/apt/lists/* &amp;&amp; [ \"$JAVA_HOME\" = \"$(docker-java-home)\" ]\n123 MB  \nADD file:89ecb642d662ee7edbb868340551106d51336c7e589fdaca4111725ec64da957 in /\n122.6 MB    \nRUN apt-get update &amp;&amp; apt-get install -y --no-install-recommends bzr git mercurial openssh-client subversion procps &amp;&amp; rm -rf /var/lib/apt/lists/*\n44.3 MB     \nRUN apt-get update &amp;&amp; apt-get install -y --no-install-recommends ca-certificates curl wget &amp;&amp; rm -rf /var/lib/apt/lists/*\n32.9 MB     \nADD file:565dae161b3b516b50d596648650278591d96fe820e36a3eeef0ee7c33d7915d in //\n1.3 MB  \nRUN apt-get update &amp;&amp; apt-get install -y --no-install-recommends bzip2 unzip xz-utils &amp;&amp; rm -rf /var/lib/apt/lists/*\n418.5 kB    \nRUN /var/lib/dpkg/info/ca-certificates-java.postinst configure\n87 B    \nRUN { echo '#!/bin/sh'; echo 'set -e'; echo; echo 'dirname \"$(dirname \"$(readlink -f \"$(which javac || which java)\")\")\"'; } &gt; /usr/local/bin/docker-java-home &amp;&amp; chmod +x /usr/local/bin/docker-java-home\n55 B    \nRUN echo 'deb http://deb.debian.org/debian jessie-backports main' &gt; /etc/apt/sources.list.d/jessie-backports.list\n0 B     \nCMD [\"/bin/bash\"]\n0 B     \nENV LANG=C.UTF-8\n0 B     \nENV JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\n0 B     \nENV JAVA_VERSION=8u111\n0 B     \nENV JAVA_DEBIAN_VERSION=8u111-b14-2~bpo8+1\n0 B     \nENV CA_CERTIFICATES_JAVA_VERSION=20140324\n0 B     \nENTRYPOINT [\"java\" \"-jar\" \"/BackEndRestFunctionality-0.0.1-SNAPSHOT.jar\"] \n</code></pre>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"score":0,"creation_date":1271365842,"post_id":2648984,"comment_id":2664937,"body_markdown":"Did I understand you correctly that if I found your site in google and opened the link then you logged &#39;google.com&#39;?","body":"Did I understand you correctly that if I found your site in google and opened the link then you logged &#39;google.com&#39;?"}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":337,"is_accepted":true,"score":337,"last_activity_date":1538143498,"creation_date":1271365793,"answer_id":2648995,"question_id":2648984,"body_markdown":"It&#39;s available in the [HTTP `referer` header][1]. You can get it in a servlet as follows:\r\n\r\n    String referrer = request.getHeader(&quot;referer&quot;); // Yes, with the legendary misspelling.\r\n\r\nYou, however, need to realize that this is a client-controlled value and can thus be spoofed to something entirely different or even removed. Thus, whatever value it returns, you should not use it for any critical business processes in the backend, but only for presentation control (e.g. hiding/showing/changing certain pure layout parts) and/or statistics.\r\n\r\nFor the interested, background about the misspelling can be found in [Wikipedia][2].\r\n\r\n\r\n  [1]: http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.36\r\n  [2]: https://en.wikipedia.org/wiki/HTTP_referer#Etymology","title":"HttpServletRequest - how to obtain the referring URL?","body":"<p>It's available in the <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.36\" rel=\"noreferrer\">HTTP <code>referer</code> header</a>. You can get it in a servlet as follows:</p>\n\n<pre><code>String referrer = request.getHeader(\"referer\"); // Yes, with the legendary misspelling.\n</code></pre>\n\n<p>You, however, need to realize that this is a client-controlled value and can thus be spoofed to something entirely different or even removed. Thus, whatever value it returns, you should not use it for any critical business processes in the backend, but only for presentation control (e.g. hiding/showing/changing certain pure layout parts) and/or statistics.</p>\n\n<p>For the interested, background about the misspelling can be found in <a href=\"https://en.wikipedia.org/wiki/HTTP_referer#Etymology\" rel=\"noreferrer\">Wikipedia</a>.</p>\n"},{"tags":[],"owner":{"account_id":21342,"reputation":12056,"user_id":51789,"accept_rate":75,"display_name":"Chris K"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1411163694,"creation_date":1271365877,"answer_id":2649000,"question_id":2648984,"body_markdown":"The URLs are passed in the request: `request.getRequestURL()`. \r\n\r\nIf you mean other sites that are linking to you?  You want to capture the HTTP Referrer, which you can do by calling: \r\n\r\n    request.getHeader(&quot;referer&quot;);","title":"HttpServletRequest - how to obtain the referring URL?","body":"<p>The URLs are passed in the request: <code>request.getRequestURL()</code>. </p>\n\n<p>If you mean other sites that are linking to you?  You want to capture the HTTP Referrer, which you can do by calling: </p>\n\n<pre><code>request.getHeader(\"referer\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2772037,"reputation":795,"user_id":2386444,"display_name":"wpodgorski"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1368630071,"creation_date":1368630071,"answer_id":16568540,"question_id":2648984,"body_markdown":"Actually it&#39;s: \r\n`request.getHeader(&quot;Referer&quot;)`, \r\nor even better, and to be 100% sure, \r\n`request.getHeader(HttpHeaders.REFERER)`, \r\nwhere HttpHeaders is `com.google.common.net.HttpHeaders`","title":"HttpServletRequest - how to obtain the referring URL?","body":"<p>Actually it's: \n<code>request.getHeader(\"Referer\")</code>, \nor even better, and to be 100% sure, \n<code>request.getHeader(HttpHeaders.REFERER)</code>, \nwhere HttpHeaders is <code>com.google.common.net.HttpHeaders</code></p>\n"},{"tags":[],"owner":{"account_id":7666616,"reputation":726,"user_id":5810178,"display_name":"Don D"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1488452287,"creation_date":1488263849,"answer_id":42501831,"question_id":2648984,"body_markdown":"As all have mentioned it is\r\n\r\n    request.getHeader(&quot;referer&quot;);\r\n\r\nI would like to add some more details about security aspect of **referer** header in contrast with accepted answer. In Open Web Application Security Project([OWASP][1]) cheat sheets, under [Cross-Site Request Forgery (CSRF) Prevention Cheat Sheet][2] it mentions about importance of **referer** header.\r\n\r\n&gt; More importantly for this recommended Same Origin check, a number of HTTP request headers can&#39;t be set by JavaScript because they are on the &#39;forbidden&#39; headers list. Only the browsers themselves can set values for these headers, making them more trustworthy because not even an XSS vulnerability can be used to modify them.\r\n&gt; \r\n&gt; The Source Origin check recommended here relies on three of these\r\n&gt; protected headers: Origin, Referer, and Host, making it a pretty\r\n&gt; strong CSRF defense all on its own.\r\n\r\nYou can refer [Forbidden header list here][3]. User agent(ie:browser) has the full control over these headers not the user.\r\n\r\n\r\n  [1]: https://www.owasp.org/index.php/About_OWASP\r\n  [2]: https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF)_Prevention_Cheat_Sheet#Checking_the_Referer_Header\r\n  [3]: https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name","title":"HttpServletRequest - how to obtain the referring URL?","body":"<p>As all have mentioned it is</p>\n\n<pre><code>request.getHeader(\"referer\");\n</code></pre>\n\n<p>I would like to add some more details about security aspect of <strong>referer</strong> header in contrast with accepted answer. In Open Web Application Security Project(<a href=\"https://www.owasp.org/index.php/About_OWASP\" rel=\"noreferrer\">OWASP</a>) cheat sheets, under <a href=\"https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF)_Prevention_Cheat_Sheet#Checking_the_Referer_Header\" rel=\"noreferrer\">Cross-Site Request Forgery (CSRF) Prevention Cheat Sheet</a> it mentions about importance of <strong>referer</strong> header.</p>\n\n<blockquote>\n  <p>More importantly for this recommended Same Origin check, a number of HTTP request headers can't be set by JavaScript because they are on the 'forbidden' headers list. Only the browsers themselves can set values for these headers, making them more trustworthy because not even an XSS vulnerability can be used to modify them.</p>\n  \n  <p>The Source Origin check recommended here relies on three of these\n  protected headers: Origin, Referer, and Host, making it a pretty\n  strong CSRF defense all on its own.</p>\n</blockquote>\n\n<p>You can refer <a href=\"https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name\" rel=\"noreferrer\">Forbidden header list here</a>. User agent(ie:browser) has the full control over these headers not the user.</p>\n"}],"owner":{"account_id":58485,"reputation":2081,"user_id":175086,"accept_rate":53,"display_name":"shane"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169985,"favorite_count":0,"down_vote_count":0,"up_vote_count":158,"accepted_answer_id":2648995,"answer_count":4,"score":158,"last_activity_date":1675371257,"creation_date":1271365683,"question_id":2648984,"body_markdown":"I need to log URLs that are linking to my site in a Java Servlet.","title":"HttpServletRequest - how to obtain the referring URL?","body":"<p>I need to log URLs that are linking to my site in a Java Servlet.</p>\n"},{"tags":["java","maven","quarkus","jacoco","maven-surefire-plugin"],"answers":[{"tags":[],"owner":{"account_id":3568344,"reputation":645,"user_id":2979325,"display_name":"Serkan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675371029,"creation_date":1675371029,"answer_id":75328795,"question_id":75181872,"body_markdown":"You need to add an empty beans.xml in /src/main/resources/META-INF, so that Quarkus can scan external jars. ","title":"Quarkus Jacoco coverage not working when code and unit tests are in different modules","body":"<p>You need to add an empty beans.xml in /src/main/resources/META-INF, so that Quarkus can scan external jars.</p>\n"}],"owner":{"account_id":13301008,"reputation":73,"user_id":9602528,"display_name":"XuBo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":731,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675371029,"creation_date":1674205865,"question_id":75181872,"body_markdown":"In my Quarkus app I have 2 modules, `module-api` and `module-impl`. Unit tests for both modules are in `module-impl`. When I run `mvn verify` the report only contains coverage for code in the `module-impl`. Code in `module-api` is at 0% even though I have unit tests for it.\r\n\r\nHowever, if I move api tests from `module-impl` to `module-api`, then I will get correct coverage of the `module-api` code. Why isnt it working when I have all the tests in a single module?\r\n\r\nI have followed the official guide: https://quarkus.io/guides/tests-with-coverage#coverage-for-tests-not-using-quarkustest\r\n\r\nProject structure:\r\n\r\n    |- pom.xml (root)\r\n    |\r\n    |-- module-api\r\n    |--- src\r\n    |---- main\r\n    |--- pom.xml\r\n    |\r\n    |-- module-impl\r\n    |--- src\r\n    |---- main\r\n    |---- test\r\n    |--- pom.xml\r\n\r\n**pom.xml (root)**\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\r\n             xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jacoco-demo4&lt;/artifactId&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;modules&gt;\r\n            &lt;module&gt;module-api&lt;/module&gt;\r\n            &lt;module&gt;module-impl&lt;/module&gt;\r\n        &lt;/modules&gt;\r\n        &lt;properties&gt;\r\n            &lt;compiler-plugin.version&gt;3.10.1&lt;/compiler-plugin.version&gt;\r\n            &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n            &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\r\n            &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\r\n            &lt;quarkus.platform.version&gt;2.15.3.Final&lt;/quarkus.platform.version&gt;\r\n            &lt;skipITs&gt;true&lt;/skipITs&gt;\r\n            &lt;surefire-plugin.version&gt;3.0.0-M7&lt;/surefire-plugin.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\r\n                    &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-jacoco&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n                    &lt;extensions&gt;true&lt;/extensions&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;build&lt;/goal&gt;\r\n                                &lt;goal&gt;generate-code&lt;/goal&gt;\r\n                                &lt;goal&gt;generate-code-tests&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;compilerArgs&gt;\r\n                            &lt;arg&gt;-parameters&lt;/arg&gt;\r\n                        &lt;/compilerArgs&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;systemPropertyVariables&gt;\r\n                            &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n                            &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\r\n                        &lt;/systemPropertyVariables&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                                &lt;goal&gt;verify&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;systemPropertyVariables&gt;\r\n                                    &lt;native.image.path&gt;${project.build.directory}/${project.build.finalName}-runner\r\n                                    &lt;/native.image.path&gt;\r\n                                    &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n                                    &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\r\n                                &lt;/systemPropertyVariables&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n        &lt;profiles&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;native&lt;/id&gt;\r\n                &lt;activation&gt;\r\n                    &lt;property&gt;\r\n                        &lt;name&gt;native&lt;/name&gt;\r\n                    &lt;/property&gt;\r\n                &lt;/activation&gt;\r\n                &lt;properties&gt;\r\n                    &lt;skipITs&gt;false&lt;/skipITs&gt;\r\n                    &lt;quarkus.package.type&gt;native&lt;/quarkus.package.type&gt;\r\n                &lt;/properties&gt;\r\n            &lt;/profile&gt;\r\n        &lt;/profiles&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n**pom.xml (module-api)**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;jacoco-demo4&lt;/artifactId&gt;\r\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;artifactId&gt;module-api&lt;/artifactId&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n**pom.xml (module-impl)**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;jacoco-demo4&lt;/artifactId&gt;\r\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;artifactId&gt;module-impl&lt;/artifactId&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n                &lt;artifactId&gt;module-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${project.version}&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;","title":"Quarkus Jacoco coverage not working when code and unit tests are in different modules","body":"<p>In my Quarkus app I have 2 modules, <code>module-api</code> and <code>module-impl</code>. Unit tests for both modules are in <code>module-impl</code>. When I run <code>mvn verify</code> the report only contains coverage for code in the <code>module-impl</code>. Code in <code>module-api</code> is at 0% even though I have unit tests for it.</p>\n<p>However, if I move api tests from <code>module-impl</code> to <code>module-api</code>, then I will get correct coverage of the <code>module-api</code> code. Why isnt it working when I have all the tests in a single module?</p>\n<p>I have followed the official guide: <a href=\"https://quarkus.io/guides/tests-with-coverage#coverage-for-tests-not-using-quarkustest\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/tests-with-coverage#coverage-for-tests-not-using-quarkustest</a></p>\n<p>Project structure:</p>\n<pre><code>|- pom.xml (root)\n|\n|-- module-api\n|--- src\n|---- main\n|--- pom.xml\n|\n|-- module-impl\n|--- src\n|---- main\n|---- test\n|--- pom.xml\n</code></pre>\n<p><strong>pom.xml (root)</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\n         xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-demo4&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;modules&gt;\n        &lt;module&gt;module-api&lt;/module&gt;\n        &lt;module&gt;module-impl&lt;/module&gt;\n    &lt;/modules&gt;\n    &lt;properties&gt;\n        &lt;compiler-plugin.version&gt;3.10.1&lt;/compiler-plugin.version&gt;\n        &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\n        &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\n        &lt;quarkus.platform.version&gt;2.15.3.Final&lt;/quarkus.platform.version&gt;\n        &lt;skipITs&gt;true&lt;/skipITs&gt;\n        &lt;surefire-plugin.version&gt;3.0.0-M7&lt;/surefire-plugin.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n                &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\n                &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-jacoco&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n                &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n                &lt;extensions&gt;true&lt;/extensions&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build&lt;/goal&gt;\n                            &lt;goal&gt;generate-code&lt;/goal&gt;\n                            &lt;goal&gt;generate-code-tests&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;arg&gt;-parameters&lt;/arg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;systemPropertyVariables&gt;\n                        &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n                        &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\n                    &lt;/systemPropertyVariables&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\n                            &lt;goal&gt;verify&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;systemPropertyVariables&gt;\n                                &lt;native.image.path&gt;${project.build.directory}/${project.build.finalName}-runner\n                                &lt;/native.image.path&gt;\n                                &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n                                &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\n                            &lt;/systemPropertyVariables&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;native&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;property&gt;\n                    &lt;name&gt;native&lt;/name&gt;\n                &lt;/property&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;skipITs&gt;false&lt;/skipITs&gt;\n                &lt;quarkus.package.type&gt;native&lt;/quarkus.package.type&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>pom.xml (module-api)</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;jacoco-demo4&lt;/artifactId&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;module-api&lt;/artifactId&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>pom.xml (module-impl)</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;jacoco-demo4&lt;/artifactId&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;module-impl&lt;/artifactId&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\n            &lt;artifactId&gt;module-api&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","eclipse","shortcut","launch"],"answers":[{"tags":[],"owner":{"account_id":57077,"reputation":39235,"user_id":170974,"accept_rate":70,"display_name":"tangens"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1266067976,"creation_date":1266067976,"answer_id":2257701,"question_id":2257692,"body_markdown":"You can configure your launch behaviour so &lt;kbd&gt;Ctrl&lt;/kbd&gt;-&lt;kbd&gt;F11&lt;/kbd&gt; will launch the last launched application again, regardless of your current editor selection.\r\n\r\nLook at &quot;Run/Debug&quot; - &quot;Launching&quot; within the eclipse preferences.","title":"Eclipse shortcut to run a class","body":"<p>You can configure your launch behaviour so <kbd>Ctrl</kbd>-<kbd>F11</kbd> will launch the last launched application again, regardless of your current editor selection.</p>\n\n<p>Look at \"Run/Debug\" - \"Launching\" within the eclipse preferences.</p>\n"},{"tags":[],"owner":{"account_id":96101,"reputation":3895,"user_id":261378,"accept_rate":75,"display_name":"Verhagen"},"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1533969317,"creation_date":1266073642,"answer_id":2257979,"question_id":2257692,"body_markdown":" - Open the workspace preferences by the menu: `Window &gt; Preferences`\r\n - Select from the tree: `Run/Debug &gt; Launching`\r\n - Now the `Launching` preferences are seen.\r\n - At the bottom there is `Launch Operation`\r\n - Use the option `Always launch the previously launched application`\r\n","title":"Eclipse shortcut to run a class","body":"<ul>\n<li>Open the workspace preferences by the menu: <code>Window &gt; Preferences</code></li>\n<li>Select from the tree: <code>Run/Debug &gt; Launching</code></li>\n<li>Now the <code>Launching</code> preferences are seen.</li>\n<li>At the bottom there is <code>Launch Operation</code></li>\n<li>Use the option <code>Always launch the previously launched application</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":40058,"reputation":18491,"user_id":115890,"accept_rate":76,"display_name":"ibrahimyilmaz"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1266073959,"creation_date":1266073959,"answer_id":2257995,"question_id":2257692,"body_markdown":"alt+shift+x+J  Rocks","title":"Eclipse shortcut to run a class","body":"<p>alt+shift+x+J  Rocks</p>\n"},{"tags":[],"owner":{"account_id":31142,"reputation":28734,"user_id":85306,"accept_rate":94,"display_name":"Jherico"},"down_vote_count":3,"up_vote_count":6,"is_accepted":true,"score":3,"last_activity_date":1266089090,"creation_date":1266089090,"answer_id":2258724,"question_id":2257692,"body_markdown":"You should put in a feature request in the eclipse bug tracker (or vote up an existing equivalent feature request) or code it yourself.","title":"Eclipse shortcut to run a class","body":"<p>You should put in a feature request in the eclipse bug tracker (or vote up an existing equivalent feature request) or code it yourself.</p>\n"},{"tags":[],"owner":{"account_id":183038,"reputation":43,"user_id":418172,"accept_rate":60,"display_name":"Faboo03"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1311236440,"creation_date":1311236440,"answer_id":6773156,"question_id":2257692,"body_markdown":"I cannot this the answer here but : CTRL+SHIFT+T do apparently exactly what you want! :) Maybe it&#39;s because you code it by yourself by time...\r\n\r\nWatch here: http://eclipse.dzone.com/news/effective-eclipse-shortcut-key for more.\r\n","title":"Eclipse shortcut to run a class","body":"<p>I cannot this the answer here but : CTRL+SHIFT+T do apparently exactly what you want! :) Maybe it's because you code it by yourself by time...</p>\n\n<p>Watch here: <a href=\"http://eclipse.dzone.com/news/effective-eclipse-shortcut-key\" rel=\"nofollow\">http://eclipse.dzone.com/news/effective-eclipse-shortcut-key</a> for more.</p>\n"},{"tags":[],"owner":{"account_id":8323743,"reputation":1749,"user_id":6254435,"display_name":"Dan Ortega"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1461647230,"creation_date":1461647230,"answer_id":36855678,"question_id":2257692,"body_markdown":"Just use Ctrl + F11. (This is the standard keyboard shortcut to run the class you are working on)\r\n\r\nI wish this is what you are looking for... buddy.\r\n","title":"Eclipse shortcut to run a class","body":"<p>Just use Ctrl + F11. (This is the standard keyboard shortcut to run the class you are working on)</p>\n\n<p>I wish this is what you are looking for... buddy.</p>\n"},{"tags":[],"owner":{"account_id":1719857,"reputation":11,"user_id":1576065,"display_name":"xentaros"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467216429,"creation_date":1467216429,"answer_id":38104882,"question_id":2257692,"body_markdown":"If you&#39;ve added these classes to your favorite run configurations (available from the run/debug toolbar buttons as &quot;Organize Favorites...&quot;), then the shortcut key combo is Alt+R,T,1 to run your first favorite, Alt+R,T,2 to run your second, etc. Alt+R,H,# works for debug configs.","title":"Eclipse shortcut to run a class","body":"<p>If you've added these classes to your favorite run configurations (available from the run/debug toolbar buttons as \"Organize Favorites...\"), then the shortcut key combo is Alt+R,T,1 to run your first favorite, Alt+R,T,2 to run your second, etc. Alt+R,H,# works for debug configs.</p>\n"},{"tags":[],"owner":{"account_id":5747534,"reputation":717,"user_id":4538337,"accept_rate":94,"display_name":"Mayur Kharche"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559882688,"creation_date":1559882688,"answer_id":56488078,"question_id":2257692,"body_markdown":"I faced this problem in eclipse too. I have customized the configuration for me.\r\n\r\nWindows -&gt; preferances -&gt; keys\r\n\r\nSearch for your configuration eg &quot;Run Java Application&quot; or just look for its icon.\r\n\r\nSelect it\r\n\r\nand below in the binding field press keyboard keys which you want to add a shortcut for this configuration eg. ctrl + shift + T\r\n\r\nand Apply\r\n\r\nYou are good to go use the same shortcut keys to whenever you need it.","title":"Eclipse shortcut to run a class","body":"<p>I faced this problem in eclipse too. I have customized the configuration for me.</p>\n\n<p>Windows -> preferances -> keys</p>\n\n<p>Search for your configuration eg \"Run Java Application\" or just look for its icon.</p>\n\n<p>Select it</p>\n\n<p>and below in the binding field press keyboard keys which you want to add a shortcut for this configuration eg. ctrl + shift + T</p>\n\n<p>and Apply</p>\n\n<p>You are good to go use the same shortcut keys to whenever you need it.</p>\n"},{"tags":[],"owner":{"account_id":16416443,"reputation":41,"user_id":11858526,"display_name":"TuringGR"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1572865140,"creation_date":1572865140,"answer_id":58692027,"question_id":2257692,"body_markdown":"You can go Window -&gt; Preferences -&gt; General -&gt; Key and bind anything you want!I hope it helps!","title":"Eclipse shortcut to run a class","body":"<p>You can go Window -> Preferences -> General -> Key and bind anything you want!I hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":15928879,"reputation":11,"user_id":11493809,"display_name":"ilyas naghiyev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604141292,"creation_date":1604141292,"answer_id":64620893,"question_id":2257692,"body_markdown":"on Windows machine \r\nctrl+Fn F11            ---        running \r\nctrl+Fn+Shift F11      ---        debugging","title":"Eclipse shortcut to run a class","body":"<p>on Windows machine\nctrl+Fn F11            ---        running\nctrl+Fn+Shift F11      ---        debugging</p>\n"},{"tags":[],"owner":{"account_id":20893541,"reputation":31,"user_id":15348365,"display_name":"Joydeep Das"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1615129366,"creation_date":1615129366,"answer_id":66517900,"question_id":2257692,"body_markdown":"It is **Ctrl+F11**\r\n\r\nCtrl+Shift+X or Ctrl+Shift+J didn&#39;t worked for me!","title":"Eclipse shortcut to run a class","body":"<p>It is <strong>Ctrl+F11</strong></p>\n<p>Ctrl+Shift+X or Ctrl+Shift+J didn't worked for me!</p>\n"},{"tags":[],"owner":{"account_id":16601830,"reputation":11,"user_id":11997259,"display_name":"krishna prasad peram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621708056,"creation_date":1621708056,"answer_id":67652908,"question_id":2257692,"body_markdown":"If you are someone like me who wants to create a shortcut to run a class/program in java directly, you can create your own preferable shortcut in **ECLIPSE**!\r\n\r\n****Follow these steps:****\r\n\r\n`Window` &gt; `Preferences` &gt; `General` &gt; `Keys`\r\n\r\n 1. Select **run** from `command` column \r\n 2. Enter your own shortcut in `Binding` section\r\n 3. **Apply and close!!**\r\n\r\n\r\n**WARNING**: Make sure you don&#39;t create a shortcut which is already assigned for a different task! \r\n\r\n","title":"Eclipse shortcut to run a class","body":"<p>If you are someone like me who wants to create a shortcut to run a class/program in java directly, you can create your own preferable shortcut in <strong>ECLIPSE</strong>!</p>\n<p><strong><strong>Follow these steps:</strong></strong></p>\n<p><code>Window</code> &gt; <code>Preferences</code> &gt; <code>General</code> &gt; <code>Keys</code></p>\n<ol>\n<li>Select <strong>run</strong> from <code>command</code> column</li>\n<li>Enter your own shortcut in <code>Binding</code> section</li>\n<li><strong>Apply and close!!</strong></li>\n</ol>\n<p><strong>WARNING</strong>: Make sure you don't create a shortcut which is already assigned for a different task!</p>\n"},{"tags":[],"owner":{"account_id":23816688,"reputation":1,"user_id":17824855,"display_name":"Olivier Juin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675370970,"creation_date":1675370698,"answer_id":75328737,"question_id":2257692,"body_markdown":"Just create an &quot;External tool configuration&quot; instead of a standard configuration for the class you want to run, and assign a shortcut key to &quot;Run last launched external Tool&quot;.\r\n\r\nOf course, there shall be no other external tool configuration.\r\n\r\nEven if other java programs have been launched, or the current class contains a main() method, hitting the shortcut key will always run the same configured class.","title":"Eclipse shortcut to run a class","body":"<p>Just create an &quot;External tool configuration&quot; instead of a standard configuration for the class you want to run, and assign a shortcut key to &quot;Run last launched external Tool&quot;.</p>\n<p>Of course, there shall be no other external tool configuration.</p>\n<p>Even if other java programs have been launched, or the current class contains a main() method, hitting the shortcut key will always run the same configured class.</p>\n"}],"owner":{"account_id":61288,"reputation":1217,"user_id":182737,"accept_rate":70,"display_name":"Frank Meulenaar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66345,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":2258724,"answer_count":13,"score":30,"last_activity_date":1675370970,"creation_date":1266067860,"question_id":2257692,"body_markdown":"I have an Eclipse project where I often launch the same java class. I have added my run configuration to the favorites menu, but to launch it I still need to click on the run-drop-down menu and click the icon - is there any way to associate a shortcut to this? When I searched for it I got lost in all the plugins &amp; other things which seemed to be not so simple.\r\n\r\n\r\nedit: Let me clarify, I want something I can type the moment I start eclipse, regardless of what page I&#39;m viewing, so no &quot;run last&quot; or &quot;run current&quot;; I want F12 to link to &quot;launch foo.bar.MainClass&quot;.","title":"Eclipse shortcut to run a class","body":"<p>I have an Eclipse project where I often launch the same java class. I have added my run configuration to the favorites menu, but to launch it I still need to click on the run-drop-down menu and click the icon - is there any way to associate a shortcut to this? When I searched for it I got lost in all the plugins &amp; other things which seemed to be not so simple.</p>\n\n<p>edit: Let me clarify, I want something I can type the moment I start eclipse, regardless of what page I'm viewing, so no \"run last\" or \"run current\"; I want F12 to link to \"launch foo.bar.MainClass\".</p>\n"},{"tags":["java","overloading","log4j2"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675359519,"post_id":75326876,"comment_id":132917215,"body_markdown":"There&#39;s something wrong with the `logAtLevel` call (a missing parenthesis). I suspect I know where it belongs, but it suggests that you&#39;re not showing us exactly the code that you&#39;re executing. Please [edit] your question to fix that.","body":"There&#39;s something wrong with the <code>logAtLevel</code> call (a missing parenthesis). I suspect I know where it belongs, but it suggests that you&#39;re not showing us exactly the code that you&#39;re executing. Please <a href=\"https://stackoverflow.com/posts/75326876/edit\">edit</a> your question to fix that."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1675359727,"post_id":75326876,"comment_id":132917288,"body_markdown":"Use `logger.log(priority, messageSupplier.get());` and `logger.log(priority, messageSupplier.get(), thrown);`. Currently, it&#39;s using `messageSupplier.toString()` and with this update, it will use `messageSupplier.get().toString()` giving you the desired result.","body":"Use <code>logger.log(priority, messageSupplier.get());</code> and <code>logger.log(priority, messageSupplier.get(), thrown);</code>. Currently, it&#39;s using <code>messageSupplier.toString()</code> and with this update, it will use <code>messageSupplier.get().toString()</code> giving you the desired result."},{"owner":{"account_id":27127357,"reputation":73,"user_id":20670147,"display_name":"leuchtstoffratte"},"score":0,"creation_date":1675360242,"post_id":75326876,"comment_id":132917462,"body_markdown":"@JoachimSauer: Thanks for the catch. I did not want to copy company code to stackO and retyped it.","body":"@JoachimSauer: Thanks for the catch. I did not want to copy company code to stackO and retyped it."},{"owner":{"account_id":27127357,"reputation":73,"user_id":20670147,"display_name":"leuchtstoffratte"},"score":0,"creation_date":1675360335,"post_id":75326876,"comment_id":132917495,"body_markdown":"@ArvindKumarAvinash: I discarded this approach since it would defeat the benefit of the lazy evaluation of the log-message.","body":"@ArvindKumarAvinash: I discarded this approach since it would defeat the benefit of the lazy evaluation of the log-message."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1675360482,"post_id":75326876,"comment_id":132917550,"body_markdown":"@leuchtstoffratte No, it will still be evaluated lazily.","body":"@leuchtstoffratte No, it will still be evaluated lazily."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1675361312,"post_id":75326876,"comment_id":132917822,"body_markdown":"*&quot;something or other: &lt;object.toString()&gt;&quot; however I got &quot;lambda@1223454&quot; instead.* to be strict, this is exactly what you get - lambda#toString(). Since you are wrapping that, you can try to cast it again (without any additional work ). I wonder if it will work then.","body":"<i>&quot;something or other: &lt;object.toString()&gt;&quot; however I got &quot;lambda@1223454&quot; instead.</i> to be strict, this is exactly what you get - lambda#toString(). Since you are wrapping that, you can try to cast it again (without any additional work ). I wonder if it will work then."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1675361427,"post_id":75326876,"comment_id":132917855,"body_markdown":"Maybe you are not using that version of Logger you think you do :)","body":"Maybe you are not using that version of Logger you think you do :)"},{"owner":{"account_id":27127357,"reputation":73,"user_id":20670147,"display_name":"leuchtstoffratte"},"score":0,"creation_date":1675362065,"post_id":75326876,"comment_id":132918028,"body_markdown":"Eclipse gives the method as `void org.apache.logging.log4j.Logger.log(Level level, Object message)` if I use the code as is and `void org.apache.logging.log4j.Logger.log(Level level, String message)` if I append a get() as Arvind suggested.","body":"Eclipse gives the method as <code>void org.apache.logging.log4j.Logger.log(Level level, Object message)</code> if I use the code as is and <code>void org.apache.logging.log4j.Logger.log(Level level, String message)</code> if I append a get() as Arvind suggested."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1675362133,"post_id":75326876,"comment_id":132918048,"body_markdown":"but be aware that `get()` will be evaluated when (before) the `log()` method is called, no matter if logging is enabled or not for given `Level` - that is, NOT lazy! In Eclipse you can check which `Logger` is being used, from which Library (seems like an older version, based on API doc)","body":"but be aware that <code>get()</code> will be evaluated when (before) the <code>log()</code> method is called, no matter if logging is enabled or not for given <code>Level</code> - that is, NOT lazy! In Eclipse you can check which <code>Logger</code> is being used, from which Library (seems like an older version, based on API doc)"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675362326,"creation_date":1675362326,"answer_id":75327456,"question_id":75326876,"body_markdown":"Doing a level lookup for every call, when your intent is to avoid every nanosecond for levels that don&#39;t matter, is probably something you need to reconsider.\r\n\r\nAt any rate, there is nothing immediately obvious about your snippet that would explain what you observe. Thus, let&#39;s get into debugging it, and likely causes.\r\n\r\n1. The code you are running isn&#39;t the code you wrote. For example, because you haven&#39;t (re)compiled.\r\n\r\n2. `logger.log` is overloaded, and older versions of slf4j exist that contain only the &#39;object&#39; variant, which just calls toString(), which would lead to precisely the behaviour you are now witnessing.\r\n\r\nYou can do some debugging on both of these problems by applying the following trick:\r\n\r\n* Add `System.out.println(TheClassThisCodeIsIn.class.getResource(&quot;TheClassThisCodeIsIn.class&quot;));` - this will tell you _exactly_ where the class file is at.\r\n* Then use `javap -v -c path/to/that/file.class` and check the actual call to logger.log - is the &#39;signature&#39; that it links to the `Supplier` variant or the `Object` variant?\r\n\r\nThe different effects and what it means:\r\n\r\n* The sysout call isn&#39;t showing up. Then you aren&#39;t running the code you are looking at, and you need to investigate your toolstack. How are you compiling it, because it&#39;s not working.\r\n* The javap output shows that the &#39;Object&#39; variant is invoked. In which case __the compilation step__ is using an old version of log4j2 in its classpath. It&#39;s not about the slf4j version that exists at runtime, it&#39;s what the compiler is using, as that determines which overload is chosen.\r\n* Everything looks fine and yet you are still seeing `lambda@...` - then I would start suspecting that this is the _actual output_ of your lambda code somehow, or something really, really wonky is going on. The only things I can think of that get you here are ridiculously exotic, not worth mentioning.\r\n","title":"Method resolution during logging: Why is ()-&gt;String.format(...) not recoginzed as Supplier&lt;String&gt;?","body":"<p>Doing a level lookup for every call, when your intent is to avoid every nanosecond for levels that don't matter, is probably something you need to reconsider.</p>\n<p>At any rate, there is nothing immediately obvious about your snippet that would explain what you observe. Thus, let's get into debugging it, and likely causes.</p>\n<ol>\n<li><p>The code you are running isn't the code you wrote. For example, because you haven't (re)compiled.</p>\n</li>\n<li><p><code>logger.log</code> is overloaded, and older versions of slf4j exist that contain only the 'object' variant, which just calls toString(), which would lead to precisely the behaviour you are now witnessing.</p>\n</li>\n</ol>\n<p>You can do some debugging on both of these problems by applying the following trick:</p>\n<ul>\n<li>Add <code>System.out.println(TheClassThisCodeIsIn.class.getResource(&quot;TheClassThisCodeIsIn.class&quot;));</code> - this will tell you <em>exactly</em> where the class file is at.</li>\n<li>Then use <code>javap -v -c path/to/that/file.class</code> and check the actual call to logger.log - is the 'signature' that it links to the <code>Supplier</code> variant or the <code>Object</code> variant?</li>\n</ul>\n<p>The different effects and what it means:</p>\n<ul>\n<li>The sysout call isn't showing up. Then you aren't running the code you are looking at, and you need to investigate your toolstack. How are you compiling it, because it's not working.</li>\n<li>The javap output shows that the 'Object' variant is invoked. In which case <strong>the compilation step</strong> is using an old version of log4j2 in its classpath. It's not about the slf4j version that exists at runtime, it's what the compiler is using, as that determines which overload is chosen.</li>\n<li>Everything looks fine and yet you are still seeing <code>lambda@...</code> - then I would start suspecting that this is the <em>actual output</em> of your lambda code somehow, or something really, really wonky is going on. The only things I can think of that get you here are ridiculously exotic, not worth mentioning.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675370797,"creation_date":1675370797,"answer_id":75328758,"question_id":75326876,"body_markdown":"Your `Supplier` is not Log4j2&#39;s `Supplier`!\r\n\r\n[`java.util.function.Supplier`](https://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html) was introduced in Java 8. At around the same time (version 2.4, cf. [LOG4J2-599](https://issues.apache.org/jira/browse/LOG4J2-599)) Log4j2 introduced [`org.apache.logging.log4j.util.Supplier`](https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/util/Supplier.html) so that the library can be used on Java 7.\r\n\r\nThat is why your code does not call `log(Level, Supplier&lt;?&gt;, Throwable)` but `log(Level, Object, Throwable)` and you end up with `Supplier#toString()` being logged instead of `Supplier#get()`.\r\n\r\nThis is probably something that should change and I filed a wish list bug about it (cf. [#1262](https://github.com/apache/logging-log4j2/issues/1262)).\r\n\r\n**Remark:** Wrapping well established logging APIs like Log4j2 API and SLF4J into custom wrappers is not a good idea (cf. [this question](https://stackoverflow.com/q/75256959/11748454)). While it is not rocket science to write a good wrapper, there are many details you should consider. For example your wrapper breaks location information.","title":"Method resolution during logging: Why is ()-&gt;String.format(...) not recoginzed as Supplier&lt;String&gt;?","body":"<p>Your <code>Supplier</code> is not Log4j2's <code>Supplier</code>!</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html\" rel=\"nofollow noreferrer\"><code>java.util.function.Supplier</code></a> was introduced in Java 8. At around the same time (version 2.4, cf. <a href=\"https://issues.apache.org/jira/browse/LOG4J2-599\" rel=\"nofollow noreferrer\">LOG4J2-599</a>) Log4j2 introduced <a href=\"https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/util/Supplier.html\" rel=\"nofollow noreferrer\"><code>org.apache.logging.log4j.util.Supplier</code></a> so that the library can be used on Java 7.</p>\n<p>That is why your code does not call <code>log(Level, Supplier&lt;?&gt;, Throwable)</code> but <code>log(Level, Object, Throwable)</code> and you end up with <code>Supplier#toString()</code> being logged instead of <code>Supplier#get()</code>.</p>\n<p>This is probably something that should change and I filed a wish list bug about it (cf. <a href=\"https://github.com/apache/logging-log4j2/issues/1262\" rel=\"nofollow noreferrer\">#1262</a>).</p>\n<p><strong>Remark:</strong> Wrapping well established logging APIs like Log4j2 API and SLF4J into custom wrappers is not a good idea (cf. <a href=\"https://stackoverflow.com/q/75256959/11748454\">this question</a>). While it is not rocket science to write a good wrapper, there are many details you should consider. For example your wrapper breaks location information.</p>\n"}],"owner":{"account_id":27127357,"reputation":73,"user_id":20670147,"display_name":"leuchtstoffratte"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75328758,"answer_count":2,"score":0,"last_activity_date":1675370797,"creation_date":1675359132,"question_id":75326876,"body_markdown":"I have made a call to the log4j-v2-API like this:\r\n\r\n\r\n```\r\nLogger logger = LogManager.getLogger(&quot;MyLogger&quot;);\r\n\r\n/**\r\n * syntactic sugar as part of a facade\r\n */\r\nprivate void logAtLevel(String level, Supplier&lt;String&gt; messageSupplier, Throwable thrown){\r\n      Level priority = Level.toLevel(level, Level.ALL);\r\n      if (null == thrown) {\r\n         logger.log(priority, messageSupplier);\r\n      } else {\r\n         logger.log(priority, messageSupplier, thrown);\r\n      }\r\n\r\n}\r\n\r\n/**\r\n * method calling logger\r\n */\r\nprivate void callLogging(Object value){\r\n   logAtLevel(&quot;Debug&quot;, ()-&gt;String.format(&quot;something or other: %s&quot;, value), null);\r\n\r\n}\r\n```\r\n\r\nMy expectations would have been that the above call creates a log entry `&quot;something or other: &lt;object.toString()&gt;&quot;` however I got `&quot;lambda@1223454&quot;` instead.\r\n\r\nThis suggests to me that the method that was executed is [`log(level, object)`](https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/Logger.html#log-org.apache.logging.log4j.Level-java.lang.Object-) rather than the expected [`log(level, supplier)`](https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/Logger.html#log-org.apache.logging.log4j.Level-org.apache.logging.log4j.util.Supplier-)\r\n\r\n\r\nWhy are the methods resolved the way they are and how can I prevent this (preferably without casting)?","title":"Method resolution during logging: Why is ()-&gt;String.format(...) not recoginzed as Supplier&lt;String&gt;?","body":"<p>I have made a call to the log4j-v2-API like this:</p>\n<pre><code>Logger logger = LogManager.getLogger(&quot;MyLogger&quot;);\n\n/**\n * syntactic sugar as part of a facade\n */\nprivate void logAtLevel(String level, Supplier&lt;String&gt; messageSupplier, Throwable thrown){\n      Level priority = Level.toLevel(level, Level.ALL);\n      if (null == thrown) {\n         logger.log(priority, messageSupplier);\n      } else {\n         logger.log(priority, messageSupplier, thrown);\n      }\n\n}\n\n/**\n * method calling logger\n */\nprivate void callLogging(Object value){\n   logAtLevel(&quot;Debug&quot;, ()-&gt;String.format(&quot;something or other: %s&quot;, value), null);\n\n}\n</code></pre>\n<p>My expectations would have been that the above call creates a log entry <code>&quot;something or other: &lt;object.toString()&gt;&quot;</code> however I got <code>&quot;lambda@1223454&quot;</code> instead.</p>\n<p>This suggests to me that the method that was executed is <a href=\"https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/Logger.html#log-org.apache.logging.log4j.Level-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>log(level, object)</code></a> rather than the expected <a href=\"https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/Logger.html#log-org.apache.logging.log4j.Level-org.apache.logging.log4j.util.Supplier-\" rel=\"nofollow noreferrer\"><code>log(level, supplier)</code></a></p>\n<p>Why are the methods resolved the way they are and how can I prevent this (preferably without casting)?</p>\n"},{"tags":["java","junit5"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1626953746,"post_id":68483928,"comment_id":121031996,"body_markdown":"Which exact JUnit version are you using? How exactly do you start the JUnit test?","body":"Which exact JUnit version are you using? How exactly do you start the JUnit test?"},{"owner":{"account_id":16536700,"reputation":499,"user_id":11948496,"display_name":"MDK"},"score":3,"creation_date":1626957434,"post_id":68483928,"comment_id":121033672,"body_markdown":"[This](https://github.com/junit-team/junit5/issues/2087) github issue discusses the same problem and suggests a few workarounds","body":"<a href=\"https://github.com/junit-team/junit5/issues/2087\" rel=\"nofollow noreferrer\">This</a> github issue discusses the same problem and suggests a few workarounds"},{"owner":{"account_id":1170478,"reputation":2410,"user_id":1147783,"display_name":"laszlok"},"score":0,"creation_date":1651955914,"post_id":68483928,"comment_id":127490604,"body_markdown":"Does this answer your question? [How to fail a test after a timeout is exceeded in JUnit 5?](https://stackoverflow.com/questions/57116801/how-to-fail-a-test-after-a-timeout-is-exceeded-in-junit-5)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/57116801/how-to-fail-a-test-after-a-timeout-is-exceeded-in-junit-5\">How to fail a test after a timeout is exceeded in JUnit 5?</a>"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1652028907,"post_id":68483928,"comment_id":127501471,"body_markdown":"@laszlok I fail to see how this question is a duplicate of that question. The OP is already using `@Timeout` as suggested in the answers to that question.","body":"@laszlok I fail to see how this question is a duplicate of that question. The OP is already using <code>@Timeout</code> as suggested in the answers to that question."},{"owner":{"account_id":1170478,"reputation":2410,"user_id":1147783,"display_name":"laszlok"},"score":0,"creation_date":1652116671,"post_id":68483928,"comment_id":127523252,"body_markdown":"@MarkRotteveel please read the question and its accepted answer more carefully. `@Timeout` is used in the question there, and using it is unsurprisingly _not_ suggested in the answer.","body":"@MarkRotteveel please read the question and its accepted answer more carefully. <code>@Timeout</code> is used in the question there, and using it is unsurprisingly <i>not</i> suggested in the answer."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1652174631,"post_id":68483928,"comment_id":127536519,"body_markdown":"@laszlok I have read the question: question asks what the replacement is for the old JUnit 4 `timeout` **parameter** of the `@Test` annotation (so it mention JUnit 5 `@Timeout` at all), and the accepted answer refers to using `@Timeout` or `assertTimeout` or `assertTimeoutPreemptively()`. Neither that question asks nor its answers answer why `@Timeout` might not be working, and as such it is not a duplicate, even if using `assertTimeout` or `assertTimeoutPreemptively()` would be the solution.","body":"@laszlok I have read the question: question asks what the replacement is for the old JUnit 4 <code>timeout</code> <b>parameter</b> of the <code>@Test</code> annotation (so it mention JUnit 5 <code>@Timeout</code> at all), and the accepted answer refers to using <code>@Timeout</code> or <code>assertTimeout</code> or <code>assertTimeoutPreemptively()</code>. Neither that question asks nor its answers answer why <code>@Timeout</code> might not be working, and as such it is not a duplicate, even if using <code>assertTimeout</code> or <code>assertTimeoutPreemptively()</code> would be the solution."},{"owner":{"account_id":1170478,"reputation":2410,"user_id":1147783,"display_name":"laszlok"},"score":0,"creation_date":1652266122,"post_id":68483928,"comment_id":127563195,"body_markdown":"@MarkRotteveel I guess it depends on your interpretation - mine was that the question asks &quot;how to do exactly the same thing as JUnit 4 @Timeout&quot; and the answer clearly explains that the way to do it is `assertTimeoutPreemptively` (while also mentioning other, similar things that OP might prefer to use). Anyway, since you disagree, I&#39;ve added a substantial answer here now.","body":"@MarkRotteveel I guess it depends on your interpretation - mine was that the question asks &quot;how to do exactly the same thing as JUnit 4 @Timeout&quot; and the answer clearly explains that the way to do it is <code>assertTimeoutPreemptively</code> (while also mentioning other, similar things that OP might prefer to use). Anyway, since you disagree, I&#39;ve added a substantial answer here now."}],"answers":[{"tags":[],"owner":{"account_id":1170478,"reputation":2410,"user_id":1147783,"display_name":"laszlok"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652265731,"creation_date":1652265731,"answer_id":72199622,"question_id":68483928,"body_markdown":"A test configured with the @Timeout annotation will fail if its execution time exceeds a given duration. If the timeout is exceeded, the thread executing the test is interrupted from another thread, and is then expected to complete.\r\n\r\nIn your case, the interrupt does nothing, as you aren&#39;t performing any blocking operations, so your test continues to run forever.\r\n\r\nWhat you can do instead is use one of the `assertTimeoutPreemptively` methods - [see the documentation](https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html). In your example:\r\n\r\n`assertTimeoutPreemptively(Duration.ofSeconds(5), SomeClass::doSomething);`\r\n\r\nDo be aware that this will use a separate thread to execute `SomeClass::doSomething`. It is therefore up to you to ensure that everything you need (for the actual computation in the separate thread, or for subsequent assertions in the main thread) is correctly visible.","title":"JUnit 5, Test not failing despite @Timeout","body":"<p>A test configured with the @Timeout annotation will fail if its execution time exceeds a given duration. If the timeout is exceeded, the thread executing the test is interrupted from another thread, and is then expected to complete.</p>\n<p>In your case, the interrupt does nothing, as you aren't performing any blocking operations, so your test continues to run forever.</p>\n<p>What you can do instead is use one of the <code>assertTimeoutPreemptively</code> methods - <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html\" rel=\"nofollow noreferrer\">see the documentation</a>. In your example:</p>\n<p><code>assertTimeoutPreemptively(Duration.ofSeconds(5), SomeClass::doSomething);</code></p>\n<p>Do be aware that this will use a separate thread to execute <code>SomeClass::doSomething</code>. It is therefore up to you to ensure that everything you need (for the actual computation in the separate thread, or for subsequent assertions in the main thread) is correctly visible.</p>\n"},{"tags":[],"owner":{"account_id":4613621,"reputation":11,"user_id":3740924,"display_name":"chorandrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675370761,"creation_date":1675370761,"answer_id":75328752,"question_id":68483928,"body_markdown":"For me, the code below was the solution. It seems like `Timeout` doesn&#39;t work as expected when a long running computation and the code responsible for halting this computation run in the same thread. \r\n\r\n```java\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.Timeout;\r\n\r\nimport java.util.concurrent.TimeUnit;\r\nimport static org.junit.jupiter.api.Timeout.ThreadMode.SEPARATE_THREAD;\r\n\r\nclass SomeUtilsTest {\r\n\r\n    @Test\r\n    @Timeout(value = 3, unit = TimeUnit.SECONDS, threadMode = SEPARATE_THREAD)\r\n    void testSomething() {\r\n        assertEquals (1, SomeClass.doSomething());\r\n    }\r\n}\r\n```","title":"JUnit 5, Test not failing despite @Timeout","body":"<p>For me, the code below was the solution. It seems like <code>Timeout</code> doesn't work as expected when a long running computation and the code responsible for halting this computation run in the same thread.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.Timeout;\n\nimport java.util.concurrent.TimeUnit;\nimport static org.junit.jupiter.api.Timeout.ThreadMode.SEPARATE_THREAD;\n\nclass SomeUtilsTest {\n\n    @Test\n    @Timeout(value = 3, unit = TimeUnit.SECONDS, threadMode = SEPARATE_THREAD)\n    void testSomething() {\n        assertEquals (1, SomeClass.doSomething());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3333323,"reputation":410,"user_id":2801660,"accept_rate":75,"display_name":"Pradyumn"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1175,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1675370761,"creation_date":1626952911,"question_id":68483928,"body_markdown":"I wonder what I am missing, but my JUnit 5 test with @Timeout is not failing when it should.\r\n\r\nHere is my test class:\r\n\r\n    package tests;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.assertEquals;\r\n    \r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.Timeout;\r\n    \r\n    import main.SomeClass;\r\n    \r\n    class SomeUtilsTest {\r\n    \r\n    \t@Test\r\n    \t@Timeout (5)\r\n    \tvoid testSomething() {\r\n    \t\tassertEquals (1, SomeClass.doSomething());\r\n    \t}\r\n    \r\n    }\r\n\r\nAnd here is the class that I am testing:\r\n\r\n    package main;\r\n    \r\n    public class SomeClass {\r\n    \r\n    \tpublic static Integer doSomething() {\r\n    \t\twhile (true);\r\n    \t}\r\n    \r\n    }\r\n\r\nIt should fail after five seconds, but no matter how long I wait, the test never fails; the program continues to &quot;run&quot;, and I can only manually terminate it.\r\n\r\n\r\n\r\n","title":"JUnit 5, Test not failing despite @Timeout","body":"<p>I wonder what I am missing, but my JUnit 5 test with @Timeout is not failing when it should.</p>\n<p>Here is my test class:</p>\n<pre><code>package tests;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.Timeout;\n\nimport main.SomeClass;\n\nclass SomeUtilsTest {\n\n    @Test\n    @Timeout (5)\n    void testSomething() {\n        assertEquals (1, SomeClass.doSomething());\n    }\n\n}\n</code></pre>\n<p>And here is the class that I am testing:</p>\n<pre><code>package main;\n\npublic class SomeClass {\n\n    public static Integer doSomething() {\n        while (true);\n    }\n\n}\n</code></pre>\n<p>It should fail after five seconds, but no matter how long I wait, the test never fails; the program continues to &quot;run&quot;, and I can only manually terminate it.</p>\n"},{"tags":["java","spring","spring-security","saml","spring-saml"],"answers":[{"tags":[],"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1503408869,"creation_date":1503408869,"answer_id":45819160,"question_id":45798251,"body_markdown":"**Solution**\r\n\r\n**1)** Created a custom SAMLLogoutFilter (**CustomSAMLLogoutFilter**) and i am passing the url of the original request to the **CustomLogoutHandler**:\r\n\r\n    /*\r\n     * To change this license header, choose License Headers in Project Properties.\r\n     * To change this template file, choose Tools | Templates\r\n     * and open the template in the editor.\r\n     */\r\n    package oidc.security;\r\n    \r\n    import java.io.IOException;\r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import org.springframework.security.saml.SAMLLogoutFilter;\r\n    import org.springframework.security.web.authentication.logout.LogoutHandler;\r\n    import org.springframework.security.web.authentication.logout.LogoutSuccessHandler;\r\n    import org.springframework.security.web.authentication.logout.LogoutSuccessHandler;\r\n    \r\n    /**\r\n     *\r\n     * @author GOXR3PLUS\r\n     */\r\n    public class CustomSAMLLogoutFilter extends SAMLLogoutFilter {\r\n    \r\n        private LogoutSuccessHandler logoutSuccessHandler;\r\n    \r\n        public CustomSAMLLogoutFilter(String successUrl, LogoutHandler[] localHandler, LogoutHandler[] globalHandlers) {\r\n            super(successUrl, localHandler, globalHandlers);\r\n        }\r\n    \r\n        public CustomSAMLLogoutFilter(LogoutSuccessHandler logoutSuccessHandler, LogoutHandler[] localHandler, LogoutHandler[] globalHandlers) {\r\n            super(logoutSuccessHandler, localHandler, globalHandlers);\r\n            this.logoutSuccessHandler = logoutSuccessHandler;\r\n        }\r\n    \r\n        @Override\r\n        public void processLogout(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n            super.processLogout(request, response, chain);\r\n    \r\n            //   System.out.println(&quot;Hello from [ CustomSAMLLogoutFilter ] &quot;);\r\n            //Lets print some information here\r\n            System.out.println(&quot;FULL HttpServletRequest URL is : &quot; + getFullURL(request));\r\n    \r\n            //Downcast and pass it as parameter\r\n            ((CustomLogoutSuccessHandler) logoutSuccessHandler).setOriginalURL(getFullURL(request));\r\n            //   System.out.println(&quot;Chao chao from [ CustomSAMLLogoutFilter ] \\n&quot;);\r\n        }\r\n    \r\n        /**\r\n         * Returns the full URL of the HTTPServletRequest\r\n         */\r\n        public static String getFullURL(HttpServletRequest request) {\r\n            StringBuffer requestURL = request.getRequestURL();\r\n            String queryString = request.getQueryString();\r\n    \r\n            if (queryString == null) {\r\n                return requestURL.toString();\r\n            } else {\r\n                return requestURL.append(&#39;?&#39;).append(queryString).toString();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n**2)** The code of the **CustomLogoutHandler** :\r\n\r\n    /*\r\n     * To change this license header, choose License Headers in Project Properties.\r\n     * To change this template file, choose Tools | Templates\r\n     * and open the template in the editor.\r\n     */\r\n    package oidc.security;\r\n    \r\n    import org.springframework.security.core.Authentication;\r\n    import org.springframework.security.web.authentication.logout.LogoutSuccessHandler;\r\n    //import org.springframework.security.web.authentication.logout.SimpleUrlLogoutSuccessHandler;\r\n    \r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    import java.util.List;\r\n    import java.util.regex.Pattern;\r\n    import org.springframework.util.MultiValueMap;\r\n    import org.springframework.web.util.UriComponentsBuilder;\r\n    \r\n    public class CustomLogoutSuccessHandler implements LogoutSuccessHandler {\r\n    \r\n        /**\r\n         * This variable is used in order to keep track of the original URL the user\r\n         * passed before he logged out\r\n         */\r\n        private String originalURL;\r\n    \r\n        @Override\r\n        public void onLogoutSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication) throws IOException, ServletException {\r\n            if (authentication != null &amp;&amp; authentication.getDetails() != null) {\r\n                try {\r\n                    request.getSession().invalidate();\r\n                    System.out.println(&quot;User Successfully Logout&quot;);\r\n                    //you can add more codes here when the user successfully logs out,\r\n                    //such as updating the database for last active.\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            //Set the Server Status\r\n            response.setStatus(HttpServletResponse.SC_OK);\r\n    \r\n            //----------- Choose where to redirect------------------\r\n            System.out.println(&quot;Hello from [ CustomLogoutSuccessHandler ] \\n&quot;);\r\n            System.out.println(&quot;Original URL is : &quot; + originalURL);\r\n    \r\n            //Check if any parameters have been passed\r\n            String redirectURL = null;\r\n            if (originalURL != null) {\r\n    \r\n                try {\r\n                    //Get all the parameters from the url\r\n                    MultiValueMap&lt;String, String&gt; parameters\r\n                            = UriComponentsBuilder.fromUriString(originalURL).build().getQueryParams();\r\n    \r\n                    //--Get the parameter value \r\n                    List&lt;String&gt; value = parameters.get(&quot;redirect&quot;);\r\n                    if (value.size() != 0) { //if it exists\r\n                        redirectURL = value.get(0);\r\n                    }\r\n                } catch (Exception ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            // Decide where to redirect\r\n            System.out.println(&quot; Redirect : &quot; + redirectURL);\r\n            if (redirectURL == null) {\r\n                response.sendRedirect(&quot;/oidc/&quot;);\r\n            } else {\r\n                response.sendRedirect(redirectURL);\r\n            }\r\n        }\r\n    \r\n        public void setOriginalURL(String originalURL) {\r\n            this.originalURL = originalURL;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**3)** On the user-context.xml i changed only two things\r\n\r\n```&lt;!-- Handler for successful logout --&gt;\r\n    &lt;bean id=&quot;successLogoutHandler&quot; class=&quot;oidc.security.CustomLogoutSuccessHandler&quot;&gt;&lt;/bean&gt;```\r\n\r\n   and \r\n\r\n```&lt;!-- Override default logout processing filter with the one processing SAML messages --&gt;\r\n    &lt;bean id=&quot;samlLogoutFilter&quot; class=&quot;oidc.security.CustomSAMLLogoutFilter&quot;&gt;\r\n        &lt;constructor-arg index=&quot;0&quot; ref=&quot;successLogoutHandler&quot;/&gt;\r\n        &lt;constructor-arg index=&quot;1&quot; ref=&quot;logoutHandler&quot;/&gt;\r\n        &lt;constructor-arg index=&quot;2&quot; ref=&quot;logoutHandler&quot;/&gt;\r\n    &lt;/bean&gt;```  \r\n\r\nin order for them to see the new custom java files `java/..../security`\r\n\r\n\r\n---\r\n\r\nFinally case you want to see all the user-context.xml here it is :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!--\r\n      Copyright 2015 The MITRE Corporation \r\n        and the MIT Kerberos and Internet Trust Consortium\r\n      \r\n      Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\r\n      you may not use this file except in compliance with the License.\r\n      You may obtain a copy of the License at\r\n      \r\n        http://www.apache.org/licenses/LICENSE-2.0\r\n      \r\n      Unless required by applicable law or agreed to in writing, software\r\n      distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n      See the License for the specific language governing permissions and\r\n      limitations under the License.\r\n    --&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:security=&quot;http://www.springframework.org/schema/security&quot;\r\n           xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security-3.2.xsd\r\n    \t\thttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.1.xsd\r\n    \t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.1.xsd&quot;\r\n    \r\n           profile=&quot;!local&quot;&gt;\r\n    \r\n    \r\n        &lt;context:property-placeholder location=&quot;classpath:application.oidc.properties&quot;/&gt;\r\n    \r\n        &lt;!-- Enable auto-wiring --&gt;\r\n        &lt;context:annotation-config/&gt;\r\n    \r\n        &lt;!-- Scan for auto-wiring classes in spring saml packages --&gt;\r\n        &lt;context:component-scan base-package=&quot;org.springframework.security.saml&quot;/&gt;\r\n    \r\n        &lt;!-- Unsecured pages --&gt;\r\n        &lt;security:http security=&quot;none&quot; pattern=&quot;/translate-sp-entity-id&quot; create-session=&quot;never&quot;/&gt;\r\n    \r\n        &lt;!-- Secured pages with SAML as entry point --&gt;\r\n        &lt;security:http entry-point-ref=&quot;samlEntryPoint&quot; use-expressions=&quot;true&quot; create-session=&quot;never&quot;&gt;\r\n            &lt;security:intercept-url pattern=&quot;/authorize&quot; access=&quot;hasRole(&#39;ROLE_USER&#39;)&quot; /&gt;\r\n            &lt;security:intercept-url pattern=&quot;/**&quot; access=&quot;permitAll&quot; /&gt;\r\n            &lt;security:custom-filter before=&quot;FIRST&quot; ref=&quot;metadataGeneratorFilter&quot;/&gt;\r\n            &lt;security:custom-filter before=&quot;PRE_AUTH_FILTER&quot; ref=&quot;clientIdFilter&quot;/&gt;\r\n            &lt;security:custom-filter ref=&quot;authRequestFilter&quot; after=&quot;SECURITY_CONTEXT_FILTER&quot; /&gt;\r\n            &lt;security:custom-filter after=&quot;BASIC_AUTH_FILTER&quot; ref=&quot;samlFilter&quot;/&gt;\r\n            &lt;!--&lt;security:anonymous /&gt;--&gt;\r\n            &lt;security:headers&gt;\r\n                &lt;security:frame-options policy=&quot;DENY&quot; /&gt;\r\n            &lt;/security:headers&gt;\r\n            &lt;security:csrf request-matcher-ref=&quot;apiCsrfProtectionMatcher&quot;/&gt;\r\n        &lt;/security:http&gt;\r\n    \r\n        &lt;!-- Logger for SAML messages and events --&gt;\r\n        &lt;bean id=&quot;clientIdFilter&quot; class=&quot;oidc.security.ClientIdFilter&quot;/&gt;\r\n    \r\n        &lt;!-- Filters for processing of SAML messages --&gt;\r\n        &lt;bean id=&quot;samlFilter&quot; class=&quot;org.springframework.security.web.FilterChainProxy&quot;&gt;\r\n            &lt;security:filter-chain-map request-matcher=&quot;ant&quot;&gt;\r\n                &lt;security:filter-chain pattern=&quot;/saml/login/**&quot; filters=&quot;samlEntryPoint&quot;/&gt;\r\n                &lt;security:filter-chain pattern=&quot;/saml/logout/**&quot; filters=&quot;samlLogoutFilter&quot;/&gt;\r\n                &lt;security:filter-chain pattern=&quot;/saml/metadata/**&quot; filters=&quot;metadataDisplayFilter&quot;/&gt;\r\n                &lt;security:filter-chain pattern=&quot;/saml/SSO/**&quot; filters=&quot;samlWebSSOProcessingFilter&quot;/&gt;\r\n                &lt;security:filter-chain pattern=&quot;/saml/SSOHoK/**&quot; filters=&quot;samlWebSSOHoKProcessingFilter&quot;/&gt;\r\n                &lt;security:filter-chain pattern=&quot;/saml/SingleLogout/**&quot; filters=&quot;samlLogoutProcessingFilter&quot;/&gt;\r\n            &lt;/security:filter-chain-map&gt;\r\n        &lt;/bean&gt;\r\n      \r\n      \r\n    \r\n        &lt;!-- Handler deciding where to redirect user after successful login --&gt;\r\n        &lt;bean id=&quot;successRedirectHandler&quot;\r\n              class=&quot;org.springframework.security.web.authentication.SavedRequestAwareAuthenticationSuccessHandler&quot;&gt;\r\n            &lt;property name=&quot;defaultTargetUrl&quot; value=&quot;/&quot;/&gt;\r\n        &lt;/bean&gt;\r\n        \r\n        &lt;!--\r\n        Use the following for interpreting RelayState coming from unsolicited response as redirect URL:\r\n        &lt;bean id=&quot;successRedirectHandler&quot; class=&quot;org.springframework.security.saml.SAMLRelayStateSuccessHandler&quot;&gt;\r\n           &lt;property name=&quot;defaultTargetUrl&quot; value=&quot;/&quot; /&gt;\r\n        &lt;/bean&gt;\r\n        --&gt;\r\n    \r\n        &lt;!-- Handler deciding where to redirect user after failed login --&gt;\r\n        &lt;bean id=&quot;failureRedirectHandler&quot;\r\n              class=&quot;org.springframework.security.web.authentication.SimpleUrlAuthenticationFailureHandler&quot;&gt;\r\n            &lt;property name=&quot;useForward&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;defaultFailureUrl&quot; value=&quot;/error.jsp&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;!-- Handler for successful logout --&gt;\r\n        &lt;bean id=&quot;successLogoutHandler&quot; class=&quot;oidc.security.CustomLogoutSuccessHandler&quot;&gt;&lt;/bean&gt;\r\n      \r\n        &lt;!-- Override default logout processing filter with the one processing SAML messages --&gt;\r\n        &lt;bean id=&quot;samlLogoutFilter&quot; class=&quot;oidc.security.CustomSAMLLogoutFilter&quot;&gt;\r\n            &lt;constructor-arg index=&quot;0&quot; ref=&quot;successLogoutHandler&quot;/&gt;\r\n            &lt;constructor-arg index=&quot;1&quot; ref=&quot;logoutHandler&quot;/&gt;\r\n            &lt;constructor-arg index=&quot;2&quot; ref=&quot;logoutHandler&quot;/&gt;\r\n        &lt;/bean&gt;\r\n        \r\n        &lt;!-- Filter processing incoming logout messages --&gt;\r\n        &lt;!-- First argument determines URL user will be redirected to after successful global logout --&gt;\r\n        &lt;bean id=&quot;samlLogoutProcessingFilter&quot; class=&quot;org.springframework.security.saml.SAMLLogoutProcessingFilter&quot;&gt;\r\n            &lt;constructor-arg index=&quot;0&quot; ref=&quot;successLogoutHandler&quot;/&gt;\r\n            &lt;constructor-arg index=&quot;1&quot; ref=&quot;logoutHandler&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n    \r\n        &lt;security:authentication-manager alias=&quot;authenticationManager&quot;&gt;\r\n            &lt;!-- Register authentication manager for SAML provider --&gt;\r\n            &lt;security:authentication-provider ref=&quot;samlAuthenticationProvider&quot;/&gt;\r\n        &lt;/security:authentication-manager&gt;\r\n    \r\n        &lt;!-- Logger for SAML messages and events --&gt;\r\n        &lt;bean id=&quot;samlLogger&quot; class=&quot;org.springframework.security.saml.log.SAMLDefaultLogger&quot;/&gt;\r\n    \r\n        &lt;bean id=&quot;keyStoreLocator&quot; class=&quot;oidc.saml.KeyStoreLocator&quot;/&gt;\r\n    \r\n        &lt;!-- Central storage of cryptographic keys --&gt;\r\n        &lt;bean id=&quot;keyManager&quot; class=&quot;org.springframework.security.saml.key.JKSKeyManager&quot;&gt;\r\n            &lt;constructor-arg&gt;\r\n                &lt;bean factory-bean=&quot;keyStoreLocator&quot;\r\n                      factory-method=&quot;createKeyStore&quot;&gt;\r\n                    &lt;constructor-arg value=&quot;${idp.entity.id}&quot;/&gt;\r\n                    &lt;constructor-arg value=&quot;${idp.public.certificate}&quot;/&gt;\r\n                    &lt;constructor-arg value=&quot;${sp.entity.id}&quot;/&gt;\r\n                    &lt;constructor-arg value=&quot;${sp.public.certificate}&quot;/&gt;\r\n                    &lt;constructor-arg value=&quot;${sp.private.key}&quot;/&gt;\r\n                    &lt;constructor-arg value=&quot;${sp.passphrase}&quot;/&gt;\r\n                &lt;/bean&gt;\r\n            &lt;/constructor-arg&gt;\r\n            &lt;constructor-arg&gt;\r\n                &lt;map&gt;\r\n                    &lt;entry key=&quot;${sp.entity.id}&quot; value=&quot;${sp.passphrase}&quot;/&gt;\r\n                &lt;/map&gt;\r\n            &lt;/constructor-arg&gt;\r\n            &lt;constructor-arg type=&quot;java.lang.String&quot; value=&quot;${sp.entity.id}&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;!-- Entry point to initialize authentication, default values taken from properties file --&gt;\r\n        &lt;bean id=&quot;samlEntryPoint&quot; class=&quot;oidc.saml.ProxySAMLEntryPoint&quot;/&gt;\r\n    \r\n        &lt;!-- Filter automatically generates default SP metadata --&gt;\r\n        &lt;bean id=&quot;metadataGeneratorFilter&quot; class=&quot;org.springframework.security.saml.metadata.MetadataGeneratorFilter&quot;&gt;\r\n            &lt;constructor-arg&gt;\r\n                &lt;bean class=&quot;org.springframework.security.saml.metadata.MetadataGenerator&quot;&gt;\r\n                    &lt;property name=&quot;entityId&quot; value=&quot;${sp.entity.id}&quot;/&gt;\r\n                    &lt;property name=&quot;entityBaseURL&quot; value=&quot;${sp.entity.base.url}&quot;/&gt;\r\n                    &lt;property name=&quot;extendedMetadata&quot;&gt;\r\n                        &lt;bean class=&quot;org.springframework.security.saml.metadata.ExtendedMetadata&quot;&gt;\r\n                            &lt;property name=&quot;signMetadata&quot; value=&quot;true&quot;/&gt;\r\n                            &lt;property name=&quot;idpDiscoveryEnabled&quot; value=&quot;false&quot;/&gt;\r\n                        &lt;/bean&gt;\r\n                    &lt;/property&gt;\r\n                &lt;/bean&gt;\r\n            &lt;/constructor-arg&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;!-- The filter is waiting for connections on URL suffixed with filterSuffix and presents SP metadata there --&gt;\r\n        &lt;bean id=&quot;metadataDisplayFilter&quot; class=&quot;org.springframework.security.saml.metadata.MetadataDisplayFilter&quot;/&gt;\r\n    \r\n        &lt;bean id=&quot;metadataManager&quot; class=&quot;org.springframework.security.saml.metadata.CachingMetadataManager&quot;&gt;\r\n            &lt;constructor-arg&gt;\r\n                &lt;list&gt;\r\n                    &lt;bean class=&quot;org.springframework.security.saml.metadata.ExtendedMetadataDelegate&quot;&gt;\r\n                        &lt;constructor-arg&gt;\r\n                            &lt;bean class=&quot;org.opensaml.saml2.metadata.provider.HTTPMetadataProvider&quot;&gt;\r\n                                &lt;constructor-arg&gt;\r\n                                    &lt;value type=&quot;java.lang.String&quot;&gt;${idp.metadata.url}&lt;/value&gt;\r\n                                &lt;/constructor-arg&gt;\r\n                                &lt;constructor-arg&gt;\r\n                                    &lt;value type=&quot;int&quot;&gt;30000&lt;/value&gt;\r\n                                &lt;/constructor-arg&gt;\r\n                                &lt;property name=&quot;parserPool&quot; ref=&quot;parserPool&quot;/&gt;\r\n                                &lt;property name=&quot;requireValidMetadata&quot; value=&quot;false&quot;/&gt;\r\n                            &lt;/bean&gt;\r\n                        &lt;/constructor-arg&gt;\r\n                    &lt;/bean&gt;\r\n                &lt;/list&gt;\r\n            &lt;/constructor-arg&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;!-- IDP Metadata configuration - paths to metadata of IDPs in circle of trust is here --&gt;\r\n        &lt;bean class=&quot;org.springframework.security.saml.metadata.ExtendedMetadataDelegate&quot;&gt;\r\n            &lt;constructor-arg ref=&quot;metadataManager&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean id=&quot;defaultSAMLUserDetailsService&quot; class=&quot;oidc.saml.DefaultSAMLUserDetailsService&quot;&gt;\r\n            &lt;constructor-arg value=&quot;${sp.entity.id}&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;!-- SAML Authentication Provider responsible for validating of received SAML messages --&gt;\r\n        &lt;bean id=&quot;samlAuthenticationProvider&quot; class=&quot;oidc.saml.FederatedSAMLAuthenticationProvider&quot;&gt;\r\n            &lt;property name=&quot;userDetails&quot; ref=&quot;defaultSAMLUserDetailsService&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;!-- Provider of default SAML Context --&gt;\r\n        &lt;bean id=&quot;contextProvider&quot; class=&quot;org.springframework.security.saml.context.SAMLContextProviderImpl&quot;/&gt;\r\n    \r\n        &lt;!-- Processing filter for WebSSO profile messages --&gt;\r\n        &lt;bean id=&quot;samlWebSSOProcessingFilter&quot; class=&quot;org.springframework.security.saml.SAMLProcessingFilter&quot;&gt;\r\n            &lt;property name=&quot;authenticationManager&quot; ref=&quot;authenticationManager&quot;/&gt;\r\n            &lt;property name=&quot;authenticationSuccessHandler&quot; ref=&quot;successRedirectHandler&quot;/&gt;\r\n            &lt;property name=&quot;authenticationFailureHandler&quot; ref=&quot;failureRedirectHandler&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;!-- Processing filter for WebSSO Holder-of-Key profile --&gt;\r\n        &lt;bean id=&quot;samlWebSSOHoKProcessingFilter&quot; class=&quot;org.springframework.security.saml.SAMLWebSSOHoKProcessingFilter&quot;&gt;\r\n            &lt;property name=&quot;authenticationManager&quot; ref=&quot;authenticationManager&quot;/&gt;\r\n            &lt;property name=&quot;authenticationSuccessHandler&quot; ref=&quot;successRedirectHandler&quot;/&gt;\r\n            &lt;property name=&quot;authenticationFailureHandler&quot; ref=&quot;failureRedirectHandler&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;!-- Logout handler terminating local session --&gt;\r\n        &lt;bean id=&quot;logoutHandler&quot;\r\n              class=&quot;org.springframework.security.web.authentication.logout.SecurityContextLogoutHandler&quot;&gt;\r\n            &lt;property name=&quot;invalidateHttpSession&quot; value=&quot;false&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;!-- Class loading incoming SAML messages from httpRequest stream --&gt;\r\n        &lt;bean id=&quot;processor&quot; class=&quot;org.springframework.security.saml.processor.SAMLProcessorImpl&quot;&gt;\r\n            &lt;constructor-arg&gt;\r\n                &lt;list&gt;\r\n                    &lt;ref bean=&quot;redirectBinding&quot;/&gt;\r\n                    &lt;ref bean=&quot;postBinding&quot;/&gt;\r\n                    &lt;ref bean=&quot;artifactBinding&quot;/&gt;\r\n                    &lt;ref bean=&quot;soapBinding&quot;/&gt;\r\n                    &lt;ref bean=&quot;paosBinding&quot;/&gt;\r\n                &lt;/list&gt;\r\n            &lt;/constructor-arg&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;!-- SAML 2.0 WebSSO Assertion Consumer --&gt;\r\n        &lt;bean id=&quot;webSSOprofileConsumer&quot; class=&quot;org.springframework.security.saml.websso.WebSSOProfileConsumerImpl&quot;&gt;\r\n            &lt;property name=&quot;maxAuthenticationAge&quot; value=&quot;43200&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;!-- SAML 2.0 Holder-of-Key WebSSO Assertion Consumer --&gt;\r\n        &lt;bean id=&quot;hokWebSSOprofileConsumer&quot; class=&quot;org.springframework.security.saml.websso.WebSSOProfileConsumerHoKImpl&quot;/&gt;\r\n    \r\n        &lt;!-- SAML 2.0 Web SSO profile --&gt;\r\n        &lt;bean id=&quot;webSSOprofile&quot; class=&quot;org.springframework.security.saml.websso.WebSSOProfileImpl&quot;/&gt;\r\n    \r\n        &lt;!-- SAML 2.0 Holder-of-Key Web SSO profile --&gt;\r\n        &lt;bean id=&quot;hokWebSSOProfile&quot; class=&quot;org.springframework.security.saml.websso.WebSSOProfileConsumerHoKImpl&quot;/&gt;\r\n    \r\n        &lt;!-- SAML 2.0 ECP profile --&gt;\r\n        &lt;bean id=&quot;ecpprofile&quot; class=&quot;org.springframework.security.saml.websso.WebSSOProfileECPImpl&quot;/&gt;\r\n    \r\n        &lt;!-- SAML 2.0 Logout Profile --&gt;\r\n        &lt;bean id=&quot;logoutprofile&quot; class=&quot;org.springframework.security.saml.websso.SingleLogoutProfileImpl&quot;/&gt;\r\n    \r\n        &lt;!-- Bindings, encoders and decoders used for creating and parsing messages --&gt;\r\n        &lt;bean id=&quot;postBinding&quot; class=&quot;org.springframework.security.saml.processor.HTTPPostBinding&quot;&gt;\r\n            &lt;constructor-arg ref=&quot;parserPool&quot;/&gt;\r\n            &lt;constructor-arg ref=&quot;velocityEngine&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean id=&quot;redirectBinding&quot; class=&quot;org.springframework.security.saml.processor.HTTPRedirectDeflateBinding&quot;&gt;\r\n            &lt;constructor-arg ref=&quot;parserPool&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean id=&quot;artifactBinding&quot; class=&quot;org.springframework.security.saml.processor.HTTPArtifactBinding&quot;&gt;\r\n            &lt;constructor-arg ref=&quot;parserPool&quot;/&gt;\r\n            &lt;constructor-arg ref=&quot;velocityEngine&quot;/&gt;\r\n            &lt;constructor-arg&gt;\r\n                &lt;bean class=&quot;org.springframework.security.saml.websso.ArtifactResolutionProfileImpl&quot;&gt;\r\n                    &lt;constructor-arg&gt;\r\n                        &lt;bean class=&quot;org.apache.commons.httpclient.HttpClient&quot;&gt;\r\n                            &lt;constructor-arg&gt;\r\n                                &lt;bean class=&quot;org.apache.commons.httpclient.MultiThreadedHttpConnectionManager&quot;/&gt;\r\n                            &lt;/constructor-arg&gt;\r\n                        &lt;/bean&gt;\r\n                    &lt;/constructor-arg&gt;\r\n                    &lt;property name=&quot;processor&quot;&gt;\r\n                        &lt;bean class=&quot;org.springframework.security.saml.processor.SAMLProcessorImpl&quot;&gt;\r\n                            &lt;constructor-arg ref=&quot;soapBinding&quot;/&gt;\r\n                        &lt;/bean&gt;\r\n                    &lt;/property&gt;\r\n                &lt;/bean&gt;\r\n            &lt;/constructor-arg&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean id=&quot;soapBinding&quot; class=&quot;org.springframework.security.saml.processor.HTTPSOAP11Binding&quot;&gt;\r\n            &lt;constructor-arg ref=&quot;parserPool&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean id=&quot;paosBinding&quot; class=&quot;org.springframework.security.saml.processor.HTTPPAOS11Binding&quot;&gt;\r\n            &lt;constructor-arg ref=&quot;parserPool&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;!-- Initialization of OpenSAML library--&gt;\r\n        &lt;bean class=&quot;org.springframework.security.saml.SAMLBootstrap&quot;/&gt;\r\n    \r\n        &lt;!-- Initialization of the velocity engine --&gt;\r\n        &lt;bean id=&quot;velocityEngine&quot; class=&quot;org.springframework.security.saml.util.VelocityFactory&quot; factory-method=&quot;getEngine&quot;/&gt;\r\n    \r\n        &lt;!-- XML parser pool needed for OpenSAML parsing --&gt;\r\n        &lt;bean id=&quot;parserPool&quot; class=&quot;org.opensaml.xml.parse.StaticBasicParserPool&quot; init-method=&quot;initialize&quot;&gt;\r\n            &lt;property name=&quot;builderFeatures&quot;&gt;\r\n                &lt;map&gt;\r\n                    &lt;entry key=&quot;http://apache.org/xml/features/dom/defer-node-expansion&quot; value=&quot;false&quot;/&gt;\r\n                &lt;/map&gt;\r\n            &lt;/property&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean id=&quot;parserPoolHolder&quot; class=&quot;org.springframework.security.saml.parser.ParserPoolHolder&quot;/&gt;\r\n    &lt;/beans&gt;\r\n\r\n\r\n\r\n\r\n","title":"Pass URL Parameters to Spring Security custom LogoutSuccessHandler","body":"<p><strong>Solution</strong></p>\n\n<p><strong>1)</strong> Created a custom SAMLLogoutFilter (<strong>CustomSAMLLogoutFilter</strong>) and i am passing the url of the original request to the <strong>CustomLogoutHandler</strong>:</p>\n\n<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage oidc.security;\n\nimport java.io.IOException;\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport org.springframework.security.saml.SAMLLogoutFilter;\nimport org.springframework.security.web.authentication.logout.LogoutHandler;\nimport org.springframework.security.web.authentication.logout.LogoutSuccessHandler;\nimport org.springframework.security.web.authentication.logout.LogoutSuccessHandler;\n\n/**\n *\n * @author GOXR3PLUS\n */\npublic class CustomSAMLLogoutFilter extends SAMLLogoutFilter {\n\n    private LogoutSuccessHandler logoutSuccessHandler;\n\n    public CustomSAMLLogoutFilter(String successUrl, LogoutHandler[] localHandler, LogoutHandler[] globalHandlers) {\n        super(successUrl, localHandler, globalHandlers);\n    }\n\n    public CustomSAMLLogoutFilter(LogoutSuccessHandler logoutSuccessHandler, LogoutHandler[] localHandler, LogoutHandler[] globalHandlers) {\n        super(logoutSuccessHandler, localHandler, globalHandlers);\n        this.logoutSuccessHandler = logoutSuccessHandler;\n    }\n\n    @Override\n    public void processLogout(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws IOException, ServletException {\n        super.processLogout(request, response, chain);\n\n        //   System.out.println(\"Hello from [ CustomSAMLLogoutFilter ] \");\n        //Lets print some information here\n        System.out.println(\"FULL HttpServletRequest URL is : \" + getFullURL(request));\n\n        //Downcast and pass it as parameter\n        ((CustomLogoutSuccessHandler) logoutSuccessHandler).setOriginalURL(getFullURL(request));\n        //   System.out.println(\"Chao chao from [ CustomSAMLLogoutFilter ] \\n\");\n    }\n\n    /**\n     * Returns the full URL of the HTTPServletRequest\n     */\n    public static String getFullURL(HttpServletRequest request) {\n        StringBuffer requestURL = request.getRequestURL();\n        String queryString = request.getQueryString();\n\n        if (queryString == null) {\n            return requestURL.toString();\n        } else {\n            return requestURL.append('?').append(queryString).toString();\n        }\n    }\n\n}\n</code></pre>\n\n<p><strong>2)</strong> The code of the <strong>CustomLogoutHandler</strong> :</p>\n\n<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage oidc.security;\n\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.web.authentication.logout.LogoutSuccessHandler;\n//import org.springframework.security.web.authentication.logout.SimpleUrlLogoutSuccessHandler;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.List;\nimport java.util.regex.Pattern;\nimport org.springframework.util.MultiValueMap;\nimport org.springframework.web.util.UriComponentsBuilder;\n\npublic class CustomLogoutSuccessHandler implements LogoutSuccessHandler {\n\n    /**\n     * This variable is used in order to keep track of the original URL the user\n     * passed before he logged out\n     */\n    private String originalURL;\n\n    @Override\n    public void onLogoutSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication) throws IOException, ServletException {\n        if (authentication != null &amp;&amp; authentication.getDetails() != null) {\n            try {\n                request.getSession().invalidate();\n                System.out.println(\"User Successfully Logout\");\n                //you can add more codes here when the user successfully logs out,\n                //such as updating the database for last active.\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n\n        //Set the Server Status\n        response.setStatus(HttpServletResponse.SC_OK);\n\n        //----------- Choose where to redirect------------------\n        System.out.println(\"Hello from [ CustomLogoutSuccessHandler ] \\n\");\n        System.out.println(\"Original URL is : \" + originalURL);\n\n        //Check if any parameters have been passed\n        String redirectURL = null;\n        if (originalURL != null) {\n\n            try {\n                //Get all the parameters from the url\n                MultiValueMap&lt;String, String&gt; parameters\n                        = UriComponentsBuilder.fromUriString(originalURL).build().getQueryParams();\n\n                //--Get the parameter value \n                List&lt;String&gt; value = parameters.get(\"redirect\");\n                if (value.size() != 0) { //if it exists\n                    redirectURL = value.get(0);\n                }\n            } catch (Exception ex) {\n                ex.printStackTrace();\n            }\n        }\n\n        // Decide where to redirect\n        System.out.println(\" Redirect : \" + redirectURL);\n        if (redirectURL == null) {\n            response.sendRedirect(\"/oidc/\");\n        } else {\n            response.sendRedirect(redirectURL);\n        }\n    }\n\n    public void setOriginalURL(String originalURL) {\n        this.originalURL = originalURL;\n    }\n\n}\n</code></pre>\n\n<p><strong>3)</strong> On the user-context.xml i changed only two things</p>\n\n<p><code>&lt;!-- Handler for successful logout --&gt;\n    &lt;bean id=\"successLogoutHandler\" class=\"oidc.security.CustomLogoutSuccessHandler\"&gt;&lt;/bean&gt;</code></p>\n\n<p>and </p>\n\n<p><code>&lt;!-- Override default logout processing filter with the one processing SAML messages --&gt;\n    &lt;bean id=\"samlLogoutFilter\" class=\"oidc.security.CustomSAMLLogoutFilter\"&gt;\n        &lt;constructor-arg index=\"0\" ref=\"successLogoutHandler\"/&gt;\n        &lt;constructor-arg index=\"1\" ref=\"logoutHandler\"/&gt;\n        &lt;constructor-arg index=\"2\" ref=\"logoutHandler\"/&gt;\n    &lt;/bean&gt;</code>  </p>\n\n<p>in order for them to see the new custom java files <code>java/..../security</code></p>\n\n<hr>\n\n<p>Finally case you want to see all the user-context.xml here it is :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!--\n  Copyright 2015 The MITRE Corporation \n    and the MIT Kerberos and Internet Trust Consortium\n\n  Licensed under the Apache License, Version 2.0 (the \"License\");\n  you may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an \"AS IS\" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n--&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:security=\"http://www.springframework.org/schema/security\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security-3.2.xsd\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.1.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.1.xsd\"\n\n       profile=\"!local\"&gt;\n\n\n    &lt;context:property-placeholder location=\"classpath:application.oidc.properties\"/&gt;\n\n    &lt;!-- Enable auto-wiring --&gt;\n    &lt;context:annotation-config/&gt;\n\n    &lt;!-- Scan for auto-wiring classes in spring saml packages --&gt;\n    &lt;context:component-scan base-package=\"org.springframework.security.saml\"/&gt;\n\n    &lt;!-- Unsecured pages --&gt;\n    &lt;security:http security=\"none\" pattern=\"/translate-sp-entity-id\" create-session=\"never\"/&gt;\n\n    &lt;!-- Secured pages with SAML as entry point --&gt;\n    &lt;security:http entry-point-ref=\"samlEntryPoint\" use-expressions=\"true\" create-session=\"never\"&gt;\n        &lt;security:intercept-url pattern=\"/authorize\" access=\"hasRole('ROLE_USER')\" /&gt;\n        &lt;security:intercept-url pattern=\"/**\" access=\"permitAll\" /&gt;\n        &lt;security:custom-filter before=\"FIRST\" ref=\"metadataGeneratorFilter\"/&gt;\n        &lt;security:custom-filter before=\"PRE_AUTH_FILTER\" ref=\"clientIdFilter\"/&gt;\n        &lt;security:custom-filter ref=\"authRequestFilter\" after=\"SECURITY_CONTEXT_FILTER\" /&gt;\n        &lt;security:custom-filter after=\"BASIC_AUTH_FILTER\" ref=\"samlFilter\"/&gt;\n        &lt;!--&lt;security:anonymous /&gt;--&gt;\n        &lt;security:headers&gt;\n            &lt;security:frame-options policy=\"DENY\" /&gt;\n        &lt;/security:headers&gt;\n        &lt;security:csrf request-matcher-ref=\"apiCsrfProtectionMatcher\"/&gt;\n    &lt;/security:http&gt;\n\n    &lt;!-- Logger for SAML messages and events --&gt;\n    &lt;bean id=\"clientIdFilter\" class=\"oidc.security.ClientIdFilter\"/&gt;\n\n    &lt;!-- Filters for processing of SAML messages --&gt;\n    &lt;bean id=\"samlFilter\" class=\"org.springframework.security.web.FilterChainProxy\"&gt;\n        &lt;security:filter-chain-map request-matcher=\"ant\"&gt;\n            &lt;security:filter-chain pattern=\"/saml/login/**\" filters=\"samlEntryPoint\"/&gt;\n            &lt;security:filter-chain pattern=\"/saml/logout/**\" filters=\"samlLogoutFilter\"/&gt;\n            &lt;security:filter-chain pattern=\"/saml/metadata/**\" filters=\"metadataDisplayFilter\"/&gt;\n            &lt;security:filter-chain pattern=\"/saml/SSO/**\" filters=\"samlWebSSOProcessingFilter\"/&gt;\n            &lt;security:filter-chain pattern=\"/saml/SSOHoK/**\" filters=\"samlWebSSOHoKProcessingFilter\"/&gt;\n            &lt;security:filter-chain pattern=\"/saml/SingleLogout/**\" filters=\"samlLogoutProcessingFilter\"/&gt;\n        &lt;/security:filter-chain-map&gt;\n    &lt;/bean&gt;\n\n\n\n    &lt;!-- Handler deciding where to redirect user after successful login --&gt;\n    &lt;bean id=\"successRedirectHandler\"\n          class=\"org.springframework.security.web.authentication.SavedRequestAwareAuthenticationSuccessHandler\"&gt;\n        &lt;property name=\"defaultTargetUrl\" value=\"/\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;!--\n    Use the following for interpreting RelayState coming from unsolicited response as redirect URL:\n    &lt;bean id=\"successRedirectHandler\" class=\"org.springframework.security.saml.SAMLRelayStateSuccessHandler\"&gt;\n       &lt;property name=\"defaultTargetUrl\" value=\"/\" /&gt;\n    &lt;/bean&gt;\n    --&gt;\n\n    &lt;!-- Handler deciding where to redirect user after failed login --&gt;\n    &lt;bean id=\"failureRedirectHandler\"\n          class=\"org.springframework.security.web.authentication.SimpleUrlAuthenticationFailureHandler\"&gt;\n        &lt;property name=\"useForward\" value=\"true\"/&gt;\n        &lt;property name=\"defaultFailureUrl\" value=\"/error.jsp\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Handler for successful logout --&gt;\n    &lt;bean id=\"successLogoutHandler\" class=\"oidc.security.CustomLogoutSuccessHandler\"&gt;&lt;/bean&gt;\n\n    &lt;!-- Override default logout processing filter with the one processing SAML messages --&gt;\n    &lt;bean id=\"samlLogoutFilter\" class=\"oidc.security.CustomSAMLLogoutFilter\"&gt;\n        &lt;constructor-arg index=\"0\" ref=\"successLogoutHandler\"/&gt;\n        &lt;constructor-arg index=\"1\" ref=\"logoutHandler\"/&gt;\n        &lt;constructor-arg index=\"2\" ref=\"logoutHandler\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Filter processing incoming logout messages --&gt;\n    &lt;!-- First argument determines URL user will be redirected to after successful global logout --&gt;\n    &lt;bean id=\"samlLogoutProcessingFilter\" class=\"org.springframework.security.saml.SAMLLogoutProcessingFilter\"&gt;\n        &lt;constructor-arg index=\"0\" ref=\"successLogoutHandler\"/&gt;\n        &lt;constructor-arg index=\"1\" ref=\"logoutHandler\"/&gt;\n    &lt;/bean&gt;\n\n\n    &lt;security:authentication-manager alias=\"authenticationManager\"&gt;\n        &lt;!-- Register authentication manager for SAML provider --&gt;\n        &lt;security:authentication-provider ref=\"samlAuthenticationProvider\"/&gt;\n    &lt;/security:authentication-manager&gt;\n\n    &lt;!-- Logger for SAML messages and events --&gt;\n    &lt;bean id=\"samlLogger\" class=\"org.springframework.security.saml.log.SAMLDefaultLogger\"/&gt;\n\n    &lt;bean id=\"keyStoreLocator\" class=\"oidc.saml.KeyStoreLocator\"/&gt;\n\n    &lt;!-- Central storage of cryptographic keys --&gt;\n    &lt;bean id=\"keyManager\" class=\"org.springframework.security.saml.key.JKSKeyManager\"&gt;\n        &lt;constructor-arg&gt;\n            &lt;bean factory-bean=\"keyStoreLocator\"\n                  factory-method=\"createKeyStore\"&gt;\n                &lt;constructor-arg value=\"${idp.entity.id}\"/&gt;\n                &lt;constructor-arg value=\"${idp.public.certificate}\"/&gt;\n                &lt;constructor-arg value=\"${sp.entity.id}\"/&gt;\n                &lt;constructor-arg value=\"${sp.public.certificate}\"/&gt;\n                &lt;constructor-arg value=\"${sp.private.key}\"/&gt;\n                &lt;constructor-arg value=\"${sp.passphrase}\"/&gt;\n            &lt;/bean&gt;\n        &lt;/constructor-arg&gt;\n        &lt;constructor-arg&gt;\n            &lt;map&gt;\n                &lt;entry key=\"${sp.entity.id}\" value=\"${sp.passphrase}\"/&gt;\n            &lt;/map&gt;\n        &lt;/constructor-arg&gt;\n        &lt;constructor-arg type=\"java.lang.String\" value=\"${sp.entity.id}\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Entry point to initialize authentication, default values taken from properties file --&gt;\n    &lt;bean id=\"samlEntryPoint\" class=\"oidc.saml.ProxySAMLEntryPoint\"/&gt;\n\n    &lt;!-- Filter automatically generates default SP metadata --&gt;\n    &lt;bean id=\"metadataGeneratorFilter\" class=\"org.springframework.security.saml.metadata.MetadataGeneratorFilter\"&gt;\n        &lt;constructor-arg&gt;\n            &lt;bean class=\"org.springframework.security.saml.metadata.MetadataGenerator\"&gt;\n                &lt;property name=\"entityId\" value=\"${sp.entity.id}\"/&gt;\n                &lt;property name=\"entityBaseURL\" value=\"${sp.entity.base.url}\"/&gt;\n                &lt;property name=\"extendedMetadata\"&gt;\n                    &lt;bean class=\"org.springframework.security.saml.metadata.ExtendedMetadata\"&gt;\n                        &lt;property name=\"signMetadata\" value=\"true\"/&gt;\n                        &lt;property name=\"idpDiscoveryEnabled\" value=\"false\"/&gt;\n                    &lt;/bean&gt;\n                &lt;/property&gt;\n            &lt;/bean&gt;\n        &lt;/constructor-arg&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- The filter is waiting for connections on URL suffixed with filterSuffix and presents SP metadata there --&gt;\n    &lt;bean id=\"metadataDisplayFilter\" class=\"org.springframework.security.saml.metadata.MetadataDisplayFilter\"/&gt;\n\n    &lt;bean id=\"metadataManager\" class=\"org.springframework.security.saml.metadata.CachingMetadataManager\"&gt;\n        &lt;constructor-arg&gt;\n            &lt;list&gt;\n                &lt;bean class=\"org.springframework.security.saml.metadata.ExtendedMetadataDelegate\"&gt;\n                    &lt;constructor-arg&gt;\n                        &lt;bean class=\"org.opensaml.saml2.metadata.provider.HTTPMetadataProvider\"&gt;\n                            &lt;constructor-arg&gt;\n                                &lt;value type=\"java.lang.String\"&gt;${idp.metadata.url}&lt;/value&gt;\n                            &lt;/constructor-arg&gt;\n                            &lt;constructor-arg&gt;\n                                &lt;value type=\"int\"&gt;30000&lt;/value&gt;\n                            &lt;/constructor-arg&gt;\n                            &lt;property name=\"parserPool\" ref=\"parserPool\"/&gt;\n                            &lt;property name=\"requireValidMetadata\" value=\"false\"/&gt;\n                        &lt;/bean&gt;\n                    &lt;/constructor-arg&gt;\n                &lt;/bean&gt;\n            &lt;/list&gt;\n        &lt;/constructor-arg&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- IDP Metadata configuration - paths to metadata of IDPs in circle of trust is here --&gt;\n    &lt;bean class=\"org.springframework.security.saml.metadata.ExtendedMetadataDelegate\"&gt;\n        &lt;constructor-arg ref=\"metadataManager\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"defaultSAMLUserDetailsService\" class=\"oidc.saml.DefaultSAMLUserDetailsService\"&gt;\n        &lt;constructor-arg value=\"${sp.entity.id}\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- SAML Authentication Provider responsible for validating of received SAML messages --&gt;\n    &lt;bean id=\"samlAuthenticationProvider\" class=\"oidc.saml.FederatedSAMLAuthenticationProvider\"&gt;\n        &lt;property name=\"userDetails\" ref=\"defaultSAMLUserDetailsService\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Provider of default SAML Context --&gt;\n    &lt;bean id=\"contextProvider\" class=\"org.springframework.security.saml.context.SAMLContextProviderImpl\"/&gt;\n\n    &lt;!-- Processing filter for WebSSO profile messages --&gt;\n    &lt;bean id=\"samlWebSSOProcessingFilter\" class=\"org.springframework.security.saml.SAMLProcessingFilter\"&gt;\n        &lt;property name=\"authenticationManager\" ref=\"authenticationManager\"/&gt;\n        &lt;property name=\"authenticationSuccessHandler\" ref=\"successRedirectHandler\"/&gt;\n        &lt;property name=\"authenticationFailureHandler\" ref=\"failureRedirectHandler\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Processing filter for WebSSO Holder-of-Key profile --&gt;\n    &lt;bean id=\"samlWebSSOHoKProcessingFilter\" class=\"org.springframework.security.saml.SAMLWebSSOHoKProcessingFilter\"&gt;\n        &lt;property name=\"authenticationManager\" ref=\"authenticationManager\"/&gt;\n        &lt;property name=\"authenticationSuccessHandler\" ref=\"successRedirectHandler\"/&gt;\n        &lt;property name=\"authenticationFailureHandler\" ref=\"failureRedirectHandler\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Logout handler terminating local session --&gt;\n    &lt;bean id=\"logoutHandler\"\n          class=\"org.springframework.security.web.authentication.logout.SecurityContextLogoutHandler\"&gt;\n        &lt;property name=\"invalidateHttpSession\" value=\"false\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Class loading incoming SAML messages from httpRequest stream --&gt;\n    &lt;bean id=\"processor\" class=\"org.springframework.security.saml.processor.SAMLProcessorImpl\"&gt;\n        &lt;constructor-arg&gt;\n            &lt;list&gt;\n                &lt;ref bean=\"redirectBinding\"/&gt;\n                &lt;ref bean=\"postBinding\"/&gt;\n                &lt;ref bean=\"artifactBinding\"/&gt;\n                &lt;ref bean=\"soapBinding\"/&gt;\n                &lt;ref bean=\"paosBinding\"/&gt;\n            &lt;/list&gt;\n        &lt;/constructor-arg&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- SAML 2.0 WebSSO Assertion Consumer --&gt;\n    &lt;bean id=\"webSSOprofileConsumer\" class=\"org.springframework.security.saml.websso.WebSSOProfileConsumerImpl\"&gt;\n        &lt;property name=\"maxAuthenticationAge\" value=\"43200\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- SAML 2.0 Holder-of-Key WebSSO Assertion Consumer --&gt;\n    &lt;bean id=\"hokWebSSOprofileConsumer\" class=\"org.springframework.security.saml.websso.WebSSOProfileConsumerHoKImpl\"/&gt;\n\n    &lt;!-- SAML 2.0 Web SSO profile --&gt;\n    &lt;bean id=\"webSSOprofile\" class=\"org.springframework.security.saml.websso.WebSSOProfileImpl\"/&gt;\n\n    &lt;!-- SAML 2.0 Holder-of-Key Web SSO profile --&gt;\n    &lt;bean id=\"hokWebSSOProfile\" class=\"org.springframework.security.saml.websso.WebSSOProfileConsumerHoKImpl\"/&gt;\n\n    &lt;!-- SAML 2.0 ECP profile --&gt;\n    &lt;bean id=\"ecpprofile\" class=\"org.springframework.security.saml.websso.WebSSOProfileECPImpl\"/&gt;\n\n    &lt;!-- SAML 2.0 Logout Profile --&gt;\n    &lt;bean id=\"logoutprofile\" class=\"org.springframework.security.saml.websso.SingleLogoutProfileImpl\"/&gt;\n\n    &lt;!-- Bindings, encoders and decoders used for creating and parsing messages --&gt;\n    &lt;bean id=\"postBinding\" class=\"org.springframework.security.saml.processor.HTTPPostBinding\"&gt;\n        &lt;constructor-arg ref=\"parserPool\"/&gt;\n        &lt;constructor-arg ref=\"velocityEngine\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"redirectBinding\" class=\"org.springframework.security.saml.processor.HTTPRedirectDeflateBinding\"&gt;\n        &lt;constructor-arg ref=\"parserPool\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"artifactBinding\" class=\"org.springframework.security.saml.processor.HTTPArtifactBinding\"&gt;\n        &lt;constructor-arg ref=\"parserPool\"/&gt;\n        &lt;constructor-arg ref=\"velocityEngine\"/&gt;\n        &lt;constructor-arg&gt;\n            &lt;bean class=\"org.springframework.security.saml.websso.ArtifactResolutionProfileImpl\"&gt;\n                &lt;constructor-arg&gt;\n                    &lt;bean class=\"org.apache.commons.httpclient.HttpClient\"&gt;\n                        &lt;constructor-arg&gt;\n                            &lt;bean class=\"org.apache.commons.httpclient.MultiThreadedHttpConnectionManager\"/&gt;\n                        &lt;/constructor-arg&gt;\n                    &lt;/bean&gt;\n                &lt;/constructor-arg&gt;\n                &lt;property name=\"processor\"&gt;\n                    &lt;bean class=\"org.springframework.security.saml.processor.SAMLProcessorImpl\"&gt;\n                        &lt;constructor-arg ref=\"soapBinding\"/&gt;\n                    &lt;/bean&gt;\n                &lt;/property&gt;\n            &lt;/bean&gt;\n        &lt;/constructor-arg&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"soapBinding\" class=\"org.springframework.security.saml.processor.HTTPSOAP11Binding\"&gt;\n        &lt;constructor-arg ref=\"parserPool\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"paosBinding\" class=\"org.springframework.security.saml.processor.HTTPPAOS11Binding\"&gt;\n        &lt;constructor-arg ref=\"parserPool\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Initialization of OpenSAML library--&gt;\n    &lt;bean class=\"org.springframework.security.saml.SAMLBootstrap\"/&gt;\n\n    &lt;!-- Initialization of the velocity engine --&gt;\n    &lt;bean id=\"velocityEngine\" class=\"org.springframework.security.saml.util.VelocityFactory\" factory-method=\"getEngine\"/&gt;\n\n    &lt;!-- XML parser pool needed for OpenSAML parsing --&gt;\n    &lt;bean id=\"parserPool\" class=\"org.opensaml.xml.parse.StaticBasicParserPool\" init-method=\"initialize\"&gt;\n        &lt;property name=\"builderFeatures\"&gt;\n            &lt;map&gt;\n                &lt;entry key=\"http://apache.org/xml/features/dom/defer-node-expansion\" value=\"false\"/&gt;\n            &lt;/map&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"parserPoolHolder\" class=\"org.springframework.security.saml.parser.ParserPoolHolder\"/&gt;\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5762184,"reputation":757,"user_id":4548231,"display_name":"sawprogramming"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655217618,"creation_date":1655217618,"answer_id":72618923,"question_id":45798251,"body_markdown":"You can use the `RelayState` parameter in the logout requests your application sends to the IDP to accomplish this. Per the [SAML bindings specification][1]:\r\n\r\n&gt; Some bindings define a &quot;RelayState&quot; mechanism for preserving and conveying state information. When such a mechanism is used in conveying a request message as the initial step of a SAML protocol, it places requirements on the selection and use of the binding subsequently used to convey the response. Namely, if a SAML request message is accompanied by RelayState data, then the SAML responder MUST return its SAML protocol response using a binding that also supports a RelayState mechanism, and it MUST place the exact RelayState data it received with the request into the corresponding RelayState parameter in the response.\r\n\r\nSince the `RelayState` in the logout response will be whatever you set it to in the request, if you set it to the desired redirect URL in the logout request, you can retrieve it again when you process the logout response.\r\n\r\n While the SAML message encoder of the SAML HTTP redirect binding ultimately adds the `RelayState` parameter to the logout request made to the IDP, it grabs the value from the `org.opensaml.common.binding.SAMLMessageContext` of the logout request. You can set the value of the `RelayState` in the SAML message context for logout requests by extending the `org.springframework.security.saml.websso.SingleLogoutProfileImpl` class and overriding the \r\n`sendLogoutRequest` method, which has access to both the original HTTP request and the SAML message context.\r\n\r\nAssuming you&#39;re supplying the redirect URL using the `redirect` parameter, that code looks something like this:\r\n\r\n~~~java\r\n@Override\r\npublic void sendLogoutRequest(final SAMLMessageContext context, final SAMLCredential credential)\r\n    throws SAMLException, MetadataProviderException, MessageEncodingException\r\n{\r\n    if (context.getInboundMessageTransport() instanceof HttpServletRequestAdapter) {\r\n        Optional\r\n            .ofNullable (((HttpServletRequestAdapter)context.getInboundMessageTransport()).getParameterValue(&quot;redirect&quot;))\r\n            .flatMap    (it -&gt; Strings.isBlank(it) ? Optional.empty() : Optional.of(it))\r\n            .ifPresent  (context::setRelayState);\r\n    }\r\n    super.sendLogoutRequest(context, credential);\r\n}\r\n~~~\r\n\r\nThen, your logout success handler can be configured to redirect to the value determined from either the `redirect` or the `RelayState` parameter of the HTTP request:\r\n\r\n~~~java\r\n@Override\r\npublic void onLogoutSuccess(\r\n    final HttpServletRequest  request,\r\n    final HttpServletResponse response,\r\n    final Authentication      authentication\r\n) throws IOException, ServletException {\r\n    if (authentication != null &amp;&amp; authentication.getDetails() != null) {\r\n        try {\r\n            request.getSession().invalidate();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    // Set the Server Status\r\n    response.setStatus(HttpServletResponse.SC_OK);\r\n\r\n    // Decide where to redirect\r\n    final String redirectParameterValue   = request.getParameter(&quot;redirect&quot;);\r\n    final String relayStateParameterValue = request.getParameter(&quot;RelayState&quot;);\r\n    if (redirectParameterValue != null &amp;&amp; !redirectParameterValue.isEmpty()) {\r\n        response.sendRedirect(redirectParameterValue);\r\n    } else if (relayStateParameterValue != null &amp;&amp; !relayStateParameterValue.isEmpty()) {\r\n        response.sendRedirect(relayStateParameterValue);\r\n    } else {\r\n        response.sendRedirect(&quot;/oidc/&quot;);\r\n    }\r\n}\r\n~~~\r\n\r\n  [1]: http://docs.oasis-open.org/security/saml/v2.0/saml-bindings-2.0-os.pdf","title":"Pass URL Parameters to Spring Security custom LogoutSuccessHandler","body":"<p>You can use the <code>RelayState</code> parameter in the logout requests your application sends to the IDP to accomplish this. Per the <a href=\"http://docs.oasis-open.org/security/saml/v2.0/saml-bindings-2.0-os.pdf\" rel=\"nofollow noreferrer\">SAML bindings specification</a>:</p>\n<blockquote>\n<p>Some bindings define a &quot;RelayState&quot; mechanism for preserving and conveying state information. When such a mechanism is used in conveying a request message as the initial step of a SAML protocol, it places requirements on the selection and use of the binding subsequently used to convey the response. Namely, if a SAML request message is accompanied by RelayState data, then the SAML responder MUST return its SAML protocol response using a binding that also supports a RelayState mechanism, and it MUST place the exact RelayState data it received with the request into the corresponding RelayState parameter in the response.</p>\n</blockquote>\n<p>Since the <code>RelayState</code> in the logout response will be whatever you set it to in the request, if you set it to the desired redirect URL in the logout request, you can retrieve it again when you process the logout response.</p>\n<p>While the SAML message encoder of the SAML HTTP redirect binding ultimately adds the <code>RelayState</code> parameter to the logout request made to the IDP, it grabs the value from the <code>org.opensaml.common.binding.SAMLMessageContext</code> of the logout request. You can set the value of the <code>RelayState</code> in the SAML message context for logout requests by extending the <code>org.springframework.security.saml.websso.SingleLogoutProfileImpl</code> class and overriding the\n<code>sendLogoutRequest</code> method, which has access to both the original HTTP request and the SAML message context.</p>\n<p>Assuming you're supplying the redirect URL using the <code>redirect</code> parameter, that code looks something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void sendLogoutRequest(final SAMLMessageContext context, final SAMLCredential credential)\n    throws SAMLException, MetadataProviderException, MessageEncodingException\n{\n    if (context.getInboundMessageTransport() instanceof HttpServletRequestAdapter) {\n        Optional\n            .ofNullable (((HttpServletRequestAdapter)context.getInboundMessageTransport()).getParameterValue(&quot;redirect&quot;))\n            .flatMap    (it -&gt; Strings.isBlank(it) ? Optional.empty() : Optional.of(it))\n            .ifPresent  (context::setRelayState);\n    }\n    super.sendLogoutRequest(context, credential);\n}\n</code></pre>\n<p>Then, your logout success handler can be configured to redirect to the value determined from either the <code>redirect</code> or the <code>RelayState</code> parameter of the HTTP request:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onLogoutSuccess(\n    final HttpServletRequest  request,\n    final HttpServletResponse response,\n    final Authentication      authentication\n) throws IOException, ServletException {\n    if (authentication != null &amp;&amp; authentication.getDetails() != null) {\n        try {\n            request.getSession().invalidate();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    // Set the Server Status\n    response.setStatus(HttpServletResponse.SC_OK);\n\n    // Decide where to redirect\n    final String redirectParameterValue   = request.getParameter(&quot;redirect&quot;);\n    final String relayStateParameterValue = request.getParameter(&quot;RelayState&quot;);\n    if (redirectParameterValue != null &amp;&amp; !redirectParameterValue.isEmpty()) {\n        response.sendRedirect(redirectParameterValue);\n    } else if (relayStateParameterValue != null &amp;&amp; !relayStateParameterValue.isEmpty()) {\n        response.sendRedirect(relayStateParameterValue);\n    } else {\n        response.sendRedirect(&quot;/oidc/&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675370290,"creation_date":1675169035,"answer_id":75297345,"question_id":45798251,"body_markdown":"If you omit the logout confirmation screen you can get the parameters directly by doing this:\r\n```\r\n.logout()\r\n.logoutSuccessHandler(customLogoutSuccessHandler)\r\n.logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;));\r\n```\r\nThe in the `CustomLogoutSuccessHandler` you will see any parameters in the URL.\r\n\r\nThe problem is the screen in the &quot;middle&quot;.","title":"Pass URL Parameters to Spring Security custom LogoutSuccessHandler","body":"<p>If you omit the logout confirmation screen you can get the parameters directly by doing this:</p>\n<pre><code>.logout()\n.logoutSuccessHandler(customLogoutSuccessHandler)\n.logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;));\n</code></pre>\n<p>The in the <code>CustomLogoutSuccessHandler</code> you will see any parameters in the URL.</p>\n<p>The problem is the screen in the &quot;middle&quot;.</p>\n"}],"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3358,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":45819160,"answer_count":3,"score":1,"last_activity_date":1675370290,"creation_date":1503321718,"question_id":45798251,"body_markdown":"&gt; The server i am deploying is this\r\n&gt; https://github.com/OpenConext/OpenConext-oidc , i am extending it&#39;s\r\n&gt; logout capabilities , (`Logout` etc).\r\n\r\nNow i have a request ,  the logout is done using  :\r\n`http:/www.example.com:8080/server app/saml/logout` ,\r\n\r\n i want to add parameters on the URL like this . `http:/www.example.com:8080/server app/saml/logout?value=www.youtube.com` , so i can redirect to different pages the user .\r\n\r\n---\r\nFor that purpose i have created a custom **CustomLogoutSuccessHandler** :\r\n\r\n    public class CustomLogoutSuccessHandler implements LogoutSuccessHandler {\r\n    \r\n        @Override\r\n        public void onLogoutSuccess(HttpServletRequest request, HttpServletResponse httpServletResponse, Authentication authentication) throws IOException, ServletException {\r\n            if (authentication != null &amp;&amp; authentication.getDetails() != null) {\r\n                try {\r\n                    request.getSession().invalidate();\r\n                    System.out.println(&quot;User Successfully Logout&quot;);\r\n                    //you can add more codes here when the user successfully logs out,\r\n                    //such as updating the database for last active.\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            //Set the Server Status\r\n            httpServletResponse.setStatus(HttpServletResponse.SC_OK);\r\n    \r\n            //redirect to login\r\n            String queryString = request.getParameter(&quot;value&quot;);\r\n    \r\n            //Check if no parameters have been passed\r\n            if (queryString == null) {\r\n                httpServletResponse.sendRedirect(&quot;http://www.youtube.com&quot;);\r\n            } else {\r\n                httpServletResponse.sendRedirect(&quot;http://www.&quot; + queryString + &quot;.com&quot;);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**The problem is that the `request.getParameter(&quot;value&quot;);` always returns null! Why that happens ? I am catching too late the URL or what?**\r\n\r\n**I am always getting back the url `http:/www.example.com:8080/server app/saml/SingleLogout**\r\n\r\n\r\n---\r\n\r\nOn the user-context.xml (Logout is defined like this)(it works here there is no problem).\r\n\r\n    ...\r\n    \r\n    &lt;!-- Filters for processing of SAML messages --&gt;\r\n        &lt;bean id=&quot;samlFilter&quot; class=&quot;org.springframework.security.web.FilterChainProxy&quot;&gt;\r\n            &lt;security:filter-chain-map request-matcher=&quot;ant&quot;&gt;\r\n                &lt;security:filter-chain pattern=&quot;/saml/login/**&quot; filters=&quot;samlEntryPoint&quot;/&gt;\r\n                &lt;security:filter-chain pattern=&quot;/saml/logout/**&quot; filters=&quot;samlLogoutFilter&quot;/&gt;\r\n                &lt;security:filter-chain pattern=&quot;/saml/metadata/**&quot; filters=&quot;metadataDisplayFilter&quot;/&gt;\r\n                &lt;security:filter-chain pattern=&quot;/saml/SSO/**&quot; filters=&quot;samlWebSSOProcessingFilter&quot;/&gt;\r\n                &lt;security:filter-chain pattern=&quot;/saml/SSOHoK/**&quot; filters=&quot;samlWebSSOHoKProcessingFilter&quot;/&gt;\r\n                &lt;security:filter-chain pattern=&quot;/saml/SingleLogout/**&quot; filters=&quot;samlLogoutProcessingFilter&quot;/&gt;\r\n            &lt;/security:filter-chain-map&gt;\r\n        &lt;/bean&gt;\r\n    \r\n    !-- Handler for successful logout --&gt;\r\n        &lt;bean id=&quot;successLogoutHandler&quot; class=&quot;oidc.security.CustomLogoutSuccessHandler&quot;&gt;&lt;/bean&gt;\r\n    \r\n    ...","title":"Pass URL Parameters to Spring Security custom LogoutSuccessHandler","body":"<blockquote>\n  <p>The server i am deploying is this\n  <a href=\"https://github.com/OpenConext/OpenConext-oidc\" rel=\"nofollow noreferrer\">https://github.com/OpenConext/OpenConext-oidc</a> , i am extending it's\n  logout capabilities , (<code>Logout</code> etc).</p>\n</blockquote>\n\n<p>Now i have a request ,  the logout is done using  :\n<code>http:/www.example.com:8080/server app/saml/logout</code> ,</p>\n\n<p>i want to add parameters on the URL like this . <code>http:/www.example.com:8080/server app/saml/logout?value=www.youtube.com</code> , so i can redirect to different pages the user .</p>\n\n<hr>\n\n<p>For that purpose i have created a custom <strong>CustomLogoutSuccessHandler</strong> :</p>\n\n<pre><code>public class CustomLogoutSuccessHandler implements LogoutSuccessHandler {\n\n    @Override\n    public void onLogoutSuccess(HttpServletRequest request, HttpServletResponse httpServletResponse, Authentication authentication) throws IOException, ServletException {\n        if (authentication != null &amp;&amp; authentication.getDetails() != null) {\n            try {\n                request.getSession().invalidate();\n                System.out.println(\"User Successfully Logout\");\n                //you can add more codes here when the user successfully logs out,\n                //such as updating the database for last active.\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n\n        //Set the Server Status\n        httpServletResponse.setStatus(HttpServletResponse.SC_OK);\n\n        //redirect to login\n        String queryString = request.getParameter(\"value\");\n\n        //Check if no parameters have been passed\n        if (queryString == null) {\n            httpServletResponse.sendRedirect(\"http://www.youtube.com\");\n        } else {\n            httpServletResponse.sendRedirect(\"http://www.\" + queryString + \".com\");\n        }\n    }\n\n}\n</code></pre>\n\n<p><strong>The problem is that the <code>request.getParameter(\"value\");</code> always returns null! Why that happens ? I am catching too late the URL or what?</strong></p>\n\n<p><strong>I am always getting back the url `http:/www.example.com:8080/server app/saml/SingleLogout</strong></p>\n\n<hr>\n\n<p>On the user-context.xml (Logout is defined like this)(it works here there is no problem).</p>\n\n<pre><code>...\n\n&lt;!-- Filters for processing of SAML messages --&gt;\n    &lt;bean id=\"samlFilter\" class=\"org.springframework.security.web.FilterChainProxy\"&gt;\n        &lt;security:filter-chain-map request-matcher=\"ant\"&gt;\n            &lt;security:filter-chain pattern=\"/saml/login/**\" filters=\"samlEntryPoint\"/&gt;\n            &lt;security:filter-chain pattern=\"/saml/logout/**\" filters=\"samlLogoutFilter\"/&gt;\n            &lt;security:filter-chain pattern=\"/saml/metadata/**\" filters=\"metadataDisplayFilter\"/&gt;\n            &lt;security:filter-chain pattern=\"/saml/SSO/**\" filters=\"samlWebSSOProcessingFilter\"/&gt;\n            &lt;security:filter-chain pattern=\"/saml/SSOHoK/**\" filters=\"samlWebSSOHoKProcessingFilter\"/&gt;\n            &lt;security:filter-chain pattern=\"/saml/SingleLogout/**\" filters=\"samlLogoutProcessingFilter\"/&gt;\n        &lt;/security:filter-chain-map&gt;\n    &lt;/bean&gt;\n\n!-- Handler for successful logout --&gt;\n    &lt;bean id=\"successLogoutHandler\" class=\"oidc.security.CustomLogoutSuccessHandler\"&gt;&lt;/bean&gt;\n\n...\n</code></pre>\n"},{"tags":["java","jndi","java-annotations"],"owner":{"account_id":975553,"reputation":3366,"user_id":996908,"accept_rate":60,"display_name":"Mr Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675369886,"creation_date":1675369886,"question_id":75328623,"body_markdown":"Can I capture exceptions from resources looked up via @Resource?   In the example below, a resource is being looked up via JNDI.  There may not be a JNDI when running the app locally so I want to add an exception handler to capture this &amp; create the data source another way.\r\n\r\n\t@Resource(lookup=&quot;jdbc/ds_demo&quot;,\r\n\t\t\tdescription=&quot;Primary DataSource&quot;, \r\n\t\t\tauthenticationType=AuthenticationType.CONTAINER, \r\n\t\t\tshareable=false,\r\n\t\t\tmappedName=&quot;ds_demo&quot;)\r\n\tprivate DataSource primaryDataSource;","title":"How to handle exceptions with @Resource (javax.annotation.resource)","body":"<p>Can I capture exceptions from resources looked up via @Resource?   In the example below, a resource is being looked up via JNDI.  There may not be a JNDI when running the app locally so I want to add an exception handler to capture this &amp; create the data source another way.</p>\n<pre><code>@Resource(lookup=&quot;jdbc/ds_demo&quot;,\n        description=&quot;Primary DataSource&quot;, \n        authenticationType=AuthenticationType.CONTAINER, \n        shareable=false,\n        mappedName=&quot;ds_demo&quot;)\nprivate DataSource primaryDataSource;\n</code></pre>\n"},{"tags":["java","json","spring","hibernate","jackson"],"comments":[{"owner":{"account_id":78881,"reputation":154,"user_id":224155,"display_name":"Arturas Gusevas"},"score":0,"creation_date":1675369415,"post_id":75328390,"comment_id":132920080,"body_markdown":"In order to print array you need to use `Arrays.toString()` method. For example: `&quot;, columnHeaders=&quot; + Arrays.toString(columnHeaders) +`","body":"In order to print array you need to use <code>Arrays.toString()</code> method. For example: <code>&quot;, columnHeaders=&quot; + Arrays.toString(columnHeaders) +</code>"}],"answers":[{"tags":[],"owner":{"account_id":1642450,"reputation":481,"user_id":1514647,"display_name":"luckyluke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675369828,"creation_date":1675368997,"answer_id":75328522,"question_id":75328390,"body_markdown":"The response you get is ok. And also the Array is good. The line \r\n\r\n```\r\nlogger.info(&quot;BudgetEffortResponse: &quot; + budgetEffortResponse);\r\n```\r\n\r\nuses an indirect cast to String of the Object budgetEffortResponse. In this case all `toString()` methods of the objects are called. What you need to do in order to print out the Objects is to implement/add the `toString()` method in the class `com.example.etl.entity.budgetEffort.ColumnHeader` \r\n\r\nUpdate:\r\n--------\r\nAs the toString method is already implemented, the above is partially wrong. But there is a way to use a setting of the ObjectMapper:\r\n\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\n// pretty print\r\nString json = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(budgetEffortResponse);\r\nlogger.info(&quot;BudgetEffortResponse: &quot; + json);\r\n```","title":"How do I get an array value instead of reference from ObjectMapper in Jackson?","body":"<p>The response you get is ok. And also the Array is good. The line</p>\n<pre><code>logger.info(&quot;BudgetEffortResponse: &quot; + budgetEffortResponse);\n</code></pre>\n<p>uses an indirect cast to String of the Object budgetEffortResponse. In this case all <code>toString()</code> methods of the objects are called. What you need to do in order to print out the Objects is to implement/add the <code>toString()</code> method in the class <code>com.example.etl.entity.budgetEffort.ColumnHeader</code></p>\n<h2>Update:</h2>\n<p>As the toString method is already implemented, the above is partially wrong. But there is a way to use a setting of the ObjectMapper:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\n// pretty print\nString json = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(budgetEffortResponse);\nlogger.info(&quot;BudgetEffortResponse: &quot; + json);\n</code></pre>\n"}],"owner":{"account_id":19108145,"reputation":134,"user_id":13954773,"display_name":"Ashley Xu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75328522,"answer_count":1,"score":1,"last_activity_date":1675369828,"creation_date":1675368202,"question_id":75328390,"body_markdown":"I am trying to get a result from an API response and am able to map everything except for columnHeaders, which is an array of ColumnHeaders.  I am instead getting a reference to an array.  The code is below.\r\n\r\n\r\nResponse Class\r\n\r\n```\r\npublic class Response {\r\n\r\n    @JsonProperty(&quot;searchApiFormatVersion&quot;)\r\n    private String searchApiFormatVersion;\r\n\r\n    @JsonProperty(&quot;searchName&quot;)\r\n    private String searchName;\r\n\r\n    @JsonProperty(&quot;description&quot;)\r\n    private String description;\r\n\r\n    @JsonProperty(&quot;columnHeaders&quot;)\r\n    private ColumnHeader[] columnHeaders;\r\n\r\npublic Response(String searchApiFormatVersion, String searchName, String description,\r\n                    ColumnHeader[] columnHeaders) {\r\n        this.searchApiFormatVersion = searchApiFormatVersion;\r\n        this.searchName = searchName;\r\n        this.description = description;\r\n        this.columnHeaders = columnHeaders;\r\n    }\r\n\r\n    public Response(){\r\n\r\n    }\r\n\r\n    public String getSearchApiFormatVersion() {\r\n        return searchApiFormatVersion;\r\n    }\r\n\r\n    public void setSearchApiFormatVersion(String searchApiFormatVersion) {\r\n        this.searchApiFormatVersion = searchApiFormatVersion;\r\n    }\r\n\r\n    public String getSearchName() {\r\n        return searchName;\r\n    }\r\n\r\n    public void setSearchName(String searchName) {\r\n        this.searchName = searchName;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    \r\n    public ColumnHeader[] getColumnHeaders() {\r\n        return columnHeaders;\r\n    }\r\n\r\n    public void setColumnHeaders(ColumnHeader[] columnHeaders) {\r\n        this.columnHeaders = columnHeaders;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Response{&quot; +\r\n                &quot;searchApiFormatVersion=&#39;&quot; + searchApiFormatVersion + &#39;\\&#39;&#39; +\r\n                &quot;, searchName=&#39;&quot; + searchName + &#39;\\&#39;&#39; +\r\n                &quot;, description=&#39;&quot; + description + &#39;\\&#39;&#39; +\r\n                &quot;, totalRowCount=&quot; + totalRowCount +\r\n                &quot;, returnedRowCount=&quot; + returnedRowCount +\r\n                &quot;, startingReturnedRowNumber=&quot; + startingReturnedRowNumber +\r\n                &quot;, basetype=&#39;&quot; + basetype + &#39;\\&#39;&#39; +\r\n                &quot;, columnCount=&quot; + columnCount +\r\n                &quot;, columnHeaders=&quot; + columnHeaders +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n```\r\nColumnHeader class\r\n\r\n\r\n```\r\npublic class ColumnHeader {\r\n\r\n    @JsonProperty(&quot;text&quot;)\r\n    private String text;\r\n\r\n    @JsonProperty(&quot;dataType&quot;)\r\n    private String dataType;\r\n\r\n    @JsonProperty(&quot;hierarchy&quot;)\r\n    private int hierarchy;\r\n\r\n    @JsonProperty(&quot;parentName&quot;)\r\n    private String parentName;\r\n\r\n    @JsonProperty(&quot;isEntity&quot;)\r\n    private Boolean isEntity;\r\n\r\n    @JsonProperty(&quot;isEset&quot;)\r\n    private Boolean isEset;\r\n\r\n    public ColumnHeader(String text, String dataType, int hierarchy, String parentName, Boolean isEntity, Boolean isEset) {\r\n        this.text = text;\r\n        this.dataType = dataType;\r\n        this.hierarchy = hierarchy;\r\n        this.parentName = parentName;\r\n        this.isEntity = isEntity;\r\n        this.isEset = isEset;\r\n    }\r\n\r\n    public ColumnHeader(){\r\n\r\n    }\r\n\r\n    public String getText() {\r\n        return text;\r\n    }\r\n\r\n    public void setText(String text) {\r\n        this.text = text;\r\n    }\r\n\r\n    public String getDataType() {\r\n        return dataType;\r\n    }\r\n\r\n    public void setDataType(String dataType) {\r\n        this.dataType = dataType;\r\n    }\r\n\r\n    public int getHierarchy() {\r\n        return hierarchy;\r\n    }\r\n\r\n    public void setHierarchy(int hierarchy) {\r\n        this.hierarchy = hierarchy;\r\n    }\r\n\r\n    public String getParentName() {\r\n        return parentName;\r\n    }\r\n\r\n    public void setParentName(String parentName) {\r\n        this.parentName = parentName;\r\n    }\r\n\r\n    public Boolean getEntity() {\r\n        return isEntity;\r\n    }\r\n\r\n    public void setEntity(Boolean entity) {\r\n        isEntity = entity;\r\n    }\r\n\r\n    public Boolean getEset() {\r\n        return isEset;\r\n    }\r\n\r\n    public void setEset(Boolean eset) {\r\n        isEset = eset;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;ColumnHeader{&quot; +\r\n                &quot;text=&#39;&quot; + text + &#39;\\&#39;&#39; +\r\n                &quot;, dataType=&#39;&quot; + dataType + &#39;\\&#39;&#39; +\r\n                &quot;, hierarchy=&quot; + hierarchy +\r\n                &quot;, parentName=&#39;&quot; + parentName + &#39;\\&#39;&#39; +\r\n                &quot;, isEntity=&quot; + isEntity +\r\n                &quot;, isEset=&quot; + isEset +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\n\r\nService Class\r\n\r\n```\r\npublic class BudgetEffortResponseService {\r\n\r\n    Logger logger = LoggerFactory.getLogger(Response.class);\r\n\r\n    public Response getResponseFromStringJsonApiResponse(String stringJsonResponse) throws JsonProcessingException {\r\n\r\n        ObjectMapper objectMapper = new ObjectMapper(); //Used to map objects from JSON values specified in Award under @JsonProperty annotation\r\n        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n\r\n        JSONObject stringJsonResponseTurnedIntoJsonObject = new JSONObject(stringJsonResponse);\r\n\r\n        logger.info(&quot;stringJsonResponseTurnedIntoJsonObject: &quot; + stringJsonResponseTurnedIntoJsonObject);\r\n\r\n        return objectMapper.readValue(stringJsonResponseTurnedIntoJsonObject.toString(), Response.class);\r\n\r\n    }\r\n}\r\n```\r\n\r\nMain Class\r\n\r\n```\r\n@SpringBootApplication\r\npublic class EtlApplication {\r\n\r\n    public static final String API_USERNAME = System.getenv(&quot;API_USERNAME&quot;);\r\n    public static final String API_PASSWORD = System.getenv(&quot;API_PASSWORD&quot;);\r\n    public static final String API_PREFIX = System.getenv(&quot;API_PREFIX&quot;);\r\n    public static final String API_PATH = System.getenv(&quot;API_PATH&quot;);\r\n\r\n    public static void main(String[] args) throws URISyntaxException, JsonProcessingException {\r\n\r\n        Logger logger = LoggerFactory.getLogger(EtlApplication.class);\r\n        logger.info(&quot;--------------------Starting process--------------------&quot;);\r\n\r\n        AwardRepository awardRepository = new AwardRepository();\r\n        AwardService awardService = new AwardService();\r\n        ApiResponseRowService apiResponseRowService = new ApiResponseRowService();\r\n        ApiResponseRepository apiResponseRepository = new ApiResponseRepository();\r\n        BudgetEffortResponseService budgetEffortResponseService = new BudgetEffortResponseService();\r\n\r\n        Date startDateForApiPull = new GregorianCalendar(2023, Calendar.FEBRUARY, 1).getTime();\r\n        Date endDateForApiPull = new GregorianCalendar(2023, Calendar.FEBRUARY, 2).getTime();\r\n\r\n        logger.info(&quot;============Starting BudgetEffort API pull from Huron===============&quot;);\r\n\r\n        HttpResponse&lt;String&gt; budgetEffortHttpResponse = apiResponseRepository.getHttpResponseFromApi(startDateForApiPull,\r\n        endDateForApiPull, 1, -1, API_PREFIX, API_PATH,\r\n        API_USERNAME, API_PASSWORD);\r\n\r\n        logger.info(&quot;BudgetEffortHttpResponse: &quot; + budgetEffortHttpResponse);\r\n\r\n        logger.info(&quot;============End of BudgetEffort API pull from Huron===============&quot;);\r\n\r\n        //Get body of http response string\r\n        String budgetEffortResponseString = budgetEffortHttpResponse.body();\r\n        logger.info(&quot;BudgetEffortResponseString: &quot; + budgetEffortResponseString);\r\n\r\n        Response budgetEffortResponse = budgetEffortResponseService.getResponseFromStringJsonApiResponse(budgetEffortResponseString);\r\n\r\n        logger.info(&quot;BudgetEffortResponse: &quot; + budgetEffortResponse);\r\n\r\n        logger.info(&quot;--------------------End of process--------------------&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nThe response.  I&#39;m noticing that I&#39;m getting the reference to the array for columnHeaders and not the values.  How would I get the values?  Thank you.\r\n\r\n\r\n```\r\nBudgetEffortResponse: Response{searchApiFormatVersion=&#39;1.0&#39;, searchName=&#39;Personnel Details for Authorized allocations on Active Awards&#39;, description=&#39;&#39;, columnHeaders=[Lcom.example.etl.entity.budgetEffort.ColumnHeader;@7a7471ce}\r\n```\r\n\r\n","title":"How do I get an array value instead of reference from ObjectMapper in Jackson?","body":"<p>I am trying to get a result from an API response and am able to map everything except for columnHeaders, which is an array of ColumnHeaders.  I am instead getting a reference to an array.  The code is below.</p>\n<p>Response Class</p>\n<pre><code>public class Response {\n\n    @JsonProperty(&quot;searchApiFormatVersion&quot;)\n    private String searchApiFormatVersion;\n\n    @JsonProperty(&quot;searchName&quot;)\n    private String searchName;\n\n    @JsonProperty(&quot;description&quot;)\n    private String description;\n\n    @JsonProperty(&quot;columnHeaders&quot;)\n    private ColumnHeader[] columnHeaders;\n\npublic Response(String searchApiFormatVersion, String searchName, String description,\n                    ColumnHeader[] columnHeaders) {\n        this.searchApiFormatVersion = searchApiFormatVersion;\n        this.searchName = searchName;\n        this.description = description;\n        this.columnHeaders = columnHeaders;\n    }\n\n    public Response(){\n\n    }\n\n    public String getSearchApiFormatVersion() {\n        return searchApiFormatVersion;\n    }\n\n    public void setSearchApiFormatVersion(String searchApiFormatVersion) {\n        this.searchApiFormatVersion = searchApiFormatVersion;\n    }\n\n    public String getSearchName() {\n        return searchName;\n    }\n\n    public void setSearchName(String searchName) {\n        this.searchName = searchName;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    \n    public ColumnHeader[] getColumnHeaders() {\n        return columnHeaders;\n    }\n\n    public void setColumnHeaders(ColumnHeader[] columnHeaders) {\n        this.columnHeaders = columnHeaders;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Response{&quot; +\n                &quot;searchApiFormatVersion='&quot; + searchApiFormatVersion + '\\'' +\n                &quot;, searchName='&quot; + searchName + '\\'' +\n                &quot;, description='&quot; + description + '\\'' +\n                &quot;, totalRowCount=&quot; + totalRowCount +\n                &quot;, returnedRowCount=&quot; + returnedRowCount +\n                &quot;, startingReturnedRowNumber=&quot; + startingReturnedRowNumber +\n                &quot;, basetype='&quot; + basetype + '\\'' +\n                &quot;, columnCount=&quot; + columnCount +\n                &quot;, columnHeaders=&quot; + columnHeaders +\n                '}';\n    }\n}\n\n</code></pre>\n<p>ColumnHeader class</p>\n<pre><code>public class ColumnHeader {\n\n    @JsonProperty(&quot;text&quot;)\n    private String text;\n\n    @JsonProperty(&quot;dataType&quot;)\n    private String dataType;\n\n    @JsonProperty(&quot;hierarchy&quot;)\n    private int hierarchy;\n\n    @JsonProperty(&quot;parentName&quot;)\n    private String parentName;\n\n    @JsonProperty(&quot;isEntity&quot;)\n    private Boolean isEntity;\n\n    @JsonProperty(&quot;isEset&quot;)\n    private Boolean isEset;\n\n    public ColumnHeader(String text, String dataType, int hierarchy, String parentName, Boolean isEntity, Boolean isEset) {\n        this.text = text;\n        this.dataType = dataType;\n        this.hierarchy = hierarchy;\n        this.parentName = parentName;\n        this.isEntity = isEntity;\n        this.isEset = isEset;\n    }\n\n    public ColumnHeader(){\n\n    }\n\n    public String getText() {\n        return text;\n    }\n\n    public void setText(String text) {\n        this.text = text;\n    }\n\n    public String getDataType() {\n        return dataType;\n    }\n\n    public void setDataType(String dataType) {\n        this.dataType = dataType;\n    }\n\n    public int getHierarchy() {\n        return hierarchy;\n    }\n\n    public void setHierarchy(int hierarchy) {\n        this.hierarchy = hierarchy;\n    }\n\n    public String getParentName() {\n        return parentName;\n    }\n\n    public void setParentName(String parentName) {\n        this.parentName = parentName;\n    }\n\n    public Boolean getEntity() {\n        return isEntity;\n    }\n\n    public void setEntity(Boolean entity) {\n        isEntity = entity;\n    }\n\n    public Boolean getEset() {\n        return isEset;\n    }\n\n    public void setEset(Boolean eset) {\n        isEset = eset;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;ColumnHeader{&quot; +\n                &quot;text='&quot; + text + '\\'' +\n                &quot;, dataType='&quot; + dataType + '\\'' +\n                &quot;, hierarchy=&quot; + hierarchy +\n                &quot;, parentName='&quot; + parentName + '\\'' +\n                &quot;, isEntity=&quot; + isEntity +\n                &quot;, isEset=&quot; + isEset +\n                '}';\n    }\n}\n</code></pre>\n<p>Service Class</p>\n<pre><code>public class BudgetEffortResponseService {\n\n    Logger logger = LoggerFactory.getLogger(Response.class);\n\n    public Response getResponseFromStringJsonApiResponse(String stringJsonResponse) throws JsonProcessingException {\n\n        ObjectMapper objectMapper = new ObjectMapper(); //Used to map objects from JSON values specified in Award under @JsonProperty annotation\n        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n\n        JSONObject stringJsonResponseTurnedIntoJsonObject = new JSONObject(stringJsonResponse);\n\n        logger.info(&quot;stringJsonResponseTurnedIntoJsonObject: &quot; + stringJsonResponseTurnedIntoJsonObject);\n\n        return objectMapper.readValue(stringJsonResponseTurnedIntoJsonObject.toString(), Response.class);\n\n    }\n}\n</code></pre>\n<p>Main Class</p>\n<pre><code>@SpringBootApplication\npublic class EtlApplication {\n\n    public static final String API_USERNAME = System.getenv(&quot;API_USERNAME&quot;);\n    public static final String API_PASSWORD = System.getenv(&quot;API_PASSWORD&quot;);\n    public static final String API_PREFIX = System.getenv(&quot;API_PREFIX&quot;);\n    public static final String API_PATH = System.getenv(&quot;API_PATH&quot;);\n\n    public static void main(String[] args) throws URISyntaxException, JsonProcessingException {\n\n        Logger logger = LoggerFactory.getLogger(EtlApplication.class);\n        logger.info(&quot;--------------------Starting process--------------------&quot;);\n\n        AwardRepository awardRepository = new AwardRepository();\n        AwardService awardService = new AwardService();\n        ApiResponseRowService apiResponseRowService = new ApiResponseRowService();\n        ApiResponseRepository apiResponseRepository = new ApiResponseRepository();\n        BudgetEffortResponseService budgetEffortResponseService = new BudgetEffortResponseService();\n\n        Date startDateForApiPull = new GregorianCalendar(2023, Calendar.FEBRUARY, 1).getTime();\n        Date endDateForApiPull = new GregorianCalendar(2023, Calendar.FEBRUARY, 2).getTime();\n\n        logger.info(&quot;============Starting BudgetEffort API pull from Huron===============&quot;);\n\n        HttpResponse&lt;String&gt; budgetEffortHttpResponse = apiResponseRepository.getHttpResponseFromApi(startDateForApiPull,\n        endDateForApiPull, 1, -1, API_PREFIX, API_PATH,\n        API_USERNAME, API_PASSWORD);\n\n        logger.info(&quot;BudgetEffortHttpResponse: &quot; + budgetEffortHttpResponse);\n\n        logger.info(&quot;============End of BudgetEffort API pull from Huron===============&quot;);\n\n        //Get body of http response string\n        String budgetEffortResponseString = budgetEffortHttpResponse.body();\n        logger.info(&quot;BudgetEffortResponseString: &quot; + budgetEffortResponseString);\n\n        Response budgetEffortResponse = budgetEffortResponseService.getResponseFromStringJsonApiResponse(budgetEffortResponseString);\n\n        logger.info(&quot;BudgetEffortResponse: &quot; + budgetEffortResponse);\n\n        logger.info(&quot;--------------------End of process--------------------&quot;);\n    }\n\n}\n</code></pre>\n<p>The response.  I'm noticing that I'm getting the reference to the array for columnHeaders and not the values.  How would I get the values?  Thank you.</p>\n<pre><code>BudgetEffortResponse: Response{searchApiFormatVersion='1.0', searchName='Personnel Details for Authorized allocations on Active Awards', description='', columnHeaders=[Lcom.example.etl.entity.budgetEffort.ColumnHeader;@7a7471ce}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","exception"],"owner":{"account_id":3971224,"reputation":447,"user_id":3275784,"accept_rate":50,"display_name":"user3275784"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675369245,"creation_date":1675369245,"question_id":75328551,"body_markdown":"I&#39;m writing a simple online shop using spring boot, for learning purposes. Right now I have purchasing-service and a product-service. The purchasing-service makes requests to the product-service via REST APIs for querying for product information. All of this is working, but I&#39;m unclear on if I&#39;m using exceptions correctly within the product-service.\r\n\r\nI have an endpoint in my controller called retrieveProductById that retrieves information about a product given the product id. This id is passed to a service, which then uses a repository to look up the product in the database and return the product information. If the product id does not exist in the database, it throws a ProductDoesNotExistException. This is then handled by an ErrorHandlerControllerAdvice class that simply returns a 400 bad request response with the erorr message to the caller.\r\n\r\n**My question is:** should my ProductDoesNotExistException be checked, or unchecked? To me, it makes sense for it to be checked, because as a developer or even a consumer of the API, you can clearly infer that if you give an invalid product id to the API, it will throw a ProductDoesNotExistException. If I change the exception to be unchecked, this is not as clear, as the IDE does not enforce me to explicitly add a throws ProductDoesNotExistException to the method signature.\r\n\r\nSo what would be the correct approach here? I do feel like it almost doesn&#39;t matter which I choose, as the controller advice class will handle the exception regardless of the type when it is thrown, so is the decision just a matter of preference on the developer part? See code below:\r\n\r\nController\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/products&quot;)\r\n    @Slf4j\r\n    public class ProductController {\r\n    \r\n        private final ProductService productService;\r\n        private final RestApiResponseFactory restApiResponseFactory;\r\n    \r\n        public ProductController(final ProductService productService,\r\n                final RestApiResponseFactory restApiResponseFactory) {\r\n            this.productService = productService;\r\n            this.restApiResponseFactory = restApiResponseFactory;\r\n        }\r\n    \r\n    \r\n        @GetMapping(&quot;/{productId}&quot;)\r\n        public ResponseEntity&lt;RestApiResponse&lt;ProductVO&gt;&gt; retrieveProductById(\r\n                @PathVariable final String productId) throws ProductDoesNotExistException {\r\n            log.info(&quot;Request made to find product {}&quot;, productId);\r\n            final ProductVO productVO = this.productService.retrieveProductById(\r\n                    Integer.parseInt(productId));\r\n            return ResponseEntity.ok(this.restApiResponseFactory.createSuccessResponse(productVO));\r\n        }\r\n    }\r\n\r\nService\r\n\r\n    @Service\r\n    @Slf4j\r\n    public class ProductService {\r\n    \r\n        private final ProductRepository productRepository;\r\n    \r\n        public ProductService(final ProductRepository productRepository) {\r\n            this.productRepository = productRepository;\r\n        }\r\n    \r\n        public ProductVO retrieveProductById(final int productId) throws ProductDoesNotExistException {\r\n            final Product product = findProductById(productId).orElseThrow(\r\n                    () -&gt; new ProductDoesNotExistException(productId));\r\n            return new ProductVO(product);\r\n        }\r\n    \r\n        private Optional&lt;Product&gt; findProductById(final int productId) {\r\n            return this.productRepository.findById(productId);\r\n        }\r\n    \r\n    }\r\n\r\nException\r\n\r\n    public class ProductDoesNotExistException extends Exception {\r\n    \r\n        public ProductDoesNotExistException(final int productId) {\r\n            super(&quot;No product with Product ID &quot; + productId + &quot; exists&quot;);\r\n        }\r\n    }\r\n\r\nError handler\r\n\r\n    @ControllerAdvice\r\n    public class ErrorHandlerControllerAdvice {\r\n    \r\n        private final RestApiResponseFactory restApiResponseFactory;\r\n    \r\n        public ErrorHandlerControllerAdvice(final RestApiResponseFactory restApiResponseFactory) {\r\n            this.restApiResponseFactory = restApiResponseFactory;\r\n        }\r\n    \r\n        /**\r\n         * Return 400 if a product does not exist\r\n         */\r\n        @ExceptionHandler(ProductDoesNotExistException.class)\r\n        public ResponseEntity&lt;RestApiResponse&gt; handleProductDoesNotExistException(\r\n                final ProductDoesNotExistException e) {\r\n            return ResponseEntity.badRequest()\r\n                    .body(restApiResponseFactory.createErrorResponse(e.getMessage()));\r\n        }\r\n    \r\n        /**\r\n         * Catch all exception handler. In case any exceptions slip through the cracks, we want to\r\n         * return a 500\r\n         *\r\n         * @param e the exception\r\n         * @return\r\n         */\r\n        @ExceptionHandler(Exception.class)\r\n        public ResponseEntity&lt;RestApiResponse&gt; handleGeneralException(final Exception e) {\r\n            return ResponseEntity.internalServerError()\r\n                    .body(restApiResponseFactory.createErrorResponse(e.getMessage()));\r\n        }\r\n    \r\n    }","title":"Should my custom exception be checked or unchecked in my spring boot application","body":"<p>I'm writing a simple online shop using spring boot, for learning purposes. Right now I have purchasing-service and a product-service. The purchasing-service makes requests to the product-service via REST APIs for querying for product information. All of this is working, but I'm unclear on if I'm using exceptions correctly within the product-service.</p>\n<p>I have an endpoint in my controller called retrieveProductById that retrieves information about a product given the product id. This id is passed to a service, which then uses a repository to look up the product in the database and return the product information. If the product id does not exist in the database, it throws a ProductDoesNotExistException. This is then handled by an ErrorHandlerControllerAdvice class that simply returns a 400 bad request response with the erorr message to the caller.</p>\n<p><strong>My question is:</strong> should my ProductDoesNotExistException be checked, or unchecked? To me, it makes sense for it to be checked, because as a developer or even a consumer of the API, you can clearly infer that if you give an invalid product id to the API, it will throw a ProductDoesNotExistException. If I change the exception to be unchecked, this is not as clear, as the IDE does not enforce me to explicitly add a throws ProductDoesNotExistException to the method signature.</p>\n<p>So what would be the correct approach here? I do feel like it almost doesn't matter which I choose, as the controller advice class will handle the exception regardless of the type when it is thrown, so is the decision just a matter of preference on the developer part? See code below:</p>\n<p>Controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/products&quot;)\n@Slf4j\npublic class ProductController {\n\n    private final ProductService productService;\n    private final RestApiResponseFactory restApiResponseFactory;\n\n    public ProductController(final ProductService productService,\n            final RestApiResponseFactory restApiResponseFactory) {\n        this.productService = productService;\n        this.restApiResponseFactory = restApiResponseFactory;\n    }\n\n\n    @GetMapping(&quot;/{productId}&quot;)\n    public ResponseEntity&lt;RestApiResponse&lt;ProductVO&gt;&gt; retrieveProductById(\n            @PathVariable final String productId) throws ProductDoesNotExistException {\n        log.info(&quot;Request made to find product {}&quot;, productId);\n        final ProductVO productVO = this.productService.retrieveProductById(\n                Integer.parseInt(productId));\n        return ResponseEntity.ok(this.restApiResponseFactory.createSuccessResponse(productVO));\n    }\n}\n</code></pre>\n<p>Service</p>\n<pre><code>@Service\n@Slf4j\npublic class ProductService {\n\n    private final ProductRepository productRepository;\n\n    public ProductService(final ProductRepository productRepository) {\n        this.productRepository = productRepository;\n    }\n\n    public ProductVO retrieveProductById(final int productId) throws ProductDoesNotExistException {\n        final Product product = findProductById(productId).orElseThrow(\n                () -&gt; new ProductDoesNotExistException(productId));\n        return new ProductVO(product);\n    }\n\n    private Optional&lt;Product&gt; findProductById(final int productId) {\n        return this.productRepository.findById(productId);\n    }\n\n}\n</code></pre>\n<p>Exception</p>\n<pre><code>public class ProductDoesNotExistException extends Exception {\n\n    public ProductDoesNotExistException(final int productId) {\n        super(&quot;No product with Product ID &quot; + productId + &quot; exists&quot;);\n    }\n}\n</code></pre>\n<p>Error handler</p>\n<pre><code>@ControllerAdvice\npublic class ErrorHandlerControllerAdvice {\n\n    private final RestApiResponseFactory restApiResponseFactory;\n\n    public ErrorHandlerControllerAdvice(final RestApiResponseFactory restApiResponseFactory) {\n        this.restApiResponseFactory = restApiResponseFactory;\n    }\n\n    /**\n     * Return 400 if a product does not exist\n     */\n    @ExceptionHandler(ProductDoesNotExistException.class)\n    public ResponseEntity&lt;RestApiResponse&gt; handleProductDoesNotExistException(\n            final ProductDoesNotExistException e) {\n        return ResponseEntity.badRequest()\n                .body(restApiResponseFactory.createErrorResponse(e.getMessage()));\n    }\n\n    /**\n     * Catch all exception handler. In case any exceptions slip through the cracks, we want to\n     * return a 500\n     *\n     * @param e the exception\n     * @return\n     */\n    @ExceptionHandler(Exception.class)\n    public ResponseEntity&lt;RestApiResponse&gt; handleGeneralException(final Exception e) {\n        return ResponseEntity.internalServerError()\n                .body(restApiResponseFactory.createErrorResponse(e.getMessage()));\n    }\n\n}\n</code></pre>\n"},{"tags":["java","git","maven"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1675362159,"post_id":75327377,"comment_id":132918055,"body_markdown":"You mean `git mv`? What specific problem are you having?","body":"You mean <code>git mv</code>? What specific problem are you having?"},{"owner":{"account_id":6098218,"reputation":707,"user_id":4758320,"accept_rate":72,"display_name":"Dev Anand Sadasivam"},"score":0,"creation_date":1675362207,"post_id":75327377,"comment_id":132918065,"body_markdown":"I&#39;ve tried executing `git mv src/ src/main/`. But I have got a error like,- `fatal: can not move directory into itself, source=src, destination=src/main`","body":"I&#39;ve tried executing <code>git mv src&#47; src&#47;main&#47;</code>. But I have got a error like,- <code>fatal: can not move directory into itself, source=src, destination=src&#47;main</code>"}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675369239,"creation_date":1675369239,"answer_id":75328550,"question_id":75327377,"body_markdown":"You might need to move the content of `src/` rather than src/ itself\r\n\r\n```bash\r\ncd src\r\nmkdir main\r\ngit mv -k * ./main/\r\n```\r\n\r\nOn the [`git mv -k` option][1], see &quot;[Move all files of a git directory into subdirectory and maintain history][2]&quot;\r\n\r\n\r\n  [1]: https://git-scm.com/docs/git-mv#Documentation/git-mv.txt--k\r\n  [2]: https://stackoverflow.com/a/35201800/6309","title":"How to move git repository folder into new folder like,- src/* to src/main/* for converting Eclipse based Java Application to Maven Project","body":"<p>You might need to move the content of <code>src/</code> rather than src/ itself</p>\n<pre class=\"lang-bash prettyprint-override\"><code>cd src\nmkdir main\ngit mv -k * ./main/\n</code></pre>\n<p>On the <a href=\"https://git-scm.com/docs/git-mv#Documentation/git-mv.txt--k\" rel=\"nofollow noreferrer\"><code>git mv -k</code> option</a>, see &quot;<a href=\"https://stackoverflow.com/a/35201800/6309\">Move all files of a git directory into subdirectory and maintain history</a>&quot;</p>\n"}],"owner":{"account_id":6098218,"reputation":707,"user_id":4758320,"accept_rate":72,"display_name":"Dev Anand Sadasivam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75328550,"answer_count":1,"score":0,"last_activity_date":1675369239,"creation_date":1675361961,"question_id":75327377,"body_markdown":"I am in the process making my Java application Maven-based.\r\n\r\nSo I have to move my `src/*` into `src/main/*`.\r\n\r\nPlease help me out with the `git` commands.","title":"How to move git repository folder into new folder like,- src/* to src/main/* for converting Eclipse based Java Application to Maven Project","body":"<p>I am in the process making my Java application Maven-based.</p>\n<p>So I have to move my <code>src/*</code> into <code>src/main/*</code>.</p>\n<p>Please help me out with the <code>git</code> commands.</p>\n"},{"tags":["java","intellij-idea","glassfish","payara"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1530870322,"post_id":51207430,"comment_id":89395817,"body_markdown":"This has no relation to IntelliJ IDEA since the port of the externally started server is not accepting the connections.","body":"This has no relation to IntelliJ IDEA since the port of the externally started server is not accepting the connections."},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1530870769,"post_id":51207430,"comment_id":89396125,"body_markdown":"*Debug* checkbox is disabled in your server settings according to the provided screenshot, therefore the server is not listening for the debugger on port 9009.","body":"<i>Debug</i> checkbox is disabled in your server settings according to the provided screenshot, therefore the server is not listening for the debugger on port 9009."},{"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"score":0,"creation_date":1530870776,"post_id":51207430,"comment_id":89396129,"body_markdown":"@CrazyCoder - thanks, the reason I mention IntelliJ, is because I only started getting this error after I enabled HotSwap in IntelliJ. Now I get the error even if I don&#39;t use the HotSwap config.","body":"@CrazyCoder - thanks, the reason I mention IntelliJ, is because I only started getting this error after I enabled HotSwap in IntelliJ. Now I get the error even if I don&#39;t use the HotSwap config."},{"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"score":0,"creation_date":1530871645,"post_id":51207430,"comment_id":89396702,"body_markdown":"@CrazyCoder - thanks I will enable it, and try.","body":"@CrazyCoder - thanks I will enable it, and try."},{"owner":{"account_id":411863,"reputation":7400,"user_id":784594,"display_name":"OndroMih"},"score":1,"creation_date":1531207902,"post_id":51207430,"comment_id":89497313,"body_markdown":"It seems something is blocking the 9009 port. Try setting the debug port to something else, e.g. 9019 in both Payara Server and IntelliJ settings.","body":"It seems something is blocking the 9009 port. Try setting the debug port to something else, e.g. 9019 in both Payara Server and IntelliJ settings."}],"answers":[{"tags":[],"owner":{"account_id":2384530,"reputation":1672,"user_id":2085768,"display_name":"RoutesMaps.com"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1539116640,"creation_date":1539077520,"answer_id":52717704,"question_id":51207430,"body_markdown":" 1. In glassfish\\domains\\domain1\\config\\domain.xml :\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;java-config classpath-suffix=&quot;&quot; debug-options=&quot;-agentlib:jdwp=transport=dt_socket,address=9009,server=y,suspend=n&quot; java-home=&quot;C:\\Program Files\\Java\\jdk1.8.0_162&quot; debug-enabled=&quot;true&quot; system-classpath=&quot;&quot;&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nor in http://localhost:4848/common/index.jsf\r\n[![Glassfish 4 debug-enabled=&quot;true&quot; address=9009,server=y,suspend=n][2]][2]\r\n2. In current Idea - Server Run Configuration - Debug - Port - address\r\n[![Server Run Configuration - Debug - Port - address][3]][3]\r\n\r\n\r\n  [2]: https://i.stack.imgur.com/5J2Si.png\r\n  [3]: https://i.stack.imgur.com/pOJL0.png","title":"IntelliJ - Remote debug - Unable to open debugger port","body":"<ol>\n<li>In glassfish\\domains\\domain1\\config\\domain.xml :</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;java-config classpath-suffix=\"\" debug-options=\"-agentlib:jdwp=transport=dt_socket,address=9009,server=y,suspend=n\" java-home=\"C:\\Program Files\\Java\\jdk1.8.0_162\" debug-enabled=\"true\" system-classpath=\"\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>or in <a href=\"http://localhost:4848/common/index.jsf\" rel=\"nofollow noreferrer\">http://localhost:4848/common/index.jsf</a>\n<a href=\"https://i.stack.imgur.com/5J2Si.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5J2Si.png\" alt=\"Glassfish 4 debug-enabled=&quot;true&quot; address=9009,server=y,suspend=n\"></a>\n2. In current Idea - Server Run Configuration - Debug - Port - address\n<a href=\"https://i.stack.imgur.com/pOJL0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pOJL0.png\" alt=\"Server Run Configuration - Debug - Port - address\"></a></p>\n"},{"tags":[],"owner":{"account_id":14222505,"reputation":1863,"user_id":10275943,"display_name":"Ikbel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634814907,"creation_date":1634814907,"answer_id":69660955,"question_id":51207430,"body_markdown":"I had the same problem and this solution also did the trick for me: Provide the IP 127.0.0.1 in the Intellij Debug configuration instead of the host name &quot;localhost&quot;, in case you&#39;re using this hostname.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Kuvpa.png","title":"IntelliJ - Remote debug - Unable to open debugger port","body":"<p>I had the same problem and this solution also did the trick for me: Provide the IP 127.0.0.1 in the Intellij Debug configuration instead of the host name &quot;localhost&quot;, in case you're using this hostname.</p>\n<p><a href=\"https://i.stack.imgur.com/Kuvpa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kuvpa.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":22962876,"reputation":1,"user_id":17092442,"display_name":"Onkar Shinde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675369170,"creation_date":1675369061,"answer_id":75328527,"question_id":51207430,"body_markdown":"I have simple solution on that but its not permanent fix on this issue. You can invalidate and restart your IntelliJ Idea and try again to debug your codebase.","title":"IntelliJ - Remote debug - Unable to open debugger port","body":"<p>I have simple solution on that but its not permanent fix on this issue. You can invalidate and restart your IntelliJ Idea and try again to debug your codebase.</p>\n"}],"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28893,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":3,"score":5,"last_activity_date":1675369170,"creation_date":1530869949,"question_id":51207430,"body_markdown":"I am using IntelliJ 2017.3 with Payara 4.1.2.172. I used to just start the server from the command line had a Remote Debug running on port 9009, and everything used to work fine.\r\n[![enter image description here][1]][1]\r\n\r\nThen I set up an plugged in server with attached modules in IntelliJ, to enable HotSwap. I run this server in debug mode, and it works fine.\r\n\r\nNow, if I don&#39;t use the plugged in server, but want to start the server as previous, when I run the debug remote, I get the following:\r\n\r\n**Error**\r\n\r\n&gt; Error running &#39;Debug Glassfish OSM&#39;: Unable to open debugger port\r\n&gt; (localhost:9009): java.net.ConnectException &quot;Connection refused:\r\n&gt; connect&quot;\r\n\r\nI have run a netstat and there&#39;s nothing running on port 9009.\r\n\r\n**Question**\r\n\r\nHow do I get the remote debug working on the server?\r\n\r\n\r\n**More info**\r\n\r\nThe domail.xml has:\r\n\r\n    &lt;system-property name=&quot;JAVA_DEBUGGER_PORT&quot; value=&quot;9009&quot;&gt;&lt;/system-property&gt;\r\n\r\nAnd in the server-config JVM Settings:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**More info**\r\n\r\nI set the above &#39;Enable&#39; checkbox to on, but now I get the following error when I try start the server, i.e. the server won&#39;t start now. (netstat shows noting running on port 9009)\r\n\r\n&gt; ERROR: transport error 202: connect failed: Connection refused ERROR:\r\n&gt; JDWP Transport dt_socket failed to initialize, TRANSPORT_INIT(510)\r\n&gt; JDWP exit error AGENT_ERROR_TRANSPORT_INIT(197): No transports\r\n&gt; initialized [debugInit.c:750]\r\n\r\nIf I set it to off in the damain.cml, I still get the error and am unable to start the server.\r\n\r\n    &lt;java-config classpath-suffix=&quot;&quot; debug-options=&quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=${JAVA_DEBUGGER_PORT}&quot; debug-enabled=&quot;true&quot; system-classpath=&quot;&quot;&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/Jvv4m.png\r\n  [2]: https://i.stack.imgur.com/EOjzP.png","title":"IntelliJ - Remote debug - Unable to open debugger port","body":"<p>I am using IntelliJ 2017.3 with Payara 4.1.2.172. I used to just start the server from the command line had a Remote Debug running on port 9009, and everything used to work fine.\n<a href=\"https://i.stack.imgur.com/Jvv4m.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Jvv4m.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then I set up an plugged in server with attached modules in IntelliJ, to enable HotSwap. I run this server in debug mode, and it works fine.</p>\n\n<p>Now, if I don't use the plugged in server, but want to start the server as previous, when I run the debug remote, I get the following:</p>\n\n<p><strong>Error</strong></p>\n\n<blockquote>\n  <p>Error running 'Debug Glassfish OSM': Unable to open debugger port\n  (localhost:9009): java.net.ConnectException \"Connection refused:\n  connect\"</p>\n</blockquote>\n\n<p>I have run a netstat and there's nothing running on port 9009.</p>\n\n<p><strong>Question</strong></p>\n\n<p>How do I get the remote debug working on the server?</p>\n\n<p><strong>More info</strong></p>\n\n<p>The domail.xml has:</p>\n\n<pre><code>&lt;system-property name=\"JAVA_DEBUGGER_PORT\" value=\"9009\"&gt;&lt;/system-property&gt;\n</code></pre>\n\n<p>And in the server-config JVM Settings:</p>\n\n<p><a href=\"https://i.stack.imgur.com/EOjzP.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/EOjzP.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>More info</strong></p>\n\n<p>I set the above 'Enable' checkbox to on, but now I get the following error when I try start the server, i.e. the server won't start now. (netstat shows noting running on port 9009)</p>\n\n<blockquote>\n  <p>ERROR: transport error 202: connect failed: Connection refused ERROR:\n  JDWP Transport dt_socket failed to initialize, TRANSPORT_INIT(510)\n  JDWP exit error AGENT_ERROR_TRANSPORT_INIT(197): No transports\n  initialized [debugInit.c:750]</p>\n</blockquote>\n\n<p>If I set it to off in the damain.cml, I still get the error and am unable to start the server.</p>\n\n<pre><code>&lt;java-config classpath-suffix=\"\" debug-options=\"-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=${JAVA_DEBUGGER_PORT}\" debug-enabled=\"true\" system-classpath=\"\"&gt;\n</code></pre>\n"},{"tags":["java","multithreading","performance","concurrency","threadpool"],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1591297439,"creation_date":1366495704,"answer_id":16125701,"question_id":16125626,"body_markdown":"&gt; Can anyone tell me what can be the reason for such high performance issues with `newSingleThreadExecutor` vs `newFixedThreadPool(20)`...\r\n\r\nIf you are running many more tasks in parallel (20 in the case) than you have processors (I doubt that you have 20+ processor box) then yes, each individual task is going to take longer to complete.  It is easier for the computer to execute one task at a time instead of switching between multiple threads running at the same time.  Even if you limit the number of threads in the pool to the number of CPUs you have, each task probably will run slower, albeit slightly.\r\n\r\nIf, however, you compare the _throughput_ (amount of time needed to complete a number of tasks) of your different sized thread pools, you should see that the 20 thread throughput should be higher.  If you execute 1000 tasks with 20 threads, they overall will finish much sooner than with just 1 thread.  Each task may take longer but they will be executing in parallel.  It will probably not be 20 times faster given thread overhead, etc. but it might be something like 15 times faster.\r\n\r\nYou should not be worrying about the individual task speed but rather you should be trying to maximize the task throughput by tuning the number of threads in your pool.  How many threads to use depends heavily on the amount of IO, the CPU cycles used by each task, locks, synchronized blocks, other applications running on the OS, and other factors.\r\n\r\nPeople often use 1-2 times the number of CPUs as a good place to start in terms of the number of threads in the pool to maximize throughput.  More IO requests or thread blocking operations then add more threads.  More CPU bound then reduce the number of threads to be closer to the number of CPUs available.  If your application is competing for OS cycles with other more important applications on the server then even less threads may be required.\r\n","title":"Performance Issues with newFixedThreadPool vs newSingleThreadExecutor","body":"<blockquote>\n  <p>Can anyone tell me what can be the reason for such high performance issues with <code>newSingleThreadExecutor</code> vs <code>newFixedThreadPool(20)</code>...</p>\n</blockquote>\n\n<p>If you are running many more tasks in parallel (20 in the case) than you have processors (I doubt that you have 20+ processor box) then yes, each individual task is going to take longer to complete.  It is easier for the computer to execute one task at a time instead of switching between multiple threads running at the same time.  Even if you limit the number of threads in the pool to the number of CPUs you have, each task probably will run slower, albeit slightly.</p>\n\n<p>If, however, you compare the <em>throughput</em> (amount of time needed to complete a number of tasks) of your different sized thread pools, you should see that the 20 thread throughput should be higher.  If you execute 1000 tasks with 20 threads, they overall will finish much sooner than with just 1 thread.  Each task may take longer but they will be executing in parallel.  It will probably not be 20 times faster given thread overhead, etc. but it might be something like 15 times faster.</p>\n\n<p>You should not be worrying about the individual task speed but rather you should be trying to maximize the task throughput by tuning the number of threads in your pool.  How many threads to use depends heavily on the amount of IO, the CPU cycles used by each task, locks, synchronized blocks, other applications running on the OS, and other factors.</p>\n\n<p>People often use 1-2 times the number of CPUs as a good place to start in terms of the number of threads in the pool to maximize throughput.  More IO requests or thread blocking operations then add more threads.  More CPU bound then reduce the number of threads to be closer to the number of CPUs available.  If your application is competing for OS cycles with other more important applications on the server then even less threads may be required.</p>\n"}],"owner":{"account_id":335839,"reputation":23526,"user_id":663148,"accept_rate":90,"display_name":"arsenal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7017,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":16125701,"answer_count":1,"score":6,"last_activity_date":1675369053,"creation_date":1366495095,"question_id":16125626,"body_markdown":"I am trying to Benchmark our Client code. So I decided I will write a multithreading program to do the benchmarking of my client code. I am trying to measure how much `time (95 Percentile)` below method will take-\r\n\r\n`attributes = deClient.getDEAttributes(columnsList);`\r\n\r\nSo below is the multithreaded code I wrote to do the benchmarking on the above method. I am seeing lot of variations in my two scenarios-\r\n\r\n1) Firstly, with multithreaded code by using `20 threads` and `running for 15 minutes`. I get 95 percentile as `37ms`. And I am using-\r\n   \r\n    ExecutorService service = Executors.newFixedThreadPool(20);\r\n\r\n2) But If I am running my same program for `15 minutes` using-\r\n\r\n`ExecutorService service = Executors.newSingleThreadExecutor();` \r\n\r\ninstead of\r\n\r\n`ExecutorService service = Executors.newFixedThreadPool(20);`\r\n\r\nI get 95 percentile as `7ms` which is way less than the above number when I am running my code with `newFixedThreadPool(20)`.\r\n\r\n**Can anyone tell me what can be the reason for such high performance issues with-**\r\n\r\n`newSingleThreadExecutor vs newFixedThreadPool(20)`\r\n\r\nAnd by both ways I am running my program for `15 minutes`.\r\n\r\n\r\nBelow is my code-\r\n\r\n    public static void main(String[] args) {\r\n    \r\n    \ttry {\r\n    \r\n    \t\t// create thread pool with given size\r\n    \t\t//ExecutorService service = Executors.newFixedThreadPool(20);\r\n    \t\tExecutorService service = Executors.newSingleThreadExecutor();\r\n    \r\n    \t\tlong startTime = System.currentTimeMillis();\r\n    \t\tlong endTime = startTime + (15 * 60 * 1000);//Running for 15 minutes\r\n    \r\n    \t\tfor (int i = 0; i &lt; threads; i++) {\r\n    \t\t\tservice.submit(new ServiceTask(endTime, serviceList));\r\n    \t\t}\r\n    \r\n    \t\t// wait for termination        \r\n    \t\tservice.shutdown();\r\n    \t\tservice.awaitTermination(Long.MAX_VALUE, TimeUnit.DAYS);\r\n    \t} catch (InterruptedException e) {\r\n    \t\r\n    \t} catch (Exception e) {\r\n    \t\r\n    \t}\r\n    }\r\n\t\r\n\r\nBelow is the class that implements Runnable interface-\r\n\t\r\n    class ServiceTask implements Runnable {\r\n    \r\n    \tprivate static final Logger LOG = Logger.getLogger(ServiceTask.class.getName());\r\n    \tprivate static Random random = new SecureRandom();\r\n    \t\r\n    \tpublic static volatile AtomicInteger countSize = new AtomicInteger();\r\n    \t\r\n    \tprivate final long endTime;\r\n    \tprivate final LinkedHashMap&lt;String, ServiceInfo&gt; tableLists;\r\n    \t\r\n    \tpublic static ConcurrentHashMap&lt;Long, Long&gt; selectHistogram = new ConcurrentHashMap&lt;Long, Long&gt;();\r\n    \r\n    \r\n        public ServiceTask(long endTime, LinkedHashMap&lt;String, ServiceInfo&gt; tableList) {\r\n        \tthis.endTime = endTime;\r\n        \tthis.tableLists = tableList;\r\n        }\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \r\n    \t\ttry {\r\n    \r\n    \t\t\twhile (System.currentTimeMillis() &lt;= endTime) {\r\n    \r\n    \t\t\t\tdouble randomNumber = random.nextDouble() * 100.0;\r\n    \r\n    \t\t\t\tServiceInfo service = selectRandomService(randomNumber);\r\n    \r\n    \t\t\t\tfinal String id = generateRandomId(random);\r\n    \t\t\t\tfinal List&lt;String&gt; columnsList = getColumns(service.getColumns());\r\n    \r\n    \t\t\t\tList&lt;DEAttribute&lt;?&gt;&gt; attributes = null;\r\n    \r\n    \t\t\t\tDEKey bk = new DEKey(service.getKeys(), id);\r\n    \t\t\t\tList&lt;DEKey&gt; list = new ArrayList&lt;DEKey&gt;();\r\n    \t\t\t\tlist.add(bk);\r\n    \r\n    \t\t\t\tClient deClient = new Client(list);\r\n    \r\n    \t\t\t\tfinal long start = System.nanoTime();\r\n    \r\n    \t\t\t\tattributes = deClient.getDEAttributes(columnsList);\r\n    \r\n    \t\t\t\tfinal long end = System.nanoTime() - start;\r\n    \t\t\t\tfinal long key = end / 1000000L;\r\n    \t\t\t\tboolean done = false;\r\n    \t\t\t\twhile(!done) {\r\n    \t\t\t\t\tLong oldValue = selectHistogram.putIfAbsent(key, 1L);\r\n    \t\t\t\t\tif(oldValue != null) {\r\n    \t\t\t\t\t\tdone = selectHistogram.replace(key, oldValue, oldValue + 1);\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tdone = true;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\tcountSize.getAndAdd(attributes.size());\r\n    \r\n    \t\t\t\thandleDEAttribute(attributes);\r\n    \r\n    \t\t\t\tif (BEServiceLnP.sleepTime &gt; 0L) {\r\n    \t\t\t\t\tThread.sleep(BEServiceLnP.sleepTime);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**Updated:-**\r\n\r\nHere is my processor spec- I am running my program from Linux machine with 2 processors defined as:\r\n\r\n    vendor_id       : GenuineIntel\r\n    cpu family      : 6\r\n    model           : 45\r\n    model name      : Intel(R) Xeon(R) CPU E5-2670 0 @ 2.60GHz\r\n    stepping        : 7\r\n    cpu MHz         : 2599.999\r\n    cache size      : 20480 KB\r\n    fpu             : yes\r\n    fpu_exception   : yes\r\n    cpuid level     : 13\r\n    wp              : yes\r\n    flags           : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss syscall nx rdtscp lm constant_tsc arch_perfmon pebs bts rep_good xtopology tsc_reliable nonstop_tsc aperfmperf pni pclmulqdq ssse3 cx16 sse4_1 sse4_2 popcnt aes hypervisor lahf_lm arat pln pts\r\n    bogomips        : 5199.99\r\n    clflush size    : 64\r\n    cache_alignment : 64\r\n    address sizes   : 40 bits physical, 48 bits virtual\r\n    power management:\r\n","title":"Performance Issues with newFixedThreadPool vs newSingleThreadExecutor","body":"<p>I am trying to Benchmark our Client code. So I decided I will write a multithreading program to do the benchmarking of my client code. I am trying to measure how much <code>time (95 Percentile)</code> below method will take-</p>\n\n<p><code>attributes = deClient.getDEAttributes(columnsList);</code></p>\n\n<p>So below is the multithreaded code I wrote to do the benchmarking on the above method. I am seeing lot of variations in my two scenarios-</p>\n\n<p>1) Firstly, with multithreaded code by using <code>20 threads</code> and <code>running for 15 minutes</code>. I get 95 percentile as <code>37ms</code>. And I am using-</p>\n\n<pre><code>ExecutorService service = Executors.newFixedThreadPool(20);\n</code></pre>\n\n<p>2) But If I am running my same program for <code>15 minutes</code> using-</p>\n\n<p><code>ExecutorService service = Executors.newSingleThreadExecutor();</code> </p>\n\n<p>instead of</p>\n\n<p><code>ExecutorService service = Executors.newFixedThreadPool(20);</code></p>\n\n<p>I get 95 percentile as <code>7ms</code> which is way less than the above number when I am running my code with <code>newFixedThreadPool(20)</code>.</p>\n\n<p><strong>Can anyone tell me what can be the reason for such high performance issues with-</strong></p>\n\n<p><code>newSingleThreadExecutor vs newFixedThreadPool(20)</code></p>\n\n<p>And by both ways I am running my program for <code>15 minutes</code>.</p>\n\n<p>Below is my code-</p>\n\n<pre><code>public static void main(String[] args) {\n\n    try {\n\n        // create thread pool with given size\n        //ExecutorService service = Executors.newFixedThreadPool(20);\n        ExecutorService service = Executors.newSingleThreadExecutor();\n\n        long startTime = System.currentTimeMillis();\n        long endTime = startTime + (15 * 60 * 1000);//Running for 15 minutes\n\n        for (int i = 0; i &lt; threads; i++) {\n            service.submit(new ServiceTask(endTime, serviceList));\n        }\n\n        // wait for termination        \n        service.shutdown();\n        service.awaitTermination(Long.MAX_VALUE, TimeUnit.DAYS);\n    } catch (InterruptedException e) {\n\n    } catch (Exception e) {\n\n    }\n}\n</code></pre>\n\n<p>Below is the class that implements Runnable interface-</p>\n\n<pre><code>class ServiceTask implements Runnable {\n\n    private static final Logger LOG = Logger.getLogger(ServiceTask.class.getName());\n    private static Random random = new SecureRandom();\n\n    public static volatile AtomicInteger countSize = new AtomicInteger();\n\n    private final long endTime;\n    private final LinkedHashMap&lt;String, ServiceInfo&gt; tableLists;\n\n    public static ConcurrentHashMap&lt;Long, Long&gt; selectHistogram = new ConcurrentHashMap&lt;Long, Long&gt;();\n\n\n    public ServiceTask(long endTime, LinkedHashMap&lt;String, ServiceInfo&gt; tableList) {\n        this.endTime = endTime;\n        this.tableLists = tableList;\n    }\n\n    @Override\n    public void run() {\n\n        try {\n\n            while (System.currentTimeMillis() &lt;= endTime) {\n\n                double randomNumber = random.nextDouble() * 100.0;\n\n                ServiceInfo service = selectRandomService(randomNumber);\n\n                final String id = generateRandomId(random);\n                final List&lt;String&gt; columnsList = getColumns(service.getColumns());\n\n                List&lt;DEAttribute&lt;?&gt;&gt; attributes = null;\n\n                DEKey bk = new DEKey(service.getKeys(), id);\n                List&lt;DEKey&gt; list = new ArrayList&lt;DEKey&gt;();\n                list.add(bk);\n\n                Client deClient = new Client(list);\n\n                final long start = System.nanoTime();\n\n                attributes = deClient.getDEAttributes(columnsList);\n\n                final long end = System.nanoTime() - start;\n                final long key = end / 1000000L;\n                boolean done = false;\n                while(!done) {\n                    Long oldValue = selectHistogram.putIfAbsent(key, 1L);\n                    if(oldValue != null) {\n                        done = selectHistogram.replace(key, oldValue, oldValue + 1);\n                    } else {\n                        done = true;\n                    }\n                }\n                countSize.getAndAdd(attributes.size());\n\n                handleDEAttribute(attributes);\n\n                if (BEServiceLnP.sleepTime &gt; 0L) {\n                    Thread.sleep(BEServiceLnP.sleepTime);\n                }\n            }\n        } catch (Exception e) {\n\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Updated:-</strong></p>\n\n<p>Here is my processor spec- I am running my program from Linux machine with 2 processors defined as:</p>\n\n<pre><code>vendor_id       : GenuineIntel\ncpu family      : 6\nmodel           : 45\nmodel name      : Intel(R) Xeon(R) CPU E5-2670 0 @ 2.60GHz\nstepping        : 7\ncpu MHz         : 2599.999\ncache size      : 20480 KB\nfpu             : yes\nfpu_exception   : yes\ncpuid level     : 13\nwp              : yes\nflags           : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss syscall nx rdtscp lm constant_tsc arch_perfmon pebs bts rep_good xtopology tsc_reliable nonstop_tsc aperfmperf pni pclmulqdq ssse3 cx16 sse4_1 sse4_2 popcnt aes hypervisor lahf_lm arat pln pts\nbogomips        : 5199.99\nclflush size    : 64\ncache_alignment : 64\naddress sizes   : 40 bits physical, 48 bits virtual\npower management:\n</code></pre>\n"},{"tags":["java","spring-boot","swagger","springfox"],"comments":[{"owner":{"account_id":17194492,"reputation":115,"user_id":12447592,"display_name":"pooya"},"score":0,"creation_date":1658455752,"post_id":73073519,"comment_id":129061261,"body_markdown":"it is interesting that ``permitAll()`` didn&#39;t  work but i think you need to use ``ignoring()`` on wagger url. check out this post [link](https://stackoverflow.com/questions/37671125/how-to-configure-spring-security-to-allow-swagger-url-to-be-accessed-without-aut)","body":"it is interesting that <code>permitAll()</code> didn&#39;t  work but i think you need to use <code>ignoring()</code> on wagger url. check out this post <a href=\"https://stackoverflow.com/questions/37671125/how-to-configure-spring-security-to-allow-swagger-url-to-be-accessed-without-aut\">link</a>"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1658481918,"post_id":73073519,"comment_id":129067186,"body_markdown":"@pooya As you can see, I also used ignoring() but it didn&#39;t work. I also defined all these links regarding swagger securityFilterChain method but nothing changed.","body":"@pooya As you can see, I also used ignoring() but it didn&#39;t work. I also defined all these links regarding swagger securityFilterChain method but nothing changed."},{"owner":{"account_id":17194492,"reputation":115,"user_id":12447592,"display_name":"pooya"},"score":0,"creation_date":1658512972,"post_id":73073519,"comment_id":129078514,"body_markdown":"i looked again on your code so i am thinking  you should check first if you can set your configuration to ignore any URL from doing security process like create the test controller and see if it can get through the spring security. i said that because you didn&#39;t use ``public void configure(WebSecurity web)`` method for your configuration so if you find out your test controller can get through the spring security you must search how to exclude the URL by ``SecurityFilterChain`` . if your test controller couldn&#39;t get through the spring security you must change your method configuration and use","body":"i looked again on your code so i am thinking  you should check first if you can set your configuration to ignore any URL from doing security process like create the test controller and see if it can get through the spring security. i said that because you didn&#39;t use <code>public void configure(WebSecurity web)</code> method for your configuration so if you find out your test controller can get through the spring security you must search how to exclude the URL by <code>SecurityFilterChain</code> . if your test controller couldn&#39;t get through the spring security you must change your method configuration and use"},{"owner":{"account_id":17194492,"reputation":115,"user_id":12447592,"display_name":"pooya"},"score":0,"creation_date":1658512991,"post_id":73073519,"comment_id":129078522,"body_markdown":"``public void configure(WebSecurity web)``","body":"<code>public void configure(WebSecurity web)</code>"},{"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yldz"},"score":0,"creation_date":1679129997,"post_id":73073519,"comment_id":133668664,"body_markdown":"Please check my answer on **[How to run Swagger 3 on Spring Boot 3](https://stackoverflow.com/questions/74614369/how-to-run-swagger-3-on-spring-boot-3)**","body":"Please check my answer on <b><a href=\"https://stackoverflow.com/questions/74614369/how-to-run-swagger-3-on-spring-boot-3\">How to run Swagger 3 on Spring Boot 3</a></b>"}],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1658609572,"creation_date":1658609572,"answer_id":73094120,"question_id":73073519,"body_markdown":"Here is the answer\r\n\r\nI can access the url through `localhost:8080/swagger-ui.html`","title":"Cannot open Swagger UI in its Version 3 in my Spring Boot Example","body":"<p>Here is the answer</p>\n<p>I can access the url through <code>localhost:8080/swagger-ui.html</code></p>\n"},{"tags":[],"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yldz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675159823,"creation_date":1675159823,"answer_id":75295552,"question_id":73073519,"body_markdown":"If you are using `Spring Security`, use the following security configuration to allow public access to `Swagger UI` resources:\r\n\r\n```\r\npublic class SecurityConfig {\r\n\r\n    private static final String[] AUTH_WHITELIST = {\r\n\r\n            // for Swagger UI v2\r\n            &quot;/v2/api-docs&quot;,\r\n            &quot;/swagger-ui.html&quot;,\r\n            &quot;/swagger-resources&quot;,\r\n            &quot;/swagger-resources/**&quot;,\r\n            &quot;/configuration/ui&quot;,\r\n            &quot;/configuration/security&quot;,\r\n            &quot;/webjars/**&quot;,\r\n\r\n            // for Swagger UI v3 (OpenAPI)\r\n            &quot;/v3/api-docs/**&quot;,\r\n            &quot;/swagger-ui/**&quot;\r\n    };\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) {\r\n        httpSecurity\r\n                // ... other configuration settings                \r\n                .antMatchers(AUTH_WHITELIST).permitAll();\r\n        // ...\r\n    }\r\n}\r\n```","title":"Cannot open Swagger UI in its Version 3 in my Spring Boot Example","body":"<p>If you are using <code>Spring Security</code>, use the following security configuration to allow public access to <code>Swagger UI</code> resources:</p>\n<pre><code>public class SecurityConfig {\n\n    private static final String[] AUTH_WHITELIST = {\n\n            // for Swagger UI v2\n            &quot;/v2/api-docs&quot;,\n            &quot;/swagger-ui.html&quot;,\n            &quot;/swagger-resources&quot;,\n            &quot;/swagger-resources/**&quot;,\n            &quot;/configuration/ui&quot;,\n            &quot;/configuration/security&quot;,\n            &quot;/webjars/**&quot;,\n\n            // for Swagger UI v3 (OpenAPI)\n            &quot;/v3/api-docs/**&quot;,\n            &quot;/swagger-ui/**&quot;\n    };\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) {\n        httpSecurity\n                // ... other configuration settings                \n                .antMatchers(AUTH_WHITELIST).permitAll();\n        // ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5823,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1675368998,"creation_date":1658444685,"question_id":73073519,"body_markdown":"I have a problem about opening swagger ui in my Spring Boot Example.\r\n\r\nI get this kind of error when I access to localhost:8080/swagger-ui or localhost:8080/root-api-name:swagger-ui\r\n\r\n    Securing GET /springboot-blog-rest-api/swagger-ui\r\n    2022-07-22 01:38:58.820 DEBUG 30576 --- [nio-8080-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\r\n    2022-07-22 01:38:58.820 DEBUG 30576 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2022-07-22 01:38:58.820 DEBUG 30576 --- [nio-8080-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /springboot-blog-rest-api/swagger-ui] with attributes [authenticated]\r\n    2022-07-22 01:38:58.820 DEBUG 30576 --- [nio-8080-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\r\n    2022-07-22 01:38:58.820 DEBUG 30576 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error\r\n    2022-07-22 01:38:58.821 DEBUG 30576 --- [nio-8080-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\r\n    2022-07-22 01:38:58.821 DEBUG 30576 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2022-07-22 01:38:58.821 DEBUG 30576 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error\r\n    2022-07-22 01:38:58.821 DEBUG 30576 --- [nio-8080-exec-4] a.DefaultWebInvocationPrivilegeEvaluator : filter invocation [/error] denied for AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\r\n    \r\n    org.springframework.security.access.AccessDeniedException: Access is denied\r\n\r\nI used springfox-swagger2 version 3 , springfox-boot-starter version 3 and lastly springfox-swagger-ui version 2.9.\r\n\r\nHow can I fix my issue?\r\n\r\n\r\nHere is my SwaggerConfig File.\r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SwaggerConfig {\r\n    \r\n        public static final String AUTHORIZATION_HEADER = &quot;Authorization&quot;;\r\n    \r\n        private ApiKey apiKey(){\r\n            return new ApiKey(&quot;JWT&quot;, AUTHORIZATION_HEADER, &quot;header&quot;);\r\n        }\r\n    \r\n        private ApiInfo apiInfo(){\r\n            return new ApiInfo(\r\n                    &quot;Spring Boot Blog REST APIs&quot;,\r\n                    &quot;Spring Boot Blog REST API Documentation&quot;,\r\n                    &quot;1&quot;,\r\n                    &quot;Terms of service&quot;,\r\n                    new Contact(&quot;Name&quot;, &quot;website-address&quot;, &quot;Email&quot;),\r\n                    &quot;License of API&quot;,\r\n                    &quot;API license URL&quot;,\r\n                    Collections.emptyList()\r\n            );\r\n        }\r\n    \r\n        @Bean\r\n        public Docket api(){\r\n            return new Docket(DocumentationType.SWAGGER_2)\r\n                    .apiInfo(apiInfo())\r\n                    .securityContexts(Arrays.asList(securityContext()))\r\n                    .securitySchemes(Arrays.asList(apiKey()))\r\n                    .select()\r\n                    .apis(RequestHandlerSelectors.any())\r\n                    .paths(PathSelectors.any())\r\n                    .build();\r\n        }\r\n    \r\n        private SecurityContext securityContext(){\r\n            return SecurityContext.builder().securityReferences(defaultAuth()).build();\r\n        }\r\n    \r\n        private List&lt;SecurityReference&gt; defaultAuth(){\r\n            AuthorizationScope authorizationScope = new AuthorizationScope(&quot;global&quot;, &quot;accessEverything&quot;);\r\n            AuthorizationScope[] authorizationScopes = new AuthorizationScope[1];\r\n            authorizationScopes[0] = authorizationScope;\r\n            return Arrays.asList(new SecurityReference(&quot;JWT&quot;, authorizationScopes));\r\n        }\r\n    }\r\n\r\nHere is my SecurityConfig file\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class SecurityConfig {\r\n    \r\n    \r\n        @Autowired\r\n        private JwtAuthenticationEntryPoint authenticationEntryPoint;\r\n    \r\n        @Bean\r\n        public JwtAuthenticationFilter jwtAuthenticationFilter(){\r\n            return  new JwtAuthenticationFilter();\r\n        }\r\n    \r\n        @Bean\r\n        PasswordEncoder passwordEncoder(){\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n        \r\n        @Bean\r\n        public WebSecurityCustomizer webSecurityCustomizer() {\r\n            return (web) -&gt; web.ignoring().antMatchers(&quot;/v2/api-docs/**&quot;, \r\n            \t\t&quot;/swagger-ui/**&quot;,&quot;/swagger-resources/**&quot;,&quot;/swagger-ui.html&quot;,&quot;/webjars/**&quot;);\r\n        }\r\n    \r\n        @Bean\r\n        protected SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        \t\r\n            http\r\n                    .csrf().disable()\r\n                    .exceptionHandling()\r\n                    .authenticationEntryPoint(authenticationEntryPoint)\r\n                    .and()\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                    .and()\r\n                    .authorizeRequests((authorize) -&gt; authorize\r\n                            .antMatchers(HttpMethod.GET, &quot;/api/v1/**&quot;).permitAll()\r\n                            .antMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\r\n                            .anyRequest()\r\n                            .authenticated()\r\n                    );\r\n            http.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n            return http.build();\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationManager authenticationManager(\r\n                AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n            return authenticationConfiguration.getAuthenticationManager();\r\n        }\r\n        \r\n    \r\n    \r\n    }\r\n\r\n","title":"Cannot open Swagger UI in its Version 3 in my Spring Boot Example","body":"<p>I have a problem about opening swagger ui in my Spring Boot Example.</p>\n<p>I get this kind of error when I access to localhost:8080/swagger-ui or localhost:8080/root-api-name:swagger-ui</p>\n<pre><code>Securing GET /springboot-blog-rest-api/swagger-ui\n2022-07-22 01:38:58.820 DEBUG 30576 --- [nio-8080-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\n2022-07-22 01:38:58.820 DEBUG 30576 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2022-07-22 01:38:58.820 DEBUG 30576 --- [nio-8080-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /springboot-blog-rest-api/swagger-ui] with attributes [authenticated]\n2022-07-22 01:38:58.820 DEBUG 30576 --- [nio-8080-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\n2022-07-22 01:38:58.820 DEBUG 30576 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error\n2022-07-22 01:38:58.821 DEBUG 30576 --- [nio-8080-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\n2022-07-22 01:38:58.821 DEBUG 30576 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2022-07-22 01:38:58.821 DEBUG 30576 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error\n2022-07-22 01:38:58.821 DEBUG 30576 --- [nio-8080-exec-4] a.DefaultWebInvocationPrivilegeEvaluator : filter invocation [/error] denied for AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\n\norg.springframework.security.access.AccessDeniedException: Access is denied\n</code></pre>\n<p>I used springfox-swagger2 version 3 , springfox-boot-starter version 3 and lastly springfox-swagger-ui version 2.9.</p>\n<p>How can I fix my issue?</p>\n<p>Here is my SwaggerConfig File.</p>\n<pre><code>@Configuration\n@EnableSwagger2\npublic class SwaggerConfig {\n\n    public static final String AUTHORIZATION_HEADER = &quot;Authorization&quot;;\n\n    private ApiKey apiKey(){\n        return new ApiKey(&quot;JWT&quot;, AUTHORIZATION_HEADER, &quot;header&quot;);\n    }\n\n    private ApiInfo apiInfo(){\n        return new ApiInfo(\n                &quot;Spring Boot Blog REST APIs&quot;,\n                &quot;Spring Boot Blog REST API Documentation&quot;,\n                &quot;1&quot;,\n                &quot;Terms of service&quot;,\n                new Contact(&quot;Name&quot;, &quot;website-address&quot;, &quot;Email&quot;),\n                &quot;License of API&quot;,\n                &quot;API license URL&quot;,\n                Collections.emptyList()\n        );\n    }\n\n    @Bean\n    public Docket api(){\n        return new Docket(DocumentationType.SWAGGER_2)\n                .apiInfo(apiInfo())\n                .securityContexts(Arrays.asList(securityContext()))\n                .securitySchemes(Arrays.asList(apiKey()))\n                .select()\n                .apis(RequestHandlerSelectors.any())\n                .paths(PathSelectors.any())\n                .build();\n    }\n\n    private SecurityContext securityContext(){\n        return SecurityContext.builder().securityReferences(defaultAuth()).build();\n    }\n\n    private List&lt;SecurityReference&gt; defaultAuth(){\n        AuthorizationScope authorizationScope = new AuthorizationScope(&quot;global&quot;, &quot;accessEverything&quot;);\n        AuthorizationScope[] authorizationScopes = new AuthorizationScope[1];\n        authorizationScopes[0] = authorizationScope;\n        return Arrays.asList(new SecurityReference(&quot;JWT&quot;, authorizationScopes));\n    }\n}\n</code></pre>\n<p>Here is my SecurityConfig file</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfig {\n\n\n    @Autowired\n    private JwtAuthenticationEntryPoint authenticationEntryPoint;\n\n    @Bean\n    public JwtAuthenticationFilter jwtAuthenticationFilter(){\n        return  new JwtAuthenticationFilter();\n    }\n\n    @Bean\n    PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n    \n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer() {\n        return (web) -&gt; web.ignoring().antMatchers(&quot;/v2/api-docs/**&quot;, \n                &quot;/swagger-ui/**&quot;,&quot;/swagger-resources/**&quot;,&quot;/swagger-ui.html&quot;,&quot;/webjars/**&quot;);\n    }\n\n    @Bean\n    protected SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        \n        http\n                .csrf().disable()\n                .exceptionHandling()\n                .authenticationEntryPoint(authenticationEntryPoint)\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authorizeRequests((authorize) -&gt; authorize\n                        .antMatchers(HttpMethod.GET, &quot;/api/v1/**&quot;).permitAll()\n                        .antMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\n                        .anyRequest()\n                        .authenticated()\n                );\n        http.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\n        return http.build();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(\n            AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n    \n\n\n}\n</code></pre>\n"},{"tags":["java","arrays","reverse","code.org"],"comments":[{"owner":{"account_id":3766938,"reputation":1294,"user_id":3130218,"accept_rate":86,"display_name":"bb94"},"score":1,"creation_date":1675362506,"post_id":75327332,"comment_id":132918160,"body_markdown":"What code are you using to test the method?","body":"What code are you using to test the method?"}],"answers":[{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675368859,"creation_date":1675368859,"answer_id":75328495,"question_id":75327332,"body_markdown":"This is how I&#39;d write it:\r\n\r\n      public static void reverseShapes(Shape[][] shapes) {\r\n        for(Shape[] row : shapes) {\r\n          for(int left=0, right=row.length-1; left&lt;right; left++, right--) {\r\n            Shape tmp = row[left];\r\n            row[left] = row[right];\r\n            row[right] = tmp;\r\n          }\r\n        }\r\n      }\r\n\r\nI think it&#39;s much easier to understand with the enhanced `for` loop syntax pulling a row out at a time, and then the indexed `for` loop using two different variables, &quot;left&quot; and &quot;right&quot; moving inwards from the ends towards the middle without needing to calculate any indices.\r\n","title":"Reversing a 2D array of objects; Java","body":"<p>This is how I'd write it:</p>\n<pre><code>  public static void reverseShapes(Shape[][] shapes) {\n    for(Shape[] row : shapes) {\n      for(int left=0, right=row.length-1; left&lt;right; left++, right--) {\n        Shape tmp = row[left];\n        row[left] = row[right];\n        row[right] = tmp;\n      }\n    }\n  }\n</code></pre>\n<p>I think it's much easier to understand with the enhanced <code>for</code> loop syntax pulling a row out at a time, and then the indexed <code>for</code> loop using two different variables, &quot;left&quot; and &quot;right&quot; moving inwards from the ends towards the middle without needing to calculate any indices.</p>\n"}],"owner":{"account_id":27182466,"reputation":3,"user_id":20717467,"display_name":"Doot"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75328495,"answer_count":1,"score":0,"last_activity_date":1675368859,"creation_date":1675361699,"question_id":75327332,"body_markdown":"I need to reverse the objects in a 2D Array\r\n\r\nIt starts with:\r\n{triangle, circle, square}, {star, pentagon, donut}\r\n\r\nAnd should end with:\r\n{square, circle, triangle}, {donut, pentagon, star}\r\n\r\nCurrently it outputs:\r\ntriangle, circle, square, star, pentagon, donut\r\n\r\nI have looked at [this question](https://stackoverflow.com/questions/21920939/reverse-the-rows-of-a-2d-array) but even copying and pasting working code from that question doesn&#39;t work.\r\n\r\nHere is the current code I have:\r\n\r\n```\r\nShape[][] myShapes = {{triangle, circle, square}, {star, pentagon, donut}};\r\n\r\npublic static void reverseShapes(Shape[][] myShapes) {\r\n    // TO DO #1: Implement your algorithm to reverse myShapes.\r\n    for(int row = 0; row &lt; myShapes.length; row++){\r\n      \r\n      for(int col = 0; col &lt; myShapes[row].length / 2; col++) {\r\n        Shape temp = myShapes[row][col];\r\n        myShapes[row][col] = myShapes[row][myShapes[row].length - col - 1];\r\n        myShapes[row][myShapes[row].length - col - 1] = temp;\r\n      }\r\n    }\r\n    \r\n  }//end of reverseShapes\r\n```\r\n","title":"Reversing a 2D array of objects; Java","body":"<p>I need to reverse the objects in a 2D Array</p>\n<p>It starts with:\n{triangle, circle, square}, {star, pentagon, donut}</p>\n<p>And should end with:\n{square, circle, triangle}, {donut, pentagon, star}</p>\n<p>Currently it outputs:\ntriangle, circle, square, star, pentagon, donut</p>\n<p>I have looked at <a href=\"https://stackoverflow.com/questions/21920939/reverse-the-rows-of-a-2d-array\">this question</a> but even copying and pasting working code from that question doesn't work.</p>\n<p>Here is the current code I have:</p>\n<pre><code>Shape[][] myShapes = {{triangle, circle, square}, {star, pentagon, donut}};\n\npublic static void reverseShapes(Shape[][] myShapes) {\n    // TO DO #1: Implement your algorithm to reverse myShapes.\n    for(int row = 0; row &lt; myShapes.length; row++){\n      \n      for(int col = 0; col &lt; myShapes[row].length / 2; col++) {\n        Shape temp = myShapes[row][col];\n        myShapes[row][col] = myShapes[row][myShapes[row].length - col - 1];\n        myShapes[row][myShapes[row].length - col - 1] = temp;\n      }\n    }\n    \n  }//end of reverseShapes\n</code></pre>\n"},{"tags":["java","assertj"],"answers":[{"tags":[],"owner":{"account_id":1407336,"reputation":6523,"user_id":1348834,"display_name":"Joel Costigliola"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675368741,"creation_date":1675368741,"answer_id":75328473,"question_id":75317103,"body_markdown":"No there is no such capability at the moment.","title":"List diffs in the context of usingRecursiveComparison()","body":"<p>No there is no such capability at the moment.</p>\n"}],"owner":{"account_id":186752,"reputation":8053,"user_id":424353,"accept_rate":88,"display_name":"Bogdan Calmac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75328473,"answer_count":1,"score":0,"last_activity_date":1675368741,"creation_date":1675292556,"question_id":75317103,"body_markdown":"This is an AssertJ specific question. Consider the tests below where two lists are compared first directly and then nested in some other object through `usingRecursiveComparison()`.\r\n\r\n```java\r\npublic class RecursiveComparisonWithNestedListsTest {\r\n    @Test\r\n    void topLevelList() {\r\n        assertThat(List.of(&quot;Bob&quot;, &quot;Chris&quot;))\r\n                .containsExactlyElementsOf(List.of(&quot;Bob&quot;));\r\n    }\r\n    @Test\r\n    void nestedList() {\r\n        assertThat(new Person(&quot;Amy&quot;, List.of(&quot;Bob&quot;, &quot;Chris&quot;)))\r\n                .usingRecursiveComparison()\r\n                .isEqualTo(new Person(&quot;Amy&quot;, List.of(&quot;Bob&quot;)));\r\n    }\r\n}\r\nrecord Person(String name, List&lt;String&gt; friends) {\r\n}\r\n```\r\n\r\nIn the first case the message is more helpful, specifying the missing element:\r\n```\r\nExpecting actual:\r\n  [&quot;Bob&quot;, &quot;Chris&quot;]\r\nto contain exactly (and in same order):\r\n  [&quot;Bob&quot;]\r\nbut some elements were not expected:\r\n  [&quot;Chris&quot;]\r\n```\r\n\r\nIn the second case the message just mentions that the size differs:\r\n```\r\nExpecting actual:\r\n  Person[name=Amy, friends=[Bob, Chris]]\r\nto be equal to:\r\n  Person[name=Amy, friends=[Bob]]\r\nwhen recursively comparing field by field, but found the following difference:\r\n\r\nfield/property &#39;friends&#39; differ:\r\n- actual value  : [&quot;Bob&quot;, &quot;Chris&quot;]\r\n- expected value: [&quot;Bob&quot;]\r\nactual and expected values are collections of different size, actual size=2 when expected size=1\r\n```\r\n\r\nThis is just a simple example; the actual use case involves more complex objects and much larger lists. In that context, specifying what item is missing from the list makes a big difference. This brings me to my question: Is there any way to configure the recursive comparison to compare lists just like in the first example?\r\n\r\nI certainly have the workaround to ignore the list in the recursive comparison and then assert list equality separately, but I was wondering if there&#39;s some trick to get it all in one step.\r\n","title":"List diffs in the context of usingRecursiveComparison()","body":"<p>This is an AssertJ specific question. Consider the tests below where two lists are compared first directly and then nested in some other object through <code>usingRecursiveComparison()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RecursiveComparisonWithNestedListsTest {\n    @Test\n    void topLevelList() {\n        assertThat(List.of(&quot;Bob&quot;, &quot;Chris&quot;))\n                .containsExactlyElementsOf(List.of(&quot;Bob&quot;));\n    }\n    @Test\n    void nestedList() {\n        assertThat(new Person(&quot;Amy&quot;, List.of(&quot;Bob&quot;, &quot;Chris&quot;)))\n                .usingRecursiveComparison()\n                .isEqualTo(new Person(&quot;Amy&quot;, List.of(&quot;Bob&quot;)));\n    }\n}\nrecord Person(String name, List&lt;String&gt; friends) {\n}\n</code></pre>\n<p>In the first case the message is more helpful, specifying the missing element:</p>\n<pre><code>Expecting actual:\n  [&quot;Bob&quot;, &quot;Chris&quot;]\nto contain exactly (and in same order):\n  [&quot;Bob&quot;]\nbut some elements were not expected:\n  [&quot;Chris&quot;]\n</code></pre>\n<p>In the second case the message just mentions that the size differs:</p>\n<pre><code>Expecting actual:\n  Person[name=Amy, friends=[Bob, Chris]]\nto be equal to:\n  Person[name=Amy, friends=[Bob]]\nwhen recursively comparing field by field, but found the following difference:\n\nfield/property 'friends' differ:\n- actual value  : [&quot;Bob&quot;, &quot;Chris&quot;]\n- expected value: [&quot;Bob&quot;]\nactual and expected values are collections of different size, actual size=2 when expected size=1\n</code></pre>\n<p>This is just a simple example; the actual use case involves more complex objects and much larger lists. In that context, specifying what item is missing from the list makes a big difference. This brings me to my question: Is there any way to configure the recursive comparison to compare lists just like in the first example?</p>\n<p>I certainly have the workaround to ignore the list in the recursive comparison and then assert list equality separately, but I was wondering if there's some trick to get it all in one step.</p>\n"},{"tags":["java","kotlin","amazon-dynamodb","aws-sdk-java-2.0","dynamodb-enhanced-client"],"comments":[{"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"score":0,"creation_date":1674156352,"post_id":75176090,"comment_id":132660566,"body_markdown":"Where did you find the logic to create your HTTP client? Can you share the AWS docs which reference it?\n\n`val httpClient: HttpHandler = OkHttp()`\n`val awsHttpClient = AwsSdkClient(httpClient)`","body":"Where did you find the logic to create your HTTP client? Can you share the AWS docs which reference it?  <code>val httpClient: HttpHandler = OkHttp()</code> <code>val awsHttpClient = AwsSdkClient(httpClient)</code>"},{"owner":{"account_id":3647615,"reputation":23076,"user_id":3040446,"accept_rate":35,"display_name":"Ted"},"score":0,"creation_date":1674200870,"post_id":75176090,"comment_id":132667165,"body_markdown":"Good point, we are using defaultOkHttpClient() from http4k https://www.http4k.org/api/org.http4k.client/-ok-http/","body":"Good point, we are using defaultOkHttpClient() from http4k <a href=\"https://www.http4k.org/api/org.http4k.client/-ok-http/\" rel=\"nofollow noreferrer\">http4k.org/api/org.http4k.client/-ok-http</a>"},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1674203333,"post_id":75176090,"comment_id":132667832,"body_markdown":"Do you get the same error if you use the AWS client directly (without using http4k-connect at all). I wonder if the problem is related to the link you shared to the other question (and that the default http client from http4k might not have compression enabled).","body":"Do you get the same error if you use the AWS client directly (without using http4k-connect at all). I wonder if the problem is related to the link you shared to the other question (and that the default http client from http4k might not have compression enabled)."}],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674204826,"creation_date":1674204826,"answer_id":75181689,"question_id":75176090,"body_markdown":"I have not seen others use OkHttp for their AWS clients before, and I believe that this HTTP client uses gzip compression by default. To change the configuration you would need to write a network interceptor as described [here](https://square.github.io/okhttp/features/interceptors/). \r\n\r\nI suggest first building with the default HTTP client, which just requires you to remove 2 lines of code. That will allow you to understand if OkHTTP is in fact the issue. ","title":"Getting Crc32MismatchException when using dynamodb enhanced client","body":"<p>I have not seen others use OkHttp for their AWS clients before, and I believe that this HTTP client uses gzip compression by default. To change the configuration you would need to write a network interceptor as described <a href=\"https://square.github.io/okhttp/features/interceptors/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>I suggest first building with the default HTTP client, which just requires you to remove 2 lines of code. That will allow you to understand if OkHTTP is in fact the issue.</p>\n"},{"tags":[],"owner":{"account_id":15964230,"reputation":26,"user_id":11520388,"display_name":"Tim Gonzalez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675368651,"creation_date":1675368627,"answer_id":75328452,"question_id":75176090,"body_markdown":"If you are using Okhttp as client, you can add a custom header configuration: Accept-Encoding: gzip\r\n\r\nYou can do something like this in kotlin:\r\n```\r\nval httpClient: HttpHandler = OkHttp()\r\nval awsHttpClient = AwsSdkClient(httpClient)\r\nval dynamoDbClient: DynamoDbClient =\r\n    DynamoDbClient.builder()\r\n        .region(Region.of(environment.getAwsRegion()))\r\n        .httpClient(awsHttpClient)\r\n        .overrideConfiguration { o -&gt; o.putHeader(&quot;Accept-Encoding&quot;, &quot;gzip&quot;) }\r\n        .build()\r\n\r\nval enhancedClient: DynamoDbEnhancedClient =\r\n    DynamoDbEnhancedClient.builder()\r\n        .dynamoDbClient(dynamoDbClient)\r\n        .build()\r\nval tableName = ...\r\nval schema = ...\r\nval table = enhancedClient.table(tableName, schema)\r\nval key = ..\r\ntable.getItem(key)\r\n\r\n```","title":"Getting Crc32MismatchException when using dynamodb enhanced client","body":"<p>If you are using Okhttp as client, you can add a custom header configuration: Accept-Encoding: gzip</p>\n<p>You can do something like this in kotlin:</p>\n<pre><code>val httpClient: HttpHandler = OkHttp()\nval awsHttpClient = AwsSdkClient(httpClient)\nval dynamoDbClient: DynamoDbClient =\n    DynamoDbClient.builder()\n        .region(Region.of(environment.getAwsRegion()))\n        .httpClient(awsHttpClient)\n        .overrideConfiguration { o -&gt; o.putHeader(&quot;Accept-Encoding&quot;, &quot;gzip&quot;) }\n        .build()\n\nval enhancedClient: DynamoDbEnhancedClient =\n    DynamoDbEnhancedClient.builder()\n        .dynamoDbClient(dynamoDbClient)\n        .build()\nval tableName = ...\nval schema = ...\nval table = enhancedClient.table(tableName, schema)\nval key = ..\ntable.getItem(key)\n\n</code></pre>\n"}],"owner":{"account_id":3647615,"reputation":23076,"user_id":3040446,"accept_rate":35,"display_name":"Ted"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75328452,"answer_count":2,"score":1,"last_activity_date":1675368651,"creation_date":1674149321,"question_id":75176090,"body_markdown":"**Describe the bug**\r\n\r\nWe tried to getItem using DynamoDbEnhancedClient but we got Crc32MismatchException.\r\n\r\n**Expected Behavior**\r\n\r\nI should be able to getItem\r\n\r\n**Current Behavior**\r\n\r\ngetting error:\r\n\r\n&gt; software.amazon.awssdk.core.exception.Crc32MismatchException: Expected\r\n&gt; 1657156166 as the Crc32 checksum but the actual calculated checksum\r\n&gt; was 3693931191 \tat\r\n&gt; software.amazon.awssdk.core.exception.Crc32MismatchException$BuilderImpl.build(Crc32MismatchException.java:88)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.util.Crc32ChecksumValidatingInputStream.validateChecksum(Crc32ChecksumValidatingInputStream.java:62)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.util.Crc32ChecksumValidatingInputStream.close(Crc32ChecksumValidatingInputStream.java:50)\r\n&gt; \tat java.base/java.io.FilterInputStream.close(Unknown Source) \tat\r\n&gt; software.amazon.awssdk.utils.FunctionalUtils.lambda$safeRunnable$5(FunctionalUtils.java:124)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.utils.FunctionalUtils.invokeSafely(FunctionalUtils.java:140)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.protocols.json.internal.unmarshall.JsonResponseHandler.lambda$handle$4(JsonResponseHandler.java:94)\r\n&gt; \tat java.base/java.util.Optional.ifPresent(Unknown Source) \tat\r\n&gt; software.amazon.awssdk.protocols.json.internal.unmarshall.JsonResponseHandler.handle(JsonResponseHandler.java:94)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.protocols.json.internal.unmarshall.JsonResponseHandler.handle(JsonResponseHandler.java:36)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.protocols.json.internal.unmarshall.AwsJsonResponseHandler.handle(AwsJsonResponseHandler.java:44)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.http.MetricCollectingHttpResponseHandler.lambda$handle$0(MetricCollectingHttpResponseHandler.java:52)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.util.MetricUtils.measureDurationUnsafe(MetricUtils.java:64)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.http.MetricCollectingHttpResponseHandler.handle(MetricCollectingHttpResponseHandler.java:52)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler$Crc32ValidationResponseHandler.handle(AwsSyncClientHandler.java:94)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.handler.BaseClientHandler.lambda$resultTransformationResponseHandler$7(BaseClientHandler.java:287)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleSuccessResponse(CombinedResponseHandler.java:97)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:72)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:59)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:40)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:80)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:135)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:161)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:114)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:169)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:95)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:55)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.services.dynamodb.DefaultDynamoDbClient.getItem(DefaultDynamoDbClient.java:3107)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.enhanced.dynamodb.internal.operations.CommonOperation.execute(CommonOperation.java:114)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.enhanced.dynamodb.internal.operations.TableOperation.executeOnPrimaryIndex(TableOperation.java:59)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.enhanced.dynamodb.internal.client.DefaultDynamoDbTable.getItem(DefaultDynamoDbTable.java:139)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.enhanced.dynamodb.internal.client.DefaultDynamoDbTable.getItem(DefaultDynamoDbTable.java:146)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.enhanced.dynamodb.internal.client.DefaultDynamoDbTable.getItem(DefaultDynamoDbTable.java:151)\r\n\r\n**Reproduction Steps**\r\n\r\n    // https://www.http4k.org/api/org.http4k.client/-ok-http/\r\n    val httpClient: HttpHandler = OkHttp()\r\n    val awsHttpClient = AwsSdkClient(httpClient)\r\n    val dynamoDbClient: DynamoDbClient =\r\n        DynamoDbClient.builder()\r\n            .region(Region.of(environment.getAwsRegion()))\r\n            .httpClient(awsHttpClient)\r\n            .build()\r\n\r\n    val enhancedClient: DynamoDbEnhancedClient =\r\n        DynamoDbEnhancedClient.builder()\r\n            .dynamoDbClient(dynamoDbClient)\r\n            .build()\r\n    val tableName = ...\r\n    val schema = ...\r\n    val table = enhancedClient.table(tableName, schema)\r\n    val key = ..\r\n    table.getItem(key)\r\n\r\n**Possible Solution**\r\n\r\nThis has happened in aws-sdk-java, maybe it is missed in v2?\r\naws/aws-sdk-java#1018\r\n\r\n\r\n**AWS Java SDK version used**\r\n\r\n2.17.27\r\n\r\n**JDK version used**\r\n\r\njava 11\r\n\r\n**Operating System and version**\r\n\r\nAmazon Linux 2\r\n\r\nReported to [github/aws/aws-sdk-java-v2][1]\r\n\r\n[Related but not the same stackoverflow question][2]\r\n\r\n\r\n  [1]: https://github.com/aws/aws-sdk-java-v2/issues/3703\r\n  [2]: https://stackoverflow.com/questions/29931897/aws-crc32-mismatch-dynamo","title":"Getting Crc32MismatchException when using dynamodb enhanced client","body":"<p><strong>Describe the bug</strong></p>\n<p>We tried to getItem using DynamoDbEnhancedClient but we got Crc32MismatchException.</p>\n<p><strong>Expected Behavior</strong></p>\n<p>I should be able to getItem</p>\n<p><strong>Current Behavior</strong></p>\n<p>getting error:</p>\n<blockquote>\n<p>software.amazon.awssdk.core.exception.Crc32MismatchException: Expected\n1657156166 as the Crc32 checksum but the actual calculated checksum\nwas 3693931191    at\nsoftware.amazon.awssdk.core.exception.Crc32MismatchException$BuilderImpl.build(Crc32MismatchException.java:88)\nat\nsoftware.amazon.awssdk.core.internal.util.Crc32ChecksumValidatingInputStream.validateChecksum(Crc32ChecksumValidatingInputStream.java:62)\nat\nsoftware.amazon.awssdk.core.internal.util.Crc32ChecksumValidatingInputStream.close(Crc32ChecksumValidatingInputStream.java:50)\nat java.base/java.io.FilterInputStream.close(Unknown Source)    at\nsoftware.amazon.awssdk.utils.FunctionalUtils.lambda$safeRunnable$5(FunctionalUtils.java:124)\nat\nsoftware.amazon.awssdk.utils.FunctionalUtils.invokeSafely(FunctionalUtils.java:140)\nat\nsoftware.amazon.awssdk.protocols.json.internal.unmarshall.JsonResponseHandler.lambda$handle$4(JsonResponseHandler.java:94)\nat java.base/java.util.Optional.ifPresent(Unknown Source)   at\nsoftware.amazon.awssdk.protocols.json.internal.unmarshall.JsonResponseHandler.handle(JsonResponseHandler.java:94)\nat\nsoftware.amazon.awssdk.protocols.json.internal.unmarshall.JsonResponseHandler.handle(JsonResponseHandler.java:36)\nat\nsoftware.amazon.awssdk.protocols.json.internal.unmarshall.AwsJsonResponseHandler.handle(AwsJsonResponseHandler.java:44)\nat\nsoftware.amazon.awssdk.core.http.MetricCollectingHttpResponseHandler.lambda$handle$0(MetricCollectingHttpResponseHandler.java:52)\nat\nsoftware.amazon.awssdk.core.internal.util.MetricUtils.measureDurationUnsafe(MetricUtils.java:64)\nat\nsoftware.amazon.awssdk.core.http.MetricCollectingHttpResponseHandler.handle(MetricCollectingHttpResponseHandler.java:52)\nat\nsoftware.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler$Crc32ValidationResponseHandler.handle(AwsSyncClientHandler.java:94)\nat\nsoftware.amazon.awssdk.core.internal.handler.BaseClientHandler.lambda$resultTransformationResponseHandler$7(BaseClientHandler.java:287)\nat\nsoftware.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleSuccessResponse(CombinedResponseHandler.java:97)\nat\nsoftware.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:72)\nat\nsoftware.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:59)\nat\nsoftware.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:40)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:80)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\nat\nsoftware.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\nat\nsoftware.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\nat\nsoftware.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\nat\nsoftware.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:135)\nat\nsoftware.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:161)\nat\nsoftware.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:114)\nat\nsoftware.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:169)\nat\nsoftware.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:95)\nat\nsoftware.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\nat\nsoftware.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:55)\nat\nsoftware.amazon.awssdk.services.dynamodb.DefaultDynamoDbClient.getItem(DefaultDynamoDbClient.java:3107)\nat\nsoftware.amazon.awssdk.enhanced.dynamodb.internal.operations.CommonOperation.execute(CommonOperation.java:114)\nat\nsoftware.amazon.awssdk.enhanced.dynamodb.internal.operations.TableOperation.executeOnPrimaryIndex(TableOperation.java:59)\nat\nsoftware.amazon.awssdk.enhanced.dynamodb.internal.client.DefaultDynamoDbTable.getItem(DefaultDynamoDbTable.java:139)\nat\nsoftware.amazon.awssdk.enhanced.dynamodb.internal.client.DefaultDynamoDbTable.getItem(DefaultDynamoDbTable.java:146)\nat\nsoftware.amazon.awssdk.enhanced.dynamodb.internal.client.DefaultDynamoDbTable.getItem(DefaultDynamoDbTable.java:151)</p>\n</blockquote>\n<p><strong>Reproduction Steps</strong></p>\n<pre><code>// https://www.http4k.org/api/org.http4k.client/-ok-http/\nval httpClient: HttpHandler = OkHttp()\nval awsHttpClient = AwsSdkClient(httpClient)\nval dynamoDbClient: DynamoDbClient =\n    DynamoDbClient.builder()\n        .region(Region.of(environment.getAwsRegion()))\n        .httpClient(awsHttpClient)\n        .build()\n\nval enhancedClient: DynamoDbEnhancedClient =\n    DynamoDbEnhancedClient.builder()\n        .dynamoDbClient(dynamoDbClient)\n        .build()\nval tableName = ...\nval schema = ...\nval table = enhancedClient.table(tableName, schema)\nval key = ..\ntable.getItem(key)\n</code></pre>\n<p><strong>Possible Solution</strong></p>\n<p>This has happened in aws-sdk-java, maybe it is missed in v2?\naws/aws-sdk-java#1018</p>\n<p><strong>AWS Java SDK version used</strong></p>\n<p>2.17.27</p>\n<p><strong>JDK version used</strong></p>\n<p>java 11</p>\n<p><strong>Operating System and version</strong></p>\n<p>Amazon Linux 2</p>\n<p>Reported to <a href=\"https://github.com/aws/aws-sdk-java-v2/issues/3703\" rel=\"nofollow noreferrer\">github/aws/aws-sdk-java-v2</a></p>\n<p><a href=\"https://stackoverflow.com/questions/29931897/aws-crc32-mismatch-dynamo\">Related but not the same stackoverflow question</a></p>\n"},{"tags":["java","android","android-layout","runnable"],"answers":[{"tags":[],"owner":{"account_id":11944159,"reputation":767,"user_id":8739916,"accept_rate":71,"display_name":"JollyRoger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675116188,"creation_date":1675116188,"answer_id":75290635,"question_id":75290335,"body_markdown":"Please see the activity lifecycle here: https://developer.android.com/guide/components/activities/activity-lifecycle.\r\n\r\nThe drawing is already over when the `onStart()` method is called. So you can directly call `view1.getWidth()` and `view2.getWidth()` inside this method, without using the `post()` call.","title":"Get width of two elements after the drawing phase at the same time","body":"<p>Please see the activity lifecycle here: <a href=\"https://developer.android.com/guide/components/activities/activity-lifecycle\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/activities/activity-lifecycle</a>.</p>\n<p>The drawing is already over when the <code>onStart()</code> method is called. So you can directly call <code>view1.getWidth()</code> and <code>view2.getWidth()</code> inside this method, without using the <code>post()</code> call.</p>\n"}],"owner":{"account_id":26979302,"reputation":173,"user_id":20543919,"display_name":"sacacorchos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675368643,"creation_date":1675114000,"question_id":75290335,"body_markdown":"I have seen in the following answer: https://stackoverflow.com/a/24035591 of another post that to get the width of an element after the drawing phase I can do the following:\r\n\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.my_activity);\r\n        View view1,view2;\r\n        int width1,width2;&#180;\r\n\r\n\r\n            view1.post(() -&gt; {\r\n              width1=view1.getWidth();\r\n                            }\r\n    }\r\n\r\nWhat if I want to get the width of 2 elements (view1 and view2) instead of only one element as I am using both values in the same mathematical formula?\r\n\r\nShould I do this? --&gt;\r\n\r\n    view1.post(() -&gt; {\r\n                  width1=view1.getWidth();\r\n                  width2=view2.getWidth();\r\n                     formula(width1,width2);\r\n                                }\r\n\r\nOr should I do this(I don&#39;t know if it is okay to put a runnable inside another runnable) --&gt;\r\n\r\n    view1.post(() -&gt; {\r\n                  width1=view1.getWidth();\r\n                  view2.post(() -&gt; {\r\n                   width2=view2.getWidth();\r\n                   formula(width1,width2);\r\n\r\n                   }\r\n                                }\r\n\r\nI can&#39;t do the following as I need both width&#39;s to be used in the same formula:\r\n\r\n    view1.post(() -&gt; {\r\n                  width1=view1.getWidth();\r\n                                }\r\n    view2.post(() -&gt; {\r\n                  width2=view2.getWidth();\r\n                                }\r\n\r\nBoth of the possibilities are working, but I would like to know which one is better or if there is another option to get both width&#39;s as I need them together as I am using them in one mathematical formula.\r\n\r\nNote that formula(x,y) will use both width&#39;s to setMargins of another element:\r\n\r\n    TextView text1;\r\n    formula(x,y){\r\n    int z = x + y;\r\n        ConstraintLayout.LayoutParams params = \r\n       (ConstraintLayout.LayoutParams) text1.getLayoutParams();\r\n        params.setMargins(0,z,0,0);\r\n        text1.setLayoutParams(params);\r\n    }\r\n\r\nEDIT:\r\n\r\nwhat I have in OnCreate:\r\n\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.my_activity);\r\n\r\n     /*I set margins of view1 and view2 so that the width of both \r\n     is changing (this is why if I call getWidth of view1 and view2 in this \r\n     method, it will take the very first width (the width without the new \r\n     margins) */\r\n     \r\n        ConstraintLayout.LayoutParams params1 = \r\n       (ConstraintLayout.LayoutParams) view1.getLayoutParams();\r\n        params1.setMargins(X,0,X,0);\r\n        view1.setLayoutParams(params1);\r\n\r\n\r\n        ConstraintLayout.LayoutParams params2 = \r\n       (ConstraintLayout.LayoutParams) view2.getLayoutParams();\r\n        params2.setMargins(X,0,X,0);\r\n        view2.setLayoutParams(params2);\r\n\r\n        //X is a non-static value \r\n\r\n     }","title":"Get width of two elements after the drawing phase at the same time","body":"<p>I have seen in the following answer: <a href=\"https://stackoverflow.com/a/24035591\">https://stackoverflow.com/a/24035591</a> of another post that to get the width of an element after the drawing phase I can do the following:</p>\n<pre><code>@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.my_activity);\n    View view1,view2;\n    int width1,width2;\n\n\n        view1.post(() -&gt; {\n          width1=view1.getWidth();\n                        }\n}\n</code></pre>\n<p>What if I want to get the width of 2 elements (view1 and view2) instead of only one element as I am using both values in the same mathematical formula?</p>\n<p>Should I do this? --&gt;</p>\n<pre><code>view1.post(() -&gt; {\n              width1=view1.getWidth();\n              width2=view2.getWidth();\n                 formula(width1,width2);\n                            }\n</code></pre>\n<p>Or should I do this(I don't know if it is okay to put a runnable inside another runnable) --&gt;</p>\n<pre><code>view1.post(() -&gt; {\n              width1=view1.getWidth();\n              view2.post(() -&gt; {\n               width2=view2.getWidth();\n               formula(width1,width2);\n\n               }\n                            }\n</code></pre>\n<p>I can't do the following as I need both width's to be used in the same formula:</p>\n<pre><code>view1.post(() -&gt; {\n              width1=view1.getWidth();\n                            }\nview2.post(() -&gt; {\n              width2=view2.getWidth();\n                            }\n</code></pre>\n<p>Both of the possibilities are working, but I would like to know which one is better or if there is another option to get both width's as I need them together as I am using them in one mathematical formula.</p>\n<p>Note that formula(x,y) will use both width's to setMargins of another element:</p>\n<pre><code>TextView text1;\nformula(x,y){\nint z = x + y;\n    ConstraintLayout.LayoutParams params = \n   (ConstraintLayout.LayoutParams) text1.getLayoutParams();\n    params.setMargins(0,z,0,0);\n    text1.setLayoutParams(params);\n}\n</code></pre>\n<p>EDIT:</p>\n<p>what I have in OnCreate:</p>\n<pre><code>protected void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.my_activity);\n\n /*I set margins of view1 and view2 so that the width of both \n is changing (this is why if I call getWidth of view1 and view2 in this \n method, it will take the very first width (the width without the new \n margins) */\n \n    ConstraintLayout.LayoutParams params1 = \n   (ConstraintLayout.LayoutParams) view1.getLayoutParams();\n    params1.setMargins(X,0,X,0);\n    view1.setLayoutParams(params1);\n\n\n    ConstraintLayout.LayoutParams params2 = \n   (ConstraintLayout.LayoutParams) view2.getLayoutParams();\n    params2.setMargins(X,0,X,0);\n    view2.setLayoutParams(params2);\n\n    //X is a non-static value \n\n }\n</code></pre>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":1426774,"reputation":6585,"user_id":1350066,"accept_rate":47,"display_name":"Al Phaba"},"score":0,"creation_date":1675423277,"post_id":75328434,"comment_id":132930623,"body_markdown":"Thanks, but as you see my problem is java, so your javascript sample does not really help","body":"Thanks, but as you see my problem is java, so your javascript sample does not really help"},{"owner":{"account_id":1426774,"reputation":6585,"user_id":1350066,"accept_rate":47,"display_name":"Al Phaba"},"score":0,"creation_date":1675426038,"post_id":75328434,"comment_id":132931393,"body_markdown":"Ok, good point and correct problem is the same for every language. Actually I try to follow your advice and transfer it to my code.","body":"Ok, good point and correct problem is the same for every language. Actually I try to follow your advice and transfer it to my code."},{"owner":{"account_id":1426774,"reputation":6585,"user_id":1350066,"accept_rate":47,"display_name":"Al Phaba"},"score":0,"creation_date":1675451367,"post_id":75328434,"comment_id":132939430,"body_markdown":"maybe you have a sketch where i can see what points x1, x2, x3 are ...  a image says more than 1000 words approach :-)","body":"maybe you have a sketch where i can see what points x1, x2, x3 are ...  a image says more than 1000 words approach :-)"}],"owner":{"account_id":1426774,"reputation":6585,"user_id":1350066,"accept_rate":47,"display_name":"Al Phaba"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675368482,"creation_date":1675368482,"question_id":75328434,"body_markdown":"My aim is to add a image to a pdf and write a text above this image. I have centered the image and the text should be center above the image with a little margin to the image. \r\n\r\nCurrently the image will be added and centered but the text is not centered. \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cVI1S.jpg\r\n\r\nHere my current code. The interesting part is where the method drawTitleAtTop will be called. Here i have added the height of the newly added image to the y postion plus a margin of 3. The x coordinate I calculate depending on the incoming text but there is some miscalculation. Any advice? \r\n\r\n\r\n    private static void addScaledImage(ImageData imgData, PDDocument pdDocument, Dimension thePdfDimension) {\r\n        ImageHelper helper = Scalr::resize;\r\n        byte[] scaledImage = ImageUtils.resizeImageKeepAspectRatio(helper, imgData.getImageBinary(), thePdfDimension.width);\r\n\r\n        PDRectangle rectangle = pdDocument.getPage(0).getMediaBox();\r\n        PDPage page = new PDPage(rectangle);\r\n        pdDocument.addPage(page);\r\n        PDImageXObject pdImage = null;\r\n        try {\r\n            pdImage = PDImageXObject.createFromByteArray(pdDocument, scaledImage, null);\r\n            LOG.debug(&quot;size of scaled image is x: {0} y {1}&quot;, pdImage.getWidth(), pdImage.getHeight());\r\n            int xForImage = (thePdfDimension.width - pdImage.getWidth()) / 2 ;\r\n            int yForImage = (thePdfDimension.height - pdImage.getHeight()) / 2;\r\n            LOG.debug(&quot;new x {0} new y {1}&quot;, xForImage, yForImage);\r\n            try (PDPageContentStream contentStream = new PDPageContentStream(pdDocument, page, AppendMode.APPEND, true, true)) {\r\n                if (StringUtils.isNotBlank(imgData.getTitle())) {\r\n                    yForImage = xForImage - 20;\r\n                    contentStream.drawImage(pdImage, xForImage, yForImage, pdImage.getWidth(), pdImage.getHeight());\r\n                    drawTitelAtTop(imgData, page, xForImage , yForImage + pdImage.getHeight() + 3, contentStream);\r\n                } else {\r\n                    contentStream.drawImage(pdImage, xForImage, yForImage, pdImage.getWidth(), pdImage.getHeight());\r\n                }\r\n            }\r\n\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private static void drawTitelAtTop(ImageData imgData, PDPage page, int x, int y,  PDPageContentStream contentStream) throws IOException {\r\n        PDFont font = PDType1Font.COURIER;\r\n        int fontSize = FONT_SIZE_FOR_TITLE;\r\n\r\n        float titleWidth = font.getStringWidth(imgData.getTitle()) / 1000 * fontSize;\r\n        LOG.debug(&quot;title width is &quot; + titleWidth);\r\n        contentStream.setFont(font, fontSize);\r\n        contentStream.beginText();\r\n        float tx = ((x - titleWidth) / 2) + x;\r\n        //float tx = x;\r\n        //float ty = page.getMediaBox().getHeight() - marginTop + (marginTop / 4);\r\n        float ty = y;\r\n        LOG.debug(&quot;title offset x {0} y {1}&quot;, tx, ty);\r\n        contentStream.newLineAtOffset(tx,\r\n            ty);\r\n\r\n        contentStream.showText(imgData.getTitle());\r\n        contentStream.endText();\r\n\r\n    }\r\n\r\n\r\n","title":"How to add a text above a previous added image and center it above this image with pdfbox?","body":"<p>My aim is to add a image to a pdf and write a text above this image. I have centered the image and the text should be center above the image with a little margin to the image.</p>\n<p>Currently the image will be added and centered but the text is not centered.</p>\n<p><a href=\"https://i.stack.imgur.com/cVI1S.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cVI1S.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Here my current code. The interesting part is where the method drawTitleAtTop will be called. Here i have added the height of the newly added image to the y postion plus a margin of 3. The x coordinate I calculate depending on the incoming text but there is some miscalculation. Any advice?</p>\n<pre><code>private static void addScaledImage(ImageData imgData, PDDocument pdDocument, Dimension thePdfDimension) {\n    ImageHelper helper = Scalr::resize;\n    byte[] scaledImage = ImageUtils.resizeImageKeepAspectRatio(helper, imgData.getImageBinary(), thePdfDimension.width);\n\n    PDRectangle rectangle = pdDocument.getPage(0).getMediaBox();\n    PDPage page = new PDPage(rectangle);\n    pdDocument.addPage(page);\n    PDImageXObject pdImage = null;\n    try {\n        pdImage = PDImageXObject.createFromByteArray(pdDocument, scaledImage, null);\n        LOG.debug(&quot;size of scaled image is x: {0} y {1}&quot;, pdImage.getWidth(), pdImage.getHeight());\n        int xForImage = (thePdfDimension.width - pdImage.getWidth()) / 2 ;\n        int yForImage = (thePdfDimension.height - pdImage.getHeight()) / 2;\n        LOG.debug(&quot;new x {0} new y {1}&quot;, xForImage, yForImage);\n        try (PDPageContentStream contentStream = new PDPageContentStream(pdDocument, page, AppendMode.APPEND, true, true)) {\n            if (StringUtils.isNotBlank(imgData.getTitle())) {\n                yForImage = xForImage - 20;\n                contentStream.drawImage(pdImage, xForImage, yForImage, pdImage.getWidth(), pdImage.getHeight());\n                drawTitelAtTop(imgData, page, xForImage , yForImage + pdImage.getHeight() + 3, contentStream);\n            } else {\n                contentStream.drawImage(pdImage, xForImage, yForImage, pdImage.getWidth(), pdImage.getHeight());\n            }\n        }\n\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n}\n\nprivate static void drawTitelAtTop(ImageData imgData, PDPage page, int x, int y,  PDPageContentStream contentStream) throws IOException {\n    PDFont font = PDType1Font.COURIER;\n    int fontSize = FONT_SIZE_FOR_TITLE;\n\n    float titleWidth = font.getStringWidth(imgData.getTitle()) / 1000 * fontSize;\n    LOG.debug(&quot;title width is &quot; + titleWidth);\n    contentStream.setFont(font, fontSize);\n    contentStream.beginText();\n    float tx = ((x - titleWidth) / 2) + x;\n    //float tx = x;\n    //float ty = page.getMediaBox().getHeight() - marginTop + (marginTop / 4);\n    float ty = y;\n    LOG.debug(&quot;title offset x {0} y {1}&quot;, tx, ty);\n    contentStream.newLineAtOffset(tx,\n        ty);\n\n    contentStream.showText(imgData.getTitle());\n    contentStream.endText();\n\n}\n</code></pre>\n"},{"tags":["java","rest","jax-rs","quarkus","quarkus-rest-client"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1674818230,"post_id":75256948,"comment_id":132798870,"body_markdown":"I have never used it, but `@ClientURI` may be the solution (https://docs.jboss.org/resteasy/docs/3.8.1.Final/userguide/html_single/index.html#ClientURI).\nLet me know!","body":"I have never used it, but <code>@ClientURI</code> may be the solution (<a href=\"https://docs.jboss.org/resteasy/docs/3.8.1.Final/userguide/html_single/index.html#ClientURI\" rel=\"nofollow noreferrer\">docs.jboss.org/resteasy/docs/3.8.1.Final/userguide/html_sin&zwnj;&#8203;gle/&hellip;</a>). Let me know!"}],"answers":[{"tags":[],"owner":{"account_id":3568344,"reputation":645,"user_id":2979325,"display_name":"Serkan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675368248,"creation_date":1675368248,"answer_id":75328394,"question_id":75256948,"body_markdown":"You should use Regex in your @Path definition, something like this:\r\n\r\n    @GET\r\n    @Path(/{varPath : .+})\r\n    Response getJson(@PathParam(varPath) String endpoint);\r\n\r\nThis will match anything that comes after /json. \r\n\r\nFor more info search: JAXRS path Regex, on Google.  ","title":"Variable length endpoints in jax-rs/microprofile client with Quarkus","body":"<p>You should use Regex in your @Path definition, something like this:</p>\n<pre><code>@GET\n@Path(/{varPath : .+})\nResponse getJson(@PathParam(varPath) String endpoint);\n</code></pre>\n<p>This will match anything that comes after /json.</p>\n<p>For more info search: JAXRS path Regex, on Google.</p>\n"}],"owner":{"account_id":17332604,"reputation":53,"user_id":12555300,"display_name":"Grizzlyman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675368248,"creation_date":1674815939,"question_id":75256948,"body_markdown":"I&#39;m facing the following issue and have been able to find a proper fix.\r\n\r\nAs a use case example, let&#39;s imagine a Rest client that fetches a json object from a server, where the request is the path to the object. This api does not accept query parameters nor bodies, and no catalogue is available.\r\n\r\nsay that I have the following RestClient:\r\n\r\n```\r\n@Path(&quot;/json&quot;)\r\n@RegisterRestClient(configKey=&quot;json-api&quot;)\r\npublic interface JsonService {\r\n\r\n    @GET\r\n    @Path(&quot;/{MyVariableLengthEndpoint}&quot;)\r\n    Response getJson(@PathParam(&quot;MyVariableLengthEndpoint&quot;) ????? endpoint);\r\n}\r\n```\r\n\r\nExamples of requests could be :\r\n- ```/json/employees/Dwight/jobs/assistantRegionalManager/salary```\r\n- ```/json/games/theLastOfUs/rating```\r\n\r\n\r\nPassing a string with / characters gets encoded with %. To bypass this, I&#39;ve tried:\r\n- Using the @Encoded annotation\r\n- Adding a regex in the pathParameter ```{MyVariableLengthEndpoint: .*}```\r\n- Passing a ```List&lt;PathSegment&gt;```\r\n\r\nNone of those worked.\r\n\r\nIs there a proper way to do this ?\r\n","title":"Variable length endpoints in jax-rs/microprofile client with Quarkus","body":"<p>I'm facing the following issue and have been able to find a proper fix.</p>\n<p>As a use case example, let's imagine a Rest client that fetches a json object from a server, where the request is the path to the object. This api does not accept query parameters nor bodies, and no catalogue is available.</p>\n<p>say that I have the following RestClient:</p>\n<pre><code>@Path(&quot;/json&quot;)\n@RegisterRestClient(configKey=&quot;json-api&quot;)\npublic interface JsonService {\n\n    @GET\n    @Path(&quot;/{MyVariableLengthEndpoint}&quot;)\n    Response getJson(@PathParam(&quot;MyVariableLengthEndpoint&quot;) ????? endpoint);\n}\n</code></pre>\n<p>Examples of requests could be :</p>\n<ul>\n<li><code>/json/employees/Dwight/jobs/assistantRegionalManager/salary</code></li>\n<li><code>/json/games/theLastOfUs/rating</code></li>\n</ul>\n<p>Passing a string with / characters gets encoded with %. To bypass this, I've tried:</p>\n<ul>\n<li>Using the @Encoded annotation</li>\n<li>Adding a regex in the pathParameter <code>{MyVariableLengthEndpoint: .*}</code></li>\n<li>Passing a <code>List&lt;PathSegment&gt;</code></li>\n</ul>\n<p>None of those worked.</p>\n<p>Is there a proper way to do this ?</p>\n"},{"tags":["java","security","ssl","tls1.2"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1675369242,"post_id":75295692,"comment_id":132920040,"body_markdown":"you can enable ciphers by deleting those from ```jdk.tls.disabledAlgorithms``` but that is a bad idea. your customer should configure the client to not use old/unsupported ciphers.","body":"you can enable ciphers by deleting those from <code>jdk.tls.disabledAlgorithms</code> but that is a bad idea. your customer should configure the client to not use old/unsupported ciphers."}],"owner":{"account_id":27664912,"reputation":1,"user_id":21116956,"display_name":"Bernhard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675368046,"creation_date":1675160515,"question_id":75295692,"body_markdown":"we use Java Version 11.0.17 for our dataconverter. Now a customer send an http string to our DMZ Server and i can see a Client Hello with \r\n\r\n```\r\n&quot;client version&quot;      : &quot;TLSv1.2&quot;,\r\n&quot;random&quot;              : &quot;63 D7 9D B4 73 10 AC 67 B6 8A 12 BA 20 07 5D FE 61 B8 0C 36 36 BF 6C B7 30 78 F2 78 16 50 DB 05&quot;,\r\n&quot;session id&quot;          : &quot;&quot;,\r\n&quot;cipher suites&quot;       : &quot;[TLS_RSA_WITH_AES_256_GCM_SHA384(0x009D), \r\nTLS_RSA_WITH_CAMELLIA_256_GCM_SHA384(0xC07B), \r\nTLS_RSA_WITH_AES_256_CBC_SHA256(0x003D), \r\nTLS_RSA_WITH_CAMELLIA_256_CBC_SHA256(0x00C0), \r\nTLS_RSA_WITH_AES_128_GCM_SHA256(0x009C), \r\nTLS_RSA_WITH_CAMELLIA_128_GCM_SHA256(0xC07A), \r\nTLS_RSA_WITH_AES_128_CBC_SHA256(0x003C), \r\nTLS_RSA_WITH_CAMELLIA_128_CBC_SHA256(0x00BA), \r\nTLS_RSA_WITH_AES_256_CBC_SHA(0x0035), \r\nTLS_RSA_WITH_CAMELLIA_256_CBC_SHA(0x0084), \r\nTLS_RSA_WITH_AES_128_CBC_SHA(0x002F), \r\nTLS_RSA_WITH_CAMELLIA_128_CBC_SHA(0x0041), \r\nSSL_RSA_WITH_3DES_EDE_CBC_SHA(0x000A), \r\nSSL_RSA_WITH_RC4_128_SHA(0x0005)]&quot;,\r\n&quot;compression methods&quot; : &quot;00&quot;,\r\n&quot;extensions&quot;          : [\r\n&quot;renegotiation_info (65,281)&quot;: {\r\n&quot;renegotiated connection&quot;: [&lt;no renegotiated connection&gt;]\r\n},\r\n&quot;signature_algorithms (13)&quot;: {\r\n&quot;signature schemes&quot;: [rsa_pkcs1_sha256, dsa_sha256, rsa_pkcs1_sha384, dsa_sha384, rsa_pkcs1_sha512, dsa_sha512, rsa_pkcs1_sha1, dsa_sha1]\r\n```\r\nand than I see the error\r\n```\r\njavax.net.ssl|ERROR|8B|qtp469987539-139|2023-01-30 11:36:36.396 CET|TransportContext.java:345|Fatal (HANDSHAKE_FAILURE): no cipher suites in common (\r\n&quot;throwable&quot; : {\r\n\r\njavax.net.ssl.SSLHandshakeException: no cipher suites in common\r\n```\r\nNow my question is has these something to do with the java.security file and where in these file must we enter these ciphers ?","title":"no cipher suites in common java.security","body":"<p>we use Java Version 11.0.17 for our dataconverter. Now a customer send an http string to our DMZ Server and i can see a Client Hello with</p>\n<pre><code>&quot;client version&quot;      : &quot;TLSv1.2&quot;,\n&quot;random&quot;              : &quot;63 D7 9D B4 73 10 AC 67 B6 8A 12 BA 20 07 5D FE 61 B8 0C 36 36 BF 6C B7 30 78 F2 78 16 50 DB 05&quot;,\n&quot;session id&quot;          : &quot;&quot;,\n&quot;cipher suites&quot;       : &quot;[TLS_RSA_WITH_AES_256_GCM_SHA384(0x009D), \nTLS_RSA_WITH_CAMELLIA_256_GCM_SHA384(0xC07B), \nTLS_RSA_WITH_AES_256_CBC_SHA256(0x003D), \nTLS_RSA_WITH_CAMELLIA_256_CBC_SHA256(0x00C0), \nTLS_RSA_WITH_AES_128_GCM_SHA256(0x009C), \nTLS_RSA_WITH_CAMELLIA_128_GCM_SHA256(0xC07A), \nTLS_RSA_WITH_AES_128_CBC_SHA256(0x003C), \nTLS_RSA_WITH_CAMELLIA_128_CBC_SHA256(0x00BA), \nTLS_RSA_WITH_AES_256_CBC_SHA(0x0035), \nTLS_RSA_WITH_CAMELLIA_256_CBC_SHA(0x0084), \nTLS_RSA_WITH_AES_128_CBC_SHA(0x002F), \nTLS_RSA_WITH_CAMELLIA_128_CBC_SHA(0x0041), \nSSL_RSA_WITH_3DES_EDE_CBC_SHA(0x000A), \nSSL_RSA_WITH_RC4_128_SHA(0x0005)]&quot;,\n&quot;compression methods&quot; : &quot;00&quot;,\n&quot;extensions&quot;          : [\n&quot;renegotiation_info (65,281)&quot;: {\n&quot;renegotiated connection&quot;: [&lt;no renegotiated connection&gt;]\n},\n&quot;signature_algorithms (13)&quot;: {\n&quot;signature schemes&quot;: [rsa_pkcs1_sha256, dsa_sha256, rsa_pkcs1_sha384, dsa_sha384, rsa_pkcs1_sha512, dsa_sha512, rsa_pkcs1_sha1, dsa_sha1]\n</code></pre>\n<p>and than I see the error</p>\n<pre><code>javax.net.ssl|ERROR|8B|qtp469987539-139|2023-01-30 11:36:36.396 CET|TransportContext.java:345|Fatal (HANDSHAKE_FAILURE): no cipher suites in common (\n&quot;throwable&quot; : {\n\njavax.net.ssl.SSLHandshakeException: no cipher suites in common\n</code></pre>\n<p>Now my question is has these something to do with the java.security file and where in these file must we enter these ciphers ?</p>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":9143806,"reputation":324,"user_id":6800811,"display_name":"Brunaldo"},"score":0,"creation_date":1477257277,"post_id":40207849,"comment_id":67680235,"body_markdown":"Include your code in the question please.","body":"Include your code in the question please."},{"owner":{"account_id":4937836,"reputation":7207,"user_id":3975480,"accept_rate":93,"display_name":"manniL"},"score":2,"creation_date":1477257289,"post_id":40207849,"comment_id":67680238,"body_markdown":"Please do not post your code as image!","body":"Please do not post your code as image!"},{"owner":{"account_id":2791991,"reputation":4341,"user_id":2402061,"accept_rate":88,"display_name":"Ricky Mutschlechner"},"score":0,"creation_date":1477258485,"post_id":40207849,"comment_id":67680554,"body_markdown":"To swap two of anything, a and b, you must do something like the following. `tmp = a; a = b; b = tmp;`","body":"To swap two of anything, a and b, you must do something like the following. <code>tmp = a; a = b; b = tmp;</code>"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1477261770,"creation_date":1477259368,"answer_id":40208150,"question_id":40207849,"body_markdown":"Why exchange nodes, when you can exchange the data?\r\n\r\n    public void swap(int i, int j) {\r\n\r\n        sllNode ithNode = head;\r\n        for (int z = 0; z &lt; i; z++) {\r\n            ithNode = ithNode.next;\r\n        }\r\n\r\n        sllNode jthNode = head;\r\n        for (int q = 0; q &lt; j; q++) {\r\n            jthNode = jthNode.next;\r\n        }\r\n\r\n        // Swap the data        \r\n        String data = ithNode.data;\r\n        ithNode.data = jthNode.data;\r\n        jthNode.data = data;\r\n    }\r\n\r\nIt would make sense to use a method:\r\n\r\n    public sllNode get(int i) {\r\n        sllNode current = head;\r\n        while (i &gt; 0) {\r\n            current = current.next;\r\n        }\r\n        return current;\r\n    }\r\n\r\nBy the way:\r\n\r\n- The convention for class names is a beginning capital: `SllNode`.\r\n- Do not use fields for things like `current` and `current2` where they can be local variables.\r\n\r\n--------------------------------\r\n***Exchanging nodes, the hard way***\r\n\r\nHere one has to think, so it is best to deal with special cases first, and then only treat `i &lt; j`.\r\n\r\n    public void swap(int i, int j) {\r\n        if (i &gt;= size() || j &gt;= size()) {\r\n            throw new IndexOutOfBoundsException();\r\n        }\r\n        if (i == j) {\r\n            return;\r\n        }\r\n        if (j &lt; i) {\r\n            swap(j, i);\r\n            return;\r\n        }\r\n\r\n        // i &lt; j\r\n\r\n        sllNode ithPredecessor = null;\r\n        sllNode ithNode = head;\r\n        for (int z = 0; z &lt; i; z++) {\r\n            ithPredecessor = ithNode;\r\n            ithNode = ithNode.next;\r\n        }\r\n\r\n        sllNode jthPredecessor = ithNode;\r\n        sllNode jthNode = ithNode.next;\r\n        for (int q = i + 1; q &lt; j; q++) {\r\n            jthPredecessor = jthNode;\r\n            jthNode = jthNode.next;\r\n        }\r\n\r\n        // Relink both nodes in the list:\r\n\r\n        // - The jthNode:\r\n        if (ithPredecessor == null) {\r\n            head = jthNode;\r\n        } else {\r\n            ithPredecessor.next = jthNode;\r\n        }\r\n        sllNode jNext = jthNode.next;\r\n        //if (ithNode.next == jthNode) {\r\n        if (jthPredecessor == ithNode) {\r\n            jthNode.next = ithNode;\r\n        } else {\r\n            jthNode.next = ithNode.next;\r\n        }\r\n        \r\n        // - The ithNode:\r\n        if (jthPredecessor == ithNode) {\r\n        } else {\r\n            jthPredecessor.next = ithNode;\r\n        }\r\n        ithNode.next = jNext;\r\n    }\r\n\r\nNo guarantee that the logic is okay. There are tricks:\r\n\r\n        //if (ithNode.next == jthNode) {\r\n        if (jthPredecessor == ithNode) {\r\n\r\nBoth conditions test whether `i + 1 == j`, but testing on a .next and then assigning makes the condition a momentary state. As you see it would have been easier to have one single `if (i + 1 == j) { ... } else { ... }` and handle both the ithNode and jthNode.","title":"Swapping nodes in a singly linked list java","body":"<p>Why exchange nodes, when you can exchange the data?</p>\n\n<pre><code>public void swap(int i, int j) {\n\n    sllNode ithNode = head;\n    for (int z = 0; z &lt; i; z++) {\n        ithNode = ithNode.next;\n    }\n\n    sllNode jthNode = head;\n    for (int q = 0; q &lt; j; q++) {\n        jthNode = jthNode.next;\n    }\n\n    // Swap the data        \n    String data = ithNode.data;\n    ithNode.data = jthNode.data;\n    jthNode.data = data;\n}\n</code></pre>\n\n<p>It would make sense to use a method:</p>\n\n<pre><code>public sllNode get(int i) {\n    sllNode current = head;\n    while (i &gt; 0) {\n        current = current.next;\n    }\n    return current;\n}\n</code></pre>\n\n<p>By the way:</p>\n\n<ul>\n<li>The convention for class names is a beginning capital: <code>SllNode</code>.</li>\n<li>Do not use fields for things like <code>current</code> and <code>current2</code> where they can be local variables.</li>\n</ul>\n\n<hr>\n\n<p><strong><em>Exchanging nodes, the hard way</em></strong></p>\n\n<p>Here one has to think, so it is best to deal with special cases first, and then only treat <code>i &lt; j</code>.</p>\n\n<pre><code>public void swap(int i, int j) {\n    if (i &gt;= size() || j &gt;= size()) {\n        throw new IndexOutOfBoundsException();\n    }\n    if (i == j) {\n        return;\n    }\n    if (j &lt; i) {\n        swap(j, i);\n        return;\n    }\n\n    // i &lt; j\n\n    sllNode ithPredecessor = null;\n    sllNode ithNode = head;\n    for (int z = 0; z &lt; i; z++) {\n        ithPredecessor = ithNode;\n        ithNode = ithNode.next;\n    }\n\n    sllNode jthPredecessor = ithNode;\n    sllNode jthNode = ithNode.next;\n    for (int q = i + 1; q &lt; j; q++) {\n        jthPredecessor = jthNode;\n        jthNode = jthNode.next;\n    }\n\n    // Relink both nodes in the list:\n\n    // - The jthNode:\n    if (ithPredecessor == null) {\n        head = jthNode;\n    } else {\n        ithPredecessor.next = jthNode;\n    }\n    sllNode jNext = jthNode.next;\n    //if (ithNode.next == jthNode) {\n    if (jthPredecessor == ithNode) {\n        jthNode.next = ithNode;\n    } else {\n        jthNode.next = ithNode.next;\n    }\n\n    // - The ithNode:\n    if (jthPredecessor == ithNode) {\n    } else {\n        jthPredecessor.next = ithNode;\n    }\n    ithNode.next = jNext;\n}\n</code></pre>\n\n<p>No guarantee that the logic is okay. There are tricks:</p>\n\n<pre><code>    //if (ithNode.next == jthNode) {\n    if (jthPredecessor == ithNode) {\n</code></pre>\n\n<p>Both conditions test whether <code>i + 1 == j</code>, but testing on a .next and then assigning makes the condition a momentary state. As you see it would have been easier to have one single <code>if (i + 1 == j) { ... } else { ... }</code> and handle both the ithNode and jthNode.</p>\n"},{"tags":[],"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477260115,"creation_date":1477260115,"answer_id":40208237,"question_id":40207849,"body_markdown":"To do this, you need to swap 2 things: the node as next from the previous node, and the next node.\r\n\r\nOnce you found `current` and `current2` which are the previous nodes of the nodes you want to swap, do this:\r\n\r\nSwap the nodes:\r\n\r\n    sllNode tmp = current.next;\r\n    current.next = current2.next;\r\n    current2.next = tmp;\r\n\r\nThen swap the next:\r\n\r\n    tmp = current.next.next;\r\n    current.next.next = current2.next.next;\r\n    current2.next.next = tmp;","title":"Swapping nodes in a singly linked list java","body":"<p>To do this, you need to swap 2 things: the node as next from the previous node, and the next node.</p>\n\n<p>Once you found <code>current</code> and <code>current2</code> which are the previous nodes of the nodes you want to swap, do this:</p>\n\n<p>Swap the nodes:</p>\n\n<pre><code>sllNode tmp = current.next;\ncurrent.next = current2.next;\ncurrent2.next = tmp;\n</code></pre>\n\n<p>Then swap the next:</p>\n\n<pre><code>tmp = current.next.next;\ncurrent.next.next = current2.next.next;\ncurrent2.next.next = tmp;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6009008,"reputation":17,"user_id":4719987,"display_name":"Salil Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675367777,"creation_date":1675367777,"answer_id":75328329,"question_id":40207849,"body_markdown":"// Swapping two elements in a Linked List using  Java\r\n  \r\nimport java.util.*;\r\n  \r\nclass SwappingTwoElements {\r\n\r\n    public static void main(String[] args)\r\n    {\r\n  \r\n        LinkedList&lt;Integer&gt; ll = new LinkedList&lt;&gt;();\r\n  \r\n        // Adding elements to Linked List\r\n        ll.add(10);\r\n        ll.add(11);\r\n        ll.add(12);\r\n        ll.add(13);\r\n        ll.add(14);\r\n        ll.add(15);\r\n  \r\n        // Elements to swap\r\n        int element1 = 11;\r\n        int element2 = 14;\r\n  \r\n        System.out.println(&quot;Linked List Before Swapping :-&quot;);\r\n  \r\n        for (int i : ll) {\r\n            System.out.print(i + &quot; &quot;);\r\n        }\r\n  \r\n        // Swapping the elements\r\n        swap(ll, element1, element2);\r\n        System.out.println();\r\n        System.out.println();\r\n  \r\n        System.out.println(&quot;Linked List After Swapping :-&quot;);\r\n  \r\n        for (int i : ll) {\r\n            System.out.print(i + &quot; &quot;);\r\n        }\r\n    }\r\n  \r\n    // Swap Function\r\n    public static void swap(LinkedList&lt;Integer&gt; list,\r\n                            int ele1, int ele2)\r\n    {\r\n  \r\n        // Getting the positions of the elements\r\n        int index1 = list.indexOf(ele1);\r\n        int index2 = list.indexOf(ele2);\r\n  \r\n        // Returning if the element is not present in the\r\n        // LinkedList\r\n        if (index1 == -1 || index2 == -1) {\r\n            return;\r\n        }\r\n  \r\n        // Swapping the elements\r\n        list.set(index1, ele2);\r\n        list.set(index2, ele1);\r\n    }\r\n}\r\nOutput\r\nBefore Swapping Linked List  :-\r\n10 11 12 13 14 15 \r\n\r\nAfter Swapping Linked List  :-\r\n10 14 12 13 11 15\r\nTime Complexity: O(N), where N is the  Linked List length ","title":"Swapping nodes in a singly linked list java","body":"<p>// Swapping two elements in a Linked List using  Java</p>\n<p>import java.util.*;</p>\n<p>class SwappingTwoElements {</p>\n<pre><code>public static void main(String[] args)\n{\n\n    LinkedList&lt;Integer&gt; ll = new LinkedList&lt;&gt;();\n\n    // Adding elements to Linked List\n    ll.add(10);\n    ll.add(11);\n    ll.add(12);\n    ll.add(13);\n    ll.add(14);\n    ll.add(15);\n\n    // Elements to swap\n    int element1 = 11;\n    int element2 = 14;\n\n    System.out.println(&quot;Linked List Before Swapping :-&quot;);\n\n    for (int i : ll) {\n        System.out.print(i + &quot; &quot;);\n    }\n\n    // Swapping the elements\n    swap(ll, element1, element2);\n    System.out.println();\n    System.out.println();\n\n    System.out.println(&quot;Linked List After Swapping :-&quot;);\n\n    for (int i : ll) {\n        System.out.print(i + &quot; &quot;);\n    }\n}\n\n// Swap Function\npublic static void swap(LinkedList&lt;Integer&gt; list,\n                        int ele1, int ele2)\n{\n\n    // Getting the positions of the elements\n    int index1 = list.indexOf(ele1);\n    int index2 = list.indexOf(ele2);\n\n    // Returning if the element is not present in the\n    // LinkedList\n    if (index1 == -1 || index2 == -1) {\n        return;\n    }\n\n    // Swapping the elements\n    list.set(index1, ele2);\n    list.set(index2, ele1);\n}\n</code></pre>\n<p>}\nOutput\nBefore Swapping Linked List  :-\n10 11 12 13 14 15</p>\n<p>After Swapping Linked List  :-\n10 14 12 13 11 15\nTime Complexity: O(N), where N is the  Linked List length</p>\n"}],"owner":{"account_id":7020515,"reputation":1,"user_id":7040637,"display_name":"Mike"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9709,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1675367777,"creation_date":1477257049,"question_id":40207849,"body_markdown":"I have been trying to come up with an algorithm to swap 2 nodes (not necesarily right next to each other) in a singly linked list for 2 days but for some reason I cannot do it.\r\nHere is what I have, I am really new to coding and have been really stressed:\r\n[![enter image description here][1]][1]\r\nI have managed to place a temp node in but can&#39;t actually swap the nodes.\r\n\r\n    public void swap(int i, int j) {\r\n        current = head;\r\n        current2 = head;\r\n        sllNode temp = new sllNode(&quot; &quot;);\r\n        sllNode temp2 = new sllNode(&quot; &quot;);\r\n\r\n        for(int z = 0; i&gt;z; z++)\r\n            current=current.next;\r\n        for(int q = 0; j&gt;q; q++)\r\n            current2 = current2.next;\r\n    \r\n        temp.next = current2.next.next;\r\n        current.next = temp;\r\n        current.next = current2.next.next;\r\n        current2.next = current;\r\n\r\n  [1]: https://i.stack.imgur.com/v3uLu.png","title":"Swapping nodes in a singly linked list java","body":"<p>I have been trying to come up with an algorithm to swap 2 nodes (not necesarily right next to each other) in a singly linked list for 2 days but for some reason I cannot do it.\nHere is what I have, I am really new to coding and have been really stressed:\n<a href=\"https://i.stack.imgur.com/v3uLu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v3uLu.png\" alt=\"enter image description here\"></a>\nI have managed to place a temp node in but can't actually swap the nodes.</p>\n\n<pre><code>public void swap(int i, int j) {\n    current = head;\n    current2 = head;\n    sllNode temp = new sllNode(\" \");\n    sllNode temp2 = new sllNode(\" \");\n\n    for(int z = 0; i&gt;z; z++)\n        current=current.next;\n    for(int q = 0; j&gt;q; q++)\n        current2 = current2.next;\n\n    temp.next = current2.next.next;\n    current.next = temp;\n    current.next = current2.next.next;\n    current2.next = current;\n</code></pre>\n"},{"tags":["java","visual-studio-code","intellij-idea","run-configuration"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1657776017,"post_id":72969698,"comment_id":128891684,"body_markdown":"I&#39;m sorry it&#39;s a little hard to understand what exactly you are trying to achieve. Can you describe your problem in detail and clearly?","body":"I&#39;m sorry it&#39;s a little hard to understand what exactly you are trying to achieve. Can you describe your problem in detail and clearly?"},{"owner":{"account_id":3787829,"reputation":159,"user_id":3145178,"accept_rate":38,"display_name":"the_begging_beginner"},"score":1,"creation_date":1657777682,"post_id":72969698,"comment_id":128891998,"body_markdown":"Essentially when I click the &quot;Run&quot; button on the top right. It runs those settings in IntelliJ. I want to be able to do the same thing in VSCode. That particular configuration (the picture you see) runs all the Junit tests with those specific settings. How can I do the same thing in VSCode?","body":"Essentially when I click the &quot;Run&quot; button on the top right. It runs those settings in IntelliJ. I want to be able to do the same thing in VSCode. That particular configuration (the picture you see) runs all the Junit tests with those specific settings. How can I do the same thing in VSCode?"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1657783008,"post_id":72969698,"comment_id":128893487,"body_markdown":"[`task.json`](https://code.visualstudio.com/docs/editor/tasks) might help you.","body":"<a href=\"https://code.visualstudio.com/docs/editor/tasks\" rel=\"nofollow noreferrer\"><code>task.json</code></a> might help you."},{"owner":{"account_id":3787829,"reputation":159,"user_id":3145178,"accept_rate":38,"display_name":"the_begging_beginner"},"score":0,"creation_date":1657806147,"post_id":72969698,"comment_id":128901819,"body_markdown":"I know but I dont know how to map it properly. If I know the cmd line commands for Intellij I might be able to map it.","body":"I know but I dont know how to map it properly. If I know the cmd line commands for Intellij I might be able to map it."}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658310281,"creation_date":1658310281,"answer_id":73049338,"question_id":72969698,"body_markdown":"1. If .vscode/launch.json doesn&#39;t exist in your workspace, you could click the link &quot;**create a launch.json file**&quot; and Java Debugger will create a initial launch.json file with some base configuration for your Java application.\r\n\r\n   [![enter image description here][1]][1]\r\n\r\n2. Type a `&quot;&quot;` in launch.json, VS Code will provide a list of completion suggestions on the supported configs. If you want to add environment variables for your program, you can type `&quot;env&quot;: { &quot;key&quot;: &quot;value&quot;}`.\r\n\r\n   [![enter image description here][2]][2]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VQcJr.png\r\n  [2]: https://i.stack.imgur.com/ZmxvD.png","title":"How do I map the Run Configuration from IntelliJ to VSCode?","body":"<ol>\n<li><p>If .vscode/launch.json doesn't exist in your workspace, you could click the link &quot;<strong>create a launch.json file</strong>&quot; and Java Debugger will create a initial launch.json file with some base configuration for your Java application.</p>\n<p><a href=\"https://i.stack.imgur.com/VQcJr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VQcJr.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Type a <code>&quot;&quot;</code> in launch.json, VS Code will provide a list of completion suggestions on the supported configs. If you want to add environment variables for your program, you can type <code>&quot;env&quot;: { &quot;key&quot;: &quot;value&quot;}</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/ZmxvD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZmxvD.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2641373,"reputation":1324,"user_id":2284927,"display_name":"Navid Mitchell"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675367555,"creation_date":1675367555,"answer_id":75328292,"question_id":72969698,"body_markdown":"There is this project which lets you convert Jetbrains run configurations to VSCode \r\n\r\n[jetbrains-vscode](https://github.com/topscoder/jetbrains-vscode)","title":"How do I map the Run Configuration from IntelliJ to VSCode?","body":"<p>There is this project which lets you convert Jetbrains run configurations to VSCode</p>\n<p><a href=\"https://github.com/topscoder/jetbrains-vscode\" rel=\"nofollow noreferrer\">jetbrains-vscode</a></p>\n"}],"owner":{"account_id":3787829,"reputation":159,"user_id":3145178,"accept_rate":38,"display_name":"the_begging_beginner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3148,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1675367555,"creation_date":1657730007,"question_id":72969698,"body_markdown":"I want to have the same run configuration I have on `Intellij` the same as I do for `VS Code`. But I am not sure how to go about doing that. I tried the `launch.json` on VSCode but I am not sure what fields I have to put to make it work. \r\n\r\nAnyone with experience with this?\r\n\r\n**Here is what I am referencing:**\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6Kvyg.png\r\n\r\nEssentially when I click the Run Button on the top right of the intellij it runs that particular run configuration picture. \r\n\r\nIs there a way for me to do the same on VSCode?","title":"How do I map the Run Configuration from IntelliJ to VSCode?","body":"<p>I want to have the same run configuration I have on <code>Intellij</code> the same as I do for <code>VS Code</code>. But I am not sure how to go about doing that. I tried the <code>launch.json</code> on VSCode but I am not sure what fields I have to put to make it work.</p>\n<p>Anyone with experience with this?</p>\n<p><strong>Here is what I am referencing:</strong>\n<a href=\"https://i.stack.imgur.com/6Kvyg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6Kvyg.png\" alt=\"enter image description here\" /></a></p>\n<p>Essentially when I click the Run Button on the top right of the intellij it runs that particular run configuration picture.</p>\n<p>Is there a way for me to do the same on VSCode?</p>\n"},{"tags":["java","java-io"],"comments":[{"owner":{"account_id":473751,"reputation":19104,"user_id":883033,"accept_rate":63,"display_name":"Chandra Sekhar"},"score":0,"creation_date":1332499309,"post_id":9837754,"comment_id":12536035,"body_markdown":"Can you share the situation, why you want this?","body":"Can you share the situation, why you want this?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1332499396,"post_id":9837754,"comment_id":12536068,"body_markdown":"Note that `InputStream` deals with *binary* data. Strings are *text* data. Which encoding are you interested in?","body":"Note that <code>InputStream</code> deals with <i>binary</i> data. Strings are <i>text</i> data. Which encoding are you interested in?"},{"owner":{"account_id":190564,"reputation":9340,"user_id":430615,"accept_rate":56,"display_name":"Marc Polizzi"},"score":0,"creation_date":1332499655,"post_id":9837754,"comment_id":12536156,"body_markdown":"You&#39;re right I forgot to precise : UTF-8 only.","body":"You&#39;re right I forgot to precise : UTF-8 only."},{"owner":{"account_id":1948359,"reputation":726,"user_id":2596762,"accept_rate":81,"display_name":"Rahul Dabas"},"score":0,"creation_date":1411671954,"post_id":9837754,"comment_id":40802255,"body_markdown":"How did you finally accomplish creating an InputStream from List&lt;String&gt; Marc? I have to do the same thing. Any Input will help.","body":"How did you finally accomplish creating an InputStream from List&lt;String&gt; Marc? I have to do the same thing. Any Input will help."}],"answers":[{"tags":[],"owner":{"account_id":29195,"reputation":2503,"user_id":78666,"accept_rate":53,"display_name":"benmmurphy"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1332499634,"creation_date":1332499574,"answer_id":9837872,"question_id":9837754,"body_markdown":"You can concatenate all the lines together to create a String then convert it to a byte array using `String#getBytes` and pass it into [ByteArrayInputStream][1]. However this is not the most efficient way of doing it.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/ByteArrayInputStream.html","title":"Java: accessing a List of Strings as an InputStream","body":"<p>You can concatenate all the lines together to create a String then convert it to a byte array using <code>String#getBytes</code> and pass it into <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/ByteArrayInputStream.html\" rel=\"noreferrer\">ByteArrayInputStream</a>. However this is not the most efficient way of doing it.</p>\n"},{"tags":[],"owner":{"account_id":2288,"reputation":191195,"user_id":3171,"accept_rate":92,"display_name":"David Webb"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1332501342,"creation_date":1332499710,"answer_id":9837905,"question_id":9837754,"body_markdown":"You can read from a `ByteArrayOutputStream` and you can create your source `byte[]` array using a `ByteArrayInputStream`.\r\n\r\nSo create the array as follows:\r\n\r\n     List&lt;String&gt; source = new ArrayList&lt;String&gt;();\r\n     source.add(&quot;one&quot;);\r\n     source.add(&quot;two&quot;);\r\n     source.add(&quot;three&quot;);\r\n     ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n     \r\n     for (String line : source) {\r\n       baos.write(line.getBytes());\r\n     }\r\n     \r\n     byte[] bytes = baos.toByteArray();\r\n\r\nAnd reading from it is as simple as:\r\n\r\n     InputStream in = new ByteArrayInputStream(bytes);\r\n\r\nAlternatively, depending on what you&#39;re trying to do, a [`StringReader`][1] might be better.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/io/StringReader.html","title":"Java: accessing a List of Strings as an InputStream","body":"<p>You can read from a <code>ByteArrayOutputStream</code> and you can create your source <code>byte[]</code> array using a <code>ByteArrayInputStream</code>.</p>\n\n<p>So create the array as follows:</p>\n\n<pre><code> List&lt;String&gt; source = new ArrayList&lt;String&gt;();\n source.add(\"one\");\n source.add(\"two\");\n source.add(\"three\");\n ByteArrayOutputStream baos = new ByteArrayOutputStream();\n\n for (String line : source) {\n   baos.write(line.getBytes());\n }\n\n byte[] bytes = baos.toByteArray();\n</code></pre>\n\n<p>And reading from it is as simple as:</p>\n\n<pre><code> InputStream in = new ByteArrayInputStream(bytes);\n</code></pre>\n\n<p>Alternatively, depending on what you're trying to do, a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/StringReader.html\" rel=\"noreferrer\"><code>StringReader</code></a> might be better.</p>\n"},{"tags":[],"owner":{"account_id":43822,"reputation":3532,"user_id":128285,"accept_rate":64,"display_name":"Jon"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1332509841,"creation_date":1332499825,"answer_id":9837932,"question_id":9837754,"body_markdown":"In short, no, there is no way of doing this using existing JDK classes. You could, however, implement your own [InputStream][1] that read from a List of Strings.\r\n\r\nEDIT: Dave Web has an answer above, which I think is the way to go. If you need a reusable class, then something like this might do:\r\n\r\n&lt;pre&gt;\r\n&lt;!-- language: lang-java --&gt;\r\n&lt;code&gt;\r\npublic class StringsInputStream&amp;lt;T extends Iterable&amp;lt;String&amp;gt;&amp;gt; extends InputStream {\r\n\r\n   private ByteArrayInputStream bais = null;\r\n\r\n   public StringsInputStream(final T strings) throws IOException {\r\n      ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n      for (String line : strings) {\r\n         outputStream.write(line.getBytes());\r\n      }\r\n      bais = new ByteArrayInputStream(outputStream.toByteArray());\r\n   }\r\n\r\n   @Override\r\n   public int read() throws IOException {\r\n      return bais.read();\r\n   }\r\n\r\n   @Override\r\n   public int read(byte[] b) throws IOException {\r\n      return bais.read(b);\r\n   }\r\n\r\n   @Override\r\n   public int read(byte[] b, int off, int len) throws IOException {\r\n      return bais.read(b, off, len);\r\n   }\r\n\r\n   @Override\r\n   public long skip(long n) throws IOException {\r\n      return bais.skip(n);\r\n   }\r\n\r\n   @Override\r\n   public int available() throws IOException {\r\n      return bais.available();\r\n   }\r\n\r\n   @Override\r\n   public void close() throws IOException {\r\n      bais.close();\r\n   }\r\n\r\n   @Override\r\n   public synchronized void mark(int readlimit) {\r\n      bais.mark(readlimit);\r\n   }\r\n\r\n   @Override\r\n   public synchronized void reset() throws IOException {\r\n      bais.reset();\r\n   }\r\n\r\n   @Override\r\n   public boolean markSupported() {\r\n      return bais.markSupported();\r\n   }\r\n\r\n   public static void main(String[] args) throws Exception {\r\n      List&lt;String&gt; source = new ArrayList&lt;String&gt;();\r\n      source.add(&quot;foo &quot;);\r\n      source.add(&quot;bar &quot;);\r\n      source.add(&quot;baz&quot;);\r\n\r\n      StringsInputStream&amp;lt;List&amp;lt;String&amp;gt;&amp;gt; in = new StringsInputStream&amp;lt;List&amp;lt;String&amp;gt;&amp;gt;(source);\r\n\r\n      int read = in.read();\r\n      while (read != -1) {\r\n         System.out.print((char) read);\r\n         read = in.read();\r\n      }\r\n   }\r\n}\r\n&lt;/code&gt;\r\n&lt;/pre&gt;\r\n\r\nThis basically an adapter for `ByteArrayInputStream`.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html","title":"Java: accessing a List of Strings as an InputStream","body":"<p>In short, no, there is no way of doing this using existing JDK classes. You could, however, implement your own <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html\" rel=\"noreferrer\">InputStream</a> that read from a List of Strings.</p>\n\n<p>EDIT: Dave Web has an answer above, which I think is the way to go. If you need a reusable class, then something like this might do:</p>\n\n<pre>\n<code>\npublic class StringsInputStream&lt;T extends Iterable&lt;String&gt;&gt; extends InputStream {\n\n   private ByteArrayInputStream bais = null;\n\n   public StringsInputStream(final T strings) throws IOException {\n      ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n      for (String line : strings) {\n         outputStream.write(line.getBytes());\n      }\n      bais = new ByteArrayInputStream(outputStream.toByteArray());\n   }\n\n   @Override\n   public int read() throws IOException {\n      return bais.read();\n   }\n\n   @Override\n   public int read(byte[] b) throws IOException {\n      return bais.read(b);\n   }\n\n   @Override\n   public int read(byte[] b, int off, int len) throws IOException {\n      return bais.read(b, off, len);\n   }\n\n   @Override\n   public long skip(long n) throws IOException {\n      return bais.skip(n);\n   }\n\n   @Override\n   public int available() throws IOException {\n      return bais.available();\n   }\n\n   @Override\n   public void close() throws IOException {\n      bais.close();\n   }\n\n   @Override\n   public synchronized void mark(int readlimit) {\n      bais.mark(readlimit);\n   }\n\n   @Override\n   public synchronized void reset() throws IOException {\n      bais.reset();\n   }\n\n   @Override\n   public boolean markSupported() {\n      return bais.markSupported();\n   }\n\n   public static void main(String[] args) throws Exception {\n      List source = new ArrayList();\n      source.add(\"foo \");\n      source.add(\"bar \");\n      source.add(\"baz\");\n\n      StringsInputStream&lt;List&lt;String&gt;&gt; in = new StringsInputStream&lt;List&lt;String&gt;&gt;(source);\n\n      int read = in.read();\n      while (read != -1) {\n         System.out.print((char) read);\n         read = in.read();\n      }\n   }\n}\n</code>\n</pre>\n\n<p>This basically an adapter for <code>ByteArrayInputStream</code>.</p>\n"},{"tags":[],"owner":{"account_id":1282189,"reputation":833,"user_id":1236051,"accept_rate":38,"display_name":"Riddhish.Chaudhari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332500117,"creation_date":1332500117,"answer_id":9837992,"question_id":9837754,"body_markdown":"you can also do this way create a Serializable List\r\n\r\n    List&lt;String&gt; quarks = Arrays.asList(\r\n          &quot;up&quot;, &quot;down&quot;, &quot;strange&quot;, &quot;charm&quot;, &quot;top&quot;, &quot;bottom&quot;\r\n        );\r\n\r\n    //serialize the List\r\n    //note the use of abstract base class references\r\n\r\n    try{\r\n      //use buffering\r\n      OutputStream file = new FileOutputStream( &quot;quarks.ser&quot; );\r\n      OutputStream buffer = new BufferedOutputStream( file );\r\n      ObjectOutput output = new ObjectOutputStream( buffer );\r\n      try{\r\n        output.writeObject(quarks);\r\n      }\r\n      finally{\r\n        output.close();\r\n      }\r\n    }  \r\n    catch(IOException ex){\r\n      fLogger.log(Level.SEVERE, &quot;Cannot perform output.&quot;, ex);\r\n    }\r\n\r\n    //deserialize the quarks.ser file\r\n    //note the use of abstract base class references\r\n    \r\n    try{\r\n      //use buffering\r\n      InputStream file = new FileInputStream( &quot;quarks.ser&quot; );\r\n      InputStream buffer = new BufferedInputStream( file );\r\n      ObjectInput input = new ObjectInputStream ( buffer );\r\n      try{\r\n        //deserialize the List\r\n        List&lt;String&gt; recoveredQuarks = (List&lt;String&gt;)input.readObject();\r\n        //display its data\r\n        for(String quark: recoveredQuarks){\r\n          System.out.println(&quot;Recovered Quark: &quot; + quark);\r\n        }\r\n      }\r\n      finally{\r\n        input.close();\r\n      }\r\n    }\r\n    catch(ClassNotFoundException ex){\r\n      fLogger.log(Level.SEVERE, &quot;Cannot perform input. Class not found.&quot;, ex);\r\n    }\r\n    catch(IOException ex){\r\n      fLogger.log(Level.SEVERE, &quot;Cannot perform input.&quot;, ex);\r\n    }\r\n  ","title":"Java: accessing a List of Strings as an InputStream","body":"<p>you can also do this way create a Serializable List</p>\n\n<pre><code>List&lt;String&gt; quarks = Arrays.asList(\n      \"up\", \"down\", \"strange\", \"charm\", \"top\", \"bottom\"\n    );\n\n//serialize the List\n//note the use of abstract base class references\n\ntry{\n  //use buffering\n  OutputStream file = new FileOutputStream( \"quarks.ser\" );\n  OutputStream buffer = new BufferedOutputStream( file );\n  ObjectOutput output = new ObjectOutputStream( buffer );\n  try{\n    output.writeObject(quarks);\n  }\n  finally{\n    output.close();\n  }\n}  \ncatch(IOException ex){\n  fLogger.log(Level.SEVERE, \"Cannot perform output.\", ex);\n}\n\n//deserialize the quarks.ser file\n//note the use of abstract base class references\n\ntry{\n  //use buffering\n  InputStream file = new FileInputStream( \"quarks.ser\" );\n  InputStream buffer = new BufferedInputStream( file );\n  ObjectInput input = new ObjectInputStream ( buffer );\n  try{\n    //deserialize the List\n    List&lt;String&gt; recoveredQuarks = (List&lt;String&gt;)input.readObject();\n    //display its data\n    for(String quark: recoveredQuarks){\n      System.out.println(\"Recovered Quark: \" + quark);\n    }\n  }\n  finally{\n    input.close();\n  }\n}\ncatch(ClassNotFoundException ex){\n  fLogger.log(Level.SEVERE, \"Cannot perform input. Class not found.\", ex);\n}\ncatch(IOException ex){\n  fLogger.log(Level.SEVERE, \"Cannot perform input.\", ex);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29195,"reputation":2503,"user_id":78666,"accept_rate":53,"display_name":"benmmurphy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1332500379,"creation_date":1332500379,"answer_id":9838059,"question_id":9837754,"body_markdown":"You can do something similar to this:\r\n\r\nhttps://commons.apache.org/sandbox/flatfile/xref/org/apache/commons/flatfile/util/ConcatenatedInputStream.html\r\n\r\nIt just implements the read() method of InputStream and has a list of InputStreams it is concatenating. Once it reads an EOF it starts reading from the next InputStream. Just convert the Strings to ByteArrayInputStreams.","title":"Java: accessing a List of Strings as an InputStream","body":"<p>You can do something similar to this:</p>\n\n<p><a href=\"https://commons.apache.org/sandbox/flatfile/xref/org/apache/commons/flatfile/util/ConcatenatedInputStream.html\" rel=\"nofollow\">https://commons.apache.org/sandbox/flatfile/xref/org/apache/commons/flatfile/util/ConcatenatedInputStream.html</a></p>\n\n<p>It just implements the read() method of InputStream and has a list of InputStreams it is concatenating. Once it reads an EOF it starts reading from the next InputStream. Just convert the Strings to ByteArrayInputStreams.</p>\n"},{"tags":[],"owner":{"account_id":2044891,"reputation":3271,"user_id":4503311,"display_name":"Mike Shauneu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1542337827,"creation_date":1542337827,"answer_id":53330879,"question_id":9837754,"body_markdown":"You can create some kind of IterableInputStream \r\n\r\n    public class IterableInputStream&lt;T&gt; extends InputStream {\r\n\r\n        public static final int EOF = -1;\r\n    \r\n        private static final InputStream EOF_IS = new InputStream() {\r\n            @Override public int read() throws IOException {\r\n                return EOF;\r\n            }\r\n        };\r\n    \r\n        private final Iterator&lt;T&gt; iterator;\r\n        private final Function&lt;T, byte[]&gt; mapper;\r\n    \r\n        private InputStream current;\r\n    \r\n        public IterableInputStream(Iterable&lt;T&gt; iterable, Function&lt;T, byte[]&gt; mapper) {\r\n            this.iterator = iterable.iterator();\r\n            this.mapper = mapper;\r\n            next();\r\n        }\r\n    \r\n        @Override\r\n        public int read() throws IOException {\r\n            int n = current.read();\r\n            while (n == EOF &amp;&amp; current != EOF_IS) {\r\n                next();\r\n                n = current.read();\r\n            }\r\n            return n;\r\n        }\r\n    \r\n        private void next() {\r\n            current = iterator.hasNext() \r\n                ? new ByteArrayInputStream(mapper.apply(iterator.next())) \r\n                : EOF_IS;\r\n        }\r\n    }\r\n\r\nTo use it\r\n\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        Iterable&lt;String&gt; strings = Arrays.asList(&quot;1&quot;, &quot;22&quot;, &quot;333&quot;, &quot;4444&quot;);\r\n        try (InputStream is = new IterableInputStream&lt;String&gt;(strings, String::getBytes)) {\r\n            for (int b = is.read(); b != -1; b = is.read()) {\r\n                System.out.print((char) b);\r\n            }\r\n        }\r\n    }    ","title":"Java: accessing a List of Strings as an InputStream","body":"<p>You can create some kind of IterableInputStream </p>\n\n<pre><code>public class IterableInputStream&lt;T&gt; extends InputStream {\n\n    public static final int EOF = -1;\n\n    private static final InputStream EOF_IS = new InputStream() {\n        @Override public int read() throws IOException {\n            return EOF;\n        }\n    };\n\n    private final Iterator&lt;T&gt; iterator;\n    private final Function&lt;T, byte[]&gt; mapper;\n\n    private InputStream current;\n\n    public IterableInputStream(Iterable&lt;T&gt; iterable, Function&lt;T, byte[]&gt; mapper) {\n        this.iterator = iterable.iterator();\n        this.mapper = mapper;\n        next();\n    }\n\n    @Override\n    public int read() throws IOException {\n        int n = current.read();\n        while (n == EOF &amp;&amp; current != EOF_IS) {\n            next();\n            n = current.read();\n        }\n        return n;\n    }\n\n    private void next() {\n        current = iterator.hasNext() \n            ? new ByteArrayInputStream(mapper.apply(iterator.next())) \n            : EOF_IS;\n    }\n}\n</code></pre>\n\n<p>To use it</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n    Iterable&lt;String&gt; strings = Arrays.asList(\"1\", \"22\", \"333\", \"4444\");\n    try (InputStream is = new IterableInputStream&lt;String&gt;(strings, String::getBytes)) {\n        for (int b = is.read(); b != -1; b = is.read()) {\n            System.out.print((char) b);\n        }\n    }\n}    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":134590,"reputation":26815,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1603904781,"creation_date":1560786921,"answer_id":56634919,"question_id":9837754,"body_markdown":"In my case I had to convert a list of string in the equivalent file (with a line feed for each line). \r\n\r\nThis was my solution:\r\n\r\n    List&lt;String&gt; inputList = Arrays.asList(&quot;line1&quot;, &quot;line2&quot;, &quot;line3&quot;);\r\n\r\n    byte[] bytes = inputList.stream().collect(Collectors.joining(&quot;\\n&quot;, &quot;&quot;, &quot;\\n&quot;)).getBytes();\r\n\r\n    InputStream inputStream = new ByteArrayInputStream(bytes);\r\n","title":"Java: accessing a List of Strings as an InputStream","body":"<p>In my case I had to convert a list of string in the equivalent file (with a line feed for each line).</p>\n<p>This was my solution:</p>\n<pre><code>List&lt;String&gt; inputList = Arrays.asList(&quot;line1&quot;, &quot;line2&quot;, &quot;line3&quot;);\n\nbyte[] bytes = inputList.stream().collect(Collectors.joining(&quot;\\n&quot;, &quot;&quot;, &quot;\\n&quot;)).getBytes();\n\nInputStream inputStream = new ByteArrayInputStream(bytes);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1395196,"reputation":629,"user_id":1325109,"accept_rate":22,"display_name":"dmgcodevil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675366880,"creation_date":1675332147,"answer_id":75321449,"question_id":9837754,"body_markdown":"I&#39;d like to propose my simple solution:\r\n\r\n```java\r\npublic class StringListInputStream extends InputStream {\r\n    private final List&lt;String&gt; strings;\r\n    private int pos = 0;\r\n    private byte[] bytes = null;\r\n    private int i = 0;\r\n\r\n    public StringListInputStream(List&lt;String&gt; strings) {\r\n        this.strings = strings;\r\n        this.bytes = strings.get(0).getBytes();\r\n    }\r\n\r\n    @Override\r\n    public int read() throws IOException {\r\n        if (pos &gt;= bytes.length) {\r\n            if (!next()) return -1;\r\n            else return read();\r\n        }\r\n        return bytes[pos++];\r\n    }\r\n\r\n    private boolean next() {\r\n        if (i + 1 &gt;= strings.size()) return false;\r\n        pos = 0;\r\n        bytes = strings.get(++i).getBytes();\r\n        return true;\r\n    }\r\n}\r\n\r\n```\r\n","title":"Java: accessing a List of Strings as an InputStream","body":"<p>I'd like to propose my simple solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StringListInputStream extends InputStream {\n    private final List&lt;String&gt; strings;\n    private int pos = 0;\n    private byte[] bytes = null;\n    private int i = 0;\n\n    public StringListInputStream(List&lt;String&gt; strings) {\n        this.strings = strings;\n        this.bytes = strings.get(0).getBytes();\n    }\n\n    @Override\n    public int read() throws IOException {\n        if (pos &gt;= bytes.length) {\n            if (!next()) return -1;\n            else return read();\n        }\n        return bytes[pos++];\n    }\n\n    private boolean next() {\n        if (i + 1 &gt;= strings.size()) return false;\n        pos = 0;\n        bytes = strings.get(++i).getBytes();\n        return true;\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":190564,"reputation":9340,"user_id":430615,"accept_rate":56,"display_name":"Marc Polizzi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38811,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":9837872,"answer_count":8,"score":23,"last_activity_date":1675366880,"creation_date":1332499127,"question_id":9837754,"body_markdown":"Is there any way `InputStream` wrapping a list of UTF-8 `String`? I&#39;d like to do something like:\r\n\r\n    InputStream in = new XyzInputStream( List&lt;String&gt; lines )\r\n","title":"Java: accessing a List of Strings as an InputStream","body":"<p>Is there any way <code>InputStream</code> wrapping a list of UTF-8 <code>String</code>? I'd like to do something like:</p>\n\n<pre><code>InputStream in = new XyzInputStream( List&lt;String&gt; lines )\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","junit"],"comments":[{"owner":{"account_id":4264083,"reputation":6317,"user_id":3487617,"display_name":"Hank D"},"score":0,"creation_date":1463164338,"post_id":37205962,"comment_id":61965177,"body_markdown":"In the Maven Projects panel, when you open up Profiles in the tree view, does the profile you want show up with or without a checkbox?  Can you turn it on and off with the checkbox?  If not, then the profile is probably bound to something in the environment, like a property value.","body":"In the Maven Projects panel, when you open up Profiles in the tree view, does the profile you want show up with or without a checkbox?  Can you turn it on and off with the checkbox?  If not, then the profile is probably bound to something in the environment, like a property value."},{"owner":{"account_id":1138093,"reputation":1442,"user_id":1122720,"accept_rate":71,"display_name":"sukhmel"},"score":1,"creation_date":1553288377,"post_id":37205962,"comment_id":97343607,"body_markdown":"@HankD the problem is not in profile, but in the fact that when run with IDE tests completely ignore active profile (which is sensible and probably can not be overridden)","body":"@HankD the problem is not in profile, but in the fact that when run with IDE tests completely ignore active profile (which is sensible and probably can not be overridden)"}],"answers":[{"tags":[],"owner":{"account_id":5624554,"reputation":581,"user_id":4453384,"display_name":"ervidio"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1463132314,"creation_date":1463132314,"answer_id":37206502,"question_id":37205962,"body_markdown":"You should add the profiles to the Maven setting.xml file (you should find it in the path ${YOUR_MAVEN_HOME}\\apache-maven-3.1.1\\conf\\setting.xml).\r\nThen, you have to open intellij, click on View &gt; Tool Windows &gt; Maven Projects. There, you should see your profiles (ci and release) and select the correct one.\r\n\r\nHope this can help you.","title":"IntelliJ: activate Maven profile when running Junit tests","body":"<p>You should add the profiles to the Maven setting.xml file (you should find it in the path ${YOUR_MAVEN_HOME}\\apache-maven-3.1.1\\conf\\setting.xml).\nThen, you have to open intellij, click on View > Tool Windows > Maven Projects. There, you should see your profiles (ci and release) and select the correct one.</p>\n\n<p>Hope this can help you.</p>\n"},{"tags":[],"owner":{"account_id":125029,"reputation":330,"user_id":682256,"display_name":"Simon Logic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675366515,"creation_date":1675363887,"answer_id":75327726,"question_id":37205962,"body_markdown":"Just finally solved it.\r\n\r\n        &lt;profile&gt;\r\n            &lt;id&gt;profile-to-be-activated-on-build&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;&lt;!-- on your flavor --&gt;\r\n                &lt;property&gt;\r\n                    &lt;name&gt;mvn-profile-env-var-trigger&lt;/name&gt;\r\n                &lt;/property&gt;\r\n            &lt;/activation&gt;\r\n        &lt;/profile&gt;\r\n\r\nGoto JUnit default profile (aka configuration template). Add into JVM args: \r\n\r\n    -Dmvn-profile-env-var-trigger\r\n\r\nYou may need to manually reload maven profiles in IDE.\r\n\r\nAlso make sure on [Settings &gt; Build Tools &gt; Maven &gt; Running tests] envVars is checked (or better everything).","title":"IntelliJ: activate Maven profile when running Junit tests","body":"<p>Just finally solved it.</p>\n<pre><code>    &lt;profile&gt;\n        &lt;id&gt;profile-to-be-activated-on-build&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;&lt;!-- on your flavor --&gt;\n            &lt;property&gt;\n                &lt;name&gt;mvn-profile-env-var-trigger&lt;/name&gt;\n            &lt;/property&gt;\n        &lt;/activation&gt;\n    &lt;/profile&gt;\n</code></pre>\n<p>Goto JUnit default profile (aka configuration template). Add into JVM args:</p>\n<pre><code>-Dmvn-profile-env-var-trigger\n</code></pre>\n<p>You may need to manually reload maven profiles in IDE.</p>\n<p>Also make sure on [Settings &gt; Build Tools &gt; Maven &gt; Running tests] envVars is checked (or better everything).</p>\n"}],"owner":{"account_id":1803672,"reputation":669,"user_id":4856922,"accept_rate":27,"display_name":"Jonathan Lermitage"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8475,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":2,"score":15,"last_activity_date":1675366515,"creation_date":1463130891,"question_id":37205962,"body_markdown":"I have declared some properties that are specific to Maven profiles. A part of my pom.xml:\r\n\r\n    &lt;profiles&gt;\r\n                &lt;profile&gt;\r\n                    &lt;id&gt;release&lt;/id&gt;\r\n                    &lt;activation&gt;\r\n                        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n                    &lt;/activation&gt;\r\n                    &lt;properties&gt;\r\n                        &lt;my.properties.file&gt;foo.xml&lt;/my.properties.file&gt;\r\n                    &lt;/properties&gt;\r\n                &lt;/profile&gt;\r\n                &lt;profile&gt;\r\n                  &lt;id&gt;ci&lt;/id&gt;\r\n                  &lt;properties&gt;\r\n                    &lt;my.properties.file&gt;bar.xml&lt;/my.properties.file&gt;\r\n                  &lt;/properties&gt;\r\n            &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\nI encounter some problem to use the &quot;ci&quot; Maven profile when I start Junit tests via IntelliJ IDEA 2016.  \r\nI activate my profile via the &quot;Maven Projects&quot; panel, then I start tests. The problem is the &quot;my.properties.file&quot; property value is equal to &quot;foo.xml&quot;, not &quot;bar.xml&quot;.\r\n\r\nI have no problem with command-line (I can use the &quot;-Pci&quot; flag). How can I tell IntelliJ to use the &quot;ci&quot; profile? Thx.","title":"IntelliJ: activate Maven profile when running Junit tests","body":"<p>I have declared some properties that are specific to Maven profiles. A part of my pom.xml:</p>\n\n<pre><code>&lt;profiles&gt;\n            &lt;profile&gt;\n                &lt;id&gt;release&lt;/id&gt;\n                &lt;activation&gt;\n                    &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n                &lt;/activation&gt;\n                &lt;properties&gt;\n                    &lt;my.properties.file&gt;foo.xml&lt;/my.properties.file&gt;\n                &lt;/properties&gt;\n            &lt;/profile&gt;\n            &lt;profile&gt;\n              &lt;id&gt;ci&lt;/id&gt;\n              &lt;properties&gt;\n                &lt;my.properties.file&gt;bar.xml&lt;/my.properties.file&gt;\n              &lt;/properties&gt;\n        &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n\n<p>I encounter some problem to use the \"ci\" Maven profile when I start Junit tests via IntelliJ IDEA 2016.<br>\nI activate my profile via the \"Maven Projects\" panel, then I start tests. The problem is the \"my.properties.file\" property value is equal to \"foo.xml\", not \"bar.xml\".</p>\n\n<p>I have no problem with command-line (I can use the \"-Pci\" flag). How can I tell IntelliJ to use the \"ci\" profile? Thx.</p>\n"},{"tags":["java","docker","selenium","selenium-grid","remotewebdriver"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1675364183,"post_id":75327329,"comment_id":132918690,"body_markdown":"please, format your question properly","body":"please, format your question properly"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675366165,"creation_date":1675366165,"answer_id":75328093,"question_id":75327329,"body_markdown":"Add _`/wd/hub`_ at the end of the your driver URL as:\r\n\r\n    WebDriver driver = new RemoteWebDriver(new URL(&quot;http://localhost:4444/wd/hub&quot;), options);\r\n\r\nor\r\n\r\n    WebDriver driver = new RemoteWebDriver(new URL(&quot;http://127.0.0.1:4444/wd/hub&quot;), options);","title":"SessionNotCreatedException: Could not start a new session. Unable to parse remote response error using SeleniumGrid","body":"<p>Add <em><code>/wd/hub</code></em> at the end of the your driver URL as:</p>\n<pre><code>WebDriver driver = new RemoteWebDriver(new URL(&quot;http://localhost:4444/wd/hub&quot;), options);\n</code></pre>\n<p>or</p>\n<pre><code>WebDriver driver = new RemoteWebDriver(new URL(&quot;http://127.0.0.1:4444/wd/hub&quot;), options);\n</code></pre>\n"}],"owner":{"account_id":27117713,"reputation":1,"user_id":20661813,"display_name":"miya dura"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2428,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675366424,"creation_date":1675361675,"question_id":75327329,"body_markdown":"I am implementing selenium grid and the capability to launch the tests using the RemoteWebDriver. I am using docker standalone image.\r\nBelow is my code\r\n```\r\npublic void setUp() throws MalformedURLException {\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;--no-sandbox&quot;);\r\n    options.addArguments(&quot;--headless&quot;);\r\n    options.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\n    WebDriver driver = new RemoteWebDriver(new URL(&quot;http://localhost:4444&quot;),options);\r\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(20));\r\n    driver.get(&quot;www.google.com&quot;);\r\n    driver.manage().window().maximize();\r\n}\r\n```\r\nCommand:\r\n\r\n    docker run -d -p 4444:4444 -p 7900:7900 --shm-size=&quot;2g&quot; selenium/standalone-chrome:latest\r\n```\r\nCONTAINER ID   IMAGE                               COMMAND                  CREATED         STATUS         PORTS                                                      NAMES\r\n1f810511cbe2   selenium/standalone-chrome:latest   &quot;/opt/bin/entry_poin&quot;   9 seconds ago   Up 7 seconds   0.0.0.0:4444-\\&gt;4444/tcp, 0.0.0.0:7900-\\&gt;7900/tcp, 5900/tcp   modest_keller\r\n```\r\nI have also added selenium-java, selenium-manager and testing dependencies in pom.xml. I am using:\r\n\r\n- Java 11\r\n- Selenium 4.8.0\r\n- Selenium Manager 4.8.0\r\n- Chrome version 109.0.5414.119\r\n- IDE IntelliJ\r\n- MacOS\r\n\r\nI am getting below errors:\r\n```\r\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Unable to parse remote response:     var json = Object.freeze(&#39;{&quot;consoleLink&quot;: &quot;\\\\u002fgrid\\\\u002fconsole&quot;,&quot;type&quot;: &quot;Grid Hub&quot;,&quot;class&quot;: &quot;org.openqa.grid.web.servlet.DisplayHelpHandler$DisplayHelpServletConfig&quot;,&quot;version&quot;: &quot;3.141.59&quot;}&#39;);\r\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:134)\r\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:106)\r\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:67)\r\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:156)\r\n    at org.openqa.selenium.remote.TracedCommandExecutor.execute(TracedCommandExecutor.java:51)\r\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\r\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\r\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:139)\r\n    at baseTest.BaseTest.setUp(BaseTest.java:30)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\r\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:69)\r\n    at org.testng.internal.invokers.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:361)\r\n    at org.testng.internal.invokers.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:296)\r\n    at org.testng.internal.invokers.TestMethodWorker.invokeBeforeClassMethods(TestMethodWorker.java:180)\r\n    at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:122)\r\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    at org.testng.TestRunner.privateRun(TestRunner.java:829)\r\n    at org.testng.TestRunner.run(TestRunner.java:602)\r\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:437)\r\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:431)\r\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:391)\r\n    at org.testng.SuiteRunner.run(SuiteRunner.java:330)\r\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\r\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\r\n    at org.testng.TestNG.runSuites(TestNG.java:1099)\r\n    at org.testng.TestNG.run(TestNG.java:1067)\r\n    at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n    at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\r\n\r\nCaused by: org.openqa.selenium.json.JsonException: Unable to parse: \\&lt;!DOCTYPE html\\&gt;\r\n\r\n   \tat org.openqa.selenium.json.Json.toType(Json.java:57)\r\n\tat org.openqa.selenium.json.Json.toType(Json.java:50)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:131)\r\n\t... 34 more\r\nCaused by: org.openqa.selenium.json.JsonException: Unable to determine type from: &lt;. Last 1 characters read: &lt;\r\nBuild info: version: &#39;4.8.0&#39;, revision: &#39;267030adea&#39;\r\nSystem info: os.name: &#39;Mac OS X&#39;, os.arch: &#39;x86_64&#39;, os.version: &#39;13.1&#39;, java.version: &#39;11.0.17&#39;\r\nDriver info: driver.version: RemoteWebDriver\r\n\tat org.openqa.selenium.json.JsonInput.peek(JsonInput.java:126)\r\n\tat org.openqa.selenium.json.JsonTypeCoercer.lambda$buildCoercer$6(JsonTypeCoercer.java:141)\r\n\tat org.openqa.selenium.json.JsonTypeCoercer.coerce(JsonTypeCoercer.java:127)\r\n\tat org.openqa.selenium.json.Json.toType(Json.java:71)\r\n\tat org.openqa.selenium.json.Json.toType(Json.java:55)\r\n\t... 36 more\r\n```","title":"SessionNotCreatedException: Could not start a new session. Unable to parse remote response error using SeleniumGrid","body":"<p>I am implementing selenium grid and the capability to launch the tests using the RemoteWebDriver. I am using docker standalone image.\nBelow is my code</p>\n<pre><code>public void setUp() throws MalformedURLException {\n\n    ChromeOptions options = new ChromeOptions();\n    options.addArguments(&quot;--no-sandbox&quot;);\n    options.addArguments(&quot;--headless&quot;);\n    options.addArguments(&quot;--disable-dev-shm-usage&quot;);\n    WebDriver driver = new RemoteWebDriver(new URL(&quot;http://localhost:4444&quot;),options);\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(20));\n    driver.get(&quot;www.google.com&quot;);\n    driver.manage().window().maximize();\n}\n</code></pre>\n<p>Command:</p>\n<pre><code>docker run -d -p 4444:4444 -p 7900:7900 --shm-size=&quot;2g&quot; selenium/standalone-chrome:latest\n</code></pre>\n<pre><code>CONTAINER ID   IMAGE                               COMMAND                  CREATED         STATUS         PORTS                                                      NAMES\n1f810511cbe2   selenium/standalone-chrome:latest   &quot;/opt/bin/entry_poin&quot;   9 seconds ago   Up 7 seconds   0.0.0.0:4444-\\&gt;4444/tcp, 0.0.0.0:7900-\\&gt;7900/tcp, 5900/tcp   modest_keller\n</code></pre>\n<p>I have also added selenium-java, selenium-manager and testing dependencies in pom.xml. I am using:</p>\n<ul>\n<li>Java 11</li>\n<li>Selenium 4.8.0</li>\n<li>Selenium Manager 4.8.0</li>\n<li>Chrome version 109.0.5414.119</li>\n<li>IDE IntelliJ</li>\n<li>MacOS</li>\n</ul>\n<p>I am getting below errors:</p>\n<pre><code>org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Unable to parse remote response:     var json = Object.freeze('{&quot;consoleLink&quot;: &quot;\\\\u002fgrid\\\\u002fconsole&quot;,&quot;type&quot;: &quot;Grid Hub&quot;,&quot;class&quot;: &quot;org.openqa.grid.web.servlet.DisplayHelpHandler$DisplayHelpServletConfig&quot;,&quot;version&quot;: &quot;3.141.59&quot;}');\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:134)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:106)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:67)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:156)\n    at org.openqa.selenium.remote.TracedCommandExecutor.execute(TracedCommandExecutor.java:51)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:139)\n    at baseTest.BaseTest.setUp(BaseTest.java:30)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:69)\n    at org.testng.internal.invokers.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:361)\n    at org.testng.internal.invokers.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:296)\n    at org.testng.internal.invokers.TestMethodWorker.invokeBeforeClassMethods(TestMethodWorker.java:180)\n    at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:122)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.testng.TestRunner.privateRun(TestRunner.java:829)\n    at org.testng.TestRunner.run(TestRunner.java:602)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:437)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:431)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:391)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:330)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\n    at org.testng.TestNG.runSuites(TestNG.java:1099)\n    at org.testng.TestNG.run(TestNG.java:1067)\n    at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\n    at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\n\nCaused by: org.openqa.selenium.json.JsonException: Unable to parse: \\&lt;!DOCTYPE html\\&gt;\n\n    at org.openqa.selenium.json.Json.toType(Json.java:57)\n    at org.openqa.selenium.json.Json.toType(Json.java:50)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:131)\n    ... 34 more\nCaused by: org.openqa.selenium.json.JsonException: Unable to determine type from: &lt;. Last 1 characters read: &lt;\nBuild info: version: '4.8.0', revision: '267030adea'\nSystem info: os.name: 'Mac OS X', os.arch: 'x86_64', os.version: '13.1', java.version: '11.0.17'\nDriver info: driver.version: RemoteWebDriver\n    at org.openqa.selenium.json.JsonInput.peek(JsonInput.java:126)\n    at org.openqa.selenium.json.JsonTypeCoercer.lambda$buildCoercer$6(JsonTypeCoercer.java:141)\n    at org.openqa.selenium.json.JsonTypeCoercer.coerce(JsonTypeCoercer.java:127)\n    at org.openqa.selenium.json.Json.toType(Json.java:71)\n    at org.openqa.selenium.json.Json.toType(Json.java:55)\n    ... 36 more\n</code></pre>\n"},{"tags":["java","launch4j"],"comments":[{"owner":{"account_id":63767,"reputation":1635,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":0,"creation_date":1584967042,"post_id":60813265,"comment_id":107595118,"body_markdown":"Java -version is showing a JRE.  You need your command line PATH/JAVA_HOME to be pointing to a JDK if you want to use javac.  JDK includes a JRE. What OS are you running?","body":"Java -version is showing a JRE.  You need your command line PATH/JAVA_HOME to be pointing to a JDK if you want to use javac.  JDK includes a JRE. What OS are you running?"},{"owner":{"account_id":18035863,"reputation":11,"user_id":13109310,"display_name":"Keine"},"score":0,"creation_date":1584973250,"post_id":60813265,"comment_id":107598207,"body_markdown":"I am running Windows 10. Yes, variables PATH and JAVA_HOME are pointing to JDK.","body":"I am running Windows 10. Yes, variables PATH and JAVA_HOME are pointing to JDK."},{"owner":{"account_id":18035863,"reputation":11,"user_id":13109310,"display_name":"Keine"},"score":0,"creation_date":1584973289,"post_id":60813265,"comment_id":107598228,"body_markdown":"javac -version produces the output: javac 14","body":"javac -version produces the output: javac 14"},{"owner":{"account_id":63767,"reputation":1635,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":0,"creation_date":1584974713,"post_id":60813265,"comment_id":107599107,"body_markdown":"can you run launch4j.exe?","body":"can you run launch4j.exe?"},{"owner":{"account_id":18035863,"reputation":11,"user_id":13109310,"display_name":"Keine"},"score":0,"creation_date":1584975101,"post_id":60813265,"comment_id":107599341,"body_markdown":"The same output: This application requires a Java Runtime Environment 1.6.0","body":"The same output: This application requires a Java Runtime Environment 1.6.0"},{"owner":{"account_id":63767,"reputation":1635,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":0,"creation_date":1584976724,"post_id":60813265,"comment_id":107600207,"body_markdown":"Java 14 just came out.  I use Java professionally, and we are only on java 8. I very much doubt launch4j supports java 14.  you likely need to install JDK 8, and point JAVA_HOME and PATH to the JDK 8 installation.","body":"Java 14 just came out.  I use Java professionally, and we are only on java 8. I very much doubt launch4j supports java 14.  you likely need to install JDK 8, and point JAVA_HOME and PATH to the JDK 8 installation."},{"owner":{"account_id":18035863,"reputation":11,"user_id":13109310,"display_name":"Keine"},"score":0,"creation_date":1584980161,"post_id":60813265,"comment_id":107602022,"body_markdown":"Yep!  For java 8 everything works! Thank you!","body":"Yep!  For java 8 everything works! Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":4140209,"reputation":549,"user_id":3395778,"accept_rate":100,"display_name":"AndreaTaroni86"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600077405,"creation_date":1600077405,"answer_id":63882071,"question_id":60813265,"body_markdown":"Launch4j seems to be limited with new java versions...\r\nIn last update they shows up a detailed info about supported jvm, the last one is 1.8.9 and there is a ticket about compliance with java 9 and later...\r\n[changelog and tickets launch4j][1]\r\n\r\n[![Launch4j popup with message][2]][2]\r\n\r\n\r\n  [1]: http://launch4j.sourceforge.net/changelog.html\r\n  [2]: https://i.stack.imgur.com/Gbej8.png","title":"Why Launch4j does not find installed JDK?","body":"<p>Launch4j seems to be limited with new java versions...\nIn last update they shows up a detailed info about supported jvm, the last one is 1.8.9 and there is a ticket about compliance with java 9 and later...\n<a href=\"http://launch4j.sourceforge.net/changelog.html\" rel=\"nofollow noreferrer\">changelog and tickets launch4j</a></p>\n<p><a href=\"https://i.stack.imgur.com/Gbej8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gbej8.png\" alt=\"Launch4j popup with message\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5806085,"reputation":11,"user_id":4578654,"display_name":"Georg.Haupt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605519407,"creation_date":1605519407,"answer_id":64855566,"question_id":60813265,"body_markdown":"Instead of starting the launch4j.exe as windows executable, you may start the launch4.jar with your jdk. Therefore, mark the launch4j.jar in the file explorer, right click, choose open with, and reference your installed jdk, e.g. Open JDK platform binary","title":"Why Launch4j does not find installed JDK?","body":"<p>Instead of starting the launch4j.exe as windows executable, you may start the launch4.jar with your jdk. Therefore, mark the launch4j.jar in the file explorer, right click, choose open with, and reference your installed jdk, e.g. Open JDK platform binary</p>\n"},{"tags":[],"owner":{"account_id":8722,"reputation":10944,"user_id":15852,"accept_rate":94,"display_name":"Kieveli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675366415,"creation_date":1675366415,"answer_id":75328131,"question_id":60813265,"body_markdown":"Install Oracle&#39;s JRE to get Launch4j to work.\r\n\r\nLaunch4j has limited recognition for versions and providers of the JVM. I had only AdoptOpenJDK 1.8 installed, and Launch4j&#39;s exe didn&#39;t work. When I installed Oracle&#39;s JRE 1.8, then it launched my jar application without any problems.\r\n\r\nEven though I was getting the Java 1.6 Error message, I was still sure the jar application worked with Java 1.8. I think it was due to Launch4j being stale and not under recent updates at the time I integrated it into my application.","title":"Why Launch4j does not find installed JDK?","body":"<p>Install Oracle's JRE to get Launch4j to work.</p>\n<p>Launch4j has limited recognition for versions and providers of the JVM. I had only AdoptOpenJDK 1.8 installed, and Launch4j's exe didn't work. When I installed Oracle's JRE 1.8, then it launched my jar application without any problems.</p>\n<p>Even though I was getting the Java 1.6 Error message, I was still sure the jar application worked with Java 1.8. I think it was due to Launch4j being stale and not under recent updates at the time I integrated it into my application.</p>\n"}],"owner":{"account_id":18035863,"reputation":11,"user_id":13109310,"display_name":"Keine"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1675366415,"creation_date":1584965198,"question_id":60813265,"body_markdown":"I have Launch4j and JDK installed on my computer and I am trying to convert jar-file to exe. When I start Launch4j I get the following error:\r\n\r\n&gt; This application requires a Java Runtime Environment 1.6.0\r\n\r\nHow can I fix this? What is the Launch4j search strategy to find installed jres/jdks?\r\n\r\nJDK version:\r\n\r\n    java -version\r\n\r\nOutput: \r\n\r\n&gt; java version &quot;14&quot; 2020-03-17 Java(TM) SE Runtime Environment (build\r\n&gt; 14+36-1461) Java HotSpot(TM) 64-Bit Server VM (build 14+36-1461, mixed\r\n&gt; mode, sharing)\r\n\r\nI have JDK-path in both variables PATH and JAVA_HOME. I tried to uninstall the JDK and install JRE, but I first need to compile *.java to *.class files with the javac command. So in this case I have different versions of JDK and JRE.\r\n\r\nThe [official documentation][1] says: \r\n\r\n&gt; Launch4j requires an xml configuration file for each output\r\n&gt; executable.\r\n\r\nSo I can use *jre* tag with *jdkPreference* attribute to specify a preference for a public JRE or a private JDK runtime in configuration file. But how can I add this to build.xml file?\r\n\r\nbuild.xml:\r\n\r\n    &lt;project name=&quot;launch4j&quot; default=&quot;compile&quot; basedir=&quot;.&quot;&gt;\r\n    \t&lt;property name=&quot;src&quot; location=&quot;src&quot; /&gt;\r\n    \t&lt;property name=&quot;lib&quot; location=&quot;lib&quot; /&gt;\r\n    \t&lt;property name=&quot;build&quot; location=&quot;build&quot; /&gt;\r\n    \t&lt;property name=&quot;jar&quot; location=&quot;./${ant.project.name}.jar&quot; /&gt;\r\n    \t&lt;property name=&quot;launch4j.dir&quot; location=&quot;.&quot; /&gt;\r\n    \t&lt;property name=&quot;maven&quot; location=&quot;maven&quot; /&gt;\r\n    \r\n    \t&lt;path id=&quot;dist.classpath&quot;&gt;\r\n    \t\t&lt;pathelement path=&quot;${build}&quot; /&gt;\r\n    \t\t&lt;fileset dir=&quot;${lib}&quot;&gt;\r\n    \t\t\t&lt;include name=&quot;**/*.jar&quot; /&gt;\r\n    \t\t&lt;/fileset&gt;\r\n    \t&lt;/path&gt;\r\n    \r\n    \t&lt;target name=&quot;init&quot;&gt;\r\n    \t\t&lt;tstamp /&gt;\r\n    \t\t&lt;mkdir dir=&quot;${build}&quot; /&gt;\r\n    \t&lt;/target&gt;\r\n    \r\n    \t&lt;target name=&quot;compile&quot; depends=&quot;init&quot; description=&quot;compile the source&quot;&gt;\r\n    \t\t&lt;javac srcdir=&quot;${src}&quot; destdir=&quot;${build}&quot; classpathref=&quot;dist.classpath&quot; source=&quot;1.6&quot; debug=&quot;on&quot; includeantruntime=&quot;false&quot; /&gt;\r\n    \t\t&lt;copy todir=&quot;${build}/images&quot;&gt;\r\n    \t\t\t&lt;fileset dir=&quot;${src}/images&quot;&gt;\r\n    \t\t\t\t&lt;include name=&quot;**/*&quot; /&gt;\r\n    \t\t\t&lt;/fileset&gt;\r\n    \t\t&lt;/copy&gt;\r\n    \t\t&lt;copy todir=&quot;${build}&quot;&gt;\r\n    \t\t\t&lt;fileset dir=&quot;${src}&quot;&gt;\r\n    \t\t\t\t&lt;include name=&quot;**/*.properties&quot; /&gt;\r\n    \t\t\t&lt;/fileset&gt;\r\n    \t\t&lt;/copy&gt;\r\n    \t&lt;/target&gt;\r\n    \r\n    \t&lt;target name=&quot;jar&quot; depends=&quot;compile&quot; description=&quot;create jar&quot;&gt;\r\n    \t\t&lt;fileset dir=&quot;${lib}&quot; id=&quot;lib.dist.fileset&quot;&gt;\r\n    \t\t\t&lt;include name=&quot;**/*.jar&quot; /&gt;\r\n    \t\t&lt;/fileset&gt;\r\n    \t\t&lt;pathconvert pathsep=&quot; &quot; property=&quot;dist.classpath&quot; refid=&quot;lib.dist.fileset&quot;&gt;\r\n    \t\t\t&lt;map from=&quot;${lib}&quot; to=&quot;./lib&quot; /&gt;\r\n    \t\t&lt;/pathconvert&gt;\r\n    \t\t&lt;!-- Put everything in ${build} into a jar file --&gt;\r\n    \t\t&lt;jar jarfile=&quot;${jar}&quot;&gt;\r\n    \t\t\t&lt;fileset dir=&quot;${build}&quot; excludes=&quot;**/messages_es.properties&quot; /&gt;\r\n    \t\t\t&lt;manifest&gt;\r\n    \t\t\t\t&lt;attribute name=&quot;Main-Class&quot; value=&quot;net.sf.launch4j.Main&quot; /&gt;\r\n    \t\t\t\t&lt;attribute name=&quot;Class-Path&quot; value=&quot;. ${dist.classpath}&quot; /&gt;\r\n    \t\t\t&lt;/manifest&gt;\r\n    \t\t&lt;/jar&gt;\r\n    \t&lt;/target&gt;\r\n    \r\n    \t&lt;target name=&quot;demo&quot; depends=&quot;jar&quot; description=&quot;build the demos&quot;&gt;\r\n    \t\t&lt;ant dir=&quot;./demo/ConsoleApp&quot; inheritAll=&quot;false&quot; /&gt;\r\n    \t\t&lt;ant dir=&quot;./demo/SimpleApp&quot; inheritAll=&quot;false&quot; /&gt;\r\n    \t&lt;/target&gt;\r\n    \r\n    \t&lt;target name=&quot;clean&quot; description=&quot;clean up&quot;&gt;\r\n    \t\t&lt;delete dir=&quot;${build}&quot; /&gt;\r\n    \t\t&lt;delete file=&quot;${jar}&quot; /&gt;\r\n    \t\t&lt;ant dir=&quot;./demo/ConsoleApp&quot; target=&quot;clean&quot; inheritAll=&quot;false&quot; /&gt;\r\n    \t\t&lt;ant dir=&quot;./demo/SimpleApp&quot; target=&quot;clean&quot; inheritAll=&quot;false&quot; /&gt;\r\n    \t&lt;/target&gt;\r\n    \t\r\n    \t&lt;target name=&quot;switch-to-maven&quot; description=&quot;switch project to maven&quot;&gt;\r\n    \t\t&lt;copy todir=&quot;.&quot; overwrite=&quot;true&quot;&gt;\r\n    \t\t\t&lt;fileset dir=&quot;${maven}&quot;&gt;\r\n    \t\t\t\t&lt;include name=&quot;**/*&quot; /&gt;\r\n    \t\t\t&lt;/fileset&gt;\r\n    \t\t&lt;/copy&gt;\r\n    \t\t&lt;delete dir=&quot;${lib}&quot; /&gt;\r\n    \t\t&lt;mkdir dir=&quot;./target&quot; /&gt;\r\n    \t&lt;/target&gt;\r\n    &lt;/project&gt;\r\n\r\nThanks\r\n  [1]: http://launch4j.sourceforge.net/docs.html\r\n","title":"Why Launch4j does not find installed JDK?","body":"<p>I have Launch4j and JDK installed on my computer and I am trying to convert jar-file to exe. When I start Launch4j I get the following error:</p>\n\n<blockquote>\n  <p>This application requires a Java Runtime Environment 1.6.0</p>\n</blockquote>\n\n<p>How can I fix this? What is the Launch4j search strategy to find installed jres/jdks?</p>\n\n<p>JDK version:</p>\n\n<pre><code>java -version\n</code></pre>\n\n<p>Output: </p>\n\n<blockquote>\n  <p>java version \"14\" 2020-03-17 Java(TM) SE Runtime Environment (build\n  14+36-1461) Java HotSpot(TM) 64-Bit Server VM (build 14+36-1461, mixed\n  mode, sharing)</p>\n</blockquote>\n\n<p>I have JDK-path in both variables PATH and JAVA_HOME. I tried to uninstall the JDK and install JRE, but I first need to compile *.java to *.class files with the javac command. So in this case I have different versions of JDK and JRE.</p>\n\n<p>The <a href=\"http://launch4j.sourceforge.net/docs.html\" rel=\"nofollow noreferrer\">official documentation</a> says: </p>\n\n<blockquote>\n  <p>Launch4j requires an xml configuration file for each output\n  executable.</p>\n</blockquote>\n\n<p>So I can use <em>jre</em> tag with <em>jdkPreference</em> attribute to specify a preference for a public JRE or a private JDK runtime in configuration file. But how can I add this to build.xml file?</p>\n\n<p>build.xml:</p>\n\n<pre><code>&lt;project name=\"launch4j\" default=\"compile\" basedir=\".\"&gt;\n    &lt;property name=\"src\" location=\"src\" /&gt;\n    &lt;property name=\"lib\" location=\"lib\" /&gt;\n    &lt;property name=\"build\" location=\"build\" /&gt;\n    &lt;property name=\"jar\" location=\"./${ant.project.name}.jar\" /&gt;\n    &lt;property name=\"launch4j.dir\" location=\".\" /&gt;\n    &lt;property name=\"maven\" location=\"maven\" /&gt;\n\n    &lt;path id=\"dist.classpath\"&gt;\n        &lt;pathelement path=\"${build}\" /&gt;\n        &lt;fileset dir=\"${lib}\"&gt;\n            &lt;include name=\"**/*.jar\" /&gt;\n        &lt;/fileset&gt;\n    &lt;/path&gt;\n\n    &lt;target name=\"init\"&gt;\n        &lt;tstamp /&gt;\n        &lt;mkdir dir=\"${build}\" /&gt;\n    &lt;/target&gt;\n\n    &lt;target name=\"compile\" depends=\"init\" description=\"compile the source\"&gt;\n        &lt;javac srcdir=\"${src}\" destdir=\"${build}\" classpathref=\"dist.classpath\" source=\"1.6\" debug=\"on\" includeantruntime=\"false\" /&gt;\n        &lt;copy todir=\"${build}/images\"&gt;\n            &lt;fileset dir=\"${src}/images\"&gt;\n                &lt;include name=\"**/*\" /&gt;\n            &lt;/fileset&gt;\n        &lt;/copy&gt;\n        &lt;copy todir=\"${build}\"&gt;\n            &lt;fileset dir=\"${src}\"&gt;\n                &lt;include name=\"**/*.properties\" /&gt;\n            &lt;/fileset&gt;\n        &lt;/copy&gt;\n    &lt;/target&gt;\n\n    &lt;target name=\"jar\" depends=\"compile\" description=\"create jar\"&gt;\n        &lt;fileset dir=\"${lib}\" id=\"lib.dist.fileset\"&gt;\n            &lt;include name=\"**/*.jar\" /&gt;\n        &lt;/fileset&gt;\n        &lt;pathconvert pathsep=\" \" property=\"dist.classpath\" refid=\"lib.dist.fileset\"&gt;\n            &lt;map from=\"${lib}\" to=\"./lib\" /&gt;\n        &lt;/pathconvert&gt;\n        &lt;!-- Put everything in ${build} into a jar file --&gt;\n        &lt;jar jarfile=\"${jar}\"&gt;\n            &lt;fileset dir=\"${build}\" excludes=\"**/messages_es.properties\" /&gt;\n            &lt;manifest&gt;\n                &lt;attribute name=\"Main-Class\" value=\"net.sf.launch4j.Main\" /&gt;\n                &lt;attribute name=\"Class-Path\" value=\". ${dist.classpath}\" /&gt;\n            &lt;/manifest&gt;\n        &lt;/jar&gt;\n    &lt;/target&gt;\n\n    &lt;target name=\"demo\" depends=\"jar\" description=\"build the demos\"&gt;\n        &lt;ant dir=\"./demo/ConsoleApp\" inheritAll=\"false\" /&gt;\n        &lt;ant dir=\"./demo/SimpleApp\" inheritAll=\"false\" /&gt;\n    &lt;/target&gt;\n\n    &lt;target name=\"clean\" description=\"clean up\"&gt;\n        &lt;delete dir=\"${build}\" /&gt;\n        &lt;delete file=\"${jar}\" /&gt;\n        &lt;ant dir=\"./demo/ConsoleApp\" target=\"clean\" inheritAll=\"false\" /&gt;\n        &lt;ant dir=\"./demo/SimpleApp\" target=\"clean\" inheritAll=\"false\" /&gt;\n    &lt;/target&gt;\n\n    &lt;target name=\"switch-to-maven\" description=\"switch project to maven\"&gt;\n        &lt;copy todir=\".\" overwrite=\"true\"&gt;\n            &lt;fileset dir=\"${maven}\"&gt;\n                &lt;include name=\"**/*\" /&gt;\n            &lt;/fileset&gt;\n        &lt;/copy&gt;\n        &lt;delete dir=\"${lib}\" /&gt;\n        &lt;mkdir dir=\"./target\" /&gt;\n    &lt;/target&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["java","swing","localization","jfilechooser","customizing"],"comments":[{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1675110674,"post_id":75287956,"comment_id":132854550,"body_markdown":"[Another similar question](https://stackoverflow.com/q/74475473/6746785) was asked earlier, so I just link to it here. As for the question I think the `UIManager` keys depend on the selected [L&amp;F](https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/index.html). If that&#39;s true, but you also go with the `UIManager` solution, then you will be tied to the selected L&amp;F (which in its turn should mean the default cross platfrom L&amp;F since this is the reason I am assuming you are using Java in the first place).","body":"<a href=\"https://stackoverflow.com/q/74475473/6746785\">Another similar question</a> was asked earlier, so I just link to it here. As for the question I think the <code>UIManager</code> keys depend on the selected <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/index.html\" rel=\"nofollow noreferrer\">L&amp;F</a>. If that&#39;s true, but you also go with the <code>UIManager</code> solution, then you will be tied to the selected L&amp;F (which in its turn should mean the default cross platfrom L&amp;F since this is the reason I am assuming you are using Java in the first place)."}],"answers":[{"tags":[],"owner":{"account_id":17033457,"reputation":31,"user_id":12323075,"display_name":"alcan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675115531,"creation_date":1675103975,"answer_id":75288748,"question_id":75287956,"body_markdown":"You can find the full list (including FileChooser keys) in the first answer of this post: https://stackoverflow.com/questions/1951558/list-of-java-swing-ui-properties\r\n\r\n\r\nI think it will be enough setting only the properties ending in &quot;Text&quot;.\r\n\r\n\r\nAFAIK UIManager.put is just updating [UIDefaults][1] (the map that contains all the default names) so, as long as there is just one language available in the application, there is no need to use a ResourceBundle.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/swing/UIDefaults.html","title":"How to make a JFileChooser with a different language?","body":"<p>You can find the full list (including FileChooser keys) in the first answer of this post: <a href=\"https://stackoverflow.com/questions/1951558/list-of-java-swing-ui-properties\">List of Java Swing UI properties?</a></p>\n<p>I think it will be enough setting only the properties ending in &quot;Text&quot;.</p>\n<p>AFAIK UIManager.put is just updating <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/UIDefaults.html\" rel=\"nofollow noreferrer\">UIDefaults</a> (the map that contains all the default names) so, as long as there is just one language available in the application, there is no need to use a ResourceBundle.</p>\n"},{"tags":[],"owner":{"account_id":27659079,"reputation":41,"user_id":21112318,"display_name":"Oscar Josefsson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675366275,"creation_date":1675329779,"answer_id":75320984,"question_id":75287956,"body_markdown":"So correct me if I am wrong.\r\nBut I think the answer is something like this:\r\nIf you want to use one of the languages that is supported for the Swing Component just set the correct Locale and you are done.\r\n\r\nIf not it seems like using UIManager.put is the best way to go.\r\n\r\nI was hoping to find a resource bundle containing all of the text strings but now I do no longer think that such a thing exists.\r\n\r\nSo my understanding at the moment is this:\r\n\r\nThe JComponents such as the FileChooser are generalized Components that are meant to work on many different platforms and operative systems.\r\n\r\nAnd they use classes called &quot;Look &amp; Feel&quot; to get their final form depending on the intended Platform.\r\n\r\nThis is where the UIManager comes in.\r\n\r\nIt allows you to decide what &quot;Look &amp; Feel&quot; you want to use.\r\n\r\nSo in my case it will use a look and feel called:\r\n&quot;com.sun.java.swing.plaf.windows.WindowsLookAndFeel&quot;.\r\n\r\nYou can get this information using:\t\r\n\r\n    System.out.println(UIManager.getSystemLookAndFeelClassName()); \r\n\r\nAnd I believe that the UIManager will create classes called UIDefaults using some algorithm.\r\n\r\nThe UIDefaults will contain the values that gives the JComponents their &quot;Look &amp; Feel&quot; i.e. their appearance &amp; behaviour.\r\n\r\nBut the UIDefaults classes are not pre-existing.\r\nThey are created based on setup.\r\n\r\nHowever I believe that they will get some of their data from a resource file that is not truly a ResourceBundle but at least extends the ResourceBundle class.\r\nBut this still does not contain all the necessary Strings to fully customize the FileChooser.\r\nThis link shows an example of these resource files that are specific to the Windows version (L&amp;F) of the FileChooser:\r\nhttps://code.yawk.at/java/6/com/sun/java/swing/plaf/windows/resources/\r\n\r\nSo the data is apparently split up and it does not come from a single source.\r\nIt is collected from different sources and put into the UIDefaults class that works like a Database for the values.\r\n\r\nTo sum it all up.\r\nThe best way to go might be to create a class that has a method to put all the String values into the UIDefaults using the UIManager.\r\nAnd I suppose you could prepare for internationalization by letting this method get it&#39;s strings from a resource bundle that you have created yourself.\r\n\r\nThe best list of Keys seems to be this one:\r\nhttps://thebadprogrammer.com/swing-uimanager-keys/\r\n\r\nBut unfortunately although seemingly exhausting there is still information missing.\r\n\r\nTo fully customize all the Strings in the FileChooser in addition to the Keys you will find in this list you will also need to change the value of this Key:\r\n\r\n&quot;saveInLabelText&quot;.\r\n\r\nSo these are all the String I changed and I believe they will customize most of the Strings for the Windows version of the FileChooser:\r\n\r\n    \t\t//Strings for Open file-dialogue:\t***************************************************************************\r\n\t\t\r\n\t\t//The numbers in the comments refers to the order of appearance of the Stirng values in the Frame\r\n\t\t\r\n        UIManager.put(&quot;FileChooser.openDialogTitleText&quot;,&quot;Open&quot;);\t\t\t\t//1.\t\t\r\n        UIManager.put(&quot;FileChooser.lookInLabelText&quot;,&quot;Look in:&quot;); \t\t\t\t//2.\r\n        UIManager.put(&quot;FileChooser.fileNameLabelText&quot;,&quot;File name:&quot;); \t\t\t\t//3.\r\n        UIManager.put(&quot;FileChooser.filesOfTypeLabelText&quot;,&quot;Files of type:&quot;); \t//4.     \r\n        UIManager.put(&quot;FileChooser.openButtonText&quot;,&quot;Open&quot;);\t\t\t\t\t//5.\t        \r\n\t\tUIManager.put(&quot;FileChooser.cancelButtonText&quot;, &quot;Cancel&quot;);  \t\t\t\t//6.        \r\n        UIManager.put(&quot;FileChooser.acceptAllFileFilterText&quot;,&quot;All Files&quot;);\t\t//7.\r\n\t\t\r\n\t\t//End of Open file-dialogue\t***************************************************************************\r\n        \r\n\t\t//Strings for Save file-dialogue\t***************************************************************************\r\n        \r\n        UIManager.put(&quot;FileChooser.saveDialogTitleText&quot;,&quot;Save as&quot;);\t\t//1.        \r\n        UIManager.put(&quot;FileChooser.saveInLabelText&quot;,&quot;Save in:&quot;);\t\t//2.  This was not in the list but works!\r\n        // The strings with number 3 &amp; 4 are the same as the ones for the Open file-dialogue so you do not need to set them here.\r\n        UIManager.put(&quot;FileChooser.saveButtonText&quot;,&quot;Save&quot;);\t\t//5.      \r\n\r\n  ","title":"How to make a JFileChooser with a different language?","body":"<p>So correct me if I am wrong.\nBut I think the answer is something like this:\nIf you want to use one of the languages that is supported for the Swing Component just set the correct Locale and you are done.</p>\n<p>If not it seems like using UIManager.put is the best way to go.</p>\n<p>I was hoping to find a resource bundle containing all of the text strings but now I do no longer think that such a thing exists.</p>\n<p>So my understanding at the moment is this:</p>\n<p>The JComponents such as the FileChooser are generalized Components that are meant to work on many different platforms and operative systems.</p>\n<p>And they use classes called &quot;Look &amp; Feel&quot; to get their final form depending on the intended Platform.</p>\n<p>This is where the UIManager comes in.</p>\n<p>It allows you to decide what &quot;Look &amp; Feel&quot; you want to use.</p>\n<p>So in my case it will use a look and feel called:\n&quot;com.sun.java.swing.plaf.windows.WindowsLookAndFeel&quot;.</p>\n<p>You can get this information using:</p>\n<pre><code>System.out.println(UIManager.getSystemLookAndFeelClassName()); \n</code></pre>\n<p>And I believe that the UIManager will create classes called UIDefaults using some algorithm.</p>\n<p>The UIDefaults will contain the values that gives the JComponents their &quot;Look &amp; Feel&quot; i.e. their appearance &amp; behaviour.</p>\n<p>But the UIDefaults classes are not pre-existing.\nThey are created based on setup.</p>\n<p>However I believe that they will get some of their data from a resource file that is not truly a ResourceBundle but at least extends the ResourceBundle class.\nBut this still does not contain all the necessary Strings to fully customize the FileChooser.\nThis link shows an example of these resource files that are specific to the Windows version (L&amp;F) of the FileChooser:\n<a href=\"https://code.yawk.at/java/6/com/sun/java/swing/plaf/windows/resources/\" rel=\"nofollow noreferrer\">https://code.yawk.at/java/6/com/sun/java/swing/plaf/windows/resources/</a></p>\n<p>So the data is apparently split up and it does not come from a single source.\nIt is collected from different sources and put into the UIDefaults class that works like a Database for the values.</p>\n<p>To sum it all up.\nThe best way to go might be to create a class that has a method to put all the String values into the UIDefaults using the UIManager.\nAnd I suppose you could prepare for internationalization by letting this method get it's strings from a resource bundle that you have created yourself.</p>\n<p>The best list of Keys seems to be this one:\n<a href=\"https://thebadprogrammer.com/swing-uimanager-keys/\" rel=\"nofollow noreferrer\">https://thebadprogrammer.com/swing-uimanager-keys/</a></p>\n<p>But unfortunately although seemingly exhausting there is still information missing.</p>\n<p>To fully customize all the Strings in the FileChooser in addition to the Keys you will find in this list you will also need to change the value of this Key:</p>\n<p>&quot;saveInLabelText&quot;.</p>\n<p>So these are all the String I changed and I believe they will customize most of the Strings for the Windows version of the FileChooser:</p>\n<pre><code>        //Strings for Open file-dialogue:   ***************************************************************************\n    \n    //The numbers in the comments refers to the order of appearance of the Stirng values in the Frame\n    \n    UIManager.put(&quot;FileChooser.openDialogTitleText&quot;,&quot;Open&quot;);                //1.        \n    UIManager.put(&quot;FileChooser.lookInLabelText&quot;,&quot;Look in:&quot;);                //2.\n    UIManager.put(&quot;FileChooser.fileNameLabelText&quot;,&quot;File name:&quot;);                //3.\n    UIManager.put(&quot;FileChooser.filesOfTypeLabelText&quot;,&quot;Files of type:&quot;);     //4.     \n    UIManager.put(&quot;FileChooser.openButtonText&quot;,&quot;Open&quot;);                 //5.            \n    UIManager.put(&quot;FileChooser.cancelButtonText&quot;, &quot;Cancel&quot;);                //6.        \n    UIManager.put(&quot;FileChooser.acceptAllFileFilterText&quot;,&quot;All Files&quot;);       //7.\n    \n    //End of Open file-dialogue ***************************************************************************\n    \n    //Strings for Save file-dialogue    ***************************************************************************\n    \n    UIManager.put(&quot;FileChooser.saveDialogTitleText&quot;,&quot;Save as&quot;);     //1.        \n    UIManager.put(&quot;FileChooser.saveInLabelText&quot;,&quot;Save in:&quot;);        //2.  This was not in the list but works!\n    // The strings with number 3 &amp; 4 are the same as the ones for the Open file-dialogue so you do not need to set them here.\n    UIManager.put(&quot;FileChooser.saveButtonText&quot;,&quot;Save&quot;);     //5.      \n</code></pre>\n"}],"owner":{"account_id":27659079,"reputation":41,"user_id":21112318,"display_name":"Oscar Josefsson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1675366275,"creation_date":1675099266,"question_id":75287956,"body_markdown":"I want to know how I can make a JFileChooser in the Swedish language.\r\nUnfortunately it turns out that if I could use a JDK version 10 or earlier i could actually do this by creating a Locale object and make it the default.\r\nBut we are discouraged to use this old version for any new programs.\r\nBut from JDK version 11 and forward choosing Swedish Locale no longer works.\r\n\r\nSo I have seen that people have been able to change individual strings for the FileChooser like in this example:\r\nhttps://coderanch.com/t/475470/java/customizing-JFIleChooser\r\nBut this feels unsatisfactory to me.\r\nAt least for as long as I do not know how I can learn about how I can find those Strings and where they are located.\r\nMaybe I will run into the same problem again with some other GUI component and then I still don&#39;t know what to do. \r\n\r\n\r\n\r\n\r\nThis works with JDK v. 10 or earlier:\r\n\r\n```\r\n\r\n//This is in my Main:\r\n\r\n\t\tLocale sverje = new Locale(&quot;sv&quot;, &quot;SE&quot;);\t//Creates a instance of Locale for Swedish, Sweden.\r\n\t\tLocale.setDefault(sverje); //Sets this to default.\r\n\r\n//Then I call a class that opens a Frame and handles the FileChooser.\r\n\r\n```\r\n\r\nThis is an example of modifying an individual string:\r\n```\r\nUIManager.put(&quot;FileChooser.cancelButtonText&quot;, &quot;Cancelar&quot;); //Changing cancel button text to Portugese\r\n```\r\n\r\n\r\n\r\nIf I need to use this method it would be nice to know how to find the strings like I said before.\r\n\r\nIt would also be nice to know what is going on when you &quot;put&quot; in the new String value like in the example.\r\n\r\nI believe that the JFileChooser somehow inherits the Strings in several steps, and that is what allows us to write &quot;FileChooser.cancelButtonText&quot; even if there actually is no &quot;cancelButtonText&quot; in the FileChooser class, rather (I&#39;m guessing!) it inherits it from a so called ResourceBundle and then from there to the Localeclass and from there to some other class or classes before the FileChooser uses it.\r\n\r\nSo is this a correct assumption and how can you trace the Key / name / location of those strings from the FileChooser class to where the actually are?\r\n\r\nIs it the ResourceBundle or the FileChooser or some other part that was changed since it stopped working from version 11?\r\nCan / should I try to make changes to the ResourceBundle to fix this in the most professional way?","title":"How to make a JFileChooser with a different language?","body":"<p>I want to know how I can make a JFileChooser in the Swedish language.\nUnfortunately it turns out that if I could use a JDK version 10 or earlier i could actually do this by creating a Locale object and make it the default.\nBut we are discouraged to use this old version for any new programs.\nBut from JDK version 11 and forward choosing Swedish Locale no longer works.</p>\n<p>So I have seen that people have been able to change individual strings for the FileChooser like in this example:\n<a href=\"https://coderanch.com/t/475470/java/customizing-JFIleChooser\" rel=\"nofollow noreferrer\">https://coderanch.com/t/475470/java/customizing-JFIleChooser</a>\nBut this feels unsatisfactory to me.\nAt least for as long as I do not know how I can learn about how I can find those Strings and where they are located.\nMaybe I will run into the same problem again with some other GUI component and then I still don't know what to do.</p>\n<p>This works with JDK v. 10 or earlier:</p>\n<pre><code>\n//This is in my Main:\n\n        Locale sverje = new Locale(&quot;sv&quot;, &quot;SE&quot;); //Creates a instance of Locale for Swedish, Sweden.\n        Locale.setDefault(sverje); //Sets this to default.\n\n//Then I call a class that opens a Frame and handles the FileChooser.\n\n</code></pre>\n<p>This is an example of modifying an individual string:</p>\n<pre><code>UIManager.put(&quot;FileChooser.cancelButtonText&quot;, &quot;Cancelar&quot;); //Changing cancel button text to Portugese\n</code></pre>\n<p>If I need to use this method it would be nice to know how to find the strings like I said before.</p>\n<p>It would also be nice to know what is going on when you &quot;put&quot; in the new String value like in the example.</p>\n<p>I believe that the JFileChooser somehow inherits the Strings in several steps, and that is what allows us to write &quot;FileChooser.cancelButtonText&quot; even if there actually is no &quot;cancelButtonText&quot; in the FileChooser class, rather (I'm guessing!) it inherits it from a so called ResourceBundle and then from there to the Localeclass and from there to some other class or classes before the FileChooser uses it.</p>\n<p>So is this a correct assumption and how can you trace the Key / name / location of those strings from the FileChooser class to where the actually are?</p>\n<p>Is it the ResourceBundle or the FileChooser or some other part that was changed since it stopped working from version 11?\nCan / should I try to make changes to the ResourceBundle to fix this in the most professional way?</p>\n"},{"tags":["java","hash","sha256"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":3,"creation_date":1675365599,"post_id":75327995,"comment_id":132919103,"body_markdown":"64 hexadecimal characters. `char(64)` would be sufficient.","body":"64 hexadecimal characters. <code>char(64)</code> would be sufficient."},{"owner":{"account_id":3020615,"reputation":49,"user_id":2561759,"accept_rate":0,"display_name":"supercommando440"},"score":2,"creation_date":1675365801,"post_id":75327995,"comment_id":132919154,"body_markdown":"hmm a quick google search shows this; &quot;SHA256 hashes have 256 bits of output, which translates to 64 characters in hex. That&#39;s double the length of the 32-character MD5 hash in hex. Base64 encoded SHA256 characters are only 44 bytes in length (and the last = for padding is omitted anyway).&quot;","body":"hmm a quick google search shows this; &quot;SHA256 hashes have 256 bits of output, which translates to 64 characters in hex. That&#39;s double the length of the 32-character MD5 hash in hex. Base64 encoded SHA256 characters are only 44 bytes in length (and the last = for padding is omitted anyway).&quot;"},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1675365997,"post_id":75327995,"comment_id":132919198,"body_markdown":"yes and so what&#39;s the problem ?","body":"yes and so what&#39;s the problem ?"},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1675369154,"post_id":75327995,"comment_id":132920015,"body_markdown":"@supercommando440: If a quick google search showed you that info then what is your question?","body":"@supercommando440: If a quick google search showed you that info then what is your question?"},{"owner":{"account_id":3020615,"reputation":49,"user_id":2561759,"accept_rate":0,"display_name":"supercommando440"},"score":0,"creation_date":1675446733,"post_id":75327995,"comment_id":132938192,"body_markdown":"obviously the question has been answered.. after I posted it. So there&#39; no problem.","body":"obviously the question has been answered.. after I posted it. So there&#39; no problem."}],"answers":[{"tags":[],"owner":{"account_id":21846694,"reputation":109,"user_id":16139417,"display_name":"Binary_Beast"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675366102,"creation_date":1675366102,"answer_id":75328084,"question_id":75327995,"body_markdown":"SHA256 generates a 256-**bit** hash.\r\n\r\nBut its **hexadecimal** representation will be 64 characters (2^256 = 16^64)\r\n\r\nEx **Text**: stackoverflow\r\n**Hash**: 126cfbe1fd5413ba4d604c50a74bfc80471cec367b1604ade4d081f31c3f4f34\r\n\r\nHence **char(64)** would be a sufficient datatype for your column.","title":"How large of a String does Sha256 produce?","body":"<p>SHA256 generates a 256-<strong>bit</strong> hash.</p>\n<p>But its <strong>hexadecimal</strong> representation will be 64 characters (2^256 = 16^64)</p>\n<p>Ex <strong>Text</strong>: stackoverflow\n<strong>Hash</strong>: 126cfbe1fd5413ba4d604c50a74bfc80471cec367b1604ade4d081f31c3f4f34</p>\n<p>Hence <strong>char(64)</strong> would be a sufficient datatype for your column.</p>\n"}],"owner":{"account_id":3020615,"reputation":49,"user_id":2561759,"accept_rate":0,"display_name":"supercommando440"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675366102,"creation_date":1675365497,"question_id":75327995,"body_markdown":"How large of a String does Sha256 produce? \r\n\r\nDoes the answer depend on how large of a String I am using to get a hash using Sha256?\r\n\r\nI plan to store the Sha256-produced hash String in a mySQL table, in a column defined as a varchar(500).","title":"How large of a String does Sha256 produce?","body":"<p>How large of a String does Sha256 produce?</p>\n<p>Does the answer depend on how large of a String I am using to get a hash using Sha256?</p>\n<p>I plan to store the Sha256-produced hash String in a mySQL table, in a column defined as a varchar(500).</p>\n"},{"tags":["java","android","delphi"],"answers":[{"tags":[],"owner":{"account_id":1638678,"reputation":83,"user_id":1511545,"accept_rate":67,"display_name":"Oliver"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1460040303,"creation_date":1460040303,"answer_id":36479645,"question_id":36425929,"body_markdown":"This problem has been solved. I needed to extend the com.embarcadero.firemonkey.FMXNativeActivity.\r\n\r\nThe details of the full solution can be found here [Embaradero Forum with link to Source][1]\r\n\r\n\r\n  [1]: https://forums.embarcadero.com/thread.jspa?threadID=205636","title":"Consuming a 3rd Party Android API in Delphi","body":"<p>This problem has been solved. I needed to extend the com.embarcadero.firemonkey.FMXNativeActivity.</p>\n\n<p>The details of the full solution can be found here <a href=\"https://forums.embarcadero.com/thread.jspa?threadID=205636\" rel=\"nofollow\">Embaradero Forum with link to Source</a></p>\n"}],"owner":{"account_id":1638678,"reputation":83,"user_id":1511545,"accept_rate":67,"display_name":"Oliver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1021,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":36479645,"answer_count":1,"score":0,"last_activity_date":1675365727,"creation_date":1459857938,"question_id":36425929,"body_markdown":"I am trying to use a Honeywell SDK in Delphi Seattle to control a scanner on an Android device.\r\n\r\nHoneywell provided me with a SDK jar called DataCollection.jar. I used the Java2OP utility to create my JNI bridge but am having trouble with it. To be honest I am a novice on this and am not sure where to look or how to implement this. I have searched for similar examples too.\r\n\r\nI know I have to create an object of type TJAidmanager to access the barcode reader functions , it is defined as :\r\n\r\n    JAidcManagerClass = interface(JObjectClass)\r\n    [&#39;{EE70EF80-4CA8-4FE0-B912-6453CA0336CD}&#39;]\r\n    {class} function _GetBARCODE_DEVICE_CONNECTED: Integer; cdecl;\r\n    {class} function _GetBARCODE_DEVICE_DISCONNECTED: Integer; cdecl;\r\n    {class} procedure addBarcodeDeviceListener(P1:      JAidcManager_BarcodeDeviceListener); cdecl;\r\n    {class} procedure close; cdecl;\r\n    {class} procedure create(P1: JContext; P2: JAidcManager_CreatedCallback);    cdecl;\r\n    {class} function createBarcodeReader: JBarcodeReader; cdecl; overload;\r\n    {class} function createBarcodeReader(P1: JString): JBarcodeReader; cdecl;     overload;\r\n    {class} function listBarcodeDevices: JList; cdecl;\r\n    {class} function listConnectedBarcodeDevices: JList; cdecl;\r\n    {class} procedure removeBarcodeDeviceListener(P1:    JAidcManager_BarcodeDeviceListener); cdecl;\r\n    {class} property BARCODE_DEVICE_CONNECTED: Integer read     _GetBARCODE_DEVICE_CONNECTED;\r\n    {class} property BARCODE_DEVICE_DISCONNECTED: Integer read   _GetBARCODE_DEVICE_DISCONNECTED;\r\n    end;\r\n\r\n    [JavaSignature(&#39;com/honeywell/aidc/AidcManager&#39;)]\r\n    JAidcManager = interface(JObject)\r\n    [&#39;{98A668C5-9204-4F0C-98B0-A8E1F1124738}&#39;]\r\n    end;\r\n    TJAidcManager = class(TJavaGenericImport&lt;JAidcManagerClass, JAidcManager&gt;)    end;\r\n\r\nThe java sample code looks like this :\r\n\r\n    import com.honeywell.aidc.*;\r\n    public class MainActivity extends Activity {\r\n    private AidcManager manager;\r\n    private BarcodeReader reader;\r\n    \r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    \r\n    // create the AidcManager providing a Context and an\r\n    // CreatedCallback implementation.\r\n    AidcManager.create(this, new AidcManager.CreatedCallback() {\r\n    \r\n    @Override\r\n    public void onCreated(AidcManager aidcManager) {\r\n    manager = aidcManager;\r\n    reader = manager.createBarcodeReader();\r\n    }\r\n    }\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n    super.onDestroy();\r\n    // make sure that AidcManager isn&#39;t null\r\n    if (reader != null) {\r\n    // close BarcodeReader to clean up resources.\r\n    // once closed, the object can no longer be used.\r\n    reader.close();\r\n    }\r\n    if (manager != null) {\r\n    // close AidcManager to disconnect from the scanner service.\r\n    // once closed, the object can no longer be used.\r\n    manager.close();\r\n    }\r\n    }\r\n    }\r\n\r\n\r\nNow when I try and use this in delphi , I have tried this but get a segmentation fault :\r\n\r\n    var cb : JAidcManager_CreatedCallback;\r\n    begin\r\n          TJAidcManager.JavaClass.create(SharedActivity,TJAidcManager_CreatedCallback.Wrap((cb as ILocalObject).getobjectID));\r\n\r\n\r\nThe JAidcManager_CreatedCallback is defined as :\r\n\r\n     JAidcManager_CreatedCallbackClass = interface(IJavaClass)\r\n        [&#39;{E27EF6BB-C642-42B6-98CA-6C270A1AD5D1}&#39;]\r\n        {class} procedure onCreated(P1: JAidcManager); cdecl;//Deprecated\r\n      end;\r\n    \r\n      [JavaSignature(&#39;com/honeywell/aidc/AidcManager$CreatedCallback&#39;)]\r\n      JAidcManager_CreatedCallback = interface(IJavaInstance)\r\n        [&#39;{E2713D70-1CE6-43AA-9181-7054BD787F1B}&#39;]\r\n      end;\r\n      TJAidcManager_CreatedCallback =   class(TJavaGenericImport&lt;JAidcManager_CreatedCallbackClass,   JAidcManager_CreatedCallback&gt;) end;\r\n\r\nI assume I have to implement an onCreated Event for a variable of type TJAidcManager but I am not sure how to link these all together.\r\n\r\nI then tried this :\r\n\r\n    var   cb : JObject;\r\n    begin\r\n      cb := TjObject.Create;\r\n      TJAidcManager.JavaClass.create(SharedActivityContext,TJAidcManager_CreatedCallback.Wrap((cb as ILocalObject).getobjectID));\r\n\r\nI also added this to the JNIBridge Unit in the implementation section :\r\n\r\n    procedure onCreated(P1: JAidcManager); cdecl;//Deprecated\r\n    begin\r\n       Form2.manager := P1;\r\n    end;\r\n\r\nWhen running this, I get a &quot;java.lang.SecurityException: Not allowed to bind to  service Intent {acct=com.honeywell.decode.DecodeService cmp=com.intermec.datacollectionservice/.DataCollectionService}&quot; error. I tried adding &quot;Bind Remoteviews&quot; to permissions but that didn&#39;t help.\r\n\r\nIf anyone could advise me or point me in the correct direction on how to create the AidcManager in Delphi, that would be appreciated.  ","title":"Consuming a 3rd Party Android API in Delphi","body":"<p>I am trying to use a Honeywell SDK in Delphi Seattle to control a scanner on an Android device.</p>\n\n<p>Honeywell provided me with a SDK jar called DataCollection.jar. I used the Java2OP utility to create my JNI bridge but am having trouble with it. To be honest I am a novice on this and am not sure where to look or how to implement this. I have searched for similar examples too.</p>\n\n<p>I know I have to create an object of type TJAidmanager to access the barcode reader functions , it is defined as :</p>\n\n<pre><code>JAidcManagerClass = interface(JObjectClass)\n['{EE70EF80-4CA8-4FE0-B912-6453CA0336CD}']\n{class} function _GetBARCODE_DEVICE_CONNECTED: Integer; cdecl;\n{class} function _GetBARCODE_DEVICE_DISCONNECTED: Integer; cdecl;\n{class} procedure addBarcodeDeviceListener(P1:      JAidcManager_BarcodeDeviceListener); cdecl;\n{class} procedure close; cdecl;\n{class} procedure create(P1: JContext; P2: JAidcManager_CreatedCallback);    cdecl;\n{class} function createBarcodeReader: JBarcodeReader; cdecl; overload;\n{class} function createBarcodeReader(P1: JString): JBarcodeReader; cdecl;     overload;\n{class} function listBarcodeDevices: JList; cdecl;\n{class} function listConnectedBarcodeDevices: JList; cdecl;\n{class} procedure removeBarcodeDeviceListener(P1:    JAidcManager_BarcodeDeviceListener); cdecl;\n{class} property BARCODE_DEVICE_CONNECTED: Integer read     _GetBARCODE_DEVICE_CONNECTED;\n{class} property BARCODE_DEVICE_DISCONNECTED: Integer read   _GetBARCODE_DEVICE_DISCONNECTED;\nend;\n\n[JavaSignature('com/honeywell/aidc/AidcManager')]\nJAidcManager = interface(JObject)\n['{98A668C5-9204-4F0C-98B0-A8E1F1124738}']\nend;\nTJAidcManager = class(TJavaGenericImport&lt;JAidcManagerClass, JAidcManager&gt;)    end;\n</code></pre>\n\n<p>The java sample code looks like this :</p>\n\n<pre><code>import com.honeywell.aidc.*;\npublic class MainActivity extends Activity {\nprivate AidcManager manager;\nprivate BarcodeReader reader;\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\nsuper.onCreate(savedInstanceState);\n\n// create the AidcManager providing a Context and an\n// CreatedCallback implementation.\nAidcManager.create(this, new AidcManager.CreatedCallback() {\n\n@Override\npublic void onCreated(AidcManager aidcManager) {\nmanager = aidcManager;\nreader = manager.createBarcodeReader();\n}\n}\n}\n\n@Override\npublic void onDestroy() {\nsuper.onDestroy();\n// make sure that AidcManager isn't null\nif (reader != null) {\n// close BarcodeReader to clean up resources.\n// once closed, the object can no longer be used.\nreader.close();\n}\nif (manager != null) {\n// close AidcManager to disconnect from the scanner service.\n// once closed, the object can no longer be used.\nmanager.close();\n}\n}\n}\n</code></pre>\n\n<p>Now when I try and use this in delphi , I have tried this but get a segmentation fault :</p>\n\n<pre><code>var cb : JAidcManager_CreatedCallback;\nbegin\n      TJAidcManager.JavaClass.create(SharedActivity,TJAidcManager_CreatedCallback.Wrap((cb as ILocalObject).getobjectID));\n</code></pre>\n\n<p>The JAidcManager_CreatedCallback is defined as :</p>\n\n<pre><code> JAidcManager_CreatedCallbackClass = interface(IJavaClass)\n    ['{E27EF6BB-C642-42B6-98CA-6C270A1AD5D1}']\n    {class} procedure onCreated(P1: JAidcManager); cdecl;//Deprecated\n  end;\n\n  [JavaSignature('com/honeywell/aidc/AidcManager$CreatedCallback')]\n  JAidcManager_CreatedCallback = interface(IJavaInstance)\n    ['{E2713D70-1CE6-43AA-9181-7054BD787F1B}']\n  end;\n  TJAidcManager_CreatedCallback =   class(TJavaGenericImport&lt;JAidcManager_CreatedCallbackClass,   JAidcManager_CreatedCallback&gt;) end;\n</code></pre>\n\n<p>I assume I have to implement an onCreated Event for a variable of type TJAidcManager but I am not sure how to link these all together.</p>\n\n<p>I then tried this :</p>\n\n<pre><code>var   cb : JObject;\nbegin\n  cb := TjObject.Create;\n  TJAidcManager.JavaClass.create(SharedActivityContext,TJAidcManager_CreatedCallback.Wrap((cb as ILocalObject).getobjectID));\n</code></pre>\n\n<p>I also added this to the JNIBridge Unit in the implementation section :</p>\n\n<pre><code>procedure onCreated(P1: JAidcManager); cdecl;//Deprecated\nbegin\n   Form2.manager := P1;\nend;\n</code></pre>\n\n<p>When running this, I get a \"java.lang.SecurityException: Not allowed to bind to  service Intent {acct=com.honeywell.decode.DecodeService cmp=com.intermec.datacollectionservice/.DataCollectionService}\" error. I tried adding \"Bind Remoteviews\" to permissions but that didn't help.</p>\n\n<p>If anyone could advise me or point me in the correct direction on how to create the AidcManager in Delphi, that would be appreciated.  </p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675363900,"post_id":75327421,"comment_id":132918586,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":0,"creation_date":1675409777,"post_id":75327421,"comment_id":132926796,"body_markdown":"How to [Get spinner selected items text?](https://stackoverflow.com/questions/5787809/get-spinner-selected-items-text)","body":"How to <a href=\"https://stackoverflow.com/questions/5787809/get-spinner-selected-items-text\">Get spinner selected items text?</a>"}],"answers":[{"tags":[],"owner":{"account_id":23883416,"reputation":134,"user_id":17883851,"display_name":"TG. Kahsay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675365548,"creation_date":1675365548,"answer_id":75328005,"question_id":75327421,"body_markdown":"I find it very helpful when I look at error logs and ask or google a question based on that. because Error logs give you a clue on to what happened and why.\r\n\r\nin your question, my guess would be your `if` clause in ` if (companies.getSelectedItem().equals(&quot;Google&quot;)) {` . selected item may not be a String. and to acces selected String value, try to add `onItemSelectedistener` to companies(Spinner) \r\n\r\na quick look on [android developers page][1] gives you an example like the following.\r\n\r\n```Java\r\nSpinner companies = findViewById(R.id....);\r\nString selected;\r\n\r\ncompanies.setOnItemSelectedListener(new AdapterView.onItemSelectedListener(){\r\n\r\n    public void onItemSelected(AdapterView&lt;?&gt; parent, View view,\r\n            int pos, long id) {\r\n        // An item was selected. You can retrieve the selected item using\r\n        selected = parent.getItemAtPosition(pos); // Use this in your onClick.\r\n\r\n    }\r\n\r\n    public void onNothingSelected(AdapterView&lt;?&gt; parent) {\r\n        // Another interface callback\r\n    }\r\n\r\n\r\n});\r\n\r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/develop/ui/views/components/spinner#java","title":"Launch different contents in activity depending on spinner selection","body":"<p>I find it very helpful when I look at error logs and ask or google a question based on that. because Error logs give you a clue on to what happened and why.</p>\n<p>in your question, my guess would be your <code>if</code> clause in <code> if (companies.getSelectedItem().equals(&quot;Google&quot;)) {</code> . selected item may not be a String. and to acces selected String value, try to add <code>onItemSelectedistener</code> to companies(Spinner)</p>\n<p>a quick look on <a href=\"https://developer.android.com/develop/ui/views/components/spinner#java\" rel=\"nofollow noreferrer\">android developers page</a> gives you an example like the following.</p>\n<pre><code>Spinner companies = findViewById(R.id....);\nString selected;\n\ncompanies.setOnItemSelectedListener(new AdapterView.onItemSelectedListener(){\n\n    public void onItemSelected(AdapterView&lt;?&gt; parent, View view,\n            int pos, long id) {\n        // An item was selected. You can retrieve the selected item using\n        selected = parent.getItemAtPosition(pos); // Use this in your onClick.\n\n    }\n\n    public void onNothingSelected(AdapterView&lt;?&gt; parent) {\n        // Another interface callback\n    }\n\n\n});\n\n</code></pre>\n"}],"owner":{"account_id":27665508,"reputation":1,"user_id":21117426,"display_name":"shmookh qattan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675365548,"creation_date":1675362135,"question_id":75327421,"body_markdown":"i have a spinner with two values and a button to go to the next activity if selected the first the second activity will contain an image and text \r\nif the second is selected the second activity will contain another image and text \r\nbut when i press the button to go to the second activity it always crashes\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    Spinner companies;\r\n    Button infoButton;\r\n    Button linkButton;\r\n    ArrayList&lt;String&gt; alCompanies;\r\n    ImageView cLogo;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        companies = findViewById(R.id.main_sp_companies);\r\n        infoButton = findViewById(R.id.main_btn_info);\r\n        linkButton = findViewById(R.id.main_btn_link);\r\n        alCompanies = new ArrayList&lt;&gt;();\r\n        alCompanies.add(&quot;Google&quot;);\r\n        alCompanies.add(&quot;Microsoft&quot;);\r\n        ArrayAdapter&lt;String&gt; arrayAdapterCompanies = new ArrayAdapter&lt;String&gt;(getApplicationContext(),\r\n                android.R.layout.simple_spinner_item, alCompanies);\r\n        arrayAdapterCompanies.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        companies.setAdapter(arrayAdapterCompanies);\r\n        infoButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (companies.getSelectedItem().equals(&quot;Google&quot;)) {\r\n                    Intent intent = new Intent(MainActivity.this, ActivityOne.class);\r\n                    cLogo.setImageResource(R.drawable.googlelogo);\r\n                    cLogo.setContentDescription(companies.getSelectedItem().toString());\r\n                    startActivity(intent);\r\n                }\r\n                else {\r\n                    companies.getSelectedItem();\r\n                    Intent intent = new Intent (MainActivity.this,ActivityOne.class);\r\n                    cLogo.setImageResource(R.drawable.micrsoftlogo);\r\n                    cLogo.setContentDescription(companies.getSelectedItem().toString());\r\n                    startActivity(intent);\r\n                }\r\n            }\r\n        }); \r\n```\r\n\r\nthis the mian\r\n\r\n```\r\npublic class ActivityOne extends AppCompatActivity {\r\n    public static final String EXTRA_INFO = &quot;info&quot;;\r\n\r\n    //Spinner companies = findViewById(R.id.main_sp_companies);\r\n    ImageView cLogo;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_one);\r\n        Intent intent = getIntent();\r\n      /* if (companies.getSelectedItem().equals(&quot;Google&quot;)) {\r\n            cLogo.setImageResource(R.drawable.googlelogo);\r\n           cLogo.setContentDescription(companies.getSelectedItem().toString());\r\n        }\r\n        else {\r\n           companies.getSelectedItem();\r\n            cLogo.setImageResource(R.drawable.micrsoftlogo);\r\n           cLogo.setContentDescription(companies.getSelectedItem().toString());\r\n        }*/\r\n    }\r\n}\r\n```\r\n\r\n\r\nthis is the first activity\r\n\r\ni want the user chose from the spinner and depends on their choice will be the second activity \r\nif Google was chosen the logo and the description will be the one about google but Microsoft will be about the Microsoft","title":"Launch different contents in activity depending on spinner selection","body":"<p>i have a spinner with two values and a button to go to the next activity if selected the first the second activity will contain an image and text\nif the second is selected the second activity will contain another image and text\nbut when i press the button to go to the second activity it always crashes</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    Spinner companies;\n    Button infoButton;\n    Button linkButton;\n    ArrayList&lt;String&gt; alCompanies;\n    ImageView cLogo;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        companies = findViewById(R.id.main_sp_companies);\n        infoButton = findViewById(R.id.main_btn_info);\n        linkButton = findViewById(R.id.main_btn_link);\n        alCompanies = new ArrayList&lt;&gt;();\n        alCompanies.add(&quot;Google&quot;);\n        alCompanies.add(&quot;Microsoft&quot;);\n        ArrayAdapter&lt;String&gt; arrayAdapterCompanies = new ArrayAdapter&lt;String&gt;(getApplicationContext(),\n                android.R.layout.simple_spinner_item, alCompanies);\n        arrayAdapterCompanies.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        companies.setAdapter(arrayAdapterCompanies);\n        infoButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if (companies.getSelectedItem().equals(&quot;Google&quot;)) {\n                    Intent intent = new Intent(MainActivity.this, ActivityOne.class);\n                    cLogo.setImageResource(R.drawable.googlelogo);\n                    cLogo.setContentDescription(companies.getSelectedItem().toString());\n                    startActivity(intent);\n                }\n                else {\n                    companies.getSelectedItem();\n                    Intent intent = new Intent (MainActivity.this,ActivityOne.class);\n                    cLogo.setImageResource(R.drawable.micrsoftlogo);\n                    cLogo.setContentDescription(companies.getSelectedItem().toString());\n                    startActivity(intent);\n                }\n            }\n        }); \n</code></pre>\n<p>this the mian</p>\n<pre><code>public class ActivityOne extends AppCompatActivity {\n    public static final String EXTRA_INFO = &quot;info&quot;;\n\n    //Spinner companies = findViewById(R.id.main_sp_companies);\n    ImageView cLogo;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_one);\n        Intent intent = getIntent();\n      /* if (companies.getSelectedItem().equals(&quot;Google&quot;)) {\n            cLogo.setImageResource(R.drawable.googlelogo);\n           cLogo.setContentDescription(companies.getSelectedItem().toString());\n        }\n        else {\n           companies.getSelectedItem();\n            cLogo.setImageResource(R.drawable.micrsoftlogo);\n           cLogo.setContentDescription(companies.getSelectedItem().toString());\n        }*/\n    }\n}\n</code></pre>\n<p>this is the first activity</p>\n<p>i want the user chose from the spinner and depends on their choice will be the second activity\nif Google was chosen the logo and the description will be the one about google but Microsoft will be about the Microsoft</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":1363556,"reputation":193,"user_id":1300461,"display_name":"Zartc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675365461,"creation_date":1675365096,"answer_id":75327923,"question_id":75327540,"body_markdown":"After having tried several techniques for a while and reading answers to nearby questions, I found a working solution. I answer my own question so that it might help others who are strugling with the same problem (Greg. L. DTSI/SI, I&#39;m thinking about you).\r\n\r\nThe solution is to provide MapStruct with a hand written function that test for the desired condition and route to another mapping methods. \r\nYou must inform MapStruct to call your handwritten routing function by using `qualifiedByName=&quot;&lt;name&gt;&quot;` and `@Named(&quot;&lt;name&gt;&quot;)`.\r\n\r\nThe control flow starts from a *MapStruct-generated function* `--to--&gt;` *your handwritten routing function* `--and back--&gt;` *to one of the MapStruct-generated functions* selected by your routing function.\r\n\r\nExample Mapper code:\r\n```java\r\ninterface Mapper {\r\n    @Mapping(target = &quot;a_or_b&quot;, source = &quot;.&quot;, qualifiedByName=&quot;map_a_or_b&quot;)\r\n    Target map(Source source);\r\n\r\n    @Named(&quot;map_a_or_b&quot;)\r\n    default AorB mapAorB(Source source) {\r\n        return (source.flag) ? map(source.a) : map(source.b);\r\n    }\r\n\r\n    AorB map(A a); // this mapper func should be invoqued when source.flag == true\r\n    AorB map(B b); // this mapper func should be invoqued when source.flag == false\r\n}\r\n```\r\n\r\nAnd the MapStruct generated code will be something like:\r\n```java\r\npublic class MapperImpl implements Mapper {\r\n    @Override\r\n    public Target map(Source source) {\r\n        if ( source == null ) {\r\n            return null;\r\n        }\r\n\r\n        Target target = new Target();\r\n\r\n        // this is here that MapStruct call your handwritten routing function\r\n        target.a_or_b = mapAorB( source );\r\n        ...\r\n    }\r\n\r\n    // this mapper func is invoqued, not by MapStruct, but by your provided mapAorB() func when source.flag == true\r\n    AorB map(A a) {...}\r\n\r\n    // this mapper func is invoqued, not by MapStruct, but by your provided mapAorB() func when source.flag == false\r\n    AorB map(B b) {...} \r\n}\r\n\r\n```\r\n","title":"How to make MapStruct select alternate source fields to map to a single target field based on a flag in the source class","body":"<p>After having tried several techniques for a while and reading answers to nearby questions, I found a working solution. I answer my own question so that it might help others who are strugling with the same problem (Greg. L. DTSI/SI, I'm thinking about you).</p>\n<p>The solution is to provide MapStruct with a hand written function that test for the desired condition and route to another mapping methods.\nYou must inform MapStruct to call your handwritten routing function by using <code>qualifiedByName=&quot;&lt;name&gt;&quot;</code> and <code>@Named(&quot;&lt;name&gt;&quot;)</code>.</p>\n<p>The control flow starts from a <em>MapStruct-generated function</em> <code>--to--&gt;</code> <em>your handwritten routing function</em> <code>--and back--&gt;</code> <em>to one of the MapStruct-generated functions</em> selected by your routing function.</p>\n<p>Example Mapper code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Mapper {\n    @Mapping(target = &quot;a_or_b&quot;, source = &quot;.&quot;, qualifiedByName=&quot;map_a_or_b&quot;)\n    Target map(Source source);\n\n    @Named(&quot;map_a_or_b&quot;)\n    default AorB mapAorB(Source source) {\n        return (source.flag) ? map(source.a) : map(source.b);\n    }\n\n    AorB map(A a); // this mapper func should be invoqued when source.flag == true\n    AorB map(B b); // this mapper func should be invoqued when source.flag == false\n}\n</code></pre>\n<p>And the MapStruct generated code will be something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MapperImpl implements Mapper {\n    @Override\n    public Target map(Source source) {\n        if ( source == null ) {\n            return null;\n        }\n\n        Target target = new Target();\n\n        // this is here that MapStruct call your handwritten routing function\n        target.a_or_b = mapAorB( source );\n        ...\n    }\n\n    // this mapper func is invoqued, not by MapStruct, but by your provided mapAorB() func when source.flag == true\n    AorB map(A a) {...}\n\n    // this mapper func is invoqued, not by MapStruct, but by your provided mapAorB() func when source.flag == false\n    AorB map(B b) {...} \n}\n\n</code></pre>\n"}],"owner":{"account_id":1363556,"reputation":193,"user_id":1300461,"display_name":"Zartc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675365461,"creation_date":1675362831,"question_id":75327540,"body_markdown":"```\r\n// the Source and Target classes:\r\n\r\npublic class Source {                   public class Target {    \r\n    public A a;  ----------------\\\r\n                    XOR           &gt; ------&gt; AorB a_or_b;\r\n    public B b;  ----------------/\r\n                                        }\r\n    public boolean flag;\r\n}\r\n\r\n\r\n// The Mapper\r\ninterface Mapper {\r\n    @Mapping(target = &quot;a_or_b&quot;, source = &quot;source.a&quot;, conditionExpression = &quot;java(source.flag == true)&quot;)\r\n    // MapStruct complain on the following line with a java: Target property &quot;a_or_b&quot; must not be mapped more than once.\r\n    @Mapping(target = &quot;a_or_b&quot;, source = &quot;source.b&quot;, conditionExpression = &quot;java(source.flag == false)&quot;)\r\n    Target map(Source source);\r\n\r\n    AorB map(A a); // this mapper func should be invoqued by MapStruct when source.flag == true\r\n    AorB map(B b); // this mapper func should be invoqued by MapStruct when source.flag == false\r\n}\r\n```\r\n\r\nI&#39;d like to be able to map either `Source.a` *XOR* `Source.b` into `target.a_or_b`.  \r\nKnowing that I have the mapper functions ready to `map from A to AorB` and to `map from B to AorB`, my problem is to make MapStruct choose the right source field depending upon the `source.flag` value.\r\n\r\nIs it possible ?\r\n","title":"How to make MapStruct select alternate source fields to map to a single target field based on a flag in the source class","body":"<pre><code>// the Source and Target classes:\n\npublic class Source {                   public class Target {    \n    public A a;  ----------------\\\n                    XOR           &gt; ------&gt; AorB a_or_b;\n    public B b;  ----------------/\n                                        }\n    public boolean flag;\n}\n\n\n// The Mapper\ninterface Mapper {\n    @Mapping(target = &quot;a_or_b&quot;, source = &quot;source.a&quot;, conditionExpression = &quot;java(source.flag == true)&quot;)\n    // MapStruct complain on the following line with a java: Target property &quot;a_or_b&quot; must not be mapped more than once.\n    @Mapping(target = &quot;a_or_b&quot;, source = &quot;source.b&quot;, conditionExpression = &quot;java(source.flag == false)&quot;)\n    Target map(Source source);\n\n    AorB map(A a); // this mapper func should be invoqued by MapStruct when source.flag == true\n    AorB map(B b); // this mapper func should be invoqued by MapStruct when source.flag == false\n}\n</code></pre>\n<p>I'd like to be able to map either <code>Source.a</code> <em>XOR</em> <code>Source.b</code> into <code>target.a_or_b</code>.<br />\nKnowing that I have the mapper functions ready to <code>map from A to AorB</code> and to <code>map from B to AorB</code>, my problem is to make MapStruct choose the right source field depending upon the <code>source.flag</code> value.</p>\n<p>Is it possible ?</p>\n"},{"tags":["java","android","json","api","android-volley"],"answers":[{"tags":[],"owner":{"account_id":23786916,"reputation":26,"user_id":17926797,"display_name":"Max"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675364477,"creation_date":1675364382,"answer_id":75327805,"question_id":75327585,"body_markdown":"Since the ressource you are calling returns a JSON array, simply change the volley request type from `JsonObectRequest` to `JsonArrayRequest`.\r\n\r\nShould look like this then:\r\n\r\n    RequestQueue mRequestQueue = Volley.newRequestQueue(this);\r\n    String url = &quot;https://krokapp.by/api/rest/tags/?format=json&quot;;\r\n\r\n        final JsonArrayRequest request = new JsonArrayRequest(Request.Method.GET, url, null,\r\n                response -&gt; Log.d(&quot;krok_data&quot;, response.toString()),\r\n                error -&gt; {\r\n                    Log.d(&quot;krok_data&quot;, &quot;Error&quot;);\r\n                    error.printStackTrace();\r\n        });\r\n        mRequestQueue.add(request);","title":"Why isn&#39;t Android Volley request working?","body":"<p>Since the ressource you are calling returns a JSON array, simply change the volley request type from <code>JsonObectRequest</code> to <code>JsonArrayRequest</code>.</p>\n<p>Should look like this then:</p>\n<pre><code>RequestQueue mRequestQueue = Volley.newRequestQueue(this);\nString url = &quot;https://krokapp.by/api/rest/tags/?format=json&quot;;\n\n    final JsonArrayRequest request = new JsonArrayRequest(Request.Method.GET, url, null,\n            response -&gt; Log.d(&quot;krok_data&quot;, response.toString()),\n            error -&gt; {\n                Log.d(&quot;krok_data&quot;, &quot;Error&quot;);\n                error.printStackTrace();\n    });\n    mRequestQueue.add(request);\n</code></pre>\n"}],"owner":{"account_id":18072152,"reputation":639,"user_id":13136530,"display_name":"kirvel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75327805,"answer_count":1,"score":0,"last_activity_date":1675364477,"creation_date":1675363103,"question_id":75327585,"body_markdown":"I simply trying to get JSON data from url (https://krokapp.by/api/rest/tags/?format=json):\r\n\r\n    RequestQueue mRequestQueue;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mRequestQueue = Volley.newRequestQueue(this);\r\n        String url = &quot;https://krokapp.by/api/rest/tags/?format=json&quot;;\r\n\r\n        final JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, url, null, response -&gt; {\r\n                    Log.d(&quot;krok_data&quot;, response.toString());\r\n                }, error -&gt; {\r\n                    Log.d(&quot;krok_data&quot;, &quot;Error&quot;);\r\n                    error.printStackTrace();\r\n                });\r\n        mRequestQueue.add(request);\r\n    }\r\n\r\nHowever, when I try this with different JSON api, for example:\r\nhttps://samples.openweathermap.org/data/2.5/weather?id=2172797&amp;appid=b6907d289e10d714a6e88b30761fae22\r\neverything works fine. Is there something wrong with the API I&#39;m trying to get data from?","title":"Why isn&#39;t Android Volley request working?","body":"<p>I simply trying to get JSON data from url (<a href=\"https://krokapp.by/api/rest/tags/?format=json\" rel=\"nofollow noreferrer\">https://krokapp.by/api/rest/tags/?format=json</a>):</p>\n<pre><code>RequestQueue mRequestQueue;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    mRequestQueue = Volley.newRequestQueue(this);\n    String url = &quot;https://krokapp.by/api/rest/tags/?format=json&quot;;\n\n    final JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, url, null, response -&gt; {\n                Log.d(&quot;krok_data&quot;, response.toString());\n            }, error -&gt; {\n                Log.d(&quot;krok_data&quot;, &quot;Error&quot;);\n                error.printStackTrace();\n            });\n    mRequestQueue.add(request);\n}\n</code></pre>\n<p>However, when I try this with different JSON api, for example:\n<a href=\"https://samples.openweathermap.org/data/2.5/weather?id=2172797&amp;appid=b6907d289e10d714a6e88b30761fae22\" rel=\"nofollow noreferrer\">https://samples.openweathermap.org/data/2.5/weather?id=2172797&amp;appid=b6907d289e10d714a6e88b30761fae22</a>\neverything works fine. Is there something wrong with the API I'm trying to get data from?</p>\n"},{"tags":["java","garbage-collection","g1gc"],"owner":{"account_id":313546,"reputation":7820,"user_id":628242,"accept_rate":55,"display_name":"Lokesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675364091,"creation_date":1675364091,"question_id":75327761,"body_markdown":"I am using 16gb Heap along with `G1GC`. \r\nFor some of batches I am seeing continuous `GC pause (G1 Evacuation Pause)` multiple times within a second which is drastically slowing down the batch.\r\nI have noticed that despite evacuation pause memory doesn&#39;t seem to be freed up (as shown in screenshot below, it stays at 14gb). So i tried increasing heap from 16gb to 40gb and even then Evacuation pause for Young generation is continuous. It does reduce from multiple times per second to once or twice per second.\r\n\r\nI tried increasing `XX:MaxGCPauseMillis` to 3 seconds but that has not helped.\r\n\r\nAny suggestions on what can help with this situation ?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NDHhs.png","title":"G1GC: Continuous G1 evacuation phase","body":"<p>I am using 16gb Heap along with <code>G1GC</code>.\nFor some of batches I am seeing continuous <code>GC pause (G1 Evacuation Pause)</code> multiple times within a second which is drastically slowing down the batch.\nI have noticed that despite evacuation pause memory doesn't seem to be freed up (as shown in screenshot below, it stays at 14gb). So i tried increasing heap from 16gb to 40gb and even then Evacuation pause for Young generation is continuous. It does reduce from multiple times per second to once or twice per second.</p>\n<p>I tried increasing <code>XX:MaxGCPauseMillis</code> to 3 seconds but that has not helped.</p>\n<p>Any suggestions on what can help with this situation ?</p>\n<p><a href=\"https://i.stack.imgur.com/NDHhs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NDHhs.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","mvvm","android-room","android-livedata"],"answers":[{"tags":[],"owner":{"account_id":3726977,"reputation":3340,"user_id":3100601,"display_name":"ror"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675363742,"creation_date":1675363742,"answer_id":75327698,"question_id":75327202,"body_markdown":"Moving from top to bottom,\r\n\r\n1. You are observing `mRunViewModel.getAllRuns()`\r\n2. Your `mRunViewModel.getAllRuns()` is `mRepository.getAllRuns();`\r\n3. Your `mRepository.getAllRuns();` is `mRunDao.getRunsByDate();`\r\n\r\nSo you are so far just unconditionally routing LiveData from Room to your view. \r\n\r\nSimplest way to achieve switching could be this:\r\n\r\n1. Change your `RunDao` to have single parameterized method like this example\r\n\r\n```\r\n@Query(&quot;SELECT * FROM Persons ORDER BY \r\n        CASE WHEN :isAsc = 1 THEN first_name END ASC, \r\n        CASE WHEN :isAsc = 0 THEN first_name END DESC&quot;)\r\nList&lt;Person&gt; getPersonsAlphabetically(boolean isAsc);\r\n```\r\n(your implementation will be different, including return type and parameter type, but the above should give the idea)\r\n\r\n2. Route the above dao method into repo and use updated repo inside vm. Every time view decides it&#39;s time to show some different sorting order, it will talk to view model, viewmodel will pull repo&#39;s method and repo will pull dao with proper parameter, dao will give you back livedata with properly sorted content.","title":"How to sort LiveData in room database by clicking a sort button?","body":"<p>Moving from top to bottom,</p>\n<ol>\n<li>You are observing <code>mRunViewModel.getAllRuns()</code></li>\n<li>Your <code>mRunViewModel.getAllRuns()</code> is <code>mRepository.getAllRuns();</code></li>\n<li>Your <code>mRepository.getAllRuns();</code> is <code>mRunDao.getRunsByDate();</code></li>\n</ol>\n<p>So you are so far just unconditionally routing LiveData from Room to your view.</p>\n<p>Simplest way to achieve switching could be this:</p>\n<ol>\n<li>Change your <code>RunDao</code> to have single parameterized method like this example</li>\n</ol>\n<pre><code>@Query(&quot;SELECT * FROM Persons ORDER BY \n        CASE WHEN :isAsc = 1 THEN first_name END ASC, \n        CASE WHEN :isAsc = 0 THEN first_name END DESC&quot;)\nList&lt;Person&gt; getPersonsAlphabetically(boolean isAsc);\n</code></pre>\n<p>(your implementation will be different, including return type and parameter type, but the above should give the idea)</p>\n<ol start=\"2\">\n<li>Route the above dao method into repo and use updated repo inside vm. Every time view decides it's time to show some different sorting order, it will talk to view model, viewmodel will pull repo's method and repo will pull dao with proper parameter, dao will give you back livedata with properly sorted content.</li>\n</ol>\n"}],"owner":{"account_id":20453215,"reputation":25,"user_id":15007502,"display_name":"Apelli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75327698,"answer_count":1,"score":0,"last_activity_date":1675363742,"creation_date":1675360885,"question_id":75327202,"body_markdown":"I&#39;m trying to figure out how to sort my recyclerview&#39;s data by click of a button. So far I&#39;ve got it sorted initially as I start the application and add new items on the list. But I&#39;d like to be able to sort it by different parameters as I&#39;m using the app, by clicking a button &quot;Sort by distance&quot;. \r\nI&#39;m using the MVVM architecture and am working with LiveData.\r\n\r\nHere&#39;s my MainActivity (Not completely, but irrelevant parts are omitted)\r\n\r\n```\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        RecyclerView recyclerView = findViewById(R.id.recyclerview);\r\n        final RunListAdapter adapter = new RunListAdapter(new RunListAdapter.RunDiff());\r\n        recyclerView.setAdapter(adapter);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        mRunViewModel = new ViewModelProvider(this).get(RunViewModel.class);\r\n        mRunViewModel.getAllRuns().observe(this, runs -&gt; {\r\n            adapter.submitList(runs);\r\n        });\r\n\r\n sortByDistanceButton = findViewById(R.id.sortByDistance);\r\n        sortByDistanceButton.setOnClickListener(view -&gt; {\r\n             //DO SOMETHING\r\n        });\r\n```\r\n\r\nHere&#39;s my RunViewModel\r\n\r\n\r\n```\r\npublic class RunViewModel extends AndroidViewModel {\r\n\r\n    private RunRepository mRepository;\r\n    private final LiveData&lt;List&lt;Run&gt;&gt; mAllRuns;\r\n\r\n\r\n    public RunViewModel(Application application) {\r\n        super(application);\r\n        mRepository = new RunRepository(application);\r\n        mAllRuns = mRepository.getAllRuns();\r\n    }\r\n\r\n    LiveData&lt;List&lt;Run&gt;&gt; getAllRuns() {\r\n            return mRepository.getAllRuns();\r\n    }\r\n\r\n    public void insert(Run run) {\r\n        mRepository.insert(run);\r\n    }\r\n\r\n    public void delete(Run run) {\r\n        mRepository.delete(run);\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere&#39;s my RunRepository\r\n\r\n```\r\npublic class RunRepository {\r\n\r\n    private RunDao mRunDao;\r\n    private LiveData&lt;List&lt;Run&gt;&gt; mAllRuns;\r\n\r\n    RunRepository(Application application) {\r\n        RunRoomDatabase db = RunRoomDatabase.getDatabase(application);\r\n        mRunDao = db.runDao();\r\n        mAllRuns = mRunDao.getRunsByDate();\r\n    }\r\n\r\n    LiveData&lt;List&lt;Run&gt;&gt; getAllRuns() {\r\n        return mRunDao.getRunsByDate();\r\n    }\r\n\r\n\r\n    void insert(Run run) {\r\n        RunRoomDatabase.databaseWriteExecutor.execute(() -&gt;\r\n                mRunDao.insert(run));\r\n    }\r\n\r\n    public void delete(Run run) {\r\n        RunRoomDatabase.databaseWriteExecutor.execute(() -&gt; {\r\n            mRunDao.deleteRun(run);\r\n        });\r\n    }\r\n\r\n}\r\n```\r\nAnd finally here&#39;s my RunDao\r\n\r\n\r\n```\r\npublic interface RunDao {\r\n\r\n    @Insert(onConflict = OnConflictStrategy.IGNORE)\r\n    void insert(Run run);\r\n\r\n    @Query(&quot;DELETE FROM run_table&quot;)\r\n    void deleteAll();\r\n\r\n    @Query(&quot;SELECT * FROM run_table ORDER BY date&quot;)\r\n    LiveData&lt;List&lt;Run&gt;&gt; getRunsByDate();\r\n\r\n    @Query(&quot;SELECT * FROM run_table ORDER BY distance ASC&quot;)\r\n    LiveData&lt;List&lt;Run&gt;&gt; getRunsByDistance();\r\n\r\n    @Query(&quot;SELECT * FROM run_table ORDER BY duration ASC&quot;)\r\n    LiveData&lt;List&lt;Run&gt;&gt; getRunsByDuration();\r\n    @Delete\r\n    void deleteRun(Run run);\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI&#39;ve tried to pass on a &quot;choice&quot; argument and setting the choice to a different one, but to no avail. I&#39;ve tried to read about other&#39;s having similar problems, but I haven&#39;t been able to figure how to apply any of them to my situation. I&#39;m completely stumped.\r\n\r\nHere are some SO questions I&#39;ve read and tried to wrap my head around.\r\nThis one actually is very similar to mine and the original question asked figured out a solution, but never shared the details of the implementation =)\r\nhttps://stackoverflow.com/questions/61463186/how-to-sort-livedata-from-room-database-doing-a-button-to-switch-recyclerviews\r\n\r\nhttps://www.reddit.com/r/androiddev/comments/n9nraa/i_want_to_sort_a_livedatalistplayers_from_room_in/\r\n\r\nhttps://stackoverflow.com/questions/62866270/how-to-properly-sort-a-list-using-repository-pattern-and-live-data-in-an-mvvm-an\r\n","title":"How to sort LiveData in room database by clicking a sort button?","body":"<p>I'm trying to figure out how to sort my recyclerview's data by click of a button. So far I've got it sorted initially as I start the application and add new items on the list. But I'd like to be able to sort it by different parameters as I'm using the app, by clicking a button &quot;Sort by distance&quot;.\nI'm using the MVVM architecture and am working with LiveData.</p>\n<p>Here's my MainActivity (Not completely, but irrelevant parts are omitted)</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        RecyclerView recyclerView = findViewById(R.id.recyclerview);\n        final RunListAdapter adapter = new RunListAdapter(new RunListAdapter.RunDiff());\n        recyclerView.setAdapter(adapter);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n        mRunViewModel = new ViewModelProvider(this).get(RunViewModel.class);\n        mRunViewModel.getAllRuns().observe(this, runs -&gt; {\n            adapter.submitList(runs);\n        });\n\n sortByDistanceButton = findViewById(R.id.sortByDistance);\n        sortByDistanceButton.setOnClickListener(view -&gt; {\n             //DO SOMETHING\n        });\n</code></pre>\n<p>Here's my RunViewModel</p>\n<pre><code>public class RunViewModel extends AndroidViewModel {\n\n    private RunRepository mRepository;\n    private final LiveData&lt;List&lt;Run&gt;&gt; mAllRuns;\n\n\n    public RunViewModel(Application application) {\n        super(application);\n        mRepository = new RunRepository(application);\n        mAllRuns = mRepository.getAllRuns();\n    }\n\n    LiveData&lt;List&lt;Run&gt;&gt; getAllRuns() {\n            return mRepository.getAllRuns();\n    }\n\n    public void insert(Run run) {\n        mRepository.insert(run);\n    }\n\n    public void delete(Run run) {\n        mRepository.delete(run);\n    }\n\n}\n</code></pre>\n<p>Here's my RunRepository</p>\n<pre><code>public class RunRepository {\n\n    private RunDao mRunDao;\n    private LiveData&lt;List&lt;Run&gt;&gt; mAllRuns;\n\n    RunRepository(Application application) {\n        RunRoomDatabase db = RunRoomDatabase.getDatabase(application);\n        mRunDao = db.runDao();\n        mAllRuns = mRunDao.getRunsByDate();\n    }\n\n    LiveData&lt;List&lt;Run&gt;&gt; getAllRuns() {\n        return mRunDao.getRunsByDate();\n    }\n\n\n    void insert(Run run) {\n        RunRoomDatabase.databaseWriteExecutor.execute(() -&gt;\n                mRunDao.insert(run));\n    }\n\n    public void delete(Run run) {\n        RunRoomDatabase.databaseWriteExecutor.execute(() -&gt; {\n            mRunDao.deleteRun(run);\n        });\n    }\n\n}\n</code></pre>\n<p>And finally here's my RunDao</p>\n<pre><code>public interface RunDao {\n\n    @Insert(onConflict = OnConflictStrategy.IGNORE)\n    void insert(Run run);\n\n    @Query(&quot;DELETE FROM run_table&quot;)\n    void deleteAll();\n\n    @Query(&quot;SELECT * FROM run_table ORDER BY date&quot;)\n    LiveData&lt;List&lt;Run&gt;&gt; getRunsByDate();\n\n    @Query(&quot;SELECT * FROM run_table ORDER BY distance ASC&quot;)\n    LiveData&lt;List&lt;Run&gt;&gt; getRunsByDistance();\n\n    @Query(&quot;SELECT * FROM run_table ORDER BY duration ASC&quot;)\n    LiveData&lt;List&lt;Run&gt;&gt; getRunsByDuration();\n    @Delete\n    void deleteRun(Run run);\n}\n\n</code></pre>\n<p>I've tried to pass on a &quot;choice&quot; argument and setting the choice to a different one, but to no avail. I've tried to read about other's having similar problems, but I haven't been able to figure how to apply any of them to my situation. I'm completely stumped.</p>\n<p>Here are some SO questions I've read and tried to wrap my head around.\nThis one actually is very similar to mine and the original question asked figured out a solution, but never shared the details of the implementation =)\n<a href=\"https://stackoverflow.com/questions/61463186/how-to-sort-livedata-from-room-database-doing-a-button-to-switch-recyclerviews\">How to sort LiveData from Room Database? Doing a button to switch recyclerview&#39;s item&#39;s order</a></p>\n<p><a href=\"https://www.reddit.com/r/androiddev/comments/n9nraa/i_want_to_sort_a_livedatalistplayers_from_room_in/\" rel=\"nofollow noreferrer\">https://www.reddit.com/r/androiddev/comments/n9nraa/i_want_to_sort_a_livedatalistplayers_from_room_in/</a></p>\n<p><a href=\"https://stackoverflow.com/questions/62866270/how-to-properly-sort-a-list-using-repository-pattern-and-live-data-in-an-mvvm-an\">how to properly sort a list using repository pattern and live data in an MVVM android application?</a></p>\n"},{"tags":["java","maven","netbeans","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1675219658,"post_id":75304211,"comment_id":132880166,"body_markdown":"Is there an import in your code?","body":"Is there an import in your code?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1675239917,"post_id":75304211,"comment_id":132883457,"body_markdown":"You should rework your maven project so you only use artifacts available from maven central.","body":"You should rework your maven project so you only use artifacts available from maven central."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1675241775,"post_id":75304211,"comment_id":132884006,"body_markdown":"&quot;It finds the jar file I downloaded and put in the src/java/main directory&quot; is weird, it shouldn&#39;t put jar files there. It should add a dependency in the pom.xml file, and maven should do the rest when building. (You have to run the build once, I forgot to mention; the answer will do that, i.e. run a &quot;priming build&quot;)","body":"&quot;It finds the jar file I downloaded and put in the src/java/main directory&quot; is weird, it shouldn&#39;t put jar files there. It should add a dependency in the pom.xml file, and maven should do the rest when building. (You have to run the build once, I forgot to mention; the answer will do that, i.e. run a &quot;priming build&quot;)"},{"owner":{"account_id":7577131,"reputation":127,"user_id":5749128,"display_name":"AlexHomeBrew"},"score":0,"creation_date":1675269363,"post_id":75304211,"comment_id":132893434,"body_markdown":"@TilmanHausherr That&#39;s what I&#39;m trying to do.  If I just enter the import statement, Netbeans complains that it can&#39;t find it.  Also, I tried just using the Maven search through Netbeans and it failed to find it. That&#39;s why I ran the mvn command above to add it to my local repository.","body":"@TilmanHausherr That&#39;s what I&#39;m trying to do.  If I just enter the import statement, Netbeans complains that it can&#39;t find it.  Also, I tried just using the Maven search through Netbeans and it failed to find it. That&#39;s why I ran the mvn command above to add it to my local repository."},{"owner":{"account_id":7577131,"reputation":127,"user_id":5749128,"display_name":"AlexHomeBrew"},"score":0,"creation_date":1675269699,"post_id":75304211,"comment_id":132893545,"body_markdown":"@Thorbj&#248;rnRavnAndersen Yes, only using Maven Central would be ideal, but it doesn&#39;t solve this problem. Before I downloaded the jar file, the Search In Maven Repositories couldn&#39;t find it. There was nothing in the Matching Artifacts pane.","body":"@Thorbj&#248;rnRavnAndersen Yes, only using Maven Central would be ideal, but it doesn&#39;t solve this problem. Before I downloaded the jar file, the Search In Maven Repositories couldn&#39;t find it. There was nothing in the Matching Artifacts pane."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1675270994,"post_id":75304211,"comment_id":132893995,"body_markdown":"Netbeans usually work fine in my experience.  Can you create a minimal example showing your problem and put it on e.g. Github for others to experiment with?","body":"Netbeans usually work fine in my experience.  Can you create a minimal example showing your problem and put it on e.g. Github for others to experiment with?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1675309686,"post_id":75304211,"comment_id":132902781,"body_markdown":"What happens if you run the build, i.e. &quot;mvn install&quot; from the command line, or by right-clicking on the project and then click &quot;build&quot;? Are you behind a company proxy?","body":"What happens if you run the build, i.e. &quot;mvn install&quot; from the command line, or by right-clicking on the project and then click &quot;build&quot;? Are you behind a company proxy?"}],"answers":[{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675363453,"creation_date":1675363453,"answer_id":75327653,"question_id":75304211,"body_markdown":"The artifact is available on Maven Central (https://mvnrepository.com/artifact/org.apache.pdfbox/pdfbox/2.0.27).  This mean that a well-formed Maven project with an empty local repository - no files under `.m2/repository` - should be able to download it and build your source.\r\n\r\nIf you cannot do that on the command line (you may have to install Maven first) then it is your code that should be fixed before trying to open in Netbeans.\r\n\r\nIf the project builds from the command line, but not in Netbeans 16 when you open the project (it should have a small M on the folder icon to indicate that a Maven project has been detected), your Netbeans installation may be broken.  If so, uninstall it and reinstall a freshly downloaded copy of the appropriate installer.  ","title":"How can I get Netbeans to recognize the org.apache.pdfbox jar?","body":"<p>The artifact is available on Maven Central (<a href=\"https://mvnrepository.com/artifact/org.apache.pdfbox/pdfbox/2.0.27\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.pdfbox/pdfbox/2.0.27</a>).  This mean that a well-formed Maven project with an empty local repository - no files under <code>.m2/repository</code> - should be able to download it and build your source.</p>\n<p>If you cannot do that on the command line (you may have to install Maven first) then it is your code that should be fixed before trying to open in Netbeans.</p>\n<p>If the project builds from the command line, but not in Netbeans 16 when you open the project (it should have a small M on the folder icon to indicate that a Maven project has been detected), your Netbeans installation may be broken.  If so, uninstall it and reinstall a freshly downloaded copy of the appropriate installer.</p>\n"}],"owner":{"account_id":7577131,"reputation":127,"user_id":5749128,"display_name":"AlexHomeBrew"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675363453,"creation_date":1675207941,"question_id":75304211,"body_markdown":"I prototyped a PDF viewer in Intellij Idea and am trying to integrate it into a Netbeans project. I have been unable to get Netbeans to recognize the jar file that contains the classes I use.\r\n\r\nNetbeans Version - 15.0.2, JDK version - 15, Windows 10\r\n\r\nHere is one of the errors in the code:\r\n\r\n[![Hover over red underline][1]][1]\r\n\r\nFrom the first line of the following method:\r\n```\r\n    private void initializeFile(File file)\r\n    {\r\n        PDDocument doc = PDDocument.load(file);\r\n\r\n        // Getting/calculating screen dimensions...\r\n        float realWidth = doc.getPage(0).getMediaBox().getWidth();\r\n        float realHeight = doc.getPage(0).getMediaBox().getHeight();\r\n\r\n        System.out.println(&quot;RealW, RealH: &quot; + realWidth + &quot;, &quot; + realHeight);\r\n\r\n        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\r\n        double ratio = 0.6;\r\n\r\n        this.height = (int) (screenSize.getHeight() * ratio);\r\n        this.width = (int) ((height * realWidth) / realHeight);\r\n\r\n        this.numberOfPages = doc.getNumberOfPages();\r\n\r\n        renderer = PDFRenderer(doc);\r\n\r\n        System.out.println(&quot;Number of pages = &quot; + numberOfPages);\r\n    }\r\n```\r\nAlt-Enter on the red underline:\r\n\r\n[![Alt-Enter on the red underline][2]][2]\r\n\r\n\r\nWhen I select the Search Dependency at Maven Repositories for PDFDocument, I get this:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nIt finds the jar file I downloaded and put in the `src/java/main` directory. When I click on the `Add` button, it works for a few seconds and then displays this in the status line:\r\n```Finished retrieving dependencies from remote repositories.```\r\nBut the error remains, it still can&#39;t find the class PDDocument.\r\n\r\nI tried the following command line which didn&#39;t fail but didn&#39;t remove the error.\r\n```\r\n$ mvn install:install-file -Dfile=&quot;pdfbox-app-2.0.27.jar&quot; -DgroupId=&quot;org.apache.pdfbox&quot; -DartifactId=&quot;pdfbox&quot; -Dversion=2.0.27 -Dpackaging=jar\r\n[INFO] Scanning for projects...\r\n[INFO]\r\n[INFO] ------------------&lt; org.apache.maven:standalone-pom &gt;-------------------\r\n[INFO] Building Maven Stub Project (No POM) 1\r\n[INFO] --------------------------------[ pom ]---------------------------------\r\n[INFO]\r\n[INFO] --- maven-install-plugin:2.4:install-file (default-cli) @ standalone-pom ---\r\n[INFO] Installing E:\\hg\\project\\MyName\\src\\main\\pdfbox-app-2.0.27.jar to C:\\Users\\ME\\.m2\\repository\\org\\apache\\pdfbox\\pdfbox\\2.0.27\\pdfbox-2.0.27.jar\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  0.328 s\r\n[INFO] Finished at: 2023-01-31T10:25:05-08:00\r\n[INFO] ------------------------------------------------------------------------\r\n```\r\n\r\nHere is the section of my pom.xml\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.27&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nI&#39;ve gone through all of these suggestions to no avail:\r\n\r\n`https://stackoverflow.com/questions/17693040/adding-external-jar-to-maven-project-in-netbeans`\r\n\r\nHere is the relevant section of my Project&#39;s dependencies:\r\n\r\n[![enter image description here][5]][5]\r\n\r\nIs there a log somewhere where I can see what Netbeans did behind the curtain, especially if it encountered an error? What else can I try?\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gHrB0.png\r\n  [2]: https://i.stack.imgur.com/G4tfd.png\r\n  [3]: https://i.stack.imgur.com/LK5sA.png\r\n  [4]: https://i.stack.imgur.com/IzIfP.png\r\n  [5]: https://i.stack.imgur.com/yDY4u.png","title":"How can I get Netbeans to recognize the org.apache.pdfbox jar?","body":"<p>I prototyped a PDF viewer in Intellij Idea and am trying to integrate it into a Netbeans project. I have been unable to get Netbeans to recognize the jar file that contains the classes I use.</p>\n<p>Netbeans Version - 15.0.2, JDK version - 15, Windows 10</p>\n<p>Here is one of the errors in the code:</p>\n<p><a href=\"https://i.stack.imgur.com/gHrB0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gHrB0.png\" alt=\"Hover over red underline\" /></a></p>\n<p>From the first line of the following method:</p>\n<pre><code>    private void initializeFile(File file)\n    {\n        PDDocument doc = PDDocument.load(file);\n\n        // Getting/calculating screen dimensions...\n        float realWidth = doc.getPage(0).getMediaBox().getWidth();\n        float realHeight = doc.getPage(0).getMediaBox().getHeight();\n\n        System.out.println(&quot;RealW, RealH: &quot; + realWidth + &quot;, &quot; + realHeight);\n\n        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\n        double ratio = 0.6;\n\n        this.height = (int) (screenSize.getHeight() * ratio);\n        this.width = (int) ((height * realWidth) / realHeight);\n\n        this.numberOfPages = doc.getNumberOfPages();\n\n        renderer = PDFRenderer(doc);\n\n        System.out.println(&quot;Number of pages = &quot; + numberOfPages);\n    }\n</code></pre>\n<p>Alt-Enter on the red underline:</p>\n<p><a href=\"https://i.stack.imgur.com/G4tfd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G4tfd.png\" alt=\"Alt-Enter on the red underline\" /></a></p>\n<p>When I select the Search Dependency at Maven Repositories for PDFDocument, I get this:</p>\n<p><a href=\"https://i.stack.imgur.com/IzIfP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IzIfP.png\" alt=\"enter image description here\" /></a></p>\n<p>It finds the jar file I downloaded and put in the <code>src/java/main</code> directory. When I click on the <code>Add</code> button, it works for a few seconds and then displays this in the status line:\n<code>Finished retrieving dependencies from remote repositories.</code>\nBut the error remains, it still can't find the class PDDocument.</p>\n<p>I tried the following command line which didn't fail but didn't remove the error.</p>\n<pre><code>$ mvn install:install-file -Dfile=&quot;pdfbox-app-2.0.27.jar&quot; -DgroupId=&quot;org.apache.pdfbox&quot; -DartifactId=&quot;pdfbox&quot; -Dversion=2.0.27 -Dpackaging=jar\n[INFO] Scanning for projects...\n[INFO]\n[INFO] ------------------&lt; org.apache.maven:standalone-pom &gt;-------------------\n[INFO] Building Maven Stub Project (No POM) 1\n[INFO] --------------------------------[ pom ]---------------------------------\n[INFO]\n[INFO] --- maven-install-plugin:2.4:install-file (default-cli) @ standalone-pom ---\n[INFO] Installing E:\\hg\\project\\MyName\\src\\main\\pdfbox-app-2.0.27.jar to C:\\Users\\ME\\.m2\\repository\\org\\apache\\pdfbox\\pdfbox\\2.0.27\\pdfbox-2.0.27.jar\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.328 s\n[INFO] Finished at: 2023-01-31T10:25:05-08:00\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>Here is the section of my pom.xml</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n            &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\n            &lt;version&gt;2.0.27&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I've gone through all of these suggestions to no avail:</p>\n<p><code>https://stackoverflow.com/questions/17693040/adding-external-jar-to-maven-project-in-netbeans</code></p>\n<p>Here is the relevant section of my Project's dependencies:</p>\n<p><a href=\"https://i.stack.imgur.com/yDY4u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yDY4u.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there a log somewhere where I can see what Netbeans did behind the curtain, especially if it encountered an error? What else can I try?</p>\n<p>Thanks</p>\n"},{"tags":["java","sql","postgresql","spring-boot","hibernate"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1674637556,"post_id":75231658,"comment_id":132754783,"body_markdown":"Does this answer your question? [Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags](https://stackoverflow.com/questions/4334970/hibernate-throws-multiplebagfetchexception-cannot-simultaneously-fetch-multipl)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4334970/hibernate-throws-multiplebagfetchexception-cannot-simultaneously-fetch-multipl\">Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags</a>"},{"owner":{"account_id":2617457,"reputation":33,"user_id":2266229,"display_name":"Alex A"},"score":0,"creation_date":1674637795,"post_id":75231658,"comment_id":132754841,"body_markdown":"It is similar in some ways, but is different, because here I want to fetch tree structure of object that is parent and child simultaneously.","body":"It is similar in some ways, but is different, because here I want to fetch tree structure of object that is parent and child simultaneously."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1674638195,"post_id":75231658,"comment_id":132754975,"body_markdown":"It doesn&#39;t matter how the structure looks exactly. The issue is about multiple `@OneToMany` with list type","body":"It doesn&#39;t matter how the structure looks exactly. The issue is about multiple <code>@OneToMany</code> with list type"},{"owner":{"account_id":2617457,"reputation":33,"user_id":2266229,"display_name":"Alex A"},"score":0,"creation_date":1674639418,"post_id":75231658,"comment_id":132755359,"body_markdown":"Updated the post with my try of using Vlad&#39;s proposal. It does matter actually in my point of view.","body":"Updated the post with my try of using Vlad&#39;s proposal. It does matter actually in my point of view."},{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1674642208,"post_id":75231658,"comment_id":132756309,"body_markdown":"When I have to store a tree un a DB, I usually add a relation to the root node of the tree on all nodes. This helps loading in the whole tree with a single request and do the rest of the processing in memory. Of course this is only possible if the number of nodes is reasonable.","body":"When I have to store a tree un a DB, I usually add a relation to the root node of the tree on all nodes. This helps loading in the whole tree with a single request and do the rest of the processing in memory. Of course this is only possible if the number of nodes is reasonable."},{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1674646093,"post_id":75231658,"comment_id":132757554,"body_markdown":"This is particularly usefull when you store several independent trees in the same table of the db.","body":"This is particularly usefull when you store several independent trees in the same table of the db."},{"owner":{"account_id":2617457,"reputation":33,"user_id":2266229,"display_name":"Alex A"},"score":0,"creation_date":1674646241,"post_id":75231658,"comment_id":132757600,"body_markdown":"The overall process is something like this\n1. Parse and save xml file\n2. Create or update unique tree table&#39;s nodes and relations with data from xml table\n\nTo fill in unique tree table I have to match trees from new incoming data with data already presented in the unique tree table.","body":"The overall process is something like this 1. Parse and save xml file 2. Create or update unique tree table&#39;s nodes and relations with data from xml table  To fill in unique tree table I have to match trees from new incoming data with data already presented in the unique tree table."}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675363221,"creation_date":1675363221,"answer_id":75327624,"question_id":75231658,"body_markdown":"You will need a recursive CTE to model this, and since Hibernate has no support for a recursive fetch join, you will also have to build the object graph yourself.\r\n\r\nThe idea is to write a HQL query like this:\r\n\r\n```sql\r\nwith nodes as (\r\n    select :rootId as id, null as parentId\r\n    from (values (1)) t(x)\r\n\r\n    union all\r\n\r\n    select c.id as id, xo.id as parentId\r\n    from XmlObject xo \r\n    join nodes n on xo.id = n.id \r\n    join xo.childObjects c\r\n)\r\nselect o, n.parentId\r\nfrom nodes n\r\njoin XmlObject o on o.id = n.id\r\nleft join fetch o.xmlPeriods \r\n```\r\n\r\nYou will need Hibernate 6.2 for that or [Blaze-Persistence][1].\r\n\r\nThe result is a list of all nodes, you will then only have to wire them up correctly\r\n\r\n  [1]: https://persistence.blazebit.com/documentation/1.6/core/manual/en_US/#recursive-ctes","title":"Join Fetch same object to N level and join fetch different object on N level","body":"<p>You will need a recursive CTE to model this, and since Hibernate has no support for a recursive fetch join, you will also have to build the object graph yourself.</p>\n<p>The idea is to write a HQL query like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>with nodes as (\n    select :rootId as id, null as parentId\n    from (values (1)) t(x)\n\n    union all\n\n    select c.id as id, xo.id as parentId\n    from XmlObject xo \n    join nodes n on xo.id = n.id \n    join xo.childObjects c\n)\nselect o, n.parentId\nfrom nodes n\njoin XmlObject o on o.id = n.id\nleft join fetch o.xmlPeriods \n</code></pre>\n<p>You will need Hibernate 6.2 for that or <a href=\"https://persistence.blazebit.com/documentation/1.6/core/manual/en_US/#recursive-ctes\" rel=\"nofollow noreferrer\">Blaze-Persistence</a>.</p>\n<p>The result is a list of all nodes, you will then only have to wire them up correctly</p>\n"}],"owner":{"account_id":2617457,"reputation":33,"user_id":2266229,"display_name":"Alex A"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75327624,"answer_count":1,"score":0,"last_activity_date":1675363221,"creation_date":1674637314,"question_id":75231658,"body_markdown":"So I want to fetch the whole XmlObject with tree structure. The object has parent-child OneToMany relation childObjects to himself and OneToMany relation to xmlPeriods. xmlPeriods are at last level only.\r\n\r\nTree is something like this.\r\n\r\n```\r\nXmlObject\r\n\r\n  |_XmlObject\r\n\r\n     |_XmlObject\r\n\r\n       |_XmlObject\r\n\r\n         |_XmlPeriod\r\n```\r\n\r\nHere are my Entity&#39;s relations.\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;xml_object&quot;)\r\npublic class XmlObject implements Serializable {\r\n\r\n    @Fetch(value = FetchMode.SELECT)\r\n    @BatchSize(size = 50)\r\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true)\r\n    @JoinTable(\r\n            name = &quot;xml_object_tree&quot;,\r\n            joinColumns = {@JoinColumn(name = &quot;parent_id&quot;, referencedColumnName = &quot;id&quot;)},\r\n            inverseJoinColumns = {@JoinColumn(name = &quot;child_id&quot;, referencedColumnName = &quot;id&quot;)}\r\n    )\r\n    @ToString.Exclude\r\n    private List&lt;XmlObject&gt; childObjects;\r\n\r\n    @Fetch(value = FetchMode.SUBSELECT) // FetchMode.JOIN loads eagerly always\r\n    @OneToMany(cascade = {CascadeType.ALL}, fetch = FetchType.LAZY, orphanRemoval = false)\r\n    @JoinColumn(name = &quot;xml_object_id&quot;, nullable = false)\r\n    @ToString.Exclude\r\n    private List&lt;XmlPeriod&gt; xmlPeriods;\r\n```\r\n\r\nI&#39;ve started with this query.\r\n\r\n```\r\n    @Query(value = &quot;select xo.id from XmlObject xo &quot; +\r\n            &quot; where xo.objectType = :type and bw_and(xo.status, :status) = 0&quot;)\r\n    Optional&lt;List&lt;Long&gt;&gt; findAllObjectsIdsOfTypeAndNotInStatusesAndNotDeletedN(\r\n            ObjectTypeEnum type, Integer status, Pageable pageable);\r\n```\r\n\r\n*bw_and* - it is bitwise *and* applied via custom Postgres dialect\r\n\r\nI don&#39;t want to set fetch = FetchType.EAGER, I don&#39;t want to hide the problem under Set to suppress error below\r\n\r\n```\r\ncannot simultaneously fetch multiple bags\r\n```\r\n\r\nI can&#39;t use two query [solution](https://stackoverflow.com/a/51055523/2266229) from Vlad Mihalcea because the object has reference to himself and the xmlPeriod are on the last level.\r\n\r\n\r\nFrom that post I can&#39;t understand how to request the full tree of childs. I can use the code below to request the 1st level, but how to request N?\r\n\r\n```\r\n    private Set&lt;XmlObject&gt; getXOToProcessVM() {\r\n\r\n        List&lt;XmlObject&gt; xmlObjects = entityManager.createQuery(\r\n                        &quot; select distinct p &quot; +\r\n                                &quot; from XmlObject p &quot; +\r\n                                &quot; left join fetch p.childObjects &quot; +\r\n                                &quot; where p.id between :minId and :maxId&quot;, XmlObject.class)\r\n                .setParameter(&quot;minId&quot;, 1L)\r\n                .setParameter(&quot;maxId&quot;, 50L)\r\n                .setHint(QueryHints.PASS_DISTINCT_THROUGH, false)\r\n                .getResultList();\r\n\r\n        xmlObjects = entityManager.createQuery(\r\n                        &quot; select distinct p &quot; +\r\n                                &quot; from XmlObject p &quot; +\r\n                                &quot; left join fetch p.childObjects &quot; +\r\n                                &quot; where p in :xmlObjects&quot;, XmlObject.class)\r\n                .setParameter(&quot;xmlObjects&quot;, xmlObjects)\r\n                .setHint(QueryHints.PASS_DISTINCT_THROUGH, false)\r\n                .getResultList();\r\n\r\n        return Set.copyOf(xmlObjects);\r\n        \r\n    }\r\n```\r\n\r\n\r\n\r\n\r\nBesides of other tries, I&#39;ve tried this Native Query in Repository, that seemed to be what I really need from Postgres perspective\r\n\r\n```\r\n    @Query(value = &quot;select DISTINCT * from xml_object message &quot; +\r\n            &quot; left join xml_object_tree tree1 on message.id = tree1.parent_id &quot; +\r\n            &quot; left join xml_object sender on sender.id = tree1.child_id &quot; +\r\n            &quot; left join xml_object_tree tree2 on sender.id = tree2.parent_id &quot; +\r\n            &quot; left join xml_object area on area.id = tree2.child_id &quot; +\r\n            &quot; left join xml_object_tree tree3 on area.id = tree3.parent_id &quot; +\r\n            &quot; left join xml_object measuringPoint on measuringPoint.id = tree3.child_id &quot; +\r\n            &quot; left join xml_object_tree tree4 on measuringPoint.id = tree4.parent_id &quot; +\r\n            &quot; left join xml_object measuringChannel on measuringChannel.id = tree4.child_id &quot; +\r\n            &quot; left join xml_period period on period.xml_object_id = measuringChannel.id &quot; +\r\n            &quot; where message.id IN :ids&quot;, nativeQuery = true)\r\n    Set&lt;XmlObject&gt; findAllObjectsByIdsFetchChildsAndPeriods(Iterable&lt;Long&gt; ids);\r\n```\r\n\r\nBut it returns several rows for each object cause of joins, which is unacceptable.\r\n\r\nI&#39;ve tried this Query from Hibernate perspective, but it fetch only first level of childs, but I need all tree plus XmlPeriods from the last level. Can&#39;t use several JOIN FETCH cause of Cartesian Product(Set) and JPA restrictions(List)\r\n\r\n```\r\n    @Query(value = &quot;select xo from XmlObject xo &quot; +\r\n            &quot; join fetch xo.childObjects senders &quot; +\r\n            &quot; where xo.id IN :ids&quot;)\r\n    List&lt;XmlObject&gt; findAllObjectsByIdsFetchingChilds(Iterable&lt;Long&gt; ids);\r\n```\r\n\r\nI","title":"Join Fetch same object to N level and join fetch different object on N level","body":"<p>So I want to fetch the whole XmlObject with tree structure. The object has parent-child OneToMany relation childObjects to himself and OneToMany relation to xmlPeriods. xmlPeriods are at last level only.</p>\n<p>Tree is something like this.</p>\n<pre><code>XmlObject\n\n  |_XmlObject\n\n     |_XmlObject\n\n       |_XmlObject\n\n         |_XmlPeriod\n</code></pre>\n<p>Here are my Entity's relations.</p>\n<pre><code>@Entity\n@Table(name = &quot;xml_object&quot;)\npublic class XmlObject implements Serializable {\n\n    @Fetch(value = FetchMode.SELECT)\n    @BatchSize(size = 50)\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true)\n    @JoinTable(\n            name = &quot;xml_object_tree&quot;,\n            joinColumns = {@JoinColumn(name = &quot;parent_id&quot;, referencedColumnName = &quot;id&quot;)},\n            inverseJoinColumns = {@JoinColumn(name = &quot;child_id&quot;, referencedColumnName = &quot;id&quot;)}\n    )\n    @ToString.Exclude\n    private List&lt;XmlObject&gt; childObjects;\n\n    @Fetch(value = FetchMode.SUBSELECT) // FetchMode.JOIN loads eagerly always\n    @OneToMany(cascade = {CascadeType.ALL}, fetch = FetchType.LAZY, orphanRemoval = false)\n    @JoinColumn(name = &quot;xml_object_id&quot;, nullable = false)\n    @ToString.Exclude\n    private List&lt;XmlPeriod&gt; xmlPeriods;\n</code></pre>\n<p>I've started with this query.</p>\n<pre><code>    @Query(value = &quot;select xo.id from XmlObject xo &quot; +\n            &quot; where xo.objectType = :type and bw_and(xo.status, :status) = 0&quot;)\n    Optional&lt;List&lt;Long&gt;&gt; findAllObjectsIdsOfTypeAndNotInStatusesAndNotDeletedN(\n            ObjectTypeEnum type, Integer status, Pageable pageable);\n</code></pre>\n<p><em>bw_and</em> - it is bitwise <em>and</em> applied via custom Postgres dialect</p>\n<p>I don't want to set fetch = FetchType.EAGER, I don't want to hide the problem under Set to suppress error below</p>\n<pre><code>cannot simultaneously fetch multiple bags\n</code></pre>\n<p>I can't use two query <a href=\"https://stackoverflow.com/a/51055523/2266229\">solution</a> from Vlad Mihalcea because the object has reference to himself and the xmlPeriod are on the last level.</p>\n<p>From that post I can't understand how to request the full tree of childs. I can use the code below to request the 1st level, but how to request N?</p>\n<pre><code>    private Set&lt;XmlObject&gt; getXOToProcessVM() {\n\n        List&lt;XmlObject&gt; xmlObjects = entityManager.createQuery(\n                        &quot; select distinct p &quot; +\n                                &quot; from XmlObject p &quot; +\n                                &quot; left join fetch p.childObjects &quot; +\n                                &quot; where p.id between :minId and :maxId&quot;, XmlObject.class)\n                .setParameter(&quot;minId&quot;, 1L)\n                .setParameter(&quot;maxId&quot;, 50L)\n                .setHint(QueryHints.PASS_DISTINCT_THROUGH, false)\n                .getResultList();\n\n        xmlObjects = entityManager.createQuery(\n                        &quot; select distinct p &quot; +\n                                &quot; from XmlObject p &quot; +\n                                &quot; left join fetch p.childObjects &quot; +\n                                &quot; where p in :xmlObjects&quot;, XmlObject.class)\n                .setParameter(&quot;xmlObjects&quot;, xmlObjects)\n                .setHint(QueryHints.PASS_DISTINCT_THROUGH, false)\n                .getResultList();\n\n        return Set.copyOf(xmlObjects);\n        \n    }\n</code></pre>\n<p>Besides of other tries, I've tried this Native Query in Repository, that seemed to be what I really need from Postgres perspective</p>\n<pre><code>    @Query(value = &quot;select DISTINCT * from xml_object message &quot; +\n            &quot; left join xml_object_tree tree1 on message.id = tree1.parent_id &quot; +\n            &quot; left join xml_object sender on sender.id = tree1.child_id &quot; +\n            &quot; left join xml_object_tree tree2 on sender.id = tree2.parent_id &quot; +\n            &quot; left join xml_object area on area.id = tree2.child_id &quot; +\n            &quot; left join xml_object_tree tree3 on area.id = tree3.parent_id &quot; +\n            &quot; left join xml_object measuringPoint on measuringPoint.id = tree3.child_id &quot; +\n            &quot; left join xml_object_tree tree4 on measuringPoint.id = tree4.parent_id &quot; +\n            &quot; left join xml_object measuringChannel on measuringChannel.id = tree4.child_id &quot; +\n            &quot; left join xml_period period on period.xml_object_id = measuringChannel.id &quot; +\n            &quot; where message.id IN :ids&quot;, nativeQuery = true)\n    Set&lt;XmlObject&gt; findAllObjectsByIdsFetchChildsAndPeriods(Iterable&lt;Long&gt; ids);\n</code></pre>\n<p>But it returns several rows for each object cause of joins, which is unacceptable.</p>\n<p>I've tried this Query from Hibernate perspective, but it fetch only first level of childs, but I need all tree plus XmlPeriods from the last level. Can't use several JOIN FETCH cause of Cartesian Product(Set) and JPA restrictions(List)</p>\n<pre><code>    @Query(value = &quot;select xo from XmlObject xo &quot; +\n            &quot; join fetch xo.childObjects senders &quot; +\n            &quot; where xo.id IN :ids&quot;)\n    List&lt;XmlObject&gt; findAllObjectsByIdsFetchingChilds(Iterable&lt;Long&gt; ids);\n</code></pre>\n<p>I</p>\n"},{"tags":["java","spring","server","internals"],"answers":[{"tags":[],"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675363189,"creation_date":1675363189,"answer_id":75327613,"question_id":75327295,"body_markdown":"You can use `@Size` annotation for string length min/max value. It can&#39;t be used for `ProviderEnum` as exception message indicates.\r\n\r\nhttps://docs.jboss.org/hibernate/validator/3.1/reference/en/html_single/","title":"I have an Interface of which an openApi output, I override some methods (Get and Put) of it in my controller. I can&#39;t send request with those methods","body":"<p>You can use <code>@Size</code> annotation for string length min/max value. It can't be used for <code>ProviderEnum</code> as exception message indicates.</p>\n<p><a href=\"https://docs.jboss.org/hibernate/validator/3.1/reference/en/html_single/\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/validator/3.1/reference/en/html_single/</a></p>\n"}],"owner":{"account_id":26444600,"reputation":13,"user_id":20088596,"display_name":"gkhand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75327613,"answer_count":1,"score":1,"last_activity_date":1675363189,"creation_date":1675361473,"question_id":75327295,"body_markdown":"In my project, we use api first design approach and we have some autocreated classes/interfaces as an output of openApi. I override a GET and a PUT method in this interface, then I send requests through those methods on Postman and/or swagger, I receive below errors in postman and console:\r\n{\r\n    &quot;timestamp&quot;: &quot;2023-02-02T17:25:26.548+00:00&quot;,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;path&quot;: &quot;/con&quot;\r\n}\r\n\r\nand\r\n\r\njavax.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint &#39;javax.validation.constraints.Size&#39; validating type &#39;com.xxxxx.xxxxxx.swagger.model.ConDto$ProviderEnum&#39;. Check configuration for &#39;provider&#39; \r\n\r\nAfter that I have created my manual HTTP methods in my controller, and they work correct. I really spent really long time on this, however I am still away from the solution. Please excuse me since I am a junior Java Spring Boot Developer.\r\n\r\n\r\n\r\nI created replica HTTP methods and worked on them, they work correct, so I cant get why the one coming from Interface does not work.","title":"I have an Interface of which an openApi output, I override some methods (Get and Put) of it in my controller. I can&#39;t send request with those methods","body":"<p>In my project, we use api first design approach and we have some autocreated classes/interfaces as an output of openApi. I override a GET and a PUT method in this interface, then I send requests through those methods on Postman and/or swagger, I receive below errors in postman and console:\n{\n&quot;timestamp&quot;: &quot;2023-02-02T17:25:26.548+00:00&quot;,\n&quot;status&quot;: 500,\n&quot;error&quot;: &quot;Internal Server Error&quot;,\n&quot;path&quot;: &quot;/con&quot;\n}</p>\n<p>and</p>\n<p>javax.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'javax.validation.constraints.Size' validating type 'com.xxxxx.xxxxxx.swagger.model.ConDto$ProviderEnum'. Check configuration for 'provider'</p>\n<p>After that I have created my manual HTTP methods in my controller, and they work correct. I really spent really long time on this, however I am still away from the solution. Please excuse me since I am a junior Java Spring Boot Developer.</p>\n<p>I created replica HTTP methods and worked on them, they work correct, so I cant get why the one coming from Interface does not work.</p>\n"},{"tags":["java","android","bitmap","start-activity"],"comments":[{"owner":{"account_id":6919952,"reputation":4216,"user_id":5312929,"accept_rate":93,"display_name":"Nilabja"},"score":0,"creation_date":1675331036,"post_id":75320435,"comment_id":132907052,"body_markdown":"when using activityResultLauncher  you can try something like this intent.getData().getPath()  (first check for null )","body":"when using activityResultLauncher  you can try something like this intent.getData().getPath()  (first check for null )"}],"answers":[{"tags":[],"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675328185,"creation_date":1675328185,"answer_id":75320686,"question_id":75320435,"body_markdown":"In ```NewStartActivityForResult``` , just manage code as mentioned below\r\n\r\nFrom\r\n\r\n```\r\nUri imageUriPath = GotResults.getData();\r\n```\r\n\r\nTo\r\n```\r\nimageUriPath = GotResults.getData();\r\n```\r\n\r\nYou are declaring and initalising variable instead of only initalising ","title":"Uploading an image using activityResultLauncher , convert URI into bitmap","body":"<p>In <code>NewStartActivityForResult</code> , just manage code as mentioned below</p>\n<p>From</p>\n<pre><code>Uri imageUriPath = GotResults.getData();\n</code></pre>\n<p>To</p>\n<pre><code>imageUriPath = GotResults.getData();\n</code></pre>\n<p>You are declaring and initalising variable instead of only initalising</p>\n"}],"owner":{"account_id":27618635,"reputation":5,"user_id":21080209,"display_name":"Pavlos Katsioulis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75320686,"answer_count":1,"score":0,"last_activity_date":1675362910,"creation_date":1675326739,"question_id":75320435,"body_markdown":"I am very new to this, and I am trying to put the pieces together so I will get the result I want. I don&#39;t really understand what I am doing wrong. The problem is when I am trying to put a profile photo, by the time I am pressing the selected photo to show on image view, the app crashes and I got a message like &quot;URI cannot be null&quot;.\r\n\r\n\r\n\r\n```\r\npublic class Profile extends AppCompatActivity {\r\n\r\nprivate ImageView ProfileImg;\r\n\r\nprivate String Tag;\r\n\r\nprivate Uri imagePath = null;\r\n\r\nprivate Uri imageUriPath;\r\n\r\nProgressBar progressBar;\r\n\r\n\r\n\r\n\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_profile);\r\n    progressBar = findViewById(R.id.progressBar);\r\n    Button btnUpload = findViewById(R.id.btnUploadPhoto);\r\n    Button btnLogOut = findViewById(R.id.btnLogOut);\r\n    ProfileImg = findViewById(R.id.profile_img);\r\n\r\n\r\n    /* START ACTIVITY FOR RESULT*/\r\n\r\n\r\n\r\n    btnLogOut.setOnClickListener(view -&gt; {\r\n\r\n        FirebaseAuth.getInstance().signOut();\r\n        startActivity(new Intent(Profile.this,MainActivity.class).setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK|Intent.FLAG_ACTIVITY_CLEAR_TOP));\r\n        finish();\r\n\r\n    });\r\n\r\n    ProfileImg.setOnClickListener(view -&gt; {\r\n\r\n        Intent photoIntent = new Intent(Intent.ACTION_PICK);\r\n        photoIntent.setType(&quot;image/*&quot;);\r\n        NewStartActivityForResult.launch(photoIntent);\r\n\r\n    });\r\n    \r\n    btnUpload.setOnClickListener(view -&gt; {\r\n        \r\n        uploadImage();\r\n        \r\n    });\r\n\r\n\r\n\r\n    /*Select photo from device*/\r\n\r\n\r\n}\r\n\r\nprivate ActivityResultLauncher&lt;Intent&gt; NewStartActivityForResult = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), result -&gt; {\r\n\r\n    if (result.getResultCode() == Activity.RESULT_OK){\r\n\r\n        Intent GotResults = result.getData();\r\n\r\n        if(GotResults == null)\r\n        {\r\n            Log.d(Tag,&quot;InitializedActivityLaunchers: intent data is null&quot;);\r\n            return;\r\n        }\r\n        Uri imageUriPath = GotResults.getData();\r\n        GetImageInView();\r\n    }\r\n\r\n\r\n});\r\n\r\nprivate void uploadImage() {\r\n\r\n    FirebaseStorage.getInstance().getReference(&quot;images/&quot; + UUID.randomUUID().toString()).putFile(imagePath).addOnCompleteListener(new OnCompleteListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) {\r\n            if (task.isSuccessful())\r\n            {\r\n                Toast.makeText(Profile.this, &quot;Image Uploaded!&quot;,Toast.LENGTH_SHORT).show();\r\n            }else {\r\n                Toast.makeText(Profile.this, &quot;Something went Wrong!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    });\r\n\r\n}\r\n\r\nprivate void GetImageInView(){\r\n\r\n    Bitmap bitmap = null;\r\n    try{\r\n        bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(),imageUriPath);\r\n    }catch (IOException e){\r\n        e.printStackTrace();\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nI first had a problem with startOnActivityResult in which I had a line through the command saying that is deprecated and MediaStore.Images.Media.getBitmap in which I had the same &quot;error&quot;, deprecated on getBitmap, and I tried to use the new methods watching tutorials and other forums, but I think I cannot connect the activityResultLauncher with Bitmap because the output of activityResultLauncher is Intent and Bitmap needs URI.","title":"Uploading an image using activityResultLauncher , convert URI into bitmap","body":"<p>I am very new to this, and I am trying to put the pieces together so I will get the result I want. I don't really understand what I am doing wrong. The problem is when I am trying to put a profile photo, by the time I am pressing the selected photo to show on image view, the app crashes and I got a message like &quot;URI cannot be null&quot;.</p>\n<pre><code>public class Profile extends AppCompatActivity {\n\nprivate ImageView ProfileImg;\n\nprivate String Tag;\n\nprivate Uri imagePath = null;\n\nprivate Uri imageUriPath;\n\nProgressBar progressBar;\n\n\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_profile);\n    progressBar = findViewById(R.id.progressBar);\n    Button btnUpload = findViewById(R.id.btnUploadPhoto);\n    Button btnLogOut = findViewById(R.id.btnLogOut);\n    ProfileImg = findViewById(R.id.profile_img);\n\n\n    /* START ACTIVITY FOR RESULT*/\n\n\n\n    btnLogOut.setOnClickListener(view -&gt; {\n\n        FirebaseAuth.getInstance().signOut();\n        startActivity(new Intent(Profile.this,MainActivity.class).setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK|Intent.FLAG_ACTIVITY_CLEAR_TOP));\n        finish();\n\n    });\n\n    ProfileImg.setOnClickListener(view -&gt; {\n\n        Intent photoIntent = new Intent(Intent.ACTION_PICK);\n        photoIntent.setType(&quot;image/*&quot;);\n        NewStartActivityForResult.launch(photoIntent);\n\n    });\n    \n    btnUpload.setOnClickListener(view -&gt; {\n        \n        uploadImage();\n        \n    });\n\n\n\n    /*Select photo from device*/\n\n\n}\n\nprivate ActivityResultLauncher&lt;Intent&gt; NewStartActivityForResult = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), result -&gt; {\n\n    if (result.getResultCode() == Activity.RESULT_OK){\n\n        Intent GotResults = result.getData();\n\n        if(GotResults == null)\n        {\n            Log.d(Tag,&quot;InitializedActivityLaunchers: intent data is null&quot;);\n            return;\n        }\n        Uri imageUriPath = GotResults.getData();\n        GetImageInView();\n    }\n\n\n});\n\nprivate void uploadImage() {\n\n    FirebaseStorage.getInstance().getReference(&quot;images/&quot; + UUID.randomUUID().toString()).putFile(imagePath).addOnCompleteListener(new OnCompleteListener&lt;UploadTask.TaskSnapshot&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) {\n            if (task.isSuccessful())\n            {\n                Toast.makeText(Profile.this, &quot;Image Uploaded!&quot;,Toast.LENGTH_SHORT).show();\n            }else {\n                Toast.makeText(Profile.this, &quot;Something went Wrong!&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    });\n\n}\n\nprivate void GetImageInView(){\n\n    Bitmap bitmap = null;\n    try{\n        bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(),imageUriPath);\n    }catch (IOException e){\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n<p>I first had a problem with startOnActivityResult in which I had a line through the command saying that is deprecated and MediaStore.Images.Media.getBitmap in which I had the same &quot;error&quot;, deprecated on getBitmap, and I tried to use the new methods watching tutorials and other forums, but I think I cannot connect the activityResultLauncher with Bitmap because the output of activityResultLauncher is Intent and Bitmap needs URI.</p>\n"},{"tags":["java","reactjs","spring-boot","oauth-2.0"],"owner":{"account_id":22257965,"reputation":59,"user_id":16489856,"display_name":"Centuri0n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675362865,"creation_date":1675359465,"question_id":75326963,"body_markdown":"I am new to reactJS so perhaps the question I am making is stupid. However, I have a springboot service configured to perform **authorization code flow**, it is responsible for exchanging the code for an access token, creating an http only session cookie and sending it back to the react app, where each subsequent requests will contain this cookie.\r\nHere is the code of the backend:\r\n```\r\n    @Bean\r\n    SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\r\n\r\n        http.authorizeExchange(exchanges -&gt; exchanges.anyExchange().authenticated())\r\n                .oauth2Login()//Setting Oauth2Login\r\n                .authenticationSuccessHandler(new RedirectServerAuthenticationSuccessHandler(&quot;http://localhost:3000/&quot;))\r\n                .and()\r\n                .logout(logout -&gt; logout //Setting Oauth2Logout\r\n                        .logoutHandler(logoutHandler())\r\n                        .logoutSuccessHandler(oidcLogoutSuccessHandler()));\r\n        //.csrf(csrf -&gt; csrf.csrfTokenRepository(CookieServerCsrfTokenRepository.withHttpOnlyFalse())); //Enabling csrf (all post/patch/put/... requests will need a csrf token in X-XSRF-TOKEN header\r\n        http.csrf().disable();\r\n        return http.build();\r\n\r\n    }\r\n\r\n    private ServerLogoutSuccessHandler oidcLogoutSuccessHandler() {\r\n        OidcClientInitiatedServerLogoutSuccessHandler oidcLogoutSuccessHandler =\r\n                new OidcClientInitiatedServerLogoutSuccessHandler(this.clientRegistrationRepository);\r\n        // Sets the location that the End-User&#39;s User Agent will be redirected to\r\n        // after the logout has been performed at the Provider\r\n        oidcLogoutSuccessHandler.setPostLogoutRedirectUri(&quot;http://localhost:3000/login&quot;);\r\n        return oidcLogoutSuccessHandler;\r\n    }\r\n\r\n    private DelegatingServerLogoutHandler logoutHandler() {\r\n        //Invalidate session on logout (invalidate session on keycloak and deletes sessionid from redis cache)\r\n        return new DelegatingServerLogoutHandler(\r\n                new SecurityContextServerLogoutHandler(), new WebSessionServerLogoutHandler());\r\n    }\r\n```\r\nI simply want to use Keycloak&#39;s login UI, so that when a user accesses the webapp, it gets redirected to that login UI and on success sets the cookie: http://localhost:8080/auth/realms/myrealm. How can i achieve this in reactJS, preferably using useEffect hook?\r\n\r\nUPDATE\r\n\r\nI found a way, but it seems like a dirty workaround, what do you guys think?\r\n```\r\nfunction RedirectExample() {\r\n  window.location.replace(&#39;http://localhost:8080/auth/realms/myrealm&#39;);\r\n  return &lt;&gt;&lt;/&gt;;\r\n}\r\n\r\nfunction App() {\r\n  return (\r\n    &lt;div&gt;\r\n      &lt;RedirectExample/&gt;\r\n    &lt;/div&gt;\r\n  );\r\n}\r\n```\r\n ","title":"Oauth2 Login ReactJS and Springboot backend","body":"<p>I am new to reactJS so perhaps the question I am making is stupid. However, I have a springboot service configured to perform <strong>authorization code flow</strong>, it is responsible for exchanging the code for an access token, creating an http only session cookie and sending it back to the react app, where each subsequent requests will contain this cookie.\nHere is the code of the backend:</p>\n<pre><code>    @Bean\n    SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\n\n        http.authorizeExchange(exchanges -&gt; exchanges.anyExchange().authenticated())\n                .oauth2Login()//Setting Oauth2Login\n                .authenticationSuccessHandler(new RedirectServerAuthenticationSuccessHandler(&quot;http://localhost:3000/&quot;))\n                .and()\n                .logout(logout -&gt; logout //Setting Oauth2Logout\n                        .logoutHandler(logoutHandler())\n                        .logoutSuccessHandler(oidcLogoutSuccessHandler()));\n        //.csrf(csrf -&gt; csrf.csrfTokenRepository(CookieServerCsrfTokenRepository.withHttpOnlyFalse())); //Enabling csrf (all post/patch/put/... requests will need a csrf token in X-XSRF-TOKEN header\n        http.csrf().disable();\n        return http.build();\n\n    }\n\n    private ServerLogoutSuccessHandler oidcLogoutSuccessHandler() {\n        OidcClientInitiatedServerLogoutSuccessHandler oidcLogoutSuccessHandler =\n                new OidcClientInitiatedServerLogoutSuccessHandler(this.clientRegistrationRepository);\n        // Sets the location that the End-User's User Agent will be redirected to\n        // after the logout has been performed at the Provider\n        oidcLogoutSuccessHandler.setPostLogoutRedirectUri(&quot;http://localhost:3000/login&quot;);\n        return oidcLogoutSuccessHandler;\n    }\n\n    private DelegatingServerLogoutHandler logoutHandler() {\n        //Invalidate session on logout (invalidate session on keycloak and deletes sessionid from redis cache)\n        return new DelegatingServerLogoutHandler(\n                new SecurityContextServerLogoutHandler(), new WebSessionServerLogoutHandler());\n    }\n</code></pre>\n<p>I simply want to use Keycloak's login UI, so that when a user accesses the webapp, it gets redirected to that login UI and on success sets the cookie: http://localhost:8080/auth/realms/myrealm. How can i achieve this in reactJS, preferably using useEffect hook?</p>\n<p>UPDATE</p>\n<p>I found a way, but it seems like a dirty workaround, what do you guys think?</p>\n<pre><code>function RedirectExample() {\n  window.location.replace('http://localhost:8080/auth/realms/myrealm');\n  return &lt;&gt;&lt;/&gt;;\n}\n\nfunction App() {\n  return (\n    &lt;div&gt;\n      &lt;RedirectExample/&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>\n"},{"tags":["java","mongodb","mongotemplate"],"comments":[{"owner":{"account_id":9072254,"reputation":1014,"user_id":6754986,"display_name":"LinFelix"},"score":0,"creation_date":1675349615,"post_id":75321201,"comment_id":132913600,"body_markdown":"Can you add what you have tried so far?","body":"Can you add what you have tried so far?"}],"answers":[{"tags":[],"owner":{"account_id":18482495,"reputation":14167,"user_id":13464279,"display_name":"J.F."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675334123,"creation_date":1675334123,"answer_id":75321861,"question_id":75321201,"body_markdown":"Simply use:\r\n\r\n```java\r\nAggregation.group(&quot;somefield.id&quot;).max(&quot;_id&quot;).as(&quot;xyz&quot;);\r\n```\r\n\r\nAnd you can get the data with something like this:\r\n\r\n```java\r\n// Create aggregation step\r\nAggregateOperation groupOperation = Aggregation.group(&quot;somefield.id&quot;).max(&quot;_id&quot;).as(&quot;xyz&quot;);\r\n\r\n// Create aggregation object\r\nAggregation aggregation = Aggregation.newAggregation(groupOperation);\r\n\r\n// Run the aggregate query\r\nAggregationResults&lt;YourClass&gt; result = mongoTemplate.aggregate(aggregation, &quot;mycollection&quot;, YourClass.class);\r\n\r\n// Get result as list\r\nList&lt;YourClass&gt; listResult = result.getMappedResults();\r\n```","title":"MongoTemplate : group by on multiple fields with max operator","body":"<p>Simply use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Aggregation.group(&quot;somefield.id&quot;).max(&quot;_id&quot;).as(&quot;xyz&quot;);\n</code></pre>\n<p>And you can get the data with something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Create aggregation step\nAggregateOperation groupOperation = Aggregation.group(&quot;somefield.id&quot;).max(&quot;_id&quot;).as(&quot;xyz&quot;);\n\n// Create aggregation object\nAggregation aggregation = Aggregation.newAggregation(groupOperation);\n\n// Run the aggregate query\nAggregationResults&lt;YourClass&gt; result = mongoTemplate.aggregate(aggregation, &quot;mycollection&quot;, YourClass.class);\n\n// Get result as list\nList&lt;YourClass&gt; listResult = result.getMappedResults();\n</code></pre>\n"}],"owner":{"account_id":27683769,"reputation":1,"user_id":21131939,"display_name":"Johnson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675362865,"creation_date":1675330968,"question_id":75321201,"body_markdown":"Want to convert following query to Java Mongo template aggregation but don&#39;t know how to write multiple fields in group operator with max operator condition.\r\n```\r\ndb.getCollection(&#39;mycollection&#39;).aggregate([\r\n  {\r\n    $group: {\r\n      _id: &quot;$somefield.$id&quot;,\r\n      xyz: {\r\n       &quot;$max&quot;: &quot;$_id&quot;\r\n      }\r\n    }\r\n  }\r\n])\r\n```\r\ntried to find on mongodb forums, and other website but no solution.","title":"MongoTemplate : group by on multiple fields with max operator","body":"<p>Want to convert following query to Java Mongo template aggregation but don't know how to write multiple fields in group operator with max operator condition.</p>\n<pre><code>db.getCollection('mycollection').aggregate([\n  {\n    $group: {\n      _id: &quot;$somefield.$id&quot;,\n      xyz: {\n       &quot;$max&quot;: &quot;$_id&quot;\n      }\n    }\n  }\n])\n</code></pre>\n<p>tried to find on mongodb forums, and other website but no solution.</p>\n"},{"tags":["java","generics","type-inference","jls"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675362457,"post_id":75327431,"comment_id":132918138,"body_markdown":"Link  it next time please :)","body":"Link  it next time please :)"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675362743,"post_id":75327431,"comment_id":132918228,"body_markdown":"Not a leading question, but did you read the definition of [&quot;pertinent to applicability&quot;](https://docs.oracle.com/javase/specs/jls/se9/html/jls-15.html#jls-15.12.2.2)? What is your understanding of it?","body":"Not a leading question, but did you read the definition of <a href=\"https://docs.oracle.com/javase/specs/jls/se9/html/jls-15.html#jls-15.12.2.2\" rel=\"nofollow noreferrer\">&quot;pertinent to applicability&quot;</a>? What is your understanding of it?"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675363208,"post_id":75327431,"comment_id":132918374,"body_markdown":"I guess a hand-wavey and oversimplified explanation is that non-pertinent-to-applicability expressions are mostly lambdas (and compound expressions containing lambdas), and lambdas are expressions whose type is often inferred. You can&#39;t really use an expression whose type must be inferred to infer what method it applies to. There&#39;s a circular reasoning about that, which is why it&#39;s a special case.","body":"I guess a hand-wavey and oversimplified explanation is that non-pertinent-to-applicability expressions are mostly lambdas (and compound expressions containing lambdas), and lambdas are expressions whose type is often inferred. You can&#39;t really use an expression whose type must be inferred to infer what method it applies to. There&#39;s a circular reasoning about that, which is why it&#39;s a special case."},{"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"score":0,"creation_date":1675363783,"post_id":75327431,"comment_id":132918546,"body_markdown":"@Michael : But then why are only &quot;non-pertinent&quot; elements included in the constraint set determination and not the &quot;pertinent&quot; expressions ? - your point it right that &quot;You can&#39;t really use an expression whose type must be inferred to infer what method it applies to.&quot; - that is what I want to know exactly that why is it included in invocation type determination - but not in the applicability determination - but the &quot;pertinent-to-applicability&quot; excluded from invocation type determination?","body":"@Michael : But then why are only &quot;non-pertinent&quot; elements included in the constraint set determination and not the &quot;pertinent&quot; expressions ? - your point it right that &quot;You can&#39;t really use an expression whose type must be inferred to infer what method it applies to.&quot; - that is what I want to know exactly that why is it included in invocation type determination - but not in the applicability determination - but the &quot;pertinent-to-applicability&quot; excluded from invocation type determination?"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675363909,"post_id":75327431,"comment_id":132918591,"body_markdown":"&quot;*But then why are **only** &quot;non-pertinent&quot; elements included in the constraint set determination*&quot; That&#39;s not what it says. You&#39;re not reading the whole thing. &quot;*Additional constraints may be included, depending on the form of ei*&quot;","body":"&quot;<i>But then why are <b>only</b> &quot;non-pertinent&quot; elements included in the constraint set determination</i>&quot; That&#39;s not what it says. You&#39;re not reading the whole thing. &quot;<i>Additional constraints may be included, depending on the form of ei</i>&quot;"},{"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"score":0,"creation_date":1675364410,"post_id":75327431,"comment_id":132918782,"body_markdown":"Indeed - the additional constraints may be on throws clauses or conditional expressions etc - but in the current question I am referring to the basic constraint that gets added in the set &quot;C&quot; ei  Fi &quot;","body":"Indeed - the additional constraints may be on throws clauses or conditional expressions etc - but in the current question I am referring to the basic constraint that gets added in the set &quot;C&quot; ei  Fi &quot;"}],"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675362447,"creation_date":1675362181,"question_id":75327431,"body_markdown":"Consider the following article in JLS:9 ([18.5.2.2. Additional Argument Constraints](https://docs.oracle.com/javase/specs/jls/se9/html/jls-18.html#jls-18.5.2.2))\r\n- Here while adding actual arguments to form the set of Constraints - after the Type Parameters have been Reduced and Incorporated - we have the following clause:\r\n\r\n&gt; Let  be the substitution [P1:=1, ..., Pp:=p] defined in &#167;18.5.1 to replace the type parameters of m with inference variables.\r\n&gt; Then, for all i (1  i  k):\r\n&gt; If ei is not pertinent to applicability, C contains ei  Fi .\r\n\r\nClearly - when determining the &quot;Invocation Applicability&quot; the actual arguments expressions supplied are tested if they are &quot;Pertinent to Applicabilility&quot; and the Constraint set is being reduced and resolved and merged with the bound set.\r\n\r\n**My question is - that when we are trying to infer the &quot;Invocation Type&quot; why are actual argument expressions `ei` included in the set of valid constraints only when  they are &quot;not pertinent to applicability&quot;?**\r\n\r\n\r\n","title":"Method Invocation Type inference in JLS","body":"<p>Consider the following article in JLS:9 (<a href=\"https://docs.oracle.com/javase/specs/jls/se9/html/jls-18.html#jls-18.5.2.2\" rel=\"nofollow noreferrer\">18.5.2.2. Additional Argument Constraints</a>)</p>\n<ul>\n<li>Here while adding actual arguments to form the set of Constraints - after the Type Parameters have been Reduced and Incorporated - we have the following clause:</li>\n</ul>\n<blockquote>\n<p>Let  be the substitution [P1:=1, ..., Pp:=p] defined in 18.5.1 to replace the type parameters of m with inference variables.\nThen, for all i (1  i  k):\nIf ei is not pertinent to applicability, C contains ei  Fi .</p>\n</blockquote>\n<p>Clearly - when determining the &quot;Invocation Applicability&quot; the actual arguments expressions supplied are tested if they are &quot;Pertinent to Applicabilility&quot; and the Constraint set is being reduced and resolved and merged with the bound set.</p>\n<p><strong>My question is - that when we are trying to infer the &quot;Invocation Type&quot; why are actual argument expressions <code>ei</code> included in the set of valid constraints only when  they are &quot;not pertinent to applicability&quot;?</strong></p>\n"},{"tags":["java","spring","spring-jdbc"],"comments":[{"owner":{"account_id":3808391,"reputation":4885,"user_id":3160089,"accept_rate":77,"display_name":"Endzeit"},"score":3,"creation_date":1675362347,"post_id":75327423,"comment_id":132918108,"body_markdown":"Without having looked into this any further, I would recommend updating only one major version at a time, thus first update to 5.x before migrating to 6.x.","body":"Without having looked into this any further, I would recommend updating only one major version at a time, thus first update to 5.x before migrating to 6.x."},{"owner":{"account_id":19769258,"reputation":11,"user_id":14476565,"display_name":"Manohar Nr"},"score":0,"creation_date":1675362475,"post_id":75327423,"comment_id":132918147,"body_markdown":"@Endzeit I&#39;m not facing this issue with 5.x version.\nMy only concern is to moving higher version like 6.x","body":"@Endzeit I&#39;m not facing this issue with 5.x version. My only concern is to moving higher version like 6.x"},{"owner":{"account_id":3040588,"reputation":15226,"user_id":2577734,"accept_rate":91,"display_name":"Joe Taras"},"score":0,"creation_date":1675362608,"post_id":75327423,"comment_id":132918185,"body_markdown":"Please post your pom to see if any dependence is not right","body":"Please post your pom to see if any dependence is not right"}],"owner":{"account_id":19769258,"reputation":11,"user_id":14476565,"display_name":"Manohar Nr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675362238,"creation_date":1675362147,"question_id":75327423,"body_markdown":"I&#39;m trying to upgrade my multi module old spring project. Current version is 4.2.3.RELESE and I&#39;m trying to upgrade to latest version 6.0.4.\r\n\r\nI&#39;m upgrading all the spring dependencies like spring-bean, spring-context, spring-jdbc, spring-orm etc.\r\n\r\n\r\nafter upgrading when I try to build the project, I&#39;m getting the compilation error which means cannot import/access **SqlRowSet** from spring-jdbc:\r\n\r\n```\r\n[ERROR] COMPILATION ERROR :\r\n[INFO] -------------------------------------------------------------\r\n[ERROR] Project-Name\\src\\main\\java\\com\\rest\\retest\\entity\\ads\\Test.java:[6,46] error: cannot access SqlRowSet\r\n[INFO] 1 error\r\n[INFO] -------------------------------------------------------------\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Reactor Summary:\r\n[INFO]\r\n```\r\nHere are my imports\r\n```\r\nimport org.springframework.jdbc.support.rowset.SqlRowSet;\r\nimport org.springframework.jdbc.support.rowset.SqlRowSetMetaData;\r\n\r\npublic abstract class Iterator {\r\n\r\n\tprotected SqlRowSet rowSet;\r\n\r\n\tpublic void setSqlRowSet(SqlRowSet rowSet) {\r\n\t\tthis.rowSet = rowSet;\r\n\r\n\t\tSqlRowSetMetaData metaData = rowSet.getMetaData();\r\n\r\n\t\tString[] columnNames = metaData.getColumnNames();\r\n\r\n\t\tsetIndexes(columnNames);\r\n\t}\r\n}\r\n\r\n```\r\nIn the sub module maven dependency folder I&#39;m able to see this complete package and class\r\n```org.springframework.jdbc.support.rowset.SqlRowSet```\r\n\r\nAny suggestions would be helpful.","title":"Upgrading Spring Project from 4.2.3.RELEASE to 6.0.4","body":"<p>I'm trying to upgrade my multi module old spring project. Current version is 4.2.3.RELESE and I'm trying to upgrade to latest version 6.0.4.</p>\n<p>I'm upgrading all the spring dependencies like spring-bean, spring-context, spring-jdbc, spring-orm etc.</p>\n<p>after upgrading when I try to build the project, I'm getting the compilation error which means cannot import/access <strong>SqlRowSet</strong> from spring-jdbc:</p>\n<pre><code>[ERROR] COMPILATION ERROR :\n[INFO] -------------------------------------------------------------\n[ERROR] Project-Name\\src\\main\\java\\com\\rest\\retest\\entity\\ads\\Test.java:[6,46] error: cannot access SqlRowSet\n[INFO] 1 error\n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary:\n[INFO]\n</code></pre>\n<p>Here are my imports</p>\n<pre><code>import org.springframework.jdbc.support.rowset.SqlRowSet;\nimport org.springframework.jdbc.support.rowset.SqlRowSetMetaData;\n\npublic abstract class Iterator {\n\n    protected SqlRowSet rowSet;\n\n    public void setSqlRowSet(SqlRowSet rowSet) {\n        this.rowSet = rowSet;\n\n        SqlRowSetMetaData metaData = rowSet.getMetaData();\n\n        String[] columnNames = metaData.getColumnNames();\n\n        setIndexes(columnNames);\n    }\n}\n\n</code></pre>\n<p>In the sub module maven dependency folder I'm able to see this complete package and class\n<code>org.springframework.jdbc.support.rowset.SqlRowSet</code></p>\n<p>Any suggestions would be helpful.</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","oracle19c"],"comments":[{"owner":{"account_id":6740011,"reputation":46650,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1674145430,"post_id":75175257,"comment_id":132656879,"body_markdown":"remove column name id and default from the query, that should work","body":"remove column name id and default from the query, that should work"},{"owner":{"account_id":13437089,"reputation":1,"user_id":9695235,"display_name":"pranav tiwari"},"score":0,"creation_date":1674145690,"post_id":75175257,"comment_id":132656976,"body_markdown":"JPA is generating the query, I have no control. I am looking if JPA has any option to exclude identity column from Entity while generating query.","body":"JPA is generating the query, I have no control. I am looking if JPA has any option to exclude identity column from Entity while generating query."},{"owner":{"account_id":6740011,"reputation":46650,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1674146635,"post_id":75175257,"comment_id":132657306,"body_markdown":"Does this answer your question? [what is the use of annotations @Id and @GeneratedValue(strategy = GenerationType.IDENTITY)? Why the generationtype is identity?](https://stackoverflow.com/questions/20603638/what-is-the-use-of-annotations-id-and-generatedvaluestrategy-generationtype)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/20603638/what-is-the-use-of-annotations-id-and-generatedvaluestrategy-generationtype\">what is the use of annotations @Id and @GeneratedValue(strategy = GenerationType.IDENTITY)? Why the generationtype is identity?</a>"},{"owner":{"account_id":13437089,"reputation":1,"user_id":9695235,"display_name":"pranav tiwari"},"score":0,"creation_date":1674147832,"post_id":75175257,"comment_id":132657814,"body_markdown":"Yes, It(Sequence Generation Startegy) works. But unfortunately I can not use this.","body":"Yes, It(Sequence Generation Startegy) works. But unfortunately I can not use this."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1674172850,"post_id":75175257,"comment_id":132664509,"body_markdown":"This works with other providers - I&#39;m surprised Hibernate tries to insert &#39;default&#39; when it doesn&#39;t need to pass in anything. You might be able to write your own behavior as described here https://dnikiforov.wordpress.com/2015/02/14/oracle-12c-identity-and-popular-orms/ or try another provider. Alternatively, a different generation strategy would be better. Preallocation is generally better performance for batch inserts, and using something like a UUID generator means no fetching it from the DB at all.","body":"This works with other providers - I&#39;m surprised Hibernate tries to insert &#39;default&#39; when it doesn&#39;t need to pass in anything. You might be able to write your own behavior as described here <a href=\"https://dnikiforov.wordpress.com/2015/02/14/oracle-12c-identity-and-popular-orms/\" rel=\"nofollow noreferrer\">dnikiforov.wordpress.com/2015/02/14/&hellip;</a> or try another provider. Alternatively, a different generation strategy would be better. Preallocation is generally better performance for batch inserts, and using something like a UUID generator means no fetching it from the DB at all."}],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674159156,"creation_date":1674146939,"answer_id":75175634,"question_id":75175257,"body_markdown":"Use:\r\n\r\n```\r\n@Id @GeneratedValue(strategy=IDENTITY)\r\nLong id;\r\n```\r\n\r\nUPDATE: For a _view_ on Oracle, use:\r\n\r\n- `@Id @Generated` in Hibernate 6.2 (soon to be released), or\r\n- the `SelectGenerator`, in either Hibernate 5 or 6.\r\n\r\nBut note that you will have to identify a `@NaturalId` of your entity, since otherwise Hibernate has no way of locating the just-inserted row to retrieve the generated id.\r\n\r\nIn your case, the natural id is the email address, I suppose.","title":"ORA-32795: cannot insert into a generated always identity column | Hibernate ORM","body":"<p>Use:</p>\n<pre><code>@Id @GeneratedValue(strategy=IDENTITY)\nLong id;\n</code></pre>\n<p>UPDATE: For a <em>view</em> on Oracle, use:</p>\n<ul>\n<li><code>@Id @Generated</code> in Hibernate 6.2 (soon to be released), or</li>\n<li>the <code>SelectGenerator</code>, in either Hibernate 5 or 6.</li>\n</ul>\n<p>But note that you will have to identify a <code>@NaturalId</code> of your entity, since otherwise Hibernate has no way of locating the just-inserted row to retrieve the generated id.</p>\n<p>In your case, the natural id is the email address, I suppose.</p>\n"},{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675360825,"creation_date":1675360825,"answer_id":75327192,"question_id":75175257,"body_markdown":"Oracle only supports identity columns as of version 12. You didn&#39;t mention which version you are using, but I guess this is the reason for the Oracle error. Either way, Oracle just recently stopped supporting versions older than 19c, so either you update or you have to use a different generation strategy i.e. sequence, table or uuid.","title":"ORA-32795: cannot insert into a generated always identity column | Hibernate ORM","body":"<p>Oracle only supports identity columns as of version 12. You didn't mention which version you are using, but I guess this is the reason for the Oracle error. Either way, Oracle just recently stopped supporting versions older than 19c, so either you update or you have to use a different generation strategy i.e. sequence, table or uuid.</p>\n"}],"owner":{"account_id":13437089,"reputation":1,"user_id":9695235,"display_name":"pranav tiwari"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":709,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675362060,"creation_date":1674145205,"question_id":75175257,"body_markdown":"I am trying to insert in a oracle view using JPA. JPA generates below SQL statement-\r\n```\r\ninsert into home_view (id, email, first_name, last_name) values (default, ?, ?, ?)\r\n```\r\nAnd when it executes query, Oracle DB throws below error-\r\n\r\n```\r\nORA-32575: Explicit column default is not supported for modifying views\r\n```\r\n\r\nAs per my understanding above query can not work with view because we can not insert into a view if its underlying table column is IDENTITY column.\r\n\r\nDo we have any option in hibernate which helps exclusion of identity column while saving object to DB?\r\n\r\nNote- I do not want to use raw SQL statement to insert my object.\r\n\r\nI used GenerationType.SEQUENCE strategy and it is working fine, but only problem is I have to provide sequence name. I do not want to provide hard coded sequence name in Java Entity.\r\n\r\nThanks for your help!","title":"ORA-32795: cannot insert into a generated always identity column | Hibernate ORM","body":"<p>I am trying to insert in a oracle view using JPA. JPA generates below SQL statement-</p>\n<pre><code>insert into home_view (id, email, first_name, last_name) values (default, ?, ?, ?)\n</code></pre>\n<p>And when it executes query, Oracle DB throws below error-</p>\n<pre><code>ORA-32575: Explicit column default is not supported for modifying views\n</code></pre>\n<p>As per my understanding above query can not work with view because we can not insert into a view if its underlying table column is IDENTITY column.</p>\n<p>Do we have any option in hibernate which helps exclusion of identity column while saving object to DB?</p>\n<p>Note- I do not want to use raw SQL statement to insert my object.</p>\n<p>I used GenerationType.SEQUENCE strategy and it is working fine, but only problem is I have to provide sequence name. I do not want to provide hard coded sequence name in Java Entity.</p>\n<p>Thanks for your help!</p>\n"},{"tags":["java","multithreading","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1675362686,"post_id":75327373,"comment_id":132918211,"body_markdown":"Don&#39;t use a while loop with a Thread.sleep(...) on the Event Dispatch Thread (EDT). This  prevents the GUI from repainting itself until the loop is finished. Instead you can use the looping/sleeping code in a `SwingWorker` and &quot;publish&quot; results for display in the editor pane. Read the section from the Swing tutorial on [Concurrency](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more information.","body":"Don&#39;t use a while loop with a Thread.sleep(...) on the Event Dispatch Thread (EDT). This  prevents the GUI from repainting itself until the loop is finished. Instead you can use the looping/sleeping code in a <code>SwingWorker</code> and &quot;publish&quot; results for display in the editor pane. Read the section from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency</a> for more information."},{"owner":{"account_id":26218354,"reputation":27,"user_id":19896194,"display_name":"smilly"},"score":1,"creation_date":1675363366,"post_id":75327373,"comment_id":132918423,"body_markdown":"Thanks! Did not know about SwingWorkers. Got it to work with a worker!","body":"Thanks! Did not know about SwingWorkers. Got it to work with a worker!"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1675373685,"post_id":75327373,"comment_id":132921213,"body_markdown":"@smilly Good to hear you solved it. Now you can post and accept an Answer to your own Question for posterity.","body":"@smilly Good to hear you solved it. Now you can post and accept an Answer to your own Question for posterity."}],"owner":{"account_id":26218354,"reputation":27,"user_id":19896194,"display_name":"smilly"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675361925,"creation_date":1675361925,"question_id":75327373,"body_markdown":"I am working on a GUI program that has a &quot;start&quot; button and when pressed it starts a botThread and the start button turns into a stop button. Pretty simple so far.\r\n\r\nNow when I press on stop, I want my EditorPane to look like this:\r\n\r\n    19:10:40.027 [AWT-EventQueue-0] INFO  bot.StartStopListener - Stopping bot...\r\n    19:10:41.096 [AWT-EventQueue-0] INFO  bot.StartStopListener - Stopping bot...(1s)\r\n    19:10:42.099 [AWT-EventQueue-0] INFO  bot.StartStopListener - Stopping bot...(2s)\r\n    19:10:43.158 [AWT-EventQueue-0] INFO  bot.StartStopListener - Stopping bot...(3s)\r\n    19:10:44.160 [AWT-EventQueue-0] INFO  bot.StartStopListener - Stopping bot...(4s)\r\n    19:10:45.106 [AWT-EventQueue-0] INFO  bot.StartStopListener - Bot stopped\r\nThe above output is from my console where everything works fine. Every second it prints a new line.\r\n\r\nOn my EditorPane, there are no lines printed every second. They get printed all at once when the botThread is dead.\r\n\r\nWhy is that the case?\r\nHere is the code that gets executed when the stop button is pressed:\r\n\r\n    stop = true;\r\n    settingsPanel.getStartButton().setEnabled(false);\r\n    LOGGER.info(&quot;Stopping bot...&quot;);\r\n\r\n    //wait for the bot thread to die\r\n    SwingUtilities.invokeLater(() -&gt; {\r\n        long last = System.currentTimeMillis();\r\n        int seconds = 0;\r\n        while(botThread.isAlive()){\r\n            try {\r\n                long now = System.currentTimeMillis();\r\n                if(now-last &gt; 1000){\r\n                    seconds++;\r\n                    last = now;\r\n                    LOGGER.info(String.format(&quot;Stopping bot...(%ds)&quot;, seconds));\r\n                }\r\n                Thread.sleep(50);\r\n            } catch (InterruptedException ex) {\r\n                LOGGER.error(&quot;BotThread Interrupted&quot;);\r\n                throw new RuntimeException(ex);\r\n            }\r\n        }\r\n        LOGGER.info(&quot;Bot stopped&quot;);\r\n    });\r\n\r\nFor the logging on the Editorpane, there is this line in my logback.xml:\r\n\r\n    &lt;appender name=&quot;TEXTAREA&quot; class=&quot;io.logging.EditorPaneAppender&quot;/&gt;\r\n\r\nI do not know if this is necessary, but also here is my EditorPaneAppender class:\r\n\r\n    public class EditorPaneAppender extends AppenderBase&lt;ILoggingEvent&gt; {\r\n    \r\n        private final static SimpleDateFormat sdf = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n        public final static JEditorPane editorPane;\r\n    \r\n        static{\r\n            editorPane = new JEditorPane();\r\n            editorPane.setEditorKit(JEditorPane.createEditorKitForContentType(&quot;text/html&quot;));\r\n            editorPane.setEditable(false);\r\n        }\r\n    \r\n        @Override\r\n        protected void append(final ILoggingEvent e) {\r\n            String txt = editorPane.getText();\r\n            txt = txt.replace(&quot;&lt;html&gt;&quot;,&quot;&quot;)\r\n                    .replace(&quot;&lt;/html&gt;&quot;,&quot;&quot;)\r\n                    .replace(&quot;&lt;body&gt;&quot;,&quot;&quot;)\r\n                    .replace(&quot;&lt;/body&gt;&quot;,&quot;&quot;) // im too lazy to do it properly\r\n                    .replace(&quot;&lt;head&gt;&quot;,&quot;&quot;)\r\n                    .replace(&quot;&lt;/head&gt;&quot;,&quot;&quot;)\r\n                    .replace(&quot;&lt;p style=\\&quot;margin-top: 0\\&quot;&gt;&quot;,&quot;&quot;)\r\n                    .replace(&quot;&lt;/p&gt;&quot;,&quot;&quot;);\r\n    \r\n    \r\n            String colored_level_template = switch (e.getLevel().toInt()) {\r\n                case 20000 -&gt; //info\r\n                        &quot;&lt;span style=\\&quot;color:2259E3FF\\&quot;&gt;%s&lt;/span&gt;&quot;;\r\n                case 30000 -&gt; //warn\r\n                        &quot;&lt;span style=\\&quot;color:E38E0AFF\\&quot;&gt;%s&lt;/span&gt;&quot;;\r\n                case 40000 -&gt; //error\r\n                        &quot;&lt;span style=\\&quot;color:E71019FF\\&quot;&gt;%s&lt;/span&gt;&quot;;\r\n                default -&gt; &quot;&quot;;\r\n            };\r\n    \r\n            editorPane.setText(txt + String.format(&quot;&lt;span&gt;[%s]&lt;/span&gt; %s - %s&quot;\r\n                    , sdf.format(new Date(e.getTimeStamp()))\r\n                    , String.format(colored_level_template, e.getLevel())\r\n                    , e.getFormattedMessage()) + &quot;&lt;br&gt;&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"How to log the time it takes for a thread to die on a swing EditorPane each second?","body":"<p>I am working on a GUI program that has a &quot;start&quot; button and when pressed it starts a botThread and the start button turns into a stop button. Pretty simple so far.</p>\n<p>Now when I press on stop, I want my EditorPane to look like this:</p>\n<pre><code>19:10:40.027 [AWT-EventQueue-0] INFO  bot.StartStopListener - Stopping bot...\n19:10:41.096 [AWT-EventQueue-0] INFO  bot.StartStopListener - Stopping bot...(1s)\n19:10:42.099 [AWT-EventQueue-0] INFO  bot.StartStopListener - Stopping bot...(2s)\n19:10:43.158 [AWT-EventQueue-0] INFO  bot.StartStopListener - Stopping bot...(3s)\n19:10:44.160 [AWT-EventQueue-0] INFO  bot.StartStopListener - Stopping bot...(4s)\n19:10:45.106 [AWT-EventQueue-0] INFO  bot.StartStopListener - Bot stopped\n</code></pre>\n<p>The above output is from my console where everything works fine. Every second it prints a new line.</p>\n<p>On my EditorPane, there are no lines printed every second. They get printed all at once when the botThread is dead.</p>\n<p>Why is that the case?\nHere is the code that gets executed when the stop button is pressed:</p>\n<pre><code>stop = true;\nsettingsPanel.getStartButton().setEnabled(false);\nLOGGER.info(&quot;Stopping bot...&quot;);\n\n//wait for the bot thread to die\nSwingUtilities.invokeLater(() -&gt; {\n    long last = System.currentTimeMillis();\n    int seconds = 0;\n    while(botThread.isAlive()){\n        try {\n            long now = System.currentTimeMillis();\n            if(now-last &gt; 1000){\n                seconds++;\n                last = now;\n                LOGGER.info(String.format(&quot;Stopping bot...(%ds)&quot;, seconds));\n            }\n            Thread.sleep(50);\n        } catch (InterruptedException ex) {\n            LOGGER.error(&quot;BotThread Interrupted&quot;);\n            throw new RuntimeException(ex);\n        }\n    }\n    LOGGER.info(&quot;Bot stopped&quot;);\n});\n</code></pre>\n<p>For the logging on the Editorpane, there is this line in my logback.xml:</p>\n<pre><code>&lt;appender name=&quot;TEXTAREA&quot; class=&quot;io.logging.EditorPaneAppender&quot;/&gt;\n</code></pre>\n<p>I do not know if this is necessary, but also here is my EditorPaneAppender class:</p>\n<pre><code>public class EditorPaneAppender extends AppenderBase&lt;ILoggingEvent&gt; {\n\n    private final static SimpleDateFormat sdf = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\n    public final static JEditorPane editorPane;\n\n    static{\n        editorPane = new JEditorPane();\n        editorPane.setEditorKit(JEditorPane.createEditorKitForContentType(&quot;text/html&quot;));\n        editorPane.setEditable(false);\n    }\n\n    @Override\n    protected void append(final ILoggingEvent e) {\n        String txt = editorPane.getText();\n        txt = txt.replace(&quot;&lt;html&gt;&quot;,&quot;&quot;)\n                .replace(&quot;&lt;/html&gt;&quot;,&quot;&quot;)\n                .replace(&quot;&lt;body&gt;&quot;,&quot;&quot;)\n                .replace(&quot;&lt;/body&gt;&quot;,&quot;&quot;) // im too lazy to do it properly\n                .replace(&quot;&lt;head&gt;&quot;,&quot;&quot;)\n                .replace(&quot;&lt;/head&gt;&quot;,&quot;&quot;)\n                .replace(&quot;&lt;p style=\\&quot;margin-top: 0\\&quot;&gt;&quot;,&quot;&quot;)\n                .replace(&quot;&lt;/p&gt;&quot;,&quot;&quot;);\n\n\n        String colored_level_template = switch (e.getLevel().toInt()) {\n            case 20000 -&gt; //info\n                    &quot;&lt;span style=\\&quot;color:2259E3FF\\&quot;&gt;%s&lt;/span&gt;&quot;;\n            case 30000 -&gt; //warn\n                    &quot;&lt;span style=\\&quot;color:E38E0AFF\\&quot;&gt;%s&lt;/span&gt;&quot;;\n            case 40000 -&gt; //error\n                    &quot;&lt;span style=\\&quot;color:E71019FF\\&quot;&gt;%s&lt;/span&gt;&quot;;\n            default -&gt; &quot;&quot;;\n        };\n\n        editorPane.setText(txt + String.format(&quot;&lt;span&gt;[%s]&lt;/span&gt; %s - %s&quot;\n                , sdf.format(new Date(e.getTimeStamp()))\n                , String.format(colored_level_template, e.getLevel())\n                , e.getFormattedMessage()) + &quot;&lt;br&gt;&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","triggers","h2"],"comments":[{"owner":{"account_id":264385,"reputation":108,"user_id":550633,"display_name":"Erwan Leroux"},"score":0,"creation_date":1676207313,"post_id":75327356,"comment_id":133087087,"body_markdown":"I couldn&#39;t reproduce the error using your code using H2 2.1.214, which version of H2 are you on ?","body":"I couldn&#39;t reproduce the error using your code using H2 2.1.214, which version of H2 are you on ?"},{"owner":{"account_id":6566530,"reputation":11,"user_id":14734784,"display_name":"Rodrigo Bittencourt de Lima"},"score":0,"creation_date":1676290109,"post_id":75327356,"comment_id":133101013,"body_markdown":"@ErwanLeroux thanks for the reply. I&#39;m using H2 2.1.210. At the moment I&#39;m trying another solution without H2 trigger, due to project&#39;s urgency.","body":"@ErwanLeroux thanks for the reply. I&#39;m using H2 2.1.210. At the moment I&#39;m trying another solution without H2 trigger, due to project&#39;s urgency."}],"owner":{"account_id":6566530,"reputation":11,"user_id":14734784,"display_name":"Rodrigo Bittencourt de Lima"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675361812,"creation_date":1675361812,"question_id":75327356,"body_markdown":"I need to run insert operations inside a H2 db view. So I created a trigger based on the sample *h2/src/test/org/h2/samples/UpdatableView.java*. Unfortunately when I try to use the trigger, a error *H2Trigger cannot be cast to org.h2.api.Trigger* occurs. Below is the code used:\r\n\r\n```\r\nimport org.h2.tools.TriggerAdapter;\r\n\r\npublic class H2Trigger extends TriggerAdapter {\r\n\r\nprivate PreparedStatement prepDelete, prepInsert;\r\n\r\n@Override\r\npublic void init(Connection conn, String schemaName, String triggerName, String tableName, boolean before, int type)\r\n\t\tthrows SQLException {\r\n\tprepDelete = conn.prepareStatement(&quot;DELETE FROM H2_TABLE WHERE ID = ?&quot;);\r\n\tprepInsert = conn.prepareStatement(&quot;SELECT * FROM FINAL TABLE(INSERT INTO H2_TABLE VALUES (?, ?))&quot;);\r\n\tsuper.init(conn, schemaName, triggerName, tableName, before, type);\r\n}\r\n\r\n@Override\r\npublic void fire(Connection conn, ResultSet oldRow, ResultSet newRow) throws SQLException {\r\n\tif (oldRow != null &amp;&amp; oldRow.next()) {\r\n\t\tprepDelete.setLong(1, oldRow.getLong(1));\r\n\t\tprepDelete.execute();\r\n\t}\r\n\tif (newRow != null &amp;&amp; newRow.next()) {\r\n\t\tlong id = newRow.getLong(1);\r\n\t\tif (newRow.wasNull()) {\r\n\t\t\tprepInsert.setNull(1, Types.BIGINT);\r\n\t\t} else {\r\n\t\t\tprepInsert.setLong(1, id);\r\n\t\t}\r\n\t\tprepInsert.setString(2, newRow.getString(2));\r\n\t\ttry (ResultSet rs = prepInsert.executeQuery()) {\r\n\t\t\trs.next();\r\n\t\t\tnewRow.updateLong(1, rs.getLong(1));\r\n\t\t\tnewRow.updateString(2, rs.getString(2));\r\n\t\t\tnewRow.rowUpdated();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n@Override\r\npublic void close() throws SQLException {\r\n\tprepInsert.close();\r\n\tprepDelete.close();\r\n}\r\n\r\n}\r\n```\r\n\r\nAnd the trigger declaration:\r\n\r\n```\r\ntry (Connection conn = getDatasource().getConnection(); Statement stm = conn.createStatement()) {\r\n\r\nstm.execute(&quot;CREATE TRIGGER T_H2_VIEW INSTEAD OF INSERT, UPDATE, DELETE ON H2_VIEW FOR EACH ROW CALL \\&quot;&quot; + H2Trigger.class.getName() + &#39;&quot;&#39;);\r\n    stm.executeUpdate(&quot;INSERT INTO H2_VIEW ( SELECT * FROM H2_VIEW_2 )&quot;);\r\n\r\n}\r\n```\r\n\r\nDo you have any idea what the problem could be? Thanks in advance!\r\n\r\nI need to run insert operations inside a H2 db view. So I created a trigger based on the sample *h2/src/test/org/h2/samples/UpdatableView.java*. Unfortunately when I try to use the trigger, a error *H2Trigger cannot be cast to org.h2.api.Trigger* occurs.","title":"Cast error when trying to create a updatable view in H2","body":"<p>I need to run insert operations inside a H2 db view. So I created a trigger based on the sample <em>h2/src/test/org/h2/samples/UpdatableView.java</em>. Unfortunately when I try to use the trigger, a error <em>H2Trigger cannot be cast to org.h2.api.Trigger</em> occurs. Below is the code used:</p>\n<pre><code>import org.h2.tools.TriggerAdapter;\n\npublic class H2Trigger extends TriggerAdapter {\n\nprivate PreparedStatement prepDelete, prepInsert;\n\n@Override\npublic void init(Connection conn, String schemaName, String triggerName, String tableName, boolean before, int type)\n        throws SQLException {\n    prepDelete = conn.prepareStatement(&quot;DELETE FROM H2_TABLE WHERE ID = ?&quot;);\n    prepInsert = conn.prepareStatement(&quot;SELECT * FROM FINAL TABLE(INSERT INTO H2_TABLE VALUES (?, ?))&quot;);\n    super.init(conn, schemaName, triggerName, tableName, before, type);\n}\n\n@Override\npublic void fire(Connection conn, ResultSet oldRow, ResultSet newRow) throws SQLException {\n    if (oldRow != null &amp;&amp; oldRow.next()) {\n        prepDelete.setLong(1, oldRow.getLong(1));\n        prepDelete.execute();\n    }\n    if (newRow != null &amp;&amp; newRow.next()) {\n        long id = newRow.getLong(1);\n        if (newRow.wasNull()) {\n            prepInsert.setNull(1, Types.BIGINT);\n        } else {\n            prepInsert.setLong(1, id);\n        }\n        prepInsert.setString(2, newRow.getString(2));\n        try (ResultSet rs = prepInsert.executeQuery()) {\n            rs.next();\n            newRow.updateLong(1, rs.getLong(1));\n            newRow.updateString(2, rs.getString(2));\n            newRow.rowUpdated();\n        }\n    }\n}\n\n@Override\npublic void close() throws SQLException {\n    prepInsert.close();\n    prepDelete.close();\n}\n\n}\n</code></pre>\n<p>And the trigger declaration:</p>\n<pre><code>try (Connection conn = getDatasource().getConnection(); Statement stm = conn.createStatement()) {\n\nstm.execute(&quot;CREATE TRIGGER T_H2_VIEW INSTEAD OF INSERT, UPDATE, DELETE ON H2_VIEW FOR EACH ROW CALL \\&quot;&quot; + H2Trigger.class.getName() + '&quot;');\n    stm.executeUpdate(&quot;INSERT INTO H2_VIEW ( SELECT * FROM H2_VIEW_2 )&quot;);\n\n}\n</code></pre>\n<p>Do you have any idea what the problem could be? Thanks in advance!</p>\n<p>I need to run insert operations inside a H2 db view. So I created a trigger based on the sample <em>h2/src/test/org/h2/samples/UpdatableView.java</em>. Unfortunately when I try to use the trigger, a error <em>H2Trigger cannot be cast to org.h2.api.Trigger</em> occurs.</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-mvc-test"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1675344045,"post_id":75323783,"comment_id":132911430,"body_markdown":"this may be a duplicate, not sure: https://stackoverflow.com/questions/46212246/no-serializer-found-for-class-java-io-bytearrayinputstream","body":"this may be a duplicate, not sure: <a href=\"https://stackoverflow.com/questions/46212246/no-serializer-found-for-class-java-io-bytearrayinputstream\" title=\"no serializer found for class java io bytearrayinputstream\">stackoverflow.com/questions/46212246/&hellip;</a>"},{"owner":{"account_id":19820555,"reputation":1,"user_id":14517237,"display_name":"Nishant"},"score":0,"creation_date":1675344569,"post_id":75323783,"comment_id":132911640,"body_markdown":"no this has not worked for me","body":"no this has not worked for me"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675351563,"post_id":75323783,"comment_id":132914411,"body_markdown":"Please show us the complete stacktrace so that we can understand where the serialization is occurring.","body":"Please show us the complete stacktrace so that we can understand where the serialization is occurring."}],"owner":{"account_id":19820555,"reputation":1,"user_id":14517237,"display_name":"Nishant"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675361653,"creation_date":1675343943,"question_id":75323783,"body_markdown":"I am trying to consume a rest api to upload a Multipart file. I have set MultipartFile in UploadFIleObject and I am sending the same to rest api. However when trying to invoke a rest API as below, I am getting error  No serializer found for class java.io.ByteArrayInputStream\r\n\r\n\r\n    public class UploadFileObject implements Serializable{\r\n    \r\n      MultipartFile file;\r\n    \r\n    //getters and setters\r\n    }\r\n\r\n    public void uploadFile() {\r\n    \r\n    Path path = Paths.get(&quot;C:/Accounts.txt&quot;);\r\n    byte[] content = null;\r\n    \r\n    try{\r\n        content =  Files.readAllBytes(path);   \r\n    } catch(final IOException e){\r\n    }\r\n    \r\n    MultipartFile file = new MockMultipartFile(&quot;ABC.txt&quot;,&quot;ABC.txt&quot;,&quot;text/plain&quot;, content);\r\n        \r\n    UploadFileObject obj = new UploadFileObject();\r\n    obj.setFile(file)\r\n    \r\n    HttpHeaders headers = new HttpHeaders();\r\n     headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n    headers.set(MediaType.MULTIPART_FORM_DATA);\r\n    headers.setContentType(&quot;Accept&quot;, Mediatype.APPLICATION_JSON_VALUE);\r\n    headers.setContentType(&quot;Content-type&quot;, Mediatype.APPLICATION_JSON_VALUE);\r\n    \r\n    HttpEntity&lt;?&gt; requestEntity = new HttpEntity&lt;&gt;(obj, headers);\r\n    \r\n    String result = getRestTemplate().postForEntity(&quot;url&quot;, requestEntity, String.class);\r\n    \r\n    }\r\n\r\nin application.yml\r\n\r\nI have set \r\n\r\n    spring.serialization.fail-on-empty-beans: false\r\n\r\nand in pom.xml I have below of version 2.12.3\r\n\r\n    jackson-annotation\r\n    jackson-core\r\n    jackson-databind\r\n    jackson-dataformat\r\n    jackson-dataformat-xml\r\n    }","title":"When trying to invoke a rest api to upload multipart file Getting error No serializer found for class java.io.ByteArrayInputStream?","body":"<p>I am trying to consume a rest api to upload a Multipart file. I have set MultipartFile in UploadFIleObject and I am sending the same to rest api. However when trying to invoke a rest API as below, I am getting error  No serializer found for class java.io.ByteArrayInputStream</p>\n<pre><code>public class UploadFileObject implements Serializable{\n\n  MultipartFile file;\n\n//getters and setters\n}\n\npublic void uploadFile() {\n\nPath path = Paths.get(&quot;C:/Accounts.txt&quot;);\nbyte[] content = null;\n\ntry{\n    content =  Files.readAllBytes(path);   \n} catch(final IOException e){\n}\n\nMultipartFile file = new MockMultipartFile(&quot;ABC.txt&quot;,&quot;ABC.txt&quot;,&quot;text/plain&quot;, content);\n    \nUploadFileObject obj = new UploadFileObject();\nobj.setFile(file)\n\nHttpHeaders headers = new HttpHeaders();\n headers.setContentType(MediaType.MULTIPART_FORM_DATA);\nheaders.set(MediaType.MULTIPART_FORM_DATA);\nheaders.setContentType(&quot;Accept&quot;, Mediatype.APPLICATION_JSON_VALUE);\nheaders.setContentType(&quot;Content-type&quot;, Mediatype.APPLICATION_JSON_VALUE);\n\nHttpEntity&lt;?&gt; requestEntity = new HttpEntity&lt;&gt;(obj, headers);\n\nString result = getRestTemplate().postForEntity(&quot;url&quot;, requestEntity, String.class);\n\n}\n</code></pre>\n<p>in application.yml</p>\n<p>I have set</p>\n<pre><code>spring.serialization.fail-on-empty-beans: false\n</code></pre>\n<p>and in pom.xml I have below of version 2.12.3</p>\n<pre><code>jackson-annotation\njackson-core\njackson-databind\njackson-dataformat\njackson-dataformat-xml\n}\n</code></pre>\n"},{"tags":["java","date","datetime-format","epoch","datetime-conversion"],"comments":[{"owner":{"account_id":45842,"reputation":13608,"user_id":135294,"display_name":"cjstehno"},"score":0,"creation_date":1674766180,"post_id":75251007,"comment_id":132789175,"body_markdown":"Just a bit of a guess, but it seems like it would be a time zone offset value (maybe `ZZZZ`)","body":"Just a bit of a guess, but it seems like it would be a time zone offset value (maybe <code>ZZZZ</code>)"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1674768231,"post_id":75251007,"comment_id":132789711,"body_markdown":"*&quot;and then use a `java.text.SimpleDateFormat` instance to get the expected result&quot;* and, no, don&#39;t do that.  Instead make use of the newer and improved `java.time` APIs","body":"<i>&quot;and then use a <code>java.text.SimpleDateFormat</code> instance to get the expected result&quot;</i> and, no, don&#39;t do that.  Instead make use of the newer and improved <code>java.time</code> APIs"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1674768427,"post_id":75251007,"comment_id":132789760,"body_markdown":"`new Date(16747622680000)` and again, no, don&#39;t do that.  Use `LocalDateTime.now()` or `ZonedDateTime.now()` instead","body":"<code>new Date(16747622680000)</code> and again, no, don&#39;t do that.  Use <code>LocalDateTime.now()</code> or <code>ZonedDateTime.now()</code> instead"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1674769794,"post_id":75251007,"comment_id":132790058,"body_markdown":"Did you really mean 14 digits in your example input of `16747622680000`? Or is that an typo, one too many zero digits on the end?","body":"Did you really mean 14 digits in your example input of <code>16747622680000</code>? Or is that an typo, one too many zero digits on the end?"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675361268,"creation_date":1674770325,"answer_id":75252072,"question_id":75251007,"body_markdown":"# tl;dr\r\n\r\nThe `+0000` means an offset from UTC of zero hours-minutes-seconds.\r\n\r\n(Deleted last digit zero (`0`) of example input, presumed to be a typo)\r\n\r\n    Instant\r\n    .ofEpochMilli( \r\n        &quot;/Date(1674762268000)/&quot;.replace( &quot;/&quot; , &quot;&quot; ).replace( &quot;Date(&quot; , &quot;&quot; ).replace( &quot;)&quot; , &quot;&quot; ).replace( &quot;/&quot; , &quot;&quot; )\r\n    )\r\n    .toString()\r\n\r\nSee this [code run at IdeOne.com][2].\r\n\r\n&gt;2023-01-26T19:44:28Z\r\n\r\n&#128073; The `Z` on the end and the `+0000` seen in your Question, both mean an [**offset from UTC**][1] of zero hours-minutes-seconds.\r\n\r\n# *java.time*\r\n\r\n&gt; an instance of java.util.Date today = new Date(16747622680000); and then use a java.text.SimpleDateFormat\r\n\r\nNo, never use `Date` &amp; `SimpleDateFormat`. These classes are now legacy and are terribly flawed, designed by people who did not understand date-time handling. They were years ago supplanted by the modern *java.time* classes defined in JSR 310.\r\n\r\n&gt; we have the date/time in epoch format &quot;/Date(16747622680000)/&quot; \r\n\r\nFirst, clean your input string to get only digits.\r\n\r\nAlso, I assume you made a typo, with an extra zero digit at the end. I removed that digit.\r\n\r\n```java\r\nString input = &quot;/Date(1674762268000)/&quot;;\r\nString inputDigits = input.replace( &quot;/&quot; , &quot;&quot; ).replace( &quot;Date(&quot; , &quot;&quot; ).replace( &quot;)&quot; , &quot;&quot; ).replace( &quot;/&quot; , &quot;&quot; );\r\nlong countFromEpoch1970Utc = Long.parseLong( inputDigits );\r\n```\r\n\r\nAt this point, we have a `long` integer number with the value 1_674_762_268_000L. \r\n\r\n&gt;countFromEpoch1970Utc = 1674762268000\r\n\r\nParse that number as a count of milliseconds since the epoch reference of the first moment of 1970 as seen with an offset from UTC of zero hours-minutes-seconds, 1970-01-01T00:00Z. \r\n\r\n```java\r\nInstant instant = Instant.ofEpochMilli( countFromEpoch1970Utc );\r\n```\r\n\r\nSee this [code run at IdeOne.com][2].\r\n\r\n&gt;instant.toString(): 2023-01-26T19:44:28Z\r\n\r\n# ISO 8601\r\n\r\nThe text in the string `2023-01-26T19:44:28Z` is in a format defined by the [ISO 8601][3] standard. I suggest you educate the publisher of your data about the virtues of using only ISO 8601 formats when communicating date-time data textually.\r\n\r\n&#128073; The `Z` on the end is pronounced Zulu, and means an offset from UTC of zero hours-minutes-seconds. Another standard way to write an offset of zero is `+00:00`. The ISO 8601 standard permits omitting the COLON character, to get `+0000` as seen in your Question. \r\n\r\nI recommend always including the COLON character in an offset, as well as always including the leading padding zero when needed. While both are optional in the standard, I have seen multiple libraries and protocols that expect them.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/UTC_offset\r\n  [2]: https://ideone.com/Nh6MkJ\r\n  [3]: https://en.wikipedia.org/wiki/ISO_8601","title":"How to convert the date format &quot;/Date(253402214400000+0000)/&quot; into yyyyMMdd:hhmmss in Java?","body":"<h1>tl;dr</h1>\n<p>The <code>+0000</code> means an offset from UTC of zero hours-minutes-seconds.</p>\n<p>(Deleted last digit zero (<code>0</code>) of example input, presumed to be a typo)</p>\n<pre><code>Instant\n.ofEpochMilli( \n    &quot;/Date(1674762268000)/&quot;.replace( &quot;/&quot; , &quot;&quot; ).replace( &quot;Date(&quot; , &quot;&quot; ).replace( &quot;)&quot; , &quot;&quot; ).replace( &quot;/&quot; , &quot;&quot; )\n)\n.toString()\n</code></pre>\n<p>See this <a href=\"https://ideone.com/Nh6MkJ\" rel=\"nofollow noreferrer\">code run at IdeOne.com</a>.</p>\n<blockquote>\n<p>2023-01-26T19:44:28Z</p>\n</blockquote>\n<p> The <code>Z</code> on the end and the <code>+0000</code> seen in your Question, both mean an <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"nofollow noreferrer\"><strong>offset from UTC</strong></a> of zero hours-minutes-seconds.</p>\n<h1><em>java.time</em></h1>\n<blockquote>\n<p>an instance of java.util.Date today = new Date(16747622680000); and then use a java.text.SimpleDateFormat</p>\n</blockquote>\n<p>No, never use <code>Date</code> &amp; <code>SimpleDateFormat</code>. These classes are now legacy and are terribly flawed, designed by people who did not understand date-time handling. They were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<blockquote>\n<p>we have the date/time in epoch format &quot;/Date(16747622680000)/&quot;</p>\n</blockquote>\n<p>First, clean your input string to get only digits.</p>\n<p>Also, I assume you made a typo, with an extra zero digit at the end. I removed that digit.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;/Date(1674762268000)/&quot;;\nString inputDigits = input.replace( &quot;/&quot; , &quot;&quot; ).replace( &quot;Date(&quot; , &quot;&quot; ).replace( &quot;)&quot; , &quot;&quot; ).replace( &quot;/&quot; , &quot;&quot; );\nlong countFromEpoch1970Utc = Long.parseLong( inputDigits );\n</code></pre>\n<p>At this point, we have a <code>long</code> integer number with the value 1_674_762_268_000L.</p>\n<blockquote>\n<p>countFromEpoch1970Utc = 1674762268000</p>\n</blockquote>\n<p>Parse that number as a count of milliseconds since the epoch reference of the first moment of 1970 as seen with an offset from UTC of zero hours-minutes-seconds, 1970-01-01T00:00Z.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Instant instant = Instant.ofEpochMilli( countFromEpoch1970Utc );\n</code></pre>\n<p>See this <a href=\"https://ideone.com/Nh6MkJ\" rel=\"nofollow noreferrer\">code run at IdeOne.com</a>.</p>\n<blockquote>\n<p>instant.toString(): 2023-01-26T19:44:28Z</p>\n</blockquote>\n<h1>ISO 8601</h1>\n<p>The text in the string <code>2023-01-26T19:44:28Z</code> is in a format defined by the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard. I suggest you educate the publisher of your data about the virtues of using only ISO 8601 formats when communicating date-time data textually.</p>\n<p> The <code>Z</code> on the end is pronounced Zulu, and means an offset from UTC of zero hours-minutes-seconds. Another standard way to write an offset of zero is <code>+00:00</code>. The ISO 8601 standard permits omitting the COLON character, to get <code>+0000</code> as seen in your Question.</p>\n<p>I recommend always including the COLON character in an offset, as well as always including the leading padding zero when needed. While both are optional in the standard, I have seen multiple libraries and protocols that expect them.</p>\n"}],"owner":{"account_id":2524784,"reputation":57,"user_id":2194358,"display_name":"user2194358"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1078,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674800584,"answer_count":1,"score":0,"last_activity_date":1675361268,"creation_date":1674762800,"question_id":75251007,"body_markdown":"Today we have the date/time in epoch format ```&quot;/Date(16747622680000)/&quot;``` which can be easy converted into yyyyMMdd:hhmmss when getting the digits as milliseconds from the String and pass it to an instance of ```java.util.Date today = new Date(16747622680000);``` and then use a ```java.text.SimpleDateFormat``` instance to get the expected result.\r\n\r\nBut what does the ```&quot;+0000&quot;``` in ```&quot;/Date(253402214400000+0000)/&quot;``` mean and how to convert that value?","title":"How to convert the date format &quot;/Date(253402214400000+0000)/&quot; into yyyyMMdd:hhmmss in Java?","body":"<p>Today we have the date/time in epoch format <code>&quot;/Date(16747622680000)/&quot;</code> which can be easy converted into yyyyMMdd:hhmmss when getting the digits as milliseconds from the String and pass it to an instance of <code>java.util.Date today = new Date(16747622680000);</code> and then use a <code>java.text.SimpleDateFormat</code> instance to get the expected result.</p>\n<p>But what does the <code>&quot;+0000&quot;</code> in <code>&quot;/Date(253402214400000+0000)/&quot;</code> mean and how to convert that value?</p>\n"},{"tags":["java","spring-boot","spring-integration"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1675260562,"post_id":75310300,"comment_id":132890112,"body_markdown":"I think the answer to your question is here: https://stackoverflow.com/questions/75307260/how-to-invoke-spring-channel-adapter-from-rest-api: the `&lt;int-jdbc:outbound-gateway&gt;` is what you need in your solution.","body":"I think the answer to your question is here: <a href=\"https://stackoverflow.com/questions/75307260/how-to-invoke-spring-channel-adapter-from-rest-api\" title=\"how to invoke spring channel adapter from rest api\">stackoverflow.com/questions/75307260/&hellip;</a>: the <code>&lt;int-jdbc:outbound-gateway&gt;</code> is what you need in your solution."}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675361144,"creation_date":1675361144,"answer_id":75327242,"question_id":75310300,"body_markdown":"See similar question here: https://stackoverflow.com/questions/75307260/how-to-invoke-spring-channel-adapter-from-rest-api\r\n\r\nThe Inbound Channel Adapter is a thing by itself and it does its work via constant polling cycle. It just does not fit to your requirement. \r\n\r\nSince you say you&#39;d like to do something via REST call, then it is an event-driven by end-user action. Therefore you need to look into a `&lt;int-jdbc:outbound-gateway&gt;` instead which is going to receive a message via its `input-channel` and do some DB action and produce a reply for you. \r\n\r\nSee more in docs: https://docs.spring.io/spring-integration/reference/html/jdbc.html#jdbc-outbound-gateway.\r\n\r\nIn addition you may look into a `@MessagingGateway` contract to not deal with channels in your REST controller: https://docs.spring.io/spring-integration/reference/html/messaging-endpoints.html#gateway","title":"How to write jdbc inbound channel adapter programmatically to read data from DB and pass to output channel?","body":"<p>See similar question here: <a href=\"https://stackoverflow.com/questions/75307260/how-to-invoke-spring-channel-adapter-from-rest-api\">How to invoke Spring channel adapter from rest api?</a></p>\n<p>The Inbound Channel Adapter is a thing by itself and it does its work via constant polling cycle. It just does not fit to your requirement.</p>\n<p>Since you say you'd like to do something via REST call, then it is an event-driven by end-user action. Therefore you need to look into a <code>&lt;int-jdbc:outbound-gateway&gt;</code> instead which is going to receive a message via its <code>input-channel</code> and do some DB action and produce a reply for you.</p>\n<p>See more in docs: <a href=\"https://docs.spring.io/spring-integration/reference/html/jdbc.html#jdbc-outbound-gateway\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/reference/html/jdbc.html#jdbc-outbound-gateway</a>.</p>\n<p>In addition you may look into a <code>@MessagingGateway</code> contract to not deal with channels in your REST controller: <a href=\"https://docs.spring.io/spring-integration/reference/html/messaging-endpoints.html#gateway\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/reference/html/messaging-endpoints.html#gateway</a></p>\n"}],"owner":{"account_id":20547205,"reputation":31,"user_id":15080722,"display_name":"sammy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675361144,"creation_date":1675255076,"question_id":75310300,"body_markdown":"I am new to spring integration and i want to write the below flow programmatically\r\n\r\nI have below inbound channel adapter in which I query the DB and passing it to OutChannel\r\nand from OutChannel to AccountOutputChannel. AccountOutputChannel has refernce of a class which calls onMessage when message is available on AccountOutputChannel\r\n\r\nHow can I do this all programmatically\r\n\r\n    &lt;int-jdbc:inbound-channel-adapter id=&quot;jdbcInbound&quot;\r\n                                          channel=&quot;OutChannel&quot;\r\n                                          data-source=&quot;dataSource&quot;\r\n                                          query=&quot;SELECT * FROM Accounts&quot;\r\n                                          max-rows-per-poll=&quot;100&quot;\r\n                                          row-mapper=&quot;AccountRowMapper&quot;&gt;\r\n            &lt;int:poller fixed-rate=&quot;1000&quot;/&gt;\r\n        &lt;/int-jdbc:inbound-channel-adapter&gt;\r\n    \r\n    &lt;int:channel id=&quot;OutChannel&quot;/&gt;\r\n    \r\n    &lt;int:bridge input-channel=&quot;OutChannel&quot; output-channel=&quot;AccountOutputChannel&quot;/&gt;\r\n    \r\n    &lt;int:channel id=&quot;AccountOutputChannel&quot;&gt;\r\n       &lt;int:dispatcher task-executor=&quot;executorPool&quot;/&gt;\r\n    &lt;/int:channel&gt;\r\n    \r\n    &lt;int:service-activator input-channel=&quot;AccountOutputChannel&quot; ref=&quot;AccountService&quot; method=&quot;onMessage&quot;/&gt;","title":"How to write jdbc inbound channel adapter programmatically to read data from DB and pass to output channel?","body":"<p>I am new to spring integration and i want to write the below flow programmatically</p>\n<p>I have below inbound channel adapter in which I query the DB and passing it to OutChannel\nand from OutChannel to AccountOutputChannel. AccountOutputChannel has refernce of a class which calls onMessage when message is available on AccountOutputChannel</p>\n<p>How can I do this all programmatically</p>\n<pre><code>&lt;int-jdbc:inbound-channel-adapter id=&quot;jdbcInbound&quot;\n                                      channel=&quot;OutChannel&quot;\n                                      data-source=&quot;dataSource&quot;\n                                      query=&quot;SELECT * FROM Accounts&quot;\n                                      max-rows-per-poll=&quot;100&quot;\n                                      row-mapper=&quot;AccountRowMapper&quot;&gt;\n        &lt;int:poller fixed-rate=&quot;1000&quot;/&gt;\n    &lt;/int-jdbc:inbound-channel-adapter&gt;\n\n&lt;int:channel id=&quot;OutChannel&quot;/&gt;\n\n&lt;int:bridge input-channel=&quot;OutChannel&quot; output-channel=&quot;AccountOutputChannel&quot;/&gt;\n\n&lt;int:channel id=&quot;AccountOutputChannel&quot;&gt;\n   &lt;int:dispatcher task-executor=&quot;executorPool&quot;/&gt;\n&lt;/int:channel&gt;\n\n&lt;int:service-activator input-channel=&quot;AccountOutputChannel&quot; ref=&quot;AccountService&quot; method=&quot;onMessage&quot;/&gt;\n</code></pre>\n"},{"tags":["java","algorithm","montecarlo","union-find"],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675361109,"creation_date":1675361109,"answer_id":75327234,"question_id":75327007,"body_markdown":"You have not set `gridMap`, though it is mentioned in a method called `public int Percolation (int n)`. Perhaps you intended that `Percolation` is called from body of the constructor which you declared as `public percolation(int n)`. \r\n\r\nThe fix should be simple: move the `public int Percolation (int n)` code into the constructor or make constructor `public percolation(int n)` call `Percolation(n)`.\r\n\r\nThe class should follow conventions and renamed to `Percolation`.\r\n\r\n","title":"percolation problem (java -cannot run appropriately)","body":"<p>You have not set <code>gridMap</code>, though it is mentioned in a method called <code>public int Percolation (int n)</code>. Perhaps you intended that <code>Percolation</code> is called from body of the constructor which you declared as <code>public percolation(int n)</code>.</p>\n<p>The fix should be simple: move the <code>public int Percolation (int n)</code> code into the constructor or make constructor <code>public percolation(int n)</code> call <code>Percolation(n)</code>.</p>\n<p>The class should follow conventions and renamed to <code>Percolation</code>.</p>\n"}],"owner":{"account_id":26560981,"reputation":3,"user_id":20313875,"display_name":"DTJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75327234,"answer_count":1,"score":0,"last_activity_date":1675361109,"creation_date":1675359765,"question_id":75327007,"body_markdown":"I have a problem relating to the percolation model with the latest version of Java\r\n\r\nMy project includes three file a illegalargumentexception.java file (use to handle illegal arguments), a percolation.java file (the datatype), and the PercolationStats.java file (use to calculate and generate the statistic)\r\n\r\nIn my expectation, the code should generate the probability of the percolated model (after a specific time of trials)\r\n\r\nAnd here is my code:\r\n\r\nthe percolation datatype:\r\n\r\n```\r\nimport edu.princeton.cs.algs4.WeightedQuickUnionUF;\r\n\r\npublic class percolation {\r\n      \r\n    public static boolean[] grid;                        \r\n    public static WeightedQuickUnionUF  gridMap  ;                            \r\n    public static int openCell;              \r\n    public static int top = 0;       \r\n    private static int current_index;\r\n    public int bottom;\r\n    private int n;\r\n    public percolation(int n) {\r\n    }\r\n\r\n    // creates n-by-n grid, with all sites initially blocked \r\n    public int Percolation (int n) {  \r\n       \r\n        gridMap = new WeightedQuickUnionUF(n*n + 2);\r\n        grid = new boolean[n*n + 2];\r\n        this.n =n;\r\n         openCell = 0;\r\n        top = 0;\r\n        bottom = n*n +1;\r\n        if (n &lt;=0) {\r\n            throw new IllegalArgumentException(&quot;Grid&#39;s number can not negative or equal to zero&quot;);\r\n        }\r\n        return n ;\r\n    }\r\n    \r\n    // opens the site (row, col) if it is not open already \r\n    public void open( int row, int col) {\r\n        current_index = (row-1)*n + (col-1);\r\n        grid[percolation.current_index] = true;\r\n        percolation.openCell++;\r\n        if (row == 1) \r\n            gridMap.union(percolation.current_index, top);\r\n        if(row == this.n) \r\n            gridMap.union(current_index, col);\r\n        \r\n\r\n        if (row &gt; this.n || col &gt; this.n)\r\n            throw new IllegalArgumentException(&quot;Out of bound&quot;);\r\n    \r\n        if (row &lt;1 || col &lt;1)\r\n            throw new IllegalArgumentException(&quot;The index must be greater than zero&quot;);\r\n        \r\n        if(row &gt;1 &amp;&amp; isOpen(row-1, col)) // above cell\r\n         {\r\n            assert(current_index &gt; n);\r\n            gridMap.union(current_index,current_index-n);\r\n        }\r\n\r\n\r\n        if (row &lt; this.n &amp;&amp; isOpen(row + 1 , col))  // below cell     \r\n        {                                       \r\n            assert(current_index + n &lt; n * n);                                       \r\n            gridMap.union(current_index , current_index + n);                                   \r\n            }\r\n        if(col &gt; 1 &amp;&amp; isOpen(row, col - 1))  //left cell\r\n            {                                       \r\n            gridMap.union(current_index,current_index- 1);                                   \r\n                }\r\n        if(col &lt; this.n &amp;&amp; isOpen(row, col + 1))  //right cell\r\n         {\r\n            gridMap.union(current_index,current_index + 1);\r\n        }\r\n        \r\n        return ;\r\n    }\r\n\r\n    // is the site (row, col) open?\r\n    public boolean isOpen(int row, int col) {\r\n      return grid[current_index];\r\n    }\r\n\r\n    // is the site (row, col) full?\r\n    public boolean isFull(int row, int col) \r\n    {\r\n        if(!isOpen(row,col)) return false;                                                       \r\n        return gridMap.find(current_index) == gridMap.find(top);  \r\n\r\n    }\r\n        \r\n    public int numberOfOpenSites()  // returns the number of open sites \r\n    {\r\n        return percolation.openCell;\r\n    }\r\n\r\n    // does the system percolate?\r\n    public boolean percolates() {\r\n        return gridMap.find(top) == gridMap.find(bottom);\r\n       \r\n    }\r\n   \r\n    // test client (optional)\r\n    public static void main(String[] args) {\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\nthe PercolationStats.java file \r\n\r\n```\r\nimport edu.princeton.cs.algs4.StdRandom;\r\nimport edu.princeton.cs.algs4.StdStats;\r\npublic class PercolationStats {\r\n  \r\n    \r\n   public static double[] result;\r\n   public static int trials;\r\n        // perform independent trials on an n-by-n grid\r\n        public PercolationStats(int n, int trials) {\r\n                \r\n           \r\n            double[] result = new double[trials];\r\n            int test_row ;\r\n            int test_col ;\r\n            for (int i=0; i &lt;trials; i++) {\r\n             percolation per =  new percolation(n);\r\n             while (!per.percolates()) {\r\n                test_row = (int)((StdRandom.uniformInt(n)*n) +1 );\r\n                test_col = (int)((StdRandom.uniformInt(n)*n) +1 );\r\n                \r\n                if( !per.isOpen(test_row,test_col) ) \r\n                    per.open(test_row,test_col);\r\n                \r\n             }\r\n             result[i] = (double)(per.numberOfOpenSites()) / (n * n);\r\n            }\r\n            \r\n                if(n &lt;= 0 || trials &lt;= 0) throw new IllegalArgumentException(&quot;Must greater than zero&quot;);\r\n        }\r\n    \r\n        // sample mean of percolation threshold\r\n        public double mean() {\r\n            \r\n            return StdStats.mean(result);\r\n\r\n        }\r\n    \r\n        // sample standard deviation of percolation threshold\r\n        public double stddev() {\r\n            return StdStats.stddev(result) ;\r\n\r\n        }\r\n    \r\n        // low endpoint of 95% confidence interval\r\n        public double Low_confidence() {\r\n            return (mean() - (1.96 * stddev())/ Math.sqrt(trials));\r\n\r\n        }\r\n    \r\n        // high endpoint of 95% confidence interval\r\n        public double High_confidenceHi() {\r\n            return mean() + (1.96 * stddev())/ Math.sqrt(trials);\r\n\r\n        }\r\n    \r\n       // test client (see below)\r\n       public static void main(String[] args) {\r\n        PercolationStats s = new PercolationStats(50,10000);\r\n        System.out.println(&quot;Mean:&quot; + s.mean());\r\n        System.out.println(&quot;Standard Deviation:&quot;+ s.stddev());\r\n        System.out.println(&quot;High Confidence&quot; + s.High_confidenceHi());\r\n        System.out.println(&quot;Low Confidence&quot; + s.Low_confidence());\r\n       }\r\n    \r\n    \r\n}\r\n```\r\n\r\n\r\nMy expectation is when I compile the PercolationStats file it will generate the result of the percolating probability threshold like this: (the result if you give the input 200 by 200 grid and try the simulation 100 times\r\n\r\n```\r\n~/Desktop/percolation&gt; java-algs4 PercolationStats 200 100\r\nmean                    = 0.5929934999999997\r\nstddev                  = 0.00876990421552567\r\n95% confidence interval = [0.5912745987737567, 0.5947124012262428]\r\n```\r\nbut my result is a bunch of errors that:\r\n```\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;edu.princeton.cs.algs4.WeightedQuickUnionUF.find(int)&quot; because &quot;percolation.gridMap&quot; is null\r\n        at percolation.percolates(percolation.java:93)\r\n        at PercolationStats.&lt;init&gt;(PercolationStats.java:17)\r\n        at PercolationStats.main(PercolationStats.java:58)\\\r\n```\r\nI believe this is to be caused by the percolate datatype, and to be more specific is the line:\r\n```\r\npublic boolean percolates() {\r\n        return gridMap.find(top) == gridMap.find(bottom);\r\n       \r\n    }\r\n```\r\nIt states that the gridMap variable of Union-Find is null - I don&#39;t know why this happens, I speculate this can relate to the scope of the &quot;gridMap&quot; variable, which is not applicable to all methods in the datatype. That is my hypothesis It could be wrong.\r\n\r\n\r\n**Can anyone give me a clue for why this happens and what should I fix for the successful compilation (I means to generate the probability)**\r\n\r\nThanks in advance!","title":"percolation problem (java -cannot run appropriately)","body":"<p>I have a problem relating to the percolation model with the latest version of Java</p>\n<p>My project includes three file a illegalargumentexception.java file (use to handle illegal arguments), a percolation.java file (the datatype), and the PercolationStats.java file (use to calculate and generate the statistic)</p>\n<p>In my expectation, the code should generate the probability of the percolated model (after a specific time of trials)</p>\n<p>And here is my code:</p>\n<p>the percolation datatype:</p>\n<pre><code>import edu.princeton.cs.algs4.WeightedQuickUnionUF;\n\npublic class percolation {\n      \n    public static boolean[] grid;                        \n    public static WeightedQuickUnionUF  gridMap  ;                            \n    public static int openCell;              \n    public static int top = 0;       \n    private static int current_index;\n    public int bottom;\n    private int n;\n    public percolation(int n) {\n    }\n\n    // creates n-by-n grid, with all sites initially blocked \n    public int Percolation (int n) {  \n       \n        gridMap = new WeightedQuickUnionUF(n*n + 2);\n        grid = new boolean[n*n + 2];\n        this.n =n;\n         openCell = 0;\n        top = 0;\n        bottom = n*n +1;\n        if (n &lt;=0) {\n            throw new IllegalArgumentException(&quot;Grid's number can not negative or equal to zero&quot;);\n        }\n        return n ;\n    }\n    \n    // opens the site (row, col) if it is not open already \n    public void open( int row, int col) {\n        current_index = (row-1)*n + (col-1);\n        grid[percolation.current_index] = true;\n        percolation.openCell++;\n        if (row == 1) \n            gridMap.union(percolation.current_index, top);\n        if(row == this.n) \n            gridMap.union(current_index, col);\n        \n\n        if (row &gt; this.n || col &gt; this.n)\n            throw new IllegalArgumentException(&quot;Out of bound&quot;);\n    \n        if (row &lt;1 || col &lt;1)\n            throw new IllegalArgumentException(&quot;The index must be greater than zero&quot;);\n        \n        if(row &gt;1 &amp;&amp; isOpen(row-1, col)) // above cell\n         {\n            assert(current_index &gt; n);\n            gridMap.union(current_index,current_index-n);\n        }\n\n\n        if (row &lt; this.n &amp;&amp; isOpen(row + 1 , col))  // below cell     \n        {                                       \n            assert(current_index + n &lt; n * n);                                       \n            gridMap.union(current_index , current_index + n);                                   \n            }\n        if(col &gt; 1 &amp;&amp; isOpen(row, col - 1))  //left cell\n            {                                       \n            gridMap.union(current_index,current_index- 1);                                   \n                }\n        if(col &lt; this.n &amp;&amp; isOpen(row, col + 1))  //right cell\n         {\n            gridMap.union(current_index,current_index + 1);\n        }\n        \n        return ;\n    }\n\n    // is the site (row, col) open?\n    public boolean isOpen(int row, int col) {\n      return grid[current_index];\n    }\n\n    // is the site (row, col) full?\n    public boolean isFull(int row, int col) \n    {\n        if(!isOpen(row,col)) return false;                                                       \n        return gridMap.find(current_index) == gridMap.find(top);  \n\n    }\n        \n    public int numberOfOpenSites()  // returns the number of open sites \n    {\n        return percolation.openCell;\n    }\n\n    // does the system percolate?\n    public boolean percolates() {\n        return gridMap.find(top) == gridMap.find(bottom);\n       \n    }\n   \n    // test client (optional)\n    public static void main(String[] args) {\n\n    }\n\n\n\n}\n</code></pre>\n<p>the PercolationStats.java file</p>\n<pre><code>import edu.princeton.cs.algs4.StdRandom;\nimport edu.princeton.cs.algs4.StdStats;\npublic class PercolationStats {\n  \n    \n   public static double[] result;\n   public static int trials;\n        // perform independent trials on an n-by-n grid\n        public PercolationStats(int n, int trials) {\n                \n           \n            double[] result = new double[trials];\n            int test_row ;\n            int test_col ;\n            for (int i=0; i &lt;trials; i++) {\n             percolation per =  new percolation(n);\n             while (!per.percolates()) {\n                test_row = (int)((StdRandom.uniformInt(n)*n) +1 );\n                test_col = (int)((StdRandom.uniformInt(n)*n) +1 );\n                \n                if( !per.isOpen(test_row,test_col) ) \n                    per.open(test_row,test_col);\n                \n             }\n             result[i] = (double)(per.numberOfOpenSites()) / (n * n);\n            }\n            \n                if(n &lt;= 0 || trials &lt;= 0) throw new IllegalArgumentException(&quot;Must greater than zero&quot;);\n        }\n    \n        // sample mean of percolation threshold\n        public double mean() {\n            \n            return StdStats.mean(result);\n\n        }\n    \n        // sample standard deviation of percolation threshold\n        public double stddev() {\n            return StdStats.stddev(result) ;\n\n        }\n    \n        // low endpoint of 95% confidence interval\n        public double Low_confidence() {\n            return (mean() - (1.96 * stddev())/ Math.sqrt(trials));\n\n        }\n    \n        // high endpoint of 95% confidence interval\n        public double High_confidenceHi() {\n            return mean() + (1.96 * stddev())/ Math.sqrt(trials);\n\n        }\n    \n       // test client (see below)\n       public static void main(String[] args) {\n        PercolationStats s = new PercolationStats(50,10000);\n        System.out.println(&quot;Mean:&quot; + s.mean());\n        System.out.println(&quot;Standard Deviation:&quot;+ s.stddev());\n        System.out.println(&quot;High Confidence&quot; + s.High_confidenceHi());\n        System.out.println(&quot;Low Confidence&quot; + s.Low_confidence());\n       }\n    \n    \n}\n</code></pre>\n<p>My expectation is when I compile the PercolationStats file it will generate the result of the percolating probability threshold like this: (the result if you give the input 200 by 200 grid and try the simulation 100 times</p>\n<pre><code>~/Desktop/percolation&gt; java-algs4 PercolationStats 200 100\nmean                    = 0.5929934999999997\nstddev                  = 0.00876990421552567\n95% confidence interval = [0.5912745987737567, 0.5947124012262428]\n</code></pre>\n<p>but my result is a bunch of errors that:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;edu.princeton.cs.algs4.WeightedQuickUnionUF.find(int)&quot; because &quot;percolation.gridMap&quot; is null\n        at percolation.percolates(percolation.java:93)\n        at PercolationStats.&lt;init&gt;(PercolationStats.java:17)\n        at PercolationStats.main(PercolationStats.java:58)\\\n</code></pre>\n<p>I believe this is to be caused by the percolate datatype, and to be more specific is the line:</p>\n<pre><code>public boolean percolates() {\n        return gridMap.find(top) == gridMap.find(bottom);\n       \n    }\n</code></pre>\n<p>It states that the gridMap variable of Union-Find is null - I don't know why this happens, I speculate this can relate to the scope of the &quot;gridMap&quot; variable, which is not applicable to all methods in the datatype. That is my hypothesis It could be wrong.</p>\n<p><strong>Can anyone give me a clue for why this happens and what should I fix for the successful compilation (I means to generate the probability)</strong></p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":56079,"reputation":7550,"user_id":167973,"accept_rate":82,"display_name":"Carl"},"score":0,"creation_date":1268055325,"post_id":2401134,"comment_id":2381243,"body_markdown":"do you want the enum or the string to be the key?","body":"do you want the enum or the string to be the key?"},{"owner":{"account_id":35892,"reputation":30826,"user_id":102008,"accept_rate":37,"display_name":"user102008"},"score":0,"creation_date":1293743619,"post_id":2401134,"comment_id":5009525,"body_markdown":"instead of all that reflection stuff, you can just do `klass.getEnumConstants()`","body":"instead of all that reflection stuff, you can just do <code>klass.getEnumConstants()</code>"}],"answers":[{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"down_vote_count":2,"up_vote_count":25,"is_accepted":true,"score":23,"last_activity_date":1268050929,"creation_date":1268050519,"answer_id":2401152,"question_id":2401134,"body_markdown":"Provided you need to map from the textual values to the enum instances:\r\n\r\n    Map&lt;String, UserType&gt; map = new HashMap&lt;String, UserType&gt;();\r\n    map.put(RESELLER.getName(), RESELLER);\r\n    map.put(SERVICE_MANAGER.getName(), SERVICE_MANAGER);\r\n    map.put(HOST.getName(), HOST);\r\n\r\nor a more generic approach:\r\n\r\n    for (UserType userType : UserType.values()) {\r\n        map.put(userType.getName(), userType);\r\n    }\r\n","title":"Easiest way to get Enum in to Key Value pair","body":"<p>Provided you need to map from the textual values to the enum instances:</p>\n\n<pre><code>Map&lt;String, UserType&gt; map = new HashMap&lt;String, UserType&gt;();\nmap.put(RESELLER.getName(), RESELLER);\nmap.put(SERVICE_MANAGER.getName(), SERVICE_MANAGER);\nmap.put(HOST.getName(), HOST);\n</code></pre>\n\n<p>or a more generic approach:</p>\n\n<pre><code>for (UserType userType : UserType.values()) {\n    map.put(userType.getName(), userType);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12478,"reputation":23673,"user_id":24582,"display_name":"extraneon"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1268050756,"creation_date":1268050756,"answer_id":2401178,"question_id":2401134,"body_markdown":"You could use the values() method on the enum, giving you all possible combinations, and put that in a map using the iterator.\r\n\r\n    Map&lt;String, UserType&gt; map = new HashMap&lt;String, UserType&gt;();\r\n    for (UserType userType : UserType.values()) {\r\n        map.put(userType.name(), userType);\r\n    }","title":"Easiest way to get Enum in to Key Value pair","body":"<p>You could use the values() method on the enum, giving you all possible combinations, and put that in a map using the iterator.</p>\n\n<pre><code>Map&lt;String, UserType&gt; map = new HashMap&lt;String, UserType&gt;();\nfor (UserType userType : UserType.values()) {\n    map.put(userType.name(), userType);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":62777,"reputation":341,"user_id":186252,"display_name":"Lior Bornshtain"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1314097290,"creation_date":1314097290,"answer_id":7160002,"question_id":2401134,"body_markdown":"I think that the eaiest method for using an Enum as a key in a map is using an EnumMap http://download.oracle.com/javase/1,5.0/docs/api/java/util/EnumMap.html\r\n\r\n","title":"Easiest way to get Enum in to Key Value pair","body":"<p>I think that the eaiest method for using an Enum as a key in a map is using an EnumMap <a href=\"http://download.oracle.com/javase/1,5.0/docs/api/java/util/EnumMap.html\" rel=\"nofollow\">http://download.oracle.com/javase/1,5.0/docs/api/java/util/EnumMap.html</a></p>\n"},{"tags":[],"owner":{"account_id":4233984,"reputation":1840,"user_id":3465683,"display_name":"Rinor"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1550154019,"creation_date":1550154019,"answer_id":54692594,"question_id":2401134,"body_markdown":"Java 8 way:\r\n\r\n    Arrays.stream(UserType.values())\r\n          .collect(Collectors.toMap(UserType::getName, Function.identity()))\r\n\r\nUnderstandably store it in a variable :)","title":"Easiest way to get Enum in to Key Value pair","body":"<p>Java 8 way:</p>\n\n<pre><code>Arrays.stream(UserType.values())\n      .collect(Collectors.toMap(UserType::getName, Function.identity()))\n</code></pre>\n\n<p>Understandably store it in a variable :)</p>\n"},{"tags":[],"owner":{"account_id":5764642,"reputation":1732,"user_id":4549952,"display_name":"Chamin Wickramarathna"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1621740678,"creation_date":1621740678,"answer_id":67655881,"question_id":2401134,"body_markdown":"You could use EnumMap which is a Map implementation that exclusively takes Enum as its keys.\r\n\r\n    EnumMap&lt;UserType, String&gt; activityMap = new EnumMap&lt;&gt;(UserType.class);\r\n\r\n&gt; However, EnumMap requires the key type in the constructor.\r\n\r\nReference: https://www.baeldung.com/java-enum-map","title":"Easiest way to get Enum in to Key Value pair","body":"<p>You could use EnumMap which is a Map implementation that exclusively takes Enum as its keys.</p>\n<pre><code>EnumMap&lt;UserType, String&gt; activityMap = new EnumMap&lt;&gt;(UserType.class);\n</code></pre>\n<blockquote>\n<p>However, EnumMap requires the key type in the constructor.</p>\n</blockquote>\n<p>Reference: <a href=\"https://www.baeldung.com/java-enum-map\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-enum-map</a></p>\n"},{"tags":[],"owner":{"account_id":7291906,"reputation":503,"user_id":7789681,"display_name":"Alexey Bril"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675361106,"creation_date":1675361106,"answer_id":75327233,"question_id":2401134,"body_markdown":"With Java 8 stream api and assignment immediately to the desired structure:\r\n\r\n    HashMap&lt;String, UserType&gt; collect = Arrays.stream(UserType.values())\r\n        .collect(Collectors.toMap(\r\n                UserType::getName,\r\n                Function.identity(),\r\n                (prev, next) -&gt; next, HashMap::new)\r\n        );","title":"Easiest way to get Enum in to Key Value pair","body":"<p>With Java 8 stream api and assignment immediately to the desired structure:</p>\n<pre><code>HashMap&lt;String, UserType&gt; collect = Arrays.stream(UserType.values())\n    .collect(Collectors.toMap(\n            UserType::getName,\n            Function.identity(),\n            (prev, next) -&gt; next, HashMap::new)\n    );\n</code></pre>\n"}],"owner":{"account_id":67351,"reputation":2454,"user_id":197125,"accept_rate":85,"display_name":"vijay.shad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95945,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":2401152,"answer_count":6,"score":18,"last_activity_date":1675361106,"creation_date":1268050279,"question_id":2401134,"body_markdown":"I have defined my Enums like this.\r\n\r\n    public enum UserType {\r\n\r\n        RESELLER(&quot;Reseller&quot;),\r\n\r\n        SERVICE_MANAGER(&quot;Manager&quot;),\r\n\r\n        HOST(&quot;Host&quot;);\r\n\r\n        private String name;\r\n\r\n        private UserType(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n    }\r\n\r\nWhat should be the easiest way to get a key-value pair form the enum values?\r\n\r\nThe output map i want to create should be like this\r\n    \r\n    key   = Enum(example:- HOST)\r\n    value = Host\r\n\r\nThe map I want do define is \r\n    \r\n    Map&lt;String, String&gt; constansts = new HashMap&lt;String, String&gt;();\r\n\r\nAns: What I Did\r\n  \r\nI have created a Generic Method to access any enum and change values from that to a Map. I got this IDEA, form a code fragment found at here in any other thread.\r\n\r\n\tpublic static &lt;T extends Enum&lt;T&gt;&gt; Map&lt;String, String&gt; getConstantMap(\r\n\t\t\tClass&lt;T&gt; klass) {\r\n\r\n\t\tMap&lt;String, String&gt; vals = new HashMap&lt;String, String&gt;(0);\r\n\r\n\t\ttry {\r\n\t\t\tMethod m = klass.getMethod(&quot;values&quot;, null);\r\n\t\t\tObject obj = m.invoke(null, null);\r\n\r\n\t\t\tfor (Enum&lt;T&gt; enumval : (Enum&lt;T&gt;[]) obj) {\r\n\t\t\t\tvals.put(enumval.name(), enumval.toString());\r\n\t\t\t}\r\n\r\n\t\t} catch (Exception ex) {\r\n\t\t\t// shouldn&#39;t happen...\r\n\t\t}\r\n\r\n\t\treturn vals;\r\n\t}\r\n\r\nNow, After this all I have to do is call this method with all the enum constructs and i am Done.\r\n\r\nOne More thing\r\n\r\nTo get This done i have to orverride the toString Method like this\r\n\r\n        public String toString() {\r\n            return name;\r\n        }\r\n\r\nThanks.","title":"Easiest way to get Enum in to Key Value pair","body":"<p>I have defined my Enums like this.</p>\n\n<pre><code>public enum UserType {\n\n    RESELLER(\"Reseller\"),\n\n    SERVICE_MANAGER(\"Manager\"),\n\n    HOST(\"Host\");\n\n    private String name;\n\n    private UserType(String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n}\n</code></pre>\n\n<p>What should be the easiest way to get a key-value pair form the enum values?</p>\n\n<p>The output map i want to create should be like this</p>\n\n<pre><code>key   = Enum(example:- HOST)\nvalue = Host\n</code></pre>\n\n<p>The map I want do define is </p>\n\n<pre><code>Map&lt;String, String&gt; constansts = new HashMap&lt;String, String&gt;();\n</code></pre>\n\n<p>Ans: What I Did</p>\n\n<p>I have created a Generic Method to access any enum and change values from that to a Map. I got this IDEA, form a code fragment found at here in any other thread.</p>\n\n<pre><code>public static &lt;T extends Enum&lt;T&gt;&gt; Map&lt;String, String&gt; getConstantMap(\n        Class&lt;T&gt; klass) {\n\n    Map&lt;String, String&gt; vals = new HashMap&lt;String, String&gt;(0);\n\n    try {\n        Method m = klass.getMethod(\"values\", null);\n        Object obj = m.invoke(null, null);\n\n        for (Enum&lt;T&gt; enumval : (Enum&lt;T&gt;[]) obj) {\n            vals.put(enumval.name(), enumval.toString());\n        }\n\n    } catch (Exception ex) {\n        // shouldn't happen...\n    }\n\n    return vals;\n}\n</code></pre>\n\n<p>Now, After this all I have to do is call this method with all the enum constructs and i am Done.</p>\n\n<p>One More thing</p>\n\n<p>To get This done i have to orverride the toString Method like this</p>\n\n<pre><code>    public String toString() {\n        return name;\n    }\n</code></pre>\n\n<p>Thanks.</p>\n"},{"tags":["java","kubernetes","google-kubernetes-engine","google-secret-manager"],"owner":{"account_id":12145408,"reputation":1,"user_id":8867960,"display_name":"Fran Luz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675361038,"creation_date":1672346054,"question_id":74955829,"body_markdown":"I have a problem with my java pod application:\r\n\r\nI put a service account in the deployment.yaml, my code is:\r\n\r\n```\r\n@RestController\r\npublic class HelloSecretController{\r\n    @Value(&quot;${sm://myjavasecret}&quot;)\r\n    String myJavaSecret;\r\n    @Autowired\r\n    private Quickstart quick;\r\n    @Autowired\r\n    private GoogleCredentialsConfig config;\r\n    @GetMapping\r\n    public String hello(){\r\n        String resultado =&quot;&quot;;\r\n        try{\r\n             resultado = myJavaSecret + &quot; World&quot;;\r\n        }\r\n        catch(com.google.api.gax.rpc.PermissionDeniedException deniedException){\r\n            System.out.println(&quot;Houve um erro ao tentar pegar o SECRET MANAGER  {}&quot;+ deniedException.getMessage());\r\n\t\t\tthrow deniedException;\r\n        }\r\n        catch(Exception exception){\r\n            System.out.println(&quot;Houve um erro ao tentar pegar o SECRET MANAGER  {}&quot;+ exception.getMessage());\r\n\t     }\r\n        return resultado;\r\n    }\r\n}\r\n```\r\nalso put the reference in the properties.\r\nBut insede of the gke in GCP I&#39;m getting this error:\r\n\r\nInjection of autowired dependencies failed; nested exception is com.google.api.gax.rpc.PermissionDeniedException: io.grpc.StatusRuntimeException: PERMISSION_DENIED: Permission &#39;secretmanager.versions.access&#39; denied for resource\r\n\r\nCan somebody please help? \r\n\r\nI tryed declare a externalSecret, set this with a clusterStorage and set the same namespace at my deployment pod. I expected just print a simple hello word.","title":"Java springboot gke + secret manager","body":"<p>I have a problem with my java pod application:</p>\n<p>I put a service account in the deployment.yaml, my code is:</p>\n<pre><code>@RestController\npublic class HelloSecretController{\n    @Value(&quot;${sm://myjavasecret}&quot;)\n    String myJavaSecret;\n    @Autowired\n    private Quickstart quick;\n    @Autowired\n    private GoogleCredentialsConfig config;\n    @GetMapping\n    public String hello(){\n        String resultado =&quot;&quot;;\n        try{\n             resultado = myJavaSecret + &quot; World&quot;;\n        }\n        catch(com.google.api.gax.rpc.PermissionDeniedException deniedException){\n            System.out.println(&quot;Houve um erro ao tentar pegar o SECRET MANAGER  {}&quot;+ deniedException.getMessage());\n            throw deniedException;\n        }\n        catch(Exception exception){\n            System.out.println(&quot;Houve um erro ao tentar pegar o SECRET MANAGER  {}&quot;+ exception.getMessage());\n         }\n        return resultado;\n    }\n}\n</code></pre>\n<p>also put the reference in the properties.\nBut insede of the gke in GCP I'm getting this error:</p>\n<p>Injection of autowired dependencies failed; nested exception is com.google.api.gax.rpc.PermissionDeniedException: io.grpc.StatusRuntimeException: PERMISSION_DENIED: Permission 'secretmanager.versions.access' denied for resource</p>\n<p>Can somebody please help?</p>\n<p>I tryed declare a externalSecret, set this with a clusterStorage and set the same namespace at my deployment pod. I expected just print a simple hello word.</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection"],"comments":[{"owner":{"account_id":7774266,"reputation":186,"user_id":5882852,"display_name":"Thorne"},"score":0,"creation_date":1675339955,"post_id":75322950,"comment_id":132909997,"body_markdown":"You could try passing those values as Bean method arguments: `public ClientHttpConnector getConnector(@Value(&quot;${connectionTimeout}&quot;) int connectionTimeout, @Value(&quot;${responseTimeout}&quot;) int responseTimeout) { .. }`","body":"You could try passing those values as Bean method arguments: <code>public ClientHttpConnector getConnector(@Value(&quot;${connectionTimeout}&quot;) int connectionTimeout, @Value(&quot;${responseTimeout}&quot;) int responseTimeout) { .. }</code>"},{"owner":{"account_id":27684419,"reputation":1,"user_id":21132469,"display_name":"NotMyRealName32"},"score":0,"creation_date":1675340500,"post_id":75322950,"comment_id":132910184,"body_markdown":"What values do I pass to getConnector() when I create WebClient after this as it now requires those two arguments?","body":"What values do I pass to getConnector() when I create WebClient after this as it now requires those two arguments?"},{"owner":{"account_id":7774266,"reputation":186,"user_id":5882852,"display_name":"Thorne"},"score":0,"creation_date":1675340657,"post_id":75322950,"comment_id":132910253,"body_markdown":"Also pass the same values to your `webClient()` bean and then just pass them down to `getConnector()`","body":"Also pass the same values to your <code>webClient()</code> bean and then just pass them down to <code>getConnector()</code>"},{"owner":{"account_id":27684419,"reputation":1,"user_id":21132469,"display_name":"NotMyRealName32"},"score":0,"creation_date":1675341155,"post_id":75322950,"comment_id":132910412,"body_markdown":"It still appears not to load when it is needed -org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;getConnector&#39; defined in ...config.Config: Unsatisfied dependency expressed through method &#39;getConnector&#39; parameter 0; nested exception is org.springframework.beans.TypeMismatchException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;int&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;${connectionTimeout}&quot;","body":"It still appears not to load when it is needed -org.springframework.beans.factory.UnsatisfiedDependencyExce&zwnj;&#8203;ption: Error creating bean with name &#39;getConnector&#39; defined in ...config.Config: Unsatisfied dependency expressed through method &#39;getConnector&#39; parameter 0; nested exception is org.springframework.beans.TypeMismatchException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;int&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;${connectionTimeout}&quot;"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675344529,"post_id":75322950,"comment_id":132911629,"body_markdown":"What happens in your initial case? Are they 0? Are they really in the `application.properties`. When is this configuration loaded, how are you loading things. Too many questions.","body":"What happens in your initial case? Are they 0? Are they really in the <code>application.properties</code>. When is this configuration loaded, how are you loading things. Too many questions."},{"owner":{"account_id":27684419,"reputation":1,"user_id":21132469,"display_name":"NotMyRealName32"},"score":0,"creation_date":1675345711,"post_id":75322950,"comment_id":132912087,"body_markdown":"Every way I try, they are not loaded, shows up as null if I use Environment, shows up as &quot;${connectionTimeout}&quot; if I try @Value. The thing that is different from my typical projects is that this spring context gets loaded as a module in guice. Not too familiar with it, so don&#39;t know if that is the reason.","body":"Every way I try, they are not loaded, shows up as null if I use Environment, shows up as &quot;${connectionTimeout}&quot; if I try @Value. The thing that is different from my typical projects is that this spring context gets loaded as a module in guice. Not too familiar with it, so don&#39;t know if that is the reason."}],"answers":[{"tags":[],"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675340441,"creation_date":1675340441,"answer_id":75323091,"question_id":75322950,"body_markdown":"Try injecting the values via constructor:\r\n\r\n```\r\npublic Config(@Value(&quot;${connectionTimeout}&quot;) int connectionTimeout,\r\n              @Value(&quot;${responseTimeout}&quot;) int responseTimeout) {\r\n    // assign to fields\r\n}\r\n```","title":"Using @Value in spring beans at initialization","body":"<p>Try injecting the values via constructor:</p>\n<pre><code>public Config(@Value(&quot;${connectionTimeout}&quot;) int connectionTimeout,\n              @Value(&quot;${responseTimeout}&quot;) int responseTimeout) {\n    // assign to fields\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7718592,"reputation":119,"user_id":5845487,"display_name":"Hassan Golshani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675354560,"creation_date":1675354560,"answer_id":75325998,"question_id":75322950,"body_markdown":"Try using Environment class.\r\n\r\n    @Configuration\r\n    public class Config {\r\n\r\n       private final Environment environment;\r\n\r\n       @Autowired\r\n       public Config(Environment environment) {\r\n           this.environment = environment;\r\n       }\r\n\r\n       @Bean\r\n       public SimpleBean simpleBean() {\r\n           SimpleBean simpleBean = new SimpleBean();\r\n           simpleBean.setConfOne(environment.getProperty(&quot;conf.one&quot;));\r\n           simpleBean.setConfTwo(environment.getProperty(&quot;conf.two&quot;));\r\n           return simpleBean;\r\n       } \r\n    }\r\n\r\n ","title":"Using @Value in spring beans at initialization","body":"<p>Try using Environment class.</p>\n<pre><code>@Configuration\npublic class Config {\n\n   private final Environment environment;\n\n   @Autowired\n   public Config(Environment environment) {\n       this.environment = environment;\n   }\n\n   @Bean\n   public SimpleBean simpleBean() {\n       SimpleBean simpleBean = new SimpleBean();\n       simpleBean.setConfOne(environment.getProperty(&quot;conf.one&quot;));\n       simpleBean.setConfTwo(environment.getProperty(&quot;conf.two&quot;));\n       return simpleBean;\n   } \n}\n</code></pre>\n"}],"owner":{"account_id":27684419,"reputation":1,"user_id":21132469,"display_name":"NotMyRealName32"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":831,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675360498,"creation_date":1675339690,"question_id":75322950,"body_markdown":"I need to provide timeouts from application.properties file, but at initialization it fails because properties are not yet loaded. What is best practice to get them loaded?\r\n```\r\n@Configuration\r\n@AllArgsConstructor\r\n@Slf4j\r\npublic class Config {\r\n\r\n    @Value(&quot;${connectionTimeout}&quot;) \r\n    int connectionTimeout;\r\n    @Value(&quot;${responseTimeout}&quot;) \r\n    int responseTimeout;\r\n\r\n    @Bean\r\n    public ClientHttpConnector getConnector() {\r\n        HttpClient client = HttpClient.create();\r\n\r\n        client.option(ChannelOption.CONNECT_TIMEOUT_MILLIS, connectionTimeout)\r\n                .responseTimeout(Duration.ofMillis(responseTimeout));\r\n\r\n        return new ReactorClientHttpConnector(client);\r\n\r\n    }\r\n    @Bean\r\n    public WebClient webClient() {\r\n        return WebClient.builder().defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_FORM_URLENCODED_VALUE)\r\n                .clientConnector(getConnector())\r\n                .build();\r\n    }\r\n```\r\napplication.properties from resource folder\r\n\r\n    connectionTimeout=30000\r\n    responseTimeout=30000\r\n\r\n\r\nAs suggested in other similar posts I tried using `@ConfigurationProperties`, but that didn&#39;t work at all. Is there some easier way to get them loaded that I am not aware of?","title":"Using @Value in spring beans at initialization","body":"<p>I need to provide timeouts from application.properties file, but at initialization it fails because properties are not yet loaded. What is best practice to get them loaded?</p>\n<pre><code>@Configuration\n@AllArgsConstructor\n@Slf4j\npublic class Config {\n\n    @Value(&quot;${connectionTimeout}&quot;) \n    int connectionTimeout;\n    @Value(&quot;${responseTimeout}&quot;) \n    int responseTimeout;\n\n    @Bean\n    public ClientHttpConnector getConnector() {\n        HttpClient client = HttpClient.create();\n\n        client.option(ChannelOption.CONNECT_TIMEOUT_MILLIS, connectionTimeout)\n                .responseTimeout(Duration.ofMillis(responseTimeout));\n\n        return new ReactorClientHttpConnector(client);\n\n    }\n    @Bean\n    public WebClient webClient() {\n        return WebClient.builder().defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_FORM_URLENCODED_VALUE)\n                .clientConnector(getConnector())\n                .build();\n    }\n</code></pre>\n<p>application.properties from resource folder</p>\n<pre><code>connectionTimeout=30000\nresponseTimeout=30000\n</code></pre>\n<p>As suggested in other similar posts I tried using <code>@ConfigurationProperties</code>, but that didn't work at all. Is there some easier way to get them loaded that I am not aware of?</p>\n"},{"tags":["java","spring-boot","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":1709870,"reputation":4053,"user_id":1568138,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570776627,"creation_date":1570776627,"answer_id":58335695,"question_id":50945923,"body_markdown":"**NOTE**: This approach relies on exploitation of an internal implementation, which may change in the future. You have been warned.\r\n\r\nThe class responsible for naming the health indicator is called `HealthIndicatorNameFactory` and looks like this in Spring Boot 2.0.5.RELEASE:\r\n\r\n    public class HealthIndicatorNameFactory implements Function&lt;String, String&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic String apply(String name) {\r\n    \t\tint index = name.toLowerCase(Locale.ENGLISH).indexOf(&quot;healthindicator&quot;);\r\n    \t\tif (index &gt; 0) {\r\n    \t\t\treturn name.substring(0, index);\r\n    \t\t}\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    }\r\n\r\nThis means that if you name your `@Component` to (say) `@Component(&quot;fooBarHealthIndicator&quot;)` you should be able to get by without any bean name clashes. The name clash occurs when Spring is wiring up your beans, not by the Actuator itself.","title":"(Re) name Spring Boot HealthIndicator","body":"<p><strong>NOTE</strong>: This approach relies on exploitation of an internal implementation, which may change in the future. You have been warned.</p>\n\n<p>The class responsible for naming the health indicator is called <code>HealthIndicatorNameFactory</code> and looks like this in Spring Boot 2.0.5.RELEASE:</p>\n\n<pre><code>public class HealthIndicatorNameFactory implements Function&lt;String, String&gt; {\n\n    @Override\n    public String apply(String name) {\n        int index = name.toLowerCase(Locale.ENGLISH).indexOf(\"healthindicator\");\n        if (index &gt; 0) {\n            return name.substring(0, index);\n        }\n        return name;\n    }\n\n}\n</code></pre>\n\n<p>This means that if you name your <code>@Component</code> to (say) <code>@Component(\"fooBarHealthIndicator\")</code> you should be able to get by without any bean name clashes. The name clash occurs when Spring is wiring up your beans, not by the Actuator itself.</p>\n"},{"tags":[],"owner":{"account_id":449410,"reputation":3835,"user_id":844177,"accept_rate":71,"display_name":"Oliver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675360341,"creation_date":1675360341,"answer_id":75327112,"question_id":50945923,"body_markdown":"You can create the bean for your health indicator via a configuration class and set via name of your health indicator via the `@Bean` annotation, as shown  below.\r\n\r\n```java\r\n@Configuration\r\npublic class HealthIndicatorConfiguration {\r\n    @Bean(&quot;MyServiceIndicator&quot;)\r\n    public HealthIndicator healthIndicatorForMyService() {\r\n        return new MyHealthIndicator();\r\n    }\r\n}\r\n\r\n```","title":"(Re) name Spring Boot HealthIndicator","body":"<p>You can create the bean for your health indicator via a configuration class and set via name of your health indicator via the <code>@Bean</code> annotation, as shown  below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class HealthIndicatorConfiguration {\n    @Bean(&quot;MyServiceIndicator&quot;)\n    public HealthIndicator healthIndicatorForMyService() {\n        return new MyHealthIndicator();\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":2357514,"reputation":1444,"user_id":3890673,"accept_rate":55,"display_name":"crusy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2005,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1675360341,"creation_date":1529490169,"question_id":50945923,"body_markdown":"I&#39;ve got the following [HealthIndicator][1]:\r\n\r\n    @Component\r\n    public class FooBarHealthIndicator implements HealthIndicator {\r\n      // ...\r\n\r\nWhich, **on production**, results in a JSON like:\r\n\r\n    status &quot;DOWN&quot;\r\n      details\r\n        fooBar\r\n          status &quot;DOWN&quot;\r\n\r\nBut in my integration test the JSON looks like\r\n\r\n    status &quot;DOWN&quot;\r\n      details\r\n        com.acme.fooBar\r\n          status &quot;DOWN&quot;\r\n\r\nNote the package path.\r\n\r\nSo my question is: Who&#39;s responsible for naming HealthIndicators within the `/health` JSON? And (how) can I configure this?\r\n\r\nPS: I already passed a name to `@Component`:\r\n\r\n    @Component(&quot;fooBar&quot;) // name clash!!\r\n    public class FooBarHealthIndicator implements HealthIndicator {\r\n      // ...\r\n\r\n which did the trick, but as `FooBarHealthIndicator` monitors a class `FooBar`, a bean of that name already is present. However, as it works in production without naming the `HealthIndicator`, there must be an additional way...\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/actuate/health/HealthIndicator.html","title":"(Re) name Spring Boot HealthIndicator","body":"<p>I've got the following <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/actuate/health/HealthIndicator.html\" rel=\"nofollow noreferrer\">HealthIndicator</a>:</p>\n\n<pre><code>@Component\npublic class FooBarHealthIndicator implements HealthIndicator {\n  // ...\n</code></pre>\n\n<p>Which, <strong>on production</strong>, results in a JSON like:</p>\n\n<pre><code>status \"DOWN\"\n  details\n    fooBar\n      status \"DOWN\"\n</code></pre>\n\n<p>But in my integration test the JSON looks like</p>\n\n<pre><code>status \"DOWN\"\n  details\n    com.acme.fooBar\n      status \"DOWN\"\n</code></pre>\n\n<p>Note the package path.</p>\n\n<p>So my question is: Who's responsible for naming HealthIndicators within the <code>/health</code> JSON? And (how) can I configure this?</p>\n\n<p>PS: I already passed a name to <code>@Component</code>:</p>\n\n<pre><code>@Component(\"fooBar\") // name clash!!\npublic class FooBarHealthIndicator implements HealthIndicator {\n  // ...\n</code></pre>\n\n<p>which did the trick, but as <code>FooBarHealthIndicator</code> monitors a class <code>FooBar</code>, a bean of that name already is present. However, as it works in production without naming the <code>HealthIndicator</code>, there must be an additional way...</p>\n"},{"tags":["java","guava"],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":64,"is_accepted":true,"score":64,"last_activity_date":1273090662,"creation_date":1273088533,"answer_id":2776245,"question_id":2776176,"body_markdown":"You can use the standard [`Collections#min()`][1] for this.\r\n\r\n    Map&lt;String, Double&gt; map = new HashMap&lt;String, Double&gt;();\r\n    map.put(&quot;1.1&quot;, 1.1);\r\n    map.put(&quot;0.1&quot;, 0.1);\r\n    map.put(&quot;2.1&quot;, 2.1);\r\n    \r\n    Double min = Collections.min(map.values());\r\n    System.out.println(min); // 0.1\r\n\r\n**Update**: since you need the key as well, well, I don&#39;t see ways in [`Collections`][2] or Google [`Collections2`][3] API since a `Map` is not a `Collection`. The [`Maps#filterEntries()`][4] is also not really useful, since you only know the actual result at *end* of iteration.\r\n\r\nMost straightforward solution would then be this:\r\n\r\n    Entry&lt;String, Double&gt; min = null;\r\n    for (Entry&lt;String, Double&gt; entry : map.entrySet()) {\r\n        if (min == null || min.getValue() &gt; entry.getValue()) {\r\n            min = entry;\r\n        }\r\n    }\r\n    \r\n    System.out.println(min.getKey()); // 0.1\r\n\r\n(nullcheck on `min` left aside)\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Collections.html#min%28java.util.Collection%29\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/Collections.html\r\n  [3]: http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Collections2.html\r\n  [4]: http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Maps.html#filterEntries%28java.util.Map,%20com.google.common.base.Predicate%29","title":"Get minvalue of a Map(Key,Double)","body":"<p>You can use the standard <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Collections.html#min%28java.util.Collection%29\" rel=\"noreferrer\"><code>Collections#min()</code></a> for this.</p>\n\n<pre><code>Map&lt;String, Double&gt; map = new HashMap&lt;String, Double&gt;();\nmap.put(\"1.1\", 1.1);\nmap.put(\"0.1\", 0.1);\nmap.put(\"2.1\", 2.1);\n\nDouble min = Collections.min(map.values());\nSystem.out.println(min); // 0.1\n</code></pre>\n\n<p><strong>Update</strong>: since you need the key as well, well, I don't see ways in <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Collections.html\" rel=\"noreferrer\"><code>Collections</code></a> or Google <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Collections2.html\" rel=\"noreferrer\"><code>Collections2</code></a> API since a <code>Map</code> is not a <code>Collection</code>. The <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Maps.html#filterEntries%28java.util.Map,%20com.google.common.base.Predicate%29\" rel=\"noreferrer\"><code>Maps#filterEntries()</code></a> is also not really useful, since you only know the actual result at <em>end</em> of iteration.</p>\n\n<p>Most straightforward solution would then be this:</p>\n\n<pre><code>Entry&lt;String, Double&gt; min = null;\nfor (Entry&lt;String, Double&gt; entry : map.entrySet()) {\n    if (min == null || min.getValue() &gt; entry.getValue()) {\n        min = entry;\n    }\n}\n\nSystem.out.println(min.getKey()); // 0.1\n</code></pre>\n\n<p>(nullcheck on <code>min</code> left aside)</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1273088762,"creation_date":1273088762,"answer_id":2776274,"question_id":2776176,"body_markdown":"&gt; In traditional way, I would have to\r\n&gt; sort the map according to the values,\r\n&gt; and take the first/last one. thanks\r\n\r\nNo, you wouldn&#39;t. You would have to iterate through all values and at each step compare the current element with the smallest one seen so far. That&#39;s O(n), compared with O(n*log(n)) for sorting - a potentially *huge* difference.\r\n\r\nBTW, this is exactly how `Collections.min()` works.","title":"Get minvalue of a Map(Key,Double)","body":"<blockquote>\n  <p>In traditional way, I would have to\n  sort the map according to the values,\n  and take the first/last one. thanks</p>\n</blockquote>\n\n<p>No, you wouldn't. You would have to iterate through all values and at each step compare the current element with the smallest one seen so far. That's O(n), compared with O(n*log(n)) for sorting - a potentially <em>huge</em> difference.</p>\n\n<p>BTW, this is exactly how <code>Collections.min()</code> works.</p>\n"},{"tags":[],"owner":{"account_id":66969,"reputation":22196,"user_id":196211,"accept_rate":67,"display_name":"Eyal Schneider"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1273097760,"creation_date":1273090125,"answer_id":2776409,"question_id":2776176,"body_markdown":"In order to do it efficiently, you may want to define your own data structure, such that it implements the Map interface,but also allows efficient getMin() operation. \r\n\r\nThis can be done using two internal data structures: a map and a tree (or heap data structure). Each time a new pair (K,V) is added, add them to the map, and also to the tree (as a single entry). This allows O(1) time for get(Key) operations, and O(log n) time for addition, removal, and getMin operations.\r\n\r\n","title":"Get minvalue of a Map(Key,Double)","body":"<p>In order to do it efficiently, you may want to define your own data structure, such that it implements the Map interface,but also allows efficient getMin() operation. </p>\n\n<p>This can be done using two internal data structures: a map and a tree (or heap data structure). Each time a new pair (K,V) is added, add them to the map, and also to the tree (as a single entry). This allows O(1) time for get(Key) operations, and O(log n) time for addition, removal, and getMin operations.</p>\n"},{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1273090521,"creation_date":1273090521,"answer_id":2776468,"question_id":2776176,"body_markdown":"I&#39;d be inclined to use a Google Collections BiMap:\r\n\r\n         String minKey = HashBiMap.create(map).inverse().get(Collections.min(map.values()));\r\n\r\nOr something like that (not tested).","title":"Get minvalue of a Map(Key,Double)","body":"<p>I'd be inclined to use a Google Collections BiMap:</p>\n\n<pre><code>     String minKey = HashBiMap.create(map).inverse().get(Collections.min(map.values()));\n</code></pre>\n\n<p>Or something like that (not tested).</p>\n"},{"tags":[],"owner":{"account_id":30005,"reputation":1041,"user_id":81501,"display_name":"superfav"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1675360308,"creation_date":1273167991,"answer_id":2783216,"question_id":2776176,"body_markdown":"You still can use `Collections.min` with a custom `Comparator` to get the `Map.Entry` with the lower value:\r\n\r\n    Map&lt;String, Double&gt; map = new HashMap&lt;String, Double&gt;();\r\n    map.put(&quot;1.1&quot;, 1.1);\r\n    map.put(&quot;0.1&quot;, 0.1);\r\n    map.put(&quot;2.1&quot;, 2.1);\r\n    Map.Entry&lt;String, Double&gt; min = Collections.min(map.entrySet(), new Comparator&lt;Map.Entry&lt;String, Double&gt;&gt;() {\r\n    \tpublic int compare(Map.Entry&lt;String, Double&gt; entry1, Map.Entry&lt;String, Double&gt; entry2) {\r\n    \t\treturn entry1.getValue().compareTo(entry2.getValue());\r\n    \t}\r\n    });\r\n    System.out.printf(&quot;%s: %f&quot;, min.getKey(), min.getValue()); // 0.1: 0.100000\r\n\r\nWith Java 8+:\r\n\r\n    Map.Entry&lt;String, Double&gt; min = Collections.min(map.entrySet(),\r\n                                                    Map.Entry.comparingByValue());","title":"Get minvalue of a Map(Key,Double)","body":"<p>You still can use <code>Collections.min</code> with a custom <code>Comparator</code> to get the <code>Map.Entry</code> with the lower value:</p>\n<pre><code>Map&lt;String, Double&gt; map = new HashMap&lt;String, Double&gt;();\nmap.put(&quot;1.1&quot;, 1.1);\nmap.put(&quot;0.1&quot;, 0.1);\nmap.put(&quot;2.1&quot;, 2.1);\nMap.Entry&lt;String, Double&gt; min = Collections.min(map.entrySet(), new Comparator&lt;Map.Entry&lt;String, Double&gt;&gt;() {\n    public int compare(Map.Entry&lt;String, Double&gt; entry1, Map.Entry&lt;String, Double&gt; entry2) {\n        return entry1.getValue().compareTo(entry2.getValue());\n    }\n});\nSystem.out.printf(&quot;%s: %f&quot;, min.getKey(), min.getValue()); // 0.1: 0.100000\n</code></pre>\n<p>With Java 8+:</p>\n<pre><code>Map.Entry&lt;String, Double&gt; min = Collections.min(map.entrySet(),\n                                                Map.Entry.comparingByValue());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":309150,"reputation":10269,"user_id":621449,"accept_rate":83,"display_name":"Tarrasch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474021466,"creation_date":1460433902,"answer_id":36563441,"question_id":2776176,"body_markdown":"Using java 8 (and static imports). We can make @superfav&#39;s solution much tidier:\r\n\r\n    Map&lt;String, Double&gt; myMap;\r\n    String theKeyWithHighestValue = Collections.min(myMap.entrySet(), comparingDouble(Entry::getValue)).getKey()","title":"Get minvalue of a Map(Key,Double)","body":"<p>Using java 8 (and static imports). We can make @superfav's solution much tidier:</p>\n\n<pre><code>Map&lt;String, Double&gt; myMap;\nString theKeyWithHighestValue = Collections.min(myMap.entrySet(), comparingDouble(Entry::getValue)).getKey()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2298937,"reputation":2835,"user_id":2019710,"accept_rate":67,"display_name":"voho"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1515928592,"creation_date":1468832449,"answer_id":38432532,"question_id":2776176,"body_markdown":"Using Java 8 streams:\r\n\r\n    return map\r\n                .entrySet()\r\n                .stream()\r\n                .sorted(Comparator.comparingDouble(Map.Entry::getValue))\r\n                .findFirst()\r\n                .map(Map.Entry::getValue);\r\n\r\nOr\r\n\r\n    return map\r\n                .entrySet()\r\n                .stream()\r\n                .min(Comparator.comparingDouble(Map.Entry::getValue))\r\n                .map(Map.Entry::getValue);\r\n\r\nBut if you want to do it multiple times, then definitely give [heap](https://en.wikipedia.org/wiki/Heap_(data_structure)) a look.","title":"Get minvalue of a Map(Key,Double)","body":"<p>Using Java 8 streams:</p>\n\n<pre><code>return map\n            .entrySet()\n            .stream()\n            .sorted(Comparator.comparingDouble(Map.Entry::getValue))\n            .findFirst()\n            .map(Map.Entry::getValue);\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>return map\n            .entrySet()\n            .stream()\n            .min(Comparator.comparingDouble(Map.Entry::getValue))\n            .map(Map.Entry::getValue);\n</code></pre>\n\n<p>But if you want to do it multiple times, then definitely give <a href=\"https://en.wikipedia.org/wiki/Heap_(data_structure)\" rel=\"nofollow noreferrer\">heap</a> a look.</p>\n"},{"tags":[],"owner":{"account_id":3635036,"reputation":1118,"user_id":3030340,"display_name":"Az.MaYo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547997530,"creation_date":1547997530,"answer_id":54277886,"question_id":2776176,"body_markdown":"In Java 8 we can get easily:\r\n\r\n    Double minValue = map.entrySet().stream().min(Map.Entry.comparingByValue()).get().getValue();\r\n    Double maxValue = map.entrySet().stream().max(Map.Entry.comparingByValue()).get().getValue();\r\n","title":"Get minvalue of a Map(Key,Double)","body":"<p>In Java 8 we can get easily:</p>\n\n<pre><code>Double minValue = map.entrySet().stream().min(Map.Entry.comparingByValue()).get().getValue();\nDouble maxValue = map.entrySet().stream().max(Map.Entry.comparingByValue()).get().getValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1574277623,"creation_date":1556894849,"answer_id":55972222,"question_id":2776176,"body_markdown":"Java8 One-Liner\r\n```java\r\nKey key = Collections.min(map.entrySet(), Map.Entry.comparingByValue()).getKey()\r\n```","title":"Get minvalue of a Map(Key,Double)","body":"<p>Java8 One-Liner</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Key key = Collections.min(map.entrySet(), Map.Entry.comparingByValue()).getKey()\n</code></pre>\n"}],"owner":{"account_id":128652,"reputation":519,"user_id":326667,"accept_rate":62,"display_name":"user326667"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109748,"favorite_count":0,"down_vote_count":1,"up_vote_count":38,"accepted_answer_id":2776245,"answer_count":9,"score":37,"last_activity_date":1675360308,"creation_date":1273087725,"question_id":2776176,"body_markdown":"Is there a method (maybe with Google Collections) to obtain the min value of a `Map(Key, Double)`?\r\n\r\nIn the traditional way, I would have to sort the map according to the values, and take the first/last one.","title":"Get minvalue of a Map(Key,Double)","body":"<p>Is there a method (maybe with Google Collections) to obtain the min value of a <code>Map(Key, Double)</code>?</p>\n\n<p>In the traditional way, I would have to sort the map according to the values, and take the first/last one.</p>\n"},{"tags":["java","concurrency"],"answers":[{"tags":[],"owner":{"account_id":291800,"reputation":15905,"user_id":594183,"display_name":"esaj"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1326815498,"creation_date":1326815498,"answer_id":8897599,"question_id":8897449,"body_markdown":"Simply using a boolean-flag should take care of this:\r\n\r\n    private ReentrantLock lock = new ReentrantLock();\r\n\r\n    boolean lockAcquired = false;\r\n\r\n    try\r\n    {\r\n      lock.lockInterruptably();\r\n      lockAcquired = true;\r\n    }\r\n    catch( InterruptedException e )\r\n    {\r\n      Thread.currentThread.interrupt();\r\n    }\r\n    finally\r\n    {\r\n      if(lockAcquired)\r\n      {\r\n        lock.unlock();\r\n      }\r\n    }\r\n\r\n","title":"How to avoid IllegalMonitorStateException when using lockInterruptibly on Reentrantlock","body":"<p>Simply using a boolean-flag should take care of this:</p>\n\n<pre><code>private ReentrantLock lock = new ReentrantLock();\n\nboolean lockAcquired = false;\n\ntry\n{\n  lock.lockInterruptably();\n  lockAcquired = true;\n}\ncatch( InterruptedException e )\n{\n  Thread.currentThread.interrupt();\n}\nfinally\n{\n  if(lockAcquired)\n  {\n    lock.unlock();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"down_vote_count":1,"up_vote_count":23,"is_accepted":true,"score":22,"last_activity_date":1675359939,"creation_date":1326815505,"answer_id":8897601,"question_id":8897449,"body_markdown":"the `lockInterruptibly()` call should be _outside_ the finally block.  note, this is always true when using the `Lock` API (whether you use `lock()` or `lockInterruptibly()`), as you _don&#39;t_ want to do the &quot;unlock&quot; work unless you have acquired the lock.\r\n\r\n    try {\r\n      lock.lockInterruptibly();\r\n      try {\r\n        // do locked work here\r\n      } finally {\r\n        lock.unlock();\r\n      }\r\n    } catch( InterruptedException e ) {\r\n      Thread.currentThread.interrupt();\r\n    }\r\n\r\n","title":"How to avoid IllegalMonitorStateException when using lockInterruptibly on Reentrantlock","body":"<p>the <code>lockInterruptibly()</code> call should be <em>outside</em> the finally block.  note, this is always true when using the <code>Lock</code> API (whether you use <code>lock()</code> or <code>lockInterruptibly()</code>), as you <em>don't</em> want to do the &quot;unlock&quot; work unless you have acquired the lock.</p>\n<pre><code>try {\n  lock.lockInterruptibly();\n  try {\n    // do locked work here\n  } finally {\n    lock.unlock();\n  }\n} catch( InterruptedException e ) {\n  Thread.currentThread.interrupt();\n}\n</code></pre>\n"}],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17526,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":8897601,"answer_count":2,"score":7,"last_activity_date":1675359939,"creation_date":1326814927,"question_id":8897449,"body_markdown":"I want to replace a `syncronized` block with a `ReentrantLock` to support interruption of waiting for the lock. For this, I use the `lockInterruptibly()` method and the idiomatic try/finally block:\r\n\r\n    private ReentrantLock lock = new ReentrantLock();\r\n\r\n    try\r\n    {\r\n      lock.lockInterruptably();\r\n    }\r\n    catch( InterruptedException e )\r\n    {\r\n      Thread.currentThread.interrupt();\r\n    }\r\n    finally\r\n    {\r\n      lock.unlock();\r\n    }\r\n\r\nThe problem is that the finally ofcourse also happens when the InterruptedException happens. This results in an `IllegalMonitorStateException`, because the lock is not held by the current thread.\r\n\r\nThis simple program proves this:\r\n\r\n    public class LockTest\r\n    {\r\n\tpublic static void main( String[] args )\r\n\t{\r\n\t\tSystem.out.println(&quot;START&quot;);\r\n\t\t\r\n\t\tThread interruptThread = new Thread( new MyRunnable( Thread.currentThread() ) );\r\n\t\tinterruptThread.start();\r\n\t\tReentrantLock lock = new ReentrantLock();\r\n\t\t\r\n\t\tThread takeLockThread = new Thread( new TakeLockRunnable( lock ) );\r\n\t\ttakeLockThread.start();\r\n\r\n\t\ttry\r\n\t\t{\r\n\t\t\tThread.sleep( 500 );\r\n\t\t\tSystem.out.println(&quot;Trying to take lock on thread &quot; + Thread.currentThread().getName());\r\n\t\t\tlock.lockInterruptibly();\r\n\t\t}\r\n\t\tcatch (InterruptedException e)\r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tlock.unlock();\r\n\t\t}\r\n\r\n\t\tSystem.out.println( &quot;DONE&quot;);\r\n\t}\r\n\r\n\tprivate static class MyRunnable implements Runnable\r\n\t{\r\n\t\tprivate Thread m_thread;\r\n\r\n\t\tprivate MyRunnable( Thread thread)\r\n\t\t{\r\n\t\t\tm_thread = thread;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void run()\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tThread.sleep( 1000 );\r\n\t\t\t}\r\n\t\t\tcatch (InterruptedException e)\r\n\t\t\t{\r\n\t\t\t\t// ignore\r\n\t\t\t}\r\n\t\t\tSystem.out.println( &quot;Interrupting thread &quot; + m_thread.getName() );\r\n\t\t\tm_thread.interrupt();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static class TakeLockRunnable implements Runnable\r\n\t{\r\n\t\tprivate ReentrantLock m_lock;\r\n\r\n\t\tpublic TakeLockRunnable( ReentrantLock lock )\r\n\t\t{\r\n\t\t\tm_lock = lock;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void run()\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Taking lock on thread &quot; + Thread.currentThread().getName());\r\n\t\t\t\tm_lock.lock();\r\n\t\t\t\tThread.sleep( 20000 );\r\n\t\t\t}\r\n\t\t\tcatch (Exception e)\r\n\t\t\t{\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\tfinally {\r\n\t\t\t\tm_lock.unlock();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n    }\r\n\r\nIt prints this output:\r\n&lt;pre&gt;\r\nSTART\r\nTaking lock on thread Thread-1\r\nTrying to take lock on thread main\r\njava.lang.InterruptedException\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireInterruptibly(AbstractQueuedSynchronizer.java:877)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1201)\r\n\tat java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:312)\r\n\tat LockTest.main(LockTest.java:25)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)\r\nException in thread &quot;main&quot; java.lang.IllegalMonitorStateException\r\n\tat java.util.concurrent.locks.ReentrantLock$Sync.tryRelease(ReentrantLock.java:127)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.release(AbstractQueuedSynchronizer.java:1239)\r\n\tat java.util.concurrent.locks.ReentrantLock.unlock(ReentrantLock.java:431)\r\n\tat LockTest.main(LockTest.java:32)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)\r\nInterrupting thread main\r\n&lt;/pre&gt;\r\n\r\nAny idea on what the best way is to avoid this?","title":"How to avoid IllegalMonitorStateException when using lockInterruptibly on Reentrantlock","body":"<p>I want to replace a <code>syncronized</code> block with a <code>ReentrantLock</code> to support interruption of waiting for the lock. For this, I use the <code>lockInterruptibly()</code> method and the idiomatic try/finally block:</p>\n\n<pre><code>private ReentrantLock lock = new ReentrantLock();\n\ntry\n{\n  lock.lockInterruptably();\n}\ncatch( InterruptedException e )\n{\n  Thread.currentThread.interrupt();\n}\nfinally\n{\n  lock.unlock();\n}\n</code></pre>\n\n<p>The problem is that the finally ofcourse also happens when the InterruptedException happens. This results in an <code>IllegalMonitorStateException</code>, because the lock is not held by the current thread.</p>\n\n<p>This simple program proves this:</p>\n\n<pre><code>public class LockTest\n{\npublic static void main( String[] args )\n{\n    System.out.println(\"START\");\n\n    Thread interruptThread = new Thread( new MyRunnable( Thread.currentThread() ) );\n    interruptThread.start();\n    ReentrantLock lock = new ReentrantLock();\n\n    Thread takeLockThread = new Thread( new TakeLockRunnable( lock ) );\n    takeLockThread.start();\n\n    try\n    {\n        Thread.sleep( 500 );\n        System.out.println(\"Trying to take lock on thread \" + Thread.currentThread().getName());\n        lock.lockInterruptibly();\n    }\n    catch (InterruptedException e)\n    {\n        e.printStackTrace();\n    }\n    finally {\n        lock.unlock();\n    }\n\n    System.out.println( \"DONE\");\n}\n\nprivate static class MyRunnable implements Runnable\n{\n    private Thread m_thread;\n\n    private MyRunnable( Thread thread)\n    {\n        m_thread = thread;\n    }\n\n    @Override\n    public void run()\n    {\n        try\n        {\n            Thread.sleep( 1000 );\n        }\n        catch (InterruptedException e)\n        {\n            // ignore\n        }\n        System.out.println( \"Interrupting thread \" + m_thread.getName() );\n        m_thread.interrupt();\n    }\n}\n\nprivate static class TakeLockRunnable implements Runnable\n{\n    private ReentrantLock m_lock;\n\n    public TakeLockRunnable( ReentrantLock lock )\n    {\n        m_lock = lock;\n    }\n\n    @Override\n    public void run()\n    {\n        try\n        {\n            System.out.println(\"Taking lock on thread \" + Thread.currentThread().getName());\n            m_lock.lock();\n            Thread.sleep( 20000 );\n        }\n        catch (Exception e)\n        {\n            e.printStackTrace();\n        }\n        finally {\n            m_lock.unlock();\n        }\n    }\n}\n}\n</code></pre>\n\n<p>It prints this output:</p>\n\n<pre>\nSTART\nTaking lock on thread Thread-1\nTrying to take lock on thread main\njava.lang.InterruptedException\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireInterruptibly(AbstractQueuedSynchronizer.java:877)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1201)\n    at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:312)\n    at LockTest.main(LockTest.java:25)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)\nException in thread \"main\" java.lang.IllegalMonitorStateException\n    at java.util.concurrent.locks.ReentrantLock$Sync.tryRelease(ReentrantLock.java:127)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.release(AbstractQueuedSynchronizer.java:1239)\n    at java.util.concurrent.locks.ReentrantLock.unlock(ReentrantLock.java:431)\n    at LockTest.main(LockTest.java:32)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)\nInterrupting thread main\n</pre>\n\n<p>Any idea on what the best way is to avoid this?</p>\n"},{"tags":["java","gradle","maven-publish"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1675359390,"post_id":75326910,"comment_id":132917173,"body_markdown":"Why would you need them? For downstream consumers of your project, they don&#39;t care how exactly you tested it. From their perspective, the tests have already been run and passed.","body":"Why would you need them? For downstream consumers of your project, they don&#39;t care how exactly you tested it. From their perspective, the tests have already been run and passed."},{"owner":{"account_id":216207,"reputation":2038,"user_id":471293,"accept_rate":47,"display_name":"ekaqu"},"score":0,"creation_date":1675359493,"post_id":75326910,"comment_id":132917209,"body_markdown":"we also publish the test jar as the main consumer needs that for extra testing, so it also acts as documentation what is needed for the test jar to work fully","body":"we also publish the test jar as the main consumer needs that for extra testing, so it also acts as documentation what is needed for the test jar to work fully"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1675361660,"post_id":75326910,"comment_id":132917916,"body_markdown":"That&#39;s not how test jars work. `test` scope dependencies are not transitive, even for test jars. If you want that behaviour, make a first-class module for the shared stuff called eg. &quot;test-utils&quot; and depend upon that in both places with `test` scope.","body":"That&#39;s not how test jars work. <code>test</code> scope dependencies are not transitive, even for test jars. If you want that behaviour, make a first-class module for the shared stuff called eg. &quot;test-utils&quot; and depend upon that in both places with <code>test</code> scope."},{"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"score":0,"creation_date":1675395986,"post_id":75326910,"comment_id":132924671,"body_markdown":"If you want them published in the pom, despite it not being good practice, change `testImplementation` to just plain `implementation`.","body":"If you want them published in the pom, despite it not being good practice, change <code>testImplementation</code> to just plain <code>implementation</code>."}],"owner":{"account_id":216207,"reputation":2038,"user_id":471293,"accept_rate":47,"display_name":"ekaqu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675359530,"creation_date":1675359270,"question_id":75326910,"body_markdown":"I have a project that uses buildSrc to create a plugin to avoid duplicate logic, one of this type of duplicate is test dependencies.\r\n\r\nI notice that when we publish the jar that the test dependencies are not included in the pom file.  I tried modifying the versionMapping but can&#39;t find a solution to get the dependencies added\r\n\r\ntried\r\n\r\n```      \r\nversionMapping {\r\n  allVariants {\r\n    fromResolutionOf(&#39;testRuntimeClasspath&#39;)\r\n  }\r\n}\r\n```\r\n\r\nbut see the test dependencies are still not found.\r\n\r\nThe buildSrc plugin defines the following dependencies\r\n\r\n```\r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.7.0&#39;\r\n    testImplementation &#39;ch.qos.logback:logback-classic:1.2.3&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.7.0&#39;\r\n}\r\n```\r\n\r\nHow do I get these dependencies to show up in the published pom?\r\n\r\nThanks!\r\n\r\n\r\nEdit: The main reason we want this is to act as documentation on how to use the -tests.jar also published, as the main consumer of this library uses -tests.jar for testing","title":"How to get test dependencies to show up in maven pom when they are added via a plugin?","body":"<p>I have a project that uses buildSrc to create a plugin to avoid duplicate logic, one of this type of duplicate is test dependencies.</p>\n<p>I notice that when we publish the jar that the test dependencies are not included in the pom file.  I tried modifying the versionMapping but can't find a solution to get the dependencies added</p>\n<p>tried</p>\n<pre><code>versionMapping {\n  allVariants {\n    fromResolutionOf('testRuntimeClasspath')\n  }\n}\n</code></pre>\n<p>but see the test dependencies are still not found.</p>\n<p>The buildSrc plugin defines the following dependencies</p>\n<pre><code>dependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.0'\n    testImplementation 'ch.qos.logback:logback-classic:1.2.3'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.0'\n}\n</code></pre>\n<p>How do I get these dependencies to show up in the published pom?</p>\n<p>Thanks!</p>\n<p>Edit: The main reason we want this is to act as documentation on how to use the -tests.jar also published, as the main consumer of this library uses -tests.jar for testing</p>\n"},{"tags":["java","android","android-camera","android-camera2","usb-camera"],"comments":[{"owner":{"account_id":16420385,"reputation":330,"user_id":11861734,"display_name":"Wasim Ansari"},"score":0,"creation_date":1663434719,"post_id":73690460,"comment_id":130241127,"body_markdown":"https://stackoverflow.com/questions/57846505/accessing-a-usb-camera-using-android-camera2-api check this thread","body":"<a href=\"https://stackoverflow.com/questions/57846505/accessing-a-usb-camera-using-android-camera2-api\" title=\"accessing a usb camera using android camera2 api\">stackoverflow.com/questions/57846505/&hellip;</a> check this thread"}],"answers":[{"tags":[],"owner":{"account_id":27687868,"reputation":11,"user_id":21135244,"display_name":"Cyclops"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675359316,"creation_date":1675359316,"answer_id":75326923,"question_id":73690460,"body_markdown":"The solutions are all complex with advantages and disadvantages. Information on USB and UVC is freely available from the USB IF web site, although there are many hundreds of pages of detail. The main issue is that the isochronous transfer method is missing from the Android framework, although descriptor retrieval, control, interrupt and bulk are implemented. Hence, most of the usb access can be done in Java or Kotlin, but the streaming side is a real pain. Using method one below and a Logitek C615 webcam, I obtained 640x480@30 fps on a Lenovo Tab10 using Android 6, and 1920x1080@30fps on a Lenovo IdeaPad 520 Miix using Android9 x86. The Tab10 appears to run at USB v1 speeds although it has a USB v2 micro-B socket. The Miix has a type A USB socket and does not need an OTG converter. I know of three methods:\r\n1. Use Libusb. This requires a separate compilation and build in Android Studio to a shared library. Write C++ code to setup, transfer packets and teardown the webcam. Write Java code for the user interface, decompress MJPEG, display preview and write JPEGs to storage. Connect the two via JNI. The C++ and Java run in separate threads but are non blocking. The inefficiency is in memcopying from a native image frame array to a JNI array and then freeing for garbage collection after each frame. Android apps run in a container, which means a special startup for Libusb and some functions fail, probably because of selinux violations.\r\n2. Use JNA to wrap the Libc libray. JNA is obtained from a repository and does not require a separate build. Libc is in Android Studio. All the code is Java, but IOCTL is used to control the usb file streams and the small stuff is really sweated. Libusb does much of the low level stuff in design choice 1.\r\n3. Use the external camera option with the Camera2 API. Non of my devices support an external camera, not even my Samsung Android 13 phone. I suspect this is meant for systems integrators to build custom versions of Android with the appropriate settings as documented by Google, implemented on SBCs for point-of-sale etc.\r\n","title":"How can I implement function for usb camera for my application?","body":"<p>The solutions are all complex with advantages and disadvantages. Information on USB and UVC is freely available from the USB IF web site, although there are many hundreds of pages of detail. The main issue is that the isochronous transfer method is missing from the Android framework, although descriptor retrieval, control, interrupt and bulk are implemented. Hence, most of the usb access can be done in Java or Kotlin, but the streaming side is a real pain. Using method one below and a Logitek C615 webcam, I obtained 640x480@30 fps on a Lenovo Tab10 using Android 6, and 1920x1080@30fps on a Lenovo IdeaPad 520 Miix using Android9 x86. The Tab10 appears to run at USB v1 speeds although it has a USB v2 micro-B socket. The Miix has a type A USB socket and does not need an OTG converter. I know of three methods:</p>\n<ol>\n<li>Use Libusb. This requires a separate compilation and build in Android Studio to a shared library. Write C++ code to setup, transfer packets and teardown the webcam. Write Java code for the user interface, decompress MJPEG, display preview and write JPEGs to storage. Connect the two via JNI. The C++ and Java run in separate threads but are non blocking. The inefficiency is in memcopying from a native image frame array to a JNI array and then freeing for garbage collection after each frame. Android apps run in a container, which means a special startup for Libusb and some functions fail, probably because of selinux violations.</li>\n<li>Use JNA to wrap the Libc libray. JNA is obtained from a repository and does not require a separate build. Libc is in Android Studio. All the code is Java, but IOCTL is used to control the usb file streams and the small stuff is really sweated. Libusb does much of the low level stuff in design choice 1.</li>\n<li>Use the external camera option with the Camera2 API. Non of my devices support an external camera, not even my Samsung Android 13 phone. I suspect this is meant for systems integrators to build custom versions of Android with the appropriate settings as documented by Google, implemented on SBCs for point-of-sale etc.</li>\n</ol>\n"}],"owner":{"account_id":26314259,"reputation":1,"user_id":19977306,"display_name":"Roshni Patel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675359316,"creation_date":1662990896,"question_id":73690460,"body_markdown":"I am creating an application for tablet in android where, I want to use usb camera as a default camera when I start my application. I want to click picture and save them in either jpeg,jpg or png format. I could not find any helpful resources on web. How can I implement such functionality? Any help would be appreciated. ","title":"How can I implement function for usb camera for my application?","body":"<p>I am creating an application for tablet in android where, I want to use usb camera as a default camera when I start my application. I want to click picture and save them in either jpeg,jpg or png format. I could not find any helpful resources on web. How can I implement such functionality? Any help would be appreciated.</p>\n"},{"tags":["java","arrays","replaceall"],"owner":{"account_id":27687806,"reputation":1,"user_id":21135194,"display_name":"kanyshh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675359239,"answer_count":0,"score":0,"last_activity_date":1675359088,"creation_date":1675359088,"question_id":75326866,"body_markdown":" public static void main(String[] args)\r\n    {  \t\r\n     \r\n\t    String text = &quot;  5000 ,  - 7563 ,   - 30000 &quot;;\r\n\t    String[] arr = text.split(&quot;, &quot;);\r\n\t    for (int i = 0; i &lt; arr.length; i++) {\r\n\t    \tarr[i].replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\r\n\t    \tSystem.out.println(arr[i]);\r\n\t    };\r\n\r\ni want to replace all of the letters with empty space","title":"why it doesnt work out? i want it to change all three lines","body":"<p>public static void main(String[] args)\n{</p>\n<pre><code>    String text = &quot;  5000 ,  - 7563 ,   - 30000 &quot;;\n    String[] arr = text.split(&quot;, &quot;);\n    for (int i = 0; i &lt; arr.length; i++) {\n        arr[i].replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\n        System.out.println(arr[i]);\n    };\n</code></pre>\n<p>i want to replace all of the letters with empty space</p>\n"},{"tags":["java","zoneddatetime"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1675334905,"post_id":75321780,"comment_id":132908307,"body_markdown":"So you want to compare the actual time they identify? Then convert them to `Instant` and compare those.","body":"So you want to compare the actual time they identify? Then convert them to <code>Instant</code> and compare those."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675357979,"post_id":75321780,"comment_id":132916679,"body_markdown":"Related: [IST mapped to wrong ZoneId in java.time library](https://stackoverflow.com/questions/57733849/ist-mapped-to-wrong-zoneid-in-java-time-library)","body":"Related: <a href=\"https://stackoverflow.com/questions/57733849/ist-mapped-to-wrong-zoneid-in-java-time-library\">IST mapped to wrong ZoneId in java.time library</a>"}],"answers":[{"tags":[],"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675335078,"creation_date":1675335078,"answer_id":75322074,"question_id":75321780,"body_markdown":"The time zone abbreviations used by Java when parsing depend on the locale, so you cannot compare the result to a fixed value. See [this answer][1].\r\n\r\nI would convert the `ZonedDateTime` objects to `OffsetDateTime` before comparing them, or even to `Instant`, as Joachim suggested.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/59386011/1374678","title":"Different timezone id for the same short timezone name","body":"<p>The time zone abbreviations used by Java when parsing depend on the locale, so you cannot compare the result to a fixed value. See <a href=\"https://stackoverflow.com/a/59386011/1374678\">this answer</a>.</p>\n<p>I would convert the <code>ZonedDateTime</code> objects to <code>OffsetDateTime</code> before comparing them, or even to <code>Instant</code>, as Joachim suggested.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675358997,"creation_date":1675356360,"answer_id":75326361,"question_id":75321780,"body_markdown":"First of all, I suggest you ask the publisher of your data to avoid using abbreviated timezone IDs. In most cases, these abbreviations are 3 characters long but they may be 2 or 4 characters long (e.g. [CT](https://www.timeanddate.com/time/zones/ct) and [AEST](https://www.timeanddate.com/time/zones/aest)) as commented by [Basil Bourque](https://stackoverflow.com/questions/75321780/different-timezone-id-for-the-same-short-timezone-name/75326361?noredirect=1#comment132916764_75326361). \r\n\r\nGiven below is a note from the Java 7 `Timezone` [documentation](https://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html):\r\n\r\n&gt; ### Three-letter time zone IDs\r\n&gt;For compatibility with JDK 1.1.x, some other three-letter time zone IDs (such as &quot;PST&quot;, &quot;CTT&quot;, &quot;AST&quot;) are\r\n&gt; also supported. However, **their use is deprecated** because the same\r\n&gt; abbreviation is often used for multiple time zones (for example, &quot;CST&quot;\r\n&gt; could be U.S. &quot;Central Standard Time&quot; and &quot;China Standard Time&quot;), and\r\n&gt; the Java platform can then only recognize one of them.\r\n\r\nThere is already a good [suggestion by Joachim Sauer](https://stackoverflow.com/questions/75321780/different-timezone-id-for-the-same-short-timezone-name#comment132908307_75321780). Alternatively, you can retrieve the `ZoneId` from the parsed date-time and use it while constructing your `ZonedDateTime`.\r\n\r\n**Demo**:\r\n\r\n    import java.time.ZonedDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;H:m:s MMM d, uuuu z&quot;, Locale.ENGLISH);\r\n            String strNextPaymentDate = &quot;02:00:00 Feb 05, 2023 PST&quot;;\r\n            ZonedDateTime zdtNextPaymentDate = ZonedDateTime.parse(strNextPaymentDate, parser);\r\n            ZonedDateTime zdtExpectedDate = ZonedDateTime.of(2023, 2, 5, 2, 0, 0, 0, zdtNextPaymentDate.getZone());\r\n            System.out.println(zdtNextPaymentDate);\r\n            System.out.println(zdtExpectedDate);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2023-02-05T02:00-08:00[America/Los_Angeles]\r\n    2023-02-05T02:00-08:00[America/Los_Angeles]\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/bRYRBE)\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Different timezone id for the same short timezone name","body":"<p>First of all, I suggest you ask the publisher of your data to avoid using abbreviated timezone IDs. In most cases, these abbreviations are 3 characters long but they may be 2 or 4 characters long (e.g. <a href=\"https://www.timeanddate.com/time/zones/ct\" rel=\"nofollow noreferrer\">CT</a> and <a href=\"https://www.timeanddate.com/time/zones/aest\" rel=\"nofollow noreferrer\">AEST</a>) as commented by <a href=\"https://stackoverflow.com/questions/75321780/different-timezone-id-for-the-same-short-timezone-name/75326361?noredirect=1#comment132916764_75326361\">Basil Bourque</a>.</p>\n<p>Given below is a note from the Java 7 <code>Timezone</code> <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<h3>Three-letter time zone IDs</h3>\n<p>For compatibility with JDK 1.1.x, some other three-letter time zone IDs (such as &quot;PST&quot;, &quot;CTT&quot;, &quot;AST&quot;) are\nalso supported. However, <strong>their use is deprecated</strong> because the same\nabbreviation is often used for multiple time zones (for example, &quot;CST&quot;\ncould be U.S. &quot;Central Standard Time&quot; and &quot;China Standard Time&quot;), and\nthe Java platform can then only recognize one of them.</p>\n</blockquote>\n<p>There is already a good <a href=\"https://stackoverflow.com/questions/75321780/different-timezone-id-for-the-same-short-timezone-name#comment132908307_75321780\">suggestion by Joachim Sauer</a>. Alternatively, you can retrieve the <code>ZoneId</code> from the parsed date-time and use it while constructing your <code>ZonedDateTime</code>.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\nclass Main {\n    public static void main(String[] args) {\n        DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;H:m:s MMM d, uuuu z&quot;, Locale.ENGLISH);\n        String strNextPaymentDate = &quot;02:00:00 Feb 05, 2023 PST&quot;;\n        ZonedDateTime zdtNextPaymentDate = ZonedDateTime.parse(strNextPaymentDate, parser);\n        ZonedDateTime zdtExpectedDate = ZonedDateTime.of(2023, 2, 5, 2, 0, 0, 0, zdtNextPaymentDate.getZone());\n        System.out.println(zdtNextPaymentDate);\n        System.out.println(zdtExpectedDate);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2023-02-05T02:00-08:00[America/Los_Angeles]\n2023-02-05T02:00-08:00[America/Los_Angeles]\n</code></pre>\n<p><a href=\"https://ideone.com/bRYRBE\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":18534646,"reputation":193,"user_id":13504606,"display_name":"KarloSpacapan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75322074,"answer_count":2,"score":1,"last_activity_date":1675358997,"creation_date":1675333744,"question_id":75321780,"body_markdown":"I have a string `&quot;02:00:00 Feb 05, 2023 PST&quot;` which I parse:\r\n```java\r\nZonedDateTime d = ZonedDateTime.parse(nextPaymentDate, DateTimeFormatter.ofPattern(&quot;H:m:s MMM d, uuuu z&quot;));\r\n```\r\nComparing it a constructed date:\r\n```java\r\nZonedDateTime expectedDate = ZonedDateTime.of(2023, 2, 5, 2, 0, 0, 0, ZoneId.of(ZoneId.SHORT_IDS.get(&quot;PST&quot;)));\r\n```\r\nfails, because:\r\n```\r\nExpected :2023-02-05T02:00-08:00[America/Los_Angeles]\r\nActual   :2023-02-05T02:00-08:00[America/Tijuana]\r\n```\r\n\r\nSetting exact timezone id (e.g. fixing `America/Tijuana`) does not work, as the timezone is parsed differently on another machine (as `America/Los_Angeles` instead of `America/Tijuana` like on my machine).\r\n\r\nHow can I assert the dates are equal in this case?","title":"Different timezone id for the same short timezone name","body":"<p>I have a string <code>&quot;02:00:00 Feb 05, 2023 PST&quot;</code> which I parse:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZonedDateTime d = ZonedDateTime.parse(nextPaymentDate, DateTimeFormatter.ofPattern(&quot;H:m:s MMM d, uuuu z&quot;));\n</code></pre>\n<p>Comparing it a constructed date:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZonedDateTime expectedDate = ZonedDateTime.of(2023, 2, 5, 2, 0, 0, 0, ZoneId.of(ZoneId.SHORT_IDS.get(&quot;PST&quot;)));\n</code></pre>\n<p>fails, because:</p>\n<pre><code>Expected :2023-02-05T02:00-08:00[America/Los_Angeles]\nActual   :2023-02-05T02:00-08:00[America/Tijuana]\n</code></pre>\n<p>Setting exact timezone id (e.g. fixing <code>America/Tijuana</code>) does not work, as the timezone is parsed differently on another machine (as <code>America/Los_Angeles</code> instead of <code>America/Tijuana</code> like on my machine).</p>\n<p>How can I assert the dates are equal in this case?</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1673839727,"post_id":75126706,"comment_id":132579870,"body_markdown":"Have you tried using a batchsize annotation on the collection mappings? I dont know if hibernate will respect it with a fetch graph, but will if the collection is lazily accessed. It will force one query to return multiple collection results, so greatly reduces the number of queries involved","body":"Have you tried using a batchsize annotation on the collection mappings? I dont know if hibernate will respect it with a fetch graph, but will if the collection is lazily accessed. It will force one query to return multiple collection results, so greatly reduces the number of queries involved"},{"owner":{"account_id":15194394,"reputation":63,"user_id":10964215,"display_name":"hido"},"score":0,"creation_date":1673857224,"post_id":75126706,"comment_id":132582581,"body_markdown":"even if my batch size is 100 and I only have 1 instance of each child type, it will still do 25 queries for each father to get each child type","body":"even if my batch size is 100 and I only have 1 instance of each child type, it will still do 25 queries for each father to get each child type"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1673885942,"post_id":75126706,"comment_id":132591872,"body_markdown":"Pick your poison. 25 queries, or 1 query (if it would work) that returned the same father row data N^25 times, where N is the number of children in the average collection. At least with batch queries, you are going to get a fixed number of queries (26) instead of 1+N*25 for N parents returned. Not using fetch joins across ToMany relationships means you can use pagination as well. Other providers have other options around batch reading https://www.eclipse.org/eclipselink/documentation/2.7/solutions/performance001.htm#CHDFHFEB","body":"Pick your poison. 25 queries, or 1 query (if it would work) that returned the same father row data N^25 times, where N is the number of children in the average collection. At least with batch queries, you are going to get a fixed number of queries (26) instead of 1+N*25 for N parents returned. Not using fetch joins across ToMany relationships means you can use pagination as well. Other providers have other options around batch reading <a href=\"https://www.eclipse.org/eclipselink/documentation/2.7/solutions/performance001.htm#CHDFHFEB\" rel=\"nofollow noreferrer\">eclipse.org/eclipselink/documentation/2.7/solutions/&hellip;</a>"},{"owner":{"account_id":15194394,"reputation":63,"user_id":10964215,"display_name":"hido"},"score":0,"creation_date":1673941271,"post_id":75126706,"comment_id":132603075,"body_markdown":"even a fixed number of 25 queries per entity is too much for me because I might have 2000 fathers and that 50k queries for children if it is lazy","body":"even a fixed number of 25 queries per entity is too much for me because I might have 2000 fathers and that 50k queries for children if it is lazy"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1673970380,"post_id":75126706,"comment_id":132612612,"body_markdown":"With batch reading, there will only be 1+ 25 queries, no matter how many fathers (depending on the batch size). batching is different in that while it is a separate query from the one to bring in fathers, it brings in the children to populate the collections for multiple fathers. See the solution in EclipseLink as they have more options and IMO better descriptions of the problem it solves. It greatly reduces the number of queries involved, while not suffering from the cartesian join issue if you were to join all those relationships into one query.","body":"With batch reading, there will only be 1+ 25 queries, no matter how many fathers (depending on the batch size). batching is different in that while it is a separate query from the one to bring in fathers, it brings in the children to populate the collections for multiple fathers. See the solution in EclipseLink as they have more options and IMO better descriptions of the problem it solves. It greatly reduces the number of queries involved, while not suffering from the cartesian join issue if you were to join all those relationships into one query."}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675358773,"creation_date":1675358773,"answer_id":75326814,"question_id":75126706,"body_markdown":"Like Chris mentioned in the comments, there is always a tradeoff with joins vs batch queries. I think this is a perfect use case for [Blaze-Persistence Entity Views][1] though since it offers the [MULTISET fetch strategy][2] that represents the best of both worlds.\r\n\r\nI created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.\r\n\r\nA DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:\r\n\r\n    @EntityView(GrandFather.class)\r\n    public interface GrandFatherDto {\r\n        @IdMapping\r\n        Integer getId();\r\n        String getName();\r\n        Set&lt;FatherDto&gt; getFathers();\r\n\r\n        @EntityView(Father.class)\r\n        interface FatherDto {\r\n            @IdMapping\r\n            Long getId();\r\n            String getName();\r\n            @Mapping(fetch = MULTISET)\r\n            Set&lt;Child1Dto&gt; getTypeOneChildren();\r\n            //...\r\n            @Mapping(fetch = MULTISET)\r\n            Set&lt;Child25Dto&gt; getTypeTwentyFiveChildren();\r\n        }\r\n        @EntityView(Child1.class)\r\n        interface Child1Dto {\r\n            @IdMapping\r\n            Long getId();\r\n            String getName();\r\n        }\r\n\r\n        //...\r\n\r\n        @EntityView(Child25.class)\r\n        interface Child25Dto {\r\n            @IdMapping\r\n            Long getId();\r\n            String getName();\r\n        }\r\n    }\r\n\r\nQuerying is a matter of applying the entity view to a query, the simplest being just a query by id.\r\n\r\n`GrandFatherDto a = entityViewManager.find(entityManager, GrandFatherDto.class, id);`\r\n\r\nThe Spring Data integration allows you to use it almost like Spring Data Projections: https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\r\n\r\n    Page&lt;GrandFatherDto&gt; findAll(Pageable pageable);\r\n\t\r\nThe best part is, it will only fetch the state that is actually necessary!\r\n\r\n\r\n  [1]: https://github.com/Blazebit/blaze-persistence#entity-view-usage\r\n  [2]: https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#multiset-fetch-strategy","title":"JPA Multiple collections eager fetch with named entity graph","body":"<p>Like Chris mentioned in the comments, there is always a tradeoff with joins vs batch queries. I think this is a perfect use case for <a href=\"https://github.com/Blazebit/blaze-persistence#entity-view-usage\" rel=\"nofollow noreferrer\">Blaze-Persistence Entity Views</a> though since it offers the <a href=\"https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#multiset-fetch-strategy\" rel=\"nofollow noreferrer\">MULTISET fetch strategy</a> that represents the best of both worlds.</p>\n<p>I created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.</p>\n<p>A DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:</p>\n<pre><code>@EntityView(GrandFather.class)\npublic interface GrandFatherDto {\n    @IdMapping\n    Integer getId();\n    String getName();\n    Set&lt;FatherDto&gt; getFathers();\n\n    @EntityView(Father.class)\n    interface FatherDto {\n        @IdMapping\n        Long getId();\n        String getName();\n        @Mapping(fetch = MULTISET)\n        Set&lt;Child1Dto&gt; getTypeOneChildren();\n        //...\n        @Mapping(fetch = MULTISET)\n        Set&lt;Child25Dto&gt; getTypeTwentyFiveChildren();\n    }\n    @EntityView(Child1.class)\n    interface Child1Dto {\n        @IdMapping\n        Long getId();\n        String getName();\n    }\n\n    //...\n\n    @EntityView(Child25.class)\n    interface Child25Dto {\n        @IdMapping\n        Long getId();\n        String getName();\n    }\n}\n</code></pre>\n<p>Querying is a matter of applying the entity view to a query, the simplest being just a query by id.</p>\n<p><code>GrandFatherDto a = entityViewManager.find(entityManager, GrandFatherDto.class, id);</code></p>\n<p>The Spring Data integration allows you to use it almost like Spring Data Projections: <a href=\"https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\" rel=\"nofollow noreferrer\">https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features</a></p>\n<pre><code>Page&lt;GrandFatherDto&gt; findAll(Pageable pageable);\n</code></pre>\n<p>The best part is, it will only fetch the state that is actually necessary!</p>\n"}],"owner":{"account_id":15194394,"reputation":63,"user_id":10964215,"display_name":"hido"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":537,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675358773,"creation_date":1673801125,"question_id":75126706,"body_markdown":"Is there a way to use `@NamedEntityGraph` for eager fetch of multiple collections of entities? I&#39;m using Spring boot with Spring data and hibernate.\r\n\r\nI have 2 entities- grandfather and father who have `OneToMany` relation. I need to get all of the grandfather fathers and then use a function on each of them (for simplicity let&#39;s say `.toString()`)\r\n The problem is that the `Father` entity has 25 different type of children and each one is a collection with `FetchType.LAZY` and relations of `ManyToMany`, so calling `toString` loades all of the children collections and make the function very slow.\r\nThe entities looks like that:\r\n\r\n    public class GrandFather() {\r\n      private Integer id;\r\n      @OneToMany(fetch = FetchType.LAZY)\r\n      private Set&lt;Father&gt; fathers;\r\n    }\r\n    \r\n    public class Father() {\r\n      private Integer id;\r\n      @ManyToMany(fetch = FetchType.LAZY)\r\n      @JoinTable(\r\n        name = &quot;father_child_type_one&quot;\r\n        joinColumns = @JoinColumn(name = &quot;fk_father_id_child_type_one&quot;, referencedColumnName = &quot;id&quot;),\r\n       inverseJoinColumns = @JoinColumn(name = &quot;fk_father_child_type_one_id&quot;, referencedColumnName = &quot;id&quot;)\r\n      )\r\n      private Set&lt;Child1&gt; typeOneChildren;\r\n    \r\n    .\r\n    .\r\n    .\r\n    \r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n      @JoinTable(\r\n        name = &quot;father_child_type_twenty_five&quot;\r\n        joinColumns = @JoinColumn(name = &quot;fk_father_id_child_type_twenty_five&quot;, referencedColumnName = &quot;id&quot;),\r\n       inverseJoinColumns = @JoinColumn(name = &quot;fk_father_child_type_twenty_five_id&quot;, referencedColumnName = &quot;id&quot;)\r\n      )\r\n      private Set&lt;Child25&gt; typeTwentyFiveChildren;\r\n\r\n      public void toString() {\r\n        typeOneChildren.stream().forEach(child -&gt; child.toString());\r\n        .\r\n        .\r\n        .\r\n        typeTwentyFiveChildren.stream().forEach(child -&gt; child.toString());\r\n      }\r\n    }\r\n\r\nEach one of the children are a different Entity with different properties.\r\n\r\nI tried adding `@NamedEntityGraph` to `GrandFather` like this:\r\n\r\n    @NamedEntityGraph(name = &quot;fetchGrandFatherWithChildren&quot;,\r\n    \t\tattributeNodes = {\r\n    \t\t\t\t@NamedAttributeNode(value = &quot;fathers&quot;, subgraph = &quot;father_subgraph&quot;)\r\n    \t\t},\r\n    \t\tsubgraphs = {\r\n    \t\t\t\t@NamedSubgraph(name = &quot;father_subgraph&quot;, type = Father.class, attributeNodes = {\r\n    \t\t\t\t\t\t@NamedAttributeNode(&quot;typeOneChildren&quot;),\r\n    \t\t\t\t\t\t.\r\n    \t\t\t\t\t\t.\r\n    \t\t\t\t\t\t.\r\n    \t\t\t\t\t\t@NamedAttributeNode(&quot;typeTwentyFiveChildren&quot;)\r\n    \t\t\t\t})\r\n    \t\t})\r\nbut this EntityGraph only worked when I put it on `findById` (most of the app uses this function and doesn&#39;t need the graph) in `GrandFatherRepository`, every other name and it didn&#39;t work - either just kept on doing all the lazy fetching for each father on each child type or throwing `MultipleBagFetchException` (which make sense with all of the collections and Cartesian results).\r\n\r\n    public class GrandFatherService {\r\n        GrandFatherRepository grandFatherRepository;\r\n        public void toString(Integer grandfatherId) {\r\n          Set&lt;Father&gt; fathers = grandFatherRepository.findById(grandfatherId);\r\n          fathers.stream().forEach(Father::toString);\r\n        }\r\n    }\r\n\r\nThe other solution I found was based on the answer for this [qestion][1]\r\nand it as follows (it works but very messy):\r\nin my `GrandFatherService` in the function that I try to fetch the GrandFather with all of his grandchildren eagerly, I get the GrandFather with the fathers eagerly, and then I fetch each type of child for all of the fathers and set them.\r\n(`findWithFathersById` uses a basic entity graph)\r\n\r\n    public class GrandFatherService {\r\n      GrandFatherRepository grandFatherRepository;\r\n      FatherRepository fatherRepository;\r\n      public void toString(Integer grandfatherId) {\r\n        Set&lt;Father&gt; fathers = grandFatherRepository.findWithFathersById(grandfatherId);\r\n    \r\n        Map&lt;Interer, Father&gt; fatherChildOne = fatherRepository.findAllWithChildTypeOne(grandfatherId);\r\n        .\r\n        .\r\n        .\r\n        Map&lt;Interer, Father&gt; fatherChildTwentyFive = fatherRepository.findAllWithChildTypeTwentyFive(grandfatherId);\r\n    \r\n       fathers.stream().forEach(father -&gt; {\r\n         Integer fatherId = father.getId();\r\n         father.setChildTypeOne(fatherChildOne.get(fatherId).getChildOne);\r\n         .\r\n         .\r\n         .\r\n         father.setChildTypeTwentyFive(fatherChildTwentyFive.get(fatherId).getChildTwentyFive);\r\n         father.toString();\r\n       }\r\n      }\r\n    }\r\n\r\n    public interface FatherRepository extends JpaRepository&lt;Father, Integer&gt; {\r\n      @Query(value = &quot;select f from Father f LEFT JOIN FETCH f.typeOneChildren&quot;)\r\n\t  Set&lt;Father&gt; findAllWithChildTypeOne(Integer trialId);\r\n      .\r\n      .\r\n      .\r\n      @Query(value = &quot;select f from Father f LEFT JOIN FETCH f.typeTwentyFiveChildren&quot;)\r\n\t  Set&lt;Father&gt; findAllWithChildTypeTwentyFive(Integer trialId);\r\n    }\r\n\r\nFor conclusion, my question is: Is there a less messy way to eager fetch all of the grand children/ to make the first entity graph to work not with findById?\r\n\r\n  [1]: https://stackoverflow.com/questions/30479748/jpa-how-to-define-namedentitygraph-for-3-levels","title":"JPA Multiple collections eager fetch with named entity graph","body":"<p>Is there a way to use <code>@NamedEntityGraph</code> for eager fetch of multiple collections of entities? I'm using Spring boot with Spring data and hibernate.</p>\n<p>I have 2 entities- grandfather and father who have <code>OneToMany</code> relation. I need to get all of the grandfather fathers and then use a function on each of them (for simplicity let's say <code>.toString()</code>)\nThe problem is that the <code>Father</code> entity has 25 different type of children and each one is a collection with <code>FetchType.LAZY</code> and relations of <code>ManyToMany</code>, so calling <code>toString</code> loades all of the children collections and make the function very slow.\nThe entities looks like that:</p>\n<pre><code>public class GrandFather() {\n  private Integer id;\n  @OneToMany(fetch = FetchType.LAZY)\n  private Set&lt;Father&gt; fathers;\n}\n\npublic class Father() {\n  private Integer id;\n  @ManyToMany(fetch = FetchType.LAZY)\n  @JoinTable(\n    name = &quot;father_child_type_one&quot;\n    joinColumns = @JoinColumn(name = &quot;fk_father_id_child_type_one&quot;, referencedColumnName = &quot;id&quot;),\n   inverseJoinColumns = @JoinColumn(name = &quot;fk_father_child_type_one_id&quot;, referencedColumnName = &quot;id&quot;)\n  )\n  private Set&lt;Child1&gt; typeOneChildren;\n\n.\n.\n.\n\n@ManyToMany(fetch = FetchType.LAZY)\n  @JoinTable(\n    name = &quot;father_child_type_twenty_five&quot;\n    joinColumns = @JoinColumn(name = &quot;fk_father_id_child_type_twenty_five&quot;, referencedColumnName = &quot;id&quot;),\n   inverseJoinColumns = @JoinColumn(name = &quot;fk_father_child_type_twenty_five_id&quot;, referencedColumnName = &quot;id&quot;)\n  )\n  private Set&lt;Child25&gt; typeTwentyFiveChildren;\n\n  public void toString() {\n    typeOneChildren.stream().forEach(child -&gt; child.toString());\n    .\n    .\n    .\n    typeTwentyFiveChildren.stream().forEach(child -&gt; child.toString());\n  }\n}\n</code></pre>\n<p>Each one of the children are a different Entity with different properties.</p>\n<p>I tried adding <code>@NamedEntityGraph</code> to <code>GrandFather</code> like this:</p>\n<pre><code>@NamedEntityGraph(name = &quot;fetchGrandFatherWithChildren&quot;,\n        attributeNodes = {\n                @NamedAttributeNode(value = &quot;fathers&quot;, subgraph = &quot;father_subgraph&quot;)\n        },\n        subgraphs = {\n                @NamedSubgraph(name = &quot;father_subgraph&quot;, type = Father.class, attributeNodes = {\n                        @NamedAttributeNode(&quot;typeOneChildren&quot;),\n                        .\n                        .\n                        .\n                        @NamedAttributeNode(&quot;typeTwentyFiveChildren&quot;)\n                })\n        })\n</code></pre>\n<p>but this EntityGraph only worked when I put it on <code>findById</code> (most of the app uses this function and doesn't need the graph) in <code>GrandFatherRepository</code>, every other name and it didn't work - either just kept on doing all the lazy fetching for each father on each child type or throwing <code>MultipleBagFetchException</code> (which make sense with all of the collections and Cartesian results).</p>\n<pre><code>public class GrandFatherService {\n    GrandFatherRepository grandFatherRepository;\n    public void toString(Integer grandfatherId) {\n      Set&lt;Father&gt; fathers = grandFatherRepository.findById(grandfatherId);\n      fathers.stream().forEach(Father::toString);\n    }\n}\n</code></pre>\n<p>The other solution I found was based on the answer for this <a href=\"https://stackoverflow.com/questions/30479748/jpa-how-to-define-namedentitygraph-for-3-levels\">qestion</a>\nand it as follows (it works but very messy):\nin my <code>GrandFatherService</code> in the function that I try to fetch the GrandFather with all of his grandchildren eagerly, I get the GrandFather with the fathers eagerly, and then I fetch each type of child for all of the fathers and set them.\n(<code>findWithFathersById</code> uses a basic entity graph)</p>\n<pre><code>public class GrandFatherService {\n  GrandFatherRepository grandFatherRepository;\n  FatherRepository fatherRepository;\n  public void toString(Integer grandfatherId) {\n    Set&lt;Father&gt; fathers = grandFatherRepository.findWithFathersById(grandfatherId);\n\n    Map&lt;Interer, Father&gt; fatherChildOne = fatherRepository.findAllWithChildTypeOne(grandfatherId);\n    .\n    .\n    .\n    Map&lt;Interer, Father&gt; fatherChildTwentyFive = fatherRepository.findAllWithChildTypeTwentyFive(grandfatherId);\n\n   fathers.stream().forEach(father -&gt; {\n     Integer fatherId = father.getId();\n     father.setChildTypeOne(fatherChildOne.get(fatherId).getChildOne);\n     .\n     .\n     .\n     father.setChildTypeTwentyFive(fatherChildTwentyFive.get(fatherId).getChildTwentyFive);\n     father.toString();\n   }\n  }\n}\n\npublic interface FatherRepository extends JpaRepository&lt;Father, Integer&gt; {\n  @Query(value = &quot;select f from Father f LEFT JOIN FETCH f.typeOneChildren&quot;)\n  Set&lt;Father&gt; findAllWithChildTypeOne(Integer trialId);\n  .\n  .\n  .\n  @Query(value = &quot;select f from Father f LEFT JOIN FETCH f.typeTwentyFiveChildren&quot;)\n  Set&lt;Father&gt; findAllWithChildTypeTwentyFive(Integer trialId);\n}\n</code></pre>\n<p>For conclusion, my question is: Is there a less messy way to eager fetch all of the grand children/ to make the first entity graph to work not with findById?</p>\n"},{"tags":["java","iterator","iterable"],"comments":[{"owner":{"account_id":3327594,"reputation":1669,"user_id":2797254,"accept_rate":65,"display_name":"Weishi Z"},"score":0,"creation_date":1661990439,"post_id":6863182,"comment_id":129905281,"body_markdown":"`Iterable&lt;Integer&gt; iterable = () -&gt; list.iterator();`\nand \n`Iterator&lt;Integer&gt; iterator = iterable.iterator();`","body":"<code>Iterable&lt;Integer&gt; iterable = () -&gt; list.iterator();</code> and  <code>Iterator&lt;Integer&gt; iterator = iterable.iterator();</code>"}],"answers":[{"tags":[],"owner":{"account_id":343645,"reputation":48152,"user_id":675502,"display_name":"dlev"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1311874786,"creation_date":1311874786,"answer_id":6863238,"question_id":6863182,"body_markdown":"If a collection is iterable, then it can be iterated using an iterator (and consequently can be used in a for each loop.) The iterator is the actual object that will iterate through the collection.","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>If a collection is iterable, then it can be iterated using an iterator (and consequently can be used in a for each loop.) The iterator is the actual object that will iterate through the collection.</p>\n"},{"tags":[],"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"down_vote_count":0,"up_vote_count":270,"is_accepted":true,"score":270,"last_activity_date":1311874900,"creation_date":1311874900,"answer_id":6863258,"question_id":6863182,"body_markdown":"An `Iterable` is a simple representation of a series of elements that can be iterated over. It does not have any iteration state such as a &quot;current element&quot;. Instead, it has one method that produces an `Iterator`.\r\n\r\nAn `Iterator` is the object with iteration state. It lets you check if it has more elements using `hasNext()` and move to the next element (if any) using `next()`.\r\n\r\nTypically, an `Iterable` should be able to produce any number of valid `Iterator`s.","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>An <code>Iterable</code> is a simple representation of a series of elements that can be iterated over. It does not have any iteration state such as a \"current element\". Instead, it has one method that produces an <code>Iterator</code>.</p>\n\n<p>An <code>Iterator</code> is the object with iteration state. It lets you check if it has more elements using <code>hasNext()</code> and move to the next element (if any) using <code>next()</code>.</p>\n\n<p>Typically, an <code>Iterable</code> should be able to produce any number of valid <code>Iterator</code>s.</p>\n"},{"tags":[],"owner":{"account_id":443137,"reputation":7845,"user_id":834176,"accept_rate":90,"display_name":"Keith Pinson"},"down_vote_count":1,"up_vote_count":102,"is_accepted":false,"score":101,"last_activity_date":1454079292,"creation_date":1311875019,"answer_id":6863299,"question_id":6863182,"body_markdown":"An implementation of `Iterable` is one that provides an `Iterator` of itself:\r\n\r\n    public interface Iterable&lt;T&gt;\r\n    {\r\n        Iterator&lt;T&gt; iterator();\r\n    }\r\n\r\nAn iterator is a simple way of allowing some to loop through a collection of data without assignment privileges (though with ability to remove).\r\n\r\n    public interface Iterator&lt;E&gt;\r\n    {\r\n        boolean hasNext();\r\n        E next();\r\n        void remove();\r\n    }\r\n\r\nSee [Javadoc][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>An implementation of <code>Iterable</code> is one that provides an <code>Iterator</code> of itself:</p>\n\n<pre><code>public interface Iterable&lt;T&gt;\n{\n    Iterator&lt;T&gt; iterator();\n}\n</code></pre>\n\n<p>An iterator is a simple way of allowing some to loop through a collection of data without assignment privileges (though with ability to remove).</p>\n\n<pre><code>public interface Iterator&lt;E&gt;\n{\n    boolean hasNext();\n    E next();\n    void remove();\n}\n</code></pre>\n\n<p>See <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html\" rel=\"noreferrer\">Javadoc</a>.</p>\n"},{"tags":[],"owner":{"account_id":288369,"reputation":7565,"user_id":588747,"accept_rate":65,"display_name":"Nageswaran"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1404739801,"creation_date":1404739801,"answer_id":24611768,"question_id":6863182,"body_markdown":"Implementing Iterable interface allows an object to be the target of the &quot;foreach&quot; statement.\r\n\r\n    class SomeClass implements Iterable&lt;String&gt; {}\r\n    \r\n    class Main \r\n    {\r\n      public void method()\r\n      {\r\n         SomeClass someClass = new SomeClass();\r\n         .....\r\n    \r\n        for(String s : someClass) {\r\n         //do something\r\n        }\r\n      }\r\n    }\r\n\r\nIterator is an interface, which has implementation for iterate over elements. Iterable is an interface which provides Iterator.","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>Implementing Iterable interface allows an object to be the target of the \"foreach\" statement.</p>\n\n<pre><code>class SomeClass implements Iterable&lt;String&gt; {}\n\nclass Main \n{\n  public void method()\n  {\n     SomeClass someClass = new SomeClass();\n     .....\n\n    for(String s : someClass) {\n     //do something\n    }\n  }\n}\n</code></pre>\n\n<p>Iterator is an interface, which has implementation for iterate over elements. Iterable is an interface which provides Iterator.</p>\n"},{"tags":[],"owner":{"account_id":3171071,"reputation":2453,"user_id":2680024,"accept_rate":20,"display_name":"Praveen Kishor"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1409110674,"creation_date":1409110674,"answer_id":25518557,"question_id":6863182,"body_markdown":"The most important consideration is whether the item in question should be able to be traversed more than once. This is because you can always rewind an Iterable by calling iterator() again, but there is no way to rewind an Iterator.","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>The most important consideration is whether the item in question should be able to be traversed more than once. This is because you can always rewind an Iterable by calling iterator() again, but there is no way to rewind an Iterator.</p>\n"},{"tags":[],"owner":{"account_id":10790919,"reputation":11,"user_id":7938463,"display_name":"Rf Khan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493409771,"creation_date":1493409771,"answer_id":43688091,"question_id":6863182,"body_markdown":"Question:Difference between Iterable and Iterator? &lt;br&gt;\r\nAns:\r\n\r\niterable: It is related to forEach loop\t&lt;br&gt;\r\niterator: Is is related to Collection\r\n\r\nThe target element of the forEach loop shouble be iterable.\t&lt;br&gt;\r\nWe can use Iterator to get the object one by one from the Collection\r\n\r\nIterable present in java.ang package\t\r\nIterator present in java.util package\r\n\r\nContains only one method iterator()\t&lt;br&gt;\r\nContains three method hasNext(), next(), remove()\r\n\r\nIntroduced in 1.5 version &lt;br&gt;\r\nIntroduced in 1.2 version\r\n\r\n\r\n","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>Question:Difference between Iterable and Iterator? <br>\nAns:</p>\n\n<p>iterable: It is related to forEach loop <br>\niterator: Is is related to Collection</p>\n\n<p>The target element of the forEach loop shouble be iterable. <br>\nWe can use Iterator to get the object one by one from the Collection</p>\n\n<p>Iterable present in java.ang package<br>\nIterator present in java.util package</p>\n\n<p>Contains only one method iterator() <br>\nContains three method hasNext(), next(), remove()</p>\n\n<p>Introduced in 1.5 version <br>\nIntroduced in 1.2 version</p>\n"},{"tags":[],"owner":{"account_id":4454871,"reputation":259,"user_id":3625510,"display_name":"shahrukhamd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496243101,"creation_date":1496243101,"answer_id":44288314,"question_id":6863182,"body_markdown":"***In addition to [ColinD][1] and [Seeker][2] answers.***\r\n\r\nIn simple terms, **Iterable** and **Iterator** are both interfaces provided in Java&#39;s Collection Framework. \r\n\r\n**Iterable**\r\n\r\nA class has to implement the Iterable interface if it wants to have a *for-each* loop to iterate over its collection. However, **the for-each loop can only be used to cycle through the collection in the forward direction and you won&#39;t be able to modify the elements in this collection**. But, if all you want is to read the elements data, then it&#39;s very simple and thanks to Java lambda expression it&#39;s often one liner. For example:\r\n\r\n    iterableElements.forEach (x -&gt; System.out.println(x) );\r\n\r\n**Iterator**\r\n\r\nThis interface enables you to iterate over a collection, obtaining and removing its elements. Each of the collection classes provides a **iterator()** method that returns an iterator to the start of the collection. The advantage of this interface over iterable is that with this interface **you can add, modify or remove elements in a collection**. But, accessing elements needs a little more code than iterable. For example:\r\n\r\n    for (Iterator i = c.iterator(); i.hasNext(); ) {\r\n           Element e = i.next();    //Get the element\r\n           System.out.println(e);    //access or modify the element\r\n    }\r\n\r\n\r\n----------\r\n**Sources:**\r\n\r\n 1. [Java Doc Iterable][3] \r\n 2. [Java Doc Iterator][4]\r\n\r\n  [1]: https://stackoverflow.com/users/13792/colind\r\n  [2]: https://stackoverflow.com/users/5053862/seeker\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html","title":"What is the difference between iterator and iterable and how to use them?","body":"<p><strong><em>In addition to <a href=\"https://stackoverflow.com/users/13792/colind\">ColinD</a> and <a href=\"https://stackoverflow.com/users/5053862/seeker\">Seeker</a> answers.</em></strong></p>\n\n<p>In simple terms, <strong>Iterable</strong> and <strong>Iterator</strong> are both interfaces provided in Java's Collection Framework. </p>\n\n<p><strong>Iterable</strong></p>\n\n<p>A class has to implement the Iterable interface if it wants to have a <em>for-each</em> loop to iterate over its collection. However, <strong>the for-each loop can only be used to cycle through the collection in the forward direction and you won't be able to modify the elements in this collection</strong>. But, if all you want is to read the elements data, then it's very simple and thanks to Java lambda expression it's often one liner. For example:</p>\n\n<pre><code>iterableElements.forEach (x -&gt; System.out.println(x) );\n</code></pre>\n\n<p><strong>Iterator</strong></p>\n\n<p>This interface enables you to iterate over a collection, obtaining and removing its elements. Each of the collection classes provides a <strong>iterator()</strong> method that returns an iterator to the start of the collection. The advantage of this interface over iterable is that with this interface <strong>you can add, modify or remove elements in a collection</strong>. But, accessing elements needs a little more code than iterable. For example:</p>\n\n<pre><code>for (Iterator i = c.iterator(); i.hasNext(); ) {\n       Element e = i.next();    //Get the element\n       System.out.println(e);    //access or modify the element\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Sources:</strong></p>\n\n<ol>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html\" rel=\"nofollow noreferrer\">Java Doc Iterable</a> </li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html\" rel=\"nofollow noreferrer\">Java Doc Iterator</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10298445,"reputation":418,"user_id":7597849,"display_name":"Doomed93"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496848260,"creation_date":1496848260,"answer_id":44416512,"question_id":6863182,"body_markdown":"Basically speaking, both of them are very closely related to each other.\r\n\r\nConsider **Iterator** to be an interface which helps us in traversing through a collection with the help of some undefined methods like *hasNext(), next() and remove()*\r\n\r\nOn the flip side, **Iterable** is another interface, which, if implemented by a class forces the class to be Iterable and is a target for For-Each construct.\r\nIt has only one method named iterator() which comes from Iterator interface itself.\r\n\r\nWhen a collection is iterable, then it can be iterated using an iterator.\r\n\r\nFor understanding visit these:\r\n\r\n**ITERABLE:**  http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Iterable.java\r\n\r\n**ITERATOR** http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Iterator.java\r\n\r\n\r\n\r\n","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>Basically speaking, both of them are very closely related to each other.</p>\n\n<p>Consider <strong>Iterator</strong> to be an interface which helps us in traversing through a collection with the help of some undefined methods like <em>hasNext(), next() and remove()</em></p>\n\n<p>On the flip side, <strong>Iterable</strong> is another interface, which, if implemented by a class forces the class to be Iterable and is a target for For-Each construct.\nIt has only one method named iterator() which comes from Iterator interface itself.</p>\n\n<p>When a collection is iterable, then it can be iterated using an iterator.</p>\n\n<p>For understanding visit these:</p>\n\n<p><strong>ITERABLE:</strong>  <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Iterable.java\" rel=\"nofollow noreferrer\">http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Iterable.java</a></p>\n\n<p><strong>ITERATOR</strong> <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Iterator.java\" rel=\"nofollow noreferrer\">http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Iterator.java</a></p>\n"},{"tags":[],"owner":{"account_id":11568815,"reputation":21,"user_id":8476173,"display_name":"Abhishek Malviya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545639962,"creation_date":1502950093,"answer_id":45727709,"question_id":6863182,"body_markdown":"Consider an example having 10 apples.\r\nWhen it implements Iterable, it is like putting each apple in boxes from 1 to 10 and return an iterator which can be used to navigate.\r\n\r\nBy implementing iterator, we can get any apple, apple in next boxes etc.\r\n\r\nSo implementing iterable gives an iterator to navigate its elements although to navigate, iterator needs to be implemented.","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>Consider an example having 10 apples.\nWhen it implements Iterable, it is like putting each apple in boxes from 1 to 10 and return an iterator which can be used to navigate.</p>\n\n<p>By implementing iterator, we can get any apple, apple in next boxes etc.</p>\n\n<p>So implementing iterable gives an iterator to navigate its elements although to navigate, iterator needs to be implemented.</p>\n"},{"tags":[],"owner":{"account_id":11320264,"reputation":31,"user_id":8300785,"display_name":"Sangeeta"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1510642892,"creation_date":1510637271,"answer_id":47278293,"question_id":6863182,"body_markdown":"As explained [here][1], The *Iterable* was introduced to be able to use in the `foreach` loop. A class implementing the *Iterable* interface can be iterated over. \r\n\r\nIterator is class that manages iteration over an *Iterable*. It maintains a state of where we are in the current iteration, and knows what the next element is and how to get it.\r\n\r\n\r\n  [1]: https://www.java-success.com/%E2%99%A5-java-iterable-vs-iterator-differences-and-know-how/","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>As explained <a href=\"https://www.java-success.com/%E2%99%A5-java-iterable-vs-iterator-differences-and-know-how/\" rel=\"nofollow noreferrer\">here</a>, The <em>Iterable</em> was introduced to be able to use in the <code>foreach</code> loop. A class implementing the <em>Iterable</em> interface can be iterated over. </p>\n\n<p>Iterator is class that manages iteration over an <em>Iterable</em>. It maintains a state of where we are in the current iteration, and knows what the next element is and how to get it.</p>\n"},{"tags":[],"owner":{"account_id":3544068,"reputation":692,"user_id":2960480,"accept_rate":0,"display_name":"Jaemoon Hwang"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1571146277,"creation_date":1512697845,"answer_id":47706549,"question_id":6863182,"body_markdown":"I will answer the question especially about ArrayList as an example in order to help you understand better..\r\n\r\n\r\n1. Iterable interface forces its subclasses to implement abstract method &#39;iterator()&#39;.\r\n\r\n&gt;     public interface Iterable {\r\n&gt;     \t...\r\n&gt;     \tabstract Iterator&lt;T&gt; iterator(); //Returns an &#39;Iterator&#39;(not iterator) over elements of type T.\r\n&gt;     \t...\r\n&gt;     }\r\n\r\n2. Iterator interface forces its subclasses to implement abstract method &#39;hasNext()&#39; and &#39;next()&#39;.\r\n\r\n&gt;     public interface Iterator&#160;{\r\n&gt;     \t...\r\n&gt;     \tabstract boolean hasNext();\t//Returns&#160;true&#160;if the iteration has more elements.\r\n&gt;     \tabstract E next();\t        //Returns the next element in the iteration.\r\n&gt;     \t...\r\n&gt;     }\r\n\r\n\r\n3. ArrayList implements List, List extends Collection and Collection extends Iterable..\r\nThat is, you could see the relationship like \r\n&gt; &#39;Iterable &lt;- Collection &lt;- List &lt;- ArrayList&#39;\r\n\r\n. \r\nAnd Iterable, Collection and List just declare abstract method &#39;iterator()&#39; and ArrayList alone implements it.\r\n\r\n\r\n4. I am going to show ArrayList source code with &#39;iterator()&#39; method as follows for more detailed information.\r\n\r\n&#39;iterator()&#39; method returns an object of class &#39;Itr&#39; which implements &#39;Iterator&lt;E&gt;&#39;.\r\n\r\n\r\n&gt;     public class ArrayList&lt;E&gt; ... implements List&lt;E&gt;, ...\r\n&gt;     {\r\n&gt;     \t...\r\n&gt;     \tpublic Iterator&lt;E&gt; iterator() {\r\n&gt;           \t\treturn new Itr();\r\n&gt;     \t}\r\n&gt;     \r\n&gt;     \r\n&gt;     \tprivate class Itr implements Iterator&lt;E&gt; {\r\n&gt;     \t        ...\r\n&gt;     \t        \r\n&gt;     \t        public boolean hasNext() {\r\n&gt;     \t            return cursor != size;\r\n&gt;     \t        }\r\n&gt;     \t        @SuppressWarnings(&quot;unchecked&quot;)\r\n&gt;     \t        public E next() {\r\n&gt;     \t            checkForComodification();\r\n&gt;     \t            int i = cursor;\r\n&gt;     \t            if (i &gt;= size)\r\n&gt;     \t                throw new NoSuchElementException();\r\n&gt;     \t            Object[] elementData = ArrayList.this.elementData;\r\n&gt;     \t            if (i &gt;= elementData.length)\r\n&gt;     \t                throw new ConcurrentModificationException();\r\n&gt;     \t            cursor = i + 1;\r\n&gt;     \t            return (E) elementData[lastRet = i];\r\n&gt;     \t        }\r\n&gt;     \t        ...\r\n&gt;     \t}\r\n&gt;     }\r\n\r\n5. Some other methods or classes will iterate elements of collections like ArrayList through making use of Iterator&lt;E&gt; (Itr).\r\n\r\n&gt; Here is a simple example.\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(&quot;a&quot;);\r\n        list.add(&quot;b&quot;);\r\n        list.add(&quot;c&quot;);\r\n        list.add(&quot;d&quot;);\r\n        list.add(&quot;e&quot;);\r\n        list.add(&quot;f&quot;);\r\n\r\n        Iterator&lt;String&gt; iterator = list.iterator();\r\n        while (iterator.hasNext()) {\r\n            String string = iterator.next();\r\n            System.out.println(string);\r\n        }\r\n    }\r\n\r\n\r\n\r\nNow, is it clear? :)\r\n\r\n","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>I will answer the question especially about ArrayList as an example in order to help you understand better..</p>\n\n<ol>\n<li>Iterable interface forces its subclasses to implement abstract method 'iterator()'.</li>\n</ol>\n\n<blockquote>\n<pre><code>public interface Iterable {\n  ...\n  abstract Iterator&lt;T&gt; iterator(); //Returns an 'Iterator'(not iterator) over elements of type T.\n  ...\n}\n</code></pre>\n</blockquote>\n\n<ol start=\"2\">\n<li>Iterator interface forces its subclasses to implement abstract method 'hasNext()' and 'next()'.</li>\n</ol>\n\n<blockquote>\n<pre><code>public interface Iterator{\n  ...\n  abstract boolean hasNext(); //Returnstrueif the iteration has more elements.\n  abstract E next();          //Returns the next element in the iteration.\n  ...\n}\n</code></pre>\n</blockquote>\n\n<ol start=\"3\">\n<li>ArrayList implements List, List extends Collection and Collection extends Iterable..\nThat is, you could see the relationship like \n\n<blockquote>\n  <p>'Iterable &lt;- Collection &lt;- List &lt;- ArrayList'</p>\n</blockquote></li>\n</ol>\n\n<p>. \nAnd Iterable, Collection and List just declare abstract method 'iterator()' and ArrayList alone implements it.</p>\n\n<ol start=\"4\">\n<li>I am going to show ArrayList source code with 'iterator()' method as follows for more detailed information.</li>\n</ol>\n\n<p>'iterator()' method returns an object of class 'Itr' which implements 'Iterator'.</p>\n\n<blockquote>\n<pre><code>public class ArrayList&lt;E&gt; ... implements List&lt;E&gt;, ...\n{\n  ...\n  public Iterator&lt;E&gt; iterator() {\n              return new Itr();\n  }\n\n\n  private class Itr implements Iterator&lt;E&gt; {\n          ...\n\n          public boolean hasNext() {\n              return cursor != size;\n          }\n          @SuppressWarnings(\"unchecked\")\n          public E next() {\n              checkForComodification();\n              int i = cursor;\n              if (i &gt;= size)\n                  throw new NoSuchElementException();\n              Object[] elementData = ArrayList.this.elementData;\n              if (i &gt;= elementData.length)\n                  throw new ConcurrentModificationException();\n              cursor = i + 1;\n              return (E) elementData[lastRet = i];\n          }\n          ...\n  }\n}\n</code></pre>\n</blockquote>\n\n<ol start=\"5\">\n<li>Some other methods or classes will iterate elements of collections like ArrayList through making use of Iterator (Itr).</li>\n</ol>\n\n<blockquote>\n  <p>Here is a simple example.</p>\n</blockquote>\n\n<pre><code>public static void main(String[] args) {\n\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    list.add(\"a\");\n    list.add(\"b\");\n    list.add(\"c\");\n    list.add(\"d\");\n    list.add(\"e\");\n    list.add(\"f\");\n\n    Iterator&lt;String&gt; iterator = list.iterator();\n    while (iterator.hasNext()) {\n        String string = iterator.next();\n        System.out.println(string);\n    }\n}\n</code></pre>\n\n<p>Now, is it clear? :)</p>\n"},{"tags":[],"owner":{"account_id":15278730,"reputation":11,"user_id":11023747,"display_name":"Ranuj Mahajan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549477965,"creation_date":1549474554,"answer_id":54559469,"question_id":6863182,"body_markdown":"`Iterable` were introduced to use in for each loop in java\r\n\r\n    public interface Collection&lt;E&gt; extends Iterable&lt;E&gt;  \r\n\r\n`Iterator` is class that manages iteration over an `Iterable`. It maintains a state of where we are in the current iteration, and knows what the next element is and how to get it.","title":"What is the difference between iterator and iterable and how to use them?","body":"<p><code>Iterable</code> were introduced to use in for each loop in java</p>\n\n<pre><code>public interface Collection&lt;E&gt; extends Iterable&lt;E&gt;  \n</code></pre>\n\n<p><code>Iterator</code> is class that manages iteration over an <code>Iterable</code>. It maintains a state of where we are in the current iteration, and knows what the next element is and how to get it.</p>\n"},{"tags":[],"owner":{"account_id":3805427,"reputation":381,"user_id":3157995,"display_name":"Edgar"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1593620585,"creation_date":1593620585,"answer_id":62681180,"question_id":6863182,"body_markdown":"I know this is an old question, but for anybody reading this who is stuck with the same question and who may be overwhelmed with all the terminology, here&#39;s a good, simple analogy to help you understand this distinction between iterables and iterators: \r\n\r\nThink of a public library. Old school. With paper books.  Yes, that kind of library.  \r\n\r\nA shelf full of books would be like an iterable.  You can see the long line of books in the shelf.  You may not know how many, but you can see that it is a long collection of books.  \r\n\r\nThe librarian would be like the iterator.  He can point to a specific book at any moment in time.  He can insert/remove/modify/read the book at that location where he&#39;s pointing.  He points, in sequence, to each book at a time every time you yell out &quot;next!&quot; to him.  So, you normally would ask him: &quot;has Next?&quot;, and he&#39;ll say &quot;yes&quot;, to which you say &quot;next!&quot; and he&#39;ll point to the next book.  He also knows when he&#39;s reached the end of the shelf, so that when you ask: &quot;has Next?&quot; he&#39;ll say &quot;no&quot;.  \r\n\r\nI know it&#39;s a bit silly, but I hope this helps.","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>I know this is an old question, but for anybody reading this who is stuck with the same question and who may be overwhelmed with all the terminology, here's a good, simple analogy to help you understand this distinction between iterables and iterators:</p>\n<p>Think of a public library. Old school. With paper books.  Yes, that kind of library.</p>\n<p>A shelf full of books would be like an iterable.  You can see the long line of books in the shelf.  You may not know how many, but you can see that it is a long collection of books.</p>\n<p>The librarian would be like the iterator.  He can point to a specific book at any moment in time.  He can insert/remove/modify/read the book at that location where he's pointing.  He points, in sequence, to each book at a time every time you yell out &quot;next!&quot; to him.  So, you normally would ask him: &quot;has Next?&quot;, and he'll say &quot;yes&quot;, to which you say &quot;next!&quot; and he'll point to the next book.  He also knows when he's reached the end of the shelf, so that when you ask: &quot;has Next?&quot; he'll say &quot;no&quot;.</p>\n<p>I know it's a bit silly, but I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":1317368,"reputation":28514,"user_id":1263942,"accept_rate":96,"display_name":"Bruno Grieder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643362364,"creation_date":1643354951,"answer_id":70890188,"question_id":6863182,"body_markdown":"An anonymous class easily converts an `Iterator` to an `Iterable` and lets you use the `Iterable` syntax (for loops, `forEach()`).\r\n\r\nExample: consider an `Iterator&lt;T&gt; it`\r\n\r\n```java\r\nfor (T element : new Iterable&lt;T&gt;() {\r\n\r\n    @Override\r\n    public Iterator&lt;T&gt; iterator() {\r\n        return it;\r\n    }\r\n\r\n}) {\r\n    //do something with `T element`\r\n}\r\n```\r\n\r\nAbstracted in a function\r\n\r\n```java\r\nstatic &lt;T&gt; Iterable&lt;T&gt; toIterable(Iterator&lt;T&gt; it) {\r\n    return new Iterable&lt;T&gt;() {\r\n\r\n        @Override\r\n        public Iterator&lt;T&gt; iterator() {\r\n            return it;\r\n        }\r\n\r\n    };\r\n}\r\n```\r\nUsage \r\n```java\r\nfor (T element: toIterable(it) {\r\n...\r\n}\r\n```","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>An anonymous class easily converts an <code>Iterator</code> to an <code>Iterable</code> and lets you use the <code>Iterable</code> syntax (for loops, <code>forEach()</code>).</p>\n<p>Example: consider an <code>Iterator&lt;T&gt; it</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>for (T element : new Iterable&lt;T&gt;() {\n\n    @Override\n    public Iterator&lt;T&gt; iterator() {\n        return it;\n    }\n\n}) {\n    //do something with `T element`\n}\n</code></pre>\n<p>Abstracted in a function</p>\n<pre class=\"lang-java prettyprint-override\"><code>static &lt;T&gt; Iterable&lt;T&gt; toIterable(Iterator&lt;T&gt; it) {\n    return new Iterable&lt;T&gt;() {\n\n        @Override\n        public Iterator&lt;T&gt; iterator() {\n            return it;\n        }\n\n    };\n}\n</code></pre>\n<p>Usage</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (T element: toIterable(it) {\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":717890,"reputation":3568,"user_id":648608,"accept_rate":82,"display_name":"karto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675358481,"creation_date":1675358481,"answer_id":75326759,"question_id":6863182,"body_markdown":"Most java interfaces ends with ***&#39;able&#39;***. examples are **Iterable**, **Cloneable**, **Serializable**, **Runnable**, etc. Therefore, **Iterable** is an interface that has an abstract method called iterator() which returns an Iterator object. \r\n\r\n    public interface Iterable {\r\n      abstract Iterator&lt;T&gt; iterator(); \r\n    }\r\n\r\nIterator interface has abstract method &#39;hasNext()&#39; and &#39;next()&#39;.\r\n\r\n    public interface Iterator {\r\n     abstract boolean hasNext();\r\n     abstract E next();          \r\n    }\r\n\r\nA clear use is a List which extends-&gt;Collections Interface-&gt;extends Iterable\r\n[![enter image description here][1]][1]\r\n   \r\n    List&lt;String&gt; countrylist = new ArrayList&lt;&gt;();\r\n    list.add(&quot;US&quot;);\r\n    list.add(&quot;China&quot;);\r\n    list.add(&quot;Japan&quot;);\r\n    list.add(&quot;India&quot;);\r\n\r\n    Iterator&lt;String&gt; it = countrylist.iterator();\r\n    while (it.hasNext()) {\r\n        String string = it.next();\r\n        System.out.println(string);\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JTV4g.jpg","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>Most java interfaces ends with <em><strong>'able'</strong></em>. examples are <strong>Iterable</strong>, <strong>Cloneable</strong>, <strong>Serializable</strong>, <strong>Runnable</strong>, etc. Therefore, <strong>Iterable</strong> is an interface that has an abstract method called iterator() which returns an Iterator object.</p>\n<pre><code>public interface Iterable {\n  abstract Iterator&lt;T&gt; iterator(); \n}\n</code></pre>\n<p>Iterator interface has abstract method 'hasNext()' and 'next()'.</p>\n<pre><code>public interface Iterator {\n abstract boolean hasNext();\n abstract E next();          \n}\n</code></pre>\n<p>A clear use is a List which extends-&gt;Collections Interface-&gt;extends Iterable\n<a href=\"https://i.stack.imgur.com/JTV4g.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JTV4g.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code>List&lt;String&gt; countrylist = new ArrayList&lt;&gt;();\nlist.add(&quot;US&quot;);\nlist.add(&quot;China&quot;);\nlist.add(&quot;Japan&quot;);\nlist.add(&quot;India&quot;);\n\nIterator&lt;String&gt; it = countrylist.iterator();\nwhile (it.hasNext()) {\n    String string = it.next();\n    System.out.println(string);\n}\n</code></pre>\n"}],"owner":{"account_id":251400,"reputation":2741,"user_id":528750,"accept_rate":33,"display_name":"Charles Cai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185385,"favorite_count":0,"down_vote_count":0,"up_vote_count":255,"accepted_answer_id":6863258,"answer_count":15,"score":255,"last_activity_date":1675358481,"creation_date":1311874507,"question_id":6863182,"body_markdown":"I am new in Java and I&#39;m really confused with iterator and iterable. Can anyone explain to me and give some examples?","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>I am new in Java and I'm really confused with iterator and iterable. Can anyone explain to me and give some examples?</p>\n"},{"tags":["java","datetime","datetime-conversion"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":3,"creation_date":1671074489,"post_id":74806407,"comment_id":132021133,"body_markdown":"`LocalDateTime.parse(&quot;2022-12-22T18:20:00.000&quot;).atZone(ZoneId.of(&quot;US/Eastern&quot;)).toInstant()`","body":"<code>LocalDateTime.parse(&quot;2022-12-22T18:20:00.000&quot;).atZone(ZoneId&zwnj;&#8203;.of(&quot;US&#47;Eastern&quot;)).t&zwnj;&#8203;oInstant()</code>"},{"owner":{"account_id":24015987,"reputation":25,"user_id":17998931,"display_name":"Lingua Franca"},"score":0,"creation_date":1671086438,"post_id":74806407,"comment_id":132022880,"body_markdown":"@AndreyB.Panfilov This suits my needs well. thanks!","body":"@AndreyB.Panfilov This suits my needs well. thanks!"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671178535,"post_id":74806407,"comment_id":132047251,"body_markdown":"Did you search? Please do. Similar questions have been asked and answered over and over. I believe you would get a good answer faster that way.","body":"Did you search? Please do. Similar questions have been asked and answered over and over. I believe you would get a good answer faster that way."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671178617,"post_id":74806407,"comment_id":132047276,"body_markdown":"US/Eastern is a deprecated time zone ID. It works, but prefer America/New_York (which is what you get anyway). Time zone IDs are in *region/city* format.","body":"US/Eastern is a deprecated time zone ID. It works, but prefer America/New_York (which is what you get anyway). Time zone IDs are in <i>region/city</i> format."}],"answers":[{"tags":[],"owner":{"account_id":38390,"reputation":2635,"user_id":110156,"accept_rate":80,"display_name":"Jamie Bisotti"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675358157,"creation_date":1671078451,"answer_id":74806822,"question_id":74806407,"body_markdown":"** **Update** **\r\n\r\nA better version, thanks to Arvind&#39;s response below.\r\n\r\n```java\r\n    final ZonedDateTime americaNewYork =\r\n            LocalDateTime.parse(&quot;2022-12-22T18:20:00.000&quot;)\r\n                         .atZone(ZoneId.of(&quot;America/New_York&quot;));\r\n    final Instant utc = americaNewYork.toInstant();\r\n```\r\n\r\n---\r\n**First Pass**\r\n\r\nI&#39;m not at a computer where I can test this but I think this might do the trick...\r\n\r\n```java\r\n    final ZonedDateTime usEastern =\r\n            LocalDateTime.parse(&quot;2022-12-22T18:20:00.000&quot;, DateTimeFormatter.ISO_DATE_TIME)\r\n                         .atZone(ZoneId.of(&quot;US/Eastern&quot;));\r\n    final ZonedDateTime utc = usEastern.withZoneSameInstant(ZoneId.of(&quot;UTC&quot;));\r\n```","title":"Given ISO and timezone strings, how to convert them to UTC string in Java?","body":"<p>** <strong>Update</strong> **</p>\n<p>A better version, thanks to Arvind's response below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    final ZonedDateTime americaNewYork =\n            LocalDateTime.parse(&quot;2022-12-22T18:20:00.000&quot;)\n                         .atZone(ZoneId.of(&quot;America/New_York&quot;));\n    final Instant utc = americaNewYork.toInstant();\n</code></pre>\n<hr />\n<p><strong>First Pass</strong></p>\n<p>I'm not at a computer where I can test this but I think this might do the trick...</p>\n<pre class=\"lang-java prettyprint-override\"><code>    final ZonedDateTime usEastern =\n            LocalDateTime.parse(&quot;2022-12-22T18:20:00.000&quot;, DateTimeFormatter.ISO_DATE_TIME)\n                         .atZone(ZoneId.of(&quot;US/Eastern&quot;));\n    final ZonedDateTime utc = usEastern.withZoneSameInstant(ZoneId.of(&quot;UTC&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673521642,"creation_date":1673521642,"answer_id":75095380,"question_id":74806407,"body_markdown":"The [accepted answer](https://stackoverflow.com/a/74806822/10819573) is correct but there are a few things that are important for future visitors to this page.\r\n\r\nYou do not need to specify a `DateTimeFormatter`\r\n--\r\n\r\n`java.time` API is based on [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) and therefore you do not need to specify a `DateTimeFormatter` to parse a date-time string which is already in ISO 8601 format (e.g. your date-time string, `2015-03-21T11:08:14.859831`).\r\n\r\nGet an [`Instant`](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html) out of the `ZonedDateTime`\r\n--\r\n\r\nOnce you convert the `LocalDateTime`, parsed from the given date-time string, into a `ZonedDateTime`, I recommend you get an `Instant` out of this `ZonedDateTime`. An `Instant` is an instantaneous point on the timeline, and normally this is represented using a UTC timescale.\r\n\r\n*US/Eastern* is deprecated \r\n--\r\n\r\nAs you find at [List of tz database time zones](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones), *US/Eastern* is deprecated. I recommend you avoid using *US/Eastern* and use *America/New_York* instead.\r\n\r\n\r\n**Demo**:\r\n\r\n    import java.time.Instant;\r\n    import java.time.LocalDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZonedDateTime;\r\n    import java.util.List;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            ZoneId zone = ZoneId.of(&quot;America/New_York&quot;);\r\n    \r\n            ZonedDateTime zdt = LocalDateTime.parse(&quot;2022-12-22T18:20:00.000&quot;)\r\n                                             .atZone(zone);\r\n            // Alternatively\r\n            // zdt = ZonedDateTime.of(LocalDateTime.parse(&quot;2022-12-22T18:20:00.000&quot;), zone);\r\n    \r\n            Instant instant = zdt.toInstant();\r\n            System.out.println(instant);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2022-12-22T23:20:00Z\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/wnrEqa)\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n","title":"Given ISO and timezone strings, how to convert them to UTC string in Java?","body":"<p>The <a href=\"https://stackoverflow.com/a/74806822/10819573\">accepted answer</a> is correct but there are a few things that are important for future visitors to this page.</p>\n<h2>You do not need to specify a <code>DateTimeFormatter</code></h2>\n<p><code>java.time</code> API is based on <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> and therefore you do not need to specify a <code>DateTimeFormatter</code> to parse a date-time string which is already in ISO 8601 format (e.g. your date-time string, <code>2015-03-21T11:08:14.859831</code>).</p>\n<h2>Get an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> out of the <code>ZonedDateTime</code></h2>\n<p>Once you convert the <code>LocalDateTime</code>, parsed from the given date-time string, into a <code>ZonedDateTime</code>, I recommend you get an <code>Instant</code> out of this <code>ZonedDateTime</code>. An <code>Instant</code> is an instantaneous point on the timeline, and normally this is represented using a UTC timescale.</p>\n<h2><em>US/Eastern</em> is deprecated</h2>\n<p>As you find at <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">List of tz database time zones</a>, <em>US/Eastern</em> is deprecated. I recommend you avoid using <em>US/Eastern</em> and use <em>America/New_York</em> instead.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.Instant;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\nimport java.util.List;\n\nclass Main {\n    public static void main(String[] args) {\n        ZoneId zone = ZoneId.of(&quot;America/New_York&quot;);\n\n        ZonedDateTime zdt = LocalDateTime.parse(&quot;2022-12-22T18:20:00.000&quot;)\n                                         .atZone(zone);\n        // Alternatively\n        // zdt = ZonedDateTime.of(LocalDateTime.parse(&quot;2022-12-22T18:20:00.000&quot;), zone);\n\n        Instant instant = zdt.toInstant();\n        System.out.println(instant);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-12-22T23:20:00Z\n</code></pre>\n<p><a href=\"https://ideone.com/wnrEqa\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":24015987,"reputation":25,"user_id":17998931,"display_name":"Lingua Franca"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74806822,"answer_count":2,"score":0,"last_activity_date":1675358157,"creation_date":1671073556,"question_id":74806407,"body_markdown":"For example, I have an ISO string &quot;2022-12-22T18:20:00.000&quot;, and a timezone string &quot;US/Eastern&quot;. How do I convert them into a UTC time in the same format (iso 8601), using Java?","title":"Given ISO and timezone strings, how to convert them to UTC string in Java?","body":"<p>For example, I have an ISO string &quot;2022-12-22T18:20:00.000&quot;, and a timezone string &quot;US/Eastern&quot;. How do I convert them into a UTC time in the same format (iso 8601), using Java?</p>\n"},{"tags":["java","spring-boot","hibernate","hibernate-envers"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675357688,"creation_date":1675357688,"answer_id":75326629,"question_id":75114625,"body_markdown":"You marked the column as `insertable = false, updatable = false`, so there is nothing to audit here, because Hibernate can never change the value of that column.","title":"@ManyToOne relationship is not audited","body":"<p>You marked the column as <code>insertable = false, updatable = false</code>, so there is nothing to audit here, because Hibernate can never change the value of that column.</p>\n"}],"owner":{"account_id":4651858,"reputation":87,"user_id":3768526,"accept_rate":14,"display_name":"braab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675357688,"creation_date":1673645324,"question_id":75114625,"body_markdown":"I have two entities:\r\n\r\n    @Entity\r\n    @Table(name = &quot;entity_a&quot;)\r\n    @Audited\r\n    public class EntityA {\r\n    \r\n        @Column(name = &quot;entity_a_uuid&quot;, columnDefinition = &quot;char&quot;, updatable = false)\r\n        @Type(type = &quot;uuid-char&quot;)\r\n        private UUID uuid = UUID.randomUUID();\r\n    \r\n        /**\r\n         * @deprecated in favor of uuid\r\n         */\r\n        @Deprecated\r\n        @Id\r\n        @GeneratedValue\r\n        @Column(name = &quot;entity_a_id&quot;)\r\n        private Integer id;\r\n    \r\n        @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\r\n        @JoinColumn(name = &quot;entity_a_id&quot;, nullable = false)\r\n        @BatchSize(size = 100)\r\n        @NotAudited\r\n        private List&lt;EntityB&gt; entityBs = new ArrayList&lt;&gt;();\r\n    }\r\n\r\nand\r\n\r\n    @Entity\r\n    @Audited\r\n    @Table(name = &quot;entity_b&quot;)\r\n    public class EntityB {\r\n    \r\n        @Id\r\n        @Column(name = &quot;entity_b_uuid&quot;, columnDefinition = &quot;char&quot;, updatable = false)\r\n        @Type(type = &quot;uuid-char&quot;)\r\n        private UUID uuid = UUID.randomUUID();\r\n    \r\n        @ManyToOne(optional = false, fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;entity_a_id&quot;, nullable = false, insertable = false, updatable = false)\r\n        private EntityA entityA;\r\n    }\r\n\r\nEach is correctly audited into two tables `entity_a_audit` and `entity_b_audit`. However, the `entity_a_id` field in `entity_b_audit` is *always* null.\r\n\r\nSome details:\r\n\r\n 1. If I do not have the `@NotAudited` in `EntityA`, I will get an error that says something to the effect of: The table `EntityA_EntityB_audit` does not exist. This seems like it&#39;s trying to audit them as a single table, which I do not want.\r\n\r\n2. I have tried applying `@Audited(targetAuditMode = elationTargetAuditMode.NOT_AUDITED)` to each side. If applied only in `EntityA`, I get the above error. If applied only in `EntityB`, nothing changes. If applied in both, I get the error above. If applied to neither, I get the error above.\r\n\r\n3. I suspect the `entity_a_id` is null in `entity_b_audit` because the id isn&#39;t generated until EntityA hits the DB. `entity_a_id` is auto-incrementing in the `entity_a` table.\r\n\r\n4. Using `hibernate-envers-5.4.32.Final.jar`\r\n\r\nUltimately, I would like for `entity_a_id` to not be null in `entity_b_audit`. Alternatively, if I could somehow get `entity_a_uuid` to be captured instead, that would also suffice.\r\n\r\nAny help would be greatly appreciated! Thanks.","title":"@ManyToOne relationship is not audited","body":"<p>I have two entities:</p>\n<pre><code>@Entity\n@Table(name = &quot;entity_a&quot;)\n@Audited\npublic class EntityA {\n\n    @Column(name = &quot;entity_a_uuid&quot;, columnDefinition = &quot;char&quot;, updatable = false)\n    @Type(type = &quot;uuid-char&quot;)\n    private UUID uuid = UUID.randomUUID();\n\n    /**\n     * @deprecated in favor of uuid\n     */\n    @Deprecated\n    @Id\n    @GeneratedValue\n    @Column(name = &quot;entity_a_id&quot;)\n    private Integer id;\n\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\n    @JoinColumn(name = &quot;entity_a_id&quot;, nullable = false)\n    @BatchSize(size = 100)\n    @NotAudited\n    private List&lt;EntityB&gt; entityBs = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Entity\n@Audited\n@Table(name = &quot;entity_b&quot;)\npublic class EntityB {\n\n    @Id\n    @Column(name = &quot;entity_b_uuid&quot;, columnDefinition = &quot;char&quot;, updatable = false)\n    @Type(type = &quot;uuid-char&quot;)\n    private UUID uuid = UUID.randomUUID();\n\n    @ManyToOne(optional = false, fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;entity_a_id&quot;, nullable = false, insertable = false, updatable = false)\n    private EntityA entityA;\n}\n</code></pre>\n<p>Each is correctly audited into two tables <code>entity_a_audit</code> and <code>entity_b_audit</code>. However, the <code>entity_a_id</code> field in <code>entity_b_audit</code> is <em>always</em> null.</p>\n<p>Some details:</p>\n<ol>\n<li><p>If I do not have the <code>@NotAudited</code> in <code>EntityA</code>, I will get an error that says something to the effect of: The table <code>EntityA_EntityB_audit</code> does not exist. This seems like it's trying to audit them as a single table, which I do not want.</p>\n</li>\n<li><p>I have tried applying <code>@Audited(targetAuditMode = elationTargetAuditMode.NOT_AUDITED)</code> to each side. If applied only in <code>EntityA</code>, I get the above error. If applied only in <code>EntityB</code>, nothing changes. If applied in both, I get the error above. If applied to neither, I get the error above.</p>\n</li>\n<li><p>I suspect the <code>entity_a_id</code> is null in <code>entity_b_audit</code> because the id isn't generated until EntityA hits the DB. <code>entity_a_id</code> is auto-incrementing in the <code>entity_a</code> table.</p>\n</li>\n<li><p>Using <code>hibernate-envers-5.4.32.Final.jar</code></p>\n</li>\n</ol>\n<p>Ultimately, I would like for <code>entity_a_id</code> to not be null in <code>entity_b_audit</code>. Alternatively, if I could somehow get <code>entity_a_uuid</code> to be captured instead, that would also suffice.</p>\n<p>Any help would be greatly appreciated! Thanks.</p>\n"},{"tags":["java","android","react-native","facebook"],"answers":[{"tags":[],"owner":{"account_id":6257222,"reputation":488,"user_id":8988448,"display_name":"Gavara.Suneel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675351602,"creation_date":1675351602,"answer_id":75325354,"question_id":75324373,"body_markdown":"Before doing the first step i.e., `mkdir android/app/src/main/assets`, you have to run the metro server using the `npm start` command. The below link has all the steps required to create an offline APk in debug mode.I can see that the first step is missing.\r\n\r\nhttps://stackoverflow.com/a/37965603/8988448","title":"Error: Unable to load script. Make sure you are either running a Metro server or your bundle &#39;index.android.bundle&#39; is packaged correctly for release","body":"<p>Before doing the first step i.e., <code>mkdir android/app/src/main/assets</code>, you have to run the metro server using the <code>npm start</code> command. The below link has all the steps required to create an offline APk in debug mode.I can see that the first step is missing.</p>\n<p><a href=\"https://stackoverflow.com/a/37965603/8988448\">https://stackoverflow.com/a/37965603/8988448</a></p>\n"}],"owner":{"account_id":24261328,"reputation":31,"user_id":18210851,"display_name":"shweta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675357667,"creation_date":1675347019,"question_id":75324373,"body_markdown":"I upgraded my React Native project from 0.63.3 to 0.66.4 with the help of this resource \r\nhttps://react-native-community.github.io/upgrade-helper/?from=0.63.3&amp;to=0.66.4 (followed every instruction in it).\r\n\r\nBut after generating the apk and I see the below error during the launch -&gt;\r\n\r\n```\r\n01-27 19:12:46.364  9223  9895 E AndroidRuntime: java.lang.RuntimeException: Unable to load script. Make sure you&#39;re either running Metro (run &#39;npx react-native start&#39;) or that your bundle &#39;index.android.bundle&#39; is packaged correctly for release.\r\n01-27 19:12:46.364  9223  9895 E AndroidRuntime: \tat com.facebook.react.bridge.CatalystInstanceImpl.jniLoadScriptFromAssets(Native Method)\r\n01-27 19:12:46.364  9223  9895 E AndroidRuntime: \tat com.facebook.react.bridge.CatalystInstanceImpl.loadScriptFromAssets(CatalystInstanceImpl.java:2)\r\n01-27 19:12:46.364  9223  9895 E AndroidRuntime: \tat com.facebook.react.bridge.JSBundleLoader$1.loadScript(JSBundleLoader.java:1)\r\n01-27 19:12:46.364  9223  9895 E AndroidRuntime: \tat com.facebook.react.bridge.CatalystInstanceImpl.runJSBundle(CatalystInstanceImpl.java:3)\r\n01-27 19:12:46.364  9223  9895 E AndroidRuntime: \tat com.facebook.react.o.s(ReactInstanceManager.java:39)\r\n01-27 19:12:46.364  9223  9895 E AndroidRuntime: \tat com.facebook.react.o.c(ReactInstanceManager.java:1)\r\n01-27 19:12:46.364  9223  9895 E AndroidRuntime: \tat com.facebook.react.o$f.run(ReactInstanceManager.java:12)\r\n\r\n```\r\n\r\nMy index.android.bundle is getting generated in the correct path And I tried every possible solution below to resolve this error, but nothing seems to resolve the above error:\r\n\r\n - $ mkdir android/app/src/main/assets\r\n\r\n   $ react-native bundle --platform android --dev false --entry-file index.android.js -- \r\n   bundle-output android/app/src/main/assets/index.android.bundle --assets-dest \r\n   android/app/src/main/res\r\n\r\n - In Project build.gradle =&gt; \r\n\r\n      project.ext.react=&#160;[\r\n\r\n     &#160;bundleInDebug:&#160;true,\r\n\r\n   &#160;bundleInRelease:&#160;true ]\r\n\r\n - In androidManifest.xml =&gt; \r\n\r\n   android:usesCleartextTraffic=&quot;true&quot;\r\n\r\n   tools:ignore=&quot;GoogleAppIndexingWarning\r\n\r\n - In Project build.gradle =&gt;\r\n\r\n   project.ext.react=&#160;[\r\n\r\n   entryFile:&#160;&quot;index.js&quot;,\r\n\r\n   bundleAssetName:&#160;&quot;index.android.bundle&quot;,\r\n \r\n   devDisabledInAppDev:&#160;true,\r\n  \r\n   devDisabledInRelease:&#160;true ]\r\n\r\n - https://stackoverflow.com/a/49143330/18210851\r\n\r\n**Please suggest some solution.**","title":"Error: Unable to load script. Make sure you are either running a Metro server or your bundle &#39;index.android.bundle&#39; is packaged correctly for release","body":"<p>I upgraded my React Native project from 0.63.3 to 0.66.4 with the help of this resource\n<a href=\"https://react-native-community.github.io/upgrade-helper/?from=0.63.3&amp;to=0.66.4\" rel=\"nofollow noreferrer\">https://react-native-community.github.io/upgrade-helper/?from=0.63.3&amp;to=0.66.4</a> (followed every instruction in it).</p>\n<p>But after generating the apk and I see the below error during the launch -&gt;</p>\n<pre><code>01-27 19:12:46.364  9223  9895 E AndroidRuntime: java.lang.RuntimeException: Unable to load script. Make sure you're either running Metro (run 'npx react-native start') or that your bundle 'index.android.bundle' is packaged correctly for release.\n01-27 19:12:46.364  9223  9895 E AndroidRuntime:    at com.facebook.react.bridge.CatalystInstanceImpl.jniLoadScriptFromAssets(Native Method)\n01-27 19:12:46.364  9223  9895 E AndroidRuntime:    at com.facebook.react.bridge.CatalystInstanceImpl.loadScriptFromAssets(CatalystInstanceImpl.java:2)\n01-27 19:12:46.364  9223  9895 E AndroidRuntime:    at com.facebook.react.bridge.JSBundleLoader$1.loadScript(JSBundleLoader.java:1)\n01-27 19:12:46.364  9223  9895 E AndroidRuntime:    at com.facebook.react.bridge.CatalystInstanceImpl.runJSBundle(CatalystInstanceImpl.java:3)\n01-27 19:12:46.364  9223  9895 E AndroidRuntime:    at com.facebook.react.o.s(ReactInstanceManager.java:39)\n01-27 19:12:46.364  9223  9895 E AndroidRuntime:    at com.facebook.react.o.c(ReactInstanceManager.java:1)\n01-27 19:12:46.364  9223  9895 E AndroidRuntime:    at com.facebook.react.o$f.run(ReactInstanceManager.java:12)\n\n</code></pre>\n<p>My index.android.bundle is getting generated in the correct path And I tried every possible solution below to resolve this error, but nothing seems to resolve the above error:</p>\n<ul>\n<li><p>$ mkdir android/app/src/main/assets</p>\n<p>$ react-native bundle --platform android --dev false --entry-file index.android.js --\nbundle-output android/app/src/main/assets/index.android.bundle --assets-dest\nandroid/app/src/main/res</p>\n</li>\n<li><p>In Project build.gradle =&gt;</p>\n<p>project.ext.react=[</p>\n<p>bundleInDebug:true,</p>\n<p>bundleInRelease:true ]</p>\n</li>\n<li><p>In androidManifest.xml =&gt;</p>\n<p>android:usesCleartextTraffic=&quot;true&quot;</p>\n<p>tools:ignore=&quot;GoogleAppIndexingWarning</p>\n</li>\n<li><p>In Project build.gradle =&gt;</p>\n<p>project.ext.react=[</p>\n<p>entryFile:&quot;index.js&quot;,</p>\n<p>bundleAssetName:&quot;index.android.bundle&quot;,</p>\n<p>devDisabledInAppDev:true,</p>\n<p>devDisabledInRelease:true ]</p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/a/49143330/18210851\">https://stackoverflow.com/a/49143330/18210851</a></p>\n</li>\n</ul>\n<p><strong>Please suggest some solution.</strong></p>\n"},{"tags":["java","android","date"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1675345950,"post_id":75324143,"comment_id":132912185,"body_markdown":"have you tried applying a dateformatter?","body":"have you tried applying a dateformatter?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1675353751,"post_id":75324143,"comment_id":132915223,"body_markdown":"I believe that the standard format in [SQLite is YYYY-MM-DD](https://www.sqlite.org/lang_datefunc.html), also known as ISO 8601. I would certainly use it. It is also the default format for `LocalDate`, which makes it easy to format it for your user the way they prefer to see it, for example dd/mm/yyyy.","body":"I believe that the standard format in <a href=\"https://www.sqlite.org/lang_datefunc.html\" rel=\"nofollow noreferrer\">SQLite is YYYY-MM-DD</a>, also known as ISO 8601. I would certainly use it. It is also the default format for <code>LocalDate</code>, which makes it easy to format it for your user the way they prefer to see it, for example dd/mm/yyyy."}],"answers":[{"tags":[],"owner":{"account_id":26794663,"reputation":89,"user_id":20387575,"display_name":"John Johnson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675346494,"creation_date":1675346494,"answer_id":75324272,"question_id":75324143,"body_markdown":"This is how i got it to work:\r\n\r\n\r\n            String sYear = String.valueOf(Year);\r\n            String sMonth = String.valueOf((Month + 1));\r\n            String sDay = String.valueOf(Day);\r\n\r\n            if (sDay.length() == 1)\r\n                sDay = &quot;0&quot; + sDay;\r\n\r\n            if (sMonth.length() == 1)\r\n                sMonth = &quot;0&quot; + sMonth;\r\n\r\n            if (sDay.length() == 1)\r\n                sDay = &quot;0&quot; + sDay;\r\n\r\n                date =   sDay + &quot;/&quot; + sMonth + &quot;/&quot; + sYear;","title":"How to get users click in calendar view to be stored as dd/mm/yyyy in SQLite","body":"<p>This is how i got it to work:</p>\n<pre><code>        String sYear = String.valueOf(Year);\n        String sMonth = String.valueOf((Month + 1));\n        String sDay = String.valueOf(Day);\n\n        if (sDay.length() == 1)\n            sDay = &quot;0&quot; + sDay;\n\n        if (sMonth.length() == 1)\n            sMonth = &quot;0&quot; + sMonth;\n\n        if (sDay.length() == 1)\n            sDay = &quot;0&quot; + sDay;\n\n            date =   sDay + &quot;/&quot; + sMonth + &quot;/&quot; + sYear;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1675352253,"creation_date":1675352253,"answer_id":75325498,"question_id":75324143,"body_markdown":"There is a better way (than what you have posted as an answer) to get the required formatted string:\r\n\r\n    String output = String.format(&quot;%02d/%02d/%d&quot;, day, month, year);\r\n\r\nwhere `day`, `month` and `year` are integers.\r\n\r\nUsing `java.time` API:\r\n--\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/uuuu&quot;);\r\n    \r\n            // Sample units\r\n            int year = 2023, month = 2, day = 1;\r\n            LocalDate date = LocalDate.of(year, month, day);\r\n            String output = date.format(formatter);\r\n            System.out.println(output);\r\n        }\r\n    }\r\n**Output**:\r\n\r\n    01/02/2023\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/2um1Dl)\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"How to get users click in calendar view to be stored as dd/mm/yyyy in SQLite","body":"<p>There is a better way (than what you have posted as an answer) to get the required formatted string:</p>\n<pre><code>String output = String.format(&quot;%02d/%02d/%d&quot;, day, month, year);\n</code></pre>\n<p>where <code>day</code>, <code>month</code> and <code>year</code> are integers.</p>\n<h2>Using <code>java.time</code> API:</h2>\n<pre><code>import java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\n\nclass Main {\n    public static void main(String[] args) {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/uuuu&quot;);\n\n        // Sample units\n        int year = 2023, month = 2, day = 1;\n        LocalDate date = LocalDate.of(year, month, day);\n        String output = date.format(formatter);\n        System.out.println(output);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>01/02/2023\n</code></pre>\n<p><a href=\"https://ideone.com/2um1Dl\" rel=\"noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":26794663,"reputation":89,"user_id":20387575,"display_name":"John Johnson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":75325498,"answer_count":2,"score":3,"last_activity_date":1675357549,"creation_date":1675345888,"question_id":75324143,"body_markdown":"In my SQLite database I have my dates stored in this format 02/01/2023 but when I try to get the date from the calendarview it gives them to me as 2/1/2023 which causes me to have an error when trying to retrieve the data from the database that matches that date. \r\n\r\nHow do I format this into a String variable?\r\n\r\nMy attempt so far:\r\n\r\n\r\n\r\n        public void onSelectedDayChange(@NonNull CalendarView calendarview, int i, int i1,int i2) {\r\n            exercise_name = new ArrayList&lt;&gt;();\r\n            set_weight = new ArrayList&lt;&gt;();\r\n            set_reps = new ArrayList&lt;&gt;();\r\n            set_date= new ArrayList&lt;&gt;();\r\n        //formatting to dd/mm/yyyy\r\n                System.out.println(&quot;both are over 10&quot;);\r\n                date =    i2 + &quot;/&quot; + (i1+1) + &quot;/&quot; + i;\r\n\r\n            //month needs plus 1 because it starts at 0\r\n            tviewdate.setText(date);\r\n            storeDataDateinArrays();","title":"How to get users click in calendar view to be stored as dd/mm/yyyy in SQLite","body":"<p>In my SQLite database I have my dates stored in this format 02/01/2023 but when I try to get the date from the calendarview it gives them to me as 2/1/2023 which causes me to have an error when trying to retrieve the data from the database that matches that date.</p>\n<p>How do I format this into a String variable?</p>\n<p>My attempt so far:</p>\n<pre><code>    public void onSelectedDayChange(@NonNull CalendarView calendarview, int i, int i1,int i2) {\n        exercise_name = new ArrayList&lt;&gt;();\n        set_weight = new ArrayList&lt;&gt;();\n        set_reps = new ArrayList&lt;&gt;();\n        set_date= new ArrayList&lt;&gt;();\n    //formatting to dd/mm/yyyy\n            System.out.println(&quot;both are over 10&quot;);\n            date =    i2 + &quot;/&quot; + (i1+1) + &quot;/&quot; + i;\n\n        //month needs plus 1 because it starts at 0\n        tviewdate.setText(date);\n        storeDataDateinArrays();\n</code></pre>\n"},{"tags":["java","android","rx-java"],"answers":[{"tags":[],"owner":{"account_id":219666,"reputation":11435,"user_id":476690,"display_name":"dwursteisen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1431533952,"creation_date":1431533952,"answer_id":30220301,"question_id":30219877,"body_markdown":"`zip` operator allow you to compose a result from results of two different observable. \r\n\r\nYou &#39;ll have to give am lambda that will create a result from datas emitted by each observable.\r\n\r\n\r\n\r\n    Observable&lt;MovieResponse&gt; movies = ...\r\n    Observable&lt;PictureResponse&gt; picture = ...\r\n\r\n    Observable&lt;Response&gt; response = movies.zipWith(picture, (movie, pic) -&gt; {\r\n            return new Response(&quot;description&quot;, movie.getName(), pic.getUrl());\r\n        \r\n    });","title":"Rxjava Android how to use the Zip operator","body":"<p><code>zip</code> operator allow you to compose a result from results of two different observable. </p>\n\n<p>You 'll have to give am lambda that will create a result from datas emitted by each observable.</p>\n\n<pre><code>Observable&lt;MovieResponse&gt; movies = ...\nObservable&lt;PictureResponse&gt; picture = ...\n\nObservable&lt;Response&gt; response = movies.zipWith(picture, (movie, pic) -&gt; {\n        return new Response(\"description\", movie.getName(), pic.getUrl());\n\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":999177,"reputation":8970,"user_id":1014413,"accept_rate":60,"display_name":"inmyth"},"down_vote_count":0,"up_vote_count":75,"is_accepted":true,"score":75,"last_activity_date":1582566506,"creation_date":1431536834,"answer_id":30221196,"question_id":30219877,"body_markdown":"Zip operator strictly pairs emitted items from observables. It waits for both (or more) items to arrive then merges them. So yes this would be suitable for your needs. \r\n\r\nI would use `Func2` to chain the result from the first two observables. \r\nNotice this approach would be simpler if you use Retrofit since its api interface may return an observable. Otherwise you would need to create your own observable. \r\n\r\n    // assuming each observable returns response in the form of String\r\n    Observable&lt;String&gt; movOb = Observable.create(...);\r\n    // if you use Retrofit\r\n    Observable&lt;String&gt; picOb = RetrofitApiManager.getService().uploadPic(...),\r\n    Observable.zip(movOb, picOb, new Func2&lt;String, String, MyResult&gt;() {\r\n          @Override\r\n          public MyResult call(String movieUploadResponse, String picUploadResponse) {\r\n              // analyze both responses, upload them to another server\r\n              // and return this method with a MyResult type\r\n              return myResult;\r\n          }\r\n       }\r\n    )\r\n    // continue chaining this observable with subscriber\r\n    // or use it for something else","title":"Rxjava Android how to use the Zip operator","body":"<p>Zip operator strictly pairs emitted items from observables. It waits for both (or more) items to arrive then merges them. So yes this would be suitable for your needs. </p>\n\n<p>I would use <code>Func2</code> to chain the result from the first two observables. \nNotice this approach would be simpler if you use Retrofit since its api interface may return an observable. Otherwise you would need to create your own observable. </p>\n\n<pre><code>// assuming each observable returns response in the form of String\nObservable&lt;String&gt; movOb = Observable.create(...);\n// if you use Retrofit\nObservable&lt;String&gt; picOb = RetrofitApiManager.getService().uploadPic(...),\nObservable.zip(movOb, picOb, new Func2&lt;String, String, MyResult&gt;() {\n      @Override\n      public MyResult call(String movieUploadResponse, String picUploadResponse) {\n          // analyze both responses, upload them to another server\n          // and return this method with a MyResult type\n          return myResult;\n      }\n   }\n)\n// continue chaining this observable with subscriber\n// or use it for something else\n</code></pre>\n"},{"tags":[],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1467187577,"creation_date":1467187577,"answer_id":38093782,"question_id":30219877,"body_markdown":"Here I have an example that I did using Zip in asynchronous way, just in case you&#180;re curious\r\n\r\n\r\n\r\n\r\n          /**\r\n     * Since every observable into the zip is created to subscribeOn a diferent thread, it&#180;s means all of them will run in parallel.\r\n     * By default Rx is not async, only if you explicitly use subscribeOn.\r\n      */\r\n    @Test\r\n    public void testAsyncZip() {\r\n        scheduler = Schedulers.newThread();\r\n        scheduler1 = Schedulers.newThread();\r\n        scheduler2 = Schedulers.newThread();\r\n        long start = System.currentTimeMillis();\r\n        Observable.zip(obAsyncString(), obAsyncString1(), obAsyncString2(), (s, s2, s3) -&gt; s.concat(s2)\r\n                                                                                            .concat(s3))\r\n                  .subscribe(result -&gt; showResult(&quot;Async in:&quot;, start, result));\r\n    }\r\n\r\n    /**\r\n     * In this example the the three observables will be emitted sequentially and the three items will be passed to the pipeline\r\n     */\r\n    @Test\r\n    public void testZip() {\r\n        long start = System.currentTimeMillis();\r\n        Observable.zip(obString(), obString1(), obString2(), (s, s2, s3) -&gt; s.concat(s2)\r\n                                                                             .concat(s3))\r\n                  .subscribe(result -&gt; showResult(&quot;Sync in:&quot;, start, result));\r\n    }\r\n\r\n\r\n    public void showResult(String transactionType, long start, String result) {\r\n        System.out.println(result + &quot; &quot; +\r\n                                   transactionType + String.valueOf(System.currentTimeMillis() - start));\r\n    }\r\n\r\n    public Observable&lt;String&gt; obString() {\r\n        return Observable.just(&quot;&quot;)\r\n                         .doOnNext(val -&gt; {\r\n                             System.out.println(&quot;Thread &quot; + Thread.currentThread()\r\n                                                                  .getName());\r\n                         })\r\n                         .map(val -&gt; &quot;Hello&quot;);\r\n    }\r\n\r\n    public Observable&lt;String&gt; obString1() {\r\n        return Observable.just(&quot;&quot;)\r\n                         .doOnNext(val -&gt; {\r\n                             System.out.println(&quot;Thread &quot; + Thread.currentThread()\r\n                                                                  .getName());\r\n                         })\r\n                         .map(val -&gt; &quot; World&quot;);\r\n    }\r\n\r\n    public Observable&lt;String&gt; obString2() {\r\n        return Observable.just(&quot;&quot;)\r\n                         .doOnNext(val -&gt; {\r\n                             System.out.println(&quot;Thread &quot; + Thread.currentThread()\r\n                                                                  .getName());\r\n                         })\r\n                         .map(val -&gt; &quot;!&quot;);\r\n    }\r\n\r\n    public Observable&lt;String&gt; obAsyncString() {\r\n        return Observable.just(&quot;&quot;)\r\n                         .observeOn(scheduler)\r\n                         .doOnNext(val -&gt; {\r\n                             System.out.println(&quot;Thread &quot; + Thread.currentThread()\r\n                                                                  .getName());\r\n                         })\r\n                         .map(val -&gt; &quot;Hello&quot;);\r\n    }\r\n\r\n    public Observable&lt;String&gt; obAsyncString1() {\r\n        return Observable.just(&quot;&quot;)\r\n                         .observeOn(scheduler1)\r\n                         .doOnNext(val -&gt; {\r\n                             System.out.println(&quot;Thread &quot; + Thread.currentThread()\r\n                                                                  .getName());\r\n                         })\r\n                         .map(val -&gt; &quot; World&quot;);\r\n    }\r\n\r\n    public Observable&lt;String&gt; obAsyncString2() {\r\n        return Observable.just(&quot;&quot;)\r\n                         .observeOn(scheduler2)\r\n                         .doOnNext(val -&gt; {\r\n                             System.out.println(&quot;Thread &quot; + Thread.currentThread()\r\n                                                                  .getName());\r\n                         })\r\n                         .map(val -&gt; &quot;!&quot;);\r\n    }\r\n\r\n\r\n\r\nYou can see more examples here https://github.com/politrons/reactive","title":"Rxjava Android how to use the Zip operator","body":"<p>Here I have an example that I did using Zip in asynchronous way, just in case youre curious</p>\n\n<pre><code>      /**\n * Since every observable into the zip is created to subscribeOn a diferent thread, its means all of them will run in parallel.\n * By default Rx is not async, only if you explicitly use subscribeOn.\n  */\n@Test\npublic void testAsyncZip() {\n    scheduler = Schedulers.newThread();\n    scheduler1 = Schedulers.newThread();\n    scheduler2 = Schedulers.newThread();\n    long start = System.currentTimeMillis();\n    Observable.zip(obAsyncString(), obAsyncString1(), obAsyncString2(), (s, s2, s3) -&gt; s.concat(s2)\n                                                                                        .concat(s3))\n              .subscribe(result -&gt; showResult(\"Async in:\", start, result));\n}\n\n/**\n * In this example the the three observables will be emitted sequentially and the three items will be passed to the pipeline\n */\n@Test\npublic void testZip() {\n    long start = System.currentTimeMillis();\n    Observable.zip(obString(), obString1(), obString2(), (s, s2, s3) -&gt; s.concat(s2)\n                                                                         .concat(s3))\n              .subscribe(result -&gt; showResult(\"Sync in:\", start, result));\n}\n\n\npublic void showResult(String transactionType, long start, String result) {\n    System.out.println(result + \" \" +\n                               transactionType + String.valueOf(System.currentTimeMillis() - start));\n}\n\npublic Observable&lt;String&gt; obString() {\n    return Observable.just(\"\")\n                     .doOnNext(val -&gt; {\n                         System.out.println(\"Thread \" + Thread.currentThread()\n                                                              .getName());\n                     })\n                     .map(val -&gt; \"Hello\");\n}\n\npublic Observable&lt;String&gt; obString1() {\n    return Observable.just(\"\")\n                     .doOnNext(val -&gt; {\n                         System.out.println(\"Thread \" + Thread.currentThread()\n                                                              .getName());\n                     })\n                     .map(val -&gt; \" World\");\n}\n\npublic Observable&lt;String&gt; obString2() {\n    return Observable.just(\"\")\n                     .doOnNext(val -&gt; {\n                         System.out.println(\"Thread \" + Thread.currentThread()\n                                                              .getName());\n                     })\n                     .map(val -&gt; \"!\");\n}\n\npublic Observable&lt;String&gt; obAsyncString() {\n    return Observable.just(\"\")\n                     .observeOn(scheduler)\n                     .doOnNext(val -&gt; {\n                         System.out.println(\"Thread \" + Thread.currentThread()\n                                                              .getName());\n                     })\n                     .map(val -&gt; \"Hello\");\n}\n\npublic Observable&lt;String&gt; obAsyncString1() {\n    return Observable.just(\"\")\n                     .observeOn(scheduler1)\n                     .doOnNext(val -&gt; {\n                         System.out.println(\"Thread \" + Thread.currentThread()\n                                                              .getName());\n                     })\n                     .map(val -&gt; \" World\");\n}\n\npublic Observable&lt;String&gt; obAsyncString2() {\n    return Observable.just(\"\")\n                     .observeOn(scheduler2)\n                     .doOnNext(val -&gt; {\n                         System.out.println(\"Thread \" + Thread.currentThread()\n                                                              .getName());\n                     })\n                     .map(val -&gt; \"!\");\n}\n</code></pre>\n\n<p>You can see more examples here <a href=\"https://github.com/politrons/reactive\" rel=\"nofollow\">https://github.com/politrons/reactive</a></p>\n"},{"tags":[],"owner":{"account_id":2920899,"reputation":12440,"user_id":2503185,"accept_rate":100,"display_name":"Evin1_"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1656595673,"creation_date":1479000957,"answer_id":40569634,"question_id":30219877,"body_markdown":"A small example:\r\n\r\n    val observableOne = Observable.just(&quot;Hello&quot;, &quot;World&quot;)\r\n    val observableTwo = Observable.just(&quot;Bye&quot;, &quot;Friends&quot;)\r\n    val zipper = BiFunction&lt;String, String, String&gt; { first, second -&gt; &quot;$first - $second&quot; }\r\n    Observable.zip(observableOne, observableTwo, zipper)\r\n      .subscribe { println(it) }\r\n    \r\nThis will print:\r\n\r\n    Hello - Bye\r\n    World - Friends\r\n\r\n---\r\n\r\nIn `BiFunction&lt;String, String, String&gt;` the first `String` the type of the first observable, the second `String` is the type of the second observable, the third `String` represents the type of the return of your zipper function.\r\n\r\n---\r\n\r\nI made a small example that calls two real endpoints using zip in [this blog post][2]\r\n\r\n\r\n  [1]: https://github.com/Evin1-/w0d0-rxjava-samples/blob/master/app/src/main/java/com/example/rxjavasamples/ZipSample.java\r\n  [2]: https://loopcupcakes.com/blog/network-calls-parallel-rxjava-zip","title":"Rxjava Android how to use the Zip operator","body":"<p>A small example:</p>\n<pre><code>val observableOne = Observable.just(&quot;Hello&quot;, &quot;World&quot;)\nval observableTwo = Observable.just(&quot;Bye&quot;, &quot;Friends&quot;)\nval zipper = BiFunction&lt;String, String, String&gt; { first, second -&gt; &quot;$first - $second&quot; }\nObservable.zip(observableOne, observableTwo, zipper)\n  .subscribe { println(it) }\n</code></pre>\n<p>This will print:</p>\n<pre><code>Hello - Bye\nWorld - Friends\n</code></pre>\n<hr />\n<p>In <code>BiFunction&lt;String, String, String&gt;</code> the first <code>String</code> the type of the first observable, the second <code>String</code> is the type of the second observable, the third <code>String</code> represents the type of the return of your zipper function.</p>\n<hr />\n<p>I made a small example that calls two real endpoints using zip in <a href=\"https://loopcupcakes.com/blog/network-calls-parallel-rxjava-zip\" rel=\"nofollow noreferrer\">this blog post</a></p>\n"},{"tags":[],"owner":{"account_id":2215206,"reputation":2164,"user_id":1956013,"accept_rate":56,"display_name":"Ahmed Adel Ismail"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1486261477,"creation_date":1486257976,"answer_id":42047613,"question_id":30219877,"body_markdown":"i have been searching for a simple answer on how to use the Zip operator, and what to do with the Observables i create to pass them to it, i was wondering if i should call subscribe() for every observable or not, non of these answers were simple to find, i had to figure it out by my self, so here is a simple example for using Zip operator on 2 Observables :\r\n\r\n    @Test\r\n    public void zipOperator() throws Exception {\r\n\r\n        List&lt;Integer&gt; indexes = Arrays.asList(0, 1, 2, 3, 4);\r\n        List&lt;String&gt; letters = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;);\r\n\r\n        Observable&lt;Integer&gt; indexesObservable = Observable.fromIterable(indexes);\r\n\r\n        Observable&lt;String&gt; lettersObservable = Observable.fromIterable(letters);\r\n\r\n        Observable.zip(indexesObservable, lettersObservable, mergeEmittedItems())\r\n                .subscribe(printMergedItems());\r\n    }\r\n\r\n    @NonNull\r\n    private BiFunction&lt;Integer, String, String&gt; mergeEmittedItems() {\r\n        return new BiFunction&lt;Integer, String, String&gt;() {\r\n            @Override\r\n            public String apply(Integer index, String letter) throws Exception {\r\n                return &quot;[&quot; + index + &quot;] &quot; + letter;\r\n            }\r\n        };\r\n    }\r\n\r\n    @NonNull\r\n    private Consumer&lt;String&gt; printMergedItems() {\r\n        return new Consumer&lt;String&gt;() {\r\n            @Override\r\n            public void accept(String s) throws Exception {\r\n                System.out.println(s);\r\n            }\r\n        };\r\n    }\r\n\r\nthe printed result is :\r\n\r\n    [0] a\r\n    [1] b\r\n    [2] c\r\n    [3] d\r\n    [4] e\r\n\r\nthe final answers to the questions that where in my head were as follows\r\n\r\nthe Observables passed to the zip() method just need to be created only, they do not need to have any subscribers to them, only creating them is enough ... if you want any observable to run on a scheduler, you can specify this for that Observable ... i also tried the zip() operator on Observables where they should wait for there result, and the Consumable of the zip() was triggered only when both results where ready (which is the expected behavior)\r\n\r\n","title":"Rxjava Android how to use the Zip operator","body":"<p>i have been searching for a simple answer on how to use the Zip operator, and what to do with the Observables i create to pass them to it, i was wondering if i should call subscribe() for every observable or not, non of these answers were simple to find, i had to figure it out by my self, so here is a simple example for using Zip operator on 2 Observables :</p>\n\n<pre><code>@Test\npublic void zipOperator() throws Exception {\n\n    List&lt;Integer&gt; indexes = Arrays.asList(0, 1, 2, 3, 4);\n    List&lt;String&gt; letters = Arrays.asList(\"a\", \"b\", \"c\", \"d\", \"e\");\n\n    Observable&lt;Integer&gt; indexesObservable = Observable.fromIterable(indexes);\n\n    Observable&lt;String&gt; lettersObservable = Observable.fromIterable(letters);\n\n    Observable.zip(indexesObservable, lettersObservable, mergeEmittedItems())\n            .subscribe(printMergedItems());\n}\n\n@NonNull\nprivate BiFunction&lt;Integer, String, String&gt; mergeEmittedItems() {\n    return new BiFunction&lt;Integer, String, String&gt;() {\n        @Override\n        public String apply(Integer index, String letter) throws Exception {\n            return \"[\" + index + \"] \" + letter;\n        }\n    };\n}\n\n@NonNull\nprivate Consumer&lt;String&gt; printMergedItems() {\n    return new Consumer&lt;String&gt;() {\n        @Override\n        public void accept(String s) throws Exception {\n            System.out.println(s);\n        }\n    };\n}\n</code></pre>\n\n<p>the printed result is :</p>\n\n<pre><code>[0] a\n[1] b\n[2] c\n[3] d\n[4] e\n</code></pre>\n\n<p>the final answers to the questions that where in my head were as follows</p>\n\n<p>the Observables passed to the zip() method just need to be created only, they do not need to have any subscribers to them, only creating them is enough ... if you want any observable to run on a scheduler, you can specify this for that Observable ... i also tried the zip() operator on Observables where they should wait for there result, and the Consumable of the zip() was triggered only when both results where ready (which is the expected behavior)</p>\n"},{"tags":[],"owner":{"account_id":264294,"reputation":23543,"user_id":550471,"accept_rate":84,"display_name":"Someone Somewhere"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1531850292,"creation_date":1531850292,"answer_id":51387664,"question_id":30219877,"body_markdown":"This is my implementation using **Single.zip** and **rxJava2**\r\n\r\nI tried to make it as easy to understand as possible\r\n\r\n\t//\r\n\t// API Client Interface\r\n\t//\r\n\t@GET(ServicesConstants.API_PREFIX + &quot;questions/{id}/&quot;)\r\n\tSingle&lt;Response&lt;ResponseGeneric&lt;List&lt;ResponseQuestion&gt;&gt;&gt;&gt; getBaseQuestions(@Path(&quot;id&quot;) int personId);\r\n\r\n\t@GET(ServicesConstants.API_PREFIX + &quot;physician/{id}/&quot;)\r\n\tSingle&lt;Response&lt;ResponseGeneric&lt;List&lt;ResponsePhysician&gt;&gt;&gt;&gt; getPhysicianInfo(@Path(&quot;id&quot;) int personId);\r\n\r\n\t//\r\n\t// API middle layer - NOTE: I had feedback that the Single.create is not needed (but I haven&#39;t yet spent the time to improve it)\r\n\t//\r\n\tpublic Single&lt;List&lt;ResponsePhysician&gt;&gt; getPhysicianInfo(int personId) {\r\n\t\treturn Single.create(subscriber -&gt; {\r\n\t\t\tapiClient.getPhysicianInfo(appId)\r\n\t\t\t\t\t.subscribeOn(Schedulers.io())\r\n\t\t\t\t\t.observeOn(Schedulers.io())\r\n\t\t\t\t\t.subscribe(response -&gt; {\r\n\t\t\t\t\t\tResponseGeneric&lt;List&lt;ResponsePhysician&gt;&gt; responseBody = response.body();\r\n\t\t\t\t\t\tif(responseBody != null &amp;&amp; responseBody.statusCode == 1) {\r\n\t\t\t\t\t\t\tif (!subscriber.isDisposed()) subscriber.onSuccess(responseBody.data);\r\n\t\t\t\t\t\t} else if(response.body() != null &amp;&amp; response.body().status != null ){\r\n\t\t\t\t\t\t\tif (!subscriber.isDisposed()) subscriber.onError(new Throwable(response.body().status));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (!subscriber.isDisposed()) subscriber.onError(new Throwable(response.message()));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, throwable -&gt; {\r\n\t\t\t\t\t\tthrowable.printStackTrace();\r\n\t\t\t\t\t\tif(!subscriber.isDisposed()) subscriber.onError(throwable);\r\n\t\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tpublic Single&lt;List&lt;ResponseQuestion&gt;&gt; getHealthQuestions(int personId){\r\n\t\treturn Single.create(subscriber -&gt; {\r\n\t\t\tapiClient.getBaseQuestions(personId)\r\n\t\t\t\t\t.subscribeOn(Schedulers.io())\r\n\t\t\t\t\t.observeOn(Schedulers.io())\r\n\t\t\t\t\t.subscribe(response -&gt; {\r\n\t\t\t\t\t\tResponseGeneric&lt;List&lt;ResponseQuestion&gt;&gt; responseBody = response.body();\r\n\t\t\t\t\t\tif(responseBody != null &amp;&amp; responseBody.data != null) {\r\n\t\t\t\t\t\t\tif (!subscriber.isDisposed()) subscriber.onSuccess(response.body().data);\r\n\t\t\t\t\t\t} else if(response.body() != null &amp;&amp; response.body().status != null ){\r\n\t\t\t\t\t\t\tif (!subscriber.isDisposed()) subscriber.onError(new Throwable(response.body().status));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (!subscriber.isDisposed()) subscriber.onError(new Throwable(response.message()));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, throwable -&gt; {\r\n\t\t\t\t\t\tthrowable.printStackTrace();\r\n\t\t\t\t\t\tif(!subscriber.isDisposed()) subscriber.onError(throwable);\r\n\t\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t//please note that ResponseGeneric is just an outer wrapper of the returned data - common to all API&#39;s in this project\r\n\r\n\tpublic class ResponseGeneric&lt;T&gt; {\r\n\r\n\t\t@SerializedName(&quot;Status&quot;)\r\n\t\tpublic String status;\r\n\r\n\t\t@SerializedName(&quot;StatusCode&quot;)\r\n\t\tpublic float statusCode;\r\n\r\n\t\t@SerializedName(&quot;Data&quot;)\r\n\t\tpublic T data;\r\n\t}\r\n\r\n\t//\r\n\t// API end-use layer - this gets close to the UI so notice the oberver is set for main thread\r\n\t//\r\n\tprivate static class MergedResponse{// this is just a POJO to store all the responses in one object\r\n\t\tpublic List&lt;ResponseQuestion&gt; listQuestions;\r\n\t\tpublic List&lt;ResponsePhysician&gt; listPhysicians;\r\n\t\tpublic MergedResponse(List&lt;ResponseQuestion&gt; listQuestions, List&lt;ResponsePhysician&gt; listPhysicians){\r\n\t\t\tthis.listQuestions = listQuestions;\r\n\t\t\tthis.listPhysicians = listPhysicians;\r\n\t\t}\r\n\t}\r\n\r\n\t// example of Single.zip() - calls getHealthQuestions() and getPhysicianInfo() from API Middle Layer\r\n\tprivate void downloadHealthQuestions(int personId) {\r\n\t\taddRxSubscription(Single\r\n\t\t\t\t.zip(getHealthQuestions(personId), getPhysicianInfo(personId), MergedResponse::new)\r\n\t\t\t\t.subscribeOn(Schedulers.io())\r\n\t\t\t\t.observeOn(AndroidSchedulers.mainThread())\r\n\t\t\t\t.subscribe(response -&gt; {\r\n\t\t\t\t\tif(response != null) {\r\n\t\t\t\t\t\tTimber.i(&quot; - total health questions downloaded %d&quot;, response.listQuestions.size());\r\n\t\t\t\t\t\tTimber.i(&quot; - physicians downloaded %d&quot;, response.listPhysicians.size());\r\n\r\n\t\t\t\t\t\tif (response.listPhysicians != null &amp;&amp; response.listPhysicians.size()&gt;0) {\r\n\t\t\t\t\t\t\t// do your stuff to process response data\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (response.listQuestions != null &amp;&amp; response.listQuestions.size()&gt;0) {\r\n\r\n\t\t\t\t\t\t\t// do your stuff to process response data\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// process error - show message\r\n\t\t\t\t\t}\r\n\t\t\t\t}, error -&gt; {\r\n\t\t\t\t\t// process error - show network error message\r\n\t\t\t\t}));\r\n\t}","title":"Rxjava Android how to use the Zip operator","body":"<p>This is my implementation using <strong>Single.zip</strong> and <strong>rxJava2</strong></p>\n\n<p>I tried to make it as easy to understand as possible</p>\n\n<pre><code>//\n// API Client Interface\n//\n@GET(ServicesConstants.API_PREFIX + \"questions/{id}/\")\nSingle&lt;Response&lt;ResponseGeneric&lt;List&lt;ResponseQuestion&gt;&gt;&gt;&gt; getBaseQuestions(@Path(\"id\") int personId);\n\n@GET(ServicesConstants.API_PREFIX + \"physician/{id}/\")\nSingle&lt;Response&lt;ResponseGeneric&lt;List&lt;ResponsePhysician&gt;&gt;&gt;&gt; getPhysicianInfo(@Path(\"id\") int personId);\n\n//\n// API middle layer - NOTE: I had feedback that the Single.create is not needed (but I haven't yet spent the time to improve it)\n//\npublic Single&lt;List&lt;ResponsePhysician&gt;&gt; getPhysicianInfo(int personId) {\n    return Single.create(subscriber -&gt; {\n        apiClient.getPhysicianInfo(appId)\n                .subscribeOn(Schedulers.io())\n                .observeOn(Schedulers.io())\n                .subscribe(response -&gt; {\n                    ResponseGeneric&lt;List&lt;ResponsePhysician&gt;&gt; responseBody = response.body();\n                    if(responseBody != null &amp;&amp; responseBody.statusCode == 1) {\n                        if (!subscriber.isDisposed()) subscriber.onSuccess(responseBody.data);\n                    } else if(response.body() != null &amp;&amp; response.body().status != null ){\n                        if (!subscriber.isDisposed()) subscriber.onError(new Throwable(response.body().status));\n                    } else {\n                        if (!subscriber.isDisposed()) subscriber.onError(new Throwable(response.message()));\n                    }\n                }, throwable -&gt; {\n                    throwable.printStackTrace();\n                    if(!subscriber.isDisposed()) subscriber.onError(throwable);\n                });\n    });\n}\n\npublic Single&lt;List&lt;ResponseQuestion&gt;&gt; getHealthQuestions(int personId){\n    return Single.create(subscriber -&gt; {\n        apiClient.getBaseQuestions(personId)\n                .subscribeOn(Schedulers.io())\n                .observeOn(Schedulers.io())\n                .subscribe(response -&gt; {\n                    ResponseGeneric&lt;List&lt;ResponseQuestion&gt;&gt; responseBody = response.body();\n                    if(responseBody != null &amp;&amp; responseBody.data != null) {\n                        if (!subscriber.isDisposed()) subscriber.onSuccess(response.body().data);\n                    } else if(response.body() != null &amp;&amp; response.body().status != null ){\n                        if (!subscriber.isDisposed()) subscriber.onError(new Throwable(response.body().status));\n                    } else {\n                        if (!subscriber.isDisposed()) subscriber.onError(new Throwable(response.message()));\n                    }\n                }, throwable -&gt; {\n                    throwable.printStackTrace();\n                    if(!subscriber.isDisposed()) subscriber.onError(throwable);\n                });\n    });\n}\n\n//please note that ResponseGeneric is just an outer wrapper of the returned data - common to all API's in this project\n\npublic class ResponseGeneric&lt;T&gt; {\n\n    @SerializedName(\"Status\")\n    public String status;\n\n    @SerializedName(\"StatusCode\")\n    public float statusCode;\n\n    @SerializedName(\"Data\")\n    public T data;\n}\n\n//\n// API end-use layer - this gets close to the UI so notice the oberver is set for main thread\n//\nprivate static class MergedResponse{// this is just a POJO to store all the responses in one object\n    public List&lt;ResponseQuestion&gt; listQuestions;\n    public List&lt;ResponsePhysician&gt; listPhysicians;\n    public MergedResponse(List&lt;ResponseQuestion&gt; listQuestions, List&lt;ResponsePhysician&gt; listPhysicians){\n        this.listQuestions = listQuestions;\n        this.listPhysicians = listPhysicians;\n    }\n}\n\n// example of Single.zip() - calls getHealthQuestions() and getPhysicianInfo() from API Middle Layer\nprivate void downloadHealthQuestions(int personId) {\n    addRxSubscription(Single\n            .zip(getHealthQuestions(personId), getPhysicianInfo(personId), MergedResponse::new)\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe(response -&gt; {\n                if(response != null) {\n                    Timber.i(\" - total health questions downloaded %d\", response.listQuestions.size());\n                    Timber.i(\" - physicians downloaded %d\", response.listPhysicians.size());\n\n                    if (response.listPhysicians != null &amp;&amp; response.listPhysicians.size()&gt;0) {\n                        // do your stuff to process response data\n                    }\n\n                    if (response.listQuestions != null &amp;&amp; response.listQuestions.size()&gt;0) {\n\n                        // do your stuff to process response data\n                    }\n\n\n                } else {\n                    // process error - show message\n                }\n            }, error -&gt; {\n                // process error - show network error message\n            }));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9215655,"reputation":8763,"user_id":6846888,"display_name":"&#194;ngelo Polotto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531938350,"creation_date":1531938350,"answer_id":51408708,"question_id":30219877,"body_markdown":"You use the `zip` from `rxjava` with `Java 8`:\r\n\r\n    Observable&lt;MovieResponse&gt; movies = ...\r\n    Observable&lt;PictureResponse&gt; picture = ...\r\n\r\n    Observable&lt;ZipResponse&gt; response = Observable.zip(movies, picture, ZipResponse::new);\r\n\r\n    class ZipResponse {\r\n            private MovieResponse movieResponse;\r\n            private PictureResponse pictureResponse;\r\n\r\n            ZipResponse(MovieResponse movieResponse, PictureResponse pictureResponse) {\r\n                 this.movieResponse = movieResponse;\r\n                 this.pictureResponse = pictureResponse;\r\n            }\r\n\r\n            public MovieResponse getMovieResponse() {\r\n                 return movieResponse;\r\n            }\r\n\r\n            public void setMovieResponse(MovieResponse movieResponse) {\r\n                this.movieResponse= movieResponse;\r\n            }\r\n\r\n            public PictureResponse getPictureResponse() {\r\n                 return pictureResponse;\r\n            }\r\n\r\n            public void setPictureResponse(PictureResponse pictureResponse) {\r\n                this.pictureResponse= pictureResponse;\r\n            }\r\n    }","title":"Rxjava Android how to use the Zip operator","body":"<p>You use the <code>zip</code> from <code>rxjava</code> with <code>Java 8</code>:</p>\n\n<pre><code>Observable&lt;MovieResponse&gt; movies = ...\nObservable&lt;PictureResponse&gt; picture = ...\n\nObservable&lt;ZipResponse&gt; response = Observable.zip(movies, picture, ZipResponse::new);\n\nclass ZipResponse {\n        private MovieResponse movieResponse;\n        private PictureResponse pictureResponse;\n\n        ZipResponse(MovieResponse movieResponse, PictureResponse pictureResponse) {\n             this.movieResponse = movieResponse;\n             this.pictureResponse = pictureResponse;\n        }\n\n        public MovieResponse getMovieResponse() {\n             return movieResponse;\n        }\n\n        public void setMovieResponse(MovieResponse movieResponse) {\n            this.movieResponse= movieResponse;\n        }\n\n        public PictureResponse getPictureResponse() {\n             return pictureResponse;\n        }\n\n        public void setPictureResponse(PictureResponse pictureResponse) {\n            this.pictureResponse= pictureResponse;\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9888762,"reputation":750,"user_id":7918717,"display_name":"antaki93"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675357447,"creation_date":1675357447,"answer_id":75326580,"question_id":30219877,"body_markdown":"You can use `.zipWith` operator for Observable chains.\r\n\r\nIf `uploadMovies()` and `uploadPictures()` return Observable,\r\n\r\n    uploadMovies()\r\n        .zipWith(uploadPictures()) { m, p -&gt;\r\n            &quot;$m with $p were uploaded&quot;\r\n        }\r\n        .subscribe { print(it) }","title":"Rxjava Android how to use the Zip operator","body":"<p>You can use <code>.zipWith</code> operator for Observable chains.</p>\n<p>If <code>uploadMovies()</code> and <code>uploadPictures()</code> return Observable,</p>\n<pre><code>uploadMovies()\n    .zipWith(uploadPictures()) { m, p -&gt;\n        &quot;$m with $p were uploaded&quot;\n    }\n    .subscribe { print(it) }\n</code></pre>\n"}],"owner":{"account_id":4613279,"reputation":1564,"user_id":3740701,"accept_rate":75,"display_name":"feilong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91008,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"accepted_answer_id":30221196,"answer_count":8,"score":62,"last_activity_date":1675357447,"creation_date":1431532613,"question_id":30219877,"body_markdown":"I am having a lot of trouble understanding the zip operator in RxJava for my android project. \r\nProblem\r\nI need to be able to send a network request to upload a video\r\nThen i need to send a network request to upload a picture to go with it\r\nfinally i need to add a description and use the responses from the previous two requests to upload the location urls of the video and picture along with the description to my server.\r\n\r\nI assumed that the zip operator would be perfect for this task as I understood we could take the response of two observables (video and picture requests) and use them for my final task.\r\nBut I cant seem to get this to occur how I envision it.\r\n\r\nI am looking for someone to answer how this can be done conceptually with a bit of psuedo code.\r\nThank you","title":"Rxjava Android how to use the Zip operator","body":"<p>I am having a lot of trouble understanding the zip operator in RxJava for my android project. \nProblem\nI need to be able to send a network request to upload a video\nThen i need to send a network request to upload a picture to go with it\nfinally i need to add a description and use the responses from the previous two requests to upload the location urls of the video and picture along with the description to my server.</p>\n\n<p>I assumed that the zip operator would be perfect for this task as I understood we could take the response of two observables (video and picture requests) and use them for my final task.\nBut I cant seem to get this to occur how I envision it.</p>\n\n<p>I am looking for someone to answer how this can be done conceptually with a bit of psuedo code.\nThank you</p>\n"},{"tags":["java","synchronization"],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1619939066,"creation_date":1619830882,"answer_id":67342031,"question_id":67341949,"body_markdown":"You are confused with how `Object`s and object references work\r\n\r\n    public class Foo () {\r\n      Object bar;\r\n    \r\n      public Foo() {\r\n        bar = new Object();\r\n      }\r\n    }\r\n\r\nIn the example above, `bar` is an object reference. It is null until it is assigned in the constructor:\r\n\r\n`bar = new Object()`;\r\n\r\nbar now *points* to the object you created. When you pass an object into a constructor or method and then assign it to an object reference in the class, the reference takes on a value.\r\n\r\nSo back to your synchronization question. Since you are passing the same object into both `CounterRunnable`s, they are synchronizing on the same object.","title":"How synchronization works in Java when i use synchronized (this.local_datamember)?","body":"<p>You are confused with how <code>Object</code>s and object references work</p>\n<pre><code>public class Foo () {\n  Object bar;\n\n  public Foo() {\n    bar = new Object();\n  }\n}\n</code></pre>\n<p>In the example above, <code>bar</code> is an object reference. It is null until it is assigned in the constructor:</p>\n<p><code>bar = new Object()</code>;</p>\n<p>bar now <em>points</em> to the object you created. When you pass an object into a constructor or method and then assign it to an object reference in the class, the reference takes on a value.</p>\n<p>So back to your synchronization question. Since you are passing the same object into both <code>CounterRunnable</code>s, they are synchronizing on the same object.</p>\n"}],"owner":{"account_id":17162092,"reputation":71,"user_id":12421479,"display_name":"Ahmed Waleed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1619939189,"accepted_answer_id":67342031,"answer_count":1,"score":0,"last_activity_date":1675356997,"creation_date":1619829947,"question_id":67341949,"body_markdown":"Let&#39;s assume that I create 2 threads CounterRunnable and create one object of Mycounter.\r\n\r\nIn the code below, how does the synchronization work? I imagined that when I synchronize on counter, which is an object defined in the thread class, I now have 2 separate objects with two different counter objects with two different locks to each object.\r\n\r\nI thought that I am now locking on the counter object itself not the single referenced object.\r\n\r\n```java\r\npublic class example {\r\n\r\n\tclass CounterRunnable implements Runnable {\r\n\t\tprivate MyCounter counter;\r\n\r\n\t\tpublic CounterRunnable (MyCounter counter) {\r\n\t\t\tthis.counter = counter;\r\n\t\t}\r\n\r\n\t\tpublic void run () {\r\n\t\t\tfor (int i = 0 ; i &lt; 1000; i++)\r\n              synchronized(this.counter){\r\n\t\t\t\tcounter.increment();\r\n              }\r\n\t\t}\r\n\t}\r\n\r\n\tclass MyCounter  {\r\n\t\tprivate int c =0;\r\n\t\tpublic synchronized void increment () {\r\n\t\t\tc++;\r\n\t\t}\r\n\t\tpublic int value () {return c;}\t\r\n\t}\r\n\r\n\tpublic static void main (String [] args) throws InterruptedException {\r\n\r\n\t\texample ex = new example();\r\n\t\tMyCounter counter = ex.new MyCounter();\r\n\r\n\t\tThread t1 = new Thread (ex.new CounterRunnable(counter));\r\n\t\tThread t2 = new Thread (ex.new CounterRunnable(counter));\r\n\r\n\t\tt1.start(); t2.start();\r\n\t\tt1.join(); t2.join();\r\n\r\n\t\tSystem.out.println(counter.value());\r\n\r\n\t}\r\n}\r\n\r\n\r\n```","title":"How synchronization works in Java when i use synchronized (this.local_datamember)?","body":"<p>Let's assume that I create 2 threads CounterRunnable and create one object of Mycounter.</p>\n<p>In the code below, how does the synchronization work? I imagined that when I synchronize on counter, which is an object defined in the thread class, I now have 2 separate objects with two different counter objects with two different locks to each object.</p>\n<p>I thought that I am now locking on the counter object itself not the single referenced object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class example {\n\n    class CounterRunnable implements Runnable {\n        private MyCounter counter;\n\n        public CounterRunnable (MyCounter counter) {\n            this.counter = counter;\n        }\n\n        public void run () {\n            for (int i = 0 ; i &lt; 1000; i++)\n              synchronized(this.counter){\n                counter.increment();\n              }\n        }\n    }\n\n    class MyCounter  {\n        private int c =0;\n        public synchronized void increment () {\n            c++;\n        }\n        public int value () {return c;} \n    }\n\n    public static void main (String [] args) throws InterruptedException {\n\n        example ex = new example();\n        MyCounter counter = ex.new MyCounter();\n\n        Thread t1 = new Thread (ex.new CounterRunnable(counter));\n        Thread t2 = new Thread (ex.new CounterRunnable(counter));\n\n        t1.start(); t2.start();\n        t1.join(); t2.join();\n\n        System.out.println(counter.value());\n\n    }\n}\n\n\n</code></pre>\n"},{"tags":["java","jenkins"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1661368818,"post_id":73476360,"comment_id":129758834,"body_markdown":"Please don&#39;t post images of code or errors; see [ask]. [Edit] your question and add a [mcve] instead.","body":"Please don&#39;t post images of code or errors; see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. <a href=\"https://stackoverflow.com/posts/73476360/edit\">Edit</a> your question and add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> instead."}],"answers":[{"tags":[],"owner":{"account_id":4237332,"reputation":1500,"user_id":3468135,"accept_rate":50,"display_name":"stuck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661409077,"creation_date":1661409077,"answer_id":73482868,"question_id":73476360,"body_markdown":"As you can see from the [following documentation][1], there is no &quot;`mail to`&quot; attribute for mail plugin.\r\n\r\nCan you try the same configuration with &quot;`to`&quot; attribute instead of &quot;`mail to`&quot;?\r\n\r\n\r\n  [1]: https://www.jenkins.io/doc/pipeline/steps/workflow-basic-steps/#mail-mail","title":"The jenkins pipeline send email error with java.lang.NoSuchMethodError","body":"<p>As you can see from the <a href=\"https://www.jenkins.io/doc/pipeline/steps/workflow-basic-steps/#mail-mail\" rel=\"nofollow noreferrer\">following documentation</a>, there is no &quot;<code>mail to</code>&quot; attribute for mail plugin.</p>\n<p>Can you try the same configuration with &quot;<code>to</code>&quot; attribute instead of &quot;<code>mail to</code>&quot;?</p>\n"},{"tags":[],"owner":{"account_id":12968295,"reputation":114,"user_id":9375004,"display_name":"RonnieJ"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675356938,"creation_date":1675356938,"answer_id":75326479,"question_id":73476360,"body_markdown":"You probably have an updated version of **Mailer** and an older version of **Pipeline Basic Steps**.\r\n\r\nThe problem is in the call to **Mailer** from the **Pipeline Basic Steps** plugin.\r\n\r\n    org.jenkinsci.plugins.workflow.steps.MailStep$MailStepExecution.buildMimeMessage(MailStep.java:167)\r\n\r\nIn this [commit][1], they migrate from *javax.mail* to *jakarta.mail*.\r\n\r\nSo, older versions of **Pipeline Basic Steps** make the call with the argument of type `javax.mail.Message$RecipientType` instead of `jakarta.mail.Message$RecipientType`.\r\n\r\n\r\nHere a recent version of the class [MimeMessageBuilder][2] with the method `addRecipients(java.lang.String, jakarta.mail.Message$RecipientType)`.\r\n\r\nI updated the **Pipeline** plugin that has the **Pipeline Basic Steps** dependency, to make it work.\r\n\r\n\r\n  [1]: https://github.com/jenkinsci/workflow-basic-steps-plugin/commit/d2ef6c4f16d6d7b430e9edb162b93de1f6ad6b46\r\n  [2]: https://github.com/jenkinsci/mailer-plugin/blob/448.v5b_97805e3767/src/main/java/jenkins/plugins/mailer/tasks/MimeMessageBuilder.java","title":"The jenkins pipeline send email error with java.lang.NoSuchMethodError","body":"<p>You probably have an updated version of <strong>Mailer</strong> and an older version of <strong>Pipeline Basic Steps</strong>.</p>\n<p>The problem is in the call to <strong>Mailer</strong> from the <strong>Pipeline Basic Steps</strong> plugin.</p>\n<pre><code>org.jenkinsci.plugins.workflow.steps.MailStep$MailStepExecution.buildMimeMessage(MailStep.java:167)\n</code></pre>\n<p>In this <a href=\"https://github.com/jenkinsci/workflow-basic-steps-plugin/commit/d2ef6c4f16d6d7b430e9edb162b93de1f6ad6b46\" rel=\"nofollow noreferrer\">commit</a>, they migrate from <em>javax.mail</em> to <em>jakarta.mail</em>.</p>\n<p>So, older versions of <strong>Pipeline Basic Steps</strong> make the call with the argument of type <code>javax.mail.Message$RecipientType</code> instead of <code>jakarta.mail.Message$RecipientType</code>.</p>\n<p>Here a recent version of the class <a href=\"https://github.com/jenkinsci/mailer-plugin/blob/448.v5b_97805e3767/src/main/java/jenkins/plugins/mailer/tasks/MimeMessageBuilder.java\" rel=\"nofollow noreferrer\">MimeMessageBuilder</a> with the method <code>addRecipients(java.lang.String, jakarta.mail.Message$RecipientType)</code>.</p>\n<p>I updated the <strong>Pipeline</strong> plugin that has the <strong>Pipeline Basic Steps</strong> dependency, to make it work.</p>\n"}],"owner":{"account_id":21873865,"reputation":56,"user_id":16163047,"display_name":"pipe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1903,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75326479,"answer_count":2,"score":0,"last_activity_date":1675356938,"creation_date":1661357044,"question_id":73476360,"body_markdown":"when i use pipeline to send email, the Jenkins Console Output **&quot;java.lang.NoSuchMethodError&quot;**,\r\nI think this may be caused by the mailer plugin or the Jenkins version ,But I&#39;m not sureso i How to do it?\r\n\r\npipeline\r\n\r\n      pipeline {\r\n            agent any\r\n            stages {\r\n                stage(&#39;Hello&#39;) {\r\n                    steps {\r\n                        echo &quot;Hello world&quot;\r\n                            }\r\n                    }\r\n                }\r\n            post{\r\n                always{\r\n                    mail to: &quot;15283666096@163.com&quot;,\r\n                    subject: &quot;Test Email&quot;,\r\n                    body: &quot;Test&quot;\r\n                }\r\n            }\r\n        }\r\n\r\n output\r\n\r\n    [Pipeline] { (Declarative: Post Actions)\r\n    [Pipeline] mail\r\n    Error when executing always post condition:\r\n    java.lang.NoSuchMethodError: &#39;jenkins.plugins.mailer.tasks.MimeMessageBuilder jenkins.plugins.mailer.tasks.MimeMessageBuilder.addRecipients(java.lang.String, javax.mail.Message$RecipientType)&#39;\r\n    \tat org.jenkinsci.plugins.workflow.steps.MailStep$MailStepExecution.buildMimeMessage(MailStep.java:167)\r\n    \tat org.jenkinsci.plugins.workflow.steps.MailStep$MailStepExecution.run(MailStep.java:142)\r\n    \tat org.jenkinsci.plugins.workflow.steps.MailStep$MailStepExecution.run(MailStep.java:129)\r\n    \tat org.jenkinsci.plugins.workflow.steps.SynchronousNonBlockingStepExecution.lambda$start$0(SynchronousNonBlockingStepExecution.java:47)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.base/java.lang.Thread.run(Unknown Source)\r\n    \r\n    [Pipeline] }\r\n    [Pipeline] // stage\r\n    [Pipeline] }\r\n    [Pipeline] // node\r\n    [Pipeline] End of Pipeline\r\n\r\n  ","title":"The jenkins pipeline send email error with java.lang.NoSuchMethodError","body":"<p>when i use pipeline to send email, the Jenkins Console Output <strong>&quot;java.lang.NoSuchMethodError&quot;</strong>,\nI think this may be caused by the mailer plugin or the Jenkins version ,But I'm not sureso i How to do it?</p>\n<p>pipeline</p>\n<pre><code>  pipeline {\n        agent any\n        stages {\n            stage('Hello') {\n                steps {\n                    echo &quot;Hello world&quot;\n                        }\n                }\n            }\n        post{\n            always{\n                mail to: &quot;15283666096@163.com&quot;,\n                subject: &quot;Test Email&quot;,\n                body: &quot;Test&quot;\n            }\n        }\n    }\n</code></pre>\n<p>output</p>\n<pre><code>[Pipeline] { (Declarative: Post Actions)\n[Pipeline] mail\nError when executing always post condition:\njava.lang.NoSuchMethodError: 'jenkins.plugins.mailer.tasks.MimeMessageBuilder jenkins.plugins.mailer.tasks.MimeMessageBuilder.addRecipients(java.lang.String, javax.mail.Message$RecipientType)'\n    at org.jenkinsci.plugins.workflow.steps.MailStep$MailStepExecution.buildMimeMessage(MailStep.java:167)\n    at org.jenkinsci.plugins.workflow.steps.MailStep$MailStepExecution.run(MailStep.java:142)\n    at org.jenkinsci.plugins.workflow.steps.MailStep$MailStepExecution.run(MailStep.java:129)\n    at org.jenkinsci.plugins.workflow.steps.SynchronousNonBlockingStepExecution.lambda$start$0(SynchronousNonBlockingStepExecution.java:47)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\n    at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.base/java.lang.Thread.run(Unknown Source)\n\n[Pipeline] }\n[Pipeline] // stage\n[Pipeline] }\n[Pipeline] // node\n[Pipeline] End of Pipeline\n</code></pre>\n"},{"tags":["java","spring-boot","cassandra"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1675349416,"post_id":75324025,"comment_id":132913531,"body_markdown":"Simply don&#39;t use ORM, and you wouldn&#39;t have this problem","body":"Simply don&#39;t use ORM, and you wouldn&#39;t have this problem"},{"owner":{"account_id":8354342,"reputation":76,"user_id":6275236,"display_name":"Roland J."},"score":1,"creation_date":1675350103,"post_id":75324025,"comment_id":132913802,"body_markdown":"Did you try a 1:1 relationship?\n@OneToOne(cascade = CascadeType.ALL)\n@JoinColumn(name = &quot;innerPojo_id&quot;, referencedColumnName = &quot;id&quot;)\nprivate InnerPojo innerPojo;","body":"Did you try a 1:1 relationship? @OneToOne(cascade = CascadeType.ALL) @JoinColumn(name = &quot;innerPojo_id&quot;, referencedColumnName = &quot;id&quot;) private InnerPojo innerPojo;"}],"answers":[{"tags":[],"owner":{"account_id":5771551,"reputation":135,"user_id":4554863,"display_name":"Dinosaur-Guy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675356868,"creation_date":1675356868,"answer_id":75326470,"question_id":75324025,"body_markdown":"You can mark your `innerPojo` property as `@Transient` and have &quot;flattened&quot; private properties populated by `InnerPojo`when calling the constructor. You have to re-create `InnerPojo` in `@PostConstruct` from those &quot;flattened&quot; properties then when loading.","title":"How to &quot;flatten&quot; a data","body":"<p>You can mark your <code>innerPojo</code> property as <code>@Transient</code> and have &quot;flattened&quot; private properties populated by <code>InnerPojo</code>when calling the constructor. You have to re-create <code>InnerPojo</code> in <code>@PostConstruct</code> from those &quot;flattened&quot; properties then when loading.</p>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1675356868,"creation_date":1675345226,"question_id":75324025,"body_markdown":"I have a REST endpoint which takes a POJO and saves it.\r\n\r\n```\r\n@Service\r\npublic class CassandraService {\r\n\r\n    @Autowired MyReactiveCassandraRepository cassandraRepository;\r\n\r\n    public Mono&lt;String&gt; save(Pojo pojo) {\r\n        return cassandraRepository.save(pojo);\r\n    }\r\n    \r\n}\r\n```\r\n\r\n```\r\n@Repository\r\npublic interface MyReactiveCassandraRepository extends ReactiveCrudRepository&lt;Pojo, String&gt; {\r\n```\r\n\r\n```\r\n@Table\r\npublic class Pojo {\r\n\r\n    @PrimaryKey\r\n    private String id;\r\n\r\n    private String foo;\r\n\r\n    private InnerPojo innerPojo;\r\n```\r\n\r\n```\r\npublic class InnerPojo {\r\n\r\n    String aaa;\r\n\r\n    String bbb;\r\n```\r\n\r\nIf you look at the data, you can see there are primitive types, but there is also an Object (InnerPojo in my example).\r\n\r\nInstead of storing the data with &quot;two levels&quot;, I would like to &quot;flatten&quot; the data, and save it that way:\r\n\r\n```\r\n| id | foo | aaa | bbb | \r\n|----|-----|-----|-----|\r\n|    |     |     |     | \r\n|    |     |     |     | \r\n|    |     |     |     | \r\n```\r\n\r\nCurrently, I am duplicating a POJO entirely:\r\n\r\n```\r\n@Table\r\npublic class FlattenPojo {\r\n\r\n    @PrimaryKey\r\n    private String id;\r\n\r\n    private String foo;\r\n    \r\n    private String aaa;\r\n    \r\n    private String bbb;\r\n\r\n```\r\n\r\nAnd modify, create conversion code in my entire project to save this &quot;duplicate&quot; pojo in order to save the &quot;flatten&quot; version.\r\n\r\nIs there a smarter way to save this the flatten formed in Spring Boot?","title":"How to &quot;flatten&quot; a data","body":"<p>I have a REST endpoint which takes a POJO and saves it.</p>\n<pre><code>@Service\npublic class CassandraService {\n\n    @Autowired MyReactiveCassandraRepository cassandraRepository;\n\n    public Mono&lt;String&gt; save(Pojo pojo) {\n        return cassandraRepository.save(pojo);\n    }\n    \n}\n</code></pre>\n<pre><code>@Repository\npublic interface MyReactiveCassandraRepository extends ReactiveCrudRepository&lt;Pojo, String&gt; {\n</code></pre>\n<pre><code>@Table\npublic class Pojo {\n\n    @PrimaryKey\n    private String id;\n\n    private String foo;\n\n    private InnerPojo innerPojo;\n</code></pre>\n<pre><code>public class InnerPojo {\n\n    String aaa;\n\n    String bbb;\n</code></pre>\n<p>If you look at the data, you can see there are primitive types, but there is also an Object (InnerPojo in my example).</p>\n<p>Instead of storing the data with &quot;two levels&quot;, I would like to &quot;flatten&quot; the data, and save it that way:</p>\n<pre><code>| id | foo | aaa | bbb | \n|----|-----|-----|-----|\n|    |     |     |     | \n|    |     |     |     | \n|    |     |     |     | \n</code></pre>\n<p>Currently, I am duplicating a POJO entirely:</p>\n<pre><code>@Table\npublic class FlattenPojo {\n\n    @PrimaryKey\n    private String id;\n\n    private String foo;\n    \n    private String aaa;\n    \n    private String bbb;\n\n</code></pre>\n<p>And modify, create conversion code in my entire project to save this &quot;duplicate&quot; pojo in order to save the &quot;flatten&quot; version.</p>\n<p>Is there a smarter way to save this the flatten formed in Spring Boot?</p>\n"},{"tags":["java","spring","amazon-web-services","spring-boot","maven"],"comments":[{"owner":{"account_id":14148868,"reputation":1273,"user_id":10221416,"display_name":"Ethan Harris"},"score":0,"creation_date":1675359338,"post_id":75326325,"comment_id":132917156,"body_markdown":"Really difficult to tell what the issue is without seeing the ELB configuration. Are you trying to access the app through a load balancer or making the request directly to the ec2 instance?","body":"Really difficult to tell what the issue is without seeing the ELB configuration. Are you trying to access the app through a load balancer or making the request directly to the ec2 instance?"},{"owner":{"account_id":52375,"reputation":6473,"user_id":156522,"accept_rate":83,"display_name":"vsingh"},"score":0,"creation_date":1675359450,"post_id":75326325,"comment_id":132917193,"body_markdown":"Either your application is not deployed correctly or some configuration error. After deployment, do you see a default url that can be access?\nWhat you see in access logs?","body":"Either your application is not deployed correctly or some configuration error. After deployment, do you see a default url that can be access? What you see in access logs?"},{"owner":{"account_id":9647483,"reputation":123,"user_id":7159699,"display_name":"Doldrums"},"score":0,"creation_date":1675361240,"post_id":75326325,"comment_id":132917800,"body_markdown":"How can I check the access logs?","body":"How can I check the access logs?"},{"owner":{"account_id":9647483,"reputation":123,"user_id":7159699,"display_name":"Doldrums"},"score":0,"creation_date":1675361472,"post_id":75326325,"comment_id":132917864,"body_markdown":"@EthanHarris I am making the request directly. What configuration should I look at?","body":"@EthanHarris I am making the request directly. What configuration should I look at?"},{"owner":{"account_id":2651025,"reputation":648,"user_id":2382886,"display_name":"koushikmln"},"score":0,"creation_date":1675369200,"post_id":75326325,"comment_id":132920026,"body_markdown":"Nginx on EB runs on port 5000. You need to set your port to 5000 to make the application run.","body":"Nginx on EB runs on port 5000. You need to set your port to 5000 to make the application run."},{"owner":{"account_id":9647483,"reputation":123,"user_id":7159699,"display_name":"Doldrums"},"score":0,"creation_date":1675369891,"post_id":75326325,"comment_id":132920231,"body_markdown":"@koushikmln I set the port to 5000 in the application.properties file, is there any other configuration I need to do?","body":"@koushikmln I set the port to 5000 in the application.properties file, is there any other configuration I need to do?"},{"owner":{"account_id":2651025,"reputation":648,"user_id":2382886,"display_name":"koushikmln"},"score":0,"creation_date":1675370515,"post_id":75326325,"comment_id":132920391,"body_markdown":"Did you redeploy the application and check if it is working?","body":"Did you redeploy the application and check if it is working?"},{"owner":{"account_id":9647483,"reputation":123,"user_id":7159699,"display_name":"Doldrums"},"score":0,"creation_date":1675389477,"post_id":75326325,"comment_id":132923909,"body_markdown":"@koushikmln I tried that and It didn&#39;t work","body":"@koushikmln I tried that and It didn&#39;t work"},{"owner":{"account_id":2651025,"reputation":648,"user_id":2382886,"display_name":"koushikmln"},"score":0,"creation_date":1675390959,"post_id":75326325,"comment_id":132924073,"body_markdown":"You can ssh into the system and check if the application is running. Alternatively, you can also check which port it is running on. https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb3-ssh.html","body":"You can ssh into the system and check if the application is running. Alternatively, you can also check which port it is running on. <a href=\"https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb3-ssh.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb3-ssh.html</a>"},{"owner":{"account_id":2651025,"reputation":648,"user_id":2382886,"display_name":"koushikmln"},"score":0,"creation_date":1675394900,"post_id":75326325,"comment_id":132924525,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/251584/discussion-between-koushikmln-and-doldrums).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/251584/discussion-between-koushikmln-and-doldrums\">continue this discussion in chat</a>."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675432786,"post_id":75326325,"comment_id":132933422,"body_markdown":"I&#39;m astonished that this project is even compiling because you are using Spring Boot 3.X which means your minimum reqirement for JDK ist JDK17 but you have configured `&lt;source&gt;8&lt;/source&gt;` etc. that does not make sense...","body":"I&#39;m astonished that this project is even compiling because you are using Spring Boot 3.X which means your minimum reqirement for JDK ist JDK17 but you have configured <code>&lt;source&gt;8&lt;&#47;source&gt;</code> etc. that does not make sense..."}],"owner":{"account_id":9647483,"reputation":123,"user_id":7159699,"display_name":"Doldrums"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675356690,"creation_date":1675356166,"question_id":75326325,"body_markdown":"I&#39;m trying to deploy a very basic Spring Boot web app to AWS Elastic Beanstalk, It works fine locally, but each time I try to run it on elastic beanstalk I get a 404 error. \r\n\r\nHere is my Controller:\r\n```\r\npackage com.example.springhelloworld;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\n@Controller\r\npublic class HelloWorldController {\r\n    @RequestMapping(&quot;/&quot;)\r\n    public String returnHello(){\r\n        return &quot;helloworld&quot;;\r\n    }\r\n    \r\n}\r\n```\r\nHere is my main class:\r\n```\r\npackage com.example.springhelloworld;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.builder.SpringApplicationBuilder;\r\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\n\r\n@SpringBootApplication\r\npublic class SpringHelloWorldApplication extends SpringBootServletInitializer{\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SpringHelloWorldApplication.class, args);\r\n\t}\r\n\r\n\t@Override\r\n\tprotected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\r\n\t\treturn builder.sources(SpringHelloWorldApplication.class);\r\n\t}\r\n}\r\n```\r\n\r\nHere is my html template:\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Spring App&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;h3&gt;Welcome to Spring Hello World!&lt;/h3&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nHere is my pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;SpringHelloWorld&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;SpringHelloWorld&lt;/name&gt;\r\n\t&lt;description&gt;SpringHelloWorld&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nThis is my project structure:\r\n[![enter image description here][1]][1]\r\n\r\nI also set server port to 5000 in application.properties file. \r\nI generated the war file using maven and uploaded to Elastic Beantalk using a Tomcat 8.5 platform with Corretto 11. However when I try to access my application I get a 404 error. I&#39;m trying to figure out why this is happening. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GnTBP.png","title":"How to fix 404 Error when deploying SpringBoot App to AWS Elastic Beanstalk?","body":"<p>I'm trying to deploy a very basic Spring Boot web app to AWS Elastic Beanstalk, It works fine locally, but each time I try to run it on elastic beanstalk I get a 404 error.</p>\n<p>Here is my Controller:</p>\n<pre><code>package com.example.springhelloworld;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\npublic class HelloWorldController {\n    @RequestMapping(&quot;/&quot;)\n    public String returnHello(){\n        return &quot;helloworld&quot;;\n    }\n    \n}\n</code></pre>\n<p>Here is my main class:</p>\n<pre><code>package com.example.springhelloworld;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\n\n@SpringBootApplication\npublic class SpringHelloWorldApplication extends SpringBootServletInitializer{\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringHelloWorldApplication.class, args);\n    }\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\n        return builder.sources(SpringHelloWorldApplication.class);\n    }\n}\n</code></pre>\n<p>Here is my html template:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Spring App&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h3&gt;Welcome to Spring Hello World!&lt;/h3&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Here is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;SpringHelloWorld&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;SpringHelloWorld&lt;/name&gt;\n    &lt;description&gt;SpringHelloWorld&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This is my project structure:\n<a href=\"https://i.stack.imgur.com/GnTBP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GnTBP.png\" alt=\"enter image description here\" /></a></p>\n<p>I also set server port to 5000 in application.properties file.\nI generated the war file using maven and uploaded to Elastic Beantalk using a Tomcat 8.5 platform with Corretto 11. However when I try to access my application I get a 404 error. I'm trying to figure out why this is happening.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1674600288,"post_id":75226819,"comment_id":132748364,"body_markdown":"There is no such thing as running an unsigned APK-  Android won&#39;t run those.  Even debug APKs are signed, they&#39;re just signed by a key created by the IDE.  They&#39;re created only for users who want to separate the signing and compiling steps.","body":"There is no such thing as running an unsigned APK-  Android won&#39;t run those.  Even debug APKs are signed, they&#39;re just signed by a key created by the IDE.  They&#39;re created only for users who want to separate the signing and compiling steps."},{"owner":{"account_id":1431235,"reputation":715,"user_id":1353621,"accept_rate":50,"display_name":"fabiobh"},"score":0,"creation_date":1674694279,"post_id":75226819,"comment_id":132771726,"body_markdown":"You are correct, the debug APK works perfectly. The APK that I sign with my own key is the one that didn&#39;t work properly.","body":"You are correct, the debug APK works perfectly. The APK that I sign with my own key is the one that didn&#39;t work properly."},{"owner":{"account_id":3660223,"reputation":6093,"user_id":3050249,"display_name":"Miha_x64"},"score":0,"creation_date":1674767691,"post_id":75226819,"comment_id":132789590,"body_markdown":"What&#39;s in your app-level build.gradle, do you have minifyEnabled or something else interesting?","body":"What&#39;s in your app-level build.gradle, do you have minifyEnabled or something else interesting?"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1674897480,"post_id":75226819,"comment_id":132814996,"body_markdown":"According to the error, you are not *opening* a PDF. You are *generating* one. You should debug to figure out why the generated document is empty.","body":"According to the error, you are not <i>opening</i> a PDF. You are <i>generating</i> one. You should debug to figure out why the generated document is empty."}],"answers":[{"tags":[],"owner":{"account_id":4526516,"reputation":208,"user_id":4013399,"accept_rate":39,"display_name":"Zac1"},"down_vote_count":2,"up_vote_count":3,"is_accepted":true,"score":1,"last_activity_date":1675023693,"creation_date":1674867225,"answer_id":75264677,"question_id":75226819,"body_markdown":"`Proguard` could be one issue like you&#39;re speculating. It&#39;s hard to know based on the information you provided. But, here are things you can try;\r\n\r\n1. Disable Proguard: You can disable Proguard in your build.gradle file by removing the following line: minifyEnabled true\r\n\r\n2. Configure Proguard: You can configure Proguard to keep the necessary code or resources by adding specific rules in the proguard-rules.pro file. For example, to keep the iText library that you are using to open the PDF file, you can add the following rule: -keep class com.itextpdf.** { *; }\r\n\r\n3. Check the PDF file: The error message &quot;The document has no pages&quot; suggests that the app is trying to open an empty or invalid PDF file. Make sure that the PDF file that you are trying to open is not empty and is not corrupted.\r\n\r\n4. Check the Permission: Make sure you have &quot;android.permission.INTERNET&quot; in your AndroidManifest.xml file.\r\n\r\n5. Check the PDF reader library: Make sure you are using the right version of iText library and it is compatible with your android version.\r\n\r\nThe summary is that it depends on the specifics of your app and the PDF file that you are trying to open.","title":"Open PDF file inside Android app only works with unsigned APK on Android","body":"<p><code>Proguard</code> could be one issue like you're speculating. It's hard to know based on the information you provided. But, here are things you can try;</p>\n<ol>\n<li><p>Disable Proguard: You can disable Proguard in your build.gradle file by removing the following line: minifyEnabled true</p>\n</li>\n<li><p>Configure Proguard: You can configure Proguard to keep the necessary code or resources by adding specific rules in the proguard-rules.pro file. For example, to keep the iText library that you are using to open the PDF file, you can add the following rule: -keep class com.itextpdf.** { *; }</p>\n</li>\n<li><p>Check the PDF file: The error message &quot;The document has no pages&quot; suggests that the app is trying to open an empty or invalid PDF file. Make sure that the PDF file that you are trying to open is not empty and is not corrupted.</p>\n</li>\n<li><p>Check the Permission: Make sure you have &quot;android.permission.INTERNET&quot; in your AndroidManifest.xml file.</p>\n</li>\n<li><p>Check the PDF reader library: Make sure you are using the right version of iText library and it is compatible with your android version.</p>\n</li>\n</ol>\n<p>The summary is that it depends on the specifics of your app and the PDF file that you are trying to open.</p>\n"},{"tags":[],"owner":{"account_id":12911776,"reputation":55,"user_id":9337248,"display_name":"Sagar Sah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675356574,"creation_date":1675356574,"answer_id":75326410,"question_id":75226819,"body_markdown":"Check below things may help.\r\n1.INTERNET PERMISSION\r\n2.check READ PERMISSION or add below code in manifest.\r\n  \r\n\r\n    &lt;uses-permission\r\n    android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;\r\n    android:maxSdkVersion=&quot;32&quot; /&gt;\r\n\r\n","title":"Open PDF file inside Android app only works with unsigned APK on Android","body":"<p>Check below things may help.\n1.INTERNET PERMISSION\n2.check READ PERMISSION or add below code in manifest.</p>\n<pre><code>&lt;uses-permission\nandroid:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;\nandroid:maxSdkVersion=&quot;32&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":1431235,"reputation":715,"user_id":1353621,"accept_rate":50,"display_name":"fabiobh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75264677,"answer_count":2,"score":2,"last_activity_date":1675356574,"creation_date":1674591246,"question_id":75226819,"body_markdown":"I use the code below to open a PDF file and it works perfectly if I distribute the APK file unsigned.\r\n\r\nCode: &lt;https://www.online-java.com/i5u7QPU9N4&gt;\r\n\r\nBut if I sign the APK that I created using my Android Studio, the app crash with the following message:\r\n\r\n    Caused by: ExceptionConverter: java.io.IOException: The document has no pages.\r\n    01-24 17:06:20.750 29758 29758 E AndroidRuntime: Caused by: java.io.IOException: The document has no pages.\r\n    01-24 17:06:20.750 29758 29758 E AndroidRuntime: \tat com.itextpdf.text.pdf.PdfPages.writePageTree(\r\n\r\nIs it possible that something like Proguard was affecting the signed APK ? Or it can be other problem ?\r\n\r\nEDIT\r\n\r\nThis is my app-level build.gradle file.\r\n\r\n&lt;https://codebeautify.org/alleditor/y2356950e&gt;\r\n\r\nI have minifyEnabled, but it is declared false.","title":"Open PDF file inside Android app only works with unsigned APK on Android","body":"<p>I use the code below to open a PDF file and it works perfectly if I distribute the APK file unsigned.</p>\n<p>Code: <a href=\"https://www.online-java.com/i5u7QPU9N4\" rel=\"nofollow noreferrer\">https://www.online-java.com/i5u7QPU9N4</a></p>\n<p>But if I sign the APK that I created using my Android Studio, the app crash with the following message:</p>\n<pre><code>Caused by: ExceptionConverter: java.io.IOException: The document has no pages.\n01-24 17:06:20.750 29758 29758 E AndroidRuntime: Caused by: java.io.IOException: The document has no pages.\n01-24 17:06:20.750 29758 29758 E AndroidRuntime:    at com.itextpdf.text.pdf.PdfPages.writePageTree(\n</code></pre>\n<p>Is it possible that something like Proguard was affecting the signed APK ? Or it can be other problem ?</p>\n<p>EDIT</p>\n<p>This is my app-level build.gradle file.</p>\n<p><a href=\"https://codebeautify.org/alleditor/y2356950e\" rel=\"nofollow noreferrer\">https://codebeautify.org/alleditor/y2356950e</a></p>\n<p>I have minifyEnabled, but it is declared false.</p>\n"},{"tags":["python","java","json","geopandas"],"comments":[{"owner":{"account_id":4382611,"reputation":14093,"user_id":3888719,"accept_rate":100,"display_name":"Michael Delgado"},"score":0,"creation_date":1675357805,"post_id":75326347,"comment_id":132916598,"body_markdown":"Welcome to stack overflow! Please read [ask]. We need more information before we can help you. Please provide an example of the data youre working with and the code you have tried, along with the complete error messages or an explanation of why the behavior isnt expected. Try as best you can to provide a full [mre]. Additionally, make sure your question is narrowly focused on one problem only - you can ask multiple questions in multiple posts but each one should be narrowly focused.","body":"Welcome to stack overflow! Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. We need more information before we can help you. Please provide an example of the data youre working with and the code you have tried, along with the complete error messages or an explanation of why the behavior isnt expected. Try as best you can to provide a full <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Additionally, make sure your question is narrowly focused on one problem only - you can ask multiple questions in multiple posts but each one should be narrowly focused."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675358845,"post_id":75326347,"comment_id":132916994,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27679982,"reputation":1,"user_id":21128954,"display_name":"Brandon Ney Ccahua Yapo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675356359,"creation_date":1675356272,"question_id":75326347,"body_markdown":"My problem is that I can&#39;t find a code to automate the generation of another json as an output file to cut and join polygons, this Json file has dictionaries and within these it has coordinates (X,Y).\r\n\r\nWith the help of Geopandas I was trying to find a code that would cut the overlapping polygons, and with the other non-overlapping polygon just merge with the last polygon, i.e. first find the base of the overlapping polygon, then cut these overlapping ones and with the other non-overlapping polygon just join them, I know I should use geopandas overlap method, with how=&quot;union&quot; and &quot;difference&quot;.","title":"How should I slice geometries in a Json file with Geopandas?","body":"<p>My problem is that I can't find a code to automate the generation of another json as an output file to cut and join polygons, this Json file has dictionaries and within these it has coordinates (X,Y).</p>\n<p>With the help of Geopandas I was trying to find a code that would cut the overlapping polygons, and with the other non-overlapping polygon just merge with the last polygon, i.e. first find the base of the overlapping polygon, then cut these overlapping ones and with the other non-overlapping polygon just join them, I know I should use geopandas overlap method, with how=&quot;union&quot; and &quot;difference&quot;.</p>\n"},{"tags":["java","function","return"],"comments":[{"owner":{"account_id":97082,"reputation":375006,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"score":0,"creation_date":1352966532,"post_id":13393490,"comment_id":18294727,"body_markdown":"What matters isn&#39;t &quot;Eclipse&quot; but the language (Java).","body":"What matters isn&#39;t &quot;Eclipse&quot; but the language (Java)."},{"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":2,"creation_date":1352967069,"post_id":13393490,"comment_id":18294896,"body_markdown":"I realise your code is pseudo-Java, but ensure you name your variables with camelCase (e.g. `goodNameShow` or `goodUnitPriceShow`).","body":"I realise your code is pseudo-Java, but ensure you name your variables with camelCase (e.g. <code>goodNameShow</code> or <code>goodUnitPriceShow</code>)."}],"answers":[{"tags":[],"owner":{"account_id":97082,"reputation":375006,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1352966662,"creation_date":1352966662,"answer_id":13393524,"question_id":13393490,"body_markdown":"In Java, when you want a function to return multiple values, you must\r\n\r\n * embed those values in an object you return\r\n * or change an object that is passed to your function\r\n\r\nIn your case, you clearly need to define a class `Show` which could have fields `name`, `quantity` and `price` :\r\n\r\n    public class Show {\r\n        private String name;\r\n        private int price;\r\n        // add other fields, constructor and accessors\r\n    }\r\n\r\nthen change your function to \r\n\r\n     public  Show  test(){\r\n          ...\r\n          return new Show(GoodNameShow,QuantityShow ,GoodUnitPriceShow) ;\r\n","title":"Return multiple values in Java","body":"<p>In Java, when you want a function to return multiple values, you must</p>\n\n<ul>\n<li>embed those values in an object you return</li>\n<li>or change an object that is passed to your function</li>\n</ul>\n\n<p>In your case, you clearly need to define a class <code>Show</code> which could have fields <code>name</code>, <code>quantity</code> and <code>price</code> :</p>\n\n<pre><code>public class Show {\n    private String name;\n    private int price;\n    // add other fields, constructor and accessors\n}\n</code></pre>\n\n<p>then change your function to </p>\n\n<pre><code> public  Show  test(){\n      ...\n      return new Show(GoodNameShow,QuantityShow ,GoodUnitPriceShow) ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3522899,"reputation":659,"user_id":2944736,"accept_rate":100,"display_name":"Jay Dharmendra Solanki"},"down_vote_count":5,"up_vote_count":5,"is_accepted":false,"score":0,"last_activity_date":1392290839,"creation_date":1392290839,"answer_id":21752889,"question_id":13393490,"body_markdown":"I have developed a very basic approach to deal with this kind of situation.\r\n\r\nI have used a logic of **seperator** in Strings.\r\n\r\nFor example if you need to return in the same function\r\n1. int value\r\n2. double value\r\n3. String value\r\n\r\nyou could use a **separator string** \r\n\r\n**For example &quot;,.,&quot;** this kind of string would not generally appear anywhere.\r\n\r\nYou could return a String consisting of all values separated by this separator\r\n**&quot;&lt; int value &gt;,.,&lt; double value &gt;,.,&lt; String value &gt;&quot;**\r\n\r\nand convert into equivalent types where the function has been called by using  **String.split(separtor)[index]**\r\n\r\nRefer the following code for explanation - \r\n\r\nseparator used =&quot;,.,&quot;\r\n\r\n    public class TestMultipleReturns{\r\n     \r\n     public static void main(String args[]){\r\n       \r\n       String result =  getMultipleValues();\r\n       int intval = Integer.parseInt(result.split(&quot;,.,&quot;)[0]);\r\n       double doubleval = Double.parseDouble(result.split(&quot;,.,&quot;)[1]);     \r\n        String strval = result.split(&quot;,.,&quot;)[2];\r\n     }\r\n\r\n     public static String getMultipleValues(){\r\n\r\n       int intval = 231;//some int value      \r\n       double doubleval = 3.14;//some double val\r\n       String strval = &quot;hello&quot;;//some String val\r\n      \r\n       return(intval+&quot;,.,&quot;+doubleval+&quot;,.,&quot;+strval);\r\n\r\n     }\r\n    }\r\n\r\nThis approach can be used as a shortcut when you do not want to increase number of classes for only function returns\r\n\r\nIt depends on situation to situation which approach to take.","title":"Return multiple values in Java","body":"<p>I have developed a very basic approach to deal with this kind of situation.</p>\n\n<p>I have used a logic of <strong>seperator</strong> in Strings.</p>\n\n<p>For example if you need to return in the same function\n1. int value\n2. double value\n3. String value</p>\n\n<p>you could use a <strong>separator string</strong> </p>\n\n<p><strong>For example \",.,\"</strong> this kind of string would not generally appear anywhere.</p>\n\n<p>You could return a String consisting of all values separated by this separator\n<strong>\"&lt; int value >,.,&lt; double value >,.,&lt; String value >\"</strong></p>\n\n<p>and convert into equivalent types where the function has been called by using  <strong>String.split(separtor)[index]</strong></p>\n\n<p>Refer the following code for explanation - </p>\n\n<p>separator used =\",.,\"</p>\n\n<pre><code>public class TestMultipleReturns{\n\n public static void main(String args[]){\n\n   String result =  getMultipleValues();\n   int intval = Integer.parseInt(result.split(\",.,\")[0]);\n   double doubleval = Double.parseDouble(result.split(\",.,\")[1]);     \n    String strval = result.split(\",.,\")[2];\n }\n\n public static String getMultipleValues(){\n\n   int intval = 231;//some int value      \n   double doubleval = 3.14;//some double val\n   String strval = \"hello\";//some String val\n\n   return(intval+\",.,\"+doubleval+\",.,\"+strval);\n\n }\n}\n</code></pre>\n\n<p>This approach can be used as a shortcut when you do not want to increase number of classes for only function returns</p>\n\n<p>It depends on situation to situation which approach to take.</p>\n"},{"tags":[],"owner":{"account_id":6011679,"reputation":2795,"user_id":4721937,"accept_rate":45,"display_name":"warownia1"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675355501,"creation_date":1632752655,"answer_id":69348347,"question_id":13393490,"body_markdown":"One quick and ugly approach I encountered a few times (even in java library itself) is to return your values as `Object[]` and then unpack using casting.\r\ne.g.\r\n```\r\npublic Object[] myfunc() {\r\n  String name = &quot;...&quot;;\r\n  Integer quantity = 5\r\n  Float price = 3.14\r\n  return new Object[] { name, quantity, price };\r\n```\r\nThen, it is used like this:\r\n```\r\nObject[] output = myfunc();\r\nString name = (String) output[0];\r\nInteger quantity = (Integer) output[1];\r\nFloat price = (Float) output[2];\r\n```\r\nEmbedding the values in a dedicated object is much cleaner, but I leave it here anyway.","title":"Return multiple values in Java","body":"<p>One quick and ugly approach I encountered a few times (even in java library itself) is to return your values as <code>Object[]</code> and then unpack using casting.\ne.g.</p>\n<pre><code>public Object[] myfunc() {\n  String name = &quot;...&quot;;\n  Integer quantity = 5\n  Float price = 3.14\n  return new Object[] { name, quantity, price };\n</code></pre>\n<p>Then, it is used like this:</p>\n<pre><code>Object[] output = myfunc();\nString name = (String) output[0];\nInteger quantity = (Integer) output[1];\nFloat price = (Float) output[2];\n</code></pre>\n<p>Embedding the values in a dedicated object is much cleaner, but I leave it here anyway.</p>\n"}],"owner":{"account_id":1959073,"reputation":441,"user_id":1761254,"accept_rate":44,"display_name":"shadi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53428,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":13393524,"answer_count":3,"score":10,"last_activity_date":1675355501,"creation_date":1352966493,"question_id":13393490,"body_markdown":"I wrote a function in Java and I want this function to return multiple values. Except use of array and structure, is there a way to return multiple values?\r\n\r\n\r\nMy code: \r\n\r\n\r\n    String query40 = &quot;SELECT Good_Name,Quantity,Price from Tbl1 where Good_ID=&quot;+x;\r\n    Cursor c = db.rawQuery(query, null);\r\n    if (c!= null &amp;&amp; c.moveToFirst()) \r\n    {\r\n      GoodNameShow = c.getString(0);\r\n      QuantityShow = c.getLong(1);\r\n      GoodUnitPriceShow = c.getLong(2);\r\n      return GoodNameShow,QuantityShow ,GoodUnitPriceShow ;\r\n    }","title":"Return multiple values in Java","body":"<p>I wrote a function in Java and I want this function to return multiple values. Except use of array and structure, is there a way to return multiple values?</p>\n\n<p>My code: </p>\n\n<pre><code>String query40 = \"SELECT Good_Name,Quantity,Price from Tbl1 where Good_ID=\"+x;\nCursor c = db.rawQuery(query, null);\nif (c!= null &amp;&amp; c.moveToFirst()) \n{\n  GoodNameShow = c.getString(0);\n  QuantityShow = c.getLong(1);\n  GoodUnitPriceShow = c.getLong(2);\n  return GoodNameShow,QuantityShow ,GoodUnitPriceShow ;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","rsocket"],"comments":[{"owner":{"account_id":1167962,"reputation":507,"user_id":1145820,"accept_rate":53,"display_name":"fer.marino"},"score":0,"creation_date":1582276232,"post_id":60314504,"comment_id":106728846,"body_markdown":"The more I dig into this, the more awkward it gets. In my opinion RSocket should be integrated with spring webflow, not with spring messaging. Things like RabbitMQ and ActiveMQ have nothing in common with rsocket...","body":"The more I dig into this, the more awkward it gets. In my opinion RSocket should be integrated with spring webflow, not with spring messaging. Things like RabbitMQ and ActiveMQ have nothing in common with rsocket..."},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1582730518,"post_id":60314504,"comment_id":106879433,"body_markdown":"would be nice to see a reproducer from github or gitlab ?","body":"would be nice to see a reproducer from github or gitlab ?"}],"answers":[{"tags":[],"owner":{"account_id":222410,"reputation":4950,"user_id":480980,"display_name":"Rossen Stoyanchev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1598992592,"creation_date":1598992592,"answer_id":63695110,"question_id":60314504,"body_markdown":"Instead of a bag of name-value pairs (i.e. headers), RSocket uses metadata which can be in any format (i.e. MIME type) and it can be [composite metadata](https://github.com/rsocket/rsocket/blob/master/Extensions/CompositeMetadata.md) with multiple types of metadata each formatted differently. So you can have one section with routing metadata, another with security, yet another with tracing, and so on.\r\n\r\nTo achieve something similar to headers, you can send name-value pairs as JSON-formatted metadata. Now on the server side, you&#39;ll need to provide a hint to Spring for how to extract a Map (of headers) from the metadata of incoming requests. To do that you can configure a `MetadataExtractor` and that&#39;s described in [this section](https://github.com/rsocket/rsocket/blob/master/Extensions/CompositeMetadata.md) of the docs. Once that&#39;s configured, the extracted Map becomes the headers of the message and can be accessed from `@MessageMapping` methods as usual (via `MessageHeaders`, `@Header`, etc).","title":"set header on rsocket messages with spring boot","body":"<p>Instead of a bag of name-value pairs (i.e. headers), RSocket uses metadata which can be in any format (i.e. MIME type) and it can be <a href=\"https://github.com/rsocket/rsocket/blob/master/Extensions/CompositeMetadata.md\" rel=\"nofollow noreferrer\">composite metadata</a> with multiple types of metadata each formatted differently. So you can have one section with routing metadata, another with security, yet another with tracing, and so on.</p>\n<p>To achieve something similar to headers, you can send name-value pairs as JSON-formatted metadata. Now on the server side, you'll need to provide a hint to Spring for how to extract a Map (of headers) from the metadata of incoming requests. To do that you can configure a <code>MetadataExtractor</code> and that's described in <a href=\"https://github.com/rsocket/rsocket/blob/master/Extensions/CompositeMetadata.md\" rel=\"nofollow noreferrer\">this section</a> of the docs. Once that's configured, the extracted Map becomes the headers of the message and can be accessed from <code>@MessageMapping</code> methods as usual (via <code>MessageHeaders</code>, <code>@Header</code>, etc).</p>\n"},{"tags":[],"owner":{"account_id":5801273,"reputation":545,"user_id":4575369,"display_name":"Andriy Koretskyy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675355041,"creation_date":1675355041,"answer_id":75326095,"question_id":60314504,"body_markdown":"Please see this question: https://stackoverflow.com/questions/66501888/rsocket-metadata-custom-object. \r\nI used it as a starting point for my solution.\r\n\r\nThe term &#39;header&#39; actually means some custom metadata. So, in order to get the correct value you need to configure metadataExtractorRegistry. For Spring Boot do it this way (code in kotlin):\r\n```\r\nval CUSTOM_MIMETYPE = MimeType.valueOf(&quot;&lt;some custom mime type&gt;&quot;)\r\nval CUSTOM_HEADER = &quot;&lt;the name of a header&gt;&quot;\r\n...\r\n@Bean\r\nfun rSocketStrategiesCustomizer(): RSocketStrategiesCustomizer {\r\n        return RSocketStrategiesCustomizer { strategies: RSocketStrategies.Builder -&gt;\r\n            strategies.metadataExtractorRegistry {\r\n                it.metadataToExtract(CUSTOM_MIMETYPE, String::class.java, CUSTOM_HEADER)\r\n            }\r\n        }\r\n    }\r\n```\r\nThe type of the data object can be any, not necessarily a String. There is default String endcoder/decoder, so I didn&#39;t provide one in the code. For your own type you can provide one of existing encoders/decoders (Json for example) or create your own:\r\n```\r\n@Bean\r\nfun rSocketStrategiesCustomizer(): RSocketStrategiesCustomizer {\r\n        return RSocketStrategiesCustomizer { strategies: RSocketStrategies.Builder -&gt;\r\n            strategies.metadataExtractorRegistry {\r\n                it.metadataToExtract(CUSTOM_MIMETYPE, YourType::class.java, CUSTOM_HEADER)\r\n            }.decoder(Jackson2JsonDecoder())\r\n             .encoder(Jackson2JsonEncoder())\r\n        }\r\n    }\r\n```\r\n After you&#39;ve configured registry as above, use the header name defined in the registry in your controller:\r\n```\r\n@MessageMapping(&quot;addGeolocation&quot;)\r\npublic Mono&lt;Boolean&gt; addGeolocation(@Header(CUSTOM_HEADER) String metadata, @Payload String geolocation) { ... }\r\n```\r\nAnd in order to send that header, use next code:\r\n```\r\nboolean outcome = rSocketRequester.route(&quot;addGeolocation&quot;)\r\n.metadata(&quot;value&quot;, CUSTOM_MIMETYPE)\r\n.data(geolocationWKT)\r\n.block();\r\n```\r\nHope this helps","title":"set header on rsocket messages with spring boot","body":"<p>Please see this question: <a href=\"https://stackoverflow.com/questions/66501888/rsocket-metadata-custom-object\">RSocket Metadata - custom object</a>.\nI used it as a starting point for my solution.</p>\n<p>The term 'header' actually means some custom metadata. So, in order to get the correct value you need to configure metadataExtractorRegistry. For Spring Boot do it this way (code in kotlin):</p>\n<pre><code>val CUSTOM_MIMETYPE = MimeType.valueOf(&quot;&lt;some custom mime type&gt;&quot;)\nval CUSTOM_HEADER = &quot;&lt;the name of a header&gt;&quot;\n...\n@Bean\nfun rSocketStrategiesCustomizer(): RSocketStrategiesCustomizer {\n        return RSocketStrategiesCustomizer { strategies: RSocketStrategies.Builder -&gt;\n            strategies.metadataExtractorRegistry {\n                it.metadataToExtract(CUSTOM_MIMETYPE, String::class.java, CUSTOM_HEADER)\n            }\n        }\n    }\n</code></pre>\n<p>The type of the data object can be any, not necessarily a String. There is default String endcoder/decoder, so I didn't provide one in the code. For your own type you can provide one of existing encoders/decoders (Json for example) or create your own:</p>\n<pre><code>@Bean\nfun rSocketStrategiesCustomizer(): RSocketStrategiesCustomizer {\n        return RSocketStrategiesCustomizer { strategies: RSocketStrategies.Builder -&gt;\n            strategies.metadataExtractorRegistry {\n                it.metadataToExtract(CUSTOM_MIMETYPE, YourType::class.java, CUSTOM_HEADER)\n            }.decoder(Jackson2JsonDecoder())\n             .encoder(Jackson2JsonEncoder())\n        }\n    }\n</code></pre>\n<p>After you've configured registry as above, use the header name defined in the registry in your controller:</p>\n<pre><code>@MessageMapping(&quot;addGeolocation&quot;)\npublic Mono&lt;Boolean&gt; addGeolocation(@Header(CUSTOM_HEADER) String metadata, @Payload String geolocation) { ... }\n</code></pre>\n<p>And in order to send that header, use next code:</p>\n<pre><code>boolean outcome = rSocketRequester.route(&quot;addGeolocation&quot;)\n.metadata(&quot;value&quot;, CUSTOM_MIMETYPE)\n.data(geolocationWKT)\n.block();\n</code></pre>\n<p>Hope this helps</p>\n"}],"owner":{"account_id":1167962,"reputation":507,"user_id":1145820,"accept_rate":53,"display_name":"fer.marino"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1084,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1675355041,"creation_date":1582182302,"question_id":60314504,"body_markdown":"so I&#39;ve started playing with rsocket and spring boot 2.2 to see if I can use it in my projects, but I&#39;m facing a bit of troubles. \r\n\r\nNormally, with spring messaging I define a listener method like the following:\r\n\r\n    @MessageMapping(&quot;addGeolocation&quot;)\r\n    public Mono&lt;Boolean&gt; addGeolocation(@Header(&quot;metadata&quot;) MmeMetadata metadata, @Payload String geolocation) { ... }\r\n\r\nMy understanding is that with rsocket I should be able to use the same logic, but when I&#39;m defining the client I couldn&#39;t find an easy way to set message headers. \r\n\r\nCurrently I&#39;m stuck with this:\r\n\r\n    boolean outcome = rSocketRequester.route(&quot;addGeolocation&quot;).metadata(...?).data(geolocationWKT).block();\r\n\r\nis the metadata a replacement for headers? that method signature seems a little too generic to be used like headers. If I put an Map in it will spring be able to decode headers out of it?\r\n\r\nThank you,\r\nFernando","title":"set header on rsocket messages with spring boot","body":"<p>so I've started playing with rsocket and spring boot 2.2 to see if I can use it in my projects, but I'm facing a bit of troubles. </p>\n\n<p>Normally, with spring messaging I define a listener method like the following:</p>\n\n<pre><code>@MessageMapping(\"addGeolocation\")\npublic Mono&lt;Boolean&gt; addGeolocation(@Header(\"metadata\") MmeMetadata metadata, @Payload String geolocation) { ... }\n</code></pre>\n\n<p>My understanding is that with rsocket I should be able to use the same logic, but when I'm defining the client I couldn't find an easy way to set message headers. </p>\n\n<p>Currently I'm stuck with this:</p>\n\n<pre><code>boolean outcome = rSocketRequester.route(\"addGeolocation\").metadata(...?).data(geolocationWKT).block();\n</code></pre>\n\n<p>is the metadata a replacement for headers? that method signature seems a little too generic to be used like headers. If I put an Map in it will spring be able to decode headers out of it?</p>\n\n<p>Thank you,\nFernando</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka","reactor-kafka"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1674767624,"post_id":75224190,"comment_id":132789570,"body_markdown":"So, your consume method is CPU intensive ? If it is, there&#39;s not much you can do, because it requires to use CPU full time to do the job. But, if you see that your CPU is not fully used, then it might be that your consume function is blocking, in one way or another. Can you provide some information about what *consume* do ?  For it to be non-blocking, it means that it only perform in-memory computation. Otherwise, if it sends data to a database or a webservice, it is blocking.","body":"So, your consume method is CPU intensive ? If it is, there&#39;s not much you can do, because it requires to use CPU full time to do the job. But, if you see that your CPU is not fully used, then it might be that your consume function is blocking, in one way or another. Can you provide some information about what <i>consume</i> do ?  For it to be non-blocking, it means that it only perform in-memory computation. Otherwise, if it sends data to a database or a webservice, it is blocking."}],"answers":[{"tags":[],"owner":{"account_id":7591763,"reputation":1719,"user_id":5759211,"accept_rate":77,"display_name":"Vladlen Gladis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674774357,"creation_date":1674774357,"answer_id":75252545,"question_id":75224190,"body_markdown":"If you want to process messages from a Flux publisher in a parallel manner you have to use `flatMap` operator, because `map` operator operates in a synchronous way by requesting items by 1.\r\n\r\nWhen you are using the `flatMap` operator you can rely on Reactor and let him control the concurrency or you can specify the desired concurrency via **concurrency** parameter (i.e. `flatMap(it -&gt; consume(), YOUR_CONCURRENCY_VALUE)`\r\n\r\n**If your `consume()` method is not a publisher:**\r\n\r\nYou can wrap it in a Mono by using `Mono.fromCallable()` and publish it on a scheduler that is designed of blocking tasks:\r\n```\r\n.publishOn(Schedulers.boundedElastic())\r\n```\r\nBut better rewrite all consumer code to the reactive types otherwise you lose the benefits of using the reactor.","title":"SpringBoot with REACTOR kafka : increase message consumption thorughput on a 2CPUs pod","body":"<p>If you want to process messages from a Flux publisher in a parallel manner you have to use <code>flatMap</code> operator, because <code>map</code> operator operates in a synchronous way by requesting items by 1.</p>\n<p>When you are using the <code>flatMap</code> operator you can rely on Reactor and let him control the concurrency or you can specify the desired concurrency via <strong>concurrency</strong> parameter (i.e. <code>flatMap(it -&gt; consume(), YOUR_CONCURRENCY_VALUE)</code></p>\n<p><strong>If your <code>consume()</code> method is not a publisher:</strong></p>\n<p>You can wrap it in a Mono by using <code>Mono.fromCallable()</code> and publish it on a scheduler that is designed of blocking tasks:</p>\n<pre><code>.publishOn(Schedulers.boundedElastic())\n</code></pre>\n<p>But better rewrite all consumer code to the reactive types otherwise you lose the benefits of using the reactor.</p>\n"},{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1675354985,"creation_date":1675320253,"answer_id":75319529,"question_id":75224190,"body_markdown":"We could apply [Little&#39;s Law](https://en.wikipedia.org/wiki/Little%27s_law) to calculate required concurrency for handling required throughput. \r\n\r\n`workers &gt;= throughput x latency`, in our case `workers` is a number of messages processed in parallel\r\n\r\nFor example, to handle 100 messages per sec with 60 sec latency we would need to process 100 x 60 = 6000 concurrently. In &quot;traditional&quot; blocking app we would need the same number of threads. In reactive app the same workload could be handled by several threads only and, as result, much less memory. Even if a message takes 30-60 sec to process, thread will not be blocked because all IO operations are async. To scale processing you need to decrease the latency or increase concurrency.\r\n\r\nIn our case we need to process 6000 in parallel. With 3 partitions you could have 3 consumers processing 2000 messages in parallel each.\r\n\r\nBy default, `flatMap` is processing `Queues.SMALL_BUFFER_SIZE = 256` messages in parallel but you can make this configurable.\r\n\r\n```\r\nkafkaReceiver.receive()\r\n    .flatMap(oneMessage -&gt; consume(oneMessage), concurrency)\r\n```\r\n\r\nIt&#39;s really hard to say how many messages one app can handle and you would need to run a load test to understand max throughput. Try to maximize this number to understand your limits looking at metrics. In case app could not handle such load, you would need to increase number of partitions and deploy more consumers.\r\n\r\nUltimately, your goal is to process more messages than you produce. If producers send 2 messages per second then you don&#39;t need high concurrency (2 * 60 = 120).\r\n\r\nThere are other variables to consider - message size, throughput of the downstream system, limits of other components. For example, WebClient/Netty has a default limit of 500 concurrent connections. Sometimes you even need to &quot;slow down&quot; consumers to don&#39;t overload downstream services.","title":"SpringBoot with REACTOR kafka : increase message consumption thorughput on a 2CPUs pod","body":"<p>We could apply <a href=\"https://en.wikipedia.org/wiki/Little%27s_law\" rel=\"nofollow noreferrer\">Little's Law</a> to calculate required concurrency for handling required throughput.</p>\n<p><code>workers &gt;= throughput x latency</code>, in our case <code>workers</code> is a number of messages processed in parallel</p>\n<p>For example, to handle 100 messages per sec with 60 sec latency we would need to process 100 x 60 = 6000 concurrently. In &quot;traditional&quot; blocking app we would need the same number of threads. In reactive app the same workload could be handled by several threads only and, as result, much less memory. Even if a message takes 30-60 sec to process, thread will not be blocked because all IO operations are async. To scale processing you need to decrease the latency or increase concurrency.</p>\n<p>In our case we need to process 6000 in parallel. With 3 partitions you could have 3 consumers processing 2000 messages in parallel each.</p>\n<p>By default, <code>flatMap</code> is processing <code>Queues.SMALL_BUFFER_SIZE = 256</code> messages in parallel but you can make this configurable.</p>\n<pre><code>kafkaReceiver.receive()\n    .flatMap(oneMessage -&gt; consume(oneMessage), concurrency)\n</code></pre>\n<p>It's really hard to say how many messages one app can handle and you would need to run a load test to understand max throughput. Try to maximize this number to understand your limits looking at metrics. In case app could not handle such load, you would need to increase number of partitions and deploy more consumers.</p>\n<p>Ultimately, your goal is to process more messages than you produce. If producers send 2 messages per second then you don't need high concurrency (2 * 60 = 120).</p>\n<p>There are other variables to consider - message size, throughput of the downstream system, limits of other components. For example, WebClient/Netty has a default limit of 500 concurrent connections. Sometimes you even need to &quot;slow down&quot; consumers to don't overload downstream services.</p>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1820,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1675354985,"creation_date":1674576528,"question_id":75224190,"body_markdown":"Small question regarding a SpringBoot 3 app with reactor kafka please.\r\n\r\nI have a small reactive kafka consumer app, which consumes messages from kafka and processes the message.\r\n\r\nThe app is consuming one topic ```the-topic``` which has **three partitions**.\r\n\r\nThe app is dockerized, and for resource consumption limit reason, the app can only use 2CPUs (please bear with me on that one). And to make things more difficult, I am allowed to only have **one unique instance** of this app running.\r\n\r\nThe app is very straightforward:\r\n\r\n```\r\n     &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.projectreactor.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;reactor-kafka&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\n```\r\n@Configuration\r\npublic class MyKafkaConfiguration {\r\n\r\n    @Bean\r\n    public KafkaReceiver&lt;String, String&gt; reactiveKafkaConsumerTemplate(KafkaProperties kafkaProperties) {\r\n        kafkaProperties.setBootstrapServers(List.of(&quot;my-kafka.com:9092&quot;));\r\n        kafkaProperties.getConsumer().setGroupId(&quot;should-i-do-something-here&quot;);\r\n        final ReceiverOptions&lt;String, String&gt; basicReceiverOptions = ReceiverOptions.create(kafkaProperties.buildConsumerProperties());\r\n        basicReceiverOptions.subscription(Collections.singletonList(&quot;the-topic&quot;));\r\n        return new DefaultKafkaReceiver&lt;&gt;(ConsumerFactory.INSTANCE, basicReceiverOptions);\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n@Service\r\npublic class MyConsumer implements CommandLineRunner {\r\n\r\n    @Autowired\r\n    private KafkaReceiver&lt;String, String&gt; kafkaReceiver;\r\n\r\n\r\n    @Override\r\n    public void run(String... args) {\r\n        myConsumer().subscribe();\r\n    }\r\n\r\n    public Flux&lt;String&gt; myConsumer() {\r\n        return kafkaReceiver.receive()\r\n                .flatMap(oneMessage -&gt; consume(oneMessage))\r\n                .doOnNext(abc -&gt; System.out.println(&quot;successfully consumed {}={}&quot; + abc))\r\n                .doOnError(throwable -&gt; System.out.println(&quot;something bad happened while consuming : {}&quot; + throwable.getMessage()));\r\n    }\r\n\r\n    private Mono&lt;String&gt; consume(ConsumerRecord&lt;String, String&gt; oneMessage) {\r\n        // this first line is a heavy in memory computation which transforms the incoming message to a data to be saved.\r\n        // it is very intensive computation, but has been tested NON BLOCKING by different tools, and takes 1 second :D\r\n        String transformedStringCPUIntensiveNonButNonBLocking = transformDataNonBlockingWithIntensiveOperation(oneMessage);\r\n        //then, just saved the correct transformed data into any REACTIVE repository :)\r\n        return myReactiveRepository.save(transformedStringCPUIntensiveNonButNonBLocking);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nIf I understand project reactor correctly, and due to my resource limitation, I will have at most 2 reactor cores.\r\n\r\nThe **consume method here has been tested non-blocking**, but takes one second to deal with the message.\r\n\r\nTherefore, will I only be able to consume 2 messages per second? (hopefully not)\r\n\r\nThe messages can be consumed in any order, I wish to just maximize the throughput with this single app.\r\n\r\nMay I ask how could I maximize parallelism / throughput on this app with those constraints please?\r\n\r\nThank you","title":"SpringBoot with REACTOR kafka : increase message consumption thorughput on a 2CPUs pod","body":"<p>Small question regarding a SpringBoot 3 app with reactor kafka please.</p>\n<p>I have a small reactive kafka consumer app, which consumes messages from kafka and processes the message.</p>\n<p>The app is consuming one topic <code>the-topic</code> which has <strong>three partitions</strong>.</p>\n<p>The app is dockerized, and for resource consumption limit reason, the app can only use 2CPUs (please bear with me on that one). And to make things more difficult, I am allowed to only have <strong>one unique instance</strong> of this app running.</p>\n<p>The app is very straightforward:</p>\n<pre><code>     &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<pre><code>@Configuration\npublic class MyKafkaConfiguration {\n\n    @Bean\n    public KafkaReceiver&lt;String, String&gt; reactiveKafkaConsumerTemplate(KafkaProperties kafkaProperties) {\n        kafkaProperties.setBootstrapServers(List.of(&quot;my-kafka.com:9092&quot;));\n        kafkaProperties.getConsumer().setGroupId(&quot;should-i-do-something-here&quot;);\n        final ReceiverOptions&lt;String, String&gt; basicReceiverOptions = ReceiverOptions.create(kafkaProperties.buildConsumerProperties());\n        basicReceiverOptions.subscription(Collections.singletonList(&quot;the-topic&quot;));\n        return new DefaultKafkaReceiver&lt;&gt;(ConsumerFactory.INSTANCE, basicReceiverOptions);\n    }\n\n}\n</code></pre>\n<pre><code>@Service\npublic class MyConsumer implements CommandLineRunner {\n\n    @Autowired\n    private KafkaReceiver&lt;String, String&gt; kafkaReceiver;\n\n\n    @Override\n    public void run(String... args) {\n        myConsumer().subscribe();\n    }\n\n    public Flux&lt;String&gt; myConsumer() {\n        return kafkaReceiver.receive()\n                .flatMap(oneMessage -&gt; consume(oneMessage))\n                .doOnNext(abc -&gt; System.out.println(&quot;successfully consumed {}={}&quot; + abc))\n                .doOnError(throwable -&gt; System.out.println(&quot;something bad happened while consuming : {}&quot; + throwable.getMessage()));\n    }\n\n    private Mono&lt;String&gt; consume(ConsumerRecord&lt;String, String&gt; oneMessage) {\n        // this first line is a heavy in memory computation which transforms the incoming message to a data to be saved.\n        // it is very intensive computation, but has been tested NON BLOCKING by different tools, and takes 1 second :D\n        String transformedStringCPUIntensiveNonButNonBLocking = transformDataNonBlockingWithIntensiveOperation(oneMessage);\n        //then, just saved the correct transformed data into any REACTIVE repository :)\n        return myReactiveRepository.save(transformedStringCPUIntensiveNonButNonBLocking);\n    }\n\n}\n\n</code></pre>\n<p>If I understand project reactor correctly, and due to my resource limitation, I will have at most 2 reactor cores.</p>\n<p>The <strong>consume method here has been tested non-blocking</strong>, but takes one second to deal with the message.</p>\n<p>Therefore, will I only be able to consume 2 messages per second? (hopefully not)</p>\n<p>The messages can be consumed in any order, I wish to just maximize the throughput with this single app.</p>\n<p>May I ask how could I maximize parallelism / throughput on this app with those constraints please?</p>\n<p>Thank you</p>\n"},{"tags":["java","maven","apache-kafka","jira","classpath"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1675347879,"post_id":75323906,"comment_id":132912915,"body_markdown":"I do not know about your exact case but, when you add the dependency on org.slf4j:slf4j-api directly, you will still get the conflicting jars in your classpath. On the other hand you probably need the dependency for compiling and running in dev. So, I would keep the provided dependency to com.atlassian.jira:jira-api *without* the exclusions, *keep* the exclusions in org.apache.kafka:kafka-clients and any other place that transitively includes them and *drop the direct dependency on org.slf4j:slf4j-api*.","body":"I do not know about your exact case but, when you add the dependency on org.slf4j:slf4j-api directly, you will still get the conflicting jars in your classpath. On the other hand you probably need the dependency for compiling and running in dev. So, I would keep the provided dependency to com.atlassian.jira:jira-api <i>without</i> the exclusions, <i>keep</i> the exclusions in org.apache.kafka:kafka-clients and any other place that transitively includes them and <i>drop the direct dependency on org.slf4j:slf4j-api</i>."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1675350279,"post_id":75323906,"comment_id":132913876,"body_markdown":"Remove provided scope from a dependency if you&#39;re trying to override it","body":"Remove provided scope from a dependency if you&#39;re trying to override it"},{"owner":{"account_id":13278548,"reputation":163,"user_id":9587064,"display_name":"Marius Riehl"},"score":0,"creation_date":1675350366,"post_id":75323906,"comment_id":132913907,"body_markdown":"@NikosParaskevopoulos i tried as you said. Drop the direct dependency and the exclusions in jira-api and keep the exclusions in kafka. Sadly, i still get the same error","body":"@NikosParaskevopoulos i tried as you said. Drop the direct dependency and the exclusions in jira-api and keep the exclusions in kafka. Sadly, i still get the same error"},{"owner":{"account_id":13278548,"reputation":163,"user_id":9587064,"display_name":"Marius Riehl"},"score":0,"creation_date":1675350552,"post_id":75323906,"comment_id":132913993,"body_markdown":"@OneCricketeer do you mean i should delete &lt;scope&gt;provided&lt;/scope&gt; from the org.slf4j at the bottom of my pom.xml, or from the jira-api dependency with the exclusions?","body":"@OneCricketeer do you mean i should delete &lt;scope&gt;provided&lt;/scope&gt; from the org.slf4j at the bottom of my pom.xml, or from the jira-api dependency with the exclusions?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1675354671,"post_id":75323906,"comment_id":132915548,"body_markdown":"From the bottom. Unless the server you deploy the JAR into already has `slf4j-api-1.7.30:jar:`, then don&#39;t use `provided`","body":"From the bottom. Unless the server you deploy the JAR into already has <code>slf4j-api-1.7.30:jar:</code>, then don&#39;t use <code>provided</code>"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675354766,"creation_date":1675354766,"answer_id":75326039,"question_id":75323906,"body_markdown":"Your error is coming from `org.apache.felix:org.apache.felix.framework`, so you should try adding that as a dependency with its own slf4j exclusion as well. \r\n\r\nThen, try again, and repeat as needed, based on each package name that is shown in the error. \r\n\r\nAlternatively, you could see if adding the maven-shade-plugin will help to rename the `kafka-clients` packages and not have conflicting classes. ","title":"Java / Maven Loader Constraint Violation with Apache Kafka with org.slf4j","body":"<p>Your error is coming from <code>org.apache.felix:org.apache.felix.framework</code>, so you should try adding that as a dependency with its own slf4j exclusion as well.</p>\n<p>Then, try again, and repeat as needed, based on each package name that is shown in the error.</p>\n<p>Alternatively, you could see if adding the maven-shade-plugin will help to rename the <code>kafka-clients</code> packages and not have conflicting classes.</p>\n"}],"owner":{"account_id":13278548,"reputation":163,"user_id":9587064,"display_name":"Marius Riehl"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675354766,"creation_date":1675344616,"question_id":75323906,"body_markdown":"i&#39;m currently struggling with a java.lang.LinkageError: loader constraint violation.\r\nI&#39;m developing a Jira Server App with the Atlassian Jira SDK that will include a Apache Kafka Producer. I added a dependency for Kafka in my pom.xml but i receive this error:\r\n\r\n    java.lang.RuntimeException: loader constraint violation: when resolving method &quot;org.slf4j.impl.StaticLoggerBinder.getLoggerFactory()Lorg/slf4j/ILoggerFactory;&quot; the class loader (instance of org/apache/felix/framework/BundleWiringImpl$BundleClassLoader) of the current class, org/slf4j/LoggerFactory, and the class loader (instance of org/apache/catalina/loader/ParallelWebappClassLoader) for the method&#39;s defining class, org/slf4j/impl/StaticLoggerBinder, have different Class objects for the type org/slf4j/ILoggerFactory used in the signature. Listener: com.rse.atlassian.kafka.jira.eventlistener.MasterListener event: com.atlassian.jira.event.issue.IssueEvent\r\n\tat com.atlassian.event.internal.SingleParameterMethodListenerInvoker.invoke(SingleParameterMethodListenerInvoker.java:53)...\r\n\r\n\r\n    Caused by: java.lang.LinkageError: loader constraint violation: when resolving method &quot;org.slf4j.impl.StaticLoggerBinder.getLoggerFactory()Lorg/slf4j/ILoggerFactory;&quot; the class loader (instance of org/apache/felix/framework/BundleWiringImpl$BundleClassLoader) of the current class, org/slf4j/LoggerFactory, and the class loader (instance of org/apache/catalina/loader/ParallelWebappClassLoader) for the method&#39;s defining class, org/slf4j/impl/StaticLoggerBinder, have different Class objects for the type org/slf4j/ILoggerFactory used in the signature\r\n    \tat org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:423)\r\n    \tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:362)\r\n    \tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:388)\r\n    \tat org.apache.kafka.common.utils.Utils.&lt;clinit&gt;(Utils.java:99)\r\n    \tat org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:318)\r\n\r\nI read that this might originate from the org.slf4j dependency being both in Kafka and Atlassian Jira, so i used &lt;exclude&gt; statements in my pom.xml. See the relevant part here:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jira-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${jira.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n            &lt;!-- Kafka --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.0&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.30&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nBy this point i think i tried two dozen different permutations of this... but no luck so far.\r\nHere is also my mvn dependency:tree\r\n\r\n    [INFO] +- com.atlassian.jira:jira-api:jar:8.20.1:provided\r\n    [INFO] |  +- com.atlassian.annotations:atlassian-annotations:jar:3.0.3:provided\r\n    [INFO] |  |  +- com.google.code.findbugs:jsr305:jar:3.0.2:provided\r\n    [INFO] |  |  \\- org.checkerframework:checker-qual:jar:2.8.1:provided\r\n    [INFO] |  +- com.atlassian.ofbiz:entityengine-share:jar:1.5.0:provided\r\n    [INFO] |  |  \\- xerces:xercesImpl:jar:2.12.0:provided\r\n    [INFO] |  |     \\- xml-apis:xml-apis:jar:1.4.01:provided\r\n    [INFO] |  +- com.atlassian.ofbiz:entityengine:jar:1.5.0:provided\r\n    [INFO] |  |  \\- jta:jta:jar:1.0.1:provided\r\n    [INFO] |  +- com.atlassian.collectors:atlassian-collectors-util:jar:1.1:provided\r\n    [INFO] |  +- opensymphony:webwork:jar:1.4-atlassian-30:provided\r\n    [INFO] |  |  \\- com.atlassian.html:atlassian-html-encoder:jar:1.4:provided\r\n    [INFO] |  +- webwork:pell-multipart-request:jar:1.31.0:provided\r\n    [INFO] |  +- com.atlassian.core:atlassian-core:jar:7.0.4:provided\r\n    [INFO] |  |  +- commons-collections:commons-collections:jar:3.2.2:provided\r\n    [INFO] |  |  +- dom4j:dom4j:jar:1.6.1-atlassian-2:provided\r\n    [INFO] |  |  \\- com.atlassian.image:atlassian-image-consumer:jar:1.0.1:provided\r\n    [INFO] |  +- com.atlassian.core:atlassian-core-user:jar:7.0.4:provided\r\n    [INFO] |  +- com.atlassian.core:atlassian-core-thumbnail:jar:7.0.4:provided\r\n    [INFO] |  |  +- com.twelvemonkeys.imageio:imageio-jpeg:jar:3.4.1:provided\r\n    [INFO] |  |  |  +- com.twelvemonkeys.imageio:imageio-core:jar:3.4.1:provided\r\n    [INFO] |  |  |  +- com.twelvemonkeys.imageio:imageio-metadata:jar:3.4.1:provided\r\n    [INFO] |  |  |  +- com.twelvemonkeys.common:common-lang:jar:3.4.1:provided\r\n    [INFO] |  |  |  +- com.twelvemonkeys.common:common-io:jar:3.4.1:provided\r\n    [INFO] |  |  |  \\- com.twelvemonkeys.common:common-image:jar:3.4.1:provided\r\n    [INFO] |  |  \\- com.twelvemonkeys.imageio:imageio-tiff:jar:3.4.1:provided\r\n    [INFO] |  +- com.atlassian.extras:atlassian-extras:jar:3.4.6:provided\r\n    [INFO] |  |  +- commons-codec:commons-codec:jar:1.11:provided\r\n    [INFO] |  |  \\- com.atlassian.extras:atlassian-extras-key-manager:jar:3.4.6:provided\r\n    [INFO] |  |     \\- com.atlassian.extras:atlassian-extras-common:jar:3.4.6:provided\r\n    [INFO] |  |        \\- com.atlassian.extras:atlassian-extras-api:jar:3.4.6:provided\r\n    [INFO] |  +- com.atlassian.velocity:atlassian-velocity:jar:1.3:provided\r\n    [INFO] |  |  +- opensymphony:oscore:jar:2.2.7:provided\r\n    [INFO] |  |  \\- org.apache.velocity:velocity:jar:1.6.4:provided\r\n    [INFO] |  +- osworkflow:osworkflow:jar:2.9.0-atlassian-1:provided\r\n    [INFO] |  +- opensymphony:propertyset:jar:1.5:provided\r\n    [INFO] |  +- com.atlassian.cache:atlassian-cache-api:jar:5.1.3:provided\r\n    [INFO] |  |  \\- com.atlassian.instrumentation:atlassian-instrumentation-core:jar:3.0.0:provided\r\n    [INFO] |  +- com.atlassian.beehive:beehive-api:jar:4.0.4:provided\r\n    [INFO] |  +- com.atlassian.tenancy:atlassian-tenancy-api:jar:3.0.1:provided\r\n    [INFO] |  |  \\- com.atlassian.event:atlassian-event:jar:4.0.0:provided\r\n    [INFO] |  +- com.atlassian.upgrade:upgrade-task-framework-api:jar:2.0.2:provided\r\n    [INFO] |  +- com.atlassian.crowd:embedded-crowd-api:jar:4.3.6-743967e012:provided\r\n    [INFO] |  +- com.google.guava:guava:jar:26.0-jre:provided\r\n    [INFO] |  |  +- com.google.errorprone:error_prone_annotations:jar:2.1.3:provided\r\n    [INFO] |  |  +- com.google.j2objc:j2objc-annotations:jar:1.1:provided\r\n    [INFO] |  |  \\- org.codehaus.mojo:animal-sniffer-annotations:jar:1.14:provided\r\n    [INFO] |  +- com.atlassian.fugue:fugue:jar:2.7.0:provided\r\n    [INFO] |  +- io.atlassian.fugue:fugue:jar:4.7.2:provided\r\n    [INFO] |  +- org.codehaus.jackson:jackson-core-asl:jar:1.9.13-atlassian-6:provided\r\n    [INFO] |  +- org.codehaus.jackson:jackson-mapper-asl:jar:1.9.13-atlassian-6:provided\r\n    [INFO] |  +- com.sun.mail:jakarta.mail:jar:1.6.5-atlassian-2:provided\r\n    [INFO] |  |  \\- com.sun.activation:jakarta.activation:jar:1.2.1:provided\r\n    [INFO] |  +- com.atlassian.mail:atlassian-mail:jar:5.1.2:provided\r\n    [INFO] |  |  +- commons-beanutils:commons-beanutils:jar:1.9.4:provided\r\n    [INFO] |  |  \\- commons-digester:commons-digester:jar:1.8.1:provided\r\n    [INFO] |  +- oro:oro:jar:2.0.7:provided\r\n    [INFO] |  +- com.atlassian.threadlocal:atlassian-threadlocal:jar:1.3:provided\r\n    [INFO] |  +- com.google.javascript:closure-compiler-unshaded:jar:v20181008:provided\r\n    [INFO] |  |  +- com.google.javascript:closure-compiler-externs:jar:v20181008:provided\r\n    [INFO] |  |  +- args4j:args4j:jar:2.0.26:provided\r\n    [INFO] |  |  \\- com.google.jsinterop:jsinterop-annotations:jar:1.0.0:provided\r\n    [INFO] |  +- com.google.protobuf:protobuf-java:jar:3.4.0:provided\r\n    [INFO] |  +- com.atlassian.velocity.htmlsafe:velocity-htmlsafe:jar:3.2.0:provided\r\n    [INFO] |  +- com.atlassian.plugins:atlassian-plugins-api:jar:5.3.13:provided\r\n    [INFO] |  +- com.atlassian.plugins:atlassian-plugins-webfragment:jar:5.3.2:provided\r\n    [INFO] |  +- com.atlassian.plugins:atlassian-plugins-webfragment-api:jar:5.3.2:provided\r\n    [INFO] |  +- com.atlassian.ozymandias:atlassian-plugin-point-safety:jar:1.0.0:provided\r\n    [INFO] |  +- jfree:jfreechart:jar:1.0.13:provided\r\n    [INFO] |  +- com.atlassian.plugins:atlassian-plugins-webresource:jar:4.3.6:provided\r\n    [INFO] |  |  +- com.atlassian.plugins:atlassian-plugins-webresource-spi:jar:4.3.6:provided\r\n    [INFO] |  |  +- com.atlassian.plugins:atlassian-plugins-webresource-api:jar:4.3.6:provided\r\n    [INFO] |  |  +- org.tuckey:urlrewritefilter:jar:4.0.4:provided\r\n    [INFO] |  |  \\- com.atlassian.sourcemap:sourcemap:jar:1.7.7:provided\r\n    [INFO] |  +- com.atlassian.plugins:atlassian-plugins-webresource-compiler-gcc:jar:4.3.6:provided\r\n    [INFO] |  +- jfree:jcommon:jar:1.0.8:provided\r\n    [INFO] |  +- com.atlassian.gadgets:atlassian-gadgets-api:jar:7.0.3:provided\r\n    [INFO] |  +- com.atlassian.johnson:atlassian-johnson-core:jar:4.0.0:provided\r\n    [INFO] |  |  \\- com.atlassian.plugins:atlassian-plugins-servlet:jar:5.0.0:provided\r\n    [INFO] |  +- joda-time:joda-time:jar:2.10.5:provided\r\n    [INFO] |  +- commons-lang:commons-lang:jar:2.6:provided\r\n    [INFO] |  +- org.apache.commons:commons-lang3:jar:3.9:provided\r\n    [INFO] |  +- commons-io:commons-io:jar:2.8.0:provided\r\n    [INFO] |  +- commons-httpclient:commons-httpclient:jar:3.1-atlassian-2:provided\r\n    [INFO] |  +- com.atlassian.profiling:atlassian-profiling:jar:3.2.0:provided\r\n    [INFO] |  +- com.atlassian.scheduler:atlassian-scheduler-api:jar:3.0.1:provided\r\n    [INFO] |  +- com.atlassian.analytics:analytics-api:jar:6.1.12:provided\r\n    [INFO] |  +- com.atlassian.application:atlassian-application-api:jar:2.0.0:provided\r\n    [INFO] |  +- javax.validation:validation-api:jar:2.0.1.Final:provided\r\n    [INFO] |  +- javax.inject:javax.inject:jar:1:provided\r\n    [INFO] |  \\- com.atlassian:lucene-extras:jar:7.3.1-atlassian-4:provided\r\n    [INFO] +- junit:junit:jar:4.10:test\r\n    [INFO] |  \\- org.hamcrest:hamcrest-core:jar:1.1:test\r\n    [INFO] +- com.atlassian.plugins:atlassian-plugins-osgi-javaconfig:jar:0.2.0:compile\r\n    [INFO] +- org.apache.felix:org.apache.felix.framework:jar:4.0.0:provided\r\n    [INFO] +- org.springframework:spring-beans:jar:4.2.5.RELEASE:provided\r\n    [INFO] |  \\- org.springframework:spring-core:jar:4.2.5.RELEASE:provided\r\n    [INFO] |     \\- commons-logging:commons-logging:jar:1.2:provided\r\n    [INFO] +- org.springframework:spring-context:jar:4.2.5.RELEASE:provided\r\n    [INFO] |  +- org.springframework:spring-aop:jar:4.2.5.RELEASE:provided\r\n    [INFO] |  |  \\- aopalliance:aopalliance:jar:1.0:provided\r\n    [INFO] |  \\- org.springframework:spring-expression:jar:4.2.5.RELEASE:provided\r\n    [INFO] +- com.atlassian.plugins:atlassian-plugins-osgi-testrunner:jar:2.0.2:test\r\n    [INFO] |  +- org.apache.wink:wink-client:jar:1.1.3-incubating:test\r\n    [INFO] |  |  +- org.apache.wink:wink-common:jar:1.1.3-incubating:test\r\n    [INFO] |  |  |  \\- org.apache.geronimo.specs:geronimo-annotation_1.1_spec:jar:1.0:test\r\n    [INFO] |  |  +- javax.xml.bind:jaxb-api:jar:2.2:test\r\n    [INFO] |  |  |  \\- javax.xml.stream:stax-api:jar:1.0-2:test\r\n    [INFO] |  |  +- com.sun.xml.bind:jaxb-impl:jar:2.2.1.1:test\r\n    [INFO] |  |  \\- javax.activation:activation:jar:1.1:test\r\n    [INFO] |  \\- com.atlassian.upm:upm-api:jar:2.15:test\r\n    [INFO] +- javax.ws.rs:jsr311-api:jar:1.1.1:provided\r\n    [INFO] +- com.google.code.gson:gson:jar:2.2.2-atlassian-1:compile\r\n    [INFO] +- com.atlassian.applinks:applinks-api:jar:8.0.7:provided\r\n    [INFO] +- com.atlassian.applinks:applinks-spi:jar:8.0.7:provided\r\n    [INFO] +- com.atlassian.applinks:applinks-host:jar:8.0.7:provided\r\n    [INFO] +- com.atlassian.applinks:applinks-plugin:jar:8.0.7:provided\r\n    [INFO] |  +- com.atlassian.applinks:applinks-common:jar:8.0.7:provided\r\n    [INFO] |  |  +- com.atlassian.security:atlassian-secure-xml:jar:3.2.14:provided\r\n    [INFO] |  |  +- io.swagger:swagger-annotations:jar:1.5.24:provided\r\n    [INFO] |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.12.3:provided\r\n    [INFO] |  |  \\- com.fasterxml.jackson.core:jackson-databind:jar:2.12.3:provided\r\n    [INFO] |  |     \\- com.fasterxml.jackson.core:jackson-core:jar:2.12.3:provided\r\n    [INFO] |  \\- com.atlassian.frontend:atlassian-frontend-runtime-plugin:jar:0.3.0:provided\r\n    [INFO] +- com.atlassian.templaterenderer:atlassian-template-renderer-api:jar:4.1.5:provided\r\n    [INFO] +- com.atlassian.servicedesk:jira-servicedesk-api:jar:4.13.3:provided\r\n    [INFO] |  +- jakarta.mail:jakarta.mail-api:jar:1.6.5:provided\r\n    [INFO] |  \\- io.atlassian.util.concurrent:atlassian-util-concurrent:jar:4.0.1:provided\r\n    [INFO] +- com.atlassian.plugin:atlassian-spring-scanner-annotation:jar:2.2.0:provided\r\n    [INFO] +- com.atlassian.sal:sal-api:jar:3.0.0:provided\r\n    [INFO] +- org.apache.kafka:kafka-clients:jar:2.8.0:compile\r\n    [INFO] |  +- com.github.luben:zstd-jni:jar:1.4.9-1:compile\r\n    [INFO] |  +- org.lz4:lz4-java:jar:1.7.1:compile\r\n    [INFO] |  \\- org.xerial.snappy:snappy-java:jar:1.1.8.1:compile\r\n    [INFO] \\- org.slf4j:slf4j-api:jar:1.7.30:provided\r\n\r\nThanks in advance for all answers!","title":"Java / Maven Loader Constraint Violation with Apache Kafka with org.slf4j","body":"<p>i'm currently struggling with a java.lang.LinkageError: loader constraint violation.\nI'm developing a Jira Server App with the Atlassian Jira SDK that will include a Apache Kafka Producer. I added a dependency for Kafka in my pom.xml but i receive this error:</p>\n<pre><code>java.lang.RuntimeException: loader constraint violation: when resolving method &quot;org.slf4j.impl.StaticLoggerBinder.getLoggerFactory()Lorg/slf4j/ILoggerFactory;&quot; the class loader (instance of org/apache/felix/framework/BundleWiringImpl$BundleClassLoader) of the current class, org/slf4j/LoggerFactory, and the class loader (instance of org/apache/catalina/loader/ParallelWebappClassLoader) for the method's defining class, org/slf4j/impl/StaticLoggerBinder, have different Class objects for the type org/slf4j/ILoggerFactory used in the signature. Listener: com.rse.atlassian.kafka.jira.eventlistener.MasterListener event: com.atlassian.jira.event.issue.IssueEvent\nat com.atlassian.event.internal.SingleParameterMethodListenerInvoker.invoke(SingleParameterMethodListenerInvoker.java:53)...\n\n\nCaused by: java.lang.LinkageError: loader constraint violation: when resolving method &quot;org.slf4j.impl.StaticLoggerBinder.getLoggerFactory()Lorg/slf4j/ILoggerFactory;&quot; the class loader (instance of org/apache/felix/framework/BundleWiringImpl$BundleClassLoader) of the current class, org/slf4j/LoggerFactory, and the class loader (instance of org/apache/catalina/loader/ParallelWebappClassLoader) for the method's defining class, org/slf4j/impl/StaticLoggerBinder, have different Class objects for the type org/slf4j/ILoggerFactory used in the signature\n    at org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:423)\n    at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:362)\n    at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:388)\n    at org.apache.kafka.common.utils.Utils.&lt;clinit&gt;(Utils.java:99)\n    at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:318)\n</code></pre>\n<p>I read that this might originate from the org.slf4j dependency being both in Kafka and Atlassian Jira, so i used  statements in my pom.xml. See the relevant part here:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\n        &lt;artifactId&gt;jira-api&lt;/artifactId&gt;\n        &lt;version&gt;${jira.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n        &lt;!-- Kafka --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n        &lt;version&gt;2.8.0&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.7.30&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>By this point i think i tried two dozen different permutations of this... but no luck so far.\nHere is also my mvn dependency:tree</p>\n<pre><code>[INFO] +- com.atlassian.jira:jira-api:jar:8.20.1:provided\n[INFO] |  +- com.atlassian.annotations:atlassian-annotations:jar:3.0.3:provided\n[INFO] |  |  +- com.google.code.findbugs:jsr305:jar:3.0.2:provided\n[INFO] |  |  \\- org.checkerframework:checker-qual:jar:2.8.1:provided\n[INFO] |  +- com.atlassian.ofbiz:entityengine-share:jar:1.5.0:provided\n[INFO] |  |  \\- xerces:xercesImpl:jar:2.12.0:provided\n[INFO] |  |     \\- xml-apis:xml-apis:jar:1.4.01:provided\n[INFO] |  +- com.atlassian.ofbiz:entityengine:jar:1.5.0:provided\n[INFO] |  |  \\- jta:jta:jar:1.0.1:provided\n[INFO] |  +- com.atlassian.collectors:atlassian-collectors-util:jar:1.1:provided\n[INFO] |  +- opensymphony:webwork:jar:1.4-atlassian-30:provided\n[INFO] |  |  \\- com.atlassian.html:atlassian-html-encoder:jar:1.4:provided\n[INFO] |  +- webwork:pell-multipart-request:jar:1.31.0:provided\n[INFO] |  +- com.atlassian.core:atlassian-core:jar:7.0.4:provided\n[INFO] |  |  +- commons-collections:commons-collections:jar:3.2.2:provided\n[INFO] |  |  +- dom4j:dom4j:jar:1.6.1-atlassian-2:provided\n[INFO] |  |  \\- com.atlassian.image:atlassian-image-consumer:jar:1.0.1:provided\n[INFO] |  +- com.atlassian.core:atlassian-core-user:jar:7.0.4:provided\n[INFO] |  +- com.atlassian.core:atlassian-core-thumbnail:jar:7.0.4:provided\n[INFO] |  |  +- com.twelvemonkeys.imageio:imageio-jpeg:jar:3.4.1:provided\n[INFO] |  |  |  +- com.twelvemonkeys.imageio:imageio-core:jar:3.4.1:provided\n[INFO] |  |  |  +- com.twelvemonkeys.imageio:imageio-metadata:jar:3.4.1:provided\n[INFO] |  |  |  +- com.twelvemonkeys.common:common-lang:jar:3.4.1:provided\n[INFO] |  |  |  +- com.twelvemonkeys.common:common-io:jar:3.4.1:provided\n[INFO] |  |  |  \\- com.twelvemonkeys.common:common-image:jar:3.4.1:provided\n[INFO] |  |  \\- com.twelvemonkeys.imageio:imageio-tiff:jar:3.4.1:provided\n[INFO] |  +- com.atlassian.extras:atlassian-extras:jar:3.4.6:provided\n[INFO] |  |  +- commons-codec:commons-codec:jar:1.11:provided\n[INFO] |  |  \\- com.atlassian.extras:atlassian-extras-key-manager:jar:3.4.6:provided\n[INFO] |  |     \\- com.atlassian.extras:atlassian-extras-common:jar:3.4.6:provided\n[INFO] |  |        \\- com.atlassian.extras:atlassian-extras-api:jar:3.4.6:provided\n[INFO] |  +- com.atlassian.velocity:atlassian-velocity:jar:1.3:provided\n[INFO] |  |  +- opensymphony:oscore:jar:2.2.7:provided\n[INFO] |  |  \\- org.apache.velocity:velocity:jar:1.6.4:provided\n[INFO] |  +- osworkflow:osworkflow:jar:2.9.0-atlassian-1:provided\n[INFO] |  +- opensymphony:propertyset:jar:1.5:provided\n[INFO] |  +- com.atlassian.cache:atlassian-cache-api:jar:5.1.3:provided\n[INFO] |  |  \\- com.atlassian.instrumentation:atlassian-instrumentation-core:jar:3.0.0:provided\n[INFO] |  +- com.atlassian.beehive:beehive-api:jar:4.0.4:provided\n[INFO] |  +- com.atlassian.tenancy:atlassian-tenancy-api:jar:3.0.1:provided\n[INFO] |  |  \\- com.atlassian.event:atlassian-event:jar:4.0.0:provided\n[INFO] |  +- com.atlassian.upgrade:upgrade-task-framework-api:jar:2.0.2:provided\n[INFO] |  +- com.atlassian.crowd:embedded-crowd-api:jar:4.3.6-743967e012:provided\n[INFO] |  +- com.google.guava:guava:jar:26.0-jre:provided\n[INFO] |  |  +- com.google.errorprone:error_prone_annotations:jar:2.1.3:provided\n[INFO] |  |  +- com.google.j2objc:j2objc-annotations:jar:1.1:provided\n[INFO] |  |  \\- org.codehaus.mojo:animal-sniffer-annotations:jar:1.14:provided\n[INFO] |  +- com.atlassian.fugue:fugue:jar:2.7.0:provided\n[INFO] |  +- io.atlassian.fugue:fugue:jar:4.7.2:provided\n[INFO] |  +- org.codehaus.jackson:jackson-core-asl:jar:1.9.13-atlassian-6:provided\n[INFO] |  +- org.codehaus.jackson:jackson-mapper-asl:jar:1.9.13-atlassian-6:provided\n[INFO] |  +- com.sun.mail:jakarta.mail:jar:1.6.5-atlassian-2:provided\n[INFO] |  |  \\- com.sun.activation:jakarta.activation:jar:1.2.1:provided\n[INFO] |  +- com.atlassian.mail:atlassian-mail:jar:5.1.2:provided\n[INFO] |  |  +- commons-beanutils:commons-beanutils:jar:1.9.4:provided\n[INFO] |  |  \\- commons-digester:commons-digester:jar:1.8.1:provided\n[INFO] |  +- oro:oro:jar:2.0.7:provided\n[INFO] |  +- com.atlassian.threadlocal:atlassian-threadlocal:jar:1.3:provided\n[INFO] |  +- com.google.javascript:closure-compiler-unshaded:jar:v20181008:provided\n[INFO] |  |  +- com.google.javascript:closure-compiler-externs:jar:v20181008:provided\n[INFO] |  |  +- args4j:args4j:jar:2.0.26:provided\n[INFO] |  |  \\- com.google.jsinterop:jsinterop-annotations:jar:1.0.0:provided\n[INFO] |  +- com.google.protobuf:protobuf-java:jar:3.4.0:provided\n[INFO] |  +- com.atlassian.velocity.htmlsafe:velocity-htmlsafe:jar:3.2.0:provided\n[INFO] |  +- com.atlassian.plugins:atlassian-plugins-api:jar:5.3.13:provided\n[INFO] |  +- com.atlassian.plugins:atlassian-plugins-webfragment:jar:5.3.2:provided\n[INFO] |  +- com.atlassian.plugins:atlassian-plugins-webfragment-api:jar:5.3.2:provided\n[INFO] |  +- com.atlassian.ozymandias:atlassian-plugin-point-safety:jar:1.0.0:provided\n[INFO] |  +- jfree:jfreechart:jar:1.0.13:provided\n[INFO] |  +- com.atlassian.plugins:atlassian-plugins-webresource:jar:4.3.6:provided\n[INFO] |  |  +- com.atlassian.plugins:atlassian-plugins-webresource-spi:jar:4.3.6:provided\n[INFO] |  |  +- com.atlassian.plugins:atlassian-plugins-webresource-api:jar:4.3.6:provided\n[INFO] |  |  +- org.tuckey:urlrewritefilter:jar:4.0.4:provided\n[INFO] |  |  \\- com.atlassian.sourcemap:sourcemap:jar:1.7.7:provided\n[INFO] |  +- com.atlassian.plugins:atlassian-plugins-webresource-compiler-gcc:jar:4.3.6:provided\n[INFO] |  +- jfree:jcommon:jar:1.0.8:provided\n[INFO] |  +- com.atlassian.gadgets:atlassian-gadgets-api:jar:7.0.3:provided\n[INFO] |  +- com.atlassian.johnson:atlassian-johnson-core:jar:4.0.0:provided\n[INFO] |  |  \\- com.atlassian.plugins:atlassian-plugins-servlet:jar:5.0.0:provided\n[INFO] |  +- joda-time:joda-time:jar:2.10.5:provided\n[INFO] |  +- commons-lang:commons-lang:jar:2.6:provided\n[INFO] |  +- org.apache.commons:commons-lang3:jar:3.9:provided\n[INFO] |  +- commons-io:commons-io:jar:2.8.0:provided\n[INFO] |  +- commons-httpclient:commons-httpclient:jar:3.1-atlassian-2:provided\n[INFO] |  +- com.atlassian.profiling:atlassian-profiling:jar:3.2.0:provided\n[INFO] |  +- com.atlassian.scheduler:atlassian-scheduler-api:jar:3.0.1:provided\n[INFO] |  +- com.atlassian.analytics:analytics-api:jar:6.1.12:provided\n[INFO] |  +- com.atlassian.application:atlassian-application-api:jar:2.0.0:provided\n[INFO] |  +- javax.validation:validation-api:jar:2.0.1.Final:provided\n[INFO] |  +- javax.inject:javax.inject:jar:1:provided\n[INFO] |  \\- com.atlassian:lucene-extras:jar:7.3.1-atlassian-4:provided\n[INFO] +- junit:junit:jar:4.10:test\n[INFO] |  \\- org.hamcrest:hamcrest-core:jar:1.1:test\n[INFO] +- com.atlassian.plugins:atlassian-plugins-osgi-javaconfig:jar:0.2.0:compile\n[INFO] +- org.apache.felix:org.apache.felix.framework:jar:4.0.0:provided\n[INFO] +- org.springframework:spring-beans:jar:4.2.5.RELEASE:provided\n[INFO] |  \\- org.springframework:spring-core:jar:4.2.5.RELEASE:provided\n[INFO] |     \\- commons-logging:commons-logging:jar:1.2:provided\n[INFO] +- org.springframework:spring-context:jar:4.2.5.RELEASE:provided\n[INFO] |  +- org.springframework:spring-aop:jar:4.2.5.RELEASE:provided\n[INFO] |  |  \\- aopalliance:aopalliance:jar:1.0:provided\n[INFO] |  \\- org.springframework:spring-expression:jar:4.2.5.RELEASE:provided\n[INFO] +- com.atlassian.plugins:atlassian-plugins-osgi-testrunner:jar:2.0.2:test\n[INFO] |  +- org.apache.wink:wink-client:jar:1.1.3-incubating:test\n[INFO] |  |  +- org.apache.wink:wink-common:jar:1.1.3-incubating:test\n[INFO] |  |  |  \\- org.apache.geronimo.specs:geronimo-annotation_1.1_spec:jar:1.0:test\n[INFO] |  |  +- javax.xml.bind:jaxb-api:jar:2.2:test\n[INFO] |  |  |  \\- javax.xml.stream:stax-api:jar:1.0-2:test\n[INFO] |  |  +- com.sun.xml.bind:jaxb-impl:jar:2.2.1.1:test\n[INFO] |  |  \\- javax.activation:activation:jar:1.1:test\n[INFO] |  \\- com.atlassian.upm:upm-api:jar:2.15:test\n[INFO] +- javax.ws.rs:jsr311-api:jar:1.1.1:provided\n[INFO] +- com.google.code.gson:gson:jar:2.2.2-atlassian-1:compile\n[INFO] +- com.atlassian.applinks:applinks-api:jar:8.0.7:provided\n[INFO] +- com.atlassian.applinks:applinks-spi:jar:8.0.7:provided\n[INFO] +- com.atlassian.applinks:applinks-host:jar:8.0.7:provided\n[INFO] +- com.atlassian.applinks:applinks-plugin:jar:8.0.7:provided\n[INFO] |  +- com.atlassian.applinks:applinks-common:jar:8.0.7:provided\n[INFO] |  |  +- com.atlassian.security:atlassian-secure-xml:jar:3.2.14:provided\n[INFO] |  |  +- io.swagger:swagger-annotations:jar:1.5.24:provided\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.12.3:provided\n[INFO] |  |  \\- com.fasterxml.jackson.core:jackson-databind:jar:2.12.3:provided\n[INFO] |  |     \\- com.fasterxml.jackson.core:jackson-core:jar:2.12.3:provided\n[INFO] |  \\- com.atlassian.frontend:atlassian-frontend-runtime-plugin:jar:0.3.0:provided\n[INFO] +- com.atlassian.templaterenderer:atlassian-template-renderer-api:jar:4.1.5:provided\n[INFO] +- com.atlassian.servicedesk:jira-servicedesk-api:jar:4.13.3:provided\n[INFO] |  +- jakarta.mail:jakarta.mail-api:jar:1.6.5:provided\n[INFO] |  \\- io.atlassian.util.concurrent:atlassian-util-concurrent:jar:4.0.1:provided\n[INFO] +- com.atlassian.plugin:atlassian-spring-scanner-annotation:jar:2.2.0:provided\n[INFO] +- com.atlassian.sal:sal-api:jar:3.0.0:provided\n[INFO] +- org.apache.kafka:kafka-clients:jar:2.8.0:compile\n[INFO] |  +- com.github.luben:zstd-jni:jar:1.4.9-1:compile\n[INFO] |  +- org.lz4:lz4-java:jar:1.7.1:compile\n[INFO] |  \\- org.xerial.snappy:snappy-java:jar:1.1.8.1:compile\n[INFO] \\- org.slf4j:slf4j-api:jar:1.7.30:provided\n</code></pre>\n<p>Thanks in advance for all answers!</p>\n"},{"tags":["java","windows","timeout","keep-alive"],"owner":{"account_id":18285048,"reputation":3,"user_id":13313148,"display_name":"Eduardo Sabaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675354614,"creation_date":1675354614,"question_id":75326005,"body_markdown":"I&#39;m working in java (openjdk14) on a project that sends files to a webservice. The server takes its time to process this files so I need to set the TCP keepalive time in order to not lose the connection. Is there any way to set the TCP keepalive time in windows?\r\n\r\nI&#39;m using openjdk14 and Windows 10 Pro\r\n\r\nI will appreciate any help\r\n\r\n\r\n\r\nI found a way in linux using ExtendedSocketOptions but in Windows it seems that it&#39;s not supported:\r\n\r\n```\r\n`Socket sock = sf.createSocket(context);\r\n\r\nsock.setOption(ExtendedSocketOptions.TCP_KEEPIDLE, 60);\r\nsock.setOption(ExtendedSocketOptions.TCP_KEEPCOUNT, 75);\r\nsock.setOption(ExtendedSocketOptions.TCP_KEEPINTERVAL, 3); `\r\n```","title":"openjdk setting keepalive time in windows 10","body":"<p>I'm working in java (openjdk14) on a project that sends files to a webservice. The server takes its time to process this files so I need to set the TCP keepalive time in order to not lose the connection. Is there any way to set the TCP keepalive time in windows?</p>\n<p>I'm using openjdk14 and Windows 10 Pro</p>\n<p>I will appreciate any help</p>\n<p>I found a way in linux using ExtendedSocketOptions but in Windows it seems that it's not supported:</p>\n<pre><code>`Socket sock = sf.createSocket(context);\n\nsock.setOption(ExtendedSocketOptions.TCP_KEEPIDLE, 60);\nsock.setOption(ExtendedSocketOptions.TCP_KEEPCOUNT, 75);\nsock.setOption(ExtendedSocketOptions.TCP_KEEPINTERVAL, 3); `\n</code></pre>\n"},{"tags":["java","selenium","selenium-chromedriver","webdriver","google-chrome-devtools"],"answers":[{"tags":[],"owner":{"account_id":1856464,"reputation":514,"user_id":1681917,"accept_rate":100,"display_name":"Ahamed Abdul Rahman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650735338,"creation_date":1650735338,"answer_id":71982123,"question_id":71905565,"body_markdown":"You may try custom function Explicit Wait. Something like this:\r\n\r\n    public String getResponseBody(WebDriver driver, DevTools devTools) {\r\n        return new WebDriverWait(driver,5)\r\n          .ignoring(NullPointerException.class)\r\n          .until(driver -&gt; \r\n          devTools.send(Network.getResponseBody(id[0])).getBody());\r\n    }\r\n\r\nSo, it won&#39;t wait for all 5 seconds. The moment it got the data, it would come of out of the until method. Also add whichever Exception that was coming up here.\r\n\r\nHas put these lines of code as separate method because, devTools object is locally defined. In order to use them inside this anonymous inner function, it has to be final or effectively final.","title":"ChromeDevTools in selenium, waiting for response bodies","body":"<p>You may try custom function Explicit Wait. Something like this:</p>\n<pre><code>public String getResponseBody(WebDriver driver, DevTools devTools) {\n    return new WebDriverWait(driver,5)\n      .ignoring(NullPointerException.class)\n      .until(driver -&gt; \n      devTools.send(Network.getResponseBody(id[0])).getBody());\n}\n</code></pre>\n<p>So, it won't wait for all 5 seconds. The moment it got the data, it would come of out of the until method. Also add whichever Exception that was coming up here.</p>\n<p>Has put these lines of code as separate method because, devTools object is locally defined. In order to use them inside this anonymous inner function, it has to be final or effectively final.</p>\n"},{"tags":[],"owner":{"account_id":10521390,"reputation":121,"user_id":7753798,"display_name":"bobbybobbobbed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675354146,"creation_date":1675344957,"answer_id":75323977,"question_id":71905565,"body_markdown":"I seem to run into this issue when running tests in parallel (and headless) and trying to capture the requests and responses, I get:\r\n\r\n   {&quot;No data found for resource with given identifier&quot;},&quot;sessionId&quot; ...\r\n\r\nHowever, now .until seems to only take ExpectedCondition\r\n\r\n\r\nSo a similar solution (to the accepted answer), but without using &quot;WebDriverWait.until&quot; that I use is:\r\n\r\n\tpublic static String getResponseBody(DevTools devTools, RequestId id) {\r\n\t\tString requestPostData = &quot;&quot;;\r\n\t\tLocalDateTime then = LocalDateTime.now();\r\n\t\tString err = &quot;&quot;;\r\n\t\tInteger it = 0;\r\n\t\twhile (true) {\r\n\t\t\terr = &quot;&quot;;\r\n\t\t\ttry{requestPostData = devTools.send(Network.getResponseBody(id)).getBody();} catch( Exception e){err = e.getMessage();};\r\n\t\t\tif (requestPostData != null &amp;&amp; !requestPostData.equals(&quot;&quot;)) {break;}\r\n\t\t\tif (err.equals(&quot;&quot;)) {break;} // if we don&#39;t have an error message, its quite possible the responseBody really is an empty string\r\n\t\t\tlong timeTaken = ChronoUnit.SECONDS.between(then, LocalDateTime.now());\r\n\t\t\tif (timeTaken &gt;= 5) {requestPostData = err + &quot;, timeTaken:&quot; + timeTaken; break;}\r\n\t\t\tif(it &gt; 0) {TimeUnit.SECONDS.sleep(it);} // I prefer waiting longer and longer, avoiding stack overflows\r\n\t\t\tit++;\r\n\t\t}\r\n\t\treturn requestPostData;\r\n\t}\r\n\r\nIt just loops until it doesn&#39;t error, and returns the string back as soon as it can (but I actually set timeTaken &gt;= 60 due to many parallel requests)","title":"ChromeDevTools in selenium, waiting for response bodies","body":"<p>I seem to run into this issue when running tests in parallel (and headless) and trying to capture the requests and responses, I get:</p>\n<p>{&quot;No data found for resource with given identifier&quot;},&quot;sessionId&quot; ...</p>\n<p>However, now .until seems to only take ExpectedCondition</p>\n<p>So a similar solution (to the accepted answer), but without using &quot;WebDriverWait.until&quot; that I use is:</p>\n<pre><code>public static String getResponseBody(DevTools devTools, RequestId id) {\n    String requestPostData = &quot;&quot;;\n    LocalDateTime then = LocalDateTime.now();\n    String err = &quot;&quot;;\n    Integer it = 0;\n    while (true) {\n        err = &quot;&quot;;\n        try{requestPostData = devTools.send(Network.getResponseBody(id)).getBody();} catch( Exception e){err = e.getMessage();};\n        if (requestPostData != null &amp;&amp; !requestPostData.equals(&quot;&quot;)) {break;}\n        if (err.equals(&quot;&quot;)) {break;} // if we don't have an error message, its quite possible the responseBody really is an empty string\n        long timeTaken = ChronoUnit.SECONDS.between(then, LocalDateTime.now());\n        if (timeTaken &gt;= 5) {requestPostData = err + &quot;, timeTaken:&quot; + timeTaken; break;}\n        if(it &gt; 0) {TimeUnit.SECONDS.sleep(it);} // I prefer waiting longer and longer, avoiding stack overflows\n        it++;\n    }\n    return requestPostData;\n}\n</code></pre>\n<p>It just loops until it doesn't error, and returns the string back as soon as it can (but I actually set timeTaken &gt;= 60 due to many parallel requests)</p>\n"}],"owner":{"display_name":"user18840347"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2275,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71982123,"answer_count":2,"score":1,"last_activity_date":1675354146,"creation_date":1650230765,"question_id":71905565,"body_markdown":"I need to work on ajax response, that is one of responses received upon visiting a page. I use selenium dev tools and java. I create a listener, that intercepts a specific request and then I want to work on response it brings. However I need to setup static wait, or else selenium don&#39;t have time to save `RequestId`. I read Chrome Dev Tools documentation, but it&#39;s a new thing for me. I wonder if there is a method that would allow me to wait for this call to be completed, other than the static wait.\r\n\r\nHere is my code:\r\n```\r\n    @Test(groups = &quot;test&quot;)\r\n    public void x() throws InterruptedException, JsonProcessingException {\r\n        User user = User.builder();\r\n        ManageAccountStep manageAccountStep = new ManageAccountStep(getDriver());\r\n        DashboardPO dashboardPO = new DashboardPO(getDriver());\r\n        manageAccountStep.login(user);\r\n        DevTools devTools = ((HasDevTools) getDriver()).maybeGetDevTools().orElseThrow();\r\n        devTools.createSessionIfThereIsNotOne();\r\n        devTools.send(Network.enable(Optional.empty(), Optional.empty(), Optional.empty()));\r\n        // end of boilerplate\r\n        final RequestId[] id = new RequestId[1];\r\n        devTools.addListener(Network.responseReceived(), response -&gt; {\r\n            log.info(response.getResponse().getUrl());\r\n            if (response.getResponse().getUrl().contains(DESIRED_URL)){\r\n                id[0] = response.getRequestId();\r\n            }\r\n        });\r\n        dashboardPO\r\n                .clickLink(); // here is when my DESIRED_URL happens \r\n        Utils.sleep(5000); // Something like Thread.sleep(5000)\r\n        String responseBody = devTools.send(Network.getResponseBody(id[0])).getBody();\r\n        // some operations on responseBody\r\n        devTools.clearListeners();\r\n        devTools.disconnectSession();\r\n    }\r\n```\r\nIf I don&#39;t use 5 seconds wait `id` variable gets never assigned and I null pointer exception `requestId is required`. During these 5 seconds `log.info` prints all api calls that are happening and it almost always finds my `id`. I would like to refrain from static wait though. I am thinking about something similiar to maybe `jQuery.active()==0`, but my page doesn&#39;t use jQuery.","title":"ChromeDevTools in selenium, waiting for response bodies","body":"<p>I need to work on ajax response, that is one of responses received upon visiting a page. I use selenium dev tools and java. I create a listener, that intercepts a specific request and then I want to work on response it brings. However I need to setup static wait, or else selenium don't have time to save <code>RequestId</code>. I read Chrome Dev Tools documentation, but it's a new thing for me. I wonder if there is a method that would allow me to wait for this call to be completed, other than the static wait.</p>\n<p>Here is my code:</p>\n<pre><code>    @Test(groups = &quot;test&quot;)\n    public void x() throws InterruptedException, JsonProcessingException {\n        User user = User.builder();\n        ManageAccountStep manageAccountStep = new ManageAccountStep(getDriver());\n        DashboardPO dashboardPO = new DashboardPO(getDriver());\n        manageAccountStep.login(user);\n        DevTools devTools = ((HasDevTools) getDriver()).maybeGetDevTools().orElseThrow();\n        devTools.createSessionIfThereIsNotOne();\n        devTools.send(Network.enable(Optional.empty(), Optional.empty(), Optional.empty()));\n        // end of boilerplate\n        final RequestId[] id = new RequestId[1];\n        devTools.addListener(Network.responseReceived(), response -&gt; {\n            log.info(response.getResponse().getUrl());\n            if (response.getResponse().getUrl().contains(DESIRED_URL)){\n                id[0] = response.getRequestId();\n            }\n        });\n        dashboardPO\n                .clickLink(); // here is when my DESIRED_URL happens \n        Utils.sleep(5000); // Something like Thread.sleep(5000)\n        String responseBody = devTools.send(Network.getResponseBody(id[0])).getBody();\n        // some operations on responseBody\n        devTools.clearListeners();\n        devTools.disconnectSession();\n    }\n</code></pre>\n<p>If I don't use 5 seconds wait <code>id</code> variable gets never assigned and I null pointer exception <code>requestId is required</code>. During these 5 seconds <code>log.info</code> prints all api calls that are happening and it almost always finds my <code>id</code>. I would like to refrain from static wait though. I am thinking about something similiar to maybe <code>jQuery.active()==0</code>, but my page doesn't use jQuery.</p>\n"},{"tags":["java","android","kotlin","mediarouter"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1675180844,"post_id":75299759,"comment_id":132871070,"body_markdown":"Having a connected external display does not imply mirroring. The foreground app might be showing something using `Presentation` or similar techniques. Or, the device might be in some new UI mode, such as Samsung DeX.","body":"Having a connected external display does not imply mirroring. The foreground app might be showing something using <code>Presentation</code> or similar techniques. Or, the device might be in some new UI mode, such as Samsung DeX."},{"owner":{"account_id":18348513,"reputation":8716,"user_id":13363205,"display_name":"iknow"},"score":0,"creation_date":1675181286,"post_id":75299759,"comment_id":132871231,"body_markdown":"@CommonsWare Okay, do You know what is the best way to decide if a device is mirrored? And a reversed question, does mirroring imply that an external device is connected to the device? (so when a device is mirrored this function will always return true?)","body":"@CommonsWare Okay, do You know what is the best way to decide if a device is mirrored? And a reversed question, does mirroring imply that an external device is connected to the device? (so when a device is mirrored this function will always return true?)"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1675183747,"post_id":75299759,"comment_id":132872110,"body_markdown":"&quot;You know what is the best way to decide if a device is mirrored?&quot; -- I do not know of any way of doing it. &quot;does mirroring imply that an external device is connected to the device?&quot; -- no. At minimum, there is a developer option in Settings to simulate an external display, and by default, it mirrors.","body":"&quot;You know what is the best way to decide if a device is mirrored?&quot; -- I do not know of any way of doing it. &quot;does mirroring imply that an external device is connected to the device?&quot; -- no. At minimum, there is a developer option in Settings to simulate an external display, and by default, it mirrors."}],"owner":{"account_id":18348513,"reputation":8716,"user_id":13363205,"display_name":"iknow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675354008,"creation_date":1675180678,"question_id":75299759,"body_markdown":"I am using [MediaRouter][1] from [androidx.mediarouter:mediarouter][2]\r\n\r\nCan someone confirm, suggest a better solution, or correct me if this code can properly detect mirroring:\r\n``` kotlin\r\nfun Activity.isExternalDisplayConnected(): Boolean {\r\n    return MediaRouter.getInstance(this).routes.any { route -&gt;\r\n        !route.isDefault &amp;&amp; route.playbackType == MediaRouter.RouteInfo.PLAYBACK_TYPE_REMOTE\r\n    }\r\n}\r\n```\r\n\r\nSo basically I am checking if there is any Route that is not default and `playbackType` is `PLAYBACK_TYPE_REMOTE`.\r\n\r\nIt works on my two test devices but I am curious if this will generally work every time. And if this function can return true on some devices that don&#39;t have mirroring turned on.\r\n\r\n  [1]: https://developer.android.com/reference/androidx/mediarouter/media/MediaRouter\r\n  [2]: https://developer.android.com/jetpack/androidx/releases/mediarouter","title":"Can MediaRouter be used to detect mirroring?","body":"<p>I am using <a href=\"https://developer.android.com/reference/androidx/mediarouter/media/MediaRouter\" rel=\"nofollow noreferrer\">MediaRouter</a> from <a href=\"https://developer.android.com/jetpack/androidx/releases/mediarouter\" rel=\"nofollow noreferrer\">androidx.mediarouter:mediarouter</a></p>\n<p>Can someone confirm, suggest a better solution, or correct me if this code can properly detect mirroring:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun Activity.isExternalDisplayConnected(): Boolean {\n    return MediaRouter.getInstance(this).routes.any { route -&gt;\n        !route.isDefault &amp;&amp; route.playbackType == MediaRouter.RouteInfo.PLAYBACK_TYPE_REMOTE\n    }\n}\n</code></pre>\n<p>So basically I am checking if there is any Route that is not default and <code>playbackType</code> is <code>PLAYBACK_TYPE_REMOTE</code>.</p>\n<p>It works on my two test devices but I am curious if this will generally work every time. And if this function can return true on some devices that don't have mirroring turned on.</p>\n"},{"tags":["java","spring","spring-boot","multipartform-data","multipartfile"],"owner":{"account_id":20491582,"reputation":199,"user_id":15037564,"display_name":"Nichole"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675354005,"creation_date":1675353465,"question_id":75325769,"body_markdown":"I am new to resttemplate and trying to understand how to invoke below API using restTemplate\r\n\r\n    public ResponseEntity&lt;String&gt; upload(@ResquestPart(&quot;file&quot;) MultipartFIle file,\r\n    @RequestParam(&quot;path&quot;) String path){\r\n    \r\n    //businness logic\r\n    }\r\n\r\nI am trying to call above as below however it fails on &quot;java.io.filenotfoundexception multipartfile resource [ABC.txt]cannot be resolved to absolute file path&quot;\r\n\r\n    public void uploadFile() {\r\n    \r\n    Path path = Paths.get(&quot;C:/ABC.txt&quot;); \r\n    byte[] content = null;\r\n    \r\n    try{\r\n        content =  Files.readAllBytes(path);   // All file is read in content variable \r\n    } catch(final IOException e){\r\n    }\r\n    \r\n    MultipartFile file = new MockMultipartFile(&quot;ABC.txt&quot;,content);\r\n        \r\n    \r\n    HttpHeaders headers = new HttpHeaders();\r\n     headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n    headers.setContentType(&quot;Accept&quot;, Mediatype.APPLICATION_JSON_VALUE);\r\n    headers.setContentType(&quot;Content-type&quot;, Mediatype.APPLICATION_JSON_VALUE);\r\n    \r\n    MultiValueMap&lt;String, Object&gt; obj = new LinkedMultiValueMap&lt;String, Object&gt;();\r\n    obj.add(&quot;file&quot;, file);\r\n    obj.add9(&quot;path&quot;, &quot;/opt/apps&quot;);\r\n    \r\n    HttpEntity&lt;?&gt; requestEntity = new HttpEntity&lt;&gt;(obj, headers);\r\n    \r\n    String result = getRestTemplate().postForEntity(&quot;url&quot;, requestEntity, String.class);\r\n    \r\n    }\r\n","title":"When trying to invoke rest api to upload a multipart file throws multipartfile resource [ABC.txt]cannot be resolved to absolute file path?","body":"<p>I am new to resttemplate and trying to understand how to invoke below API using restTemplate</p>\n<pre><code>public ResponseEntity&lt;String&gt; upload(@ResquestPart(&quot;file&quot;) MultipartFIle file,\n@RequestParam(&quot;path&quot;) String path){\n\n//businness logic\n}\n</code></pre>\n<p>I am trying to call above as below however it fails on &quot;java.io.filenotfoundexception multipartfile resource [ABC.txt]cannot be resolved to absolute file path&quot;</p>\n<pre><code>public void uploadFile() {\n\nPath path = Paths.get(&quot;C:/ABC.txt&quot;); \nbyte[] content = null;\n\ntry{\n    content =  Files.readAllBytes(path);   // All file is read in content variable \n} catch(final IOException e){\n}\n\nMultipartFile file = new MockMultipartFile(&quot;ABC.txt&quot;,content);\n    \n\nHttpHeaders headers = new HttpHeaders();\n headers.setContentType(MediaType.MULTIPART_FORM_DATA);\nheaders.setContentType(&quot;Accept&quot;, Mediatype.APPLICATION_JSON_VALUE);\nheaders.setContentType(&quot;Content-type&quot;, Mediatype.APPLICATION_JSON_VALUE);\n\nMultiValueMap&lt;String, Object&gt; obj = new LinkedMultiValueMap&lt;String, Object&gt;();\nobj.add(&quot;file&quot;, file);\nobj.add9(&quot;path&quot;, &quot;/opt/apps&quot;);\n\nHttpEntity&lt;?&gt; requestEntity = new HttpEntity&lt;&gt;(obj, headers);\n\nString result = getRestTemplate().postForEntity(&quot;url&quot;, requestEntity, String.class);\n\n}\n</code></pre>\n"},{"tags":["java","dns","udp"],"comments":[{"owner":{"account_id":6714936,"reputation":2886,"user_id":5177045,"accept_rate":75,"display_name":"amedina"},"score":0,"creation_date":1551100992,"post_id":54867087,"comment_id":96504645,"body_markdown":"What have you tried so far? Please show us some code.","body":"What have you tried so far? Please show us some code."},{"owner":{"account_id":13216600,"reputation":423,"user_id":9544904,"display_name":"Sihan Tawsik"},"score":0,"creation_date":1551102072,"post_id":54867087,"comment_id":96505305,"body_markdown":"@amedina I have edited my post. The main issue is that, I am not allowed to use the InetAddress library in this code. How to send the DatagramPacket without using InetAddress?","body":"@amedina I have edited my post. The main issue is that, I am not allowed to use the InetAddress library in this code. How to send the DatagramPacket without using InetAddress?"},{"owner":{"account_id":14765621,"reputation":478,"user_id":10663762,"display_name":"Ctorres"},"score":0,"creation_date":1551102202,"post_id":54867087,"comment_id":96505389,"body_markdown":"Why can&#39;t you use the library?","body":"Why can&#39;t you use the library?"},{"owner":{"account_id":13216600,"reputation":423,"user_id":9544904,"display_name":"Sihan Tawsik"},"score":0,"creation_date":1551102346,"post_id":54867087,"comment_id":96505486,"body_markdown":"@Ctorres, to be honest, I am doing an academic project and the manual said, using InetAddress library is forbidden.","body":"@Ctorres, to be honest, I am doing an academic project and the manual said, using InetAddress library is forbidden."},{"owner":{"account_id":14765621,"reputation":478,"user_id":10663762,"display_name":"Ctorres"},"score":0,"creation_date":1551102471,"post_id":54867087,"comment_id":96505561,"body_markdown":"That explain a lot! Haha. Sorry, I can&#39;t help you, I though it was just a missing dependency problem. Goodluck!","body":"That explain a lot! Haha. Sorry, I can&#39;t help you, I though it was just a missing dependency problem. Goodluck!"},{"owner":{"account_id":13216600,"reputation":423,"user_id":9544904,"display_name":"Sihan Tawsik"},"score":0,"creation_date":1551102524,"post_id":54867087,"comment_id":96505596,"body_markdown":"Oh. No problem. Thanks anyways :D @Ctorres","body":"Oh. No problem. Thanks anyways :D @Ctorres"},{"owner":{"account_id":14765621,"reputation":478,"user_id":10663762,"display_name":"Ctorres"},"score":0,"creation_date":1551102578,"post_id":54867087,"comment_id":96505629,"body_markdown":"If I was you, I would probably check what this function does exactly and tried to do something similar with my own function.","body":"If I was you, I would probably check what this function does exactly and tried to do something similar with my own function."},{"owner":{"account_id":13216600,"reputation":423,"user_id":9544904,"display_name":"Sihan Tawsik"},"score":0,"creation_date":1551102641,"post_id":54867087,"comment_id":96505667,"body_markdown":"Thanks for the suggestion :D @Ctorres","body":"Thanks for the suggestion :D @Ctorres"},{"owner":{"account_id":14765621,"reputation":478,"user_id":10663762,"display_name":"Ctorres"},"score":0,"creation_date":1551102804,"post_id":54867087,"comment_id":96505783,"body_markdown":"Answer your own question if you finally do it, this could help someone! ;)","body":"Answer your own question if you finally do it, this could help someone! ;)"}],"answers":[{"tags":[],"owner":{"account_id":13216600,"reputation":423,"user_id":9544904,"display_name":"Sihan Tawsik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1551109121,"creation_date":1551102917,"answer_id":54867804,"question_id":54867087,"body_markdown":"The simplest way is to figure out what the function really does and implement the method manually for learning purposes.","title":"Send DNS queries in Java without using InetAddress","body":"<p>The simplest way is to figure out what the function really does and implement the method manually for learning purposes.</p>\n"}],"owner":{"account_id":13216600,"reputation":423,"user_id":9544904,"display_name":"Sihan Tawsik"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54867804,"answer_count":1,"score":1,"last_activity_date":1675353893,"creation_date":1551100527,"question_id":54867087,"body_markdown":"I am trying to send DNS queries to a DNS root server(eg. 192.58.128.30) using JAVA. But the thing is, I am not allowed to use library functions like InetAddress.getByName(), how to proceed?\r\n\r\nI have tried this so far:\r\n\r\n        public class Main{\r\n\t        public static void main(String[] args) {\r\n\t\t        DatagramSocket client = new DatagramSocket();\r\n\r\n\t\t        String rawMessage = &quot;example message&quot;;\r\n\t\t        byte[] message = rawMessage.getBytes(); //converting the message into a byte array\r\n\r\n\t\t        //creating datagram packet\r\n\t\t        DatagramPacket packet =\r\n\t\t\t\tnew DatagramPacket(rawMessage,rawMessage.length,InetAddress.getByName(&quot;192.58.128.30&quot;),53);\r\n\r\n\t\t        //sending packet using datagramSocket\r\n\t\t        client.send(packet);\r\n\r\n\t        }\r\n        }\r\n\r\nEDIT: The issue was solved.","title":"Send DNS queries in Java without using InetAddress","body":"<p>I am trying to send DNS queries to a DNS root server(eg. 192.58.128.30) using JAVA. But the thing is, I am not allowed to use library functions like InetAddress.getByName(), how to proceed?</p>\n<p>I have tried this so far:</p>\n<pre><code>    public class Main{\n        public static void main(String[] args) {\n            DatagramSocket client = new DatagramSocket();\n\n            String rawMessage = &quot;example message&quot;;\n            byte[] message = rawMessage.getBytes(); //converting the message into a byte array\n\n            //creating datagram packet\n            DatagramPacket packet =\n            new DatagramPacket(rawMessage,rawMessage.length,InetAddress.getByName(&quot;192.58.128.30&quot;),53);\n\n            //sending packet using datagramSocket\n            client.send(packet);\n\n        }\n    }\n</code></pre>\n<p>EDIT: The issue was solved.</p>\n"},{"tags":["java","spring-boot","annotations","aop","spring-cloud-config"],"answers":[{"tags":[],"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675351204,"creation_date":1675350063,"answer_id":75325050,"question_id":75297636,"body_markdown":"If your question is about evaluating a Spel variable reference programmatically in your aspect, here&#39;s what you can do:\r\n\r\n**Aspect**\r\n\r\n```java\r\n@Aspect\r\n@Component\r\npublic class TraceableAspect {\r\n    private final EmbeddedValueResolver embeddedValueResolver;\r\n\r\n    public TraceableAspect(ConfigurableBeanFactory beanFactory) {\r\n        this.embeddedValueResolver = new EmbeddedValueResolver(beanFactory);\r\n    }\r\n\r\n    // use your actual Traceable package name here\r\n    @Before(value = &quot;@annotation(your.package.Traceable)&quot;)\r\n    public void handleTraceable(JoinPoint joinPoint) {\r\n        MethodSignature signature = (MethodSignature) joinPoint.getSignature();\r\n        Method method = signature.getMethod();\r\n        Traceable traceable = method.getAnnotation(Traceable.class);\r\n        String urlExpression = traceable.url();\r\n        String url = embeddedValueResolver.resolveStringValue(urlExpression);\r\n\r\n        // your code that uses the resolved `url` ...\r\n    }\r\n}\r\n```\r\n\r\nAlso, you can just make your aspect implement a `EmbeddedValueResolverAware` interface and get the resolver injected by Spring for you instead of creating it manually.\r\n\r\nJust for completeness:\r\n\r\n**Traceable annotation**\r\n\r\n```java\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface Traceable {\r\n    String url();\r\n}\r\n```\r\n\r\n**application.yaml**\r\n\r\n```yaml\r\nurl.external: http://stackoverflow.com\r\n```\r\n\r\nMake sure to have the `org.springframework.boot:spring-boot-starter-aop` dependency in your project if you don&#39;t have it already.","title":"How to send a variable from yml as an attribute for custom annotation in Spring Boot projects?","body":"<p>If your question is about evaluating a Spel variable reference programmatically in your aspect, here's what you can do:</p>\n<p><strong>Aspect</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Component\npublic class TraceableAspect {\n    private final EmbeddedValueResolver embeddedValueResolver;\n\n    public TraceableAspect(ConfigurableBeanFactory beanFactory) {\n        this.embeddedValueResolver = new EmbeddedValueResolver(beanFactory);\n    }\n\n    // use your actual Traceable package name here\n    @Before(value = &quot;@annotation(your.package.Traceable)&quot;)\n    public void handleTraceable(JoinPoint joinPoint) {\n        MethodSignature signature = (MethodSignature) joinPoint.getSignature();\n        Method method = signature.getMethod();\n        Traceable traceable = method.getAnnotation(Traceable.class);\n        String urlExpression = traceable.url();\n        String url = embeddedValueResolver.resolveStringValue(urlExpression);\n\n        // your code that uses the resolved `url` ...\n    }\n}\n</code></pre>\n<p>Also, you can just make your aspect implement a <code>EmbeddedValueResolverAware</code> interface and get the resolver injected by Spring for you instead of creating it manually.</p>\n<p>Just for completeness:</p>\n<p><strong>Traceable annotation</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface Traceable {\n    String url();\n}\n</code></pre>\n<p><strong>application.yaml</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>url.external: http://stackoverflow.com\n</code></pre>\n<p>Make sure to have the <code>org.springframework.boot:spring-boot-starter-aop</code> dependency in your project if you don't have it already.</p>\n"}],"owner":{"account_id":2090997,"reputation":840,"user_id":7516740,"display_name":"elvis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":605,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75325050,"answer_count":1,"score":0,"last_activity_date":1675353770,"creation_date":1675170402,"question_id":75297636,"body_markdown":"I want to create a custom annotation to use it in Spring Boot projects at methods from RestController. I&#39;ll use a Before Advice to create it and I want send information to the advice. I want to use a variable url and this variable can have 2 different values for 2 different environments, so I want to configure it inside cloud config on the application.yml of the service and send it as an attribute to the external library. The business logic for the annotation will be implemented in an outside library and I&#39;ll import the dependency in all the services. \r\n\r\n    @PostMapping(&quot;/test&quot;)\r\n    @Traceable(url = &quot;${url.external}&quot;)\r\n    public Data test(@RequestBody Data data, HttpServletRequest servletRequest) {\r\n    \r\n        System.out.println(&quot;Inside controller, data = &quot; + data);\r\n    \r\n        return data;\r\n    }\r\n\r\nI know how to send a constant or how to send the variable `data` as attributes. But I don&#39;t know how to send a value from application.yml as an attribute. I want to send this variable from the application.yml of the microservice because the external library isn&#39;t a Spring Boot project and it doesn&#39;t have an application.yml. How can I do that? Thank you!   ","title":"How to send a variable from yml as an attribute for custom annotation in Spring Boot projects?","body":"<p>I want to create a custom annotation to use it in Spring Boot projects at methods from RestController. I'll use a Before Advice to create it and I want send information to the advice. I want to use a variable url and this variable can have 2 different values for 2 different environments, so I want to configure it inside cloud config on the application.yml of the service and send it as an attribute to the external library. The business logic for the annotation will be implemented in an outside library and I'll import the dependency in all the services.</p>\n<pre><code>@PostMapping(&quot;/test&quot;)\n@Traceable(url = &quot;${url.external}&quot;)\npublic Data test(@RequestBody Data data, HttpServletRequest servletRequest) {\n\n    System.out.println(&quot;Inside controller, data = &quot; + data);\n\n    return data;\n}\n</code></pre>\n<p>I know how to send a constant or how to send the variable <code>data</code> as attributes. But I don't know how to send a value from application.yml as an attribute. I want to send this variable from the application.yml of the microservice because the external library isn't a Spring Boot project and it doesn't have an application.yml. How can I do that? Thank you!</p>\n"},{"tags":["java","android-studio","android-tiramisu"],"owner":{"account_id":16384215,"reputation":3,"user_id":11834491,"display_name":"Davit Tevzadze"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675353717,"creation_date":1675353587,"question_id":75325792,"body_markdown":"```\r\nIntent intent = new Intent(&quot;android.intent.action.VIEW&quot;);\r\nintent.setComponent(ComponentName.unflattenFromString(&quot;com.google.android.apps.maps/com.google.android.maps.MapsActivity&quot;));                  \r\nintent.setData(Uri.parse(&quot;https://www.google.com/maps/...My Googl Map URL...&quot;));\r\nstartActivity(intent);\r\n```\r\n\r\nI have no idea what happened, but after upgrading to Android version 13 Tiramisu, my app stopped functioning as a result of the Google Maps app not opening and crashing.\r\n\r\nOn a previous version, the same app is perfect.","title":"On Android version 13 tiramisu, the Google Maps app won&#39;t launch and crashes. The same code is perfectly functional in the remaining versions","body":"<pre><code>Intent intent = new Intent(&quot;android.intent.action.VIEW&quot;);\nintent.setComponent(ComponentName.unflattenFromString(&quot;com.google.android.apps.maps/com.google.android.maps.MapsActivity&quot;));                  \nintent.setData(Uri.parse(&quot;https://www.google.com/maps/...My Googl Map URL...&quot;));\nstartActivity(intent);\n</code></pre>\n<p>I have no idea what happened, but after upgrading to Android version 13 Tiramisu, my app stopped functioning as a result of the Google Maps app not opening and crashing.</p>\n<p>On a previous version, the same app is perfect.</p>\n"},{"tags":["java","maven","sonarqube"],"answers":[{"tags":[],"owner":{"account_id":5850921,"reputation":1533,"user_id":4609621,"display_name":"Jasper Huzen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579737399,"creation_date":1579737399,"answer_id":59869883,"question_id":59863814,"body_markdown":"Your command is wrong:\r\n\r\n    mvn sonar : sonar   // WRONG\r\n\r\nRemove the spacers between sonar and sonar and add the Sonar server address:\r\n\r\n    mvn sonar:sonar -Dsonar.host.url=https://mysonarserver:9000\r\n\r\nThe sonar server configuration can also be configured in the pom.xml file (add in the properties section)\r\n\r\n    &lt;properties&gt;\r\n        ...\r\n        &lt;sonar.host.url&gt;https://mysonarserver:9000&lt;/sonar.host.url&gt;\r\n    &lt;/properties&gt;","title":"SonarQube - mvn sonar : sonar - NoSuchElementException","body":"<p>Your command is wrong:</p>\n\n<pre><code>mvn sonar : sonar   // WRONG\n</code></pre>\n\n<p>Remove the spacers between sonar and sonar and add the Sonar server address:</p>\n\n<pre><code>mvn sonar:sonar -Dsonar.host.url=https://mysonarserver:9000\n</code></pre>\n\n<p>The sonar server configuration can also be configured in the pom.xml file (add in the properties section)</p>\n\n<pre><code>&lt;properties&gt;\n    ...\n    &lt;sonar.host.url&gt;https://mysonarserver:9000&lt;/sonar.host.url&gt;\n&lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1073699,"reputation":133,"user_id":1073665,"display_name":"bilgin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675353562,"creation_date":1675353562,"answer_id":75325788,"question_id":59863814,"body_markdown":"Command mvn sonar scanner on windows\r\n````\r\nmvn sonar:sonar `\r\n  &quot;-Dsonar.projectKey=xxxxx&quot; `\r\n  &quot;-Dsonar.host.url=http://local:9000&quot; `\r\n  &quot;-Dsonar.login=xxxxxxxxx&quot;\r\n\r\n````\r\nLinux\r\nAfter adding project on sonar console manualy,sonar will give you the next command. \r\n````\r\nmvn sonar:sonar \\\r\n  &quot;-Dsonar.projectKey=xxxxx&quot; \\\r\n  &quot;-Dsonar.host.url=http://localhost:9000&quot; \\\r\n  &quot;-Dsonar.login=xxxxxxxxx&quot;\r\n\r\n````\r\n\r\nYou can also put url/host/login in pom file or env config.","title":"SonarQube - mvn sonar : sonar - NoSuchElementException","body":"<p>Command mvn sonar scanner on windows</p>\n<pre><code>mvn sonar:sonar `\n  &quot;-Dsonar.projectKey=xxxxx&quot; `\n  &quot;-Dsonar.host.url=http://local:9000&quot; `\n  &quot;-Dsonar.login=xxxxxxxxx&quot;\n\n</code></pre>\n<p>Linux\nAfter adding project on sonar console manualy,sonar will give you the next command.</p>\n<pre><code>mvn sonar:sonar \\\n  &quot;-Dsonar.projectKey=xxxxx&quot; \\\n  &quot;-Dsonar.host.url=http://localhost:9000&quot; \\\n  &quot;-Dsonar.login=xxxxxxxxx&quot;\n\n</code></pre>\n<p>You can also put url/host/login in pom file or env config.</p>\n"}],"owner":{"account_id":16689579,"reputation":5,"user_id":12062538,"display_name":"jantje smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":765,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675353562,"creation_date":1579709170,"question_id":59863814,"body_markdown":"I have a project on SonarQube but when I try to update it with the follow command in the terminal it gets me the this error :\r\n\r\n&gt; [ERROR] NoSuchElementException\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n\r\n\r\nI have searched online but apparently nobody knows the answer, so I thought I&#39;d give it a try.\r\n\r\nI have the following project structure:\r\n\r\n - Project name\r\n  - Dal\r\n  - SharedModel\r\n  - WebsocketClient\r\n  - WebsocketServer\r\n\r\nSo in total I have 4 modules. My main pom.xml looks like this :\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;2.1.8.RELEASE&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n  &lt;groupId&gt;myproject.nl&lt;/groupId&gt;\r\n  &lt;artifactId&gt;myproject&lt;/artifactId&gt;\r\n  &lt;packaging&gt;pom&lt;/packaging&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;modules&gt;\r\n    &lt;module&gt;websocketserver&lt;/module&gt;\r\n    &lt;module&gt;websocketsclient&lt;/module&gt;\r\n    &lt;module&gt;sharedmodel&lt;/module&gt;\r\n    &lt;module&gt;Dal&lt;/module&gt;\r\n  &lt;/modules&gt;\r\n  &lt;name&gt;PartieKo&lt;/name&gt;\r\n\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2.17&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n      &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- JUnit 5 --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n      &lt;version&gt;5.5.2&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;11&lt;/source&gt;\r\n          &lt;target&gt;11&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0-M3&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n","title":"SonarQube - mvn sonar : sonar - NoSuchElementException","body":"<p>I have a project on SonarQube but when I try to update it with the follow command in the terminal it gets me the this error :</p>\n\n<blockquote>\n  <p>[ERROR] NoSuchElementException\n  [ERROR]\n  [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n  [ERROR] Re-run Maven using the -X switch to enable full debug logging.</p>\n</blockquote>\n\n<p>I have searched online but apparently nobody knows the answer, so I thought I'd give it a try.</p>\n\n<p>I have the following project structure:</p>\n\n<ul>\n<li>Project name\n\n<ul>\n<li>Dal</li>\n<li>SharedModel</li>\n<li>WebsocketClient</li>\n<li>WebsocketServer</li>\n</ul></li>\n</ul>\n\n<p>So in total I have 4 modules. My main pom.xml looks like this :</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.1.8.RELEASE&lt;/version&gt;\n  &lt;/parent&gt;\n  &lt;groupId&gt;myproject.nl&lt;/groupId&gt;\n  &lt;artifactId&gt;myproject&lt;/artifactId&gt;\n  &lt;packaging&gt;pom&lt;/packaging&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;modules&gt;\n    &lt;module&gt;websocketserver&lt;/module&gt;\n    &lt;module&gt;websocketsclient&lt;/module&gt;\n    &lt;module&gt;sharedmodel&lt;/module&gt;\n    &lt;module&gt;Dal&lt;/module&gt;\n  &lt;/modules&gt;\n  &lt;name&gt;PartieKo&lt;/name&gt;\n\n\n  &lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n      &lt;version&gt;1.2.17&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n      &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- JUnit 5 --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n      &lt;version&gt;5.5.2&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;11&lt;/source&gt;\n          &lt;target&gt;11&lt;/target&gt;\n        &lt;/configuration&gt;\n\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-M3&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":3310457,"reputation":407,"user_id":4151158,"accept_rate":50,"display_name":"Mariusz Mczkowski"},"score":1,"creation_date":1465687999,"post_id":37769344,"comment_id":63007308,"body_markdown":"I parse this json string with standard:\n`new Gson().fromJson(jsonString, WholeObjectClass.class)`\nI think its weird situation while the same field can have different types.","body":"I parse this json string with standard: <code>new Gson().fromJson(jsonString, WholeObjectClass.class)</code> I think its weird situation while the same field can have different types."},{"owner":{"account_id":249250,"reputation":7617,"user_id":525179,"accept_rate":90,"display_name":"everton"},"score":2,"creation_date":1465688262,"post_id":37769344,"comment_id":63007352,"body_markdown":"Share your mapped object class code.","body":"Share your mapped object class code."},{"owner":{"account_id":3310457,"reputation":407,"user_id":4151158,"accept_rate":50,"display_name":"Mariusz Mczkowski"},"score":0,"creation_date":1465726678,"post_id":37769344,"comment_id":63013937,"body_markdown":"I added java class code. The problem is that first object in json has string instead of array of string. Json is provided by external api.","body":"I added java class code. The problem is that first object in json has string instead of array of string. Json is provided by external api."}],"answers":[{"tags":[],"owner":{"account_id":1932473,"reputation":3546,"user_id":1741586,"accept_rate":25,"display_name":"Neo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465726833,"creation_date":1465726833,"answer_id":37773112,"question_id":37769344,"body_markdown":"The json is not in proper format, it should be :\r\n\r\n    [{\r\n      &quot;label&quot;: &quot;Check Digit&quot;,\r\n      &quot;value&quot;: [&quot;W&quot;]\r\n    },\r\n    {\r\n      &quot;label&quot;: &quot;Equipment&quot;,\r\n      &quot;value&quot;: [\r\n        &quot;With Standard Liftgate&quot;,\r\n        &quot;(-) Version Packages&quot;\r\n      ]\r\n    }]\r\n\r\nAgain your parser class should be : \r\n\r\n    public class Decode {\r\n    \r\n        private String label;\r\n        private String[] value;\r\n    \r\n        public String getLabel() {\r\n            return label;\r\n        }\r\n    \r\n        public void setLabel(String label) {\r\n            this.label = label;\r\n        }\r\n    \r\n        public String[] getValue() {\r\n            return value;\r\n        }\r\n    \r\n        public void setValue(String[] value) {\r\n            this.value = value;\r\n        }\r\n    \r\n    }\r\n\r\nHope it will help :)\r\n\r\n","title":"Gson - parsing json with field that is array or string","body":"<p>The json is not in proper format, it should be :</p>\n\n<pre><code>[{\n  \"label\": \"Check Digit\",\n  \"value\": [\"W\"]\n},\n{\n  \"label\": \"Equipment\",\n  \"value\": [\n    \"With Standard Liftgate\",\n    \"(-) Version Packages\"\n  ]\n}]\n</code></pre>\n\n<p>Again your parser class should be : </p>\n\n<pre><code>public class Decode {\n\n    private String label;\n    private String[] value;\n\n    public String getLabel() {\n        return label;\n    }\n\n    public void setLabel(String label) {\n        this.label = label;\n    }\n\n    public String[] getValue() {\n        return value;\n    }\n\n    public void setValue(String[] value) {\n        this.value = value;\n    }\n\n}\n</code></pre>\n\n<p>Hope it will help :)</p>\n"},{"tags":[],"owner":{"account_id":7796007,"reputation":2642,"user_id":5897065,"display_name":"Sanjeev Saha"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1465729376,"creation_date":1465729376,"answer_id":37773463,"question_id":37769344,"body_markdown":"My suggestion is as follows:-\r\n\r\nStep 1: Please make following little changes to your `Decode` class.\r\n\r\nDecode.java\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    public class Decode {\r\n\r\n\tprivate String label;\r\n\tprivate List&lt;String&gt; values = new ArrayList&lt;&gt;(); // in json it is &quot;value&quot;\r\n\r\n\tpublic String getLabel() {\r\n\t\treturn label;\r\n \t}\r\n\r\n\tpublic void setLabel(String label) {\r\n\t\tthis.label = label;\r\n \t}\r\n\r\n\tpublic List&lt;String&gt; getValues() {\r\n\t\treturn values;\r\n\t }\r\n\r\n\tpublic void setValues(List&lt;String&gt; values) {\r\n\t\tthis.values = values;\r\n\t }\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Decode [label=&quot; + label + &quot;, values=&quot; + values + &quot;]&quot;;\r\n\t }\r\n\r\n    }\r\n\r\n\r\nStep 2: Please create following `JsonDeserializer`.\r\n\r\nMyDeserializer.java\r\n\r\n    import java.lang.reflect.Type;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    import com.google.gson.Gson;\r\n    import com.google.gson.JsonDeserializationContext;\r\n    import com.google.gson.JsonDeserializer;\r\n    import com.google.gson.JsonElement;\r\n    import com.google.gson.JsonObject;\r\n    import com.google.gson.JsonParseException;\r\n    import com.google.gson.reflect.TypeToken;\r\n\r\n    public class MyDeserializer implements JsonDeserializer&lt;Decode&gt; {\r\n\r\n\t@Override\r\n\tpublic Decode deserialize(JsonElement arg0, Type arg1, JsonDeserializationContext arg2) throws JsonParseException {\r\n\t\tJsonObject decodeObj = arg0.getAsJsonObject();\r\n\t\tGson gson = new Gson();\r\n\t\tDecode decode = gson.fromJson(arg0, Decode.class);\r\n\t\tList&lt;String&gt; values = null;\r\n\t\tif (decodeObj.get(&quot;value&quot;).isJsonArray()) {\r\n\t\t\tvalues = gson.fromJson(decodeObj.get(&quot;value&quot;), new TypeToken&lt;List&lt;String&gt;&gt;() {\r\n\t\t\t}.getType());\r\n\t\t} else {\r\n\t\t\tString single = gson.fromJson(decodeObj.get(&quot;value&quot;), String.class);\r\n\t\t\tvalues = new ArrayList&lt;String&gt;();\r\n\t\t\tvalues.add(single);\r\n\t\t}\r\n\t\tdecode.setValues(values);\r\n\t\treturn decode;\r\n\t }\r\n\r\n    }\r\n\r\n\r\nStep 3: Now its time to `deserialize` your json as follows:\r\n\r\nGsonMain.java\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.util.Arrays;\r\n\r\n    import com.google.gson.GsonBuilder;\r\n\r\n    public class GsonMain{\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tString filename = &quot;d:/test.json&quot;; // contains the json\r\n\t\tString content = new String(Files.readAllBytes(new File(filename).toPath()));\r\n\r\n\t\tGsonBuilder b = new GsonBuilder();\r\n\t\tb.registerTypeAdapter(Decode.class, new MyDeserializer());\r\n\t\tDecode[] array = b.create().fromJson(content, Decode[].class);\r\n\t\tSystem.out.println(Arrays.toString(array));\r\n\t  }\r\n\r\n     }\r\n\r\n\r\n\r\n\r\n","title":"Gson - parsing json with field that is array or string","body":"<p>My suggestion is as follows:-</p>\n\n<p>Step 1: Please make following little changes to your <code>Decode</code> class.</p>\n\n<p>Decode.java</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Decode {\n\nprivate String label;\nprivate List&lt;String&gt; values = new ArrayList&lt;&gt;(); // in json it is \"value\"\n\npublic String getLabel() {\n    return label;\n}\n\npublic void setLabel(String label) {\n    this.label = label;\n}\n\npublic List&lt;String&gt; getValues() {\n    return values;\n }\n\npublic void setValues(List&lt;String&gt; values) {\n    this.values = values;\n }\n\n@Override\npublic String toString() {\n    return \"Decode [label=\" + label + \", values=\" + values + \"]\";\n }\n\n}\n</code></pre>\n\n<p>Step 2: Please create following <code>JsonDeserializer</code>.</p>\n\n<p>MyDeserializer.java</p>\n\n<pre><code>import java.lang.reflect.Type;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport com.google.gson.Gson;\nimport com.google.gson.JsonDeserializationContext;\nimport com.google.gson.JsonDeserializer;\nimport com.google.gson.JsonElement;\nimport com.google.gson.JsonObject;\nimport com.google.gson.JsonParseException;\nimport com.google.gson.reflect.TypeToken;\n\npublic class MyDeserializer implements JsonDeserializer&lt;Decode&gt; {\n\n@Override\npublic Decode deserialize(JsonElement arg0, Type arg1, JsonDeserializationContext arg2) throws JsonParseException {\n    JsonObject decodeObj = arg0.getAsJsonObject();\n    Gson gson = new Gson();\n    Decode decode = gson.fromJson(arg0, Decode.class);\n    List&lt;String&gt; values = null;\n    if (decodeObj.get(\"value\").isJsonArray()) {\n        values = gson.fromJson(decodeObj.get(\"value\"), new TypeToken&lt;List&lt;String&gt;&gt;() {\n        }.getType());\n    } else {\n        String single = gson.fromJson(decodeObj.get(\"value\"), String.class);\n        values = new ArrayList&lt;String&gt;();\n        values.add(single);\n    }\n    decode.setValues(values);\n    return decode;\n }\n\n}\n</code></pre>\n\n<p>Step 3: Now its time to <code>deserialize</code> your json as follows:</p>\n\n<p>GsonMain.java</p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.util.Arrays;\n\nimport com.google.gson.GsonBuilder;\n\npublic class GsonMain{\npublic static void main(String[] args) throws IOException {\n    String filename = \"d:/test.json\"; // contains the json\n    String content = new String(Files.readAllBytes(new File(filename).toPath()));\n\n    GsonBuilder b = new GsonBuilder();\n    b.registerTypeAdapter(Decode.class, new MyDeserializer());\n    Decode[] array = b.create().fromJson(content, Decode[].class);\n    System.out.println(Arrays.toString(array));\n  }\n\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19603461,"reputation":189,"user_id":14347713,"display_name":"shopkeeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636266316,"creation_date":1636170216,"answer_id":69861291,"question_id":37769344,"body_markdown":"I had the same problem, but the returned json results were more complex.\r\nI just defined those fields with uncertain types as Object type, with a little processing in the getter method.\r\n```\r\npublic class POI {\r\n    @SerializedName(&quot;address&quot;)\r\n    private Object rawAddress;\r\n    @SerializedName(&quot;tel&quot;)\r\n    private Object rawTel;\r\n\r\n    //    these two variables are used, parsed from rawXXX\r\n    private ArrayList&lt;String&gt; addresses;\r\n    private ArrayList&lt;String&gt; tels;\r\n\r\n    public ArrayList&lt;String&gt; getAddresses() {\r\n        if (null == addresses) {\r\n            addresses = new ArrayList&lt;&gt;();\r\n            if (rawAddress instanceof ArrayList&lt;?&gt;) {\r\n                for (Object o : (ArrayList&lt;?&gt;) rawAddress) {\r\n                    if (o instanceof String) {\r\n                        addresses.add((String) o);\r\n                    }\r\n                }\r\n            } else if (rawAddress instanceof String) {\r\n                addresses.add((String) rawAddress);\r\n            }\r\n        }\r\n        return addresses;\r\n    }\r\n\r\n    public ArrayList&lt;String&gt; getTels() {\r\n        if (null == tels) {\r\n            tels = new ArrayList&lt;&gt;();\r\n            if (rawTel instanceof ArrayList&lt;?&gt;) {\r\n                for (Object o : (ArrayList&lt;?&gt;) rawTel) {\r\n                    if (o instanceof String) {\r\n                        tels.add((String) o);\r\n                    }\r\n                }\r\n            } else if (rawTel instanceof String) {\r\n                tels.add((String) rawTel);\r\n            }\r\n        }\r\n        return tels;\r\n    }\r\n\r\n    public Object getRawAddress() {\r\n        return rawAddress;\r\n    }\r\n\r\n    public void setRawAddress(Object rawAddress) {\r\n        this.rawAddress = rawAddress;\r\n    }\r\n\r\n    public Object getRawTel() {\r\n        return rawTel;\r\n    }\r\n\r\n    public void setRawTel(Object rawTel) {\r\n        this.rawTel = rawTel;\r\n    }\r\n}\r\n```\r\nHope to help you.","title":"Gson - parsing json with field that is array or string","body":"<p>I had the same problem, but the returned json results were more complex.\nI just defined those fields with uncertain types as Object type, with a little processing in the getter method.</p>\n<pre><code>public class POI {\n    @SerializedName(&quot;address&quot;)\n    private Object rawAddress;\n    @SerializedName(&quot;tel&quot;)\n    private Object rawTel;\n\n    //    these two variables are used, parsed from rawXXX\n    private ArrayList&lt;String&gt; addresses;\n    private ArrayList&lt;String&gt; tels;\n\n    public ArrayList&lt;String&gt; getAddresses() {\n        if (null == addresses) {\n            addresses = new ArrayList&lt;&gt;();\n            if (rawAddress instanceof ArrayList&lt;?&gt;) {\n                for (Object o : (ArrayList&lt;?&gt;) rawAddress) {\n                    if (o instanceof String) {\n                        addresses.add((String) o);\n                    }\n                }\n            } else if (rawAddress instanceof String) {\n                addresses.add((String) rawAddress);\n            }\n        }\n        return addresses;\n    }\n\n    public ArrayList&lt;String&gt; getTels() {\n        if (null == tels) {\n            tels = new ArrayList&lt;&gt;();\n            if (rawTel instanceof ArrayList&lt;?&gt;) {\n                for (Object o : (ArrayList&lt;?&gt;) rawTel) {\n                    if (o instanceof String) {\n                        tels.add((String) o);\n                    }\n                }\n            } else if (rawTel instanceof String) {\n                tels.add((String) rawTel);\n            }\n        }\n        return tels;\n    }\n\n    public Object getRawAddress() {\n        return rawAddress;\n    }\n\n    public void setRawAddress(Object rawAddress) {\n        this.rawAddress = rawAddress;\n    }\n\n    public Object getRawTel() {\n        return rawTel;\n    }\n\n    public void setRawTel(Object rawTel) {\n        this.rawTel = rawTel;\n    }\n}\n</code></pre>\n<p>Hope to help you.</p>\n"},{"tags":[],"owner":{"account_id":2106041,"reputation":2316,"user_id":1872349,"display_name":"Raphael C"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675353091,"creation_date":1675353091,"answer_id":75325689,"question_id":37769344,"body_markdown":"the Decode solution is the cleanest, but if you don&#39;t plan on using the model for anything else than deserializing, you could just declare the field as\r\n```kotlin\r\nval myField: Any?\r\n```\r\n\r\nand then to read the value:\r\n```kotlin\r\nwhen (myField) {\r\n    is List&lt;*&gt; -&gt; {}\r\n    is String -&gt; {}\r\n}\r\n```","title":"Gson - parsing json with field that is array or string","body":"<p>the Decode solution is the cleanest, but if you don't plan on using the model for anything else than deserializing, you could just declare the field as</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val myField: Any?\n</code></pre>\n<p>and then to read the value:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>when (myField) {\n    is List&lt;*&gt; -&gt; {}\n    is String -&gt; {}\n}\n</code></pre>\n"}],"owner":{"account_id":3310457,"reputation":407,"user_id":4151158,"accept_rate":50,"display_name":"Mariusz Mczkowski"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5643,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"accepted_answer_id":37773463,"answer_count":4,"score":5,"last_activity_date":1675353091,"creation_date":1465687283,"question_id":37769344,"body_markdown":"I&#39;m trying to parse some json with Gson and I have following problem:\r\n\r\nThis is my json:\r\n\r\n    [{\r\n      &quot;label&quot;: &quot;Check Digit&quot;,\r\n      &quot;value&quot;: &quot;W&quot;\r\n    },\r\n    {\r\n      &quot;label&quot;: &quot;Equipment&quot;,\r\n      &quot;value&quot;: [\r\n        &quot;With Standard Liftgate&quot;,\r\n        &quot;(-) Version Packages&quot;\r\n      ]\r\n    }]\r\n    \r\n\r\nThis is my java class:\r\n\r\n    public class Decode {\r\n    \r\n        private String label;\r\n        private List&lt;String&gt; value = new ArrayList&lt;&gt;();\r\n    \r\n        public String getLabel() {\r\n            return label;\r\n        }\r\n    \r\n        public void setLabel(String label) {\r\n            this.label = label;\r\n        }\r\n    \r\n        public List&lt;String&gt; getValue() {\r\n            return value;\r\n        }\r\n    \r\n        public void setValue(List&lt;String&gt; value) {\r\n            this.value = value;\r\n        }\r\n    \r\n    }\r\n\r\nHow to make Gson to parse it and use `value` as Array of String always?\r\n\r\n\r\n\r\n\r\n","title":"Gson - parsing json with field that is array or string","body":"<p>I'm trying to parse some json with Gson and I have following problem:</p>\n\n<p>This is my json:</p>\n\n<pre><code>[{\n  \"label\": \"Check Digit\",\n  \"value\": \"W\"\n},\n{\n  \"label\": \"Equipment\",\n  \"value\": [\n    \"With Standard Liftgate\",\n    \"(-) Version Packages\"\n  ]\n}]\n</code></pre>\n\n<p>This is my java class:</p>\n\n<pre><code>public class Decode {\n\n    private String label;\n    private List&lt;String&gt; value = new ArrayList&lt;&gt;();\n\n    public String getLabel() {\n        return label;\n    }\n\n    public void setLabel(String label) {\n        this.label = label;\n    }\n\n    public List&lt;String&gt; getValue() {\n        return value;\n    }\n\n    public void setValue(List&lt;String&gt; value) {\n        this.value = value;\n    }\n\n}\n</code></pre>\n\n<p>How to make Gson to parse it and use <code>value</code> as Array of String always?</p>\n"},{"tags":["java","android-studio","datagridview"],"comments":[{"owner":{"account_id":7572920,"reputation":13,"user_id":5746152,"display_name":"UNN"},"score":0,"creation_date":1675356686,"post_id":75325439,"comment_id":132916178,"body_markdown":"With sortable I mean the capability, for next implementations.","body":"With sortable I mean the capability, for next implementations."},{"owner":{"account_id":7572920,"reputation":13,"user_id":5746152,"display_name":"UNN"},"score":0,"creation_date":1675356738,"post_id":75325439,"comment_id":132916199,"body_markdown":"Both ids are wrongly set to 1, obv I mean 1, 2","body":"Both ids are wrongly set to 1, obv I mean 1, 2"}],"owner":{"account_id":7572920,"reputation":13,"user_id":5746152,"display_name":"UNN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675351975,"creation_date":1675351975,"question_id":75325439,"body_markdown":"I&#39;m looking for a simple way to get a gridview with sortable headers (with captions) in Android Studio using Java. You know, like those in Visual Studio C# .Net, where you create a class, a List&lt;yourclass&gt;, you give the list to the gridview as a DataSource... nothing more verbose than this, something very simple to understand and clear to read, for people coming from VS.\r\n\r\nThanks for your precious time!\r\nM\r\n\r\nThis is the equivalent in VS2010 C# WinForms:\r\n\r\n\r\n```\r\nusing System;\r\nusing System.Collections.Generic;\r\nusing System.ComponentModel;\r\nusing System.Data;\r\nusing System.Drawing;\r\nusing System.Linq;\r\nusing System.Text;\r\nusing System.Windows.Forms;\r\n\r\nnamespace WindowsFormsApplication1\r\n{\r\n    public partial class Form1 : Form\r\n    {\r\n        public Form1()\r\n        {\r\n            InitializeComponent();\r\n        }\r\n\r\n        private void Form1_Shown(object sender, EventArgs e)\r\n        {\r\n            List&lt;Worker&gt; workers = new List&lt;Worker&gt;();\r\n\r\n            #region Fill the list\r\n            Worker w1 = new Worker();\r\n            w1.Id = 1;\r\n            w1.Nome = &quot;Mike&quot;;\r\n            w1.Dob = new DateTime(2000, 01, 01);\r\n\r\n            workers.Add(w1);\r\n\r\n            Worker w2 = new Worker();\r\n            w2.Id = 1;\r\n            w2.Nome = &quot;Jade&quot;;\r\n            w2.Dob = new DateTime(2002, 02, 02);\r\n\r\n            workers.Add(w2);\r\n            #endregion\r\n\r\n            dataGridView1.DataSource = workers.ToList();\r\n        }\r\n    }\r\n\r\n    public class Worker\r\n    {\r\n        private int _id;\r\n\r\n        public int Id\r\n        {\r\n            get { return _id; }\r\n            set { _id = value; }\r\n        }\r\n\r\n        private string _nome;\r\n\r\n        public string Nome\r\n        {\r\n            get { return _nome; }\r\n            set { _nome = value; }\r\n        }\r\n\r\n        private DateTime _dob;\r\n\r\n        public DateTime Dob\r\n        {\r\n            get { return _dob; }\r\n            set { _dob = value; }\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nThis is the result:\r\n[![enter image description here](https://i.stack.imgur.com/7Q1kP.png)](https://i.stack.imgur.com/7Q1kP.png)\r\n\r\n\r\nI don&#39;t have idea, the know-how, everything I&#39;ve seen I understand it&#39;s not what I want, and I think it should be something easy to write, it&#39;s not a flying shuttle.","title":"Android Studio Java equivalent of C# .Net WinForms DataGridView Object List DataSource","body":"<p>I'm looking for a simple way to get a gridview with sortable headers (with captions) in Android Studio using Java. You know, like those in Visual Studio C# .Net, where you create a class, a List, you give the list to the gridview as a DataSource... nothing more verbose than this, something very simple to understand and clear to read, for people coming from VS.</p>\n<p>Thanks for your precious time!\nM</p>\n<p>This is the equivalent in VS2010 C# WinForms:</p>\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Windows.Forms;\n\nnamespace WindowsFormsApplication1\n{\n    public partial class Form1 : Form\n    {\n        public Form1()\n        {\n            InitializeComponent();\n        }\n\n        private void Form1_Shown(object sender, EventArgs e)\n        {\n            List&lt;Worker&gt; workers = new List&lt;Worker&gt;();\n\n            #region Fill the list\n            Worker w1 = new Worker();\n            w1.Id = 1;\n            w1.Nome = &quot;Mike&quot;;\n            w1.Dob = new DateTime(2000, 01, 01);\n\n            workers.Add(w1);\n\n            Worker w2 = new Worker();\n            w2.Id = 1;\n            w2.Nome = &quot;Jade&quot;;\n            w2.Dob = new DateTime(2002, 02, 02);\n\n            workers.Add(w2);\n            #endregion\n\n            dataGridView1.DataSource = workers.ToList();\n        }\n    }\n\n    public class Worker\n    {\n        private int _id;\n\n        public int Id\n        {\n            get { return _id; }\n            set { _id = value; }\n        }\n\n        private string _nome;\n\n        public string Nome\n        {\n            get { return _nome; }\n            set { _nome = value; }\n        }\n\n        private DateTime _dob;\n\n        public DateTime Dob\n        {\n            get { return _dob; }\n            set { _dob = value; }\n        }\n    }\n\n\n}\n\n</code></pre>\n<p>This is the result:\n<a href=\"https://i.stack.imgur.com/7Q1kP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Q1kP.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't have idea, the know-how, everything I've seen I understand it's not what I want, and I think it should be something easy to write, it's not a flying shuttle.</p>\n"},{"tags":["java","json","spring","spring-boot"],"comments":[{"owner":{"account_id":11061465,"reputation":3057,"user_id":8149916,"display_name":"Adindu Stevens"},"score":0,"creation_date":1572681562,"post_id":58669243,"comment_id":103640651,"body_markdown":"for some reason the question was truncated, i&#39;m trying to delete it and ask it again","body":"for some reason the question was truncated, i&#39;m trying to delete it and ask it again"},{"owner":{"account_id":11061465,"reputation":3057,"user_id":8149916,"display_name":"Adindu Stevens"},"score":0,"creation_date":1572682262,"post_id":58669243,"comment_id":103640759,"body_markdown":"WOW @Andreas ,It worked! Would you move your comment to answer so that i accept it.","body":"WOW @Andreas ,It worked! Would you move your comment to answer so that i accept it."}],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1572682125,"creation_date":1572682125,"answer_id":58669331,"question_id":58669243,"body_markdown":"Try this:\r\n\r\n```\r\n@PostMapping(&quot;/url&quot;)\r\npublic ResponseEntity bookTickets(@RequestBody Map&lt;String, PeopleType&gt; peopleTypes, HttpSession session) {\r\n    Tickets tickets = new Tickets();\r\n    tickets.setPeopleTypes(peopleTypes);\r\n    ...\r\n}\r\n```\r\n\r\n**Or** try this:\r\n\r\n```\r\npublic class Tickets {\r\n    private Map&lt;String, PeopleType&gt; peopleTypes = new HashMap&lt;&gt;();\r\n\r\n    @JsonAnySetter\r\n    public void addPeopleType(String type, PeopleType peopleType) {\r\n        peopleTypes.put(type, peopleType);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@PostMapping(&quot;/url&quot;)\r\npublic ResponseEntity bookTickets(@RequestBody Tickets tickets, HttpSession session) {\r\n    ...\r\n}\r\n```","title":"How to bind JSON HashMap to the @RequestBody in spring boot","body":"<p>Try this:</p>\n\n<pre><code>@PostMapping(\"/url\")\npublic ResponseEntity bookTickets(@RequestBody Map&lt;String, PeopleType&gt; peopleTypes, HttpSession session) {\n    Tickets tickets = new Tickets();\n    tickets.setPeopleTypes(peopleTypes);\n    ...\n}\n</code></pre>\n\n<p><strong>Or</strong> try this:</p>\n\n<pre><code>public class Tickets {\n    private Map&lt;String, PeopleType&gt; peopleTypes = new HashMap&lt;&gt;();\n\n    @JsonAnySetter\n    public void addPeopleType(String type, PeopleType peopleType) {\n        peopleTypes.put(type, peopleType);\n    }\n}\n</code></pre>\n\n<pre><code>@PostMapping(\"/url\")\npublic ResponseEntity bookTickets(@RequestBody Tickets tickets, HttpSession session) {\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":11061465,"reputation":3057,"user_id":8149916,"display_name":"Adindu Stevens"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3386,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58669331,"answer_count":1,"score":1,"last_activity_date":1675351899,"creation_date":1572681213,"question_id":58669243,"body_markdown":"I want to bind this JSON structure\r\n\r\n    {\r\n    &quot;male&quot;: {\r\n        &quot;id&quot;: &quot;0001&quot;,\r\n        &quot;name&quot;: &quot;Emma&quot;,\r\n        &quot;pet&quot;: &quot;dog&quot;\r\n    },   \r\n    &quot;female&quot;: {\r\n        &quot;id&quot;: &quot;0001&quot;,\r\n        &quot;name&quot;: &quot;Cilia&quot;,\r\n        &quot;pet&quot;: &quot;cat&quot;\r\n    }\r\n    }\r\n\r\nTo java HashMap data structure using spring boot @RequestBody annotation. However, spring boot is not able to bind it, but if i receive the json as string and bind it manually to the HashMap it will succeed. Here is the HashMap \r\n```\r\npublic class Tickets {\r\n    \r\n    private HashMap&lt;String, PeopleType&gt; peopleTypes = new HashMap();\r\n}\r\n```\r\n\r\n```\r\npublic class PeopleType {\r\n\r\n    private String id;\r\n    \r\n    private String name;\r\n   \r\n    private String pet;\r\n}\r\n```\r\n\r\nHere is the controller\r\n\r\n```\r\n@PostMapping(&quot;/url&quot;)\r\npublic ResponseEntity bookTickets(@RequestBody Tickets tickets, HttpSession session) {\r\n...\r\n}\r\n```\r\n\r\nI removed all Getters and Setters for brevity","title":"How to bind JSON HashMap to the @RequestBody in spring boot","body":"<p>I want to bind this JSON structure</p>\n<pre><code>{\n&quot;male&quot;: {\n    &quot;id&quot;: &quot;0001&quot;,\n    &quot;name&quot;: &quot;Emma&quot;,\n    &quot;pet&quot;: &quot;dog&quot;\n},   \n&quot;female&quot;: {\n    &quot;id&quot;: &quot;0001&quot;,\n    &quot;name&quot;: &quot;Cilia&quot;,\n    &quot;pet&quot;: &quot;cat&quot;\n}\n}\n</code></pre>\n<p>To java HashMap data structure using spring boot @RequestBody annotation. However, spring boot is not able to bind it, but if i receive the json as string and bind it manually to the HashMap it will succeed. Here is the HashMap</p>\n<pre><code>public class Tickets {\n    \n    private HashMap&lt;String, PeopleType&gt; peopleTypes = new HashMap();\n}\n</code></pre>\n<pre><code>public class PeopleType {\n\n    private String id;\n    \n    private String name;\n   \n    private String pet;\n}\n</code></pre>\n<p>Here is the controller</p>\n<pre><code>@PostMapping(&quot;/url&quot;)\npublic ResponseEntity bookTickets(@RequestBody Tickets tickets, HttpSession session) {\n...\n}\n</code></pre>\n<p>I removed all Getters and Setters for brevity</p>\n"},{"tags":["java","barcode-scanner","google-mlkit"],"answers":[{"tags":[],"owner":{"account_id":26709621,"reputation":376,"user_id":20315230,"display_name":"SudoKoach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675270917,"creation_date":1675270917,"answer_id":75313689,"question_id":75313231,"body_markdown":"&gt; Try this. It works well on my Galaxy XCover 5 to read the format\r\n&gt; (4096), but not  the text (getRawValue()) for that format. Don&#39;t know\r\n&gt; why! No problem with QR-Code and Barcode EAN-13.\r\n\r\n\r\n    @ExperimentalGetImage //Notice: @ExperimentalGetImage.\r\n    public class BarCodeImageAnalyzer implements ImageAnalysis.Analyzer {\r\n    \r\n        private final BarcodeScanner scanner;\r\n    \r\n        public BarCodeImageAnalyzer() {\r\n    \r\n             scanner = BarcodeScanning.getClient();\r\n    \r\n        }\r\n    \r\n        @SuppressLint(&quot;SetTextI18n&quot;)\r\n        @Override\r\n        public void analyze(@NonNull ImageProxy imageProxy) {\r\n    \r\n            Image mediaImage = imageProxy.getImage();\r\n    \r\n            if (mediaImage != null) {\r\n                InputImage image =\r\n                        InputImage.fromMediaImage(mediaImage, rotation);\r\n    // rotation coding in main class according to ML-Kit instructions.\r\n    // https://developers.google.com/ml-kit/vision/barcode-scanning/android.\r\n    \r\n                scanner.process(image)\r\n                        .addOnSuccessListener(barcodes -&gt; {\r\n                            for (Barcode barcode : barcodes) {\r\n                                 codebarres.setText(&quot;&quot;+barcode.getFormat());\r\n                                // codebarres.setText(barcode.getRawValue());\r\n    // codebarres is a TextView in the mainactivity layout.\r\n                            }\r\n                        })\r\n                        .addOnCompleteListener(results -&gt; imageProxy.close());\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Slow detection of large Aztec using MLKit and CameraX","body":"<blockquote>\n<p>Try this. It works well on my Galaxy XCover 5 to read the format\n(4096), but not  the text (getRawValue()) for that format. Don't know\nwhy! No problem with QR-Code and Barcode EAN-13.</p>\n</blockquote>\n<pre><code>@ExperimentalGetImage //Notice: @ExperimentalGetImage.\npublic class BarCodeImageAnalyzer implements ImageAnalysis.Analyzer {\n\n    private final BarcodeScanner scanner;\n\n    public BarCodeImageAnalyzer() {\n\n         scanner = BarcodeScanning.getClient();\n\n    }\n\n    @SuppressLint(&quot;SetTextI18n&quot;)\n    @Override\n    public void analyze(@NonNull ImageProxy imageProxy) {\n\n        Image mediaImage = imageProxy.getImage();\n\n        if (mediaImage != null) {\n            InputImage image =\n                    InputImage.fromMediaImage(mediaImage, rotation);\n// rotation coding in main class according to ML-Kit instructions.\n// https://developers.google.com/ml-kit/vision/barcode-scanning/android.\n\n            scanner.process(image)\n                    .addOnSuccessListener(barcodes -&gt; {\n                        for (Barcode barcode : barcodes) {\n                             codebarres.setText(&quot;&quot;+barcode.getFormat());\n                            // codebarres.setText(barcode.getRawValue());\n// codebarres is a TextView in the mainactivity layout.\n                        }\n                    })\n                    .addOnCompleteListener(results -&gt; imageProxy.close());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27674224,"reputation":1,"user_id":21124393,"display_name":"swemaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675351800,"creation_date":1675268724,"question_id":75313231,"body_markdown":"vision-quickstart detection of Aztec with high density is very slow. Read that increasing input image resolution should speed things up, but I don&#39;t know how to do that in the quickstart example.\r\nI&#39;m evaluating MLKit and some other frameworks for use in my scanner app.\r\n\r\nDoes any on know how to do that?\r\n\r\nTrying to read Aztec on a electronic train ticket from mobile phone screen with MLKit qiuckstart example. Eventually it manages to detect it, but it takes about 10 to 30 seconds. The app is used for scanning Aztec code on train tickets.\r\n\r\nPhones used to scan\r\nGalaxy XCover 5 Android version 13\r\nGalaxy A12 Android version 11\r\n\r\n![Aztec qr-code](https://i.stack.imgur.com/GJk6E.jpg)","title":"Slow detection of large Aztec using MLKit and CameraX","body":"<p>vision-quickstart detection of Aztec with high density is very slow. Read that increasing input image resolution should speed things up, but I don't know how to do that in the quickstart example.\nI'm evaluating MLKit and some other frameworks for use in my scanner app.</p>\n<p>Does any on know how to do that?</p>\n<p>Trying to read Aztec on a electronic train ticket from mobile phone screen with MLKit qiuckstart example. Eventually it manages to detect it, but it takes about 10 to 30 seconds. The app is used for scanning Aztec code on train tickets.</p>\n<p>Phones used to scan\nGalaxy XCover 5 Android version 13\nGalaxy A12 Android version 11</p>\n<p><img src=\"https://i.stack.imgur.com/GJk6E.jpg\" alt=\"Aztec qr-code\" /></p>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1675342521,"post_id":75322979,"comment_id":132910895,"body_markdown":"Your statement doesn&#39;t have parameters, it has string literals containing question marks.","body":"Your statement doesn&#39;t have parameters, it has string literals containing question marks."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1675345776,"post_id":75322979,"comment_id":132912114,"body_markdown":"The parameter index in SQL queries is counting from 1. The error is not related to JSP.","body":"The parameter index in SQL queries is counting from 1. The error is not related to JSP."}],"answers":[{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675340759,"creation_date":1675340759,"answer_id":75323158,"question_id":75322979,"body_markdown":"JDBC will take care of quotes in the query\r\n\r\n    PreparedStatement preparedStatement = \r\n      connection.prepareStatement(&quot;SELECT * from myshop.userlogin WHERE username = ? and password = ? &quot;)) {","title":"Error: Parameter index out of range (1 &gt; number of parameters, which is 0)","body":"<p>JDBC will take care of quotes in the query</p>\n<pre><code>PreparedStatement preparedStatement = \n  connection.prepareStatement(&quot;SELECT * from myshop.userlogin WHERE username = ? and password = ? &quot;)) {\n</code></pre>\n"}],"owner":{"account_id":20002509,"reputation":1,"user_id":14661212,"display_name":"Ronniel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675351727,"creation_date":1675339856,"question_id":75322979,"body_markdown":"I&#39;m making a Login form using JSP + JDBC + Servlet.\r\n\r\nWhenever I tried to login a username a username and password, I get this error:\r\n\r\nSQLState: S1009\r\nError Code: 0\r\nMessage: Parameter index out of range (1 &gt; number of parameters, which is 0) \r\n\r\n```\r\npublic class LoginDao {\r\n\r\n    public boolean validate(LoginBean loginBean) throws ClassNotFoundException {\r\n        boolean status = false;\r\n\r\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\r\n        try (Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/myshop?user=root&quot;, &quot;root&quot;, &quot;12301230&quot;);\r\n\r\n            // Step 2:Create a statement using connection object\r\n            PreparedStatement preparedStatement = connection.prepareStatement(&quot;SELECT * from myshop.userlogin WHERE username = &#39;?&#39; and password = &#39;?&#39; &quot;)) {\r\n            preparedStatement.setString(1, loginBean.getUsername());\r\n            preparedStatement.setString(2, loginBean.getPassword());\r\n\r\n            System.out.println(preparedStatement);\r\n            ResultSet rs = preparedStatement.executeQuery();\r\n            status = rs.next();\r\n\r\n        } catch (SQLException e) {\r\n            // process sql exception\r\n            printSQLException(e);\r\n        }\r\n        return status;\r\n    }\r\n\r\n    private void printSQLException(SQLException ex) {\r\n        for (Throwable e: ex) {\r\n            if (e instanceof SQLException) {\r\n                e.printStackTrace(System.err);\r\n                System.err.println(&quot;SQLState: &quot; + ((SQLException) e).getSQLState());\r\n                System.err.println(&quot;Error Code: &quot; + ((SQLException) e).getErrorCode());\r\n                System.err.println(&quot;Message: &quot; + e.getMessage());\r\n                Throwable t = ex.getCause();\r\n                while (t != null) {\r\n                    System.out.println(&quot;Cause: &quot; + t);\r\n                    t = t.getCause();\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI actually haven&#39;t tried that much other than restarting my database and creating a new table. I&#39;m actually new to this language and I only got this source code on a tutorial. ","title":"Error: Parameter index out of range (1 &gt; number of parameters, which is 0)","body":"<p>I'm making a Login form using JSP + JDBC + Servlet.</p>\n<p>Whenever I tried to login a username a username and password, I get this error:</p>\n<p>SQLState: S1009\nError Code: 0\nMessage: Parameter index out of range (1 &gt; number of parameters, which is 0)</p>\n<pre><code>public class LoginDao {\n\n    public boolean validate(LoginBean loginBean) throws ClassNotFoundException {\n        boolean status = false;\n\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n\n        try (Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/myshop?user=root&quot;, &quot;root&quot;, &quot;12301230&quot;);\n\n            // Step 2:Create a statement using connection object\n            PreparedStatement preparedStatement = connection.prepareStatement(&quot;SELECT * from myshop.userlogin WHERE username = '?' and password = '?' &quot;)) {\n            preparedStatement.setString(1, loginBean.getUsername());\n            preparedStatement.setString(2, loginBean.getPassword());\n\n            System.out.println(preparedStatement);\n            ResultSet rs = preparedStatement.executeQuery();\n            status = rs.next();\n\n        } catch (SQLException e) {\n            // process sql exception\n            printSQLException(e);\n        }\n        return status;\n    }\n\n    private void printSQLException(SQLException ex) {\n        for (Throwable e: ex) {\n            if (e instanceof SQLException) {\n                e.printStackTrace(System.err);\n                System.err.println(&quot;SQLState: &quot; + ((SQLException) e).getSQLState());\n                System.err.println(&quot;Error Code: &quot; + ((SQLException) e).getErrorCode());\n                System.err.println(&quot;Message: &quot; + e.getMessage());\n                Throwable t = ex.getCause();\n                while (t != null) {\n                    System.out.println(&quot;Cause: &quot; + t);\n                    t = t.getCause();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>I actually haven't tried that much other than restarting my database and creating a new table. I'm actually new to this language and I only got this source code on a tutorial.</p>\n"},{"tags":["java","java-module","java-platform-module-system"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1675330820,"post_id":75321058,"comment_id":132906971,"body_markdown":"Your use of `-cp` is wrong if you want to compile code in normal-java-packages as it specifies the class path (i.e. already compiled code). Also, Java expects you to specify individual classes or wildcards to compile sources, not just a directory name.","body":"Your use of <code>-cp</code> is wrong if you want to compile code in normal-java-packages as it specifies the class path (i.e. already compiled code). Also, Java expects you to specify individual classes or wildcards to compile sources, not just a directory name."}],"answers":[{"tags":[],"owner":{"account_id":962360,"reputation":2794,"user_id":986437,"accept_rate":53,"display_name":"GionJh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675351721,"creation_date":1675351721,"answer_id":75325383,"question_id":75321058,"body_markdown":"Ok, so I will answer my own question as I found out what the issue is:\r\n\r\nthe command to use is:\r\n```\r\njavac -p simple-modules -d output --add-modules ALL-MODULE-PATH classpath_entry/com/myuser/modules/main/MainApp.java\r\n\r\n```\r\n\r\nI still find a bit redundant the `--add-modules ALL-MODULE-PATH`\r\nThe JRE modules are loaded fine without it, I don&#39;t see why we need it even when we are already specifying the user defined modules in the module path `-p` already.","title":"Compile non-modular code that depends on modules","body":"<p>Ok, so I will answer my own question as I found out what the issue is:</p>\n<p>the command to use is:</p>\n<pre><code>javac -p simple-modules -d output --add-modules ALL-MODULE-PATH classpath_entry/com/myuser/modules/main/MainApp.java\n\n</code></pre>\n<p>I still find a bit redundant the <code>--add-modules ALL-MODULE-PATH</code>\nThe JRE modules are loaded fine without it, I don't see why we need it even when we are already specifying the user defined modules in the module path <code>-p</code> already.</p>\n"}],"owner":{"account_id":962360,"reputation":2794,"user_id":986437,"accept_rate":53,"display_name":"GionJh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75325383,"answer_count":1,"score":0,"last_activity_date":1675351721,"creation_date":1675330146,"question_id":75321058,"body_markdown":"I have a folder with two compiled modules `simple-modules/module1` and  `simple-modules/module2` these contained exploded code, so not its jar and both modules contain a `module-info.java`\r\n\r\nI have other non-modular **source** code in folder `normal-java-packages` that uses the API exposed by the mentioned modules.\r\n\r\nSo, as a first step I would like to compile that.\r\n\r\nReading: https://openjdk.org/projects/jigsaw/spec/sotms/#module-artifacts\r\n\r\nAs far as I understand, the code in `normal-java-packages` should be part of the classpath, so it will be included in the `unnamedmodule`, and it will able to access all JRE modules as well as my user-defined modules `simple-modules/module1` and `simple-modules/module2`.\r\n\r\nI am trying to run:\r\n```bash\r\njavac -p simple-modules -d output  -cp normal-java-packages\r\n```\r\n\r\nHowever, it looks like something is off as I get:\r\n`error: no source files`\r\n\r\nAny suggestions or pointers on what may be the issue here?\r\n\r\n**EDIT**:\r\n\r\nAlso tried this command as suggested:\r\n```\r\njavac -p simple-modules -d output classpath_entry/com/myuser/modules/main/MainApp.java\r\n```\r\n\r\nGetting these errors:\r\n```\r\nclasspath_entry/com/myuser/modules/main/MainApp.java:3: error: package com.myuser.hello is not visible\r\nimport com.myuser.hello.HelloModules;\r\n                   ^\r\n  (package com.myuser.hello is declared in module hellomodule, which is not in the module graph)\r\nclasspath_entry/com/myuser/modules/main/MainApp.java:4: error: package com.myuser.greetings is not visible\r\nimport com.myuser.greetings.EnglishGreeting;\r\n                   ^\r\n  (package com.myuser.greetings is declared in module hellomodule, which is not in the module graph)\r\nclasspath_entry/com/myuser/modules/main/MainApp.java:5: error: package com.myuser.other is not visible\r\nimport com.myuser.other.Other;\r\n                   ^\r\n  (package com.myuser.other is declared in module greetings, which is not in the module graph)\r\n3 errors\r\n```\r\n\r\nSo it looks like the compiled exploded modules in `simple-modules` are not visible, any idea why ?\r\n\r\n","title":"Compile non-modular code that depends on modules","body":"<p>I have a folder with two compiled modules <code>simple-modules/module1</code> and  <code>simple-modules/module2</code> these contained exploded code, so not its jar and both modules contain a <code>module-info.java</code></p>\n<p>I have other non-modular <strong>source</strong> code in folder <code>normal-java-packages</code> that uses the API exposed by the mentioned modules.</p>\n<p>So, as a first step I would like to compile that.</p>\n<p>Reading: <a href=\"https://openjdk.org/projects/jigsaw/spec/sotms/#module-artifacts\" rel=\"nofollow noreferrer\">https://openjdk.org/projects/jigsaw/spec/sotms/#module-artifacts</a></p>\n<p>As far as I understand, the code in <code>normal-java-packages</code> should be part of the classpath, so it will be included in the <code>unnamedmodule</code>, and it will able to access all JRE modules as well as my user-defined modules <code>simple-modules/module1</code> and <code>simple-modules/module2</code>.</p>\n<p>I am trying to run:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>javac -p simple-modules -d output  -cp normal-java-packages\n</code></pre>\n<p>However, it looks like something is off as I get:\n<code>error: no source files</code></p>\n<p>Any suggestions or pointers on what may be the issue here?</p>\n<p><strong>EDIT</strong>:</p>\n<p>Also tried this command as suggested:</p>\n<pre><code>javac -p simple-modules -d output classpath_entry/com/myuser/modules/main/MainApp.java\n</code></pre>\n<p>Getting these errors:</p>\n<pre><code>classpath_entry/com/myuser/modules/main/MainApp.java:3: error: package com.myuser.hello is not visible\nimport com.myuser.hello.HelloModules;\n                   ^\n  (package com.myuser.hello is declared in module hellomodule, which is not in the module graph)\nclasspath_entry/com/myuser/modules/main/MainApp.java:4: error: package com.myuser.greetings is not visible\nimport com.myuser.greetings.EnglishGreeting;\n                   ^\n  (package com.myuser.greetings is declared in module hellomodule, which is not in the module graph)\nclasspath_entry/com/myuser/modules/main/MainApp.java:5: error: package com.myuser.other is not visible\nimport com.myuser.other.Other;\n                   ^\n  (package com.myuser.other is declared in module greetings, which is not in the module graph)\n3 errors\n</code></pre>\n<p>So it looks like the compiled exploded modules in <code>simple-modules</code> are not visible, any idea why ?</p>\n"},{"tags":["java","selenium","webdriver","compare"],"comments":[{"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1675351690,"post_id":75324922,"comment_id":132914487,"body_markdown":"Are you sure the XPath mentioned in your question locates the web elements `Element 1` and `Element 2`? It looks like an image to me. If its an image, you may not be able to achieve what you are trying to. You may have to use OCR tools to read the image.","body":"Are you sure the XPath mentioned in your question locates the web elements <code>Element 1</code> and <code>Element 2</code>? It looks like an image to me. If its an image, you may not be able to achieve what you are trying to. You may have to use OCR tools to read the image."},{"owner":{"account_id":27479156,"reputation":13,"user_id":20966566,"display_name":"Karen M"},"score":0,"creation_date":1675351964,"post_id":75324922,"comment_id":132914580,"body_markdown":"@Shawn Its webelements not image.","body":"@Shawn Its webelements not image."},{"owner":{"account_id":12411624,"reputation":5567,"user_id":9043475,"display_name":"Rajagopalan"},"score":0,"creation_date":1675352020,"post_id":75324922,"comment_id":132914609,"body_markdown":"@Shawn\nHe is displaying to you what is on his website in picture style.","body":"@Shawn He is displaying to you what is on his website in picture style."}],"answers":[{"tags":[],"owner":{"account_id":12411624,"reputation":5567,"user_id":9043475,"display_name":"Rajagopalan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675351183,"creation_date":1675351183,"answer_id":75325270,"question_id":75324922,"body_markdown":"First, you must determine the width of both elements. So, let&#39;s use this code to determine the width of both elements. \r\n\r\n    WebDriver driver = new ChromeDriver();\r\n    driver.get(&quot;your website URL&quot;);\r\n    \r\n    WebElement element1 = driver.findElement(By.xpath(&quot;(//div[@class=&#39;site&#39;])[1]&quot;));\r\n    int width1 = element1.getSize().getWidth();\r\n    \r\n    WebElement element2 = driver.findElement(By.xpath(&quot;(//div[@class=&#39;site&#39;])[2]&quot;));\r\n    int width2 = element2.getSize().getWidth();\r\n\r\nOnce you&#39;ve determined the width of both elements, you should perform the shrink operation here.\r\nYou must obtain the width of both elements again after the shirks operation. \r\n\r\nSo let us use this code\r\n\r\n    int newWidth1 = element1.getSize().getWidth();\r\n    int newWidth2 = element2.getSize().getWidth();\r\n\r\nUsing the formulas &quot;width1 &gt; newWidth1&quot; to determine whether the first element&#39;s new width is smaller than the original width and &quot;newWidth2 == width2 + (width1 - newWidth1)&quot; to determine whether the second element&#39;s new width has increased, we can determine that element 2 has taken up the space previously occupied by element 1.\r\nSo let&#39;s put the following in the if condition. \r\n\r\n    if (width1 &gt; newWidth1 &amp;&amp; newWidth2 == width2 + (width1 - newWidth1)) {\r\n      System.out.println(&quot;Element 2 occupied the space left by Element 1&quot;);\r\n    } else {\r\n      System.out.println(&quot;Element 2 did not occupy the space left by Element 1&quot;);\r\n    }","title":"How to validate whether Element 2 occupied space left by the Element 1 using Selenium JAVA?","body":"<p>First, you must determine the width of both elements. So, let's use this code to determine the width of both elements.</p>\n<pre><code>WebDriver driver = new ChromeDriver();\ndriver.get(&quot;your website URL&quot;);\n\nWebElement element1 = driver.findElement(By.xpath(&quot;(//div[@class='site'])[1]&quot;));\nint width1 = element1.getSize().getWidth();\n\nWebElement element2 = driver.findElement(By.xpath(&quot;(//div[@class='site'])[2]&quot;));\nint width2 = element2.getSize().getWidth();\n</code></pre>\n<p>Once you've determined the width of both elements, you should perform the shrink operation here.\nYou must obtain the width of both elements again after the shirks operation.</p>\n<p>So let us use this code</p>\n<pre><code>int newWidth1 = element1.getSize().getWidth();\nint newWidth2 = element2.getSize().getWidth();\n</code></pre>\n<p>Using the formulas &quot;width1 &gt; newWidth1&quot; to determine whether the first element's new width is smaller than the original width and &quot;newWidth2 == width2 + (width1 - newWidth1)&quot; to determine whether the second element's new width has increased, we can determine that element 2 has taken up the space previously occupied by element 1.\nSo let's put the following in the if condition.</p>\n<pre><code>if (width1 &gt; newWidth1 &amp;&amp; newWidth2 == width2 + (width1 - newWidth1)) {\n  System.out.println(&quot;Element 2 occupied the space left by Element 1&quot;);\n} else {\n  System.out.println(&quot;Element 2 did not occupy the space left by Element 1&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":27479156,"reputation":13,"user_id":20966566,"display_name":"Karen M"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675351655,"creation_date":1675349470,"question_id":75324922,"body_markdown":"I got two box type elements : Element 1 and Element 2.\r\n\r\nIf Element 1 gets shrink then following element i.e Element 2 should occupy \r\nleft over space. Here Element 2 length is constant.\r\n\r\nElement 1 xpath is `(//div[@class=&#39;site&#39;])[1]`\r\n\r\nElement 2 xpath is  `(//div[@class=&#39;site&#39;])[2]`\r\n\r\n\r\n\r\n\r\nHow to validate whether Element 2 occupied space left by the Element 1?\r\nNote: height is constant.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/tonKM.jpg\r\n\r\nHere is the URL: https://i.stack.imgur.com/DAINR.jpg","title":"How to validate whether Element 2 occupied space left by the Element 1 using Selenium JAVA?","body":"<p>I got two box type elements : Element 1 and Element 2.</p>\n<p>If Element 1 gets shrink then following element i.e Element 2 should occupy\nleft over space. Here Element 2 length is constant.</p>\n<p>Element 1 xpath is <code>(//div[@class='site'])[1]</code></p>\n<p>Element 2 xpath is  <code>(//div[@class='site'])[2]</code></p>\n<p>How to validate whether Element 2 occupied space left by the Element 1?\nNote: height is constant.</p>\n<p><a href=\"https://i.stack.imgur.com/tonKM.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tonKM.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Here is the URL: <a href=\"https://i.stack.imgur.com/DAINR.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/DAINR.jpg</a></p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9313,"page":679,"page_size":100}
